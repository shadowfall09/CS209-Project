{"items":[{"tags":["java","winapi","com","jna"],"comments":[{"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1642795198,"post_id":70805970,"comment_id":125175759,"body_markdown":"The original question edged on asking for recommendations to off-site resources, which is off-topic here. I&#39;ve edited your question to more clearly state the on-topic programming question you were asking.","body":"The original question edged on asking for recommendations to off-site resources, which is off-topic here. I&#39;ve edited your question to more clearly state the on-topic programming question you were asking."},{"owner":{"account_id":16435004,"reputation":3421,"user_id":11872808,"display_name":"Jeaninez - MSFT"},"score":0,"creation_date":1642988508,"post_id":70805970,"comment_id":125213051,"body_markdown":"@Bill Evans I suggest you could refer to the Doc: [Calling a WMI Method](https://learn.microsoft.com/en-us/windows/win32/wmisdk/calling-a-method)","body":"@Bill Evans I suggest you could refer to the Doc: <a href=\"https://learn.microsoft.com/en-us/windows/win32/wmisdk/calling-a-method\" rel=\"nofollow noreferrer\">Calling a WMI Method</a>"}],"answers":[{"tags":[],"owner":{"account_id":46402,"reputation":7267,"user_id":137071,"accept_rate":86,"display_name":"Remko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642793852,"creation_date":1642793852,"answer_id":70806784,"question_id":70805970,"body_markdown":"You can send an [FSCTL_IS_VOLUME_DIRTY][1] message using [DeviceIoControl][2]. \r\n\r\n[Here][3] is and example of calling DeviceIoControl.\r\n\r\nOr you can use WMI, both the the [Win32_Volume][4] and the [Win32_LogicalDisk][5] class expose a `DirtyBitSet` property. However WMI is really inteded for scripting languages and is not preferred because of it&#39;s incredible performance overhead.\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/windows-hardware/drivers/ifs/fsctl-is-volume-dirty\r\n  [2]: https://learn.microsoft.com/en-us/windows/win32/api/ioapiset/nf-ioapiset-deviceiocontrol\r\n  [3]: https://learn.microsoft.com/en-us/windows/win32/devio/calling-deviceiocontrol\r\n  [4]: https://learn.microsoft.com/en-us/previous-versions/windows/desktop/vdswmi/win32-volume\r\n  [5]: https://learn.microsoft.com/en-us/windows/win32/cimwin32prov/win32-logicaldisk","title":"Checking filesystem integrity of USB drive in Windows Java","body":"<p>You can send an <a href=\"https://learn.microsoft.com/en-us/windows-hardware/drivers/ifs/fsctl-is-volume-dirty\" rel=\"nofollow noreferrer\">FSCTL_IS_VOLUME_DIRTY</a> message using <a href=\"https://learn.microsoft.com/en-us/windows/win32/api/ioapiset/nf-ioapiset-deviceiocontrol\" rel=\"nofollow noreferrer\">DeviceIoControl</a>.</p>\n<p><a href=\"https://learn.microsoft.com/en-us/windows/win32/devio/calling-deviceiocontrol\" rel=\"nofollow noreferrer\">Here</a> is and example of calling DeviceIoControl.</p>\n<p>Or you can use WMI, both the the <a href=\"https://learn.microsoft.com/en-us/previous-versions/windows/desktop/vdswmi/win32-volume\" rel=\"nofollow noreferrer\">Win32_Volume</a> and the <a href=\"https://learn.microsoft.com/en-us/windows/win32/cimwin32prov/win32-logicaldisk\" rel=\"nofollow noreferrer\">Win32_LogicalDisk</a> class expose a <code>DirtyBitSet</code> property. However WMI is really inteded for scripting languages and is not preferred because of it's incredible performance overhead.</p>\n"},{"tags":[],"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642795439,"creation_date":1642794378,"answer_id":70806883,"question_id":70805970,"body_markdown":"The [Win32_Volume documentation][1] with the `Chkdsk` method you cite indicates it is a legacy API, but has not yet been deprecated so you could use it.\r\n\r\nThe current Storage Management API equivalent is [MSFT_Volume][2].  It has a `Diagnose` method that looks to perform similar functionality.\r\n\r\nTo execute a method on a WMI object via COM you need to obtain a pointer to a `WbemServices` object.  It has an `ExecMethod` method you can invoke that does what you want for WMI classes.  The code to retrieve this object is in JNA&#39;s WbemcliUtil class as a return type from the [connectServer()][3] method.  \r\n\r\nYou will also need the full path to the Class Object; this is available by querying WMI for the `__PATH`, similarly to how you&#39;d query any other field.  That same `WbemcliUtil` class has a `WmiQuery` class you can instantiate to execute the query, collecting that path from the `WmiResult`.  See the JNA test classes for examples on using these.\r\n\r\nFinally, you can execute the WMI method.  The code below will accomplish it for String properties, e.g., the [`MSFT_StorageDiagnoseResult`][4] object you&#39;d get from `MSFT_Volume`&#39;s `Diagnose` method.  You&#39;d have to treat other return types differently.\r\n```java\r\n/**\r\n * Convenience method for executing WMI methods without any input parameters\r\n * \r\n * @param svc\r\n *            The WbemServices object\r\n * @param clsObj\r\n *            The full path to the class object to execute (result of WMI\r\n *            &quot;__PATH&quot; query)\r\n * @param method\r\n *            The name of the method to execute\r\n * @param properties\r\n *            One or more properties returned as a result of the query\r\n * @return An array of the properties returned from the method\r\n */\r\nprivate static String[] execMethod(WbemServices svc, String clsObj, String method, String... properties) {\r\n    List&lt;String&gt; result = new ArrayList&lt;&gt;();\r\n    PointerByReference ppOutParams = new PointerByReference();\r\n    HRESULT hres = svc.ExecMethod(new BSTR(clsObj), new BSTR(method), new NativeLong(0L), null, null, ppOutParams,\r\n            null);\r\n    if (COMUtils.FAILED(hres)) {\r\n        return new String[0];\r\n    }\r\n    WbemClassObject obj = new WbemClassObject(ppOutParams.getValue());\r\n    VARIANT.ByReference vtProp = new VARIANT.ByReference();\r\n    for (String prop : properties) {\r\n        hres = obj.Get(new BSTR(prop), new NativeLong(0L), vtProp, null, null);\r\n        if (!COMUtils.FAILED(hres)) {\r\n            result.add(vtProp.getValue() == null ? &quot;&quot; : vtProp.stringValue());\r\n        }\r\n    }\r\n    obj.Release();\r\n    return result.toArray(new String[result.size()]);\r\n}\r\n```\r\n\r\nA more complete example of querying a COM object, where I extracted the above code, is in [this utility class](https://github.com/oshi/oshi/blob/731900678b305898ac5adeb7f036a551e5f03713/oshi-core/src/main/java/oshi/util/platform/windows/WmiUtil.java) which queries the `GetOwner()` and `GetOwnerSid()` methods on the `Win32_Process` object.  It&#39;s legacy code from before I contributed the `WbemCli` class to JNA, so you&#39;ll have to adapt some of it, but it should be a good starting point.\r\n\r\n  [1]: https://learn.microsoft.com/en-us/previous-versions/windows/desktop/legacy/aa394515(v=vs.85)\r\n  [2]: https://learn.microsoft.com/en-us/previous-versions/windows/desktop/stormgmt/msft-volume\r\n  [3]: http://java-native-access.github.io/jna/5.10.0/javadoc/com/sun/jna/platform/win32/COM/WbemcliUtil.html#connectServer-java.lang.String-\r\n  [4]: https://learn.microsoft.com/en-us/previous-versions/windows/desktop/stormgmt/msft-storagediagnoseresult","title":"Checking filesystem integrity of USB drive in Windows Java","body":"<p>The <a href=\"https://learn.microsoft.com/en-us/previous-versions/windows/desktop/legacy/aa394515(v=vs.85)\" rel=\"nofollow noreferrer\">Win32_Volume documentation</a> with the <code>Chkdsk</code> method you cite indicates it is a legacy API, but has not yet been deprecated so you could use it.</p>\n<p>The current Storage Management API equivalent is <a href=\"https://learn.microsoft.com/en-us/previous-versions/windows/desktop/stormgmt/msft-volume\" rel=\"nofollow noreferrer\">MSFT_Volume</a>.  It has a <code>Diagnose</code> method that looks to perform similar functionality.</p>\n<p>To execute a method on a WMI object via COM you need to obtain a pointer to a <code>WbemServices</code> object.  It has an <code>ExecMethod</code> method you can invoke that does what you want for WMI classes.  The code to retrieve this object is in JNA's WbemcliUtil class as a return type from the <a href=\"http://java-native-access.github.io/jna/5.10.0/javadoc/com/sun/jna/platform/win32/COM/WbemcliUtil.html#connectServer-java.lang.String-\" rel=\"nofollow noreferrer\">connectServer()</a> method.</p>\n<p>You will also need the full path to the Class Object; this is available by querying WMI for the <code>__PATH</code>, similarly to how you'd query any other field.  That same <code>WbemcliUtil</code> class has a <code>WmiQuery</code> class you can instantiate to execute the query, collecting that path from the <code>WmiResult</code>.  See the JNA test classes for examples on using these.</p>\n<p>Finally, you can execute the WMI method.  The code below will accomplish it for String properties, e.g., the <a href=\"https://learn.microsoft.com/en-us/previous-versions/windows/desktop/stormgmt/msft-storagediagnoseresult\" rel=\"nofollow noreferrer\"><code>MSFT_StorageDiagnoseResult</code></a> object you'd get from <code>MSFT_Volume</code>'s <code>Diagnose</code> method.  You'd have to treat other return types differently.</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Convenience method for executing WMI methods without any input parameters\n * \n * @param svc\n *            The WbemServices object\n * @param clsObj\n *            The full path to the class object to execute (result of WMI\n *            &quot;__PATH&quot; query)\n * @param method\n *            The name of the method to execute\n * @param properties\n *            One or more properties returned as a result of the query\n * @return An array of the properties returned from the method\n */\nprivate static String[] execMethod(WbemServices svc, String clsObj, String method, String... properties) {\n    List&lt;String&gt; result = new ArrayList&lt;&gt;();\n    PointerByReference ppOutParams = new PointerByReference();\n    HRESULT hres = svc.ExecMethod(new BSTR(clsObj), new BSTR(method), new NativeLong(0L), null, null, ppOutParams,\n            null);\n    if (COMUtils.FAILED(hres)) {\n        return new String[0];\n    }\n    WbemClassObject obj = new WbemClassObject(ppOutParams.getValue());\n    VARIANT.ByReference vtProp = new VARIANT.ByReference();\n    for (String prop : properties) {\n        hres = obj.Get(new BSTR(prop), new NativeLong(0L), vtProp, null, null);\n        if (!COMUtils.FAILED(hres)) {\n            result.add(vtProp.getValue() == null ? &quot;&quot; : vtProp.stringValue());\n        }\n    }\n    obj.Release();\n    return result.toArray(new String[result.size()]);\n}\n</code></pre>\n<p>A more complete example of querying a COM object, where I extracted the above code, is in <a href=\"https://github.com/oshi/oshi/blob/731900678b305898ac5adeb7f036a551e5f03713/oshi-core/src/main/java/oshi/util/platform/windows/WmiUtil.java\" rel=\"nofollow noreferrer\">this utility class</a> which queries the <code>GetOwner()</code> and <code>GetOwnerSid()</code> methods on the <code>Win32_Process</code> object.  It's legacy code from before I contributed the <code>WbemCli</code> class to JNA, so you'll have to adapt some of it, but it should be a good starting point.</p>\n"}],"owner":{"account_id":385215,"reputation":71,"user_id":3854999,"display_name":"Bill Evans"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1642795439,"creation_date":1642789507,"question_id":70805970,"body_markdown":"Our application involves an external device that mounts as a USB mass storage device. I need to be able to check the integrity of that USB mass storage device from a Java application, running on Windows.\r\n\r\nCurrently I execute &quot;chkdsk&quot;, which works fine unless the user&#39;s computer isn&#39;t configured for English. (Because I need to examine the chkdsk output to determine the state of the drive.) And, surprise, surprise, not every computer in the world is configured for English!\r\n\r\nThere is a Win32 class called &quot;Win32_Volume&quot; with a method called &quot;Chkdsk&quot; that is just what I&#39;m looking for.\r\n\r\nI need to call it from Java, and JNA seems the way to go. \r\n\r\nHow can I use COM to call a method from a Win32 WMI class?","title":"Checking filesystem integrity of USB drive in Windows Java","body":"<p>Our application involves an external device that mounts as a USB mass storage device. I need to be able to check the integrity of that USB mass storage device from a Java application, running on Windows.</p>\n<p>Currently I execute &quot;chkdsk&quot;, which works fine unless the user's computer isn't configured for English. (Because I need to examine the chkdsk output to determine the state of the drive.) And, surprise, surprise, not every computer in the world is configured for English!</p>\n<p>There is a Win32 class called &quot;Win32_Volume&quot; with a method called &quot;Chkdsk&quot; that is just what I'm looking for.</p>\n<p>I need to call it from Java, and JNA seems the way to go.</p>\n<p>How can I use COM to call a method from a Win32 WMI class?</p>\n"},{"tags":["java","maven","java-8","proguard","java-11"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1642816381,"post_id":70806949,"comment_id":125180422,"body_markdown":"First of all, make sure you are using Proguard 6.1 or later.  Second replace the above with the equivalent stuff in the `&lt;java.home&gt;/jmods` directory.","body":"First of all, make sure you are using Proguard 6.1 or later.  Second replace the above with the equivalent stuff in the <code>&lt;java.home&gt;&#47;jmods</code> directory."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1642816701,"post_id":70806949,"comment_id":125180450,"body_markdown":"Also ... since you are using Maven, take a look at the https://github.com/wvengen/proguard-maven-plugin and https://github.com/wvengen/proguard-maven-plugin/issues/106","body":"Also ... since you are using Maven, take a look at the <a href=\"https://github.com/wvengen/proguard-maven-plugin\" rel=\"nofollow noreferrer\">github.com/wvengen/proguard-maven-plugin</a> and <a href=\"https://github.com/wvengen/proguard-maven-plugin/issues/106\" rel=\"nofollow noreferrer\">github.com/wvengen/proguard-maven-plugin/issues/106</a>"},{"owner":{"account_id":17331357,"reputation":73,"user_id":12554367,"display_name":"Pantelisy"},"score":0,"creation_date":1642849875,"post_id":70806949,"comment_id":125185043,"body_markdown":"Thank you for the reply I will check it out!","body":"Thank you for the reply I will check it out!"},{"owner":{"account_id":17331357,"reputation":73,"user_id":12554367,"display_name":"Pantelisy"},"score":0,"creation_date":1649273765,"post_id":70806949,"comment_id":126837127,"body_markdown":"@StephenC Thank you for your help! In did all i needed was to remove all those jars and replace them with `-libraryjars &lt;java.home&gt;/jmods` . The version i have in my maven-proguard-plugin was already the 6.1.1. Yet again i updated to the latest version.","body":"@StephenC Thank you for your help! In did all i needed was to remove all those jars and replace them with <code>-libraryjars &lt;java.home&gt;&#47;jmods</code> . The version i have in my maven-proguard-plugin was already the 6.1.1. Yet again i updated to the latest version."}],"owner":{"account_id":17331357,"reputation":73,"user_id":12554367,"display_name":"Pantelisy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1590,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642794721,"creation_date":1642794721,"question_id":70806949,"body_markdown":"I am currently using Java 8 and i would like to migrate to java 11 or java 17. As i am using proguard in my java project i am facing an issue during maven build as some libraries which i am using in proguard have been deleted from java 11. Those libraries are:\r\n\r\n```\r\n-libraryjars &lt;java.home&gt;/lib/rt.jar\r\n-libraryjars &lt;java.home&gt;/lib/jsse.jar\r\n-libraryjars &lt;java.home&gt;/lib/jce.jar\r\n```\r\n\r\nAny suggestion on which libraryjars i should use in order to replicate the same behavior?\r\n\r\nThank you everyone for your time!\r\n","title":"Proguard migration to Java 11","body":"<p>I am currently using Java 8 and i would like to migrate to java 11 or java 17. As i am using proguard in my java project i am facing an issue during maven build as some libraries which i am using in proguard have been deleted from java 11. Those libraries are:</p>\n<pre><code>-libraryjars &lt;java.home&gt;/lib/rt.jar\n-libraryjars &lt;java.home&gt;/lib/jsse.jar\n-libraryjars &lt;java.home&gt;/lib/jce.jar\n</code></pre>\n<p>Any suggestion on which libraryjars i should use in order to replicate the same behavior?</p>\n<p>Thank you everyone for your time!</p>\n"},{"tags":["java","csv","data-cleaning"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1642791658,"post_id":70806307,"comment_id":125174694,"body_markdown":"All strings contain the empty string. What does an &quot;empty cell&quot; actually look like in your CSV file? Incidentally, I would strongly advise using a proper CSV library to parse CSV files.","body":"All strings contain the empty string. What does an &quot;empty cell&quot; actually look like in your CSV file? Incidentally, I would strongly advise using a proper CSV library to parse CSV files."},{"owner":{"account_id":19741556,"reputation":1528,"user_id":14454875,"display_name":"TimeToCode"},"score":0,"creation_date":1642791854,"post_id":70806307,"comment_id":125174752,"body_markdown":"I Uploaded the dataset format, pleasee check","body":"I Uploaded the dataset format, pleasee check"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1642792205,"post_id":70806307,"comment_id":125174856,"body_markdown":"Is the data space delimited? Tab delimited? It definitely isn&#39;t comma separated.","body":"Is the data space delimited? Tab delimited? It definitely isn&#39;t comma separated."},{"owner":{"account_id":19741556,"reputation":1528,"user_id":14454875,"display_name":"TimeToCode"},"score":0,"creation_date":1642792978,"post_id":70806307,"comment_id":125175116,"body_markdown":"please check the excel file image i uploaded","body":"please check the excel file image i uploaded"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642793801,"creation_date":1642792050,"answer_id":70806472,"question_id":70806307,"body_markdown":"Condition **!line.contains(&quot;&quot;)** - doesn&#39;t make sence because every string contains empty string.\r\n\r\n\r\n\r\n**General suggestions:**\r\n\r\n* don&#39;t hard code file-path, code must be reusable;\r\n* use try with resources;\r\n* camel-case names.\r\n\r\n```\r\npublic class DataReader {\r\n    public static void main(String[] args) {\r\n        new DataReader().readData(&quot;src\\\\abc.csv&quot;);\r\n    }\r\n\r\n    public void readData(String filePath) {\r\n        try(BufferedReader br = new BufferedReader(new FileReader(filePath))) {\r\n            HashSet&lt;String&gt; lines = new HashSet&lt;&gt;();\r\n            String line = null;\r\n            while ((line = br.readLine()) != null) {\r\n                if(!line.contains(&quot;NaN&quot;)) {\r\n                    for (String cell: line.split(&quot;,&quot;)) {\r\n                        if (!cell.isBlank()&amp;&amp;lines.add(cell)) {\r\n                            System.out.print(cell + &quot; &quot;);\r\n                        }\r\n                    }\r\n                }\r\n                System.out.println();\r\n            }\r\n        }  catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```","title":"How to remove row which contains blank cell from csv file in Java","body":"<p>Condition <strong>!line.contains(&quot;&quot;)</strong> - doesn't make sence because every string contains empty string.</p>\n<p><strong>General suggestions:</strong></p>\n<ul>\n<li>don't hard code file-path, code must be reusable;</li>\n<li>use try with resources;</li>\n<li>camel-case names.</li>\n</ul>\n<pre><code>public class DataReader {\n    public static void main(String[] args) {\n        new DataReader().readData(&quot;src\\\\abc.csv&quot;);\n    }\n\n    public void readData(String filePath) {\n        try(BufferedReader br = new BufferedReader(new FileReader(filePath))) {\n            HashSet&lt;String&gt; lines = new HashSet&lt;&gt;();\n            String line = null;\n            while ((line = br.readLine()) != null) {\n                if(!line.contains(&quot;NaN&quot;)) {\n                    for (String cell: line.split(&quot;,&quot;)) {\n                        if (!cell.isBlank()&amp;&amp;lines.add(cell)) {\n                            System.out.print(cell + &quot; &quot;);\n                        }\n                    }\n                }\n                System.out.println();\n            }\n        }  catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642794457,"creation_date":1642794457,"answer_id":70806900,"question_id":70806307,"body_markdown":"Seems to me this is a pretty easy problem to solve. Given a CSV file with an empty row\r\n\r\n```\r\nfoo,bar,baz\r\n1,One,123\r\n,,\r\n2,Two,456\r\n3,Three,789\r\n```\r\nYou can read the lines and define an empty line as one which contains empty strings separated by commas. You could read the contents of the file, store the populated lines into a string buffer, and then save the contents of the buffer once the empty lines are extracted out. The code below accomplishes this:\r\n```\r\npublic static void main(String[] args) throws IOException {\r\n     String file =&quot;test.csv&quot;;\r\n     BufferedReader reader = new BufferedReader(new FileReader(file));\r\n     String line = null;\r\n     StringBuilder sbuff = new StringBuilder();\r\n     while ((line = reader.readLine()) != null) {\r\n    \t String[] tokens = line.split(&quot;,&quot;);\r\n    \t if (containsText(tokens)) {\r\n\t    \t sbuff.append(line + &quot;\\n&quot;);\r\n    \t }\r\n     }\r\n     reader.close();\r\n     System.out.println(sbuff.toString());\r\n     // save file here\r\n}\r\n\t\r\npublic static boolean containsText(String[] tokens) {\r\n\tfor (String token: tokens) {\r\n\t\tif (token.length() &gt; 0)\r\n\t\t\treturn true;\r\n\t}\r\n\treturn false;\r\n}\r\n```\r\n\r\nAfter running the code, the output is:\r\n```\r\nfoo,bar,baz\r\n1,One,123\r\n2,Two,456\r\n3,Three,789\r\n```\r\n\r\nThis same code can be used to determine if a cell is empty with a simple method:\r\n```\r\npublic static boolean isCellEmpty(String[] tokens) {\r\n\tfor (String token: tokens) {\r\n\t\tif (token.isBlank())\r\n\t\t\treturn true;\r\n\t}\r\n\treturn false;\r\n}\r\n```\r\n","title":"How to remove row which contains blank cell from csv file in Java","body":"<p>Seems to me this is a pretty easy problem to solve. Given a CSV file with an empty row</p>\n<pre><code>foo,bar,baz\n1,One,123\n,,\n2,Two,456\n3,Three,789\n</code></pre>\n<p>You can read the lines and define an empty line as one which contains empty strings separated by commas. You could read the contents of the file, store the populated lines into a string buffer, and then save the contents of the buffer once the empty lines are extracted out. The code below accomplishes this:</p>\n<pre><code>public static void main(String[] args) throws IOException {\n     String file =&quot;test.csv&quot;;\n     BufferedReader reader = new BufferedReader(new FileReader(file));\n     String line = null;\n     StringBuilder sbuff = new StringBuilder();\n     while ((line = reader.readLine()) != null) {\n         String[] tokens = line.split(&quot;,&quot;);\n         if (containsText(tokens)) {\n             sbuff.append(line + &quot;\\n&quot;);\n         }\n     }\n     reader.close();\n     System.out.println(sbuff.toString());\n     // save file here\n}\n    \npublic static boolean containsText(String[] tokens) {\n    for (String token: tokens) {\n        if (token.length() &gt; 0)\n            return true;\n    }\n    return false;\n}\n</code></pre>\n<p>After running the code, the output is:</p>\n<pre><code>foo,bar,baz\n1,One,123\n2,Two,456\n3,Three,789\n</code></pre>\n<p>This same code can be used to determine if a cell is empty with a simple method:</p>\n<pre><code>public static boolean isCellEmpty(String[] tokens) {\n    for (String token: tokens) {\n        if (token.isBlank())\n            return true;\n    }\n    return false;\n}\n</code></pre>\n"}],"owner":{"account_id":19741556,"reputation":1528,"user_id":14454875,"display_name":"TimeToCode"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":789,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70806472,"answer_count":2,"score":1,"last_activity_date":1642794457,"creation_date":1642791221,"question_id":70806307,"body_markdown":"I&#39;m trying to do data cleaning on dataset. by data cleaning i meant removing the row which containes ```NaN``` or duplicates values or empty cell. here is my code\r\n\r\ndataset look like this:\r\n\r\n```\r\nSno Country     noofDeaths\r\n1                32432\r\n2    Pakistan     NaN\r\n3    USA          3332\r\n3    USA          3332\r\n\r\n```\r\n\r\nexcel file image:\r\n[![enter image description here][1]][1]\r\n\r\n```\r\npublic class data_reader {\r\n\tString filePath=&quot;src\\\\abc.csv&quot;;\r\n\tpublic void readData() {\r\n\t\t BufferedReader br = null;\r\n\t\t    String line = &quot;&quot;;\r\n\t\t  \r\n\t\t    HashSet&lt;String&gt; lines = new HashSet&lt;&gt;();\r\n\t\t    try {\r\n\t\t        br = new BufferedReader(new FileReader(filePath));\r\n\t\t        while ((line = br.readLine()) != null) {\r\n\t\t        \tif(!line.contains(&quot;NaN&quot;) || !line.contains(&quot;&quot;)) {\r\n\t\t        \t\tif (lines.add(line)) {\r\n\t\t\t                System.out.println(line);\r\n\t\t\t            }\t\r\n\t\t        \t}\r\n\t\t        }\r\n\t\t    } catch (FileNotFoundException e) {\r\n\t\t        e.printStackTrace();\r\n\t\t    } catch (IOException e) {\r\n\t\t        e.printStackTrace();\r\n\t\t    } finally {\r\n\t\t        if (br != null) {\r\n\t\t            try {\r\n\t\t                br.close();\r\n\t\t            } catch (IOException e) {\r\n\t\t                e.printStackTrace();\r\n\t\t            }\r\n\t\t        }\r\n\t\t    }\r\n\t}\t\r\n\t}\r\n\t\r\n\t\r\n```\r\n\r\nit is working fine for NaN values and duplicates rows but not for empty cell, please help how to do this.\r\n\r\n```\r\n!line.contains(&quot;&quot;)\r\n```\r\n\r\nthis is not working.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yBbqt.png","title":"How to remove row which contains blank cell from csv file in Java","body":"<p>I'm trying to do data cleaning on dataset. by data cleaning i meant removing the row which containes <code>NaN</code> or duplicates values or empty cell. here is my code</p>\n<p>dataset look like this:</p>\n<pre><code>Sno Country     noofDeaths\n1                32432\n2    Pakistan     NaN\n3    USA          3332\n3    USA          3332\n\n</code></pre>\n<p>excel file image:\n<a href=\"https://i.stack.imgur.com/yBbqt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yBbqt.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>public class data_reader {\n    String filePath=&quot;src\\\\abc.csv&quot;;\n    public void readData() {\n         BufferedReader br = null;\n            String line = &quot;&quot;;\n          \n            HashSet&lt;String&gt; lines = new HashSet&lt;&gt;();\n            try {\n                br = new BufferedReader(new FileReader(filePath));\n                while ((line = br.readLine()) != null) {\n                    if(!line.contains(&quot;NaN&quot;) || !line.contains(&quot;&quot;)) {\n                        if (lines.add(line)) {\n                            System.out.println(line);\n                        }   \n                    }\n                }\n            } catch (FileNotFoundException e) {\n                e.printStackTrace();\n            } catch (IOException e) {\n                e.printStackTrace();\n            } finally {\n                if (br != null) {\n                    try {\n                        br.close();\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n                }\n            }\n    }   \n    }\n    \n    \n</code></pre>\n<p>it is working fine for NaN values and duplicates rows but not for empty cell, please help how to do this.</p>\n<pre><code>!line.contains(&quot;&quot;)\n</code></pre>\n<p>this is not working.</p>\n"},{"tags":["java","akka","distributed-computing","distributed","akka-cluster"],"answers":[{"tags":[],"owner":{"account_id":5994994,"reputation":19189,"user_id":5641244,"display_name":"Levi Ramsey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642794356,"creation_date":1642794356,"answer_id":70806878,"question_id":70805315,"body_markdown":"As far as the actors inside the `ActorSystem` are concerned, actors in a different `ActorSystem` may as well be in a different JVM (modulo possible classloader conflicts, etc.).\r\n\r\nIt&#39;s exceptionally rare to need to have multiple `ActorSystem`s in the same JVM: about the only situation where you would strictly need it is a situation like wanting multiple configurations for some functionality in the same JVM (and the functionality being configured isn&#39;t flexible about where configuration lives; most/all of Akka&#39;s functionality is flexible in this way).  Apart from that, multiple `ActorSystem`s in the same JVM is sometimes useful in tests to save the overhead of multiple JVMs.\r\n\r\nSo in a cluster, another `ActorSystem` is definitely listening on a different host:port combination.  It&#39;s almost certainly running in a different JVM/OS process.  It may or may not be running on a different computer.\r\n\r\nAn `ActorSystem` will nearly always correspond 1:1 to a cluster node.  It&#39;s possible to imagine an implementation that speaks Akka Remoting/Akka Cluster which allows 1 `ActorSystem` to serve as multiple nodes.","title":"What do Akka&#39;s ActorSystem corresponds to, especially in cluster technology?","body":"<p>As far as the actors inside the <code>ActorSystem</code> are concerned, actors in a different <code>ActorSystem</code> may as well be in a different JVM (modulo possible classloader conflicts, etc.).</p>\n<p>It's exceptionally rare to need to have multiple <code>ActorSystem</code>s in the same JVM: about the only situation where you would strictly need it is a situation like wanting multiple configurations for some functionality in the same JVM (and the functionality being configured isn't flexible about where configuration lives; most/all of Akka's functionality is flexible in this way).  Apart from that, multiple <code>ActorSystem</code>s in the same JVM is sometimes useful in tests to save the overhead of multiple JVMs.</p>\n<p>So in a cluster, another <code>ActorSystem</code> is definitely listening on a different host:port combination.  It's almost certainly running in a different JVM/OS process.  It may or may not be running on a different computer.</p>\n<p>An <code>ActorSystem</code> will nearly always correspond 1:1 to a cluster node.  It's possible to imagine an implementation that speaks Akka Remoting/Akka Cluster which allows 1 <code>ActorSystem</code> to serve as multiple nodes.</p>\n"}],"owner":{"account_id":19279952,"reputation":297,"user_id":17789881,"display_name":"Alessandro Bertulli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70806878,"answer_count":1,"score":0,"last_activity_date":1642794356,"creation_date":1642786098,"question_id":70805315,"body_markdown":"sorry if I&#39;ll be a little noobish here. I&#39;m studying Java Akka and I&#39;m struggling to grasp the exact meaning of an `ActorSystem`. I understand it&#39;s like an `Actor` factory, effectively creating the actors I may want to use in my application.\r\n\r\n  However, I am confused about two things, particularly regarding the **Akka cluster** usage.\r\n\r\n  + The first is minor: in my application, is the `ActorSystem` unique? I&#39;ve heard that while it is technically possible to have more than one, usually you only have **one system per JVM**. Is it true? **Would you ever need** to use more than one system in your project?\r\n  + The big one: I need to familiarize with the Akka cluster mechanism. When I am distributing my application, what extra **conceptual** meaning do the `ActorSystem` get? Does it correspond to the notion of &quot;node&quot;? Or of &quot;cluster&quot;? For what I got, my machine correspond to a single cluster, which in turn comprises multiple nodes. Is it correct? Where do `ActorSystem`s kick in in this reasoning?\r\n\r\n    Thanks in advance for your time!","title":"What do Akka&#39;s ActorSystem corresponds to, especially in cluster technology?","body":"<p>sorry if I'll be a little noobish here. I'm studying Java Akka and I'm struggling to grasp the exact meaning of an <code>ActorSystem</code>. I understand it's like an <code>Actor</code> factory, effectively creating the actors I may want to use in my application.</p>\n<p>However, I am confused about two things, particularly regarding the <strong>Akka cluster</strong> usage.</p>\n<ul>\n<li><p>The first is minor: in my application, is the <code>ActorSystem</code> unique? I've heard that while it is technically possible to have more than one, usually you only have <strong>one system per JVM</strong>. Is it true? <strong>Would you ever need</strong> to use more than one system in your project?</p>\n</li>\n<li><p>The big one: I need to familiarize with the Akka cluster mechanism. When I am distributing my application, what extra <strong>conceptual</strong> meaning do the <code>ActorSystem</code> get? Does it correspond to the notion of &quot;node&quot;? Or of &quot;cluster&quot;? For what I got, my machine correspond to a single cluster, which in turn comprises multiple nodes. Is it correct? Where do <code>ActorSystem</code>s kick in in this reasoning?</p>\n<p>Thanks in advance for your time!</p>\n</li>\n</ul>\n"},{"tags":["java","android","xml","android-layout","android-fragments"],"comments":[{"owner":{"account_id":9155388,"reputation":2295,"user_id":6808478,"accept_rate":12,"display_name":"Yyy"},"score":0,"creation_date":1498222059,"post_id":44721554,"comment_id":76425786,"body_markdown":"For that item of your navigation view you can open a separate activity with collapsing toolbars.","body":"For that item of your navigation view you can open a separate activity with collapsing toolbars."},{"owner":{"account_id":10582720,"reputation":735,"user_id":7795994,"accept_rate":56,"display_name":"Mayr Technologies"},"score":0,"creation_date":1498233946,"post_id":44721554,"comment_id":76433785,"body_markdown":"seems to be the only option so far, but i don&#39;t really like that option...","body":"seems to be the only option so far, but i don&#39;t really like that option..."},{"owner":{"account_id":2827636,"reputation":2721,"user_id":2429928,"accept_rate":50,"display_name":"Franco"},"score":0,"creation_date":1508719499,"post_id":44721554,"comment_id":80708314,"body_markdown":"Did you find any good solutions for this @MayrTechnologies?","body":"Did you find any good solutions for this @MayrTechnologies?"}],"answers":[{"tags":[],"owner":{"account_id":3788825,"reputation":23829,"user_id":3145960,"accept_rate":100,"display_name":"Reaz Murshed"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1498223678,"creation_date":1498223678,"answer_id":44722385,"question_id":44721554,"body_markdown":"You can easily get the `Toolbar` from your `Fragment` and then modify or change some property of that `Toolbar` inside the `Fragment`. \r\n\r\nTo get the `Toolbar` from your `Activity` you might consider using this. \r\n\r\n    Toolbar toolbar = (Toolbar) getActivity().findViewById(R.id.toolbar);\r\n\r\nNow you need to make the changes on the `Toolbar` in the `onResume` function and then undo the changes each time you return from the `Fragment` inside `onStop` function. Otherwise the changes made in the `Fragment` will be carried on to other fragments as well when switched to other `Fragment` from the navigation drawer. \r\n\r\nBut in your case, I would recommend each `Fragment` should have their `Toolbar` so that it doesn&#39;t conflict with each other and can be modified as you need. And yes, remove the `Toolbar` from your `Activity`. \r\n\r\nSo add the `Toolbar` in the layout of your `Fragment` like this. \r\n\r\n    &lt;android.support.v7.widget.Toolbar\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:id=&quot;@+id/toolbar&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;?attr/colorPrimaryDark&quot;/&gt;\r\n\r\nThen find it in the `Fragment` \r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment, container, false);\r\n        Toolbar toolbar = (Toolbar) view.findViewById(R.id.toolbar);\r\n\r\n        // Modify your Toolbar here. \r\n        // ... \r\n        // For example. \r\n        // toolbar.setBackground(R.color.red);\r\n\r\n        // Create home button\r\n        AppCompatActivity activity = (AppCompatActivity) getActivity();\r\n        activity.setSupportActionBar(toolbar);\r\n        activity.getSupportActionBar().setDisplayHomeAsUpEnabled(true);\r\n    }\r\n\r\nAnd Override the `onOptionsItemSelected` function. \r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n        switch(item.getItemId()){\r\n            case android.R.id.home:\r\n                getActivity().onBackPressed();\r\n        }\r\n        return super.onOptionsItemSelected(item);\r\n    }","title":"Collapsing Toolbar only for one Fragment in Navigation View","body":"<p>You can easily get the <code>Toolbar</code> from your <code>Fragment</code> and then modify or change some property of that <code>Toolbar</code> inside the <code>Fragment</code>. </p>\n\n<p>To get the <code>Toolbar</code> from your <code>Activity</code> you might consider using this. </p>\n\n<pre><code>Toolbar toolbar = (Toolbar) getActivity().findViewById(R.id.toolbar);\n</code></pre>\n\n<p>Now you need to make the changes on the <code>Toolbar</code> in the <code>onResume</code> function and then undo the changes each time you return from the <code>Fragment</code> inside <code>onStop</code> function. Otherwise the changes made in the <code>Fragment</code> will be carried on to other fragments as well when switched to other <code>Fragment</code> from the navigation drawer. </p>\n\n<p>But in your case, I would recommend each <code>Fragment</code> should have their <code>Toolbar</code> so that it doesn't conflict with each other and can be modified as you need. And yes, remove the <code>Toolbar</code> from your <code>Activity</code>. </p>\n\n<p>So add the <code>Toolbar</code> in the layout of your <code>Fragment</code> like this. </p>\n\n<pre><code>&lt;android.support.v7.widget.Toolbar\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:id=\"@+id/toolbar\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:background=\"?attr/colorPrimaryDark\"/&gt;\n</code></pre>\n\n<p>Then find it in the <code>Fragment</code> </p>\n\n<pre><code>@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\n    View view = inflater.inflate(R.layout.fragment, container, false);\n    Toolbar toolbar = (Toolbar) view.findViewById(R.id.toolbar);\n\n    // Modify your Toolbar here. \n    // ... \n    // For example. \n    // toolbar.setBackground(R.color.red);\n\n    // Create home button\n    AppCompatActivity activity = (AppCompatActivity) getActivity();\n    activity.setSupportActionBar(toolbar);\n    activity.getSupportActionBar().setDisplayHomeAsUpEnabled(true);\n}\n</code></pre>\n\n<p>And Override the <code>onOptionsItemSelected</code> function. </p>\n\n<pre><code>@Override\npublic boolean onOptionsItemSelected(MenuItem item) {\n    switch(item.getItemId()){\n        case android.R.id.home:\n            getActivity().onBackPressed();\n    }\n    return super.onOptionsItemSelected(item);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3040612,"reputation":1928,"user_id":2577750,"display_name":"Ankush"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1499457543,"creation_date":1499457543,"answer_id":44978781,"question_id":44721554,"body_markdown":"It seems you want to achieve something like this.\r\n\r\n[![Nothing fancy][1]][1]\r\n\r\n\r\nI have made an activity with common toolbar. when switching to the collapsing toolbar fragment I&#39;ve made the toolbar transparent and fragment&#39;s toolbar takes over. The toolbar&#39;s color remains the same on switching to other fragments.\r\n\r\nThis allows you to manage complete collapsing toolbar&#39;s layout structure in xml and logic remains in Fragment.\r\n\r\nHope this will help. Refer the gif linked.\r\n\r\n[Gist for gif][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oGGQG.gif\r\n  [2]: https://gist.github.com/groverankush/9d09fbba07879790d5395434fda1e2d4","title":"Collapsing Toolbar only for one Fragment in Navigation View","body":"<p>It seems you want to achieve something like this.</p>\n\n<p><a href=\"https://i.stack.imgur.com/oGGQG.gif\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/oGGQG.gif\" alt=\"Nothing fancy\"></a></p>\n\n<p>I have made an activity with common toolbar. when switching to the collapsing toolbar fragment I've made the toolbar transparent and fragment's toolbar takes over. The toolbar's color remains the same on switching to other fragments.</p>\n\n<p>This allows you to manage complete collapsing toolbar's layout structure in xml and logic remains in Fragment.</p>\n\n<p>Hope this will help. Refer the gif linked.</p>\n\n<p><a href=\"https://gist.github.com/groverankush/9d09fbba07879790d5395434fda1e2d4\" rel=\"noreferrer\">Gist for gif</a></p>\n"},{"tags":[],"owner":{"account_id":5181311,"reputation":2170,"user_id":4146943,"accept_rate":100,"display_name":"Habib Kazemi"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1526741583,"creation_date":1526736520,"answer_id":50425790,"question_id":44721554,"body_markdown":"The best solution that I found to easily collapse, lock it(keep it in collapsed mode) and unlock the collapsingToolbar.\r\n\r\n    private void collapseAppBar() {\r\n        // Collapse the AppBarLayout with animation\r\n        mAppBarLayout.setExpanded(false, true);\r\n    }\r\n\r\n    private void lockAppBar() {\r\n        /* Disable the nestedScrolling to disable expanding the\r\n         appBar with dragging the nestedScrollView below it */\r\n        ViewCompat.setNestedScrollingEnabled(nestedScrollView, false);\r\n\r\n        /* But still appBar is expandable with dragging the appBar itself\r\n        and below code disables that too\r\n         */\r\n        CoordinatorLayout.LayoutParams params = (CoordinatorLayout.LayoutParams) mAppBarLayout.getLayoutParams();\r\n        AppBarLayout.Behavior behavior = (AppBarLayout.Behavior) params.getBehavior();\r\n        behavior.setDragCallback(new AppBarLayout.Behavior.DragCallback() {\r\n            @Override\r\n            public boolean canDrag(AppBarLayout appBarLayout) {\r\n                return false;\r\n            }\r\n        });\r\n    }\r\n\r\n    private void unLockAppBar() {\r\n        ViewCompat.setNestedScrollingEnabled(nestedScrollView, true);\r\n\r\n        CoordinatorLayout.LayoutParams params = (CoordinatorLayout.LayoutParams) mAppBarLayout.getLayoutParams();\r\n        AppBarLayout.Behavior behavior = (AppBarLayout.Behavior) params.getBehavior();\r\n        if (behavior != null) {\r\n            behavior.setDragCallback(new AppBarLayout.Behavior.DragCallback() {\r\n                @Override\r\n                public boolean canDrag(AppBarLayout appBarLayout) {\r\n                    return true;\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n\r\nAnd I use these functions in this way:\r\n\r\n        Fragment fragment = null;\r\n        Class fragmentClass;\r\n        switch (menuItem.getItemId()) {\r\n            case R.id.fragment1:\r\n                unLockAppBar();\r\n                fragmentClass = first_Fragment.class;\r\n                break;\r\n            case R.id.fragment2:\r\n                collapseAppBar();\r\n                lockAppBar();\r\n                fragmentClass = second_Fragment.class;\r\n                break;\r\n            case R.id.fragment3:\r\n                collapseAppBar();\r\n                lockAppBar();\r\n                fragmentClass = third_Fragment.class;\r\n                break;\r\n","title":"Collapsing Toolbar only for one Fragment in Navigation View","body":"<p>The best solution that I found to easily collapse, lock it(keep it in collapsed mode) and unlock the collapsingToolbar.</p>\n\n<pre><code>private void collapseAppBar() {\n    // Collapse the AppBarLayout with animation\n    mAppBarLayout.setExpanded(false, true);\n}\n\nprivate void lockAppBar() {\n    /* Disable the nestedScrolling to disable expanding the\n     appBar with dragging the nestedScrollView below it */\n    ViewCompat.setNestedScrollingEnabled(nestedScrollView, false);\n\n    /* But still appBar is expandable with dragging the appBar itself\n    and below code disables that too\n     */\n    CoordinatorLayout.LayoutParams params = (CoordinatorLayout.LayoutParams) mAppBarLayout.getLayoutParams();\n    AppBarLayout.Behavior behavior = (AppBarLayout.Behavior) params.getBehavior();\n    behavior.setDragCallback(new AppBarLayout.Behavior.DragCallback() {\n        @Override\n        public boolean canDrag(AppBarLayout appBarLayout) {\n            return false;\n        }\n    });\n}\n\nprivate void unLockAppBar() {\n    ViewCompat.setNestedScrollingEnabled(nestedScrollView, true);\n\n    CoordinatorLayout.LayoutParams params = (CoordinatorLayout.LayoutParams) mAppBarLayout.getLayoutParams();\n    AppBarLayout.Behavior behavior = (AppBarLayout.Behavior) params.getBehavior();\n    if (behavior != null) {\n        behavior.setDragCallback(new AppBarLayout.Behavior.DragCallback() {\n            @Override\n            public boolean canDrag(AppBarLayout appBarLayout) {\n                return true;\n            }\n        });\n    }\n}\n</code></pre>\n\n<p>And I use these functions in this way:</p>\n\n<pre><code>    Fragment fragment = null;\n    Class fragmentClass;\n    switch (menuItem.getItemId()) {\n        case R.id.fragment1:\n            unLockAppBar();\n            fragmentClass = first_Fragment.class;\n            break;\n        case R.id.fragment2:\n            collapseAppBar();\n            lockAppBar();\n            fragmentClass = second_Fragment.class;\n            break;\n        case R.id.fragment3:\n            collapseAppBar();\n            lockAppBar();\n            fragmentClass = third_Fragment.class;\n            break;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1111321,"reputation":8799,"user_id":1101730,"accept_rate":78,"display_name":"Micer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592749754,"creation_date":1592749754,"answer_id":62499925,"question_id":44721554,"body_markdown":"I&#39;m using [Jetpack&#39;s Navigation components][1] with single Activity and different Fragments in my app.\r\n\r\nSome Fragments are accessible from bottom navigation (and have `Toolbar` from Activity). Some others are &quot;special&quot; Fragments and have their own Collapsible Toolbar.\r\n\r\nTo achieve this, I&#39;m hiding Toolbar from Activity in &quot;special&quot; Fragments with this code in Activity:\r\n\r\n    // Handle toolbar changes in different Fragments\r\n    val navController = findNavController(R.id.nav_host_fragment)\r\n    navController.addOnDestinationChangedListener { _, destination, _ -&gt;\r\n        when (destination.id) {\r\n            R.id.my_special_fragment_with_collapsible_toolbar -&gt; {\r\n                binding.toolbarMain.visibility = View.GONE\r\n            }\r\n            else -&gt; {\r\n                binding.toolbarMain.visibility = View.VISIBLE\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://developer.android.com/guide/navigation","title":"Collapsing Toolbar only for one Fragment in Navigation View","body":"<p>I'm using <a href=\"https://developer.android.com/guide/navigation\" rel=\"nofollow noreferrer\">Jetpack's Navigation components</a> with single Activity and different Fragments in my app.</p>\n<p>Some Fragments are accessible from bottom navigation (and have <code>Toolbar</code> from Activity). Some others are &quot;special&quot; Fragments and have their own Collapsible Toolbar.</p>\n<p>To achieve this, I'm hiding Toolbar from Activity in &quot;special&quot; Fragments with this code in Activity:</p>\n<pre><code>// Handle toolbar changes in different Fragments\nval navController = findNavController(R.id.nav_host_fragment)\nnavController.addOnDestinationChangedListener { _, destination, _ -&gt;\n    when (destination.id) {\n        R.id.my_special_fragment_with_collapsible_toolbar -&gt; {\n            binding.toolbarMain.visibility = View.GONE\n        }\n        else -&gt; {\n            binding.toolbarMain.visibility = View.VISIBLE\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":974238,"reputation":1956,"user_id":996046,"display_name":"Vasudev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594801205,"creation_date":1594801205,"answer_id":62910515,"question_id":44721554,"body_markdown":"The recommend practice is to use toolbars in fragments instead of a common toolbar in activity. That way you can control the looks and behaviour of toolbar in fragment. Refer https://developer.android.com/guide/navigation/navigation-ui#support_app_bar_variations","title":"Collapsing Toolbar only for one Fragment in Navigation View","body":"<p>The recommend practice is to use toolbars in fragments instead of a common toolbar in activity. That way you can control the looks and behaviour of toolbar in fragment. Refer <a href=\"https://developer.android.com/guide/navigation/navigation-ui#support_app_bar_variations\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/navigation/navigation-ui#support_app_bar_variations</a></p>\n"}],"owner":{"account_id":10582720,"reputation":735,"user_id":7795994,"accept_rate":56,"display_name":"Mayr Technologies"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7395,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":5,"score":12,"last_activity_date":1642794160,"creation_date":1498221139,"question_id":44721554,"body_markdown":"The Problem\r\n-----------\r\nI have a navigation drawer with different fragments. There is a default toolbar every `Fragment` should use, except of one `Fragment` which needs a collapsing `Toolbar`.\r\n\r\nMy Question\r\n-----------\r\nHow can I switch between the toolbars for the fragments ? ","title":"Collapsing Toolbar only for one Fragment in Navigation View","body":"<h2>The Problem</h2>\n\n<p>I have a navigation drawer with different fragments. There is a default toolbar every <code>Fragment</code> should use, except of one <code>Fragment</code> which needs a collapsing <code>Toolbar</code>.</p>\n\n<h2>My Question</h2>\n\n<p>How can I switch between the toolbars for the fragments ? </p>\n"},{"tags":["java","android","android-studio","kotlin"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":3,"creation_date":1642533317,"post_id":70761173,"comment_id":125094688,"body_markdown":"Please put code as text in a code block in your post.","body":"Please put code as text in a code block in your post."},{"owner":{"account_id":32581,"reputation":76091,"user_id":90527,"accept_rate":85,"display_name":"outis"},"score":0,"creation_date":1642571531,"post_id":70761173,"comment_id":125103034,"body_markdown":"To add to blackapps&#39; comment, do not simply drop the code into the post; [code samples](//stackoverflow.com/help/mcve) should be minimal, complete and representative. See: &quot;[Something in my web site or project doesn&#39;t work. Can I just paste a link to it?](//meta.stackoverflow.com/q/254428/90527)&quot;, &quot;[Why not upload images of code/errors when asking a question?](//meta.stackoverflow.com/q/285551/90527)&quot; and the [help] (especially &quot;[ask]&quot;).","body":"To add to blackapps&#39; comment, do not simply drop the code into the post; <a href=\"//stackoverflow.com/help/mcve\">code samples</a> should be minimal, complete and representative. See: &quot;<a href=\"//meta.stackoverflow.com/q/254428/90527\">Something in my web site or project doesn&#39;t work. Can I just paste a link to it?</a>&quot;, &quot;<a href=\"//meta.stackoverflow.com/q/285551/90527\">Why not upload images of code/errors when asking a question?</a>&quot; and the <a href=\"https://stackoverflow.com/help\">help center</a> (especially &quot;<a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>&quot;)."}],"answers":[{"tags":[],"owner":{"account_id":17782422,"reputation":357,"user_id":12913325,"display_name":"Jay_Panchal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642537650,"creation_date":1642537650,"answer_id":70761985,"question_id":70761173,"body_markdown":"Hi here is the similar Question that you are asking for scoped storage permissions with handling of the data selected by user.\r\nYou can use this question for reference.\r\n\r\nhttps://stackoverflow.com/questions/62782648/android-11-scoped-storage-permissions","title":"choose file with intent android 11","body":"<p>Hi here is the similar Question that you are asking for scoped storage permissions with handling of the data selected by user.\nYou can use this question for reference.</p>\n<p><a href=\"https://stackoverflow.com/questions/62782648/android-11-scoped-storage-permissions\">Android 11 Scoped storage permissions</a></p>\n"},{"tags":[],"owner":{"account_id":20330673,"reputation":91,"user_id":14912754,"display_name":"Muaz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642794127,"creation_date":1642794127,"answer_id":70806835,"question_id":70761173,"body_markdown":"Try this library [**AndroidFilePicker**][1]. It supports Android 11.\r\n\r\n\r\n  [1]: https://github.com/rosuH/AndroidFilePicker","title":"choose file with intent android 11","body":"<p>Try this library <a href=\"https://github.com/rosuH/AndroidFilePicker\" rel=\"nofollow noreferrer\"><strong>AndroidFilePicker</strong></a>. It supports Android 11.</p>\n"}],"owner":{"account_id":22063035,"reputation":21,"user_id":16325352,"display_name":"امیر سالار ربانیها"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1018,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1642794127,"creation_date":1642533204,"question_id":70761173,"body_markdown":"\r\n\r\nI want to select a file, but in Android 11 I either do not have access to the files and either the downloaded file is empty\r\n\r\n[These are my codes][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/l3oC5.jpg","title":"choose file with intent android 11","body":"<p>I want to select a file, but in Android 11 I either do not have access to the files and either the downloaded file is empty</p>\n<p><a href=\"https://i.stack.imgur.com/l3oC5.jpg\" rel=\"nofollow noreferrer\">These are my codes</a></p>\n"},{"tags":["java","http-post","okhttp"],"answers":[{"tags":[],"owner":{"account_id":1360281,"reputation":361,"user_id":1297789,"display_name":"Omnibyte"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642772667,"creation_date":1642772667,"answer_id":70802291,"question_id":70794077,"body_markdown":"Can you log the entire incoming request (header and payload) on the server? That way you would see if they differ in any way. Another thing I&#39;d try is sending the request using a low-level tool like cURL instead of Postman.\r\n\r\n(Courtesy: https://stackoverflow.com/questions/7172784/how-do-i-post-json-data-with-curl)\r\n\r\n    curl  http://localhost:8080/api/login  -H &quot;content-type: application/json&quot;  -d &quot;{\\&quot;email\\&quot;: \\&quot;user@admin.com\\&quot;, \\&quot;password\\&quot;: \\&quot;123456\\&quot;}&quot;\r\n\r\nYou can also etract the cURL command from Postman itself","title":"Invalid &quot;Content-Type&quot; from Java code but works in Postman","body":"<p>Can you log the entire incoming request (header and payload) on the server? That way you would see if they differ in any way. Another thing I'd try is sending the request using a low-level tool like cURL instead of Postman.</p>\n<p>(Courtesy: <a href=\"https://stackoverflow.com/questions/7172784/how-do-i-post-json-data-with-curl\">How do I POST JSON data with cURL?</a>)</p>\n<pre><code>curl  http://localhost:8080/api/login  -H &quot;content-type: application/json&quot;  -d &quot;{\\&quot;email\\&quot;: \\&quot;user@admin.com\\&quot;, \\&quot;password\\&quot;: \\&quot;123456\\&quot;}&quot;\n</code></pre>\n<p>You can also etract the cURL command from Postman itself</p>\n"},{"tags":[],"owner":{"account_id":17998773,"reputation":1068,"user_id":13081151,"display_name":"SharadxDutta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642793536,"creation_date":1642793536,"answer_id":70806726,"question_id":70794077,"body_markdown":"I found the problem, when you set MediaType, then &quot;charset=utf-8&quot; was getting added which was leading to the error that I mentioned. So I removed the &quot;charset=utf-8&quot; manually and tried to send the request, this time I was using fiddler to listen to request sent from eclipse, turns out, whether you pass that charset or not, the MediaType will append it, so I tried to set the second parameter on MediaType.parse() as null, and just passed the header with Content Type as application/json, and it worked like a charm.","title":"Invalid &quot;Content-Type&quot; from Java code but works in Postman","body":"<p>I found the problem, when you set MediaType, then &quot;charset=utf-8&quot; was getting added which was leading to the error that I mentioned. So I removed the &quot;charset=utf-8&quot; manually and tried to send the request, this time I was using fiddler to listen to request sent from eclipse, turns out, whether you pass that charset or not, the MediaType will append it, so I tried to set the second parameter on MediaType.parse() as null, and just passed the header with Content Type as application/json, and it worked like a charm.</p>\n"}],"owner":{"account_id":17998773,"reputation":1068,"user_id":13081151,"display_name":"SharadxDutta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1470,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70806726,"answer_count":2,"score":1,"last_activity_date":1642793536,"creation_date":1642716896,"question_id":70794077,"body_markdown":"I am trying to send a POST request to a particular URL, below is my Java Code to do it...\r\n\r\n                OkHttpClient httpClient = new OkHttpClient().newBuilder().build();\r\n        \t\t\r\n        \t\tMediaType JSON = MediaType.parse(&quot;application/json; charset=utf-8&quot;);\r\n        \t\t\r\n        \t\tRequestBody body = RequestBody.create(&quot;&lt;JSON_AS_STRING&gt;&quot;, JSON);\r\n        \t\t\r\n        \t\tRequest request = new Request.Builder()\r\n        \t\t  .url(url)\r\n        \t\t  .method(&quot;POST&quot;, body)\r\n        \t\t  .addHeader(&quot;Authorization&quot;, getToken())\r\n        \t\t  .addHeader(&quot;Content-Type&quot;, &quot;application/json; charset=utf-8&quot;)\r\n        \t\t  .build();\r\n    \r\n                Response response = httpClient.newCall(request).execute()\r\n\r\nWhen the request is excuted I am getting &quot;Invalid content type&quot; under error code 100. I am storing the JSON Body in a string and using it and defining media type to create a body.\r\n\r\nBut when I send same request from Postman, I am getting success code 204.\r\n\r\nIn Postman I have selected body as JSON and passing the JSON in the body and setting the URL and other headers like authorization and when I am sending the request I am getting 204.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/GTrhj.png\r\n\r\nBut when I change it to text, then I get same error &quot;Invalid content type&quot; which I am getting from my Java code. I am using OkHttp3 library for client, request and response. How is my java code not taking media type as application/json. I even tried to pass &quot;charset=utf-8&quot; in header with application/json, still not working.\r\n\r\nAny suggestions what could be going wrong, this is not the first time I am creating an okhttp3 request but first time seeing something like this...\r\n\r\nAlso I even tried to copy the java code snipped which you can create using postman...still not working.","title":"Invalid &quot;Content-Type&quot; from Java code but works in Postman","body":"<p>I am trying to send a POST request to a particular URL, below is my Java Code to do it...</p>\n<pre><code>            OkHttpClient httpClient = new OkHttpClient().newBuilder().build();\n            \n            MediaType JSON = MediaType.parse(&quot;application/json; charset=utf-8&quot;);\n            \n            RequestBody body = RequestBody.create(&quot;&lt;JSON_AS_STRING&gt;&quot;, JSON);\n            \n            Request request = new Request.Builder()\n              .url(url)\n              .method(&quot;POST&quot;, body)\n              .addHeader(&quot;Authorization&quot;, getToken())\n              .addHeader(&quot;Content-Type&quot;, &quot;application/json; charset=utf-8&quot;)\n              .build();\n\n            Response response = httpClient.newCall(request).execute()\n</code></pre>\n<p>When the request is excuted I am getting &quot;Invalid content type&quot; under error code 100. I am storing the JSON Body in a string and using it and defining media type to create a body.</p>\n<p>But when I send same request from Postman, I am getting success code 204.</p>\n<p>In Postman I have selected body as JSON and passing the JSON in the body and setting the URL and other headers like authorization and when I am sending the request I am getting 204.</p>\n<p><a href=\"https://i.stack.imgur.com/GTrhj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GTrhj.png\" alt=\"enter image description here\" /></a></p>\n<p>But when I change it to text, then I get same error &quot;Invalid content type&quot; which I am getting from my Java code. I am using OkHttp3 library for client, request and response. How is my java code not taking media type as application/json. I even tried to pass &quot;charset=utf-8&quot; in header with application/json, still not working.</p>\n<p>Any suggestions what could be going wrong, this is not the first time I am creating an okhttp3 request but first time seeing something like this...</p>\n<p>Also I even tried to copy the java code snipped which you can create using postman...still not working.</p>\n"},{"tags":["java","spring","string","list","populate"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1642762300,"post_id":70800100,"comment_id":125163754,"body_markdown":"&quot;if a List of Double contains some String elements&quot; why would a `List&lt;Double&gt;` contain `String` elements? If that&#39;s not what you mean, please clarify.","body":"&quot;if a List of Double contains some String elements&quot; why would a <code>List&lt;Double&gt;</code> contain <code>String</code> elements? If that&#39;s not what you mean, please clarify."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1642762338,"post_id":70800100,"comment_id":125163764,"body_markdown":"Also: `element instanceof String` is a better way to check.","body":"Also: <code>element instanceof String</code> is a better way to check."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1642762348,"post_id":70800100,"comment_id":125163769,"body_markdown":"How did you declare your list? Are you using a raw type, or did you declare it as `List&lt;Object&gt;`?  because if you declared it as `List&lt;Double&gt;` getting a String inside that List would be quite hard.","body":"How did you declare your list? Are you using a raw type, or did you declare it as <code>List&lt;Object&gt;</code>?  because if you declared it as <code>List&lt;Double&gt;</code> getting a String inside that List would be quite hard."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1642762394,"post_id":70800100,"comment_id":125163784,"body_markdown":"@OHGODSPIDERS it&#39;s not _that_ hard, it just indicates a broader issue that would be better to fix at source.","body":"@OHGODSPIDERS it&#39;s not <i>that</i> hard, it just indicates a broader issue that would be better to fix at source."},{"owner":{"account_id":1324107,"reputation":854,"user_id":1269325,"accept_rate":68,"display_name":"Fred37b"},"score":0,"creation_date":1642762735,"post_id":70800100,"comment_id":125163900,"body_markdown":"The comment say &quot;Sometimes Spring instantiates a list of doubles with string element&quot;. It&#39;s not my code. I am only the guy who must write a JUnit for covering the code, even if it seems stupid for me. OH GOD SPIDERS, it&#39;s my question how can I declare a list like that, which is stupid, we are agree","body":"The comment say &quot;Sometimes Spring instantiates a list of doubles with string element&quot;. It&#39;s not my code. I am only the guy who must write a JUnit for covering the code, even if it seems stupid for me. OH GOD SPIDERS, it&#39;s my question how can I declare a list like that, which is stupid, we are agree"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1642765778,"post_id":70800100,"comment_id":125164903,"body_markdown":"`element instanceof String` will return false if `element` is null, whereas your code will throw `NullPointerException`.","body":"<code>element instanceof String</code> will return false if <code>element</code> is null, whereas your code will throw <code>NullPointerException</code>."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1642792613,"post_id":70800100,"comment_id":125174997,"body_markdown":"Could you please show what your list looks like before and after processing.  Only a few items are required to show its diversity.","body":"Could you please show what your list looks like before and after processing.  Only a few items are required to show its diversity."}],"answers":[{"tags":[],"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642763829,"creation_date":1642763829,"answer_id":70800411,"question_id":70800100,"body_markdown":"If you have a `List&lt;Double&gt;` as you claim, then it is impossible to add a `String` to it, so it does not make sense to test it. Nevertheless, requirements are not always making a lot of sense. So, your code is almost correct, but there is a mistake to fix inside (as you have already known when you have written the question). Let&#39;s see a better code:\r\n\r\n```\r\nObect element = list.get(i); // list is my List&lt;Double&gt;\r\nif(element.getClass().equals(String.class)) {\r\n   list.set(i, Double.parseDouble((String) element));\r\n}\r\n```\r\n\r\nYou need to use the `equals` method instead of the `==` operator, because the `==` operator checks whether the operands are the ***same***, yet, the `getClass` method creates a new instance of the `Class` class, which, by definition will not be the same as `String.class`. The `equals` method checks whether the two objects are similar. They are similar if the object is a `String`.","title":"Populate a List of Double with String","body":"<p>If you have a <code>List&lt;Double&gt;</code> as you claim, then it is impossible to add a <code>String</code> to it, so it does not make sense to test it. Nevertheless, requirements are not always making a lot of sense. So, your code is almost correct, but there is a mistake to fix inside (as you have already known when you have written the question). Let's see a better code:</p>\n<pre><code>Obect element = list.get(i); // list is my List&lt;Double&gt;\nif(element.getClass().equals(String.class)) {\n   list.set(i, Double.parseDouble((String) element));\n}\n</code></pre>\n<p>You need to use the <code>equals</code> method instead of the <code>==</code> operator, because the <code>==</code> operator checks whether the operands are the <em><strong>same</strong></em>, yet, the <code>getClass</code> method creates a new instance of the <code>Class</code> class, which, by definition will not be the same as <code>String.class</code>. The <code>equals</code> method checks whether the two objects are similar. They are similar if the object is a <code>String</code>.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642793369,"creation_date":1642791481,"answer_id":70806352,"question_id":70800100,"body_markdown":"It sounds like this is what you want. This conditional converts the strings to Double objects or passes on the doubles.  It uses `Double.valueOf()` to avoid having to rebox the `double`.\r\n\r\nI also prefer to simply create a new list. Inserting values as you are doing can cause quite a bit of copying (or counting if a linkedList).  Also using `instanceof` as suggested in the comments.\r\n```\r\nList&lt;Object&gt; list = Arrays.asList(\r\n\t\t2.3, 4.7, null,  &quot;99.3&quot;, &quot;47.2&quot;, null, 2.8, &quot;48.7&quot;);\r\n\t\r\n\r\nList&lt;Object&gt; result =\r\n\t\tlist.stream().map(ob -&gt; (ob instanceof String) ?\r\n\t\t\t\tDouble.valueOf((String)ob) : ob).toList();\r\n\r\nSystem.out.println(result);\r\n```\r\nPrints\r\n```\r\n[2.3, 4.7, null, 99.3, 47.2, null, 2.8, 48.7]\r\n```\r\nIf you want just a list of Doubles then you would need to cast the last item in the ternary (?:) construct to double (e.g. `(Double)ob`). Filtering out any nulls may also be desirable.","title":"Populate a List of Double with String","body":"<p>It sounds like this is what you want. This conditional converts the strings to Double objects or passes on the doubles.  It uses <code>Double.valueOf()</code> to avoid having to rebox the <code>double</code>.</p>\n<p>I also prefer to simply create a new list. Inserting values as you are doing can cause quite a bit of copying (or counting if a linkedList).  Also using <code>instanceof</code> as suggested in the comments.</p>\n<pre><code>List&lt;Object&gt; list = Arrays.asList(\n        2.3, 4.7, null,  &quot;99.3&quot;, &quot;47.2&quot;, null, 2.8, &quot;48.7&quot;);\n    \n\nList&lt;Object&gt; result =\n        list.stream().map(ob -&gt; (ob instanceof String) ?\n                Double.valueOf((String)ob) : ob).toList();\n\nSystem.out.println(result);\n</code></pre>\n<p>Prints</p>\n<pre><code>[2.3, 4.7, null, 99.3, 47.2, null, 2.8, 48.7]\n</code></pre>\n<p>If you want just a list of Doubles then you would need to cast the last item in the ternary (?:) construct to double (e.g. <code>(Double)ob</code>). Filtering out any nulls may also be desirable.</p>\n"}],"owner":{"account_id":1324107,"reputation":854,"user_id":1269325,"accept_rate":68,"display_name":"Fred37b"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":404,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1642793369,"creation_date":1642762177,"question_id":70800100,"body_markdown":"I have a method which tests if a `List` of `Double` contains some `String` elements. This list is populated with Spring. I do not know how I can populate it with `String` in a JUnit.\r\n\r\nMy method converts `String` to `Double` with the following code:\r\n\r\n```java\r\n// [...]\r\nObect element = list.get(i); // list is my List&lt;Double&gt;\r\nif(element.getClass() == String.class) {\r\n   list.set(i, Double.parseDouble((String) element));\r\n}\r\n```\r\n","title":"Populate a List of Double with String","body":"<p>I have a method which tests if a <code>List</code> of <code>Double</code> contains some <code>String</code> elements. This list is populated with Spring. I do not know how I can populate it with <code>String</code> in a JUnit.</p>\n<p>My method converts <code>String</code> to <code>Double</code> with the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// [...]\nObect element = list.get(i); // list is my List&lt;Double&gt;\nif(element.getClass() == String.class) {\n   list.set(i, Double.parseDouble((String) element));\n}\n</code></pre>\n"},{"tags":["java","netbeans"],"comments":[{"owner":{"account_id":1306942,"reputation":4457,"user_id":1255737,"display_name":"rmlan"},"score":0,"creation_date":1515157378,"post_id":48114162,"comment_id":83204129,"body_markdown":"Welcome to Stack Overflow. Please take the [tour](https://stackoverflow.com/tour) and have a look at [How to Ask](https://stackoverflow.com/help/how-to-ask).","body":"Welcome to Stack Overflow. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> and have a look at <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask</a>."}],"answers":[{"tags":[],"owner":{"account_id":238570,"reputation":8889,"user_id":507546,"accept_rate":88,"display_name":"gigadot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515157415,"creation_date":1515157415,"answer_id":48114234,"question_id":48114162,"body_markdown":"First, make sure you install JDK (not JRE) on your computer.\r\n\r\nThen, open file `{path-to-netbeans}/etc/netbeans.conf` and edit a line `netbeans_jdkhome` to \r\n\r\n`netbeans_jdkhome=&quot;C:\\Program Files\\Java\\jdk1.8.0_144&quot;\r\n`","title":"javainstaller home argument","body":"<p>First, make sure you install JDK (not JRE) on your computer.</p>\n\n<p>Then, open file <code>{path-to-netbeans}/etc/netbeans.conf</code> and edit a line <code>netbeans_jdkhome</code> to </p>\n\n<p><code>netbeans_jdkhome=\"C:\\Program Files\\Java\\jdk1.8.0_144\"\n</code></p>\n"},{"tags":[],"owner":{"account_id":7608634,"reputation":31,"user_id":5770377,"display_name":"Pete Zelchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625142715,"creation_date":1625142715,"answer_id":68210244,"question_id":48114162,"body_markdown":"Such self-sure responses, such finality, all apparently basically wrong. (For three years.)\r\n\r\nThis problem appears to be a finicky demand by a lazy installer programmer. I put the JDK on the E: drive. I got past the problem with:\r\n\r\nApache-NetBeans-12.4-bin-windows-x64.exe --javahome E:\\jdk-16.0.1\\\r\n\r\n(Note the double hyphen, as you apparently knew to do [the installer&#39;s error message box shows only -javahome] and note that putting quotes around it failed, but removing the quotes worked.)","title":"javainstaller home argument","body":"<p>Such self-sure responses, such finality, all apparently basically wrong. (For three years.)</p>\n<p>This problem appears to be a finicky demand by a lazy installer programmer. I put the JDK on the E: drive. I got past the problem with:</p>\n<p>Apache-NetBeans-12.4-bin-windows-x64.exe --javahome E:\\jdk-16.0.1\\</p>\n<p>(Note the double hyphen, as you apparently knew to do [the installer's error message box shows only -javahome] and note that putting quotes around it failed, but removing the quotes worked.)</p>\n"},{"tags":[],"owner":{"account_id":24012837,"reputation":11,"user_id":17996190,"display_name":"Philip S Diakun"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642793301,"creation_date":1642789196,"answer_id":70805901,"question_id":48114162,"body_markdown":"I ran into the same, the following worked for me with Apache 12.6 \r\n\r\n```\r\nApache-NetBeans-12.6-bin-windows-x64.exe --javahome &quot;c:\\Program Files (x86)\\Java\\jdk1.8.0_321&quot;\r\n```\r\n\r\nBest of luck note the double hyphens in `JAVA_HOME` and double quotes in JDK location. The Netbeans error screen suggests a single hyphen, but that did not work for me","title":"javainstaller home argument","body":"<p>I ran into the same, the following worked for me with Apache 12.6</p>\n<pre><code>Apache-NetBeans-12.6-bin-windows-x64.exe --javahome &quot;c:\\Program Files (x86)\\Java\\jdk1.8.0_321&quot;\n</code></pre>\n<p>Best of luck note the double hyphens in <code>JAVA_HOME</code> and double quotes in JDK location. The Netbeans error screen suggests a single hyphen, but that did not work for me</p>\n"}],"owner":{"account_id":12622529,"reputation":11,"user_id":9177502,"display_name":"Shakeel.H"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4272,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1642793301,"creation_date":1515157135,"question_id":48114162,"body_markdown":"please help. while running the NetBeans 8.2 installer, it says jdk not found on this computer. specify jdk location using &quot;javahome installer argument&quot;. i went to the command prompt and ran the installer from there. i gave the address of the installer then --javahome &quot;**the directory of the jdk**&quot; . and it still does not run. please help me. I dont know what to do. I have tried every solution i came across but nothing works. can somebody please explain what is the problem? I have jdk 9.0.1.","title":"javainstaller home argument","body":"<p>please help. while running the NetBeans 8.2 installer, it says jdk not found on this computer. specify jdk location using \"javahome installer argument\". i went to the command prompt and ran the installer from there. i gave the address of the installer then --javahome \"<strong>the directory of the jdk</strong>\" . and it still does not run. please help me. I dont know what to do. I have tried every solution i came across but nothing works. can somebody please explain what is the problem? I have jdk 9.0.1.</p>\n"},{"tags":["java","eclipse","objectaid"],"comments":[{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1642782813,"post_id":70804418,"comment_id":125171702,"body_markdown":"If you look at the recent questions in the [tag:objectaid] tag it appears that the company has failed and the code will no longer works at all regardless of the Eclipse release.","body":"If you look at the recent questions in the <a href=\"https://stackoverflow.com/questions/tagged/objectaid\">objectaid</a> tag it appears that the company has failed and the code will no longer works at all regardless of the Eclipse release."},{"owner":{"account_id":2590622,"reputation":523,"user_id":2245414,"accept_rate":75,"display_name":"froggy"},"score":0,"creation_date":1642786628,"post_id":70804418,"comment_id":125173094,"body_markdown":"Yes i know, but what has that to do with ?   this appears to be more a problem concerning Eclipse .","body":"Yes i know, but what has that to do with ?   this appears to be more a problem concerning Eclipse ."}],"answers":[{"tags":[],"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642793191,"creation_date":1642793191,"answer_id":70806667,"question_id":70804418,"body_markdown":"No, you can&#39;t run two versions of Eclipse at the same time accessing a single workspace. The second Eclipse you try to start will refuse to access the workspace saying it is already in use.\r\n\r\nTrying to run an older version of Eclipse on a workspace that has been modified by a newer version will also produce an error.\r\n\r\nYou can run multiple versions on separate workspaces.","title":"Can I use two different Eclipse (IDE java) versions on same project?","body":"<p>No, you can't run two versions of Eclipse at the same time accessing a single workspace. The second Eclipse you try to start will refuse to access the workspace saying it is already in use.</p>\n<p>Trying to run an older version of Eclipse on a workspace that has been modified by a newer version will also produce an error.</p>\n<p>You can run multiple versions on separate workspaces.</p>\n"}],"owner":{"account_id":2590622,"reputation":523,"user_id":2245414,"accept_rate":75,"display_name":"froggy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":653,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70806667,"answer_count":1,"score":-1,"last_activity_date":1642793191,"creation_date":1642782172,"question_id":70804418,"body_markdown":"I&#39;m developing a project with Eclipse 4.21, unfortunately this version doesn&#39;t allow ObjectAid to work properly, I don&#39;t know why. After many attempts, I found out that ObjectAid doesn&#39;t work anymore after Eclipse 4.19.\r\n\r\nI don&#39;t want to reinstall and configure Eclipse again for my project. So, can I have two Eclipse opened on same workspace / same project  at same time? Using one (4.21) to develop and one (4.19) just to generate UML class diagram (using objectaid) without problems.\r\n  \r\n","title":"Can I use two different Eclipse (IDE java) versions on same project?","body":"<p>I'm developing a project with Eclipse 4.21, unfortunately this version doesn't allow ObjectAid to work properly, I don't know why. After many attempts, I found out that ObjectAid doesn't work anymore after Eclipse 4.19.</p>\n<p>I don't want to reinstall and configure Eclipse again for my project. So, can I have two Eclipse opened on same workspace / same project  at same time? Using one (4.21) to develop and one (4.19) just to generate UML class diagram (using objectaid) without problems.</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642792948,"creation_date":1642792948,"answer_id":70806625,"question_id":70805650,"body_markdown":"You should be using `recordsFile.println(consumerRecord.toString())`. \r\n\r\nBut, do you need to do this within another application? If not, you can do the same with Kafka Connect\r\n\r\nOpen `config/connect-file-sink.properties`, and change the topic and file name there. \r\n\r\nRun `bin/connect-standalone.properties config/connect-file-sink.properties`","title":"How do I print all the polled records from my Kafka cluster to a text file?","body":"<p>You should be using <code>recordsFile.println(consumerRecord.toString())</code>.</p>\n<p>But, do you need to do this within another application? If not, you can do the same with Kafka Connect</p>\n<p>Open <code>config/connect-file-sink.properties</code>, and change the topic and file name there.</p>\n<p>Run <code>bin/connect-standalone.properties config/connect-file-sink.properties</code></p>\n"}],"owner":{"account_id":23894548,"reputation":1,"user_id":17893730,"display_name":"saksham"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642792963,"creation_date":1642787786,"question_id":70805650,"body_markdown":"After polling all the messages and trying to append them to a text file, the text file is still blank.\r\n\r\nI tried PrintWriter&#39;s write and print functions too, didn&#39;t work.\r\n\r\nCode:\r\n\r\n    PrintWriter recordsFile = new PrintWriter(&quot;./recordsFile.txt&quot;);\r\n    \r\n    while (some condition) {\r\n        kafkaConsumer.poll(Duration.ofMillis(100)).forEach(consumerRecord -&gt; {\r\n            recordsFile.append(consumerRecord + &quot;\\n&quot;);\r\n            System.out.println(consumerRecord);\r\n        });\r\n    }\r\n    \r\n    recordsFile.flush();\r\n    recordsFile.close();\r\n\r\nIn the above code, records are being printed to the console, which means the polls were successful. Why is the file still blank then?\r\n\r\nMy guess is that the poll operation starts a separate thread, what do you think is the problem here?\r\n\r\nPlease note that I have taken care of FileNotFoundException possibility, subscribed to a topic, etc. I left out those details to focus on the problem I am facing.","title":"How do I print all the polled records from my Kafka cluster to a text file?","body":"<p>After polling all the messages and trying to append them to a text file, the text file is still blank.</p>\n<p>I tried PrintWriter's write and print functions too, didn't work.</p>\n<p>Code:</p>\n<pre><code>PrintWriter recordsFile = new PrintWriter(&quot;./recordsFile.txt&quot;);\n\nwhile (some condition) {\n    kafkaConsumer.poll(Duration.ofMillis(100)).forEach(consumerRecord -&gt; {\n        recordsFile.append(consumerRecord + &quot;\\n&quot;);\n        System.out.println(consumerRecord);\n    });\n}\n\nrecordsFile.flush();\nrecordsFile.close();\n</code></pre>\n<p>In the above code, records are being printed to the console, which means the polls were successful. Why is the file still blank then?</p>\n<p>My guess is that the poll operation starts a separate thread, what do you think is the problem here?</p>\n<p>Please note that I have taken care of FileNotFoundException possibility, subscribed to a topic, etc. I left out those details to focus on the problem I am facing.</p>\n"},{"tags":["java","vaadin7"],"comments":[{"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"score":0,"creation_date":1642769846,"post_id":70800383,"comment_id":125166405,"body_markdown":"Can you check if this workaround works for you https://github.com/vaadin/framework/issues/11369#issuecomment-449370057 If so, upgrade to Vaadin 7.7.16 should have a fix https://github.com/vaadin/framework/pull/11402","body":"Can you check if this workaround works for you <a href=\"https://github.com/vaadin/framework/issues/11369#issuecomment-449370057\" rel=\"nofollow noreferrer\">github.com/vaadin/framework/issues/11369#issuecomment-449370&zwnj;&#8203;057</a> If so, upgrade to Vaadin 7.7.16 should have a fix <a href=\"https://github.com/vaadin/framework/pull/11402\" rel=\"nofollow noreferrer\">github.com/vaadin/framework/pull/11402</a>"},{"owner":{"account_id":24008686,"reputation":3,"user_id":17992545,"display_name":"Robert Ostrowski"},"score":0,"creation_date":1642772804,"post_id":70800383,"comment_id":125167653,"body_markdown":"Couldn&#39;t use the exact fix but it nudged me in the right direction. Works perfectly now, thank you","body":"Couldn&#39;t use the exact fix but it nudged me in the right direction. Works perfectly now, thank you"}],"answers":[{"tags":[],"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642792057,"creation_date":1642792057,"answer_id":70806473,"question_id":70800383,"body_markdown":"There is a document case with a workaround in Vaadin&#39;s issue tracker \r\n\r\nhttps://github.com/vaadin/framework/issues/11369#issuecomment-449370057 \r\n\r\nUpgrade to Vaadin 7.7.16 should have a fix \r\n\r\nhttps://github.com/vaadin/framework/pull/11402 ","title":"Closing a Window with resource displayed in a BrowserFrame component causes a second request","body":"<p>There is a document case with a workaround in Vaadin's issue tracker</p>\n<p><a href=\"https://github.com/vaadin/framework/issues/11369#issuecomment-449370057\" rel=\"nofollow noreferrer\">https://github.com/vaadin/framework/issues/11369#issuecomment-449370057</a></p>\n<p>Upgrade to Vaadin 7.7.16 should have a fix</p>\n<p><a href=\"https://github.com/vaadin/framework/pull/11402\" rel=\"nofollow noreferrer\">https://github.com/vaadin/framework/pull/11402</a></p>\n"}],"owner":{"account_id":24008686,"reputation":3,"user_id":17992545,"display_name":"Robert Ostrowski"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70806473,"answer_count":1,"score":0,"last_activity_date":1642792057,"creation_date":1642763700,"question_id":70800383,"body_markdown":"I have a runtime generated pdf that I display in a BrowserFrame in a Window. After the window is closed, the resource is requested again (why?), which causes an error on server side, because the connector was already unregistred. How can I make the Window not request the resource again?\r\n\r\nYou can reproduce the duplicated request easily with the code\r\n\r\n```java\r\nWindow window = new Window(&quot;&quot;, new BrowserFrame(&quot;&quot;, new StreamResource(() -&gt; new ByteArrayInputStream(new byte[]{}), &quot;hehe.pdf&quot;)));\r\nUI.getCurrent().addWindow(window);\r\n```\r\nJava 8, Vaadin 7.7.11","title":"Closing a Window with resource displayed in a BrowserFrame component causes a second request","body":"<p>I have a runtime generated pdf that I display in a BrowserFrame in a Window. After the window is closed, the resource is requested again (why?), which causes an error on server side, because the connector was already unregistred. How can I make the Window not request the resource again?</p>\n<p>You can reproduce the duplicated request easily with the code</p>\n<pre class=\"lang-java prettyprint-override\"><code>Window window = new Window(&quot;&quot;, new BrowserFrame(&quot;&quot;, new StreamResource(() -&gt; new ByteArrayInputStream(new byte[]{}), &quot;hehe.pdf&quot;)));\nUI.getCurrent().addWindow(window);\n</code></pre>\n<p>Java 8, Vaadin 7.7.11</p>\n"},{"tags":["java","arrays","regex","string","split"],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642787526,"creation_date":1642787209,"answer_id":70805530,"question_id":70805213,"body_markdown":"Your main problem is you coded `\\s+` instead of `\\s*`, which *required* there to be spaces to split, instead of spaces being optional. The other problem is your regex only splits *before* operators.\r\n\r\nUse this regex:\r\n\r\n    \\s*(?=(:=|&lt;|&gt;|(?&lt;!:)=))|(?&lt;=(=|&lt;|&gt;))\\s*\r\n\r\nSee [live demo][1].\r\n\r\nOr as Java:\r\n\r\n    return line.split(&quot;\\\\s*(?=(:=|&lt;|&gt;|(?&lt;!:)=))|(?&lt;=(=|&lt;|&gt;))\\\\s*&quot;);\r\n\r\nWhich uses a look *ahead* to split *before* operators and a look *behind* to split *after* operators.\r\n\r\n`\\s*` has been added to consume any spaces between terms.\r\n\r\nNote also the negative look behind `(?&lt;!:)` *within* the look ahead to prevent splitting between `:` and `=`.\r\n\r\n\r\n\r\n  [1]: https://rubular.com/r/J5D3FP6mca2zkr","title":"How to detect keyword in String without spaces?","body":"<p>Your main problem is you coded <code>\\s+</code> instead of <code>\\s*</code>, which <em>required</em> there to be spaces to split, instead of spaces being optional. The other problem is your regex only splits <em>before</em> operators.</p>\n<p>Use this regex:</p>\n<pre><code>\\s*(?=(:=|&lt;|&gt;|(?&lt;!:)=))|(?&lt;=(=|&lt;|&gt;))\\s*\n</code></pre>\n<p>See <a href=\"https://rubular.com/r/J5D3FP6mca2zkr\" rel=\"nofollow noreferrer\">live demo</a>.</p>\n<p>Or as Java:</p>\n<pre><code>return line.split(&quot;\\\\s*(?=(:=|&lt;|&gt;|(?&lt;!:)=))|(?&lt;=(=|&lt;|&gt;))\\\\s*&quot;);\n</code></pre>\n<p>Which uses a look <em>ahead</em> to split <em>before</em> operators and a look <em>behind</em> to split <em>after</em> operators.</p>\n<p><code>\\s*</code> has been added to consume any spaces between terms.</p>\n<p>Note also the negative look behind <code>(?&lt;!:)</code> <em>within</em> the look ahead to prevent splitting between <code>:</code> and <code>=</code>.</p>\n"},{"tags":[],"owner":{"account_id":16290924,"reputation":70,"user_id":11764419,"display_name":"Łukasz Karasiński"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642791907,"creation_date":1642790581,"answer_id":70806176,"question_id":70805213,"body_markdown":"Here is an example code that you can use to split your input into groups. White space characters like regular space are ignored. It is later printed to the output in for loop:\r\n\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    public class Example {\r\n        public static void main(String[] args) {\r\n            final String regex = &quot;(\\\\w*)\\\\s*(:=)\\\\s*(\\\\d*;)&quot;;\r\n            final String string = &quot;sum:=5;&quot;;\r\n            \r\n            final Pattern pattern = Pattern.compile(regex, Pattern.MULTILINE);\r\n            final Matcher matcher = pattern.matcher(string);\r\n            \r\n            while (matcher.find()) {\r\n                System.out.println(&quot;Full match: &quot; + matcher.group(0));\r\n                \r\n                for (int i = 1; i &lt;= matcher.groupCount(); i++) {\r\n                    System.out.println(&quot;Group &quot; + i + &quot;: &quot; + matcher.group(i));\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nAnd this is the output:\r\n\r\n    Full match: sum:=5;\r\n    Group 1: sum\r\n    Group 2: :=\r\n    Group 3: 5;","title":"How to detect keyword in String without spaces?","body":"<p>Here is an example code that you can use to split your input into groups. White space characters like regular space are ignored. It is later printed to the output in for loop:</p>\n<pre><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class Example {\n    public static void main(String[] args) {\n        final String regex = &quot;(\\\\w*)\\\\s*(:=)\\\\s*(\\\\d*;)&quot;;\n        final String string = &quot;sum:=5;&quot;;\n        \n        final Pattern pattern = Pattern.compile(regex, Pattern.MULTILINE);\n        final Matcher matcher = pattern.matcher(string);\n        \n        while (matcher.find()) {\n            System.out.println(&quot;Full match: &quot; + matcher.group(0));\n            \n            for (int i = 1; i &lt;= matcher.groupCount(); i++) {\n                System.out.println(&quot;Group &quot; + i + &quot;: &quot; + matcher.group(i));\n            }\n        }\n    }\n}\n</code></pre>\n<p>And this is the output:</p>\n<pre><code>Full match: sum:=5;\nGroup 1: sum\nGroup 2: :=\nGroup 3: 5;\n</code></pre>\n"}],"owner":{"account_id":19872122,"reputation":23,"user_id":14557998,"display_name":"Joe Denby"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70806176,"answer_count":2,"score":2,"last_activity_date":1642791907,"creation_date":1642785658,"question_id":70805213,"body_markdown":"Basically my desired outcome is to split a string based on known keywords regardless on if whitespace seperates the keyword. Below is an example of my current implementation, expect param String line = &quot;sum:=5;&quot;:\r\n\r\n    private static String[] nextLineAsToken(String line) {\r\n        return line.split(&quot;\\\\s+(?=(:=|&lt;|&gt;|=))&quot;);\r\n    }\r\n\r\n**Expected:**\r\n\r\n    String[] {&quot;sum&quot;, &quot;:=&quot;, &quot;5;&quot;};\r\n\r\n**Actual:**\r\n\r\n    String[] {&quot;sum:=5;&quot;};\r\n\r\nI have a feeling this isn&#39;t possible, but it would be great to hear from you guys.\r\nThanks.","title":"How to detect keyword in String without spaces?","body":"<p>Basically my desired outcome is to split a string based on known keywords regardless on if whitespace seperates the keyword. Below is an example of my current implementation, expect param String line = &quot;sum:=5;&quot;:</p>\n<pre><code>private static String[] nextLineAsToken(String line) {\n    return line.split(&quot;\\\\s+(?=(:=|&lt;|&gt;|=))&quot;);\n}\n</code></pre>\n<p><strong>Expected:</strong></p>\n<pre><code>String[] {&quot;sum&quot;, &quot;:=&quot;, &quot;5;&quot;};\n</code></pre>\n<p><strong>Actual:</strong></p>\n<pre><code>String[] {&quot;sum:=5;&quot;};\n</code></pre>\n<p>I have a feeling this isn't possible, but it would be great to hear from you guys.\nThanks.</p>\n"},{"tags":["java","coding-style"],"comments":[{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":2,"creation_date":1397046720,"post_id":22961733,"comment_id":35060251,"body_markdown":"This is also asked on the [oracle forums](https://community.oracle.com/thread/3544233), but no answers.","body":"This is also asked on the <a href=\"https://community.oracle.com/thread/3544233\" rel=\"nofollow noreferrer\">oracle forums</a>, but no answers."},{"owner":{"account_id":453152,"reputation":1488,"user_id":849981,"accept_rate":64,"display_name":"X-HuMan"},"score":1,"creation_date":1397055832,"post_id":22961733,"comment_id":35067614,"body_markdown":"If you know better option to do this I will follow to that with pleasure. @eis I&#39;ve seen the oracle forums as well and I thought all developers are here and it could be helpful for everyone. This was the purpose.","body":"If you know better option to do this I will follow to that with pleasure. @eis I&#39;ve seen the oracle forums as well and I thought all developers are here and it could be helpful for everyone. This was the purpose."},{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":2,"creation_date":1397057227,"post_id":22961733,"comment_id":35068590,"body_markdown":"Yes, I was only referencing the question to indicate that other people are searching for an answer to this as well.","body":"Yes, I was only referencing the question to indicate that other people are searching for an answer to this as well."},{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":0,"creation_date":1546589971,"post_id":22961733,"comment_id":94905886,"body_markdown":"note to future close voters: I think this falls into [Shog9&#39;s &quot;canonical source&quot; exception](https://chat.stackoverflow.com/transcript/165597?m=43207688#43207688).","body":"note to future close voters: I think this falls into <a href=\"https://chat.stackoverflow.com/transcript/165597?m=43207688#43207688\">Shog9&#39;s &quot;canonical source&quot; exception</a>."}],"answers":[{"tags":[],"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"down_vote_count":0,"up_vote_count":32,"is_accepted":true,"score":32,"last_activity_date":1403040035,"creation_date":1397057328,"answer_id":22967234,"question_id":22961733,"body_markdown":"One option is to use wayback machine, which [seems to contain the document](http://web.archive.org/web/20140222045352/http://www.oracle.com/technetwork/java/codeconv-138413.html) ([here&#39;s direct link to pdf version](http://web.archive.org/web/20140228225807/http://www.oracle.com/technetwork/java/codeconventions-150003.pdf)). However I would also be interested to find out what Oracle did with it and do they intend to get rid of it.\r\n\r\nThere&#39;s a [discussion on Oracle forums](https://community.oracle.com/thread/3544233) about this being raised to OTN support, but no response is mentioned.\r\n\r\n----\r\n\r\nUpdate on 17.6.2014: There&#39;s now a [forum posting](https://community.oracle.com/message/12472357#12472357) added to the site explaining the following:\r\n\r\n&gt; Those Java Code Conventions were written in 1999 and have not been\r\n&gt; maintained since.\r\n&gt; \r\n&gt; The information might not be up to date; links within the documents\r\n&gt; might not work.    That is why the pages were removed.  Unfortunately\r\n&gt; there are other sites that point to that document which were not\r\n&gt; updated.\r\n&gt; \r\n&gt; To avoid confusions we have re-posted the original document –with an\r\n&gt; appropriate disclaimer about the information not being up to date-\r\n&gt; while we clean up those other sites.\r\n&gt; \r\n&gt; Try [Code Conventions for the Java Programming Language](http://www.oracle.com/technetwork/java/index-135089.html)\r\n\r\nAnd indeed, seems the page has been restored.","title":"Oracle Java code conventions","body":"<p>One option is to use wayback machine, which <a href=\"http://web.archive.org/web/20140222045352/http://www.oracle.com/technetwork/java/codeconv-138413.html\" rel=\"noreferrer\">seems to contain the document</a> (<a href=\"http://web.archive.org/web/20140228225807/http://www.oracle.com/technetwork/java/codeconventions-150003.pdf\" rel=\"noreferrer\">here's direct link to pdf version</a>). However I would also be interested to find out what Oracle did with it and do they intend to get rid of it.</p>\n\n<p>There's a <a href=\"https://community.oracle.com/thread/3544233\" rel=\"noreferrer\">discussion on Oracle forums</a> about this being raised to OTN support, but no response is mentioned.</p>\n\n<hr>\n\n<p>Update on 17.6.2014: There's now a <a href=\"https://community.oracle.com/message/12472357#12472357\" rel=\"noreferrer\">forum posting</a> added to the site explaining the following:</p>\n\n<blockquote>\n  <p>Those Java Code Conventions were written in 1999 and have not been\n  maintained since.</p>\n  \n  <p>The information might not be up to date; links within the documents\n  might not work.    That is why the pages were removed.  Unfortunately\n  there are other sites that point to that document which were not\n  updated.</p>\n  \n  <p>To avoid confusions we have re-posted the original document –with an\n  appropriate disclaimer about the information not being up to date-\n  while we clean up those other sites.</p>\n  \n  <p>Try <a href=\"http://www.oracle.com/technetwork/java/index-135089.html\" rel=\"noreferrer\">Code Conventions for the Java Programming Language</a></p>\n</blockquote>\n\n<p>And indeed, seems the page has been restored.</p>\n"},{"tags":[],"owner":{"account_id":4858987,"reputation":11,"user_id":3919199,"display_name":"user3919199"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1407428145,"creation_date":1407428145,"answer_id":25187396,"question_id":22961733,"body_markdown":"The document could be found at:\r\nhttp://www.oracle.com/technetwork/java/codeconventions-150003.pdf","title":"Oracle Java code conventions","body":"<p>The document could be found at:\n<a href=\"http://www.oracle.com/technetwork/java/codeconventions-150003.pdf\" rel=\"nofollow\">http://www.oracle.com/technetwork/java/codeconventions-150003.pdf</a></p>\n"},{"tags":[],"owner":{"account_id":411439,"reputation":211,"user_id":783880,"accept_rate":71,"display_name":"Andy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1457009061,"creation_date":1428084141,"answer_id":29437376,"question_id":22961733,"body_markdown":"I think that document is dated. SEI has published [the latest standards][1] - cool and really good.\r\n\r\n  [1]: https://www.securecoding.cert.org/confluence/display/java/Java+Coding+Guidelines","title":"Oracle Java code conventions","body":"<p>I think that document is dated. SEI has published <a href=\"https://www.securecoding.cert.org/confluence/display/java/Java+Coding+Guidelines\" rel=\"nofollow\">the latest standards</a> - cool and really good.</p>\n"},{"tags":[],"owner":{"account_id":7635183,"reputation":1513,"user_id":5788941,"display_name":"Alexandre Cartapanis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1464622748,"creation_date":1464622748,"answer_id":37529432,"question_id":22961733,"body_markdown":"The old document seems to be available as HTML too [http://www.oracle.com/technetwork/java/codeconvtoc-136057.html][1]\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/codeconvtoc-136057.html","title":"Oracle Java code conventions","body":"<p>The old document seems to be available as HTML too <a href=\"http://www.oracle.com/technetwork/java/codeconvtoc-136057.html\" rel=\"nofollow\">http://www.oracle.com/technetwork/java/codeconvtoc-136057.html</a></p>\n"},{"tags":[],"owner":{"account_id":2577787,"reputation":1635,"user_id":2235085,"display_name":"Ivan Proskuryakov"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1524429486,"creation_date":1524428984,"answer_id":49970437,"question_id":22961733,"body_markdown":"The required basis is here:\r\n\r\nGoogle:\r\n\r\n - https://github.com/google/styleguide\r\n - https://google.github.io/styleguide/javaguide.html\r\n\r\nOracle:\r\n\r\n - http://www.oracle.com/technetwork/java/codeconventions-150003.pdf\r\n\r\nSpring:\r\n\r\n - https://github.com/spring-projects/spring-framework/wiki/Code-Style\r\n - https://github.com/47deg/coding-guidelines/tree/master/java/spring\r\n\r\n\r\nMore advanced stuff, related to logical structures in the book on page https://martinfowler.com/eaaCatalog/ and the book &quot;Clean Code&quot;\r\n\r\n\r\n----------\r\n","title":"Oracle Java code conventions","body":"<p>The required basis is here:</p>\n\n<p>Google:</p>\n\n<ul>\n<li><a href=\"https://github.com/google/styleguide\" rel=\"noreferrer\">https://github.com/google/styleguide</a></li>\n<li><a href=\"https://google.github.io/styleguide/javaguide.html\" rel=\"noreferrer\">https://google.github.io/styleguide/javaguide.html</a></li>\n</ul>\n\n<p>Oracle:</p>\n\n<ul>\n<li><a href=\"http://www.oracle.com/technetwork/java/codeconventions-150003.pdf\" rel=\"noreferrer\">http://www.oracle.com/technetwork/java/codeconventions-150003.pdf</a></li>\n</ul>\n\n<p>Spring:</p>\n\n<ul>\n<li><a href=\"https://github.com/spring-projects/spring-framework/wiki/Code-Style\" rel=\"noreferrer\">https://github.com/spring-projects/spring-framework/wiki/Code-Style</a></li>\n<li><a href=\"https://github.com/47deg/coding-guidelines/tree/master/java/spring\" rel=\"noreferrer\">https://github.com/47deg/coding-guidelines/tree/master/java/spring</a></li>\n</ul>\n\n<p>More advanced stuff, related to logical structures in the book on page <a href=\"https://martinfowler.com/eaaCatalog/\" rel=\"noreferrer\">https://martinfowler.com/eaaCatalog/</a> and the book \"Clean Code\"</p>\n\n<hr>\n"},{"tags":[],"owner":{"account_id":7483049,"reputation":1,"user_id":5687256,"display_name":"TMF"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642791742,"creation_date":1642791742,"answer_id":70806397,"question_id":22961733,"body_markdown":"I answer this only because the Oracle docs linked here seem to have last been edited in 1997 and this Oracle doc was last edited in April 20, 1999. It has the appropriate disclaimer of no longer being updated.\r\nhttps://www.oracle.com/java/technologies/javase/codeconventions-fileorganization.html ","title":"Oracle Java code conventions","body":"<p>I answer this only because the Oracle docs linked here seem to have last been edited in 1997 and this Oracle doc was last edited in April 20, 1999. It has the appropriate disclaimer of no longer being updated.\n<a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-fileorganization.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/javase/codeconventions-fileorganization.html</a></p>\n"}],"owner":{"account_id":453152,"reputation":1488,"user_id":849981,"accept_rate":64,"display_name":"X-HuMan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32165,"favorite_count":0,"down_vote_count":4,"up_vote_count":55,"accepted_answer_id":22967234,"answer_count":6,"score":51,"last_activity_date":1642791742,"creation_date":1397044492,"question_id":22961733,"body_markdown":"Does someone know where I can find the document by Oracle which describes Java code conventions?\r\n\r\nThis URL is not available anymore, for that reason I created new question for this topic.\r\n\r\nhttp://www.oracle.com/technetwork/java/codeconv-138413.html ","title":"Oracle Java code conventions","body":"<p>Does someone know where I can find the document by Oracle which describes Java code conventions?</p>\n\n<p>This URL is not available anymore, for that reason I created new question for this topic.</p>\n\n<p><a href=\"http://www.oracle.com/technetwork/java/codeconv-138413.html\">http://www.oracle.com/technetwork/java/codeconv-138413.html</a> </p>\n"},{"tags":["java","eclipse","objectaid"],"comments":[{"owner":{"account_id":15258957,"reputation":1704,"user_id":11009696,"display_name":"Sana&#39;a Al-ahdal"},"score":0,"creation_date":1619643462,"post_id":67305402,"comment_id":118970807,"body_markdown":"can you add the error message, so you could get help faster","body":"can you add the error message, so you could get help faster"}],"answers":[{"tags":[],"owner":{"account_id":2590622,"reputation":523,"user_id":2245414,"accept_rate":75,"display_name":"froggy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642791684,"creation_date":1642791684,"answer_id":70806389,"question_id":67305402,"body_markdown":"The only one i found was to go back to an Eclipse &lt;= 4.19 ","title":"trouble installing object aid in eclipse","body":"<p>The only one i found was to go back to an Eclipse &lt;= 4.19</p>\n"}],"owner":{"account_id":21194091,"reputation":11,"user_id":15586000,"display_name":"he0l"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":257,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642791684,"creation_date":1619632128,"question_id":67305402,"body_markdown":"I have installed the object aid in my eclipse but when I want to create the diagram, I cannot click the finish button like this. Does anyone know how to fix this problem?\r\n\r\n\r\n  [1]: [https://i.stack.imgur.com/ED6ds.png][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ED6ds.png","title":"trouble installing object aid in eclipse","body":"<p>I have installed the object aid in my eclipse but when I want to create the diagram, I cannot click the finish button like this. Does anyone know how to fix this problem?</p>\n"},{"tags":["java","bitcoin","bitcoinj"],"answers":[{"tags":[],"owner":{"account_id":443924,"reputation":56,"user_id":3647312,"display_name":"Vadym Vikulin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642791649,"creation_date":1642791649,"answer_id":70806384,"question_id":66604351,"body_markdown":"Upgrade bitcoinj with latest version: this is known defect.","title":"bitcoinj-core failed to parse blockchain","body":"<p>Upgrade bitcoinj with latest version: this is known defect.</p>\n"}],"owner":{"account_id":1473667,"reputation":557,"user_id":1384608,"accept_rate":0,"display_name":"Hollow.Quincy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1642791649,"creation_date":1615569423,"question_id":66604351,"body_markdown":"I downloaded bitcoin synchronization:\r\nhttps://bitcoin.org/bin/bitcoin-core-0.21.0/bitcoin-0.21.0-x86_64-linux-gnu.tar.gz\r\n\r\nIn Java I use the newest `bitcoinj-core`:\r\n```\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.bitcoinj&lt;/groupId&gt;\r\n      &lt;artifactId&gt;bitcoinj-core&lt;/artifactId&gt;\r\n      &lt;version&gt;0.15.10&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\nI have a code: \r\n```\r\n List&lt;File&gt; list = new ArrayList&lt;&gt;();\r\n    list.add(new File(&quot;/bitcoin/src/test/resources/rev00001.dat&quot;));\r\n    MainNetParams params = MainNetParams.get();\r\n    Context context = new Context(params);\r\n    BlockFileLoader bfl = new BlockFileLoader(params, list);\r\n\r\n    for (Block block : bfl) {\r\n      System.out.println(block.getHashAsString());\r\n    }\r\n```\r\nI have the exception:\r\n```\r\njava.lang.RuntimeException: unexpected problem with block in /bitcoin/src/test/resources/rev00001.dat\r\n...\r\nCaused by: java.lang.NegativeArraySizeException: -989849719\r\n\tat org.bitcoinj.core.Message.readBytes(Message.java:337)\r\n```\r\n\r\n","title":"bitcoinj-core failed to parse blockchain","body":"<p>I downloaded bitcoin synchronization:\n<a href=\"https://bitcoin.org/bin/bitcoin-core-0.21.0/bitcoin-0.21.0-x86_64-linux-gnu.tar.gz\" rel=\"nofollow noreferrer\">https://bitcoin.org/bin/bitcoin-core-0.21.0/bitcoin-0.21.0-x86_64-linux-gnu.tar.gz</a></p>\n<p>In Java I use the newest <code>bitcoinj-core</code>:</p>\n<pre><code>    &lt;dependency&gt;\n      &lt;groupId&gt;org.bitcoinj&lt;/groupId&gt;\n      &lt;artifactId&gt;bitcoinj-core&lt;/artifactId&gt;\n      &lt;version&gt;0.15.10&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I have a code:</p>\n<pre><code> List&lt;File&gt; list = new ArrayList&lt;&gt;();\n    list.add(new File(&quot;/bitcoin/src/test/resources/rev00001.dat&quot;));\n    MainNetParams params = MainNetParams.get();\n    Context context = new Context(params);\n    BlockFileLoader bfl = new BlockFileLoader(params, list);\n\n    for (Block block : bfl) {\n      System.out.println(block.getHashAsString());\n    }\n</code></pre>\n<p>I have the exception:</p>\n<pre><code>java.lang.RuntimeException: unexpected problem with block in /bitcoin/src/test/resources/rev00001.dat\n...\nCaused by: java.lang.NegativeArraySizeException: -989849719\n    at org.bitcoinj.core.Message.readBytes(Message.java:337)\n</code></pre>\n"},{"tags":["java","exception","java-stream"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1642694731,"post_id":70789483,"comment_id":125144952,"body_markdown":"You are explicitly throwing the exception. How about _not_ throwing it, and just returning the empty optional instead?","body":"You are explicitly throwing the exception. How about <i>not</i> throwing it, and just returning the empty optional instead?"},{"owner":{"account_id":23151699,"reputation":11,"user_id":17253597,"display_name":"t thog"},"score":0,"creation_date":1642695033,"post_id":70789483,"comment_id":125145074,"body_markdown":"@AndyTurner i need it to throw the exception explicitly when it can&#39;t find the batchId in the repository","body":"@AndyTurner i need it to throw the exception explicitly when it can&#39;t find the batchId in the repository"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1642698199,"post_id":70789483,"comment_id":125146577,"body_markdown":"@tthog you say you want to _handle_ the exception without try/catch. You don&#39;t need to throw an exception, catch an exception, then do something: just do the thing. (Plus, of course, you need a terminal operation on the stream, or it will never evaluate).","body":"@tthog you say you want to <i>handle</i> the exception without try/catch. You don&#39;t need to throw an exception, catch an exception, then do something: just do the thing. (Plus, of course, you need a terminal operation on the stream, or it will never evaluate)."}],"answers":[{"tags":[],"owner":{"account_id":7523221,"reputation":66,"user_id":10025174,"display_name":"Artem Evdokimov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642791438,"creation_date":1642697700,"answer_id":70790267,"question_id":70789483,"body_markdown":"You can&#39;t throw checked exception that way. \r\n\r\nYou can:\r\n1) Throw RuntimeException and handle it later, maybe in another method, or don&#39;t handle it at all:\r\n\r\n        public void test() {\r\n        list.stream().map(obj -&gt; {\r\n            Batch batch = x.findByBatchId(obj.getBatchId())\r\n                    /// exception is thrown here\r\n                    .orElseThrow(() -&gt; new RuntimeException(&quot;&quot;));\r\n\r\n            if (obj.getBatchStatus() != null) {\r\n                batchHelper.updateBatchStatus(batch, obj.getBatchStatus());\r\n            }\r\n        });\r\n    \r\n\r\n2) Use **for statement** and add your exception to method signature:\r\n\r\n        public void test() throws  ResourceNotFoundException {\r\n        for (BatchInfo bi: list) {\r\n            .findByBatchId(bi.getBatchId()).orElseThrow(\r\n                    () -&gt; new ResourceNotFoundException(&quot;&quot;));\r\n        }\r\n\r\n\r\nIt also depends on what you want to do in case of exception. \r\nIf you just want to let users know they do something wrong - use RuntimeException\r\n\r\n3) If you want just update Batch status, use **forEach**, not **map** :\r\n\r\n        list.stream().forEach(obj -&gt; {\r\n            Batch batch = x.findByBatchId(obj.getBatchId())\r\n                    /// exception is thrown here\r\n                    .orElseThrow(() -&gt; new RuntimeException(&quot;&quot;));\r\n\r\n            if (obj.getBatchStatus() != null) {\r\n                batchHelper.updateBatchStatus(batch, obj.getBatchStatus());\r\n            }\r\n        });\r\n    \r\n","title":"How to handle exceptions thrown in streams map without try catch?","body":"<p>You can't throw checked exception that way.</p>\n<p>You can:</p>\n<ol>\n<li><p>Throw RuntimeException and handle it later, maybe in another method, or don't handle it at all:</p>\n<pre><code> public void test() {\n list.stream().map(obj -&gt; {\n     Batch batch = x.findByBatchId(obj.getBatchId())\n             /// exception is thrown here\n             .orElseThrow(() -&gt; new RuntimeException(&quot;&quot;));\n\n     if (obj.getBatchStatus() != null) {\n         batchHelper.updateBatchStatus(batch, obj.getBatchStatus());\n     }\n });\n</code></pre>\n</li>\n<li><p>Use <strong>for statement</strong> and add your exception to method signature:</p>\n<pre><code> public void test() throws  ResourceNotFoundException {\n for (BatchInfo bi: list) {\n     .findByBatchId(bi.getBatchId()).orElseThrow(\n             () -&gt; new ResourceNotFoundException(&quot;&quot;));\n }\n</code></pre>\n</li>\n</ol>\n<p>It also depends on what you want to do in case of exception.\nIf you just want to let users know they do something wrong - use RuntimeException</p>\n<ol start=\"3\">\n<li><p>If you want just update Batch status, use <strong>forEach</strong>, not <strong>map</strong> :</p>\n<pre><code> list.stream().forEach(obj -&gt; {\n     Batch batch = x.findByBatchId(obj.getBatchId())\n             /// exception is thrown here\n             .orElseThrow(() -&gt; new RuntimeException(&quot;&quot;));\n\n     if (obj.getBatchStatus() != null) {\n         batchHelper.updateBatchStatus(batch, obj.getBatchStatus());\n     }\n });\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":23151699,"reputation":11,"user_id":17253597,"display_name":"t thog"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2320,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642791438,"creation_date":1642694579,"question_id":70789483,"body_markdown":"I want to handle the exception without using try catch clauses.\r\n\r\n```\r\nvoid test() {\r\n    list.stream().map(obj -&gt; {\r\n        Batch batch = x.findByBatchId(obj.getBatchId())\r\n            /// exception is thrown here\r\n            .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;&quot;)); \r\n\r\n        if (obj.getBatchStatus() != null) {\r\n            batchHelper.updateBatchStatus(batch, obj.getBatchStatus());\r\n        }\r\n    });\r\n}\r\n```","title":"How to handle exceptions thrown in streams map without try catch?","body":"<p>I want to handle the exception without using try catch clauses.</p>\n<pre><code>void test() {\n    list.stream().map(obj -&gt; {\n        Batch batch = x.findByBatchId(obj.getBatchId())\n            /// exception is thrown here\n            .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;&quot;)); \n\n        if (obj.getBatchStatus() != null) {\n            batchHelper.updateBatchStatus(batch, obj.getBatchStatus());\n        }\n    });\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","dto"],"answers":[{"tags":[],"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642791383,"creation_date":1642791383,"answer_id":70806334,"question_id":70806256,"body_markdown":"`@RequiredArgsConstructor` will create a constructor for only **required** arguments (with keyword **final**). \r\n\r\n`@AllArgsConstructor` will create a constructor for all arguments. Neither of these 2 constructors match the json object for `UserDTO`.\r\n\r\nFurthermore most serializing/deserializing frameworks like Jackson that map Json to Java objects require a no argument constructor to instantiate the object before setting the fields. So you should always have `@NoArgsConstructor` for that purpose.\r\n\r\nAlso in Intellij you can use `Alt + 7` or through `View -&gt; Tool Windows -&gt; Structure` to see the methods that has been generated\r\n","title":"Trying to implement DTO&#39;s and Builder to those DTO: An established connection was aborted by the software in your host machine","body":"<p><code>@RequiredArgsConstructor</code> will create a constructor for only <strong>required</strong> arguments (with keyword <strong>final</strong>).</p>\n<p><code>@AllArgsConstructor</code> will create a constructor for all arguments. Neither of these 2 constructors match the json object for <code>UserDTO</code>.</p>\n<p>Furthermore most serializing/deserializing frameworks like Jackson that map Json to Java objects require a no argument constructor to instantiate the object before setting the fields. So you should always have <code>@NoArgsConstructor</code> for that purpose.</p>\n<p>Also in Intellij you can use <code>Alt + 7</code> or through <code>View -&gt; Tool Windows -&gt; Structure</code> to see the methods that has been generated</p>\n"}],"owner":{"account_id":21382966,"reputation":219,"user_id":15748566,"display_name":"devo9191"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642791383,"creation_date":1642790955,"question_id":70806256,"body_markdown":"I have a JPA entity User with a u/OneToMany relation to UserStats, I have made DTO&#39;s for both of these and have used the Lombok builder annotation. I have updated my controller code to not just pass the JSON request to the service for parsing and constructing a user directly.\r\n\r\nBefore showing the An established connection was aborted error it was showing a &#39;Actual list of paramaters do not match for UserDTO: Required: none, Found: &#39;java.lang.type.string, ..etc&#39;\r\n\r\nThe JSON request:\r\n\r\n    {username: &quot;ss&quot;, name: &quot;Sam&quot;, password: &quot;password&quot;} \r\n\r\nI think it&#39;s something to do with the JSON request, while this may have worked for just constructing User objects, I don&#39;t know how to send a request capable of becoming a DTO?\r\n\r\n\r\nUserDTO:\r\n\r\n    @Getter\r\n    @Setter\r\n    @Builder()\r\n    @RequiredArgsConstructor\r\n    @AllArgsConstructor\r\n    public class UserDTO {\r\n\r\n    @Autowired\r\n    ModelMapper modelMapper;\r\n\r\n    private String username;\r\n\r\n    private String password;\r\n\r\n    private String name;\r\n    private String email;\r\n    private String location;\r\n    private String bio;\r\n    private Integer rating;\r\n\r\n    @JsonIgnore\r\n    private Double leaguePoints = 0.00;\r\n\r\n    //Integer value of the current played games in 1 league, resets to 0 when league is finished.\r\n    @JsonIgnore\r\n    private Integer currentLeagueGamesPlayed = 0;\r\n\r\n    //Integer value of the total played games.\r\n    @JsonIgnore\r\n    private Integer totalGamesPlayed = 0;\r\n\r\n    @JsonIgnore\r\n    String highestAchievedLeagueType = &quot;bronze&quot;;\r\n\r\n\r\n    UserStats innerUserStats = new UserStats();\r\n    UserStats leagueUserStats = new UserStats();\r\n\r\n    //array of strings\r\n    UserStats[] userStatsArray = {innerUserStats, leagueUserStats};\r\n\r\n    private List&lt;UserStats&gt; userStats = Arrays.asList(userStatsArray);\r\n\r\n    }\r\n\r\n    UserStatsDTO \r\n\r\n    @Getter\r\n    @Setter\r\n    @Builder\r\n    public class UserStatsDTO {\r\n\r\n    private Integer victories = 0;\r\n    private Integer draws = 0;\r\n    private Integer defeats = 0;\r\n\r\n    private Double victoryScore = 0.0;\r\n\r\n    private boolean isLeagueUserStats;\r\n\r\n    }\r\n\r\nUser entity:\r\n\r\n    @Entity(name = &quot;User&quot;)\r\n    @Table(name = &quot;user&quot;)\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class User implements Serializable {\r\n\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long id;\r\n\r\n    @Column(name = &quot;username&quot;, unique = true)\r\n    private String username;\r\n\r\n    @Column(name = &quot;password&quot;)\r\n    private String password;\r\n\r\n    private String name;\r\n    private String email;\r\n    private String location;\r\n    private String bio;\r\n    private Integer rating;\r\n\r\n\r\n    @OneToMany(fetch = FetchType.EAGER, mappedBy = &quot;user&quot;, cascade = CascadeType.PERSIST)\r\n    private List&lt;UserStats&gt; userStats;\r\n\r\n\r\n    private Double leaguePoints;\r\n\r\n    //Integer value of the current played games in 1 league, resets to 0 when league is finished.\r\n    private Integer currentLeagueGamesPlayed;\r\n\r\n    //Integer value of the total played games.\r\n    private Integer totalGamesPlayed;\r\n\r\n    @JsonIgnore\r\n    @ManyToOne(fetch = FetchType.EAGER)\r\n    private League league;\r\n\r\n\r\n    @JsonIgnore\r\n    @ManyToMany(fetch = FetchType.EAGER)\r\n    private List&lt;ArchivedLeague&gt; archivedLeagues;\r\n\r\n\r\n    private String highestAchievedLeagueType;\r\n\r\n    @JsonIgnore\r\n    @ManyToMany(fetch = FetchType.EAGER)\r\n    private Set&lt;Game&gt; playedGames;\r\n\r\n    @JsonIgnore\r\n    @ManyToMany\r\n    private Set&lt;Message&gt; sentMessages;\r\n    }\r\n\r\nUserStats entity:\r\n\r\n    @Entity()\r\n    @Table(name = &quot;userStats&quot;)\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class UserStats {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long userStatsId;\r\n    \r\n        private Integer victories;\r\n        private Integer draws;\r\n        private Integer defeats;\r\n    \r\n        private Double victoryScore;\r\n    \r\n    \r\n        private boolean isLeagueUserStats;\r\n    }\r\n\r\nUSER CONTROLLER METHOD:\r\n\r\n    @PostMapping(&quot;/signup&quot;)\r\n        public ResponseEntity&lt;UserDTO&gt; signUp(@RequestBody UserDTO userDTO) {\r\n\r\n                System.out.println(userDTO.getUsername());\r\n\r\n                User userRequest = modelMapper.map(userDTO, User.class);\r\n\r\n                System.out.println(&quot;SIGNED UP USER&quot;);\r\n\r\n                User user = userService.signUpUser(userRequest);\r\n\r\n                UserDTO userResponse = modelMapper.map(user, UserDTO.class);\r\n\r\n                return new ResponseEntity&lt;UserDTO&gt;(userResponse, HttpStatus.CREATED);\r\n        }\r\nThanks for any help!\r\n\r\n\r\n\r\n\r\n","title":"Trying to implement DTO&#39;s and Builder to those DTO: An established connection was aborted by the software in your host machine","body":"<p>I have a JPA entity User with a u/OneToMany relation to UserStats, I have made DTO's for both of these and have used the Lombok builder annotation. I have updated my controller code to not just pass the JSON request to the service for parsing and constructing a user directly.</p>\n<p>Before showing the An established connection was aborted error it was showing a 'Actual list of paramaters do not match for UserDTO: Required: none, Found: 'java.lang.type.string, ..etc'</p>\n<p>The JSON request:</p>\n<pre><code>{username: &quot;ss&quot;, name: &quot;Sam&quot;, password: &quot;password&quot;} \n</code></pre>\n<p>I think it's something to do with the JSON request, while this may have worked for just constructing User objects, I don't know how to send a request capable of becoming a DTO?</p>\n<p>UserDTO:</p>\n<pre><code>@Getter\n@Setter\n@Builder()\n@RequiredArgsConstructor\n@AllArgsConstructor\npublic class UserDTO {\n\n@Autowired\nModelMapper modelMapper;\n\nprivate String username;\n\nprivate String password;\n\nprivate String name;\nprivate String email;\nprivate String location;\nprivate String bio;\nprivate Integer rating;\n\n@JsonIgnore\nprivate Double leaguePoints = 0.00;\n\n//Integer value of the current played games in 1 league, resets to 0 when league is finished.\n@JsonIgnore\nprivate Integer currentLeagueGamesPlayed = 0;\n\n//Integer value of the total played games.\n@JsonIgnore\nprivate Integer totalGamesPlayed = 0;\n\n@JsonIgnore\nString highestAchievedLeagueType = &quot;bronze&quot;;\n\n\nUserStats innerUserStats = new UserStats();\nUserStats leagueUserStats = new UserStats();\n\n//array of strings\nUserStats[] userStatsArray = {innerUserStats, leagueUserStats};\n\nprivate List&lt;UserStats&gt; userStats = Arrays.asList(userStatsArray);\n\n}\n\nUserStatsDTO \n\n@Getter\n@Setter\n@Builder\npublic class UserStatsDTO {\n\nprivate Integer victories = 0;\nprivate Integer draws = 0;\nprivate Integer defeats = 0;\n\nprivate Double victoryScore = 0.0;\n\nprivate boolean isLeagueUserStats;\n\n}\n</code></pre>\n<p>User entity:</p>\n<pre><code>@Entity(name = &quot;User&quot;)\n@Table(name = &quot;user&quot;)\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class User implements Serializable {\n\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate long id;\n\n@Column(name = &quot;username&quot;, unique = true)\nprivate String username;\n\n@Column(name = &quot;password&quot;)\nprivate String password;\n\nprivate String name;\nprivate String email;\nprivate String location;\nprivate String bio;\nprivate Integer rating;\n\n\n@OneToMany(fetch = FetchType.EAGER, mappedBy = &quot;user&quot;, cascade = CascadeType.PERSIST)\nprivate List&lt;UserStats&gt; userStats;\n\n\nprivate Double leaguePoints;\n\n//Integer value of the current played games in 1 league, resets to 0 when league is finished.\nprivate Integer currentLeagueGamesPlayed;\n\n//Integer value of the total played games.\nprivate Integer totalGamesPlayed;\n\n@JsonIgnore\n@ManyToOne(fetch = FetchType.EAGER)\nprivate League league;\n\n\n@JsonIgnore\n@ManyToMany(fetch = FetchType.EAGER)\nprivate List&lt;ArchivedLeague&gt; archivedLeagues;\n\n\nprivate String highestAchievedLeagueType;\n\n@JsonIgnore\n@ManyToMany(fetch = FetchType.EAGER)\nprivate Set&lt;Game&gt; playedGames;\n\n@JsonIgnore\n@ManyToMany\nprivate Set&lt;Message&gt; sentMessages;\n}\n</code></pre>\n<p>UserStats entity:</p>\n<pre><code>@Entity()\n@Table(name = &quot;userStats&quot;)\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class UserStats {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long userStatsId;\n\n    private Integer victories;\n    private Integer draws;\n    private Integer defeats;\n\n    private Double victoryScore;\n\n\n    private boolean isLeagueUserStats;\n}\n</code></pre>\n<p>USER CONTROLLER METHOD:</p>\n<pre><code>@PostMapping(&quot;/signup&quot;)\n    public ResponseEntity&lt;UserDTO&gt; signUp(@RequestBody UserDTO userDTO) {\n\n            System.out.println(userDTO.getUsername());\n\n            User userRequest = modelMapper.map(userDTO, User.class);\n\n            System.out.println(&quot;SIGNED UP USER&quot;);\n\n            User user = userService.signUpUser(userRequest);\n\n            UserDTO userResponse = modelMapper.map(user, UserDTO.class);\n\n            return new ResponseEntity&lt;UserDTO&gt;(userResponse, HttpStatus.CREATED);\n    }\n</code></pre>\n<p>Thanks for any help!</p>\n"},{"tags":["java","objectaid"],"answers":[{"tags":[],"owner":{"account_id":2590622,"reputation":523,"user_id":2245414,"accept_rate":75,"display_name":"froggy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642791121,"creation_date":1642791121,"answer_id":70806288,"question_id":70284532,"body_markdown":"Hi I experimented the same. Only Eclipse versions &lt; 4.19 allow objectAid to work correctly. ","title":"Cannot use Object Aid in Eclipse 2021","body":"<p>Hi I experimented the same. Only Eclipse versions &lt; 4.19 allow objectAid to work correctly.</p>\n"}],"owner":{"account_id":23349694,"reputation":15,"user_id":17423425,"display_name":"Trainer Chad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":702,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642791121,"creation_date":1639022278,"question_id":70284532,"body_markdown":"I tried to use Object Aid to generate diagram from a code but when I clicked the finish button nothing happen.Do you know how to fix this? Thank you.\r\n[Here is the problem][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zYw7T.png","title":"Cannot use Object Aid in Eclipse 2021","body":"<p>I tried to use Object Aid to generate diagram from a code but when I clicked the finish button nothing happen.Do you know how to fix this? Thank you.\n<a href=\"https://i.stack.imgur.com/zYw7T.png\" rel=\"nofollow noreferrer\">Here is the problem</a></p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1642669827,"post_id":70775979,"comment_id":125134199,"body_markdown":"your new code does not include `amUsers` and `amAdmin` and thats where your problem lies, but since you have not included anything that contains those two names in your new code, then this is unsolvable. So the simple question is, what are those, and where is the code that includes those names? and why havnt you posted that code since thats clearly seems to be where the problem is.","body":"your new code does not include <code>amUsers</code> and <code>amAdmin</code> and thats where your problem lies, but since you have not included anything that contains those two names in your new code, then this is unsolvable. So the simple question is, what are those, and where is the code that includes those names? and why havnt you posted that code since thats clearly seems to be where the problem is."}],"answers":[{"tags":[],"owner":{"account_id":2623128,"reputation":775,"user_id":2270735,"accept_rate":50,"display_name":"Alberto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642790912,"creation_date":1642790912,"answer_id":70806246,"question_id":70775979,"body_markdown":"Finally I solved it modifying my xml. I have merged the two `authentication-provider` and referenced the name of the `authentication-manager` in the http settings (Spring beans are not required):\r\n\r\n    &lt;beans:beans xmlns=&quot;http://www.springframework.org/schema/security&quot;\r\n\t\txmlns:beans=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n\t\thttp://www.springframework.org/schema/beans/spring-beans-3.0.xsd\r\n\t\thttp://www.springframework.org/schema/security\r\n\t\thttp://www.springframework.org/schema/security/spring-security-5.3.xsd&quot;&gt;\r\n\r\n\t\t&lt;http auto-config=&quot;false&quot; pattern=&quot;/admin/**&quot; authentication-manager-ref=&quot;authenticationManager&quot; use-expressions=&quot;true&quot;&gt;\r\n\t\t\t&lt;intercept-url pattern=&quot;/admin/login&quot; access=&quot;permitAll()&quot; /&gt;\r\n\t\t\t&lt;intercept-url pattern=&quot;/admin/*&quot; access=&quot;hasRole(&#39;ROLE_ADMIN&#39;)&quot; /&gt;\r\n\t\t\t&lt;intercept-url pattern=&quot;/admin**&quot; access=&quot;hasRole(&#39;ROLE_ADMIN&#39;)&quot; /&gt;\r\n\t\t\t&lt;form-login\r\n\t\t\t\tlogin-page=&quot;/admin/login&quot;\r\n\t\t\t\tdefault-target-url=&quot;/admin/&quot;\r\n\t\t\t\tlogin-processing-url=&quot;/admin/j_spring_security_check&quot;\r\n\t\t\t\tauthentication-failure-url=&quot;/admin/login?error&quot;\r\n\t\t\t\tusername-parameter=&quot;username&quot;\r\n\t\t\t\tpassword-parameter=&quot;password&quot; /&gt;\r\n\t\t\t&lt;logout logout-url=&quot;/admin/j_spring_security_logout&quot; logout-success-url=&quot;/admin/login?logout&quot; /&gt;\r\n\t\t\t&lt;!-- enable csrf protection --&gt;\r\n\t\t\t&lt;!-- &lt;csrf/&gt; --&gt;\r\n\t\t\t&lt;csrf disabled=&quot;true&quot; /&gt;\r\n\t\t&lt;/http&gt;\r\n\r\n\t\t&lt;http auto-config=&quot;false&quot; pattern=&quot;/private/**&quot; authentication-manager-ref=&quot;authenticationManager&quot; use-expressions=&quot;true&quot;&gt;\r\n\t\t\t&lt;intercept-url pattern=&quot;/private/login&quot; access=&quot;permitAll()&quot; /&gt;\r\n\t\t\t&lt;intercept-url pattern=&quot;/private/getPassword&quot; access=&quot;permitAll()&quot; /&gt;\r\n\t\t\t&lt;intercept-url pattern=&quot;/private/*&quot; access=&quot;hasRole(&#39;ROLE_USER&#39;)&quot; /&gt;\r\n\t\t\t&lt;intercept-url pattern=&quot;/private**&quot; access=&quot;hasRole(&#39;ROLE_USER&#39;)&quot; /&gt;\r\n\t\t\t&lt;form-login\r\n\t\t\t\tlogin-page=&quot;/private/login&quot;\r\n\t\t\t\tdefault-target-url=&quot;/private/account/&quot;\r\n\t\t\t\tlogin-processing-url=&quot;/private/j_spring_security_check&quot;\r\n\t\t\t\tauthentication-failure-url=&quot;/private/login?error&quot;\r\n\t\t\t\tauthentication-success-handler-ref=&quot;savedRequestAwareAuthenticationSuccessHandler&quot;\r\n\t\t\t\tusername-parameter=&quot;username&quot;\r\n\t\t\t\tpassword-parameter=&quot;password&quot; /&gt;\r\n\t\t\t&lt;logout logout-url=&quot;/private/j_spring_security_logout&quot; logout-success-url=&quot;/private/login?logout&quot; /&gt;\r\n\t\t\t&lt;!-- 1209600 --&gt;\r\n\t\t\t&lt;remember-me\r\n\t\t\t\tuser-service-ref=&quot;usUsuarios&quot;\r\n\t\t\t\ttoken-validity-seconds=&quot;1209600&quot;\r\n\t\t\t\tremember-me-parameter=&quot;remember-me&quot;\r\n\t\t\t\tdata-source-ref=&quot;myDataSource&quot; /&gt;\r\n\t\t\t&lt;csrf disabled=&quot;true&quot; /&gt;\r\n\t\t&lt;/http&gt;\r\n\r\n\t\t&lt;authentication-manager id=&quot;authenticationManager&quot; &gt;\r\n\t\t\t&lt;authentication-provider&gt;\r\n\t\t\t\t&lt;password-encoder ref=&quot;encoder&quot; /&gt;\r\n\t\t\t\t&lt;user-service&gt;\r\n\t\t\t\t\t&lt;user name=&quot;user&quot; password=&quot;encryptedPass&quot; authorities=&quot;ROLE_ADMIN&quot; /&gt;\r\n\t\t\t\t&lt;/user-service&gt;\r\n\t\t\t&lt;/authentication-provider&gt;\r\n\t\t\t&lt;authentication-provider&gt;\r\n\t\t\t\t&lt;password-encoder ref=&quot;encoder&quot; /&gt;\r\n\t\t\t\t&lt;jdbc-user-service id=&quot;usUsuarios&quot; data-source-ref=&quot;myDataSource&quot;\r\n\t\t\t\t\tusers-by-username-query=\r\n\t\t\t\t\t\t&quot;select username, password, enabled from users where username = ?&quot;\r\n\t\t\t\t\tauthorities-by-username-query=\r\n\t\t\t\t\t\t&quot;select username, role from user_roles where username = ?&quot; /&gt;\r\n\t\t\t&lt;/authentication-provider&gt;\r\n\t\t&lt;/authentication-manager&gt;\r\n\r\n\r\n\t\t&lt;beans:bean id=&quot;encoder&quot; class=&quot;org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder&quot;&gt;\r\n\t\t\t&lt;beans:constructor-arg name=&quot;strength&quot; value=&quot;11&quot; /&gt;\r\n\t\t&lt;/beans:bean&gt;\r\n\t&lt;/beans:beans&gt;","title":"Migration spring boot (security) 2.0.8 to 2.3.12","body":"<p>Finally I solved it modifying my xml. I have merged the two <code>authentication-provider</code> and referenced the name of the <code>authentication-manager</code> in the http settings (Spring beans are not required):</p>\n<pre><code>&lt;beans:beans xmlns=&quot;http://www.springframework.org/schema/security&quot;\n    xmlns:beans=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\n    http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\n    http://www.springframework.org/schema/security\n    http://www.springframework.org/schema/security/spring-security-5.3.xsd&quot;&gt;\n\n    &lt;http auto-config=&quot;false&quot; pattern=&quot;/admin/**&quot; authentication-manager-ref=&quot;authenticationManager&quot; use-expressions=&quot;true&quot;&gt;\n        &lt;intercept-url pattern=&quot;/admin/login&quot; access=&quot;permitAll()&quot; /&gt;\n        &lt;intercept-url pattern=&quot;/admin/*&quot; access=&quot;hasRole('ROLE_ADMIN')&quot; /&gt;\n        &lt;intercept-url pattern=&quot;/admin**&quot; access=&quot;hasRole('ROLE_ADMIN')&quot; /&gt;\n        &lt;form-login\n            login-page=&quot;/admin/login&quot;\n            default-target-url=&quot;/admin/&quot;\n            login-processing-url=&quot;/admin/j_spring_security_check&quot;\n            authentication-failure-url=&quot;/admin/login?error&quot;\n            username-parameter=&quot;username&quot;\n            password-parameter=&quot;password&quot; /&gt;\n        &lt;logout logout-url=&quot;/admin/j_spring_security_logout&quot; logout-success-url=&quot;/admin/login?logout&quot; /&gt;\n        &lt;!-- enable csrf protection --&gt;\n        &lt;!-- &lt;csrf/&gt; --&gt;\n        &lt;csrf disabled=&quot;true&quot; /&gt;\n    &lt;/http&gt;\n\n    &lt;http auto-config=&quot;false&quot; pattern=&quot;/private/**&quot; authentication-manager-ref=&quot;authenticationManager&quot; use-expressions=&quot;true&quot;&gt;\n        &lt;intercept-url pattern=&quot;/private/login&quot; access=&quot;permitAll()&quot; /&gt;\n        &lt;intercept-url pattern=&quot;/private/getPassword&quot; access=&quot;permitAll()&quot; /&gt;\n        &lt;intercept-url pattern=&quot;/private/*&quot; access=&quot;hasRole('ROLE_USER')&quot; /&gt;\n        &lt;intercept-url pattern=&quot;/private**&quot; access=&quot;hasRole('ROLE_USER')&quot; /&gt;\n        &lt;form-login\n            login-page=&quot;/private/login&quot;\n            default-target-url=&quot;/private/account/&quot;\n            login-processing-url=&quot;/private/j_spring_security_check&quot;\n            authentication-failure-url=&quot;/private/login?error&quot;\n            authentication-success-handler-ref=&quot;savedRequestAwareAuthenticationSuccessHandler&quot;\n            username-parameter=&quot;username&quot;\n            password-parameter=&quot;password&quot; /&gt;\n        &lt;logout logout-url=&quot;/private/j_spring_security_logout&quot; logout-success-url=&quot;/private/login?logout&quot; /&gt;\n        &lt;!-- 1209600 --&gt;\n        &lt;remember-me\n            user-service-ref=&quot;usUsuarios&quot;\n            token-validity-seconds=&quot;1209600&quot;\n            remember-me-parameter=&quot;remember-me&quot;\n            data-source-ref=&quot;myDataSource&quot; /&gt;\n        &lt;csrf disabled=&quot;true&quot; /&gt;\n    &lt;/http&gt;\n\n    &lt;authentication-manager id=&quot;authenticationManager&quot; &gt;\n        &lt;authentication-provider&gt;\n            &lt;password-encoder ref=&quot;encoder&quot; /&gt;\n            &lt;user-service&gt;\n                &lt;user name=&quot;user&quot; password=&quot;encryptedPass&quot; authorities=&quot;ROLE_ADMIN&quot; /&gt;\n            &lt;/user-service&gt;\n        &lt;/authentication-provider&gt;\n        &lt;authentication-provider&gt;\n            &lt;password-encoder ref=&quot;encoder&quot; /&gt;\n            &lt;jdbc-user-service id=&quot;usUsuarios&quot; data-source-ref=&quot;myDataSource&quot;\n                users-by-username-query=\n                    &quot;select username, password, enabled from users where username = ?&quot;\n                authorities-by-username-query=\n                    &quot;select username, role from user_roles where username = ?&quot; /&gt;\n        &lt;/authentication-provider&gt;\n    &lt;/authentication-manager&gt;\n\n\n    &lt;beans:bean id=&quot;encoder&quot; class=&quot;org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder&quot;&gt;\n        &lt;beans:constructor-arg name=&quot;strength&quot; value=&quot;11&quot; /&gt;\n    &lt;/beans:bean&gt;\n&lt;/beans:beans&gt;\n</code></pre>\n"}],"owner":{"account_id":2623128,"reputation":775,"user_id":2270735,"accept_rate":50,"display_name":"Alberto"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":263,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642790912,"creation_date":1642617067,"question_id":70775979,"body_markdown":"I&#39;m trying to update an old project from Spring Boot **2.0.8** to **2.3.12**. But I am having problem with spring security.\r\n\r\n`pom.xml`:\r\n\r\n    &lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.3.12.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt;\r\n\t&lt;/parent&gt;\r\n\r\nMy `spring-security.xml` file working on **2.0.8**:\r\n\r\n    &lt;beans:beans xmlns=&quot;http://www.springframework.org/schema/security&quot;\r\n\txmlns:beans=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n\thttp://www.springframework.org/schema/beans/spring-beans-3.0.xsd\r\n\thttp://www.springframework.org/schema/security\r\n\thttp://www.springframework.org/schema/security/spring-security-5.3.xsd&quot;&gt;\r\n\r\n\t&lt;http auto-config=&quot;false&quot; pattern=&quot;/admin/**&quot; authentication-manager-ref=&quot;amAdmin&quot; use-expressions=&quot;true&quot;&gt;\r\n\t\t&lt;intercept-url pattern=&quot;/admin/login&quot; access=&quot;permitAll()&quot; /&gt;\r\n\t\t&lt;intercept-url pattern=&quot;/admin/*&quot; access=&quot;hasRole(&#39;ROLE_ADMIN&#39;)&quot; /&gt;\r\n\t\t&lt;intercept-url pattern=&quot;/admin**&quot; access=&quot;hasRole(&#39;ROLE_ADMIN&#39;)&quot; /&gt;\r\n\t\t&lt;form-login\r\n\t\t\tlogin-page=&quot;/admin/login&quot;\r\n\t\t\tdefault-target-url=&quot;/admin/&quot;\r\n\t\t\tlogin-processing-url=&quot;/admin/j_spring_security_check&quot;\r\n\t\t\tauthentication-failure-url=&quot;/admin/login?error&quot;\r\n\t\t\tusername-parameter=&quot;username&quot;\r\n\t\t\tpassword-parameter=&quot;password&quot; /&gt;\r\n\t\t&lt;logout logout-url=&quot;/admin/j_spring_security_logout&quot; logout-success-url=&quot;/admin/login?logout&quot; /&gt;\r\n\t\t&lt;!-- enable csrf protection --&gt;\r\n\t\t&lt;!-- &lt;csrf/&gt; --&gt;\r\n\t\t&lt;csrf disabled=&quot;true&quot; /&gt;\r\n\t&lt;/http&gt;\r\n\r\n\t&lt;http auto-config=&quot;false&quot; pattern=&quot;/private/**&quot; authentication-manager-ref=&quot;amUsers&quot; use-expressions=&quot;true&quot;&gt;\r\n\t\t&lt;intercept-url pattern=&quot;/private/login&quot; access=&quot;permitAll()&quot; /&gt;\r\n\t\t&lt;intercept-url pattern=&quot;/private/getPassword&quot; access=&quot;permitAll()&quot; /&gt;\r\n\t\t&lt;intercept-url pattern=&quot;/private/*&quot; access=&quot;hasRole(&#39;ROLE_USER&#39;)&quot; /&gt;\r\n\t\t&lt;intercept-url pattern=&quot;/private**&quot; access=&quot;hasRole(&#39;ROLE_USER&#39;)&quot; /&gt;\r\n\t\t&lt;form-login\r\n\t\t\tlogin-page=&quot;/private/login&quot;\r\n\t\t\tdefault-target-url=&quot;/private/account/&quot;\r\n\t\t\tlogin-processing-url=&quot;/private/j_spring_security_check&quot;\r\n\t\t\tauthentication-failure-url=&quot;/private/login?error&quot;\r\n\t\t\tauthentication-success-handler-ref=&quot;savedRequestAwareAuthenticationSuccessHandler&quot;\r\n\t\t\tusername-parameter=&quot;username&quot;\r\n\t\t\tpassword-parameter=&quot;password&quot; /&gt;\r\n\t\t&lt;logout logout-url=&quot;/private/j_spring_security_logout&quot; logout-success-url=&quot;/private/login?logout&quot; /&gt;\r\n\t\t&lt;!-- 1209600 --&gt;\r\n\t\t&lt;remember-me\r\n\t\t    user-service-ref=&quot;usUsuarios&quot;\r\n\t\t    token-validity-seconds=&quot;1209600&quot;\r\n\t\t    remember-me-parameter=&quot;remember-me&quot;\r\n\t\t    data-source-ref=&quot;myDataSource&quot; /&gt;\r\n\t\t&lt;csrf disabled=&quot;true&quot; /&gt;\r\n\t&lt;/http&gt;\r\n\r\n\t&lt;authentication-manager id=&quot;amAdmin&quot; &gt;\r\n\t\t&lt;authentication-provider&gt;\r\n\t\t    &lt;password-encoder ref=&quot;encoder&quot; /&gt;\r\n\t\t\t&lt;user-service&gt;\r\n\t\t\t\t&lt;user name=&quot;user&quot; password=&quot;encryptedPass&quot; authorities=&quot;ROLE_ADMIN&quot; /&gt;\r\n\t\t\t&lt;/user-service&gt;\r\n\t\t&lt;/authentication-provider&gt;\r\n\t&lt;/authentication-manager&gt;\r\n\r\n\t&lt;authentication-manager id=&quot;amUsers&quot;&gt;\r\n\t\t&lt;authentication-provider&gt;\r\n\t\t    &lt;password-encoder ref=&quot;encoder&quot; /&gt;\r\n\t\t    &lt;jdbc-user-service id=&quot;usUsuarios&quot; data-source-ref=&quot;myDataSource&quot;\r\n\t\t  \t\tusers-by-username-query=\r\n\t\t    \t\t&quot;select username, password, enabled from users where username = ?&quot;\r\n\t\t  \t\tauthorities-by-username-query=\r\n\t\t    \t\t&quot;select username, role from user_roles where username = ?&quot; /&gt;\r\n\t\t&lt;/authentication-provider&gt;\r\n\t&lt;/authentication-manager&gt;\r\n\r\n\t&lt;beans:bean id=&quot;encoder&quot; class=&quot;org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder&quot;&gt;\r\n\t\t&lt;beans:constructor-arg name=&quot;strength&quot; value=&quot;11&quot; /&gt;\r\n\t&lt;/beans:bean&gt;\r\n    &lt;/beans:beans&gt;\r\n\r\n\r\nThe following error occurs at startup (**2.3.12**): `Caused by: java.lang.IllegalStateException: Cannot define alias &#39;org.springframework.security.authenticationManager&#39; for name &#39;amUsers&#39;: It is already registered for name &#39;amAdmin&#39;.`\r\n\r\nI have changed it to java annotations, but only the one with **@Order(1)** works:\r\n\r\n`UserSecurityConfig` class:\r\n\r\n    @Configuration\r\n\t@Order(1)\r\n\tpublic class UserSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n\t\tpublic UserSecurityConfig() {\r\n\t\t\tsuper();\r\n\t\t}\r\n\r\n\t\t@Autowired\r\n\t\tprivate UserDetailsServiceImpl userDetailsServiceImpl;\r\n\r\n\t\t@Autowired\r\n\t\tprivate UserAuthenticationProvider userAuthenticationProvider;\r\n\r\n\t\t@Autowired\r\n\t\tprivate SavedRequestAwareAuthenticationSuccessHandler savedRequestAwareAuthenticationSuccessHandler;\r\n\r\n\t\t@Override\r\n\t\tpublic void configure(AuthenticationManagerBuilder auth)\r\n\t\t\t\tthrows Exception {\r\n\t\t\tauth.authenticationProvider(this.userAuthenticationProvider);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\t\thttp.\r\n\r\n\t\t\t\t\t.formLogin()\r\n\t\t\t\t\t.loginPage(&quot;/private/login&quot;)\r\n\t\t\t\t\t.defaultSuccessUrl(&quot;/private/account/&quot;)\r\n\t\t\t\t\t.loginProcessingUrl(&quot;/private/j_spring_security_check&quot;)\r\n\t\t\t\t\t.failureUrl(&quot;/private/login?error&quot;)\r\n\t\t\t\t\t.successHandler(this.savedRequestAwareAuthenticationSuccessHandler)\r\n\t\t\t\t\t.usernameParameter(&quot;username&quot;)\r\n\t\t\t\t\t.passwordParameter(&quot;password&quot;)\r\n\t\t\t\t\t.and()\r\n\r\n\t\t\t\t\t.logout()\r\n\t\t\t\t\t.logoutUrl(&quot;/private/j_spring_security_logout&quot;)\r\n\t\t\t\t\t.logoutSuccessUrl(&quot;/private/login?logout&quot;)\r\n\t\t\t\t\t.and()\r\n\r\n\t\t\t\t\t.authorizeRequests()\r\n\t\t\t\t\t.antMatchers(&quot;/private/login&quot;, &quot;/private/getPassword&quot;).permitAll()\r\n\t\t\t\t\t.antMatchers(&quot;/private/*&quot;, &quot;/private**&quot;).access(&quot;hasRole(&#39;USER&#39;)&quot;)\r\n\t\t\t\t\t.and()\r\n\r\n\t\t\t\t\t.rememberMe()\r\n\t\t\t\t\t.userDetailsService(this.userDetailsServiceImpl)\r\n\t\t\t\t\t.tokenValiditySeconds(1209600)\r\n\t\t\t\t\t.rememberMeParameter(&quot;remember-me&quot;)\r\n\t\t\t\t\t.and()\r\n\t\t\t\t\t.csrf().disable()\r\n\t\t\t;\r\n\t\t}\r\n\t}\r\n\r\n`AdminSecurityConfig` class:\r\n\r\n    @Configuration\r\n\t@Order(2)\r\n\tpublic class AdminSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n\t\tpublic AdminSecurityConfig() {\r\n\t\t\tsuper();\r\n\t\t}\r\n\r\n\t\t@Autowired\r\n\t\tprivate AdminAuthenticationProvider adminAuthenticationProvider;\r\n\r\n\t\t@Override\r\n\t\tpublic void configure(AuthenticationManagerBuilder auth)\r\n\t\t\t\tthrows Exception {\r\n\t\t\tauth.authenticationProvider(this.adminAuthenticationProvider);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\t\thttp\r\n\r\n\t\t\t\t\t.formLogin()\r\n\t\t\t\t\t.loginPage(&quot;/admin/login&quot;)\r\n\t\t\t\t\t.defaultSuccessUrl(&quot;/admin/&quot;)\r\n\t\t\t\t\t.loginProcessingUrl(&quot;/admin/j_spring_security_check&quot;)\r\n\t\t\t\t\t.failureUrl(&quot;/admin/login?error&quot;)\r\n\t\t\t\t\t.usernameParameter(&quot;username&quot;)\r\n\t\t\t\t\t.passwordParameter(&quot;password&quot;)\r\n\t\t\t\t\t.and()\r\n\r\n\t\t\t\t\t.logout()\r\n\t\t\t\t\t.logoutUrl(&quot;/admin/j_spring_security_logout&quot;)\r\n\t\t\t\t\t.logoutSuccessUrl(&quot;/admin/login?logout&quot;)\r\n\t\t\t\t\t.and()\r\n\r\n\t\t\t\t\t.authorizeRequests().antMatchers(&quot;/admin/login&quot;).permitAll()\r\n\t\t\t\t\t.antMatchers(&quot;/admin/*&quot;, &quot;/admin**&quot;).access(&quot;hasRole(&#39;ADMIN&#39;)&quot;)\r\n\t\t\t\t\t.and()\r\n\r\n\t\t\t\t\t.csrf().disable()\r\n\t\t\t;\r\n\t\t}\r\n\t}\r\n\r\nI have not been able to find an example with this exact casuistry. And the ones I have found have not worked","title":"Migration spring boot (security) 2.0.8 to 2.3.12","body":"<p>I'm trying to update an old project from Spring Boot <strong>2.0.8</strong> to <strong>2.3.12</strong>. But I am having problem with spring security.</p>\n<p><code>pom.xml</code>:</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.3.12.RELEASE&lt;/version&gt;\n    &lt;relativePath /&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>My <code>spring-security.xml</code> file working on <strong>2.0.8</strong>:</p>\n<pre><code>&lt;beans:beans xmlns=&quot;http://www.springframework.org/schema/security&quot;\nxmlns:beans=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\nhttp://www.springframework.org/schema/beans/spring-beans-3.0.xsd\nhttp://www.springframework.org/schema/security\nhttp://www.springframework.org/schema/security/spring-security-5.3.xsd&quot;&gt;\n\n&lt;http auto-config=&quot;false&quot; pattern=&quot;/admin/**&quot; authentication-manager-ref=&quot;amAdmin&quot; use-expressions=&quot;true&quot;&gt;\n    &lt;intercept-url pattern=&quot;/admin/login&quot; access=&quot;permitAll()&quot; /&gt;\n    &lt;intercept-url pattern=&quot;/admin/*&quot; access=&quot;hasRole('ROLE_ADMIN')&quot; /&gt;\n    &lt;intercept-url pattern=&quot;/admin**&quot; access=&quot;hasRole('ROLE_ADMIN')&quot; /&gt;\n    &lt;form-login\n        login-page=&quot;/admin/login&quot;\n        default-target-url=&quot;/admin/&quot;\n        login-processing-url=&quot;/admin/j_spring_security_check&quot;\n        authentication-failure-url=&quot;/admin/login?error&quot;\n        username-parameter=&quot;username&quot;\n        password-parameter=&quot;password&quot; /&gt;\n    &lt;logout logout-url=&quot;/admin/j_spring_security_logout&quot; logout-success-url=&quot;/admin/login?logout&quot; /&gt;\n    &lt;!-- enable csrf protection --&gt;\n    &lt;!-- &lt;csrf/&gt; --&gt;\n    &lt;csrf disabled=&quot;true&quot; /&gt;\n&lt;/http&gt;\n\n&lt;http auto-config=&quot;false&quot; pattern=&quot;/private/**&quot; authentication-manager-ref=&quot;amUsers&quot; use-expressions=&quot;true&quot;&gt;\n    &lt;intercept-url pattern=&quot;/private/login&quot; access=&quot;permitAll()&quot; /&gt;\n    &lt;intercept-url pattern=&quot;/private/getPassword&quot; access=&quot;permitAll()&quot; /&gt;\n    &lt;intercept-url pattern=&quot;/private/*&quot; access=&quot;hasRole('ROLE_USER')&quot; /&gt;\n    &lt;intercept-url pattern=&quot;/private**&quot; access=&quot;hasRole('ROLE_USER')&quot; /&gt;\n    &lt;form-login\n        login-page=&quot;/private/login&quot;\n        default-target-url=&quot;/private/account/&quot;\n        login-processing-url=&quot;/private/j_spring_security_check&quot;\n        authentication-failure-url=&quot;/private/login?error&quot;\n        authentication-success-handler-ref=&quot;savedRequestAwareAuthenticationSuccessHandler&quot;\n        username-parameter=&quot;username&quot;\n        password-parameter=&quot;password&quot; /&gt;\n    &lt;logout logout-url=&quot;/private/j_spring_security_logout&quot; logout-success-url=&quot;/private/login?logout&quot; /&gt;\n    &lt;!-- 1209600 --&gt;\n    &lt;remember-me\n        user-service-ref=&quot;usUsuarios&quot;\n        token-validity-seconds=&quot;1209600&quot;\n        remember-me-parameter=&quot;remember-me&quot;\n        data-source-ref=&quot;myDataSource&quot; /&gt;\n    &lt;csrf disabled=&quot;true&quot; /&gt;\n&lt;/http&gt;\n\n&lt;authentication-manager id=&quot;amAdmin&quot; &gt;\n    &lt;authentication-provider&gt;\n        &lt;password-encoder ref=&quot;encoder&quot; /&gt;\n        &lt;user-service&gt;\n            &lt;user name=&quot;user&quot; password=&quot;encryptedPass&quot; authorities=&quot;ROLE_ADMIN&quot; /&gt;\n        &lt;/user-service&gt;\n    &lt;/authentication-provider&gt;\n&lt;/authentication-manager&gt;\n\n&lt;authentication-manager id=&quot;amUsers&quot;&gt;\n    &lt;authentication-provider&gt;\n        &lt;password-encoder ref=&quot;encoder&quot; /&gt;\n        &lt;jdbc-user-service id=&quot;usUsuarios&quot; data-source-ref=&quot;myDataSource&quot;\n            users-by-username-query=\n                &quot;select username, password, enabled from users where username = ?&quot;\n            authorities-by-username-query=\n                &quot;select username, role from user_roles where username = ?&quot; /&gt;\n    &lt;/authentication-provider&gt;\n&lt;/authentication-manager&gt;\n\n&lt;beans:bean id=&quot;encoder&quot; class=&quot;org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder&quot;&gt;\n    &lt;beans:constructor-arg name=&quot;strength&quot; value=&quot;11&quot; /&gt;\n&lt;/beans:bean&gt;\n&lt;/beans:beans&gt;\n</code></pre>\n<p>The following error occurs at startup (<strong>2.3.12</strong>): <code>Caused by: java.lang.IllegalStateException: Cannot define alias 'org.springframework.security.authenticationManager' for name 'amUsers': It is already registered for name 'amAdmin'.</code></p>\n<p>I have changed it to java annotations, but only the one with <strong>@Order(1)</strong> works:</p>\n<p><code>UserSecurityConfig</code> class:</p>\n<pre><code>@Configuration\n@Order(1)\npublic class UserSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    public UserSecurityConfig() {\n        super();\n    }\n\n    @Autowired\n    private UserDetailsServiceImpl userDetailsServiceImpl;\n\n    @Autowired\n    private UserAuthenticationProvider userAuthenticationProvider;\n\n    @Autowired\n    private SavedRequestAwareAuthenticationSuccessHandler savedRequestAwareAuthenticationSuccessHandler;\n\n    @Override\n    public void configure(AuthenticationManagerBuilder auth)\n            throws Exception {\n        auth.authenticationProvider(this.userAuthenticationProvider);\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.\n\n                .formLogin()\n                .loginPage(&quot;/private/login&quot;)\n                .defaultSuccessUrl(&quot;/private/account/&quot;)\n                .loginProcessingUrl(&quot;/private/j_spring_security_check&quot;)\n                .failureUrl(&quot;/private/login?error&quot;)\n                .successHandler(this.savedRequestAwareAuthenticationSuccessHandler)\n                .usernameParameter(&quot;username&quot;)\n                .passwordParameter(&quot;password&quot;)\n                .and()\n\n                .logout()\n                .logoutUrl(&quot;/private/j_spring_security_logout&quot;)\n                .logoutSuccessUrl(&quot;/private/login?logout&quot;)\n                .and()\n\n                .authorizeRequests()\n                .antMatchers(&quot;/private/login&quot;, &quot;/private/getPassword&quot;).permitAll()\n                .antMatchers(&quot;/private/*&quot;, &quot;/private**&quot;).access(&quot;hasRole('USER')&quot;)\n                .and()\n\n                .rememberMe()\n                .userDetailsService(this.userDetailsServiceImpl)\n                .tokenValiditySeconds(1209600)\n                .rememberMeParameter(&quot;remember-me&quot;)\n                .and()\n                .csrf().disable()\n        ;\n    }\n}\n</code></pre>\n<p><code>AdminSecurityConfig</code> class:</p>\n<pre><code>@Configuration\n@Order(2)\npublic class AdminSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    public AdminSecurityConfig() {\n        super();\n    }\n\n    @Autowired\n    private AdminAuthenticationProvider adminAuthenticationProvider;\n\n    @Override\n    public void configure(AuthenticationManagerBuilder auth)\n            throws Exception {\n        auth.authenticationProvider(this.adminAuthenticationProvider);\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n\n                .formLogin()\n                .loginPage(&quot;/admin/login&quot;)\n                .defaultSuccessUrl(&quot;/admin/&quot;)\n                .loginProcessingUrl(&quot;/admin/j_spring_security_check&quot;)\n                .failureUrl(&quot;/admin/login?error&quot;)\n                .usernameParameter(&quot;username&quot;)\n                .passwordParameter(&quot;password&quot;)\n                .and()\n\n                .logout()\n                .logoutUrl(&quot;/admin/j_spring_security_logout&quot;)\n                .logoutSuccessUrl(&quot;/admin/login?logout&quot;)\n                .and()\n\n                .authorizeRequests().antMatchers(&quot;/admin/login&quot;).permitAll()\n                .antMatchers(&quot;/admin/*&quot;, &quot;/admin**&quot;).access(&quot;hasRole('ADMIN')&quot;)\n                .and()\n\n                .csrf().disable()\n        ;\n    }\n}\n</code></pre>\n<p>I have not been able to find an example with this exact casuistry. And the ones I have found have not worked</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":370719,"reputation":3053,"user_id":718849,"accept_rate":100,"display_name":"Jonck van der Kogel"},"score":0,"creation_date":1642790570,"post_id":70801784,"comment_id":125174358,"body_markdown":"In my experience properties in yaml files don&#39;t properly bind, you have to take an additional step. Take a look at my answer here and see if that helps you: https://stackoverflow.com/questions/67379814/propertysource-fails-to-autowire-required-class-spring-boot-2-3-8-release/67380473#67380473","body":"In my experience properties in yaml files don&#39;t properly bind, you have to take an additional step. Take a look at my answer here and see if that helps you: <a href=\"https://stackoverflow.com/questions/67379814/propertysource-fails-to-autowire-required-class-spring-boot-2-3-8-release/67380473#67380473\" title=\"propertysource fails to autowire required class spring boot 2 3 8 release\">stackoverflow.com/questions/67379814/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1642790110,"creation_date":1642789166,"answer_id":70805895,"question_id":70801784,"body_markdown":"&gt;  Is using both ConfigurationProperties and Value like below a good use\r\n\r\nNo. `@ConfigurationProperties` indicates to spring that it should bind the java fields based on their name to some matching properties. However to achieve that spring requires that the class that has this annotation must be a spring bean (proxy class). So you have to use it together with either `@Configuraiton` or `@Component` or some other annotation that creates a spring bean for this class. \r\n\r\nThere is also some other functionality available where you can use another annotation `@EnableConfigurationProperties(properties.class)` on some other spring bean (not the current class that has the `@ConfigurationProperties` annotation)\r\n\r\n Most common is that you use the `@Configuration` and then spring will be able to create a spring bean (proxy of this class) and then bind the values that you expect on the fields that you have.\r\n\r\nSince you already have the `@ConfigurationProperties(&quot;app&quot;)`, then the property with the name `prop2` will be bound with the application property `app.prop2`\r\n\r\n    @Data\r\n    @Validated\r\n    @Configuration &lt;---------------\r\n    @ConfigurationProperties(&quot;app&quot;)\r\n    public class properties {\r\n       private String prop1;\r\n    \r\n       private Boolean prop2;\r\n    \r\n      @NestedConfigurationProperty\r\n      @NotNull\r\n      private Map&lt;String,String&gt; prop3;\r\n    }\r\n\r\nIf your problem is the default values in case the properties do not exist at all in application.properties then you can just initialize those java fields with some values.\r\n\r\n    @Data\r\n    @Validated\r\n    @Configuration &lt;---------------\r\n    @ConfigurationProperties(&quot;app&quot;)\r\n    public class properties {\r\n       private String prop1 = &quot;default&quot;;\r\n    \r\n       private Boolean prop2 = false;\r\n    \r\n      @NestedConfigurationProperty\r\n      @NotNull\r\n      private Map&lt;String,String&gt; prop3;\r\n    }","title":"Spring Inject Values with @ConfigurationProperties and @Value","body":"<blockquote>\n<p>Is using both ConfigurationProperties and Value like below a good use</p>\n</blockquote>\n<p>No. <code>@ConfigurationProperties</code> indicates to spring that it should bind the java fields based on their name to some matching properties. However to achieve that spring requires that the class that has this annotation must be a spring bean (proxy class). So you have to use it together with either <code>@Configuraiton</code> or <code>@Component</code> or some other annotation that creates a spring bean for this class.</p>\n<p>There is also some other functionality available where you can use another annotation <code>@EnableConfigurationProperties(properties.class)</code> on some other spring bean (not the current class that has the <code>@ConfigurationProperties</code> annotation)</p>\n<p>Most common is that you use the <code>@Configuration</code> and then spring will be able to create a spring bean (proxy of this class) and then bind the values that you expect on the fields that you have.</p>\n<p>Since you already have the <code>@ConfigurationProperties(&quot;app&quot;)</code>, then the property with the name <code>prop2</code> will be bound with the application property <code>app.prop2</code></p>\n<pre><code>@Data\n@Validated\n@Configuration &lt;---------------\n@ConfigurationProperties(&quot;app&quot;)\npublic class properties {\n   private String prop1;\n\n   private Boolean prop2;\n\n  @NestedConfigurationProperty\n  @NotNull\n  private Map&lt;String,String&gt; prop3;\n}\n</code></pre>\n<p>If your problem is the default values in case the properties do not exist at all in application.properties then you can just initialize those java fields with some values.</p>\n<pre><code>@Data\n@Validated\n@Configuration &lt;---------------\n@ConfigurationProperties(&quot;app&quot;)\npublic class properties {\n   private String prop1 = &quot;default&quot;;\n\n   private Boolean prop2 = false;\n\n  @NestedConfigurationProperty\n  @NotNull\n  private Map&lt;String,String&gt; prop3;\n}\n</code></pre>\n"}],"owner":{"account_id":11675791,"reputation":322,"user_id":8549402,"display_name":"Mike Reddington"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4186,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70805895,"answer_count":1,"score":3,"last_activity_date":1642790192,"creation_date":1642770436,"question_id":70801784,"body_markdown":"How to inject values from yaml and set default values if a property is not defined in the yaml props file? Is using both ConfigurationProperties and Value like below a good use? If not how else can we achieve it?\r\n\r\nProperties file\r\n\r\n    app:\r\n        prop1: test\r\n        prop2: true\r\n        map:\r\n           key1: value1\r\n           key2: value2\r\n\r\nJava class:\r\n\r\n    @Data\r\n    @Validated\r\n    @ConfigurationProperties(&quot;app&quot;)\r\n    public class properties {\r\n       private String prop1;\r\n    \r\n      @Value(&quot;${app.prop2:default}&quot;)\r\n      private Boolean prop2;\r\n    \r\n      @NestedConfigurationProperty\r\n      @NotNull\r\n      private Map&lt;String,String&gt; prop3;\r\n    }\r\n","title":"Spring Inject Values with @ConfigurationProperties and @Value","body":"<p>How to inject values from yaml and set default values if a property is not defined in the yaml props file? Is using both ConfigurationProperties and Value like below a good use? If not how else can we achieve it?</p>\n<p>Properties file</p>\n<pre><code>app:\n    prop1: test\n    prop2: true\n    map:\n       key1: value1\n       key2: value2\n</code></pre>\n<p>Java class:</p>\n<pre><code>@Data\n@Validated\n@ConfigurationProperties(&quot;app&quot;)\npublic class properties {\n   private String prop1;\n\n  @Value(&quot;${app.prop2:default}&quot;)\n  private Boolean prop2;\n\n  @NestedConfigurationProperty\n  @NotNull\n  private Map&lt;String,String&gt; prop3;\n}\n</code></pre>\n"},{"tags":["java","android","stripe-payments"],"comments":[{"owner":{"account_id":19299013,"reputation":1860,"user_id":14107360,"display_name":"karbi"},"score":1,"creation_date":1642813396,"post_id":70805966,"comment_id":125180055,"body_markdown":"Are you referring specifically to the redirect and return URLs for onboarding new Stripe connect accounts? You&#39;ll likely want to look at the documentation on how to onboard new accounts, specifically this section (https://stripe.com/docs/connect/express-accounts#return-user) which talks about what you should implement for each URL. If you have more questions you may want to talk to Stripe&#39;s support team (https://support.stripe.com/contact)","body":"Are you referring specifically to the redirect and return URLs for onboarding new Stripe connect accounts? You&#39;ll likely want to look at the documentation on how to onboard new accounts, specifically this section (<a href=\"https://stripe.com/docs/connect/express-accounts#return-user\" rel=\"nofollow noreferrer\">stripe.com/docs/connect/express-accounts#return-user</a>) which talks about what you should implement for each URL. If you have more questions you may want to talk to Stripe&#39;s support team (<a href=\"https://support.stripe.com/contact\" rel=\"nofollow noreferrer\">support.stripe.com/contact</a>)"},{"owner":{"account_id":7205395,"reputation":43,"user_id":5501180,"display_name":"Victor Humphrey"},"score":0,"creation_date":1643044905,"post_id":70805966,"comment_id":125230176,"body_markdown":"Yes and I have read that documentation already. What I am struggling to understand, is how to tell create these URLs. For example, I have read that the return URL should be in the Android manifest but I do not know how to code that part. I am basically asking for a beginners course in programming these correctly.","body":"Yes and I have read that documentation already. What I am struggling to understand, is how to tell create these URLs. For example, I have read that the return URL should be in the Android manifest but I do not know how to code that part. I am basically asking for a beginners course in programming these correctly."},{"owner":{"account_id":11279819,"reputation":1968,"user_id":8272698,"accept_rate":57,"display_name":"Julian Silvestri"},"score":0,"creation_date":1696601908,"post_id":70805966,"comment_id":136178290,"body_markdown":"im facing a similar issue , have you found any information? I am supplying the return url, but it does not redirect back to mobile app","body":"im facing a similar issue , have you found any information? I am supplying the return url, but it does not redirect back to mobile app"}],"owner":{"account_id":7205395,"reputation":43,"user_id":5501180,"display_name":"Victor Humphrey"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":335,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642789539,"creation_date":1642789492,"question_id":70805966,"body_markdown":"Can someone help me by explaining how to use the redirect and return URL in the Stripe onboarding? I know what they are for, but I do not understand how to implement them. Below is all I can find. I am new to this part of android. I am also writing in java. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/B1oG1.png","title":"Stripe Onboarding return and redirect url","body":"<p>Can someone help me by explaining how to use the redirect and return URL in the Stripe onboarding? I know what they are for, but I do not understand how to implement them. Below is all I can find. I am new to this part of android. I am also writing in java.</p>\n<p><a href=\"https://i.stack.imgur.com/B1oG1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/B1oG1.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa","raspberry-pi"],"comments":[{"owner":{"account_id":20084168,"reputation":166,"user_id":14726136,"display_name":"Marcel Herhold"},"score":0,"creation_date":1642785484,"post_id":70804382,"comment_id":125172733,"body_markdown":"Can you connect to the db with psql or pgcli? Do you start the spring app in docker?","body":"Can you connect to the db with psql or pgcli? Do you start the spring app in docker?"},{"owner":{"account_id":18281919,"reputation":1,"user_id":17627428,"display_name":"Tech_Dog"},"score":0,"creation_date":1642850975,"post_id":70804382,"comment_id":125185265,"body_markdown":"no only the database runs in a docker container. I can connect to the db with dBeaver (db client) without. any problems.","body":"no only the database runs in a docker container. I can connect to the db with dBeaver (db client) without. any problems."}],"answers":[{"tags":[],"owner":{"account_id":15716181,"reputation":46,"user_id":11340336,"display_name":"Bu da"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642788825,"creation_date":1642788825,"answer_id":70805833,"question_id":70804382,"body_markdown":"I would start by just trying to connect to the DB with psql.\r\nSee whether the port was bound(-p 5432:5432).\r\nI would also recommend creating a container from your application in order to make the database private. Create a network and add the DB and your application in it so that your application is the only thing that has access to it. bear in mind that the url of the DB will change to the name or alias of the container. You can read more about that in Docker compose guides. Then bind the 8081 port of your application to the 8081 port of the raspberry. Thus exposing it so you can use your application.\r\nIn that way you will not have to manually manage the java versions on your raspberry but rather in the docker image of your application.","title":"spring boot application did not start on raspberry pi","body":"<p>I would start by just trying to connect to the DB with psql.\nSee whether the port was bound(-p 5432:5432).\nI would also recommend creating a container from your application in order to make the database private. Create a network and add the DB and your application in it so that your application is the only thing that has access to it. bear in mind that the url of the DB will change to the name or alias of the container. You can read more about that in Docker compose guides. Then bind the 8081 port of your application to the 8081 port of the raspberry. Thus exposing it so you can use your application.\nIn that way you will not have to manually manage the java versions on your raspberry but rather in the docker image of your application.</p>\n"}],"owner":{"account_id":18281919,"reputation":1,"user_id":17627428,"display_name":"Tech_Dog"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":346,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642788825,"creation_date":1642781993,"question_id":70804382,"body_markdown":"I don&#39;t know why I can&#39;t start the java spring boot application on my raspberry pi 4. On the same raspberry runs the Postgres DB in a docker container. The log messages outputs a db connection error, but I don&#39;t not what can be the issue or how I can fix this. \r\n\r\nThe application works fine on my local machine (MacBook) and can connect to the db without errors. \r\n\r\nThe Java version on my laptop\r\n```\r\nopenjdk version &quot;11.0.2&quot; 2019-01-15\r\nOpenJDK Runtime Environment 18.9 (build 11.0.2+9)\r\nOpenJDK 64-Bit Server VM 18.9 (build 11.0.2+9, mixed mode)\r\n```\r\n\r\nThe Java version on the raspberry\r\n\r\n```\r\njava -version\r\nopenjdk version &quot;11.0.13&quot; 2021-10-19\r\nOpenJDK Runtime Environment (build 11.0.13+8-post-Raspbian-1deb11u1)\r\nOpenJDK Server VM (build 11.0.13+8-post-Raspbian-1deb11u1, mixed mode)\r\n```\r\n\r\nThe application properties of my application:\r\n```\r\nserver:\r\n  port: 8081\r\n  error:\r\n    include-message: always\r\n    include-binding-errors: always\r\nspring:\r\n  datasource:\r\n    password: password\r\n    url: jdbc:postgresql://192.168.2.101:5432/postgres\r\n    username: postgres\r\n  jpa:\r\n    hibernate:\r\n      ddl-auto: update\r\n    properties:\r\n      hibernate:\r\n        dialect: org.hibernate.dialect.PostgreSQLDialect\r\n        format_sql: true\r\n    show-sql: true\r\nmanagement:\r\n  endpoints:\r\n    web:\r\n      exposure:\r\n        include: &quot;*&quot;\r\n```\r\n\r\nThe console output from the start up process:\r\n```\r\njava -jar training-service-1.0.0.jar \r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v2.5.6)\r\n\r\n2022-01-21 16:55:20.502  INFO 17201 --- [           main] d.k.t.TrainingServiceApplication         : Starting TrainingServiceApplication v1.0.0 using Java 11.0.13 on pi with PID 17201 (/home/pi/training-service-1.0.0.jar started by pi in /home/pi)\r\n2022-01-21 16:55:20.514  INFO 17201 --- [           main] d.k.t.TrainingServiceApplication         : No active profile set, falling back to default profiles: default\r\n2022-01-21 16:55:25.250  INFO 17201 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2022-01-21 16:55:25.615  INFO 17201 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 237 ms. Found 3 JPA repository interfaces.\r\n2022-01-21 16:55:28.792  INFO 17201 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)\r\n2022-01-21 16:55:28.840  INFO 17201 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2022-01-21 16:55:28.841  INFO 17201 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.54]\r\n2022-01-21 16:55:28.848  INFO 17201 --- [           main] o.a.catalina.core.AprLifecycleListener   : An older version [1.2.26] of the Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.30]\r\n2022-01-21 16:55:28.848  INFO 17201 --- [           main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.26] using APR version [1.7.0].\r\n2022-01-21 16:55:28.849  INFO 17201 --- [           main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].\r\n2022-01-21 16:55:28.850  INFO 17201 --- [           main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]\r\n2022-01-21 16:55:28.859  INFO 17201 --- [           main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]\r\n2022-01-21 16:55:29.095  INFO 17201 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2022-01-21 16:55:29.095  INFO 17201 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 8365 ms\r\n2022-01-21 16:55:30.794  INFO 17201 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2022-01-21 16:55:31.107  INFO 17201 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.32.Final\r\n2022-01-21 16:55:31.825  INFO 17201 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\r\n2022-01-21 16:55:32.343  INFO 17201 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2022-01-21 16:55:36.690 ERROR 17201 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.\r\n\r\norg.postgresql.util.PSQLException: The connection attempt failed.\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:315) ~[postgresql-42.2.24.jar!/:42.2.24]\r\n\tat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:51) ~[postgresql-42.2.24.jar!/:42.2.24]\r\n\tat org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:225) ~[postgresql-42.2.24.jar!/:42.2.24]\r\n\tat org.postgresql.Driver.makeConnection(Driver.java:465) ~[postgresql-42.2.24.jar!/:42.2.24]\r\n\tat org.postgresql.Driver.connect(Driver.java:264) ~[postgresql-42.2.24.jar!/:42.2.24]\r\n\tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar!/:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar!/:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar!/:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar!/:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar!/:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar!/:na]\r\n\tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar!/:na]\r\n\tat org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:180) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\r\n\tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\r\n\tat org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:152) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:176) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1224) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1255) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.12.jar!/:5.3.12]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.12.jar!/:5.3.12]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.12.jar!/:5.3.12]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.12.jar!/:5.3.12]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.12.jar!/:5.3.12]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.12.jar!/:5.3.12]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.12.jar!/:5.3.12]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.12.jar!/:5.3.12]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.12.jar!/:5.3.12]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.12.jar!/:5.3.12]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.12.jar!/:5.3.12]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.12.jar!/:5.3.12]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.12.jar!/:5.3.12]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.12.jar!/:5.3.12]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.12.jar!/:5.3.12]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.12.jar!/:5.3.12]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.5.6.jar!/:2.5.6]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-2.5.6.jar!/:2.5.6]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-2.5.6.jar!/:2.5.6]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:338) ~[spring-boot-2.5.6.jar!/:2.5.6]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-2.5.6.jar!/:2.5.6]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) ~[spring-boot-2.5.6.jar!/:2.5.6]\r\n\tat de.kugel.trainingservice.TrainingServiceApplication.main(TrainingServiceApplication.java:11) ~[classes!/:1.0.0]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[training-service-1.0.0.jar:1.0.0]\r\n\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:108) ~[training-service-1.0.0.jar:1.0.0]\r\n\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[training-service-1.0.0.jar:1.0.0]\r\n\tat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88) ~[training-service-1.0.0.jar:1.0.0]\r\nCaused by: java.net.NoRouteToHostException: No route to host (Host unreachable)\r\n\tat java.base/java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:na]\r\n\tat java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399) ~[na:na]\r\n\tat java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242) ~[na:na]\r\n\tat java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224) ~[na:na]\r\n\tat java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:na]\r\n\tat java.base/java.net.Socket.connect(Socket.java:609) ~[na:na]\r\n\tat org.postgresql.core.PGStream.createSocket(PGStream.java:231) ~[postgresql-42.2.24.jar!/:42.2.24]\r\n\tat org.postgresql.core.PGStream.&lt;init&gt;(PGStream.java:95) ~[postgresql-42.2.24.jar!/:42.2.24]\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:98) ~[postgresql-42.2.24.jar!/:42.2.24]\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:213) ~[postgresql-42.2.24.jar!/:42.2.24]\r\n\t... 58 common frames omitted\r\n\r\n2022-01-21 16:55:36.700  WARN 17201 --- [           main] o.h.e.j.e.i.JdbcEnvironmentInitiator     : HHH000342: Could not obtain connection to query metadata\r\n\r\norg.postgresql.util.PSQLException: The connection attempt failed.\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:315) ~[postgresql-42.2.24.jar!/:42.2.24]\r\n\tat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:51) ~[postgresql-42.2.24.jar!/:42.2.24]\r\n\tat org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:225) ~[postgresql-42.2.24.jar!/:42.2.24]\r\n\tat org.postgresql.Driver.makeConnection(Driver.java:465) ~[postgresql-42.2.24.jar!/:42.2.24]\r\n\tat org.postgresql.Driver.connect(Driver.java:264) ~[postgresql-42.2.24.jar!/:42.2.24]\r\n\tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar!/:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar!/:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar!/:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar!/:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar!/:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar!/:na]\r\n\tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar!/:na]\r\n\tat org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:180) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\r\n\tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\r\n\tat org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:152) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:176) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1224) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1255) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.12.jar!/:5.3.12]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.12.jar!/:5.3.12]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.12.jar!/:5.3.12]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.12.jar!/:5.3.12]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.12.jar!/:5.3.12]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.12.jar!/:5.3.12]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.12.jar!/:5.3.12]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.12.jar!/:5.3.12]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.12.jar!/:5.3.12]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.12.jar!/:5.3.12]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.12.jar!/:5.3.12]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.12.jar!/:5.3.12]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.12.jar!/:5.3.12]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.12.jar!/:5.3.12]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.12.jar!/:5.3.12]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.12.jar!/:5.3.12]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.5.6.jar!/:2.5.6]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-2.5.6.jar!/:2.5.6]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-2.5.6.jar!/:2.5.6]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:338) ~[spring-boot-2.5.6.jar!/:2.5.6]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-2.5.6.jar!/:2.5.6]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) ~[spring-boot-2.5.6.jar!/:2.5.6]\r\n\tat de.kugel.trainingservice.TrainingServiceApplication.main(TrainingServiceApplication.java:11) ~[classes!/:1.0.0]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[training-service-1.0.0.jar:1.0.0]\r\n\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:108) ~[training-service-1.0.0.jar:1.0.0]\r\n\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[training-service-1.0.0.jar:1.0.0]\r\n\tat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88) ~[training-service-1.0.0.jar:1.0.0]\r\nCaused by: java.net.NoRouteToHostException: No route to host (Host unreachable)\r\n\tat java.base/java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:na]\r\n\tat java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399) ~[na:na]\r\n\tat java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242) ~[na:na]\r\n\tat java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224) ~[na:na]\r\n\tat java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:na]\r\n\tat java.base/java.net.Socket.connect(Socket.java:609) ~[na:na]\r\n\tat org.postgresql.core.PGStream.createSocket(PGStream.java:231) ~[postgresql-42.2.24.jar!/:42.2.24]\r\n\tat org.postgresql.core.PGStream.&lt;init&gt;(PGStream.java:95) ~[postgresql-42.2.24.jar!/:42.2.24]\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:98) ~[postgresql-42.2.24.jar!/:42.2.24]\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:213) ~[postgresql-42.2.24.jar!/:42.2.24]\r\n\t... 58 common frames omitted\r\n\r\n2022-01-21 16:55:36.802  INFO 17201 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect\r\nHibernate: \r\n    \r\n    drop table if exists app_users cascade\r\n2022-01-21 16:55:39.450  INFO 17201 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2022-01-21 16:55:43.598 ERROR 17201 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.\r\n\r\norg.postgresql.util.PSQLException: The connection attempt failed.\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:315) ~[postgresql-42.2.24.jar!/:42.2.24]\r\n\tat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:51) ~[postgresql-42.2.24.jar!/:42.2.24]\r\n\tat org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:225) ~[postgresql-42.2.24.jar!/:42.2.24]\r\n\tat org.postgresql.Driver.makeConnection(Driver.java:465) ~[postgresql-42.2.24.jar!/:42.2.24]\r\n\tat org.postgresql.Driver.connect(Driver.java:264) ~[postgresql-42.2.24.jar!/:42.2.24]\r\n\tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar!/:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar!/:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar!/:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar!/:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar!/:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar!/:na]\r\n\tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar!/:na]\r\n\tat org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:180) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:43) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\r\n\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.jdbcStatement(GenerationTargetToDatabase.java:77) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\r\n\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:53) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\r\n\tat org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\r\n\tat org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\r\n\tat org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:241) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\r\n\tat org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\r\n\tat org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\r\n\tat org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:145) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\r\n\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:318) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\r\n\tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:468) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\r\n\tat \r\n``","title":"spring boot application did not start on raspberry pi","body":"<p>I don't know why I can't start the java spring boot application on my raspberry pi 4. On the same raspberry runs the Postgres DB in a docker container. The log messages outputs a db connection error, but I don't not what can be the issue or how I can fix this.</p>\n<p>The application works fine on my local machine (MacBook) and can connect to the db without errors.</p>\n<p>The Java version on my laptop</p>\n<pre><code>openjdk version &quot;11.0.2&quot; 2019-01-15\nOpenJDK Runtime Environment 18.9 (build 11.0.2+9)\nOpenJDK 64-Bit Server VM 18.9 (build 11.0.2+9, mixed mode)\n</code></pre>\n<p>The Java version on the raspberry</p>\n<pre><code>java -version\nopenjdk version &quot;11.0.13&quot; 2021-10-19\nOpenJDK Runtime Environment (build 11.0.13+8-post-Raspbian-1deb11u1)\nOpenJDK Server VM (build 11.0.13+8-post-Raspbian-1deb11u1, mixed mode)\n</code></pre>\n<p>The application properties of my application:</p>\n<pre><code>server:\n  port: 8081\n  error:\n    include-message: always\n    include-binding-errors: always\nspring:\n  datasource:\n    password: password\n    url: jdbc:postgresql://192.168.2.101:5432/postgres\n    username: postgres\n  jpa:\n    hibernate:\n      ddl-auto: update\n    properties:\n      hibernate:\n        dialect: org.hibernate.dialect.PostgreSQLDialect\n        format_sql: true\n    show-sql: true\nmanagement:\n  endpoints:\n    web:\n      exposure:\n        include: &quot;*&quot;\n</code></pre>\n<p>The console output from the start up process:</p>\n<pre><code>java -jar training-service-1.0.0.jar \n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v2.5.6)\n\n2022-01-21 16:55:20.502  INFO 17201 --- [           main] d.k.t.TrainingServiceApplication         : Starting TrainingServiceApplication v1.0.0 using Java 11.0.13 on pi with PID 17201 (/home/pi/training-service-1.0.0.jar started by pi in /home/pi)\n2022-01-21 16:55:20.514  INFO 17201 --- [           main] d.k.t.TrainingServiceApplication         : No active profile set, falling back to default profiles: default\n2022-01-21 16:55:25.250  INFO 17201 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2022-01-21 16:55:25.615  INFO 17201 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 237 ms. Found 3 JPA repository interfaces.\n2022-01-21 16:55:28.792  INFO 17201 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)\n2022-01-21 16:55:28.840  INFO 17201 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2022-01-21 16:55:28.841  INFO 17201 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.54]\n2022-01-21 16:55:28.848  INFO 17201 --- [           main] o.a.catalina.core.AprLifecycleListener   : An older version [1.2.26] of the Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.30]\n2022-01-21 16:55:28.848  INFO 17201 --- [           main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.26] using APR version [1.7.0].\n2022-01-21 16:55:28.849  INFO 17201 --- [           main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].\n2022-01-21 16:55:28.850  INFO 17201 --- [           main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]\n2022-01-21 16:55:28.859  INFO 17201 --- [           main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]\n2022-01-21 16:55:29.095  INFO 17201 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2022-01-21 16:55:29.095  INFO 17201 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 8365 ms\n2022-01-21 16:55:30.794  INFO 17201 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2022-01-21 16:55:31.107  INFO 17201 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.32.Final\n2022-01-21 16:55:31.825  INFO 17201 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\n2022-01-21 16:55:32.343  INFO 17201 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2022-01-21 16:55:36.690 ERROR 17201 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.\n\norg.postgresql.util.PSQLException: The connection attempt failed.\n    at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:315) ~[postgresql-42.2.24.jar!/:42.2.24]\n    at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:51) ~[postgresql-42.2.24.jar!/:42.2.24]\n    at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:225) ~[postgresql-42.2.24.jar!/:42.2.24]\n    at org.postgresql.Driver.makeConnection(Driver.java:465) ~[postgresql-42.2.24.jar!/:42.2.24]\n    at org.postgresql.Driver.connect(Driver.java:264) ~[postgresql-42.2.24.jar!/:42.2.24]\n    at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar!/:na]\n    at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar!/:na]\n    at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar!/:na]\n    at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar!/:na]\n    at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar!/:na]\n    at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar!/:na]\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar!/:na]\n    at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:180) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\n    at org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:152) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:176) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1224) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1255) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.12.jar!/:5.3.12]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.12.jar!/:5.3.12]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.12.jar!/:5.3.12]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.12.jar!/:5.3.12]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.12.jar!/:5.3.12]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.12.jar!/:5.3.12]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.12.jar!/:5.3.12]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.12.jar!/:5.3.12]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.12.jar!/:5.3.12]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.12.jar!/:5.3.12]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.12.jar!/:5.3.12]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.12.jar!/:5.3.12]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.12.jar!/:5.3.12]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.12.jar!/:5.3.12]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.12.jar!/:5.3.12]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.12.jar!/:5.3.12]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.5.6.jar!/:2.5.6]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-2.5.6.jar!/:2.5.6]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-2.5.6.jar!/:2.5.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:338) ~[spring-boot-2.5.6.jar!/:2.5.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-2.5.6.jar!/:2.5.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) ~[spring-boot-2.5.6.jar!/:2.5.6]\n    at de.kugel.trainingservice.TrainingServiceApplication.main(TrainingServiceApplication.java:11) ~[classes!/:1.0.0]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[training-service-1.0.0.jar:1.0.0]\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:108) ~[training-service-1.0.0.jar:1.0.0]\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[training-service-1.0.0.jar:1.0.0]\n    at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88) ~[training-service-1.0.0.jar:1.0.0]\nCaused by: java.net.NoRouteToHostException: No route to host (Host unreachable)\n    at java.base/java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:na]\n    at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399) ~[na:na]\n    at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242) ~[na:na]\n    at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224) ~[na:na]\n    at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:na]\n    at java.base/java.net.Socket.connect(Socket.java:609) ~[na:na]\n    at org.postgresql.core.PGStream.createSocket(PGStream.java:231) ~[postgresql-42.2.24.jar!/:42.2.24]\n    at org.postgresql.core.PGStream.&lt;init&gt;(PGStream.java:95) ~[postgresql-42.2.24.jar!/:42.2.24]\n    at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:98) ~[postgresql-42.2.24.jar!/:42.2.24]\n    at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:213) ~[postgresql-42.2.24.jar!/:42.2.24]\n    ... 58 common frames omitted\n\n2022-01-21 16:55:36.700  WARN 17201 --- [           main] o.h.e.j.e.i.JdbcEnvironmentInitiator     : HHH000342: Could not obtain connection to query metadata\n\norg.postgresql.util.PSQLException: The connection attempt failed.\n    at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:315) ~[postgresql-42.2.24.jar!/:42.2.24]\n    at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:51) ~[postgresql-42.2.24.jar!/:42.2.24]\n    at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:225) ~[postgresql-42.2.24.jar!/:42.2.24]\n    at org.postgresql.Driver.makeConnection(Driver.java:465) ~[postgresql-42.2.24.jar!/:42.2.24]\n    at org.postgresql.Driver.connect(Driver.java:264) ~[postgresql-42.2.24.jar!/:42.2.24]\n    at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar!/:na]\n    at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar!/:na]\n    at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar!/:na]\n    at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar!/:na]\n    at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar!/:na]\n    at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar!/:na]\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar!/:na]\n    at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:180) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\n    at org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:152) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:176) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1224) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1255) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.12.jar!/:5.3.12]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.12.jar!/:5.3.12]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.12.jar!/:5.3.12]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.12.jar!/:5.3.12]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.12.jar!/:5.3.12]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.12.jar!/:5.3.12]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.12.jar!/:5.3.12]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.12.jar!/:5.3.12]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.12.jar!/:5.3.12]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.12.jar!/:5.3.12]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.12.jar!/:5.3.12]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.12.jar!/:5.3.12]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.12.jar!/:5.3.12]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.12.jar!/:5.3.12]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.12.jar!/:5.3.12]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.12.jar!/:5.3.12]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.5.6.jar!/:2.5.6]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-2.5.6.jar!/:2.5.6]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-2.5.6.jar!/:2.5.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:338) ~[spring-boot-2.5.6.jar!/:2.5.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-2.5.6.jar!/:2.5.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) ~[spring-boot-2.5.6.jar!/:2.5.6]\n    at de.kugel.trainingservice.TrainingServiceApplication.main(TrainingServiceApplication.java:11) ~[classes!/:1.0.0]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[training-service-1.0.0.jar:1.0.0]\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:108) ~[training-service-1.0.0.jar:1.0.0]\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[training-service-1.0.0.jar:1.0.0]\n    at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88) ~[training-service-1.0.0.jar:1.0.0]\nCaused by: java.net.NoRouteToHostException: No route to host (Host unreachable)\n    at java.base/java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:na]\n    at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399) ~[na:na]\n    at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242) ~[na:na]\n    at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224) ~[na:na]\n    at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:na]\n    at java.base/java.net.Socket.connect(Socket.java:609) ~[na:na]\n    at org.postgresql.core.PGStream.createSocket(PGStream.java:231) ~[postgresql-42.2.24.jar!/:42.2.24]\n    at org.postgresql.core.PGStream.&lt;init&gt;(PGStream.java:95) ~[postgresql-42.2.24.jar!/:42.2.24]\n    at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:98) ~[postgresql-42.2.24.jar!/:42.2.24]\n    at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:213) ~[postgresql-42.2.24.jar!/:42.2.24]\n    ... 58 common frames omitted\n\n2022-01-21 16:55:36.802  INFO 17201 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect\nHibernate: \n    \n    drop table if exists app_users cascade\n2022-01-21 16:55:39.450  INFO 17201 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2022-01-21 16:55:43.598 ERROR 17201 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.\n\norg.postgresql.util.PSQLException: The connection attempt failed.\n    at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:315) ~[postgresql-42.2.24.jar!/:42.2.24]\n    at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:51) ~[postgresql-42.2.24.jar!/:42.2.24]\n    at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:225) ~[postgresql-42.2.24.jar!/:42.2.24]\n    at org.postgresql.Driver.makeConnection(Driver.java:465) ~[postgresql-42.2.24.jar!/:42.2.24]\n    at org.postgresql.Driver.connect(Driver.java:264) ~[postgresql-42.2.24.jar!/:42.2.24]\n    at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar!/:na]\n    at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar!/:na]\n    at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar!/:na]\n    at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar!/:na]\n    at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar!/:na]\n    at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar!/:na]\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar!/:na]\n    at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:180) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\n    at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:43) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.jdbcStatement(GenerationTargetToDatabase.java:77) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:53) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\n    at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\n    at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\n    at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:241) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\n    at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\n    at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\n    at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:145) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:318) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:468) ~[hibernate-core-5.4.32.Final.jar!/:5.4.32.Final]\n    at \n``\n</code></pre>\n"},{"tags":["java","spring","hibernate","rest"],"comments":[{"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"score":1,"creation_date":1642785217,"post_id":70804976,"comment_id":125172628,"body_markdown":"I think this may help https://restfulapi.net/resource-naming/ as for project structure it&#39;s up to yourself, I prefer to put unique resources in their own controllers. Whether you require offer modification via a user or directly should be driven by the requirements of your consumer.","body":"I think this may help <a href=\"https://restfulapi.net/resource-naming/\" rel=\"nofollow noreferrer\">restfulapi.net/resource-naming</a> as for project structure it&#39;s up to yourself, I prefer to put unique resources in their own controllers. Whether you require offer modification via a user or directly should be driven by the requirements of your consumer."}],"answers":[{"tags":[],"owner":{"account_id":22978237,"reputation":486,"user_id":17105581,"display_name":"ferrouskid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642785956,"creation_date":1642785956,"answer_id":70805284,"question_id":70804976,"body_markdown":"I agree that it should be in the same &#39;UserController&#39;, it makes sense because offers belong to the user, so having an endpoint like: \r\n\r\n    @GetMapping(&quot;{user}/offers&quot;)\r\n        public Set&lt;OfferDTO&gt; getOffers(@PathVariable(&quot;user&quot;) String user) {\r\n        return offerService.getOffers(user);\r\n    }\r\n    \r\nYou can define special DTOs for getting the meta-data from the offers if you wanted to display them in a list for example, and you could display them as a list to your user. \r\n\r\nYou could set up a similar endpoint for updating the offer which could be a POST endpoint, and a DELETE endpoint for deleting. You might want to think about what would happen if the user is looking at an offer when you delete it though, like making an asynchronous task for deleting the offer in a background thread and updating the UI to inform the user that the offer is deleted. \r\n\r\nSpring has some really nice annotations for security stuff (check [this](https://www.baeldung.com/spring-security-method-security) and [this](https://www.baeldung.com/role-and-privilege-for-spring-security-registration)), you could write your own annotation for administrator endpoints: \r\n\r\n    @Target(ElementType.METHOD)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @PreAuthorize(&quot;hasAuthority(&#39;&quot; + ROLE_ADMIN + &quot;&#39;)&quot;)\r\n    public @interface IsAdmin {}\r\n\r\nThen annotate your method like this: \r\n\r\n    @DeleteMapping(&quot;/{user}/{offer}/delete&quot;)\r\n      @IsReceiverAdmin\r\n      public void delete(@PathVariable(&quot;user&quot;) String user, @PathVariable(&quot;offer&quot;) String offer){\r\n        return offerService.delete(user, offer);\r\n      }\r\n\r\nOf course the implementation of the service layer would be quite important, but it could be as simple as calling your repositories and performing the operations there :)\r\n\r\n","title":"How to design rest endpoint URLs for sub resources","body":"<p>I agree that it should be in the same 'UserController', it makes sense because offers belong to the user, so having an endpoint like:</p>\n<pre><code>@GetMapping(&quot;{user}/offers&quot;)\n    public Set&lt;OfferDTO&gt; getOffers(@PathVariable(&quot;user&quot;) String user) {\n    return offerService.getOffers(user);\n}\n</code></pre>\n<p>You can define special DTOs for getting the meta-data from the offers if you wanted to display them in a list for example, and you could display them as a list to your user.</p>\n<p>You could set up a similar endpoint for updating the offer which could be a POST endpoint, and a DELETE endpoint for deleting. You might want to think about what would happen if the user is looking at an offer when you delete it though, like making an asynchronous task for deleting the offer in a background thread and updating the UI to inform the user that the offer is deleted.</p>\n<p>Spring has some really nice annotations for security stuff (check <a href=\"https://www.baeldung.com/spring-security-method-security\" rel=\"nofollow noreferrer\">this</a> and <a href=\"https://www.baeldung.com/role-and-privilege-for-spring-security-registration\" rel=\"nofollow noreferrer\">this</a>), you could write your own annotation for administrator endpoints:</p>\n<pre><code>@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\n@PreAuthorize(&quot;hasAuthority('&quot; + ROLE_ADMIN + &quot;')&quot;)\npublic @interface IsAdmin {}\n</code></pre>\n<p>Then annotate your method like this:</p>\n<pre><code>@DeleteMapping(&quot;/{user}/{offer}/delete&quot;)\n  @IsReceiverAdmin\n  public void delete(@PathVariable(&quot;user&quot;) String user, @PathVariable(&quot;offer&quot;) String offer){\n    return offerService.delete(user, offer);\n  }\n</code></pre>\n<p>Of course the implementation of the service layer would be quite important, but it could be as simple as calling your repositories and performing the operations there :)</p>\n"},{"tags":[],"owner":{"account_id":15716181,"reputation":46,"user_id":11340336,"display_name":"Bu da"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642787979,"creation_date":1642787979,"answer_id":70805697,"question_id":70804976,"body_markdown":"General rules of thumb that I use when creating my endpoints are:\r\n\r\n - URLs need to be clean and easy to understand  \r\n - They should be as short as possible while still informative.\r\n - Try to build it in a such manner that it allows you to reuse it within the reasonable amount\r\n - Think about the user experience(whether this is called from browser or mobile app etc.)\r\n\r\nI am not sure if there is a written rule exactly how one should build an URL though.\r\nIn your specific case I would use `/users/{username}/offers/{offerId}` only if this is the only place you are exposing and using offers, since you are separating your code by functionality.    \r\nIf you have any further logic around offers and/or have beans that have such logic I would create a separate controller for Offers which would be under `/offers`.\r\nConcerning your last question. This very much depends on what you are trying to achieve. If you need to be able to update/delete/create offers then it makes sense to have such functionality. Even if it only used by the administrator. You can restrict the access to the endpoint. How to do that depends on the way you are authorize your users and the information that you have on them. Most people use roles.  \r\nIf you decide to have the full CRUD functionality I would suggest to use a single path with combination of request methods.\r\n\r\nPersonally I would create the following:\r\n\r\n    @RestController\r\n    @RequestMapping(value = &quot;/users&quot;)\r\n    class UserController {\r\n    @GetMapping(&quot;{userId}/offers&quot;)\r\n        public Set&lt;Offer&gt; getAllOffers(@PathVariable(&quot;userId&quot;) String userId){\r\n        ...\r\n      }\r\n    @GetMapping(&quot;{userId}/offers&quot;)\r\n        public Offer getOffer(@PathVariable(&quot;userId&quot;) String userId, @RequestParam(required = true) String offerId){\r\n        ...\r\n      }\r\n    @PutMapping(&quot;{userId}/offers&quot;)\r\n        public Offer createOffer(@PathVariable(&quot;userId&quot;) String userId, @RequestBody Offer offer){\r\n        ...\r\n      }\r\n    @PostMapping(&quot;{userId}/offers&quot;)\r\n        public Offer updateOffer(@PathVariable(&quot;userId&quot;) String userId, @RequestBody Offer offer){\r\n        ...\r\n      }\r\n    @DeleteMapping(&quot;{userId}/offers&quot;)\r\n        public void deleteOffer(@PathVariable(&quot;userId&quot;) String userId, @RequestParam(required = true) String offerId){\r\n        ...\r\n      }\r\n    }\r\n\r\n\r\nIn this scenario I think the POST/PUT for create and update will be cleaner as there will be no duplication of information. To be precise the IDs.","title":"How to design rest endpoint URLs for sub resources","body":"<p>General rules of thumb that I use when creating my endpoints are:</p>\n<ul>\n<li>URLs need to be clean and easy to understand</li>\n<li>They should be as short as possible while still informative.</li>\n<li>Try to build it in a such manner that it allows you to reuse it within the reasonable amount</li>\n<li>Think about the user experience(whether this is called from browser or mobile app etc.)</li>\n</ul>\n<p>I am not sure if there is a written rule exactly how one should build an URL though.\nIn your specific case I would use <code>/users/{username}/offers/{offerId}</code> only if this is the only place you are exposing and using offers, since you are separating your code by functionality.<br />\nIf you have any further logic around offers and/or have beans that have such logic I would create a separate controller for Offers which would be under <code>/offers</code>.\nConcerning your last question. This very much depends on what you are trying to achieve. If you need to be able to update/delete/create offers then it makes sense to have such functionality. Even if it only used by the administrator. You can restrict the access to the endpoint. How to do that depends on the way you are authorize your users and the information that you have on them. Most people use roles.<br />\nIf you decide to have the full CRUD functionality I would suggest to use a single path with combination of request methods.</p>\n<p>Personally I would create the following:</p>\n<pre><code>@RestController\n@RequestMapping(value = &quot;/users&quot;)\nclass UserController {\n@GetMapping(&quot;{userId}/offers&quot;)\n    public Set&lt;Offer&gt; getAllOffers(@PathVariable(&quot;userId&quot;) String userId){\n    ...\n  }\n@GetMapping(&quot;{userId}/offers&quot;)\n    public Offer getOffer(@PathVariable(&quot;userId&quot;) String userId, @RequestParam(required = true) String offerId){\n    ...\n  }\n@PutMapping(&quot;{userId}/offers&quot;)\n    public Offer createOffer(@PathVariable(&quot;userId&quot;) String userId, @RequestBody Offer offer){\n    ...\n  }\n@PostMapping(&quot;{userId}/offers&quot;)\n    public Offer updateOffer(@PathVariable(&quot;userId&quot;) String userId, @RequestBody Offer offer){\n    ...\n  }\n@DeleteMapping(&quot;{userId}/offers&quot;)\n    public void deleteOffer(@PathVariable(&quot;userId&quot;) String userId, @RequestParam(required = true) String offerId){\n    ...\n  }\n}\n</code></pre>\n<p>In this scenario I think the POST/PUT for create and update will be cleaner as there will be no duplication of information. To be precise the IDs.</p>\n"}],"owner":{"account_id":14856402,"reputation":697,"user_id":10728774,"display_name":"Reddi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":209,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70805697,"answer_count":2,"score":0,"last_activity_date":1642787979,"creation_date":1642784622,"question_id":70804976,"body_markdown":"Let&#39;s consider we have two entities. `User` entity can have many offers and an `Offer` must have one `User`. \r\n\r\n```\r\nclass User {\r\n    ...\r\n    @OneToMany(mappedBy = &quot;user&quot;, orphanRemoval = true)\r\n    private Set&lt;Offer&gt; offers;\r\n}\r\n\r\nclass Offer {\r\n    ...\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;fk_user&quot;)\r\n    private User user;\r\n}\r\n```\r\nAt this moment there are two controllers. `UserController` and the `OrderController`. The `UserController` is mapped under `/api/v1/users/` and the `OrderController` is mapped under `/api/v1/orders/`. \r\n\r\n - What should an endpoint look like that fetches the user&#39;s offer list?\r\n - Should it be in the same controller? I do have ***by functionality*** project structure.\r\n - How to modify or delete an `Offer` for a particular `User`? In case we would have `/api/v1/users/{username}/offers/{offerId}` to delete or update an offer, should we have also `/api/v1/offers/{offerId}` endpoint that allows to edit or remove an offer? Perhaps it is worth having it for an administrator?\r\n","title":"How to design rest endpoint URLs for sub resources","body":"<p>Let's consider we have two entities. <code>User</code> entity can have many offers and an <code>Offer</code> must have one <code>User</code>.</p>\n<pre><code>class User {\n    ...\n    @OneToMany(mappedBy = &quot;user&quot;, orphanRemoval = true)\n    private Set&lt;Offer&gt; offers;\n}\n\nclass Offer {\n    ...\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;fk_user&quot;)\n    private User user;\n}\n</code></pre>\n<p>At this moment there are two controllers. <code>UserController</code> and the <code>OrderController</code>. The <code>UserController</code> is mapped under <code>/api/v1/users/</code> and the <code>OrderController</code> is mapped under <code>/api/v1/orders/</code>.</p>\n<ul>\n<li>What should an endpoint look like that fetches the user's offer list?</li>\n<li>Should it be in the same controller? I do have <em><strong>by functionality</strong></em> project structure.</li>\n<li>How to modify or delete an <code>Offer</code> for a particular <code>User</code>? In case we would have <code>/api/v1/users/{username}/offers/{offerId}</code> to delete or update an offer, should we have also <code>/api/v1/offers/{offerId}</code> endpoint that allows to edit or remove an offer? Perhaps it is worth having it for an administrator?</li>\n</ul>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":3418957,"reputation":1176,"user_id":4029174,"accept_rate":100,"display_name":"bananas"},"score":0,"creation_date":1642787376,"post_id":70805447,"comment_id":125173351,"body_markdown":"If json is coming as string, use regex","body":"If json is coming as string, use regex"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1642787860,"post_id":70805447,"comment_id":125173521,"body_markdown":"@bananas Can&#39;t be harder than to [parse XML with regex](https://stackoverflow.com/a/1732454/845414), right? Really: Use a streaming JSON parser. Replace all occurrences of null with the empty string and pass everything to a JSON writer.","body":"@bananas Can&#39;t be harder than to <a href=\"https://stackoverflow.com/a/1732454/845414\">parse XML with regex</a>, right? Really: Use a streaming JSON parser. Replace all occurrences of null with the empty string and pass everything to a JSON writer."}],"owner":{"account_id":15300433,"reputation":238,"user_id":11039064,"display_name":"code-monkey"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":583,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642787971,"creation_date":1642786814,"question_id":70805447,"body_markdown":"I have not been able to find a solution to this online. I have the following JSON.\r\n\r\n   \r\n\r\n   \r\n\r\n    [{\r\n     &quot;Name&quot;:&quot;Adam&quot;,\r\n    &quot;Age&quot;:&quot;29&quot;,\r\n    &quot;Addr&quot;:&quot;Roland st&quot;,\r\n    &quot;Height&quot;:&quot;180&quot;,\r\n    &quot;Kids&quot;: [&quot;Charlie&quot;]\r\n    &quot;DummyData&quot;:\r\n\t[{\r\n\t\t&quot;DummyData1&quot;:null,\r\n\t\t&quot;DummyData2&quot;:&quot;840&quot;,\r\n\t\t&quot;DummyData3&quot;:\r\n\t\t[{\r\n\t\t\t&quot;DummyData4&quot;:&quot;INQU&quot;,\r\n\t\t\t&quot;DummyData5&quot;:null,\r\n\t\t\t&quot;DummyData6&quot;:null,\r\n\t\t\t&quot;DummyData7&quot;:123.45,\r\n\t\t}]\r\n\t}]  }]\r\n\r\nThis JSON structure may have different attributes in the future. Likewise it might also have different null values including in the Kids element (can have multiple single elements or null e.g., `&quot;Kids&quot;: [&quot;Name&quot;, &quot;&quot;]`). The above is just an example.\r\n\r\nI want to replace all Null values with empty strings, and then return the JSON Array as a String.\r\n\r\nThis is what I have so far.\r\n\r\n    private void traverse(JSONArray jsonArray) {\r\n\r\n\t\tfor (int i = 0; i &lt; jsonArray.length(); i++) {\r\n\r\n\t\t\tif(jsonArray.optJSONObject(i) != null) { //is null at &quot;Kids&quot;: [&quot;Charlie&quot;]\r\n\r\n\t\t\t\tJSONObject objects = jsonArray.getJSONObject(i);\r\n\t\t\t\tIterator&lt;String&gt; key = objects.keys();\r\n\r\n\t\t\t\twhile (key.hasNext()) {\r\n\t\t\t\t\tString k = key.next().toString();\r\n\t\t\t\t\tObject innerObject = objects.get(k);\r\n\r\n\t\t\t\t\tif (innerObject instanceof JSONArray) {\r\n\t\t\t\t\t\tJSONArray arr = objects.getJSONArray(k);\r\n\t\t\t\t\t\ttraverse(arr);\r\n\r\n\t\t\t\t\t} \r\n\t\t\t\t\telse if (!objects.isNull(k)) {\r\n\t\t\t\t\t\tif (innerObject instanceof Integer) {\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;Key : &quot; + k + &quot;, value : &quot; + objects.getInt(k));}\r\n\t\t\t\t\t\telse if (innerObject instanceof String) {\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;Key : &quot; + k + &quot;, value : &quot; + objects.getString(k));\r\n\t\t\t\t\t\t} else if (innerObject instanceof Boolean) {\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;Key : &quot; + k + &quot;, value : &quot; + objects.getBoolean(k));\r\n\t\t\t\t\t\t} else if (innerObject instanceof Double) {\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;Key : &quot; + k + &quot;, value : &quot; + objects.getDouble(k));\r\n\t\t\t\t\t\t} else if (innerObject instanceof Long) {\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;Key : &quot; + k + &quot;, value : &quot; + objects.getLong(k));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} \r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tSystem.out.println(&quot;NULL value found!!!&quot;);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tSystem.out.println(&quot;-----------&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nAs you can see I have already been able to traverse the entire json tree. However I have not been able to figure out how I can replace the null values in such a way that the structure of the json does not change? Help would be appreciated. Thanks in advance.","title":"How to replace NULL values inside an Array of JSON arrays","body":"<p>I have not been able to find a solution to this online. I have the following JSON.</p>\n<pre><code>[{\n &quot;Name&quot;:&quot;Adam&quot;,\n&quot;Age&quot;:&quot;29&quot;,\n&quot;Addr&quot;:&quot;Roland st&quot;,\n&quot;Height&quot;:&quot;180&quot;,\n&quot;Kids&quot;: [&quot;Charlie&quot;]\n&quot;DummyData&quot;:\n[{\n    &quot;DummyData1&quot;:null,\n    &quot;DummyData2&quot;:&quot;840&quot;,\n    &quot;DummyData3&quot;:\n    [{\n        &quot;DummyData4&quot;:&quot;INQU&quot;,\n        &quot;DummyData5&quot;:null,\n        &quot;DummyData6&quot;:null,\n        &quot;DummyData7&quot;:123.45,\n    }]\n}]  }]\n</code></pre>\n<p>This JSON structure may have different attributes in the future. Likewise it might also have different null values including in the Kids element (can have multiple single elements or null e.g., <code>&quot;Kids&quot;: [&quot;Name&quot;, &quot;&quot;]</code>). The above is just an example.</p>\n<p>I want to replace all Null values with empty strings, and then return the JSON Array as a String.</p>\n<p>This is what I have so far.</p>\n<pre><code>private void traverse(JSONArray jsonArray) {\n\n    for (int i = 0; i &lt; jsonArray.length(); i++) {\n\n        if(jsonArray.optJSONObject(i) != null) { //is null at &quot;Kids&quot;: [&quot;Charlie&quot;]\n\n            JSONObject objects = jsonArray.getJSONObject(i);\n            Iterator&lt;String&gt; key = objects.keys();\n\n            while (key.hasNext()) {\n                String k = key.next().toString();\n                Object innerObject = objects.get(k);\n\n                if (innerObject instanceof JSONArray) {\n                    JSONArray arr = objects.getJSONArray(k);\n                    traverse(arr);\n\n                } \n                else if (!objects.isNull(k)) {\n                    if (innerObject instanceof Integer) {\n                        System.out.println(&quot;Key : &quot; + k + &quot;, value : &quot; + objects.getInt(k));}\n                    else if (innerObject instanceof String) {\n                        System.out.println(&quot;Key : &quot; + k + &quot;, value : &quot; + objects.getString(k));\n                    } else if (innerObject instanceof Boolean) {\n                        System.out.println(&quot;Key : &quot; + k + &quot;, value : &quot; + objects.getBoolean(k));\n                    } else if (innerObject instanceof Double) {\n                        System.out.println(&quot;Key : &quot; + k + &quot;, value : &quot; + objects.getDouble(k));\n                    } else if (innerObject instanceof Long) {\n                        System.out.println(&quot;Key : &quot; + k + &quot;, value : &quot; + objects.getLong(k));\n                    }\n                } \n                else {\n                    System.out.println(&quot;NULL value found!!!&quot;);\n                    \n                }\n            }\n            System.out.println(&quot;-----------&quot;);\n        }\n    }\n}\n</code></pre>\n<p>As you can see I have already been able to traverse the entire json tree. However I have not been able to figure out how I can replace the null values in such a way that the structure of the json does not change? Help would be appreciated. Thanks in advance.</p>\n"},{"tags":["java","random","random-seed"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1642788623,"post_id":70805692,"comment_id":125173759,"body_markdown":"Consider wrapping the `Random` in a helper class, such as `RandomWrapper`.  There could be multiple instances of that class, with each instance accepting a seed value through its constructor.  For testing, mock the class and have it return whatever value is needed to test the class under test.  And no need to make anything static.","body":"Consider wrapping the <code>Random</code> in a helper class, such as <code>RandomWrapper</code>.  There could be multiple instances of that class, with each instance accepting a seed value through its constructor.  For testing, mock the class and have it return whatever value is needed to test the class under test.  And no need to make anything static."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1642788823,"post_id":70805692,"comment_id":125173827,"body_markdown":"You can create it and seed it (and print the seed) in a [static initialization block](https://docs.oracle.com/javase/tutorial/java/javaOO/initial.html).","body":"You can create it and seed it (and print the seed) in a <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/initial.html\" rel=\"nofollow noreferrer\">static initialization block</a>."}],"owner":{"account_id":20952722,"reputation":121,"user_id":15394010,"display_name":"devor110"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":283,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642787954,"creation_date":1642787954,"question_id":70805692,"body_markdown":"This is probably a duplicate, but I didn&#39;t find an answer specifically with Random and seeding it.  \r\n\r\nI&#39;m currently refactoring a project where I use Random instances quite frequently across several other classes (until now I had all of these code snippets inside a Main class, so I could get by with just using one instance). For testing and reproducability purposes I want to set a seed to my Random member, something like this:  \r\n\r\n    Random rand = new Random();  \r\n    int seed = rand.nextInt();\r\n    rand.setSeed(seed);\r\n    System.out.println(seed);  \r\n(Printed as a console output for now, should probably save it to a file).  \r\nI also made a method that uses ```rand.nextInt()```, but a bit less cumbersome and that bypasses ```nextInt()```&#39;s positive bound parameter restriction:\r\n\r\n    public static int enhancedRandInt(int max, int min){\r\n        if(min&gt;max)\r\n            throw new IllegalArgumentException(&quot;Min cannot exceed max.&quot;);\r\n        else return min==max?min:rand.nextInt(max-min)+min;\r\n    }\r\nI plan to use this method several times across several classes so I figured I&#39;d make it static. That of course requires ```rand``` to be static as well, but then I run into a problem of converting my seeding procedure to be all static. I guess I could make a new temporary Random instance to get the seed from and then set that to the now static ```rand``` in my ```main()```. Is that solution good practice? Should I forgo making ```enhancedRandInt``` static to begin with?","title":"Java - How do I set a random seed to a static Random member?","body":"<p>This is probably a duplicate, but I didn't find an answer specifically with Random and seeding it.</p>\n<p>I'm currently refactoring a project where I use Random instances quite frequently across several other classes (until now I had all of these code snippets inside a Main class, so I could get by with just using one instance). For testing and reproducability purposes I want to set a seed to my Random member, something like this:</p>\n<pre><code>Random rand = new Random();  \nint seed = rand.nextInt();\nrand.setSeed(seed);\nSystem.out.println(seed);  \n</code></pre>\n<p>(Printed as a console output for now, should probably save it to a file).<br />\nI also made a method that uses <code>rand.nextInt()</code>, but a bit less cumbersome and that bypasses <code>nextInt()</code>'s positive bound parameter restriction:</p>\n<pre><code>public static int enhancedRandInt(int max, int min){\n    if(min&gt;max)\n        throw new IllegalArgumentException(&quot;Min cannot exceed max.&quot;);\n    else return min==max?min:rand.nextInt(max-min)+min;\n}\n</code></pre>\n<p>I plan to use this method several times across several classes so I figured I'd make it static. That of course requires <code>rand</code> to be static as well, but then I run into a problem of converting my seeding procedure to be all static. I guess I could make a new temporary Random instance to get the seed from and then set that to the now static <code>rand</code> in my <code>main()</code>. Is that solution good practice? Should I forgo making <code>enhancedRandInt</code> static to begin with?</p>\n"},{"tags":["java","memory-leaks"],"answers":[{"tags":[],"owner":{"account_id":16109305,"reputation":360,"user_id":11627994,"display_name":"Baran Bursalı"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642787894,"creation_date":1642787894,"answer_id":70805678,"question_id":70804785,"body_markdown":"I can think of 2 possible solutions but it wont be only for out of memory situations but crashes too:\r\n\r\n 1. You can use java&#39;s `-XX:OnError` option to run your own script or gcore, (gdb) generate-core-file(depends to your OS) to create an core dump that you can later use a debugger(like gdb) to attach to it.\r\n \r\n 2. You can enable auto core dumps in your OS in the way it provides. **For Redhat**:\r\n\r\nTo enable: Edit the related line in file /etc/systemd/system.conf as `DefaultLimitCORE=infinity`\r\n\r\nReboot and remove the limits of core dump by `ulimit -c unlimited`.\r\n\r\nWhen your application crashes, the dumb must be created in its working directory.","title":"fast heap dumps but on out of memory","body":"<p>I can think of 2 possible solutions but it wont be only for out of memory situations but crashes too:</p>\n<ol>\n<li><p>You can use java's <code>-XX:OnError</code> option to run your own script or gcore, (gdb) generate-core-file(depends to your OS) to create an core dump that you can later use a debugger(like gdb) to attach to it.</p>\n</li>\n<li><p>You can enable auto core dumps in your OS in the way it provides. <strong>For Redhat</strong>:</p>\n</li>\n</ol>\n<p>To enable: Edit the related line in file /etc/systemd/system.conf as <code>DefaultLimitCORE=infinity</code></p>\n<p>Reboot and remove the limits of core dump by <code>ulimit -c unlimited</code>.</p>\n<p>When your application crashes, the dumb must be created in its working directory.</p>\n"}],"owner":{"account_id":330599,"reputation":10771,"user_id":654799,"accept_rate":84,"display_name":"vach"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":291,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70805678,"answer_count":1,"score":0,"last_activity_date":1642787894,"creation_date":1642783790,"question_id":70804785,"body_markdown":"We all know good old flag `+HeapDumpOnOutOfMemoryError` for taking heap dumps when JVM runs out of memory. Problem with this is that for large heaps this takes more and more time. \r\n\r\nThere is a way to take fast heap dumps using GNU Debugger...\r\nYou effectively take the core file of the process (very fast) then convert it to heapdump format using `jmap`... this is the slowest part of the work.\r\n\r\nHowever this is only if you take it manually, when your java apps run in containers there is usually a fixed timeout until your app will be killed non gracefully... for kube i believe it is 30 seconds by default. \r\n\r\nFor many reasons i do not want to extend this timeout to larger number. Is there a way to trigger only core file dump when out of java runs out of memory? or we are just limited with whatever `+HeapDumpOnOutOfMemoryError` flag offers?","title":"fast heap dumps but on out of memory","body":"<p>We all know good old flag <code>+HeapDumpOnOutOfMemoryError</code> for taking heap dumps when JVM runs out of memory. Problem with this is that for large heaps this takes more and more time.</p>\n<p>There is a way to take fast heap dumps using GNU Debugger...\nYou effectively take the core file of the process (very fast) then convert it to heapdump format using <code>jmap</code>... this is the slowest part of the work.</p>\n<p>However this is only if you take it manually, when your java apps run in containers there is usually a fixed timeout until your app will be killed non gracefully... for kube i believe it is 30 seconds by default.</p>\n<p>For many reasons i do not want to extend this timeout to larger number. Is there a way to trigger only core file dump when out of java runs out of memory? or we are just limited with whatever <code>+HeapDumpOnOutOfMemoryError</code> flag offers?</p>\n"},{"tags":["java","arraylist","collections","compiler-errors"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1642005890,"post_id":70677018,"comment_id":124959245,"body_markdown":"Try to compile on the command line with `javac`","body":"Try to compile on the command line with <code>javac</code>"},{"owner":{"account_id":10276679,"reputation":131,"user_id":14295211,"display_name":"ace1234"},"score":0,"creation_date":1642787577,"post_id":70677018,"comment_id":125173417,"body_markdown":"Could not replicate the error.","body":"Could not replicate the error."}],"owner":{"account_id":23913981,"reputation":1,"user_id":17910580,"display_name":"RP2022"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642787281,"creation_date":1641967563,"question_id":70677018,"body_markdown":"Getting following error in the below program, can you please point out:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.RuntimeException: Uncompilable source code - Erroneous ctor sym type: &lt;any&gt;\r\n\tat listdemo.ListDemo.main(ListDemo.java:8)\r\nC:\\Users\\Savera\\AppData\\Local\\NetBeans\\Cache\\12.5\\executor-snippets\\run.xml:111: The following error occurred while executing this line:\r\nC:\\Users\\Savera\\AppData\\Local\\NetBeans\\Cache\\12.5\\executor-snippets\\run.xml:94: Java returned: 1\r\nBUILD FAILED (total time: 5 seconds)\r\n```\r\nThe code I am using is the following\r\n```java\r\npackage listdemo;\r\nimport java.util.*;\r\n\r\npublic class ListDemo {\r\n    public static void main(String[] args) throws Exception{\r\n        ArrayList &lt;Integer&gt; al1 = new ArrayList&lt;&gt;(20);\r\n        ArrayList &lt;Integer&gt; al2 = new ArrayList&lt;&gt;(List.of(1,2,3,4,5)); //Line 8\r\n        al1.add(10);\r\n        al1.add(0, 25);\r\n        al1.addAll(al2);\r\n        System.out.println(al1);\r\n    }\r\n}\r\n```","title":"How can I solve a compilation error when using ArrayList?","body":"<p>Getting following error in the below program, can you please point out:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.RuntimeException: Uncompilable source code - Erroneous ctor sym type: &lt;any&gt;\n    at listdemo.ListDemo.main(ListDemo.java:8)\nC:\\Users\\Savera\\AppData\\Local\\NetBeans\\Cache\\12.5\\executor-snippets\\run.xml:111: The following error occurred while executing this line:\nC:\\Users\\Savera\\AppData\\Local\\NetBeans\\Cache\\12.5\\executor-snippets\\run.xml:94: Java returned: 1\nBUILD FAILED (total time: 5 seconds)\n</code></pre>\n<p>The code I am using is the following</p>\n<pre class=\"lang-java prettyprint-override\"><code>package listdemo;\nimport java.util.*;\n\npublic class ListDemo {\n    public static void main(String[] args) throws Exception{\n        ArrayList &lt;Integer&gt; al1 = new ArrayList&lt;&gt;(20);\n        ArrayList &lt;Integer&gt; al2 = new ArrayList&lt;&gt;(List.of(1,2,3,4,5)); //Line 8\n        al1.add(10);\n        al1.add(0, 25);\n        al1.addAll(al2);\n        System.out.println(al1);\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","arraylist","jtable"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1638600262,"post_id":70223317,"comment_id":124136474,"body_markdown":"So many things that I would change. Where to start? You GUI should not just display a [JTable](https://docs.oracle.com/javase/tutorial/uiswing/components/table.html), it should also allow the user to perform all the actions in the menu that you display to the console, because you shouldn&#39;t use both console and GUI for user interaction in the same application. Usually you should not use a null [layout](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html). If you want help debugging your code, then I think that you should post a [mcve].","body":"So many things that I would change. Where to start? You GUI should not just display a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/table.html\" rel=\"nofollow noreferrer\">JTable</a>, it should also allow the user to perform all the actions in the menu that you display to the console, because you shouldn&#39;t use both console and GUI for user interaction in the same application. Usually you should not use a null <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">layout</a>. If you want help debugging your code, then I think that you should post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1638600848,"post_id":70223317,"comment_id":124136557,"body_markdown":"So, conceptually, you code works, the problem is in the source of the data.  Your GUI is extending from `Formula1ChampionshipManager`, which I assume acts as some kind of data source, the problem you are create two instances of this data source, so the GUI probably has not idea about what information the other data source has.  So, yes, Abra&#39;s comment is actually correct - ditch the console input and build all the management via the GUI","body":"So, conceptually, you code works, the problem is in the source of the data.  Your GUI is extending from <code>Formula1ChampionshipManager</code>, which I assume acts as some kind of data source, the problem you are create two instances of this data source, so the GUI probably has not idea about what information the other data source has.  So, yes, Abra&#39;s comment is actually correct - ditch the console input and build all the management via the GUI"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1638600893,"post_id":70223317,"comment_id":124136566,"body_markdown":"Alternatively, remove `extends Formula1ChampionshipManager` from `F1ChampionshipGUI` then pass the data it needs directly to it","body":"Alternatively, remove <code>extends Formula1ChampionshipManager</code> from <code>F1ChampionshipGUI</code> then pass the data it needs directly to it"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638655651,"creation_date":1638603029,"answer_id":70223790,"question_id":70223317,"body_markdown":"The &quot;primary&quot; issues comes about from, I suspect, a data sharing issue.\r\n\r\nBasically, `F1ChampionshipGUI` extending from `Formula1ChampionshipManager`, but you create a separate `Formula1ChampionshipManager` instance\r\n\r\n    Formula1ChampionshipManager formula1ChampionshipManager =new Formula1ChampionshipManager();\r\n    F1ChampionshipGUI guiCode = new F1ChampionshipGUI();\r\n\r\nThese two &quot;data sources&quot; have nothing in common, so adding data to `formula1ChampionshipManager` will not expose that data to `guiCode`.\r\n\r\nI&#39;d remove the `extends Formula1ChampionshipManager` from `F1ChampionshipGUI` and simply pass it an instance of `Formula1ChampionshipManager` directly.  This is basic programming concept, see [Passing Information to a Method or a Constructor](https://docs.oracle.com/javase/tutorial/java/javaOO/arguments.html) for more details.\r\n\r\nHaving said that, you have a litany of other issues.  Unless you have a very specific requirement, don&#39;t mix console and GUI workflows together.  They have very different requirements.\r\n\r\nI would strongly recommend having a look at:\r\n\r\n* [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/)\r\n* [How to Use Buttons, Check Boxes, and Radio Buttons](https://docs.oracle.com/javase/tutorial/uiswing/components/button.html)\r\n* [How to Write an Action Listener](https://docs.oracle.com/javase/tutorial/uiswing/events/actionlistener.html)\r\n* [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html)\r\n\r\nYou should then take a look at:\r\n\r\n* [How to Use Tables](https://docs.oracle.com/javase/tutorial/uiswing/components/table.html)\r\n* [How to use Tables: Sorting and Filtering](https://docs.oracle.com/javase/tutorial/uiswing/components/table.html#sorting)\r\n\r\nYou&#39;ll also want to be familiar with:\r\n\r\n* The [Delegation Pattern](http://best-practice-software-engineering.ifs.tuwien.ac.at/patterns/delegation.html)\r\n* [Dependency Injection](http://best-practice-software-engineering.ifs.tuwien.ac.at/patterns/dependency_injection.html)\r\n* The [Observer Pattern](http://best-practice-software-engineering.ifs.tuwien.ac.at/patterns/observer.html)\r\n\r\nbecause without those concepts, nothing I&#39;m about to do will make any sense.\r\n\r\nBecause they weren&#39;t provided, I created my own `Formula1ChampionshipManager` and `Formula1Driver` classes...\r\n\r\n    public class Formula1Driver {\r\n\r\n        private String driverName;\r\n        private String driverTeam;\r\n        private String driverLocation;\r\n        private int firstPositions;\r\n        private int secondPositions;\r\n        private int thirdPositions;\r\n        private int racesParticipated;\r\n        private int points;\r\n\r\n        public Formula1Driver(String driverName, String driverTeam, String driverLocations, int firstPositions, int secondPositions, int thirdPositions, int racesParticipated, int points) {\r\n            this.driverName = driverName;\r\n            this.driverTeam = driverTeam;\r\n            this.driverLocation = driverLocations;\r\n            this.firstPositions = firstPositions;\r\n            this.secondPositions = secondPositions;\r\n            this.thirdPositions = thirdPositions;\r\n            this.racesParticipated = racesParticipated;\r\n            this.points = points;\r\n        }\r\n\r\n        public String getDriverName() {\r\n            return driverName;\r\n        }\r\n\r\n        public String getDriverTeam() {\r\n            return driverTeam;\r\n        }\r\n\r\n        public String getDriverLocation() {\r\n            return driverLocation;\r\n        }\r\n\r\n        public int getFirstPositions() {\r\n            return firstPositions;\r\n        }\r\n\r\n        public int getSecondPositions() {\r\n            return secondPositions;\r\n        }\r\n\r\n        public int getThirdPositions() {\r\n            return thirdPositions;\r\n        }\r\n\r\n        public int getRacesParticipated() {\r\n            return racesParticipated;\r\n        }\r\n\r\n        public int getPoints() {\r\n            return points;\r\n        }\r\n\r\n    }\r\n\r\n    public class Formula1ChampionshipManager {\r\n\r\n        private List&lt;Formula1Driver&gt; drivers;\r\n\r\n        public Formula1ChampionshipManager() {\r\n            drivers = new ArrayList&lt;&gt;();\r\n        }\r\n\r\n        public int size() {\r\n            return drivers.size();\r\n        }\r\n\r\n        public Formula1Driver getDriverAt(int index) {\r\n            return drivers.get(index);\r\n        }\r\n\r\n        public void add(Formula1Driver driver) {\r\n            drivers.add(driver);\r\n            // This is where I&#39;d employee an observer pattern to notify\r\n            // interested parties that a driver was added\r\n        }\r\n\r\n        public void remove(Formula1Driver driver) {\r\n            drivers.remove(driver);\r\n            // This is where I&#39;d employee an observer pattern to notify\r\n            // interested parties that a driver was removed\r\n        }\r\n    }\r\n\r\nThis formed the bases of the rest of the solution.\r\n\r\nBecause it&#39;s easier to do, I created my own custom `TableModel`, which uses the `Formula1ChampionshipManager` as its source of data.   \r\n\r\n    public class Formula1DriverTableModel extends AbstractTableModel {\r\n\r\n        private Formula1ChampionshipManager manager;\r\n        private String[] columnNames = new String[]{&quot;Name&quot;, &quot;Team&quot;, &quot;Location&quot;, &quot;First positions&quot;, &quot;Second positions&quot;, &quot;Third positions&quot;, &quot;Races participated&quot;, &quot;Points&quot;};\r\n\r\n        public Formula1DriverTableModel(Formula1ChampionshipManager manager) {\r\n            this.manager = manager;\r\n        }\r\n\r\n        public Formula1ChampionshipManager getManager() {\r\n            return manager;\r\n        }\r\n\r\n        @Override\r\n        public int getRowCount() {\r\n            return getManager().size();\r\n        }\r\n\r\n        @Override\r\n        public int getColumnCount() {\r\n            return columnNames.length;\r\n        }\r\n\r\n        @Override\r\n        public String getColumnName(int column) {\r\n            return columnNames[column];\r\n        }\r\n\r\n        @Override\r\n        public Object getValueAt(int rowIndex, int columnIndex) {\r\n            Formula1Driver driver = getManager().getDriverAt(rowIndex);\r\n            switch (columnIndex) {\r\n                case 0:\r\n                    return driver.getDriverName();\r\n                case 1:\r\n                    return driver.getDriverTeam();\r\n                case 2:\r\n                    return driver.getDriverLocation();\r\n                case 3:\r\n                    return driver.getFirstPositions();\r\n                case 4:\r\n                    return driver.getSecondPositions();\r\n                case 5:\r\n                    return driver.getThirdPositions();\r\n                case 6:\r\n                    return driver.getRacesParticipated();\r\n                case 7:\r\n                    return driver.getPoints();\r\n            }\r\n            return null;\r\n        }\r\n\r\n    }\r\n\r\nThis is an example of delegation and dependency injection (it also forms part of a different pattern, but you&#39;re probably somewhat overloaded by now)\r\n\r\n*nb: With an addition of an observer pattern directly to `Formula1ChampionshipManager`, `Formula1DriverTableModel` could register itself to be notified when drivers are added or removed and trigger appropriate change events via it&#39;s own observer pattern, but I took this as been out of context to the question*\r\n\r\nThen I created a &quot;master&quot; component to act as the &quot;main&quot; UI...\r\n\r\n    public class MasterPane extends JPanel {\r\n\r\n        private JTable table;\r\n        private Formula1DriverTableModel model;\r\n        private Formula1ChampionshipManager manager;\r\n\r\n        public MasterPane(Formula1ChampionshipManager manager) {\r\n            this.manager = manager;\r\n            setLayout(new BorderLayout());\r\n            model = new Formula1DriverTableModel(manager);\r\n            table = new JTable();\r\n            table.setAutoCreateRowSorter(true);\r\n            table.setModel(model);\r\n            List&lt;RowSorter.SortKey&gt; sortKeys = new ArrayList&lt;RowSorter.SortKey&gt;();\r\n            sortKeys.add(new RowSorter.SortKey(7, SortOrder.ASCENDING));\r\n            sortKeys.add(new RowSorter.SortKey(0, SortOrder.ASCENDING));\r\n            sortKeys.add(new RowSorter.SortKey(1, SortOrder.ASCENDING));\r\n            table.getRowSorter().setSortKeys(sortKeys);\r\n            \r\n            add(new JScrollPane(table));\r\n\r\n            JPanel actions = new JPanel(new GridBagLayout());\r\n            JButton add = new JButton(&quot;Add&quot;);\r\n            JButton delete = new JButton(&quot;Delete&quot;);\r\n            JButton save = new JButton(&quot;Save&quot;);\r\n            JButton load = new JButton(&quot;Load&quot;);\r\n\r\n            actions.add(add);\r\n            actions.add(delete);\r\n            actions.add(save);\r\n            actions.add(load);\r\n\r\n            add(actions, BorderLayout.SOUTH);\r\n\r\n            add.addActionListener(new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    // This is likely going to be a dialog of some kind\r\n                    // which presents the form to the user ... possibly\r\n                    // passing the manager, maybe not.  I might wait till\r\n                    // the form is completed and ascertain the appropriate\r\n                    // course of action based on the state of the dialog\r\n                }\r\n            });\r\n            delete.addActionListener(new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    // Get the selected index of the table and remove \r\n                    // the driver at that location\r\n                }\r\n            });\r\n            save.addActionListener(new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    // Call the management functionality\r\n                    JOptionPane.showMessageDialog(MasterPane.this, &quot;All you data belong to us&quot;, &quot;Saved&quot;, JOptionPane.INFORMATION_MESSAGE);\r\n                }\r\n            });\r\n            load.addActionListener(new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    // Call the management functionality\r\n                    JOptionPane.showMessageDialog(MasterPane.this, &quot;All you data now loaded&quot;, &quot;Loaded&quot;, JOptionPane.INFORMATION_MESSAGE);\r\n                }\r\n            });\r\n        }\r\n\r\n        public Formula1ChampionshipManager getManager() {\r\n            return manager;\r\n        }\r\n\r\n    }\r\n\r\nThis presents a list of the drivers and some actions the user can take.  You will note that the table will automatically sort the drivers.  Since I didn&#39;t have the requirements for this, I sorted them by `points`, `name` and `team`.  This demonstrates the power using something like `JTable`s inbuilt sorting capabilities.\r\n\r\nAnd finally, I built the `Formula1ChampionshipManager`, populated it and build the UI...\r\n\r\n    EventQueue.invokeLater(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            Formula1ChampionshipManager manager = new Formula1ChampionshipManager();\r\n            manager.add(new Formula1Driver(&quot;Hare&quot;, &quot;H1&quot;, &quot;&quot;, 0, 1, 0, 1, 50));\r\n            manager.add(new Formula1Driver(&quot;Tortus&quot;, &quot;T1&quot;, &quot;&quot;, 1, 0, 0, 1, 100));\r\n\r\n            JFrame frame = new JFrame();\r\n            frame.add(new MasterPane(manager));\r\n            frame.pack();\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setVisible(true);\r\n        }\r\n    });\r\n\r\nWhat&#39;s important to note here is, &quot;Hare&quot; is added first, so it&#39;s the first entry in our list, but in the UI, &quot;Torus&quot; is listed first &#128561;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n&gt; But wait, where&#39;s edit?!\r\n\r\nYou can make the table editable and allow the user to modify the row data directly!  See if you can figure out how to do that, hint, it&#39;s part of the `TableModel` ;)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SHzYR.png","title":"How to populate JTable with an existing ArrayList of objects?","body":"<p>The &quot;primary&quot; issues comes about from, I suspect, a data sharing issue.</p>\n<p>Basically, <code>F1ChampionshipGUI</code> extending from <code>Formula1ChampionshipManager</code>, but you create a separate <code>Formula1ChampionshipManager</code> instance</p>\n<pre><code>Formula1ChampionshipManager formula1ChampionshipManager =new Formula1ChampionshipManager();\nF1ChampionshipGUI guiCode = new F1ChampionshipGUI();\n</code></pre>\n<p>These two &quot;data sources&quot; have nothing in common, so adding data to <code>formula1ChampionshipManager</code> will not expose that data to <code>guiCode</code>.</p>\n<p>I'd remove the <code>extends Formula1ChampionshipManager</code> from <code>F1ChampionshipGUI</code> and simply pass it an instance of <code>Formula1ChampionshipManager</code> directly.  This is basic programming concept, see <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/arguments.html\" rel=\"nofollow noreferrer\">Passing Information to a Method or a Constructor</a> for more details.</p>\n<p>Having said that, you have a litany of other issues.  Unless you have a very specific requirement, don't mix console and GUI workflows together.  They have very different requirements.</p>\n<p>I would strongly recommend having a look at:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a></li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/button.html\" rel=\"nofollow noreferrer\">How to Use Buttons, Check Boxes, and Radio Buttons</a></li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/events/actionlistener.html\" rel=\"nofollow noreferrer\">How to Write an Action Listener</a></li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a></li>\n</ul>\n<p>You should then take a look at:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/table.html\" rel=\"nofollow noreferrer\">How to Use Tables</a></li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/table.html#sorting\" rel=\"nofollow noreferrer\">How to use Tables: Sorting and Filtering</a></li>\n</ul>\n<p>You'll also want to be familiar with:</p>\n<ul>\n<li>The <a href=\"http://best-practice-software-engineering.ifs.tuwien.ac.at/patterns/delegation.html\" rel=\"nofollow noreferrer\">Delegation Pattern</a></li>\n<li><a href=\"http://best-practice-software-engineering.ifs.tuwien.ac.at/patterns/dependency_injection.html\" rel=\"nofollow noreferrer\">Dependency Injection</a></li>\n<li>The <a href=\"http://best-practice-software-engineering.ifs.tuwien.ac.at/patterns/observer.html\" rel=\"nofollow noreferrer\">Observer Pattern</a></li>\n</ul>\n<p>because without those concepts, nothing I'm about to do will make any sense.</p>\n<p>Because they weren't provided, I created my own <code>Formula1ChampionshipManager</code> and <code>Formula1Driver</code> classes...</p>\n<pre><code>public class Formula1Driver {\n\n    private String driverName;\n    private String driverTeam;\n    private String driverLocation;\n    private int firstPositions;\n    private int secondPositions;\n    private int thirdPositions;\n    private int racesParticipated;\n    private int points;\n\n    public Formula1Driver(String driverName, String driverTeam, String driverLocations, int firstPositions, int secondPositions, int thirdPositions, int racesParticipated, int points) {\n        this.driverName = driverName;\n        this.driverTeam = driverTeam;\n        this.driverLocation = driverLocations;\n        this.firstPositions = firstPositions;\n        this.secondPositions = secondPositions;\n        this.thirdPositions = thirdPositions;\n        this.racesParticipated = racesParticipated;\n        this.points = points;\n    }\n\n    public String getDriverName() {\n        return driverName;\n    }\n\n    public String getDriverTeam() {\n        return driverTeam;\n    }\n\n    public String getDriverLocation() {\n        return driverLocation;\n    }\n\n    public int getFirstPositions() {\n        return firstPositions;\n    }\n\n    public int getSecondPositions() {\n        return secondPositions;\n    }\n\n    public int getThirdPositions() {\n        return thirdPositions;\n    }\n\n    public int getRacesParticipated() {\n        return racesParticipated;\n    }\n\n    public int getPoints() {\n        return points;\n    }\n\n}\n\npublic class Formula1ChampionshipManager {\n\n    private List&lt;Formula1Driver&gt; drivers;\n\n    public Formula1ChampionshipManager() {\n        drivers = new ArrayList&lt;&gt;();\n    }\n\n    public int size() {\n        return drivers.size();\n    }\n\n    public Formula1Driver getDriverAt(int index) {\n        return drivers.get(index);\n    }\n\n    public void add(Formula1Driver driver) {\n        drivers.add(driver);\n        // This is where I'd employee an observer pattern to notify\n        // interested parties that a driver was added\n    }\n\n    public void remove(Formula1Driver driver) {\n        drivers.remove(driver);\n        // This is where I'd employee an observer pattern to notify\n        // interested parties that a driver was removed\n    }\n}\n</code></pre>\n<p>This formed the bases of the rest of the solution.</p>\n<p>Because it's easier to do, I created my own custom <code>TableModel</code>, which uses the <code>Formula1ChampionshipManager</code> as its source of data.</p>\n<pre><code>public class Formula1DriverTableModel extends AbstractTableModel {\n\n    private Formula1ChampionshipManager manager;\n    private String[] columnNames = new String[]{&quot;Name&quot;, &quot;Team&quot;, &quot;Location&quot;, &quot;First positions&quot;, &quot;Second positions&quot;, &quot;Third positions&quot;, &quot;Races participated&quot;, &quot;Points&quot;};\n\n    public Formula1DriverTableModel(Formula1ChampionshipManager manager) {\n        this.manager = manager;\n    }\n\n    public Formula1ChampionshipManager getManager() {\n        return manager;\n    }\n\n    @Override\n    public int getRowCount() {\n        return getManager().size();\n    }\n\n    @Override\n    public int getColumnCount() {\n        return columnNames.length;\n    }\n\n    @Override\n    public String getColumnName(int column) {\n        return columnNames[column];\n    }\n\n    @Override\n    public Object getValueAt(int rowIndex, int columnIndex) {\n        Formula1Driver driver = getManager().getDriverAt(rowIndex);\n        switch (columnIndex) {\n            case 0:\n                return driver.getDriverName();\n            case 1:\n                return driver.getDriverTeam();\n            case 2:\n                return driver.getDriverLocation();\n            case 3:\n                return driver.getFirstPositions();\n            case 4:\n                return driver.getSecondPositions();\n            case 5:\n                return driver.getThirdPositions();\n            case 6:\n                return driver.getRacesParticipated();\n            case 7:\n                return driver.getPoints();\n        }\n        return null;\n    }\n\n}\n</code></pre>\n<p>This is an example of delegation and dependency injection (it also forms part of a different pattern, but you're probably somewhat overloaded by now)</p>\n<p><em>nb: With an addition of an observer pattern directly to <code>Formula1ChampionshipManager</code>, <code>Formula1DriverTableModel</code> could register itself to be notified when drivers are added or removed and trigger appropriate change events via it's own observer pattern, but I took this as been out of context to the question</em></p>\n<p>Then I created a &quot;master&quot; component to act as the &quot;main&quot; UI...</p>\n<pre><code>public class MasterPane extends JPanel {\n\n    private JTable table;\n    private Formula1DriverTableModel model;\n    private Formula1ChampionshipManager manager;\n\n    public MasterPane(Formula1ChampionshipManager manager) {\n        this.manager = manager;\n        setLayout(new BorderLayout());\n        model = new Formula1DriverTableModel(manager);\n        table = new JTable();\n        table.setAutoCreateRowSorter(true);\n        table.setModel(model);\n        List&lt;RowSorter.SortKey&gt; sortKeys = new ArrayList&lt;RowSorter.SortKey&gt;();\n        sortKeys.add(new RowSorter.SortKey(7, SortOrder.ASCENDING));\n        sortKeys.add(new RowSorter.SortKey(0, SortOrder.ASCENDING));\n        sortKeys.add(new RowSorter.SortKey(1, SortOrder.ASCENDING));\n        table.getRowSorter().setSortKeys(sortKeys);\n        \n        add(new JScrollPane(table));\n\n        JPanel actions = new JPanel(new GridBagLayout());\n        JButton add = new JButton(&quot;Add&quot;);\n        JButton delete = new JButton(&quot;Delete&quot;);\n        JButton save = new JButton(&quot;Save&quot;);\n        JButton load = new JButton(&quot;Load&quot;);\n\n        actions.add(add);\n        actions.add(delete);\n        actions.add(save);\n        actions.add(load);\n\n        add(actions, BorderLayout.SOUTH);\n\n        add.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                // This is likely going to be a dialog of some kind\n                // which presents the form to the user ... possibly\n                // passing the manager, maybe not.  I might wait till\n                // the form is completed and ascertain the appropriate\n                // course of action based on the state of the dialog\n            }\n        });\n        delete.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                // Get the selected index of the table and remove \n                // the driver at that location\n            }\n        });\n        save.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                // Call the management functionality\n                JOptionPane.showMessageDialog(MasterPane.this, &quot;All you data belong to us&quot;, &quot;Saved&quot;, JOptionPane.INFORMATION_MESSAGE);\n            }\n        });\n        load.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                // Call the management functionality\n                JOptionPane.showMessageDialog(MasterPane.this, &quot;All you data now loaded&quot;, &quot;Loaded&quot;, JOptionPane.INFORMATION_MESSAGE);\n            }\n        });\n    }\n\n    public Formula1ChampionshipManager getManager() {\n        return manager;\n    }\n\n}\n</code></pre>\n<p>This presents a list of the drivers and some actions the user can take.  You will note that the table will automatically sort the drivers.  Since I didn't have the requirements for this, I sorted them by <code>points</code>, <code>name</code> and <code>team</code>.  This demonstrates the power using something like <code>JTable</code>s inbuilt sorting capabilities.</p>\n<p>And finally, I built the <code>Formula1ChampionshipManager</code>, populated it and build the UI...</p>\n<pre><code>EventQueue.invokeLater(new Runnable() {\n    @Override\n    public void run() {\n        Formula1ChampionshipManager manager = new Formula1ChampionshipManager();\n        manager.add(new Formula1Driver(&quot;Hare&quot;, &quot;H1&quot;, &quot;&quot;, 0, 1, 0, 1, 50));\n        manager.add(new Formula1Driver(&quot;Tortus&quot;, &quot;T1&quot;, &quot;&quot;, 1, 0, 0, 1, 100));\n\n        JFrame frame = new JFrame();\n        frame.add(new MasterPane(manager));\n        frame.pack();\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n});\n</code></pre>\n<p>What's important to note here is, &quot;Hare&quot; is added first, so it's the first entry in our list, but in the UI, &quot;Torus&quot; is listed first 😱</p>\n<p><a href=\"https://i.stack.imgur.com/SHzYR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SHzYR.png\" alt=\"enter image description here\" /></a></p>\n<blockquote>\n<p>But wait, where's edit?!</p>\n</blockquote>\n<p>You can make the table editable and allow the user to modify the row data directly!  See if you can figure out how to do that, hint, it's part of the <code>TableModel</code> ;)</p>\n"}],"owner":{"account_id":23463055,"reputation":1,"user_id":17517649,"display_name":"amateur_coding"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":377,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642787243,"creation_date":1638596428,"question_id":70223317,"body_markdown":"As an assignment, I am required to make a Swing GUI. In the first part, I have created an `ArrayList` (`f1Driver`) of objects (`Formula1Driver`). At the moment what is required is to sort said array list and display it as a `JTable` in the GUI. There is a `JButton` I have made and when it is pressed it is supposed to sort and display. \r\n\r\nHowever, once pressed it will only show the table headings and not the information in the array list, what should I do differently? I have included the GUI class and the main class below. \r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Formula1ChampionshipManager formula1ChampionshipManager =new Formula1ChampionshipManager();\r\n        F1ChampionshipGUI guiCode = new F1ChampionshipGUI();\r\n        formula1ChampionshipManager.loadPreviousData();\r\n        String menu =&quot;&quot;;\r\n        Scanner input = new Scanner(System.in);\r\n        while (true) {\r\n            System.out.println(&quot;Enter required menu value to continue&quot;+             //Allow user to enter the values and use the program\r\n                    &quot;\\n1 or AND:Add a new driver.&quot;+\r\n                    &quot;\\n2 or RMD:Remove a driver.&quot;+\r\n                    &quot;\\n3 or CDT:Change driver of a team.&quot;+\r\n                    &quot;\\n4 or DDS:Display the statistics of a driver.&quot;+\r\n                    &quot;\\n5 or DDT:Display the Formula1 driver table.&quot;+\r\n                    &quot;\\n6 or ARD:Add the details of completed race.&quot;+\r\n                    &quot;\\n7 or SCD:Save the current data.&quot;+\r\n                    &quot;\\n8 or LPD:Load the previous data.&quot;+\r\n                    &quot;\\n9 or GUI:Access the user interface.&quot;+\r\n                    &quot;\\n0 or EXT:Exit and terminate the program.&quot;);\r\n            menu = input.nextLine();\r\n            if ((menu.equals(&quot;1&quot;)) || (menu.equalsIgnoreCase(&quot;AND&quot;))) {                     //calls each of the methods.\r\n                formula1ChampionshipManager.addDriver();\r\n                System.out.println(&quot;New driver has been added.&quot;);\r\n            } else if ((menu.equals(&quot;2&quot;)) || (menu.equalsIgnoreCase(&quot;RMD&quot;))) {\r\n                formula1ChampionshipManager.removeDriver();\r\n                System.out.println(&quot;The driver has been removed.&quot;);\r\n            } else if ((menu.equals(&quot;3&quot;)) || (menu.equalsIgnoreCase(&quot;CTD&quot;))) {\r\n                formula1ChampionshipManager.changeDriver();\r\n                System.out.println(&quot;The driver of the team has been changed.&quot;);\r\n            } else if ((menu.equals(&quot;4&quot;)) || (menu.equalsIgnoreCase(&quot;DDS&quot;))) {\r\n                formula1ChampionshipManager.displayDriverStats();\r\n                System.out.println(&quot;The driver&#39;s statistics has been displayed.&quot;);\r\n            } else if ((menu.equals(&quot;5&quot;)) || (menu.equalsIgnoreCase(&quot;DDT&quot;))) {\r\n                formula1ChampionshipManager.displayDriverTable();\r\n                System.out.println(&quot;The Formula1 driver table has been displayed.&quot;);\r\n            } else if ((menu.equals(&quot;6&quot;)) || (menu.equalsIgnoreCase(&quot;ARD&quot;))) {\r\n                formula1ChampionshipManager.addRaceDetails();\r\n                System.out.println(&quot;The details of the completed race has been added..&quot;);\r\n            } else if ((menu.equals(&quot;7&quot;)) || (menu.equalsIgnoreCase(&quot;SCD&quot;))) {\r\n                formula1ChampionshipManager.saveCurrentData();\r\n                System.out.println(&quot;All current data has been saved to file.&quot;);\r\n            } else if ((menu.equals(&quot;8&quot;)) || (menu.equalsIgnoreCase(&quot;LPD&quot;))) {\r\n                formula1ChampionshipManager.loadPreviousData();\r\n                System.out.println(&quot;All previous data has been loaded from file.&quot;);\r\n            }else if ((menu.equals(&quot;9&quot;)) || (menu.equalsIgnoreCase(&quot;GUI&quot;))) {\r\n                guiCode.gui();\r\n                System.out.println(&quot;The user interface has been opened.&quot;);\r\n            } else if ((menu.equals(&quot;0&quot;)) || (menu.equalsIgnoreCase(&quot;EXT&quot;))) {\r\n                System.out.println(&quot;Manager program has been terminated.&quot;);\r\n                break;\r\n            }\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\n```\r\nimport javax.swing.*;\r\nimport javax.swing.table.DefaultTableModel;\r\nimport javax.swing.text.JTextComponent;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.util.ArrayList;\r\nimport java.util.Vector;\r\n\r\npublic class F1ChampionshipGUI extends Formula1ChampionshipManager {\r\n    DefaultTableModel tModel;\r\n    JTable table;\r\n\r\n    public void gui() {\r\n        JFrame frame = new JFrame(&quot;F1 Championship Manager Interface&quot;);\r\n        JPanel panel1 = new JPanel();\r\n        panel1.setBounds(0,0,550,500);\r\n        JLabel descendPointTable = new JLabel(&quot;Display the drivers in descending order of points:&quot;);\r\n        descendPointTable.setBounds(50, 50, 400, 30);\r\n        JButton ascendBtn = new JButton(&quot;Display&quot;);\r\n        ascendBtn.setBounds(400, 50, 80, 30);\r\n\r\n        frame.add(descendPointTable);\r\n        frame.add(ascendBtn);\r\n        frame.setSize(550, 500);\r\n        frame.setLayout(null);\r\n        frame.setVisible(true);\r\n\r\n        ascendBtn.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                for (int i = 0; i &lt; f1Driver.size() - 1; i++) {\r\n                    for (int j = 0; j &lt; f1Driver.size() - 1 - i; j++) {\r\n                        if ((f1Driver.get(j).compareTo(f1Driver.get(j + 1))) &lt; 0) {\r\n                            Formula1Driver tempDriver = f1Driver.get(j + 1);\r\n                            f1Driver.set(j + 1, f1Driver.get(j));\r\n                            f1Driver.set(j, tempDriver);\r\n                        }\r\n                    }\r\n                }\r\n\r\n//                JTable table=new JTable();\r\n//                table.setModel(new javax.swing.table.DefaultTableModel(new Object[][]{},new String[]{&quot;Name&quot;,&quot;Team&quot;,&quot;Location&quot;,&quot;1st positions&quot;,&quot;2nd positions&quot;,&quot;3rd positions&quot;,&quot;Races participated&quot;,&quot;Current points&quot;}));\r\n////                addToTable();\r\n//\r\n//                public static void addToTable(ArrayList&lt;Formula1Driver&gt; ,JTable table){\r\n\r\n\r\n                JFrame fDescend = new JFrame();\r\n                tModel = new DefaultTableModel(0, 0);\r\n                table = new JTable(tModel);\r\n                fDescend.setSize(1500, 400);\r\n                fDescend.setVisible(true);\r\n\r\n                String[] statFields = {&quot;Name&quot;, &quot;Team&quot;, &quot;Location&quot;, &quot;First positions&quot;, &quot;Second positions&quot;, &quot;Third positions&quot;, &quot;Races participated&quot;, &quot;Points&quot;};\r\n//                int driversCount = 0;\r\n//                for (int a=0;a&lt;f1Driver.size();a++){\r\n//                    driversCount++;\r\n//                }\r\n\r\n                tModel.setColumnIdentifiers(statFields);\r\n                table.setModel(tModel);\r\n                table.setBounds(0, 500, 1200, 500);\r\n                table.setOpaque(true);\r\n                for (int b = 0; b &lt; f1Driver.size(); b++) {\r\n                    Object[] stats = new Object[]{\r\n\r\n                            f1Driver.get(b).getDriverName(),\r\n                            f1Driver.get(b).getDriverTeam(),\r\n                            f1Driver.get(b).getDriverLocation(),\r\n                            f1Driver.get(b).getFirstPositions(),\r\n                            f1Driver.get(b).getSecondPositions(),\r\n                            f1Driver.get(b).getThirdPositions(),\r\n                            f1Driver.get(b).getRacesParticipated(),\r\n                            f1Driver.get(b).getPoints(),\r\n\r\n                    };\r\n                    tModel.addRow(stats);\r\n                }\r\n\r\n//        for(int x=0;x&lt;f1Driver.size();x++) {\r\n//        Vector&lt;Object&gt; data = new Vector&lt;Object&gt;();\r\n//\r\n//\r\n//            data.addElement(f1Driver.get(x).getDriverName());\r\n//            data.addElement(f1Driver.get(x).getDriverTeam());\r\n//            data.addElement(f1Driver.get(x).getDriverLocation());\r\n//            tModel.addRow(data);\r\n//        }\r\n//\r\n\r\n                JScrollPane scrollPane = new JScrollPane(table);\r\n                scrollPane.setBounds(0, 500, 1200, 500);\r\n                panel1.add(scrollPane);\r\n                fDescend.add(panel1);\r\n\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n","title":"How to populate JTable with an existing ArrayList of objects?","body":"<p>As an assignment, I am required to make a Swing GUI. In the first part, I have created an <code>ArrayList</code> (<code>f1Driver</code>) of objects (<code>Formula1Driver</code>). At the moment what is required is to sort said array list and display it as a <code>JTable</code> in the GUI. There is a <code>JButton</code> I have made and when it is pressed it is supposed to sort and display.</p>\n<p>However, once pressed it will only show the table headings and not the information in the array list, what should I do differently? I have included the GUI class and the main class below.</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        Formula1ChampionshipManager formula1ChampionshipManager =new Formula1ChampionshipManager();\n        F1ChampionshipGUI guiCode = new F1ChampionshipGUI();\n        formula1ChampionshipManager.loadPreviousData();\n        String menu =&quot;&quot;;\n        Scanner input = new Scanner(System.in);\n        while (true) {\n            System.out.println(&quot;Enter required menu value to continue&quot;+             //Allow user to enter the values and use the program\n                    &quot;\\n1 or AND:Add a new driver.&quot;+\n                    &quot;\\n2 or RMD:Remove a driver.&quot;+\n                    &quot;\\n3 or CDT:Change driver of a team.&quot;+\n                    &quot;\\n4 or DDS:Display the statistics of a driver.&quot;+\n                    &quot;\\n5 or DDT:Display the Formula1 driver table.&quot;+\n                    &quot;\\n6 or ARD:Add the details of completed race.&quot;+\n                    &quot;\\n7 or SCD:Save the current data.&quot;+\n                    &quot;\\n8 or LPD:Load the previous data.&quot;+\n                    &quot;\\n9 or GUI:Access the user interface.&quot;+\n                    &quot;\\n0 or EXT:Exit and terminate the program.&quot;);\n            menu = input.nextLine();\n            if ((menu.equals(&quot;1&quot;)) || (menu.equalsIgnoreCase(&quot;AND&quot;))) {                     //calls each of the methods.\n                formula1ChampionshipManager.addDriver();\n                System.out.println(&quot;New driver has been added.&quot;);\n            } else if ((menu.equals(&quot;2&quot;)) || (menu.equalsIgnoreCase(&quot;RMD&quot;))) {\n                formula1ChampionshipManager.removeDriver();\n                System.out.println(&quot;The driver has been removed.&quot;);\n            } else if ((menu.equals(&quot;3&quot;)) || (menu.equalsIgnoreCase(&quot;CTD&quot;))) {\n                formula1ChampionshipManager.changeDriver();\n                System.out.println(&quot;The driver of the team has been changed.&quot;);\n            } else if ((menu.equals(&quot;4&quot;)) || (menu.equalsIgnoreCase(&quot;DDS&quot;))) {\n                formula1ChampionshipManager.displayDriverStats();\n                System.out.println(&quot;The driver's statistics has been displayed.&quot;);\n            } else if ((menu.equals(&quot;5&quot;)) || (menu.equalsIgnoreCase(&quot;DDT&quot;))) {\n                formula1ChampionshipManager.displayDriverTable();\n                System.out.println(&quot;The Formula1 driver table has been displayed.&quot;);\n            } else if ((menu.equals(&quot;6&quot;)) || (menu.equalsIgnoreCase(&quot;ARD&quot;))) {\n                formula1ChampionshipManager.addRaceDetails();\n                System.out.println(&quot;The details of the completed race has been added..&quot;);\n            } else if ((menu.equals(&quot;7&quot;)) || (menu.equalsIgnoreCase(&quot;SCD&quot;))) {\n                formula1ChampionshipManager.saveCurrentData();\n                System.out.println(&quot;All current data has been saved to file.&quot;);\n            } else if ((menu.equals(&quot;8&quot;)) || (menu.equalsIgnoreCase(&quot;LPD&quot;))) {\n                formula1ChampionshipManager.loadPreviousData();\n                System.out.println(&quot;All previous data has been loaded from file.&quot;);\n            }else if ((menu.equals(&quot;9&quot;)) || (menu.equalsIgnoreCase(&quot;GUI&quot;))) {\n                guiCode.gui();\n                System.out.println(&quot;The user interface has been opened.&quot;);\n            } else if ((menu.equals(&quot;0&quot;)) || (menu.equalsIgnoreCase(&quot;EXT&quot;))) {\n                System.out.println(&quot;Manager program has been terminated.&quot;);\n                break;\n            }\n        }\n\n    }\n}\n</code></pre>\n<pre><code>import javax.swing.*;\nimport javax.swing.table.DefaultTableModel;\nimport javax.swing.text.JTextComponent;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.ArrayList;\nimport java.util.Vector;\n\npublic class F1ChampionshipGUI extends Formula1ChampionshipManager {\n    DefaultTableModel tModel;\n    JTable table;\n\n    public void gui() {\n        JFrame frame = new JFrame(&quot;F1 Championship Manager Interface&quot;);\n        JPanel panel1 = new JPanel();\n        panel1.setBounds(0,0,550,500);\n        JLabel descendPointTable = new JLabel(&quot;Display the drivers in descending order of points:&quot;);\n        descendPointTable.setBounds(50, 50, 400, 30);\n        JButton ascendBtn = new JButton(&quot;Display&quot;);\n        ascendBtn.setBounds(400, 50, 80, 30);\n\n        frame.add(descendPointTable);\n        frame.add(ascendBtn);\n        frame.setSize(550, 500);\n        frame.setLayout(null);\n        frame.setVisible(true);\n\n        ascendBtn.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                for (int i = 0; i &lt; f1Driver.size() - 1; i++) {\n                    for (int j = 0; j &lt; f1Driver.size() - 1 - i; j++) {\n                        if ((f1Driver.get(j).compareTo(f1Driver.get(j + 1))) &lt; 0) {\n                            Formula1Driver tempDriver = f1Driver.get(j + 1);\n                            f1Driver.set(j + 1, f1Driver.get(j));\n                            f1Driver.set(j, tempDriver);\n                        }\n                    }\n                }\n\n//                JTable table=new JTable();\n//                table.setModel(new javax.swing.table.DefaultTableModel(new Object[][]{},new String[]{&quot;Name&quot;,&quot;Team&quot;,&quot;Location&quot;,&quot;1st positions&quot;,&quot;2nd positions&quot;,&quot;3rd positions&quot;,&quot;Races participated&quot;,&quot;Current points&quot;}));\n////                addToTable();\n//\n//                public static void addToTable(ArrayList&lt;Formula1Driver&gt; ,JTable table){\n\n\n                JFrame fDescend = new JFrame();\n                tModel = new DefaultTableModel(0, 0);\n                table = new JTable(tModel);\n                fDescend.setSize(1500, 400);\n                fDescend.setVisible(true);\n\n                String[] statFields = {&quot;Name&quot;, &quot;Team&quot;, &quot;Location&quot;, &quot;First positions&quot;, &quot;Second positions&quot;, &quot;Third positions&quot;, &quot;Races participated&quot;, &quot;Points&quot;};\n//                int driversCount = 0;\n//                for (int a=0;a&lt;f1Driver.size();a++){\n//                    driversCount++;\n//                }\n\n                tModel.setColumnIdentifiers(statFields);\n                table.setModel(tModel);\n                table.setBounds(0, 500, 1200, 500);\n                table.setOpaque(true);\n                for (int b = 0; b &lt; f1Driver.size(); b++) {\n                    Object[] stats = new Object[]{\n\n                            f1Driver.get(b).getDriverName(),\n                            f1Driver.get(b).getDriverTeam(),\n                            f1Driver.get(b).getDriverLocation(),\n                            f1Driver.get(b).getFirstPositions(),\n                            f1Driver.get(b).getSecondPositions(),\n                            f1Driver.get(b).getThirdPositions(),\n                            f1Driver.get(b).getRacesParticipated(),\n                            f1Driver.get(b).getPoints(),\n\n                    };\n                    tModel.addRow(stats);\n                }\n\n//        for(int x=0;x&lt;f1Driver.size();x++) {\n//        Vector&lt;Object&gt; data = new Vector&lt;Object&gt;();\n//\n//\n//            data.addElement(f1Driver.get(x).getDriverName());\n//            data.addElement(f1Driver.get(x).getDriverTeam());\n//            data.addElement(f1Driver.get(x).getDriverLocation());\n//            tModel.addRow(data);\n//        }\n//\n\n                JScrollPane scrollPane = new JScrollPane(table);\n                scrollPane.setBounds(0, 500, 1200, 500);\n                panel1.add(scrollPane);\n                fDescend.add(panel1);\n\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":["java","quartz-scheduler"],"answers":[{"tags":[],"owner":{"account_id":1925703,"reputation":2161,"user_id":1736218,"accept_rate":62,"display_name":"b15"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642787229,"creation_date":1642787229,"answer_id":70805534,"question_id":70805446,"body_markdown":"Of course right after posting this I find that triggers can also have job data via `TriggerBuilder`&#39;s `.usingJobData` method, allowing me to safely reuse a job with different job data.","title":"Reuse Quartz jobs with different job data?","body":"<p>Of course right after posting this I find that triggers can also have job data via <code>TriggerBuilder</code>'s <code>.usingJobData</code> method, allowing me to safely reuse a job with different job data.</p>\n"}],"owner":{"account_id":1925703,"reputation":2161,"user_id":1736218,"accept_rate":62,"display_name":"b15"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":440,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642787229,"creation_date":1642786812,"question_id":70805446,"body_markdown":"I have a usecase where I want to use the same job (same job class and key with `@DisallowConcurrentExecution` to avoid concurrent execution), but I want to use a different value for one of my job data fields.  \r\n\r\nThe following causes an exception upon scheduling them due to job key conflict:\r\n\r\n    JobDetail ingestJob = newJob(MyJob.class)\r\n                    .withIdentity(&quot;jobkey&quot;, &quot;jobGroup&quot;)\r\n                    .usingJobData(JOB_USER_KEY, &quot;value&quot;)\r\n                    .build();\r\n    \r\n    JobDetail ingestJob = newJob(MyJob.class)\r\n                    .withIdentity(&quot;jobkey&quot;, &quot;jobGroup)\r\n                    .usingJobData(&quot;jobField&quot;, &quot;differentValue&quot;)\r\n                    .build();\r\n\r\nIs this possible?  Whats the best way of achieving this?  I don&#39;t want job data from one job scheduling to affect another, and scheduling can be done by different threads in my application.","title":"Reuse Quartz jobs with different job data?","body":"<p>I have a usecase where I want to use the same job (same job class and key with <code>@DisallowConcurrentExecution</code> to avoid concurrent execution), but I want to use a different value for one of my job data fields.</p>\n<p>The following causes an exception upon scheduling them due to job key conflict:</p>\n<pre><code>JobDetail ingestJob = newJob(MyJob.class)\n                .withIdentity(&quot;jobkey&quot;, &quot;jobGroup&quot;)\n                .usingJobData(JOB_USER_KEY, &quot;value&quot;)\n                .build();\n\nJobDetail ingestJob = newJob(MyJob.class)\n                .withIdentity(&quot;jobkey&quot;, &quot;jobGroup)\n                .usingJobData(&quot;jobField&quot;, &quot;differentValue&quot;)\n                .build();\n</code></pre>\n<p>Is this possible?  Whats the best way of achieving this?  I don't want job data from one job scheduling to affect another, and scheduling can be done by different threads in my application.</p>\n"},{"tags":["java","algorithm","math"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":1,"creation_date":1642787782,"post_id":70805484,"comment_id":125173493,"body_markdown":"Read about recursion, then write down on paper the result of each line of code using small input values such as 2 and 4.  After you understand it on paper, then actually run the code, stepping through the code with a couple small input values such as 2 and 4.  Watch the variables change, and the call stack as the recursion progresses.","body":"Read about recursion, then write down on paper the result of each line of code using small input values such as 2 and 4.  After you understand it on paper, then actually run the code, stepping through the code with a couple small input values such as 2 and 4.  Watch the variables change, and the call stack as the recursion progresses."},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":1,"creation_date":1642787999,"post_id":70805484,"comment_id":125173566,"body_markdown":"Because `a * b = 2a * b/2`","body":"Because <code>a * b = 2a * b&#47;2</code>"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1642790357,"post_id":70805484,"comment_id":125174300,"body_markdown":"In addition to what @Eritrean said, recall that multiplication can be seen as repeated addition.","body":"In addition to what @Eritrean said, recall that multiplication can be seen as repeated addition."},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1642805853,"post_id":70805484,"comment_id":125178719,"body_markdown":"It&#39;a recursion, so prove it by induction. If b=0 then clearly mystery(a,b) = 0 = a*b. Now assuming mystery(a, k) returns a * k for all 0&lt;=k &lt; b. There are only 2 cases to prove, b is odd and b is even. HINT: when b is odd, java&#39;s `b/2` is not the same as the mathematical fraction b/2. You must also show that the algorithm terminates.","body":"It&#39;a recursion, so prove it by induction. If b=0 then clearly mystery(a,b) = 0 = a*b. Now assuming mystery(a, k) returns a * k for all 0&lt;=k &lt; b. There are only 2 cases to prove, b is odd and b is even. HINT: when b is odd, java&#39;s <code>b&#47;2</code> is not the same as the mathematical fraction b/2. You must also show that the algorithm terminates."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1642815488,"post_id":70805484,"comment_id":125180328,"body_markdown":"It&#39;s a recursive implementation of the shift-and-add algorithm for multiplication.","body":"It&#39;s a recursive implementation of the shift-and-add algorithm for multiplication."},{"owner":{"account_id":20789953,"reputation":31,"user_id":15268368,"display_name":"coderperz"},"score":0,"creation_date":1642960856,"post_id":70805484,"comment_id":125207334,"body_markdown":"Got it, thank you everyone for your input :D","body":"Got it, thank you everyone for your input :D"}],"owner":{"account_id":20789953,"reputation":31,"user_id":15268368,"display_name":"coderperz"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642787024,"creation_date":1642787024,"question_id":70805484,"body_markdown":"    public static int mystery(int a, int b)\r\n    {\r\n     if (b == 0) return 0;\r\n     if (b % 2 == 0) return mystery(a+a, b/2);\r\n     return mystery(a+a, b/2) + a;\r\n    }\r\n\r\nI got this question out of Robert Sedgewick&#39;s Algorithms textbook. Question 1.1.14. This algorithm works for positive integers. However I&#39;m unable to figure out why it&#39;s an implementation of multiplication.","title":"This algorithm computes the product of a &amp; b, however I do not quite understand why this is the case. Could anyone explain it to me please?","body":"<pre><code>public static int mystery(int a, int b)\n{\n if (b == 0) return 0;\n if (b % 2 == 0) return mystery(a+a, b/2);\n return mystery(a+a, b/2) + a;\n}\n</code></pre>\n<p>I got this question out of Robert Sedgewick's Algorithms textbook. Question 1.1.14. This algorithm works for positive integers. However I'm unable to figure out why it's an implementation of multiplication.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":7414275,"reputation":14648,"user_id":5640649,"accept_rate":91,"display_name":"lealceldeiro"},"score":0,"creation_date":1533675745,"post_id":51735084,"comment_id":90431485,"body_markdown":"Check [**my answer**](https://stackoverflow.com/questions/51735084/return-http-code-200-from-spring-rest-api/51735123#51735123) updated","body":"Check <a href=\"https://stackoverflow.com/questions/51735084/return-http-code-200-from-spring-rest-api/51735123#51735123\"><b>my answer</b></a> updated"}],"answers":[{"tags":[],"owner":{"account_id":7414275,"reputation":14648,"user_id":5640649,"accept_rate":91,"display_name":"lealceldeiro"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1533675678,"creation_date":1533674601,"answer_id":51735123,"question_id":51735084,"body_markdown":"You can do it by annotating your method with [`@ResponseStatus`][1] using [`HttpStatus.OK`][2] (However it should be `200` by default), like this:\r\n\r\n*Some controller*\r\n\r\n    @PostMapping(value = &quot;/v1/notification&quot;)\r\n    @ResponseStatus(HttpStatus.OK)\r\n    public String handleNotifications(@RequestParam(&quot;notification&quot;) String itemid) throws MyException {\r\n        if(someCondition) {\r\n           throw new MyException(&quot;some message&quot;);\r\n        }\r\n        // parse here the values\r\n        return &quot;result successful result&quot;;\r\n    }\r\n\r\nNow, in order to return a custom code when handling a specific exception you can create a whole separate controller for doing this (you can do it in the same controller, though) which extends from [`ResponseEntityExceptionHandler`][3] and is annotated with [`@RestControllerAdvice`][4] and it must have a method for handling that specific exception as shown below:\r\n\r\n*Exception handling controller*\r\n\r\n    @RestControllerAdvice\r\n    public class ExceptionHandlerController extends ResponseEntityExceptionHandler {\r\n    \r\n        @ExceptionHandler(MyException.class)\r\n        protected ResponseEntity&lt;Object&gt; handleMyException(MyException ex, WebRequest req) {\r\n            Object resBody = &quot;some message&quot;;\r\n            return handleExceptionInternal(ex, resBody, new HttpHeaders(), HttpStatus.NOT_FOUND, req);\r\n        }\r\n    \r\n    }\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/ResponseStatus.html\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/HttpStatus.html#OK\r\n  [3]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/ResponseEntityExceptionHandler.html\r\n  [4]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RestControllerAdvice.html","title":"Return HTTP code 200 from Spring REST API","body":"<p>You can do it by annotating your method with <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/ResponseStatus.html\" rel=\"noreferrer\"><code>@ResponseStatus</code></a> using <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/HttpStatus.html#OK\" rel=\"noreferrer\"><code>HttpStatus.OK</code></a> (However it should be <code>200</code> by default), like this:</p>\n\n<p><em>Some controller</em></p>\n\n<pre><code>@PostMapping(value = \"/v1/notification\")\n@ResponseStatus(HttpStatus.OK)\npublic String handleNotifications(@RequestParam(\"notification\") String itemid) throws MyException {\n    if(someCondition) {\n       throw new MyException(\"some message\");\n    }\n    // parse here the values\n    return \"result successful result\";\n}\n</code></pre>\n\n<p>Now, in order to return a custom code when handling a specific exception you can create a whole separate controller for doing this (you can do it in the same controller, though) which extends from <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/ResponseEntityExceptionHandler.html\" rel=\"noreferrer\"><code>ResponseEntityExceptionHandler</code></a> and is annotated with <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RestControllerAdvice.html\" rel=\"noreferrer\"><code>@RestControllerAdvice</code></a> and it must have a method for handling that specific exception as shown below:</p>\n\n<p><em>Exception handling controller</em></p>\n\n<pre><code>@RestControllerAdvice\npublic class ExceptionHandlerController extends ResponseEntityExceptionHandler {\n\n    @ExceptionHandler(MyException.class)\n    protected ResponseEntity&lt;Object&gt; handleMyException(MyException ex, WebRequest req) {\n        Object resBody = \"some message\";\n        return handleExceptionInternal(ex, resBody, new HttpHeaders(), HttpStatus.NOT_FOUND, req);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4735774,"reputation":1004,"user_id":7762785,"display_name":"Cristiano Bombazar"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1642786955,"creation_date":1533674704,"answer_id":51735148,"question_id":51735084,"body_markdown":"If you are using spring:\r\n\r\n    @PostMapping(value = &quot;/v1/notification&quot;)\r\n    public ResponseEntity handleNotifications(@RequestParam(&quot;notification&quot;) String itemid) {\r\n        // parse here the values\r\n        return ResponseEntity.ok().build(); \r\n        //OR ResponseEntity.ok(&quot;body goes here&quot;);\r\n    }\r\n","title":"Return HTTP code 200 from Spring REST API","body":"<p>If you are using spring:</p>\n<pre><code>@PostMapping(value = &quot;/v1/notification&quot;)\npublic ResponseEntity handleNotifications(@RequestParam(&quot;notification&quot;) String itemid) {\n    // parse here the values\n    return ResponseEntity.ok().build(); \n    //OR ResponseEntity.ok(&quot;body goes here&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4547233,"reputation":483,"user_id":4990961,"display_name":"Manish Karki"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1533675129,"creation_date":1533674788,"answer_id":51735171,"question_id":51735084,"body_markdown":"You can do something like this:\r\n\r\n    @PostMapping(value = &quot;/v1/notification&quot;)\r\n    public ResponseEntity&lt;String&gt; handleNotifications(\r\n     @RequestParam(&quot;notification&quot;) String itemid) {\r\n       // parse here the values\r\n       return new ResponseEntity&lt;&gt;(&quot;result successful result&quot;, \r\n       HttpStatus.OK);\r\n    }\r\n\r\n","title":"Return HTTP code 200 from Spring REST API","body":"<p>You can do something like this:</p>\n\n<pre><code>@PostMapping(value = \"/v1/notification\")\npublic ResponseEntity&lt;String&gt; handleNotifications(\n @RequestParam(\"notification\") String itemid) {\n   // parse here the values\n   return new ResponseEntity&lt;&gt;(\"result successful result\", \n   HttpStatus.OK);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5144424,"reputation":2664,"user_id":4337151,"display_name":"dehasi"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1581298527,"creation_date":1533674957,"answer_id":51735210,"question_id":51735084,"body_markdown":"If you use `@RestController` it should return 200 by default.\n\nBut anyway, you can set a particular response status by `@ResponseStatus` annotation (even if the methods returns `void`) or you can return a custom response by `ResponseEntity`. \n\n*EDIT: added error handling*\n\n  For error handling, you can return a particular response entity:\n\n     return ResponseEntity.status(HttpStatus.FORBIDDEN)\n                .body(&quot;some body &quot;);\n\nor you can use `@ExceptionHandler`:\n\n       @ExceptionHandler(Exception.class)\n        @ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)\n        public void handleError(Exception ex) {\n            // TODO: log exception\n        }","title":"Return HTTP code 200 from Spring REST API","body":"<p>If you use <code>@RestController</code> it should return 200 by default.</p>\n<p>But anyway, you can set a particular response status by <code>@ResponseStatus</code> annotation (even if the methods returns <code>void</code>) or you can return a custom response by <code>ResponseEntity</code>.</p>\n<p><em>EDIT: added error handling</em></p>\n<p>For error handling, you can return a particular response entity:</p>\n<pre><code> return ResponseEntity.status(HttpStatus.FORBIDDEN)\n            .body(&quot;some body &quot;);\n</code></pre>\n<p>or you can use <code>@ExceptionHandler</code>:</p>\n<pre><code>   @ExceptionHandler(Exception.class)\n    @ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)\n    public void handleError(Exception ex) {\n        // TODO: log exception\n    }\n</code></pre>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92218,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"accepted_answer_id":51735123,"answer_count":4,"score":33,"last_activity_date":1642786955,"creation_date":1533674405,"question_id":51735084,"body_markdown":"I want to use this code to receive http link with values:\r\n\r\n\r\n    @PostMapping(value = &quot;/v1/notification&quot;)\r\n    public String handleNotifications(@RequestParam(&quot;notification&quot;) String itemid) {\r\n        // parse here the values\r\n        return &quot;result successful result&quot;;\r\n    }\r\n\r\nHow I can return http code `200` - successful response?\r\n\r\nAnd also for example if there is a code exception into code processing how can I return error `404`?","title":"Return HTTP code 200 from Spring REST API","body":"<p>I want to use this code to receive http link with values:</p>\n\n<pre><code>@PostMapping(value = \"/v1/notification\")\npublic String handleNotifications(@RequestParam(\"notification\") String itemid) {\n    // parse here the values\n    return \"result successful result\";\n}\n</code></pre>\n\n<p>How I can return http code <code>200</code> - successful response?</p>\n\n<p>And also for example if there is a code exception into code processing how can I return error <code>404</code>?</p>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":319298,"reputation":18617,"user_id":636988,"accept_rate":62,"display_name":"Booger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1642786742,"creation_date":1642786742,"answer_id":70805428,"question_id":70805216,"body_markdown":"You will need to create a click listener ONLY on the view you want to respond.\r\n\r\nTopView.setOnClickListener()\r\n\r\nBottonView (nothing).\r\n\r\nIf for some reason, your top View is not independent, just create another view that is transparent, and set a clickListener on that.","title":"Limit the click area on the view android","body":"<p>You will need to create a click listener ONLY on the view you want to respond.</p>\n<p>TopView.setOnClickListener()</p>\n<p>BottonView (nothing).</p>\n<p>If for some reason, your top View is not independent, just create another view that is transparent, and set a clickListener on that.</p>\n"}],"owner":{"account_id":23939646,"reputation":27,"user_id":17973266,"display_name":"Славик Колисниченкo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1642786742,"creation_date":1642785679,"question_id":70805216,"body_markdown":"I need to limit the click area on the view. For example, I have a full-screen view, but I need only the top of the screen to be clickable, while clicking on the bottom should not give a result, how can I implement this? adding on top of the container doesn&#39;t help","title":"Limit the click area on the view android","body":"<p>I need to limit the click area on the view. For example, I have a full-screen view, but I need only the top of the screen to be clickable, while clicking on the bottom should not give a result, how can I implement this? adding on top of the container doesn't help</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1642784327,"post_id":70804875,"comment_id":125172310,"body_markdown":"A parameter cannot be static or instance as it is local to the method. Same for a variable declared inside of a method; it too is *local* and static has no meaning there.","body":"A parameter cannot be static or instance as it is local to the method. Same for a variable declared inside of a method; it too is <i>local</i> and static has no meaning there."}],"answers":[{"tags":[],"owner":{"account_id":27626,"reputation":346906,"user_id":73070,"accept_rate":81,"display_name":"Joey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642784386,"creation_date":1642784386,"answer_id":70804921,"question_id":70804875,"body_markdown":"A static method can only access static *members of its containing type*. So in your case the `BubbleSort` method cannot access any _instance_ fields or methods  of the `BubbleSort` class. Arguments and local variables are of course always allowed.","title":"Java : Static methods","body":"<p>A static method can only access static <em>members of its containing type</em>. So in your case the <code>BubbleSort</code> method cannot access any <em>instance</em> fields or methods  of the <code>BubbleSort</code> class. Arguments and local variables are of course always allowed.</p>\n"},{"tags":[],"owner":{"account_id":129540,"reputation":210847,"user_id":328193,"accept_rate":91,"display_name":"David"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642784395,"creation_date":1642784395,"answer_id":70804922,"question_id":70804875,"body_markdown":" &gt; Since a static method can only take static data variables as parameters\r\n\r\nIncorrect.\r\n\r\nA `static` method can only *directly reference* other `static` members, not instance members.  This refers to class-level fields, methods, etc.\r\n\r\nBut any method can *accept as a parameter/argument* any value you pass to it.  And can *internally declare and use* any local variable it wants.","title":"Java : Static methods","body":"<blockquote>\n<p>Since a static method can only take static data variables as parameters</p>\n</blockquote>\n<p>Incorrect.</p>\n<p>A <code>static</code> method can only <em>directly reference</em> other <code>static</code> members, not instance members.  This refers to class-level fields, methods, etc.</p>\n<p>But any method can <em>accept as a parameter/argument</em> any value you pass to it.  And can <em>internally declare and use</em> any local variable it wants.</p>\n"},{"tags":[],"owner":{"account_id":5018541,"reputation":12092,"user_id":4032703,"accept_rate":100,"display_name":"EJoshuaS - Stand with Ukraine"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642785335,"creation_date":1642785335,"answer_id":70805139,"question_id":70804875,"body_markdown":"Static methods neither know nor care where the parameters came from in the first place. It doesn&#39;t matter that it&#39;s a local variable because it has a reference to the array.\r\n\r\nWhat you *actually* can&#39;t do is &quot;directly&quot; refer to instance methods or fields from a static method because, by definition, it needs a specific instance to call those methods on.","title":"Java : Static methods","body":"<p>Static methods neither know nor care where the parameters came from in the first place. It doesn't matter that it's a local variable because it has a reference to the array.</p>\n<p>What you <em>actually</em> can't do is &quot;directly&quot; refer to instance methods or fields from a static method because, by definition, it needs a specific instance to call those methods on.</p>\n"}],"owner":{"account_id":12579148,"reputation":17,"user_id":9150503,"display_name":"user9150503"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"answer_count":3,"score":-1,"last_activity_date":1642786469,"creation_date":1642784216,"question_id":70804875,"body_markdown":"I am at beginner stage in learning java, I made a program for bubble sort. Code is as follows\r\n\r\n    package bubblesort;\r\n\r\n    public class Bubblesort {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tint[] arr = new int[] {10,20,40,30,50};\r\n\t\tarr = BubbleSort(arr);\r\n\t\tfor(int i:arr) {\r\n\t\t\tSystem.out.println(i+&quot; &quot;);\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static int[] BubbleSort(int[] arr) {\r\n\t\tint temp;\r\n\t\tfor(int i = 0;i&lt;arr.length;i++) {\r\n\t\t\tfor(int j =i+1;j&lt;arr.length;j++) {\r\n\t\t\t\tif(arr[i] &gt; arr[j]) {\r\n\t\t\t\t\ttemp = arr[i];\r\n\t\t\t\t\tarr[i] = arr[j];\r\n\t\t\t\t\tarr[j] = temp;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn arr;\r\n\t}\r\n\r\n    }\r\n\r\n\r\nMy question is as following : \r\n&quot;Since a static method can only take static data variables as parameters, then why &#39;BubbleSort&#39; function in my program is not reporting any error because of arr not being a static variable ?&quot;","title":"Java : Static methods","body":"<p>I am at beginner stage in learning java, I made a program for bubble sort. Code is as follows</p>\n<pre><code>package bubblesort;\n\npublic class Bubblesort {\n\npublic static void main(String[] args) {\n    int[] arr = new int[] {10,20,40,30,50};\n    arr = BubbleSort(arr);\n    for(int i:arr) {\n        System.out.println(i+&quot; &quot;);\n    }\n}\n\npublic static int[] BubbleSort(int[] arr) {\n    int temp;\n    for(int i = 0;i&lt;arr.length;i++) {\n        for(int j =i+1;j&lt;arr.length;j++) {\n            if(arr[i] &gt; arr[j]) {\n                temp = arr[i];\n                arr[i] = arr[j];\n                arr[j] = temp;\n            }\n        }\n    }\n    return arr;\n}\n\n}\n</code></pre>\n<p>My question is as following :\n&quot;Since a static method can only take static data variables as parameters, then why 'BubbleSort' function in my program is not reporting any error because of arr not being a static variable ?&quot;</p>\n"},{"tags":["java","class","static","block"],"comments":[{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":2,"creation_date":1642785310,"post_id":70804488,"comment_id":125172664,"body_markdown":"You can create a class with same name and package as the unwanted class in the JAR. If this class appears before the JAR in the classpath, then your class will be loaded instead of the original one.","body":"You can create a class with same name and package as the unwanted class in the JAR. If this class appears before the JAR in the classpath, then your class will be loaded instead of the original one."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1642786462,"post_id":70804488,"comment_id":125173036,"body_markdown":"I changed the title because it stipulated a solution to your problem, which the title now reflects.","body":"I changed the title because it stipulated a solution to your problem, which the title now reflects."}],"answers":[{"tags":[],"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642785803,"creation_date":1642785803,"answer_id":70805251,"question_id":70804488,"body_markdown":"&gt; JAR file is a file format based on the popular ZIP file format and is used for aggregating many files into one. A JAR file is essentially a zip file that contains an optional META-INF directory. \r\n\r\nSee: https://docs.oracle.com/en/java/javase/11/docs/specs/jar/jar.html\r\n\r\nSo it is possible to replace a class file. But I would prefer the way vanje suggested in the comment of your question.","title":"Can I have my application use my own implementation of a class instead of the class from a external jar","body":"<blockquote>\n<p>JAR file is a file format based on the popular ZIP file format and is used for aggregating many files into one. A JAR file is essentially a zip file that contains an optional META-INF directory.</p>\n</blockquote>\n<p>See: <a href=\"https://docs.oracle.com/en/java/javase/11/docs/specs/jar/jar.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/11/docs/specs/jar/jar.html</a></p>\n<p>So it is possible to replace a class file. But I would prefer the way vanje suggested in the comment of your question.</p>\n"}],"owner":{"account_id":24011766,"reputation":9,"user_id":17995262,"display_name":"theuglymushroom"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1642786363,"creation_date":1642782435,"question_id":70804488,"body_markdown":"I have a situation where a external jar is loading a class which has a static block to initialise some configurations , i want to stop that happening . the only way i see is to extract that jar and remove that class file and write my own implementaion of that class. can this be done or is there any way i can stop that class from loading and load my own implementation\r\n\r\n","title":"Can I have my application use my own implementation of a class instead of the class from a external jar","body":"<p>I have a situation where a external jar is loading a class which has a static block to initialise some configurations , i want to stop that happening . the only way i see is to extract that jar and remove that class file and write my own implementaion of that class. can this be done or is there any way i can stop that class from loading and load my own implementation</p>\n"},{"tags":["java","performance","jakarta-ee","netbeans"],"comments":[{"owner":{"account_id":6590,"reputation":13159,"user_id":11142,"accept_rate":49,"display_name":"anjanb"},"score":0,"creation_date":1224795003,"post_id":229763,"comment_id":5985408,"body_markdown":"A few questions that will help us address your issue better :-)\n\nCan you tell us how much RAM you have? What operating system? What does TaskManager show for Netbeans? How many classes does your project(s) have?\n\nWhen you say slow, can you give us in terms of minutes, seconds?","body":"A few questions that will help us address your issue better :-)  Can you tell us how much RAM you have? What operating system? What does TaskManager show for Netbeans? How many classes does your project(s) have?  When you say slow, can you give us in terms of minutes, seconds?"},{"owner":{"account_id":9484,"reputation":2923,"user_id":17554,"accept_rate":83,"display_name":"s3v1"},"score":0,"creation_date":1224839405,"post_id":229763,"comment_id":5985424,"body_markdown":"Your machine sounds powerful enough. It&#39;s much faster than mine and I can run netbeans at a nice speed. \r\nThe only thing that springs to mind is that you&#39;re using a 64-bit OS. Are you using the 64-bit Java JDK ?","body":"Your machine sounds powerful enough. It&#39;s much faster than mine and I can run netbeans at a nice speed.   The only thing that springs to mind is that you&#39;re using a 64-bit OS. Are you using the 64-bit Java JDK ?"},{"owner":{"account_id":73540,"reputation":12590,"user_id":211701,"accept_rate":94,"display_name":"Andrei Ciobanu"},"score":0,"creation_date":1268319645,"post_id":229763,"comment_id":2409111,"body_markdown":"(-1) What version of Netbeans are you using, how much RAM do you have, what&#39;s your operating system, how many netbeans plugins have you installed.","body":"(-1) What version of Netbeans are you using, how much RAM do you have, what&#39;s your operating system, how many netbeans plugins have you installed."},{"owner":{"account_id":152051,"reputation":11647,"user_id":366299,"accept_rate":81,"display_name":"atamanroman"},"score":0,"creation_date":1284981280,"post_id":229763,"comment_id":5985521,"body_markdown":"Your machine is strong and definitely not cpu/ram limited. Modern pcs are mostly I/O limited, so you should check for your hdd parameters (queue). edit: you should edit your question instead of posting an answer.","body":"Your machine is strong and definitely not cpu/ram limited. Modern pcs are mostly I/O limited, so you should check for your hdd parameters (queue). edit: you should edit your question instead of posting an answer."},{"owner":{"account_id":152051,"reputation":11647,"user_id":366299,"accept_rate":81,"display_name":"atamanroman"},"score":0,"creation_date":1284981469,"post_id":229763,"comment_id":3965806,"body_markdown":"Do other IDEs like VS or eclipse work normally?","body":"Do other IDEs like VS or eclipse work normally?"},{"owner":{"account_id":2921603,"reputation":1566,"user_id":2503715,"accept_rate":45,"display_name":"MarcoZen"},"score":0,"creation_date":1429966367,"post_id":229763,"comment_id":47855800,"body_markdown":"Removing the Spellchecker , twig templates is a key step once you have done the netbeans.conf step ! But you will lose sympony framework !!!","body":"Removing the Spellchecker , twig templates is a key step once you have done the netbeans.conf step ! But you will lose sympony framework !!!"}],"answers":[{"tags":[],"owner":{"account_id":4074,"reputation":26324,"user_id":6013,"accept_rate":95,"display_name":"Joshua"},"down_vote_count":1,"up_vote_count":26,"is_accepted":false,"score":25,"last_activity_date":1336650462,"creation_date":1224770536,"answer_id":229829,"question_id":229763,"body_markdown":" - Download the latest Netbeans\r\n - Remove all the plugins you don&#39;t need.\r\n - Use the latest version of Java","title":"How to improve Netbeans performance?","body":"<ul>\n<li>Download the latest Netbeans</li>\n<li>Remove all the plugins you don't need.</li>\n<li>Use the latest version of Java</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2419,"reputation":6738,"user_id":3366,"accept_rate":80,"display_name":"devstopfix"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1224773086,"creation_date":1224772220,"answer_id":229965,"question_id":229763,"body_markdown":"Is it a corporate Windows machine?  If so aggressive virus scanners can really slow down modern IDEs.  Check your task manager for processes that are using a lot of CPU or disk reads.\r\n  ","title":"How to improve Netbeans performance?","body":"<p>Is it a corporate Windows machine?  If so aggressive virus scanners can really slow down modern IDEs.  Check your task manager for processes that are using a lot of CPU or disk reads.</p>\n"},{"tags":[],"owner":{"account_id":9626,"reputation":17894,"user_id":17871,"accept_rate":86,"display_name":"James Schek"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1224860441,"creation_date":1224860441,"answer_id":233910,"question_id":229763,"body_markdown":"Also defragment your disk. Netbeans is very aggressive about creating caches of one form or another. Most of them get persisted to disk at some point or another which can affect startup time. Virus scanners (Symantec in particular), Desktop search engines, and any other intrusive I/O product can drastically reduce performance.\r\n\r\nI have noticed that Netbeans can be tempermental at times and its performance can vary greatly between two machines with nearly identical specs. My work machine has terrible performance and is unusable at times, but it&#39;s lightning fast when I use it on my home machine (with bigger projects in many cases). ","title":"How to improve Netbeans performance?","body":"<p>Also defragment your disk. Netbeans is very aggressive about creating caches of one form or another. Most of them get persisted to disk at some point or another which can affect startup time. Virus scanners (Symantec in particular), Desktop search engines, and any other intrusive I/O product can drastically reduce performance.</p>\n\n<p>I have noticed that Netbeans can be tempermental at times and its performance can vary greatly between two machines with nearly identical specs. My work machine has terrible performance and is unusable at times, but it's lightning fast when I use it on my home machine (with bigger projects in many cases). </p>\n"},{"tags":[],"owner":{"account_id":9168,"reputation":12722,"user_id":16828,"accept_rate":87,"display_name":"Fortyrunner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1233963980,"creation_date":1233963980,"answer_id":522692,"question_id":229763,"body_markdown":"If its on a corporate machine - make sure that the caches aren&#39;t stored on the network\r\n","title":"How to improve Netbeans performance?","body":"<p>If its on a corporate machine - make sure that the caches aren't stored on the network</p>\n"},{"tags":[],"owner":{"account_id":23446,"reputation":3896,"user_id":58787,"display_name":"James Tikalsky"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1314740885,"creation_date":1252761451,"answer_id":1415094,"question_id":229763,"body_markdown":"Everyone should note that Sun&#39;s Java Virtual Machine for Windows does not use shared memory. This means that the more heap you give to your VM, the more memory it keeps to itself. The advantage of more heap is less garbage-collection, and perhaps faster performance of the Java application you&#39;re running, but the downside is that your other applications may have less memory to work with, and your system may feel slower due to this.","title":"How to improve Netbeans performance?","body":"<p>Everyone should note that Sun's Java Virtual Machine for Windows does not use shared memory. This means that the more heap you give to your VM, the more memory it keeps to itself. The advantage of more heap is less garbage-collection, and perhaps faster performance of the Java application you're running, but the downside is that your other applications may have less memory to work with, and your system may feel slower due to this.</p>\n"},{"tags":[],"owner":{"account_id":110140,"reputation":4708,"user_id":291573,"accept_rate":75,"display_name":"schmunk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1413764623,"creation_date":1268319167,"answer_id":2425913,"question_id":229763,"body_markdown":"A more or less detailed description, why NetBeans if slow so often can be found in the article:\n\n&gt;### [Boost your NetBeans performance](http://web.archive.org/web/20110323111257/http://phundament.com/en_us/blog?postId=35&amp;postName=boost-your-netbeans-performance)\n&gt;\n&gt; First. check what NetBeans is actually doing on your disk. On a Mac you can issue this command:\n&gt;\n&gt;       sudo fs_usage | grep /path/to/workspace\n&gt;\n&gt;In my special case I got a directory which didn&#39;t exist any longer, but NetBeans tries to access the folder all the time:\n&gt;\n&gt; \n&gt;       14:08:05 getattrlist /path/to/workspaces/pii 0.000011 java\n&gt;\n&gt;Repeated many, many, many times. If you have a similar problem, fix it by deleting your NetBeans cache folder here:\n&gt;\n&gt;        ~/.netbeans/6.8/var/cache\n&gt;\n&gt; If your NetBeans.app is still making a lot of disk I/O. Check if it&#39;s accessing the subverison folders and svncache.\n&gt;\n&gt; I had to disable the subversion features with config file:\n&gt;\n&gt;       ~/.netbeans/VERSION/config/Preferences/org/netbeans/modules/versioning.properties \n&gt;\n&gt;add a line:\n&gt;\n&gt;       unversionedFolders=FULL_PATH_TO_PROJECT_FOLDER  \n&gt;\n&gt; SOURCE: [Netbeans forums][1]\n\n\nIMHO it&#39;s mainly related to a lot of disk I/O caused by missing files or folders and svncache.\n\n\n  [1]: http://forums.netbeans.org/post-42506.html","title":"How to improve Netbeans performance?","body":"<p>A more or less detailed description, why NetBeans if slow so often can be found in the article:</p>\n<blockquote>\n<h3><a href=\"http://web.archive.org/web/20110323111257/http://phundament.com/en_us/blog?postId=35&amp;postName=boost-your-netbeans-performance\" rel=\"nofollow noreferrer\">Boost your NetBeans performance</a></h3>\n<p>First. check what NetBeans is actually doing on your disk. On a Mac you can issue this command:</p>\n<pre><code>  sudo fs_usage | grep /path/to/workspace\n</code></pre>\n<p>In my special case I got a directory which didn't exist any longer, but NetBeans tries to access the folder all the time:</p>\n<pre><code>  14:08:05 getattrlist /path/to/workspaces/pii 0.000011 java\n</code></pre>\n<p>Repeated many, many, many times. If you have a similar problem, fix it by deleting your NetBeans cache folder here:</p>\n<pre><code>   ~/.netbeans/6.8/var/cache\n</code></pre>\n<p>If your NetBeans.app is still making a lot of disk I/O. Check if it's accessing the subverison folders and svncache.</p>\n<p>I had to disable the subversion features with config file:</p>\n<pre><code>  ~/.netbeans/VERSION/config/Preferences/org/netbeans/modules/versioning.properties \n</code></pre>\n<p>add a line:</p>\n<pre><code>  unversionedFolders=FULL_PATH_TO_PROJECT_FOLDER  \n</code></pre>\n<p>SOURCE: <a href=\"http://forums.netbeans.org/post-42506.html\" rel=\"nofollow noreferrer\">Netbeans forums</a></p>\n</blockquote>\n<p>IMHO it's mainly related to a lot of disk I/O caused by missing files or folders and svncache.</p>\n"},{"tags":[],"owner":{"account_id":179197,"reputation":21,"user_id":411695,"display_name":"ismail"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1300155878,"creation_date":1280995812,"answer_id":3412843,"question_id":229763,"body_markdown":"I had the same problem with Netbeans being so slow, but it is now much better after deactivating the SVN plug-in.\r\nI think that may help. \r\n\r\nGood luck\r\n","title":"How to improve Netbeans performance?","body":"<p>I had the same problem with Netbeans being so slow, but it is now much better after deactivating the SVN plug-in.\nI think that may help. </p>\n\n<p>Good luck</p>\n"},{"tags":[],"owner":{"account_id":152051,"reputation":11647,"user_id":366299,"accept_rate":81,"display_name":"atamanroman"},"down_vote_count":4,"up_vote_count":56,"is_accepted":false,"score":52,"last_activity_date":1480318879,"creation_date":1284981095,"answer_id":3750857,"question_id":229763,"body_markdown":"Don&#39;t invest time in optimizing your NB installation as long as you can scale vertically: get a SSD (and faster hardware in general).\r\n\r\nAlso:\r\n\r\n  - Add an exception for all relevant folders (e.g. project dir, temp dir) to your anti virus software (or better, get rid of it). \r\n  - Don&#39;t use network drives for your projects\r\n    - check if your home drive is local\r\n    - check if your IDE uses non-local folders (e.g. `%AppData%`)","title":"How to improve Netbeans performance?","body":"<p>Don't invest time in optimizing your NB installation as long as you can scale vertically: get a SSD (and faster hardware in general).</p>\n\n<p>Also:</p>\n\n<ul>\n<li>Add an exception for all relevant folders (e.g. project dir, temp dir) to your anti virus software (or better, get rid of it). </li>\n<li>Don't use network drives for your projects\n\n<ul>\n<li>check if your home drive is local</li>\n<li>check if your IDE uses non-local folders (e.g. <code>%AppData%</code>)</li>\n</ul></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":116850,"reputation":13719,"user_id":306276,"accept_rate":92,"display_name":"Kdeveloper"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1298880355,"creation_date":1298880355,"answer_id":5139497,"question_id":229763,"body_markdown":"In order to improve Netbeans startup and build times one should (in this order):\r\n\r\n 1. Make sure that one has enough free **RAM** memory (4GB Windows is enough on my 64-bit system)\r\n 2. Buy an **SSD**, it makes all the difference in startup time and build time (my project build time wend from 60 seconds to 6 seconds!)\r\n 3. Watch out for the **virus scanner**, they can slow down random file access considerably (make sure they don’t scan your .java and .class files!)\r\n 4. Buy the fastest **processor** you can get your hands on.\r\n","title":"How to improve Netbeans performance?","body":"<p>In order to improve Netbeans startup and build times one should (in this order):</p>\n\n<ol>\n<li>Make sure that one has enough free <strong>RAM</strong> memory (4GB Windows is enough on my 64-bit system)</li>\n<li>Buy an <strong>SSD</strong>, it makes all the difference in startup time and build time (my project build time wend from 60 seconds to 6 seconds!)</li>\n<li>Watch out for the <strong>virus scanner</strong>, they can slow down random file access considerably (make sure they don’t scan your .java and .class files!)</li>\n<li>Buy the fastest <strong>processor</strong> you can get your hands on.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":432374,"reputation":2401,"user_id":817097,"accept_rate":89,"display_name":"Ravish"},"down_vote_count":1,"up_vote_count":61,"is_accepted":false,"score":60,"last_activity_date":1318572375,"creation_date":1318572375,"answer_id":7763685,"question_id":229763,"body_markdown":"Very simple solution to the problem when your **NetBeans** or **Eclipse** IDE seems to be using too much memory:\r\n\r\n 1. **Disable the plugins you are not using.**\r\n 2. **close the projects you are not working on.**\r\n\r\nI was facing similar problem with Netbeans 7.0 on my Linux Mint as well Ubuntu box. \r\nNetbeans was using &gt; 700 MiB space and 50-80% CPU.\r\nThen I decided do some clean up.\r\nI had 30 plugins installed, and I was not using most of them. \r\nSo,  I disabled the plugins I was not using, a whopping 19 plug ins I disabled. now memory uses down to 400+ MiB and CPU uses down to 10 and at max to 50%.\r\n\r\nNow my life is much easier.","title":"How to improve Netbeans performance?","body":"<p>Very simple solution to the problem when your <strong>NetBeans</strong> or <strong>Eclipse</strong> IDE seems to be using too much memory:</p>\n\n<ol>\n<li><strong>Disable the plugins you are not using.</strong></li>\n<li><strong>close the projects you are not working on.</strong></li>\n</ol>\n\n<p>I was facing similar problem with Netbeans 7.0 on my Linux Mint as well Ubuntu box. \nNetbeans was using > 700 MiB space and 50-80% CPU.\nThen I decided do some clean up.\nI had 30 plugins installed, and I was not using most of them. \nSo,  I disabled the plugins I was not using, a whopping 19 plug ins I disabled. now memory uses down to 400+ MiB and CPU uses down to 10 and at max to 50%.</p>\n\n<p>Now my life is much easier.</p>\n"},{"tags":[],"owner":{"account_id":1137541,"reputation":696,"user_id":1122272,"accept_rate":55,"display_name":"shihabudheen"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1349957755,"creation_date":1341817442,"answer_id":11390401,"question_id":229763,"body_markdown":"We can use the following JVM option to make NetBeans load/run bit faster.\r\n\r\nJVM Option: `-J-Xverify:none`\r\n\r\n- this option tells JVM not to verify byte-code during class loading and avoids preloading unnecessary classes.\r\n\r\n**How to set:**\r\n\r\nEdit the file `C:\\Program Files\\NetBeans &lt;version&gt;\\etc\\netbeans.conf`\r\n(check your NetBeans installation folder if you installed it in another location)\r\n\r\n- Find the line that says \r\n\r\n    netbeans_default_options=&quot;...&quot;\r\n\r\n- Add the option `-J-Xverify:none` to the list of options.\r\n\r\n- Restart NetBeans.","title":"How to improve Netbeans performance?","body":"<p>We can use the following JVM option to make NetBeans load/run bit faster.</p>\n\n<p>JVM Option: <code>-J-Xverify:none</code></p>\n\n<ul>\n<li>this option tells JVM not to verify byte-code during class loading and avoids preloading unnecessary classes.</li>\n</ul>\n\n<p><strong>How to set:</strong></p>\n\n<p>Edit the file <code>C:\\Program Files\\NetBeans &lt;version&gt;\\etc\\netbeans.conf</code>\n(check your NetBeans installation folder if you installed it in another location)</p>\n\n<ul>\n<li><p>Find the line that says </p>\n\n<p>netbeans_default_options=\"...\"</p></li>\n<li><p>Add the option <code>-J-Xverify:none</code> to the list of options.</p></li>\n<li><p>Restart NetBeans.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2039734,"reputation":161,"user_id":1821246,"display_name":"hamdam"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1352820407,"creation_date":1352820407,"answer_id":13363558,"question_id":229763,"body_markdown":"deactivate Git, Subversion, Local History, Spell checker and other unused plugins ","title":"How to improve Netbeans performance?","body":"<p>deactivate Git, Subversion, Local History, Spell checker and other unused plugins </p>\n"},{"tags":[],"owner":{"account_id":324945,"reputation":5161,"user_id":1084742,"accept_rate":38,"display_name":"toha"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1476782521,"creation_date":1363496005,"answer_id":15457666,"question_id":229763,"body_markdown":"I use Windows 7. I suggest right-clicking the NetBeans shortcut, go to Properties, and on the Shortcut tab at the Target, add `-J-Xmx1024m -J-Xms256m`.\r\n\r\nThis sets the memory usage of the JVM. Xms is the minimal value, while Xmx is the max.\r\n\r\nThis is the value of target textfield: \r\n\r\n    &quot;C:\\Program Files\\NetBeans 7.1\\bin\\netbeans.exe&quot; --jdkhome &quot;C:\\Program Files\\Java\\jdk1.6.0_10&quot; -J-Dorg.netbeans.modules.php.dbgp.level=400 -J-Xmx1024m -J-Xms256m\r\n\r\nSince I add that attribute, my NetBeans run so fast!\r\n\r\n\r\n\r\n[**Another way to try More Reference Here**][1]\r\n\r\nIn the `etc` directory under your `Netbeans-Home`, edit the file `netbeans.conf` file. `-Xms` and `-Xmx` **should be increased** to the values that allow your program to compile.\r\n\r\ninstructions in **netbeans.conf** : \r\n\r\n    # Note that default -Xmx and -XX:MaxPermSize are selected for you automatically.\r\n    # You can find these values in var/log/messages.log file in your userdir.\r\n    # The automatically selected value can be overridden by specifying -J-Xmx or\r\n    # -J-XX:MaxPermSize= here or on the command line.\r\n\r\nPut the values in the **netbeans_default_options** string. Example : \r\n\r\n    netbeans_default_options=&quot;-J-client -J-Xss2m -J-Xms32m -J-XX:PermSize=32m -J-Dapple.laf.useScreenMenuBar=true -J-Dapple.awt.graphics.UseQuartz=true -J-Dsun.java2d.noddraw=true -J-Dsun.java2d.dpiaware=true -J-Dsun.zip.disableMemoryMapping=true  -J-Dsun.awt.disableMixing=true -J-Dswing.aatext=true -J-Dawt.useSystemAAFontSettings=lcd --laf Nimbus&quot;\r\n\r\n\r\n**What to do to speed up / free up memory windows:**\r\n\r\n\r\n 1. Disable Windows Update :\r\n\r\n - Open Task Manager, open tab Services, disable Windows Update:\r\n\r\n[![disable win update][2]][2]\r\n\r\n 2. Hit &lt;kbd&gt; Ctrl &lt;/kbd&gt; + &lt;kbd&gt; R &lt;/kbd&gt; and type `Services.msc` and press enter.\r\n - Sort by `Startup Type`\r\n - Select Services from 3rd party (non windows) which run `Automatic`, Right click, click `Properties` and change startup type to `Manual`\r\n\r\n[![services][3]][3]\r\n\r\n  -  Sort by `Status` and Stop services from (3rd party) app you think unused\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/18992956\r\n  [2]: http://i.stack.imgur.com/zUgBp.jpg\r\n  [3]: http://i.stack.imgur.com/uwYjP.jpg","title":"How to improve Netbeans performance?","body":"<p>I use Windows 7. I suggest right-clicking the NetBeans shortcut, go to Properties, and on the Shortcut tab at the Target, add <code>-J-Xmx1024m -J-Xms256m</code>.</p>\n\n<p>This sets the memory usage of the JVM. Xms is the minimal value, while Xmx is the max.</p>\n\n<p>This is the value of target textfield: </p>\n\n<pre><code>\"C:\\Program Files\\NetBeans 7.1\\bin\\netbeans.exe\" --jdkhome \"C:\\Program Files\\Java\\jdk1.6.0_10\" -J-Dorg.netbeans.modules.php.dbgp.level=400 -J-Xmx1024m -J-Xms256m\n</code></pre>\n\n<p>Since I add that attribute, my NetBeans run so fast!</p>\n\n<p><a href=\"https://stackoverflow.com/a/18992956\"><strong>Another way to try More Reference Here</strong></a></p>\n\n<p>In the <code>etc</code> directory under your <code>Netbeans-Home</code>, edit the file <code>netbeans.conf</code> file. <code>-Xms</code> and <code>-Xmx</code> <strong>should be increased</strong> to the values that allow your program to compile.</p>\n\n<p>instructions in <strong>netbeans.conf</strong> : </p>\n\n<pre><code># Note that default -Xmx and -XX:MaxPermSize are selected for you automatically.\n# You can find these values in var/log/messages.log file in your userdir.\n# The automatically selected value can be overridden by specifying -J-Xmx or\n# -J-XX:MaxPermSize= here or on the command line.\n</code></pre>\n\n<p>Put the values in the <strong>netbeans_default_options</strong> string. Example : </p>\n\n<pre><code>netbeans_default_options=\"-J-client -J-Xss2m -J-Xms32m -J-XX:PermSize=32m -J-Dapple.laf.useScreenMenuBar=true -J-Dapple.awt.graphics.UseQuartz=true -J-Dsun.java2d.noddraw=true -J-Dsun.java2d.dpiaware=true -J-Dsun.zip.disableMemoryMapping=true  -J-Dsun.awt.disableMixing=true -J-Dswing.aatext=true -J-Dawt.useSystemAAFontSettings=lcd --laf Nimbus\"\n</code></pre>\n\n<p><strong>What to do to speed up / free up memory windows:</strong></p>\n\n<ol>\n<li><p>Disable Windows Update :</p>\n\n<ul>\n<li>Open Task Manager, open tab Services, disable Windows Update:</li>\n</ul></li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/zUgBp.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zUgBp.jpg\" alt=\"disable win update\"></a></p>\n\n<ol start=\"2\">\n<li>Hit <kbd> Ctrl </kbd> + <kbd> R </kbd> and type <code>Services.msc</code> and press enter.\n\n<ul>\n<li>Sort by <code>Startup Type</code></li>\n<li>Select Services from 3rd party (non windows) which run <code>Automatic</code>, Right click, click <code>Properties</code> and change startup type to <code>Manual</code></li>\n</ul></li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/uwYjP.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uwYjP.jpg\" alt=\"services\"></a></p>\n\n<ul>\n<li>Sort by <code>Status</code> and Stop services from (3rd party) app you think unused</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3028866,"reputation":755,"user_id":2568300,"display_name":"Mirko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1379321274,"creation_date":1379321274,"answer_id":18823851,"question_id":229763,"body_markdown":"Had the same issue with Netbeans 7.3.* and 7.4 Beta on Windows 7. Switching some plugins on and off, I figured out it was the **svn plugin** which boosted the CPU constantly to about 27%, converting my laptop into a toaster. Turn it off and code happy again :)","title":"How to improve Netbeans performance?","body":"<p>Had the same issue with Netbeans 7.3.* and 7.4 Beta on Windows 7. Switching some plugins on and off, I figured out it was the <strong>svn plugin</strong> which boosted the CPU constantly to about 27%, converting my laptop into a toaster. Turn it off and code happy again :)</p>\n"},{"tags":[],"owner":{"account_id":3942308,"reputation":31,"user_id":3256180,"display_name":"J.G. te H."},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1391150341,"creation_date":1391149098,"answer_id":21473673,"question_id":229763,"body_markdown":"This works for me:\r\n\r\n&gt; netbeans_default_options=&quot;-J-client -J-Xverify:none -J-Xmx1024m -J-Xss2m -J-Xms256m -J-XX:PermSize=32m -J-Dnetbeans.logger.console=true -J-ea -J-Dapple.laf.useScreenMenuBar=true -J-Dapple.awt.graphics.UseQuartz=true -J-Dsun.java2d.noddraw=true -J-Dsun.java2d.dpiaware=true -J-Dsun.zip.disableMemoryMapping=true -J-Dplugin.manager.check.updates=false -J-Dnetbeans.extbrowser.manual_chrome_plugin_install=yes&quot;\r\n\r\nSettings in the `etc/netbeans.conf`.","title":"How to improve Netbeans performance?","body":"<p>This works for me:</p>\n\n<blockquote>\n  <p>netbeans_default_options=\"-J-client -J-Xverify:none -J-Xmx1024m -J-Xss2m -J-Xms256m -J-XX:PermSize=32m -J-Dnetbeans.logger.console=true -J-ea -J-Dapple.laf.useScreenMenuBar=true -J-Dapple.awt.graphics.UseQuartz=true -J-Dsun.java2d.noddraw=true -J-Dsun.java2d.dpiaware=true -J-Dsun.zip.disableMemoryMapping=true -J-Dplugin.manager.check.updates=false -J-Dnetbeans.extbrowser.manual_chrome_plugin_install=yes\"</p>\n</blockquote>\n\n<p>Settings in the <code>etc/netbeans.conf</code>.</p>\n"},{"tags":[],"owner":{"account_id":3093314,"reputation":1609,"user_id":2619018,"accept_rate":83,"display_name":"cs_alumnus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1395241691,"creation_date":1393532539,"answer_id":22079507,"question_id":229763,"body_markdown":"Similar to the suggestion to put everything on an SSD.\r\n\r\nI run netbeans from freeBSD.  The netbeans cache files were in my home directory in .netbeans.  My home directory was mounted over nfs so access was very slow.  Moving .netbeans to the local machine greatly improved performance.  I added a softlink from .netbeans in my home directory to the local directory.  Netbeans describes how to change the usedir and cachedir [here](http://wiki.netbeans.org/FaqAlternateUserdir) and lists this as a reason under item 4.\r\n\r\nPrior to this I could write entire sentences in comments before the gui caught up and displayed them.  After text appears as I type.","title":"How to improve Netbeans performance?","body":"<p>Similar to the suggestion to put everything on an SSD.</p>\n\n<p>I run netbeans from freeBSD.  The netbeans cache files were in my home directory in .netbeans.  My home directory was mounted over nfs so access was very slow.  Moving .netbeans to the local machine greatly improved performance.  I added a softlink from .netbeans in my home directory to the local directory.  Netbeans describes how to change the usedir and cachedir <a href=\"http://wiki.netbeans.org/FaqAlternateUserdir\" rel=\"nofollow\">here</a> and lists this as a reason under item 4.</p>\n\n<p>Prior to this I could write entire sentences in comments before the gui caught up and displayed them.  After text appears as I type.</p>\n"},{"tags":[],"owner":{"account_id":413577,"reputation":5092,"user_id":787301,"accept_rate":89,"display_name":"Dieter Gribnitz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1395737210,"creation_date":1395737210,"answer_id":22629337,"question_id":229763,"body_markdown":"Simplest solution:\r\n\r\nGo to Preferences-&gt;Editor and\r\n**Disable: Auto Popup Completion Window**\r\n\r\nUse: Meta key + \\ instead when you need code completion.\r\n\r\nThe biggest problem I found was the auto code completion feature.\r\nAs I typed, it kept on trying to run code completion the whole time.\r\nThis was causing really slow performance since my project has a lot of libraries that it depends upon.\r\n\r\nThe best thing of all is you can stop fighting the editor as it keeps picking up false positives in the completion popup.\r\n\r\nHave not looked back since I switched this off.","title":"How to improve Netbeans performance?","body":"<p>Simplest solution:</p>\n\n<p>Go to Preferences->Editor and\n<strong>Disable: Auto Popup Completion Window</strong></p>\n\n<p>Use: Meta key + \\ instead when you need code completion.</p>\n\n<p>The biggest problem I found was the auto code completion feature.\nAs I typed, it kept on trying to run code completion the whole time.\nThis was causing really slow performance since my project has a lot of libraries that it depends upon.</p>\n\n<p>The best thing of all is you can stop fighting the editor as it keeps picking up false positives in the completion popup.</p>\n\n<p>Have not looked back since I switched this off.</p>\n"},{"tags":[],"owner":{"account_id":3710249,"reputation":195,"user_id":3087781,"display_name":"Natty"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1397094715,"creation_date":1397094715,"answer_id":22977264,"question_id":229763,"body_markdown":"**For Windows** - Should work for other OS as well\r\n\r\nNetbeans is just like any other java application which requires tuning for its JVM.\r\n\r\nPlease read the following link to have some benchmark results for netbeans\r\n\r\nhttps://performance.netbeans.org/reports/gc/\r\n\r\nThe following settings works fine in my Windows 7 PC with 4GB RAM and I5 Quad core processor.\r\n\r\n(Check for the line netbeans_default_options in the netbeans config file inside bin folder and replace the config line as follows)\r\n\r\nnetbeans_default_options=&quot;-XX:TargetSurvivorRatio=1 -Xverify:none -XX:PermSize=100M -Xmx500m -Xms500m -XX+UseParallelGC ${netbeans_default_options}&quot;\r\n\r\nSmall Suggestion: Garbage collection plays a vital part in JVM heap size and since I had a quad core processor, I used Parallel GC. If you have single thread processor, please use UseSerialGC. From my experience, if Xmx Xms values are same, there is no performance overhead for JVM to switch between min and max values. In my case, whenever my app size tries to exceed 500MB, the parallel GC comes in handy to cleanup unwanted garbage so my app never exceed 500MB in my PC.  ","title":"How to improve Netbeans performance?","body":"<p><strong>For Windows</strong> - Should work for other OS as well</p>\n\n<p>Netbeans is just like any other java application which requires tuning for its JVM.</p>\n\n<p>Please read the following link to have some benchmark results for netbeans</p>\n\n<p><a href=\"https://performance.netbeans.org/reports/gc/\" rel=\"nofollow\">https://performance.netbeans.org/reports/gc/</a></p>\n\n<p>The following settings works fine in my Windows 7 PC with 4GB RAM and I5 Quad core processor.</p>\n\n<p>(Check for the line netbeans_default_options in the netbeans config file inside bin folder and replace the config line as follows)</p>\n\n<p>netbeans_default_options=\"-XX:TargetSurvivorRatio=1 -Xverify:none -XX:PermSize=100M -Xmx500m -Xms500m -XX+UseParallelGC ${netbeans_default_options}\"</p>\n\n<p>Small Suggestion: Garbage collection plays a vital part in JVM heap size and since I had a quad core processor, I used Parallel GC. If you have single thread processor, please use UseSerialGC. From my experience, if Xmx Xms values are same, there is no performance overhead for JVM to switch between min and max values. In my case, whenever my app size tries to exceed 500MB, the parallel GC comes in handy to cleanup unwanted garbage so my app never exceed 500MB in my PC.  </p>\n"},{"tags":[],"owner":{"account_id":3245370,"reputation":123,"user_id":2737122,"accept_rate":100,"display_name":"Jacek Lisiński"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1401779745,"creation_date":1401779745,"answer_id":24009164,"question_id":229763,"body_markdown":"Really useful article about reasons why your NetBeans is slow:\r\n\r\n&lt;http://wiki.netbeans.org/FaqSlowNetBeans&gt;\r\n","title":"How to improve Netbeans performance?","body":"<p>Really useful article about reasons why your NetBeans is slow:</p>\n\n<p><a href=\"http://wiki.netbeans.org/FaqSlowNetBeans\" rel=\"nofollow\">http://wiki.netbeans.org/FaqSlowNetBeans</a></p>\n"},{"tags":[],"owner":{"account_id":1779877,"reputation":24967,"user_id":1622894,"accept_rate":100,"display_name":"ollo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1417535986,"creation_date":1417535986,"answer_id":27253694,"question_id":229763,"body_markdown":"Here are my netbeans options for `etc/netbeans.conf` using **G1 GC** and some other improvements.\r\n\r\n\r\n&gt; netbeans_default_options=&quot;-J-server -J-Xss4m -J-Xms256m -J-Xmx512m -J-XX:PermSize=256m -J-Dapple.laf.useScreenMenuBar=true -J-Dapple.awt.graphics.UseQuartz=true -J-Dsun.java2d.noddraw=true -J-Dsun.java2d.dpiaware=true -J-Dsun.zip.disableMemoryMapping=true -J-Xverify:none -J-XX:+UseG1GC -J-XX:+TieredCompilation -J-XX:+AggressiveOpts -J-Dswing.aatext=true -J-Dawt.useSystemAAFontSettings=lcd -J-Dorg.netbeans.editor.aa.extra.hints=true&quot;\r\n\r\nThe font settings (`swing.aatex` and following) are optional - set as you need or remove.\r\n\r\nThose settings are boosting my netbeans a lot!","title":"How to improve Netbeans performance?","body":"<p>Here are my netbeans options for <code>etc/netbeans.conf</code> using <strong>G1 GC</strong> and some other improvements.</p>\n\n<blockquote>\n  <p>netbeans_default_options=\"-J-server -J-Xss4m -J-Xms256m -J-Xmx512m -J-XX:PermSize=256m -J-Dapple.laf.useScreenMenuBar=true -J-Dapple.awt.graphics.UseQuartz=true -J-Dsun.java2d.noddraw=true -J-Dsun.java2d.dpiaware=true -J-Dsun.zip.disableMemoryMapping=true -J-Xverify:none -J-XX:+UseG1GC -J-XX:+TieredCompilation -J-XX:+AggressiveOpts -J-Dswing.aatext=true -J-Dawt.useSystemAAFontSettings=lcd -J-Dorg.netbeans.editor.aa.extra.hints=true\"</p>\n</blockquote>\n\n<p>The font settings (<code>swing.aatex</code> and following) are optional - set as you need or remove.</p>\n\n<p>Those settings are boosting my netbeans a lot!</p>\n"},{"tags":[],"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1430930068,"creation_date":1425880156,"answer_id":28935901,"question_id":229763,"body_markdown":"NetBeans 8.0.2 (PHP) has two problems: the SubVersion client and the [Twig templates][1].\r\nIn order to drastically improve overall performance, a) disable teh &quot;Twig Templates&quot; plugin (this will also deactivate Symphony2, in case you may require it) and b) override the SVN client with this switch:\r\n\r\n    run.args.extra=-J-DsvnClientAdapterFactory=commandline\r\n\r\n^ project.properties lets one define the CLI arguments individually\r\n(which may also make sense with RAM settings and other customization). guess one could re-enable Twig once that linked bug-report has been closed. re-scanning isn&#39;t really the issue, while the rescan performs as it should ...in a timely manner.\r\n\r\nJust was testing some more and noticed, that on Linux it runs way smoother with the Oracle JDK than the (common) OpenJDK - have seen there is even one version of NetBeans bundled with it.\r\n\r\n  [1]: https://netbeans.org/bugzilla/show_bug.cgi?id=244246","title":"How to improve Netbeans performance?","body":"<p>NetBeans 8.0.2 (PHP) has two problems: the SubVersion client and the <a href=\"https://netbeans.org/bugzilla/show_bug.cgi?id=244246\" rel=\"nofollow\">Twig templates</a>.\nIn order to drastically improve overall performance, a) disable teh \"Twig Templates\" plugin (this will also deactivate Symphony2, in case you may require it) and b) override the SVN client with this switch:</p>\n\n<pre><code>run.args.extra=-J-DsvnClientAdapterFactory=commandline\n</code></pre>\n\n<p>^ project.properties lets one define the CLI arguments individually\n(which may also make sense with RAM settings and other customization). guess one could re-enable Twig once that linked bug-report has been closed. re-scanning isn't really the issue, while the rescan performs as it should ...in a timely manner.</p>\n\n<p>Just was testing some more and noticed, that on Linux it runs way smoother with the Oracle JDK than the (common) OpenJDK - have seen there is even one version of NetBeans bundled with it.</p>\n"},{"tags":[],"owner":{"account_id":4844359,"reputation":588,"user_id":3908460,"accept_rate":92,"display_name":"gab06"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1435523169,"creation_date":1435523169,"answer_id":31104406,"question_id":229763,"body_markdown":"For me worked out to enable auto-scanning of sources.","title":"How to improve Netbeans performance?","body":"<p>For me worked out to enable auto-scanning of sources.</p>\n"},{"tags":[],"owner":{"account_id":1656622,"reputation":1579,"user_id":1526010,"display_name":"244an"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1443042074,"creation_date":1443042074,"answer_id":32749396,"question_id":229763,"body_markdown":"I had big problems with NetBeans 8.0.2. It&#39;s an old question but perhaps somebody else will end up here like me with the same problem, and I found no answer that helped me anywhere.  \r\n  \r\nI have NetBeans 8.0.2 with Ruby on Rails plugin, on Windows 7. The IDE was hanging up to 10 seconds on almost every change I did in some files. It was problem only with big files, but it must depend on more than that, there were other big files without the problem.  \r\n  \r\nThe problem was caused by the &quot;hint&quot; &quot;Rails 3 Deprecations&quot;, I turned it off and now it&#39;s very fast, I can have *everything* else turned on without problems.  \r\nIt&#39;s under `Tools -&gt; Options -&gt; Editor -&gt; Hints`.  \r\n  \r\nThere is also some suggestions in the other answers of optimizing with startup parameters. I found these links about JVM-switches that helped me when testing to optimize (but it turned out that these settings have nothing to do with my problem), they are very old but have some useful information:  \r\n[Explanation of JVM-switches](https://performance.netbeans.org/howto/jvmswitches/index.html).  \r\n[Some (old) recommendations](https://performance.netbeans.org/reports/gc/)","title":"How to improve Netbeans performance?","body":"<p>I had big problems with NetBeans 8.0.2. It's an old question but perhaps somebody else will end up here like me with the same problem, and I found no answer that helped me anywhere.  </p>\n\n<p>I have NetBeans 8.0.2 with Ruby on Rails plugin, on Windows 7. The IDE was hanging up to 10 seconds on almost every change I did in some files. It was problem only with big files, but it must depend on more than that, there were other big files without the problem.  </p>\n\n<p>The problem was caused by the \"hint\" \"Rails 3 Deprecations\", I turned it off and now it's very fast, I can have <em>everything</em> else turned on without problems.<br>\nIt's under <code>Tools -&gt; Options -&gt; Editor -&gt; Hints</code>.  </p>\n\n<p>There is also some suggestions in the other answers of optimizing with startup parameters. I found these links about JVM-switches that helped me when testing to optimize (but it turned out that these settings have nothing to do with my problem), they are very old but have some useful information:<br>\n<a href=\"https://performance.netbeans.org/howto/jvmswitches/index.html\" rel=\"nofollow\">Explanation of JVM-switches</a>.<br>\n<a href=\"https://performance.netbeans.org/reports/gc/\" rel=\"nofollow\">Some (old) recommendations</a></p>\n"},{"tags":[],"owner":{"account_id":8056349,"reputation":1,"user_id":6073361,"display_name":"M&#225;rio"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1458153909,"creation_date":1458153909,"answer_id":36044393,"question_id":229763,"body_markdown":"Verify if your project folder has a folder that contains files of your framework, or libraries (Ex.: The Laravel has a folder vendor) - files that you not use directly.\r\nClick on your &quot;project&quot; &gt; properties. In left side, select &quot;ignore folders&quot; (I don&#39;t no how is in english, but is before &#39;Frameworks&#39;).\r\nIn right side, click on &quot;add folder&quot;, chose de folders - this will make your Netbeans 8 faster.\r\nIt works for me.\r\n","title":"How to improve Netbeans performance?","body":"<p>Verify if your project folder has a folder that contains files of your framework, or libraries (Ex.: The Laravel has a folder vendor) - files that you not use directly.\nClick on your \"project\" > properties. In left side, select \"ignore folders\" (I don't no how is in english, but is before 'Frameworks').\nIn right side, click on \"add folder\", chose de folders - this will make your Netbeans 8 faster.\nIt works for me.</p>\n"},{"tags":[],"owner":{"account_id":6190559,"reputation":356,"user_id":4823385,"display_name":"Steffomio"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1464626767,"creation_date":1464626767,"answer_id":37530432,"question_id":229763,"body_markdown":"**Put your .netbeans Homefolder into a Ramdisk** and Netbeans its going to be incredible fast.\r\n\r\nI detected on my Ubuntu 16.04 that every Key-Press causes a HDD read or write action. Reason enougth for me to use a Ramdisk. As a little positive side-effect my HDD is quite now (no tickclickrrickrrrticktick any more) and has a longer live.","title":"How to improve Netbeans performance?","body":"<p><strong>Put your .netbeans Homefolder into a Ramdisk</strong> and Netbeans its going to be incredible fast.</p>\n\n<p>I detected on my Ubuntu 16.04 that every Key-Press causes a HDD read or write action. Reason enougth for me to use a Ramdisk. As a little positive side-effect my HDD is quite now (no tickclickrrickrrrticktick any more) and has a longer live.</p>\n"},{"tags":[],"owner":{"account_id":2783393,"reputation":167,"user_id":2395434,"accept_rate":0,"display_name":"ChrisVollo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1466525591,"creation_date":1466525591,"answer_id":37949539,"question_id":229763,"body_markdown":"Open the file: \r\n\r\n`/Applications/NetBeans/NetBeans\\ 8.0.2.app/Contents/Resources/NetBeans/etc/netbeans.conf `\r\n\r\nI added some options shown below:\r\n\r\n`netbeans_default_options=&quot;-J-Dsun.java2d.opengl=true -J-Dsun.java2d.d3d=false -J-Xmx2048m ...`\r\n\r\n\r\nUsing opengl may help you, depending on your system. I am running OsX. 2048m may be too much, but does not seem to hurt :-)  ...\r\n","title":"How to improve Netbeans performance?","body":"<p>Open the file: </p>\n\n<p><code>/Applications/NetBeans/NetBeans\\ 8.0.2.app/Contents/Resources/NetBeans/etc/netbeans.conf</code></p>\n\n<p>I added some options shown below:</p>\n\n<p><code>netbeans_default_options=\"-J-Dsun.java2d.opengl=true -J-Dsun.java2d.d3d=false -J-Xmx2048m ...</code></p>\n\n<p>Using opengl may help you, depending on your system. I am running OsX. 2048m may be too much, but does not seem to hurt :-)  ...</p>\n"},{"tags":[],"owner":{"account_id":2881196,"reputation":1809,"user_id":2472068,"display_name":"Vlad Vladimir Hercules"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1515417655,"creation_date":1515417655,"answer_id":48151196,"question_id":229763,"body_markdown":"I&#39;ve decided to research for last time why my NetBeans was running slow.\r\n\r\nI am running PC with 16GB ram and 3.5GHz 8 Core Processor. My CPU usage is around 5-20%, memory is below 40% yet NetBeans is slower than my 15-year-old PC that I have stashed in the garage.\r\n\r\nAfter finding this topic and going through http://wiki.netbeans.org/FaqSlowNetBeans I have realised that in the bottom right corner of the NetBeans I keep seeing a bar that states &quot;Scanning...&quot;, after trying to stop it and nothing happening I have looked further at what &quot;Scanning...&quot; was doing and I have realised:\r\n\r\n**Each time I start the NetBeans, the NetBeans will automatically scan any open projects.**\r\n\r\nAnd here it is, I&#39;ve closed 20 opened projects and NetBeans runs as fast as Notepad.","title":"How to improve Netbeans performance?","body":"<p>I've decided to research for last time why my NetBeans was running slow.</p>\n\n<p>I am running PC with 16GB ram and 3.5GHz 8 Core Processor. My CPU usage is around 5-20%, memory is below 40% yet NetBeans is slower than my 15-year-old PC that I have stashed in the garage.</p>\n\n<p>After finding this topic and going through <a href=\"http://wiki.netbeans.org/FaqSlowNetBeans\" rel=\"nofollow noreferrer\">http://wiki.netbeans.org/FaqSlowNetBeans</a> I have realised that in the bottom right corner of the NetBeans I keep seeing a bar that states \"Scanning...\", after trying to stop it and nothing happening I have looked further at what \"Scanning...\" was doing and I have realised:</p>\n\n<p><strong>Each time I start the NetBeans, the NetBeans will automatically scan any open projects.</strong></p>\n\n<p>And here it is, I've closed 20 opened projects and NetBeans runs as fast as Notepad.</p>\n"},{"tags":[],"owner":{"account_id":3946261,"reputation":43,"user_id":3258754,"accept_rate":17,"display_name":"sleeply4cat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543850505,"creation_date":1543849912,"answer_id":53596527,"question_id":229763,"body_markdown":"Try to profile Netbeans using VisualVM. If the &quot;hot spot&quot; is org.gnome.accessibility.atkwrapper.emitsignal(), try to run Netbeans with \r\n\r\n`-J-Djavax.accessibility.assistive_technologies=&quot; &quot;`\r\n\r\nIt helped a lot in my case.\r\n\r\nI don&#39;t really know why exactly this toolkit used, but looks like it&#39;s generally safe to disable it.","title":"How to improve Netbeans performance?","body":"<p>Try to profile Netbeans using VisualVM. If the \"hot spot\" is org.gnome.accessibility.atkwrapper.emitsignal(), try to run Netbeans with </p>\n\n<p><code>-J-Djavax.accessibility.assistive_technologies=\" \"</code></p>\n\n<p>It helped a lot in my case.</p>\n\n<p>I don't really know why exactly this toolkit used, but looks like it's generally safe to disable it.</p>\n"},{"tags":[],"owner":{"display_name":"user11582989"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583830345,"creation_date":1583830345,"answer_id":60614162,"question_id":229763,"body_markdown":"Close all the instences you have running. You might not have closed any of them in a while causing them to stack up and run in the background. Therefore causing lag/making the program work slower.","title":"How to improve Netbeans performance?","body":"<p>Close all the instences you have running. You might not have closed any of them in a while causing them to stack up and run in the background. Therefore causing lag/making the program work slower.</p>\n"},{"tags":[],"owner":{"account_id":1334496,"reputation":6147,"user_id":1277576,"display_name":"Francesco Galgani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611839510,"creation_date":1611839510,"answer_id":65937790,"question_id":229763,"body_markdown":"In my case, I got a huge performance advantage by disabling Rainbow (it&#39;s a plugin that is used to color brackets in the code):\r\n\r\n`Tools -&gt; Options -&gt; Miscellaneous -&gt; Rainbow` (uncheck enabled)\r\n\r\nTested on Netbeans 10 with Java 8.\r\n\r\nThe problem of serious slowdowns occurred exclusively with particularly large Java files (more than 5000 lines of code), while there was no problem with smaller files (within 1000 or 2000 lines of code).\r\n\r\nI made other optimizations, but this one was the most relevant, because it drastically reduced the amount of CPU used.\r\n\r\n","title":"How to improve Netbeans performance?","body":"<p>In my case, I got a huge performance advantage by disabling Rainbow (it's a plugin that is used to color brackets in the code):</p>\n<p><code>Tools -&gt; Options -&gt; Miscellaneous -&gt; Rainbow</code> (uncheck enabled)</p>\n<p>Tested on Netbeans 10 with Java 8.</p>\n<p>The problem of serious slowdowns occurred exclusively with particularly large Java files (more than 5000 lines of code), while there was no problem with smaller files (within 1000 or 2000 lines of code).</p>\n<p>I made other optimizations, but this one was the most relevant, because it drastically reduced the amount of CPU used.</p>\n"},{"tags":[],"owner":{"account_id":1697192,"reputation":608,"user_id":1558323,"display_name":"him"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642786317,"creation_date":1642786317,"answer_id":70805356,"question_id":229763,"body_markdown":"The simplest answer to this is to explicitly set Xms and Xmx in the $NETBEANS_HOME/etc/netbeans.conf file.  for general cases, the default memory allocation works fine, but for large projects or large numbers of projects, explicitly setting those flags to decently high values will alleviate a lot of the startup lag and runtime stalling of NB during operation.\r\n\r\ne.g. on my workstation i typically set NB to Xms=768m and Xmx to upwards of 1536m.  obviously tune to your needs and requirements, but that should provide a decent starting point.\r\n","title":"How to improve Netbeans performance?","body":"<p>The simplest answer to this is to explicitly set Xms and Xmx in the $NETBEANS_HOME/etc/netbeans.conf file.  for general cases, the default memory allocation works fine, but for large projects or large numbers of projects, explicitly setting those flags to decently high values will alleviate a lot of the startup lag and runtime stalling of NB during operation.</p>\n<p>e.g. on my workstation i typically set NB to Xms=768m and Xmx to upwards of 1536m.  obviously tune to your needs and requirements, but that should provide a decent starting point.</p>\n"}],"owner":{"reputation":5245,"user_id":30715,"display_name":"yeradis"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156929,"favorite_count":0,"down_vote_count":1,"up_vote_count":117,"answer_count":31,"score":116,"last_activity_date":1642786317,"creation_date":1224769487,"question_id":229763,"body_markdown":"Is there a real way to get Netbeans to load and work faster?\r\n\r\nIt is too slow and gets worse when you have been coding for some time. It eats all my RAM.\r\n\r\n---\r\nI am on a Windows machine, specifically Windows Server 2008 Datacenter Edition x64,\r\n4Gb of RAM, 3Ghz Core 2 Duo processor, etc. I am using the x64 JDK. I use the NOD32 Antivirus since for me it is the best in machine performance.\r\n\r\nIn Task Manager netbeans.exe only shows no more than 20 Mb, java.exe more than 600Mb.\r\n\r\nMy project is a J2EE web application, more than 500 classes, only the project libraries not included (externals). And when I said slow, I mean 3, 4, 5 minutes or more Netbeans is frozen.\r\n\r\nIs my project just too large for Netbeans, if it has to read all files to get the state of files like error warnings, svn status and more? Can I disable all this? Is it possible to set it to scan only when I open a file?\r\n\r\nMy CPU use is normally at 30 percent with all my tools opened, I mean Netbeans, MS SQL Manager, Notepad, XMLSpy, Task Manager, Delphi, VirtualBox. Netbeans eats more RAM than my virtualized systems.\r\n\r\nIn Linux it is as slow as in Windows in the same machine (Ubuntu 8.04 x64).\r\n\r\nIt is true that the Netbeans team improved startup speed but when it opens it begins to cache ALL. \r\n\r\nI have used some JVM parameters to set high memory usage and others:\r\n`&quot;C:\\Program Files\\NetBeans Dev\\bin\\netbeans.exe&quot; -J-Xms32m -J-Xmx512m -J-Xverify:none  -J-XX:+CMSClassUnloadingEnabled`\r\n\r\nBut it is still slow.","title":"How to improve Netbeans performance?","body":"<p>Is there a real way to get Netbeans to load and work faster?</p>\n\n<p>It is too slow and gets worse when you have been coding for some time. It eats all my RAM.</p>\n\n<hr>\n\n<p>I am on a Windows machine, specifically Windows Server 2008 Datacenter Edition x64,\n4Gb of RAM, 3Ghz Core 2 Duo processor, etc. I am using the x64 JDK. I use the NOD32 Antivirus since for me it is the best in machine performance.</p>\n\n<p>In Task Manager netbeans.exe only shows no more than 20 Mb, java.exe more than 600Mb.</p>\n\n<p>My project is a J2EE web application, more than 500 classes, only the project libraries not included (externals). And when I said slow, I mean 3, 4, 5 minutes or more Netbeans is frozen.</p>\n\n<p>Is my project just too large for Netbeans, if it has to read all files to get the state of files like error warnings, svn status and more? Can I disable all this? Is it possible to set it to scan only when I open a file?</p>\n\n<p>My CPU use is normally at 30 percent with all my tools opened, I mean Netbeans, MS SQL Manager, Notepad, XMLSpy, Task Manager, Delphi, VirtualBox. Netbeans eats more RAM than my virtualized systems.</p>\n\n<p>In Linux it is as slow as in Windows in the same machine (Ubuntu 8.04 x64).</p>\n\n<p>It is true that the Netbeans team improved startup speed but when it opens it begins to cache ALL. </p>\n\n<p>I have used some JVM parameters to set high memory usage and others:\n<code>\"C:\\Program Files\\NetBeans Dev\\bin\\netbeans.exe\" -J-Xms32m -J-Xmx512m -J-Xverify:none  -J-XX:+CMSClassUnloadingEnabled</code></p>\n\n<p>But it is still slow.</p>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":37175,"reputation":706108,"user_id":106224,"accept_rate":96,"display_name":"BoltClock"},"score":7,"creation_date":1293885027,"post_id":4574041,"comment_id":5019961,"body_markdown":"Your while loop should read  `while(sc.hasNextLine()){`","body":"Your while loop should read  <code>while(sc.hasNextLine()){</code>"},{"owner":{"account_id":130400,"reputation":52061,"user_id":329637,"accept_rate":75,"display_name":"RoflcoptrException"},"score":1,"creation_date":1293885042,"post_id":4574041,"comment_id":5019963,"body_markdown":"Is this a german/latin vocable trainer?","body":"Is this a german/latin vocable trainer?"},{"owner":{"account_id":172772,"reputation":69642,"user_id":401025,"accept_rate":98,"display_name":"DarkLeafyGreen"},"score":1,"creation_date":1293885138,"post_id":4574041,"comment_id":5019966,"body_markdown":"yes, a little exercise on using files and hashmaps","body":"yes, a little exercise on using files and hashmaps"}],"answers":[{"tags":[],"owner":{"display_name":"anon"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1293884953,"creation_date":1293884953,"answer_id":4574047,"question_id":4574041,"body_markdown":"You already get the next line in this line of your code:\r\n\r\n     String line = sc.nextLine();  \r\n\r\n \r\n\r\nTo get the words of a line, I would recommend to use:\r\n\r\n    String[] words = line.split(&quot; &quot;);","title":"Read next word in java","body":"<p>You already get the next line in this line of your code:</p>\n\n<pre><code> String line = sc.nextLine();  \n</code></pre>\n\n<p>To get the words of a line, I would recommend to use:</p>\n\n<pre><code>String[] words = line.split(\" \");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":122089,"reputation":11674,"user_id":315650,"accept_rate":95,"display_name":"Christopher Tokar"},"down_vote_count":0,"up_vote_count":41,"is_accepted":true,"score":41,"last_activity_date":1642786154,"creation_date":1293885472,"answer_id":4574063,"question_id":4574041,"body_markdown":"You do not necessarily have to split the line because java.util.Scanner&#39;s default delimiter is whitespace.  \r\n\r\nYou can just create a new Scanner object within your while statement.\r\n\r\n        Scanner sc2 = null;\r\n        try {\r\n            sc2 = new Scanner(new File(&quot;translate.txt&quot;));\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();  \r\n        }\r\n        while (sc2.hasNextLine()) {\r\n            Scanner s2 = new Scanner(sc2.nextLine());\r\n            while (s2.hasNext()) {\r\n                String s = s2.next();\r\n                System.out.println(s);\r\n            }\r\n        }\r\n\r\n","title":"Read next word in java","body":"<p>You do not necessarily have to split the line because java.util.Scanner's default delimiter is whitespace.</p>\n<p>You can just create a new Scanner object within your while statement.</p>\n<pre><code>    Scanner sc2 = null;\n    try {\n        sc2 = new Scanner(new File(&quot;translate.txt&quot;));\n    } catch (FileNotFoundException e) {\n        e.printStackTrace();  \n    }\n    while (sc2.hasNextLine()) {\n        Scanner s2 = new Scanner(sc2.nextLine());\n        while (s2.hasNext()) {\n            String s = s2.next();\n            System.out.println(s);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1861660,"reputation":71,"user_id":1686162,"display_name":"hgj"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1400853348,"creation_date":1400853348,"answer_id":23831145,"question_id":4574041,"body_markdown":"Using `Scanner`s, you will end up spawning a lot of objects for every line. You will generate a decent amount of garbage for the GC with large files. Also, it is nearly three times slower than using split().\r\n\r\nOn the other hand, If you split by space (`line.split(&quot; &quot;)`), the code will fail if you try to read a file with a different whitespace delimiter. If `split()` expects you to write a regular expression, and it does matching anyway, use `split(&quot;\\\\s&quot;)` instead, that matches a &quot;bit&quot; more whitespace than just a space character.\r\n\r\nP.S.: Sorry, I don&#39;t have right to comment on already given answers.","title":"Read next word in java","body":"<p>Using <code>Scanner</code>s, you will end up spawning a lot of objects for every line. You will generate a decent amount of garbage for the GC with large files. Also, it is nearly three times slower than using split().</p>\n\n<p>On the other hand, If you split by space (<code>line.split(\" \")</code>), the code will fail if you try to read a file with a different whitespace delimiter. If <code>split()</code> expects you to write a regular expression, and it does matching anyway, use <code>split(\"\\\\s\")</code> instead, that matches a \"bit\" more whitespace than just a space character.</p>\n\n<p>P.S.: Sorry, I don't have right to comment on already given answers.</p>\n"},{"tags":[],"owner":{"account_id":929792,"reputation":3142,"user_id":959876,"display_name":"moldovean"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1480893794,"creation_date":1480893794,"answer_id":40964932,"question_id":4574041,"body_markdown":"you&#39;re better off reading a line and then doing a split. \r\n\r\n    \r\n    File file = new File(&quot;path/to/file&quot;);\r\n    String words[]; // I miss C\r\n    String line;\r\n    HashMap&lt;String, String&gt; hm = new HashMap&lt;&gt;();\r\n    try (BufferedReader br = new BufferedReader(new InputStreamReader(new FileInputStream(file), &quot;UTF-8&quot;)))\r\n    {\r\n        while((line = br.readLine() != null)){\r\n            words = line.split(&quot;\\\\s&quot;);\r\n            if (hm.containsKey(words[0])){\r\n                    System.out.println(&quot;Found duplicate ... handle logic&quot;);\r\n            }\r\n            hm.put(words[0],words[1]); //if index==0 is ur key\r\n        }\r\n\r\n    } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n    } catch (IOException e) {\r\n            e.printStackTrace();\r\n    }","title":"Read next word in java","body":"<p>you're better off reading a line and then doing a split. </p>\n\n<pre><code>File file = new File(\"path/to/file\");\nString words[]; // I miss C\nString line;\nHashMap&lt;String, String&gt; hm = new HashMap&lt;&gt;();\ntry (BufferedReader br = new BufferedReader(new InputStreamReader(new FileInputStream(file), \"UTF-8\")))\n{\n    while((line = br.readLine() != null)){\n        words = line.split(\"\\\\s\");\n        if (hm.containsKey(words[0])){\n                System.out.println(\"Found duplicate ... handle logic\");\n        }\n        hm.put(words[0],words[1]); //if index==0 is ur key\n    }\n\n} catch (FileNotFoundException e) {\n        e.printStackTrace();\n} catch (IOException e) {\n        e.printStackTrace();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3194545,"reputation":41,"user_id":2698038,"display_name":"user2698038"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1521015986,"creation_date":1521015986,"answer_id":49272796,"question_id":4574041,"body_markdown":"You can just use Scanner to read word by word, Scanner.next() reads the next word\r\n\r\n    try {\r\n      Scanner s = new Scanner(new File(filename));\r\n\r\n      while (s.hasNext()) {\r\n        System.out.println(&quot;word:&quot; + s.next());\r\n      }\r\n    } catch (IOException e) {\r\n      System.out.println(&quot;Error accessing input file!&quot;);\r\n    }","title":"Read next word in java","body":"<p>You can just use Scanner to read word by word, Scanner.next() reads the next word</p>\n\n<pre><code>try {\n  Scanner s = new Scanner(new File(filename));\n\n  while (s.hasNext()) {\n    System.out.println(\"word:\" + s.next());\n  }\n} catch (IOException e) {\n  System.out.println(\"Error accessing input file!\");\n}\n</code></pre>\n"}],"owner":{"account_id":172772,"reputation":69642,"user_id":401025,"accept_rate":98,"display_name":"DarkLeafyGreen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192625,"favorite_count":0,"down_vote_count":1,"up_vote_count":34,"accepted_answer_id":4574063,"answer_count":5,"score":33,"last_activity_date":1642786154,"creation_date":1293884784,"question_id":4574041,"body_markdown":"I have a text file that has following content:\r\n\r\n    ac und\r\n    accipio annehmen\r\n    ad zu\r\n    adeo hinzugehen\r\n    ...\r\n\r\n\r\nI read the text file and iterate through the lines:\r\n\r\n    Scanner sc = new Scanner(new File(&quot;translate.txt&quot;));\r\n    while(sc.hasNext()){\r\n     String line = sc.nextLine();       \r\n    }\r\n\r\nEach line has two words. Is there any method in java to get the next word or do I have to split the line string to get the words?\r\n\r\n","title":"Read next word in java","body":"<p>I have a text file that has following content:</p>\n\n<pre><code>ac und\naccipio annehmen\nad zu\nadeo hinzugehen\n...\n</code></pre>\n\n<p>I read the text file and iterate through the lines:</p>\n\n<pre><code>Scanner sc = new Scanner(new File(\"translate.txt\"));\nwhile(sc.hasNext()){\n String line = sc.nextLine();       \n}\n</code></pre>\n\n<p>Each line has two words. Is there any method in java to get the next word or do I have to split the line string to get the words?</p>\n"},{"tags":["java","cors","jetty","embedded-jetty"],"answers":[{"tags":[],"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1642786047,"creation_date":1642786047,"answer_id":70805304,"question_id":70804176,"body_markdown":"Yes, Jetty 11 has a `CrossOriginFilter`.\r\n\r\nEvidence:\r\n\r\nhttps://github.com/eclipse/jetty.project/blob/jetty-11.0.7/jetty-servlets/src/main/java/org/eclipse/jetty/servlets/CrossOriginFilter.java","title":"Does Jetty 11 have a CORS filter? If not, is there a reason for it?","body":"<p>Yes, Jetty 11 has a <code>CrossOriginFilter</code>.</p>\n<p>Evidence:</p>\n<p><a href=\"https://github.com/eclipse/jetty.project/blob/jetty-11.0.7/jetty-servlets/src/main/java/org/eclipse/jetty/servlets/CrossOriginFilter.java\" rel=\"nofollow noreferrer\">https://github.com/eclipse/jetty.project/blob/jetty-11.0.7/jetty-servlets/src/main/java/org/eclipse/jetty/servlets/CrossOriginFilter.java</a></p>\n"}],"owner":{"account_id":1788122,"reputation":754,"user_id":1629104,"accept_rate":0,"display_name":"mainas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":384,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1642786047,"creation_date":1642781039,"question_id":70804176,"body_markdown":"I have been searching for CORS examples with Jetty 11, and haven&#39;t had any success. There is no mention of CORS in the programmer&#39;s guide for Jetty 11 either. This makes me wonder if the CORS filter was intentionally omitted from the new version. If the omission is indeed intentional, \r\n\r\n- why was that determination made?\r\n- what is the alternative for handling pre-flight CORS requests?","title":"Does Jetty 11 have a CORS filter? If not, is there a reason for it?","body":"<p>I have been searching for CORS examples with Jetty 11, and haven't had any success. There is no mention of CORS in the programmer's guide for Jetty 11 either. This makes me wonder if the CORS filter was intentionally omitted from the new version. If the omission is indeed intentional,</p>\n<ul>\n<li>why was that determination made?</li>\n<li>what is the alternative for handling pre-flight CORS requests?</li>\n</ul>\n"},{"tags":["java","spring-boot","security","logging","log4j"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1639224669,"post_id":70314966,"comment_id":124296978,"body_markdown":"If the transient log4j dependency is vulnerable and you use it and log4j is configured in a vulnerable way and an old java version is used, yes.","body":"If the transient log4j dependency is vulnerable and you use it and log4j is configured in a vulnerable way and an old java version is used, yes."}],"answers":[{"tags":[],"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1639224713,"creation_date":1639224713,"answer_id":70315029,"question_id":70314966,"body_markdown":"When using Apache Commons Logging, you still have to provide a specific logging system for Apache Commons Logging to use. If that specific system happens to be Log4j (either provided explicitly or implicitly because it&#39;s the primary default of Apache Commons Logging), you should assume that your project is affected by the vulnerability and update your log4j dependency to a patched version or use a different logging system.","title":"Gradle dependency (org.apache.commons ) is also effected by current log4j vulnerability or not?","body":"<p>When using Apache Commons Logging, you still have to provide a specific logging system for Apache Commons Logging to use. If that specific system happens to be Log4j (either provided explicitly or implicitly because it's the primary default of Apache Commons Logging), you should assume that your project is affected by the vulnerability and update your log4j dependency to a patched version or use a different logging system.</p>\n"},{"tags":[],"owner":{"account_id":3245618,"reputation":372,"user_id":2737303,"display_name":"jsmin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639232685,"creation_date":1639232685,"answer_id":70315944,"question_id":70314966,"body_markdown":"Check if the classpath contains class **JndiLookup** or not. \r\nAs suggested from [this][1] article\r\n\r\n&gt; Substitute a non-vulnerable or empty implementation of the class org.apache.logging.log4j.core.lookup.JndiLookup, in a way that your classloader uses your replacement instead of the vulnerable version of the class. Refer to your application&#39;s or stack&#39;s classloading documentation to understand this behavior.\r\n\r\n\r\n  [1]: https://www.lunasec.io/docs/blog/log4j-zero-day/","title":"Gradle dependency (org.apache.commons ) is also effected by current log4j vulnerability or not?","body":"<p>Check if the classpath contains class <strong>JndiLookup</strong> or not.\nAs suggested from <a href=\"https://www.lunasec.io/docs/blog/log4j-zero-day/\" rel=\"nofollow noreferrer\">this</a> article</p>\n<blockquote>\n<p>Substitute a non-vulnerable or empty implementation of the class org.apache.logging.log4j.core.lookup.JndiLookup, in a way that your classloader uses your replacement instead of the vulnerable version of the class. Refer to your application's or stack's classloading documentation to understand this behavior.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":7129149,"reputation":978,"user_id":5451049,"accept_rate":62,"display_name":"sunder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642785653,"creation_date":1642785653,"answer_id":70805210,"question_id":70314966,"body_markdown":"You can find out transitive dependencies by using \r\n```\r\ngradle -q dependencyInsight --dependency org.apache.logging.log4j-core --configuration scm\r\n```\r\nand if you figure out that in the dependency tree path you have the vulnerable version present, then you need to take action.\r\n\r\nMore information :- \r\nhttps://stackoverflow.com/questions/70452872/detecting-apache-log4j-vulnerability-presence-in-gradle-transitive-dependencies/70458258#70458258","title":"Gradle dependency (org.apache.commons ) is also effected by current log4j vulnerability or not?","body":"<p>You can find out transitive dependencies by using</p>\n<pre><code>gradle -q dependencyInsight --dependency org.apache.logging.log4j-core --configuration scm\n</code></pre>\n<p>and if you figure out that in the dependency tree path you have the vulnerable version present, then you need to take action.</p>\n<p>More information :-\n<a href=\"https://stackoverflow.com/questions/70452872/detecting-apache-log4j-vulnerability-presence-in-gradle-transitive-dependencies/70458258#70458258\">Detecting Apache Log4j vulnerability presence in gradle transitive dependencies</a></p>\n"}],"owner":{"account_id":23617902,"reputation":21,"user_id":17651681,"display_name":"Akshat Jain"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2494,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1642785653,"creation_date":1639224155,"question_id":70314966,"body_markdown":"Currently a vulnerability in the Log4j logging framework has happened. But in our project we are not using log4j dependency directly. We are using log4j via org.apache.common. So the question is will it be affected or not?","title":"Gradle dependency (org.apache.commons ) is also effected by current log4j vulnerability or not?","body":"<p>Currently a vulnerability in the Log4j logging framework has happened. But in our project we are not using log4j dependency directly. We are using log4j via org.apache.common. So the question is will it be affected or not?</p>\n"},{"tags":["java","jakarta-ee","cdi","javadoc","design-by-contract"],"comments":[{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":2,"creation_date":1642788876,"post_id":70803872,"comment_id":125173845,"body_markdown":"What I do is always use constructor injection. This immediately communicates the fact that this class needs several collaborators to be instantiated. Now, CDI can use package private and/or protected constructors. You can protect your constructor to communicate the intent that this class is not to be instantiated by `new`, thus needs to be instantiated by a framework. Alternatively and still with constructor injection, the constructor is annotated with `@Inject`, again hinting that this class must be instantiated by a framework.","body":"What I do is always use constructor injection. This immediately communicates the fact that this class needs several collaborators to be instantiated. Now, CDI can use package private and/or protected constructors. You can protect your constructor to communicate the intent that this class is not to be instantiated by <code>new</code>, thus needs to be instantiated by a framework. Alternatively and still with constructor injection, the constructor is annotated with <code>@Inject</code>, again hinting that this class must be instantiated by a framework."},{"owner":{"account_id":13009853,"reputation":395,"user_id":9403279,"display_name":"cidra"},"score":1,"creation_date":1642792058,"post_id":70803872,"comment_id":125174805,"body_markdown":"@NikosParaskevopoulos i thought CDI required a zero-arg public constructor... I&#39;ll definitely try out the protected constructor methodology, looks like the best solution","body":"@NikosParaskevopoulos i thought CDI required a zero-arg public constructor... I&#39;ll definitely try out the protected constructor methodology, looks like the best solution"}],"owner":{"account_id":13009853,"reputation":395,"user_id":9403279,"display_name":"cidra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642784701,"creation_date":1642779500,"question_id":70803872,"body_markdown":"Here is my class:  \r\n\r\n    @Stateless\r\n    @Transactional\r\n    public class PostService {\r\n        @Inject private PostRepository postRepo;\r\n        @Inject private UserRepository userRepo;\r\n        @Inject private SectionRepository sectionRepo;\r\n        @Inject private LoggedInUser loggedInUser;\r\n    \r\n        public PostDto getPost(@PostExists int id){\r\n            Post p = postRepo.findById(id);\r\n            //create post DTO from p\r\n            return post;\r\n        }\r\n    \r\n        public void delete(@PostExists int id){\r\n            postRepo.remove(postRepo.findById(id));\r\n        }\r\n    \r\n        public int newPost(@NotBlank @Max(255) String title,\r\n                           @Max(2000) String body,\r\n                           @SectionExists String sectionName){\r\n            User user = userRepo.getByName(loggedInUser.getUsername());\r\n            Section section = sectionRepo.getByName(sectionName);\r\n    \r\n            Post post = new Post();\r\n            post.setTitle(title);\r\n            post.setContent(body == null || body.isBlank() ? &quot;&quot; : body);\r\n            post.setAuthor(user);\r\n            post.setSection(section);\r\n            post.setType(TEXT);\r\n    \r\n            return postRepo.insert(post).getId();\r\n        }\r\n    \r\n    } \r\n\r\nIts annotations (``@NotBlank``, ``@Max(255)``, etc.) are processed by a CDI interceptor (to be precise, [BValInterceptor][1]) which throws a unchecked exception if there are violated constraints.  \r\n\r\nI know that Interceptors are supposed to cover *cross-cutting concerns*, but this one tightly couples with my business logic since I wanted to apply *design by contract* methodology for my methods.  \r\n\r\nWith the current setup ``PostService`` can&#39;t be instantiated using ``new`` as its interceptor wouldn&#39;t work and it wouldn&#39;t check for parameters correctness. This is fine for me since I&#39;m never supposed to manually instantiate my service classes, but is it a good idea to write a JavaDoc for my bean with the assumption that it will always be instantiated through CDI (and so its interceptor will always be executed)?\r\n\r\n\r\n  [1]: https://github.com/apache/bval/blob/master/bval-jsr/src/main/java/org/apache/bval/cdi/BValInterceptor.java","title":"How should I document a bean that&#39;s only supposed to be managed by CDI?","body":"<p>Here is my class:</p>\n<pre><code>@Stateless\n@Transactional\npublic class PostService {\n    @Inject private PostRepository postRepo;\n    @Inject private UserRepository userRepo;\n    @Inject private SectionRepository sectionRepo;\n    @Inject private LoggedInUser loggedInUser;\n\n    public PostDto getPost(@PostExists int id){\n        Post p = postRepo.findById(id);\n        //create post DTO from p\n        return post;\n    }\n\n    public void delete(@PostExists int id){\n        postRepo.remove(postRepo.findById(id));\n    }\n\n    public int newPost(@NotBlank @Max(255) String title,\n                       @Max(2000) String body,\n                       @SectionExists String sectionName){\n        User user = userRepo.getByName(loggedInUser.getUsername());\n        Section section = sectionRepo.getByName(sectionName);\n\n        Post post = new Post();\n        post.setTitle(title);\n        post.setContent(body == null || body.isBlank() ? &quot;&quot; : body);\n        post.setAuthor(user);\n        post.setSection(section);\n        post.setType(TEXT);\n\n        return postRepo.insert(post).getId();\n    }\n\n} \n</code></pre>\n<p>Its annotations (<code>@NotBlank</code>, <code>@Max(255)</code>, etc.) are processed by a CDI interceptor (to be precise, <a href=\"https://github.com/apache/bval/blob/master/bval-jsr/src/main/java/org/apache/bval/cdi/BValInterceptor.java\" rel=\"nofollow noreferrer\">BValInterceptor</a>) which throws a unchecked exception if there are violated constraints.</p>\n<p>I know that Interceptors are supposed to cover <em>cross-cutting concerns</em>, but this one tightly couples with my business logic since I wanted to apply <em>design by contract</em> methodology for my methods.</p>\n<p>With the current setup <code>PostService</code> can't be instantiated using <code>new</code> as its interceptor wouldn't work and it wouldn't check for parameters correctness. This is fine for me since I'm never supposed to manually instantiate my service classes, but is it a good idea to write a JavaDoc for my bean with the assumption that it will always be instantiated through CDI (and so its interceptor will always be executed)?</p>\n"},{"tags":["java","node.js","google-cloud-platform"],"comments":[{"owner":{"account_id":301516,"reputation":34141,"user_id":609290,"accept_rate":62,"display_name":"DazWilkin"},"score":1,"creation_date":1642784008,"post_id":70802526,"comment_id":125172178,"body_markdown":"Stack overflow is focused on helping developers with code. Your question would benefit from including a summary of the progress you&#39;ve made in trying to solve this solution. Google provides extensive documentation on its SDKs: Here&#39;s [Cloud Storage for NodeJS](https://cloud.google.com/storage/docs/reference/libraries#client-libraries-install-nodejs)","body":"Stack overflow is focused on helping developers with code. Your question would benefit from including a summary of the progress you&#39;ve made in trying to solve this solution. Google provides extensive documentation on its SDKs: Here&#39;s <a href=\"https://cloud.google.com/storage/docs/reference/libraries#client-libraries-install-nodejs\" rel=\"nofollow noreferrer\">Cloud Storage for NodeJS</a>"}],"answers":[{"tags":[],"owner":{"account_id":11878595,"reputation":1904,"user_id":8692914,"display_name":"omeanwell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642784698,"creation_date":1642784698,"answer_id":70805001,"question_id":70802526,"body_markdown":"You really need to do a bit more research to be honest, this is enough to get you started with nodejs. But it will require some investigation. \r\n\r\nThe easiest way to do this is probably to use the firebase SDK&#39;s, but you can also use the google cloud lib like below. You will need to install the shown library and configure it though. This is a nodejs example.\r\n\r\n    const { Storage } = require(&#39;@google-cloud/storage&#39;);\r\n    \r\n    // Creates a GC storage client\r\n    const storage = new Storage({\r\n      // Follow the medium tutorial to understand this bit\r\n      // You need to generate and save a service key \r\n      keyFilename: serviceKey,\r\n      projectId: &#39;your project id&#39;,\r\n    })\r\n    \r\n    async function uploadFile() {\r\n      await storage.bucket(&#39;my-bucket&#39;).upload(&#39;~/Documents/myfile.txt&#39;, {\r\n        // destination is the remote path of the file \r\n        destination: &#39;myfile.txt&#39;,\r\n      });\r\n    \r\n      console.log(&#39;Uploaded&#39;);\r\n    }\r\n    // If calling within an async func, remember to await the below\r\n    uploadFile().catch(console.error);\r\n\r\n[Storage file upload doc][1]\r\n\r\n[This medium article will really help you][2]\r\n\r\n\r\n  [1]: https://cloud.google.com/storage/docs/uploading-objects#storage-upload-object-nodejs\r\n  [2]: https://medium.com/@olamilekan001/image-upload-with-google-cloud-storage-and-node-js-a1cf9baa1876","title":"How to Automate upload local file to google cloud bucket using java or node js","body":"<p>You really need to do a bit more research to be honest, this is enough to get you started with nodejs. But it will require some investigation.</p>\n<p>The easiest way to do this is probably to use the firebase SDK's, but you can also use the google cloud lib like below. You will need to install the shown library and configure it though. This is a nodejs example.</p>\n<pre><code>const { Storage } = require('@google-cloud/storage');\n\n// Creates a GC storage client\nconst storage = new Storage({\n  // Follow the medium tutorial to understand this bit\n  // You need to generate and save a service key \n  keyFilename: serviceKey,\n  projectId: 'your project id',\n})\n\nasync function uploadFile() {\n  await storage.bucket('my-bucket').upload('~/Documents/myfile.txt', {\n    // destination is the remote path of the file \n    destination: 'myfile.txt',\n  });\n\n  console.log('Uploaded');\n}\n// If calling within an async func, remember to await the below\nuploadFile().catch(console.error);\n</code></pre>\n<p><a href=\"https://cloud.google.com/storage/docs/uploading-objects#storage-upload-object-nodejs\" rel=\"nofollow noreferrer\">Storage file upload doc</a></p>\n<p><a href=\"https://medium.com/@olamilekan001/image-upload-with-google-cloud-storage-and-node-js-a1cf9baa1876\" rel=\"nofollow noreferrer\">This medium article will really help you</a></p>\n"}],"owner":{"account_id":2342411,"reputation":1,"user_id":2053405,"display_name":"Ravindra Reddy Medagam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642784698,"creation_date":1642773582,"question_id":70802526,"body_markdown":"Can anyone guide me to automate the process of uploading  a file to GCP bucket using Java or nodejs  ","title":"How to Automate upload local file to google cloud bucket using java or node js","body":"<p>Can anyone guide me to automate the process of uploading  a file to GCP bucket using Java or nodejs</p>\n"},{"tags":["java","mysql","sql","jdbc"],"comments":[{"owner":{"account_id":13388280,"reputation":36856,"user_id":9661424,"display_name":"sticky bit"},"score":3,"creation_date":1642773116,"post_id":70802293,"comment_id":125167789,"body_markdown":"Side note: Hmm, I&#39;m not that much of a Java guy, so I might miss something, but it looks like you fetch the column for the whole table to then apply a filter and count the matching rows in `Java`. Do you realize, you could do that directly in a query to the DB, which is very likely a whole lot cheaper?","body":"Side note: Hmm, I&#39;m not that much of a Java guy, so I might miss something, but it looks like you fetch the column for the whole table to then apply a filter and count the matching rows in <code>Java</code>. Do you realize, you could do that directly in a query to the DB, which is very likely a whole lot cheaper?"},{"owner":{"account_id":6169361,"reputation":20329,"user_id":4808122,"accept_rate":89,"display_name":"Marmite Bomber"},"score":1,"creation_date":1642773681,"post_id":70802293,"comment_id":125168048,"body_markdown":"Try with something like `select count(*) from traineeJoinPayment where paidDate &gt;= ? and paidDate &lt; ?`","body":"Try with something like <code>select count(*) from traineeJoinPayment where paidDate &gt;= ? and paidDate &lt; ?</code>"},{"owner":{"account_id":8026267,"reputation":4734,"user_id":6053084,"display_name":"Turo"},"score":1,"creation_date":1642775975,"post_id":70802293,"comment_id":125169002,"body_markdown":"That&#39;s a plain sql-thing: `select count(*) from traineeJoinPayment where paidDate = CURDATE()`","body":"That&#39;s a plain sql-thing: <code>select count(*) from traineeJoinPayment where paidDate = CURDATE()</code>"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1642783661,"post_id":70802293,"comment_id":125172047,"body_markdown":"I suspect the time portion of `java.util.Date`, which is a superclass of `java.sql.Date`, is interfering with `equals`...","body":"I suspect the time portion of <code>java.util.Date</code>, which is a superclass of <code>java.sql.Date</code>, is interfering with <code>equals</code>..."},{"owner":{"account_id":19649286,"reputation":1341,"user_id":14383499,"display_name":"Abdallah_98"},"score":0,"creation_date":1642826926,"post_id":70802293,"comment_id":125181453,"body_markdown":"Tanks a lot all, i solve it this issue using `Turo` query ,\n`","body":"Tanks a lot all, i solve it this issue using <code>Turo</code> query , `"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642782054,"creation_date":1642781614,"answer_id":70804297,"question_id":70802293,"body_markdown":"# Avoid legacy date-time classes \r\n\r\nNever use either `Date` class. Both of these terrible classes were years ago supplanted by the modern *java.time* classes defined in JSR 310 and supported in JDBC 4.2 and later. Specifically, `java.sql.Date` is replaced by `LocalDate`. \r\n\r\n# Use the database, Luke\r\n\r\nGenerally best to leverage the database for as much work as is feasible. Database engines are usually highly optimized and best suited for tasks such as searching and comparing. \r\n\r\nSo rather than bring a bunch of rows over to Java for filtering, ask the database to do the query. \r\n\r\n# &#128198; &#127758; \r\n\r\nDetermining the current date requires a time zone. For any given moment, the date varies around the globe by time zone. \r\n\r\n    ZoneId z = ZoneId.of( &quot;America/Edmonton&quot; ) ;\r\n    LocalDate today = LocalDate.now( z ) ;\r\n\r\n# SQL\r\n\r\nYour SQL query will look something like the following. \r\n\r\n```sql\r\nSELECT * FROM event_ WHERE date_ = ? ;\r\n```\r\n\r\n# Java\r\n\r\nOn the Java side, supply the date. \r\n\r\n    myPreparedStatement.setObject( … , today ) ;\r\n\r\nRetrieval. \r\n\r\n    LocalDate ld = myResultSet.getObject( … , LocalDate.class ) ;","title":"How to check the date of the current day is equal to date that store in database?","body":"<h1>Avoid legacy date-time classes</h1>\n<p>Never use either <code>Date</code> class. Both of these terrible classes were years ago supplanted by the modern <em>java.time</em> classes defined in JSR 310 and supported in JDBC 4.2 and later. Specifically, <code>java.sql.Date</code> is replaced by <code>LocalDate</code>.</p>\n<h1>Use the database, Luke</h1>\n<p>Generally best to leverage the database for as much work as is feasible. Database engines are usually highly optimized and best suited for tasks such as searching and comparing.</p>\n<p>So rather than bring a bunch of rows over to Java for filtering, ask the database to do the query.</p>\n<h1>📆 🌎</h1>\n<p>Determining the current date requires a time zone. For any given moment, the date varies around the globe by time zone.</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;America/Edmonton&quot; ) ;\nLocalDate today = LocalDate.now( z ) ;\n</code></pre>\n<h1>SQL</h1>\n<p>Your SQL query will look something like the following.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT * FROM event_ WHERE date_ = ? ;\n</code></pre>\n<h1>Java</h1>\n<p>On the Java side, supply the date.</p>\n<pre><code>myPreparedStatement.setObject( … , today ) ;\n</code></pre>\n<p>Retrieval.</p>\n<pre><code>LocalDate ld = myResultSet.getObject( … , LocalDate.class ) ;\n</code></pre>\n"}],"owner":{"account_id":19649286,"reputation":1341,"user_id":14383499,"display_name":"Abdallah_98"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642784600,"creation_date":1642772679,"question_id":70802293,"body_markdown":"I want to find how many new daily subscriptions are in my application, but when use `equal`and `compareTo` method the counter will be zero, but in my data, there is three new daily subscriptions.\r\n\r\n\tString sql = &quot;select paidDate from traineeJoinPayment; &quot;;\r\n\tResultSet rs = statement.executeQuery(sql);\r\n\tDate date1 = new Date();\r\n\tjava.sql.Date date2 = new java.sql.Date(date1.getTime());\r\n\tint dayCount = 0;\r\n\twhile (rs.next()) {\r\n\t\tjava.sql.Date date = java.sql.Date.valueOf(rs.getString(1));\r\n\t\tif ((date2.equals(date)))\r\n\t\t\tdayCount++;\r\n\t}\r\n\r\n\r\nAlso, I&#39;m trying to make another separate example was made, but the result was the same.\r\n\r\n \r\n\r\n\tString rs = &quot;2022-01-21&quot;;\r\n\tjava.sql.Date date = java.sql.Date.valueOf(rs);\r\n\tDate date1 = new Date();\r\n\tjava.sql.Date date2 = new java.sql.Date(date1.getTime());\r\n\tSystem.out.println(date.equals(date2));\r\n\r\nAlso here is the output `false`\r\n\r\n\r\nNote: The below date when execute the above query in MySQL\r\n\r\n    2022-01-05\r\n    2022-01-02\r\n    2022-01-06\r\n    2022-01-08\r\n    2021-12-30\r\n    2022-01-01\r\n    2022-01-21","title":"How to check the date of the current day is equal to date that store in database?","body":"<p>I want to find how many new daily subscriptions are in my application, but when use <code>equal</code>and <code>compareTo</code> method the counter will be zero, but in my data, there is three new daily subscriptions.</p>\n<pre><code>String sql = &quot;select paidDate from traineeJoinPayment; &quot;;\nResultSet rs = statement.executeQuery(sql);\nDate date1 = new Date();\njava.sql.Date date2 = new java.sql.Date(date1.getTime());\nint dayCount = 0;\nwhile (rs.next()) {\n    java.sql.Date date = java.sql.Date.valueOf(rs.getString(1));\n    if ((date2.equals(date)))\n        dayCount++;\n}\n</code></pre>\n<p>Also, I'm trying to make another separate example was made, but the result was the same.</p>\n<pre><code>String rs = &quot;2022-01-21&quot;;\njava.sql.Date date = java.sql.Date.valueOf(rs);\nDate date1 = new Date();\njava.sql.Date date2 = new java.sql.Date(date1.getTime());\nSystem.out.println(date.equals(date2));\n</code></pre>\n<p>Also here is the output <code>false</code></p>\n<p>Note: The below date when execute the above query in MySQL</p>\n<pre><code>2022-01-05\n2022-01-02\n2022-01-06\n2022-01-08\n2021-12-30\n2022-01-01\n2022-01-21\n</code></pre>\n"},{"tags":["java","arrays","for-loop","iteration"],"comments":[{"owner":{"account_id":5252988,"reputation":1450,"user_id":4196620,"display_name":"kendavidson"},"score":0,"creation_date":1642779338,"post_id":70803110,"comment_id":125170435,"body_markdown":"Is using an Array required for some reason? You&#39;d probably be better off using a `Map&lt;Integer,Integer&gt;` or `Map&lt;SubscriptionDuration,Integer&gt;`.  There isn&#39;t a friendly way to convert [1,3,6,12] into [0,1,2,3] (without your previous if statement). If you had to use an Array, you&#39;d want to use something like `SubscriptionCosts[]` where you could match `SubscriptionCost.months`.","body":"Is using an Array required for some reason? You&#39;d probably be better off using a <code>Map&lt;Integer,Integer&gt;</code> or <code>Map&lt;SubscriptionDuration,Integer&gt;</code>.  There isn&#39;t a friendly way to convert [1,3,6,12] into [0,1,2,3] (without your previous if statement). If you had to use an Array, you&#39;d want to use something like <code>SubscriptionCosts[]</code> where you could match <code>SubscriptionCost.months</code>."},{"owner":{"account_id":24010716,"reputation":1,"user_id":17994345,"display_name":"DeathlySin"},"score":0,"creation_date":1642782123,"post_id":70803110,"comment_id":125171480,"body_markdown":"So, I think it&#39;d be more ideal if I did, yes. Because I have to also do this for a Silver and Gold tier, both of which have different costs which I&#39;ll set into an array also. My previous if else statmenets were very long in the tooth and repetetive. \n\nSilver prices are 800 for 1 month, 700 for 3 months, 600 for 6 months and 500 for 12 months.\n\nGold prices are 999 for 1 month, 899 for 3 months, 799 for 6 months and 699 for 12 months.\n\nSo I had basically a subsGoldPackage and a subsSilverPackage array and if else statmements to match, all inside the same method.","body":"So, I think it&#39;d be more ideal if I did, yes. Because I have to also do this for a Silver and Gold tier, both of which have different costs which I&#39;ll set into an array also. My previous if else statmenets were very long in the tooth and repetetive.   Silver prices are 800 for 1 month, 700 for 3 months, 600 for 6 months and 500 for 12 months.  Gold prices are 999 for 1 month, 899 for 3 months, 799 for 6 months and 699 for 12 months.  So I had basically a subsGoldPackage and a subsSilverPackage array and if else statmements to match, all inside the same method."}],"answers":[{"tags":[],"owner":{"account_id":11442947,"reputation":1,"user_id":11019212,"display_name":"Steve"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642779319,"creation_date":1642779319,"answer_id":70803819,"question_id":70803110,"body_markdown":"Your code here is a bit of a mess to look at.  But I guess I would point you to the logic in your if statement ...\r\n\r\nsubscriptionPackage.equals(subscriptionPackage) ... this is always true, right?  So you can just delete this.\r\n\r\nsubscriptionDuraction == suscriptionDuration ... thius is also always true, right?  So your whole if statement disappears.\r\n\r\nSo this if statement ALWAYS evaluates to true, which means you will always hit the return statement in the if block, with i=1, and in your array, [1] = 500.\r\n\r\n","title":"For loop to iterate through user input to calculate cost?","body":"<p>Your code here is a bit of a mess to look at.  But I guess I would point you to the logic in your if statement ...</p>\n<p>subscriptionPackage.equals(subscriptionPackage) ... this is always true, right?  So you can just delete this.</p>\n<p>subscriptionDuraction == suscriptionDuration ... thius is also always true, right?  So your whole if statement disappears.</p>\n<p>So this if statement ALWAYS evaluates to true, which means you will always hit the return statement in the if block, with i=1, and in your array, [1] = 500.</p>\n"},{"tags":[],"owner":{"account_id":5252988,"reputation":1450,"user_id":4196620,"display_name":"kendavidson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642782992,"creation_date":1642782992,"answer_id":70804614,"question_id":70803110,"body_markdown":"I would suggest attempting to work with classes, for example:\r\n\r\n```\r\n// Going this far could be up for debate\r\npublic enum SubscriptionType { GOLD, SILVER, BRONZE }\r\npublic enum SubscriptionDuration { MONTHLY, QUARTERLY, BI_ANNUALLY, ANNUALLY }\r\n```\r\n\r\n```\r\npublic class SubscriptionFee {\r\n  SubscriptionType type;         // Replace with String\r\n  SubscriptionDuration duration; // Replace with Integer\r\n  int cost;\r\n}\r\n```\r\n\r\nBoth `type` and `duration` are up for debate if you&#39;d rather use `String` and `Integer` respectively.\r\n\r\nYou can try to implement these in your current code and see if it&#39;s easier to loop through all the options comparing:\r\n\r\n- subscriptionFee.type\r\n- subscriptionFee.duration\r\n\r\nto the information you&#39;ve collected from the &quot;user&quot;.","title":"For loop to iterate through user input to calculate cost?","body":"<p>I would suggest attempting to work with classes, for example:</p>\n<pre><code>// Going this far could be up for debate\npublic enum SubscriptionType { GOLD, SILVER, BRONZE }\npublic enum SubscriptionDuration { MONTHLY, QUARTERLY, BI_ANNUALLY, ANNUALLY }\n</code></pre>\n<pre><code>public class SubscriptionFee {\n  SubscriptionType type;         // Replace with String\n  SubscriptionDuration duration; // Replace with Integer\n  int cost;\n}\n</code></pre>\n<p>Both <code>type</code> and <code>duration</code> are up for debate if you'd rather use <code>String</code> and <code>Integer</code> respectively.</p>\n<p>You can try to implement these in your current code and see if it's easier to loop through all the options comparing:</p>\n<ul>\n<li>subscriptionFee.type</li>\n<li>subscriptionFee.duration</li>\n</ul>\n<p>to the information you've collected from the &quot;user&quot;.</p>\n"}],"owner":{"account_id":24010716,"reputation":1,"user_id":17994345,"display_name":"DeathlySin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":358,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1642783516,"creation_date":1642776249,"question_id":70803110,"body_markdown":"I&#39;m working in Java. So what I&#39;m trying to do is, take the user input from subscriberPackage \r\n\r\n```\r\npublic static String subscriberPackage() { //Method to get the customers name\r\n        \r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.println(&quot;\\nPlease choose a package the customer would like:&quot;);\r\n        System.out.println(&quot;Enter Bronze, Silver or Gold to select a package.&quot;);\r\n        String subscriptionPackage = sc.nextLine(); //Get subscription package from the user\r\n        while (!(subscriptionPackage.equalsIgnoreCase(&quot;Bronze&quot;) || subscriptionPackage.equalsIgnoreCase(&quot;Silver&quot;) || subscriptionPackage.equalsIgnoreCase(&quot;Gold&quot;))) {\r\n\r\n            System.err.println(&quot;This is not a valid package!&quot;);\r\n            System.err.println(&quot;Please try again!&quot;);\r\n            System.out.println(&quot;Please choose a package the customer would like:&quot;);\r\n            System.out.println(&quot;Bronze, Silver or Gold.&quot;);\r\n            subscriptionPackage = sc.nextLine();\r\n            //If the package entered is not Bronze, Silver or Gold, the user is asked to re-enter till the while condition is  met\r\n\r\n        }\r\n        return subscriptionPackage; //Returns the subscription package to the newSubscription method\r\n    }\r\n```\r\n\r\nand subscriberDuration \r\n\r\n```\r\n public static int subscriberDuration() { //Method to get the subscription duration\r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.println(&quot;\\nPlease choose the subscription duration&quot;);\r\n        System.out.println(&quot;It must be either 1, 3, 6 or 12 months.&quot;);\r\n        System.out.println(&quot;Please now enter the subscription duration the customer would like&quot;);\r\n        int subscriptionDuration = sc.nextInt(); //Get the subscription duration from the user\r\n\r\n\r\n        while (subscriptionDuration != 1 &amp;&amp; subscriptionDuration != 3 &amp;&amp; subscriptionDuration != 6 &amp;&amp; subscriptionDuration != 12) {\r\n            System.err.println(&quot;This is not a valid duration, please try again!&quot;);\r\n            System.err.println(&quot;It must be either 1, 3, 6 or 12 months.&quot;);\r\n            subscriptionDuration = sc.nextInt();\r\n            //If the duration entered is not 1, 3, 6 or 12, the user is asked to re-enter till the while condition is  met\r\n\r\n        }\r\n        return subscriptionDuration; //Returns the subscription duration to the newSubscription method\r\n    }\r\n```\r\n\r\n\r\nand calculate a cost in subscriberBill. \r\n```\r\nprivate static int subscriberBill(String subscriptionPackage, int subscriptionDuration) {\r\n\r\n        int subscriptionCost = 0;\r\n        int[] subsBronzePackageCosts = new int[1000];\r\n        subsBronzePackageCosts[0] = 600;\r\n        subsBronzePackageCosts[1] = 500;\r\n        subsBronzePackageCosts[2] = 400;\r\n        subsBronzePackageCosts[3] = 300;\r\n        int count = 0;\r\n\r\n        for(int i = 1; i &lt;= 12; i+=3){\r\n            if (subscriptionPackage.equals(subscriptionPackage) &amp;&amp; (subscriptionDuration == subscriptionDuration)) {\r\n                subscriptionCost = (subsBronzePackageCosts[i] + i + count);\r\n                count++;\r\n                System.out.println(&quot;\\nThe cost of this subscription is: &quot; + subscriptionCost);\r\n\r\n                return subscriptionCost;\r\n\r\n\r\n            }\r\n        }\r\n        return subscriptionCost;\r\n    }\r\n}\r\n```\r\n\r\nI have managed to pass through this information and started adding the costs of the Bronze tier subscriptionPackage. I have done this using an array:\r\n\r\n```\r\nint[] subsBronzePackageCosts = new int[1000];\r\n        subsBronzePackageCosts[0] = 600;\r\n        subsBronzePackageCosts[1] = 500;\r\n        subsBronzePackageCosts[2] = 400;\r\n        subsBronzePackageCosts[3] = 300;\r\n```\r\nI&#39;m trying to loop through said array so that for example, a user has set the duration as 3, it&#39;ll iterate using the for loop through my array and set ```subscriptionCost``` to the appropriate value. In this instance, that being 400.\r\n\r\nThe part I&#39;m stuck with, is iterating through the array with the for loop. I have it so it&#39;s only adding + 1 and reporting 500 every time. I did have a solution working for if else statements for each different package type and duration, but obviously, this isn&#39;t ideal practice and causes repetitive code, which I&#39;m trying to avoid.   \r\n\r\nThanks in advance!\r\n\r\n\r\nEDIT: To add a bit more context. I have three tiers of subscriptionPackage to work with: Bronze, Silver and Gold. \r\nAll of these packages have different pricings and the pricings change with the length of subscriptionDuration that the user enters. \r\n\r\nThe packages/pricings are:\r\nBronze prices are 600 for 1 month, 500 for 3 months, 400 for 6 months and 300 for 12 months. \r\n\r\nSilver prices are 800 for 1 month, 700 for 3 months, 600 for 6 months and 500 for 12 months. \r\n\r\nGold prices are 999 for 1 month, 899 for 3 months, 799 for 6 months and 699 for 12 months. ","title":"For loop to iterate through user input to calculate cost?","body":"<p>I'm working in Java. So what I'm trying to do is, take the user input from subscriberPackage</p>\n<pre><code>public static String subscriberPackage() { //Method to get the customers name\n        \n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;\\nPlease choose a package the customer would like:&quot;);\n        System.out.println(&quot;Enter Bronze, Silver or Gold to select a package.&quot;);\n        String subscriptionPackage = sc.nextLine(); //Get subscription package from the user\n        while (!(subscriptionPackage.equalsIgnoreCase(&quot;Bronze&quot;) || subscriptionPackage.equalsIgnoreCase(&quot;Silver&quot;) || subscriptionPackage.equalsIgnoreCase(&quot;Gold&quot;))) {\n\n            System.err.println(&quot;This is not a valid package!&quot;);\n            System.err.println(&quot;Please try again!&quot;);\n            System.out.println(&quot;Please choose a package the customer would like:&quot;);\n            System.out.println(&quot;Bronze, Silver or Gold.&quot;);\n            subscriptionPackage = sc.nextLine();\n            //If the package entered is not Bronze, Silver or Gold, the user is asked to re-enter till the while condition is  met\n\n        }\n        return subscriptionPackage; //Returns the subscription package to the newSubscription method\n    }\n</code></pre>\n<p>and subscriberDuration</p>\n<pre><code> public static int subscriberDuration() { //Method to get the subscription duration\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;\\nPlease choose the subscription duration&quot;);\n        System.out.println(&quot;It must be either 1, 3, 6 or 12 months.&quot;);\n        System.out.println(&quot;Please now enter the subscription duration the customer would like&quot;);\n        int subscriptionDuration = sc.nextInt(); //Get the subscription duration from the user\n\n\n        while (subscriptionDuration != 1 &amp;&amp; subscriptionDuration != 3 &amp;&amp; subscriptionDuration != 6 &amp;&amp; subscriptionDuration != 12) {\n            System.err.println(&quot;This is not a valid duration, please try again!&quot;);\n            System.err.println(&quot;It must be either 1, 3, 6 or 12 months.&quot;);\n            subscriptionDuration = sc.nextInt();\n            //If the duration entered is not 1, 3, 6 or 12, the user is asked to re-enter till the while condition is  met\n\n        }\n        return subscriptionDuration; //Returns the subscription duration to the newSubscription method\n    }\n</code></pre>\n<p>and calculate a cost in subscriberBill.</p>\n<pre><code>private static int subscriberBill(String subscriptionPackage, int subscriptionDuration) {\n\n        int subscriptionCost = 0;\n        int[] subsBronzePackageCosts = new int[1000];\n        subsBronzePackageCosts[0] = 600;\n        subsBronzePackageCosts[1] = 500;\n        subsBronzePackageCosts[2] = 400;\n        subsBronzePackageCosts[3] = 300;\n        int count = 0;\n\n        for(int i = 1; i &lt;= 12; i+=3){\n            if (subscriptionPackage.equals(subscriptionPackage) &amp;&amp; (subscriptionDuration == subscriptionDuration)) {\n                subscriptionCost = (subsBronzePackageCosts[i] + i + count);\n                count++;\n                System.out.println(&quot;\\nThe cost of this subscription is: &quot; + subscriptionCost);\n\n                return subscriptionCost;\n\n\n            }\n        }\n        return subscriptionCost;\n    }\n}\n</code></pre>\n<p>I have managed to pass through this information and started adding the costs of the Bronze tier subscriptionPackage. I have done this using an array:</p>\n<pre><code>int[] subsBronzePackageCosts = new int[1000];\n        subsBronzePackageCosts[0] = 600;\n        subsBronzePackageCosts[1] = 500;\n        subsBronzePackageCosts[2] = 400;\n        subsBronzePackageCosts[3] = 300;\n</code></pre>\n<p>I'm trying to loop through said array so that for example, a user has set the duration as 3, it'll iterate using the for loop through my array and set <code>subscriptionCost</code> to the appropriate value. In this instance, that being 400.</p>\n<p>The part I'm stuck with, is iterating through the array with the for loop. I have it so it's only adding + 1 and reporting 500 every time. I did have a solution working for if else statements for each different package type and duration, but obviously, this isn't ideal practice and causes repetitive code, which I'm trying to avoid.</p>\n<p>Thanks in advance!</p>\n<p>EDIT: To add a bit more context. I have three tiers of subscriptionPackage to work with: Bronze, Silver and Gold.\nAll of these packages have different pricings and the pricings change with the length of subscriptionDuration that the user enters.</p>\n<p>The packages/pricings are:\nBronze prices are 600 for 1 month, 500 for 3 months, 400 for 6 months and 300 for 12 months.</p>\n<p>Silver prices are 800 for 1 month, 700 for 3 months, 600 for 6 months and 500 for 12 months.</p>\n<p>Gold prices are 999 for 1 month, 899 for 3 months, 799 for 6 months and 699 for 12 months.</p>\n"},{"tags":["java","linux","x11","xorg","xcb"],"answers":[{"tags":[],"owner":{"account_id":4525953,"reputation":106,"user_id":3677788,"display_name":"mzagar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1401257748,"creation_date":1401141557,"answer_id":23878227,"question_id":23871516,"body_markdown":"This is likely a known issue in libX11 regarding the handling of request numbers used for xcb_wait_for_reply. \r\n\r\nAt some point after libxcb v1.5 code to use 64-bit sequence numbers internally everywhere was introduced and logic was added to widen sequence numbers on entry to those public APIs that still take 32-bit sequence numbers. \r\n\r\nHere is a quote from [submitted libxcb bug report][1] (actual emails removed):\r\n\r\n&gt; We have an application that does a lot of XDrawString and XDrawLine.\r\n&gt; After several hours the application is exited by an XIOError.\r\n&gt; \r\n&gt; The XIOError is called in libX11 in the file xcb_io.c, function\r\n&gt; _XReply. It didn&#39;t get a response from xcb_wait_for_reply.\r\n&gt; \r\n&gt; libxcb 1.5 is fine, libxcb 1.8.1 is not. Bisecting libxcb points to\r\n&gt; this commit:\r\n&gt; \r\n&gt;   commit ed37b087519ecb9e74412e4df8f8a217ab6d12a9   Author: Jamey\r\n&gt; Sharp &lt;jamey@xxxxxx.xxx&gt;   Date:   Sat Oct 9 17:13:45 2010 -0700\r\n&gt; \r\n&gt;     xcb_in: Use 64-bit sequence numbers internally everywhere.\r\n&gt;     \r\n&gt;     Widen sequence numbers on entry to those public APIs that still take\r\n&gt;     32-bit sequence numbers.\r\n&gt;     \r\n&gt;     Signed-off-by: Jamey Sharp &lt;jamey@xxxxxx.xxx&gt;\r\n&gt; \r\n&gt; Reverting it on top of 1.8.1 helps.\r\n&gt; \r\n&gt; Adding traces to libxcb I found that the last request numbers used for\r\n&gt; xcb_wait_for_reply are these: 4294900463 and 4294965487 (two calls in\r\n&gt; the while loop of the _XReply function), half a second later: 63215\r\n&gt; (then XIOError is called). The widen_request is also 63215, I would\r\n&gt; have expected 63215+2^32. Therefore it seems that the request is not\r\n&gt; correctly widened.\r\n&gt; \r\n&gt; The commit above also changed the compares in poll_for_reply from\r\n&gt; XCB_SEQUENCE_COMPARE_32 to XCB_SEQUENCE_COMPARE. Maybe the widening\r\n&gt; never worked correctly, but it was never observed, because only the\r\n&gt; lower 32bits were compared.\r\n\r\n**Reproducing the issue**\r\n\r\nHere&#39;s the original code snippet from the submitted bug report which was used to reproduce the issue:\r\n\r\n      for(;;) {\r\n        XDrawLine(dpy, w, gc, 10, 60, 180, 20);\r\n        XFlush(dpy);\r\n      }\r\n\r\nand apparently the issue can be reproduced with even simpler code:\r\n\r\n     for(;;) {\r\n        XNoOp(dpy);\r\n      }\r\n\r\nAccording to submitted libxcb bug report these conditions are needed to reproduce (assuming the reproduce code is in xdraw.c):\r\n\r\n&gt; - libxcb &gt;= 1.8 (i.e. includes the commit ed37b08)\r\n&gt; - compiled with 32bit: gcc -m32 -lX11 -o xdraw xdraw.c\r\n&gt; - the sequence counter wraps.\r\n\r\n**Proposed patch**\r\n\r\nThe proposed patch which can be applied on top of libxcb 1.8.1 is this:\r\n\r\n    diff --git a/src/xcb_io.c b/src/xcb_io.c\r\n    index 300ef57..8616dce 100644\r\n    --- a/src/xcb_io.c\r\n    +++ b/src/xcb_io.c\r\n    @@ -454,7 +454,7 @@ void _XSend(Display *dpy, const char *data, long size)\r\n            static const xReq dummy_request;\r\n            static char const pad[3];\r\n            struct iovec vec[3];\r\n    -       uint64_t requests;\r\n    +       unsigned long requests;\r\n            _XExtension *ext;\r\n            xcb_connection_t *c = dpy-&gt;xcb-&gt;connection;\r\n            if(dpy-&gt;flags &amp; XlibDisplayIOError)\r\n    @@ -470,7 +470,7 @@ void _XSend(Display *dpy, const char *data, long size)\r\n            if(dpy-&gt;xcb-&gt;event_owner != XlibOwnsEventQueue || dpy-&gt;async_handlers)\r\n            {\r\n                    uint64_t sequence;\r\n    -               for(sequence = dpy-&gt;xcb-&gt;last_flushed + 1; sequence &lt;= dpy-&gt;request; ++sequence)\r\n    +               for(sequence = dpy-&gt;xcb-&gt;last_flushed + 1; (unsigned long) sequence &lt;= dpy-&gt;request; ++sequence)\r\n                            append_pending_request(dpy, sequence);\r\n            }\r\n            requests = dpy-&gt;request - dpy-&gt;xcb-&gt;last_flushed;\r\n\r\n\r\n**Detailed technical explanation**\r\n\r\nPlase find bellow included [detailed technical explanation by Jonas Petersen][2] (also included in the aforementioned bug report):\r\n\r\n&gt; Hi,\r\n&gt; \r\n&gt; Here&#39;s two patches. The first one fixes a 32-bit sequence wrap bug.\r\n&gt; The  second patch only adds a comment to another relevant statement.\r\n&gt; \r\n&gt; The patches contain some details. Here is the whole story for who\r\n&gt; might be  interested:\r\n&gt; \r\n&gt; Xlib (libx11) will crash an application with a &quot;Fatal IO error 11\r\n&gt; (Resource  temporarily unavailable)&quot; after 4 294 967 296 requests to\r\n&gt; the server. That is  when the Xlib internal 32-bit sequence wraps.\r\n&gt; \r\n&gt; Most applications probably will hardly reach this number, but if they\r\n&gt; do,  they have a chance to die a mysterious death. For example the\r\n&gt; application I&#39;m  working on did always crash after about 20 hours when\r\n&gt; I started to do some  stress testing. It does some intensive drawing\r\n&gt; through Xlib using gktmm2,  pixmaps and gc drawing at 40 frames per\r\n&gt; second in full hd resolution (on  Ubuntu). Some optimizations did\r\n&gt; extend the grace to about 35 hours but it  would still crash.\r\n&gt; \r\n&gt; What then followed was some frustrating weeks of digging and debugging\r\n&gt; to  realize that it&#39;s not in my application, nor in gtkmm, gtk or glib\r\n&gt; but that  it&#39;s this little bug in Xlib which exists since 2006-10-06\r\n&gt; apparently.\r\n&gt; \r\n&gt; It took a while to turn out that the number 0x100000000 (2^32) has\r\n&gt; some  relevance. (Much) later it turned out it can be reproduced with\r\n&gt; Xlib only,  using this code for example:\r\n&gt; \r\n&gt;   while(1) {\r\n&gt;       XDrawPoint(display, drawable, gc, x, y);\r\n&gt;       XFlush(display);   }\r\n&gt; \r\n&gt; It might take one or two hours, but when it reaches the 4294 million\r\n&gt; it will  explode into a &quot;Fatal IO error 11&quot;.\r\n&gt; \r\n&gt; What I then learned is that even though Xlib uses internal 32bit\r\n&gt; sequence  numbers they get (smartly) widened to 64bit in the process\r\n&gt; so that the 32bit  sequence may wrap without any disruption in the\r\n&gt; widened 64bit sequence.  Obviously there must be something wrong with\r\n&gt; that.\r\n&gt; \r\n&gt; The Fatal IO error is issued in _XReply() when it&#39;s not getting a\r\n&gt; reply where  there should be one, but the cause is earlier in _XSend()\r\n&gt; in the moment when  the Xlib 32-bit sequence number wraps.\r\n&gt; \r\n&gt; The problem is that when it wraps to 0, the value of &#39;last_flushed&#39;\r\n&gt; will  still be at the upper boundary (e.g. 0xffffffff). There is two\r\n&gt; locations in \r\n&gt; _XSend() (xcb_io.c) that fail in this state because they rely on those values  being sequential all the time, the first location is:\r\n&gt; \r\n&gt;   requests = dpy-&gt;request - dpy-&gt;xcb-&gt;last_flushed;\r\n&gt; \r\n&gt; I case of request = 0x0 and last_flushed = 0xffffffff it will assign \r\n&gt; 0xffffffff00000001 to &#39;requests&#39; and then to XCB as a number (amount)\r\n&gt; of  requests. This is the main killer.\r\n&gt; \r\n&gt; The second location is this:\r\n&gt; \r\n&gt;   for(sequence = dpy-&gt;xcb-&gt;last_flushed + 1; sequence &lt;= dpy-&gt;request;\r\n&gt; \\\r\n&gt;     ++sequence)\r\n&gt; \r\n&gt; I case of request = 0x0 (less than last_flushed) there is no chance to\r\n&gt; enter  the loop ever and as a result some requests are ignored.\r\n&gt; \r\n&gt; The solution is to &quot;unwrap&quot; dpy-&gt;request at these two locations and\r\n&gt; thus  retain the sequence related to last_flushed.\r\n&gt; \r\n&gt;   uint64_t unwrapped_request = ((uint64_t)(dpy-&gt;request &lt; \\\r\n&gt;     dpy-&gt;xcb-&gt;last_flushed) &lt;&lt; 32) + dpy-&gt;request;\r\n&gt; \r\n&gt; It creates a temporary 64-bit request number which has bit 8 set if\r\n&gt; &#39;request&#39;  is less than &#39;last_flushed&#39;. It is then used in the two\r\n&gt; locations instead of  dpy-&gt;request.\r\n&gt; \r\n&gt; I&#39;m not sure if it might be more efficient to use that statement\r\n&gt; inplace,  instead of using a variable.\r\n&gt; \r\n&gt; There is another line in require_socket() that worried me at first:\r\n&gt; \r\n&gt;   dpy-&gt;xcb-&gt;last_flushed = dpy-&gt;request = sent;\r\n&gt; \r\n&gt; That&#39;s a 64-bit, 32-bit, 64-bit assignment. It will truncate &#39;sent&#39; to\r\n&gt; 32-bit  when assinging it to &#39;request&#39; and then also assign the\r\n&gt; truncated value to  the (64-bit) &#39;last_flushed&#39;. But it seems inteded.\r\n&gt; I have added a note explaining that for the next poor  soul debugging\r\n&gt; sequence issues... :-)\r\n&gt; \r\n&gt; - Jonas\r\n&gt; \r\n&gt; Jonas Petersen (2):   xcb_io: Fix Xlib 32-bit request number wrapping \r\n&gt; xcb_io: Add comment explaining a mixed type double assignment\r\n&gt; \r\n&gt;  src/xcb_io.c |   14 +++++++++++---  1 file changed, 11 insertions(+),\r\n&gt; 3 deletions(-)\r\n&gt; \r\n&gt; -- \r\n&gt; 1.7.10.4\r\n\r\n\r\nGood luck!\r\n\r\n\r\n  [1]: https://bugs.freedesktop.org/show_bug.cgi?id=71338\r\n  [2]: http://lists.x.org/archives/xorg-devel/2013-October/038370.html","title":"_XReply() terminates app with _XIOError()","body":"<p>This is likely a known issue in libX11 regarding the handling of request numbers used for xcb_wait_for_reply. </p>\n\n<p>At some point after libxcb v1.5 code to use 64-bit sequence numbers internally everywhere was introduced and logic was added to widen sequence numbers on entry to those public APIs that still take 32-bit sequence numbers. </p>\n\n<p>Here is a quote from <a href=\"https://bugs.freedesktop.org/show_bug.cgi?id=71338\" rel=\"nofollow\">submitted libxcb bug report</a> (actual emails removed):</p>\n\n<blockquote>\n  <p>We have an application that does a lot of XDrawString and XDrawLine.\n  After several hours the application is exited by an XIOError.</p>\n  \n  <p>The XIOError is called in libX11 in the file xcb_io.c, function\n  _XReply. It didn't get a response from xcb_wait_for_reply.</p>\n  \n  <p>libxcb 1.5 is fine, libxcb 1.8.1 is not. Bisecting libxcb points to\n  this commit:</p>\n  \n  <p>commit ed37b087519ecb9e74412e4df8f8a217ab6d12a9   Author: Jamey\n  Sharp    Date:   Sat Oct 9 17:13:45 2010 -0700</p>\n\n<pre><code>xcb_in: Use 64-bit sequence numbers internally everywhere.\n\nWiden sequence numbers on entry to those public APIs that still take\n32-bit sequence numbers.\n\nSigned-off-by: Jamey Sharp &lt;jamey@xxxxxx.xxx&gt;\n</code></pre>\n  \n  <p>Reverting it on top of 1.8.1 helps.</p>\n  \n  <p>Adding traces to libxcb I found that the last request numbers used for\n  xcb_wait_for_reply are these: 4294900463 and 4294965487 (two calls in\n  the while loop of the _XReply function), half a second later: 63215\n  (then XIOError is called). The widen_request is also 63215, I would\n  have expected 63215+2^32. Therefore it seems that the request is not\n  correctly widened.</p>\n  \n  <p>The commit above also changed the compares in poll_for_reply from\n  XCB_SEQUENCE_COMPARE_32 to XCB_SEQUENCE_COMPARE. Maybe the widening\n  never worked correctly, but it was never observed, because only the\n  lower 32bits were compared.</p>\n</blockquote>\n\n<p><strong>Reproducing the issue</strong></p>\n\n<p>Here's the original code snippet from the submitted bug report which was used to reproduce the issue:</p>\n\n<pre><code>  for(;;) {\n    XDrawLine(dpy, w, gc, 10, 60, 180, 20);\n    XFlush(dpy);\n  }\n</code></pre>\n\n<p>and apparently the issue can be reproduced with even simpler code:</p>\n\n<pre><code> for(;;) {\n    XNoOp(dpy);\n  }\n</code></pre>\n\n<p>According to submitted libxcb bug report these conditions are needed to reproduce (assuming the reproduce code is in xdraw.c):</p>\n\n<blockquote>\n  <ul>\n  <li>libxcb >= 1.8 (i.e. includes the commit ed37b08)</li>\n  <li>compiled with 32bit: gcc -m32 -lX11 -o xdraw xdraw.c</li>\n  <li>the sequence counter wraps.</li>\n  </ul>\n</blockquote>\n\n<p><strong>Proposed patch</strong></p>\n\n<p>The proposed patch which can be applied on top of libxcb 1.8.1 is this:</p>\n\n<pre><code>diff --git a/src/xcb_io.c b/src/xcb_io.c\nindex 300ef57..8616dce 100644\n--- a/src/xcb_io.c\n+++ b/src/xcb_io.c\n@@ -454,7 +454,7 @@ void _XSend(Display *dpy, const char *data, long size)\n        static const xReq dummy_request;\n        static char const pad[3];\n        struct iovec vec[3];\n-       uint64_t requests;\n+       unsigned long requests;\n        _XExtension *ext;\n        xcb_connection_t *c = dpy-&gt;xcb-&gt;connection;\n        if(dpy-&gt;flags &amp; XlibDisplayIOError)\n@@ -470,7 +470,7 @@ void _XSend(Display *dpy, const char *data, long size)\n        if(dpy-&gt;xcb-&gt;event_owner != XlibOwnsEventQueue || dpy-&gt;async_handlers)\n        {\n                uint64_t sequence;\n-               for(sequence = dpy-&gt;xcb-&gt;last_flushed + 1; sequence &lt;= dpy-&gt;request; ++sequence)\n+               for(sequence = dpy-&gt;xcb-&gt;last_flushed + 1; (unsigned long) sequence &lt;= dpy-&gt;request; ++sequence)\n                        append_pending_request(dpy, sequence);\n        }\n        requests = dpy-&gt;request - dpy-&gt;xcb-&gt;last_flushed;\n</code></pre>\n\n<p><strong>Detailed technical explanation</strong></p>\n\n<p>Plase find bellow included <a href=\"http://lists.x.org/archives/xorg-devel/2013-October/038370.html\" rel=\"nofollow\">detailed technical explanation by Jonas Petersen</a> (also included in the aforementioned bug report):</p>\n\n<blockquote>\n  <p>Hi,</p>\n  \n  <p>Here's two patches. The first one fixes a 32-bit sequence wrap bug.\n  The  second patch only adds a comment to another relevant statement.</p>\n  \n  <p>The patches contain some details. Here is the whole story for who\n  might be  interested:</p>\n  \n  <p>Xlib (libx11) will crash an application with a \"Fatal IO error 11\n  (Resource  temporarily unavailable)\" after 4 294 967 296 requests to\n  the server. That is  when the Xlib internal 32-bit sequence wraps.</p>\n  \n  <p>Most applications probably will hardly reach this number, but if they\n  do,  they have a chance to die a mysterious death. For example the\n  application I'm  working on did always crash after about 20 hours when\n  I started to do some  stress testing. It does some intensive drawing\n  through Xlib using gktmm2,  pixmaps and gc drawing at 40 frames per\n  second in full hd resolution (on  Ubuntu). Some optimizations did\n  extend the grace to about 35 hours but it  would still crash.</p>\n  \n  <p>What then followed was some frustrating weeks of digging and debugging\n  to  realize that it's not in my application, nor in gtkmm, gtk or glib\n  but that  it's this little bug in Xlib which exists since 2006-10-06\n  apparently.</p>\n  \n  <p>It took a while to turn out that the number 0x100000000 (2^32) has\n  some  relevance. (Much) later it turned out it can be reproduced with\n  Xlib only,  using this code for example:</p>\n  \n  <p>while(1) {\n        XDrawPoint(display, drawable, gc, x, y);\n        XFlush(display);   }</p>\n  \n  <p>It might take one or two hours, but when it reaches the 4294 million\n  it will  explode into a \"Fatal IO error 11\".</p>\n  \n  <p>What I then learned is that even though Xlib uses internal 32bit\n  sequence  numbers they get (smartly) widened to 64bit in the process\n  so that the 32bit  sequence may wrap without any disruption in the\n  widened 64bit sequence.  Obviously there must be something wrong with\n  that.</p>\n  \n  <p>The Fatal IO error is issued in _XReply() when it's not getting a\n  reply where  there should be one, but the cause is earlier in _XSend()\n  in the moment when  the Xlib 32-bit sequence number wraps.</p>\n  \n  <p>The problem is that when it wraps to 0, the value of 'last_flushed'\n  will  still be at the upper boundary (e.g. 0xffffffff). There is two\n  locations in \n  _XSend() (xcb_io.c) that fail in this state because they rely on those values  being sequential all the time, the first location is:</p>\n  \n  <p>requests = dpy->request - dpy->xcb->last_flushed;</p>\n  \n  <p>I case of request = 0x0 and last_flushed = 0xffffffff it will assign \n  0xffffffff00000001 to 'requests' and then to XCB as a number (amount)\n  of  requests. This is the main killer.</p>\n  \n  <p>The second location is this:</p>\n  \n  <p>for(sequence = dpy->xcb->last_flushed + 1; sequence &lt;= dpy->request;\n  \\\n      ++sequence)</p>\n  \n  <p>I case of request = 0x0 (less than last_flushed) there is no chance to\n  enter  the loop ever and as a result some requests are ignored.</p>\n  \n  <p>The solution is to \"unwrap\" dpy->request at these two locations and\n  thus  retain the sequence related to last_flushed.</p>\n  \n  <p>uint64_t unwrapped_request = ((uint64_t)(dpy->request &lt; \\\n      dpy->xcb->last_flushed) &lt;&lt; 32) + dpy->request;</p>\n  \n  <p>It creates a temporary 64-bit request number which has bit 8 set if\n  'request'  is less than 'last_flushed'. It is then used in the two\n  locations instead of  dpy->request.</p>\n  \n  <p>I'm not sure if it might be more efficient to use that statement\n  inplace,  instead of using a variable.</p>\n  \n  <p>There is another line in require_socket() that worried me at first:</p>\n  \n  <p>dpy->xcb->last_flushed = dpy->request = sent;</p>\n  \n  <p>That's a 64-bit, 32-bit, 64-bit assignment. It will truncate 'sent' to\n  32-bit  when assinging it to 'request' and then also assign the\n  truncated value to  the (64-bit) 'last_flushed'. But it seems inteded.\n  I have added a note explaining that for the next poor  soul debugging\n  sequence issues... :-)</p>\n  \n  <ul>\n  <li>Jonas</li>\n  </ul>\n  \n  <p>Jonas Petersen (2):   xcb_io: Fix Xlib 32-bit request number wrapping \n  xcb_io: Add comment explaining a mixed type double assignment</p>\n  \n  <p>src/xcb_io.c |   14 +++++++++++---  1 file changed, 11 insertions(+),\n  3 deletions(-)</p>\n  \n  <p>-- \n  1.7.10.4</p>\n</blockquote>\n\n<p>Good luck!</p>\n"}],"owner":{"account_id":4524134,"reputation":13,"user_id":3676493,"display_name":"dudo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3561,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":23878227,"answer_count":1,"score":1,"last_activity_date":1642783489,"creation_date":1401111693,"question_id":23871516,"body_markdown":"We&#39;re developing some complexed application which consists of linux binary integrated with java jni calls (from JVM created in linux binary) from our custom made .jar file. All gui work is implemented and done by java part. Each time some gui property has to be changed or gui has to be repainted, it is done by jni call to JVM.\r\n\r\nComplete display/gui is repainted (or refreshed) as fast as JVM/java can handle it. It is done iteratively and frequently, few hunderds or thousands iterations per second.\r\n\r\nAfter some exact time, application is terminated with `exit(1)` which I caught with gdb to be called from `_XIOError()`. This termination can be repeated after more or less exact time period, e.g. after some 15h on x86 dual core 2.5GHz. If I use some slower computer, it lasts longer, like it is proportional to cpu/gpu speed. Some conclusion would be that some part of xorg ran out of some resource or something like that.\r\n\r\nHere is my backtrace:\r\n\r\n    #0  0xb7fe1424 in __kernel_vsyscall ()\r\n    #1  0xb7c50941 in raise () from /lib/i386-linux-gnu/i686/cmov/libc.so.6\r\n    #2  0xb7c53d72 in abort () from /lib/i386-linux-gnu/i686/cmov/libc.so.6\r\n    #3  0xb7fdc69d in exit () from /temp/bin/liboverrides.so\r\n    #4  0xa0005c80 in _XIOError () from /usr/lib/i386-linux-gnu/libX11.so.6\r\n    #5  0xa0003afe in _XReply () from /usr/lib/i386-linux-gnu/libX11.so.6\r\n    #6  0x9fffee7b in XSync () from /usr/lib/i386-linux-gnu/libX11.so.6\r\n    #7  0xa01232b8 in X11SD_GetSharedImage () from /usr/lib/jvm/jre1.8.0_20/lib/i386/libawt_xawt.so\r\n    #8  0xa012529e in X11SD_GetRasInfo () from /usr/lib/jvm/jre1.8.0_20/lib/i386/libawt_xawt.so\r\n    #9  0xa01aac3d in Java_sun_java2d_loops_ScaledBlit_Scale () from /usr/lib/jvm/jre1.8.0_20/lib/i386/libawt.so\r\n\r\nI made my own `exit()` call in liboverrides.so and used it with LD_PRELOAD to capture `exit()` call in gdb with help of `abort()`/SIGABRT.\r\nAfter some debugging of libX11 and libxcb, I noticed that `_XReply()` got NULL reply (response from `xcb_wait_for_reply()`) that causes call to `_XIOError()` and `exit(1)`. Going more deeply in libxcb in `xcb_wait_for_reply()` function, I noticed that one of the reasons it can return NULL reply is when it detects broken or closed socket connection, which could be my situation.\r\n\r\nFor test purposes, if I change xcb_io.c and ignore `_XIOError()`, application doesn&#39;t work any more. And if I repeat request inside `_XReply()`, it fails each time, i.e. gets NULL response on each `xcb_wait_for_reply()`.\r\n\r\nSo, my questions would be why such uncontrolled app termination with exit(1) from `_XReply()` -&gt; `XIOError()` -&gt; `exit(1)` happened or how can I find out reason why and what happened, so I can fix it or do some workaround.\r\n\r\nFor this problem to repeat, as I wrote above, I have to wait for some 15h, but currently I&#39;m very short on time for debuging and can&#39;t find the cause of problem/termination.\r\nWe also tried to reorganise java part which handles gui/display refresh, but the problem wasn&#39;t solved.\r\n\r\nSome SW facts:  \r\n- java jre 1.8.0_20, even with java 7 can repeat the problem  \r\n- libX11.so 1.5.0  \r\n- libxcb.so 1.8.1  \r\n- debian wheezy  \r\n- kernel 3.2.0  ","title":"_XReply() terminates app with _XIOError()","body":"<p>We're developing some complexed application which consists of linux binary integrated with java jni calls (from JVM created in linux binary) from our custom made .jar file. All gui work is implemented and done by java part. Each time some gui property has to be changed or gui has to be repainted, it is done by jni call to JVM.</p>\n\n<p>Complete display/gui is repainted (or refreshed) as fast as JVM/java can handle it. It is done iteratively and frequently, few hunderds or thousands iterations per second.</p>\n\n<p>After some exact time, application is terminated with <code>exit(1)</code> which I caught with gdb to be called from <code>_XIOError()</code>. This termination can be repeated after more or less exact time period, e.g. after some 15h on x86 dual core 2.5GHz. If I use some slower computer, it lasts longer, like it is proportional to cpu/gpu speed. Some conclusion would be that some part of xorg ran out of some resource or something like that.</p>\n\n<p>Here is my backtrace:</p>\n\n<pre><code>#0  0xb7fe1424 in __kernel_vsyscall ()\n#1  0xb7c50941 in raise () from /lib/i386-linux-gnu/i686/cmov/libc.so.6\n#2  0xb7c53d72 in abort () from /lib/i386-linux-gnu/i686/cmov/libc.so.6\n#3  0xb7fdc69d in exit () from /temp/bin/liboverrides.so\n#4  0xa0005c80 in _XIOError () from /usr/lib/i386-linux-gnu/libX11.so.6\n#5  0xa0003afe in _XReply () from /usr/lib/i386-linux-gnu/libX11.so.6\n#6  0x9fffee7b in XSync () from /usr/lib/i386-linux-gnu/libX11.so.6\n#7  0xa01232b8 in X11SD_GetSharedImage () from /usr/lib/jvm/jre1.8.0_20/lib/i386/libawt_xawt.so\n#8  0xa012529e in X11SD_GetRasInfo () from /usr/lib/jvm/jre1.8.0_20/lib/i386/libawt_xawt.so\n#9  0xa01aac3d in Java_sun_java2d_loops_ScaledBlit_Scale () from /usr/lib/jvm/jre1.8.0_20/lib/i386/libawt.so\n</code></pre>\n\n<p>I made my own <code>exit()</code> call in liboverrides.so and used it with LD_PRELOAD to capture <code>exit()</code> call in gdb with help of <code>abort()</code>/SIGABRT.\nAfter some debugging of libX11 and libxcb, I noticed that <code>_XReply()</code> got NULL reply (response from <code>xcb_wait_for_reply()</code>) that causes call to <code>_XIOError()</code> and <code>exit(1)</code>. Going more deeply in libxcb in <code>xcb_wait_for_reply()</code> function, I noticed that one of the reasons it can return NULL reply is when it detects broken or closed socket connection, which could be my situation.</p>\n\n<p>For test purposes, if I change xcb_io.c and ignore <code>_XIOError()</code>, application doesn't work any more. And if I repeat request inside <code>_XReply()</code>, it fails each time, i.e. gets NULL response on each <code>xcb_wait_for_reply()</code>.</p>\n\n<p>So, my questions would be why such uncontrolled app termination with exit(1) from <code>_XReply()</code> -> <code>XIOError()</code> -> <code>exit(1)</code> happened or how can I find out reason why and what happened, so I can fix it or do some workaround.</p>\n\n<p>For this problem to repeat, as I wrote above, I have to wait for some 15h, but currently I'm very short on time for debuging and can't find the cause of problem/termination.\nWe also tried to reorganise java part which handles gui/display refresh, but the problem wasn't solved.</p>\n\n<p>Some SW facts:<br>\n- java jre 1.8.0_20, even with java 7 can repeat the problem<br>\n- libX11.so 1.5.0<br>\n- libxcb.so 1.8.1<br>\n- debian wheezy<br>\n- kernel 3.2.0  </p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":2,"creation_date":1458424740,"post_id":36107614,"comment_id":59857189,"body_markdown":"I&#39;d advise you to stop making that student mistake of focusing on user interactions and inputs to the exclusion of developing an API and thinking about how the calculations should work.  Get those right with hardwired or simple test inputs and then worry about how users will supply the data you need.","body":"I&#39;d advise you to stop making that student mistake of focusing on user interactions and inputs to the exclusion of developing an API and thinking about how the calculations should work.  Get those right with hardwired or simple test inputs and then worry about how users will supply the data you need."}],"answers":[{"tags":[],"owner":{"account_id":7622650,"reputation":201,"user_id":5780243,"accept_rate":85,"display_name":"john"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1458424927,"creation_date":1458424620,"answer_id":36107685,"question_id":36107614,"body_markdown":"    public static String weekDay(int i, int[] array)\r\n\r\nIn this method, you&#39;re suppose to return a String type value\r\n\r\n\r\nedit: change the string variable to other name. you can&#39;t have it the same as the method&#39;s name\r\n","title":"Java - Displaying the temperature statistics of the week using arrays","body":"<pre><code>public static String weekDay(int i, int[] array)\n</code></pre>\n\n<p>In this method, you're suppose to return a String type value</p>\n\n<p>edit: change the string variable to other name. you can't have it the same as the method's name</p>\n"},{"tags":[],"owner":{"account_id":6577131,"reputation":163,"user_id":5082723,"display_name":"skeidsberget2365"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1458424764,"creation_date":1458424764,"answer_id":36107709,"question_id":36107614,"body_markdown":"In the last statement of you main method you do `System.out.print(weekDay(tempList,maxTemp));`\r\nweekDay takes an `int` as the first argument, but tempList is of type `int[]`. You should swap the order of tempList and maxTemp either in your method call or definition.","title":"Java - Displaying the temperature statistics of the week using arrays","body":"<p>In the last statement of you main method you do <code>System.out.print(weekDay(tempList,maxTemp));</code>\nweekDay takes an <code>int</code> as the first argument, but tempList is of type <code>int[]</code>. You should swap the order of tempList and maxTemp either in your method call or definition.</p>\n"},{"tags":[],"owner":{"account_id":4349952,"reputation":2028,"user_id":3550662,"accept_rate":100,"display_name":"Keno"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1458482321,"creation_date":1458425157,"answer_id":36107778,"question_id":36107614,"body_markdown":"I went and checked the code using the website you linked. \r\n\r\n 1. Firstly, you should learn to use the debugger, as it will usually tell you what the error is and where to find it. \r\n\r\n&gt;     Main.java:42: error: incompatible types: int[] cannot be converted to int\r\n\tSystem.out.print(weekDay(tempList,maxTemp));\r\n\t\t                         ^\r\n\r\nHere it points to an error on the data type of `tempList`. It&#39;s saying that an int array cannot be converted to an int. If you look at the `weekDay()` function you&#39;ll see that the first argument is asking for an int, but you are passing an int array. It won&#39;t work.\r\n\r\n    public static String weekDay(int i, int[] array)\r\n\r\n**EDIT**: If you want to pass a specific value into the function from the array just use \r\n\r\n    System.out.print(weekDay(tempList[IntegerPosition],maxTemp));\r\n                                            ^\r\n\r\n----------\r\n\r\n\r\n   2.     \r\n        Main.java:104: error: cannot find symbol\r\n\t\treturn weekDay;\r\n\t\t       ^\r\n\r\nThis simply means it can&#39;t find the variable in the current scope. There&#39;s a lot to learn about this, but I&#39;ll just get to the point.\r\n\r\n    \t// Return days\r\n\t    public static String weekDay(int i, int[] array)\r\n\t    {\r\n\t\t    int[] displayWeekDay = searchTemp(array, i);\r\n            String weekDay = &quot;&quot;;\r\n\t\t    for(i = 0; i &lt; displayWeekDay.length; i++){\r\n \r\n\t\t\t    //String weekDay = &quot;&quot;; Declare weekDay outside of the loop\r\n\t\t\t    switch(i)\r\n\t\t\t    {\r\n                    //Assign a value to weekDay, simply returning won&#39;t do it\r\n\t\t\t\t    case 0: weekDay = &quot;Sunday&quot;; break;\r\n\t\t\t\t    case 1: weekDay = &quot;Monday&quot;; break;\r\n\t\t\t\t    case 2: weekDay = &quot;Tuesday&quot;; break;\r\n\t\t\t\t    case 3: weekDay = &quot;Wednesdays&quot;; break;\r\n\t\t\t\t    case 4: weekDay = &quot;Thursday&quot;; break;\r\n\t\t\t\t    case 5: weekDay = &quot;Friday&quot;; break;\r\n\t\t\t\t    case 6: weekDay = &quot;Saturday&quot;; break;\r\n\t\t\t    }\r\n\t\t    }\r\n\t\t    return weekDay;\r\n\t    }\r\n\r\n**EDIT 2**: As per the discussion, this is what I would do in order to be able to print multiple days that had the highest temperature\r\n\r\n    //Call the function directly without putting a print statement around it\r\n    weekDay(maxTemp,tempList)); \r\n    //...\r\n\t// Return days\r\n\tpublic static void weekDay(int i, int[] array) //Change the return type to void\r\n\t{\r\n\t\tint[] displayWeekDay = searchTemp(array, i);\r\n\t\tfor(i = 0; i &lt; displayWeekDay.length; i++){\r\n\t\t\tswitch(displayWeekDay[i])\r\n\t\t\t{\r\n                //Print each one\r\n\t\t\t\tcase 0: System.out.println(&quot;Sunday&quot;); break;\r\n\t\t\t\tcase 1: System.out.println(&quot;Monday&quot;); break;\r\n\t\t\t\tcase 2: System.out.println(&quot;Tuesday&quot;); break;\r\n\t\t\t\tcase 3: System.out.println(&quot;Wednesday&quot;); break;\r\n\t\t\t\tcase 4: System.out.println(&quot;Thursday&quot;); break;\r\n\t\t\t\tcase 5: System.out.println(&quot;Friday&quot;); break;\r\n\t\t\t\tcase 6: System.out.println(&quot;Saturday&quot;); break;\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"Java - Displaying the temperature statistics of the week using arrays","body":"<p>I went and checked the code using the website you linked. </p>\n\n<ol>\n<li>Firstly, you should learn to use the debugger, as it will usually tell you what the error is and where to find it. </li>\n</ol>\n\n<blockquote>\n<pre><code>Main.java:42: error: incompatible types: int[] cannot be converted to int\nSystem.out.print(weekDay(tempList,maxTemp));\n                             ^\n</code></pre>\n</blockquote>\n\n<p>Here it points to an error on the data type of <code>tempList</code>. It's saying that an int array cannot be converted to an int. If you look at the <code>weekDay()</code> function you'll see that the first argument is asking for an int, but you are passing an int array. It won't work.</p>\n\n<pre><code>public static String weekDay(int i, int[] array)\n</code></pre>\n\n<p><strong>EDIT</strong>: If you want to pass a specific value into the function from the array just use </p>\n\n<pre><code>System.out.print(weekDay(tempList[IntegerPosition],maxTemp));\n                                        ^\n</code></pre>\n\n<hr>\n\n<ol start=\"2\">\n<li><pre><code>Main.java:104: error: cannot find symbol\nreturn weekDay;\n       ^\n</code></pre></li>\n</ol>\n\n<p>This simply means it can't find the variable in the current scope. There's a lot to learn about this, but I'll just get to the point.</p>\n\n<pre><code>    // Return days\n    public static String weekDay(int i, int[] array)\n    {\n        int[] displayWeekDay = searchTemp(array, i);\n        String weekDay = \"\";\n        for(i = 0; i &lt; displayWeekDay.length; i++){\n\n            //String weekDay = \"\"; Declare weekDay outside of the loop\n            switch(i)\n            {\n                //Assign a value to weekDay, simply returning won't do it\n                case 0: weekDay = \"Sunday\"; break;\n                case 1: weekDay = \"Monday\"; break;\n                case 2: weekDay = \"Tuesday\"; break;\n                case 3: weekDay = \"Wednesdays\"; break;\n                case 4: weekDay = \"Thursday\"; break;\n                case 5: weekDay = \"Friday\"; break;\n                case 6: weekDay = \"Saturday\"; break;\n            }\n        }\n        return weekDay;\n    }\n</code></pre>\n\n<p><strong>EDIT 2</strong>: As per the discussion, this is what I would do in order to be able to print multiple days that had the highest temperature</p>\n\n<pre><code>//Call the function directly without putting a print statement around it\nweekDay(maxTemp,tempList)); \n//...\n// Return days\npublic static void weekDay(int i, int[] array) //Change the return type to void\n{\n    int[] displayWeekDay = searchTemp(array, i);\n    for(i = 0; i &lt; displayWeekDay.length; i++){\n        switch(displayWeekDay[i])\n        {\n            //Print each one\n            case 0: System.out.println(\"Sunday\"); break;\n            case 1: System.out.println(\"Monday\"); break;\n            case 2: System.out.println(\"Tuesday\"); break;\n            case 3: System.out.println(\"Wednesday\"); break;\n            case 4: System.out.println(\"Thursday\"); break;\n            case 5: System.out.println(\"Friday\"); break;\n            case 6: System.out.println(\"Saturday\"); break;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8077324,"reputation":11,"user_id":6087874,"display_name":"Tim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1458428239,"creation_date":1458428239,"answer_id":36108228,"question_id":36107614,"body_markdown":"Addressing each issue on it&#39;s own:\r\n\r\n1. &quot;incompatible types: int[] cannot be converted to int&quot; issue\r\n\r\nThis is being caused by the line `System.out.print(weekDay(tempList,maxTemp));`. The method signature for the weekDay method is `public static String weekDay(int i, int[] array)` however the method is being called with arguments in the wrong order - `tempList` is of type `int[]` and `maxTemp` is of type `int`. Reversing the arguments in either the method call or the method signature will resolve the error.\r\n\r\n2. &quot;error: cannot find symbol&quot;\r\n\r\nThis is an issue related to variable scope. When a variable is declared (e.g. `int i;` or `String name = &quot;John&quot;;`), that variable can only be used within the scope that it is declared in. In the `weekDay` method the `weekDay` variable is declared inside the `for` loop (i.e. inside of the braces associated with the `for` loop). As such the `weekDay` variable only has the scope of the `for` loop, and cannot be referenced outside of that scope. Moving the declaration of `weekDay` outside of the `for` loop will fix the issue. See [here][1] for more information on variable scope rules.\r\n\r\n\r\n  [1]: http://www.java-made-easy.com/variable-scope.html","title":"Java - Displaying the temperature statistics of the week using arrays","body":"<p>Addressing each issue on it's own:</p>\n\n<ol>\n<li>\"incompatible types: int[] cannot be converted to int\" issue</li>\n</ol>\n\n<p>This is being caused by the line <code>System.out.print(weekDay(tempList,maxTemp));</code>. The method signature for the weekDay method is <code>public static String weekDay(int i, int[] array)</code> however the method is being called with arguments in the wrong order - <code>tempList</code> is of type <code>int[]</code> and <code>maxTemp</code> is of type <code>int</code>. Reversing the arguments in either the method call or the method signature will resolve the error.</p>\n\n<ol start=\"2\">\n<li>\"error: cannot find symbol\"</li>\n</ol>\n\n<p>This is an issue related to variable scope. When a variable is declared (e.g. <code>int i;</code> or <code>String name = \"John\";</code>), that variable can only be used within the scope that it is declared in. In the <code>weekDay</code> method the <code>weekDay</code> variable is declared inside the <code>for</code> loop (i.e. inside of the braces associated with the <code>for</code> loop). As such the <code>weekDay</code> variable only has the scope of the <code>for</code> loop, and cannot be referenced outside of that scope. Moving the declaration of <code>weekDay</code> outside of the <code>for</code> loop will fix the issue. See <a href=\"http://www.java-made-easy.com/variable-scope.html\" rel=\"nofollow\">here</a> for more information on variable scope rules.</p>\n"},{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1458434064,"creation_date":1458434064,"answer_id":36108957,"question_id":36107614,"body_markdown":"Like I said, think about the API first, input later.  This implementation assumes JDK 8 and lambdas:\r\n\r\n\r\n    import java.util.Date;\r\n    import java.util.Map;\r\n    import java.util.TreeMap;\r\n    import java.util.stream.Collectors;\r\n    \r\n    /**\r\n     * Created by Michael\r\n     * Creation date 3/19/2016.\r\n     * @link https://stackoverflow.com/questions/36107614/java-displaying-the-temperature-statistics-of-the-week-using-arrays\r\n     */\r\n    public class TemperatureHistory {\r\n    \r\n        private Map&lt;Date, Double&gt; temperatureHistory = new TreeMap&lt;&gt;();\r\n    \r\n        public void addDataPoint(Date date, Double temperature) {\r\n            if (date != null &amp;&amp; temperature != null) {\r\n                this.temperatureHistory.put(date, temperature);\r\n            }\r\n        }\r\n    \r\n        public Double getAverageTemperature() {\r\n            double averageTemperature = 0.0;\r\n            if (this.temperatureHistory.size() &gt; 0) {\r\n                averageTemperature = this.temperatureHistory.values()\r\n                        .stream()\r\n                        .collect(Collectors.averagingDouble(value -&gt; value));\r\n            }\r\n            return averageTemperature;\r\n        }\r\n    \r\n        public Double getMaxTemperature() {\r\n            return this.temperatureHistory.entrySet()\r\n                    .stream()\r\n                    .max((e1, e2) -&gt; e1.getValue().compareTo(e2.getValue()))\r\n                    .get()\r\n                    .getValue();\r\n        }\r\n    \r\n        public Double getMinTemperature() {\r\n            return this.temperatureHistory.entrySet()\r\n                    .stream()\r\n                    .min((e1, e2) -&gt; e1.getValue().compareTo(e2.getValue()))\r\n                    .get()\r\n                    .getValue();\r\n        }\r\n    \r\n        public Date getFirstDateForTemperature(Double temperature) {\r\n            return this.temperatureHistory.entrySet()\r\n                    .stream()\r\n                    .filter(e -&gt; e.getValue().equals(temperature))\r\n                    .map(Map.Entry::getKey)\r\n                    .findFirst()\r\n                    .orElse(null);\r\n        }\r\n    \r\n        public Date getDateMinTemperature() {\r\n            return this.getFirstDateForTemperature(this.getMinTemperature());\r\n        }\r\n    \r\n        public Date getDateMaxTemperature() {\r\n            return this.getFirstDateForTemperature(this.getMaxTemperature());\r\n        }\r\n    }\r\n\r\n","title":"Java - Displaying the temperature statistics of the week using arrays","body":"<p>Like I said, think about the API first, input later.  This implementation assumes JDK 8 and lambdas:</p>\n\n<pre><code>import java.util.Date;\nimport java.util.Map;\nimport java.util.TreeMap;\nimport java.util.stream.Collectors;\n\n/**\n * Created by Michael\n * Creation date 3/19/2016.\n * @link https://stackoverflow.com/questions/36107614/java-displaying-the-temperature-statistics-of-the-week-using-arrays\n */\npublic class TemperatureHistory {\n\n    private Map&lt;Date, Double&gt; temperatureHistory = new TreeMap&lt;&gt;();\n\n    public void addDataPoint(Date date, Double temperature) {\n        if (date != null &amp;&amp; temperature != null) {\n            this.temperatureHistory.put(date, temperature);\n        }\n    }\n\n    public Double getAverageTemperature() {\n        double averageTemperature = 0.0;\n        if (this.temperatureHistory.size() &gt; 0) {\n            averageTemperature = this.temperatureHistory.values()\n                    .stream()\n                    .collect(Collectors.averagingDouble(value -&gt; value));\n        }\n        return averageTemperature;\n    }\n\n    public Double getMaxTemperature() {\n        return this.temperatureHistory.entrySet()\n                .stream()\n                .max((e1, e2) -&gt; e1.getValue().compareTo(e2.getValue()))\n                .get()\n                .getValue();\n    }\n\n    public Double getMinTemperature() {\n        return this.temperatureHistory.entrySet()\n                .stream()\n                .min((e1, e2) -&gt; e1.getValue().compareTo(e2.getValue()))\n                .get()\n                .getValue();\n    }\n\n    public Date getFirstDateForTemperature(Double temperature) {\n        return this.temperatureHistory.entrySet()\n                .stream()\n                .filter(e -&gt; e.getValue().equals(temperature))\n                .map(Map.Entry::getKey)\n                .findFirst()\n                .orElse(null);\n    }\n\n    public Date getDateMinTemperature() {\n        return this.getFirstDateForTemperature(this.getMinTemperature());\n    }\n\n    public Date getDateMaxTemperature() {\n        return this.getFirstDateForTemperature(this.getMaxTemperature());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7642075,"reputation":131,"user_id":5896589,"accept_rate":67,"display_name":"Flinze"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14304,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":36107778,"answer_count":5,"score":0,"last_activity_date":1642783291,"creation_date":1458424188,"question_id":36107614,"body_markdown":"I am currently working on a problem set for an assignment at school, and I&#39;m really close to finishing however I&#39;m getting a few compilation errors. \r\n\r\nThe problem set includes displaying the weeks avg. temp, highest temp., lowest temp., and the days of the week that are hottest and coldest. \r\n\r\nCurrently what I&#39;m trying to do is display the days of the week that are hottest, and if I work that out I can easily find the coldest days of the week.\r\n\r\nI&#39;m getting a few compilation errors when I try to compile the code which includes\r\n\r\n- incompatible types: int[] cannot be converted to int\r\n\r\n- error: cannot find symbol\r\n\r\n\r\nIt would be great if I could get some guidance on what to do, I&#39;m currently at lost right now.\r\n\r\nhttp://ideone.com/rOqV2Z\r\n\r\n    public class test1\r\n    {\r\n\t// Main method\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t\t// Create a new scanner\r\n\t\tScanner input = new Scanner(System.in);\r\n\t\t\r\n\t\t// Set array list\r\n\t\tint[] tempList = new int[7];\r\n\t\t\r\n\t\t// Prompt user for input and store input\r\n\t\tSystem.out.println(&quot;Enter the hightest temperature of each day for a week (starting on Sunday): &quot;);\r\n\t\t\tfor(int i = 0; i &lt; tempList.length; i++)\r\n\t\t\t\ttempList[i] = input.nextInt();\r\n\t\t\r\n\t\t// Averages temperature - @@@@@@@ ASK WHY IT THERE ARE SO MANY DECIMALS ON THE SIDE WHEN AVERAGE ALL 1&#39;s\r\n\t\tdouble avgTemp = avgTemp(tempList);\r\n\t\t\tSystem.out.printf(&quot;The average temperature of the week is: %.2f degree %n&quot;, avgTemp);\r\n\t\t\r\n\t\t// Display hottest temperature\r\n\t\tint maxTemp = maxTemp(tempList);\r\n\t\t\tSystem.out.println(&quot;The highest temperature of the week is: &quot; + maxTemp + &quot; degree&quot;);\r\n\t\t\r\n\t\t// Display coldest temperature\r\n\t\tint minTemp = minTemp(tempList);\r\n\t\t\tSystem.out.println(&quot;The coldest temperature of the week is: &quot; + minTemp + &quot; degree&quot;);\r\n\t\t\r\n\t\t\r\n\t\tint[] maxTempList = searchTemp(tempList, maxTemp);\r\n\t\t\r\n\t\tfor(int i = 0; i &lt; maxTempList.length; i++){\r\n\t\t\tSystem.out.print(&quot;The hottest days of the week are: &quot; +maxTempList[i]);\r\n\t\r\n\t\tSystem.out.print(weekDay(tempList,maxTemp));\r\n\t\t}\r\n\t}\r\n\t\r\n\t// Average the temperature\r\n\tpublic static double avgTemp(int[] array)\r\n\t{\r\n\t\tint tempTotal = array[0];\r\n\t\t\r\n\t\t// Total temperature values\r\n\t\tfor(int i = 0; i &lt; array.length; i++)\r\n\t\t\ttempTotal = array[i]+tempTotal;\r\n\t\t\r\n\t\t// Return temperature average.\r\n\t\treturn ((double)tempTotal/array.length);\r\n\t}\r\n\t\r\n\t// Get hottest temperature\r\n\tpublic static int maxTemp(int[] array)\r\n\t{\r\n\t\tint max = array[0];\r\n\t\t\r\n\t\t// Check and replace max temp\r\n\t\tfor(int i = 1; i &lt; array.length; i++){\r\n\t\t\tif(max &lt; array[i])\r\n\t\t\t\tmax = array[i];\r\n\t\t\t\r\n\t\t}\r\n\t\treturn max;\r\n\t}\r\n\t\r\n\t// Get coldest temperature\r\n\tpublic static int minTemp(int[] array)\r\n\t{\r\n\t\tint min = array[0];\r\n\t\tfor(int i = 1; i &lt; array.length; i++){\r\n\t\t\tif(min &gt; array[i])\r\n\t\t\t\tmin = array[i];\r\n\t\t}\r\n\t\treturn min;\r\n\t}\r\n\t\r\n\t\r\n\t// Return days\r\n\tpublic static String weekDay(int i, int[] array)\r\n\t{\r\n\t\tint[] displayWeekDay = searchTemp(array, i);\r\n\t\t\r\n\t\tfor(i = 0; i &lt; displayWeekDay.length; i++){\r\n\t\t\t\r\n\t\t\tString weekDay = &quot;&quot;;\r\n\t\t\tswitch(i)\r\n\t\t\t{\r\n\t\t\t\tcase 0: return &quot;Sunday&quot;;\r\n\t\t\t\tcase 1: return &quot;Monday&quot;;\r\n\t\t\t\tcase 2: return &quot;Tuesday&quot;;\r\n\t\t\t\tcase 3: return &quot;Wednesdays&quot;;\r\n\t\t\t\tcase 4: return &quot;Thursday&quot;;\r\n\t\t\t\tcase 5: return &quot;Friday&quot;;\r\n\t\t\t\tcase 6: return &quot;Saturday&quot;;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn weekDay;\r\n\t}\r\n\t\r\n\t\r\n\t// Finds the index of the hottest/coldest days\r\n\tpublic static int[] searchTemp(int[] temp, int key)\r\n\t{\r\n\t\tint count = 0;\r\n\t\tfor(int i = 0; i &lt; temp.length; i++){\r\n\t\t\tif(temp[i] == key)\r\n\t\t\t\tcount++;\r\n\t\t}\r\n\t\t\r\n\t\tint[] index = new int[count];\r\n\t\tfor(int j = 0; j &lt; index.length; j++){\r\n\t\t\tfor(int i = 0; i &lt; temp.length; i++){\r\n\t\t\t\tif(temp[i] == key){\r\n\t\t\t\t\tif(j &gt; 0 &amp;&amp; index[j - 1] == i)\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tindex[j] = i;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn index;\r\n\t}\r\n}","title":"Java - Displaying the temperature statistics of the week using arrays","body":"<p>I am currently working on a problem set for an assignment at school, and I'm really close to finishing however I'm getting a few compilation errors. </p>\n\n<p>The problem set includes displaying the weeks avg. temp, highest temp., lowest temp., and the days of the week that are hottest and coldest. </p>\n\n<p>Currently what I'm trying to do is display the days of the week that are hottest, and if I work that out I can easily find the coldest days of the week.</p>\n\n<p>I'm getting a few compilation errors when I try to compile the code which includes</p>\n\n<ul>\n<li><p>incompatible types: int[] cannot be converted to int</p></li>\n<li><p>error: cannot find symbol</p></li>\n</ul>\n\n<p>It would be great if I could get some guidance on what to do, I'm currently at lost right now.</p>\n\n<p><a href=\"http://ideone.com/rOqV2Z\" rel=\"nofollow\">http://ideone.com/rOqV2Z</a></p>\n\n<pre><code>public class test1\n{\n// Main method\npublic static void main(String[] args)\n{\n    // Create a new scanner\n    Scanner input = new Scanner(System.in);\n\n    // Set array list\n    int[] tempList = new int[7];\n\n    // Prompt user for input and store input\n    System.out.println(\"Enter the hightest temperature of each day for a week (starting on Sunday): \");\n        for(int i = 0; i &lt; tempList.length; i++)\n            tempList[i] = input.nextInt();\n\n    // Averages temperature - @@@@@@@ ASK WHY IT THERE ARE SO MANY DECIMALS ON THE SIDE WHEN AVERAGE ALL 1's\n    double avgTemp = avgTemp(tempList);\n        System.out.printf(\"The average temperature of the week is: %.2f degree %n\", avgTemp);\n\n    // Display hottest temperature\n    int maxTemp = maxTemp(tempList);\n        System.out.println(\"The highest temperature of the week is: \" + maxTemp + \" degree\");\n\n    // Display coldest temperature\n    int minTemp = minTemp(tempList);\n        System.out.println(\"The coldest temperature of the week is: \" + minTemp + \" degree\");\n\n\n    int[] maxTempList = searchTemp(tempList, maxTemp);\n\n    for(int i = 0; i &lt; maxTempList.length; i++){\n        System.out.print(\"The hottest days of the week are: \" +maxTempList[i]);\n\n    System.out.print(weekDay(tempList,maxTemp));\n    }\n}\n\n// Average the temperature\npublic static double avgTemp(int[] array)\n{\n    int tempTotal = array[0];\n\n    // Total temperature values\n    for(int i = 0; i &lt; array.length; i++)\n        tempTotal = array[i]+tempTotal;\n\n    // Return temperature average.\n    return ((double)tempTotal/array.length);\n}\n\n// Get hottest temperature\npublic static int maxTemp(int[] array)\n{\n    int max = array[0];\n\n    // Check and replace max temp\n    for(int i = 1; i &lt; array.length; i++){\n        if(max &lt; array[i])\n            max = array[i];\n\n    }\n    return max;\n}\n\n// Get coldest temperature\npublic static int minTemp(int[] array)\n{\n    int min = array[0];\n    for(int i = 1; i &lt; array.length; i++){\n        if(min &gt; array[i])\n            min = array[i];\n    }\n    return min;\n}\n\n\n// Return days\npublic static String weekDay(int i, int[] array)\n{\n    int[] displayWeekDay = searchTemp(array, i);\n\n    for(i = 0; i &lt; displayWeekDay.length; i++){\n\n        String weekDay = \"\";\n        switch(i)\n        {\n            case 0: return \"Sunday\";\n            case 1: return \"Monday\";\n            case 2: return \"Tuesday\";\n            case 3: return \"Wednesdays\";\n            case 4: return \"Thursday\";\n            case 5: return \"Friday\";\n            case 6: return \"Saturday\";\n        }\n    }\n    return weekDay;\n}\n\n\n// Finds the index of the hottest/coldest days\npublic static int[] searchTemp(int[] temp, int key)\n{\n    int count = 0;\n    for(int i = 0; i &lt; temp.length; i++){\n        if(temp[i] == key)\n            count++;\n    }\n\n    int[] index = new int[count];\n    for(int j = 0; j &lt; index.length; j++){\n        for(int i = 0; i &lt; temp.length; i++){\n            if(temp[i] == key){\n                if(j &gt; 0 &amp;&amp; index[j - 1] == i)\n                    continue;\n                else{\n                    index[j] = i;\n                    break;\n                }\n            }\n        }\n    }\n    return index;\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","android","bluetooth-lowenergy"],"comments":[{"owner":{"account_id":7916052,"reputation":1505,"user_id":5978440,"display_name":"Sniffer"},"score":0,"creation_date":1596445069,"post_id":63188902,"comment_id":111803212,"body_markdown":"Hello Rushita, I try read string from BLE device but failed to read. Can you help me to resolved my issue.","body":"Hello Rushita, I try read string from BLE device but failed to read. Can you help me to resolved my issue."}],"owner":{"account_id":19199201,"reputation":21,"user_id":14027461,"display_name":"Rushita Dobariya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":391,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1642783280,"creation_date":1596186466,"question_id":63188902,"body_markdown":"I am trying to connect the **Thermometer** with an android device using BLE. I am getting proper results using Gatt characteristics specifications and services. but there is one custom service I am getting from the device. \r\n\r\nCUSTOM service (`UUID = 00001523-1212-EFDE-1523-785FEABCD123`)\r\n\r\nCUSTOM characteristic (`UUID = 00001524-1212-EFDE-1523-785FEABCD123`) [marked as `WRITE/INDICATE/NOTIFY` in smartphone app)\r\n\r\ndescriptor (`UUID = 00002902-0000-1000-8000-00805F9B34FB` marked as READ in smartphone app)\r\n\r\nand listing several 8-byte commands to send to the meter waiting for an 8-byte response from it.\r\n\r\n Commands are sent using a frame with this format below :\r\n\r\n    [0x51 0x26 0x00 0x00 0x00 0x00 0xA3 CHK-SUM]\r\n\r\nwhere the checksum is the summation of 1..7 byte.\r\n \r\nbut How to send this command?\r\n```\r\n byte[] buffer = new byte[8];\r\n                     \r\n\r\n    req_frame[0] = (byte) 0x51;\r\n    req_frame[1] = (byte) 0x26;\r\n    req_frame[2] = (byte) 0x00;\r\n    req_frame[3] = (byte) 0x00;\r\n    req_frame[4] = (byte) 0x00;\r\n    req_frame[5] = (byte) 0x00;\r\n    req_frame[6] = (byte) 0xA3;\r\n    req_frame[7] = (byte) 0xE6;\r\n                        characteristic.setValue(buffer);\r\n                        characteristic.setWriteType(BluetoothGattCharacteristic.WRITE_TYPE_DEFAULT);\r\n                        peripheral.writeCharacteristic(characteristic, buffer, BluetoothGattCharacteristic.WRITE_TYPE_DEFAULT);\r\n\r\n```\r\nOnCharacteristicWrite gives response success. but onCharacteristicChanged not called.\r\n\r\nHow to work with this type of Protocol?","title":"Read/Write characteristic using custom service BLE in Android","body":"<p>I am trying to connect the <strong>Thermometer</strong> with an android device using BLE. I am getting proper results using Gatt characteristics specifications and services. but there is one custom service I am getting from the device.</p>\n<p>CUSTOM service (<code>UUID = 00001523-1212-EFDE-1523-785FEABCD123</code>)</p>\n<p>CUSTOM characteristic (<code>UUID = 00001524-1212-EFDE-1523-785FEABCD123</code>) [marked as <code>WRITE/INDICATE/NOTIFY</code> in smartphone app)</p>\n<p>descriptor (<code>UUID = 00002902-0000-1000-8000-00805F9B34FB</code> marked as READ in smartphone app)</p>\n<p>and listing several 8-byte commands to send to the meter waiting for an 8-byte response from it.</p>\n<p>Commands are sent using a frame with this format below :</p>\n<pre><code>[0x51 0x26 0x00 0x00 0x00 0x00 0xA3 CHK-SUM]\n</code></pre>\n<p>where the checksum is the summation of 1..7 byte.</p>\n<p>but How to send this command?</p>\n<pre><code> byte[] buffer = new byte[8];\n                     \n\n    req_frame[0] = (byte) 0x51;\n    req_frame[1] = (byte) 0x26;\n    req_frame[2] = (byte) 0x00;\n    req_frame[3] = (byte) 0x00;\n    req_frame[4] = (byte) 0x00;\n    req_frame[5] = (byte) 0x00;\n    req_frame[6] = (byte) 0xA3;\n    req_frame[7] = (byte) 0xE6;\n                        characteristic.setValue(buffer);\n                        characteristic.setWriteType(BluetoothGattCharacteristic.WRITE_TYPE_DEFAULT);\n                        peripheral.writeCharacteristic(characteristic, buffer, BluetoothGattCharacteristic.WRITE_TYPE_DEFAULT);\n\n</code></pre>\n<p>OnCharacteristicWrite gives response success. but onCharacteristicChanged not called.</p>\n<p>How to work with this type of Protocol?</p>\n"},{"tags":["java","spring-boot","datetime","validation"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1642783455,"post_id":70804612,"comment_id":125171956,"body_markdown":"I am not sure what you expect. This is a Date/Time class. It&#39;s `toString()` method &quot;converts&quot; outputs a timestamp. If you need Epoch, then use a class that represents an epoch, or call a method that converts the time to an epoch. Did you read the Javadoc on `OffsetDateTime` before you made the decision to use it? Here&#39;s what&#39;s `toString()` does: https://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html#toString--","body":"I am not sure what you expect. This is a Date/Time class. It&#39;s <code>toString()</code> method &quot;converts&quot; outputs a timestamp. If you need Epoch, then use a class that represents an epoch, or call a method that converts the time to an epoch. Did you read the Javadoc on <code>OffsetDateTime</code> before you made the decision to use it? Here&#39;s what&#39;s <code>toString()</code> does: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html#toString--\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/time/&hellip;</a>"},{"owner":{"account_id":6261156,"reputation":33,"user_id":4868311,"display_name":"Rye"},"score":0,"creation_date":1642783617,"post_id":70804612,"comment_id":125172028,"body_markdown":"Thank you. It was not my decision to use OffsetDateTime. Basically, the goal is if the format I send on the request is NOT the same as 1970-01-01T05:33:20.101Z, it needs to throw an error - without me adding a custom annotation/serializer.","body":"Thank you. It was not my decision to use OffsetDateTime. Basically, the goal is if the format I send on the request is NOT the same as 1970-01-01T05:33:20.101Z, it needs to throw an error - without me adding a custom annotation/serializer."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1642789488,"post_id":70804612,"comment_id":125174031,"body_markdown":"You might not have a choice. But you need to read the Javadoc to see if what you need is doable. If it is, the Javadoc should tell you how to make it work. And if it is not, then you need to figure out how to adapt it, or you need to tell the people who decided to go with this class that their decision won&#39;t work unless the make the necessary changes. The way I see it, it is working the way it is supposed to. Remember, the class&#39; documentation states that it is &quot;_a date-time with an offset from UTC/Greenwich **in the ISO-8601 calendar system**, such as 2007-12-03T10:15:30+01:00._&quot;","body":"You might not have a choice. But you need to read the Javadoc to see if what you need is doable. If it is, the Javadoc should tell you how to make it work. And if it is not, then you need to figure out how to adapt it, or you need to tell the people who decided to go with this class that their decision won&#39;t work unless the make the necessary changes. The way I see it, it is working the way it is supposed to. Remember, the class&#39; documentation states that it is &quot;<i>a date-time with an offset from UTC/Greenwich <b>in the ISO-8601 calendar system</b>, such as 2007-12-03T10:15:30+01:00.</i>&quot;"}],"owner":{"account_id":6261156,"reputation":33,"user_id":4868311,"display_name":"Rye"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":302,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642782982,"creation_date":1642782982,"question_id":70804612,"body_markdown":"I have the following springboot request:\r\n\r\n    @Data\r\n    @ToString\r\n    public class OffsetDate {\r\n\r\n      public OffsetDateTime time;\r\n    }\r\n\r\nAnd my request goes:\r\n\r\n    {\r\n      &quot;time&quot; : 20000101\r\n    }\r\n\r\nRight now, that is being converted to date during serialization: 1970-01-01T05:33:20.101Z - which I don&#39;t want to happen.\r\nI need to be able to specify the format and fail if it&#39;s invalid without custom annotations (request code is actually autogenerated from swagger yaml, hence I cannot modify the request).\r\n\r\nIs there a way to do that?","title":"Disable converting epoch to date on Springboot","body":"<p>I have the following springboot request:</p>\n<pre><code>@Data\n@ToString\npublic class OffsetDate {\n\n  public OffsetDateTime time;\n}\n</code></pre>\n<p>And my request goes:</p>\n<pre><code>{\n  &quot;time&quot; : 20000101\n}\n</code></pre>\n<p>Right now, that is being converted to date during serialization: 1970-01-01T05:33:20.101Z - which I don't want to happen.\nI need to be able to specify the format and fail if it's invalid without custom annotations (request code is actually autogenerated from swagger yaml, hence I cannot modify the request).</p>\n<p>Is there a way to do that?</p>\n"},{"tags":["java","swing","draw","game-development","keylistener"],"comments":[{"owner":{"display_name":"user6073886"},"score":8,"creation_date":1642782805,"post_id":70804524,"comment_id":125171698,"body_markdown":"`if(code == KeyEvent.VK_A);{` &lt;- remove the `;` after your if statements. `if(code == KeyEvent.VK_A); { ... }` is equal to `if(code == KeyEvent.VK_A) {;} { ... }` - meaning your actual if-body-block is just a no-op and what you think your if-bodies are is always executed unconditionally.","body":"<code>if(code == KeyEvent.VK_A);{</code> &lt;- remove the <code>;</code> after your if statements. <code>if(code == KeyEvent.VK_A); { ... }</code> is equal to <code>if(code == KeyEvent.VK_A) {;} { ... }</code> - meaning your actual if-body-block is just a no-op and what you think your if-bodies are is always executed unconditionally."},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1642782904,"post_id":70804524,"comment_id":125171732,"body_markdown":"In other words, if this is the way that you want to wire your code, first set all those booleans to false at the top of your keyPressed methods, and then within the method you will set the correct boolean to true. Note that it is almost always better to use [Key Bindings](https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html) than to use a KeyListener.","body":"In other words, if this is the way that you want to wire your code, first set all those booleans to false at the top of your keyPressed methods, and then within the method you will set the correct boolean to true. Note that it is almost always better to use <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html\" rel=\"nofollow noreferrer\">Key Bindings</a> than to use a KeyListener."}],"owner":{"account_id":24011577,"reputation":1,"user_id":17995106,"display_name":"Aoflr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642782958,"creation_date":1642782602,"question_id":70804524,"body_markdown":"I am generally a very bad programmer but have been trying to learn game development for a school project. My problem is that I have a draw method that draws a white rectangle and have a key Listener for movement but for some reason it moves upward despite what key I press not just W A S and D.\r\nIf you could help with this I would appreciate.\r\nthanks\r\n\r\n```\r\npackage Main;\r\n\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\n\r\nimport javax.swing.JPanel;\r\n\r\npublic class GamePanel extends JPanel implements Runnable{\r\n\r\n\tfinal int screenHeight = 600;\r\n\tfinal int screenWidth = 800;\r\n\tfinal int playerSize = 48;\r\n\tint fps = 60;\r\n\tKeyHandler keyH = new KeyHandler();\r\n\tThread gameThread;\r\n\t\r\n//player default position\r\n\t int playerX = 100;\r\n\t int playerY = 100;\r\n\t int playerSpeed = 1;\r\n\r\n\t\t\r\n\t\r\n\tpublic GamePanel() {\r\n\t\tthis.setPreferredSize(new Dimension (screenWidth, screenHeight)); \r\n\t\tthis.setBackground(Color.black);\r\n\t\tthis.setDoubleBuffered(true);\r\n\t\tthis.addKeyListener(keyH);\r\n\t\tthis.setFocusable(true);\r\n\t}\r\n\t\t\r\n\t\tpublic void startGameThread() {\r\n\t\t\tgameThread = new Thread (this);\r\n\t\t\tgameThread.start();\r\n\t}\r\n\tpublic void run() {\r\n\t\tdouble drawInterval = 1000000000/fps; // 0.01666 seconds = 60 times per seconds\r\n\t\tdouble nextDrawTime = System.nanoTime() + drawInterval;\r\n\t\twhile(gameThread != null) {\r\n\t\t\tSystem.out.println(&quot;this gmae is runing&quot;);\r\n\t\t\t// update information such as character positions\r\n\t\t\t// draw the screen with the updated information\r\n\t\t\tupdate();\r\n\t\t\trepaint();\r\n\t\t\ttry {\r\n\t\t\t\tdouble remainingTime = nextDrawTime - System.nanoTime();\r\n\t\t\t\tremainingTime = remainingTime/1000000;\r\n\t\t\t\tif(remainingTime&lt;0) {\r\n\t\t\t\t\tremainingTime = 0;\r\n\t\t\t\t}\r\n\t\t\t\tThread.sleep ((long) remainingTime);\r\n\t\t\t\t\r\n\t\t\t\tnextDrawTime += drawInterval;\r\n\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t}\r\n\tprivate void update() {\r\n\t\tif(keyH.upPressed ==true) {\r\n\t\t\tplayerY = playerY - playerSpeed;\r\n\t\t}\r\n\t\telse if (keyH.downPressed ==true){\r\n\t\t\tplayerY = playerY + playerSpeed;\r\n\t\t}\r\n\t\telse if (keyH.leftPressed== true){\r\n\t\t\tplayerX = playerX - playerSpeed;\r\n\t\t}\r\n\t\telse if (keyH.rightPressed == true) {\r\n\t\t\tplayerX = playerX +playerSpeed;\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\t\r\n\tpublic void paintComponent(Graphics g) {\r\n\t\t// to draw something\r\n\t\tsuper.paintComponent(g); \r\n\t\tGraphics2D g2 = (Graphics2D)g;\r\n\t\tg2.setColor(Color.white);\r\n\t\tg2.fillRect(playerX, playerY, playerSize, playerSize);\r\n\t\tg2.dispose(); \r\n\t\t\r\n\t}\r\n}\r\n```\r\n\r\n``` \r\npackage game;\r\n\r\nimport java.awt.event.KeyEvent;\r\nimport java.awt.event.KeyListener;\r\n\r\npublic  class KeyHandler implements KeyListener {\r\n\r\n\tpublic boolean leftPressed;\r\n\tpublic boolean rightPressed;\r\n\tpublic boolean upPressed;\r\n\tpublic boolean downPressed;\r\n\tpublic boolean spacePressed;\r\n\t@Override\r\n\tpublic void keyTyped(KeyEvent e) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void keyPressed(KeyEvent e) {\r\n\t\tint code = e.getKeyCode();\r\n\t\tif(code == KeyEvent.VK_D);{\r\n\t\t\trightPressed = true;\r\n\t\t}\r\n\r\n\t\tif(code == KeyEvent.VK_A);{\r\n\t\t\tleftPressed = true;\r\n\t\t}\r\n\r\n\r\n\t\tif(code == KeyEvent.VK_W);{\r\n\t\t\tupPressed = true;\r\n\t\t}\r\n\t\r\n\t\r\n\t\tif(code == KeyEvent.VK_S);{\r\n\t\t\tdownPressed = true;\r\n\t\t}\r\n\t\r\n\r\n\t\r\n\t}\r\n\t\r\n\r\n\t@Override\r\n\tpublic void keyReleased(KeyEvent e) {\r\n\t\tint code = e.getExtendedKeyCode();\r\n\t\tif(code == KeyEvent.VK_D);{\r\n\t\t\trightPressed = false;\r\n\t\t}\r\n\r\n\t\tif(code == KeyEvent.VK_A);{\r\n\t\t\tleftPressed = false;\r\n\t\t}\r\n\r\n\r\n\t\tif(code == KeyEvent.VK_W);{\r\n\t\t\tupPressed = false;\r\n\t\t}\r\n\t\r\n\t\r\n\t\tif(code == KeyEvent.VK_S);{\r\n\t\t\tdownPressed = false;\r\n\t\t}\r\n\t\r\n\t}\r\n}\r\n```","title":"My Rectangle moves up despite what key I press with key Listener in Java","body":"<p>I am generally a very bad programmer but have been trying to learn game development for a school project. My problem is that I have a draw method that draws a white rectangle and have a key Listener for movement but for some reason it moves upward despite what key I press not just W A S and D.\nIf you could help with this I would appreciate.\nthanks</p>\n<pre><code>package Main;\n\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\n\nimport javax.swing.JPanel;\n\npublic class GamePanel extends JPanel implements Runnable{\n\n    final int screenHeight = 600;\n    final int screenWidth = 800;\n    final int playerSize = 48;\n    int fps = 60;\n    KeyHandler keyH = new KeyHandler();\n    Thread gameThread;\n    \n//player default position\n     int playerX = 100;\n     int playerY = 100;\n     int playerSpeed = 1;\n\n        \n    \n    public GamePanel() {\n        this.setPreferredSize(new Dimension (screenWidth, screenHeight)); \n        this.setBackground(Color.black);\n        this.setDoubleBuffered(true);\n        this.addKeyListener(keyH);\n        this.setFocusable(true);\n    }\n        \n        public void startGameThread() {\n            gameThread = new Thread (this);\n            gameThread.start();\n    }\n    public void run() {\n        double drawInterval = 1000000000/fps; // 0.01666 seconds = 60 times per seconds\n        double nextDrawTime = System.nanoTime() + drawInterval;\n        while(gameThread != null) {\n            System.out.println(&quot;this gmae is runing&quot;);\n            // update information such as character positions\n            // draw the screen with the updated information\n            update();\n            repaint();\n            try {\n                double remainingTime = nextDrawTime - System.nanoTime();\n                remainingTime = remainingTime/1000000;\n                if(remainingTime&lt;0) {\n                    remainingTime = 0;\n                }\n                Thread.sleep ((long) remainingTime);\n                \n                nextDrawTime += drawInterval;\n            } catch (InterruptedException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n            \n        }\n        \n    }\n    private void update() {\n        if(keyH.upPressed ==true) {\n            playerY = playerY - playerSpeed;\n        }\n        else if (keyH.downPressed ==true){\n            playerY = playerY + playerSpeed;\n        }\n        else if (keyH.leftPressed== true){\n            playerX = playerX - playerSpeed;\n        }\n        else if (keyH.rightPressed == true) {\n            playerX = playerX +playerSpeed;\n        }\n        \n    }\n\n    \n    public void paintComponent(Graphics g) {\n        // to draw something\n        super.paintComponent(g); \n        Graphics2D g2 = (Graphics2D)g;\n        g2.setColor(Color.white);\n        g2.fillRect(playerX, playerY, playerSize, playerSize);\n        g2.dispose(); \n        \n    }\n}\n</code></pre>\n<pre><code>package game;\n\nimport java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\n\npublic  class KeyHandler implements KeyListener {\n\n    public boolean leftPressed;\n    public boolean rightPressed;\n    public boolean upPressed;\n    public boolean downPressed;\n    public boolean spacePressed;\n    @Override\n    public void keyTyped(KeyEvent e) {\n        // TODO Auto-generated method stub\n        \n    }\n\n    @Override\n    public void keyPressed(KeyEvent e) {\n        int code = e.getKeyCode();\n        if(code == KeyEvent.VK_D);{\n            rightPressed = true;\n        }\n\n        if(code == KeyEvent.VK_A);{\n            leftPressed = true;\n        }\n\n\n        if(code == KeyEvent.VK_W);{\n            upPressed = true;\n        }\n    \n    \n        if(code == KeyEvent.VK_S);{\n            downPressed = true;\n        }\n    \n\n    \n    }\n    \n\n    @Override\n    public void keyReleased(KeyEvent e) {\n        int code = e.getExtendedKeyCode();\n        if(code == KeyEvent.VK_D);{\n            rightPressed = false;\n        }\n\n        if(code == KeyEvent.VK_A);{\n            leftPressed = false;\n        }\n\n\n        if(code == KeyEvent.VK_W);{\n            upPressed = false;\n        }\n    \n    \n        if(code == KeyEvent.VK_S);{\n            downPressed = false;\n        }\n    \n    }\n}\n</code></pre>\n"},{"tags":["java","intellij-idea","jar","manifest.mf"],"comments":[{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1642621764,"post_id":70776740,"comment_id":125122938,"body_markdown":"See https://stackoverflow.com/a/42660624/104891 and https://stackoverflow.com/a/42200519/104891. If the issue persists, please share the [Minimal, Complete, and Verifiable example](https://stackoverflow.com/help/mcve) (sample project on GitHub would work).","body":"See <a href=\"https://stackoverflow.com/a/42660624/104891\">stackoverflow.com/a/42660624/104891</a> and <a href=\"https://stackoverflow.com/a/42200519/104891\">stackoverflow.com/a/42200519/104891</a>. If the issue persists, please share the <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a> (sample project on GitHub would work)."},{"owner":{"account_id":16347167,"reputation":918,"user_id":11806619,"display_name":"Captain Jacky"},"score":0,"creation_date":1642683101,"post_id":70776740,"comment_id":125139377,"body_markdown":"@CrazyCoder, please see attached at the bottom of my question.","body":"@CrazyCoder, please see attached at the bottom of my question."},{"owner":{"account_id":2029491,"reputation":9823,"user_id":1813616,"display_name":"Uwe Plonus"},"score":0,"creation_date":1642690927,"post_id":70776740,"comment_id":125143077,"body_markdown":"Please use something to share your code where I do not have to register","body":"Please use something to share your code where I do not have to register"},{"owner":{"account_id":16347167,"reputation":918,"user_id":11806619,"display_name":"Captain Jacky"},"score":0,"creation_date":1642695399,"post_id":70776740,"comment_id":125145249,"body_markdown":"@UwePlonus, I&#39;ve added link to `MediaFire`. I hope you can download now.","body":"@UwePlonus, I&#39;ve added link to <code>MediaFire</code>. I hope you can download now."},{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":1,"creation_date":1642719090,"post_id":70776740,"comment_id":125153993,"body_markdown":"Your fat jar contains digital signatures, therefore it will not run: MANIFEST.MF\nSIGNINGC.RSA\nSIGNINGC.SF. These files were unpacked from one of your dependencies. They have to be removed from the fat jar.","body":"Your fat jar contains digital signatures, therefore it will not run: MANIFEST.MF SIGNINGC.RSA SIGNINGC.SF. These files were unpacked from one of your dependencies. They have to be removed from the fat jar."},{"owner":{"account_id":16347167,"reputation":918,"user_id":11806619,"display_name":"Captain Jacky"},"score":0,"creation_date":1642780472,"post_id":70776740,"comment_id":125170865,"body_markdown":"@CrazyCoder, yes it did. Now I&#39;ve created a new project without any dependencies and built a `jar` file again. It did not contain neither `SIGNINGC.RSA` nor `SIGNINGC.SF` but the error persisted the same.","body":"@CrazyCoder, yes it did. Now I&#39;ve created a new project without any dependencies and built a <code>jar</code> file again. It did not contain neither <code>SIGNINGC.RSA</code> nor <code>SIGNINGC.SF</code> but the error persisted the same."},{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1642781860,"post_id":70776740,"comment_id":125171357,"body_markdown":"Share your new project then.","body":"Share your new project then."},{"owner":{"account_id":16347167,"reputation":918,"user_id":11806619,"display_name":"Captain Jacky"},"score":0,"creation_date":1642782981,"post_id":70776740,"comment_id":125171761,"body_markdown":"@CrazyCoder, please see attached below update 2. Thank you.","body":"@CrazyCoder, please see attached below update 2. Thank you."},{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":1,"creation_date":1642783233,"post_id":70776740,"comment_id":125171866,"body_markdown":"It&#39;s not clear how the jar in this project was built. There is no artifact for this jar configuration and Gradle builds a different jar without dependencies. The problem with the jar you have in `out\\artifacts` is that it has Manifest file included from some different library and this manifest doesn&#39;t specify the main class. If you build it with IntelliJ IDEA artifacts feature, reorder the manifest in the included files so that the correct one is used, see https://youtrack.jetbrains.com/issue/IDEA-116209#comment=27-656589 for more details.","body":"It&#39;s not clear how the jar in this project was built. There is no artifact for this jar configuration and Gradle builds a different jar without dependencies. The problem with the jar you have in <code>out\\artifacts</code> is that it has Manifest file included from some different library and this manifest doesn&#39;t specify the main class. If you build it with IntelliJ IDEA artifacts feature, reorder the manifest in the included files so that the correct one is used, see <a href=\"https://youtrack.jetbrains.com/issue/IDEA-116209#comment=27-656589\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-116209#comment=27-656589</a> for more details."},{"owner":{"account_id":16347167,"reputation":918,"user_id":11806619,"display_name":"Captain Jacky"},"score":0,"creation_date":1642784768,"post_id":70776740,"comment_id":125172463,"body_markdown":"@CrazyCoder, I&#39;ve disabled alphabetical order but the problem persisted. Then I changed resources folder to `src` directory and now it throws `No auto configuration classes found in META-INF/spring.factories.`. But running `./gradlew build` works.","body":"@CrazyCoder, I&#39;ve disabled alphabetical order but the problem persisted. Then I changed resources folder to <code>src</code> directory and now it throws <code>No auto configuration classes found in META-INF&#47;spring.factories.</code>. But running <code>.&#47;gradlew build</code> works."},{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":1,"creation_date":1642784830,"post_id":70776740,"comment_id":125172492,"body_markdown":"Yeah, packaging Spring apps in the fat jar can be a pain, use Gradle for that.","body":"Yeah, packaging Spring apps in the fat jar can be a pain, use Gradle for that."},{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":1,"creation_date":1642785334,"post_id":70776740,"comment_id":125172674,"body_markdown":"See if https://stackoverflow.com/a/33579556/104891 helps.","body":"See if <a href=\"https://stackoverflow.com/a/33579556/104891\">stackoverflow.com/a/33579556/104891</a> helps."}],"owner":{"account_id":16347167,"reputation":918,"user_id":11806619,"display_name":"Captain Jacky"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1642719029,"answer_count":0,"score":0,"last_activity_date":1642782952,"creation_date":1642620987,"question_id":70776740,"body_markdown":"I&#39;ve been trying many different things throughout various posts, but none of the solutions have helped me. \r\n\r\n1. Creating an artifact through `Build` -&gt; `Build artifacts...`, selecting directory for `META-INF/MANIFEST.MF` as `main\\resources` and running a generated `jar` file throws `no main manifest attribute`.\r\n\r\n1. `&lt;..&gt;`, selecting directory for `META-INF/MANIFEST.MF` as `main\\java` and running a generated `jar` file returns `Could not find or load main class`.\r\n\r\nMy `MANIFEST.MF`:\r\n\r\n    Manifest-Version: 1.0\r\n    Main-Class: &lt;package&gt;.MainApplication\r\n\r\nAlso, in my `build.gradle` I have:\r\n\r\n    jar {\r\n        manifest {\r\n            attributes &#39;Main-Class&#39;: &#39;&lt;package&gt;.MainApplication&#39;\r\n        }\r\n    }\r\nI have tried creating a new project, but the problem persisted the same. I hope someone could help me. Thank you.\r\n\r\n\r\n**UPDATE:**\r\n\r\n[Demo project example][1] (FileMail), which produces my error.\r\n\r\n\r\n[Demo project example][1] (MediaFire)\r\n\r\n\r\n**UPDATE 2:**\r\n\r\n[Demo project 2 example][2]\r\n\r\n\r\n  [1]: https://www.mediafire.com/file/w8vhfvc24o91ayx/demo.zip/file\r\n  [2]: https://www.filemail.com/d/rkchgvygqrkbheb","title":"&quot;no main manifest attribute&quot; when building .jar (Gradle)","body":"<p>I've been trying many different things throughout various posts, but none of the solutions have helped me.</p>\n<ol>\n<li><p>Creating an artifact through <code>Build</code> -&gt; <code>Build artifacts...</code>, selecting directory for <code>META-INF/MANIFEST.MF</code> as <code>main\\resources</code> and running a generated <code>jar</code> file throws <code>no main manifest attribute</code>.</p>\n</li>\n<li><p><code>&lt;..&gt;</code>, selecting directory for <code>META-INF/MANIFEST.MF</code> as <code>main\\java</code> and running a generated <code>jar</code> file returns <code>Could not find or load main class</code>.</p>\n</li>\n</ol>\n<p>My <code>MANIFEST.MF</code>:</p>\n<pre><code>Manifest-Version: 1.0\nMain-Class: &lt;package&gt;.MainApplication\n</code></pre>\n<p>Also, in my <code>build.gradle</code> I have:</p>\n<pre><code>jar {\n    manifest {\n        attributes 'Main-Class': '&lt;package&gt;.MainApplication'\n    }\n}\n</code></pre>\n<p>I have tried creating a new project, but the problem persisted the same. I hope someone could help me. Thank you.</p>\n<p><strong>UPDATE:</strong></p>\n<p><a href=\"https://www.mediafire.com/file/w8vhfvc24o91ayx/demo.zip/file\" rel=\"nofollow noreferrer\">Demo project example</a> (FileMail), which produces my error.</p>\n<p><a href=\"https://www.mediafire.com/file/w8vhfvc24o91ayx/demo.zip/file\" rel=\"nofollow noreferrer\">Demo project example</a> (MediaFire)</p>\n<p><strong>UPDATE 2:</strong></p>\n<p><a href=\"https://www.filemail.com/d/rkchgvygqrkbheb\" rel=\"nofollow noreferrer\">Demo project 2 example</a></p>\n"},{"tags":["java","swing","jlist"],"answers":[{"tags":[],"owner":{"account_id":1764995,"reputation":36209,"user_id":1611055,"accept_rate":91,"display_name":"Andreas Fester"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1469166477,"creation_date":1469166172,"answer_id":38518994,"question_id":38518934,"body_markdown":"You need to get the [`ListSelectionModel`][1] from the `JList`. With that, you can modify the selection:\r\n\r\n    ...\r\n    ListSelectionModel sm = myList.getSelectionModel();\r\n    sm.clearSelection();                     // clears the selection\r\n    sm.setSelectionInterval(index, index);   // Sets a selection interval\r\n    ...\r\n\r\nWhile the `ListSelectionModel` allows fine grained control over the selection behaviour of the `JList`,  `JList` itself also provides convenient methods like [`JList.setSelectedIndex()`][2] to simply modify the selected elements.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/javax/swing/ListSelectionModel.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/javax/swing/JList.html#setSelectedIndex-int-","title":"Select item in JList using code","body":"<p>You need to get the <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/swing/ListSelectionModel.html\" rel=\"nofollow\"><code>ListSelectionModel</code></a> from the <code>JList</code>. With that, you can modify the selection:</p>\n\n<pre><code>...\nListSelectionModel sm = myList.getSelectionModel();\nsm.clearSelection();                     // clears the selection\nsm.setSelectionInterval(index, index);   // Sets a selection interval\n...\n</code></pre>\n\n<p>While the <code>ListSelectionModel</code> allows fine grained control over the selection behaviour of the <code>JList</code>,  <code>JList</code> itself also provides convenient methods like <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/swing/JList.html#setSelectedIndex-int-\" rel=\"nofollow\"><code>JList.setSelectedIndex()</code></a> to simply modify the selected elements.</p>\n"},{"tags":[],"owner":{"account_id":8754887,"reputation":327,"user_id":6546777,"display_name":"TMichelsen"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1469166219,"creation_date":1469166219,"answer_id":38519003,"question_id":38518934,"body_markdown":"Documentation of JList:\r\n\r\n&gt; The selection state of a JList is managed by another separate model, an instance of ListSelectionModel. JList is initialized with a selection model on construction, and also contains methods to query or set this selection model. **Additionally, JList provides convenient methods for easily managing the selection. These methods, such as setSelectedIndex and getSelectedValue, are cover methods that take care of the details of interacting with the selection model.** By default, JList&#39;s selection model is configured to allow any combination of items to be selected at a time; selection mode MULTIPLE_INTERVAL_SELECTION. The selection mode can be changed on the selection model directly, or via JList&#39;s cover method. Responsibility for updating the selection model in response to user gestures lies with the list&#39;s ListUI.\r\n\r\nIn your case: \r\n\r\n    myList.setSelectionIndex(index);","title":"Select item in JList using code","body":"<p>Documentation of JList:</p>\n\n<blockquote>\n  <p>The selection state of a JList is managed by another separate model, an instance of ListSelectionModel. JList is initialized with a selection model on construction, and also contains methods to query or set this selection model. <strong>Additionally, JList provides convenient methods for easily managing the selection. These methods, such as setSelectedIndex and getSelectedValue, are cover methods that take care of the details of interacting with the selection model.</strong> By default, JList's selection model is configured to allow any combination of items to be selected at a time; selection mode MULTIPLE_INTERVAL_SELECTION. The selection mode can be changed on the selection model directly, or via JList's cover method. Responsibility for updating the selection model in response to user gestures lies with the list's ListUI.</p>\n</blockquote>\n\n<p>In your case: </p>\n\n<pre><code>myList.setSelectionIndex(index);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7636249,"reputation":302,"user_id":5789730,"display_name":"florin.iliescu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642782870,"creation_date":1606335312,"answer_id":65012085,"question_id":38518934,"body_markdown":"You can use     \r\n\r\n    jList.setSelectedValue(string, rootPaneCheckingEnabled) \r\n\r\nor         \r\n\r\n    jList.setSelectedIndex(index);\r\n\r\n","title":"Select item in JList using code","body":"<p>You can use</p>\n<pre><code>jList.setSelectedValue(string, rootPaneCheckingEnabled) \n</code></pre>\n<p>or</p>\n<pre><code>jList.setSelectedIndex(index);\n</code></pre>\n"}],"owner":{"account_id":8028412,"reputation":1837,"user_id":6054427,"accept_rate":69,"display_name":"Romulus3799"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5489,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1642782870,"creation_date":1469165888,"question_id":38518934,"body_markdown":"I want to be able to write a statement that manually selects an item in a JList, such as:\r\n\r\n    JList myList = new JList(items);\r\n    myList.selectValueAt(index);","title":"Select item in JList using code","body":"<p>I want to be able to write a statement that manually selects an item in a JList, such as:</p>\n\n<pre><code>JList myList = new JList(items);\nmyList.selectValueAt(index);\n</code></pre>\n"},{"tags":["java","rest","ms-word","apache-poi"],"comments":[{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":1,"creation_date":1642784227,"post_id":70804559,"comment_id":125172261,"body_markdown":"If you can download the document from disc it seems the problem has nothing to do with REST. Did you try to generate the Word document and save it directly to file? If this produces a corrupt document you have to look at the code generating the document.","body":"If you can download the document from disc it seems the problem has nothing to do with REST. Did you try to generate the Word document and save it directly to file? If this produces a corrupt document you have to look at the code generating the document."},{"owner":{"account_id":14022098,"reputation":75,"user_id":11714531,"display_name":"Oleg Leinov"},"score":0,"creation_date":1642784721,"post_id":70804559,"comment_id":125172442,"body_markdown":"If I save generated document on disk - file is OK. I think, there could be 2 options: some header in ResponseEntity is missing or docx.getDocument().newInputStream() doesn&#39;t return whole file content (missing some specific docx xml tags)","body":"If I save generated document on disk - file is OK. I think, there could be 2 options: some header in ResponseEntity is missing or docx.getDocument().newInputStream() doesn&#39;t return whole file content (missing some specific docx xml tags)"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1642789774,"post_id":70804559,"comment_id":125174122,"body_markdown":"`XWPFDocument.getDocument` only gets the `org.openxmlformats.schemas.wordprocessingml.x2006.main.CTDocument1` which is only one part of the `*.docx`. A `*.docx` is a ZIP archive containing multiple files in a special directory structure. To get the whole from the `XWPFDocument` one needs using `XWPFDocument.write` to write it to a `OutputStream`. There is no way around. But the `OutputStream` may be a `ByteArrayOutputStream` to avoid a file.","body":"<code>XWPFDocument.getDocument</code> only gets the <code>org.openxmlformats.schemas.wordprocessingml.x2006.main.CTDoc&zwnj;&#8203;ument1</code> which is only one part of the <code>*.docx</code>. A <code>*.docx</code> is a ZIP archive containing multiple files in a special directory structure. To get the whole from the <code>XWPFDocument</code> one needs using <code>XWPFDocument.write</code> to write it to a <code>OutputStream</code>. There is no way around. But the <code>OutputStream</code> may be a <code>ByteArrayOutputStream</code> to avoid a file."},{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":3,"creation_date":1642810885,"post_id":70804559,"comment_id":125179698,"body_markdown":"ResponseEntity&lt;StreamingResponseBody&gt; could possibly be used to get an outputstream for the response that can be used for the XWPFDocument write.","body":"ResponseEntity&lt;StreamingResponseBody&gt; could possibly be used to get an outputstream for the response that can be used for the XWPFDocument write."},{"owner":{"account_id":14022098,"reputation":75,"user_id":11714531,"display_name":"Oleg Leinov"},"score":0,"creation_date":1642864049,"post_id":70804559,"comment_id":125188324,"body_markdown":"XWPFDocument.write() do the thing, I&#39;m writing docx to ByteArrayOutputStream and after that just return resultStream.toInputStream(). @AxelRichter, post your message as answer so I can accept it","body":"XWPFDocument.write() do the thing, I&#39;m writing docx to ByteArrayOutputStream and after that just return resultStream.toInputStream(). @AxelRichter, post your message as answer so I can accept it"}],"owner":{"account_id":14022098,"reputation":75,"user_id":11714531,"display_name":"Oleg Leinov"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":951,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642782764,"creation_date":1642782764,"question_id":70804559,"body_markdown":"I have a Rest API endpoint to generate and download MS Word docx document (I&#39;m using org.apache.poi.xwpf to create a docx file). My controller looks like this: \r\n\r\n    @GetMapping(value = &quot;/download&quot;)\r\n        public ResponseEntity&lt;InputStreamResource&gt; download() {\r\n            return ResponseEntity.ok()\r\n                    .header(HttpHeaders.CONTENT_TYPE, &quot;application/vnd.openxmlformats-officedocument.wordprocessingml.document&quot;)\r\n                    .header(HttpHeaders.CONTENT_DISPOSITION, &quot;inline; filename=sample.docx&quot;)\r\n                    .body(new InputStreamResource(myService.generateWord()));\r\n        }\r\n\r\nI&#39;m building the XWPFDocument with standard POI library methods in myService.generateWord() method. If I save docx document on HDD and after that return `Files.newInputStream(Paths.get(&quot;temp&quot;, &quot;sample.docx&quot;))` everything works fine (both documents, on HDD and downloaded from browser, are OK), but if I&#39;m trying to return `docx.getDocument().newInputStream() //docx is XWPFDocument` than downloaded file is corrupted, I get an &quot;MS Word found an unreadable content&quot; error. One more thing - if I open downloaded docx by notepad++ - I can read xml code and it has 7kb size while open proper docx document will show encrypted unreadable text and it has 4kb.\r\n\r\nActually, I can use &quot;write to disk and download&quot; option, but I want to know how to download docx document directly from RAM, without saving it on disk.","title":"Rest API endpoint to generate and download MS Word docx document","body":"<p>I have a Rest API endpoint to generate and download MS Word docx document (I'm using org.apache.poi.xwpf to create a docx file). My controller looks like this:</p>\n<pre><code>@GetMapping(value = &quot;/download&quot;)\n    public ResponseEntity&lt;InputStreamResource&gt; download() {\n        return ResponseEntity.ok()\n                .header(HttpHeaders.CONTENT_TYPE, &quot;application/vnd.openxmlformats-officedocument.wordprocessingml.document&quot;)\n                .header(HttpHeaders.CONTENT_DISPOSITION, &quot;inline; filename=sample.docx&quot;)\n                .body(new InputStreamResource(myService.generateWord()));\n    }\n</code></pre>\n<p>I'm building the XWPFDocument with standard POI library methods in myService.generateWord() method. If I save docx document on HDD and after that return <code>Files.newInputStream(Paths.get(&quot;temp&quot;, &quot;sample.docx&quot;))</code> everything works fine (both documents, on HDD and downloaded from browser, are OK), but if I'm trying to return <code>docx.getDocument().newInputStream() //docx is XWPFDocument</code> than downloaded file is corrupted, I get an &quot;MS Word found an unreadable content&quot; error. One more thing - if I open downloaded docx by notepad++ - I can read xml code and it has 7kb size while open proper docx document will show encrypted unreadable text and it has 4kb.</p>\n<p>Actually, I can use &quot;write to disk and download&quot; option, but I want to know how to download docx document directly from RAM, without saving it on disk.</p>\n"},{"tags":["java","jsonpath","jayway"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1624021608,"post_id":68035702,"comment_id":120250789,"body_markdown":"you can marshall it to a java object","body":"you can marshall it to a java object"}],"answers":[{"tags":[],"owner":{"account_id":11301259,"reputation":18357,"user_id":8291949,"accept_rate":100,"display_name":"wp78de"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1642782623,"creation_date":1624042180,"answer_id":68040165,"question_id":68035702,"body_markdown":"This can be done using Jayway&#39;s JsonPath library.\r\nFirst, the JSON you showed is not good for processing, the wrapping `{ }` are missing.\r\nSecond, Jayway&#39;s comparison operator works if you test against the number as a string (It&#39;s a bit weird but the library does the required casting internally that way).\r\n\r\nSo, with this JSON:\r\n\r\n```\r\n{\r\n   &quot;data&quot;:[\r\n      {\r\n         &quot;name&quot;:&quot;mark&quot;,\r\n         &quot;age&quot;:&quot;20&quot;\r\n      },\r\n      {\r\n         &quot;name&quot;:&quot;john&quot;,\r\n         &quot;age&quot;:&quot;10&quot;\r\n      }\r\n   ]\r\n}\r\n```\r\nAnd this filter:\r\n```\r\n$.data[?(@.age &gt; &#39;10&#39;)]\r\n```\r\nYou get the expected result `[{&quot;name&quot; : &quot;mark&quot;, &quot;age&quot; : &quot;20&quot;}]`. You can test it [online here][1].\r\n\r\n**Update**\r\n\r\nAs pointed out by [Parveen Verma][2], the suggested filter will not work if the range filter requires an implicit type conversion.  \r\nJayway seems to only support implicit conversions when using the equality operators, e.g. `$.data[?(@.age == 10)]` (this works despite the type differences).  \r\n\r\nThere is an unmerged [pull request][3] that adds this behavior; since the code is somewhat behind the current version it may require some work to integrate it but if you really need this functionality it can be done.\r\n\r\n\r\n  [1]: https://jsonpath.herokuapp.com/\r\n  [2]: https://stackoverflow.com/users/2116590/parveen-verma\r\n  [3]: https://github.com/json-path/JsonPath/pull/297","title":"How to compare number string in filter operator?","body":"<p>This can be done using Jayway's JsonPath library.\nFirst, the JSON you showed is not good for processing, the wrapping <code>{ }</code> are missing.\nSecond, Jayway's comparison operator works if you test against the number as a string (It's a bit weird but the library does the required casting internally that way).</p>\n<p>So, with this JSON:</p>\n<pre><code>{\n   &quot;data&quot;:[\n      {\n         &quot;name&quot;:&quot;mark&quot;,\n         &quot;age&quot;:&quot;20&quot;\n      },\n      {\n         &quot;name&quot;:&quot;john&quot;,\n         &quot;age&quot;:&quot;10&quot;\n      }\n   ]\n}\n</code></pre>\n<p>And this filter:</p>\n<pre><code>$.data[?(@.age &gt; '10')]\n</code></pre>\n<p>You get the expected result <code>[{&quot;name&quot; : &quot;mark&quot;, &quot;age&quot; : &quot;20&quot;}]</code>. You can test it <a href=\"https://jsonpath.herokuapp.com/\" rel=\"nofollow noreferrer\">online here</a>.</p>\n<p><strong>Update</strong></p>\n<p>As pointed out by <a href=\"https://stackoverflow.com/users/2116590/parveen-verma\">Parveen Verma</a>, the suggested filter will not work if the range filter requires an implicit type conversion.<br />\nJayway seems to only support implicit conversions when using the equality operators, e.g. <code>$.data[?(@.age == 10)]</code> (this works despite the type differences).</p>\n<p>There is an unmerged <a href=\"https://github.com/json-path/JsonPath/pull/297\" rel=\"nofollow noreferrer\">pull request</a> that adds this behavior; since the code is somewhat behind the current version it may require some work to integrate it but if you really need this functionality it can be done.</p>\n"}],"owner":{"account_id":21986963,"reputation":43,"user_id":16261065,"display_name":"penny"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":626,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":68040165,"answer_count":1,"score":2,"last_activity_date":1642782623,"creation_date":1624021582,"question_id":68035702,"body_markdown":"    data: [\r\n    \t{\r\n    \t\t&quot;name&quot;: &quot;mark&quot;,\r\n    \t\t&quot;age&quot;: &quot;20&quot;\r\n    \t},\r\n    \t{\r\n    \t\t&quot;name&quot;: &quot;john&quot;,\r\n    \t\t&quot;age&quot;: &quot;10&quot;\r\n    \t}\r\n    ]\r\n\r\n\r\nin this case, how to get age greater than 10?\r\n\r\nsample code: \r\n\r\n    JsonPath.read(json, &quot;$.data[?(@.age &gt; 10)]&quot;);","title":"How to compare number string in filter operator?","body":"<pre><code>data: [\n    {\n        &quot;name&quot;: &quot;mark&quot;,\n        &quot;age&quot;: &quot;20&quot;\n    },\n    {\n        &quot;name&quot;: &quot;john&quot;,\n        &quot;age&quot;: &quot;10&quot;\n    }\n]\n</code></pre>\n<p>in this case, how to get age greater than 10?</p>\n<p>sample code:</p>\n<pre><code>JsonPath.read(json, &quot;$.data[?(@.age &gt; 10)]&quot;);\n</code></pre>\n"},{"tags":["java","spring-boot","apache-kafka","spring-kafka","kafka-topic"],"comments":[{"owner":{"account_id":16904098,"reputation":627,"user_id":12224743,"display_name":"Umeshwaran"},"score":0,"creation_date":1642777641,"post_id":70803063,"comment_id":125169759,"body_markdown":"can you elaborate on your question ? What is that you are trying to achieve . Please provide some examples or pseudo images of your requirement","body":"can you elaborate on your question ? What is that you are trying to achieve . Please provide some examples or pseudo images of your requirement"},{"owner":{"account_id":24010655,"reputation":23,"user_id":17994290,"display_name":"Mel"},"score":0,"creation_date":1642784016,"post_id":70803063,"comment_id":125172182,"body_markdown":"Image for the flow-&gt; https://ibb.co/5KRZJ2Z  At step 2, I will create request and response topics dynamically with the data that I got from step 1 in the request body. Basically, the destination server name will be topic names (From the image request topic will be &quot;serverB&quot; and response topic will be &quot;serverA&quot;). Since I can only get the destination info in runtime via the request body in step 1, I will need to be able to create the ReplyingKafkaTemplate bean without using the topic name.","body":"Image for the flow-&gt; <a href=\"https://ibb.co/5KRZJ2Z\" rel=\"nofollow noreferrer\">ibb.co/5KRZJ2Z</a>  At step 2, I will create request and response topics dynamically with the data that I got from step 1 in the request body. Basically, the destination server name will be topic names (From the image request topic will be &quot;serverB&quot; and response topic will be &quot;serverA&quot;). Since I can only get the destination info in runtime via the request body in step 1, I will need to be able to create the ReplyingKafkaTemplate bean without using the topic name."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1642791626,"post_id":70803063,"comment_id":125174687,"body_markdown":"Not sure I understand the question, but yes, an `AdminClient` instance can be used to create topics at runtime","body":"Not sure I understand the question, but yes, an <code>AdminClient</code> instance can be used to create topics at runtime"}],"owner":{"account_id":24010655,"reputation":23,"user_id":17994290,"display_name":"Mel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":249,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642782569,"creation_date":1642776010,"question_id":70803063,"body_markdown":"In my current project, I implemented a Kafka consumer using the poll mechanism directly instead of @KafkaListener. My question is: Can I dynamically create both a request and a reply topic in the runtime by parsing the request body data? If such a thing is possible how can I configure ReplyingKafkaTemplate in my Kafka config class without giving a response topic in KafkaMessageListenerContainer?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qJVNy.png","title":"Modified request-reply pattern with dynamic Kafka topics","body":"<p>In my current project, I implemented a Kafka consumer using the poll mechanism directly instead of @KafkaListener. My question is: Can I dynamically create both a request and a reply topic in the runtime by parsing the request body data? If such a thing is possible how can I configure ReplyingKafkaTemplate in my Kafka config class without giving a response topic in KafkaMessageListenerContainer?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1642781707,"post_id":70804291,"comment_id":125171309,"body_markdown":"Snippets are only intended for HTML/JavaScript/CSS, please use normal code blocks for other languages.","body":"Snippets are only intended for HTML/JavaScript/CSS, please use normal code blocks for other languages."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1642782336,"post_id":70804291,"comment_id":125171552,"body_markdown":"Can you post the code you have so far? Without it you can get some pseudo code at best.","body":"Can you post the code you have so far? Without it you can get some pseudo code at best."},{"owner":{"account_id":24011505,"reputation":1,"user_id":17995042,"display_name":"DanBee"},"score":0,"creation_date":1642783127,"post_id":70804291,"comment_id":125171820,"body_markdown":"Apologies - on a corporate network so I cannot login and upload code. (only view these pages)","body":"Apologies - on a corporate network so I cannot login and upload code. (only view these pages)"}],"answers":[{"tags":[],"owner":{"account_id":120154,"reputation":10077,"user_id":312407,"accept_rate":100,"display_name":"Mike Clark"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642782485,"creation_date":1642782485,"answer_id":70804498,"question_id":70804291,"body_markdown":"On StackOverflow it is expected etiquette to post the code you have tried to write, so that answerers can focus on helping you with your specific mistakes, rather than asking for a from-scratch solution. Nevertheless, here you go:\r\n\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.FileReader;\r\n    \r\n    public class SO {\r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\ttry (BufferedReader br = new BufferedReader(new FileReader(&quot;file.txt&quot;))) {\r\n    \t\t\tboolean blank = false;\r\n    \t\t\tboolean found = false;\r\n    \t\t\tString line;\r\n    \t\t\twhile ((line = br.readLine()) != null) {\r\n    \t\t\t\tif (line.strip().equals(&quot;&quot;)) {\r\n    \t\t\t\t\tblank = true;\r\n    \t\t\t\t\tfound = false;\r\n    \t\t\t\t\tcontinue;\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tblank = false;\r\n    \t\t\t\t}\r\n    \t\t\t\tif (line.equals(&quot;USER1&quot;)) {\r\n    \t\t\t\t\tfound = true;\r\n    \t\t\t\t\tcontinue;\r\n    \t\t\t\t}\r\n    \t\t\t\tif (!blank &amp;&amp; found) {\r\n    \t\t\t\t\tSystem.out.println(line);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }","title":"Find string and print next lines until empty line","body":"<p>On StackOverflow it is expected etiquette to post the code you have tried to write, so that answerers can focus on helping you with your specific mistakes, rather than asking for a from-scratch solution. Nevertheless, here you go:</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.FileReader;\n\npublic class SO {\n    public static void main(String[] args) throws Exception {\n        try (BufferedReader br = new BufferedReader(new FileReader(&quot;file.txt&quot;))) {\n            boolean blank = false;\n            boolean found = false;\n            String line;\n            while ((line = br.readLine()) != null) {\n                if (line.strip().equals(&quot;&quot;)) {\n                    blank = true;\n                    found = false;\n                    continue;\n                } else {\n                    blank = false;\n                }\n                if (line.equals(&quot;USER1&quot;)) {\n                    found = true;\n                    continue;\n                }\n                if (!blank &amp;&amp; found) {\n                    System.out.println(line);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24011505,"reputation":1,"user_id":17995042,"display_name":"DanBee"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1642782485,"creation_date":1642781561,"question_id":70804291,"body_markdown":"I have a file in the following format\r\n\r\n```none\r\nUSER1\r\nfoo\r\nfoo\r\n\r\nUSER2\r\nfoo\r\nbar\r\nfoo\r\n\r\nUSER3\r\nbar\r\nbar\r\n```\r\n\r\nI want to find a USER - e.g. USER2 and print the next lines up until the empty line\r\n\r\nIn Unix I could do something like \r\n\r\n```bash\r\ncat $FILE | sed -n &#39;/USER2/,/^$/p&#39;\r\n```\r\n\r\n\r\nWhich would give the output\r\n\r\n```none\r\nfoo\r\nbar\r\nfoo\r\n```\r\n\r\nHow can I do similar in Java? I&#39;m OK to read the file, run a for line in loop and find the &quot;USER2&quot; but not sure how I would get the next lines until the empty line?\r\n\r\n","title":"Find string and print next lines until empty line","body":"<p>I have a file in the following format</p>\n<pre class=\"lang-none prettyprint-override\"><code>USER1\nfoo\nfoo\n\nUSER2\nfoo\nbar\nfoo\n\nUSER3\nbar\nbar\n</code></pre>\n<p>I want to find a USER - e.g. USER2 and print the next lines up until the empty line</p>\n<p>In Unix I could do something like</p>\n<pre class=\"lang-sh prettyprint-override\"><code>cat $FILE | sed -n '/USER2/,/^$/p'\n</code></pre>\n<p>Which would give the output</p>\n<pre class=\"lang-none prettyprint-override\"><code>foo\nbar\nfoo\n</code></pre>\n<p>How can I do similar in Java? I'm OK to read the file, run a for line in loop and find the &quot;USER2&quot; but not sure how I would get the next lines until the empty line?</p>\n"},{"tags":["java","image","pdf","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":3,"creation_date":1633771500,"post_id":69494732,"comment_id":122852788,"body_markdown":"Please look at the PrintImageLocations.java example","body":"Please look at the PrintImageLocations.java example"},{"owner":{"account_id":2051979,"reputation":331,"user_id":1830775,"accept_rate":71,"display_name":"Eszter"},"score":0,"creation_date":1633937630,"post_id":69494732,"comment_id":122883336,"body_markdown":"It does not help me the example. I don&#39;t need to print the display dimensions, I need to retrieve them.","body":"It does not help me the example. I don&#39;t need to print the display dimensions, I need to retrieve them."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":2,"creation_date":1633937916,"post_id":69494732,"comment_id":122883436,"body_markdown":"What I mean is that you change that source code so that you are &quot;retrieving&quot; them instead of &quot;printing&quot; them.","body":"What I mean is that you change that source code so that you are &quot;retrieving&quot; them instead of &quot;printing&quot; them."},{"owner":{"account_id":2051979,"reputation":331,"user_id":1830775,"accept_rate":71,"display_name":"Eszter"},"score":0,"creation_date":1633941900,"post_id":69494732,"comment_id":122884904,"body_markdown":"It does not seem to get me the correct values. I&#39;ll update my description accordingly.","body":"It does not seem to get me the correct values. I&#39;ll update my description accordingly."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":1,"creation_date":1633942976,"post_id":69494732,"comment_id":122885333,"body_markdown":"Now we need the PDF.","body":"Now we need the PDF."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1633956146,"post_id":69494732,"comment_id":122890282,"body_markdown":"I get &quot;access denied&quot;.","body":"I get &quot;access denied&quot;."},{"owner":{"account_id":2051979,"reputation":331,"user_id":1830775,"accept_rate":71,"display_name":"Eszter"},"score":0,"creation_date":1634049635,"post_id":69494732,"comment_id":122918977,"body_markdown":"In the end, this is what helped: https://svn.apache.org/repos/asf/pdfbox/tags/2.0.3/examples/src/main/java/org/apache/pdfbox/examples/util/PrintImageLocations.java","body":"In the end, this is what helped: <a href=\"https://svn.apache.org/repos/asf/pdfbox/tags/2.0.3/examples/src/main/java/org/apache/pdfbox/examples/util/PrintImageLocations.java\" rel=\"nofollow noreferrer\">svn.apache.org/repos/asf/pdfbox/tags/2.0.3/examples/src/main&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1634061640,"post_id":69494732,"comment_id":122923783,"body_markdown":"Well that is what I mentioned in my first comment. Although that is an older version of the example.","body":"Well that is what I mentioned in my first comment. Although that is an older version of the example."},{"owner":{"account_id":12984311,"reputation":422,"user_id":9386625,"display_name":"Andr&#233; Rodrigues de Sousa"},"score":0,"creation_date":1642170625,"post_id":69494732,"comment_id":125006600,"body_markdown":"So, was the problem solved? Could you post the code snippet used to measure the PDF size?","body":"So, was the problem solved? Could you post the code snippet used to measure the PDF size?"}],"answers":[{"tags":[],"owner":{"account_id":12984311,"reputation":422,"user_id":9386625,"display_name":"Andr&#233; Rodrigues de Sousa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642782365,"creation_date":1642782365,"answer_id":70804478,"question_id":69494732,"body_markdown":"did something useful for me using example present on pdfbox documentation site\r\n\r\n    package br.gov.pb.mp.framework.util.pdf;\r\n    \r\n    import java.io.IOException;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    \r\n    import org.apache.pdfbox.contentstream.PDFStreamEngine;\r\n    import org.apache.pdfbox.contentstream.operator.DrawObject;\r\n    import org.apache.pdfbox.contentstream.operator.Operator;\r\n    import org.apache.pdfbox.contentstream.operator.state.Concatenate;\r\n    import org.apache.pdfbox.contentstream.operator.state.Restore;\r\n    import org.apache.pdfbox.contentstream.operator.state.Save;\r\n    import org.apache.pdfbox.contentstream.operator.state.SetGraphicsStateParameters;\r\n    import org.apache.pdfbox.contentstream.operator.state.SetMatrix;\r\n    import org.apache.pdfbox.cos.COSBase;\r\n    import org.apache.pdfbox.cos.COSName;\r\n    import org.apache.pdfbox.pdmodel.graphics.PDXObject;\r\n    import org.apache.pdfbox.pdmodel.graphics.form.PDFormXObject;\r\n    import org.apache.pdfbox.pdmodel.graphics.image.PDImageXObject;\r\n    import org.apache.pdfbox.util.Matrix;\r\n    \r\n    public class ImageSizeExtractor extends PDFStreamEngine {\r\n    \r\n    \tprivate Map&lt;String, float[]&gt; pageImages;\r\n    \r\n    \tpublic ImageSizeExtractor() throws IOException {\r\n    \t\t// preparing PDFStreamEngine\r\n    \t\taddOperator(new Concatenate());\r\n    \t\taddOperator(new DrawObject());\r\n    \t\taddOperator(new SetGraphicsStateParameters());\r\n    \t\taddOperator(new Save());\r\n    \t\taddOperator(new Restore());\r\n    \t\taddOperator(new SetMatrix());\r\n    \t\t\r\n    \t\tpageImages = new HashMap&lt;String, float[]&gt;();\r\n    \t}\r\n    \r\n    \tpublic Map&lt;String, float[]&gt; getPageImages() {\r\n    \t\treturn pageImages;\r\n    \t}\r\n    \r\n    \tpublic void setPageImages(Map&lt;String, float[]&gt; pageImages) {\r\n    \t\tthis.pageImages = pageImages;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected void processOperator(Operator operator, List&lt;COSBase&gt; operands) throws IOException {\r\n    \t\tString operation = operator.getName();\r\n    \t\tif (&quot;Do&quot;.equals(operation)) {\r\n    \t\t\tCOSName objectName = (COSName) operands.get(0);\r\n    \t\t\t// get the PDF object\r\n    \t\t\tPDXObject xobject = getResources().getXObject(objectName);\r\n    \t\t\t// check if the object is an image object\r\n    \t\t\tif (xobject instanceof PDImageXObject) {\r\n    \t\t\t\tPDImageXObject image = (PDImageXObject) xobject;\r\n    \t\t\t\tint imageWidth = image.getWidth();\r\n    \t\t\t\tint imageHeight = image.getHeight();\r\n    \r\n    \t\t\t\tSystem.out.println(&quot;\\nImage [&quot; + objectName.getName() + &quot;]&quot;);\r\n    \r\n    \t\t\t\tMatrix ctmNew = getGraphicsState().getCurrentTransformationMatrix();\r\n    \t\t\t\tfloat imageXScale = ctmNew.getScalingFactorX();\r\n    \t\t\t\tfloat imageYScale = ctmNew.getScalingFactorY();\r\n    \r\n    \t\t\t\tSystem.out.println(&quot;displayed size  = &quot; + imageXScale + &quot;, &quot; + imageYScale + &quot; in user space units&quot;);\r\n    \t\t\t\t\r\n    \t\t\t\tfloat[] xy = {imageXScale,imageYScale};\r\n    \t\t\t\tpageImages.put(objectName.getName(), xy);\r\n    \t\t\t\t\r\n    \t\t\t} else if (xobject instanceof PDFormXObject) {\r\n    \t\t\t\tPDFormXObject form = (PDFormXObject) xobject;\r\n    \t\t\t\tshowForm(form);\r\n    \t\t\t}\r\n    \t\t} else {\r\n    \t\t\tsuper.processOperator(operator, operands);\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\nmethod that makes use of the above class.\r\n\t\r\n\r\n    public static boolean analyseImageEntirePagePdfAto(byte[] sourcePdf) throws Throwable {\r\n    \t\tboolean containsEntirePageImage = false;\r\n    \t\tPDDocument docAto = PDDocument.load(sourcePdf);\r\n    \t\tint p = 0;\r\n    \t\tPDPageTree pageTree = docAto.getPages();\r\n    \t\tif (!containsEntirePageImage) {\r\n    \t\t\tfor (PDPage pagina : pageTree) {\r\n    \t\t\t\tp++;\r\n    \t\t\t\tPDFTextStripper reader = new PDFTextStripper();\r\n    \t\t\t\treader.setStartPage(p);\r\n    \t\t\t\treader.setEndPage(p);\r\n    \t\t\t\tString pageText = reader.getText(docAto);\r\n    \t\t\t\tpageText = pageText.replaceAll(&quot;\\r\\n&quot;, &quot;&quot;);\r\n    \t\t\t\tif (pageText == &quot;&quot; || pageText == null) {\r\n    \t\t\t\t\tcontainsEntirePageImage = true;\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \t\t\t\tfloat ph = pagina.getMediaBox().getHeight();\r\n    \t\t\t\tfloat pw = pagina.getMediaBox().getWidth();\r\n    \t\t\t\tfloat pageArea = ph * pw;\r\n    \t\t\t\tImageSizeExtractor imageSizeExtractor = new ImageSizeExtractor();\r\n    \t\t\t\timageSizeExtractor.processPage(pagina);\r\n    \t\t\t\tif (!imageSizeExtractor.getPageImages().entrySet().isEmpty()) {\r\n    \t\t\t\t\tfor (Map.Entry&lt;String, float[]&gt; entry : imageSizeExtractor.getPageImages().entrySet()) {\r\n    \t\t\t\t\t\tfloat[] imageMeasures = entry.getValue();\r\n    \t\t\t\t\t\tfloat imageArea = imageMeasures[0] * imageMeasures[1];\r\n    \t\t\t\t\t\tfloat imgPercent = (imageArea / pageArea) * 100;\r\n    \r\n    \t\t\t\t\t\tif (imgPercent &gt; 80) {\r\n    \t\t\t\t\t\t\tcontainsEntirePageImage = true;\r\n    \t\t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn containsEntirePageImage;\r\n    \t}\r\n\r\n\r\nthe processPage(PDPage page) method is in the PDFStreamEngine class","title":"Get displayed size of an image in a pdf with PDFBox","body":"<p>did something useful for me using example present on pdfbox documentation site</p>\n<pre><code>package br.gov.pb.mp.framework.util.pdf;\n\nimport java.io.IOException;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\nimport org.apache.pdfbox.contentstream.PDFStreamEngine;\nimport org.apache.pdfbox.contentstream.operator.DrawObject;\nimport org.apache.pdfbox.contentstream.operator.Operator;\nimport org.apache.pdfbox.contentstream.operator.state.Concatenate;\nimport org.apache.pdfbox.contentstream.operator.state.Restore;\nimport org.apache.pdfbox.contentstream.operator.state.Save;\nimport org.apache.pdfbox.contentstream.operator.state.SetGraphicsStateParameters;\nimport org.apache.pdfbox.contentstream.operator.state.SetMatrix;\nimport org.apache.pdfbox.cos.COSBase;\nimport org.apache.pdfbox.cos.COSName;\nimport org.apache.pdfbox.pdmodel.graphics.PDXObject;\nimport org.apache.pdfbox.pdmodel.graphics.form.PDFormXObject;\nimport org.apache.pdfbox.pdmodel.graphics.image.PDImageXObject;\nimport org.apache.pdfbox.util.Matrix;\n\npublic class ImageSizeExtractor extends PDFStreamEngine {\n\n    private Map&lt;String, float[]&gt; pageImages;\n\n    public ImageSizeExtractor() throws IOException {\n        // preparing PDFStreamEngine\n        addOperator(new Concatenate());\n        addOperator(new DrawObject());\n        addOperator(new SetGraphicsStateParameters());\n        addOperator(new Save());\n        addOperator(new Restore());\n        addOperator(new SetMatrix());\n        \n        pageImages = new HashMap&lt;String, float[]&gt;();\n    }\n\n    public Map&lt;String, float[]&gt; getPageImages() {\n        return pageImages;\n    }\n\n    public void setPageImages(Map&lt;String, float[]&gt; pageImages) {\n        this.pageImages = pageImages;\n    }\n\n    @Override\n    protected void processOperator(Operator operator, List&lt;COSBase&gt; operands) throws IOException {\n        String operation = operator.getName();\n        if (&quot;Do&quot;.equals(operation)) {\n            COSName objectName = (COSName) operands.get(0);\n            // get the PDF object\n            PDXObject xobject = getResources().getXObject(objectName);\n            // check if the object is an image object\n            if (xobject instanceof PDImageXObject) {\n                PDImageXObject image = (PDImageXObject) xobject;\n                int imageWidth = image.getWidth();\n                int imageHeight = image.getHeight();\n\n                System.out.println(&quot;\\nImage [&quot; + objectName.getName() + &quot;]&quot;);\n\n                Matrix ctmNew = getGraphicsState().getCurrentTransformationMatrix();\n                float imageXScale = ctmNew.getScalingFactorX();\n                float imageYScale = ctmNew.getScalingFactorY();\n\n                System.out.println(&quot;displayed size  = &quot; + imageXScale + &quot;, &quot; + imageYScale + &quot; in user space units&quot;);\n                \n                float[] xy = {imageXScale,imageYScale};\n                pageImages.put(objectName.getName(), xy);\n                \n            } else if (xobject instanceof PDFormXObject) {\n                PDFormXObject form = (PDFormXObject) xobject;\n                showForm(form);\n            }\n        } else {\n            super.processOperator(operator, operands);\n        }\n    }\n\n}\n</code></pre>\n<p>method that makes use of the above class.</p>\n<pre><code>public static boolean analyseImageEntirePagePdfAto(byte[] sourcePdf) throws Throwable {\n        boolean containsEntirePageImage = false;\n        PDDocument docAto = PDDocument.load(sourcePdf);\n        int p = 0;\n        PDPageTree pageTree = docAto.getPages();\n        if (!containsEntirePageImage) {\n            for (PDPage pagina : pageTree) {\n                p++;\n                PDFTextStripper reader = new PDFTextStripper();\n                reader.setStartPage(p);\n                reader.setEndPage(p);\n                String pageText = reader.getText(docAto);\n                pageText = pageText.replaceAll(&quot;\\r\\n&quot;, &quot;&quot;);\n                if (pageText == &quot;&quot; || pageText == null) {\n                    containsEntirePageImage = true;\n                    break;\n                }\n                float ph = pagina.getMediaBox().getHeight();\n                float pw = pagina.getMediaBox().getWidth();\n                float pageArea = ph * pw;\n                ImageSizeExtractor imageSizeExtractor = new ImageSizeExtractor();\n                imageSizeExtractor.processPage(pagina);\n                if (!imageSizeExtractor.getPageImages().entrySet().isEmpty()) {\n                    for (Map.Entry&lt;String, float[]&gt; entry : imageSizeExtractor.getPageImages().entrySet()) {\n                        float[] imageMeasures = entry.getValue();\n                        float imageArea = imageMeasures[0] * imageMeasures[1];\n                        float imgPercent = (imageArea / pageArea) * 100;\n\n                        if (imgPercent &gt; 80) {\n                            containsEntirePageImage = true;\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n        return containsEntirePageImage;\n    }\n</code></pre>\n<p>the processPage(PDPage page) method is in the PDFStreamEngine class</p>\n"}],"owner":{"account_id":2051979,"reputation":331,"user_id":1830775,"accept_rate":71,"display_name":"Eszter"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":900,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1642782365,"creation_date":1633690471,"question_id":69494732,"body_markdown":"I am trying to compute the percentage images within a PDF &quot;occupy&quot; on each page. I have the following code:\r\n\r\n    PDPageTree list = document.getPages();\r\n    int pageNumber = 0;\r\n    float imagePerPage = 0;\r\n    for (PDPage page : list) {\r\n        BufferedImage pageImage = renderer.renderImage(pageNumber, 2);\r\n        float pageWidth = pageImage.getWidth();\r\n        float pageHeight = pageImage.getHeight();\r\n        PDResources pdResources = page.getResources();\r\n\r\n        int i = 1;\r\n        for (COSName name : pdResources.getXObjectNames()) {\r\n            PDXObject object = pdResources.getXObject(name);\r\n            if (object instanceof PDImageXObject) {\r\n                PDImageXObject image = (PDImageXObject) object;\r\n                BufferedImage bufferedImage = image.getImage();\r\n                float imageWidth = bufferedImage.getWidth();\r\n                float imageHeight = bufferedImage.getHeight();\r\n\r\n                int sumr = 0;\r\n                int sumg = 0;\r\n                int sumb = 0;\r\n                for (int x = 0; x &lt; imageWidth; x++) {\r\n                    for (int y = 0; y &lt; imageHeight; y++) {\r\n                        Color pixel = new Color(bufferedImage.getRGB(x, y));\r\n                        sumr += pixel.getRed();\r\n                        sumg += pixel.getGreen();\r\n                        sumb += pixel.getBlue();\r\n                    }\r\n                }\r\n                int num = image.getWidth() * image.getHeight();\r\n                Color avg = new Color(sumr / num, sumg / num, sumb / num);\r\n                if (!new Color(0, 0, 0).equals(avg)) {\r\n                    String filename = &quot;extracted-image-&quot; + i + &quot;.png&quot;;\r\n                    ImageIO.write(\r\n                        image.getImage(),\r\n                        &quot;png&quot;,\r\n                        new File(filename)\r\n                    );\r\n                    imagePerPage++;\r\n                }\r\n                i++;\r\n            }\r\n        }\r\n        System.out.println(&quot;Image per page ratio is: &quot; + imagePerPage);\r\n        imagePerPage = 0;\r\n        pageNumber++;\r\n    }\r\n\r\n\r\nHowever, bufferedImage.getWidth() and bufferedImage.getHeight() return the actual size of the image in pixels. How could I get the displayed size for each image?\r\n\r\n**UPDATE 1**\r\n\r\nI have tried using PrintImageLocations.java example for retrieving display image sizes. However, in case of an actual pdf, it seems to give wrong responses.\r\n\r\n[![Example PDF][1]][1]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gxcc0.jpg\r\n\r\nIn case of this PDF whose mediabox has 612 in width and 792 as height, the scaled numbers for the images of 25 (as width) and 16.61 (as height) do not seem to be correct. After all, each image has at least a third of the total width.","title":"Get displayed size of an image in a pdf with PDFBox","body":"<p>I am trying to compute the percentage images within a PDF &quot;occupy&quot; on each page. I have the following code:</p>\n<pre><code>PDPageTree list = document.getPages();\nint pageNumber = 0;\nfloat imagePerPage = 0;\nfor (PDPage page : list) {\n    BufferedImage pageImage = renderer.renderImage(pageNumber, 2);\n    float pageWidth = pageImage.getWidth();\n    float pageHeight = pageImage.getHeight();\n    PDResources pdResources = page.getResources();\n\n    int i = 1;\n    for (COSName name : pdResources.getXObjectNames()) {\n        PDXObject object = pdResources.getXObject(name);\n        if (object instanceof PDImageXObject) {\n            PDImageXObject image = (PDImageXObject) object;\n            BufferedImage bufferedImage = image.getImage();\n            float imageWidth = bufferedImage.getWidth();\n            float imageHeight = bufferedImage.getHeight();\n\n            int sumr = 0;\n            int sumg = 0;\n            int sumb = 0;\n            for (int x = 0; x &lt; imageWidth; x++) {\n                for (int y = 0; y &lt; imageHeight; y++) {\n                    Color pixel = new Color(bufferedImage.getRGB(x, y));\n                    sumr += pixel.getRed();\n                    sumg += pixel.getGreen();\n                    sumb += pixel.getBlue();\n                }\n            }\n            int num = image.getWidth() * image.getHeight();\n            Color avg = new Color(sumr / num, sumg / num, sumb / num);\n            if (!new Color(0, 0, 0).equals(avg)) {\n                String filename = &quot;extracted-image-&quot; + i + &quot;.png&quot;;\n                ImageIO.write(\n                    image.getImage(),\n                    &quot;png&quot;,\n                    new File(filename)\n                );\n                imagePerPage++;\n            }\n            i++;\n        }\n    }\n    System.out.println(&quot;Image per page ratio is: &quot; + imagePerPage);\n    imagePerPage = 0;\n    pageNumber++;\n}\n</code></pre>\n<p>However, bufferedImage.getWidth() and bufferedImage.getHeight() return the actual size of the image in pixels. How could I get the displayed size for each image?</p>\n<p><strong>UPDATE 1</strong></p>\n<p>I have tried using PrintImageLocations.java example for retrieving display image sizes. However, in case of an actual pdf, it seems to give wrong responses.</p>\n<p><a href=\"https://i.stack.imgur.com/gxcc0.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gxcc0.jpg\" alt=\"Example PDF\" /></a></p>\n<p>In case of this PDF whose mediabox has 612 in width and 792 as height, the scaled numbers for the images of 25 (as width) and 16.61 (as height) do not seem to be correct. After all, each image has at least a third of the total width.</p>\n"},{"tags":["java","spring","hibernate","jpa","jdbc"],"answers":[{"tags":[],"owner":{"account_id":7445951,"reputation":1905,"user_id":5662105,"display_name":"peekay"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1556510266,"creation_date":1556510266,"answer_id":55896758,"question_id":55895887,"body_markdown":"This is likely a data issue (in the database table).\r\n\r\nA mysql table could contain datetime / timestamp entries like `2019-00-00`.  While such dates are valid in mysql (depending on the server version and mode), they will cause an exception when the mysql driver tries to parse them into Java dates.\r\n\r\nDouble check that the rows you are trying to retrieve have valid dates in the `publish_time` column.\r\n\r\nps. if you have all zero dates (`0000-00-00 00:00:00`) then you can use the `zeroDateTimeBehavior` property in the connection string to handle them more gracefully without changing the database values.","title":"Hibernate:Could not read entity state from ResultSet and IllegalArgumentException:GregorianCalendar.computeTime","body":"<p>This is likely a data issue (in the database table).</p>\n\n<p>A mysql table could contain datetime / timestamp entries like <code>2019-00-00</code>.  While such dates are valid in mysql (depending on the server version and mode), they will cause an exception when the mysql driver tries to parse them into Java dates.</p>\n\n<p>Double check that the rows you are trying to retrieve have valid dates in the <code>publish_time</code> column.</p>\n\n<p>ps. if you have all zero dates (<code>0000-00-00 00:00:00</code>) then you can use the <code>zeroDateTimeBehavior</code> property in the connection string to handle them more gracefully without changing the database values.</p>\n"}],"owner":{"account_id":13521472,"reputation":434,"user_id":9754554,"display_name":"Mohammad Mehdi Sarfejoo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27797,"favorite_count":0,"down_vote_count":1,"up_vote_count":16,"accepted_answer_id":55896758,"answer_count":1,"score":15,"last_activity_date":1642782288,"creation_date":1556499962,"question_id":55895887,"body_markdown":"I&#39;m beginner in JPA and hibernate and I&#39;m just trying to fetch some data from my DB via hibernate but I failed and I got this error :\r\n\r\n    Apr 29, 2019 5:14:28 AM org.hibernate.jpa.internal.util.LogHelper logPersistenceUnitInformation\r\n    INFO: HHH000204: Processing qPersistenceUnitInfo [name: NewPersistenceUnit]\r\n    Apr 29, 2019 5:14:29 AM org.hibernate.Version logVersion\r\n    INFO: HHH000412: Hibernate Core {5.4.2.Final}\r\n    Apr 29, 2019 5:14:29 AM org.hibernate.annotations.common.reflection.java.JavaReflectionManager &lt;clinit&gt;\r\n    INFO: HCANN000001: Hibernate Commons Annotations {5.1.0.Final}\r\n    Apr 29, 2019 5:14:30 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\r\n    WARN: HHH10001002: Using Hibernate built-in connection pool (not for production use!)\r\n    Loading class `com.mysql.jdbc.Driver&#39;. This is deprecated. The new driver class is `com.mysql.cj.jdbc.Driver&#39;. The driver is automatically registered via the SPI and manual loading of the driver class is generally unnecessary.\r\n    Apr 29, 2019 5:14:30 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\n    INFO: HHH10001005: using driver [com.mysql.jdbc.Driver] at URL [jdbc:mysql://localhost:3306/shopping]\r\n    Apr 29, 2019 5:14:30 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\n    INFO: HHH10001001: Connection properties: {user=root, password=****}\r\n    Apr 29, 2019 5:14:30 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\n    INFO: HHH10001003: Autocommit mode: false\r\n    Apr 29, 2019 5:14:30 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections &lt;init&gt;\r\n    INFO: HHH000115: Hibernate connection pool size: 20 (min=1)\r\n    Apr 29, 2019 5:14:32 AM org.hibernate.dialect.Dialect &lt;init&gt;\r\n    INFO: HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect\r\n    Apr 29, 2019 5:14:33 AM org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl getIsolatedConnection\r\n    INFO: HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@35e478f] for (non-JTA) DDL execution was not in auto-commit mode; the Connection &#39;local transaction&#39; will be committed and the Connection will be set into auto-commit mode.\r\n    Apr 29, 2019 5:14:33 AM org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService\r\n    INFO: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n    Hibernate: \r\n        select\r\n            itemclass0_.id as id1_0_0_,\r\n            itemclass0_.author as author2_0_0_,\r\n            itemclass0_.available_amount as availabl3_0_0_,\r\n            itemclass0_.bought as bought4_0_0_,\r\n            itemclass0_.imageURL as imageURL5_0_0_,\r\n            itemclass0_.name as name6_0_0_,\r\n            itemclass0_.price as price7_0_0_,\r\n            itemclass0_.publish_time as publish_8_0_0_ \r\n        from\r\n            item itemclass0_ \r\n        where\r\n            itemclass0_.id=?\r\n    Apr 29, 2019 5:14:33 AM org.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions\r\n    WARN: SQL Error: 0, SQLState: S1009\r\n    Apr 29, 2019 5:14:33 AM org.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions\r\n    ERROR: MONTH\r\n    Apr 29, 2019 5:14:33 AM org.hibernate.event.internal.DefaultLoadEventListener doOnLoad\r\n    INFO: HHH000327: Error performing load command : org.hibernate.exception.GenericJDBCException: Could not read entity state from ResultSet : EntityKey[entities.ItemClass#58]\r\n    Exception in thread &quot;main&quot; javax.persistence.PersistenceException: org.hibernate.exception.GenericJDBCException: Could not read entity state from ResultSet : EntityKey[entities.ItemClass#58]\r\n    \tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:154)\r\n    \tat org.hibernate.internal.SessionImpl.find(SessionImpl.java:3581)\r\n    \tat org.hibernate.internal.SessionImpl.find(SessionImpl.java:3519)\r\n    \tat Test.main(Test.java:17)\r\n    Caused by: org.hibernate.exception.GenericJDBCException: Could not read entity state from ResultSet : EntityKey[entities.ItemClass#58]\r\n    \tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:47)\r\n    \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\r\n    \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\r\n    \tat org.hibernate.loader.plan.exec.process.internal.EntityReferenceInitializerImpl.loadFromResultSet(EntityReferenceInitializerImpl.java:320)\r\n    \tat org.hibernate.loader.plan.exec.process.internal.EntityReferenceInitializerImpl.hydrateEntityState(EntityReferenceInitializerImpl.java:233)\r\n    \tat org.hibernate.loader.plan.exec.process.internal.AbstractRowReader.readRow(AbstractRowReader.java:103)\r\n    \tat org.hibernate.loader.plan.exec.internal.EntityLoadQueryDetails$EntityLoaderRowReader.readRow(EntityLoadQueryDetails.java:254)\r\n    \tat org.hibernate.loader.plan.exec.process.internal.ResultSetProcessorImpl.extractResults(ResultSetProcessorImpl.java:122)\r\n    \tat org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad(AbstractLoadPlanBasedLoader.java:122)\r\n    \tat org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad(AbstractLoadPlanBasedLoader.java:86)\r\n    \tat org.hibernate.loader.entity.plan.AbstractLoadPlanBasedEntityLoader.load(AbstractLoadPlanBasedEntityLoader.java:197)\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:4279)\r\n    \tat org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:482)\r\n    \tat org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:452)\r\n    \tat org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:203)\r\n    \tat org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:262)\r\n    \tat org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:105)\r\n    \tat org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:73)\r\n    \tat org.hibernate.internal.SessionImpl.fireLoad(SessionImpl.java:1287)\r\n    \tat org.hibernate.internal.SessionImpl.access$2100(SessionImpl.java:212)\r\n    \tat org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.doLoad(SessionImpl.java:2930)\r\n    \tat org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.lambda$load$1(SessionImpl.java:2911)\r\n    \tat org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.perform(SessionImpl.java:2867)\r\n    \tat org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.load(SessionImpl.java:2911)\r\n    \tat org.hibernate.internal.SessionImpl.find(SessionImpl.java:3552)\r\n    \t... 2 more\r\n    Caused by: java.sql.SQLException: MONTH\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129)\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:85)\r\n    \tat com.mysql.cj.jdbc.result.ResultSetImpl.getDate(ResultSetImpl.java:847)\r\n    \tat com.mysql.cj.jdbc.result.ResultSetImpl.getDate(ResultSetImpl.java:860)\r\n    \tat org.hibernate.type.descriptor.sql.DateTypeDescriptor$2.doExtract(DateTypeDescriptor.java:76)\r\n    \tat org.hibernate.type.descriptor.sql.BasicExtractor.extract(BasicExtractor.java:47)\r\n    \tat org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:257)\r\n    \tat org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:253)\r\n    \tat org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:243)\r\n    \tat org.hibernate.type.AbstractStandardBasicType.hydrate(AbstractStandardBasicType.java:329)\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.hydrate(AbstractEntityPersister.java:3014)\r\n    \tat org.hibernate.loader.plan.exec.process.internal.EntityReferenceInitializerImpl.loadFromResultSet(EntityReferenceInitializerImpl.java:305)\r\n    \t... 23 more\r\n    Caused by: com.mysql.cj.exceptions.WrongArgumentException: MONTH\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n    \tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)\r\n    \tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)\r\n    \tat com.mysql.cj.result.SqlDateValueFactory.createFromDate(SqlDateValueFactory.java:80)\r\n    \tat com.mysql.cj.result.SqlDateValueFactory.createFromDate(SqlDateValueFactory.java:46)\r\n    \tat com.mysql.cj.result.BaseDecoratingValueFactory.createFromDate(BaseDecoratingValueFactory.java:53)\r\n    \tat com.mysql.cj.result.BaseDecoratingValueFactory.createFromDate(BaseDecoratingValueFactory.java:53)\r\n    \tat com.mysql.cj.protocol.a.MysqlTextValueDecoder.decodeDate(MysqlTextValueDecoder.java:72)\r\n    \tat com.mysql.cj.protocol.result.AbstractResultsetRow.decodeAndCreateReturnValue(AbstractResultsetRow.java:90)\r\n    \tat com.mysql.cj.protocol.result.AbstractResultsetRow.getValueFromBytes(AbstractResultsetRow.java:250)\r\n    \tat com.mysql.cj.protocol.a.result.ByteArrayRow.getValue(ByteArrayRow.java:91)\r\n    \tat com.mysql.cj.jdbc.result.ResultSetImpl.getNonStringValueFromRow(ResultSetImpl.java:656)\r\n    \tat com.mysql.cj.jdbc.result.ResultSetImpl.getDateOrTimestampValueFromRow(ResultSetImpl.java:679)\r\n    \t... 33 more\r\n    Caused by: java.lang.IllegalArgumentException: MONTH\r\n    \tat java.util.GregorianCalendar.computeTime(GregorianCalendar.java:2648)\r\n    \tat java.util.Calendar.updateTime(Calendar.java:3393)\r\n    \tat java.util.Calendar.getTimeInMillis(Calendar.java:1782)\r\n    \tat com.mysql.cj.result.SqlDateValueFactory.createFromDate(SqlDateValueFactory.java:77)\r\n    \t... 42 more\r\n    \r\n    Process finished with exit code 1\r\n\r\nand Also type of publish_time column is date. \r\n\r\n\r\n**Persistence.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;persistence xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot; version=&quot;2.0&quot;&gt;\r\n    \r\n        &lt;persistence-unit name=&quot;NewPersistenceUnit&quot;&gt;\r\n            &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\r\n            &lt;class&gt;entities.ItemClass&lt;/class&gt;\r\n            &lt;properties&gt;\r\n                &lt;property name=&quot;hibernate.connection.url&quot; value=&quot;jdbc:mysql://localhost:3306/shopping&quot;/&gt;\r\n                &lt;property name=&quot;hibernate.connection.driver_class&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt;\r\n                &lt;property name=&quot;hibernate.connection.username&quot; value=&quot;root&quot;/&gt;\r\n                &lt;property name=&quot;hibernate.connection.password&quot; value=&quot;****&quot;/&gt;\r\n                &lt;property name=&quot;hibernate.archive.autodetection&quot; value=&quot;class&quot;/&gt;\r\n                &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot;/&gt;\r\n                &lt;property name=&quot;hibernate.format_sql&quot; value=&quot;true&quot;/&gt;\r\n                &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot;/&gt;\r\n            &lt;/properties&gt;\r\n        &lt;/persistence-unit&gt;\r\n    &lt;/persistence&gt;\r\n\r\n\r\n**This is my Entity Class** \r\n\r\n**ItemClass.java**\r\n\r\n    package entities;\r\n    \r\n    import javax.persistence.*;\r\n    import java.sql.Date;\r\n    import java.util.Objects;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;item&quot;, schema = &quot;shopping&quot;, catalog = &quot;&quot;)\r\n    public class ItemClass {\r\n        private int id;\r\n        private String name;\r\n        private Integer price;\r\n        private String imageUrl;\r\n        private Integer availableAmount;\r\n        private Integer bought;\r\n    \r\n        @Temporal(TemporalType.TIMESTAMP)\r\n        private Date publishTime;\r\n    \r\n        private String author;\r\n    \r\n        @Id\r\n        @Column(name = &quot;id&quot;, nullable = false)\r\n        public int getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(int id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        @Basic\r\n        @Column(name = &quot;name&quot;, nullable = false, length = 45)\r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        @Basic\r\n        @Column(name = &quot;price&quot;, nullable = true)\r\n        public Integer getPrice() {\r\n            return price;\r\n        }\r\n    \r\n        public void setPrice(Integer price) {\r\n            this.price = price;\r\n        }\r\n    \r\n        @Basic\r\n        @Column(name = &quot;imageURL&quot;, nullable = true, length = 45)\r\n        public String getImageUrl() {\r\n            return imageUrl;\r\n        }\r\n    \r\n        public void setImageUrl(String imageUrl) {\r\n            this.imageUrl = imageUrl;\r\n        }\r\n    \r\n        @Basic\r\n        @Column(name = &quot;available_amount&quot;, nullable = true)\r\n        public Integer getAvailableAmount() {\r\n            return availableAmount;\r\n        }\r\n    \r\n        public void setAvailableAmount(Integer availableAmount) {\r\n            this.availableAmount = availableAmount;\r\n        }\r\n    \r\n        @Basic\r\n        @Column(name = &quot;bought&quot;, nullable = true)\r\n        public Integer getBought() {\r\n            return bought;\r\n        }\r\n    \r\n        public void setBought(Integer bought) {\r\n            this.bought = bought;\r\n        }\r\n    \r\n        @Basic\r\n        @Column(name = &quot;publish_time&quot;, nullable = true)\r\n        public Date getPublishTime() {\r\n            return publishTime;\r\n        }\r\n    \r\n        public void setPublishTime(Date publishTime) {\r\n            this.publishTime = publishTime;\r\n        }\r\n    \r\n        @Basic\r\n        @Column(name = &quot;author&quot;, nullable = false, length = 45)\r\n        public String getAuthor() {\r\n            return author;\r\n        }\r\n    \r\n        public void setAuthor(String author) {\r\n            this.author = author;\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n            ItemClass itemClass = (ItemClass) o;\r\n            return id == itemClass.id &amp;&amp;\r\n                    Objects.equals(name, itemClass.name) &amp;&amp;\r\n                    Objects.equals(price, itemClass.price) &amp;&amp;\r\n                    Objects.equals(imageUrl, itemClass.imageUrl) &amp;&amp;\r\n                    Objects.equals(availableAmount, itemClass.availableAmount) &amp;&amp;\r\n                    Objects.equals(bought, itemClass.bought) &amp;&amp;\r\n                    Objects.equals(publishTime, itemClass.publishTime) &amp;&amp;\r\n                    Objects.equals(author, itemClass.author);\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(id, name, price, imageUrl, availableAmount, bought, publishTime, author);\r\n        }\r\n    }\r\n\r\n\r\n**Test.java**\r\n\r\n    import entities.ItemClass;\r\n    \r\n    \r\n    import javax.persistence.EntityManager;\r\n    import javax.persistence.EntityManagerFactory;\r\n    import javax.persistence.Persistence;\r\n    \r\n    \r\n    public class Test {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            EntityManagerFactory entityManagerFactory = Persistence.createEntityManagerFactory(&quot;NewPersistenceUnit&quot;);\r\n    \r\n            EntityManager entityManager = entityManagerFactory.createEntityManager();\r\n    \r\n            ItemClass item = entityManager.find(ItemClass.class,58);\r\n    \r\n            System.out.println(item.getAuthor());\r\n    \r\n    \r\n        }\r\n    \r\n    }\r\n\r\n\r\nI reviewed another questions that were similar to my title but It doesn&#39;t help. \r\ncan anyone plz help me to solve this issue ? \r\n\r\n------------------------\r\n\r\n**UPDATE**\r\n\r\nThese are my rows with publish_time columns:\r\n\r\n[My Table][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tLhiW.jpg","title":"Hibernate:Could not read entity state from ResultSet and IllegalArgumentException:GregorianCalendar.computeTime","body":"<p>I'm beginner in JPA and hibernate and I'm just trying to fetch some data from my DB via hibernate but I failed and I got this error :</p>\n<pre><code>Apr 29, 2019 5:14:28 AM org.hibernate.jpa.internal.util.LogHelper logPersistenceUnitInformation\nINFO: HHH000204: Processing qPersistenceUnitInfo [name: NewPersistenceUnit]\nApr 29, 2019 5:14:29 AM org.hibernate.Version logVersion\nINFO: HHH000412: Hibernate Core {5.4.2.Final}\nApr 29, 2019 5:14:29 AM org.hibernate.annotations.common.reflection.java.JavaReflectionManager &lt;clinit&gt;\nINFO: HCANN000001: Hibernate Commons Annotations {5.1.0.Final}\nApr 29, 2019 5:14:30 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\nWARN: HHH10001002: Using Hibernate built-in connection pool (not for production use!)\nLoading class `com.mysql.jdbc.Driver'. This is deprecated. The new driver class is `com.mysql.cj.jdbc.Driver'. The driver is automatically registered via the SPI and manual loading of the driver class is generally unnecessary.\nApr 29, 2019 5:14:30 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001005: using driver [com.mysql.jdbc.Driver] at URL [jdbc:mysql://localhost:3306/shopping]\nApr 29, 2019 5:14:30 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001001: Connection properties: {user=root, password=****}\nApr 29, 2019 5:14:30 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001003: Autocommit mode: false\nApr 29, 2019 5:14:30 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections &lt;init&gt;\nINFO: HHH000115: Hibernate connection pool size: 20 (min=1)\nApr 29, 2019 5:14:32 AM org.hibernate.dialect.Dialect &lt;init&gt;\nINFO: HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect\nApr 29, 2019 5:14:33 AM org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl getIsolatedConnection\nINFO: HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@35e478f] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.\nApr 29, 2019 5:14:33 AM org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService\nINFO: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\nHibernate: \n    select\n        itemclass0_.id as id1_0_0_,\n        itemclass0_.author as author2_0_0_,\n        itemclass0_.available_amount as availabl3_0_0_,\n        itemclass0_.bought as bought4_0_0_,\n        itemclass0_.imageURL as imageURL5_0_0_,\n        itemclass0_.name as name6_0_0_,\n        itemclass0_.price as price7_0_0_,\n        itemclass0_.publish_time as publish_8_0_0_ \n    from\n        item itemclass0_ \n    where\n        itemclass0_.id=?\nApr 29, 2019 5:14:33 AM org.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions\nWARN: SQL Error: 0, SQLState: S1009\nApr 29, 2019 5:14:33 AM org.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions\nERROR: MONTH\nApr 29, 2019 5:14:33 AM org.hibernate.event.internal.DefaultLoadEventListener doOnLoad\nINFO: HHH000327: Error performing load command : org.hibernate.exception.GenericJDBCException: Could not read entity state from ResultSet : EntityKey[entities.ItemClass#58]\nException in thread &quot;main&quot; javax.persistence.PersistenceException: org.hibernate.exception.GenericJDBCException: Could not read entity state from ResultSet : EntityKey[entities.ItemClass#58]\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:154)\n    at org.hibernate.internal.SessionImpl.find(SessionImpl.java:3581)\n    at org.hibernate.internal.SessionImpl.find(SessionImpl.java:3519)\n    at Test.main(Test.java:17)\nCaused by: org.hibernate.exception.GenericJDBCException: Could not read entity state from ResultSet : EntityKey[entities.ItemClass#58]\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:47)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\n    at org.hibernate.loader.plan.exec.process.internal.EntityReferenceInitializerImpl.loadFromResultSet(EntityReferenceInitializerImpl.java:320)\n    at org.hibernate.loader.plan.exec.process.internal.EntityReferenceInitializerImpl.hydrateEntityState(EntityReferenceInitializerImpl.java:233)\n    at org.hibernate.loader.plan.exec.process.internal.AbstractRowReader.readRow(AbstractRowReader.java:103)\n    at org.hibernate.loader.plan.exec.internal.EntityLoadQueryDetails$EntityLoaderRowReader.readRow(EntityLoadQueryDetails.java:254)\n    at org.hibernate.loader.plan.exec.process.internal.ResultSetProcessorImpl.extractResults(ResultSetProcessorImpl.java:122)\n    at org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad(AbstractLoadPlanBasedLoader.java:122)\n    at org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad(AbstractLoadPlanBasedLoader.java:86)\n    at org.hibernate.loader.entity.plan.AbstractLoadPlanBasedEntityLoader.load(AbstractLoadPlanBasedEntityLoader.java:197)\n    at org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:4279)\n    at org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:482)\n    at org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:452)\n    at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:203)\n    at org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:262)\n    at org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:105)\n    at org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:73)\n    at org.hibernate.internal.SessionImpl.fireLoad(SessionImpl.java:1287)\n    at org.hibernate.internal.SessionImpl.access$2100(SessionImpl.java:212)\n    at org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.doLoad(SessionImpl.java:2930)\n    at org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.lambda$load$1(SessionImpl.java:2911)\n    at org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.perform(SessionImpl.java:2867)\n    at org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.load(SessionImpl.java:2911)\n    at org.hibernate.internal.SessionImpl.find(SessionImpl.java:3552)\n    ... 2 more\nCaused by: java.sql.SQLException: MONTH\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129)\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:85)\n    at com.mysql.cj.jdbc.result.ResultSetImpl.getDate(ResultSetImpl.java:847)\n    at com.mysql.cj.jdbc.result.ResultSetImpl.getDate(ResultSetImpl.java:860)\n    at org.hibernate.type.descriptor.sql.DateTypeDescriptor$2.doExtract(DateTypeDescriptor.java:76)\n    at org.hibernate.type.descriptor.sql.BasicExtractor.extract(BasicExtractor.java:47)\n    at org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:257)\n    at org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:253)\n    at org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:243)\n    at org.hibernate.type.AbstractStandardBasicType.hydrate(AbstractStandardBasicType.java:329)\n    at org.hibernate.persister.entity.AbstractEntityPersister.hydrate(AbstractEntityPersister.java:3014)\n    at org.hibernate.loader.plan.exec.process.internal.EntityReferenceInitializerImpl.loadFromResultSet(EntityReferenceInitializerImpl.java:305)\n    ... 23 more\nCaused by: com.mysql.cj.exceptions.WrongArgumentException: MONTH\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)\n    at com.mysql.cj.result.SqlDateValueFactory.createFromDate(SqlDateValueFactory.java:80)\n    at com.mysql.cj.result.SqlDateValueFactory.createFromDate(SqlDateValueFactory.java:46)\n    at com.mysql.cj.result.BaseDecoratingValueFactory.createFromDate(BaseDecoratingValueFactory.java:53)\n    at com.mysql.cj.result.BaseDecoratingValueFactory.createFromDate(BaseDecoratingValueFactory.java:53)\n    at com.mysql.cj.protocol.a.MysqlTextValueDecoder.decodeDate(MysqlTextValueDecoder.java:72)\n    at com.mysql.cj.protocol.result.AbstractResultsetRow.decodeAndCreateReturnValue(AbstractResultsetRow.java:90)\n    at com.mysql.cj.protocol.result.AbstractResultsetRow.getValueFromBytes(AbstractResultsetRow.java:250)\n    at com.mysql.cj.protocol.a.result.ByteArrayRow.getValue(ByteArrayRow.java:91)\n    at com.mysql.cj.jdbc.result.ResultSetImpl.getNonStringValueFromRow(ResultSetImpl.java:656)\n    at com.mysql.cj.jdbc.result.ResultSetImpl.getDateOrTimestampValueFromRow(ResultSetImpl.java:679)\n    ... 33 more\nCaused by: java.lang.IllegalArgumentException: MONTH\n    at java.util.GregorianCalendar.computeTime(GregorianCalendar.java:2648)\n    at java.util.Calendar.updateTime(Calendar.java:3393)\n    at java.util.Calendar.getTimeInMillis(Calendar.java:1782)\n    at com.mysql.cj.result.SqlDateValueFactory.createFromDate(SqlDateValueFactory.java:77)\n    ... 42 more\n\nProcess finished with exit code 1\n</code></pre>\n<p>and Also type of publish_time column is date.</p>\n<p><strong>Persistence.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;persistence xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot; version=&quot;2.0&quot;&gt;\n\n    &lt;persistence-unit name=&quot;NewPersistenceUnit&quot;&gt;\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\n        &lt;class&gt;entities.ItemClass&lt;/class&gt;\n        &lt;properties&gt;\n            &lt;property name=&quot;hibernate.connection.url&quot; value=&quot;jdbc:mysql://localhost:3306/shopping&quot;/&gt;\n            &lt;property name=&quot;hibernate.connection.driver_class&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt;\n            &lt;property name=&quot;hibernate.connection.username&quot; value=&quot;root&quot;/&gt;\n            &lt;property name=&quot;hibernate.connection.password&quot; value=&quot;****&quot;/&gt;\n            &lt;property name=&quot;hibernate.archive.autodetection&quot; value=&quot;class&quot;/&gt;\n            &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot;/&gt;\n            &lt;property name=&quot;hibernate.format_sql&quot; value=&quot;true&quot;/&gt;\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot;/&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n<p><strong>This is my Entity Class</strong></p>\n<p><strong>ItemClass.java</strong></p>\n<pre><code>package entities;\n\nimport javax.persistence.*;\nimport java.sql.Date;\nimport java.util.Objects;\n\n@Entity\n@Table(name = &quot;item&quot;, schema = &quot;shopping&quot;, catalog = &quot;&quot;)\npublic class ItemClass {\n    private int id;\n    private String name;\n    private Integer price;\n    private String imageUrl;\n    private Integer availableAmount;\n    private Integer bought;\n\n    @Temporal(TemporalType.TIMESTAMP)\n    private Date publishTime;\n\n    private String author;\n\n    @Id\n    @Column(name = &quot;id&quot;, nullable = false)\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    @Basic\n    @Column(name = &quot;name&quot;, nullable = false, length = 45)\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    @Basic\n    @Column(name = &quot;price&quot;, nullable = true)\n    public Integer getPrice() {\n        return price;\n    }\n\n    public void setPrice(Integer price) {\n        this.price = price;\n    }\n\n    @Basic\n    @Column(name = &quot;imageURL&quot;, nullable = true, length = 45)\n    public String getImageUrl() {\n        return imageUrl;\n    }\n\n    public void setImageUrl(String imageUrl) {\n        this.imageUrl = imageUrl;\n    }\n\n    @Basic\n    @Column(name = &quot;available_amount&quot;, nullable = true)\n    public Integer getAvailableAmount() {\n        return availableAmount;\n    }\n\n    public void setAvailableAmount(Integer availableAmount) {\n        this.availableAmount = availableAmount;\n    }\n\n    @Basic\n    @Column(name = &quot;bought&quot;, nullable = true)\n    public Integer getBought() {\n        return bought;\n    }\n\n    public void setBought(Integer bought) {\n        this.bought = bought;\n    }\n\n    @Basic\n    @Column(name = &quot;publish_time&quot;, nullable = true)\n    public Date getPublishTime() {\n        return publishTime;\n    }\n\n    public void setPublishTime(Date publishTime) {\n        this.publishTime = publishTime;\n    }\n\n    @Basic\n    @Column(name = &quot;author&quot;, nullable = false, length = 45)\n    public String getAuthor() {\n        return author;\n    }\n\n    public void setAuthor(String author) {\n        this.author = author;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        ItemClass itemClass = (ItemClass) o;\n        return id == itemClass.id &amp;&amp;\n                Objects.equals(name, itemClass.name) &amp;&amp;\n                Objects.equals(price, itemClass.price) &amp;&amp;\n                Objects.equals(imageUrl, itemClass.imageUrl) &amp;&amp;\n                Objects.equals(availableAmount, itemClass.availableAmount) &amp;&amp;\n                Objects.equals(bought, itemClass.bought) &amp;&amp;\n                Objects.equals(publishTime, itemClass.publishTime) &amp;&amp;\n                Objects.equals(author, itemClass.author);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(id, name, price, imageUrl, availableAmount, bought, publishTime, author);\n    }\n}\n</code></pre>\n<p><strong>Test.java</strong></p>\n<pre><code>import entities.ItemClass;\n\n\nimport javax.persistence.EntityManager;\nimport javax.persistence.EntityManagerFactory;\nimport javax.persistence.Persistence;\n\n\npublic class Test {\n\n    public static void main(String[] args) {\n\n        EntityManagerFactory entityManagerFactory = Persistence.createEntityManagerFactory(&quot;NewPersistenceUnit&quot;);\n\n        EntityManager entityManager = entityManagerFactory.createEntityManager();\n\n        ItemClass item = entityManager.find(ItemClass.class,58);\n\n        System.out.println(item.getAuthor());\n\n\n    }\n\n}\n</code></pre>\n<p>I reviewed another questions that were similar to my title but It doesn't help.\ncan anyone plz help me to solve this issue ?</p>\n<hr />\n<p><strong>UPDATE</strong></p>\n<p>These are my rows with publish_time columns:</p>\n<p><a href=\"https://i.stack.imgur.com/tLhiW.jpg\" rel=\"noreferrer\">My Table</a></p>\n"},{"tags":["java","elasticsearch","noclassdeffounderror"],"comments":[{"owner":{"account_id":12382,"reputation":5758,"user_id":1215136,"display_name":"ilvar"},"score":0,"creation_date":1642086545,"post_id":70694987,"comment_id":124983000,"body_markdown":"Have you tried running it with more recent JDK?","body":"Have you tried running it with more recent JDK?"},{"owner":{"account_id":15230889,"reputation":41,"user_id":10990069,"display_name":"L&#232;anne"},"score":0,"creation_date":1642172253,"post_id":70694987,"comment_id":125007299,"body_markdown":"no, this is the version we&#39;re using in prod environment","body":"no, this is the version we&#39;re using in prod environment"}],"answers":[{"tags":[],"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1642084566,"creation_date":1642084566,"answer_id":70698390,"question_id":70694987,"body_markdown":"According to [java.lang.NoClassDefFoundError: Could not initialize class XXX][1], the problem may be related to static initializer of `ZoneInfoFile.java`.\r\n\r\nWhat I can suggest is to create a simple class that use `ZoneInfoFile` and run in the server, to find out why this class cannot be initialized.\r\n```\r\nimport sun.util.calendar.ZoneInfoFile;\r\n\r\npublic class TestInitZoneInfoFile {\r\n    public static void main(String[] args) {\r\n        ZoneInfoFile.getZoneInfo(&quot;dummy&quot;);\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/7325579/java-lang-noclassdeffounderror-could-not-initialize-class-xxx","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: Could not initialize class sun.util.calendar.ZoneInfoFile","body":"<p>According to <a href=\"https://stackoverflow.com/questions/7325579/java-lang-noclassdeffounderror-could-not-initialize-class-xxx\">java.lang.NoClassDefFoundError: Could not initialize class XXX</a>, the problem may be related to static initializer of <code>ZoneInfoFile.java</code>.</p>\n<p>What I can suggest is to create a simple class that use <code>ZoneInfoFile</code> and run in the server, to find out why this class cannot be initialized.</p>\n<pre><code>import sun.util.calendar.ZoneInfoFile;\n\npublic class TestInitZoneInfoFile {\n    public static void main(String[] args) {\n        ZoneInfoFile.getZoneInfo(&quot;dummy&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15230889,"reputation":41,"user_id":10990069,"display_name":"L&#232;anne"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1642782264,"creation_date":1642782264,"answer_id":70804454,"question_id":70694987,"body_markdown":"I figured out the problem. The TimeZone dependency was missing from the OpenJDK installation: The symbolic link `$JAVA_HOME/jre/lib/tzdb.dat -&gt; /usr/share/javazi-1.8/tzdb.dat` was pointing to an empty directory. I downloaded the rpm file tzdata-java-2021c-1.el8.noarch.rpm and installed using the command: \r\n`rpm -ivh tzdata-java-2021c-1.el8.noarch.rpm`\r\n\r\nAll works fine now.","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: Could not initialize class sun.util.calendar.ZoneInfoFile","body":"<p>I figured out the problem. The TimeZone dependency was missing from the OpenJDK installation: The symbolic link <code>$JAVA_HOME/jre/lib/tzdb.dat -&gt; /usr/share/javazi-1.8/tzdb.dat</code> was pointing to an empty directory. I downloaded the rpm file tzdata-java-2021c-1.el8.noarch.rpm and installed using the command:\n<code>rpm -ivh tzdata-java-2021c-1.el8.noarch.rpm</code></p>\n<p>All works fine now.</p>\n"}],"owner":{"account_id":15230889,"reputation":41,"user_id":10990069,"display_name":"L&#232;anne"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5230,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70804454,"answer_count":2,"score":0,"last_activity_date":1642782264,"creation_date":1642069445,"question_id":70694987,"body_markdown":"I ran into this exception when i tried to start elasticsearch-6.8.20 using the command ```systemctl start elasticsearch.service```\r\n    \r\n      Starting Elasticsearch...\r\n      systemd[1]: Started Elasticsearch.\r\n      elasticsearch[71380]: Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: Could not initialize class sun.util.calendar.ZoneInfoFile\r\n      elasticsearch[71380]: #011at sun.util.calendar.ZoneInfo.getTimeZone(ZoneInfo.java:589)\r\n      elasticsearch[71380]: #011at java.util.TimeZone.getTimeZone(TimeZone.java:560)\r\n      elasticsearch[71380]: #011at java.util.TimeZone.setDefaultZone(TimeZone.java:666)\r\n      elasticsearch[71380]: #011at java.util.TimeZone.getDefaultRef(TimeZone.java:636)\r\n      elasticsearch[71380]: #011at java.util.TimeZone.getDefault(TimeZone.java:625)\r\n      elasticsearch[71380]: #011at java.text.SimpleDateFormat.initializeCalendar(SimpleDateFormat.java:657)\r\n      elasticsearch[71380]: #011at java.text.SimpleDateFormat.&lt;init&gt;(SimpleDateFormat.java:601)\r\n      elasticsearch[71380]: #011at java.text.SimpleDateFormat.&lt;init&gt;(SimpleDateFormat.java:580)\r\n      elasticsearch[71380]: #011at org.apache.logging.log4j.status.StatusData.getFormattedStatus(StatusData.java:122)\r\n      elasticsearch[71380]: #011at org.apache.logging.log4j.status.StatusConsoleListener.log(StatusConsoleListener.java:81)\r\n      elasticsearch[71380]: #011at org.apache.logging.log4j.status.StatusLogger.logMessage(StatusLogger.java:278)\r\n      elasticsearch[71380]: #011at org.apache.logging.log4j.spi.AbstractLogger.tryLogMessage(AbstractLogger.java:2170)\r\n      elasticsearch[71380]: #011at org.apache.logging.log4j.spi.AbstractLogger.logMessageTrackRecursion(AbstractLogger.java:2125)\r\n      elasticsearch[71380]: #011at org.apache.logging.log4j.spi.AbstractLogger.logMessageSafely(AbstractLogger.java:2108)\r\n      elasticsearch[71380]: #011at org.apache.logging.log4j.spi.AbstractLogger.logMessage(AbstractLogger.java:2002)\r\n      elasticsearch[71380]: #011at org.apache.logging.log4j.spi.AbstractLogger.logIfEnabled(AbstractLogger.java:1974)\r\n      elasticsearch[71380]: #011at org.apache.logging.log4j.spi.AbstractLogger.error(AbstractLogger.java:741)\r\n      elasticsearch[71380]: #011at org.apache.logging.log4j.core.pattern.PatternParser.createConverter(PatternParser.java:592)\r\n      elasticsearch[71380]: #011at org.apache.logging.log4j.core.pattern.PatternParser.finalizeConverter(PatternParser.java:639)\r\n      elasticsearch[71380]: #011at org.apache.logging.log4j.core.pattern.PatternParser.parse(PatternParser.java:415)\r\n      elasticsearch[71380]: #011at org.apache.logging.log4j.core.pattern.PatternParser.parse(PatternParser.java:177)\r\n      elasticsearch[71380]: #011at org.apache.logging.log4j.core.layout.PatternLayout$SerializerBuilder.build(PatternLayout.java:377)\r\n      elasticsearch[71380]: #011at org.apache.logging.log4j.core.layout.PatternLayout.&lt;init&gt;(PatternLayout.java:129)\r\n      elasticsearch[71380]: #011at org.apache.logging.log4j.core.layout.PatternLayout.&lt;init&gt;(PatternLayout.java:59)\r\n      elasticsearch[71380]: #011at org.apache.logging.log4j.core.layout.PatternLayout$Builder.build(PatternLayout.java:660)\r\n      elasticsearch[71380]: #011at org.apache.logging.log4j.core.config.AbstractConfiguration.setToDefault(AbstractConfiguration.java:584)\r\n      elasticsearch[71380]: #011at org.apache.logging.log4j.core.config.AbstractConfiguration.doConfigure(AbstractConfiguration.java:560)\r\n      elasticsearch[71380]: #011at org.apache.logging.log4j.core.config.AbstractConfiguration.initialize(AbstractConfiguration.java:238)\r\n      elasticsearch[71380]: #011at org.apache.logging.log4j.core.config.builder.impl.DefaultConfigurationBuilder.build(DefaultConfigurationBuilder.java:204)\r\n      elasticsearch[71380]: #011at org.apache.logging.log4j.core.config.builder.impl.DefaultConfigurationBuilder.build(DefaultConfigurationBuilder.java:161)\r\n      elasticsearch[71380]: #011at org.apache.logging.log4j.core.config.builder.impl.DefaultConfigurationBuilder.build(DefaultConfigurationBuilder.java:57)\r\n      elasticsearch[71380]: #011at org.elasticsearch.common.logging.LogConfigurator.configureStatusLogger(LogConfigurator.java:250)\r\n      elasticsearch[71380]: #011at org.elasticsearch.common.logging.LogConfigurator.configure(LogConfigurator.java:166)\r\n      elasticsearch[71380]: #011at org.elasticsearch.common.logging.LogConfigurator.configure(LogConfigurator.java:127)\r\n      elasticsearch[71380]: #011at org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:302)\r\n      elasticsearch[71380]: #011at org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:159)\r\n      elasticsearch[71380]: #011at org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:150)\r\n      elasticsearch[71380]: #011at org.elasticsearch.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:86)\r\n      elasticsearch[71380]: #011at org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:124)\r\n      elasticsearch[71380]: #011at org.elasticsearch.cli.Command.main(Command.java:90)\r\n      elasticsearch[71380]: #011at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:116)\r\n      elasticsearch[71380]: #011at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:93)\r\n      systemd[1]: elasticsearch.service: Main process exited, code=exited, status=1/FAILURE\r\n      systemd[1]: elasticsearch.service: Failed with result &#39;exit-code&#39;.\r\n\r\nThe service is not logging under the path defined in the config file elasticsearch.yml.\r\nany idea what could be the cause? I&#39;m using openjdk version &quot;1.8.0_312&quot; and Red Hat release 8.3 ","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: Could not initialize class sun.util.calendar.ZoneInfoFile","body":"<p>I ran into this exception when i tried to start elasticsearch-6.8.20 using the command <code>systemctl start elasticsearch.service</code></p>\n<pre><code>  Starting Elasticsearch...\n  systemd[1]: Started Elasticsearch.\n  elasticsearch[71380]: Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: Could not initialize class sun.util.calendar.ZoneInfoFile\n  elasticsearch[71380]: #011at sun.util.calendar.ZoneInfo.getTimeZone(ZoneInfo.java:589)\n  elasticsearch[71380]: #011at java.util.TimeZone.getTimeZone(TimeZone.java:560)\n  elasticsearch[71380]: #011at java.util.TimeZone.setDefaultZone(TimeZone.java:666)\n  elasticsearch[71380]: #011at java.util.TimeZone.getDefaultRef(TimeZone.java:636)\n  elasticsearch[71380]: #011at java.util.TimeZone.getDefault(TimeZone.java:625)\n  elasticsearch[71380]: #011at java.text.SimpleDateFormat.initializeCalendar(SimpleDateFormat.java:657)\n  elasticsearch[71380]: #011at java.text.SimpleDateFormat.&lt;init&gt;(SimpleDateFormat.java:601)\n  elasticsearch[71380]: #011at java.text.SimpleDateFormat.&lt;init&gt;(SimpleDateFormat.java:580)\n  elasticsearch[71380]: #011at org.apache.logging.log4j.status.StatusData.getFormattedStatus(StatusData.java:122)\n  elasticsearch[71380]: #011at org.apache.logging.log4j.status.StatusConsoleListener.log(StatusConsoleListener.java:81)\n  elasticsearch[71380]: #011at org.apache.logging.log4j.status.StatusLogger.logMessage(StatusLogger.java:278)\n  elasticsearch[71380]: #011at org.apache.logging.log4j.spi.AbstractLogger.tryLogMessage(AbstractLogger.java:2170)\n  elasticsearch[71380]: #011at org.apache.logging.log4j.spi.AbstractLogger.logMessageTrackRecursion(AbstractLogger.java:2125)\n  elasticsearch[71380]: #011at org.apache.logging.log4j.spi.AbstractLogger.logMessageSafely(AbstractLogger.java:2108)\n  elasticsearch[71380]: #011at org.apache.logging.log4j.spi.AbstractLogger.logMessage(AbstractLogger.java:2002)\n  elasticsearch[71380]: #011at org.apache.logging.log4j.spi.AbstractLogger.logIfEnabled(AbstractLogger.java:1974)\n  elasticsearch[71380]: #011at org.apache.logging.log4j.spi.AbstractLogger.error(AbstractLogger.java:741)\n  elasticsearch[71380]: #011at org.apache.logging.log4j.core.pattern.PatternParser.createConverter(PatternParser.java:592)\n  elasticsearch[71380]: #011at org.apache.logging.log4j.core.pattern.PatternParser.finalizeConverter(PatternParser.java:639)\n  elasticsearch[71380]: #011at org.apache.logging.log4j.core.pattern.PatternParser.parse(PatternParser.java:415)\n  elasticsearch[71380]: #011at org.apache.logging.log4j.core.pattern.PatternParser.parse(PatternParser.java:177)\n  elasticsearch[71380]: #011at org.apache.logging.log4j.core.layout.PatternLayout$SerializerBuilder.build(PatternLayout.java:377)\n  elasticsearch[71380]: #011at org.apache.logging.log4j.core.layout.PatternLayout.&lt;init&gt;(PatternLayout.java:129)\n  elasticsearch[71380]: #011at org.apache.logging.log4j.core.layout.PatternLayout.&lt;init&gt;(PatternLayout.java:59)\n  elasticsearch[71380]: #011at org.apache.logging.log4j.core.layout.PatternLayout$Builder.build(PatternLayout.java:660)\n  elasticsearch[71380]: #011at org.apache.logging.log4j.core.config.AbstractConfiguration.setToDefault(AbstractConfiguration.java:584)\n  elasticsearch[71380]: #011at org.apache.logging.log4j.core.config.AbstractConfiguration.doConfigure(AbstractConfiguration.java:560)\n  elasticsearch[71380]: #011at org.apache.logging.log4j.core.config.AbstractConfiguration.initialize(AbstractConfiguration.java:238)\n  elasticsearch[71380]: #011at org.apache.logging.log4j.core.config.builder.impl.DefaultConfigurationBuilder.build(DefaultConfigurationBuilder.java:204)\n  elasticsearch[71380]: #011at org.apache.logging.log4j.core.config.builder.impl.DefaultConfigurationBuilder.build(DefaultConfigurationBuilder.java:161)\n  elasticsearch[71380]: #011at org.apache.logging.log4j.core.config.builder.impl.DefaultConfigurationBuilder.build(DefaultConfigurationBuilder.java:57)\n  elasticsearch[71380]: #011at org.elasticsearch.common.logging.LogConfigurator.configureStatusLogger(LogConfigurator.java:250)\n  elasticsearch[71380]: #011at org.elasticsearch.common.logging.LogConfigurator.configure(LogConfigurator.java:166)\n  elasticsearch[71380]: #011at org.elasticsearch.common.logging.LogConfigurator.configure(LogConfigurator.java:127)\n  elasticsearch[71380]: #011at org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:302)\n  elasticsearch[71380]: #011at org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:159)\n  elasticsearch[71380]: #011at org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:150)\n  elasticsearch[71380]: #011at org.elasticsearch.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:86)\n  elasticsearch[71380]: #011at org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:124)\n  elasticsearch[71380]: #011at org.elasticsearch.cli.Command.main(Command.java:90)\n  elasticsearch[71380]: #011at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:116)\n  elasticsearch[71380]: #011at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:93)\n  systemd[1]: elasticsearch.service: Main process exited, code=exited, status=1/FAILURE\n  systemd[1]: elasticsearch.service: Failed with result 'exit-code'.\n</code></pre>\n<p>The service is not logging under the path defined in the config file elasticsearch.yml.\nany idea what could be the cause? I'm using openjdk version &quot;1.8.0_312&quot; and Red Hat release 8.3</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1642780867,"post_id":70804114,"comment_id":125171005,"body_markdown":"What code is on line 37?","body":"What code is on line 37?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1642780999,"post_id":70804114,"comment_id":125171046,"body_markdown":"[*Understanding Scanner&#39;s nextLine(), next(), and nextInt() methods*](https://stackoverflow.com/q/32798803/642706).","body":"<a href=\"https://stackoverflow.com/q/32798803/642706\"><i>Understanding Scanner&#39;s nextLine(), next(), and nextInt() methods</i></a>."},{"owner":{"account_id":20854541,"reputation":1009,"user_id":15318227,"display_name":"Gurkirat Singh Guliani"},"score":0,"creation_date":1642781067,"post_id":70804114,"comment_id":125171068,"body_markdown":"is this the complete code ?","body":"is this the complete code ?"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1642781081,"post_id":70804114,"comment_id":125171071,"body_markdown":"My guess is that you don&#39;t understand your file. Change everything to `String`. Then print the data to make sure that when you use things like `nextDouble` you only have a double as input.","body":"My guess is that you don&#39;t understand your file. Change everything to <code>String</code>. Then print the data to make sure that when you use things like <code>nextDouble</code> you only have a double as input."},{"owner":{"account_id":24011343,"reputation":13,"user_id":17994901,"display_name":"Fouad Milan Moussa"},"score":0,"creation_date":1642781799,"post_id":70804114,"comment_id":125171336,"body_markdown":"@GurkiratSinghGuliani No it is not, i did not continue since i had a main error in reading from the text file","body":"@GurkiratSinghGuliani No it is not, i did not continue since i had a main error in reading from the text file"},{"owner":{"account_id":1675084,"reputation":173,"user_id":1540826,"accept_rate":75,"display_name":"Praveen Kumar Sirohiwal"},"score":0,"creation_date":1643187986,"post_id":70804114,"comment_id":125270522,"body_markdown":"@Fouad Milan Moussa Are you learning? Why you aren&#39;t using a DBMS?","body":"@Fouad Milan Moussa Are you learning? Why you aren&#39;t using a DBMS?"}],"answers":[{"tags":[],"owner":{"display_name":"user6073886"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642781154,"creation_date":1642781154,"answer_id":70804196,"question_id":70804114,"body_markdown":"The `next()` method of scanner will only read until it encounters a delimiter, which is space by default. Since your names are in the format &quot;Firstname Lastname&quot; when you do\r\n\r\n    StudentName = scan.next();\r\n\r\nYou will only read in the &quot;Firstname&quot; part of that name, and then when you call \r\n\r\n    grade = scan.nextDouble();\r\n\r\nIt will try to read &quot;Lastname&quot; as a double value, which of course will not work and throw your error.\r\n\r\nIf all your names are in said format of &quot;Firstname Lastname&quot; you should be able to read them correctly by using the `next()` method twice:\r\n\r\n    StudentName = scan.next() + &quot; &quot; + scan.next();\r\n","title":"Reading Grades from text file","body":"<p>The <code>next()</code> method of scanner will only read until it encounters a delimiter, which is space by default. Since your names are in the format &quot;Firstname Lastname&quot; when you do</p>\n<pre><code>StudentName = scan.next();\n</code></pre>\n<p>You will only read in the &quot;Firstname&quot; part of that name, and then when you call</p>\n<pre><code>grade = scan.nextDouble();\n</code></pre>\n<p>It will try to read &quot;Lastname&quot; as a double value, which of course will not work and throw your error.</p>\n<p>If all your names are in said format of &quot;Firstname Lastname&quot; you should be able to read them correctly by using the <code>next()</code> method twice:</p>\n<pre><code>StudentName = scan.next() + &quot; &quot; + scan.next();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642782049,"creation_date":1642782049,"answer_id":70804393,"question_id":70804114,"body_markdown":"Here&#39;s how I did it:\r\n\r\n    public class GradeReader {\r\n\tprivate class Student {\r\n\t\tprivate String name;\r\n\t\tprivate float score;\r\n\t\t\r\n\t\tpublic Student(String name, float score) {\r\n\t\t\tthis.name = name;\r\n\t\t\tthis.score = score;\r\n\t\t}\r\n\t\t\r\n\t\tpublic String getName() {\r\n\t\t\treturn name;\r\n\t\t}\r\n\t\t\r\n\t\tpublic float getScore() {\r\n\t\t\treturn score;\r\n\t\t}\r\n\t}\r\n\tpublic List&lt;Student&gt; readFile(File file) {\r\n\t\tList&lt;Student&gt; students = new ArrayList&lt;&gt;();\r\n\t\ttry (BufferedReader reader = new BufferedReader(new FileReader(file))) {\r\n\t\t\tString line = null;\r\n\t\t\twhile ((line = reader.readLine()) != null ) {\r\n\t\t\t\tint idx = line.lastIndexOf(&quot; &quot;);\r\n\t\t\t\tString name = line.substring(0, idx);\r\n\t\t\t\tfloat score = Float.parseFloat(line.substring(idx+1, line.length()));\r\n\t\t\t\tstudents.add(new Student(name, score));\r\n\t\t\t}\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t\treturn students;\r\n\t}\r\n\t\r\n\tpublic static void main(String [] args) {\r\n\t\tGradeReader reader = new GradeReader();\r\n\t\t\r\n\t\tFile file = new File(&quot;&lt;Path to File&gt;&quot;);\r\n\t\tList&lt;Student&gt; students = reader.readFile(file);\r\n\t\tOptional&lt;Student&gt; highestStudent = students.stream().max(Comparator.comparing(Student::getScore));\r\n\t\tif (highestStudent.isPresent()) {\r\n\t\t\tSystem.out.println(&quot;The first in class is &quot; + highestStudent.get().getName() + &quot; with a score of &quot; + highestStudent.get().getScore());\r\n\t\t}\r\n\t\tdouble average = students.stream().mapToDouble(Student::getScore).average().orElse(0.0);\r\n\t\tSystem.out.println(&quot;The average of the class is &quot; + average);\r\n\t}\r\n}","title":"Reading Grades from text file","body":"<p>Here's how I did it:</p>\n<pre><code>public class GradeReader {\nprivate class Student {\n    private String name;\n    private float score;\n    \n    public Student(String name, float score) {\n        this.name = name;\n        this.score = score;\n    }\n    \n    public String getName() {\n        return name;\n    }\n    \n    public float getScore() {\n        return score;\n    }\n}\npublic List&lt;Student&gt; readFile(File file) {\n    List&lt;Student&gt; students = new ArrayList&lt;&gt;();\n    try (BufferedReader reader = new BufferedReader(new FileReader(file))) {\n        String line = null;\n        while ((line = reader.readLine()) != null ) {\n            int idx = line.lastIndexOf(&quot; &quot;);\n            String name = line.substring(0, idx);\n            float score = Float.parseFloat(line.substring(idx+1, line.length()));\n            students.add(new Student(name, score));\n        }\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    \n    return students;\n}\n\npublic static void main(String [] args) {\n    GradeReader reader = new GradeReader();\n    \n    File file = new File(&quot;&lt;Path to File&gt;&quot;);\n    List&lt;Student&gt; students = reader.readFile(file);\n    Optional&lt;Student&gt; highestStudent = students.stream().max(Comparator.comparing(Student::getScore));\n    if (highestStudent.isPresent()) {\n        System.out.println(&quot;The first in class is &quot; + highestStudent.get().getName() + &quot; with a score of &quot; + highestStudent.get().getScore());\n    }\n    double average = students.stream().mapToDouble(Student::getScore).average().orElse(0.0);\n    System.out.println(&quot;The average of the class is &quot; + average);\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":24011343,"reputation":13,"user_id":17994901,"display_name":"Fouad Milan Moussa"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1164,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70804393,"answer_count":2,"score":1,"last_activity_date":1642782049,"creation_date":1642780685,"question_id":70804114,"body_markdown":"I am writing a program that reads the text file and display the name and the grad of the first student and the average of the class. For the file given above, the result would be as follows:\r\nThe first in the class is Ahmad Hamwi has 16.00\r\nThe average of the class is 12.25\r\n[This is thew text file i am trying to read from][1]\r\n\r\n        public class GradesReader {\r\n    \r\n    /**\r\n     * @param args the command line arguments\r\n     * @throws java.io.FileNotFoundException\r\n     */\r\n    public static void main(String[] args) throws FileNotFoundException {\r\n        File grades = new File (&quot;C:\\\\Users\\\\the_k\\\\OneDrive\\\\Documents\\\\NetBeansProjects\\\\GradesReader\\\\src\\\\gradesreader\\\\grades.txt&quot;);\r\n        Scanner scan = new Scanner(grades);\r\n    \r\n        int lineNumber= 0;\r\n        double grade;\r\n        String StudentName;\r\n        double min = 999;\r\n        double max = -999;\r\n        int sum = 0;\r\n        int count=0;\r\n    \r\n        while (scan.hasNextLine()) {\r\n            lineNumber++;\r\n    \r\n        StudentName = scan.next();\r\n        grade = scan.nextDouble();\r\n        count++;    \r\n        if(grade&gt;max){\r\n         max=grade;\r\n        }\r\n        if(grade&lt;min){\r\n         min=grade;\r\n        }\r\n    \r\n        System.out.println(&quot;The first in class is&quot; + StudentName + &quot;has&quot; + max );\r\n        double avg = sum /count;\r\n        System.out.println(&quot;The average of the class is &quot; + avg);\r\n    \r\n        }\r\n    \r\n    }\r\n    \r\nThis is the error I keep getting\r\n\r\n    &gt; Exception in thread &quot;main&quot; java.util.InputMismatchException\r\n    \tat java.util.Scanner.throwFor(Scanner.java:864)\r\n    \tat java.util.Scanner.next(Scanner.java:1485)\r\n    \tat java.util.Scanner.nextDouble(Scanner.java:2413)\r\n    \tat gradesreader.GradesReader.main(GradesReader.java:37) \r\n\r\nI have been trying for hours now. I know the error is in line 37. It has something to do maybe with the type. I tried int and float but same.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/innEO.png","title":"Reading Grades from text file","body":"<p>I am writing a program that reads the text file and display the name and the grad of the first student and the average of the class. For the file given above, the result would be as follows:\nThe first in the class is Ahmad Hamwi has 16.00\nThe average of the class is 12.25\n<a href=\"https://i.stack.imgur.com/innEO.png\" rel=\"nofollow noreferrer\">This is thew text file i am trying to read from</a></p>\n<pre><code>    public class GradesReader {\n\n/**\n * @param args the command line arguments\n * @throws java.io.FileNotFoundException\n */\npublic static void main(String[] args) throws FileNotFoundException {\n    File grades = new File (&quot;C:\\\\Users\\\\the_k\\\\OneDrive\\\\Documents\\\\NetBeansProjects\\\\GradesReader\\\\src\\\\gradesreader\\\\grades.txt&quot;);\n    Scanner scan = new Scanner(grades);\n\n    int lineNumber= 0;\n    double grade;\n    String StudentName;\n    double min = 999;\n    double max = -999;\n    int sum = 0;\n    int count=0;\n\n    while (scan.hasNextLine()) {\n        lineNumber++;\n\n    StudentName = scan.next();\n    grade = scan.nextDouble();\n    count++;    \n    if(grade&gt;max){\n     max=grade;\n    }\n    if(grade&lt;min){\n     min=grade;\n    }\n\n    System.out.println(&quot;The first in class is&quot; + StudentName + &quot;has&quot; + max );\n    double avg = sum /count;\n    System.out.println(&quot;The average of the class is &quot; + avg);\n\n    }\n\n}\n</code></pre>\n<p>This is the error I keep getting</p>\n<pre><code>&gt; Exception in thread &quot;main&quot; java.util.InputMismatchException\n    at java.util.Scanner.throwFor(Scanner.java:864)\n    at java.util.Scanner.next(Scanner.java:1485)\n    at java.util.Scanner.nextDouble(Scanner.java:2413)\n    at gradesreader.GradesReader.main(GradesReader.java:37) \n</code></pre>\n<p>I have been trying for hours now. I know the error is in line 37. It has something to do maybe with the type. I tried int and float but same.</p>\n"},{"tags":["java","date","datetime","simpledateformat"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1642613694,"post_id":70775206,"comment_id":125119984,"body_markdown":"You don&#39;t have the `T` in your pattern...","body":"You don&#39;t have the <code>T</code> in your pattern..."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1642613697,"post_id":70775206,"comment_id":125119986,"body_markdown":"Well, you&#39;ve got nothing to parse the `T` in your pattern, for starters. Change the space to `&#39;T&#39;`.","body":"Well, you&#39;ve got nothing to parse the <code>T</code> in your pattern, for starters. Change the space to <code>&#39;T&#39;</code>."},{"owner":{"account_id":81495,"reputation":3962,"user_id":229743,"display_name":"Taylor"},"score":1,"creation_date":1642613804,"post_id":70775206,"comment_id":125120045,"body_markdown":"I&#39;d avoid `SimpleDateFormat` where possible, it&#39;s a legacy piece of jdk.  Take a look at the newer java 8 time package: https://www.baeldung.com/java-8-date-time-intro","body":"I&#39;d avoid <code>SimpleDateFormat</code> where possible, it&#39;s a legacy piece of jdk.  Take a look at the newer java 8 time package: <a href=\"https://www.baeldung.com/java-8-date-time-intro\" rel=\"nofollow noreferrer\">baeldung.com/java-8-date-time-intro</a>"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1642613934,"post_id":70775206,"comment_id":125120109,"body_markdown":"If you&#39;re going to use java 8 time (which you should), this is just a standard ISO8601 time. You can parse it with `DateTimeFormatter.ISO_OFFSET_DATE_TIME`.","body":"If you&#39;re going to use java 8 time (which you should), this is just a standard ISO8601 time. You can parse it with <code>DateTimeFormatter.ISO_OFFSET_DATE_TIME</code>."}],"answers":[{"tags":[],"owner":{"account_id":23985180,"reputation":1,"user_id":17972071,"display_name":"Kuanysh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1642614611,"creation_date":1642614611,"answer_id":70775442,"question_id":70775206,"body_markdown":"Maybe it doesn&#39;t read &#39;T&#39; &quot;2022-01-19T18:14:17+03:00&quot;, or try to fit the data to [Examples](https://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html) formats","title":"How to parse this date in java?","body":"<p>Maybe it doesn't read 'T' &quot;2022-01-19T18:14:17+03:00&quot;, or try to fit the data to <a href=\"https://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\">Examples</a> formats</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642781703,"creation_date":1642616297,"answer_id":70775816,"question_id":70775206,"body_markdown":"Use a [`ZonedDateTime`][1].\r\n\r\n    ZonedDateTime t = ZonedDateTime.parse(&quot;2022-01-19T18:14:17+03:00&quot;);\r\n\r\nThis uses the default zone you are in (only the offset +03:00 is given. `toString` is the inverse operation.\r\n\r\nThe format shown is that of an `OffsetDateTime`, which needs some time zone, a (default) time zone ID, to have a full ZonedDateTime. Note that an OffsetDateTime is _incomplete_ without the time zone. It migh be used to indicate a latitude on earth, but the local clocks might provide several differing times. Normally choose a ZonedDateTime. \r\n\r\nThe format of the input is the ISO standard with `T` for _time_.\r\n\r\nThis means you do not need a `DateTimeFormatter`.\r\n\r\nIf you need to use the obsolete old `Date`:\r\n\r\n    Date date = Date.fromInstant(t.toInstant());\r\n\r\n  [1]: https://docs.oracle.com/javase/10/docs/api/java/time/ZonedDateTime.html","title":"How to parse this date in java?","body":"<p>Use a <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/ZonedDateTime.html\" rel=\"nofollow noreferrer\"><code>ZonedDateTime</code></a>.</p>\n<pre><code>ZonedDateTime t = ZonedDateTime.parse(&quot;2022-01-19T18:14:17+03:00&quot;);\n</code></pre>\n<p>This uses the default zone you are in (only the offset +03:00 is given. <code>toString</code> is the inverse operation.</p>\n<p>The format shown is that of an <code>OffsetDateTime</code>, which needs some time zone, a (default) time zone ID, to have a full ZonedDateTime. Note that an OffsetDateTime is <em>incomplete</em> without the time zone. It migh be used to indicate a latitude on earth, but the local clocks might provide several differing times. Normally choose a ZonedDateTime.</p>\n<p>The format of the input is the ISO standard with <code>T</code> for <em>time</em>.</p>\n<p>This means you do not need a <code>DateTimeFormatter</code>.</p>\n<p>If you need to use the obsolete old <code>Date</code>:</p>\n<pre><code>Date date = Date.fromInstant(t.toInstant());\n</code></pre>\n"}],"owner":{"account_id":22326101,"reputation":11,"user_id":16548103,"display_name":"Galaxy773"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":2,"score":-3,"last_activity_date":1642781703,"creation_date":1642613604,"question_id":70775206,"body_markdown":"how to parse this date format in java?\r\n2022-01-19T18:14:17+03:00\r\nI tried SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ssz&quot;), but it didn&#39;t work.","title":"How to parse this date in java?","body":"<p>how to parse this date format in java?\n2022-01-19T18:14:17+03:00\nI tried SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ssz&quot;), but it didn't work.</p>\n"},{"tags":["java","tomcat","jsessionid"],"comments":[{"owner":{"account_id":11244,"reputation":29526,"user_id":21590,"accept_rate":62,"display_name":"Harry Lime"},"score":3,"creation_date":1242642491,"post_id":877064,"comment_id":684301,"body_markdown":"How are you managing to run &quot;multiple tomcat server&quot; on the same ports as each other at the same time?","body":"How are you managing to run &quot;multiple tomcat server&quot; on the same ports as each other at the same time?"},{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":2,"creation_date":1399939423,"post_id":877064,"comment_id":36265922,"body_markdown":"@HarryLime: Can happen with a proxy server.","body":"@HarryLime: Can happen with a proxy server."}],"answers":[{"tags":[],"owner":{"account_id":12390,"reputation":1338,"user_id":24364,"display_name":"Martin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1242649412,"creation_date":1242649412,"answer_id":877475,"question_id":877064,"body_markdown":"I don&#39;t think it&#39;s possible at this point - see [https://issues.apache.org/bugzilla/show_bug.cgi?id=42419][1]\r\n\r\nThe last entry states &quot;This has been fixed in 5.5.x and will be included in 5.5.28 onwards&quot; - which is the next point release - 5.5.27 is the current release.\r\n\r\n  [1]: https://issues.apache.org/bugzilla/show_bug.cgi?id=42419","title":"Changing cookie JSESSIONID name","body":"<p>I don't think it's possible at this point - see <a href=\"https://issues.apache.org/bugzilla/show_bug.cgi?id=42419\" rel=\"nofollow noreferrer\">https://issues.apache.org/bugzilla/show_bug.cgi?id=42419</a></p>\n\n<p>The last entry states \"This has been fixed in 5.5.x and will be included in 5.5.28 onwards\" - which is the next point release - 5.5.27 is the current release.</p>\n"},{"tags":[],"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1242652520,"creation_date":1242651398,"answer_id":877601,"question_id":877064,"body_markdown":"Not 100% sure if this will work, but you can use the `jvmRoute` attribute, which is generally used in a load-balanced/clustered environment for the load balancers to be able to tell the nodes apart. Example:\r\n\r\n    &lt;Engine name=&quot;Catalina&quot; defaultHost=&quot;localhost&quot; jvmRoute=&quot;node1&quot;&gt;\r\n\r\nThis will end up generating a JSESSIONID value that looks like &quot;ABCDEF123456.node1&quot;.\r\n\r\n[Documentation link][1].\r\n\r\n\r\n  [1]: http://tomcat.apache.org/tomcat-6.0-doc/config/engine.html","title":"Changing cookie JSESSIONID name","body":"<p>Not 100% sure if this will work, but you can use the <code>jvmRoute</code> attribute, which is generally used in a load-balanced/clustered environment for the load balancers to be able to tell the nodes apart. Example:</p>\n\n<pre><code>&lt;Engine name=\"Catalina\" defaultHost=\"localhost\" jvmRoute=\"node1\"&gt;\n</code></pre>\n\n<p>This will end up generating a JSESSIONID value that looks like \"ABCDEF123456.node1\".</p>\n\n<p><a href=\"http://tomcat.apache.org/tomcat-6.0-doc/config/engine.html\" rel=\"nofollow noreferrer\">Documentation link</a>.</p>\n"},{"tags":[],"owner":{"account_id":227776,"reputation":141,"user_id":489641,"display_name":"user489641"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1383465315,"creation_date":1288239518,"answer_id":4039721,"question_id":877064,"body_markdown":"By Using two following system properties this can be achieved with ease.\r\n\r\n - org.apache.catalina.SESSION_COOKIE_NAME\r\n - org.apache.catalina.SESSION_PARAMETER_NAME\r\n\r\nAny value can be passed to above properties to change the default values.\r\n\r\nHere [complete details][1] with some sample script is found.\r\n\r\n\r\n  [1]: http://www.digizol.com/2010/10/jsessionid-tomcat-cookie-change-default.html","title":"Changing cookie JSESSIONID name","body":"<p>By Using two following system properties this can be achieved with ease.</p>\n\n<ul>\n<li>org.apache.catalina.SESSION_COOKIE_NAME</li>\n<li>org.apache.catalina.SESSION_PARAMETER_NAME</li>\n</ul>\n\n<p>Any value can be passed to above properties to change the default values.</p>\n\n<p>Here <a href=\"http://www.digizol.com/2010/10/jsessionid-tomcat-cookie-change-default.html\" rel=\"noreferrer\">complete details</a> with some sample script is found.</p>\n"},{"tags":[],"owner":{"account_id":964612,"reputation":121,"user_id":992015,"display_name":"timkingman"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1337951795,"creation_date":1337951795,"answer_id":10755116,"question_id":877064,"body_markdown":"Tomcat 7 moves this from org.apache.catalina.SESSION_COOKIE_NAME to an attribute on the main &amp;lt;Context&amp;gt; config.\r\nhttp://tomcat.apache.org/migration-7.html#Session_manager_configuration","title":"Changing cookie JSESSIONID name","body":"<p>Tomcat 7 moves this from org.apache.catalina.SESSION_COOKIE_NAME to an attribute on the main &lt;Context&gt; config.\n<a href=\"http://tomcat.apache.org/migration-7.html#Session_manager_configuration\">http://tomcat.apache.org/migration-7.html#Session_manager_configuration</a></p>\n"},{"tags":[],"owner":{"account_id":272852,"reputation":19440,"user_id":564157,"accept_rate":88,"display_name":"Joseph Lust"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1386472660,"creation_date":1386472660,"answer_id":20449481,"question_id":877064,"body_markdown":"The following works for me on Tomcat7 in the context.xml file:\r\n\r\n    &lt;Context path=&quot;/yourApp&quot; sessionCookieName=&quot;custom_session_id&quot;&gt;","title":"Changing cookie JSESSIONID name","body":"<p>The following works for me on Tomcat7 in the context.xml file:</p>\n\n<pre><code>&lt;Context path=\"/yourApp\" sessionCookieName=\"custom_session_id\"&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1168340,"reputation":2740,"user_id":2014439,"accept_rate":86,"display_name":"walv"},"down_vote_count":0,"up_vote_count":66,"is_accepted":false,"score":66,"last_activity_date":1402057083,"creation_date":1402057083,"answer_id":24081685,"question_id":877064,"body_markdown":"Everything is much simpler with Servlet API 3.0.\r\n\r\nNow you can configure it in your web.xml:\r\n\r\n\r\n    &lt;session-config&gt;\r\n        &lt;cookie-config&gt;\r\n            &lt;name&gt;MY_JSESSIONID_YAHOOOOOO&lt;/name&gt;\r\n        &lt;/cookie-config&gt;\r\n    &lt;/session-config&gt;\r\n\r\n\r\nThat&#39;s it!","title":"Changing cookie JSESSIONID name","body":"<p>Everything is much simpler with Servlet API 3.0.</p>\n\n<p>Now you can configure it in your web.xml:</p>\n\n<pre><code>&lt;session-config&gt;\n    &lt;cookie-config&gt;\n        &lt;name&gt;MY_JSESSIONID_YAHOOOOOO&lt;/name&gt;\n    &lt;/cookie-config&gt;\n&lt;/session-config&gt;\n</code></pre>\n\n<p>That's it!</p>\n"},{"tags":[],"owner":{"account_id":6746539,"reputation":1013,"user_id":5944088,"display_name":"Nilesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599820399,"creation_date":1599820399,"answer_id":63845357,"question_id":877064,"body_markdown":"I found it in Tomcat at /tomcat/conf/server.xml\r\n\r\n\r\nserver.xml\r\n\r\n    &lt;Engine name=&quot;Catalina&quot; defaultHost=&quot;localhost&quot; jvmRoute=&quot;instanceName&quot;&gt;\r\n\r\n5D33F755D8D75EF7C8E840.instanceName","title":"Changing cookie JSESSIONID name","body":"<p>I found it in Tomcat at /tomcat/conf/server.xml</p>\n<p>server.xml</p>\n<pre><code>&lt;Engine name=&quot;Catalina&quot; defaultHost=&quot;localhost&quot; jvmRoute=&quot;instanceName&quot;&gt;\n</code></pre>\n<p>5D33F755D8D75EF7C8E840.instanceName</p>\n"},{"tags":[],"owner":{"account_id":44082,"reputation":3850,"user_id":129150,"accept_rate":48,"display_name":"isobretatel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642780629,"creation_date":1642780629,"answer_id":70804105,"question_id":877064,"body_markdown":"        final SessionCookieConfig sessionCookieConfig = servletContext.getSessionCookieConfig();\r\n        sessionCookieConfig.setSecure(true);\r\n        sessionCookieConfig.setHttpOnly(true);\r\n        // Set __Host- prefix\r\n        sessionCookieConfig.setName(&quot;__Host-JSESSIONID&quot;);","title":"Changing cookie JSESSIONID name","body":"<pre><code>    final SessionCookieConfig sessionCookieConfig = servletContext.getSessionCookieConfig();\n    sessionCookieConfig.setSecure(true);\n    sessionCookieConfig.setHttpOnly(true);\n    // Set __Host- prefix\n    sessionCookieConfig.setName(&quot;__Host-JSESSIONID&quot;);\n</code></pre>\n"}],"owner":{"account_id":37650,"reputation":735,"user_id":107703,"accept_rate":40,"display_name":"ramanr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83671,"favorite_count":0,"down_vote_count":0,"up_vote_count":61,"answer_count":8,"score":61,"last_activity_date":1642780629,"creation_date":1242642174,"question_id":877064,"body_markdown":"I have a requirement of having to run multiple tomcat server in single physical box. While accessing these from a browser, when user switches between the applications, it results in logging out the user previously access application. This is because of JSESSIONID cookie conflict.\r\n\r\nOne possible solution is to run each applications in different context. Unfortunately, my applications will not work in context path setting as none of the resources are accessed with request.getContextPath() prepended in front. \r\n\r\nThis leaves me to change the name of cookie JSESSIONID to resolve the conflict. Is there a way to do this? If yes, how?\r\n\r\nHope I&#39;m clear in stating my question.\r\n\r\nNote: All my application are running in different port in the same machine.","title":"Changing cookie JSESSIONID name","body":"<p>I have a requirement of having to run multiple tomcat server in single physical box. While accessing these from a browser, when user switches between the applications, it results in logging out the user previously access application. This is because of JSESSIONID cookie conflict.</p>\n\n<p>One possible solution is to run each applications in different context. Unfortunately, my applications will not work in context path setting as none of the resources are accessed with request.getContextPath() prepended in front. </p>\n\n<p>This leaves me to change the name of cookie JSESSIONID to resolve the conflict. Is there a way to do this? If yes, how?</p>\n\n<p>Hope I'm clear in stating my question.</p>\n\n<p>Note: All my application are running in different port in the same machine.</p>\n"},{"tags":["java","maven","jacoco","jacoco-maven-plugin"],"comments":[{"owner":{"account_id":1042328,"reputation":7972,"user_id":1048093,"accept_rate":75,"display_name":"wemu"},"score":0,"creation_date":1560555264,"post_id":56605337,"comment_id":99788421,"body_markdown":"you sure this is the jacoco plugin? the docs don&#39;t mention this property at all: https://www.eclemma.org/jacoco/trunk/doc/check-mojo.html - and the limit config looks quite different. or is this some own build property like here: https://automationrhapsody.com/automated-code-coverage-of-unit-tests-with-jacoco-and-maven/ ? you can always run your build with -X to see the plugin config or mvn help:effective-pom to figure out whats going on. worst case is add the complete plugin config into your pom","body":"you sure this is the jacoco plugin? the docs don&#39;t mention this property at all: <a href=\"https://www.eclemma.org/jacoco/trunk/doc/check-mojo.html\" rel=\"nofollow noreferrer\">eclemma.org/jacoco/trunk/doc/check-mojo.html</a> - and the limit config looks quite different. or is this some own build property like here: <a href=\"https://automationrhapsody.com/automated-code-coverage-of-unit-tests-with-jacoco-and-maven/\" rel=\"nofollow noreferrer\">automationrhapsody.com/&hellip;</a> ? you can always run your build with -X to see the plugin config or mvn help:effective-pom to figure out whats going on. worst case is add the complete plugin config into your pom"},{"owner":{"account_id":10189211,"reputation":121,"user_id":7523192,"display_name":"Sunil"},"score":0,"creation_date":1560796642,"post_id":56605337,"comment_id":99845105,"body_markdown":"config aftr  mvn effective-pom\n` &lt;execution&gt;\n&lt;id&gt;default-check&lt;/id&gt;&lt;goals&gt;\n&lt;goal&gt;check&lt;/goal&gt;\n              &lt;/goals&gt;\n              &lt;configuration&gt;\n                &lt;rules&gt;\n                  &lt;rule&gt;\n                    &lt;limits&gt;\n                      &lt;limit&gt;\n                        &lt;counter&gt;INSTRUCTION&lt;/counter&gt;\n                        &lt;minimum&gt;80.0%&lt;/minimum&gt;\n                      &lt;/limit&gt;\n                    &lt;/limits&gt;\n                  &lt;/rule&gt;\n                &lt;/rules&gt;\n              &lt;/configuration&gt;\n            &lt;/execution&gt;`","body":"config aftr  mvn effective-pom ` &lt;execution&gt; &lt;id&gt;default-check&lt;/id&gt;&lt;goals&gt; &lt;goal&gt;check&lt;/goal&gt;               &lt;/goals&gt;               &lt;configuration&gt;                 &lt;rules&gt;                   &lt;rule&gt;                     &lt;limits&gt;                       &lt;limit&gt;                         &lt;counter&gt;INSTRUCTION&lt;/counter&gt;                         &lt;minimum&gt;80.0%&lt;/minimum&gt;                       &lt;/limit&gt;                     &lt;/limits&gt;                   &lt;/rule&gt;                 &lt;/rules&gt;               &lt;/configuration&gt;             &lt;/execution&gt;`"},{"owner":{"account_id":10189211,"reputation":121,"user_id":7523192,"display_name":"Sunil"},"score":0,"creation_date":1560797401,"post_id":56605337,"comment_id":99845456,"body_markdown":"That is what I can after running mvn effecitve-pom","body":"That is what I can after running mvn effecitve-pom"},{"owner":{"account_id":1042328,"reputation":7972,"user_id":1048093,"accept_rate":75,"display_name":"wemu"},"score":0,"creation_date":1560797753,"post_id":56605337,"comment_id":99845606,"body_markdown":"well, I would think that config is in some parent pom somewhere. if it is using a property make sure its the correct one.","body":"well, I would think that config is in some parent pom somewhere. if it is using a property make sure its the correct one."}],"answers":[{"tags":[],"owner":{"account_id":10189211,"reputation":121,"user_id":7523192,"display_name":"Sunil"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1642780299,"creation_date":1560871718,"answer_id":56652499,"question_id":56605337,"body_markdown":"The key is we cannot override just properties of Jacoco. I have copied the below parent&#39;s pom plug in to my project and I have updated the minimum covered ratio to 60% where it was 80% in parent&#39;s pom. This is working for me.\r\n\r\n``` xml\r\n&lt;plugin&gt;\r\n   &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n   &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n   &lt;version&gt;0.8.2&lt;/version&gt;\r\n   &lt;executions&gt;\r\n      &lt;execution&gt;\r\n         &lt;id&gt;default-check&lt;/id&gt;\r\n         &lt;goals&gt;\r\n            &lt;goal&gt;check&lt;/goal&gt;\r\n         &lt;/goals&gt;\r\n         &lt;configuration&gt;\r\n            &lt;rules&gt;\r\n               &lt;rule&gt;\r\n                  &lt;limits&gt;\r\n                     &lt;limit&gt;\r\n                        &lt;counter&gt;INSTRUCTION&lt;/counter&gt;\r\n                        &lt;minimum&gt;60.0%&lt;/minimum&gt;\r\n                     &lt;/limit&gt;\r\n                  &lt;/limits&gt;\r\n               &lt;/rule&gt;\r\n            &lt;/rules&gt;\r\n         &lt;/configuration&gt;\r\n      &lt;/execution&gt;\r\n      &lt;execution&gt;\r\n         &lt;id&gt;default-audit-check&lt;/id&gt;\r\n         &lt;goals&gt;\r\n            &lt;goal&gt;check&lt;/goal&gt;\r\n         &lt;/goals&gt;\r\n         &lt;configuration&gt;\r\n            &lt;haltOnFailure&gt;false&lt;/haltOnFailure&gt;\r\n            &lt;rules&gt;\r\n               &lt;rule&gt;\r\n                  &lt;limits&gt;\r\n                     &lt;limit&gt;\r\n                        &lt;counter&gt;INSTRUCTION&lt;/counter&gt;\r\n                        &lt;minimum&gt;60.0%&lt;/minimum&gt;\r\n                     &lt;/limit&gt;\r\n                  &lt;/limits&gt;\r\n               &lt;/rule&gt;\r\n            &lt;/rules&gt;\r\n         &lt;/configuration&gt;\r\n      &lt;/execution&gt;\r\n      &lt;execution&gt;\r\n         &lt;id&gt;default-prepare-agent&lt;/id&gt;\r\n         &lt;goals&gt;\r\n            &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n         &lt;/goals&gt;\r\n         &lt;configuration&gt;\r\n            &lt;propertyName&gt;jacoco.surefire.argLine&lt;/propertyName&gt;\r\n         &lt;/configuration&gt;\r\n      &lt;/execution&gt;\r\n   &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```","title":"How to set jacoco coverage percentage to 60% at child&#39;s pom?","body":"<p>The key is we cannot override just properties of Jacoco. I have copied the below parent's pom plug in to my project and I have updated the minimum covered ratio to 60% where it was 80% in parent's pom. This is working for me.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n   &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n   &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n   &lt;version&gt;0.8.2&lt;/version&gt;\n   &lt;executions&gt;\n      &lt;execution&gt;\n         &lt;id&gt;default-check&lt;/id&gt;\n         &lt;goals&gt;\n            &lt;goal&gt;check&lt;/goal&gt;\n         &lt;/goals&gt;\n         &lt;configuration&gt;\n            &lt;rules&gt;\n               &lt;rule&gt;\n                  &lt;limits&gt;\n                     &lt;limit&gt;\n                        &lt;counter&gt;INSTRUCTION&lt;/counter&gt;\n                        &lt;minimum&gt;60.0%&lt;/minimum&gt;\n                     &lt;/limit&gt;\n                  &lt;/limits&gt;\n               &lt;/rule&gt;\n            &lt;/rules&gt;\n         &lt;/configuration&gt;\n      &lt;/execution&gt;\n      &lt;execution&gt;\n         &lt;id&gt;default-audit-check&lt;/id&gt;\n         &lt;goals&gt;\n            &lt;goal&gt;check&lt;/goal&gt;\n         &lt;/goals&gt;\n         &lt;configuration&gt;\n            &lt;haltOnFailure&gt;false&lt;/haltOnFailure&gt;\n            &lt;rules&gt;\n               &lt;rule&gt;\n                  &lt;limits&gt;\n                     &lt;limit&gt;\n                        &lt;counter&gt;INSTRUCTION&lt;/counter&gt;\n                        &lt;minimum&gt;60.0%&lt;/minimum&gt;\n                     &lt;/limit&gt;\n                  &lt;/limits&gt;\n               &lt;/rule&gt;\n            &lt;/rules&gt;\n         &lt;/configuration&gt;\n      &lt;/execution&gt;\n      &lt;execution&gt;\n         &lt;id&gt;default-prepare-agent&lt;/id&gt;\n         &lt;goals&gt;\n            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n         &lt;/goals&gt;\n         &lt;configuration&gt;\n            &lt;propertyName&gt;jacoco.surefire.argLine&lt;/propertyName&gt;\n         &lt;/configuration&gt;\n      &lt;/execution&gt;\n   &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":10189211,"reputation":121,"user_id":7523192,"display_name":"Sunil"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5266,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":56652499,"answer_count":1,"score":3,"last_activity_date":1642780299,"creation_date":1560547697,"question_id":56605337,"body_markdown":"Can some one tell me how to set Jacoco code coverage to a certain percentage in Child&#39;s POM. I have a parent dependency which is expecting 80% coverage. I need to limit that to 60% in my child project. I am setting &lt;jacoco.percentage.instruction&gt;0.600&lt;/jacoco.percentage.instruction&gt; under child&#39;s pom properties. But this is not overriding the parent&#39;s coverage goal which is 80%. Any comments are appreciated.. \r\n\r\n\r\n    &lt;jacoco.percentage.instruction&gt;0.600&lt;/jacoco.percentage.instruction&gt;","title":"How to set jacoco coverage percentage to 60% at child&#39;s pom?","body":"<p>Can some one tell me how to set Jacoco code coverage to a certain percentage in Child's POM. I have a parent dependency which is expecting 80% coverage. I need to limit that to 60% in my child project. I am setting 0.600 under child's pom properties. But this is not overriding the parent's coverage goal which is 80%. Any comments are appreciated.. </p>\n\n<pre><code>&lt;jacoco.percentage.instruction&gt;0.600&lt;/jacoco.percentage.instruction&gt;\n</code></pre>\n"},{"tags":["java","android","mapbox","oncreate"],"answers":[{"tags":[],"owner":{"account_id":14738417,"reputation":470,"user_id":10758321,"display_name":"钟智强"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642780082,"creation_date":1642780082,"answer_id":70803997,"question_id":70803660,"body_markdown":"Solved. \r\n\r\nSolved by request `READ_PHONE_STATE` permission. For some reason Mapbox uses READ_PHONE_STATE. I declared in the `AndroidManifest.xml` but requesting permission manually are crucial.\r\n\r\nHence, the solution:\r\n\r\n\r\n```java\r\npublic void requestReadPhoneStatePermission(Activity activity)\r\n{\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R)\r\n        {\r\n            if (ActivityCompat.checkSelfPermission(\r\n                    activity,\r\n                    Manifest.permission.READ_PHONE_STATE\r\n            ) != PackageManager.PERMISSION_GRANTED)\r\n            {\r\n                ActivityCompat.requestPermissions(\r\n                        activity,\r\n                        new String[]{\r\n                                Manifest.permission.READ_PHONE_STATE\r\n                        },\r\n                        0x1\r\n                );\r\n            }\r\n        }\r\n}\r\n```\r\n\r\nAnd called in the `Application.java` onCreate()\r\n\r\n```java\r\nthis.requestReadPhoneStatePermission(this);\r\n```","title":"MapBox onCreate Instance Crashed onStart android Java","body":"<p>Solved.</p>\n<p>Solved by request <code>READ_PHONE_STATE</code> permission. For some reason Mapbox uses READ_PHONE_STATE. I declared in the <code>AndroidManifest.xml</code> but requesting permission manually are crucial.</p>\n<p>Hence, the solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void requestReadPhoneStatePermission(Activity activity)\n{\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R)\n        {\n            if (ActivityCompat.checkSelfPermission(\n                    activity,\n                    Manifest.permission.READ_PHONE_STATE\n            ) != PackageManager.PERMISSION_GRANTED)\n            {\n                ActivityCompat.requestPermissions(\n                        activity,\n                        new String[]{\n                                Manifest.permission.READ_PHONE_STATE\n                        },\n                        0x1\n                );\n            }\n        }\n}\n</code></pre>\n<p>And called in the <code>Application.java</code> onCreate()</p>\n<pre class=\"lang-java prettyprint-override\"><code>this.requestReadPhoneStatePermission(this);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7608227,"reputation":700,"user_id":5770116,"display_name":"JonR85"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642780099,"creation_date":1642780099,"answer_id":70804003,"question_id":70803660,"body_markdown":"Try getting the example in the documentation working, then moving on from there.\r\n\r\nhttps://docs.mapbox.com/android/maps/guides/install/\r\n","title":"MapBox onCreate Instance Crashed onStart android Java","body":"<p>Try getting the example in the documentation working, then moving on from there.</p>\n<p><a href=\"https://docs.mapbox.com/android/maps/guides/install/\" rel=\"nofollow noreferrer\">https://docs.mapbox.com/android/maps/guides/install/</a></p>\n"}],"owner":{"account_id":14738417,"reputation":470,"user_id":10758321,"display_name":"钟智强"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":523,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70803997,"answer_count":2,"score":0,"last_activity_date":1642780099,"creation_date":1642778658,"question_id":70803660,"body_markdown":"So I create a MapBox Instance in Android Java. \r\n\r\nThe version I use: \r\n\r\n```\r\n&#39;com.mapbox.mapboxsdk:mapbox-android-sdk:9.0.0&#39;\r\n```\r\n\r\nThis is my following code:\r\n\r\nAndroidManifest.xml\r\n```xml\r\n...\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_BACKGROUND_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot;/&gt;\r\n    &lt;uses-permission\r\n        android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;\r\n        tools:ignore=&quot;ScopedStorage&quot; /&gt;\r\n    ...\r\n```\r\n\r\nactivity_main.xml\r\n```xml\r\n   &lt;com.mapbox.mapboxsdk.maps.MapView\r\n        android:id=&quot;@+id/mapview&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot; /&gt;\r\n\r\n```\r\n\r\nApplication.java:\r\n\r\n```java\r\npublic class Application extends AppCompatActivity implements LocationListener\r\n{\r\n   ....\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState)\r\n    {\r\n        super.onCreate(savedInstanceState);\r\n        \r\n        /* Initialise Mapbox Services */\r\n        Mapbox.getInstance(this, this.getResources().getString(R.string.mapbox_token));\r\n\r\n        /* Set Layout Content View  */\r\n        Application.this.setContentView(R.layout.activity_main);\r\n\r\n        /* Set MapView to Instances of the current activity */\r\n        Application.this.mapView = (MapView) this.findViewById(R.id.mapview);\r\n        Application.this.mapView.onCreate(savedInstanceState); // THIS CAUSE ERROR\r\n    }\r\n    ...\r\n    ... // Some code here\r\n\r\n}\r\n```\r\n\r\nSuspected the line ```Application.this.mapView.onCreate(savedInstanceState);``` is the one cause the error. \r\n\r\nI tried to do it raw, (means without following company coding guidelines). The exceptions persist.\r\n\r\nThe exception I got: \r\n\r\n```\r\n\r\n2022-01-21 23:04:48.816 21806-21806/my.com.johnmelody.emergenciesresponsedemo E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: my.com.johnmelody.emergenciesresponsedemo, PID: 21806\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{my.com.johnmelody.emergenciesresponsedemo/my.com.johnmelody.emergenciesresponsedemo.Application}: java.lang.SecurityException: getDataNetworkTypeForSubscriber\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3479)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3651)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2104)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:236)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7861)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:600)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:967)\r\n     Caused by: java.lang.SecurityException: getDataNetworkTypeForSubscriber\r\n        at android.os.Parcel.createExceptionOrNull(Parcel.java:2376)\r\n        at android.os.Parcel.createException(Parcel.java:2360)\r\n        at android.os.Parcel.readException(Parcel.java:2343)\r\n        at android.os.Parcel.readException(Parcel.java:2285)\r\n        at com.android.internal.telephony.ITelephony$Stub$Proxy.getNetworkTypeForSubscriber(ITelephony.java:8764)\r\n        at android.telephony.TelephonyManager.getNetworkType(TelephonyManager.java:3034)\r\n        at android.telephony.TelephonyManager.getNetworkType(TelephonyManager.java:2998)\r\n        at com.mapbox.android.telemetry.TelemetryUtils.obtainCellularNetworkType(TelemetryUtils.java:165)\r\n        at com.mapbox.mapboxsdk.module.telemetry.PhoneState.&lt;init&gt;(PhoneState.java:39)\r\n        at com.mapbox.mapboxsdk.module.telemetry.TelemetryImpl.onAppUserTurnstileEvent(TelemetryImpl.java:46)\r\n        at com.mapbox.mapboxsdk.maps.MapView.onCreate(MapView.java:303)\r\n        at my.com.johnmelody.emergenciesresponsedemo.Application.onCreate(Application.java:100)\r\n        at android.app.Activity.performCreate(Activity.java:8109)\r\n        at android.app.Activity.performCreate(Activity.java:8083)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1310)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3452)\r\n    ```\r\n\r\nAny idea, what I do wrong here? \r\n\r\n","title":"MapBox onCreate Instance Crashed onStart android Java","body":"<p>So I create a MapBox Instance in Android Java.</p>\n<p>The version I use:</p>\n<pre><code>'com.mapbox.mapboxsdk:mapbox-android-sdk:9.0.0'\n</code></pre>\n<p>This is my following code:</p>\n<p>AndroidManifest.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>...\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_BACKGROUND_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot;/&gt;\n    &lt;uses-permission\n        android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;\n        tools:ignore=&quot;ScopedStorage&quot; /&gt;\n    ...\n</code></pre>\n<p>activity_main.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>   &lt;com.mapbox.mapboxsdk.maps.MapView\n        android:id=&quot;@+id/mapview&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot; /&gt;\n\n</code></pre>\n<p>Application.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Application extends AppCompatActivity implements LocationListener\n{\n   ....\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState)\n    {\n        super.onCreate(savedInstanceState);\n        \n        /* Initialise Mapbox Services */\n        Mapbox.getInstance(this, this.getResources().getString(R.string.mapbox_token));\n\n        /* Set Layout Content View  */\n        Application.this.setContentView(R.layout.activity_main);\n\n        /* Set MapView to Instances of the current activity */\n        Application.this.mapView = (MapView) this.findViewById(R.id.mapview);\n        Application.this.mapView.onCreate(savedInstanceState); // THIS CAUSE ERROR\n    }\n    ...\n    ... // Some code here\n\n}\n</code></pre>\n<p>Suspected the line <code>Application.this.mapView.onCreate(savedInstanceState);</code> is the one cause the error.</p>\n<p>I tried to do it raw, (means without following company coding guidelines). The exceptions persist.</p>\n<p>The exception I got:</p>\n<pre><code>\n2022-01-21 23:04:48.816 21806-21806/my.com.johnmelody.emergenciesresponsedemo E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: my.com.johnmelody.emergenciesresponsedemo, PID: 21806\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{my.com.johnmelody.emergenciesresponsedemo/my.com.johnmelody.emergenciesresponsedemo.Application}: java.lang.SecurityException: getDataNetworkTypeForSubscriber\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3479)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3651)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2104)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:236)\n        at android.app.ActivityThread.main(ActivityThread.java:7861)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:600)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:967)\n     Caused by: java.lang.SecurityException: getDataNetworkTypeForSubscriber\n        at android.os.Parcel.createExceptionOrNull(Parcel.java:2376)\n        at android.os.Parcel.createException(Parcel.java:2360)\n        at android.os.Parcel.readException(Parcel.java:2343)\n        at android.os.Parcel.readException(Parcel.java:2285)\n        at com.android.internal.telephony.ITelephony$Stub$Proxy.getNetworkTypeForSubscriber(ITelephony.java:8764)\n        at android.telephony.TelephonyManager.getNetworkType(TelephonyManager.java:3034)\n        at android.telephony.TelephonyManager.getNetworkType(TelephonyManager.java:2998)\n        at com.mapbox.android.telemetry.TelemetryUtils.obtainCellularNetworkType(TelemetryUtils.java:165)\n        at com.mapbox.mapboxsdk.module.telemetry.PhoneState.&lt;init&gt;(PhoneState.java:39)\n        at com.mapbox.mapboxsdk.module.telemetry.TelemetryImpl.onAppUserTurnstileEvent(TelemetryImpl.java:46)\n        at com.mapbox.mapboxsdk.maps.MapView.onCreate(MapView.java:303)\n        at my.com.johnmelody.emergenciesresponsedemo.Application.onCreate(Application.java:100)\n        at android.app.Activity.performCreate(Activity.java:8109)\n        at android.app.Activity.performCreate(Activity.java:8083)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1310)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3452)\n    ```\n\nAny idea, what I do wrong here? \n\n</code></pre>\n"},{"tags":["java","windows","netbeans","cannot-find-symbol"],"comments":[{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1622482742,"post_id":67756170,"comment_id":119800429,"body_markdown":"Add a screenshot showing the _&quot;cannot find symbol&quot;_ error when you run from the command line so that others can attempt to reproduce your problem.","body":"Add a screenshot showing the <i>&quot;cannot find symbol&quot;</i> error when you run from the command line so that others can attempt to reproduce your problem."},{"owner":{"account_id":21014666,"reputation":3,"user_id":15442449,"display_name":"Waxyshaw"},"score":0,"creation_date":1622667448,"post_id":67756170,"comment_id":119861589,"body_markdown":"Ok, screenshot added!","body":"Ok, screenshot added!"}],"answers":[{"tags":[],"owner":{"account_id":1637870,"reputation":553,"user_id":1510874,"display_name":"asbachb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622553265,"creation_date":1622331077,"answer_id":67756500,"question_id":67756170,"body_markdown":"The command `java CreateSpaServices.java` you used to execute your program is not meant to be used for programs with multiple source files. It is used to executed single source file java programs without compilation. see [JEP330][1] for more details.\r\n\r\nNormally you&#39;d write your Java code, compile it (`javac`) and afterwards run it (`java`). You can use the manually or use editor like NetBeans.\r\n\r\nSo the command you showed above indicates that you use NetBeans just as Editor and don&#39;t run nor use the compilation from NetBeans. Which is unclear why.\r\n\r\nNormally you&#39;d use NetBeans as your editor and compiler. Means that you write your code within NetBeans and after that you create a `jar` or `class` files which can be executed from command line.\r\n\r\nWhen you just want to run the program you can `Right Click CreateSpaServices \\ Run File` to execute the `Main` method of `CreateSpaServices`.\r\n\r\n\r\n  [1]: https://openjdk.java.net/jeps/330","title":"Java Netbeans Cannot Find Symbol","body":"<p>The command <code>java CreateSpaServices.java</code> you used to execute your program is not meant to be used for programs with multiple source files. It is used to executed single source file java programs without compilation. see <a href=\"https://openjdk.java.net/jeps/330\" rel=\"nofollow noreferrer\">JEP330</a> for more details.</p>\n<p>Normally you'd write your Java code, compile it (<code>javac</code>) and afterwards run it (<code>java</code>). You can use the manually or use editor like NetBeans.</p>\n<p>So the command you showed above indicates that you use NetBeans just as Editor and don't run nor use the compilation from NetBeans. Which is unclear why.</p>\n<p>Normally you'd use NetBeans as your editor and compiler. Means that you write your code within NetBeans and after that you create a <code>jar</code> or <code>class</code> files which can be executed from command line.</p>\n<p>When you just want to run the program you can <code>Right Click CreateSpaServices \\ Run File</code> to execute the <code>Main</code> method of <code>CreateSpaServices</code>.</p>\n"},{"tags":[],"owner":{"account_id":21014666,"reputation":3,"user_id":15442449,"display_name":"Waxyshaw"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1622839717,"creation_date":1622839717,"answer_id":67843802,"question_id":67756170,"body_markdown":"I managed to get it to work. Like in many other posts on here, you have to compile from the root directory. NetBeans makes it confusing by creating so many directories when you first start a project.\r\n\r\nMy package was com.spaservice. I had to compile the class from the src\\main\\java folder. Then the java file was able to find the other class during compilation.","title":"Java Netbeans Cannot Find Symbol","body":"<p>I managed to get it to work. Like in many other posts on here, you have to compile from the root directory. NetBeans makes it confusing by creating so many directories when you first start a project.</p>\n<p>My package was com.spaservice. I had to compile the class from the src\\main\\java folder. Then the java file was able to find the other class during compilation.</p>\n"}],"owner":{"account_id":21014666,"reputation":3,"user_id":15442449,"display_name":"Waxyshaw"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":67843802,"answer_count":2,"score":0,"last_activity_date":1642779990,"creation_date":1622327004,"question_id":67756170,"body_markdown":"I am working through a practice assignment in my Java Programming Textbook and have encountered the common &quot;error: cannot find symbol&quot;. I have to create an application that refers to another class in the same directory, but the compiler fails to find the class. \r\n\r\nHere is the code for SpaService.java: \r\n\r\n    package com.spaservice;\r\n\r\n    public class SpaService {\r\n        private String serviceDescription;\r\n        private double price;\r\n        \r\n        public void setServiceDescription(String service){\r\n            serviceDescription = service;\r\n        }\r\n        public void setPrice(double servicePrice){\r\n            price = servicePrice;\r\n        }\r\n        \r\n        public String getServiceDescription(){\r\n            return serviceDescription;\r\n        }\r\n        public double getPrice(){\r\n            return price;\r\n        }\r\n    }\r\n\r\nAnd here is my code for CreateSpaServices.java\r\n\r\n    package com.spaservice;\r\n    import java.util.Scanner;\r\n    \r\n    public class CreateSpaServices {\r\n    \r\n        public static void main(String args[]) {\r\n            String service;\r\n            double price;\r\n            \r\n            SpaService firstService = new SpaService();\r\n            SpaService secondService = new SpaService();\r\n            Scanner keyboard = new Scanner(System.in);\r\n    \r\n            System.out.print(&quot;Enter service &gt;&gt; &quot;);\r\n            service = keyboard.nextLine();\r\n            System.out.print(&quot;Enter price &gt;&gt; &quot;);\r\n            price = keyboard.nextDouble();\r\n            \r\n            firstService.setServiceDescription(service);\r\n            firstService.setPrice(price);\r\n            \r\n            keyboard.nextLine();\r\n            System.out.print(&quot;Enter service &gt;&gt; &quot;);\r\n            service = keyboard.nextLine();\r\n            System.out.print(&quot;Enter price &gt;&gt; &quot;);\r\n            price = keyboard.nextDouble();\r\n            \r\n            secondService.setServiceDescription(service);\r\n            secondService.setPrice(price);\r\n            \r\n            System.out.println(&quot;First service details:&quot;);\r\n            System.out.println(firstService.getServiceDescription() +\r\n            &quot; $&quot; + firstService.getPrice());\r\n            System.out.println(&quot;Second service details:&quot;);\r\n            System.out.println(secondService.getServiceDescription() +\r\n            &quot; $&quot; + secondService.getPrice());\r\n        }\r\n    }\r\n\r\nIt&#39;s a fairly straightforward program, but for some reason CreateSpaServices.java cannot find SpaService.class. Here is the output from my command prompt in Windows:\r\n\r\n    &gt; C:\\Users\\waxyshaw\\Desktop\\School\\CH3-EX11\\SpaService\\src\\main\\java\\com\\spaservice&gt;java\r\n    &gt; CreateSpaServices.java CreateSpaServices.java:18: error: cannot find\r\n    &gt; symbol\r\n    &gt;         SpaService firstService = new SpaService();\r\n    &gt;         ^   symbol:   class SpaService   location: class CreateSpaServices CreateSpaServices.java:18: error: cannot find symbol\r\n    &gt;         SpaService firstService = new SpaService();\r\n    &gt;                                       ^   symbol:   class SpaService   location: class CreateSpaServices CreateSpaServices.java:19: error:\r\n    &gt; cannot find symbol\r\n    &gt;         SpaService secondService = new SpaService();\r\n    &gt;         ^   symbol:   class SpaService   location: class CreateSpaServices CreateSpaServices.java:19: error: cannot find symbol\r\n    &gt;         SpaService secondService = new SpaService();\r\n    &gt;                                        ^   symbol:   class SpaService   location: class CreateSpaServices 4 errors error: compilation failed\r\n\r\nAnd here is my directory structure:\r\n\r\n    C:\\Users\\waxyshaw\\Desktop\\School\\CH3-EX11\\SpaService\\src\\main\\java\\com\\spaservice&gt;dir\r\n     Volume in drive C has no label.\r\n     Volume Serial Number is 9A2C-802D\r\n    \r\n     Directory of C:\\Users\\waxyshaw\\Desktop\\School\\CH3-EX11\\SpaService\\src\\main\\java\\com\\spaservice\r\n    \r\n    05/29/2021  17:26    &lt;DIR&gt;          .\r\n    05/29/2021  17:26    &lt;DIR&gt;          ..\r\n    05/29/2021  17:28             1,418 CreateSpaServices.java\r\n    05/29/2021  17:25               590 SpaService.java\r\n                   2 File(s)          2,008 bytes\r\n                   2 Dir(s)  609,747,128,320 bytes free\r\n\r\nI am using Netbeans 12.3 to write this code and it compiles fine using the IDE. I am on Windows 10.\r\n\r\nBased on research, I have seen similar issues here on Stack Overflow. I have tried running the command from my src folder, my java folder, and my com folder with similar results. I suspect the issue may have to do with the package, but I do not yet understand Java enough to troubleshoot on my own. I&#39;m hoping I can get some help from the community.\r\n\r\nLet me know what you think. Any help would be greatly appreciated.\r\n\r\nEdit: Per request, I have included a screenshot of the error:\r\n\r\n[Error-Screenshot][1]\r\n\r\nEdit2: Including a screenshot of the output window in NetBeans:\r\n\r\n[Netbeans-Output][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TKmNn.jpg\r\n  [2]: https://i.stack.imgur.com/wsw7n.png","title":"Java Netbeans Cannot Find Symbol","body":"<p>I am working through a practice assignment in my Java Programming Textbook and have encountered the common &quot;error: cannot find symbol&quot;. I have to create an application that refers to another class in the same directory, but the compiler fails to find the class.</p>\n<p>Here is the code for SpaService.java:</p>\n<pre><code>package com.spaservice;\n\npublic class SpaService {\n    private String serviceDescription;\n    private double price;\n    \n    public void setServiceDescription(String service){\n        serviceDescription = service;\n    }\n    public void setPrice(double servicePrice){\n        price = servicePrice;\n    }\n    \n    public String getServiceDescription(){\n        return serviceDescription;\n    }\n    public double getPrice(){\n        return price;\n    }\n}\n</code></pre>\n<p>And here is my code for CreateSpaServices.java</p>\n<pre><code>package com.spaservice;\nimport java.util.Scanner;\n\npublic class CreateSpaServices {\n\n    public static void main(String args[]) {\n        String service;\n        double price;\n        \n        SpaService firstService = new SpaService();\n        SpaService secondService = new SpaService();\n        Scanner keyboard = new Scanner(System.in);\n\n        System.out.print(&quot;Enter service &gt;&gt; &quot;);\n        service = keyboard.nextLine();\n        System.out.print(&quot;Enter price &gt;&gt; &quot;);\n        price = keyboard.nextDouble();\n        \n        firstService.setServiceDescription(service);\n        firstService.setPrice(price);\n        \n        keyboard.nextLine();\n        System.out.print(&quot;Enter service &gt;&gt; &quot;);\n        service = keyboard.nextLine();\n        System.out.print(&quot;Enter price &gt;&gt; &quot;);\n        price = keyboard.nextDouble();\n        \n        secondService.setServiceDescription(service);\n        secondService.setPrice(price);\n        \n        System.out.println(&quot;First service details:&quot;);\n        System.out.println(firstService.getServiceDescription() +\n        &quot; $&quot; + firstService.getPrice());\n        System.out.println(&quot;Second service details:&quot;);\n        System.out.println(secondService.getServiceDescription() +\n        &quot; $&quot; + secondService.getPrice());\n    }\n}\n</code></pre>\n<p>It's a fairly straightforward program, but for some reason CreateSpaServices.java cannot find SpaService.class. Here is the output from my command prompt in Windows:</p>\n<pre><code>&gt; C:\\Users\\waxyshaw\\Desktop\\School\\CH3-EX11\\SpaService\\src\\main\\java\\com\\spaservice&gt;java\n&gt; CreateSpaServices.java CreateSpaServices.java:18: error: cannot find\n&gt; symbol\n&gt;         SpaService firstService = new SpaService();\n&gt;         ^   symbol:   class SpaService   location: class CreateSpaServices CreateSpaServices.java:18: error: cannot find symbol\n&gt;         SpaService firstService = new SpaService();\n&gt;                                       ^   symbol:   class SpaService   location: class CreateSpaServices CreateSpaServices.java:19: error:\n&gt; cannot find symbol\n&gt;         SpaService secondService = new SpaService();\n&gt;         ^   symbol:   class SpaService   location: class CreateSpaServices CreateSpaServices.java:19: error: cannot find symbol\n&gt;         SpaService secondService = new SpaService();\n&gt;                                        ^   symbol:   class SpaService   location: class CreateSpaServices 4 errors error: compilation failed\n</code></pre>\n<p>And here is my directory structure:</p>\n<pre><code>C:\\Users\\waxyshaw\\Desktop\\School\\CH3-EX11\\SpaService\\src\\main\\java\\com\\spaservice&gt;dir\n Volume in drive C has no label.\n Volume Serial Number is 9A2C-802D\n\n Directory of C:\\Users\\waxyshaw\\Desktop\\School\\CH3-EX11\\SpaService\\src\\main\\java\\com\\spaservice\n\n05/29/2021  17:26    &lt;DIR&gt;          .\n05/29/2021  17:26    &lt;DIR&gt;          ..\n05/29/2021  17:28             1,418 CreateSpaServices.java\n05/29/2021  17:25               590 SpaService.java\n               2 File(s)          2,008 bytes\n               2 Dir(s)  609,747,128,320 bytes free\n</code></pre>\n<p>I am using Netbeans 12.3 to write this code and it compiles fine using the IDE. I am on Windows 10.</p>\n<p>Based on research, I have seen similar issues here on Stack Overflow. I have tried running the command from my src folder, my java folder, and my com folder with similar results. I suspect the issue may have to do with the package, but I do not yet understand Java enough to troubleshoot on my own. I'm hoping I can get some help from the community.</p>\n<p>Let me know what you think. Any help would be greatly appreciated.</p>\n<p>Edit: Per request, I have included a screenshot of the error:</p>\n<p><a href=\"https://i.stack.imgur.com/TKmNn.jpg\" rel=\"nofollow noreferrer\">Error-Screenshot</a></p>\n<p>Edit2: Including a screenshot of the output window in NetBeans:</p>\n<p><a href=\"https://i.stack.imgur.com/wsw7n.png\" rel=\"nofollow noreferrer\">Netbeans-Output</a></p>\n"},{"tags":["java","spring-boot","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":3801446,"reputation":1793,"user_id":3154987,"display_name":"BrianC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642779869,"creation_date":1642779869,"answer_id":70803942,"question_id":70699747,"body_markdown":"\r\nNo the slowness is not in the writer, it is in the database set up.   I assume this table you are inserting into has constraints?   If so you need to make sure there is an exact matching index for each table constraint.    i.e  If you have a table constraint that combines say three columns you need a single index that combines all three of those columns    \r\n\r\nAlso need to check with your DBA on any other details logic/scripts/PLSQL/triggers that maybe executing on events on that table.\r\n\r\nAlternatively you can create a temp table on the job start and insert into that.  Then at the job end run a table to table copy (when not exists) to the intended table.   Doing a table to table copy inside the database is MUCH faster.","title":"How to speed up process running inside Writer in Spring Batch?","body":"<p>No the slowness is not in the writer, it is in the database set up.   I assume this table you are inserting into has constraints?   If so you need to make sure there is an exact matching index for each table constraint.    i.e  If you have a table constraint that combines say three columns you need a single index that combines all three of those columns</p>\n<p>Also need to check with your DBA on any other details logic/scripts/PLSQL/triggers that maybe executing on events on that table.</p>\n<p>Alternatively you can create a temp table on the job start and insert into that.  Then at the job end run a table to table copy (when not exists) to the intended table.   Doing a table to table copy inside the database is MUCH faster.</p>\n"}],"owner":{"account_id":13252319,"reputation":333,"user_id":11813880,"display_name":"Abraham Arnold"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":287,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642779869,"creation_date":1642090579,"question_id":70699747,"body_markdown":"I have a spring batch process. `Reader` will read data from database and `Writer` will send `POST` request and also update the database. I am using `Partitioner` and the `GridSize` is 100. The issue is inside `Writer` the process is taking some time. There are 50 million records in the database. But because of the slowness in the `Writer` process this is taking days to finish. If I commented out that Writer process and run, then it will finish the Batch process by within 4 hours. So the slowness is because of the process inside `Writer`.\r\n\r\n    public class DataWriter implements ItemWriter&lt;Sample&gt; {\r\n    \r\n        private final JdbcTemplate jdbc;\r\n\r\n        @Autowired        \r\n        private RestTemplate rst;\r\n    \r\n        public DataWriter(DataSource dataSource) {\r\n            this.jdbc = new JdbcTemplate(dataSource);\r\n        }\r\n    \r\n        public void write(List&lt;? extends Sample&gt; samples) {\r\n            samples.forEach(this::run);\r\n        }\r\n    \r\n        private void run(Sample sample) {\r\n    \t\tboolean value = sendRequest();\r\n    \t\tjdbc.update(&quot;UPDATE_QUERY&quot;, value, sample.getId());\r\n        }\r\n    \r\n        private boolean sendRequest() {\r\n    \t\tResponseEntity&lt;String&gt; res = rst.postForEntity(&quot;URL&quot;, getRequestData(), String.class);\r\n    \t\treturn res.getStatusCode().value() == 200;\r\n        }\r\n    }\r\n\r\nHow to make this fast? How can I fix this? Thanks in advance.","title":"How to speed up process running inside Writer in Spring Batch?","body":"<p>I have a spring batch process. <code>Reader</code> will read data from database and <code>Writer</code> will send <code>POST</code> request and also update the database. I am using <code>Partitioner</code> and the <code>GridSize</code> is 100. The issue is inside <code>Writer</code> the process is taking some time. There are 50 million records in the database. But because of the slowness in the <code>Writer</code> process this is taking days to finish. If I commented out that Writer process and run, then it will finish the Batch process by within 4 hours. So the slowness is because of the process inside <code>Writer</code>.</p>\n<pre><code>public class DataWriter implements ItemWriter&lt;Sample&gt; {\n\n    private final JdbcTemplate jdbc;\n\n    @Autowired        \n    private RestTemplate rst;\n\n    public DataWriter(DataSource dataSource) {\n        this.jdbc = new JdbcTemplate(dataSource);\n    }\n\n    public void write(List&lt;? extends Sample&gt; samples) {\n        samples.forEach(this::run);\n    }\n\n    private void run(Sample sample) {\n        boolean value = sendRequest();\n        jdbc.update(&quot;UPDATE_QUERY&quot;, value, sample.getId());\n    }\n\n    private boolean sendRequest() {\n        ResponseEntity&lt;String&gt; res = rst.postForEntity(&quot;URL&quot;, getRequestData(), String.class);\n        return res.getStatusCode().value() == 200;\n    }\n}\n</code></pre>\n<p>How to make this fast? How can I fix this? Thanks in advance.</p>\n"},{"tags":["javascript","java","encryption","aes","cryptojs"],"answers":[{"tags":[],"owner":{"account_id":117315,"reputation":3877,"user_id":307295,"display_name":"mvmn"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1631053954,"creation_date":1631053645,"answer_id":69095123,"question_id":69094658,"body_markdown":"The format used by OpenSSL and CryptoJS turns out to be `base64(&quot;Salted__&quot; + &lt;salt 8 bytes&gt; + &lt;encrypted data&gt;)`\r\n\r\nHere&#39;s the code that produces result in such format (reusing `generateKeyAndIV` method from above without any modifications):\r\n```\r\n\tpublic static void main(String args[]) {\r\n\t\tSecurity.addProvider(new BouncyCastleProvider());\r\n\t\tSystem.out.println(encrypt());\r\n\t}\r\n\r\n\tpublic static String encrypt() {\r\n\t\ttry {\r\n\t\t\tString stringToEncrypt = &quot;Hello world 12345&quot;;\r\n\t\t\tString password = &quot;apasswordblabla&quot;;\r\n\t\t\tSecureRandom sr = new SecureRandom();\r\n\t\t\tbyte[] salt = new byte[8];\r\n\t\t\tsr.nextBytes(salt);\r\n\t\t\tfinal byte[][] keyAndIV = generateKeyAndIV(32, 16, 1, salt, password.getBytes(StandardCharsets.UTF_8),\r\n\t\t\t\t\tMessageDigest.getInstance(&quot;MD5&quot;));\r\n\t\t\tCipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS7Padding&quot;, BouncyCastleProvider.PROVIDER_NAME);\r\n\t\t\tcipher.init(Cipher.ENCRYPT_MODE, new SecretKeySpec(keyAndIV[0], &quot;AES&quot;), new IvParameterSpec(keyAndIV[1]));\r\n\t\t\tbyte[] encryptedData = cipher.doFinal(stringToEncrypt.getBytes(StandardCharsets.UTF_8));\r\n\t\t\tbyte[] prefixAndSaltAndEncryptedData = new byte[16 + encryptedData.length];\r\n\t\t\t// Copy prefix (0-th to 7-th bytes)\r\n\t\t\tSystem.arraycopy(&quot;Salted__&quot;.getBytes(StandardCharsets.UTF_8), 0, prefixAndSaltAndEncryptedData, 0, 8);\r\n\t\t\t// Copy salt (8-th to 15-th bytes)\r\n\t\t\tSystem.arraycopy(salt, 0, prefixAndSaltAndEncryptedData, 8, 8);\r\n\t\t\t// Copy encrypted data (16-th byte and onwards)\r\n\t\t\tSystem.arraycopy(encryptedData, 0, prefixAndSaltAndEncryptedData, 16, encryptedData.length);\r\n\t\t\treturn Base64.getEncoder().encodeToString(prefixAndSaltAndEncryptedData);\r\n\t\t} catch (Exception e) {\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t}\r\n\t}\r\n```\r\n\r\nExample result produced is: `U2FsdGVkX1/O8jV2bfcM/06DM106oLAzdf7z66/JakGNefts4MftzXquopkxPaDo`\r\n\r\nDecoding in JSFiddle using this code:\r\n```\r\nconsole.log(CryptoJS.AES.decrypt(&quot;U2FsdGVkX1/O8jV2bfcM/06DM106oLAzdf7z66/JakGNefts4MftzXquopkxPaDo&quot;, &quot;apasswordblabla&quot;).toString(CryptoJS.enc.Utf8));\r\n```\r\n\r\nProduced desired output in browser console:\r\n`Hello world 12345`","title":"How to implement CryptoJS.AES.encrypt function in Java?","body":"<p>The format used by OpenSSL and CryptoJS turns out to be <code>base64(&quot;Salted__&quot; + &lt;salt 8 bytes&gt; + &lt;encrypted data&gt;)</code></p>\n<p>Here's the code that produces result in such format (reusing <code>generateKeyAndIV</code> method from above without any modifications):</p>\n<pre><code>    public static void main(String args[]) {\n        Security.addProvider(new BouncyCastleProvider());\n        System.out.println(encrypt());\n    }\n\n    public static String encrypt() {\n        try {\n            String stringToEncrypt = &quot;Hello world 12345&quot;;\n            String password = &quot;apasswordblabla&quot;;\n            SecureRandom sr = new SecureRandom();\n            byte[] salt = new byte[8];\n            sr.nextBytes(salt);\n            final byte[][] keyAndIV = generateKeyAndIV(32, 16, 1, salt, password.getBytes(StandardCharsets.UTF_8),\n                    MessageDigest.getInstance(&quot;MD5&quot;));\n            Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS7Padding&quot;, BouncyCastleProvider.PROVIDER_NAME);\n            cipher.init(Cipher.ENCRYPT_MODE, new SecretKeySpec(keyAndIV[0], &quot;AES&quot;), new IvParameterSpec(keyAndIV[1]));\n            byte[] encryptedData = cipher.doFinal(stringToEncrypt.getBytes(StandardCharsets.UTF_8));\n            byte[] prefixAndSaltAndEncryptedData = new byte[16 + encryptedData.length];\n            // Copy prefix (0-th to 7-th bytes)\n            System.arraycopy(&quot;Salted__&quot;.getBytes(StandardCharsets.UTF_8), 0, prefixAndSaltAndEncryptedData, 0, 8);\n            // Copy salt (8-th to 15-th bytes)\n            System.arraycopy(salt, 0, prefixAndSaltAndEncryptedData, 8, 8);\n            // Copy encrypted data (16-th byte and onwards)\n            System.arraycopy(encryptedData, 0, prefixAndSaltAndEncryptedData, 16, encryptedData.length);\n            return Base64.getEncoder().encodeToString(prefixAndSaltAndEncryptedData);\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n</code></pre>\n<p>Example result produced is: <code>U2FsdGVkX1/O8jV2bfcM/06DM106oLAzdf7z66/JakGNefts4MftzXquopkxPaDo</code></p>\n<p>Decoding in JSFiddle using this code:</p>\n<pre><code>console.log(CryptoJS.AES.decrypt(&quot;U2FsdGVkX1/O8jV2bfcM/06DM106oLAzdf7z66/JakGNefts4MftzXquopkxPaDo&quot;, &quot;apasswordblabla&quot;).toString(CryptoJS.enc.Utf8));\n</code></pre>\n<p>Produced desired output in browser console:\n<code>Hello world 12345</code></p>\n"}],"owner":{"account_id":8428136,"reputation":434,"user_id":6324746,"display_name":"rizesky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4866,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69095123,"answer_count":1,"score":0,"last_activity_date":1642779847,"creation_date":1631049648,"question_id":69094658,"body_markdown":"I&#39;m trying to implement following code from [**crypto-js**](https://www.npmjs.com/package/crypto-js) in java for encryption\r\n```javascript\r\nlet toEncrypt= &quot;my data&quot;;\r\ncryptoJs.AES.encrypt(toEncrypt,&quot;apasswordblabla&quot;).toString();\r\n```\r\nhere is my implementation (AES/CBC/PKCS7Padding): \r\n```java\r\npublic String encrypt(Map&lt;String,Object&gt; param){\r\ntry {\r\n            String toEncrypt= objectMapper.writeValueAsString(param);\r\n            MessageDigest md5 = MessageDigest.getInstance(&quot;MD5&quot;);\r\n            byte[] saltData = Arrays.copyOfRange(stringToEncrypt.getBytes(StandardCharsets.UTF_8), 8, 16);\r\n            final byte[][] keyAndIV = generateKeyAndIV(32, 16, 1, saltData, &quot;apasswordblabla&quot;.getBytes(StandardCharsets.UTF_8), md5);\r\n            SecretKeySpec skeySpec = new SecretKeySpec(keyAndIV[0], &quot;AES&quot;);\r\n            IvParameterSpec iv = new IvParameterSpec(keyAndIV[1]);\r\n            Cipher cipher;\r\n            cipher = Cipher.getInstance(&quot;AES/CBC/PKCS7Padding&quot;,BouncyCastleProvider.PROVIDER_NAME);\r\n            cipher.init(Cipher.ENCRYPT_MODE, skeySpec,iv);\r\n            byte[] base64Encoded = Base64.getEncoder().encode(cipher.doFinal(toEncrypt.getBytes(StandardCharsets.UTF_8)));\r\n            return new String(base64Encoded);\r\n        } catch (NoSuchAlgorithmException | NoSuchPaddingException | IllegalBlockSizeException\r\n                | BadPaddingException | InvalidKeyException\r\n                | JsonProcessingException | NoSuchProviderException | InvalidAlgorithmParameterException e) {\r\n            e.printStackTrace();\r\n            \r\n\r\n        }\r\n}\r\n```\r\n\r\nImplementation of generateIV(int ,int ,int ,byte[] , byte[], MessageDigest):\r\n - This method is equivalent to **OpenSSL&#39;s EVP_BytesToKey** function, as I see in cryptojs source code ( *crypto-js@4.1.1 on file cipher-core.js line 658* ), the default formatter for AES is the OpenSSLFormatter\r\n```java\r\npublic static byte[][] generateKeyAndIV(int keyLength, int ivLength, int iterations, byte[] salt, byte[] password, MessageDigest md) {\r\n\r\n        int digestLength = md.getDigestLength();\r\n        int requiredLength = (keyLength + ivLength + digestLength - 1) / digestLength * digestLength;\r\n        byte[] generatedData = new byte[requiredLength];\r\n        int generatedLength = 0;\r\n\r\n        try {\r\n            md.reset();\r\n\r\n            // Repeat process until sufficient data has been generated\r\n            while (generatedLength &lt; keyLength + ivLength) {\r\n\r\n                // Digest data (last digest if available, password data, salt if available)\r\n                if (generatedLength &gt; 0)\r\n                    md.update(generatedData, generatedLength - digestLength, digestLength);\r\n                md.update(password);\r\n                if (salt != null)\r\n                    md.update(salt, 0, 8);\r\n                md.digest(generatedData, generatedLength, digestLength);\r\n\r\n                // additional rounds\r\n                for (int i = 1; i &lt; iterations; i++) {\r\n                    md.update(generatedData, generatedLength, digestLength);\r\n                    md.digest(generatedData, generatedLength, digestLength);\r\n                }\r\n\r\n                generatedLength += digestLength;\r\n            }\r\n\r\n            // Copy key and IV into separate byte arrays\r\n            byte[][] result = new byte[2][];\r\n            result[0] = Arrays.copyOfRange(generatedData, 0, keyLength);\r\n            if (ivLength &gt; 0)\r\n                result[1] = Arrays.copyOfRange(generatedData, keyLength, keyLength + ivLength);\r\n\r\n            return result;\r\n\r\n        } catch (DigestException e) {\r\n            throw new RuntimeException(e);\r\n\r\n        } finally {\r\n            // Clean out temporary data\r\n            Arrays.fill(generatedData, (byte)0);\r\n        }\r\n    }\r\n```\r\nand then I try to decrypt it [Here](https://www.npmjs.com/package/crypto-js)\r\nusing \r\n```javascript\r\nlet toDecrypt=&quot;[MY ENCRYPTED DATA IN BASE64]&quot;\r\nlet decrypted = cryptoJs.AES.decrypt(toDecrypt, &quot;apasswordblabla&quot;).toString(cryptoJs.enc.Utf8).toString(); \r\nconsole.log(decrypted);\r\n```\r\nAnd its always fail to decrypt, with error **&quot;Malformed utf-8 data&quot;**. Hence, my java implementation is wrong\r\n\r\nWhat did I got wrong here? or if there is any ready library to solve this issues\r\nplease suggest\r\n\r\n\r\n","title":"How to implement CryptoJS.AES.encrypt function in Java?","body":"<p>I'm trying to implement following code from <a href=\"https://www.npmjs.com/package/crypto-js\" rel=\"nofollow noreferrer\"><strong>crypto-js</strong></a> in java for encryption</p>\n<pre class=\"lang-js prettyprint-override\"><code>let toEncrypt= &quot;my data&quot;;\ncryptoJs.AES.encrypt(toEncrypt,&quot;apasswordblabla&quot;).toString();\n</code></pre>\n<p>here is my implementation (AES/CBC/PKCS7Padding):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String encrypt(Map&lt;String,Object&gt; param){\ntry {\n            String toEncrypt= objectMapper.writeValueAsString(param);\n            MessageDigest md5 = MessageDigest.getInstance(&quot;MD5&quot;);\n            byte[] saltData = Arrays.copyOfRange(stringToEncrypt.getBytes(StandardCharsets.UTF_8), 8, 16);\n            final byte[][] keyAndIV = generateKeyAndIV(32, 16, 1, saltData, &quot;apasswordblabla&quot;.getBytes(StandardCharsets.UTF_8), md5);\n            SecretKeySpec skeySpec = new SecretKeySpec(keyAndIV[0], &quot;AES&quot;);\n            IvParameterSpec iv = new IvParameterSpec(keyAndIV[1]);\n            Cipher cipher;\n            cipher = Cipher.getInstance(&quot;AES/CBC/PKCS7Padding&quot;,BouncyCastleProvider.PROVIDER_NAME);\n            cipher.init(Cipher.ENCRYPT_MODE, skeySpec,iv);\n            byte[] base64Encoded = Base64.getEncoder().encode(cipher.doFinal(toEncrypt.getBytes(StandardCharsets.UTF_8)));\n            return new String(base64Encoded);\n        } catch (NoSuchAlgorithmException | NoSuchPaddingException | IllegalBlockSizeException\n                | BadPaddingException | InvalidKeyException\n                | JsonProcessingException | NoSuchProviderException | InvalidAlgorithmParameterException e) {\n            e.printStackTrace();\n            \n\n        }\n}\n</code></pre>\n<p>Implementation of generateIV(int ,int ,int ,byte[] , byte[], MessageDigest):</p>\n<ul>\n<li>This method is equivalent to <strong>OpenSSL's EVP_BytesToKey</strong> function, as I see in cryptojs source code ( <em>crypto-js@4.1.1 on file cipher-core.js line 658</em> ), the default formatter for AES is the OpenSSLFormatter</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public static byte[][] generateKeyAndIV(int keyLength, int ivLength, int iterations, byte[] salt, byte[] password, MessageDigest md) {\n\n        int digestLength = md.getDigestLength();\n        int requiredLength = (keyLength + ivLength + digestLength - 1) / digestLength * digestLength;\n        byte[] generatedData = new byte[requiredLength];\n        int generatedLength = 0;\n\n        try {\n            md.reset();\n\n            // Repeat process until sufficient data has been generated\n            while (generatedLength &lt; keyLength + ivLength) {\n\n                // Digest data (last digest if available, password data, salt if available)\n                if (generatedLength &gt; 0)\n                    md.update(generatedData, generatedLength - digestLength, digestLength);\n                md.update(password);\n                if (salt != null)\n                    md.update(salt, 0, 8);\n                md.digest(generatedData, generatedLength, digestLength);\n\n                // additional rounds\n                for (int i = 1; i &lt; iterations; i++) {\n                    md.update(generatedData, generatedLength, digestLength);\n                    md.digest(generatedData, generatedLength, digestLength);\n                }\n\n                generatedLength += digestLength;\n            }\n\n            // Copy key and IV into separate byte arrays\n            byte[][] result = new byte[2][];\n            result[0] = Arrays.copyOfRange(generatedData, 0, keyLength);\n            if (ivLength &gt; 0)\n                result[1] = Arrays.copyOfRange(generatedData, keyLength, keyLength + ivLength);\n\n            return result;\n\n        } catch (DigestException e) {\n            throw new RuntimeException(e);\n\n        } finally {\n            // Clean out temporary data\n            Arrays.fill(generatedData, (byte)0);\n        }\n    }\n</code></pre>\n<p>and then I try to decrypt it <a href=\"https://www.npmjs.com/package/crypto-js\" rel=\"nofollow noreferrer\">Here</a>\nusing</p>\n<pre class=\"lang-js prettyprint-override\"><code>let toDecrypt=&quot;[MY ENCRYPTED DATA IN BASE64]&quot;\nlet decrypted = cryptoJs.AES.decrypt(toDecrypt, &quot;apasswordblabla&quot;).toString(cryptoJs.enc.Utf8).toString(); \nconsole.log(decrypted);\n</code></pre>\n<p>And its always fail to decrypt, with error <strong>&quot;Malformed utf-8 data&quot;</strong>. Hence, my java implementation is wrong</p>\n<p>What did I got wrong here? or if there is any ready library to solve this issues\nplease suggest</p>\n"},{"tags":["java","swing","user-interface","layout-manager"],"comments":[{"owner":{"account_id":15685854,"reputation":1,"user_id":11318553,"display_name":"Brian Kymely"},"score":0,"creation_date":1554488328,"post_id":55541156,"comment_id":97785809,"body_markdown":"I need to know the layout of the Components for selecting and the main(contentpane)","body":"I need to know the layout of the Components for selecting and the main(contentpane)"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1554491480,"post_id":55541156,"comment_id":97787144,"body_markdown":"Stop thinking of &#39;which layout for GUI?&#39; and start thinking &#39;which layout for a ***part*** of a GUI?&#39;. It is rare that the view a user sees, will be composed using a single layout. E.G. That GUI seen in the first image uses at least 11 different panels. While some panels might use the same **type** of layout, it must be using a total of at least 11 layouts.","body":"Stop thinking of &#39;which layout for GUI?&#39; and start thinking &#39;which layout for a <b><i>part</i></b> of a GUI?&#39;. It is rare that the view a user sees, will be composed using a single layout. E.G. That GUI seen in the first image uses at least 11 different panels. While some panels might use the same <b>type</b> of layout, it must be using a total of at least 11 layouts."},{"owner":{"account_id":15685854,"reputation":1,"user_id":11318553,"display_name":"Brian Kymely"},"score":0,"creation_date":1554492639,"post_id":55541156,"comment_id":97787655,"body_markdown":"yes I did have several panels 13 to be exact they have a blue border(should have probably used a distinguishable one). But what should I possibly use for the last main panel (called  Components for selecting )","body":"yes I did have several panels 13 to be exact they have a blue border(should have probably used a distinguishable one). But what should I possibly use for the last main panel (called  Components for selecting )"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1554494539,"post_id":55541156,"comment_id":97788435,"body_markdown":"*&quot;But what should I possibly use for the last main panel (called Components for selecting )&quot;* That question (which should have a question mark) should be included in the main question. Please [edit] to add it. The &quot;Components for Selecting&quot; would be well suited to a `GridBagLayout` given it has four sections, but neither the cloumns nor rows are of the same size (which if they were, would suggest a `GridLayout`).","body":"<i>&quot;But what should I possibly use for the last main panel (called Components for selecting )&quot;</i> That question (which should have a question mark) should be included in the main question. Please <a href=\"https://stackoverflow.com/posts/55541156/edit\">edit</a> to add it. The &quot;Components for Selecting&quot; would be well suited to a <code>GridBagLayout</code> given it has four sections, but neither the cloumns nor rows are of the same size (which if they were, would suggest a <code>GridLayout</code>)."},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1554556811,"post_id":55541156,"comment_id":97800415,"body_markdown":"Break the design into small, easy to layout containers. See some examples of this technique : [1](https://stackoverflow.com/a/55511724/3992939),  [2](https://stackoverflow.com/a/47368681/3992939),   [3](https://stackoverflow.com/a/51342131/3992939)","body":"Break the design into small, easy to layout containers. See some examples of this technique : <a href=\"https://stackoverflow.com/a/55511724/3992939\">1</a>,  <a href=\"https://stackoverflow.com/a/47368681/3992939\">2</a>,   <a href=\"https://stackoverflow.com/a/51342131/3992939\">3</a>"}],"owner":{"account_id":15685854,"reputation":1,"user_id":11318553,"display_name":"Brian Kymely"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642779806,"creation_date":1554487747,"question_id":55541156,"body_markdown":"Which LayOut Manager is most suitable for my GUI?\r\n\r\nI need to make the above GUI but I didn&#39;t know which layout I basically used the flow layout(easy) just to set up all my components first. \r\n\r\n[![Expected][1]][1]\r\n\r\n[![mine][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5f8Pl.png\r\n  [2]: https://i.stack.imgur.com/dWeeo.png","title":"most suitable Panel layouts","body":"<p>Which LayOut Manager is most suitable for my GUI?</p>\n\n<p>I need to make the above GUI but I didn't know which layout I basically used the flow layout(easy) just to set up all my components first. </p>\n\n<p><a href=\"https://i.stack.imgur.com/5f8Pl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5f8Pl.png\" alt=\"Expected\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/dWeeo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dWeeo.png\" alt=\"mine\"></a></p>\n"},{"tags":["java","algorithm","recursion","data-structures","dynamic-programming"],"answers":[{"tags":[],"owner":{"account_id":449564,"reputation":78054,"user_id":844416,"display_name":"MBo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642749224,"creation_date":1642749224,"answer_id":70797638,"question_id":70796981,"body_markdown":"For three indices it is simpler to make three loops. Also I added precalculation of two binary operations and removed set check for simplicity.\r\n\r\n    static int solve(int[] a){\r\n        int leng = a.length;\r\n        int sum = 0;\r\n        for (i=0; i &lt; leng-2; i++)   {\r\n           for (j=i+1; j &lt; leng - 1; j++)   {\r\n               int ijor = a[i] | a[j];\r\n               int ijxor = a[i] ^ a[j];\r\n               for (k=j+1; k &lt; leng; k++)   {\r\n                  //operation to perform for every combination\r\n                 sum = sum + (ijor | a[k]) ^ (ijxor ^ a[k]);\r\n               }\r\n            }\r\n         }\r\n         return sum; \r\n    }\r\n","title":"What is the correct algorithm to return all combination of elements where i&lt;j&lt;k","body":"<p>For three indices it is simpler to make three loops. Also I added precalculation of two binary operations and removed set check for simplicity.</p>\n<pre><code>static int solve(int[] a){\n    int leng = a.length;\n    int sum = 0;\n    for (i=0; i &lt; leng-2; i++)   {\n       for (j=i+1; j &lt; leng - 1; j++)   {\n           int ijor = a[i] | a[j];\n           int ijxor = a[i] ^ a[j];\n           for (k=j+1; k &lt; leng; k++)   {\n              //operation to perform for every combination\n             sum = sum + (ijor | a[k]) ^ (ijxor ^ a[k]);\n           }\n        }\n     }\n     return sum; \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19325349,"reputation":902,"user_id":14128125,"display_name":"Hakan Akg&#252;n"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642775626,"creation_date":1642750649,"answer_id":70797858,"question_id":70796981,"body_markdown":"I see you are using java, however, I&#39;m able to provide an answer with python but I&#39;m sure that there are equivalent operations in java too:\r\n\r\n\r\n    from itertools import combinations\r\n    def combs_tri(X):\r\n        lenght=len(X)\r\n        num_of_zeros=lenght-3\r\n        def factorial(n):\r\n            m=1\r\n            for x in range(1,n+1):\r\n                m=m*x\r\n            return m\r\n        def num_of_comb(n,z):\r\n            return int(factorial(lenght)/(factorial(z)*factorial(lenght-z)))\r\n        count=num_of_comb(lenght,3)\r\n        def create_boolean_array(num_of_zeros,count,lenght):\r\n            Arr=np.zeros((count,lenght))\r\n            combs=list(combinations(range(lenght), 3))\r\n            for i,comb in enumerate(combs):\r\n                Arr[i,comb]=1\r\n            return Arr\r\n        repeated_list=np.repeat([X],count,axis=0)\r\n        bool_mask=create_boolean_array(num_of_zeros,count,lenght)\r\n        return repeated_list[bool_mask.astype(bool)].reshape((int(count)),3)\r\n[![enter image description here][1]][1]\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4SeW1.png\r\nFunction Explanations\r\n---------------------------------------------\r\nfactorial:Executes the mathemetical operation factorial which is n!=n(n-1)*(n-2)*...\r\n\r\nnum_of_comb:Executes the mathematical combination operation and returns the numerical result.\r\n\r\ncreate_boolean_array: Creates an boolean mask to get all possible combinations of array ellements.\r\n-&gt;combinations(): returns combinations \r\nEx/ combinations([1,2,3],2)=[(1,2),(1,3),(2,3)]\r\n\r\n-&gt;np.repeat([X],count,axis=0) repeats the given list by given count number. Count number means number of combinations (for 3) in here. \r\n\r\nEx/ np.repeat([1,2,3,4],count,axis=0)=np.array([[1,2,3,4],[1,2,3,4],[1,2,3,4],[1,2,3,4]])\r\n\r\n---------------------------------------------\r\nIn most cases array operations are much faster than for loops.","title":"What is the correct algorithm to return all combination of elements where i&lt;j&lt;k","body":"<p>I see you are using java, however, I'm able to provide an answer with python but I'm sure that there are equivalent operations in java too:</p>\n<pre><code>from itertools import combinations\ndef combs_tri(X):\n    lenght=len(X)\n    num_of_zeros=lenght-3\n    def factorial(n):\n        m=1\n        for x in range(1,n+1):\n            m=m*x\n        return m\n    def num_of_comb(n,z):\n        return int(factorial(lenght)/(factorial(z)*factorial(lenght-z)))\n    count=num_of_comb(lenght,3)\n    def create_boolean_array(num_of_zeros,count,lenght):\n        Arr=np.zeros((count,lenght))\n        combs=list(combinations(range(lenght), 3))\n        for i,comb in enumerate(combs):\n            Arr[i,comb]=1\n        return Arr\n    repeated_list=np.repeat([X],count,axis=0)\n    bool_mask=create_boolean_array(num_of_zeros,count,lenght)\n    return repeated_list[bool_mask.astype(bool)].reshape((int(count)),3)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/4SeW1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4SeW1.png\" alt=\"enter image description here\" /></a></p>\n<h2>Function Explanations</h2>\n<p>factorial:Executes the mathemetical operation factorial which is n!=n(n-1)<em>(n-2)</em>...</p>\n<p>num_of_comb:Executes the mathematical combination operation and returns the numerical result.</p>\n<p>create_boolean_array: Creates an boolean mask to get all possible combinations of array ellements.\n-&gt;combinations(): returns combinations\nEx/ combinations([1,2,3],2)=[(1,2),(1,3),(2,3)]</p>\n<p>-&gt;np.repeat([X],count,axis=0) repeats the given list by given count number. Count number means number of combinations (for 3) in here.</p>\n<p>Ex/ np.repeat([1,2,3,4],count,axis=0)=np.array([[1,2,3,4],[1,2,3,4],[1,2,3,4],[1,2,3,4]])</p>\n<hr />\n<p>In most cases array operations are much faster than for loops.</p>\n"},{"tags":[],"owner":{"account_id":7247838,"reputation":8934,"user_id":5529197,"accept_rate":80,"display_name":"Afshin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642779595,"creation_date":1642779595,"answer_id":70803886,"question_id":70796981,"body_markdown":"I think this is a really simple problem with just 3 loops. I wrote code in c++, but you will surely understand it:\r\n```cpp\r\n#include &lt;vector&gt;\r\n#include &lt;iostream&gt;\r\n\r\nvoid print_all(const std::vector&lt;int&gt;&amp; arr){\r\n    for (size_t i = 0; i &lt; arr.size() - 2; i++) {\r\n        for (size_t j = i + 1; j &lt; arr.size() - 1; j++) {\r\n            for (size_t k= j + 1; k &lt; arr.size(); k++) {\r\n                if ((arr[i] &lt; arr[j]) || (arr[i] &gt; arr[j] &amp;&amp; arr[i] &lt; arr[k]))\r\n                    std::cout &lt;&lt; &quot;[&quot; &lt;&lt; arr[i] &lt;&lt; &quot;,&quot; &lt;&lt; arr[j] &lt;&lt; &quot;,&quot; &lt;&lt; arr[k] &lt;&lt; &quot;]\\n&quot;;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nint main() {\r\n    std::vector&lt;int&gt; arr = {12, 1, 34, 32};\r\n    print_all(arr);\r\n}\r\n```\r\nFor the condition, for a tuple `(a, b, b)`:\r\n\r\n 1. if `a&lt;b`, then you can select any `c` and reach `a&lt;b&lt;c` with 1 move at max.\r\n 2. if `a&gt;b`, the you need to switch them, then all `c` need to bigger than `a`.","title":"What is the correct algorithm to return all combination of elements where i&lt;j&lt;k","body":"<p>I think this is a really simple problem with just 3 loops. I wrote code in c++, but you will surely understand it:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>#include &lt;vector&gt;\n#include &lt;iostream&gt;\n\nvoid print_all(const std::vector&lt;int&gt;&amp; arr){\n    for (size_t i = 0; i &lt; arr.size() - 2; i++) {\n        for (size_t j = i + 1; j &lt; arr.size() - 1; j++) {\n            for (size_t k= j + 1; k &lt; arr.size(); k++) {\n                if ((arr[i] &lt; arr[j]) || (arr[i] &gt; arr[j] &amp;&amp; arr[i] &lt; arr[k]))\n                    std::cout &lt;&lt; &quot;[&quot; &lt;&lt; arr[i] &lt;&lt; &quot;,&quot; &lt;&lt; arr[j] &lt;&lt; &quot;,&quot; &lt;&lt; arr[k] &lt;&lt; &quot;]\\n&quot;;\n            }\n        }\n    }\n}\n\nint main() {\n    std::vector&lt;int&gt; arr = {12, 1, 34, 32};\n    print_all(arr);\n}\n</code></pre>\n<p>For the condition, for a tuple <code>(a, b, b)</code>:</p>\n<ol>\n<li>if <code>a&lt;b</code>, then you can select any <code>c</code> and reach <code>a&lt;b&lt;c</code> with 1 move at max.</li>\n<li>if <code>a&gt;b</code>, the you need to switch them, then all <code>c</code> need to bigger than <code>a</code>.</li>\n</ol>\n"}],"owner":{"account_id":20688952,"reputation":21,"user_id":15190766,"display_name":"Developer Dev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1642779595,"creation_date":1642744554,"question_id":70796981,"body_markdown":"I have to find all the combinations in an array a[] with indices i,j,k such that i&lt;j&lt;k and have to perform one operation for every combination\r\nfor example in an array\r\nint a[] = {12,1,34,32}\r\nthe combination are\r\n{12,1,34},{12,1,32},{12,34,32}.{1,34,32}\r\n\r\nI have tried recursive way and storing all the combinations in a set so that if I visit the same combination again I will return from there only by checking it from the set\r\n\r\nmy code is this but i am getting TLE for large cases\r\ncan anyone please provide me the most efficient way for this\r\n\r\n     static Set&lt;String&gt; set = new HashSet&lt;&gt;();\r\n     static int sum = 0;\r\n\r\n        static void solve(int i,int j,int k,int[] a){\r\n            if(i&gt;=j || j&gt;=k ||k&gt;=a.length){\r\n                return;\r\n            }\r\n            \r\n            //combination\r\n            String pre = String.valueOf(i)+String.valueOf(j)+String.valueOf(k);\r\n            if(set.contains(pre)){\r\n                return;\r\n            }\r\n\r\n            //operation to perform for every combination\r\n            int v = (a[i] | a[j] | a[k]) ^ (a[i] ^ a[j] ^ a[k]);\r\n            sum = sum+v;\r\n\r\n            solve(i,j,k+1,a);\r\n            solve(i,j+1,k,a);\r\n            solve(i+1,j,k,a);\r\n        }","title":"What is the correct algorithm to return all combination of elements where i&lt;j&lt;k","body":"<p>I have to find all the combinations in an array a[] with indices i,j,k such that i&lt;j&lt;k and have to perform one operation for every combination\nfor example in an array\nint a[] = {12,1,34,32}\nthe combination are\n{12,1,34},{12,1,32},{12,34,32}.{1,34,32}</p>\n<p>I have tried recursive way and storing all the combinations in a set so that if I visit the same combination again I will return from there only by checking it from the set</p>\n<p>my code is this but i am getting TLE for large cases\ncan anyone please provide me the most efficient way for this</p>\n<pre><code> static Set&lt;String&gt; set = new HashSet&lt;&gt;();\n static int sum = 0;\n\n    static void solve(int i,int j,int k,int[] a){\n        if(i&gt;=j || j&gt;=k ||k&gt;=a.length){\n            return;\n        }\n        \n        //combination\n        String pre = String.valueOf(i)+String.valueOf(j)+String.valueOf(k);\n        if(set.contains(pre)){\n            return;\n        }\n\n        //operation to perform for every combination\n        int v = (a[i] | a[j] | a[k]) ^ (a[i] ^ a[j] ^ a[k]);\n        sum = sum+v;\n\n        solve(i,j,k+1,a);\n        solve(i,j+1,k,a);\n        solve(i+1,j,k,a);\n    }\n</code></pre>\n"},{"tags":["java","android","c++"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":1,"creation_date":1484366157,"post_id":41646631,"comment_id":70492763,"body_markdown":"Did you at least find this in your research: https://developer.android.com/guide/platform/index.html and https://developer.android.com/guide/components/fundamentals.html","body":"Did you at least find this in your research: <a href=\"https://developer.android.com/guide/platform/index.html\" rel=\"nofollow noreferrer\">developer.android.com/guide/platform/index.html</a> and <a href=\"https://developer.android.com/guide/components/fundamentals.html\" rel=\"nofollow noreferrer\">developer.android.com/guide/components/fundamentals.html</a>"},{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1484366555,"post_id":41646631,"comment_id":70492817,"body_markdown":"Also: http://stackoverflow.com/questions/1002164/write-applications-in-c-or-c-for-android","body":"Also: <a href=\"http://stackoverflow.com/questions/1002164/write-applications-in-c-or-c-for-android\" title=\"write applications in c or c for android\">stackoverflow.com/questions/1002164/&hellip;</a>"},{"owner":{"account_id":10030734,"reputation":19,"user_id":7417439,"display_name":"ag87"},"score":0,"creation_date":1484368052,"post_id":41646631,"comment_id":70492996,"body_markdown":"Thank you.  From the sounds of it, Android is designed to force all programs to use Java (for some reason) unless you take special steps to go around it.  That would seem to imply that C++ programs typically do in fact rely on Java.  If I am understanding that correcly, is that the typical recommended route (to allow C++ code to use Java)?  Or is it common to take the steps to go around this?","body":"Thank you.  From the sounds of it, Android is designed to force all programs to use Java (for some reason) unless you take special steps to go around it.  That would seem to imply that C++ programs typically do in fact rely on Java.  If I am understanding that correcly, is that the typical recommended route (to allow C++ code to use Java)?  Or is it common to take the steps to go around this?"},{"owner":{"account_id":10030734,"reputation":19,"user_id":7417439,"display_name":"ag87"},"score":0,"creation_date":1484368866,"post_id":41646631,"comment_id":70493102,"body_markdown":"As I do more reading on these pages, I think the answers to these follow-up questions are becoming clear.  Thanks again for your help.","body":"As I do more reading on these pages, I think the answers to these follow-up questions are becoming clear.  Thanks again for your help."},{"owner":{"account_id":79346,"reputation":57079,"user_id":225074,"accept_rate":91,"display_name":"Thomas Matthews"},"score":0,"creation_date":1484373836,"post_id":41646631,"comment_id":70493786,"body_markdown":"You should read or search [android.se] for more information.","body":"You should read or search <a href=\"https://android.stackexchange.com\">Android Enthusiasts</a> for more information."}],"owner":{"account_id":10030734,"reputation":19,"user_id":7417439,"display_name":"ag87"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1642779493,"creation_date":1484365900,"question_id":41646631,"body_markdown":"I&#39;m investigating porting a C++/Win32 project of mine to work on Android devices. I have not developed anything for Android before, although I have developed on a number of Unix OS&#39;s and Linux in previous jobs. I&#39;ve looked at a lot of information while trying to find a good, free cross-compiler (compile on Windows, target is Android), but I keep finding extremely strange and confusing answers about Android not supporting C++ and having to rely on Java even if I use a tool to make the C++ code work. That doesn&#39;t make any sense to me at all since C++ is just the language choice, not the API, and what I need is any API and compiler to support creating a binary for this particular OS. I find it difficult to believe that there&#39;s no true C++ compiler and some API that would work with it.\r\n\r\nSo that&#39;s my question: Am I misunderstanding all this information about no true C++ compiler and compatible API for the Android OS and that any C++ code has to rely on Java? If so, what is a good, free choice that does not rely on Java? And what is a good API for that? If I&#39;m not misunderstanding, then why is there a dependency on Java and does no one ever build native binaries?\r\n\r\nMore detail:\r\n\r\nAt the very least, it seems like gcc should work. I&#39;d just go with that, but apparently people were having some problems with it on Android and therefore the build options looked like a hassle. Plus I was hoping for something a bit more user-friendly where I don&#39;t have to spend a lot of time dealing with makefiles and such.\r\n\r\nTo add a bit more detail about my specific case, this project is extremely large and therefore it is not feasible to rewrite it in another language. It needs to be efficient, which is why I want it to compile into a native binary just like it does on Windows now. I designed it at a very low level that uses a very small number of very basic Win32 commands and isolated those in a windows-specific layer for any future porting purposes (so exactly this situation), so I really just need a very few, very basic API functions. On a previous job, we used to do this very thing for the products to support both Windows and a variety of Unix OS&#39;s (Solaris, HP-UX, etc.) and Linux, so I was planning on taking exactly the same approach here.  I&#39;m not at all clear why the Android OS would be any different.","title":"On the Android OS, do C++ programs really rely on Java, and if so, why?","body":"<p>I'm investigating porting a C++/Win32 project of mine to work on Android devices. I have not developed anything for Android before, although I have developed on a number of Unix OS's and Linux in previous jobs. I've looked at a lot of information while trying to find a good, free cross-compiler (compile on Windows, target is Android), but I keep finding extremely strange and confusing answers about Android not supporting C++ and having to rely on Java even if I use a tool to make the C++ code work. That doesn't make any sense to me at all since C++ is just the language choice, not the API, and what I need is any API and compiler to support creating a binary for this particular OS. I find it difficult to believe that there's no true C++ compiler and some API that would work with it.</p>\n<p>So that's my question: Am I misunderstanding all this information about no true C++ compiler and compatible API for the Android OS and that any C++ code has to rely on Java? If so, what is a good, free choice that does not rely on Java? And what is a good API for that? If I'm not misunderstanding, then why is there a dependency on Java and does no one ever build native binaries?</p>\n<p>More detail:</p>\n<p>At the very least, it seems like gcc should work. I'd just go with that, but apparently people were having some problems with it on Android and therefore the build options looked like a hassle. Plus I was hoping for something a bit more user-friendly where I don't have to spend a lot of time dealing with makefiles and such.</p>\n<p>To add a bit more detail about my specific case, this project is extremely large and therefore it is not feasible to rewrite it in another language. It needs to be efficient, which is why I want it to compile into a native binary just like it does on Windows now. I designed it at a very low level that uses a very small number of very basic Win32 commands and isolated those in a windows-specific layer for any future porting purposes (so exactly this situation), so I really just need a very few, very basic API functions. On a previous job, we used to do this very thing for the products to support both Windows and a variety of Unix OS's (Solaris, HP-UX, etc.) and Linux, so I was planning on taking exactly the same approach here.  I'm not at all clear why the Android OS would be any different.</p>\n"},{"tags":["java","reflection","enums","openjdk-11"],"comments":[{"owner":{"account_id":26005,"reputation":8101,"user_id":67373,"accept_rate":100,"display_name":"Sujoy"},"score":6,"creation_date":1642441958,"post_id":70745514,"comment_id":125066672,"body_markdown":"If its dynamic then Enum kind of loses its charm. Its just a basic object at this point. Might as well use a class for this.","body":"If its dynamic then Enum kind of loses its charm. Its just a basic object at this point. Might as well use a class for this."},{"owner":{"account_id":11221837,"reputation":2208,"user_id":8232755,"display_name":"Thoomas"},"score":0,"creation_date":1642442054,"post_id":70745514,"comment_id":125066701,"body_markdown":"I can&#39;t agree more. Unfortunately, this is legacy code and the application relies a lot on it. It populates hundreds of enums.","body":"I can&#39;t agree more. Unfortunately, this is legacy code and the application relies a lot on it. It populates hundreds of enums."},{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":2,"creation_date":1642442463,"post_id":70745514,"comment_id":125066831,"body_markdown":"How about generating the enum classes at runtime, generating bytecodes rather than using reflection? There are libraries for that and it should work with Java11+.","body":"How about generating the enum classes at runtime, generating bytecodes rather than using reflection? There are libraries for that and it should work with Java11+."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1642445393,"post_id":70745514,"comment_id":125067748,"body_markdown":"Sounds like you cannot postpone  your technical debt using `sun.*` classes any longer.","body":"Sounds like you cannot postpone  your technical debt using <code>sun.*</code> classes any longer."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1642514371,"post_id":70745514,"comment_id":125086719,"body_markdown":"Since your task is to make it work in Java 11, this seems like a good opportunity to change the application from creating dynamic enums (which, as Sujoy points out, defeats the point of using enums) to using a (probably static) `Map&lt;String, SomeValueType&gt;`.","body":"Since your task is to make it work in Java 11, this seems like a good opportunity to change the application from creating dynamic enums (which, as Sujoy points out, defeats the point of using enums) to using a (probably static) <code>Map&lt;String, SomeValueType&gt;</code>."},{"owner":{"account_id":11221837,"reputation":2208,"user_id":8232755,"display_name":"Thoomas"},"score":0,"creation_date":1642517442,"post_id":70745514,"comment_id":125088083,"body_markdown":"Thanks to all for your feedbacks. I&#39;ll try to change to something using a `Map`. I&#39;ll post it as an answer later (in case someone will have to deal with the same issue).","body":"Thanks to all for your feedbacks. I&#39;ll try to change to something using a <code>Map</code>. I&#39;ll post it as an answer later (in case someone will have to deal with the same issue)."}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1642604086,"creation_date":1642604086,"answer_id":70772800,"question_id":70745514,"body_markdown":"[This answer] contains a working approach which uses only the standard API and still works, even with JDK&#160;17.\r\n\r\nSince it uses a JDK type for the example, which requires an `--add-opens java.base/java.lang=…` argument at startup time, here’s an example using its own `enum` type which does not require any modifications to the environment.\r\n\r\n```java\r\nimport java.lang.invoke.MethodHandle;\r\nimport java.lang.invoke.MethodHandles;\r\nimport java.lang.reflect.Constructor;\r\nimport java.util.EnumSet;\r\n\r\nclass EnumHack {\r\n    public static void main(String[] args) throws Throwable {\r\n        System.out.println(Runtime.version());\r\n        Constructor&lt;Example&gt; c\r\n            = Example.class.getDeclaredConstructor(String.class, int.class);\r\n        c.setAccessible(true);\r\n        MethodHandle h = MethodHandles.lookup().unreflectConstructor(c);\r\n        Example baz = (Example) h.invokeExact(&quot;BAZ&quot;, 42);\r\n        System.out.println(&quot;created Example &quot; + baz + &quot;(&quot; + baz.ordinal() + &#39;)&#39;);\r\n        EnumSet&lt;Example&gt; set = EnumSet.allOf(Example.class);\r\n        System.out.println(set.contains(baz));\r\n        set.add(baz);\r\n        System.out.println(set);\r\n    }\r\n\r\n    enum Example {\r\n        FOO, BAR\r\n    }\r\n}\r\n```\r\n\r\nSince it doesn’t require special setup, it can be [demonstrated on Ideone]\r\n\r\n```none\r\n12.0.1+12\r\ncreated Example BAZ(42)\r\nfalse\r\n\r\nException in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 42 out of bounds for length 2\r\n\tat java.base/java.util.RegularEnumSet$EnumSetIterator.next(RegularEnumSet.java:105)\r\n\tat java.base/java.util.RegularEnumSet$EnumSetIterator.next(RegularEnumSet.java:78)\r\n\tat java.base/java.util.AbstractCollection.toString(AbstractCollection.java:472)\r\n\tat java.base/java.lang.String.valueOf(String.java:3042)\r\n\tat java.base/java.io.PrintStream.println(PrintStream.java:897)\r\n\tat EnumHack.main(Main.java:18)\r\n```\r\n\r\nThis not only shows that the hack does its job, but also some of the problems cause by this. The set supposed to contain all elements doesn’t contain the new constant and after adding it manually, the resulting inconsistent state produces exceptions on subsequent operations.\r\n\r\nSo, such enum constant must not be used with the standard tools for enum types, which matches what has been said in the question’s comments, it loses the advantage of being an enum type. In fact, it’s worse than that.\r\n\r\nSo the approach shown above should only be used as a temporary work-around, or not at all.\r\n\r\n[This answer]: https://stackoverflow.com/a/34956094/2711488\r\n[demonstrated on Ideone]: https://ideone.com/diuNDv","title":"Dynamic enum with OpenJDK 11 using reflection","body":"<p><a href=\"https://stackoverflow.com/a/34956094/2711488\">This answer</a> contains a working approach which uses only the standard API and still works, even with JDK 17.</p>\n<p>Since it uses a JDK type for the example, which requires an <code>--add-opens java.base/java.lang=…</code> argument at startup time, here’s an example using its own <code>enum</code> type which does not require any modifications to the environment.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.lang.invoke.MethodHandle;\nimport java.lang.invoke.MethodHandles;\nimport java.lang.reflect.Constructor;\nimport java.util.EnumSet;\n\nclass EnumHack {\n    public static void main(String[] args) throws Throwable {\n        System.out.println(Runtime.version());\n        Constructor&lt;Example&gt; c\n            = Example.class.getDeclaredConstructor(String.class, int.class);\n        c.setAccessible(true);\n        MethodHandle h = MethodHandles.lookup().unreflectConstructor(c);\n        Example baz = (Example) h.invokeExact(&quot;BAZ&quot;, 42);\n        System.out.println(&quot;created Example &quot; + baz + &quot;(&quot; + baz.ordinal() + ')');\n        EnumSet&lt;Example&gt; set = EnumSet.allOf(Example.class);\n        System.out.println(set.contains(baz));\n        set.add(baz);\n        System.out.println(set);\n    }\n\n    enum Example {\n        FOO, BAR\n    }\n}\n</code></pre>\n<p>Since it doesn’t require special setup, it can be <a href=\"https://ideone.com/diuNDv\" rel=\"noreferrer\">demonstrated on Ideone</a></p>\n<pre class=\"lang-none prettyprint-override\"><code>12.0.1+12\ncreated Example BAZ(42)\nfalse\n\nException in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 42 out of bounds for length 2\n    at java.base/java.util.RegularEnumSet$EnumSetIterator.next(RegularEnumSet.java:105)\n    at java.base/java.util.RegularEnumSet$EnumSetIterator.next(RegularEnumSet.java:78)\n    at java.base/java.util.AbstractCollection.toString(AbstractCollection.java:472)\n    at java.base/java.lang.String.valueOf(String.java:3042)\n    at java.base/java.io.PrintStream.println(PrintStream.java:897)\n    at EnumHack.main(Main.java:18)\n</code></pre>\n<p>This not only shows that the hack does its job, but also some of the problems cause by this. The set supposed to contain all elements doesn’t contain the new constant and after adding it manually, the resulting inconsistent state produces exceptions on subsequent operations.</p>\n<p>So, such enum constant must not be used with the standard tools for enum types, which matches what has been said in the question’s comments, it loses the advantage of being an enum type. In fact, it’s worse than that.</p>\n<p>So the approach shown above should only be used as a temporary work-around, or not at all.</p>\n"},{"tags":[],"owner":{"account_id":11221837,"reputation":2208,"user_id":8232755,"display_name":"Thoomas"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1642779213,"creation_date":1642779213,"answer_id":70803791,"question_id":70745514,"body_markdown":"As you all mentionned in the comments&#39; section, adding `enum` values at runtime is a very bad idea, breaking the contract of an enum.\r\n\r\nSo, I&#39;ve modified all the cases into a POJO object, maintaining a map.\r\n\r\nIn a simplified format, `AEnum` becomes :\r\n\r\n    public class AEnum extends DynamicEnum { // DynamicEnum has utility methods in order to act as close as a real enum.\r\n        @Getter\r\n        private String label;\r\n    \r\n        private static final Map&lt;String, AEnum&gt; map = new LinkedHashMap&lt;&gt;();\r\n    \r\n        protected AEnum (String name, String label) {\r\n            this.name = name;\r\n            this.label= label;\r\n        }\r\n\r\n        public static AEnum addInMap(String name, String label) {\r\n            AEnum value = new DossierSousType(name, label);\r\n            map.put(name, value);\r\n            return value;\r\n        }\r\n    }\r\n\r\nWe read the dynamic values from the database, so I&#39;ve made an utility class to load everything.\r\n\r\n    public static &lt;T extends DynamicEnum&gt; T addEnum(final Class&lt;T&gt; type, final String name, final String label) throws TechnicalException {\r\n        try {\r\n            Method method = type.getDeclaredMethod(&quot;addInMap&quot;, String.class, String.class);\r\n            return (T) method.invoke(null, name, label);\r\n        } catch (... e) {\r\n            // ...\r\n        }\r\n    }\r\n\r\nThen :\r\n\r\n    addEnum(AEnum.class, &quot;TEST&quot;, &quot;labelTest&quot;);\r\n    addEnum(AEnum.class, &quot;TEST2&quot;, &quot;labelTest2&quot;);\r\n    AEnum.getAll() // returns a list with the two entries\r\n\r\n\r\nMoreover, if we use this &quot;false enum&quot; inside a persisted `Entity`, we have a converter to manage conversion between `String` and `AEnum`.\r\n\r\n    @Entity\r\n    @Table(name = TABLE_NAME)\r\n    ...\r\n    public class MyEntity {\r\n        @Column(name = COLUMN_TYPE)\r\n        @Convert(converter = AEnumConverter.class)\r\n        private AEnum type;\r\n\r\n`AEnumConverter` implements `javax.persistence.AttributeConverter` :\r\n\r\n    @Converter\r\n    public class AEnumConverter implements AttributeConverter&lt;AEnum , String&gt; {\r\n    \r\n        @Override\r\n        public String convertToDatabaseColumn(AEnum type) {\r\n            return type != null ? type.getName() : null;\r\n        }\r\n    \r\n        @Override\r\n        public AEnum convertToEntityAttribute(String type) {\r\n            return AEnum .getEnum(type);\r\n        }\r\n    }\r\n\r\nWith this mechanism, everything works perfectly, and we no longer need `sun.reflect.*` !","title":"Dynamic enum with OpenJDK 11 using reflection","body":"<p>As you all mentionned in the comments' section, adding <code>enum</code> values at runtime is a very bad idea, breaking the contract of an enum.</p>\n<p>So, I've modified all the cases into a POJO object, maintaining a map.</p>\n<p>In a simplified format, <code>AEnum</code> becomes :</p>\n<pre><code>public class AEnum extends DynamicEnum { // DynamicEnum has utility methods in order to act as close as a real enum.\n    @Getter\n    private String label;\n\n    private static final Map&lt;String, AEnum&gt; map = new LinkedHashMap&lt;&gt;();\n\n    protected AEnum (String name, String label) {\n        this.name = name;\n        this.label= label;\n    }\n\n    public static AEnum addInMap(String name, String label) {\n        AEnum value = new DossierSousType(name, label);\n        map.put(name, value);\n        return value;\n    }\n}\n</code></pre>\n<p>We read the dynamic values from the database, so I've made an utility class to load everything.</p>\n<pre><code>public static &lt;T extends DynamicEnum&gt; T addEnum(final Class&lt;T&gt; type, final String name, final String label) throws TechnicalException {\n    try {\n        Method method = type.getDeclaredMethod(&quot;addInMap&quot;, String.class, String.class);\n        return (T) method.invoke(null, name, label);\n    } catch (... e) {\n        // ...\n    }\n}\n</code></pre>\n<p>Then :</p>\n<pre><code>addEnum(AEnum.class, &quot;TEST&quot;, &quot;labelTest&quot;);\naddEnum(AEnum.class, &quot;TEST2&quot;, &quot;labelTest2&quot;);\nAEnum.getAll() // returns a list with the two entries\n</code></pre>\n<p>Moreover, if we use this &quot;false enum&quot; inside a persisted <code>Entity</code>, we have a converter to manage conversion between <code>String</code> and <code>AEnum</code>.</p>\n<pre><code>@Entity\n@Table(name = TABLE_NAME)\n...\npublic class MyEntity {\n    @Column(name = COLUMN_TYPE)\n    @Convert(converter = AEnumConverter.class)\n    private AEnum type;\n</code></pre>\n<p><code>AEnumConverter</code> implements <code>javax.persistence.AttributeConverter</code> :</p>\n<pre><code>@Converter\npublic class AEnumConverter implements AttributeConverter&lt;AEnum , String&gt; {\n\n    @Override\n    public String convertToDatabaseColumn(AEnum type) {\n        return type != null ? type.getName() : null;\n    }\n\n    @Override\n    public AEnum convertToEntityAttribute(String type) {\n        return AEnum .getEnum(type);\n    }\n}\n</code></pre>\n<p>With this mechanism, everything works perfectly, and we no longer need <code>sun.reflect.*</code> !</p>\n"}],"owner":{"account_id":11221837,"reputation":2208,"user_id":8232755,"display_name":"Thoomas"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1510,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":70803791,"answer_count":2,"score":1,"last_activity_date":1642779213,"creation_date":1642441619,"question_id":70745514,"body_markdown":"I&#39;m working on a project running with JDK8 and we want to migrate it to OpenJDK11.\r\n\r\nBut, there is legacy code that creates enums dynamically at runtime (using reflection and `sun.reflect.*` packages) :\r\n\r\n    public class EnumUtil {\r\n        static Object makeEnum(...) {\r\n            ...\r\n            enumClass.cast(sun.reflect.ReflectionFactory.getReflectionFactory() .newConstructorAccessor(constructor).newInstance(params));\r\n        }\r\n    }\r\n\r\nOr \r\n\r\n        // before, field is made accessible, the modifier too\r\n        sun.reflect.FieldAccessor fieldAccessor = sun.reflect.ReflectionFactory.getReflectionFactory().newFieldAccessor(field, false);\r\n        field.set(target, value);\r\n\r\nFor example, let&#39;s say we have the enum `AEnum` :\r\n\r\n    public enum AEnum {\r\n        ; // no values at compile time\r\n\r\n        private String label;\r\n    \r\n        private AEnum (String label) {\r\n            this.label = label;\r\n        }\r\n\r\n\r\nThen, we add enum values like this :\r\n\r\n    EnumUtil.addEnum(MyEnum.class, &quot;TEST&quot;, &quot;labelTest&quot;);\r\n\r\nFinally, we have, at runtime, a value `AEnum.TEST` (not with that direct call, but with `Enum.valueOf`) with the label = labelTest.\r\n\r\nUnfortunately, `sun.reflect.*` classes are no longer available in OpenJDK11.\r\n\r\nI&#39;ve tried using `jdk.internal.reflect.ConstructorAccessor` but I&#39;m getting the error `java: package jdk.internal.reflect does not exist`. And I don&#39;t think it&#39;s a good idea to rely on `jdk.internal.*` classes.\r\n\r\nIs there any OpenJDK11 alternative to create enums at runtime ?\r\n\r\n","title":"Dynamic enum with OpenJDK 11 using reflection","body":"<p>I'm working on a project running with JDK8 and we want to migrate it to OpenJDK11.</p>\n<p>But, there is legacy code that creates enums dynamically at runtime (using reflection and <code>sun.reflect.*</code> packages) :</p>\n<pre><code>public class EnumUtil {\n    static Object makeEnum(...) {\n        ...\n        enumClass.cast(sun.reflect.ReflectionFactory.getReflectionFactory() .newConstructorAccessor(constructor).newInstance(params));\n    }\n}\n</code></pre>\n<p>Or</p>\n<pre><code>    // before, field is made accessible, the modifier too\n    sun.reflect.FieldAccessor fieldAccessor = sun.reflect.ReflectionFactory.getReflectionFactory().newFieldAccessor(field, false);\n    field.set(target, value);\n</code></pre>\n<p>For example, let's say we have the enum <code>AEnum</code> :</p>\n<pre><code>public enum AEnum {\n    ; // no values at compile time\n\n    private String label;\n\n    private AEnum (String label) {\n        this.label = label;\n    }\n</code></pre>\n<p>Then, we add enum values like this :</p>\n<pre><code>EnumUtil.addEnum(MyEnum.class, &quot;TEST&quot;, &quot;labelTest&quot;);\n</code></pre>\n<p>Finally, we have, at runtime, a value <code>AEnum.TEST</code> (not with that direct call, but with <code>Enum.valueOf</code>) with the label = labelTest.</p>\n<p>Unfortunately, <code>sun.reflect.*</code> classes are no longer available in OpenJDK11.</p>\n<p>I've tried using <code>jdk.internal.reflect.ConstructorAccessor</code> but I'm getting the error <code>java: package jdk.internal.reflect does not exist</code>. And I don't think it's a good idea to rely on <code>jdk.internal.*</code> classes.</p>\n<p>Is there any OpenJDK11 alternative to create enums at runtime ?</p>\n"},{"tags":["java","rx-java3"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1642778577,"post_id":70803543,"comment_id":125170094,"body_markdown":"Instead of stop producing, perhaps don&#39;t attempt to send if there is another IO call in progress (or some pending count &gt; threshold)?","body":"Instead of stop producing, perhaps don&#39;t attempt to send if there is another IO call in progress (or some pending count &gt; threshold)?"},{"owner":{"account_id":43232,"reputation":13925,"user_id":126280,"accept_rate":60,"display_name":"Cheetah"},"score":0,"creation_date":1642778716,"post_id":70803543,"comment_id":125170157,"body_markdown":"@AndrewS - I don&#39;t have access into that code. I don&#39;t know how much is queued.","body":"@AndrewS - I don&#39;t have access into that code. I don&#39;t know how much is queued."},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1642778898,"post_id":70803543,"comment_id":125170230,"body_markdown":"You could consider using `Flowable.generate` that does offer backpressure, however, the timed `buffer` would remain an issue as it unbounds the flow. If you can just use the size-bound `buffer` alternative, that would improve this latter situation.","body":"You could consider using <code>Flowable.generate</code> that does offer backpressure, however, the timed <code>buffer</code> would remain an issue as it unbounds the flow. If you can just use the size-bound <code>buffer</code> alternative, that would improve this latter situation."}],"answers":[{"tags":[],"owner":{"account_id":11442947,"reputation":1,"user_id":11019212,"display_name":"Steve"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642778781,"creation_date":1642778781,"answer_id":70803687,"question_id":70803543,"body_markdown":"I would probably suggest creating a thread pool to handle the sendToClient operations.  This can support having a queue of requests waiting to be handled, but you can also specify behavior if the queue is full (ie, too much back pressure).\r\n\r\nTake a look at java.util.concurrent.ThreadPoolExecutor","title":"Correctly handling backpressure from an async call","body":"<p>I would probably suggest creating a thread pool to handle the sendToClient operations.  This can support having a queue of requests waiting to be handled, but you can also specify behavior if the queue is full (ie, too much back pressure).</p>\n<p>Take a look at java.util.concurrent.ThreadPoolExecutor</p>\n"}],"owner":{"account_id":43232,"reputation":13925,"user_id":126280,"accept_rate":60,"display_name":"Cheetah"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642778781,"creation_date":1642778215,"question_id":70803543,"body_markdown":"I have some code that looks roughly like this:\r\n\r\n    Completable handle(Observable&lt;Object&gt; inbound) {\r\n      return inbound.buffer(1, TimeUnit.Second, 250)\r\n        .filter(l -&gt; !l.isEmpty())\r\n        .flatMapToCompletable(this::sendToClient);\r\n    }\r\n    \r\n    Completable sendToClient(List&lt;Object&gt; list) {\r\n      // call IO asynchronously\r\n    }\r\n\r\n`inbound` is a cold observable that is producing in a standard while loop (but on another Thread!). While not disposed, fetch some data and call `onNext()`.\r\n\r\nThe issue I face is that `sendToClient` is too &quot;slow&quot;, it can&#39;t keep up with the speed at which `inbound` is producing data. It&#39;s an async operation that is essentially queuing the calls to the client in memory somewhere (don&#39;t have access to this code) and eventually filling the heap.\r\n\r\nI need a way to figure out a way to get `inbound` to stop producing when these calls start to stack up. Is there a way to achieve this using inbuild operators?\r\n","title":"Correctly handling backpressure from an async call","body":"<p>I have some code that looks roughly like this:</p>\n<pre><code>Completable handle(Observable&lt;Object&gt; inbound) {\n  return inbound.buffer(1, TimeUnit.Second, 250)\n    .filter(l -&gt; !l.isEmpty())\n    .flatMapToCompletable(this::sendToClient);\n}\n\nCompletable sendToClient(List&lt;Object&gt; list) {\n  // call IO asynchronously\n}\n</code></pre>\n<p><code>inbound</code> is a cold observable that is producing in a standard while loop (but on another Thread!). While not disposed, fetch some data and call <code>onNext()</code>.</p>\n<p>The issue I face is that <code>sendToClient</code> is too &quot;slow&quot;, it can't keep up with the speed at which <code>inbound</code> is producing data. It's an async operation that is essentially queuing the calls to the client in memory somewhere (don't have access to this code) and eventually filling the heap.</p>\n<p>I need a way to figure out a way to get <code>inbound</code> to stop producing when these calls start to stack up. Is there a way to achieve this using inbuild operators?</p>\n"},{"tags":["java","spring","spring-boot","spring-security","jwt"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1642762035,"post_id":70799866,"comment_id":125163658,"body_markdown":"Implement the authentication with JWT in a different class. Currently your `JwtService` is also a `UserDetailsService` which also does authentication. Which means the `UserDetailsService` now suddenly needs the `AuthenticationManager` which in turn needs the `UserDetailsService`. The configuration also needs this which in turn isn&#39;t possible due to that it needs the `Authenticationmanager`.","body":"Implement the authentication with JWT in a different class. Currently your <code>JwtService</code> is also a <code>UserDetailsService</code> which also does authentication. Which means the <code>UserDetailsService</code> now suddenly needs the <code>AuthenticationManager</code> which in turn needs the <code>UserDetailsService</code>. The configuration also needs this which in turn isn&#39;t possible due to that it needs the <code>Authenticationmanager</code>."}],"answers":[{"tags":[],"owner":{"account_id":13252051,"reputation":1635,"user_id":9569292,"display_name":"Thomas Timbul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642773475,"creation_date":1642762073,"answer_id":70800081,"question_id":70799866,"body_markdown":"1. Remove this from `WebSecurityConfiguration`:\r\n\r\n       @Autowired\r\n       private JwtRequestFilter jwtRequestFilter;\r\n\r\n\r\n   The problem is that to be able to create the `jwtRequestFilter`, you first need a `JwtService`, which is created in `WebSecurityConfiguration`.\r\n\r\n   `jwtRequestFilter` is injected into this configuration for no reason (it isn&#39;t used to create another `@Bean`). It will automatically be created by virtue of being a `@Component`. By using `@Autowire` in the above manner you have made WebSecurityConfiguration depend on the filter and thus created this circular dependency.\r\n\r\n2. As per @M.Deinum&#39;s comment, your `JwtService` depends on `AuthenticationManager`, which in turns requires `JwtService` while it&#39;s being built, specifically here:\r\n\r\n       @Autowired\r\n       public void configureGlobal(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\r\n        authenticationManagerBuilder.userDetailsService(jwtService).passwordEncoder(passwordEncoder());\r\n       }\r\n\r\n   `JwtService` should only implement `UserDetailsService.loadUserByUsername` - it should not be responsible for anything else.\r\n\r\n   `createJwtToken(JwtRequest)` and `authenticate(String, String)` are the offenders here. You could just move them to another class, however, (and this could be 3.), depending on why and where and when you want to create such a token, responsibility for the authentication itself should remain with the AuthenticationManager, and token generation used for later password-less authorization could simply depend on a valid `User` argument, after that authentication has passed. There is no reason why `createJwtToken` should contain any call to `authenticate` at all. A refined approach is presented here (no affiliation): https://www.toptal.com/spring/spring-security-tutorial\r\n","title":"SPRING BOOT :Spring Security circular bean dependency","body":"<ol>\n<li><p>Remove this from <code>WebSecurityConfiguration</code>:</p>\n<pre><code>@Autowired\nprivate JwtRequestFilter jwtRequestFilter;\n</code></pre>\n<p>The problem is that to be able to create the <code>jwtRequestFilter</code>, you first need a <code>JwtService</code>, which is created in <code>WebSecurityConfiguration</code>.</p>\n<p><code>jwtRequestFilter</code> is injected into this configuration for no reason (it isn't used to create another <code>@Bean</code>). It will automatically be created by virtue of being a <code>@Component</code>. By using <code>@Autowire</code> in the above manner you have made WebSecurityConfiguration depend on the filter and thus created this circular dependency.</p>\n</li>\n<li><p>As per @M.Deinum's comment, your <code>JwtService</code> depends on <code>AuthenticationManager</code>, which in turns requires <code>JwtService</code> while it's being built, specifically here:</p>\n<pre><code>@Autowired\npublic void configureGlobal(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\n authenticationManagerBuilder.userDetailsService(jwtService).passwordEncoder(passwordEncoder());\n}\n</code></pre>\n<p><code>JwtService</code> should only implement <code>UserDetailsService.loadUserByUsername</code> - it should not be responsible for anything else.</p>\n<p><code>createJwtToken(JwtRequest)</code> and <code>authenticate(String, String)</code> are the offenders here. You could just move them to another class, however, (and this could be 3.), depending on why and where and when you want to create such a token, responsibility for the authentication itself should remain with the AuthenticationManager, and token generation used for later password-less authorization could simply depend on a valid <code>User</code> argument, after that authentication has passed. There is no reason why <code>createJwtToken</code> should contain any call to <code>authenticate</code> at all. A refined approach is presented here (no affiliation): <a href=\"https://www.toptal.com/spring/spring-security-tutorial\" rel=\"nofollow noreferrer\">https://www.toptal.com/spring/spring-security-tutorial</a></p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1642778737,"creation_date":1642777843,"answer_id":70803465,"question_id":70799866,"body_markdown":"Spring security has had full JWT support since 2018, so my recommendation is the following.\r\n\r\nRemove all the custom code since writing custom security is bad practice. Use the built in JWT functionality that comes with spring security.\r\n\r\nFirst define that you want to use the oauth2resource filter but you want the filter to handle jwts instead of a traditional oauth2 token.\r\n\r\n```\r\n@EnableWebSecurity\r\npublic class DirectlyConfiguredJwtDecoder extends WebSecurityConfigurerAdapter {\r\n    protected void configure(HttpSecurity http) {\r\n        http\r\n            .authorizeHttpRequests(authorize -&gt; authorize\r\n                .anyRequest().authenticated()\r\n            )\r\n            .oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt);\r\n    }\r\n}\r\n```\r\n\r\nadd a custom decoder, that will decode the jwt using the built in `Nimbus` library that comes with Spring Security. Its easy to configure using the builder pattern [NimbusJWTDecoder][1]\r\n\r\nJust add it as a `bean` and spring will automatically pick it up and inject it into the built in jwt filter.\r\n\r\n\r\n```\r\n@Bean\r\npublic JwtDecoder jwtDecoder() {\r\n    // Use builder functions to configure how the JWT should be validated.\r\n    return NimbusJwtDecoder.withPublicKey(this.key).build();\r\n}\r\n```\r\n\r\nIf you wish to configure scopes and map these as roles in your application you can just add a `JwtAuthenticationConverter` that will take the scopes and map them to roles with the `ROLE_` prefix. If you don&#39;t add a converter your scopes will have the `SCOPE_` prefix.\r\n\r\n```\r\n@Bean\r\npublic JwtAuthenticationConverter jwtAuthenticationConverter() {\r\n    JwtGrantedAuthoritiesConverter grantedAuthoritiesConverter = new JwtGrantedAuthoritiesConverter();\r\n    grantedAuthoritiesConverter.setAuthorityPrefix(&quot;ROLE_&quot;);\r\n\r\n    JwtAuthenticationConverter jwtAuthenticationConverter = new JwtAuthenticationConverter();\r\n    jwtAuthenticationConverter.setJwtGrantedAuthoritiesConverter(grantedAuthoritiesConverter);\r\n    return jwtAuthenticationConverter;\r\n}\r\n```\r\n\r\nPlease read up on how JWTs in spring security work, there is an entire chapter on how to simple and easy implement the handling of JWTs in spring security.\r\n\r\n[Spring security JWT][2]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/current/api//org/springframework/security/oauth2/jwt/NimbusJwtDecoder.html\r\n  [2]: https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/jwt.html","title":"SPRING BOOT :Spring Security circular bean dependency","body":"<p>Spring security has had full JWT support since 2018, so my recommendation is the following.</p>\n<p>Remove all the custom code since writing custom security is bad practice. Use the built in JWT functionality that comes with spring security.</p>\n<p>First define that you want to use the oauth2resource filter but you want the filter to handle jwts instead of a traditional oauth2 token.</p>\n<pre><code>@EnableWebSecurity\npublic class DirectlyConfiguredJwtDecoder extends WebSecurityConfigurerAdapter {\n    protected void configure(HttpSecurity http) {\n        http\n            .authorizeHttpRequests(authorize -&gt; authorize\n                .anyRequest().authenticated()\n            )\n            .oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt);\n    }\n}\n</code></pre>\n<p>add a custom decoder, that will decode the jwt using the built in <code>Nimbus</code> library that comes with Spring Security. Its easy to configure using the builder pattern <a href=\"https://docs.spring.io/spring-security/site/docs/current/api//org/springframework/security/oauth2/jwt/NimbusJwtDecoder.html\" rel=\"nofollow noreferrer\">NimbusJWTDecoder</a></p>\n<p>Just add it as a <code>bean</code> and spring will automatically pick it up and inject it into the built in jwt filter.</p>\n<pre><code>@Bean\npublic JwtDecoder jwtDecoder() {\n    // Use builder functions to configure how the JWT should be validated.\n    return NimbusJwtDecoder.withPublicKey(this.key).build();\n}\n</code></pre>\n<p>If you wish to configure scopes and map these as roles in your application you can just add a <code>JwtAuthenticationConverter</code> that will take the scopes and map them to roles with the <code>ROLE_</code> prefix. If you don't add a converter your scopes will have the <code>SCOPE_</code> prefix.</p>\n<pre><code>@Bean\npublic JwtAuthenticationConverter jwtAuthenticationConverter() {\n    JwtGrantedAuthoritiesConverter grantedAuthoritiesConverter = new JwtGrantedAuthoritiesConverter();\n    grantedAuthoritiesConverter.setAuthorityPrefix(&quot;ROLE_&quot;);\n\n    JwtAuthenticationConverter jwtAuthenticationConverter = new JwtAuthenticationConverter();\n    jwtAuthenticationConverter.setJwtGrantedAuthoritiesConverter(grantedAuthoritiesConverter);\n    return jwtAuthenticationConverter;\n}\n</code></pre>\n<p>Please read up on how JWTs in spring security work, there is an entire chapter on how to simple and easy implement the handling of JWTs in spring security.</p>\n<p><a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/jwt.html\" rel=\"nofollow noreferrer\">Spring security JWT</a></p>\n"}],"owner":{"account_id":23976800,"reputation":11,"user_id":17964788,"display_name":"maram ahmedi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3170,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1642778737,"creation_date":1642761010,"question_id":70799866,"body_markdown":"I&#39;m currently Implementing Token and Role Base Authentication Using Spring Boot   JWT  MySQL  following the tutoriel [https://github.com/team-learn-programming-yourself/jwt-youtube][1]\r\nauthentication with Spring Security for REST API using Spring Boot  \r\n\r\nit produces an error \r\n\r\n\r\n        Description:\r\n        \r\n        The dependencies of some of the beans in the application context form a cycle:\r\n        \r\n        ┌─────┐\r\n        |  jwtRequestFilter (field private com.example.jwt.service.JwtService com.example.jwt.configuration.JwtRequestFilter.jwtService)\r\n        ↑     ↓\r\n        |  jwtService (field private org.springframework.security.authentication.AuthenticationManager com.example.jwt.service.JwtService.authenticationManager)\r\n        ↑     ↓\r\n        |  webSecurityConfiguration (field private com.example.jwt.configuration.JwtRequestFilter com.example.jwt.configuration.WebSecurityConfiguration.jwtRequestFilter)\r\n        └─────┘\r\n    \r\n    Action:\r\n    Relying upon circular references is discouraged and they are prohibited by default. Update your application to remove the dependency cycle between beans. As a last resort, it may be possible to break the cycle automatically by setting spring.main.allow-circular-references to true.\r\n\r\nthe code for the dependencies producing error are as below :\r\n\r\n **jwtRequestFilter**\r\n\r\n    package com.example.jwt.configuration;\r\n    \r\n    import com.example.jwt.service.JwtService;\r\n    import com.example.jwt.util.JwtUtil;\r\n    import io.jsonwebtoken.ExpiredJwtException;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\n    import org.springframework.security.core.context.SecurityContextHolder;\r\n    import org.springframework.security.core.userdetails.UserDetails;\r\n    import org.springframework.security.web.authentication.WebAuthenticationDetailsSource;\r\n    import org.springframework.stereotype.Component;\r\n    import org.springframework.web.filter.OncePerRequestFilter;\r\n    \r\n    import javax.servlet.FilterChain;\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    import java.io.IOException;\r\n    \r\n    @Component\r\n    public class JwtRequestFilter extends OncePerRequestFilter {\r\n    \r\n        @Autowired\r\n        private JwtUtil jwtUtil;\r\n    \r\n        @Autowired\r\n        private JwtService jwtService;\r\n    \r\n        @Override\r\n        protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n    \r\n            final String requestTokenHeader = request.getHeader(&quot;Authorization&quot;);\r\n    \r\n            String username = null;\r\n            String jwtToken = null;\r\n    \r\n            if (requestTokenHeader != null &amp;&amp; requestTokenHeader.startsWith(&quot;Bearer &quot;)) {\r\n                jwtToken = requestTokenHeader.substring(7);\r\n                try {\r\n                    username = jwtUtil.getUsernameFromToken(jwtToken);\r\n                } catch (IllegalArgumentException e) {\r\n                    System.out.println(&quot;Unable to get JWT Token&quot;);\r\n                } catch (ExpiredJwtException e) {\r\n                    System.out.println(&quot;JWT Token has expired&quot;);\r\n                }\r\n            } else {\r\n                System.out.println(&quot;JWT token does not start with Bearer&quot;);\r\n            }\r\n    \r\n            if (username != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\r\n    \r\n                UserDetails userDetails = jwtService.loadUserByUsername(username);\r\n    \r\n                if (jwtUtil.validateToken(jwtToken, userDetails)) {\r\n    \r\n                    UsernamePasswordAuthenticationToken usernamePasswordAuthenticationToken = new UsernamePasswordAuthenticationToken(userDetails, null, userDetails.getAuthorities());\r\n                    usernamePasswordAuthenticationToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n                    SecurityContextHolder.getContext().setAuthentication(usernamePasswordAuthenticationToken);\r\n                }\r\n            }\r\n            filterChain.doFilter(request, response);\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n\r\n**WebSecurityConfiguration** \r\n\r\n    package com.example.jwt.configuration;\r\n    \r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.http.HttpHeaders;\r\n    import org.springframework.security.authentication.AuthenticationManager;\r\n    import org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\n    import org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n    import org.springframework.security.config.http.SessionCreationPolicy;\r\n    import org.springframework.security.core.userdetails.UserDetailsService;\r\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n    import org.springframework.security.crypto.password.PasswordEncoder;\r\n    import org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\r\n    \r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    public class WebSecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Autowired\r\n        private JwtAuthenticationEntryPoint jwtAuthenticationEntryPoint;\r\n    \r\n        @Autowired\r\n        private JwtRequestFilter jwtRequestFilter;\r\n    \r\n        @Autowired\r\n        private UserDetailsService jwtService;\r\n    \r\n        @Bean\r\n        @Override\r\n        public AuthenticationManager authenticationManagerBean() throws Exception {\r\n            return super.authenticationManagerBean();\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity httpSecurity) throws Exception {\r\n            httpSecurity.cors();\r\n            httpSecurity.csrf().disable()\r\n                    .authorizeRequests().antMatchers(&quot;/authenticate&quot;, &quot;/registerNewUser&quot;).permitAll()\r\n                    .antMatchers(HttpHeaders.ALLOW).permitAll()\r\n                    .anyRequest().authenticated()\r\n                    .and()\r\n                    .exceptionHandling().authenticationEntryPoint(jwtAuthenticationEntryPoint)\r\n                    .and()\r\n                    .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n            ;\r\n    \r\n            httpSecurity.addFilterBefore(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class);\r\n        }\r\n    \r\n        @Bean\r\n        public PasswordEncoder passwordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    \r\n        @Autowired\r\n        public void configureGlobal(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\r\n            authenticationManagerBuilder.userDetailsService(jwtService).passwordEncoder(passwordEncoder());\r\n        }\r\n    }\r\n\r\n\r\n\r\n**JwtService**\r\n\r\n    package com.example.jwt.service;\r\n    \r\n    import com.example.jwt.dao.UserDao;\r\n    import com.example.jwt.entity.JwtRequest;\r\n    import com.example.jwt.entity.JwtResponse;\r\n    import com.example.jwt.entity.User;\r\n    import com.example.jwt.util.JwtUtil;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.security.authentication.AuthenticationManager;\r\n    import org.springframework.security.authentication.BadCredentialsException;\r\n    import org.springframework.security.authentication.DisabledException;\r\n    import org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\n    import org.springframework.security.core.authority.SimpleGrantedAuthority;\r\n    import org.springframework.security.core.userdetails.UserDetails;\r\n    import org.springframework.security.core.userdetails.UserDetailsService;\r\n    import org.springframework.security.core.userdetails.UsernameNotFoundException;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import java.util.HashSet;\r\n    import java.util.Set;\r\n    \r\n    @Service\r\n    public class JwtService implements UserDetailsService {\r\n    \r\n        @Autowired\r\n        private JwtUtil jwtUtil;\r\n    \r\n        @Autowired\r\n        private UserDao userDao;\r\n    \r\n        @Autowired\r\n        private AuthenticationManager authenticationManager;\r\n    \r\n        public JwtResponse createJwtToken(JwtRequest jwtRequest) throws Exception {\r\n            String userName = jwtRequest.getUserName();\r\n            String userPassword = jwtRequest.getUserPassword();\r\n            authenticate(userName, userPassword);\r\n    \r\n            UserDetails userDetails = loadUserByUsername(userName);\r\n            String newGeneratedToken = jwtUtil.generateToken(userDetails);\r\n    \r\n            User user = userDao.findById(userName).get();\r\n            return new JwtResponse(user, newGeneratedToken);\r\n        }\r\n    \r\n        @Override\r\n        public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n            User user = userDao.findById(username).get();\r\n    \r\n            if (user != null) {\r\n                return new org.springframework.security.core.userdetails.User(\r\n                        user.getUserName(),\r\n                        user.getUserPassword(),\r\n                        getAuthority(user)\r\n                );\r\n            } else {\r\n                throw new UsernameNotFoundException(&quot;User not found with username: &quot; + username);\r\n            }\r\n        }\r\n    \r\n        private Set getAuthority(User user) {\r\n            Set&lt;SimpleGrantedAuthority&gt; authorities = new HashSet&lt;&gt;();\r\n            user.getRole().forEach(role -&gt; {\r\n                authorities.add(new SimpleGrantedAuthority(&quot;ROLE_&quot; + role.getRoleName()));\r\n            });\r\n            return authorities;\r\n        }\r\n    \r\n        private void authenticate(String userName, String userPassword) throws Exception {\r\n            try {\r\n                authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(userName, userPassword));\r\n            } catch (DisabledException e) {\r\n                throw new Exception(&quot;USER_DISABLED&quot;, e);\r\n            } catch (BadCredentialsException e) {\r\n                throw new Exception(&quot;INVALID_CREDENTIALS&quot;, e);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"SPRING BOOT :Spring Security circular bean dependency","body":"<p>I'm currently Implementing Token and Role Base Authentication Using Spring Boot   JWT  MySQL  following the tutoriel [https://github.com/team-learn-programming-yourself/jwt-youtube][1]\nauthentication with Spring Security for REST API using Spring Boot</p>\n<p>it produces an error</p>\n<pre><code>    Description:\n    \n    The dependencies of some of the beans in the application context form a cycle:\n    \n    ┌─────┐\n    |  jwtRequestFilter (field private com.example.jwt.service.JwtService com.example.jwt.configuration.JwtRequestFilter.jwtService)\n    ↑     ↓\n    |  jwtService (field private org.springframework.security.authentication.AuthenticationManager com.example.jwt.service.JwtService.authenticationManager)\n    ↑     ↓\n    |  webSecurityConfiguration (field private com.example.jwt.configuration.JwtRequestFilter com.example.jwt.configuration.WebSecurityConfiguration.jwtRequestFilter)\n    └─────┘\n\nAction:\nRelying upon circular references is discouraged and they are prohibited by default. Update your application to remove the dependency cycle between beans. As a last resort, it may be possible to break the cycle automatically by setting spring.main.allow-circular-references to true.\n</code></pre>\n<p>the code for the dependencies producing error are as below :</p>\n<p><strong>jwtRequestFilter</strong></p>\n<pre><code>package com.example.jwt.configuration;\n\nimport com.example.jwt.service.JwtService;\nimport com.example.jwt.util.JwtUtil;\nimport io.jsonwebtoken.ExpiredJwtException;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.web.authentication.WebAuthenticationDetailsSource;\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.filter.OncePerRequestFilter;\n\nimport javax.servlet.FilterChain;\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.IOException;\n\n@Component\npublic class JwtRequestFilter extends OncePerRequestFilter {\n\n    @Autowired\n    private JwtUtil jwtUtil;\n\n    @Autowired\n    private JwtService jwtService;\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n\n        final String requestTokenHeader = request.getHeader(&quot;Authorization&quot;);\n\n        String username = null;\n        String jwtToken = null;\n\n        if (requestTokenHeader != null &amp;&amp; requestTokenHeader.startsWith(&quot;Bearer &quot;)) {\n            jwtToken = requestTokenHeader.substring(7);\n            try {\n                username = jwtUtil.getUsernameFromToken(jwtToken);\n            } catch (IllegalArgumentException e) {\n                System.out.println(&quot;Unable to get JWT Token&quot;);\n            } catch (ExpiredJwtException e) {\n                System.out.println(&quot;JWT Token has expired&quot;);\n            }\n        } else {\n            System.out.println(&quot;JWT token does not start with Bearer&quot;);\n        }\n\n        if (username != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\n\n            UserDetails userDetails = jwtService.loadUserByUsername(username);\n\n            if (jwtUtil.validateToken(jwtToken, userDetails)) {\n\n                UsernamePasswordAuthenticationToken usernamePasswordAuthenticationToken = new UsernamePasswordAuthenticationToken(userDetails, null, userDetails.getAuthorities());\n                usernamePasswordAuthenticationToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n                SecurityContextHolder.getContext().setAuthentication(usernamePasswordAuthenticationToken);\n            }\n        }\n        filterChain.doFilter(request, response);\n\n    }\n\n}\n</code></pre>\n<p><strong>WebSecurityConfiguration</strong></p>\n<pre><code>package com.example.jwt.configuration;\n\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.http.HttpHeaders;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\n\n@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class WebSecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private JwtAuthenticationEntryPoint jwtAuthenticationEntryPoint;\n\n    @Autowired\n    private JwtRequestFilter jwtRequestFilter;\n\n    @Autowired\n    private UserDetailsService jwtService;\n\n    @Bean\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n    @Override\n    protected void configure(HttpSecurity httpSecurity) throws Exception {\n        httpSecurity.cors();\n        httpSecurity.csrf().disable()\n                .authorizeRequests().antMatchers(&quot;/authenticate&quot;, &quot;/registerNewUser&quot;).permitAll()\n                .antMatchers(HttpHeaders.ALLOW).permitAll()\n                .anyRequest().authenticated()\n                .and()\n                .exceptionHandling().authenticationEntryPoint(jwtAuthenticationEntryPoint)\n                .and()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n        ;\n\n        httpSecurity.addFilterBefore(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class);\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\n        authenticationManagerBuilder.userDetailsService(jwtService).passwordEncoder(passwordEncoder());\n    }\n}\n</code></pre>\n<p><strong>JwtService</strong></p>\n<pre><code>package com.example.jwt.service;\n\nimport com.example.jwt.dao.UserDao;\nimport com.example.jwt.entity.JwtRequest;\nimport com.example.jwt.entity.JwtResponse;\nimport com.example.jwt.entity.User;\nimport com.example.jwt.util.JwtUtil;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.BadCredentialsException;\nimport org.springframework.security.authentication.DisabledException;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.stereotype.Service;\n\nimport java.util.HashSet;\nimport java.util.Set;\n\n@Service\npublic class JwtService implements UserDetailsService {\n\n    @Autowired\n    private JwtUtil jwtUtil;\n\n    @Autowired\n    private UserDao userDao;\n\n    @Autowired\n    private AuthenticationManager authenticationManager;\n\n    public JwtResponse createJwtToken(JwtRequest jwtRequest) throws Exception {\n        String userName = jwtRequest.getUserName();\n        String userPassword = jwtRequest.getUserPassword();\n        authenticate(userName, userPassword);\n\n        UserDetails userDetails = loadUserByUsername(userName);\n        String newGeneratedToken = jwtUtil.generateToken(userDetails);\n\n        User user = userDao.findById(userName).get();\n        return new JwtResponse(user, newGeneratedToken);\n    }\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        User user = userDao.findById(username).get();\n\n        if (user != null) {\n            return new org.springframework.security.core.userdetails.User(\n                    user.getUserName(),\n                    user.getUserPassword(),\n                    getAuthority(user)\n            );\n        } else {\n            throw new UsernameNotFoundException(&quot;User not found with username: &quot; + username);\n        }\n    }\n\n    private Set getAuthority(User user) {\n        Set&lt;SimpleGrantedAuthority&gt; authorities = new HashSet&lt;&gt;();\n        user.getRole().forEach(role -&gt; {\n            authorities.add(new SimpleGrantedAuthority(&quot;ROLE_&quot; + role.getRoleName()));\n        });\n        return authorities;\n    }\n\n    private void authenticate(String userName, String userPassword) throws Exception {\n        try {\n            authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(userName, userPassword));\n        } catch (DisabledException e) {\n            throw new Exception(&quot;USER_DISABLED&quot;, e);\n        } catch (BadCredentialsException e) {\n            throw new Exception(&quot;INVALID_CREDENTIALS&quot;, e);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","apache-spark"],"answers":[{"tags":[],"owner":{"account_id":22259921,"reputation":1,"user_id":16491510,"display_name":"MinoS03"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627062991,"creation_date":1626973901,"answer_id":68489007,"question_id":68116607,"body_markdown":"First post, I don&#39;t know if I&#39;m doing this right, though had the same problem, and I added a bunch of dependencies till it solves the problem. I&#39;ll give you the list I don&#39;t really know which ones are really needed :\r\n\r\n    libraryDependencies += &quot;org.apache.parquet&quot; % &quot;parquet-hadoop&quot; % &quot;1.11.0&quot;\r\n    libraryDependencies += &quot;org.apache.parquet&quot; % &quot;parquet-avro&quot; % &quot;1.11.0&quot;\r\n    libraryDependencies += &quot;org.apache.parquet&quot; % &quot;parquet-encoding&quot; % &quot;1.11.0&quot;\r\n    libraryDependencies += &quot;org.apache.parquet&quot; % &quot;parquet-column&quot; % &quot;1.11.0&quot;\r\n    libraryDependencies += &quot;org.apache.parquet&quot; % &quot;parquet-common&quot; % &quot;1.11.0&quot;\r\n    libraryDependencies += &quot;org.apache.parquet&quot; %% &quot;parquet-scala&quot; % &quot;1.11.0&quot;\r\n    libraryDependencies += &quot;org.apache.parquet&quot; % &quot;parquet-hadoop-bundle&quot; % &quot;1.11.0&quot;\r\n    libraryDependencies += &quot;org.apache.hadoop&quot; % &quot;hadoop-hdfs&quot; % &quot;3.3.1&quot; % Test\r\n    libraryDependencies += &quot;org.apache.hadoop&quot; % &quot;hadoop-client&quot; % &quot;3.3.1&quot;","title":"PARSER - Nosuchfield error while loading data froom hdfs in spark","body":"<p>First post, I don't know if I'm doing this right, though had the same problem, and I added a bunch of dependencies till it solves the problem. I'll give you the list I don't really know which ones are really needed :</p>\n<pre><code>libraryDependencies += &quot;org.apache.parquet&quot; % &quot;parquet-hadoop&quot; % &quot;1.11.0&quot;\nlibraryDependencies += &quot;org.apache.parquet&quot; % &quot;parquet-avro&quot; % &quot;1.11.0&quot;\nlibraryDependencies += &quot;org.apache.parquet&quot; % &quot;parquet-encoding&quot; % &quot;1.11.0&quot;\nlibraryDependencies += &quot;org.apache.parquet&quot; % &quot;parquet-column&quot; % &quot;1.11.0&quot;\nlibraryDependencies += &quot;org.apache.parquet&quot; % &quot;parquet-common&quot; % &quot;1.11.0&quot;\nlibraryDependencies += &quot;org.apache.parquet&quot; %% &quot;parquet-scala&quot; % &quot;1.11.0&quot;\nlibraryDependencies += &quot;org.apache.parquet&quot; % &quot;parquet-hadoop-bundle&quot; % &quot;1.11.0&quot;\nlibraryDependencies += &quot;org.apache.hadoop&quot; % &quot;hadoop-hdfs&quot; % &quot;3.3.1&quot; % Test\nlibraryDependencies += &quot;org.apache.hadoop&quot; % &quot;hadoop-client&quot; % &quot;3.3.1&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19258447,"reputation":61,"user_id":14074858,"display_name":"Blaze"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642778562,"creation_date":1642778562,"answer_id":70803639,"question_id":68116607,"body_markdown":"Following up on the answer given by MinoS03 the required dependencies are the following:\r\n- hadoop-common\r\n- hadoop-hdfs-client","title":"PARSER - Nosuchfield error while loading data froom hdfs in spark","body":"<p>Following up on the answer given by MinoS03 the required dependencies are the following:</p>\n<ul>\n<li>hadoop-common</li>\n<li>hadoop-hdfs-client</li>\n</ul>\n"}],"owner":{"account_id":22041435,"reputation":1,"user_id":16307152,"display_name":"Hardik Aggarwal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":490,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1642778562,"creation_date":1624540880,"question_id":68116607,"body_markdown":"I am trying to run the following code. It looks like a dependency issue to me mostly.\r\n\r\n```\r\n    Dataset&lt;Row&gt; ds = spark.read().parquet(&quot;hdfs://localhost:9000/test/arxiv.parquet&quot;);\r\n```\r\n\r\nI am getting the following error :\r\n\r\n```\r\nException in thread &quot;main&quot; java.io.IOException: com.google.protobuf.ServiceException: java.lang.NoSuchFieldError: PARSER\r\n\tat org.apache.hadoop.ipc.ProtobufHelper.getRemoteException(ProtobufHelper.java:71)\r\n```\r\n\r\nI have added dependency of apache hadoop common.\r\nCan someone point out possible problem with the code ?","title":"PARSER - Nosuchfield error while loading data froom hdfs in spark","body":"<p>I am trying to run the following code. It looks like a dependency issue to me mostly.</p>\n<pre><code>    Dataset&lt;Row&gt; ds = spark.read().parquet(&quot;hdfs://localhost:9000/test/arxiv.parquet&quot;);\n</code></pre>\n<p>I am getting the following error :</p>\n<pre><code>Exception in thread &quot;main&quot; java.io.IOException: com.google.protobuf.ServiceException: java.lang.NoSuchFieldError: PARSER\n    at org.apache.hadoop.ipc.ProtobufHelper.getRemoteException(ProtobufHelper.java:71)\n</code></pre>\n<p>I have added dependency of apache hadoop common.\nCan someone point out possible problem with the code ?</p>\n"},{"tags":["java","android","xml","android-studio"],"comments":[{"owner":{"account_id":13428169,"reputation":781,"user_id":9688781,"display_name":"jbmcle"},"score":0,"creation_date":1578046975,"post_id":59576789,"comment_id":105320127,"body_markdown":"please post your `build.gradle` app-level","body":"please post your <code>build.gradle</code> app-level"},{"owner":{"account_id":11839556,"reputation":1520,"user_id":8663811,"display_name":"Rahul sharma"},"score":0,"creation_date":1578047111,"post_id":59576789,"comment_id":105320189,"body_markdown":"you are getting error over here `&lt;com.google.android.material.bottomnavigation.BottomNavigationView` .Have you  added   `BottomNavigationView` library ?","body":"you are getting error over here <code>&lt;com.google.android.material.bottomnavigation.BottomNavigati&zwnj;&#8203;onView</code> .Have you  added   <code>BottomNavigationView</code> library ?"},{"owner":{"account_id":15198726,"reputation":118,"user_id":10967323,"display_name":"Kanzariya Hitesh"},"score":0,"creation_date":1578047230,"post_id":59576789,"comment_id":105320239,"body_markdown":"check you backgroundcolor and check [this](https://stackoverflow.com/a/48214297/10967323) one also check dependancy.","body":"check you backgroundcolor and check <a href=\"https://stackoverflow.com/a/48214297/10967323\">this</a> one also check dependancy."},{"owner":{"account_id":7006298,"reputation":2021,"user_id":5370550,"accept_rate":22,"display_name":"Nik"},"score":0,"creation_date":1578047466,"post_id":59576789,"comment_id":105320346,"body_markdown":"remove android:background=&quot;?android:attr/windowBackground&quot;","body":"remove android:background=&quot;?android:attr/windowBackground&quot;"}],"answers":[{"tags":[],"owner":{"account_id":10015117,"reputation":733,"user_id":7406696,"accept_rate":91,"display_name":"Pablo R."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578047103,"creation_date":1578047103,"answer_id":59576881,"question_id":59576789,"body_markdown":"File -&gt; Invalidate caches/restart  &amp; try to import it. File -&gt; new -&gt; import project","title":"App crashing android studio after moving project folder","body":"<p>File -> Invalidate caches/restart  &amp; try to import it. File -> new -> import project</p>\n"},{"tags":[],"owner":{"account_id":2715840,"reputation":126,"user_id":2343243,"accept_rate":25,"display_name":"DKHirani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578047789,"creation_date":1578047789,"answer_id":59577038,"question_id":59576789,"body_markdown":"I think you missed to add implementation &#39;com.google.android.material:material:1.1.0-alpha1&#39; In your app gradle file. Just add this gradle inside \r\ndependencies { } black and sync your project. Now, this error should be removed and aproject will run successfully. ","title":"App crashing android studio after moving project folder","body":"<p>I think you missed to add implementation 'com.google.android.material:material:1.1.0-alpha1' In your app gradle file. Just add this gradle inside \ndependencies { } black and sync your project. Now, this error should be removed and aproject will run successfully. </p>\n"},{"tags":[],"owner":{"account_id":16360048,"reputation":142,"user_id":11815969,"display_name":"Gchammas23"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1579462736,"creation_date":1578263059,"answer_id":59604737,"question_id":59576789,"body_markdown":"After some searches about my problem and after trying many times to fix it, I re tried to delete the android:background=&quot;?android:attr/windowBackground&quot; statement from the XML code, the app opened and ran without any problems on my phone. I tried to do so the first time when I opened this discussion but it didn&#39;t work. Thank you for helping me to solve my problem!","title":"App crashing android studio after moving project folder","body":"<p>After some searches about my problem and after trying many times to fix it, I re tried to delete the android:background=\"?android:attr/windowBackground\" statement from the XML code, the app opened and ran without any problems on my phone. I tried to do so the first time when I opened this discussion but it didn't work. Thank you for helping me to solve my problem!</p>\n"},{"tags":[],"owner":{"account_id":4376534,"reputation":871,"user_id":3569421,"display_name":"carlosrafaelgn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642778402,"creation_date":1642778402,"answer_id":70803588,"question_id":59576789,"body_markdown":"I ran into this problem recently and the only thing that truly helped me open a project after having moved it to another folder was to completely delete the `build` folder (that one located inside `app` folder) before launching Android Studio. Tested on Android Studio 4.1.3 / Windows 10.","title":"App crashing android studio after moving project folder","body":"<p>I ran into this problem recently and the only thing that truly helped me open a project after having moved it to another folder was to completely delete the <code>build</code> folder (that one located inside <code>app</code> folder) before launching Android Studio. Tested on Android Studio 4.1.3 / Windows 10.</p>\n"}],"owner":{"account_id":16360048,"reputation":142,"user_id":11815969,"display_name":"Gchammas23"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":634,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":59604737,"answer_count":4,"score":1,"last_activity_date":1642778402,"creation_date":1578046753,"question_id":59576789,"body_markdown":"Three weeks ago, I decided to move my project from the downloads folder on my Mac to my desktop. After moving the project, I realized that I wasn&#39;t able to even see anything from the project. So I decided to move the project back into the downloads folder when it originally was in, and I was able to check my project again but unfortunately I am not able to run the project on my phone and I am getting a strange error message that I am not able to find a solution for on the internet. I will show you the error message and some XML code of the activity as well.\r\n\r\nXML code:\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/container&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:paddingTop=&quot;?attr/actionBarSize&quot;&gt;\r\n\r\n    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n        android:id=&quot;@+id/nav_view&quot;\r\n        android:layout_width=&quot;427dp&quot;\r\n        android:layout_height=&quot;82dp&quot;\r\n        android:background=&quot;?android:attr/windowBackground&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n        app:menu=&quot;@menu/bottom_nav_menu&quot; /&gt;\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/nav_host_fragment&quot;\r\n        android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\r\n        android:layout_width=&quot;413dp&quot;\r\n        android:layout_height=&quot;49dp&quot;\r\n        app:defaultNavHost=&quot;true&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@id/nav_view&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\r\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;1.0&quot;\r\n        app:navGraph=&quot;@navigation/mobile_navigation&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView6&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/home_view_message&quot;\r\n        android:textSize=&quot;12sp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/nav_host_fragment&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.027&quot; /&gt;\r\n\r\n    &lt;Spinner\r\n        android:id=&quot;@+id/channel_spinner&quot;\r\n        android:layout_width=&quot;409dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/nav_view&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textView6&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.162&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/check_button&quot;\r\n        android:layout_width=&quot;157dp&quot;\r\n        android:layout_height=&quot;58dp&quot;\r\n        android:text=&quot;@string/home_button_text&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/nav_view&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/channel_spinner&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.418&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nError message:\r\n```\r\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.mychannels/com.example.mychannels.MainActivity}: android.view.InflateException: Binary XML file line #10: Binary XML file line #10: Error inflating class com.google.android.material.bottomnavigation.BottomNavigationView\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3092)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3235)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1926)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:214)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6990)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1445)\r\n     Caused by: android.view.InflateException: Binary XML file line #10: Binary XML file line #10: Error inflating class com.google.android.material.bottomnavigation.BottomNavigationView\r\n     Caused by: android.view.InflateException: Binary XML file line #10: Error inflating class com.google.android.material.bottomnavigation.BottomNavigationView\r\n     Caused by: java.lang.reflect.InvocationTargetException\r\n```\r\n\r\nBuild.gradle (app level):\r\n```\r\napply plugin: &#39;com.android.application&#39;\r\n\r\nandroid {\r\n    compileSdkVersion 28\r\n    buildToolsVersion &quot;29.0.2&quot;\r\n    defaultConfig {\r\n        applicationId &quot;com.example.mychannels&quot;\r\n        minSdkVersion 15\r\n        targetSdkVersion 28\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    implementation &#39;androidx.appcompat:appcompat:1.0.2&#39;\r\n    implementation &#39;com.google.android.material:material:1.0.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:1.1.3&#39;\r\n    implementation &#39;androidx.vectordrawable:vectordrawable:1.0.1&#39;\r\n    implementation &#39;androidx.navigation:navigation-fragment:2.0.0&#39;\r\n    implementation &#39;androidx.navigation:navigation-ui:2.0.0&#39;\r\n    implementation &#39;androidx.lifecycle:lifecycle-extensions:2.0.0&#39;\r\n    implementation &#39;androidx.preference:preference:1.1.0-alpha05&#39;\r\n    testImplementation &#39;junit:junit:4.12&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.0&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.1.1&#39;\r\n}\r\n```","title":"App crashing android studio after moving project folder","body":"<p>Three weeks ago, I decided to move my project from the downloads folder on my Mac to my desktop. After moving the project, I realized that I wasn't able to even see anything from the project. So I decided to move the project back into the downloads folder when it originally was in, and I was able to check my project again but unfortunately I am not able to run the project on my phone and I am getting a strange error message that I am not able to find a solution for on the internet. I will show you the error message and some XML code of the activity as well.</p>\n\n<p>XML code:</p>\n\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/container\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:paddingTop=\"?attr/actionBarSize\"&gt;\n\n    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\n        android:id=\"@+id/nav_view\"\n        android:layout_width=\"427dp\"\n        android:layout_height=\"82dp\"\n        android:background=\"?android:attr/windowBackground\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintLeft_toLeftOf=\"parent\"\n        app:layout_constraintRight_toRightOf=\"parent\"\n        app:menu=\"@menu/bottom_nav_menu\" /&gt;\n\n    &lt;fragment\n        android:id=\"@+id/nav_host_fragment\"\n        android:name=\"androidx.navigation.fragment.NavHostFragment\"\n        android:layout_width=\"413dp\"\n        android:layout_height=\"49dp\"\n        app:defaultNavHost=\"true\"\n        app:layout_constraintBottom_toTopOf=\"@id/nav_view\"\n        app:layout_constraintHorizontal_bias=\"0.0\"\n        app:layout_constraintLeft_toLeftOf=\"parent\"\n        app:layout_constraintRight_toRightOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:layout_constraintVertical_bias=\"1.0\"\n        app:navGraph=\"@navigation/mobile_navigation\" /&gt;\n\n    &lt;TextView\n        android:id=\"@+id/textView6\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"@string/home_view_message\"\n        android:textSize=\"12sp\"\n        android:textStyle=\"bold\"\n        app:layout_constraintBottom_toTopOf=\"@+id/nav_host_fragment\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:layout_constraintVertical_bias=\"0.027\" /&gt;\n\n    &lt;Spinner\n        android:id=\"@+id/channel_spinner\"\n        android:layout_width=\"409dp\"\n        android:layout_height=\"wrap_content\"\n        app:layout_constraintBottom_toTopOf=\"@+id/nav_view\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintHorizontal_bias=\"0.0\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@+id/textView6\"\n        app:layout_constraintVertical_bias=\"0.162\" /&gt;\n\n    &lt;Button\n        android:id=\"@+id/check_button\"\n        android:layout_width=\"157dp\"\n        android:layout_height=\"58dp\"\n        android:text=\"@string/home_button_text\"\n        app:layout_constraintBottom_toTopOf=\"@+id/nav_view\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@+id/channel_spinner\"\n        app:layout_constraintVertical_bias=\"0.418\" /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n\n<p>Error message:</p>\n\n<pre><code>java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.mychannels/com.example.mychannels.MainActivity}: android.view.InflateException: Binary XML file line #10: Binary XML file line #10: Error inflating class com.google.android.material.bottomnavigation.BottomNavigationView\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3092)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3235)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1926)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:214)\n        at android.app.ActivityThread.main(ActivityThread.java:6990)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1445)\n     Caused by: android.view.InflateException: Binary XML file line #10: Binary XML file line #10: Error inflating class com.google.android.material.bottomnavigation.BottomNavigationView\n     Caused by: android.view.InflateException: Binary XML file line #10: Error inflating class com.google.android.material.bottomnavigation.BottomNavigationView\n     Caused by: java.lang.reflect.InvocationTargetException\n</code></pre>\n\n<p>Build.gradle (app level):</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 28\n    buildToolsVersion \"29.0.2\"\n    defaultConfig {\n        applicationId \"com.example.mychannels\"\n        minSdkVersion 15\n        targetSdkVersion 28\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation 'androidx.appcompat:appcompat:1.0.2'\n    implementation 'com.google.android.material:material:1.0.0'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n    implementation 'androidx.vectordrawable:vectordrawable:1.0.1'\n    implementation 'androidx.navigation:navigation-fragment:2.0.0'\n    implementation 'androidx.navigation:navigation-ui:2.0.0'\n    implementation 'androidx.lifecycle:lifecycle-extensions:2.0.0'\n    implementation 'androidx.preference:preference:1.1.0-alpha05'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.0'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.1.1'\n}\n</code></pre>\n"},{"tags":["java","serialization","memcached","keycloak"],"comments":[{"owner":{"account_id":4476677,"reputation":2544,"user_id":3641635,"display_name":"Zilog80"},"score":0,"creation_date":1616687457,"post_id":66583181,"comment_id":118086895,"body_markdown":"Does *&quot;configure the object filter&quot;* implies that you can add initialization code ? If that&#39;s the case, as the `KeycloakSecurityContext `  class is not final/sealed by default, why not override its read method to translate `addAllowedClass` into `addAllowedPattern` with com.whalin.MemCached.* / org.keycloack.* / [yourclasses*] ?","body":"Does <i>&quot;configure the object filter&quot;</i> implies that you can add initialization code ? If that&#39;s the case, as the <code>KeycloakSecurityContext </code>  class is not final/sealed by default, why not override its read method to translate <code>addAllowedClass</code> into <code>addAllowedPattern</code> with com.whalin.MemCached.* / org.keycloack.* / [yourclasses*] ?"}],"answers":[{"tags":[],"owner":{"account_id":8240986,"reputation":851,"user_id":6198646,"display_name":"Andy Valerio"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1616923202,"creation_date":1616875277,"answer_id":66835572,"question_id":66583181,"body_markdown":"\r\nWhat is happening\r\n-----------------\r\n\r\nYour problem is that *memcached* session handler is deserializing a bunch of different classes at the same time. That is, in the same `ObjectInputStream`. This happens because your (Tomcat? or whatever application server, it doesn&#39;t matter) *session* is composed by a number of different objects; so *memcached* serializes them one-by-one into its storage and then, the same way, they are deserialized back into your application. This works great until you deserialize an object of a bitchy class, `KeycloakSecurityContext`, that introduces an evil filter &#128561; in your `ObjectInputStream`. [Link to the evil class][1].\r\n\r\n\r\nWhat happens after that is that **the keycloak class is allowed** so it keeps being deserialized correctly, but now **magically all other classes are not allowed** because keycloak excludes all of them by adding &quot;!*&quot; at the end of its filter. [Link to the filter][2].\r\n\r\nNow you have a strong headache &#128565; and you&#39;re thinking &quot;Enough bullshit, how do I fix this?&quot;. I understand and I&#39;ve got a bad headache as well, keep reading.\r\n\r\n\r\n----------\r\n\r\n\r\nSolution\r\n--------\r\n\r\nThere are multiple solutions to this issue (good news! &#128512;) depending on how deep you dare (&#128547;) go and change things in your application. \r\n\r\nThe correct™ solution is to make sure that `KeycloakSecurityContext` objects (and any other class that introduces such filters) **are deserialized in their own streams** rather than in the same, common, stream. Now, I&#39;m not an expert in this *memcached* session handler thing so I don&#39;t know how much control you actually have of the whole session deserialization process; but I&#39;m quite confident that it should be possible to hack into it. \r\n\r\nIf this, for some reason, is not possible, you need to override the filter in `KeycloakSecurityContext` by extending the class. If you&#39;re choosing this path (fly, you fools &#128520;) you have to play with the filter and decide what to do. The approach that I would think it&#39;s most correct™ in this case is to completely remove the filter thing from `KeycloakSecurityContext` and then **add a filter at the application level where you define all the classes and the packages that you allow for deserialization** in your application.\r\n[Link on how to do it][3]. \r\n\r\nAnother approach, a bit hacky but more immediate, is to add all the relevant classes in the filter in the class extending `KeycloakSecurityContext` (seriously, don&#39;t do this). \r\n\r\n\r\n----------\r\n\r\n\r\nBonus good-citizen point\r\n------------------------\r\n\r\nSome might even argue that this is a bug, or let&#39;s say a missing functionality, in `memcached-session-manager`. Might be worth opening an issue there and see what they think about it.\r\n[https://github.com/magro/memcached-session-manager][4]\r\n\r\n\r\n----------\r\n\r\nNow the hardcore stuff\r\n----------------------\r\n\r\nIn-depth practical explanation of the problem for nerds who have nothing to do.\r\n\r\nThink about the following scenario: you have two types of classes, `A` and `B`, and both classes are `Serializable`.\r\n\r\nClass `A` is a simple, a bit na&#239;ve, class and doesn&#39;t add any custom filters in its `readObject` method. In the same `ObjectInputStream` you deserialize the objects: `a1, a2, a3, a4`. All instances of class `A`. \r\nAll objects are deserialized correctly, fuck yeah! &#128018;\r\n\r\nClass `B`, instead, has a very mean filter in its `readObject` that allows only objects of the same class `B` to be deserialized in the current `ObjectInputStream`. \r\n\r\nNow we read the following objects in a stream: `a1, b1, a2, b2`.\r\n\r\n- `a1` is deserialized correctly, there is no filter right now in our `ObjectInputStream`, great!  \r\n- `b1` is deserialized correctly, cool; but `b1` is also *a little bit of a bitch* (being an instance of Class `B`) so **it sets a new filter for our beloved stream and class B is, from now on, the only class allowed for deserialization**\r\n- then comes `a2` and it is **not deserialized** (whaaaat &#128553;), because `b1`, in the previous step, *set a filter that doesn&#39;t include class A* and this is **all happening in the same `ObjectInputStream` instance**\r\n- finally, b2 is deserialized correctly because Class B is included in the filter\r\n\r\n\r\n----------\r\n\r\n\r\n\r\n  [1]: https://github.com/keycloak/keycloak/blob/master/core/src/main/java/org/keycloak/KeycloakSecurityContext.java\r\n  [2]: https://github.com/keycloak/keycloak/blob/master/common/src/main/java/org/keycloak/common/util/DelegatingSerializationFilter.java\r\n  [3]: https://docs.oracle.com/javase/10/core/serialization-filtering1.htm\r\n  [4]: https://github.com/magro/memcached-session-manager","title":"Use serialization filter (ObjectInputerFilter) with Keycloak adapter and Memcached","body":"<h2>What is happening</h2>\n<p>Your problem is that <em>memcached</em> session handler is deserializing a bunch of different classes at the same time. That is, in the same <code>ObjectInputStream</code>. This happens because your (Tomcat? or whatever application server, it doesn't matter) <em>session</em> is composed by a number of different objects; so <em>memcached</em> serializes them one-by-one into its storage and then, the same way, they are deserialized back into your application. This works great until you deserialize an object of a bitchy class, <code>KeycloakSecurityContext</code>, that introduces an evil filter 😱 in your <code>ObjectInputStream</code>. <a href=\"https://github.com/keycloak/keycloak/blob/master/core/src/main/java/org/keycloak/KeycloakSecurityContext.java\" rel=\"noreferrer\">Link to the evil class</a>.</p>\n<p>What happens after that is that <strong>the keycloak class is allowed</strong> so it keeps being deserialized correctly, but now <strong>magically all other classes are not allowed</strong> because keycloak excludes all of them by adding &quot;!*&quot; at the end of its filter. <a href=\"https://github.com/keycloak/keycloak/blob/master/common/src/main/java/org/keycloak/common/util/DelegatingSerializationFilter.java\" rel=\"noreferrer\">Link to the filter</a>.</p>\n<p>Now you have a strong headache 😵 and you're thinking &quot;Enough bullshit, how do I fix this?&quot;. I understand and I've got a bad headache as well, keep reading.</p>\n<hr />\n<h2>Solution</h2>\n<p>There are multiple solutions to this issue (good news! 😀) depending on how deep you dare (😣) go and change things in your application.</p>\n<p>The correct™ solution is to make sure that <code>KeycloakSecurityContext</code> objects (and any other class that introduces such filters) <strong>are deserialized in their own streams</strong> rather than in the same, common, stream. Now, I'm not an expert in this <em>memcached</em> session handler thing so I don't know how much control you actually have of the whole session deserialization process; but I'm quite confident that it should be possible to hack into it.</p>\n<p>If this, for some reason, is not possible, you need to override the filter in <code>KeycloakSecurityContext</code> by extending the class. If you're choosing this path (fly, you fools 😈) you have to play with the filter and decide what to do. The approach that I would think it's most correct™ in this case is to completely remove the filter thing from <code>KeycloakSecurityContext</code> and then <strong>add a filter at the application level where you define all the classes and the packages that you allow for deserialization</strong> in your application.\n<a href=\"https://docs.oracle.com/javase/10/core/serialization-filtering1.htm\" rel=\"noreferrer\">Link on how to do it</a>.</p>\n<p>Another approach, a bit hacky but more immediate, is to add all the relevant classes in the filter in the class extending <code>KeycloakSecurityContext</code> (seriously, don't do this).</p>\n<hr />\n<h2>Bonus good-citizen point</h2>\n<p>Some might even argue that this is a bug, or let's say a missing functionality, in <code>memcached-session-manager</code>. Might be worth opening an issue there and see what they think about it.\n<a href=\"https://github.com/magro/memcached-session-manager\" rel=\"noreferrer\">https://github.com/magro/memcached-session-manager</a></p>\n<hr />\n<h2>Now the hardcore stuff</h2>\n<p>In-depth practical explanation of the problem for nerds who have nothing to do.</p>\n<p>Think about the following scenario: you have two types of classes, <code>A</code> and <code>B</code>, and both classes are <code>Serializable</code>.</p>\n<p>Class <code>A</code> is a simple, a bit naïve, class and doesn't add any custom filters in its <code>readObject</code> method. In the same <code>ObjectInputStream</code> you deserialize the objects: <code>a1, a2, a3, a4</code>. All instances of class <code>A</code>.\nAll objects are deserialized correctly, fuck yeah! 🐒</p>\n<p>Class <code>B</code>, instead, has a very mean filter in its <code>readObject</code> that allows only objects of the same class <code>B</code> to be deserialized in the current <code>ObjectInputStream</code>.</p>\n<p>Now we read the following objects in a stream: <code>a1, b1, a2, b2</code>.</p>\n<ul>\n<li><code>a1</code> is deserialized correctly, there is no filter right now in our <code>ObjectInputStream</code>, great!</li>\n<li><code>b1</code> is deserialized correctly, cool; but <code>b1</code> is also <em>a little bit of a bitch</em> (being an instance of Class <code>B</code>) so <strong>it sets a new filter for our beloved stream and class B is, from now on, the only class allowed for deserialization</strong></li>\n<li>then comes <code>a2</code> and it is <strong>not deserialized</strong> (whaaaat 😩), because <code>b1</code>, in the previous step, <em>set a filter that doesn't include class A</em> and this is <strong>all happening in the same <code>ObjectInputStream</code> instance</strong></li>\n<li>finally, b2 is deserialized correctly because Class B is included in the filter</li>\n</ul>\n<hr />\n"},{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1617289077,"creation_date":1616954699,"answer_id":66844562,"question_id":66583181,"body_markdown":"The code implemented in `KeycloakSecurityContext` and other [related classes](https://github.com/keycloak/keycloak/commit/33863ba16117844930a38ebde57a25258f5b80fd) was included in order to mitigate a [bug](https://bugzilla.redhat.com/show_bug.cgi?id=1705975) associated with the CVE `CVE-2020-1714`:\r\n\r\n&gt; A flaw was found in Keycloak, where the code base contains usages of ObjectInputStream without type checks. This flaw allows an attacker to inject arbitrarily serialized Java Objects, which would then get deserialized in a privileged context and potentially lead to remote code execution.\r\n\r\nThe solution tries to address the above-mentioned vulnerability by implementing a custom [`ObjectInputFilter`](https://docs.oracle.com/javase/9/docs/api/java/io/ObjectInputFilter.html).\r\n\r\nAs indicated in the bug description, the idea behind the Java serialization filtering mechanism is to prevent deserialization vulnerabilities that can lead to remote code execution that can cause a security issue to the application.\r\n\r\nIn many situations, like when dealing with sessions, several objects, those stored in the session following the example, are serialized and will be later deserialized together, in other words, they will be written to the same [`ObjectOutputStream`](https://docs.oracle.com/javase/9/docs/api/java/io/ObjectOutputStream.html) and then they will be read from the same [`ObjectInputStream`](https://docs.oracle.com/javase/9/docs/api/java/io/ObjectInputStream.html).\r\n\r\nWhen a `ObjectInputFilter` is applied, which can be done at several levels - process, application and specific `ObjectInputStream` - only the objects that satisfy the configured [filter pattern](https://docs.oracle.com/javase/9/docs/api/java/io/ObjectInputFilter.Config.html#createFilter-java.lang.String-) will be deserialized; depending on the pattern itself, the rest will be either rejected or the decision will be delegated to a [process-wide filter if one exists](https://docs.oracle.com/javase/9/docs/api/java/io/ObjectInputFilter.Config.html#getSerialFilter--).\r\n\r\nPlease, consider the following example, where `A`, `B`, `C` and `D` are classes, and a filter `A;D;!*` is applied over an hypothetical object input stream, represented by the top marble diagram line, being the bottom one the deseriaization result after the filter is applied:\r\n\r\n[![ObjectInputFilter semantics][1]][1]\r\n\r\nThis pattern can be defined in terms of modules, packages and/or individual classes, and can be set as the `jdk.serialFilter` system property, or by editing the `java.security` properties file.\r\n\r\nYou can create custom filters as well. They are implemented using the API provided by `ObjectInputFilter`, and allow for a more granular serialization control because they can be specific to a specific `ObjectInputStream`.\r\n\r\nPlease, see the relevant [Oracle Serialization documentation](https://docs.oracle.com/javase/10/core/serialization-filtering1.htm) for more information.\r\n\r\nThe `Keycloak` serialization filters use the utility class [`DelegatingSerializationFilter`](https://github.com/keycloak/keycloak/blob/a60cb65252aec21ea1899a73d5fc136ae5058383/common/src/main/java/org/keycloak/common/util/DelegatingSerializationFilter.java).\r\n\r\nIn the implementation provided, the filter is applied inside the [`KeycloakSecurityContext` `readObject` method](https://github.com/keycloak/keycloak/blob/a60cb65252aec21ea1899a73d5fc136ae5058383/core/src/main/java/org/keycloak/KeycloakSecurityContext.java#L88-L96):\r\n\r\n```java\r\nprivate void readObject(ObjectInputStream in) throws IOException, ClassNotFoundException {\r\n    DelegatingSerializationFilter.builder()\r\n            .addAllowedClass(KeycloakSecurityContext.class)\r\n            .setFilter(in);\r\n    in.defaultReadObject();\r\n\r\n    token = parseToken(tokenString, AccessToken.class);\r\n    idToken = parseToken(idTokenString, IDToken.class);\r\n}\r\n```\r\n\r\nAs a consequence, in order to work it properly, as you pointed out, it is necessary to define the `jdk.serialSetFilterAfterRead` system property as `true` when running your program.\r\n\r\nThis filter will be always applied unless a previous, non process-wide filter (see the section labeled _Setting a Process-Wide Custom Filter_ in the [Oracle documentation](https://docs.oracle.com/javase/10/core/serialization-filtering1.htm#JSCOR-GUID-0A1D23AB-2F18-4979-9288-9CFEC04F207E)), has been already applied to the `ObjectInputStream`; it will be guaranteed by the [`setObjectInputFilter`](https://docs.oracle.com/javase/9/docs/api/java/io/ObjectInputStream.html#setObjectInputFilter-java.io.ObjectInputFilter-) method and it is [checked by the `DelegatingSerializationFilter` class](https://github.com/keycloak/keycloak/blob/a60cb65252aec21ea1899a73d5fc136ae5058383/common/src/main/java/org/keycloak/common/util/DelegatingSerializationFilter.java#L47-L53) as well:\r\n\r\n```java\r\nprivate void setFilter(ObjectInputStream ois, String filterPattern) {\r\n    LOG.debug(&quot;Using: &quot; + serializationFilterAdapter.getClass().getSimpleName());\r\n\r\n    if (serializationFilterAdapter.getObjectInputFilter(ois) == null) {\r\n        serializationFilterAdapter.setObjectInputFilter(ois, filterPattern);\r\n    }\r\n}\r\n```\r\n\r\nIn other words, the only way to avoid a custom filter to be applied is to provide first an initial filter over the target `ObjectInputStream`, the one that contains your session data this time. As indicated in the [docs](https://docs.oracle.com/javase/10/core/serialization-filtering1.htm#JSCOR-GUID-8296D8E8-2B93-4B9A-856E-0A65AF9B8C66):\r\n\r\n&gt; The filter mechanism is called for each new object in the stream. _If more than one active filter (process-wide filter, application filter, or stream-specific filter) exists, only the most specific filter is called._\r\n\r\nThe way in which the creation of this initial filter should be accomplished is highly dependent on the code that is actually dealing with the deserialization functionality.\r\n\r\nIn your use case, you probably are using `memcached-session-manager`, either the [original version](https://code.google.com/archive/p/memcached-session-manager/) or some [more updated projects](https://github.com/magro/memcached-session-manager/) in Github.\r\n\r\nIn a normal use case, the sessions in `memcached-session-manager` are mainly handled by the code defined in [`MemcachedSessionService`](https://github.com/magro/memcached-session-manager/blob/716e147c9840ab10298c4d2b9edd0662058331e6/core/src/main/java/de/javakaffee/web/msm/MemcachedSessionService.java).\r\n\r\nThis class uses [`TranscoderService`](https://github.com/magro/memcached-session-manager/blob/716e147c9840ab10298c4d2b9edd0662058331e6/core/src/main/java/de/javakaffee/web/msm/TranscoderService.java) for handling the Java serialization stuff.\r\n\r\n`TranscoderService` in turn delegates that responsability to a proper implementation of [`TranscoderFactory`](https://github.com/magro/memcached-session-manager/blob/716e147c9840ab10298c4d2b9edd0662058331e6/core/src/main/java/de/javakaffee/web/msm/TranscoderFactory.java) and [`SessionAttributesTranscoder`](https://github.com/magro/memcached-session-manager/blob/716e147c9840ab10298c4d2b9edd0662058331e6/core/src/main/java/de/javakaffee/web/msm/SessionAttributesTranscoder.java#L31).\r\n\r\n[`JavaSerializationTranscoderFactory`](https://github.com/magro/memcached-session-manager/blob/716e147c9840ab10298c4d2b9edd0662058331e6/core/src/main/java/de/javakaffee/web/msm/JavaSerializationTranscoderFactory.java#L27) and the associated class [`JavaSerializationTranscoder`](https://github.com/magro/memcached-session-manager/blob/716e147c9840ab10298c4d2b9edd0662058331e6/core/src/main/java/de/javakaffee/web/msm/JavaSerializationTranscoder.java#L51) are the default implementations of these interfaces.\r\n\r\nPlease, pay attention to the `deserializeAttributes` method of `JavaSerializationTranscoder`, it defines the logic for session deserialization:\r\n\r\n```java\r\n/**\r\n  * Get the object represented by the given serialized bytes.\r\n  *\r\n  * @param in\r\n  *            the bytes to deserialize\r\n  * @return the resulting object\r\n  */\r\n@Override\r\npublic ConcurrentMap&lt;String, Object&gt; deserializeAttributes(final byte[] in ) {\r\n    ByteArrayInputStream bis = null;\r\n    ObjectInputStream ois = null;\r\n    try {\r\n        bis = new ByteArrayInputStream( in );\r\n        ois = createObjectInputStream( bis );\r\n\r\n        final ConcurrentMap&lt;String, Object&gt; attributes = new ConcurrentHashMap&lt;String, Object&gt;();\r\n        final int n = ( (Integer) ois.readObject() ).intValue();\r\n        for ( int i = 0; i &lt; n; i++ ) {\r\n            final String name = (String) ois.readObject();\r\n            final Object value = ois.readObject();\r\n            if ( ( value instanceof String ) &amp;&amp; ( value.equals( NOT_SERIALIZED ) ) ) {\r\n                continue;\r\n            }\r\n            if ( LOG.isDebugEnabled() ) {\r\n                LOG.debug( &quot;  loading attribute &#39;&quot; + name + &quot;&#39; with value &#39;&quot; + value + &quot;&#39;&quot; );\r\n            }\r\n            attributes.put( name, value );\r\n        }\r\n\r\n        return attributes;\r\n    } catch ( final ClassNotFoundException e ) {\r\n        LOG.warn( &quot;Caught CNFE decoding &quot;+ in.length +&quot; bytes of data&quot;, e );\r\n        throw new TranscoderDeserializationException( &quot;Caught CNFE decoding data&quot;, e );\r\n    } catch ( final IOException e ) {\r\n        LOG.warn( &quot;Caught IOException decoding &quot;+ in.length +&quot; bytes of data&quot;, e );\r\n        throw new TranscoderDeserializationException( &quot;Caught IOException decoding data&quot;, e );\r\n    } finally {\r\n        closeSilently( bis );\r\n        closeSilently( ois );\r\n    }\r\n}\r\n```\r\n\r\nAs you can see, the problem is that the session information, represented by the input byte array, can contain several attributes, and all of them are deserialized from the same `ObjectInputStream`. Once the `Keycloak` `ObjectInputFilter` is applied on this `ObjectInputStream`, as you indicated, it will reject the rest of classes that are not allowed by the filter. The reason is that `DelegatingSerializationFilter` [append](https://github.com/keycloak/keycloak/blob/a60cb65252aec21ea1899a73d5fc136ae5058383/common/src/main/java/org/keycloak/common/util/DelegatingSerializationFilter.java#L219) a final `!*` to the filter pattern that is being constructed, excluding everything but the explicitly provided class and text based patterns (well, and the classes of `java.util.*` to allow collections).\r\n\r\nIn order to avoid this problem, try providing your own implementation of `SessionAttributesTranscoder`, and include a method something similar to `deserializeAttributes` but defining an initial filter over the constructed `ObjectInputStream`.\r\n\r\nFor example (please, forgive to define the whole class, you can probably reuse the code of `JavaSerializationTranscoder` in a certain way):\r\n\r\n```java\r\nimport java.io.ByteArrayInputStream;\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.NotSerializableException;\r\nimport java.io.ObjectInputStream;\r\nimport java.io.ObjectOutputStream;\r\nimport java.io.OutputStream;\r\nimport java.io.Serializable;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.concurrent.ConcurrentHashMap;\r\nimport java.util.concurrent.ConcurrentMap;\r\n\r\nimport org.apache.catalina.session.StandardSession;\r\nimport org.apache.catalina.util.CustomObjectInputStream;\r\nimport org.apache.juli.logging.Log;\r\nimport org.apache.juli.logging.LogFactory;\r\n\r\nimport de.javakaffee.web.msm.MemcachedSessionService.SessionManager;\r\n\r\npublic class CustomJavaSerializationTranscoder implements SessionAttributesTranscoder {\r\n\r\n    private static final Log LOG = LogFactory.getLog( CustomJavaSerializationTranscoder.class );\r\n\r\n    private static final String EMPTY_ARRAY[] = new String[0];\r\n\r\n    /**\r\n     * The dummy attribute value serialized when a NotSerializableException is\r\n     * encountered in &lt;code&gt;writeObject()&lt;/code&gt;.\r\n     */\r\n    protected static final String NOT_SERIALIZED = &quot;___NOT_SERIALIZABLE_EXCEPTION___&quot;;\r\n\r\n    private final SessionManager _manager;\r\n\r\n    /**\r\n     * Constructor.\r\n     *\r\n     * @param manager\r\n     *            the manager\r\n     */\r\n    public CustomJavaSerializationTranscoder() {\r\n        this( null );\r\n    }\r\n\r\n    /**\r\n     * Constructor.\r\n     *\r\n     * @param manager\r\n     *            the manager\r\n     */\r\n    public CustomJavaSerializationTranscoder( final SessionManager manager ) {\r\n        _manager = manager;\r\n    }\r\n\r\n    /**\r\n     * {@inheritDoc}\r\n     */\r\n    @Override\r\n    public byte[] serializeAttributes( final MemcachedBackupSession session, final ConcurrentMap&lt;String, Object&gt; attributes ) {\r\n        if ( attributes == null ) {\r\n            throw new NullPointerException( &quot;Can&#39;t serialize null&quot; );\r\n        }\r\n\r\n        ByteArrayOutputStream bos = null;\r\n        ObjectOutputStream oos = null;\r\n        try {\r\n            bos = new ByteArrayOutputStream();\r\n            oos = new ObjectOutputStream( bos );\r\n\r\n            writeAttributes( session, attributes, oos );\r\n\r\n            return bos.toByteArray();\r\n        } catch ( final IOException e ) {\r\n            throw new IllegalArgumentException( &quot;Non-serializable object&quot;, e );\r\n        } finally {\r\n            closeSilently( bos );\r\n            closeSilently( oos );\r\n        }\r\n\r\n    }\r\n\r\n    private void writeAttributes( final MemcachedBackupSession session, final Map&lt;String, Object&gt; attributes,\r\n            final ObjectOutputStream oos ) throws IOException {\r\n\r\n        // Accumulate the names of serializable and non-serializable attributes\r\n        final String keys[] = attributes.keySet().toArray( EMPTY_ARRAY );\r\n        final List&lt;String&gt; saveNames = new ArrayList&lt;String&gt;();\r\n        final List&lt;Object&gt; saveValues = new ArrayList&lt;Object&gt;();\r\n        for ( int i = 0; i &lt; keys.length; i++ ) {\r\n            final Object value = attributes.get( keys[i] );\r\n            if ( value == null || session.exclude( keys[i], value ) ) {\r\n                continue;\r\n            } else if ( value instanceof Serializable ) {\r\n                saveNames.add( keys[i] );\r\n                saveValues.add( value );\r\n            } else {\r\n                if ( LOG.isDebugEnabled() ) {\r\n                    LOG.debug( &quot;Ignoring attribute &#39;&quot; + keys[i] + &quot;&#39; as it does not implement Serializable&quot; );\r\n                }\r\n            }\r\n        }\r\n\r\n        // Serialize the attribute count and the Serializable attributes\r\n        final int n = saveNames.size();\r\n        oos.writeObject( Integer.valueOf( n ) );\r\n        for ( int i = 0; i &lt; n; i++ ) {\r\n            oos.writeObject( saveNames.get( i ) );\r\n            try {\r\n                oos.writeObject( saveValues.get( i ) );\r\n                if ( LOG.isDebugEnabled() ) {\r\n                    LOG.debug( &quot;  storing attribute &#39;&quot; + saveNames.get( i ) + &quot;&#39; with value &#39;&quot; + saveValues.get( i ) + &quot;&#39;&quot; );\r\n                }\r\n            } catch ( final NotSerializableException e ) {\r\n                LOG.warn( _manager.getString( &quot;standardSession.notSerializable&quot;, saveNames.get( i ), session.getIdInternal() ), e );\r\n                oos.writeObject( NOT_SERIALIZED );\r\n                if ( LOG.isDebugEnabled() ) {\r\n                    LOG.debug( &quot;  storing attribute &#39;&quot; + saveNames.get( i ) + &quot;&#39; with value NOT_SERIALIZED&quot; );\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * Get the object represented by the given serialized bytes.\r\n     *\r\n     * @param in\r\n     *            the bytes to deserialize\r\n     * @return the resulting object\r\n     */\r\n    @Override\r\n    public ConcurrentMap&lt;String, Object&gt; deserializeAttributes(final byte[] in ) {\r\n        ByteArrayInputStream bis = null;\r\n        ObjectInputStream ois = null;\r\n        try {\r\n            bis = new ByteArrayInputStream( in );\r\n            ois = createObjectInputStream( bis );\r\n\r\n            // Fix deserialization\r\n            fixDeserialization(ois);\r\n\r\n            final ConcurrentMap&lt;String, Object&gt; attributes = new ConcurrentHashMap&lt;String, Object&gt;();\r\n            final int n = ( (Integer) ois.readObject() ).intValue();\r\n            for ( int i = 0; i &lt; n; i++ ) {\r\n                final String name = (String) ois.readObject();\r\n                final Object value = ois.readObject();\r\n                if ( ( value instanceof String ) &amp;&amp; ( value.equals( NOT_SERIALIZED ) ) ) {\r\n                    continue;\r\n                }\r\n                if ( LOG.isDebugEnabled() ) {\r\n                    LOG.debug( &quot;  loading attribute &#39;&quot; + name + &quot;&#39; with value &#39;&quot; + value + &quot;&#39;&quot; );\r\n                }\r\n                attributes.put( name, value );\r\n            }\r\n\r\n            return attributes;\r\n        } catch ( final ClassNotFoundException e ) {\r\n            LOG.warn( &quot;Caught CNFE decoding &quot;+ in.length +&quot; bytes of data&quot;, e );\r\n            throw new TranscoderDeserializationException( &quot;Caught CNFE decoding data&quot;, e );\r\n        } catch ( final IOException e ) {\r\n            LOG.warn( &quot;Caught IOException decoding &quot;+ in.length +&quot; bytes of data&quot;, e );\r\n            throw new TranscoderDeserializationException( &quot;Caught IOException decoding data&quot;, e );\r\n        } finally {\r\n            closeSilently( bis );\r\n            closeSilently( ois );\r\n        }\r\n    }\r\n\r\n    private ObjectInputStream createObjectInputStream( final ByteArrayInputStream bis ) throws IOException {\r\n        final ObjectInputStream ois;\r\n        ClassLoader classLoader = null;\r\n        if ( _manager != null &amp;&amp; _manager.getContext() != null ) {\r\n            classLoader = _manager.getContainerClassLoader();\r\n        }\r\n        if ( classLoader != null ) {\r\n            ois = new CustomObjectInputStream( bis, classLoader );\r\n        } else {\r\n            ois = new ObjectInputStream( bis );\r\n        }\r\n        return ois;\r\n    }\r\n\r\n    private void closeSilently( final OutputStream os ) {\r\n        if ( os != null ) {\r\n            try {\r\n                os.close();\r\n            } catch ( final IOException f ) {\r\n                // fail silently\r\n            }\r\n        }\r\n    }\r\n\r\n    private void closeSilently( final InputStream is ) {\r\n        if ( is != null ) {\r\n            try {\r\n                is.close();\r\n            } catch ( final IOException f ) {\r\n                // fail silently\r\n            }\r\n        }\r\n    }\r\n\r\n    // Helper method, reusing the `DelegatingSerializationFilter` class, which in fact is convenient because of its portability\r\n    // accross JDK versions, to define an allow everything pattern\r\n    // Probably it should be improved to restrict to certain patterns to\r\n    // prevent security vulnerabilities\r\n    private void fixDeserialization(ObjectInputStream ois) {\r\n      DelegatingSerializationFilter.builder()\r\n          .addAllowedPattern(&quot;*&quot;)\r\n          .setFilter(ois);\r\n    }\r\n\r\n}\r\n```\r\n\r\nNow, define a custom `TranscoderFactory`. Let&#39;s reuse the code of the class `JavaSerializationTranscoderFactory` this time:\r\n\r\n```java\r\nimport de.javakaffee.web.msm.MemcachedSessionService.SessionManager;\r\n\r\npublic class CustomJavaSerializationTranscoderFactory extends JavaSerializationTranscoderFactory {\r\n\r\n    /**\r\n     * {@inheritDoc}\r\n     */\r\n    @Override\r\n    public SessionAttributesTranscoder createTranscoder( final SessionManager manager ) {\r\n        return new CustomJavaSerializationTranscoder( manager );\r\n    }\r\n\r\n}\r\n```\r\n\r\nPlace this classes on your classpath, with the rest of libraries from `memcached-session-manager`, and provide a convenient value for the `transcoderFactoryClass` `memcached-session-manager` configuration property, as indicated in the [docs](https://code.google.com/archive/p/memcached-session-manager/wikis/SetupAndConfiguration.wiki):\r\n\r\n&gt; The class name of the factory that creates the transcoder to use for serializing/deserializing sessions to/from memcached. The specified class must implement `de.javakaffee.web.msm.TranscoderFactory` and provide a no-args constructor.\r\n\r\nI have no the ability to test the solution, although a simple test seems to work properly:\r\n\r\n```java\r\nimport java.io.ByteArrayInputStream;\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.NotSerializableException;\r\nimport java.io.ObjectInputStream;\r\nimport java.io.ObjectOutputStream;\r\nimport java.io.OutputStream;\r\nimport java.io.Serializable;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.concurrent.ConcurrentHashMap;\r\nimport java.util.concurrent.ConcurrentMap;\r\n\r\nimport org.apache.commons.logging.Log;\r\nimport org.apache.commons.logging.LogFactory;\r\n\r\npublic class SerializationTest {\r\n\r\n  private static final Log LOG = LogFactory.getLog( SerializationTest.class );\r\n\r\n  protected static final String NOT_SERIALIZED = &quot;___NOT_SERIALIZABLE_EXCEPTION___&quot;;\r\n\r\n  private static final String EMPTY_ARRAY[] = new String[0];\r\n\r\n  public byte[] serializeAttributes( final ConcurrentMap&lt;String, Object&gt; attributes ) {\r\n    if ( attributes == null ) {\r\n      throw new NullPointerException( &quot;Can&#39;t serialize null&quot; );\r\n    }\r\n\r\n    ByteArrayOutputStream bos = null;\r\n    ObjectOutputStream oos = null;\r\n    try {\r\n      bos = new ByteArrayOutputStream();\r\n      oos = new ObjectOutputStream( bos );\r\n\r\n      writeAttributes( attributes, oos );\r\n\r\n      return bos.toByteArray();\r\n    } catch ( final IOException e ) {\r\n      throw new IllegalArgumentException( &quot;Non-serializable object&quot;, e );\r\n    } finally {\r\n      closeSilently( bos );\r\n      closeSilently( oos );\r\n    }\r\n\r\n  }\r\n\r\n  private void writeAttributes(final Map&lt;String, Object&gt; attributes, final ObjectOutputStream oos ) throws IOException {\r\n\r\n    // Accumulate the names of serializable and non-serializable attributes\r\n    final String keys[] = attributes.keySet().toArray( EMPTY_ARRAY );\r\n    final List&lt;String&gt; saveNames = new ArrayList&lt;String&gt;();\r\n    final List&lt;Object&gt; saveValues = new ArrayList&lt;Object&gt;();\r\n    for ( int i = 0; i &lt; keys.length; i++ ) {\r\n      final Object value = attributes.get( keys[i] );\r\n      if ( value == null ) {\r\n        continue;\r\n      } else if ( value instanceof Serializable) {\r\n        saveNames.add( keys[i] );\r\n        saveValues.add( value );\r\n      } else {\r\n        if ( LOG.isDebugEnabled() ) {\r\n          LOG.debug( &quot;Ignoring attribute &#39;&quot; + keys[i] + &quot;&#39; as it does not implement Serializable&quot; );\r\n        }\r\n      }\r\n    }\r\n\r\n    // Serialize the attribute count and the Serializable attributes\r\n    final int n = saveNames.size();\r\n    oos.writeObject( Integer.valueOf( n ) );\r\n    for ( int i = 0; i &lt; n; i++ ) {\r\n      oos.writeObject( saveNames.get( i ) );\r\n      try {\r\n        oos.writeObject( saveValues.get( i ) );\r\n        if ( LOG.isDebugEnabled() ) {\r\n          LOG.debug( &quot;  storing attribute &#39;&quot; + saveNames.get( i ) + &quot;&#39; with value &#39;&quot; + saveValues.get( i ) + &quot;&#39;&quot; );\r\n        }\r\n      } catch ( final NotSerializableException e ) {\r\n        LOG.warn(  &quot;standardSession.notSerializable&quot; + saveNames.get( i ), e );\r\n        oos.writeObject( NOT_SERIALIZED );\r\n        if ( LOG.isDebugEnabled() ) {\r\n          LOG.debug( &quot;  storing attribute &#39;&quot; + saveNames.get( i ) + &quot;&#39; with value NOT_SERIALIZED&quot; );\r\n        }\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  public ConcurrentMap&lt;String, Object&gt; deserializeAttributes(final byte[] in ) {\r\n    ByteArrayInputStream bis = null;\r\n    ObjectInputStream ois = null;\r\n    try {\r\n      bis = new ByteArrayInputStream( in );\r\n      ois = new ObjectInputStream( bis );\r\n\r\n      fixDeserialization(ois);\r\n\r\n      final ConcurrentMap&lt;String, Object&gt; attributes = new ConcurrentHashMap&lt;String, Object&gt;();\r\n      final int n = ( (Integer) ois.readObject() ).intValue();\r\n      for ( int i = 0; i &lt; n; i++ ) {\r\n        final String name = (String) ois.readObject();\r\n        final Object value = ois.readObject();\r\n        if ( ( value instanceof String ) &amp;&amp; ( value.equals( NOT_SERIALIZED ) ) ) {\r\n          continue;\r\n        }\r\n        if ( LOG.isDebugEnabled() ) {\r\n          LOG.debug( &quot;  loading attribute &#39;&quot; + name + &quot;&#39; with value &#39;&quot; + value + &quot;&#39;&quot; );\r\n        }\r\n        attributes.put( name, value );\r\n      }\r\n\r\n      return attributes;\r\n    } catch ( final ClassNotFoundException e ) {\r\n      LOG.warn( &quot;Caught CNFE decoding &quot;+ in.length +&quot; bytes of data&quot;, e );\r\n      throw new RuntimeException( &quot;Caught CNFE decoding data&quot;, e );\r\n    } catch ( final IOException e ) {\r\n      LOG.warn( &quot;Caught IOException decoding &quot;+ in.length +&quot; bytes of data&quot;, e );\r\n      throw new RuntimeException( &quot;Caught IOException decoding data&quot;, e );\r\n    } finally {\r\n      closeSilently( bis );\r\n      closeSilently( ois );\r\n    }\r\n  }\r\n\r\n  private void fixDeserialization(ObjectInputStream ois) {\r\n    DelegatingSerializationFilter.builder()\r\n        .addAllowedPattern(&quot;*&quot;)\r\n        .setFilter(ois);\r\n  }\r\n\r\n  private void closeSilently( final OutputStream os ) {\r\n    if ( os != null ) {\r\n      try {\r\n        os.close();\r\n      } catch ( final IOException f ) {\r\n        // fail silently\r\n      }\r\n    }\r\n  }\r\n\r\n  private void closeSilently( final InputStream is ) {\r\n    if ( is != null ) {\r\n      try {\r\n        is.close();\r\n      } catch ( final IOException f ) {\r\n        // fail silently\r\n      }\r\n    }\r\n  }\r\n\r\n  public static void main(String[] args) throws Exception{\r\n\r\n    Person person = new Person(&quot;Sherlock Holmes&quot;,&quot;Consulting detective&quot;);\r\n    Address address = new Address(&quot;221B Baker Street&quot;);\r\n    ConcurrentMap&lt;String, Object&gt; attributes = new ConcurrentHashMap&lt;String, Object&gt;();\r\n    attributes.put(&quot;person&quot;, person);\r\n    attributes.put(&quot;address&quot;, address);\r\n\r\n    SerializationTest test = new SerializationTest();\r\n    byte[] in = test.serializeAttributes(attributes);\r\n\r\n    System.setProperty(&quot;jdk.serialSetFilterAfterRead&quot;, &quot;true&quot;);\r\n\r\n    ConcurrentMap&lt;String, Object&gt; attributesAfter = test.deserializeAttributes(in);\r\n    System.out.println(attributesAfter);\r\n  }\r\n}\r\n```\r\n\r\n`Person` and `Address` two simple POJOs. Pay attention to the definition `Person` `readObject` method:\r\n\r\n```java\r\nimport java.io.IOException;\r\nimport java.io.ObjectInputStream;\r\nimport java.io.ObjectOutputStream;\r\nimport java.io.Serializable;\r\n\r\npublic class Person implements Serializable {\r\n\r\n  private static final long serialVersionUID = 1L;\r\n\r\n  String name;\r\n  String title;\r\n\r\n  public Person() {\r\n  }\r\n\r\n  public Person(String name, String title) {\r\n    this.name = name;\r\n    this.title = title;\r\n  }\r\n\r\n  private void writeObject(ObjectOutputStream out) throws IOException {\r\n    out.defaultWriteObject();\r\n  }\r\n\r\n  private void readObject(ObjectInputStream in) throws IOException, ClassNotFoundException {\r\n    DelegatingSerializationFilter.builder()\r\n        .addAllowedClass(Person.class)\r\n        .setFilter(in);\r\n    in.defaultReadObject();\r\n  }\r\n\r\n  @Override\r\n  public String toString() {\r\n    return &quot;Person{&quot; +\r\n        &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n        &quot;, title=&#39;&quot; + title + &#39;\\&#39;&#39; +\r\n        &#39;}&#39;;\r\n  }\r\n}\r\n````\r\n\r\n```java\r\nimport java.io.Serializable;\r\n\r\npublic class Address implements Serializable {\r\n\r\n  private static final long serialVersionUID = 1L;\r\n\r\n  String address;\r\n\r\n  public Address() {\r\n  }\r\n\r\n  public Address(String address) {\r\n    this.address = address;\r\n  }\r\n\r\n  @Override\r\n  public String toString() {\r\n    return &quot;Address{&quot; +\r\n        &quot;address=&#39;&quot; + address + &#39;\\&#39;&#39; +\r\n        &#39;}&#39;;\r\n  }\r\n}\r\n```\r\n\r\nPlease, be aware that the filter is there in order to prevent security flaws: as also suggested in the code comments, it would be advisable to improve the logic implemented in the `fixDeserialization` to restrict in some way the possible classes that your session is supposed to contain instead of use the wildcard `*` as in the example.\r\n\r\nIn fact, this functionality can be included in the `memcached-session-manager` library, probably by defining some kind of configuration property, `serialFilter`, for instance, which value, a valid filter pattern, should be provided to the indicated underlying Java deserialization mechanisms.\r\n\r\nI created a fork of the project: it is still a WIP, but please, see [this commit](https://github.com/jccampanero/memcached-session-manager/commit/a24a1df7817d2c4e247415f7fb0ad9729534de4a), I hope you get the idea. I will [try to pull a request](https://github.com/magro/memcached-session-manager/issues/427) to the [forked repo](https://github.com/magro/memcached-session-manager/) once finished.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/E2Jl1.png","title":"Use serialization filter (ObjectInputerFilter) with Keycloak adapter and Memcached","body":"<p>The code implemented in <code>KeycloakSecurityContext</code> and other <a href=\"https://github.com/keycloak/keycloak/commit/33863ba16117844930a38ebde57a25258f5b80fd\" rel=\"nofollow noreferrer\">related classes</a> was included in order to mitigate a <a href=\"https://bugzilla.redhat.com/show_bug.cgi?id=1705975\" rel=\"nofollow noreferrer\">bug</a> associated with the CVE <code>CVE-2020-1714</code>:</p>\n<blockquote>\n<p>A flaw was found in Keycloak, where the code base contains usages of ObjectInputStream without type checks. This flaw allows an attacker to inject arbitrarily serialized Java Objects, which would then get deserialized in a privileged context and potentially lead to remote code execution.</p>\n</blockquote>\n<p>The solution tries to address the above-mentioned vulnerability by implementing a custom <a href=\"https://docs.oracle.com/javase/9/docs/api/java/io/ObjectInputFilter.html\" rel=\"nofollow noreferrer\"><code>ObjectInputFilter</code></a>.</p>\n<p>As indicated in the bug description, the idea behind the Java serialization filtering mechanism is to prevent deserialization vulnerabilities that can lead to remote code execution that can cause a security issue to the application.</p>\n<p>In many situations, like when dealing with sessions, several objects, those stored in the session following the example, are serialized and will be later deserialized together, in other words, they will be written to the same <a href=\"https://docs.oracle.com/javase/9/docs/api/java/io/ObjectOutputStream.html\" rel=\"nofollow noreferrer\"><code>ObjectOutputStream</code></a> and then they will be read from the same <a href=\"https://docs.oracle.com/javase/9/docs/api/java/io/ObjectInputStream.html\" rel=\"nofollow noreferrer\"><code>ObjectInputStream</code></a>.</p>\n<p>When a <code>ObjectInputFilter</code> is applied, which can be done at several levels - process, application and specific <code>ObjectInputStream</code> - only the objects that satisfy the configured <a href=\"https://docs.oracle.com/javase/9/docs/api/java/io/ObjectInputFilter.Config.html#createFilter-java.lang.String-\" rel=\"nofollow noreferrer\">filter pattern</a> will be deserialized; depending on the pattern itself, the rest will be either rejected or the decision will be delegated to a <a href=\"https://docs.oracle.com/javase/9/docs/api/java/io/ObjectInputFilter.Config.html#getSerialFilter--\" rel=\"nofollow noreferrer\">process-wide filter if one exists</a>.</p>\n<p>Please, consider the following example, where <code>A</code>, <code>B</code>, <code>C</code> and <code>D</code> are classes, and a filter <code>A;D;!*</code> is applied over an hypothetical object input stream, represented by the top marble diagram line, being the bottom one the deseriaization result after the filter is applied:</p>\n<p><a href=\"https://i.stack.imgur.com/E2Jl1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/E2Jl1.png\" alt=\"ObjectInputFilter semantics\" /></a></p>\n<p>This pattern can be defined in terms of modules, packages and/or individual classes, and can be set as the <code>jdk.serialFilter</code> system property, or by editing the <code>java.security</code> properties file.</p>\n<p>You can create custom filters as well. They are implemented using the API provided by <code>ObjectInputFilter</code>, and allow for a more granular serialization control because they can be specific to a specific <code>ObjectInputStream</code>.</p>\n<p>Please, see the relevant <a href=\"https://docs.oracle.com/javase/10/core/serialization-filtering1.htm\" rel=\"nofollow noreferrer\">Oracle Serialization documentation</a> for more information.</p>\n<p>The <code>Keycloak</code> serialization filters use the utility class <a href=\"https://github.com/keycloak/keycloak/blob/a60cb65252aec21ea1899a73d5fc136ae5058383/common/src/main/java/org/keycloak/common/util/DelegatingSerializationFilter.java\" rel=\"nofollow noreferrer\"><code>DelegatingSerializationFilter</code></a>.</p>\n<p>In the implementation provided, the filter is applied inside the <a href=\"https://github.com/keycloak/keycloak/blob/a60cb65252aec21ea1899a73d5fc136ae5058383/core/src/main/java/org/keycloak/KeycloakSecurityContext.java#L88-L96\" rel=\"nofollow noreferrer\"><code>KeycloakSecurityContext</code> <code>readObject</code> method</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void readObject(ObjectInputStream in) throws IOException, ClassNotFoundException {\n    DelegatingSerializationFilter.builder()\n            .addAllowedClass(KeycloakSecurityContext.class)\n            .setFilter(in);\n    in.defaultReadObject();\n\n    token = parseToken(tokenString, AccessToken.class);\n    idToken = parseToken(idTokenString, IDToken.class);\n}\n</code></pre>\n<p>As a consequence, in order to work it properly, as you pointed out, it is necessary to define the <code>jdk.serialSetFilterAfterRead</code> system property as <code>true</code> when running your program.</p>\n<p>This filter will be always applied unless a previous, non process-wide filter (see the section labeled <em>Setting a Process-Wide Custom Filter</em> in the <a href=\"https://docs.oracle.com/javase/10/core/serialization-filtering1.htm#JSCOR-GUID-0A1D23AB-2F18-4979-9288-9CFEC04F207E\" rel=\"nofollow noreferrer\">Oracle documentation</a>), has been already applied to the <code>ObjectInputStream</code>; it will be guaranteed by the <a href=\"https://docs.oracle.com/javase/9/docs/api/java/io/ObjectInputStream.html#setObjectInputFilter-java.io.ObjectInputFilter-\" rel=\"nofollow noreferrer\"><code>setObjectInputFilter</code></a> method and it is <a href=\"https://github.com/keycloak/keycloak/blob/a60cb65252aec21ea1899a73d5fc136ae5058383/common/src/main/java/org/keycloak/common/util/DelegatingSerializationFilter.java#L47-L53\" rel=\"nofollow noreferrer\">checked by the <code>DelegatingSerializationFilter</code> class</a> as well:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void setFilter(ObjectInputStream ois, String filterPattern) {\n    LOG.debug(&quot;Using: &quot; + serializationFilterAdapter.getClass().getSimpleName());\n\n    if (serializationFilterAdapter.getObjectInputFilter(ois) == null) {\n        serializationFilterAdapter.setObjectInputFilter(ois, filterPattern);\n    }\n}\n</code></pre>\n<p>In other words, the only way to avoid a custom filter to be applied is to provide first an initial filter over the target <code>ObjectInputStream</code>, the one that contains your session data this time. As indicated in the <a href=\"https://docs.oracle.com/javase/10/core/serialization-filtering1.htm#JSCOR-GUID-8296D8E8-2B93-4B9A-856E-0A65AF9B8C66\" rel=\"nofollow noreferrer\">docs</a>:</p>\n<blockquote>\n<p>The filter mechanism is called for each new object in the stream. <em>If more than one active filter (process-wide filter, application filter, or stream-specific filter) exists, only the most specific filter is called.</em></p>\n</blockquote>\n<p>The way in which the creation of this initial filter should be accomplished is highly dependent on the code that is actually dealing with the deserialization functionality.</p>\n<p>In your use case, you probably are using <code>memcached-session-manager</code>, either the <a href=\"https://code.google.com/archive/p/memcached-session-manager/\" rel=\"nofollow noreferrer\">original version</a> or some <a href=\"https://github.com/magro/memcached-session-manager/\" rel=\"nofollow noreferrer\">more updated projects</a> in Github.</p>\n<p>In a normal use case, the sessions in <code>memcached-session-manager</code> are mainly handled by the code defined in <a href=\"https://github.com/magro/memcached-session-manager/blob/716e147c9840ab10298c4d2b9edd0662058331e6/core/src/main/java/de/javakaffee/web/msm/MemcachedSessionService.java\" rel=\"nofollow noreferrer\"><code>MemcachedSessionService</code></a>.</p>\n<p>This class uses <a href=\"https://github.com/magro/memcached-session-manager/blob/716e147c9840ab10298c4d2b9edd0662058331e6/core/src/main/java/de/javakaffee/web/msm/TranscoderService.java\" rel=\"nofollow noreferrer\"><code>TranscoderService</code></a> for handling the Java serialization stuff.</p>\n<p><code>TranscoderService</code> in turn delegates that responsability to a proper implementation of <a href=\"https://github.com/magro/memcached-session-manager/blob/716e147c9840ab10298c4d2b9edd0662058331e6/core/src/main/java/de/javakaffee/web/msm/TranscoderFactory.java\" rel=\"nofollow noreferrer\"><code>TranscoderFactory</code></a> and <a href=\"https://github.com/magro/memcached-session-manager/blob/716e147c9840ab10298c4d2b9edd0662058331e6/core/src/main/java/de/javakaffee/web/msm/SessionAttributesTranscoder.java#L31\" rel=\"nofollow noreferrer\"><code>SessionAttributesTranscoder</code></a>.</p>\n<p><a href=\"https://github.com/magro/memcached-session-manager/blob/716e147c9840ab10298c4d2b9edd0662058331e6/core/src/main/java/de/javakaffee/web/msm/JavaSerializationTranscoderFactory.java#L27\" rel=\"nofollow noreferrer\"><code>JavaSerializationTranscoderFactory</code></a> and the associated class <a href=\"https://github.com/magro/memcached-session-manager/blob/716e147c9840ab10298c4d2b9edd0662058331e6/core/src/main/java/de/javakaffee/web/msm/JavaSerializationTranscoder.java#L51\" rel=\"nofollow noreferrer\"><code>JavaSerializationTranscoder</code></a> are the default implementations of these interfaces.</p>\n<p>Please, pay attention to the <code>deserializeAttributes</code> method of <code>JavaSerializationTranscoder</code>, it defines the logic for session deserialization:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n  * Get the object represented by the given serialized bytes.\n  *\n  * @param in\n  *            the bytes to deserialize\n  * @return the resulting object\n  */\n@Override\npublic ConcurrentMap&lt;String, Object&gt; deserializeAttributes(final byte[] in ) {\n    ByteArrayInputStream bis = null;\n    ObjectInputStream ois = null;\n    try {\n        bis = new ByteArrayInputStream( in );\n        ois = createObjectInputStream( bis );\n\n        final ConcurrentMap&lt;String, Object&gt; attributes = new ConcurrentHashMap&lt;String, Object&gt;();\n        final int n = ( (Integer) ois.readObject() ).intValue();\n        for ( int i = 0; i &lt; n; i++ ) {\n            final String name = (String) ois.readObject();\n            final Object value = ois.readObject();\n            if ( ( value instanceof String ) &amp;&amp; ( value.equals( NOT_SERIALIZED ) ) ) {\n                continue;\n            }\n            if ( LOG.isDebugEnabled() ) {\n                LOG.debug( &quot;  loading attribute '&quot; + name + &quot;' with value '&quot; + value + &quot;'&quot; );\n            }\n            attributes.put( name, value );\n        }\n\n        return attributes;\n    } catch ( final ClassNotFoundException e ) {\n        LOG.warn( &quot;Caught CNFE decoding &quot;+ in.length +&quot; bytes of data&quot;, e );\n        throw new TranscoderDeserializationException( &quot;Caught CNFE decoding data&quot;, e );\n    } catch ( final IOException e ) {\n        LOG.warn( &quot;Caught IOException decoding &quot;+ in.length +&quot; bytes of data&quot;, e );\n        throw new TranscoderDeserializationException( &quot;Caught IOException decoding data&quot;, e );\n    } finally {\n        closeSilently( bis );\n        closeSilently( ois );\n    }\n}\n</code></pre>\n<p>As you can see, the problem is that the session information, represented by the input byte array, can contain several attributes, and all of them are deserialized from the same <code>ObjectInputStream</code>. Once the <code>Keycloak</code> <code>ObjectInputFilter</code> is applied on this <code>ObjectInputStream</code>, as you indicated, it will reject the rest of classes that are not allowed by the filter. The reason is that <code>DelegatingSerializationFilter</code> <a href=\"https://github.com/keycloak/keycloak/blob/a60cb65252aec21ea1899a73d5fc136ae5058383/common/src/main/java/org/keycloak/common/util/DelegatingSerializationFilter.java#L219\" rel=\"nofollow noreferrer\">append</a> a final <code>!*</code> to the filter pattern that is being constructed, excluding everything but the explicitly provided class and text based patterns (well, and the classes of <code>java.util.*</code> to allow collections).</p>\n<p>In order to avoid this problem, try providing your own implementation of <code>SessionAttributesTranscoder</code>, and include a method something similar to <code>deserializeAttributes</code> but defining an initial filter over the constructed <code>ObjectInputStream</code>.</p>\n<p>For example (please, forgive to define the whole class, you can probably reuse the code of <code>JavaSerializationTranscoder</code> in a certain way):</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.ByteArrayInputStream;\nimport java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.NotSerializableException;\nimport java.io.ObjectInputStream;\nimport java.io.ObjectOutputStream;\nimport java.io.OutputStream;\nimport java.io.Serializable;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.concurrent.ConcurrentHashMap;\nimport java.util.concurrent.ConcurrentMap;\n\nimport org.apache.catalina.session.StandardSession;\nimport org.apache.catalina.util.CustomObjectInputStream;\nimport org.apache.juli.logging.Log;\nimport org.apache.juli.logging.LogFactory;\n\nimport de.javakaffee.web.msm.MemcachedSessionService.SessionManager;\n\npublic class CustomJavaSerializationTranscoder implements SessionAttributesTranscoder {\n\n    private static final Log LOG = LogFactory.getLog( CustomJavaSerializationTranscoder.class );\n\n    private static final String EMPTY_ARRAY[] = new String[0];\n\n    /**\n     * The dummy attribute value serialized when a NotSerializableException is\n     * encountered in &lt;code&gt;writeObject()&lt;/code&gt;.\n     */\n    protected static final String NOT_SERIALIZED = &quot;___NOT_SERIALIZABLE_EXCEPTION___&quot;;\n\n    private final SessionManager _manager;\n\n    /**\n     * Constructor.\n     *\n     * @param manager\n     *            the manager\n     */\n    public CustomJavaSerializationTranscoder() {\n        this( null );\n    }\n\n    /**\n     * Constructor.\n     *\n     * @param manager\n     *            the manager\n     */\n    public CustomJavaSerializationTranscoder( final SessionManager manager ) {\n        _manager = manager;\n    }\n\n    /**\n     * {@inheritDoc}\n     */\n    @Override\n    public byte[] serializeAttributes( final MemcachedBackupSession session, final ConcurrentMap&lt;String, Object&gt; attributes ) {\n        if ( attributes == null ) {\n            throw new NullPointerException( &quot;Can't serialize null&quot; );\n        }\n\n        ByteArrayOutputStream bos = null;\n        ObjectOutputStream oos = null;\n        try {\n            bos = new ByteArrayOutputStream();\n            oos = new ObjectOutputStream( bos );\n\n            writeAttributes( session, attributes, oos );\n\n            return bos.toByteArray();\n        } catch ( final IOException e ) {\n            throw new IllegalArgumentException( &quot;Non-serializable object&quot;, e );\n        } finally {\n            closeSilently( bos );\n            closeSilently( oos );\n        }\n\n    }\n\n    private void writeAttributes( final MemcachedBackupSession session, final Map&lt;String, Object&gt; attributes,\n            final ObjectOutputStream oos ) throws IOException {\n\n        // Accumulate the names of serializable and non-serializable attributes\n        final String keys[] = attributes.keySet().toArray( EMPTY_ARRAY );\n        final List&lt;String&gt; saveNames = new ArrayList&lt;String&gt;();\n        final List&lt;Object&gt; saveValues = new ArrayList&lt;Object&gt;();\n        for ( int i = 0; i &lt; keys.length; i++ ) {\n            final Object value = attributes.get( keys[i] );\n            if ( value == null || session.exclude( keys[i], value ) ) {\n                continue;\n            } else if ( value instanceof Serializable ) {\n                saveNames.add( keys[i] );\n                saveValues.add( value );\n            } else {\n                if ( LOG.isDebugEnabled() ) {\n                    LOG.debug( &quot;Ignoring attribute '&quot; + keys[i] + &quot;' as it does not implement Serializable&quot; );\n                }\n            }\n        }\n\n        // Serialize the attribute count and the Serializable attributes\n        final int n = saveNames.size();\n        oos.writeObject( Integer.valueOf( n ) );\n        for ( int i = 0; i &lt; n; i++ ) {\n            oos.writeObject( saveNames.get( i ) );\n            try {\n                oos.writeObject( saveValues.get( i ) );\n                if ( LOG.isDebugEnabled() ) {\n                    LOG.debug( &quot;  storing attribute '&quot; + saveNames.get( i ) + &quot;' with value '&quot; + saveValues.get( i ) + &quot;'&quot; );\n                }\n            } catch ( final NotSerializableException e ) {\n                LOG.warn( _manager.getString( &quot;standardSession.notSerializable&quot;, saveNames.get( i ), session.getIdInternal() ), e );\n                oos.writeObject( NOT_SERIALIZED );\n                if ( LOG.isDebugEnabled() ) {\n                    LOG.debug( &quot;  storing attribute '&quot; + saveNames.get( i ) + &quot;' with value NOT_SERIALIZED&quot; );\n                }\n            }\n        }\n\n    }\n\n    /**\n     * Get the object represented by the given serialized bytes.\n     *\n     * @param in\n     *            the bytes to deserialize\n     * @return the resulting object\n     */\n    @Override\n    public ConcurrentMap&lt;String, Object&gt; deserializeAttributes(final byte[] in ) {\n        ByteArrayInputStream bis = null;\n        ObjectInputStream ois = null;\n        try {\n            bis = new ByteArrayInputStream( in );\n            ois = createObjectInputStream( bis );\n\n            // Fix deserialization\n            fixDeserialization(ois);\n\n            final ConcurrentMap&lt;String, Object&gt; attributes = new ConcurrentHashMap&lt;String, Object&gt;();\n            final int n = ( (Integer) ois.readObject() ).intValue();\n            for ( int i = 0; i &lt; n; i++ ) {\n                final String name = (String) ois.readObject();\n                final Object value = ois.readObject();\n                if ( ( value instanceof String ) &amp;&amp; ( value.equals( NOT_SERIALIZED ) ) ) {\n                    continue;\n                }\n                if ( LOG.isDebugEnabled() ) {\n                    LOG.debug( &quot;  loading attribute '&quot; + name + &quot;' with value '&quot; + value + &quot;'&quot; );\n                }\n                attributes.put( name, value );\n            }\n\n            return attributes;\n        } catch ( final ClassNotFoundException e ) {\n            LOG.warn( &quot;Caught CNFE decoding &quot;+ in.length +&quot; bytes of data&quot;, e );\n            throw new TranscoderDeserializationException( &quot;Caught CNFE decoding data&quot;, e );\n        } catch ( final IOException e ) {\n            LOG.warn( &quot;Caught IOException decoding &quot;+ in.length +&quot; bytes of data&quot;, e );\n            throw new TranscoderDeserializationException( &quot;Caught IOException decoding data&quot;, e );\n        } finally {\n            closeSilently( bis );\n            closeSilently( ois );\n        }\n    }\n\n    private ObjectInputStream createObjectInputStream( final ByteArrayInputStream bis ) throws IOException {\n        final ObjectInputStream ois;\n        ClassLoader classLoader = null;\n        if ( _manager != null &amp;&amp; _manager.getContext() != null ) {\n            classLoader = _manager.getContainerClassLoader();\n        }\n        if ( classLoader != null ) {\n            ois = new CustomObjectInputStream( bis, classLoader );\n        } else {\n            ois = new ObjectInputStream( bis );\n        }\n        return ois;\n    }\n\n    private void closeSilently( final OutputStream os ) {\n        if ( os != null ) {\n            try {\n                os.close();\n            } catch ( final IOException f ) {\n                // fail silently\n            }\n        }\n    }\n\n    private void closeSilently( final InputStream is ) {\n        if ( is != null ) {\n            try {\n                is.close();\n            } catch ( final IOException f ) {\n                // fail silently\n            }\n        }\n    }\n\n    // Helper method, reusing the `DelegatingSerializationFilter` class, which in fact is convenient because of its portability\n    // accross JDK versions, to define an allow everything pattern\n    // Probably it should be improved to restrict to certain patterns to\n    // prevent security vulnerabilities\n    private void fixDeserialization(ObjectInputStream ois) {\n      DelegatingSerializationFilter.builder()\n          .addAllowedPattern(&quot;*&quot;)\n          .setFilter(ois);\n    }\n\n}\n</code></pre>\n<p>Now, define a custom <code>TranscoderFactory</code>. Let's reuse the code of the class <code>JavaSerializationTranscoderFactory</code> this time:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import de.javakaffee.web.msm.MemcachedSessionService.SessionManager;\n\npublic class CustomJavaSerializationTranscoderFactory extends JavaSerializationTranscoderFactory {\n\n    /**\n     * {@inheritDoc}\n     */\n    @Override\n    public SessionAttributesTranscoder createTranscoder( final SessionManager manager ) {\n        return new CustomJavaSerializationTranscoder( manager );\n    }\n\n}\n</code></pre>\n<p>Place this classes on your classpath, with the rest of libraries from <code>memcached-session-manager</code>, and provide a convenient value for the <code>transcoderFactoryClass</code> <code>memcached-session-manager</code> configuration property, as indicated in the <a href=\"https://code.google.com/archive/p/memcached-session-manager/wikis/SetupAndConfiguration.wiki\" rel=\"nofollow noreferrer\">docs</a>:</p>\n<blockquote>\n<p>The class name of the factory that creates the transcoder to use for serializing/deserializing sessions to/from memcached. The specified class must implement <code>de.javakaffee.web.msm.TranscoderFactory</code> and provide a no-args constructor.</p>\n</blockquote>\n<p>I have no the ability to test the solution, although a simple test seems to work properly:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.ByteArrayInputStream;\nimport java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.NotSerializableException;\nimport java.io.ObjectInputStream;\nimport java.io.ObjectOutputStream;\nimport java.io.OutputStream;\nimport java.io.Serializable;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.concurrent.ConcurrentHashMap;\nimport java.util.concurrent.ConcurrentMap;\n\nimport org.apache.commons.logging.Log;\nimport org.apache.commons.logging.LogFactory;\n\npublic class SerializationTest {\n\n  private static final Log LOG = LogFactory.getLog( SerializationTest.class );\n\n  protected static final String NOT_SERIALIZED = &quot;___NOT_SERIALIZABLE_EXCEPTION___&quot;;\n\n  private static final String EMPTY_ARRAY[] = new String[0];\n\n  public byte[] serializeAttributes( final ConcurrentMap&lt;String, Object&gt; attributes ) {\n    if ( attributes == null ) {\n      throw new NullPointerException( &quot;Can't serialize null&quot; );\n    }\n\n    ByteArrayOutputStream bos = null;\n    ObjectOutputStream oos = null;\n    try {\n      bos = new ByteArrayOutputStream();\n      oos = new ObjectOutputStream( bos );\n\n      writeAttributes( attributes, oos );\n\n      return bos.toByteArray();\n    } catch ( final IOException e ) {\n      throw new IllegalArgumentException( &quot;Non-serializable object&quot;, e );\n    } finally {\n      closeSilently( bos );\n      closeSilently( oos );\n    }\n\n  }\n\n  private void writeAttributes(final Map&lt;String, Object&gt; attributes, final ObjectOutputStream oos ) throws IOException {\n\n    // Accumulate the names of serializable and non-serializable attributes\n    final String keys[] = attributes.keySet().toArray( EMPTY_ARRAY );\n    final List&lt;String&gt; saveNames = new ArrayList&lt;String&gt;();\n    final List&lt;Object&gt; saveValues = new ArrayList&lt;Object&gt;();\n    for ( int i = 0; i &lt; keys.length; i++ ) {\n      final Object value = attributes.get( keys[i] );\n      if ( value == null ) {\n        continue;\n      } else if ( value instanceof Serializable) {\n        saveNames.add( keys[i] );\n        saveValues.add( value );\n      } else {\n        if ( LOG.isDebugEnabled() ) {\n          LOG.debug( &quot;Ignoring attribute '&quot; + keys[i] + &quot;' as it does not implement Serializable&quot; );\n        }\n      }\n    }\n\n    // Serialize the attribute count and the Serializable attributes\n    final int n = saveNames.size();\n    oos.writeObject( Integer.valueOf( n ) );\n    for ( int i = 0; i &lt; n; i++ ) {\n      oos.writeObject( saveNames.get( i ) );\n      try {\n        oos.writeObject( saveValues.get( i ) );\n        if ( LOG.isDebugEnabled() ) {\n          LOG.debug( &quot;  storing attribute '&quot; + saveNames.get( i ) + &quot;' with value '&quot; + saveValues.get( i ) + &quot;'&quot; );\n        }\n      } catch ( final NotSerializableException e ) {\n        LOG.warn(  &quot;standardSession.notSerializable&quot; + saveNames.get( i ), e );\n        oos.writeObject( NOT_SERIALIZED );\n        if ( LOG.isDebugEnabled() ) {\n          LOG.debug( &quot;  storing attribute '&quot; + saveNames.get( i ) + &quot;' with value NOT_SERIALIZED&quot; );\n        }\n      }\n    }\n\n  }\n\n  public ConcurrentMap&lt;String, Object&gt; deserializeAttributes(final byte[] in ) {\n    ByteArrayInputStream bis = null;\n    ObjectInputStream ois = null;\n    try {\n      bis = new ByteArrayInputStream( in );\n      ois = new ObjectInputStream( bis );\n\n      fixDeserialization(ois);\n\n      final ConcurrentMap&lt;String, Object&gt; attributes = new ConcurrentHashMap&lt;String, Object&gt;();\n      final int n = ( (Integer) ois.readObject() ).intValue();\n      for ( int i = 0; i &lt; n; i++ ) {\n        final String name = (String) ois.readObject();\n        final Object value = ois.readObject();\n        if ( ( value instanceof String ) &amp;&amp; ( value.equals( NOT_SERIALIZED ) ) ) {\n          continue;\n        }\n        if ( LOG.isDebugEnabled() ) {\n          LOG.debug( &quot;  loading attribute '&quot; + name + &quot;' with value '&quot; + value + &quot;'&quot; );\n        }\n        attributes.put( name, value );\n      }\n\n      return attributes;\n    } catch ( final ClassNotFoundException e ) {\n      LOG.warn( &quot;Caught CNFE decoding &quot;+ in.length +&quot; bytes of data&quot;, e );\n      throw new RuntimeException( &quot;Caught CNFE decoding data&quot;, e );\n    } catch ( final IOException e ) {\n      LOG.warn( &quot;Caught IOException decoding &quot;+ in.length +&quot; bytes of data&quot;, e );\n      throw new RuntimeException( &quot;Caught IOException decoding data&quot;, e );\n    } finally {\n      closeSilently( bis );\n      closeSilently( ois );\n    }\n  }\n\n  private void fixDeserialization(ObjectInputStream ois) {\n    DelegatingSerializationFilter.builder()\n        .addAllowedPattern(&quot;*&quot;)\n        .setFilter(ois);\n  }\n\n  private void closeSilently( final OutputStream os ) {\n    if ( os != null ) {\n      try {\n        os.close();\n      } catch ( final IOException f ) {\n        // fail silently\n      }\n    }\n  }\n\n  private void closeSilently( final InputStream is ) {\n    if ( is != null ) {\n      try {\n        is.close();\n      } catch ( final IOException f ) {\n        // fail silently\n      }\n    }\n  }\n\n  public static void main(String[] args) throws Exception{\n\n    Person person = new Person(&quot;Sherlock Holmes&quot;,&quot;Consulting detective&quot;);\n    Address address = new Address(&quot;221B Baker Street&quot;);\n    ConcurrentMap&lt;String, Object&gt; attributes = new ConcurrentHashMap&lt;String, Object&gt;();\n    attributes.put(&quot;person&quot;, person);\n    attributes.put(&quot;address&quot;, address);\n\n    SerializationTest test = new SerializationTest();\n    byte[] in = test.serializeAttributes(attributes);\n\n    System.setProperty(&quot;jdk.serialSetFilterAfterRead&quot;, &quot;true&quot;);\n\n    ConcurrentMap&lt;String, Object&gt; attributesAfter = test.deserializeAttributes(in);\n    System.out.println(attributesAfter);\n  }\n}\n</code></pre>\n<p><code>Person</code> and <code>Address</code> two simple POJOs. Pay attention to the definition <code>Person</code> <code>readObject</code> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.io.ObjectInputStream;\nimport java.io.ObjectOutputStream;\nimport java.io.Serializable;\n\npublic class Person implements Serializable {\n\n  private static final long serialVersionUID = 1L;\n\n  String name;\n  String title;\n\n  public Person() {\n  }\n\n  public Person(String name, String title) {\n    this.name = name;\n    this.title = title;\n  }\n\n  private void writeObject(ObjectOutputStream out) throws IOException {\n    out.defaultWriteObject();\n  }\n\n  private void readObject(ObjectInputStream in) throws IOException, ClassNotFoundException {\n    DelegatingSerializationFilter.builder()\n        .addAllowedClass(Person.class)\n        .setFilter(in);\n    in.defaultReadObject();\n  }\n\n  @Override\n  public String toString() {\n    return &quot;Person{&quot; +\n        &quot;name='&quot; + name + '\\'' +\n        &quot;, title='&quot; + title + '\\'' +\n        '}';\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.Serializable;\n\npublic class Address implements Serializable {\n\n  private static final long serialVersionUID = 1L;\n\n  String address;\n\n  public Address() {\n  }\n\n  public Address(String address) {\n    this.address = address;\n  }\n\n  @Override\n  public String toString() {\n    return &quot;Address{&quot; +\n        &quot;address='&quot; + address + '\\'' +\n        '}';\n  }\n}\n</code></pre>\n<p>Please, be aware that the filter is there in order to prevent security flaws: as also suggested in the code comments, it would be advisable to improve the logic implemented in the <code>fixDeserialization</code> to restrict in some way the possible classes that your session is supposed to contain instead of use the wildcard <code>*</code> as in the example.</p>\n<p>In fact, this functionality can be included in the <code>memcached-session-manager</code> library, probably by defining some kind of configuration property, <code>serialFilter</code>, for instance, which value, a valid filter pattern, should be provided to the indicated underlying Java deserialization mechanisms.</p>\n<p>I created a fork of the project: it is still a WIP, but please, see <a href=\"https://github.com/jccampanero/memcached-session-manager/commit/a24a1df7817d2c4e247415f7fb0ad9729534de4a\" rel=\"nofollow noreferrer\">this commit</a>, I hope you get the idea. I will <a href=\"https://github.com/magro/memcached-session-manager/issues/427\" rel=\"nofollow noreferrer\">try to pull a request</a> to the <a href=\"https://github.com/magro/memcached-session-manager/\" rel=\"nofollow noreferrer\">forked repo</a> once finished.</p>\n"},{"tags":[],"owner":{"account_id":254390,"reputation":764,"user_id":533753,"display_name":"Luke"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642778330,"creation_date":1618248338,"answer_id":67062946,"question_id":66583181,"body_markdown":"I know this question is regarding Memcached, but I came here with the exact same error using [Spring Session w/ Hazelcast][1].  I will post what I found in case it helps others.\r\n\r\nBasically, Spring Session Hazelcast 2.4.2 provides `HazelcastSessionSerializer`.  I was previously using 2.3.2 which does not have this class, and defaults to Java serialization, resulting in the &quot;rejected&quot; error when deserializing `DefaultSavedRequest`.\r\n\r\nThe [configuration example][2] includes a few new lines to set this serializer:\r\n\r\n    SerializerConfig serializerConfig = new SerializerConfig();\r\n    serializerConfig.setImplementation(new HazelcastSessionSerializer()).setTypeClass(MapSession.class);\r\n    config.getSerializationConfig().addSerializerConfig(serializerConfig);\r\n\r\nThis resolved the issue for me.\r\n\r\n  [1]: https://spring.io/projects/spring-session-hazelcast\r\n  [2]: https://docs.spring.io/spring-session/docs/2.4.6/reference/html5/#security-spring-configuration","title":"Use serialization filter (ObjectInputerFilter) with Keycloak adapter and Memcached","body":"<p>I know this question is regarding Memcached, but I came here with the exact same error using <a href=\"https://spring.io/projects/spring-session-hazelcast\" rel=\"nofollow noreferrer\">Spring Session w/ Hazelcast</a>.  I will post what I found in case it helps others.</p>\n<p>Basically, Spring Session Hazelcast 2.4.2 provides <code>HazelcastSessionSerializer</code>.  I was previously using 2.3.2 which does not have this class, and defaults to Java serialization, resulting in the &quot;rejected&quot; error when deserializing <code>DefaultSavedRequest</code>.</p>\n<p>The <a href=\"https://docs.spring.io/spring-session/docs/2.4.6/reference/html5/#security-spring-configuration\" rel=\"nofollow noreferrer\">configuration example</a> includes a few new lines to set this serializer:</p>\n<pre><code>SerializerConfig serializerConfig = new SerializerConfig();\nserializerConfig.setImplementation(new HazelcastSessionSerializer()).setTypeClass(MapSession.class);\nconfig.getSerializationConfig().addSerializerConfig(serializerConfig);\n</code></pre>\n<p>This resolved the issue for me.</p>\n"}],"owner":{"account_id":9776751,"reputation":491,"user_id":7246467,"display_name":"f1l2"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2578,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":3,"score":9,"last_activity_date":1642778330,"creation_date":1615468023,"question_id":66583181,"body_markdown":"I&#39;m using Spring Security Keycloak adapter 12.0.1 and Memcached for session replication. When the session is loaded from Memcached, classes from the Keyclaok adapter are deserialized. The read method of the class `KeycloakSecurityContext` contains \r\n\r\n```\r\nDelegatingSerializationFilter.builder()\r\n    .addAllowedClass(KeycloakSecurityContext.class)\r\n    .setFilter(in);\r\n```\r\n\r\n...which sets an `ObjectFilter` for the current `ObjectInputStream`.\r\n\r\nI found out that I have to set the system property `jdk.serialSetFilterAfterRead` to true, otherwise the exception `filter can not be set after an object has been read` is thrown and `DelegatingSerializationFilter` complains that it is not possible to set the object filter. The result is that no object filter is applied at all and the log is spammed with warnings.\r\n\r\nAfter applying `jdk.serialSetFilterAfterRead`, I encountered that the `ObjectInputStream` with the memcached attributes contains further classes that are not set as allowed classes from the `DelegatingSerializationFilter`, e.g.: \r\n\r\n```\r\norg.springframework.security.web.savedrequest.DefaultSavedRequest\r\n```\r\n\r\nThe result is that these classes are rejected during the serialization process. \r\n\r\nSo my question is this: Does anybody know how to configure the object filter so that serialization is working correctly?\r\n\r\n\r\n  ","title":"Use serialization filter (ObjectInputerFilter) with Keycloak adapter and Memcached","body":"<p>I'm using Spring Security Keycloak adapter 12.0.1 and Memcached for session replication. When the session is loaded from Memcached, classes from the Keyclaok adapter are deserialized. The read method of the class <code>KeycloakSecurityContext</code> contains</p>\n<pre><code>DelegatingSerializationFilter.builder()\n    .addAllowedClass(KeycloakSecurityContext.class)\n    .setFilter(in);\n</code></pre>\n<p>...which sets an <code>ObjectFilter</code> for the current <code>ObjectInputStream</code>.</p>\n<p>I found out that I have to set the system property <code>jdk.serialSetFilterAfterRead</code> to true, otherwise the exception <code>filter can not be set after an object has been read</code> is thrown and <code>DelegatingSerializationFilter</code> complains that it is not possible to set the object filter. The result is that no object filter is applied at all and the log is spammed with warnings.</p>\n<p>After applying <code>jdk.serialSetFilterAfterRead</code>, I encountered that the <code>ObjectInputStream</code> with the memcached attributes contains further classes that are not set as allowed classes from the <code>DelegatingSerializationFilter</code>, e.g.:</p>\n<pre><code>org.springframework.security.web.savedrequest.DefaultSavedRequest\n</code></pre>\n<p>The result is that these classes are rejected during the serialization process.</p>\n<p>So my question is this: Does anybody know how to configure the object filter so that serialization is working correctly?</p>\n"},{"tags":["java","android-studio","ubuntu","java-17"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1642782197,"post_id":70803528,"comment_id":125171510,"body_markdown":"Is there a `/home/&lt;user&gt;/.jdks/openjdk-17.0.2/bin/java` and is it an executable file? What happens if you try to run `/home/&lt;user&gt;/.jdks/openjdk-17.0.2/bin/java --version`?","body":"Is there a <code>&#47;home&#47;&lt;user&gt;&#47;.jdks&#47;openjdk-17.0.2&#47;bin&#47;java</code> and is it an executable file? What happens if you try to run <code>&#47;home&#47;&lt;user&gt;&#47;.jdks&#47;openjdk-17.0.2&#47;bin&#47;java --version</code>?"},{"owner":{"account_id":24010968,"reputation":23,"user_id":17994563,"display_name":"yassine ouelhazi"},"score":0,"creation_date":1642789027,"post_id":70803528,"comment_id":125173890,"body_markdown":"yes there is an excutable file called java in /home/&lt;user&gt;/.jdks/openjdk-17.0.2/bin/\nand runing /home/&lt;user&gt;/.jdks/openjdk-17.0.2/bin/java --version dose show the java version","body":"yes there is an excutable file called java in /home/&lt;user&gt;/.jdks/openjdk-17.0.2/bin/ and runing /home/&lt;user&gt;/.jdks/openjdk-17.0.2/bin/java --version dose show the java version"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1643011007,"post_id":70803528,"comment_id":125217022,"body_markdown":"Sounds like a different executable named `java` is in your path. Try `type java`","body":"Sounds like a different executable named <code>java</code> is in your path. Try <code>type java</code>"},{"owner":{"account_id":24010968,"reputation":23,"user_id":17994563,"display_name":"yassine ouelhazi"},"score":0,"creation_date":1643116128,"post_id":70803528,"comment_id":125249520,"body_markdown":"bash: type: java: not found","body":"bash: type: java: not found"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1643119738,"post_id":70803528,"comment_id":125251046,"body_markdown":"You may verify the `PATH` variable using `echo $PATH`. To minimize potential problems, use `PATH=&quot;$PATH:/home/&lt;user&gt;/.jdks/openjdk-17.0.2/bin/&quot;` to set the path. Note that java itself doesn’t care about the `JAVA_HOME` variable. All it takes, is getting to run the executable contained in the JDK, whether via `PATH` or an `alias` or directly using `/path/to/java` doesn’t matter.","body":"You may verify the <code>PATH</code> variable using <code>echo $PATH</code>. To minimize potential problems, use <code>PATH=&quot;$PATH:&#47;home&#47;&lt;user&gt;&#47;.jdks&#47;openjdk-17.0.2&#47;bin&#47;&quot;</code> to set the path. Note that java itself doesn’t care about the <code>JAVA_HOME</code> variable. All it takes, is getting to run the executable contained in the JDK, whether via <code>PATH</code> or an <code>alias</code> or directly using <code>&#47;path&#47;to&#47;java</code> doesn’t matter."}],"owner":{"account_id":24010968,"reputation":23,"user_id":17994563,"display_name":"yassine ouelhazi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":255,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642778142,"creation_date":1642778142,"question_id":70803528,"body_markdown":"i installed android studio on my Ubuntu and it came with java11, then i installed java  from it and set $JAVA_HOME with this 2 commands:\r\n\r\n    export JAVA_HOME=/home/&lt;user&gt;/.jdks/openjdk-17.0.2/ /*location where did android studio installed java17*/\r\n    export PATH=${PATH}:${JAVA_HOME}/bin\r\n    \r\n    echo $JAVA_HOME dose return the given location\r\n\r\nthen typed `bash` into terminal /**as followed in [this post][1]**/\r\n\r\nthen `java --version` return :\r\n\r\n    Command &#39;java&#39; not found, but can be installed with:\r\n    \r\n    sudo apt install openjdk-11-jre-headless  # version 11.0.13+8-0ubuntu1~20.04, or\r\n    sudo apt install default-jre              # version 2:1.11-72\r\n    sudo apt install openjdk-13-jre-headless  # version 13.0.7+5-0ubuntu1~20.04\r\n    sudo apt install openjdk-16-jre-headless  # version 16.0.1+9-1~20.04\r\n    sudo apt install openjdk-17-jre-headless  # version 17.0.1+12-1~20.04\r\n    sudo apt install openjdk-8-jre-headless   # version 8u312-b07-0ubuntu1~20.04\r\n\r\ni restarted the pc and it&#39;s still the same output.\r\n\r\nstill when coding with android studio everything is working properly \r\n\r\n\r\n  [1]: https://askubuntu.com/questions/459900/how-to-find-my-current-java-home-in-ubuntu","title":"java installed from android studio but it&#39;s not accessible","body":"<p>i installed android studio on my Ubuntu and it came with java11, then i installed java  from it and set $JAVA_HOME with this 2 commands:</p>\n<pre><code>export JAVA_HOME=/home/&lt;user&gt;/.jdks/openjdk-17.0.2/ /*location where did android studio installed java17*/\nexport PATH=${PATH}:${JAVA_HOME}/bin\n\necho $JAVA_HOME dose return the given location\n</code></pre>\n<p>then typed <code>bash</code> into terminal /<strong>as followed in <a href=\"https://askubuntu.com/questions/459900/how-to-find-my-current-java-home-in-ubuntu\">this post</a></strong>/</p>\n<p>then <code>java --version</code> return :</p>\n<pre><code>Command 'java' not found, but can be installed with:\n\nsudo apt install openjdk-11-jre-headless  # version 11.0.13+8-0ubuntu1~20.04, or\nsudo apt install default-jre              # version 2:1.11-72\nsudo apt install openjdk-13-jre-headless  # version 13.0.7+5-0ubuntu1~20.04\nsudo apt install openjdk-16-jre-headless  # version 16.0.1+9-1~20.04\nsudo apt install openjdk-17-jre-headless  # version 17.0.1+12-1~20.04\nsudo apt install openjdk-8-jre-headless   # version 8u312-b07-0ubuntu1~20.04\n</code></pre>\n<p>i restarted the pc and it's still the same output.</p>\n<p>still when coding with android studio everything is working properly</p>\n"},{"tags":["java","maven","weblogic","mojo"],"answers":[{"tags":[],"owner":{"account_id":22619610,"reputation":61,"user_id":16798634,"display_name":"Jijo John"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642778050,"creation_date":1642778050,"answer_id":70803510,"question_id":69593733,"body_markdown":"I was able to fix this using WLST scripts and then push the data to cloudwatch using put metric data instead of exporter.","title":"Need jar for WebLogic exporter &quot;https://github.com/oracle/weblogic-monitoring-exporter#Configuration&quot;","body":"<p>I was able to fix this using WLST scripts and then push the data to cloudwatch using put metric data instead of exporter.</p>\n"}],"owner":{"account_id":22619610,"reputation":61,"user_id":16798634,"display_name":"Jijo John"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70803510,"answer_count":1,"score":0,"last_activity_date":1642778050,"creation_date":1634370799,"question_id":69593733,"body_markdown":"Can you please help me to get the jar file for WebLogic exporter &quot;https://github.com/oracle/weblogic-monitoring-exporter#Configuration&quot; . I am new to java packaging and tried many times with maven install command it is giving plugin missing error. Can you please help me with the jar file or steps \r\n\r\nCompile with java 7 or above\r\n\r\nError \r\n\r\n    [INFO] --- maven-surefire-plugin:3.0.0-M5:test (default-test) @ wls-exporter-core ---\r\n    Oct 16, 2021 7:34:54 AM org.sonatype.guice.bean.reflect.Logs$JULSink warn\r\n    WARNING: Error injecting: org.apache.maven.plugin.surefire.SurefirePlugin\r\n    com.google.inject.ProvisionException: Guice provision errors:\r\n    \r\n    1) No implementation for org.codehaus.plexus.languages.java.jpms.LocationManager was bound.\r\n      while locating org.apache.maven.plugin.surefire.SurefirePlugin\r\n    \r\n    1 error\r\n            at com.google.inject.internal.InjectorImpl$2.get(InjectorImpl.java:1006)\r\n            at com.google.inject.internal.InjectorImpl.getInstance(InjectorImpl.java:1032)\r\n            at org.sonatype.guice.bean.reflect.AbstractDeferredClass.get(AbstractDeferredClass.java:45)\r\n            at com.google.inject.internal.ProviderInternalFactory.provision(ProviderInternalFactory.java:86)\r\n            at com.google.inject.internal.InternalFactoryToInitializableAdapter.provision(InternalFactoryToInitializableAdapter.java:55)\r\n            at com.google.inject.internal.ProviderInternalFactory$1.call(ProviderInternalFactory.java:70)\r\n            at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision(ProvisionListenerStackCallback.java:100)\r\n            at org.sonatype.guice.plexus.lifecycles.PlexusLifecycleManager.onProvision(PlexusLifecycleManager.java:138)\r\n            at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision(ProvisionListenerStackCallback.java:109)\r\n            at com.google.inject.internal.ProvisionListenerStackCallback.provision(ProvisionListenerStackCallback.java:55)\r\n            at com.google.inject.internal.ProviderInternalFactory.circularGet(ProviderInternalFactory.java:68)\r\n            at com.google.inject.internal.InternalFactoryToInitializableAdapter.get(InternalFactoryToInitializableAdapter.java:47)\r\n            at com.google.inject.internal.InjectorImpl$2$1.call(InjectorImpl.java:997)\r\n            at com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1047)\r\n            at com.google.inject.internal.InjectorImpl$2.get(InjectorImpl.java:993)\r\n            at com.google.inject.Scopes$1$1.get(Scopes.java:59)\r\n            at org.sonatype.guice.bean.locators.LazyBeanEntry.getValue(LazyBeanEntry.java:83)\r\n            at org.sonatype.guice.plexus.locators.LazyPlexusBean.getValue(LazyPlexusBean.java:49)\r\n            at org.codehaus.plexus.DefaultPlexusContainer.lookup(DefaultPlexusContainer.java:253)\r\n            at org.codehaus.plexus.DefaultPlexusContainer.lookup(DefaultPlexusContainer.java:245)\r\n            at org.apache.maven.plugin.internal.DefaultMavenPluginManager.getConfiguredMojo(DefaultMavenPluginManager.java:455)\r\n            at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:92)\r\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:209)\r\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\r\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\r\n            at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)\r\n            at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)\r\n            at org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183)\r\n            at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161)\r\n            at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:320)\r\n            at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)\r\n            at org.apache.maven.cli.MavenCli.execute(MavenCli.java:537)\r\n            at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196)\r\n            at org.apache.maven.cli.MavenCli.main(MavenCli.java:141)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke(Method.java:498)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:414)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:357)\r\n    \r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 7.410s\r\n    [INFO] Finished at: Sat Oct 16 07:34:54 UTC 2021\r\n    [INFO] Final Memory: 21M/154M\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M5:test (default-test) on project wls-exporter-core: Execution default-test of goal org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M5:test failed: Unable to load the mojo &#39;test&#39; (or one of its required components) from the plugin &#39;org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M5&#39;: com.google.inject.ProvisionException: Guice provision errors:\r\n    [ERROR]\r\n    [ERROR] 1) No implementation for org.codehaus.plexus.languages.java.jpms.LocationManager was bound.\r\n    [ERROR] while locating org.apache.maven.plugin.surefire.SurefirePlugin\r\n    [ERROR] at ClassRealm[plugin&gt;org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M5, parent: sun.misc.Launcher$AppClassLoader@7852e922]\r\n    [ERROR] while locating org.apache.maven.plugin.Mojo annotated with @com.google.inject.name.Named(value=org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M5:test)\r\n    [ERROR]\r\n    [ERROR] 1 error\r\n    [ERROR] role: org.apache.maven.plugin.Mojo\r\n    [ERROR] roleHint: org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M5:test\r\n\r\n","title":"Need jar for WebLogic exporter &quot;https://github.com/oracle/weblogic-monitoring-exporter#Configuration&quot;","body":"<p>Can you please help me to get the jar file for WebLogic exporter &quot;https://github.com/oracle/weblogic-monitoring-exporter#Configuration&quot; . I am new to java packaging and tried many times with maven install command it is giving plugin missing error. Can you please help me with the jar file or steps</p>\n<p>Compile with java 7 or above</p>\n<p>Error</p>\n<pre><code>[INFO] --- maven-surefire-plugin:3.0.0-M5:test (default-test) @ wls-exporter-core ---\nOct 16, 2021 7:34:54 AM org.sonatype.guice.bean.reflect.Logs$JULSink warn\nWARNING: Error injecting: org.apache.maven.plugin.surefire.SurefirePlugin\ncom.google.inject.ProvisionException: Guice provision errors:\n\n1) No implementation for org.codehaus.plexus.languages.java.jpms.LocationManager was bound.\n  while locating org.apache.maven.plugin.surefire.SurefirePlugin\n\n1 error\n        at com.google.inject.internal.InjectorImpl$2.get(InjectorImpl.java:1006)\n        at com.google.inject.internal.InjectorImpl.getInstance(InjectorImpl.java:1032)\n        at org.sonatype.guice.bean.reflect.AbstractDeferredClass.get(AbstractDeferredClass.java:45)\n        at com.google.inject.internal.ProviderInternalFactory.provision(ProviderInternalFactory.java:86)\n        at com.google.inject.internal.InternalFactoryToInitializableAdapter.provision(InternalFactoryToInitializableAdapter.java:55)\n        at com.google.inject.internal.ProviderInternalFactory$1.call(ProviderInternalFactory.java:70)\n        at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision(ProvisionListenerStackCallback.java:100)\n        at org.sonatype.guice.plexus.lifecycles.PlexusLifecycleManager.onProvision(PlexusLifecycleManager.java:138)\n        at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision(ProvisionListenerStackCallback.java:109)\n        at com.google.inject.internal.ProvisionListenerStackCallback.provision(ProvisionListenerStackCallback.java:55)\n        at com.google.inject.internal.ProviderInternalFactory.circularGet(ProviderInternalFactory.java:68)\n        at com.google.inject.internal.InternalFactoryToInitializableAdapter.get(InternalFactoryToInitializableAdapter.java:47)\n        at com.google.inject.internal.InjectorImpl$2$1.call(InjectorImpl.java:997)\n        at com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1047)\n        at com.google.inject.internal.InjectorImpl$2.get(InjectorImpl.java:993)\n        at com.google.inject.Scopes$1$1.get(Scopes.java:59)\n        at org.sonatype.guice.bean.locators.LazyBeanEntry.getValue(LazyBeanEntry.java:83)\n        at org.sonatype.guice.plexus.locators.LazyPlexusBean.getValue(LazyPlexusBean.java:49)\n        at org.codehaus.plexus.DefaultPlexusContainer.lookup(DefaultPlexusContainer.java:253)\n        at org.codehaus.plexus.DefaultPlexusContainer.lookup(DefaultPlexusContainer.java:245)\n        at org.apache.maven.plugin.internal.DefaultMavenPluginManager.getConfiguredMojo(DefaultMavenPluginManager.java:455)\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:92)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:209)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183)\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161)\n        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:320)\n        at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)\n        at org.apache.maven.cli.MavenCli.execute(MavenCli.java:537)\n        at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196)\n        at org.apache.maven.cli.MavenCli.main(MavenCli.java:141)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:414)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:357)\n\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 7.410s\n[INFO] Finished at: Sat Oct 16 07:34:54 UTC 2021\n[INFO] Final Memory: 21M/154M\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M5:test (default-test) on project wls-exporter-core: Execution default-test of goal org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M5:test failed: Unable to load the mojo 'test' (or one of its required components) from the plugin 'org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M5': com.google.inject.ProvisionException: Guice provision errors:\n[ERROR]\n[ERROR] 1) No implementation for org.codehaus.plexus.languages.java.jpms.LocationManager was bound.\n[ERROR] while locating org.apache.maven.plugin.surefire.SurefirePlugin\n[ERROR] at ClassRealm[plugin&gt;org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M5, parent: sun.misc.Launcher$AppClassLoader@7852e922]\n[ERROR] while locating org.apache.maven.plugin.Mojo annotated with @com.google.inject.name.Named(value=org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M5:test)\n[ERROR]\n[ERROR] 1 error\n[ERROR] role: org.apache.maven.plugin.Mojo\n[ERROR] roleHint: org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M5:test\n</code></pre>\n"},{"tags":["java","security","sockets","permissions"],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1304521964,"creation_date":1304521964,"answer_id":5885677,"question_id":5885648,"body_markdown":"Applets may not connect to any host except the one they were loaded from (due to security reasons).\r\n\r\nIf you want to do that anyway, you must sign your applet.","title":"Java Socket permission : applet isn&#39;t initialized","body":"<p>Applets may not connect to any host except the one they were loaded from (due to security reasons).</p>\n\n<p>If you want to do that anyway, you must sign your applet.</p>\n"},{"tags":[],"owner":{"account_id":373125,"reputation":2393,"user_id":722565,"accept_rate":100,"display_name":"Vern"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1304522070,"creation_date":1304522070,"answer_id":5885698,"question_id":5885648,"body_markdown":"This is a security issue that does not let you create a connection from within an applet. Applets in general are not allowed to open socket connections.\r\n\r\nTo be more specific, you can only open connections to the server that served the applet.","title":"Java Socket permission : applet isn&#39;t initialized","body":"<p>This is a security issue that does not let you create a connection from within an applet. Applets in general are not allowed to open socket connections.</p>\n\n<p>To be more specific, you can only open connections to the server that served the applet.</p>\n"}],"owner":{"account_id":335063,"reputation":21,"user_id":661921,"display_name":"user661921"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1349,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1642778043,"creation_date":1304521869,"question_id":5885648,"body_markdown":"Following is the part of my error. Because of this error my applet isn&#39;t initialized. The following code is part of the init() method:\r\n\r\n```java\r\n    Socket sock;\r\n    try {\r\n        sock = new Socket(&quot;localhost&quot;, 1307);\r\n        out = new PrintWriter(sock.getOutputStream(), true);\r\n        in = new BufferedReader(new InputStreamReader(sock.getInputStream()));\r\n    }\r\n    catch (UnknownHostException e) { }\r\n    catch (IOException e) { }\r\n```\r\n\t\r\n\r\nI m getting the following error:\r\n\r\n```log\r\njava.security.AccessControlException: access denied (java.net.SocketPermission 1\r\n127.0.0.1 resolve)\r\n        at java.security.AccessControlContext.checkPermission(AccessControlConte\r\nxt.java:323)\r\n        at java.security.AccessController.checkPermission(AccessController.java:\r\n546)\r\n        at java.lang.SecurityManager.checkPermission(SecurityManager.java:532)\r\n        at java.lang.SecurityManager.checkConnect(SecurityManager.java:1031)\r\n        at java.net.InetAddress.getAllByName0(InetAddress.java:1145)\r\n        at java.net.InetAddress.getAllByName(InetAddress.java:1083)\r\n        at java.net.InetAddress.getAllByName(InetAddress.java:1019)\r\n        at java.net.InetAddress.getByName(InetAddress.java:969)\r\n        at java.net.InetSocketAddress.&lt;init&gt;(InetSocketAddress.java:124)\r\n        at java.net.Socket.&lt;init&gt;(Socket.java:186)\r\n        at Alice.init(Alice.java:103)\r\n        at sun.applet.AppletPanel.run(AppletPanel.java:424)\r\n        at java.lang.Thread.run(Thread.java:619)\r\n```\r\n\r\nI am running another program on another JVM. I am trying to connect both using 1307 port on localhost.","title":"Java Socket permission : applet isn&#39;t initialized","body":"<p>Following is the part of my error. Because of this error my applet isn't initialized. The following code is part of the init() method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    Socket sock;\n    try {\n        sock = new Socket(&quot;localhost&quot;, 1307);\n        out = new PrintWriter(sock.getOutputStream(), true);\n        in = new BufferedReader(new InputStreamReader(sock.getInputStream()));\n    }\n    catch (UnknownHostException e) { }\n    catch (IOException e) { }\n</code></pre>\n<p>I m getting the following error:</p>\n<pre><code>java.security.AccessControlException: access denied (java.net.SocketPermission 1\n127.0.0.1 resolve)\n        at java.security.AccessControlContext.checkPermission(AccessControlConte\nxt.java:323)\n        at java.security.AccessController.checkPermission(AccessController.java:\n546)\n        at java.lang.SecurityManager.checkPermission(SecurityManager.java:532)\n        at java.lang.SecurityManager.checkConnect(SecurityManager.java:1031)\n        at java.net.InetAddress.getAllByName0(InetAddress.java:1145)\n        at java.net.InetAddress.getAllByName(InetAddress.java:1083)\n        at java.net.InetAddress.getAllByName(InetAddress.java:1019)\n        at java.net.InetAddress.getByName(InetAddress.java:969)\n        at java.net.InetSocketAddress.&lt;init&gt;(InetSocketAddress.java:124)\n        at java.net.Socket.&lt;init&gt;(Socket.java:186)\n        at Alice.init(Alice.java:103)\n        at sun.applet.AppletPanel.run(AppletPanel.java:424)\n        at java.lang.Thread.run(Thread.java:619)\n</code></pre>\n<p>I am running another program on another JVM. I am trying to connect both using 1307 port on localhost.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":23756622,"reputation":92,"user_id":17772674,"display_name":"lakimapturn"},"score":0,"creation_date":1642694422,"post_id":70789363,"comment_id":125144802,"body_markdown":"Could you add an image of your WebController file as well please?","body":"Could you add an image of your WebController file as well please?"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1643490017,"post_id":70789363,"comment_id":125355470,"body_markdown":"You may want to read [ask]. Summary: better title, better description, code to show the problem ([mcve]).","body":"You may want to read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>. Summary: better title, better description, code to show the problem (<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>)."}],"answers":[{"tags":[],"owner":{"account_id":24000983,"reputation":11,"user_id":17985903,"display_name":"Nerale"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642695400,"creation_date":1642695400,"answer_id":70789709,"question_id":70789363,"body_markdown":"Problem is solved! I added this to application.properties\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    spring.thymeleaf.prefix=classpath:/static/\r\n    spring.thymeleaf.suffix=.html\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"I&#39;ve some troubles with showing index.html","body":"<p>Problem is solved! I added this to application.properties</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>spring.thymeleaf.prefix=classpath:/static/\nspring.thymeleaf.suffix=.html</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":24000983,"reputation":11,"user_id":17985903,"display_name":"Nerale"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1642777995,"creation_date":1642694090,"question_id":70789363,"body_markdown":"i&#39;ve got some troubles with showing index.html. application.properties is empty. Spring boot v2.6.2, java 11, html 5.\r\n\r\nupd1: i&#39;m getting this stacktrace.\r\n\r\n\r\n    There was an unexpected error (type=Internal Server Error, status=500).\r\n    Error resolving template [index], template might not exist or might not be accessible by any of the configured Template Resolvers\r\n    org.thymeleaf.exceptions.TemplateInputException: Error resolving template [index], template might not exist or might not be accessible by any of the configured Template Resolvers\r\n    \tat org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869)\r\n    \tat org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607)\r\n    \tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)\r\n    \tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072)\r\n    \tat org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:366)\r\n    \tat org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:190)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1401)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1145)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1084)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:829)\r\n\r\n\r\n\r\n[enter image description here][1]\r\n[enter image description here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/me5xz.png\r\n  [2]: https://i.stack.imgur.com/1QXwZ.png","title":"I&#39;ve some troubles with showing index.html","body":"<p>i've got some troubles with showing index.html. application.properties is empty. Spring boot v2.6.2, java 11, html 5.</p>\n<p>upd1: i'm getting this stacktrace.</p>\n<pre><code>There was an unexpected error (type=Internal Server Error, status=500).\nError resolving template [index], template might not exist or might not be accessible by any of the configured Template Resolvers\norg.thymeleaf.exceptions.TemplateInputException: Error resolving template [index], template might not exist or might not be accessible by any of the configured Template Resolvers\n    at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869)\n    at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607)\n    at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)\n    at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072)\n    at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:366)\n    at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:190)\n    at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1401)\n    at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1145)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1084)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/me5xz.png\" rel=\"nofollow noreferrer\">enter image description here</a>\n<a href=\"https://i.stack.imgur.com/1QXwZ.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3078431,"reputation":13299,"user_id":2607240,"accept_rate":67,"display_name":"Eric Stein"},"score":4,"creation_date":1400087854,"post_id":23661085,"comment_id":36344216,"body_markdown":"What is it doing? What do you expect it to do?","body":"What is it doing? What do you expect it to do?"},{"owner":{"account_id":2788184,"reputation":11285,"user_id":2399024,"accept_rate":90,"display_name":"donfuxx"},"score":0,"creation_date":1400087877,"post_id":23661085,"comment_id":36344227,"body_markdown":"and what is `friend_requests` ?","body":"and what is <code>friend_requests</code> ?"},{"owner":{"account_id":3175510,"reputation":2055,"user_id":2683501,"accept_rate":82,"display_name":"pL4Gu33"},"score":0,"creation_date":1400087924,"post_id":23661085,"comment_id":36344262,"body_markdown":"i think you should use a normal for- loop for it...","body":"i think you should use a normal for- loop for it..."},{"owner":{"account_id":1781636,"reputation":7670,"user_id":1624202,"accept_rate":61,"display_name":"Cruncher"},"score":2,"creation_date":1400088026,"post_id":23661085,"comment_id":36344345,"body_markdown":"This is java, `get_usernames` should be `getUsernames`. `Single_FR` should be `SingleFR` (although you may just want to rename this to `FriendRequest`. and `friend_requests` should be `friendRequests`.","body":"This is java, <code>get_usernames</code> should be <code>getUsernames</code>. <code>Single_FR</code> should be <code>SingleFR</code> (although you may just want to rename this to <code>FriendRequest</code>. and <code>friend_requests</code> should be <code>friendRequests</code>."}],"answers":[{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1400087871,"creation_date":1400087871,"answer_id":23661111,"question_id":23661085,"body_markdown":"array index starts from `0` \r\n\r\nand you started from `1`, so it would lead to `ArrayIndexOutOfBoundException`","title":"IndexOutOfBoundException when creating an Array from a List","body":"<p>array index starts from <code>0</code> </p>\n\n<p>and you started from <code>1</code>, so it would lead to <code>ArrayIndexOutOfBoundException</code></p>\n"},{"tags":[],"owner":{"account_id":378959,"reputation":19465,"user_id":834316,"accept_rate":82,"display_name":"PNS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1400087947,"creation_date":1400087947,"answer_id":23661133,"question_id":23661085,"body_markdown":"The code will throw an `ArrayIndexOutOfBoundsException` for the last element.\r\n\r\nChange the statement\r\n\r\n`i = 1`\r\n\r\ninto\r\n\r\n`i = 0`;\r\n\r\nand the issue should be fixed. Array indices start from `0`, not from `1`.","title":"IndexOutOfBoundException when creating an Array from a List","body":"<p>The code will throw an <code>ArrayIndexOutOfBoundsException</code> for the last element.</p>\n\n<p>Change the statement</p>\n\n<p><code>i = 1</code></p>\n\n<p>into</p>\n\n<p><code>i = 0</code>;</p>\n\n<p>and the issue should be fixed. Array indices start from <code>0</code>, not from <code>1</code>.</p>\n"},{"tags":[],"owner":{"account_id":2305423,"reputation":777,"user_id":2024799,"accept_rate":50,"display_name":"Pradeep Kumar"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1642777979,"creation_date":1400087959,"answer_id":23661139,"question_id":23661085,"body_markdown":"Use this.\r\nThere arrays have index started from zero.\r\nThere will be ArrayIndexOutOfBound\r\n\r\n    public  String [] getUsernames(){\r\n        String[] usernames = new String [this.friendRequests.size()];\r\n    \r\n        int i = 0;\r\n        for (FriendRequest  fr:  this.friendRequests){\r\n            usernames[i] = fr.getUsername();\r\n            i++;\r\n        }\r\n    \r\n        return usernames;\r\n    }","title":"IndexOutOfBoundException when creating an Array from a List","body":"<p>Use this.\nThere arrays have index started from zero.\nThere will be ArrayIndexOutOfBound</p>\n<pre><code>public  String [] getUsernames(){\n    String[] usernames = new String [this.friendRequests.size()];\n\n    int i = 0;\n    for (FriendRequest  fr:  this.friendRequests){\n        usernames[i] = fr.getUsername();\n        i++;\n    }\n\n    return usernames;\n}\n</code></pre>\n"}],"owner":{"account_id":4286100,"reputation":4815,"user_id":3503855,"accept_rate":100,"display_name":"Anis LOUNIS aka AnixPasBesoin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":10,"up_vote_count":4,"closed_date":1400092436,"accepted_answer_id":23661111,"answer_count":3,"score":-6,"last_activity_date":1642777979,"creation_date":1400087789,"question_id":23661085,"body_markdown":"I have this method that returns a `List` of usernames, and for some reason it is throwing an `indexOutOfBoundException`.\r\n\r\n    public  String [] getUsernames(){\r\n\t\tString[] usernames = new String [friendRequests.size()];\r\n\t\tint i = 1;\r\n\t\tfor (FriendRequest  friendRequest:  this.friendRequests){\r\n\t\t\tusernames[i]= friendRequest.getUsername();\r\n\t\t\ti++;\r\n\t\t}\r\n\t\treturn usernames;\r\n\t}\r\n\r\n","title":"IndexOutOfBoundException when creating an Array from a List","body":"<p>I have this method that returns a <code>List</code> of usernames, and for some reason it is throwing an <code>indexOutOfBoundException</code>.</p>\n\n<pre><code>public  String [] getUsernames(){\n    String[] usernames = new String [friendRequests.size()];\n    int i = 1;\n    for (FriendRequest  friendRequest:  this.friendRequests){\n        usernames[i]= friendRequest.getUsername();\n        i++;\n    }\n    return usernames;\n}\n</code></pre>\n"},{"tags":["java","spring","spring-webflux"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1627066037,"post_id":68501690,"comment_id":121066890,"body_markdown":"You can use `flatMapMany` to convert the mono into a flux and then do the merge. It depends on what you have in your Mono, and what you want in the end, a Flux?","body":"You can use <code>flatMapMany</code> to convert the mono into a flux and then do the merge. It depends on what you have in your Mono, and what you want in the end, a Flux?"},{"owner":{"account_id":19680795,"reputation":33,"user_id":14407961,"display_name":"ichbintobias2"},"score":0,"creation_date":1627284378,"post_id":68501690,"comment_id":121104982,"body_markdown":"@Toerktumlare I have a Mono of a certain type, ExtendedResourceModel in my case. Now I would like to get a Flux of the exact same type. I tried using `flatMapMany`on my Mono and it does seem to be what I need, except I do not want to actually map the object as the type is already correct. I will try using `null`as mapper function here. When I merge both Fluxes now I get `Flux&lt;Object&gt;`as the return type. Why is that?","body":"@Toerktumlare I have a Mono of a certain type, ExtendedResourceModel in my case. Now I would like to get a Flux of the exact same type. I tried using <code>flatMapMany</code>on my Mono and it does seem to be what I need, except I do not want to actually map the object as the type is already correct. I will try using <code>null</code>as mapper function here. When I merge both Fluxes now I get <code>Flux&lt;Object&gt;</code>as the return type. Why is that?"},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1627287012,"post_id":68501690,"comment_id":121105934,"body_markdown":"Please dont write in the comment, update your question to be more clear on your intentions. Stack overflow is not a forum, its a Q&amp;A site. Null is not allowed in reactive streams. This is covered in the reactor getting started section of the reference documentation.","body":"Please dont write in the comment, update your question to be more clear on your intentions. Stack overflow is not a forum, its a Q&amp;A site. Null is not allowed in reactive streams. This is covered in the reactor getting started section of the reference documentation."},{"owner":{"account_id":19680795,"reputation":33,"user_id":14407961,"display_name":"ichbintobias2"},"score":0,"creation_date":1627301520,"post_id":68501690,"comment_id":121111362,"body_markdown":"You seemed to need clarification so I just wanted to answer your question and did so in a comment to get you notified. The original post already states what I would like to have in the end (quote: _notice that it does not return Flux&lt;T&gt; **as I would need it**_).","body":"You seemed to need clarification so I just wanted to answer your question and did so in a comment to get you notified. The original post already states what I would like to have in the end (quote: <i>notice that it does not return Flux&lt;T&gt; <b>as I would need it</b></i>)."}],"answers":[{"tags":[],"owner":{"account_id":14000619,"reputation":1,"user_id":12343483,"display_name":"IlusCode"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1627072357,"creation_date":1627061020,"answer_id":68503007,"question_id":68501690,"body_markdown":"It is not possible to do, if you need to do that you can convert your Flux to mono\r\n\r\n\r\nMono&lt;T&gt; monoToFlux = flux.collectList();\r\n\r\nMono&lt;T&gt; mono;\r\n\r\nMono.zip (mono, monoToFlux).flatmap(tuple -&gt; {\r\n    ... more code ...\r\n})","title":"Spring WebFlux: Merge Mono and Flux / Put Mono into Flux?","body":"<p>It is not possible to do, if you need to do that you can convert your Flux to mono</p>\n<p>Mono monoToFlux = flux.collectList();</p>\n<p>Mono mono;</p>\n<p>Mono.zip (mono, monoToFlux).flatmap(tuple -&gt; {\n... more code ...\n})</p>\n"},{"tags":[],"owner":{"account_id":19680795,"reputation":33,"user_id":14407961,"display_name":"ichbintobias2"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642777766,"creation_date":1642777766,"answer_id":70803448,"question_id":68501690,"body_markdown":"This is what I ended up doing:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AnTLg.png\r\n\r\nI have the method return a Flux of the desired type which in my case was an &#39;ExtendedResourceModel&#39;. I create a Mono of this type which gets initialized by another method that I commented out to keep this answer as concise as possible. If a certain condition is met I want to also use a Flux from a different source so I use &#39;Flux.concat()&#39; to put all elements into a single Flux. The &#39;concat&#39;-method works by subscribing to the first argument, letting it finish, subscribing to the second one and so on.\r\nIn case of my condition not being met I just use &#39;concat&#39; again but this time with only the Mono which will put the Mono&#39;s element into a new Flux. This way both cases have the same return type.","title":"Spring WebFlux: Merge Mono and Flux / Put Mono into Flux?","body":"<p>This is what I ended up doing:\n<a href=\"https://i.stack.imgur.com/AnTLg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AnTLg.png\" alt=\"enter image description here\" /></a></p>\n<p>I have the method return a Flux of the desired type which in my case was an 'ExtendedResourceModel'. I create a Mono of this type which gets initialized by another method that I commented out to keep this answer as concise as possible. If a certain condition is met I want to also use a Flux from a different source so I use 'Flux.concat()' to put all elements into a single Flux. The 'concat'-method works by subscribing to the first argument, letting it finish, subscribing to the second one and so on.\nIn case of my condition not being met I just use 'concat' again but this time with only the Mono which will put the Mono's element into a new Flux. This way both cases have the same return type.</p>\n"}],"owner":{"account_id":19680795,"reputation":33,"user_id":14407961,"display_name":"ichbintobias2"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1981,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70803448,"answer_count":2,"score":-1,"last_activity_date":1642777766,"creation_date":1627054530,"question_id":68501690,"body_markdown":"I&#39;m wondering if it is possible to put the value of a ```Mono``` as a value into a ```Flux``` just like you could append any object to a list. I know there are some methods you could use but none of them fulfills my exact purpose. What I tried so far:\r\n\r\n```\r\nFlux&lt;T&gt; flux;\r\nMono&lt;T&gt; mono;\r\nFlux.merge(flux, mono); // &lt;- returns Flux&lt;Object&gt;\r\n```\r\nThis doesn&#39;t sound too bad but notice that it does not return ```Flux&lt;T&gt;``` as I would need it but ```Flux&lt;Object&gt;```. Same with ```Flux.concat(flux, mono);```. The method ```Flux.zip(flux, mono);``` would stop merging as soon as the Mono completes as far as I understand.\r\n\r\nHas somebody a solution for this?\r\n","title":"Spring WebFlux: Merge Mono and Flux / Put Mono into Flux?","body":"<p>I'm wondering if it is possible to put the value of a <code>Mono</code> as a value into a <code>Flux</code> just like you could append any object to a list. I know there are some methods you could use but none of them fulfills my exact purpose. What I tried so far:</p>\n<pre><code>Flux&lt;T&gt; flux;\nMono&lt;T&gt; mono;\nFlux.merge(flux, mono); // &lt;- returns Flux&lt;Object&gt;\n</code></pre>\n<p>This doesn't sound too bad but notice that it does not return <code>Flux&lt;T&gt;</code> as I would need it but <code>Flux&lt;Object&gt;</code>. Same with <code>Flux.concat(flux, mono);</code>. The method <code>Flux.zip(flux, mono);</code> would stop merging as soon as the Mono completes as far as I understand.</p>\n<p>Has somebody a solution for this?</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":1,"creation_date":1532594646,"post_id":51534559,"comment_id":90036832,"body_markdown":"Sample input List and the expected output would help a lot.","body":"Sample input List and the expected output would help a lot."},{"owner":{"account_id":8468157,"reputation":6871,"user_id":6351733,"accept_rate":22,"display_name":"Maurice"},"score":1,"creation_date":1532595362,"post_id":51534559,"comment_id":90037301,"body_markdown":"ive explained further, please view the edit","body":"ive explained further, please view the edit"}],"answers":[{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1532598724,"creation_date":1532595669,"answer_id":51534942,"question_id":51534559,"body_markdown":"If I understood you correctly:\r\n\r\n\r\n    List&lt;VegetableMaker&gt; dbObjects = List.of(\r\n                new VegetableMaker(&quot;Salad&quot;, List.of(&quot;Onion&quot;, &quot;Cucumber&quot;)),\r\n                new VegetableMaker(&quot;Italian Salad&quot;, List.of(&quot;Cheese&quot;)),\r\n                new VegetableMaker(&quot;Greek Salad&quot;, List.of(&quot;Onion&quot;)));\r\n\r\n        Map&lt;String, List&lt;VegetableMaker&gt;&gt; map = dbObjects.stream()\r\n                .flatMap(x -&gt; x.getVegetableList().stream().map(y -&gt; new SimpleEntry&lt;&gt;(x, y)))\r\n                .collect(Collectors.groupingBy(\r\n                        Entry::getValue,\r\n                        Collectors.mapping(Entry::getKey, Collectors.toList())));\r\n\r\n        System.out.println(map); \r\n\r\nResulting being something like:\r\n\r\n    {Onion=[Salad, Greek Salad], Cheese=[Italian Salad], Cucumber=[Salad]}\r\n\r\n\r\n**EDIT**\r\n\r\nThis is not much different than what I posted above:\r\n\r\n\r\n    Map&lt;String, Set&lt;VegetableMaker&gt;&gt; result = vegetableMakerList.stream()\r\n                .flatMap(x -&gt; x.getKeywords().stream().distinct().map(y -&gt; new SimpleEntry&lt;&gt;(x, y)))\r\n                .collect(Collectors.groupingBy(\r\n                        Entry::getValue,\r\n                        Collectors.mapping(Entry::getKey, Collectors.toSet())));","title":"How do i group by the contents of a string list using collect() of a Stream?","body":"<p>If I understood you correctly:</p>\n\n<pre><code>List&lt;VegetableMaker&gt; dbObjects = List.of(\n            new VegetableMaker(\"Salad\", List.of(\"Onion\", \"Cucumber\")),\n            new VegetableMaker(\"Italian Salad\", List.of(\"Cheese\")),\n            new VegetableMaker(\"Greek Salad\", List.of(\"Onion\")));\n\n    Map&lt;String, List&lt;VegetableMaker&gt;&gt; map = dbObjects.stream()\n            .flatMap(x -&gt; x.getVegetableList().stream().map(y -&gt; new SimpleEntry&lt;&gt;(x, y)))\n            .collect(Collectors.groupingBy(\n                    Entry::getValue,\n                    Collectors.mapping(Entry::getKey, Collectors.toList())));\n\n    System.out.println(map); \n</code></pre>\n\n<p>Resulting being something like:</p>\n\n<pre><code>{Onion=[Salad, Greek Salad], Cheese=[Italian Salad], Cucumber=[Salad]}\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>This is not much different than what I posted above:</p>\n\n<pre><code>Map&lt;String, Set&lt;VegetableMaker&gt;&gt; result = vegetableMakerList.stream()\n            .flatMap(x -&gt; x.getKeywords().stream().distinct().map(y -&gt; new SimpleEntry&lt;&gt;(x, y)))\n            .collect(Collectors.groupingBy(\n                    Entry::getValue,\n                    Collectors.mapping(Entry::getKey, Collectors.toSet())));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3947162,"reputation":1117,"user_id":6181666,"accept_rate":67,"display_name":"marsouf"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1532622219,"creation_date":1532622219,"answer_id":51543488,"question_id":51534559,"body_markdown":"    final Set&lt;VegetableMaker&gt; vegetableMakers = vegetableMakerDao.findAll();\r\n    \r\n    final Map&lt;String, Set&lt;VegetableMaker&gt;&gt; vegetableMakersContainingKeywordInTheirList = vegetableMakers.stream()\r\n        .map(VegetableMaker::getKeywords)\r\n        .flatMap(Collection::stream)\r\n        .distinct()\r\n        .collect(Collectors.toMap(\r\n            Function.identity(),\r\n            vegetable -&gt; vegetableMakers.stream()\r\n              .filter(vegetableMaker -&gt; vegetableMaker.getKeywords().contains(vegetable))\r\n              .collect(Collectors.toSet())\r\n        ));","title":"How do i group by the contents of a string list using collect() of a Stream?","body":"<pre><code>final Set&lt;VegetableMaker&gt; vegetableMakers = vegetableMakerDao.findAll();\n\nfinal Map&lt;String, Set&lt;VegetableMaker&gt;&gt; vegetableMakersContainingKeywordInTheirList = vegetableMakers.stream()\n    .map(VegetableMaker::getKeywords)\n    .flatMap(Collection::stream)\n    .distinct()\n    .collect(Collectors.toMap(\n        Function.identity(),\n        vegetable -&gt; vegetableMakers.stream()\n          .filter(vegetableMaker -&gt; vegetableMaker.getKeywords().contains(vegetable))\n          .collect(Collectors.toSet())\n    ));\n</code></pre>\n"}],"owner":{"account_id":8468157,"reputation":6871,"user_id":6351733,"accept_rate":22,"display_name":"Maurice"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":834,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":51534942,"answer_count":2,"score":1,"last_activity_date":1642777286,"creation_date":1532594384,"question_id":51534559,"body_markdown":"I have a database object that has a field that contains a list of strings. I retrieve all these objects and then use the flatMap and distinct stream methods on the resulting list to get a new list that holds all possible unique values that a database object string list can contain.\r\n\r\nNext i want to make a map where the keys are the unique values list of the stringlist that i made earlier, and the values of the map are a list of database objects whose stringlist contains the value of the respective string mapkey. \r\n\r\n\r\nSo what I want is groupingBy the following: \r\n\r\n    if(object.stringList().contains(respectiveMapKeyFromUniqeStringCollection) put object in object values list of that respective keymap.\r\n\r\nIs something like this possible using the groupingBy method?\r\n\r\n\r\nEdit: I will explain further\r\n\r\n\r\n    class VegetableMaker{\r\n    @ElementCollection  \r\n    private List&lt;String&gt; vegetableList;\r\n    \r\n    }\r\n\r\nLets assume the possible values that a vegetableList can contain are: &quot;Lettuce, Tomato, spinache, rubarbe, onion&quot;\r\n\r\n    Set&lt;String&gt; produceNames = vegetableMakers.stream().flatMap(vegetableMaker -&gt; vegetableMaker.getVegetableList().stream())\r\n        .distinct().collect(Collectors.toSet());\r\n\r\n\r\nNow we have the list that contains all the possible values mentioned before.\r\n\r\nWe want to use the values in this list as the keys in the map.\r\n\r\n\r\nSo the Map will look like:\r\n\r\n\r\n    Map&lt;uniqueStringsAsKeys, List&lt;VegetableMaker&gt;&gt; map\r\n\r\n\r\nThe list value contains all the VegetableMaker instances of which the vegetableList contains the key of the map. So the list of key Onion will contain all the VegetableMaker instances whose list includes &quot;Onion&quot;.\r\n\r\n\r\nIs it possible to achieve such a map using the groupingBy method of a java stream?\r\n\r\n\r\nEDIT 2:\r\n\r\nThis is the solution i have now, that doesn&#39;t use groupingBy but clarifies even more what I want. \r\n\r\nEDIT: changed variable in code to match variables used in previous examples.\r\n\r\n    Set&lt;VegetableMaker&gt; vegetableMakers = vegetableMakerDao.findAll();\r\n    Set&lt;String&gt; uniqueVegetableList = vegetableMakers.stream().flatMap(vegetableMaker -&gt; affiliateLink.getKeywords().stream()).distinct().collect(Collectors.toSet());\r\n    Map&lt;String,Set&lt;VegetableMaker&gt;&gt; vegetableMakersContainingKeywordInTheirList = new HashMap&lt;&gt;();\r\n    \r\n    uniqueVegetableList.forEach(produceName -&gt;{\r\n        Set&lt;VegetableMaker&gt; vegetableMakerSet = new HashSet&lt;&gt;();\r\n        vegetableMakers.forEach( vegetableMaker -&gt; {\r\n            if(vegetableMaker.getVegetableList().contains(produceName))\r\n                vegetableMakerSet.add(vegetableMaker);\r\n        });\r\n        vegetableMakersContainingKeywordInTheirList.put(produceName, vegetableMakerSet);\r\n    });\r\n\r\n","title":"How do i group by the contents of a string list using collect() of a Stream?","body":"<p>I have a database object that has a field that contains a list of strings. I retrieve all these objects and then use the flatMap and distinct stream methods on the resulting list to get a new list that holds all possible unique values that a database object string list can contain.</p>\n<p>Next i want to make a map where the keys are the unique values list of the stringlist that i made earlier, and the values of the map are a list of database objects whose stringlist contains the value of the respective string mapkey.</p>\n<p>So what I want is groupingBy the following:</p>\n<pre><code>if(object.stringList().contains(respectiveMapKeyFromUniqeStringCollection) put object in object values list of that respective keymap.\n</code></pre>\n<p>Is something like this possible using the groupingBy method?</p>\n<p>Edit: I will explain further</p>\n<pre><code>class VegetableMaker{\n@ElementCollection  \nprivate List&lt;String&gt; vegetableList;\n\n}\n</code></pre>\n<p>Lets assume the possible values that a vegetableList can contain are: &quot;Lettuce, Tomato, spinache, rubarbe, onion&quot;</p>\n<pre><code>Set&lt;String&gt; produceNames = vegetableMakers.stream().flatMap(vegetableMaker -&gt; vegetableMaker.getVegetableList().stream())\n    .distinct().collect(Collectors.toSet());\n</code></pre>\n<p>Now we have the list that contains all the possible values mentioned before.</p>\n<p>We want to use the values in this list as the keys in the map.</p>\n<p>So the Map will look like:</p>\n<pre><code>Map&lt;uniqueStringsAsKeys, List&lt;VegetableMaker&gt;&gt; map\n</code></pre>\n<p>The list value contains all the VegetableMaker instances of which the vegetableList contains the key of the map. So the list of key Onion will contain all the VegetableMaker instances whose list includes &quot;Onion&quot;.</p>\n<p>Is it possible to achieve such a map using the groupingBy method of a java stream?</p>\n<p>EDIT 2:</p>\n<p>This is the solution i have now, that doesn't use groupingBy but clarifies even more what I want.</p>\n<p>EDIT: changed variable in code to match variables used in previous examples.</p>\n<pre><code>Set&lt;VegetableMaker&gt; vegetableMakers = vegetableMakerDao.findAll();\nSet&lt;String&gt; uniqueVegetableList = vegetableMakers.stream().flatMap(vegetableMaker -&gt; affiliateLink.getKeywords().stream()).distinct().collect(Collectors.toSet());\nMap&lt;String,Set&lt;VegetableMaker&gt;&gt; vegetableMakersContainingKeywordInTheirList = new HashMap&lt;&gt;();\n\nuniqueVegetableList.forEach(produceName -&gt;{\n    Set&lt;VegetableMaker&gt; vegetableMakerSet = new HashSet&lt;&gt;();\n    vegetableMakers.forEach( vegetableMaker -&gt; {\n        if(vegetableMaker.getVegetableList().contains(produceName))\n            vegetableMakerSet.add(vegetableMaker);\n    });\n    vegetableMakersContainingKeywordInTheirList.put(produceName, vegetableMakerSet);\n});\n</code></pre>\n"},{"tags":["java","collections","java-8"],"comments":[{"owner":{"account_id":13789219,"reputation":48460,"user_id":9952196,"display_name":"Shawn"},"score":2,"creation_date":1642758053,"post_id":70799136,"comment_id":125162140,"body_markdown":"Don&#39;t use the same object as the value for multiple outer map keys?","body":"Don&#39;t use the same object as the value for multiple outer map keys?"},{"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"score":0,"creation_date":1642758441,"post_id":70799136,"comment_id":125162278,"body_markdown":"As @Shawn says, or even more clearly, each inner map must be a brand new instance of LinkedHashMap, otherwise you&#39;re just referencing the same map everywhere.","body":"As @Shawn says, or even more clearly, each inner map must be a brand new instance of LinkedHashMap, otherwise you&#39;re just referencing the same map everywhere."}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642777224,"creation_date":1642777224,"answer_id":70803330,"question_id":70799136,"body_markdown":"You should be creating new map instances when storing the values.\r\n\r\nThe simplest way to create a copy of the map is to use [appropriate copy constructor](https://docs.oracle.com/javase/8/docs/api/java/util/LinkedHashMap.html#LinkedHashMap-java.util.Map-):\r\n```java\r\nMap&lt;String,Double&gt; innerMap=new LinkedHashMap&lt;&gt;();\r\n\r\nouterMap.put(&quot;Str1&quot;, innerMap);\r\nouterMap.put(&quot;Str2&quot;, new LinkedHashMap&lt;&gt;(innerMap));\r\n```\r\n\r\nPlease also make sure you adhere to Java naming conventions: `camelCase` for variables/fields/methods, `UpperCamelCase` for classes/interfaces/enums.","title":"How to add data and iterate Map of maps (Nested map) in Java?","body":"<p>You should be creating new map instances when storing the values.</p>\n<p>The simplest way to create a copy of the map is to use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/LinkedHashMap.html#LinkedHashMap-java.util.Map-\" rel=\"nofollow noreferrer\">appropriate copy constructor</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String,Double&gt; innerMap=new LinkedHashMap&lt;&gt;();\n\nouterMap.put(&quot;Str1&quot;, innerMap);\nouterMap.put(&quot;Str2&quot;, new LinkedHashMap&lt;&gt;(innerMap));\n</code></pre>\n<p>Please also make sure you adhere to Java naming conventions: <code>camelCase</code> for variables/fields/methods, <code>UpperCamelCase</code> for classes/interfaces/enums.</p>\n"}],"owner":{"account_id":5901566,"reputation":1,"user_id":4685269,"display_name":"Muralidharan G"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":458,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642777224,"creation_date":1642757726,"question_id":70799136,"body_markdown":"Using Java8/Collections/\r\nI want to add data in Map in collections as:\r\n`Map&lt;String,Map&lt;String,Double&gt;&gt; OuterMap=new LinkedHashMap&lt;String,Map&lt;String,Double&gt;&gt;();`\r\n\r\nInner map:\r\n```\r\nMap&lt;String,Double&gt; InnerMap=new LinkedHashMap&lt;String,Double&gt;();\r\n\r\nOuterMap.put(&quot;Str1&quot;,InnerMap);\r\nOuterMap.put(&quot;Str2&quot;,InnerMap);\r\n```\r\nThe issue is I want to check the keys of InnerMap and it may vary to each other in InnerMap.\r\n\r\nWhen I compare the keys of InnerMap. The OuterMap overrides the previous elements of the map.\r\n\r\nI want the output like:\r\n`Str1={&quot;SNP1&quot;=0.3,&quot;SNP2&quot;=0.56,&quot;SNP3&quot;=&quot;0.76&quot;} , Str2={&quot;SNP1&quot;=&quot;0.16&quot;,&quot;SNP2&quot;=0.56,&quot;SNP3&quot;=0.78,&quot;SNP4&quot;=.56}`\r\n\r\n\r\n","title":"How to add data and iterate Map of maps (Nested map) in Java?","body":"<p>Using Java8/Collections/\nI want to add data in Map in collections as:\n<code>Map&lt;String,Map&lt;String,Double&gt;&gt; OuterMap=new LinkedHashMap&lt;String,Map&lt;String,Double&gt;&gt;();</code></p>\n<p>Inner map:</p>\n<pre><code>Map&lt;String,Double&gt; InnerMap=new LinkedHashMap&lt;String,Double&gt;();\n\nOuterMap.put(&quot;Str1&quot;,InnerMap);\nOuterMap.put(&quot;Str2&quot;,InnerMap);\n</code></pre>\n<p>The issue is I want to check the keys of InnerMap and it may vary to each other in InnerMap.</p>\n<p>When I compare the keys of InnerMap. The OuterMap overrides the previous elements of the map.</p>\n<p>I want the output like:\n<code>Str1={&quot;SNP1&quot;=0.3,&quot;SNP2&quot;=0.56,&quot;SNP3&quot;=&quot;0.76&quot;} , Str2={&quot;SNP1&quot;=&quot;0.16&quot;,&quot;SNP2&quot;=0.56,&quot;SNP3&quot;=0.78,&quot;SNP4&quot;=.56}</code></p>\n"},{"tags":["java","raml","raml-java-parser","raml-1.0"],"comments":[{"owner":{"account_id":4609901,"reputation":1895,"user_id":3738321,"display_name":"Pedro"},"score":2,"creation_date":1526585367,"post_id":50384943,"comment_id":87814136,"body_markdown":"you could use a jsonschema definition of a map, but no sure raml-java-parser will handle it, maybe try first with a simpler map to see if it works, like: &quot;mapInt&quot;: {\n      &quot;type&quot;: &quot;object&quot;,\n      &quot;additionalProperties&quot;: {&quot;type&quot;: &quot;integer&quot;}\n    }","body":"you could use a jsonschema definition of a map, but no sure raml-java-parser will handle it, maybe try first with a simpler map to see if it works, like: &quot;mapInt&quot;: {       &quot;type&quot;: &quot;object&quot;,       &quot;additionalProperties&quot;: {&quot;type&quot;: &quot;integer&quot;}     }"},{"owner":{"account_id":7282804,"reputation":2404,"user_id":5551938,"display_name":"kimbert"},"score":3,"creation_date":1586886212,"post_id":50384943,"comment_id":108291943,"body_markdown":"You said: &quot;But as I have not used employee.schema in RAML so it is not generating class Employee...&quot;. Why would you _expect_ it to work when you are not including one of the dependencies in your RAML? Have you tried adding an include statement to the RAML before generating the Java?","body":"You said: &quot;But as I have not used employee.schema in RAML so it is not generating class Employee...&quot;. Why would you <i>expect</i> it to work when you are not including one of the dependencies in your RAML? Have you tried adding an include statement to the RAML before generating the Java?"},{"owner":{"account_id":1333038,"reputation":588,"user_id":1276456,"accept_rate":29,"display_name":"Gyowanny Pessatto Queiroz"},"score":0,"creation_date":1610572951,"post_id":50384943,"comment_id":116180184,"body_markdown":"Have you tried creating a Wrapper class and reference it in the RAML instead the Map one?","body":"Have you tried creating a Wrapper class and reference it in the RAML instead the Map one?"}],"answers":[{"tags":[],"owner":{"account_id":3340852,"reputation":1493,"user_id":2807177,"display_name":"gmanjon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642776741,"creation_date":1640221200,"answer_id":70456658,"question_id":50384943,"body_markdown":"You have 2 options here. \r\n\r\nThe **first one** is to just include the external file with the schema in the `types` definition of your `raml` file. \r\n\r\nFor instance, assuming that:\r\n* The object represented in your example is called `EmployeeGroupsContainer`, \r\n* And the file with the `Employee` schema is called `employee.schema` and is in the same directory as the `raml`file.\r\n\r\nThe `types` section would look like this:\r\n```yaml\r\ntypes:\r\n    EmployeeGroupsContainer:\r\n        schema: |\r\n                  {\r\n                    &quot;$schema&quot;: &quot;http://json-schema.org/schema#&quot;,\r\n                    &quot;type&quot;: &quot;object&quot;,\r\n                    &quot;description&quot;: &quot;Desc&quot;,\r\n                    &quot;properties&quot;: {\r\n                      &quot;employeeGroups&quot;: {\r\n                        &quot;type&quot;: &quot;object&quot;,\r\n                        &quot;javaType&quot;: &quot;java.util.Map&lt;String, java.util.List&lt;Employee&gt;&gt;&quot;\r\n                      }\r\n                    },\r\n                    &quot;additionalProperties&quot;: false\r\n                  }\r\n    Employee:\r\n        schema:\r\n            !include employee.schema\r\n```\r\n\r\nThis would be the recomended approach and the one I would use.\r\n\r\nA **second option** would be to previously generate the `Employee` object, and once you have it you can generate the rest because the `Employee` class would now be in your classpath. The best way to do this is by two separate executions of the tool you use to generate the code (the first one with `employee.schema` to generate the `Employee` class, and the second one with the rest). \r\n\r\nMay be you are tempted to generate `Employee` once and move it to `src/main/java`, but I would recommend against this, as keeping generated code versioned (in git or any other VCS) is always a bad practice. Code generation should always be a part of the overall build process (tipically with a maven plugin, if you use maven).\r\n\r\nThe only scenario I can think of to choose the second approach instead of the first one is that you don&#39;t have access to the main `raml` file. But if you do have it, I would definitely go for the first approach.","title":"RAML 1.0 representation of Java Map","body":"<p>You have 2 options here.</p>\n<p>The <strong>first one</strong> is to just include the external file with the schema in the <code>types</code> definition of your <code>raml</code> file.</p>\n<p>For instance, assuming that:</p>\n<ul>\n<li>The object represented in your example is called <code>EmployeeGroupsContainer</code>,</li>\n<li>And the file with the <code>Employee</code> schema is called <code>employee.schema</code> and is in the same directory as the <code>raml</code>file.</li>\n</ul>\n<p>The <code>types</code> section would look like this:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>types:\n    EmployeeGroupsContainer:\n        schema: |\n                  {\n                    &quot;$schema&quot;: &quot;http://json-schema.org/schema#&quot;,\n                    &quot;type&quot;: &quot;object&quot;,\n                    &quot;description&quot;: &quot;Desc&quot;,\n                    &quot;properties&quot;: {\n                      &quot;employeeGroups&quot;: {\n                        &quot;type&quot;: &quot;object&quot;,\n                        &quot;javaType&quot;: &quot;java.util.Map&lt;String, java.util.List&lt;Employee&gt;&gt;&quot;\n                      }\n                    },\n                    &quot;additionalProperties&quot;: false\n                  }\n    Employee:\n        schema:\n            !include employee.schema\n</code></pre>\n<p>This would be the recomended approach and the one I would use.</p>\n<p>A <strong>second option</strong> would be to previously generate the <code>Employee</code> object, and once you have it you can generate the rest because the <code>Employee</code> class would now be in your classpath. The best way to do this is by two separate executions of the tool you use to generate the code (the first one with <code>employee.schema</code> to generate the <code>Employee</code> class, and the second one with the rest).</p>\n<p>May be you are tempted to generate <code>Employee</code> once and move it to <code>src/main/java</code>, but I would recommend against this, as keeping generated code versioned (in git or any other VCS) is always a bad practice. Code generation should always be a part of the overall build process (tipically with a maven plugin, if you use maven).</p>\n<p>The only scenario I can think of to choose the second approach instead of the first one is that you don't have access to the main <code>raml</code> file. But if you do have it, I would definitely go for the first approach.</p>\n"}],"owner":{"account_id":1366105,"reputation":4796,"user_id":1302488,"accept_rate":25,"display_name":"Yogesh Prajapati"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1881,"favorite_count":0,"down_vote_count":0,"up_vote_count":68,"answer_count":1,"score":68,"last_activity_date":1642776741,"creation_date":1526539337,"question_id":50384943,"body_markdown":"I have RAML schema which contains       `&quot;javaType&quot;: &quot;java.util.Map&lt;String, java.util.List&lt;Employee&gt;&gt;&quot;`\r\n\r\nI have separate schema (employee.schema) available which represent class Employee.\r\n\r\nBut as I have not used employee.schema in RAML so it is not generating class Employee and throws an Error while converting RAML to Java.\r\n\r\n    {\r\n      &quot;$schema&quot;: &quot;http://json-schema.org/schema#&quot;,\r\n      &quot;type&quot;: &quot;object&quot;,\r\n      &quot;description&quot;: &quot;Desc&quot;,\r\n      &quot;properties&quot;: {\r\n        &quot;employeeGroups&quot;: {\r\n          &quot;type&quot;: &quot;object&quot;,\r\n          &quot;javaType&quot;: &quot;java.util.Map&lt;String, java.util.List&lt;Employee&gt;&gt;&quot;\r\n        }\r\n      },\r\n      &quot;additionalProperties&quot;: false\r\n    }\r\n\r\nCan anybody share comments how to represent `&quot;javaType&quot;: &quot;java.util.Map&lt;String, java.util.List&lt;Employee&gt;&gt;&quot;` in RAML ?\r\n\r\n\r\n    RAML Version: 1.0\r\n","title":"RAML 1.0 representation of Java Map","body":"<p>I have RAML schema which contains       <code>\"javaType\": \"java.util.Map&lt;String, java.util.List&lt;Employee&gt;&gt;\"</code></p>\n\n<p>I have separate schema (employee.schema) available which represent class Employee.</p>\n\n<p>But as I have not used employee.schema in RAML so it is not generating class Employee and throws an Error while converting RAML to Java.</p>\n\n<pre><code>{\n  \"$schema\": \"http://json-schema.org/schema#\",\n  \"type\": \"object\",\n  \"description\": \"Desc\",\n  \"properties\": {\n    \"employeeGroups\": {\n      \"type\": \"object\",\n      \"javaType\": \"java.util.Map&lt;String, java.util.List&lt;Employee&gt;&gt;\"\n    }\n  },\n  \"additionalProperties\": false\n}\n</code></pre>\n\n<p>Can anybody share comments how to represent <code>\"javaType\": \"java.util.Map&lt;String, java.util.List&lt;Employee&gt;&gt;\"</code> in RAML ?</p>\n\n<pre><code>RAML Version: 1.0\n</code></pre>\n"},{"tags":["java","spring-boot","reactive-programming","spring-webflux","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642776717,"creation_date":1642776717,"answer_id":70803214,"question_id":70802002,"body_markdown":"If Service A is written as a reactive services using webflux it will always stay reactive, no matter who else it is calling.\r\n\r\nIm going to assume we are talking http/https now using for instance `webclient`.\r\n\r\nThe thing about reactive is if service B is very slow to respond, your service A, will not have the calling thread wait for the response, instead service A&#39;s thread will go and do other stuff while it is waiting for the response from service b, and when the response comes back any thread can pick up the response and continue.\r\n\r\nA reactive service isn&#39;t reactive if it only calls other reactive services. It&#39;s always reactive. As in it reacts to events.\r\n\r\nThere are some caveats. For instance if you are talking to a database, here the database driver needs to be a specific driver that is following the R2DBC specification.\r\n\r\nYou see the traditional JDBC specification for how to write database drivers was designed to be inherently blocking. If you followed the spec and wrote a driver the driver would automatically have to be blocking. You had no choice.\r\n\r\nSo spring created a new spec (R2DBC) that is not inherently blocking, so you need a driver that is compliant to that spec. Otherwise your service will be affected by blocking behavior.\r\n\r\nBut the answer to your question is.\r\n\r\nNo, if we are talking http from one service to another.","title":"Calling blocking endpoint on non-blocking asynchronous service","body":"<p>If Service A is written as a reactive services using webflux it will always stay reactive, no matter who else it is calling.</p>\n<p>Im going to assume we are talking http/https now using for instance <code>webclient</code>.</p>\n<p>The thing about reactive is if service B is very slow to respond, your service A, will not have the calling thread wait for the response, instead service A's thread will go and do other stuff while it is waiting for the response from service b, and when the response comes back any thread can pick up the response and continue.</p>\n<p>A reactive service isn't reactive if it only calls other reactive services. It's always reactive. As in it reacts to events.</p>\n<p>There are some caveats. For instance if you are talking to a database, here the database driver needs to be a specific driver that is following the R2DBC specification.</p>\n<p>You see the traditional JDBC specification for how to write database drivers was designed to be inherently blocking. If you followed the spec and wrote a driver the driver would automatically have to be blocking. You had no choice.</p>\n<p>So spring created a new spec (R2DBC) that is not inherently blocking, so you need a driver that is compliant to that spec. Otherwise your service will be affected by blocking behavior.</p>\n<p>But the answer to your question is.</p>\n<p>No, if we are talking http from one service to another.</p>\n"}],"owner":{"account_id":23967043,"reputation":23,"user_id":17956381,"display_name":"JulieTheCoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":572,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70803214,"answer_count":1,"score":-1,"last_activity_date":1642776717,"creation_date":1642771414,"question_id":70802002,"body_markdown":"If my reactive endpoint needs to call an external, non-reactive endpoint which does blocking stuff, is my reactive endpoint still reactive? \r\n\r\nI have 2 services running that levergaes Spring Boot MVC and Spring Webflux.\r\n\r\nService A\r\nSpring Webflux\r\n\r\nService B\r\nSpring MVC\r\n\r\nNow my Service A which is reactive calling the Service B endpoint which is blocking. Will my service A be affected and be non-reactive?\r\n\r\nIf yes? How to tackle such scenario such that my reactive endpoint stays reactive?","title":"Calling blocking endpoint on non-blocking asynchronous service","body":"<p>If my reactive endpoint needs to call an external, non-reactive endpoint which does blocking stuff, is my reactive endpoint still reactive?</p>\n<p>I have 2 services running that levergaes Spring Boot MVC and Spring Webflux.</p>\n<p>Service A\nSpring Webflux</p>\n<p>Service B\nSpring MVC</p>\n<p>Now my Service A which is reactive calling the Service B endpoint which is blocking. Will my service A be affected and be non-reactive?</p>\n<p>If yes? How to tackle such scenario such that my reactive endpoint stays reactive?</p>\n"},{"tags":["java","scala","sbt"],"comments":[{"owner":{"account_id":1369470,"reputation":25454,"user_id":1305121,"accept_rate":90,"display_name":"Mateusz Kubuszok"},"score":0,"creation_date":1642074223,"post_id":70694238,"comment_id":124977831,"body_markdown":"Is it this one? https://mvnrepository.com/artifact/net.java.dev.jna/jna/3.2.3 ?","body":"Is it this one? <a href=\"https://mvnrepository.com/artifact/net.java.dev.jna/jna/3.2.3\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/net.java.dev.jna/jna/3.2.3</a> ?"},{"owner":{"account_id":7808038,"reputation":1546,"user_id":5905245,"accept_rate":90,"display_name":"kmh"},"score":0,"creation_date":1642216524,"post_id":70694238,"comment_id":125018910,"body_markdown":"can you install a newer version of SBT and then set `sbt.version=0.12.4` in your `project/build.properties` file?","body":"can you install a newer version of SBT and then set <code>sbt.version=0.12.4</code> in your <code>project&#47;build.properties</code> file?"},{"owner":{"account_id":2459056,"reputation":23,"user_id":2143585,"display_name":"HJR"},"score":0,"creation_date":1642434209,"post_id":70694238,"comment_id":125063858,"body_markdown":"@MateuszKubuszok Yes it is but sbt doesn&#39;t pick it up even if I add it to the local cache. I think it&#39;s expecting `ivy.xml` which is not included.","body":"@MateuszKubuszok Yes it is but sbt doesn&#39;t pick it up even if I add it to the local cache. I think it&#39;s expecting <code>ivy.xml</code> which is not included."}],"answers":[{"tags":[],"owner":{"account_id":2459056,"reputation":23,"user_id":2143585,"display_name":"HJR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642775431,"creation_date":1642775431,"answer_id":70802931,"question_id":70694238,"body_markdown":"My problem was resolved based on the suggestion of @kmh in the comments and the answer in https://stackoverflow.com/a/29303664/. Thanks!\r\n\r\n- Install sbt 0.13 with `brew install sbt@0.13`. It installs Java 8 (openjdk@8) as dependency.\r\n- Added `.sbtopts` in root of the project and point it to where Java 7 had been installed:\r\n\r\n```\r\n    -java-home\r\n    /usr\r\n```\r\n\r\nI then ran `sbt` and all the dependencies were successfully resolved.","title":"Can you install sbt 0.12.4, scala 2.10.6 and java 7 on MacOS Catalina?","body":"<p>My problem was resolved based on the suggestion of @kmh in the comments and the answer in <a href=\"https://stackoverflow.com/a/29303664/\">https://stackoverflow.com/a/29303664/</a>. Thanks!</p>\n<ul>\n<li>Install sbt 0.13 with <code>brew install sbt@0.13</code>. It installs Java 8 (openjdk@8) as dependency.</li>\n<li>Added <code>.sbtopts</code> in root of the project and point it to where Java 7 had been installed:</li>\n</ul>\n<pre><code>    -java-home\n    /usr\n</code></pre>\n<p>I then ran <code>sbt</code> and all the dependencies were successfully resolved.</p>\n"}],"owner":{"account_id":2459056,"reputation":23,"user_id":2143585,"display_name":"HJR"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":330,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70802931,"answer_count":1,"score":0,"last_activity_date":1642775431,"creation_date":1642066391,"question_id":70694238,"body_markdown":"We have a **legacy** Scala project that we need to make changes to and compile on MacOS Catalina. Its summarized config is:\r\n\r\n```\r\nscalaVersion := &quot;2.10.6&quot;\r\nsbt.version=0.12.4\r\nJava 7\r\n```\r\n\r\nAt this stage we don&#39;t have the resources to upgrade the project to more current versions.\r\n\r\nI installed Java 7.\r\n\r\n```\r\njava version &quot;1.7.0_80&quot;\r\nJava(TM) SE Runtime Environment (build 1.7.0_80-b15)\r\nJava HotSpot(TM) 64-Bit Server VM (build 24.80-b11, mixed mode)\r\n```\r\n\r\nI&#39;ve been trying to install **sbt 0.12.4** on MacOS Catalina without success and after several days have exhausted my options. \r\n\r\n1. I&#39;ve tried installing as per the [official manual installation instructions][1] using `sbt-launch.jar` but during installation many of the dependencies are no longer available.\r\n\r\n2. I&#39;ve tried using the [sbt-extras][2] script but when running it I get:\r\n\r\n```\r\nGetting net.java.dev.jna jna 3.2.3 ...\r\n\r\n:: problems summary ::\r\n:::: WARNINGS\r\n\t\tmodule not found: net.java.dev.jna#jna;3.2.3\r\n\r\n\t==== local: tried\r\n\r\n\t  /Users/theuser/.ivy2/local/net.java.dev.jna/jna/3.2.3/ivys/ivy.xml\r\n\r\n\t==== typesafe-ivy-releases: tried\r\n\r\n\t  http://repo.typesafe.com/typesafe/ivy-releases/net.java.dev.jna/jna/3.2.3/ivys/ivy.xml\r\n\r\n\t==== Maven Central: tried\r\n\r\n\t  http://repo1.maven.org/maven2/net/java/dev/jna/jna/3.2.3/jna-3.2.3.pom\r\n\r\n\t==== sonatype-snapshots: tried\r\n\r\n\t  https://oss.sonatype.org/content/repositories/snapshots/net/java/dev/jna/jna/3.2.3/jna-3.2.3.pom\r\n\r\n\t\t::::::::::::::::::::::::::::::::::::::::::::::\r\n\r\n\t\t::          UNRESOLVED DEPENDENCIES         ::\r\n\r\n\t\t::::::::::::::::::::::::::::::::::::::::::::::\r\n\r\n\t\t:: net.java.dev.jna#jna;3.2.3: not found\r\n\r\n\t\t::::::::::::::::::::::::::::::::::::::::::::::\r\n\r\n\r\n:::: ERRORS\r\n\tServer access Error: Connection refused url=http://repo.typesafe.com/typesafe/ivy-releases/net.java.dev.jna/jna/3.2.3/ivys/ivy.xml\r\n\r\n\tSERVER ERROR: HTTPS Required url=http://repo1.maven.org/maven2/net/java/dev/jna/jna/3.2.3/jna-3.2.3.pom\r\n\r\n\tServer access Error: Connection reset url=https://oss.sonatype.org/content/repositories/snapshots/net/java/dev/jna/jna/3.2.3/jna-3.2.3.pom\r\n\r\n\r\n:: USE VERBOSE OR DEBUG MESSAGE LEVEL FOR MORE DETAILS\r\nunresolved dependency: net.java.dev.jna#jna;3.2.3: not found\r\nError during sbt execution: Error retrieving required libraries\r\n  (see /Users/theuser/.sbt/0.12.4/boot/update.log for complete log)\r\nError: Could not retrieve jna 3.2.3\r\n```\r\n\r\nWe have previously compiled our own cache of dependencies (some of which have become outdated) by manually finding the dependencies which we then place in our `~/.ivy2/cache` before compiling. In this case I cannot find `jna3.2.3` to include it in `/Users/theuser/.ivy2/local/net.java.dev.jna/jna/3.2.3/` as a work-around to see if I can get any further.\r\n\r\n3. I have copied the `sbt 0.12.4` config, folders and ivy cache from another Mac where sbt and the legacy project currently works. Doesn&#39;t work.\r\n\r\nAny help or clues would be appreciated.\r\n\r\n  [1]: https://www.scala-sbt.org/0.12.4/docs/Getting-Started/Setup.html#id1\r\n  [2]: https://github.com/paulp/sbt-extras","title":"Can you install sbt 0.12.4, scala 2.10.6 and java 7 on MacOS Catalina?","body":"<p>We have a <strong>legacy</strong> Scala project that we need to make changes to and compile on MacOS Catalina. Its summarized config is:</p>\n<pre><code>scalaVersion := &quot;2.10.6&quot;\nsbt.version=0.12.4\nJava 7\n</code></pre>\n<p>At this stage we don't have the resources to upgrade the project to more current versions.</p>\n<p>I installed Java 7.</p>\n<pre><code>java version &quot;1.7.0_80&quot;\nJava(TM) SE Runtime Environment (build 1.7.0_80-b15)\nJava HotSpot(TM) 64-Bit Server VM (build 24.80-b11, mixed mode)\n</code></pre>\n<p>I've been trying to install <strong>sbt 0.12.4</strong> on MacOS Catalina without success and after several days have exhausted my options.</p>\n<ol>\n<li><p>I've tried installing as per the <a href=\"https://www.scala-sbt.org/0.12.4/docs/Getting-Started/Setup.html#id1\" rel=\"nofollow noreferrer\">official manual installation instructions</a> using <code>sbt-launch.jar</code> but during installation many of the dependencies are no longer available.</p>\n</li>\n<li><p>I've tried using the <a href=\"https://github.com/paulp/sbt-extras\" rel=\"nofollow noreferrer\">sbt-extras</a> script but when running it I get:</p>\n</li>\n</ol>\n<pre><code>Getting net.java.dev.jna jna 3.2.3 ...\n\n:: problems summary ::\n:::: WARNINGS\n        module not found: net.java.dev.jna#jna;3.2.3\n\n    ==== local: tried\n\n      /Users/theuser/.ivy2/local/net.java.dev.jna/jna/3.2.3/ivys/ivy.xml\n\n    ==== typesafe-ivy-releases: tried\n\n      http://repo.typesafe.com/typesafe/ivy-releases/net.java.dev.jna/jna/3.2.3/ivys/ivy.xml\n\n    ==== Maven Central: tried\n\n      http://repo1.maven.org/maven2/net/java/dev/jna/jna/3.2.3/jna-3.2.3.pom\n\n    ==== sonatype-snapshots: tried\n\n      https://oss.sonatype.org/content/repositories/snapshots/net/java/dev/jna/jna/3.2.3/jna-3.2.3.pom\n\n        ::::::::::::::::::::::::::::::::::::::::::::::\n\n        ::          UNRESOLVED DEPENDENCIES         ::\n\n        ::::::::::::::::::::::::::::::::::::::::::::::\n\n        :: net.java.dev.jna#jna;3.2.3: not found\n\n        ::::::::::::::::::::::::::::::::::::::::::::::\n\n\n:::: ERRORS\n    Server access Error: Connection refused url=http://repo.typesafe.com/typesafe/ivy-releases/net.java.dev.jna/jna/3.2.3/ivys/ivy.xml\n\n    SERVER ERROR: HTTPS Required url=http://repo1.maven.org/maven2/net/java/dev/jna/jna/3.2.3/jna-3.2.3.pom\n\n    Server access Error: Connection reset url=https://oss.sonatype.org/content/repositories/snapshots/net/java/dev/jna/jna/3.2.3/jna-3.2.3.pom\n\n\n:: USE VERBOSE OR DEBUG MESSAGE LEVEL FOR MORE DETAILS\nunresolved dependency: net.java.dev.jna#jna;3.2.3: not found\nError during sbt execution: Error retrieving required libraries\n  (see /Users/theuser/.sbt/0.12.4/boot/update.log for complete log)\nError: Could not retrieve jna 3.2.3\n</code></pre>\n<p>We have previously compiled our own cache of dependencies (some of which have become outdated) by manually finding the dependencies which we then place in our <code>~/.ivy2/cache</code> before compiling. In this case I cannot find <code>jna3.2.3</code> to include it in <code>/Users/theuser/.ivy2/local/net.java.dev.jna/jna/3.2.3/</code> as a work-around to see if I can get any further.</p>\n<ol start=\"3\">\n<li>I have copied the <code>sbt 0.12.4</code> config, folders and ivy cache from another Mac where sbt and the legacy project currently works. Doesn't work.</li>\n</ol>\n<p>Any help or clues would be appreciated.</p>\n"},{"tags":["java","jmeter","performance-testing","load-testing","socketexception"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642775331,"creation_date":1642775331,"answer_id":70802908,"question_id":70802723,"body_markdown":"The solution is for different problem, you shouldn&#39;t be blindly copying and pasting configuration amendments without understanding what it&#39;s all about. \r\n\r\nAt the moment I can suggest only the following hints:\r\n\r\n 1. Double check your [HTTP(S) Test Script Recorder][1] and browser configuration, pay special attention to the **HTTPS recording and certificates** chapter of the [HTTP(S) Test Script Recorder][2] documentation, ensure that JMeter&#39;s certificate is imported in the browser, it&#39;s not expired, etc. \r\n 2. [Increase JMeter logging verbosity][3] for the HTTP(S) Test Script Recorder and [Apache HttpComponents][4] by adding the next line to *log4j2.xml* file \r\n\r\n        &lt;Logger name=&quot;org.apache.jmeter.protocol.http.proxy&quot; level=&quot;debug&quot; /&gt;\r\n        &lt;Logger name=&quot;org.apache.http&quot; level=&quot;debug&quot; /&gt;\r\n\r\n   this way you should see way more information in [jmeter.log file][5] \r\n 3. If the above steps won&#39;t help or give a clue you can try out an alternative recording solution like [JMeter Chrome Extension][6] \r\n\r\n\r\n  [1]: https://jmeter.apache.org/usermanual/jmeter_proxy_step_by_step.html\r\n  [2]: https://jmeter.apache.org/usermanual/component_reference.html#HTTP(S)_Test_Script_Recorder\r\n  [3]: https://www.blazemeter.com/blog/how-to-configure-jmeter-logging\r\n  [4]: https://hc.apache.org/\r\n  [5]: https://jmeter.apache.org/usermanual/get-started.html#logging\r\n  [6]: https://chrome.google.com/webstore/detail/blazemeter-the-continuous/mbopgmdnpcbohhpnfglgohlbhfongabi?hl=en","title":"An error for excel download in firefox for JMeter script recording","body":"<p>The solution is for different problem, you shouldn't be blindly copying and pasting configuration amendments without understanding what it's all about.</p>\n<p>At the moment I can suggest only the following hints:</p>\n<ol>\n<li><p>Double check your <a href=\"https://jmeter.apache.org/usermanual/jmeter_proxy_step_by_step.html\" rel=\"nofollow noreferrer\">HTTP(S) Test Script Recorder</a> and browser configuration, pay special attention to the <strong>HTTPS recording and certificates</strong> chapter of the <a href=\"https://jmeter.apache.org/usermanual/component_reference.html#HTTP(S)_Test_Script_Recorder\" rel=\"nofollow noreferrer\">HTTP(S) Test Script Recorder</a> documentation, ensure that JMeter's certificate is imported in the browser, it's not expired, etc.</p>\n</li>\n<li><p><a href=\"https://www.blazemeter.com/blog/how-to-configure-jmeter-logging\" rel=\"nofollow noreferrer\">Increase JMeter logging verbosity</a> for the HTTP(S) Test Script Recorder and <a href=\"https://hc.apache.org/\" rel=\"nofollow noreferrer\">Apache HttpComponents</a> by adding the next line to <em>log4j2.xml</em> file</p>\n<pre><code>&lt;Logger name=&quot;org.apache.jmeter.protocol.http.proxy&quot; level=&quot;debug&quot; /&gt;\n&lt;Logger name=&quot;org.apache.http&quot; level=&quot;debug&quot; /&gt;\n</code></pre>\n</li>\n</ol>\n<p>this way you should see way more information in <a href=\"https://jmeter.apache.org/usermanual/get-started.html#logging\" rel=\"nofollow noreferrer\">jmeter.log file</a>\n3. If the above steps won't help or give a clue you can try out an alternative recording solution like <a href=\"https://chrome.google.com/webstore/detail/blazemeter-the-continuous/mbopgmdnpcbohhpnfglgohlbhfongabi?hl=en\" rel=\"nofollow noreferrer\">JMeter Chrome Extension</a></p>\n"}],"owner":{"account_id":18821243,"reputation":302,"user_id":13727197,"display_name":"Amaze_Rock"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642775331,"creation_date":1642774519,"question_id":70802723,"body_markdown":"I am recording one script using JMeter. On webpage there are two options two download data. One is excel and one is csv. The csv format data is downloading successfully but when clicking on excel icon to download data it is giving an error as shown in below image.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QT7El.png\r\n\r\nI tried one solution as mentioned on different forum but it is not working.\r\nAdded below lines in user.properties file.\r\n\r\n    httpclient4.retrycount=1\r\n    hc.parameters.file=hc.parameters\r\n    httpclient4.idletimeout=1\r\n\r\nand added below line in hc.parameters\r\n\r\n    http.connection.stalecheck$Boolean=true\t\r\n\r\nIt is not working.","title":"An error for excel download in firefox for JMeter script recording","body":"<p>I am recording one script using JMeter. On webpage there are two options two download data. One is excel and one is csv. The csv format data is downloading successfully but when clicking on excel icon to download data it is giving an error as shown in below image.</p>\n<p><a href=\"https://i.stack.imgur.com/QT7El.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QT7El.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried one solution as mentioned on different forum but it is not working.\nAdded below lines in user.properties file.</p>\n<pre><code>httpclient4.retrycount=1\nhc.parameters.file=hc.parameters\nhttpclient4.idletimeout=1\n</code></pre>\n<p>and added below line in hc.parameters</p>\n<pre><code>http.connection.stalecheck$Boolean=true \n</code></pre>\n<p>It is not working.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642775217,"creation_date":1642774726,"answer_id":70802768,"question_id":70797889,"body_markdown":"If you want to check if a string ends in a digit, you can use this\r\n\r\n```\r\nString currentTxt = display.getText().toString();\r\n\r\nif( currentTxt.matches(&quot;^.*?\\\\d$&quot;) ) { // check that it ends with a number\r\n    // allow adding a + symbol at the end\r\n    display.setText(currentTxt + &quot;+&quot;);\r\n}\r\n```\r\n\r\nThe `$` in the regex matches the end of the string, and the `^` matches the front of the string. So this matches a full string with zero or more characters (`.*`) followed by an ending digit (`?\\\\d`). You can always test Regex patterns [online](https://regex101.com/).\r\n\r\nIn this case, a regex isn&#39;t strictly necessary though, you could also just get the last character and call `isDigit`\r\n\r\n```\r\nString currentTxt = display.getText().toString();\r\n\r\nif( !currentTxt.isEmpty() &amp;&amp; Character.isDigit(currentTxt.charAt(currentTxt.length()-1)) ) { // check that it ends with a number\r\n    // allow adding a + symbol at the end\r\n    display.setText(currentTxt + &quot;+&quot;)\r\n}\r\n","title":"How to set a limit of a character frequency or disable the onclick button on some conditions?","body":"<p>If you want to check if a string ends in a digit, you can use this</p>\n<pre><code>String currentTxt = display.getText().toString();\n\nif( currentTxt.matches(&quot;^.*?\\\\d$&quot;) ) { // check that it ends with a number\n    // allow adding a + symbol at the end\n    display.setText(currentTxt + &quot;+&quot;);\n}\n</code></pre>\n<p>The <code>$</code> in the regex matches the end of the string, and the <code>^</code> matches the front of the string. So this matches a full string with zero or more characters (<code>.*</code>) followed by an ending digit (<code>?\\\\d</code>). You can always test Regex patterns <a href=\"https://regex101.com/\" rel=\"nofollow noreferrer\">online</a>.</p>\n<p>In this case, a regex isn't strictly necessary though, you could also just get the last character and call <code>isDigit</code></p>\n<pre><code>String currentTxt = display.getText().toString();\n\nif( !currentTxt.isEmpty() &amp;&amp; Character.isDigit(currentTxt.charAt(currentTxt.length()-1)) ) { // check that it ends with a number\n    // allow adding a + symbol at the end\n    display.setText(currentTxt + &quot;+&quot;)\n}\n</code></pre>\n"}],"owner":{"account_id":22140465,"reputation":61,"user_id":16759752,"display_name":"Md Anik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70802768,"answer_count":1,"score":1,"last_activity_date":1642775217,"creation_date":1642750786,"question_id":70797889,"body_markdown":"I am trying to build a basic calculator. In my app, if someone double presses the mathematical signs(+,*,/,-), it should only allow the user to press the button one time if there is no number after the (+,*,/,-) signs. I am thinking and googling a whole but I cannot come to a solution.\r\n\r\nI attached two pictures of what output I am getting and what output I expect. My pseudo-code is:-\r\n1. If editText is not empty and\r\n2. if the immediate characters after or before signs are not signs.(i.e: 1+1-2&gt;acceptable)\r\n(i.e: 1++1---&gt;not acceptable.disable the button or not repeat the signs.)\r\n\r\nHere&#39;s my code for addButton:\r\n\r\n      public void BtnAdd(View view) {\r\n\r\n\r\n        if (display.getText().toString().matches(&quot;.*\\\\d.*&quot;)) {\r\n            display(&quot;+&quot;);\r\n\r\n        }\r\n\r\n    }\r\n\r\nHere&#39;s my full code:\r\n\r\n&lt;https://www.codepile.net/pile/63g8oKjb&gt;\r\n\r\nThe output I am getting:-\r\n\r\n\r\n[![][1]][1]\r\n\r\n\r\nThe output I expect:-\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/d5MD6.png\r\n  [2]: https://i.stack.imgur.com/DlNV4.png\r\n\r\n\r\nAre there any new concepts I need to do that I am not familiar with? I also need your suggestions for improving building logic. Thanks.","title":"How to set a limit of a character frequency or disable the onclick button on some conditions?","body":"<p>I am trying to build a basic calculator. In my app, if someone double presses the mathematical signs(+,<em>,/,-), it should only allow the user to press the button one time if there is no number after the (+,</em>,/,-) signs. I am thinking and googling a whole but I cannot come to a solution.</p>\n<p>I attached two pictures of what output I am getting and what output I expect. My pseudo-code is:-</p>\n<ol>\n<li>If editText is not empty and</li>\n<li>if the immediate characters after or before signs are not signs.(i.e: 1+1-2&gt;acceptable)\n(i.e: 1++1---&gt;not acceptable.disable the button or not repeat the signs.)</li>\n</ol>\n<p>Here's my code for addButton:</p>\n<pre><code>  public void BtnAdd(View view) {\n\n\n    if (display.getText().toString().matches(&quot;.*\\\\d.*&quot;)) {\n        display(&quot;+&quot;);\n\n    }\n\n}\n</code></pre>\n<p>Here's my full code:</p>\n<p><a href=\"https://www.codepile.net/pile/63g8oKjb\" rel=\"nofollow noreferrer\">https://www.codepile.net/pile/63g8oKjb</a></p>\n<p>The output I am getting:-</p>\n<p><a href=\"https://i.stack.imgur.com/d5MD6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/d5MD6.png\" alt=\"\" /></a></p>\n<p>The output I expect:-</p>\n<p><a href=\"https://i.stack.imgur.com/DlNV4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DlNV4.png\" alt=\"enter image description here\" /></a></p>\n<p>Are there any new concepts I need to do that I am not familiar with? I also need your suggestions for improving building logic. Thanks.</p>\n"},{"tags":["java","arrays","json-deserialization"],"comments":[{"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"score":0,"creation_date":1642772821,"post_id":70802164,"comment_id":125167667,"body_markdown":"Is `configs.json` intentionally `&quot;scoreMargins&quot; : [12, [10,11], [7,9], [5,6], [3,4]]` or should that have been `&quot;scoreMargins&quot; : [[12], [10,11], [7,9], [5,6], [3,4]]`, if you make it consistently an array of arrays it&#39;ll be easier to deserialize.","body":"Is <code>configs.json</code> intentionally <code>&quot;scoreMargins&quot; : [12, [10,11], [7,9], [5,6], [3,4]]</code> or should that have been <code>&quot;scoreMargins&quot; : [[12], [10,11], [7,9], [5,6], [3,4]]</code>, if you make it consistently an array of arrays it&#39;ll be easier to deserialize."},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1642772851,"post_id":70802164,"comment_id":125167685,"body_markdown":"Seems like `scoreMargins` should be type `int[][]` (instead of Object).  Then loop over `scoreMargins` to find where `sumaA` fits.","body":"Seems like <code>scoreMargins</code> should be type <code>int[][]</code> (instead of Object).  Then loop over <code>scoreMargins</code> to find where <code>sumaA</code> fits."},{"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"score":0,"creation_date":1642773308,"post_id":70802164,"comment_id":125167869,"body_markdown":"Also I am not sure what your result should be? Do you want to return the array, the digit, the whole CalculationValues object?","body":"Also I am not sure what your result should be? Do you want to return the array, the digit, the whole CalculationValues object?"},{"owner":{"account_id":9982281,"reputation":23,"user_id":7384795,"accept_rate":25,"display_name":"ragnar1992"},"score":0,"creation_date":1642773559,"post_id":70802164,"comment_id":125167992,"body_markdown":"@IgorFlakiewicz just the array index of the particular element would be enough","body":"@IgorFlakiewicz just the array index of the particular element would be enough"}],"answers":[{"tags":[],"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642775191,"creation_date":1642774584,"answer_id":70802739,"question_id":70802164,"body_markdown":"I have a solution but when using json, it does not guarantee to retain array order when being passed around between apis, therefore there is no guarantee your index is in any way accurate without returning the exact input json as a string with your index...\r\n\r\nTherefore this is more of an example of deserializing 2d arrays in json.\r\n\r\n```java\r\nint getIndex(CalcValues cv, int sumA) {\r\n\r\n    for (List&lt;Integer&gt; sm : cv.getScoreMargins()) {\r\n        sm = sm.stream().sorted().collect(Collectors.toList());\r\n\r\n        if (sm.get(0) == sumA) {\r\n            return cv.getScoreMargins().indexOf(sm);\r\n        }\r\n\r\n        if (sm.size() &gt; 1 &amp;&amp; sm.get(0) &lt;= sumA &amp;&amp; sm.get(1) &gt;= sumA) {\r\n            return cv.getScoreMargins().indexOf(sm);\r\n        }\r\n\r\n    }\r\n\r\n    return 0;\r\n}\r\n\r\nclass CalcValues {\r\n\r\n    private String category;\r\n    private List&lt;List&lt;Integer&gt;&gt; scoreMargins;\r\n\r\n    // getter and setter\r\n\r\n}\r\n```","title":"How to check if an integer value is in a given array of ranges and which array element","body":"<p>I have a solution but when using json, it does not guarantee to retain array order when being passed around between apis, therefore there is no guarantee your index is in any way accurate without returning the exact input json as a string with your index...</p>\n<p>Therefore this is more of an example of deserializing 2d arrays in json.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int getIndex(CalcValues cv, int sumA) {\n\n    for (List&lt;Integer&gt; sm : cv.getScoreMargins()) {\n        sm = sm.stream().sorted().collect(Collectors.toList());\n\n        if (sm.get(0) == sumA) {\n            return cv.getScoreMargins().indexOf(sm);\n        }\n\n        if (sm.size() &gt; 1 &amp;&amp; sm.get(0) &lt;= sumA &amp;&amp; sm.get(1) &gt;= sumA) {\n            return cv.getScoreMargins().indexOf(sm);\n        }\n\n    }\n\n    return 0;\n}\n\nclass CalcValues {\n\n    private String category;\n    private List&lt;List&lt;Integer&gt;&gt; scoreMargins;\n\n    // getter and setter\n\n}\n</code></pre>\n"}],"owner":{"account_id":9982281,"reputation":23,"user_id":7384795,"accept_rate":25,"display_name":"ragnar1992"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642775191,"creation_date":1642772177,"question_id":70802164,"body_markdown":"Got a json file which loads some configurations array as below :\r\n\r\nconfigs.json\r\n\r\n    [\r\n      {\r\n        &quot;category&quot;:&quot;A&quot;,\r\n        &quot;scoreMargins&quot; : [[12], [9,11], [7,9], [5,6], [3,4]]\r\n      },\r\n      {\r\n        &quot;category&quot;:&quot;B&quot;,\r\n        &quot;scoreMargins&quot; : [[3,4], [5,6], [7,8], [9,10], [11, 12]]\r\n      }\r\n    ]\r\n\r\nThe `scoreMargins` are not in one exact format, so its de-serialized as an object at the moment. But number of ranges(or single value) are always 5.\r\n\r\nCalculationValues.java\r\n\r\n     public class StressTestCategoryCalculationValues {\r\n       private String category;\r\n       private Object scoreMargins;\r\n     }\r\n\r\nservice :\r\n\r\n    List&lt;CalculationValues&gt; values = mapper.readValue(CalculationValues.class.getResourceAsStream(&#39;configs.json&#39;),\r\n                mapper.getTypeFactory().constructCollectionType(List.class, CalculationValues.class));\r\n\r\n    Optional&lt;CalculationValues&gt; configA = values.stream()\r\n                .filter(p -&gt; p.getCategory().equals(&quot;A&quot;))\r\n                .findFirst();\r\n\r\n    int sumA = xx;\r\n    if (configA.isPresent()) {\r\n        // logic\r\n    }\r\n\r\nI want to get which `scoreMargins` array element holds the range that `sumA` falls into..\r\n\r\nEx : \r\n\r\n    &quot;scoreMargins&quot; : [[3,4], [5,8], [8,11], [11,12], [12, 13]], \r\n\r\n     sumA = 7, result ??\r\n    \r\n     Desired result =  2 (3rd element)\r\n\r\nWhat would be the easiest approach to do this? \r\n","title":"How to check if an integer value is in a given array of ranges and which array element","body":"<p>Got a json file which loads some configurations array as below :</p>\n<p>configs.json</p>\n<pre><code>[\n  {\n    &quot;category&quot;:&quot;A&quot;,\n    &quot;scoreMargins&quot; : [[12], [9,11], [7,9], [5,6], [3,4]]\n  },\n  {\n    &quot;category&quot;:&quot;B&quot;,\n    &quot;scoreMargins&quot; : [[3,4], [5,6], [7,8], [9,10], [11, 12]]\n  }\n]\n</code></pre>\n<p>The <code>scoreMargins</code> are not in one exact format, so its de-serialized as an object at the moment. But number of ranges(or single value) are always 5.</p>\n<p>CalculationValues.java</p>\n<pre><code> public class StressTestCategoryCalculationValues {\n   private String category;\n   private Object scoreMargins;\n }\n</code></pre>\n<p>service :</p>\n<pre><code>List&lt;CalculationValues&gt; values = mapper.readValue(CalculationValues.class.getResourceAsStream('configs.json'),\n            mapper.getTypeFactory().constructCollectionType(List.class, CalculationValues.class));\n\nOptional&lt;CalculationValues&gt; configA = values.stream()\n            .filter(p -&gt; p.getCategory().equals(&quot;A&quot;))\n            .findFirst();\n\nint sumA = xx;\nif (configA.isPresent()) {\n    // logic\n}\n</code></pre>\n<p>I want to get which <code>scoreMargins</code> array element holds the range that <code>sumA</code> falls into..</p>\n<p>Ex :</p>\n<pre><code>&quot;scoreMargins&quot; : [[3,4], [5,8], [8,11], [11,12], [12, 13]], \n\n sumA = 7, result ??\n\n Desired result =  2 (3rd element)\n</code></pre>\n<p>What would be the easiest approach to do this?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":3912854,"reputation":26,"user_id":7305506,"display_name":"Jubin Jayaprakash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642774887,"creation_date":1642774887,"answer_id":70802816,"question_id":70802700,"body_markdown":"It seems you have misspelt the property spring.datasoruce.url incorrectly. The spelling of datasource is incorrect. Can you try with spring.datasource.url.","title":"Spring Error: Failed to determine suitable jdbc url","body":"<p>It seems you have misspelt the property spring.datasoruce.url incorrectly. The spelling of datasource is incorrect. Can you try with spring.datasource.url.</p>\n"}],"owner":{"account_id":20242706,"reputation":3,"user_id":14846083,"display_name":"Sadas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2407,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70802816,"answer_count":1,"score":0,"last_activity_date":1642774887,"creation_date":1642774423,"question_id":70802700,"body_markdown":"I&#39;m trying to learn Spring and following a guy&#39;s instructions on YouTube. At first, he only initialized the Spring project and wrote configurations which I copied and created the database called employeemanager. In short, I did exactly the same things with him but I get this error when I try to run the program:\r\n\r\n```\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\nDescription:\r\nFailed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured.\r\n\r\nReason: Failed to determine suitable jdbc URL\r\n\r\nAction:\r\nConsider the following:\r\n\tIf you want an embedded database (H2, HSQL or Derby), please put it on the classpath.\r\n\tIf you have database settings to be loaded from a particular profile you may need to activate it (no profiles are currently active).\r\n```\r\n\r\nI am using MySQL and JPA. This is my configuration:\r\n```\r\nspring.datasoruce.url=jdbc:mysql://localhost:3306/employeemanager\r\nspring.datasource.username=root\r\nspring.datasource.password=2525\r\nspring.datasource.driver-class-name=com.mysql.jdbc.Driver\r\nspring.jpa.database-platform=org.hibernate.dialect.MySQL5Dialect\r\nspring.jpa.generate-ddl=true\r\nspring.jpa.hibernate.ddl-auto=update\r\n```\r\nI found a solution online which is writing:\r\n\r\n```@SpringBootApplication(exclude = {DataSourceAutoConfiguration.class})``` instead of ```@SpringBootApplication``` \r\n\r\nThis solved the problem at first, however, some people mentioned that this is not a proper solution. So I have 2 questions:\r\n\r\n1) What is the reason for this problem and how can I fix it?\r\n\r\n2) What exactly the solution I mentioned is doing in simple words?\r\n\r\nThank you.","title":"Spring Error: Failed to determine suitable jdbc url","body":"<p>I'm trying to learn Spring and following a guy's instructions on YouTube. At first, he only initialized the Spring project and wrote configurations which I copied and created the database called employeemanager. In short, I did exactly the same things with him but I get this error when I try to run the program:</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\nDescription:\nFailed to configure a DataSource: 'url' attribute is not specified and no embedded datasource could be configured.\n\nReason: Failed to determine suitable jdbc URL\n\nAction:\nConsider the following:\n    If you want an embedded database (H2, HSQL or Derby), please put it on the classpath.\n    If you have database settings to be loaded from a particular profile you may need to activate it (no profiles are currently active).\n</code></pre>\n<p>I am using MySQL and JPA. This is my configuration:</p>\n<pre><code>spring.datasoruce.url=jdbc:mysql://localhost:3306/employeemanager\nspring.datasource.username=root\nspring.datasource.password=2525\nspring.datasource.driver-class-name=com.mysql.jdbc.Driver\nspring.jpa.database-platform=org.hibernate.dialect.MySQL5Dialect\nspring.jpa.generate-ddl=true\nspring.jpa.hibernate.ddl-auto=update\n</code></pre>\n<p>I found a solution online which is writing:</p>\n<p><code>@SpringBootApplication(exclude = {DataSourceAutoConfiguration.class})</code> instead of <code>@SpringBootApplication</code></p>\n<p>This solved the problem at first, however, some people mentioned that this is not a proper solution. So I have 2 questions:</p>\n<ol>\n<li><p>What is the reason for this problem and how can I fix it?</p>\n</li>\n<li><p>What exactly the solution I mentioned is doing in simple words?</p>\n</li>\n</ol>\n<p>Thank you.</p>\n"},{"tags":["java","android-studio","qr-code","barcode-scanner"],"answers":[{"tags":[],"owner":{"account_id":1968635,"reputation":21509,"user_id":1768226,"accept_rate":80,"display_name":"shazin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642763175,"creation_date":1642763175,"answer_id":70800287,"question_id":70799479,"body_markdown":"You need to add it at the `onDecoded` method\r\n\r\n    codeScannerTest.setDecodeCallback(new DecodeCallback() {\r\n            @Override\r\n            public void onDecoded(@NonNull Result result) {\r\n                runOnUiThread(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        Intent intent = Intent(this, YouNextActivity.class);\r\n                        intent.putExtra(&quot;barcode&quot;, result.getText());\r\n                        startActivity(intent);\r\n                        //Toast.makeText(ScanTest.this, result.getText(), Toast.LENGTH_SHORT).show();\r\n\r\n                    }\r\n                });\r\n            }\r\n        });\r\n\r\nYou can use the `Intent.getExtra(&quot;barcode&quot;)` and can get the value in your next Activity.","title":"I want to proceed to next action after scanning QR Code? Where should I add Intent?","body":"<p>You need to add it at the <code>onDecoded</code> method</p>\n<pre><code>codeScannerTest.setDecodeCallback(new DecodeCallback() {\n        @Override\n        public void onDecoded(@NonNull Result result) {\n            runOnUiThread(new Runnable() {\n                @Override\n                public void run() {\n                    Intent intent = Intent(this, YouNextActivity.class);\n                    intent.putExtra(&quot;barcode&quot;, result.getText());\n                    startActivity(intent);\n                    //Toast.makeText(ScanTest.this, result.getText(), Toast.LENGTH_SHORT).show();\n\n                }\n            });\n        }\n    });\n</code></pre>\n<p>You can use the <code>Intent.getExtra(&quot;barcode&quot;)</code> and can get the value in your next Activity.</p>\n"}],"owner":{"account_id":23699578,"reputation":63,"user_id":17722908,"display_name":"Farida Bayramova"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":694,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70800287,"answer_count":1,"score":0,"last_activity_date":1642774520,"creation_date":1642759247,"question_id":70799479,"body_markdown":"I need to implement a QR Code scanner on an android project. I implemented the QR Code, however, I do not know how to switch to another action after QR is read.\r\n\r\nI want to create an Intent to move to new action but I do not know where to add it.\r\nI need the app to switch to another action as soon as it detects and reads QR Code.\r\n\r\ncode:\r\n\r\n     @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_scan_test);\r\n\r\n        CodeScannerView scannerViewTest = findViewById(R.id.scanner_view_test);\r\n        codeScannerTest = new CodeScanner(this, scannerViewTest);\r\n\r\n        askPermission();\r\n        if(CameraPermission) {\r\n\r\n\r\n            scannerViewTest.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n\r\n                    codeScannerTest.startPreview();\r\n                }\r\n            });\r\n\r\n            codeScannerTest.setDecodeCallback(new DecodeCallback() {\r\n                @Override\r\n                public void onDecoded(@NonNull Result result) {\r\n                    runOnUiThread(new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n\r\n                            Toast.makeText(ScanTest.this, result.getText(), Toast.LENGTH_SHORT).show();\r\n\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    private void askPermission(){\r\n\r\n        if(Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.LOLLIPOP){\r\n\r\n            if(ActivityCompat.checkSelfPermission(this, Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED){\r\n\r\n                ActivityCompat.requestPermissions(ScanTest.this, new String[]{Manifest.permission.CAMERA}, CAMERA_PERM);\r\n\r\n            }else {\r\n\r\n                codeScannerTest.startPreview();\r\n                CameraPermission = true;\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n\r\n        if(requestCode == CAMERA_PERM){\r\n            if(grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED){\r\n\r\n                codeScannerTest.startPreview();\r\n                CameraPermission = true;\r\n            }else{\r\n\r\n                if(ActivityCompat.shouldShowRequestPermissionRationale(this, Manifest.permission.CAMERA)){\r\n                    new AlertDialog.Builder(this)\r\n                            .setTitle(&quot;Permission&quot;)\r\n                            .setMessage(&quot;Please provide the camera permission for using all the features of the app&quot;)\r\n                            .setPositiveButton(&quot;Proceed&quot;, new DialogInterface.OnClickListener() {\r\n                                @Override\r\n                                public void onClick(DialogInterface dialog, int which) {\r\n\r\n                                    ActivityCompat.requestPermissions(ScanTest.this, new String[]{ Manifest.permission.CAMERA}, CAMERA_PERM);\r\n                                }\r\n                            }).setNegativeButton(&quot;Cancel&quot;, new DialogInterface.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(DialogInterface dialog, int which) {\r\n\r\n                            dialog.dismiss();\r\n                        }\r\n                    }).create().show();\r\n\r\n                } else {\r\n\r\n                    new AlertDialog.Builder(this)\r\n                            .setTitle(&quot;Permission&quot;)\r\n                            .setMessage(&quot;You have denied some permissions. Allow all permissions at [Settings] &gt; [Permissions]&quot;)\r\n                            .setPositiveButton(&quot;Settings&quot;, new DialogInterface.OnClickListener() {\r\n                                @Override\r\n                                public void onClick(DialogInterface dialog, int which) {\r\n\r\n                                    dialog.dismiss();\r\n                                    Intent settings_intent = new Intent(Settings.ACTION_APPLICATION_DETAILS_SETTINGS, Uri.fromParts(&quot;package&quot;, getPackageName(), null));\r\n                                    settings_intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                                    startActivity(settings_intent);\r\n                                    finish();\r\n\r\n                                }\r\n                            }).setNegativeButton(&quot;No, Exit app&quot;, new DialogInterface.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(DialogInterface dialog, int which) {\r\n\r\n                            dialog.dismiss();\r\n                            finish();\r\n                        }\r\n                    }).create().show();\r\n\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n    }\r\n\r\n    @Override\r\n    protected void onPause() {\r\n        if(CameraPermission){\r\n            codeScannerTest.releaseResources();\r\n        }\r\n        super.onPause();\r\n    }","title":"I want to proceed to next action after scanning QR Code? Where should I add Intent?","body":"<p>I need to implement a QR Code scanner on an android project. I implemented the QR Code, however, I do not know how to switch to another action after QR is read.</p>\n<p>I want to create an Intent to move to new action but I do not know where to add it.\nI need the app to switch to another action as soon as it detects and reads QR Code.</p>\n<p>code:</p>\n<pre><code> @Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_scan_test);\n\n    CodeScannerView scannerViewTest = findViewById(R.id.scanner_view_test);\n    codeScannerTest = new CodeScanner(this, scannerViewTest);\n\n    askPermission();\n    if(CameraPermission) {\n\n\n        scannerViewTest.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n                codeScannerTest.startPreview();\n            }\n        });\n\n        codeScannerTest.setDecodeCallback(new DecodeCallback() {\n            @Override\n            public void onDecoded(@NonNull Result result) {\n                runOnUiThread(new Runnable() {\n                    @Override\n                    public void run() {\n\n                        Toast.makeText(ScanTest.this, result.getText(), Toast.LENGTH_SHORT).show();\n\n                    }\n                });\n            }\n        });\n    }\n\n}\n\nprivate void askPermission(){\n\n    if(Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.LOLLIPOP){\n\n        if(ActivityCompat.checkSelfPermission(this, Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED){\n\n            ActivityCompat.requestPermissions(ScanTest.this, new String[]{Manifest.permission.CAMERA}, CAMERA_PERM);\n\n        }else {\n\n            codeScannerTest.startPreview();\n            CameraPermission = true;\n        }\n    }\n}\n\n@Override\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n\n    if(requestCode == CAMERA_PERM){\n        if(grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED){\n\n            codeScannerTest.startPreview();\n            CameraPermission = true;\n        }else{\n\n            if(ActivityCompat.shouldShowRequestPermissionRationale(this, Manifest.permission.CAMERA)){\n                new AlertDialog.Builder(this)\n                        .setTitle(&quot;Permission&quot;)\n                        .setMessage(&quot;Please provide the camera permission for using all the features of the app&quot;)\n                        .setPositiveButton(&quot;Proceed&quot;, new DialogInterface.OnClickListener() {\n                            @Override\n                            public void onClick(DialogInterface dialog, int which) {\n\n                                ActivityCompat.requestPermissions(ScanTest.this, new String[]{ Manifest.permission.CAMERA}, CAMERA_PERM);\n                            }\n                        }).setNegativeButton(&quot;Cancel&quot;, new DialogInterface.OnClickListener() {\n                    @Override\n                    public void onClick(DialogInterface dialog, int which) {\n\n                        dialog.dismiss();\n                    }\n                }).create().show();\n\n            } else {\n\n                new AlertDialog.Builder(this)\n                        .setTitle(&quot;Permission&quot;)\n                        .setMessage(&quot;You have denied some permissions. Allow all permissions at [Settings] &gt; [Permissions]&quot;)\n                        .setPositiveButton(&quot;Settings&quot;, new DialogInterface.OnClickListener() {\n                            @Override\n                            public void onClick(DialogInterface dialog, int which) {\n\n                                dialog.dismiss();\n                                Intent settings_intent = new Intent(Settings.ACTION_APPLICATION_DETAILS_SETTINGS, Uri.fromParts(&quot;package&quot;, getPackageName(), null));\n                                settings_intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n                                startActivity(settings_intent);\n                                finish();\n\n                            }\n                        }).setNegativeButton(&quot;No, Exit app&quot;, new DialogInterface.OnClickListener() {\n                    @Override\n                    public void onClick(DialogInterface dialog, int which) {\n\n                        dialog.dismiss();\n                        finish();\n                    }\n                }).create().show();\n\n            }\n\n        }\n    }\n\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n}\n\n@Override\nprotected void onPause() {\n    if(CameraPermission){\n        codeScannerTest.releaseResources();\n    }\n    super.onPause();\n}\n</code></pre>\n"},{"tags":["java","eclipse","debugging","deployment"],"answers":[{"tags":[],"owner":{"account_id":23162190,"reputation":67,"user_id":17262676,"display_name":"John Hammond"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642774461,"creation_date":1642774461,"answer_id":70802707,"question_id":70787731,"body_markdown":"Go to Servers, right click, and then &quot;publish&quot;. Not sure why this does anything differently, but it worked. Hot code replace works now.","title":"Why does Eclipse keep undeploying my entire WAR file when I save a .xhtml file (in debug mode)?","body":"<p>Go to Servers, right click, and then &quot;publish&quot;. Not sure why this does anything differently, but it worked. Hot code replace works now.</p>\n"}],"owner":{"account_id":23162190,"reputation":67,"user_id":17262676,"display_name":"John Hammond"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1642774461,"creation_date":1642687937,"question_id":70787731,"body_markdown":"I am trying to just update a .xhtml file in debug mode, which has been working fine for months. Now, all of a sudden, Eclipse is deciding to undeploy my entire WAR file and re-deploy it, instead of just updating the .xhtml file instantly.\r\n\r\nIs there a setting that somehow got changed accidently?\r\n\r\nI&#39;m using Eclipse 2019","title":"Why does Eclipse keep undeploying my entire WAR file when I save a .xhtml file (in debug mode)?","body":"<p>I am trying to just update a .xhtml file in debug mode, which has been working fine for months. Now, all of a sudden, Eclipse is deciding to undeploy my entire WAR file and re-deploy it, instead of just updating the .xhtml file instantly.</p>\n<p>Is there a setting that somehow got changed accidently?</p>\n<p>I'm using Eclipse 2019</p>\n"},{"tags":["java","android","android-studio","google-drive-api"],"answers":[{"tags":[],"owner":{"account_id":3659140,"reputation":567,"user_id":3049423,"accept_rate":75,"display_name":"Derenir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642774355,"creation_date":1626774177,"answer_id":68452741,"question_id":68437176,"body_markdown":"I finally figured out the answer to my problem, here is my solution using the `GoogleCredential.Builder()` documented [here][1]:\r\n\r\n        //  Upload file to google drive\r\n        public void uploadBarcodeFileToDrive() throws IOException, GeneralSecurityException {\r\n            // Get service account secret\r\n            InputStream inputStream = MainActivity.class.getResourceAsStream(CREDENTIALS_FILE_PATH);\r\n            if (inputStream == null)\r\n                throw new FileNotFoundException(&quot;Resource not found: &quot; + CREDENTIALS_FILE_PATH);\r\n    \r\n            // Convert inputStream to file\r\n            java.io.File clientSecret = new java.io.File(getFilesDir() + java.io.File.separator + &quot;credentials.p12&quot;);\r\n            OutputStream outputStream = new FileOutputStream(clientSecret);\r\n            IOUtils.copy(inputStream, outputStream);\r\n            if (!clientSecret.exists())\r\n                throw new FileNotFoundException(&quot;Credentials (credentials.p12) not created from: &quot; + CREDENTIALS_FILE_PATH);\r\n    \r\n            // Http transport creation\r\n            HttpTransport httpTransport = AndroidHttp.newCompatibleTransport();\r\n            // Instance of the JSON factory\r\n            JsonFactory jsonFactory = JacksonFactory.getDefaultInstance();\r\n            // Instance of the scopes required\r\n            List&lt;String&gt; scopes = new ArrayList&lt;&gt;();\r\n            scopes.add(DriveScopes.DRIVE);\r\n            // Build Google credential\r\n            GoogleCredential credential = new GoogleCredential.Builder()\r\n                    .setTransport(httpTransport)\r\n                    .setJsonFactory(jsonFactory)\r\n                    .setServiceAccountId(SERVICE_ACCOUNT_PROVIDER)\r\n                    .setServiceAccountScopes(scopes)\r\n                    .setServiceAccountPrivateKeyFromP12File(clientSecret)\r\n                    .setServiceAccountUser(SERVICE_ACCOUNT_USER)\r\n                    .build();\r\n            // Build Drive service\r\n            Drive service = new Drive.Builder(httpTransport, jsonFactory, credential)\r\n                    .setApplicationName(APPLICATION_NAME)\r\n                    .build();\r\n    \r\n            // Parents\r\n            List&lt;String&gt; parents = new ArrayList&lt;&gt;();\r\n            parents.add(TARGET_FOLDER_ID);\r\n            // Setup file\r\n            String timeStamp = new SimpleDateFormat(&quot;yyyyMMddHHmmss&quot;, Locale.forLanguageTag(&quot;hu-HU&quot;)).format(new java.util.Date());\r\n            File fileMetadata = new File();\r\n            fileMetadata.setName(&quot;scan_&quot; + timeStamp + &quot;.txt&quot;);\r\n            fileMetadata.setParents(parents);\r\n            java.io.File filePath = new java.io.File(getFilesDir() + java.io.File.separator + BARCODE_CONTAINER_TEMP_FILE);\r\n            FileContent mediaContent = new FileContent(&quot;text/plain&quot;, filePath);\r\n            // Upload file to google drive\r\n            service.files().create(fileMetadata, mediaContent)\r\n                    .setFields(&quot;id&quot;)\r\n                    .execute();\r\n    \r\n        }\r\n\r\nThe key differences in the example described in the question, and the current solution is the following:\r\n\r\n - For the `GoogleCredential.Builder()` I needed to create an `.p12` type key in the dev.console for the existing service account.\r\n - The key is stored in the project&#39;s assets/credentials folder.\r\n - This new key needs to be set up as a `java.io.File` instead of an `InputStream`, so I read it from the project assets and copied it to internal storage when the method called.\r\n - The `SERVICE_ACCOUNT_USER` should be the `[..]@[..].iam.gserviceaccount.com` style email address of the service account.\r\n - And the `setServiceAccountUser(SERVICE_ACCOUNT_USER)` is necessary, if you want to use a &#39;real&#39; account as the uploader, for example if you want to upload to a user&#39;s drive, or a folder shared with a specific user.\r\n - This user should have access granted for the service account in the dev.console.\r\n\r\n  [1]: https://googleapis.dev/java/google-api-client/latest/com/google/api/client/googleapis/auth/oauth2/GoogleCredential.Builder.html","title":"Connecting to google Drive API v3 with a service account in Android java app","body":"<p>I finally figured out the answer to my problem, here is my solution using the <code>GoogleCredential.Builder()</code> documented <a href=\"https://googleapis.dev/java/google-api-client/latest/com/google/api/client/googleapis/auth/oauth2/GoogleCredential.Builder.html\" rel=\"nofollow noreferrer\">here</a>:</p>\n<pre><code>    //  Upload file to google drive\n    public void uploadBarcodeFileToDrive() throws IOException, GeneralSecurityException {\n        // Get service account secret\n        InputStream inputStream = MainActivity.class.getResourceAsStream(CREDENTIALS_FILE_PATH);\n        if (inputStream == null)\n            throw new FileNotFoundException(&quot;Resource not found: &quot; + CREDENTIALS_FILE_PATH);\n\n        // Convert inputStream to file\n        java.io.File clientSecret = new java.io.File(getFilesDir() + java.io.File.separator + &quot;credentials.p12&quot;);\n        OutputStream outputStream = new FileOutputStream(clientSecret);\n        IOUtils.copy(inputStream, outputStream);\n        if (!clientSecret.exists())\n            throw new FileNotFoundException(&quot;Credentials (credentials.p12) not created from: &quot; + CREDENTIALS_FILE_PATH);\n\n        // Http transport creation\n        HttpTransport httpTransport = AndroidHttp.newCompatibleTransport();\n        // Instance of the JSON factory\n        JsonFactory jsonFactory = JacksonFactory.getDefaultInstance();\n        // Instance of the scopes required\n        List&lt;String&gt; scopes = new ArrayList&lt;&gt;();\n        scopes.add(DriveScopes.DRIVE);\n        // Build Google credential\n        GoogleCredential credential = new GoogleCredential.Builder()\n                .setTransport(httpTransport)\n                .setJsonFactory(jsonFactory)\n                .setServiceAccountId(SERVICE_ACCOUNT_PROVIDER)\n                .setServiceAccountScopes(scopes)\n                .setServiceAccountPrivateKeyFromP12File(clientSecret)\n                .setServiceAccountUser(SERVICE_ACCOUNT_USER)\n                .build();\n        // Build Drive service\n        Drive service = new Drive.Builder(httpTransport, jsonFactory, credential)\n                .setApplicationName(APPLICATION_NAME)\n                .build();\n\n        // Parents\n        List&lt;String&gt; parents = new ArrayList&lt;&gt;();\n        parents.add(TARGET_FOLDER_ID);\n        // Setup file\n        String timeStamp = new SimpleDateFormat(&quot;yyyyMMddHHmmss&quot;, Locale.forLanguageTag(&quot;hu-HU&quot;)).format(new java.util.Date());\n        File fileMetadata = new File();\n        fileMetadata.setName(&quot;scan_&quot; + timeStamp + &quot;.txt&quot;);\n        fileMetadata.setParents(parents);\n        java.io.File filePath = new java.io.File(getFilesDir() + java.io.File.separator + BARCODE_CONTAINER_TEMP_FILE);\n        FileContent mediaContent = new FileContent(&quot;text/plain&quot;, filePath);\n        // Upload file to google drive\n        service.files().create(fileMetadata, mediaContent)\n                .setFields(&quot;id&quot;)\n                .execute();\n\n    }\n</code></pre>\n<p>The key differences in the example described in the question, and the current solution is the following:</p>\n<ul>\n<li>For the <code>GoogleCredential.Builder()</code> I needed to create an <code>.p12</code> type key in the dev.console for the existing service account.</li>\n<li>The key is stored in the project's assets/credentials folder.</li>\n<li>This new key needs to be set up as a <code>java.io.File</code> instead of an <code>InputStream</code>, so I read it from the project assets and copied it to internal storage when the method called.</li>\n<li>The <code>SERVICE_ACCOUNT_USER</code> should be the <code>[..]@[..].iam.gserviceaccount.com</code> style email address of the service account.</li>\n<li>And the <code>setServiceAccountUser(SERVICE_ACCOUNT_USER)</code> is necessary, if you want to use a 'real' account as the uploader, for example if you want to upload to a user's drive, or a folder shared with a specific user.</li>\n<li>This user should have access granted for the service account in the dev.console.</li>\n</ul>\n"}],"owner":{"account_id":3659140,"reputation":567,"user_id":3049423,"accept_rate":75,"display_name":"Derenir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1975,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68452741,"answer_count":1,"score":0,"last_activity_date":1642774355,"creation_date":1626682416,"question_id":68437176,"body_markdown":"I&#39;m developing an Android app for internal use in the company I work for. I need to save a text file on a shared drive, on Google Drive. \r\nI&#39;ve done this several times before using a service account in the web appications I developed, but I can&#39;t seem to set the connection up correctly in an Android application environment.\r\n\r\nI&#39;ve tried the example provided by google https://developers.google.com/drive/api/v3/quickstart/java but it seems that this isn&#39;t compatible with Android, because it tries to use a library only available in desktop environment.\r\n\r\nHere is the code of what I implemented:\r\n\r\n    // Implements OnClick for sendData button\r\n    public void onClickSendData(View view) {\r\n    \ttry {\r\n    \t\t// Build a new authorized API client service.\r\n    \t\tfinal NetHttpTransport HTTP_TRANSPORT = new com.google.api.client.http.javanet.NetHttpTransport();\r\n    \t\tDrive service = new Drive.Builder(HTTP_TRANSPORT, JSON_FACTORY, getCredentials(HTTP_TRANSPORT))\r\n    \t\t\t\t.setApplicationName(APPLICATION_NAME)\r\n    \t\t\t\t.build();\r\n    \r\n    \t\t// Upload file to google drive\r\n    \t\tString timeStamp = new SimpleDateFormat(&quot;yyyyMMddHHmmss&quot;, Locale.forLanguageTag(&quot;hu-HU&quot;)).format(new java.util.Date());\r\n    \t\tFile fileMetadata = new File();\r\n    \t\tfileMetadata.setName(&quot;scan_&quot; + timeStamp + &quot;.txt&quot;);\r\n    \t\tfileMetadata.setParents(new ArrayList&lt;String&gt;(Arrays.asList(TARGET_FOLDER_ID)));\r\n    \t\tjava.io.File filePath = new java.io.File(getFilesDir() + java.io.File.separator + BARCODE_CONTAINER_TEMP_FILE);\r\n    \t\tFileContent mediaContent = new FileContent(&quot;text/plain&quot;, filePath);\r\n    \t\tFile file = service.files().create(fileMetadata, mediaContent)\r\n    \t\t\t\t.setFields(&quot;id&quot;)\r\n    \t\t\t\t.execute();\r\n    \r\n    \t\tbarcodeContainer.setText(R.string.tarhely_ures);\r\n    \t\tbarcodContainerEmptyFlag = true;\r\n    \r\n    \t}\r\n    \tcatch(Exception ex) {\r\n    \t\t// Handle any exception\r\n    \t\tex.printStackTrace();\r\n    \r\n    \t}\r\n    \r\n    }\r\n    \r\n    private Credential getCredentials(final NetHttpTransport HTTP_TRANSPORT) throws IOException {\r\n    \t// Load client secrets.\r\n    \tInputStream in = MainActivity.class.getResourceAsStream(CREDENTIALS_FILE_PATH);\r\n    \tif (in == null)\r\n    \t\tthrow new FileNotFoundException(&quot;Resource not found: &quot; + CREDENTIALS_FILE_PATH);\r\n    \r\n    \tGoogleClientSecrets clientSecrets = GoogleClientSecrets.load(JSON_FACTORY, new InputStreamReader(in));\r\n    \r\n    \tjava.io.File tokenFile = new java.io.File(getFilesDir() + java.io.File.separator + TOKENS_DIRECTORY_PATH);\r\n    \tif(!tokenFile.isDirectory())\r\n    \t\ttokenFile.mkdirs();\r\n    \r\n    \t// Build flow and trigger user authorization request.\r\n    \tGoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\r\n    \t\t\tHTTP_TRANSPORT, JSON_FACTORY, clientSecrets, SCOPES)\r\n    \t\t\t.setDataStoreFactory(new FileDataStoreFactory(tokenFile))\r\n    \t\t\t.setAccessType(&quot;offline&quot;)\r\n    \t\t\t.build();\r\n    \tLocalServerReceiver receiver = new LocalServerReceiver.Builder().setPort(8888).build();\r\n    \r\n    \treturn new AuthorizationCodeInstalledApp(flow, receiver).authorize(&quot;user&quot;);\r\n    \r\n    }\r\n\r\nAnd the runtime error is the following:\r\n`java.lang.ClassNotFoundException: Didn&#39;t find class “java.awt.Desktop” in Android`","title":"Connecting to google Drive API v3 with a service account in Android java app","body":"<p>I'm developing an Android app for internal use in the company I work for. I need to save a text file on a shared drive, on Google Drive.\nI've done this several times before using a service account in the web appications I developed, but I can't seem to set the connection up correctly in an Android application environment.</p>\n<p>I've tried the example provided by google <a href=\"https://developers.google.com/drive/api/v3/quickstart/java\" rel=\"nofollow noreferrer\">https://developers.google.com/drive/api/v3/quickstart/java</a> but it seems that this isn't compatible with Android, because it tries to use a library only available in desktop environment.</p>\n<p>Here is the code of what I implemented:</p>\n<pre><code>// Implements OnClick for sendData button\npublic void onClickSendData(View view) {\n    try {\n        // Build a new authorized API client service.\n        final NetHttpTransport HTTP_TRANSPORT = new com.google.api.client.http.javanet.NetHttpTransport();\n        Drive service = new Drive.Builder(HTTP_TRANSPORT, JSON_FACTORY, getCredentials(HTTP_TRANSPORT))\n                .setApplicationName(APPLICATION_NAME)\n                .build();\n\n        // Upload file to google drive\n        String timeStamp = new SimpleDateFormat(&quot;yyyyMMddHHmmss&quot;, Locale.forLanguageTag(&quot;hu-HU&quot;)).format(new java.util.Date());\n        File fileMetadata = new File();\n        fileMetadata.setName(&quot;scan_&quot; + timeStamp + &quot;.txt&quot;);\n        fileMetadata.setParents(new ArrayList&lt;String&gt;(Arrays.asList(TARGET_FOLDER_ID)));\n        java.io.File filePath = new java.io.File(getFilesDir() + java.io.File.separator + BARCODE_CONTAINER_TEMP_FILE);\n        FileContent mediaContent = new FileContent(&quot;text/plain&quot;, filePath);\n        File file = service.files().create(fileMetadata, mediaContent)\n                .setFields(&quot;id&quot;)\n                .execute();\n\n        barcodeContainer.setText(R.string.tarhely_ures);\n        barcodContainerEmptyFlag = true;\n\n    }\n    catch(Exception ex) {\n        // Handle any exception\n        ex.printStackTrace();\n\n    }\n\n}\n\nprivate Credential getCredentials(final NetHttpTransport HTTP_TRANSPORT) throws IOException {\n    // Load client secrets.\n    InputStream in = MainActivity.class.getResourceAsStream(CREDENTIALS_FILE_PATH);\n    if (in == null)\n        throw new FileNotFoundException(&quot;Resource not found: &quot; + CREDENTIALS_FILE_PATH);\n\n    GoogleClientSecrets clientSecrets = GoogleClientSecrets.load(JSON_FACTORY, new InputStreamReader(in));\n\n    java.io.File tokenFile = new java.io.File(getFilesDir() + java.io.File.separator + TOKENS_DIRECTORY_PATH);\n    if(!tokenFile.isDirectory())\n        tokenFile.mkdirs();\n\n    // Build flow and trigger user authorization request.\n    GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\n            HTTP_TRANSPORT, JSON_FACTORY, clientSecrets, SCOPES)\n            .setDataStoreFactory(new FileDataStoreFactory(tokenFile))\n            .setAccessType(&quot;offline&quot;)\n            .build();\n    LocalServerReceiver receiver = new LocalServerReceiver.Builder().setPort(8888).build();\n\n    return new AuthorizationCodeInstalledApp(flow, receiver).authorize(&quot;user&quot;);\n\n}\n</code></pre>\n<p>And the runtime error is the following:\n<code>java.lang.ClassNotFoundException: Didn't find class “java.awt.Desktop” in Android</code></p>\n"},{"tags":["java","android","android-studio","android-view","android-context"],"comments":[{"owner":{"account_id":13180915,"reputation":1094,"user_id":9520315,"display_name":"Sujal Kumar"},"score":1,"creation_date":1642764271,"post_id":70800433,"comment_id":125164394,"body_markdown":"Have you checked SDK Manager?","body":"Have you checked SDK Manager?"},{"owner":{"account_id":23755583,"reputation":13,"user_id":17771744,"display_name":"Multi Level Technology"},"score":0,"creation_date":1642765380,"post_id":70800433,"comment_id":125164768,"body_markdown":"@SujalKumar yes i checked, sdk is latest and sdk manager is working fine.","body":"@SujalKumar yes i checked, sdk is latest and sdk manager is working fine."},{"owner":{"account_id":13180915,"reputation":1094,"user_id":9520315,"display_name":"Sujal Kumar"},"score":1,"creation_date":1642765931,"post_id":70800433,"comment_id":125164954,"body_markdown":"Switch to Project Mode and go to External Libraries -&gt; Android API (Version) Platform -&gt; android.jar -&gt; android and then check if **view** etc folders are there or not.","body":"Switch to Project Mode and go to External Libraries -&gt; Android API (Version) Platform -&gt; android.jar -&gt; android and then check if <b>view</b> etc folders are there or not."},{"owner":{"account_id":23755583,"reputation":13,"user_id":17771744,"display_name":"Multi Level Technology"},"score":0,"creation_date":1642771601,"post_id":70800433,"comment_id":125167123,"body_markdown":"@SujalKumar i checked some java files like Context,View are empty, what should i do for them ?","body":"@SujalKumar i checked some java files like Context,View are empty, what should i do for them ?"},{"owner":{"account_id":13180915,"reputation":1094,"user_id":9520315,"display_name":"Sujal Kumar"},"score":1,"creation_date":1642771705,"post_id":70800433,"comment_id":125167170,"body_markdown":"Delete and re-download the whole Android API from SDK manager. That&#39;s the only way I can see right now.","body":"Delete and re-download the whole Android API from SDK manager. That&#39;s the only way I can see right now."},{"owner":{"account_id":23755583,"reputation":13,"user_id":17771744,"display_name":"Multi Level Technology"},"score":1,"creation_date":1642772969,"post_id":70800433,"comment_id":125167721,"body_markdown":"@SujalKumar Thank you so much, it wroked for me.","body":"@SujalKumar Thank you so much, it wroked for me."},{"owner":{"account_id":13180915,"reputation":1094,"user_id":9520315,"display_name":"Sujal Kumar"},"score":0,"creation_date":1642773642,"post_id":70800433,"comment_id":125168031,"body_markdown":"Happy to help :)","body":"Happy to help :)"},{"owner":{"account_id":13180915,"reputation":1094,"user_id":9520315,"display_name":"Sujal Kumar"},"score":0,"creation_date":1642773838,"post_id":70800433,"comment_id":125168119,"body_markdown":"I have posted an answer to avoid any future confusion for anyone else who faces this.","body":"I have posted an answer to avoid any future confusion for anyone else who faces this."}],"answers":[{"tags":[],"owner":{"account_id":13180915,"reputation":1094,"user_id":9520315,"display_name":"Sujal Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642773782,"creation_date":1642773782,"answer_id":70802568,"question_id":70800433,"body_markdown":"In case anyone gets the same problem:\r\nDelete and re-download the whole Android API from SDK Manager.","title":"Android Studio &#39;android.content&#39; and &#39;android.view&#39; sub classes are missing","body":"<p>In case anyone gets the same problem:\nDelete and re-download the whole Android API from SDK Manager.</p>\n"}],"owner":{"account_id":23755583,"reputation":13,"user_id":17771744,"display_name":"Multi Level Technology"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":275,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70802568,"answer_count":1,"score":1,"last_activity_date":1642773782,"creation_date":1642763951,"question_id":70800433,"body_markdown":"In Android Studio packages **android.content** and **android.view** sub classes are missing, \r\nsub claases like \r\n\r\n - View \r\n - Context\r\n - LayoutInflater\r\n\r\n\r\ni tried \r\n\r\n - Invalidate Cache/ Restart\r\n - Rebuild Project\r\n - Clean\r\n - Updated All Dependencies\r\n\r\nbut no one worked for me. \r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7ow2D.png","title":"Android Studio &#39;android.content&#39; and &#39;android.view&#39; sub classes are missing","body":"<p>In Android Studio packages <strong>android.content</strong> and <strong>android.view</strong> sub classes are missing,\nsub claases like</p>\n<ul>\n<li>View</li>\n<li>Context</li>\n<li>LayoutInflater</li>\n</ul>\n<p>i tried</p>\n<ul>\n<li>Invalidate Cache/ Restart</li>\n<li>Rebuild Project</li>\n<li>Clean</li>\n<li>Updated All Dependencies</li>\n</ul>\n<p>but no one worked for me.</p>\n<p><a href=\"https://i.stack.imgur.com/7ow2D.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","android","firebase","android-recyclerview","firebaseui"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1641463918,"post_id":70605077,"comment_id":124812686,"body_markdown":"If that array, is an array of custom objects, then most likely this article, [How to map an array of objects from Cloud Firestore to a List of objects?](https://medium.com/firebase-tips-tricks/how-to-map-an-array-of-objects-from-cloud-firestore-to-a-list-of-objects-122e579eae10) might help you solve the problem.","body":"If that array, is an array of custom objects, then most likely this article, <a href=\"https://medium.com/firebase-tips-tricks/how-to-map-an-array-of-objects-from-cloud-firestore-to-a-list-of-objects-122e579eae10\" rel=\"nofollow noreferrer\">How to map an array of objects from Cloud Firestore to a List of objects?</a> might help you solve the problem."}],"owner":{"account_id":23495663,"reputation":46,"user_id":17546133,"display_name":"AnchorInk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642773473,"creation_date":1641461846,"question_id":70605077,"body_markdown":"I am creating a FirebaseRecyclerView.\r\n\r\nI give to my FirebaseRecyclerView a Query that refers to objects from my FirestoreDatabase.\r\n\r\n**But instead of having 1 element for each object, I want to create severals elements.**\r\n\r\nExample of 1 object structure :\r\n\r\n    Firestore-root\r\n        |\r\n        --- collection (collection)\r\n               |\r\n               --- document1 (document)\r\n               |        |\r\n               |        --- documentField (List&lt;Object&gt;): &quot;Data1&quot;\r\n               |                                        : &quot;Data2&quot;\r\n               |                                        : &quot;Data3&quot;\r\n\r\nWhat I can do :\r\n\r\n[View_I_Can_Do][1]\r\n\r\n\r\nWhat I want to do :\r\n\r\n[View_I_Want_To_Have][2]\r\n\r\n  [1]: https://i.stack.imgur.com/5A2IX.png\r\n  [2]: https://i.stack.imgur.com/sf0Pn.png\r\n\r\nNB : The number of &#39;&#39;Data&#39;&#39; is changing, so I can&#39;t design an itemView to match with an undefined number of  variables.\r\n\r\nI suppose the solution is in the **onBindViewHolder** method, but I don&#39;t know how to make it works.\r\n\r\nDon&#39;t hesitate to ask for more details if needed.\r\nAny help or suggestion would be appreciated, thanks in advance !\r\n\r\n***Edit 01/21/2022*** :\r\n\r\nI&#39;m still stuck on this ...\r\nI tried to give more detail in this question : https://stackoverflow.com/questions/70559215/display-one-item-for-each-object-in-a-single-firebase-document-field-firebaser\r\nMaybe this is more explicit.","title":"FirebaseRecyclerView - make onBindViewHolder method create severals elements","body":"<p>I am creating a FirebaseRecyclerView.</p>\n<p>I give to my FirebaseRecyclerView a Query that refers to objects from my FirestoreDatabase.</p>\n<p><strong>But instead of having 1 element for each object, I want to create severals elements.</strong></p>\n<p>Example of 1 object structure :</p>\n<pre><code>Firestore-root\n    |\n    --- collection (collection)\n           |\n           --- document1 (document)\n           |        |\n           |        --- documentField (List&lt;Object&gt;): &quot;Data1&quot;\n           |                                        : &quot;Data2&quot;\n           |                                        : &quot;Data3&quot;\n</code></pre>\n<p>What I can do :</p>\n<p><a href=\"https://i.stack.imgur.com/5A2IX.png\" rel=\"nofollow noreferrer\">View_I_Can_Do</a></p>\n<p>What I want to do :</p>\n<p><a href=\"https://i.stack.imgur.com/sf0Pn.png\" rel=\"nofollow noreferrer\">View_I_Want_To_Have</a></p>\n<p>NB : The number of ''Data'' is changing, so I can't design an itemView to match with an undefined number of  variables.</p>\n<p>I suppose the solution is in the <strong>onBindViewHolder</strong> method, but I don't know how to make it works.</p>\n<p>Don't hesitate to ask for more details if needed.\nAny help or suggestion would be appreciated, thanks in advance !</p>\n<p><em><strong>Edit 01/21/2022</strong></em> :</p>\n<p>I'm still stuck on this ...\nI tried to give more detail in this question : <a href=\"https://stackoverflow.com/questions/70559215/display-one-item-for-each-object-in-a-single-firebase-document-field-firebaser\">Display one item for each object in a single Firebase document field - FirebaseRecyclerView</a>\nMaybe this is more explicit.</p>\n"},{"tags":["java","android","xml","android-layout","android-inflate"],"answers":[{"tags":[],"owner":{"account_id":35743,"reputation":150884,"user_id":101361,"accept_rate":71,"display_name":"laalto"},"down_vote_count":0,"up_vote_count":98,"is_accepted":true,"score":98,"last_activity_date":1387452408,"creation_date":1387452408,"answer_id":20680508,"question_id":20680451,"body_markdown":"Check your `drawable/background_main` i.e. the background image of your root layout - the VM runs out of memory when decoding the bitmap. Make the image dimensions smaller.","title":"InflateException: Binary XML file line #1: Error inflating class &lt;unknown&gt; caused by OutOfMemoryError","body":"<p>Check your <code>drawable/background_main</code> i.e. the background image of your root layout - the VM runs out of memory when decoding the bitmap. Make the image dimensions smaller.</p>\n"},{"tags":[],"owner":{"account_id":2686520,"reputation":14490,"user_id":2320817,"accept_rate":50,"display_name":"kalyan pvs"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1421039191,"creation_date":1387452442,"answer_id":20680528,"question_id":20680451,"body_markdown":"You are using this layout in fragment not in Activity.And also there is another exception `OutOfMemory` your background image is very large try to reduce it..","title":"InflateException: Binary XML file line #1: Error inflating class &lt;unknown&gt; caused by OutOfMemoryError","body":"<p>You are using this layout in fragment not in Activity.And also there is another exception <code>OutOfMemory</code> your background image is very large try to reduce it..</p>\n"},{"tags":[],"owner":{"account_id":2069643,"reputation":18925,"user_id":1844392,"accept_rate":65,"display_name":"Piyush"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1387452686,"creation_date":1387452686,"answer_id":20680617,"question_id":20680451,"body_markdown":"The problem occurs because the ***drawable/background_main*** has a high resolution image. So when it loads then the ***VM runs out of memory*** .\r\n\r\nSo best way is to reduce it size or resolution.","title":"InflateException: Binary XML file line #1: Error inflating class &lt;unknown&gt; caused by OutOfMemoryError","body":"<p>The problem occurs because the <strong>*drawable/background_main*</strong> has a high resolution image. So when it loads then the <strong><em>VM runs out of memory</em></strong> .</p>\n\n<p>So best way is to reduce it size or resolution.</p>\n"},{"tags":[],"owner":{"account_id":1127417,"reputation":47697,"user_id":1114338,"accept_rate":100,"display_name":"M D"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1387452948,"creation_date":1387452948,"answer_id":20680714,"question_id":20680451,"body_markdown":"Caused by: java.lang.OutOfMemoryError: bitmap size exceeds VM budget may be the real culprit here. Try using smaller image to see if it is a memory-related issue.\r\nCheck out these links for examples of similar issues:\r\n\r\n[java.lang.OutOfMemoryError: bitmap size exceeds VM budget - android - how many images?][1]\r\nand \r\n[OutOfMemory exception when loading bitmap from external storage][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1955188/java-lang-outofmemoryerror-bitmap-size-exceeds-vm-budget-android-how-many-i\r\n  [2]: https://stackoverflow.com/questions/4102758/outofmemory-exception-when-loading-bitmap-from-external-storage/4134307#4134307","title":"InflateException: Binary XML file line #1: Error inflating class &lt;unknown&gt; caused by OutOfMemoryError","body":"<p>Caused by: java.lang.OutOfMemoryError: bitmap size exceeds VM budget may be the real culprit here. Try using smaller image to see if it is a memory-related issue.\nCheck out these links for examples of similar issues:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/1955188/java-lang-outofmemoryerror-bitmap-size-exceeds-vm-budget-android-how-many-i\">java.lang.OutOfMemoryError: bitmap size exceeds VM budget - android - how many images?</a>\nand \n<a href=\"https://stackoverflow.com/questions/4102758/outofmemory-exception-when-loading-bitmap-from-external-storage/4134307#4134307\">OutOfMemory exception when loading bitmap from external storage</a></p>\n"},{"tags":[],"owner":{"account_id":3442780,"reputation":4961,"user_id":2884309,"accept_rate":73,"display_name":"Ivan Aracki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1406761045,"creation_date":1406761045,"answer_id":25048331,"question_id":20680451,"body_markdown":"I&#39;ve solved the same problem by reducing dimension of .png buttons in all xml files","title":"InflateException: Binary XML file line #1: Error inflating class &lt;unknown&gt; caused by OutOfMemoryError","body":"<p>I've solved the same problem by reducing dimension of .png buttons in all xml files</p>\n"},{"tags":[],"owner":{"account_id":5775887,"reputation":2008,"user_id":4557946,"accept_rate":65,"display_name":"Tushar Saha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1454930826,"creation_date":1454930826,"answer_id":35268544,"question_id":20680451,"body_markdown":"Try using images of different resolutions such as mdpi,hdpi,xhdpi if only using higher resolution images it might cause a crash in low resolution phones","title":"InflateException: Binary XML file line #1: Error inflating class &lt;unknown&gt; caused by OutOfMemoryError","body":"<p>Try using images of different resolutions such as mdpi,hdpi,xhdpi if only using higher resolution images it might cause a crash in low resolution phones</p>\n"},{"tags":[],"owner":{"account_id":3486878,"reputation":3337,"user_id":2917564,"accept_rate":77,"display_name":"jobbert"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1499330809,"creation_date":1499330809,"answer_id":44943972,"question_id":20680451,"body_markdown":"My problem was that I had a shape with a `&lt;solid&gt;` with color `?selectableItemBackground`. Yes it is dumb and a specific case, but posting it here for people with the same mistake.","title":"InflateException: Binary XML file line #1: Error inflating class &lt;unknown&gt; caused by OutOfMemoryError","body":"<p>My problem was that I had a shape with a <code>&lt;solid&gt;</code> with color <code>?selectableItemBackground</code>. Yes it is dumb and a specific case, but posting it here for people with the same mistake.</p>\n"},{"tags":[],"owner":{"account_id":7895689,"reputation":74,"user_id":5964425,"display_name":"Gustavo Tufi&#241;o Fern&#225;ndez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511767340,"creation_date":1511767340,"answer_id":47505695,"question_id":20680451,"body_markdown":"Well, in my case the answer was in xml design, conflict android:backgroundTint and android:tint\r\n\r\n&gt; **I was design a FloatinActionButton like this:**\r\n\r\n    &lt;android.support.design.widget.FloatingActionButton\r\n                        android:id=&quot;@+id/fa_close_patient&quot;\r\n                        android:layout_width=&quot;50dp&quot;\r\n                        android:layout_height=&quot;50dp&quot;\r\n                        android:scaleX=&quot;0.8&quot;\r\n                        android:scaleY=&quot;0.8&quot;\r\n                        android:layout_alignParentEnd=&quot;true&quot;\r\n                        android:layout_centerVertical=&quot;true&quot;\r\n                        android:layout_gravity=&quot;right&quot;\r\n                        android:layout_marginEnd=&quot;30dp&quot;\r\n                        android:backgroundTint=&quot;@color/white&quot;\r\n                        android:src=&quot;@drawable/ic_close_black_24dp&quot;\r\n                        android:tint=&quot;@color/colorPrimaryDark&quot; /&gt;\r\n\r\nand it&#39;s ok but API &gt; 23\r\n\r\n&gt; **If u design for API_LEVEL &lt; 23, this it&#39;s the fix**\r\n\r\n    &lt;android.support.design.widget.FloatingActionButton\r\n                        android:id=&quot;@+id/fa_close_patient&quot;\r\n                        android:layout_width=&quot;50dp&quot;\r\n                        android:layout_height=&quot;50dp&quot;\r\n                        android:scaleX=&quot;0.8&quot;\r\n                        android:scaleY=&quot;0.8&quot;\r\n                        android:layout_alignParentEnd=&quot;true&quot;\r\n                        android:layout_centerVertical=&quot;true&quot;\r\n                        android:layout_gravity=&quot;right&quot;\r\n                        android:layout_marginEnd=&quot;30dp&quot;\r\n                        app:backgroundTint=&quot;@color/white&quot;\r\n                        android:src=&quot;@drawable/ic_close_black_24dp&quot;/&gt;\r\n\r\nI hope I have help you,\r\n\r\nRegards","title":"InflateException: Binary XML file line #1: Error inflating class &lt;unknown&gt; caused by OutOfMemoryError","body":"<p>Well, in my case the answer was in xml design, conflict android:backgroundTint and android:tint</p>\n\n<blockquote>\n  <p><strong>I was design a FloatinActionButton like this:</strong></p>\n</blockquote>\n\n<pre><code>&lt;android.support.design.widget.FloatingActionButton\n                    android:id=\"@+id/fa_close_patient\"\n                    android:layout_width=\"50dp\"\n                    android:layout_height=\"50dp\"\n                    android:scaleX=\"0.8\"\n                    android:scaleY=\"0.8\"\n                    android:layout_alignParentEnd=\"true\"\n                    android:layout_centerVertical=\"true\"\n                    android:layout_gravity=\"right\"\n                    android:layout_marginEnd=\"30dp\"\n                    android:backgroundTint=\"@color/white\"\n                    android:src=\"@drawable/ic_close_black_24dp\"\n                    android:tint=\"@color/colorPrimaryDark\" /&gt;\n</code></pre>\n\n<p>and it's ok but API > 23</p>\n\n<blockquote>\n  <p><strong>If u design for API_LEVEL &lt; 23, this it's the fix</strong></p>\n</blockquote>\n\n<pre><code>&lt;android.support.design.widget.FloatingActionButton\n                    android:id=\"@+id/fa_close_patient\"\n                    android:layout_width=\"50dp\"\n                    android:layout_height=\"50dp\"\n                    android:scaleX=\"0.8\"\n                    android:scaleY=\"0.8\"\n                    android:layout_alignParentEnd=\"true\"\n                    android:layout_centerVertical=\"true\"\n                    android:layout_gravity=\"right\"\n                    android:layout_marginEnd=\"30dp\"\n                    app:backgroundTint=\"@color/white\"\n                    android:src=\"@drawable/ic_close_black_24dp\"/&gt;\n</code></pre>\n\n<p>I hope I have help you,</p>\n\n<p>Regards</p>\n"},{"tags":[],"owner":{"account_id":10240596,"reputation":779,"user_id":7558125,"display_name":"Pratik Mhatre"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532949164,"creation_date":1532949164,"answer_id":51592700,"question_id":20680451,"body_markdown":"In my case I was getting illogical class inflation exceptions, after digging for a while I found that the error was caused due to deprecated code blocks related to android framework itself.","title":"InflateException: Binary XML file line #1: Error inflating class &lt;unknown&gt; caused by OutOfMemoryError","body":"<p>In my case I was getting illogical class inflation exceptions, after digging for a while I found that the error was caused due to deprecated code blocks related to android framework itself.</p>\n"},{"tags":[],"owner":{"account_id":11673191,"reputation":786,"user_id":8547620,"display_name":"Hossein Karami"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642773061,"creation_date":1586028673,"answer_id":61033677,"question_id":20680451,"body_markdown":"for those who have this problem: there are some cases that may lead app to crash. I have seen these the most.\r\n\r\n1- using ?selectableItemBackground may cause this problem.\r\n\r\n2- if using large images (or else) that make the application errors like failed to allocate... this happens when hardware accelerated is on. you can set it to off in this case and using large-heap in manifest(application element)\r\n\r\n3- if you have a drawable that is in v-21(for example) branch and you are running app on below 21, it can cause this problem too.\r\n\r\ngood luck!\r\n\r\nhttps://stacklearn.ir","title":"InflateException: Binary XML file line #1: Error inflating class &lt;unknown&gt; caused by OutOfMemoryError","body":"<p>for those who have this problem: there are some cases that may lead app to crash. I have seen these the most.</p>\n<p>1- using ?selectableItemBackground may cause this problem.</p>\n<p>2- if using large images (or else) that make the application errors like failed to allocate... this happens when hardware accelerated is on. you can set it to off in this case and using large-heap in manifest(application element)</p>\n<p>3- if you have a drawable that is in v-21(for example) branch and you are running app on below 21, it can cause this problem too.</p>\n<p>good luck!</p>\n<p><a href=\"https://stacklearn.ir\" rel=\"nofollow noreferrer\">https://stacklearn.ir</a></p>\n"},{"tags":[],"owner":{"account_id":9516053,"reputation":151,"user_id":7072402,"display_name":"Abd-Elwahab Zayed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613614675,"creation_date":1613614675,"answer_id":66252664,"question_id":20680451,"body_markdown":"in my case i was using drawable from \r\n\r\n&gt; drawable-v24\r\n\r\nwhen i moved it to \r\n\r\n&gt; drawable\r\n\r\nit worked for me.","title":"InflateException: Binary XML file line #1: Error inflating class &lt;unknown&gt; caused by OutOfMemoryError","body":"<p>in my case i was using drawable from</p>\n<blockquote>\n<p>drawable-v24</p>\n</blockquote>\n<p>when i moved it to</p>\n<blockquote>\n<p>drawable</p>\n</blockquote>\n<p>it worked for me.</p>\n"}],"owner":{"account_id":1466637,"reputation":22094,"user_id":1379286,"accept_rate":66,"display_name":"PeakGen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111037,"favorite_count":0,"down_vote_count":0,"up_vote_count":40,"accepted_answer_id":20680508,"answer_count":11,"score":40,"last_activity_date":1642773061,"creation_date":1387452251,"question_id":20680451,"body_markdown":"Here is my code:\r\n\r\n**input.xml** (layout folder)\r\n\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.MainActivity&quot;\r\n        android:background=&quot;@drawable/background_main&quot; &gt;\r\n        \r\n        &lt;ImageView \r\n            android:id=&quot;@+id/logo_image&quot;\r\n            android:background=&quot;@drawable/background_green&quot;\r\n            android:src=&quot;@drawable/titleimage&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;50dp&quot;\r\n            /&gt;\r\n        \r\n        &lt;ScrollView\r\n            android:id=&quot;@+id/scroller&quot;\r\n            android:layout_width=&quot;fill_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_below=&quot;@id/logo_image&quot;\r\n            android:layout_marginTop=&quot;10dp&quot;\r\n            &gt;\r\n    \r\n            &lt;TableLayout\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:stretchColumns=&quot;*&quot; &gt;\r\n    \r\n                &lt;TableRow\r\n                    android:id=&quot;@+id/device_type_row&quot;\r\n                    android:layout_width=&quot;fill_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:paddingTop=&quot;5dp&quot;\r\n                    android:paddingBottom=&quot;5dp&quot;\r\n                    android:layout_marginRight=&quot;5dp&quot; &gt;\r\n    \r\n                    &lt;RadioButton\r\n                        android:id=&quot;@+id/device_type_radio&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:textAppearance=&quot;?android:attr/textAppearanceSmall&quot;\r\n                        android:text=&quot;@string/device_type&quot; /&gt;\r\n                    \r\n                    &lt;RadioGroup \r\n            \t\t\tandroid:id=&quot;@+id/device_type_radio_selection&quot;\r\n            \t\t\tandroid:layout_width=&quot;wrap_content&quot;\r\n           \t\t\t    android:layout_height=&quot;wrap_content&quot;\r\n           \t\t\t    android:orientation=&quot;horizontal&quot;&gt;\r\n            \r\n            \t\t\t&lt;RadioButton\r\n                \t\t\tandroid:id=&quot;@+id/radioIos&quot;\r\n                \t\t\tandroid:layout_width=&quot;wrap_content&quot;\r\n                \t\t\tandroid:layout_height = &quot;wrap_content&quot;\r\n                \t\t\tandroid:textAppearance=&quot;?android:attr/textAppearanceSmall&quot;\r\n                \t\t\tandroid:text=&quot;@string/iOS&quot;\r\n                \t\t\t/&gt;\r\n            \r\n            \t\t\t&lt;RadioButton\r\n                \t\t\tandroid:id=&quot;@+id/radioAndroid&quot;\r\n                \t\t\tandroid:layout_width=&quot;wrap_content&quot;\r\n                \t\t\tandroid:layout_height = &quot;wrap_content&quot;\r\n                \t\t\tandroid:textAppearance=&quot;?android:attr/textAppearanceSmall&quot;\r\n                \t\t\tandroid:text=&quot;@string/android&quot;\r\n                \t\t\t/&gt;\r\n            \r\n            \r\n        \t\t\t&lt;/RadioGroup&gt;\r\n    \r\n    \r\n                &lt;/TableRow&gt;\r\n    \r\n                &lt;TableRow\r\n                    android:id=&quot;@+id/days_as_customers_row&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:paddingTop=&quot;5dp&quot;\r\n                    android:paddingBottom=&quot;5dp&quot;\r\n                    android:layout_marginRight=&quot;5dp&quot; &gt;\r\n                    \r\n                    &lt;RadioButton\r\n                        android:id=&quot;@+id/days_as_customers_radio&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:textAppearance=&quot;?android:attr/textAppearanceSmall&quot;\r\n                        android:text=&quot;@string/days_as_customers&quot; /&gt;\r\n    \r\n                    &lt;LinearLayout\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:weightSum=&quot;2&quot; &gt;\r\n    \r\n                        &lt;SeekBar\r\n                            android:id=&quot;@+id/days_as_customer_seekbar&quot;\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:layout_weight=&quot;1&quot; /&gt;\r\n    \r\n                        &lt;TextView\r\n                            android:id=&quot;@+id/days_as_customer_text&quot;\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:text=&quot;1/210&quot;\r\n                            android:layout_weight=&quot;1&quot;\r\n                            android:singleLine=&quot;true&quot;\r\n                            android:textAppearance=&quot;?android:attr/textAppearanceSmall&quot; /&gt;\r\n    \r\n                    &lt;/LinearLayout&gt;\r\n    \r\n                &lt;/TableRow&gt;\r\n    \r\n                &lt;TableRow\r\n                    android:id=&quot;@+id/average_sessions_row&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot; &gt;\r\n                    \r\n                    &lt;RadioButton\r\n                        android:id=&quot;@+id/average_sessions&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:textAppearance=&quot;?android:attr/textAppearanceSmall&quot;\r\n                        android:text=&quot;@string/average_sessions&quot; /&gt;\r\n                    \r\n                    &lt;LinearLayout\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:weightSum=&quot;2&quot; &gt;\r\n    \r\n                        &lt;SeekBar\r\n                            android:id=&quot;@+id/average_sessions_seekbar&quot;\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:layout_weight=&quot;1&quot; /&gt;\r\n    \r\n                        &lt;TextView\r\n                            android:id=&quot;@+id/average_sessions_text&quot;\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:text=&quot;240/9000&quot;\r\n                            android:layout_weight=&quot;1&quot;\r\n                            android:singleLine=&quot;true&quot;\r\n                            android:textAppearance=&quot;?android:attr/textAppearanceSmall&quot; /&gt;\r\n    \r\n                    &lt;/LinearLayout&gt;\r\n                &lt;/TableRow&gt;\r\n    \r\n                &lt;TableRow\r\n                    android:id=&quot;@+id/tableRow4&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot; &gt;\r\n                    \r\n                    &lt;RadioButton\r\n                        android:id=&quot;@+id/conversion_time_radio&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:textAppearance=&quot;?android:attr/textAppearanceSmall&quot;\r\n                        android:text=&quot;@string/conversion_title&quot; /&gt;\r\n                    \r\n                    &lt;LinearLayout\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:weightSum=&quot;2&quot; &gt;\r\n    \r\n                        &lt;SeekBar\r\n                            android:id=&quot;@+id/conversion_time_seekbar&quot;\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:layout_weight=&quot;1&quot; /&gt;\r\n    \r\n                        &lt;TextView\r\n                            android:id=&quot;@+id/conversion_time_text&quot;\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:text=&quot;3/55&quot;\r\n                            android:layout_weight=&quot;1&quot;\r\n                            android:singleLine=&quot;true&quot;\r\n                            android:textAppearance=&quot;?android:attr/textAppearanceSmall&quot; /&gt;\r\n    \r\n                    &lt;/LinearLayout&gt;\r\n                    \r\n                &lt;/TableRow&gt;\r\n                \r\n                &lt;TableRow\r\n                    android:id=&quot;@+id/tableRow5&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot; &gt;\r\n                    \r\n                    &lt;RadioButton\r\n                        android:id=&quot;@+id/monthly_spend_radio&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:textAppearance=&quot;?android:attr/textAppearanceSmall&quot;\r\n                        android:text=&quot;@string/monthly_spend&quot; /&gt;\r\n                    \r\n                    &lt;LinearLayout\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:weightSum=&quot;2&quot; &gt;\r\n    \r\n                        &lt;SeekBar\r\n                            android:id=&quot;@+id/monthly_spend_seekbar&quot;\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:layout_weight=&quot;1&quot; /&gt;\r\n    \r\n                        &lt;TextView\r\n                            android:id=&quot;@+id/monthly_spend_text&quot;\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:text=&quot;3/55&quot;\r\n                            android:layout_weight=&quot;1&quot;\r\n                            android:singleLine=&quot;true&quot;\r\n                            android:textAppearance=&quot;?android:attr/textAppearanceSmall&quot; /&gt;\r\n    \r\n                    &lt;/LinearLayout&gt;\r\n                    \r\n                &lt;/TableRow&gt;\r\n                \r\n                &lt;TableRow\r\n                    android:id=&quot;@+id/tableRow6&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot; &gt;\r\n                    \r\n                    &lt;RadioButton\r\n                        android:id=&quot;@+id/virality_invites_sent_radio&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:textAppearance=&quot;?android:attr/textAppearanceSmall&quot;\r\n                        android:text=&quot;@string/virality_invites_sent&quot; /&gt;\r\n                    \r\n                    &lt;LinearLayout\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:weightSum=&quot;2&quot; &gt;\r\n    \r\n                        &lt;SeekBar\r\n                            android:id=&quot;@+id/virality_invites_sent_seekbar&quot;\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:layout_weight=&quot;1&quot; /&gt;\r\n    \r\n                        &lt;TextView\r\n                            android:id=&quot;@+id/virality_invites_sent_text&quot;\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:text=&quot;0-50&quot;\r\n                            android:layout_weight=&quot;1&quot;\r\n                            android:singleLine=&quot;true&quot;\r\n                            android:textAppearance=&quot;?android:attr/textAppearanceSmall&quot; /&gt;\r\n    \r\n                    &lt;/LinearLayout&gt;\r\n                    \r\n                    \r\n                    \r\n                &lt;/TableRow&gt;\r\n                \r\n                &lt;TableRow\r\n                    android:id=&quot;@+id/tableRow7&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot; &gt;\r\n                    \r\n                    &lt;RadioButton\r\n                        android:id=&quot;@+id/churned_users_radio&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:textAppearance=&quot;?android:attr/textAppearanceSmall&quot;\r\n                        android:text=&quot;@string/churned_users&quot; /&gt;\r\n                    \r\n                    &lt;RadioGroup \r\n            \t\t\tandroid:id=&quot;@+id/churned_users_radio_selection&quot;\r\n            \t\t\tandroid:layout_width=&quot;wrap_content&quot;\r\n           \t\t\t    android:layout_height=&quot;wrap_content&quot;\r\n           \t\t\t    android:orientation=&quot;horizontal&quot;&gt;\r\n            \r\n            \t\t\t&lt;RadioButton\r\n                \t\t\tandroid:id=&quot;@+id/radioYes&quot;\r\n                \t\t\tandroid:layout_width=&quot;wrap_content&quot;\r\n                \t\t\tandroid:layout_height = &quot;wrap_content&quot;\r\n                \t\t\tandroid:textAppearance=&quot;?android:attr/textAppearanceSmall&quot;\r\n                \t\t\tandroid:text=&quot;@string/iOS&quot;\r\n                \t\t\t/&gt;\r\n            \r\n            \t\t\t&lt;RadioButton\r\n                \t\t\tandroid:id=&quot;@+id/radioNo&quot;\r\n                \t\t\tandroid:layout_width=&quot;wrap_content&quot;\r\n                \t\t\tandroid:layout_height = &quot;wrap_content&quot;\r\n                \t\t\tandroid:textAppearance=&quot;?android:attr/textAppearanceSmall&quot;\r\n                \t\t\tandroid:text=&quot;@string/android&quot;\r\n                \t\t\t/&gt;\r\n            \r\n            \r\n        \t\t\t&lt;/RadioGroup&gt;\r\n                    \r\n                &lt;/TableRow&gt;\r\n                \r\n                &lt;TableRow\r\n                    android:id=&quot;@+id/tableRow8&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot; &gt;\r\n                    \r\n                    &lt;RadioButton\r\n                        android:id=&quot;@+id/ltv_total_spent_radio&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:textAppearance=&quot;?android:attr/textAppearanceSmall&quot;\r\n                        android:text=&quot;@string/ltv_total_spent&quot; /&gt;\r\n                    \r\n                    &lt;LinearLayout\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:weightSum=&quot;2&quot; &gt;\r\n    \r\n                        &lt;SeekBar\r\n                            android:id=&quot;@+id/ltv_total_spent_seekbar&quot;\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:layout_weight=&quot;1&quot; /&gt;\r\n    \r\n                        &lt;TextView\r\n                            android:id=&quot;@+id/ltv_total_spent_text&quot;\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:text=&quot;0$-80$&quot;\r\n                            android:layout_weight=&quot;1&quot;\r\n                            android:singleLine=&quot;true&quot;\r\n                            android:textAppearance=&quot;?android:attr/textAppearanceSmall&quot; /&gt;\r\n    \r\n                    &lt;/LinearLayout&gt;\r\n                    \r\n                &lt;/TableRow&gt;\r\n            &lt;/TableLayout&gt;\r\n    \r\n        &lt;/ScrollView&gt;\r\n        \r\n        &lt;Button\r\n            android:id=&quot;@+id/input_submit_button&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentBottom=&quot;true&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:background=&quot;@drawable/submit_button_img&quot; /&gt;\r\n    \r\n    &lt;/RelativeLayout&gt;\r\n\r\n\r\n\r\n\r\n**InputFragment.java**\r\n\r\n\r\n\r\n    import android.os.Bundle;\r\n    import android.support.v4.app.Fragment;\r\n    import android.support.v4.app.FragmentTransaction;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.View.OnClickListener;\r\n    import android.view.ViewGroup;\r\n    import android.widget.Button;\r\n    import android.widget.RadioButton;\r\n    import android.widget.SeekBar;\r\n    import android.widget.SeekBar.OnSeekBarChangeListener;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n    \r\n    public class InputFragment extends Fragment {\r\n    \t\r\n    \tprivate Button submit;\r\n    \tprivate RadioButton deviceTypeRadio, daysAsCustomerRadio, averageSessionsRadio, conversionTimeRadio;\r\n    \tprivate RadioButton monthlySpendRadio,viralityInvitesSentRadio, churnedUsersRadio, LTVTotalSpentRadio; \r\n    \tprivate SeekBar daysAsCustomerSeek, averageSessionSeek, conersionTimeSeek, monthlySpendSeek;\r\n    \tprivate SeekBar viralityInvitesSeek, ltvTotalSpentSeek;\r\n    \tprivate TextView daysasAsCustomerText, averageSessionText, conversionTimeText, monthlySpendText;\r\n    \tprivate TextView viralityInvitesText, letvTotalText;\r\n    \t\r\n    \tpublic View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState)\r\n    \t{\r\n    \t\t//Intializing instance variables\r\n    \t\tView view = inflater.inflate(R.layout.input, container,false);\r\n    \t\t\r\n    \t\tsubmit = (Button)view.findViewById(R.id.input_submit_button);\r\n    \t\t\r\n    \t\treturn view;\r\n    \t\t\r\n    \t}\r\n    \t\r\n    }\r\n\r\n\r\nI can run this code properly, but when I changed the orientation of the Emulator, it gives the following error.\r\n\r\n    12-19 11:17:53.590: E/AndroidRuntime(5644): FATAL EXCEPTION: main\r\n    12-19 11:17:53.590: E/AndroidRuntime(5644): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.xxx.xxx/com.nFlate.xxx.MainActivity}: android.view.InflateException: Binary XML file line #1: Error inflating class &lt;unknown&gt;\r\n    12-19 11:17:53.590: E/AndroidRuntime(5644): \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2180)\r\n    12-19 11:17:53.590: E/AndroidRuntime(5644): \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2230)\r\n    12-19 11:17:53.590: E/AndroidRuntime(5644): \tat android.app.ActivityThread.handleRelaunchActivity(ActivityThread.java:3692)\r\n    12-19 11:17:53.590: E/AndroidRuntime(5644): \tat android.app.ActivityThread.access$700(ActivityThread.java:141)\r\n    12-19 11:17:53.590: E/AndroidRuntime(5644): \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1240)\r\n    12-19 11:17:53.590: E/AndroidRuntime(5644): \tat android.os.Handler.dispatchMessage(Handler.java:99)\r\n    12-19 11:17:53.590: E/AndroidRuntime(5644): \tat android.os.Looper.loop(Looper.java:137)\r\n    12-19 11:17:53.590: E/AndroidRuntime(5644): \tat android.app.ActivityThread.main(ActivityThread.java:5041)\r\n    12-19 11:17:53.590: E/AndroidRuntime(5644): \tat java.lang.reflect.Method.invokeNative(Native Method)\r\n    12-19 11:17:53.590: E/AndroidRuntime(5644): \tat java.lang.reflect.Method.invoke(Method.java:511)\r\n    12-19 11:17:53.590: E/AndroidRuntime(5644): \tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:793)\r\n    12-19 11:17:53.590: E/AndroidRuntime(5644): \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:560)\r\n    12-19 11:17:53.590: E/AndroidRuntime(5644): \tat dalvik.system.NativeStart.main(Native Method)\r\n    12-19 11:17:53.590: E/AndroidRuntime(5644): Caused by: android.view.InflateException: Binary XML file line #1: Error inflating class &lt;unknown&gt;\r\n    12-19 11:17:53.590: E/AndroidRuntime(5644): \tat android.view.LayoutInflater.createView(LayoutInflater.java:613)\r\n    12-19 11:17:53.590: E/AndroidRuntime(5644): \tat com.android.internal.policy.impl.PhoneLayoutInflater.onCreateView(PhoneLayoutInflater.java:56)\r\n    12-19 11:17:53.590: E/AndroidRuntime(5644): \tat android.view.LayoutInflater.onCreateView(LayoutInflater.java:660)\r\n    12-19 11:17:53.590: E/AndroidRuntime(5644): \tat android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:685)\r\n    12-19 11:17:53.590: E/AndroidRuntime(5644): \tat android.view.LayoutInflater.inflate(LayoutInflater.java:466)\r\n    12-19 11:17:53.590: E/AndroidRuntime(5644): \tat android.view.LayoutInflater.inflate(LayoutInflater.java:396)\r\n    12-19 11:17:53.590: E/AndroidRuntime(5644): \tat com.nFlate.nflate.InputFragment.onCreateView(InputFragment.java:30)\r\n    12-19 11:17:53.590: E/AndroidRuntime(5644): \tat android.support.v4.app.Fragment.performCreateView(Fragment.java:1478)\r\n    12-19 11:17:53.590: E/AndroidRuntime(5644): \tat android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:927)\r\n    12-19 11:17:53.590: E/AndroidRuntime(5644): \tat android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1104)\r\n    12-19 11:17:53.590: E/AndroidRuntime(5644): \tat android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1086)\r\n    12-19 11:17:53.590: E/AndroidRuntime(5644): \tat android.support.v4.app.FragmentManagerImpl.dispatchActivityCreated(FragmentManager.java:1877)\r\n    12-19 11:17:53.590: E/AndroidRuntime(5644): \tat android.support.v4.app.FragmentActivity.onStart(FragmentActivity.java:552)\r\n    12-19 11:17:53.590: E/AndroidRuntime(5644): \tat android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1164)\r\n    12-19 11:17:53.590: E/AndroidRuntime(5644): \tat android.app.Activity.performStart(Activity.java:5114)\r\n    12-19 11:17:53.590: E/AndroidRuntime(5644): \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2153)\r\n    12-19 11:17:53.590: E/AndroidRuntime(5644): \t... 12 more\r\n    12-19 11:17:53.590: E/AndroidRuntime(5644): Caused by: java.lang.reflect.InvocationTargetException\r\n    12-19 11:17:53.590: E/AndroidRuntime(5644): \tat java.lang.reflect.Constructor.constructNative(Native Method)\r\n    12-19 11:17:53.590: E/AndroidRuntime(5644): \tat java.lang.reflect.Constructor.newInstance(Constructor.java:417)\r\n    12-19 11:17:53.590: E/AndroidRuntime(5644): \tat android.view.LayoutInflater.createView(LayoutInflater.java:587)\r\n    12-19 11:17:53.590: E/AndroidRuntime(5644): \t... 27 more\r\n    12-19 11:17:53.590: E/AndroidRuntime(5644): Caused by: java.lang.OutOfMemoryError\r\n    12-19 11:17:53.590: E/AndroidRuntime(5644): \tat android.graphics.BitmapFactory.nativeDecodeAsset(Native Method)\r\n    12-19 11:17:53.590: E/AndroidRuntime(5644): \tat android.graphics.BitmapFactory.decodeStream(BitmapFactory.java:502)\r\n    12-19 11:17:53.590: E/AndroidRuntime(5644): \tat android.graphics.BitmapFactory.decodeResourceStream(BitmapFactory.java:355)\r\n    12-19 11:17:53.590: E/AndroidRuntime(5644): \tat android.graphics.drawable.Drawable.createFromResourceStream(Drawable.java:785)\r\n    12-19 11:17:53.590: E/AndroidRuntime(5644): \tat android.content.res.Resources.loadDrawable(Resources.java:1965)\r\n    12-19 11:17:53.590: E/AndroidRuntime(5644): \tat android.content.res.TypedArray.getDrawable(TypedArray.java:601)\r\n    12-19 11:17:53.590: E/AndroidRuntime(5644): \tat android.view.View.&lt;init&gt;(View.java:3330)\r\n    12-19 11:17:53.590: E/AndroidRuntime(5644): \tat android.view.View.&lt;init&gt;(View.java:3259)\r\n    12-19 11:17:53.590: E/AndroidRuntime(5644): \tat android.view.ViewGroup.&lt;init&gt;(ViewGroup.java:425)\r\n    12-19 11:17:53.590: E/AndroidRuntime(5644): \tat android.widget.RelativeLayout.&lt;init&gt;(RelativeLayout.java:210)\r\n    12-19 11:17:53.590: E/AndroidRuntime(5644): \t... 30 more\r\n\r\nBasically, the error is targeting to the below place:\r\n\r\n    View view = inflater.inflate(R.layout.input, container,false);\r\n\r\nThis only happens in Emulator, not in phone. What is wrong here?\r\n","title":"InflateException: Binary XML file line #1: Error inflating class &lt;unknown&gt; caused by OutOfMemoryError","body":"<p>Here is my code:</p>\n\n<p><strong>input.xml</strong> (layout folder)</p>\n\n<pre><code>&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".MainActivity\"\n    android:background=\"@drawable/background_main\" &gt;\n\n    &lt;ImageView \n        android:id=\"@+id/logo_image\"\n        android:background=\"@drawable/background_green\"\n        android:src=\"@drawable/titleimage\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"50dp\"\n        /&gt;\n\n    &lt;ScrollView\n        android:id=\"@+id/scroller\"\n        android:layout_width=\"fill_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_below=\"@id/logo_image\"\n        android:layout_marginTop=\"10dp\"\n        &gt;\n\n        &lt;TableLayout\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:stretchColumns=\"*\" &gt;\n\n            &lt;TableRow\n                android:id=\"@+id/device_type_row\"\n                android:layout_width=\"fill_parent\"\n                android:layout_height=\"wrap_content\"\n                android:paddingTop=\"5dp\"\n                android:paddingBottom=\"5dp\"\n                android:layout_marginRight=\"5dp\" &gt;\n\n                &lt;RadioButton\n                    android:id=\"@+id/device_type_radio\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:textAppearance=\"?android:attr/textAppearanceSmall\"\n                    android:text=\"@string/device_type\" /&gt;\n\n                &lt;RadioGroup \n                    android:id=\"@+id/device_type_radio_selection\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:orientation=\"horizontal\"&gt;\n\n                    &lt;RadioButton\n                        android:id=\"@+id/radioIos\"\n                        android:layout_width=\"wrap_content\"\n                        android:layout_height = \"wrap_content\"\n                        android:textAppearance=\"?android:attr/textAppearanceSmall\"\n                        android:text=\"@string/iOS\"\n                        /&gt;\n\n                    &lt;RadioButton\n                        android:id=\"@+id/radioAndroid\"\n                        android:layout_width=\"wrap_content\"\n                        android:layout_height = \"wrap_content\"\n                        android:textAppearance=\"?android:attr/textAppearanceSmall\"\n                        android:text=\"@string/android\"\n                        /&gt;\n\n\n                &lt;/RadioGroup&gt;\n\n\n            &lt;/TableRow&gt;\n\n            &lt;TableRow\n                android:id=\"@+id/days_as_customers_row\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:paddingTop=\"5dp\"\n                android:paddingBottom=\"5dp\"\n                android:layout_marginRight=\"5dp\" &gt;\n\n                &lt;RadioButton\n                    android:id=\"@+id/days_as_customers_radio\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:textAppearance=\"?android:attr/textAppearanceSmall\"\n                    android:text=\"@string/days_as_customers\" /&gt;\n\n                &lt;LinearLayout\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:weightSum=\"2\" &gt;\n\n                    &lt;SeekBar\n                        android:id=\"@+id/days_as_customer_seekbar\"\n                        android:layout_width=\"wrap_content\"\n                        android:layout_height=\"wrap_content\"\n                        android:layout_weight=\"1\" /&gt;\n\n                    &lt;TextView\n                        android:id=\"@+id/days_as_customer_text\"\n                        android:layout_width=\"wrap_content\"\n                        android:layout_height=\"wrap_content\"\n                        android:text=\"1/210\"\n                        android:layout_weight=\"1\"\n                        android:singleLine=\"true\"\n                        android:textAppearance=\"?android:attr/textAppearanceSmall\" /&gt;\n\n                &lt;/LinearLayout&gt;\n\n            &lt;/TableRow&gt;\n\n            &lt;TableRow\n                android:id=\"@+id/average_sessions_row\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\" &gt;\n\n                &lt;RadioButton\n                    android:id=\"@+id/average_sessions\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:textAppearance=\"?android:attr/textAppearanceSmall\"\n                    android:text=\"@string/average_sessions\" /&gt;\n\n                &lt;LinearLayout\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:weightSum=\"2\" &gt;\n\n                    &lt;SeekBar\n                        android:id=\"@+id/average_sessions_seekbar\"\n                        android:layout_width=\"wrap_content\"\n                        android:layout_height=\"wrap_content\"\n                        android:layout_weight=\"1\" /&gt;\n\n                    &lt;TextView\n                        android:id=\"@+id/average_sessions_text\"\n                        android:layout_width=\"wrap_content\"\n                        android:layout_height=\"wrap_content\"\n                        android:text=\"240/9000\"\n                        android:layout_weight=\"1\"\n                        android:singleLine=\"true\"\n                        android:textAppearance=\"?android:attr/textAppearanceSmall\" /&gt;\n\n                &lt;/LinearLayout&gt;\n            &lt;/TableRow&gt;\n\n            &lt;TableRow\n                android:id=\"@+id/tableRow4\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\" &gt;\n\n                &lt;RadioButton\n                    android:id=\"@+id/conversion_time_radio\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:textAppearance=\"?android:attr/textAppearanceSmall\"\n                    android:text=\"@string/conversion_title\" /&gt;\n\n                &lt;LinearLayout\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:weightSum=\"2\" &gt;\n\n                    &lt;SeekBar\n                        android:id=\"@+id/conversion_time_seekbar\"\n                        android:layout_width=\"wrap_content\"\n                        android:layout_height=\"wrap_content\"\n                        android:layout_weight=\"1\" /&gt;\n\n                    &lt;TextView\n                        android:id=\"@+id/conversion_time_text\"\n                        android:layout_width=\"wrap_content\"\n                        android:layout_height=\"wrap_content\"\n                        android:text=\"3/55\"\n                        android:layout_weight=\"1\"\n                        android:singleLine=\"true\"\n                        android:textAppearance=\"?android:attr/textAppearanceSmall\" /&gt;\n\n                &lt;/LinearLayout&gt;\n\n            &lt;/TableRow&gt;\n\n            &lt;TableRow\n                android:id=\"@+id/tableRow5\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\" &gt;\n\n                &lt;RadioButton\n                    android:id=\"@+id/monthly_spend_radio\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:textAppearance=\"?android:attr/textAppearanceSmall\"\n                    android:text=\"@string/monthly_spend\" /&gt;\n\n                &lt;LinearLayout\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:weightSum=\"2\" &gt;\n\n                    &lt;SeekBar\n                        android:id=\"@+id/monthly_spend_seekbar\"\n                        android:layout_width=\"wrap_content\"\n                        android:layout_height=\"wrap_content\"\n                        android:layout_weight=\"1\" /&gt;\n\n                    &lt;TextView\n                        android:id=\"@+id/monthly_spend_text\"\n                        android:layout_width=\"wrap_content\"\n                        android:layout_height=\"wrap_content\"\n                        android:text=\"3/55\"\n                        android:layout_weight=\"1\"\n                        android:singleLine=\"true\"\n                        android:textAppearance=\"?android:attr/textAppearanceSmall\" /&gt;\n\n                &lt;/LinearLayout&gt;\n\n            &lt;/TableRow&gt;\n\n            &lt;TableRow\n                android:id=\"@+id/tableRow6\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\" &gt;\n\n                &lt;RadioButton\n                    android:id=\"@+id/virality_invites_sent_radio\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:textAppearance=\"?android:attr/textAppearanceSmall\"\n                    android:text=\"@string/virality_invites_sent\" /&gt;\n\n                &lt;LinearLayout\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:weightSum=\"2\" &gt;\n\n                    &lt;SeekBar\n                        android:id=\"@+id/virality_invites_sent_seekbar\"\n                        android:layout_width=\"wrap_content\"\n                        android:layout_height=\"wrap_content\"\n                        android:layout_weight=\"1\" /&gt;\n\n                    &lt;TextView\n                        android:id=\"@+id/virality_invites_sent_text\"\n                        android:layout_width=\"wrap_content\"\n                        android:layout_height=\"wrap_content\"\n                        android:text=\"0-50\"\n                        android:layout_weight=\"1\"\n                        android:singleLine=\"true\"\n                        android:textAppearance=\"?android:attr/textAppearanceSmall\" /&gt;\n\n                &lt;/LinearLayout&gt;\n\n\n\n            &lt;/TableRow&gt;\n\n            &lt;TableRow\n                android:id=\"@+id/tableRow7\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\" &gt;\n\n                &lt;RadioButton\n                    android:id=\"@+id/churned_users_radio\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:textAppearance=\"?android:attr/textAppearanceSmall\"\n                    android:text=\"@string/churned_users\" /&gt;\n\n                &lt;RadioGroup \n                    android:id=\"@+id/churned_users_radio_selection\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:orientation=\"horizontal\"&gt;\n\n                    &lt;RadioButton\n                        android:id=\"@+id/radioYes\"\n                        android:layout_width=\"wrap_content\"\n                        android:layout_height = \"wrap_content\"\n                        android:textAppearance=\"?android:attr/textAppearanceSmall\"\n                        android:text=\"@string/iOS\"\n                        /&gt;\n\n                    &lt;RadioButton\n                        android:id=\"@+id/radioNo\"\n                        android:layout_width=\"wrap_content\"\n                        android:layout_height = \"wrap_content\"\n                        android:textAppearance=\"?android:attr/textAppearanceSmall\"\n                        android:text=\"@string/android\"\n                        /&gt;\n\n\n                &lt;/RadioGroup&gt;\n\n            &lt;/TableRow&gt;\n\n            &lt;TableRow\n                android:id=\"@+id/tableRow8\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\" &gt;\n\n                &lt;RadioButton\n                    android:id=\"@+id/ltv_total_spent_radio\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:textAppearance=\"?android:attr/textAppearanceSmall\"\n                    android:text=\"@string/ltv_total_spent\" /&gt;\n\n                &lt;LinearLayout\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:weightSum=\"2\" &gt;\n\n                    &lt;SeekBar\n                        android:id=\"@+id/ltv_total_spent_seekbar\"\n                        android:layout_width=\"wrap_content\"\n                        android:layout_height=\"wrap_content\"\n                        android:layout_weight=\"1\" /&gt;\n\n                    &lt;TextView\n                        android:id=\"@+id/ltv_total_spent_text\"\n                        android:layout_width=\"wrap_content\"\n                        android:layout_height=\"wrap_content\"\n                        android:text=\"0$-80$\"\n                        android:layout_weight=\"1\"\n                        android:singleLine=\"true\"\n                        android:textAppearance=\"?android:attr/textAppearanceSmall\" /&gt;\n\n                &lt;/LinearLayout&gt;\n\n            &lt;/TableRow&gt;\n        &lt;/TableLayout&gt;\n\n    &lt;/ScrollView&gt;\n\n    &lt;Button\n        android:id=\"@+id/input_submit_button\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignParentBottom=\"true\"\n        android:layout_centerHorizontal=\"true\"\n        android:background=\"@drawable/submit_button_img\" /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p><strong>InputFragment.java</strong></p>\n\n<pre><code>import android.os.Bundle;\nimport android.support.v4.app.Fragment;\nimport android.support.v4.app.FragmentTransaction;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.View.OnClickListener;\nimport android.view.ViewGroup;\nimport android.widget.Button;\nimport android.widget.RadioButton;\nimport android.widget.SeekBar;\nimport android.widget.SeekBar.OnSeekBarChangeListener;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\npublic class InputFragment extends Fragment {\n\n    private Button submit;\n    private RadioButton deviceTypeRadio, daysAsCustomerRadio, averageSessionsRadio, conversionTimeRadio;\n    private RadioButton monthlySpendRadio,viralityInvitesSentRadio, churnedUsersRadio, LTVTotalSpentRadio; \n    private SeekBar daysAsCustomerSeek, averageSessionSeek, conersionTimeSeek, monthlySpendSeek;\n    private SeekBar viralityInvitesSeek, ltvTotalSpentSeek;\n    private TextView daysasAsCustomerText, averageSessionText, conversionTimeText, monthlySpendText;\n    private TextView viralityInvitesText, letvTotalText;\n\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState)\n    {\n        //Intializing instance variables\n        View view = inflater.inflate(R.layout.input, container,false);\n\n        submit = (Button)view.findViewById(R.id.input_submit_button);\n\n        return view;\n\n    }\n\n}\n</code></pre>\n\n<p>I can run this code properly, but when I changed the orientation of the Emulator, it gives the following error.</p>\n\n<pre><code>12-19 11:17:53.590: E/AndroidRuntime(5644): FATAL EXCEPTION: main\n12-19 11:17:53.590: E/AndroidRuntime(5644): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.xxx.xxx/com.nFlate.xxx.MainActivity}: android.view.InflateException: Binary XML file line #1: Error inflating class &lt;unknown&gt;\n12-19 11:17:53.590: E/AndroidRuntime(5644):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2180)\n12-19 11:17:53.590: E/AndroidRuntime(5644):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2230)\n12-19 11:17:53.590: E/AndroidRuntime(5644):     at android.app.ActivityThread.handleRelaunchActivity(ActivityThread.java:3692)\n12-19 11:17:53.590: E/AndroidRuntime(5644):     at android.app.ActivityThread.access$700(ActivityThread.java:141)\n12-19 11:17:53.590: E/AndroidRuntime(5644):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1240)\n12-19 11:17:53.590: E/AndroidRuntime(5644):     at android.os.Handler.dispatchMessage(Handler.java:99)\n12-19 11:17:53.590: E/AndroidRuntime(5644):     at android.os.Looper.loop(Looper.java:137)\n12-19 11:17:53.590: E/AndroidRuntime(5644):     at android.app.ActivityThread.main(ActivityThread.java:5041)\n12-19 11:17:53.590: E/AndroidRuntime(5644):     at java.lang.reflect.Method.invokeNative(Native Method)\n12-19 11:17:53.590: E/AndroidRuntime(5644):     at java.lang.reflect.Method.invoke(Method.java:511)\n12-19 11:17:53.590: E/AndroidRuntime(5644):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:793)\n12-19 11:17:53.590: E/AndroidRuntime(5644):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:560)\n12-19 11:17:53.590: E/AndroidRuntime(5644):     at dalvik.system.NativeStart.main(Native Method)\n12-19 11:17:53.590: E/AndroidRuntime(5644): Caused by: android.view.InflateException: Binary XML file line #1: Error inflating class &lt;unknown&gt;\n12-19 11:17:53.590: E/AndroidRuntime(5644):     at android.view.LayoutInflater.createView(LayoutInflater.java:613)\n12-19 11:17:53.590: E/AndroidRuntime(5644):     at com.android.internal.policy.impl.PhoneLayoutInflater.onCreateView(PhoneLayoutInflater.java:56)\n12-19 11:17:53.590: E/AndroidRuntime(5644):     at android.view.LayoutInflater.onCreateView(LayoutInflater.java:660)\n12-19 11:17:53.590: E/AndroidRuntime(5644):     at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:685)\n12-19 11:17:53.590: E/AndroidRuntime(5644):     at android.view.LayoutInflater.inflate(LayoutInflater.java:466)\n12-19 11:17:53.590: E/AndroidRuntime(5644):     at android.view.LayoutInflater.inflate(LayoutInflater.java:396)\n12-19 11:17:53.590: E/AndroidRuntime(5644):     at com.nFlate.nflate.InputFragment.onCreateView(InputFragment.java:30)\n12-19 11:17:53.590: E/AndroidRuntime(5644):     at android.support.v4.app.Fragment.performCreateView(Fragment.java:1478)\n12-19 11:17:53.590: E/AndroidRuntime(5644):     at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:927)\n12-19 11:17:53.590: E/AndroidRuntime(5644):     at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1104)\n12-19 11:17:53.590: E/AndroidRuntime(5644):     at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1086)\n12-19 11:17:53.590: E/AndroidRuntime(5644):     at android.support.v4.app.FragmentManagerImpl.dispatchActivityCreated(FragmentManager.java:1877)\n12-19 11:17:53.590: E/AndroidRuntime(5644):     at android.support.v4.app.FragmentActivity.onStart(FragmentActivity.java:552)\n12-19 11:17:53.590: E/AndroidRuntime(5644):     at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1164)\n12-19 11:17:53.590: E/AndroidRuntime(5644):     at android.app.Activity.performStart(Activity.java:5114)\n12-19 11:17:53.590: E/AndroidRuntime(5644):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2153)\n12-19 11:17:53.590: E/AndroidRuntime(5644):     ... 12 more\n12-19 11:17:53.590: E/AndroidRuntime(5644): Caused by: java.lang.reflect.InvocationTargetException\n12-19 11:17:53.590: E/AndroidRuntime(5644):     at java.lang.reflect.Constructor.constructNative(Native Method)\n12-19 11:17:53.590: E/AndroidRuntime(5644):     at java.lang.reflect.Constructor.newInstance(Constructor.java:417)\n12-19 11:17:53.590: E/AndroidRuntime(5644):     at android.view.LayoutInflater.createView(LayoutInflater.java:587)\n12-19 11:17:53.590: E/AndroidRuntime(5644):     ... 27 more\n12-19 11:17:53.590: E/AndroidRuntime(5644): Caused by: java.lang.OutOfMemoryError\n12-19 11:17:53.590: E/AndroidRuntime(5644):     at android.graphics.BitmapFactory.nativeDecodeAsset(Native Method)\n12-19 11:17:53.590: E/AndroidRuntime(5644):     at android.graphics.BitmapFactory.decodeStream(BitmapFactory.java:502)\n12-19 11:17:53.590: E/AndroidRuntime(5644):     at android.graphics.BitmapFactory.decodeResourceStream(BitmapFactory.java:355)\n12-19 11:17:53.590: E/AndroidRuntime(5644):     at android.graphics.drawable.Drawable.createFromResourceStream(Drawable.java:785)\n12-19 11:17:53.590: E/AndroidRuntime(5644):     at android.content.res.Resources.loadDrawable(Resources.java:1965)\n12-19 11:17:53.590: E/AndroidRuntime(5644):     at android.content.res.TypedArray.getDrawable(TypedArray.java:601)\n12-19 11:17:53.590: E/AndroidRuntime(5644):     at android.view.View.&lt;init&gt;(View.java:3330)\n12-19 11:17:53.590: E/AndroidRuntime(5644):     at android.view.View.&lt;init&gt;(View.java:3259)\n12-19 11:17:53.590: E/AndroidRuntime(5644):     at android.view.ViewGroup.&lt;init&gt;(ViewGroup.java:425)\n12-19 11:17:53.590: E/AndroidRuntime(5644):     at android.widget.RelativeLayout.&lt;init&gt;(RelativeLayout.java:210)\n12-19 11:17:53.590: E/AndroidRuntime(5644):     ... 30 more\n</code></pre>\n\n<p>Basically, the error is targeting to the below place:</p>\n\n<pre><code>View view = inflater.inflate(R.layout.input, container,false);\n</code></pre>\n\n<p>This only happens in Emulator, not in phone. What is wrong here?</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jdbc"],"answers":[{"tags":[],"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1642764159,"creation_date":1642705458,"answer_id":70792020,"question_id":70790593,"body_markdown":"Try the following instead:\r\n```lang-java\r\n@Bean\r\npublic AbstractJdbcConfiguration jdbcConfiguration() {\r\n\treturn new MySpringBootJdbcConfiguration();\r\n}\r\n\r\n@Configuration\r\nstatic class MySpringBootJdbcConfiguration extends AbstractJdbcConfiguration {\r\n\t@Override\r\n\tprotected List&lt;?&gt; userConverters() {\r\n\t\treturn List.of(new DatabaseIdToFileTypeConverter(), new FileTypeToDatabaseIdConverter());\r\n\t}\r\n}\r\n```\r\n\r\n**Explanation:**\r\n\r\nSpring complains that `JdbcCustomConversions` in auto-configuration class is already defined (by your bean) and you don&#39;t have bean overriding enabled.\r\n\r\n`JdbcRepositoriesAutoConfiguration` has changed a few times, in Spring 2.6.2 it has:\r\n\r\n```lang-java\r\n@Configuration(proxyBeanMethods = false)\r\n@ConditionalOnMissingBean(AbstractJdbcConfiguration.class)\r\nstatic class SpringBootJdbcConfiguration extends AbstractJdbcConfiguration {\r\n\r\n}\r\n```\r\nIn turn, `AbstractJdbcConfiguration` has:\r\n\r\n```lang-java\r\n@Bean\r\npublic JdbcCustomConversions jdbcCustomConversions() {\r\n\r\n    try {\r\n\r\n        Dialect dialect = applicationContext.getBean(Dialect.class);\r\n        SimpleTypeHolder simpleTypeHolder = dialect.simpleTypes().isEmpty() ? JdbcSimpleTypes.HOLDER\r\n                : new SimpleTypeHolder(dialect.simpleTypes(), JdbcSimpleTypes.HOLDER);\r\n\r\n        return new JdbcCustomConversions(\r\n                CustomConversions.StoreConversions.of(simpleTypeHolder, storeConverters(dialect)), userConverters());\r\n\r\n    } catch (NoSuchBeanDefinitionException exception) {\r\n\r\n        LOG.warn(&quot;No dialect found. CustomConversions will be configured without dialect specific conversions.&quot;);\r\n\r\n        return new JdbcCustomConversions();\r\n    }\r\n}\r\n```\r\n\r\nAs you can see, `JdbcCustomConversions` is not conditional in any way, so defining your own caused a conflict. Fortunately, it provides an extension point `userConverters()` which can be overriden to provide your own converters.\r\n\r\n**Update**\r\n\r\nAs discussed in comments:\r\n\r\n- `FileType.byDatabaseId` is broken - it ignores its input param\r\n- as the column type in db is BIGINT, your converters must convert from Long, not from Integer, this addresses read queries\r\n\r\n- for writes, there is an open bug https://github.com/spring-projects/spring-data-jdbc/issues/629 There is a hardcoded assumption that Enums are converted to Strings, and only Enum -&gt; String converters are checked.\r\nAs we want to convert to Long, we need to make amendments to `BasicJdbcConverter` by subclassing it and registering subclassed converter with as a `@Bean`.\r\n\r\nYou need to override two methods\r\n- `public int getSqlType(RelationalPersistentProperty property)`\r\n- `public Class&lt;?&gt; getColumnType(RelationalPersistentProperty property)`\r\n\r\nI hardcoded the Enum type and corresponding column types, but you may want to get more fancy with that.\r\n\r\n```lang-java\r\n@Bean\r\npublic AbstractJdbcConfiguration jdbcConfiguration() {\r\n\treturn new MySpringBootJdbcConfiguration();\r\n}\r\n\r\n@Configuration\r\nstatic class MySpringBootJdbcConfiguration extends AbstractJdbcConfiguration {\r\n\t@Override\r\n\tprotected List&lt;?&gt; userConverters() {\r\n\t\treturn List.of(new DatabaseIdToFileTypeConverter(), new FileTypeToDatabaseIdConverter());\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic JdbcConverter jdbcConverter(JdbcMappingContext mappingContext,\r\n\t\t\t\t\t\t\t\t\t   NamedParameterJdbcOperations operations,\r\n\t\t\t\t\t\t\t\t\t   @Lazy RelationResolver relationResolver,\r\n\t\t\t\t\t\t\t\t\t   JdbcCustomConversions conversions,\r\n\t\t\t\t\t\t\t\t\t   Dialect dialect) {\r\n\r\n\t\tJdbcArrayColumns arrayColumns = dialect instanceof JdbcDialect ? ((JdbcDialect) dialect).getArraySupport()\r\n\t\t\t\t: JdbcArrayColumns.DefaultSupport.INSTANCE;\r\n\t\tDefaultJdbcTypeFactory jdbcTypeFactory = new DefaultJdbcTypeFactory(operations.getJdbcOperations(),\r\n\t\t\t\tarrayColumns);\r\n\r\n\t\treturn new MyJdbcConverter(\r\n\t\t\t\tmappingContext,\r\n\t\t\t\trelationResolver,\r\n\t\t\t\tconversions,\r\n\t\t\t\tjdbcTypeFactory,\r\n\t\t\t\tdialect.getIdentifierProcessing()\r\n\t\t);\r\n\t}\r\n}\r\n\r\nstatic class MyJdbcConverter extends BasicJdbcConverter {\r\n\tMyJdbcConverter(\r\n\t\t\tMappingContext&lt;? extends RelationalPersistentEntity&lt;?&gt;, ? extends RelationalPersistentProperty&gt; context,\r\n\t\t\tRelationResolver relationResolver,\r\n\t\t\tCustomConversions conversions,\r\n\t\t\tJdbcTypeFactory typeFactory,\r\n\t\t\tIdentifierProcessing identifierProcessing) {\r\n\t\tsuper(context, relationResolver, conversions, typeFactory, identifierProcessing);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic int getSqlType(RelationalPersistentProperty property) {\r\n\t\tif (FileType.class.equals(property.getActualType())) {\r\n\t\t\treturn Types.BIGINT;\r\n\t\t} else {\r\n\t\t\treturn super.getSqlType(property);\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Class&lt;?&gt; getColumnType(RelationalPersistentProperty property) {\r\n\t\tif (FileType.class.equals(property.getActualType())) {\r\n\t\t\treturn Long.class;\r\n\t\t} else {\r\n\t\t\treturn super.getColumnType(property);\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"spring data jdbc. Can&#39;t add custom converter for enum","body":"<p>Try the following instead:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic AbstractJdbcConfiguration jdbcConfiguration() {\n    return new MySpringBootJdbcConfiguration();\n}\n\n@Configuration\nstatic class MySpringBootJdbcConfiguration extends AbstractJdbcConfiguration {\n    @Override\n    protected List&lt;?&gt; userConverters() {\n        return List.of(new DatabaseIdToFileTypeConverter(), new FileTypeToDatabaseIdConverter());\n    }\n}\n</code></pre>\n<p><strong>Explanation:</strong></p>\n<p>Spring complains that <code>JdbcCustomConversions</code> in auto-configuration class is already defined (by your bean) and you don't have bean overriding enabled.</p>\n<p><code>JdbcRepositoriesAutoConfiguration</code> has changed a few times, in Spring 2.6.2 it has:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration(proxyBeanMethods = false)\n@ConditionalOnMissingBean(AbstractJdbcConfiguration.class)\nstatic class SpringBootJdbcConfiguration extends AbstractJdbcConfiguration {\n\n}\n</code></pre>\n<p>In turn, <code>AbstractJdbcConfiguration</code> has:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic JdbcCustomConversions jdbcCustomConversions() {\n\n    try {\n\n        Dialect dialect = applicationContext.getBean(Dialect.class);\n        SimpleTypeHolder simpleTypeHolder = dialect.simpleTypes().isEmpty() ? JdbcSimpleTypes.HOLDER\n                : new SimpleTypeHolder(dialect.simpleTypes(), JdbcSimpleTypes.HOLDER);\n\n        return new JdbcCustomConversions(\n                CustomConversions.StoreConversions.of(simpleTypeHolder, storeConverters(dialect)), userConverters());\n\n    } catch (NoSuchBeanDefinitionException exception) {\n\n        LOG.warn(&quot;No dialect found. CustomConversions will be configured without dialect specific conversions.&quot;);\n\n        return new JdbcCustomConversions();\n    }\n}\n</code></pre>\n<p>As you can see, <code>JdbcCustomConversions</code> is not conditional in any way, so defining your own caused a conflict. Fortunately, it provides an extension point <code>userConverters()</code> which can be overriden to provide your own converters.</p>\n<p><strong>Update</strong></p>\n<p>As discussed in comments:</p>\n<ul>\n<li><p><code>FileType.byDatabaseId</code> is broken - it ignores its input param</p>\n</li>\n<li><p>as the column type in db is BIGINT, your converters must convert from Long, not from Integer, this addresses read queries</p>\n</li>\n<li><p>for writes, there is an open bug <a href=\"https://github.com/spring-projects/spring-data-jdbc/issues/629\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-data-jdbc/issues/629</a> There is a hardcoded assumption that Enums are converted to Strings, and only Enum -&gt; String converters are checked.\nAs we want to convert to Long, we need to make amendments to <code>BasicJdbcConverter</code> by subclassing it and registering subclassed converter with as a <code>@Bean</code>.</p>\n</li>\n</ul>\n<p>You need to override two methods</p>\n<ul>\n<li><code>public int getSqlType(RelationalPersistentProperty property)</code></li>\n<li><code>public Class&lt;?&gt; getColumnType(RelationalPersistentProperty property)</code></li>\n</ul>\n<p>I hardcoded the Enum type and corresponding column types, but you may want to get more fancy with that.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic AbstractJdbcConfiguration jdbcConfiguration() {\n    return new MySpringBootJdbcConfiguration();\n}\n\n@Configuration\nstatic class MySpringBootJdbcConfiguration extends AbstractJdbcConfiguration {\n    @Override\n    protected List&lt;?&gt; userConverters() {\n        return List.of(new DatabaseIdToFileTypeConverter(), new FileTypeToDatabaseIdConverter());\n    }\n\n    @Bean\n    public JdbcConverter jdbcConverter(JdbcMappingContext mappingContext,\n                                       NamedParameterJdbcOperations operations,\n                                       @Lazy RelationResolver relationResolver,\n                                       JdbcCustomConversions conversions,\n                                       Dialect dialect) {\n\n        JdbcArrayColumns arrayColumns = dialect instanceof JdbcDialect ? ((JdbcDialect) dialect).getArraySupport()\n                : JdbcArrayColumns.DefaultSupport.INSTANCE;\n        DefaultJdbcTypeFactory jdbcTypeFactory = new DefaultJdbcTypeFactory(operations.getJdbcOperations(),\n                arrayColumns);\n\n        return new MyJdbcConverter(\n                mappingContext,\n                relationResolver,\n                conversions,\n                jdbcTypeFactory,\n                dialect.getIdentifierProcessing()\n        );\n    }\n}\n\nstatic class MyJdbcConverter extends BasicJdbcConverter {\n    MyJdbcConverter(\n            MappingContext&lt;? extends RelationalPersistentEntity&lt;?&gt;, ? extends RelationalPersistentProperty&gt; context,\n            RelationResolver relationResolver,\n            CustomConversions conversions,\n            JdbcTypeFactory typeFactory,\n            IdentifierProcessing identifierProcessing) {\n        super(context, relationResolver, conversions, typeFactory, identifierProcessing);\n    }\n\n    @Override\n    public int getSqlType(RelationalPersistentProperty property) {\n        if (FileType.class.equals(property.getActualType())) {\n            return Types.BIGINT;\n        } else {\n            return super.getSqlType(property);\n        }\n    }\n\n    @Override\n    public Class&lt;?&gt; getColumnType(RelationalPersistentProperty property) {\n        if (FileType.class.equals(property.getActualType())) {\n            return Long.class;\n        } else {\n            return super.getColumnType(property);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3890,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70792020,"answer_count":1,"score":2,"last_activity_date":1642772955,"creation_date":1642699054,"question_id":70790593,"body_markdown":"I want to have enum as a field for my entity.\r\n\r\nMy application is look like:\r\n\r\nSpring boot version\r\n    \r\n    plugins {\r\n        \tid &#39;org.springframework.boot&#39; version &#39;2.6.2&#39; apply false\r\n\r\n\r\nrepository:\r\n\r\n    @Repository\r\n    public interface MyEntityRepository extends PagingAndSortingRepository&lt;MyEntity, UUID&gt; {\r\n     ...\r\n\r\nentity:\r\n\r\n    @Table(&quot;my_entity&quot;)\r\n    public class MyEntity{\r\n       ...\r\n       private FileType fileType;\r\n      // get + set\r\n    }\r\n\r\nenum declaration:\r\n\r\n    public enum FileType {\r\n    \tTYPE_1(1),\r\n    \tTYPE_2(2);\r\n    \r\n    \tint databaseId;\r\n    \r\n    \tpublic static FileType byDatabaseId(Integer databaseId){\r\n    \t\treturn Arrays.stream(values()).findFirst().orElse(null);\r\n    \t}\r\n    \tFileType(int databaseId) {\r\n    \t\tthis.databaseId = databaseId;\r\n    \t}\r\n    \r\n    \tpublic int getDatabaseId() {\r\n    \t\treturn databaseId;\r\n    \t}\r\n    }\r\n**My attempt:**\r\n\r\nI&#39;ve found following answer and try to follow it : https://stackoverflow.com/a/53296199/2674303\r\n\r\nSo I&#39;ve added bean \r\n\r\n    @Bean\r\n    public JdbcCustomConversions jdbcCustomConversions() {\r\n    \treturn new JdbcCustomConversions(asList(new DatabaseIdToFileTypeConverter(), new FileTypeToDatabaseIdConverter()));\r\n    }\r\n\r\nconverters:\r\n    \r\n    @WritingConverter\r\n    public class FileTypeToDatabaseIdConverter implements Converter&lt;FileType, Integer&gt; {\r\n    \t@Override\r\n    \tpublic Integer convert(FileType source) {\r\n    \t\treturn source.getDatabaseId();\r\n    \t}\r\n    }\r\n    \r\n    @ReadingConverter\r\n    public class DatabaseIdToFileTypeConverter implements Converter&lt;Integer, FileType&gt; {\r\n    \t@Override\r\n    \tpublic FileType convert(Integer databaseId) {\r\n    \t\treturn FileType.byDatabaseId(databaseId);\r\n    \t}\r\n    }\r\n\r\nBut I see error:\r\n\r\n&gt; The bean &#39;jdbcCustomConversions&#39;, defined in class path resource\r\n&gt; [org/springframework/boot/autoconfigure/data/jdbc/JdbcRepositoriesAutoConfiguration$SpringBootJdbcConfiguration.class],\r\n&gt; could not be registered. A bean with that name has already been\r\n&gt; defined in my.pack.Main and overriding is disabled.\r\n\r\nI&#39;ve tried to rename method `jdbcCustomConversions()` to `myJdbcCustomConversions()`. It helped to avoid error above but converter is not invoked during entity persistence and I see another error that application tries to save String but database type is bigint.\r\n\r\n    20:39:10.689  DEBUG  [main] o.s.jdbc.core.StatementCreatorUtils: JDBC getParameterType call failed - using fallback method instead: org.postgresql.util.PSQLException: ERROR: column &quot;file_type&quot; is of type bigint but expression is of type character varying\r\n      Hint: You will need to rewrite or cast the expression.\r\n      Position: 174 \r\n\r\nI also tried to use the latest(currently) version of spring boot:\r\n\t\r\n    id &#39;org.springframework.boot&#39; version &#39;2.6.2&#39; apply false\r\n\r\nBut it didn&#39;t help.\r\n\r\nWhat have I missed ?\r\nHow can I map enum to integer column properly ?\r\n\r\n**P.S.**\r\n\r\nI use following code for testing:\r\n\r\n\r\n    @SpringBootApplication\r\n    @EnableJdbcAuditing\r\n    @EnableScheduling\r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tConfigurableApplicationContext applicationContext = SpringApplication.run(Main.class, args);\r\n    \t\tMyEntityRepositoryrepository = applicationContext.getBean(MyEntityRepository.class);\r\n    \t\tMyEntity entity =  new MyEntity();\r\n    \t\t...\r\n    \t\tentity.setFileType(FileType.TYPE_2);\r\n    \t\trepository.save(entity);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic ModelMapper modelMapper() {\r\n    \t\tModelMapper mapper = new ModelMapper();\r\n    \t\tmapper.getConfiguration()\r\n    \t\t\t\t.setMatchingStrategy(MatchingStrategies.STRICT)\r\n    \t\t\t\t.setFieldMatchingEnabled(true)\r\n    \t\t\t\t.setSkipNullEnabled(true)\r\n    \t\t\t\t.setFieldAccessLevel(PRIVATE);\r\n    \t\treturn mapper;\r\n    \t}\r\n    \r\n    \r\n    \t@Bean\r\n    \tpublic AbstractJdbcConfiguration jdbcConfiguration() {\r\n    \t\treturn new MySpringBootJdbcConfiguration();\r\n    \t}\r\n    \t@Configuration\r\n    \tstatic class MySpringBootJdbcConfiguration extends AbstractJdbcConfiguration {\r\n    \t\t@Override\r\n    \t\tprotected List&lt;?&gt; userConverters() {\r\n    \t\t\treturn asList(new DatabaseIdToFileTypeConverter(), new FileTypeToDatabaseIdConverter());\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\nUPDATE\r\n-\r\n\r\nMy code is:\r\n\r\n    @SpringBootApplication\r\n    @EnableJdbcAuditing\r\n    @EnableScheduling\r\n    public class Main {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n            ConfigurableApplicationContext applicationContext = SpringApplication.run(Main.class, args);\r\n            MyEntityRepositoryrepository = applicationContext.getBean(MyEntityRepository.class);\r\n            MyEntity entity =  new MyEntity();\r\n            ...\r\n            entity.setFileType(FileType.TYPE_2);\r\n            repository.save(entity);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic ModelMapper modelMapper() {\r\n    \t\tModelMapper mapper = new ModelMapper();\r\n    \t\tmapper.getConfiguration()\r\n    \t\t\t\t.setMatchingStrategy(MatchingStrategies.STRICT)\r\n    \t\t\t\t.setFieldMatchingEnabled(true)\r\n    \t\t\t\t.setSkipNullEnabled(true)\r\n    \t\t\t\t.setFieldAccessLevel(PRIVATE);\r\n    \t\treturn mapper;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic AbstractJdbcConfiguration jdbcConfiguration() {\r\n    \t\treturn new MySpringBootJdbcConfiguration();\r\n    \t}\r\n    \r\n    \t@Configuration\r\n    \tstatic class MySpringBootJdbcConfiguration extends AbstractJdbcConfiguration {\r\n    \t\t@Override\r\n    \t\tprotected List&lt;?&gt; userConverters() {\r\n    \t\t\treturn asList(new DatabaseIdToFileTypeConverter(), new FileTypeToDatabaseIdConverter());\r\n    \t\t}\r\n    \r\n    \t\t@Bean\r\n    \t\tpublic JdbcConverter jdbcConverter(JdbcMappingContext mappingContext,\r\n    \t\t\t\t\t\t\t\t\t\t   NamedParameterJdbcOperations operations,\r\n    \t\t\t\t\t\t\t\t\t\t   @Lazy RelationResolver relationResolver,\r\n    \t\t\t\t\t\t\t\t\t\t   JdbcCustomConversions conversions,\r\n    \t\t\t\t\t\t\t\t\t\t   Dialect dialect) {\r\n    \r\n    \t\t\tJdbcArrayColumns arrayColumns = dialect instanceof JdbcDialect ? ((JdbcDialect) dialect).getArraySupport()\r\n    \t\t\t\t\t: JdbcArrayColumns.DefaultSupport.INSTANCE;\r\n    \t\t\tDefaultJdbcTypeFactory jdbcTypeFactory = new DefaultJdbcTypeFactory(operations.getJdbcOperations(),\r\n    \t\t\t\t\tarrayColumns);\r\n    \r\n    \t\t\treturn new MyJdbcConverter(\r\n    \t\t\t\t\tmappingContext,\r\n    \t\t\t\t\trelationResolver,\r\n    \t\t\t\t\tconversions,\r\n    \t\t\t\t\tjdbcTypeFactory,\r\n    \t\t\t\t\tdialect.getIdentifierProcessing()\r\n    \t\t\t);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tstatic class MyJdbcConverter extends BasicJdbcConverter {\r\n    \t\tMyJdbcConverter(\r\n    \t\t\t\tMappingContext&lt;? extends RelationalPersistentEntity&lt;?&gt;, ? extends RelationalPersistentProperty&gt; context,\r\n    \t\t\t\tRelationResolver relationResolver,\r\n    \t\t\t\tCustomConversions conversions,\r\n    \t\t\t\tJdbcTypeFactory typeFactory,\r\n    \t\t\t\tIdentifierProcessing identifierProcessing) {\r\n    \t\t\tsuper(context, relationResolver, conversions, typeFactory, identifierProcessing);\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic int getSqlType(RelationalPersistentProperty property) {\r\n    \t\t\tif (FileType.class.equals(property.getActualType())) {\r\n    \t\t\t\treturn Types.BIGINT;\r\n    \t\t\t} else {\r\n    \t\t\t\treturn super.getSqlType(property);\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic Class&lt;?&gt; getColumnType(RelationalPersistentProperty property) {\r\n    \t\t\tif (FileType.class.equals(property.getActualType())) {\r\n    \t\t\t\treturn Long.class;\r\n    \t\t\t} else {\r\n    \t\t\t\treturn super.getColumnType(property);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\nBut I experience error:\r\n\r\n    Caused by: org.postgresql.util.PSQLException: Cannot convert an instance of java.lang.String to type long\r\n    \tat org.postgresql.jdbc.PgPreparedStatement.cannotCastException(PgPreparedStatement.java:925)\r\n    \tat org.postgresql.jdbc.PgPreparedStatement.castToLong(PgPreparedStatement.java:810)\r\n    \tat org.postgresql.jdbc.PgPreparedStatement.setObject(PgPreparedStatement.java:561)\r\n    \tat org.postgresql.jdbc.PgPreparedStatement.setObject(PgPreparedStatement.java:931)\r\n    \tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.setObject(HikariProxyPreparedStatement.java)\r\n    \tat org.springframework.jdbc.core.StatementCreatorUtils.setValue(StatementCreatorUtils.java:414)\r\n    \tat org.springframework.jdbc.core.StatementCreatorUtils.setParameterValueInternal(StatementCreatorUtils.java:231)\r\n    \tat org.springframework.jdbc.core.StatementCreatorUtils.setParameterValue(StatementCreatorUtils.java:146)\r\n    \tat org.springframework.jdbc.core.PreparedStatementCreatorFactory$PreparedStatementCreatorImpl.setValues(PreparedStatementCreatorFactory.java:283)\r\n    \tat org.springframework.jdbc.core.PreparedStatementCreatorFactory$PreparedStatementCreatorImpl.createPreparedStatement(PreparedStatementCreatorFactory.java:241)\r\n    \tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:649)\r\n    \t... 50 more\r\n    Caused by: java.lang.NumberFormatException: For input string: &quot;TYPE_2&quot;\r\n    \tat java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\r\n    \tat java.lang.Long.parseLong(Long.java:589)\r\n    \tat java.lang.Long.parseLong(Long.java:631)\r\n    \tat org.postgresql.jdbc.PgPreparedStatement.castToLong(PgPreparedStatement.java:792)\r\n    \t... 59 more\r\n\r\n","title":"spring data jdbc. Can&#39;t add custom converter for enum","body":"<p>I want to have enum as a field for my entity.</p>\n<p>My application is look like:</p>\n<p>Spring boot version</p>\n<pre><code>plugins {\n        id 'org.springframework.boot' version '2.6.2' apply false\n</code></pre>\n<p>repository:</p>\n<pre><code>@Repository\npublic interface MyEntityRepository extends PagingAndSortingRepository&lt;MyEntity, UUID&gt; {\n ...\n</code></pre>\n<p>entity:</p>\n<pre><code>@Table(&quot;my_entity&quot;)\npublic class MyEntity{\n   ...\n   private FileType fileType;\n  // get + set\n}\n</code></pre>\n<p>enum declaration:</p>\n<pre><code>public enum FileType {\n    TYPE_1(1),\n    TYPE_2(2);\n\n    int databaseId;\n\n    public static FileType byDatabaseId(Integer databaseId){\n        return Arrays.stream(values()).findFirst().orElse(null);\n    }\n    FileType(int databaseId) {\n        this.databaseId = databaseId;\n    }\n\n    public int getDatabaseId() {\n        return databaseId;\n    }\n}\n</code></pre>\n<p><strong>My attempt:</strong></p>\n<p>I've found following answer and try to follow it : <a href=\"https://stackoverflow.com/a/53296199/2674303\">https://stackoverflow.com/a/53296199/2674303</a></p>\n<p>So I've added bean</p>\n<pre><code>@Bean\npublic JdbcCustomConversions jdbcCustomConversions() {\n    return new JdbcCustomConversions(asList(new DatabaseIdToFileTypeConverter(), new FileTypeToDatabaseIdConverter()));\n}\n</code></pre>\n<p>converters:</p>\n<pre><code>@WritingConverter\npublic class FileTypeToDatabaseIdConverter implements Converter&lt;FileType, Integer&gt; {\n    @Override\n    public Integer convert(FileType source) {\n        return source.getDatabaseId();\n    }\n}\n\n@ReadingConverter\npublic class DatabaseIdToFileTypeConverter implements Converter&lt;Integer, FileType&gt; {\n    @Override\n    public FileType convert(Integer databaseId) {\n        return FileType.byDatabaseId(databaseId);\n    }\n}\n</code></pre>\n<p>But I see error:</p>\n<blockquote>\n<p>The bean 'jdbcCustomConversions', defined in class path resource\n[org/springframework/boot/autoconfigure/data/jdbc/JdbcRepositoriesAutoConfiguration$SpringBootJdbcConfiguration.class],\ncould not be registered. A bean with that name has already been\ndefined in my.pack.Main and overriding is disabled.</p>\n</blockquote>\n<p>I've tried to rename method <code>jdbcCustomConversions()</code> to <code>myJdbcCustomConversions()</code>. It helped to avoid error above but converter is not invoked during entity persistence and I see another error that application tries to save String but database type is bigint.</p>\n<pre><code>20:39:10.689  DEBUG  [main] o.s.jdbc.core.StatementCreatorUtils: JDBC getParameterType call failed - using fallback method instead: org.postgresql.util.PSQLException: ERROR: column &quot;file_type&quot; is of type bigint but expression is of type character varying\n  Hint: You will need to rewrite or cast the expression.\n  Position: 174 \n</code></pre>\n<p>I also tried to use the latest(currently) version of spring boot:</p>\n<pre><code>id 'org.springframework.boot' version '2.6.2' apply false\n</code></pre>\n<p>But it didn't help.</p>\n<p>What have I missed ?\nHow can I map enum to integer column properly ?</p>\n<p><strong>P.S.</strong></p>\n<p>I use following code for testing:</p>\n<pre><code>@SpringBootApplication\n@EnableJdbcAuditing\n@EnableScheduling\npublic class Main {\n    public static void main(String[] args) {\n        ConfigurableApplicationContext applicationContext = SpringApplication.run(Main.class, args);\n        MyEntityRepositoryrepository = applicationContext.getBean(MyEntityRepository.class);\n        MyEntity entity =  new MyEntity();\n        ...\n        entity.setFileType(FileType.TYPE_2);\n        repository.save(entity);\n    }\n\n    @Bean\n    public ModelMapper modelMapper() {\n        ModelMapper mapper = new ModelMapper();\n        mapper.getConfiguration()\n                .setMatchingStrategy(MatchingStrategies.STRICT)\n                .setFieldMatchingEnabled(true)\n                .setSkipNullEnabled(true)\n                .setFieldAccessLevel(PRIVATE);\n        return mapper;\n    }\n\n\n    @Bean\n    public AbstractJdbcConfiguration jdbcConfiguration() {\n        return new MySpringBootJdbcConfiguration();\n    }\n    @Configuration\n    static class MySpringBootJdbcConfiguration extends AbstractJdbcConfiguration {\n        @Override\n        protected List&lt;?&gt; userConverters() {\n            return asList(new DatabaseIdToFileTypeConverter(), new FileTypeToDatabaseIdConverter());\n        }\n    }\n}\n</code></pre>\n<h2>UPDATE</h2>\n<p>My code is:</p>\n<pre><code>@SpringBootApplication\n@EnableJdbcAuditing\n@EnableScheduling\npublic class Main {\n\n    public static void main(String[] args) {\n        ConfigurableApplicationContext applicationContext = SpringApplication.run(Main.class, args);\n        MyEntityRepositoryrepository = applicationContext.getBean(MyEntityRepository.class);\n        MyEntity entity =  new MyEntity();\n        ...\n        entity.setFileType(FileType.TYPE_2);\n        repository.save(entity);\n    }\n\n    @Bean\n    public ModelMapper modelMapper() {\n        ModelMapper mapper = new ModelMapper();\n        mapper.getConfiguration()\n                .setMatchingStrategy(MatchingStrategies.STRICT)\n                .setFieldMatchingEnabled(true)\n                .setSkipNullEnabled(true)\n                .setFieldAccessLevel(PRIVATE);\n        return mapper;\n    }\n\n    @Bean\n    public AbstractJdbcConfiguration jdbcConfiguration() {\n        return new MySpringBootJdbcConfiguration();\n    }\n\n    @Configuration\n    static class MySpringBootJdbcConfiguration extends AbstractJdbcConfiguration {\n        @Override\n        protected List&lt;?&gt; userConverters() {\n            return asList(new DatabaseIdToFileTypeConverter(), new FileTypeToDatabaseIdConverter());\n        }\n\n        @Bean\n        public JdbcConverter jdbcConverter(JdbcMappingContext mappingContext,\n                                           NamedParameterJdbcOperations operations,\n                                           @Lazy RelationResolver relationResolver,\n                                           JdbcCustomConversions conversions,\n                                           Dialect dialect) {\n\n            JdbcArrayColumns arrayColumns = dialect instanceof JdbcDialect ? ((JdbcDialect) dialect).getArraySupport()\n                    : JdbcArrayColumns.DefaultSupport.INSTANCE;\n            DefaultJdbcTypeFactory jdbcTypeFactory = new DefaultJdbcTypeFactory(operations.getJdbcOperations(),\n                    arrayColumns);\n\n            return new MyJdbcConverter(\n                    mappingContext,\n                    relationResolver,\n                    conversions,\n                    jdbcTypeFactory,\n                    dialect.getIdentifierProcessing()\n            );\n        }\n    }\n\n    static class MyJdbcConverter extends BasicJdbcConverter {\n        MyJdbcConverter(\n                MappingContext&lt;? extends RelationalPersistentEntity&lt;?&gt;, ? extends RelationalPersistentProperty&gt; context,\n                RelationResolver relationResolver,\n                CustomConversions conversions,\n                JdbcTypeFactory typeFactory,\n                IdentifierProcessing identifierProcessing) {\n            super(context, relationResolver, conversions, typeFactory, identifierProcessing);\n        }\n\n        @Override\n        public int getSqlType(RelationalPersistentProperty property) {\n            if (FileType.class.equals(property.getActualType())) {\n                return Types.BIGINT;\n            } else {\n                return super.getSqlType(property);\n            }\n        }\n\n        @Override\n        public Class&lt;?&gt; getColumnType(RelationalPersistentProperty property) {\n            if (FileType.class.equals(property.getActualType())) {\n                return Long.class;\n            } else {\n                return super.getColumnType(property);\n            }\n        }\n    }\n}\n</code></pre>\n<p>But I experience error:</p>\n<pre><code>Caused by: org.postgresql.util.PSQLException: Cannot convert an instance of java.lang.String to type long\n    at org.postgresql.jdbc.PgPreparedStatement.cannotCastException(PgPreparedStatement.java:925)\n    at org.postgresql.jdbc.PgPreparedStatement.castToLong(PgPreparedStatement.java:810)\n    at org.postgresql.jdbc.PgPreparedStatement.setObject(PgPreparedStatement.java:561)\n    at org.postgresql.jdbc.PgPreparedStatement.setObject(PgPreparedStatement.java:931)\n    at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.setObject(HikariProxyPreparedStatement.java)\n    at org.springframework.jdbc.core.StatementCreatorUtils.setValue(StatementCreatorUtils.java:414)\n    at org.springframework.jdbc.core.StatementCreatorUtils.setParameterValueInternal(StatementCreatorUtils.java:231)\n    at org.springframework.jdbc.core.StatementCreatorUtils.setParameterValue(StatementCreatorUtils.java:146)\n    at org.springframework.jdbc.core.PreparedStatementCreatorFactory$PreparedStatementCreatorImpl.setValues(PreparedStatementCreatorFactory.java:283)\n    at org.springframework.jdbc.core.PreparedStatementCreatorFactory$PreparedStatementCreatorImpl.createPreparedStatement(PreparedStatementCreatorFactory.java:241)\n    at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:649)\n    ... 50 more\nCaused by: java.lang.NumberFormatException: For input string: &quot;TYPE_2&quot;\n    at java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\n    at java.lang.Long.parseLong(Long.java:589)\n    at java.lang.Long.parseLong(Long.java:631)\n    at org.postgresql.jdbc.PgPreparedStatement.castToLong(PgPreparedStatement.java:792)\n    ... 59 more\n</code></pre>\n"},{"tags":["java","serial-port","port","device","javax.comm"],"answers":[{"tags":[],"owner":{"account_id":13815643,"reputation":136,"user_id":9972305,"display_name":"B.Letz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642772774,"creation_date":1642772774,"answer_id":70802309,"question_id":70543830,"body_markdown":"In your output you don&#39;t specify which charset you want to use. Since you are recieving through a serial port I would assume that the charset used is either  **US_ASCII** or **UTF_8**.\r\n\r\nTo force the conversion fromt byte[] to string to use a specific charset you have to specify it.\r\n\r\nAn example for your code would be:\r\n\r\n    System.out.print(new String(readBuffer, StandardCharsets.UTF_8));\r\n\r\nA list of StandardCharsets in Java can be found [here][1] \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/nio/charset/StandardCharsets.html","title":"READ ASCII data using Javax comm package","body":"<p>In your output you don't specify which charset you want to use. Since you are recieving through a serial port I would assume that the charset used is either  <strong>US_ASCII</strong> or <strong>UTF_8</strong>.</p>\n<p>To force the conversion fromt byte[] to string to use a specific charset you have to specify it.</p>\n<p>An example for your code would be:</p>\n<pre><code>System.out.print(new String(readBuffer, StandardCharsets.UTF_8));\n</code></pre>\n<p>A list of StandardCharsets in Java can be found <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/charset/StandardCharsets.html\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":2078047,"reputation":11,"user_id":1850820,"display_name":"user1850820"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642772774,"creation_date":1640965971,"question_id":70543830,"body_markdown":"I have a device sends some data to COM port, byte stream is a human readable ASCII character stream. \r\nI tried to read the data stream from a port reader and I can read it easily like, \r\n\r\n    Param\tFlags\tValue\tUnit\t[min-max]\r\nWBC\tE\t0.00\t10^9/l\t[4.00-10.00]\r\nLYM\t \t0.00\t10^9/l\t[1.30-4.00]\r\n\r\nBut when I&#39;m trying to read from a java program as byte and converting to ASCII, still it shows as jargon. e.g. ���v�\r\n\r\nI changed array size and try various options to convert array to ASCII. \r\n\r\nRow out is like \r\n\r\n4C 4C 59 20 41 55 54 4F 4D 41 54 45 44 20 48 45   LLY AUTOMATED HE\r\n \r\nGuidance to read n proper format is highly appreciated. \r\n\r\nCode is \r\n\r\n    \r\n\r\n    import java.io.*;\r\n    import java.util.*;\r\n    import javax.comm.*;\r\n    \r\n    public class SimpleRead implements Runnable, SerialPortEventListener {\r\n    \r\n        static CommPortIdentifier portId;\r\n        static Enumeration portList;\r\n        InputStream inputStream;\r\n        SerialPort serialPort;\r\n        Thread readThread;\r\n        String line = &quot;&quot;;\r\n        BufferedReader portReader;\r\n    \r\n        public static void main(String[] args) {\r\n            boolean portFound = false;\r\n            String defaultPort = &quot;COM6&quot;;\r\n    \r\n            if (args.length &gt; 0) {\r\n                defaultPort = args[0];\r\n            }\r\n    \r\n            portList = CommPortIdentifier.getPortIdentifiers();\r\n    \r\n            while (portList.hasMoreElements()) {\r\n                portId = (CommPortIdentifier) portList.nextElement();\r\n                if (portId.getPortType() == CommPortIdentifier.PORT_SERIAL) {\r\n                    if (portId.getName().equals(defaultPort)) {\r\n                        System.out.println(&quot;Found port: &quot; + defaultPort);\r\n                        portFound = true;\r\n                        SimpleRead reader = new SimpleRead();\r\n                    }\r\n                }\r\n            }\r\n            if (!portFound) {\r\n                System.out.println(&quot;port &quot; + defaultPort + &quot; not found.&quot;);\r\n            }\r\n    \r\n        }\r\n    \r\n        public SimpleRead() {\r\n            try {\r\n                serialPort = (SerialPort) portId.open(&quot;SimpleReadApp&quot;, 2000);\r\n    \r\n            } catch (PortInUseException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            try {\r\n    \r\n                inputStream = serialPort.getInputStream();\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            try {\r\n                serialPort.addEventListener(this);\r\n            } catch (TooManyListenersException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            serialPort.notifyOnDataAvailable(true);\r\n    \r\n            try {\r\n                serialPort.setSerialPortParams(9600, SerialPort.DATABITS_8,\r\n                        SerialPort.STOPBITS_1,\r\n                        SerialPort.PARITY_NONE);\r\n            } catch (UnsupportedCommOperationException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            readThread = new Thread(this);\r\n    \r\n            readThread.start();\r\n        }\r\n    \r\n        public void run() {\r\n            try {\r\n                Thread.sleep(10);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        public void serialEvent(SerialPortEvent event) {\r\n            switch (event.getEventType()) {\r\n    \r\n                case SerialPortEvent.BI:\r\n                    System.out.println(&quot;BI&quot;);\r\n                case SerialPortEvent.OE:\r\n                    System.out.println(&quot;OE&quot;);\r\n                case SerialPortEvent.FE:\r\n                    System.out.println(&quot;FE&quot;);\r\n                case SerialPortEvent.PE:\r\n                    System.out.println(&quot;PE&quot;);\r\n                case SerialPortEvent.CD:\r\n                    System.out.println(&quot;CD&quot;);\r\n                case SerialPortEvent.CTS:\r\n                    System.out.println(&quot;CTS&quot;);\r\n                case SerialPortEvent.DSR:\r\n                    System.out.println(&quot;DSR&quot;);\r\n                case SerialPortEvent.RI:\r\n                    System.out.println(&quot;RI&quot;);\r\n                case SerialPortEvent.OUTPUT_BUFFER_EMPTY:\r\n                    System.out.println(&quot;OUTPUT_BUFFER_EMPTY&quot;);\r\n                    break;\r\n    \r\n                case SerialPortEvent.DATA_AVAILABLE:\r\n                    System.out.println(&quot;DATA_AVAILABLE&quot;);\r\n                    byte[] readBuffer = new byte[20];\r\n    \r\n                    try {\r\n                        while (inputStream.available() &gt; 0) {\r\n                            int numBytes = inputStream.read(readBuffer);\r\n                            System.out.print(&quot;The Read Bytes from SerialPort are&quot;);\r\n                            System.out.write(readBuffer);\r\n                            System.out.println();\r\n                        }\r\n    \r\n                        System.out.print(new String(readBuffer));\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n    \r\n                    break;\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n    \r\n\r\n\r\n","title":"READ ASCII data using Javax comm package","body":"<p>I have a device sends some data to COM port, byte stream is a human readable ASCII character stream.\nI tried to read the data stream from a port reader and I can read it easily like,</p>\n<pre><code>Param   Flags   Value   Unit    [min-max]\n</code></pre>\n<p>WBC E   0.00    10^9/l  [4.00-10.00]\nLYM     0.00    10^9/l  [1.30-4.00]</p>\n<p>But when I'm trying to read from a java program as byte and converting to ASCII, still it shows as jargon. e.g. ���v�</p>\n<p>I changed array size and try various options to convert array to ASCII.</p>\n<p>Row out is like</p>\n<p>4C 4C 59 20 41 55 54 4F 4D 41 54 45 44 20 48 45   LLY AUTOMATED HE</p>\n<p>Guidance to read n proper format is highly appreciated.</p>\n<p>Code is</p>\n<pre><code>import java.io.*;\nimport java.util.*;\nimport javax.comm.*;\n\npublic class SimpleRead implements Runnable, SerialPortEventListener {\n\n    static CommPortIdentifier portId;\n    static Enumeration portList;\n    InputStream inputStream;\n    SerialPort serialPort;\n    Thread readThread;\n    String line = &quot;&quot;;\n    BufferedReader portReader;\n\n    public static void main(String[] args) {\n        boolean portFound = false;\n        String defaultPort = &quot;COM6&quot;;\n\n        if (args.length &gt; 0) {\n            defaultPort = args[0];\n        }\n\n        portList = CommPortIdentifier.getPortIdentifiers();\n\n        while (portList.hasMoreElements()) {\n            portId = (CommPortIdentifier) portList.nextElement();\n            if (portId.getPortType() == CommPortIdentifier.PORT_SERIAL) {\n                if (portId.getName().equals(defaultPort)) {\n                    System.out.println(&quot;Found port: &quot; + defaultPort);\n                    portFound = true;\n                    SimpleRead reader = new SimpleRead();\n                }\n            }\n        }\n        if (!portFound) {\n            System.out.println(&quot;port &quot; + defaultPort + &quot; not found.&quot;);\n        }\n\n    }\n\n    public SimpleRead() {\n        try {\n            serialPort = (SerialPort) portId.open(&quot;SimpleReadApp&quot;, 2000);\n\n        } catch (PortInUseException e) {\n            e.printStackTrace();\n        }\n\n        try {\n\n            inputStream = serialPort.getInputStream();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        try {\n            serialPort.addEventListener(this);\n        } catch (TooManyListenersException e) {\n            e.printStackTrace();\n        }\n\n        serialPort.notifyOnDataAvailable(true);\n\n        try {\n            serialPort.setSerialPortParams(9600, SerialPort.DATABITS_8,\n                    SerialPort.STOPBITS_1,\n                    SerialPort.PARITY_NONE);\n        } catch (UnsupportedCommOperationException e) {\n            e.printStackTrace();\n        }\n\n        readThread = new Thread(this);\n\n        readThread.start();\n    }\n\n    public void run() {\n        try {\n            Thread.sleep(10);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public void serialEvent(SerialPortEvent event) {\n        switch (event.getEventType()) {\n\n            case SerialPortEvent.BI:\n                System.out.println(&quot;BI&quot;);\n            case SerialPortEvent.OE:\n                System.out.println(&quot;OE&quot;);\n            case SerialPortEvent.FE:\n                System.out.println(&quot;FE&quot;);\n            case SerialPortEvent.PE:\n                System.out.println(&quot;PE&quot;);\n            case SerialPortEvent.CD:\n                System.out.println(&quot;CD&quot;);\n            case SerialPortEvent.CTS:\n                System.out.println(&quot;CTS&quot;);\n            case SerialPortEvent.DSR:\n                System.out.println(&quot;DSR&quot;);\n            case SerialPortEvent.RI:\n                System.out.println(&quot;RI&quot;);\n            case SerialPortEvent.OUTPUT_BUFFER_EMPTY:\n                System.out.println(&quot;OUTPUT_BUFFER_EMPTY&quot;);\n                break;\n\n            case SerialPortEvent.DATA_AVAILABLE:\n                System.out.println(&quot;DATA_AVAILABLE&quot;);\n                byte[] readBuffer = new byte[20];\n\n                try {\n                    while (inputStream.available() &gt; 0) {\n                        int numBytes = inputStream.read(readBuffer);\n                        System.out.print(&quot;The Read Bytes from SerialPort are&quot;);\n                        System.out.write(readBuffer);\n                        System.out.println();\n                    }\n\n                    System.out.print(new String(readBuffer));\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n\n                break;\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","elasticsearch"],"comments":[{"owner":{"account_id":2339115,"reputation":121,"user_id":2050810,"display_name":"Stefan Lechner"},"score":0,"creation_date":1642761236,"post_id":70799639,"comment_id":125163360,"body_markdown":"Have a look on org.springframework.web.client.RestTemplate, it&#39;s a high level REST interface","body":"Have a look on org.springframework.web.client.RestTemplate, it&#39;s a high level REST interface"}],"answers":[{"tags":[],"owner":{"account_id":1947573,"reputation":6810,"user_id":1752366,"accept_rate":54,"display_name":"silentsudo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642772568,"creation_date":1642772568,"answer_id":70802271,"question_id":70799639,"body_markdown":"You can use [RestTemplate][1].\r\n\r\nHere is how i have tried to do it, for testing i made simple get api which create a index and updates it afterwards.\r\n```java\r\n@GetMapping\r\n    public Map&lt;String, Object&gt; updateEsMapping() throws JsonProcessingException {\r\n        //Create mapping index\r\n        final Map&lt;String, Object&gt; request =\r\n                Map.of(&quot;properties&quot;, Map.of(\r\n                        &quot;id&quot;, Map.of(&quot;type&quot;, &quot;keyword&quot;),\r\n                        &quot;name&quot;, Map.of(&quot;type&quot;, &quot;keyword&quot;),\r\n                        &quot;date&quot;, Map.of(&quot;type&quot;, &quot;date&quot;)\r\n                ));\r\n        //Compose  json header\r\n        final HttpHeaders headers = new HttpHeaders();\r\n        headers.setContentType(MediaType.APPLICATION_JSON);\r\n\r\n        //Create entity\r\n        final HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(objectMapper.writeValueAsString(request), headers);\r\n\r\n        //es constants\r\n        final String host = &quot;http://localhost:9200/&quot;;\r\n        final String indexName = &quot;raw-sample-document-creation/&quot;;\r\n        final String mapping = &quot;_mapping/&quot;;\r\n\r\n        //First create index\r\n        restTemplate.put(host + indexName, null);\r\n\r\n        //Update mapping\r\n        ResponseEntity&lt;String&gt; exchange = restTemplate.exchange(host + indexName + mapping, HttpMethod.PUT, entity, String.class);\r\n        \r\n        \r\n        return Map.of(&quot;status&quot;, &quot;ok&quot;, &quot;request&quot;, exchange.getBody()\r\n                .replace(&quot;\\n&quot;, &quot;&quot;)\r\n                .replace(&quot;\\r&quot;, &quot;&quot;)\r\n        );\r\n    }\r\n```\r\n\r\nYou can explore more here for standard approach\r\nhttps://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#elasticsearch.clients\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html","title":"What can i do to make a http put request from springboot to a URL","body":"<p>You can use <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html\" rel=\"nofollow noreferrer\">RestTemplate</a>.</p>\n<p>Here is how i have tried to do it, for testing i made simple get api which create a index and updates it afterwards.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping\n    public Map&lt;String, Object&gt; updateEsMapping() throws JsonProcessingException {\n        //Create mapping index\n        final Map&lt;String, Object&gt; request =\n                Map.of(&quot;properties&quot;, Map.of(\n                        &quot;id&quot;, Map.of(&quot;type&quot;, &quot;keyword&quot;),\n                        &quot;name&quot;, Map.of(&quot;type&quot;, &quot;keyword&quot;),\n                        &quot;date&quot;, Map.of(&quot;type&quot;, &quot;date&quot;)\n                ));\n        //Compose  json header\n        final HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.APPLICATION_JSON);\n\n        //Create entity\n        final HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(objectMapper.writeValueAsString(request), headers);\n\n        //es constants\n        final String host = &quot;http://localhost:9200/&quot;;\n        final String indexName = &quot;raw-sample-document-creation/&quot;;\n        final String mapping = &quot;_mapping/&quot;;\n\n        //First create index\n        restTemplate.put(host + indexName, null);\n\n        //Update mapping\n        ResponseEntity&lt;String&gt; exchange = restTemplate.exchange(host + indexName + mapping, HttpMethod.PUT, entity, String.class);\n        \n        \n        return Map.of(&quot;status&quot;, &quot;ok&quot;, &quot;request&quot;, exchange.getBody()\n                .replace(&quot;\\n&quot;, &quot;&quot;)\n                .replace(&quot;\\r&quot;, &quot;&quot;)\n        );\n    }\n</code></pre>\n<p>You can explore more here for standard approach\n<a href=\"https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#elasticsearch.clients\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#elasticsearch.clients</a></p>\n"}],"owner":{"account_id":22002497,"reputation":23,"user_id":16274019,"display_name":"Shashank"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":812,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70802271,"answer_count":1,"score":0,"last_activity_date":1642772568,"creation_date":1642759999,"question_id":70799639,"body_markdown":"I want to make a http put request to elastic search server, running on port 9200, to set its mappings initially when the index is created, explicitly, I want to do this via spring boot and not via curl. The put request should have a body, of JSON format, which contains attributes of the mappings. ","title":"What can i do to make a http put request from springboot to a URL","body":"<p>I want to make a http put request to elastic search server, running on port 9200, to set its mappings initially when the index is created, explicitly, I want to do this via spring boot and not via curl. The put request should have a body, of JSON format, which contains attributes of the mappings.</p>\n"},{"tags":["java","xml","jackson","xml-deserialization"],"comments":[{"owner":{"account_id":5252988,"reputation":1450,"user_id":4196620,"display_name":"kendavidson"},"score":1,"creation_date":1630083182,"post_id":68956123,"comment_id":121867740,"body_markdown":"When your lists are not wrapped you need to let the `ObjectMapper` know `@JacksonXmlElementWrapper(useWrapping = false)`","body":"When your lists are not wrapped you need to let the <code>ObjectMapper</code> know <code>@JacksonXmlElementWrapper(useWrapping = false)</code>"},{"owner":{"account_id":3248847,"reputation":1579,"user_id":2739681,"accept_rate":82,"display_name":"PeMa"},"score":0,"creation_date":1642714992,"post_id":68956123,"comment_id":125152932,"body_markdown":"@kendavidson could you explain that a little more? It seems to solve my issue. Yet I’d like to understand it.","body":"@kendavidson could you explain that a little more? It seems to solve my issue. Yet I’d like to understand it."}],"answers":[{"tags":[],"owner":{"account_id":5252988,"reputation":1450,"user_id":4196620,"display_name":"kendavidson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642772495,"creation_date":1642772006,"answer_id":70802125,"question_id":68956123,"body_markdown":"@PeMa, sure.\r\n\r\nWhen using the example provided by @Chuck Nuris the xml looks like this\r\n\r\n```\r\n&lt;TripList&gt;\r\n  &lt;Trip&gt;...&lt;/Trip&gt;\r\n  &lt;Trip&gt;...&lt;/Trip&gt;\r\n  &lt;Trip&gt;...&lt;/Trip&gt;\r\n&lt;/TripList&gt;\r\n```\r\n\r\nWhen working with xml the (more accepted) way of doing things in general is:\r\n\r\n```\r\n&lt;TripList&gt;\r\n  &lt;Trips&gt;\r\n    &lt;Trip&gt;...&lt;/Trip&gt;\r\n    &lt;Trip&gt;...&lt;/Trip&gt;\r\n    &lt;Trip&gt;...&lt;/Trip&gt;\r\n  &lt;/Trips&gt;\r\n&lt;/TripList&gt;\r\n```\r\n\r\nWhile working with the object:\r\n\r\n```\r\nclass TripList {\r\n   List&lt;Trip&gt; trips;\r\n}\r\n```\r\n\r\nBecause the more general way to use XML is to **wrap** this list in the `&lt;Trips&gt;` element, the default functionality for Jackson XML is to expect:\r\n\r\nThe name of the variable `trips` to match the wrapper element `&lt;Trips&gt;` when (de)serializing.  When there is no wrapper element `&lt;Trips&gt;` in this case then you need to tell Jackson that the list of `&lt;Trip&gt;` are not wrapped.\r\n\r\nWhen working with wrapping you can:\r\n- turn it off `@JacksonXmlElementWrapper(useWrapping = false)`\r\n- change the name `JacksonXmlElementWrapper(localName = &quot;MyTrips&quot;)`\r\n\r\nbased on what you want or have to deal with your example being.","title":"Why is Jackson not deserializing some XML elements?","body":"<p>@PeMa, sure.</p>\n<p>When using the example provided by @Chuck Nuris the xml looks like this</p>\n<pre><code>&lt;TripList&gt;\n  &lt;Trip&gt;...&lt;/Trip&gt;\n  &lt;Trip&gt;...&lt;/Trip&gt;\n  &lt;Trip&gt;...&lt;/Trip&gt;\n&lt;/TripList&gt;\n</code></pre>\n<p>When working with xml the (more accepted) way of doing things in general is:</p>\n<pre><code>&lt;TripList&gt;\n  &lt;Trips&gt;\n    &lt;Trip&gt;...&lt;/Trip&gt;\n    &lt;Trip&gt;...&lt;/Trip&gt;\n    &lt;Trip&gt;...&lt;/Trip&gt;\n  &lt;/Trips&gt;\n&lt;/TripList&gt;\n</code></pre>\n<p>While working with the object:</p>\n<pre><code>class TripList {\n   List&lt;Trip&gt; trips;\n}\n</code></pre>\n<p>Because the more general way to use XML is to <strong>wrap</strong> this list in the <code>&lt;Trips&gt;</code> element, the default functionality for Jackson XML is to expect:</p>\n<p>The name of the variable <code>trips</code> to match the wrapper element <code>&lt;Trips&gt;</code> when (de)serializing.  When there is no wrapper element <code>&lt;Trips&gt;</code> in this case then you need to tell Jackson that the list of <code>&lt;Trip&gt;</code> are not wrapped.</p>\n<p>When working with wrapping you can:</p>\n<ul>\n<li>turn it off <code>@JacksonXmlElementWrapper(useWrapping = false)</code></li>\n<li>change the name <code>JacksonXmlElementWrapper(localName = &quot;MyTrips&quot;)</code></li>\n</ul>\n<p>based on what you want or have to deal with your example being.</p>\n"}],"owner":{"account_id":11813430,"reputation":81,"user_id":14662172,"display_name":"Chuck Nuris"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":934,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642772495,"creation_date":1630078825,"question_id":68956123,"body_markdown":"Once I get the XML as a string, I want to deserialize it. The idea of my deserializer is that I can tell it which type I want to deserialize some xml input to and it will return a deserialized object of that type to me.\r\n\r\n### My code\r\n\r\nThis is my deserialization method:\r\n\r\n    public &lt;T&gt; T deserialize(String input, Class&lt;T&gt; type) throws JsonProcessingException {\r\n    \r\n            XmlMapper mapper = new XmlMapper();\r\n            mapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\r\n    \r\n            return mapper.readValue(input, type);\r\n        }\r\n\r\nMy XML input contains a `&lt;TripList&gt;` element as the root element. It further consists of many other elements and the most important of them is the `&lt;Trip&gt;` element.\r\n\r\nHere is a brief example of my XML input:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n    &lt;TripList scrB=&quot;x&quot; serverVersion=&quot;1.1.12&quot; dialectVersion=&quot;2.22&quot; planRtTs=&quot;unknown&quot; requestId=&quot;abc&quot; xmlns=&quot;http://hacon.de/hafas/proxy/hafas-proxy&quot;&gt;\r\n        &lt;Trip idx=&quot;0&quot; tripId=&quot;C-0&quot; ctxRecon=&quot;&quot; duration=&quot;PT5H33M&quot; rtDuration=&quot;PT5H33M&quot; checksum=&quot;31623617&quot; transferCount=&quot;3&quot;&gt;\r\n            &lt;Origin/&gt;\r\n            &lt;Destination/&gt;\r\n            ...\r\n\r\n### POJO classes\r\n\r\n`TripList` POJO class looks like this:\r\n\r\n    XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlType(name = &quot;TripList&quot;, propOrder = {\r\n        &quot;trip&quot;,\r\n        &quot;pricing&quot;,\r\n        &quot;sotContext&quot;\r\n    })\r\n    public class TripList\r\n        extends CommonResponseType\r\n    {\r\n    \r\n        @XmlElement(name = &quot;Trip&quot;)\r\n        protected List&lt;TripType&gt; trip;\r\n        @XmlElement(name = &quot;Pricing&quot;)\r\n        protected List&lt;PricingType&gt; pricing;\r\n        @XmlElement(name = &quot;SotContext&quot;)\r\n        protected SotContextType sotContext;\r\n        @XmlAttribute(name = &quot;scrB&quot;)\r\n        protected String scrB;\r\n        @XmlAttribute(name = &quot;scrF&quot;)\r\n        protected String scrF;\r\n        ...\r\n\r\n`TripType` POJO class:\r\n\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlType(name = &quot;TripType&quot;, propOrder = {\r\n        &quot;origin&quot;,\r\n        &quot;destination&quot;,\r\n        &quot;messages&quot;,\r\n        &quot;notes&quot;,\r\n        ...\r\n    })\r\n    public class TripType {\r\n    \r\n        @XmlElement(name = &quot;Origin&quot;)\r\n        protected OriginDestType origin;\r\n        @XmlElement(name = &quot;Destination&quot;)\r\n        protected OriginDestType destination;\r\n        @XmlElement(name = &quot;Messages&quot;)\r\n        protected Messages messages;\r\n        @XmlElement(name = &quot;Notes&quot;)\r\n        ...\r\n \r\n\r\n### Problem\r\n\r\n**After calling the deserialize() method, the TripType attribute (Trip element in XML input) inside the TripList object is null.** Also other elements are null while XML attributes are correctly deserialized.\r\n\r\nHere is an example from my debugger with different values inside XML input:\r\n\r\n[![Debugger log][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FkUa7.png","title":"Why is Jackson not deserializing some XML elements?","body":"<p>Once I get the XML as a string, I want to deserialize it. The idea of my deserializer is that I can tell it which type I want to deserialize some xml input to and it will return a deserialized object of that type to me.</p>\n<h3>My code</h3>\n<p>This is my deserialization method:</p>\n<pre><code>public &lt;T&gt; T deserialize(String input, Class&lt;T&gt; type) throws JsonProcessingException {\n\n        XmlMapper mapper = new XmlMapper();\n        mapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\n\n        return mapper.readValue(input, type);\n    }\n</code></pre>\n<p>My XML input contains a <code>&lt;TripList&gt;</code> element as the root element. It further consists of many other elements and the most important of them is the <code>&lt;Trip&gt;</code> element.</p>\n<p>Here is a brief example of my XML input:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;TripList scrB=&quot;x&quot; serverVersion=&quot;1.1.12&quot; dialectVersion=&quot;2.22&quot; planRtTs=&quot;unknown&quot; requestId=&quot;abc&quot; xmlns=&quot;http://hacon.de/hafas/proxy/hafas-proxy&quot;&gt;\n    &lt;Trip idx=&quot;0&quot; tripId=&quot;C-0&quot; ctxRecon=&quot;&quot; duration=&quot;PT5H33M&quot; rtDuration=&quot;PT5H33M&quot; checksum=&quot;31623617&quot; transferCount=&quot;3&quot;&gt;\n        &lt;Origin/&gt;\n        &lt;Destination/&gt;\n        ...\n</code></pre>\n<h3>POJO classes</h3>\n<p><code>TripList</code> POJO class looks like this:</p>\n<pre><code>XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;TripList&quot;, propOrder = {\n    &quot;trip&quot;,\n    &quot;pricing&quot;,\n    &quot;sotContext&quot;\n})\npublic class TripList\n    extends CommonResponseType\n{\n\n    @XmlElement(name = &quot;Trip&quot;)\n    protected List&lt;TripType&gt; trip;\n    @XmlElement(name = &quot;Pricing&quot;)\n    protected List&lt;PricingType&gt; pricing;\n    @XmlElement(name = &quot;SotContext&quot;)\n    protected SotContextType sotContext;\n    @XmlAttribute(name = &quot;scrB&quot;)\n    protected String scrB;\n    @XmlAttribute(name = &quot;scrF&quot;)\n    protected String scrF;\n    ...\n</code></pre>\n<p><code>TripType</code> POJO class:</p>\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;TripType&quot;, propOrder = {\n    &quot;origin&quot;,\n    &quot;destination&quot;,\n    &quot;messages&quot;,\n    &quot;notes&quot;,\n    ...\n})\npublic class TripType {\n\n    @XmlElement(name = &quot;Origin&quot;)\n    protected OriginDestType origin;\n    @XmlElement(name = &quot;Destination&quot;)\n    protected OriginDestType destination;\n    @XmlElement(name = &quot;Messages&quot;)\n    protected Messages messages;\n    @XmlElement(name = &quot;Notes&quot;)\n    ...\n</code></pre>\n<h3>Problem</h3>\n<p><strong>After calling the deserialize() method, the TripType attribute (Trip element in XML input) inside the TripList object is null.</strong> Also other elements are null while XML attributes are correctly deserialized.</p>\n<p>Here is an example from my debugger with different values inside XML input:</p>\n<p><a href=\"https://i.stack.imgur.com/FkUa7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FkUa7.png\" alt=\"Debugger log\" /></a></p>\n"},{"tags":["java","spring","spring-boot","frontend"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1642773266,"post_id":70802245,"comment_id":125167845,"body_markdown":"The `Pageable` needs to be the last argument in the find method on the repository. You don&#39;t need the parameters in your request, just add a `Pageable` and Spring will construct it for you, you can then supply a `sort` parameter to include the sorting/ordering.","body":"The <code>Pageable</code> needs to be the last argument in the find method on the repository. You don&#39;t need the parameters in your request, just add a <code>Pageable</code> and Spring will construct it for you, you can then supply a <code>sort</code> parameter to include the sorting/ordering."}],"owner":{"account_id":22250524,"reputation":181,"user_id":16483521,"display_name":"ServletException"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1081,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642772473,"creation_date":1642772473,"question_id":70802245,"body_markdown":"I&#39;m building a web app using Spring boot and reactjs, it&#39;s a type of second hand market place for cars.\r\n\r\nI have an endpoint to post data to my backend to create an Advert, the issue is that I have no idea how to implement Sorting and Filtering of data. I&#39;m also unsure if everything should be done on the backend or should some stuff be done on the frontend.\r\n\r\nI&#39;m unsure if I should use JPA to add some sort of OrderBy to my repository interface methods, but I still don&#39;t know how to go about doing it for each option i might have. Would I need multiple controllers to handle each of these scenarios or could i check whether the Request param is equal to a sort option\r\n\r\n\r\nAt the moment my POST endpoint to create an Advert has a query param to check for specific title of a post. (This works and I tested with Postman client).\r\n\r\nFor things like &lt;select&gt; inputs on the frontend, how exactly does the flow work if i have input fields like sort by price low - high, sort by title a-z etc.\r\n\r\nHow do i properly implement this to sort the advert data according to the user input.\r\n\r\n---------\r\n\r\n**PostRepository.java**\r\n```java\r\n@Repository\r\npublic interface PostRepository extends JpaRepository&lt;Post, Long&gt; {\r\n    // GETS A USERS POSTS THAT BELONG TO THEM ONLY (For use in edit advert page, delete ad page etc)\r\n    Page&lt;Post&gt; findAllPostsByPostCreator(Pageable pageable, String emailAddress);\r\n\r\n    // GETS ALL POSTS WITH OPTION TO SEARCH BY TITLE\r\n    Page&lt;Post&gt;findAllByTitleContaining(Pageable pageable, String title);\r\n\r\n}\r\n```\r\n\r\n\r\n----------\r\n**PostServiceImpl.java**\r\n```java\r\n@Service\r\npublic class PostServiceImpl implements PostService{\r\n\r\n    @Autowired\r\n    private PostRepository postRepository;\r\n\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n\r\n    @Override\r\n    public Page&lt;Post&gt; findAllPosts(Pageable pageable) {\r\n        return postRepository.findAll(pageable);\r\n    }\r\n\r\n\r\n   // used to find ALL posts and search for specific one\r\n    @Override\r\n    public Page&lt;Post&gt; searchAllPosts(Pageable pageable, String title) {\r\n        Page&lt;Post&gt; page = postRepository.findAllByTitleContaining(pageable, title);\r\n\r\n        if(page.isEmpty()) {\r\n            throw new PostNotFoundException(&quot;There are no matching records..&quot;);\r\n        }\r\n\r\n        return page;\r\n    }\r\n\r\n    // Used to find all posts of a user only\r\n    @Override\r\n    public Page&lt;Post&gt; findAllPostsByPostCreator(Pageable pageable, String emailAddress) {\r\n\r\n        Page&lt;Post&gt; posts = postRepository.findAllPostsByPostCreator(pageable, emailAddress);\r\n\r\n        if(posts.isEmpty()) {\r\n            throw new PostNotFoundException(&quot;You do not have any posts.&quot;);\r\n        }\r\n\r\n        return posts;\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n**PostController.java**\r\n```java\r\n@RestController\r\n@CrossOrigin()\r\n@RequestMapping(&quot;/api/post&quot;)\r\npublic class PostController {\r\n\r\n\r\n    @Autowired\r\n    private PostServiceImpl postService;\r\n\r\n\r\n\r\n    @GetMapping(&quot;/all&quot;)\r\n    public ResponseEntity&lt;?&gt; getAllPosts(\r\n            Principal principal,\r\n            // used to search for advert with specific title\r\n            @RequestParam(required = false) String title,\r\n            @RequestParam(defaultValue = &quot;0&quot;) int page,\r\n            @RequestParam(defaultValue = &quot;3&quot;) int size) throws Exception {\r\n\r\n\r\n        Pageable pagingSort = PageRequest.of(page, size);\r\n\r\n        List&lt;Post&gt; posts;\r\n        Page&lt;Post&gt; pageTuts;\r\n\r\n        // if no title query defined, return ALL\r\n        if(title == null) {\r\n            pageTuts = postService.findAllPosts(pagingSort);\r\n        } else {\r\n            pageTuts = postService.searchAllPosts(pagingSort, title);\r\n        }\r\n\r\n        posts = pageTuts.getContent();\r\n\r\n        Map&lt;Object, Object&gt; response = new HashMap&lt;&gt;();\r\n        response.put(&quot;posts&quot;, posts);\r\n        // current page a user is on\r\n        response.put(&quot;currentPage&quot;, pageTuts.getNumber());\r\n        // elements in page\r\n        response.put(&quot;totalItems&quot;, pageTuts.getTotalElements());\r\n        // total pages\r\n        response.put(&quot;totalPages&quot;, pageTuts.getTotalPages());\r\n\r\n        // return these properties as json to use in client\r\n        return new ResponseEntity&lt;&gt;(response, HttpStatus.OK);\r\n\r\n\r\n\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\n**Postman test for query param**\r\n[![Postman][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aZj4V.png","title":"Spring boot and frontend to sort/filter data","body":"<p>I'm building a web app using Spring boot and reactjs, it's a type of second hand market place for cars.</p>\n<p>I have an endpoint to post data to my backend to create an Advert, the issue is that I have no idea how to implement Sorting and Filtering of data. I'm also unsure if everything should be done on the backend or should some stuff be done on the frontend.</p>\n<p>I'm unsure if I should use JPA to add some sort of OrderBy to my repository interface methods, but I still don't know how to go about doing it for each option i might have. Would I need multiple controllers to handle each of these scenarios or could i check whether the Request param is equal to a sort option</p>\n<p>At the moment my POST endpoint to create an Advert has a query param to check for specific title of a post. (This works and I tested with Postman client).</p>\n<p>For things like  inputs on the frontend, how exactly does the flow work if i have input fields like sort by price low - high, sort by title a-z etc.</p>\n<p>How do i properly implement this to sort the advert data according to the user input.</p>\n<hr />\n<p><strong>PostRepository.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface PostRepository extends JpaRepository&lt;Post, Long&gt; {\n    // GETS A USERS POSTS THAT BELONG TO THEM ONLY (For use in edit advert page, delete ad page etc)\n    Page&lt;Post&gt; findAllPostsByPostCreator(Pageable pageable, String emailAddress);\n\n    // GETS ALL POSTS WITH OPTION TO SEARCH BY TITLE\n    Page&lt;Post&gt;findAllByTitleContaining(Pageable pageable, String title);\n\n}\n</code></pre>\n<hr />\n<p><strong>PostServiceImpl.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class PostServiceImpl implements PostService{\n\n    @Autowired\n    private PostRepository postRepository;\n\n    @Autowired\n    private UserRepository userRepository;\n\n\n    @Override\n    public Page&lt;Post&gt; findAllPosts(Pageable pageable) {\n        return postRepository.findAll(pageable);\n    }\n\n\n   // used to find ALL posts and search for specific one\n    @Override\n    public Page&lt;Post&gt; searchAllPosts(Pageable pageable, String title) {\n        Page&lt;Post&gt; page = postRepository.findAllByTitleContaining(pageable, title);\n\n        if(page.isEmpty()) {\n            throw new PostNotFoundException(&quot;There are no matching records..&quot;);\n        }\n\n        return page;\n    }\n\n    // Used to find all posts of a user only\n    @Override\n    public Page&lt;Post&gt; findAllPostsByPostCreator(Pageable pageable, String emailAddress) {\n\n        Page&lt;Post&gt; posts = postRepository.findAllPostsByPostCreator(pageable, emailAddress);\n\n        if(posts.isEmpty()) {\n            throw new PostNotFoundException(&quot;You do not have any posts.&quot;);\n        }\n\n        return posts;\n    }\n\n}\n\n</code></pre>\n<p><strong>PostController.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@CrossOrigin()\n@RequestMapping(&quot;/api/post&quot;)\npublic class PostController {\n\n\n    @Autowired\n    private PostServiceImpl postService;\n\n\n\n    @GetMapping(&quot;/all&quot;)\n    public ResponseEntity&lt;?&gt; getAllPosts(\n            Principal principal,\n            // used to search for advert with specific title\n            @RequestParam(required = false) String title,\n            @RequestParam(defaultValue = &quot;0&quot;) int page,\n            @RequestParam(defaultValue = &quot;3&quot;) int size) throws Exception {\n\n\n        Pageable pagingSort = PageRequest.of(page, size);\n\n        List&lt;Post&gt; posts;\n        Page&lt;Post&gt; pageTuts;\n\n        // if no title query defined, return ALL\n        if(title == null) {\n            pageTuts = postService.findAllPosts(pagingSort);\n        } else {\n            pageTuts = postService.searchAllPosts(pagingSort, title);\n        }\n\n        posts = pageTuts.getContent();\n\n        Map&lt;Object, Object&gt; response = new HashMap&lt;&gt;();\n        response.put(&quot;posts&quot;, posts);\n        // current page a user is on\n        response.put(&quot;currentPage&quot;, pageTuts.getNumber());\n        // elements in page\n        response.put(&quot;totalItems&quot;, pageTuts.getTotalElements());\n        // total pages\n        response.put(&quot;totalPages&quot;, pageTuts.getTotalPages());\n\n        // return these properties as json to use in client\n        return new ResponseEntity&lt;&gt;(response, HttpStatus.OK);\n\n\n\n    }\n}\n\n\n</code></pre>\n<p><strong>Postman test for query param</strong>\n<a href=\"https://i.stack.imgur.com/aZj4V.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aZj4V.png\" alt=\"Postman\" /></a></p>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":8332,"page":1660,"page_size":100}
