{"items":[{"tags":["java","json","spring-boot"],"comments":[{"owner":{"account_id":13010918,"reputation":442,"user_id":11532975,"display_name":"Adrian Lagartera"},"score":1,"creation_date":1671112992,"post_id":74812561,"comment_id":132031532,"body_markdown":"First of all, if you want to pass more than one argument in your request, just put the request are waiting for a `List` of the objects you need. But anyway the main problem you do not understand how the data flow works in your design. I recommend you to look for articles about creating an API, and the architecture behind that. Because you have the idea, but don’t know how implement that in API. https://www.baeldung.com/rest-with-spring-series Take your time reading it and practice, not easy at the beginning but is so enjoyable. Good luck","body":"First of all, if you want to pass more than one argument in your request, just put the request are waiting for a <code>List</code> of the objects you need. But anyway the main problem you do not understand how the data flow works in your design. I recommend you to look for articles about creating an API, and the architecture behind that. Because you have the idea, but don’t know how implement that in API. <a href=\"https://www.baeldung.com/rest-with-spring-series\" rel=\"nofollow noreferrer\">baeldung.com/rest-with-spring-series</a> Take your time reading it and practice, not easy at the beginning but is so enjoyable. Good luck"}],"owner":{"account_id":19678008,"reputation":71,"user_id":14405695,"display_name":"Ani23"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":280,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671112051,"creation_date":1671112051,"question_id":74812561,"body_markdown":"I&#39;m trying to make a recipe app and I have these models:\r\n\r\nRecipe\r\n```\r\npublic class Recipe {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Integer id;\r\n\r\n    private String title;\r\n\r\n    private Integer prepTime;\r\n\r\n    private Integer cookTime;\r\n\r\n    @OneToMany(fetch = FetchType.LAZY)\r\n    private ArrayList&lt;Ingredient&gt; ingredients;\r\n\r\n    private String instructions;\r\n\r\n    private String notes;\r\n\r\n    public Recipe(String title, Integer prepTime, Integer cookTime, ArrayList&lt;Ingredient&gt; ingredients, String instructions, String notes) {\r\n        this.title = title;\r\n        this.prepTime = prepTime;\r\n        this.cookTime = cookTime;\r\n        this.ingredients = ingredients;\r\n        this.instructions = instructions;\r\n        this.notes = notes;\r\n    }\r\n```\r\n\r\nIngredient\r\n```\r\npublic class Ingredient {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Integer id;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;product_id&quot;)\r\n    private Product product;\r\n\r\n    private Integer quantity;\r\n\r\n    private Integer price;\r\n\r\n    public Ingredient(Product product, int quantity, Integer price) {\r\n        if (product != null) {\r\n            this.product = product;\r\n        }\r\n        this.quantity = quantity;\r\n        this.price = Objects.requireNonNullElseGet(price, () -&gt; this.quantity * this.product.getPricePerUnit());\r\n    }\r\n```\r\n\r\nProduct\r\n```\r\npublic class Product {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Integer id;\r\n\r\n    private String name;\r\n\r\n    private String unit;\r\n\r\n    private Integer pricePerUnit;\r\n\r\n    public Product(String name, String unit, Integer price) {\r\n        this.name = name;\r\n        this.unit = unit;\r\n        this.pricePerUnit = price;\r\n    }\r\n```\r\n\r\nI&#39;m trying to create a new recipe and ingredients using existing products in my database, so I need to:\r\n1. Get product ids from the JSON\r\n2. Look up the product ids in the ProductRepository and return the relevant Product\r\n3. Use those products in the Ingredients constructor to create a list of ingredients\r\n4. Pass that list of ingredients to the Recipe constructor\r\n\r\nMy problem is how to reflect all this in my Recipe controller:\r\n```\r\n@PostMapping(&quot;/add&quot;)\r\n    public void addRecipe(@RequestBody ??? data)\r\n```\r\n\r\nThis is my Json data for testing:\r\n```\r\n{\r\n    &quot;title&quot;: &quot;Test Recipe&quot;,\r\n    &quot;prepTime&quot;: 20,\r\n    &quot;cookTime&quot;: 50,\r\n    &quot;ingredients&quot;: [\r\n        {\r\n            &quot;product&quot;: 1,\r\n            &quot;quantity&quot;: 30\r\n        }\r\n    ],\r\n    &quot;instructions&quot;: &quot;blah blah&quot;,\r\n    &quot;notes&quot;: &quot;etc&quot;\r\n}\r\n```\r\n\r\nIdeally I&#39;d like to pass multiple parameters to @RequestBody (the list of product ids, the values for the remaining Ingredient fields, and the values for the remaining Recipe fields). Then I could proceed from step 2 above. The problem is that @RequestBody can&#39;t accept more than 1 parameter. Is there any way to make my controller find the product IDs first and create the Ingredients before trying to create a Recipe?\r\n\r\nI have seen a potentially linked question [here][1] but it doesn&#39;t deal with where/how I can look up the Product id and get the Product before creating the Ingredient.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/54370637/wrapping-json-fields-into-instance-variable-of-a-pojo","title":"Spring Boot - how to process JSON data with nested objects?","body":"<p>I'm trying to make a recipe app and I have these models:</p>\n<p>Recipe</p>\n<pre><code>public class Recipe {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Integer id;\n\n    private String title;\n\n    private Integer prepTime;\n\n    private Integer cookTime;\n\n    @OneToMany(fetch = FetchType.LAZY)\n    private ArrayList&lt;Ingredient&gt; ingredients;\n\n    private String instructions;\n\n    private String notes;\n\n    public Recipe(String title, Integer prepTime, Integer cookTime, ArrayList&lt;Ingredient&gt; ingredients, String instructions, String notes) {\n        this.title = title;\n        this.prepTime = prepTime;\n        this.cookTime = cookTime;\n        this.ingredients = ingredients;\n        this.instructions = instructions;\n        this.notes = notes;\n    }\n</code></pre>\n<p>Ingredient</p>\n<pre><code>public class Ingredient {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Integer id;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;product_id&quot;)\n    private Product product;\n\n    private Integer quantity;\n\n    private Integer price;\n\n    public Ingredient(Product product, int quantity, Integer price) {\n        if (product != null) {\n            this.product = product;\n        }\n        this.quantity = quantity;\n        this.price = Objects.requireNonNullElseGet(price, () -&gt; this.quantity * this.product.getPricePerUnit());\n    }\n</code></pre>\n<p>Product</p>\n<pre><code>public class Product {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Integer id;\n\n    private String name;\n\n    private String unit;\n\n    private Integer pricePerUnit;\n\n    public Product(String name, String unit, Integer price) {\n        this.name = name;\n        this.unit = unit;\n        this.pricePerUnit = price;\n    }\n</code></pre>\n<p>I'm trying to create a new recipe and ingredients using existing products in my database, so I need to:</p>\n<ol>\n<li>Get product ids from the JSON</li>\n<li>Look up the product ids in the ProductRepository and return the relevant Product</li>\n<li>Use those products in the Ingredients constructor to create a list of ingredients</li>\n<li>Pass that list of ingredients to the Recipe constructor</li>\n</ol>\n<p>My problem is how to reflect all this in my Recipe controller:</p>\n<pre><code>@PostMapping(&quot;/add&quot;)\n    public void addRecipe(@RequestBody ??? data)\n</code></pre>\n<p>This is my Json data for testing:</p>\n<pre><code>{\n    &quot;title&quot;: &quot;Test Recipe&quot;,\n    &quot;prepTime&quot;: 20,\n    &quot;cookTime&quot;: 50,\n    &quot;ingredients&quot;: [\n        {\n            &quot;product&quot;: 1,\n            &quot;quantity&quot;: 30\n        }\n    ],\n    &quot;instructions&quot;: &quot;blah blah&quot;,\n    &quot;notes&quot;: &quot;etc&quot;\n}\n</code></pre>\n<p>Ideally I'd like to pass multiple parameters to @RequestBody (the list of product ids, the values for the remaining Ingredient fields, and the values for the remaining Recipe fields). Then I could proceed from step 2 above. The problem is that @RequestBody can't accept more than 1 parameter. Is there any way to make my controller find the product IDs first and create the Ingredients before trying to create a Recipe?</p>\n<p>I have seen a potentially linked question <a href=\"https://stackoverflow.com/questions/54370637/wrapping-json-fields-into-instance-variable-of-a-pojo\">here</a> but it doesn't deal with where/how I can look up the Product id and get the Product before creating the Ingredient.</p>\n"},{"tags":["java","spring","data-binding"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1671115298,"post_id":74811753,"comment_id":132032442,"body_markdown":"Use `@ModelAttribute` to bind parameters. However with your current setup that will fail as `code.phone` matches nothing. You should propably use `code.type=phone` and `code.value=999999999` and include an index `code[0].type=phone` else it won&#39;t bind to the list. But as stated use `@ModelAttribute` to bind to an object.","body":"Use <code>@ModelAttribute</code> to bind parameters. However with your current setup that will fail as <code>code.phone</code> matches nothing. You should propably use <code>code.type=phone</code> and <code>code.value=999999999</code> and include an index <code>code[0].type=phone</code> else it won&#39;t bind to the list. But as stated use <code>@ModelAttribute</code> to bind to an object."}],"answers":[{"tags":[],"owner":{"account_id":12056717,"reputation":38,"user_id":8817258,"display_name":"shun chen"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1671111227,"creation_date":1671111227,"answer_id":74812363,"question_id":74811753,"body_markdown":"you can customize a `HandlerMethodArgumentResolver` to implement it. \r\n\r\n&gt; but , if you want a object receive incoming parameter. why not use POST\r\n\r\n```java\r\n@Target({ElementType.PARAMETER})\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Documented\r\npublic @interface Example {\r\n}\r\n```\r\n\r\n```java\r\npublic class ExampleArgumentResolver implements HandlerMethodArgumentResolver {\r\n\r\n    @Override\r\n    public boolean supportsParameter(MethodParameter parameter) {\r\n        Example requestParam = parameter.getParameterAnnotation(Example.class);\r\n        return requestParam != null;\r\n    }\r\n\r\n    @Override\r\n    public Object resolveArgument(MethodParameter parameter, @Nullable ModelAndViewContainer mavContainer,\r\n                                  NativeWebRequest webRequest, @Nullable WebDataBinderFactory binderFactory) throws Exception {\r\n\r\n        ResolvableType resolvableType = ResolvableType.forMethodParameter(parameter);\r\n\r\n        Map&lt;String, String[]&gt; parameterMap = webRequest.getParameterMap();\r\n        Map&lt;String, String&gt; result = CollectionUtils.newLinkedHashMap(parameterMap.size());\r\n        parameterMap.forEach((key, values) -&gt; {\r\n            if (values.length &gt; 0) {\r\n                result.put(key, values[0]);\r\n            }\r\n        });\r\n\r\n        //here will return a map object.  then you convert map to your object, I don&#39;t know how to convert , but you have achieve it.\r\n        return o;\r\n    }\r\n\r\n}\r\n```\r\n\r\nadd to container\r\n```java\r\n@Configuration\r\n@EnableWebMvc\r\npublic class ExampleMvcConfiguration implements WebMvcConfigurer {\r\n    @Override\r\n    public void addArgumentResolvers(List&lt;HandlerMethodArgumentResolver&gt; resolvers) {\r\n        resolvers.add(new ExampleArgumentResolver());\r\n    }\r\n}\r\n```\r\n\r\nusage\r\n```java\r\n@RestController\r\npublic class TestCtrl {\r\n\r\n\r\n    @GetMapping(&quot;api&quot;)\r\n    public Object gg(@Example SearchDto searchDto) {\r\n        System.out.println(searchDto);\r\n        return &quot;1&quot;;\r\n    }\r\n\r\n    @Data\r\n    public static class SearchDto {\r\n        String name;\r\n        List&lt;Code&gt; code;\r\n    }\r\n\r\n    @Data\r\n    public static class Code {\r\n        String type;\r\n        String value;\r\n    }\r\n}\r\n```\r\n\r\nHere is a demo. \r\n\r\n","title":"Convert @RequestParam to custom Object","body":"<p>you can customize a <code>HandlerMethodArgumentResolver</code> to implement it.</p>\n<blockquote>\n<p>but , if you want a object receive incoming parameter. why not use POST</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>@Target({ElementType.PARAMETER})\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\npublic @interface Example {\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class ExampleArgumentResolver implements HandlerMethodArgumentResolver {\n\n    @Override\n    public boolean supportsParameter(MethodParameter parameter) {\n        Example requestParam = parameter.getParameterAnnotation(Example.class);\n        return requestParam != null;\n    }\n\n    @Override\n    public Object resolveArgument(MethodParameter parameter, @Nullable ModelAndViewContainer mavContainer,\n                                  NativeWebRequest webRequest, @Nullable WebDataBinderFactory binderFactory) throws Exception {\n\n        ResolvableType resolvableType = ResolvableType.forMethodParameter(parameter);\n\n        Map&lt;String, String[]&gt; parameterMap = webRequest.getParameterMap();\n        Map&lt;String, String&gt; result = CollectionUtils.newLinkedHashMap(parameterMap.size());\n        parameterMap.forEach((key, values) -&gt; {\n            if (values.length &gt; 0) {\n                result.put(key, values[0]);\n            }\n        });\n\n        //here will return a map object.  then you convert map to your object, I don't know how to convert , but you have achieve it.\n        return o;\n    }\n\n}\n</code></pre>\n<p>add to container</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebMvc\npublic class ExampleMvcConfiguration implements WebMvcConfigurer {\n    @Override\n    public void addArgumentResolvers(List&lt;HandlerMethodArgumentResolver&gt; resolvers) {\n        resolvers.add(new ExampleArgumentResolver());\n    }\n}\n</code></pre>\n<p>usage</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic class TestCtrl {\n\n\n    @GetMapping(&quot;api&quot;)\n    public Object gg(@Example SearchDto searchDto) {\n        System.out.println(searchDto);\n        return &quot;1&quot;;\n    }\n\n    @Data\n    public static class SearchDto {\n        String name;\n        List&lt;Code&gt; code;\n    }\n\n    @Data\n    public static class Code {\n        String type;\n        String value;\n    }\n}\n</code></pre>\n<p>Here is a demo.</p>\n"},{"tags":[],"owner":{"account_id":5363666,"reputation":1950,"user_id":4274223,"display_name":"Gregorio Palam&#224;"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671111277,"creation_date":1671111277,"answer_id":74812374,"question_id":74811753,"body_markdown":"Passing a json in querystring is actually a bad practice, since it decrease the security and sets limits on the number of parameters you can send to your endpoint.\r\n\r\nTechnically speaking, you could make everything work by using your DTO as a controller&#39;s parameter, then URL encoding the json before you send it to the backend. \r\n\r\nThe best option, in your case, is to serve an endpoint that listen to a POST request: it is not an error, neither a bad practise, to use POST when performing a search.","title":"Convert @RequestParam to custom Object","body":"<p>Passing a json in querystring is actually a bad practice, since it decrease the security and sets limits on the number of parameters you can send to your endpoint.</p>\n<p>Technically speaking, you could make everything work by using your DTO as a controller's parameter, then URL encoding the json before you send it to the backend.</p>\n<p>The best option, in your case, is to serve an endpoint that listen to a POST request: it is not an error, neither a bad practise, to use POST when performing a search.</p>\n"}],"owner":{"account_id":11295315,"reputation":101,"user_id":8283018,"display_name":"Evillain"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":434,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1671111807,"creation_date":1671108351,"question_id":74811753,"body_markdown":"Have a problem with optimizing search request.\r\nI have search method that accepts parameters in url query like: \r\n```\r\nhttp://localhost:8080/api?code.&lt;type&gt;=&lt;value&gt;&amp;name=Test\r\n\r\nExample: http://localhost:8080/api?code.phone=9999999999&amp;name=Test\r\n```\r\n\r\nDefined SearchDto: \r\n```\r\npublic class SearchDto {\r\n\r\n    String name;    \r\n    List&lt;Code&gt; code;\r\n\r\n}\r\n```\r\n\r\nDefined Code class:\r\n\r\n```\r\npublic class Code {\r\n\r\n    String type;    \r\n    String value;\r\n\r\n}\r\n```\r\n\r\nCurrently I&#39;m using Map&lt;String,String&gt; as incoming parameter for the method:\r\n\r\n```\r\n@GetMapping(&quot;/search&quot;)\r\npublic ResponseEntity&lt;?&gt; search(final @RequestParam Map&lt;String, String&gt; searchParams) {\r\n  return service.search(searchParams);\r\n}\r\n```\r\n\r\nThen manually converting map values for SearchDto class. Is it possible to get rid of Map&lt;String,String&gt; and pass SearchDto directly as argument in controller method?\r\n\r\n\r\n\r\n","title":"Convert @RequestParam to custom Object","body":"<p>Have a problem with optimizing search request.\nI have search method that accepts parameters in url query like:</p>\n<pre><code>http://localhost:8080/api?code.&lt;type&gt;=&lt;value&gt;&amp;name=Test\n\nExample: http://localhost:8080/api?code.phone=9999999999&amp;name=Test\n</code></pre>\n<p>Defined SearchDto:</p>\n<pre><code>public class SearchDto {\n\n    String name;    \n    List&lt;Code&gt; code;\n\n}\n</code></pre>\n<p>Defined Code class:</p>\n<pre><code>public class Code {\n\n    String type;    \n    String value;\n\n}\n</code></pre>\n<p>Currently I'm using Map&lt;String,String&gt; as incoming parameter for the method:</p>\n<pre><code>@GetMapping(&quot;/search&quot;)\npublic ResponseEntity&lt;?&gt; search(final @RequestParam Map&lt;String, String&gt; searchParams) {\n  return service.search(searchParams);\n}\n</code></pre>\n<p>Then manually converting map values for SearchDto class. Is it possible to get rid of Map&lt;String,String&gt; and pass SearchDto directly as argument in controller method?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","servlets"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1671006980,"post_id":74795010,"comment_id":132001601,"body_markdown":"Why is the sequence important? That shouldn&#39;t really matter... Also you won&#39;t get them in sequence because when multiple arguments with the same name are submitted it is treated as an array underneath.","body":"Why is the sequence important? That shouldn&#39;t really matter... Also you won&#39;t get them in sequence because when multiple arguments with the same name are submitted it is treated as an array underneath."},{"owner":{"account_id":25708809,"reputation":13,"user_id":19467684,"display_name":"Andrei Kernazhytski"},"score":0,"creation_date":1671007825,"post_id":74795010,"comment_id":132001818,"body_markdown":"@M.Deinum Because after id goes number, but if it doesn&#39;t, that means the number is 1","body":"@M.Deinum Because after id goes number, but if it doesn&#39;t, that means the number is 1"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1671008481,"post_id":74795010,"comment_id":132001989,"body_markdown":"WIthout checking the full string of the request that isn&#39;t possible. Due to arguments with the same name being send will be interpreted as an array. You probably should be considering using a different way like passing matrix variables (https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-ann-matrix-variables)","body":"WIthout checking the full string of the request that isn&#39;t possible. Due to arguments with the same name being send will be interpreted as an array. You probably should be considering using a different way like passing matrix variables (<a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-ann-matrix-variables\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/reference/html&zwnj;&#8203;/&hellip;</a>)"}],"owner":{"account_id":25708809,"reputation":13,"user_id":19467684,"display_name":"Andrei Kernazhytski"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671111628,"creation_date":1671004100,"question_id":74795010,"body_markdown":"I have such get request: localhost:8080/check?id=10&amp;id=1&amp;num=2&amp;id=13\r\n\r\nI get params like this:\r\n\r\n    @GetMapping(&quot;/check&quot;)\r\n    @ResponseBody\r\n    public void getCheck(@RequestParam LinkedMultiValueMap&lt;String,Long&gt; ex){\r\n        System.out.println(ex);\r\n    }\r\n\r\nConsole: {id=[10, 1, 13], num=[2]}\r\n\r\nBut I need to get all data in its sequence like this:\r\n{id=[10],id=[1],num=[2],id=[13]}\r\n\r\nHow can I do this?","title":"How to get all parametrs from get request in Param in their sequence","body":"<p>I have such get request: localhost:8080/check?id=10&amp;id=1&amp;num=2&amp;id=13</p>\n<p>I get params like this:</p>\n<pre><code>@GetMapping(&quot;/check&quot;)\n@ResponseBody\npublic void getCheck(@RequestParam LinkedMultiValueMap&lt;String,Long&gt; ex){\n    System.out.println(ex);\n}\n</code></pre>\n<p>Console: {id=[10, 1, 13], num=[2]}</p>\n<p>But I need to get all data in its sequence like this:\n{id=[10],id=[1],num=[2],id=[13]}</p>\n<p>How can I do this?</p>\n"},{"tags":["java","jackson","spring-data-rest","projection"],"comments":[{"owner":{"account_id":27249236,"reputation":11,"user_id":20773993,"display_name":"cdrpoboaic"},"score":0,"creation_date":1680507150,"post_id":74812171,"comment_id":133903944,"body_markdown":"nope did not have the time to continue investigating","body":"nope did not have the time to continue investigating"}],"owner":{"account_id":27249236,"reputation":11,"user_id":20773993,"display_name":"cdrpoboaic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671111612,"creation_date":1671110270,"question_id":74812171,"body_markdown":"I have two classes (cat/dog) extending one superclass (animals) and one class owner that has a relation to either a dog or a cat\r\n\r\n```java\r\n@Data\r\n@Entity\r\n@Table(name = &quot;animals&quot;)\r\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\r\n@DiscriminatorColumn(name = &quot;type&quot;, discriminatorType = DiscriminatorType.STRING)\r\npublic abstract class Animal {\r\n}\r\n\r\n@Data\r\n@Entity\r\n@DiscriminatorValue(&quot;cat&quot;)\r\npublic class Cat extends Animal {\r\n}\r\n\r\n@Data\r\n@Entity\r\n@DiscriminatorValue(&quot;dog&quot;)\r\npublic class Dog extends Animal {\r\n}\r\n\r\n@Data\r\n@Entity\r\npublic class Owner {\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;animal_id&quot;, insertable = false, nullable = false, updatable = false)\r\n    private Animal&lt;?&gt; animal;\r\n}\r\n```\r\n\r\nEach of them have a projection\r\n\r\n```java\r\n@Projection(name = &quot;light&quot;, types = Animal.class)\r\npublic interface LightAnimal {\r\n}\r\n@Projection(name = &quot;light&quot;, types = Cat.class)\r\npublic interface LightCat extends LightAnimal {\r\n}\r\n@Projection(name = &quot;light&quot;, types = Dog.class)\r\npublic interface LightDog extends LightAnimal {\r\n}\r\n```\r\n\r\nI try to reference the Animal inside another projection\r\n\r\n```java\r\n@Projection(name = &quot;light&quot;, types = Owner.class)\r\npublic interface LightOwner {\r\n    LightAnimal getAnimal();\r\n}\r\n```\r\n\r\nI would have hoped that the animal object would have been properly deserialized either into a dog or a cat when calling the owner with the LightOwner projection, and thus have attributes defined in child projection but it only have the ones defined the parent projection\r\n\r\nI tried to add JsonTypeInfo annotation on LightAnimal projection but had the following error:\r\n\r\n```\r\n\r\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException: Type id handling not implemented for type org.springframework.data.projection.TargetAware (by serializer of type org.springframework.data.rest.webmvc.json.PersistentEntityJackson2Module$ProjectionSerializer) (through reference chain: org.springframework.data.rest.webmvc.json.PersistentEntityJackson2Module$ProjectionResource\\[&quot;content&quot;\\]-\\&gt;com.sun.proxy.$Proxy307\\[&quot;animal&quot;\\])\r\nat com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77) \\~\\[jackson-databind-2.13.3.jar:2.13.3\\]\r\nat com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1300) \\~\\[jackson-databind-2.13.3.jar:2.13.3\\]\r\nat com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:400) \\~\\[jackson-databind-2.13.3.jar:2.13.3\\]\r\nat com.fasterxml.jackson.databind.JsonSerializer.serializeWithType(JsonSerializer.java:160) \\~\\[jackson-databind-2.13.3.jar:2.13.3\\]\r\nat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:730) \\~\\[jackson-databind-2.13.3.jar:2.13.3\\]\r\nat ch.mfrey.jackson.antpathfilter.AntPathPropertyFilter.serializeAsField(AntPathPropertyFilter.java:205) \\~\\[jackson-antpathfilter-1.0.2.jar:na\\]\r\nat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFieldsFiltered(BeanSerializerBase.java:825) \\~\\[jackson-databind-2.13.3.jar:2.13.3\\]\r\nat com.fasterxml.jackson.databind.ser.impl.UnwrappingBeanSerializer.serialize(UnwrappingBeanSerializer.java:136) \\~\\[jackson-databind-2.13.3.jar:2.13.3\\]\r\nat org.springframework.data.rest.webmvc.json.PersistentEntityJackson2Module$ProjectionResourceContentSerializer.serialize(PersistentEntityJackson2Module.java:794) \\~\\[spring-data-rest-webmvc-3.6.6.jar:3.6.6\\]\r\nat org.springframework.data.rest.webmvc.json.PersistentEntityJackson2Module$ProjectionResourceContentSerializer.serialize(PersistentEntityJackson2Module.java:767) \\~\\[spring-data-rest-webmvc-3.6.6.jar:3.6.6\\]\r\nat org.springframework.hateoas.EntityModel$MapSuppressingUnwrappingSerializer.serialize(EntityModel.java:246) \\~\\[spring-hateoas-1.4.4.jar:1.4.4\\]\r\nat com.fasterxml.jackson.databind.ser.impl.UnwrappingBeanPropertyWriter.serializeAsField(UnwrappingBeanPropertyWriter.java:127) \\~\\[jackson-databind-2.13.3.jar:2.13.3\\]\r\nat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) \\~\\[jackson-databind-2.13.3.jar:2.13.3\\]\r\nat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) \\~\\[jackson-databind-2.13.3.jar:2.13.3\\]\r\nat com.fasterxml.jackson.databind.SerializerProvider.defaultSerializeValue(SerializerProvider.java:1142) \\~\\[jackson-databind-2.13.3.jar:2.13.3\\]\r\nat org.springframework.data.rest.webmvc.json.PersistentEntityJackson2Module$PersistentEntityResourceSerializer.serialize(PersistentEntityJackson2Module.java:193) \\~\\[spring-data-rest-webmvc-3.6.6.jar:3.6.6\\]\r\nat org.springframework.data.rest.webmvc.json.PersistentEntityJackson2Module$PersistentEntityResourceSerializer.serialize(PersistentEntityJackson2Module.java:153) \\~\\[spring-data-rest-webmvc-3.6.6.jar:3.6.6\\]\r\nat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.\\_serialize(DefaultSerializerProvider.java:480) \\~\\[jackson-databind-2.13.3.jar:2.13.3\\]\r\nat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:319) \\~\\[jackson-databind-2.13.3.jar:2.13.3\\]\r\nat com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1518) \\~\\[jackson-databind-2.13.3.jar:2.13.3\\]\r\nat com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1007) \\~\\[jackson-databind-2.13.3.jar:2.13.3\\]\r\nat org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:456) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\r\nat org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:104) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\r\nat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:290) \\~\\[spring-webmvc-5.3.22.jar:5.3.22\\]\r\nat org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:219) \\~\\[spring-webmvc-5.3.22.jar:5.3.22\\]\r\nat org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\r\nat org.springframework.hateoas.server.mvc.RepresentationModelProcessorHandlerMethodReturnValueHandler.handleReturnValue(RepresentationModelProcessorHandlerMethodReturnValueHandler.java:134) \\~\\[spring-hateoas-1.4.4.jar:1.4.4\\]\r\nat org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\r\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:135) \\~\\[spring-webmvc-5.3.22.jar:5.3.22\\]\r\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) \\~\\[spring-webmvc-5.3.22.jar:5.3.22\\]\r\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) \\~\\[spring-webmvc-5.3.22.jar:5.3.22\\]\r\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) \\~\\[spring-webmvc-5.3.22.jar:5.3.22\\]\r\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070) \\~\\[spring-webmvc-5.3.22.jar:5.3.22\\]\r\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) \\~\\[spring-webmvc-5.3.22.jar:5.3.22\\]\r\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) \\~\\[spring-webmvc-5.3.22.jar:5.3.22\\]\r\nat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) \\~\\[spring-webmvc-5.3.22.jar:5.3.22\\]\r\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:655) \\~\\[tomcat-embed-core-9.0.65.jar:4.0.FR\\]\r\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) \\~\\[spring-webmvc-5.3.22.jar:5.3.22\\]\r\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) \\~\\[tomcat-embed-core-9.0.65.jar:4.0.FR\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) \\~\\[tomcat-embed-websocket-9.0.65.jar:9.0.65\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\r\nat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\r\nat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\r\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\r\nat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\r\nat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\r\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\r\nat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\r\nat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\r\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\r\nat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\r\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\r\nat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\r\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\r\nat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\r\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\r\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\r\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\r\nat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\r\nat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\r\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\r\nat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\r\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\r\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\r\nat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\r\nat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\r\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\r\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\r\nat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\r\nat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\r\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\r\nat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\r\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\r\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\r\nat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\r\nat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\r\nat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\r\nat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\r\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\r\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) \\~\\[spring-boot-actuator-2.6.11.jar:2.6.11\\]\r\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\r\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat java.base/java.lang.Thread.run(Thread.java:829) \\~\\[na:na\\]\r\n```\r\n\r\n```\r\n```","title":"spring data projection containing a nested superclass","body":"<p>I have two classes (cat/dog) extending one superclass (animals) and one class owner that has a relation to either a dog or a cat</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@Entity\n@Table(name = &quot;animals&quot;)\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\n@DiscriminatorColumn(name = &quot;type&quot;, discriminatorType = DiscriminatorType.STRING)\npublic abstract class Animal {\n}\n\n@Data\n@Entity\n@DiscriminatorValue(&quot;cat&quot;)\npublic class Cat extends Animal {\n}\n\n@Data\n@Entity\n@DiscriminatorValue(&quot;dog&quot;)\npublic class Dog extends Animal {\n}\n\n@Data\n@Entity\npublic class Owner {\n    @ManyToOne\n    @JoinColumn(name = &quot;animal_id&quot;, insertable = false, nullable = false, updatable = false)\n    private Animal&lt;?&gt; animal;\n}\n</code></pre>\n<p>Each of them have a projection</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Projection(name = &quot;light&quot;, types = Animal.class)\npublic interface LightAnimal {\n}\n@Projection(name = &quot;light&quot;, types = Cat.class)\npublic interface LightCat extends LightAnimal {\n}\n@Projection(name = &quot;light&quot;, types = Dog.class)\npublic interface LightDog extends LightAnimal {\n}\n</code></pre>\n<p>I try to reference the Animal inside another projection</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Projection(name = &quot;light&quot;, types = Owner.class)\npublic interface LightOwner {\n    LightAnimal getAnimal();\n}\n</code></pre>\n<p>I would have hoped that the animal object would have been properly deserialized either into a dog or a cat when calling the owner with the LightOwner projection, and thus have attributes defined in child projection but it only have the ones defined the parent projection</p>\n<p>I tried to add JsonTypeInfo annotation on LightAnimal projection but had the following error:</p>\n<pre><code>\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException: Type id handling not implemented for type org.springframework.data.projection.TargetAware (by serializer of type org.springframework.data.rest.webmvc.json.PersistentEntityJackson2Module$ProjectionSerializer) (through reference chain: org.springframework.data.rest.webmvc.json.PersistentEntityJackson2Module$ProjectionResource\\[&quot;content&quot;\\]-\\&gt;com.sun.proxy.$Proxy307\\[&quot;animal&quot;\\])\nat com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77) \\~\\[jackson-databind-2.13.3.jar:2.13.3\\]\nat com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1300) \\~\\[jackson-databind-2.13.3.jar:2.13.3\\]\nat com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:400) \\~\\[jackson-databind-2.13.3.jar:2.13.3\\]\nat com.fasterxml.jackson.databind.JsonSerializer.serializeWithType(JsonSerializer.java:160) \\~\\[jackson-databind-2.13.3.jar:2.13.3\\]\nat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:730) \\~\\[jackson-databind-2.13.3.jar:2.13.3\\]\nat ch.mfrey.jackson.antpathfilter.AntPathPropertyFilter.serializeAsField(AntPathPropertyFilter.java:205) \\~\\[jackson-antpathfilter-1.0.2.jar:na\\]\nat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFieldsFiltered(BeanSerializerBase.java:825) \\~\\[jackson-databind-2.13.3.jar:2.13.3\\]\nat com.fasterxml.jackson.databind.ser.impl.UnwrappingBeanSerializer.serialize(UnwrappingBeanSerializer.java:136) \\~\\[jackson-databind-2.13.3.jar:2.13.3\\]\nat org.springframework.data.rest.webmvc.json.PersistentEntityJackson2Module$ProjectionResourceContentSerializer.serialize(PersistentEntityJackson2Module.java:794) \\~\\[spring-data-rest-webmvc-3.6.6.jar:3.6.6\\]\nat org.springframework.data.rest.webmvc.json.PersistentEntityJackson2Module$ProjectionResourceContentSerializer.serialize(PersistentEntityJackson2Module.java:767) \\~\\[spring-data-rest-webmvc-3.6.6.jar:3.6.6\\]\nat org.springframework.hateoas.EntityModel$MapSuppressingUnwrappingSerializer.serialize(EntityModel.java:246) \\~\\[spring-hateoas-1.4.4.jar:1.4.4\\]\nat com.fasterxml.jackson.databind.ser.impl.UnwrappingBeanPropertyWriter.serializeAsField(UnwrappingBeanPropertyWriter.java:127) \\~\\[jackson-databind-2.13.3.jar:2.13.3\\]\nat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) \\~\\[jackson-databind-2.13.3.jar:2.13.3\\]\nat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) \\~\\[jackson-databind-2.13.3.jar:2.13.3\\]\nat com.fasterxml.jackson.databind.SerializerProvider.defaultSerializeValue(SerializerProvider.java:1142) \\~\\[jackson-databind-2.13.3.jar:2.13.3\\]\nat org.springframework.data.rest.webmvc.json.PersistentEntityJackson2Module$PersistentEntityResourceSerializer.serialize(PersistentEntityJackson2Module.java:193) \\~\\[spring-data-rest-webmvc-3.6.6.jar:3.6.6\\]\nat org.springframework.data.rest.webmvc.json.PersistentEntityJackson2Module$PersistentEntityResourceSerializer.serialize(PersistentEntityJackson2Module.java:153) \\~\\[spring-data-rest-webmvc-3.6.6.jar:3.6.6\\]\nat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.\\_serialize(DefaultSerializerProvider.java:480) \\~\\[jackson-databind-2.13.3.jar:2.13.3\\]\nat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:319) \\~\\[jackson-databind-2.13.3.jar:2.13.3\\]\nat com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1518) \\~\\[jackson-databind-2.13.3.jar:2.13.3\\]\nat com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1007) \\~\\[jackson-databind-2.13.3.jar:2.13.3\\]\nat org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:456) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\nat org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:104) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\nat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:290) \\~\\[spring-webmvc-5.3.22.jar:5.3.22\\]\nat org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:219) \\~\\[spring-webmvc-5.3.22.jar:5.3.22\\]\nat org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\nat org.springframework.hateoas.server.mvc.RepresentationModelProcessorHandlerMethodReturnValueHandler.handleReturnValue(RepresentationModelProcessorHandlerMethodReturnValueHandler.java:134) \\~\\[spring-hateoas-1.4.4.jar:1.4.4\\]\nat org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:135) \\~\\[spring-webmvc-5.3.22.jar:5.3.22\\]\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) \\~\\[spring-webmvc-5.3.22.jar:5.3.22\\]\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) \\~\\[spring-webmvc-5.3.22.jar:5.3.22\\]\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) \\~\\[spring-webmvc-5.3.22.jar:5.3.22\\]\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070) \\~\\[spring-webmvc-5.3.22.jar:5.3.22\\]\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) \\~\\[spring-webmvc-5.3.22.jar:5.3.22\\]\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) \\~\\[spring-webmvc-5.3.22.jar:5.3.22\\]\nat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) \\~\\[spring-webmvc-5.3.22.jar:5.3.22\\]\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:655) \\~\\[tomcat-embed-core-9.0.65.jar:4.0.FR\\]\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) \\~\\[spring-webmvc-5.3.22.jar:5.3.22\\]\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) \\~\\[tomcat-embed-core-9.0.65.jar:4.0.FR\\]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) \\~\\[tomcat-embed-websocket-9.0.65.jar:9.0.65\\]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\nat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\nat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\nat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\nat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\nat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\nat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\nat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\nat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\nat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\nat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\nat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\nat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\nat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\nat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\nat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\nat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\nat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\nat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\nat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\nat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\nat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) \\~\\[spring-boot-actuator-2.6.11.jar:2.6.11\\]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat java.base/java.lang.Thread.run(Thread.java:829) \\~\\[na:na\\]\n</code></pre>\n<pre><code></code></pre>\n"},{"tags":["java","amazon-s3","aws-lambda","protocol-buffers","parquet"],"answers":[{"tags":[],"owner":{"account_id":1020261,"reputation":304,"user_id":1030799,"display_name":"Haojin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1552113891,"creation_date":1552113891,"answer_id":55074774,"question_id":54665077,"body_markdown":"If you want to write to S3, you can set the Path as `Path(&quot;s3a://&lt;bucketName&gt;/&lt;s3Key&gt;&quot;)`. And don&#39;t forget to set S3 credentials in the configurations:\r\n\r\n        conf.set(&quot;fs.s3a.access.key&quot;, &quot;&lt;s3AccessKey&quot;);\r\n        conf.set(&quot;fs.s3a.secret.key&quot;, &quot;&lt;s3SecretKey&quot;);\r\n","title":"Writing parquet files to S3 using AWS java lambda","body":"<p>If you want to write to S3, you can set the Path as <code>Path(\"s3a://&lt;bucketName&gt;/&lt;s3Key&gt;\")</code>. And don't forget to set S3 credentials in the configurations:</p>\n\n<pre><code>    conf.set(\"fs.s3a.access.key\", \"&lt;s3AccessKey\");\n    conf.set(\"fs.s3a.secret.key\", \"&lt;s3SecretKey\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":339218,"reputation":1081,"user_id":668557,"accept_rate":64,"display_name":"Haroon"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1552974529,"creation_date":1552974529,"answer_id":55234410,"question_id":54665077,"body_markdown":"Assuming you have a List&lt;Transaction&gt; (can be any complex object), sample code to read/write protobuf S3 parquet\r\n```\r\n    public class SimpleS3ParquetUtilities implements S3Utilities {\r\n\r\n    final Logger logger;\r\n    String PATH_SCHEMA = &quot;s3a&quot;;\r\n    CompressionCodecName compressionCodecName;\r\n\r\n    public SimpleS3ParquetUtilities(Logger logger) {\r\n        this.logger = logger;\r\n        this.compressionCodecName = CompressionCodecName.UNCOMPRESSED;\r\n    }\r\n\r\n    public SimpleS3ParquetUtilities(Logger logger, CompressionCodecName compressionCodecName) {\r\n        this.logger = logger;\r\n        this.compressionCodecName = compressionCodecName;\r\n    }\r\n\r\n    @Override\r\n    public String writeTransactions(String bucket, String objectKey, List&lt;Transaction&gt; transactions)\r\n            throws Exception {\r\n        if (objectKey.charAt(0) != &#39;/&#39;)\r\n            objectKey = &quot;/&quot; + objectKey;\r\n        Path file = new Path(PATH_SCHEMA, bucket, objectKey);\r\n        Stopwatch sw = Stopwatch.createStarted();\r\n        // convert the list into protobuf \r\n        List&lt;TransactionProtos.Transaction&gt; protoTransactions = Convertor.toProtoBuf(transactions);\r\n        try (ProtoParquetWriter&lt;TransactionProtos.Transaction&gt; writer = new ProtoParquetWriter&lt;TransactionProtos.Transaction&gt;(\r\n                file, TransactionProtos.Transaction.class, this.compressionCodecName,\r\n                ProtoParquetWriter.DEFAULT_BLOCK_SIZE, ProtoParquetWriter.DEFAULT_PAGE_SIZE)) {\r\n\r\n            for (TransactionProtos.Transaction transaction : protoTransactions) {\r\n                writer.write(transaction);\r\n            }\r\n        }\r\n        logger.info(&quot;Parquet write elapse:[{}{}] Time:{}ms items:{}&quot;, bucket, objectKey,\r\n                sw.elapsed(TimeUnit.MILLISECONDS), transactions.size());\r\n        return &quot;&quot;;\r\n    }\r\n\r\n    @Override\r\n    public List&lt;Transaction&gt; readTransactions(String bucket, String pathWithFileName)\r\n            throws Exception {\r\n        if (pathWithFileName.charAt(0) != &#39;/&#39;)\r\n            pathWithFileName = &quot;/&quot; + pathWithFileName;\r\n        Path file = new Path(PATH_SCHEMA, bucket, pathWithFileName);\r\n        Stopwatch sw = Stopwatch.createStarted();\r\n        try (ParquetReader&lt;TransactionProtos.Transaction.Builder&gt; reader = ProtoParquetReader.&lt;TransactionProtos.Transaction.Builder&gt;builder(\r\n                file).build()) {\r\n            List&lt;TransactionProtos.Transaction&gt; transactions = new ArrayList&lt;TransactionProtos.Transaction&gt;();\r\n            TransactionProtos.Transaction.Builder builder = reader.read();\r\n            while (builder != null) {\r\n                TransactionProtos.Transaction transaction = builder.build();\r\n                transactions.add(transaction);\r\n                builder = reader.read();\r\n            }\r\n            logger.info(&quot;Parquet read elapsed:[{}{}] Time:{}ms items:{}&quot;, bucket, pathWithFileName,\r\n                    sw.elapsed(TimeUnit.MILLISECONDS), transactions.size());\r\n            return Convertor.fromProtoBuf(transactions);\r\n        }\r\n    }\r\n}\r\n```","title":"Writing parquet files to S3 using AWS java lambda","body":"<p>Assuming you have a List (can be any complex object), sample code to read/write protobuf S3 parquet</p>\n\n<pre><code>    public class SimpleS3ParquetUtilities implements S3Utilities {\n\n    final Logger logger;\n    String PATH_SCHEMA = \"s3a\";\n    CompressionCodecName compressionCodecName;\n\n    public SimpleS3ParquetUtilities(Logger logger) {\n        this.logger = logger;\n        this.compressionCodecName = CompressionCodecName.UNCOMPRESSED;\n    }\n\n    public SimpleS3ParquetUtilities(Logger logger, CompressionCodecName compressionCodecName) {\n        this.logger = logger;\n        this.compressionCodecName = compressionCodecName;\n    }\n\n    @Override\n    public String writeTransactions(String bucket, String objectKey, List&lt;Transaction&gt; transactions)\n            throws Exception {\n        if (objectKey.charAt(0) != '/')\n            objectKey = \"/\" + objectKey;\n        Path file = new Path(PATH_SCHEMA, bucket, objectKey);\n        Stopwatch sw = Stopwatch.createStarted();\n        // convert the list into protobuf \n        List&lt;TransactionProtos.Transaction&gt; protoTransactions = Convertor.toProtoBuf(transactions);\n        try (ProtoParquetWriter&lt;TransactionProtos.Transaction&gt; writer = new ProtoParquetWriter&lt;TransactionProtos.Transaction&gt;(\n                file, TransactionProtos.Transaction.class, this.compressionCodecName,\n                ProtoParquetWriter.DEFAULT_BLOCK_SIZE, ProtoParquetWriter.DEFAULT_PAGE_SIZE)) {\n\n            for (TransactionProtos.Transaction transaction : protoTransactions) {\n                writer.write(transaction);\n            }\n        }\n        logger.info(\"Parquet write elapse:[{}{}] Time:{}ms items:{}\", bucket, objectKey,\n                sw.elapsed(TimeUnit.MILLISECONDS), transactions.size());\n        return \"\";\n    }\n\n    @Override\n    public List&lt;Transaction&gt; readTransactions(String bucket, String pathWithFileName)\n            throws Exception {\n        if (pathWithFileName.charAt(0) != '/')\n            pathWithFileName = \"/\" + pathWithFileName;\n        Path file = new Path(PATH_SCHEMA, bucket, pathWithFileName);\n        Stopwatch sw = Stopwatch.createStarted();\n        try (ParquetReader&lt;TransactionProtos.Transaction.Builder&gt; reader = ProtoParquetReader.&lt;TransactionProtos.Transaction.Builder&gt;builder(\n                file).build()) {\n            List&lt;TransactionProtos.Transaction&gt; transactions = new ArrayList&lt;TransactionProtos.Transaction&gt;();\n            TransactionProtos.Transaction.Builder builder = reader.read();\n            while (builder != null) {\n                TransactionProtos.Transaction transaction = builder.build();\n                transactions.add(transaction);\n                builder = reader.read();\n            }\n            logger.info(\"Parquet read elapsed:[{}{}] Time:{}ms items:{}\", bucket, pathWithFileName,\n                    sw.elapsed(TimeUnit.MILLISECONDS), transactions.size());\n            return Convertor.fromProtoBuf(transactions);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1088196,"reputation":4845,"user_id":1083423,"accept_rate":73,"display_name":"danieln"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3542,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":55234410,"answer_count":2,"score":2,"last_activity_date":1671111595,"creation_date":1550044436,"question_id":54665077,"body_markdown":"I&#39;m writing AWS lambda that reads protobuf obejcts from Kinesis and would like to write them to s3 as parquet file.  \r\n\r\nI saw there&#39;s a implementation of ParquetWriter for protobuf called ProtoParquetWriter, which is good. My problem is that ProtoParquetWriter expects a Path in its constructor.  \r\n\r\nWhat&#39;s the right way to do that without saving the content as parquet file, assuming I&#39;m not using the file system at all?","title":"Writing parquet files to S3 using AWS java lambda","body":"<p>I'm writing AWS lambda that reads protobuf obejcts from Kinesis and would like to write them to s3 as parquet file.  </p>\n\n<p>I saw there's a implementation of ParquetWriter for protobuf called ProtoParquetWriter, which is good. My problem is that ProtoParquetWriter expects a Path in its constructor.  </p>\n\n<p>What's the right way to do that without saving the content as parquet file, assuming I'm not using the file system at all?</p>\n"},{"tags":["java","amazon-web-services","maven","aws-lambda"],"answers":[{"tags":[],"owner":{"account_id":12572870,"reputation":369,"user_id":10385596,"display_name":"Rishab Parmar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1596972842,"creation_date":1596972842,"answer_id":63325827,"question_id":61348620,"body_markdown":"So I solved this by completely ditching the maven approach and did it using a simple java class. You can follow the solution for creating a simple AWS Lambda function in java step by step with this video tutorial I created.\r\n\r\nhttps://www.youtube.com/watch?v=-Pm22SJibpQ&amp;t=40s\r\n","title":"AWS Lambda gives class not found exception for jdbc and org.json JARS","body":"<p>So I solved this by completely ditching the maven approach and did it using a simple java class. You can follow the solution for creating a simple AWS Lambda function in java step by step with this video tutorial I created.</p>\n<p><a href=\"https://www.youtube.com/watch?v=-Pm22SJibpQ&amp;t=40s\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=-Pm22SJibpQ&amp;t=40s</a></p>\n"}],"owner":{"account_id":12572870,"reputation":369,"user_id":10385596,"display_name":"Rishab Parmar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":429,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":63325827,"answer_count":1,"score":0,"last_activity_date":1671111573,"creation_date":1587487329,"question_id":61348620,"body_markdown":"I&#39;m trying to run an AWS Lambda function with the help of eclipse and Maven using AWS tool kit. When I run the project as a Maven test, it successfully runs. But when I export the project as a .jar and upload the jar to AWS Lambda, it gives me the following error trace:\r\n\r\n    Input: ToRupeeDatabase error: java.lang.ClassNotFoundException: com.mysql.jdbc.Driver\r\n    Done inserting the data in RDS\r\n\r\nThe code says it runs successfully and the data has been inserted in the RDS, but it is being caught as an exception and the code is crashing.\r\n\r\nCode:\r\n\r\n    package com.amazonaws.torupee.demo;\r\n    \r\n    import com.amazonaws.services.lambda.runtime.Context;\r\n    import com.amazonaws.services.lambda.runtime.RequestHandler;\r\n    \r\n    import org.json.JSONObject;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n    import java.net.HttpURLConnection;\r\n    import java.net.MalformedURLException;\r\n    import java.net.URL;\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.PreparedStatement;\r\n    import java.sql.SQLException;\r\n    import java.util.Arrays;\r\n    import java.util.HashSet;\r\n    \r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    \r\n    public class RemoteDataCRON implements RequestHandler&lt;Object, String&gt; {\r\n    \r\n     @Override\r\n        public String handleRequest(Object input, Context context) {\r\n            context.getLogger().log(&quot;Input: &quot; + input);\r\n            \r\n            try {                \r\n                // Exception in the following line when uploaded on AWS Lambda!\r\n                Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n                String endPoint = &quot;pathtodatabase?useSSL=false&quot;;\r\n                String username = &quot;foor&quot;;\r\n                String password = &quot;bar&quot;;\r\n                PreparedStatement stmt = null;               \r\n                try {\r\n                    Connection dbConnection = DriverManager.getConnection(endPoint, username, password);                    \r\n                } catch (SQLException ex) {\r\n                    Logger.getLogger(RemoteDataCRON.class.getName()).log(Level.SEVERE, null, ex);\r\n                }\r\n                // Some processing here and org.json exception here!\r\n            } catch (Exception ex) {\r\n                System.err.println(&quot;Database error: &quot; + ex);\r\n            }\r\n            System.out.println(&quot;Done inserting the data in RDS&quot;);\r\n    \r\n            // TODO: implement your handler\r\n            return &quot;Hello from Lambda!&quot;;\r\n        }\r\n    \r\n    }\r\n\r\n.pom file:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n      &lt;groupId&gt;com.amazonaws.torupee&lt;/groupId&gt;\r\n      &lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0.0&lt;/version&gt;\r\n      &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.6.0&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;source&gt;1.8&lt;/source&gt;\r\n              &lt;target&gt;1.8&lt;/target&gt;\r\n              &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n              &lt;forceJavacCompilerUse&gt;true&lt;/forceJavacCompilerUse&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;phase&gt;package&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;shade&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    \r\n      &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aws-java-sdk-bom&lt;/artifactId&gt;\r\n            &lt;version&gt;1.11.256&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;scope&gt;import&lt;/scope&gt;\r\n          &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n      &lt;/dependencyManagement&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;version&gt;4.12&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n          &lt;artifactId&gt;aws-lambda-java-events&lt;/artifactId&gt;\r\n          &lt;version&gt;1.3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n          &lt;artifactId&gt;aws-lambda-java-core&lt;/artifactId&gt;\r\n          &lt;version&gt;1.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n        &lt;version&gt;5.1.39&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n        &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n        &lt;version&gt;20180130&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\nHere is a list of solutions that I tried:\r\n\r\n1) I tried adding external JARS for mysql and org.json but that gave me the same errors&lt;br&gt;\r\n2) I tried zipping the project instead of exporting it as a JAR but that gave me ClassNotFoundException on the handler itself&lt;br&gt;\r\n3) I then added the dependencies in the pom file itself as I thought that external JARS were not bundled when making a .jar file&lt;br&gt;\r\n4) I then changed the driver path from &quot;com.mysql.jdbc.Driver&quot; to &quot;com.mysql.cj.jdbc.Driver&quot; but that still gave me the exception on the console&lt;br&gt;\r\n&lt;br&gt;\r\nAm I doing something wrong or building the Jar incorrectly, is it why Lambda gives me the error when I&#39;m on the management console?","title":"AWS Lambda gives class not found exception for jdbc and org.json JARS","body":"<p>I'm trying to run an AWS Lambda function with the help of eclipse and Maven using AWS tool kit. When I run the project as a Maven test, it successfully runs. But when I export the project as a .jar and upload the jar to AWS Lambda, it gives me the following error trace:</p>\n<pre><code>Input: ToRupeeDatabase error: java.lang.ClassNotFoundException: com.mysql.jdbc.Driver\nDone inserting the data in RDS\n</code></pre>\n<p>The code says it runs successfully and the data has been inserted in the RDS, but it is being caught as an exception and the code is crashing.</p>\n<p>Code:</p>\n<pre><code>package com.amazonaws.torupee.demo;\n\nimport com.amazonaws.services.lambda.runtime.Context;\nimport com.amazonaws.services.lambda.runtime.RequestHandler;\n\nimport org.json.JSONObject;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.net.HttpURLConnection;\nimport java.net.MalformedURLException;\nimport java.net.URL;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\nimport java.sql.SQLException;\nimport java.util.Arrays;\nimport java.util.HashSet;\n\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\npublic class RemoteDataCRON implements RequestHandler&lt;Object, String&gt; {\n\n @Override\n    public String handleRequest(Object input, Context context) {\n        context.getLogger().log(&quot;Input: &quot; + input);\n        \n        try {                \n            // Exception in the following line when uploaded on AWS Lambda!\n            Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n            String endPoint = &quot;pathtodatabase?useSSL=false&quot;;\n            String username = &quot;foor&quot;;\n            String password = &quot;bar&quot;;\n            PreparedStatement stmt = null;               \n            try {\n                Connection dbConnection = DriverManager.getConnection(endPoint, username, password);                    \n            } catch (SQLException ex) {\n                Logger.getLogger(RemoteDataCRON.class.getName()).log(Level.SEVERE, null, ex);\n            }\n            // Some processing here and org.json exception here!\n        } catch (Exception ex) {\n            System.err.println(&quot;Database error: &quot; + ex);\n        }\n        System.out.println(&quot;Done inserting the data in RDS&quot;);\n\n        // TODO: implement your handler\n        return &quot;Hello from Lambda!&quot;;\n    }\n\n}\n</code></pre>\n<p>.pom file:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.amazonaws.torupee&lt;/groupId&gt;\n  &lt;artifactId&gt;demo&lt;/artifactId&gt;\n  &lt;version&gt;1.0.0&lt;/version&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.6.0&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;1.8&lt;/source&gt;\n          &lt;target&gt;1.8&lt;/target&gt;\n          &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n          &lt;forceJavacCompilerUse&gt;true&lt;/forceJavacCompilerUse&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;shade&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n\n  &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n        &lt;artifactId&gt;aws-java-sdk-bom&lt;/artifactId&gt;\n        &lt;version&gt;1.11.256&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.12&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n      &lt;artifactId&gt;aws-lambda-java-events&lt;/artifactId&gt;\n      &lt;version&gt;1.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n      &lt;artifactId&gt;aws-lambda-java-core&lt;/artifactId&gt;\n      &lt;version&gt;1.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;version&gt;5.1.39&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.json&lt;/groupId&gt;\n    &lt;artifactId&gt;json&lt;/artifactId&gt;\n    &lt;version&gt;20180130&lt;/version&gt;\n&lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Here is a list of solutions that I tried:</p>\n<ol>\n<li>I tried adding external JARS for mysql and org.json but that gave me the same errors<br></li>\n<li>I tried zipping the project instead of exporting it as a JAR but that gave me ClassNotFoundException on the handler itself<br></li>\n<li>I then added the dependencies in the pom file itself as I thought that external JARS were not bundled when making a .jar file<br></li>\n<li>I then changed the driver path from &quot;com.mysql.jdbc.Driver&quot; to &quot;com.mysql.cj.jdbc.Driver&quot; but that still gave me the exception on the console<br>\n<br>\nAm I doing something wrong or building the Jar incorrectly, is it why Lambda gives me the error when I'm on the management console?</li>\n</ol>\n"},{"tags":["java","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671111470,"creation_date":1671111470,"answer_id":74812428,"question_id":74811267,"body_markdown":"That seems not to be a big deal to define your own interface:\r\n\r\n```\r\n@FunctionalInterface\r\npublic interface Specification&lt;X&gt; extends Serializable {\r\n\r\n    Predicate toPredicate(From&lt;?, ? extends X&gt; from, CriteriaQuery&lt;?&gt; cq, CriteriaBuilder cb);\r\n\r\n\r\n    default Specification&lt;X&gt; not() {\r\n        return (from, cq, cb) -&gt; cb.not(toPredicate(from, cq, cb));\r\n    }\r\n\r\n    default Specification&lt;X&gt; and(@Nullable Specification&lt;? super X&gt; other) {\r\n        if (other == null) {\r\n            return this;\r\n        }\r\n        return (path, cq, cb) -&gt; cb.and(toPredicate(path, cq, cb), other.toPredicate(path, cq, cb));\r\n    }\r\n\r\n    default Specification&lt;X&gt; or(@Nullable Specification&lt;? super X&gt; other) {\r\n        if (other == null) {\r\n            return this;\r\n        }\r\n        return (path, cq, cb) -&gt; cb.or(toPredicate(path, cq, cb), other.toPredicate(path, cq, cb));\r\n    }\r\n\r\n    default org.springframework.data.jpa.domain.Specification&lt;X&gt; asSpring() {\r\n        return this::toPredicate;\r\n    }\r\n\r\n}\r\n```\r\n\r\nHowever we have found that more convenient to reuse criteria predicates rather than spring specifications (at least the most of our developers prefer this option), smth. like:\r\n\r\n```java\r\n@Entity\r\npublic class Pet {\r\n\r\n    private String name;\r\n    \r\n    private int age;\r\n\r\n    public static Predicate hasName(From&lt;?, ? extends Pet&gt; from, CriteriaBuilder cb, String name) {\r\n        return cb.equal(from.get(Pet_.name), cb.literal(name));\r\n    }\r\n\r\n    @ManyToOne\r\n    Person owner;\r\n\r\n}\r\n```","title":"Reuse of JPA `Specification` on joiuned entities","body":"<p>That seems not to be a big deal to define your own interface:</p>\n<pre><code>@FunctionalInterface\npublic interface Specification&lt;X&gt; extends Serializable {\n\n    Predicate toPredicate(From&lt;?, ? extends X&gt; from, CriteriaQuery&lt;?&gt; cq, CriteriaBuilder cb);\n\n\n    default Specification&lt;X&gt; not() {\n        return (from, cq, cb) -&gt; cb.not(toPredicate(from, cq, cb));\n    }\n\n    default Specification&lt;X&gt; and(@Nullable Specification&lt;? super X&gt; other) {\n        if (other == null) {\n            return this;\n        }\n        return (path, cq, cb) -&gt; cb.and(toPredicate(path, cq, cb), other.toPredicate(path, cq, cb));\n    }\n\n    default Specification&lt;X&gt; or(@Nullable Specification&lt;? super X&gt; other) {\n        if (other == null) {\n            return this;\n        }\n        return (path, cq, cb) -&gt; cb.or(toPredicate(path, cq, cb), other.toPredicate(path, cq, cb));\n    }\n\n    default org.springframework.data.jpa.domain.Specification&lt;X&gt; asSpring() {\n        return this::toPredicate;\n    }\n\n}\n</code></pre>\n<p>However we have found that more convenient to reuse criteria predicates rather than spring specifications (at least the most of our developers prefer this option), smth. like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Pet {\n\n    private String name;\n    \n    private int age;\n\n    public static Predicate hasName(From&lt;?, ? extends Pet&gt; from, CriteriaBuilder cb, String name) {\n        return cb.equal(from.get(Pet_.name), cb.literal(name));\n    }\n\n    @ManyToOne\n    Person owner;\n\n}\n</code></pre>\n"}],"owner":{"account_id":216151,"reputation":26327,"user_id":471213,"accept_rate":82,"display_name":"usr-local-ΕΨΗΕΛΩΝ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":359,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671111470,"creation_date":1671105999,"question_id":74811267,"body_markdown":"Say that I have written a small *library* of reusable JPA specifications this way, as more of syntactic sugar\r\n\r\n```java\r\npublic static Specification&lt;Person&gt; lastNameEquas(String lastName) {\r\n    return (r,q,cb)-&gt;cb.equals(r.get(Person_.lastName),lastName);\r\n}\r\n```\r\n\r\nImagine a lot more predicates and I use them such as:\r\n\r\n```\r\nSpecification&lt;Person&gt; s = where(firstNameEquals(&quot;John&quot;))\r\n                          .and(lastNameEquals(&quot;Smith&quot;))\r\n                          .and(ageGreaterThan(18));\r\n\r\n\r\n```\r\n\r\nI am facing the problem of reusing defined `Specification&lt;T&gt;` for `T` entity also in context where `T` is a **joined entity** of `U`\r\n\r\nGiven that class `Person` is `@OneToMany`-joined to `Pet`, and that I have specifications both for `Person` and `Pet`, I want to reuse helper methods both for `Person` and `Pet` in the same construction of the specification\r\n\r\n\r\n```java \r\n\r\n@Entity\r\npublic class Person{\r\n\r\n    ......\r\n\r\n}\r\n\r\n@Entity\r\npublic class Pet{\r\n\r\n    private String name;\r\n    private int age;\r\n\r\n    @ManyToOne\r\n    Person owner\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nI want a `Specification&lt;Pet&gt;` that can be combined with reusable `Specification&lt;Person&gt;` instances\r\n\r\n```java\r\n\r\nSpecification&lt;Pet&gt; spec = where(PetSpecs.petNameEqual(&quot;Lucky&quot;))\r\n                          .and(PetSpecs.petAgeGreaterThan(1))\r\n                          .and(PetSpecs.owner(\r\n                              personNameEquals(&quot;John&quot;)\r\n                              .and(personAgeGreaterThan(18))\r\n                          ))\r\n\r\nselect from Pet p where\r\np.name = &#39;Lucky&#39; and p.age &gt; 1 and p.owner.name = &#39;John&#39; and p.owner.age &gt; 18;\r\n\r\n```\r\n\r\n**What I have tried so far**\r\n\r\nI want to write a method `public static Specification&lt;Pet&gt; owner(Specification&lt;Person&gt;)` that takes in input any `Specification-of-Person` and applies it to the joined attribute, resulting in a `Specification-of-Pet` that can feed the query\r\n\r\n\r\nMore generically, I could try to write\r\n\r\n```java\r\n    public static &lt;T, U&gt; Specification&lt;T&gt; joinedSpecification(@NonNull SingularAttribute&lt;T, U&gt; joinAttribute, JoinType joinType, Specification&lt;U&gt; joinSpecification) {\r\n        if (joinSpecification == null) return (root, query, criteriaBuilder) -&gt; null;\r\n        return (root, query, criteriaBuilder) -&gt; {\r\n            Join&lt;T, U&gt; join = root.join(joinAttribute, joinType);\r\n            return joinSpecification.toPredicate(join, query, criteriaBuilder);\r\n        };\r\n    }\r\n\r\n```\r\nThe idea is that the Specification is a function that returns a predicate, so my predicate will recursively translate input specifications into more predicates, applied to the joined entity.\r\n\r\nNow here is my problem. JPA defines `Specification&lt;T&gt;` as a lambda interface\r\n\r\n```java\r\n\tPredicate toPredicate(Root&lt;T&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder criteriaBuilder);\r\n```\r\n\r\nNote that `Root&lt;X&gt;` extends `From&lt;X,X&gt;` extends `Path&lt;X&gt;`, and `Join&lt;T,U&gt;` extends `Path&lt;T,U&gt;`.\r\n\r\nThe above code does not compile, because `root.join(...)` returns a `Join`, which **is** a `Path` (to get entity attribute) but is not a `Root`.\r\n\r\n\r\nMy question is: is it possible in JPA to reuse specifications to reapply in joined paths?","title":"Reuse of JPA `Specification` on joiuned entities","body":"<p>Say that I have written a small <em>library</em> of reusable JPA specifications this way, as more of syntactic sugar</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Specification&lt;Person&gt; lastNameEquas(String lastName) {\n    return (r,q,cb)-&gt;cb.equals(r.get(Person_.lastName),lastName);\n}\n</code></pre>\n<p>Imagine a lot more predicates and I use them such as:</p>\n<pre><code>Specification&lt;Person&gt; s = where(firstNameEquals(&quot;John&quot;))\n                          .and(lastNameEquals(&quot;Smith&quot;))\n                          .and(ageGreaterThan(18));\n\n\n</code></pre>\n<p>I am facing the problem of reusing defined <code>Specification&lt;T&gt;</code> for <code>T</code> entity also in context where <code>T</code> is a <strong>joined entity</strong> of <code>U</code></p>\n<p>Given that class <code>Person</code> is <code>@OneToMany</code>-joined to <code>Pet</code>, and that I have specifications both for <code>Person</code> and <code>Pet</code>, I want to reuse helper methods both for <code>Person</code> and <code>Pet</code> in the same construction of the specification</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Entity\npublic class Person{\n\n    ......\n\n}\n\n@Entity\npublic class Pet{\n\n    private String name;\n    private int age;\n\n    @ManyToOne\n    Person owner\n\n}\n\n</code></pre>\n<p>I want a <code>Specification&lt;Pet&gt;</code> that can be combined with reusable <code>Specification&lt;Person&gt;</code> instances</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nSpecification&lt;Pet&gt; spec = where(PetSpecs.petNameEqual(&quot;Lucky&quot;))\n                          .and(PetSpecs.petAgeGreaterThan(1))\n                          .and(PetSpecs.owner(\n                              personNameEquals(&quot;John&quot;)\n                              .and(personAgeGreaterThan(18))\n                          ))\n\nselect from Pet p where\np.name = 'Lucky' and p.age &gt; 1 and p.owner.name = 'John' and p.owner.age &gt; 18;\n\n</code></pre>\n<p><strong>What I have tried so far</strong></p>\n<p>I want to write a method <code>public static Specification&lt;Pet&gt; owner(Specification&lt;Person&gt;)</code> that takes in input any <code>Specification-of-Person</code> and applies it to the joined attribute, resulting in a <code>Specification-of-Pet</code> that can feed the query</p>\n<p>More generically, I could try to write</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static &lt;T, U&gt; Specification&lt;T&gt; joinedSpecification(@NonNull SingularAttribute&lt;T, U&gt; joinAttribute, JoinType joinType, Specification&lt;U&gt; joinSpecification) {\n        if (joinSpecification == null) return (root, query, criteriaBuilder) -&gt; null;\n        return (root, query, criteriaBuilder) -&gt; {\n            Join&lt;T, U&gt; join = root.join(joinAttribute, joinType);\n            return joinSpecification.toPredicate(join, query, criteriaBuilder);\n        };\n    }\n\n</code></pre>\n<p>The idea is that the Specification is a function that returns a predicate, so my predicate will recursively translate input specifications into more predicates, applied to the joined entity.</p>\n<p>Now here is my problem. JPA defines <code>Specification&lt;T&gt;</code> as a lambda interface</p>\n<pre class=\"lang-java prettyprint-override\"><code>    Predicate toPredicate(Root&lt;T&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder criteriaBuilder);\n</code></pre>\n<p>Note that <code>Root&lt;X&gt;</code> extends <code>From&lt;X,X&gt;</code> extends <code>Path&lt;X&gt;</code>, and <code>Join&lt;T,U&gt;</code> extends <code>Path&lt;T,U&gt;</code>.</p>\n<p>The above code does not compile, because <code>root.join(...)</code> returns a <code>Join</code>, which <strong>is</strong> a <code>Path</code> (to get entity attribute) but is not a <code>Root</code>.</p>\n<p>My question is: is it possible in JPA to reuse specifications to reapply in joined paths?</p>\n"},{"tags":["java","dom","htmlunit"],"comments":[{"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"score":0,"creation_date":1669757905,"post_id":74619619,"comment_id":131714706,"body_markdown":"I have been testing the www2 version of your website and it seems that you&#39;re being hosted by cloudflare.  The first page that comes back seems to be testing your browser and I am unsure of how to get around that check.  Perhaps there is something you could do to turn off that security check at cloudflare?","body":"I have been testing the www2 version of your website and it seems that you&#39;re being hosted by cloudflare.  The first page that comes back seems to be testing your browser and I am unsure of how to get around that check.  Perhaps there is something you could do to turn off that security check at cloudflare?"},{"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"score":0,"creation_date":1669757965,"post_id":74619619,"comment_id":131714713,"body_markdown":"The google term to use is cloudflare Checking if the site connection is secure.  Hope that helps.","body":"The google term to use is cloudflare Checking if the site connection is secure.  Hope that helps."},{"owner":{"account_id":16209077,"reputation":389,"user_id":11703579,"display_name":"gbossa"},"score":0,"creation_date":1669824527,"post_id":74619619,"comment_id":131732232,"body_markdown":"Thanks for the tip. It seems the right direction. But until now, I have not found a solution to bypass the cloudfare security check. The odd thing is: it worked before. It suddenly stopped working....","body":"Thanks for the tip. It seems the right direction. But until now, I have not found a solution to bypass the cloudfare security check. The odd thing is: it worked before. It suddenly stopped working...."},{"owner":{"account_id":16209077,"reputation":389,"user_id":11703579,"display_name":"gbossa"},"score":0,"creation_date":1669828032,"post_id":74619619,"comment_id":131733488,"body_markdown":"I found that the page has a `challenge-form`. Posibly a captcha. Please, do you know how can I bypass it? Thanks!","body":"I found that the page has a <code>challenge-form</code>. Posibly a captcha. Please, do you know how can I bypass it? Thanks!"},{"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"score":0,"creation_date":1669828944,"post_id":74619619,"comment_id":131733801,"body_markdown":"I have zero idea.  I did a google search on &#39;cloudflare Checking if the site connection is secure&#39; and the best answer I could find is this one:  [Cloudflare Checking if the site connection is secure](https://community.cloudflare.com/t/cloudflare-checking-if-the-site-connection-is-secure/419107/20). I would suggest trying to contact the admin folks that manage that site for your company and ask them to disable that check and/or add your company&#39;s ip address block to a safe list. I am unsure if this helps or not, you are not the only one to be affected by this issue.  Good luck.","body":"I have zero idea.  I did a google search on &#39;cloudflare Checking if the site connection is secure&#39; and the best answer I could find is this one:  <a href=\"https://community.cloudflare.com/t/cloudflare-checking-if-the-site-connection-is-secure/419107/20\" rel=\"nofollow noreferrer\">Cloudflare Checking if the site connection is secure</a>. I would suggest trying to contact the admin folks that manage that site for your company and ask them to disable that check and/or add your company&#39;s ip address block to a safe list. I am unsure if this helps or not, you are not the only one to be affected by this issue.  Good luck."},{"owner":{"account_id":16209077,"reputation":389,"user_id":11703579,"display_name":"gbossa"},"score":1,"creation_date":1669840751,"post_id":74619619,"comment_id":131737471,"body_markdown":"Well, I am in trouble... The website I am tryng to access is from the Government. But I will keep on searching. When I have a solution I wil post it. Thanks anyway bro.","body":"Well, I am in trouble... The website I am tryng to access is from the Government. But I will keep on searching. When I have a solution I wil post it. Thanks anyway bro."},{"owner":{"account_id":16209077,"reputation":389,"user_id":11703579,"display_name":"gbossa"},"score":1,"creation_date":1671110670,"post_id":74619619,"comment_id":132030560,"body_markdown":"It worked.. what I did was to update the version of htmlunit (had to update the apache-commons-lang3 too) and it worked. A guy from htmlunit read another of my questions and released an updated version to solve the cookie problem. And voil&#225;. Worked. Will prepare a proper answer.","body":"It worked.. what I did was to update the version of htmlunit (had to update the apache-commons-lang3 too) and it worked. A guy from htmlunit read another of my questions and released an updated version to solve the cookie problem. And voil&#225;. Worked. Will prepare a proper answer."}],"answers":[{"tags":[],"owner":{"account_id":16209077,"reputation":389,"user_id":11703579,"display_name":"gbossa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671111048,"creation_date":1671111048,"answer_id":74812329,"question_id":74619619,"body_markdown":"Well. This is what happened. I posted (a related) [question][1], and a guy (possibly from the htmlunit crew) posted an update on git to solve the cookie problem. \r\nWhen using that updated version (`2.68.0-SNAPSHOT` - and I had to update the version of `apache-commons-lang3` too) all the problems disappeared. `Cloudflare` accepted the connection and everything worked! Here is the final version of the code....\r\n\r\n    try (WebClient webClient = new WebClient(BrowserVersion.CHROME)) {\r\n\t\t\tString url = &quot;https://www2.aneel.gov.br:443/aplicacoes_liferay/tarifa/&quot;;\r\n\t\t\t\r\n\t\t\t// par&#226;metros do webclient\r\n\t\t\twebClient.getOptions().setCssEnabled(true);\r\n\t\t\twebClient.setJavaScriptTimeout(0);\r\n\t\t\twebClient.getOptions().setThrowExceptionOnScriptError(false);\r\n\t\t\twebClient.getOptions().setUseInsecureSSL(true);\r\n\t\t\twebClient.getOptions().setThrowExceptionOnFailingStatusCode(false);\r\n\t\t\twebClient.getOptions().setTimeout(0);\r\n\t\t\twebClient.getOptions().setJavaScriptEnabled(true);\r\n\t\t\twebClient.getOptions().setRedirectEnabled(true);\r\n\t\t\t\r\n\t\t\tCookieManager cookies = new CookieManager();\t\t\t\r\n\t\t\tcookies.setCookiesEnabled(true);\r\n\t\t\twebClient.setCookieManager(cookies);\r\n\t\t\t\r\n\t\t\twebClient.setAjaxController(new NicelyResynchronizingAjaxController());\r\n\t\t\t\r\n\t\t\twebClient.waitForBackgroundJavaScript(10000);\r\n\t\t\twebClient.waitForBackgroundJavaScriptStartingBefore(10000);\r\n\t\t\t\r\n\t\t\twebClient.getCache().setMaxSize(0);\r\n\t\t\t\r\n\t\t\tjava.util.logging.Logger.getLogger(&quot;com.gargoylesoftware&quot;).setLevel(java.util.logging.Level.OFF);\r\n\t\t\tjava.util.logging.Logger.getLogger(&quot;com.gargoylesoftware.htmlunit&quot;).setLevel(Level.OFF);\r\n\t\t\tjava.util.logging.Logger.getLogger(&quot;org.apache.commons.httpclient&quot;).setLevel(Level.OFF);\r\n\t\t\t\r\n\t\t\tHtmlPage page = webClient.getPage(url);\r\n\t\t\twebClient.getRefreshHandler().handleRefresh(page, new URL(url), 10);\r\n\t\t\t\r\n\t\t\tsynchronized(page) {\r\n\t\t        page.wait(10000);\r\n\t\t    }\r\n\t\t\t\r\n\t\t\tif (page.asXml().contains(&quot;Checking if the site connection is secure&quot;)) {\r\n\t\t\t\tlog.info(page.asXml());\r\n\t\t\t    webClient.waitForBackgroundJavaScript(10_000);\r\n\t\t\t}\r\n   \r\n            List&lt;DomElement&gt; listaCategoriaAgente = page.getElementsByName(&quot;CategoriaAgente&quot;);\r\n\r\nWith the updates, and this piece of code, the list of DOM Elements I needed came properly.\r\nThank you all for the assist!\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/74732202/java-htmlunit-cloudflare-protection-stuck-on-redirecting-to-the-final-page","title":"HtmlUnit returning empty list of DomElements","body":"<p>Well. This is what happened. I posted (a related) <a href=\"https://stackoverflow.com/questions/74732202/java-htmlunit-cloudflare-protection-stuck-on-redirecting-to-the-final-page\">question</a>, and a guy (possibly from the htmlunit crew) posted an update on git to solve the cookie problem.\nWhen using that updated version (<code>2.68.0-SNAPSHOT</code> - and I had to update the version of <code>apache-commons-lang3</code> too) all the problems disappeared. <code>Cloudflare</code> accepted the connection and everything worked! Here is the final version of the code....</p>\n<pre><code>try (WebClient webClient = new WebClient(BrowserVersion.CHROME)) {\n        String url = &quot;https://www2.aneel.gov.br:443/aplicacoes_liferay/tarifa/&quot;;\n        \n        // parâmetros do webclient\n        webClient.getOptions().setCssEnabled(true);\n        webClient.setJavaScriptTimeout(0);\n        webClient.getOptions().setThrowExceptionOnScriptError(false);\n        webClient.getOptions().setUseInsecureSSL(true);\n        webClient.getOptions().setThrowExceptionOnFailingStatusCode(false);\n        webClient.getOptions().setTimeout(0);\n        webClient.getOptions().setJavaScriptEnabled(true);\n        webClient.getOptions().setRedirectEnabled(true);\n        \n        CookieManager cookies = new CookieManager();            \n        cookies.setCookiesEnabled(true);\n        webClient.setCookieManager(cookies);\n        \n        webClient.setAjaxController(new NicelyResynchronizingAjaxController());\n        \n        webClient.waitForBackgroundJavaScript(10000);\n        webClient.waitForBackgroundJavaScriptStartingBefore(10000);\n        \n        webClient.getCache().setMaxSize(0);\n        \n        java.util.logging.Logger.getLogger(&quot;com.gargoylesoftware&quot;).setLevel(java.util.logging.Level.OFF);\n        java.util.logging.Logger.getLogger(&quot;com.gargoylesoftware.htmlunit&quot;).setLevel(Level.OFF);\n        java.util.logging.Logger.getLogger(&quot;org.apache.commons.httpclient&quot;).setLevel(Level.OFF);\n        \n        HtmlPage page = webClient.getPage(url);\n        webClient.getRefreshHandler().handleRefresh(page, new URL(url), 10);\n        \n        synchronized(page) {\n            page.wait(10000);\n        }\n        \n        if (page.asXml().contains(&quot;Checking if the site connection is secure&quot;)) {\n            log.info(page.asXml());\n            webClient.waitForBackgroundJavaScript(10_000);\n        }\n\n        List&lt;DomElement&gt; listaCategoriaAgente = page.getElementsByName(&quot;CategoriaAgente&quot;);\n</code></pre>\n<p>With the updates, and this piece of code, the list of DOM Elements I needed came properly.\nThank you all for the assist!</p>\n"}],"owner":{"account_id":16209077,"reputation":389,"user_id":11703579,"display_name":"gbossa"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74812329,"answer_count":1,"score":0,"last_activity_date":1671111048,"creation_date":1669751935,"question_id":74619619,"body_markdown":"I am having trouble retrieving the list of Dom Elements when using the method `getElementsByName` from `HtmlPage`.\r\n\r\nHere is the HTML Page. (Trying to get the `CategoriaAgente` from the `select` tag).\r\n\r\nHTML (The part that I need):\r\n\r\n    &lt;select name=&quot;CategoriaAgente&quot;&gt;\r\n      &lt;option value=&quot;-&quot;&gt;Escolha uma categoria&lt;/option&gt;\r\n      &lt;option value=&quot;t&quot;&gt;Todos&lt;/option&gt;\r\n      &lt;option value=&quot;p&quot;&gt;Permission&#225;ria de Distribui&#231;&#227;o&lt;/option&gt;\r\n      &lt;option value=&quot;d&quot;&gt;Concession&#225;ria de Distribui&#231;&#227;o&lt;/option&gt;\r\n    &lt;/select&gt;\r\n\r\nSnippet of the Java code (Using HtmlUnit):\r\n\r\n        public List&lt;HtmlOption&gt; listaAgentes() {\r\n\t\tList&lt;HtmlOption&gt; listaAgentes = null;\r\n\r\n\t\ttry (WebClient webClient = new WebClient()) {\r\n\t\t\tlog.info(&quot;COLETANDO AGENTES&quot;);\r\n\r\n\t\t\t// par&#226;metros do webclient\r\n\t\t\twebClient.setJavaScriptTimeout(15000);\r\n\t\t\twebClient.getOptions().setThrowExceptionOnScriptError(false);\r\n\t\t\twebClient.getOptions().setUseInsecureSSL(true);\r\n\t\t\twebClient.getOptions().setThrowExceptionOnFailingStatusCode(false);\r\n\t\t\twebClient.getOptions().setTimeout(300000);\r\n\r\n\t\t\tString url = &quot;https://www2.aneel.gov.br/aplicacoes_liferay/tarifa/&quot;;\r\n\t\t\tHtmlPage page = webClient.getPage(url);\r\n\t\t\t\r\n\t\t\t// SELECIONAR CATEGORIA AGENTE\r\n\t\t\tList&lt;DomElement&gt; listaCategoriaAgente = page.getElementsByName(&quot;CategoriaAgente&quot;);\r\n           //... \r\n\r\nThe list `listaCategoriaAgente` is ALWAYS empty. \r\nI tried some solutions found on S.O. but none of them works. \r\nHelp? Thanks in advance!\r\n\r\n**EDIT**:\r\nAfter the comment from @hooknc , I found that the page is looking for some kind of captcha from cloudfare. \r\nThis is what I get from POSTMAN....\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSomeone knows how to bypass this `challenge-form` using HtmlUnit?\r\n Thanks!!!!!\r\n\r\n  [1]: https://i.stack.imgur.com/IM3pT.png\r\n\r\n**EDIT 2:**\r\n\r\nWell, I think I made some progress(?)...\r\n\r\nThis is the code so far....\r\n\r\n    try (WebClient webClient = new WebClient(BrowserVersion.CHROME)) {\r\n\t\t\twebClient.getOptions().setCssEnabled(false);\r\n\t\t\twebClient.setJavaScriptTimeout(0);\r\n\t\t\twebClient.getOptions().setThrowExceptionOnScriptError(false);\r\n\t\t\twebClient.getOptions().setUseInsecureSSL(true);\r\n\t\t\twebClient.getOptions().setThrowExceptionOnFailingStatusCode(false);\r\n\t\t\twebClient.getOptions().setTimeout(0);\r\n\t\t\twebClient.getCookieManager().setCookiesEnabled(true);\r\n\t\t\twebClient.getOptions().setJavaScriptEnabled(true);\r\n\t\t\twebClient.getOptions().setRedirectEnabled(true);\r\n\t\t\twebClient.getCache().setMaxSize(0);\r\n\t\t\twebClient.waitForBackgroundJavaScript(10_000);\r\n\t\t\twebClient.waitForBackgroundJavaScriptStartingBefore(10_000);\r\n\r\n\t\t\tHtmlPage page = null;\r\n\t\t\tString url = null;\r\n\r\n\t\t\turl = &quot;https://www2.aneel.gov.br/aplicacoes_liferay/tarifa/&quot;;\r\n\t\t\tpage = webClient.getPage(url);\r\n\r\n\t\t\tif (page.asXml().contains(&quot;Checking if the site connection is secure&quot;)) {\r\n\t\t\t\tlog.info(page.asXml());\r\n\r\n\t\t\t\tsynchronized(page) {\r\n\t\t\t        page.wait(10_000);\r\n\t\t\t    }\r\n\t\t\t\twebClient.waitForBackgroundJavaScript(10_000);\r\n\t\t\t}\r\n\r\nAnd... this is what I get from the log...\r\n\r\n    &lt;div id=&quot;challenge-success&quot; style=&quot;display: none;&quot;&gt;\r\n          &lt;div class=&quot;h2&quot;&gt;\r\n            &lt;span class=&quot;icon-wrapper&quot;&gt;\r\n              &lt;img class=&quot;heading-icon&quot; alt=&quot;Success icon&quot; src=&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAMAAADypuvZAAAANlBMVEUAAAAxMTEwMDAxMTExMTEwMDAwMDAwMDAxMTExMTExMTEwMDAwMDAxMTExMTEwMDAwMDAxMTHB9N+uAAAAEXRSTlMA3zDvfyBAEJC/n3BQz69gX7VMkcMAAAGySURBVEjHnZZbFoMgDEQJiDzVuv/NtgbtFGuQ4/zUKpeMIQbUhXSKE5l1XSn4pFWHRm/WShT1HRLWC01LGxFEVkCc30eYkLJ1Sjk9pvkw690VY6k8DWP9OM9yMG0Koi+mi8XA36NXmW0UXra4eJ3iwHfrfXVlgL0NqqGBHdqfeQhMmyJ48WDuKP81h3+SMPeRKkJcSXiLUK4XTHCjESOnz1VUXQoc6lgi2x4cI5aTQ201Mt8wHysI5fc05M5c81uZEtHcMKhxZ7iYEty1GfhLvGKpm+EYkdGxm1F5axmcB93DoORIbXfdN7f+hlFuyxtDP+sxtBnF43cIYwaZAWRgzxIoiXEMESoPlMhwLRDXeK772CAzXEdBRV7cmnoVBp0OSlyGidEzJTFq5hhcsA5388oSGM6b5p+qjpZrBlMS9xj4AwXmz108ukU1IomM3ceiW0CDwHCqp1NjAqXlFrbga+xuloQJ+tuyfbIBPNpqnmxqT7dPaOnZqBfhSBCteJAxWj58zLk2xgg+SPGYM6dRO6WczSnIxxwEExRaO+UyCUhbOp7CGQ+kxSUfNtLQFC+Po29vvy7jj4y0yAAAAABJRU5ErkJggg==&quot;/&gt;\r\n            &lt;/span&gt;\r\n            Connection is secure\r\n          &lt;/div&gt;\r\n          &lt;div class=&quot;core-msg spacer&quot;&gt;\r\n            Proceeding...\r\n          &lt;/div&gt;\r\n        &lt;/div&gt;\r\n\r\n\r\nSo... It says `Proceeding...` but nothing happens... I waited 4ever, but it just stucks on the `Proceeding`...\r\n\r\nAny thoughts??\r\nThanks!!!","title":"HtmlUnit returning empty list of DomElements","body":"<p>I am having trouble retrieving the list of Dom Elements when using the method <code>getElementsByName</code> from <code>HtmlPage</code>.</p>\n<p>Here is the HTML Page. (Trying to get the <code>CategoriaAgente</code> from the <code>select</code> tag).</p>\n<p>HTML (The part that I need):</p>\n<pre><code>&lt;select name=&quot;CategoriaAgente&quot;&gt;\n  &lt;option value=&quot;-&quot;&gt;Escolha uma categoria&lt;/option&gt;\n  &lt;option value=&quot;t&quot;&gt;Todos&lt;/option&gt;\n  &lt;option value=&quot;p&quot;&gt;Permissionária de Distribuição&lt;/option&gt;\n  &lt;option value=&quot;d&quot;&gt;Concessionária de Distribuição&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n<p>Snippet of the Java code (Using HtmlUnit):</p>\n<pre><code>    public List&lt;HtmlOption&gt; listaAgentes() {\n    List&lt;HtmlOption&gt; listaAgentes = null;\n\n    try (WebClient webClient = new WebClient()) {\n        log.info(&quot;COLETANDO AGENTES&quot;);\n\n        // parâmetros do webclient\n        webClient.setJavaScriptTimeout(15000);\n        webClient.getOptions().setThrowExceptionOnScriptError(false);\n        webClient.getOptions().setUseInsecureSSL(true);\n        webClient.getOptions().setThrowExceptionOnFailingStatusCode(false);\n        webClient.getOptions().setTimeout(300000);\n\n        String url = &quot;https://www2.aneel.gov.br/aplicacoes_liferay/tarifa/&quot;;\n        HtmlPage page = webClient.getPage(url);\n        \n        // SELECIONAR CATEGORIA AGENTE\n        List&lt;DomElement&gt; listaCategoriaAgente = page.getElementsByName(&quot;CategoriaAgente&quot;);\n       //... \n</code></pre>\n<p>The list <code>listaCategoriaAgente</code> is ALWAYS empty.\nI tried some solutions found on S.O. but none of them works.\nHelp? Thanks in advance!</p>\n<p><strong>EDIT</strong>:\nAfter the comment from @hooknc , I found that the page is looking for some kind of captcha from cloudfare.\nThis is what I get from POSTMAN....</p>\n<p><a href=\"https://i.stack.imgur.com/IM3pT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IM3pT.png\" alt=\"enter image description here\" /></a></p>\n<p>Someone knows how to bypass this <code>challenge-form</code> using HtmlUnit?\nThanks!!!!!</p>\n<p><strong>EDIT 2:</strong></p>\n<p>Well, I think I made some progress(?)...</p>\n<p>This is the code so far....</p>\n<pre><code>try (WebClient webClient = new WebClient(BrowserVersion.CHROME)) {\n        webClient.getOptions().setCssEnabled(false);\n        webClient.setJavaScriptTimeout(0);\n        webClient.getOptions().setThrowExceptionOnScriptError(false);\n        webClient.getOptions().setUseInsecureSSL(true);\n        webClient.getOptions().setThrowExceptionOnFailingStatusCode(false);\n        webClient.getOptions().setTimeout(0);\n        webClient.getCookieManager().setCookiesEnabled(true);\n        webClient.getOptions().setJavaScriptEnabled(true);\n        webClient.getOptions().setRedirectEnabled(true);\n        webClient.getCache().setMaxSize(0);\n        webClient.waitForBackgroundJavaScript(10_000);\n        webClient.waitForBackgroundJavaScriptStartingBefore(10_000);\n\n        HtmlPage page = null;\n        String url = null;\n\n        url = &quot;https://www2.aneel.gov.br/aplicacoes_liferay/tarifa/&quot;;\n        page = webClient.getPage(url);\n\n        if (page.asXml().contains(&quot;Checking if the site connection is secure&quot;)) {\n            log.info(page.asXml());\n\n            synchronized(page) {\n                page.wait(10_000);\n            }\n            webClient.waitForBackgroundJavaScript(10_000);\n        }\n</code></pre>\n<p>And... this is what I get from the log...</p>\n<pre><code>&lt;div id=&quot;challenge-success&quot; style=&quot;display: none;&quot;&gt;\n      &lt;div class=&quot;h2&quot;&gt;\n        &lt;span class=&quot;icon-wrapper&quot;&gt;\n          &lt;img class=&quot;heading-icon&quot; alt=&quot;Success icon&quot; src=&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAMAAADypuvZAAAANlBMVEUAAAAxMTEwMDAxMTExMTEwMDAwMDAwMDAxMTExMTExMTEwMDAwMDAxMTExMTEwMDAwMDAxMTHB9N+uAAAAEXRSTlMA3zDvfyBAEJC/n3BQz69gX7VMkcMAAAGySURBVEjHnZZbFoMgDEQJiDzVuv/NtgbtFGuQ4/zUKpeMIQbUhXSKE5l1XSn4pFWHRm/WShT1HRLWC01LGxFEVkCc30eYkLJ1Sjk9pvkw690VY6k8DWP9OM9yMG0Koi+mi8XA36NXmW0UXra4eJ3iwHfrfXVlgL0NqqGBHdqfeQhMmyJ48WDuKP81h3+SMPeRKkJcSXiLUK4XTHCjESOnz1VUXQoc6lgi2x4cI5aTQ201Mt8wHysI5fc05M5c81uZEtHcMKhxZ7iYEty1GfhLvGKpm+EYkdGxm1F5axmcB93DoORIbXfdN7f+hlFuyxtDP+sxtBnF43cIYwaZAWRgzxIoiXEMESoPlMhwLRDXeK772CAzXEdBRV7cmnoVBp0OSlyGidEzJTFq5hhcsA5388oSGM6b5p+qjpZrBlMS9xj4AwXmz108ukU1IomM3ceiW0CDwHCqp1NjAqXlFrbga+xuloQJ+tuyfbIBPNpqnmxqT7dPaOnZqBfhSBCteJAxWj58zLk2xgg+SPGYM6dRO6WczSnIxxwEExRaO+UyCUhbOp7CGQ+kxSUfNtLQFC+Po29vvy7jj4y0yAAAAABJRU5ErkJggg==&quot;/&gt;\n        &lt;/span&gt;\n        Connection is secure\n      &lt;/div&gt;\n      &lt;div class=&quot;core-msg spacer&quot;&gt;\n        Proceeding...\n      &lt;/div&gt;\n    &lt;/div&gt;\n</code></pre>\n<p>So... It says <code>Proceeding...</code> but nothing happens... I waited 4ever, but it just stucks on the <code>Proceeding</code>...</p>\n<p>Any thoughts??\nThanks!!!</p>\n"},{"tags":["java","generics","parameters","verification","mockito"],"answers":[{"tags":[],"owner":{"account_id":203255,"reputation":10399,"user_id":450811,"accept_rate":77,"display_name":"Waldheinz"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1306756532,"creation_date":1306755779,"answer_id":6175832,"question_id":6175753,"body_markdown":"You can&#39;t express this because of type erasure. Even if you could express it in code, Mockito had no chance to check it at runtime. You could create an interface like \r\n\r\n    interface PersonCollection extends Collection&lt;Person&gt; { /* nothing */ }\r\n\r\ninstead and use this throughout your code.\r\n\r\nEdit: I was wrong, Mockito has [anyCollectionOf(..)][1] which is what you want.\r\n\r\n  [1]: http://docs.mockito.googlecode.com/hg/org/mockito/Matchers.html#anyCollectionOf%28java.lang.Class%29","title":"Mockito: Verifying with generic parameters","body":"<p>You can't express this because of type erasure. Even if you could express it in code, Mockito had no chance to check it at runtime. You could create an interface like </p>\n\n<pre><code>interface PersonCollection extends Collection&lt;Person&gt; { /* nothing */ }\n</code></pre>\n\n<p>instead and use this throughout your code.</p>\n\n<p>Edit: I was wrong, Mockito has <a href=\"http://docs.mockito.googlecode.com/hg/org/mockito/Matchers.html#anyCollectionOf%28java.lang.Class%29\" rel=\"nofollow\">anyCollectionOf(..)</a> which is what you want.</p>\n"},{"tags":[],"owner":{"account_id":299251,"reputation":335905,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"down_vote_count":3,"up_vote_count":113,"is_accepted":true,"score":110,"last_activity_date":1671110789,"creation_date":1306755847,"answer_id":6175840,"question_id":6175753,"body_markdown":"Try:\r\n\r\n    verify(someService).process(ArgumentMatchers.&lt;Collection&lt;Person&gt;&gt;any());\r\n\r\nActually, IntelliJ automatically suggested this fix when I typed `any()`... Unfortunately you cannot use static import in this case.","title":"Mockito: Verifying with generic parameters","body":"<p>Try:</p>\n<pre><code>verify(someService).process(ArgumentMatchers.&lt;Collection&lt;Person&gt;&gt;any());\n</code></pre>\n<p>Actually, IntelliJ automatically suggested this fix when I typed <code>any()</code>... Unfortunately you cannot use static import in this case.</p>\n"},{"tags":[],"owner":{"account_id":2835943,"reputation":370,"user_id":2436568,"display_name":"seblm"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1379505363,"creation_date":1379505363,"answer_id":18871609,"question_id":6175753,"body_markdown":"Try :\r\n\r\n    verify(someService).process(anyCollectionOf(Person.class));\r\n\r\nSince version [1.8][1] Mockito introduces\r\n\r\n    public static &lt;T&gt; Collection&lt;T&gt; anyCollectionOf(Class&lt;T&gt; clazz);\r\n\r\n  [1]: https://github.com/mockito/mockito/blob/1.8.0/src/org/mockito/Matchers.java","title":"Mockito: Verifying with generic parameters","body":"<p>Try :</p>\n\n<pre><code>verify(someService).process(anyCollectionOf(Person.class));\n</code></pre>\n\n<p>Since version <a href=\"https://github.com/mockito/mockito/blob/1.8.0/src/org/mockito/Matchers.java\" rel=\"noreferrer\">1.8</a> Mockito introduces</p>\n\n<pre><code>public static &lt;T&gt; Collection&lt;T&gt; anyCollectionOf(Class&lt;T&gt; clazz);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8195234,"reputation":11,"user_id":6168315,"display_name":"fxa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1459964696,"creation_date":1459964696,"answer_id":36458540,"question_id":6175753,"body_markdown":"if you use a own method, you can even use static import:\r\n\r\n    private Collection&lt;Person&gt; anyPersonCollection() {\r\n        return any();\r\n    }\r\n\r\nThen you can use\r\n\r\n    verify(someService).process(anyPersonCollection());\r\n\r\n ","title":"Mockito: Verifying with generic parameters","body":"<p>if you use a own method, you can even use static import:</p>\n\n<pre><code>private Collection&lt;Person&gt; anyPersonCollection() {\n    return any();\n}\n</code></pre>\n\n<p>Then you can use</p>\n\n<pre><code>verify(someService).process(anyPersonCollection());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3507352,"reputation":587,"user_id":2932601,"accept_rate":86,"display_name":"Oleksandr Tarasenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640791496,"creation_date":1640791496,"answer_id":70521447,"question_id":6175753,"body_markdown":"As an alternative to the accepted answer you can try:\r\n\r\n    verify(someService).process(Mockito.&lt;SomeGenericClass&lt;Person&gt;&gt;any());\r\n\r\nWhere I used `org.mockito.Mockito` instead of `Matchers`.","title":"Mockito: Verifying with generic parameters","body":"<p>As an alternative to the accepted answer you can try:</p>\n<pre><code>verify(someService).process(Mockito.&lt;SomeGenericClass&lt;Person&gt;&gt;any());\n</code></pre>\n<p>Where I used <code>org.mockito.Mockito</code> instead of <code>Matchers</code>.</p>\n"}],"owner":{"account_id":17529,"reputation":153981,"user_id":39321,"accept_rate":80,"display_name":"Svish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42459,"favorite_count":0,"down_vote_count":0,"up_vote_count":67,"accepted_answer_id":6175840,"answer_count":5,"score":67,"last_activity_date":1671110789,"creation_date":1306755268,"question_id":6175753,"body_markdown":"With Mockito I can do the following:\r\n\r\n    verify(someService).process(any(Person.class));\r\n\r\nBut how do I write this if `process` takes a `Collection&lt;Person&gt;` instead? Can&#39;t figure out how to write it correctly. Just getting syntax errors...","title":"Mockito: Verifying with generic parameters","body":"<p>With Mockito I can do the following:</p>\n\n<pre><code>verify(someService).process(any(Person.class));\n</code></pre>\n\n<p>But how do I write this if <code>process</code> takes a <code>Collection&lt;Person&gt;</code> instead? Can't figure out how to write it correctly. Just getting syntax errors...</p>\n"},{"tags":["java","properties","config","system","typesafe"],"owner":{"account_id":4784985,"reputation":51,"user_id":3865748,"display_name":"user3865748"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1671110650,"creation_date":1671110650,"question_id":74812254,"body_markdown":"We are using Typesafe config in our application.\r\nAny way to ignore loading system properties into config object ?","title":"How to avoid System Properties getting loaded in Typesafe config","body":"<p>We are using Typesafe config in our application.\nAny way to ignore loading system properties into config object ?</p>\n"},{"tags":["java","selenium-webdriver","serenity-bdd"],"comments":[{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":0,"creation_date":1671102170,"post_id":74810471,"comment_id":132027551,"body_markdown":"Can you share a link to the page you working on?","body":"Can you share a link to the page you working on?"},{"owner":{"account_id":6863787,"reputation":1498,"user_id":5276946,"display_name":"ggeorge"},"score":0,"creation_date":1671102406,"post_id":74810471,"comment_id":132027618,"body_markdown":"Sorry i can&#39;t because in order to access this page you need to login first. But the problem doesn&#39;t have to do with the element itself because i can locate it at least with no waiting. Apart from that i can confirm that the xpath is valid regardless the webdriver, i mean that typing this xpath in devtools can locate the desired element. Also this xpath returns a unique element","body":"Sorry i can&#39;t because in order to access this page you need to login first. But the problem doesn&#39;t have to do with the element itself because i can locate it at least with no waiting. Apart from that i can confirm that the xpath is valid regardless the webdriver, i mean that typing this xpath in devtools can locate the desired element. Also this xpath returns a unique element"},{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":0,"creation_date":1671102617,"post_id":74810471,"comment_id":132027679,"body_markdown":"Maybe you need to scroll the page there since element is initially out of the visible area?","body":"Maybe you need to scroll the page there since element is initially out of the visible area?"},{"owner":{"account_id":6863787,"reputation":1498,"user_id":5276946,"display_name":"ggeorge"},"score":0,"creation_date":1671102764,"post_id":74810471,"comment_id":132027727,"body_markdown":"The strange thing is that without waiting I can locate it. What could have happened?","body":"The strange thing is that without waiting I can locate it. What could have happened?"},{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":0,"creation_date":1671103394,"post_id":74810471,"comment_id":132027931,"body_markdown":"Well, I think I need to see your code and make actual debugging to answer here. I&#39;m sorry..","body":"Well, I think I need to see your code and make actual debugging to answer here. I&#39;m sorry.."},{"owner":{"account_id":6863787,"reputation":1498,"user_id":5276946,"display_name":"ggeorge"},"score":0,"creation_date":1671103472,"post_id":74810471,"comment_id":132027951,"body_markdown":"Thanks @Prophet NP :) but i can&#39;t since it&#39;s from a private organization&#39;s code base","body":"Thanks @Prophet NP :) but i can&#39;t since it&#39;s from a private organization&#39;s code base"},{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":0,"creation_date":1671103587,"post_id":74810471,"comment_id":132027995,"body_markdown":"I understand, you already mentioned that. I just wanted to say unfortunately I&#39;m not sure I can help in these circumstances.","body":"I understand, you already mentioned that. I just wanted to say unfortunately I&#39;m not sure I can help in these circumstances."},{"owner":{"account_id":6863787,"reputation":1498,"user_id":5276946,"display_name":"ggeorge"},"score":0,"creation_date":1671103724,"post_id":74810471,"comment_id":132028047,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/250433/discussion-between-ggeorge-and-prophet).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/250433/discussion-between-ggeorge-and-prophet\">continue this discussion in chat</a>."}],"owner":{"account_id":6863787,"reputation":1498,"user_id":5276946,"display_name":"ggeorge"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":454,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671110559,"creation_date":1671102025,"question_id":74810471,"body_markdown":"First of all i need to locate this element: \r\n\r\n`&lt;input aria-checked=&quot;false&quot; id=&quot;input-190&quot; role=&quot;switch&quot; type=&quot;checkbox&quot; aria-disabled=&quot;false&quot; value=&quot;&quot;&gt;`\r\n\r\nso i have created this Target:\r\n```\r\npublic class Page  {\r\n      public static final Target SWITCH_INPUT = Target.the(&quot;switch input&quot;)\r\n            .locatedBy(&quot;//input[@role=&#39;switch&#39;]&quot;)\r\n            .waitingForNoMoreThan(Duration.ofSeconds(20));\r\n}\r\n```\r\nand in another class need to locate this target and get the attribute `aria-checked`\r\n\r\n```\r\nvar ariaChecked = actor.asksFor(Attribute.of(SWITCH_INPUT, &quot;aria-checked&quot;));\r\n```\r\nand here occurs something too odd to me, if i remove the `waitingForNoMoreThan(Duration.ofSeconds(20))` from my target definition, the actor can locate that target but by having the `waitingForNoMoreThan` in place, it returns empty string because the element is null.\r\n\r\nIs this normal? I feel that the opposite is a legit scenario.","title":"Using Serenity Screenplay pattern waiting an element causes problems locating it","body":"<p>First of all i need to locate this element:</p>\n<p><code>&lt;input aria-checked=&quot;false&quot; id=&quot;input-190&quot; role=&quot;switch&quot; type=&quot;checkbox&quot; aria-disabled=&quot;false&quot; value=&quot;&quot;&gt;</code></p>\n<p>so i have created this Target:</p>\n<pre><code>public class Page  {\n      public static final Target SWITCH_INPUT = Target.the(&quot;switch input&quot;)\n            .locatedBy(&quot;//input[@role='switch']&quot;)\n            .waitingForNoMoreThan(Duration.ofSeconds(20));\n}\n</code></pre>\n<p>and in another class need to locate this target and get the attribute <code>aria-checked</code></p>\n<pre><code>var ariaChecked = actor.asksFor(Attribute.of(SWITCH_INPUT, &quot;aria-checked&quot;));\n</code></pre>\n<p>and here occurs something too odd to me, if i remove the <code>waitingForNoMoreThan(Duration.ofSeconds(20))</code> from my target definition, the actor can locate that target but by having the <code>waitingForNoMoreThan</code> in place, it returns empty string because the element is null.</p>\n<p>Is this normal? I feel that the opposite is a legit scenario.</p>\n"},{"tags":["java","android","kotlin","android-alertdialog","material-components-android"],"comments":[{"owner":{"account_id":12153023,"reputation":624,"user_id":8872691,"display_name":"m&#39;hd semps"},"score":0,"creation_date":1593029575,"post_id":62562609,"comment_id":110640474,"body_markdown":"Does this answer your question? [Center message in android dialog box](https://stackoverflow.com/questions/4954130/center-message-in-android-dialog-box)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/4954130/center-message-in-android-dialog-box\">Center message in android dialog box</a>"}],"answers":[{"tags":[],"owner":{"account_id":18852957,"reputation":141,"user_id":13771886,"display_name":"danms07"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593027722,"creation_date":1593027722,"answer_id":62562885,"question_id":62562609,"body_markdown":"You can create your own layout and add it to your dialog\r\n\r\n    \r\n    val inflater=LayoutInflater.from(requireContext())\r\n    //Getting the custom view\r\n    val view=inflater.inflate(R.layout.YOUR_CUSTOM_LAYOUT,null)\r\n    //Obtaining the components\r\n    val title=view.findViewById(R.id.YOUR_CUSTOM_TILE)\r\n    title.text=&quot;Message&quot;\r\n    val button=view.findViewById(R.id.YOUR_CUSTOM_BUTTON)\r\n    button.setOnCLickListener{\r\n        //onClick\r\n        }\r\n    val dialog=MaterialAlertDialogBuilder(requireContext()).setView(view).create()\r\n    dialog.show()","title":"how to make center MaterialAlertDialogBuilder alignment title, message &amp; button","body":"<p>You can create your own layout and add it to your dialog</p>\n<pre><code>val inflater=LayoutInflater.from(requireContext())\n//Getting the custom view\nval view=inflater.inflate(R.layout.YOUR_CUSTOM_LAYOUT,null)\n//Obtaining the components\nval title=view.findViewById(R.id.YOUR_CUSTOM_TILE)\ntitle.text=&quot;Message&quot;\nval button=view.findViewById(R.id.YOUR_CUSTOM_BUTTON)\nbutton.setOnCLickListener{\n    //onClick\n    }\nval dialog=MaterialAlertDialogBuilder(requireContext()).setView(view).create()\ndialog.show()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2294849,"reputation":331956,"user_id":2016562,"accept_rate":92,"display_name":"Gabriele Mariotti"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1593028736,"creation_date":1593028736,"answer_id":62563122,"question_id":62562609,"body_markdown":"For the the title and the message you can use:\r\n\r\n        &lt;style name=&quot;MaterialAlertDialog__Center&quot; parent=&quot;@style/ThemeOverlay.MaterialComponents.MaterialAlertDialog&quot;&gt;\r\n            &lt;item name=&quot;materialAlertDialogTitlePanelStyle&quot;&gt;@style/Title.Panel.Center&lt;/item&gt;\r\n            &lt;item name=&quot;materialAlertDialogBodyTextStyle&quot;&gt;@style/Message.Center&lt;/item&gt;\r\n        &lt;/style&gt;\r\n    \r\n        &lt;style name=&quot;Title.Panel.Center&quot; parent=&quot;MaterialAlertDialog.MaterialComponents.Title.Panel&quot;&gt;\r\n            &lt;item name=&quot;android:gravity&quot;&gt;center_horizontal&lt;/item&gt;\r\n        &lt;/style&gt;\r\n    \r\n        &lt;style name=&quot;Message.Center&quot; parent=&quot;MaterialAlertDialog.MaterialComponents.Body.Text&quot;&gt;\r\n            &lt;item name=&quot;android:gravity&quot;&gt;center_horizontal&lt;/item&gt;\r\n        &lt;/style&gt;\r\n\r\nwith:\r\n\r\n    MaterialAlertDialogBuilder(this, R.style.MaterialAlertDialog_Center)\r\n                    .setTitle(&quot;Message&quot;)\r\n                    ..\r\n                    .show()\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/B3Bor.png","title":"how to make center MaterialAlertDialogBuilder alignment title, message &amp; button","body":"<p>For the the title and the message you can use:</p>\n<pre><code>    &lt;style name=&quot;MaterialAlertDialog__Center&quot; parent=&quot;@style/ThemeOverlay.MaterialComponents.MaterialAlertDialog&quot;&gt;\n        &lt;item name=&quot;materialAlertDialogTitlePanelStyle&quot;&gt;@style/Title.Panel.Center&lt;/item&gt;\n        &lt;item name=&quot;materialAlertDialogBodyTextStyle&quot;&gt;@style/Message.Center&lt;/item&gt;\n    &lt;/style&gt;\n\n    &lt;style name=&quot;Title.Panel.Center&quot; parent=&quot;MaterialAlertDialog.MaterialComponents.Title.Panel&quot;&gt;\n        &lt;item name=&quot;android:gravity&quot;&gt;center_horizontal&lt;/item&gt;\n    &lt;/style&gt;\n\n    &lt;style name=&quot;Message.Center&quot; parent=&quot;MaterialAlertDialog.MaterialComponents.Body.Text&quot;&gt;\n        &lt;item name=&quot;android:gravity&quot;&gt;center_horizontal&lt;/item&gt;\n    &lt;/style&gt;\n</code></pre>\n<p>with:</p>\n<pre><code>MaterialAlertDialogBuilder(this, R.style.MaterialAlertDialog_Center)\n                .setTitle(&quot;Message&quot;)\n                ..\n                .show()\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/B3Bor.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/B3Bor.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":8541945,"reputation":8190,"user_id":6401755,"display_name":"Juan Cruz Soler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602619256,"creation_date":1602619256,"answer_id":64342368,"question_id":62562609,"body_markdown":"To center the title and message you only have to change this in your Theme\r\n\r\n```\r\n&lt;item name=&quot;materialAlertDialogTheme&quot;&gt;@style/ThemeOverlay.MaterialComponents.MaterialAlertDialog.Centered&lt;/item&gt;\r\n```","title":"how to make center MaterialAlertDialogBuilder alignment title, message &amp; button","body":"<p>To center the title and message you only have to change this in your Theme</p>\n<pre><code>&lt;item name=&quot;materialAlertDialogTheme&quot;&gt;@style/ThemeOverlay.MaterialComponents.MaterialAlertDialog.Centered&lt;/item&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17902721,"reputation":61,"user_id":13006626,"display_name":"Mohamed Rahal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669334426,"creation_date":1669334426,"answer_id":74567238,"question_id":62562609,"body_markdown":"In the simplest way\r\n\r\n    MaterialAlertDialogBuilder(context, com.google.android.material.R.style.ThemeOverlay_Material3_MaterialAlertDialog_Centered)","title":"how to make center MaterialAlertDialogBuilder alignment title, message &amp; button","body":"<p>In the simplest way</p>\n<pre><code>MaterialAlertDialogBuilder(context, com.google.android.material.R.style.ThemeOverlay_Material3_MaterialAlertDialog_Centered)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13309392,"reputation":190,"user_id":9653526,"display_name":"Angel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671110388,"creation_date":1671110388,"answer_id":74812192,"question_id":62562609,"body_markdown":"Change to this\r\n\r\n    MaterialAlertDialogBuilder(requireContext(), com.google.android.material.R.style.ThemeOverlay_Material3_MaterialAlertDialog_Centered))\r\n                        .setTitle(&quot;Message&quot;)\r\n                        .setMessage(&quot;This is info message.&quot;)\r\n                        .setPositiveButton(&quot;Ok&quot;) { dialog, which -&gt;\r\n                     \r\n                        }\r\n                        \r\n                        .show()\r\n\r\n","title":"how to make center MaterialAlertDialogBuilder alignment title, message &amp; button","body":"<p>Change to this</p>\n<pre><code>MaterialAlertDialogBuilder(requireContext(), com.google.android.material.R.style.ThemeOverlay_Material3_MaterialAlertDialog_Centered))\n                    .setTitle(&quot;Message&quot;)\n                    .setMessage(&quot;This is info message.&quot;)\n                    .setPositiveButton(&quot;Ok&quot;) { dialog, which -&gt;\n                 \n                    }\n                    \n                    .show()\n</code></pre>\n"}],"owner":{"account_id":10279781,"reputation":6290,"user_id":7585388,"display_name":"Bolt UIX"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2319,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":62563122,"answer_count":5,"score":2,"last_activity_date":1671110388,"creation_date":1593026540,"question_id":62562609,"body_markdown":"how to make center alignment title, message &amp; button \r\n\r\n    MaterialAlertDialogBuilder(requireContext())\r\n                    .setTitle(&quot;Message&quot;)\r\n                    .setMessage(&quot;This is info message.&quot;)\r\n                    .setPositiveButton(&quot;Ok&quot;) { dialog, which -&gt;\r\n                 \r\n                    }\r\n                    \r\n                    .show()","title":"how to make center MaterialAlertDialogBuilder alignment title, message &amp; button","body":"<p>how to make center alignment title, message &amp; button</p>\n<pre><code>MaterialAlertDialogBuilder(requireContext())\n                .setTitle(&quot;Message&quot;)\n                .setMessage(&quot;This is info message.&quot;)\n                .setPositiveButton(&quot;Ok&quot;) { dialog, which -&gt;\n             \n                }\n                \n                .show()\n</code></pre>\n"},{"tags":["java","drools","kie"],"answers":[{"tags":[],"owner":{"account_id":480643,"reputation":2233,"user_id":893991,"display_name":"tarilabs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671108850,"creation_date":1671108850,"answer_id":74811867,"question_id":74809724,"body_markdown":"you may try with having the `data` field be converted (eg by Jackson) as a Map following a prototype based approach and then\r\n\r\n```java\r\n...\r\nwhen\r\n  Submission(data[&quot;name&quot;] == &quot;john&quot;) ...\r\n```\r\n\r\nof instead of Map have a JSONNode (and adapt the constraint in the rule), again for the `data` field in your Submission object model.","title":"Drools rule for Object type member","body":"<p>you may try with having the <code>data</code> field be converted (eg by Jackson) as a Map following a prototype based approach and then</p>\n<pre class=\"lang-java prettyprint-override\"><code>...\nwhen\n  Submission(data[&quot;name&quot;] == &quot;john&quot;) ...\n</code></pre>\n<p>of instead of Map have a JSONNode (and adapt the constraint in the rule), again for the <code>data</code> field in your Submission object model.</p>\n"}],"owner":{"account_id":7864946,"reputation":1,"user_id":6853002,"display_name":"Hashim Siddiqui"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671110132,"creation_date":1671098290,"question_id":74809724,"body_markdown":"I am new to drools, please bear with me if this is a silly question. I have a class member type of `Object` which I am using to store JSON value (passed from frontend), due to unstructured data I am using Object type for a variable. Here&#39;s the POJO class.\r\n\r\n```\r\npublic class Submission {\r\n    @Id\r\n    private String id;\r\n    private String form;\r\n    private String formId;\r\n    private Object data;\r\n    private Date createdAt = new Date();\r\n    private Date modifiedAt = new Date();\r\n    private String state;\r\n    private Boolean isDeleted = false;\r\n    private Boolean valid = false;\r\n\r\n    public Boolean getValid() {\r\n        return valid;\r\n    }\r\n\r\n    public void setValid(Boolean valid) {\r\n        this.valid = valid;\r\n    }\r\n\r\n    public String getForm() {\r\n        return form;\r\n    }\r\n\r\n    public void setForm(String form) {\r\n        this.form = form;\r\n    }\r\n\r\n    public String getFormId() {\r\n        return formId;\r\n    }\r\n\r\n    public void setFormId(String formId) {\r\n        this.formId = formId;\r\n    }\r\n\r\n    public Object getData() {\r\n        return data;\r\n    }\r\n\r\n    public void setData(Object data) {\r\n        this.data = data;\r\n    }\r\n\r\n    public String getState() {\r\n        return state;\r\n    }\r\n\r\n    public void setState(String state) {\r\n        this.state = state;\r\n    }\r\n\r\n    public Date getCreatedAt() {\r\n        return createdAt;\r\n    }\r\n\r\n    public void setCreatedAt(Date createdAt) {\r\n        this.createdAt = createdAt;\r\n    }\r\n\r\n    public Date getModifiedAt() {\r\n        return modifiedAt;\r\n    }\r\n\r\n    public void setModifiedAt(Date modifiedAt) {\r\n        this.modifiedAt = modifiedAt;\r\n    }\r\n\r\n    public String getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(String id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public Boolean getDeleted() {\r\n        return isDeleted;\r\n    }\r\n\r\n    public void setDeleted(Boolean deleted) {\r\n        isDeleted = deleted;\r\n    }\r\n}\r\n```\r\n\r\nand this is my .drl\r\n```\r\npackage rules; \r\nimport com.ics.lcnc.Submission.Submission;\r\nrule &quot;check name is correct&quot;\r\nwhen\r\n  Submission(data.name == &quot;john&quot;)\r\nthen\r\n  submission.setValid(true)\r\nend\r\n```\r\nBut for above file I get following error when I try to load this file into `KieBuilder` \r\n```\r\nMessage [id=3, kieBase=defaultKieBase, level=ERROR, path=rules/123.drl, line=5, column=0\r\n   text=Unable to Analyse Expression data.name == &quot;hashim&quot;:\r\n[Error: unable to resolve method using strict-mode: java.lang.Object.name()]\r\n[Near : {... data.name == &quot;hashim&quot; ....}]\r\n```\r\nSeems like rule engine is unable to find nested property of `Object data`. How do I target nested property which will be known to a program at runtime only?\r\n","title":"Drools rule for Object type member","body":"<p>I am new to drools, please bear with me if this is a silly question. I have a class member type of <code>Object</code> which I am using to store JSON value (passed from frontend), due to unstructured data I am using Object type for a variable. Here's the POJO class.</p>\n<pre><code>public class Submission {\n    @Id\n    private String id;\n    private String form;\n    private String formId;\n    private Object data;\n    private Date createdAt = new Date();\n    private Date modifiedAt = new Date();\n    private String state;\n    private Boolean isDeleted = false;\n    private Boolean valid = false;\n\n    public Boolean getValid() {\n        return valid;\n    }\n\n    public void setValid(Boolean valid) {\n        this.valid = valid;\n    }\n\n    public String getForm() {\n        return form;\n    }\n\n    public void setForm(String form) {\n        this.form = form;\n    }\n\n    public String getFormId() {\n        return formId;\n    }\n\n    public void setFormId(String formId) {\n        this.formId = formId;\n    }\n\n    public Object getData() {\n        return data;\n    }\n\n    public void setData(Object data) {\n        this.data = data;\n    }\n\n    public String getState() {\n        return state;\n    }\n\n    public void setState(String state) {\n        this.state = state;\n    }\n\n    public Date getCreatedAt() {\n        return createdAt;\n    }\n\n    public void setCreatedAt(Date createdAt) {\n        this.createdAt = createdAt;\n    }\n\n    public Date getModifiedAt() {\n        return modifiedAt;\n    }\n\n    public void setModifiedAt(Date modifiedAt) {\n        this.modifiedAt = modifiedAt;\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public Boolean getDeleted() {\n        return isDeleted;\n    }\n\n    public void setDeleted(Boolean deleted) {\n        isDeleted = deleted;\n    }\n}\n</code></pre>\n<p>and this is my .drl</p>\n<pre><code>package rules; \nimport com.ics.lcnc.Submission.Submission;\nrule &quot;check name is correct&quot;\nwhen\n  Submission(data.name == &quot;john&quot;)\nthen\n  submission.setValid(true)\nend\n</code></pre>\n<p>But for above file I get following error when I try to load this file into <code>KieBuilder</code></p>\n<pre><code>Message [id=3, kieBase=defaultKieBase, level=ERROR, path=rules/123.drl, line=5, column=0\n   text=Unable to Analyse Expression data.name == &quot;hashim&quot;:\n[Error: unable to resolve method using strict-mode: java.lang.Object.name()]\n[Near : {... data.name == &quot;hashim&quot; ....}]\n</code></pre>\n<p>Seems like rule engine is unable to find nested property of <code>Object data</code>. How do I target nested property which will be known to a program at runtime only?</p>\n"},{"tags":["java","json"],"owner":{"account_id":11155940,"reputation":75,"user_id":8187659,"display_name":"slema imen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671109924,"creation_date":1671109924,"question_id":74812088,"body_markdown":"I&#39;have this api and i want to send requestBody:\r\n\r\n    public void sendSMS(SMS sms) throws IOException {\r\n        HttpPost post = new HttpPost(smsEndpoint);\r\n        String auth = smsUsername + &quot;:&quot; + smsPassword;\r\n        // Encode the user-password pair string in Base64\r\n        byte[] encodedAuth = org.apache.commons.codec.binary.Base64.encodeBase64(\r\n                auth.getBytes(StandardCharsets.ISO_8859_1));\r\n        String authHeader = &quot;Basic &quot; + new String(encodedAuth);\r\n        post.setHeader(HttpHeaders.AUTHORIZATION, authHeader);\r\n        post.setHeader(&quot;Content-type&quot;, &quot;application/json&quot;);\r\n        ObjectWriter ow = new ObjectMapper().writer().withDefaultPrettyPrinter();\r\n        StringEntity params = new StringEntity(ow.writeValueAsString(sms));\r\n        post.setEntity(params);\r\n        try (CloseableHttpClient httpClient = HttpClients.createDefault();\r\n                CloseableHttpResponse response = httpClient.execute(post)) {\r\n            LOGGER.log(Level.INFO, () -&gt; &quot;the response: &quot; + response.toString());\r\n        }\r\n    }\r\n\r\nwhen I want I try to send this format :\r\n\r\n    StringEntity params = new StringEntity(&quot;{\\&quot;endpoints\\&quot;:[\\&quot;32495122345\\&quot;],\\&quot;text\\&quot;:\\&quot;This is \r\n    Great !\\&quot;}&quot;);\r\n\r\nIt is succeded but when i send this format json converted to string not succeded.\r\n\r\nHow to resolve the problem? thanks in advance.\r\n\r\n\r\n\r\n","title":"Format requestBody not to be sent?","body":"<p>I'have this api and i want to send requestBody:</p>\n<pre><code>public void sendSMS(SMS sms) throws IOException {\n    HttpPost post = new HttpPost(smsEndpoint);\n    String auth = smsUsername + &quot;:&quot; + smsPassword;\n    // Encode the user-password pair string in Base64\n    byte[] encodedAuth = org.apache.commons.codec.binary.Base64.encodeBase64(\n            auth.getBytes(StandardCharsets.ISO_8859_1));\n    String authHeader = &quot;Basic &quot; + new String(encodedAuth);\n    post.setHeader(HttpHeaders.AUTHORIZATION, authHeader);\n    post.setHeader(&quot;Content-type&quot;, &quot;application/json&quot;);\n    ObjectWriter ow = new ObjectMapper().writer().withDefaultPrettyPrinter();\n    StringEntity params = new StringEntity(ow.writeValueAsString(sms));\n    post.setEntity(params);\n    try (CloseableHttpClient httpClient = HttpClients.createDefault();\n            CloseableHttpResponse response = httpClient.execute(post)) {\n        LOGGER.log(Level.INFO, () -&gt; &quot;the response: &quot; + response.toString());\n    }\n}\n</code></pre>\n<p>when I want I try to send this format :</p>\n<pre><code>StringEntity params = new StringEntity(&quot;{\\&quot;endpoints\\&quot;:[\\&quot;32495122345\\&quot;],\\&quot;text\\&quot;:\\&quot;This is \nGreat !\\&quot;}&quot;);\n</code></pre>\n<p>It is succeded but when i send this format json converted to string not succeded.</p>\n<p>How to resolve the problem? thanks in advance.</p>\n"},{"tags":["java","spring","maven","spring-boot","liquibase"],"answers":[{"tags":[],"owner":{"account_id":113908,"reputation":3110,"user_id":299787,"display_name":"Redlab"},"down_vote_count":1,"up_vote_count":42,"is_accepted":true,"score":41,"last_activity_date":1485874712,"creation_date":1485874712,"answer_id":41960712,"question_id":41960588,"body_markdown":"I believe you are missing \r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nin your dependencies","title":"Liquibase migration on startup doesnt work using Spring-Boot","body":"<p>I believe you are missing </p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>in your dependencies</p>\n"},{"tags":[],"owner":{"account_id":17235777,"reputation":1,"user_id":12479291,"display_name":"Nirmal Mandhata"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671109846,"creation_date":1671109846,"answer_id":74812073,"question_id":41960588,"body_markdown":"I believe you are missing key\r\nspring.liquibase.enabled: true","title":"Liquibase migration on startup doesnt work using Spring-Boot","body":"<p>I believe you are missing key\nspring.liquibase.enabled: true</p>\n"}],"owner":{"account_id":3834259,"reputation":1003,"user_id":3179011,"accept_rate":75,"display_name":"Sok Pomaranczowy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22939,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":41960712,"answer_count":2,"score":12,"last_activity_date":1671109846,"creation_date":1485874378,"question_id":41960588,"body_markdown":"Following [this][1] documentation:\r\n\r\n    To automatically run Liquibase database migrations on startup, add the org.liquibase:liquibase-core to your classpath.\r\n    \r\n    The master change log is by default read from db/changelog/db.changelog-master.yaml but can be set using liquibase.change-log. In addition to YAML, Liquibase also supports JSON, XML, and SQL change log formats.\r\n\r\nI configured my application to use liquibase migrations.\r\nI added `liquibase.change-log` property so my whole `application.properties` file looks like this:\r\n\r\n\r\n    spring.jpa.hibernate.ddl-auto=none\r\n    \r\n    spring.datasource.url=jdbc:mysql://192.168.0.1/db_name\r\n    spring.datasource.username=db_username\r\n    spring.datasource.password=super_secret_secret!123\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n    \r\n    spring.datasource.testOnBorrow=true\r\n    spring.datasource.timeBetweenEvictionRunsMillis = 60000\r\n    spring.datasource.validationQuery=SELECT 1\r\n    \r\n    liquibase.change-log=db.changelog-master.xml\r\n\r\nand here is my `pom.xml` with `liquibase-core`\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.my.application&lt;/groupId&gt;\r\n        &lt;artifactId&gt;application-name&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;war&lt;/packaging&gt;\r\n    \r\n        &lt;name&gt;application_name&lt;/name&gt;\r\n        &lt;description&gt;Best app ever&lt;/description&gt;\r\n    \r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.0.BUILD-SNAPSHOT&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n                &lt;!--&lt;scope&gt;provided&lt;/scope&gt;--&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-cas&lt;/artifactId&gt;\r\n                &lt;version&gt;4.0.3.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n                &lt;version&gt;6.0.5&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n                &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\r\n                &lt;version&gt;3.4.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n        &lt;repositories&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;spring-snapshots&lt;/id&gt;\r\n                &lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n                &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n                &lt;snapshots&gt;\r\n                    &lt;enabled&gt;true&lt;/enabled&gt;\r\n                &lt;/snapshots&gt;\r\n            &lt;/repository&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;spring-milestones&lt;/id&gt;\r\n                &lt;name&gt;Spring Milestones&lt;/name&gt;\r\n                &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n                &lt;snapshots&gt;\r\n                    &lt;enabled&gt;false&lt;/enabled&gt;\r\n                &lt;/snapshots&gt;\r\n            &lt;/repository&gt;\r\n        &lt;/repositories&gt;\r\n        &lt;pluginRepositories&gt;\r\n            &lt;pluginRepository&gt;\r\n                &lt;id&gt;spring-snapshots&lt;/id&gt;\r\n                &lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n                &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n                &lt;snapshots&gt;\r\n                    &lt;enabled&gt;true&lt;/enabled&gt;\r\n                &lt;/snapshots&gt;\r\n            &lt;/pluginRepository&gt;\r\n            &lt;pluginRepository&gt;\r\n                &lt;id&gt;spring-milestones&lt;/id&gt;\r\n                &lt;name&gt;Spring Milestones&lt;/name&gt;\r\n                &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n                &lt;snapshots&gt;\r\n                    &lt;enabled&gt;false&lt;/enabled&gt;\r\n                &lt;/snapshots&gt;\r\n            &lt;/pluginRepository&gt;\r\n        &lt;/pluginRepositories&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nBut unfortunately nothing happens on startup. I believed that this would add the table specified in my `db.changelog-master.xml` to my database but `SHOW TABLES` prints an empty set. \r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n    &lt;databaseChangeLog\r\n            xmlns=&quot;http://www.liquibase.org/xml/ns/dbchangelog&quot;\r\n            xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n            xsi:schemaLocation=&quot;http://www.liquibase.org/xml/ns/dbchangelog\r\n             http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd&quot;&gt;\r\n        &lt;include file=&quot;classpath:liquibase/changelogs/init.xml&quot;\r\n                 relativeToChangelogFile=&quot;false&quot;/&gt;\r\n    \r\n        &lt;changeSet id=&quot;1&quot; author=&quot;bob&quot;&gt;\r\n            &lt;createTable tableName=&quot;department&quot;&gt;\r\n                &lt;column name=&quot;id&quot; type=&quot;int&quot;&gt;\r\n                    &lt;constraints primaryKey=&quot;true&quot; nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;name&quot; type=&quot;varchar(50)&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;active&quot; type=&quot;boolean&quot; defaultValueBoolean=&quot;true&quot;/&gt;\r\n            &lt;/createTable&gt;\r\n        &lt;/changeSet&gt;\r\n    \r\n    &lt;/databaseChangeLog&gt;\r\n\r\n  [1]: http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-execute-liquibase-database-migrations-on-startup\r\n\r\n\r\n","title":"Liquibase migration on startup doesnt work using Spring-Boot","body":"<p>Following <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-execute-liquibase-database-migrations-on-startup\" rel=\"noreferrer\">this</a> documentation:</p>\n\n<pre><code>To automatically run Liquibase database migrations on startup, add the org.liquibase:liquibase-core to your classpath.\n\nThe master change log is by default read from db/changelog/db.changelog-master.yaml but can be set using liquibase.change-log. In addition to YAML, Liquibase also supports JSON, XML, and SQL change log formats.\n</code></pre>\n\n<p>I configured my application to use liquibase migrations.\nI added <code>liquibase.change-log</code> property so my whole <code>application.properties</code> file looks like this:</p>\n\n<pre><code>spring.jpa.hibernate.ddl-auto=none\n\nspring.datasource.url=jdbc:mysql://192.168.0.1/db_name\nspring.datasource.username=db_username\nspring.datasource.password=super_secret_secret!123\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n\nspring.datasource.testOnBorrow=true\nspring.datasource.timeBetweenEvictionRunsMillis = 60000\nspring.datasource.validationQuery=SELECT 1\n\nliquibase.change-log=db.changelog-master.xml\n</code></pre>\n\n<p>and here is my <code>pom.xml</code> with <code>liquibase-core</code></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.my.application&lt;/groupId&gt;\n    &lt;artifactId&gt;application-name&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;name&gt;application_name&lt;/name&gt;\n    &lt;description&gt;Best app ever&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.0.0.BUILD-SNAPSHOT&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;!--&lt;scope&gt;provided&lt;/scope&gt;--&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-cas&lt;/artifactId&gt;\n            &lt;version&gt;4.0.3.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;6.0.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n            &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\n            &lt;version&gt;3.4.2&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;name&gt;Spring Snapshots&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;name&gt;Spring Snapshots&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>But unfortunately nothing happens on startup. I believed that this would add the table specified in my <code>db.changelog-master.xml</code> to my database but <code>SHOW TABLES</code> prints an empty set. </p>\n\n\n\n<pre><code>&lt;databaseChangeLog\n        xmlns=\"http://www.liquibase.org/xml/ns/dbchangelog\"\n        xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n        xsi:schemaLocation=\"http://www.liquibase.org/xml/ns/dbchangelog\n         http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd\"&gt;\n    &lt;include file=\"classpath:liquibase/changelogs/init.xml\"\n             relativeToChangelogFile=\"false\"/&gt;\n\n    &lt;changeSet id=\"1\" author=\"bob\"&gt;\n        &lt;createTable tableName=\"department\"&gt;\n            &lt;column name=\"id\" type=\"int\"&gt;\n                &lt;constraints primaryKey=\"true\" nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"name\" type=\"varchar(50)\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"active\" type=\"boolean\" defaultValueBoolean=\"true\"/&gt;\n        &lt;/createTable&gt;\n    &lt;/changeSet&gt;\n\n&lt;/databaseChangeLog&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","kotlin","rabbitmq","spring-cloud-stream"],"owner":{"account_id":201350,"reputation":2144,"user_id":447738,"accept_rate":57,"display_name":"cksrc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671109595,"creation_date":1671109595,"question_id":74812013,"body_markdown":"I have generated Proto classes from Protobuf and I would like to exchange the bytes between two Spring Cloud microservices over RabbitMQ but I wasn&#39;t able to figure out what is the proper way of serializing/deserializing.\r\n     \r\nProducer\r\n\r\n     @Bean\r\n     private fun produce(): Message&lt;ByteArray&gt;? {\r\n        val protoObj = protoObj {\r\n            id = UUID.randomUUID().toString()\r\n            name = &quot;name&quot;\r\n        }\r\n\r\n        return MessageBuilder.withPayload(protoObj.toByteArray())\r\n            .setHeader(&quot;Content-Type&quot;, &quot;application/x-brotobuf&quot;).build()\r\n    }\r\nConsumer\r\n\r\n    @Bean\r\n    fun consume(): Consumer&lt;ByteArray&gt; = Consumer {\r\n        val protoObj = ProtoObj.parseFrom(it)\r\n        logger.info(&quot;Received: {}&quot;, protoObj)\r\n    }\r\n\r\n\r\nException\r\n\r\n```\r\norg.springframework.messaging.MessageHandlingException: error occurred in message handler [org.springframework.cloud.stream.function.FunctionConfiguration$FunctionToDestinationBinder$1@7d801f4c]; nested exception is com.google.protobuf.InvalidProtocolBufferException: While parsing a protocol message, the input ended unexpectedly in the middle of a field.  This could mean either that the input has been truncated or that an embedded message misreported its own length., failedMessage=GenericMessage [payload=byte[32], headers={amqp_receivedDeliveryMode=PERSISTENT, amqp_receivedExchange=my_exchange, amqp_deliveryTag=1, deliveryAttempt=3, amqp_consumerQueue=my_exchange.my_queue, amqp_redelivered=false, amqp_receivedRoutingKey=data.key, amqp_timestamp=Thu Dec 15 14:54:12 EET 2022, amqp_messageId=3abf6bf4-5716-70d7-982e-824248b86119, id=a28f1235-ff3b-7c48-33c3-dac864f49728, amqp_consumerTag=amq.ctag-66oI3hsHrZpWVJQDwaLQ0g, sourceData=(Body:&#39;{&quot;validUtf8&quot;:true,&quot;empty&quot;:false}&#39; MessageProperties [headers={Content-Type=application/x-brotobuf}, timestamp=Thu Dec 15 14:54:12 EET 2022, messageId=3abf6bf4-5716-70d7-982e-824248b86119, contentType=application/json, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=my_exchange, receivedRoutingKey=data.key, deliveryTag=1, consumerTag=amq.ctag-66oI3hsHrZpWVJQDwaLQ0g, consumerQueue=my_queue]), contentType=application/json, Content-Type=application/x-brotobuf, timestamp=1671108941161}]```","title":"What is the correct way of sending Protobuf data using Spring Cloud and RabbitMQ","body":"<p>I have generated Proto classes from Protobuf and I would like to exchange the bytes between two Spring Cloud microservices over RabbitMQ but I wasn't able to figure out what is the proper way of serializing/deserializing.</p>\n<p>Producer</p>\n<pre><code> @Bean\n private fun produce(): Message&lt;ByteArray&gt;? {\n    val protoObj = protoObj {\n        id = UUID.randomUUID().toString()\n        name = &quot;name&quot;\n    }\n\n    return MessageBuilder.withPayload(protoObj.toByteArray())\n        .setHeader(&quot;Content-Type&quot;, &quot;application/x-brotobuf&quot;).build()\n}\n</code></pre>\n<p>Consumer</p>\n<pre><code>@Bean\nfun consume(): Consumer&lt;ByteArray&gt; = Consumer {\n    val protoObj = ProtoObj.parseFrom(it)\n    logger.info(&quot;Received: {}&quot;, protoObj)\n}\n</code></pre>\n<p>Exception</p>\n<pre><code>org.springframework.messaging.MessageHandlingException: error occurred in message handler [org.springframework.cloud.stream.function.FunctionConfiguration$FunctionToDestinationBinder$1@7d801f4c]; nested exception is com.google.protobuf.InvalidProtocolBufferException: While parsing a protocol message, the input ended unexpectedly in the middle of a field.  This could mean either that the input has been truncated or that an embedded message misreported its own length., failedMessage=GenericMessage [payload=byte[32], headers={amqp_receivedDeliveryMode=PERSISTENT, amqp_receivedExchange=my_exchange, amqp_deliveryTag=1, deliveryAttempt=3, amqp_consumerQueue=my_exchange.my_queue, amqp_redelivered=false, amqp_receivedRoutingKey=data.key, amqp_timestamp=Thu Dec 15 14:54:12 EET 2022, amqp_messageId=3abf6bf4-5716-70d7-982e-824248b86119, id=a28f1235-ff3b-7c48-33c3-dac864f49728, amqp_consumerTag=amq.ctag-66oI3hsHrZpWVJQDwaLQ0g, sourceData=(Body:'{&quot;validUtf8&quot;:true,&quot;empty&quot;:false}' MessageProperties [headers={Content-Type=application/x-brotobuf}, timestamp=Thu Dec 15 14:54:12 EET 2022, messageId=3abf6bf4-5716-70d7-982e-824248b86119, contentType=application/json, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=my_exchange, receivedRoutingKey=data.key, deliveryTag=1, consumerTag=amq.ctag-66oI3hsHrZpWVJQDwaLQ0g, consumerQueue=my_queue]), contentType=application/json, Content-Type=application/x-brotobuf, timestamp=1671108941161}]```\n</code></pre>\n"},{"tags":["java","spring-boot","keycloak","idp"],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671109594,"creation_date":1671109594,"answer_id":74812012,"question_id":74808539,"body_markdown":"Your client applications should never have access to users credentials.\r\n\r\nI&#39;d consider things an other way arround (I make assumptions on your setup because you didn&#39;t give much details about it):\r\n- provide Keycloak with a custom theme to match your client application(s) look &amp; feel\r\n- probably change your Spring backend configuration from `client` to `resource-server`. In OAuth2 wording, REST APIs are resource-server, not clients.\r\n- probably switch from 302 (redirect to Spring&#39;s `oauth2Login`) for unauthorized request to 401 (which is the standard HTTP status for unauthorized request)\r\n- probably, in your SPA client(s), use one of [certified OIDC client libs][1] to handle authorization-code flow with PKCE, silent token refreshing before it expires, HTTP interceptor to insert access token, route guards with auto-login,... My favorite for Angular is [angular-auth-oidc-client][2]\r\n\r\nIf I&#39;m right about your REST API being configured with `spring-boot-starter-oauth2-client` and if you don&#39;t know yet how to configure it with `spring-boot-starter-oauth2-resource-server`, you can refer to Spring official doc or to [this tutorials][3] i wrote. \r\n\r\n\r\n  [1]: https://openid.net/developers/certified/\r\n  [2]: https://github.com/damienbod/angular-auth-oidc-client\r\n  [3]: https://github.com/ch4mpy/spring-addons","title":"Keycloak external login page for external IDP","body":"<p>Your client applications should never have access to users credentials.</p>\n<p>I'd consider things an other way arround (I make assumptions on your setup because you didn't give much details about it):</p>\n<ul>\n<li>provide Keycloak with a custom theme to match your client application(s) look &amp; feel</li>\n<li>probably change your Spring backend configuration from <code>client</code> to <code>resource-server</code>. In OAuth2 wording, REST APIs are resource-server, not clients.</li>\n<li>probably switch from 302 (redirect to Spring's <code>oauth2Login</code>) for unauthorized request to 401 (which is the standard HTTP status for unauthorized request)</li>\n<li>probably, in your SPA client(s), use one of <a href=\"https://openid.net/developers/certified/\" rel=\"nofollow noreferrer\">certified OIDC client libs</a> to handle authorization-code flow with PKCE, silent token refreshing before it expires, HTTP interceptor to insert access token, route guards with auto-login,... My favorite for Angular is <a href=\"https://github.com/damienbod/angular-auth-oidc-client\" rel=\"nofollow noreferrer\">angular-auth-oidc-client</a></li>\n</ul>\n<p>If I'm right about your REST API being configured with <code>spring-boot-starter-oauth2-client</code> and if you don't know yet how to configure it with <code>spring-boot-starter-oauth2-resource-server</code>, you can refer to Spring official doc or to <a href=\"https://github.com/ch4mpy/spring-addons\" rel=\"nofollow noreferrer\">this tutorials</a> i wrote.</p>\n"}],"owner":{"account_id":10494409,"reputation":407,"user_id":7735168,"accept_rate":50,"display_name":"Sara Selim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":964,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671109594,"creation_date":1671091906,"question_id":74808539,"body_markdown":"In our spring boot app, we are using keycloak and we configured multiple external IDP. Everything is working successfully on browser based. The login page that is provided by keycloak is showing direct grant option in addition to login with IDPs then if user clicks to login using IDP, he is redirected to IDP&#39;s login page then our keycloak receives the token.\r\n \r\nWhat I want to change in that flow is that instead of showing user login page of keycloak I want to show him login page from my app(my FE) which is dealing with my BE api. My BE would dealing with KC. then If user select to login with IDP I want to get the redirect url from KC to pass it to my FE. Then after getting the token I want to redirect user to my FE immediately. \r\n\r\nIn other words I don&#39;t want users to access KC directly this should be throughout my BE ","title":"Keycloak external login page for external IDP","body":"<p>In our spring boot app, we are using keycloak and we configured multiple external IDP. Everything is working successfully on browser based. The login page that is provided by keycloak is showing direct grant option in addition to login with IDPs then if user clicks to login using IDP, he is redirected to IDP's login page then our keycloak receives the token.</p>\n<p>What I want to change in that flow is that instead of showing user login page of keycloak I want to show him login page from my app(my FE) which is dealing with my BE api. My BE would dealing with KC. then If user select to login with IDP I want to get the redirect url from KC to pass it to my FE. Then after getting the token I want to redirect user to my FE immediately.</p>\n<p>In other words I don't want users to access KC directly this should be throughout my BE</p>\n"},{"tags":["java","timeout","blocking"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1671109795,"post_id":74811977,"comment_id":132030248,"body_markdown":"don&#39;t quite understand what&#39;s the problem .. how is blocking related to timeout? To make it not-blocking, do the reading in a background thread and cancel it on exceeding the timeout.","body":"don&#39;t quite understand what&#39;s the problem .. how is blocking related to timeout? To make it not-blocking, do the reading in a background thread and cancel it on exceeding the timeout."},{"owner":{"account_id":17161130,"reputation":67,"user_id":12420753,"display_name":"itzik"},"score":0,"creation_date":1671109952,"post_id":74811977,"comment_id":132030306,"body_markdown":"output.readLine() may take several min but i want to spot it if it pass certain time for example 30 sec , but because its blocking it always wait for it to complete","body":"output.readLine() may take several min but i want to spot it if it pass certain time for example 30 sec , but because its blocking it always wait for it to complete"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1671110034,"post_id":74811977,"comment_id":132030344,"body_markdown":"ahh .. I see, thanks for the clarification - though: why can a single line read take minutes? Broken connection, file disruption, ..?","body":"ahh .. I see, thanks for the clarification - though: why can a single line read take minutes? Broken connection, file disruption, ..?"},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1671110105,"post_id":74811977,"comment_id":132030370,"body_markdown":"What is the underlying i/o - socket?","body":"What is the underlying i/o - socket?"},{"owner":{"account_id":17161130,"reputation":67,"user_id":12420753,"display_name":"itzik"},"score":0,"creation_date":1671110150,"post_id":74811977,"comment_id":132030389,"body_markdown":"no its process , i saw to socket solution but i cant use socket","body":"no its process , i saw to socket solution but i cant use socket"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1671111074,"post_id":74811977,"comment_id":132030719,"body_markdown":"did you see https://stackoverflow.com/questions/72510274/terminate-a-stream-when-there-is-no-incoming-data-after-certain-timeout - maybe it has a grain of a solution for context also :)","body":"did you see <a href=\"https://stackoverflow.com/questions/72510274/terminate-a-stream-when-there-is-no-incoming-data-after-certain-timeout\" title=\"terminate a stream when there is no incoming data after certain timeout\">stackoverflow.com/questions/72510274/&hellip;</a> - maybe it has a grain of a solution for context also :)"},{"owner":{"account_id":17161130,"reputation":67,"user_id":12420753,"display_name":"itzik"},"score":0,"creation_date":1671353855,"post_id":74811977,"comment_id":132078166,"body_markdown":"@kleopatra for example if the user input sleep 100000 then its waiting for that time , my impl is for executing unix command","body":"@kleopatra for example if the user input sleep 100000 then its waiting for that time , my impl is for executing unix command"}],"owner":{"account_id":17161130,"reputation":67,"user_id":12420753,"display_name":"itzik"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671109402,"creation_date":1671109402,"question_id":74811977,"body_markdown":"I have a process which do read() that is blocking and I want to add timeout that interrupt the read operation.\r\nthis is what I tried to do but the timeout happened only after read is finished\r\n```private List&lt;String&gt; readOutput(InputStream inputStream , Long timeout , TimeUnit timeUnit) throws IOException {\r\n\t\tlong startTime = System.currentTimeMillis();\r\n\t\tlong theRealTimeOfProcess , endTime ,timeOutMillis;\r\n\t\tString line;\r\n\t\tList&lt;String&gt; result = new ArrayList&lt;&gt;();\r\n\t\ttry (BufferedReader output = new BufferedReader(new InputStreamReader(inputStream))) {\r\n\t\t\tif (Objects.isNull(timeUnit) || Objects.isNull(timeout)) {\r\n\t\t\t\treturn output.lines().collect(Collectors.toList());\r\n\t\t\t}\r\n\t\t\ttimeOutMillis = timeUnit.toMillis(timeout);\r\n\t\t\twhile (true) {\r\n\t\t\t\tline = output.readLine();\r\n\t\t\t\tendTime = System.currentTimeMillis();\r\n\t\t\t\ttheRealTimeOfProcess = endTime - startTime;\r\n\t\t\t\tif (timeOutMillis &lt;= theRealTimeOfProcess) {\r\n\t\t\t\t\tthrow new ShellTaskExecutionException(String.format(&quot;Task reached timeout %s %s&quot;, timeout, timeUnit));\r\n\t\t\t\t}\r\n\t\t\t\tif (Objects.isNull(line)) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tresult.add(line);\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t}\r\n\t}\r\n```","title":"add timeout for blocking read() in process","body":"<p>I have a process which do read() that is blocking and I want to add timeout that interrupt the read operation.\nthis is what I tried to do but the timeout happened only after read is finished</p>\n<pre><code>        long startTime = System.currentTimeMillis();\n        long theRealTimeOfProcess , endTime ,timeOutMillis;\n        String line;\n        List&lt;String&gt; result = new ArrayList&lt;&gt;();\n        try (BufferedReader output = new BufferedReader(new InputStreamReader(inputStream))) {\n            if (Objects.isNull(timeUnit) || Objects.isNull(timeout)) {\n                return output.lines().collect(Collectors.toList());\n            }\n            timeOutMillis = timeUnit.toMillis(timeout);\n            while (true) {\n                line = output.readLine();\n                endTime = System.currentTimeMillis();\n                theRealTimeOfProcess = endTime - startTime;\n                if (timeOutMillis &lt;= theRealTimeOfProcess) {\n                    throw new ShellTaskExecutionException(String.format(&quot;Task reached timeout %s %s&quot;, timeout, timeUnit));\n                }\n                if (Objects.isNull(line)) {\n                    break;\n                }\n                result.add(line);\n            }\n            return result;\n        }\n    }\n</code></pre>\n"},{"tags":["java","android","speech-recognition","text-to-speech"],"answers":[{"tags":[],"owner":{"account_id":13771620,"reputation":18,"user_id":9938918,"display_name":"qeva zessica"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1586934833,"creation_date":1586934833,"answer_id":61223249,"question_id":61222354,"body_markdown":"Sharing data via Application class, or, you can save your data into a Bundle and \r\ncall\r\n```\r\nBundle b = new Bundle();\r\n       b.putExtra(&quot;data&quot;, {your data collection}); \r\nintent.putExtra(&quot;b&quot;, b);\r\nstartActivity(intent);\r\n``` \r\nthus you can retrieve you data back at here\r\n```\r\nprotected void onCreate(Bundle b) {\r\n    Intent dataIntent = getIntent();\r\n    if (dataIntent != null) {\r\n        Bundle b = dataIntent.getExtra(&quot;b&quot;);\r\n        //...\r\n    }\r\n}\r\n```\r\n\r\nhope this could give some help","title":"Sending Android speech recognition text to another activity","body":"<p>Sharing data via Application class, or, you can save your data into a Bundle and \ncall</p>\n\n<pre><code>Bundle b = new Bundle();\n       b.putExtra(\"data\", {your data collection}); \nintent.putExtra(\"b\", b);\nstartActivity(intent);\n</code></pre>\n\n<p>thus you can retrieve you data back at here</p>\n\n<pre><code>protected void onCreate(Bundle b) {\n    Intent dataIntent = getIntent();\n    if (dataIntent != null) {\n        Bundle b = dataIntent.getExtra(\"b\");\n        //...\n    }\n}\n</code></pre>\n\n<p>hope this could give some help</p>\n"}],"owner":{"account_id":16033187,"reputation":35,"user_id":11571537,"display_name":"onibaku"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":61223249,"answer_count":1,"score":0,"last_activity_date":1671109133,"creation_date":1586930976,"question_id":61222354,"body_markdown":"I&#39;m currently try to use speech recognition in my android app. Essentially, I have a main activity, a loading activity, and a text display activity. When the button in main activity is pressed the microphone is turned on and then it transitions to the loading activity where it shows a gif with bouncing dots indicated that you&#39;re speaking into the microphone. After a certain amount of silence it sends the text to the test display activity. Right now I set it up where my main activity has a button that when pressed will send you to the loading screen. I&#39;m assuming my code to activate speech recognition will go in main activity, but I&#39;m unsure how to send the collected data to my text display activity. If anything is unclear please let me know. My code for my activities are given below.\r\n\r\n\r\n\r\nMain activity\r\n```\r\npackage app.test;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.ImageButton;\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        getSupportActionBar().hide();\r\n\r\n        ImageButton button = (ImageButton) findViewById(R.id.imageButton2);\r\n        button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                    openLoading();\r\n            }\r\n        });\r\n    }\r\n\r\n    public void openLoading(){\r\n        Intent intent = new Intent(this, Loading.class);\r\n        startActivity(intent);\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\n\r\nLoading activity\r\n```\r\npackage app.test;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.speech.RecognizerIntent;\r\nimport android.view.View;\r\nimport android.widget.ImageView;\r\nimport android.widget.Toast;\r\n\r\nimport com.bumptech.glide.Glide;\r\n\r\nimport java.util.Locale;\r\n\r\npublic class Loading extends AppCompatActivity {\r\nprivate ImageView gifImageView;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_loading);\r\n        getSupportActionBar().hide();\r\n\r\n        gifImageView=findViewById(R.id.imageView2);\r\n\r\n        Glide.with(Loading.this)\r\n                .load(R.drawable.loading)\r\n                .into(gifImageView);\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\ntext display activity\r\n```\r\npackage app.test;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\nimport android.widget.TextView;\r\n\r\nimport org.w3c.dom.Text;\r\n\r\npublic class Tweet extends AppCompatActivity {\r\n    private TextView txtResult;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_tweet);\r\n        txtResult = (TextView) findViewById(R.id.textView);\r\n    }\r\n\r\n}\r\n```","title":"Sending Android speech recognition text to another activity","body":"<p>I'm currently try to use speech recognition in my android app. Essentially, I have a main activity, a loading activity, and a text display activity. When the button in main activity is pressed the microphone is turned on and then it transitions to the loading activity where it shows a gif with bouncing dots indicated that you're speaking into the microphone. After a certain amount of silence it sends the text to the test display activity. Right now I set it up where my main activity has a button that when pressed will send you to the loading screen. I'm assuming my code to activate speech recognition will go in main activity, but I'm unsure how to send the collected data to my text display activity. If anything is unclear please let me know. My code for my activities are given below.</p>\n\n<p>Main activity</p>\n\n<pre><code>package app.test;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.ImageButton;\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        getSupportActionBar().hide();\n\n        ImageButton button = (ImageButton) findViewById(R.id.imageButton2);\n        button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                    openLoading();\n            }\n        });\n    }\n\n    public void openLoading(){\n        Intent intent = new Intent(this, Loading.class);\n        startActivity(intent);\n    }\n\n\n}\n\n</code></pre>\n\n<p>Loading activity</p>\n\n<pre><code>package app.test;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.speech.RecognizerIntent;\nimport android.view.View;\nimport android.widget.ImageView;\nimport android.widget.Toast;\n\nimport com.bumptech.glide.Glide;\n\nimport java.util.Locale;\n\npublic class Loading extends AppCompatActivity {\nprivate ImageView gifImageView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_loading);\n        getSupportActionBar().hide();\n\n        gifImageView=findViewById(R.id.imageView2);\n\n        Glide.with(Loading.this)\n                .load(R.drawable.loading)\n                .into(gifImageView);\n    }\n\n    @Override\n    public void onBackPressed() {\n\n    }\n}\n\n</code></pre>\n\n<p>text display activity</p>\n\n<pre><code>package app.test;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.widget.TextView;\n\nimport org.w3c.dom.Text;\n\npublic class Tweet extends AppCompatActivity {\n    private TextView txtResult;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_tweet);\n        txtResult = (TextView) findViewById(R.id.textView);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","eclipse","maven","tycho"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1671115670,"post_id":74811882,"comment_id":132032580,"body_markdown":"When using Tycho, dependencies are resolved by Tycho, not directly by Maven since Maven does not understand p2. The `maven-dependency-plugin` is for Maven dependencies, not for p2. It also does not make sense for Tycho, since you can get a p2 repository with all the JARs. Maybe [ecentral](https://github.com/jmini/ecentral) is what you want when you want to use the `maven-dependency-plugin`.","body":"When using Tycho, dependencies are resolved by Tycho, not directly by Maven since Maven does not understand p2. The <code>maven-dependency-plugin</code> is for Maven dependencies, not for p2. It also does not make sense for Tycho, since you can get a p2 repository with all the JARs. Maybe <a href=\"https://github.com/jmini/ecentral\" rel=\"nofollow noreferrer\">ecentral</a> is what you want when you want to use the <code>maven-dependency-plugin</code>."}],"owner":{"account_id":6642,"reputation":13384,"user_id":11249,"accept_rate":51,"display_name":"paul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671108918,"creation_date":1671108918,"question_id":74811882,"body_markdown":"I want to add JARs to a plugin. Previously, I added them by hand but thought it would be a good idea to add them via dependency definitions.\r\n\r\nI created a `pom.xml` in the bundle and added an execution:\r\n\r\n```\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.4.0&lt;/version&gt;\r\n\t&lt;executions&gt;\r\n\t\t&lt;execution&gt;\r\n\t\t\t&lt;id&gt;copy-dependencies&lt;/id&gt;\r\n\t\t\t&lt;phase&gt;process-sources&lt;/phase&gt;\r\n\t\t\t&lt;goals&gt;\r\n\t\t\t\t&lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n\t\t\t&lt;/goals&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;outputDirectory&gt;${project.basedir}/lib&lt;/outputDirectory&gt;\r\n\t\t\t\t&lt;overWriteIfNewer&gt;true&lt;/overWriteIfNewer&gt;\t\t\t\t\t\t\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t&lt;/execution&gt;\r\n\t&lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nAs soon as I save the file the dependency JARs are all copied to the `lib` folder. So far so good...\r\n\r\nWhen I start a tycho build, such as `mvn install`, the build succeeds but the `lib` folder now contains a new folder `lib/myplugin-1.0.0.qualifier-lib` and this folder contains copies of all the JARs in `lib` but they all have the extension `.jar.jar`.\r\n\r\nIf I remove the `copy-dependencies` execution before starting the tycho build then this folder is not created.\r\n\r\nCan anyone explain why this is happening and what I should do to avoid this behaviour?","title":"why is &#39;dependency:copy-dependencies&#39; executed unexpectedly during tycho build?","body":"<p>I want to add JARs to a plugin. Previously, I added them by hand but thought it would be a good idea to add them via dependency definitions.</p>\n<p>I created a <code>pom.xml</code> in the bundle and added an execution:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.4.0&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;copy-dependencies&lt;/id&gt;\n            &lt;phase&gt;process-sources&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;outputDirectory&gt;${project.basedir}/lib&lt;/outputDirectory&gt;\n                &lt;overWriteIfNewer&gt;true&lt;/overWriteIfNewer&gt;                       \n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>As soon as I save the file the dependency JARs are all copied to the <code>lib</code> folder. So far so good...</p>\n<p>When I start a tycho build, such as <code>mvn install</code>, the build succeeds but the <code>lib</code> folder now contains a new folder <code>lib/myplugin-1.0.0.qualifier-lib</code> and this folder contains copies of all the JARs in <code>lib</code> but they all have the extension <code>.jar.jar</code>.</p>\n<p>If I remove the <code>copy-dependencies</code> execution before starting the tycho build then this folder is not created.</p>\n<p>Can anyone explain why this is happening and what I should do to avoid this behaviour?</p>\n"},{"tags":["java","jaxb","jax-ws","xstream","xml-binding"],"owner":{"account_id":12848901,"reputation":621,"user_id":9294422,"accept_rate":0,"display_name":"Jaraws"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671108773,"creation_date":1671023304,"question_id":74798779,"body_markdown":"I have got an legacy application using Xstream for serialization/de-serialization of Java classes having property declared with interface type as shown in sample below:\r\n\r\n    interface Address{\r\n    // ...\r\n    }\r\n    class CurrentAddress implements Address{\r\n    // ...\r\n    }\r\n    \r\n    class PermanentAddress implements Address{\r\n    // ....\r\n    }\r\n    \r\n    @XmlRootElement\r\n    class Student{\r\n    \r\n     private Address address;\r\n    \r\n     @XmlElement(type = Object.class)\r\n     public getAddress(){\r\n      // ...\r\n     }\r\n    }\r\n\r\nWhile Xstream was getting used the xml was generated as:\r\n\r\n    &lt;student&gt;\r\n     &lt;address class=&quot;package.for.CurrentAddress&quot;&gt;24, North Avenue&lt;/address&gt;\r\n    &lt;/student&gt;\r\n\r\nHowever, with above Java JaxB code our xml is generated as:\r\n\r\n    &lt;student&gt;\r\n         &lt;address xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:type=&quot;currentAddress&quot;&gt;24, North Avenue&lt;/address&gt;\r\n        &lt;/student&gt;\r\n\r\nHow can I get an xml equivalent to what is being generated through XStream. I tried multiple ways but not getting a way of generating xml as generated using XStream.\r\n\r\nThank you !\r\n","title":"How to remove xsi:type information form an XML element generated via JaxB?","body":"<p>I have got an legacy application using Xstream for serialization/de-serialization of Java classes having property declared with interface type as shown in sample below:</p>\n<pre><code>interface Address{\n// ...\n}\nclass CurrentAddress implements Address{\n// ...\n}\n\nclass PermanentAddress implements Address{\n// ....\n}\n\n@XmlRootElement\nclass Student{\n\n private Address address;\n\n @XmlElement(type = Object.class)\n public getAddress(){\n  // ...\n }\n}\n</code></pre>\n<p>While Xstream was getting used the xml was generated as:</p>\n<pre><code>&lt;student&gt;\n &lt;address class=&quot;package.for.CurrentAddress&quot;&gt;24, North Avenue&lt;/address&gt;\n&lt;/student&gt;\n</code></pre>\n<p>However, with above Java JaxB code our xml is generated as:</p>\n<pre><code>&lt;student&gt;\n     &lt;address xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:type=&quot;currentAddress&quot;&gt;24, North Avenue&lt;/address&gt;\n    &lt;/student&gt;\n</code></pre>\n<p>How can I get an xml equivalent to what is being generated through XStream. I tried multiple ways but not getting a way of generating xml as generated using XStream.</p>\n<p>Thank you !</p>\n"},{"tags":["java","android","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":5783150,"reputation":158,"user_id":5340734,"display_name":"Umang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671108299,"creation_date":1671107692,"answer_id":74811612,"question_id":74811463,"body_markdown":"You are setting an adapter every time you add the item to the list. Whenever you are adding a new item to the list, you&#39;ve to use `adapter.notifyItemInserted(position)`","title":"Can&#39;t make the button add a new item on the RecyclerList, only works once","body":"<p>You are setting an adapter every time you add the item to the list. Whenever you are adding a new item to the list, you've to use <code>adapter.notifyItemInserted(position)</code></p>\n"},{"tags":[],"owner":{"account_id":16668225,"reputation":187,"user_id":12046379,"display_name":"Sadakat Hussain Fahad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671108754,"creation_date":1671108754,"answer_id":74811845,"question_id":74811463,"body_markdown":"Here&#39;s the activiy\r\n\r\n\r\n    public class PantallaLista extends AppCompatActivity {\r\n\r\n    ArrayList&lt;ComponentesLista&gt; componentesLista;\r\n    RecyclerView recyclerLista;\r\n    AdaptadorLista adapter;\r\n    \r\n    //int cont = 0;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_lista);\r\n\r\n        // Seccion ArrayList Lista\r\n\r\n        componentesLista=new ArrayList&lt;&gt;();\r\n\r\n        recyclerLista= (RecyclerView) findViewById(R.id.recyclerViewLista);\r\n        recyclerLista.setLayoutManager(new LinearLayoutManager(this));\r\n\r\n        adapter = new AdaptadorLista(componentesLista);\r\n        recyclerLista.setAdapter(adapter);\r\n        \r\n        // Botones\r\n\r\n        Button nuevo = (Button) findViewById(R.id.nuevoButton);\r\n        \r\n        nuevo.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                llenarLista();\r\n            }\r\n        });\r\n        \r\n        Button guardarVolver = (Button) findViewById(R.id.terminarButton);\r\n\r\n        guardarVolver.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(PantallaLista.this, MainActivity.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n    }\r\n\r\n    private void llenarLista () {\r\n\r\n        EditText textoGetDescripcion = (EditText) findViewById(R.id.textInputProducto);\r\n        EditText textoGetCantidad = (EditText) findViewById(R.id.textInputCantidad);\r\n        EditText textoGetPrecio = (EditText) findViewById(R.id.textInputPrecio);\r\n\r\n        ComponentesLista tempData = new ComponentesLista(textoGetDescripcion.getText().toString(), textoGetPrecio.getText().toString(), textoGetCantidad.getText().toString())\r\n        adapter.addNewItems(tempData);\r\n     \r\n    }\r\n\r\n}\r\n\r\n\r\n\r\nheres the adapter\r\n\r\n    public class AdaptadorLista extends RecyclerView.Adapter&lt;AdaptadorLista.ViewHolderLista&gt; {\r\n\r\n    ArrayList&lt;ComponentesLista&gt; listaComponentes;\r\n\r\n    public AdaptadorLista(ArrayList&lt;ComponentesLista&gt; listaComponentes) {\r\n        this.listaComponentes = listaComponentes;\r\n    }\r\n\r\n    public addNewItems(ComponentesLista tempComponent){\r\n        this.listaComponentes.add(tempComponent);\r\n        notifyDataSetChanged();\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ViewHolderLista onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_list_lista, parent, false);\r\n        return new ViewHolderLista(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(ViewHolderLista holder, int position) {\r\n\r\n        holder.textViewDescripcion.setText(String.valueOf(listaComponentes.get(position).getDescripcion()));\r\n        holder.textViewDinero.setText(String.valueOf(listaComponentes.get(position).getDinero()));\r\n        holder.textViewCantidad.setText(String.valueOf(listaComponentes.get(position).getCantidad()));\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return listaComponentes.size();\r\n    }\r\n\r\n    public class ViewHolderLista extends RecyclerView.ViewHolder {\r\n\r\n        private TextView textViewCantidad, textViewDescripcion, textViewDinero;\r\n\r\n        public ViewHolderLista(@NonNull View itemView) {\r\n            super(itemView);\r\n            textViewCantidad= (TextView) itemView.findViewById(R.id.textMuestraCantidad);\r\n            textViewDescripcion = (TextView) itemView.findViewById(R.id.textMuestraDescripcion);\r\n            textViewDinero = (TextView) itemView.findViewById(R.id.textMuestraPrecio);\r\n        }\r\n    }\r\n}\r\n\r\nplease tell if you are not understanding something.","title":"Can&#39;t make the button add a new item on the RecyclerList, only works once","body":"<p>Here's the activiy</p>\n<pre><code>public class PantallaLista extends AppCompatActivity {\n\nArrayList&lt;ComponentesLista&gt; componentesLista;\nRecyclerView recyclerLista;\nAdaptadorLista adapter;\n\n//int cont = 0;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_lista);\n\n    // Seccion ArrayList Lista\n\n    componentesLista=new ArrayList&lt;&gt;();\n\n    recyclerLista= (RecyclerView) findViewById(R.id.recyclerViewLista);\n    recyclerLista.setLayoutManager(new LinearLayoutManager(this));\n\n    adapter = new AdaptadorLista(componentesLista);\n    recyclerLista.setAdapter(adapter);\n    \n    // Botones\n\n    Button nuevo = (Button) findViewById(R.id.nuevoButton);\n    \n    nuevo.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            llenarLista();\n        }\n    });\n    \n    Button guardarVolver = (Button) findViewById(R.id.terminarButton);\n\n    guardarVolver.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            Intent intent = new Intent(PantallaLista.this, MainActivity.class);\n            startActivity(intent);\n        }\n    });\n}\n\nprivate void llenarLista () {\n\n    EditText textoGetDescripcion = (EditText) findViewById(R.id.textInputProducto);\n    EditText textoGetCantidad = (EditText) findViewById(R.id.textInputCantidad);\n    EditText textoGetPrecio = (EditText) findViewById(R.id.textInputPrecio);\n\n    ComponentesLista tempData = new ComponentesLista(textoGetDescripcion.getText().toString(), textoGetPrecio.getText().toString(), textoGetCantidad.getText().toString())\n    adapter.addNewItems(tempData);\n \n}\n</code></pre>\n<p>}</p>\n<p>heres the adapter</p>\n<pre><code>public class AdaptadorLista extends RecyclerView.Adapter&lt;AdaptadorLista.ViewHolderLista&gt; {\n\nArrayList&lt;ComponentesLista&gt; listaComponentes;\n\npublic AdaptadorLista(ArrayList&lt;ComponentesLista&gt; listaComponentes) {\n    this.listaComponentes = listaComponentes;\n}\n\npublic addNewItems(ComponentesLista tempComponent){\n    this.listaComponentes.add(tempComponent);\n    notifyDataSetChanged();\n}\n\n@NonNull\n@Override\npublic ViewHolderLista onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n    View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_list_lista, parent, false);\n    return new ViewHolderLista(view);\n}\n\n@Override\npublic void onBindViewHolder(ViewHolderLista holder, int position) {\n\n    holder.textViewDescripcion.setText(String.valueOf(listaComponentes.get(position).getDescripcion()));\n    holder.textViewDinero.setText(String.valueOf(listaComponentes.get(position).getDinero()));\n    holder.textViewCantidad.setText(String.valueOf(listaComponentes.get(position).getCantidad()));\n}\n\n@Override\npublic int getItemCount() {\n    return listaComponentes.size();\n}\n\npublic class ViewHolderLista extends RecyclerView.ViewHolder {\n\n    private TextView textViewCantidad, textViewDescripcion, textViewDinero;\n\n    public ViewHolderLista(@NonNull View itemView) {\n        super(itemView);\n        textViewCantidad= (TextView) itemView.findViewById(R.id.textMuestraCantidad);\n        textViewDescripcion = (TextView) itemView.findViewById(R.id.textMuestraDescripcion);\n        textViewDinero = (TextView) itemView.findViewById(R.id.textMuestraPrecio);\n    }\n}\n</code></pre>\n<p>}</p>\n<p>please tell if you are not understanding something.</p>\n"}],"owner":{"account_id":27261476,"reputation":1,"user_id":20784244,"display_name":"Ka-BoomMan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1671108754,"creation_date":1671107000,"question_id":74811463,"body_markdown":"Been working on this code for a while and as im new to recyclerList I can&#39;t seem to figure out why the button works only once.\r\n\r\nHere is the adapter:\r\n\r\n\r\n```\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class AdaptadorLista extends RecyclerView.Adapter&lt;AdaptadorLista.ViewHolderLista&gt; {\r\n\r\n    ArrayList&lt;ComponentesLista&gt; listaComponentes;\r\n\r\n    public AdaptadorLista(ArrayList&lt;ComponentesLista&gt; listaComponentes) {\r\n        this.listaComponentes = listaComponentes;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ViewHolderLista onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_list_lista, parent, false);\r\n        return new ViewHolderLista(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(ViewHolderLista holder, int position) {\r\n\r\n        holder.textViewDescripcion.setText(String.valueOf(listaComponentes.get(position).getDescripcion()));\r\n        holder.textViewDinero.setText(String.valueOf(listaComponentes.get(position).getDinero()));\r\n        holder.textViewCantidad.setText(String.valueOf(listaComponentes.get(position).getCantidad()));\r\n\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return listaComponentes.size();\r\n    }\r\n\r\n    public class ViewHolderLista extends RecyclerView.ViewHolder {\r\n\r\n        private TextView textViewCantidad, textViewDescripcion, textViewDinero;\r\n\r\n        public ViewHolderLista(@NonNull View itemView) {\r\n            super(itemView);\r\n            textViewCantidad= (TextView) itemView.findViewById(R.id.textMuestraCantidad);\r\n            textViewDescripcion = (TextView) itemView.findViewById(R.id.textMuestraDescripcion);\r\n            textViewDinero = (TextView) itemView.findViewById(R.id.textMuestraPrecio);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nHere is the object it works with:\r\n\r\n\r\n```\r\npublic class ComponentesLista {\r\n    private String descripcion;\r\n    private String cantidad;\r\n    private String dinero;\r\n\r\n    public ComponentesLista() {\r\n\r\n    }\r\n\r\n    public ComponentesLista(String descripcion, String cantidad, String dinero) {\r\n        this.descripcion = descripcion;\r\n        this.cantidad = cantidad;\r\n        this.dinero = dinero;\r\n    }\r\n\r\n    public String getDescripcion() {\r\n        return descripcion;\r\n    }\r\n\r\n    public void setDescripcion(String descripcion) {\r\n        this.descripcion = descripcion;\r\n    }\r\n\r\n    public String getCantidad() {\r\n        return cantidad;\r\n    }\r\n\r\n    public void setCantidad(String cantidad) {\r\n        this.cantidad = cantidad;\r\n    }\r\n\r\n    public String getDinero() {\r\n        return dinero;\r\n    }\r\n\r\n    public void setDinero(String dinero) {\r\n        this.dinero = dinero;\r\n    }\r\n}\r\n```\r\n\r\n\r\nAnd here is the main method (It&#39;s not the main method, it&#39;s another screen I use after a button press but it shouldn&#39;t be the issue right?)\r\n\r\n\r\n```\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class PantallaLista extends AppCompatActivity {\r\n\r\n    ArrayList&lt;ComponentesLista&gt; componentesLista;\r\n    RecyclerView recyclerLista;\r\n    \r\n    //int cont = 0;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_lista);\r\n\r\n        // Seccion ArrayList Lista\r\n\r\n        componentesLista=new ArrayList&lt;&gt;();\r\n\r\n        recyclerLista= (RecyclerView) findViewById(R.id.recyclerViewLista);\r\n        recyclerLista.setLayoutManager(new LinearLayoutManager(this));\r\n\r\n        \r\n        // Botones\r\n\r\n        Button nuevo = (Button) findViewById(R.id.nuevoButton);\r\n        \r\n        nuevo.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                llenarLista();\r\n            }\r\n        });\r\n        \r\n        Button guardarVolver = (Button) findViewById(R.id.terminarButton);\r\n\r\n        guardarVolver.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(PantallaLista.this, MainActivity.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n    }\r\n\r\n    private void llenarLista () {\r\n\r\n        EditText textoGetDescripcion = (EditText) findViewById(R.id.textInputProducto);\r\n        EditText textoGetCantidad = (EditText) findViewById(R.id.textInputCantidad);\r\n        EditText textoGetPrecio = (EditText) findViewById(R.id.textInputPrecio);\r\n\r\n\r\n        componentesLista.add(new ComponentesLista(textoGetDescripcion.getText().toString(), textoGetPrecio.getText().toString(), textoGetCantidad.getText().toString()));\r\n\r\n        AdaptadorLista adapter = new AdaptadorLista(componentesLista);\r\n\r\n        recyclerLista.setAdapter(adapter);\r\n        \r\n        //System.out.println(textoGetDescripcion.getText().toString() + textoGetPrecio.getText().toString() + textoGetPrecio.getText().toString());\r\n    }\r\n\r\n}\r\n```\r\n","title":"Can&#39;t make the button add a new item on the RecyclerList, only works once","body":"<p>Been working on this code for a while and as im new to recyclerList I can't seem to figure out why the button works only once.</p>\n<p>Here is the adapter:</p>\n<pre><code>\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.ArrayList;\n\npublic class AdaptadorLista extends RecyclerView.Adapter&lt;AdaptadorLista.ViewHolderLista&gt; {\n\n    ArrayList&lt;ComponentesLista&gt; listaComponentes;\n\n    public AdaptadorLista(ArrayList&lt;ComponentesLista&gt; listaComponentes) {\n        this.listaComponentes = listaComponentes;\n    }\n\n    @NonNull\n    @Override\n    public ViewHolderLista onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_list_lista, parent, false);\n        return new ViewHolderLista(view);\n    }\n\n    @Override\n    public void onBindViewHolder(ViewHolderLista holder, int position) {\n\n        holder.textViewDescripcion.setText(String.valueOf(listaComponentes.get(position).getDescripcion()));\n        holder.textViewDinero.setText(String.valueOf(listaComponentes.get(position).getDinero()));\n        holder.textViewCantidad.setText(String.valueOf(listaComponentes.get(position).getCantidad()));\n\n\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return listaComponentes.size();\n    }\n\n    public class ViewHolderLista extends RecyclerView.ViewHolder {\n\n        private TextView textViewCantidad, textViewDescripcion, textViewDinero;\n\n        public ViewHolderLista(@NonNull View itemView) {\n            super(itemView);\n            textViewCantidad= (TextView) itemView.findViewById(R.id.textMuestraCantidad);\n            textViewDescripcion = (TextView) itemView.findViewById(R.id.textMuestraDescripcion);\n            textViewDinero = (TextView) itemView.findViewById(R.id.textMuestraPrecio);\n        }\n    }\n}\n\n</code></pre>\n<p>Here is the object it works with:</p>\n<pre><code>public class ComponentesLista {\n    private String descripcion;\n    private String cantidad;\n    private String dinero;\n\n    public ComponentesLista() {\n\n    }\n\n    public ComponentesLista(String descripcion, String cantidad, String dinero) {\n        this.descripcion = descripcion;\n        this.cantidad = cantidad;\n        this.dinero = dinero;\n    }\n\n    public String getDescripcion() {\n        return descripcion;\n    }\n\n    public void setDescripcion(String descripcion) {\n        this.descripcion = descripcion;\n    }\n\n    public String getCantidad() {\n        return cantidad;\n    }\n\n    public void setCantidad(String cantidad) {\n        this.cantidad = cantidad;\n    }\n\n    public String getDinero() {\n        return dinero;\n    }\n\n    public void setDinero(String dinero) {\n        this.dinero = dinero;\n    }\n}\n</code></pre>\n<p>And here is the main method (It's not the main method, it's another screen I use after a button press but it shouldn't be the issue right?)</p>\n<pre><code>import android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.ArrayList;\n\npublic class PantallaLista extends AppCompatActivity {\n\n    ArrayList&lt;ComponentesLista&gt; componentesLista;\n    RecyclerView recyclerLista;\n    \n    //int cont = 0;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_lista);\n\n        // Seccion ArrayList Lista\n\n        componentesLista=new ArrayList&lt;&gt;();\n\n        recyclerLista= (RecyclerView) findViewById(R.id.recyclerViewLista);\n        recyclerLista.setLayoutManager(new LinearLayoutManager(this));\n\n        \n        // Botones\n\n        Button nuevo = (Button) findViewById(R.id.nuevoButton);\n        \n        nuevo.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                llenarLista();\n            }\n        });\n        \n        Button guardarVolver = (Button) findViewById(R.id.terminarButton);\n\n        guardarVolver.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent(PantallaLista.this, MainActivity.class);\n                startActivity(intent);\n            }\n        });\n    }\n\n    private void llenarLista () {\n\n        EditText textoGetDescripcion = (EditText) findViewById(R.id.textInputProducto);\n        EditText textoGetCantidad = (EditText) findViewById(R.id.textInputCantidad);\n        EditText textoGetPrecio = (EditText) findViewById(R.id.textInputPrecio);\n\n\n        componentesLista.add(new ComponentesLista(textoGetDescripcion.getText().toString(), textoGetPrecio.getText().toString(), textoGetCantidad.getText().toString()));\n\n        AdaptadorLista adapter = new AdaptadorLista(componentesLista);\n\n        recyclerLista.setAdapter(adapter);\n        \n        //System.out.println(textoGetDescripcion.getText().toString() + textoGetPrecio.getText().toString() + textoGetPrecio.getText().toString());\n    }\n\n}\n</code></pre>\n"},{"tags":["java","asynchronous","java-8","completable-future"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1671050625,"post_id":74799047,"comment_id":132016551,"body_markdown":"Not that I know of, but you can simulate them using the inherited [Future.get(long, TimeUnit)](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/Future.html#get(long,java.util.concurrent.TimeUnit)) method.","body":"Not that I know of, but you can simulate them using the inherited <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/Future.html#get(long,java.util.concurrent.TimeUnit)\" rel=\"nofollow noreferrer\">Future.get(long, TimeUnit)</a> method."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1671109088,"post_id":74799047,"comment_id":132029994,"body_markdown":"@VGR the `get` method forces the caller to *wait* up to the specified time for the completion. In contrast, the methods mentioned in the question will *complete the future* with the alternative result (value or `TimeoutException`) after the elapsed time, *without actually waiting*. In other words, these methods do entirely different things.","body":"@VGR the <code>get</code> method forces the caller to <i>wait</i> up to the specified time for the completion. In contrast, the methods mentioned in the question will <i>complete the future</i> with the alternative result (value or <code>TimeoutException</code>) after the elapsed time, <i>without actually waiting</i>. In other words, these methods do entirely different things."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1671113192,"post_id":74799047,"comment_id":132031624,"body_markdown":"@Holger Correct.  It’s not a drop-in replacement, but you can use it to write your own equivalent of the Java 9+ timeout methods.","body":"@Holger Correct.  It’s not a drop-in replacement, but you can use it to write your own equivalent of the Java 9+ timeout methods."}],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671057893,"creation_date":1671057893,"answer_id":74804962,"question_id":74799047,"body_markdown":"You can use `ExecutorService` and then `Future#get(long, TimeUnit)`. They are available as of Java 1.5 (the 5th version) if I am not mistaken.\r\n\r\n```java\r\nfinal ExecutorService executorService = Executors.newSingleThreadExecutor();\r\nfinal Future&lt;String&gt; future = executorService.submit(() -&gt; {\r\n\tThread.sleep(1000L);\r\n\treturn &quot;Success&quot;;\r\n});\r\n\r\ntry {\r\n\tfinal String result = future.get(1500L, TimeUnit.MILLISECONDS);\r\n\tSystem.out.println(result);\r\n} catch (InterruptedException | ExecutionException | TimeoutException e) {\r\n\tSystem.out.println(&quot;Error&quot;);\r\n} finally {\r\n\texecutorService.shutdown();\r\n}\r\n```","title":"Do we have alternative to Java 9 CompletableFuture methods to handle timeouts?","body":"<p>You can use <code>ExecutorService</code> and then <code>Future#get(long, TimeUnit)</code>. They are available as of Java 1.5 (the 5th version) if I am not mistaken.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final ExecutorService executorService = Executors.newSingleThreadExecutor();\nfinal Future&lt;String&gt; future = executorService.submit(() -&gt; {\n    Thread.sleep(1000L);\n    return &quot;Success&quot;;\n});\n\ntry {\n    final String result = future.get(1500L, TimeUnit.MILLISECONDS);\n    System.out.println(result);\n} catch (InterruptedException | ExecutionException | TimeoutException e) {\n    System.out.println(&quot;Error&quot;);\n} finally {\n    executorService.shutdown();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1671108701,"creation_date":1671108701,"answer_id":74811833,"question_id":74799047,"body_markdown":"There is no magic in the methods `completeOnTimeout` and `orTimeout`. When you have something like\r\n\r\n```java\r\nCompletableFuture&lt;String&gt; cf = CompletableFuture.supplyAsync(() -&gt; {\r\n    LockSupport.parkNanos(TimeUnit.MINUTES.toNanos(1));\r\n    return &quot;ordinary value&quot;;\r\n});\r\ncf.completeOnTimeout(&quot;timeout value&quot;, 10, TimeUnit.SECONDS);\r\n\r\ncf.thenAccept(System.out::println).join();\r\n```\r\n\r\nyou can do the same in Java&#160;8 with\r\n```java\r\nstatic final ScheduledExecutorService TIMEOUT_SCHEDULER\r\n                                      = Executors.newScheduledThreadPool(0);\r\n```\r\n```java\r\nCompletableFuture&lt;String&gt; cf = CompletableFuture.supplyAsync(() -&gt; {\r\n    LockSupport.parkNanos(TimeUnit.MINUTES.toNanos(1));\r\n    return &quot;ordinary value&quot;;\r\n});\r\nTIMEOUT_SCHEDULER.schedule(()-&gt;cf.complete(&quot;timeout value&quot;), 10, TimeUnit.SECONDS);\r\n\r\ncf.thenAccept(System.out::println).join();\r\n```\r\n\r\nTo be closer to what Java&#160;9’s `CompletableFuture` does internally, e.g. use daemon threads, keep at least one thread alive, and having cleanup for cases where the future is completed ordinarily earlier than the timeout, you may use a helper class like\r\n\r\n```java\r\npublic final class TimeoutSupport {\r\n    private static final ScheduledExecutorService TIMEOUT_SCHEDULER;\r\n    static {\r\n        ScheduledThreadPoolExecutor e = new ScheduledThreadPoolExecutor(1, r -&gt; {\r\n            Thread t = new Thread(r);\r\n            t.setDaemon(true);\r\n            return t;\r\n        });\r\n        e.setRemoveOnCancelPolicy(true);\r\n        TIMEOUT_SCHEDULER = e;\r\n    }\r\n\r\n    public static &lt;T&gt; CompletableFuture&lt;T&gt; orTimeout(\r\n        CompletableFuture&lt;T&gt; cf, long timeout, TimeUnit unit) {\r\n        return withTimeout(cf,\r\n            ()-&gt;cf.completeExceptionally(new TimeoutException()), timeout, unit);\r\n    }\r\n\r\n    public static &lt;T&gt; CompletableFuture&lt;T&gt; completeOnTimeout(\r\n        CompletableFuture&lt;T&gt; cf, T value, long timeout, TimeUnit unit) {\r\n\r\n        return withTimeout(cf, () -&gt; cf.complete(value), timeout, unit);\r\n    }\r\n\r\n    private static &lt;T&gt; CompletableFuture&lt;T&gt; withTimeout(\r\n        CompletableFuture&lt;T&gt; cf, Runnable action, long timeout, TimeUnit unit) {\r\n\r\n        Future&lt;?&gt; f = TIMEOUT_SCHEDULER.schedule(action, timeout, unit);\r\n        cf.whenComplete((o, t) -&gt; f.cancel(false));\r\n        return cf;\r\n    }\r\n\r\n    private TimeoutSupport() {}\r\n}\r\n```\r\n\r\nto be used like\r\n\r\n```java\r\nCompletableFuture&lt;String&gt; cf = CompletableFuture.supplyAsync(() -&gt; {\r\n    LockSupport.parkNanos(TimeUnit.SECONDS.toNanos(20));\r\n    return &quot;ordinary value&quot;;\r\n});\r\nTimeoutSupport.completeOnTimeout(cf, &quot;timeout value&quot;, 10, TimeUnit.SECONDS);\r\n\r\ncf.thenAccept(System.out::println).join();\r\n```\r\n\r\nor in a fluent style\r\n\r\n```java\r\nTimeoutSupport.completeOnTimeout(\r\n    CompletableFuture.supplyAsync(() -&gt; {\r\n        LockSupport.parkNanos(TimeUnit.SECONDS.toNanos(20));\r\n        return &quot;ordinary value&quot;;\r\n    }), &quot;timeout value&quot;, 10, TimeUnit.SECONDS)\r\n.thenAccept(System.out::println).join();\r\n```\r\n\r\nthough not as neat as just chaining, like with Java&#160;9’s methods.\r\n\r\nThe `orTimeout` method works similar.\r\n","title":"Do we have alternative to Java 9 CompletableFuture methods to handle timeouts?","body":"<p>There is no magic in the methods <code>completeOnTimeout</code> and <code>orTimeout</code>. When you have something like</p>\n<pre class=\"lang-java prettyprint-override\"><code>CompletableFuture&lt;String&gt; cf = CompletableFuture.supplyAsync(() -&gt; {\n    LockSupport.parkNanos(TimeUnit.MINUTES.toNanos(1));\n    return &quot;ordinary value&quot;;\n});\ncf.completeOnTimeout(&quot;timeout value&quot;, 10, TimeUnit.SECONDS);\n\ncf.thenAccept(System.out::println).join();\n</code></pre>\n<p>you can do the same in Java 8 with</p>\n<pre class=\"lang-java prettyprint-override\"><code>static final ScheduledExecutorService TIMEOUT_SCHEDULER\n                                      = Executors.newScheduledThreadPool(0);\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>CompletableFuture&lt;String&gt; cf = CompletableFuture.supplyAsync(() -&gt; {\n    LockSupport.parkNanos(TimeUnit.MINUTES.toNanos(1));\n    return &quot;ordinary value&quot;;\n});\nTIMEOUT_SCHEDULER.schedule(()-&gt;cf.complete(&quot;timeout value&quot;), 10, TimeUnit.SECONDS);\n\ncf.thenAccept(System.out::println).join();\n</code></pre>\n<p>To be closer to what Java 9’s <code>CompletableFuture</code> does internally, e.g. use daemon threads, keep at least one thread alive, and having cleanup for cases where the future is completed ordinarily earlier than the timeout, you may use a helper class like</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class TimeoutSupport {\n    private static final ScheduledExecutorService TIMEOUT_SCHEDULER;\n    static {\n        ScheduledThreadPoolExecutor e = new ScheduledThreadPoolExecutor(1, r -&gt; {\n            Thread t = new Thread(r);\n            t.setDaemon(true);\n            return t;\n        });\n        e.setRemoveOnCancelPolicy(true);\n        TIMEOUT_SCHEDULER = e;\n    }\n\n    public static &lt;T&gt; CompletableFuture&lt;T&gt; orTimeout(\n        CompletableFuture&lt;T&gt; cf, long timeout, TimeUnit unit) {\n        return withTimeout(cf,\n            ()-&gt;cf.completeExceptionally(new TimeoutException()), timeout, unit);\n    }\n\n    public static &lt;T&gt; CompletableFuture&lt;T&gt; completeOnTimeout(\n        CompletableFuture&lt;T&gt; cf, T value, long timeout, TimeUnit unit) {\n\n        return withTimeout(cf, () -&gt; cf.complete(value), timeout, unit);\n    }\n\n    private static &lt;T&gt; CompletableFuture&lt;T&gt; withTimeout(\n        CompletableFuture&lt;T&gt; cf, Runnable action, long timeout, TimeUnit unit) {\n\n        Future&lt;?&gt; f = TIMEOUT_SCHEDULER.schedule(action, timeout, unit);\n        cf.whenComplete((o, t) -&gt; f.cancel(false));\n        return cf;\n    }\n\n    private TimeoutSupport() {}\n}\n</code></pre>\n<p>to be used like</p>\n<pre class=\"lang-java prettyprint-override\"><code>CompletableFuture&lt;String&gt; cf = CompletableFuture.supplyAsync(() -&gt; {\n    LockSupport.parkNanos(TimeUnit.SECONDS.toNanos(20));\n    return &quot;ordinary value&quot;;\n});\nTimeoutSupport.completeOnTimeout(cf, &quot;timeout value&quot;, 10, TimeUnit.SECONDS);\n\ncf.thenAccept(System.out::println).join();\n</code></pre>\n<p>or in a fluent style</p>\n<pre class=\"lang-java prettyprint-override\"><code>TimeoutSupport.completeOnTimeout(\n    CompletableFuture.supplyAsync(() -&gt; {\n        LockSupport.parkNanos(TimeUnit.SECONDS.toNanos(20));\n        return &quot;ordinary value&quot;;\n    }), &quot;timeout value&quot;, 10, TimeUnit.SECONDS)\n.thenAccept(System.out::println).join();\n</code></pre>\n<p>though not as neat as just chaining, like with Java 9’s methods.</p>\n<p>The <code>orTimeout</code> method works similar.</p>\n"}],"owner":{"account_id":21497056,"reputation":53,"user_id":15841915,"display_name":"AP_22"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":827,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74811833,"answer_count":2,"score":1,"last_activity_date":1671108701,"creation_date":1671024731,"question_id":74799047,"body_markdown":"I want a way to handle timeouts(custom value) for completable futures where we can assign a default value to the future object if there is a timeout. I know there are a couple of methods to handle it in Java 9 and above.\r\n\r\nBut is there any alternative to Java 9 CompletableFuture methods similar to \r\n```\r\npublic CompletableFuture&lt;T&gt; completeOnTimeout(T value, long timeout,                                                   TimeUnit unit)\r\nOR\r\npublic CompletableFuture&lt;T&gt; orTimeout(long timeout, TimeUnit unit)\r\n```","title":"Do we have alternative to Java 9 CompletableFuture methods to handle timeouts?","body":"<p>I want a way to handle timeouts(custom value) for completable futures where we can assign a default value to the future object if there is a timeout. I know there are a couple of methods to handle it in Java 9 and above.</p>\n<p>But is there any alternative to Java 9 CompletableFuture methods similar to</p>\n<pre><code>public CompletableFuture&lt;T&gt; completeOnTimeout(T value, long timeout,                                                   TimeUnit unit)\nOR\npublic CompletableFuture&lt;T&gt; orTimeout(long timeout, TimeUnit unit)\n</code></pre>\n"},{"tags":["java","mysql","hibernate","spring-data-jpa","spring-data"],"answers":[{"tags":[],"owner":{"account_id":24502054,"reputation":21,"user_id":18417541,"display_name":"Sardor Shorahimov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671108356,"creation_date":1671108356,"answer_id":74811756,"question_id":74811112,"body_markdown":"Name of table and column should be in lower case.\r\n\r\nExample:\r\n1.  ```TODO``` --&gt; ```todo```\r\n2.  ```START_DATE``` --&gt; ```start_date```","title":"org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL","body":"<p>Name of table and column should be in lower case.</p>\n<p>Example:</p>\n<ol>\n<li><code>TODO</code> --&gt; <code>todo</code></li>\n<li><code>START_DATE</code> --&gt; <code>start_date</code></li>\n</ol>\n"}],"owner":{"account_id":26546124,"reputation":11,"user_id":20770273,"display_name":"Dmytro Sydoruk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671108356,"creation_date":1671105285,"question_id":74811112,"body_markdown":"**I am learning Spring Data and creating a project. Project like a list of exercises, save data in MySql thanks to Hibernate, but something wrong with it, and i don&#39;t know what.\r\nWhen i save &quot;User&quot; in my database it&#39;s good, but when i try to save class &quot;Todo&quot; my program throws exception:**\r\n\r\n```\r\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;\r\n    alter table TODO \r\n       drop \r\n       foreign key FK3m52pf8uh22v3rgas56hrny9v&quot; via JDBC Statement\r\n\t\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)\r\n\t\tat org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)\r\n\t\tat org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)\r\n\t\tat org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)\r\n\t\tat org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)\r\n\t\tat org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)\r\n\t\tat org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)\r\n\t\tat org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)\r\n\t\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)\r\n\t\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)\r\n\t\tat java.base/java.util.HashMap.forEach(HashMap.java:1421)\r\n\t\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)\r\n\t\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:336)\r\n\t\tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)\r\n\t\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)\r\n\t\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)\r\n\t\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)\r\n\t\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)\r\n\t\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)\r\n\t\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)\r\n\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)\r\n\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)\r\n\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)\r\n\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)\r\n\t\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\r\n\t\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\t\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\r\n\t\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n\t\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)\r\n\t\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)\r\n\t\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)\r\n\t\tat org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:699)\r\n\t\tat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:665)\r\n\t\tat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:713)\r\n\t\tat org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:588)\r\n\t\tat org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:530)\r\n\t\tat org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:169)\r\n\t\tat jakarta.servlet.GenericServlet.init(GenericServlet.java:158)\r\n\t\tat org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1165)\r\n\t\tat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1118)\r\n\t\tat org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1011)\r\n\t\tat org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4907)\r\n\t\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5214)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\r\n\t\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\r\n\t\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:747)\r\n\t\tat org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1873)\r\n\t\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n\t\tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:293)\r\n\t\tat java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:811)\r\n\t\tat java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:802)\r\n\t\tat org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:428)\r\n\t\tat org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:376)\r\n\t\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n\t\tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:293)\r\n\t\tat java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:811)\r\n\t\tat java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:802)\r\n\t\tat java.management/com.sun.jmx.remote.security.MBeanServerAccessController.invoke(MBeanServerAccessController.java:472)\r\n\t\tat java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1472)\r\n\t\tat java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1310)\r\n\t\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:712)\r\n\t\tat java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1412)\r\n\t\tat java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)\r\n\t\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n\t\tat java.rmi/sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:360)\r\n\t\tat java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:200)\r\n\t\tat java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:197)\r\n\t\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:712)\r\n\t\tat java.rmi/sun.rmi.transport.Transport.serviceCall(Transport.java:196)\r\n\t\tat java.rmi/sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:598)\r\n\t\tat java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:844)\r\n\t\tat java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:721)\r\n\t\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\t\tat java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:720)\r\n\t\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\t\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\t\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n```\r\n\r\n\r\n[Other exceptions](https://i.stack.imgur.com/WNVzx.png)\r\n\r\n**I don&#39;t know why it doesn&#39;t work, Hibernate create all tables and i can create new rows.\r\n\r\nI use CrudRepository, my class &#39;Todo&#39;:**\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;TODO&quot;)\r\npublic class Todo {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;ID&quot;, unique = true)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;NAME&quot;, nullable = false)\r\n    private String name;\r\n\r\n    @Column(name = &quot;COMMENT&quot;)\r\n    private String comment;\r\n\r\n    @Column(name = &quot;START_DATE&quot;)\r\n    private Date startDate;\r\n\r\n    @Column(name = &quot;END_DATE&quot;)\r\n    private Date endDate;\r\n\r\n    @Column(name = &quot;IMPORTANT&quot;)\r\n    private Boolean important;\r\n\r\n    @Column(name = &quot;PRIORITY&quot;)\r\n    @Enumerated(EnumType.STRING)\r\n    private Priority priority;\r\n\r\n    @ManyToMany\r\n    @JoinTable(name = &quot;TODO_TAG&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;TODO_ID&quot;, referencedColumnName = &quot;ID&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;TAG_ID&quot;, referencedColumnName = &quot;ID&quot;))\r\n    private Set&lt;Tag&gt; tagList = new HashSet&lt;&gt;();\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;USER_ID&quot;, nullable = false)\r\n    private User user;\r\n```\r\n**config.xml:**\r\n\r\n```\r\n&lt;bean id=&quot;entityManagerFactory&quot; class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;\r\n    &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;\r\n    &lt;property name=&quot;jpaVendorAdapter&quot;&gt;\r\n        &lt;bean class=&quot;org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter&quot;/&gt;\r\n    &lt;/property&gt;\r\n    &lt;property name=&quot;jpaProperties&quot;&gt;\r\n        &lt;props&gt;\r\n            &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/prop&gt;\r\n            &lt;prop key=&quot;hibernate.generate-ddl&quot;&gt;true&lt;/prop&gt;\r\n            &lt;prop key=&quot;hibernate.show_sql&quot;&gt;true&lt;/prop&gt;\r\n            &lt;prop key=&quot;hibernate.format_sql&quot;&gt;true&lt;/prop&gt;\r\n            &lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;create-drop&lt;/prop&gt;\r\n        &lt;/props&gt;\r\n    &lt;/property&gt;\r\n\r\n    &lt;property name=&quot;packagesToScan&quot; value=&quot;sydoruk.domain&quot;/&gt;\r\n&lt;/bean&gt;\r\n\r\n&lt;jpa:repositories base-package=&quot;sydoruk.repositories&quot;\r\n                  entity-manager-factory-ref=&quot;entityManagerFactory&quot;\r\n                  transaction-manager-ref=&quot;transactionManager&quot; /&gt;\r\n```\r\n\r\nWhen i tried to create request in postman:\r\n[Add ToDo](https://i.stack.imgur.com/1gyV4.png)\r\n\r\nBut when i tried to create User:\r\n[Add User](https://i.stack.imgur.com/4ALEg.png)\r\n\r\nI&#39;ve been trying to change MySQL dialect, when i use MySQLDialect, Hibernate create weird foreign key: foreign key FKo333p0iofefya2l1xhyccobat&quot; via JDBC Statement, my RestController class is correct\r\n\r\n[GitHub: ](https://github.com/HosakooD/ToDoList)","title":"org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL","body":"<p><strong>I am learning Spring Data and creating a project. Project like a list of exercises, save data in MySql thanks to Hibernate, but something wrong with it, and i don't know what.\nWhen i save &quot;User&quot; in my database it's good, but when i try to save class &quot;Todo&quot; my program throws exception:</strong></p>\n<pre><code>org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;\n    alter table TODO \n       drop \n       foreign key FK3m52pf8uh22v3rgas56hrny9v&quot; via JDBC Statement\n        at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)\n        at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)\n        at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)\n        at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)\n        at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)\n        at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)\n        at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)\n        at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)\n        at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)\n        at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)\n        at java.base/java.util.HashMap.forEach(HashMap.java:1421)\n        at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)\n        at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:336)\n        at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)\n        at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n        at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)\n        at org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:699)\n        at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:665)\n        at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:713)\n        at org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:588)\n        at org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:530)\n        at org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:169)\n        at jakarta.servlet.GenericServlet.init(GenericServlet.java:158)\n        at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1165)\n        at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1118)\n        at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1011)\n        at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4907)\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5214)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:747)\n        at org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1873)\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n        at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:293)\n        at java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:811)\n        at java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:802)\n        at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:428)\n        at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:376)\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n        at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:293)\n        at java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:811)\n        at java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:802)\n        at java.management/com.sun.jmx.remote.security.MBeanServerAccessController.invoke(MBeanServerAccessController.java:472)\n        at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1472)\n        at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1310)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:712)\n        at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1412)\n        at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n        at java.rmi/sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:360)\n        at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:200)\n        at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:197)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:712)\n        at java.rmi/sun.rmi.transport.Transport.serviceCall(Transport.java:196)\n        at java.rmi/sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:598)\n        at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:844)\n        at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:721)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n        at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:720)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n        at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/WNVzx.png\" rel=\"nofollow noreferrer\">Other exceptions</a></p>\n<p>**I don't know why it doesn't work, Hibernate create all tables and i can create new rows.</p>\n<p>I use CrudRepository, my class 'Todo':**</p>\n<pre><code>@Entity\n@Table(name = &quot;TODO&quot;)\npublic class Todo {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;ID&quot;, unique = true)\n    private Long id;\n\n    @Column(name = &quot;NAME&quot;, nullable = false)\n    private String name;\n\n    @Column(name = &quot;COMMENT&quot;)\n    private String comment;\n\n    @Column(name = &quot;START_DATE&quot;)\n    private Date startDate;\n\n    @Column(name = &quot;END_DATE&quot;)\n    private Date endDate;\n\n    @Column(name = &quot;IMPORTANT&quot;)\n    private Boolean important;\n\n    @Column(name = &quot;PRIORITY&quot;)\n    @Enumerated(EnumType.STRING)\n    private Priority priority;\n\n    @ManyToMany\n    @JoinTable(name = &quot;TODO_TAG&quot;,\n            joinColumns = @JoinColumn(name = &quot;TODO_ID&quot;, referencedColumnName = &quot;ID&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;TAG_ID&quot;, referencedColumnName = &quot;ID&quot;))\n    private Set&lt;Tag&gt; tagList = new HashSet&lt;&gt;();\n\n    @ManyToOne\n    @JoinColumn(name = &quot;USER_ID&quot;, nullable = false)\n    private User user;\n</code></pre>\n<p><strong>config.xml:</strong></p>\n<pre><code>&lt;bean id=&quot;entityManagerFactory&quot; class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;\n    &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;\n    &lt;property name=&quot;jpaVendorAdapter&quot;&gt;\n        &lt;bean class=&quot;org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter&quot;/&gt;\n    &lt;/property&gt;\n    &lt;property name=&quot;jpaProperties&quot;&gt;\n        &lt;props&gt;\n            &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/prop&gt;\n            &lt;prop key=&quot;hibernate.generate-ddl&quot;&gt;true&lt;/prop&gt;\n            &lt;prop key=&quot;hibernate.show_sql&quot;&gt;true&lt;/prop&gt;\n            &lt;prop key=&quot;hibernate.format_sql&quot;&gt;true&lt;/prop&gt;\n            &lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;create-drop&lt;/prop&gt;\n        &lt;/props&gt;\n    &lt;/property&gt;\n\n    &lt;property name=&quot;packagesToScan&quot; value=&quot;sydoruk.domain&quot;/&gt;\n&lt;/bean&gt;\n\n&lt;jpa:repositories base-package=&quot;sydoruk.repositories&quot;\n                  entity-manager-factory-ref=&quot;entityManagerFactory&quot;\n                  transaction-manager-ref=&quot;transactionManager&quot; /&gt;\n</code></pre>\n<p>When i tried to create request in postman:\n<a href=\"https://i.stack.imgur.com/1gyV4.png\" rel=\"nofollow noreferrer\">Add ToDo</a></p>\n<p>But when i tried to create User:\n<a href=\"https://i.stack.imgur.com/4ALEg.png\" rel=\"nofollow noreferrer\">Add User</a></p>\n<p>I've been trying to change MySQL dialect, when i use MySQLDialect, Hibernate create weird foreign key: foreign key FKo333p0iofefya2l1xhyccobat&quot; via JDBC Statement, my RestController class is correct</p>\n<p><a href=\"https://github.com/HosakooD/ToDoList\" rel=\"nofollow noreferrer\">GitHub: </a></p>\n"},{"tags":["java","selenium-webdriver","testng"],"answers":[{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671108147,"creation_date":1671108147,"answer_id":74811709,"question_id":74809690,"body_markdown":"Despite your method logic runs in parallel all your threads still use the same instance of your test class. Hence they share the same instance of your `driver` field.\r\n\r\nThis leads to the case when the `setUp()` executed &quot;after&quot; overwrites the value set by `setUp` that has been executed &quot;before&quot;..\r\n\r\nSo to overcome this you need to introduce `ThreadLocal` variable. Instead of `public WebDriver driver;` you would have `ThreadLocal&lt;WebDriver&gt; driver = new ThreadLocal&lt;&gt;();`\r\n\r\nNow instead of `driver = new FirefoxDriver();` you would have `driver.set( new FirefoxDriver());`\r\n\r\nAfter you have set that driver to `ThreadLocal`, wherever you obtain its value you have to do `driver.get()`. For example:\r\n\r\n```java\r\n  driver.get().manage().deleteAllCookies();\r\n  driver.get().manage().timeouts().implicitlyWait(Duration.ofSeconds(6));   \r\n  driver.get().get(&quot;https://opensource-demo.orangehrmlive.com/web/index.php/auth/login&quot;);\r\n``` ","title":"How to solve the error of data provider if only one browser is taking the complete input data?","body":"<p>Despite your method logic runs in parallel all your threads still use the same instance of your test class. Hence they share the same instance of your <code>driver</code> field.</p>\n<p>This leads to the case when the <code>setUp()</code> executed &quot;after&quot; overwrites the value set by <code>setUp</code> that has been executed &quot;before&quot;..</p>\n<p>So to overcome this you need to introduce <code>ThreadLocal</code> variable. Instead of <code>public WebDriver driver;</code> you would have <code>ThreadLocal&lt;WebDriver&gt; driver = new ThreadLocal&lt;&gt;();</code></p>\n<p>Now instead of <code>driver = new FirefoxDriver();</code> you would have <code>driver.set( new FirefoxDriver());</code></p>\n<p>After you have set that driver to <code>ThreadLocal</code>, wherever you obtain its value you have to do <code>driver.get()</code>. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  driver.get().manage().deleteAllCookies();\n  driver.get().manage().timeouts().implicitlyWait(Duration.ofSeconds(6));   \n  driver.get().get(&quot;https://opensource-demo.orangehrmlive.com/web/index.php/auth/login&quot;);\n</code></pre>\n"}],"owner":{"account_id":27260134,"reputation":3,"user_id":20783087,"display_name":"k chary"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74811709,"answer_count":1,"score":0,"last_activity_date":1671108147,"creation_date":1671098126,"question_id":74809690,"body_markdown":"I&#39;m trying to achieve parallel execution through data provider, but unable to do it. can someone help me with this.  \r\nThe error is two browsers are opening but the data is going to only one browser.\r\n\r\nHere, is my program code:\r\n\r\n\r\n```\r\npackage PracticePrograms;\r\n\r\nimport java.time.Duration;\r\n\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.firefox.FirefoxDriver;\r\nimport org.testng.annotations.AfterMethod;\r\nimport org.testng.annotations.BeforeMethod;\r\nimport org.testng.annotations.DataProvider;\r\nimport org.testng.annotations.Test;\r\n\r\nimport io.github.bonigarcia.wdm.WebDriverManager;\r\n\r\npublic class DataProviderSample1{\r\n\t\r\n\tpublic WebDriver driver;\r\n\t\r\n\t@BeforeMethod\r\n\tpublic void setUp() throws InterruptedException {\r\n\r\n\t\tWebDriverManager.firefoxdriver().setup();\r\n\t\tdriver = new FirefoxDriver();\t\t\r\n\t\tdriver.manage().deleteAllCookies();\r\n\t\tdriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(6));\t\r\n\t\tdriver.get(&quot;https://opensource-demo.orangehrmlive.com/web/index.php/auth/login&quot;);\r\n\r\n\t}\r\n\t\r\n\t@Test(dataProvider = &quot;inputData&quot;)\r\n\tpublic void testLogin(String UserName, String Password ) throws InterruptedException {\r\n\t\r\n\t\tdriver.findElement(By.name(&quot;username&quot;)).sendKeys(UserName);\r\n\t\tdriver.findElement(By.name(&quot;password&quot;)).sendKeys(Password);\r\n\t\tdriver.findElement(By.xpath(&quot;//button[@type=&#39;submit&#39;]&quot;)).click();\r\n\t}\r\n\t\r\n\t@DataProvider(name = &quot;inputData&quot;, parallel = true)\r\n\tpublic static Object[][] loginData() {\r\n\t\tObject[][] data = new Object[2][2];\r\n\t\tdata[0][0] = &quot;Admin&quot;;\r\n\t\tdata[0][1] = &quot;admin123&quot;;\r\n\r\n\t\tdata[1][0] = &quot;admin&quot;;\r\n\t\tdata[1][1] = &quot;admin123&quot;;\r\n\r\n\t\treturn data;\r\n\t}\r\n\t\r\n\t @AfterMethod\r\n\t    public void tear_down() throws InterruptedException {\r\n           driver.quit();\t         \r\n\t    }  \r\n\r\n}\r\n\r\n```\r\n\r\n\r\nI appreciate u r help on this.","title":"How to solve the error of data provider if only one browser is taking the complete input data?","body":"<p>I'm trying to achieve parallel execution through data provider, but unable to do it. can someone help me with this.<br />\nThe error is two browsers are opening but the data is going to only one browser.</p>\n<p>Here, is my program code:</p>\n<pre><code>package PracticePrograms;\n\nimport java.time.Duration;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.firefox.FirefoxDriver;\nimport org.testng.annotations.AfterMethod;\nimport org.testng.annotations.BeforeMethod;\nimport org.testng.annotations.DataProvider;\nimport org.testng.annotations.Test;\n\nimport io.github.bonigarcia.wdm.WebDriverManager;\n\npublic class DataProviderSample1{\n    \n    public WebDriver driver;\n    \n    @BeforeMethod\n    public void setUp() throws InterruptedException {\n\n        WebDriverManager.firefoxdriver().setup();\n        driver = new FirefoxDriver();       \n        driver.manage().deleteAllCookies();\n        driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(6));   \n        driver.get(&quot;https://opensource-demo.orangehrmlive.com/web/index.php/auth/login&quot;);\n\n    }\n    \n    @Test(dataProvider = &quot;inputData&quot;)\n    public void testLogin(String UserName, String Password ) throws InterruptedException {\n    \n        driver.findElement(By.name(&quot;username&quot;)).sendKeys(UserName);\n        driver.findElement(By.name(&quot;password&quot;)).sendKeys(Password);\n        driver.findElement(By.xpath(&quot;//button[@type='submit']&quot;)).click();\n    }\n    \n    @DataProvider(name = &quot;inputData&quot;, parallel = true)\n    public static Object[][] loginData() {\n        Object[][] data = new Object[2][2];\n        data[0][0] = &quot;Admin&quot;;\n        data[0][1] = &quot;admin123&quot;;\n\n        data[1][0] = &quot;admin&quot;;\n        data[1][1] = &quot;admin123&quot;;\n\n        return data;\n    }\n    \n     @AfterMethod\n        public void tear_down() throws InterruptedException {\n           driver.quit();            \n        }  \n\n}\n\n</code></pre>\n<p>I appreciate u r help on this.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1671108061,"post_id":74811230,"comment_id":132029615,"body_markdown":"I would say it is a duplicate from https://stackoverflow.com/questions/33289695/inetaddress-getlocalhost-slow-to-run-30-seconds. Instead of doing the lookup over and over, I would suggest doing the lookup once (at startup) and reuse. That will save the continuous lookup and increase performance.","body":"I would say it is a duplicate from <a href=\"https://stackoverflow.com/questions/33289695/inetaddress-getlocalhost-slow-to-run-30-seconds\" title=\"inetaddress getlocalhost slow to run 30 seconds\">stackoverflow.com/questions/33289695/&hellip;</a>. Instead of doing the lookup over and over, I would suggest doing the lookup once (at startup) and reuse. That will save the continuous lookup and increase performance."}],"answers":[{"tags":[],"owner":{"account_id":3601683,"reputation":8824,"user_id":3004881,"accept_rate":100,"display_name":"Dan Getz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671107905,"creation_date":1671107905,"answer_id":74811654,"question_id":74811230,"body_markdown":"That surprises me. I can only guess it&#39;s related to the fact that [`getLocalHost()`][1] does a DNS name lookup to get the IP address. You could try\r\n\r\n    httpServletRequest.getLocalAddr()\r\n\r\ninstead, if that would that give you the same IP in your use case.\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/net/InetAddress.html#getLocalHost()","title":"Threads getting locked due to InetAddress.getLocalHost()","body":"<p>That surprises me. I can only guess it's related to the fact that <a href=\"https://docs.oracle.com/javase/7/docs/api/java/net/InetAddress.html#getLocalHost()\" rel=\"nofollow noreferrer\"><code>getLocalHost()</code></a> does a DNS name lookup to get the IP address. You could try</p>\n<pre><code>httpServletRequest.getLocalAddr()\n</code></pre>\n<p>instead, if that would that give you the same IP in your use case.</p>\n"}],"owner":{"account_id":22582111,"reputation":691,"user_id":16766626,"display_name":"Yogeshwar Chaturvedi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671107905,"creation_date":1671105827,"question_id":74811230,"body_markdown":"I am using this in a logging filter in a SpringBoot application, almost all the main threads are going in lock state due to **InetAddress.getLocalHost()**. What could be the possible reason and how can I fix this?\r\n\r\n```\r\nprivate void populateMandatoryDetailsFromRequest(final HttpServletRequest httpServletRequest)\r\n        throws UnknownHostException {\r\n    ThreadContext.put(CO_HOST_ADDRESS.value(), InetAddress.getLocalHost().getHostAddress());\r\n    ThreadContext.put(CO_REQUEST_URI.value(), httpServletRequest.getRequestURI());\r\n}\r\n```","title":"Threads getting locked due to InetAddress.getLocalHost()","body":"<p>I am using this in a logging filter in a SpringBoot application, almost all the main threads are going in lock state due to <strong>InetAddress.getLocalHost()</strong>. What could be the possible reason and how can I fix this?</p>\n<pre><code>private void populateMandatoryDetailsFromRequest(final HttpServletRequest httpServletRequest)\n        throws UnknownHostException {\n    ThreadContext.put(CO_HOST_ADDRESS.value(), InetAddress.getLocalHost().getHostAddress());\n    ThreadContext.put(CO_REQUEST_URI.value(), httpServletRequest.getRequestURI());\n}\n</code></pre>\n"},{"tags":["java","spring-boot","netflix-dgs"],"owner":{"account_id":15627192,"reputation":23,"user_id":11274511,"display_name":"Shubhankar kotnala"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671107652,"creation_date":1671107652,"question_id":74811604,"body_markdown":"I&#39;m using [Netflix DGS library](https://netflix.github.io/dgs/) in SpringBoot, and I have a parent query that whose schema is something like, \r\n```json\r\ntype Parent @connection {\r\n    attr1\r\n    attr2\r\n    ...\r\n    child1: Child\r\n}\r\n\r\ntype Child {\r\n    childAttr1\r\n    childAttr2\r\n```\r\n\r\n\r\nHere for a graphql query to fetch first 10 records for Parent, I&#39;m using [Data Loader](https://netflix.github.io/dgs/data-loaders/) to load all the Child data at once for all the 10 Parents using. \r\n\r\nCurrently bulk fetch for Child returns a List&lt;Child&gt; which may or may not contain values for every Parent object. I want to add a error block which can be attached to the request to notify which Parent object didn&#39;t had Child. \r\n\r\nSince the Data Loader returns a CompletableFuture, I am not able to interrupt the flow and throw an exception if data is null. \r\n\r\nIs there some solution to this problem, or any other way with which it can be handled?\r\n\r\n\r\nThanks!","title":"Netflix DGS: Throw Exception if DataLoader fails to received data for all objects","body":"<p>I'm using <a href=\"https://netflix.github.io/dgs/\" rel=\"nofollow noreferrer\">Netflix DGS library</a> in SpringBoot, and I have a parent query that whose schema is something like,</p>\n<pre class=\"lang-json prettyprint-override\"><code>type Parent @connection {\n    attr1\n    attr2\n    ...\n    child1: Child\n}\n\ntype Child {\n    childAttr1\n    childAttr2\n</code></pre>\n<p>Here for a graphql query to fetch first 10 records for Parent, I'm using <a href=\"https://netflix.github.io/dgs/data-loaders/\" rel=\"nofollow noreferrer\">Data Loader</a> to load all the Child data at once for all the 10 Parents using.</p>\n<p>Currently bulk fetch for Child returns a List which may or may not contain values for every Parent object. I want to add a error block which can be attached to the request to notify which Parent object didn't had Child.</p>\n<p>Since the Data Loader returns a CompletableFuture, I am not able to interrupt the flow and throw an exception if data is null.</p>\n<p>Is there some solution to this problem, or any other way with which it can be handled?</p>\n<p>Thanks!</p>\n"},{"tags":["java","performance","reflection","lambda"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1524240291,"post_id":49945423,"comment_id":86907710,"body_markdown":"You should use JMH for these kinds of microbenchmarks.","body":"You should use JMH for these kinds of microbenchmarks."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1524241447,"post_id":49945423,"comment_id":86908349,"body_markdown":"Most likely the JIT is getting confused by your benchmark and not optimising it properly.  I suggest placing each test in it&#39;s own method to avoid a poor optimisation when the method is compiled (or use JMH which does this)","body":"Most likely the JIT is getting confused by your benchmark and not optimising it properly.  I suggest placing each test in it&#39;s own method to avoid a poor optimisation when the method is compiled (or use JMH which does this)"},{"owner":{"account_id":7569436,"reputation":165,"user_id":5743848,"accept_rate":0,"display_name":"bergtwvd"},"score":0,"creation_date":1524292758,"post_id":49945423,"comment_id":86922692,"body_markdown":"I reduced the test to just the Lambda get. Next, if I run test the test with the same Lambda object (created in Main) across all runs then performance is stable. Otherwise it decreases to some value. Guess this prevents the poor optimization; but I am still guessing why.","body":"I reduced the test to just the Lambda get. Next, if I run test the test with the same Lambda object (created in Main) across all runs then performance is stable. Otherwise it decreases to some value. Guess this prevents the poor optimization; but I am still guessing why."},{"owner":{"account_id":7569436,"reputation":165,"user_id":5743848,"accept_rate":0,"display_name":"bergtwvd"},"score":0,"creation_date":1526160858,"post_id":49945423,"comment_id":87637756,"body_markdown":"I am still puzzling about the performance of reflection using the LambdaMetafactory. I have slightly updated the example above to run as a self-contained test that I can invoke at any point in my application. Performance is as expected (direct vs lambda) whenI use it on just a single class, but drops as soon as I do the lambda getter for another Java class. I wonder if code size or other factors are in play that influence (negatively) performance.","body":"I am still puzzling about the performance of reflection using the LambdaMetafactory. I have slightly updated the example above to run as a self-contained test that I can invoke at any point in my application. Performance is as expected (direct vs lambda) whenI use it on just a single class, but drops as soon as I do the lambda getter for another Java class. I wonder if code size or other factors are in play that influence (negatively) performance."},{"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"score":0,"creation_date":1526164089,"post_id":49945423,"comment_id":87638562,"body_markdown":"Please see: https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java","body":"Please see: <a href=\"https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java\" title=\"how do i write a correct micro benchmark in java\">stackoverflow.com/questions/504103/&hellip;</a>"},{"owner":{"account_id":7569436,"reputation":165,"user_id":5743848,"accept_rate":0,"display_name":"bergtwvd"},"score":0,"creation_date":1526173255,"post_id":49945423,"comment_id":87639994,"body_markdown":"Ok -- I have added a warmup period for every test. For the getter test on the Person1 and Person2 classes results are as expected (Direct/Lambda are comparable in performance). However, I still see performance collapse with a factor of 10 once I do the getter test on the third class named Person3. If there is space somewhere I can drop the code for anyone to try out too.","body":"Ok -- I have added a warmup period for every test. For the getter test on the Person1 and Person2 classes results are as expected (Direct/Lambda are comparable in performance). However, I still see performance collapse with a factor of 10 once I do the getter test on the third class named Person3. If there is space somewhere I can drop the code for anyone to try out too."},{"owner":{"account_id":7569436,"reputation":165,"user_id":5743848,"accept_rate":0,"display_name":"bergtwvd"},"score":0,"creation_date":1526251499,"post_id":49945423,"comment_id":87658400,"body_markdown":"I have restated the question in https://stackoverflow.com/questions/50321114/java-reflection-performance-alternatives, since the test program has changed and I would not want to update the text here.","body":"I have restated the question in <a href=\"https://stackoverflow.com/questions/50321114/java-reflection-performance-alternatives\" title=\"java reflection performance alternatives\">stackoverflow.com/questions/50321114/&hellip;</a>, since the test program has changed and I would not want to update the text here."}],"owner":{"account_id":7569436,"reputation":165,"user_id":5743848,"accept_rate":0,"display_name":"bergtwvd"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":808,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671107621,"creation_date":1524239305,"question_id":49945423,"body_markdown":"I have constructed a simple test to measure the performance of class reflection with the Java LambdaMetafactory. According to various posts reflection using LambdaMetafactory is as fast as directly calling getters. This seems true initially, but after a while performance degrades.\r\n\r\nOne of the test shows (this seems general trend):\r\n\r\nInitially:\r\n\r\n    GET - REFLECTION: Runtime=2.841seconds\r\n    GET - DIRECT:     Runtime=0.358seconds\r\n    GET - LAMBDA:     Runtime=0.362seconds\r\n    SET - REFLECTION: Runtime=3.86seconds\r\n    SET - DIRECT:     Runtime=0.507seconds\r\n    SET - LAMBDA:     Runtime=0.455seconds\r\n\r\nFinally:\r\n\r\n    GET - REFLECTION: Runtime=2.904seconds\r\n    GET - DIRECT:     Runtime=0.501seconds\r\n    GET - LAMBDA:     Runtime=5.299seconds\r\n    SET - REFLECTION: Runtime=4.62seconds\r\n    SET - DIRECT:     Runtime=1.723seconds\r\n    SET - LAMBDA:     Runtime=5.149seconds\r\n\r\nCode follows below.\r\n\r\nQuestions:\r\n\r\n - Why?\r\n\r\n - How can this be made more performant with the LambdaMetafactory?\r\n\r\n----------\r\n\r\n    package lambda;\r\n    \r\n    public class Main {\r\n    \r\n    \tpublic static void main(String[] args) throws NoSuchMethodException, IllegalAccessException, Throwable {\r\n    \t\tint runs = 5;\r\n    \r\n    \t\tfor (int i = 0; i &lt; runs; i++) {\r\n    \t\t\tSystem.out.println(&quot;***** RUN &quot; + i);\r\n    \r\n    \t\t\tLambda lam = new Lambda();\r\n    \t\t\tlam.initGetter(Person.class, &quot;getName&quot;);\r\n    \t\t\tlam.initSetter(Person.class, &quot;setSalary&quot;, double.class);\r\n    \r\n    \t\t\tTest test = new Test();\r\n    \t\t\ttest.doTest(lam);\r\n    \t\t}\r\n    \r\n    \t}\r\n    }\r\n\r\n----------\r\n\r\n    package lambda;\r\n    \r\n    import java.lang.invoke.CallSite;\r\n    import java.lang.invoke.LambdaMetafactory;\r\n    import java.lang.invoke.MethodHandle;\r\n    import java.lang.invoke.MethodHandles;\r\n    import java.lang.invoke.MethodType;\r\n    import java.lang.reflect.Method;\r\n    import java.util.function.BiConsumer;\r\n    import java.util.function.Function;\r\n    \r\n    public final class Lambda {\r\n    \r\n    \t//https://www.optaplanner.org/blog/2018/01/09/JavaReflectionButMuchFaster.html\r\n    \t//https://bytex.solutions/2017/07/java-lambdas/\r\n    \t//https://stackoverflow.com/questions/27602758/java-access-bean-methods-with-lambdametafactory\r\n    \tprivate Function getterFunction;\r\n    \tprivate BiConsumer setterFunction;\r\n    \r\n    \tprivate Function createGetter(final MethodHandles.Lookup lookup,\r\n    \t\t\tfinal MethodHandle getter) throws Exception {\r\n    \t\tfinal CallSite site = LambdaMetafactory.metafactory(lookup, &quot;apply&quot;,\r\n    \t\t\t\tMethodType.methodType(Function.class),\r\n    \t\t\t\tMethodType.methodType(Object.class, Object.class), //signature of method Function.apply after type erasure\r\n    \t\t\t\tgetter,\r\n    \t\t\t\tgetter.type()); //actual signature of getter\r\n    \t\ttry {\r\n    \t\t\treturn (Function) site.getTarget().invokeExact();\r\n    \t\t} catch (final Exception e) {\r\n    \t\t\tthrow e;\r\n    \t\t} catch (final Throwable e) {\r\n    \t\t\tthrow new Exception(e);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate BiConsumer createSetter(final MethodHandles.Lookup lookup,\r\n    \t\t\tfinal MethodHandle setter) throws Exception {\r\n    \t\tfinal CallSite site = LambdaMetafactory.metafactory(lookup,\r\n    \t\t\t\t&quot;accept&quot;,\r\n    \t\t\t\tMethodType.methodType(BiConsumer.class),\r\n    \t\t\t\tMethodType.methodType(void.class, Object.class, Object.class), //signature of method BiConsumer.accept after type erasure\r\n    \t\t\t\tsetter,\r\n    \t\t\t\tsetter.type()); //actual signature of setter\r\n    \t\ttry {\r\n    \t\t\treturn (BiConsumer) site.getTarget().invokeExact();\r\n    \t\t} catch (final Exception e) {\r\n    \t\t\tthrow e;\r\n    \t\t} catch (final Throwable e) {\r\n    \t\t\tthrow new Exception(e);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic void initGetter(Class theSubject, String methodName) throws ReflectiveOperationException, Exception {\r\n    \t\tMethodHandles.Lookup lookup = MethodHandles.lookup();\r\n    \t\tMethod m = theSubject.getMethod(methodName);\r\n    \t\tMethodHandle mh = lookup.unreflect(m);\r\n    \r\n    \t\tgetterFunction = createGetter(lookup, mh);\r\n    \t}\r\n    \r\n    \tpublic void initSetter(Class theSubject, String methodName, Class parameterType) throws ReflectiveOperationException, Exception {\r\n    \t\tMethodHandles.Lookup lookup = MethodHandles.lookup();\r\n    \t\tMethod m = theSubject.getMethod(methodName, parameterType);\r\n    \t\tMethodHandle mh = lookup.unreflect(m);\r\n    \r\n    \t\tsetterFunction = createSetter(lookup, mh);\r\n    \t}\r\n    \r\n    \tpublic Object executeGetter(Object theObject) {\r\n    \t\treturn getterFunction.apply(theObject);\r\n    \t}\r\n    \r\n    \tpublic void executeSetter(Object theObject, Object value) {\r\n    \t\tsetterFunction.accept(theObject, value);\r\n    \t}\r\n    \r\n    }\r\n\r\n----------\r\n\r\n    package lambda;\r\n    \r\n    import java.lang.reflect.Field;\r\n    \r\n    public class Test {\r\n    \r\n    \tpublic void doTest(Lambda lam) throws NoSuchFieldException, IllegalArgumentException, Exception {\r\n    \t\r\n    \t\tif (lam == null) {\r\n    \t\t\tlam = new Lambda();\r\n    \t\t\tlam.initGetter(Person.class, &quot;getName&quot;);\r\n    \t\t\tlam.initSetter(Person.class, &quot;setSalary&quot;, double.class);\r\n    \t\t}\r\n    \r\n    \t\tPerson p = new Person();\r\n    \t\tp.setName(111);\r\n    \r\n    \t\tlong loops = 1000000000; // 10e9\r\n    \t\tSystem.out.println(&quot;Loops: &quot; + loops);\r\n    \r\n    \t\t///\r\n    \t\tSystem.out.println(&quot;GET - REFLECTION:&quot;);\r\n    \r\n    \t\tField field = Person.class.getField(&quot;name&quot;);\r\n    \r\n    \t\tlong start = System.currentTimeMillis();\r\n    \t\tfor (int i = 0; i &lt; loops; i++) {\r\n    \t\t\tint name = (int) field.get(p);\r\n    \t\t}\r\n    \t\tlong end = System.currentTimeMillis();\r\n    \t\tSystem.out.println(&quot;Runtime=&quot; + ((end - start) / 1000.0) + &quot;seconds&quot;);\r\n    \r\n    \t\t///\r\n    \t\tSystem.out.println(&quot;GET - DIRECT:&quot;);\r\n    \t\tstart = System.currentTimeMillis();\r\n    \t\tfor (int i = 0; i &lt; loops; i++) {\r\n    \t\t\tint name = (int) p.getName();\r\n    \t\t}\r\n    \t\tend = System.currentTimeMillis();\r\n    \t\tSystem.out.println(&quot;Runtime=&quot; + ((end - start) / 1000.0) + &quot;seconds&quot;);\r\n    \r\n    \t\t////\r\n    \t\tSystem.out.println(&quot;GET - LAMBDA:&quot;);\r\n    \t\tstart = System.currentTimeMillis();\r\n    \t\tfor (int i = 0; i &lt; loops; i++) {\r\n    \t\t\tint name = (int) lam.executeGetter(p);\r\n    \t\t}\r\n    \t\tend = System.currentTimeMillis();\r\n    \t\tSystem.out.println(&quot;Runtime=&quot; + ((end - start) / 1000.0) + &quot;seconds&quot;);\r\n    \r\n    \t\t///\r\n    \t\tSystem.out.println(&quot;SET - REFLECTION:&quot;);\r\n    \t\tint name = 12;\r\n    \r\n    \t\tstart = System.currentTimeMillis();\r\n    \t\tfor (int i = 0; i &lt; loops; i++) {\r\n    \t\t\tfield.set(p, name);\r\n    \t\t}\r\n    \t\tend = System.currentTimeMillis();\r\n    \t\tSystem.out.println(&quot;Runtime=&quot; + ((end - start) / 1000.0) + &quot;seconds&quot;);\r\n    \r\n    \t\t///\r\n    \t\tSystem.out.println(&quot;SET - DIRECT:&quot;);\r\n    \t\tname = 33;\r\n    \t\tstart = System.currentTimeMillis();\r\n    \t\tfor (int i = 0; i &lt; loops; i++) {\r\n    \t\t\tp.setName(name);\r\n    \t\t}\r\n    \t\tend = System.currentTimeMillis();\r\n    \t\tSystem.out.println(&quot;Runtime=&quot; + ((end - start) / 1000.0) + &quot;seconds&quot;);\r\n    \r\n    \t\t////\r\n    \t\tSystem.out.println(&quot;SET - LAMBDA:&quot;);\r\n    \r\n    \t\tDouble name2 = 2.3;\r\n    \r\n    \t\tstart = System.currentTimeMillis();\r\n    \t\tfor (int i = 0; i &lt; loops; i++) {\r\n    \t\t\tlam.executeSetter(p, name2);\r\n    \t\t}\r\n    \t\tend = System.currentTimeMillis();\r\n    \t\tSystem.out.println(&quot;Runtime=&quot; + ((end - start) / 1000.0) + &quot;seconds&quot;);\r\n    \t}\r\n    \r\n    }\r\n\r\n----------\r\n\r\n    package lambda;\r\n    \r\n    public class Person {\r\n    \t\r\n    \tpublic int name;\r\n    \tprivate double salary;\r\n    \r\n    \tpublic int getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tpublic void setName(int name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \tpublic double getSalary() {\r\n    \t\treturn salary;\r\n    \t}\r\n    \r\n    \tpublic void setSalary(double salary) {\r\n    \t\tthis.salary = salary;\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n----------\r\n\r\nAs mentioned later in comments I have updated the code to run as a self-contained test that I can invoke from any point in my application. The test accepts a class, method name (string), and a class instance in order to run the performance test. As expected performance is fine when I just use one class (Person1). As soon as I invoke the test for another class (Person2) performance drops for both classes -- sometimes performance is even worse than normal method reflect calls. Below some data. Initially performance is okay for Person1. As soon as Person2 is used there is a drop.\r\n\r\n\r\n    (Class=Person1, name=Name)\r\n    Loops: 50000000\r\n    GET - DIRECT: Runtime=0.016seconds\r\n    GET - LAMBDA: Runtime=0.016seconds\r\n    \r\n    (Class=Person2, name=Name)\r\n    Loops: 50000000\r\n    GET - DIRECT: Runtime=0.019seconds\r\n    createLambda: new getter for clazz=lambda.Person2 name=Name\r\n    createLambda: new setter for clazz=lambda.Person2 name=Name\r\n    GET - LAMBDA: Runtime=0.069seconds\r\n    \r\n    (Class=Person1, name=Name)\r\n    Loops: 50000000\r\n    GET - DIRECT: Runtime=0.02seconds\r\n    GET - LAMBDA: Runtime=0.045seconds\r\n    \r\n    (Class=Person2, name=Name)\r\n    Loops: 50000000\r\n    GET - DIRECT: Runtime=0.017seconds\r\n    GET - LAMBDA: Runtime=0.054seconds\r\n    \r\n    (Class=Person1, name=Name)\r\n    Loops: 50000000\r\n    GET - DIRECT: Runtime=0.018seconds\r\n    GET - LAMBDA: Runtime=0.045seconds\r\n","title":"Why does Java lambda reflection performance get worse","body":"<p>I have constructed a simple test to measure the performance of class reflection with the Java LambdaMetafactory. According to various posts reflection using LambdaMetafactory is as fast as directly calling getters. This seems true initially, but after a while performance degrades.</p>\n\n<p>One of the test shows (this seems general trend):</p>\n\n<p>Initially:</p>\n\n<pre><code>GET - REFLECTION: Runtime=2.841seconds\nGET - DIRECT:     Runtime=0.358seconds\nGET - LAMBDA:     Runtime=0.362seconds\nSET - REFLECTION: Runtime=3.86seconds\nSET - DIRECT:     Runtime=0.507seconds\nSET - LAMBDA:     Runtime=0.455seconds\n</code></pre>\n\n<p>Finally:</p>\n\n<pre><code>GET - REFLECTION: Runtime=2.904seconds\nGET - DIRECT:     Runtime=0.501seconds\nGET - LAMBDA:     Runtime=5.299seconds\nSET - REFLECTION: Runtime=4.62seconds\nSET - DIRECT:     Runtime=1.723seconds\nSET - LAMBDA:     Runtime=5.149seconds\n</code></pre>\n\n<p>Code follows below.</p>\n\n<p>Questions:</p>\n\n<ul>\n<li><p>Why?</p></li>\n<li><p>How can this be made more performant with the LambdaMetafactory?</p></li>\n</ul>\n\n<hr>\n\n<pre><code>package lambda;\n\npublic class Main {\n\n    public static void main(String[] args) throws NoSuchMethodException, IllegalAccessException, Throwable {\n        int runs = 5;\n\n        for (int i = 0; i &lt; runs; i++) {\n            System.out.println(\"***** RUN \" + i);\n\n            Lambda lam = new Lambda();\n            lam.initGetter(Person.class, \"getName\");\n            lam.initSetter(Person.class, \"setSalary\", double.class);\n\n            Test test = new Test();\n            test.doTest(lam);\n        }\n\n    }\n}\n</code></pre>\n\n<hr>\n\n<pre><code>package lambda;\n\nimport java.lang.invoke.CallSite;\nimport java.lang.invoke.LambdaMetafactory;\nimport java.lang.invoke.MethodHandle;\nimport java.lang.invoke.MethodHandles;\nimport java.lang.invoke.MethodType;\nimport java.lang.reflect.Method;\nimport java.util.function.BiConsumer;\nimport java.util.function.Function;\n\npublic final class Lambda {\n\n    //https://www.optaplanner.org/blog/2018/01/09/JavaReflectionButMuchFaster.html\n    //https://bytex.solutions/2017/07/java-lambdas/\n    //https://stackoverflow.com/questions/27602758/java-access-bean-methods-with-lambdametafactory\n    private Function getterFunction;\n    private BiConsumer setterFunction;\n\n    private Function createGetter(final MethodHandles.Lookup lookup,\n            final MethodHandle getter) throws Exception {\n        final CallSite site = LambdaMetafactory.metafactory(lookup, \"apply\",\n                MethodType.methodType(Function.class),\n                MethodType.methodType(Object.class, Object.class), //signature of method Function.apply after type erasure\n                getter,\n                getter.type()); //actual signature of getter\n        try {\n            return (Function) site.getTarget().invokeExact();\n        } catch (final Exception e) {\n            throw e;\n        } catch (final Throwable e) {\n            throw new Exception(e);\n        }\n    }\n\n    private BiConsumer createSetter(final MethodHandles.Lookup lookup,\n            final MethodHandle setter) throws Exception {\n        final CallSite site = LambdaMetafactory.metafactory(lookup,\n                \"accept\",\n                MethodType.methodType(BiConsumer.class),\n                MethodType.methodType(void.class, Object.class, Object.class), //signature of method BiConsumer.accept after type erasure\n                setter,\n                setter.type()); //actual signature of setter\n        try {\n            return (BiConsumer) site.getTarget().invokeExact();\n        } catch (final Exception e) {\n            throw e;\n        } catch (final Throwable e) {\n            throw new Exception(e);\n        }\n    }\n\n    public void initGetter(Class theSubject, String methodName) throws ReflectiveOperationException, Exception {\n        MethodHandles.Lookup lookup = MethodHandles.lookup();\n        Method m = theSubject.getMethod(methodName);\n        MethodHandle mh = lookup.unreflect(m);\n\n        getterFunction = createGetter(lookup, mh);\n    }\n\n    public void initSetter(Class theSubject, String methodName, Class parameterType) throws ReflectiveOperationException, Exception {\n        MethodHandles.Lookup lookup = MethodHandles.lookup();\n        Method m = theSubject.getMethod(methodName, parameterType);\n        MethodHandle mh = lookup.unreflect(m);\n\n        setterFunction = createSetter(lookup, mh);\n    }\n\n    public Object executeGetter(Object theObject) {\n        return getterFunction.apply(theObject);\n    }\n\n    public void executeSetter(Object theObject, Object value) {\n        setterFunction.accept(theObject, value);\n    }\n\n}\n</code></pre>\n\n<hr>\n\n<pre><code>package lambda;\n\nimport java.lang.reflect.Field;\n\npublic class Test {\n\n    public void doTest(Lambda lam) throws NoSuchFieldException, IllegalArgumentException, Exception {\n\n        if (lam == null) {\n            lam = new Lambda();\n            lam.initGetter(Person.class, \"getName\");\n            lam.initSetter(Person.class, \"setSalary\", double.class);\n        }\n\n        Person p = new Person();\n        p.setName(111);\n\n        long loops = 1000000000; // 10e9\n        System.out.println(\"Loops: \" + loops);\n\n        ///\n        System.out.println(\"GET - REFLECTION:\");\n\n        Field field = Person.class.getField(\"name\");\n\n        long start = System.currentTimeMillis();\n        for (int i = 0; i &lt; loops; i++) {\n            int name = (int) field.get(p);\n        }\n        long end = System.currentTimeMillis();\n        System.out.println(\"Runtime=\" + ((end - start) / 1000.0) + \"seconds\");\n\n        ///\n        System.out.println(\"GET - DIRECT:\");\n        start = System.currentTimeMillis();\n        for (int i = 0; i &lt; loops; i++) {\n            int name = (int) p.getName();\n        }\n        end = System.currentTimeMillis();\n        System.out.println(\"Runtime=\" + ((end - start) / 1000.0) + \"seconds\");\n\n        ////\n        System.out.println(\"GET - LAMBDA:\");\n        start = System.currentTimeMillis();\n        for (int i = 0; i &lt; loops; i++) {\n            int name = (int) lam.executeGetter(p);\n        }\n        end = System.currentTimeMillis();\n        System.out.println(\"Runtime=\" + ((end - start) / 1000.0) + \"seconds\");\n\n        ///\n        System.out.println(\"SET - REFLECTION:\");\n        int name = 12;\n\n        start = System.currentTimeMillis();\n        for (int i = 0; i &lt; loops; i++) {\n            field.set(p, name);\n        }\n        end = System.currentTimeMillis();\n        System.out.println(\"Runtime=\" + ((end - start) / 1000.0) + \"seconds\");\n\n        ///\n        System.out.println(\"SET - DIRECT:\");\n        name = 33;\n        start = System.currentTimeMillis();\n        for (int i = 0; i &lt; loops; i++) {\n            p.setName(name);\n        }\n        end = System.currentTimeMillis();\n        System.out.println(\"Runtime=\" + ((end - start) / 1000.0) + \"seconds\");\n\n        ////\n        System.out.println(\"SET - LAMBDA:\");\n\n        Double name2 = 2.3;\n\n        start = System.currentTimeMillis();\n        for (int i = 0; i &lt; loops; i++) {\n            lam.executeSetter(p, name2);\n        }\n        end = System.currentTimeMillis();\n        System.out.println(\"Runtime=\" + ((end - start) / 1000.0) + \"seconds\");\n    }\n\n}\n</code></pre>\n\n<hr>\n\n<pre><code>package lambda;\n\npublic class Person {\n\n    public int name;\n    private double salary;\n\n    public int getName() {\n        return name;\n    }\n\n    public void setName(int name) {\n        this.name = name;\n    }\n\n    public double getSalary() {\n        return salary;\n    }\n\n    public void setSalary(double salary) {\n        this.salary = salary;\n    }\n\n}\n</code></pre>\n\n<hr>\n\n<p>As mentioned later in comments I have updated the code to run as a self-contained test that I can invoke from any point in my application. The test accepts a class, method name (string), and a class instance in order to run the performance test. As expected performance is fine when I just use one class (Person1). As soon as I invoke the test for another class (Person2) performance drops for both classes -- sometimes performance is even worse than normal method reflect calls. Below some data. Initially performance is okay for Person1. As soon as Person2 is used there is a drop.</p>\n\n<pre><code>(Class=Person1, name=Name)\nLoops: 50000000\nGET - DIRECT: Runtime=0.016seconds\nGET - LAMBDA: Runtime=0.016seconds\n\n(Class=Person2, name=Name)\nLoops: 50000000\nGET - DIRECT: Runtime=0.019seconds\ncreateLambda: new getter for clazz=lambda.Person2 name=Name\ncreateLambda: new setter for clazz=lambda.Person2 name=Name\nGET - LAMBDA: Runtime=0.069seconds\n\n(Class=Person1, name=Name)\nLoops: 50000000\nGET - DIRECT: Runtime=0.02seconds\nGET - LAMBDA: Runtime=0.045seconds\n\n(Class=Person2, name=Name)\nLoops: 50000000\nGET - DIRECT: Runtime=0.017seconds\nGET - LAMBDA: Runtime=0.054seconds\n\n(Class=Person1, name=Name)\nLoops: 50000000\nGET - DIRECT: Runtime=0.018seconds\nGET - LAMBDA: Runtime=0.045seconds\n</code></pre>\n"},{"tags":["java","spring-boot","spring-mvc","spring-data-jpa"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":1,"creation_date":1671035868,"post_id":74801270,"comment_id":132012091,"body_markdown":"[Entity](https://javaee.github.io/javaee-spec/javadocs/javax/persistence/Entity.html) and [Component](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/stereotype/Component.html)","body":"<a href=\"https://javaee.github.io/javaee-spec/javadocs/javax/persistence/Entity.html\" rel=\"nofollow noreferrer\">Entity</a> and <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/stereotype/Component.html\" rel=\"nofollow noreferrer\">Component</a>"}],"answers":[{"tags":[],"owner":{"account_id":4230767,"reputation":521,"user_id":6077973,"display_name":"kagof"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671037155,"creation_date":1671037155,"answer_id":74801770,"question_id":74801270,"body_markdown":"It&#39;s worth looking at the documentation which will explain quite a lot, but in a nutshell: \r\n\r\nAn `@Entity` is a persistence concept - eg. an instance of an entity may represent a row in your database.\r\n\r\nA `@Component` is a class that is eligible to be scanned by Spring&#39;s auto-detection for dependency injection.","title":"Difference b/w @entity and @Component","body":"<p>It's worth looking at the documentation which will explain quite a lot, but in a nutshell:</p>\n<p>An <code>@Entity</code> is a persistence concept - eg. an instance of an entity may represent a row in your database.</p>\n<p>A <code>@Component</code> is a class that is eligible to be scanned by Spring's auto-detection for dependency injection.</p>\n"}],"owner":{"account_id":20246520,"reputation":23,"user_id":14848822,"display_name":"saranjoel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1671107609,"creation_date":1671034936,"question_id":74801270,"body_markdown":"What is the difference b/w the annotation `@Entity` and `@Component`?\r\n\r\nI want to know what are the specific use cases and how we are going to use them in real time application","title":"Difference b/w @entity and @Component","body":"<p>What is the difference b/w the annotation <code>@Entity</code> and <code>@Component</code>?</p>\n<p>I want to know what are the specific use cases and how we are going to use them in real time application</p>\n"},{"tags":["java","filter","java-stream"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1565547422,"post_id":57452401,"comment_id":101379618,"body_markdown":"From a glance, I don&#39;t see how you arrive at the expected result. I&#39;m reformatting the code so I can read it at the moment though","body":"From a glance, I don&#39;t see how you arrive at the expected result. I&#39;m reformatting the code so I can read it at the moment though"},{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":0,"creation_date":1565547426,"post_id":57452401,"comment_id":101379620,"body_markdown":"Your Stream pipeline takes an input map, filters out some of its entries, and builds a map of all the entries that weren&#39;t filtered out. Therefore, you can&#39;t expect that the keys in the new map will have different values than the same keys in the input map.","body":"Your Stream pipeline takes an input map, filters out some of its entries, and builds a map of all the entries that weren&#39;t filtered out. Therefore, you can&#39;t expect that the keys in the new map will have different values than the same keys in the input map."},{"owner":{"account_id":2200566,"reputation":209,"user_id":1945064,"accept_rate":67,"display_name":"user1945064"},"score":0,"creation_date":1565547565,"post_id":57452401,"comment_id":101379650,"body_markdown":"is there a better way of doing this? instead of using allMatch and anyMatch?","body":"is there a better way of doing this? instead of using allMatch and anyMatch?"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1565548152,"post_id":57452401,"comment_id":101379767,"body_markdown":"Try re-reading the reformatted code, I think it shows the problems a little more clearly. You&#39;re going to need new lists, which I would do in your collector. Making use of Map#keySet and Set#retainAll will greatly shorten this code","body":"Try re-reading the reformatted code, I think it shows the problems a little more clearly. You&#39;re going to need new lists, which I would do in your collector. Making use of Map#keySet and Set#retainAll will greatly shorten this code"},{"owner":{"account_id":2200566,"reputation":209,"user_id":1945064,"accept_rate":67,"display_name":"user1945064"},"score":0,"creation_date":1565548302,"post_id":57452401,"comment_id":101379798,"body_markdown":"is there a way I could do streams and map and write all the filtering logic there? I tried doing that but not been successful.","body":"is there a way I could do streams and map and write all the filtering logic there? I tried doing that but not been successful."}],"answers":[{"tags":[],"owner":{"account_id":972934,"reputation":20673,"user_id":1575570,"accept_rate":100,"display_name":"Nidhish Krishnan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1565645279,"creation_date":1565638308,"answer_id":57467239,"question_id":57452401,"body_markdown":"I will rather say this is a work around to achieve your expected output using stream.\r\n\r\n\r\n    Map&lt;String, Map&lt;String, String&gt;&gt; result = \r\n        sKey.entrySet().stream()\r\n        .filter(detail -&gt; items.keySet().contains(detail.getKey()) &amp;&amp; \r\n                !Collections.disjoint(detail.getValue().keySet(), items.get(detail.getKey())))\r\n        .collect(HashMap::new, \r\n                (m,v) -&gt; m.put(v.getKey(), v.getValue().entrySet().stream()\r\n                    .filter(detail -&gt; items.get(v.getKey()).contains(detail.getKey()))\r\n                    .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue))), \r\n                HashMap::putAll);\r\n\r\n**Output**\r\n\r\n    {1010012={M=1006}, 1010016={S=1001, C=1003}}","title":"How to Filter a map of map based on another map using Lambda expressions","body":"<p>I will rather say this is a work around to achieve your expected output using stream.</p>\n\n<pre><code>Map&lt;String, Map&lt;String, String&gt;&gt; result = \n    sKey.entrySet().stream()\n    .filter(detail -&gt; items.keySet().contains(detail.getKey()) &amp;&amp; \n            !Collections.disjoint(detail.getValue().keySet(), items.get(detail.getKey())))\n    .collect(HashMap::new, \n            (m,v) -&gt; m.put(v.getKey(), v.getValue().entrySet().stream()\n                .filter(detail -&gt; items.get(v.getKey()).contains(detail.getKey()))\n                .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue))), \n            HashMap::putAll);\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>{1010012={M=1006}, 1010016={S=1001, C=1003}}\n</code></pre>\n"}],"owner":{"account_id":2200566,"reputation":209,"user_id":1945064,"accept_rate":67,"display_name":"user1945064"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":57467239,"answer_count":1,"score":-3,"last_activity_date":1671107588,"creation_date":1565546988,"question_id":57452401,"body_markdown":"I have a Map of Map  which needs to be filtered based of another Map  using lambda expressions\r\n\r\nI tried to do filter on the map and find all matches based of another map but it doesnot seem to work. It seems the values are not filtered correctly.\r\nIs there a way I can do streams and map and put the filtering logic there?\r\nCan someone please help\r\n\r\n\r\n\r\n\r\n     public static void main(String []args){\r\n        System.out.println(&quot;Hello World&quot;);\r\n        Map&lt;String,List&lt;String&gt;&gt; items = new HashMap&lt;&gt;();\r\n        List&lt;String&gt; ut1=new ArrayList&lt;&gt;();\r\n        ut1.add(&quot;S&quot;);\r\n        ut1.add(&quot;C&quot;);\r\n        List&lt;String&gt; ut2=new ArrayList&lt;&gt;();\r\n        ut2.add(&quot;M&quot;);\r\n        List&lt;String&gt; ut3=new ArrayList&lt;&gt;();\r\n        ut3.add(&quot;M&quot;);\r\n        ut3.add(&quot;C&quot;);\r\n        items .put(&quot;1010016&quot;,ut1);\r\n        items .put(&quot;1010019&quot;,ut2);\r\n        items .put(&quot;1010012&quot;,ut3);\r\n        System.out.println(&quot;Map&quot;+items);\r\n        \r\n        Map&lt;String,Map&lt;String,String&gt;&gt; sKey = new HashMap&lt;&gt;();\r\n        Map&lt;String,String&gt; utKey1 = new HashMap&lt;&gt;();\r\n        utKey1.put(&quot;S&quot;,&quot;1001&quot;);\r\n        utKey1.put(&quot;M&quot;,&quot;1002&quot;);\r\n        utKey1.put(&quot;C&quot;,&quot;1003&quot;);\r\n        \r\n        Map&lt;String,String&gt; utKey2 = new HashMap&lt;&gt;();\r\n        utKey2.put(&quot;S&quot;,&quot;1004&quot;);\r\n        \r\n        Map&lt;String,String&gt; utKey3 = new HashMap&lt;&gt;();\r\n        utKey3.put(&quot;S&quot;,&quot;1005&quot;);\r\n        utKey3.put(&quot;M&quot;,&quot;1006&quot;);\r\n        \r\n        Map&lt;String,String&gt; utKey4 = new HashMap&lt;&gt;();\r\n        utKey4.put(&quot;S&quot;,&quot;1007&quot;);\r\n        utKey4.put(&quot;M&quot;,&quot;1008&quot;);\r\n        utKey4.put(&quot;C&quot;,&quot;1009&quot;);\r\n        \r\n        sKey.put(&quot;1010016&quot;,utKey1);\r\n        sKey.put(&quot;1010019&quot;,utKey2);\r\n        sKey.put(&quot;1010012&quot;,utKey3);\r\n        sKey.put(&quot;1010011&quot;,utKey4);\r\n        \r\n        System.out.println(&quot;Map2&quot;+sKey);\r\n    \r\n        Map&lt;String,Map&lt;String,String&gt;&gt; map3 =\r\n            sKey.entrySet().stream()\r\n                .filter(x -&gt; \r\n                    items.containsKey(x.getKey())\r\n                    &amp;&amp; x.getValue().entrySet().stream().allMatch(y -&gt; \r\n                        items.entrySet().stream().anyMatch(list -&gt;\r\n                            list.getValue().contains(y.getKey()))))\r\n                .collect(Collectors.toMap(Entry::getKey, Entry::getValue));\r\n        System.out.println(&quot;Map3&quot;+map3);\r\n     }\r\n\r\n\r\nthe filtered map is returning as:\r\n&gt; Map3{1010012={S=1005, M=1006}, 1010016={S=1001, C=1003, M=1002}, 1010019={S=1004}}\r\n\r\nBut the actual result should be:\r\n&gt; Map3{1010012={M=1006}, 1010016={S=1001, C=1003}}","title":"How to Filter a map of map based on another map using Lambda expressions","body":"<p>I have a Map of Map  which needs to be filtered based of another Map  using lambda expressions</p>\n\n<p>I tried to do filter on the map and find all matches based of another map but it doesnot seem to work. It seems the values are not filtered correctly.\nIs there a way I can do streams and map and put the filtering logic there?\nCan someone please help</p>\n\n<pre><code> public static void main(String []args){\n    System.out.println(\"Hello World\");\n    Map&lt;String,List&lt;String&gt;&gt; items = new HashMap&lt;&gt;();\n    List&lt;String&gt; ut1=new ArrayList&lt;&gt;();\n    ut1.add(\"S\");\n    ut1.add(\"C\");\n    List&lt;String&gt; ut2=new ArrayList&lt;&gt;();\n    ut2.add(\"M\");\n    List&lt;String&gt; ut3=new ArrayList&lt;&gt;();\n    ut3.add(\"M\");\n    ut3.add(\"C\");\n    items .put(\"1010016\",ut1);\n    items .put(\"1010019\",ut2);\n    items .put(\"1010012\",ut3);\n    System.out.println(\"Map\"+items);\n\n    Map&lt;String,Map&lt;String,String&gt;&gt; sKey = new HashMap&lt;&gt;();\n    Map&lt;String,String&gt; utKey1 = new HashMap&lt;&gt;();\n    utKey1.put(\"S\",\"1001\");\n    utKey1.put(\"M\",\"1002\");\n    utKey1.put(\"C\",\"1003\");\n\n    Map&lt;String,String&gt; utKey2 = new HashMap&lt;&gt;();\n    utKey2.put(\"S\",\"1004\");\n\n    Map&lt;String,String&gt; utKey3 = new HashMap&lt;&gt;();\n    utKey3.put(\"S\",\"1005\");\n    utKey3.put(\"M\",\"1006\");\n\n    Map&lt;String,String&gt; utKey4 = new HashMap&lt;&gt;();\n    utKey4.put(\"S\",\"1007\");\n    utKey4.put(\"M\",\"1008\");\n    utKey4.put(\"C\",\"1009\");\n\n    sKey.put(\"1010016\",utKey1);\n    sKey.put(\"1010019\",utKey2);\n    sKey.put(\"1010012\",utKey3);\n    sKey.put(\"1010011\",utKey4);\n\n    System.out.println(\"Map2\"+sKey);\n\n    Map&lt;String,Map&lt;String,String&gt;&gt; map3 =\n        sKey.entrySet().stream()\n            .filter(x -&gt; \n                items.containsKey(x.getKey())\n                &amp;&amp; x.getValue().entrySet().stream().allMatch(y -&gt; \n                    items.entrySet().stream().anyMatch(list -&gt;\n                        list.getValue().contains(y.getKey()))))\n            .collect(Collectors.toMap(Entry::getKey, Entry::getValue));\n    System.out.println(\"Map3\"+map3);\n }\n</code></pre>\n\n<p>the filtered map is returning as:</p>\n\n<blockquote>\n  <p>Map3{1010012={S=1005, M=1006}, 1010016={S=1001, C=1003, M=1002}, 1010019={S=1004}}</p>\n</blockquote>\n\n<p>But the actual result should be:</p>\n\n<blockquote>\n  <p>Map3{1010012={M=1006}, 1010016={S=1001, C=1003}}</p>\n</blockquote>\n"},{"tags":["java","generics","lambda"],"answers":[{"tags":[],"owner":{"account_id":5363406,"reputation":420,"user_id":4274023,"accept_rate":50,"display_name":"UNIQUEorn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1556001189,"creation_date":1556001189,"answer_id":55805522,"question_id":55725518,"body_markdown":"Seems like a bug in Java 1.8_191. It works with Java 11. I don&#39;t know about versions &lt; 11.","title":"Type inference for lambda with generic exception chooses Exception instead of RuntimeException?","body":"<p>Seems like a bug in Java 1.8_191. It works with Java 11. I don't know about versions &lt; 11.</p>\n"}],"owner":{"account_id":5363406,"reputation":420,"user_id":4274023,"accept_rate":50,"display_name":"UNIQUEorn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":55805522,"answer_count":1,"score":2,"last_activity_date":1671107572,"creation_date":1555497047,"question_id":55725518,"body_markdown":"The following SSCCE shows what I&#39;m currently trying: I want to write an API that takes a user-defined lambda and executes it later on. The lambda defines a generic exception type, so the user may specify a custom exception that may be thrown.\r\n\r\nSo far, so good, here is the code of the API part:\r\n\r\n```\r\npublic class Api {\r\n\r\n  interface ThrowingLambda&lt;E extends Exception&gt; {\r\n    public void doSomething() throws E;\r\n  }\r\n\r\n  static class Delegator&lt;E extends Exception&gt; {\r\n\r\n    private ThrowingLambda&lt;E&gt; function;\r\n\r\n    public Delegator(ThrowingLambda&lt;E&gt; function) {\r\n      this.function = function;\r\n    }\r\n\r\n    public void doSomething() throws E {\r\n      function.doSomething();\r\n    }\r\n  }\r\n\r\n  public static &lt;E extends Exception&gt; Delegator&lt;E&gt; takeAlambda(ThrowingLambda&lt;E&gt; function) {\r\n    return new Delegator&lt;E&gt;(function);\r\n  }\r\n\r\n}\r\n``` \r\nThe above code compiles, nothing wrong here. But the client that is using the API now gets a problem if he specifies a lambda that does not declare any exceptions:\r\n\r\n```\r\nimport org.junit.Test;\r\n\r\npublic class TestApi {\r\n\r\n  @Test\r\n  public void shouldCompile() {\r\n    Api.takeAlambda(TestApi::doSomething)\r\n        .doSomething();\r\n  }\r\n\r\n  public static void doSomething() {\r\n    System.out.println(&quot;Did something!&quot;);\r\n  }\r\n\r\n}\r\n```\r\n\r\nFrom my point of view I would expect the compiler to infere the type `RuntimeException` for the lambda&#39;s exception type. The Eclipse compiler does this and everything seems to be fine, but the Java compiler thinks different and goes bananas:\r\n\r\n```\r\n[ERROR] COMPILATION ERROR : \r\nTestApi.java:[10,21] unreported exception java.lang.Exception; must be caught or declared to be thrown\r\n[INFO] 1 error\r\n```\r\n\r\nEven more funny: If you add `throws E` to the method `takeAlambda(ThrowingLambda&lt;E&gt; function)` then it works and the compiler does not complain anymore.\r\n\r\nI&#39;ve no idea what the compiler does here. Is this a compiler bug or something that is on purpose?","title":"Type inference for lambda with generic exception chooses Exception instead of RuntimeException?","body":"<p>The following SSCCE shows what I'm currently trying: I want to write an API that takes a user-defined lambda and executes it later on. The lambda defines a generic exception type, so the user may specify a custom exception that may be thrown.</p>\n\n<p>So far, so good, here is the code of the API part:</p>\n\n<pre><code>public class Api {\n\n  interface ThrowingLambda&lt;E extends Exception&gt; {\n    public void doSomething() throws E;\n  }\n\n  static class Delegator&lt;E extends Exception&gt; {\n\n    private ThrowingLambda&lt;E&gt; function;\n\n    public Delegator(ThrowingLambda&lt;E&gt; function) {\n      this.function = function;\n    }\n\n    public void doSomething() throws E {\n      function.doSomething();\n    }\n  }\n\n  public static &lt;E extends Exception&gt; Delegator&lt;E&gt; takeAlambda(ThrowingLambda&lt;E&gt; function) {\n    return new Delegator&lt;E&gt;(function);\n  }\n\n}\n</code></pre>\n\n<p>The above code compiles, nothing wrong here. But the client that is using the API now gets a problem if he specifies a lambda that does not declare any exceptions:</p>\n\n<pre><code>import org.junit.Test;\n\npublic class TestApi {\n\n  @Test\n  public void shouldCompile() {\n    Api.takeAlambda(TestApi::doSomething)\n        .doSomething();\n  }\n\n  public static void doSomething() {\n    System.out.println(\"Did something!\");\n  }\n\n}\n</code></pre>\n\n<p>From my point of view I would expect the compiler to infere the type <code>RuntimeException</code> for the lambda's exception type. The Eclipse compiler does this and everything seems to be fine, but the Java compiler thinks different and goes bananas:</p>\n\n<pre><code>[ERROR] COMPILATION ERROR : \nTestApi.java:[10,21] unreported exception java.lang.Exception; must be caught or declared to be thrown\n[INFO] 1 error\n</code></pre>\n\n<p>Even more funny: If you add <code>throws E</code> to the method <code>takeAlambda(ThrowingLambda&lt;E&gt; function)</code> then it works and the compiler does not complain anymore.</p>\n\n<p>I've no idea what the compiler does here. Is this a compiler bug or something that is on purpose?</p>\n"},{"tags":["java","selenium","selenium-webdriver","selenium-chromedriver","overwrite"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1671111452,"post_id":74811531,"comment_id":132030874,"body_markdown":"Add the code. Show us how you save file and then re-save it.","body":"Add the code. Show us how you save file and then re-save it."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1671176616,"post_id":74811531,"comment_id":132046784,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671107458,"creation_date":1671107458,"answer_id":74811568,"question_id":74811531,"body_markdown":"I guess you have opened the first image with some viewer and did not close that viewer when you tried to overwrite the existing image with a new one.","title":"The process cannot access the file because it is being used by another process","body":"<p>I guess you have opened the first image with some viewer and did not close that viewer when you tried to overwrite the existing image with a new one.</p>\n"}],"owner":{"account_id":27227542,"reputation":1,"user_id":20755818,"display_name":"Umapathy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671107478,"creation_date":1671107296,"question_id":74811531,"body_markdown":"1. Took Screenshot and saved to ( D://Myimages//logo.jpg )\r\n2. again Took screenshot and saving in same folder ( overwrite ) ( D://Myimages//logo.jpg )\r\n\r\nBut unable to overwrite the images in same path, getting &quot;The process cannot access the file because it is being used by another process.&quot;.\r\n\r\n\r\n\r\ni wanted to overwrite the images in same path.","title":"The process cannot access the file because it is being used by another process","body":"<ol>\n<li>Took Screenshot and saved to ( D://Myimages//logo.jpg )</li>\n<li>again Took screenshot and saving in same folder ( overwrite ) ( D://Myimages//logo.jpg )</li>\n</ol>\n<p>But unable to overwrite the images in same path, getting &quot;The process cannot access the file because it is being used by another process.&quot;.</p>\n<p>i wanted to overwrite the images in same path.</p>\n"},{"tags":["java","amazon-web-services","docker","aws-step-functions"],"comments":[{"owner":{"account_id":6157899,"reputation":19791,"user_id":4800344,"display_name":"Ermiya Eskandary"},"score":0,"creation_date":1671112133,"post_id":74811560,"comment_id":132031182,"body_markdown":"Search for `CreateStateMachine` within all files in the extracted JAR and see which logger its using - there may be more than one logger configured in the Java application or it may be writing to the console.","body":"Search for <code>CreateStateMachine</code> within all files in the extracted JAR and see which logger its using - there may be more than one logger configured in the Java application or it may be writing to the console."}],"owner":{"account_id":134543,"reputation":1243,"user_id":336752,"accept_rate":83,"display_name":"Stuart Leyland-Cole"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671107430,"creation_date":1671107430,"question_id":74811560,"body_markdown":"I am using [AWS Step Functions Local](https://docs.aws.amazon.com/step-functions/latest/dg/sfn-local-docker.html) for testing Step Functions on my local machine, but the level of logging has significantly increased the time for my test suite to run. I cannot find any configuration options on the AWS website to control the log level so I have been trying to roll my own with no success.\r\n\r\nThe logging I am trying to hide looks like this:\r\n\r\n```\r\n2022-12-15 12:11:36.562: CreateStateMachine =&gt; {&quot;requestClientOptions&quot;:{&quot;readLimit&quot;:131073,&quot;skipAppendUriPath&quot;:false},&quot;requestMetricCollector&quot;:null,&quot;customRequestHeaders&quot;:null,&quot;customQueryParameters&quot;:null,&quot;cloneSource&quot;:null,&quot;sdkRequestTimeout&quot;:null,&quot;sdkClientExecutionTimeout&quot;:null,&quot;name&quot;:&quot;&lt;MY STEP FUNCTION NAME&quot;,&quot;definition&quot;:&quot;{MY STEP FUNCTION DEFINITION}&quot;...}\r\n\r\n2022-12-15 12:11:36.782: [200] CreateStateMachine &lt;= {&quot;sdkResponseMetadata&quot;:null,&quot;sdkHttpMetadata&quot;:null,&quot;stateMachineArn&quot;:&quot;arn:aws:states:eu-west-1:123456789012:stateMachine:MY_STEP_FUNCTION_NAME&quot;,&quot;creationDate&quot;:1671106296763}\r\n```\r\n\r\nI downloaded the [Zip file containing the Step Functions Local JAR file](https://docs.aws.amazon.com/step-functions/latest/dg/sfn-local-jar.html), extracted the zip file, extracted `StepFunctionsLocal.jar`, and found there was a `log4j.properties` file. &quot;Excellent!&quot;, I thought, I can provide my own configuration file and it will be great. So I created a Docker image with the following `Dockerfile`:\r\n\r\n```\r\nFROM amazoncorretto:11\r\n\r\nWORKDIR /jar\r\nCOPY . /jar\r\n\r\nRUN yum -y install unzip zip &amp;&amp; yum -y clean all &amp;&amp; rm -rf /var/cache\r\n\r\nRUN mkdir -p /jar/extracted\r\nRUN unzip StepFunctionsLocal.zip -d /jar/extracted\r\n\r\nENV SFN_MOCK_CONFIG=&quot;&quot;\r\nENV LAMBDA_ENDPOINT=&quot;&quot;\r\nENV AWS_DEFAULT_REGION=&quot;&quot;\r\n\r\nEXPOSE 8083\r\n\r\nCMD [&quot;java&quot;, &quot;-Dlog4j2.configurationFile=file:/jar/log4j.properties&quot;, &quot;-jar&quot;, &quot;/jar/extracted/StepFunctionsLocal.jar&quot;]\r\n```\r\n\r\nWith the following `log4.properties` file which is in the same directory as the `Dockerfile`:\r\n\r\n```\r\n\r\n # console is set to be a ConsoleAppender.\r\n log4j.appender.console=org.apache.log4j.ConsoleAppender\r\n\r\n # console uses PatternLayout.\r\n log4j.appender.console.layout=org.apache.log4j.PatternLayout\r\n log4j.appender.console.layout.ConversionPattern=%-4r [%t] %-5p %c %x - %m%n\r\n\r\n log4j.appender.APPLOG=amazon.platform.logging.PeriodicConcurrentFileAppender\r\n log4j.appender.APPLOG.layout=amazon.platform.logging.SanitizingPatternLayout\r\n log4j.appender.APPLOG.File=../logs/application.log\r\n\r\n log4j.appender.APPLOG.DatePattern=&#39;.&#39;yyyy-MM-dd-HH\r\n log4j.appender.APPLOG.layout.ConversionPattern=%p %d{D/HH:mm:ss:SSS} %t %c - %m%n\r\n\r\n\r\n # Set root logger level to INFO and its only appender to console.\r\n log4j.rootLogger=ERROR, APPLOG\r\n\r\n #log4j.logger.com.amazon.coral.reflect=WARN\r\n #log4j.logger.httpclient.wire=OFF\r\n # Enable this to see everything that httpclient does.\r\n #log4j.logger.org.apache.commons.httpclient=WARN\r\n #log4j.logger.org.springframework=WARN\r\n #log4j.logger.org.apache=WARN\r\n #log4j.logger.com.amazonaws.swf.console=ERROR\r\n #log4j.logger.com.amazonaws.console.auth=ERROR\r\n```\r\n\r\nThis is the same file I found in the extracted `StepFunctionsLocal.jar` except all of the lines which configure the log level have been commented out and the root logger level set to `ERROR`.\r\n\r\nI built the image and ran it, but the same logging still appeared. At this point I&#39;m stumped. Am I going about this the right way? Have I missed something obvious?","title":"Configure logging in AWS Step Functions Local","body":"<p>I am using <a href=\"https://docs.aws.amazon.com/step-functions/latest/dg/sfn-local-docker.html\" rel=\"nofollow noreferrer\">AWS Step Functions Local</a> for testing Step Functions on my local machine, but the level of logging has significantly increased the time for my test suite to run. I cannot find any configuration options on the AWS website to control the log level so I have been trying to roll my own with no success.</p>\n<p>The logging I am trying to hide looks like this:</p>\n<pre><code>2022-12-15 12:11:36.562: CreateStateMachine =&gt; {&quot;requestClientOptions&quot;:{&quot;readLimit&quot;:131073,&quot;skipAppendUriPath&quot;:false},&quot;requestMetricCollector&quot;:null,&quot;customRequestHeaders&quot;:null,&quot;customQueryParameters&quot;:null,&quot;cloneSource&quot;:null,&quot;sdkRequestTimeout&quot;:null,&quot;sdkClientExecutionTimeout&quot;:null,&quot;name&quot;:&quot;&lt;MY STEP FUNCTION NAME&quot;,&quot;definition&quot;:&quot;{MY STEP FUNCTION DEFINITION}&quot;...}\n\n2022-12-15 12:11:36.782: [200] CreateStateMachine &lt;= {&quot;sdkResponseMetadata&quot;:null,&quot;sdkHttpMetadata&quot;:null,&quot;stateMachineArn&quot;:&quot;arn:aws:states:eu-west-1:123456789012:stateMachine:MY_STEP_FUNCTION_NAME&quot;,&quot;creationDate&quot;:1671106296763}\n</code></pre>\n<p>I downloaded the <a href=\"https://docs.aws.amazon.com/step-functions/latest/dg/sfn-local-jar.html\" rel=\"nofollow noreferrer\">Zip file containing the Step Functions Local JAR file</a>, extracted the zip file, extracted <code>StepFunctionsLocal.jar</code>, and found there was a <code>log4j.properties</code> file. &quot;Excellent!&quot;, I thought, I can provide my own configuration file and it will be great. So I created a Docker image with the following <code>Dockerfile</code>:</p>\n<pre><code>FROM amazoncorretto:11\n\nWORKDIR /jar\nCOPY . /jar\n\nRUN yum -y install unzip zip &amp;&amp; yum -y clean all &amp;&amp; rm -rf /var/cache\n\nRUN mkdir -p /jar/extracted\nRUN unzip StepFunctionsLocal.zip -d /jar/extracted\n\nENV SFN_MOCK_CONFIG=&quot;&quot;\nENV LAMBDA_ENDPOINT=&quot;&quot;\nENV AWS_DEFAULT_REGION=&quot;&quot;\n\nEXPOSE 8083\n\nCMD [&quot;java&quot;, &quot;-Dlog4j2.configurationFile=file:/jar/log4j.properties&quot;, &quot;-jar&quot;, &quot;/jar/extracted/StepFunctionsLocal.jar&quot;]\n</code></pre>\n<p>With the following <code>log4.properties</code> file which is in the same directory as the <code>Dockerfile</code>:</p>\n<pre><code>\n # console is set to be a ConsoleAppender.\n log4j.appender.console=org.apache.log4j.ConsoleAppender\n\n # console uses PatternLayout.\n log4j.appender.console.layout=org.apache.log4j.PatternLayout\n log4j.appender.console.layout.ConversionPattern=%-4r [%t] %-5p %c %x - %m%n\n\n log4j.appender.APPLOG=amazon.platform.logging.PeriodicConcurrentFileAppender\n log4j.appender.APPLOG.layout=amazon.platform.logging.SanitizingPatternLayout\n log4j.appender.APPLOG.File=../logs/application.log\n\n log4j.appender.APPLOG.DatePattern='.'yyyy-MM-dd-HH\n log4j.appender.APPLOG.layout.ConversionPattern=%p %d{D/HH:mm:ss:SSS} %t %c - %m%n\n\n\n # Set root logger level to INFO and its only appender to console.\n log4j.rootLogger=ERROR, APPLOG\n\n #log4j.logger.com.amazon.coral.reflect=WARN\n #log4j.logger.httpclient.wire=OFF\n # Enable this to see everything that httpclient does.\n #log4j.logger.org.apache.commons.httpclient=WARN\n #log4j.logger.org.springframework=WARN\n #log4j.logger.org.apache=WARN\n #log4j.logger.com.amazonaws.swf.console=ERROR\n #log4j.logger.com.amazonaws.console.auth=ERROR\n</code></pre>\n<p>This is the same file I found in the extracted <code>StepFunctionsLocal.jar</code> except all of the lines which configure the log level have been commented out and the root logger level set to <code>ERROR</code>.</p>\n<p>I built the image and ran it, but the same logging still appeared. At this point I'm stumped. Am I going about this the right way? Have I missed something obvious?</p>\n"},{"tags":["java","visual-studio-code"],"answers":[{"tags":[],"owner":{"account_id":26198831,"reputation":37,"user_id":19879556,"display_name":"Unexpected"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671107033,"creation_date":1671107033,"answer_id":74811470,"question_id":74810537,"body_markdown":"The &quot;uneditable&quot; text that appears before your strings in Studio Code is called a &quot;read-only&quot; indicator, and it is displayed by default to indicate that the text is not editable. This can be useful when working with code that is generated by a compiler or interpreter, as it helps you to distinguish between editable and uneditable code.\r\n\r\nTo remove the read-only indicator from your code, you can do the following:\r\n\r\nOpen the Settings editor in Studio Code by going to the File menu and selecting Preferences &gt; Settings.\r\n\r\nIn the Settings editor, search for the **&quot;editor.rulers&quot;** setting.\r\n\r\nSet the **&quot;editor.rulers&quot;** setting to an empty array, like this:\r\n\r\n    &quot;editor.rulers&quot;: []\r\n\r\nSave your changes by clicking on the &quot;Save&quot; button in the top-right corner of the Settings editor.\r\nAfter completing these steps, the read-only indicators should no longer appear in your code.\r\n\r\nPlease note that disabling the read-only indicators may make it more difficult to distinguish between editable and uneditable code. You may want to consider leaving this feature enabled, and instead using a different color or font style for the read-only indicators to make them more noticeable.\r\n","title":"Removing uneditable text from studio code","body":"<p>The &quot;uneditable&quot; text that appears before your strings in Studio Code is called a &quot;read-only&quot; indicator, and it is displayed by default to indicate that the text is not editable. This can be useful when working with code that is generated by a compiler or interpreter, as it helps you to distinguish between editable and uneditable code.</p>\n<p>To remove the read-only indicator from your code, you can do the following:</p>\n<p>Open the Settings editor in Studio Code by going to the File menu and selecting Preferences &gt; Settings.</p>\n<p>In the Settings editor, search for the <strong>&quot;editor.rulers&quot;</strong> setting.</p>\n<p>Set the <strong>&quot;editor.rulers&quot;</strong> setting to an empty array, like this:</p>\n<pre><code>&quot;editor.rulers&quot;: []\n</code></pre>\n<p>Save your changes by clicking on the &quot;Save&quot; button in the top-right corner of the Settings editor.\nAfter completing these steps, the read-only indicators should no longer appear in your code.</p>\n<p>Please note that disabling the read-only indicators may make it more difficult to distinguish between editable and uneditable code. You may want to consider leaving this feature enabled, and instead using a different color or font style for the read-only indicators to make them more noticeable.</p>\n"}],"owner":{"account_id":27260811,"reputation":1,"user_id":20783676,"display_name":"massive.attack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1671112456,"answer_count":1,"score":0,"last_activity_date":1671107033,"creation_date":1671102366,"question_id":74810537,"body_markdown":"Stupid question. I just started trying to use studio code to write in java and realized that after compiling that x: (uneditable) appears before the string. Seems like a setting that i should change, how could i remove it?\r\n\r\ncompiled my first program and expected no new text to appear on my code.(https://i.stack.imgur.com/OYLJZ.png)","title":"Removing uneditable text from studio code","body":"<p>Stupid question. I just started trying to use studio code to write in java and realized that after compiling that x: (uneditable) appears before the string. Seems like a setting that i should change, how could i remove it?</p>\n<p>compiled my first program and expected no new text to appear on my code.(<a href=\"https://i.stack.imgur.com/OYLJZ.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/OYLJZ.png</a>)</p>\n"},{"tags":["java","kotlin","android-room","kotlin-coroutines","kapt"],"comments":[{"owner":{"account_id":1919838,"reputation":28264,"user_id":1731626,"display_name":"Sergio"},"score":0,"creation_date":1671104880,"post_id":74810928,"comment_id":132028423,"body_markdown":"Have you marked the `ConfCard` class with `@Entity` annotation?","body":"Have you marked the <code>ConfCard</code> class with <code>@Entity</code> annotation?"},{"owner":{"account_id":25672666,"reputation":71,"user_id":19436650,"display_name":"Mehar Ahmer"},"score":0,"creation_date":1671107172,"post_id":74810928,"comment_id":132029226,"body_markdown":"@Sergio Yes brother, it&#39;s marked already. But an error occurred when I used suspend keyword with the Insert() method. I uploaded my entity class above please check!","body":"@Sergio Yes brother, it&#39;s marked already. But an error occurred when I used suspend keyword with the Insert() method. I uploaded my entity class above please check!"}],"owner":{"account_id":25672666,"reputation":71,"user_id":19436650,"display_name":"Mehar Ahmer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671106855,"creation_date":1671104306,"question_id":74810928,"body_markdown":"I&#39;m facing this Error when I used the **suspend** keyword with the ```insert()``` method in ```Kotlin```. I researched a lot but can&#39;t understand the best solution that how I resolve this. Kindly if you people have any best solution against this error. Please suggest/help me, how I can resolve this.\r\n\r\n**Error Text**\r\n```\r\nerror: Type of the parameter must be a class annotated with @Entity or a collection/array of it.\r\n    kotlin.coroutines.Continuation&lt;? super java.lang.Long&gt; continuation);\r\n```\r\n```\r\nerror: Not sure how to handle insert method&#39;s return type.\r\n    public abstract java.lang.Object insertConfCard(@org.jetbrains.annotations.NotNull()\r\n```\r\n```\r\nExecution failed for task &#39;:app:kaptDebugKotlin&#39;.\r\n&gt; A failure occurred while executing org.jetbrains.kotlin.gradle.internal.KaptWithoutKotlincTask$KaptExecutionWorkAction\r\n   &gt; java.lang.reflect.InvocationTargetException (no error message)\r\n```\r\n\r\n**My DAO**\r\n```\r\n@Dao\r\ninterface ConfCardDao {\r\n    @Insert(onConflict = OnConflictStrategy.REPLACE)\r\n    fun insertConfCard(confCard: ConfCard): Long\r\n}\r\n```\r\n\r\n**Generated DAO**\r\n```\r\nimport java.lang.System;\r\n\r\n@androidx.room.Dao()\r\n@kotlin.Metadata(mv = {1, 7, 1}, k = 1, d1 = {&quot;\\u0000\\u0018\\n\\u0002\\u0018\\u0002\\n\\u0002\\u0010\\u0000\\n\\u0000\\n\\u0002\\u0010\\t\\n\\u0000\\n\\u0002\\u0018\\u0002\\n\\u0002\\b\\u0002\\bg\\u0018\\u00002\\u00020\\u0001J\\u0019\\u0010\\u0002\\u001a\\u00020\\u00032\\u0006\\u0010\\u0004\\u001a\\u00020\\u0005H\\u00a7@\\u00f8\\u0001\\u0000\\u00a2\\u0006\\u0002\\u0010\\u0006\\u0082\\u0002\\u0004\\n\\u0002\\b\\u0019\\u00a8\\u0006\\u0007&quot;}, d2 = {&quot;Lcom/example/stid_settings_kotlin/datamodel/data/local/ConfCardDao;&quot;, &quot;&quot;, &quot;insertConfCard&quot;, &quot;&quot;, &quot;confCard&quot;, &quot;Lcom/example/stid_settings_kotlin/datamodel/data/local/ConfCard;&quot;, &quot;(Lcom/example/stid_settings_kotlin/datamodel/data/local/ConfCard;Lkotlin/coroutines/Continuation;)Ljava/lang/Object;&quot;, &quot;app_debug&quot;})\r\npublic abstract interface ConfCardDao {\r\n    \r\n    @org.jetbrains.annotations.Nullable()\r\n    @androidx.room.Insert(onConflict = androidx.room.OnConflictStrategy.REPLACE)\r\n    public abstract java.lang.Object insertConfCard(@org.jetbrains.annotations.NotNull()\r\n    com.example.stid_settings_kotlin.datamodel.data.local.ConfCard confCard, @org.jetbrains.annotations.NotNull()\r\n    kotlin.coroutines.Continuation&lt;? super java.lang.Long&gt; continuation);\r\n}\r\n```\r\n\r\n**My build.gradle(:app)**\r\n```\r\ndependencies {\r\n\r\n    implementation &#39;androidx.core:core-ktx:1.7.0&#39;\r\n    implementation &#39;androidx.appcompat:appcompat:1.5.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.7.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n\r\n    // Retrofit\r\n    implementation &#39;com.squareup.retrofit2:retrofit:2.9.0&#39;\r\n    implementation &#39;com.squareup.retrofit2:converter-gson:2.9.0&#39;\r\n//    implementation &quot;com.squareup.okhttp3:okhttp:4.9.0&quot;\r\n\r\n    // Coroutines\r\n    implementation &#39;org.jetbrains.kotlinx:kotlinx-coroutines-core:1.6.1&#39;\r\n    implementation &#39;org.jetbrains.kotlinx:kotlinx-coroutines-android:1.6.1&#39;\r\n\r\n    // Coroutine Lifecycle Scopes\r\n    implementation &quot;androidx.lifecycle:lifecycle-viewmodel-ktx:2.5.1&quot;\r\n    implementation &quot;androidx.lifecycle:lifecycle-runtime-ktx:2.5.1&quot;\r\n\r\n    // Room\r\n    implementation &quot;androidx.room:room-runtime:2.3.0&quot;\r\n    kapt &quot;androidx.room:room-compiler:2.3.0&quot;\r\n\r\n    // optional - Kotlin Extensions and Coroutines support for Room -- use room with coroutine\r\n    implementation &quot;androidx.room:room-ktx:2.3.0&quot;\r\n}\r\n```\r\n\r\n**My build.gradle(:Project)**\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39; version &#39;7.2.0&#39; apply false\r\n    id &#39;com.android.library&#39; version &#39;7.2.0&#39; apply false\r\n    id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.7.10&#39; apply false\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n```\r\n\r\n**My Entity Class**\r\n```\r\n@Entity(tableName = &quot;confcard&quot;, indices = [Index(value = [&quot;confName&quot;], unique = true)])\r\nclass ConfCard {\r\n\r\n    @PrimaryKey(autoGenerate = true)\r\n    var id: Int = 0\r\n\r\n    @NotNull\r\n    var confName: String\r\n\r\n    @NotNull\r\n    var name: String\r\n\r\n    @NotNull\r\n    var pid: String\r\n\r\n    @NotNull\r\n    var pver: String\r\n\r\n    @NotNull\r\n    var data: String\r\n\r\n    @NotNull\r\n    var kNew: String\r\n\r\n    @NotNull\r\n    var kCur: String\r\n\r\n    @NotNull\r\n    var uuid: String\r\n\r\n    @NotNull\r\n    var type: String // ScbvsOCB\r\n\r\n    @NotNull\r\n    var tkNeeded: String\r\n\r\n    @NotNull\r\n    var originatingServer: String\r\n\r\n    constructor() {\r\n        this.id = 0\r\n        this.confName = &quot;&quot;\r\n        this.name = &quot;&quot;\r\n        this.pid = &quot;&quot;\r\n        this.pver = &quot;&quot;\r\n        this.data = &quot;&quot;\r\n        this.kNew = &quot;&quot;\r\n        this.kCur = &quot;&quot;\r\n        this.uuid = &quot;&quot;\r\n        this.type = &quot;&quot;\r\n        this.originatingServer = &quot;&quot;\r\n        this.tkNeeded = &quot;&quot;\r\n    }\r\n    \r\n    constructor(\r\n        ConfName: String,\r\n        Name: String,\r\n        PartId: String,\r\n        PartVer: String,\r\n        Data: String,\r\n        KNew: String,\r\n        KCur: String,\r\n        UUID: String,\r\n        CardType: String,\r\n        OriginatingServer: String,\r\n        TkNeeded: String,\r\n    ) {\r\n        this.confName = ConfName\r\n        this.name = Name\r\n        this.pid = PartId\r\n        this.pver = PartVer\r\n        this.data = Data\r\n        this.kNew = KNew\r\n        this.kCur = KCur\r\n        this.uuid = UUID\r\n        this.type = CardType\r\n        this.originatingServer = OriginatingServer\r\n        this.tkNeeded = TkNeeded\r\n    }\r\n\r\n    @JvmName(&quot;getId1&quot;)\r\n    fun getId(): Int = id\r\n\r\n    @JvmName(&quot;setId1&quot;)\r\n    fun setId(id: Int) {\r\n        this.id = id\r\n    }\r\n\r\n    @JvmName(&quot;getConfName1&quot;)\r\n    fun getConfName(): String = confName\r\n\r\n    @JvmName(&quot;setConfName1&quot;)\r\n    fun setConfName(confName: String) {\r\n        this.confName = confName\r\n    }\r\n\r\n    @JvmName(&quot;getName1&quot;)\r\n    fun getName(): String = name\r\n\r\n    @JvmName(&quot;setName1&quot;)\r\n    fun setName(name: String) {\r\n        this.name = name\r\n    }\r\n\r\n    fun getPartId(): String = pid\r\n\r\n    fun setPartId(pid: String) {\r\n        this.pid = pid\r\n    }\r\n\r\n    fun getPartVer(): String = pver\r\n\r\n    fun getPartVer(pver: String) {\r\n        this.pver = pver\r\n    }\r\n\r\n    @JvmName(&quot;getData1&quot;)\r\n    fun getData(): String = data\r\n\r\n    @JvmName(&quot;setData1&quot;)\r\n    fun setData(data: String) {\r\n        this.data = data\r\n    }\r\n\r\n    @JvmName(&quot;getKNew1&quot;)\r\n    fun getKNew(): String = kNew\r\n\r\n    @JvmName(&quot;setKNew1&quot;)\r\n    fun setKNew(kNew: String) {\r\n        this.kNew = kNew\r\n    }\r\n\r\n    @JvmName(&quot;getKCur1&quot;)\r\n    fun getKCur(): String = kCur\r\n\r\n    @JvmName(&quot;setKCur1&quot;)\r\n    fun setKCur(kCur: String) {\r\n        this.kCur = kCur\r\n    }\r\n\r\n    fun getUUID(): String = uuid\r\n\r\n    fun setUUID(uuid: String) {\r\n        this.uuid = uuid\r\n    }\r\n\r\n    fun getCardType(): String = type\r\n\r\n    fun setCardType(type: String) {\r\n        this.type = type\r\n    }\r\n\r\n    @JvmName(&quot;getOriginatingServer1&quot;)\r\n    fun getOriginatingServer(): String = originatingServer\r\n\r\n    @JvmName(&quot;setOriginatingServer1&quot;)\r\n    fun setOriginatingServer(originatingServer: String) {\r\n        this.originatingServer = originatingServer\r\n    }\r\n\r\n    @JvmName(&quot;getTkNeeded1&quot;)\r\n    fun getTkNeeded(): String = tkNeeded\r\n\r\n    @JvmName(&quot;setTkNeeded1&quot;)\r\n    fun setTkNeeded(tkNeeded: String) {\r\n        this.tkNeeded = tkNeeded\r\n    }\r\n}\r\n```","title":"error: Type of the parameter must be a class annotated with @Entity or a collection/array of it","body":"<p>I'm facing this Error when I used the <strong>suspend</strong> keyword with the <code>insert()</code> method in <code>Kotlin</code>. I researched a lot but can't understand the best solution that how I resolve this. Kindly if you people have any best solution against this error. Please suggest/help me, how I can resolve this.</p>\n<p><strong>Error Text</strong></p>\n<pre><code>error: Type of the parameter must be a class annotated with @Entity or a collection/array of it.\n    kotlin.coroutines.Continuation&lt;? super java.lang.Long&gt; continuation);\n</code></pre>\n<pre><code>error: Not sure how to handle insert method's return type.\n    public abstract java.lang.Object insertConfCard(@org.jetbrains.annotations.NotNull()\n</code></pre>\n<pre><code>Execution failed for task ':app:kaptDebugKotlin'.\n&gt; A failure occurred while executing org.jetbrains.kotlin.gradle.internal.KaptWithoutKotlincTask$KaptExecutionWorkAction\n   &gt; java.lang.reflect.InvocationTargetException (no error message)\n</code></pre>\n<p><strong>My DAO</strong></p>\n<pre><code>@Dao\ninterface ConfCardDao {\n    @Insert(onConflict = OnConflictStrategy.REPLACE)\n    fun insertConfCard(confCard: ConfCard): Long\n}\n</code></pre>\n<p><strong>Generated DAO</strong></p>\n<pre><code>import java.lang.System;\n\n@androidx.room.Dao()\n@kotlin.Metadata(mv = {1, 7, 1}, k = 1, d1 = {&quot;\\u0000\\u0018\\n\\u0002\\u0018\\u0002\\n\\u0002\\u0010\\u0000\\n\\u0000\\n\\u0002\\u0010\\t\\n\\u0000\\n\\u0002\\u0018\\u0002\\n\\u0002\\b\\u0002\\bg\\u0018\\u00002\\u00020\\u0001J\\u0019\\u0010\\u0002\\u001a\\u00020\\u00032\\u0006\\u0010\\u0004\\u001a\\u00020\\u0005H\\u00a7@\\u00f8\\u0001\\u0000\\u00a2\\u0006\\u0002\\u0010\\u0006\\u0082\\u0002\\u0004\\n\\u0002\\b\\u0019\\u00a8\\u0006\\u0007&quot;}, d2 = {&quot;Lcom/example/stid_settings_kotlin/datamodel/data/local/ConfCardDao;&quot;, &quot;&quot;, &quot;insertConfCard&quot;, &quot;&quot;, &quot;confCard&quot;, &quot;Lcom/example/stid_settings_kotlin/datamodel/data/local/ConfCard;&quot;, &quot;(Lcom/example/stid_settings_kotlin/datamodel/data/local/ConfCard;Lkotlin/coroutines/Continuation;)Ljava/lang/Object;&quot;, &quot;app_debug&quot;})\npublic abstract interface ConfCardDao {\n    \n    @org.jetbrains.annotations.Nullable()\n    @androidx.room.Insert(onConflict = androidx.room.OnConflictStrategy.REPLACE)\n    public abstract java.lang.Object insertConfCard(@org.jetbrains.annotations.NotNull()\n    com.example.stid_settings_kotlin.datamodel.data.local.ConfCard confCard, @org.jetbrains.annotations.NotNull()\n    kotlin.coroutines.Continuation&lt;? super java.lang.Long&gt; continuation);\n}\n</code></pre>\n<p><strong>My build.gradle(:app)</strong></p>\n<pre><code>dependencies {\n\n    implementation 'androidx.core:core-ktx:1.7.0'\n    implementation 'androidx.appcompat:appcompat:1.5.1'\n    implementation 'com.google.android.material:material:1.7.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n\n    // Retrofit\n    implementation 'com.squareup.retrofit2:retrofit:2.9.0'\n    implementation 'com.squareup.retrofit2:converter-gson:2.9.0'\n//    implementation &quot;com.squareup.okhttp3:okhttp:4.9.0&quot;\n\n    // Coroutines\n    implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-core:1.6.1'\n    implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-android:1.6.1'\n\n    // Coroutine Lifecycle Scopes\n    implementation &quot;androidx.lifecycle:lifecycle-viewmodel-ktx:2.5.1&quot;\n    implementation &quot;androidx.lifecycle:lifecycle-runtime-ktx:2.5.1&quot;\n\n    // Room\n    implementation &quot;androidx.room:room-runtime:2.3.0&quot;\n    kapt &quot;androidx.room:room-compiler:2.3.0&quot;\n\n    // optional - Kotlin Extensions and Coroutines support for Room -- use room with coroutine\n    implementation &quot;androidx.room:room-ktx:2.3.0&quot;\n}\n</code></pre>\n<p><strong>My build.gradle(:Project)</strong></p>\n<pre><code>plugins {\n    id 'com.android.application' version '7.2.0' apply false\n    id 'com.android.library' version '7.2.0' apply false\n    id 'org.jetbrains.kotlin.android' version '1.7.10' apply false\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p><strong>My Entity Class</strong></p>\n<pre><code>@Entity(tableName = &quot;confcard&quot;, indices = [Index(value = [&quot;confName&quot;], unique = true)])\nclass ConfCard {\n\n    @PrimaryKey(autoGenerate = true)\n    var id: Int = 0\n\n    @NotNull\n    var confName: String\n\n    @NotNull\n    var name: String\n\n    @NotNull\n    var pid: String\n\n    @NotNull\n    var pver: String\n\n    @NotNull\n    var data: String\n\n    @NotNull\n    var kNew: String\n\n    @NotNull\n    var kCur: String\n\n    @NotNull\n    var uuid: String\n\n    @NotNull\n    var type: String // ScbvsOCB\n\n    @NotNull\n    var tkNeeded: String\n\n    @NotNull\n    var originatingServer: String\n\n    constructor() {\n        this.id = 0\n        this.confName = &quot;&quot;\n        this.name = &quot;&quot;\n        this.pid = &quot;&quot;\n        this.pver = &quot;&quot;\n        this.data = &quot;&quot;\n        this.kNew = &quot;&quot;\n        this.kCur = &quot;&quot;\n        this.uuid = &quot;&quot;\n        this.type = &quot;&quot;\n        this.originatingServer = &quot;&quot;\n        this.tkNeeded = &quot;&quot;\n    }\n    \n    constructor(\n        ConfName: String,\n        Name: String,\n        PartId: String,\n        PartVer: String,\n        Data: String,\n        KNew: String,\n        KCur: String,\n        UUID: String,\n        CardType: String,\n        OriginatingServer: String,\n        TkNeeded: String,\n    ) {\n        this.confName = ConfName\n        this.name = Name\n        this.pid = PartId\n        this.pver = PartVer\n        this.data = Data\n        this.kNew = KNew\n        this.kCur = KCur\n        this.uuid = UUID\n        this.type = CardType\n        this.originatingServer = OriginatingServer\n        this.tkNeeded = TkNeeded\n    }\n\n    @JvmName(&quot;getId1&quot;)\n    fun getId(): Int = id\n\n    @JvmName(&quot;setId1&quot;)\n    fun setId(id: Int) {\n        this.id = id\n    }\n\n    @JvmName(&quot;getConfName1&quot;)\n    fun getConfName(): String = confName\n\n    @JvmName(&quot;setConfName1&quot;)\n    fun setConfName(confName: String) {\n        this.confName = confName\n    }\n\n    @JvmName(&quot;getName1&quot;)\n    fun getName(): String = name\n\n    @JvmName(&quot;setName1&quot;)\n    fun setName(name: String) {\n        this.name = name\n    }\n\n    fun getPartId(): String = pid\n\n    fun setPartId(pid: String) {\n        this.pid = pid\n    }\n\n    fun getPartVer(): String = pver\n\n    fun getPartVer(pver: String) {\n        this.pver = pver\n    }\n\n    @JvmName(&quot;getData1&quot;)\n    fun getData(): String = data\n\n    @JvmName(&quot;setData1&quot;)\n    fun setData(data: String) {\n        this.data = data\n    }\n\n    @JvmName(&quot;getKNew1&quot;)\n    fun getKNew(): String = kNew\n\n    @JvmName(&quot;setKNew1&quot;)\n    fun setKNew(kNew: String) {\n        this.kNew = kNew\n    }\n\n    @JvmName(&quot;getKCur1&quot;)\n    fun getKCur(): String = kCur\n\n    @JvmName(&quot;setKCur1&quot;)\n    fun setKCur(kCur: String) {\n        this.kCur = kCur\n    }\n\n    fun getUUID(): String = uuid\n\n    fun setUUID(uuid: String) {\n        this.uuid = uuid\n    }\n\n    fun getCardType(): String = type\n\n    fun setCardType(type: String) {\n        this.type = type\n    }\n\n    @JvmName(&quot;getOriginatingServer1&quot;)\n    fun getOriginatingServer(): String = originatingServer\n\n    @JvmName(&quot;setOriginatingServer1&quot;)\n    fun setOriginatingServer(originatingServer: String) {\n        this.originatingServer = originatingServer\n    }\n\n    @JvmName(&quot;getTkNeeded1&quot;)\n    fun getTkNeeded(): String = tkNeeded\n\n    @JvmName(&quot;setTkNeeded1&quot;)\n    fun setTkNeeded(tkNeeded: String) {\n        this.tkNeeded = tkNeeded\n    }\n}\n</code></pre>\n"},{"tags":["java","selenium","cucumber","page-title"],"comments":[{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1671107215,"post_id":74811340,"comment_id":132029243,"body_markdown":"The error is pretty much clear. You have wrong element locator or expected text or both.","body":"The error is pretty much clear. You have wrong element locator or expected text or both."}],"owner":{"account_id":27003120,"reputation":1,"user_id":20564082,"display_name":"subba reddy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671106485,"creation_date":1671106404,"question_id":74811340,"body_markdown":"When i inspect element on web page it shows empty instead of &quot;find us&quot; I used this method in Step definition\r\n```\r\nString getHeading = base.getHeadingText();\r\nSystem.out.println(getHeading);\r\nAssert.assertEquals(heading, getHeading);\r\nbase.teardown();\r\n``` \r\n\r\nGetting error in Automation Scripts. Anyone could you please help \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PrMJc.png","title":"Assertion error (org.junit.ComparisonFailure: expected:&lt;[Find Us]&gt; but was:&lt;[]&gt;)","body":"<p>When i inspect element on web page it shows empty instead of &quot;find us&quot; I used this method in Step definition</p>\n<pre><code>String getHeading = base.getHeadingText();\nSystem.out.println(getHeading);\nAssert.assertEquals(heading, getHeading);\nbase.teardown();\n</code></pre>\n<p>Getting error in Automation Scripts. Anyone could you please help</p>\n"},{"tags":["java","android","xml","textview","android-edittext"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1663597354,"post_id":73774122,"comment_id":130271129,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":6523307,"reputation":88,"user_id":5046810,"display_name":"Nathan Meade"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663597668,"creation_date":1663597668,"answer_id":73774973,"question_id":73774122,"body_markdown":"If this is a password checker then there is probably already a library for this. Otherwise, you could use addTextChangedListener() to listen for text changes in your EditText then call setTextColor() to change the of the EditText.","title":"how to change textview color upon entering something in edittext","body":"<p>If this is a password checker then there is probably already a library for this. Otherwise, you could use addTextChangedListener() to listen for text changes in your EditText then call setTextColor() to change the of the EditText.</p>\n"},{"tags":[],"owner":{"account_id":9081358,"reputation":53,"user_id":6761088,"display_name":"Niranjan Rai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671106470,"creation_date":1671106470,"answer_id":74811354,"question_id":73774122,"body_markdown":"after addTextChangedListener() in OnTextChanged method add this and can set color\r\n\r\n\r\n\r\n    if (charSequence.toString().contains(&quot;^[0-9]*$&quot;)) {//numbers\r\n                            \r\n    }\r\n    if (charSequence.toString().contains(&quot;^[a-z]*$&quot;)){//lower case\r\n        \r\n    }\r\n    if (charSequence.toString().contains(&quot;^[A-Z]*$&quot;)){//uppercase\r\n        \r\n    }\r\n    if (charSequence.toString().length()==9){//ten characters\r\n        \r\n    }","title":"how to change textview color upon entering something in edittext","body":"<p>after addTextChangedListener() in OnTextChanged method add this and can set color</p>\n<pre><code>if (charSequence.toString().contains(&quot;^[0-9]*$&quot;)) {//numbers\n                        \n}\nif (charSequence.toString().contains(&quot;^[a-z]*$&quot;)){//lower case\n    \n}\nif (charSequence.toString().contains(&quot;^[A-Z]*$&quot;)){//uppercase\n    \n}\nif (charSequence.toString().length()==9){//ten characters\n    \n}\n</code></pre>\n"}],"owner":{"account_id":26198671,"reputation":11,"user_id":19879416,"display_name":"M.Salman Nazeer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1671106470,"creation_date":1663594007,"question_id":73774122,"body_markdown":" when the user has put something according to written on the [enter image description here][1]text I want that text color to change like in this image\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qCgIt.jpg","title":"how to change textview color upon entering something in edittext","body":"<p>when the user has put something according to written on the <a href=\"https://i.stack.imgur.com/qCgIt.jpg\" rel=\"nofollow noreferrer\">enter image description here</a>text I want that text color to change like in this image</p>\n"},{"tags":["java","kotlin","apache-kafka"],"comments":[{"owner":{"account_id":128739,"reputation":3915,"user_id":326807,"accept_rate":100,"display_name":"Reporter"},"score":0,"creation_date":1671022495,"post_id":74797936,"comment_id":132006726,"body_markdown":"Will the error disappear when you import the missing library?","body":"Will the error disappear when you import the missing library?"},{"owner":{"account_id":128739,"reputation":3915,"user_id":326807,"accept_rate":100,"display_name":"Reporter"},"score":0,"creation_date":1671023635,"post_id":74797936,"comment_id":132007158,"body_markdown":"May be you have to add the jar file -which contains this class- as dependency in your build process.","body":"May be you have to add the jar file -which contains this class- as dependency in your build process."},{"owner":{"account_id":16237094,"reputation":131,"user_id":11724337,"display_name":"hermanjakobsen"},"score":0,"creation_date":1671025980,"post_id":74797936,"comment_id":132008031,"body_markdown":"I have included the kafka-clients dependency and some other relevant confluent and kafka dependencies, so I  do not think the depencies are the issue?","body":"I have included the kafka-clients dependency and some other relevant confluent and kafka dependencies, so I  do not think the depencies are the issue?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1671062108,"post_id":74797936,"comment_id":132019331,"body_markdown":"But what **version** did you add of `kafka-clients`? It is in [3.3.1](https://github.com/apache/kafka/blob/3.3.1/clients/src/main/java/org/apache/kafka/common/serialization/Serdes.java#L129-L148). You don&#39;t need Confluent libs for `ListSerde`. Also, Avro supports array types on its own, which you can define a schema for, and just use that for `SpecificAvroSerde`","body":"But what <b>version</b> did you add of <code>kafka-clients</code>? It is in <a href=\"https://github.com/apache/kafka/blob/3.3.1/clients/src/main/java/org/apache/kafka/common/serialization/Serdes.java#L129-L148\" rel=\"nofollow noreferrer\">3.3.1</a>. You don&#39;t need Confluent libs for <code>ListSerde</code>. Also, Avro supports array types on its own, which you can define a schema for, and just use that for <code>SpecificAvroSerde</code>"},{"owner":{"account_id":16237094,"reputation":131,"user_id":11724337,"display_name":"hermanjakobsen"},"score":0,"creation_date":1671091381,"post_id":74797936,"comment_id":132024039,"body_markdown":"I&#39;m using `3.3.1`, yes! It feels a little overkill to define a separate avro schema just to be able to implement a unit test. Also, the processor is defined to handle a list of `CorridorFlow` avro objects, and by defining a new schema/object I will have to make the processor more generic.","body":"I&#39;m using <code>3.3.1</code>, yes! It feels a little overkill to define a separate avro schema just to be able to implement a unit test. Also, the processor is defined to handle a list of <code>CorridorFlow</code> avro objects, and by defining a new schema/object I will have to make the processor more generic."},{"owner":{"account_id":128739,"reputation":3915,"user_id":326807,"accept_rate":100,"display_name":"Reporter"},"score":0,"creation_date":1671093686,"post_id":74797936,"comment_id":132024662,"body_markdown":"Maybe there is a version conflict of one dependency, so the ide and/or compiler are unable to find nessecary class.","body":"Maybe there is a version conflict of one dependency, so the ide and/or compiler are unable to find nessecary class."},{"owner":{"account_id":16237094,"reputation":131,"user_id":11724337,"display_name":"hermanjakobsen"},"score":0,"creation_date":1671095876,"post_id":74797936,"comment_id":132025349,"body_markdown":"I added the `pom.xml`, if it is of interest.","body":"I added the <code>pom.xml</code>, if it is of interest."}],"answers":[{"tags":[],"owner":{"account_id":16237094,"reputation":131,"user_id":11724337,"display_name":"hermanjakobsen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671106193,"creation_date":1671106193,"answer_id":74811303,"question_id":74797936,"body_markdown":"The solution was to change the config of the `TopologyTestDriver` to the following \r\n```kotlin\r\nval config = Properties()\r\n        config[StreamsConfig.APPLICATION_ID_CONFIG] = &quot;suppress-processor-test&quot;\r\n        config[StreamsConfig.BOOTSTRAP_SERVERS_CONFIG] = &quot;&quot;\r\n        config[StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG] = topicSerde.stringKeySerde::class.java\r\n        config[StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG] = topicSerde.corridorFlowListSerde.javaClass\r\n        config[CommonClientConfigs.DEFAULT_LIST_VALUE_SERDE_TYPE_CLASS] = topicSerde.inputValueSerde.javaClass\r\n        config[CommonClientConfigs.DEFAULT_LIST_VALUE_SERDE_INNER_CLASS] = topicSerde.inputValueSerde.javaClass\r\n        config[AbstractKafkaSchemaSerDeConfig.SCHEMA_REGISTRY_URL_CONFIG] = schemaRegistryUrl\r\n```","title":"Apache Kafka: Configuring `ListSerde` for `TopologyTestDriver`","body":"<p>The solution was to change the config of the <code>TopologyTestDriver</code> to the following</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val config = Properties()\n        config[StreamsConfig.APPLICATION_ID_CONFIG] = &quot;suppress-processor-test&quot;\n        config[StreamsConfig.BOOTSTRAP_SERVERS_CONFIG] = &quot;&quot;\n        config[StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG] = topicSerde.stringKeySerde::class.java\n        config[StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG] = topicSerde.corridorFlowListSerde.javaClass\n        config[CommonClientConfigs.DEFAULT_LIST_VALUE_SERDE_TYPE_CLASS] = topicSerde.inputValueSerde.javaClass\n        config[CommonClientConfigs.DEFAULT_LIST_VALUE_SERDE_INNER_CLASS] = topicSerde.inputValueSerde.javaClass\n        config[AbstractKafkaSchemaSerDeConfig.SCHEMA_REGISTRY_URL_CONFIG] = schemaRegistryUrl\n</code></pre>\n"}],"owner":{"account_id":16237094,"reputation":131,"user_id":11724337,"display_name":"hermanjakobsen"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":558,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74811303,"answer_count":1,"score":0,"last_activity_date":1671106193,"creation_date":1671019054,"question_id":74797936,"body_markdown":"I am writing a unit test for a custom suppress. The class is called `SupressProcessor`. The unit test looks like:\r\n\r\n```kotlin \r\nimport io.confluent.kafka.serializers.AbstractKafkaSchemaSerDeConfig\r\nimport no.statnett.observations.grid.flow.CorridorFlow.avro.v1.CorridorFlow\r\nimport my.stream.SuppressProcessor\r\nimport my.stream.TopicSerdeConfig\r\nimport org.apache.kafka.clients.CommonClientConfigs\r\nimport org.apache.kafka.streams.StreamsConfig\r\nimport org.apache.kafka.streams.Topology\r\nimport org.apache.kafka.streams.TopologyTestDriver\r\nimport org.apache.kafka.streams.processor.api.ProcessorSupplier\r\nimport org.apache.kafka.streams.state.Stores\r\nimport org.assertj.core.api.Assertions.assertThat\r\n\r\nimport org.junit.jupiter.api.Test\r\nimport org.junit.jupiter.api.BeforeEach\r\nimport org.junit.jupiter.api.TestInstance\r\nimport testUtils.RecordFactory\r\nimport java.time.Duration\r\nimport java.util.Properties\r\n\r\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\r\nclass SuppressProcessorTests {\r\n\r\n    // Following https://www.ru-rocker.com/2020/12/07/how-to-unit-test-kafka-streams-application-part-2-processor-api/\r\n\r\n    private lateinit var topology: Topology\r\n    private lateinit var testDriver: TopologyTestDriver\r\n\r\n    private val schemaRegistryScope = SuppressProcessorTests::class.java.name\r\n    private val schemaRegistryUrl = &quot;mock://$schemaRegistryScope&quot;\r\n\r\n    private val inputTopicName = &quot;input_topic&quot;\r\n    private val outputTopicName = &quot;output_topic&quot;\r\n    private val topicSerde = TopicSerdeConfig(inputTopicName, outputTopicName, schemaRegistryUrl)\r\n\r\n    private val sourceName = &quot;source&quot;\r\n    private val processorName = &quot;suppress-processor&quot;\r\n    private val stateStoreName = &quot;suppress-processor-store&quot;\r\n\r\n    private val recordFactory = RecordFactory()\r\n\r\n    @BeforeEach\r\n    fun setup() {\r\n        val config = Properties()\r\n        config[StreamsConfig.APPLICATION_ID_CONFIG] = &quot;suppress-processor-test&quot;\r\n        config[StreamsConfig.BOOTSTRAP_SERVERS_CONFIG] = &quot;&quot;\r\n        config[StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG] = topicSerde.stringKeySerde::class.java\r\n        config[StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG] = &quot;org.apache.kafka.common.serialization.Serdes.ListSerde&quot;\r\n        config[CommonClientConfigs.DEFAULT_LIST_VALUE_SERDE_INNER_CLASS] = topicSerde.inputValueSerde.javaClass\r\n        config[AbstractKafkaSchemaSerDeConfig.SCHEMA_REGISTRY_URL_CONFIG] = schemaRegistryUrl\r\n\r\n        val storeBuilder = Stores\r\n            .timestampedKeyValueStoreBuilder(\r\n                Stores.inMemoryKeyValueStore(stateStoreName),\r\n                topicSerde.stringKeySerde, topicSerde.corridorFlowListSerde\r\n            )\r\n            .withLoggingDisabled()\r\n\r\n        topology = Topology()\r\n        topology.addSource(sourceName, topicSerde.stringKeySerde.deserializer(), topicSerde.corridorFlowListSerde.deserializer(), inputTopicName)\r\n        topology.addProcessor(processorName, ProcessorSupplier { SuppressProcessor(stateStoreName) },sourceName)\r\n        topology.addStateStore(storeBuilder, processorName)\r\n        topology.addSink(&quot;sink&quot;, outputTopicName, processorName)\r\n\r\n        testDriver = TopologyTestDriver(topology, config)\r\n\r\n    }\r\n\r\n    @Test\r\n    fun `Should schedule as expected`(){\r\n        val inputTopic = testDriver.createInputTopic(\r\n            inputTopicName,\r\n            topicSerde.stringKeySerde.serializer(),\r\n            topicSerde.corridorFlowListSerde.serializer()\r\n        )\r\n        val outputTopic = testDriver.createOutputTopic(\r\n            outputTopicName,\r\n            topicSerde.stringKeySerde.deserializer(),\r\n            topicSerde.corridorFlowListSerde.deserializer()\r\n        )\r\n\r\n        val corridorFlow = recordFactory.generateCorridorFlow()\r\n        val corridorFlows = listOf&lt;CorridorFlow&gt;(corridorFlow, corridorFlow)\r\n\r\n        inputTopic.pipeInput(corridorFlow.mrid, corridorFlows)\r\n\r\n        assertThat(outputTopic.isEmpty).isTrue\r\n\r\n        testDriver.advanceWallClockTime(Duration.ofSeconds(3))\r\n\r\n        assertThat(outputTopic.isEmpty).isFalse\r\n\r\n    }\r\n}\r\n```\r\n\r\nThe `SupressProcessor` looks like:\r\n\r\n```kotlin\r\nimport net.logstash.logback.marker.Markers\r\nimport my.App\r\nimport my.avro.CorridorFlow\r\nimport org.apache.kafka.streams.processor.PunctuationType\r\nimport org.apache.kafka.streams.processor.api.ContextualProcessor\r\nimport org.apache.kafka.streams.processor.api.ProcessorContext\r\nimport org.apache.kafka.streams.processor.api.Record\r\nimport org.apache.kafka.streams.state.TimestampedKeyValueStore\r\nimport org.apache.kafka.streams.state.ValueAndTimestamp\r\nimport java.time.Duration\r\nimport java.time.Instant\r\n\r\nclass SuppressProcessor(private val stateStoreName: String) :\r\n    ContextualProcessor&lt;String, MutableList&lt;CorridorFlow&gt;, String, MutableList&lt;CorridorFlow&gt;&gt;() {\r\n    private lateinit var store: TimestampedKeyValueStore&lt;String, MutableList&lt;CorridorFlow&gt;&gt;\r\n\r\n    override fun init(context: ProcessorContext&lt;String, MutableList&lt;CorridorFlow&gt;&gt;?) {\r\n        super.init(context)\r\n        this.store = context().getStateStore(stateStoreName)\r\n        context().schedule(Duration.ofSeconds(1), PunctuationType.WALL_CLOCK_TIME) { schedule() }\r\n    }\r\n\r\n    override fun process(record: Record&lt;String, MutableList&lt;CorridorFlow&gt;&gt;) {\r\n        App.log.debug(\r\n            Markers.append(&quot;SuppressedValue&quot;, record.value()),\r\n            &quot;Suppress received key=${record.key()} receivedAt=${context().currentSystemTimeMs()}&quot;\r\n        )\r\n\r\n        store.put(record.key(), ValueAndTimestamp.make(record.value(), getExpirationTimestamp()))\r\n    }\r\n\r\n    private fun getExpirationTimestamp(timestamp: Long = context().currentSystemTimeMs()): Long =\r\n        timestamp + Duration.ofSeconds(2).toMillis()\r\n\r\n    private fun schedule(currentTimestamp: Long = context().currentSystemTimeMs()) {\r\n\r\n        val expiredKeys = mutableListOf&lt;String&gt;()\r\n\r\n        val iterator = store.all()\r\n\r\n\r\n        iterator.forEach { aggregate -&gt;\r\n\r\n            App.log.info(aggregate.toString())\r\n\r\n            App.log.info(&quot;currentTimestamp: $currentTimestamp&quot;)\r\n            App.log.info(&quot;aggregateTimestamp: ${aggregate.value.timestamp()}&quot;)\r\n\r\n\r\n            if (aggregate.value.timestamp() &gt;= currentTimestamp) return@forEach\r\n\r\n            App.log.info(aggregate.toString())\r\n\r\n            App.log.debug(\r\n                Markers.append(&quot;Suppress&quot;, aggregate.value),\r\n                &quot;Suppress release key=${aggregate.key} releasedAt=${currentTimestamp}&quot;\r\n            )\r\n\r\n            val recordTimestamp = Instant.parse(aggregate.value.value().first().timeInterval.end).toEpochMilli()\r\n            context().forward(Record(aggregate.key, aggregate.value.value(), recordTimestamp))\r\n            expiredKeys.add(aggregate.key)\r\n        }\r\n        iterator.close()\r\n        context().commit()\r\n        expiredKeys.forEach { store.delete(it) }\r\n    }\r\n}\r\n```\r\n\r\nAnd the `Serde` configuration file looks like: \r\n\r\n```kotlin\r\nimport io.confluent.kafka.serializers.AbstractKafkaSchemaSerDeConfig;\r\nimport io.confluent.kafka.streams.serdes.avro.SpecificAvroSerde;\r\nimport my.avro.BiddingZoneFlow;\r\nimport my.avro.CorridorFlow;\r\nimport org.apache.kafka.common.serialization.Serde;\r\nimport org.apache.kafka.common.serialization.Serdes;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\n\r\npublic class TopicSerdeConfig {\r\n  public final String inputTopic;\r\n  public final String outputTopic;\r\n  public final String schemaRegistryUrl;\r\n\r\n  public final Serde&lt;String&gt; stringKeySerde;\r\n  public final SpecificAvroSerde&lt;CorridorFlow&gt; inputValueSerde;\r\n  public final Serde&lt;List&lt;CorridorFlow&gt;&gt; corridorFlowListSerde;\r\n  public final SpecificAvroSerde&lt;BiddingZoneFlow&gt; outputValueSerde;\r\n\r\n  public TopicSerdeConfig(String inputTopic, String outputTopic, String schemaRegistryUrl) {\r\n    this.inputTopic = inputTopic;\r\n    this.outputTopic = outputTopic;\r\n    this.schemaRegistryUrl = schemaRegistryUrl;\r\n\r\n    var serdeConfig = Collections.singletonMap(AbstractKafkaSchemaSerDeConfig.SCHEMA_REGISTRY_URL_CONFIG, schemaRegistryUrl);\r\n\r\n    // Configure input serdes\r\n    stringKeySerde = Serdes.String();\r\n    stringKeySerde.configure(serdeConfig, true);\r\n\r\n    inputValueSerde = new SpecificAvroSerde&lt;&gt;();\r\n    inputValueSerde.configure(serdeConfig, false);\r\n\r\n    // Configure aggregation serdes\r\n    corridorFlowListSerde = Serdes.ListSerde(ArrayList.class, inputValueSerde);\r\n\r\n    // Configure output serdes\r\n    outputValueSerde = new SpecificAvroSerde&lt;&gt;();\r\n    outputValueSerde.configure(serdeConfig, false);\r\n  }\r\n}\r\n```\r\nNote that this file is written in Java as opposed to Kotlin which is used in the other files.\r\n\r\nWhen running the unit test, the following error message occurs: \r\n\r\n```bash\r\nrg.apache.kafka.common.config.ConfigException: Invalid value org.apache.kafka.common.serialization.Serdes.ListSerde for configuration default.value.serde: Class org.apache.kafka.common.serialization.Serdes.ListSerde could not be found.\r\n\r\n\tat org.apache.kafka.common.config.ConfigDef.parseType(ConfigDef.java:744)\r\n\tat org.apache.kafka.common.config.ConfigDef.parseValue(ConfigDef.java:490)\r\n\tat org.apache.kafka.common.config.ConfigDef.parse(ConfigDef.java:483)\r\n\tat org.apache.kafka.common.config.AbstractConfig.&lt;init&gt;(AbstractConfig.java:113)\r\n\tat org.apache.kafka.common.config.AbstractConfig.&lt;init&gt;(AbstractConfig.java:146)\r\n\tat org.apache.kafka.streams.StreamsConfig.&lt;init&gt;(StreamsConfig.java:1235)\r\n\tat org.apache.kafka.streams.processor.internals.ClientUtils$QuietStreamsConfig.&lt;init&gt;(ClientUtils.java:55)\r\n\tat org.apache.kafka.streams.TopologyTestDriver.&lt;init&gt;(TopologyTestDriver.java:320)\r\n\tat org.apache.kafka.streams.TopologyTestDriver.&lt;init&gt;(TopologyTestDriver.java:299)\r\n\tat org.apache.kafka.streams.TopologyTestDriver.&lt;init&gt;(TopologyTestDriver.java:275)\r\n\tat my.SuppressProcessorTests.setup(SuppressProcessorTests.kt:66)\r\n``` \r\n\r\nAny idea on how to configure `ListSerde` for unit tests using `TopologyTestDriver`?\r\n\r\n\r\nEDIT: Added `pom.xml`\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;parent-poms&lt;/groupId&gt;\r\n        &lt;artifactId&gt;parent&lt;/artifactId&gt;\r\n        &lt;version&gt;7.0.1&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- http://maven.apache.org/ref/3.0.3/maven-model/maven.html#class_parent --&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;groupId&gt;application&lt;/groupId&gt;\r\n    &lt;artifactId&gt;flow-application&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;name&gt;flow-application&lt;/name&gt;\r\n    &lt;description&gt;flow-application&lt;/description&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;ktor.version&gt;2.2.1&lt;/ktor.version&gt;\r\n        &lt;confluent.version&gt;7.3.0&lt;/confluent.version&gt;\r\n        &lt;kafka.version&gt;3.3.1&lt;/kafka.version&gt;\r\n        &lt;prometeus.version&gt;1.10.2&lt;/prometeus.version&gt;\r\n        &lt;avro.version&gt;1.11.1&lt;/avro.version&gt;\r\n        &lt;observations-avro.version&gt;2.0.12&lt;/observations-avro.version&gt;\r\n        &lt;logback-classic.version&gt;1.4.5&lt;/logback-classic.version&gt;\r\n        &lt;logstash-logback-encoder.version&gt;7.2&lt;/logstash-logback-encoder.version&gt;\r\n        &lt;slf4j.version&gt;2.0.6&lt;/slf4j.version&gt;\r\n\r\n        &lt;!-- Test --&gt;\r\n        &lt;junit-jupiter.version&gt;5.9.1&lt;/junit-jupiter.version&gt;\r\n        &lt;kotlinx-coroutines-debug.version&gt;1.6.4&lt;/kotlinx-coroutines-debug.version&gt;\r\n        &lt;assertj-core.version&gt;3.23.1&lt;/assertj-core.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kotlin-stdlib&lt;/artifactId&gt;\r\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.confluent&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kafka-schema-registry-client&lt;/artifactId&gt;\r\n            &lt;version&gt;${confluent.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.confluent&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kafka-avro-serializer&lt;/artifactId&gt;\r\n            &lt;version&gt;${confluent.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.confluent&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kafka-streams-avro-serde&lt;/artifactId&gt;\r\n            &lt;version&gt;${confluent.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n            &lt;artifactId&gt;micrometer-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${prometeus.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n            &lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;\r\n            &lt;version&gt;${prometeus.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.avro&lt;/groupId&gt;\r\n            &lt;artifactId&gt;avro&lt;/artifactId&gt;\r\n            &lt;version&gt;${avro.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;no.statnett.schemas.business&lt;/groupId&gt;\r\n            &lt;artifactId&gt;observations-avro&lt;/artifactId&gt;\r\n            &lt;version&gt;${observations-avro.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kafka-streams&lt;/artifactId&gt;\r\n            &lt;version&gt;${kafka.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\r\n            &lt;version&gt;${kafka.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.ktor&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ktor-server-core-jvm&lt;/artifactId&gt;\r\n            &lt;version&gt;${ktor.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.ktor&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ktor-server-netty-jvm&lt;/artifactId&gt;\r\n            &lt;version&gt;${ktor.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.ktor&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ktor-server-metrics-jvm&lt;/artifactId&gt;\r\n            &lt;version&gt;${ktor.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.ktor&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ktor-server-content-negotiation-jvm&lt;/artifactId&gt;\r\n            &lt;version&gt;${ktor.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.ktor&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ktor-serialization-gson-jvm&lt;/artifactId&gt;\r\n            &lt;version&gt;${ktor.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${slf4j.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Logging --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n            &lt;version&gt;${logback-classic.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.logstash.logback&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logstash-logback-encoder&lt;/artifactId&gt;\r\n            &lt;version&gt;${logstash-logback-encoder.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Testing --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit-jupiter.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit-jupiter.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kafka-streams-test-utils&lt;/artifactId&gt;\r\n            &lt;version&gt;${kafka.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.ktor&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ktor-server-tests-jvm&lt;/artifactId&gt;\r\n            &lt;version&gt;${ktor.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jetbrains.kotlinx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kotlinx-coroutines-debug&lt;/artifactId&gt;\r\n            &lt;version&gt;${kotlinx-coroutines-debug.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.assertj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${assertj-core.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n``` ","title":"Apache Kafka: Configuring `ListSerde` for `TopologyTestDriver`","body":"<p>I am writing a unit test for a custom suppress. The class is called <code>SupressProcessor</code>. The unit test looks like:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import io.confluent.kafka.serializers.AbstractKafkaSchemaSerDeConfig\nimport no.statnett.observations.grid.flow.CorridorFlow.avro.v1.CorridorFlow\nimport my.stream.SuppressProcessor\nimport my.stream.TopicSerdeConfig\nimport org.apache.kafka.clients.CommonClientConfigs\nimport org.apache.kafka.streams.StreamsConfig\nimport org.apache.kafka.streams.Topology\nimport org.apache.kafka.streams.TopologyTestDriver\nimport org.apache.kafka.streams.processor.api.ProcessorSupplier\nimport org.apache.kafka.streams.state.Stores\nimport org.assertj.core.api.Assertions.assertThat\n\nimport org.junit.jupiter.api.Test\nimport org.junit.jupiter.api.BeforeEach\nimport org.junit.jupiter.api.TestInstance\nimport testUtils.RecordFactory\nimport java.time.Duration\nimport java.util.Properties\n\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\nclass SuppressProcessorTests {\n\n    // Following https://www.ru-rocker.com/2020/12/07/how-to-unit-test-kafka-streams-application-part-2-processor-api/\n\n    private lateinit var topology: Topology\n    private lateinit var testDriver: TopologyTestDriver\n\n    private val schemaRegistryScope = SuppressProcessorTests::class.java.name\n    private val schemaRegistryUrl = &quot;mock://$schemaRegistryScope&quot;\n\n    private val inputTopicName = &quot;input_topic&quot;\n    private val outputTopicName = &quot;output_topic&quot;\n    private val topicSerde = TopicSerdeConfig(inputTopicName, outputTopicName, schemaRegistryUrl)\n\n    private val sourceName = &quot;source&quot;\n    private val processorName = &quot;suppress-processor&quot;\n    private val stateStoreName = &quot;suppress-processor-store&quot;\n\n    private val recordFactory = RecordFactory()\n\n    @BeforeEach\n    fun setup() {\n        val config = Properties()\n        config[StreamsConfig.APPLICATION_ID_CONFIG] = &quot;suppress-processor-test&quot;\n        config[StreamsConfig.BOOTSTRAP_SERVERS_CONFIG] = &quot;&quot;\n        config[StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG] = topicSerde.stringKeySerde::class.java\n        config[StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG] = &quot;org.apache.kafka.common.serialization.Serdes.ListSerde&quot;\n        config[CommonClientConfigs.DEFAULT_LIST_VALUE_SERDE_INNER_CLASS] = topicSerde.inputValueSerde.javaClass\n        config[AbstractKafkaSchemaSerDeConfig.SCHEMA_REGISTRY_URL_CONFIG] = schemaRegistryUrl\n\n        val storeBuilder = Stores\n            .timestampedKeyValueStoreBuilder(\n                Stores.inMemoryKeyValueStore(stateStoreName),\n                topicSerde.stringKeySerde, topicSerde.corridorFlowListSerde\n            )\n            .withLoggingDisabled()\n\n        topology = Topology()\n        topology.addSource(sourceName, topicSerde.stringKeySerde.deserializer(), topicSerde.corridorFlowListSerde.deserializer(), inputTopicName)\n        topology.addProcessor(processorName, ProcessorSupplier { SuppressProcessor(stateStoreName) },sourceName)\n        topology.addStateStore(storeBuilder, processorName)\n        topology.addSink(&quot;sink&quot;, outputTopicName, processorName)\n\n        testDriver = TopologyTestDriver(topology, config)\n\n    }\n\n    @Test\n    fun `Should schedule as expected`(){\n        val inputTopic = testDriver.createInputTopic(\n            inputTopicName,\n            topicSerde.stringKeySerde.serializer(),\n            topicSerde.corridorFlowListSerde.serializer()\n        )\n        val outputTopic = testDriver.createOutputTopic(\n            outputTopicName,\n            topicSerde.stringKeySerde.deserializer(),\n            topicSerde.corridorFlowListSerde.deserializer()\n        )\n\n        val corridorFlow = recordFactory.generateCorridorFlow()\n        val corridorFlows = listOf&lt;CorridorFlow&gt;(corridorFlow, corridorFlow)\n\n        inputTopic.pipeInput(corridorFlow.mrid, corridorFlows)\n\n        assertThat(outputTopic.isEmpty).isTrue\n\n        testDriver.advanceWallClockTime(Duration.ofSeconds(3))\n\n        assertThat(outputTopic.isEmpty).isFalse\n\n    }\n}\n</code></pre>\n<p>The <code>SupressProcessor</code> looks like:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import net.logstash.logback.marker.Markers\nimport my.App\nimport my.avro.CorridorFlow\nimport org.apache.kafka.streams.processor.PunctuationType\nimport org.apache.kafka.streams.processor.api.ContextualProcessor\nimport org.apache.kafka.streams.processor.api.ProcessorContext\nimport org.apache.kafka.streams.processor.api.Record\nimport org.apache.kafka.streams.state.TimestampedKeyValueStore\nimport org.apache.kafka.streams.state.ValueAndTimestamp\nimport java.time.Duration\nimport java.time.Instant\n\nclass SuppressProcessor(private val stateStoreName: String) :\n    ContextualProcessor&lt;String, MutableList&lt;CorridorFlow&gt;, String, MutableList&lt;CorridorFlow&gt;&gt;() {\n    private lateinit var store: TimestampedKeyValueStore&lt;String, MutableList&lt;CorridorFlow&gt;&gt;\n\n    override fun init(context: ProcessorContext&lt;String, MutableList&lt;CorridorFlow&gt;&gt;?) {\n        super.init(context)\n        this.store = context().getStateStore(stateStoreName)\n        context().schedule(Duration.ofSeconds(1), PunctuationType.WALL_CLOCK_TIME) { schedule() }\n    }\n\n    override fun process(record: Record&lt;String, MutableList&lt;CorridorFlow&gt;&gt;) {\n        App.log.debug(\n            Markers.append(&quot;SuppressedValue&quot;, record.value()),\n            &quot;Suppress received key=${record.key()} receivedAt=${context().currentSystemTimeMs()}&quot;\n        )\n\n        store.put(record.key(), ValueAndTimestamp.make(record.value(), getExpirationTimestamp()))\n    }\n\n    private fun getExpirationTimestamp(timestamp: Long = context().currentSystemTimeMs()): Long =\n        timestamp + Duration.ofSeconds(2).toMillis()\n\n    private fun schedule(currentTimestamp: Long = context().currentSystemTimeMs()) {\n\n        val expiredKeys = mutableListOf&lt;String&gt;()\n\n        val iterator = store.all()\n\n\n        iterator.forEach { aggregate -&gt;\n\n            App.log.info(aggregate.toString())\n\n            App.log.info(&quot;currentTimestamp: $currentTimestamp&quot;)\n            App.log.info(&quot;aggregateTimestamp: ${aggregate.value.timestamp()}&quot;)\n\n\n            if (aggregate.value.timestamp() &gt;= currentTimestamp) return@forEach\n\n            App.log.info(aggregate.toString())\n\n            App.log.debug(\n                Markers.append(&quot;Suppress&quot;, aggregate.value),\n                &quot;Suppress release key=${aggregate.key} releasedAt=${currentTimestamp}&quot;\n            )\n\n            val recordTimestamp = Instant.parse(aggregate.value.value().first().timeInterval.end).toEpochMilli()\n            context().forward(Record(aggregate.key, aggregate.value.value(), recordTimestamp))\n            expiredKeys.add(aggregate.key)\n        }\n        iterator.close()\n        context().commit()\n        expiredKeys.forEach { store.delete(it) }\n    }\n}\n</code></pre>\n<p>And the <code>Serde</code> configuration file looks like:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import io.confluent.kafka.serializers.AbstractKafkaSchemaSerDeConfig;\nimport io.confluent.kafka.streams.serdes.avro.SpecificAvroSerde;\nimport my.avro.BiddingZoneFlow;\nimport my.avro.CorridorFlow;\nimport org.apache.kafka.common.serialization.Serde;\nimport org.apache.kafka.common.serialization.Serdes;\n\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\n\npublic class TopicSerdeConfig {\n  public final String inputTopic;\n  public final String outputTopic;\n  public final String schemaRegistryUrl;\n\n  public final Serde&lt;String&gt; stringKeySerde;\n  public final SpecificAvroSerde&lt;CorridorFlow&gt; inputValueSerde;\n  public final Serde&lt;List&lt;CorridorFlow&gt;&gt; corridorFlowListSerde;\n  public final SpecificAvroSerde&lt;BiddingZoneFlow&gt; outputValueSerde;\n\n  public TopicSerdeConfig(String inputTopic, String outputTopic, String schemaRegistryUrl) {\n    this.inputTopic = inputTopic;\n    this.outputTopic = outputTopic;\n    this.schemaRegistryUrl = schemaRegistryUrl;\n\n    var serdeConfig = Collections.singletonMap(AbstractKafkaSchemaSerDeConfig.SCHEMA_REGISTRY_URL_CONFIG, schemaRegistryUrl);\n\n    // Configure input serdes\n    stringKeySerde = Serdes.String();\n    stringKeySerde.configure(serdeConfig, true);\n\n    inputValueSerde = new SpecificAvroSerde&lt;&gt;();\n    inputValueSerde.configure(serdeConfig, false);\n\n    // Configure aggregation serdes\n    corridorFlowListSerde = Serdes.ListSerde(ArrayList.class, inputValueSerde);\n\n    // Configure output serdes\n    outputValueSerde = new SpecificAvroSerde&lt;&gt;();\n    outputValueSerde.configure(serdeConfig, false);\n  }\n}\n</code></pre>\n<p>Note that this file is written in Java as opposed to Kotlin which is used in the other files.</p>\n<p>When running the unit test, the following error message occurs:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>rg.apache.kafka.common.config.ConfigException: Invalid value org.apache.kafka.common.serialization.Serdes.ListSerde for configuration default.value.serde: Class org.apache.kafka.common.serialization.Serdes.ListSerde could not be found.\n\n    at org.apache.kafka.common.config.ConfigDef.parseType(ConfigDef.java:744)\n    at org.apache.kafka.common.config.ConfigDef.parseValue(ConfigDef.java:490)\n    at org.apache.kafka.common.config.ConfigDef.parse(ConfigDef.java:483)\n    at org.apache.kafka.common.config.AbstractConfig.&lt;init&gt;(AbstractConfig.java:113)\n    at org.apache.kafka.common.config.AbstractConfig.&lt;init&gt;(AbstractConfig.java:146)\n    at org.apache.kafka.streams.StreamsConfig.&lt;init&gt;(StreamsConfig.java:1235)\n    at org.apache.kafka.streams.processor.internals.ClientUtils$QuietStreamsConfig.&lt;init&gt;(ClientUtils.java:55)\n    at org.apache.kafka.streams.TopologyTestDriver.&lt;init&gt;(TopologyTestDriver.java:320)\n    at org.apache.kafka.streams.TopologyTestDriver.&lt;init&gt;(TopologyTestDriver.java:299)\n    at org.apache.kafka.streams.TopologyTestDriver.&lt;init&gt;(TopologyTestDriver.java:275)\n    at my.SuppressProcessorTests.setup(SuppressProcessorTests.kt:66)\n</code></pre>\n<p>Any idea on how to configure <code>ListSerde</code> for unit tests using <code>TopologyTestDriver</code>?</p>\n<p>EDIT: Added <code>pom.xml</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;parent-poms&lt;/groupId&gt;\n        &lt;artifactId&gt;parent&lt;/artifactId&gt;\n        &lt;version&gt;7.0.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- http://maven.apache.org/ref/3.0.3/maven-model/maven.html#class_parent --&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;application&lt;/groupId&gt;\n    &lt;artifactId&gt;flow-application&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;name&gt;flow-application&lt;/name&gt;\n    &lt;description&gt;flow-application&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;ktor.version&gt;2.2.1&lt;/ktor.version&gt;\n        &lt;confluent.version&gt;7.3.0&lt;/confluent.version&gt;\n        &lt;kafka.version&gt;3.3.1&lt;/kafka.version&gt;\n        &lt;prometeus.version&gt;1.10.2&lt;/prometeus.version&gt;\n        &lt;avro.version&gt;1.11.1&lt;/avro.version&gt;\n        &lt;observations-avro.version&gt;2.0.12&lt;/observations-avro.version&gt;\n        &lt;logback-classic.version&gt;1.4.5&lt;/logback-classic.version&gt;\n        &lt;logstash-logback-encoder.version&gt;7.2&lt;/logstash-logback-encoder.version&gt;\n        &lt;slf4j.version&gt;2.0.6&lt;/slf4j.version&gt;\n\n        &lt;!-- Test --&gt;\n        &lt;junit-jupiter.version&gt;5.9.1&lt;/junit-jupiter.version&gt;\n        &lt;kotlinx-coroutines-debug.version&gt;1.6.4&lt;/kotlinx-coroutines-debug.version&gt;\n        &lt;assertj-core.version&gt;3.23.1&lt;/assertj-core.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-stdlib&lt;/artifactId&gt;\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.confluent&lt;/groupId&gt;\n            &lt;artifactId&gt;kafka-schema-registry-client&lt;/artifactId&gt;\n            &lt;version&gt;${confluent.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.confluent&lt;/groupId&gt;\n            &lt;artifactId&gt;kafka-avro-serializer&lt;/artifactId&gt;\n            &lt;version&gt;${confluent.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.confluent&lt;/groupId&gt;\n            &lt;artifactId&gt;kafka-streams-avro-serde&lt;/artifactId&gt;\n            &lt;version&gt;${confluent.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n            &lt;artifactId&gt;micrometer-core&lt;/artifactId&gt;\n            &lt;version&gt;${prometeus.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n            &lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;\n            &lt;version&gt;${prometeus.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.avro&lt;/groupId&gt;\n            &lt;artifactId&gt;avro&lt;/artifactId&gt;\n            &lt;version&gt;${avro.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;no.statnett.schemas.business&lt;/groupId&gt;\n            &lt;artifactId&gt;observations-avro&lt;/artifactId&gt;\n            &lt;version&gt;${observations-avro.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;kafka-streams&lt;/artifactId&gt;\n            &lt;version&gt;${kafka.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\n            &lt;version&gt;${kafka.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.ktor&lt;/groupId&gt;\n            &lt;artifactId&gt;ktor-server-core-jvm&lt;/artifactId&gt;\n            &lt;version&gt;${ktor.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.ktor&lt;/groupId&gt;\n            &lt;artifactId&gt;ktor-server-netty-jvm&lt;/artifactId&gt;\n            &lt;version&gt;${ktor.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.ktor&lt;/groupId&gt;\n            &lt;artifactId&gt;ktor-server-metrics-jvm&lt;/artifactId&gt;\n            &lt;version&gt;${ktor.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.ktor&lt;/groupId&gt;\n            &lt;artifactId&gt;ktor-server-content-negotiation-jvm&lt;/artifactId&gt;\n            &lt;version&gt;${ktor.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.ktor&lt;/groupId&gt;\n            &lt;artifactId&gt;ktor-serialization-gson-jvm&lt;/artifactId&gt;\n            &lt;version&gt;${ktor.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;${slf4j.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Logging --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n            &lt;version&gt;${logback-classic.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.logstash.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logstash-logback-encoder&lt;/artifactId&gt;\n            &lt;version&gt;${logstash-logback-encoder.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Testing --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;${junit-jupiter.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\n            &lt;version&gt;${junit-jupiter.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;kafka-streams-test-utils&lt;/artifactId&gt;\n            &lt;version&gt;${kafka.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.ktor&lt;/groupId&gt;\n            &lt;artifactId&gt;ktor-server-tests-jvm&lt;/artifactId&gt;\n            &lt;version&gt;${ktor.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.kotlinx&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlinx-coroutines-debug&lt;/artifactId&gt;\n            &lt;version&gt;${kotlinx-coroutines-debug.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.assertj&lt;/groupId&gt;\n            &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\n            &lt;version&gt;${assertj-core.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":2588804,"reputation":951,"user_id":2243919,"display_name":"zpavel"},"score":0,"creation_date":1566043774,"post_id":57535615,"comment_id":101536911,"body_markdown":"Do you need it for debug purpose ?","body":"Do you need it for debug purpose ?"},{"owner":{"account_id":2425257,"reputation":5090,"user_id":2117355,"accept_rate":71,"display_name":"Mark"},"score":0,"creation_date":1566046385,"post_id":57535615,"comment_id":101537410,"body_markdown":"No, this is not for debugging.","body":"No, this is not for debugging."},{"owner":{"account_id":2588804,"reputation":951,"user_id":2243919,"display_name":"zpavel"},"score":0,"creation_date":1566049125,"post_id":57535615,"comment_id":101538076,"body_markdown":"Ok, so i suppose spring boot actuator /beans path is not what you are looking for.","body":"Ok, so i suppose spring boot actuator /beans path is not what you are looking for."},{"owner":{"account_id":5123878,"reputation":4700,"user_id":4106653,"accept_rate":100,"display_name":"Neo"},"score":0,"creation_date":1566061947,"post_id":57535615,"comment_id":101541143,"body_markdown":"Just wondering what do you need this information for?","body":"Just wondering what do you need this information for?"}],"answers":[{"tags":[],"owner":{"account_id":10826427,"reputation":509,"user_id":7962200,"display_name":"Madjosz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671106149,"creation_date":1671106149,"answer_id":74811302,"question_id":57535615,"body_markdown":"You can query names of dependent beans from the `ConfigurableBeanFactory` for a given bean name with the method `getDependenciesForBean()`. So in your example the code could look like\r\n```java\r\ntry (ConfigurableApplicationContext app = SpringApplication.run(MySpringApplication.class)) {\r\n    ConfigurableListableBeanFactory beanFactory = app.getBeanFactory();\r\n    String[] dependencies = beanFactory.getDependenciesForBean(&quot;testController&quot;);\r\n    System.out.println(Arrays.toString(dependencies)); // [testService, testComponent]\r\n}\r\n```\r\nThe problem hereby is that you only work on *names* of beans. So to make the code generic for a given bean instance you would have to find out the name of the bean (which can be non-unique) and also when getting the actual injected beans for these names it can be possible that you don&#39;t get the same instances (because of `@Scope(SCOPE_PROTOTYPE)` on the bean definition).","title":"Spring: Get the list of beans injected into a bean","body":"<p>You can query names of dependent beans from the <code>ConfigurableBeanFactory</code> for a given bean name with the method <code>getDependenciesForBean()</code>. So in your example the code could look like</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (ConfigurableApplicationContext app = SpringApplication.run(MySpringApplication.class)) {\n    ConfigurableListableBeanFactory beanFactory = app.getBeanFactory();\n    String[] dependencies = beanFactory.getDependenciesForBean(&quot;testController&quot;);\n    System.out.println(Arrays.toString(dependencies)); // [testService, testComponent]\n}\n</code></pre>\n<p>The problem hereby is that you only work on <em>names</em> of beans. So to make the code generic for a given bean instance you would have to find out the name of the bean (which can be non-unique) and also when getting the actual injected beans for these names it can be possible that you don't get the same instances (because of <code>@Scope(SCOPE_PROTOTYPE)</code> on the bean definition).</p>\n"}],"owner":{"account_id":2425257,"reputation":5090,"user_id":2117355,"accept_rate":71,"display_name":"Mark"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":308,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74811302,"answer_count":1,"score":1,"last_activity_date":1671106149,"creation_date":1566039345,"question_id":57535615,"body_markdown":"I&#39;m looking for a way to list the beans that are injected into a particular Spring bean at runtime.  For example, given these two classes:\r\n\r\n    @Controller\r\n    public class TestController {\r\n\r\n        @Autowired\r\n        private TestComponent testComponent;\r\n        \r\n        private final TestService testService;\r\n\r\n        public TestController(TestService testService) {\r\n            this.testService = testService;\r\n        }\r\n    }\r\n\r\nand\r\n\r\n    @Service\r\n    public class TestService {\r\n\r\n    }\r\n\r\nand\r\n\r\n    @Component\r\n    public class TestComponent {\r\n\r\n    }\r\n\r\nThe list of beans for the `TestController` class should return:\r\n\r\n - `TestService` (injected via constructor) \r\n - `TestComponent` (injected via `@Autowired` annotation)\r\n\r\nIs there an existing Spring helper/utility that can return this information for me?","title":"Spring: Get the list of beans injected into a bean","body":"<p>I'm looking for a way to list the beans that are injected into a particular Spring bean at runtime.  For example, given these two classes:</p>\n\n<pre><code>@Controller\npublic class TestController {\n\n    @Autowired\n    private TestComponent testComponent;\n\n    private final TestService testService;\n\n    public TestController(TestService testService) {\n        this.testService = testService;\n    }\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>@Service\npublic class TestService {\n\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>@Component\npublic class TestComponent {\n\n}\n</code></pre>\n\n<p>The list of beans for the <code>TestController</code> class should return:</p>\n\n<ul>\n<li><code>TestService</code> (injected via constructor) </li>\n<li><code>TestComponent</code> (injected via <code>@Autowired</code> annotation)</li>\n</ul>\n\n<p>Is there an existing Spring helper/utility that can return this information for me?</p>\n"},{"tags":["java","rest","swagger","jax-rs","websphere"],"answers":[{"tags":[],"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670923198,"creation_date":1670923198,"answer_id":74782477,"question_id":74782208,"body_markdown":"This `InvocationTargetException` is most likely caused by the convoluted stuff that WebSphere does while instantiating `AppConfig`, and is not telling you (or us) what the actual problem is. \r\n\r\n`InvocationTargetException` is just a silly exception that the java runtime wraps other expressions with, for no reason other than to confuse programmers and make their life harder. (Well, they have some reasons that pretty much boil down to some sort of engineering nobility, which exists only in their minds, and for all practical purposes it is just annoyance with zero practical value.)\r\n\r\nIn order to find what the ***actual*** problem is, you will need to obtain the `cause` of that `InvocationTargetException`. You can do this in one of two ways:\r\n\r\n* The primitive way: catch the exception, invoke `exception.getCause()`, and report the result\r\n* The better way: have your debugger stop when the `InvocationTargetException` is thrown and examine its contents. There should be a `cause` member in there.\r\n\r\nThis will give you more insights as to exactly what went wrong.\r\n\r\nHopefully this answer will be found useful not only by you, but also by anyone else receiving an `InvocationTargetException`, either under the same circumstances, or under similar circumstances, or even under completely dissimilar circumstances: No matter what the circumstances are, the answer is to always look at the cause of the `InvocationTargetException`.\r\n","title":"JAX-RS Swagger InvocationTargetException","body":"<p>This <code>InvocationTargetException</code> is most likely caused by the convoluted stuff that WebSphere does while instantiating <code>AppConfig</code>, and is not telling you (or us) what the actual problem is.</p>\n<p><code>InvocationTargetException</code> is just a silly exception that the java runtime wraps other expressions with, for no reason other than to confuse programmers and make their life harder. (Well, they have some reasons that pretty much boil down to some sort of engineering nobility, which exists only in their minds, and for all practical purposes it is just annoyance with zero practical value.)</p>\n<p>In order to find what the <em><strong>actual</strong></em> problem is, you will need to obtain the <code>cause</code> of that <code>InvocationTargetException</code>. You can do this in one of two ways:</p>\n<ul>\n<li>The primitive way: catch the exception, invoke <code>exception.getCause()</code>, and report the result</li>\n<li>The better way: have your debugger stop when the <code>InvocationTargetException</code> is thrown and examine its contents. There should be a <code>cause</code> member in there.</li>\n</ul>\n<p>This will give you more insights as to exactly what went wrong.</p>\n<p>Hopefully this answer will be found useful not only by you, but also by anyone else receiving an <code>InvocationTargetException</code>, either under the same circumstances, or under similar circumstances, or even under completely dissimilar circumstances: No matter what the circumstances are, the answer is to always look at the cause of the <code>InvocationTargetException</code>.</p>\n"}],"owner":{"account_id":14265593,"reputation":97,"user_id":10304864,"display_name":"Emre &#214;zincegedik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671106143,"creation_date":1670921823,"question_id":74782208,"body_markdown":"I am trying to create a servlet using Websphere application. My web.xml is this:\r\n\r\n    &lt;servlet&gt;\r\n\t\t&lt;servlet-name&gt;TestServlet&lt;/servlet-name&gt;\r\n\t\t&lt;servlet-class&gt;com.ibm.websphere.jaxrs.server.IBMRestServlet&lt;/servlet-class&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;javax.ws.rs.Application&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;main.AppConfig&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n\t&lt;/servlet&gt;\r\n\t&lt;servlet-mapping&gt;\r\n\t\t&lt;servlet-name&gt;TestServlet&lt;/servlet-name&gt;\r\n\t\t&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n\t&lt;/servlet-mapping&gt;\r\n\r\nand my AppConfig is this:\r\n\r\n    public AppConfig() {\r\n\t\tBeanConfig beanConfig = new BeanConfig();\r\n        beanConfig.setVersion(&quot;1.0.0&quot;);\r\n        beanConfig.setSchemes(new String[]{&quot;http&quot;});\r\n        beanConfig.setHost(&quot;localhost:9080&quot;);\r\n        beanConfig.setBasePath(&quot;/&quot;);\r\n        beanConfig.setResourcePackage(&quot;io.swagger.resources&quot;);\r\n        beanConfig.setScan(true);\r\n\t}\r\n\t@Override\r\n    public Set&lt;Class&lt;?&gt;&gt; getClasses() {\r\n        Set&lt;Class&lt;?&gt;&gt; classes = new HashSet&lt;Class&lt;?&gt;&gt;();\r\n        classes.add(Test.class);\r\n        \r\n        classes.add(io.swagger.jaxrs.listing.ApiListingResource.class);\r\n        classes.add(io.swagger.jaxrs.listing.SwaggerSerializers.class);\r\n        return classes;\r\n    }\r\n   \r\nbut when I deploy the application I get this error at the line:\r\n\r\n    BeanConfig beanConfig = new BeanConfig();\r\n\r\n    Resource class main.AppConfig can not be instantiated due to InvocationTargetException\r\n\r\nwhich the `InvocationTargetException`&#39;s target is `null`\r\nCan you help?","title":"JAX-RS Swagger InvocationTargetException","body":"<p>I am trying to create a servlet using Websphere application. My web.xml is this:</p>\n<pre><code>&lt;servlet&gt;\n    &lt;servlet-name&gt;TestServlet&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;com.ibm.websphere.jaxrs.server.IBMRestServlet&lt;/servlet-class&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;javax.ws.rs.Application&lt;/param-name&gt;\n        &lt;param-value&gt;main.AppConfig&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;TestServlet&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n<p>and my AppConfig is this:</p>\n<pre><code>public AppConfig() {\n    BeanConfig beanConfig = new BeanConfig();\n    beanConfig.setVersion(&quot;1.0.0&quot;);\n    beanConfig.setSchemes(new String[]{&quot;http&quot;});\n    beanConfig.setHost(&quot;localhost:9080&quot;);\n    beanConfig.setBasePath(&quot;/&quot;);\n    beanConfig.setResourcePackage(&quot;io.swagger.resources&quot;);\n    beanConfig.setScan(true);\n}\n@Override\npublic Set&lt;Class&lt;?&gt;&gt; getClasses() {\n    Set&lt;Class&lt;?&gt;&gt; classes = new HashSet&lt;Class&lt;?&gt;&gt;();\n    classes.add(Test.class);\n    \n    classes.add(io.swagger.jaxrs.listing.ApiListingResource.class);\n    classes.add(io.swagger.jaxrs.listing.SwaggerSerializers.class);\n    return classes;\n}\n</code></pre>\n<p>but when I deploy the application I get this error at the line:</p>\n<pre><code>BeanConfig beanConfig = new BeanConfig();\n\nResource class main.AppConfig can not be instantiated due to InvocationTargetException\n</code></pre>\n<p>which the <code>InvocationTargetException</code>'s target is <code>null</code>\nCan you help?</p>\n"},{"tags":["java","android-biometric-prompt"],"owner":{"account_id":27261368,"reputation":1,"user_id":20784151,"display_name":"Xano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671105956,"creation_date":1671105909,"question_id":74811243,"body_markdown":"i created this Activity to login with fingerprint. But how i can enable/disable this activity with a switch in the MainActivity. I know that i cant change the manifest programmatically. So how can i do this?\r\n\r\nImageView btnUnlock;\r\n    TextView txt;\r\n\r\n    private Executor executor;\r\n    private BiometricPrompt biometricPrompt;\r\n    private BiometricPrompt.PromptInfo promptInfo;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_lock);\r\n\r\n        btnUnlock = findViewById(R.id.btnUnlock);\r\n        txt = findViewById(R.id.txt1);\r\n\r\n        executor = ContextCompat.getMainExecutor(this);\r\n        biometricPrompt = new BiometricPrompt(LockActivity.this, executor, new BiometricPrompt.AuthenticationCallback() {\r\n            @Override\r\n            public void onAuthenticationError(int errorCode, @NonNull CharSequence errString) {\r\n                super.onAuthenticationError(errorCode, errString);\r\n                txt.setText(&quot;Error : &quot; + errString);\r\n            }\r\n\r\n            @Override\r\n            public void onAuthenticationSucceeded(@NonNull BiometricPrompt.AuthenticationResult result) {\r\n                super.onAuthenticationSucceeded(result);\r\n                Intent myIntent = new Intent(LockActivity.this, MainActivity.class);\r\n                LockActivity.this.startActivity(myIntent);\r\n            }\r\n\r\n            @Override\r\n            public void onAuthenticationFailed() {\r\n                super.onAuthenticationFailed();\r\n                txt.setText(&quot;Authentication Failed&quot;);\r\n            }\r\n        });\r\n\r\n        promptInfo = new BiometricPrompt.PromptInfo.Builder()\r\n                .setTitle(&quot;Biometric Authentication&quot;)\r\n                .setSubtitle(&quot;Login using fingerprint or face&quot;)\r\n                .setNegativeButtonText(&quot;Cancel&quot;)\r\n                .build();\r\n\r\n        btnUnlock.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                biometricPrompt.authenticate(promptInfo);\r\n            }\r\n        });\r\n\r\n    }\r\n}","title":"How to activate biometric login if switch is activated","body":"<p>i created this Activity to login with fingerprint. But how i can enable/disable this activity with a switch in the MainActivity. I know that i cant change the manifest programmatically. So how can i do this?</p>\n<p>ImageView btnUnlock;\nTextView txt;</p>\n<pre><code>private Executor executor;\nprivate BiometricPrompt biometricPrompt;\nprivate BiometricPrompt.PromptInfo promptInfo;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_lock);\n\n    btnUnlock = findViewById(R.id.btnUnlock);\n    txt = findViewById(R.id.txt1);\n\n    executor = ContextCompat.getMainExecutor(this);\n    biometricPrompt = new BiometricPrompt(LockActivity.this, executor, new BiometricPrompt.AuthenticationCallback() {\n        @Override\n        public void onAuthenticationError(int errorCode, @NonNull CharSequence errString) {\n            super.onAuthenticationError(errorCode, errString);\n            txt.setText(&quot;Error : &quot; + errString);\n        }\n\n        @Override\n        public void onAuthenticationSucceeded(@NonNull BiometricPrompt.AuthenticationResult result) {\n            super.onAuthenticationSucceeded(result);\n            Intent myIntent = new Intent(LockActivity.this, MainActivity.class);\n            LockActivity.this.startActivity(myIntent);\n        }\n\n        @Override\n        public void onAuthenticationFailed() {\n            super.onAuthenticationFailed();\n            txt.setText(&quot;Authentication Failed&quot;);\n        }\n    });\n\n    promptInfo = new BiometricPrompt.PromptInfo.Builder()\n            .setTitle(&quot;Biometric Authentication&quot;)\n            .setSubtitle(&quot;Login using fingerprint or face&quot;)\n            .setNegativeButtonText(&quot;Cancel&quot;)\n            .build();\n\n    btnUnlock.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            biometricPrompt.authenticate(promptInfo);\n        }\n    });\n\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","spring-boot","classpath","filenotfoundexception"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1671105769,"post_id":74811165,"comment_id":132028721,"body_markdown":"Do you intend that to be packaged with the app or free floating in the file system?","body":"Do you intend that to be packaged with the app or free floating in the file system?"},{"owner":{"account_id":13065194,"reputation":73,"user_id":9440826,"display_name":"Gaur 97"},"score":0,"creation_date":1671106479,"post_id":74811165,"comment_id":132028979,"body_markdown":"It is packaged with the app and I have generated the jar file of the app.","body":"It is packaged with the app and I have generated the jar file of the app."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1671107704,"post_id":74811165,"comment_id":132029459,"body_markdown":"Check that the file is present in the jar . If it is you should also be able to use ``getResourceAsStream``","body":"Check that the file is present in the jar . If it is you should also be able to use <code>getResourceAsStream</code>"},{"owner":{"account_id":13065194,"reputation":73,"user_id":9440826,"display_name":"Gaur 97"},"score":0,"creation_date":1671174419,"post_id":74811165,"comment_id":132046297,"body_markdown":"Yes, the file is present in the jar. I have check the presence of the file though online jar file opener.","body":"Yes, the file is present in the jar. I have check the presence of the file though online jar file opener."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1671278164,"post_id":74811165,"comment_id":132067772,"body_markdown":"So did you try `getClass().getResourceAsStream(&quot;/Reports/quotation.jasper&quot;);`?","body":"So did you try <code>getClass().getResourceAsStream(&quot;&#47;Reports&#47;quotation.jasper&quot;);</code>&zwnj;&#8203;?"},{"owner":{"account_id":13065194,"reputation":73,"user_id":9440826,"display_name":"Gaur 97"},"score":0,"creation_date":1671435247,"post_id":74811165,"comment_id":132090556,"body_markdown":"I have tried it but getClass().getResourceAsStream(&quot;/Reports/quotation.jasper&quot;); return &#39;InputStream&#39; and I need String here, ie. the path of the file.","body":"I have tried it but getClass().getResourceAsStream(&quot;/Reports/quotation.jasper&quot;); return &#39;InputStream&#39; and I need String here, ie. the path of the file."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1671452965,"post_id":74811165,"comment_id":132095324,"body_markdown":"*Why* do you need a `String`?","body":"<i>Why</i> do you need a <code>String</code>?"},{"owner":{"account_id":13065194,"reputation":73,"user_id":9440826,"display_name":"Gaur 97"},"score":0,"creation_date":1671539922,"post_id":74811165,"comment_id":132116936,"body_markdown":"Because there is a library that takes file name with full class path, there I can&#39;t put resourceAsStream. That is why there is need of path name and the server is not taking this, but on local it works fine.","body":"Because there is a library that takes file name with full class path, there I can&#39;t put resourceAsStream. That is why there is need of path name and the server is not taking this, but on local it works fine."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1671540048,"post_id":74811165,"comment_id":132116981,"body_markdown":"That library, unless it&#39;s been badly written, should include a call that takes a stream as an argument","body":"That library, unless it&#39;s been badly written, should include a call that takes a stream as an argument"},{"owner":{"account_id":13065194,"reputation":73,"user_id":9440826,"display_name":"Gaur 97"},"score":0,"creation_date":1671605548,"post_id":74811165,"comment_id":132132447,"body_markdown":"Yes. But its a standared library for creating jasper report. Please give any idea for working this on server. Yet not find anything to solve this.","body":"Yes. But its a standared library for creating jasper report. Please give any idea for working this on server. Yet not find anything to solve this."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1671613188,"post_id":74811165,"comment_id":132134403,"body_markdown":"I can&#39;t really helps i don&#39;t know what the underlying Jasper call is.","body":"I can&#39;t really helps i don&#39;t know what the underlying Jasper call is."}],"owner":{"account_id":13065194,"reputation":73,"user_id":9440826,"display_name":"Gaur 97"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":576,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671105540,"creation_date":1671105540,"question_id":74811165,"body_markdown":"The below code is working fine on local app:\r\n\r\n    String filePath = ResourceUtils.getFile(&quot;classpath:Reports/&quot; + jaspername).getAbsolutePath();\r\n\r\nBut when I deployed it on UAT Server it through the below error:\r\n\r\n    java.io.FileNotFoundException: class path resource[Report/quotation.jasper] cannot be resolved \r\n    to absolute file path because it does not reside in the file system: \r\n    jar:file:/C:/FolderName/application.jar!/BOOT_INF/Classes!/Reports/Quotation.jasper","title":"java.io.FileNotFoundException: class path resource[Report/quotation.jasper] cannot be resolved to absolute file path because it does not reside in the","body":"<p>The below code is working fine on local app:</p>\n<pre><code>String filePath = ResourceUtils.getFile(&quot;classpath:Reports/&quot; + jaspername).getAbsolutePath();\n</code></pre>\n<p>But when I deployed it on UAT Server it through the below error:</p>\n<pre><code>java.io.FileNotFoundException: class path resource[Report/quotation.jasper] cannot be resolved \nto absolute file path because it does not reside in the file system: \njar:file:/C:/FolderName/application.jar!/BOOT_INF/Classes!/Reports/Quotation.jasper\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","spring-boot","profiling"],"answers":[{"tags":[],"owner":{"account_id":1839825,"reputation":6122,"user_id":1669464,"accept_rate":74,"display_name":"Pytry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671105456,"creation_date":1508439400,"answer_id":46836958,"question_id":46835008,"body_markdown":"Your use of profiles in the first case would be appropriate. \r\n\r\n`@ConditionalOnProperty` is not the correct way to handle your second use case. It is normally to be used for startup configuration with Spring Boot Starter projects.\r\n\r\nYour idea of using a property and adding an `if` condition to decide whether to execute `thisLineHasNotToBeExecuted();` is on the right track. If the execution of that one line is dependent on the profile, then you can inject the active profile into the class and key off of that value. If you are using the spring boot config server, then be sure and add an `@RefreshScope`.\r\n\r\n","title":"@Profile vs @ConditionalOnProperty","body":"<p>Your use of profiles in the first case would be appropriate.</p>\n<p><code>@ConditionalOnProperty</code> is not the correct way to handle your second use case. It is normally to be used for startup configuration with Spring Boot Starter projects.</p>\n<p>Your idea of using a property and adding an <code>if</code> condition to decide whether to execute <code>thisLineHasNotToBeExecuted();</code> is on the right track. If the execution of that one line is dependent on the profile, then you can inject the active profile into the class and key off of that value. If you are using the spring boot config server, then be sure and add an <code>@RefreshScope</code>.</p>\n"}],"owner":{"account_id":2619570,"reputation":1600,"user_id":2267921,"accept_rate":61,"display_name":"Luke SpringWalker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3044,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671105456,"creation_date":1508431798,"question_id":46835008,"body_markdown":"Recently I was asked to create a new `profile` to (de)activate a feature. I have two situations where I have to make changes:\r\n\r\n    class A {\r\n    \r\n        public void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n            SecurityConfigurer ldapConfigurer = securityFactory.ldapAuthenticationProviderConfigurer();\r\n            ldapConfigurer.configure(auth);\r\n        \tSecurityConfigurer offlineConfigurer = securityFactory.offlineAuthenticationProviderConfigurer();\r\n        \tofflineConfigurer.configure(auth);\r\n        }\r\n    \r\n    }\r\n\r\nIn the class above, if the profile is active, the last two lines don&#39;t have to be executed. I extended the class and assign it the new profile `@Profile(&quot;notOffline&quot;)` and in the original class I put `@Profile(&quot;!notOffline&quot;)`.\r\n\r\n    class A {\r\n    \r\n        public void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n            SecurityConfigurer ldapConfigurer = securityFactory.ldapAuthenticationProviderConfigurer();\r\n            ldapConfigurer.configure(auth);\r\n        \tSecurityConfigurer offlineConfigurer = securityFactory.offlineAuthenticationProviderConfigurer();\r\n        \tofflineConfigurer.configure(auth);\r\n        }\r\n    \r\n    }\r\n\r\n        class B extends A {\r\n            @Override\r\n            public void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n                super();\r\n            \tSecurityConfigurer offlineConfigurer = securityFactory.offlineAuthenticationProviderConfigurer();\r\n            \tofflineConfigurer.configure(auth);\r\n            }\r\n        \r\n        }\r\n\r\n\r\n\r\nThe second place I have to refactor is something like this:\r\n\r\n    class C {\r\n    \r\n    public Something foo() {\r\n         code();\r\n         code();\r\n         code();\r\n         thisLineHasNotToBeExecuted();\r\n         code();\r\n         code();\r\n         return something;\r\n        }\r\n    \r\n    }\r\n\r\nThe line that has not to be executed depends on variables that the rest of the method use, and it&#39;s not what is returning. The approach I made before is not the happy one for this case (and there are two methods that are invoking this method that has not to be executed).\r\n\r\nAfter some time I realized that a better approach would be to add a property to the last class which is annotated with `@Value` and pass the argument to the tomcat on the startup. This way I could have an `if` inside `thisLineHasNotToBeExecuted()` and I could use `@ConditionalOnProperty` on `class A` and its child.\r\n\r\nIs my approach correct?\r\n\r\nSome more info: what I&#39;m (de)activating an failover authentication when we use ActiveDirectory and in the second class I&#39;m preventing to save user information in the cache.\r\n\r\nThanks!","title":"@Profile vs @ConditionalOnProperty","body":"<p>Recently I was asked to create a new <code>profile</code> to (de)activate a feature. I have two situations where I have to make changes:</p>\n\n<pre><code>class A {\n\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\n        SecurityConfigurer ldapConfigurer = securityFactory.ldapAuthenticationProviderConfigurer();\n        ldapConfigurer.configure(auth);\n        SecurityConfigurer offlineConfigurer = securityFactory.offlineAuthenticationProviderConfigurer();\n        offlineConfigurer.configure(auth);\n    }\n\n}\n</code></pre>\n\n<p>In the class above, if the profile is active, the last two lines don't have to be executed. I extended the class and assign it the new profile <code>@Profile(\"notOffline\")</code> and in the original class I put <code>@Profile(\"!notOffline\")</code>.</p>\n\n<pre><code>class A {\n\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\n        SecurityConfigurer ldapConfigurer = securityFactory.ldapAuthenticationProviderConfigurer();\n        ldapConfigurer.configure(auth);\n        SecurityConfigurer offlineConfigurer = securityFactory.offlineAuthenticationProviderConfigurer();\n        offlineConfigurer.configure(auth);\n    }\n\n}\n\n    class B extends A {\n        @Override\n        public void configure(AuthenticationManagerBuilder auth) throws Exception {\n            super();\n            SecurityConfigurer offlineConfigurer = securityFactory.offlineAuthenticationProviderConfigurer();\n            offlineConfigurer.configure(auth);\n        }\n\n    }\n</code></pre>\n\n<p>The second place I have to refactor is something like this:</p>\n\n<pre><code>class C {\n\npublic Something foo() {\n     code();\n     code();\n     code();\n     thisLineHasNotToBeExecuted();\n     code();\n     code();\n     return something;\n    }\n\n}\n</code></pre>\n\n<p>The line that has not to be executed depends on variables that the rest of the method use, and it's not what is returning. The approach I made before is not the happy one for this case (and there are two methods that are invoking this method that has not to be executed).</p>\n\n<p>After some time I realized that a better approach would be to add a property to the last class which is annotated with <code>@Value</code> and pass the argument to the tomcat on the startup. This way I could have an <code>if</code> inside <code>thisLineHasNotToBeExecuted()</code> and I could use <code>@ConditionalOnProperty</code> on <code>class A</code> and its child.</p>\n\n<p>Is my approach correct?</p>\n\n<p>Some more info: what I'm (de)activating an failover authentication when we use ActiveDirectory and in the second class I'm preventing to save user information in the cache.</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","spring","validation","thymeleaf","spring-thymeleaf"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1671096820,"post_id":74808934,"comment_id":132025669,"body_markdown":"If that is really your HTML the template is just wrong, what is with all those `\\` in front of each line?","body":"If that is really your HTML the template is just wrong, what is with all those `` in front of each line?"},{"owner":{"account_id":27251658,"reputation":1,"user_id":20782544,"display_name":"Alice"},"score":0,"creation_date":1671106006,"post_id":74808934,"comment_id":132028813,"body_markdown":"Yes, this is my html code\nIt can be seen when I copied from another forum, it was substituted by itself.\nFixed it, but it&#39;s not the original error.\nThank you for noticing.","body":"Yes, this is my html code It can be seen when I copied from another forum, it was substituted by itself. Fixed it, but it&#39;s not the original error. Thank you for noticing."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1671107159,"post_id":74808934,"comment_id":132029221,"body_markdown":"Please include the full error as that error will tell you which line has the error. However due to you copy pasting from different places additional cruft has been added to the texts (just as with your HTML) making it pretty hard to read. Nonetheless this isn&#39;t the full stacktrace I suspect as the original one would have a more descripive error.","body":"Please include the full error as that error will tell you which line has the error. However due to you copy pasting from different places additional cruft has been added to the texts (just as with your HTML) making it pretty hard to read. Nonetheless this isn&#39;t the full stacktrace I suspect as the original one would have a more descripive error."}],"owner":{"account_id":27251658,"reputation":1,"user_id":20782544,"display_name":"Alice"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671105373,"creation_date":1671094227,"question_id":74808934,"body_markdown":"Faced with such a problem that when using in pom.xml spring-boot-starter-validation stops displaying the html page with registration. Without this, Thymeleaf works correctly.\r\nI searched through all the forums, and did not find the problem.\r\n\r\n**RegistrationController**\r\n\r\n```\r\n\r\npackage ru.dnsbo.blogreferee2.controllers;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.validation.BindingResult;\r\nimport org.springframework.validation.Errors;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport ru.dnsbo.blogreferee2.data.UsersRepository;\r\nimport ru.dnsbo.blogreferee2.form.RegistrationForm;\r\nimport ru.dnsbo.blogreferee2.services.RegistrationService;\r\n\r\nimport javax.validation.Valid;\r\n\r\n@Controller\r\n@RequestMapping(&quot;/registration&quot;)\r\npublic class RegistrationController {\r\n\r\n    @Autowired\r\n    private UsersRepository usersRepository;\r\n    @Autowired\r\n    RegistrationService registrationService;\r\n    \r\n    @GetMapping\r\n    private String GetRegistrationPage() {\r\n        return &quot;registration&quot;;\r\n    }\r\n    \r\n    @PostMapping\r\n    private String PostRegistrationPage(Model model, @Valid RegistrationForm form,\r\n                                        Errors errors) {\r\n        //проверка на существующий email\r\n        if(usersRepository.findByEmail(form.getEmail()).isPresent()) {\r\n            return &quot;registration&quot;;\r\n        }\r\n        //проверка на валидность\r\n        if(errors.hasErrors()){\r\n            return &quot;registration&quot;;\r\n        }\r\n        registrationService.registration(form);\r\n        return &quot;redirect:/login&quot;;\r\n    }\r\n\r\n}\r\n```\r\n\r\n**RegistrationForm**\r\n\r\n```\r\n\r\nimport lombok.Data;\r\nimport javax.validation.constraints.Size;\r\n\r\n@Data\r\npublic class RegistrationForm {\r\n@Size(min = 3,max = 10)\r\nprivate String firstname;\r\nprivate String lastname;\r\nprivate String email;\r\nprivate String numberPhone;\r\nprivate String password;\r\nprivate String country;\r\nprivate String city;\r\nprivate String dateBirthday;\r\nprivate String street;\r\nprivate String house;\r\nprivate String flat;\r\n}\r\n```\r\n\r\n**RegistrationServiceImpl implements RegistrationService**\r\n\r\n```\r\n\r\n@Service\r\n@Builder\r\npublic class RegistrationServiceImpl implements RegistrationService {\r\n@Autowired\r\nprivate UsersRepository usersRepository;\r\n\r\n    @Autowired\r\n    private PasswordEncoder passwordEncoder;\r\n    \r\n    @Override\r\n    public void registration(RegistrationForm registrationForm) {\r\n    \r\n        String hashPassword = passwordEncoder.encode(registrationForm.getPassword());\r\n    \r\n        //заполняем форму для регистрации\r\n        Users users = Users.builder()\r\n                .firstname(registrationForm.getFirstname())\r\n                .lastname(registrationForm.getLastname())\r\n                .email(registrationForm.getEmail())\r\n                .password(hashPassword)\r\n                .numberPhone(registrationForm.getNumberPhone())\r\n                .country(registrationForm.getCountry())\r\n                .city(registrationForm.getCity())\r\n                .dateBirthday(registrationForm.getDateBirthday())\r\n                .street(registrationForm.getStreet())\r\n                .house(registrationForm.getHouse())\r\n                .flat(registrationForm.getFlat())\r\n                //ставится по умолчанию\r\n                .role(Role.USER)\r\n                .state(State.ACTIVE)\r\n                .build();\r\n    \r\n        //сохраняем пользователя в бд\r\n        usersRepository.save(users);\r\n    }\r\n\r\n}\r\n```\r\n\r\n**registration.html**\r\n\r\n```\r\n\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot;&gt;\r\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xmlns:th=&quot;http://www.thymeleaf.org/&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;title&gt;Московская Федерация Судей&lt;/title&gt;\r\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\r\n    &lt;link th:href=&quot;@{/css/registrationAndLogin}&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;\r\n    &lt;script src=&quot;https://cdn.tailwindcss.com?plugins=forms,typography,aspect-ratio,line-clamp&quot;&gt;&lt;/script&gt;\r\n    &lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js&quot;&gt;&lt;/script&gt;\r\n    &lt;script src=&quot;https://unpkg.com/flowbite@1.5.5/dist/datepicker.js&quot;&gt;&lt;/script&gt;\r\n\r\n\r\n    &lt;script&gt;\r\n        tailwind.config = {\r\n            theme: {\r\n                extend: {\r\n                    colors: {\r\n                        clifford: &#39;#da373d&#39;,\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    &lt;/script&gt;\r\n\r\n\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;header th:insert=&quot;blocks/header :: header&quot;&gt;&lt;/header&gt;\r\n&lt;main&gt;\r\n    &lt;div class=&quot;hidden sm:block&quot; aria-hidden=&quot;true&quot;&gt;\r\n        &lt;div class=&quot;py-5&quot;&gt;\r\n            &lt;div class=&quot;border-t border-gray-200&quot;&gt;&lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n\r\n    &lt;div class=&quot;mt-10 sm:mt-0&quot;&gt;\r\n        &lt;div class=&quot;md:grid md:grid-cols-4   md:gap-6&quot;&gt;\r\n            &lt;div class=&quot;mt-5 md:col-start-2 md:col-span-2 md:mt-0&quot;&gt;\r\n                &lt;!-- в метод registration post отравляется запрос--&gt;\r\n                &lt;form th:action=&quot;@{/registration}&quot; th:object=&quot;${form}&quot; method=&quot;post&quot;&gt;\r\n                    &lt;div class=&quot;overflow-hidden shadow sm:rounded-md border-2 border-white&quot;&gt;\r\n                        &lt;div class=&quot;bg-sky-50 px-4 py-5 sm:p-6&quot;&gt;\r\n                            &lt;div class=&quot;grid grid-cols-6 gap-6&quot;&gt;\r\n\r\n                                &lt;!--Поле ввода для имени--&gt;\r\n\r\n                                &lt;div class=&quot;col-span-6 sm:col-span-3&quot;&gt;\r\n                                    &lt;label for=&quot;firstname&quot; class=&quot;block text-sm\r\n                                     font-medium text-gray-700&quot;&gt;\r\n\r\n                                        Имя&lt;/label&gt;\r\n                                    &lt;input type=&quot;text&quot; name=&quot;firstname&quot; id=&quot;firstname&quot;\r\n                                           autocomplete=&quot;firstname&quot; th:field=&quot;*{firstname}&quot;\r\n                                           class=&quot; mt-1 block w-full rounded-md border-gray-300\r\n                                            shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm&quot;\r\n                                          /&gt;\r\n                                    &lt;div th:if=&quot;${#fields.hasErrors(&#39;firstname&#39;)}&quot;\r\n                                         th:errors=&quot;*{firstname}&quot; &gt;\r\n                                        Ошибка ввода\r\n                                    &lt;/div&gt;\r\n                                &lt;/div&gt;\r\n\r\n                        //прочий код\r\n\r\n                        &lt;!--Кнопка сохранить и отравить в бд--&gt;\r\n\r\n                        &lt;div class=&quot;bg-indigo-50 px-4 py-3 text-right sm:px-6&quot;&gt;\r\n                            &lt;button type=&quot;submit&quot;\r\n                                    class=&quot;inline-flex justify-center rounded-md border border-transparent\r\n                                     bg-indigo-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-indigo-700\r\n                                     focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2&quot;&gt;\r\n                                Сохранить\r\n                            &lt;/button&gt;\r\n                        &lt;/div&gt;\r\n\r\n                    &lt;/div&gt;\r\n                &lt;/form&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n&lt;/main&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n**Mistakes:**\r\n\r\n```\r\n\r\n2022-12-14 17:41:07.634 ERROR 12580 --- \\[p-nio-80-exec-1\\] org.thymeleaf.TemplateEngine             : \\[THYMELEAF\\]\\[http-nio-80-exec-1\\] Exception processing template &quot;registration&quot;: An error happened during template parsing (template: &quot;class path resource \\[templates/registration.html\\]&quot;)\r\n\r\norg.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;class path resource \\[templates/registration.html\\]&quot;)\r\nat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241) \\~\\[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE\\]\r\nat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100) \\~\\[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE\\]\r\nat org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666) \\~\\[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE\\]\r\nat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098) \\~\\[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE\\]\r\nat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072) \\~\\[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE\\]\r\nat org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:366) \\~\\[thymeleaf-spring5-3.0.15.RELEASE.jar:3.0.15.RELEASE\\]\r\nat org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:190) \\~\\[thymeleaf-spring5-3.0.15.RELEASE.jar:3.0.15.RELEASE\\]\r\nat org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1405) \\~\\[spring-webmvc-5.3.23.jar:5.3.23\\]\r\nat org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1149) \\~\\[spring-webmvc-5.3.23.jar:5.3.23\\]\r\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088) \\~\\[spring-webmvc-5.3.23.jar:5.3.23\\]\r\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964) \\~\\[spring-webmvc-5.3.23.jar:5.3.23\\]\r\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) \\~\\[spring-webmvc-5.3.23.jar:5.3.23\\]\r\nat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) \\~\\[spring-webmvc-5.3.23.jar:5.3.23\\]\r\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:670) \\~\\[tomcat-embed-core-9.0.68.jar:4.0.FR\\]\r\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) \\~\\[spring-webmvc-5.3.23.jar:5.3.23\\]\r\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:779) \\~\\[tomcat-embed-core-9.0.68.jar:4.0.FR\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) \\~\\[tomcat-embed-core-9.0.68.jar:9.0.68\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) \\~\\[tomcat-embed-core-9.0.68.jar:9.0.68\\]\r\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) \\~\\[tomcat-embed-websocket-9.0.68.jar:9.0.68\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) \\~\\[tomcat-embed-core-9.0.68.jar:9.0.68\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) \\~\\[tomcat-embed-core-9.0.68.jar:9.0.68\\]\r\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\r\nat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\r\nat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\r\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\r\nat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\r\nat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\r\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\r\nat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\r\nat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\r\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\r\nat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\r\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\r\nat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\r\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\r\nat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\r\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\r\nat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:223) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\r\nat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\r\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\r\nat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\r\nat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\r\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\r\nat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\r\nat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\r\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) \\~\\[spring-web-5.3.23.jar:5.3.23\\]\r\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\r\nat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\r\nat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\r\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\r\nat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\r\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) \\~\\[spring-web-5.3.23.jar:5.3.23\\]\r\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\r\nat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\r\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) \\~\\[spring-web-5.3.23.jar:5.3.23\\]\r\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\r\nat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\r\nat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\r\nat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) \\~\\[spring-web-5.3.23.jar:5.3.23\\]\r\nat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) \\~\\[spring-web-5.3.23.jar:5.3.23\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) \\~\\[tomcat-embed-core-9.0.68.jar:9.0.68\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) \\~\\[tomcat-embed-core-9.0.68.jar:9.0.68\\]\r\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) \\~\\[spring-web-5.3.23.jar:5.3.23\\]\r\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) \\~\\[spring-web-5.3.23.jar:5.3.23\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) \\~\\[tomcat-embed-core-9.0.68.jar:9.0.68\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) \\~\\[tomcat-embed-core-9.0.68.jar:9.0.68\\]\r\nat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) \\~\\[spring-web-5.3.23.jar:5.3.23\\]\r\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) \\~\\[spring-web-5.3.23.jar:5.3.23\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) \\~\\[tomcat-embed-core-9.0.68.jar:9.0.68\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) \\~\\[tomcat-embed-core-9.0.68.jar:9.0.68\\]\r\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) \\~\\[spring-web-5.3.23.jar:5.3.23\\]\r\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) \\~\\[spring-web-5.3.23.jar:5.3.23\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) \\~\\[tomcat-embed-core-9.0.68.jar:9.0.68\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) \\~\\[tomcat-embed-core-9.0.68.jar:9.0.68\\]\r\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) \\~\\[tomcat-embed-core-9.0.68.jar:9.0.68\\]\r\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) \\~\\[tomcat-embed-core-9.0.68.jar:9.0.68\\]\r\n```\r\n\r\ni know there is something terribly wrong with my understanding of how this whole annotation thing gets wired up and maps to the Valid. I&#39;ve rummaged through all combinations and posts in StOv for similar exceptions, but I&#39;ve clearly missed something. could someone be so kind as to point out my blunder here?\r\n\r\nI could make validation work through js or html, but it is important for me that it is implemented through Java\r\n\r\nadvance thanks","title":"Validation in Thymeleaf + Spring. Using validation in registration stops displaying the html page","body":"<p>Faced with such a problem that when using in pom.xml spring-boot-starter-validation stops displaying the html page with registration. Without this, Thymeleaf works correctly.\nI searched through all the forums, and did not find the problem.</p>\n<p><strong>RegistrationController</strong></p>\n<pre><code>\npackage ru.dnsbo.blogreferee2.controllers;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.validation.BindingResult;\nimport org.springframework.validation.Errors;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport ru.dnsbo.blogreferee2.data.UsersRepository;\nimport ru.dnsbo.blogreferee2.form.RegistrationForm;\nimport ru.dnsbo.blogreferee2.services.RegistrationService;\n\nimport javax.validation.Valid;\n\n@Controller\n@RequestMapping(&quot;/registration&quot;)\npublic class RegistrationController {\n\n    @Autowired\n    private UsersRepository usersRepository;\n    @Autowired\n    RegistrationService registrationService;\n    \n    @GetMapping\n    private String GetRegistrationPage() {\n        return &quot;registration&quot;;\n    }\n    \n    @PostMapping\n    private String PostRegistrationPage(Model model, @Valid RegistrationForm form,\n                                        Errors errors) {\n        //проверка на существующий email\n        if(usersRepository.findByEmail(form.getEmail()).isPresent()) {\n            return &quot;registration&quot;;\n        }\n        //проверка на валидность\n        if(errors.hasErrors()){\n            return &quot;registration&quot;;\n        }\n        registrationService.registration(form);\n        return &quot;redirect:/login&quot;;\n    }\n\n}\n</code></pre>\n<p><strong>RegistrationForm</strong></p>\n<pre><code>\nimport lombok.Data;\nimport javax.validation.constraints.Size;\n\n@Data\npublic class RegistrationForm {\n@Size(min = 3,max = 10)\nprivate String firstname;\nprivate String lastname;\nprivate String email;\nprivate String numberPhone;\nprivate String password;\nprivate String country;\nprivate String city;\nprivate String dateBirthday;\nprivate String street;\nprivate String house;\nprivate String flat;\n}\n</code></pre>\n<p><strong>RegistrationServiceImpl implements RegistrationService</strong></p>\n<pre><code>\n@Service\n@Builder\npublic class RegistrationServiceImpl implements RegistrationService {\n@Autowired\nprivate UsersRepository usersRepository;\n\n    @Autowired\n    private PasswordEncoder passwordEncoder;\n    \n    @Override\n    public void registration(RegistrationForm registrationForm) {\n    \n        String hashPassword = passwordEncoder.encode(registrationForm.getPassword());\n    \n        //заполняем форму для регистрации\n        Users users = Users.builder()\n                .firstname(registrationForm.getFirstname())\n                .lastname(registrationForm.getLastname())\n                .email(registrationForm.getEmail())\n                .password(hashPassword)\n                .numberPhone(registrationForm.getNumberPhone())\n                .country(registrationForm.getCountry())\n                .city(registrationForm.getCity())\n                .dateBirthday(registrationForm.getDateBirthday())\n                .street(registrationForm.getStreet())\n                .house(registrationForm.getHouse())\n                .flat(registrationForm.getFlat())\n                //ставится по умолчанию\n                .role(Role.USER)\n                .state(State.ACTIVE)\n                .build();\n    \n        //сохраняем пользователя в бд\n        usersRepository.save(users);\n    }\n\n}\n</code></pre>\n<p><strong>registration.html</strong></p>\n<pre><code>\n&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xmlns:th=&quot;http://www.thymeleaf.org/&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;Московская Федерация Судей&lt;/title&gt;\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\n    &lt;link th:href=&quot;@{/css/registrationAndLogin}&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;\n    &lt;script src=&quot;https://cdn.tailwindcss.com?plugins=forms,typography,aspect-ratio,line-clamp&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;https://unpkg.com/flowbite@1.5.5/dist/datepicker.js&quot;&gt;&lt;/script&gt;\n\n\n    &lt;script&gt;\n        tailwind.config = {\n            theme: {\n                extend: {\n                    colors: {\n                        clifford: '#da373d',\n                    }\n                }\n            }\n        }\n    &lt;/script&gt;\n\n\n&lt;/head&gt;\n&lt;body&gt;\n&lt;header th:insert=&quot;blocks/header :: header&quot;&gt;&lt;/header&gt;\n&lt;main&gt;\n    &lt;div class=&quot;hidden sm:block&quot; aria-hidden=&quot;true&quot;&gt;\n        &lt;div class=&quot;py-5&quot;&gt;\n            &lt;div class=&quot;border-t border-gray-200&quot;&gt;&lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;div class=&quot;mt-10 sm:mt-0&quot;&gt;\n        &lt;div class=&quot;md:grid md:grid-cols-4   md:gap-6&quot;&gt;\n            &lt;div class=&quot;mt-5 md:col-start-2 md:col-span-2 md:mt-0&quot;&gt;\n                &lt;!-- в метод registration post отравляется запрос--&gt;\n                &lt;form th:action=&quot;@{/registration}&quot; th:object=&quot;${form}&quot; method=&quot;post&quot;&gt;\n                    &lt;div class=&quot;overflow-hidden shadow sm:rounded-md border-2 border-white&quot;&gt;\n                        &lt;div class=&quot;bg-sky-50 px-4 py-5 sm:p-6&quot;&gt;\n                            &lt;div class=&quot;grid grid-cols-6 gap-6&quot;&gt;\n\n                                &lt;!--Поле ввода для имени--&gt;\n\n                                &lt;div class=&quot;col-span-6 sm:col-span-3&quot;&gt;\n                                    &lt;label for=&quot;firstname&quot; class=&quot;block text-sm\n                                     font-medium text-gray-700&quot;&gt;\n\n                                        Имя&lt;/label&gt;\n                                    &lt;input type=&quot;text&quot; name=&quot;firstname&quot; id=&quot;firstname&quot;\n                                           autocomplete=&quot;firstname&quot; th:field=&quot;*{firstname}&quot;\n                                           class=&quot; mt-1 block w-full rounded-md border-gray-300\n                                            shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm&quot;\n                                          /&gt;\n                                    &lt;div th:if=&quot;${#fields.hasErrors('firstname')}&quot;\n                                         th:errors=&quot;*{firstname}&quot; &gt;\n                                        Ошибка ввода\n                                    &lt;/div&gt;\n                                &lt;/div&gt;\n\n                        //прочий код\n\n                        &lt;!--Кнопка сохранить и отравить в бд--&gt;\n\n                        &lt;div class=&quot;bg-indigo-50 px-4 py-3 text-right sm:px-6&quot;&gt;\n                            &lt;button type=&quot;submit&quot;\n                                    class=&quot;inline-flex justify-center rounded-md border border-transparent\n                                     bg-indigo-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-indigo-700\n                                     focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2&quot;&gt;\n                                Сохранить\n                            &lt;/button&gt;\n                        &lt;/div&gt;\n\n                    &lt;/div&gt;\n                &lt;/form&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/main&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p><strong>Mistakes:</strong></p>\n<pre><code>\n2022-12-14 17:41:07.634 ERROR 12580 --- \\[p-nio-80-exec-1\\] org.thymeleaf.TemplateEngine             : \\[THYMELEAF\\]\\[http-nio-80-exec-1\\] Exception processing template &quot;registration&quot;: An error happened during template parsing (template: &quot;class path resource \\[templates/registration.html\\]&quot;)\n\norg.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;class path resource \\[templates/registration.html\\]&quot;)\nat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241) \\~\\[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE\\]\nat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100) \\~\\[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE\\]\nat org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666) \\~\\[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE\\]\nat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098) \\~\\[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE\\]\nat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072) \\~\\[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE\\]\nat org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:366) \\~\\[thymeleaf-spring5-3.0.15.RELEASE.jar:3.0.15.RELEASE\\]\nat org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:190) \\~\\[thymeleaf-spring5-3.0.15.RELEASE.jar:3.0.15.RELEASE\\]\nat org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1405) \\~\\[spring-webmvc-5.3.23.jar:5.3.23\\]\nat org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1149) \\~\\[spring-webmvc-5.3.23.jar:5.3.23\\]\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088) \\~\\[spring-webmvc-5.3.23.jar:5.3.23\\]\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964) \\~\\[spring-webmvc-5.3.23.jar:5.3.23\\]\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) \\~\\[spring-webmvc-5.3.23.jar:5.3.23\\]\nat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) \\~\\[spring-webmvc-5.3.23.jar:5.3.23\\]\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:670) \\~\\[tomcat-embed-core-9.0.68.jar:4.0.FR\\]\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) \\~\\[spring-webmvc-5.3.23.jar:5.3.23\\]\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:779) \\~\\[tomcat-embed-core-9.0.68.jar:4.0.FR\\]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) \\~\\[tomcat-embed-core-9.0.68.jar:9.0.68\\]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) \\~\\[tomcat-embed-core-9.0.68.jar:9.0.68\\]\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) \\~\\[tomcat-embed-websocket-9.0.68.jar:9.0.68\\]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) \\~\\[tomcat-embed-core-9.0.68.jar:9.0.68\\]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) \\~\\[tomcat-embed-core-9.0.68.jar:9.0.68\\]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\nat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\nat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\nat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\nat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\nat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\nat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\nat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\nat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\nat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\nat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:223) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\nat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\nat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\nat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\nat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\nat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) \\~\\[spring-web-5.3.23.jar:5.3.23\\]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\nat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\nat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\nat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) \\~\\[spring-web-5.3.23.jar:5.3.23\\]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\nat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) \\~\\[spring-web-5.3.23.jar:5.3.23\\]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\nat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\nat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) \\~\\[spring-security-web-5.7.4.jar:5.7.4\\]\nat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) \\~\\[spring-web-5.3.23.jar:5.3.23\\]\nat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) \\~\\[spring-web-5.3.23.jar:5.3.23\\]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) \\~\\[tomcat-embed-core-9.0.68.jar:9.0.68\\]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) \\~\\[tomcat-embed-core-9.0.68.jar:9.0.68\\]\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) \\~\\[spring-web-5.3.23.jar:5.3.23\\]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) \\~\\[spring-web-5.3.23.jar:5.3.23\\]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) \\~\\[tomcat-embed-core-9.0.68.jar:9.0.68\\]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) \\~\\[tomcat-embed-core-9.0.68.jar:9.0.68\\]\nat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) \\~\\[spring-web-5.3.23.jar:5.3.23\\]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) \\~\\[spring-web-5.3.23.jar:5.3.23\\]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) \\~\\[tomcat-embed-core-9.0.68.jar:9.0.68\\]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) \\~\\[tomcat-embed-core-9.0.68.jar:9.0.68\\]\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) \\~\\[spring-web-5.3.23.jar:5.3.23\\]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) \\~\\[spring-web-5.3.23.jar:5.3.23\\]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) \\~\\[tomcat-embed-core-9.0.68.jar:9.0.68\\]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) \\~\\[tomcat-embed-core-9.0.68.jar:9.0.68\\]\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) \\~\\[tomcat-embed-core-9.0.68.jar:9.0.68\\]\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) \\~\\[tomcat-embed-core-9.0.68.jar:9.0.68\\]\n</code></pre>\n<p>i know there is something terribly wrong with my understanding of how this whole annotation thing gets wired up and maps to the Valid. I've rummaged through all combinations and posts in StOv for similar exceptions, but I've clearly missed something. could someone be so kind as to point out my blunder here?</p>\n<p>I could make validation work through js or html, but it is important for me that it is implemented through Java</p>\n<p>advance thanks</p>\n"},{"tags":["java","maven","jwt","token"],"answers":[{"tags":[],"owner":{"account_id":7753338,"reputation":1218,"user_id":5985343,"display_name":"jmizv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671105030,"creation_date":1670582154,"answer_id":74741904,"question_id":74741588,"body_markdown":"I&#39;ve found [another way][1] that would probably suit you better:\r\n\r\n```\r\n&#160;/** Authorizes the installed application to access user&#39;s protected data. */\r\n&#160;private static Credential authorize() throws Exception {\r\n   // load client secrets\r\n   GoogleClientSecrets clientSecrets = GoogleClientSecrets.load(JSON_FACTORY,\r\n       new InputStreamReader(CalendarSample.class.getResourceAsStream(&quot;/client_secrets.json&quot;)));\r\n   // set up authorization code flow\r\n   GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\r\n       httpTransport, JSON_FACTORY, clientSecrets,\r\n       Collections.singleton(CalendarScopes.CALENDAR)).setDataStoreFactory(dataStoreFactory)\r\n      .build();\r\n   // authorize\r\n   return new AuthorizationCodeInstalledApp(flow, new LocalServerReceiver()).authorize(&quot;user&quot;);\r\n}\r\n```\r\n\r\nSee that documentation for more information.\r\n\r\nBut basically you should better store you `clientId` and `clientSecret` in a JSON file to have it not in the source code.\r\n\r\nWith that you can build your `GoogleAuthorizationCodeFlow` object and receive from that the `Credential`.\r\n\r\n  [1]: https://developers.google.com/api-client-library/java","title":"I couldnt get jwt token from google","body":"<p>I've found <a href=\"https://developers.google.com/api-client-library/java\" rel=\"nofollow noreferrer\">another way</a> that would probably suit you better:</p>\n<pre><code> /** Authorizes the installed application to access user's protected data. */\n private static Credential authorize() throws Exception {\n   // load client secrets\n   GoogleClientSecrets clientSecrets = GoogleClientSecrets.load(JSON_FACTORY,\n       new InputStreamReader(CalendarSample.class.getResourceAsStream(&quot;/client_secrets.json&quot;)));\n   // set up authorization code flow\n   GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\n       httpTransport, JSON_FACTORY, clientSecrets,\n       Collections.singleton(CalendarScopes.CALENDAR)).setDataStoreFactory(dataStoreFactory)\n      .build();\n   // authorize\n   return new AuthorizationCodeInstalledApp(flow, new LocalServerReceiver()).authorize(&quot;user&quot;);\n}\n</code></pre>\n<p>See that documentation for more information.</p>\n<p>But basically you should better store you <code>clientId</code> and <code>clientSecret</code> in a JSON file to have it not in the source code.</p>\n<p>With that you can build your <code>GoogleAuthorizationCodeFlow</code> object and receive from that the <code>Credential</code>.</p>\n"}],"owner":{"account_id":25954920,"reputation":37,"user_id":19672397,"display_name":"Mert &#199;evik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":376,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671105030,"creation_date":1670580439,"question_id":74741588,"body_markdown":"First of all i take client_id and client_secret from google developer tools. I am writing an API automation and I need to automatically get the Google token after signing in with a Google email and password in the option to sign in with Google on a site(e.g: www.xyz.com).\r\n  First I added these dependencies to my pom.xml file \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.auth&lt;/groupId&gt;\r\n        &lt;artifactId&gt;google-auth-library-oauth2-http&lt;/artifactId&gt;\r\n        &lt;version&gt;1.12.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/com.google.api-client/google-api-client --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n        &lt;artifactId&gt;google-api-client&lt;/artifactId&gt;\r\n        &lt;version&gt;1.30.10&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/com.google.apis/google-api-services-oauth2 --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\r\n        &lt;artifactId&gt;google-api-services-oauth2&lt;/artifactId&gt;\r\n        &lt;version&gt;v2-rev157-1.25.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/com.google.api-client/google-api-client-jackson2 --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n        &lt;artifactId&gt;google-api-client-jackson2&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/com.google.oauth-client/google-oauth-client-jetty --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\r\n        &lt;artifactId&gt;google-oauth-client-jetty&lt;/artifactId&gt;\r\n        &lt;version&gt;1.30.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nAfter i wrote these codes : \r\n\r\n    package JWTToken;\r\n    \r\n    \r\n    import com.google.api.client.http.javanet.NetHttpTransport;\r\n    import com.google.api.client.json.jackson2.JacksonFactory;\r\n    import com.google.auth.oauth2.GoogleCredentials;\r\n    \r\n    public class JwtToken {\r\n        public static void main(String[] args) {\r\n            // Google OAuth 2.0 \r\n            String clientId = &quot;519214871295-o8********3m9i75ao7mm.apps.googleusercontent.com&quot;;\r\n            String clientSecret = &quot;GOCSPX-*********7wKn5pXYZ&quot;;\r\n    \r\n            // Google OAuth 2.0 \r\n            GoogleCredentials credentials = new GoogleCredentials.Builder()\r\n                    .setClientSecrets(clientId, clientSecret)\r\n                    .setTransport(new NetHttpTransport())\r\n                    .setJsonFactory(new JacksonFactory())\r\n                    .build();\r\n    \r\n            String accessToken = credentials.getAccessToken().getTokenValue();\r\n            System.out.println(accessToken);\r\n        }\r\n    }\r\n\r\nBut `Builder()` has protected access in `com.google.auth.oauth2.GoogleCredentials.Builder`. How can i access it or any advice for me. Thank you for your advice ","title":"I couldnt get jwt token from google","body":"<p>First of all i take client_id and client_secret from google developer tools. I am writing an API automation and I need to automatically get the Google token after signing in with a Google email and password in the option to sign in with Google on a site(e.g: <a href=\"http://www.xyz.com\" rel=\"nofollow noreferrer\">www.xyz.com</a>).\nFirst I added these dependencies to my pom.xml file</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.google.auth&lt;/groupId&gt;\n    &lt;artifactId&gt;google-auth-library-oauth2-http&lt;/artifactId&gt;\n    &lt;version&gt;1.12.1&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/com.google.api-client/google-api-client --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n    &lt;artifactId&gt;google-api-client&lt;/artifactId&gt;\n    &lt;version&gt;1.30.10&lt;/version&gt;\n&lt;/dependency&gt;\n\n\n&lt;!-- https://mvnrepository.com/artifact/com.google.apis/google-api-services-oauth2 --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\n    &lt;artifactId&gt;google-api-services-oauth2&lt;/artifactId&gt;\n    &lt;version&gt;v2-rev157-1.25.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/com.google.api-client/google-api-client-jackson2 --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n    &lt;artifactId&gt;google-api-client-jackson2&lt;/artifactId&gt;\n    &lt;version&gt;2.1.1&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/com.google.oauth-client/google-oauth-client-jetty --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\n    &lt;artifactId&gt;google-oauth-client-jetty&lt;/artifactId&gt;\n    &lt;version&gt;1.30.6&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>After i wrote these codes :</p>\n<pre><code>package JWTToken;\n\n\nimport com.google.api.client.http.javanet.NetHttpTransport;\nimport com.google.api.client.json.jackson2.JacksonFactory;\nimport com.google.auth.oauth2.GoogleCredentials;\n\npublic class JwtToken {\n    public static void main(String[] args) {\n        // Google OAuth 2.0 \n        String clientId = &quot;519214871295-o8********3m9i75ao7mm.apps.googleusercontent.com&quot;;\n        String clientSecret = &quot;GOCSPX-*********7wKn5pXYZ&quot;;\n\n        // Google OAuth 2.0 \n        GoogleCredentials credentials = new GoogleCredentials.Builder()\n                .setClientSecrets(clientId, clientSecret)\n                .setTransport(new NetHttpTransport())\n                .setJsonFactory(new JacksonFactory())\n                .build();\n\n        String accessToken = credentials.getAccessToken().getTokenValue();\n        System.out.println(accessToken);\n    }\n}\n</code></pre>\n<p>But <code>Builder()</code> has protected access in <code>com.google.auth.oauth2.GoogleCredentials.Builder</code>. How can i access it or any advice for me. Thank you for your advice</p>\n"},{"tags":["java","amazon-web-services","aws-lambda"],"comments":[{"owner":{"account_id":10998452,"reputation":2722,"user_id":8079754,"display_name":"Moe"},"score":0,"creation_date":1520231155,"post_id":49104555,"comment_id":85214183,"body_markdown":"so what have you done so far? whats the issue here?","body":"so what have you done so far? whats the issue here?"}],"answers":[{"tags":[],"owner":{"account_id":6707143,"reputation":21,"user_id":5171643,"display_name":"Kearnel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520243339,"creation_date":1520243339,"answer_id":49107487,"question_id":49104555,"body_markdown":"You can consider [AWS API Gateway](https://aws.amazon.com/api-gateway/) as proxy of API in your EC2. [Calling from Lambda to API Gateway](https://docs.aws.amazon.com/apigateway/latest/developerguide/how-to-call-api.html)  is easy.","title":"AWS Lambda function to make rest api call to api deployed in EC2","body":"<p>You can consider <a href=\"https://aws.amazon.com/api-gateway/\" rel=\"nofollow noreferrer\">AWS API Gateway</a> as proxy of API in your EC2. <a href=\"https://docs.aws.amazon.com/apigateway/latest/developerguide/how-to-call-api.html\" rel=\"nofollow noreferrer\">Calling from Lambda to API Gateway</a>  is easy.</p>\n"},{"tags":[],"owner":{"account_id":7834340,"reputation":1485,"user_id":5923069,"display_name":"Dhanuka Perera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617714447,"creation_date":1617714447,"answer_id":66969264,"question_id":49104555,"body_markdown":"    const https = require(&quot;https&quot;);\r\n    \r\n    const handler = async (event) =&gt; {\r\n    \tconst data = JSON.stringify({\r\n    \t\ttodo: &quot;Order pizza&quot;,\r\n    \t});\r\n    \r\n    \tconst options = {\r\n    \t\thostname: &quot;yourwebsite.com&quot;,\r\n    \t\tport: 443,\r\n    \t\tpath: &quot;/todos&quot;,\r\n    \t\tmethod: &quot;POST&quot;,\r\n    \t\theaders: {\r\n    \t\t\t&quot;Content-Type&quot;: &quot;application/json&quot;,\r\n    \t\t\t&quot;Content-Length&quot;: data.length,\r\n    \t\t},\r\n    \t};\r\n    \r\n    \tconst response = await doRequest(options, data);\r\n    \tconsole.log(&quot;OTP response&quot;, JSON.stringify(response));\r\n    \r\n    \treturn event;\r\n    };\r\n    \r\n    /**\r\n     * Do a request with options provided.\r\n     *\r\n     * @param {Object} options\r\n     * @param {Object} data\r\n     * @return {Promise} a promise of request\r\n     */\r\n    function doRequest(options, data) {\r\n    \treturn new Promise((resolve, reject) =&gt; {\r\n    \t\tconst req = https.request(options, (res) =&gt; {\r\n    \t\t\tres.setEncoding(&quot;utf8&quot;);\r\n    \t\t\tlet responseBody = &quot;&quot;;\r\n    \r\n    \t\t\tres.on(&quot;data&quot;, (chunk) =&gt; {\r\n    \t\t\t\tresponseBody += chunk;\r\n    \t\t\t});\r\n    \r\n    \t\t\tres.on(&quot;end&quot;, () =&gt; {\r\n    \t\t\t\tresolve(JSON.parse(responseBody));\r\n    \t\t\t});\r\n    \t\t});\r\n    \r\n    \t\treq.on(&quot;error&quot;, (err) =&gt; {\r\n    \t\t\treject(err);\r\n    \t\t});\r\n    \r\n    \t\treq.write(data);\r\n    \t\treq.end();\r\n    \t});\r\n    }\r\n    \r\n    module.exports = {\r\n    \thandler,\r\n    };\r\n\r\n","title":"AWS Lambda function to make rest api call to api deployed in EC2","body":"<pre><code>const https = require(&quot;https&quot;);\n\nconst handler = async (event) =&gt; {\n    const data = JSON.stringify({\n        todo: &quot;Order pizza&quot;,\n    });\n\n    const options = {\n        hostname: &quot;yourwebsite.com&quot;,\n        port: 443,\n        path: &quot;/todos&quot;,\n        method: &quot;POST&quot;,\n        headers: {\n            &quot;Content-Type&quot;: &quot;application/json&quot;,\n            &quot;Content-Length&quot;: data.length,\n        },\n    };\n\n    const response = await doRequest(options, data);\n    console.log(&quot;OTP response&quot;, JSON.stringify(response));\n\n    return event;\n};\n\n/**\n * Do a request with options provided.\n *\n * @param {Object} options\n * @param {Object} data\n * @return {Promise} a promise of request\n */\nfunction doRequest(options, data) {\n    return new Promise((resolve, reject) =&gt; {\n        const req = https.request(options, (res) =&gt; {\n            res.setEncoding(&quot;utf8&quot;);\n            let responseBody = &quot;&quot;;\n\n            res.on(&quot;data&quot;, (chunk) =&gt; {\n                responseBody += chunk;\n            });\n\n            res.on(&quot;end&quot;, () =&gt; {\n                resolve(JSON.parse(responseBody));\n            });\n        });\n\n        req.on(&quot;error&quot;, (err) =&gt; {\n            reject(err);\n        });\n\n        req.write(data);\n        req.end();\n    });\n}\n\nmodule.exports = {\n    handler,\n};\n</code></pre>\n"}],"owner":{"account_id":7410973,"reputation":299,"user_id":5638295,"display_name":"benny"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":658,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1671104871,"creation_date":1520230853,"question_id":49104555,"body_markdown":"I want to write an AWS Lambda function using java, that make rest api call to the api which is deployed in EC2 url should be configurable.","title":"AWS Lambda function to make rest api call to api deployed in EC2","body":"<p>I want to write an AWS Lambda function using java, that make rest api call to the api which is deployed in EC2 url should be configurable.</p>\n"},{"tags":["java","spring","spring-mvc","controller"],"answers":[{"tags":[],"owner":{"account_id":5850578,"reputation":1170,"user_id":4609353,"display_name":"Oleg Ushakov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671104772,"creation_date":1671104772,"answer_id":74811026,"question_id":74810929,"body_markdown":"In first option you just open view name.\r\nSecond option is using the prefix redirect:. The redirect view name is injected into the controller like any other logical view name. The controller is not even aware that redirection is happening.","title":"what is difference between normal string passing to view resolver and passing with redirect:/string in spring mvc?","body":"<p>In first option you just open view name.\nSecond option is using the prefix redirect:. The redirect view name is injected into the controller like any other logical view name. The controller is not even aware that redirection is happening.</p>\n"}],"owner":{"account_id":18802560,"reputation":639,"user_id":13712583,"display_name":"KUNAL HIRANI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671104772,"creation_date":1671104308,"question_id":74810929,"body_markdown":"I have two methods in a controller. view resolver is configured in the servlet.xml\r\n```\r\n@RequestMapping(value=&quot;/test2&quot;)\r\n\tpublic String test2(Model model) \r\n\t{\r\n\t\tSystem.out.println(&quot;redirected 1&quot;);\r\n\t\treturn &quot;test3&quot;;\r\n\t}\r\n\t\r\n\t@RequestMapping(value=&quot;/test3&quot;)\r\n\tpublic String test3(Model model) \r\n\t{\r\n\t\tSystem.out.println(&quot;redirected 2&quot;);\r\n\t\treturn &quot;redirect:/test2&quot;;\r\n\t}\r\n```\r\n\r\ncan anyone tell me what is difference between those 2 as current both methods are opening mentioned jsp page for me..","title":"what is difference between normal string passing to view resolver and passing with redirect:/string in spring mvc?","body":"<p>I have two methods in a controller. view resolver is configured in the servlet.xml</p>\n<pre><code>@RequestMapping(value=&quot;/test2&quot;)\n    public String test2(Model model) \n    {\n        System.out.println(&quot;redirected 1&quot;);\n        return &quot;test3&quot;;\n    }\n    \n    @RequestMapping(value=&quot;/test3&quot;)\n    public String test3(Model model) \n    {\n        System.out.println(&quot;redirected 2&quot;);\n        return &quot;redirect:/test2&quot;;\n    }\n</code></pre>\n<p>can anyone tell me what is difference between those 2 as current both methods are opening mentioned jsp page for me..</p>\n"},{"tags":["java","json","spring-boot"],"owner":{"account_id":26662139,"reputation":45,"user_id":20274796,"display_name":"rsharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671104758,"creation_date":1671104758,"question_id":74811023,"body_markdown":"I am trying to achieve of converting or merging JSONArray and JSONObject together. \r\nThis is my original JSON response that I get from using RestTemplate.  \r\n\r\n       {\r\n         &quot;links&quot;: {\r\n                    &quot;RCDSO - Production Environment Cost&quot;: {\r\n                        &quot;href&quot;: &quot;href 1&quot;\r\n                    },\r\n                    &quot;RCDSO - Development &amp; UAT Environment Cost&quot;: {\r\n                        &quot;href&quot;: &quot;href 2&quot;\r\n                    },\r\n                    &quot;RCDSO - Total Cost for Prod - Compugen Managed&quot;: {\r\n                        &quot;href&quot;: &quot;href 3&quot;\r\n                    },\r\n                    &quot;RCDSO - Virtual Machine Cost&quot;: {\r\n                        &quot;href&quot;: &quot;href 4&quot;\r\n                    },\r\n                    &quot;RCDSO - Azure File Storage Cost&quot;: {\r\n                        &quot;href&quot;: &quot;href 5&quot;\r\n                    },\r\n                    &quot;RCDSO - Azure Backup and Site Recovery&quot;: {\r\n                        &quot;href&quot;: &quot;href 6&quot;\r\n                    },\r\n                    &quot;RCDSO - Azure App Services Cost&quot;: {\r\n                        &quot;href&quot;: &quot;href 7&quot;\r\n                    }\r\n              }\r\n        }\r\n\r\nI wan above JSON data to look like below :\r\n\r\n    {\r\n      &quot;links&quot;: [\r\n        {\r\n          &quot;RCDSO - Development &amp; UAT Environment Cost&quot;: {\r\n            &quot;href&quot;: &quot;href 1&quot;\r\n          },\r\n          &quot;RCDSO - Virtual Machine Cost&quot;: {\r\n            &quot;href&quot;: &quot;href 2&quot;\r\n          },\r\n          &quot;RCDSO - Azure File Storage Cost&quot;: {\r\n            &quot;href&quot;: &quot;href 3&quot;\r\n          },\r\n          &quot;RCDSO - Azure Backup and Site Recovery&quot;: {\r\n            &quot;href&quot;: &quot;href 4&quot;\r\n          },\r\n          &quot;RCDSO - Total Cost for Prod - Compugen Managed&quot;: {\r\n            &quot;href&quot;: &quot;href 5&quot;\r\n          },\r\n          &quot;RCDSO - Azure App Services Cost&quot;: {\r\n            &quot;href&quot;: &quot;href 6&quot;\r\n          },\r\n          &quot;RCDSO - Production Environment Cost&quot;: {\r\n            &quot;href&quot;: &quot;href 7&quot;\r\n          }\r\n        }\r\n      ]\r\n    }\r\n\r\n**Is there any way to convert or merge JSONArray and JSONObject together in Java?**\r\n\r\nI tried to have it this way but getting JSONException:\r\n\r\n    public CustomOlapReports getReportListByClientId(String clientId) {\r\n    \t\tResponseEntity&lt;String&gt; responseEntity = null;\r\n    \t\tString jsonResponse = null;\r\n    \t\tCustomOlapReports reportList = null;\r\n    \t\ttry {\r\n    \t\t\tList&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n    \t\t\tOlapCustomReportResponse reportResponse = null;\r\n    \t\t\tfinal String uri = &quot;https://chapi.cloudhealthtech.com/olap_reports/custom?client_api_id=&quot;+clientId;\r\n    \t\t\tRestTemplate restTemplate = new RestTemplate();\r\n    \t\t\tHttpHeaders header = new HttpHeaders();\r\n    \t\t\theader.set(HttpHeaders.AUTHORIZATION, &quot;Bearer &quot;+apiKey);\r\n    \t\t\theader.set(HttpHeaders.ACCEPT, &quot;application/json&quot;);\r\n    \t\t\t\r\n    \t\t\tHttpEntity&lt;String&gt; requestEntity = new HttpEntity&lt;String&gt;(&quot;body&quot;,header);\r\n    \t\t\tresponseEntity = restTemplate.exchange(uri, HttpMethod.GET, requestEntity, String.class);\r\n    \t\t\tjsonResponse =  responseEntity.getBody();\r\n    \t\t\t\r\n    \t\t\tJSONObject jsonObj = new JSONObject(jsonResponse);\r\n    \t\t\t\r\n    \t\t\tJSONObject obj = jsonObj.getJSONObject(&quot;links&quot;);\r\n    \t\t\t\r\n    \t\t\tJSONArray jsonArr = new JSONArray();\r\n    \t\t\tjsonArr.put(obj);\r\n    \t\t\t\r\n    \t\t\tSystem.out.println(&quot;Response : &quot;+jsonArr);\r\n    \t\t\t\r\n    \t\t\tJSONObject ob = jsonArr.toJSONObject(jsonArr); \r\n    \t\t\tSystem.out.println(&quot;OBJECT : &quot;+ob);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\treturn reportList;\r\n    \t}\r\n\r\n**I am getting below error:**\r\n\r\n    org.json.JSONException: JSONArray[0] is not a String (class org.json.JSONObject).\r\n    \tat org.json.JSONArray.wrongValueFormatException(JSONArray.java:1689)\r\n    \tat org.json.JSONArray.getString(JSONArray.java:500)\r\n    \tat com.example.apidemo.service.CspPartnerCustomerService.getReportListByClientId(CspPartnerCustomerService.java:137)\r\n    \tat com.example.apidemo.controller.CustomerRestController.getReportListByClientId(CustomerRestController.java:115)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)........and so on.","title":"How to merge or convert JSONArray to JSONObject Java/ Spring Boot?","body":"<p>I am trying to achieve of converting or merging JSONArray and JSONObject together.\nThis is my original JSON response that I get from using RestTemplate.</p>\n<pre><code>   {\n     &quot;links&quot;: {\n                &quot;RCDSO - Production Environment Cost&quot;: {\n                    &quot;href&quot;: &quot;href 1&quot;\n                },\n                &quot;RCDSO - Development &amp; UAT Environment Cost&quot;: {\n                    &quot;href&quot;: &quot;href 2&quot;\n                },\n                &quot;RCDSO - Total Cost for Prod - Compugen Managed&quot;: {\n                    &quot;href&quot;: &quot;href 3&quot;\n                },\n                &quot;RCDSO - Virtual Machine Cost&quot;: {\n                    &quot;href&quot;: &quot;href 4&quot;\n                },\n                &quot;RCDSO - Azure File Storage Cost&quot;: {\n                    &quot;href&quot;: &quot;href 5&quot;\n                },\n                &quot;RCDSO - Azure Backup and Site Recovery&quot;: {\n                    &quot;href&quot;: &quot;href 6&quot;\n                },\n                &quot;RCDSO - Azure App Services Cost&quot;: {\n                    &quot;href&quot;: &quot;href 7&quot;\n                }\n          }\n    }\n</code></pre>\n<p>I wan above JSON data to look like below :</p>\n<pre><code>{\n  &quot;links&quot;: [\n    {\n      &quot;RCDSO - Development &amp; UAT Environment Cost&quot;: {\n        &quot;href&quot;: &quot;href 1&quot;\n      },\n      &quot;RCDSO - Virtual Machine Cost&quot;: {\n        &quot;href&quot;: &quot;href 2&quot;\n      },\n      &quot;RCDSO - Azure File Storage Cost&quot;: {\n        &quot;href&quot;: &quot;href 3&quot;\n      },\n      &quot;RCDSO - Azure Backup and Site Recovery&quot;: {\n        &quot;href&quot;: &quot;href 4&quot;\n      },\n      &quot;RCDSO - Total Cost for Prod - Compugen Managed&quot;: {\n        &quot;href&quot;: &quot;href 5&quot;\n      },\n      &quot;RCDSO - Azure App Services Cost&quot;: {\n        &quot;href&quot;: &quot;href 6&quot;\n      },\n      &quot;RCDSO - Production Environment Cost&quot;: {\n        &quot;href&quot;: &quot;href 7&quot;\n      }\n    }\n  ]\n}\n</code></pre>\n<p><strong>Is there any way to convert or merge JSONArray and JSONObject together in Java?</strong></p>\n<p>I tried to have it this way but getting JSONException:</p>\n<pre><code>public CustomOlapReports getReportListByClientId(String clientId) {\n        ResponseEntity&lt;String&gt; responseEntity = null;\n        String jsonResponse = null;\n        CustomOlapReports reportList = null;\n        try {\n            List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n            OlapCustomReportResponse reportResponse = null;\n            final String uri = &quot;https://chapi.cloudhealthtech.com/olap_reports/custom?client_api_id=&quot;+clientId;\n            RestTemplate restTemplate = new RestTemplate();\n            HttpHeaders header = new HttpHeaders();\n            header.set(HttpHeaders.AUTHORIZATION, &quot;Bearer &quot;+apiKey);\n            header.set(HttpHeaders.ACCEPT, &quot;application/json&quot;);\n            \n            HttpEntity&lt;String&gt; requestEntity = new HttpEntity&lt;String&gt;(&quot;body&quot;,header);\n            responseEntity = restTemplate.exchange(uri, HttpMethod.GET, requestEntity, String.class);\n            jsonResponse =  responseEntity.getBody();\n            \n            JSONObject jsonObj = new JSONObject(jsonResponse);\n            \n            JSONObject obj = jsonObj.getJSONObject(&quot;links&quot;);\n            \n            JSONArray jsonArr = new JSONArray();\n            jsonArr.put(obj);\n            \n            System.out.println(&quot;Response : &quot;+jsonArr);\n            \n            JSONObject ob = jsonArr.toJSONObject(jsonArr); \n            System.out.println(&quot;OBJECT : &quot;+ob);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return reportList;\n    }\n</code></pre>\n<p><strong>I am getting below error:</strong></p>\n<pre><code>org.json.JSONException: JSONArray[0] is not a String (class org.json.JSONObject).\n    at org.json.JSONArray.wrongValueFormatException(JSONArray.java:1689)\n    at org.json.JSONArray.getString(JSONArray.java:500)\n    at com.example.apidemo.service.CspPartnerCustomerService.getReportListByClientId(CspPartnerCustomerService.java:137)\n    at com.example.apidemo.controller.CustomerRestController.getReportListByClientId(CustomerRestController.java:115)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)........and so on.\n</code></pre>\n"},{"tags":["java","spring-boot","integration-testing","testcontainers"],"comments":[{"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"score":0,"creation_date":1671088140,"post_id":74805334,"comment_id":132023263,"body_markdown":"I provided an answer, if it resolved the situation please consider to upvote and accept it as answer, otherwise feel free to leave comment. If you using Junit runner have you already tried the @ClassRule before postgresDB declaration ?","body":"I provided an answer, if it resolved the situation please consider to upvote and accept it as answer, otherwise feel free to leave comment. If you using Junit runner have you already tried the @ClassRule before postgresDB declaration ?"},{"owner":{"account_id":11555562,"reputation":316,"user_id":8466853,"display_name":"Arno"},"score":0,"creation_date":1671134098,"post_id":74805334,"comment_id":132038953,"body_markdown":"It may be related to different profile used in your test. Are you executing the IntegrationTests with default profile? If not ensure to provide an &#180;application-&lt;profile&gt;.yaml&#180; containing the missing properties.","body":"It may be related to different profile used in your test. Are you executing the IntegrationTests with default profile? If not ensure to provide an &#180;application-&lt;profile&gt;.yaml&#180; containing the missing properties."}],"answers":[{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671088691,"creation_date":1671087988,"answer_id":74807879,"question_id":74805334,"body_markdown":"You asked \r\n\r\n&gt; Experiencing [HibernateException][1] in testcontainers with using PostgreSQLContainer \r\n\r\n\r\nThe problem lies on not having active connection into the database through a connection pool which can also cause from miss-configuration and incorrect injection of `PostgreSQLContainer`, cause Hibernate can determine the correct dialect to use automatically, and for doing this it needs a live connection to the database.\r\n\r\nOne practice could be using of [ApplicationContextInitializer][3] interface instead of `@DynamicPropertySource` for programmatic initialization of the application context. For example, registering datasources or activating profiles against the context&#39;s environment.\r\nOne practice will look like below.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n\r\n    static class PropertyInitializer\r\n       implements ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\r\n        public void initialize(ConfigurableApplicationContext configurableApplicationContext) {\r\n            TestPropertyValues.of(\r\n              &quot;spring.datasource.url=&quot; + postgresDB.getJdbcUrl(),\r\n              &quot;spring.datasource.username=&quot; + postgresDB.getUsername(),\r\n              &quot;spring.datasource.password=&quot; + postgresDB.getPassword()\r\n            ).applyTo(configurableApplicationContext.getEnvironment());\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://javadoc.io/static/org.hibernate/hibernate-core/5.4.7.Final/org/hibernate/HibernateException.html\r\n  [2]: https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/beans.html\r\n  [3]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/ApplicationContextInitializer.html","title":"How to configure the database image for Springboot integration testing","body":"<p>You asked</p>\n<blockquote>\n<p>Experiencing <a href=\"https://javadoc.io/static/org.hibernate/hibernate-core/5.4.7.Final/org/hibernate/HibernateException.html\" rel=\"nofollow noreferrer\">HibernateException</a> in testcontainers with using PostgreSQLContainer</p>\n</blockquote>\n<p>The problem lies on not having active connection into the database through a connection pool which can also cause from miss-configuration and incorrect injection of <code>PostgreSQLContainer</code>, cause Hibernate can determine the correct dialect to use automatically, and for doing this it needs a live connection to the database.</p>\n<p>One practice could be using of <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/ApplicationContextInitializer.html\" rel=\"nofollow noreferrer\">ApplicationContextInitializer</a> interface instead of <code>@DynamicPropertySource</code> for programmatic initialization of the application context. For example, registering datasources or activating profiles against the context's environment.\nOne practice will look like below.</p>\n\n<pre><code>static class PropertyInitializer\n   implements ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\n    public void initialize(ConfigurableApplicationContext configurableApplicationContext) {\n        TestPropertyValues.of(\n          &quot;spring.datasource.url=&quot; + postgresDB.getJdbcUrl(),\n          &quot;spring.datasource.username=&quot; + postgresDB.getUsername(),\n          &quot;spring.datasource.password=&quot; + postgresDB.getPassword()\n        ).applyTo(configurableApplicationContext.getEnvironment());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":193483,"reputation":859,"user_id":435245,"accept_rate":72,"display_name":"user435245"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671104071,"creation_date":1671061044,"question_id":74805334,"body_markdown":"There is a situation that I want to use a database image to integration test my service layer. Here is the code I developed to setup my Postgres container image:\r\n\r\n    @SpringBootTest(classes = EventhandlerApplication.class, webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n    @AutoConfigureMockMvc\r\n    public abstract class BaseIT {\r\n\r\n    public static final PostgreSQLContainer&lt;?&gt; postgresDB = new PostgreSQLContainer&lt;&gt;\r\n            (&quot;postgres:12-alpine&quot;)\r\n            .withDatabaseName(&quot;test-db&quot;)\r\n            .withUsername(&quot;postgres&quot;)\r\n            .withPassword(&quot;password&quot;);\r\n\r\n    static {\r\n        postgresDB.start();\r\n    }\r\n\r\n    @DynamicPropertySource\r\n    public static void properties(DynamicPropertyRegistry registry) {\r\n        registry.add(&quot;spring.datasource.url&quot;, postgresDB::getJdbcUrl);\r\n        registry.add(&quot;spring.datasource.username&quot;, postgresDB::getUsername);\r\n        registry.add(&quot;spring.datasource.password&quot;, postgresDB::getPassword);\r\n    }\r\n    }\r\n\r\nNow I want to use the test database to call my service layer methods and inspect the results, here is my integration test example:\r\n\r\n    public class SampleServiceTesting extends BaseIT {\r\n\r\n    @Autowired\r\n    private SampleService sampleService;\r\n\r\n\r\n    @Test\r\n    @Transactional\r\n    void testIntegrationFlow() {\r\n        SampleService.exampleMethod();\r\n    }\r\n    }\r\n\r\nBut when I run the test, it returns the following error:\r\n\r\n    org.hibernate.HibernateException: Access to DialectResolutionInfo cannot be null when &#39;hibernate.dialect&#39; not set\r\n\r\n\r\nHow I can fix this issue on runing  my test please?","title":"How to configure the database image for Springboot integration testing","body":"<p>There is a situation that I want to use a database image to integration test my service layer. Here is the code I developed to setup my Postgres container image:</p>\n<pre><code>@SpringBootTest(classes = EventhandlerApplication.class, webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n@AutoConfigureMockMvc\npublic abstract class BaseIT {\n\npublic static final PostgreSQLContainer&lt;?&gt; postgresDB = new PostgreSQLContainer&lt;&gt;\n        (&quot;postgres:12-alpine&quot;)\n        .withDatabaseName(&quot;test-db&quot;)\n        .withUsername(&quot;postgres&quot;)\n        .withPassword(&quot;password&quot;);\n\nstatic {\n    postgresDB.start();\n}\n\n@DynamicPropertySource\npublic static void properties(DynamicPropertyRegistry registry) {\n    registry.add(&quot;spring.datasource.url&quot;, postgresDB::getJdbcUrl);\n    registry.add(&quot;spring.datasource.username&quot;, postgresDB::getUsername);\n    registry.add(&quot;spring.datasource.password&quot;, postgresDB::getPassword);\n}\n}\n</code></pre>\n<p>Now I want to use the test database to call my service layer methods and inspect the results, here is my integration test example:</p>\n<pre><code>public class SampleServiceTesting extends BaseIT {\n\n@Autowired\nprivate SampleService sampleService;\n\n\n@Test\n@Transactional\nvoid testIntegrationFlow() {\n    SampleService.exampleMethod();\n}\n}\n</code></pre>\n<p>But when I run the test, it returns the following error:</p>\n<pre><code>org.hibernate.HibernateException: Access to DialectResolutionInfo cannot be null when 'hibernate.dialect' not set\n</code></pre>\n<p>How I can fix this issue on runing  my test please?</p>\n"},{"tags":["java","json","parsing","objectmapper"],"answers":[{"tags":[],"owner":{"account_id":8218454,"reputation":762,"user_id":6183889,"display_name":"Tom Elias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671100821,"creation_date":1671100821,"answer_id":74810235,"question_id":74809776,"body_markdown":"if the readValue() line does not throw an exception, that means the parsing was successful and you can set your flag to true. in the &quot;catch&quot; block, set your flag to false.","title":"How to check if complete JSON string is converted into Map","body":"<p>if the readValue() line does not throw an exception, that means the parsing was successful and you can set your flag to true. in the &quot;catch&quot; block, set your flag to false.</p>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671103957,"creation_date":1671103957,"answer_id":74810864,"question_id":74809776,"body_markdown":"The problem is that your string contains 2 separate JSONs.\r\n\r\n    {&quot;tierkey 1 : &quot;Application&quot;, &quot;tierkey 2&quot;: &quot;Desktop&quot;, &quot;tierkey 3&quot;: &quot;Software&quot;}, { &quot;tierkey 4&quot;: &quot;Application1&quot;, &quot;tierkey 5&quot;: &quot;Desktop2&quot;, &quot;tierkey 6&quot;: &quot;Software2&quot;}\r\n\r\nNote that after key `&quot;tierkey 3&quot;` there is a &#39;}&#39; which closes the first opening &#39;{&#39;. So when Json is parsed and it reaches the end of it it Ignores whaterver comes after. so your part from `&quot;, { &quot;tierkey 4&quot;: &quot;Application1&quot;,...}&quot;` is ignored and it is correct behavior. If you want it to be parsed modify your string to\r\n\r\n    {&quot;tierkey 1 : &quot;Application&quot;, &quot;tierkey 2&quot;: &quot;Desktop&quot;, &quot;tierkey 3&quot;: &quot;Software&quot;,  &quot;tierkey 4&quot;: &quot;Application1&quot;, &quot;tierkey 5&quot;: &quot;Desktop2&quot;, &quot;tierkey 6&quot;: &quot;Software2&quot;}\r\nor\r\n\r\n    {{&quot;tierkey 1 : &quot;Application&quot;, &quot;tierkey 2&quot;: &quot;Desktop&quot;, &quot;tierkey 3&quot;: &quot;Software&quot;}, { &quot;tierkey 4&quot;: &quot;Application1&quot;, &quot;tierkey 5&quot;: &quot;Desktop2&quot;, &quot;tierkey 6&quot;: &quot;Software2&quot;}}","title":"How to check if complete JSON string is converted into Map","body":"<p>The problem is that your string contains 2 separate JSONs.</p>\n<pre><code>{&quot;tierkey 1 : &quot;Application&quot;, &quot;tierkey 2&quot;: &quot;Desktop&quot;, &quot;tierkey 3&quot;: &quot;Software&quot;}, { &quot;tierkey 4&quot;: &quot;Application1&quot;, &quot;tierkey 5&quot;: &quot;Desktop2&quot;, &quot;tierkey 6&quot;: &quot;Software2&quot;}\n</code></pre>\n<p>Note that after key <code>&quot;tierkey 3&quot;</code> there is a '}' which closes the first opening '{'. So when Json is parsed and it reaches the end of it it Ignores whaterver comes after. so your part from <code>&quot;, { &quot;tierkey 4&quot;: &quot;Application1&quot;,...}&quot;</code> is ignored and it is correct behavior. If you want it to be parsed modify your string to</p>\n<pre><code>{&quot;tierkey 1 : &quot;Application&quot;, &quot;tierkey 2&quot;: &quot;Desktop&quot;, &quot;tierkey 3&quot;: &quot;Software&quot;,  &quot;tierkey 4&quot;: &quot;Application1&quot;, &quot;tierkey 5&quot;: &quot;Desktop2&quot;, &quot;tierkey 6&quot;: &quot;Software2&quot;}\n</code></pre>\n<p>or</p>\n<pre><code>{{&quot;tierkey 1 : &quot;Application&quot;, &quot;tierkey 2&quot;: &quot;Desktop&quot;, &quot;tierkey 3&quot;: &quot;Software&quot;}, { &quot;tierkey 4&quot;: &quot;Application1&quot;, &quot;tierkey 5&quot;: &quot;Desktop2&quot;, &quot;tierkey 6&quot;: &quot;Software2&quot;}}\n</code></pre>\n"}],"owner":{"account_id":7654053,"reputation":21,"user_id":5801655,"display_name":"user5801655"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":277,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1671103957,"creation_date":1671098546,"question_id":74809776,"body_markdown":"I want to check if complete JSON string gets converted to Map in below method. \r\n\r\n    public boolean isCompleteStringParsedInToJson() {\r\n        boolean isParsed = false;\r\n        String str = &quot;{ \\&quot;tierkey 1\\&quot;: \\&quot;Application\\&quot;, \\&quot;tierkey 2\\&quot;: \\&quot;Desktop\\&quot;, \\&quot;tierkey 3\\&quot;: \\&quot;Software\\&quot;}, { \\&quot;tierkey 4\\&quot;: \\&quot;Application1\\&quot;, \\&quot;tierkey 5\\&quot;: \\&quot;Desktop2\\&quot;, \\&quot;tierkey 6\\&quot;: \\&quot;Software2\\&quot;}&quot;;\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        \r\n        try {\r\n            Map map = mapper.readValue(str, Map.class);\r\n            //check if complete input string is parsed into Map above. \r\n            // then set isParsed flag accordingly. \r\n            \r\n        } catch (JsonProcessingException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        }\r\n        \r\n        return isParsed;\r\n    }\r\n\r\nIn above case, only &quot;{ &quot;tierkey 1&quot;: &quot;Application&quot;, &quot;tierkey 2&quot;: &quot;Desktop&quot;, &quot;tierkey 3&quot;: &quot;Software&quot;}&quot; part is returned as Map. In actual scenario JSON String will be input to the method. In above method I just need to identify cases where complete JSON string is parsed into Map or not and then accordingly set isParsed flag value(true or false). \r\nJSON String mentioned in the method is not strict JSON and readValue don&#39;t fail for such JSON string. Also dont want to use DeserializationFeature.FAIL_ON_TRAILING_TOKENS on ObjectMapper. \r\nInput JSON string can be manually written so there could be few spaces before key or Value. \r\n\r\nWhat code I should have after mapper.readValue to check complete JSON string parsing into Map?","title":"How to check if complete JSON string is converted into Map","body":"<p>I want to check if complete JSON string gets converted to Map in below method.</p>\n<pre><code>public boolean isCompleteStringParsedInToJson() {\n    boolean isParsed = false;\n    String str = &quot;{ \\&quot;tierkey 1\\&quot;: \\&quot;Application\\&quot;, \\&quot;tierkey 2\\&quot;: \\&quot;Desktop\\&quot;, \\&quot;tierkey 3\\&quot;: \\&quot;Software\\&quot;}, { \\&quot;tierkey 4\\&quot;: \\&quot;Application1\\&quot;, \\&quot;tierkey 5\\&quot;: \\&quot;Desktop2\\&quot;, \\&quot;tierkey 6\\&quot;: \\&quot;Software2\\&quot;}&quot;;\n    ObjectMapper mapper = new ObjectMapper();\n    \n    try {\n        Map map = mapper.readValue(str, Map.class);\n        //check if complete input string is parsed into Map above. \n        // then set isParsed flag accordingly. \n        \n    } catch (JsonProcessingException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n    \n    return isParsed;\n}\n</code></pre>\n<p>In above case, only &quot;{ &quot;tierkey 1&quot;: &quot;Application&quot;, &quot;tierkey 2&quot;: &quot;Desktop&quot;, &quot;tierkey 3&quot;: &quot;Software&quot;}&quot; part is returned as Map. In actual scenario JSON String will be input to the method. In above method I just need to identify cases where complete JSON string is parsed into Map or not and then accordingly set isParsed flag value(true or false).\nJSON String mentioned in the method is not strict JSON and readValue don't fail for such JSON string. Also dont want to use DeserializationFeature.FAIL_ON_TRAILING_TOKENS on ObjectMapper.\nInput JSON string can be manually written so there could be few spaces before key or Value.</p>\n<p>What code I should have after mapper.readValue to check complete JSON string parsing into Map?</p>\n"},{"tags":["java","arrays","directory"],"comments":[{"owner":{"account_id":26988043,"reputation":101,"user_id":20551381,"display_name":"MZM"},"score":0,"creation_date":1670731897,"post_id":74758259,"comment_id":131939852,"body_markdown":"the error means that you&#39;ve attempted to read beyond the upper bound of an array, if array has 3 elements, only index 0,1,2 are valid, attempting read array[3] will result in the exception provided.  I suggest hardcoding the array size to 128 until you get the logic of finding same files working. BTW row1[i] is where the exception is raised.","body":"the error means that you&#39;ve attempted to read beyond the upper bound of an array, if array has 3 elements, only index 0,1,2 are valid, attempting read array[3] will result in the exception provided.  I suggest hardcoding the array size to 128 until you get the logic of finding same files working. BTW row1[i] is where the exception is raised."},{"owner":{"account_id":27206876,"reputation":3,"user_id":20738292,"display_name":"dell"},"score":0,"creation_date":1670732076,"post_id":74758259,"comment_id":131939867,"body_markdown":"But the maximum size of array will only be the size of the folder(number of files in the folder) having lowest number of files, right?","body":"But the maximum size of array will only be the size of the folder(number of files in the folder) having lowest number of files, right?"},{"owner":{"account_id":26988043,"reputation":101,"user_id":20551381,"display_name":"MZM"},"score":0,"creation_date":1670732345,"post_id":74758259,"comment_id":131939895,"body_markdown":"yes, flag, should return the number of files that have the same name of the folders you&#39;re comparing, but until you debug the logic and avoid the exception (less frustration since you can count the files see whether flag returns the right number) just hardcode array to a large number. For test purpose, just copy three file in each folder, vary the file name for testing.","body":"yes, flag, should return the number of files that have the same name of the folders you&#39;re comparing, but until you debug the logic and avoid the exception (less frustration since you can count the files see whether flag returns the right number) just hardcode array to a large number. For test purpose, just copy three file in each folder, vary the file name for testing."},{"owner":{"account_id":27206876,"reputation":3,"user_id":20738292,"display_name":"dell"},"score":0,"creation_date":1670733531,"post_id":74758259,"comment_id":131940016,"body_markdown":"I tried to do it but still cannot figure out. The equal files are getting added to the array in fileCompare() method but row[] is showing the Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0&quot;.","body":"I tried to do it but still cannot figure out. The equal files are getting added to the array in fileCompare() method but row[] is showing the Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0&quot;."},{"owner":{"account_id":26988043,"reputation":101,"user_id":20551381,"display_name":"MZM"},"score":0,"creation_date":1670734135,"post_id":74758259,"comment_id":131940061,"body_markdown":"print, folderpath1, make sure the folder exist and can be found, just methodically and strategically place print statement to verify the variables have the data you expect. Or user your IDE debugger and some brake pointers.  Simpler to use the first option of using print statements, System.out.println(&quot;at main&gt;&gt; folderpath1 =  &quot; + folderpath1);","body":"print, folderpath1, make sure the folder exist and can be found, just methodically and strategically place print statement to verify the variables have the data you expect. Or user your IDE debugger and some brake pointers.  Simpler to use the first option of using print statements, System.out.println(&quot;at main&gt;&gt; folderpath1 =  &quot; + folderpath1);"},{"owner":{"account_id":26988043,"reputation":101,"user_id":20551381,"display_name":"MZM"},"score":0,"creation_date":1670734476,"post_id":74758259,"comment_id":131940083,"body_markdown":"c.flag = c.fileCompare(folderpath1, folderpath2);  since this method return the number of equal files.","body":"c.flag = c.fileCompare(folderpath1, folderpath2);  since this method return the number of equal files."},{"owner":{"account_id":27206876,"reputation":3,"user_id":20738292,"display_name":"dell"},"score":0,"creation_date":1670741846,"post_id":74758259,"comment_id":131940762,"body_markdown":"@MZM I have tried this but still the error occurs. I have print the equalFiles1[] array in demohack2 and the array prints successfully. Also c.flag prints successfully in demohack2. But the problem arises when I use this to add the name of the files in equalFiles[] to row array in demohack2.","body":"@MZM I have tried this but still the error occurs. I have print the equalFiles1[] array in demohack2 and the array prints successfully. Also c.flag prints successfully in demohack2. But the problem arises when I use this to add the name of the files in equalFiles[] to row array in demohack2."}],"answers":[{"tags":[],"owner":{"account_id":27159646,"reputation":11,"user_id":20697912,"display_name":"Bomragon z"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671103885,"creation_date":1670732046,"answer_id":74758299,"question_id":74758259,"body_markdown":"the problem is in the second loop\r\n\r\n```java\r\nfor (j = 0; j &lt; array_file2.length; j++) {\r\n    String n2 = array_file2[i].getName();\r\n}\r\n```\r\n\r\nyou put i instead of j hence when file1 length is greater than file2, the index got out of bound\r\n\r\nand in demo2hack you init string row using c.flag\r\nwhile c.flag is still 0\r\n\r\nyou should initialized your string row after calling c.compare file if you wanna use c.flag","title":"How can we solve this error in comparing two folders and storing those files with same name in an array?","body":"<p>the problem is in the second loop</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (j = 0; j &lt; array_file2.length; j++) {\n    String n2 = array_file2[i].getName();\n}\n</code></pre>\n<p>you put i instead of j hence when file1 length is greater than file2, the index got out of bound</p>\n<p>and in demo2hack you init string row using c.flag\nwhile c.flag is still 0</p>\n<p>you should initialized your string row after calling c.compare file if you wanna use c.flag</p>\n"},{"tags":[],"owner":{"account_id":26988043,"reputation":101,"user_id":20551381,"display_name":"MZM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670805502,"creation_date":1670805502,"answer_id":74765663,"question_id":74758259,"body_markdown":"The code below compiles and prints the elements of array row1.  You can copy and paste in https://www.onlinegdb.com/online_c_compiler  and select JAVA on the pulldown box, top right of screen. You still need to fix the logic to get meet the requirements\r\n\r\n    import java.io.*;\r\n    public class Main\r\n    {\r\n         public static final String DIR_PATH1 = &quot;./&quot;;     // replace with dir path\r\n    \t public static final String DIR_PATH2 = &quot;../../&quot;;\r\n    \t \r\n    \tpublic static void main(String[] args) {\r\n    \t    \r\n    \t    \r\n    \t    DemoHack1 c = new DemoHack1();\r\n            String folderpath1 = DIR_PATH1;\r\n            String folderpath2 = DIR_PATH1;\r\n            \r\n        \r\n            c.flag = c.fileCompare(folderpath1, folderpath2);\r\n            if (c.flag &gt; 0) {  // make sure to void creating an array of size zero\r\n                String[] row1= new String[c.flag];\r\n                \r\n                for (File file : c.equalFiles1 ) {\r\n                    for(int i=0; i &lt; c.flag;i++){\r\n                       row1[i]= file.getName() ;  \r\n                       \r\n                    }\r\n        \r\n                }\r\n              \r\n        \t    for(String r : row1){\r\n                    System.out.println(&quot;files in row&gt;&gt; &quot;+ r )  ;  \r\n                       \r\n                }\r\n            }\r\n            \r\n    \t\tSystem.out.println(&quot;-----end -----&quot;);\r\n    \t\t \r\n    \t}\r\n        \r\n    }\t\r\n    class DemoHack1 {\r\n        \r\n            public File[] equalFiles1;\r\n            public File[] equalFiles2;\r\n            \r\n            int flag;\r\n            public int fileCompare(String path1, String path2) {\r\n                int k=0;\r\n                flag=0;\r\n                File file1 = new File(path1);\r\n                File file2 = new File(path2);     \r\n                File[] array_file1=file1.listFiles();    \r\n                File[] array_file2=file2.listFiles();\r\n                int size1 = array_file1.length&gt;array_file2.length ?    array_file1.length:array_file2.length;     \r\n                equalFiles1 = new File[size1];\r\n                equalFiles2 = new File[size1];\r\n           \r\n              for(int i=0; i&lt; array_file1.length; i++){\r\n                String n1=array_file1[i].getName();\r\n                //System.out.println(&quot;n1&gt;&gt; &quot; + n1);         // use print stmt to check the values\r\n                \r\n                for(int j=0; j &lt;array_file2.length; j++){\r\n                    String n2=array_file2[j].getName();\r\n                    //System.out.println(&quot;n2&gt;&gt; &quot; + n2);\r\n                    \r\n                    if (n1.equals(n2)) {\r\n                        flag++;\r\n                        equalFiles1[k]= array_file1[i] ;\r\n                        equalFiles2[k] = array_file2[j];\r\n                        k++;\r\n                    } \r\n                }\r\n              }\r\n         \r\n             \r\n              return flag;\r\n            }\r\n       }\r\n    \r\n    Output:\r\n     files in row&gt;&gt; DemoHack1.class\r\n    files in row&gt;&gt; DemoHack1.class\r\n    files in row&gt;&gt; DemoHack1.class\r\n    files in row&gt;&gt; DemoHack1.class\r\n    files in row&gt;&gt; DemoHack1.class\r\n    -----end -----\r\n\r\n","title":"How can we solve this error in comparing two folders and storing those files with same name in an array?","body":"<p>The code below compiles and prints the elements of array row1.  You can copy and paste in <a href=\"https://www.onlinegdb.com/online_c_compiler\" rel=\"nofollow noreferrer\">https://www.onlinegdb.com/online_c_compiler</a>  and select JAVA on the pulldown box, top right of screen. You still need to fix the logic to get meet the requirements</p>\n<pre><code>import java.io.*;\npublic class Main\n{\n     public static final String DIR_PATH1 = &quot;./&quot;;     // replace with dir path\n     public static final String DIR_PATH2 = &quot;../../&quot;;\n     \n    public static void main(String[] args) {\n        \n        \n        DemoHack1 c = new DemoHack1();\n        String folderpath1 = DIR_PATH1;\n        String folderpath2 = DIR_PATH1;\n        \n    \n        c.flag = c.fileCompare(folderpath1, folderpath2);\n        if (c.flag &gt; 0) {  // make sure to void creating an array of size zero\n            String[] row1= new String[c.flag];\n            \n            for (File file : c.equalFiles1 ) {\n                for(int i=0; i &lt; c.flag;i++){\n                   row1[i]= file.getName() ;  \n                   \n                }\n    \n            }\n          \n            for(String r : row1){\n                System.out.println(&quot;files in row&gt;&gt; &quot;+ r )  ;  \n                   \n            }\n        }\n        \n        System.out.println(&quot;-----end -----&quot;);\n         \n    }\n    \n}   \nclass DemoHack1 {\n    \n        public File[] equalFiles1;\n        public File[] equalFiles2;\n        \n        int flag;\n        public int fileCompare(String path1, String path2) {\n            int k=0;\n            flag=0;\n            File file1 = new File(path1);\n            File file2 = new File(path2);     \n            File[] array_file1=file1.listFiles();    \n            File[] array_file2=file2.listFiles();\n            int size1 = array_file1.length&gt;array_file2.length ?    array_file1.length:array_file2.length;     \n            equalFiles1 = new File[size1];\n            equalFiles2 = new File[size1];\n       \n          for(int i=0; i&lt; array_file1.length; i++){\n            String n1=array_file1[i].getName();\n            //System.out.println(&quot;n1&gt;&gt; &quot; + n1);         // use print stmt to check the values\n            \n            for(int j=0; j &lt;array_file2.length; j++){\n                String n2=array_file2[j].getName();\n                //System.out.println(&quot;n2&gt;&gt; &quot; + n2);\n                \n                if (n1.equals(n2)) {\n                    flag++;\n                    equalFiles1[k]= array_file1[i] ;\n                    equalFiles2[k] = array_file2[j];\n                    k++;\n                } \n            }\n          }\n     \n         \n          return flag;\n        }\n   }\n\nOutput:\n files in row&gt;&gt; DemoHack1.class\nfiles in row&gt;&gt; DemoHack1.class\nfiles in row&gt;&gt; DemoHack1.class\nfiles in row&gt;&gt; DemoHack1.class\nfiles in row&gt;&gt; DemoHack1.class\n-----end -----\n</code></pre>\n"}],"owner":{"account_id":27206876,"reputation":3,"user_id":20738292,"display_name":"dell"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74765663,"answer_count":2,"score":0,"last_activity_date":1671103885,"creation_date":1670731348,"question_id":74758259,"body_markdown":"I am a beginner in Java and I wanted to create a program that compares two folders and can store the files with same name in an array. I want to access this array in another class to display the name of files.\r\n\r\n```java\r\npublic int fileCompare(String path1, String path2) {\r\n    int i, j, k = 0;\r\n    flag = 0;\r\n    File file1 = new File(path1);\r\n    File file2 = new File(path2);\r\n    File[] array_file1 = file1.listFiles();\r\n    File[] array_file2 = file2.listFiles();\r\n\r\n    int largerSize = array_file1.length &gt; array_file2.length ? array_file1.length : array_file2.length;\r\n    File[] equalFiles1 = new File[largerSize];\r\n    File[] equalFiles2 = new File[largerSize];\r\n\r\n    for (i = 0; i &lt; array_file1.length; i++) {\r\n        String n1 = array_file1[i].getName();\r\n\r\n        for (j = 0; j &lt; array_file2.length; j++) {\r\n            String n2 = array_file2[j].getName();\r\n\r\n            if (n1.equals(n2)) {\r\n                flag++;\r\n                equalFiles1[k] = array_file1[i];\r\n                equalFiles2[k] = array_file2[j];\r\n                k++;\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe above code contains the method for comparing two folders and returning the arrays. This array is then accessed using the below code.\r\n```java\r\nfor (File file : c.equalFiles1) { // c is the object of previous class\r\n    for (int i = 0; i &lt; c.flag; i++) {\r\n        row1[i] = file.getName();\r\n    }\r\n\r\n}\r\n```       \r\n\r\nBut the error was shown as\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException:\r\n&gt; Index 0 out of bounds for length 0\r\n\r\n        ","title":"How can we solve this error in comparing two folders and storing those files with same name in an array?","body":"<p>I am a beginner in Java and I wanted to create a program that compares two folders and can store the files with same name in an array. I want to access this array in another class to display the name of files.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public int fileCompare(String path1, String path2) {\n    int i, j, k = 0;\n    flag = 0;\n    File file1 = new File(path1);\n    File file2 = new File(path2);\n    File[] array_file1 = file1.listFiles();\n    File[] array_file2 = file2.listFiles();\n\n    int largerSize = array_file1.length &gt; array_file2.length ? array_file1.length : array_file2.length;\n    File[] equalFiles1 = new File[largerSize];\n    File[] equalFiles2 = new File[largerSize];\n\n    for (i = 0; i &lt; array_file1.length; i++) {\n        String n1 = array_file1[i].getName();\n\n        for (j = 0; j &lt; array_file2.length; j++) {\n            String n2 = array_file2[j].getName();\n\n            if (n1.equals(n2)) {\n                flag++;\n                equalFiles1[k] = array_file1[i];\n                equalFiles2[k] = array_file2[j];\n                k++;\n            }\n        }\n    }\n}\n</code></pre>\n<p>The above code contains the method for comparing two folders and returning the arrays. This array is then accessed using the below code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (File file : c.equalFiles1) { // c is the object of previous class\n    for (int i = 0; i &lt; c.flag; i++) {\n        row1[i] = file.getName();\n    }\n\n}\n</code></pre>\n<p>But the error was shown as</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException:\nIndex 0 out of bounds for length 0</p>\n</blockquote>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1671098088,"post_id":74809650,"comment_id":132026124,"body_markdown":"have you checked whether or not that class actually exists?","body":"have you checked whether or not that class actually exists?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1671098225,"post_id":74809650,"comment_id":132026172,"body_markdown":"your file name is &#39;demoproject.java&#39;, yet you try to call a class called &#39;DemoProjectApplication&#39;, which seems to be a public class inside the demoproject.java class? Stop what you&#39;re doing. Stop using Spring. Stop using maven. Get a textbook on Java and start with chapter 1, no matter how boring you think those first chapters are. You are trying to run a marathon, while you haven&#39;t learned how to walk yet.","body":"your file name is &#39;demoproject.java&#39;, yet you try to call a class called &#39;DemoProjectApplication&#39;, which seems to be a public class inside the demoproject.java class? Stop what you&#39;re doing. Stop using Spring. Stop using maven. Get a textbook on Java and start with chapter 1, no matter how boring you think those first chapters are. You are trying to run a marathon, while you haven&#39;t learned how to walk yet."},{"owner":{"account_id":27093819,"reputation":85,"user_id":20641267,"display_name":"DarkDead"},"score":0,"creation_date":1671098420,"post_id":74809650,"comment_id":132026255,"body_markdown":"I made a typing error. The file called DemoProjectApplcation.java does exist. It even worked on my co-workers computer. But I do agree about getting the java textbook part. I am open to recommendations","body":"I made a typing error. The file called DemoProjectApplcation.java does exist. It even worked on my co-workers computer. But I do agree about getting the java textbook part. I am open to recommendations"},{"owner":{"account_id":8546,"reputation":17688,"user_id":15472,"accept_rate":87,"display_name":"tucuxi"},"score":0,"creation_date":1671103970,"post_id":74809650,"comment_id":132028139,"body_markdown":"Welcome to the site darkdead - I suggest you follow a step-by-step tutorial from an trustworthy source for setting up your java environment and compiling your 1st project with maven.","body":"Welcome to the site darkdead - I suggest you follow a step-by-step tutorial from an trustworthy source for setting up your java environment and compiling your 1st project with maven."},{"owner":{"account_id":27093819,"reputation":85,"user_id":20641267,"display_name":"DarkDead"},"score":0,"creation_date":1671106892,"post_id":74809650,"comment_id":132029124,"body_markdown":"@tucuxi Thanks! I am impressed by how fast the responses are. It looks like SDKMAN is very easy to setup something like this. So I will give that a try and look in to others as well because sdkman looks stupid easy.","body":"@tucuxi Thanks! I am impressed by how fast the responses are. It looks like SDKMAN is very easy to setup something like this. So I will give that a try and look in to others as well because sdkman looks stupid easy."}],"answers":[{"tags":[],"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671099331,"creation_date":1671098621,"answer_id":74809794,"question_id":74809650,"body_markdown":"- try `mvn spring-boot:run`\r\n\r\nhttps://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#using.overriding-command-line\r\n\r\nwill be better.","title":"using mvn exec:java gives error: java.lang.ClassNotFoundException: com.demoproject.demoProject.DemoProjectApplication","body":"<ul>\n<li>try <code>mvn spring-boot:run</code></li>\n</ul>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#using.overriding-command-line\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#using.overriding-command-line</a></p>\n<p>will be better.</p>\n"}],"owner":{"account_id":27093819,"reputation":85,"user_id":20641267,"display_name":"DarkDead"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1671105076,"answer_count":1,"score":0,"last_activity_date":1671103155,"creation_date":1671097957,"question_id":74809650,"body_markdown":"I am trying to use `mvn exec:java -Dexec.mainClass=&quot;com.demoproject.demoProject.DemoProjectApplication&quot;` but it gives error. Here&#39;s my pom.xml\r\nPlease review my work and help me fix this, I am not a java developer yet.\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.6&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.demoproject&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demoProject&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demoProject&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nHere&#39;s the error I am getting https://pastebin.com/raw/A8P5pkL4\r\nand here&#39;s the `/home/v2stech/Documents/DemoProject/demoProject/src/main/java/com/demoproject/demoProject/DemoProjectApplication.java` file: https://pastebin.com/GcnDDugm","title":"using mvn exec:java gives error: java.lang.ClassNotFoundException: com.demoproject.demoProject.DemoProjectApplication","body":"<p>I am trying to use <code>mvn exec:java -Dexec.mainClass=&quot;com.demoproject.demoProject.DemoProjectApplication&quot;</code> but it gives error. Here's my pom.xml\nPlease review my work and help me fix this, I am not a java developer yet.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.6&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.demoproject&lt;/groupId&gt;\n    &lt;artifactId&gt;demoProject&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demoProject&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>Here's the error I am getting <a href=\"https://pastebin.com/raw/A8P5pkL4\" rel=\"nofollow noreferrer\">https://pastebin.com/raw/A8P5pkL4</a>\nand here's the <code>/home/v2stech/Documents/DemoProject/demoProject/src/main/java/com/demoproject/demoProject/DemoProjectApplication.java</code> file: <a href=\"https://pastebin.com/GcnDDugm\" rel=\"nofollow noreferrer\">https://pastebin.com/GcnDDugm</a></p>\n"},{"tags":["java","spring","log4j","log4j2"],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671102913,"creation_date":1671102913,"answer_id":74810661,"question_id":74808856,"body_markdown":"First of all, you seem to have log4j 1 and log4j 2 in your applications. I take it that each application would either use one or the other, not both in parallel (although it might be possible).\r\n\r\nBoth logging libraries have a similar configuration file structure and search it in similar ways:\r\n\r\n[Configuration of Log4j 2 can be accomplished in 1 of 4 ways:][1]\r\n- Through a configuration file written in XML, JSON, YAML, or properties format.\r\n- Programmatically, by creating a ConfigurationFactory and Configuration implementation.\r\n- Programmatically, by calling the APIs exposed in the Configuration interface to add components to the default configuration.\r\n- Programmatically, by calling methods on the internal Logger class.\r\n\r\nThat should explain why you have log4j.properties and log4j2.xml on the classpath. Why your project structure has one of them in the src folder while the other one just shows up in the build folder is something you have to figure out.\r\n\r\nTo answer your questions:\r\n\r\n1. Either the Netflix microservice has it&#39;s separate set of logging configuration or it is embedded into something else. In one case you can simply deactivate all logging, in the other case figure out the category used for logging messages. Then modify your configuration to set that category to a high priority level, which means all lower priorities will be suppressed by log4j anyway.\r\n\r\n2. A logger is almost the same as a category. The application logs to &#39;Loggers&#39;, which can filter up to a level and forward the messages to Appenders. Unless you specify a logger&#39;s appender it will use the parent or root logger&#39;s appender.\r\n\r\n3. Check [Property Substitution][2]\r\n\r\n4. You understand correctly\r\n\r\n5. I never used the configuration status, but according to https://logging.apache.org/log4j/2.x/manual/configuration.html you can use it to better understand log4j behaviour (troubleshooting, debugging log4j issues)\r\n\r\n6. A category does not always have to match a class name, although this is a common pattern. At runtime an application can create loggers with arbitrary category names.\r\nIf you want to remove it from the logs, just configure that logger with a high priority level, or use &#39;off&#39;\r\n\r\n7. See my first paragraph. Log4j searches in several locations, I often use a resource on the classpath. Why your builds treat the log4j 1 configuration differently than log4j2 configuration is not possible to know from here. Dig into your project history for that.\r\n\r\nAll in all you need to be aware of this page: https://logging.apache.org/log4j/2.x/manual/configuration.html\r\n\r\n  [1]: https://logging.apache.org/log4j/2.x/manual/configuration.html\r\n  [2]: https://logging.apache.org/log4j/2.x/manual/configuration.html#PropertySubstitution","title":"Understanding the Log4j configuration","body":"<p>First of all, you seem to have log4j 1 and log4j 2 in your applications. I take it that each application would either use one or the other, not both in parallel (although it might be possible).</p>\n<p>Both logging libraries have a similar configuration file structure and search it in similar ways:</p>\n<p><a href=\"https://logging.apache.org/log4j/2.x/manual/configuration.html\" rel=\"nofollow noreferrer\">Configuration of Log4j 2 can be accomplished in 1 of 4 ways:</a></p>\n<ul>\n<li>Through a configuration file written in XML, JSON, YAML, or properties format.</li>\n<li>Programmatically, by creating a ConfigurationFactory and Configuration implementation.</li>\n<li>Programmatically, by calling the APIs exposed in the Configuration interface to add components to the default configuration.</li>\n<li>Programmatically, by calling methods on the internal Logger class.</li>\n</ul>\n<p>That should explain why you have log4j.properties and log4j2.xml on the classpath. Why your project structure has one of them in the src folder while the other one just shows up in the build folder is something you have to figure out.</p>\n<p>To answer your questions:</p>\n<ol>\n<li><p>Either the Netflix microservice has it's separate set of logging configuration or it is embedded into something else. In one case you can simply deactivate all logging, in the other case figure out the category used for logging messages. Then modify your configuration to set that category to a high priority level, which means all lower priorities will be suppressed by log4j anyway.</p>\n</li>\n<li><p>A logger is almost the same as a category. The application logs to 'Loggers', which can filter up to a level and forward the messages to Appenders. Unless you specify a logger's appender it will use the parent or root logger's appender.</p>\n</li>\n<li><p>Check <a href=\"https://logging.apache.org/log4j/2.x/manual/configuration.html#PropertySubstitution\" rel=\"nofollow noreferrer\">Property Substitution</a></p>\n</li>\n<li><p>You understand correctly</p>\n</li>\n<li><p>I never used the configuration status, but according to <a href=\"https://logging.apache.org/log4j/2.x/manual/configuration.html\" rel=\"nofollow noreferrer\">https://logging.apache.org/log4j/2.x/manual/configuration.html</a> you can use it to better understand log4j behaviour (troubleshooting, debugging log4j issues)</p>\n</li>\n<li><p>A category does not always have to match a class name, although this is a common pattern. At runtime an application can create loggers with arbitrary category names.\nIf you want to remove it from the logs, just configure that logger with a high priority level, or use 'off'</p>\n</li>\n<li><p>See my first paragraph. Log4j searches in several locations, I often use a resource on the classpath. Why your builds treat the log4j 1 configuration differently than log4j2 configuration is not possible to know from here. Dig into your project history for that.</p>\n</li>\n</ol>\n<p>All in all you need to be aware of this page: <a href=\"https://logging.apache.org/log4j/2.x/manual/configuration.html\" rel=\"nofollow noreferrer\">https://logging.apache.org/log4j/2.x/manual/configuration.html</a></p>\n"}],"owner":{"account_id":21424142,"reputation":191,"user_id":15781733,"display_name":"waffledood"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":565,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1671111865,"accepted_answer_id":74810661,"answer_count":1,"score":1,"last_activity_date":1671102913,"creation_date":1671093815,"question_id":74808856,"body_markdown":"I am currently working on tidying up the logging for one of our internal tools. I am new to Log4j &amp; trying to best understand how to go about doing this.\r\n\r\n# Context \r\n\r\nOur tool uses Log4j to log out information of the various processes the tool is executing. Currently, the log is quite bloated &amp; is outputting too many log statements. \r\n\r\nI&#39;ve managed to cut down on some of the log statements by removing the `logger.debug(&quot;...&quot;);` lines.\r\n\r\nBut it seems that some of the logging statements from the APIs/microservices we use are still getting logged. For example, we use some of Netflix&#39;s microservices &amp; there are log statements from these microservices.\r\n\r\nI understand the configuration files (`log4j2.xml` or `log4j.properties`) define how the logging is set up? \r\n\r\nHere&#39;s the contents of the `log4j2.xml` file inside `src/`:\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;configuration status=&quot;OFF&quot;&gt;\r\n    &lt;Appenders&gt;\r\n        &lt;Console name=&quot;stdout&quot; target=&quot;SYSTEM_OUT&quot;&gt;..\r\n            &lt;PatternLayout pattern=&quot;.&quot;/&gt;\r\n        &lt;/Console&gt;\r\n        \r\n        &lt;RollingFile name=&quot;FILE&quot; fileName=&quot;${sys:microservice.log}&quot; filePattern=&quot;${sys:microservice.log}.%i&quot;&gt;\r\n\t\t    &lt;PatternLayout&gt;\r\n\t\t        &lt;Pattern&gt;...&lt;/Pattern&gt;\r\n\t\t    &lt;/PatternLayout&gt;\r\n\t\t    &lt;Policies&gt;\r\n\t\t        &lt;OnStartupTriggeringPolicy /&gt;\r\n\t\t        &lt;SizeBasedTriggeringPolicy size=&quot;300 MB&quot; /&gt;\r\n\t\t    &lt;/Policies&gt;\r\n\t\t    &lt;DefaultRolloverStrategy max=&quot;5&quot; /&gt;\r\n\t\t&lt;/RollingFile&gt;\r\n    &lt;/Appenders&gt;\r\n\r\n    &lt;Loggers&gt;\r\n    \t&lt;Logger name=&quot;org.mongodb.driver&quot; level=&quot;off&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;appender-ref ref=&quot;${sys:logger.out.type}&quot;/&gt;\r\n        &lt;/Logger&gt;\r\n        &lt;Logger name=&quot;com.ulisesbocchio&quot; level=&quot;off&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;appender-ref ref=&quot;${sys:logger.out.type}&quot;/&gt;\r\n        &lt;/Logger&gt;\r\n        &lt;Logger name=&quot;org.springframework&quot; level=&quot;warn&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;appender-ref ref=&quot;${sys:logger.out.type}&quot;/&gt;\r\n        &lt;/Logger&gt;\r\n        &lt;Logger name=&quot;org.springframework.jdbc.core&quot; level=&quot;off&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;appender-ref ref=&quot;${sys:logger.out.type}&quot;/&gt;\r\n        &lt;/Logger&gt;\r\n        &lt;Logger name=&quot;org.springframework.jdbc.core.StatementCreatorUtils&quot; level=&quot;off&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;appender-ref ref=&quot;${sys:logger.out.type}&quot;/&gt;\r\n        &lt;/Logger&gt;\r\n        &lt;Logger name=&quot;com.myOrgName&quot; level=&quot;trace&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;appender-ref ref=&quot;${sys:logger.out.type}&quot;/&gt;\r\n        &lt;/Logger&gt;\r\n        &lt;Root level=&quot;info&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;appender-ref ref=&quot;${sys:logger.out.type}&quot;/&gt;\r\n        &lt;/Root&gt;\r\n    &lt;/Loggers&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nAt the same time, we have a `log4j.properties` file inside `resources/`:\r\n\r\n```\r\n####### ADP category definition.\r\n\r\n# Category\r\nlog4j.rootLogger=TRACE,${logger.out.type}\r\n\r\nlog4j.logger.org.mybatis.example.BlogMapper=TRACE\r\n\r\n# Console appender\r\nlog4j.appender.console=org.apache.log4j.ConsoleAppender\r\nlog4j.appender.console.layout=org.apache.log4j.PatternLayout\r\nlog4j.appender.console.layout.ConversionPattern=...\r\n\r\n\r\n\r\nlog4j.appender.stdout=org.apache.log4j.ConsoleAppender\r\nlog4j.appender.stdout.layout=org.apache.log4j.PatternLayout\r\n#log4j.appender.stdout.layout.ConversionPattern=%5p [%t] - [%d] %m%n\r\nlog4j.appender.stdout.layout.ConversionPattern=...\r\n\r\nlog4j.appender.FILE=org.apache.log4j.RollingFileAppender  \r\nlog4j.appender.FILE.layout=org.apache.log4j.PatternLayout  \r\nlog4j.appender.FILE.layout.ConversionPattern=...\r\nlog4j.appender.FILE.File=${microservice.log}  \r\nlog4j.appender.FILE.MaxFileSize=100MB  \r\nlog4j.appender.FILE.MaxBackupIndex=5 \r\n```\r\n\r\n\r\n# My Questions \r\n\r\n1. There are logs coming from the Netflix microservice, how do I &quot;switch it off&quot; (for lack of a better word)? \r\n\r\n2. Based off a few tutorials &amp; guides I read through, the `Logger` element inside `Loggers` should be corresponding to an `Appender` inside `Appenders` through `&lt;appender-ref ref=&quot;...&quot;/&gt;`. But based on how the `log4j2.xml` file is written, most of the `Logger`s don&#39;t have a corresponding `Appender`? Is this correct?  How does this work? \r\n\r\n3. What does `${sys:logger.out.type}` in the `&lt;appender-ref ref=&quot;${sys:logger.out.type}&quot;/&gt;` element mean? \r\n\r\n4. If I understand correctly, each `Logger` defines the details for how a package&#39;s log statements should appear? If a package does not have a `Logger` defined for it, will it get logged (by default) under the `Root` element? \r\n\r\n5. The `configuration` has a `status` of `OFF`. Does this mean all log statements are disabled? But log statements are getting printed in the console, so I&#39;m confused \r\n\r\n6. I am getting log statements from a `myBatis` interface, I don&#39;t see an implementation for it &amp; I understand Autowiring an interface that does not have an implementation will result in errors. I want to remove these log statements, how do I go about doing this? \r\n\r\n7. If I understand correctly, the `log4j2.xml` file inside `src/` is what controls the logging configuration? The `log4j.properties` inside the `build/` folder is simply a &quot;by-product&quot; or where Eclipse stores the binary files, etc, am I right? \r\n\r\n\r\n\r\nI&#39;ve been reading through various tutorials &amp; guides &amp; managed to make good progress with some other tasks: changing the format of logging statements &amp; removing some logs","title":"Understanding the Log4j configuration","body":"<p>I am currently working on tidying up the logging for one of our internal tools. I am new to Log4j &amp; trying to best understand how to go about doing this.</p>\n<h1>Context</h1>\n<p>Our tool uses Log4j to log out information of the various processes the tool is executing. Currently, the log is quite bloated &amp; is outputting too many log statements.</p>\n<p>I've managed to cut down on some of the log statements by removing the <code>logger.debug(&quot;...&quot;);</code> lines.</p>\n<p>But it seems that some of the logging statements from the APIs/microservices we use are still getting logged. For example, we use some of Netflix's microservices &amp; there are log statements from these microservices.</p>\n<p>I understand the configuration files (<code>log4j2.xml</code> or <code>log4j.properties</code>) define how the logging is set up?</p>\n<p>Here's the contents of the <code>log4j2.xml</code> file inside <code>src/</code>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration status=&quot;OFF&quot;&gt;\n    &lt;Appenders&gt;\n        &lt;Console name=&quot;stdout&quot; target=&quot;SYSTEM_OUT&quot;&gt;..\n            &lt;PatternLayout pattern=&quot;.&quot;/&gt;\n        &lt;/Console&gt;\n        \n        &lt;RollingFile name=&quot;FILE&quot; fileName=&quot;${sys:microservice.log}&quot; filePattern=&quot;${sys:microservice.log}.%i&quot;&gt;\n            &lt;PatternLayout&gt;\n                &lt;Pattern&gt;...&lt;/Pattern&gt;\n            &lt;/PatternLayout&gt;\n            &lt;Policies&gt;\n                &lt;OnStartupTriggeringPolicy /&gt;\n                &lt;SizeBasedTriggeringPolicy size=&quot;300 MB&quot; /&gt;\n            &lt;/Policies&gt;\n            &lt;DefaultRolloverStrategy max=&quot;5&quot; /&gt;\n        &lt;/RollingFile&gt;\n    &lt;/Appenders&gt;\n\n    &lt;Loggers&gt;\n        &lt;Logger name=&quot;org.mongodb.driver&quot; level=&quot;off&quot; additivity=&quot;false&quot;&gt;\n            &lt;appender-ref ref=&quot;${sys:logger.out.type}&quot;/&gt;\n        &lt;/Logger&gt;\n        &lt;Logger name=&quot;com.ulisesbocchio&quot; level=&quot;off&quot; additivity=&quot;false&quot;&gt;\n            &lt;appender-ref ref=&quot;${sys:logger.out.type}&quot;/&gt;\n        &lt;/Logger&gt;\n        &lt;Logger name=&quot;org.springframework&quot; level=&quot;warn&quot; additivity=&quot;false&quot;&gt;\n            &lt;appender-ref ref=&quot;${sys:logger.out.type}&quot;/&gt;\n        &lt;/Logger&gt;\n        &lt;Logger name=&quot;org.springframework.jdbc.core&quot; level=&quot;off&quot; additivity=&quot;false&quot;&gt;\n            &lt;appender-ref ref=&quot;${sys:logger.out.type}&quot;/&gt;\n        &lt;/Logger&gt;\n        &lt;Logger name=&quot;org.springframework.jdbc.core.StatementCreatorUtils&quot; level=&quot;off&quot; additivity=&quot;false&quot;&gt;\n            &lt;appender-ref ref=&quot;${sys:logger.out.type}&quot;/&gt;\n        &lt;/Logger&gt;\n        &lt;Logger name=&quot;com.myOrgName&quot; level=&quot;trace&quot; additivity=&quot;false&quot;&gt;\n            &lt;appender-ref ref=&quot;${sys:logger.out.type}&quot;/&gt;\n        &lt;/Logger&gt;\n        &lt;Root level=&quot;info&quot; additivity=&quot;false&quot;&gt;\n            &lt;appender-ref ref=&quot;${sys:logger.out.type}&quot;/&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>At the same time, we have a <code>log4j.properties</code> file inside <code>resources/</code>:</p>\n<pre><code>####### ADP category definition.\n\n# Category\nlog4j.rootLogger=TRACE,${logger.out.type}\n\nlog4j.logger.org.mybatis.example.BlogMapper=TRACE\n\n# Console appender\nlog4j.appender.console=org.apache.log4j.ConsoleAppender\nlog4j.appender.console.layout=org.apache.log4j.PatternLayout\nlog4j.appender.console.layout.ConversionPattern=...\n\n\n\nlog4j.appender.stdout=org.apache.log4j.ConsoleAppender\nlog4j.appender.stdout.layout=org.apache.log4j.PatternLayout\n#log4j.appender.stdout.layout.ConversionPattern=%5p [%t] - [%d] %m%n\nlog4j.appender.stdout.layout.ConversionPattern=...\n\nlog4j.appender.FILE=org.apache.log4j.RollingFileAppender  \nlog4j.appender.FILE.layout=org.apache.log4j.PatternLayout  \nlog4j.appender.FILE.layout.ConversionPattern=...\nlog4j.appender.FILE.File=${microservice.log}  \nlog4j.appender.FILE.MaxFileSize=100MB  \nlog4j.appender.FILE.MaxBackupIndex=5 \n</code></pre>\n<h1>My Questions</h1>\n<ol>\n<li><p>There are logs coming from the Netflix microservice, how do I &quot;switch it off&quot; (for lack of a better word)?</p>\n</li>\n<li><p>Based off a few tutorials &amp; guides I read through, the <code>Logger</code> element inside <code>Loggers</code> should be corresponding to an <code>Appender</code> inside <code>Appenders</code> through <code>&lt;appender-ref ref=&quot;...&quot;/&gt;</code>. But based on how the <code>log4j2.xml</code> file is written, most of the <code>Logger</code>s don't have a corresponding <code>Appender</code>? Is this correct?  How does this work?</p>\n</li>\n<li><p>What does <code>${sys:logger.out.type}</code> in the <code>&lt;appender-ref ref=&quot;${sys:logger.out.type}&quot;/&gt;</code> element mean?</p>\n</li>\n<li><p>If I understand correctly, each <code>Logger</code> defines the details for how a package's log statements should appear? If a package does not have a <code>Logger</code> defined for it, will it get logged (by default) under the <code>Root</code> element?</p>\n</li>\n<li><p>The <code>configuration</code> has a <code>status</code> of <code>OFF</code>. Does this mean all log statements are disabled? But log statements are getting printed in the console, so I'm confused</p>\n</li>\n<li><p>I am getting log statements from a <code>myBatis</code> interface, I don't see an implementation for it &amp; I understand Autowiring an interface that does not have an implementation will result in errors. I want to remove these log statements, how do I go about doing this?</p>\n</li>\n<li><p>If I understand correctly, the <code>log4j2.xml</code> file inside <code>src/</code> is what controls the logging configuration? The <code>log4j.properties</code> inside the <code>build/</code> folder is simply a &quot;by-product&quot; or where Eclipse stores the binary files, etc, am I right?</p>\n</li>\n</ol>\n<p>I've been reading through various tutorials &amp; guides &amp; managed to make good progress with some other tasks: changing the format of logging statements &amp; removing some logs</p>\n"},{"tags":["java","spring-boot","elasticsearch","version","upgrade"],"comments":[{"owner":{"account_id":19165296,"reputation":1941,"user_id":14000148,"display_name":"warkolm"},"score":0,"creation_date":1671139102,"post_id":74810640,"comment_id":132040579,"body_markdown":"if you mean your JVM, then no. please see the [supported JVM matrix](https://www.elastic.co/support/matrix#matrix_jvm)","body":"if you mean your JVM, then no. please see the <a href=\"https://www.elastic.co/support/matrix#matrix_jvm\" rel=\"nofollow noreferrer\">supported JVM matrix</a>"}],"owner":{"account_id":19812515,"reputation":9,"user_id":14510976,"display_name":"NoOne"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1671102833,"creation_date":1671102833,"question_id":74810640,"body_markdown":"I have an Elasticsearch dependency with version 5.1.2 and I would like to upgrade my java version to 17 from 11 without increasing the version of Elasticsearch because of the API changes. \r\n\r\nCould I do it somehow?\r\n\r\nI didn&#39;t find any solution so far.","title":"Could I upgrade my java project to java version 17 if I couldn&#39;t upgrade the Elasticsearch from &lt;6?","body":"<p>I have an Elasticsearch dependency with version 5.1.2 and I would like to upgrade my java version to 17 from 11 without increasing the version of Elasticsearch because of the API changes.</p>\n<p>Could I do it somehow?</p>\n<p>I didn't find any solution so far.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":26855967,"reputation":2341,"user_id":20440272,"display_name":"Sohaib Ahmed"},"score":0,"creation_date":1671103967,"post_id":74810458,"comment_id":132028138,"body_markdown":"Register your backpress outside the &#39;myWebClient&#39; class to your &#39;MainActivity&#39;","body":"Register your backpress outside the &#39;myWebClient&#39; class to your &#39;MainActivity&#39;"}],"answers":[{"tags":[],"owner":{"account_id":2548486,"reputation":5030,"user_id":2212770,"accept_rate":86,"display_name":"Wirling"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671102485,"creation_date":1671102485,"answer_id":74810561,"question_id":74810458,"body_markdown":"WebViewClient doesn&#39;t have a method `onBackPressed`, so it cannot be overridden.  You should move the method from `myWebClient` directly to your `MainActivity`.","title":"onBackpressed() error - error: cannot find symbol super.onBackPressed();","body":"<p>WebViewClient doesn't have a method <code>onBackPressed</code>, so it cannot be overridden.  You should move the method from <code>myWebClient</code> directly to your <code>MainActivity</code>.</p>\n"}],"owner":{"account_id":18690982,"reputation":15,"user_id":13625306,"display_name":"Bogdan Tudor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74810561,"answer_count":1,"score":0,"last_activity_date":1671102485,"creation_date":1671101979,"question_id":74810458,"body_markdown":"Can you help me solving me this error. I try to make a webView app for Android, but when I run it, I receive this error:\r\n\r\n\r\nerror: cannot find symbol\r\n                super.onBackPressed();\r\n                     ^\r\n  symbol: method onBackPressed()\r\n\r\n\r\nBelow is my MainActivity.java code:\r\n\r\n```\r\npackage com.example.balkanconta;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.graphics.Bitmap;\r\nimport android.os.Bundle;\r\nimport android.webkit.WebSettings;\r\nimport android.webkit.WebView;\r\nimport android.webkit.WebViewClient;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private WebView myWebview;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        myWebview=(WebView)findViewById(R.id.webview);\r\n        myWebview.setWebViewClient(new WebViewClient());\r\n        myWebview.loadUrl(&quot;https://example.com/&quot;);\r\n        WebSettings webSettings=myWebview.getSettings();\r\n        webSettings.setJavaScriptEnabled(true);\r\n        this.myWebview = (WebView) findViewById(R.id.webview);\r\n    }\r\n\r\n    public class myWebClient extends WebViewClient implements com.example.balkanconta.myWebClient {\r\n        @Override\r\n        public void onPageStarted(WebView view,\r\n                                  String url,\r\n                                  Bitmap favicon) {\r\n            super.onPageStarted(view,url,favicon);\r\n        }\r\n        @Override\r\n        public boolean shouldOverrideUrlLoading(WebView view,\r\n                                                String url) {\r\n            view.loadUrl(url);\r\n            return true;\r\n        }\r\n\r\n        @Override\r\n        public void onBackPressed() {\r\n            // now you don&#39;t need findViewById because you can access field prepared in onCreate\r\n            if (myWebview.canGoBack()) {\r\n                myWebview.goBack();\r\n            } else {\r\n                super.onBackPressed();\r\n            }\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\n","title":"onBackpressed() error - error: cannot find symbol super.onBackPressed();","body":"<p>Can you help me solving me this error. I try to make a webView app for Android, but when I run it, I receive this error:</p>\n<p>error: cannot find symbol\nsuper.onBackPressed();\n^\nsymbol: method onBackPressed()</p>\n<p>Below is my MainActivity.java code:</p>\n<pre><code>package com.example.balkanconta;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.graphics.Bitmap;\nimport android.os.Bundle;\nimport android.webkit.WebSettings;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private WebView myWebview;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        myWebview=(WebView)findViewById(R.id.webview);\n        myWebview.setWebViewClient(new WebViewClient());\n        myWebview.loadUrl(&quot;https://example.com/&quot;);\n        WebSettings webSettings=myWebview.getSettings();\n        webSettings.setJavaScriptEnabled(true);\n        this.myWebview = (WebView) findViewById(R.id.webview);\n    }\n\n    public class myWebClient extends WebViewClient implements com.example.balkanconta.myWebClient {\n        @Override\n        public void onPageStarted(WebView view,\n                                  String url,\n                                  Bitmap favicon) {\n            super.onPageStarted(view,url,favicon);\n        }\n        @Override\n        public boolean shouldOverrideUrlLoading(WebView view,\n                                                String url) {\n            view.loadUrl(url);\n            return true;\n        }\n\n        @Override\n        public void onBackPressed() {\n            // now you don't need findViewById because you can access field prepared in onCreate\n            if (myWebview.canGoBack()) {\n                myWebview.goBack();\n            } else {\n                super.onBackPressed();\n            }\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","ms-word","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":2,"creation_date":1581050868,"post_id":60102573,"comment_id":106307891,"body_markdown":"You are not removing the paragraph containing the drawing which refers to the chart in `word/document.xml`. In my PowerPoint example this is `slide.removeShape(chartFrame);`. For Word this can be done using [XWPFDocument.removeBodyElement](https://poi.apache.org/apidocs/dev/org/apache/poi/xwpf/usermodel/XWPFDocument.html#removeBodyElement-int-). The challenge is to find the position of the paragraph containing the drawing which refers to the chart.","body":"You are not removing the paragraph containing the drawing which refers to the chart in <code>word&#47;document.xml</code>. In my PowerPoint example this is <code>slide.removeShape(chartFrame);</code>. For Word this can be done using <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xwpf/usermodel/XWPFDocument.html#removeBodyElement-int-\" rel=\"nofollow noreferrer\">XWPFDocument.removeBodyElement</a>. The challenge is to find the position of the paragraph containing the drawing which refers to the chart."},{"owner":{"account_id":17404892,"reputation":130,"user_id":12613159,"display_name":"Ivo Sturm"},"score":0,"creation_date":1581360124,"post_id":60102573,"comment_id":106398600,"body_markdown":"Thanks for the feedback again Axel. I will be looking into it and will share the result once fixed.","body":"Thanks for the feedback again Axel. I will be looking into it and will share the result once fixed."}],"answers":[{"tags":[],"owner":{"account_id":17404892,"reputation":130,"user_id":12613159,"display_name":"Ivo Sturm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1581666459,"creation_date":1581666459,"answer_id":60222045,"question_id":60102573,"body_markdown":"Indeed the finding of the right paragraph holding the chart was a challenge. In the end, for simplicity sake, I added a one row/one column placeholder table with one cell with a text, let&#39;s say &#39;targetWordString&#39; in it, DIRECTLY before the chart. With the below function I am location the BodyElementID of this table:\r\n\r\n    private Integer iBodyElementIterator (XWPFDocument wordDoc,String targetWordString) {\r\n    \tIterator&lt;IBodyElement&gt; iter = wordDoc.getBodyElementsIterator();\r\n    \tInteger bodyElementID = null;\r\n    \twhile (iter.hasNext()) {\r\n    \t   IBodyElement elem = iter.next();\r\n    \t   bodyElementID = wordDoc.getBodyElements().indexOf(elem);\r\n    \t   if (elem instanceof XWPFParagraph) {\r\n    \t\t\t\r\n    \t\t   XWPFParagraph paragraph = (XWPFParagraph) elem;\r\n    \t\t   for (XWPFRun runText : paragraph.getRuns()) {\r\n    \t\t\t\tString text = runText.getText(0);\t\t\t\t\t\t\t\t\r\n    \t\t\t   Core.getLogger(&quot;WordExporter&quot;).trace(&quot;Body Element ID:  &quot; + bodyElementID + &quot; Text: &quot; + text);\r\n    \t\t\t\tif (text != null &amp;&amp; text.equals(targetWordString)) {\t\t\t      \t\t\r\n    \t\t\t\t\tbreak;\t\t\t\t      \t\t\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \r\n    \t   } else if (elem instanceof XWPFTable) {\r\n    \t\t   if (((XWPFTable) elem).getRow(0) != null &amp;&amp; ((XWPFTable) elem).getRow(0).getCell(0) != null) {\r\n    \t\t\t\t// the first cell holds the name via the template\r\n    \t\t\t\tString tableTitle = ((XWPFTable) elem).getRow(0).getCell(0).getText();\r\n    \t\t\t\tif (tableTitle.equals(targetWordString)) {\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \t\t\t\tCore.getLogger(&quot;WordExporter&quot;).trace(&quot;Body Element ID:  &quot; + bodyElementID + &quot; Text: &quot; + tableTitle);\r\n    \t\t   } else {\r\n    \t\t\t   Core.getLogger(&quot;WordExporter&quot;).trace(&quot;Body Element ID:  &quot; + bodyElementID + &quot; Table removed!&quot;);\r\n    \t\t   }\r\n    \t\t   \r\n    \t   }\r\n    \t   else {\r\n    \t\t   Core.getLogger(&quot;WordExporter&quot;).trace(&quot;Body Element ID:  &quot; + bodyElementID + &quot; Text: ?&quot;);\r\n    \t   }\r\n    \t}\r\n    \treturn bodyElementID;\r\n    }\r\nIn the main part of the code I am calling this function to locate the table, then first delete the chart (ID +1) and then the table (ID)\r\n\r\n    int elementIDToBeRemoved = iBodyElementIterator(xWPFWordDoc,targetWordString);\r\n    \r\n    xWPFWordDoc.removeBodyElement(elementIDToBeRemoved + 1);\r\n    xWPFWordDoc.removeBodyElement(elementIDToBeRemoved);\r\n\r\nIt needs to be in this order, because the ID&#39;s are reordered once you delete a number in between, hence deleting the table first, would mean the chart would get that ID in principle.\r\n","title":"Apache POI: Remove Chart from Word Template file entirely","body":"<p>Indeed the finding of the right paragraph holding the chart was a challenge. In the end, for simplicity sake, I added a one row/one column placeholder table with one cell with a text, let's say 'targetWordString' in it, DIRECTLY before the chart. With the below function I am location the BodyElementID of this table:</p>\n\n<pre><code>private Integer iBodyElementIterator (XWPFDocument wordDoc,String targetWordString) {\n    Iterator&lt;IBodyElement&gt; iter = wordDoc.getBodyElementsIterator();\n    Integer bodyElementID = null;\n    while (iter.hasNext()) {\n       IBodyElement elem = iter.next();\n       bodyElementID = wordDoc.getBodyElements().indexOf(elem);\n       if (elem instanceof XWPFParagraph) {\n\n           XWPFParagraph paragraph = (XWPFParagraph) elem;\n           for (XWPFRun runText : paragraph.getRuns()) {\n                String text = runText.getText(0);                               \n               Core.getLogger(\"WordExporter\").trace(\"Body Element ID:  \" + bodyElementID + \" Text: \" + text);\n                if (text != null &amp;&amp; text.equals(targetWordString)) {                        \n                    break;                          \n                }\n            }\n\n       } else if (elem instanceof XWPFTable) {\n           if (((XWPFTable) elem).getRow(0) != null &amp;&amp; ((XWPFTable) elem).getRow(0).getCell(0) != null) {\n                // the first cell holds the name via the template\n                String tableTitle = ((XWPFTable) elem).getRow(0).getCell(0).getText();\n                if (tableTitle.equals(targetWordString)) {\n                    break;\n                }\n                Core.getLogger(\"WordExporter\").trace(\"Body Element ID:  \" + bodyElementID + \" Text: \" + tableTitle);\n           } else {\n               Core.getLogger(\"WordExporter\").trace(\"Body Element ID:  \" + bodyElementID + \" Table removed!\");\n           }\n\n       }\n       else {\n           Core.getLogger(\"WordExporter\").trace(\"Body Element ID:  \" + bodyElementID + \" Text: ?\");\n       }\n    }\n    return bodyElementID;\n}\n</code></pre>\n\n<p>In the main part of the code I am calling this function to locate the table, then first delete the chart (ID +1) and then the table (ID)</p>\n\n<pre><code>int elementIDToBeRemoved = iBodyElementIterator(xWPFWordDoc,targetWordString);\n\nxWPFWordDoc.removeBodyElement(elementIDToBeRemoved + 1);\nxWPFWordDoc.removeBodyElement(elementIDToBeRemoved);\n</code></pre>\n\n<p>It needs to be in this order, because the ID's are reordered once you delete a number in between, hence deleting the table first, would mean the chart would get that ID in principle.</p>\n"},{"tags":[],"owner":{"account_id":17404892,"reputation":130,"user_id":12613159,"display_name":"Ivo Sturm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671102477,"creation_date":1671102477,"answer_id":74810560,"question_id":60102573,"body_markdown":"I did find a more structural solution for it without the use of dummy tables for the positioning. The solution is build out into 2 parts: \r\n\r\n 1. Determine relationship id of chart in word document\r\n 2. Remove chart based on relationship id and remove paragraph + runs\r\n\r\n**Determine relationship id of chart in word document**\r\n\r\nFirst I have determined with a boolean variable &#39;chartUsed&#39; whether the chart needs to be deleted. \r\n\r\n    \t   if (!chartUsed) {\r\n\t\t\t\tString chartPartName = xWPFChart.getPackagePart().getPartName().getName();\r\n\t\t\t\tString ridChartToBeRemoved = null;\r\n\t\t\t\t\r\n\t\t\t\t// iterate over all relations the chart has and remove them\r\n\t\t\t\tfor (RelationPart relation : wordDoc.getRelationParts()) {\r\n\t\t\t\t\tPackageRelationship relShip = relation.getRelationship();\r\n\t\t\t\t\tif (relShip.getTargetURI().toString().equals(chartPartName)) {\r\n\t\t\t\t\t\tridChartToBeRemoved = relShip.getId();\r\n\t\t\t\t\t\tCore.getLogger(logNode).info(&quot;Chart with title &quot; + chartTitle + &quot; has relationship id &quot; + relShip.getId());\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tremoveChartByRelId(wordDoc, ridChartToBeRemoved);\r\n\t\t\t\t\r\n\t\t\t}\r\n\r\n(Core.getLogger is an internal API from the Mendix low code platform I use). \r\n\r\nAt the end I am calling the function removeChartByRelId which will remove the chart if the relation is found within a run of a paragraph:\r\n\r\n**Remove chart based on relationship id and remove paragraph + runs**\r\n\r\n    \tprivate void removeChartByRelId (XWPFDocument wordDoc, String chartRelId) {\r\n\t\t\tIterator&lt;IBodyElement&gt; iter = wordDoc.getBodyElementsIterator();\r\n\t\t\tInteger bodyElementID = null;\r\n\t\t\twhile (iter.hasNext()) {\r\n\t\t\t   IBodyElement elem = iter.next();\r\n\t\t\t   bodyElementID = wordDoc.getBodyElements().indexOf(elem);\r\n\t\t\t   if (elem instanceof XWPFParagraph) {\r\n\t\t\t\t   Core.getLogger(logNode).trace(&quot;XWPFParagraph Body Element ID:  &quot; + bodyElementID);\r\n\t\t\t\t   \r\n\t\t\t\t   XWPFParagraph paragraph = (XWPFParagraph) elem;\r\n\t\t\t\t   boolean removeParagraph = false;\r\n\t\t\t\t   for (XWPFRun run : paragraph.getRuns()) {\r\n\t\t\t      \t\tif (run.getCTR().getDrawingList().size()&gt;0) {\r\n\t\t\t      \t\t\tString drawingXMLText = run.getCTR().getDrawingList().get(0).xmlText();\r\n\t\t\t\t      \t\tboolean isChart = drawingXMLText.contains(&quot;http://schemas.openxmlformats.org/drawingml/2006/chart&quot;);\r\n\t\t\t\t      \t\tString graphicDataXMLText = run.getCTR().getDrawingList().get(0).getInlineArray(0).getGraphic().getGraphicData().xmlText();\t\t      \t\t\r\n\t\t\t\t      \t\tboolean contains = graphicDataXMLText.contains(chartRelId);\r\n\t\t\t\t      \t\tif (isChart &amp;&amp; contains) {\r\n\t\t\t\t      \t\t\tCore.getLogger(logNode).info(&quot;Removing chart with relId &quot; + chartRelId + &quot; as it isnt used in data&quot;);\r\n\t\t\t\t      \t\t\trun.getCTR().getDrawingList().clear();\r\n\t\t\t\t      \t\t\tremoveParagraph = true;\r\n\t\t\t\t      \t\t}\t\t\t      \t\t\r\n\t\t\t      \t\t}\r\n\t\t\t\t   \t}\r\n\t\t\t\t   if (removeParagraph) {\r\n\t\t\t\t\t   for (int i = 0; i &lt; paragraph.getRuns().size(); i++){\r\n\t\t\t              paragraph.removeRun(i);\r\n\t\t\t           }\r\n\t\t\t\t   }\r\n\t\t\t   \t} \r\n\t\t\t}\r\n\t}","title":"Apache POI: Remove Chart from Word Template file entirely","body":"<p>I did find a more structural solution for it without the use of dummy tables for the positioning. The solution is build out into 2 parts:</p>\n<ol>\n<li>Determine relationship id of chart in word document</li>\n<li>Remove chart based on relationship id and remove paragraph + runs</li>\n</ol>\n<p><strong>Determine relationship id of chart in word document</strong></p>\n<p>First I have determined with a boolean variable 'chartUsed' whether the chart needs to be deleted.</p>\n<pre><code>       if (!chartUsed) {\n            String chartPartName = xWPFChart.getPackagePart().getPartName().getName();\n            String ridChartToBeRemoved = null;\n            \n            // iterate over all relations the chart has and remove them\n            for (RelationPart relation : wordDoc.getRelationParts()) {\n                PackageRelationship relShip = relation.getRelationship();\n                if (relShip.getTargetURI().toString().equals(chartPartName)) {\n                    ridChartToBeRemoved = relShip.getId();\n                    Core.getLogger(logNode).info(&quot;Chart with title &quot; + chartTitle + &quot; has relationship id &quot; + relShip.getId());\n                    break;\n                }\n            }\n            \n            removeChartByRelId(wordDoc, ridChartToBeRemoved);\n            \n        }\n</code></pre>\n<p>(Core.getLogger is an internal API from the Mendix low code platform I use).</p>\n<p>At the end I am calling the function removeChartByRelId which will remove the chart if the relation is found within a run of a paragraph:</p>\n<p><strong>Remove chart based on relationship id and remove paragraph + runs</strong></p>\n<pre><code>    private void removeChartByRelId (XWPFDocument wordDoc, String chartRelId) {\n        Iterator&lt;IBodyElement&gt; iter = wordDoc.getBodyElementsIterator();\n        Integer bodyElementID = null;\n        while (iter.hasNext()) {\n           IBodyElement elem = iter.next();\n           bodyElementID = wordDoc.getBodyElements().indexOf(elem);\n           if (elem instanceof XWPFParagraph) {\n               Core.getLogger(logNode).trace(&quot;XWPFParagraph Body Element ID:  &quot; + bodyElementID);\n               \n               XWPFParagraph paragraph = (XWPFParagraph) elem;\n               boolean removeParagraph = false;\n               for (XWPFRun run : paragraph.getRuns()) {\n                    if (run.getCTR().getDrawingList().size()&gt;0) {\n                        String drawingXMLText = run.getCTR().getDrawingList().get(0).xmlText();\n                        boolean isChart = drawingXMLText.contains(&quot;http://schemas.openxmlformats.org/drawingml/2006/chart&quot;);\n                        String graphicDataXMLText = run.getCTR().getDrawingList().get(0).getInlineArray(0).getGraphic().getGraphicData().xmlText();                 \n                        boolean contains = graphicDataXMLText.contains(chartRelId);\n                        if (isChart &amp;&amp; contains) {\n                            Core.getLogger(logNode).info(&quot;Removing chart with relId &quot; + chartRelId + &quot; as it isnt used in data&quot;);\n                            run.getCTR().getDrawingList().clear();\n                            removeParagraph = true;\n                        }                       \n                    }\n                }\n               if (removeParagraph) {\n                   for (int i = 0; i &lt; paragraph.getRuns().size(); i++){\n                      paragraph.removeRun(i);\n                   }\n               }\n            } \n        }\n}\n</code></pre>\n"}],"owner":{"account_id":17404892,"reputation":130,"user_id":12613159,"display_name":"Ivo Sturm"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":620,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":60222045,"answer_count":2,"score":0,"last_activity_date":1671102477,"creation_date":1581018861,"question_id":60102573,"body_markdown":"I am using a Word template with Excel graphs which I want to programmatically manipulate with the Java Apache POI library. For this I also need to be able to conditionally delete a Chart which is stored in this template. \r\n\r\nBased on Axel Richters post ([Removing chart from PowerPoint slide with Apache POI][1]) I think I am almost there, but when I want to open the updated Word file it gives an error about unreadable content. This is what I have thus far:\r\n\r\n    PackagePart packagePartChart = xWPFChart.getPackagePart();\r\n    \r\n    PackagePart packagePartWordDoc = xWPFDocument.getPackagePart();\r\n    OPCPackage packageWordDoc = packagePartWordDoc.getPackage();\r\n    \r\n    // iterate over all relations the chart has and remove them\r\n    for (PackageRelationship chartrelship : packagePartChart.getRelationships()) {\r\n        String partname = chartrelship.getTargetURI().toString();\r\n        PackagePart part = packageWordDoc.getPartsByName(Pattern.compile(partname)).get(0);\r\n        packageWordDoc.removePart(part);\r\n        packagePartChart.removeRelationship(chartrelship.getId());\r\n    }\r\n    \r\n    // now remove the chart itself from the word doc                           \r\n    Method removeRelation = POIXMLDocumentPart.class.getDeclaredMethod(&quot;removeRelation&quot;, POIXMLDocumentPart.class); \r\n    removeRelation.setAccessible(true); \r\n    removeRelation.invoke(xWPFDocument, xWPFChart);\r\n\r\nIf I unzip the Word file I correctly see that:\r\n\r\n 1. the relation between the WordDoc and the Chart are deleted in &#39;\\word\\ _rels\\document.xml.rels&#39;\r\n 2. the chart itself is deleted in folder &#39;\\word\\charts&#39;\r\n 3. the relations between the documents supporting the Chart itself are deleted in folder &#39;\\word\\charts\\&#39; _rels\r\n 4. the related chart items themselves are deleted:\r\n       - StyleN / ColorsN in folder &#39;\\word\\charts&#39; and \r\n       - Microsoft_Excel_WorksheetN in folder &#39;\\word\\embeddings&#39;\r\n\r\nAnybody any idea on what could be going wrong here? \r\n  [1]: https://stackoverflow.com/questions/46347444/removing-chart-from-powerpoint-slide-with-apache-poi?rq=1","title":"Apache POI: Remove Chart from Word Template file entirely","body":"<p>I am using a Word template with Excel graphs which I want to programmatically manipulate with the Java Apache POI library. For this I also need to be able to conditionally delete a Chart which is stored in this template. </p>\n\n<p>Based on Axel Richters post (<a href=\"https://stackoverflow.com/questions/46347444/removing-chart-from-powerpoint-slide-with-apache-poi?rq=1\">Removing chart from PowerPoint slide with Apache POI</a>) I think I am almost there, but when I want to open the updated Word file it gives an error about unreadable content. This is what I have thus far:</p>\n\n<pre><code>PackagePart packagePartChart = xWPFChart.getPackagePart();\n\nPackagePart packagePartWordDoc = xWPFDocument.getPackagePart();\nOPCPackage packageWordDoc = packagePartWordDoc.getPackage();\n\n// iterate over all relations the chart has and remove them\nfor (PackageRelationship chartrelship : packagePartChart.getRelationships()) {\n    String partname = chartrelship.getTargetURI().toString();\n    PackagePart part = packageWordDoc.getPartsByName(Pattern.compile(partname)).get(0);\n    packageWordDoc.removePart(part);\n    packagePartChart.removeRelationship(chartrelship.getId());\n}\n\n// now remove the chart itself from the word doc                           \nMethod removeRelation = POIXMLDocumentPart.class.getDeclaredMethod(\"removeRelation\", POIXMLDocumentPart.class); \nremoveRelation.setAccessible(true); \nremoveRelation.invoke(xWPFDocument, xWPFChart);\n</code></pre>\n\n<p>If I unzip the Word file I correctly see that:</p>\n\n<ol>\n<li>the relation between the WordDoc and the Chart are deleted in '\\word\\ _rels\\document.xml.rels'</li>\n<li>the chart itself is deleted in folder '\\word\\charts'</li>\n<li>the relations between the documents supporting the Chart itself are deleted in folder '\\word\\charts\\' _rels</li>\n<li>the related chart items themselves are deleted:\n\n<ul>\n<li>StyleN / ColorsN in folder '\\word\\charts' and </li>\n<li>Microsoft_Excel_WorksheetN in folder '\\word\\embeddings'</li>\n</ul></li>\n</ol>\n\n<p>Anybody any idea on what could be going wrong here? </p>\n"},{"tags":["java","jpa","specifications","hibernate-criteria"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1671116182,"post_id":74810225,"comment_id":132032782,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671102452,"creation_date":1671102452,"answer_id":74810554,"question_id":74810225,"body_markdown":"You just need another one from (btw, won&#39;t work if you need left join):\r\n\r\n```\r\nreturn (root, query, cb) -&gt; {\r\n    Root&lt;User&gt; user = query.from(User.class);\r\n    query.orderBy(cb.asc(user.get(&quot;name&quot;)));\r\n    List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n    predicates.add( cb.equal(root.get(&quot;ownerId&quot;), user.get(&quot;id&quot;)));\r\n    if (model != null) {\r\n        predicates.add(cb.equal(root.get(&quot;model&quot;), model));\r\n    }\r\n    return cb.and(predicates.toArray(new Predicate[0]));\r\n};\r\n```","title":"Joining table in criteriabuilder by fields witch doesn`t have relations","body":"<p>You just need another one from (btw, won't work if you need left join):</p>\n<pre><code>return (root, query, cb) -&gt; {\n    Root&lt;User&gt; user = query.from(User.class);\n    query.orderBy(cb.asc(user.get(&quot;name&quot;)));\n    List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\n    predicates.add( cb.equal(root.get(&quot;ownerId&quot;), user.get(&quot;id&quot;)));\n    if (model != null) {\n        predicates.add(cb.equal(root.get(&quot;model&quot;), model));\n    }\n    return cb.and(predicates.toArray(new Predicate[0]));\n};\n</code></pre>\n"}],"owner":{"account_id":27260448,"reputation":1,"user_id":20783362,"display_name":"Iryna Dymytreyeva"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":255,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671102452,"creation_date":1671100788,"question_id":74810225,"body_markdown":"Let`s imagine situation that we have two classes:\r\nTable User with columns:\r\n\r\nid\r\nname\r\n\r\nAnd table Car with columns:\r\n\r\nid\r\nmodel\r\nnumber\r\nownerId (no fk to User)\r\n\r\nOwnerId is an id of a User. But we don`t have fk in db. So in our class Car in java code this field is Integer, not User. \r\n\r\nThe task is to sort cars by owner name and filter by model. If model is null - show all cars with sorting. We cant using Pageable because we don`t have field user.name in Car class. And don`t have relations to User from Car class. \r\n\r\nBut how to do it with specification and criteriabuilder? The main problem for me is to add sorting in specification. Thanks for answer. \r\n\r\nI know how to do it using JPA and annotation @Query in repository. Smth like:\r\n```\r\n@Query(&quot;select c from Car c inner join User u on c.ownerId=u.id where c.model =:model order by u.name asc &quot;)\r\n```\r\n```\r\n@Query(&quot;select c from Car c inner join User u on c.ownerId=u.id order by u.name asc &quot;)\r\n```\r\nThe last one is for situation if we have null model. So without filtering.\r\n\r\nI know how to filter car using specification:\r\n\r\n```\r\npublic static Specification&lt;Car&gt; hasModel(String model) {\r\n    return (root, query, criteriaBuilder) -&gt; {\r\n        if (model == null) {\r\n            return criteriaBuilder.isNotNull(root);\r\n        }\r\n        return criteriaBuilder.equal(root.get(&quot;model&quot;), model);\r\n    };\r\n}\r\n```\r\n\r\nBut how to add here sorting by user name?\r\n","title":"Joining table in criteriabuilder by fields witch doesn`t have relations","body":"<p>Let`s imagine situation that we have two classes:\nTable User with columns:</p>\n<p>id\nname</p>\n<p>And table Car with columns:</p>\n<p>id\nmodel\nnumber\nownerId (no fk to User)</p>\n<p>OwnerId is an id of a User. But we don`t have fk in db. So in our class Car in java code this field is Integer, not User.</p>\n<p>The task is to sort cars by owner name and filter by model. If model is null - show all cars with sorting. We cant using Pageable because we don<code>t have field user.name in Car class. And don</code>t have relations to User from Car class.</p>\n<p>But how to do it with specification and criteriabuilder? The main problem for me is to add sorting in specification. Thanks for answer.</p>\n<p>I know how to do it using JPA and annotation @Query in repository. Smth like:</p>\n<pre><code>@Query(&quot;select c from Car c inner join User u on c.ownerId=u.id where c.model =:model order by u.name asc &quot;)\n</code></pre>\n<pre><code>@Query(&quot;select c from Car c inner join User u on c.ownerId=u.id order by u.name asc &quot;)\n</code></pre>\n<p>The last one is for situation if we have null model. So without filtering.</p>\n<p>I know how to filter car using specification:</p>\n<pre><code>public static Specification&lt;Car&gt; hasModel(String model) {\n    return (root, query, criteriaBuilder) -&gt; {\n        if (model == null) {\n            return criteriaBuilder.isNotNull(root);\n        }\n        return criteriaBuilder.equal(root.get(&quot;model&quot;), model);\n    };\n}\n</code></pre>\n<p>But how to add here sorting by user name?</p>\n"},{"tags":["java","android","xml","tablelayout","tablerow"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1670594216,"post_id":74743962,"comment_id":131916062,"body_markdown":"`need that when I click on a specific time,` ? You mean: `need that when I click on a specific TextView`?,","body":"<code>need that when I click on a specific time,</code> ? You mean: <code>need that when I click on a specific TextView</code>?,"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1670594377,"post_id":74743962,"comment_id":131916118,"body_markdown":"Probably you should set an onClick listener on every TextView.","body":"Probably you should set an onClick listener on every TextView."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1670594483,"post_id":74743962,"comment_id":131916171,"body_markdown":"Most of your TextViews dont have an id.","body":"Most of your TextViews dont have an id."}],"answers":[{"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670595690,"creation_date":1670595690,"answer_id":74744402,"question_id":74743962,"body_markdown":"Set an onClickListener on every TextView.\r\n\r\nExample: https://www.folkstalk.com/tech/onclicklistener-and-table-layout-with-example/\r\n\r\nIt&#39;s done on a Button. Change to a TextView.","title":"managing a click on the element of an android tablelayout","body":"<p>Set an onClickListener on every TextView.</p>\n<p>Example: <a href=\"https://www.folkstalk.com/tech/onclicklistener-and-table-layout-with-example/\" rel=\"nofollow noreferrer\">https://www.folkstalk.com/tech/onclicklistener-and-table-layout-with-example/</a></p>\n<p>It's done on a Button. Change to a TextView.</p>\n"},{"tags":[],"owner":{"account_id":9081358,"reputation":53,"user_id":6761088,"display_name":"Niranjan Rai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671102340,"creation_date":1671102340,"answer_id":74810533,"question_id":74743962,"body_markdown":"    // The row the view is in\r\n    TableRow row = (TableRow) view.getParent();\r\n    // It&#39;s index\r\n    int index = tableLayout.indexOfChild(row);","title":"managing a click on the element of an android tablelayout","body":"<pre><code>// The row the view is in\nTableRow row = (TableRow) view.getParent();\n// It's index\nint index = tableLayout.indexOfChild(row);\n</code></pre>\n"}],"owner":{"account_id":24184457,"reputation":21,"user_id":18144600,"display_name":"cristoball92"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1671102340,"creation_date":1670593447,"question_id":74743962,"body_markdown":"I need to manage a specific time slot as shown in the picture. \r\n\r\n[![week](https://i.stack.imgur.com/n1ZBR.png)](https://i.stack.imgur.com/n1ZBR.png)\r\n\r\nI need that when I click on a specific TextView, it opens a new fragment sending me which element was clicked on. That is the layout file\r\n\r\n\r\n```\r\n\r\n&lt;TableLayout\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:layout_margin=&quot;15dp&quot;\r\n    android:id=&quot;@+id/tableLayoutWeek&quot;\r\n    &gt;\r\n    &lt;!--riga dei giorni--&gt;\r\n    &lt;TableRow\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;@color/blueBlack&quot;\r\n        android:padding=&quot;20dp&quot;\r\n\r\n        &gt;\r\n\r\n        &lt;TextView\r\n            android:layout_width=&quot;50dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_margin=&quot;5dp&quot;\r\n            android:text=&quot;lun&quot;\r\n            android:textAllCaps=&quot;true&quot;\r\n            android:textColor=&quot;#FFFFFF&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:layout_width=&quot;60dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_margin=&quot;5dp&quot;\r\n            android:text=&quot;mar&quot;\r\n            android:textAllCaps=&quot;true&quot;\r\n            android:textColor=&quot;#FFFFFF&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:layout_width=&quot;60dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_margin=&quot;5dp&quot;\r\n            android:text=&quot;mer&quot;\r\n            android:textAllCaps=&quot;true&quot;\r\n            android:textColor=&quot;#FFFFFF&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:layout_width=&quot;60dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_margin=&quot;5dp&quot;\r\n            android:text=&quot;gio&quot;\r\n            android:textAllCaps=&quot;true&quot;\r\n            android:textColor=&quot;#FFFFFF&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:layout_width=&quot;60dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_margin=&quot;5dp&quot;\r\n            android:text=&quot;ven&quot;\r\n            android:textAllCaps=&quot;true&quot;\r\n            android:textColor=&quot;#FFFFFF&quot; /&gt;\r\n    &lt;/TableRow&gt;\r\n    &lt;!--riga delle 16--&gt;\r\n    &lt;TableRow\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;@color/yellowRow&quot;\r\n        android:padding=&quot;20dp&quot;\r\n        android:id=&quot;@+id/row16&quot;\r\n\r\n        &gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/lun16&quot;\r\n            android:layout_width=&quot;60dp&quot;\r\n            android:layout_height=&quot;60dp&quot;\r\n            android:text=&quot;16:00&quot;\r\n            android:textStyle=&quot;bold&quot;\r\n            android:textAllCaps=&quot;true&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:layout_margin=&quot;5dp&quot;\r\n            /&gt;\r\n        &lt;TextView\r\n            android:id=&quot;@+id/mar16&quot;\r\n            android:textStyle=&quot;bold&quot;\r\n            android:layout_width=&quot;60dp&quot;\r\n            android:layout_height=&quot;60dp&quot;\r\n            android:text=&quot;16:00&quot;\r\n            android:textAllCaps=&quot;true&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:layout_margin=&quot;5dp&quot;/&gt;\r\n        &lt;TextView\r\n            android:tag=&quot;mer16&quot;\r\n            android:textStyle=&quot;bold&quot;\r\n            android:layout_width=&quot;60dp&quot;\r\n            android:layout_height=&quot;60dp&quot;\r\n            android:text=&quot;16:00&quot;\r\n            android:textAllCaps=&quot;true&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:layout_margin=&quot;5dp&quot;/&gt;\r\n        &lt;TextView\r\n            android:tag=&quot;gio16&quot;\r\n            android:textStyle=&quot;bold&quot;\r\n            android:layout_width=&quot;60dp&quot;\r\n            android:layout_height=&quot;60dp&quot;\r\n            android:text=&quot;16:00&quot;\r\n            android:textAllCaps=&quot;true&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:layout_margin=&quot;5dp&quot;/&gt;\r\n        &lt;TextView\r\n            android:tag=&quot;ven16&quot;\r\n            android:textStyle=&quot;bold&quot;\r\n            android:layout_width=&quot;60dp&quot;\r\n            android:layout_height=&quot;60dp&quot;\r\n            android:text=&quot;16:00&quot;\r\n            android:textAllCaps=&quot;true&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:layout_margin=&quot;5dp&quot;/&gt;\r\n    &lt;/TableRow&gt;\r\n    &lt;!--riga delle 17--&gt;\r\n    &lt;TableRow\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;@color/yellowRow&quot;\r\n        android:padding=&quot;20dp&quot;\r\n\r\n        &gt;\r\n\r\n        &lt;TextView\r\n            android:textStyle=&quot;bold&quot;\r\n            android:layout_width=&quot;60dp&quot;\r\n            android:layout_height=&quot;60dp&quot;\r\n            android:text=&quot;17:00&quot;\r\n            android:textAllCaps=&quot;true&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:layout_margin=&quot;5dp&quot;/&gt;\r\n        &lt;TextView\r\n            android:textStyle=&quot;bold&quot;\r\n            android:layout_width=&quot;60dp&quot;\r\n            android:layout_height=&quot;60dp&quot;\r\n            android:text=&quot;17:00&quot;\r\n            android:textAllCaps=&quot;true&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:layout_margin=&quot;5dp&quot;/&gt;\r\n        &lt;TextView\r\n            android:textStyle=&quot;bold&quot;\r\n            android:layout_width=&quot;60dp&quot;\r\n            android:layout_height=&quot;60dp&quot;\r\n            android:text=&quot;17:00&quot;\r\n            android:textAllCaps=&quot;true&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:layout_margin=&quot;5dp&quot;/&gt;\r\n        &lt;TextView\r\n            android:textStyle=&quot;bold&quot;\r\n            android:layout_width=&quot;60dp&quot;\r\n            android:layout_height=&quot;60dp&quot;\r\n            android:text=&quot;17:00&quot;\r\n            android:textAllCaps=&quot;true&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:layout_margin=&quot;5dp&quot;/&gt;\r\n        &lt;TextView\r\n            android:textStyle=&quot;bold&quot;\r\n            android:layout_width=&quot;60dp&quot;\r\n            android:layout_height=&quot;60dp&quot;\r\n            android:text=&quot;17:00&quot;\r\n            android:textAllCaps=&quot;true&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:layout_margin=&quot;5dp&quot;/&gt;\r\n    &lt;/TableRow&gt;\r\n    &lt;!--riga delle 18--&gt;\r\n    &lt;TableRow\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;@color/yellowRow&quot;\r\n        android:padding=&quot;20dp&quot;\r\n\r\n        &gt;\r\n\r\n        &lt;TextView\r\n            android:textStyle=&quot;bold&quot;\r\n            android:layout_width=&quot;60dp&quot;\r\n            android:layout_height=&quot;60dp&quot;\r\n            android:text=&quot;18:00&quot;\r\n            android:textAllCaps=&quot;true&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:layout_margin=&quot;5dp&quot;/&gt;\r\n        &lt;TextView\r\n            android:textStyle=&quot;bold&quot;\r\n            android:layout_width=&quot;60dp&quot;\r\n            android:layout_height=&quot;60dp&quot;\r\n            android:text=&quot;18:00&quot;\r\n            android:textAllCaps=&quot;true&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:layout_margin=&quot;5dp&quot;/&gt;\r\n        &lt;TextView\r\n            android:textStyle=&quot;bold&quot;\r\n            android:layout_width=&quot;60dp&quot;\r\n            android:layout_height=&quot;60dp&quot;\r\n            android:text=&quot;18:00&quot;\r\n            android:textAllCaps=&quot;true&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:layout_margin=&quot;5dp&quot;/&gt;\r\n        &lt;TextView\r\n            android:textStyle=&quot;bold&quot;\r\n            android:layout_width=&quot;60dp&quot;\r\n            android:layout_height=&quot;60dp&quot;\r\n            android:text=&quot;18:00&quot;\r\n            android:textAllCaps=&quot;true&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:layout_margin=&quot;5dp&quot;/&gt;\r\n        &lt;TextView\r\n            android:textStyle=&quot;bold&quot;\r\n            android:layout_width=&quot;60dp&quot;\r\n            android:layout_height=&quot;60dp&quot;\r\n            android:text=&quot;18:00&quot;\r\n            android:textAllCaps=&quot;true&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:layout_margin=&quot;5dp&quot;/&gt;\r\n    &lt;/TableRow&gt;\r\n    &lt;!--riga delle 19--&gt;\r\n    &lt;TableRow\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;@color/yellowRow&quot;\r\n        android:padding=&quot;20dp&quot;\r\n\r\n        &gt;\r\n\r\n        &lt;TextView\r\n            android:textStyle=&quot;bold&quot;\r\n            android:layout_width=&quot;60dp&quot;\r\n            android:layout_height=&quot;60dp&quot;\r\n            android:text=&quot;19:00&quot;\r\n            android:textAllCaps=&quot;true&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:layout_margin=&quot;5dp&quot;/&gt;\r\n        &lt;TextView\r\n            android:textStyle=&quot;bold&quot;\r\n            android:layout_width=&quot;60dp&quot;\r\n            android:layout_height=&quot;60dp&quot;\r\n            android:text=&quot;19:00&quot;\r\n            android:textAllCaps=&quot;true&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:layout_margin=&quot;5dp&quot;/&gt;\r\n        &lt;TextView\r\n            android:textStyle=&quot;bold&quot;\r\n            android:layout_width=&quot;60dp&quot;\r\n            android:layout_height=&quot;60dp&quot;\r\n            android:text=&quot;19:00&quot;\r\n            android:textAllCaps=&quot;true&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:layout_margin=&quot;5dp&quot;/&gt;\r\n        &lt;TextView\r\n            android:textStyle=&quot;bold&quot;\r\n            android:layout_width=&quot;60dp&quot;\r\n            android:layout_height=&quot;60dp&quot;\r\n            android:text=&quot;19:00&quot;\r\n            android:textAllCaps=&quot;true&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:layout_margin=&quot;5dp&quot;/&gt;\r\n        &lt;TextView\r\n            android:textStyle=&quot;bold&quot;\r\n            android:layout_width=&quot;60dp&quot;\r\n            android:layout_height=&quot;60dp&quot;\r\n            android:text=&quot;19:00&quot;\r\n            android:textAllCaps=&quot;true&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:layout_margin=&quot;5dp&quot;\r\n            /&gt;\r\n    &lt;/TableRow&gt;\r\n\r\n\r\n&lt;/TableLayout&gt;\r\n```\r\n\r\n\r\n\r\n\r\n\r\nI tried this way, but I always get the row id and not the child id.\r\n\r\n\r\n\r\n```\r\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                         Bundle savedInstanceState) {\r\n    binding = FragmentWeekBinding.inflate(inflater, container, false);\r\n    View root = binding.getRoot();\r\n    binding.row16.setClickable(true);\r\n    binding.row16.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View view) {\r\n            int id = view.getId();\r\n            Toast.makeText(getContext(), &quot;pos:&quot; + id, Toast.LENGTH_SHORT).show();\r\n        }\r\n    });\r\n    return root;\r\n\r\n}\r\n```\r\n\r\nI also tried tag but it still doesn&#39;t work, does anyone have any solution to recommend? I would be very grateful\r\n","title":"managing a click on the element of an android tablelayout","body":"<p>I need to manage a specific time slot as shown in the picture.</p>\n<p><a href=\"https://i.stack.imgur.com/n1ZBR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n1ZBR.png\" alt=\"week\" /></a></p>\n<p>I need that when I click on a specific TextView, it opens a new fragment sending me which element was clicked on. That is the layout file</p>\n<pre><code>\n&lt;TableLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:layout_margin=&quot;15dp&quot;\n    android:id=&quot;@+id/tableLayoutWeek&quot;\n    &gt;\n    &lt;!--riga dei giorni--&gt;\n    &lt;TableRow\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;@color/blueBlack&quot;\n        android:padding=&quot;20dp&quot;\n\n        &gt;\n\n        &lt;TextView\n            android:layout_width=&quot;50dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_margin=&quot;5dp&quot;\n            android:text=&quot;lun&quot;\n            android:textAllCaps=&quot;true&quot;\n            android:textColor=&quot;#FFFFFF&quot; /&gt;\n\n        &lt;TextView\n            android:layout_width=&quot;60dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_margin=&quot;5dp&quot;\n            android:text=&quot;mar&quot;\n            android:textAllCaps=&quot;true&quot;\n            android:textColor=&quot;#FFFFFF&quot; /&gt;\n\n        &lt;TextView\n            android:layout_width=&quot;60dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_margin=&quot;5dp&quot;\n            android:text=&quot;mer&quot;\n            android:textAllCaps=&quot;true&quot;\n            android:textColor=&quot;#FFFFFF&quot; /&gt;\n\n        &lt;TextView\n            android:layout_width=&quot;60dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_margin=&quot;5dp&quot;\n            android:text=&quot;gio&quot;\n            android:textAllCaps=&quot;true&quot;\n            android:textColor=&quot;#FFFFFF&quot; /&gt;\n\n        &lt;TextView\n            android:layout_width=&quot;60dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_margin=&quot;5dp&quot;\n            android:text=&quot;ven&quot;\n            android:textAllCaps=&quot;true&quot;\n            android:textColor=&quot;#FFFFFF&quot; /&gt;\n    &lt;/TableRow&gt;\n    &lt;!--riga delle 16--&gt;\n    &lt;TableRow\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;@color/yellowRow&quot;\n        android:padding=&quot;20dp&quot;\n        android:id=&quot;@+id/row16&quot;\n\n        &gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/lun16&quot;\n            android:layout_width=&quot;60dp&quot;\n            android:layout_height=&quot;60dp&quot;\n            android:text=&quot;16:00&quot;\n            android:textStyle=&quot;bold&quot;\n            android:textAllCaps=&quot;true&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:layout_margin=&quot;5dp&quot;\n            /&gt;\n        &lt;TextView\n            android:id=&quot;@+id/mar16&quot;\n            android:textStyle=&quot;bold&quot;\n            android:layout_width=&quot;60dp&quot;\n            android:layout_height=&quot;60dp&quot;\n            android:text=&quot;16:00&quot;\n            android:textAllCaps=&quot;true&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:layout_margin=&quot;5dp&quot;/&gt;\n        &lt;TextView\n            android:tag=&quot;mer16&quot;\n            android:textStyle=&quot;bold&quot;\n            android:layout_width=&quot;60dp&quot;\n            android:layout_height=&quot;60dp&quot;\n            android:text=&quot;16:00&quot;\n            android:textAllCaps=&quot;true&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:layout_margin=&quot;5dp&quot;/&gt;\n        &lt;TextView\n            android:tag=&quot;gio16&quot;\n            android:textStyle=&quot;bold&quot;\n            android:layout_width=&quot;60dp&quot;\n            android:layout_height=&quot;60dp&quot;\n            android:text=&quot;16:00&quot;\n            android:textAllCaps=&quot;true&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:layout_margin=&quot;5dp&quot;/&gt;\n        &lt;TextView\n            android:tag=&quot;ven16&quot;\n            android:textStyle=&quot;bold&quot;\n            android:layout_width=&quot;60dp&quot;\n            android:layout_height=&quot;60dp&quot;\n            android:text=&quot;16:00&quot;\n            android:textAllCaps=&quot;true&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:layout_margin=&quot;5dp&quot;/&gt;\n    &lt;/TableRow&gt;\n    &lt;!--riga delle 17--&gt;\n    &lt;TableRow\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;@color/yellowRow&quot;\n        android:padding=&quot;20dp&quot;\n\n        &gt;\n\n        &lt;TextView\n            android:textStyle=&quot;bold&quot;\n            android:layout_width=&quot;60dp&quot;\n            android:layout_height=&quot;60dp&quot;\n            android:text=&quot;17:00&quot;\n            android:textAllCaps=&quot;true&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:layout_margin=&quot;5dp&quot;/&gt;\n        &lt;TextView\n            android:textStyle=&quot;bold&quot;\n            android:layout_width=&quot;60dp&quot;\n            android:layout_height=&quot;60dp&quot;\n            android:text=&quot;17:00&quot;\n            android:textAllCaps=&quot;true&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:layout_margin=&quot;5dp&quot;/&gt;\n        &lt;TextView\n            android:textStyle=&quot;bold&quot;\n            android:layout_width=&quot;60dp&quot;\n            android:layout_height=&quot;60dp&quot;\n            android:text=&quot;17:00&quot;\n            android:textAllCaps=&quot;true&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:layout_margin=&quot;5dp&quot;/&gt;\n        &lt;TextView\n            android:textStyle=&quot;bold&quot;\n            android:layout_width=&quot;60dp&quot;\n            android:layout_height=&quot;60dp&quot;\n            android:text=&quot;17:00&quot;\n            android:textAllCaps=&quot;true&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:layout_margin=&quot;5dp&quot;/&gt;\n        &lt;TextView\n            android:textStyle=&quot;bold&quot;\n            android:layout_width=&quot;60dp&quot;\n            android:layout_height=&quot;60dp&quot;\n            android:text=&quot;17:00&quot;\n            android:textAllCaps=&quot;true&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:layout_margin=&quot;5dp&quot;/&gt;\n    &lt;/TableRow&gt;\n    &lt;!--riga delle 18--&gt;\n    &lt;TableRow\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;@color/yellowRow&quot;\n        android:padding=&quot;20dp&quot;\n\n        &gt;\n\n        &lt;TextView\n            android:textStyle=&quot;bold&quot;\n            android:layout_width=&quot;60dp&quot;\n            android:layout_height=&quot;60dp&quot;\n            android:text=&quot;18:00&quot;\n            android:textAllCaps=&quot;true&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:layout_margin=&quot;5dp&quot;/&gt;\n        &lt;TextView\n            android:textStyle=&quot;bold&quot;\n            android:layout_width=&quot;60dp&quot;\n            android:layout_height=&quot;60dp&quot;\n            android:text=&quot;18:00&quot;\n            android:textAllCaps=&quot;true&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:layout_margin=&quot;5dp&quot;/&gt;\n        &lt;TextView\n            android:textStyle=&quot;bold&quot;\n            android:layout_width=&quot;60dp&quot;\n            android:layout_height=&quot;60dp&quot;\n            android:text=&quot;18:00&quot;\n            android:textAllCaps=&quot;true&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:layout_margin=&quot;5dp&quot;/&gt;\n        &lt;TextView\n            android:textStyle=&quot;bold&quot;\n            android:layout_width=&quot;60dp&quot;\n            android:layout_height=&quot;60dp&quot;\n            android:text=&quot;18:00&quot;\n            android:textAllCaps=&quot;true&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:layout_margin=&quot;5dp&quot;/&gt;\n        &lt;TextView\n            android:textStyle=&quot;bold&quot;\n            android:layout_width=&quot;60dp&quot;\n            android:layout_height=&quot;60dp&quot;\n            android:text=&quot;18:00&quot;\n            android:textAllCaps=&quot;true&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:layout_margin=&quot;5dp&quot;/&gt;\n    &lt;/TableRow&gt;\n    &lt;!--riga delle 19--&gt;\n    &lt;TableRow\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;@color/yellowRow&quot;\n        android:padding=&quot;20dp&quot;\n\n        &gt;\n\n        &lt;TextView\n            android:textStyle=&quot;bold&quot;\n            android:layout_width=&quot;60dp&quot;\n            android:layout_height=&quot;60dp&quot;\n            android:text=&quot;19:00&quot;\n            android:textAllCaps=&quot;true&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:layout_margin=&quot;5dp&quot;/&gt;\n        &lt;TextView\n            android:textStyle=&quot;bold&quot;\n            android:layout_width=&quot;60dp&quot;\n            android:layout_height=&quot;60dp&quot;\n            android:text=&quot;19:00&quot;\n            android:textAllCaps=&quot;true&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:layout_margin=&quot;5dp&quot;/&gt;\n        &lt;TextView\n            android:textStyle=&quot;bold&quot;\n            android:layout_width=&quot;60dp&quot;\n            android:layout_height=&quot;60dp&quot;\n            android:text=&quot;19:00&quot;\n            android:textAllCaps=&quot;true&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:layout_margin=&quot;5dp&quot;/&gt;\n        &lt;TextView\n            android:textStyle=&quot;bold&quot;\n            android:layout_width=&quot;60dp&quot;\n            android:layout_height=&quot;60dp&quot;\n            android:text=&quot;19:00&quot;\n            android:textAllCaps=&quot;true&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:layout_margin=&quot;5dp&quot;/&gt;\n        &lt;TextView\n            android:textStyle=&quot;bold&quot;\n            android:layout_width=&quot;60dp&quot;\n            android:layout_height=&quot;60dp&quot;\n            android:text=&quot;19:00&quot;\n            android:textAllCaps=&quot;true&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:layout_margin=&quot;5dp&quot;\n            /&gt;\n    &lt;/TableRow&gt;\n\n\n&lt;/TableLayout&gt;\n</code></pre>\n<p>I tried this way, but I always get the row id and not the child id.</p>\n<pre><code>public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\n    binding = FragmentWeekBinding.inflate(inflater, container, false);\n    View root = binding.getRoot();\n    binding.row16.setClickable(true);\n    binding.row16.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            int id = view.getId();\n            Toast.makeText(getContext(), &quot;pos:&quot; + id, Toast.LENGTH_SHORT).show();\n        }\n    });\n    return root;\n\n}\n</code></pre>\n<p>I also tried tag but it still doesn't work, does anyone have any solution to recommend? I would be very grateful</p>\n"},{"tags":["java","spring","spring-boot"],"owner":{"account_id":13254073,"reputation":23,"user_id":9570749,"display_name":"Pawan Gorai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671102205,"creation_date":1671102205,"question_id":74810510,"body_markdown":"How can I pass the custom created property source `dbProps` to @PropertySource annotation or is there any way to bind the `dbProps` with a class like how we used to do with other properties file placed in classpath ?","title":"Annotation to bind custom property source in spring","body":"<p>How can I pass the custom created property source <code>dbProps</code> to @PropertySource annotation or is there any way to bind the <code>dbProps</code> with a class like how we used to do with other properties file placed in classpath ?</p>\n"},{"tags":["java","encryption","encoding"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1671081360,"post_id":74806645,"comment_id":132022050,"body_markdown":"Why don&#39;t you just use a [Map](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html)?","body":"Why don&#39;t you just use a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html\" rel=\"nofollow noreferrer\">Map</a>?"}],"answers":[{"tags":[],"owner":{"account_id":9072254,"reputation":1014,"user_id":6754986,"display_name":"LinFelix"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671101949,"creation_date":1671101949,"answer_id":74810455,"question_id":74806645,"body_markdown":"There are two little issues with your code:\r\n\r\n1. In your inner loop you are incrementing the outer index. It should be `j` instead of `i` as in \r\n```\r\n for (int j = i + 1; j &lt; phrase.length; ++j) {\r\n   // ...\r\n }\r\n```\r\n\r\n2. You are breaking your inner loop prematurely. Either remove the `else { break; }` or replace the `break;` with `continue;`","title":"Java - Encoding a string / Assigning a random (unused) letter to specific letters","body":"<p>There are two little issues with your code:</p>\n<ol>\n<li>In your inner loop you are incrementing the outer index. It should be <code>j</code> instead of <code>i</code> as in</li>\n</ol>\n<pre><code> for (int j = i + 1; j &lt; phrase.length; ++j) {\n   // ...\n }\n</code></pre>\n<ol start=\"2\">\n<li>You are breaking your inner loop prematurely. Either remove the <code>else { break; }</code> or replace the <code>break;</code> with <code>continue;</code></li>\n</ol>\n"}],"owner":{"account_id":26351919,"reputation":1,"user_id":20009408,"display_name":"Tubescreamer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671101949,"creation_date":1671076246,"question_id":74806645,"body_markdown":"I&#39;m trying to make a cryptogram program in which the letters in a string of text are replaced with other randomly-generated letters. For example, the phrase &quot;Beggars can&#39;t be choosers&quot;, would look something like &quot;rannlxm zlpo ra zbddmaxm&quot;. \r\n\r\nMy current problem is that the random letter that is being generated for a specific letter is not being applied to other matching letters in the string (All &#39;g&#39; characters in the original string should be an &#39;n&#39; (or whichever random letter was generated) in the encoded string). I&#39;m sure that there&#39;s a relatively simple solution that I&#39;m missing, so any advice is greatly appreciated.\r\n\r\nAfter passing my char array to my encoder method, I&#39;m trying to iterate through the elements in the array to check for matching letter values. If a matching letter is found, the corresponding index of the encoded character array should be assigned the random letter that was previously generated for the original letter, until the original text string and all of its letters are encoded.\r\n\r\n```java\r\n//Method to create an encoded phrase\r\npublic static String phraseEncoder(char[] phrase) {\r\n\tRandom rand = new Random();\r\n\tchar letter = &#39;*&#39;;\t\t\t\t\r\n\tchar randomLetter = &#39;*&#39;;\r\n\tchar[] encodedChars = new char[phrase.length];\t//Char array that will hold the encoded letters\r\n\tString encodedPhrase = &quot;&quot;;\r\n\tArrayList&lt;Character&gt; encryptedChars = new ArrayList&lt;Character&gt;();\r\n\r\n\t//Iterate through the elements in the array list to encode the characters\r\n\tfor (int i = 0; i &lt; phrase.length; ++i) {\r\n\t\trandomLetter = (char)(rand.nextInt(26) + &#39;a&#39;);\r\n\r\n\t\t//Determine if the character at the current index is a letter\r\n\t\tif (Character.isLetter(phrase[i])) {\r\n\t        letter = phrase[i];\r\n\t\t\tencodedChars[i] = randomLetter;\r\n\r\n\t\t\t//Check the rest of the array for matching characters\r\n\t\t\tfor (int j = i + 1; j &lt; phrase.length; ++i) {\r\n\r\n\t\t\t\t//If a matching letter is found, change it to the previously defined random letter\r\n\t\t\t\tif (phrase[j] == letter) {\r\n\t\t\t\t\tencodedChars[j] = randomLetter;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//If a matching letter is not found, continue to check the rest of the loop\r\n\t\t\t\telse {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//Character at current index is not a letter, add it to the encodedChars array and move to the next element\r\n\t\telse {\r\n\t\t\tencodedChars[i] = phrase[i];\r\n\t\t}\r\n\t\tencryptedChars.add(randomLetter);\r\n\t}\r\n\tencodedPhrase = String.valueOf(encodedChars);\r\n\treturn encodedPhrase;\r\n}\r\n```\r\n\r\nI&#39;ve tried creating an `ArrayList` that holds my randomly generated letters, so that no random letters are repeated. My brain is failing me and I can&#39;t seem to figure out what I&#39;m doing wrong now.","title":"Java - Encoding a string / Assigning a random (unused) letter to specific letters","body":"<p>I'm trying to make a cryptogram program in which the letters in a string of text are replaced with other randomly-generated letters. For example, the phrase &quot;Beggars can't be choosers&quot;, would look something like &quot;rannlxm zlpo ra zbddmaxm&quot;.</p>\n<p>My current problem is that the random letter that is being generated for a specific letter is not being applied to other matching letters in the string (All 'g' characters in the original string should be an 'n' (or whichever random letter was generated) in the encoded string). I'm sure that there's a relatively simple solution that I'm missing, so any advice is greatly appreciated.</p>\n<p>After passing my char array to my encoder method, I'm trying to iterate through the elements in the array to check for matching letter values. If a matching letter is found, the corresponding index of the encoded character array should be assigned the random letter that was previously generated for the original letter, until the original text string and all of its letters are encoded.</p>\n<pre class=\"lang-java prettyprint-override\"><code>//Method to create an encoded phrase\npublic static String phraseEncoder(char[] phrase) {\n    Random rand = new Random();\n    char letter = '*';              \n    char randomLetter = '*';\n    char[] encodedChars = new char[phrase.length];  //Char array that will hold the encoded letters\n    String encodedPhrase = &quot;&quot;;\n    ArrayList&lt;Character&gt; encryptedChars = new ArrayList&lt;Character&gt;();\n\n    //Iterate through the elements in the array list to encode the characters\n    for (int i = 0; i &lt; phrase.length; ++i) {\n        randomLetter = (char)(rand.nextInt(26) + 'a');\n\n        //Determine if the character at the current index is a letter\n        if (Character.isLetter(phrase[i])) {\n            letter = phrase[i];\n            encodedChars[i] = randomLetter;\n\n            //Check the rest of the array for matching characters\n            for (int j = i + 1; j &lt; phrase.length; ++i) {\n\n                //If a matching letter is found, change it to the previously defined random letter\n                if (phrase[j] == letter) {\n                    encodedChars[j] = randomLetter;\n                }\n\n                //If a matching letter is not found, continue to check the rest of the loop\n                else {\n                    break;\n                }\n            }\n        }\n\n        //Character at current index is not a letter, add it to the encodedChars array and move to the next element\n        else {\n            encodedChars[i] = phrase[i];\n        }\n        encryptedChars.add(randomLetter);\n    }\n    encodedPhrase = String.valueOf(encodedChars);\n    return encodedPhrase;\n}\n</code></pre>\n<p>I've tried creating an <code>ArrayList</code> that holds my randomly generated letters, so that no random letters are repeated. My brain is failing me and I can't seem to figure out what I'm doing wrong now.</p>\n"},{"tags":["java","android","react-native"],"owner":{"account_id":27260441,"reputation":41,"user_id":20783355,"display_name":"Tam Nguyen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":331,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1671101905,"creation_date":1671101817,"question_id":74810428,"body_markdown":"```\r\n2022-12-15 17:47:42.350 7215-7254/com.affina.agency E/AndroidRuntime: FATAL EXCEPTION: mqt_native_modules\r\n    Process: com.affina.agency, PID: 7215\r\n    java.lang.RuntimeException: Could not invoke PayooSDKAndroidModule.pay\r\n        at com.facebook.react.bridge.JavaMethodWrapper.invoke(Unknown Source:192)\r\n        at com.facebook.react.bridge.JavaModuleWrapper.invoke(Unknown Source:147)\r\n        at com.facebook.jni.NativeRunnable.run(Native Method)\r\n        at android.os.Handler.handleCallback(Handler.java:883)\r\n        at android.os.Handler.dispatchMessage(Handler.java:100)\r\n        at com.facebook.react.bridge.queue.MessageQueueThreadHandler.dispatchMessage(Unknown Source:0)\r\n        at android.os.Looper.loop(Looper.java:214)\r\n        at com.facebook.react.bridge.queue.MessageQueueThreadImpl$4.run(Unknown Source:37)\r\n        at java.lang.Thread.run(Thread.java:919)\r\n     Caused by: java.lang.reflect.InvocationTargetException\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.facebook.react.bridge.JavaMethodWrapper.invoke(Unknown Source:148)\r\n        at com.facebook.react.bridge.JavaModuleWrapper.invoke(Unknown Source:147)&#160;\r\n        at com.facebook.jni.NativeRunnable.run(Native Method)&#160;\r\n        at android.os.Handler.handleCallback(Handler.java:883)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:100)&#160;\r\n        at com.facebook.react.bridge.queue.MessageQueueThreadHandler.dispatchMessage(Unknown Source:0)&#160;\r\n        at android.os.Looper.loop(Looper.java:214)&#160;\r\n        at com.facebook.react.bridge.queue.MessageQueueThreadImpl$4.run(Unknown Source:37)&#160;\r\n        at java.lang.Thread.run(Thread.java:919)&#160;\r\n     Caused by: java.lang.AssertionError: java.lang.NoSuchFieldException: EXTERNAL\r\n        at va.n$j0.&lt;init&gt;(Unknown Source:87)\r\n        at va.n$w.b(Unknown Source:27)\r\n        at sa.f.k(Unknown Source:74)\r\n        at va.i.a(Unknown Source:42)\r\n        at va.i.e(Unknown Source:123)\r\n        at va.i.b(Unknown Source:22)\r\n        at sa.f.k(Unknown Source:74)\r\n        at va.b.b(Unknown Source:26)\r\n        at sa.f.k(Unknown Source:74)\r\n        at va.i.a(Unknown Source:42)\r\n        at va.i.e(Unknown Source:123)\r\n        at va.i.b(Unknown Source:22)\r\n        at sa.f.k(Unknown Source:74)\r\n        at va.i.a(Unknown Source:42)\r\n        at va.i.e(Unknown Source:123)\r\n        at va.i.b(Unknown Source:22)\r\n        at sa.f.k(Unknown Source:74)\r\n        at pf.a.d(Unknown Source:6)\r\n        at nf.s.g(Unknown Source:35)\r\n        at nf.s.i(Unknown Source:1)\r\n        at nf.i.e(Unknown Source:4)\r\n        at nf.i.f(Unknown Source:109)\r\n        at nf.t.b(Unknown Source:19)\r\n        at nf.s.d(Unknown Source:24)\r\n        at nf.s$a.invoke(Unknown Source:32)\r\n        at java.lang.reflect.Proxy.invoke(Proxy.java:1006)\r\n        at $Proxy8.k(Unknown Source)\r\n        at f.b.k(Unknown Source:7)\r\n        at c.g.a(Unknown Source:12)\r\n        at vn.payoo.paymentsdk.PayooPaymentSDK$Companion.pay(Unknown Source:13)\r\n        at vn.payoo.paymentsdk.PayooPaymentSDK$Companion.pay(Unknown Source:130)\r\n        at vn.payoo.paymentsdk.PayooPaymentSDK.pay(Unknown Source:5)\r\n        at com.affina.agency.PayooSDKAndroidModule.pay(Unknown Source:214)\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.facebook.react.bridge.JavaMethodWrapper.invoke(Unknown Source:148)&#160;\r\n        at com.facebook.react.bridge.JavaModuleWrapper.invoke(Unknown Source:147)&#160;\r\n        at com.facebook.jni.NativeRunnable.run(Native Method)&#160;\r\n        at android.os.Handler.handleCallback(Handler.java:883)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:100)&#160;\r\n        at com.facebook.react.bridge.queue.MessageQueueThreadHandler.dispatchMessage(Unknown Source:0)&#160;\r\n        at android.os.Looper.loop(Looper.java:214)&#160;\r\n        at com.facebook.react.bridge.queue.MessageQueueThreadImpl$4.run(Unknown Source:37)&#160;\r\n        at java.lang.Thread.run(Thread.java:919)&#160;\r\n     Caused by: java.lang.NoSuchFieldException: EXTERNAL\r\n        at java.lang.Class.getField(Class.java:1604)\r\n        at va.n$j0.&lt;init&gt;(Unknown Source:34)\r\n        at va.n$w.b(Unknown Source:27)&#160;\r\n        at sa.f.k(Unknown Source:74)&#160;\r\n        at va.i.a(Unknown Source:42)&#160;\r\n        at va.i.e(Unknown Source:123)&#160;\r\n        at va.i.b(Unknown Source:22)&#160;\r\n        at sa.f.k(Unknown Source:74)&#160;\r\n        at va.b.b(Unknown Source:26)&#160;\r\n        at sa.f.k(Unknown Source:74)&#160;\r\n        at va.i.a(Unknown Source:42)&#160;\r\n        at va.i.e(Unknown Source:123)&#160;\r\n        at va.i.b(Unknown Source:22)&#160;\r\n        at sa.f.k(Unknown Source:74)&#160;\r\n        at va.i.a(Unknown Source:42)&#160;\r\n        at va.i.e(Unknown Source:123)&#160;\r\n        at va.i.b(Unknown Source:22)&#160;\r\n        at sa.f.k(Unknown Source:74)&#160;\r\n        at pf.a.d(Unknown Source:6)&#160;\r\n        at nf.s.g(Unknown Source:35)&#160;\r\n        at nf.s.i(Unknown Source:1)&#160;\r\n        at nf.i.e(Unknown Source:4)&#160;\r\n        at nf.i.f(Unknown Source:109)&#160;\r\n        at nf.t.b(Unknown Source:19)&#160;\r\n        at nf.s.d(Unknown Source:24)&#160;\r\n        at nf.s$a.invoke(Unknown Source:32)&#160;\r\n        at java.lang.reflect.Proxy.invoke(Proxy.java:1006)&#160;\r\n        at $Proxy8.k(Unknown Source)&#160;\r\n        at f.b.k(Unknown Source:7)&#160;\r\n        at c.g.a(Unknown Source:12)&#160;\r\n        at vn.payoo.paymentsdk.PayooPaymentSDK$Companion.pay(Unknown Source:13)&#160;\r\n        at vn.payoo.paymentsdk.PayooPaymentSDK$Companion.pay(Unknown Source:130)&#160;\r\n        at vn.payoo.paymentsdk.PayooPaymentSDK.pay(Unknown Source:5)&#160;\r\n        at com.affina.agency.PayooSDKAndroidModule.pay(Unknown Source:214)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.facebook.react.bridge.JavaMethodWrapper.invoke(Unknown Source:148)&#160;\r\n        at com.facebook.react.bridge.JavaModuleWrapper.invoke(Unknown Source:147)&#160;\r\n        at com.facebook.jni.NativeRunnable.run(Native Method)&#160;\r\n        at android.os.Handler.handleCallback(Handler.java:883)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:100)&#160;\r\n        at com.facebook.react.bridge.queue.MessageQueueThreadHandler.dispatchMessage(Unknown Source:0)&#160;\r\n        at android.os.Looper.loop(Looper.java:214)&#160;\r\n        at com.facebook.react.bridge.queue.MessageQueueThreadImpl$4.run(Unknown Source:37)&#160;\r\n        at java.lang.Thread.run(Thread.java:919)&#160;\r\n```\r\n\r\nI added an external library to my React Native application and it worked fine during development, but when I built the release apk, it failed and I still don&#39;t have a solution for it.\r\n\r\nI tried deleting the gradlew cache and looking at its documentation, but it still didn&#39;t work. It still works fine on the development environment, but when I build the release apk, it fails as mentioned above.","title":"FATAL EXCEPTION: mqt_native_modules","body":"<pre><code>2022-12-15 17:47:42.350 7215-7254/com.affina.agency E/AndroidRuntime: FATAL EXCEPTION: mqt_native_modules\n    Process: com.affina.agency, PID: 7215\n    java.lang.RuntimeException: Could not invoke PayooSDKAndroidModule.pay\n        at com.facebook.react.bridge.JavaMethodWrapper.invoke(Unknown Source:192)\n        at com.facebook.react.bridge.JavaModuleWrapper.invoke(Unknown Source:147)\n        at com.facebook.jni.NativeRunnable.run(Native Method)\n        at android.os.Handler.handleCallback(Handler.java:883)\n        at android.os.Handler.dispatchMessage(Handler.java:100)\n        at com.facebook.react.bridge.queue.MessageQueueThreadHandler.dispatchMessage(Unknown Source:0)\n        at android.os.Looper.loop(Looper.java:214)\n        at com.facebook.react.bridge.queue.MessageQueueThreadImpl$4.run(Unknown Source:37)\n        at java.lang.Thread.run(Thread.java:919)\n     Caused by: java.lang.reflect.InvocationTargetException\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.facebook.react.bridge.JavaMethodWrapper.invoke(Unknown Source:148)\n        at com.facebook.react.bridge.JavaModuleWrapper.invoke(Unknown Source:147) \n        at com.facebook.jni.NativeRunnable.run(Native Method) \n        at android.os.Handler.handleCallback(Handler.java:883) \n        at android.os.Handler.dispatchMessage(Handler.java:100) \n        at com.facebook.react.bridge.queue.MessageQueueThreadHandler.dispatchMessage(Unknown Source:0) \n        at android.os.Looper.loop(Looper.java:214) \n        at com.facebook.react.bridge.queue.MessageQueueThreadImpl$4.run(Unknown Source:37) \n        at java.lang.Thread.run(Thread.java:919) \n     Caused by: java.lang.AssertionError: java.lang.NoSuchFieldException: EXTERNAL\n        at va.n$j0.&lt;init&gt;(Unknown Source:87)\n        at va.n$w.b(Unknown Source:27)\n        at sa.f.k(Unknown Source:74)\n        at va.i.a(Unknown Source:42)\n        at va.i.e(Unknown Source:123)\n        at va.i.b(Unknown Source:22)\n        at sa.f.k(Unknown Source:74)\n        at va.b.b(Unknown Source:26)\n        at sa.f.k(Unknown Source:74)\n        at va.i.a(Unknown Source:42)\n        at va.i.e(Unknown Source:123)\n        at va.i.b(Unknown Source:22)\n        at sa.f.k(Unknown Source:74)\n        at va.i.a(Unknown Source:42)\n        at va.i.e(Unknown Source:123)\n        at va.i.b(Unknown Source:22)\n        at sa.f.k(Unknown Source:74)\n        at pf.a.d(Unknown Source:6)\n        at nf.s.g(Unknown Source:35)\n        at nf.s.i(Unknown Source:1)\n        at nf.i.e(Unknown Source:4)\n        at nf.i.f(Unknown Source:109)\n        at nf.t.b(Unknown Source:19)\n        at nf.s.d(Unknown Source:24)\n        at nf.s$a.invoke(Unknown Source:32)\n        at java.lang.reflect.Proxy.invoke(Proxy.java:1006)\n        at $Proxy8.k(Unknown Source)\n        at f.b.k(Unknown Source:7)\n        at c.g.a(Unknown Source:12)\n        at vn.payoo.paymentsdk.PayooPaymentSDK$Companion.pay(Unknown Source:13)\n        at vn.payoo.paymentsdk.PayooPaymentSDK$Companion.pay(Unknown Source:130)\n        at vn.payoo.paymentsdk.PayooPaymentSDK.pay(Unknown Source:5)\n        at com.affina.agency.PayooSDKAndroidModule.pay(Unknown Source:214)\n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.facebook.react.bridge.JavaMethodWrapper.invoke(Unknown Source:148) \n        at com.facebook.react.bridge.JavaModuleWrapper.invoke(Unknown Source:147) \n        at com.facebook.jni.NativeRunnable.run(Native Method) \n        at android.os.Handler.handleCallback(Handler.java:883) \n        at android.os.Handler.dispatchMessage(Handler.java:100) \n        at com.facebook.react.bridge.queue.MessageQueueThreadHandler.dispatchMessage(Unknown Source:0) \n        at android.os.Looper.loop(Looper.java:214) \n        at com.facebook.react.bridge.queue.MessageQueueThreadImpl$4.run(Unknown Source:37) \n        at java.lang.Thread.run(Thread.java:919) \n     Caused by: java.lang.NoSuchFieldException: EXTERNAL\n        at java.lang.Class.getField(Class.java:1604)\n        at va.n$j0.&lt;init&gt;(Unknown Source:34)\n        at va.n$w.b(Unknown Source:27) \n        at sa.f.k(Unknown Source:74) \n        at va.i.a(Unknown Source:42) \n        at va.i.e(Unknown Source:123) \n        at va.i.b(Unknown Source:22) \n        at sa.f.k(Unknown Source:74) \n        at va.b.b(Unknown Source:26) \n        at sa.f.k(Unknown Source:74) \n        at va.i.a(Unknown Source:42) \n        at va.i.e(Unknown Source:123) \n        at va.i.b(Unknown Source:22) \n        at sa.f.k(Unknown Source:74) \n        at va.i.a(Unknown Source:42) \n        at va.i.e(Unknown Source:123) \n        at va.i.b(Unknown Source:22) \n        at sa.f.k(Unknown Source:74) \n        at pf.a.d(Unknown Source:6) \n        at nf.s.g(Unknown Source:35) \n        at nf.s.i(Unknown Source:1) \n        at nf.i.e(Unknown Source:4) \n        at nf.i.f(Unknown Source:109) \n        at nf.t.b(Unknown Source:19) \n        at nf.s.d(Unknown Source:24) \n        at nf.s$a.invoke(Unknown Source:32) \n        at java.lang.reflect.Proxy.invoke(Proxy.java:1006) \n        at $Proxy8.k(Unknown Source) \n        at f.b.k(Unknown Source:7) \n        at c.g.a(Unknown Source:12) \n        at vn.payoo.paymentsdk.PayooPaymentSDK$Companion.pay(Unknown Source:13) \n        at vn.payoo.paymentsdk.PayooPaymentSDK$Companion.pay(Unknown Source:130) \n        at vn.payoo.paymentsdk.PayooPaymentSDK.pay(Unknown Source:5) \n        at com.affina.agency.PayooSDKAndroidModule.pay(Unknown Source:214) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.facebook.react.bridge.JavaMethodWrapper.invoke(Unknown Source:148) \n        at com.facebook.react.bridge.JavaModuleWrapper.invoke(Unknown Source:147) \n        at com.facebook.jni.NativeRunnable.run(Native Method) \n        at android.os.Handler.handleCallback(Handler.java:883) \n        at android.os.Handler.dispatchMessage(Handler.java:100) \n        at com.facebook.react.bridge.queue.MessageQueueThreadHandler.dispatchMessage(Unknown Source:0) \n        at android.os.Looper.loop(Looper.java:214) \n        at com.facebook.react.bridge.queue.MessageQueueThreadImpl$4.run(Unknown Source:37) \n        at java.lang.Thread.run(Thread.java:919) \n</code></pre>\n<p>I added an external library to my React Native application and it worked fine during development, but when I built the release apk, it failed and I still don't have a solution for it.</p>\n<p>I tried deleting the gradlew cache and looking at its documentation, but it still didn't work. It still works fine on the development environment, but when I build the release apk, it fails as mentioned above.</p>\n"},{"tags":["java","spring-security","project-reactor"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1671101790,"post_id":74810154,"comment_id":132027411,"body_markdown":"Which `SecurityContextHolder` are you using? As there is a regular one and a reactive one, I suspect you are using the regular one and not the reactive version.","body":"Which <code>SecurityContextHolder</code> are you using? As there is a regular one and a reactive one, I suspect you are using the regular one and not the reactive version."},{"owner":{"account_id":6138689,"reputation":67,"user_id":4786733,"display_name":"Anton"},"score":0,"creation_date":1671107610,"post_id":74810154,"comment_id":132029420,"body_markdown":"When writin\n```java\nreturn ReactiveSecurityContextHolder.getContext()\n              .doOnNext(securityContext -&gt; log.info(&quot;SC: {}&quot;, securityContext.getAuthentication()))\n```\nin the operation listed above, the operation times out strangely.","body":"When writin <code>java return ReactiveSecurityContextHolder.getContext()               .doOnNext(securityContext -&gt; log.info(&quot;SC: {}&quot;, securityContext.getAuthentication())) </code> in the operation listed above, the operation times out strangely."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1671107736,"post_id":74810154,"comment_id":132029472,"body_markdown":"That is the one you should use.","body":"That is the one you should use."},{"owner":{"account_id":6138689,"reputation":67,"user_id":4786733,"display_name":"Anton"},"score":0,"creation_date":1671116277,"post_id":74810154,"comment_id":132032810,"body_markdown":"Thank you!\nAnother thing I noticed:\n`.contextCapture()` is only available from `reactor-core` 3.5.0 on, while the one supplied with `spring-boot-starter-webflux` before spring boot 3 is 3.4.x.\nIf you include `reactor-core` &gt; `3.5.0` manually, the system stops working, as `ReactiveSecurityContextHolder.getContext()` calls a function removed in `3.5.x`","body":"Thank you! Another thing I noticed: <code>.contextCapture()</code> is only available from <code>reactor-core</code> 3.5.0 on, while the one supplied with <code>spring-boot-starter-webflux</code> before spring boot 3 is 3.4.x. If you include <code>reactor-core</code> &gt; <code>3.5.0</code> manually, the system stops working, as <code>ReactiveSecurityContextHolder.getContext()</code> calls a function removed in <code>3.5.x</code>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1671116673,"post_id":74810154,"comment_id":132032971,"body_markdown":"Version of webflux are tied to a range of versions of Project Reactor (or maybe even a single version). So if you are on a previous version YMMV or you might need a different way.","body":"Version of webflux are tied to a range of versions of Project Reactor (or maybe even a single version). So if you are on a previous version YMMV or you might need a different way."},{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1671211176,"post_id":74810154,"comment_id":132057716,"body_markdown":"`onNext` is so-called side effect operator that is sync and reactive flow will not be resolved.  Also,  not sure why you constructing flow like this and subscribing explicitly. Just return `Mono` and webflux will subscribe to it behind the scene https://stackoverflow.com/a/71541008/9068895","body":"<code>onNext</code> is so-called side effect operator that is sync and reactive flow will not be resolved.  Also,  not sure why you constructing flow like this and subscribing explicitly. Just return <code>Mono</code> and webflux will subscribe to it behind the scene <a href=\"https://stackoverflow.com/a/71541008/9068895\">stackoverflow.com/a/71541008/9068895</a>"}],"owner":{"account_id":6138689,"reputation":67,"user_id":4786733,"display_name":"Anton"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":514,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671101327,"creation_date":1671100388,"question_id":74810154,"body_markdown":"I am currently in the process of creating a service which processes requests with the [Project Reactor](https://projectreactor.io/) library.  \r\nTo communicate with external services, each requests to the main service contains a [JSON Web Token](https://jwt.io/), which it needs to add to any request made to external services.  \r\nTo facilitate this, there exists a `service-client` library, which retrieves the token from\r\nthe `SecurityContext` on each request, and adds it to the request.\r\n\r\nWhat I am now struggling with is how to transfer the security context from the point of entry (the endpoint of the main service) to the point of exit (the `service-client` request), as the security context does not get transferred automatically between operators.\r\n\r\nI have already included the [Context Propagation](https://micrometer.io/docs/contextPropagation) library into the service, as proposed [here](https://micrometer.io/docs/contextPropagation), but it does not seem to capture the security context.  \r\nI also found a [blog post](https://domenicosibilio.medium.com/the-good-the-bad-and-the-ugly-of-propagating-data-through-reactive-streams-62beac48789e), which mentions the following: \r\n&gt; [..] the Spring Security authentication context is retrieved from the Project Reactor’s context since the latter is already filled with it by the Spring WebFlux Security module.\r\n\r\nThis sounds like what I am looking for, but I have not been able to replicate this so far, although I include both `spring-boot-starter-webflux` and `spring-boot-starter-security` into the project.\r\n\r\nAs a short sketch, this is what I am attempting to do:\r\n```java\r\npublic void handleRequest(Request request) {\r\n    SecurityContextHolder.getContext().setAuthentication(new BearerTokenAuthenticationToken(request.authorization()));\r\n    Mono.just(request)\r\n      .onNext(request -&gt; {\r\n        return Mono.deferContextual(contextView -&gt; {\r\n            contextView.stream().forEach(objectObjectEntry -&gt; log.info(&quot;Key: {}, Value: {}&quot;, objectObjectEntry.getKey(), objectObjectEntry.getValue()));  //here I would like to see the authorization set above\r\n            Authentication auth = SecurityContextHolder.getContext().getAuthentication(); // Seeing the authentication object set above here is the goal, so that I can access it in the library.\r\n            return acknowledger.acknowledge();\r\n          })\r\n      })\r\n      .contextCapture()\r\n      .subscribe()\r\n}\r\n```\r\nDoes someone know how to solve this?","title":"Access Security Context inside a Project Reactor Operator","body":"<p>I am currently in the process of creating a service which processes requests with the <a href=\"https://projectreactor.io/\" rel=\"nofollow noreferrer\">Project Reactor</a> library.<br />\nTo communicate with external services, each requests to the main service contains a <a href=\"https://jwt.io/\" rel=\"nofollow noreferrer\">JSON Web Token</a>, which it needs to add to any request made to external services.<br />\nTo facilitate this, there exists a <code>service-client</code> library, which retrieves the token from\nthe <code>SecurityContext</code> on each request, and adds it to the request.</p>\n<p>What I am now struggling with is how to transfer the security context from the point of entry (the endpoint of the main service) to the point of exit (the <code>service-client</code> request), as the security context does not get transferred automatically between operators.</p>\n<p>I have already included the <a href=\"https://micrometer.io/docs/contextPropagation\" rel=\"nofollow noreferrer\">Context Propagation</a> library into the service, as proposed <a href=\"https://micrometer.io/docs/contextPropagation\" rel=\"nofollow noreferrer\">here</a>, but it does not seem to capture the security context.<br />\nI also found a <a href=\"https://domenicosibilio.medium.com/the-good-the-bad-and-the-ugly-of-propagating-data-through-reactive-streams-62beac48789e\" rel=\"nofollow noreferrer\">blog post</a>, which mentions the following:</p>\n<blockquote>\n<p>[..] the Spring Security authentication context is retrieved from the Project Reactor’s context since the latter is already filled with it by the Spring WebFlux Security module.</p>\n</blockquote>\n<p>This sounds like what I am looking for, but I have not been able to replicate this so far, although I include both <code>spring-boot-starter-webflux</code> and <code>spring-boot-starter-security</code> into the project.</p>\n<p>As a short sketch, this is what I am attempting to do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void handleRequest(Request request) {\n    SecurityContextHolder.getContext().setAuthentication(new BearerTokenAuthenticationToken(request.authorization()));\n    Mono.just(request)\n      .onNext(request -&gt; {\n        return Mono.deferContextual(contextView -&gt; {\n            contextView.stream().forEach(objectObjectEntry -&gt; log.info(&quot;Key: {}, Value: {}&quot;, objectObjectEntry.getKey(), objectObjectEntry.getValue()));  //here I would like to see the authorization set above\n            Authentication auth = SecurityContextHolder.getContext().getAuthentication(); // Seeing the authentication object set above here is the goal, so that I can access it in the library.\n            return acknowledger.acknowledge();\n          })\n      })\n      .contextCapture()\n      .subscribe()\n}\n</code></pre>\n<p>Does someone know how to solve this?</p>\n"},{"tags":["java","google-cloud-platform","google-bigquery","google-cloud-resource-manager"],"answers":[{"tags":[],"owner":{"account_id":3955304,"reputation":620,"user_id":3264037,"display_name":"kasiacode"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671100813,"creation_date":1671100813,"answer_id":74810233,"question_id":74798748,"body_markdown":"Apparently the replacement for `list` is `search` method with empty query string:\r\n\r\n```\r\nProjectsSettings projectsSettings = ProjectsSettings.newBuilder().build();\r\nProjectsClient projectsClient = ProjectsClient.create(projectsSettings);\r\n\r\nProjectsClient.SearchProjectsPagedResponse searchProjectsPagedResponse = projectsClient.searchProjects(&quot;&quot;);\r\n\r\nfor (Project project : searchProjectsPagedResponse.iterateAll()) {\r\n        System.out.println(project.getDisplayName());\r\n};\r\n```","title":"How list available BigQuery projects without parent?","body":"<p>Apparently the replacement for <code>list</code> is <code>search</code> method with empty query string:</p>\n<pre><code>ProjectsSettings projectsSettings = ProjectsSettings.newBuilder().build();\nProjectsClient projectsClient = ProjectsClient.create(projectsSettings);\n\nProjectsClient.SearchProjectsPagedResponse searchProjectsPagedResponse = projectsClient.searchProjects(&quot;&quot;);\n\nfor (Project project : searchProjectsPagedResponse.iterateAll()) {\n        System.out.println(project.getDisplayName());\n};\n</code></pre>\n"}],"owner":{"account_id":3955304,"reputation":620,"user_id":3264037,"display_name":"kasiacode"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671100813,"creation_date":1671023171,"question_id":74798748,"body_markdown":"I am using Java client and I would like to list all projects that user has access to (as it appears in GCP console).\r\n1. As documentation says it is recommended to use ResourceManager library instead of [BigQuery][1] ([BigQuery][2] library has no classes to retrieve projects - there is another one called [Bigquery][3] (small q) that has some api for calling project, but documentation claims it is using ResourceManager underneath.\r\n2. I tried using [v3 library][4] version of ResourceManager but apparently it always requires the [parent id][5], but I don&#39;t want to give access for listing the folder above because in much more complicated architecture I would have to give access to all organisations and folders and prepare search of all projects. I would like only list projects that current user has access to.\r\n3. There is also possibility to use same library but with [v1 api][6] version which works like a charm... but it is deprecated and I am not sure how long it will be supported.\r\n4. I don&#39;t want to use any other clients than Java.\r\n\r\nDo you know solution using ResourceManager but not with parent or without granting too many privileges?\r\n\r\n\r\n  [1]: https://github.com/googleapis/google-cloud-java/issues/3397\r\n  [2]: https://googleapis.dev/java/google-cloud-bigquery/latest/com/google/cloud/bigquery/package-summary.html\r\n  [3]: https://developers.google.com/resources/api-libraries/documentation/bigquery/v2/java/latest/com/google/api/services/bigquery/Bigquery.Projects.html\r\n  [4]: https://cloud.google.com/resource-manager/reference/rest/v3/projects/list\r\n  [5]: https://cloud.google.com/java/docs/reference/google-cloud-resourcemanager/latest/com.google.cloud.resourcemanager.v3.ProjectsClient\r\n  [6]: https://cloud.google.com/resource-manager/reference/rest#rest-resource:-v1.projects","title":"How list available BigQuery projects without parent?","body":"<p>I am using Java client and I would like to list all projects that user has access to (as it appears in GCP console).</p>\n<ol>\n<li>As documentation says it is recommended to use ResourceManager library instead of <a href=\"https://github.com/googleapis/google-cloud-java/issues/3397\" rel=\"nofollow noreferrer\">BigQuery</a> (<a href=\"https://googleapis.dev/java/google-cloud-bigquery/latest/com/google/cloud/bigquery/package-summary.html\" rel=\"nofollow noreferrer\">BigQuery</a> library has no classes to retrieve projects - there is another one called <a href=\"https://developers.google.com/resources/api-libraries/documentation/bigquery/v2/java/latest/com/google/api/services/bigquery/Bigquery.Projects.html\" rel=\"nofollow noreferrer\">Bigquery</a> (small q) that has some api for calling project, but documentation claims it is using ResourceManager underneath.</li>\n<li>I tried using <a href=\"https://cloud.google.com/resource-manager/reference/rest/v3/projects/list\" rel=\"nofollow noreferrer\">v3 library</a> version of ResourceManager but apparently it always requires the <a href=\"https://cloud.google.com/java/docs/reference/google-cloud-resourcemanager/latest/com.google.cloud.resourcemanager.v3.ProjectsClient\" rel=\"nofollow noreferrer\">parent id</a>, but I don't want to give access for listing the folder above because in much more complicated architecture I would have to give access to all organisations and folders and prepare search of all projects. I would like only list projects that current user has access to.</li>\n<li>There is also possibility to use same library but with <a href=\"https://cloud.google.com/resource-manager/reference/rest#rest-resource:-v1.projects\" rel=\"nofollow noreferrer\">v1 api</a> version which works like a charm... but it is deprecated and I am not sure how long it will be supported.</li>\n<li>I don't want to use any other clients than Java.</li>\n</ol>\n<p>Do you know solution using ResourceManager but not with parent or without granting too many privileges?</p>\n"},{"tags":["java","list","sorting","linked-list","iterator"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671049089,"creation_date":1671045486,"answer_id":74803228,"question_id":74802671,"body_markdown":"Seems like the goal of your assignment is to learn how to deal with a `ListIterator`.\r\n\r\nThe core thing to understand about the `Iterator`s that their cursor always occupies a position in **between the elements** of the list (*and it might also be positioned before the first element and right after the last element*). And that&#39;s the position where a new element gets inserted when you invoke `ListIterator.add()`.\r\n\r\nHere&#39;s a quote from the [official tutorial Provided by Oracle][iterator]:\r\n\r\n&gt; Intuitively speaking, the cursor is always **between two elements** — the\r\n&gt; one that would be returned by a call to `previous` and the one that\r\n&gt; would be returned by a call to next. The `n+1` valid index values\r\n&gt; correspond to the `n+1` gaps between elements, from the gap before the\r\n&gt; first element to the gap after the last one. The following figure\r\n&gt; shows the five possible cursor positions in a list containing four\r\n&gt; elements.\r\n&gt; \r\n&gt; [![enter image description here][1]][1]\r\n\r\nIn the method `addInOrder()` you&#39;ve messed around with conditions. If fact, only one condition that would check if the `next` is lexicographically greater than the given string would be enough. If the `next` is greater we continue iteration, if not we need to move the iterator the previous position by calling `previous()` and then break from the loop.\r\n\r\nMethod `add()` will be invoked on the iterator after the loop, when iterator is the right position to insert a new element.\r\n\r\nThat&#39;s how you can fix your method:\r\n\r\n    public void addInOrder(String bread) {\r\n        ListIterator&lt;String&gt; iterator = breadList.listIterator();\r\n        \r\n        while (iterator.hasNext()) {\r\n            String next = iterator.next();\r\n            if (next.compareTo(bread) &gt; 0) { // if the next element is lexicographically greater than `bread`, `bread` has to be inserted before it\r\n                iterator.previous();         // moving to the position where the new `bread` should be inserted\r\n                break;                       // breaking out from the loop\r\n            }\r\n        }\r\n        iterator.add(bread);                 // inserting the new kind of bread\r\n    }\r\n\r\n*Example with the sample data from the question:*\r\n\r\n```\r\nLinkedListExample lle = new LinkedListExample();\r\n    \r\nlle.addInOrder(&quot;Ciabatta&quot;);\r\nlle.addInOrder(&quot;Wheat Bread&quot;);\r\nlle.addInOrder(&quot;White Bread&quot;);\r\nlle.addInOrder(&quot;Sourdough&quot;);\r\nlle.addInOrder(&quot;Flatbread&quot;);\r\nlle.showBreadList();\r\n```\r\n\r\n*Output:*\r\n\r\n```\r\nCiabatta\r\nFlatbread\r\nSourdough\r\nWheat Bread\r\nWhite Bread\r\n```\r\n\r\n\r\n\r\n   [iterator]: https://docs.oracle.com/javase/tutorial/collections/interfaces/list.html#Iterator\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EvnEL.gif","title":"Java LinkedList - ListIterator cannot add values","body":"<p>Seems like the goal of your assignment is to learn how to deal with a <code>ListIterator</code>.</p>\n<p>The core thing to understand about the <code>Iterator</code>s that their cursor always occupies a position in <strong>between the elements</strong> of the list (<em>and it might also be positioned before the first element and right after the last element</em>). And that's the position where a new element gets inserted when you invoke <code>ListIterator.add()</code>.</p>\n<p>Here's a quote from the <a href=\"https://docs.oracle.com/javase/tutorial/collections/interfaces/list.html#Iterator\" rel=\"nofollow noreferrer\">official tutorial Provided by Oracle</a>:</p>\n<blockquote>\n<p>Intuitively speaking, the cursor is always <strong>between two elements</strong> — the\none that would be returned by a call to <code>previous</code> and the one that\nwould be returned by a call to next. The <code>n+1</code> valid index values\ncorrespond to the <code>n+1</code> gaps between elements, from the gap before the\nfirst element to the gap after the last one. The following figure\nshows the five possible cursor positions in a list containing four\nelements.</p>\n<p><a href=\"https://i.stack.imgur.com/EvnEL.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EvnEL.gif\" alt=\"enter image description here\" /></a></p>\n</blockquote>\n<p>In the method <code>addInOrder()</code> you've messed around with conditions. If fact, only one condition that would check if the <code>next</code> is lexicographically greater than the given string would be enough. If the <code>next</code> is greater we continue iteration, if not we need to move the iterator the previous position by calling <code>previous()</code> and then break from the loop.</p>\n<p>Method <code>add()</code> will be invoked on the iterator after the loop, when iterator is the right position to insert a new element.</p>\n<p>That's how you can fix your method:</p>\n<pre><code>public void addInOrder(String bread) {\n    ListIterator&lt;String&gt; iterator = breadList.listIterator();\n    \n    while (iterator.hasNext()) {\n        String next = iterator.next();\n        if (next.compareTo(bread) &gt; 0) { // if the next element is lexicographically greater than `bread`, `bread` has to be inserted before it\n            iterator.previous();         // moving to the position where the new `bread` should be inserted\n            break;                       // breaking out from the loop\n        }\n    }\n    iterator.add(bread);                 // inserting the new kind of bread\n}\n</code></pre>\n<p><em>Example with the sample data from the question:</em></p>\n<pre><code>LinkedListExample lle = new LinkedListExample();\n    \nlle.addInOrder(&quot;Ciabatta&quot;);\nlle.addInOrder(&quot;Wheat Bread&quot;);\nlle.addInOrder(&quot;White Bread&quot;);\nlle.addInOrder(&quot;Sourdough&quot;);\nlle.addInOrder(&quot;Flatbread&quot;);\nlle.showBreadList();\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>Ciabatta\nFlatbread\nSourdough\nWheat Bread\nWhite Bread\n</code></pre>\n"}],"owner":{"account_id":21921125,"reputation":27,"user_id":16204358,"display_name":"killaws"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74803228,"answer_count":1,"score":0,"last_activity_date":1671100621,"creation_date":1671041893,"question_id":74802671,"body_markdown":"I have two fields in my custom class `List`:\r\n\r\n* `LinkedList&lt;String&gt; breadList`;\r\n* `Iterator&lt;String&gt; iterator`.\r\n\r\nAnd I&#39;ve defined two methods:\r\n\r\n* `showBreadList()` - for displaying the contents of the list;\r\n* `addInOrder()` - for inserting a new element into the list (the list should be updated in such a way so that elements are maintained in sorted order).\r\n\r\n*My code:*\r\n\r\n```\r\npublic class List {\r\n\r\n\tclass LinkedListExample {\r\n\t\tprivate LinkedList&lt;String&gt; breadList = new LinkedList&lt;&gt;(); // &lt;-- Edit from the answer: public to private\r\n\t\tIterator&lt;String&gt; iterator;\r\n\t\t\r\n\t\tpublic void showBreadList() {\r\n\t\t\titerator = breadList.iterator();\r\n\t\t\tSystem.out.println(&quot;Values in breadList: &quot;);\r\n\t\t\twhile(iterator.hasNext()) {\r\n\t\t\t\tSystem.out.println(iterator.next());\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tpublic void addInOrder(String bread) {\r\n\t\t\tListIterator&lt;String&gt; stringListIterator = breadList.listIterator();\r\n\t\t\r\n\t\t\twhile(stringListIterator.hasNext()) {\r\n\t\t\t\tif(stringListIterator.next().compareTo(bread) == 0) {\r\n\t\t\t\t} else if(stringListIterator.next().compareTo(bread) &gt; 0) {\r\n\t\t\t\t\tstringListIterator.previous();\r\n\t\t\t\t\tstringListIterator.add(bread);\r\n\t\t\t\t} else if(stringListIterator.next().compareTo(bread) &lt; 0) {\r\n\t\t\t\t}\r\n\t\t\t}\r\n            stringListIterator.add(bread); // &lt;-- Edit: added\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tList list = new List();\r\n\t\t\r\n\t\tList.LinkedListExample lle = list.new LinkedListExample();\r\n\t\t\r\n\t\tlle.addInOrder(&quot;Ciabatta&quot;);\r\n\t\tlle.addInOrder(&quot;Wheat Bread&quot;);\r\n\t\tlle.addInOrder(&quot;White Bread&quot;);\r\n\t\tlle.addInOrder(&quot;Sourdough&quot;);\r\n\t\tlle.addInOrder(&quot;Flatbread&quot;);\r\n\t\tlle.showBreadList();\r\n\t\t\r\n\t}\r\n}\r\n```\r\n\r\nThe list gets populated in the `main()` method via `addInOrder()`.\r\n  \r\n*Expected output:*\r\n\r\n```\r\nValues in breadList:  \r\nCiabatta  \r\nFlatbread  \r\nSourdough  \r\nWheat Bread  \r\nWhite Bread\r\n```\r\n  \r\n*Actual output:*\r\n\r\n```\r\nValue in breadList:  \r\n```\r\n\r\nI.e. I&#39;m getting nothing. Can anybody give a hint on what I&#39;m doing wrong?","title":"Java LinkedList - ListIterator cannot add values","body":"<p>I have two fields in my custom class <code>List</code>:</p>\n<ul>\n<li><code>LinkedList&lt;String&gt; breadList</code>;</li>\n<li><code>Iterator&lt;String&gt; iterator</code>.</li>\n</ul>\n<p>And I've defined two methods:</p>\n<ul>\n<li><code>showBreadList()</code> - for displaying the contents of the list;</li>\n<li><code>addInOrder()</code> - for inserting a new element into the list (the list should be updated in such a way so that elements are maintained in sorted order).</li>\n</ul>\n<p><em>My code:</em></p>\n<pre><code>public class List {\n\n    class LinkedListExample {\n        private LinkedList&lt;String&gt; breadList = new LinkedList&lt;&gt;(); // &lt;-- Edit from the answer: public to private\n        Iterator&lt;String&gt; iterator;\n        \n        public void showBreadList() {\n            iterator = breadList.iterator();\n            System.out.println(&quot;Values in breadList: &quot;);\n            while(iterator.hasNext()) {\n                System.out.println(iterator.next());\n            }\n        }\n        \n        public void addInOrder(String bread) {\n            ListIterator&lt;String&gt; stringListIterator = breadList.listIterator();\n        \n            while(stringListIterator.hasNext()) {\n                if(stringListIterator.next().compareTo(bread) == 0) {\n                } else if(stringListIterator.next().compareTo(bread) &gt; 0) {\n                    stringListIterator.previous();\n                    stringListIterator.add(bread);\n                } else if(stringListIterator.next().compareTo(bread) &lt; 0) {\n                }\n            }\n            stringListIterator.add(bread); // &lt;-- Edit: added\n        }\n    }\n    \n    public static void main(String[] args) {\n        List list = new List();\n        \n        List.LinkedListExample lle = list.new LinkedListExample();\n        \n        lle.addInOrder(&quot;Ciabatta&quot;);\n        lle.addInOrder(&quot;Wheat Bread&quot;);\n        lle.addInOrder(&quot;White Bread&quot;);\n        lle.addInOrder(&quot;Sourdough&quot;);\n        lle.addInOrder(&quot;Flatbread&quot;);\n        lle.showBreadList();\n        \n    }\n}\n</code></pre>\n<p>The list gets populated in the <code>main()</code> method via <code>addInOrder()</code>.</p>\n<p><em>Expected output:</em></p>\n<pre><code>Values in breadList:  \nCiabatta  \nFlatbread  \nSourdough  \nWheat Bread  \nWhite Bread\n</code></pre>\n<p><em>Actual output:</em></p>\n<pre><code>Value in breadList:  \n</code></pre>\n<p>I.e. I'm getting nothing. Can anybody give a hint on what I'm doing wrong?</p>\n"},{"tags":["java","mime-types","apache-tika","file-extension"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":1,"creation_date":1665392104,"post_id":74007220,"comment_id":130681142,"body_markdown":"Pass in the file name as well?","body":"Pass in the file name as well?"},{"owner":{"account_id":26573039,"reputation":21,"user_id":20198967,"display_name":"binary"},"score":0,"creation_date":1665435550,"post_id":74007220,"comment_id":130695670,"body_markdown":"What do you mean?","body":"What do you mean?"},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":1,"creation_date":1665438803,"post_id":74007220,"comment_id":130696433,"body_markdown":"Either https://tika.apache.org/2.5.0/api/org/apache/tika/Tika.html#detect(java.io.File) or https://tika.apache.org/2.5.0/api/org/apache/tika/Tika.html#detect(java.io.InputStream,java.lang.String)","body":"Either <a href=\"https://tika.apache.org/2.5.0/api/org/apache/tika/Tika.html#detect(java.io.File)\" rel=\"nofollow noreferrer\">tika.apache.org/2.5.0/api/org/apache/tika/&hellip;</a> or <a href=\"https://tika.apache.org/2.5.0/api/org/apache/tika/Tika.html#detect(java.io.InputStream,java.lang.String)\" rel=\"nofollow noreferrer\">tika.apache.org/2.5.0/api/org/apache/tika/&hellip;</a>"},{"owner":{"account_id":26573039,"reputation":21,"user_id":20198967,"display_name":"binary"},"score":0,"creation_date":1665487088,"post_id":74007220,"comment_id":130706908,"body_markdown":"@Gravier Thanks, but detect method is not seem to be solution. I am thinking to use Tika Parser  as mentioned on metadata. So you have any idea or suggestion?","body":"@Gravier Thanks, but detect method is not seem to be solution. I am thinking to use Tika Parser  as mentioned on metadata. So you have any idea or suggestion?"},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1665491123,"post_id":74007220,"comment_id":130708436,"body_markdown":"What isn&#39;t working when you pass the filename along with the content to Detect?","body":"What isn&#39;t working when you pass the filename along with the content to Detect?"},{"owner":{"account_id":26573039,"reputation":21,"user_id":20198967,"display_name":"binary"},"score":0,"creation_date":1665492130,"post_id":74007220,"comment_id":130708880,"body_markdown":"Could you please see this page? https://stackoverflow.com/questions/74028332/apache-tika-cannot-detect-aac-files-properly","body":"Could you please see this page? <a href=\"https://stackoverflow.com/questions/74028332/apache-tika-cannot-detect-aac-files-properly\" title=\"apache tika cannot detect aac files properly\">stackoverflow.com/questions/74028332/&hellip;</a>"},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1665501488,"post_id":74007220,"comment_id":130712910,"body_markdown":"Don&#39;t ask the same question a second time! Instead edit your existing question to have the additional details in it","body":"Don&#39;t ask the same question a second time! Instead edit your existing question to have the additional details in it"},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1665501517,"post_id":74007220,"comment_id":130712919,"body_markdown":"And still, pass Tika the filename when your call detection with an `InputStream` to get the answer you expect!","body":"And still, pass Tika the filename when your call detection with an <code>InputStream</code> to get the answer you expect!"},{"owner":{"account_id":26573039,"reputation":21,"user_id":20198967,"display_name":"binary"},"score":0,"creation_date":1665505495,"post_id":74007220,"comment_id":130714371,"body_markdown":"What do you mean with `fileName`?","body":"What do you mean with <code>fileName</code>?"},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1665508940,"post_id":74007220,"comment_id":130715506,"body_markdown":"The name of the file that was uploaded","body":"The name of the file that was uploaded"},{"owner":{"account_id":26573039,"reputation":21,"user_id":20198967,"display_name":"binary"},"score":0,"creation_date":1665516974,"post_id":74007220,"comment_id":130718082,"body_markdown":"I tried, but `tika.detect(file.getInputStream(), file.getName());` returns `application/octet-stream`","body":"I tried, but <code>tika.detect(file.getInputStream(), file.getName());</code> returns <code>application&#47;octet-stream</code>"}],"answers":[{"tags":[],"owner":{"account_id":19043933,"reputation":53,"user_id":13903434,"display_name":"peltren"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671100616,"creation_date":1671100616,"answer_id":74810196,"question_id":74007220,"body_markdown":"I had the same problem. Solved adding another Tika dependency:\r\n\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tika-parsers-standard-package&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.6.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nMake sure it has the same version as the Tika Core library. I also had to pass the file name as well as @Gagravarr suggested","title":"Apache Tika cannot detect MIME type properly","body":"<p>I had the same problem. Solved adding another Tika dependency:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\n        &lt;artifactId&gt;tika-parsers-standard-package&lt;/artifactId&gt;\n        &lt;version&gt;2.6.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Make sure it has the same version as the Tika Core library. I also had to pass the file name as well as @Gagravarr suggested</p>\n"}],"owner":{"account_id":26573039,"reputation":21,"user_id":20198967,"display_name":"binary"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":656,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671100616,"creation_date":1665338219,"question_id":74007220,"body_markdown":"I am trying to detect file type while uploading a file usinn `Apache Tika` as shown below:\r\n\r\n```\r\nstatic final List&lt;String&gt; VALID_FILE_TYPES = Arrays.asList(\r\n\r\n    // code omitted for brevity\r\n    &quot;audio/aac&quot;\r\n);\r\n\r\n\r\n\r\npublic static void detectFileType(InputStream inputStream, String fileId) {\r\n    try {\r\n        ApacheTika tika = new ApacheTika();\r\n        String fileTypeFromFile = tika.detect(inputStream);\r\n        \r\n        if (!VALID_FILE_TYPES.contains(fileTypeFromFile)) {\r\n            throw new IllegalFileUploadException(&quot;Illegal file type&quot;);\r\n        }\r\n    } catch (IOException ex) {\r\n        // ...\r\n    }\r\n}\r\n```\r\n\r\nFor some file extensions e.g. `*.acc`, Apache Tika detect file type as `application/octet-stream`. \r\n\r\nSo, in this situation:\r\n\r\n**1.** Is there a solution to detect some file types properly (e.g. `*.acc`) and get their exact file types like `audio/aac` ?\r\n\r\n**2.** If there is not a solution, should I add `application/octet-stream` to my `VALID_FILE_TYPES` in order to accept `audio/aac`, etc. files? ","title":"Apache Tika cannot detect MIME type properly","body":"<p>I am trying to detect file type while uploading a file usinn <code>Apache Tika</code> as shown below:</p>\n<pre><code>static final List&lt;String&gt; VALID_FILE_TYPES = Arrays.asList(\n\n    // code omitted for brevity\n    &quot;audio/aac&quot;\n);\n\n\n\npublic static void detectFileType(InputStream inputStream, String fileId) {\n    try {\n        ApacheTika tika = new ApacheTika();\n        String fileTypeFromFile = tika.detect(inputStream);\n        \n        if (!VALID_FILE_TYPES.contains(fileTypeFromFile)) {\n            throw new IllegalFileUploadException(&quot;Illegal file type&quot;);\n        }\n    } catch (IOException ex) {\n        // ...\n    }\n}\n</code></pre>\n<p>For some file extensions e.g. <code>*.acc</code>, Apache Tika detect file type as <code>application/octet-stream</code>.</p>\n<p>So, in this situation:</p>\n<p><strong>1.</strong> Is there a solution to detect some file types properly (e.g. <code>*.acc</code>) and get their exact file types like <code>audio/aac</code> ?</p>\n<p><strong>2.</strong> If there is not a solution, should I add <code>application/octet-stream</code> to my <code>VALID_FILE_TYPES</code> in order to accept <code>audio/aac</code>, etc. files?</p>\n"},{"tags":["java","spring-boot","unit-testing"],"answers":[{"tags":[],"owner":{"account_id":12695732,"reputation":3368,"user_id":9224219,"display_name":"Datz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671021738,"creation_date":1671020716,"answer_id":74798267,"question_id":74797661,"body_markdown":"I see two solutions.\r\n\r\n1. Either use two test classes. One with the `@MockBean` object and one with the `@SpyBean` object. Both can inherit from the same abstract parent-class.\r\n\r\n2. Let Spring Boot inject `@MockBean` and then replace it manually in the `testSendMoneyWithSpy()` test with the `@SpyBean` object using reflection.\r\n\r\n**But**, why do you want to use the spy-object at all?\r\nIf you make unit-tests, you should mock the service and only test the controller here. And test the `SendMoneyUseCase` class in the `SendMondeyUseCaseTest` test.\r\n\r\n(btw. strange name `SendMondeyUseCase` why not `SendMoneyService` or `SendMoneyComponent`. Or `MoneySendService`?)","title":"Spring Boot Test : Mix up @MockBean and @SpyBean in same Test class on same Bean object?","body":"<p>I see two solutions.</p>\n<ol>\n<li><p>Either use two test classes. One with the <code>@MockBean</code> object and one with the <code>@SpyBean</code> object. Both can inherit from the same abstract parent-class.</p>\n</li>\n<li><p>Let Spring Boot inject <code>@MockBean</code> and then replace it manually in the <code>testSendMoneyWithSpy()</code> test with the <code>@SpyBean</code> object using reflection.</p>\n</li>\n</ol>\n<p><strong>But</strong>, why do you want to use the spy-object at all?\nIf you make unit-tests, you should mock the service and only test the controller here. And test the <code>SendMoneyUseCase</code> class in the <code>SendMondeyUseCaseTest</code> test.</p>\n<p>(btw. strange name <code>SendMondeyUseCase</code> why not <code>SendMoneyService</code> or <code>SendMoneyComponent</code>. Or <code>MoneySendService</code>?)</p>\n"},{"tags":[],"owner":{"account_id":7958430,"reputation":229,"user_id":6006943,"accept_rate":35,"display_name":"Fran&#231;ois F."},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671100559,"creation_date":1671097253,"answer_id":74809515,"question_id":74797661,"body_markdown":"Here the solution, first the solution code (my real test case, the one in first topic is more like a study code) : \r\n\r\n    @Slf4j\r\n    @RequiredArgsConstructor(onConstructor = @__(@Autowired))\r\n    public class DocumentsApiTest extends ProductAPITestRoot {\r\n    \r\n        @Autowired\r\n        private TestRestTemplate restTemplate;\r\n    \r\n        @SpyBean\r\n        private AlfrescoService alfrescoServiceSpy;\r\n    \r\n        @MockBean\r\n        private CloseableHttpClient closeableHttpClient;\r\n    \r\n        @Test\r\n        public void testUploadDocument_SUCCESS() {\r\n            HttpHeaders headers = createOKHttpHeaders();\r\n            DocumentWithFile documentWithFile = createDocumentWithFile();\r\n    \r\n            doReturn(StringUtils.EMPTY).when(alfrescoServiceSpy).sendDocument(anyString(), any(InputStream.class), eq(documentWithFile.getNomFichier()));\r\n            HttpEntity&lt;DocumentWithFile&gt; request = new HttpEntity&lt;&gt;(documentWithFile, headers);\r\n    \r\n            ResponseEntity&lt;Long&gt; response = restTemplate.exchange(\r\n                    &quot;/documents/upload&quot;, HttpMethod.POST, request, Long.class);\r\n    \r\n            assertThat(response.getStatusCode()).isEqualTo(HttpStatus.OK);\r\n            assertThat(response.getBody()).isEqualTo(1L);\r\n    \r\n        }\r\n    \r\n        @Test\r\n        public void testUploadDocument_500_INTERNAL_SERVER_ERROR() {\r\n            HttpHeaders headers = createOKHttpHeaders();\r\n            DocumentWithFile documentWithFile = createDocumentWithFile();\r\n    \r\n    \r\n            doThrow(new AlfrescoServiceException(&quot;Alfresco has failed !&quot;)).when(alfrescoServiceSpy).sendDocument(anyString(), any(InputStream.class), eq(documentWithFile.getNomFichier()));\r\n            HttpEntity&lt;DocumentWithFile&gt; request = new HttpEntity&lt;&gt;(documentWithFile, headers);\r\n    \r\n            ResponseEntity&lt;String&gt; response = restTemplate.exchange(\r\n                    &quot;/documents/upload&quot;, HttpMethod.POST, request, String.class);\r\n    \r\n            assertThat(response.getStatusCode()).isEqualTo(HttpStatus.INTERNAL_SERVER_ERROR);\r\n            assertThat(response.getBody()).contains(&quot;Internal Server Error&quot;);\r\n        }\r\n    \r\n        @Test\r\n        public void testUploadDocument_502_BAD_GATEWAY() throws IOException {\r\n            HttpHeaders headers = createOKHttpHeaders();\r\n            DocumentWithFile documentWithFile = createDocumentWithFile();\r\n    \r\n            CloseableHttpResponse alfrescoResponse = mock(CloseableHttpResponse.class);\r\n            when(closeableHttpClient.execute(any(HttpPost.class))).thenReturn(alfrescoResponse);\r\n            when(alfrescoResponse.getStatusLine()).thenReturn(new BasicStatusLine(HttpVersion.HTTP_1_1, HttpStatus.BAD_GATEWAY.value(), &quot;FINE!&quot;));\r\n    \r\n            HttpEntity&lt;DocumentWithFile&gt; request = new HttpEntity&lt;&gt;(documentWithFile, headers);\r\n    \r\n            ResponseEntity&lt;String&gt; response = restTemplate.exchange(\r\n                    &quot;/documents/upload&quot;, HttpMethod.POST, request, String.class);\r\n    \r\n            assertThat(response.getStatusCode()).isEqualTo(HttpStatus.BAD_GATEWAY);\r\n            assertThat(response.getBody()).contains(&quot;Erreur Alfresco&quot;);\r\n        }\r\n    \r\n    \r\n        private static HttpHeaders createOKHttpHeaders() {\r\n            HttpHeaders headers = new HttpHeaders();\r\n            headers.set(&quot;Authorization&quot;, &quot;Bearer &quot; + OK_TOKEN);\r\n            headers.setContentType(MediaType.APPLICATION_JSON);\r\n            return headers;\r\n        }\r\n    \r\n        private static DocumentWithFile createDocumentWithFile() {\r\n            String fileAsString = RandomStringUtils.randomAlphabetic((int) 1e6);\r\n            byte[] fileAsStringBase64 = Base64.getEncoder().encode(fileAsString.getBytes());\r\n            DocumentWithFile documentWithFile = new DocumentWithFile();\r\n            String nomFichierExpected = &quot;nomFichier.pdf&quot;;\r\n            documentWithFile\r\n                    .id(8L)\r\n                    .idCatalogue(&quot;idCatalogue&quot;)\r\n                    .nom(&quot;nom&quot;)\r\n                    .reference(&quot;reference&quot;)\r\n                    .version(&quot;version&quot;)\r\n                    .type(TypeDocument.IPID)\r\n                    .fichier(new String(fileAsStringBase64))\r\n                    .nomFichier(nomFichierExpected);\r\n            return documentWithFile;\r\n        }\r\n    }\r\n\r\nIf you look carrefully, the right way to mixup both : a mock and a spy of the same bean. \r\n1) You can use @MockBean....and you use the spy version of this @MockBean with `when(...).thenCallRealMethod()`. But the **REAL drawback** of this is that if the @MockBean bean contains @Value field injection, thus they are `NOT` initialized. **Meaning that @MockBean annotation set @Value fields of the mocked bean to null.**\r\nSo I went for solution 2) because I need injection of @Value fileds.\r\n\r\n2) Instead of @MockBean use @SpyBean of the concerned spring bean. Like this, you&#39;ve got now the real bean. The question is how do I use it like a @MockBean. So to use a @SpyBean like a @MockBean, you needs to force the returned value of your @SpyBean bean like this for example :\r\n\r\n\r\n\r\n    *doReturn(StringUtils.EMPTY).when(alfrescoServiceSpy).sendDocument(anyString(), any(InputStream.class), eq(documentWithFile.getNomFichier()));*\r\n\r\nAs you can see, although `alfrescoServiceSpy` call the real code (not a mock), then you still can change its default behavior (calling the real code) with the mocked behavior like the snipped code above as example.\r\n\r\nSo test methods that need the mock version of @SpyBean declare an instruction of mocked behavior to do. And test methods that needs real code they don&#39;t do anything and @Value will be injected into the bean annotated @SpyBean the right way.\r\n\r\nI&#39;am personnaly satisfied of this code version.\r\n\r\nThanks you very much all.","title":"Spring Boot Test : Mix up @MockBean and @SpyBean in same Test class on same Bean object?","body":"<p>Here the solution, first the solution code (my real test case, the one in first topic is more like a study code) :</p>\n<pre><code>@Slf4j\n@RequiredArgsConstructor(onConstructor = @__(@Autowired))\npublic class DocumentsApiTest extends ProductAPITestRoot {\n\n    @Autowired\n    private TestRestTemplate restTemplate;\n\n    @SpyBean\n    private AlfrescoService alfrescoServiceSpy;\n\n    @MockBean\n    private CloseableHttpClient closeableHttpClient;\n\n    @Test\n    public void testUploadDocument_SUCCESS() {\n        HttpHeaders headers = createOKHttpHeaders();\n        DocumentWithFile documentWithFile = createDocumentWithFile();\n\n        doReturn(StringUtils.EMPTY).when(alfrescoServiceSpy).sendDocument(anyString(), any(InputStream.class), eq(documentWithFile.getNomFichier()));\n        HttpEntity&lt;DocumentWithFile&gt; request = new HttpEntity&lt;&gt;(documentWithFile, headers);\n\n        ResponseEntity&lt;Long&gt; response = restTemplate.exchange(\n                &quot;/documents/upload&quot;, HttpMethod.POST, request, Long.class);\n\n        assertThat(response.getStatusCode()).isEqualTo(HttpStatus.OK);\n        assertThat(response.getBody()).isEqualTo(1L);\n\n    }\n\n    @Test\n    public void testUploadDocument_500_INTERNAL_SERVER_ERROR() {\n        HttpHeaders headers = createOKHttpHeaders();\n        DocumentWithFile documentWithFile = createDocumentWithFile();\n\n\n        doThrow(new AlfrescoServiceException(&quot;Alfresco has failed !&quot;)).when(alfrescoServiceSpy).sendDocument(anyString(), any(InputStream.class), eq(documentWithFile.getNomFichier()));\n        HttpEntity&lt;DocumentWithFile&gt; request = new HttpEntity&lt;&gt;(documentWithFile, headers);\n\n        ResponseEntity&lt;String&gt; response = restTemplate.exchange(\n                &quot;/documents/upload&quot;, HttpMethod.POST, request, String.class);\n\n        assertThat(response.getStatusCode()).isEqualTo(HttpStatus.INTERNAL_SERVER_ERROR);\n        assertThat(response.getBody()).contains(&quot;Internal Server Error&quot;);\n    }\n\n    @Test\n    public void testUploadDocument_502_BAD_GATEWAY() throws IOException {\n        HttpHeaders headers = createOKHttpHeaders();\n        DocumentWithFile documentWithFile = createDocumentWithFile();\n\n        CloseableHttpResponse alfrescoResponse = mock(CloseableHttpResponse.class);\n        when(closeableHttpClient.execute(any(HttpPost.class))).thenReturn(alfrescoResponse);\n        when(alfrescoResponse.getStatusLine()).thenReturn(new BasicStatusLine(HttpVersion.HTTP_1_1, HttpStatus.BAD_GATEWAY.value(), &quot;FINE!&quot;));\n\n        HttpEntity&lt;DocumentWithFile&gt; request = new HttpEntity&lt;&gt;(documentWithFile, headers);\n\n        ResponseEntity&lt;String&gt; response = restTemplate.exchange(\n                &quot;/documents/upload&quot;, HttpMethod.POST, request, String.class);\n\n        assertThat(response.getStatusCode()).isEqualTo(HttpStatus.BAD_GATEWAY);\n        assertThat(response.getBody()).contains(&quot;Erreur Alfresco&quot;);\n    }\n\n\n    private static HttpHeaders createOKHttpHeaders() {\n        HttpHeaders headers = new HttpHeaders();\n        headers.set(&quot;Authorization&quot;, &quot;Bearer &quot; + OK_TOKEN);\n        headers.setContentType(MediaType.APPLICATION_JSON);\n        return headers;\n    }\n\n    private static DocumentWithFile createDocumentWithFile() {\n        String fileAsString = RandomStringUtils.randomAlphabetic((int) 1e6);\n        byte[] fileAsStringBase64 = Base64.getEncoder().encode(fileAsString.getBytes());\n        DocumentWithFile documentWithFile = new DocumentWithFile();\n        String nomFichierExpected = &quot;nomFichier.pdf&quot;;\n        documentWithFile\n                .id(8L)\n                .idCatalogue(&quot;idCatalogue&quot;)\n                .nom(&quot;nom&quot;)\n                .reference(&quot;reference&quot;)\n                .version(&quot;version&quot;)\n                .type(TypeDocument.IPID)\n                .fichier(new String(fileAsStringBase64))\n                .nomFichier(nomFichierExpected);\n        return documentWithFile;\n    }\n}\n</code></pre>\n<p>If you look carrefully, the right way to mixup both : a mock and a spy of the same bean.</p>\n<ol>\n<li><p>You can use @MockBean....and you use the spy version of this @MockBean with <code>when(...).thenCallRealMethod()</code>. But the <strong>REAL drawback</strong> of this is that if the @MockBean bean contains @Value field injection, thus they are <code>NOT</code> initialized. <strong>Meaning that @MockBean annotation set @Value fields of the mocked bean to null.</strong>\nSo I went for solution 2) because I need injection of @Value fileds.</p>\n</li>\n<li><p>Instead of @MockBean use @SpyBean of the concerned spring bean. Like this, you've got now the real bean. The question is how do I use it like a @MockBean. So to use a @SpyBean like a @MockBean, you needs to force the returned value of your @SpyBean bean like this for example :</p>\n<p><em>doReturn(StringUtils.EMPTY).when(alfrescoServiceSpy).sendDocument(anyString(), any(InputStream.class), eq(documentWithFile.getNomFichier()));</em></p>\n</li>\n</ol>\n<p>As you can see, although <code>alfrescoServiceSpy</code> call the real code (not a mock), then you still can change its default behavior (calling the real code) with the mocked behavior like the snipped code above as example.</p>\n<p>So test methods that need the mock version of @SpyBean declare an instruction of mocked behavior to do. And test methods that needs real code they don't do anything and @Value will be injected into the bean annotated @SpyBean the right way.</p>\n<p>I'am personnaly satisfied of this code version.</p>\n<p>Thanks you very much all.</p>\n"}],"owner":{"account_id":7958430,"reputation":229,"user_id":6006943,"accept_rate":35,"display_name":"Fran&#231;ois F."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1948,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74809515,"answer_count":2,"score":1,"last_activity_date":1671100559,"creation_date":1671017674,"question_id":74797661,"body_markdown":"Here a test code sample with Spring Boot Test: \r\n\r\n    @SpringBootTest\r\n    @AutoConfigureMockMvc\r\n    class SendMoneyControllerSpringBootSpyBeanTest {\r\n    \r\n      @Autowired\r\n      private MockMvc mockMvc;\r\n    \r\n      @SpyBean\r\n      private SendMoneyUseCase sendMoneyUseCase;\r\n    \r\n      @Test\r\n      void testSendMoneyWithMock() {\r\n        ...\r\n      }\r\n\r\n      @Test\r\n      void testSendMoneyWithSpy() {\r\n        ...\r\n      }\r\n    \r\n    }\r\n\r\nNow suppose the two test methods like in the snippet above. One is using the spy version of the spring bean, whereas the other is using a mock version of the spring bean. How can I mix up both and distinguish them in my test methods ?\r\nFor example, can I do : \r\n\r\n      @SpringBootTest\r\n    @AutoConfigureMockMvc\r\n    class SendMoneyControllerSpringBootSpyBeanTest {\r\n    \r\n      @Autowired\r\n      private MockMvc mockMvc;\r\n    \r\n      @MockBean\r\n      private SendMoneyUseCase sendMoneyUseCaseMocked;\r\n    \r\n      @SpyBean\r\n      private SendMoneyUseCase sendMoneyUseCaseSpied;\r\n    }\r\n\r\nI know that in spring bean container, there is only one of `sendMoneyUseCaseMocked` or `sendMoneyUseCaseSpied` because they are the same java type. I can use a qualifier, to refer them by name. But in that case, how do I write my mock condition in the corresponding test method (write either mock condition on the mocked bean or the spied condition on the spied bean in the concerned test method).\r\n\r\nEDIT : Another approach is to remove the line of code `@MockBean`, like this, the spied method is working. Consequently, I need then to programmatically code `@MockBean` in the mocked test method with Spring boot API, but how to do ?.\r\n\r\nThx.","title":"Spring Boot Test : Mix up @MockBean and @SpyBean in same Test class on same Bean object?","body":"<p>Here a test code sample with Spring Boot Test:</p>\n<pre><code>@SpringBootTest\n@AutoConfigureMockMvc\nclass SendMoneyControllerSpringBootSpyBeanTest {\n\n  @Autowired\n  private MockMvc mockMvc;\n\n  @SpyBean\n  private SendMoneyUseCase sendMoneyUseCase;\n\n  @Test\n  void testSendMoneyWithMock() {\n    ...\n  }\n\n  @Test\n  void testSendMoneyWithSpy() {\n    ...\n  }\n\n}\n</code></pre>\n<p>Now suppose the two test methods like in the snippet above. One is using the spy version of the spring bean, whereas the other is using a mock version of the spring bean. How can I mix up both and distinguish them in my test methods ?\nFor example, can I do :</p>\n<pre><code>  @SpringBootTest\n@AutoConfigureMockMvc\nclass SendMoneyControllerSpringBootSpyBeanTest {\n\n  @Autowired\n  private MockMvc mockMvc;\n\n  @MockBean\n  private SendMoneyUseCase sendMoneyUseCaseMocked;\n\n  @SpyBean\n  private SendMoneyUseCase sendMoneyUseCaseSpied;\n}\n</code></pre>\n<p>I know that in spring bean container, there is only one of <code>sendMoneyUseCaseMocked</code> or <code>sendMoneyUseCaseSpied</code> because they are the same java type. I can use a qualifier, to refer them by name. But in that case, how do I write my mock condition in the corresponding test method (write either mock condition on the mocked bean or the spied condition on the spied bean in the concerned test method).</p>\n<p>EDIT : Another approach is to remove the line of code <code>@MockBean</code>, like this, the spied method is working. Consequently, I need then to programmatically code <code>@MockBean</code> in the mocked test method with Spring boot API, but how to do ?.</p>\n<p>Thx.</p>\n"},{"tags":["java","sql","database","hibernate","jpa"],"comments":[{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1671099858,"post_id":74809978,"comment_id":132026772,"body_markdown":"Does this answer your question? [How to create Hibernate Mapping for a self referencing table](https://stackoverflow.com/questions/29975751/how-to-create-hibernate-mapping-for-a-self-referencing-table)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/29975751/how-to-create-hibernate-mapping-for-a-self-referencing-table\">How to create Hibernate Mapping for a self referencing table</a>"}],"answers":[{"tags":[],"owner":{"account_id":11336024,"reputation":122,"user_id":8311849,"display_name":"Yusuf Erdoğan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671100538,"creation_date":1671100538,"answer_id":74810185,"question_id":74809978,"body_markdown":"You can use @OneToOne Relation between parent entity if you have a related column like &#39;parent_user_id&#39;.\r\n\r\n    @OneToOne\r\n    @JoinColumn(name = &quot;parent_user_id&quot;)  \r\n    private User parentUser;","title":"SQL JPA Hibernate refer user to parent user","body":"<p>You can use @OneToOne Relation between parent entity if you have a related column like 'parent_user_id'.</p>\n<pre><code>@OneToOne\n@JoinColumn(name = &quot;parent_user_id&quot;)  \nprivate User parentUser;\n</code></pre>\n"}],"owner":{"account_id":26938435,"reputation":15,"user_id":20509699,"display_name":"rvicente"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74810185,"answer_count":1,"score":1,"last_activity_date":1671100538,"creation_date":1671099508,"question_id":74809978,"body_markdown":"I want to create an API with users where I can make referals to other user and store the users that refearal me.\r\n\r\n\r\n```\r\n@Entity\r\n@Table(name=&quot;requirement&quot;)\r\n@Data\r\n@NoArgsConstructor\r\npublic class User {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;, nullable = false)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n    \r\n    \r\n    private User parentUser;\r\n\r\n}\r\n```\r\n\r\n```\r\nCREATE TABLE user(\r\n        id serial PRIMARY KEY,\r\n        name VARCHAR,\r\n        user_id INT,\r\n```\r\n\r\nwhat is the best way to handle this case\r\n\r\n\r\nI want to create an API with users where I can make referals to other user and store the users that refearal me.","title":"SQL JPA Hibernate refer user to parent user","body":"<p>I want to create an API with users where I can make referals to other user and store the users that refearal me.</p>\n<pre><code>@Entity\n@Table(name=&quot;requirement&quot;)\n@Data\n@NoArgsConstructor\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, nullable = false)\n    private Long id;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n    \n    \n    private User parentUser;\n\n}\n</code></pre>\n<pre><code>CREATE TABLE user(\n        id serial PRIMARY KEY,\n        name VARCHAR,\n        user_id INT,\n</code></pre>\n<p>what is the best way to handle this case</p>\n<p>I want to create an API with users where I can make referals to other user and store the users that refearal me.</p>\n"},{"tags":["java","string","date","time","data-conversion"],"comments":[{"owner":{"account_id":896,"reputation":81678,"user_id":1175,"accept_rate":80,"display_name":"Kristopher Johnson"},"score":16,"creation_date":1373046583,"post_id":4216745,"comment_id":25429180,"body_markdown":"Note that many of the answers ignore subtleties like locales and timezones. I&#39;d recommend a close reading of the documentation for the Date, Calendar, TimeZone, Locale, and SimpleDateFormat classes before using any of them.","body":"Note that many of the answers ignore subtleties like locales and timezones. I&#39;d recommend a close reading of the documentation for the Date, Calendar, TimeZone, Locale, and SimpleDateFormat classes before using any of them."},{"owner":{"account_id":1021797,"reputation":2191,"user_id":1031939,"display_name":"Ankur"},"score":2,"creation_date":1374235604,"post_id":4216745,"comment_id":25872382,"body_markdown":"possible duplicate of [Convert String to java.util.Date](http://stackoverflow.com/questions/2735023/convert-string-to-java-util-date)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/2735023/convert-string-to-java-util-date\">Convert String to java.util.Date</a>"},{"owner":{"account_id":1129042,"reputation":48134,"user_id":1115554,"accept_rate":100,"display_name":"micha"},"score":7,"creation_date":1393959578,"post_id":4216745,"comment_id":33666708,"body_markdown":"Java 8 provides a new Date/Time API. If you are using Java 8 (or newer) you should have a look at this answer: http://stackoverflow.com/a/22180505/1115554","body":"Java 8 provides a new Date/Time API. If you are using Java 8 (or newer) you should have a look at this answer: <a href=\"http://stackoverflow.com/a/22180505/1115554\">stackoverflow.com/a/22180505/1115554</a>"},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":2,"creation_date":1396528101,"post_id":4216745,"comment_id":34834927,"body_markdown":"All the setters of `Date` are deprecated.","body":"All the setters of <code>Date</code> are deprecated."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1493879188,"post_id":4216745,"comment_id":74591449,"body_markdown":"@micha’s point is a good one, the newer classes are so much nicer to work with, come with so much fewer negative surprises and model your date and time requirements so much more accurately. You may use them with Java 6 and 7 too if you can live with a dependency on [ThreeTen Backport](http://www.threeten.org/threetenbp/).","body":"@micha’s point is a good one, the newer classes are so much nicer to work with, come with so much fewer negative surprises and model your date and time requirements so much more accurately. You may use them with Java 6 and 7 too if you can live with a dependency on <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\">ThreeTen Backport</a>."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":7,"creation_date":1496253576,"post_id":4216745,"comment_id":75589887,"body_markdown":"FYI, the troublesome old date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/8/docs/api/java/util/Date.html), [`java.util.Calendar`](https://docs.oracle.com/javase/8/docs/api/java/util/Calendar.html), and `java.text.SimpleTextFormat` are now [legacy](https://en.wikipedia.org/wiki/Legacy_system), supplanted by the [java.time](https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) classes. See [Tutorial by Oracle](https://docs.oracle.com/javase/tutorial/datetime/TOC.html).","body":"FYI, the troublesome old date-time classes such as <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>java.util.Calendar</code></a>, and <code>java.text.SimpleTextFormat</code> are now <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a>, supplanted by the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes. See <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\">Tutorial by Oracle</a>."},{"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra Žižka"},"score":0,"creation_date":1560014587,"post_id":4216745,"comment_id":99604357,"body_markdown":"For an insight into the complexity of date/time parsing and how to do it with JDK 8&#39;s `java.time` API, see my answer here: https://stackoverflow.com/a/56508200/145989","body":"For an insight into the complexity of date/time parsing and how to do it with JDK 8&#39;s <code>java.time</code> API, see my answer here: <a href=\"https://stackoverflow.com/a/56508200/145989\">stackoverflow.com/a/56508200/145989</a>"}],"answers":[{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":1,"up_vote_count":1840,"is_accepted":true,"score":1839,"last_activity_date":1671100168,"creation_date":1290095727,"answer_id":4216767,"question_id":4216745,"body_markdown":"That&#39;s the hard way, and those `java.util.Date` setter methods have been deprecated since Java 1.1 (1997). Moreover, the whole `java.util.Date` class was de-facto deprecated (discommended) since introduction of `java.time` API in Java 8 (2014).\r\n\r\nSimply format the date using [`DateTimeFormatter`][3] with a pattern matching the input string ([the tutorial is available here][4]).\r\n\r\nIn your specific case of &quot;January 2, 2010&quot; as the input string:\r\n\r\n 1. &quot;January&quot; is the full text month, so use the `MMMM` pattern for it\r\n 2. &quot;2&quot; is the short day-of-month, so use the `d` pattern for it.\r\n 3. &quot;2010&quot; is the 4-digit year, so use the `yyyy` pattern for it.\r\n\r\n&lt;!--&gt;\r\n\r\n    String string = &quot;January 2, 2010&quot;;\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;MMMM d, yyyy&quot;, Locale.ENGLISH);\r\n    LocalDate date = LocalDate.parse(string, formatter);\r\n    System.out.println(date); // 2010-01-02\r\n\r\nNote: if your format pattern happens to contain the time part as well, then use [`LocalDateTime#parse(text, formatter)`][6] instead of [`LocalDate#parse(text, formatter)`][7]. And, if your format pattern happens to contain the time zone as well, then use [`ZonedDateTime#parse(text, formatter)`][8] instead.\r\n\r\nHere&#39;s an extract of relevance from [the javadoc][3], listing all available format patterns:\r\n\r\n|Symbol|Meaning|Presentation|Examples\r\n|-|-|-|-\r\n|`G`|era|text|AD; Anno Domini; A\r\n|`u`|year|year|2004; 04\r\n|`y`|year-of-era|year|2004; 04\r\n|`D`|day-of-year|number|189\r\n|`M`/`L`|month-of-year|number/text|7; 07; Jul; July; J\r\n|`d`|day-of-month|number|10\r\n|`Q`/`q`|quarter-of-year|number/text|3; 03; Q3; 3rd quarter\r\n|`Y`|week-based-year|year|1996; 96\r\n|`w`|week-of-week-based-year|number|27\r\n|`W`|week-of-month|number|4\r\n|`E`|day-of-week|text|Tue; Tuesday; T\r\n|`e`/`c`|localized day-of-week|number/text|2; 02; Tue; Tuesday; T\r\n|`F`|week-of-month|number|3\r\n|`a`|am-pm-of-day|text|PM\r\n|`h`|clock-hour-of-am-pm (1-12)|number|12\r\n|`K`|hour-of-am-pm (0-11)|number|0\r\n|`k`|clock-hour-of-am-pm (1-24)|number|0\r\n|`H`|hour-of-day (0-23)|number|0\r\n|`m`|minute-of-hour|number|30\r\n|`s`|second-of-minute|number|55\r\n|`S`|fraction-of-second|fraction|978\r\n|`A`|milli-of-day|number|1234\r\n|`n`|nano-of-second|number|987654321\r\n|`N`|nano-of-day|number|1234000000\r\n|`V`|time-zone ID|zone-id|America/Los_Angeles; Z; -08:30\r\n|`z`|time-zone name|zone-name|Pacific Standard Time; PST\r\n|`O`|localized zone-offset|offset-O|GMT+8; GMT+08:00; UTC-08:00;\r\n|`X`|zone-offset &#39;Z&#39; for zero|offset-X|Z; -08; -0830; -08:30; -083015; -08:30:15;\r\n|`x`|zone-offset|offset-x|+0000; -08; -0830; -08:30; -083015; -08:30:15;\r\n|`Z`|zone-offset|offset-Z|+0000; -0800; -08:00;\r\n\r\nDo note that it has several [predefined formatters][9] for the more popular patterns. So instead of e.g. `DateTimeFormatter.ofPattern(&quot;EEE, d MMM yyyy HH:mm:ss Z&quot;, Locale.ENGLISH);`, you could use `DateTimeFormatter.RFC_1123_DATE_TIME`. This is possible because they are, on the contrary to `SimpleDateFormat`, thread safe. You could thus also define your own, if necessary.\r\n\r\nFor a particular input string format, you don&#39;t need to use an explicit `DateTimeFormatter`: a standard [ISO 8601][10] date, like 2016-09-26T17:44:57Z, can be parsed directly with [`LocalDateTime#parse(text)`][11] as it already uses the [`ISO_LOCAL_DATE_TIME`][12] formatter. Similarly, [`LocalDate#parse(text)`][13] parses an ISO date without the time component (see [`ISO_LOCAL_DATE`][14]), and [`ZonedDateTime#parse(text)`][15] parses an ISO date with an offset and time zone added (see [`ISO_ZONED_DATE_TIME`][16]).\r\n\r\n---\r\n\r\n## Pre-Java 8\r\n\r\nIn case you&#39;re not on Java 8 yet, or are forced to use `java.util.Date`, then format the date using [`SimpleDateFormat`][1] using a format pattern matching the input string.\r\n\r\n&lt;!--&gt;\r\n\r\n    String string = &quot;January 2, 2010&quot;;\r\n    DateFormat format = new SimpleDateFormat(&quot;MMMM d, yyyy&quot;, Locale.ENGLISH);\r\n    Date date = format.parse(string);\r\n    System.out.println(date); // Sat Jan 02 00:00:00 GMT 2010\r\n\r\nNote the importance of the explicit `Locale` argument. If you omit it, then it will use the [default locale][2] which is not necessarily English as used in the month name of the input string. If the locale doesn&#39;t match with the input string, then you would confusingly get a `java.text.ParseException` even though when the format pattern seems valid.\r\n\r\nHere&#39;s an extract of relevance from [the javadoc][1], listing all available format patterns:\r\n\r\n|Letter|Date or Time Component|Presentation|Examples\r\n|-|-|-|-\r\n|`G`|Era designator|Text|AD\r\n|`y`|Year|Year|1996; 96\r\n|`Y`|Week year|Year|2009; 09\r\n|`M`/`L`|Month in year|Month|July; Jul; 07\r\n|`w`|Week in year|Number|27\r\n|`W`|Week in month|Number|2\r\n|`D`|Day in year|Number|189\r\n|`d`|Day in month|Number|10\r\n|`F`|Day of week in month|Number|2\r\n|`E`|Day in week|Text|Tuesday; Tue\r\n|`u`|Day number of week|Number|1\r\n|`a`|Am/pm marker|Text|PM\r\n|`H`|Hour in day (0-23)|Number|0\r\n|`k`|Hour in day (1-24)|Number|24\r\n|`K`|Hour in am/pm (0-11)|Number|0\r\n|`h`|Hour in am/pm (1-12)|Number|12\r\n|`m`|Minute in hour|Number|30\r\n|`s`|Second in minute|Number|55\r\n|`S`|Millisecond|Number|978\r\n|`z`|Time zone|General time zone|Pacific Standard Time; PST; GMT-08:00\r\n|`Z`|Time zone|RFC 822 time zone |-0800\r\n|`X`|Time zone|ISO 8601 time zone|-08; -0800; -08:00\r\n\r\nNote that the patterns are case sensitive and that text based patterns of four characters or more represent the full form; otherwise a short or abbreviated form is used if available. So e.g. `MMMMM` or more is unnecessary.\r\n\r\nHere are some examples of valid `SimpleDateFormat` patterns to parse a given string to date:\r\n\r\n|Input string|Pattern\r\n|-|-\r\n|2001.07.04 AD at 12:08:56 PDT|`yyyy.MM.dd G &#39;at&#39; HH:mm:ss z`\r\n|Wed, Jul 4, &#39;01|`EEE, MMM d, &#39;&#39;yy`\r\n|12:08 PM|`h:mm a`\r\n|12 o&#39;clock PM, Pacific Daylight Time|`hh &#39;o&#39;&#39;clock&#39; a, zzzz`\r\n|0:08 PM, PDT|`K:mm a, z`\r\n|02001.July.04 AD 12:08 PM|`yyyyy.MMMM.dd GGG hh:mm aaa`\r\n|Wed, 4 Jul 2001 12:08:56 -0700|`EEE, d MMM yyyy HH:mm:ss Z`\r\n|010704120856-0700|`yyMMddHHmmssZ`\r\n|2001-07-04T12:08:56.235-0700|`yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZ`\r\n|2001-07-04T12:08:56.235-07:00|`yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX`\r\n|2001-W27-3|`YYYY-&#39;W&#39;ww-u`\r\n\r\nAn important note is that `SimpleDateFormat` is **not** thread safe. In other words, you should never declare and assign it as a static or instance variable and then reuse it from different methods/threads. You should always create it brand new within the method local scope.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/text/SimpleDateFormat.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Locale.html#getDefault()\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html\r\n  [4]: https://docs.oracle.com/javase/tutorial/datetime/iso/format.html\r\n  [5]: https://www.joda.org/joda-time/\r\n  [6]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDateTime.html#parse(java.lang.CharSequence,java.time.format.DateTimeFormatter)\r\n  [7]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html#parse(java.lang.CharSequence,java.time.format.DateTimeFormatter)\r\n  [8]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/ZonedDateDate.html#parse(java.lang.CharSequence,java.time.format.DateTimeFormatter)\r\n  [9]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html#predefined\r\n  [10]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [11]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDateTime.html#parse(java.lang.CharSequence)\r\n  [12]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html#ISO_LOCAL_DATE_TIME\r\n  [13]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html#parse(java.lang.CharSequence)\r\n  [14]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html#ISO_LOCAL_DATE\r\n  [15]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/ZonedDateTime.html#parse(java.lang.CharSequence)\r\n  [16]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html#ISO_ZONED_DATE_TIME\r\n","title":"Java string to date conversion","body":"<p>That's the hard way, and those <code>java.util.Date</code> setter methods have been deprecated since Java 1.1 (1997). Moreover, the whole <code>java.util.Date</code> class was de-facto deprecated (discommended) since introduction of <code>java.time</code> API in Java 8 (2014).</p>\n<p>Simply format the date using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html\" rel=\"noreferrer\"><code>DateTimeFormatter</code></a> with a pattern matching the input string (<a href=\"https://docs.oracle.com/javase/tutorial/datetime/iso/format.html\" rel=\"noreferrer\">the tutorial is available here</a>).</p>\n<p>In your specific case of &quot;January 2, 2010&quot; as the input string:</p>\n<ol>\n<li>&quot;January&quot; is the full text month, so use the <code>MMMM</code> pattern for it</li>\n<li>&quot;2&quot; is the short day-of-month, so use the <code>d</code> pattern for it.</li>\n<li>&quot;2010&quot; is the 4-digit year, so use the <code>yyyy</code> pattern for it.</li>\n</ol>\n\n<pre><code>String string = &quot;January 2, 2010&quot;;\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;MMMM d, yyyy&quot;, Locale.ENGLISH);\nLocalDate date = LocalDate.parse(string, formatter);\nSystem.out.println(date); // 2010-01-02\n</code></pre>\n<p>Note: if your format pattern happens to contain the time part as well, then use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDateTime.html#parse(java.lang.CharSequence,java.time.format.DateTimeFormatter)\" rel=\"noreferrer\"><code>LocalDateTime#parse(text, formatter)</code></a> instead of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html#parse(java.lang.CharSequence,java.time.format.DateTimeFormatter)\" rel=\"noreferrer\"><code>LocalDate#parse(text, formatter)</code></a>. And, if your format pattern happens to contain the time zone as well, then use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/ZonedDateDate.html#parse(java.lang.CharSequence,java.time.format.DateTimeFormatter)\" rel=\"noreferrer\"><code>ZonedDateTime#parse(text, formatter)</code></a> instead.</p>\n<p>Here's an extract of relevance from <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html\" rel=\"noreferrer\">the javadoc</a>, listing all available format patterns:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Symbol</th>\n<th>Meaning</th>\n<th>Presentation</th>\n<th>Examples</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>G</code></td>\n<td>era</td>\n<td>text</td>\n<td>AD; Anno Domini; A</td>\n</tr>\n<tr>\n<td><code>u</code></td>\n<td>year</td>\n<td>year</td>\n<td>2004; 04</td>\n</tr>\n<tr>\n<td><code>y</code></td>\n<td>year-of-era</td>\n<td>year</td>\n<td>2004; 04</td>\n</tr>\n<tr>\n<td><code>D</code></td>\n<td>day-of-year</td>\n<td>number</td>\n<td>189</td>\n</tr>\n<tr>\n<td><code>M</code>/<code>L</code></td>\n<td>month-of-year</td>\n<td>number/text</td>\n<td>7; 07; Jul; July; J</td>\n</tr>\n<tr>\n<td><code>d</code></td>\n<td>day-of-month</td>\n<td>number</td>\n<td>10</td>\n</tr>\n<tr>\n<td><code>Q</code>/<code>q</code></td>\n<td>quarter-of-year</td>\n<td>number/text</td>\n<td>3; 03; Q3; 3rd quarter</td>\n</tr>\n<tr>\n<td><code>Y</code></td>\n<td>week-based-year</td>\n<td>year</td>\n<td>1996; 96</td>\n</tr>\n<tr>\n<td><code>w</code></td>\n<td>week-of-week-based-year</td>\n<td>number</td>\n<td>27</td>\n</tr>\n<tr>\n<td><code>W</code></td>\n<td>week-of-month</td>\n<td>number</td>\n<td>4</td>\n</tr>\n<tr>\n<td><code>E</code></td>\n<td>day-of-week</td>\n<td>text</td>\n<td>Tue; Tuesday; T</td>\n</tr>\n<tr>\n<td><code>e</code>/<code>c</code></td>\n<td>localized day-of-week</td>\n<td>number/text</td>\n<td>2; 02; Tue; Tuesday; T</td>\n</tr>\n<tr>\n<td><code>F</code></td>\n<td>week-of-month</td>\n<td>number</td>\n<td>3</td>\n</tr>\n<tr>\n<td><code>a</code></td>\n<td>am-pm-of-day</td>\n<td>text</td>\n<td>PM</td>\n</tr>\n<tr>\n<td><code>h</code></td>\n<td>clock-hour-of-am-pm (1-12)</td>\n<td>number</td>\n<td>12</td>\n</tr>\n<tr>\n<td><code>K</code></td>\n<td>hour-of-am-pm (0-11)</td>\n<td>number</td>\n<td>0</td>\n</tr>\n<tr>\n<td><code>k</code></td>\n<td>clock-hour-of-am-pm (1-24)</td>\n<td>number</td>\n<td>0</td>\n</tr>\n<tr>\n<td><code>H</code></td>\n<td>hour-of-day (0-23)</td>\n<td>number</td>\n<td>0</td>\n</tr>\n<tr>\n<td><code>m</code></td>\n<td>minute-of-hour</td>\n<td>number</td>\n<td>30</td>\n</tr>\n<tr>\n<td><code>s</code></td>\n<td>second-of-minute</td>\n<td>number</td>\n<td>55</td>\n</tr>\n<tr>\n<td><code>S</code></td>\n<td>fraction-of-second</td>\n<td>fraction</td>\n<td>978</td>\n</tr>\n<tr>\n<td><code>A</code></td>\n<td>milli-of-day</td>\n<td>number</td>\n<td>1234</td>\n</tr>\n<tr>\n<td><code>n</code></td>\n<td>nano-of-second</td>\n<td>number</td>\n<td>987654321</td>\n</tr>\n<tr>\n<td><code>N</code></td>\n<td>nano-of-day</td>\n<td>number</td>\n<td>1234000000</td>\n</tr>\n<tr>\n<td><code>V</code></td>\n<td>time-zone ID</td>\n<td>zone-id</td>\n<td>America/Los_Angeles; Z; -08:30</td>\n</tr>\n<tr>\n<td><code>z</code></td>\n<td>time-zone name</td>\n<td>zone-name</td>\n<td>Pacific Standard Time; PST</td>\n</tr>\n<tr>\n<td><code>O</code></td>\n<td>localized zone-offset</td>\n<td>offset-O</td>\n<td>GMT+8; GMT+08:00; UTC-08:00;</td>\n</tr>\n<tr>\n<td><code>X</code></td>\n<td>zone-offset 'Z' for zero</td>\n<td>offset-X</td>\n<td>Z; -08; -0830; -08:30; -083015; -08:30:15;</td>\n</tr>\n<tr>\n<td><code>x</code></td>\n<td>zone-offset</td>\n<td>offset-x</td>\n<td>+0000; -08; -0830; -08:30; -083015; -08:30:15;</td>\n</tr>\n<tr>\n<td><code>Z</code></td>\n<td>zone-offset</td>\n<td>offset-Z</td>\n<td>+0000; -0800; -08:00;</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Do note that it has several <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html#predefined\" rel=\"noreferrer\">predefined formatters</a> for the more popular patterns. So instead of e.g. <code>DateTimeFormatter.ofPattern(&quot;EEE, d MMM yyyy HH:mm:ss Z&quot;, Locale.ENGLISH);</code>, you could use <code>DateTimeFormatter.RFC_1123_DATE_TIME</code>. This is possible because they are, on the contrary to <code>SimpleDateFormat</code>, thread safe. You could thus also define your own, if necessary.</p>\n<p>For a particular input string format, you don't need to use an explicit <code>DateTimeFormatter</code>: a standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"noreferrer\">ISO 8601</a> date, like 2016-09-26T17:44:57Z, can be parsed directly with <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDateTime.html#parse(java.lang.CharSequence)\" rel=\"noreferrer\"><code>LocalDateTime#parse(text)</code></a> as it already uses the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html#ISO_LOCAL_DATE_TIME\" rel=\"noreferrer\"><code>ISO_LOCAL_DATE_TIME</code></a> formatter. Similarly, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html#parse(java.lang.CharSequence)\" rel=\"noreferrer\"><code>LocalDate#parse(text)</code></a> parses an ISO date without the time component (see <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html#ISO_LOCAL_DATE\" rel=\"noreferrer\"><code>ISO_LOCAL_DATE</code></a>), and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/ZonedDateTime.html#parse(java.lang.CharSequence)\" rel=\"noreferrer\"><code>ZonedDateTime#parse(text)</code></a> parses an ISO date with an offset and time zone added (see <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html#ISO_ZONED_DATE_TIME\" rel=\"noreferrer\"><code>ISO_ZONED_DATE_TIME</code></a>).</p>\n<hr />\n<h2>Pre-Java 8</h2>\n<p>In case you're not on Java 8 yet, or are forced to use <code>java.util.Date</code>, then format the date using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code></a> using a format pattern matching the input string.</p>\n\n<pre><code>String string = &quot;January 2, 2010&quot;;\nDateFormat format = new SimpleDateFormat(&quot;MMMM d, yyyy&quot;, Locale.ENGLISH);\nDate date = format.parse(string);\nSystem.out.println(date); // Sat Jan 02 00:00:00 GMT 2010\n</code></pre>\n<p>Note the importance of the explicit <code>Locale</code> argument. If you omit it, then it will use the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Locale.html#getDefault()\" rel=\"noreferrer\">default locale</a> which is not necessarily English as used in the month name of the input string. If the locale doesn't match with the input string, then you would confusingly get a <code>java.text.ParseException</code> even though when the format pattern seems valid.</p>\n<p>Here's an extract of relevance from <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/text/SimpleDateFormat.html\" rel=\"noreferrer\">the javadoc</a>, listing all available format patterns:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Letter</th>\n<th>Date or Time Component</th>\n<th>Presentation</th>\n<th>Examples</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>G</code></td>\n<td>Era designator</td>\n<td>Text</td>\n<td>AD</td>\n</tr>\n<tr>\n<td><code>y</code></td>\n<td>Year</td>\n<td>Year</td>\n<td>1996; 96</td>\n</tr>\n<tr>\n<td><code>Y</code></td>\n<td>Week year</td>\n<td>Year</td>\n<td>2009; 09</td>\n</tr>\n<tr>\n<td><code>M</code>/<code>L</code></td>\n<td>Month in year</td>\n<td>Month</td>\n<td>July; Jul; 07</td>\n</tr>\n<tr>\n<td><code>w</code></td>\n<td>Week in year</td>\n<td>Number</td>\n<td>27</td>\n</tr>\n<tr>\n<td><code>W</code></td>\n<td>Week in month</td>\n<td>Number</td>\n<td>2</td>\n</tr>\n<tr>\n<td><code>D</code></td>\n<td>Day in year</td>\n<td>Number</td>\n<td>189</td>\n</tr>\n<tr>\n<td><code>d</code></td>\n<td>Day in month</td>\n<td>Number</td>\n<td>10</td>\n</tr>\n<tr>\n<td><code>F</code></td>\n<td>Day of week in month</td>\n<td>Number</td>\n<td>2</td>\n</tr>\n<tr>\n<td><code>E</code></td>\n<td>Day in week</td>\n<td>Text</td>\n<td>Tuesday; Tue</td>\n</tr>\n<tr>\n<td><code>u</code></td>\n<td>Day number of week</td>\n<td>Number</td>\n<td>1</td>\n</tr>\n<tr>\n<td><code>a</code></td>\n<td>Am/pm marker</td>\n<td>Text</td>\n<td>PM</td>\n</tr>\n<tr>\n<td><code>H</code></td>\n<td>Hour in day (0-23)</td>\n<td>Number</td>\n<td>0</td>\n</tr>\n<tr>\n<td><code>k</code></td>\n<td>Hour in day (1-24)</td>\n<td>Number</td>\n<td>24</td>\n</tr>\n<tr>\n<td><code>K</code></td>\n<td>Hour in am/pm (0-11)</td>\n<td>Number</td>\n<td>0</td>\n</tr>\n<tr>\n<td><code>h</code></td>\n<td>Hour in am/pm (1-12)</td>\n<td>Number</td>\n<td>12</td>\n</tr>\n<tr>\n<td><code>m</code></td>\n<td>Minute in hour</td>\n<td>Number</td>\n<td>30</td>\n</tr>\n<tr>\n<td><code>s</code></td>\n<td>Second in minute</td>\n<td>Number</td>\n<td>55</td>\n</tr>\n<tr>\n<td><code>S</code></td>\n<td>Millisecond</td>\n<td>Number</td>\n<td>978</td>\n</tr>\n<tr>\n<td><code>z</code></td>\n<td>Time zone</td>\n<td>General time zone</td>\n<td>Pacific Standard Time; PST; GMT-08:00</td>\n</tr>\n<tr>\n<td><code>Z</code></td>\n<td>Time zone</td>\n<td>RFC 822 time zone</td>\n<td>-0800</td>\n</tr>\n<tr>\n<td><code>X</code></td>\n<td>Time zone</td>\n<td>ISO 8601 time zone</td>\n<td>-08; -0800; -08:00</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Note that the patterns are case sensitive and that text based patterns of four characters or more represent the full form; otherwise a short or abbreviated form is used if available. So e.g. <code>MMMMM</code> or more is unnecessary.</p>\n<p>Here are some examples of valid <code>SimpleDateFormat</code> patterns to parse a given string to date:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Input string</th>\n<th>Pattern</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>2001.07.04 AD at 12:08:56 PDT</td>\n<td><code>yyyy.MM.dd G 'at' HH:mm:ss z</code></td>\n</tr>\n<tr>\n<td>Wed, Jul 4, '01</td>\n<td><code>EEE, MMM d, ''yy</code></td>\n</tr>\n<tr>\n<td>12:08 PM</td>\n<td><code>h:mm a</code></td>\n</tr>\n<tr>\n<td>12 o'clock PM, Pacific Daylight Time</td>\n<td><code>hh 'o''clock' a, zzzz</code></td>\n</tr>\n<tr>\n<td>0:08 PM, PDT</td>\n<td><code>K:mm a, z</code></td>\n</tr>\n<tr>\n<td>02001.July.04 AD 12:08 PM</td>\n<td><code>yyyyy.MMMM.dd GGG hh:mm aaa</code></td>\n</tr>\n<tr>\n<td>Wed, 4 Jul 2001 12:08:56 -0700</td>\n<td><code>EEE, d MMM yyyy HH:mm:ss Z</code></td>\n</tr>\n<tr>\n<td>010704120856-0700</td>\n<td><code>yyMMddHHmmssZ</code></td>\n</tr>\n<tr>\n<td>2001-07-04T12:08:56.235-0700</td>\n<td><code>yyyy-MM-dd'T'HH:mm:ss.SSSZ</code></td>\n</tr>\n<tr>\n<td>2001-07-04T12:08:56.235-07:00</td>\n<td><code>yyyy-MM-dd'T'HH:mm:ss.SSSXXX</code></td>\n</tr>\n<tr>\n<td>2001-W27-3</td>\n<td><code>YYYY-'W'ww-u</code></td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>An important note is that <code>SimpleDateFormat</code> is <strong>not</strong> thread safe. In other words, you should never declare and assign it as a static or instance variable and then reuse it from different methods/threads. You should always create it brand new within the method local scope.</p>\n"},{"tags":[],"owner":{"account_id":16021,"reputation":4294,"user_id":34475,"accept_rate":74,"display_name":"pn1 dude"},"down_vote_count":0,"up_vote_count":83,"is_accepted":false,"score":83,"last_activity_date":1290137260,"creation_date":1290137260,"answer_id":4221838,"question_id":4216745,"body_markdown":"Ah yes the Java Date discussion, again.  To deal with date manipulation we use [Date][1], [Calendar][2], [GregorianCalendar][3], and [SimpleDateFormat][4].  For example using your January date as input:\r\n\r\n    Calendar mydate = new GregorianCalendar();\r\n    String mystring = &quot;January 2, 2010&quot;;\r\n    Date thedate = new SimpleDateFormat(&quot;MMMM d, yyyy&quot;, Locale.ENGLISH).parse(mystring);\r\n    mydate.setTime(thedate);\r\n    //breakdown\r\n    System.out.println(&quot;mydate -&gt; &quot;+mydate);\r\n    System.out.println(&quot;year   -&gt; &quot;+mydate.get(Calendar.YEAR));\r\n    System.out.println(&quot;month  -&gt; &quot;+mydate.get(Calendar.MONTH));\r\n    System.out.println(&quot;dom    -&gt; &quot;+mydate.get(Calendar.DAY_OF_MONTH));\r\n    System.out.println(&quot;dow    -&gt; &quot;+mydate.get(Calendar.DAY_OF_WEEK));\r\n    System.out.println(&quot;hour   -&gt; &quot;+mydate.get(Calendar.HOUR));\r\n    System.out.println(&quot;minute -&gt; &quot;+mydate.get(Calendar.MINUTE));\r\n    System.out.println(&quot;second -&gt; &quot;+mydate.get(Calendar.SECOND));\r\n    System.out.println(&quot;milli  -&gt; &quot;+mydate.get(Calendar.MILLISECOND));\r\n    System.out.println(&quot;ampm   -&gt; &quot;+mydate.get(Calendar.AM_PM));\r\n    System.out.println(&quot;hod    -&gt; &quot;+mydate.get(Calendar.HOUR_OF_DAY));\r\n\r\nThen you can manipulate that with something like:\r\n\r\n    Calendar now = Calendar.getInstance();\r\n    mydate.set(Calendar.YEAR,2009);\r\n    mydate.set(Calendar.MONTH,Calendar.FEBRUARY);\r\n    mydate.set(Calendar.DAY_OF_MONTH,25);\r\n    mydate.set(Calendar.HOUR_OF_DAY,now.get(Calendar.HOUR_OF_DAY));\r\n    mydate.set(Calendar.MINUTE,now.get(Calendar.MINUTE));\r\n    mydate.set(Calendar.SECOND,now.get(Calendar.SECOND));\r\n    // or with one statement\r\n    //mydate.set(2009, Calendar.FEBRUARY, 25, now.get(Calendar.HOUR_OF_DAY), now.get(Calendar.MINUTE), now.get(Calendar.SECOND));\r\n    System.out.println(&quot;mydate -&gt; &quot;+mydate);\r\n    System.out.println(&quot;year   -&gt; &quot;+mydate.get(Calendar.YEAR));\r\n    System.out.println(&quot;month  -&gt; &quot;+mydate.get(Calendar.MONTH));\r\n    System.out.println(&quot;dom    -&gt; &quot;+mydate.get(Calendar.DAY_OF_MONTH));\r\n    System.out.println(&quot;dow    -&gt; &quot;+mydate.get(Calendar.DAY_OF_WEEK));\r\n    System.out.println(&quot;hour   -&gt; &quot;+mydate.get(Calendar.HOUR));\r\n    System.out.println(&quot;minute -&gt; &quot;+mydate.get(Calendar.MINUTE));\r\n    System.out.println(&quot;second -&gt; &quot;+mydate.get(Calendar.SECOND));\r\n    System.out.println(&quot;milli  -&gt; &quot;+mydate.get(Calendar.MILLISECOND));\r\n    System.out.println(&quot;ampm   -&gt; &quot;+mydate.get(Calendar.AM_PM));\r\n    System.out.println(&quot;hod    -&gt; &quot;+mydate.get(Calendar.HOUR_OF_DAY));\r\n\r\n  [1]: http://download.oracle.com/javase/1.4.2/docs/api/java/util/Date.html\r\n  [2]: http://download.oracle.com/javase/6/docs/api/java/util/Calendar.html\r\n  [3]: http://download.oracle.com/javase/6/docs/api/java/util/GregorianCalendar.html\r\n  [4]: http://download.oracle.com/javase/6/docs/api/java/text/SimpleDateFormat.html\r\n","title":"Java string to date conversion","body":"<p>Ah yes the Java Date discussion, again.  To deal with date manipulation we use <a href=\"http://download.oracle.com/javase/1.4.2/docs/api/java/util/Date.html\" rel=\"noreferrer\">Date</a>, <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Calendar.html\" rel=\"noreferrer\">Calendar</a>, <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/GregorianCalendar.html\" rel=\"noreferrer\">GregorianCalendar</a>, and <a href=\"http://download.oracle.com/javase/6/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\">SimpleDateFormat</a>.  For example using your January date as input:</p>\n\n<pre><code>Calendar mydate = new GregorianCalendar();\nString mystring = \"January 2, 2010\";\nDate thedate = new SimpleDateFormat(\"MMMM d, yyyy\", Locale.ENGLISH).parse(mystring);\nmydate.setTime(thedate);\n//breakdown\nSystem.out.println(\"mydate -&gt; \"+mydate);\nSystem.out.println(\"year   -&gt; \"+mydate.get(Calendar.YEAR));\nSystem.out.println(\"month  -&gt; \"+mydate.get(Calendar.MONTH));\nSystem.out.println(\"dom    -&gt; \"+mydate.get(Calendar.DAY_OF_MONTH));\nSystem.out.println(\"dow    -&gt; \"+mydate.get(Calendar.DAY_OF_WEEK));\nSystem.out.println(\"hour   -&gt; \"+mydate.get(Calendar.HOUR));\nSystem.out.println(\"minute -&gt; \"+mydate.get(Calendar.MINUTE));\nSystem.out.println(\"second -&gt; \"+mydate.get(Calendar.SECOND));\nSystem.out.println(\"milli  -&gt; \"+mydate.get(Calendar.MILLISECOND));\nSystem.out.println(\"ampm   -&gt; \"+mydate.get(Calendar.AM_PM));\nSystem.out.println(\"hod    -&gt; \"+mydate.get(Calendar.HOUR_OF_DAY));\n</code></pre>\n\n<p>Then you can manipulate that with something like:</p>\n\n<pre><code>Calendar now = Calendar.getInstance();\nmydate.set(Calendar.YEAR,2009);\nmydate.set(Calendar.MONTH,Calendar.FEBRUARY);\nmydate.set(Calendar.DAY_OF_MONTH,25);\nmydate.set(Calendar.HOUR_OF_DAY,now.get(Calendar.HOUR_OF_DAY));\nmydate.set(Calendar.MINUTE,now.get(Calendar.MINUTE));\nmydate.set(Calendar.SECOND,now.get(Calendar.SECOND));\n// or with one statement\n//mydate.set(2009, Calendar.FEBRUARY, 25, now.get(Calendar.HOUR_OF_DAY), now.get(Calendar.MINUTE), now.get(Calendar.SECOND));\nSystem.out.println(\"mydate -&gt; \"+mydate);\nSystem.out.println(\"year   -&gt; \"+mydate.get(Calendar.YEAR));\nSystem.out.println(\"month  -&gt; \"+mydate.get(Calendar.MONTH));\nSystem.out.println(\"dom    -&gt; \"+mydate.get(Calendar.DAY_OF_MONTH));\nSystem.out.println(\"dow    -&gt; \"+mydate.get(Calendar.DAY_OF_WEEK));\nSystem.out.println(\"hour   -&gt; \"+mydate.get(Calendar.HOUR));\nSystem.out.println(\"minute -&gt; \"+mydate.get(Calendar.MINUTE));\nSystem.out.println(\"second -&gt; \"+mydate.get(Calendar.SECOND));\nSystem.out.println(\"milli  -&gt; \"+mydate.get(Calendar.MILLISECOND));\nSystem.out.println(\"ampm   -&gt; \"+mydate.get(Calendar.AM_PM));\nSystem.out.println(\"hod    -&gt; \"+mydate.get(Calendar.HOUR_OF_DAY));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1079110,"reputation":201,"user_id":1076595,"display_name":"Jim"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1521761522,"creation_date":1322790535,"answer_id":8350808,"question_id":4216745,"body_markdown":"While on dealing with the SimpleDateFormat class, it&#39;s important to remember that Date is not thread-safe and you can not share a single Date object with multiple threads.\r\n\r\nAlso there is big difference between &quot;m&quot; and &quot;M&quot; where small case is used for minutes and capital case is used for month. The same with &quot;d&quot; and &quot;D&quot;. This can cause subtle bugs which often get overlooked. See [Javadoc][1] or *[Guide to Convert String to Date in Java][2]* for more details.\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/text/SimpleDateFormat.html\r\n  [2]: http://javarevisited.blogspot.com/2011/09/step-by-step-guide-to-convert-string-to.html\r\n","title":"Java string to date conversion","body":"<p>While on dealing with the SimpleDateFormat class, it's important to remember that Date is not thread-safe and you can not share a single Date object with multiple threads.</p>\n\n<p>Also there is big difference between \"m\" and \"M\" where small case is used for minutes and capital case is used for month. The same with \"d\" and \"D\". This can cause subtle bugs which often get overlooked. See <a href=\"http://download.oracle.com/javase/6/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\">Javadoc</a> or <em><a href=\"http://javarevisited.blogspot.com/2011/09/step-by-step-guide-to-convert-string-to.html\" rel=\"noreferrer\">Guide to Convert String to Date in Java</a></em> for more details.</p>\n"},{"tags":[],"owner":{"account_id":1671980,"reputation":511,"user_id":1538281,"display_name":"Vaishali Kulkarni"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1521761722,"creation_date":1355156215,"answer_id":13804776,"question_id":4216745,"body_markdown":"Also, SimpleDateFormat is not available with some of the client-side technologies, like [GWT][1].\r\n\r\nIt&#39;s a good idea to go for Calendar.getInstance(), and your requirement is to compare two dates; go for long date.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Google_Web_Toolkit\r\n\r\n","title":"Java string to date conversion","body":"<p>Also, SimpleDateFormat is not available with some of the client-side technologies, like <a href=\"https://en.wikipedia.org/wiki/Google_Web_Toolkit\" rel=\"nofollow noreferrer\">GWT</a>.</p>\n\n<p>It's a good idea to go for Calendar.getInstance(), and your requirement is to compare two dates; go for long date.</p>\n"},{"tags":[],"owner":{"account_id":1979587,"reputation":1793,"user_id":1776510,"accept_rate":75,"display_name":"eshwar"},"down_vote_count":4,"up_vote_count":72,"is_accepted":false,"score":68,"last_activity_date":1617079214,"creation_date":1358233351,"answer_id":14332620,"question_id":4216745,"body_markdown":"    String str_date = &quot;11-June-07&quot;;\r\n    DateFormat formatter = new SimpleDateFormat(&quot;dd-MMM-yy&quot;);\r\n    Date date = formatter.parse(str_date);\r\n","title":"Java string to date conversion","body":"<pre><code>String str_date = &quot;11-June-07&quot;;\nDateFormat formatter = new SimpleDateFormat(&quot;dd-MMM-yy&quot;);\nDate date = formatter.parse(str_date);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2323818,"reputation":3085,"user_id":2038772,"display_name":"Luna Kong"},"down_vote_count":4,"up_vote_count":26,"is_accepted":false,"score":22,"last_activity_date":1549993444,"creation_date":1386161166,"answer_id":20375794,"question_id":4216745,"body_markdown":"    DateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n    Date date;\r\n    try {\r\n        date = dateFormat.parse(&quot;2013-12-4&quot;);\r\n        System.out.println(date.toString()); // Wed Dec 04 00:00:00 CST 2013\r\n\r\n        String output = dateFormat.format(date);\r\n        System.out.println(output); // 2013-12-04\r\n    } \r\n    catch (ParseException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\nIt works fine for me.\r\n","title":"Java string to date conversion","body":"<pre><code>DateFormat dateFormat = new SimpleDateFormat(\"yyyy-MM-dd\");\nDate date;\ntry {\n    date = dateFormat.parse(\"2013-12-4\");\n    System.out.println(date.toString()); // Wed Dec 04 00:00:00 CST 2013\n\n    String output = dateFormat.format(date);\n    System.out.println(output); // 2013-12-04\n} \ncatch (ParseException e) {\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>It works fine for me.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1392280452,"creation_date":1392279748,"answer_id":21748668,"question_id":4216745,"body_markdown":"While some of the answers are technically correct, they are not advisable. \r\n\r\n - The java.util.Date &amp; Calendar classes are notoriously troublesome. Because of flaws in design and implementation, avoid them. Fortunately we have our choice of two other excellent date-time libraries:\r\n  - **[Joda-Time][1]**&lt;br&gt;This popular open-source free-of-cost library can be used across several versions of Java. Many examples of its usage may be found on StackOverflow. Reading some of these will help get you up to speed quickly.\r\n  - **[java.time.* package][2]**&lt;br&gt;This new set of classes are inspired by Joda-Time and defined by JSR 310. These classes are built into Java 8. A project is underway to backport these classes to Java 7, but that backporting is not backed by Oracle.\r\n - As Kristopher Johnson correctly noted in his comment on the question, the other answers ignore vital issues of:\r\n  - **Time of Day**&lt;br&gt;Date has both a date portion and a time-of-day portion)\r\n  - **Time Zone**&lt;br&gt;The beginning of a day depends on the time zone. If you fail to specify a time zone, the JVM&#39;s default time zone is applied. That means the behavior of your code may change when run on other computers or with a modified time zone setting. Probably not what you want.\r\n  - **Locale**&lt;br&gt;The Locale&#39;s language specifies how to interpret the words (name of month and of day) encountered during parsing. (The [answer by BalusC][3] handles this properly.) Also, the Locale affects the output of some formatters when generating a string representation of your date-time.\r\n\r\nJoda-Time\r\n==\r\n\r\nA few notes about Joda-Time follow.\r\n\r\nTime Zone\r\n--\r\n\r\nIn [Joda-Time][4], a [DateTime][5] object truly knows its own assigned time zone. This contrasts the java.util.Date class which *seems* to have a time zone but does not.\r\n\r\nNote in the example code below how we pass a time zone object to the formatter which parses the string. That time zone is used to interpret that date-time as having occurred in that time zone. So you need to think about and determine the time zone represented by that string input.\r\n\r\nSince you have no time portion in your input string, Joda-Time assigns the first moment of the day of the specified time zone as the time-of-day. Usually this means `00:00:00` but not always, because of [Daylight Saving Time (DST)][6] or other anomalies. By the way, you can do the same to any DateTime instance by calling `withTimeAtStartOfDay`.\r\n\r\nFormatter Pattern\r\n--\r\n\r\nThe characters used in a formatter&#39;s pattern are similar in Joda-Time to those in java.util.Date/Calendar but not exactly the same. Carefully read the doc.\r\n\r\nImmutability\r\n--\r\n\r\nWe usually use the immutable classes in Joda-Time. Rather than modify an existing Date-Time object, we call methods that create a new fresh instance based on the other object with most aspects copied except where alterations were desired. An example is the call to `withZone` in last line below. [Immutability][7] helps to make Joda-Time very thread-safe, and can also make some work more clear.\r\n\r\nConversion\r\n--\r\n\r\nYou will need java.util.Date objects for use with other classes/framework that do not know about Joda-Time objects. Fortunately, it is very easy to move back and forth.\r\n\r\nGoing from a java.util.Date object (here named `date`) to Joda-Time DateTime…\r\n\r\n    org.joda.time.DateTime dateTime = new DateTime( date, timeZone );\r\n\r\nGoing the other direction from Joda-Time to a java.util.Date object…\r\n\r\n    java.util.Date date = dateTime.toDate();\r\n\r\n\r\nSample Code\r\n--\r\n\r\n    String input = &quot;January 2, 2010&quot;;\r\n\r\n    java.util.Locale locale = java.util.Locale.US;\r\n    DateTimeZone timeZone = DateTimeZone.forID( &quot;Pacific/Honolulu&quot; ); // Arbitrarily chosen for example.\r\n    DateTimeFormatter formatter = DateTimeFormat.forPattern( &quot;MMMM d, yyyy&quot; ).withZone( timeZone ).withLocale( locale );\r\n    DateTime dateTime = formatter.parseDateTime( input );\r\n\r\n    System.out.println( &quot;dateTime: &quot; + dateTime );\r\n    System.out.println( &quot;dateTime in UTC/GMT: &quot; + dateTime.withZone( DateTimeZone.UTC ) );\r\n\r\nWhen run…\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    dateTime: 2010-01-02T00:00:00.000-10:00\r\n    dateTime in UTC/GMT: 2010-01-02T10:00:00.000Z\r\n\r\n\r\n  [1]: http://www.joda.org/joda-time/\r\n  [2]: http://download.java.net/jdk8/docs/api/java/time/package-summary.html\r\n  [3]: https://stackoverflow.com/a/4216767/642706\r\n  [4]: http://www.joda.org/joda-time/\r\n  [5]: http://www.joda.org/joda-time/apidocs/org/joda/time/DateTime.html\r\n  [6]: https://en.wikipedia.org/wiki/Daylight_saving_time\r\n  [7]: https://en.wikipedia.org/wiki/Immutable_object","title":"Java string to date conversion","body":"<p>While some of the answers are technically correct, they are not advisable. </p>\n\n<ul>\n<li>The java.util.Date &amp; Calendar classes are notoriously troublesome. Because of flaws in design and implementation, avoid them. Fortunately we have our choice of two other excellent date-time libraries:\n\n<ul>\n<li><strong><a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-Time</a></strong><br>This popular open-source free-of-cost library can be used across several versions of Java. Many examples of its usage may be found on StackOverflow. Reading some of these will help get you up to speed quickly.</li>\n<li><strong><a href=\"http://download.java.net/jdk8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time.* package</a></strong><br>This new set of classes are inspired by Joda-Time and defined by JSR 310. These classes are built into Java 8. A project is underway to backport these classes to Java 7, but that backporting is not backed by Oracle.</li>\n</ul></li>\n<li>As Kristopher Johnson correctly noted in his comment on the question, the other answers ignore vital issues of:\n\n<ul>\n<li><strong>Time of Day</strong><br>Date has both a date portion and a time-of-day portion)</li>\n<li><strong>Time Zone</strong><br>The beginning of a day depends on the time zone. If you fail to specify a time zone, the JVM's default time zone is applied. That means the behavior of your code may change when run on other computers or with a modified time zone setting. Probably not what you want.</li>\n<li><strong>Locale</strong><br>The Locale's language specifies how to interpret the words (name of month and of day) encountered during parsing. (The <a href=\"https://stackoverflow.com/a/4216767/642706\">answer by BalusC</a> handles this properly.) Also, the Locale affects the output of some formatters when generating a string representation of your date-time.</li>\n</ul></li>\n</ul>\n\n<h1>Joda-Time</h1>\n\n<p>A few notes about Joda-Time follow.</p>\n\n<h2>Time Zone</h2>\n\n<p>In <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-Time</a>, a <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/DateTime.html\" rel=\"noreferrer\">DateTime</a> object truly knows its own assigned time zone. This contrasts the java.util.Date class which <em>seems</em> to have a time zone but does not.</p>\n\n<p>Note in the example code below how we pass a time zone object to the formatter which parses the string. That time zone is used to interpret that date-time as having occurred in that time zone. So you need to think about and determine the time zone represented by that string input.</p>\n\n<p>Since you have no time portion in your input string, Joda-Time assigns the first moment of the day of the specified time zone as the time-of-day. Usually this means <code>00:00:00</code> but not always, because of <a href=\"https://en.wikipedia.org/wiki/Daylight_saving_time\" rel=\"noreferrer\">Daylight Saving Time (DST)</a> or other anomalies. By the way, you can do the same to any DateTime instance by calling <code>withTimeAtStartOfDay</code>.</p>\n\n<h2>Formatter Pattern</h2>\n\n<p>The characters used in a formatter's pattern are similar in Joda-Time to those in java.util.Date/Calendar but not exactly the same. Carefully read the doc.</p>\n\n<h2>Immutability</h2>\n\n<p>We usually use the immutable classes in Joda-Time. Rather than modify an existing Date-Time object, we call methods that create a new fresh instance based on the other object with most aspects copied except where alterations were desired. An example is the call to <code>withZone</code> in last line below. <a href=\"https://en.wikipedia.org/wiki/Immutable_object\" rel=\"noreferrer\">Immutability</a> helps to make Joda-Time very thread-safe, and can also make some work more clear.</p>\n\n<h2>Conversion</h2>\n\n<p>You will need java.util.Date objects for use with other classes/framework that do not know about Joda-Time objects. Fortunately, it is very easy to move back and forth.</p>\n\n<p>Going from a java.util.Date object (here named <code>date</code>) to Joda-Time DateTime…</p>\n\n<pre><code>org.joda.time.DateTime dateTime = new DateTime( date, timeZone );\n</code></pre>\n\n<p>Going the other direction from Joda-Time to a java.util.Date object…</p>\n\n<pre><code>java.util.Date date = dateTime.toDate();\n</code></pre>\n\n<h2>Sample Code</h2>\n\n<pre><code>String input = \"January 2, 2010\";\n\njava.util.Locale locale = java.util.Locale.US;\nDateTimeZone timeZone = DateTimeZone.forID( \"Pacific/Honolulu\" ); // Arbitrarily chosen for example.\nDateTimeFormatter formatter = DateTimeFormat.forPattern( \"MMMM d, yyyy\" ).withZone( timeZone ).withLocale( locale );\nDateTime dateTime = formatter.parseDateTime( input );\n\nSystem.out.println( \"dateTime: \" + dateTime );\nSystem.out.println( \"dateTime in UTC/GMT: \" + dateTime.withZone( DateTimeZone.UTC ) );\n</code></pre>\n\n<p>When run…</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>dateTime: 2010-01-02T00:00:00.000-10:00\ndateTime in UTC/GMT: 2010-01-02T10:00:00.000Z\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1129042,"reputation":48134,"user_id":1115554,"accept_rate":100,"display_name":"micha"},"down_vote_count":0,"up_vote_count":48,"is_accepted":false,"score":48,"last_activity_date":1551191433,"creation_date":1393959378,"answer_id":22180505,"question_id":4216745,"body_markdown":"With Java 8 we get a new Date / Time API ([JSR 310][1]).\r\n\r\nThe following way can be used to parse the date in Java 8 without relying on [Joda-Time][2]:\r\n\r\n   \r\n\r\n     String str = &quot;January 2nd, 2010&quot;;\r\n\r\n---\r\n\r\n    // if we 2nd even we have changed in pattern also it is not working please workout with 2nd \r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;MMMM Q, yyyy&quot;, Locale.ENGLISH);\r\n    LocalDate date = LocalDate.parse(str, formatter);\r\n\r\n---\r\n\r\n    // access date fields\r\n    int year = date.getYear(); // 2010\r\n    int day = date.getDayOfMonth(); // 2\r\n    Month month = date.getMonth(); // JANUARY\r\n    int monthAsInt = month.getValue(); // 1\r\n\r\n---\r\n\r\n[LocalDate][3] is the standard Java 8 class for representing a date (without time). If you want to parse values that contain date and time information you should use [LocalDateTime][4]. For values with timezones use [ZonedDateTime][5]. Both provide a `parse()` method similar to `LocalDate`:\r\n\r\n    LocalDateTime dateWithTime = LocalDateTime.parse(strWithDateAndTime, dateTimeFormatter);\r\n    ZonedDateTime zoned = ZonedDateTime.parse(strWithTimeZone, zoneFormatter);\r\n\r\nThe list formatting characters from [DateTimeFormatter Javadoc][6]:\r\n\r\n    All letters &#39;A&#39; to &#39;Z&#39; and &#39;a&#39; to &#39;z&#39; are reserved as pattern letters. \r\n    The following pattern letters are defined:\r\n\r\n    Symbol  Meaning                     Presentation      Examples\r\n    ------  -------                     ------------      -------\r\n     G       era                         text              AD; Anno Domini; A\r\n     u       year                        year              2004; 04\r\n     y       year-of-era                 year              2004; 04\r\n     D       day-of-year                 number            189\r\n     M/L     month-of-year               number/text       7; 07; Jul; July; J\r\n     d       day-of-month                number            10\r\n\r\n     Q/q     quarter-of-year             number/text       3; 03; Q3; 3rd quarter\r\n     Y       week-based-year             year              1996; 96\r\n     w       week-of-week-based-year     number            27\r\n     W       week-of-month               number            4\r\n     E       day-of-week                 text              Tue; Tuesday; T\r\n     e/c     localized day-of-week       number/text       2; 02; Tue; Tuesday; T\r\n     F       week-of-month               number            3\r\n\r\n     a       am-pm-of-day                text              PM\r\n     h       clock-hour-of-am-pm (1-12)  number            12\r\n     K       hour-of-am-pm (0-11)        number            0\r\n     k       clock-hour-of-am-pm (1-24)  number            0\r\n\r\n     H       hour-of-day (0-23)          number            0\r\n     m       minute-of-hour              number            30\r\n     s       second-of-minute            number            55\r\n     S       fraction-of-second          fraction          978\r\n     A       milli-of-day                number            1234\r\n     n       nano-of-second              number            987654321\r\n     N       nano-of-day                 number            1234000000\r\n\r\n     V       time-zone ID                zone-id           America/Los_Angeles; Z; -08:30\r\n     z       time-zone name              zone-name         Pacific Standard Time; PST\r\n     O       localized zone-offset       offset-O          GMT+8; GMT+08:00; UTC-08:00;\r\n     X       zone-offset &#39;Z&#39; for zero    offset-X          Z; -08; -0830; -08:30; -083015; -08:30:15;\r\n     x       zone-offset                 offset-x          +0000; -08; -0830; -08:30; -083015; -08:30:15;\r\n     Z       zone-offset                 offset-Z          +0000; -0800; -08:00;\r\n\r\n\r\n  [1]: https://jcp.org/en/jsr/detail?id=310\r\n  [2]: http://www.joda.org/joda-time/\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\r\n  [6]: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\r\n\r\n\r\n\r\n\r\n\r\n","title":"Java string to date conversion","body":"<p>With Java 8 we get a new Date / Time API (<a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>).</p>\n\n<p>The following way can be used to parse the date in Java 8 without relying on <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-Time</a>:</p>\n\n<pre><code> String str = \"January 2nd, 2010\";\n</code></pre>\n\n<hr>\n\n<pre><code>// if we 2nd even we have changed in pattern also it is not working please workout with 2nd \nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(\"MMMM Q, yyyy\", Locale.ENGLISH);\nLocalDate date = LocalDate.parse(str, formatter);\n</code></pre>\n\n<hr>\n\n<pre><code>// access date fields\nint year = date.getYear(); // 2010\nint day = date.getDayOfMonth(); // 2\nMonth month = date.getMonth(); // JANUARY\nint monthAsInt = month.getValue(); // 1\n</code></pre>\n\n<hr>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"noreferrer\">LocalDate</a> is the standard Java 8 class for representing a date (without time). If you want to parse values that contain date and time information you should use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\" rel=\"noreferrer\">LocalDateTime</a>. For values with timezones use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\" rel=\"noreferrer\">ZonedDateTime</a>. Both provide a <code>parse()</code> method similar to <code>LocalDate</code>:</p>\n\n<pre><code>LocalDateTime dateWithTime = LocalDateTime.parse(strWithDateAndTime, dateTimeFormatter);\nZonedDateTime zoned = ZonedDateTime.parse(strWithTimeZone, zoneFormatter);\n</code></pre>\n\n<p>The list formatting characters from <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"noreferrer\">DateTimeFormatter Javadoc</a>:</p>\n\n<pre><code>All letters 'A' to 'Z' and 'a' to 'z' are reserved as pattern letters. \nThe following pattern letters are defined:\n\nSymbol  Meaning                     Presentation      Examples\n------  -------                     ------------      -------\n G       era                         text              AD; Anno Domini; A\n u       year                        year              2004; 04\n y       year-of-era                 year              2004; 04\n D       day-of-year                 number            189\n M/L     month-of-year               number/text       7; 07; Jul; July; J\n d       day-of-month                number            10\n\n Q/q     quarter-of-year             number/text       3; 03; Q3; 3rd quarter\n Y       week-based-year             year              1996; 96\n w       week-of-week-based-year     number            27\n W       week-of-month               number            4\n E       day-of-week                 text              Tue; Tuesday; T\n e/c     localized day-of-week       number/text       2; 02; Tue; Tuesday; T\n F       week-of-month               number            3\n\n a       am-pm-of-day                text              PM\n h       clock-hour-of-am-pm (1-12)  number            12\n K       hour-of-am-pm (0-11)        number            0\n k       clock-hour-of-am-pm (1-24)  number            0\n\n H       hour-of-day (0-23)          number            0\n m       minute-of-hour              number            30\n s       second-of-minute            number            55\n S       fraction-of-second          fraction          978\n A       milli-of-day                number            1234\n n       nano-of-second              number            987654321\n N       nano-of-day                 number            1234000000\n\n V       time-zone ID                zone-id           America/Los_Angeles; Z; -08:30\n z       time-zone name              zone-name         Pacific Standard Time; PST\n O       localized zone-offset       offset-O          GMT+8; GMT+08:00; UTC-08:00;\n X       zone-offset 'Z' for zero    offset-X          Z; -08; -0830; -08:30; -083015; -08:30:15;\n x       zone-offset                 offset-x          +0000; -08; -0830; -08:30; -083015; -08:30:15;\n Z       zone-offset                 offset-Z          +0000; -0800; -08:00;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3087409,"reputation":10441,"user_id":2614299,"accept_rate":91,"display_name":"Dimitri Dewaele"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1417774789,"creation_date":1417710860,"answer_id":27299164,"question_id":4216745,"body_markdown":"My humble test program. I use it to play around with the formatter and look-up long dates that I find in log-files (but who has put them there...).\r\n\r\n**My test program:**\r\n\r\n    package be.test.package.time;\r\n    \r\n    import java.text.DateFormat;\r\n    import java.text.ParseException;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.ArrayList;\r\n    import java.util.Date;\r\n    import java.util.List;\r\n    import java.util.TimeZone;\r\n    \r\n    public class TimeWork {\r\n    \r\n    \tpublic static void main(String[] args) {\t\r\n    \t\t\r\n    \t\tTimeZone timezone = TimeZone.getTimeZone(&quot;UTC&quot;);\r\n    \t\r\n    \t\tList&lt;Long&gt; longs = new ArrayList&lt;&gt;();\r\n    \t\tList&lt;String&gt; strings = new ArrayList&lt;&gt;();\r\n    \t\t\r\n    \t\t//Formatting a date needs a timezone - otherwise the date get formatted to your system time zone.\r\n    \t\t//Use 24h format HH. In 12h format hh can be in range 0-11, which makes 12 overflow to 0.\r\n    \t\tDateFormat formatter = new SimpleDateFormat(&quot;dd-MM-yyyy HH:mm:ss.SSS&quot;);\r\n    \t\tformatter.setTimeZone(timezone);\r\n    \t\t\r\n    \t\tDate now = new Date();\r\n    \t\t\r\n    \t\t//Test dates\r\n    \t\tstrings.add(formatter.format(now));\r\n    \t\tstrings.add(&quot;01-01-1970 00:00:00.000&quot;);\r\n    \t\tstrings.add(&quot;01-01-1970 00:00:01.000&quot;);\r\n    \t\tstrings.add(&quot;01-01-1970 00:01:00.000&quot;);\r\n    \t\tstrings.add(&quot;01-01-1970 01:00:00.000&quot;);\r\n    \t\tstrings.add(&quot;01-01-1970 10:00:00.000&quot;);\r\n    \t\tstrings.add(&quot;01-01-1970 12:00:00.000&quot;);\r\n    \t\tstrings.add(&quot;01-01-1970 24:00:00.000&quot;);\r\n    \t\tstrings.add(&quot;02-01-1970 00:00:00.000&quot;);\r\n    \t\tstrings.add(&quot;01-01-1971 00:00:00.000&quot;);\r\n    \t\tstrings.add(&quot;01-01-2014 00:00:00.000&quot;);\r\n    \t\tstrings.add(&quot;31-12-1969 23:59:59.000&quot;);\r\n    \t\tstrings.add(&quot;31-12-1969 23:59:00.000&quot;);\r\n    \t\tstrings.add(&quot;31-12-1969 23:00:00.000&quot;);\r\n    \t\t\r\n    \t\t//Test data\r\n    \t\tlongs.add(now.getTime());\r\n    \t\tlongs.add(-1L);\r\n    \t\tlongs.add(0L); //Long date presentation at - midnight 1/1/1970 UTC - The timezone is important!\r\n    \t\tlongs.add(1L);\r\n    \t\tlongs.add(1000L);\r\n    \t\tlongs.add(60000L);\r\n    \t\tlongs.add(3600000L);\r\n    \t\tlongs.add(36000000L);\r\n    \t\tlongs.add(43200000L);\r\n    \t\tlongs.add(86400000L);\r\n    \t\tlongs.add(31536000000L);\r\n    \t\tlongs.add(1388534400000L);\r\n    \t\tlongs.add(7260000L);\r\n    \t\tlongs.add(1417706084037L);\r\n    \t\tlongs.add(-7260000L);\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;===== String to long =====&quot;);\r\n    \t\t\r\n    \t\t//Show the long value of the date\r\n    \t\tfor (String string: strings) {\r\n    \t\t\ttry {\r\n    \t\t\t\tDate date = formatter.parse(string);\r\n    \t\t\t\tSystem.out.println(&quot;Formated date : &quot; + string + &quot; = Long = &quot; + date.getTime());\r\n    \t\t\t} catch (ParseException e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;===== Long to String =====&quot;);\r\n    \t\t\r\n    \t\t//Show the date behind the long\r\n    \t\tfor (Long lo : longs) {\r\n    \t\t\tDate date = new Date(lo);\r\n    \t\t\tString string = formatter.format(date);\r\n    \t\t\tSystem.out.println(&quot;Formated date : &quot; + string + &quot; = Long = &quot; + lo);\t\t\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n**Test results:**\r\n\r\n    ===== String to long =====\r\n    Formated date : 05-12-2014 10:17:34.873 = Long = 1417774654873\r\n    Formated date : 01-01-1970 00:00:00.000 = Long = 0\r\n    Formated date : 01-01-1970 00:00:01.000 = Long = 1000\r\n    Formated date : 01-01-1970 00:01:00.000 = Long = 60000\r\n    Formated date : 01-01-1970 01:00:00.000 = Long = 3600000\r\n    Formated date : 01-01-1970 10:00:00.000 = Long = 36000000\r\n    Formated date : 01-01-1970 12:00:00.000 = Long = 43200000\r\n    Formated date : 01-01-1970 24:00:00.000 = Long = 86400000\r\n    Formated date : 02-01-1970 00:00:00.000 = Long = 86400000\r\n    Formated date : 01-01-1971 00:00:00.000 = Long = 31536000000\r\n    Formated date : 01-01-2014 00:00:00.000 = Long = 1388534400000\r\n    Formated date : 31-12-1969 23:59:59.000 = Long = -1000\r\n    Formated date : 31-12-1969 23:59:00.000 = Long = -60000\r\n    Formated date : 31-12-1969 23:00:00.000 = Long = -3600000\r\n    ===== Long to String =====\r\n    Formated date : 05-12-2014 10:17:34.873 = Long = 1417774654873\r\n    Formated date : 31-12-1969 23:59:59.999 = Long = -1\r\n    Formated date : 01-01-1970 00:00:00.000 = Long = 0\r\n    Formated date : 01-01-1970 00:00:00.001 = Long = 1\r\n    Formated date : 01-01-1970 00:00:01.000 = Long = 1000\r\n    Formated date : 01-01-1970 00:01:00.000 = Long = 60000\r\n    Formated date : 01-01-1970 01:00:00.000 = Long = 3600000\r\n    Formated date : 01-01-1970 10:00:00.000 = Long = 36000000\r\n    Formated date : 01-01-1970 12:00:00.000 = Long = 43200000\r\n    Formated date : 02-01-1970 00:00:00.000 = Long = 86400000\r\n    Formated date : 01-01-1971 00:00:00.000 = Long = 31536000000\r\n    Formated date : 01-01-2014 00:00:00.000 = Long = 1388534400000\r\n    Formated date : 01-01-1970 02:01:00.000 = Long = 7260000\r\n    Formated date : 04-12-2014 15:14:44.037 = Long = 1417706084037\r\n    Formated date : 31-12-1969 21:59:00.000 = Long = -7260000\r\n\r\n","title":"Java string to date conversion","body":"<p>My humble test program. I use it to play around with the formatter and look-up long dates that I find in log-files (but who has put them there...).</p>\n\n<p><strong>My test program:</strong></p>\n\n<pre><code>package be.test.package.time;\n\nimport java.text.DateFormat;\nimport java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.util.ArrayList;\nimport java.util.Date;\nimport java.util.List;\nimport java.util.TimeZone;\n\npublic class TimeWork {\n\n    public static void main(String[] args) {    \n\n        TimeZone timezone = TimeZone.getTimeZone(\"UTC\");\n\n        List&lt;Long&gt; longs = new ArrayList&lt;&gt;();\n        List&lt;String&gt; strings = new ArrayList&lt;&gt;();\n\n        //Formatting a date needs a timezone - otherwise the date get formatted to your system time zone.\n        //Use 24h format HH. In 12h format hh can be in range 0-11, which makes 12 overflow to 0.\n        DateFormat formatter = new SimpleDateFormat(\"dd-MM-yyyy HH:mm:ss.SSS\");\n        formatter.setTimeZone(timezone);\n\n        Date now = new Date();\n\n        //Test dates\n        strings.add(formatter.format(now));\n        strings.add(\"01-01-1970 00:00:00.000\");\n        strings.add(\"01-01-1970 00:00:01.000\");\n        strings.add(\"01-01-1970 00:01:00.000\");\n        strings.add(\"01-01-1970 01:00:00.000\");\n        strings.add(\"01-01-1970 10:00:00.000\");\n        strings.add(\"01-01-1970 12:00:00.000\");\n        strings.add(\"01-01-1970 24:00:00.000\");\n        strings.add(\"02-01-1970 00:00:00.000\");\n        strings.add(\"01-01-1971 00:00:00.000\");\n        strings.add(\"01-01-2014 00:00:00.000\");\n        strings.add(\"31-12-1969 23:59:59.000\");\n        strings.add(\"31-12-1969 23:59:00.000\");\n        strings.add(\"31-12-1969 23:00:00.000\");\n\n        //Test data\n        longs.add(now.getTime());\n        longs.add(-1L);\n        longs.add(0L); //Long date presentation at - midnight 1/1/1970 UTC - The timezone is important!\n        longs.add(1L);\n        longs.add(1000L);\n        longs.add(60000L);\n        longs.add(3600000L);\n        longs.add(36000000L);\n        longs.add(43200000L);\n        longs.add(86400000L);\n        longs.add(31536000000L);\n        longs.add(1388534400000L);\n        longs.add(7260000L);\n        longs.add(1417706084037L);\n        longs.add(-7260000L);\n\n        System.out.println(\"===== String to long =====\");\n\n        //Show the long value of the date\n        for (String string: strings) {\n            try {\n                Date date = formatter.parse(string);\n                System.out.println(\"Formated date : \" + string + \" = Long = \" + date.getTime());\n            } catch (ParseException e) {\n                e.printStackTrace();\n            }\n        }\n\n        System.out.println(\"===== Long to String =====\");\n\n        //Show the date behind the long\n        for (Long lo : longs) {\n            Date date = new Date(lo);\n            String string = formatter.format(date);\n            System.out.println(\"Formated date : \" + string + \" = Long = \" + lo);        \n        }\n    }\n}\n</code></pre>\n\n<p><strong>Test results:</strong></p>\n\n<pre><code>===== String to long =====\nFormated date : 05-12-2014 10:17:34.873 = Long = 1417774654873\nFormated date : 01-01-1970 00:00:00.000 = Long = 0\nFormated date : 01-01-1970 00:00:01.000 = Long = 1000\nFormated date : 01-01-1970 00:01:00.000 = Long = 60000\nFormated date : 01-01-1970 01:00:00.000 = Long = 3600000\nFormated date : 01-01-1970 10:00:00.000 = Long = 36000000\nFormated date : 01-01-1970 12:00:00.000 = Long = 43200000\nFormated date : 01-01-1970 24:00:00.000 = Long = 86400000\nFormated date : 02-01-1970 00:00:00.000 = Long = 86400000\nFormated date : 01-01-1971 00:00:00.000 = Long = 31536000000\nFormated date : 01-01-2014 00:00:00.000 = Long = 1388534400000\nFormated date : 31-12-1969 23:59:59.000 = Long = -1000\nFormated date : 31-12-1969 23:59:00.000 = Long = -60000\nFormated date : 31-12-1969 23:00:00.000 = Long = -3600000\n===== Long to String =====\nFormated date : 05-12-2014 10:17:34.873 = Long = 1417774654873\nFormated date : 31-12-1969 23:59:59.999 = Long = -1\nFormated date : 01-01-1970 00:00:00.000 = Long = 0\nFormated date : 01-01-1970 00:00:00.001 = Long = 1\nFormated date : 01-01-1970 00:00:01.000 = Long = 1000\nFormated date : 01-01-1970 00:01:00.000 = Long = 60000\nFormated date : 01-01-1970 01:00:00.000 = Long = 3600000\nFormated date : 01-01-1970 10:00:00.000 = Long = 36000000\nFormated date : 01-01-1970 12:00:00.000 = Long = 43200000\nFormated date : 02-01-1970 00:00:00.000 = Long = 86400000\nFormated date : 01-01-1971 00:00:00.000 = Long = 31536000000\nFormated date : 01-01-2014 00:00:00.000 = Long = 1388534400000\nFormated date : 01-01-1970 02:01:00.000 = Long = 7260000\nFormated date : 04-12-2014 15:14:44.037 = Long = 1417706084037\nFormated date : 31-12-1969 21:59:00.000 = Long = -7260000\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4338003,"reputation":685,"user_id":3542027,"display_name":"Siddharth Makadiya"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1521762214,"creation_date":1462529575,"answer_id":37069772,"question_id":4216745,"body_markdown":"Simple two formatters we have used:\r\n\r\n1. Which format date do we want?\r\n2. Which format date is actually present?\r\n\r\nWe parse the full date to time format:\r\n\r\n    date=&quot;2016-05-06 16:40:32&quot;;\r\n\r\n    public static String setDateParsing(String date) throws ParseException {\r\n\r\n        // This is the format date we want\r\n        DateFormat mSDF = new SimpleDateFormat(&quot;hh:mm a&quot;);\r\n\r\n        // This format date is actually present\r\n        SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-mm-dd hh:mm&quot;);\r\n        return mSDF.format(formatter.parse(date));\r\n    }\r\n\r\n\r\n","title":"Java string to date conversion","body":"<p>Simple two formatters we have used:</p>\n\n<ol>\n<li>Which format date do we want?</li>\n<li>Which format date is actually present?</li>\n</ol>\n\n<p>We parse the full date to time format:</p>\n\n<pre><code>date=\"2016-05-06 16:40:32\";\n\npublic static String setDateParsing(String date) throws ParseException {\n\n    // This is the format date we want\n    DateFormat mSDF = new SimpleDateFormat(\"hh:mm a\");\n\n    // This format date is actually present\n    SimpleDateFormat formatter = new SimpleDateFormat(\"yyyy-mm-dd hh:mm\");\n    return mSDF.format(formatter.parse(date));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5343930,"reputation":1398,"user_id":4260007,"accept_rate":100,"display_name":"Madhuka Dilhan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1464683655,"creation_date":1464683610,"answer_id":37540699,"question_id":4216745,"body_markdown":"Try this\r\n\r\n    String date = get_pump_data.getString(&quot;bond_end_date&quot;);\r\n    DateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;, Locale.ENGLISH);\r\n    Date datee = (Date)format.parse(date);","title":"Java string to date conversion","body":"<p>Try this</p>\n\n<pre><code>String date = get_pump_data.getString(\"bond_end_date\");\nDateFormat format = new SimpleDateFormat(\"yyyy-MM-dd\", Locale.ENGLISH);\nDate datee = (Date)format.parse(date);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6379287,"reputation":1756,"user_id":5404469,"display_name":"harun ugur"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1607884206,"creation_date":1500976599,"answer_id":45299854,"question_id":4216745,"body_markdown":"You can use SimpleDateformat for  change string to date\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n    String strDate = &quot;2000-01-01&quot;;\r\n    Date date = sdf.parse(strDate);\r\n\r\n&lt;!-- end snippet --&gt;\r\n","title":"Java string to date conversion","body":"<p>You can use SimpleDateformat for  change string to date</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\nString strDate = \"2000-01-01\";\nDate date = sdf.parse(strDate);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":1038775,"reputation":9724,"user_id":1045296,"accept_rate":100,"display_name":"Code Spy"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1545297519,"creation_date":1532601302,"answer_id":51536774,"question_id":4216745,"body_markdown":"**Source [Link][1]**\r\n\r\nFor **Android** \r\n\r\n**Calendar.getInstance().getTime()** gives \r\n\r\n    Thu Jul 26 15:54:13 GMT+05:30 2018\r\n**Use**\r\n\r\n    String oldDate = &quot;Thu Jul 26 15:54:13 GMT+05:30 2018&quot;;\r\n    DateFormat format = new SimpleDateFormat(&quot;EEE LLL dd HH:mm:ss Z yyyy&quot;);\r\n    Date updateLast = format.parse(oldDate);\r\n \r\n\r\n\r\n  [1]: https://www.freakyjolly.com/android-useful-methods-and-functions/","title":"Java string to date conversion","body":"<p><strong>Source <a href=\"https://www.freakyjolly.com/android-useful-methods-and-functions/\" rel=\"nofollow noreferrer\">Link</a></strong></p>\n\n<p>For <strong>Android</strong> </p>\n\n<p><strong>Calendar.getInstance().getTime()</strong> gives </p>\n\n<pre><code>Thu Jul 26 15:54:13 GMT+05:30 2018\n</code></pre>\n\n<p><strong>Use</strong></p>\n\n<pre><code>String oldDate = \"Thu Jul 26 15:54:13 GMT+05:30 2018\";\nDateFormat format = new SimpleDateFormat(\"EEE LLL dd HH:mm:ss Z yyyy\");\nDate updateLast = format.parse(oldDate);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17369673,"reputation":185,"user_id":12584071,"display_name":"Shashidhar Reddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578638862,"creation_date":1578638862,"answer_id":59676699,"question_id":4216745,"body_markdown":"String to Date conversion:    \r\n \r\n\r\n    private Date StringtoDate(String date) throws Exception {\r\n                SimpleDateFormat sdf1 = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n                java.sql.Date sqlDate = null;\r\n                if( !date.isEmpty()) {\r\n        \r\n                    try {\r\n                        java.util.Date normalDate = sdf1.parse(date);\r\n                        sqlDate = new java.sql.Date(normalDate.getTime());\r\n                    } catch (ParseException e) {\r\n                        throw new Exception(&quot;Not able to Parse the date&quot;, e);\r\n                    }\r\n                }\r\n                return sqlDate;\r\n            }","title":"Java string to date conversion","body":"<p>String to Date conversion:    </p>\n\n<pre><code>private Date StringtoDate(String date) throws Exception {\n            SimpleDateFormat sdf1 = new SimpleDateFormat(\"yyyy-MM-dd\");\n            java.sql.Date sqlDate = null;\n            if( !date.isEmpty()) {\n\n                try {\n                    java.util.Date normalDate = sdf1.parse(date);\n                    sqlDate = new java.sql.Date(normalDate.getTime());\n                } catch (ParseException e) {\n                    throw new Exception(\"Not able to Parse the date\", e);\n                }\n            }\n            return sqlDate;\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11191854,"reputation":555,"user_id":8211967,"display_name":"Asanka Sampath"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595505869,"creation_date":1595505869,"answer_id":63053829,"question_id":4216745,"body_markdown":"    DateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;);\r\n      Date date1 = null;\r\n      Date date2 = null;\r\n\r\n      try {\r\n        date1 = dateFormat.parse(t1);\r\n        date2 = dateFormat.parse(t2);\r\n      } catch (ParseException e) {\r\n        e.printStackTrace();\r\n      }\r\n      DateFormat formatter = new SimpleDateFormat(&quot;dd-MMM-yyyy&quot;);\r\n      String StDate = formatter.format(date1);\r\n      String edDate = formatter.format(date2);\r\n\r\n      System.out.println(&quot;ST  &quot;+ StDate);\r\n      System.out.println(&quot;ED &quot;+ edDate);","title":"Java string to date conversion","body":"<pre><code>DateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss&quot;);\n  Date date1 = null;\n  Date date2 = null;\n\n  try {\n    date1 = dateFormat.parse(t1);\n    date2 = dateFormat.parse(t2);\n  } catch (ParseException e) {\n    e.printStackTrace();\n  }\n  DateFormat formatter = new SimpleDateFormat(&quot;dd-MMM-yyyy&quot;);\n  String StDate = formatter.format(date1);\n  String edDate = formatter.format(date2);\n\n  System.out.println(&quot;ST  &quot;+ StDate);\n  System.out.println(&quot;ED &quot;+ edDate);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11679742,"reputation":539,"user_id":8551915,"display_name":"Domenico Ruggiano"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1614280290,"creation_date":1614280290,"answer_id":66374956,"question_id":4216745,"body_markdown":"#### From Date to String\r\n\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\r\n    return sdf.format(date);\r\n\r\n#### From String to Date\r\n\r\n    SimpleDateFormat sdf = new SimpleDateFormat(datePattern); \r\n    return sdf.parse(dateStr);\r\n\r\n#### From date String to different format\r\n\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n    SimpleDateFormat newSdf = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\r\n    Date temp = sdf.parse(dateStr);\r\n    return newSdf.format(temp);\r\n\r\nSource [link][1].\r\n\r\n\r\n  [1]: https://www.polynique.com/programming-languages/convert-dates-and-strings-in-java-using-simpledateformat/","title":"Java string to date conversion","body":"From Date to String\n<pre><code>SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\nreturn sdf.format(date);\n</code></pre>\nFrom String to Date\n<pre><code>SimpleDateFormat sdf = new SimpleDateFormat(datePattern); \nreturn sdf.parse(dateStr);\n</code></pre>\nFrom date String to different format\n<pre><code>SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\nSimpleDateFormat newSdf = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\nDate temp = sdf.parse(dateStr);\nreturn newSdf.format(temp);\n</code></pre>\n<p>Source <a href=\"https://www.polynique.com/programming-languages/convert-dates-and-strings-in-java-using-simpledateformat/\" rel=\"nofollow noreferrer\">link</a>.</p>\n"},{"tags":[],"owner":{"account_id":2794245,"reputation":579,"user_id":2403791,"display_name":"TomasMolina"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637482531,"creation_date":1637482531,"answer_id":70052881,"question_id":4216745,"body_markdown":"I worked on parsing String to LocalDateTime. I leave it here as example\r\n\r\n    LocalDateTime d = LocalDateTime.parse(&quot;20180805 101010&quot;, DateTimeFormatter.ofPattern(&quot;yyyyMMdd HHmmss&quot;));\r\n\r\nAnd I got\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kH8gh.png","title":"Java string to date conversion","body":"<p>I worked on parsing String to LocalDateTime. I leave it here as example</p>\n<pre><code>LocalDateTime d = LocalDateTime.parse(&quot;20180805 101010&quot;, DateTimeFormatter.ofPattern(&quot;yyyyMMdd HHmmss&quot;));\n</code></pre>\n<p>And I got\n<a href=\"https://i.stack.imgur.com/kH8gh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kH8gh.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":42522,"reputation":19701,"user_id":123891,"accept_rate":92,"display_name":"littleK"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2416111,"favorite_count":0,"down_vote_count":2,"up_vote_count":1009,"accepted_answer_id":4216767,"answer_count":17,"score":1007,"last_activity_date":1671100168,"creation_date":1290095581,"question_id":4216745,"body_markdown":"What is the best way to convert a `String` in the format &#39;January 2, 2010&#39; to a `Date` in Java?\r\n\r\nUltimately, I want to break out the month, the day, and the year as integers so that I can use\r\n\r\n    Date date = new Date();\r\n    date.setMonth()..\r\n    date.setYear()..\r\n    date.setDay()..\r\n    date.setlong currentTime = date.getTime();\r\n\r\nto convert the date into time.\r\n","title":"Java string to date conversion","body":"<p>What is the best way to convert a <code>String</code> in the format 'January 2, 2010' to a <code>Date</code> in Java?</p>\n\n<p>Ultimately, I want to break out the month, the day, and the year as integers so that I can use</p>\n\n<pre><code>Date date = new Date();\ndate.setMonth()..\ndate.setYear()..\ndate.setDay()..\ndate.setlong currentTime = date.getTime();\n</code></pre>\n\n<p>to convert the date into time.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":16169577,"reputation":200,"user_id":18520267,"display_name":"user18520267"},"score":0,"creation_date":1671090650,"post_id":74808274,"comment_id":132023851,"body_markdown":"Check this out maybe it might help https://stackoverflow.com/questions/41793100/how-do-i-sort-a-list-of-records-using-multithreading-in-java","body":"Check this out maybe it might help <a href=\"https://stackoverflow.com/questions/41793100/how-do-i-sort-a-list-of-records-using-multithreading-in-java\" title=\"how do i sort a list of records using multithreading in java\">stackoverflow.com/questions/41793100/&hellip;</a>"}],"owner":{"account_id":25651441,"reputation":1,"user_id":19418610,"display_name":"nima karami"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671099918,"creation_date":1671090289,"question_id":74808274,"body_markdown":"I did the bucket sort in multithread mode in Java and these are running but the execution time of multiple threads is not good at all compared to single thread, is this normal or is there something wrong in the codes?\r\n\r\nits my bucket sort code:\r\n\r\n    public void bucketSortMT(int[] A) {\r\n    \r\n        if (availableThreads &gt;= 2) {\r\n    \r\n    \r\n            int max = A[0];\r\n            for(int i = 0; i &lt; A.length; i++)        \r\n                if(max&lt;A[i])max = A[i];\r\n    \r\n            int bucket[] = new int[max+1];\r\n    \r\n            for(int i = 0; i &lt; A.length; i++)        \r\n                bucket[A[i]]++;\r\n    \r\n            int current = 0;\r\n            for(int i = 0; i &lt; bucket.length; i++){       \r\n                for (int j=0; j&lt;bucket[i]; j++)\r\n                    A[current++]=i;\r\n            }\r\n    \r\n            BucketSort bRight = new BucketSort(A, 0 , (A.length/2)-1 , availableThreads - 1);\r\n            BucketSort bLeft = new BucketSort(A,  A.length/2 ,  A.length-1 , availableThreads - 1);\r\n            bRight.start();\r\n            bLeft.start();\r\n    \r\n            try {\r\n                bRight.join();\r\n                bLeft.join();\r\n            } catch (InterruptedException e) {\r\n            }\r\n        } else {\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\n\r\nIn the same way I did merge sort and it worked fine its my main code:\r\n\r\n\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n    \r\n            Scanner scan = new Scanner(System.in);\r\n            System.out.print(&quot;Enter The Size of Array: &quot;);\r\n            int n = scan.nextInt();\r\n            Random rand = new Random();\r\n            int[] numbers = new int[n];\r\n    \r\n    int availableThreads = getRuntime().availableProcessors();\r\n    \r\n    for (int i = 0; i &lt; numbers.length; i++) {\r\n        int value = rand.nextInt(10000000);\r\n    \r\n        numbers[i]=value;\r\n    \r\n    }\r\n    \r\n    BucketSort bucketSort1 = new BucketSort(numbers,0 , numbers.length-1, availableThreads);\r\n    long bucket_begin1 = System.nanoTime();\r\n    bucketSort1.run();\r\n    long bucket_end1 = System.nanoTime();\r\n    float bucket_time1 = (bucket_end1-bucket_begin1)/1000000.0f;\r\n    System.out.println(&quot;\\nBucket Sorting Time Using &quot; + availableThreads  + bucket_time1 + &quot;  milli seconds&quot;);\r\n\r\n\r\n\r\n\r\n","title":"multithread bucket sort in java","body":"<p>I did the bucket sort in multithread mode in Java and these are running but the execution time of multiple threads is not good at all compared to single thread, is this normal or is there something wrong in the codes?</p>\n<p>its my bucket sort code:</p>\n<pre><code>public void bucketSortMT(int[] A) {\n\n    if (availableThreads &gt;= 2) {\n\n\n        int max = A[0];\n        for(int i = 0; i &lt; A.length; i++)        \n            if(max&lt;A[i])max = A[i];\n\n        int bucket[] = new int[max+1];\n\n        for(int i = 0; i &lt; A.length; i++)        \n            bucket[A[i]]++;\n\n        int current = 0;\n        for(int i = 0; i &lt; bucket.length; i++){       \n            for (int j=0; j&lt;bucket[i]; j++)\n                A[current++]=i;\n        }\n\n        BucketSort bRight = new BucketSort(A, 0 , (A.length/2)-1 , availableThreads - 1);\n        BucketSort bLeft = new BucketSort(A,  A.length/2 ,  A.length-1 , availableThreads - 1);\n        bRight.start();\n        bLeft.start();\n\n        try {\n            bRight.join();\n            bLeft.join();\n        } catch (InterruptedException e) {\n        }\n    } else {\n\n    }\n\n}\n</code></pre>\n<p>In the same way I did merge sort and it worked fine its my main code:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n\n        Scanner scan = new Scanner(System.in);\n        System.out.print(&quot;Enter The Size of Array: &quot;);\n        int n = scan.nextInt();\n        Random rand = new Random();\n        int[] numbers = new int[n];\n\nint availableThreads = getRuntime().availableProcessors();\n\nfor (int i = 0; i &lt; numbers.length; i++) {\n    int value = rand.nextInt(10000000);\n\n    numbers[i]=value;\n\n}\n\nBucketSort bucketSort1 = new BucketSort(numbers,0 , numbers.length-1, availableThreads);\nlong bucket_begin1 = System.nanoTime();\nbucketSort1.run();\nlong bucket_end1 = System.nanoTime();\nfloat bucket_time1 = (bucket_end1-bucket_begin1)/1000000.0f;\nSystem.out.println(&quot;\\nBucket Sorting Time Using &quot; + availableThreads  + bucket_time1 + &quot;  milli seconds&quot;);\n</code></pre>\n"},{"tags":["java","spring-boot","jackson","jackson-databind"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671099603,"creation_date":1671048236,"answer_id":74803632,"question_id":74803243,"body_markdown":"That&#39;s the expected behavior for the `ObjectReader` returned by `ObjectMapper.readerForUpdating()`, it would update the given Object with the provided JSON data.\r\n\r\nTherefore, you see `&quot;SourceFromJson&quot;` as the value of the `source`.\r\n\r\n# Jackson Databinding\r\n\r\nIf you want to preserve the value of the field `source` intact. Then you can annotate it with [`@JsonIgnore`][jsonIgnore].\r\n\r\nOr you can apply [`@JsonProperty`][jsonProperty] annotation on the `source` field specifying the [`access`][access] attribute with a value of `JsonProperty.Access.READ_ONLY` (that would prevent Jackson from writing into this field, but it would be reflected during serialization of the POJO).\r\n\r\n# Smart Setters\r\n\r\nAnother option would be to add validation logic into the setter method, to ensure that each gets updated only if it&#39;s `null` (*empty, etc. depending on the type and your requirements*).\r\n\r\nHere&#39;s how it might look like:\r\n\r\n    @Getter\r\n    public static class Record {\r\n        public static final Predicate&lt;String&gt; NULL_OR_EMPTY =\r\n            s -&gt; s == null || s.isEmpty(); // predicate can be reused to validate multiple properties\r\n\r\n        private String source;\r\n        private String resource;\r\n    \r\n        public void setSource(String source) {\r\n            if (NULL_OR_EMPTY.test(this.source)) this.source = source;\r\n        }\r\n    \r\n        public void setResource(String resource) {\r\n            if (NULL_OR_EMPTY.test(this.resource)) this.resource = resource;\r\n        }\r\n    }\r\n\r\n*Usage example:*\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        String incomingJson = &quot;&quot;&quot;\r\n            {&quot;source&quot;:&quot;SourceFromJson&quot;, &quot;resource&quot;:&quot;ResourceFromJson&quot;}\r\n            &quot;&quot;&quot;;\r\n    \r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n        objectMapper.readerForUpdating(record).readValue(incomingJson);\r\n    \r\n        System.out.println(record);\r\n    \r\n        String str = &quot;helloslkhellodjladfjhello&quot;;\r\n        System.out.println(countOccurrences(str, &quot;hello&quot;));\r\n    }\r\n\r\n*Output:*\r\n\r\n```\r\nRecord{source=&#39;SourceFromObject&#39;, resource=&#39;ResourceFromJson&#39;}\r\n```\r\n\r\n\r\n\r\n   [jsonProperty]: https://fasterxml.github.io/jackson-annotations/javadoc/2.6/com/fasterxml/jackson/annotation/JsonProperty.html\r\n\r\n   [access]: https://fasterxml.github.io/jackson-annotations/javadoc/2.6/com/fasterxml/jackson/annotation/JsonProperty.html#access()\r\n\r\n   [jsonIgnore]: http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/stream/Collectors.java#l317","title":"Prevent Object Mapper readerForUpdating overwriting existing data","body":"<p>That's the expected behavior for the <code>ObjectReader</code> returned by <code>ObjectMapper.readerForUpdating()</code>, it would update the given Object with the provided JSON data.</p>\n<p>Therefore, you see <code>&quot;SourceFromJson&quot;</code> as the value of the <code>source</code>.</p>\n<h1>Jackson Databinding</h1>\n<p>If you want to preserve the value of the field <code>source</code> intact. Then you can annotate it with <a href=\"http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/stream/Collectors.java#l317\" rel=\"nofollow noreferrer\"><code>@JsonIgnore</code></a>.</p>\n<p>Or you can apply <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.6/com/fasterxml/jackson/annotation/JsonProperty.html\" rel=\"nofollow noreferrer\"><code>@JsonProperty</code></a> annotation on the <code>source</code> field specifying the <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.6/com/fasterxml/jackson/annotation/JsonProperty.html#access()\" rel=\"nofollow noreferrer\"><code>access</code></a> attribute with a value of <code>JsonProperty.Access.READ_ONLY</code> (that would prevent Jackson from writing into this field, but it would be reflected during serialization of the POJO).</p>\n<h1>Smart Setters</h1>\n<p>Another option would be to add validation logic into the setter method, to ensure that each gets updated only if it's <code>null</code> (<em>empty, etc. depending on the type and your requirements</em>).</p>\n<p>Here's how it might look like:</p>\n<pre><code>@Getter\npublic static class Record {\n    public static final Predicate&lt;String&gt; NULL_OR_EMPTY =\n        s -&gt; s == null || s.isEmpty(); // predicate can be reused to validate multiple properties\n\n    private String source;\n    private String resource;\n\n    public void setSource(String source) {\n        if (NULL_OR_EMPTY.test(this.source)) this.source = source;\n    }\n\n    public void setResource(String resource) {\n        if (NULL_OR_EMPTY.test(this.resource)) this.resource = resource;\n    }\n}\n</code></pre>\n<p><em>Usage example:</em></p>\n<pre><code>public static void main(String[] args) throws IOException {\n    String incomingJson = &quot;&quot;&quot;\n        {&quot;source&quot;:&quot;SourceFromJson&quot;, &quot;resource&quot;:&quot;ResourceFromJson&quot;}\n        &quot;&quot;&quot;;\n\n    ObjectMapper objectMapper = new ObjectMapper();\n    objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n    objectMapper.readerForUpdating(record).readValue(incomingJson);\n\n    System.out.println(record);\n\n    String str = &quot;helloslkhellodjladfjhello&quot;;\n    System.out.println(countOccurrences(str, &quot;hello&quot;));\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>Record{source='SourceFromObject', resource='ResourceFromJson'}\n</code></pre>\n"}],"owner":{"account_id":10618939,"reputation":13,"user_id":7820618,"display_name":"Nathan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":485,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671099603,"creation_date":1671045542,"question_id":74803243,"body_markdown":"I am trying to update value of one object from another using object mapper **readerForUpdating** function. But I have a use case where **I have to update only null values of my existing object** which I am unable to do so. Could anyone please help on this.\r\n\r\n**Class:**\r\n\r\n```\r\n@Getter\r\n@Setter\r\nclass Record {\r\n    private String source;\r\n    private String resource;\r\n}\r\n```\r\n\r\n**Record Object:**\r\n\r\n```\r\nRecord record = new Record();\r\nrecord.setSource(&quot;SourceFromObject&quot;);\r\nrecord.setResource(null);\r\n```\r\n\r\n**Object to be Updated:**\r\n\r\n```\r\nString incomingJson = &quot;{&quot;source&quot;:&quot;SourceFromJson&quot;, &quot;resource&quot;:&quot;ResourceFromJson&quot;}&quot;\r\n```\r\n\r\n**ObjectMapper Logic:**\r\n\r\n```\r\nObjectMapper objectMapper = new ObjectMapper();\r\nobjectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\nobjectMapper.readerForUpdating(record).readValue(incomingJson);\r\n```\r\n\r\nAm getting the below output\r\n\r\n```\r\nRecord: {&quot;source&quot;:&quot;SourceFromJson&quot;, &quot;resource&quot;:&quot;ResourceFromJson&quot;}\r\n```\r\n\r\n**But my expected output is**\r\n\r\n```\r\nRecord: {&quot;source&quot;:&quot;SourceFromObject&quot;, &quot;resource&quot;:&quot;ResourceFromJson&quot;}\r\n```\r\n\r\nI tried several suggestions but didn&#39;t worked. I have also tried @JsonMerge annotation.   ","title":"Prevent Object Mapper readerForUpdating overwriting existing data","body":"<p>I am trying to update value of one object from another using object mapper <strong>readerForUpdating</strong> function. But I have a use case where <strong>I have to update only null values of my existing object</strong> which I am unable to do so. Could anyone please help on this.</p>\n<p><strong>Class:</strong></p>\n<pre><code>@Getter\n@Setter\nclass Record {\n    private String source;\n    private String resource;\n}\n</code></pre>\n<p><strong>Record Object:</strong></p>\n<pre><code>Record record = new Record();\nrecord.setSource(&quot;SourceFromObject&quot;);\nrecord.setResource(null);\n</code></pre>\n<p><strong>Object to be Updated:</strong></p>\n<pre><code>String incomingJson = &quot;{&quot;source&quot;:&quot;SourceFromJson&quot;, &quot;resource&quot;:&quot;ResourceFromJson&quot;}&quot;\n</code></pre>\n<p><strong>ObjectMapper Logic:</strong></p>\n<pre><code>ObjectMapper objectMapper = new ObjectMapper();\nobjectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\nobjectMapper.readerForUpdating(record).readValue(incomingJson);\n</code></pre>\n<p>Am getting the below output</p>\n<pre><code>Record: {&quot;source&quot;:&quot;SourceFromJson&quot;, &quot;resource&quot;:&quot;ResourceFromJson&quot;}\n</code></pre>\n<p><strong>But my expected output is</strong></p>\n<pre><code>Record: {&quot;source&quot;:&quot;SourceFromObject&quot;, &quot;resource&quot;:&quot;ResourceFromJson&quot;}\n</code></pre>\n<p>I tried several suggestions but didn't worked. I have also tried @JsonMerge annotation.</p>\n"},{"tags":["java","android","checkbox"],"comments":[{"owner":{"account_id":18378745,"reputation":802,"user_id":13387235,"display_name":"Dhruv Sakariya"},"score":1,"creation_date":1671098988,"post_id":74809858,"comment_id":132026459,"body_markdown":"simply reverse the condition..lol...","body":"simply reverse the condition..lol..."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1671099074,"post_id":74809858,"comment_id":132026491,"body_markdown":"@DhruvSakariya how would that help if they&#39;re *always* getting `&quot;N&quot;`?","body":"@DhruvSakariya how would that help if they&#39;re <i>always</i> getting <code>&quot;N&quot;</code>?"},{"owner":{"account_id":3717501,"reputation":734,"user_id":3093717,"accept_rate":81,"display_name":"Simas.B"},"score":0,"creation_date":1671099280,"post_id":74809858,"comment_id":132026565,"body_markdown":"Provide more code, cause it&#39;s impossible to tell ATM what the problem is. Try debugging your application and check what `isChecked` methods returns. Some things to check, whether `isChecked` really returns `true` , does `strcheckdialy` variable gets overrided further in logic, and is this code executed at all.","body":"Provide more code, cause it&#39;s impossible to tell ATM what the problem is. Try debugging your application and check what <code>isChecked</code> methods returns. Some things to check, whether <code>isChecked</code> really returns <code>true</code> , does <code>strcheckdialy</code> variable gets overrided further in logic, and is this code executed at all."},{"owner":{"account_id":963967,"reputation":11133,"user_id":987753,"accept_rate":68,"display_name":"kingston"},"score":0,"creation_date":1671099517,"post_id":74809858,"comment_id":132026645,"body_markdown":"Are you listening to the onCheckedChanged?","body":"Are you listening to the onCheckedChanged?"}],"answers":[{"tags":[],"owner":{"account_id":18378745,"reputation":802,"user_id":13387235,"display_name":"Dhruv Sakariya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671099492,"creation_date":1671099492,"answer_id":74809974,"question_id":74809858,"body_markdown":"you should use like this.\r\n\r\n    chk.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\r\n        @Override\r\n        public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\r\n            if (isChecked) {\r\n                //checked\r\n            } else {\r\n                //not checked\r\n            }\r\n        }\r\n    });","title":"How to resolve this checkbox issue?","body":"<p>you should use like this.</p>\n<pre><code>chk.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\n    @Override\n    public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\n        if (isChecked) {\n            //checked\n        } else {\n            //not checked\n        }\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":23984894,"reputation":13,"user_id":17971825,"display_name":"user17971825"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1671109300,"accepted_answer_id":74809974,"answer_count":1,"score":0,"last_activity_date":1671099492,"creation_date":1671098909,"question_id":74809858,"body_markdown":"I have added this condition\r\n```\r\nif (checkdaily.isChecked()){\r\n    strcheckDialy=&quot;Y&quot;;\r\n}else {\r\n    strcheckDialy=&quot;N&quot;;\r\n}\r\n```\r\n\r\nif checkbox is checked still N value is setting \r\n\r\n\r\n\r\nI want Y when the checkbox is checked but always get N. How to solve this?","title":"How to resolve this checkbox issue?","body":"<p>I have added this condition</p>\n<pre><code>if (checkdaily.isChecked()){\n    strcheckDialy=&quot;Y&quot;;\n}else {\n    strcheckDialy=&quot;N&quot;;\n}\n</code></pre>\n<p>if checkbox is checked still N value is setting</p>\n<p>I want Y when the checkbox is checked but always get N. How to solve this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2679531,"reputation":2832,"user_id":2315162,"accept_rate":81,"display_name":"sinclair"},"score":1,"creation_date":1509287065,"post_id":47001244,"comment_id":80949048,"body_markdown":"The `total` variables are only visible inside the for-loops. Define them outside the loops.","body":"The <code>total</code> variables are only visible inside the for-loops. Define them outside the loops."},{"owner":{"account_id":2679531,"reputation":2832,"user_id":2315162,"accept_rate":81,"display_name":"sinclair"},"score":2,"creation_date":1509287189,"post_id":47001244,"comment_id":80949095,"body_markdown":"Possible duplicate of [Scope of variable declared inside a for loop](https://stackoverflow.com/questions/19463138/scope-of-variable-declared-inside-a-for-loop)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/19463138/scope-of-variable-declared-inside-a-for-loop\">Scope of variable declared inside a for loop</a>"}],"answers":[{"tags":[],"owner":{"account_id":5426213,"reputation":734,"user_id":4318379,"accept_rate":50,"display_name":"Infamous"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671099408,"creation_date":1509287370,"answer_id":47001349,"question_id":47001244,"body_markdown":"The issue is with the variable scopes,\r\nYour code is flawed in these places\r\n\r\n    public static int columnsum(int[][] matrix){\r\n    System.out.println(&quot;Column Totals************************************&quot;);\r\n    for (int column = 0; column&lt;matrix[0].length; column++){\r\n        int total = 0; // total is defined within the for loop you cannot access it outside the for loop\r\n        for (int row = 0; row&lt;matrix.length; row++){\r\n            total += matrix[row][column];\r\n        System.out.println(&quot;The sum of column &quot;+column+&quot; is: &quot;+total);\r\n        }\r\n    return total; // Java does not know the total variable since it&#39;s already got destroyed after the for loop got terminated\r\n    }\r\n\r\nHow to correct this ??\r\n\r\n    public static int columnsum(int[][] matrix){\r\n    System.out.println(&quot;Column Totals************************************&quot;);\r\n    int total = 0; // define total here\r\n    for (int column = 0; column&lt;matrix[0].length; column++){\r\n        \r\n        for (int row = 0; row&lt;matrix.length; row++){\r\n            total += matrix[row][column];\r\n        System.out.println(&quot;The sum of column &quot;+column+&quot; is: &quot;+total);\r\n        }\r\n    return total;\r\n    }\r\n\r\n\r\nDO this in all cases where total malfunctions\r\n","title":"Passing a two-dimensional array through multiple methods","body":"<p>The issue is with the variable scopes,\nYour code is flawed in these places</p>\n<pre><code>public static int columnsum(int[][] matrix){\nSystem.out.println(&quot;Column Totals************************************&quot;);\nfor (int column = 0; column&lt;matrix[0].length; column++){\n    int total = 0; // total is defined within the for loop you cannot access it outside the for loop\n    for (int row = 0; row&lt;matrix.length; row++){\n        total += matrix[row][column];\n    System.out.println(&quot;The sum of column &quot;+column+&quot; is: &quot;+total);\n    }\nreturn total; // Java does not know the total variable since it's already got destroyed after the for loop got terminated\n}\n</code></pre>\n<p>How to correct this ??</p>\n<pre><code>public static int columnsum(int[][] matrix){\nSystem.out.println(&quot;Column Totals************************************&quot;);\nint total = 0; // define total here\nfor (int column = 0; column&lt;matrix[0].length; column++){\n    \n    for (int row = 0; row&lt;matrix.length; row++){\n        total += matrix[row][column];\n    System.out.println(&quot;The sum of column &quot;+column+&quot; is: &quot;+total);\n    }\nreturn total;\n}\n</code></pre>\n<p>DO this in all cases where total malfunctions</p>\n"}],"owner":{"account_id":11492048,"reputation":33,"user_id":8422676,"display_name":"jjacobe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":399,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"closed_date":1509354172,"accepted_answer_id":47001349,"answer_count":1,"score":2,"last_activity_date":1671099408,"creation_date":1509286762,"question_id":47001244,"body_markdown":"I&#39;m having a bit of trouble with a program I am writing for school. Essentially, I have to use multiple methods and pass a two-dimensional array through them. To do that I have to use nested for loops in the methods, but the methods are not letting me return the &quot;total&quot;. You can see the methods I am using below. The bottom two methods are working fine, just the ones with the total variables are not. (Yes, I have tried using other names.)\r\n\r\n    //method sum of each row\r\n    public static int rowsum(int [][] matrix){\r\n        System.out.println(&quot;Row Totals***************************************&quot;);\r\n        for (int row = 0; row&lt;matrix.length; row++){\r\n            int total = 0;\r\n            for (int column = 0; column&lt;matrix.length; column++)\r\n                total += matrix[row][column];\r\n            System.out.println(&quot;The sum of row &quot;+row+&quot; is: &quot;+total);\r\n        }\r\n        return total; \r\n    }\r\n    //method sum of each column\r\n    public static int columnsum(int[][] matrix){\r\n        System.out.println(&quot;Column Totals************************************&quot;);\r\n        for (int column = 0; column&lt;matrix[0].length; column++){\r\n            int total = 0;\r\n            for (int row = 0; row&lt;matrix.length; row++){\r\n                total += matrix[row][column];\r\n            System.out.println(&quot;The sum of column &quot;+column+&quot; is: &quot;+total);\r\n            }\r\n        return total;\r\n        }\r\n    return total;\r\n    }\r\n    //method product if rows\r\n    public static int rowprod(int [][] matrix){\r\n        System.out.println(&quot;Row Product**************************************&quot;);\r\n        for (int row = 0; row&lt;matrix.length; row++){\r\n            int total = 0;\r\n            for (int column = 0; column&lt;matrix.length; column++)\r\n                total *= matrix[row][column];\r\n            System.out.println(&quot;The sum of column &quot;+row+&quot; is: &quot;+total);\r\n        }\r\n    return total;\r\n    }    \r\n    //method product of columns\r\n    public static int columnprod(int [][] matrix){\r\n        System.out.println(&quot;Column Product***********************************&quot;);\r\n        for (int column = 0; column&lt;matrix[0].length; column++){\r\n            int total = 0;\r\n            for (int row = 0; row&lt;matrix.length; row++)\r\n                total = total*matrix[row][column];\r\n            System.out.println(&quot;The sum of column &quot;+column+&quot; is: &quot;+total);\r\n        }\r\n        return total;\r\n    }\r\n    //method highest value in matrix\r\n    public static int highest(int [][] matrix){\r\n       System.out.println(&quot;This greatest value in this matrix is: &quot;);\r\n       int high = matrix [0][0];\r\n       for (int row = 0; row&lt;matrix.length;row++){\r\n           for(int column=0;column&lt;matrix.length; column++){\r\n               if(high&lt;matrix[row][column]){\r\n                   high=matrix[row][column];\r\n               }\r\n           }\r\n       }\r\n       return  high;\r\n    }\r\n    //method lowest value of matrix\r\n    public static int lowest(int [][] matrix){\r\n       System.out.println(&quot;The lowest value in this matrix is: &quot;);\r\n       int low = matrix [0][0];\r\n       for (int row = 0; row&lt;matrix.length;row++){\r\n           for(int column=0;column&lt;matrix.length; column++){\r\n               if(low&gt;matrix[row][column]){\r\n                   low=matrix[row][column];\r\n               }\r\n           }\r\n       }\r\n       return low;\r\n    }","title":"Passing a two-dimensional array through multiple methods","body":"<p>I'm having a bit of trouble with a program I am writing for school. Essentially, I have to use multiple methods and pass a two-dimensional array through them. To do that I have to use nested for loops in the methods, but the methods are not letting me return the \"total\". You can see the methods I am using below. The bottom two methods are working fine, just the ones with the total variables are not. (Yes, I have tried using other names.)</p>\n\n<pre><code>//method sum of each row\npublic static int rowsum(int [][] matrix){\n    System.out.println(\"Row Totals***************************************\");\n    for (int row = 0; row&lt;matrix.length; row++){\n        int total = 0;\n        for (int column = 0; column&lt;matrix.length; column++)\n            total += matrix[row][column];\n        System.out.println(\"The sum of row \"+row+\" is: \"+total);\n    }\n    return total; \n}\n//method sum of each column\npublic static int columnsum(int[][] matrix){\n    System.out.println(\"Column Totals************************************\");\n    for (int column = 0; column&lt;matrix[0].length; column++){\n        int total = 0;\n        for (int row = 0; row&lt;matrix.length; row++){\n            total += matrix[row][column];\n        System.out.println(\"The sum of column \"+column+\" is: \"+total);\n        }\n    return total;\n    }\nreturn total;\n}\n//method product if rows\npublic static int rowprod(int [][] matrix){\n    System.out.println(\"Row Product**************************************\");\n    for (int row = 0; row&lt;matrix.length; row++){\n        int total = 0;\n        for (int column = 0; column&lt;matrix.length; column++)\n            total *= matrix[row][column];\n        System.out.println(\"The sum of column \"+row+\" is: \"+total);\n    }\nreturn total;\n}    \n//method product of columns\npublic static int columnprod(int [][] matrix){\n    System.out.println(\"Column Product***********************************\");\n    for (int column = 0; column&lt;matrix[0].length; column++){\n        int total = 0;\n        for (int row = 0; row&lt;matrix.length; row++)\n            total = total*matrix[row][column];\n        System.out.println(\"The sum of column \"+column+\" is: \"+total);\n    }\n    return total;\n}\n//method highest value in matrix\npublic static int highest(int [][] matrix){\n   System.out.println(\"This greatest value in this matrix is: \");\n   int high = matrix [0][0];\n   for (int row = 0; row&lt;matrix.length;row++){\n       for(int column=0;column&lt;matrix.length; column++){\n           if(high&lt;matrix[row][column]){\n               high=matrix[row][column];\n           }\n       }\n   }\n   return  high;\n}\n//method lowest value of matrix\npublic static int lowest(int [][] matrix){\n   System.out.println(\"The lowest value in this matrix is: \");\n   int low = matrix [0][0];\n   for (int row = 0; row&lt;matrix.length;row++){\n       for(int column=0;column&lt;matrix.length; column++){\n           if(low&gt;matrix[row][column]){\n               low=matrix[row][column];\n           }\n       }\n   }\n   return low;\n}\n</code></pre>\n"},{"tags":["java","rest","jersey","jax-rs","multipartform-data"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1504235319,"post_id":45992629,"comment_id":78945375,"body_markdown":"[I can&#39;t reproduce the problem](https://gist.github.com/psamsotha/eb30d0e659a2cb6c09dbcd0d712417ee). What Jersey version are you using?","body":"<a href=\"https://gist.github.com/psamsotha/eb30d0e659a2cb6c09dbcd0d712417ee\" rel=\"nofollow noreferrer\">I can&#39;t reproduce the problem</a>. What Jersey version are you using?"},{"owner":{"account_id":3792667,"reputation":551,"user_id":3148709,"accept_rate":88,"display_name":"Rohan"},"score":0,"creation_date":1504237339,"post_id":45992629,"comment_id":78945800,"body_markdown":"@peeskillet I believe I&#39;m using version 2.23.2. But I think the difference in your example might be that you&#39;re still posting form data in the request. With mine, when I try to hit the endpoint with no form data at all, only the query params and header params, it returns a 400.","body":"@peeskillet I believe I&#39;m using version 2.23.2. But I think the difference in your example might be that you&#39;re still posting form data in the request. With mine, when I try to hit the endpoint with no form data at all, only the query params and header params, it returns a 400."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1504239086,"post_id":45992629,"comment_id":78946186,"body_markdown":"it doesn&#39;t make much sense to put the email and other stuff as query params if it&#39;s a POST. why don&#39;t you add them as form fields. This is what multipart is meant for.","body":"it doesn&#39;t make much sense to put the email and other stuff as query params if it&#39;s a POST. why don&#39;t you add them as form fields. This is what multipart is meant for."},{"owner":{"account_id":3792667,"reputation":551,"user_id":3148709,"accept_rate":88,"display_name":"Rohan"},"score":0,"creation_date":1504240741,"post_id":45992629,"comment_id":78946584,"body_markdown":"@peeskillet I was trying to keep it consistent with other methods I have in the resource where those things are query params. I wanted to keep a consistent API as much as possible","body":"@peeskillet I was trying to keep it consistent with other methods I have in the resource where those things are query params. I wanted to keep a consistent API as much as possible"}],"answers":[{"tags":[],"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1504241964,"creation_date":1504241964,"answer_id":45993535,"question_id":45992629,"body_markdown":"It&#39;s not pretty, but the only thing I can think of (if you don&#39;t want to post any body), is to use Jersey&#39;s `ContainerRequest` that you can inject into the method. Then if there is any body, get the multipart as `FormDataMultiPart` and just traverse the parts manually.\r\n\r\n    @POST\r\n    @Produces(MediaType.TEXT_PLAIN)\r\n    @Consumes(MediaType.MULTIPART_FORM_DATA)\r\n    public String post(@Context ContainerRequest request) {\r\n        final String contentLength = request.getHeaderString(HttpHeaders.CONTENT_LENGTH);\r\n        if (contentLength != null &amp;&amp; Integer.parseInt(contentLength) != 0) {\r\n            FormDataMultiPart multiPart = request.readEntity(FormDataMultiPart.class);\r\n            FormDataBodyPart part = multiPart.getField(&quot;test&quot;);\r\n            String result = part.getValueAs(String.class);\r\n            return result;\r\n        }\r\n        return &quot;no body&quot;;\r\n    }\r\n\r\nBelow is a complete test\r\n\r\n    import org.glassfish.jersey.client.ClientConfig;\r\n    import org.glassfish.jersey.filter.LoggingFilter;\r\n    import org.glassfish.jersey.media.multipart.*;\r\n    import org.glassfish.jersey.server.ContainerRequest;\r\n    import org.glassfish.jersey.server.ResourceConfig;\r\n    import org.glassfish.jersey.test.JerseyTest;\r\n    import org.junit.Test;\r\n    \r\n    import javax.ws.rs.*;\r\n    import javax.ws.rs.client.Entity;\r\n    import javax.ws.rs.core.Context;\r\n    import javax.ws.rs.core.HttpHeaders;\r\n    import javax.ws.rs.core.MediaType;\r\n    import javax.ws.rs.core.Response;\r\n    import javax.ws.rs.ext.ExceptionMapper;\r\n    import java.util.logging.Logger;\r\n    \r\n    import static org.junit.Assert.assertEquals;\r\n    \r\n    /**\r\n     * Example with default value for multipart field.\r\n     *\r\n     * Dependencies for JUnit test.\r\n     *\r\n     *   &lt;dependency&gt;\r\n     *     &lt;groupId&gt;org.glassfish.jersey.test-framework.providers&lt;/groupId&gt;\r\n     *     &lt;artifactId&gt;jersey-test-framework-provider-grizzly2&lt;/artifactId&gt;\r\n     *     &lt;scope&gt;test&lt;/scope&gt;\r\n     *     &lt;version&gt;${jersey2.version}&lt;/version&gt;\r\n     *   &lt;/dependency&gt;\r\n     *   &lt;dependency&gt;\r\n     *     &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n     *     &lt;artifactId&gt;jersey-media-multipart&lt;/artifactId&gt;\r\n     *     &lt;version&gt;${jersey2.version}&lt;/version&gt;\r\n     *  &lt;/dependency&gt;\r\n     */\r\n    public class MultiPartMissingTest extends JerseyTest {\r\n    \r\n        @Path(&quot;test&quot;)\r\n        public static class TestResource {\r\n    \r\n            @POST\r\n            @Produces(MediaType.TEXT_PLAIN)\r\n            @Consumes(MediaType.MULTIPART_FORM_DATA)\r\n            public String post(@Context ContainerRequest request) {\r\n                final String contentLength = request.getHeaderString(HttpHeaders.CONTENT_LENGTH);\r\n                if (contentLength != null &amp;&amp; Integer.parseInt(contentLength) != 0) {\r\n                    FormDataMultiPart multiPart = request.readEntity(FormDataMultiPart.class);\r\n                    FormDataBodyPart part = multiPart.getField(&quot;test&quot;);\r\n                    String result = part.getValueAs(String.class);\r\n                    return result;\r\n                }\r\n                return &quot;no body&quot;;\r\n            }\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public ResourceConfig configure() {\r\n            return new ResourceConfig()\r\n                    .register(TestResource.class)\r\n                    .register(MultiPartFeature.class)\r\n                    .register(new LoggingFilter(Logger.getAnonymousLogger(), true))\r\n                    .register(new ExceptionMapper&lt;Throwable&gt;() {\r\n                        @Override\r\n                        public Response toResponse(Throwable t) {\r\n                            t.printStackTrace();\r\n                            return Response.serverError().entity(t.getMessage()).build();\r\n                        }\r\n                    });\r\n        }\r\n    \r\n        @Override\r\n        public void configureClient(ClientConfig config) {\r\n            config.register(MultiPartFeature.class);\r\n        }\r\n    \r\n        @Test\r\n        public void testWithBody() {\r\n            final MultiPart multiPart = new FormDataMultiPart()\r\n                    .field(&quot;test&quot;, &quot;testing&quot;);\r\n    \r\n            final Response response = target(&quot;test&quot;)\r\n                    .request()\r\n                    .post(Entity.entity(multiPart, multiPart.getMediaType()));\r\n    \r\n            assertEquals(200, response.getStatus());\r\n            assertEquals(&quot;testing&quot;, response.readEntity(String.class));\r\n        }\r\n    \r\n        @Test\r\n        public void withoutBody() {\r\n            final Response response = target(&quot;test&quot;)\r\n                    .request()\r\n                    .post(null);\r\n    \r\n            assertEquals(200, response.getStatus());\r\n            assertEquals(&quot;no body&quot;, response.readEntity(String.class));\r\n        }\r\n    }","title":"Jersey Multipart Form Data Default Value?","body":"<p>It's not pretty, but the only thing I can think of (if you don't want to post any body), is to use Jersey's <code>ContainerRequest</code> that you can inject into the method. Then if there is any body, get the multipart as <code>FormDataMultiPart</code> and just traverse the parts manually.</p>\n\n<pre><code>@POST\n@Produces(MediaType.TEXT_PLAIN)\n@Consumes(MediaType.MULTIPART_FORM_DATA)\npublic String post(@Context ContainerRequest request) {\n    final String contentLength = request.getHeaderString(HttpHeaders.CONTENT_LENGTH);\n    if (contentLength != null &amp;&amp; Integer.parseInt(contentLength) != 0) {\n        FormDataMultiPart multiPart = request.readEntity(FormDataMultiPart.class);\n        FormDataBodyPart part = multiPart.getField(\"test\");\n        String result = part.getValueAs(String.class);\n        return result;\n    }\n    return \"no body\";\n}\n</code></pre>\n\n<p>Below is a complete test</p>\n\n<pre><code>import org.glassfish.jersey.client.ClientConfig;\nimport org.glassfish.jersey.filter.LoggingFilter;\nimport org.glassfish.jersey.media.multipart.*;\nimport org.glassfish.jersey.server.ContainerRequest;\nimport org.glassfish.jersey.server.ResourceConfig;\nimport org.glassfish.jersey.test.JerseyTest;\nimport org.junit.Test;\n\nimport javax.ws.rs.*;\nimport javax.ws.rs.client.Entity;\nimport javax.ws.rs.core.Context;\nimport javax.ws.rs.core.HttpHeaders;\nimport javax.ws.rs.core.MediaType;\nimport javax.ws.rs.core.Response;\nimport javax.ws.rs.ext.ExceptionMapper;\nimport java.util.logging.Logger;\n\nimport static org.junit.Assert.assertEquals;\n\n/**\n * Example with default value for multipart field.\n *\n * Dependencies for JUnit test.\n *\n *   &lt;dependency&gt;\n *     &lt;groupId&gt;org.glassfish.jersey.test-framework.providers&lt;/groupId&gt;\n *     &lt;artifactId&gt;jersey-test-framework-provider-grizzly2&lt;/artifactId&gt;\n *     &lt;scope&gt;test&lt;/scope&gt;\n *     &lt;version&gt;${jersey2.version}&lt;/version&gt;\n *   &lt;/dependency&gt;\n *   &lt;dependency&gt;\n *     &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n *     &lt;artifactId&gt;jersey-media-multipart&lt;/artifactId&gt;\n *     &lt;version&gt;${jersey2.version}&lt;/version&gt;\n *  &lt;/dependency&gt;\n */\npublic class MultiPartMissingTest extends JerseyTest {\n\n    @Path(\"test\")\n    public static class TestResource {\n\n        @POST\n        @Produces(MediaType.TEXT_PLAIN)\n        @Consumes(MediaType.MULTIPART_FORM_DATA)\n        public String post(@Context ContainerRequest request) {\n            final String contentLength = request.getHeaderString(HttpHeaders.CONTENT_LENGTH);\n            if (contentLength != null &amp;&amp; Integer.parseInt(contentLength) != 0) {\n                FormDataMultiPart multiPart = request.readEntity(FormDataMultiPart.class);\n                FormDataBodyPart part = multiPart.getField(\"test\");\n                String result = part.getValueAs(String.class);\n                return result;\n            }\n            return \"no body\";\n        }\n    }\n\n\n    @Override\n    public ResourceConfig configure() {\n        return new ResourceConfig()\n                .register(TestResource.class)\n                .register(MultiPartFeature.class)\n                .register(new LoggingFilter(Logger.getAnonymousLogger(), true))\n                .register(new ExceptionMapper&lt;Throwable&gt;() {\n                    @Override\n                    public Response toResponse(Throwable t) {\n                        t.printStackTrace();\n                        return Response.serverError().entity(t.getMessage()).build();\n                    }\n                });\n    }\n\n    @Override\n    public void configureClient(ClientConfig config) {\n        config.register(MultiPartFeature.class);\n    }\n\n    @Test\n    public void testWithBody() {\n        final MultiPart multiPart = new FormDataMultiPart()\n                .field(\"test\", \"testing\");\n\n        final Response response = target(\"test\")\n                .request()\n                .post(Entity.entity(multiPart, multiPart.getMediaType()));\n\n        assertEquals(200, response.getStatus());\n        assertEquals(\"testing\", response.readEntity(String.class));\n    }\n\n    @Test\n    public void withoutBody() {\n        final Response response = target(\"test\")\n                .request()\n                .post(null);\n\n        assertEquals(200, response.getStatus());\n        assertEquals(\"no body\", response.readEntity(String.class));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2605353,"reputation":411,"user_id":2256615,"accept_rate":92,"display_name":"Panagiotis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671099330,"creation_date":1671099330,"answer_id":74809947,"question_id":45992629,"body_markdown":"You can simply state that the file param is not required. See below:\r\n\r\n    @POST\r\n    @Path(&quot;/publish&quot;)\r\n    @Consumes(MediaType.MULTIPART_FORM_DATA)\r\n    public Response publish(\r\n            @Multipart(&quot;key&quot;) Key key,\r\n            @Multipart(value = &quot;file&quot;, required = false) Attachment file) {}","title":"Jersey Multipart Form Data Default Value?","body":"<p>You can simply state that the file param is not required. See below:</p>\n<pre><code>@POST\n@Path(&quot;/publish&quot;)\n@Consumes(MediaType.MULTIPART_FORM_DATA)\npublic Response publish(\n        @Multipart(&quot;key&quot;) Key key,\n        @Multipart(value = &quot;file&quot;, required = false) Attachment file) {}\n</code></pre>\n"}],"owner":{"account_id":3792667,"reputation":551,"user_id":3148709,"accept_rate":88,"display_name":"Rohan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3282,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":45993535,"answer_count":2,"score":5,"last_activity_date":1671099330,"creation_date":1504233733,"question_id":45992629,"body_markdown":"I have a method that accepts type Multipart Form Data. One of the parameters to this method is a `file` form data param, shown by\r\n\r\n    @FormDataParam(&quot;file&quot;) InputStream inputStream,\r\n    @FormDataParam(&quot;file&quot;) FormDataContentDisposition contentDispositionHeader\r\n\r\nI want to be able to hit this endpoint sometimes without providing the form data param `file`, but right now when I leave it out the method returns a 400 bad request immediately. Is there a way I can set it up so that I can leave it out? Or is there some way I can set a default value for this (i.e. to null?). Any help would be appreciated. My method declaration is below:\r\n\r\n    @POST\r\n    @Path(&quot;/publish&quot;)\r\n    @Consumes(MediaType.MULTIPART_FORM_DATA)\r\n    public Response publish(@Auth Key key,\r\n                            @QueryParam(&quot;email&quot;) String email,\r\n                            @HeaderParam(&quot;password&quot;) String password,\r\n                            @QueryParam(&quot;type&quot;) PublishType type,\r\n                            @QueryParam(&quot;message&quot;) String message,\r\n                            @FormDataParam(&quot;file&quot;) InputStream inputStream,\r\n                            @FormDataParam(&quot;file&quot;) FormDataContentDisposition\r\n                                  contentDispositionHeader,\r\n                            @FormDataParam(&quot;title&quot;) @DefaultValue(&quot;&quot;) String videoTitle) {\r\n        // code here\r\n    }\r\n\r\nIn the end, I want to create an endpoint where a user can publish text to a database, and optionally include an image or some type of media. Let me know if there is another way I can achieve this.\r\n\r\nThank you!","title":"Jersey Multipart Form Data Default Value?","body":"<p>I have a method that accepts type Multipart Form Data. One of the parameters to this method is a <code>file</code> form data param, shown by</p>\n\n<pre><code>@FormDataParam(\"file\") InputStream inputStream,\n@FormDataParam(\"file\") FormDataContentDisposition contentDispositionHeader\n</code></pre>\n\n<p>I want to be able to hit this endpoint sometimes without providing the form data param <code>file</code>, but right now when I leave it out the method returns a 400 bad request immediately. Is there a way I can set it up so that I can leave it out? Or is there some way I can set a default value for this (i.e. to null?). Any help would be appreciated. My method declaration is below:</p>\n\n<pre><code>@POST\n@Path(\"/publish\")\n@Consumes(MediaType.MULTIPART_FORM_DATA)\npublic Response publish(@Auth Key key,\n                        @QueryParam(\"email\") String email,\n                        @HeaderParam(\"password\") String password,\n                        @QueryParam(\"type\") PublishType type,\n                        @QueryParam(\"message\") String message,\n                        @FormDataParam(\"file\") InputStream inputStream,\n                        @FormDataParam(\"file\") FormDataContentDisposition\n                              contentDispositionHeader,\n                        @FormDataParam(\"title\") @DefaultValue(\"\") String videoTitle) {\n    // code here\n}\n</code></pre>\n\n<p>In the end, I want to create an endpoint where a user can publish text to a database, and optionally include an image or some type of media. Let me know if there is another way I can achieve this.</p>\n\n<p>Thank you!</p>\n"},{"tags":["java","android","android-11","android-fileprovider"],"comments":[{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1639052718,"post_id":70289765,"comment_id":124252806,"body_markdown":"Check this: https://stackoverflow.com/a/52849797/6819340","body":"Check this: <a href=\"https://stackoverflow.com/a/52849797/6819340\">stackoverflow.com/a/52849797/6819340</a>"},{"owner":{"account_id":5237756,"reputation":2929,"user_id":4185813,"accept_rate":58,"display_name":"Ajay Kulkarni"},"score":0,"creation_date":1639054240,"post_id":70289765,"comment_id":124253400,"body_markdown":"Please check this: https://stackoverflow.com/a/42516202/4185813","body":"Please check this: <a href=\"https://stackoverflow.com/a/42516202/4185813\">stackoverflow.com/a/42516202/4185813</a>"},{"owner":{"account_id":21012762,"reputation":141,"user_id":15441000,"display_name":"Dipsy"},"score":0,"creation_date":1639058302,"post_id":70289765,"comment_id":124255104,"body_markdown":"@DarShan tried it, not working","body":"@DarShan tried it, not working"},{"owner":{"account_id":21012762,"reputation":141,"user_id":15441000,"display_name":"Dipsy"},"score":0,"creation_date":1639058307,"post_id":70289765,"comment_id":124255106,"body_markdown":"@AjayKulkarni tried that too, not working","body":"@AjayKulkarni tried that too, not working"},{"owner":{"account_id":21012762,"reputation":141,"user_id":15441000,"display_name":"Dipsy"},"score":0,"creation_date":1639059400,"post_id":70289765,"comment_id":124255665,"body_markdown":"@blackapps I added the logcat lines and the code where the exception happens","body":"@blackapps I added the logcat lines and the code where the exception happens"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1639059790,"post_id":70289765,"comment_id":124255842,"body_markdown":"`&lt;external-files-path name=&quot;external_files&quot; path=&quot;.&quot; /&gt;` That should do it. Put only one for external-files-path in the xml file. Maybe that underscore is not allowed.","body":"<code>&lt;external-files-path name=&quot;external_files&quot; path=&quot;.&quot; &#47;&gt;</code> That should do it. Put only one for external-files-path in the xml file. Maybe that underscore is not allowed."},{"owner":{"account_id":21012762,"reputation":141,"user_id":15441000,"display_name":"Dipsy"},"score":0,"creation_date":1639060672,"post_id":70289765,"comment_id":124256234,"body_markdown":"@blackapps i tried it, doesn&#39;t work, I also edited the post","body":"@blackapps i tried it, doesn&#39;t work, I also edited the post"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1639061440,"post_id":70289765,"comment_id":124256534,"body_markdown":"And why dont you use the right names in your code?  ` &quot;/&quot; + folderName + &quot;/&quot; + fileName` ?  As we can see already: `/files/myFolder/879881480803.pdf`","body":"And why dont you use the right names in your code?  ` &quot;/&quot; + folderName + &quot;/&quot; + fileName` ?  As we can see already: <code>&#47;files&#47;myFolder&#47;879881480803.pdf</code>"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1639061711,"post_id":70289765,"comment_id":124256643,"body_markdown":"If you put `String AUTHORITY = getPackageName() + &quot;.provider&quot;;` In your code. And here then everybody can see what you do. And you dont have to tell afterwards what AUTHORITY stands for.","body":"If you put <code>String AUTHORITY = getPackageName() + &quot;.provider&quot;;</code> In your code. And here then everybody can see what you do. And you dont have to tell afterwards what AUTHORITY stands for."},{"owner":{"account_id":21012762,"reputation":141,"user_id":15441000,"display_name":"Dipsy"},"score":0,"creation_date":1639062237,"post_id":70289765,"comment_id":124256875,"body_markdown":"@blackapps this is an existing project that I&#39;ve started to work on and I don&#39;t have much experience in Andorid(I am a student), my colleagues that are now on a long vacation have written this and I need to fix this problem. They know what AUTHORITY means in our code and I should not change that. I have provided the code for the provider.","body":"@blackapps this is an existing project that I&#39;ve started to work on and I don&#39;t have much experience in Andorid(I am a student), my colleagues that are now on a long vacation have written this and I need to fix this problem. They know what AUTHORITY means in our code and I should not change that. I have provided the code for the provider."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1639063104,"post_id":70289765,"comment_id":124257225,"body_markdown":"You should not change their code but just make your own little function which you can post here. Code everybody can copy and paste to try out. You dont have to post the lines after getUriForFile() if getUriForFile is the problem.","body":"You should not change their code but just make your own little function which you can post here. Code everybody can copy and paste to try out. You dont have to post the lines after getUriForFile() if getUriForFile is the problem."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1639063157,"post_id":70289765,"comment_id":124257249,"body_markdown":"`Here is the provider_paths.xml before the change of the path:` Change it to like i suggested.","body":"<code>Here is the provider_paths.xml before the change of the path:</code> Change it to like i suggested."}],"answers":[{"tags":[],"owner":{"account_id":20450406,"reputation":1339,"user_id":15005298,"display_name":"Yaqoob Bhatti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639066924,"creation_date":1639066924,"answer_id":70293271,"question_id":70289765,"body_markdown":"Following is in Kotlin code but it works for me I think it will help your problem\r\n\r\n**Manifest**\r\n\r\n    &lt;application\r\n            ....\r\n            android:requestLegacyExternalStorage=&quot;true&quot;&gt;\r\n    \r\n                   &lt;provider\r\n                    android:name=&quot;androidx.core.content.FileProvider&quot;\r\n                    android:authorities=&quot;com.example.pdf.provider&quot;\r\n                    android:exported=&quot;false&quot;\r\n                    android:grantUriPermissions=&quot;true&quot;&gt;\r\n                    &lt;meta-data\r\n                        android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n                        android:resource=&quot;@xml/provider_paths&quot; /&gt;\r\n                    &lt;/provider&gt;\r\n    &lt;/application&gt;\r\n\r\n\r\n**xml/provider_paths**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;paths&gt;\r\n        &lt;external-path name=&quot;external_files&quot; path=&quot;.&quot;/&gt;\r\n    &lt;/paths&gt;\r\n\r\n**Code**\r\n\r\n    var myPdfFilePath: File? = null\r\n    myPdfFilePath= File(checkFolder(), &quot;myPdfFile.pdf&quot;) \r\n\r\n    private fun checkFolder(): File {\r\n\r\n        val root = if (Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.Q) {\r\n            File(getExternalFilesDir(null), folderName)\r\n        } else {\r\n            File(Environment.getExternalStorageDirectory(), folderName)\r\n        }\r\n\r\n        var isDirectoryCreated: Boolean = root.exists()\r\n        if (!isDirectoryCreated) {\r\n            isDirectoryCreated = root.mkdir()\r\n        }\r\n        Log.d(&quot;Folder&quot;, &quot;Created ? $isDirectoryCreated&quot;)\r\n        return root\r\n    }\r\n\r\n    private fun sharePdfFile() {\r\n            val contentUri: Uri = FileProvider.getUriForFile(\r\n                applicationContext,\r\n                &quot;com.example.pdf.provider&quot;,\r\n                myPdfFilePath!!\r\n            )\r\n    \r\n            if (myPdfFilePath?.exists()!!) {\r\n                val shareIntent = Intent()\r\n                shareIntent.action = Intent.ACTION_SEND\r\n                shareIntent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION)\r\n                shareIntent.setDataAndType(contentUri, contentResolver.getType(contentUri))\r\n                shareIntent.putExtra(Intent.EXTRA_STREAM, Uri.fromFile(myPdfFilePath))\r\n                startActivity(Intent.createChooser(shareIntent, &quot;Choose an app&quot;))\r\n            }\r\n    \r\n        }\r\n\r\n","title":"File Provider Android 11","body":"<p>Following is in Kotlin code but it works for me I think it will help your problem</p>\n<p><strong>Manifest</strong></p>\n<pre><code>&lt;application\n        ....\n        android:requestLegacyExternalStorage=&quot;true&quot;&gt;\n\n               &lt;provider\n                android:name=&quot;androidx.core.content.FileProvider&quot;\n                android:authorities=&quot;com.example.pdf.provider&quot;\n                android:exported=&quot;false&quot;\n                android:grantUriPermissions=&quot;true&quot;&gt;\n                &lt;meta-data\n                    android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\n                    android:resource=&quot;@xml/provider_paths&quot; /&gt;\n                &lt;/provider&gt;\n&lt;/application&gt;\n</code></pre>\n<p><strong>xml/provider_paths</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;paths&gt;\n    &lt;external-path name=&quot;external_files&quot; path=&quot;.&quot;/&gt;\n&lt;/paths&gt;\n</code></pre>\n<p><strong>Code</strong></p>\n<pre><code>var myPdfFilePath: File? = null\nmyPdfFilePath= File(checkFolder(), &quot;myPdfFile.pdf&quot;) \n\nprivate fun checkFolder(): File {\n\n    val root = if (Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.Q) {\n        File(getExternalFilesDir(null), folderName)\n    } else {\n        File(Environment.getExternalStorageDirectory(), folderName)\n    }\n\n    var isDirectoryCreated: Boolean = root.exists()\n    if (!isDirectoryCreated) {\n        isDirectoryCreated = root.mkdir()\n    }\n    Log.d(&quot;Folder&quot;, &quot;Created ? $isDirectoryCreated&quot;)\n    return root\n}\n\nprivate fun sharePdfFile() {\n        val contentUri: Uri = FileProvider.getUriForFile(\n            applicationContext,\n            &quot;com.example.pdf.provider&quot;,\n            myPdfFilePath!!\n        )\n\n        if (myPdfFilePath?.exists()!!) {\n            val shareIntent = Intent()\n            shareIntent.action = Intent.ACTION_SEND\n            shareIntent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION)\n            shareIntent.setDataAndType(contentUri, contentResolver.getType(contentUri))\n            shareIntent.putExtra(Intent.EXTRA_STREAM, Uri.fromFile(myPdfFilePath))\n            startActivity(Intent.createChooser(shareIntent, &quot;Choose an app&quot;))\n        }\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25435879,"reputation":1,"user_id":19239614,"display_name":"Soham Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671099175,"creation_date":1671099175,"answer_id":74809915,"question_id":70289765,"body_markdown":"    For Android 11 and Above:\r\n    \r\n    **Manifest File**:\r\n    \r\n     &lt;provider\r\n                android:name=&quot;androidx.core.content.FileProvider&quot;\r\n                android:authorities=&quot;(packagename).provider&quot;(.provider name would be used to pass in parameter so please provide same name here too)\r\n                android:exported=&quot;false&quot;\r\n                android:grantUriPermissions=&quot;true&quot;&gt;\r\n                &lt;meta-data\r\n                    android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n                    android:resource=&quot;@xml/file_paths&quot; /&gt;\r\n            &lt;/provider&gt;\r\n    \r\n    **file_xml**:\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;paths xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n        &lt;external-path name=&quot;logs&quot; path=&quot;/&quot; /&gt;\r\n    \r\n    &lt;/paths&gt;\r\n    \r\n    You can understand the the type of path from [docs][1].\r\n    \r\n    And if your path contains &quot;storage/emulated/0&quot; just pass &quot;/&quot; in path value of xml.\r\n    \r\n    And in code just call:\r\n    Uri uri = FileProvider.getUriForFile(getActivity(),\r\n                    &quot;provider&quot;(provide the same name defined in manifest of provider)enter code here, // Over here\r\n                    new File(filePath));\r\n    \r\n    \r\n      [1]: https://developer.android.com/reference/androidx/core/content/FileProvider","title":"File Provider Android 11","body":"<pre><code>For Android 11 and Above:\n\n**Manifest File**:\n\n &lt;provider\n            android:name=&quot;androidx.core.content.FileProvider&quot;\n            android:authorities=&quot;(packagename).provider&quot;(.provider name would be used to pass in parameter so please provide same name here too)\n            android:exported=&quot;false&quot;\n            android:grantUriPermissions=&quot;true&quot;&gt;\n            &lt;meta-data\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\n                android:resource=&quot;@xml/file_paths&quot; /&gt;\n        &lt;/provider&gt;\n\n**file_xml**:\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;paths xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;external-path name=&quot;logs&quot; path=&quot;/&quot; /&gt;\n\n&lt;/paths&gt;\n\nYou can understand the the type of path from [docs][1].\n\nAnd if your path contains &quot;storage/emulated/0&quot; just pass &quot;/&quot; in path value of xml.\n\nAnd in code just call:\nUri uri = FileProvider.getUriForFile(getActivity(),\n                &quot;provider&quot;(provide the same name defined in manifest of provider)enter code here, // Over here\n                new File(filePath));\n\n\n  [1]: https://developer.android.com/reference/androidx/core/content/FileProvider\n</code></pre>\n"}],"owner":{"account_id":21012762,"reputation":141,"user_id":15441000,"display_name":"Dipsy"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1032,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1671099175,"creation_date":1639052088,"question_id":70289765,"body_markdown":"Due to the storage access changes that were made on Android 11, SDK 30, I have changed the path where I save my PDF files and images.\r\n\r\nBefore, I was using this:\r\n\r\n    File file = new File(Environment.getExternalStorageDirectory() + &quot;/&quot; + folderName + &quot;/&quot; + fileName);\r\n\r\nHere is the file provider:\r\n\r\n    &lt;provider\r\n        android:name=&quot;androidx.core.content.FileProvider&quot;\r\n        android:authorities=&quot;${applicationId}.provider&quot;\r\n        android:exported=&quot;false&quot;\r\n        android:grantUriPermissions=&quot;true&quot;&gt;\r\n\r\n      &lt;meta-data\r\n          android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n          android:resource=&quot;@xml/provider_paths&quot; /&gt;\r\n \r\n    &lt;/provider&gt;\r\n\r\nHere is the provider_paths.xml before the change of the path:\r\n\r\n    &lt;paths&gt;\r\n        &lt;external-path name=&quot;external_files&quot; path=&quot;myFolder/&quot;/&gt;\r\n        &lt;files-path name=&quot;files&quot; path=&quot;docs/&quot; /&gt;\r\n    &lt;/paths&gt;\r\n\r\nNow, I have changed the path in:\r\n\r\n     File file = new File(context.getExternalFilesDir(null) + &quot;/&quot; + folderName + &quot;/&quot; + fileName);\r\n\r\nThe PDF files and the images are saved successfully.\r\n\r\nBut when I try to share the PDF from my PDFView in the app, the application crashes at the `FileProvider.getUriForFile(...)`. It was working fine before I changed the path.\r\n\r\n    case R.id.action_share:\r\n        Intent intentShare = null;\r\n    \r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\r\n            Uri u=FileProvider.getUriForFile(getBaseActivity(), AUTHORITY, file);\r\n            intentShare = new Intent(Intent.ACTION_SEND);\r\n            intentShare.setType(&quot;application/pdf&quot;);\r\n            intentShare.putExtra(Intent.EXTRA_STREAM, u);\r\n            intentShare.putExtra(Intent.EXTRA_SUBJECT, &quot;Sharing File...&quot;);\r\n            intentShare.putExtra(Intent.EXTRA_TEXT, &quot;Sharing File...&quot;);\r\n            intentShare.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n    \r\n            startActivity(intentShare);\r\n    \r\n        }\r\n\r\n`getBaseActivity()` returns the context\r\n\r\nAUTHORITY is &quot;[name of package].provider&quot;\r\n\r\nI have changed the File Provider many times, trying many combinations, including the following (I put all separately not all at once) and nothing seems to work..\r\n\r\n\r\n    &lt;external-files-path name=&quot;external_files&quot; path=&quot;.&quot; /&gt;\r\n    &lt;external-files-path name=&quot;external_files&quot; path=&quot;/&quot; /&gt;\r\n    &lt;external-files-path name=&quot;my_folder&quot; path=&quot;myFolder/&quot; /&gt;\r\n    &lt;external-path name=&quot;my_folder&quot; path=&quot;Android/data/[name of the package]/files/myFolder&quot; /&gt;\r\n    &lt;files-path name=&quot;files&quot; path=&quot;.&quot; /&gt;\r\n    &lt;external-files-path name=&quot;external_files&quot; path=&quot;.&quot; /&gt;\r\n\r\nI keep getting this error and I cannot find a suitable solution, I&#39;ve been stuck here for 3 weeks...\r\n\r\nHere are the logcat lines:\r\n\r\n&gt;2021-12-09 15:09:09.771 23495-23495/[package name] k E/AndroidRuntime: FATAL EXCEPTION: main\r\n&gt;         Process: [package name], PID: 23495\r\n&gt;         java.lang.IllegalArgumentException: Failed to find configured root that contains /storage/emulated/0/Android/data/[package\r\n&gt; name]/files/myFolder/879881480803.pdf\r\n&gt;             at androidx.core.content.FileProvider$SimplePathStrategy.getUriForFile(FileProvider.java:744)\r\n&gt;             at androidx.core.content.FileProvider.getUriForFile(FileProvider.java:418)\r\n&gt;             at hr.asseco.ui.activity.fragment.PdfFragment.onOptionsItemSelected(PdfFragment.java:145)\r\n&gt;             at androidx.fragment.app.Fragment.performOptionsItemSelected(Fragment.java:2733)\r\n&gt;             at androidx.fragment.app.FragmentManagerImpl.dispatchOptionsItemSelected(FragmentManagerImpl.java:2758)\r\n&gt;             at androidx.fragment.app.FragmentController.dispatchOptionsItemSelected(FragmentController.java:411)\r\n&gt;             at androidx.fragment.app.FragmentActivity.onMenuItemSelected(FragmentActivity.java:390)\r\n&gt;             at androidx.appcompat.app.AppCompatActivity.onMenuItemSelected(AppCompatActivity.java:228)\r\n&gt;             at androidx.appcompat.view.WindowCallbackWrapper.onMenuItemSelected(WindowCallbackWrapper.java:109)\r\n&gt;             at androidx.appcompat.view.WindowCallbackWrapper.onMenuItemSelected(WindowCallbackWrapper.java:109)\r\n&gt;             at androidx.appcompat.app.ToolbarActionBar$2.onMenuItemClick(ToolbarActionBar.java:65)\r\n&gt;             at androidx.appcompat.widget.Toolbar$1.onMenuItemClick(Toolbar.java:207)\r\n&gt;             at androidx.appcompat.widget.ActionMenuView$MenuBuilderCallback.onMenuItemSelected(ActionMenuView.java:779)\r\n&gt;             at androidx.appcompat.view.menu.MenuBuilder.dispatchMenuItemSelected(MenuBuilder.java:834)\r\n&gt;             at androidx.appcompat.view.menu.MenuItemImpl.invoke(MenuItemImpl.java:158)\r\n&gt;             at androidx.appcompat.view.menu.MenuBuilder.performItemAction(MenuBuilder.java:985)\r\n&gt;             at androidx.appcompat.view.menu.MenuBuilder.performItemAction(MenuBuilder.java:975)\r\n&gt;             at androidx.appcompat.widget.ActionMenuView.invokeItem(ActionMenuView.java:623)\r\n&gt;             at androidx.appcompat.view.menu.ActionMenuItemView.onClick(ActionMenuItemView.java:151)\r\n&gt;             at android.view.View.performClick(View.java:7161)\r\n&gt;             at android.view.View.performClickInternal(View.java:7138)\r\n&gt;             at android.view.View.access$3500(View.java:811)\r\n&gt;             at android.view.View$PerformClick.run(View.java:27419)\r\n&gt;             at android.os.Handler.handleCallback(Handler.java:883)\r\n&gt;             at android.os.Handler.dispatchMessage(Handler.java:100)\r\n&gt;             at android.os.Looper.loop(Looper.java:221)\r\n&gt;             at android.app.ActivityThread.main(ActivityThread.java:7542)\r\n&gt;             at java.lang.reflect.Method.invoke(Native Method)\r\n&gt;             at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:539)\r\n&gt;             at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:950)\r\n\r\n","title":"File Provider Android 11","body":"<p>Due to the storage access changes that were made on Android 11, SDK 30, I have changed the path where I save my PDF files and images.</p>\n<p>Before, I was using this:</p>\n<pre><code>File file = new File(Environment.getExternalStorageDirectory() + &quot;/&quot; + folderName + &quot;/&quot; + fileName);\n</code></pre>\n<p>Here is the file provider:</p>\n<pre><code>&lt;provider\n    android:name=&quot;androidx.core.content.FileProvider&quot;\n    android:authorities=&quot;${applicationId}.provider&quot;\n    android:exported=&quot;false&quot;\n    android:grantUriPermissions=&quot;true&quot;&gt;\n\n  &lt;meta-data\n      android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\n      android:resource=&quot;@xml/provider_paths&quot; /&gt;\n\n&lt;/provider&gt;\n</code></pre>\n<p>Here is the provider_paths.xml before the change of the path:</p>\n<pre><code>&lt;paths&gt;\n    &lt;external-path name=&quot;external_files&quot; path=&quot;myFolder/&quot;/&gt;\n    &lt;files-path name=&quot;files&quot; path=&quot;docs/&quot; /&gt;\n&lt;/paths&gt;\n</code></pre>\n<p>Now, I have changed the path in:</p>\n<pre><code> File file = new File(context.getExternalFilesDir(null) + &quot;/&quot; + folderName + &quot;/&quot; + fileName);\n</code></pre>\n<p>The PDF files and the images are saved successfully.</p>\n<p>But when I try to share the PDF from my PDFView in the app, the application crashes at the <code>FileProvider.getUriForFile(...)</code>. It was working fine before I changed the path.</p>\n<pre><code>case R.id.action_share:\n    Intent intentShare = null;\n\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\n        Uri u=FileProvider.getUriForFile(getBaseActivity(), AUTHORITY, file);\n        intentShare = new Intent(Intent.ACTION_SEND);\n        intentShare.setType(&quot;application/pdf&quot;);\n        intentShare.putExtra(Intent.EXTRA_STREAM, u);\n        intentShare.putExtra(Intent.EXTRA_SUBJECT, &quot;Sharing File...&quot;);\n        intentShare.putExtra(Intent.EXTRA_TEXT, &quot;Sharing File...&quot;);\n        intentShare.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n\n        startActivity(intentShare);\n\n    }\n</code></pre>\n<p><code>getBaseActivity()</code> returns the context</p>\n<p>AUTHORITY is &quot;[name of package].provider&quot;</p>\n<p>I have changed the File Provider many times, trying many combinations, including the following (I put all separately not all at once) and nothing seems to work..</p>\n<pre><code>&lt;external-files-path name=&quot;external_files&quot; path=&quot;.&quot; /&gt;\n&lt;external-files-path name=&quot;external_files&quot; path=&quot;/&quot; /&gt;\n&lt;external-files-path name=&quot;my_folder&quot; path=&quot;myFolder/&quot; /&gt;\n&lt;external-path name=&quot;my_folder&quot; path=&quot;Android/data/[name of the package]/files/myFolder&quot; /&gt;\n&lt;files-path name=&quot;files&quot; path=&quot;.&quot; /&gt;\n&lt;external-files-path name=&quot;external_files&quot; path=&quot;.&quot; /&gt;\n</code></pre>\n<p>I keep getting this error and I cannot find a suitable solution, I've been stuck here for 3 weeks...</p>\n<p>Here are the logcat lines:</p>\n<blockquote>\n<p>2021-12-09 15:09:09.771 23495-23495/[package name] k E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: [package name], PID: 23495\njava.lang.IllegalArgumentException: Failed to find configured root that contains /storage/emulated/0/Android/data/[package\nname]/files/myFolder/879881480803.pdf\nat androidx.core.content.FileProvider$SimplePathStrategy.getUriForFile(FileProvider.java:744)\nat androidx.core.content.FileProvider.getUriForFile(FileProvider.java:418)\nat hr.asseco.ui.activity.fragment.PdfFragment.onOptionsItemSelected(PdfFragment.java:145)\nat androidx.fragment.app.Fragment.performOptionsItemSelected(Fragment.java:2733)\nat androidx.fragment.app.FragmentManagerImpl.dispatchOptionsItemSelected(FragmentManagerImpl.java:2758)\nat androidx.fragment.app.FragmentController.dispatchOptionsItemSelected(FragmentController.java:411)\nat androidx.fragment.app.FragmentActivity.onMenuItemSelected(FragmentActivity.java:390)\nat androidx.appcompat.app.AppCompatActivity.onMenuItemSelected(AppCompatActivity.java:228)\nat androidx.appcompat.view.WindowCallbackWrapper.onMenuItemSelected(WindowCallbackWrapper.java:109)\nat androidx.appcompat.view.WindowCallbackWrapper.onMenuItemSelected(WindowCallbackWrapper.java:109)\nat androidx.appcompat.app.ToolbarActionBar$2.onMenuItemClick(ToolbarActionBar.java:65)\nat androidx.appcompat.widget.Toolbar$1.onMenuItemClick(Toolbar.java:207)\nat androidx.appcompat.widget.ActionMenuView$MenuBuilderCallback.onMenuItemSelected(ActionMenuView.java:779)\nat androidx.appcompat.view.menu.MenuBuilder.dispatchMenuItemSelected(MenuBuilder.java:834)\nat androidx.appcompat.view.menu.MenuItemImpl.invoke(MenuItemImpl.java:158)\nat androidx.appcompat.view.menu.MenuBuilder.performItemAction(MenuBuilder.java:985)\nat androidx.appcompat.view.menu.MenuBuilder.performItemAction(MenuBuilder.java:975)\nat androidx.appcompat.widget.ActionMenuView.invokeItem(ActionMenuView.java:623)\nat androidx.appcompat.view.menu.ActionMenuItemView.onClick(ActionMenuItemView.java:151)\nat android.view.View.performClick(View.java:7161)\nat android.view.View.performClickInternal(View.java:7138)\nat android.view.View.access$3500(View.java:811)\nat android.view.View$PerformClick.run(View.java:27419)\nat android.os.Handler.handleCallback(Handler.java:883)\nat android.os.Handler.dispatchMessage(Handler.java:100)\nat android.os.Looper.loop(Looper.java:221)\nat android.app.ActivityThread.main(ActivityThread.java:7542)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:539)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:950)</p>\n</blockquote>\n"},{"tags":["java","object","methods"],"comments":[{"owner":{"account_id":7134391,"reputation":2578,"user_id":5454585,"accept_rate":72,"display_name":"Madushan Perera"},"score":0,"creation_date":1448231058,"post_id":33860958,"comment_id":55486410,"body_markdown":"`JButton ready ;\npublic buttonPrototype() {\n   \n   ready=  new JButton(&quot;READY&quot;);` ??","body":"<code>JButton ready ; public buttonPrototype() {        ready=  new JButton(&quot;READY&quot;);</code> ??"}],"answers":[{"tags":[],"owner":{"account_id":4361066,"reputation":2144,"user_id":3558133,"display_name":"Marcinek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1448231246,"creation_date":1448231246,"answer_id":33861011,"question_id":33860958,"body_markdown":"In your case I see two easy solutions: You should use one of them, not both.\r\n\r\nFirst: \r\n\r\n    JButton ready = new JButton(&quot;READY&quot;);\r\n\r\nshould be a member variable, so you can access it within the listener by simply call it: \r\n\r\n    ready.setIcon(&quot;images/ready.png&quot;);\r\n\r\nOR\r\n\r\nYour method is passed an event. You can obtain the source (which is actually the button) by calling: \r\n\r\n    ((JButton)e.getSource).setIcon(&quot;images/ready.png&quot;);","title":"Java access object from other method","body":"<p>In your case I see two easy solutions: You should use one of them, not both.</p>\n\n<p>First: </p>\n\n<pre><code>JButton ready = new JButton(\"READY\");\n</code></pre>\n\n<p>should be a member variable, so you can access it within the listener by simply call it: </p>\n\n<pre><code>ready.setIcon(\"images/ready.png\");\n</code></pre>\n\n<p>OR</p>\n\n<p>Your method is passed an event. You can obtain the source (which is actually the button) by calling: </p>\n\n<pre><code>((JButton)e.getSource).setIcon(\"images/ready.png\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3793951,"reputation":655,"user_id":3149693,"display_name":"Arnas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671098893,"creation_date":1448232076,"answer_id":33861137,"question_id":33860958,"body_markdown":"You should move the ready variable out of the method (as class variable), like this:\r\n\r\n```java\r\npublic class buttonPrototype extends JPanel implements ActionListener {\r\n\r\n    boolean READY;\r\n    JButton ready;\r\n\r\n    public buttonPrototype() {\r\n        READY = false;\r\n        ...\r\n        ready = new JButton(&quot;READY&quot;);\r\n        ...\r\n        ready.addActionListener(this);\r\n    }\r\n\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n        ...\r\n    }\r\n}\r\n```","title":"Java access object from other method","body":"<p>You should move the ready variable out of the method (as class variable), like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class buttonPrototype extends JPanel implements ActionListener {\n\n    boolean READY;\n    JButton ready;\n\n    public buttonPrototype() {\n        READY = false;\n        ...\n        ready = new JButton(&quot;READY&quot;);\n        ...\n        ready.addActionListener(this);\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        ...\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6992456,"reputation":131,"user_id":5365406,"accept_rate":75,"display_name":"richzli"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1671098893,"creation_date":1448230928,"question_id":33860958,"body_markdown":"I&#39;m trying to make a button that changes the color when you click it:\r\n\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n    import java.awt.event.*;\r\n    \r\n    public class buttonPrototype extends JPanel implements ActionListener {\r\n    public buttonPrototype() {\r\n        boolean READY = false;\r\n        ...\r\n        JButton ready = new JButton(&quot;READY&quot;);\r\n\t\t    c.fill = GridBagConstraints.HORIZONTAL;\r\n\t\t    c.weightx = 0.5;\r\n\t\t    c.gridx = 0;\r\n\t\t    c.gridy = 6;\r\n\t\t    c.gridwidth = 4;\r\n\t\t    p.add(ready, c);\r\n        ...\r\n        ready.addActionListener(this);\r\n    }\r\n\r\n    @Override\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\t\tif (&quot;READY&quot;.equals(e.getActionCommand())) {\r\n\t\t\tif (READY == true) {\r\n\t\t\t\tREADY = false;\r\n\t\t\t\tready.setIcon(&quot;images/notready.png&quot;);\r\n\t\t\t} else {\r\n\t\t\t\tREADY = true;\r\n\t\t\t\tready.setIcon(&quot;images/ready.png&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n    }\r\n\r\nHowever, I am not able to get the setIcon() to work because the ready object is in another method. I have read some online tutorials but still do not get how to reference this object in a second class. How do I do this?","title":"Java access object from other method","body":"<p>I'm trying to make a button that changes the color when you click it:</p>\n\n<pre><code>import java.awt.*;\nimport javax.swing.*;\nimport java.awt.event.*;\n\npublic class buttonPrototype extends JPanel implements ActionListener {\npublic buttonPrototype() {\n    boolean READY = false;\n    ...\n    JButton ready = new JButton(\"READY\");\n        c.fill = GridBagConstraints.HORIZONTAL;\n        c.weightx = 0.5;\n        c.gridx = 0;\n        c.gridy = 6;\n        c.gridwidth = 4;\n        p.add(ready, c);\n    ...\n    ready.addActionListener(this);\n}\n\n@Override\npublic void actionPerformed(ActionEvent e) {\n    if (\"READY\".equals(e.getActionCommand())) {\n        if (READY == true) {\n            READY = false;\n            ready.setIcon(\"images/notready.png\");\n        } else {\n            READY = true;\n            ready.setIcon(\"images/ready.png\");\n        }\n    }\n}\n}\n</code></pre>\n\n<p>However, I am not able to get the setIcon() to work because the ready object is in another method. I have read some online tutorials but still do not get how to reference this object in a second class. How do I do this?</p>\n"},{"tags":["java","servlet-filters"],"comments":[{"owner":{"account_id":2497295,"reputation":3931,"user_id":2173392,"display_name":"pdem"},"score":0,"creation_date":1671100192,"post_id":74809795,"comment_id":132026884,"body_markdown":"Is your image a static file or is it generated?","body":"Is your image a static file or is it generated?"}],"owner":{"account_id":19525449,"reputation":1,"user_id":14286373,"display_name":"sarvesh gandhere"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1671101343,"answer_count":0,"score":0,"last_activity_date":1671098628,"creation_date":1671098628,"question_id":74809795,"body_markdown":"I am trying to display images on client side without jsp because i am using ajax for request but i dont know how to do that.\r\n\r\nI tried to convert that image to string and then send it to user using response. but i cant convert it to image on client side.","title":"I want to fetch images from server i am using java servlets","body":"<p>I am trying to display images on client side without jsp because i am using ajax for request but i dont know how to do that.</p>\n<p>I tried to convert that image to string and then send it to user using response. but i cant convert it to image on client side.</p>\n"},{"tags":["java","spring","mongodb","querydsl","boot"],"answers":[{"tags":[],"owner":{"account_id":18961063,"reputation":28,"user_id":13836568,"display_name":"Mario Biagioni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671098546,"creation_date":1671098546,"answer_id":74809775,"question_id":74777340,"body_markdown":"I found an exit route: I&#39;m using the @DBRef instead @DocumentReference and everything works fine.\r\n\r\nI thought it was solved as requested in https://github.com/spring-projects/spring-data-mongodb/issues/4037, but latter version avoid to throw an exception, doesn&#39;t do the search","title":"Querydsl search with MongoDB and DocumentReferenced (inner) collection and web support","body":"<p>I found an exit route: I'm using the @DBRef instead @DocumentReference and everything works fine.</p>\n<p>I thought it was solved as requested in <a href=\"https://github.com/spring-projects/spring-data-mongodb/issues/4037\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-data-mongodb/issues/4037</a>, but latter version avoid to throw an exception, doesn't do the search</p>\n"}],"owner":{"account_id":18961063,"reputation":28,"user_id":13836568,"display_name":"Mario Biagioni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":367,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671098546,"creation_date":1670879345,"question_id":74777340,"body_markdown":"In my way to explore Spring Data and MongoDB, I had the request to query a collection with its own fields. Querydsl is the best choice for what I&#39;ve seen.\r\n\r\nI have theese collections\r\n\r\n    @Data\r\n    @Builder\r\n    @Document(collection = &quot;subject&quot;)\r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    public class Subject {\r\n\r\n        @Id\r\n        private String id;\r\n\r\n        @Field(&quot;full_name&quot;)\r\n        private String fullName;\r\n\r\n        @Field(&quot;subject_yupe&quot;)\r\n        @DocumentReference(lazy = true)\r\n        private SubjectType subjectType;\r\n        \r\n        // other fields\r\n    }\r\n\r\n\r\n    @Data\r\n    @Builder\r\n    @Document(collection = &quot;subjecttype&quot;)\r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    public class SubjectType {\r\n\r\n        @Id\r\n        private String id;\r\n\r\n        @Indexed(unique = true)\r\n        @Field(&quot;name&quot;)\r\n        private String name;\r\n    }\r\n\r\nThis repository\r\n\r\n    @Repository\r\n    public interface SubjectRepository extends MongoRepository&lt;Subject, String&gt;, QuerydslPredicateExecutor&lt;Subject&gt;, QuerydslBinderCustomizer&lt;QSubject&gt; {\r\n\r\n        @Override\r\n        default void customize(QuerydslBindings bindings, QSubject subject) {\r\n            bindings.bind(String.class).first((StringPath path, String value) -&gt; path.containsIgnoreCase(value));\r\n        }\r\n    }\r\n\r\nThis controller method\r\n\r\n    @GetMapping(&quot;/search&quot;)\r\n    public ResponseEntity&lt;List&lt;SubjectDto&gt;&gt; search(@QuerydslPredicate(root = Subject.class) Predicate predicate) {\r\n        log.debug(&quot;REST request to search Subject by parameters: {}&quot;, predicate);\r\n        // call the service that calls the repository and cast the result as List and map it\r\n        return ResponseEntity.ok(subjectService.findAll(predicate));\r\n    }\r\n\r\nWhen I search by one of the Subject&#39;s fields it works without any problem, I also have the correct result, following the log of Mongo query:\r\n\r\n    2022-12-12 21:58:31.505 DEBUG 5816 --- [nio-8080-exec-4] o.s.data.mongodb.core.MongoTemplate      : find using query: { &quot;full_name&quot; : { &quot;$regularExpression&quot; : { &quot;pattern&quot; : &quot;.*\\\\Qgius\\\\E.*&quot;, &quot;options&quot; : &quot;i&quot;}}} fields: Document{{}} for class: class it.XXXXXXXXX.collections.Subject in collection: subject\r\n\r\nIf I try to do the same with a field of SubjectType the query is correct but the result is an empty array\r\n\r\n    2022-12-12 22:03:09.590 DEBUG 5816 --- [nio-8080-exec-7] o.s.data.mongodb.core.MongoTemplate      : find using query: { &quot;subject_type.name&quot; : { &quot;$regularExpression&quot; : { &quot;pattern&quot; : &quot;.*\\\\QEntit\\\\E.*&quot;, &quot;options&quot; : &quot;i&quot;}}} fields: Document{{}} for class: class it.XXXXXXXXX.collections.Subject in collection: subject\r\n\r\nIn my opinion, since the document is linked it won&#39;t work as if it will be embedded. If i try to search for ID I have problems anyway (not that when I specity subjectType.id I only have subjectType in the query):\r\n\r\n    2022-12-12 22:05:25.211 DEBUG 5816 --- [io-8080-exec-10] o.s.data.mongodb.core.MongoTemplate      : find using query: { &quot;subject_type&quot; : { &quot;$regularExpression&quot; : { &quot;pattern&quot; : &quot;.*\\\\Q63905c45051ce75d9b060edf\\\\E.*&quot;, &quot;options&quot; : &quot;i&quot;}}} fields: Document{{}} for class: class it.XXXXXXXXX.collections.Subject in collection: subject\r\n\r\nI&#39;m really struggling, is there a way to search a collection for a value of its inner (not embedded) collection? Even the ID would be great.","title":"Querydsl search with MongoDB and DocumentReferenced (inner) collection and web support","body":"<p>In my way to explore Spring Data and MongoDB, I had the request to query a collection with its own fields. Querydsl is the best choice for what I've seen.</p>\n<p>I have theese collections</p>\n<pre><code>@Data\n@Builder\n@Document(collection = &quot;subject&quot;)\n@JsonInclude(JsonInclude.Include.NON_NULL)\npublic class Subject {\n\n    @Id\n    private String id;\n\n    @Field(&quot;full_name&quot;)\n    private String fullName;\n\n    @Field(&quot;subject_yupe&quot;)\n    @DocumentReference(lazy = true)\n    private SubjectType subjectType;\n    \n    // other fields\n}\n\n\n@Data\n@Builder\n@Document(collection = &quot;subjecttype&quot;)\n@JsonInclude(JsonInclude.Include.NON_NULL)\npublic class SubjectType {\n\n    @Id\n    private String id;\n\n    @Indexed(unique = true)\n    @Field(&quot;name&quot;)\n    private String name;\n}\n</code></pre>\n<p>This repository</p>\n<pre><code>@Repository\npublic interface SubjectRepository extends MongoRepository&lt;Subject, String&gt;, QuerydslPredicateExecutor&lt;Subject&gt;, QuerydslBinderCustomizer&lt;QSubject&gt; {\n\n    @Override\n    default void customize(QuerydslBindings bindings, QSubject subject) {\n        bindings.bind(String.class).first((StringPath path, String value) -&gt; path.containsIgnoreCase(value));\n    }\n}\n</code></pre>\n<p>This controller method</p>\n<pre><code>@GetMapping(&quot;/search&quot;)\npublic ResponseEntity&lt;List&lt;SubjectDto&gt;&gt; search(@QuerydslPredicate(root = Subject.class) Predicate predicate) {\n    log.debug(&quot;REST request to search Subject by parameters: {}&quot;, predicate);\n    // call the service that calls the repository and cast the result as List and map it\n    return ResponseEntity.ok(subjectService.findAll(predicate));\n}\n</code></pre>\n<p>When I search by one of the Subject's fields it works without any problem, I also have the correct result, following the log of Mongo query:</p>\n<pre><code>2022-12-12 21:58:31.505 DEBUG 5816 --- [nio-8080-exec-4] o.s.data.mongodb.core.MongoTemplate      : find using query: { &quot;full_name&quot; : { &quot;$regularExpression&quot; : { &quot;pattern&quot; : &quot;.*\\\\Qgius\\\\E.*&quot;, &quot;options&quot; : &quot;i&quot;}}} fields: Document{{}} for class: class it.XXXXXXXXX.collections.Subject in collection: subject\n</code></pre>\n<p>If I try to do the same with a field of SubjectType the query is correct but the result is an empty array</p>\n<pre><code>2022-12-12 22:03:09.590 DEBUG 5816 --- [nio-8080-exec-7] o.s.data.mongodb.core.MongoTemplate      : find using query: { &quot;subject_type.name&quot; : { &quot;$regularExpression&quot; : { &quot;pattern&quot; : &quot;.*\\\\QEntit\\\\E.*&quot;, &quot;options&quot; : &quot;i&quot;}}} fields: Document{{}} for class: class it.XXXXXXXXX.collections.Subject in collection: subject\n</code></pre>\n<p>In my opinion, since the document is linked it won't work as if it will be embedded. If i try to search for ID I have problems anyway (not that when I specity subjectType.id I only have subjectType in the query):</p>\n<pre><code>2022-12-12 22:05:25.211 DEBUG 5816 --- [io-8080-exec-10] o.s.data.mongodb.core.MongoTemplate      : find using query: { &quot;subject_type&quot; : { &quot;$regularExpression&quot; : { &quot;pattern&quot; : &quot;.*\\\\Q63905c45051ce75d9b060edf\\\\E.*&quot;, &quot;options&quot; : &quot;i&quot;}}} fields: Document{{}} for class: class it.XXXXXXXXX.collections.Subject in collection: subject\n</code></pre>\n<p>I'm really struggling, is there a way to search a collection for a value of its inner (not embedded) collection? Even the ID would be great.</p>\n"},{"tags":["java","mongodb","mongodb-query"],"comments":[{"owner":{"account_id":14801365,"reputation":376,"user_id":15322661,"display_name":"Rustam"},"score":0,"creation_date":1671087517,"post_id":74807674,"comment_id":132023125,"body_markdown":"You have to use db driver for query. What java db driver do use for this purpose?","body":"You have to use db driver for query. What java db driver do use for this purpose?"},{"owner":{"account_id":19225980,"reputation":3,"user_id":14048871,"display_name":"n00b_coder"},"score":0,"creation_date":1671089824,"post_id":74807674,"comment_id":132023662,"body_markdown":"i use mongo-java-driver-3.3.0.jar\n\nDBObject explain = coll.find(condition).sort(order).limit(count).explain();\n\nI can use explain for find, but I don&#39;t know how to use explain on update method in java","body":"i use mongo-java-driver-3.3.0.jar  DBObject explain = coll.find(condition).sort(order).limit(count).explain();  I can use explain for find, but I don&#39;t know how to use explain on update method in java"},{"owner":{"account_id":14801365,"reputation":376,"user_id":15322661,"display_name":"Rustam"},"score":0,"creation_date":1671090230,"post_id":74807674,"comment_id":132023750,"body_markdown":"Do you want to call explain on update operation, am I right?","body":"Do you want to call explain on update operation, am I right?"},{"owner":{"account_id":19225980,"reputation":3,"user_id":14048871,"display_name":"n00b_coder"},"score":0,"creation_date":1671090328,"post_id":74807674,"comment_id":132023768,"body_markdown":"yes, you&#39;re right.","body":"yes, you&#39;re right."}],"answers":[{"tags":[],"owner":{"account_id":13141180,"reputation":4284,"user_id":9492730,"display_name":"dododo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671098087,"creation_date":1671098087,"answer_id":74809683,"question_id":74807674,"body_markdown":"As I recall, explain is not supported anymore for most of methods. You can use fully the same RunCommand [method][1] in java as in the shell\r\n\r\n\r\n  [1]: https://www.mongodb.com/docs/drivers/java/sync/current/usage-examples/command/","title":"Using the MongoDB runCommand method in java","body":"<p>As I recall, explain is not supported anymore for most of methods. You can use fully the same RunCommand <a href=\"https://www.mongodb.com/docs/drivers/java/sync/current/usage-examples/command/\" rel=\"nofollow noreferrer\">method</a> in java as in the shell</p>\n"},{"tags":[],"owner":{"account_id":14801365,"reputation":376,"user_id":15322661,"display_name":"Rustam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671098495,"creation_date":1671098495,"answer_id":74809765,"question_id":74807674,"body_markdown":"Let&#39;s say you have `MongoClient`, `MongoDatabase` and  `MongoCollection`:\r\n```\r\nMongoClient client = //here init connection\r\nMongoDatabase db = client.getDatabase(&quot;DbNameHere&quot;);\r\nMongoCollection collection = db.getCollection(&quot;CollectionNameHere&quot;);\r\n```\r\nyou want to execute `db.runCommand(...)`\r\nthis command should be executed on db level (not on collection), it means you have to call smth like this:\r\n\r\n```\r\n...\r\nMongoDatabase db = client.getDatabase(&quot;DbNameHere&quot;);\r\nDocument command = new Document(&quot;explain&quot;,\r\n\t\t\tnew Document(&quot;update&quot;, &quot;info.asset&quot;)\r\n\t\t\t\t.append(&quot;updates&quot;, List.of(\r\n\t\t\t\t\t\tnew Document(&quot;q&quot;, Filters.and(\r\n\t\t\t\t\t\t\tFilters.eq(&quot;version&quot;, 3),\r\n\t\t\t\t\t\t\tFilters.eq(&quot;providerAssetId&quot;, &quot;123&quot;))\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\t.append(&quot;u&quot;, Updates.set(&quot;version&quot;, 9))\r\n\t\t\t\t\t\t.append(&quot;hint&quot;, new Document(&quot;providerAssetId&quot;, 1)\r\n\t\t\t\t\t\t\t.append(&quot;version&quot;, -1)\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t\t\t.append(&quot;verbosity&quot;, &quot;executionStats&quot;)\r\n\t\t);\r\ndb.runCommand(command);\r\n\r\n```","title":"Using the MongoDB runCommand method in java","body":"<p>Let's say you have <code>MongoClient</code>, <code>MongoDatabase</code> and  <code>MongoCollection</code>:</p>\n<pre><code>MongoClient client = //here init connection\nMongoDatabase db = client.getDatabase(&quot;DbNameHere&quot;);\nMongoCollection collection = db.getCollection(&quot;CollectionNameHere&quot;);\n</code></pre>\n<p>you want to execute <code>db.runCommand(...)</code>\nthis command should be executed on db level (not on collection), it means you have to call smth like this:</p>\n<pre><code>...\nMongoDatabase db = client.getDatabase(&quot;DbNameHere&quot;);\nDocument command = new Document(&quot;explain&quot;,\n            new Document(&quot;update&quot;, &quot;info.asset&quot;)\n                .append(&quot;updates&quot;, List.of(\n                        new Document(&quot;q&quot;, Filters.and(\n                            Filters.eq(&quot;version&quot;, 3),\n                            Filters.eq(&quot;providerAssetId&quot;, &quot;123&quot;))\n                        )\n                        .append(&quot;u&quot;, Updates.set(&quot;version&quot;, 9))\n                        .append(&quot;hint&quot;, new Document(&quot;providerAssetId&quot;, 1)\n                            .append(&quot;version&quot;, -1)\n                        )\n                    )\n                )\n                .append(&quot;verbosity&quot;, &quot;executionStats&quot;)\n        );\ndb.runCommand(command);\n\n</code></pre>\n"}],"owner":{"account_id":19225980,"reputation":3,"user_id":14048871,"display_name":"n00b_coder"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":376,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1671098495,"creation_date":1671086495,"question_id":74807674,"body_markdown":"How to use MongoDB runCommand method in java?\r\ni&#39;m using this `db.runCommand( { explain: { update: &quot;info.asset&quot;, updates: [ { q: { &quot;version&quot;: 3,&quot;providerAssetId&quot;:&quot;123&quot; }, u: { $set: { &quot;version&quot;: 9 } }, hint: { providerAssetId: 1, version: -1 } }] }, verbosity: &quot;executionStats&quot; })` in mongoDB console, But I want to use this command in Java, can any one suggest me how to use this in Java?\r\n\r\nI&#39;m using `mongo-java-driver-3.3.0.jar`\r\n\r\nthank you\r\n\r\nexample :     \r\n\r\n    DBObject explain = coll.find(condition).sort(order).limit(count).explain();\r\n\r\nI can use explain for find method, but I don&#39;t know how to use explain on update method in java","title":"Using the MongoDB runCommand method in java","body":"<p>How to use MongoDB runCommand method in java?\ni'm using this <code>db.runCommand( { explain: { update: &quot;info.asset&quot;, updates: [ { q: { &quot;version&quot;: 3,&quot;providerAssetId&quot;:&quot;123&quot; }, u: { $set: { &quot;version&quot;: 9 } }, hint: { providerAssetId: 1, version: -1 } }] }, verbosity: &quot;executionStats&quot; })</code> in mongoDB console, But I want to use this command in Java, can any one suggest me how to use this in Java?</p>\n<p>I'm using <code>mongo-java-driver-3.3.0.jar</code></p>\n<p>thank you</p>\n<p>example :</p>\n<pre><code>DBObject explain = coll.find(condition).sort(order).limit(count).explain();\n</code></pre>\n<p>I can use explain for find method, but I don't know how to use explain on update method in java</p>\n"},{"tags":["java","macos","homebrew","apple-m1"],"answers":[{"tags":[],"owner":{"account_id":14801365,"reputation":376,"user_id":15322661,"display_name":"Rustam"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671088035,"creation_date":1671087318,"answer_id":74807785,"question_id":74807654,"body_markdown":"to uninstall package you can use one of the commands:\r\n`brew uninstall packageName`\r\nin your case:\r\n\r\n`brew uninstall java`\r\n\r\nThe remove Homebrew package command looks like this:\r\n`brew remove packageName`\r\nin your case:\r\n\r\n`brew remove java`\r\n\r\nTo install java 17, it is necessary to add version:\r\n`brew install openjdk@17`\r\n\r\nHere is brew documentation how to do it:\r\n[Homebrew doc][1]\r\nAnd also there is answer how to install Java 17 :\r\nhttps://stackoverflow.com/questions/69875335/macos-how-to-install-java-17\r\n\r\n\r\n  [1]: https://formulae.brew.sh/formula/openjdk","title":"Java19 to java 17 lts in mac M1 using brew","body":"<p>to uninstall package you can use one of the commands:\n<code>brew uninstall packageName</code>\nin your case:</p>\n<p><code>brew uninstall java</code></p>\n<p>The remove Homebrew package command looks like this:\n<code>brew remove packageName</code>\nin your case:</p>\n<p><code>brew remove java</code></p>\n<p>To install java 17, it is necessary to add version:\n<code>brew install openjdk@17</code></p>\n<p>Here is brew documentation how to do it:\n<a href=\"https://formulae.brew.sh/formula/openjdk\" rel=\"nofollow noreferrer\">Homebrew doc</a>\nAnd also there is answer how to install Java 17 :\n<a href=\"https://stackoverflow.com/questions/69875335/macos-how-to-install-java-17\">macOS - How to install Java 17</a></p>\n"},{"tags":[],"owner":{"account_id":27149349,"reputation":116,"user_id":20689058,"display_name":"tisho"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671098423,"creation_date":1671098423,"answer_id":74809750,"question_id":74807654,"body_markdown":"what Rustam suggested you is the right thing. I wanted to add that you can use jenv for having more than one java installed and easy switching of the java versions instead of removing it. You can setup global or local (folder specific) java version.\r\nYou can find more information here https://www.jenv.be/\r\nBasically \r\n\r\n    brew install jenv\r\n    echo &#39;export PATH=&quot;$HOME/.jenv/bin:$PATH&quot;&#39; &gt;&gt; ~/.zshrc\r\n    echo &#39;eval &quot;$(jenv init -)&quot;&#39; &gt;&gt; ~/.zshrc\r\n\r\nList the versions you have\r\n\r\n    jenv versions\r\n      system\r\n      1.8\r\n      17.0\r\n    * 11.0\r\n      11.0.11\r\n      openjdk64-1.8.0.292\r\n      openjdk64-17.0.11\r\n\r\n\r\nAfter that you can choose one from the installed using this command\r\n\r\n    jenv global openjdk64-17.0.11\r\n\r\n","title":"Java19 to java 17 lts in mac M1 using brew","body":"<p>what Rustam suggested you is the right thing. I wanted to add that you can use jenv for having more than one java installed and easy switching of the java versions instead of removing it. You can setup global or local (folder specific) java version.\nYou can find more information here <a href=\"https://www.jenv.be/\" rel=\"nofollow noreferrer\">https://www.jenv.be/</a>\nBasically</p>\n<pre><code>brew install jenv\necho 'export PATH=&quot;$HOME/.jenv/bin:$PATH&quot;' &gt;&gt; ~/.zshrc\necho 'eval &quot;$(jenv init -)&quot;' &gt;&gt; ~/.zshrc\n</code></pre>\n<p>List the versions you have</p>\n<pre><code>jenv versions\n  system\n  1.8\n  17.0\n* 11.0\n  11.0.11\n  openjdk64-1.8.0.292\n  openjdk64-17.0.11\n</code></pre>\n<p>After that you can choose one from the installed using this command</p>\n<pre><code>jenv global openjdk64-17.0.11\n</code></pre>\n"}],"owner":{"account_id":18437967,"reputation":685,"user_id":13431295,"display_name":"Shaheem PP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2653,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74807785,"answer_count":2,"score":-1,"last_activity_date":1671098423,"creation_date":1671086313,"question_id":74807654,"body_markdown":"I installed openjdk19 by `brew install java`\r\n\r\nI want to uninstall this version and reinstall openjdk 17 lts version\r\n\r\nhow to do that?","title":"Java19 to java 17 lts in mac M1 using brew","body":"<p>I installed openjdk19 by <code>brew install java</code></p>\n<p>I want to uninstall this version and reinstall openjdk 17 lts version</p>\n<p>how to do that?</p>\n"},{"tags":["java","android-number-picker"],"owner":{"account_id":7292433,"reputation":111,"user_id":5558413,"accept_rate":0,"display_name":"Wave"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671098239,"creation_date":1671097334,"question_id":74809528,"body_markdown":"I am fairly new to Java and android development. \r\nI am currently coding a number picker to get user to choose a value as follows; \r\n\r\n    public class ValPicker extends AppCompatActivity {\r\n\r\n    public Activity activity;\r\n\r\n    public ValPicker(Activity _activity) {\r\n        this.activity = _activity;\r\n    }\r\n\r\n    public static String[] root = {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;};\r\n\r\n    public int rootPicker() {\r\n        NumberPicker root_picker = (NumberPicker) this.activity.findViewById(R.id.root_picker);\r\n        root_picker.setMinValue(0);\r\n        root_picker.setMaxValue(root.length - 1);\r\n        root_picker.setDisplayedValues(root);\r\n        //String chosenRoot = root[root_picker.getValue()];\r\n\r\n        root_picker.setOnValueChangedListener(new NumberPicker.OnValueChangeListener() {\r\n            @Override\r\n            public void onValueChange(NumberPicker numberPicker, int i, int i1) {\r\n                int chosenRoot = root_picker.getValue();\r\n            }\r\n        });\r\n    }\r\n\r\n\r\nThis number picker is in main/java/com.xxx.xxx/utils and is planned to be used by a few activities. I would like to make setOnValueChangedListener available for ither activities to get a value from the picker. \r\n\r\nIf you know how, please comment. \r\nThank you so much for your help in advance! ","title":"Sharing setOnValueChangedListener of a NmmberPicker to other classes","body":"<p>I am fairly new to Java and android development.\nI am currently coding a number picker to get user to choose a value as follows;</p>\n<pre><code>public class ValPicker extends AppCompatActivity {\n\npublic Activity activity;\n\npublic ValPicker(Activity _activity) {\n    this.activity = _activity;\n}\n\npublic static String[] root = {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;};\n\npublic int rootPicker() {\n    NumberPicker root_picker = (NumberPicker) this.activity.findViewById(R.id.root_picker);\n    root_picker.setMinValue(0);\n    root_picker.setMaxValue(root.length - 1);\n    root_picker.setDisplayedValues(root);\n    //String chosenRoot = root[root_picker.getValue()];\n\n    root_picker.setOnValueChangedListener(new NumberPicker.OnValueChangeListener() {\n        @Override\n        public void onValueChange(NumberPicker numberPicker, int i, int i1) {\n            int chosenRoot = root_picker.getValue();\n        }\n    });\n}\n</code></pre>\n<p>This number picker is in main/java/com.xxx.xxx/utils and is planned to be used by a few activities. I would like to make setOnValueChangedListener available for ither activities to get a value from the picker.</p>\n<p>If you know how, please comment.\nThank you so much for your help in advance!</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":954558,"reputation":11903,"user_id":980097,"accept_rate":87,"display_name":"Popeye"},"score":0,"creation_date":1671098350,"post_id":74809687,"comment_id":132026224,"body_markdown":"And what happens when you run your Java Code, FYI it will not run.\n\nTake a look at the jackson library https://www.baeldung.com/jackson","body":"And what happens when you run your Java Code, FYI it will not run.  Take a look at the jackson library <a href=\"https://www.baeldung.com/jackson\" rel=\"nofollow noreferrer\">baeldung.com/jackson</a>"}],"owner":{"account_id":22839416,"reputation":77,"user_id":16986695,"display_name":"Harish Mahi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671098108,"creation_date":1671098108,"question_id":74809687,"body_markdown":"I have a **list of objects** containing **Name**, **DayName**, and **count** I have 5 different names data in a day and can be repeated in other days, and this way I have last week&#39;s data. means each day I have 5 records and for one week I have 7X5 = 35.\r\n\r\nnow I want to create a **JSON string** using a List of Objects and need to group per day data in one JSON array but I am not understanding the JSON part.\r\n\r\n    Sample1,50,Monday\r\n    Sample2,40,Monday\r\n    Sample3,30,Monday\r\n    Sample4,20,Monday\r\n    Sample5,10,Monday\r\n    \r\n    Sample5,55,Tuesday\r\n    Sample3,45,Tuesday\r\n    Sample4,35,Tuesday\r\n    Sample1,25,Tuesday\r\n    Sample2,15,Tuesday so on..\r\n\r\nI want a JSON string like this\r\n\r\n    [\r\n    {&quot;Day&quot;:&quot;Monday&quot;,&quot;Sample1&quot;:50,&quot;Sample2&quot;:40,&quot;Sample3&quot;:30,&quot;Sample4&quot;:20,&quot;Sample5&quot;:10},\r\n    {&quot;Day&quot;:&quot;Tuesday&quot;,&quot;Sample5&quot;:55,&quot;Sample3&quot;:45,&quot;Sample4&quot;:35,&quot;Sample1&quot;:25,&quot;Sample2&quot;:15},\r\n    ]\r\n\r\njava code:\r\n\r\n    Class1{\r\n            public  void Class1(String name,String day,int cnt){\r\n                   this.name=name;\r\n                   this.day=day;\r\n                   this.count = cnt;\r\n           }\r\n    }\r\n\r\n    class2{\r\n        ArrayList&lt;Class1&gt; list = new ArrayList&lt;Class1&gt;();\r\n        list.add(new Class1(&quot;Sample1&quot;,&quot;Monday&quot;,50));\r\n        list.add(new Class1(&quot;Sample2&quot;,&quot;Monday&quot;,40));\r\n        list.add(new Class1(&quot;Sample3&quot;,&quot;Monday&quot;,30));\r\n        list.add(new Class1(&quot;Sample4&quot;,&quot;Monday&quot;,20));\r\n        list.add(new Class1(&quot;Sample5&quot;,&quot;Monday&quot;,10));\r\n        //like other days\r\n    }\r\n\r\nnow using the list how to get json string like this\r\n\r\n    [\r\n    {&quot;Day&quot;:&quot;Monday&quot;,&quot;Sample1&quot;:50,&quot;Sample2&quot;:40,&quot;Sample3&quot;:30,&quot;Sample4&quot;:20,&quot;Sample5&quot;:10},\r\n    {&quot;Day&quot;:&quot;Tuesday&quot;,&quot;Sample5&quot;:55,&quot;Sample3&quot;:45,&quot;Sample4&quot;:35,&quot;Sample1&quot;:25,&quot;Sample2&quot;:15},\r\n    ]\r\n\r\nplease help me \r\n\r\nthanks","title":"how to create json string using a list of objects and need to group day wise","body":"<p>I have a <strong>list of objects</strong> containing <strong>Name</strong>, <strong>DayName</strong>, and <strong>count</strong> I have 5 different names data in a day and can be repeated in other days, and this way I have last week's data. means each day I have 5 records and for one week I have 7X5 = 35.</p>\n<p>now I want to create a <strong>JSON string</strong> using a List of Objects and need to group per day data in one JSON array but I am not understanding the JSON part.</p>\n<pre><code>Sample1,50,Monday\nSample2,40,Monday\nSample3,30,Monday\nSample4,20,Monday\nSample5,10,Monday\n\nSample5,55,Tuesday\nSample3,45,Tuesday\nSample4,35,Tuesday\nSample1,25,Tuesday\nSample2,15,Tuesday so on..\n</code></pre>\n<p>I want a JSON string like this</p>\n<pre><code>[\n{&quot;Day&quot;:&quot;Monday&quot;,&quot;Sample1&quot;:50,&quot;Sample2&quot;:40,&quot;Sample3&quot;:30,&quot;Sample4&quot;:20,&quot;Sample5&quot;:10},\n{&quot;Day&quot;:&quot;Tuesday&quot;,&quot;Sample5&quot;:55,&quot;Sample3&quot;:45,&quot;Sample4&quot;:35,&quot;Sample1&quot;:25,&quot;Sample2&quot;:15},\n]\n</code></pre>\n<p>java code:</p>\n<pre><code>Class1{\n        public  void Class1(String name,String day,int cnt){\n               this.name=name;\n               this.day=day;\n               this.count = cnt;\n       }\n}\n\nclass2{\n    ArrayList&lt;Class1&gt; list = new ArrayList&lt;Class1&gt;();\n    list.add(new Class1(&quot;Sample1&quot;,&quot;Monday&quot;,50));\n    list.add(new Class1(&quot;Sample2&quot;,&quot;Monday&quot;,40));\n    list.add(new Class1(&quot;Sample3&quot;,&quot;Monday&quot;,30));\n    list.add(new Class1(&quot;Sample4&quot;,&quot;Monday&quot;,20));\n    list.add(new Class1(&quot;Sample5&quot;,&quot;Monday&quot;,10));\n    //like other days\n}\n</code></pre>\n<p>now using the list how to get json string like this</p>\n<pre><code>[\n{&quot;Day&quot;:&quot;Monday&quot;,&quot;Sample1&quot;:50,&quot;Sample2&quot;:40,&quot;Sample3&quot;:30,&quot;Sample4&quot;:20,&quot;Sample5&quot;:10},\n{&quot;Day&quot;:&quot;Tuesday&quot;,&quot;Sample5&quot;:55,&quot;Sample3&quot;:45,&quot;Sample4&quot;:35,&quot;Sample1&quot;:25,&quot;Sample2&quot;:15},\n]\n</code></pre>\n<p>please help me</p>\n<p>thanks</p>\n"},{"tags":["java","http-redirect","java-http-client"],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1622609086,"creation_date":1614041916,"answer_id":66325588,"question_id":66325516,"body_markdown":"# Problem\r\n\r\nYou&#39;re using [`HttpClient#newHttpClient()`][1]. The documentation of that method states:\r\n\r\n&gt;Returns a new `HttpClient` with default settings.\r\n&gt;\r\n&gt;Equivalent to `newBuilder().build()`.\r\n&gt;\r\n&gt;The default settings include: the &quot;GET&quot; request method, a preference of HTTP/2, **a redirection policy of `NEVER`** _[emphasis added]_, the default proxy selector, and the default SSL context.\r\n\r\nAs emphasized, you are creating an `HttpClient` with a redirection policy of `NEVER`.\r\n\r\n---\r\n\r\n# Solution\r\n\r\nThere are at least two solutions to your problem.\r\n\r\n## Automatically Follow Redirects\r\n\r\nIf you want to _automatically_ follow redirects then you need to use [`HttpClient#newBuilder()`][2] (instead of `#newHttpClient()`) which allows you to configure the to-be-built client. Specifically, you need to call [`HttpClient.Builder#followRedirects(HttpClient.Redirect)`][3] with an appropriate redirect policy before building the client. For example:\r\n\r\n```java\r\nHttpClient client = \r\n    HttpClient.newBuilder()\r\n        .followRedirects(HttpClient.Redirect.NORMAL) // follow redirects\r\n        .build();\r\n```\r\n\r\nThe different redirect policies are specified by the [`HttpClient.Redirect`][4] enum:\r\n\r\n&gt;Defines the automatic redirection policy.\r\n&gt;\r\n&gt;The automatic redirection policy is checked whenever a `3XX` response code is received. If redirection does not happen automatically, then the response, containing the `3XX` response code, is returned, where it can be handled manually.\r\n\r\nThere are three constants: `ALWAYS`, `NEVER`, and `NORMAL`. The meaning of the first two is obvious from their names. The last one, `NORMAL`, behaves just like `ALWAYS` except it won&#39;t redirect from `https` URLs to `http` URLs.\r\n\r\n## Manually Follow Redirects\r\n\r\nAs noted in the documentation of `HttpClient.Redirect` you could instead manually follow a redirect. I&#39;m not well versed in HTTP and how to properly handle all responses so I won&#39;t give an example here. But I believe, at a minimum, this requires you:\r\n\r\n1. Check the status code of the response.\r\n2. If the code indicates a redirect, grab the new URI from the [response headers][5].\r\n3. If the new URI is relative then resolve it against the request URI.\r\n4. Send a new request.\r\n5. Repeat 1-4 as needed.\r\n\r\nObviously configuring the `HttpClient` to automatically follow redirects is much easier (and less error-prone), but this approach would give you more control.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/16/docs/api/java.net.http/java/net/http/HttpClient.html#newHttpClient()\r\n  [2]: https://docs.oracle.com/en/java/javase/16/docs/api/java.net.http/java/net/http/HttpClient.html#newBuilder()\r\n  [3]: https://docs.oracle.com/en/java/javase/16/docs/api/java.net.http/java/net/http/HttpClient.Builder.html#followRedirects(java.net.http.HttpClient.Redirect)\r\n  [4]: https://docs.oracle.com/en/java/javase/16/docs/api/java.net.http/java/net/http/HttpClient.Redirect.html\r\n  [5]: https://docs.oracle.com/en/java/javase/16/docs/api/java.net.http/java/net/http/HttpResponse.html#headers()","title":"How to follow-through on HTTP 303 status code when using HttpClient in Java 11 and later?","body":"<h1>Problem</h1>\n<p>You're using <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.net.http/java/net/http/HttpClient.html#newHttpClient()\" rel=\"noreferrer\"><code>HttpClient#newHttpClient()</code></a>. The documentation of that method states:</p>\n<blockquote>\n<p>Returns a new <code>HttpClient</code> with default settings.</p>\n<p>Equivalent to <code>newBuilder().build()</code>.</p>\n<p>The default settings include: the &quot;GET&quot; request method, a preference of HTTP/2, <strong>a redirection policy of <code>NEVER</code></strong> <em>[emphasis added]</em>, the default proxy selector, and the default SSL context.</p>\n</blockquote>\n<p>As emphasized, you are creating an <code>HttpClient</code> with a redirection policy of <code>NEVER</code>.</p>\n<hr />\n<h1>Solution</h1>\n<p>There are at least two solutions to your problem.</p>\n<h2>Automatically Follow Redirects</h2>\n<p>If you want to <em>automatically</em> follow redirects then you need to use <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.net.http/java/net/http/HttpClient.html#newBuilder()\" rel=\"noreferrer\"><code>HttpClient#newBuilder()</code></a> (instead of <code>#newHttpClient()</code>) which allows you to configure the to-be-built client. Specifically, you need to call <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.net.http/java/net/http/HttpClient.Builder.html#followRedirects(java.net.http.HttpClient.Redirect)\" rel=\"noreferrer\"><code>HttpClient.Builder#followRedirects(HttpClient.Redirect)</code></a> with an appropriate redirect policy before building the client. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>HttpClient client = \n    HttpClient.newBuilder()\n        .followRedirects(HttpClient.Redirect.NORMAL) // follow redirects\n        .build();\n</code></pre>\n<p>The different redirect policies are specified by the <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.net.http/java/net/http/HttpClient.Redirect.html\" rel=\"noreferrer\"><code>HttpClient.Redirect</code></a> enum:</p>\n<blockquote>\n<p>Defines the automatic redirection policy.</p>\n<p>The automatic redirection policy is checked whenever a <code>3XX</code> response code is received. If redirection does not happen automatically, then the response, containing the <code>3XX</code> response code, is returned, where it can be handled manually.</p>\n</blockquote>\n<p>There are three constants: <code>ALWAYS</code>, <code>NEVER</code>, and <code>NORMAL</code>. The meaning of the first two is obvious from their names. The last one, <code>NORMAL</code>, behaves just like <code>ALWAYS</code> except it won't redirect from <code>https</code> URLs to <code>http</code> URLs.</p>\n<h2>Manually Follow Redirects</h2>\n<p>As noted in the documentation of <code>HttpClient.Redirect</code> you could instead manually follow a redirect. I'm not well versed in HTTP and how to properly handle all responses so I won't give an example here. But I believe, at a minimum, this requires you:</p>\n<ol>\n<li>Check the status code of the response.</li>\n<li>If the code indicates a redirect, grab the new URI from the <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.net.http/java/net/http/HttpResponse.html#headers()\" rel=\"noreferrer\">response headers</a>.</li>\n<li>If the new URI is relative then resolve it against the request URI.</li>\n<li>Send a new request.</li>\n<li>Repeat 1-4 as needed.</li>\n</ol>\n<p>Obviously configuring the <code>HttpClient</code> to automatically follow redirects is much easier (and less error-prone), but this approach would give you more control.</p>\n"},{"tags":[],"owner":{"account_id":16954875,"reputation":1,"user_id":12263538,"display_name":"Hrutik Gurav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671098105,"creation_date":1670780839,"answer_id":74763136,"question_id":66325516,"body_markdown":"Please find below code where i was calling another api from my REST APi in java.\r\n\r\nTo note I am using java version **17**. This will solve error code **303**. \r\n\r\n        @GetMapping(value = &quot;url/api/url&quot;)\r\n    \tprivate String methodName() throws IOException, InterruptedException {\r\n\t\t\r\n\t\tvar url = &quot;api/url/&quot;; // remote api url which you want to call\r\n\t\tSystem.out.println(url);\r\n\t\tvar request = HttpRequest.newBuilder().GET().uri(URI.create(url)).setHeader(&quot;access-token-key&quot;, &quot;accessTokenValue&quot;).build();\r\n\t\t\r\n\t\tSystem.out.println(request);\r\n\t\tvar client = HttpClient.newBuilder().followRedirects(HttpClient.Redirect.NORMAL).build();\r\n\t\tSystem.out.println(client);\r\n\r\n\t\tvar response = client.send(request, HttpResponse.BodyHandlers.ofString());\r\n\t\tSystem.out.println(response);\r\n\r\n\t\tSystem.out.println(response.body());\r\n\t\treturn  response.body();\r\n\t}","title":"How to follow-through on HTTP 303 status code when using HttpClient in Java 11 and later?","body":"<p>Please find below code where i was calling another api from my REST APi in java.</p>\n<p>To note I am using java version <strong>17</strong>. This will solve error code <strong>303</strong>.</p>\n<pre><code>    @GetMapping(value = &quot;url/api/url&quot;)\n    private String methodName() throws IOException, InterruptedException {\n    \n    var url = &quot;api/url/&quot;; // remote api url which you want to call\n    System.out.println(url);\n    var request = HttpRequest.newBuilder().GET().uri(URI.create(url)).setHeader(&quot;access-token-key&quot;, &quot;accessTokenValue&quot;).build();\n    \n    System.out.println(request);\n    var client = HttpClient.newBuilder().followRedirects(HttpClient.Redirect.NORMAL).build();\n    System.out.println(client);\n\n    var response = client.send(request, HttpResponse.BodyHandlers.ofString());\n    System.out.println(response);\n\n    System.out.println(response.body());\n    return  response.body();\n}\n</code></pre>\n"}],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3356,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":66325588,"answer_count":2,"score":5,"last_activity_date":1671098105,"creation_date":1614041318,"question_id":66325516,"body_markdown":"When using the [`java.net.http.HttpClient`][1] classes in Java 11 and later, how does one tell the client to follow through an [HTTP 303][2] to get to the redirected page?\r\n\r\nHere is an example. [Wikipedia provides a REST URL][3] for getting the summary of a random page of their content. That URL redirects to the URL of the randomly-chosen page. When running this code, I see the `303` when calling `HttpResponse#toString`. But I do not know how to tell the client class to follow along to the new URL.\r\n\r\n```java\r\nHttpClient client = HttpClient.newHttpClient();\r\nHttpRequest request =\r\n        HttpRequest\r\n                .newBuilder()\r\n                .uri( URI.create( &quot;https://en.wikipedia.org/api/rest_v1/page/random/summary&quot; ) )\r\n                .build();\r\ntry\r\n{\r\n    HttpResponse &lt; String &gt; response = client.send( request , HttpResponse.BodyHandlers.ofString() );\r\n    System.out.println( &quot;response = &quot; + response );   // ⬅️ We can see the `303` status code.\r\n    String body = response.body();\r\n    System.out.println( &quot;body = &quot; + body );\r\n}\r\ncatch ( IOException e )\r\n{\r\n    e.printStackTrace();\r\n}\r\ncatch ( InterruptedException e )\r\n{\r\n    e.printStackTrace();\r\n}\r\n```\r\n\r\nWhen run:\r\n\r\n&gt;response = (GET https://en.wikipedia.org/api/rest_v1/page/random/summary) 303\r\n&gt;\r\n&gt;body = \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/HttpClient.html\r\n  [2]: https://en.wikipedia.org/wiki/HTTP_303\r\n  [3]: https://en.wikipedia.org/api/rest_v1/#/Page%20content/get_page_random__format_","title":"How to follow-through on HTTP 303 status code when using HttpClient in Java 11 and later?","body":"<p>When using the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/HttpClient.html\" rel=\"noreferrer\"><code>java.net.http.HttpClient</code></a> classes in Java 11 and later, how does one tell the client to follow through an <a href=\"https://en.wikipedia.org/wiki/HTTP_303\" rel=\"noreferrer\">HTTP 303</a> to get to the redirected page?</p>\n<p>Here is an example. <a href=\"https://en.wikipedia.org/api/rest_v1/#/Page%20content/get_page_random__format_\" rel=\"noreferrer\">Wikipedia provides a REST URL</a> for getting the summary of a random page of their content. That URL redirects to the URL of the randomly-chosen page. When running this code, I see the <code>303</code> when calling <code>HttpResponse#toString</code>. But I do not know how to tell the client class to follow along to the new URL.</p>\n<pre class=\"lang-java prettyprint-override\"><code>HttpClient client = HttpClient.newHttpClient();\nHttpRequest request =\n        HttpRequest\n                .newBuilder()\n                .uri( URI.create( &quot;https://en.wikipedia.org/api/rest_v1/page/random/summary&quot; ) )\n                .build();\ntry\n{\n    HttpResponse &lt; String &gt; response = client.send( request , HttpResponse.BodyHandlers.ofString() );\n    System.out.println( &quot;response = &quot; + response );   // ⬅️ We can see the `303` status code.\n    String body = response.body();\n    System.out.println( &quot;body = &quot; + body );\n}\ncatch ( IOException e )\n{\n    e.printStackTrace();\n}\ncatch ( InterruptedException e )\n{\n    e.printStackTrace();\n}\n</code></pre>\n<p>When run:</p>\n<blockquote>\n<p>response = (GET <a href=\"https://en.wikipedia.org/api/rest_v1/page/random/summary\" rel=\"noreferrer\">https://en.wikipedia.org/api/rest_v1/page/random/summary</a>) 303</p>\n<p>body =</p>\n</blockquote>\n"},{"tags":["java","recursion","binary-tree"],"answers":[{"tags":[],"owner":{"account_id":18126082,"reputation":51,"user_id":13181607,"display_name":"icolak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671098080,"creation_date":1611490620,"answer_id":65870421,"question_id":65870313,"body_markdown":"This may help you. I had used this method to print nodes but you can change it.\r\n\r\n    public void printGivenLevel(TNode root, int level) {\r\n        if (root == null)\r\n            return;\r\n        if (level == 1 &amp;&amp; root.getValue() != null) {\r\n       //  here,  add  root.getValue() to list\r\n        } else if (level &gt; 1) {\r\n            printGivenLevel(root.getLeft(), level - 1);\r\n            printGivenLevel(root.getRight(), level - 1);\r\n        }\r\n    }\r\n\r\n","title":"Get all nodes of a specific level of a Binary Tree","body":"<p>This may help you. I had used this method to print nodes but you can change it.</p>\n<pre><code>public void printGivenLevel(TNode root, int level) {\n    if (root == null)\n        return;\n    if (level == 1 &amp;&amp; root.getValue() != null) {\n   //  here,  add  root.getValue() to list\n    } else if (level &gt; 1) {\n        printGivenLevel(root.getLeft(), level - 1);\n        printGivenLevel(root.getRight(), level - 1);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1611530458,"creation_date":1611493579,"answer_id":65870883,"question_id":65870313,"body_markdown":"It is possible to implement this as a pure functional algorithm by concatenating the lists returned by recursive calls.  Unfortunately, that is rather inefficient in Java because all retrieved values are copied by list creation or concatenation once at each recursion level.\r\n\r\nIf you are willing to use mutation, here is a solution that avoids the copying (assuming that `this` is a `Node&lt;T&gt;`):\r\n\r\n    private void getNodesOnLevel(int level, List&lt;T&gt; list) {\r\n        if (node == null) return;\r\n        if (level == 0) {\r\n            list.add(this.val);\r\n        } else {\r\n            this.left.getNodesOnLevel(level - 1, list);\r\n            this.right.getNodesOnLevel(level - 1, list);\r\n        }\r\n    }\r\n\r\nThe above method needs to be called with an empty (mutable) list as the 2nd argument, so we need another method:\r\n\r\n    public List&lt;T&gt; getNodesOnLevel(int level) {\r\n        List&lt;T&gt; list = new ArrayList&lt;&gt;();\r\n        this.getNodesOnLevel(level, list);\r\n        return list;\r\n    }\r\n\r\n(In complexity terms, the pure functional solution is `O(LN)` where `L` is the level and `N` is the number of nodes at that level.  My solution is `O(N)`.  Each value in the list will be copied twice on average, due to the way that `ArrayList.append` implements list resizing.  The resizing *could* be avoided by creating the list with a capacity of 2&lt;sup&gt;`level`.)\r\n   ","title":"Get all nodes of a specific level of a Binary Tree","body":"<p>It is possible to implement this as a pure functional algorithm by concatenating the lists returned by recursive calls.  Unfortunately, that is rather inefficient in Java because all retrieved values are copied by list creation or concatenation once at each recursion level.</p>\n<p>If you are willing to use mutation, here is a solution that avoids the copying (assuming that <code>this</code> is a <code>Node&lt;T&gt;</code>):</p>\n<pre><code>private void getNodesOnLevel(int level, List&lt;T&gt; list) {\n    if (node == null) return;\n    if (level == 0) {\n        list.add(this.val);\n    } else {\n        this.left.getNodesOnLevel(level - 1, list);\n        this.right.getNodesOnLevel(level - 1, list);\n    }\n}\n</code></pre>\n<p>The above method needs to be called with an empty (mutable) list as the 2nd argument, so we need another method:</p>\n<pre><code>public List&lt;T&gt; getNodesOnLevel(int level) {\n    List&lt;T&gt; list = new ArrayList&lt;&gt;();\n    this.getNodesOnLevel(level, list);\n    return list;\n}\n</code></pre>\n<p>(In complexity terms, the pure functional solution is <code>O(LN)</code> where <code>L</code> is the level and <code>N</code> is the number of nodes at that level.  My solution is <code>O(N)</code>.  Each value in the list will be copied twice on average, due to the way that <code>ArrayList.append</code> implements list resizing.  The resizing <em>could</em> be avoided by creating the list with a capacity of 2<code>level</code>.)</p>\n"}],"owner":{"account_id":20533973,"reputation":43,"user_id":15070528,"display_name":"knowledge_seeker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2012,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":65870883,"answer_count":2,"score":4,"last_activity_date":1671098080,"creation_date":1611489866,"question_id":65870313,"body_markdown":"I have a **BinaryTree** and I want to get all nodes of a specific level. Order does not matter. I want to try to do this with *recursion* . My method looks like this:\r\n\r\n    public List&lt;T&gt; getNodesOnLevel(int i){\r\n        int recursionTool = i\r\n        //to do\r\n        recursionTool-=1\r\n        }\r\nI tried to while(recursionTool != 0){ method.... and then recursionTool -1}\r\nBut I ended up getting all nodes **until** the wanted level.\r\nMy Node looks like this: \r\n\r\n    class Node&lt;T&gt;{\r\n        T val;\r\n        Node&lt;T&gt; left;\r\n        Node&lt;T&gt; right;\r\n        Node(T v){\r\n            val = v;\r\n            left = null;\r\n            right = null;\r\n        }","title":"Get all nodes of a specific level of a Binary Tree","body":"<p>I have a <strong>BinaryTree</strong> and I want to get all nodes of a specific level. Order does not matter. I want to try to do this with <em>recursion</em> . My method looks like this:</p>\n<pre><code>public List&lt;T&gt; getNodesOnLevel(int i){\n    int recursionTool = i\n    //to do\n    recursionTool-=1\n    }\n</code></pre>\n<p>I tried to while(recursionTool != 0){ method.... and then recursionTool -1}\nBut I ended up getting all nodes <strong>until</strong> the wanted level.\nMy Node looks like this:</p>\n<pre><code>class Node&lt;T&gt;{\n    T val;\n    Node&lt;T&gt; left;\n    Node&lt;T&gt; right;\n    Node(T v){\n        val = v;\n        left = null;\n        right = null;\n    }\n</code></pre>\n"},{"tags":["java","html","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":4728451,"reputation":451,"user_id":3824715,"accept_rate":62,"display_name":"ch1ll"},"score":0,"creation_date":1676981119,"post_id":74809400,"comment_id":133242486,"body_markdown":"Did you find any solution? I&#39;m having a very similar problem.","body":"Did you find any solution? I&#39;m having a very similar problem."}],"owner":{"account_id":21944730,"reputation":29,"user_id":16224757,"display_name":"Nghihoang"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671098073,"creation_date":1671096668,"question_id":74809400,"body_markdown":"I&#39;ve used attritubte Decorate in Thymeleaf-Layout-Dialect to create file index2.html,the program runs normally, but it&#39;s not success to Decorate file index2.html.\r\nHere is my code\r\nFile &quot;**Build.graddle**&quot;\r\n`\r\n```\r\nplugins {\r\n\tid &#39;java&#39;\r\n\tid &#39;org.springframework.boot&#39; version &#39;2.7.6&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.0.15.RELEASE&#39;\r\n}\r\n\r\ngroup = &#39;com.example&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;11&#39;\r\n\r\nconfigurations {\r\n\tcompileOnly {\r\n\t\textendsFrom annotationProcessor\r\n\t}\r\n}\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-thymeleaf&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\timplementation &#39;nz.net.ultraq.thymeleaf:thymeleaf-layout-dialect:3.0.0&#39;\r\n&#39;\r\n\r\n\tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n\tdevelopmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n\truntimeOnly &#39;com.mysql:mysql-connector-j&#39;\r\n\tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n\tuseJUnitPlatform()\r\n}\r\n\r\n```\r\n`\r\n\r\nFile **_layout.html**\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html xmlns:layout=&quot;http://www.ultraq.net.nz/thymeleaf/layout&quot;&gt;\r\n    &lt;head&gt;\r\n      &lt;title&gt;Layout page&lt;/title&gt;\r\n      &lt;script src=&quot;common-script.js&quot;&gt;&lt;/script&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n      &lt;header&gt;\r\n        &lt;h1&gt;My website&lt;/h1&gt;\r\n      &lt;/header&gt;\r\n      &lt;section layout:fragment=&quot;content&quot;&gt;\r\n        &lt;p&gt;Page content goes here&lt;/p&gt;\r\n      &lt;/section&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n\r\nFile **index2.html**\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html xmlns:layout=&quot;http://www.ultraq.net.nz/thymeleaf/layout&quot;\r\n      layout:decorate=&quot;~{_layout.html}&quot;&gt;\r\n    &lt;head&gt;\r\n      &lt;title&gt;Content page&lt;/title&gt;\r\n      &lt;script src=&quot;content-script.js&quot;&gt;&lt;/script&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n      &lt;section layout:fragment=&quot;content&quot;&gt;\r\n        &lt;p&gt;This is a paragraph from the content page&lt;/p&gt;\r\n      &lt;/section&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n\r\n\r\n\r\nWhat should I do to solve this problem ? Thanks a lot","title":"Thymeleaf-Layout-Dialect didn&#39;t decorate","body":"<p>I've used attritubte Decorate in Thymeleaf-Layout-Dialect to create file index2.html,the program runs normally, but it's not success to Decorate file index2.html.\nHere is my code\nFile &quot;<strong>Build.graddle</strong>&quot;\n`</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '2.7.6'\n    id 'io.spring.dependency-management' version '1.0.15.RELEASE'\n}\n\ngroup = 'com.example'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '11'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-thymeleaf'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'nz.net.ultraq.thymeleaf:thymeleaf-layout-dialect:3.0.0'\n'\n\n    compileOnly 'org.projectlombok:lombok'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n    runtimeOnly 'com.mysql:mysql-connector-j'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n\n</code></pre>\n<p>`</p>\n<p>File <strong>_layout.html</strong></p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns:layout=&quot;http://www.ultraq.net.nz/thymeleaf/layout&quot;&gt;\n&lt;head&gt;\n  &lt;title&gt;Layout page&lt;/title&gt;\n  &lt;script src=&quot;common-script.js&quot;&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;header&gt;\n    &lt;h1&gt;My website&lt;/h1&gt;\n  &lt;/header&gt;\n  &lt;section layout:fragment=&quot;content&quot;&gt;\n    &lt;p&gt;Page content goes here&lt;/p&gt;\n  &lt;/section&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>File <strong>index2.html</strong></p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns:layout=&quot;http://www.ultraq.net.nz/thymeleaf/layout&quot;\n  layout:decorate=&quot;~{_layout.html}&quot;&gt;\n&lt;head&gt;\n  &lt;title&gt;Content page&lt;/title&gt;\n  &lt;script src=&quot;content-script.js&quot;&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;section layout:fragment=&quot;content&quot;&gt;\n    &lt;p&gt;This is a paragraph from the content page&lt;/p&gt;\n  &lt;/section&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>What should I do to solve this problem ? Thanks a lot</p>\n"},{"tags":["java","spring-boot","junit5","mapstruct"],"owner":{"account_id":26797969,"reputation":11,"user_id":20390424,"display_name":"Juan Pineda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671097991,"creation_date":1667339976,"question_id":74282262,"body_markdown":"I&#39;m trying to configure a project to run a unit test for mapstruct, I&#39;m using:\r\n\r\njava 8  \r\nspring boot 2.6.3  \r\ngradle  \r\njunit 5  \r\nLombok  \r\nmapstruct  \r\nvs code  \r\n\r\n```\r\n@ExtendWith(SpringExtension.class)\r\n@ContextConfiguration(classes = {UsersMapperImpl.class }) \r\n```\r\n\r\nIt works perfectly fine when I run Gradle test or Gradle build, but on compile time I get an error:\r\nUsersMapperImpl cannot be resolved to a type\r\n\r\nThe name of the class is UsersMapper.java\r\nIs there a configuration I&#39;m missing? I&#39;m trying to use ContextConfiguration.\r\n\r\nI expect to solve compile time error","title":"Configure Mapstruct on VSCode for JUnit5","body":"<p>I'm trying to configure a project to run a unit test for mapstruct, I'm using:</p>\n<p>java 8<br />\nspring boot 2.6.3<br />\ngradle<br />\njunit 5<br />\nLombok<br />\nmapstruct<br />\nvs code</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@ContextConfiguration(classes = {UsersMapperImpl.class }) \n</code></pre>\n<p>It works perfectly fine when I run Gradle test or Gradle build, but on compile time I get an error:\nUsersMapperImpl cannot be resolved to a type</p>\n<p>The name of the class is UsersMapper.java\nIs there a configuration I'm missing? I'm trying to use ContextConfiguration.</p>\n<p>I expect to solve compile time error</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":1198039,"reputation":10944,"user_id":1169349,"display_name":"Reg"},"score":0,"creation_date":1671097838,"post_id":74809353,"comment_id":132026020,"body_markdown":"Can you add your entire pom.xml?","body":"Can you add your entire pom.xml?"},{"owner":{"account_id":6842645,"reputation":5353,"user_id":5262452,"accept_rate":25,"display_name":"Patricio Vargas"},"score":1,"creation_date":1671098006,"post_id":74809353,"comment_id":132026075,"body_markdown":"@Reg I have added the pom.xml","body":"@Reg I have added the pom.xml"},{"owner":{"account_id":16735345,"reputation":300,"user_id":12096637,"display_name":"Abdulsalam Almahdi"},"score":0,"creation_date":1696355489,"post_id":74809353,"comment_id":136141253,"body_markdown":"did you find a solution for that?","body":"did you find a solution for that?"}],"owner":{"account_id":6842645,"reputation":5353,"user_id":5262452,"accept_rate":25,"display_name":"Patricio Vargas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":301,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671097984,"creation_date":1671096458,"question_id":74809353,"body_markdown":"I&#39;m getting the following error when trying to use the `Dotenv` dependency\r\n\r\n&gt; Cannot resolve symbol &#39;github&#39;\r\n\r\nI get the error above in this line of code:\r\n**Java class**\r\n\r\n`import io.github.cdimascio.dotenv.Dotenv;`\r\n\r\n\r\n**pom.xml**\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.github.cdimascio&lt;/groupId&gt;\r\n    &lt;artifactId&gt;java-dotenv&lt;/artifactId&gt;\r\n    &lt;version&gt;5.2.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nIn my terminal I ran:\r\n\r\n`mvn package`\r\n\r\n`mvn dependency:resolve`\r\n \r\n`mvn clean install`\r\n\r\nI was following these tutorials:\r\n\r\n - https://www.youtube.com/watch?v=o1HsGbTZObQ\r\n   \r\n - https://www.twilio.com/blog/working-with-environment-variables-in-java\r\n   \r\n - https://github.com/cdimascio/dotenv-java\r\n\r\npom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;PayPalService&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;PayPalService&lt;/name&gt;\r\n    \t&lt;description&gt;PayPal Service project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.github.cdimascio&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;java-dotenv&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.2.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.json&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;json&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;20220924&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nI&#39;m new to Java and Maven and based on my small knowledge those commands above should help me install dependencies. Am I missing something?\r\n","title":"Cannot resolve symbol &#39;github&#39; from Dotenv dependency in maven","body":"<p>I'm getting the following error when trying to use the <code>Dotenv</code> dependency</p>\n<blockquote>\n<p>Cannot resolve symbol 'github'</p>\n</blockquote>\n<p>I get the error above in this line of code:\n<strong>Java class</strong></p>\n<p><code>import io.github.cdimascio.dotenv.Dotenv;</code></p>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.github.cdimascio&lt;/groupId&gt;\n    &lt;artifactId&gt;java-dotenv&lt;/artifactId&gt;\n    &lt;version&gt;5.2.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>In my terminal I ran:</p>\n<p><code>mvn package</code></p>\n<p><code>mvn dependency:resolve</code></p>\n<p><code>mvn clean install</code></p>\n<p>I was following these tutorials:</p>\n<ul>\n<li><p><a href=\"https://www.youtube.com/watch?v=o1HsGbTZObQ\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=o1HsGbTZObQ</a></p>\n</li>\n<li><p><a href=\"https://www.twilio.com/blog/working-with-environment-variables-in-java\" rel=\"nofollow noreferrer\">https://www.twilio.com/blog/working-with-environment-variables-in-java</a></p>\n</li>\n<li><p><a href=\"https://github.com/cdimascio/dotenv-java\" rel=\"nofollow noreferrer\">https://github.com/cdimascio/dotenv-java</a></p>\n</li>\n</ul>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;PayPalService&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;PayPalService&lt;/name&gt;\n    &lt;description&gt;PayPal Service project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.cdimascio&lt;/groupId&gt;\n            &lt;artifactId&gt;java-dotenv&lt;/artifactId&gt;\n            &lt;version&gt;5.2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20220924&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I'm new to Java and Maven and based on my small knowledge those commands above should help me install dependencies. Am I missing something?</p>\n"},{"tags":["java","spring-boot","azure","oauth-2.0"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1671097834,"post_id":74809609,"comment_id":132026019,"body_markdown":"The error message seems pretty straight forward. Have you tried opening the folder as the message suggests: https://javaee.github.io/javamail/docs/api/index.html?com/sun/mail/imap/IMAPFolder.html ?","body":"The error message seems pretty straight forward. Have you tried opening the folder as the message suggests: <a href=\"https://javaee.github.io/javamail/docs/api/index.html?com/sun/mail/imap/IMAPFolder.html\" rel=\"nofollow noreferrer\">javaee.github.io/javamail/docs/api/index.html?com/sun/mail/i&zwnj;&#8203;map/&hellip;</a> ?"},{"owner":{"account_id":27155055,"reputation":9,"user_id":20694177,"display_name":"Diego Fernando Rodrguez Gonzle"},"score":0,"creation_date":1673857256,"post_id":74809609,"comment_id":132582595,"body_markdown":"Right now the same thing is happening to me with my application, I don&#39;t know, you already solved the ImapFolder problem.","body":"Right now the same thing is happening to me with my application, I don&#39;t know, you already solved the ImapFolder problem."}],"owner":{"account_id":27155055,"reputation":9,"user_id":20694177,"display_name":"Diego Fernando Rodrguez Gonzle"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671097733,"creation_date":1671097733,"question_id":74809609,"body_markdown":"```\r\nstore.connect(&quot;outlook.office365.com&quot;, &quot;email@bussness.com&quot;, token);\r\n\t        \r\n\t        Folder folder = store.getFolder(&quot;INBOX&quot;);\r\n\t        Message[] messages = folder.getMessages();\r\n\t        \r\n\t        for(Message msg : messages) {\r\n\t        \tSystem.out.println(msg);\r\n\t        }\r\n```\r\n\r\n\r\nI am trying to read the messages of an email associated with a javaMail in Microsoft Azure when trying to extract the information I get the following oauth2 protocols error:\r\n\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.IllegalStateException: This operation is not allowed on a closed folder\r\n\tat com.sun.mail.imap.IMAPFolder.checkOpened(IMAPFolder.java:478)\r\n\tat com.sun.mail.imap.IMAPFolder.getMessages(IMAPFolder.java:1856)\r\n\tat com.communication.quickstart.ExecuteTwo.main(ExecuteTwo.java:57)\r\n```\r\n\r\n\r\nat com.sun.mail.imap.IMAPFolder.checkOpened(IMAPFolder.java:478)","title":"java.lang.IllegalStateException: This operation is not allowed on a closed folder","body":"<pre><code>store.connect(&quot;outlook.office365.com&quot;, &quot;email@bussness.com&quot;, token);\n            \n            Folder folder = store.getFolder(&quot;INBOX&quot;);\n            Message[] messages = folder.getMessages();\n            \n            for(Message msg : messages) {\n                System.out.println(msg);\n            }\n</code></pre>\n<p>I am trying to read the messages of an email associated with a javaMail in Microsoft Azure when trying to extract the information I get the following oauth2 protocols error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalStateException: This operation is not allowed on a closed folder\n    at com.sun.mail.imap.IMAPFolder.checkOpened(IMAPFolder.java:478)\n    at com.sun.mail.imap.IMAPFolder.getMessages(IMAPFolder.java:1856)\n    at com.communication.quickstart.ExecuteTwo.main(ExecuteTwo.java:57)\n</code></pre>\n<p>at com.sun.mail.imap.IMAPFolder.checkOpened(IMAPFolder.java:478)</p>\n"},{"tags":["java","multithreading","exception","concurrency"],"answers":[{"tags":[],"owner":{"account_id":18236,"reputation":46374,"user_id":41619,"accept_rate":91,"display_name":"Adam Paynter"},"down_vote_count":0,"up_vote_count":33,"is_accepted":true,"score":33,"last_activity_date":1330552872,"creation_date":1241794351,"answer_id":840181,"question_id":840165,"body_markdown":"It may have nothing to do with the synchronization block. `ConcurrentModificationException`s often occur when you&#39;re modifying a collection while you are iterating over its elements.\r\n\r\n    List&lt;String&gt; messages = ...;\r\n    for (String message : messages) {\r\n        // Prone to ConcurrentModificationException\r\n        messages.add(&quot;A COMPLETELY NEW MESSAGE&quot;);\r\n    }","title":"How to debug ConcurrentModificationException?","body":"<p>It may have nothing to do with the synchronization block. <code>ConcurrentModificationException</code>s often occur when you're modifying a collection while you are iterating over its elements.</p>\n\n<pre><code>List&lt;String&gt; messages = ...;\nfor (String message : messages) {\n    // Prone to ConcurrentModificationException\n    messages.add(\"A COMPLETELY NEW MESSAGE\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21040,"reputation":1938,"user_id":50844,"accept_rate":75,"display_name":"Lucas Lindstr&#246;m"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1241794412,"creation_date":1241794412,"answer_id":840186,"question_id":840165,"body_markdown":"It&#39;s common to receive a ConcurrentModificationException when modifying a dynamic list while iterating over it (in a foreach-loop for example). You may want to make sure you&#39;re not doing that anywhere. ","title":"How to debug ConcurrentModificationException?","body":"<p>It's common to receive a ConcurrentModificationException when modifying a dynamic list while iterating over it (in a foreach-loop for example). You may want to make sure you're not doing that anywhere. </p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1241812802,"creation_date":1241812802,"answer_id":841537,"question_id":840165,"body_markdown":"Similar to a previous post, you can get the same issue if you delete an entry.\r\ne.g.\r\n\r\n    for(String message : messages) {\r\n      if (condition(message))\r\n         messages.remove(message);\r\n    }\r\n\r\nAnother common example is cleaning up a Map.\r\n\r\nThis particular problem can be resolved using an Iterator explicitly.\r\n\r\n    for(Iterator&lt;String&gt; iter = messages.iterator(); iter.hasNext();) {\r\n       String message = iter.next();\r\n       if (condition(message))\r\n           iter.remove(); // doesn&#39;t cause a ConcurrentModificationException \r\n    }\r\n\r\n","title":"How to debug ConcurrentModificationException?","body":"<p>Similar to a previous post, you can get the same issue if you delete an entry.\ne.g.</p>\n\n<pre><code>for(String message : messages) {\n  if (condition(message))\n     messages.remove(message);\n}\n</code></pre>\n\n<p>Another common example is cleaning up a Map.</p>\n\n<p>This particular problem can be resolved using an Iterator explicitly.</p>\n\n<pre><code>for(Iterator&lt;String&gt; iter = messages.iterator(); iter.hasNext();) {\n   String message = iter.next();\n   if (condition(message))\n       iter.remove(); // doesn't cause a ConcurrentModificationException \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":52113,"reputation":369,"user_id":155704,"accept_rate":11,"display_name":"iftee"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1276363402,"creation_date":1276363402,"answer_id":3029500,"question_id":840165,"body_markdown":"if you need to delete few elements from your list. You can maintain another list like elements to be removed. And finally call removeAll(collection). Of course this is not good for huge data.","title":"How to debug ConcurrentModificationException?","body":"<p>if you need to delete few elements from your list. You can maintain another list like elements to be removed. And finally call removeAll(collection). Of course this is not good for huge data.</p>\n"},{"tags":[],"owner":{"account_id":114568,"reputation":1048,"user_id":301189,"accept_rate":69,"display_name":"B&#233;atrice Cassistat"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1276384140,"creation_date":1276384140,"answer_id":3030434,"question_id":840165,"body_markdown":"Sometime your application may be complex too complex and some functions may have too much side effect. Also, maybe another thread is really doing something wrong with that list and you can&#39;t find where easily.\r\n\r\nFor my own problem, I&#39;ve write my own list system that delegates another list and, once locked, all other modifications throws ConcurrentModificationException, so the bad modification instruction will get at output with the exception. It can also detect errors described above.\r\n\r\n&lt;pre&gt;\r\nimport java.util.*;\r\n\r\n/**\r\n * Created by IntelliJ IDEA.\r\n * User: francoiscassistat\r\n * Date: 12 juin 2010\r\n * Time: 18:20:18\r\n *\r\n *\r\n * Lockable list, made to debug ConcurrentModificationException on Lists.\r\n * The lock can be switched on/off with setLocked(boolean).\r\n * When locked, all write access to the list or iterators gets ConcurrentModificationException.\r\n * Simple usage case :\r\n *\r\n * list.setLocked(true);\r\n *\r\n * for (Object o : list.iterator()) // now this won&#39;t get ConcurrentModificationException, the other instruction that cause this will thrown the exception\r\n * { ... }\r\n *\r\n * list.setLocked(false);\r\n */\r\npublic class LockableList&amp;lt;E&amp;gt; implements List&amp;lt;E&amp;gt; {\r\n    protected class LockableListIterator implements Iterator&amp;lt;E&amp;gt; {\r\n        protected Iterator&amp;lt;E&amp;gt; iterator;\r\n\r\n        public LockableListIterator(Iterator&amp;lt;E&amp;gt; iterator) {\r\n            this.iterator = iterator;\r\n        }\r\n\r\n        public boolean hasNext() {\r\n            return iterator.hasNext();\r\n        }\r\n\r\n        public E next() {\r\n            return iterator.next();\r\n        }\r\n\r\n        public void remove() {\r\n            checkLock();\r\n            iterator.remove();\r\n        }\r\n    }\r\n\r\n    protected class LockableListListIterator implements ListIterator&amp;lt;E&amp;gt; {\r\n        protected ListIterator&amp;lt;E&amp;gt; listIterator;\r\n\r\n        public LockableListListIterator(ListIterator&amp;lt;E&amp;gt; listIterator) {\r\n            this.listIterator = listIterator;\r\n        }\r\n\r\n        public boolean hasNext() {\r\n            return listIterator.hasNext();\r\n        }\r\n\r\n        public E next() {\r\n            return listIterator.next();\r\n        }\r\n\r\n        public boolean hasPrevious() {\r\n            return listIterator.hasPrevious();\r\n        }\r\n\r\n        public E previous() {\r\n            return listIterator.previous();\r\n        }\r\n\r\n        public int nextIndex() {\r\n            return listIterator.nextIndex();\r\n        }\r\n\r\n        public int previousIndex() {\r\n            return listIterator.previousIndex();\r\n        }\r\n\r\n        public void remove() {\r\n            checkLock();\r\n            listIterator.remove();\r\n        }\r\n\r\n        public void set(E e) {\r\n            checkLock();\r\n            listIterator.set(e);\r\n        }\r\n\r\n        public void add(E e) {\r\n            checkLock();\r\n            listIterator.add(e);\r\n        }\r\n    }\r\n\r\n    protected class LockableListSubList implements List&amp;lt;E&amp;gt;\r\n    {\r\n        protected List&amp;lt;E&amp;gt; list;\r\n\r\n        public LockableListSubList(List&amp;lt;E&amp;gt; list) {\r\n            this.list = list;\r\n        }\r\n\r\n        public int size() {\r\n            return list.size();\r\n        }\r\n\r\n        public boolean isEmpty() {\r\n            return list.isEmpty();\r\n        }\r\n\r\n        public boolean contains(Object o) {\r\n            return list.contains(o);\r\n        }\r\n\r\n        public Iterator&amp;lt;E&amp;gt; iterator() {\r\n            return new LockableListIterator(list.iterator());\r\n        }\r\n\r\n        public Object[] toArray() {\r\n            return list.toArray();\r\n        }\r\n\r\n        public &amp;lt;T&amp;gt; T[] toArray(T[] a) {\r\n            return list.toArray(a);\r\n        }\r\n\r\n        public boolean add(E e) {\r\n            checkLock();\r\n            return list.add(e);\r\n        }\r\n\r\n        public boolean remove(Object o) {\r\n            checkLock();\r\n            return list.remove(o);\r\n        }\r\n\r\n        public boolean containsAll(Collection&amp;lt;?&amp;gt; c) {\r\n            return list.containsAll(c);\r\n        }\r\n\r\n        public boolean addAll(Collection&amp;lt;? extends E&amp;gt; c) {\r\n            checkLock();\r\n            return list.addAll(c);\r\n        }\r\n\r\n        public boolean addAll(int index, Collection&amp;lt;? extends E&amp;gt; c) {\r\n            checkLock();\r\n            return list.addAll(index, c);\r\n        }\r\n\r\n        public boolean removeAll(Collection&amp;lt;?&amp;gt; c) {\r\n            checkLock();\r\n            return list.removeAll(c);\r\n        }\r\n\r\n        public boolean retainAll(Collection&amp;lt;?&amp;gt; c) {\r\n            checkLock();\r\n            return list.retainAll(c);\r\n        }\r\n\r\n        public void clear() {\r\n            checkLock();\r\n            list.clear();\r\n        }\r\n\r\n        @Override\r\n        public boolean equals(Object o) {\r\n            return list.equals(o);\r\n        }\r\n\r\n        @Override\r\n        public int hashCode() {\r\n            return list.hashCode();\r\n        }\r\n\r\n        public E get(int index) {\r\n            return list.get(index);\r\n        }\r\n\r\n        public E set(int index, E element) {\r\n            checkLock();\r\n            return list.set(index, element);\r\n        }\r\n\r\n        public void add(int index, E element) {\r\n            checkLock();\r\n            list.add(index, element);\r\n        }\r\n\r\n        public E remove(int index) {\r\n            checkLock();\r\n            return list.remove(index);\r\n        }\r\n\r\n        public int indexOf(Object o) {\r\n            return list.indexOf(o);\r\n        }\r\n\r\n        public int lastIndexOf(Object o) {\r\n            return list.lastIndexOf(o);\r\n        }\r\n\r\n        public ListIterator&amp;lt;E&amp;gt; listIterator() {\r\n            return new LockableListListIterator(list.listIterator());\r\n        }\r\n\r\n        public ListIterator&amp;lt;E&amp;gt; listIterator(int index) {\r\n            return new LockableListListIterator(list.listIterator(index));\r\n        }\r\n\r\n        public List&amp;lt;E&amp;gt; subList(int fromIndex, int toIndex) {\r\n            return new LockableListSubList(list.subList(fromIndex, toIndex));\r\n        }\r\n    }\r\n\r\n    protected List&amp;lt;E&amp;gt; list;\r\n    protected boolean locked;\r\n\r\n    public LockableList(List&amp;lt;E&amp;gt; list) {\r\n        this.list = list;\r\n        locked = false;\r\n    }\r\n\r\n    public boolean isLocked() {\r\n        return locked;\r\n    }\r\n\r\n    public void setLocked(boolean locked) {\r\n        this.locked = locked;\r\n    }\r\n\r\n    protected void checkLock() {\r\n        if (locked)\r\n            throw new ConcurrentModificationException(&quot;Locked&quot;);\r\n    }\r\n\r\n    public int size() {\r\n        return list.size();\r\n    }\r\n\r\n    public boolean isEmpty() {\r\n        return list.isEmpty();\r\n    }\r\n\r\n    public boolean contains(Object o) {\r\n        return list.contains(o);\r\n    }\r\n\r\n    public Iterator&amp;lt;E&amp;gt; iterator() {\r\n        return new LockableListIterator(list.iterator());\r\n    }\r\n\r\n    public Object[] toArray() {\r\n        return list.toArray();\r\n    }\r\n\r\n    public &amp;lt;T&amp;gt; T[] toArray(T[] a) {\r\n        return list.toArray(a);\r\n    }\r\n\r\n    public boolean add(E e) {\r\n        checkLock();\r\n        return list.add(e);\r\n    }\r\n\r\n    public boolean remove(Object o) {\r\n        checkLock();\r\n        return list.remove(o);\r\n    }\r\n\r\n    public boolean containsAll(Collection&amp;lt;?&amp;gt; c) {\r\n        return list.containsAll(c);\r\n    }\r\n\r\n    public boolean addAll(Collection&amp;lt;? extends E&amp;gt; c) {\r\n        checkLock();\r\n        return list.addAll(c);\r\n    }\r\n\r\n    public boolean addAll(int index, Collection&amp;lt;? extends E&amp;gt; c) {\r\n        checkLock();\r\n        return list.addAll(index, c);\r\n    }\r\n\r\n    public boolean removeAll(Collection&amp;lt;?&amp;gt; c) {\r\n        checkLock();\r\n        return list.removeAll(c);\r\n    }\r\n\r\n    public boolean retainAll(Collection&amp;lt;?&amp;gt; c) {\r\n        checkLock();\r\n        return list.retainAll(c);\r\n    }\r\n\r\n    public void clear() {\r\n        checkLock();\r\n        list.clear();\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        return list.equals(o);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return list.hashCode();\r\n    }\r\n\r\n    public E get(int index) {\r\n        return list.get(index);\r\n    }\r\n\r\n    public E set(int index, E element) {\r\n        checkLock();\r\n        return list.set(index, element);\r\n    }\r\n\r\n    public void add(int index, E element) {\r\n        checkLock();\r\n        list.add(index, element);\r\n    }\r\n\r\n    public E remove(int index) {\r\n        checkLock();\r\n        return list.remove(index);\r\n    }\r\n\r\n    public int indexOf(Object o) {\r\n        return list.indexOf(o);\r\n    }\r\n\r\n    public int lastIndexOf(Object o) {\r\n        return list.lastIndexOf(o);\r\n    }\r\n\r\n    public ListIterator&amp;lt;E&amp;gt; listIterator() {\r\n        return new LockableListListIterator(list.listIterator());\r\n    }\r\n\r\n    public ListIterator&amp;lt;E&amp;gt; listIterator(int index) {\r\n        return new LockableListListIterator(list.listIterator(index));\r\n    }\r\n\r\n    public List&amp;lt;E&amp;gt; subList(int fromIndex, int toIndex) {\r\n        return new LockableListSubList(list.subList(fromIndex, toIndex));\r\n    }\r\n}\r\n&lt;/pre&gt;\r\n\r\nSimply use it like this :\r\n&lt;pre&gt;\r\nList&lt;E&gt; list = new LockableList&lt;E&gt;(new ArrayList&lt;E&gt;(...));\r\nlist.setLocked(true);\r\n\r\nfor (E e : list.iterator())\r\n{ ... }\r\n\r\nlist.setLocked(false);\r\n&lt;/pre&gt;\r\n\r\nHope it may help someone else.","title":"How to debug ConcurrentModificationException?","body":"<p>Sometime your application may be complex too complex and some functions may have too much side effect. Also, maybe another thread is really doing something wrong with that list and you can't find where easily.</p>\n\n<p>For my own problem, I've write my own list system that delegates another list and, once locked, all other modifications throws ConcurrentModificationException, so the bad modification instruction will get at output with the exception. It can also detect errors described above.</p>\n\n<pre>\nimport java.util.*;\n\n/**\n * Created by IntelliJ IDEA.\n * User: francoiscassistat\n * Date: 12 juin 2010\n * Time: 18:20:18\n *\n *\n * Lockable list, made to debug ConcurrentModificationException on Lists.\n * The lock can be switched on/off with setLocked(boolean).\n * When locked, all write access to the list or iterators gets ConcurrentModificationException.\n * Simple usage case :\n *\n * list.setLocked(true);\n *\n * for (Object o : list.iterator()) // now this won't get ConcurrentModificationException, the other instruction that cause this will thrown the exception\n * { ... }\n *\n * list.setLocked(false);\n */\npublic class LockableList&lt;E&gt; implements List&lt;E&gt; {\n    protected class LockableListIterator implements Iterator&lt;E&gt; {\n        protected Iterator&lt;E&gt; iterator;\n\n        public LockableListIterator(Iterator&lt;E&gt; iterator) {\n            this.iterator = iterator;\n        }\n\n        public boolean hasNext() {\n            return iterator.hasNext();\n        }\n\n        public E next() {\n            return iterator.next();\n        }\n\n        public void remove() {\n            checkLock();\n            iterator.remove();\n        }\n    }\n\n    protected class LockableListListIterator implements ListIterator&lt;E&gt; {\n        protected ListIterator&lt;E&gt; listIterator;\n\n        public LockableListListIterator(ListIterator&lt;E&gt; listIterator) {\n            this.listIterator = listIterator;\n        }\n\n        public boolean hasNext() {\n            return listIterator.hasNext();\n        }\n\n        public E next() {\n            return listIterator.next();\n        }\n\n        public boolean hasPrevious() {\n            return listIterator.hasPrevious();\n        }\n\n        public E previous() {\n            return listIterator.previous();\n        }\n\n        public int nextIndex() {\n            return listIterator.nextIndex();\n        }\n\n        public int previousIndex() {\n            return listIterator.previousIndex();\n        }\n\n        public void remove() {\n            checkLock();\n            listIterator.remove();\n        }\n\n        public void set(E e) {\n            checkLock();\n            listIterator.set(e);\n        }\n\n        public void add(E e) {\n            checkLock();\n            listIterator.add(e);\n        }\n    }\n\n    protected class LockableListSubList implements List&lt;E&gt;\n    {\n        protected List&lt;E&gt; list;\n\n        public LockableListSubList(List&lt;E&gt; list) {\n            this.list = list;\n        }\n\n        public int size() {\n            return list.size();\n        }\n\n        public boolean isEmpty() {\n            return list.isEmpty();\n        }\n\n        public boolean contains(Object o) {\n            return list.contains(o);\n        }\n\n        public Iterator&lt;E&gt; iterator() {\n            return new LockableListIterator(list.iterator());\n        }\n\n        public Object[] toArray() {\n            return list.toArray();\n        }\n\n        public &lt;T&gt; T[] toArray(T[] a) {\n            return list.toArray(a);\n        }\n\n        public boolean add(E e) {\n            checkLock();\n            return list.add(e);\n        }\n\n        public boolean remove(Object o) {\n            checkLock();\n            return list.remove(o);\n        }\n\n        public boolean containsAll(Collection&lt;?&gt; c) {\n            return list.containsAll(c);\n        }\n\n        public boolean addAll(Collection&lt;? extends E&gt; c) {\n            checkLock();\n            return list.addAll(c);\n        }\n\n        public boolean addAll(int index, Collection&lt;? extends E&gt; c) {\n            checkLock();\n            return list.addAll(index, c);\n        }\n\n        public boolean removeAll(Collection&lt;?&gt; c) {\n            checkLock();\n            return list.removeAll(c);\n        }\n\n        public boolean retainAll(Collection&lt;?&gt; c) {\n            checkLock();\n            return list.retainAll(c);\n        }\n\n        public void clear() {\n            checkLock();\n            list.clear();\n        }\n\n        @Override\n        public boolean equals(Object o) {\n            return list.equals(o);\n        }\n\n        @Override\n        public int hashCode() {\n            return list.hashCode();\n        }\n\n        public E get(int index) {\n            return list.get(index);\n        }\n\n        public E set(int index, E element) {\n            checkLock();\n            return list.set(index, element);\n        }\n\n        public void add(int index, E element) {\n            checkLock();\n            list.add(index, element);\n        }\n\n        public E remove(int index) {\n            checkLock();\n            return list.remove(index);\n        }\n\n        public int indexOf(Object o) {\n            return list.indexOf(o);\n        }\n\n        public int lastIndexOf(Object o) {\n            return list.lastIndexOf(o);\n        }\n\n        public ListIterator&lt;E&gt; listIterator() {\n            return new LockableListListIterator(list.listIterator());\n        }\n\n        public ListIterator&lt;E&gt; listIterator(int index) {\n            return new LockableListListIterator(list.listIterator(index));\n        }\n\n        public List&lt;E&gt; subList(int fromIndex, int toIndex) {\n            return new LockableListSubList(list.subList(fromIndex, toIndex));\n        }\n    }\n\n    protected List&lt;E&gt; list;\n    protected boolean locked;\n\n    public LockableList(List&lt;E&gt; list) {\n        this.list = list;\n        locked = false;\n    }\n\n    public boolean isLocked() {\n        return locked;\n    }\n\n    public void setLocked(boolean locked) {\n        this.locked = locked;\n    }\n\n    protected void checkLock() {\n        if (locked)\n            throw new ConcurrentModificationException(\"Locked\");\n    }\n\n    public int size() {\n        return list.size();\n    }\n\n    public boolean isEmpty() {\n        return list.isEmpty();\n    }\n\n    public boolean contains(Object o) {\n        return list.contains(o);\n    }\n\n    public Iterator&lt;E&gt; iterator() {\n        return new LockableListIterator(list.iterator());\n    }\n\n    public Object[] toArray() {\n        return list.toArray();\n    }\n\n    public &lt;T&gt; T[] toArray(T[] a) {\n        return list.toArray(a);\n    }\n\n    public boolean add(E e) {\n        checkLock();\n        return list.add(e);\n    }\n\n    public boolean remove(Object o) {\n        checkLock();\n        return list.remove(o);\n    }\n\n    public boolean containsAll(Collection&lt;?&gt; c) {\n        return list.containsAll(c);\n    }\n\n    public boolean addAll(Collection&lt;? extends E&gt; c) {\n        checkLock();\n        return list.addAll(c);\n    }\n\n    public boolean addAll(int index, Collection&lt;? extends E&gt; c) {\n        checkLock();\n        return list.addAll(index, c);\n    }\n\n    public boolean removeAll(Collection&lt;?&gt; c) {\n        checkLock();\n        return list.removeAll(c);\n    }\n\n    public boolean retainAll(Collection&lt;?&gt; c) {\n        checkLock();\n        return list.retainAll(c);\n    }\n\n    public void clear() {\n        checkLock();\n        list.clear();\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        return list.equals(o);\n    }\n\n    @Override\n    public int hashCode() {\n        return list.hashCode();\n    }\n\n    public E get(int index) {\n        return list.get(index);\n    }\n\n    public E set(int index, E element) {\n        checkLock();\n        return list.set(index, element);\n    }\n\n    public void add(int index, E element) {\n        checkLock();\n        list.add(index, element);\n    }\n\n    public E remove(int index) {\n        checkLock();\n        return list.remove(index);\n    }\n\n    public int indexOf(Object o) {\n        return list.indexOf(o);\n    }\n\n    public int lastIndexOf(Object o) {\n        return list.lastIndexOf(o);\n    }\n\n    public ListIterator&lt;E&gt; listIterator() {\n        return new LockableListListIterator(list.listIterator());\n    }\n\n    public ListIterator&lt;E&gt; listIterator(int index) {\n        return new LockableListListIterator(list.listIterator(index));\n    }\n\n    public List&lt;E&gt; subList(int fromIndex, int toIndex) {\n        return new LockableListSubList(list.subList(fromIndex, toIndex));\n    }\n}\n</pre>\n\n<p>Simply use it like this :</p>\n\n<pre>\nList list = new LockableList(new ArrayList(...));\nlist.setLocked(true);\n\nfor (E e : list.iterator())\n{ ... }\n\nlist.setLocked(false);\n</pre>\n\n<p>Hope it may help someone else.</p>\n"},{"tags":[],"owner":{"account_id":1153544,"reputation":404,"user_id":1134748,"display_name":"JanDasWiesel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671097405,"creation_date":1325869252,"answer_id":8761481,"question_id":840165,"body_markdown":"Having had to deal with similar issues I wrote a small helper to debug concurrent access situations on certain objects (sometimes using a debugger modifies the runtime behavior so much that the issue does not occur). The approach is similar to the one Francois showed, but a bit more generic. Maybe it helps someone: https://github.com/smurf667/kongcurrent","title":"How to debug ConcurrentModificationException?","body":"<p>Having had to deal with similar issues I wrote a small helper to debug concurrent access situations on certain objects (sometimes using a debugger modifies the runtime behavior so much that the issue does not occur). The approach is similar to the one Francois showed, but a bit more generic. Maybe it helps someone: <a href=\"https://github.com/smurf667/kongcurrent\" rel=\"nofollow noreferrer\">https://github.com/smurf667/kongcurrent</a></p>\n"}],"owner":{"account_id":14119,"reputation":4297,"user_id":28772,"accept_rate":45,"display_name":"Dani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18571,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"closed_date":1552479474,"accepted_answer_id":840181,"answer_count":6,"score":15,"last_activity_date":1671097405,"creation_date":1241794170,"question_id":840165,"body_markdown":"I encountered ConcurrentModificationException and by looking at it I can&#39;t see the reason why it&#39;s happening; the area throwing the exception and all the places modifying the collection are surrounded by \r\n\r\n    synchronized (this.locks.get(id)) {\r\n      ...\r\n    } // locks is a HashMap&lt;String, Object&gt;;\r\n\r\n\r\nI tried to catch the the pesky thread but all I could nail (by setting a breakpoint in the exception) is that the throwing thread owns the monitor while the other thread (there are two threads in the program) sleeps.\r\n\r\n&lt;br&gt;How should I proceed? What do you usually do when you encounter similar threading issues?","title":"How to debug ConcurrentModificationException?","body":"<p>I encountered ConcurrentModificationException and by looking at it I can't see the reason why it's happening; the area throwing the exception and all the places modifying the collection are surrounded by </p>\n\n<pre><code>synchronized (this.locks.get(id)) {\n  ...\n} // locks is a HashMap&lt;String, Object&gt;;\n</code></pre>\n\n<p>I tried to catch the the pesky thread but all I could nail (by setting a breakpoint in the exception) is that the throwing thread owns the monitor while the other thread (there are two threads in the program) sleeps.</p>\n\n<p><br>How should I proceed? What do you usually do when you encounter similar threading issues?</p>\n"},{"tags":["java","multithreading","thread-safety","producer-consumer","thread-synchronization"],"comments":[{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":0,"creation_date":1671007623,"post_id":74794132,"comment_id":132001754,"body_markdown":"++i instead of i++","body":"++i instead of i++"},{"owner":{"account_id":21687113,"reputation":109,"user_id":16002380,"display_name":"Shri"},"score":0,"creation_date":1671008300,"post_id":74794132,"comment_id":132001934,"body_markdown":"@Anon I don&#39;t get what you are referring to.","body":"@Anon I don&#39;t get what you are referring to."},{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":0,"creation_date":1671011404,"post_id":74794132,"comment_id":132002947,"body_markdown":"on Producer2 class in the run method change the i++ to ++i","body":"on Producer2 class in the run method change the i++ to ++i"},{"owner":{"account_id":21687113,"reputation":109,"user_id":16002380,"display_name":"Shri"},"score":0,"creation_date":1671012161,"post_id":74794132,"comment_id":132003175,"body_markdown":"@Anon I don&#39;t understand how changing i++ to ++i will solve this problem. I am asking why the changed value of n is not being reflected in another thread.","body":"@Anon I don&#39;t understand how changing i++ to ++i will solve this problem. I am asking why the changed value of n is not being reflected in another thread."},{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":0,"creation_date":1671021732,"post_id":74794132,"comment_id":132006430,"body_markdown":"if you used the debug you would notice that it only changes after so change the i++ to ++i and start using the debug","body":"if you used the debug you would notice that it only changes after so change the i++ to ++i and start using the debug"}],"answers":[{"tags":[],"owner":{"account_id":22931464,"reputation":449,"user_id":17065671,"display_name":"Qu&#226;n Anh Mai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671097338,"creation_date":1671097338,"answer_id":74809529,"question_id":74794132,"body_markdown":"Your read from `q.n` in `Consumer2::run` is racy, i.e. it is executed concurrently with the write to `q.n` in `Q2::put`. As a result, it can read either the previous value or the currently written value of `q.n`. A possible solution is move the printing of &quot;Before get() n is ...&quot; to under the lock.","title":"Why sometimes in the output of the producer-consumer problem, the consumer is getting a previous value instead of the new value produced by producer?","body":"<p>Your read from <code>q.n</code> in <code>Consumer2::run</code> is racy, i.e. it is executed concurrently with the write to <code>q.n</code> in <code>Q2::put</code>. As a result, it can read either the previous value or the currently written value of <code>q.n</code>. A possible solution is move the printing of &quot;Before get() n is ...&quot; to under the lock.</p>\n"}],"owner":{"account_id":21687113,"reputation":109,"user_id":16002380,"display_name":"Shri"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1671097338,"creation_date":1670997560,"question_id":74794132,"body_markdown":"I have this below Java code:\r\n```java\r\nclass Q2 {\r\n    int n;\r\n    boolean valueSet = false;\r\n\r\n    synchronized int get() {\r\n        while(!valueSet)\r\n            try {\r\n                System.out.println(&quot;Consumer waiting ...&quot;);\r\n                wait();\r\n            }\r\n            catch(InterruptedException e) {\r\n                System.err.println(&quot;InterruptedException caught&quot;);\r\n            }\r\n        System.out.println(&quot;Consumer awakened&quot;);\r\n        System.out.println(&quot;Got: &quot;+n);\r\n        valueSet = false;\r\n        notify();\r\n        System.out.println(&quot;Consumer called notify()&quot;);\r\n        return n;\r\n    }\r\n\r\n    synchronized void put(int n) {\r\n        while(valueSet)\r\n            try {\r\n                System.out.println(&quot;Producer waiting ...&quot;);\r\n                wait();\r\n            }\r\n            catch(InterruptedException e) {\r\n                System.err.println(&quot;InterruptedException caught&quot;);\r\n            }\r\n        System.out.println(&quot;Producer awakened&quot;);\r\n        System.out.println(&quot;Before put n is: &quot; + this.n);\r\n        this.n = n;\r\n        valueSet = true;\r\n        System.out.println(&quot;Put: &quot; + this.n);\r\n        notify();\r\n        System.out.println(&quot;Producer called notify()&quot;);\r\n    }\r\n}\r\n\r\nclass Producer2 implements Runnable {\r\n    Q2 q;\r\n    int noOfTimes;\r\n\r\n    Producer2(Q2 q) {\r\n        this.q = q;\r\n        new Thread(this, &quot;Producer&quot;).start();\r\n    }\r\n\r\n    public void run() {\r\n        int i=0;\r\n        noOfTimes=0;\r\n        while(q.n &lt; 2) {\r\n            q.put(i++);\r\n            noOfTimes++;\r\n        }\r\n        System.out.println(&quot;Producer ran: &quot; + noOfTimes + &quot; times.&quot;);\r\n    }\r\n}\r\n\r\nclass Consumer2 implements Runnable {\r\n    Q2 q;\r\n    int noOfTimes;\r\n\r\n    Consumer2(Q2 q) {\r\n        this.q = q;\r\n        new Thread(this, &quot;Consumer&quot;).start();\r\n    }\r\n\r\n    public void run() {\r\n        int i=0;\r\n        noOfTimes=0;\r\n        while(q.n &lt; 2) {\r\n            System.out.println(&quot;Iteration &quot; + (noOfTimes+1) + &quot;; Before get() n is: &quot; + q.n);\r\n            int val = q.get();\r\n            System.out.println(&quot;After get() n is: &quot; + q.n);\r\n            noOfTimes++;\r\n        }\r\n        System.out.println(&quot;Consumer ran: &quot; + noOfTimes + &quot; times.&quot;);\r\n        System.out.println(&quot;n: &quot; + q.n);\r\n    }\r\n}\r\n\r\npublic class PCFixed {\r\n\r\n    public static void main(String[] args) {\r\n        Q2 q = new Q2();\r\n        new Producer2(q);\r\n        new Consumer2(q); \r\n    }\r\n}\r\n```\r\nOne particular output:\r\n\r\n    Producer awakened\r\n    Before put n is: 0 // because n is int and default value of n is 0\r\n    Put: 0 // instance variable n associated with object of Q2 is set to 0\r\n    Producer called notify() // no effect\r\n    Producer waiting ... // thread spawned from Producer waits\r\n    Iteration 1; Before get() n is: 0 // context switching to thread spawned from Consumer\r\n    Consumer awakened\r\n    Got: 0\r\n    Consumer called notify()\r\n    After get() n is: 0\r\n    Iteration 2; Before get() n is: 0\r\n    Producer awakened // context switching to Producer&#39;s thread\r\n    Before put n is: 0\r\n    Put: 1\r\n    Producer called notify()\r\n    Producer waiting ... // Producer&#39;s thread waits/sleeps\r\n    Consumer awakened // context switching to Consumer&#39;s thread\r\n    Got: 1\r\n    Consumer called notify()\r\n    After get() n is: 1\r\n    Producer awakened // context switching to Producer&#39;s thread\r\n    Before put n is: 1\r\n    Put: 2 // #### line 1\r\n    Producer called notify()\r\n    Iteration 3; Before get() n is: 1 // #### line 2: context switching to Consumer&#39;s thread\r\n    Producer ran: 3 times. // context switching to Producer&#39;s thread\r\n    Consumer awakened // context switching to Consumer&#39;s thread\r\n    Got: 2\r\n    Consumer called notify()\r\n    After get() n is: 2\r\n    Consumer ran: 3 times.\r\n    n: 2 // Consumer&#39;s thread ends here\r\n\r\nCan someone help me understand why, in the above output, at line 2 the value of `n` fetched by consumer is 1 when the producer already produced a new value which is 2 at line 1? Since the same instance of `Q2` are being shared by both the Producer&#39;s and Consumer&#39;s thread why is the changed value of `n` not being reflected at line 2? Also please clarify me the meaning of a threaded object even though I know what a thread is?\r\n\r\nAnd if you don&#39;t see this behavior on running once the above code run a few times and you will see such behavior.\r\n","title":"Why sometimes in the output of the producer-consumer problem, the consumer is getting a previous value instead of the new value produced by producer?","body":"<p>I have this below Java code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Q2 {\n    int n;\n    boolean valueSet = false;\n\n    synchronized int get() {\n        while(!valueSet)\n            try {\n                System.out.println(&quot;Consumer waiting ...&quot;);\n                wait();\n            }\n            catch(InterruptedException e) {\n                System.err.println(&quot;InterruptedException caught&quot;);\n            }\n        System.out.println(&quot;Consumer awakened&quot;);\n        System.out.println(&quot;Got: &quot;+n);\n        valueSet = false;\n        notify();\n        System.out.println(&quot;Consumer called notify()&quot;);\n        return n;\n    }\n\n    synchronized void put(int n) {\n        while(valueSet)\n            try {\n                System.out.println(&quot;Producer waiting ...&quot;);\n                wait();\n            }\n            catch(InterruptedException e) {\n                System.err.println(&quot;InterruptedException caught&quot;);\n            }\n        System.out.println(&quot;Producer awakened&quot;);\n        System.out.println(&quot;Before put n is: &quot; + this.n);\n        this.n = n;\n        valueSet = true;\n        System.out.println(&quot;Put: &quot; + this.n);\n        notify();\n        System.out.println(&quot;Producer called notify()&quot;);\n    }\n}\n\nclass Producer2 implements Runnable {\n    Q2 q;\n    int noOfTimes;\n\n    Producer2(Q2 q) {\n        this.q = q;\n        new Thread(this, &quot;Producer&quot;).start();\n    }\n\n    public void run() {\n        int i=0;\n        noOfTimes=0;\n        while(q.n &lt; 2) {\n            q.put(i++);\n            noOfTimes++;\n        }\n        System.out.println(&quot;Producer ran: &quot; + noOfTimes + &quot; times.&quot;);\n    }\n}\n\nclass Consumer2 implements Runnable {\n    Q2 q;\n    int noOfTimes;\n\n    Consumer2(Q2 q) {\n        this.q = q;\n        new Thread(this, &quot;Consumer&quot;).start();\n    }\n\n    public void run() {\n        int i=0;\n        noOfTimes=0;\n        while(q.n &lt; 2) {\n            System.out.println(&quot;Iteration &quot; + (noOfTimes+1) + &quot;; Before get() n is: &quot; + q.n);\n            int val = q.get();\n            System.out.println(&quot;After get() n is: &quot; + q.n);\n            noOfTimes++;\n        }\n        System.out.println(&quot;Consumer ran: &quot; + noOfTimes + &quot; times.&quot;);\n        System.out.println(&quot;n: &quot; + q.n);\n    }\n}\n\npublic class PCFixed {\n\n    public static void main(String[] args) {\n        Q2 q = new Q2();\n        new Producer2(q);\n        new Consumer2(q); \n    }\n}\n</code></pre>\n<p>One particular output:</p>\n<pre><code>Producer awakened\nBefore put n is: 0 // because n is int and default value of n is 0\nPut: 0 // instance variable n associated with object of Q2 is set to 0\nProducer called notify() // no effect\nProducer waiting ... // thread spawned from Producer waits\nIteration 1; Before get() n is: 0 // context switching to thread spawned from Consumer\nConsumer awakened\nGot: 0\nConsumer called notify()\nAfter get() n is: 0\nIteration 2; Before get() n is: 0\nProducer awakened // context switching to Producer's thread\nBefore put n is: 0\nPut: 1\nProducer called notify()\nProducer waiting ... // Producer's thread waits/sleeps\nConsumer awakened // context switching to Consumer's thread\nGot: 1\nConsumer called notify()\nAfter get() n is: 1\nProducer awakened // context switching to Producer's thread\nBefore put n is: 1\nPut: 2 // #### line 1\nProducer called notify()\nIteration 3; Before get() n is: 1 // #### line 2: context switching to Consumer's thread\nProducer ran: 3 times. // context switching to Producer's thread\nConsumer awakened // context switching to Consumer's thread\nGot: 2\nConsumer called notify()\nAfter get() n is: 2\nConsumer ran: 3 times.\nn: 2 // Consumer's thread ends here\n</code></pre>\n<p>Can someone help me understand why, in the above output, at line 2 the value of <code>n</code> fetched by consumer is 1 when the producer already produced a new value which is 2 at line 1? Since the same instance of <code>Q2</code> are being shared by both the Producer's and Consumer's thread why is the changed value of <code>n</code> not being reflected at line 2? Also please clarify me the meaning of a threaded object even though I know what a thread is?</p>\n<p>And if you don't see this behavior on running once the above code run a few times and you will see such behavior.</p>\n"},{"tags":["java","nan"],"comments":[{"owner":{"account_id":1801353,"reputation":81710,"user_id":1639625,"display_name":"tobias_k"},"score":3,"creation_date":1599138518,"post_id":63724267,"comment_id":112685468,"body_markdown":"You mean something like `n -&gt; Double.isNaN(n) ? -1 : n`?","body":"You mean something like <code>n -&gt; Double.isNaN(n) ? -1 : n</code>?"},{"owner":{"account_id":4333163,"reputation":1673,"user_id":3538065,"accept_rate":44,"display_name":"driftking9987"},"score":0,"creation_date":1599139250,"post_id":63724267,"comment_id":112685853,"body_markdown":"@tobias_k, that&#39;s exactly what I needed. I forgot about `Ternary operators`. Please add it as an answer.","body":"@tobias_k, that&#39;s exactly what I needed. I forgot about <code>Ternary operators</code>. Please add it as an answer."}],"answers":[{"tags":[],"owner":{"account_id":1754145,"reputation":43960,"user_id":1602555,"display_name":"Karol Dowbecki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1599140171,"creation_date":1599139058,"answer_id":63724500,"question_id":63724267,"body_markdown":"There is no build in method because in [Floating-point arithmetic][1] `NaN` constant represents something which is [undefined or unrepresentable][2]. This is not the same as specific value like 0 or -1. See [this question][3] which explains what `NaN` is.\r\n\r\nYou should handle it yourself by writing the right logic in your own method, like you already did with the `if` statement.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Floating-point_arithmetic\r\n  [2]: https://en.wikipedia.org/wiki/NaN\r\n  [3]: https://stackoverflow.com/q/2618059/1602555","title":"Lambda for checking NaN value while passing variable in a function","body":"<p>There is no build in method because in <a href=\"https://en.wikipedia.org/wiki/Floating-point_arithmetic\" rel=\"nofollow noreferrer\">Floating-point arithmetic</a> <code>NaN</code> constant represents something which is <a href=\"https://en.wikipedia.org/wiki/NaN\" rel=\"nofollow noreferrer\">undefined or unrepresentable</a>. This is not the same as specific value like 0 or -1. See <a href=\"https://stackoverflow.com/q/2618059/1602555\">this question</a> which explains what <code>NaN</code> is.</p>\n<p>You should handle it yourself by writing the right logic in your own method, like you already did with the <code>if</code> statement.</p>\n"},{"tags":[],"owner":{"account_id":1801353,"reputation":81710,"user_id":1639625,"display_name":"tobias_k"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1599139701,"creation_date":1599139701,"answer_id":63724694,"question_id":63724267,"body_markdown":"You could just use a ternary `... ? ... : ...` instead of your `if` check and make that a `lambda`:\r\n\r\n    Function&lt;Double, Double&gt; deNan = n -&gt; Double.isNaN(n) ? -1 : n;\r\n\r\nHowever, while this is nice and short, this way you will have to call `apply` on the `Function` instead of being able to call the function directly, i.e. you&#39;d have to do `function_to_called(&quot;variable_string&quot;, deNan.apply(variable_double));`. So instead, you might just define it as a regular method instead of a lambda so you can use it as `deNan(variable_double)`.\r\n\r\nAlso, as already noted, replacing `NaN` with a &quot;special&quot; (or not-so-special) value like `0` or `-1` might actually not be such a good idea. Instead, it might be better to filter out `NaN` values entirely, or to handle them &quot;properly&quot;, whatever that entails in your scenario.","title":"Lambda for checking NaN value while passing variable in a function","body":"<p>You could just use a ternary <code>... ? ... : ...</code> instead of your <code>if</code> check and make that a <code>lambda</code>:</p>\n<pre><code>Function&lt;Double, Double&gt; deNan = n -&gt; Double.isNaN(n) ? -1 : n;\n</code></pre>\n<p>However, while this is nice and short, this way you will have to call <code>apply</code> on the <code>Function</code> instead of being able to call the function directly, i.e. you'd have to do <code>function_to_called(&quot;variable_string&quot;, deNan.apply(variable_double));</code>. So instead, you might just define it as a regular method instead of a lambda so you can use it as <code>deNan(variable_double)</code>.</p>\n<p>Also, as already noted, replacing <code>NaN</code> with a &quot;special&quot; (or not-so-special) value like <code>0</code> or <code>-1</code> might actually not be such a good idea. Instead, it might be better to filter out <code>NaN</code> values entirely, or to handle them &quot;properly&quot;, whatever that entails in your scenario.</p>\n"}],"owner":{"account_id":4333163,"reputation":1673,"user_id":3538065,"accept_rate":44,"display_name":"driftking9987"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":63724694,"answer_count":2,"score":0,"last_activity_date":1671097095,"creation_date":1599138276,"question_id":63724267,"body_markdown":"Is there any lambda expression through which I can replace the `NaN` value to `0` or `-1` while passing it to a function?\r\n\r\nI know I can put a check for `NaN` like this: \r\n\r\n```java\r\nif (Double.isNaN(variable_name))\r\n{\r\n\t\t// make it 0 or -1\r\n}\r\n```\r\n\r\nBut I want to do it using lambda expression like \r\n\r\n```java\r\nfunction_to_called(&quot;variable_string&quot;, variable_double); // have a check if variable double is NaN\r\n```\r\n\r\n ","title":"Lambda for checking NaN value while passing variable in a function","body":"<p>Is there any lambda expression through which I can replace the <code>NaN</code> value to <code>0</code> or <code>-1</code> while passing it to a function?</p>\n<p>I know I can put a check for <code>NaN</code> like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (Double.isNaN(variable_name))\n{\n        // make it 0 or -1\n}\n</code></pre>\n<p>But I want to do it using lambda expression like</p>\n<pre class=\"lang-java prettyprint-override\"><code>function_to_called(&quot;variable_string&quot;, variable_double); // have a check if variable double is NaN\n</code></pre>\n"},{"tags":["java","android","xml","android-studio","android-intent"],"comments":[{"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"score":0,"creation_date":1671036038,"post_id":74801509,"comment_id":132012148,"body_markdown":"What is the class that you want to go to?","body":"What is the class that you want to go to?"},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1671036095,"post_id":74801509,"comment_id":132012177,"body_markdown":"Change `another` to a class name that extends Activity.","body":"Change <code>another</code> to a class name that extends Activity."},{"owner":{"account_id":27253227,"reputation":3,"user_id":20777311,"display_name":"Zairy"},"score":0,"creation_date":1671041114,"post_id":74801509,"comment_id":132013917,"body_markdown":"My class to go is the &quot;another.xml&quot; @TheLibrarian","body":"My class to go is the &quot;another.xml&quot; @TheLibrarian"},{"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"score":0,"creation_date":1671052963,"post_id":74801509,"comment_id":132017183,"body_markdown":"But that not another activity. That&#39;s a layout.","body":"But that not another activity. That&#39;s a layout."},{"owner":{"account_id":27253227,"reputation":3,"user_id":20777311,"display_name":"Zairy"},"score":0,"creation_date":1671080305,"post_id":74801509,"comment_id":132021872,"body_markdown":"Oh so how do I make it go to another layout? @TheLibrarian","body":"Oh so how do I make it go to another layout? @TheLibrarian"},{"owner":{"account_id":23365040,"reputation":802,"user_id":17436751,"display_name":"Sayooj"},"score":0,"creation_date":1671086524,"post_id":74801509,"comment_id":132022895,"body_markdown":"Can you please share your logcat, to get some details of the error","body":"Can you please share your logcat, to get some details of the error"}],"answers":[{"tags":[],"owner":{"account_id":26855967,"reputation":2341,"user_id":20440272,"display_name":"Sohaib Ahmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671091390,"creation_date":1671091390,"answer_id":74808453,"question_id":74801509,"body_markdown":"### Answer # 1 ###\r\n\r\nIf you want to move to another activity\r\n\r\n    class AnotherActivity extends extends Activity {\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.another);\r\n        }\r\n    }\r\n\r\n\r\n\r\nyou must extend your class &quot;AnotherActivity.class&quot; with &quot;Activity&quot; and override **onCreate** method\r\n\r\n### Answer # 2 ###\r\n\r\n    public void x(View view) {\r\n        setContentView(view)\r\n        // OR\r\n        setContentView(R.layout.another)\r\n    }\r\n","title":"How do I fix this error - &quot;Unknown entity &quot;another&quot;&quot;","body":"<h3>Answer # 1</h3>\n<p>If you want to move to another activity</p>\n<pre><code>class AnotherActivity extends extends Activity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.another);\n    }\n}\n</code></pre>\n<p>you must extend your class &quot;AnotherActivity.class&quot; with &quot;Activity&quot; and override <strong>onCreate</strong> method</p>\n<h3>Answer # 2</h3>\n<pre><code>public void x(View view) {\n    setContentView(view)\n    // OR\n    setContentView(R.layout.another)\n}\n</code></pre>\n"}],"owner":{"account_id":27253227,"reputation":3,"user_id":20777311,"display_name":"Zairy"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74808453,"answer_count":1,"score":0,"last_activity_date":1671096798,"creation_date":1671035923,"question_id":74801509,"body_markdown":"Activity that I want to go\r\n\r\n```\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;fill_parent&quot;\r\n    android:layout_height=&quot;fill_parent&quot;\r\n    android:orientation=&quot;vertical&quot;&gt;\r\n  \r\n    &lt;TextView\r\n    \t android:text=&quot;hi&quot;/&gt;\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\nMain Activity\r\n\r\n```\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:gravity=&quot;center&quot;&gt;\r\n\r\n    &lt;Button\r\n\t\tandroid:id=&quot;@+id/x&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n\t\tandroid:onClick=&quot;x&quot;/&gt;\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\nJava (has unknown entity error)\r\n\r\n```\r\npackage com.mycompany.myapp2;\r\n\r\nimport android.app.*;\r\nimport android.os.*;\r\nimport android.view.*;\r\nimport android.content.*;\r\n\r\npublic class MainActivity extends Activity \r\n{\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState)\r\n    {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.main);\r\n    }\r\n\r\n\tpublic void x(View view) {\r\n\r\n\t\tIntent intent = new Intent(this, another.class);\r\n\t\tstartActivity(intent);\r\n\t}\r\n}\r\n```\r\n\r\nI&#39;m trying to make an activity go to another activity, but for some reason it doesn&#39;t work.\r\nI was expecting it to work, like it should with everyone\r\nPlease help it has error &quot;unknown entity&quot; and I don&#39;t know why.\r\n","title":"How do I fix this error - &quot;Unknown entity &quot;another&quot;&quot;","body":"<p>Activity that I want to go</p>\n<pre><code>&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;fill_parent&quot;\n    android:layout_height=&quot;fill_parent&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n  \n    &lt;TextView\n         android:text=&quot;hi&quot;/&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>Main Activity</p>\n<pre><code>&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:gravity=&quot;center&quot;&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/x&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:onClick=&quot;x&quot;/&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>Java (has unknown entity error)</p>\n<pre><code>package com.mycompany.myapp2;\n\nimport android.app.*;\nimport android.os.*;\nimport android.view.*;\nimport android.content.*;\n\npublic class MainActivity extends Activity \n{\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState)\n    {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main);\n    }\n\n    public void x(View view) {\n\n        Intent intent = new Intent(this, another.class);\n        startActivity(intent);\n    }\n}\n</code></pre>\n<p>I'm trying to make an activity go to another activity, but for some reason it doesn't work.\nI was expecting it to work, like it should with everyone\nPlease help it has error &quot;unknown entity&quot; and I don't know why.</p>\n"},{"tags":["java","android","firebase","kotlin","drawable"],"comments":[{"owner":{"account_id":26487448,"reputation":206,"user_id":20125791,"display_name":"Android Newbie A"},"score":1,"creation_date":1671098676,"post_id":74809318,"comment_id":132026340,"body_markdown":"Resource id seems to be generated when the app compiles. So if you are going to recompile your app and print some debug log to find out the resource, it seems not possible to do so.","body":"Resource id seems to be generated when the app compiles. So if you are going to recompile your app and print some debug log to find out the resource, it seems not possible to do so."},{"owner":{"account_id":26487448,"reputation":206,"user_id":20125791,"display_name":"Android Newbie A"},"score":2,"creation_date":1671098941,"post_id":74809318,"comment_id":132026438,"body_markdown":"Also, this may due to the resource is not shared among all device resolution.\nFor example, you put a.png in a xxxhdpi folder, but the actual device is a xhdpi. At the sametime, you haven&#39;t put a default a.png in the origin drawable folder, this will lead to the problem.","body":"Also, this may due to the resource is not shared among all device resolution. For example, you put a.png in a xxxhdpi folder, but the actual device is a xhdpi. At the sametime, you haven&#39;t put a default a.png in the origin drawable folder, this will lead to the problem."},{"owner":{"account_id":26487448,"reputation":206,"user_id":20125791,"display_name":"Android Newbie A"},"score":2,"creation_date":1671099141,"post_id":74809318,"comment_id":132026521,"body_markdown":"And if you want to find out the which resources w/o looking in the folders, you will need to printout the corresponding resource name before you load the resources. REF: https://stackoverflow.com/questions/10137692/how-to-get-resource-name-from-resource-id","body":"And if you want to find out the which resources w/o looking in the folders, you will need to printout the corresponding resource name before you load the resources. REF: <a href=\"https://stackoverflow.com/questions/10137692/how-to-get-resource-name-from-resource-id\" title=\"how to get resource name from resource id\">stackoverflow.com/questions/10137692/&hellip;</a>"},{"owner":{"account_id":19011507,"reputation":136,"user_id":13877337,"display_name":"Begmyrat Mammedov"},"score":1,"creation_date":1671100640,"post_id":74809318,"comment_id":132027032,"body_markdown":"@AndroidNewbieA thank you so much, putting default drawables is so meaningful, and I found that, some png files are only in xhdpi and etc. I will put their defaults, too. Thanks again","body":"@AndroidNewbieA thank you so much, putting default drawables is so meaningful, and I found that, some png files are only in xhdpi and etc. I will put their defaults, too. Thanks again"}],"owner":{"account_id":19011507,"reputation":136,"user_id":13877337,"display_name":"Begmyrat Mammedov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":275,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1671096789,"creation_date":1671096296,"question_id":74809318,"body_markdown":"I got a Resource Not Found exception, but I do not know which drawable causes. Because, the app is in publish and I saw this error on Firebase crashlytics. This is run time error and this crash occurs on only one device - Nexus 5X (Android Version: 8.1.0)\r\n\r\nFirebase says\r\n```Caused by android.content.res.Resources$NotFoundException: Resource ID #0x7f08029f```\r\n\r\nAnd, I want to find the drawable by this hexadecimal Resource ID. Is it possible? If it is, can you help me?\r\n\r\nThanks","title":"How to get drawable with hexadecimal ID in android studio","body":"<p>I got a Resource Not Found exception, but I do not know which drawable causes. Because, the app is in publish and I saw this error on Firebase crashlytics. This is run time error and this crash occurs on only one device - Nexus 5X (Android Version: 8.1.0)</p>\n<p>Firebase says\n<code>Caused by android.content.res.Resources$NotFoundException: Resource ID #0x7f08029f</code></p>\n<p>And, I want to find the drawable by this hexadecimal Resource ID. Is it possible? If it is, can you help me?</p>\n<p>Thanks</p>\n"},{"tags":["java","android","background","live","wallpaper"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1671732929,"post_id":74809421,"comment_id":132166364,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":27259714,"reputation":1,"user_id":20782727,"display_name":"Ugo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671096746,"creation_date":1671096746,"question_id":74809421,"body_markdown":"I am quite new to android and java, and I would like to have a bit of help from you to figure things out.\r\n\r\nI have been working on a live wallpaper app lately, here is what I achieved and my blocking points:\r\n\r\nI use the WallpaperService to create my custom LWP, I change its colors and shapes based on the user preference (preference fragment screen) with preferenceChangeListener.\r\n\r\nMy main activity just handles the preference fragments and UI. Is is my main menu where I can set the WP and change the preferences.\r\n\r\nHere is my problem: I would like to show the live wallpaper preview as background of my main activity.\r\nI haven&#39;t figured out a way to do this so far.\r\n\r\n\r\n\r\nThe only solution I found is to show the wallpaper through the activity by changing my Theme to a transparent one. \r\n\r\nBut this requires to set the wallpaper first. Once the WP is set, my app works exactly the way I want. But before that, my main activity can&#39;t show the WP preview because the service isn&#39;t running yet.\r\n\r\nI don&#39;t think that there&#39;s a way to extract the WP preview from the WP service. I need to change something.\r\n\r\nAlso, I don&#39;t want to show only a sample img of the WP, I really want to run my code and show the results to the user as a preview.\r\n\r\nCould you tell me how to change my code in order to get the correct behavior? I might have to use another class that I could run in parallel or something. It is a bit obscure to me...\r\n\r\nThank you very much!","title":"Preview live wallpaper preview in main activity background","body":"<p>I am quite new to android and java, and I would like to have a bit of help from you to figure things out.</p>\n<p>I have been working on a live wallpaper app lately, here is what I achieved and my blocking points:</p>\n<p>I use the WallpaperService to create my custom LWP, I change its colors and shapes based on the user preference (preference fragment screen) with preferenceChangeListener.</p>\n<p>My main activity just handles the preference fragments and UI. Is is my main menu where I can set the WP and change the preferences.</p>\n<p>Here is my problem: I would like to show the live wallpaper preview as background of my main activity.\nI haven't figured out a way to do this so far.</p>\n<p>The only solution I found is to show the wallpaper through the activity by changing my Theme to a transparent one.</p>\n<p>But this requires to set the wallpaper first. Once the WP is set, my app works exactly the way I want. But before that, my main activity can't show the WP preview because the service isn't running yet.</p>\n<p>I don't think that there's a way to extract the WP preview from the WP service. I need to change something.</p>\n<p>Also, I don't want to show only a sample img of the WP, I really want to run my code and show the results to the user as a preview.</p>\n<p>Could you tell me how to change my code in order to get the correct behavior? I might have to use another class that I could run in parallel or something. It is a bit obscure to me...</p>\n<p>Thank you very much!</p>\n"},{"tags":["java","android-studio","android-mediaplayer","audio-recording"],"owner":{"account_id":23984894,"reputation":13,"user_id":17971825,"display_name":"user17971825"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671096718,"creation_date":1671083724,"question_id":74807340,"body_markdown":"I want to add validation of the save button i.e., check if edit text or recorded audio (one among these two) has been entered by the user or not if both are not entered then the user gets notified that either enter text or record your audio. I have done this code, but it&#39;s getting crashed onClick of save button\r\n\r\n```\r\n\r\nFile fileName = new File(finalpath);\r\nLog.e(&quot;FileName::&quot;,&quot;&quot;+fileName);\r\n//   convertfiletobase64(strreminder_txt, strreminder_time, finalpath, finalStrcheckDialy);\r\nif (listfiles.size()==0) {\r\n    listfiles.add(fileName);\r\n} else {\r\n    if (notifiadapeterpos &lt; listfiles.size()) {\r\n        listfiles.set(notifiadapeterpos, fileName);\r\n    } else {\r\n        listfiles.add(fileName);\r\n    }\r\n}\r\nnotificationPart = prepareFilePart1(listfiles);\r\n\r\nif(mediaRecorder==null&amp;&amp;mediaPlayer==null){\r\n    if (strreminder_txt.isEmpty()){\r\n        Toast.makeText(RegisterMember.this, &quot;Please enter Reminder Text or Record your Reminder!&quot;, Toast.LENGTH_SHORT).show();\r\n    }else {\r\n        if (btnsaveReminder.getText().equals(&quot;Update&quot;)){\r\n            updateReminder(strreminder_txt, strreminder_time, fileName, finalStrcheckDialy,notificationPart);\r\n        }else {\r\n            saveReminder(strreminder_txt, strreminder_time, fileName, finalStrcheckDialy,notificationPart);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nHow to resolve this?","title":"How to find whether audio recording is empty or not?","body":"<p>I want to add validation of the save button i.e., check if edit text or recorded audio (one among these two) has been entered by the user or not if both are not entered then the user gets notified that either enter text or record your audio. I have done this code, but it's getting crashed onClick of save button</p>\n<pre><code>\nFile fileName = new File(finalpath);\nLog.e(&quot;FileName::&quot;,&quot;&quot;+fileName);\n//   convertfiletobase64(strreminder_txt, strreminder_time, finalpath, finalStrcheckDialy);\nif (listfiles.size()==0) {\n    listfiles.add(fileName);\n} else {\n    if (notifiadapeterpos &lt; listfiles.size()) {\n        listfiles.set(notifiadapeterpos, fileName);\n    } else {\n        listfiles.add(fileName);\n    }\n}\nnotificationPart = prepareFilePart1(listfiles);\n\nif(mediaRecorder==null&amp;&amp;mediaPlayer==null){\n    if (strreminder_txt.isEmpty()){\n        Toast.makeText(RegisterMember.this, &quot;Please enter Reminder Text or Record your Reminder!&quot;, Toast.LENGTH_SHORT).show();\n    }else {\n        if (btnsaveReminder.getText().equals(&quot;Update&quot;)){\n            updateReminder(strreminder_txt, strreminder_time, fileName, finalStrcheckDialy,notificationPart);\n        }else {\n            saveReminder(strreminder_txt, strreminder_time, fileName, finalStrcheckDialy,notificationPart);\n        }\n    }\n}\n\n</code></pre>\n<p>How to resolve this?</p>\n"},{"tags":["java","spring","application.properties"],"comments":[{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1671079578,"post_id":74806884,"comment_id":132021766,"body_markdown":"You can check this https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/PropertySource.html","body":"You can check this <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/PropertySource.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/javadoc-api/org&zwnj;&#8203;/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1671080834,"creation_date":1671080834,"answer_id":74807030,"question_id":74806884,"body_markdown":"You dont need to create an application context in the main method like this. The presented code is a kind of mixture of &quot;traditional&quot; spring and spring boot. So you&#39;re kind of bypassing all the goodies that spring boot offers, among which is automatic `application.properties` loading.\r\n\r\nIf you&#39;re using spring boot (there is a `@SpringBootApplication` annotation) then it will create everything by itself.\r\n\r\nUsually it should be something like this\r\n\r\n```java\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(PropertiesdemoApplication.class, args);\r\n\t}\r\n```\r\n","title":"Spring : Cannot get value from application.properties","body":"<p>You dont need to create an application context in the main method like this. The presented code is a kind of mixture of &quot;traditional&quot; spring and spring boot. So you're kind of bypassing all the goodies that spring boot offers, among which is automatic <code>application.properties</code> loading.</p>\n<p>If you're using spring boot (there is a <code>@SpringBootApplication</code> annotation) then it will create everything by itself.</p>\n<p>Usually it should be something like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void main(String[] args) {\n        SpringApplication.run(PropertiesdemoApplication.class, args);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10753100,"reputation":364,"user_id":7911790,"display_name":"Navnath Adsul"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1671080973,"creation_date":1671080973,"answer_id":74807042,"question_id":74806884,"body_markdown":"You are creating `MyClass` bean twice. \r\n\r\n 1. Using `@component` annotation\r\n 2. using `@bean` annotation in the config class (use method name lowerCamelCase i.e. in your case `myClass()`)\r\n\r\n\r\nCreate bean only once using any one of the above.\r\n ","title":"Spring : Cannot get value from application.properties","body":"<p>You are creating <code>MyClass</code> bean twice.</p>\n<ol>\n<li>Using <code>@component</code> annotation</li>\n<li>using <code>@bean</code> annotation in the config class (use method name lowerCamelCase i.e. in your case <code>myClass()</code>)</li>\n</ol>\n<p>Create bean only once using any one of the above.</p>\n"},{"tags":[],"owner":{"account_id":25804254,"reputation":774,"user_id":19546048,"display_name":"DingHao"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1671083825,"creation_date":1671083825,"answer_id":74807357,"question_id":74806884,"body_markdown":"    @SpringBootApplication\r\n    public class PropertiesdemoApplication {\r\n        public static void main(String[] args) {\r\n            ApplicationContext context = SpringApplication.run(PropertiesdemoApplication.class, args);\r\n            MyClass myClass = context.getBean(MyClass.class);\r\n            System.out.println(myClass.getMyProp());\r\n        }\r\n    }","title":"Spring : Cannot get value from application.properties","body":"<pre><code>@SpringBootApplication\npublic class PropertiesdemoApplication {\n    public static void main(String[] args) {\n        ApplicationContext context = SpringApplication.run(PropertiesdemoApplication.class, args);\n        MyClass myClass = context.getBean(MyClass.class);\n        System.out.println(myClass.getMyProp());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17982534,"reputation":58,"user_id":13068500,"display_name":"devalurum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671096713,"creation_date":1671096713,"answer_id":74809412,"question_id":74806884,"body_markdown":"Right, as Navnath Adsul said, you need the bean to be created once, and also, since you are using Spring Boot, you need to raise the context using a special method\r\n    \r\n    @SpringBootApplication\r\n    public class PropertiesdemoApplication implements CommandLineRunner {\r\n    \r\n        // Inject Bean\r\n        @Autowired\r\n        private MyClass myClass;\r\n    \r\n        public static void main(String[] args) {\r\n            new SpringApplicationBuilder()\r\n                    .sources(PropertiesdemoApplication.class)\r\n                    .run(args);\r\n           // or SpringApplication.run(PropertiesdemoApplication.class, args);\r\n\r\n        }\r\n    \r\n        @Override\r\n        public void run(String[] args) throws Exception {\r\n            System.out.println(myClass.getMyProp());                    \r\n        }\r\n    }","title":"Spring : Cannot get value from application.properties","body":"<p>Right, as Navnath Adsul said, you need the bean to be created once, and also, since you are using Spring Boot, you need to raise the context using a special method</p>\n<pre><code>@SpringBootApplication\npublic class PropertiesdemoApplication implements CommandLineRunner {\n\n    // Inject Bean\n    @Autowired\n    private MyClass myClass;\n\n    public static void main(String[] args) {\n        new SpringApplicationBuilder()\n                .sources(PropertiesdemoApplication.class)\n                .run(args);\n       // or SpringApplication.run(PropertiesdemoApplication.class, args);\n\n    }\n\n    @Override\n    public void run(String[] args) throws Exception {\n        System.out.println(myClass.getMyProp());                    \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":110000,"reputation":4107,"user_id":291253,"accept_rate":37,"display_name":"lm."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":830,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74807030,"answer_count":4,"score":0,"last_activity_date":1671096713,"creation_date":1671079154,"question_id":74806884,"body_markdown":"I created Spring project via Spring Initializr with project following struct: \r\n\r\n[![enter image description here][1]][1] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VieQU.png\r\n\r\nI defined property in application.properties file : \r\n\r\n    my.prop=testvalue\r\n\r\nI inject this value into MyClass as following : \r\n\r\n    @Component\r\n    class MyClass {\r\n    \r\n        @Value(&quot;${my.prop}&quot;)\r\n        private String myProp;\r\n    \r\n        public String getMyProp() {\r\n            return myProp;\r\n        }\r\n    }\r\n\r\nConfigBeans defined as following: \r\n\r\n    package com.example.propertiesdemo;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    \r\n    @Configuration\r\n    public class ConfigBeans {\r\n        @Bean\r\n        public MyClass myLitoBean() {\r\n            return new MyClass();\r\n        }\r\n    }\r\n\r\nPropertiesdemoApplication.java :\r\n\r\n    package com.example.propertiesdemo;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.context.ApplicationContext;\r\n    import org.springframework.context.annotation.AnnotationConfigApplicationContext;\r\n    \r\n    @SpringBootApplication\r\n    public class PropertiesdemoApplication {\r\n        public static void main(String[] args) {\r\n    \r\n            ApplicationContext context\r\n                    = new AnnotationConfigApplicationContext(\r\n                            ConfigBeans.class);\r\n            MyClass myClass = context.getBean(MyClass.class);\r\n            System.out.println(myClass.getMyProp());\r\n        }\r\n    }\r\n\r\nI am expecting that after executing line \r\nSystem.out.println(myClass.getMyProp());\r\nwill be printed value of myprop defined in application.properties (i.e testvalue), but after running (via Netbeans IDE) I get output : \r\n\r\n    ${my.prop}\r\n\r\n What was missed / wromg in this code ? Thanks in advance","title":"Spring : Cannot get value from application.properties","body":"<p>I created Spring project via Spring Initializr with project following struct:</p>\n<p><a href=\"https://i.stack.imgur.com/VieQU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VieQU.png\" alt=\"enter image description here\" /></a></p>\n<p>I defined property in application.properties file :</p>\n<pre><code>my.prop=testvalue\n</code></pre>\n<p>I inject this value into MyClass as following :</p>\n<pre><code>@Component\nclass MyClass {\n\n    @Value(&quot;${my.prop}&quot;)\n    private String myProp;\n\n    public String getMyProp() {\n        return myProp;\n    }\n}\n</code></pre>\n<p>ConfigBeans defined as following:</p>\n<pre><code>package com.example.propertiesdemo;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\npublic class ConfigBeans {\n    @Bean\n    public MyClass myLitoBean() {\n        return new MyClass();\n    }\n}\n</code></pre>\n<p>PropertiesdemoApplication.java :</p>\n<pre><code>package com.example.propertiesdemo;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.annotation.AnnotationConfigApplicationContext;\n\n@SpringBootApplication\npublic class PropertiesdemoApplication {\n    public static void main(String[] args) {\n\n        ApplicationContext context\n                = new AnnotationConfigApplicationContext(\n                        ConfigBeans.class);\n        MyClass myClass = context.getBean(MyClass.class);\n        System.out.println(myClass.getMyProp());\n    }\n}\n</code></pre>\n<p>I am expecting that after executing line\nSystem.out.println(myClass.getMyProp());\nwill be printed value of myprop defined in application.properties (i.e testvalue), but after running (via Netbeans IDE) I get output :</p>\n<pre><code>${my.prop}\n</code></pre>\n<p>What was missed / wromg in this code ? Thanks in advance</p>\n"},{"tags":["java","mime-types","apache-tika"],"owner":{"account_id":7161316,"reputation":1090,"user_id":5472004,"display_name":"Martin Tovmassian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671096686,"creation_date":1671096686,"question_id":74809405,"body_markdown":"I&#39;m trying to detect MIME type for the resource located at: `https://www.futureelectronics.com/fr/search/?text=something`.\r\n\r\nBut when running this Java code based on Apache Tika `detect` method it never returns something:\r\n```java\r\npackage mypacakge;\r\n\r\nimport java.io.IOException;\r\nimport java.net.URL;\r\nimport org.apache.tika.Tika;\r\n\r\npublic class ExampleApp {\r\n\r\n\tpublic static void main(String[] args) throws IOException {\r\n\r\n        URL url = new URL(&quot;https://www.futureelectronics.com/fr/search/?text=something&quot;);\r\n        Tika tika = new Tika();\r\n        String mimeType = tika.detect(url);\r\n        System.out.println(mimeType);\r\n    }\r\n\t\r\n}\r\n```\r\nBy investigating the implementation of the `detect` method I saw that it relies on the `java.net.URLConnection` `getContentType` method. And this is the one that is blocking.\r\n\r\nSo here I have two questions:\r\n- Do you have any idea why this specific URL is causing Tika `detect` to hang?\r\n- `java.net.URLConnection` can have a read timeout configured. But from the Tika library level how can I control this read timeout configuration?\r\n\r\nMy Tika version:\r\n```xml\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;tika-core&lt;/artifactId&gt;\r\n\t    &lt;version&gt;2.6.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n```","title":"Apache Tika hangs forever while detecting MIME type from URL","body":"<p>I'm trying to detect MIME type for the resource located at: <code>https://www.futureelectronics.com/fr/search/?text=something</code>.</p>\n<p>But when running this Java code based on Apache Tika <code>detect</code> method it never returns something:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package mypacakge;\n\nimport java.io.IOException;\nimport java.net.URL;\nimport org.apache.tika.Tika;\n\npublic class ExampleApp {\n\n    public static void main(String[] args) throws IOException {\n\n        URL url = new URL(&quot;https://www.futureelectronics.com/fr/search/?text=something&quot;);\n        Tika tika = new Tika();\n        String mimeType = tika.detect(url);\n        System.out.println(mimeType);\n    }\n    \n}\n</code></pre>\n<p>By investigating the implementation of the <code>detect</code> method I saw that it relies on the <code>java.net.URLConnection</code> <code>getContentType</code> method. And this is the one that is blocking.</p>\n<p>So here I have two questions:</p>\n<ul>\n<li>Do you have any idea why this specific URL is causing Tika <code>detect</code> to hang?</li>\n<li><code>java.net.URLConnection</code> can have a read timeout configured. But from the Tika library level how can I control this read timeout configuration?</li>\n</ul>\n<p>My Tika version:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\n        &lt;artifactId&gt;tika-core&lt;/artifactId&gt;\n        &lt;version&gt;2.6.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","ftp","find","expression","talend"],"comments":[{"owner":{"account_id":13407034,"reputation":755,"user_id":9674760,"display_name":"Amine Ben Khelifa"},"score":0,"creation_date":1667312478,"post_id":74272029,"comment_id":131134918,"body_markdown":"You can do this : tfileList -&gt; tjava(dummy just print the names and filepaths) -&gt;  thashouput","body":"You can do this : tfileList -&gt; tjava(dummy just print the names and filepaths) -&gt;  thashouput"},{"owner":{"account_id":13407034,"reputation":755,"user_id":9674760,"display_name":"Amine Ben Khelifa"},"score":0,"creation_date":1667312603,"post_id":74272029,"comment_id":131134967,"body_markdown":"Onsubjok ok thashinput (get the same schema of thashoutput) -&gt; tfilterrow( equals context.filename) -&gt; tlogrow","body":"Onsubjok ok thashinput (get the same schema of thashoutput) -&gt; tfilterrow( equals context.filename) -&gt; tlogrow"},{"owner":{"account_id":26613510,"reputation":23,"user_id":20233333,"display_name":"Emilia"},"score":0,"creation_date":1667315951,"post_id":74272029,"comment_id":131136231,"body_markdown":"Thanks for the response,again this is also taking long time to find/search based on the filename since the folder has around 50k odd files in there\nin my tfilelist i have the value for DIRECTORY as context.dir+&quot;\\\\&quot;\nFilemask as context.filename\n\ntfilelist-tjava-thashboutput\n|\nonsubjok\n|\nthashinput-&gt;tfilterrow-tlogrow\n\ntfliterrow has  file_name(inputcolumn) equals context.filename(value)","body":"Thanks for the response,again this is also taking long time to find/search based on the filename since the folder has around 50k odd files in there in my tfilelist i have the value for DIRECTORY as context.dir+&quot;\\\\&quot; Filemask as context.filename  tfilelist-tjava-thashboutput | onsubjok | thashinput-&gt;tfilterrow-tlogrow  tfliterrow has  file_name(inputcolumn) equals context.filename(value)"},{"owner":{"account_id":26613510,"reputation":23,"user_id":20233333,"display_name":"Emilia"},"score":0,"creation_date":1667316010,"post_id":74272029,"comment_id":131136254,"body_markdown":"Everytime i use filerow or direct upload from tftpput ,its taking a long time to search and match the specific file from the folder since its time consuming to find a exact match among 50k files?","body":"Everytime i use filerow or direct upload from tftpput ,its taking a long time to search and match the specific file from the folder since its time consuming to find a exact match among 50k files?"},{"owner":{"account_id":13407034,"reputation":755,"user_id":9674760,"display_name":"Amine Ben Khelifa"},"score":0,"creation_date":1667374638,"post_id":74272029,"comment_id":131149345,"body_markdown":"could you show me your job design ?","body":"could you show me your job design ?"},{"owner":{"account_id":26613510,"reputation":23,"user_id":20233333,"display_name":"Emilia"},"score":0,"creation_date":1667588745,"post_id":74272029,"comment_id":131210424,"body_markdown":"Thanks Amine,i was able to get them into staging directory first and then do the upload,it worked well!","body":"Thanks Amine,i was able to get them into staging directory first and then do the upload,it worked well!"}],"owner":{"account_id":26613510,"reputation":23,"user_id":20233333,"display_name":"Emilia"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671096544,"creation_date":1667282083,"question_id":74272029,"body_markdown":"Is there a way to get exactly one file based on the exact match in filename from the list of 50000 files from the source local directory and upload it to FTP remote directory?\r\n\r\nJOB:\r\n```\r\ncontext.dir=&quot;\\\\Test\\filter\\sample\\MATCHES\\ABC123&quot;;\r\n\r\ncontext.filename=&quot;ABC_XYZ_Test_123.csv&quot;\r\n\r\ncontext.destinationdir=&quot;\\Upload\\&quot;\r\n```\r\n\r\nI was able to use global variables to extract the `context.dir &amp;&amp; context.filename` and store in it. Now the `context.dir` has 50000 files and I need to filter or look for the exact match for one specific filename namely ABC_XYZ_Test_123.csv from the local folder `\\\\\\\\Test\\\\filter\\\\sample\\\\MATCHES\\\\ABC123`\r\n\r\nCorrespondingly upload the file to FTP site:\r\n\r\n`tjava--row1--&gt;tftpput`\r\n\r\n**tFTPput** has the below attributes configured:\r\n```\r\nLOCAL DIRECTORY:context.dir+&quot;\\\\&quot; \r\nRemote directory:context.destinationdir\r\nFilemask:context.filename\r\n```\r\n\r\nIf I try executing the above job it takes forever to complete a single upload (either its upload to match &amp; retrieve the file from the source local folder since there are 50000 files OR the time taken to upload each file worth 100&#39;s of MB of data is long)\r\n\r\nUnsure what is causing the delay, is there any way to finetune the job to make it work faster &amp; efficiently?","title":"Using tFTPput to fetch a single file amongst 50000 files from the source local directory to upload to FTP","body":"<p>Is there a way to get exactly one file based on the exact match in filename from the list of 50000 files from the source local directory and upload it to FTP remote directory?</p>\n<p>JOB:</p>\n<pre><code>context.dir=&quot;\\\\Test\\filter\\sample\\MATCHES\\ABC123&quot;;\n\ncontext.filename=&quot;ABC_XYZ_Test_123.csv&quot;\n\ncontext.destinationdir=&quot;\\Upload\\&quot;\n</code></pre>\n<p>I was able to use global variables to extract the <code>context.dir &amp;&amp; context.filename</code> and store in it. Now the <code>context.dir</code> has 50000 files and I need to filter or look for the exact match for one specific filename namely ABC_XYZ_Test_123.csv from the local folder <code>\\\\\\\\Test\\\\filter\\\\sample\\\\MATCHES\\\\ABC123</code></p>\n<p>Correspondingly upload the file to FTP site:</p>\n<p><code>tjava--row1--&gt;tftpput</code></p>\n<p><strong>tFTPput</strong> has the below attributes configured:</p>\n<pre><code>LOCAL DIRECTORY:context.dir+&quot;\\\\&quot; \nRemote directory:context.destinationdir\nFilemask:context.filename\n</code></pre>\n<p>If I try executing the above job it takes forever to complete a single upload (either its upload to match &amp; retrieve the file from the source local folder since there are 50000 files OR the time taken to upload each file worth 100's of MB of data is long)</p>\n<p>Unsure what is causing the delay, is there any way to finetune the job to make it work faster &amp; efficiently?</p>\n"},{"tags":["java","rest","http-headers"],"comments":[{"owner":{"account_id":34671,"reputation":8309,"user_id":98044,"accept_rate":95,"display_name":"Vini"},"score":0,"creation_date":1671094534,"post_id":74808552,"comment_id":132024924,"body_markdown":"`smsEndpoint` contains your end-point URL and has not been modified in your code (code adds headers and entity). What parameters do you want to send as a part of the URL?","body":"<code>smsEndpoint</code> contains your end-point URL and has not been modified in your code (code adds headers and entity). What parameters do you want to send as a part of the URL?"},{"owner":{"account_id":11155940,"reputation":75,"user_id":8187659,"display_name":"slema imen"},"score":0,"creation_date":1671094770,"post_id":74808552,"comment_id":132024987,"body_markdown":"sms is a request body that not been send into the url","body":"sms is a request body that not been send into the url"},{"owner":{"account_id":34671,"reputation":8309,"user_id":98044,"accept_rate":95,"display_name":"Vini"},"score":0,"creation_date":1671095773,"post_id":74808552,"comment_id":132025322,"body_markdown":"For POST, the values are sent in the request body and not in the URL. Are you trying to get the &#39;params&#39; on the sever side?  You will get that in the request body.","body":"For POST, the values are sent in the request body and not in the URL. Are you trying to get the &#39;params&#39; on the sever side?  You will get that in the request body."},{"owner":{"account_id":34671,"reputation":8309,"user_id":98044,"accept_rate":95,"display_name":"Vini"},"score":0,"creation_date":1671097192,"post_id":74808552,"comment_id":132025781,"body_markdown":"This question explains the difference on how the data is sent in a POST request in great detail - https://stackoverflow.com/questions/14551194/how-are-parameters-sent-in-an-http-post-request","body":"This question explains the difference on how the data is sent in a POST request in great detail - <a href=\"https://stackoverflow.com/questions/14551194/how-are-parameters-sent-in-an-http-post-request\" title=\"how are parameters sent in an http post request\">stackoverflow.com/questions/14551194/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2338104,"reputation":9101,"user_id":2049986,"accept_rate":89,"display_name":"Jacob van Lingen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671096335,"creation_date":1671096335,"answer_id":74809328,"question_id":74808552,"body_markdown":"Adding an entity to a `HttpPost` will add a body. If you want to add parameters, you have to add it to the url. At the moment your URL is the `smsEndpoint`.\r\n\r\nYou can just add the parameters there:\r\n\r\n    List&lt;NameValuePair&gt; nameValuePairs = new ArrayList&lt;&gt;();\r\n    nameValuePairs.add(new BasicNameValuePair(&quot;param1&quot;, &quot;value1&quot;));\r\n\r\n    HttpPost httpPost = new HttpPost(smsEndpoint);\r\n    URI uri = new URIBuilder(httpPost.getURI())\r\n                .addParameters(nameValuePairs)\r\n                .build();\r\n    httpPost.setURI(uri);\r\n\r\n\r\nSee also: https://www.baeldung.com/apache-httpclient-parameters!","title":"How to set parameters into URL HttpPost?","body":"<p>Adding an entity to a <code>HttpPost</code> will add a body. If you want to add parameters, you have to add it to the url. At the moment your URL is the <code>smsEndpoint</code>.</p>\n<p>You can just add the parameters there:</p>\n<pre><code>List&lt;NameValuePair&gt; nameValuePairs = new ArrayList&lt;&gt;();\nnameValuePairs.add(new BasicNameValuePair(&quot;param1&quot;, &quot;value1&quot;));\n\nHttpPost httpPost = new HttpPost(smsEndpoint);\nURI uri = new URIBuilder(httpPost.getURI())\n            .addParameters(nameValuePairs)\n            .build();\nhttpPost.setURI(uri);\n</code></pre>\n<p>See also: <a href=\"https://www.baeldung.com/apache-httpclient-parameters\" rel=\"nofollow noreferrer\">https://www.baeldung.com/apache-httpclient-parameters</a>!</p>\n"}],"owner":{"account_id":11155940,"reputation":75,"user_id":8187659,"display_name":"slema imen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":327,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671096335,"creation_date":1671091985,"question_id":74808552,"body_markdown":"I&#39;m using Apache HttpClient to send sms via my project, I have this  function:\r\n\r\n      public void sendSMS(SMS sms) throws IOException {\r\n        String auth = smsUsername + &quot;:&quot; + smsPassword;\r\n        byte[] encodedAuth = encodeBase64(auth.getBytes(StandardCharsets.ISO_8859_1));\r\n        \r\n        ObjectMapper oMapper = new ObjectMapper();    \r\n        Map&lt;String, Object&gt; map = oMapper.convertValue(sms, Map.class);\r\n        StringEntity params = new StringEntity(map.toString());       \r\n\r\n        HttpPost post = new HttpPost(smsEndpoint);\r\n        post.setHeader(HttpHeaders.AUTHORIZATION, &quot;Basic &quot; + new String(encodedAuth));   \r\n        post.setHeader(&quot;Accept&quot;, &quot;application/json&quot;);\r\n        post.setHeader(&quot;Content-type&quot;, &quot;application/json&quot;);\r\n        post.setEntity(params);       \r\n        \r\n        try (CloseableHttpClient httpClient = HttpClients.createDefault();\r\n                CloseableHttpResponse response = httpClient.execute(post)) {\r\n            LOGGER.log(Level.INFO, () -&gt; &quot;the response: &quot; + response.toString());\r\n        }\r\n    }\r\n\r\nMy problem is the parameters into the url are empty, how do I resolve that? Thanks in advance.","title":"How to set parameters into URL HttpPost?","body":"<p>I'm using Apache HttpClient to send sms via my project, I have this  function:</p>\n<pre><code>  public void sendSMS(SMS sms) throws IOException {\n    String auth = smsUsername + &quot;:&quot; + smsPassword;\n    byte[] encodedAuth = encodeBase64(auth.getBytes(StandardCharsets.ISO_8859_1));\n    \n    ObjectMapper oMapper = new ObjectMapper();    \n    Map&lt;String, Object&gt; map = oMapper.convertValue(sms, Map.class);\n    StringEntity params = new StringEntity(map.toString());       \n\n    HttpPost post = new HttpPost(smsEndpoint);\n    post.setHeader(HttpHeaders.AUTHORIZATION, &quot;Basic &quot; + new String(encodedAuth));   \n    post.setHeader(&quot;Accept&quot;, &quot;application/json&quot;);\n    post.setHeader(&quot;Content-type&quot;, &quot;application/json&quot;);\n    post.setEntity(params);       \n    \n    try (CloseableHttpClient httpClient = HttpClients.createDefault();\n            CloseableHttpResponse response = httpClient.execute(post)) {\n        LOGGER.log(Level.INFO, () -&gt; &quot;the response: &quot; + response.toString());\n    }\n}\n</code></pre>\n<p>My problem is the parameters into the url are empty, how do I resolve that? Thanks in advance.</p>\n"},{"tags":["java","amazon-web-services","aws-lambda","aws-sdk","aws-api-gateway"],"answers":[{"tags":[],"owner":{"account_id":544362,"reputation":45,"user_id":913781,"accept_rate":0,"display_name":"Chandan Sarma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567423555,"creation_date":1567423555,"answer_id":57756121,"question_id":57755897,"body_markdown":"I have able to resolve this issue by giving appropriate role for Lamda execution  .","title":"Aws api gateway integration via Java SDK with Lambda function giving Role ARN must be specified for AWS integrations exception","body":"<p>I have able to resolve this issue by giving appropriate role for Lamda execution  .</p>\n"}],"owner":{"account_id":544362,"reputation":45,"user_id":913781,"accept_rate":0,"display_name":"Chandan Sarma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":653,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671096249,"creation_date":1567422514,"question_id":57755897,"body_markdown":"I have tried to integrate aws Api gateway with Lambda using Java SDK . I am able to get the  target API and respective Lambda using JAVA SDK. \r\n\r\nI am able to get the target API from java SDK\r\nI am able to get the Lambda from the account .\r\nBut the integration code is not working and giving me  com.amazonaws.services.apigateway.model.BadRequestException: Role ARN must be specified for AWS integration\r\n\r\nBasicAWSCredentials awsCreds = new BasicAWSCredentials(AWS_ACCESS_KEY, AWS_SECRET_KEY);\r\n\r\n\t\t// prepare getway object\r\n\t\tAmazonApiGateway gateway = AmazonApiGatewayClientBuilder.standard().withCredentials(\r\n\t\t\t\tnew AWSStaticCredentialsProvider(awsCreds)).withRegion(Regions.US_EAST_1).build();\r\n\r\n\t\t// find all rest apis\r\n\t\tGetRestApisResult restApis = gateway.getRestApis(new GetRestApisRequest());\r\n\t\tSystem.out.println(&quot;restApis&quot; + restApis);\r\n\r\n\t\t// find our predefined api by name\r\n\t\tRestApi targetRestApi = restApis.getItems().stream().filter(item -&gt; item.getName().equals(&quot;dockertest&quot;))\r\n\t\t\t\t.findFirst().orElseThrow(RuntimeException::new);\r\n\t\tSystem.out.println(targetRestApi);\r\n\r\n\t\tList&lt;Resource&gt; resources = gateway.getResources(new GetResourcesRequest().withRestApiId(targetRestApi.getId()))\r\n\t\t\t\t.getItems();\r\n\r\n\t\tSystem.out.println(&quot;resources&quot; + resources);\r\n\t\tResource rootResource = resources.stream().filter(resource -&gt; resource.getId().equals(&quot;knk0ie&quot;)).findFirst()\r\n\t\t\t\t.orElseThrow(RuntimeException::new);\r\n\r\n\t\tSystem.out.println(&quot;rootResource&quot; + rootResource);\r\n\t\tAWSLambda awsLambda = AWSLambdaClientBuilder.standard().withCredentials(new AWSStaticCredentialsProvider(\r\n\t\t\t\t\tawsCreds)).withRegion(Regions.US_EAST_1).build();\r\n\t\tFunctionConfiguration targetFunction = awsLambda.getFunction(new GetFunctionRequest().withFunctionName(\r\n\t\t\t\t\t&quot;MyFunction&quot;)).getConfiguration();\r\n\r\n\t\tSystem.out.println(&quot;targetFunction&quot; + targetFunction);\r\n\r\n\t\tgateway.putIntegration(new PutIntegrationRequest().withCredentials(\r\n\t\t\t\tnull).withIntegrationHttpMethod(&quot;GET&quot;).withHttpMethod(&quot;GET&quot;).withType(\r\n\t\t\t\tIntegrationType.AWS).withRestApiId(\r\n\t\t\t\ttargetRestApi.getId()).withResourceId(rootResource.getId()).withPassthroughBehavior(&quot;WHEN_NO_MATCH&quot;)\r\n\t\t\t.withUri(\r\n\t\t\t\tString.format(\r\n\t\t\t\t\t&quot;arn:aws:apigateway:xxxxxx:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:xxxxxx:&quot;\r\n\t\t\t\t\t+ &quot;function:MyFunction/invocations\\&quot;\\r\\n&quot;\r\n\t\t\t\t\t/* + &quot;&quot;, targetFunction.getFunctionArn() */)));","title":"Aws api gateway integration via Java SDK with Lambda function giving Role ARN must be specified for AWS integrations exception","body":"<p>I have tried to integrate aws Api gateway with Lambda using Java SDK . I am able to get the  target API and respective Lambda using JAVA SDK.</p>\n<p>I am able to get the target API from java SDK\nI am able to get the Lambda from the account .\nBut the integration code is not working and giving me  com.amazonaws.services.apigateway.model.BadRequestException: Role ARN must be specified for AWS integration</p>\n<p>BasicAWSCredentials awsCreds = new BasicAWSCredentials(AWS_ACCESS_KEY, AWS_SECRET_KEY);</p>\n<pre><code>    // prepare getway object\n    AmazonApiGateway gateway = AmazonApiGatewayClientBuilder.standard().withCredentials(\n            new AWSStaticCredentialsProvider(awsCreds)).withRegion(Regions.US_EAST_1).build();\n\n    // find all rest apis\n    GetRestApisResult restApis = gateway.getRestApis(new GetRestApisRequest());\n    System.out.println(&quot;restApis&quot; + restApis);\n\n    // find our predefined api by name\n    RestApi targetRestApi = restApis.getItems().stream().filter(item -&gt; item.getName().equals(&quot;dockertest&quot;))\n            .findFirst().orElseThrow(RuntimeException::new);\n    System.out.println(targetRestApi);\n\n    List&lt;Resource&gt; resources = gateway.getResources(new GetResourcesRequest().withRestApiId(targetRestApi.getId()))\n            .getItems();\n\n    System.out.println(&quot;resources&quot; + resources);\n    Resource rootResource = resources.stream().filter(resource -&gt; resource.getId().equals(&quot;knk0ie&quot;)).findFirst()\n            .orElseThrow(RuntimeException::new);\n\n    System.out.println(&quot;rootResource&quot; + rootResource);\n    AWSLambda awsLambda = AWSLambdaClientBuilder.standard().withCredentials(new AWSStaticCredentialsProvider(\n                awsCreds)).withRegion(Regions.US_EAST_1).build();\n    FunctionConfiguration targetFunction = awsLambda.getFunction(new GetFunctionRequest().withFunctionName(\n                &quot;MyFunction&quot;)).getConfiguration();\n\n    System.out.println(&quot;targetFunction&quot; + targetFunction);\n\n    gateway.putIntegration(new PutIntegrationRequest().withCredentials(\n            null).withIntegrationHttpMethod(&quot;GET&quot;).withHttpMethod(&quot;GET&quot;).withType(\n            IntegrationType.AWS).withRestApiId(\n            targetRestApi.getId()).withResourceId(rootResource.getId()).withPassthroughBehavior(&quot;WHEN_NO_MATCH&quot;)\n        .withUri(\n            String.format(\n                &quot;arn:aws:apigateway:xxxxxx:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:xxxxxx:&quot;\n                + &quot;function:MyFunction/invocations\\&quot;\\r\\n&quot;\n                /* + &quot;&quot;, targetFunction.getFunctionArn() */)));\n</code></pre>\n"},{"tags":["java","android","android-studio","onesignal"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1671096581,"post_id":71098037,"comment_id":132025590,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a>"}],"answers":[{"tags":[],"owner":{"account_id":9945338,"reputation":2500,"user_id":7360275,"display_name":"Osama Remlawi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671096106,"creation_date":1671096106,"answer_id":74809280,"question_id":71098037,"body_markdown":"OneSignal has a [guide][1] for the migration from SDK 3.x to 4.x\r\n\r\nAlso you may have a look over [this answer][2], it could be a useful implementation.\r\n\r\n\r\n  [1]: https://documentation.onesignal.com/v7.0/docs/40-api-android-native\r\n  [2]: https://stackoverflow.com/a/74808433/7360275","title":"Error updating from onesignal 3.x.x to 4.x.x sdk","body":"<p>OneSignal has a <a href=\"https://documentation.onesignal.com/v7.0/docs/40-api-android-native\" rel=\"nofollow noreferrer\">guide</a> for the migration from SDK 3.x to 4.x</p>\n<p>Also you may have a look over <a href=\"https://stackoverflow.com/a/74808433/7360275\">this answer</a>, it could be a useful implementation.</p>\n"}],"owner":{"account_id":19471650,"reputation":11,"user_id":14243882,"display_name":"Mhmad Farooq"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":611,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671096106,"creation_date":1644728344,"question_id":71098037,"body_markdown":"I am a newbie in android studio/java programming, I have an already built source code for a webview application.\r\nI updated the onesignal sdk from &#39;com.onesignal:OneSignal:[3.0.0, 3.99.99]&#39; to the &#39;com.onesignal:OneSignal:[4.0.0, 4.99.99]&#39;, but I got an error in my app.java when trying to sync the gradle and building the app.\r\n\r\n[error while building][1]\r\n\r\n\r\n**My build.gradle:**\r\n\r\n    buildscript {\r\n        repositories {\r\n            maven { url &#39;https://plugins.gradle.org/m2/&#39;}\r\n        }\r\n        dependencies {\r\n            classpath &#39;gradle.plugin.com.onesignal:onesignal-gradle-plugin:0.14.0&#39;\r\n        }\r\n    }\r\n    \r\n    apply plugin: &#39;com.onesignal.androidsdk.onesignal-gradle-plugin&#39;\r\n    apply plugin: &#39;com.android.application&#39;\r\n    \r\n    android {\r\n        compileSdkVersion 31\r\n        buildToolsVersion &#39;30.0.2&#39;\r\n    \r\n        defaultConfig {\r\n            applicationId &#39;com.ortho.fixar&#39;\r\n            minSdkVersion 16\r\n            targetSdkVersion 31\r\n            versionCode 4\r\n            versionName &quot;1.3&quot;\r\n            multiDexEnabled true\r\n    \r\n    //        manifestPlaceholders = [\r\n    //                onesignal_app_id: &#39;&#39;,\r\n    //                onesignal_google_project_number: &#39;REMOTE&#39;]\r\n        }\r\n        signingConfigs {\r\n            release {\r\n                storeFile file(&quot;&quot;)\r\n                storePassword &quot;&quot;\r\n                keyAlias &quot;keystore&quot;\r\n                keyPassword &quot;&quot;\r\n            }\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n                signingConfig signingConfigs.release\r\n            }\r\n        }\r\n        dexOptions {\r\n            preDexLibraries = false\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n        implementation &#39;androidx.appcompat:appcompat:1.2.0&#39;\r\n        implementation &#39;com.google.android.material:material:1.2.1&#39;\r\n        implementation &#39;com.google.firebase:firebase-analytics:18.0.1&#39;\r\n        //implementation &quot;com.google.android.gms:play-services-gcm:$gps_version&quot;\r\n        //implementation &quot;com.google.android.gms:play-services-ads:$gps_version&quot;\r\n        //implementation &quot;com.google.android.gms:play-services-analytics:$gps_version&quot;\r\n        implementation &#39;com.onesignal:OneSignal:[4.0.0, 4.99.99]&#39;\r\n        implementation &#39;androidx.multidex:multidex:2.0.1&#39;\r\n        implementation &#39;com.google.firebase:firebase-ads:18.3.0&#39;\r\n        implementation &#39;com.google.android.gms:play-services-ads:18.3.0&#39;\r\n    \r\n    }\r\n    \r\n    apply plugin: &#39;com.google.gms.google-services&#39;\r\n\r\n**My app.java:**\r\n\r\n    package com.ortho.fixar;\r\n    \r\n    import android.content.Intent;\r\n    import android.net.Uri;\r\n    import androidx.multidex.MultiDexApplication;\r\n    import android.text.TextUtils;\r\n    import android.util.Log;\r\n    \r\n    import com.google.android.gms.ads.MobileAds;\r\n    import com.google.android.gms.ads.initialization.InitializationStatus;\r\n    import com.google.android.gms.ads.initialization.OnInitializationCompleteListener;\r\n    import com.google.firebase.analytics.FirebaseAnalytics;\r\n    import com.onesignal.OSNotificationOpenResult;\r\n    import com.onesignal.OneSignal;\r\n    import com.ortho.fixar.activity.MainActivity;\r\n    \r\n    import org.json.JSONObject;\r\n    \r\n    public class App extends MultiDexApplication {\r\n    \r\n          private String push_url = null;\r\n        private FirebaseAnalytics mFirebaseAnalytics;\r\n    \r\n        @Override public void onCreate() {\r\n            super.onCreate();\r\n    \r\n            if (Config.ANALYTICS_ID.length() &gt; 0) {\r\n                mFirebaseAnalytics = FirebaseAnalytics.getInstance(this);\r\n            }\r\n    \r\n            //OneSignal Push\r\n            if (!TextUtils.isEmpty(getString(R.string.onesignal_app_id)))\r\n                OneSignal.init(this, &quot;REMOTE&quot;, getString(R.string.onesignal_app_id), new NotificationHandler());\r\n        }\r\n    \r\n        // This fires when a notification is opened by tapping on it or one is received while the app is running.\r\n        private class NotificationHandler implements OneSignal.NotificationOpenedHandler {\r\n            // This fires when a notification is opened by tapping on it.\r\n            @Override\r\n            public void notificationOpened(OSNotificationOpenResult result) {\r\n                try {\r\n                    JSONObject data = result.notification.payload.additionalData;\r\n    \r\n                    String webViewUrl = (data != null) ? data.optString(&quot;url&quot;, null) : null;\r\n                    String browserUrl = result.notification.payload.launchURL;\r\n    \r\n                    if (webViewUrl != null || browserUrl != null) {\r\n                        if (browserUrl != null || result.notification.isAppInFocus) {\r\n                            browserUrl = (browserUrl == null) ? webViewUrl : browserUrl;\r\n                            Intent browserIntent = new Intent(Intent.ACTION_VIEW, Uri.parse(browserUrl));\r\n                            startActivity(browserIntent);\r\n                            Log.v(&quot;INFO&quot;, &quot;Received notification while app was on foreground or url for browser&quot;);\r\n                        } else {\r\n                            push_url = webViewUrl;\r\n                        }\r\n                    } else if (!result.notification.isAppInFocus) {\r\n                        Intent mainIntent;\r\n                        mainIntent = new Intent(App.this, MainActivity.class);\r\n                        mainIntent.setFlags(Intent.FLAG_ACTIVITY_REORDER_TO_FRONT | Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                        startActivity(mainIntent);\r\n                    }\r\n    \r\n    \r\n                } catch (Throwable t) {\r\n                    t.printStackTrace();\r\n                }\r\n            }\r\n    \r\n        }\r\n    \r\n        public synchronized String getPushUrl(){\r\n            String url = push_url;\r\n            push_url = null;\r\n            return url;\r\n        }\r\n    \r\n        public synchronized void setPushUrl(String url){\r\n            this.push_url = url;\r\n        }\r\n    } \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bQbP1.png","title":"Error updating from onesignal 3.x.x to 4.x.x sdk","body":"<p>I am a newbie in android studio/java programming, I have an already built source code for a webview application.\nI updated the onesignal sdk from 'com.onesignal:OneSignal:[3.0.0, 3.99.99]' to the 'com.onesignal:OneSignal:[4.0.0, 4.99.99]', but I got an error in my app.java when trying to sync the gradle and building the app.</p>\n<p><a href=\"https://i.stack.imgur.com/bQbP1.png\" rel=\"nofollow noreferrer\">error while building</a></p>\n<p><strong>My build.gradle:</strong></p>\n<pre><code>buildscript {\n    repositories {\n        maven { url 'https://plugins.gradle.org/m2/'}\n    }\n    dependencies {\n        classpath 'gradle.plugin.com.onesignal:onesignal-gradle-plugin:0.14.0'\n    }\n}\n\napply plugin: 'com.onesignal.androidsdk.onesignal-gradle-plugin'\napply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 31\n    buildToolsVersion '30.0.2'\n\n    defaultConfig {\n        applicationId 'com.ortho.fixar'\n        minSdkVersion 16\n        targetSdkVersion 31\n        versionCode 4\n        versionName &quot;1.3&quot;\n        multiDexEnabled true\n\n//        manifestPlaceholders = [\n//                onesignal_app_id: '',\n//                onesignal_google_project_number: 'REMOTE']\n    }\n    signingConfigs {\n        release {\n            storeFile file(&quot;&quot;)\n            storePassword &quot;&quot;\n            keyAlias &quot;keystore&quot;\n            keyPassword &quot;&quot;\n        }\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n            signingConfig signingConfigs.release\n        }\n    }\n    dexOptions {\n        preDexLibraries = false\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n    implementation 'androidx.appcompat:appcompat:1.2.0'\n    implementation 'com.google.android.material:material:1.2.1'\n    implementation 'com.google.firebase:firebase-analytics:18.0.1'\n    //implementation &quot;com.google.android.gms:play-services-gcm:$gps_version&quot;\n    //implementation &quot;com.google.android.gms:play-services-ads:$gps_version&quot;\n    //implementation &quot;com.google.android.gms:play-services-analytics:$gps_version&quot;\n    implementation 'com.onesignal:OneSignal:[4.0.0, 4.99.99]'\n    implementation 'androidx.multidex:multidex:2.0.1'\n    implementation 'com.google.firebase:firebase-ads:18.3.0'\n    implementation 'com.google.android.gms:play-services-ads:18.3.0'\n\n}\n\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n<p><strong>My app.java:</strong></p>\n<pre><code>package com.ortho.fixar;\n\nimport android.content.Intent;\nimport android.net.Uri;\nimport androidx.multidex.MultiDexApplication;\nimport android.text.TextUtils;\nimport android.util.Log;\n\nimport com.google.android.gms.ads.MobileAds;\nimport com.google.android.gms.ads.initialization.InitializationStatus;\nimport com.google.android.gms.ads.initialization.OnInitializationCompleteListener;\nimport com.google.firebase.analytics.FirebaseAnalytics;\nimport com.onesignal.OSNotificationOpenResult;\nimport com.onesignal.OneSignal;\nimport com.ortho.fixar.activity.MainActivity;\n\nimport org.json.JSONObject;\n\npublic class App extends MultiDexApplication {\n\n      private String push_url = null;\n    private FirebaseAnalytics mFirebaseAnalytics;\n\n    @Override public void onCreate() {\n        super.onCreate();\n\n        if (Config.ANALYTICS_ID.length() &gt; 0) {\n            mFirebaseAnalytics = FirebaseAnalytics.getInstance(this);\n        }\n\n        //OneSignal Push\n        if (!TextUtils.isEmpty(getString(R.string.onesignal_app_id)))\n            OneSignal.init(this, &quot;REMOTE&quot;, getString(R.string.onesignal_app_id), new NotificationHandler());\n    }\n\n    // This fires when a notification is opened by tapping on it or one is received while the app is running.\n    private class NotificationHandler implements OneSignal.NotificationOpenedHandler {\n        // This fires when a notification is opened by tapping on it.\n        @Override\n        public void notificationOpened(OSNotificationOpenResult result) {\n            try {\n                JSONObject data = result.notification.payload.additionalData;\n\n                String webViewUrl = (data != null) ? data.optString(&quot;url&quot;, null) : null;\n                String browserUrl = result.notification.payload.launchURL;\n\n                if (webViewUrl != null || browserUrl != null) {\n                    if (browserUrl != null || result.notification.isAppInFocus) {\n                        browserUrl = (browserUrl == null) ? webViewUrl : browserUrl;\n                        Intent browserIntent = new Intent(Intent.ACTION_VIEW, Uri.parse(browserUrl));\n                        startActivity(browserIntent);\n                        Log.v(&quot;INFO&quot;, &quot;Received notification while app was on foreground or url for browser&quot;);\n                    } else {\n                        push_url = webViewUrl;\n                    }\n                } else if (!result.notification.isAppInFocus) {\n                    Intent mainIntent;\n                    mainIntent = new Intent(App.this, MainActivity.class);\n                    mainIntent.setFlags(Intent.FLAG_ACTIVITY_REORDER_TO_FRONT | Intent.FLAG_ACTIVITY_NEW_TASK);\n                    startActivity(mainIntent);\n                }\n\n\n            } catch (Throwable t) {\n                t.printStackTrace();\n            }\n        }\n\n    }\n\n    public synchronized String getPushUrl(){\n        String url = push_url;\n        push_url = null;\n        return url;\n    }\n\n    public synchronized void setPushUrl(String url){\n        this.push_url = url;\n    }\n} \n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9186,"page":806,"page_size":100}
