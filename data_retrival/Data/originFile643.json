{"items":[{"tags":["java","swing","memory-leaks","jframe"],"comments":[{"owner":{"account_id":2011141,"reputation":7317,"user_id":1799530,"accept_rate":47,"display_name":"SomeJavaGuy"},"score":0,"creation_date":1357214392,"post_id":14138499,"comment_id":19577407,"body_markdown":"you can use the function `dispose()`","body":"you can use the function <code>dispose()</code>"}],"answers":[{"tags":[],"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1357216988,"creation_date":1357214551,"answer_id":14138555,"question_id":14138499,"body_markdown":"1. use [`CardLayout`][1]\r\n\r\n2. if is there real reason for another popup container\r\n\r\n  - use [`JDialog` with parent to `JFrame`][2], with [`setModal` / `ModalityTypes`][3]\r\n\r\n  - [create only one JDialog and to reuse this one `JDialog` by `getContentPane#removeAll()`][4]\r\n\r\n - use `JOptionPane` for simple users interaction\r\n\r\n3. put both together, above two points, to use `CardLayout` for popup `JDialog` with parent to `JFrame`, notice after switch from one card to another could be / is required to call `JDialog.pack()`\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/uiswing/layout/card.html\r\n  [2]: http://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html\r\n  [3]: http://docs.oracle.com/javase/7/docs/api/javax/swing/JDialog.html#JDialog%28java.awt.Dialog,%20boolean%29\r\n  [4]: https://stackoverflow.com/questions/6309407/remove-top-level-container-on-runtime","title":"How to properly hide a JFrame","body":"<ol>\n<li><p>use <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/layout/card.html\" rel=\"nofollow noreferrer\"><code>CardLayout</code></a></p></li>\n<li><p>if is there real reason for another popup container</p>\n\n<ul>\n<li><p>use <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html\" rel=\"nofollow noreferrer\"><code>JDialog</code> with parent to <code>JFrame</code></a>, with <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/JDialog.html#JDialog%28java.awt.Dialog,%20boolean%29\" rel=\"nofollow noreferrer\"><code>setModal</code> / <code>ModalityTypes</code></a></p></li>\n<li><p><a href=\"https://stackoverflow.com/questions/6309407/remove-top-level-container-on-runtime\">create only one JDialog and to reuse this one <code>JDialog</code> by <code>getContentPane#removeAll()</code></a></p></li>\n<li><p>use <code>JOptionPane</code> for simple users interaction</p></li>\n</ul></li>\n<li><p>put both together, above two points, to use <code>CardLayout</code> for popup <code>JDialog</code> with parent to <code>JFrame</code>, notice after switch from one card to another could be / is required to call <code>JDialog.pack()</code></p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":449780,"reputation":10114,"user_id":844759,"display_name":"Hui Zheng"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1357214581,"creation_date":1357214581,"answer_id":14138562,"question_id":14138499,"body_markdown":"Just add this: `JFrame.setDefaultCloseOperation(DISPOSE_ON_CLOSE)`.\r\nNote: The default option for `JFrame` is `HIDE_ON_CLOSE`.","title":"How to properly hide a JFrame","body":"<p>Just add this: <code>JFrame.setDefaultCloseOperation(DISPOSE_ON_CLOSE)</code>.\nNote: The default option for <code>JFrame</code> is <code>HIDE_ON_CLOSE</code>.</p>\n"},{"tags":[],"owner":{"account_id":1266491,"reputation":58067,"user_id":1223693,"accept_rate":96,"display_name":"tckmn"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1357215625,"creation_date":1357214612,"answer_id":14138574,"question_id":14138499,"body_markdown":"1. `setVisible` will cause slowdown\r\n2. `dispose` will cause slowdown\r\n3. `System.exit` will close entire JVM\r\n\r\nTherefore, you should reuse a single `JFrame` or `JDialog`.\r\n\r\nIn the button&#39;s `ActionListener`, invoke `frame.setVisible(false);`. Then instead of creating a new frame just do `frame.setVisible(true);`. If you want to change the contents of the frame, there is the function `frame.getContentPane().removeAll();`.","title":"How to properly hide a JFrame","body":"<ol>\n<li><code>setVisible</code> will cause slowdown</li>\n<li><code>dispose</code> will cause slowdown</li>\n<li><code>System.exit</code> will close entire JVM</li>\n</ol>\n\n<p>Therefore, you should reuse a single <code>JFrame</code> or <code>JDialog</code>.</p>\n\n<p>In the button's <code>ActionListener</code>, invoke <code>frame.setVisible(false);</code>. Then instead of creating a new frame just do <code>frame.setVisible(true);</code>. If you want to change the contents of the frame, there is the function <code>frame.getContentPane().removeAll();</code>.</p>\n"},{"tags":[],"owner":{"account_id":27204781,"reputation":1,"user_id":20736534,"display_name":"Fabik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676559245,"creation_date":1676279206,"answer_id":75433849,"question_id":14138499,"body_markdown":"You can use the `dispose()` method of the `JFrame` class to close the frame and release all resources associated with it, including its child components.","title":"How to properly hide a JFrame","body":"<p>You can use the <code>dispose()</code> method of the <code>JFrame</code> class to close the frame and release all resources associated with it, including its child components.</p>\n"}],"owner":{"account_id":1924671,"reputation":94541,"user_id":1735406,"accept_rate":95,"display_name":"Maroun"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19276,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":14138555,"answer_count":4,"score":7,"last_activity_date":1676559245,"creation_date":1357214303,"question_id":14138499,"body_markdown":"I have a very simple `JFrame` window that contains one button: `No`.\r\n\r\nIn the main function I set `setVisible(true);` my `JFrame` and in the `No` button listener I want to close the window so I set the visibility to false: `setVisible(false);` and after that I do `System.exit(0);` in order to prevent possible memory leaks when running the program many times. \r\n\r\nI have two questions:\r\n\r\n 1. Do I really need to `System.exit(0);` in the above case?\r\n 2. If I have this `JFrame` as a `popup` window, I can&#39;t really use `System.exit(0);` because this will terminate the whole program. So how can I properly close the popup window and stay in the main `JFrame` window? (Now I close it only by `setVisible(false);` and when I do it several times through the program execution, the program turns very slow).\r\n","title":"How to properly hide a JFrame","body":"<p>I have a very simple <code>JFrame</code> window that contains one button: <code>No</code>.</p>\n\n<p>In the main function I set <code>setVisible(true);</code> my <code>JFrame</code> and in the <code>No</code> button listener I want to close the window so I set the visibility to false: <code>setVisible(false);</code> and after that I do <code>System.exit(0);</code> in order to prevent possible memory leaks when running the program many times. </p>\n\n<p>I have two questions:</p>\n\n<ol>\n<li>Do I really need to <code>System.exit(0);</code> in the above case?</li>\n<li>If I have this <code>JFrame</code> as a <code>popup</code> window, I can't really use <code>System.exit(0);</code> because this will terminate the whole program. So how can I properly close the popup window and stay in the main <code>JFrame</code> window? (Now I close it only by <code>setVisible(false);</code> and when I do it several times through the program execution, the program turns very slow).</li>\n</ol>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1653473943,"post_id":72375700,"comment_id":127859432,"body_markdown":"A good first step would be to check what the `SQLException`&#39;s message is.","body":"A good first step would be to check what the <code>SQLException</code>&#39;s message is."},{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":0,"creation_date":1653474407,"post_id":72375700,"comment_id":127859582,"body_markdown":"Seems like the JDBC code is using MySQL. MySQL != Microsoft SQL Server, please [edit](https://stackoverflow.com/posts/72375700/edit) your question to correct the tags.","body":"Seems like the JDBC code is using MySQL. MySQL != Microsoft SQL Server, please <a href=\"https://stackoverflow.com/posts/72375700/edit\">edit</a> your question to correct the tags."},{"owner":{"account_id":25276281,"reputation":23,"user_id":19104858,"display_name":"Steve"},"score":0,"creation_date":1653474520,"post_id":72375700,"comment_id":127859610,"body_markdown":"It is giving me &quot;No database selected&quot;. I don&#39;t understand because in BloodBank i initialise the connection and use it in object donor","body":"It is giving me &quot;No database selected&quot;. I don&#39;t understand because in BloodBank i initialise the connection and use it in object donor"}],"answers":[{"tags":[],"owner":{"account_id":25276281,"reputation":23,"user_id":19104858,"display_name":"Steve"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653474877,"creation_date":1653474877,"answer_id":72376021,"question_id":72375700,"body_markdown":"The problem was on ConnectionProvider class. The class connects to localhost but not to the database itself. So in url string I added dbName:\r\n\r\n```\r\n\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.SQLException;\r\n\r\n/**\r\n * Expose a utility method to connect to a MySQL database\r\n */\r\npublic final class ConnectionProvider {\r\n    private final String username;\r\n    private final String password;\r\n    private final String dbName;\r\n\r\n    /**\r\n     * @param username the username used to connect to the database\r\n     * @param password the password used to connect to the database\r\n     * @param dbName the name of the database to connect to\r\n     */\r\n    public ConnectionProvider (final String username, final String password, final String dbName) {\r\n        this.username = username;\r\n        this.password = password;\r\n        this.dbName = dbName;\r\n    }\r\n\r\n    /**\r\n     * @return a Connection with the database specified in the class constructor\r\n     * @throws IllegalStateException if the connection could not be establish\r\n     */\r\n    public Connection getMySQLConnection() {\r\n        final String dbUri = &quot;jdbc:mysql://127.0.0.1/&quot;+dbName;\r\n        try {\r\n            // Thanks to the JDBC DriverManager we can get a connection to the database\r\n            return DriverManager.getConnection(dbUri, this.username, this.password);\r\n        } catch (final SQLException e) {\r\n            throw new IllegalStateException(&quot;Could not establish a connection with db&quot;, e);\r\n        }\r\n    }\r\n}\r\n\r\n```","title":"Java JDBC creates the database but will return false when creating a table","body":"<p>The problem was on ConnectionProvider class. The class connects to localhost but not to the database itself. So in url string I added dbName:</p>\n<pre><code>\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\n\n/**\n * Expose a utility method to connect to a MySQL database\n */\npublic final class ConnectionProvider {\n    private final String username;\n    private final String password;\n    private final String dbName;\n\n    /**\n     * @param username the username used to connect to the database\n     * @param password the password used to connect to the database\n     * @param dbName the name of the database to connect to\n     */\n    public ConnectionProvider (final String username, final String password, final String dbName) {\n        this.username = username;\n        this.password = password;\n        this.dbName = dbName;\n    }\n\n    /**\n     * @return a Connection with the database specified in the class constructor\n     * @throws IllegalStateException if the connection could not be establish\n     */\n    public Connection getMySQLConnection() {\n        final String dbUri = &quot;jdbc:mysql://127.0.0.1/&quot;+dbName;\n        try {\n            // Thanks to the JDBC DriverManager we can get a connection to the database\n            return DriverManager.getConnection(dbUri, this.username, this.password);\n        } catch (final SQLException e) {\n            throw new IllegalStateException(&quot;Could not establish a connection with db&quot;, e);\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25764457,"reputation":21,"user_id":19514762,"display_name":"Wanjalize"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676559221,"creation_date":1676280965,"answer_id":75434139,"question_id":72375700,"body_markdown":"You have not provided the name of the specific database that you want to connect to. For example check this postgresql example: \r\n`.getConnection(&quot;jdbc:postgresql://localhost:5432/testdb&quot;`\r\n\r\nThe testdb at the end denotes the logical name of the database that the programmer wants to connect to.","title":"Java JDBC creates the database but will return false when creating a table","body":"<p>You have not provided the name of the specific database that you want to connect to. For example check this postgresql example:\n<code>.getConnection(&quot;jdbc:postgresql://localhost:5432/testdb&quot;</code></p>\n<p>The testdb at the end denotes the logical name of the database that the programmer wants to connect to.</p>\n"}],"owner":{"account_id":25276281,"reputation":23,"user_id":19104858,"display_name":"Steve"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676559221,"creation_date":1653473518,"question_id":72375700,"body_markdown":"I am trying to connect to a database with java jdbc and create a table but the function will return false and the table won&#39;t be created. The program connects to the database so the connection isn&#39;t the problem\r\n\r\nI am using 3 classes:\r\n\r\n**BloodBank**:\r\nIt is the main class which establishes the connection to the database and creates an object containing mysql connection and then it is supposed to create a table\r\n```\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.SQLException;\r\nimport java.sql.Statement;\r\n\r\npublic class BloodBank {\r\n    public static void main(String[] args) throws SQLException {\r\n        final String USER = &quot;root&quot;;\r\n        final String PASS = &quot;root&quot;;\r\n\r\n        \r\n       ConnectionProvider connection=new ConnectionProvider(USER,PASS,&quot;Donators&quot;);\r\n       DonorTableImpl donor=new DonorTableImpl(connection.getMySQLConnection());\r\n       donor.createTable();\r\n    }\r\n}\r\n\r\n```\r\n\r\n**ConnectionProvider**:\r\nConnects to an existing database\r\n\r\n```\r\n\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.SQLException;\r\n\r\n\r\npublic final class ConnectionProvider {\r\n    private final String username;\r\n    private final String password;\r\n    private final String dbName;\r\n\r\n    /**\r\n     * @param username the username used to connect to the database\r\n     * @param password the password used to connect to the database\r\n     * @param dbName the name of the database to connect to\r\n     */\r\n    public ConnectionProvider (final String username, final String password, final String dbName) {\r\n        this.username = username;\r\n        this.password = password;\r\n        this.dbName = dbName;\r\n    }\r\n\r\n    /**\r\n     * @return a Connection with the database specified in the class constructor\r\n     * @throws IllegalStateException if the connection could not be establish\r\n     */\r\n    public Connection getMySQLConnection() {\r\n        final String dbUri = &quot;jdbc:mysql://127.0.0.1&quot;;\r\n        try {\r\n            // Thanks to the JDBC DriverManager we can get a connection to the database\r\n            return DriverManager.getConnection(dbUri, this.username, this.password);\r\n        } catch (final SQLException e) {\r\n            throw new IllegalStateException(&quot;Could not establish a connection with db&quot;, e);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n**DonorTableImpl**:\r\nSends the queries. For now I have implemented only createTable() which is the one that&#39;s not working. The function returns false\r\n\r\n```\r\nimport java.sql.*;\r\nimport java.util.List;\r\nimport java.sql.Connection;\r\nimport java.sql.SQLException;\r\nimport java.util.Objects;\r\nimport java.util.Optional;\r\n\r\npublic class DonorTableImpl implements DonorTable&lt;Donor,Integer&gt;{\r\n    public static final String TABLE_NAME = &quot;donators&quot;;\r\n\r\n    private final Connection connection;\r\n\r\n    public DonorTableImpl(final Connection connection) {\r\n        this.connection = Objects.requireNonNull(connection);\r\n    }\r\n\r\n    @Override\r\n    public boolean createTable() {\r\n        // 1. Create the statement from the open connection inside a try-with-resources\r\n        try (final Statement statement = this.connection.createStatement()) {\r\n            // 2. Execute the statement with the given query\r\n            String sql = &quot;CREATE TABLE &quot;+TABLE_NAME +\r\n                    &quot;(id INTEGER not NULL, &quot; +\r\n                    &quot; first VARCHAR(255), &quot; +\r\n                    &quot; last VARCHAR(255), &quot; +\r\n                    &quot; age INTEGER, &quot; +\r\n                    &quot; PRIMARY KEY ( id ))&quot;;\r\n\r\n            statement.executeUpdate(sql);\r\n            System.out.println(&quot;Table created&quot;);\r\n            return true;\r\n        } catch (final SQLException e) {\r\n            System.out.println(&quot;Table couldn&#39;t be created&quot;);\r\n            // 3. Handle possible SQLExceptions\r\n            return false;\r\n        }\r\n    }\r\n\r\n\r\n    @Override\r\n    public String getTableName() {\r\n        return TABLE_NAME;\r\n    }\r\n\r\n    @Override\r\n    public boolean dropTable() {\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public Optional&lt;Integer&gt; findByPrimaryKey(Donor primaryKey) {\r\n        return Optional.empty();\r\n    }\r\n\r\n    @Override\r\n    public List&lt;Integer&gt; findAll() {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public boolean save(Integer value) {\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public boolean update(Integer updatedValue) {\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public boolean delete(Donor primaryKey) {\r\n        return false;\r\n    }\r\n}\r\n\r\n```","title":"Java JDBC creates the database but will return false when creating a table","body":"<p>I am trying to connect to a database with java jdbc and create a table but the function will return false and the table won't be created. The program connects to the database so the connection isn't the problem</p>\n<p>I am using 3 classes:</p>\n<p><strong>BloodBank</strong>:\nIt is the main class which establishes the connection to the database and creates an object containing mysql connection and then it is supposed to create a table</p>\n<pre><code>import java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\nimport java.sql.Statement;\n\npublic class BloodBank {\n    public static void main(String[] args) throws SQLException {\n        final String USER = &quot;root&quot;;\n        final String PASS = &quot;root&quot;;\n\n        \n       ConnectionProvider connection=new ConnectionProvider(USER,PASS,&quot;Donators&quot;);\n       DonorTableImpl donor=new DonorTableImpl(connection.getMySQLConnection());\n       donor.createTable();\n    }\n}\n\n</code></pre>\n<p><strong>ConnectionProvider</strong>:\nConnects to an existing database</p>\n<pre><code>\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\n\n\npublic final class ConnectionProvider {\n    private final String username;\n    private final String password;\n    private final String dbName;\n\n    /**\n     * @param username the username used to connect to the database\n     * @param password the password used to connect to the database\n     * @param dbName the name of the database to connect to\n     */\n    public ConnectionProvider (final String username, final String password, final String dbName) {\n        this.username = username;\n        this.password = password;\n        this.dbName = dbName;\n    }\n\n    /**\n     * @return a Connection with the database specified in the class constructor\n     * @throws IllegalStateException if the connection could not be establish\n     */\n    public Connection getMySQLConnection() {\n        final String dbUri = &quot;jdbc:mysql://127.0.0.1&quot;;\n        try {\n            // Thanks to the JDBC DriverManager we can get a connection to the database\n            return DriverManager.getConnection(dbUri, this.username, this.password);\n        } catch (final SQLException e) {\n            throw new IllegalStateException(&quot;Could not establish a connection with db&quot;, e);\n        }\n    }\n}\n\n</code></pre>\n<p><strong>DonorTableImpl</strong>:\nSends the queries. For now I have implemented only createTable() which is the one that's not working. The function returns false</p>\n<pre><code>import java.sql.*;\nimport java.util.List;\nimport java.sql.Connection;\nimport java.sql.SQLException;\nimport java.util.Objects;\nimport java.util.Optional;\n\npublic class DonorTableImpl implements DonorTable&lt;Donor,Integer&gt;{\n    public static final String TABLE_NAME = &quot;donators&quot;;\n\n    private final Connection connection;\n\n    public DonorTableImpl(final Connection connection) {\n        this.connection = Objects.requireNonNull(connection);\n    }\n\n    @Override\n    public boolean createTable() {\n        // 1. Create the statement from the open connection inside a try-with-resources\n        try (final Statement statement = this.connection.createStatement()) {\n            // 2. Execute the statement with the given query\n            String sql = &quot;CREATE TABLE &quot;+TABLE_NAME +\n                    &quot;(id INTEGER not NULL, &quot; +\n                    &quot; first VARCHAR(255), &quot; +\n                    &quot; last VARCHAR(255), &quot; +\n                    &quot; age INTEGER, &quot; +\n                    &quot; PRIMARY KEY ( id ))&quot;;\n\n            statement.executeUpdate(sql);\n            System.out.println(&quot;Table created&quot;);\n            return true;\n        } catch (final SQLException e) {\n            System.out.println(&quot;Table couldn't be created&quot;);\n            // 3. Handle possible SQLExceptions\n            return false;\n        }\n    }\n\n\n    @Override\n    public String getTableName() {\n        return TABLE_NAME;\n    }\n\n    @Override\n    public boolean dropTable() {\n        return false;\n    }\n\n    @Override\n    public Optional&lt;Integer&gt; findByPrimaryKey(Donor primaryKey) {\n        return Optional.empty();\n    }\n\n    @Override\n    public List&lt;Integer&gt; findAll() {\n        return null;\n    }\n\n    @Override\n    public boolean save(Integer value) {\n        return false;\n    }\n\n    @Override\n    public boolean update(Integer updatedValue) {\n        return false;\n    }\n\n    @Override\n    public boolean delete(Donor primaryKey) {\n        return false;\n    }\n}\n\n</code></pre>\n"},{"tags":["java","firebase","firebase-realtime-database","firebase-admin"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676559113,"creation_date":1676538644,"answer_id":75469978,"question_id":75469185,"body_markdown":"&gt; But in very rare cases - update#2 was happening before update#1\r\n\r\nThat&#39;s the expected behavior since the operations run in **parallel**. So there can be cases in which the second operation completes faster than the first one. So simply calling an operation right after the other doesn&#39;t offer you any guarantee of the order in which the operations will complete.\r\n\r\nIf you need to perform the second operation, only when you&#39;re 100% sure that the first operation is complete, then you have to pass to `setValue()` method the actual data and a completion listener:\r\n\r\n```\r\nref.setValue(&quot;data&quot;, new DatabaseReference.CompletionListener() {\r\n  @Override\r\n  public void onComplete(DatabaseError error, DatabaseReference dataRef) {\r\n    if (error != null) {\r\n      System.out.println(&quot;Failed because of &quot; + error.getMessage());\r\n    } else {\r\n      //Perform the second operation.\r\n    }\r\n  }\r\n})\r\n```\r\n\r\nSo as soon as the first operation completes, inside the callback perform the second one.","title":"Java Firebase Admin SDK - DatabaseReference - setValue vs setValueAsync","body":"<blockquote>\n<p>But in very rare cases - update#2 was happening before update#1</p>\n</blockquote>\n<p>That's the expected behavior since the operations run in <strong>parallel</strong>. So there can be cases in which the second operation completes faster than the first one. So simply calling an operation right after the other doesn't offer you any guarantee of the order in which the operations will complete.</p>\n<p>If you need to perform the second operation, only when you're 100% sure that the first operation is complete, then you have to pass to <code>setValue()</code> method the actual data and a completion listener:</p>\n<pre><code>ref.setValue(&quot;data&quot;, new DatabaseReference.CompletionListener() {\n  @Override\n  public void onComplete(DatabaseError error, DatabaseReference dataRef) {\n    if (error != null) {\n      System.out.println(&quot;Failed because of &quot; + error.getMessage());\n    } else {\n      //Perform the second operation.\n    }\n  }\n})\n</code></pre>\n<p>So as soon as the first operation completes, inside the callback perform the second one.</p>\n"}],"owner":{"account_id":4609958,"reputation":300,"user_id":4381961,"accept_rate":50,"display_name":"ishallwin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75469978,"answer_count":1,"score":0,"last_activity_date":1676559113,"creation_date":1676533587,"question_id":75469185,"body_markdown":"Using Java - Firebase Admin SDK.\r\n\r\nI have to make two updates on the Firebase Realtime Database. *Update#1* has to happen and only then *Update#2* should happen.\r\n\r\nI was earlier using this : \r\n\r\n    ref.setValueAsync(&quot;update#1&quot;);\r\n    ref.setValueAsync(&quot;update#2&quot;);\r\nBut in very rare cases - *update#2* was happening before *update#1* - flow was breaking for our usecase; I refactored the code to this : \r\n\r\n    ref.setValue(&quot;update#1&quot;, null);\r\n    ref.setValueAsync(&quot;update#2&quot;);\r\n\r\nThis change was made with the assumption that setValue is a sync call and we will only go for *update#2* once *update#1* is done. But we have noticed that cases of *update#2* happening before *update#1* are still there - although very rare.","title":"Java Firebase Admin SDK - DatabaseReference - setValue vs setValueAsync","body":"<p>Using Java - Firebase Admin SDK.</p>\n<p>I have to make two updates on the Firebase Realtime Database. <em>Update#1</em> has to happen and only then <em>Update#2</em> should happen.</p>\n<p>I was earlier using this :</p>\n<pre><code>ref.setValueAsync(&quot;update#1&quot;);\nref.setValueAsync(&quot;update#2&quot;);\n</code></pre>\n<p>But in very rare cases - <em>update#2</em> was happening before <em>update#1</em> - flow was breaking for our usecase; I refactored the code to this :</p>\n<pre><code>ref.setValue(&quot;update#1&quot;, null);\nref.setValueAsync(&quot;update#2&quot;);\n</code></pre>\n<p>This change was made with the assumption that setValue is a sync call and we will only go for <em>update#2</em> once <em>update#1</em> is done. But we have noticed that cases of <em>update#2</em> happening before <em>update#1</em> are still there - although very rare.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":6156307,"reputation":33584,"user_id":5015238,"display_name":"jdweng"},"score":0,"creation_date":1676449428,"post_id":75452747,"comment_id":133136839,"body_markdown":"Ids can be either numbers or string.  The type has to be the same in the c# code as the database.  Make sure the ID type in the module matches the database type.","body":"Ids can be either numbers or string.  The type has to be the same in the c# code as the database.  Make sure the ID type in the module matches the database type."},{"owner":{"account_id":3821169,"reputation":763,"user_id":3169238,"display_name":"Sergei Kozelko"},"score":0,"creation_date":1677887768,"post_id":75452747,"comment_id":133432676,"body_markdown":"If the first code block is your previous (not working) approach, then it means your `user.getId()` was returning 0. How were you initializing your `user` object? You might want to load `user` from database instead of creating a new object every time","body":"If the first code block is your previous (not working) approach, then it means your <code>user.getId()</code> was returning 0. How were you initializing your <code>user</code> object? You might want to load <code>user</code> from database instead of creating a new object every time"},{"owner":{"account_id":3821169,"reputation":763,"user_id":3169238,"display_name":"Sergei Kozelko"},"score":0,"creation_date":1677887919,"post_id":75452747,"comment_id":133432698,"body_markdown":"Also the `user_id` is not updated anywhere in the code you posted, you should post that part too.","body":"Also the <code>user_id</code> is not updated anywhere in the code you posted, you should post that part too."}],"owner":{"account_id":27786965,"reputation":1,"user_id":21214214,"display_name":"candycandy2023"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676559050,"creation_date":1676404871,"question_id":75452747,"body_markdown":"I am new to programming and to Android Studio.\r\n\r\nI am trying to implement a ProfileActivity for a simple chat-project in which the user is able to update some rows in the User table of a SQLite Database through a simple profile-form after signing up and then signing in in the app. \r\nThat should appen through the method updateUser() through the query ```db.update(TABLE_USER, values, COLUMN_USER_ID + &quot; = ?&quot;, new String[]{ String.valueOf(user.getId()) });``` in the ```DatabaseHelper``` Class, as you can see here:\r\n\r\n\r\n```\r\n\r\n    /**\r\n     * This method to update user record\r\n     *\r\n     * @param user\r\n     */\r\n    public void updateUser(User user) {\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n        ContentValues values = new ContentValues();\r\n        values.put(COLUMN_USER_NAME, user.getName());\r\n        values.put(COLUMN_USER_CITY, user.getCity());\r\n        values.put(COLUMN_USER_AGE, user.getAge());\r\n        values.put(COLUMN_USER_SEX, user.getSex());\r\n        // updating row\r\n       db.update(TABLE_USER, values, COLUMN_USER_ID + &quot; = ?&quot;, new String[]{ String.valueOf(user.getId()) });\r\n\r\n        db.close();\r\n    }\r\n}\r\n```\r\nAnyway I was getting all the time from the User-model an id = 0 and the update did not work. \r\n\r\nNow, after many attempts, I found a (pseudo)solution providing a global public static integer variable &quot;user_id&quot; and accessing it directly in ```ProfileActivity```. The table-update works fine now. Anyway I know that it is a very bad practice against the principles of data encapsulation, as you can see here: \r\n\r\nDatabaseHelper.java\r\n```\r\npackage com.example.chat_project.Sql;\r\nimport android.annotation.SuppressLint;\r\nimport android.content.ContentValues;\r\nimport android.content.Context;\r\nimport android.database.Cursor;\r\nimport android.database.sqlite.SQLiteDatabase;\r\nimport android.database.sqlite.SQLiteOpenHelper;\r\n\r\nimport com.example.chat_project.Model.User;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class DatabaseHelper extends SQLiteOpenHelper {\r\n    // Database Version\r\n    private static final int DATABASE_VERSION = 1;\r\n    // Database Name\r\n    private static final String DATABASE_NAME = &quot;UserManager.db&quot;;\r\n    // User table name\r\n    private static final String TABLE_USER = &quot;user&quot;;\r\n    // User Table Columns names\r\n    private static final String COLUMN_USER_ID = &quot;user_id&quot;;\r\n    private static final String COLUMN_USER_NAME = &quot;user_name&quot;;\r\n    private static final String COLUMN_USER_EMAIL = &quot;user_email&quot;;\r\n    private static final String COLUMN_USER_PASSWORD = &quot;user_password&quot;;\r\n    private static final String COLUMN_USER_AGE = &quot;user_age&quot;;\r\n    private static final String COLUMN_USER_CITY = &quot;user_city&quot;;\r\n    private static final String COLUMN_USER_SEX = &quot;user_sex&quot;;\r\n    private User user;\r\n    private Cursor userId;\r\n    \r\n    int rv = -1;\r\n    public static int user_id;\r\n\r\n    // create table sql query\r\n    private String CREATE_USER_TABLE = &quot;CREATE TABLE &quot; + TABLE_USER + &quot;(&quot;\r\n            + COLUMN_USER_ID + &quot; INTEGER PRIMARY KEY AUTOINCREMENT,&quot; + COLUMN_USER_NAME + &quot; TEXT,&quot;\r\n            + COLUMN_USER_EMAIL + &quot; TEXT,&quot; + COLUMN_USER_PASSWORD + &quot; TEXT,&quot; + COLUMN_USER_AGE +\r\n            &quot; INTEGER,&quot; + COLUMN_USER_CITY + &quot; TEXT,&quot; + COLUMN_USER_SEX + &quot; TEXT&quot; + &quot;)&quot;;\r\n    // drop table sql query\r\n    private String DROP_USER_TABLE = &quot;DROP TABLE IF EXISTS &quot; + TABLE_USER;\r\n    /**\r\n     * Constructor\r\n     *\r\n     * @param context\r\n     */\r\n    public DatabaseHelper(Context context) {\r\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\r\n    }\r\n   @Override\r\n    public void onCreate(SQLiteDatabase db) {\r\n        db.execSQL(CREATE_USER_TABLE);\r\n    }\r\n    @Override\r\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\r\n        //Drop User Table if exist\r\n        db.execSQL(DROP_USER_TABLE);\r\n        // Create tables again\r\n        onCreate(db);\r\n    }\r\n    \r\n\r\n    /**\r\n     * This method to check user exist or not\r\n     *\r\n     * @param email\r\n     * @param password\r\n     * @return true/false\r\n     */\r\n    @SuppressLint(&quot;Range&quot;)\r\n    public boolean checkLoggedUser (String email, String password) {\r\n        // array of columns to fetch\r\n        String[] columns = {\r\n                COLUMN_USER_ID\r\n        };\r\n        SQLiteDatabase db = this.getReadableDatabase();\r\n        // selection criteria\r\n        String selection = COLUMN_USER_EMAIL + &quot; = ?&quot; + &quot; AND &quot; + COLUMN_USER_PASSWORD + &quot; = ?&quot;;\r\n        // selection arguments\r\n        String[] selectionArgs = {email, password};\r\n    \r\n        Cursor cursor = db.query(TABLE_USER, //Table to query\r\n                columns,                    //columns to return\r\n                selection,                  //columns for the WHERE clause\r\n                selectionArgs,              //The values for the WHERE clause\r\n                null,                       //group the rows\r\n                null,                       //filter by row groups\r\n                null);\r\n        if (cursor.moveToFirst()) {\r\n            rv = cursor.getInt(cursor.getColumnIndex(&quot;user_id&quot;));\r\n            getLoggedUser(rv);\r\n        }\r\n        //The sort order\r\n        int cursorCount = cursor.getCount();\r\n        cursor.close();\r\n        db.close();\r\n        if (cursorCount &gt; 0) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * This method to fill user_id with column index\r\n     *\r\n     * @param i\r\n     */\r\n    public int getLoggedUser(int i){\r\n        //stores index of columns\r\n        user_id = i;\r\n        return user_id;\r\n    }\r\n\r\n    /**\r\n     * This method to update user record\r\n     *\r\n     * @param user\r\n     */\r\n    public void updateUser(User user) {\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n        ContentValues values = new ContentValues();\r\n        values.put(COLUMN_USER_NAME, user.getName());\r\n        values.put(COLUMN_USER_CITY, user.getCity());\r\n        values.put(COLUMN_USER_AGE, user.getAge());\r\n        values.put(COLUMN_USER_SEX, user.getSex());\r\n        // updating row\r\n        db.update(TABLE_USER, values, COLUMN_USER_ID + &quot; = ?&quot;, new String[] { String.valueOf(user_id) });\r\n\r\n        db.close();\r\n    }\r\n}\r\n```\r\nProfileActivity.java\r\n```\r\npackage com.example.chat_project.Activities;\r\n\r\nimport android.content.ContentValues;\r\nimport android.content.Intent;\r\nimport android.content.pm.PackageManager;\r\nimport android.database.Cursor;\r\nimport android.graphics.Bitmap;\r\nimport android.graphics.BitmapFactory;\r\nimport android.graphics.drawable.BitmapDrawable;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.provider.MediaStore;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.ImageView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.appcompat.widget.AppCompatButton;\r\nimport androidx.appcompat.widget.AppCompatEditText;\r\nimport androidx.appcompat.widget.AppCompatImageView;\r\nimport androidx.constraintlayout.widget.ConstraintLayout;\r\nimport androidx.core.widget.NestedScrollView;\r\n\r\nimport com.example.chat_project.Model.User;\r\nimport com.example.chat_project.R;\r\nimport com.example.chat_project.Sql.DatabaseHelper;\r\nimport com.google.android.material.dialog.MaterialAlertDialogBuilder;\r\nimport com.google.android.material.textfield.TextInputEditText;\r\n\r\nimport java.io.ByteArrayInputStream;\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.InputStream;\r\n\r\npublic class ProfileActivity extends AppCompatActivity implements View.OnClickListener {\r\n\r\n    private static final int PICK_IMAGE = 100;\r\n    private final AppCompatActivity activity = ProfileActivity.this;\r\n    private ConstraintLayout constraintLayout;\r\n    private AppCompatEditText inputName;\r\n    private AppCompatEditText inputAge;\r\n    private AppCompatEditText inputCity;\r\n    private AppCompatEditText inputSex;\r\n    private AppCompatImageView profileImage;\r\n    private AppCompatButton saveProfile;\r\n    private AppCompatButton pickImage;\r\n    private DatabaseHelper databaseHelper;\r\n    private User user;\r\n    private String user_name, user_sex, user_city;\r\n    private int user_age;\r\n\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_profile);\r\n        getSupportActionBar().setTitle(&quot;&quot;);\r\n        initViews();\r\n        initListeners();\r\n        initObjects();\r\n\r\n    }\r\n\r\n    /**\r\n     * This method is to initialize views\r\n     */\r\n    private void initViews() {\r\n\r\n        constraintLayout = (ConstraintLayout) findViewById(R.id.constraintLayout);\r\n        inputName = (AppCompatEditText) findViewById(R.id.editTextUserName);\r\n        inputAge =   (AppCompatEditText)findViewById(R.id.editTextUserAge);\r\n        inputCity=  (AppCompatEditText)findViewById(R.id.editTextCity);\r\n        inputSex = (AppCompatEditText)findViewById(R.id.editTextUserSex);\r\n        profileImage = (AppCompatImageView)findViewById(R.id.imageViewProfileImage);\r\n        saveProfile = (AppCompatButton) findViewById(R.id.buttonSaveProfile);\r\n        pickImage = (AppCompatButton) findViewById(R.id.buttonPickImage);\r\n\r\n    }\r\n\r\n    /**\r\n     * This method is to initialize listeners\r\n     */\r\n    private void initListeners() {\r\n\r\n        saveProfile.setOnClickListener(this);\r\n    }\r\n\r\n    /**\r\n     * This method is to initialize objects to be used\r\n     */\r\n    private void initObjects() {\r\n\r\n        databaseHelper = new DatabaseHelper(activity);\r\n\r\n        user = new User();\r\n\r\n        inputName.setText(user.getName());\r\n       \r\n    }\r\n\r\n \r\n\r\n    @Override\r\n    public void onClick(View view) {\r\n        switch (view.getId()) {\r\n            case R.id.buttonPickImage:\r\n                /**\r\n                 new MaterialDialog.Builder(this)\r\n                 .title(&quot;set your image&quot;)\r\n                 .items(R.array.uploadImages)\r\n                 .itemsIds(R.array.itemIds)\r\n                 .itemsCallback((dialog, view, which, text){\r\n                 switch (which){\r\n                 case 0:\r\n                 Intent photoPickerIntent = new Intent(Intent.ACTION_PICK);\r\n                 photoPickerIntent.setType(&quot;image/*&quot;);\r\n                 startActivityForResult(photoPickerIntent, SELECT_PHOTO);\r\n                 break;\r\n                 case 1:\r\n                 profileImage.setImageResource(R.drawable.no_profile_pic);\r\n                 break;\r\n                 }\r\n\r\n                 })*/\r\n                //insertImageToSQLite();\r\n                break;\r\n            case R.id.buttonSaveProfile:\r\n                postDataToSQLite();\r\n                break;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * This method is to post data to SQLite\r\n     */\r\n    private void postDataToSQLite() {\r\n\r\n        user.setName(inputName.getText().toString().trim());\r\n        user.setAge(Integer.parseInt(inputAge.getText().toString().trim()));\r\n        user.setSex(inputSex.getText().toString().trim());\r\n        user.setCity(inputCity.getText().toString().trim());\r\n        // here the static variable from DatabaseHelper is retrieved \r\n        user.setId(databaseHelper.user_id);\r\n        databaseHelper.updateUser(user);\r\n\r\n        Toast.makeText(this, &quot;Profile successfully saved&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n \r\n       \r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nHow can I do in order to update the rows in the User-table without declaring a public static variable for the id?  \r\n\r\nThank you very much in advance for every hint!","title":"Android Studio: how to do an update through user-id without using a global static variable","body":"<p>I am new to programming and to Android Studio.</p>\n<p>I am trying to implement a ProfileActivity for a simple chat-project in which the user is able to update some rows in the User table of a SQLite Database through a simple profile-form after signing up and then signing in in the app.\nThat should appen through the method updateUser() through the query <code>db.update(TABLE_USER, values, COLUMN_USER_ID + &quot; = ?&quot;, new String[]{ String.valueOf(user.getId()) });</code> in the <code>DatabaseHelper</code> Class, as you can see here:</p>\n<pre><code>\n    /**\n     * This method to update user record\n     *\n     * @param user\n     */\n    public void updateUser(User user) {\n        SQLiteDatabase db = this.getWritableDatabase();\n        ContentValues values = new ContentValues();\n        values.put(COLUMN_USER_NAME, user.getName());\n        values.put(COLUMN_USER_CITY, user.getCity());\n        values.put(COLUMN_USER_AGE, user.getAge());\n        values.put(COLUMN_USER_SEX, user.getSex());\n        // updating row\n       db.update(TABLE_USER, values, COLUMN_USER_ID + &quot; = ?&quot;, new String[]{ String.valueOf(user.getId()) });\n\n        db.close();\n    }\n}\n</code></pre>\n<p>Anyway I was getting all the time from the User-model an id = 0 and the update did not work.</p>\n<p>Now, after many attempts, I found a (pseudo)solution providing a global public static integer variable &quot;user_id&quot; and accessing it directly in <code>ProfileActivity</code>. The table-update works fine now. Anyway I know that it is a very bad practice against the principles of data encapsulation, as you can see here:</p>\n<p>DatabaseHelper.java</p>\n<pre><code>package com.example.chat_project.Sql;\nimport android.annotation.SuppressLint;\nimport android.content.ContentValues;\nimport android.content.Context;\nimport android.database.Cursor;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.database.sqlite.SQLiteOpenHelper;\n\nimport com.example.chat_project.Model.User;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class DatabaseHelper extends SQLiteOpenHelper {\n    // Database Version\n    private static final int DATABASE_VERSION = 1;\n    // Database Name\n    private static final String DATABASE_NAME = &quot;UserManager.db&quot;;\n    // User table name\n    private static final String TABLE_USER = &quot;user&quot;;\n    // User Table Columns names\n    private static final String COLUMN_USER_ID = &quot;user_id&quot;;\n    private static final String COLUMN_USER_NAME = &quot;user_name&quot;;\n    private static final String COLUMN_USER_EMAIL = &quot;user_email&quot;;\n    private static final String COLUMN_USER_PASSWORD = &quot;user_password&quot;;\n    private static final String COLUMN_USER_AGE = &quot;user_age&quot;;\n    private static final String COLUMN_USER_CITY = &quot;user_city&quot;;\n    private static final String COLUMN_USER_SEX = &quot;user_sex&quot;;\n    private User user;\n    private Cursor userId;\n    \n    int rv = -1;\n    public static int user_id;\n\n    // create table sql query\n    private String CREATE_USER_TABLE = &quot;CREATE TABLE &quot; + TABLE_USER + &quot;(&quot;\n            + COLUMN_USER_ID + &quot; INTEGER PRIMARY KEY AUTOINCREMENT,&quot; + COLUMN_USER_NAME + &quot; TEXT,&quot;\n            + COLUMN_USER_EMAIL + &quot; TEXT,&quot; + COLUMN_USER_PASSWORD + &quot; TEXT,&quot; + COLUMN_USER_AGE +\n            &quot; INTEGER,&quot; + COLUMN_USER_CITY + &quot; TEXT,&quot; + COLUMN_USER_SEX + &quot; TEXT&quot; + &quot;)&quot;;\n    // drop table sql query\n    private String DROP_USER_TABLE = &quot;DROP TABLE IF EXISTS &quot; + TABLE_USER;\n    /**\n     * Constructor\n     *\n     * @param context\n     */\n    public DatabaseHelper(Context context) {\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\n    }\n   @Override\n    public void onCreate(SQLiteDatabase db) {\n        db.execSQL(CREATE_USER_TABLE);\n    }\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n        //Drop User Table if exist\n        db.execSQL(DROP_USER_TABLE);\n        // Create tables again\n        onCreate(db);\n    }\n    \n\n    /**\n     * This method to check user exist or not\n     *\n     * @param email\n     * @param password\n     * @return true/false\n     */\n    @SuppressLint(&quot;Range&quot;)\n    public boolean checkLoggedUser (String email, String password) {\n        // array of columns to fetch\n        String[] columns = {\n                COLUMN_USER_ID\n        };\n        SQLiteDatabase db = this.getReadableDatabase();\n        // selection criteria\n        String selection = COLUMN_USER_EMAIL + &quot; = ?&quot; + &quot; AND &quot; + COLUMN_USER_PASSWORD + &quot; = ?&quot;;\n        // selection arguments\n        String[] selectionArgs = {email, password};\n    \n        Cursor cursor = db.query(TABLE_USER, //Table to query\n                columns,                    //columns to return\n                selection,                  //columns for the WHERE clause\n                selectionArgs,              //The values for the WHERE clause\n                null,                       //group the rows\n                null,                       //filter by row groups\n                null);\n        if (cursor.moveToFirst()) {\n            rv = cursor.getInt(cursor.getColumnIndex(&quot;user_id&quot;));\n            getLoggedUser(rv);\n        }\n        //The sort order\n        int cursorCount = cursor.getCount();\n        cursor.close();\n        db.close();\n        if (cursorCount &gt; 0) {\n            return true;\n        }\n        return false;\n    }\n\n    /**\n     * This method to fill user_id with column index\n     *\n     * @param i\n     */\n    public int getLoggedUser(int i){\n        //stores index of columns\n        user_id = i;\n        return user_id;\n    }\n\n    /**\n     * This method to update user record\n     *\n     * @param user\n     */\n    public void updateUser(User user) {\n        SQLiteDatabase db = this.getWritableDatabase();\n        ContentValues values = new ContentValues();\n        values.put(COLUMN_USER_NAME, user.getName());\n        values.put(COLUMN_USER_CITY, user.getCity());\n        values.put(COLUMN_USER_AGE, user.getAge());\n        values.put(COLUMN_USER_SEX, user.getSex());\n        // updating row\n        db.update(TABLE_USER, values, COLUMN_USER_ID + &quot; = ?&quot;, new String[] { String.valueOf(user_id) });\n\n        db.close();\n    }\n}\n</code></pre>\n<p>ProfileActivity.java</p>\n<pre><code>package com.example.chat_project.Activities;\n\nimport android.content.ContentValues;\nimport android.content.Intent;\nimport android.content.pm.PackageManager;\nimport android.database.Cursor;\nimport android.graphics.Bitmap;\nimport android.graphics.BitmapFactory;\nimport android.graphics.drawable.BitmapDrawable;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.provider.MediaStore;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.ImageView;\nimport android.widget.Toast;\n\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.appcompat.widget.AppCompatButton;\nimport androidx.appcompat.widget.AppCompatEditText;\nimport androidx.appcompat.widget.AppCompatImageView;\nimport androidx.constraintlayout.widget.ConstraintLayout;\nimport androidx.core.widget.NestedScrollView;\n\nimport com.example.chat_project.Model.User;\nimport com.example.chat_project.R;\nimport com.example.chat_project.Sql.DatabaseHelper;\nimport com.google.android.material.dialog.MaterialAlertDialogBuilder;\nimport com.google.android.material.textfield.TextInputEditText;\n\nimport java.io.ByteArrayInputStream;\nimport java.io.ByteArrayOutputStream;\nimport java.io.FileNotFoundException;\nimport java.io.InputStream;\n\npublic class ProfileActivity extends AppCompatActivity implements View.OnClickListener {\n\n    private static final int PICK_IMAGE = 100;\n    private final AppCompatActivity activity = ProfileActivity.this;\n    private ConstraintLayout constraintLayout;\n    private AppCompatEditText inputName;\n    private AppCompatEditText inputAge;\n    private AppCompatEditText inputCity;\n    private AppCompatEditText inputSex;\n    private AppCompatImageView profileImage;\n    private AppCompatButton saveProfile;\n    private AppCompatButton pickImage;\n    private DatabaseHelper databaseHelper;\n    private User user;\n    private String user_name, user_sex, user_city;\n    private int user_age;\n\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_profile);\n        getSupportActionBar().setTitle(&quot;&quot;);\n        initViews();\n        initListeners();\n        initObjects();\n\n    }\n\n    /**\n     * This method is to initialize views\n     */\n    private void initViews() {\n\n        constraintLayout = (ConstraintLayout) findViewById(R.id.constraintLayout);\n        inputName = (AppCompatEditText) findViewById(R.id.editTextUserName);\n        inputAge =   (AppCompatEditText)findViewById(R.id.editTextUserAge);\n        inputCity=  (AppCompatEditText)findViewById(R.id.editTextCity);\n        inputSex = (AppCompatEditText)findViewById(R.id.editTextUserSex);\n        profileImage = (AppCompatImageView)findViewById(R.id.imageViewProfileImage);\n        saveProfile = (AppCompatButton) findViewById(R.id.buttonSaveProfile);\n        pickImage = (AppCompatButton) findViewById(R.id.buttonPickImage);\n\n    }\n\n    /**\n     * This method is to initialize listeners\n     */\n    private void initListeners() {\n\n        saveProfile.setOnClickListener(this);\n    }\n\n    /**\n     * This method is to initialize objects to be used\n     */\n    private void initObjects() {\n\n        databaseHelper = new DatabaseHelper(activity);\n\n        user = new User();\n\n        inputName.setText(user.getName());\n       \n    }\n\n \n\n    @Override\n    public void onClick(View view) {\n        switch (view.getId()) {\n            case R.id.buttonPickImage:\n                /**\n                 new MaterialDialog.Builder(this)\n                 .title(&quot;set your image&quot;)\n                 .items(R.array.uploadImages)\n                 .itemsIds(R.array.itemIds)\n                 .itemsCallback((dialog, view, which, text){\n                 switch (which){\n                 case 0:\n                 Intent photoPickerIntent = new Intent(Intent.ACTION_PICK);\n                 photoPickerIntent.setType(&quot;image/*&quot;);\n                 startActivityForResult(photoPickerIntent, SELECT_PHOTO);\n                 break;\n                 case 1:\n                 profileImage.setImageResource(R.drawable.no_profile_pic);\n                 break;\n                 }\n\n                 })*/\n                //insertImageToSQLite();\n                break;\n            case R.id.buttonSaveProfile:\n                postDataToSQLite();\n                break;\n        }\n    }\n\n    /**\n     * This method is to post data to SQLite\n     */\n    private void postDataToSQLite() {\n\n        user.setName(inputName.getText().toString().trim());\n        user.setAge(Integer.parseInt(inputAge.getText().toString().trim()));\n        user.setSex(inputSex.getText().toString().trim());\n        user.setCity(inputCity.getText().toString().trim());\n        // here the static variable from DatabaseHelper is retrieved \n        user.setId(databaseHelper.user_id);\n        databaseHelper.updateUser(user);\n\n        Toast.makeText(this, &quot;Profile successfully saved&quot;, Toast.LENGTH_SHORT).show();\n\n \n       \n    }\n\n}\n\n</code></pre>\n<p>How can I do in order to update the rows in the User-table without declaring a public static variable for the id?</p>\n<p>Thank you very much in advance for every hint!</p>\n"},{"tags":["java","android","android-viewpager"],"comments":[{"owner":{"account_id":2108000,"reputation":2303,"user_id":1873880,"display_name":"Desert"},"score":0,"creation_date":1374662219,"post_id":17831395,"comment_id":26025504,"body_markdown":"Have you tried returning true from onTouch?","body":"Have you tried returning true from onTouch?"}],"answers":[{"tags":[],"owner":{"account_id":288479,"reputation":553,"user_id":588917,"display_name":"AitorTheRed"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1374662355,"creation_date":1374662355,"answer_id":17831616,"question_id":17831395,"body_markdown":"I think your problem comes from the line:\r\n\r\n    v.getParent().requestDisallowInterceptTouchEvent(true); //This cannot be removed\r\n                \r\nTake a look to the [documentation][1].\r\nHave you tried to remove the line? What is the requeriment for not removing this line?&lt;br&gt;\r\n\r\nTake into account, according to the [documentation][2], that if you return true from your onTouchListener, the event is consumed, and if you return false, is propagated, so you could use this to propagate the event.\r\n\r\nAlso, you should change your code from:\r\n\r\n     System.out.println(&quot;CLICKED &quot;);\r\nto:\r\n\r\n     Log.d(&quot;MyApp&quot;, &quot;CLICKED &quot;);\r\n\r\nTo get correct output in logcat.\r\n\r\n  [1]: http://developer.android.com/reference/android/view/ViewParent.html#requestDisallowInterceptTouchEvent%28boolean%29\r\n  [2]: http://developer.android.com/reference/android/view/View.OnTouchListener.html#onTouch%28android.view.View,%20android.view.MotionEvent%29","title":"How can I detect a click in an onTouch listener?","body":"<p>I think your problem comes from the line:</p>\n\n<pre><code>v.getParent().requestDisallowInterceptTouchEvent(true); //This cannot be removed\n</code></pre>\n\n<p>Take a look to the <a href=\"http://developer.android.com/reference/android/view/ViewParent.html#requestDisallowInterceptTouchEvent%28boolean%29\" rel=\"nofollow\">documentation</a>.\nHave you tried to remove the line? What is the requeriment for not removing this line?<br></p>\n\n<p>Take into account, according to the <a href=\"http://developer.android.com/reference/android/view/View.OnTouchListener.html#onTouch%28android.view.View,%20android.view.MotionEvent%29\" rel=\"nofollow\">documentation</a>, that if you return true from your onTouchListener, the event is consumed, and if you return false, is propagated, so you could use this to propagate the event.</p>\n\n<p>Also, you should change your code from:</p>\n\n<pre><code> System.out.println(\"CLICKED \");\n</code></pre>\n\n<p>to:</p>\n\n<pre><code> Log.d(\"MyApp\", \"CLICKED \");\n</code></pre>\n\n<p>To get correct output in logcat.</p>\n"},{"tags":[],"owner":{"account_id":2360603,"reputation":1379,"user_id":2067338,"accept_rate":50,"display_name":"Antoine Marques"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1374662393,"creation_date":1374662393,"answer_id":17831626,"question_id":17831395,"body_markdown":"I believe you&#39;re preventing your view from receiving the touch event this way because your TouchListener intercepts it.\r\nYou can either\r\n\r\n - Dispatch the event inside your ToucheListener by calling `v.onTouchEvent(event)`\r\n - Override instead `ViewPager.onTouchEvent(MotionEvent)` not to intercept the event\r\n\r\n\r\n----------\r\nAlso, returning `true` means that you didn&#39;t consume the event, and that you&#39;re not interrested in following events, and you won&#39;t therefore receive following events until the gesture completes (that is, the finger is up again).","title":"How can I detect a click in an onTouch listener?","body":"<p>I believe you're preventing your view from receiving the touch event this way because your TouchListener intercepts it.\nYou can either</p>\n\n<ul>\n<li>Dispatch the event inside your ToucheListener by calling <code>v.onTouchEvent(event)</code></li>\n<li>Override instead <code>ViewPager.onTouchEvent(MotionEvent)</code> not to intercept the event</li>\n</ul>\n\n<hr>\n\n<p>Also, returning <code>true</code> means that you didn't consume the event, and that you're not interrested in following events, and you won't therefore receive following events until the gesture completes (that is, the finger is up again).</p>\n"},{"tags":[],"owner":{"account_id":3087276,"reputation":1044,"user_id":2614189,"display_name":"Masoud Dadashi"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1374664653,"creation_date":1374664056,"answer_id":17832204,"question_id":17831395,"body_markdown":"Developing both is the wrong idea. when user may do different things by touching the screen understanding user purpose is a little bit nifty and you need to develop a piece of code for it.\r\n\r\nTwo solutions:\r\n\r\n1- (the better idea) in your onTouch event check if there is a motion. You can do it by checking if there is any movement using:\r\n\r\n    ACTION_UP\r\n    ACTION_DOWN\r\n    ACTION_MOVE\r\n\r\ndo it like this\r\n\r\n    if(event.getAction() != MotionEvent.ACTION_MOVE)\r\n\r\nyou can even check the distance of the movement of user finger on screen to make sure a movement happened rather than an accidental move while clicking. do it like this:\r\n\r\n    switch(event.getAction())\r\n     {\r\n       \t case MotionEvent.ACTION_DOWN:\r\n                  if(isDown == false)\r\n                  {\r\n                         startX = event.getX();\r\n                         startY = event.getY();\r\n                         isDown = true;\r\n                  }\r\n                  Break;\r\n        \tcase MotionEvent.ACTION_UP\r\n                  {\r\n                         endX = event.getX();\r\n                         endY = event.getY();\r\n                         break;\r\n    \t      }\r\n    }\r\n\r\n\r\nconsider it a click if none of the above happened and do what you wanna do with click.\r\n\r\n2) if rimes with your UI, create a button or image button or anything for full screening and set an onClick for it.\r\n\r\nGood luck\r\n","title":"How can I detect a click in an onTouch listener?","body":"<p>Developing both is the wrong idea. when user may do different things by touching the screen understanding user purpose is a little bit nifty and you need to develop a piece of code for it.</p>\n\n<p>Two solutions:</p>\n\n<p>1- (the better idea) in your onTouch event check if there is a motion. You can do it by checking if there is any movement using:</p>\n\n<pre><code>ACTION_UP\nACTION_DOWN\nACTION_MOVE\n</code></pre>\n\n<p>do it like this</p>\n\n<pre><code>if(event.getAction() != MotionEvent.ACTION_MOVE)\n</code></pre>\n\n<p>you can even check the distance of the movement of user finger on screen to make sure a movement happened rather than an accidental move while clicking. do it like this:</p>\n\n<pre><code>switch(event.getAction())\n {\n     case MotionEvent.ACTION_DOWN:\n              if(isDown == false)\n              {\n                     startX = event.getX();\n                     startY = event.getY();\n                     isDown = true;\n              }\n              Break;\n        case MotionEvent.ACTION_UP\n              {\n                     endX = event.getX();\n                     endY = event.getY();\n                     break;\n          }\n}\n</code></pre>\n\n<p>consider it a click if none of the above happened and do what you wanna do with click.</p>\n\n<p>2) if rimes with your UI, create a button or image button or anything for full screening and set an onClick for it.</p>\n\n<p>Good luck</p>\n"},{"tags":[],"owner":{"account_id":246829,"reputation":21647,"user_id":521180,"accept_rate":56,"display_name":"124697"},"down_vote_count":2,"up_vote_count":78,"is_accepted":true,"score":76,"last_activity_date":1501795526,"creation_date":1374674073,"answer_id":17836095,"question_id":17831395,"body_markdown":"Masoud Dadashi&#39;s answer helped me figure it out.\r\n\r\nhere is how it looks in the end.\r\n\r\n    viewPager.setOnTouchListener(new OnTouchListener() {\r\n        private int CLICK_ACTION_THRESHOLD = 200;\r\n        private float startX;\r\n        private float startY;\r\n\r\n        @Override\r\n        public boolean onTouch(View v, MotionEvent event) {\r\n            switch (event.getAction()) {\r\n            case MotionEvent.ACTION_DOWN:\r\n                startX = event.getX();\r\n                startY = event.getY();\r\n                break;\r\n            case MotionEvent.ACTION_UP: \r\n                float endX = event.getX();\r\n                float endY = event.getY();\r\n                if (isAClick(startX, endX, startY, endY)) { \r\n                    launchFullPhotoActivity(imageUrls);// WE HAVE A CLICK!!\r\n                }\r\n                break;\r\n            }\r\n            v.getParent().requestDisallowInterceptTouchEvent(true); //specific to my project\r\n            return false; //specific to my project\r\n        }\r\n\r\n        private boolean isAClick(float startX, float endX, float startY, float endY) {\r\n            float differenceX = Math.abs(startX - endX);\r\n            float differenceY = Math.abs(startY - endY);\r\n            return !(differenceX &gt; CLICK_ACTION_THRESHOLD/* =5 */ || differenceY &gt; CLICK_ACTION_THRESHOLD);\r\n        } \r\n    }","title":"How can I detect a click in an onTouch listener?","body":"<p>Masoud Dadashi's answer helped me figure it out.</p>\n\n<p>here is how it looks in the end.</p>\n\n<pre><code>viewPager.setOnTouchListener(new OnTouchListener() {\n    private int CLICK_ACTION_THRESHOLD = 200;\n    private float startX;\n    private float startY;\n\n    @Override\n    public boolean onTouch(View v, MotionEvent event) {\n        switch (event.getAction()) {\n        case MotionEvent.ACTION_DOWN:\n            startX = event.getX();\n            startY = event.getY();\n            break;\n        case MotionEvent.ACTION_UP: \n            float endX = event.getX();\n            float endY = event.getY();\n            if (isAClick(startX, endX, startY, endY)) { \n                launchFullPhotoActivity(imageUrls);// WE HAVE A CLICK!!\n            }\n            break;\n        }\n        v.getParent().requestDisallowInterceptTouchEvent(true); //specific to my project\n        return false; //specific to my project\n    }\n\n    private boolean isAClick(float startX, float endX, float startY, float endY) {\n        float differenceX = Math.abs(startX - endX);\n        float differenceY = Math.abs(startY - endY);\n        return !(differenceX &gt; CLICK_ACTION_THRESHOLD/* =5 */ || differenceY &gt; CLICK_ACTION_THRESHOLD);\n    } \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4298782,"reputation":211,"user_id":3513040,"display_name":"Adam Komar"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1418686329,"creation_date":1418686329,"answer_id":27495090,"question_id":17831395,"body_markdown":"You might need to differentiate between the user clicking and long-clicking. Otherwise, you&#39;ll detect both as the same thing. I did this to make that possible:\r\n\r\n    @Override\r\n    public boolean onTouch(View v, MotionEvent event) {\r\n        switch (event.getAction()) {\r\n        case MotionEvent.ACTION_DOWN:\r\n            startX = event.getX();\r\n            startY = event.getY();\r\n    \r\n            bClick = true;\r\n            tmrClick = new Timer();\r\n            tmrClick.schedule(new TimerTask() {\r\n                public void run() {\r\n                    if (bClick == true) {\r\n                        bClick = false;\r\n                        Log.d(LOG_TAG, &quot;Hey, a long press event!&quot;);\r\n                        //Handle the longpress event.\r\n                    }\r\n                }\r\n            }, 500); //500ms is the standard longpress response time. Adjust as you see fit.\r\n    \r\n            return true;\r\n        case MotionEvent.ACTION_UP:\r\n            endX = event.getX();\r\n            endY = event.getY();\r\n    \r\n            diffX = Math.abs(startX - endX);\r\n            diffY = Math.abs(startY - endY);\r\n    \r\n            if (diffX &lt;= 5 &amp;&amp; diffY &lt;= 5 &amp;&amp; bClick == true) {\r\n                Log.d(LOG_TAG, &quot;A click event!&quot;);\r\n                bClick = false;\r\n            }\r\n            return true;\r\n        default:\r\n            return false;\r\n        }\r\n    }\r\n\r\n","title":"How can I detect a click in an onTouch listener?","body":"<p>You might need to differentiate between the user clicking and long-clicking. Otherwise, you'll detect both as the same thing. I did this to make that possible:</p>\n\n<pre><code>@Override\npublic boolean onTouch(View v, MotionEvent event) {\n    switch (event.getAction()) {\n    case MotionEvent.ACTION_DOWN:\n        startX = event.getX();\n        startY = event.getY();\n\n        bClick = true;\n        tmrClick = new Timer();\n        tmrClick.schedule(new TimerTask() {\n            public void run() {\n                if (bClick == true) {\n                    bClick = false;\n                    Log.d(LOG_TAG, \"Hey, a long press event!\");\n                    //Handle the longpress event.\n                }\n            }\n        }, 500); //500ms is the standard longpress response time. Adjust as you see fit.\n\n        return true;\n    case MotionEvent.ACTION_UP:\n        endX = event.getX();\n        endY = event.getY();\n\n        diffX = Math.abs(startX - endX);\n        diffY = Math.abs(startY - endY);\n\n        if (diffX &lt;= 5 &amp;&amp; diffY &lt;= 5 &amp;&amp; bClick == true) {\n            Log.d(LOG_TAG, \"A click event!\");\n            bClick = false;\n        }\n        return true;\n    default:\n        return false;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":424440,"reputation":10491,"user_id":804440,"accept_rate":76,"display_name":"nilsi"},"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1600855841,"creation_date":1433925619,"answer_id":30751270,"question_id":17831395,"body_markdown":"I did something really simple by checking the time the user touches the screen.\r\n\r\n    private static int CLICK_THRESHOLD = 100;\r\n\r\n    @Override\r\n    public boolean onTouch(View v, MotionEvent event) {\r\n        long duration = event.getEventTime() - event.getDownTime();\r\n\r\n        if (event.getAction() == MotionEvent.ACTION_UP &amp;&amp; duration &lt; CLICK_THRESHOLD) {\r\n            Log.w(&quot;bla&quot;, &quot;you clicked!&quot;);\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n\r\nAlso worth noting that [GestureDetector][1] has something like this built-in. Look at onSingleTapUp\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/view/GestureDetector.SimpleOnGestureListener.html\r\n","title":"How can I detect a click in an onTouch listener?","body":"<p>I did something really simple by checking the time the user touches the screen.</p>\n<pre><code>private static int CLICK_THRESHOLD = 100;\n\n@Override\npublic boolean onTouch(View v, MotionEvent event) {\n    long duration = event.getEventTime() - event.getDownTime();\n\n    if (event.getAction() == MotionEvent.ACTION_UP &amp;&amp; duration &lt; CLICK_THRESHOLD) {\n        Log.w(&quot;bla&quot;, &quot;you clicked!&quot;);\n    }\n\n    return false;\n}\n</code></pre>\n<p>Also worth noting that <a href=\"http://developer.android.com/reference/android/view/GestureDetector.SimpleOnGestureListener.html\" rel=\"noreferrer\">GestureDetector</a> has something like this built-in. Look at onSingleTapUp</p>\n"},{"tags":[],"owner":{"account_id":5288733,"reputation":71,"user_id":4221875,"display_name":"hoffer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1489594475,"creation_date":1489594475,"answer_id":42815220,"question_id":17831395,"body_markdown":"you can use OnTouchClickListener\r\n\r\nhttps://github.com/hoffergg/BaseLibrary/blob/master/src/main/java/com/dailycation/base/view/listener/OnTouchClickListener.java\r\n\r\nusage:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    view.setOnTouchListener(new OnTouchClickListener(new OnTouchClickListener.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n                        //perform onClick\r\n                    }\r\n                },5));\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How can I detect a click in an onTouch listener?","body":"<p>you can use OnTouchClickListener</p>\n\n<p><a href=\"https://github.com/hoffergg/BaseLibrary/blob/master/src/main/java/com/dailycation/base/view/listener/OnTouchClickListener.java\" rel=\"nofollow noreferrer\">https://github.com/hoffergg/BaseLibrary/blob/master/src/main/java/com/dailycation/base/view/listener/OnTouchClickListener.java</a></p>\n\n<p>usage:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>view.setOnTouchListener(new OnTouchClickListener(new OnTouchClickListener.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    //perform onClick\r\n                }\r\n            },5));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":4659463,"reputation":1931,"user_id":3774071,"display_name":"Mihuilk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1490909168,"creation_date":1490699388,"answer_id":43067982,"question_id":17831395,"body_markdown":"I think combined solution time/position should be better:   \r\n\r\n     private float initialTouchX;\r\n     private float initialTouchY;\r\n     private long lastTouchDown;\r\n     private static int CLICK_ACTION_THRESHHOLD = 100;\r\n     @Override\r\n                public boolean onTouch(View v, MotionEvent event) {\r\n                    switch (event.getAction()) {\r\n                        case MotionEvent.ACTION_DOWN:\r\n    \r\n                            lastTouchDown = System.currentTimeMillis();\r\n    \r\n                            //get the touch location\r\n                            initialTouchX = event.getRawX();\r\n                            initialTouchY = event.getRawY();\r\n                            return true;\r\n                        case MotionEvent.ACTION_UP:\r\n                            int Xdiff = (int) (event.getRawX() - initialTouchX);\r\n                            int Ydiff = (int) (event.getRawY() - initialTouchY);\r\n    \r\n                            if (System.currentTimeMillis() - lastTouchDown &lt; CLICK_ACTION_THRESHHOLD &amp;&amp;  (Xdiff &lt; 10 &amp;&amp; Ydiff &lt; 10))  {\r\n                               //clicked!!!\r\n                            }\r\n                            return true;\r\n                    }\r\n                    return false;\r\n                }\r\n            });","title":"How can I detect a click in an onTouch listener?","body":"<p>I think combined solution time/position should be better:   </p>\n\n<pre><code> private float initialTouchX;\n private float initialTouchY;\n private long lastTouchDown;\n private static int CLICK_ACTION_THRESHHOLD = 100;\n @Override\n            public boolean onTouch(View v, MotionEvent event) {\n                switch (event.getAction()) {\n                    case MotionEvent.ACTION_DOWN:\n\n                        lastTouchDown = System.currentTimeMillis();\n\n                        //get the touch location\n                        initialTouchX = event.getRawX();\n                        initialTouchY = event.getRawY();\n                        return true;\n                    case MotionEvent.ACTION_UP:\n                        int Xdiff = (int) (event.getRawX() - initialTouchX);\n                        int Ydiff = (int) (event.getRawY() - initialTouchY);\n\n                        if (System.currentTimeMillis() - lastTouchDown &lt; CLICK_ACTION_THRESHHOLD &amp;&amp;  (Xdiff &lt; 10 &amp;&amp; Ydiff &lt; 10))  {\n                           //clicked!!!\n                        }\n                        return true;\n                }\n                return false;\n            }\n        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5962728,"reputation":2317,"user_id":4687402,"accept_rate":50,"display_name":"Benjamin Basmaci"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1553010779,"creation_date":1553010779,"answer_id":55245091,"question_id":17831395,"body_markdown":"The answers above mostly memorize the time. However, `MotionEvent` already has you covered. Here a solution with less overhead. Its written in `kotlin` but it should still be understandable:\r\n\r\n    private const val ClickThreshold = 100\r\n\r\n    override fun onTouch(v: View, event: MotionEvent): Boolean {\r\n        if(event.action == MotionEvent.ACTION_UP \r\n          &amp;&amp; event.eventTime - event.downTime &lt; ClickThreshold) {\r\n            v.performClick()\r\n            return true // If you don&#39;t want to do any more actions\r\n        }\r\n\r\n        // do something in case its not a click\r\n\r\n        return true // or false, whatever you need here\r\n    }\r\n\r\nThis solution is good enough for most applications but is not so good in distinguishing between a click and a very quick swipe. \r\n\r\nSo, combining this with the answers above that also take the position into account is probably the best one.","title":"How can I detect a click in an onTouch listener?","body":"<p>The answers above mostly memorize the time. However, <code>MotionEvent</code> already has you covered. Here a solution with less overhead. Its written in <code>kotlin</code> but it should still be understandable:</p>\n\n<pre><code>private const val ClickThreshold = 100\n\noverride fun onTouch(v: View, event: MotionEvent): Boolean {\n    if(event.action == MotionEvent.ACTION_UP \n      &amp;&amp; event.eventTime - event.downTime &lt; ClickThreshold) {\n        v.performClick()\n        return true // If you don't want to do any more actions\n    }\n\n    // do something in case its not a click\n\n    return true // or false, whatever you need here\n}\n</code></pre>\n\n<p>This solution is good enough for most applications but is not so good in distinguishing between a click and a very quick swipe. </p>\n\n<p>So, combining this with the answers above that also take the position into account is probably the best one.</p>\n"},{"tags":[],"owner":{"account_id":6651349,"reputation":4535,"user_id":7756492,"display_name":"ucMedia"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1676558982,"creation_date":1581957815,"answer_id":60266944,"question_id":17831395,"body_markdown":"***don&#39;t try to *REINVENT* the wheel !***\r\n&lt;br&gt;&lt;br&gt;\r\nElegant way to do it :\r\n&lt;/br&gt;\r\n\r\n    public class CustomView extends View {\r\n\r\n        private GestureDetectorCompat mDetector;\r\n\r\n        public CustomView(Context context) {\r\n            super(context);\r\n            mDetector = new GestureDetectorCompat(context, new MyGestureListener());\r\n        }\r\n\r\n        @Override\r\n        public boolean onTouchEvent(MotionEvent event){\r\n            return this.mDetector.onTouchEvent(event);\r\n        }\r\n\r\n        class MyGestureListener extends GestureDetector.SimpleOnGestureListener {\r\n            @Override\r\n            public boolean onDown(MotionEvent e) {return true;}\r\n\r\n            @Override\r\n            public boolean onSingleTapConfirmed(MotionEvent e) {\r\n                //...... click detected !\r\n                return false;\r\n            }\r\n        }\r\n    }","title":"How can I detect a click in an onTouch listener?","body":"<p><em><strong>don't try to <em>REINVENT</em> the wheel !</strong></em>\n<br><br>\nElegant way to do it :\n</p>\n<pre><code>public class CustomView extends View {\n\n    private GestureDetectorCompat mDetector;\n\n    public CustomView(Context context) {\n        super(context);\n        mDetector = new GestureDetectorCompat(context, new MyGestureListener());\n    }\n\n    @Override\n    public boolean onTouchEvent(MotionEvent event){\n        return this.mDetector.onTouchEvent(event);\n    }\n\n    class MyGestureListener extends GestureDetector.SimpleOnGestureListener {\n        @Override\n        public boolean onDown(MotionEvent e) {return true;}\n\n        @Override\n        public boolean onSingleTapConfirmed(MotionEvent e) {\n            //...... click detected !\n            return false;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13663910,"reputation":4216,"user_id":10199138,"display_name":"MJ Studio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1610382946,"creation_date":1610382946,"answer_id":65670911,"question_id":17831395,"body_markdown":"```kotlin\r\nif (event.eventTime - event.downTime &lt; 100 &amp;&amp; event.actionMasked == MotionEvent.ACTION_UP) {\r\n     view.performClick()\r\n     return false\r\n}\r\n```","title":"How can I detect a click in an onTouch listener?","body":"<pre class=\"lang-kotlin prettyprint-override\"><code>if (event.eventTime - event.downTime &lt; 100 &amp;&amp; event.actionMasked == MotionEvent.ACTION_UP) {\n     view.performClick()\n     return false\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18812812,"reputation":92,"user_id":13720647,"display_name":"Zobaer Hossain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1628101938,"creation_date":1628101938,"answer_id":68656408,"question_id":17831395,"body_markdown":"This code will do both touch events and click event.\r\n\r\n\r\n\r\n\r\n\r\n    viewPager.setOnTouchListener(new View.OnTouchListener() {\r\n                private int initialX;\r\n                private int initialY;\r\n                private float initialTouchX;\r\n                private float initialTouchY;\r\n    \r\n    \r\n                @Override\r\n                public boolean onTouch(View v, MotionEvent event) {\r\n                    switch (event.getAction()) {\r\n                        case MotionEvent.ACTION_DOWN:\r\n    \r\n                            //remember the initial position.\r\n                            initialX = params.x;\r\n                            initialY = params.y;\r\n    \r\n                            //get the touch location\r\n                            initialTouchX = event.getRawX();\r\n                            initialTouchY = event.getRawY();\r\n                            return true;\r\n                        case MotionEvent.ACTION_UP:\r\n                            int Xdiff = (int) (event.getRawX() - initialTouchX);\r\n                            int Ydiff = (int) (event.getRawY() - initialTouchY);\r\n    \r\n    \r\n                            //The check for Xdiff &lt;10 &amp;&amp; YDiff&lt; 10 because sometime elements moves a little while clicking.\r\n                            \r\n                            if (Xdiff &lt; 10 &amp;&amp; Ydiff &lt; 10) {\r\n                                //So that is click event.\r\n                            }\r\n                            return true;\r\n                        case MotionEvent.ACTION_MOVE:\r\n                            //Calculate the X and Y coordinates of the view.\r\n                            params.x = initialX + (int) (event.getRawX() - initialTouchX);\r\n                            params.y = initialY + (int) (event.getRawY() - initialTouchY);\r\n    \r\n    \r\n                            //Update the layout with new X &amp; Y coordinate\r\n                            mWindowManager.updateViewLayout(mFloatingView, params);\r\n                            return true;\r\n                    }\r\n                    return false;\r\n                }\r\n            });\r\n\r\nHere is the [source.][1]\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=rVVLxs7aRPU&amp;list=PLIsyd6HopHYDArRKRgyj-Zsivxlu4GUPk&amp;index=3&amp;ab_channel=AnyTechnology","title":"How can I detect a click in an onTouch listener?","body":"<p>This code will do both touch events and click event.</p>\n<pre><code>viewPager.setOnTouchListener(new View.OnTouchListener() {\n            private int initialX;\n            private int initialY;\n            private float initialTouchX;\n            private float initialTouchY;\n\n\n            @Override\n            public boolean onTouch(View v, MotionEvent event) {\n                switch (event.getAction()) {\n                    case MotionEvent.ACTION_DOWN:\n\n                        //remember the initial position.\n                        initialX = params.x;\n                        initialY = params.y;\n\n                        //get the touch location\n                        initialTouchX = event.getRawX();\n                        initialTouchY = event.getRawY();\n                        return true;\n                    case MotionEvent.ACTION_UP:\n                        int Xdiff = (int) (event.getRawX() - initialTouchX);\n                        int Ydiff = (int) (event.getRawY() - initialTouchY);\n\n\n                        //The check for Xdiff &lt;10 &amp;&amp; YDiff&lt; 10 because sometime elements moves a little while clicking.\n                        \n                        if (Xdiff &lt; 10 &amp;&amp; Ydiff &lt; 10) {\n                            //So that is click event.\n                        }\n                        return true;\n                    case MotionEvent.ACTION_MOVE:\n                        //Calculate the X and Y coordinates of the view.\n                        params.x = initialX + (int) (event.getRawX() - initialTouchX);\n                        params.y = initialY + (int) (event.getRawY() - initialTouchY);\n\n\n                        //Update the layout with new X &amp; Y coordinate\n                        mWindowManager.updateViewLayout(mFloatingView, params);\n                        return true;\n                }\n                return false;\n            }\n        });\n</code></pre>\n<p>Here is the <a href=\"https://www.youtube.com/watch?v=rVVLxs7aRPU&amp;list=PLIsyd6HopHYDArRKRgyj-Zsivxlu4GUPk&amp;index=3&amp;ab_channel=AnyTechnology\" rel=\"nofollow noreferrer\">source.</a></p>\n"},{"tags":[],"owner":{"account_id":3643152,"reputation":2519,"user_id":3036824,"display_name":"Praveen Singh"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1668435591,"creation_date":1667495862,"answer_id":74307121,"question_id":17831395,"body_markdown":"Rather than distance / time diff based approaches, You can make use of `GestureDetector` in combination with `setOnTouchListener` to achieve this.\r\n`GestureDetector` would detect the click while you can use `OnTouchListener` for other touch based events, e.g detecting drag.\r\n\r\nHere is a sample code for reference:\r\n\r\n    Class MyCustomView() {\r\n    \r\n        fun addClickAndTouchListener() {\r\n            val gestureDetector = GestureDetector(\r\n                context,\r\n                object : GestureDetector.SimpleOnGestureListener() {\r\n                    override fun onSingleTapConfirmed(e: MotionEvent?): Boolean {\r\n                        // Add your onclick logic here\r\n                        return true\r\n                    }\r\n                }\r\n            )\r\n    \r\n            setOnTouchListener { view, event -&gt;\r\n                when {\r\n                    gestureDetector.onTouchEvent(event) -&gt; {\r\n                        // Your onclick logic would be triggered through SimpleOnGestureListener\r\n                        return@setOnTouchListener true\r\n                    }\r\n                    event.action == MotionEvent.ACTION_DOWN -&gt; {\r\n                        // Handle touch event\r\n                        return@setOnTouchListener true\r\n                    }\r\n                    event.action == MotionEvent.ACTION_MOVE -&gt; {\r\n                        // Handle drag\r\n                        return@setOnTouchListener true\r\n                    }\r\n                    event.action == MotionEvent.ACTION_UP -&gt; {\r\n                        // Handle Drag over\r\n                        return@setOnTouchListener true\r\n                    }\r\n                    else -&gt; return@setOnTouchListener false\r\n                }\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n","title":"How can I detect a click in an onTouch listener?","body":"<p>Rather than distance / time diff based approaches, You can make use of <code>GestureDetector</code> in combination with <code>setOnTouchListener</code> to achieve this.\n<code>GestureDetector</code> would detect the click while you can use <code>OnTouchListener</code> for other touch based events, e.g detecting drag.</p>\n<p>Here is a sample code for reference:</p>\n<pre><code>Class MyCustomView() {\n\n    fun addClickAndTouchListener() {\n        val gestureDetector = GestureDetector(\n            context,\n            object : GestureDetector.SimpleOnGestureListener() {\n                override fun onSingleTapConfirmed(e: MotionEvent?): Boolean {\n                    // Add your onclick logic here\n                    return true\n                }\n            }\n        )\n\n        setOnTouchListener { view, event -&gt;\n            when {\n                gestureDetector.onTouchEvent(event) -&gt; {\n                    // Your onclick logic would be triggered through SimpleOnGestureListener\n                    return@setOnTouchListener true\n                }\n                event.action == MotionEvent.ACTION_DOWN -&gt; {\n                    // Handle touch event\n                    return@setOnTouchListener true\n                }\n                event.action == MotionEvent.ACTION_MOVE -&gt; {\n                    // Handle drag\n                    return@setOnTouchListener true\n                }\n                event.action == MotionEvent.ACTION_UP -&gt; {\n                    // Handle Drag over\n                    return@setOnTouchListener true\n                }\n                else -&gt; return@setOnTouchListener false\n            }\n        }\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":246829,"reputation":21647,"user_id":521180,"accept_rate":56,"display_name":"124697"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42399,"favorite_count":0,"down_vote_count":0,"up_vote_count":40,"accepted_answer_id":17836095,"answer_count":13,"score":40,"last_activity_date":1676558982,"creation_date":1374661725,"question_id":17831395,"body_markdown":"I have a `ViewPager` inside a `ScrollView`. I need to be able to scroll horizontally as well as vertically. In order to achieve this had to disable the vertical scrolling whenever my `ViewPager` is touched (` v.getParent().requestDisallowInterceptTouchEvent(true); `), so that it can be scrolled horizontally.\r\n\r\nBut at the same time I need to be able to click the viewPager to open it in full screen mode.\r\n\r\n**The problem is that onTouch gets called before onClick and my OnClick is never called.**\r\n\r\n**How can I implement both on touch an onClick?**\r\n\r\n    viewPager.setOnTouchListener(new OnTouchListener() {\r\n        @Override\r\n        public boolean onTouch(View v, MotionEvent event) {\r\n            System.out.println(&quot;TOUCHED &quot;);\r\n            if(event.getAction() == MotionEvent.???){\r\n                //open fullscreen activity\r\n            }\r\n            v.getParent().requestDisallowInterceptTouchEvent(true); //This cannot be removed\r\n            return false;\r\n        }\r\n    });\r\n\r\n    viewPager.setOnClickListener(new OnClickListener() {\r\n        @Override\r\n        public void onClick(View v) {\r\n            System.out.println(&quot;CLICKED &quot;);\r\n            Intent fullPhotoIntent = new Intent(context, FullPhotoActivity.class);\r\n            fullPhotoIntent.putStringArrayListExtra(&quot;imageUrls&quot;, imageUrls);\r\n            startActivity(fullPhotoIntent);\r\n        }\r\n    });","title":"How can I detect a click in an onTouch listener?","body":"<p>I have a <code>ViewPager</code> inside a <code>ScrollView</code>. I need to be able to scroll horizontally as well as vertically. In order to achieve this had to disable the vertical scrolling whenever my <code>ViewPager</code> is touched (<code>v.getParent().requestDisallowInterceptTouchEvent(true);</code>), so that it can be scrolled horizontally.</p>\n\n<p>But at the same time I need to be able to click the viewPager to open it in full screen mode.</p>\n\n<p><strong>The problem is that onTouch gets called before onClick and my OnClick is never called.</strong></p>\n\n<p><strong>How can I implement both on touch an onClick?</strong></p>\n\n<pre><code>viewPager.setOnTouchListener(new OnTouchListener() {\n    @Override\n    public boolean onTouch(View v, MotionEvent event) {\n        System.out.println(\"TOUCHED \");\n        if(event.getAction() == MotionEvent.???){\n            //open fullscreen activity\n        }\n        v.getParent().requestDisallowInterceptTouchEvent(true); //This cannot be removed\n        return false;\n    }\n});\n\nviewPager.setOnClickListener(new OnClickListener() {\n    @Override\n    public void onClick(View v) {\n        System.out.println(\"CLICKED \");\n        Intent fullPhotoIntent = new Intent(context, FullPhotoActivity.class);\n        fullPhotoIntent.putStringArrayListExtra(\"imageUrls\", imageUrls);\n        startActivity(fullPhotoIntent);\n    }\n});\n</code></pre>\n"},{"tags":["java","spring","spring-data-jpa","repository"],"comments":[{"owner":{"account_id":4668137,"reputation":6228,"user_id":9681755,"display_name":"Dirk Deyne"},"score":1,"creation_date":1676558751,"post_id":75473826,"comment_id":133164409,"body_markdown":"corrupt data in DB?","body":"corrupt data in DB?"},{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":0,"creation_date":1676573742,"post_id":75473826,"comment_id":133169345,"body_markdown":"share the full stacktrace","body":"share the full stacktrace"}],"answers":[{"tags":[],"owner":{"account_id":20076907,"reputation":24,"user_id":14720468,"display_name":"B0O0M"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1676558847,"creation_date":1676558847,"answer_id":75473933,"question_id":75473826,"body_markdown":"The most likely cause of the null pointer exception when using the findAll() method is that there is no data available in the database that matches the criteria specified. To troubleshoot this issue, try adding a few entries into the database and then running the findAll() method again. Additionally, you can also check the database for correct data type and field configurations, as these can lead to unexpected results.","title":"Spring Data JPA findAll throws NullPointerException","body":"<p>The most likely cause of the null pointer exception when using the findAll() method is that there is no data available in the database that matches the criteria specified. To troubleshoot this issue, try adding a few entries into the database and then running the findAll() method again. Additionally, you can also check the database for correct data type and field configurations, as these can lead to unexpected results.</p>\n"}],"owner":{"account_id":7509953,"reputation":22160,"user_id":5705247,"accept_rate":27,"display_name":"Tuomas Toivonen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":382,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75473933,"answer_count":1,"score":1,"last_activity_date":1676558847,"creation_date":1676558348,"question_id":75473826,"body_markdown":"I have following autowired repository\r\n\r\n```\r\n@Repository\r\npublic interface ProsessiAjossaRepository extends JpaRepository&lt;ProsessiAjossa, Long&gt; {\r\n\r\n    ProsessiAjossa findByProsessi(final Prosessi prosessi);\r\n}\r\n\r\n```\r\n\r\nautomatically generated `findById()` method works fine, but `findAll()` throws null pointer exception for some reason. What may be wrong?","title":"Spring Data JPA findAll throws NullPointerException","body":"<p>I have following autowired repository</p>\n<pre><code>@Repository\npublic interface ProsessiAjossaRepository extends JpaRepository&lt;ProsessiAjossa, Long&gt; {\n\n    ProsessiAjossa findByProsessi(final Prosessi prosessi);\n}\n\n</code></pre>\n<p>automatically generated <code>findById()</code> method works fine, but <code>findAll()</code> throws null pointer exception for some reason. What may be wrong?</p>\n"},{"tags":["java","junit4","junit5","runner"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1676542125,"post_id":75470665,"comment_id":133159217,"body_markdown":"JUnit 5 uses extensions for this.","body":"JUnit 5 uses extensions for this."},{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":0,"creation_date":1676559088,"post_id":75470665,"comment_id":133164529,"body_markdown":"In `JUnit 5` we use `@ExtendWith`. Take a look here for more details: https://www.baeldung.com/junit-5-runwith","body":"In <code>JUnit 5</code> we use <code>@ExtendWith</code>. Take a look here for more details: <a href=\"https://www.baeldung.com/junit-5-runwith\" rel=\"nofollow noreferrer\">baeldung.com/junit-5-runwith</a>"},{"owner":{"display_name":"user2858650"},"score":0,"creation_date":1676559938,"post_id":75470665,"comment_id":133164794,"body_markdown":"This question explains it nicely: https://stackoverflow.com/questions/55276555/when-to-use-runwith-and-when-extendwith","body":"This question explains it nicely: <a href=\"https://stackoverflow.com/questions/55276555/when-to-use-runwith-and-when-extendwith\" title=\"when to use runwith and when extendwith\">stackoverflow.com/questions/55276555/&hellip;</a>"},{"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"score":0,"creation_date":1676573629,"post_id":75470665,"comment_id":133169302,"body_markdown":"It really depends on the exact runners you’re using. Some have an equivalent extension, some require another test-engine, for others you’ll have to do the migration to a JUnit5 extension yourself. In very rare cases, a 1-1 migration might not be possible at all. So which runners are you talking about?","body":"It really depends on the exact runners you’re using. Some have an equivalent extension, some require another test-engine, for others you’ll have to do the migration to a JUnit5 extension yourself. In very rare cases, a 1-1 migration might not be possible at all. So which runners are you talking about?"},{"owner":{"account_id":19475688,"reputation":13,"user_id":14247129,"display_name":"Dhanyaa Bharadwaj"},"score":0,"creation_date":1676611528,"post_id":75470665,"comment_id":133175994,"body_markdown":"@M.Deinum, what extensions?","body":"@M.Deinum, what extensions?"},{"owner":{"account_id":19475688,"reputation":13,"user_id":14247129,"display_name":"Dhanyaa Bharadwaj"},"score":0,"creation_date":1676614652,"post_id":75470665,"comment_id":133176419,"body_markdown":"@johanneslink, I am talking about the abstract class (public abstract class Runner implements Describable), from the package org.junit.runner","body":"@johanneslink, I am talking about the abstract class (public abstract class Runner implements Describable), from the package org.junit.runner"},{"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"score":0,"creation_date":1676614879,"post_id":75470665,"comment_id":133176454,"body_markdown":"As said, there’s no generic solution for the abstract Runner. There are only solutions for concrete usages.","body":"As said, there’s no generic solution for the abstract Runner. There are only solutions for concrete usages."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1676877054,"post_id":75470665,"comment_id":133218594,"body_markdown":"The one that are used with `@ExtendWith` which also need a specific interface to implement. You probably need to rewrite your runner for that, or if it is a 3rd party runner look for the JUnit5 alternative, if there isn&#39;t keep using JUnit4 (through the vintage runner) or rewrite it yourself.","body":"The one that are used with <code>@ExtendWith</code> which also need a specific interface to implement. You probably need to rewrite your runner for that, or if it is a 3rd party runner look for the JUnit5 alternative, if there isn&#39;t keep using JUnit4 (through the vintage runner) or rewrite it yourself."}],"owner":{"account_id":19475688,"reputation":13,"user_id":14247129,"display_name":"Dhanyaa Bharadwaj"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676558741,"creation_date":1676542057,"question_id":75470665,"body_markdown":"I have a class written that extends Runner (org.junit.runner.Runner), which is a part of the `junit-4.13.2.jar`. I am trying to migrate to `JUnit 5` without using the `JUnit Vintage` engine. Is there a counterpart for the same class in `JUnit 5`, i.e., is there a way to migrate completely to `JUnit 5`?","title":"Migrating from JUnit4 to JUnit5: Runner","body":"<p>I have a class written that extends Runner (org.junit.runner.Runner), which is a part of the <code>junit-4.13.2.jar</code>. I am trying to migrate to <code>JUnit 5</code> without using the <code>JUnit Vintage</code> engine. Is there a counterpart for the same class in <code>JUnit 5</code>, i.e., is there a way to migrate completely to <code>JUnit 5</code>?</p>\n"},{"tags":["java","reflection"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1657812231,"post_id":72982904,"comment_id":128904208,"body_markdown":"maybe this helps: https://stackoverflow.com/questions/41265266/how-to-solve-inaccessibleobjectexception-unable-to-make-member-accessible-m","body":"maybe this helps: <a href=\"https://stackoverflow.com/questions/41265266/how-to-solve-inaccessibleobjectexception-unable-to-make-member-accessible-m\" title=\"how to solve inaccessibleobjectexception unable to make member accessible m\">stackoverflow.com/questions/41265266/&hellip;</a>"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":2,"creation_date":1657813760,"post_id":72982904,"comment_id":128904808,"body_markdown":"&quot;How to solve [...]&quot;: by rewriting your code so that this is no longer required.","body":"&quot;How to solve [...]&quot;: by rewriting your code so that this is no longer required."},{"owner":{"account_id":2866071,"reputation":6012,"user_id":2460378,"accept_rate":81,"display_name":"Thomas S."},"score":0,"creation_date":1657870637,"post_id":72982904,"comment_id":128917050,"body_markdown":"@ThomasKl&#228;ger What exactly do you suggest to get the launched process&#39; handle (to being able to kill the whole process tree)?","body":"@ThomasKl&#228;ger What exactly do you suggest to get the launched process&#39; handle (to being able to kill the whole process tree)?"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":3,"creation_date":1657875633,"post_id":72982904,"comment_id":128918578,"body_markdown":"@ThomasS. by using the methods that Java supports since Java 9 (see the last code fragment at https://stackoverflow.com/a/10124625, using `ProcessHandle`)","body":"@ThomasS. by using the methods that Java supports since Java 9 (see the last code fragment at <a href=\"https://stackoverflow.com/a/10124625\">stackoverflow.com/a/10124625</a>, using <code>ProcessHandle</code>)"}],"answers":[{"tags":[],"owner":{"account_id":86953,"reputation":16978,"user_id":241453,"accept_rate":71,"display_name":"mstrap"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1660333274,"creation_date":1657877469,"answer_id":72991899,"question_id":72982904,"body_markdown":"As [this answer][1] points out, one solution is to add following VM option:\r\n\r\n```\r\njava --add-opens java.base/java.lang=ALL-UNNAMED\r\n```\r\n\r\n  [1]: https://stackoverflow.com/a/41265267/241453","title":"How to resolve InaccessibleObjectException for Field.setAccessible in JDK 17?","body":"<p>As <a href=\"https://stackoverflow.com/a/41265267/241453\">this answer</a> points out, one solution is to add following VM option:</p>\n<pre><code>java --add-opens java.base/java.lang=ALL-UNNAMED\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27803734,"reputation":11,"user_id":21227673,"display_name":"greencodes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676558570,"creation_date":1676558528,"answer_id":75473860,"question_id":72982904,"body_markdown":"Alternative Java 17 solution:\r\n\r\n```\r\nField field = MyClass.class.getDeclaredField(&quot;myField&quot;);\r\nMethodHandle getter = MethodHandles.lookup().unreflectGetter(field);\r\nObject value = getter.invokeExact(new MyClass()); ```","title":"How to resolve InaccessibleObjectException for Field.setAccessible in JDK 17?","body":"<p>Alternative Java 17 solution:</p>\n<pre><code>Field field = MyClass.class.getDeclaredField(&quot;myField&quot;);\nMethodHandle getter = MethodHandles.lookup().unreflectGetter(field);\nObject value = getter.invokeExact(new MyClass()); ```\n</code></pre>\n"}],"owner":{"account_id":86953,"reputation":16978,"user_id":241453,"accept_rate":71,"display_name":"mstrap"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19612,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":2,"score":5,"last_activity_date":1676558570,"creation_date":1657811891,"question_id":72982904,"body_markdown":"With JDK 17, it&#39;s not possible anymore to make a field accessible using reflection, at least not for `java.lang`-classes. Following snippet:\r\n\r\n```\r\nfinal Process process = new ProcessBuilder().directory(new File(&quot;d:/temp&quot;)).command(&quot;cmd.exe&quot;).start();\r\nfinal Field handleField = process.getClass().getDeclaredField(&quot;handle&quot;);\r\nhandleField.setAccessible(true);\r\n```\r\n\r\nfails with:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.reflect.InaccessibleObjectException: Unable to make field private final long java.lang.ProcessImpl.handle accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @254989ff\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n\tat java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178)\r\n\tat java.base/java.lang.reflect.Field.setAccessible(Field.java:172)\r\n```\r\n\r\nIs there a way to work around this problem?","title":"How to resolve InaccessibleObjectException for Field.setAccessible in JDK 17?","body":"<p>With JDK 17, it's not possible anymore to make a field accessible using reflection, at least not for <code>java.lang</code>-classes. Following snippet:</p>\n<pre><code>final Process process = new ProcessBuilder().directory(new File(&quot;d:/temp&quot;)).command(&quot;cmd.exe&quot;).start();\nfinal Field handleField = process.getClass().getDeclaredField(&quot;handle&quot;);\nhandleField.setAccessible(true);\n</code></pre>\n<p>fails with:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.reflect.InaccessibleObjectException: Unable to make field private final long java.lang.ProcessImpl.handle accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @254989ff\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n    at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178)\n    at java.base/java.lang.reflect.Field.setAccessible(Field.java:172)\n</code></pre>\n<p>Is there a way to work around this problem?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"score":1,"creation_date":1653367322,"post_id":72357235,"comment_id":127828244,"body_markdown":"Unless you have multiple implementations of `MedicalRecordService`, it doesn&#39;t make any sense to call methods using a reference which will refer to the same Service instance (as beans by default are `Singleton`)","body":"Unless you have multiple implementations of <code>MedicalRecordService</code>, it doesn&#39;t make any sense to call methods using a reference which will refer to the same Service instance (as beans by default are <code>Singleton</code>)"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1653371833,"post_id":72357235,"comment_id":127829073,"body_markdown":"In this case the self reference doesn&#39;t make sense. It would make sense if the `saveMedicalRecord` would run in a new transaction. But here it doesn&#39;t make sense. Another thing wrong with this service is that it is tied to the web layer by returning a `ResponseEntity` that belongs in the controller **not** your service.","body":"In this case the self reference doesn&#39;t make sense. It would make sense if the <code>saveMedicalRecord</code> would run in a new transaction. But here it doesn&#39;t make sense. Another thing wrong with this service is that it is tied to the web layer by returning a <code>ResponseEntity</code> that belongs in the controller <b>not</b> your service."},{"owner":{"account_id":17484775,"reputation":129,"user_id":12678049,"display_name":"Juan Jose Garcia"},"score":0,"creation_date":1653435663,"post_id":72357235,"comment_id":127851062,"body_markdown":"@M.Deinum Then you recommend me to return the response entity directly from the controller? the thing is some people taught me that the controllers should not have any logic, they should only be limited to call the service then what I do from the controller is to call the service and already, then the service is responsible for returning a 200, 404, 500...","body":"@M.Deinum Then you recommend me to return the response entity directly from the controller? the thing is some people taught me that the controllers should not have any logic, they should only be limited to call the service then what I do from the controller is to call the service and already, then the service is responsible for returning a 200, 404, 500..."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1653456865,"post_id":72357235,"comment_id":127853936,"body_markdown":"That is wrong. Your service shouldn&#39;t be tied to the web, the controllers responsibility is to convert the service answer to something suitable for the web and to convert the input from the web into something the service can use. There should be only conversion logic (more or less) in your controller. All business logic should reside in services. Now you have a service which is useless when using from a message queue, soap webservice etc. while the idea is that you should be able to reuse that.","body":"That is wrong. Your service shouldn&#39;t be tied to the web, the controllers responsibility is to convert the service answer to something suitable for the web and to convert the input from the web into something the service can use. There should be only conversion logic (more or less) in your controller. All business logic should reside in services. Now you have a service which is useless when using from a message queue, soap webservice etc. while the idea is that you should be able to reuse that."}],"answers":[{"tags":[],"owner":{"account_id":19332677,"reputation":302,"user_id":14133911,"display_name":"Rafael da Silva"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653426070,"creation_date":1653422728,"answer_id":72368885,"question_id":72357235,"body_markdown":"As you said, I will assume that you know what the error is and how to resolve it. A circular reference is bad for the following reason:\r\n\r\nSpring loads beans the moment you start the project, meaning it loads each bean in the correct order so it can load all beans and references them successfully. If you have a circular reference Spring won&#39;t know with which bean to start first, and so the error occurs. It&#39;s about how Spring works.\r\n\r\nI also had this error in my current project and you are not limited to not making the circular reference, you just need to instruct Spring, so that it knows how to handle each bean in these cases.","title":"How bad is a service circular reference?","body":"<p>As you said, I will assume that you know what the error is and how to resolve it. A circular reference is bad for the following reason:</p>\n<p>Spring loads beans the moment you start the project, meaning it loads each bean in the correct order so it can load all beans and references them successfully. If you have a circular reference Spring won't know with which bean to start first, and so the error occurs. It's about how Spring works.</p>\n<p>I also had this error in my current project and you are not limited to not making the circular reference, you just need to instruct Spring, so that it knows how to handle each bean in these cases.</p>\n"},{"tags":[],"owner":{"account_id":5541926,"reputation":364,"user_id":4398127,"accept_rate":75,"display_name":"Moshe9362"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653423240,"creation_date":1653423240,"answer_id":72368973,"question_id":72357235,"body_markdown":"Well, imagine this:\r\nYou get a new phone, you are all excited about it. You want to unlock it, but it protectd with password. The password is available inside the notes in the locked phone.\r\n\r\nSo, you want to use your phone, for it you need the pass. You want the pass, for it you need to unlock the phone. You want to use your phone, for it you need your pass... Etc. \r\n\r\nThe same happens when you have circular references, for A you need B, for B you need A, so you cannot create A and cannot create B either and cannot proceed. ","title":"How bad is a service circular reference?","body":"<p>Well, imagine this:\nYou get a new phone, you are all excited about it. You want to unlock it, but it protectd with password. The password is available inside the notes in the locked phone.</p>\n<p>So, you want to use your phone, for it you need the pass. You want the pass, for it you need to unlock the phone. You want to use your phone, for it you need your pass... Etc.</p>\n<p>The same happens when you have circular references, for A you need B, for B you need A, so you cannot create A and cannot create B either and cannot proceed.</p>\n"},{"tags":[],"owner":{"display_name":"user2636594"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676558544,"creation_date":1653425917,"answer_id":72369400,"question_id":72357235,"body_markdown":"The only reason why you may need circular dependency is the case when you want to access to &quot;this&quot; as to a bean to trigger annotated method logic.\r\n\r\nFor example if you have two methods &quot;foo&quot; (annotated  with @Transactional) and &quot;bar&quot; (invokes &quot;foo&quot; within). You will have to use self injection to trigger transaction in case of invocation bar&gt;foo (selfBean.foo() instead of this.foo()).\r\n\r\nAlso you can use @Lasy for self injection to avoid the circular dependency error.\r\n\r\nBut it&#39;s a pretty ugly solution and you should avoid it if it&#39;s possible. It depends on the situation, may be it&#39;s possible to split logic to different services or use TransactionTemplate.","title":"How bad is a service circular reference?","body":"<p>The only reason why you may need circular dependency is the case when you want to access to &quot;this&quot; as to a bean to trigger annotated method logic.</p>\n<p>For example if you have two methods &quot;foo&quot; (annotated  with @Transactional) and &quot;bar&quot; (invokes &quot;foo&quot; within). You will have to use self injection to trigger transaction in case of invocation bar&gt;foo (selfBean.foo() instead of this.foo()).</p>\n<p>Also you can use @Lasy for self injection to avoid the circular dependency error.</p>\n<p>But it's a pretty ugly solution and you should avoid it if it's possible. It depends on the situation, may be it's possible to split logic to different services or use TransactionTemplate.</p>\n"}],"owner":{"account_id":17484775,"reputation":129,"user_id":12678049,"display_name":"Juan Jose Garcia"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":501,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":72369400,"answer_count":3,"score":-2,"last_activity_date":1676558544,"creation_date":1653366652,"question_id":72357235,"body_markdown":"I have a question and it is related to the error that I am getting. How bad is it really to have a circular reference in my service? I know very well what the error is due to and how to possibly solve it, only that in the company where I work a Senior recommended me that for transactional issues it is necessary to make such a circular reference and in fact it is a very recurrent practice there, but as I am starting a personal project from scratch is the first time I get the error and it triggered the doubt again. Thank you very much in advance!\r\n\r\n[![Circular reference Spring Boot error][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AcsrB.png\r\n\r\nHere is the code of the service\r\n\r\n```\r\npublic class MedicalRecordServiceImpl implements MedicalRecordService {\r\n\r\n    private final MedicalRecordRepository medicalRecordRepository;\r\n    private final MedicalRecordService medicalRecordService;\r\n    private final PatientService patientService;\r\n    private final TutorService tutorService;\r\n    private final MedicalHistoryAnswerService medicalHistoryAnswerService;\r\n    private final DentalHistoryAnswerService dentalHistoryAnswerService;\r\n\r\n    public MedicalRecordServiceImpl(MedicalRecordRepository medicalRecordRepository, MedicalRecordService medicalRecordService, PatientService patientService, TutorService tutorService, MedicalHistoryAnswerService medicalHistoryAnswerService, DentalHistoryAnswerService dentalHistoryAnswerService) {\r\n        this.medicalRecordRepository = medicalRecordRepository;\r\n        this.medicalRecordService = medicalRecordService;\r\n\r\n        this.patientService = patientService;\r\n        this.tutorService = tutorService;\r\n        this.medicalHistoryAnswerService = medicalHistoryAnswerService;\r\n        this.dentalHistoryAnswerService = dentalHistoryAnswerService;\r\n    }\r\n\r\n    @Override\r\n    @Transactional(propagation = Propagation.REQUIRED)\r\n    public void saveMedicalRecord(MedicalRecordEntity medicalRecord) {\r\n        medicalRecordRepository.save(medicalRecord);\r\n    }\r\n\r\n    @Override\r\n    @Transactional(propagation = Propagation.REQUIRED)\r\n    public ResponseEntity&lt;?&gt; createNewMedicalRecord(MedicalRecordDTO medicalRecordDTO) {\r\n\r\n        PatientEntity patient = this.storeMedicalRecordIntoPatient(medicalRecordDTO);\r\n        TutorEntity tutor = this.storeMedicalRecordIntoTutor(medicalRecordDTO);\r\n        List&lt;MedicalHistoryAnswerEntity&gt; medicalHistoryAnswers = this.storeMedicalRecordIntoMedicalHisAns(medicalRecordDTO);\r\n        List&lt;DentalHistoryAnswerEntity&gt; dentalHistoryAnswers = this.storeMedicalRecordIntoDentalHisAns(medicalRecordDTO);\r\n\r\n        patientService.savePatient(patient);\r\n        tutor.setPatient(patient);\r\n        tutorService.saveTutor(tutor);\r\n\r\n        MedicalRecordEntity medicalRecord = this.createMedicalRecord(patient, tutor);\r\n\r\n        medicalRecordService.saveMedicalRecord(medicalRecord);\r\n\r\n        medicalHistoryAnswers.forEach(medicalHistoryAnswer -&gt; {\r\n            medicalHistoryAnswer.setMedicalRecord(medicalRecord);\r\n            medicalHistoryAnswerService.saveMedicalHistoryAnswer(medicalHistoryAnswer);\r\n        });\r\n\r\n        dentalHistoryAnswers.forEach(dentalHistoryAnswer -&gt; {\r\n            dentalHistoryAnswer.setMedicalRecord(medicalRecord);\r\n            dentalHistoryAnswerService.saveDentalHistoryAnswer(dentalHistoryAnswer);\r\n        });\r\n\r\n        return ResponseEntity.status(HttpStatus.OK).body(&quot;&quot;);\r\n    }\r\n}\r\n```","title":"How bad is a service circular reference?","body":"<p>I have a question and it is related to the error that I am getting. How bad is it really to have a circular reference in my service? I know very well what the error is due to and how to possibly solve it, only that in the company where I work a Senior recommended me that for transactional issues it is necessary to make such a circular reference and in fact it is a very recurrent practice there, but as I am starting a personal project from scratch is the first time I get the error and it triggered the doubt again. Thank you very much in advance!</p>\n<p><a href=\"https://i.stack.imgur.com/AcsrB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AcsrB.png\" alt=\"Circular reference Spring Boot error\" /></a></p>\n<p>Here is the code of the service</p>\n<pre><code>public class MedicalRecordServiceImpl implements MedicalRecordService {\n\n    private final MedicalRecordRepository medicalRecordRepository;\n    private final MedicalRecordService medicalRecordService;\n    private final PatientService patientService;\n    private final TutorService tutorService;\n    private final MedicalHistoryAnswerService medicalHistoryAnswerService;\n    private final DentalHistoryAnswerService dentalHistoryAnswerService;\n\n    public MedicalRecordServiceImpl(MedicalRecordRepository medicalRecordRepository, MedicalRecordService medicalRecordService, PatientService patientService, TutorService tutorService, MedicalHistoryAnswerService medicalHistoryAnswerService, DentalHistoryAnswerService dentalHistoryAnswerService) {\n        this.medicalRecordRepository = medicalRecordRepository;\n        this.medicalRecordService = medicalRecordService;\n\n        this.patientService = patientService;\n        this.tutorService = tutorService;\n        this.medicalHistoryAnswerService = medicalHistoryAnswerService;\n        this.dentalHistoryAnswerService = dentalHistoryAnswerService;\n    }\n\n    @Override\n    @Transactional(propagation = Propagation.REQUIRED)\n    public void saveMedicalRecord(MedicalRecordEntity medicalRecord) {\n        medicalRecordRepository.save(medicalRecord);\n    }\n\n    @Override\n    @Transactional(propagation = Propagation.REQUIRED)\n    public ResponseEntity&lt;?&gt; createNewMedicalRecord(MedicalRecordDTO medicalRecordDTO) {\n\n        PatientEntity patient = this.storeMedicalRecordIntoPatient(medicalRecordDTO);\n        TutorEntity tutor = this.storeMedicalRecordIntoTutor(medicalRecordDTO);\n        List&lt;MedicalHistoryAnswerEntity&gt; medicalHistoryAnswers = this.storeMedicalRecordIntoMedicalHisAns(medicalRecordDTO);\n        List&lt;DentalHistoryAnswerEntity&gt; dentalHistoryAnswers = this.storeMedicalRecordIntoDentalHisAns(medicalRecordDTO);\n\n        patientService.savePatient(patient);\n        tutor.setPatient(patient);\n        tutorService.saveTutor(tutor);\n\n        MedicalRecordEntity medicalRecord = this.createMedicalRecord(patient, tutor);\n\n        medicalRecordService.saveMedicalRecord(medicalRecord);\n\n        medicalHistoryAnswers.forEach(medicalHistoryAnswer -&gt; {\n            medicalHistoryAnswer.setMedicalRecord(medicalRecord);\n            medicalHistoryAnswerService.saveMedicalHistoryAnswer(medicalHistoryAnswer);\n        });\n\n        dentalHistoryAnswers.forEach(dentalHistoryAnswer -&gt; {\n            dentalHistoryAnswer.setMedicalRecord(medicalRecord);\n            dentalHistoryAnswerService.saveDentalHistoryAnswer(dentalHistoryAnswer);\n        });\n\n        return ResponseEntity.status(HttpStatus.OK).body(&quot;&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","apache-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1676558367,"post_id":75471126,"comment_id":133164265,"body_markdown":"I think you&#39;re forgetting that the Kafka producer can retry, regardless of the flushing being atomic. If you don&#39;t want duplicates, look at `enable.idempotence` and max in flight requests producer configs","body":"I think you&#39;re forgetting that the Kafka producer can retry, regardless of the flushing being atomic. If you don&#39;t want duplicates, look at <code>enable.idempotence</code> and max in flight requests producer configs"},{"owner":{"account_id":10665868,"reputation":698,"user_id":7852473,"display_name":"aditya81070"},"score":0,"creation_date":1676563819,"post_id":75471126,"comment_id":133166217,"body_markdown":"Yeah, I agree that the producer can retry and it is retrying but my doubt is that, if flush is not atomic and the producer retries the complete batch then will it duplicate data?","body":"Yeah, I agree that the producer can retry and it is retrying but my doubt is that, if flush is not atomic and the producer retries the complete batch then will it duplicate data?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1676579085,"post_id":75471126,"comment_id":133170813,"body_markdown":"flush is a blocking method. It should be atomic within the context of one thread.","body":"flush is a blocking method. It should be atomic within the context of one thread."}],"owner":{"account_id":10665868,"reputation":698,"user_id":7852473,"display_name":"aditya81070"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676558273,"creation_date":1676544330,"question_id":75471126,"body_markdown":"I am using a JDBC source connector and recently encountered a data duplication issue in Kafka. After some debugging, I found out that the producer was throwing the following error:\r\n\r\n```\r\n WorkerSourceTask{id=connect-name-0} Failed to flush, timed out while waiting for producer to flush outstanding 6590 messages (org.apache.kafka.connect.runtime.WorkerSourceTask:509)\r\n```\r\nAfter following [this][1] question, I changed the flush timeout and the error is fixed for now. \r\nBut I didn&#39;t understand why the data is duplicated. Here is my understanding:\r\nLet&#39;s assume that there are 20k rows in the source database and the connector starts with offset 0 and batch size is 1000 and the poll interval is 2 hours, flush interval is 1 min and the flush timeout is 5 seconds.\r\n1. connector/task executes the query and starts getting 1000 rows from DB.\r\n2. The buffer memory is 32MB so the task buffers the data and tries to flush it every minute. Assume 15k rows are buffered. \r\n3. As data is huge, it fails to flush data and commit offset within 5 seconds.\r\n\r\nNow there are 3 scenarios:\r\n1. if flush is atomic, no offsets will be committed so no chance of duplication when the task restarts before the next commit cycle.\r\n2. If the connector pushes data to the topic but fails to commit offset because of flush timeout. So out of 15K, 10k was written to the topic but the offset is still 0. \r\n3. If the flush times out, it rollbacks the data written as well as offset commit. \r\n\r\nWhich scenario is applicable in this case? \r\n\r\n  [1]: https://stackoverflow.com/questions/55521480/kafka-connect-failed-to-flush-timed-out-while-waiting-for-producer-to-flush-o","title":"Does kafka producer flush method is atomic?","body":"<p>I am using a JDBC source connector and recently encountered a data duplication issue in Kafka. After some debugging, I found out that the producer was throwing the following error:</p>\n<pre><code> WorkerSourceTask{id=connect-name-0} Failed to flush, timed out while waiting for producer to flush outstanding 6590 messages (org.apache.kafka.connect.runtime.WorkerSourceTask:509)\n</code></pre>\n<p>After following <a href=\"https://stackoverflow.com/questions/55521480/kafka-connect-failed-to-flush-timed-out-while-waiting-for-producer-to-flush-o\">this</a> question, I changed the flush timeout and the error is fixed for now.\nBut I didn't understand why the data is duplicated. Here is my understanding:\nLet's assume that there are 20k rows in the source database and the connector starts with offset 0 and batch size is 1000 and the poll interval is 2 hours, flush interval is 1 min and the flush timeout is 5 seconds.</p>\n<ol>\n<li>connector/task executes the query and starts getting 1000 rows from DB.</li>\n<li>The buffer memory is 32MB so the task buffers the data and tries to flush it every minute. Assume 15k rows are buffered.</li>\n<li>As data is huge, it fails to flush data and commit offset within 5 seconds.</li>\n</ol>\n<p>Now there are 3 scenarios:</p>\n<ol>\n<li>if flush is atomic, no offsets will be committed so no chance of duplication when the task restarts before the next commit cycle.</li>\n<li>If the connector pushes data to the topic but fails to commit offset because of flush timeout. So out of 15K, 10k was written to the topic but the offset is still 0.</li>\n<li>If the flush times out, it rollbacks the data written as well as offset commit.</li>\n</ol>\n<p>Which scenario is applicable in this case?</p>\n"},{"tags":["java","activiti","tomcat9"],"owner":{"account_id":27802132,"reputation":1,"user_id":21226387,"display_name":"Dark Harry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676557868,"creation_date":1676550908,"question_id":75472360,"body_markdown":"I&#39;m trying to compile a version of the activiti-admin project from the Activiti 6 sourcecode public repo in my eclipse.\r\nI successfully generated the war file without error after I added the following plugin in my pom.xml:\r\n\r\n\r\n```\r\n&lt;plugin&gt;\r\n&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n&lt;version&gt;3.3.1&lt;/version&gt;\r\n&lt;/plugin&gt;\r\n\r\n```\r\n\r\nHere is the full pom.xml:\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;parent&gt;\r\n    &lt;groupId&gt;org.activiti&lt;/groupId&gt;\r\n    &lt;artifactId&gt;activiti-root&lt;/artifactId&gt;\r\n    &lt;version&gt;6.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;relativePath&gt;../..&lt;/relativePath&gt;\r\n  &lt;/parent&gt;\r\n  &lt;artifactId&gt;activiti-admin&lt;/artifactId&gt;\r\n  &lt;packaging&gt;war&lt;/packaging&gt;\r\n  &lt;name&gt;Activiti Admin&lt;/name&gt;\r\n  &lt;properties&gt;\r\n    &lt;suppressionFile&gt;${basedir}/../../dependency-check-suppression.xml&lt;/suppressionFile&gt;\r\n  &lt;/properties&gt;\r\n  &lt;dependencies&gt;\r\n\r\n    &lt;!-- Activiti --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.activiti&lt;/groupId&gt;\r\n      &lt;artifactId&gt;activiti-bpmn-model&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.activiti&lt;/groupId&gt;\r\n      &lt;artifactId&gt;activiti-bpmn-converter&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- LOGGING --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n      &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- JSON --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jackson-datatype-json-org&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jackson-datatype-joda&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- DATABASE --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n      &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.mchange&lt;/groupId&gt;\r\n      &lt;artifactId&gt;c3p0&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n      &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- COMMON dependencies --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\r\n      &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n      &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;commons-collections&lt;/groupId&gt;\r\n      &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jsr250-api&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.inject&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javax.inject&lt;/artifactId&gt;\r\n      &lt;version&gt;1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n      &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n      &lt;version&gt;1.1.0.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- JODA TIME --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;joda-time&lt;/groupId&gt;\r\n      &lt;artifactId&gt;joda-time&lt;/artifactId&gt;\r\n      &lt;version&gt;2.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;joda-time&lt;/groupId&gt;\r\n      &lt;artifactId&gt;joda-time-hibernate&lt;/artifactId&gt;\r\n      &lt;version&gt;1.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.jadira.usertype&lt;/groupId&gt;\r\n      &lt;artifactId&gt;usertype.core&lt;/artifactId&gt;\r\n      &lt;version&gt;3.1.0.CR10&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n      &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- SPRING --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n      &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-expression&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-security-crypto&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- HTTPCLIENT --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n      &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n      &lt;artifactId&gt;httpmime&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- TEST dependencies --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\r\n      &lt;artifactId&gt;json-path&lt;/artifactId&gt;\r\n      &lt;version&gt;0.9.1&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt;\r\n      &lt;version&gt;1.3&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hamcrest-library&lt;/artifactId&gt;\r\n      &lt;version&gt;1.3&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;!-- BUILD --&gt;\r\n  &lt;build&gt;\r\n    &lt;finalName&gt;activiti-admin&lt;/finalName&gt;\r\n    &lt;plugins&gt;\r\n\r\n  &lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.3.1&lt;/version&gt;\r\n&lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;1.3.1&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;enforce-versions&lt;/id&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;enforce&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;rules&gt;\r\n                &lt;requireMavenVersion&gt;\r\n                  &lt;message&gt;You are running an older version of Maven. JHipster requires at least Maven 3.0&lt;/message&gt;\r\n                  &lt;version&gt;[3.0.0,)&lt;/version&gt;\r\n                &lt;/requireMavenVersion&gt;\r\n                &lt;requireJavaVersion&gt;\r\n                  &lt;message&gt;You are running an older version of Java. The Activiti Admin Application requires at least JDK 1.6&lt;/message&gt;\r\n                  &lt;version&gt;[1.6.0,)&lt;/version&gt;\r\n                &lt;/requireJavaVersion&gt;\r\n              &lt;/rules&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n          &lt;argLine&gt;-XX:MaxPermSize=128m -Xmx256m&lt;/argLine&gt;\r\n          &lt;forkCount&gt;1&lt;/forkCount&gt;\r\n          &lt;reuseForks&gt;false&lt;/reuseForks&gt;\r\n          &lt;!-- Force alphabetical order to have a reproducible build --&gt;\r\n          &lt;runOrder&gt;alphabetical&lt;/runOrder&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.zeroturnaround&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jrebel-maven-plugin&lt;/artifactId&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;generate-rebel-xml&lt;/id&gt;\r\n            &lt;phase&gt;process-resources&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;generate&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt;\r\n        &lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n          &lt;path&gt;/activiti-admin&lt;/path&gt;\r\n          &lt;port&gt;8081&lt;/port&gt;\r\n          &lt;protocol&gt;org.apache.coyote.http11.Http11NioProtocol&lt;/protocol&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;version&gt;${mysql.version}&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n        &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.2&lt;/version&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\r\n        &lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;1.6&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;install node and npm&lt;/id&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;install-node-and-npm&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;nodeVersion&gt;v8.9.4&lt;/nodeVersion&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;npm install&lt;/id&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;npm&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;arguments&gt;install&lt;/arguments&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;bower install&lt;/id&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;bower&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;arguments&gt;install&lt;/arguments&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n    &lt;pluginManagement&gt;\r\n      &lt;plugins&gt;\r\n        &lt;!--This plugin&#39;s configuration is used to store Eclipse m2e settings\r\n          only. It has no influence on the Maven build itself. --&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.eclipse.m2e&lt;/groupId&gt;\r\n          &lt;artifactId&gt;lifecycle-mapping&lt;/artifactId&gt;\r\n          &lt;version&gt;1.0.0&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n            &lt;lifecycleMappingMetadata&gt;\r\n              &lt;pluginExecutions&gt;\r\n                &lt;pluginExecution&gt;\r\n                  &lt;pluginExecutionFilter&gt;\r\n                    &lt;groupId&gt;\r\n                      org.zeroturnaround\r\n                    &lt;/groupId&gt;\r\n                    &lt;artifactId&gt;\r\n                      jrebel-maven-plugin\r\n                    &lt;/artifactId&gt;\r\n                    &lt;versionRange&gt;\r\n                      [1.1.1,)\r\n                    &lt;/versionRange&gt;\r\n                    &lt;goals&gt;\r\n                      &lt;goal&gt;generate&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                  &lt;/pluginExecutionFilter&gt;\r\n                  &lt;action&gt;\r\n                    &lt;ignore&gt;&lt;/ignore&gt;\r\n                  &lt;/action&gt;\r\n                &lt;/pluginExecution&gt;\r\n              &lt;/pluginExecutions&gt;\r\n            &lt;/lifecycleMappingMetadata&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\nThe Java version in this project in the JRE System Library is JAVASE-1.6\r\n\r\nMy Eclipse info:\r\nVersion: 2022-12 (4.26.0)\r\nBuild id: 20221201-1913\r\n\r\nI&#39;ve done a maven clean and a maven install in my activiti-admin project and generated the activiti-admin.war file that I copied to my Tom Cat 9 which runs with **JAVA 8**.\r\n\r\nAfter I initiate the tom cat by startup.bat, the war file was extracted but the application didn&#39;t start.\r\nChecking the tom cat logs I encountered the following error in the localhost.2023-02-16.log\r\n\r\n```\r\n16-Feb-2023 11:15:33.667 SEVERE \\[main\\] org.apache.catalina.core.StandardContext.listenerStart Exception sending context initialized event to listener instance of class \\[com.activiti.conf.WebConfigurer\\]\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;liquibase&#39; defined in com.activiti.conf.DatabaseConfiguration: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Cannot resolve ServletContextResource without ServletContext\r\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628)\r\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)\r\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\r\nat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)\r\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)\r\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)\r\nat com.activiti.conf.WebConfigurer.contextInitialized(WebConfigurer.java:46)\r\nat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4716)\r\nat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5177)\r\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\nat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:717)\r\nat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:690)\r\nat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:706)\r\nat org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1023)\r\nat org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1903)\r\nat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\nat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\nat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\nat java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:112)\r\nat org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:824)\r\nat org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:474)\r\nat org.apache.catalina.startup.HostConfig.start(HostConfig.java:1611)\r\nat org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:319)\r\nat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\r\nat org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)\r\nat org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)\r\nat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:936)\r\nat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:843)\r\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\r\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\r\nat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\nat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\nat java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134)\r\nat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\r\nat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\r\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\nat org.apache.catalina.core.StandardService.startInternal(StandardService.java:434)\r\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\nat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\r\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\nat org.apache.catalina.startup.Catalina.start(Catalina.java:772)\r\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\nat java.lang.reflect.Method.invoke(Method.java:498)\r\nat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:342)\r\nat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:473)\r\nCaused by: java.lang.IllegalArgumentException: Cannot resolve ServletContextResource without ServletContext\r\nat org.springframework.util.Assert.notNull(Assert.java:134)\r\nat org.springframework.web.context.support.ServletContextResource.\\&lt;init\\&gt;(ServletContextResource.java:68)\r\nat org.springframework.web.context.support.AbstractRefreshableWebApplicationContext.getResourceByPath(AbstractRefreshableWebApplicationContext.java:174)\r\nat org.springframework.core.io.DefaultResourceLoader.getResource(DefaultResourceLoader.java:140)\r\nat org.springframework.core.io.support.PathMatchingResourcePatternResolver.getResources(PathMatchingResourcePatternResolver.java:297)\r\nat org.springframework.context.support.AbstractApplicationContext.getResources(AbstractApplicationContext.java:1295)\r\nat liquibase.integration.spring.SpringLiquibase$SpringResourceOpener.init(SpringLiquibase.java:79)\r\nat liquibase.resource.AbstractResourceAccessor.\\&lt;init\\&gt;(AbstractResourceAccessor.java:23)\r\nat liquibase.resource.ClassLoaderResourceAccessor.\\&lt;init\\&gt;(ClassLoaderResourceAccessor.java:22)\r\nat liquibase.integration.spring.SpringLiquibase$SpringResourceOpener.\\&lt;init\\&gt;(SpringLiquibase.java:71)\r\nat liquibase.integration.spring.SpringLiquibase.createResourceOpener(SpringLiquibase.java:486)\r\nat liquibase.integration.spring.SpringLiquibase.createLiquibase(SpringLiquibase.java:436)\r\nat liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:386)\r\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687)\r\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624)\r\n51 more\r\n\r\n```\r\n\r\nCan anyone help me with this problem? What am I doing wrong?","title":"Error deploying Activiti-admin.war after compiling from sourcecode","body":"<p>I'm trying to compile a version of the activiti-admin project from the Activiti 6 sourcecode public repo in my eclipse.\nI successfully generated the war file without error after I added the following plugin in my pom.xml:</p>\n<pre><code>&lt;plugin&gt;\n&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n&lt;version&gt;3.3.1&lt;/version&gt;\n&lt;/plugin&gt;\n\n</code></pre>\n<p>Here is the full pom.xml:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;parent&gt;\n    &lt;groupId&gt;org.activiti&lt;/groupId&gt;\n    &lt;artifactId&gt;activiti-root&lt;/artifactId&gt;\n    &lt;version&gt;6.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;relativePath&gt;../..&lt;/relativePath&gt;\n  &lt;/parent&gt;\n  &lt;artifactId&gt;activiti-admin&lt;/artifactId&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n  &lt;name&gt;Activiti Admin&lt;/name&gt;\n  &lt;properties&gt;\n    &lt;suppressionFile&gt;${basedir}/../../dependency-check-suppression.xml&lt;/suppressionFile&gt;\n  &lt;/properties&gt;\n  &lt;dependencies&gt;\n\n    &lt;!-- Activiti --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.activiti&lt;/groupId&gt;\n      &lt;artifactId&gt;activiti-bpmn-model&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.activiti&lt;/groupId&gt;\n      &lt;artifactId&gt;activiti-bpmn-converter&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- LOGGING --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n      &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n      &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n      &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- JSON --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n      &lt;artifactId&gt;jackson-datatype-json-org&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n      &lt;artifactId&gt;jackson-datatype-joda&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- DATABASE --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n      &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.mchange&lt;/groupId&gt;\n      &lt;artifactId&gt;c3p0&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n      &lt;artifactId&gt;h2&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n      &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n      &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n      &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- COMMON dependencies --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\n      &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n      &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;commons-collections&lt;/groupId&gt;\n      &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\n      &lt;artifactId&gt;jsr250-api&lt;/artifactId&gt;\n      &lt;version&gt;1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.inject&lt;/groupId&gt;\n      &lt;artifactId&gt;javax.inject&lt;/artifactId&gt;\n      &lt;version&gt;1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n      &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n      &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n      &lt;version&gt;1.1.0.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- JODA TIME --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;joda-time&lt;/groupId&gt;\n      &lt;artifactId&gt;joda-time&lt;/artifactId&gt;\n      &lt;version&gt;2.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;joda-time&lt;/groupId&gt;\n      &lt;artifactId&gt;joda-time-hibernate&lt;/artifactId&gt;\n      &lt;version&gt;1.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.jadira.usertype&lt;/groupId&gt;\n      &lt;artifactId&gt;usertype.core&lt;/artifactId&gt;\n      &lt;version&gt;3.1.0.CR10&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n      &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- SPRING --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n      &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-expression&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-security-crypto&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- HTTPCLIENT --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n      &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n      &lt;artifactId&gt;httpmime&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- TEST dependencies --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\n      &lt;artifactId&gt;json-path&lt;/artifactId&gt;\n      &lt;version&gt;0.9.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n      &lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt;\n      &lt;version&gt;1.3&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n      &lt;artifactId&gt;hamcrest-library&lt;/artifactId&gt;\n      &lt;version&gt;1.3&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n      &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;!-- BUILD --&gt;\n  &lt;build&gt;\n    &lt;finalName&gt;activiti-admin&lt;/finalName&gt;\n    &lt;plugins&gt;\n\n  &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.3.1&lt;/version&gt;\n&lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.3.1&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;enforce-versions&lt;/id&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;enforce&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;rules&gt;\n                &lt;requireMavenVersion&gt;\n                  &lt;message&gt;You are running an older version of Maven. JHipster requires at least Maven 3.0&lt;/message&gt;\n                  &lt;version&gt;[3.0.0,)&lt;/version&gt;\n                &lt;/requireMavenVersion&gt;\n                &lt;requireJavaVersion&gt;\n                  &lt;message&gt;You are running an older version of Java. The Activiti Admin Application requires at least JDK 1.6&lt;/message&gt;\n                  &lt;version&gt;[1.6.0,)&lt;/version&gt;\n                &lt;/requireJavaVersion&gt;\n              &lt;/rules&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;argLine&gt;-XX:MaxPermSize=128m -Xmx256m&lt;/argLine&gt;\n          &lt;forkCount&gt;1&lt;/forkCount&gt;\n          &lt;reuseForks&gt;false&lt;/reuseForks&gt;\n          &lt;!-- Force alphabetical order to have a reproducible build --&gt;\n          &lt;runOrder&gt;alphabetical&lt;/runOrder&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.zeroturnaround&lt;/groupId&gt;\n        &lt;artifactId&gt;jrebel-maven-plugin&lt;/artifactId&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;generate-rebel-xml&lt;/id&gt;\n            &lt;phase&gt;process-resources&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;generate&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;path&gt;/activiti-admin&lt;/path&gt;\n          &lt;port&gt;8081&lt;/port&gt;\n          &lt;protocol&gt;org.apache.coyote.http11.Http11NioProtocol&lt;/protocol&gt;\n        &lt;/configuration&gt;\n        &lt;dependencies&gt;\n          &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;${mysql.version}&lt;/version&gt;\n          &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n        &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.2&lt;/version&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\n        &lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.6&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;install node and npm&lt;/id&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;install-node-and-npm&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;nodeVersion&gt;v8.9.4&lt;/nodeVersion&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n          &lt;execution&gt;\n            &lt;id&gt;npm install&lt;/id&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;npm&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;arguments&gt;install&lt;/arguments&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n          &lt;execution&gt;\n            &lt;id&gt;bower install&lt;/id&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;bower&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;arguments&gt;install&lt;/arguments&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n    &lt;pluginManagement&gt;\n      &lt;plugins&gt;\n        &lt;!--This plugin's configuration is used to store Eclipse m2e settings\n          only. It has no influence on the Maven build itself. --&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.eclipse.m2e&lt;/groupId&gt;\n          &lt;artifactId&gt;lifecycle-mapping&lt;/artifactId&gt;\n          &lt;version&gt;1.0.0&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;lifecycleMappingMetadata&gt;\n              &lt;pluginExecutions&gt;\n                &lt;pluginExecution&gt;\n                  &lt;pluginExecutionFilter&gt;\n                    &lt;groupId&gt;\n                      org.zeroturnaround\n                    &lt;/groupId&gt;\n                    &lt;artifactId&gt;\n                      jrebel-maven-plugin\n                    &lt;/artifactId&gt;\n                    &lt;versionRange&gt;\n                      [1.1.1,)\n                    &lt;/versionRange&gt;\n                    &lt;goals&gt;\n                      &lt;goal&gt;generate&lt;/goal&gt;\n                    &lt;/goals&gt;\n                  &lt;/pluginExecutionFilter&gt;\n                  &lt;action&gt;\n                    &lt;ignore&gt;&lt;/ignore&gt;\n                  &lt;/action&gt;\n                &lt;/pluginExecution&gt;\n              &lt;/pluginExecutions&gt;\n            &lt;/lifecycleMappingMetadata&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>The Java version in this project in the JRE System Library is JAVASE-1.6</p>\n<p>My Eclipse info:\nVersion: 2022-12 (4.26.0)\nBuild id: 20221201-1913</p>\n<p>I've done a maven clean and a maven install in my activiti-admin project and generated the activiti-admin.war file that I copied to my Tom Cat 9 which runs with <strong>JAVA 8</strong>.</p>\n<p>After I initiate the tom cat by startup.bat, the war file was extracted but the application didn't start.\nChecking the tom cat logs I encountered the following error in the localhost.2023-02-16.log</p>\n<pre><code>16-Feb-2023 11:15:33.667 SEVERE \\[main\\] org.apache.catalina.core.StandardContext.listenerStart Exception sending context initialized event to listener instance of class \\[com.activiti.conf.WebConfigurer\\]\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in com.activiti.conf.DatabaseConfiguration: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Cannot resolve ServletContextResource without ServletContext\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\nat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)\nat com.activiti.conf.WebConfigurer.contextInitialized(WebConfigurer.java:46)\nat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4716)\nat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5177)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\nat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:717)\nat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:690)\nat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:706)\nat org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1023)\nat org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1903)\nat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\nat java.util.concurrent.FutureTask.run(FutureTask.java:266)\nat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\nat java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:112)\nat org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:824)\nat org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:474)\nat org.apache.catalina.startup.HostConfig.start(HostConfig.java:1611)\nat org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:319)\nat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\nat org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)\nat org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)\nat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:936)\nat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:843)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\nat java.util.concurrent.FutureTask.run(FutureTask.java:266)\nat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\nat java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134)\nat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\nat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\nat org.apache.catalina.core.StandardService.startInternal(StandardService.java:434)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\nat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\nat org.apache.catalina.startup.Catalina.start(Catalina.java:772)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:342)\nat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:473)\nCaused by: java.lang.IllegalArgumentException: Cannot resolve ServletContextResource without ServletContext\nat org.springframework.util.Assert.notNull(Assert.java:134)\nat org.springframework.web.context.support.ServletContextResource.\\&lt;init\\&gt;(ServletContextResource.java:68)\nat org.springframework.web.context.support.AbstractRefreshableWebApplicationContext.getResourceByPath(AbstractRefreshableWebApplicationContext.java:174)\nat org.springframework.core.io.DefaultResourceLoader.getResource(DefaultResourceLoader.java:140)\nat org.springframework.core.io.support.PathMatchingResourcePatternResolver.getResources(PathMatchingResourcePatternResolver.java:297)\nat org.springframework.context.support.AbstractApplicationContext.getResources(AbstractApplicationContext.java:1295)\nat liquibase.integration.spring.SpringLiquibase$SpringResourceOpener.init(SpringLiquibase.java:79)\nat liquibase.resource.AbstractResourceAccessor.\\&lt;init\\&gt;(AbstractResourceAccessor.java:23)\nat liquibase.resource.ClassLoaderResourceAccessor.\\&lt;init\\&gt;(ClassLoaderResourceAccessor.java:22)\nat liquibase.integration.spring.SpringLiquibase$SpringResourceOpener.\\&lt;init\\&gt;(SpringLiquibase.java:71)\nat liquibase.integration.spring.SpringLiquibase.createResourceOpener(SpringLiquibase.java:486)\nat liquibase.integration.spring.SpringLiquibase.createLiquibase(SpringLiquibase.java:436)\nat liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:386)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624)\n51 more\n\n</code></pre>\n<p>Can anyone help me with this problem? What am I doing wrong?</p>\n"},{"tags":["java","spring","spring-data-jpa"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":2,"creation_date":1676553049,"post_id":75472682,"comment_id":133162502,"body_markdown":"`count(*)` returns a number, the number of rows that matched your query - int, long, BigInt, etc. So your method should return some numeric type, yet you return `ErrorLogEntryPriorityType`,","body":"<code>count(*)</code> returns a number, the number of rows that matched your query - int, long, BigInt, etc. So your method should return some numeric type, yet you return <code>ErrorLogEntryPriorityType</code>,"},{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":0,"creation_date":1676555113,"post_id":75472682,"comment_id":133163133,"body_markdown":"simply replace `ErrorLogEntryPriorityType getErrorCount();` with `BigInteger  getErrorCount();`","body":"simply replace <code>ErrorLogEntryPriorityType getErrorCount();</code> with <code>BigInteger  getErrorCount();</code>"},{"owner":{"account_id":26074175,"reputation":41,"user_id":19773336,"display_name":"Maflec"},"score":0,"creation_date":1676555232,"post_id":75472682,"comment_id":133163175,"body_markdown":"Yeah, my goal is to get the number of rows that contain the enum &quot;DANGER&quot;. I thought I could do this with Count. Eg. if three rows contain this enum, then it should return &quot;3&quot;","body":"Yeah, my goal is to get the number of rows that contain the enum &quot;DANGER&quot;. I thought I could do this with Count. Eg. if three rows contain this enum, then it should return &quot;3&quot;"},{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":0,"creation_date":1676555724,"post_id":75472682,"comment_id":133163335,"body_markdown":"@Maflec, no, count(*) returns a number, so it will return 3, rather than &quot;3&quot;, which is a string.","body":"@Maflec, no, count(*) returns a number, so it will return 3, rather than &quot;3&quot;, which is a string."}],"answers":[{"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676557525,"creation_date":1676556135,"answer_id":75473358,"question_id":75472682,"body_markdown":"As mentioned in the comments, the error is because the return type of the query method you&#39;ve defined is incorrect. You&#39;re not looking to get back an instance of `ErrorLogEntryPriorityType`, you need to get back a numerical value - the count of how may records match the query.\r\n\r\nHaving said that, there&#39;s an even easier, cleaner solution - use Spring Data&#39;s  &quot;derived query method&quot; and you don&#39;t even need to write the `@Query` yourself. For example, this should work as you intend:\r\n```java\r\nlong countByPriority(ErrorLogEntryPriorityType priority);\r\n```\r\n\r\nNote there is no `@Query` annotation; Spring Data understands the mapping of your entity and generates the query for you based on the method name and parameter types.\r\n\r\nThis method is also more flexible; the application can use it to count all records with _any_ of the values for `priority`, not just `DANGER`. Generally speaking, it&#39;s good to have the low-level repository methods be building blocks, like Lego. The application can then assemble a wide variety of &quot;things&quot; from those basic building blocks, such as a service method that counts how many `DANGER` log records there are.\r\n\r\nI suggest you read all the reference docs for Spring Data repositories, starting [here][1].\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories","title":"How to count number of rows based on enum value?","body":"<p>As mentioned in the comments, the error is because the return type of the query method you've defined is incorrect. You're not looking to get back an instance of <code>ErrorLogEntryPriorityType</code>, you need to get back a numerical value - the count of how may records match the query.</p>\n<p>Having said that, there's an even easier, cleaner solution - use Spring Data's  &quot;derived query method&quot; and you don't even need to write the <code>@Query</code> yourself. For example, this should work as you intend:</p>\n<pre class=\"lang-java prettyprint-override\"><code>long countByPriority(ErrorLogEntryPriorityType priority);\n</code></pre>\n<p>Note there is no <code>@Query</code> annotation; Spring Data understands the mapping of your entity and generates the query for you based on the method name and parameter types.</p>\n<p>This method is also more flexible; the application can use it to count all records with <em>any</em> of the values for <code>priority</code>, not just <code>DANGER</code>. Generally speaking, it's good to have the low-level repository methods be building blocks, like Lego. The application can then assemble a wide variety of &quot;things&quot; from those basic building blocks, such as a service method that counts how many <code>DANGER</code> log records there are.</p>\n<p>I suggest you read all the reference docs for Spring Data repositories, starting <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":26074175,"reputation":41,"user_id":19773336,"display_name":"Maflec"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676557525,"creation_date":1676552542,"question_id":75472682,"body_markdown":"I have a database table where one of the columns contain an enum\r\n\r\nEntity file:\r\n\r\n    @Entity\r\n    @Table(name = &quot;error_log_entry&quot;)\r\n    public class ErrorLogEntryEntity extends AbstractPersistable&lt;UUID&gt; {\r\n        \r\n        @Id\r\n        private UUID id;\r\n        \r\n    \r\n        @Column(name = &quot;priority&quot;)\r\n        @Enumerated(EnumType.STRING)\r\n        private ErrorLogEntryPriorityType priority;\r\n    \r\n        \r\n    }\r\n\r\nEnum file\r\n\r\n    public enum ErrorLogEntryPriorityType {\r\n        INFO,\r\n        WARN,\r\n        DANGER\r\n    }\r\n\r\nNow I am trying to write a query that counts the number of rows where the enum is equal to &quot;DANGER&quot;\r\n\r\n    public interface ErrorLogEntryRepository extends JpaRepository&lt;ErrorLogEntryEntity, UUID&gt; {\r\n        List&lt;ErrorLogEntryEntity&gt; findByChangedUserId(UUID userId);\r\n    \r\n        @Query(nativeQuery = true, value = &quot;select count(*) from error_log_entry where priority = &#39;DANGER&#39;&quot;)\r\n        ErrorLogEntryPriorityType getErrorCount();\r\n    \r\n    }\r\n\r\nHowever, this causes the following error \r\n\r\n    java.lang.ClassCastException: class java.math.BigInteger cannot be cast to class project.core.types.ErrorLogEntryPriorityType \r\n\r\nI am a bit new to spring, but from the documentation, this problem seems to occur because I am casting on an incompatible type. I am not 100% sure. \r\nAny suggestions on how to make this query work?","title":"How to count number of rows based on enum value?","body":"<p>I have a database table where one of the columns contain an enum</p>\n<p>Entity file:</p>\n<pre><code>@Entity\n@Table(name = &quot;error_log_entry&quot;)\npublic class ErrorLogEntryEntity extends AbstractPersistable&lt;UUID&gt; {\n    \n    @Id\n    private UUID id;\n    \n\n    @Column(name = &quot;priority&quot;)\n    @Enumerated(EnumType.STRING)\n    private ErrorLogEntryPriorityType priority;\n\n    \n}\n</code></pre>\n<p>Enum file</p>\n<pre><code>public enum ErrorLogEntryPriorityType {\n    INFO,\n    WARN,\n    DANGER\n}\n</code></pre>\n<p>Now I am trying to write a query that counts the number of rows where the enum is equal to &quot;DANGER&quot;</p>\n<pre><code>public interface ErrorLogEntryRepository extends JpaRepository&lt;ErrorLogEntryEntity, UUID&gt; {\n    List&lt;ErrorLogEntryEntity&gt; findByChangedUserId(UUID userId);\n\n    @Query(nativeQuery = true, value = &quot;select count(*) from error_log_entry where priority = 'DANGER'&quot;)\n    ErrorLogEntryPriorityType getErrorCount();\n\n}\n</code></pre>\n<p>However, this causes the following error</p>\n<pre><code>java.lang.ClassCastException: class java.math.BigInteger cannot be cast to class project.core.types.ErrorLogEntryPriorityType \n</code></pre>\n<p>I am a bit new to spring, but from the documentation, this problem seems to occur because I am casting on an incompatible type. I am not 100% sure.\nAny suggestions on how to make this query work?</p>\n"},{"tags":["java","html","web-scraping","jsoup"],"answers":[{"tags":[],"owner":{"account_id":398308,"reputation":375,"user_id":762920,"accept_rate":62,"display_name":"Koded101"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1360241472,"creation_date":1360241098,"answer_id":14751455,"question_id":14560731,"body_markdown":"I would use\r\n\r\n    String s = document.select(&quot;div[id=secondaryUsedAndNew] a.buyAction&quot;).text.replace(&quot;&amp;nbsp;&quot;,&quot; &quot;);\r\n\r\nThis should leave you &quot;42 new&quot; as it says on the page at this moment. \r\n\r\nHope this works for you!","title":"Can&#39;t find an amazon element with jsoup (Java) because I have little knowledge with web development","body":"<p>I would use</p>\n\n<pre><code>String s = document.select(\"div[id=secondaryUsedAndNew] a.buyAction\").text.replace(\"&amp;nbsp;\",\" \");\n</code></pre>\n\n<p>This should leave you \"42 new\" as it says on the page at this moment. </p>\n\n<p>Hope this works for you!</p>\n"}],"owner":{"account_id":1695187,"reputation":85,"user_id":1556695,"accept_rate":50,"display_name":"user1556695"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":884,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1676557471,"creation_date":1359371438,"question_id":14560731,"body_markdown":"I&#39;m currently trying to scrape amazon for a bunch of data.  I&#39;m using jsoup to help me do this, and everything has gone pretty smoothly, but for some reason I can&#39;t figure out how to pull the current number of sellers selling new products.\r\n\r\nHere&#39;s an example of the url I&#39;m scraping : http://www.amazon.com/dp/B006L7KIWG\r\n\r\nI want to extract &quot;39&amp;nbsp;new&quot; from the following below:\r\n\r\n\r\n\r\n    &lt;div id=&quot;secondaryUsedAndNew&quot; class=&quot;mbcOlp&quot;&gt;\r\n        &lt;div class=&quot;mbcOlpLink&quot;&gt;\r\n            &lt;a class=&quot;buyAction&quot; href=&quot;/gp/offer-listing/B006L7KIWG/ref=dp_olp_new_mbc?ie=UTF8&amp;condition=new&quot;&gt;\r\n                39&amp;nbsp;new\r\n            &lt;/a&gt; &amp;nbsp;from&amp;nbsp;\r\n            &lt;span class=&quot;price&quot;&gt;$60.00&lt;/span&gt;\r\n         &lt;/div&gt;\r\n    &lt;/div&gt;\r\n\r\nThis project is the first time I&#39;ve used jsoup, so the coding may be a bit iffy, but here are some of the things I have tried:\r\n\r\n     String asinPage = &quot;http://www.amazon.com/dp/&quot; + getAsin();\r\n                try {\r\n                    Document document = Jsoup.connect(asinPage).timeout(timeout).get();\r\n    .....  \r\n    \r\n      //get new sellers try one\r\n                        Elements links = document.select(&quot;a[href]&quot;);\r\n                        for (Element link : links) {\r\n                           // System.out.println(&quot;Span olp:&quot;+link.text());\r\n                            String code = link.attr(&quot;abs:href&quot;);\r\n                            String label = trim(link.text(), 35);\r\n                            if (label.contains(&quot;new&quot;)) {\r\n                                System.out.println(label + &quot; : &quot; + code);\r\n                            }\r\n                        }\r\n        \r\n        //get new sellers try one\r\n                        Elements links = document.select(&quot;div.mbcOlpLink&quot;);\r\n                        for (Element link : links) {\r\n                           // System.out.println(&quot;Span olp:&quot;+link.text());\r\n                        }\r\n        \r\n        //about a million other failed attempts that you&#39;ll just have to take my word on.\r\n\r\nI&#39;ve been successful when scrape everything else I need on the page, but for some reason this particular element is being a pain, any help would be GREAT!  Thanks guys!","title":"Can&#39;t find an amazon element with jsoup (Java) because I have little knowledge with web development","body":"<p>I'm currently trying to scrape amazon for a bunch of data.  I'm using jsoup to help me do this, and everything has gone pretty smoothly, but for some reason I can't figure out how to pull the current number of sellers selling new products.</p>\n\n<p>Here's an example of the url I'm scraping : <a href=\"https://rads.stackoverflow.com/amzn/click/com/B006L7KIWG\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\">http://www.amazon.com/dp/B006L7KIWG</a></p>\n\n<p>I want to extract \"39&nbsp;new\" from the following below:</p>\n\n<pre><code>&lt;div id=\"secondaryUsedAndNew\" class=\"mbcOlp\"&gt;\n    &lt;div class=\"mbcOlpLink\"&gt;\n        &lt;a class=\"buyAction\" href=\"/gp/offer-listing/B006L7KIWG/ref=dp_olp_new_mbc?ie=UTF8&amp;condition=new\"&gt;\n            39&amp;nbsp;new\n        &lt;/a&gt; &amp;nbsp;from&amp;nbsp;\n        &lt;span class=\"price\"&gt;$60.00&lt;/span&gt;\n     &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>This project is the first time I've used jsoup, so the coding may be a bit iffy, but here are some of the things I have tried:</p>\n\n<pre><code> String asinPage = \"http://www.amazon.com/dp/\" + getAsin();\n            try {\n                Document document = Jsoup.connect(asinPage).timeout(timeout).get();\n.....  \n\n  //get new sellers try one\n                    Elements links = document.select(\"a[href]\");\n                    for (Element link : links) {\n                       // System.out.println(\"Span olp:\"+link.text());\n                        String code = link.attr(\"abs:href\");\n                        String label = trim(link.text(), 35);\n                        if (label.contains(\"new\")) {\n                            System.out.println(label + \" : \" + code);\n                        }\n                    }\n\n    //get new sellers try one\n                    Elements links = document.select(\"div.mbcOlpLink\");\n                    for (Element link : links) {\n                       // System.out.println(\"Span olp:\"+link.text());\n                    }\n\n    //about a million other failed attempts that you'll just have to take my word on.\n</code></pre>\n\n<p>I've been successful when scrape everything else I need on the page, but for some reason this particular element is being a pain, any help would be GREAT!  Thanks guys!</p>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1676561019,"post_id":75473370,"comment_id":133165215,"body_markdown":"Are you looking for a `Try`/`Either` style type?","body":"Are you looking for a <code>Try</code>/<code>Either</code> style type?"}],"answers":[{"tags":[],"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676556867,"creation_date":1676556867,"answer_id":75473512,"question_id":75473370,"body_markdown":"Not only does it not exist, it&#39;s not possible to exist.\r\n\r\nIn the following expression `executeMethodA()` is evaluated, then the result is passed to `Optional.ofNullable`.\r\n\r\n    Optional.ofNullable(executeMethodA())\r\n\r\nIf the `executeMethodA` throws, no method on `Optional` is ever invoked. It has no means to create some kind of method chain. \r\n\r\n[In Brian Goetz&#39; own words][1]:\r\n\r\n&gt; Optional is intended to provide a ***limited*** mechanism for library method\r\n&gt; ***return types*** where there is a clear need to represent &quot;no result,&quot; and\r\n&gt; where using null for that is overwhelmingly ***likely to cause errors***.\r\n\r\nIt is not designed to replace every conditional branch in your application, and nor will it ever be designed to do that.\r\n\r\n  [1]: https://stuartmarks.files.wordpress.com/2015/10/con6851-api-design-v2.pdf","title":"Java: How to handle internally an exception if was thrown by the main method executed in an Optional?","body":"<p>Not only does it not exist, it's not possible to exist.</p>\n<p>In the following expression <code>executeMethodA()</code> is evaluated, then the result is passed to <code>Optional.ofNullable</code>.</p>\n<pre><code>Optional.ofNullable(executeMethodA())\n</code></pre>\n<p>If the <code>executeMethodA</code> throws, no method on <code>Optional</code> is ever invoked. It has no means to create some kind of method chain.</p>\n<p><a href=\"https://stuartmarks.files.wordpress.com/2015/10/con6851-api-design-v2.pdf\" rel=\"nofollow noreferrer\">In Brian Goetz' own words</a>:</p>\n<blockquote>\n<p>Optional is intended to provide a <em><strong>limited</strong></em> mechanism for library method\n<em><strong>return types</strong></em> where there is a clear need to represent &quot;no result,&quot; and\nwhere using null for that is overwhelmingly <em><strong>likely to cause errors</strong></em>.</p>\n</blockquote>\n<p>It is not designed to replace every conditional branch in your application, and nor will it ever be designed to do that.</p>\n"},{"tags":[],"owner":{"account_id":5644665,"reputation":35951,"user_id":4467208,"accept_rate":51,"display_name":"Murat Karag&#246;z"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676557406,"creation_date":1676557406,"answer_id":75473618,"question_id":75473370,"body_markdown":"Afaik there is no built-in mechanism for that. Also I do not think it is even intended to replace try-catch. One way would be to move the instantiating into a separate call e.g.\r\n\r\n    private Optional&lt;YourObject&gt; executeMethodA() {\r\n        try {\r\n            return Optional.of(YourObject);\r\n        } catch (YourObjectException e) {\r\n            // do whatever\r\n        }\r\n        return Optional.empty();\r\n    }\r\n\r\n    executeMethodA().ifPresent(() -&gt; executeMethodB());\r\n\r\n\r\nYou could also make it more generic, but that&#39;s up to you.","title":"Java: How to handle internally an exception if was thrown by the main method executed in an Optional?","body":"<p>Afaik there is no built-in mechanism for that. Also I do not think it is even intended to replace try-catch. One way would be to move the instantiating into a separate call e.g.</p>\n<pre><code>private Optional&lt;YourObject&gt; executeMethodA() {\n    try {\n        return Optional.of(YourObject);\n    } catch (YourObjectException e) {\n        // do whatever\n    }\n    return Optional.empty();\n}\n\nexecuteMethodA().ifPresent(() -&gt; executeMethodB());\n</code></pre>\n<p>You could also make it more generic, but that's up to you.</p>\n"}],"owner":{"account_id":4508336,"reputation":15533,"user_id":3665178,"accept_rate":73,"display_name":"Manuel Jordan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1676557406,"creation_date":1676556178,"question_id":75473370,"body_markdown":"About Java `Optional` having the following template\r\n\r\n    Optional.ofNullable(executeMethodA())\r\n    \t\t.ifPresent(() -&gt; executeMethodB());\r\n\r\nHere 2 scenarios:\r\n\r\n* If `executeMethodA()` returns `null` then `ifPresent` is **not** executed\r\n* If `executeMethodA()` returns **not** `null` then `ifPresent` is executed\r\n\r\nUntil all is OK. But what about if `executeMethodA()` throws an `Exception`?\r\n\r\nIs there something like\r\n\r\n    Optional.ofNullable(executeMethodA())\r\n            .ifException(ex -&gt; handleException(ex)) &lt;---\r\n    \t\t.ifPresent(() -&gt; executeMethodB());\r\n\r\nor\r\n\r\n    Optional.ofNullable(executeMethodA())\r\n            .ifException(ex -&gt; { try/catch block}) &lt;---\r\n    \t\t.ifPresent(() -&gt; executeMethodB());\r\n\r\nThe purpose is avoid\r\n\r\n    try {\r\n           Optional.ofNullable(executeMethodA())\r\n        \t\t   .ifPresent(() -&gt; executeMethodB());\r\n    }\r\n    catch(Exception ex){\r\n       ...\r\n    }\r\n\r\n**Question:**\r\n\r\n* How to handle **internally** an exception if was thrown by the main method executed in an Optional?\r\n","title":"Java: How to handle internally an exception if was thrown by the main method executed in an Optional?","body":"<p>About Java <code>Optional</code> having the following template</p>\n<pre><code>Optional.ofNullable(executeMethodA())\n        .ifPresent(() -&gt; executeMethodB());\n</code></pre>\n<p>Here 2 scenarios:</p>\n<ul>\n<li>If <code>executeMethodA()</code> returns <code>null</code> then <code>ifPresent</code> is <strong>not</strong> executed</li>\n<li>If <code>executeMethodA()</code> returns <strong>not</strong> <code>null</code> then <code>ifPresent</code> is executed</li>\n</ul>\n<p>Until all is OK. But what about if <code>executeMethodA()</code> throws an <code>Exception</code>?</p>\n<p>Is there something like</p>\n<pre><code>Optional.ofNullable(executeMethodA())\n        .ifException(ex -&gt; handleException(ex)) &lt;---\n        .ifPresent(() -&gt; executeMethodB());\n</code></pre>\n<p>or</p>\n<pre><code>Optional.ofNullable(executeMethodA())\n        .ifException(ex -&gt; { try/catch block}) &lt;---\n        .ifPresent(() -&gt; executeMethodB());\n</code></pre>\n<p>The purpose is avoid</p>\n<pre><code>try {\n       Optional.ofNullable(executeMethodA())\n               .ifPresent(() -&gt; executeMethodB());\n}\ncatch(Exception ex){\n   ...\n}\n</code></pre>\n<p><strong>Question:</strong></p>\n<ul>\n<li>How to handle <strong>internally</strong> an exception if was thrown by the main method executed in an Optional?</li>\n</ul>\n"},{"tags":["java","soap","workitem","field-names","polarion"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1674641654,"post_id":75232204,"comment_id":132756133,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":11941,"reputation":29273,"user_id":23264,"accept_rate":100,"display_name":"Peter Parker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676557276,"creation_date":1676557276,"answer_id":75473586,"question_id":75232204,"body_markdown":"An easy workaround is to check for the custom-field.xml directly in the Polarion Repository. It is available over http/DAV and should be as accessible as the webservice.\r\n","title":"How to get Polarion workitem field names(not values) of perticular work items using java SOAP API..?","body":"<p>An easy workaround is to check for the custom-field.xml directly in the Polarion Repository. It is available over http/DAV and should be as accessible as the webservice.</p>\n"}],"owner":{"account_id":27616859,"reputation":11,"user_id":21078747,"display_name":"Raju "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":275,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676557276,"creation_date":1674640396,"question_id":75232204,"body_markdown":"Polarion is a tool it has Workitems,fields they provide API for accessing it.\r\nprersently i can access workitem field values But i want to access Defined Field names Using java SOAP API. \r\n\r\ni tried with trackerservice from webserviceFactory but i didn&#39;t find proper methods to get polarion workitem fields(not values). ","title":"How to get Polarion workitem field names(not values) of perticular work items using java SOAP API..?","body":"<p>Polarion is a tool it has Workitems,fields they provide API for accessing it.\nprersently i can access workitem field values But i want to access Defined Field names Using java SOAP API.</p>\n<p>i tried with trackerservice from webserviceFactory but i didn't find proper methods to get polarion workitem fields(not values).</p>\n"},{"tags":["java","parent-child","modularity"],"comments":[{"owner":{"account_id":5644665,"reputation":35951,"user_id":4467208,"accept_rate":51,"display_name":"Murat Karag&#246;z"},"score":0,"creation_date":1676555257,"post_id":75473105,"comment_id":133163182,"body_markdown":"Consider using a common Interface instead. Leave the implementation details to the concrete class. Your `SwimmingInTheOcean` only needs to call `swim()`, `eat()` etc.","body":"Consider using a common Interface instead. Leave the implementation details to the concrete class. Your <code>SwimmingInTheOcean</code> only needs to call <code>swim()</code>, <code>eat()</code> etc."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676556852,"creation_date":1676556852,"answer_id":75473506,"question_id":75473105,"body_markdown":"The setup of your question indicates you have much bigger fish to fry, so to speak: Your code doesn&#39;t make any sense in the first place.\r\n\r\nSpecifically, this part:\r\n\r\n&gt; Create both object type Fish and object type Shark in SwimmingInTheOcean. This is what I did.\r\n\r\nIt sounds like you&#39;re treating objects as being simply namespaces. Not, themselves, things that represent stuff and have actual state.\r\n\r\nLet&#39;s say you really do have 2 sharks (bruce and sheila) and 1 fish (nemo).\r\n\r\nClearly, in such a situation, `nemo.move()` and `bruce.move()` __do completely different things__ - specifically, they cause different state (namely, nemo&#39;s position for `nemo.move()`, and bruce&#39;s for `bruce.move()`) to be used in the calculations and to be affected by the method invocation. They aren&#39;t interchangible at all, and therefore, this:\r\n\r\n&gt; There is however, two functions in SwimmingInTheOcean which require an object of type Shark as well.\r\n\r\nJust doesn&#39;t make sense. Specifically, it doesn&#39;t make sense to see &#39;I have a function that I need to invoke; this will require an object of type Shark&#39;. You don&#39;t &quot;require an object so that some function is available&quot;, you &quot;__require a shark__&quot;, and it&#39;s not specifically about Bruce&#39;s abilities. It&#39;s about poor bruce himself. If you need bruce, you need bruce.\r\n\r\nSpecifically, if the only thing you need bruce for, is things that any fish can do, okay. __You still need bruce__. Objects aren&#39;t interchangible, or, if they are, you&#39;ve go some fairly bizarre design going on, not very OOP-style. If it works, it works, but this question is specifically about code style, and there is rather little point attempting to answer a question that boils down to:\r\n\r\n&quot;I am using this batch of paintbrushes as tools for stirring while I cook a meal. When using the pointed tip brush, should I, as a point of general cooking style, go with a coarse grained weave in the brush, or a fine grained one&quot;? - That&#39;s a silly question. The proper question is: &quot;What are proper cooking implements&quot;. If somehow brushes are all you have, worrying about making it look good is ridiculous.\r\n\r\n&gt; Create both object type Fish and object type Shark in SwimmingInTheOcean. This is what I did.\r\n\r\nIt sounds like all the methods you are interested in are utility methods that do not read or otherwise affect any state _except_ through the parameters you provide, and therefore, should be `static`, and once you&#39;ve done that, this question has the obvious answer. Just invoke the methods you need, simple. No need to create any objects anymore.\r\n\r\n&gt; Create only an object type Shark, because shark already contains all the functions of Fish. The reason why I did not pick this solution however, is because for most intents it looks very weird to use a Shark instead of a Fish. It would mislead someone reading the code in the future.\r\n\r\nThis is misleading. In java, there&#39;s the type of the object and the type of the reference which do not have to be the same thing. This is perfectly legal java code:\r\n\r\n```\r\nFish fish = new Shark();\r\n```\r\n\r\nand __very clearly__ communicates to any future readers that at the very least the API of the object is interesting solely for its fish-like properties; the fact that you picked a shark is presumably (as in, that&#39;s what a future reader would assume) relevant in the sense that the &#39;shark&#39; implementation is the way you want the API to be implemented.\r\n\r\nHere, for example, if you have 3 things you need done, and one of the 3 are things you can do with any fish (say, move them to the top of the aquarium so you can catch them with a net), whereas the other is &#39;found the fish friendly club&#39; which is a thing only sharks can do, then you would make 2 methods. Your class is called `SwimmingInTheOcean` which is weird; normally, classes are named to match a tangible concept class, and &#39;swimmingInTheOcean&#39; isn&#39;t it. `Aquarium` or `Ocean`, that makes sense as a name. You&#39;d have:\r\n\r\n```\r\nclass Ocean {\r\n  void simulateDay() {\r\n    Shark bruce = new Shark();\r\n    foundFishFriendlyClub(bruce);\r\n    chaseToTheNets(bruce);\r\n  }\r\n\r\n  void foundFishFriendlyClub(Shark leader) { ... }\r\n  void chaseToTheNets(Fish fish) { .... }\r\n}\r\n```\r\n\r\nHere there is no chance that a reader is going to be confused and thinks that somehow chasing into the nets is a thing that applies only to sharks. After all, whilst you call `chaseToTheNets` with a shark, all sharks are fishes, and the `chaseToTheNets` method yells from the rooftops you can do that to any Fish.\r\n\r\nIt&#39;s more correct to put the `chaseToTheNets` method in the `Ocean` class instead of the `Fish` class, because it&#39;s an act that a fish itself cannot do (if there is a `FleetOfTrawlers` class, the `chaseToTheNets` method should be there instead of in `Ocean`).\r\n\r\nIt&#39;s possible this advice misses the mark because it doesn&#39;t apply to your situation. However, if that is the case, your chosen example situation (with nemo and fishes and sharks and oceans) isn&#39;t a good way to summarize your situation.\r\n","title":"What is the correct programming practice when needing to initialize both Parent and Child class?","body":"<p>The setup of your question indicates you have much bigger fish to fry, so to speak: Your code doesn't make any sense in the first place.</p>\n<p>Specifically, this part:</p>\n<blockquote>\n<p>Create both object type Fish and object type Shark in SwimmingInTheOcean. This is what I did.</p>\n</blockquote>\n<p>It sounds like you're treating objects as being simply namespaces. Not, themselves, things that represent stuff and have actual state.</p>\n<p>Let's say you really do have 2 sharks (bruce and sheila) and 1 fish (nemo).</p>\n<p>Clearly, in such a situation, <code>nemo.move()</code> and <code>bruce.move()</code> <strong>do completely different things</strong> - specifically, they cause different state (namely, nemo's position for <code>nemo.move()</code>, and bruce's for <code>bruce.move()</code>) to be used in the calculations and to be affected by the method invocation. They aren't interchangible at all, and therefore, this:</p>\n<blockquote>\n<p>There is however, two functions in SwimmingInTheOcean which require an object of type Shark as well.</p>\n</blockquote>\n<p>Just doesn't make sense. Specifically, it doesn't make sense to see 'I have a function that I need to invoke; this will require an object of type Shark'. You don't &quot;require an object so that some function is available&quot;, you &quot;<strong>require a shark</strong>&quot;, and it's not specifically about Bruce's abilities. It's about poor bruce himself. If you need bruce, you need bruce.</p>\n<p>Specifically, if the only thing you need bruce for, is things that any fish can do, okay. <strong>You still need bruce</strong>. Objects aren't interchangible, or, if they are, you've go some fairly bizarre design going on, not very OOP-style. If it works, it works, but this question is specifically about code style, and there is rather little point attempting to answer a question that boils down to:</p>\n<p>&quot;I am using this batch of paintbrushes as tools for stirring while I cook a meal. When using the pointed tip brush, should I, as a point of general cooking style, go with a coarse grained weave in the brush, or a fine grained one&quot;? - That's a silly question. The proper question is: &quot;What are proper cooking implements&quot;. If somehow brushes are all you have, worrying about making it look good is ridiculous.</p>\n<blockquote>\n<p>Create both object type Fish and object type Shark in SwimmingInTheOcean. This is what I did.</p>\n</blockquote>\n<p>It sounds like all the methods you are interested in are utility methods that do not read or otherwise affect any state <em>except</em> through the parameters you provide, and therefore, should be <code>static</code>, and once you've done that, this question has the obvious answer. Just invoke the methods you need, simple. No need to create any objects anymore.</p>\n<blockquote>\n<p>Create only an object type Shark, because shark already contains all the functions of Fish. The reason why I did not pick this solution however, is because for most intents it looks very weird to use a Shark instead of a Fish. It would mislead someone reading the code in the future.</p>\n</blockquote>\n<p>This is misleading. In java, there's the type of the object and the type of the reference which do not have to be the same thing. This is perfectly legal java code:</p>\n<pre><code>Fish fish = new Shark();\n</code></pre>\n<p>and <strong>very clearly</strong> communicates to any future readers that at the very least the API of the object is interesting solely for its fish-like properties; the fact that you picked a shark is presumably (as in, that's what a future reader would assume) relevant in the sense that the 'shark' implementation is the way you want the API to be implemented.</p>\n<p>Here, for example, if you have 3 things you need done, and one of the 3 are things you can do with any fish (say, move them to the top of the aquarium so you can catch them with a net), whereas the other is 'found the fish friendly club' which is a thing only sharks can do, then you would make 2 methods. Your class is called <code>SwimmingInTheOcean</code> which is weird; normally, classes are named to match a tangible concept class, and 'swimmingInTheOcean' isn't it. <code>Aquarium</code> or <code>Ocean</code>, that makes sense as a name. You'd have:</p>\n<pre><code>class Ocean {\n  void simulateDay() {\n    Shark bruce = new Shark();\n    foundFishFriendlyClub(bruce);\n    chaseToTheNets(bruce);\n  }\n\n  void foundFishFriendlyClub(Shark leader) { ... }\n  void chaseToTheNets(Fish fish) { .... }\n}\n</code></pre>\n<p>Here there is no chance that a reader is going to be confused and thinks that somehow chasing into the nets is a thing that applies only to sharks. After all, whilst you call <code>chaseToTheNets</code> with a shark, all sharks are fishes, and the <code>chaseToTheNets</code> method yells from the rooftops you can do that to any Fish.</p>\n<p>It's more correct to put the <code>chaseToTheNets</code> method in the <code>Ocean</code> class instead of the <code>Fish</code> class, because it's an act that a fish itself cannot do (if there is a <code>FleetOfTrawlers</code> class, the <code>chaseToTheNets</code> method should be there instead of in <code>Ocean</code>).</p>\n<p>It's possible this advice misses the mark because it doesn't apply to your situation. However, if that is the case, your chosen example situation (with nemo and fishes and sharks and oceans) isn't a good way to summarize your situation.</p>\n"}],"owner":{"account_id":6610294,"reputation":65,"user_id":5105703,"display_name":"Alex Mm"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1676556852,"creation_date":1676554800,"question_id":75473105,"body_markdown":"Recently I refactored the parent class, let&#39;s call it Fish. \r\n\r\n            public class Fish {\r\n                     ...\r\n        }\r\n\r\n\r\nFish had a lot of functions in it that made it logical to refactor for modularity, so I created a child class, let&#39;s call it Shark.\r\n\r\n \r\n\r\n       public class Shark extends Fish { \r\n                     ...\r\n    }\r\n\r\n\r\nThere is a third class, very much only used as a sort of setup script class which might not be ideal, but it is this way for now. Let&#39;s call this third class SwimmingInTheOcean.\r\n\r\n        public class SwimmingInTheOcean {\r\n         public Fish nemo = new Fish();\r\n         public Shark bruce = new Shark();\r\n        \r\n        public void func1() {\r\n          nemo.move();\r\n        }\r\n    \r\n        public void func2() {\r\n          nemo.sleep();\r\n        }\r\n    \r\n        public void func3() {\r\n          ocean.setup...\r\n          nemo.sleep();\r\n          nemo.eat();\r\n        }\r\n    \r\n        public void func4() {\r\n          ocean.setup...\r\n          nemo.sleep();\r\n          print...\r\n        }\r\n    \r\n        public void func5() {\r\n          bruce.move()\r\n        }\r\n    \r\n        public void func6() {\r\n          bruce.eat()\r\n          bruce.sleep()\r\n        }\r\n    }\r\n\r\nSwimmingInTheOcean creates an object of Fish, because the class has many functions that work on Fish.\r\nThere is however, two functions in SwimmingInTheOcean which require an object of type Shark as well.\r\n\r\nSo far I see three options, but none of them seem ideal.\r\n\r\n1. Create both object type Fish and object type Shark in SwimmingInTheOcean. This is what I did.\r\n2. Create only an object type Shark, because shark already contains all the functions of Fish. The reason why I did not pick this solution however, is because for most intents it looks very weird to use a Shark instead of a Fish. It would mislead someone reading the code in the future.\r\n3. Split SwimmingInTheOcean as well into two, but the issue is, the higher level class where I sometimes would be using Shark, I still use Fish 90% of the time. So I would have to split that class as well into two.\r\n\r\nThis is probably a different issue altogether, but Fish has functions that I have not overloaded yet in Shark, instead I created new functions. Fish can move, eat, sleep, and Shark has sharkMove, sharkEat, sharkSleep instead of overloading. The reason why I haven&#39;t overloaded these yet is because the Shark functions still partially use the fish functions, so sharkMove still has the Fish&#39; move as a step 1. ","title":"What is the correct programming practice when needing to initialize both Parent and Child class?","body":"<p>Recently I refactored the parent class, let's call it Fish.</p>\n<pre><code>        public class Fish {\n                 ...\n    }\n</code></pre>\n<p>Fish had a lot of functions in it that made it logical to refactor for modularity, so I created a child class, let's call it Shark.</p>\n<pre><code>   public class Shark extends Fish { \n                 ...\n}\n</code></pre>\n<p>There is a third class, very much only used as a sort of setup script class which might not be ideal, but it is this way for now. Let's call this third class SwimmingInTheOcean.</p>\n<pre><code>    public class SwimmingInTheOcean {\n     public Fish nemo = new Fish();\n     public Shark bruce = new Shark();\n    \n    public void func1() {\n      nemo.move();\n    }\n\n    public void func2() {\n      nemo.sleep();\n    }\n\n    public void func3() {\n      ocean.setup...\n      nemo.sleep();\n      nemo.eat();\n    }\n\n    public void func4() {\n      ocean.setup...\n      nemo.sleep();\n      print...\n    }\n\n    public void func5() {\n      bruce.move()\n    }\n\n    public void func6() {\n      bruce.eat()\n      bruce.sleep()\n    }\n}\n</code></pre>\n<p>SwimmingInTheOcean creates an object of Fish, because the class has many functions that work on Fish.\nThere is however, two functions in SwimmingInTheOcean which require an object of type Shark as well.</p>\n<p>So far I see three options, but none of them seem ideal.</p>\n<ol>\n<li>Create both object type Fish and object type Shark in SwimmingInTheOcean. This is what I did.</li>\n<li>Create only an object type Shark, because shark already contains all the functions of Fish. The reason why I did not pick this solution however, is because for most intents it looks very weird to use a Shark instead of a Fish. It would mislead someone reading the code in the future.</li>\n<li>Split SwimmingInTheOcean as well into two, but the issue is, the higher level class where I sometimes would be using Shark, I still use Fish 90% of the time. So I would have to split that class as well into two.</li>\n</ol>\n<p>This is probably a different issue altogether, but Fish has functions that I have not overloaded yet in Shark, instead I created new functions. Fish can move, eat, sleep, and Shark has sharkMove, sharkEat, sharkSleep instead of overloading. The reason why I haven't overloaded these yet is because the Shark functions still partially use the fish functions, so sharkMove still has the Fish' move as a step 1.</p>\n"},{"tags":["java","gradle","jhipster","heap-memory"],"comments":[{"owner":{"account_id":4609207,"reputation":6264,"user_id":3737815,"display_name":"Jon Ruddell"},"score":0,"creation_date":1539023704,"post_id":52676933,"comment_id":92342665,"body_markdown":"Have you tried https://stackoverflow.com/a/17701809/3737815 ?","body":"Have you tried <a href=\"https://stackoverflow.com/a/17701809/3737815\">stackoverflow.com/a/17701809/3737815</a> ?"},{"owner":{"account_id":13852503,"reputation":415,"user_id":10000110,"display_name":"st100"},"score":0,"creation_date":1539379569,"post_id":52676933,"comment_id":92495828,"body_markdown":"Thanks, but it didn&#39;t helped me. One JVM takes 1.5-2.0GB RAM.\nI tried all these environment variables in linux:\nJAVA_OPTIONS=-Xmx256m -Xms256m\nJAVA_OPTS=-Xmx256m -Xms256m\nDEFAULT_JVM_OPTS=-Xmx256m\nGRADLE_OPTS=-Xmx256m","body":"Thanks, but it didn&#39;t helped me. One JVM takes 1.5-2.0GB RAM. I tried all these environment variables in linux: JAVA_OPTIONS=-Xmx256m -Xms256m JAVA_OPTS=-Xmx256m -Xms256m DEFAULT_JVM_OPTS=-Xmx256m GRADLE_OPTS=-Xmx256m"},{"owner":{"account_id":13852503,"reputation":415,"user_id":10000110,"display_name":"st100"},"score":0,"creation_date":1539769207,"post_id":52676933,"comment_id":92618940,"body_markdown":"I have moved to Maven and it works there. I think it was simpler/faster to move to Maven than look for solutions with Gradle. It was probably problem at specific versions of Gradle, its plugins or some dependencies.\nFor Maven I used advice form Zhang Buzz:\nhttps://stackoverflow.com/questions/23072187/how-to-configure-heap-size-when-starting-a-spring-boot-application-with-embedded","body":"I have moved to Maven and it works there. I think it was simpler/faster to move to Maven than look for solutions with Gradle. It was probably problem at specific versions of Gradle, its plugins or some dependencies. For Maven I used advice form Zhang Buzz: <a href=\"https://stackoverflow.com/questions/23072187/how-to-configure-heap-size-when-starting-a-spring-boot-application-with-embedded\" title=\"how to configure heap size when starting a spring boot application with embedded\">stackoverflow.com/questions/23072187/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1092388,"reputation":4715,"user_id":1086744,"display_name":"jozala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676556793,"creation_date":1676556793,"answer_id":75473490,"question_id":52676933,"body_markdown":"It is possible to set heap size parameters by specifying them in Gradle script in `bootRun` as `jvmArgs` list elements.  \r\nYou may do it in `gradle/profile_dev.gradle` file like this:\r\n\r\n```groovy\r\nbootRun {\r\n    jvmArgs = [&#39;-Xms256m&#39;, &#39;-Xmx512m&#39;]\r\n}\r\n```\r\n\r\nPossibly `bootRun` is already in file in the generated project, so just add `jvmArgs...` in the new line there.\r\n\r\nThen it is possible to check on the metrics page if it has been properly set\r\n(http://localhost:8080/admin/metrics)\r\n\r\n[![JVM Metrics from JHipster admin page][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/HCtGDm.png","title":"set JVM memory limit for Jhipster application started by Gradle bootRun","body":"<p>It is possible to set heap size parameters by specifying them in Gradle script in <code>bootRun</code> as <code>jvmArgs</code> list elements.<br />\nYou may do it in <code>gradle/profile_dev.gradle</code> file like this:</p>\n<pre><code>bootRun {\n    jvmArgs = ['-Xms256m', '-Xmx512m']\n}\n</code></pre>\n<p>Possibly <code>bootRun</code> is already in file in the generated project, so just add <code>jvmArgs...</code> in the new line there.</p>\n<p>Then it is possible to check on the metrics page if it has been properly set\n(http://localhost:8080/admin/metrics)</p>\n<p><a href=\"https://i.stack.imgur.com/HCtGDm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HCtGDm.png\" alt=\"JVM Metrics from JHipster admin page\" /></a></p>\n"}],"owner":{"account_id":13852503,"reputation":415,"user_id":10000110,"display_name":"st100"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1423,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676556793,"creation_date":1538812430,"question_id":52676933,"body_markdown":"I have app generated by Jhipster (using gradle).\r\n\r\nThe problem of setting JVM options -Xmx -Xms is specific when app started from gradle (bootRun).\r\n\r\nI was looking for solution in stackoverflow and tried many advices from forums .... but none worked for me. Java application took a lot of memory. \r\nIn the case of more microservices (more JVMs) Java consumes so much memory that it is unusable. \r\n\r\nI tried many options like \r\n\r\n - modify build.gradle\r\n\r\n - set options from command line\r\n\r\n - use environment variable \r\n\r\n.... but gradle ignored it always.\r\n\r\nusing gradle ver:\r\ngradlew --version\r\n\r\n\r\nGradle 4.9\r\n\r\nBuild time:   2018-07-16 08:14:03 UTC\r\nRevision:     efcf8c1cf533b03c70f394f270f46a174c738efc\r\n\r\nKotlin DSL:   0.18.4\r\nKotlin:       1.2.41\r\nGroovy:       2.4.12\r\nAnt:          Apache Ant(TM) version 1.9.11 compiled on March 23 2018\r\nJVM:          1.8.0_172 (Oracle Corporation 25.172-b11)\r\nOS:           Linux 4.9.0-6-amd64 amd64\r\n\r\n\r\nLimiting memory for Jhipster app works fine if starting apps as docker container.","title":"set JVM memory limit for Jhipster application started by Gradle bootRun","body":"<p>I have app generated by Jhipster (using gradle).</p>\n\n<p>The problem of setting JVM options -Xmx -Xms is specific when app started from gradle (bootRun).</p>\n\n<p>I was looking for solution in stackoverflow and tried many advices from forums .... but none worked for me. Java application took a lot of memory. \nIn the case of more microservices (more JVMs) Java consumes so much memory that it is unusable. </p>\n\n<p>I tried many options like </p>\n\n<ul>\n<li><p>modify build.gradle</p></li>\n<li><p>set options from command line</p></li>\n<li><p>use environment variable </p></li>\n</ul>\n\n<p>.... but gradle ignored it always.</p>\n\n<p>using gradle ver:\ngradlew --version</p>\n\n<p>Gradle 4.9</p>\n\n<p>Build time:   2018-07-16 08:14:03 UTC\nRevision:     efcf8c1cf533b03c70f394f270f46a174c738efc</p>\n\n<p>Kotlin DSL:   0.18.4\nKotlin:       1.2.41\nGroovy:       2.4.12\nAnt:          Apache Ant(TM) version 1.9.11 compiled on March 23 2018\nJVM:          1.8.0_172 (Oracle Corporation 25.172-b11)\nOS:           Linux 4.9.0-6-amd64 amd64</p>\n\n<p>Limiting memory for Jhipster app works fine if starting apps as docker container.</p>\n"},{"tags":["java","spring","spring-boot","enums"],"answers":[{"tags":[],"owner":{"account_id":2324765,"reputation":3694,"user_id":2039546,"display_name":"İsmail Y."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676556320,"creation_date":1676554932,"answer_id":75473122,"question_id":75471475,"body_markdown":"Unfortunately you cannot do this with `@ConditionalOnProperty` or with a custom **Conditional** class / annotation like in the example [in this link](https://stackoverflow.com/a/37986942/2039546).\r\n\r\nYou can&#39;t send `MyEnum.A` or `MyEnum.A.name()` with `havingValue`, [because compile constants can only be primitives and Strings](https://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.28).\r\n\r\n##### You can do the comparison with **`@ConditionalOnProperty`**:\r\n\r\n```java\r\n@Service\r\n@ConditionalOnProperty(\r\n        name = &quot;my.property&quot;, havingValue = &quot;A&quot;\r\n)\r\npublic class MyService {}\r\n```\r\n\r\n##### Alternatively you can do the comparison with **`@ConditionalOnExpression`:**\r\n\r\n```java\r\n@Service\r\n@ConditionalOnExpression(\r\n        value = &quot;#{T(com._75471475.MyEnum).valueOf(\\&#39;${my.property}\\&#39;) == T(com._75471475.MyEnum).A}&quot;\r\n)\r\npublic class MyService {}\r\n```","title":"Can&#39;t use enumration on @ConditionalOnProperty havingValue","body":"<p>Unfortunately you cannot do this with <code>@ConditionalOnProperty</code> or with a custom <strong>Conditional</strong> class / annotation like in the example <a href=\"https://stackoverflow.com/a/37986942/2039546\">in this link</a>.</p>\n<p>You can't send <code>MyEnum.A</code> or <code>MyEnum.A.name()</code> with <code>havingValue</code>, <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.28\" rel=\"nofollow noreferrer\">because compile constants can only be primitives and Strings</a>.</p>\n<h5>You can do the comparison with <strong><code>@ConditionalOnProperty</code></strong>:</h5>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@ConditionalOnProperty(\n        name = &quot;my.property&quot;, havingValue = &quot;A&quot;\n)\npublic class MyService {}\n</code></pre>\n<h5>Alternatively you can do the comparison with <strong><code>@ConditionalOnExpression</code>:</strong></h5>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@ConditionalOnExpression(\n        value = &quot;#{T(com._75471475.MyEnum).valueOf(\\'${my.property}\\') == T(com._75471475.MyEnum).A}&quot;\n)\npublic class MyService {}\n</code></pre>\n"}],"owner":{"account_id":4008871,"reputation":163,"user_id":3302843,"display_name":"cloooze"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":281,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75473122,"answer_count":1,"score":0,"last_activity_date":1676556320,"creation_date":1676546172,"question_id":75471475,"body_markdown":"Following code won&#39;t compile, I get &quot;Attribute value must be constant&quot;.\r\n\r\nIs there a workaround to get it working?\r\n```\r\n@Service\r\n@ConditionalOnProperty(name = &quot;my.property&quot;, havingValue = MyEnum.A.name())\r\npublic class MyService {\r\n}\r\n```\r\n```\r\npublic enum MyEnum {\r\n    A,\r\n    B\r\n}\r\n```\r\n","title":"Can&#39;t use enumration on @ConditionalOnProperty havingValue","body":"<p>Following code won't compile, I get &quot;Attribute value must be constant&quot;.</p>\n<p>Is there a workaround to get it working?</p>\n<pre><code>@Service\n@ConditionalOnProperty(name = &quot;my.property&quot;, havingValue = MyEnum.A.name())\npublic class MyService {\n}\n</code></pre>\n<pre><code>public enum MyEnum {\n    A,\n    B\n}\n</code></pre>\n"},{"tags":["java","spring","logging","logback"],"comments":[{"owner":{"account_id":14656252,"reputation":672,"user_id":10869284,"display_name":"sigur"},"score":0,"creation_date":1676539532,"post_id":75470117,"comment_id":133158395,"body_markdown":"Are you using any tool which handles the dependencies and their version? For example: Maven.","body":"Are you using any tool which handles the dependencies and their version? For example: Maven."},{"owner":{"account_id":3831156,"reputation":2370,"user_id":3176651,"display_name":"khakiout"},"score":0,"creation_date":1676539780,"post_id":75470117,"comment_id":133158466,"body_markdown":"You can try putting logback.xml only on `project`. remove it from the libraries.","body":"You can try putting logback.xml only on <code>project</code>. remove it from the libraries."},{"owner":{"account_id":6532054,"reputation":739,"user_id":5291708,"accept_rate":83,"display_name":"florin"},"score":0,"creation_date":1676540217,"post_id":75470117,"comment_id":133158630,"body_markdown":"@sigur yes, using maven","body":"@sigur yes, using maven"},{"owner":{"account_id":6532054,"reputation":739,"user_id":5291708,"accept_rate":83,"display_name":"florin"},"score":0,"creation_date":1676541123,"post_id":75470117,"comment_id":133158919,"body_markdown":"@khakiout you suggest to merge all 3 logback files into 1 and put in in the project? if yes, this I didn&#39;t try and I will give it a show. what I tried was to configure logback just for the project(without the config for libraries). but here I had a problem  with httpclient (libB uses httpclient): httpclient was logging with debug level --I could see for example http handshak. I fixed this by adding logback.xml in libB. but then I said to put it also in libA for log format consistency and I dropped in the case mentioned in the post","body":"@khakiout you suggest to merge all 3 logback files into 1 and put in in the project? if yes, this I didn&#39;t try and I will give it a show. what I tried was to configure logback just for the project(without the config for libraries). but here I had a problem  with httpclient (libB uses httpclient): httpclient was logging with debug level --I could see for example http handshak. I fixed this by adding logback.xml in libB. but then I said to put it also in libA for log format consistency and I dropped in the case mentioned in the post"},{"owner":{"account_id":3831156,"reputation":2370,"user_id":3176651,"display_name":"khakiout"},"score":0,"creation_date":1676546369,"post_id":75470117,"comment_id":133160526,"body_markdown":"yes, please include your logback.xml for reference too.","body":"yes, please include your logback.xml for reference too."},{"owner":{"account_id":6532054,"reputation":739,"user_id":5291708,"accept_rate":83,"display_name":"florin"},"score":0,"creation_date":1676547725,"post_id":75470117,"comment_id":133160886,"body_markdown":"@khakiout I&#39;ve added the configuration. please see my later later edit: the org.apache loger is added because I have debug logs in my log and I tried to fix.","body":"@khakiout I&#39;ve added the configuration. please see my later later edit: the org.apache loger is added because I have debug logs in my log and I tried to fix."}],"answers":[{"tags":[],"owner":{"account_id":14656252,"reputation":672,"user_id":10869284,"display_name":"sigur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676540786,"creation_date":1676540786,"answer_id":75470440,"question_id":75470117,"body_markdown":"You should create the logback file for the Project, which is using library A and library B.\r\n\r\nIn this logback configuration files, you need to handle the log which the project requires and you need: project classes and library classes.\r\n\r\nSince you are using logback in this project, I suggest you to specify the dependency and its version in its pom.xml, so Maven is going to use the version from the POM of Project, and not &quot;guessing libA or libB&quot;.","title":"Java logging configuration for dependencies and transitive dependencies","body":"<p>You should create the logback file for the Project, which is using library A and library B.</p>\n<p>In this logback configuration files, you need to handle the log which the project requires and you need: project classes and library classes.</p>\n<p>Since you are using logback in this project, I suggest you to specify the dependency and its version in its pom.xml, so Maven is going to use the version from the POM of Project, and not &quot;guessing libA or libB&quot;.</p>\n"}],"owner":{"account_id":6532054,"reputation":739,"user_id":5291708,"accept_rate":83,"display_name":"florin"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":298,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676555998,"creation_date":1676539313,"question_id":75470117,"body_markdown":"Scenario I have:\r\n\r\n    project --&gt; libA --&gt; libB\r\n\r\n*project* uses *libA* (imported in pom), *libA* uses *libB*.  \r\n\r\nDue to other constrains, in *project* pom I exclude everything from libA and then I import manually libB.\r\n\r\nBoth *libA* and *libB* are maintained by me but are extracted as librarie for reusability. *Project* and *libB* have as parent the sprig-boot-parent. *libA* is a maven project (no parent) that contains spring libraries.\r\n\r\nIf I put logback.xml file in all of them (*project, libA, libB*), then I receive an warning:\r\n\r\n    13:20:26,442 |-WARN in ch.qos.logback.classic.LoggerContext[default] - Resource [logback.xml] occurs multiple times on the classpath.\r\n\r\nAdditional to above log, there are other lines of log that I don&#39;t desire.\r\n\r\nIf I put logback.xml in *project* and in *libB*, then I don&#39;t receive the above warning. The logs in the *project* and *libB* is formated correctly but not the one in *libA*\r\n\r\nIn the end I want to have the same log format for all of them without other unwanted logs.\r\n\r\nHow can I cofigure logback so that it will apply also to the library and transitive libraries ?\r\nWhat are the recommendations in these types of scenarios?\r\n\r\n\r\n**Later edit:**\r\n\r\nAdding logback config that is applied in the *project*:\r\n\r\n\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t&lt;configuration&gt;\r\n\t\t&lt;appender name=&quot;stdout&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n\t\t\t&lt;Target&gt;System.out&lt;/Target&gt;\r\n\t\t\t&lt;encoder&gt;\r\n\t\t\t\t&lt;pattern&gt;D:%d{yyyy-MM-dd HH:mm:ss.SSS} L:%p C:%c{1} F:%F\\(%L\\) Fn:%M T:%thread R:%X{R} - %m%n&lt;/pattern&gt;\r\n\t\t\t&lt;/encoder&gt;\r\n\t\t&lt;/appender&gt;\r\n\t\t&lt;appender name=&quot;pandaAppender&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n\t\t\t&lt;Target&gt;System.out&lt;/Target&gt;\r\n\t\t\t&lt;encoder&gt;\r\n\t\t\t\t&lt;pattern&gt;L:%p %m%n&lt;/pattern&gt;\r\n\t\t\t&lt;/encoder&gt;\r\n\t\t&lt;/appender&gt;\r\n\t\t&lt;root level=&quot;INFO&quot;&gt;\r\n\t\t\t&lt;appender-ref ref=&quot;stdout&quot;/&gt;\r\n\t\t&lt;/root&gt;\r\n\t\t&lt;logger name=&quot;com.happypanda&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\r\n\t\t\t&lt;appender-ref ref=&quot;stdout&quot;/&gt;\r\n\t\t&lt;/logger&gt;\r\n\t\t&lt;logger name=&quot;com.happypanda.myproject&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\r\n\t\t\t&lt;appender-ref ref=&quot;pandaAppender&quot;/&gt;\r\n\t\t&lt;/logger&gt;\r\n\r\n\t\t&lt;logger name=&quot;com.happypanda.libB&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\r\n\t\t\t&lt;appender-ref ref=&quot;pandaAppender&quot;/&gt;\r\n\t\t&lt;/logger&gt;\r\n\r\n\t\t&lt;logger name=&quot;org.apache.http&quot; level=&quot;ERROR&quot;&gt;\r\n\t\t\t&lt;appender-ref ref=&quot;stdout&quot;/&gt;\r\n\t\t&lt;/logger&gt;\r\n\t\t&lt;logger name=&quot;org.apache.http.wire&quot; level=&quot;ERROR&quot;&gt;\r\n\t\t\t&lt;appender-ref ref=&quot;stdout&quot;/&gt;\r\n\t\t&lt;/logger&gt;\r\n\r\n\t&lt;/configuration&gt;\r\n\r\n**Later later edit:**\r\n\r\nI&#39;ve tried to simplify the logic: to remove the libA and use directly libB in project.\r\n\r\nNow the log level in libB is debug + there are additional logs from httpclient (see this as reference https://stackoverflow.com/questions/4915414/disable-httpclient-logging)\r\n\r\n**Later later edit:**\r\n\r\nIn my application I&#39;m taking the logback.xml from external source (is not in resources). In a static block I have the following config:\r\n\r\n    System.setProperty(&quot;logging.config&quot;, &quot;file:/services/config/logback.xml&quot;);\r\n\r\nFor testing purposes I&#39;ve moved the config log inside the resources file of the *project*. Now all the logs in both *project* and *libB* are ok.\r\n\r\nI&#39;ve tried to set them as command line properties but doing so I see debug logs in libB.\r\n\r\n    CMD java -XX:MinRAMPercentage=40.0 -XX:MaxRAMPercentage=80.0 -XX:+HeapDumpOnOutOfMemoryError -Dlogging.config=/services/config/logback.xml -jar\r\n\r\n","title":"Java logging configuration for dependencies and transitive dependencies","body":"<p>Scenario I have:</p>\n<pre><code>project --&gt; libA --&gt; libB\n</code></pre>\n<p><em>project</em> uses <em>libA</em> (imported in pom), <em>libA</em> uses <em>libB</em>.</p>\n<p>Due to other constrains, in <em>project</em> pom I exclude everything from libA and then I import manually libB.</p>\n<p>Both <em>libA</em> and <em>libB</em> are maintained by me but are extracted as librarie for reusability. <em>Project</em> and <em>libB</em> have as parent the sprig-boot-parent. <em>libA</em> is a maven project (no parent) that contains spring libraries.</p>\n<p>If I put logback.xml file in all of them (<em>project, libA, libB</em>), then I receive an warning:</p>\n<pre><code>13:20:26,442 |-WARN in ch.qos.logback.classic.LoggerContext[default] - Resource [logback.xml] occurs multiple times on the classpath.\n</code></pre>\n<p>Additional to above log, there are other lines of log that I don't desire.</p>\n<p>If I put logback.xml in <em>project</em> and in <em>libB</em>, then I don't receive the above warning. The logs in the <em>project</em> and <em>libB</em> is formated correctly but not the one in <em>libA</em></p>\n<p>In the end I want to have the same log format for all of them without other unwanted logs.</p>\n<p>How can I cofigure logback so that it will apply also to the library and transitive libraries ?\nWhat are the recommendations in these types of scenarios?</p>\n<p><strong>Later edit:</strong></p>\n<p>Adding logback config that is applied in the <em>project</em>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration&gt;\n    &lt;appender name=&quot;stdout&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;Target&gt;System.out&lt;/Target&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;D:%d{yyyy-MM-dd HH:mm:ss.SSS} L:%p C:%c{1} F:%F\\(%L\\) Fn:%M T:%thread R:%X{R} - %m%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n    &lt;appender name=&quot;pandaAppender&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;Target&gt;System.out&lt;/Target&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;L:%p %m%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n    &lt;root level=&quot;INFO&quot;&gt;\n        &lt;appender-ref ref=&quot;stdout&quot;/&gt;\n    &lt;/root&gt;\n    &lt;logger name=&quot;com.happypanda&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\n        &lt;appender-ref ref=&quot;stdout&quot;/&gt;\n    &lt;/logger&gt;\n    &lt;logger name=&quot;com.happypanda.myproject&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\n        &lt;appender-ref ref=&quot;pandaAppender&quot;/&gt;\n    &lt;/logger&gt;\n\n    &lt;logger name=&quot;com.happypanda.libB&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\n        &lt;appender-ref ref=&quot;pandaAppender&quot;/&gt;\n    &lt;/logger&gt;\n\n    &lt;logger name=&quot;org.apache.http&quot; level=&quot;ERROR&quot;&gt;\n        &lt;appender-ref ref=&quot;stdout&quot;/&gt;\n    &lt;/logger&gt;\n    &lt;logger name=&quot;org.apache.http.wire&quot; level=&quot;ERROR&quot;&gt;\n        &lt;appender-ref ref=&quot;stdout&quot;/&gt;\n    &lt;/logger&gt;\n\n&lt;/configuration&gt;\n</code></pre>\n<p><strong>Later later edit:</strong></p>\n<p>I've tried to simplify the logic: to remove the libA and use directly libB in project.</p>\n<p>Now the log level in libB is debug + there are additional logs from httpclient (see this as reference <a href=\"https://stackoverflow.com/questions/4915414/disable-httpclient-logging\">Disable HttpClient logging</a>)</p>\n<p><strong>Later later edit:</strong></p>\n<p>In my application I'm taking the logback.xml from external source (is not in resources). In a static block I have the following config:</p>\n<pre><code>System.setProperty(&quot;logging.config&quot;, &quot;file:/services/config/logback.xml&quot;);\n</code></pre>\n<p>For testing purposes I've moved the config log inside the resources file of the <em>project</em>. Now all the logs in both <em>project</em> and <em>libB</em> are ok.</p>\n<p>I've tried to set them as command line properties but doing so I see debug logs in libB.</p>\n<pre><code>CMD java -XX:MinRAMPercentage=40.0 -XX:MaxRAMPercentage=80.0 -XX:+HeapDumpOnOutOfMemoryError -Dlogging.config=/services/config/logback.xml -jar\n</code></pre>\n"},{"tags":["java","automation","appium","appium-ios"],"owner":{"account_id":19082557,"reputation":51,"user_id":16354380,"display_name":"Thiago Andrade"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676555949,"creation_date":1676555949,"question_id":75473309,"body_markdown":"When I am doing a scroll using iOS, Java and Appium I receive this massage:\r\n\r\njava.lang.NullPointerException\r\n\r\nI am doing the scroll this way:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThats my code:\r\n[![enter image description here][2]][2]\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9Ct5J.jpg\r\n  [2]: https://i.stack.imgur.com/B0ALO.png\r\n  [3]: https://i.stack.imgur.com/wnwkf.jpg","title":"scroll on ios java appium - java.lang.NullPointerException","body":"<p>When I am doing a scroll using iOS, Java and Appium I receive this massage:</p>\n<p>java.lang.NullPointerException</p>\n<p>I am doing the scroll this way:</p>\n<p><a href=\"https://i.stack.imgur.com/9Ct5J.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9Ct5J.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Thats my code:\n<a href=\"https://i.stack.imgur.com/B0ALO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/B0ALO.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/wnwkf.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wnwkf.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","xml","android-layout"],"comments":[{"owner":{"account_id":8354243,"reputation":8167,"user_id":6275174,"display_name":"Nicola Gallazzi"},"score":0,"creation_date":1549468346,"post_id":54556758,"comment_id":95914836,"body_markdown":"Possible duplicate of [Two line text for MenuItem](https://stackoverflow.com/questions/4713598/two-line-text-for-menuitem)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/4713598/two-line-text-for-menuitem\">Two line text for MenuItem</a>"}],"answers":[{"tags":[],"owner":{"account_id":8354243,"reputation":8167,"user_id":6275174,"display_name":"Nicola Gallazzi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1549466955,"creation_date":1549466955,"answer_id":54557120,"question_id":54556758,"body_markdown":"I don&#39;t think there&#39;s an appropriate property to do so, however you can use `android:titleCondensed` property to display a shorter title when there&#39;s not enough space to display the whole title string. Reference [here][1]\r\n\r\n\r\n  [1]: https://developer.android.com/guide/topics/resources/menu-resource","title":"Multiple line text in navigation drawer menu","body":"<p>I don't think there's an appropriate property to do so, however you can use <code>android:titleCondensed</code> property to display a shorter title when there's not enough space to display the whole title string. Reference <a href=\"https://developer.android.com/guide/topics/resources/menu-resource\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":19406874,"reputation":21,"user_id":14192139,"display_name":"naveeen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635416577,"creation_date":1599923690,"answer_id":63861798,"question_id":54556758,"body_markdown":"[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n\r\n    &lt;com.google.android.material.navigation.NavigationView\r\n                  android:layout_width=&quot;match_parent&quot;\r\n\r\n use this match parent\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Bl9WK.png\r\n  [2]: https://i.stack.imgur.com/JayyV.png","title":"Multiple line text in navigation drawer menu","body":"<p><a href=\"https://i.stack.imgur.com/Bl9WK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Bl9WK.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/JayyV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JayyV.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>&lt;com.google.android.material.navigation.NavigationView\n              android:layout_width=&quot;match_parent&quot;\n</code></pre>\n<p>use this match parent</p>\n"},{"tags":[],"owner":{"account_id":2460069,"reputation":291,"user_id":2144423,"display_name":"Sergey Stasishin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676555848,"creation_date":1676555848,"answer_id":75473291,"question_id":54556758,"body_markdown":"    &lt;com.google.android.material.navigation.NavigationView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:maxWidth=&quot;350dp&quot;\r\n\r\nTry to use `android:maxWidth` attribute. It defaults to 280dp. You can overwrite it to achive a desired width of the drawer.","title":"Multiple line text in navigation drawer menu","body":"<pre><code>&lt;com.google.android.material.navigation.NavigationView\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:maxWidth=&quot;350dp&quot;\n</code></pre>\n<p>Try to use <code>android:maxWidth</code> attribute. It defaults to 280dp. You can overwrite it to achive a desired width of the drawer.</p>\n"}],"owner":{"account_id":14271910,"reputation":333,"user_id":10309166,"display_name":"nixfuerdiecharts"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1638,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1676555848,"creation_date":1549465887,"question_id":54556758,"body_markdown":"I am trying to wrap my text in a nav-tab \r\nIt doesn&#39;t display everything if the phone isn&#39;t horizontal\r\n\r\nHere is my xml code fot the nav tab:\r\n\r\n    &lt;group android:checkableBehavior=&quot;single&quot;&gt;\r\n        &lt;item\r\n            android:id=&quot;@+id/nav_scan&quot;\r\n            android:icon=&quot;@drawable/ic_menu_camera&quot;\r\n            android:title=&quot;@string/nav_option_scannen&quot; /&gt;\r\n        &lt;item\r\n            android:id=&quot;@+id/nav_import&quot;\r\n            android:icon=&quot;@drawable/ic_menu_manage&quot;\r\n            android:scrollHorizontally=&quot;false&quot;\r\n            android:ellipsize=&quot;none&quot;\r\n            android:title=&quot;@string/nav_option_import&quot;\r\n            android:visible=&quot;true&quot; /&gt;\r\n        &lt;item\r\n            android:id=&quot;@+id/nav_export&quot;\r\n            android:icon=&quot;@drawable/ic_menu_send&quot;\r\n            android:scrollHorizontally=&quot;false&quot;\r\n            android:ellipsize=&quot;none&quot;\r\n            android:title=&quot;@string/nav_option_export&quot; /&gt;\r\n        &lt;item\r\n            android:id=&quot;@+id/nav_manage&quot;\r\n            android:icon=&quot;@drawable/ic_menu_manage&quot;\r\n            android:title=&quot;Tools&quot;\r\n            android:visible=&quot;false&quot; /&gt;\r\n    &lt;/group&gt;\r\n\r\nand the 2 strings that are not fully displayed\r\n\r\n    &lt;string name=&quot;nav_option_import&quot;&gt;Besucherliste importieren&lt;/string&gt;\r\n    &lt;string name=&quot;nav_option_export&quot;&gt;Besucherliste exportieren&lt;/string&gt;\r\n\r\n\r\n[![Doesn&#39;t display fully when phone is vertical][1]][1]\r\n\r\n\r\n[![Does display fully when it is horizontal][2]][2]\r\n\r\nif I am trying to ad a &quot;\\n&quot; in the string it doesn&#39;t work as well, furthermore I would like the text to wrap automatically\r\n\r\n  [1]: https://i.stack.imgur.com/5BJPQ.png\r\n  [2]: https://i.stack.imgur.com/7vIZ2.png","title":"Multiple line text in navigation drawer menu","body":"<p>I am trying to wrap my text in a nav-tab \nIt doesn't display everything if the phone isn't horizontal</p>\n\n<p>Here is my xml code fot the nav tab:</p>\n\n<pre><code>&lt;group android:checkableBehavior=\"single\"&gt;\n    &lt;item\n        android:id=\"@+id/nav_scan\"\n        android:icon=\"@drawable/ic_menu_camera\"\n        android:title=\"@string/nav_option_scannen\" /&gt;\n    &lt;item\n        android:id=\"@+id/nav_import\"\n        android:icon=\"@drawable/ic_menu_manage\"\n        android:scrollHorizontally=\"false\"\n        android:ellipsize=\"none\"\n        android:title=\"@string/nav_option_import\"\n        android:visible=\"true\" /&gt;\n    &lt;item\n        android:id=\"@+id/nav_export\"\n        android:icon=\"@drawable/ic_menu_send\"\n        android:scrollHorizontally=\"false\"\n        android:ellipsize=\"none\"\n        android:title=\"@string/nav_option_export\" /&gt;\n    &lt;item\n        android:id=\"@+id/nav_manage\"\n        android:icon=\"@drawable/ic_menu_manage\"\n        android:title=\"Tools\"\n        android:visible=\"false\" /&gt;\n&lt;/group&gt;\n</code></pre>\n\n<p>and the 2 strings that are not fully displayed</p>\n\n<pre><code>&lt;string name=\"nav_option_import\"&gt;Besucherliste importieren&lt;/string&gt;\n&lt;string name=\"nav_option_export\"&gt;Besucherliste exportieren&lt;/string&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/5BJPQ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/5BJPQ.png\" alt=\"Doesn&#39;t display fully when phone is vertical\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/7vIZ2.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/7vIZ2.png\" alt=\"Does display fully when it is horizontal\"></a></p>\n\n<p>if I am trying to ad a \"\\n\" in the string it doesn't work as well, furthermore I would like the text to wrap automatically</p>\n"},{"tags":["java","mysql","spring","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":9052120,"reputation":63,"user_id":6741752,"display_name":"Muchomor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676555769,"creation_date":1676555769,"answer_id":75473274,"question_id":75449605,"body_markdown":"It looks like a typo. In your `MemberSpotPhotoPK` class you have a field named `SpotPhotoId`, with capital &quot;S&quot; at the start. Rename it to `spotPhotoId` and everything should be fine!","title":"Spring JPA error issue of &quot;Property of @IdClass not fund in entity&quot;","body":"<p>It looks like a typo. In your <code>MemberSpotPhotoPK</code> class you have a field named <code>SpotPhotoId</code>, with capital &quot;S&quot; at the start. Rename it to <code>spotPhotoId</code> and everything should be fine!</p>\n"}],"owner":{"account_id":22565756,"reputation":185,"user_id":16752809,"display_name":"gs97ahn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676555769,"creation_date":1676386521,"question_id":75449605,"body_markdown":"I want to have a table that maps to two different tables and I have this error issue.\r\n\r\n```\r\nCaused by: org.hibernate.AnnotationException: Property of @IdClass not found in entity com.susanghan.spotrightspring.photo.domain.MemberSpotPhoto: SpotPhotoId\r\n\tat org.hibernate.cfg.AnnotationBinder.fillComponent(AnnotationBinder.java:2793) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\r\n\tat org.hibernate.cfg.AnnotationBinder.bindIdClass(AnnotationBinder.java:2919) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\r\n\tat org.hibernate.cfg.AnnotationBinder.mapAsIdClass(AnnotationBinder.java:1052) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\r\n\tat org.hibernate.cfg.AnnotationBinder.bindClass(AnnotationBinder.java:778) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\r\n\tat org.hibernate.boot.model.source.internal.annotations.AnnotationMetadataSourceProcessorImpl.processEntityHierarchies(AnnotationMetadataSourceProcessorImpl.java:225) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess$1.processEntityHierarchies(MetadataBuildingProcess.java:239) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:282) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\r\n```\r\n\r\n**This is `MemberSpotPhotoPK`**\r\n\r\n```java\r\n@Getter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class MemberSpotPhotoPK implements Serializable {\r\n\r\n    private static final Long serialVersionUID = 1L;\r\n\r\n    private Long memberSpotId;\r\n    private Long SpotPhotoId;\r\n}\r\n```\r\n\r\n**And this is the `MemberSpotPhoto` that uses `MemberSpotPhotoPK` as primary key.** \r\n\r\n```java\r\n@Getter\r\n@Entity\r\n@NoArgsConstructor(access = AccessLevel.PROTECTED)\r\n@IdClass(MemberSpotPhotoPK.class)\r\npublic class MemberSpotPhoto extends BaseTimeEntity {\r\n\r\n    @Id\r\n    @Column(insertable = false, updatable = false)\r\n    private Long memberSpotId;\r\n\r\n    @Id\r\n    @Column(insertable = false, updatable = false)\r\n    private Long spotPhotoId;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;member_spot_id&quot;, referencedColumnName = &quot;member_spot_id&quot;, insertable = false, updatable = false)\r\n    private MemberSpot memberSpot;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;spot_photo_id&quot;, referencedColumnName = &quot;spot_photo_id&quot;, insertable = false, updatable = false)\r\n    private SpotPhoto spotPhoto;\r\n\r\n    private Byte order;\r\n\r\n    @Builder\r\n    public MemberSpotPhoto(Long memberSpotId, Long spotPhotoId, Byte order) {\r\n        this.memberSpotId = memberSpotId;\r\n        this.spotPhotoId = spotPhotoId;\r\n        this.order = order;\r\n    }\r\n}\r\n```\r\n\r\n**And these are two `MemberSpot` and `SpotPhoto` which are mapped to `MemberSpotPhoto`**\r\n\r\n```java\r\n@Getter\r\n@Entity\r\n@NoArgsConstructor(access = AccessLevel.PROTECTED)\r\npublic class MemberSpot extends BaseTimeEntity {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;member_spot_id&quot;)\r\n    private Long id;\r\n    \r\n    ....\r\n}\r\n```\r\n\r\n```java\r\n@Getter\r\n@Entity\r\n@NoArgsConstructor(access = AccessLevel.PROTECTED)\r\npublic class SpotPhoto extends BaseTimeEntity {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;spot_photo_id&quot;)\r\n    private Long id;\r\n\r\n    ....\r\n}\r\n```","title":"Spring JPA error issue of &quot;Property of @IdClass not fund in entity&quot;","body":"<p>I want to have a table that maps to two different tables and I have this error issue.</p>\n<pre><code>Caused by: org.hibernate.AnnotationException: Property of @IdClass not found in entity com.susanghan.spotrightspring.photo.domain.MemberSpotPhoto: SpotPhotoId\n    at org.hibernate.cfg.AnnotationBinder.fillComponent(AnnotationBinder.java:2793) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\n    at org.hibernate.cfg.AnnotationBinder.bindIdClass(AnnotationBinder.java:2919) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\n    at org.hibernate.cfg.AnnotationBinder.mapAsIdClass(AnnotationBinder.java:1052) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\n    at org.hibernate.cfg.AnnotationBinder.bindClass(AnnotationBinder.java:778) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\n    at org.hibernate.boot.model.source.internal.annotations.AnnotationMetadataSourceProcessorImpl.processEntityHierarchies(AnnotationMetadataSourceProcessorImpl.java:225) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess$1.processEntityHierarchies(MetadataBuildingProcess.java:239) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:282) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\n</code></pre>\n<p><strong>This is <code>MemberSpotPhotoPK</code></strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class MemberSpotPhotoPK implements Serializable {\n\n    private static final Long serialVersionUID = 1L;\n\n    private Long memberSpotId;\n    private Long SpotPhotoId;\n}\n</code></pre>\n<p><strong>And this is the <code>MemberSpotPhoto</code> that uses <code>MemberSpotPhotoPK</code> as primary key.</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Entity\n@NoArgsConstructor(access = AccessLevel.PROTECTED)\n@IdClass(MemberSpotPhotoPK.class)\npublic class MemberSpotPhoto extends BaseTimeEntity {\n\n    @Id\n    @Column(insertable = false, updatable = false)\n    private Long memberSpotId;\n\n    @Id\n    @Column(insertable = false, updatable = false)\n    private Long spotPhotoId;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;member_spot_id&quot;, referencedColumnName = &quot;member_spot_id&quot;, insertable = false, updatable = false)\n    private MemberSpot memberSpot;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;spot_photo_id&quot;, referencedColumnName = &quot;spot_photo_id&quot;, insertable = false, updatable = false)\n    private SpotPhoto spotPhoto;\n\n    private Byte order;\n\n    @Builder\n    public MemberSpotPhoto(Long memberSpotId, Long spotPhotoId, Byte order) {\n        this.memberSpotId = memberSpotId;\n        this.spotPhotoId = spotPhotoId;\n        this.order = order;\n    }\n}\n</code></pre>\n<p><strong>And these are two <code>MemberSpot</code> and <code>SpotPhoto</code> which are mapped to <code>MemberSpotPhoto</code></strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Entity\n@NoArgsConstructor(access = AccessLevel.PROTECTED)\npublic class MemberSpot extends BaseTimeEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;member_spot_id&quot;)\n    private Long id;\n    \n    ....\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Entity\n@NoArgsConstructor(access = AccessLevel.PROTECTED)\npublic class SpotPhoto extends BaseTimeEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;spot_photo_id&quot;)\n    private Long id;\n\n    ....\n}\n</code></pre>\n"},{"tags":["java","google-my-business-api","google-my-business","google-business-profile-api"],"comments":[{"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"score":0,"creation_date":1676556216,"post_id":75461443,"comment_id":133163505,"body_markdown":"what is your exact problem, in the link you have shared is written the code, you need to have an active GMB profile and do the authorisations and finally put your locationId and dates","body":"what is your exact problem, in the link you have shared is written the code, you need to have an active GMB profile and do the authorisations and finally put your locationId and dates"},{"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"score":0,"creation_date":1676556703,"post_id":75461443,"comment_id":133163663,"body_markdown":"This is a response sample \n Response ==&gt;  {&quot;timeSeries&quot;:{&quot;datedValues&quot;:[{&quot;date&quot;:{&quot;day&quot;:13,&quot;month&quot;:2,&quot;year&quot;:2023},&quot;value&quot;:&quot;44&quot;}]}}","body":"This is a response sample   Response ==&gt;  {&quot;timeSeries&quot;:{&quot;datedValues&quot;:[{&quot;date&quot;:{&quot;day&quot;:13,&quot;month&quot;:2,&quot;y&zwnj;&#8203;ear&quot;:2023},&quot;value&quot;:&quot;&zwnj;&#8203;44&quot;}]}}"},{"owner":{"account_id":27794117,"reputation":21,"user_id":21220008,"display_name":"Asa&#39;d Mahajna"},"score":0,"creation_date":1676633062,"post_id":75461443,"comment_id":133181032,"body_markdown":"@ShilaMosammami I wasn&#39;t able to create the request because of the quota limit. But still I can find it very hard stay on the same flow I had before since now I don&#39;t have the timezone specified for the data that is restored unlike the GMB V4.9 which I was able to know the timezone of the date I have, I&#39;m afraid this will create some discrepancy between the old data and the new one.","body":"@ShilaMosammami I wasn&#39;t able to create the request because of the quota limit. But still I can find it very hard stay on the same flow I had before since now I don&#39;t have the timezone specified for the data that is restored unlike the GMB V4.9 which I was able to know the timezone of the date I have, I&#39;m afraid this will create some discrepancy between the old data and the new one."},{"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"score":0,"creation_date":1676882117,"post_id":75461443,"comment_id":133219808,"body_markdown":"The google response Json is completely different from the old version, I have changed even the storing table, because as you said there are changes.","body":"The google response Json is completely different from the old version, I have changed even the storing table, because as you said there are changes."},{"owner":{"account_id":27794117,"reputation":21,"user_id":21220008,"display_name":"Asa&#39;d Mahajna"},"score":0,"creation_date":1676903616,"post_id":75461443,"comment_id":133225839,"body_markdown":"@ShilaMosammami Same here... \nHave you noticed a big discrepancies in the unremoved metrics ( &quot;MAPS_VIEWS&quot; -&gt; &quot;BUSINESS_IMPRESSIONS_MOBILE_MAPS&quot; and &quot;BUSINESS_IMPRESSIONS_DESKTOP_MAPS&quot;  ... ) ?\nI can&#39;t find anything related to the discrepancies in google&#39;s documentations.","body":"@ShilaMosammami Same here...  Have you noticed a big discrepancies in the unremoved metrics ( &quot;MAPS_VIEWS&quot; -&gt; &quot;BUSINESS_IMPRESSIONS_MOBILE_MAPS&quot; and &quot;BUSINESS_IMPRESSIONS_DESKTOP_MAPS&quot;  ... ) ? I can&#39;t find anything related to the discrepancies in google&#39;s documentations."},{"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"score":0,"creation_date":1676966228,"post_id":75461443,"comment_id":133238076,"body_markdown":"well, yes I noticed that but I guess that is because I used to set the dates differently","body":"well, yes I noticed that but I guess that is because I used to set the dates differently"},{"owner":{"account_id":27794117,"reputation":21,"user_id":21220008,"display_name":"Asa&#39;d Mahajna"},"score":0,"creation_date":1676970429,"post_id":75461443,"comment_id":133239202,"body_markdown":"@ShilaMosammami It&#39;s a bit weird, since there is no discrepancy with &quot;CALLS_CLICKS&quot;, and in the rest of them there is a discrepancy","body":"@ShilaMosammami It&#39;s a bit weird, since there is no discrepancy with &quot;CALLS_CLICKS&quot;, and in the rest of them there is a discrepancy"},{"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"score":0,"creation_date":1677761150,"post_id":75461443,"comment_id":133403809,"body_markdown":"yes there are discrepancies","body":"yes there are discrepancies"}],"owner":{"account_id":27794117,"reputation":21,"user_id":21220008,"display_name":"Asa&#39;d Mahajna"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676555633,"creation_date":1676472183,"question_id":75461443,"body_markdown":"I was using [Google My business V4.9](https://developers.google.com/my-business/reference/rest/v4/MetricValue), I used to do\r\n\r\n```\r\nfor (LocationMetrics locationMetrics : reportInsights.getLocationMetrics()) {\r\nList &lt;MetricValue&gt; metricValue = locationMetrics.getMetricValues();\r\nmetricValue.get(0).getDimensionalValues().get(0).getValue())\r\n```\r\nand I was getting the value of the specific metric, but now after they have changed it to Business Profile Performance, I get a response of type `GetDailyMetricsTimeSeriesResponse`, I can&#39;t find any documentation that explains what is the structure of this response and how can I get the value of the metrics. \r\n\r\nI&#39;m using [this answer](https://stackoverflow.com/a/74939379/21220008) to create the request\r\n\r\nI can see that the new API have this object [TimeSeries](https://developers.google.com/my-business/reference/performance/rest/v1/locations/getDailyMetricsTimeSeries) as a response.","title":"How to get the metrics value in Google Business Profile Performance","body":"<p>I was using <a href=\"https://developers.google.com/my-business/reference/rest/v4/MetricValue\" rel=\"nofollow noreferrer\">Google My business V4.9</a>, I used to do</p>\n<pre><code>for (LocationMetrics locationMetrics : reportInsights.getLocationMetrics()) {\nList &lt;MetricValue&gt; metricValue = locationMetrics.getMetricValues();\nmetricValue.get(0).getDimensionalValues().get(0).getValue())\n</code></pre>\n<p>and I was getting the value of the specific metric, but now after they have changed it to Business Profile Performance, I get a response of type <code>GetDailyMetricsTimeSeriesResponse</code>, I can't find any documentation that explains what is the structure of this response and how can I get the value of the metrics.</p>\n<p>I'm using <a href=\"https://stackoverflow.com/a/74939379/21220008\">this answer</a> to create the request</p>\n<p>I can see that the new API have this object <a href=\"https://developers.google.com/my-business/reference/performance/rest/v1/locations/getDailyMetricsTimeSeries\" rel=\"nofollow noreferrer\">TimeSeries</a> as a response.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1676473861,"post_id":75461798,"comment_id":133144223,"body_markdown":"You&#39;ll have to construct a collection manually.","body":"You&#39;ll have to construct a collection manually."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1676474098,"post_id":75461798,"comment_id":133144314,"body_markdown":"Do you want only the standard ones or all available ones? You can do `Charset.availableCharsets().values()` to get all the available ones on your system.","body":"Do you want only the standard ones or all available ones? You can do <code>Charset.availableCharsets().values()</code> to get all the available ones on your system."},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":2,"creation_date":1676474220,"post_id":75461798,"comment_id":133144347,"body_markdown":"You could also use reflection, and specially `StandardCharsets.class.getDeclaredFields()` and then filter them based on which ones are public, static, final, and have type Charset. (That has the advantage of automatically picking up any new ones, if they get added — though that&#39;s unlikely.)","body":"You could also use reflection, and specially <code>StandardCharsets.class.getDeclaredFields()</code> and then filter them based on which ones are public, static, final, and have type Charset. (That has the advantage of automatically picking up any new ones, if they get added — though that&#39;s unlikely.)"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1676474512,"post_id":75461798,"comment_id":133144470,"body_markdown":"Can you explain in a bit more detail what you&#39;re trying to do, because for most of the things that I could think of using just 1-3 of these would solve the majority of the issues. Since, for example, there are 3 UTF-16 variants, which produce extremely similar output in your code, there&#39;s little value in using all 3. This feels like a [XY Problem](https://xyproblem.info).","body":"Can you explain in a bit more detail what you&#39;re trying to do, because for most of the things that I could think of using just 1-3 of these would solve the majority of the issues. Since, for example, there are 3 UTF-16 variants, which produce extremely similar output in your code, there&#39;s little value in using all 3. This feels like a <a href=\"https://xyproblem.info\" rel=\"nofollow noreferrer\">XY Problem</a>."},{"owner":{"account_id":1118598,"reputation":556,"user_id":2462719,"accept_rate":83,"display_name":"AcidHawk"},"score":0,"creation_date":1676551159,"post_id":75461798,"comment_id":133161915,"body_markdown":"I understand what you are saying Joachim, and you are correct I don&#39;t need every different Charset.  However, I thouht it would be good to see if there are any differences in the results without having to know each different charset in detail.  So as I mentioned a simply test class (not one that will be run anywhere/anytime other than on my machine and for my interest).  I was just wondering how I would step through each Charset defined in that StandardCharsets class.","body":"I understand what you are saying Joachim, and you are correct I don&#39;t need every different Charset.  However, I thouht it would be good to see if there are any differences in the results without having to know each different charset in detail.  So as I mentioned a simply test class (not one that will be run anywhere/anytime other than on my machine and for my interest).  I was just wondering how I would step through each Charset defined in that StandardCharsets class."}],"answers":[{"tags":[],"owner":{"account_id":1118598,"reputation":556,"user_id":2462719,"accept_rate":83,"display_name":"AcidHawk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676555564,"creation_date":1676553378,"answer_id":75472839,"question_id":75461798,"body_markdown":"So based on your suggestions I came up with this which works (and probably can/should be improved on)\r\n\r\n```Java\r\nString myString = &quot;Some Junk&quot;;\r\n\r\nfor (Field charSet : StandardCharsets.class.getDeclaredFields()) {\r\n            \r\n    String encoding = charSet.getName();\r\n\r\n    //This is because the Charsets in StandardCharsets all use underscores however\r\n    //when passing the string to .getBytes() you need to pass UTF-8 and not UTF_8\r\n    //** All except for ISO_8859_1 ** - Sigh I wish I could do this better.\r\n    if (encoding.startsWith(&quot;U&quot;)) { \r\n        encoding = encoding.replaceAll(&quot;_&quot;, &quot;-&quot;);\r\n    }\r\n    System.out.println(&quot;Using Encoding: &quot; + encoding);\r\n            \r\n    byte[] newByteStr = myString.getBytes(Charset.forName(encoding));               \r\n    for (byte b : newByteStr ) {\r\n        System.out.print(b + &quot; &quot;);\r\n    }\r\n    \r\n    System.out.println(&quot;&quot;);\r\n}\r\n```\r\n\r\nThis will convert the string in myString to a byte array with the relevant encoding of every Charset found in StandardCharSets.  Which is what I wanted in the end.\r\n\r\n**EDIT 1:** So based on MC Emperor&#39;s comment I now have this\r\n\r\n```java\r\nString myString = &quot;Some Junk&quot;;\r\n\r\nfor (Field field: StandardCharsets.class.getDeclaredFields()) {\r\n\r\n    if (field.get(null) instanceof Charset charset) { \r\n        System.out.println(&quot;Using Encoding: &quot; + charset.displayName());\r\n                \r\n        byte[] newByteStr = myString.getBytes(charset);               \r\n        for (byte b : newByteStr ) {\r\n            System.out.print(b + &quot; &quot;);\r\n        }\r\n        System.out.println();\r\n    }\r\n}\r\n```\r\n\r\nThis seems far better as I no longer have to use string replacements.","title":"How to iterate over each Charset in java.nio.charset.StandardCharsets","body":"<p>So based on your suggestions I came up with this which works (and probably can/should be improved on)</p>\n<pre><code>String myString = &quot;Some Junk&quot;;\n\nfor (Field charSet : StandardCharsets.class.getDeclaredFields()) {\n            \n    String encoding = charSet.getName();\n\n    //This is because the Charsets in StandardCharsets all use underscores however\n    //when passing the string to .getBytes() you need to pass UTF-8 and not UTF_8\n    //** All except for ISO_8859_1 ** - Sigh I wish I could do this better.\n    if (encoding.startsWith(&quot;U&quot;)) { \n        encoding = encoding.replaceAll(&quot;_&quot;, &quot;-&quot;);\n    }\n    System.out.println(&quot;Using Encoding: &quot; + encoding);\n            \n    byte[] newByteStr = myString.getBytes(Charset.forName(encoding));               \n    for (byte b : newByteStr ) {\n        System.out.print(b + &quot; &quot;);\n    }\n    \n    System.out.println(&quot;&quot;);\n}\n</code></pre>\n<p>This will convert the string in myString to a byte array with the relevant encoding of every Charset found in StandardCharSets.  Which is what I wanted in the end.</p>\n<p><strong>EDIT 1:</strong> So based on MC Emperor's comment I now have this</p>\n<pre class=\"lang-java prettyprint-override\"><code>String myString = &quot;Some Junk&quot;;\n\nfor (Field field: StandardCharsets.class.getDeclaredFields()) {\n\n    if (field.get(null) instanceof Charset charset) { \n        System.out.println(&quot;Using Encoding: &quot; + charset.displayName());\n                \n        byte[] newByteStr = myString.getBytes(charset);               \n        for (byte b : newByteStr ) {\n            System.out.print(b + &quot; &quot;);\n        }\n        System.out.println();\n    }\n}\n</code></pre>\n<p>This seems far better as I no longer have to use string replacements.</p>\n"}],"owner":{"account_id":1118598,"reputation":556,"user_id":2462719,"accept_rate":83,"display_name":"AcidHawk"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1676555564,"creation_date":1676473757,"question_id":75461798,"body_markdown":"I am writing a Java test class and would like to iterate over all the Charsets specified in the [StandardCharsets][1] class and specify each encoding when performing the .getBytes() on the myString variable.\r\n\r\nI want to try something like this:\r\n\r\n```Java\r\nString myString = &quot;Some Junk&quot;;\r\n\r\nfor (Charset encoding : StandardCharsets) {\r\n\r\n    System.out.println(&quot;Using Encoding: &quot; + encoding.displayName());\r\n    byte[] newBytes = myString.getBytes(encoding);\r\n\r\n    for (byte b : newBytes ) {\r\n        System.out.print(b + &quot; &quot;);\r\n    }\r\n    System.out.println(&quot;&quot;);\r\n\r\n}\r\n```\r\n\r\nObviously that is not correct.  Short of doing each one manually how can I step through all the Charsets defined in the [StandardCharsets][1] class?\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/index.html?java/nio/charset/StandardCharsets.html","title":"How to iterate over each Charset in java.nio.charset.StandardCharsets","body":"<p>I am writing a Java test class and would like to iterate over all the Charsets specified in the <a href=\"https://docs.oracle.com/javase/8/docs/api/index.html?java/nio/charset/StandardCharsets.html\" rel=\"nofollow noreferrer\">StandardCharsets</a> class and specify each encoding when performing the .getBytes() on the myString variable.</p>\n<p>I want to try something like this:</p>\n<pre><code>String myString = &quot;Some Junk&quot;;\n\nfor (Charset encoding : StandardCharsets) {\n\n    System.out.println(&quot;Using Encoding: &quot; + encoding.displayName());\n    byte[] newBytes = myString.getBytes(encoding);\n\n    for (byte b : newBytes ) {\n        System.out.print(b + &quot; &quot;);\n    }\n    System.out.println(&quot;&quot;);\n\n}\n</code></pre>\n<p>Obviously that is not correct.  Short of doing each one manually how can I step through all the Charsets defined in the <a href=\"https://docs.oracle.com/javase/8/docs/api/index.html?java/nio/charset/StandardCharsets.html\" rel=\"nofollow noreferrer\">StandardCharsets</a> class?</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1676292551,"post_id":75434683,"comment_id":133101727,"body_markdown":"I don&#39;t think the background color for a text field uses `-fx-background`, so the &quot;border&quot; you&#39;re seeing is the linear gradient from the default `-fx-background-color` for a text field. Try replacing `-fx-background: whitesmoke;` with `-fx-background-color: whitesmoke;`.","body":"I don&#39;t think the background color for a text field uses <code>-fx-background</code>, so the &quot;border&quot; you&#39;re seeing is the linear gradient from the default <code>-fx-background-color</code> for a text field. Try replacing <code>-fx-background: whitesmoke;</code> with <code>-fx-background-color: whitesmoke;</code>."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1676303504,"post_id":75434683,"comment_id":133105407,"body_markdown":"Is the following what you want? `* {\n\t-fx-primary-color: #007acc;\n\t-fx-secondary-color: #4B6EAF;\n\t-fx-grey-color: #b9b9b9;\n    \n\t-fx-focus-color: -fx-secondary-color;\n}\n\n.text-field {\n\t-fx-accent: -fx-primary-color;\n\t-fx-background-color: -fx-grey-color, white;\n\t-fx-background-insets: 0, 0 0 1 0;\n\t-fx-background-radius: 0;\n}\n.text-field:focused {\n\t-fx-background-color: -fx-primary-color, white;\n}`","body":"Is the following what you want? <code>* { \t-fx-primary-color: #007acc; \t-fx-secondary-color: #4B6EAF; \t-fx-grey-color: #b9b9b9;      \t-fx-focus-color: -fx-secondary-color; }  .text-field { \t-fx-accent: -fx-primary-color; \t-fx-background-color: -fx-grey-color, white; \t-fx-background-insets: 0, 0 0 1 0; \t-fx-background-radius: 0; } .text-field:focused { \t-fx-background-color: -fx-primary-color, white; }</code>"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1676303519,"post_id":75434683,"comment_id":133105414,"body_markdown":"The above code is from `https://dx.dragan.ba/javafx-textfield-custom-css/`","body":"The above code is from <code>https:&#47;&#47;dx.dragan.ba&#47;javafx-textfield-custom-css&#47;</code>"},{"owner":{"account_id":27772975,"reputation":3,"user_id":21202916,"display_name":"Bayram Mahammadov"},"score":0,"creation_date":1676535935,"post_id":75434683,"comment_id":133157373,"body_markdown":"@SedJ601 sorry for not answering your comment, I was away. Your style was exactly what I was looking for! If you can, please make it an answer.","body":"@SedJ601 sorry for not answering your comment, I was away. Your style was exactly what I was looking for! If you can, please make it an answer."}],"answers":[{"tags":[],"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676555286,"creation_date":1676555286,"answer_id":75473188,"question_id":75434683,"body_markdown":"Here is a style I got from https://dx.dragan.ba/javafx-textfield-custom-css/. It gets rid of all the borders except the bottom border.\r\n\r\n**CSS**\r\n```\r\n* {\r\n\t-fx-primary-color: #007acc;\r\n\t-fx-secondary-color: #4B6EAF;\r\n\t-fx-grey-color: #b9b9b9;\r\n    \r\n\t-fx-focus-color: -fx-secondary-color;\r\n}\r\n\r\n.root{\r\n    -fx-background-color: -fx-primary-color, white;\r\n}\r\n\r\n.text-field {\r\n\t-fx-accent: -fx-primary-color;\r\n\t-fx-background-color: -fx-grey-color, white;\r\n\t-fx-background-insets: 0, 0 0 1 0;\r\n\t-fx-background-radius: 0;\r\n}\r\n.text-field:focused {\r\n\t-fx-background-color: -fx-primary-color, white;\r\n}\r\n```\r\n\r\n**Output**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4GKKc.png","title":"Why can&#39;t I hide the top border of a textfield?","body":"<p>Here is a style I got from <a href=\"https://dx.dragan.ba/javafx-textfield-custom-css/\" rel=\"nofollow noreferrer\">https://dx.dragan.ba/javafx-textfield-custom-css/</a>. It gets rid of all the borders except the bottom border.</p>\n<p><strong>CSS</strong></p>\n<pre><code>* {\n    -fx-primary-color: #007acc;\n    -fx-secondary-color: #4B6EAF;\n    -fx-grey-color: #b9b9b9;\n    \n    -fx-focus-color: -fx-secondary-color;\n}\n\n.root{\n    -fx-background-color: -fx-primary-color, white;\n}\n\n.text-field {\n    -fx-accent: -fx-primary-color;\n    -fx-background-color: -fx-grey-color, white;\n    -fx-background-insets: 0, 0 0 1 0;\n    -fx-background-radius: 0;\n}\n.text-field:focused {\n    -fx-background-color: -fx-primary-color, white;\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<p><a href=\"https://i.stack.imgur.com/4GKKc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4GKKc.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":27772975,"reputation":3,"user_id":21202916,"display_name":"Bayram Mahammadov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75473188,"answer_count":1,"score":0,"last_activity_date":1676555286,"creation_date":1676284216,"question_id":75434683,"body_markdown":"So recently i have been working on a project and I need textfields to get the username and the password of the user. \r\n\r\n\r\nI have tried using *-fx-background-insets: 0 0 0 0, 0, 0, 0;\r\n* to hide the border but the border on top still persists.\r\n\r\nHere is the code:\r\n`   -fx-background: whitesmoke;\r\n   -fx-background-insets: 0 0 0 0, 0, 0, 0;\r\n   -fx-background-radius: 0 ;`\r\n\r\nAnd here is the result. As you can see the border on top still persists:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LN5U8.png","title":"Why can&#39;t I hide the top border of a textfield?","body":"<p>So recently i have been working on a project and I need textfields to get the username and the password of the user.</p>\n<p>I have tried using *-fx-background-insets: 0 0 0 0, 0, 0, 0;</p>\n<ul>\n<li>to hide the border but the border on top still persists.</li>\n</ul>\n<p>Here is the code:\n<code>   -fx-background: whitesmoke; -fx-background-insets: 0 0 0 0, 0, 0, 0; -fx-background-radius: 0 ;</code></p>\n<p>And here is the result. As you can see the border on top still persists:</p>\n<p><a href=\"https://i.stack.imgur.com/LN5U8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LN5U8.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","sockets","stomp","sockjs"],"answers":[{"tags":[],"owner":{"account_id":1085200,"reputation":1184,"user_id":1081060,"display_name":"Jebil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1435904034,"creation_date":1435557846,"answer_id":31108786,"question_id":26299449,"body_markdown":"You can have this in your scheduler run() method \r\n\r\n    this.simpMessagingTemplate.convertAndSend(&quot;/queue/&quot; + userGroup.geName(),\r\n\t\t\t\tmessageMap.get(userGroup.geName()));\r\n\r\nand in the client side you can subscribe to specific url &quot;queue/{groupName}&quot;\r\n\r\n    stompClient.subscribe(&quot;/queue/${groupName}&quot;, function(servermessage) {\r\n        var stompResponse =  JSON.parse((servermessage.body));\r\n        console.log(&#39;server msg: &#39;+stompResponse);\r\n    });\r\n\r\nNOTE :(in client example variable &#39;groupName&#39; is sent to view from controller and accessed using EL in JSP)","title":"Websocket Broadcasting to different users with Spring web socket with SockJS","body":"<p>You can have this in your scheduler run() method </p>\n\n<pre><code>this.simpMessagingTemplate.convertAndSend(\"/queue/\" + userGroup.geName(),\n            messageMap.get(userGroup.geName()));\n</code></pre>\n\n<p>and in the client side you can subscribe to specific url \"queue/{groupName}\"</p>\n\n<pre><code>stompClient.subscribe(\"/queue/${groupName}\", function(servermessage) {\n    var stompResponse =  JSON.parse((servermessage.body));\n    console.log('server msg: '+stompResponse);\n});\n</code></pre>\n\n<p>NOTE :(in client example variable 'groupName' is sent to view from controller and accessed using EL in JSP)</p>\n"}],"owner":{"account_id":484421,"reputation":5836,"user_id":900081,"accept_rate":58,"display_name":"D&#233;bora"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2000,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676555259,"creation_date":1412944038,"question_id":26299449,"body_markdown":"Currently in my application, a message is broadcast each 10 second with spring  websockets. This is how the messages are broadcast to users in my spring application.  \r\n\r\n        @Configuration\r\n    @EnableWebSocketMessageBroker\r\n    @EnableScheduling\r\n    @Component\r\n    public class WebSocketConfig implements WebSocketMessageBrokerConfigurer {\r\n    \t\r\n    \t  @Autowired  \r\n    \t  private SimpMessagingTemplate template;\r\n    \r\n    \t  private TaskScheduler scheduler = new ConcurrentTaskScheduler();\r\n    \r\n    \t  public WebSocketConfig() {\r\n    \t\t\tSystem.out.printf(&quot; ---INIT----------&quot;);\r\n    \t\t\r\n    \t}\r\n    \t  \r\n        @Override\r\n        public void registerStompEndpoints(StompEndpointRegistry registry) {\r\n            registry.addEndpoint(&quot;/simplemessages&quot;).withSockJS();\r\n        }\r\n    \r\n        // @Override\r\n        public void configureMessageBroker(MessageBrokerRegistry config) {\r\n    \r\n           config.enableSimpleBroker(&quot;/topic/&quot;, &quot;/queue/&quot;);\r\n            \r\n            config.setApplicationDestinationPrefixes(&quot;/app&quot;);\r\n        }\r\n        \r\n        @PostConstruct\r\n        private void broadcastTimePeriodically() {\r\n        \t\r\n         \t \r\n          scheduler.scheduleAtFixedRate(new Runnable() {\r\n             public void run() {\r\n            \t try{\r\n            \t template.convertAndSend(&quot;/topic/simplemessagesresponse&quot;, &quot;{shares:true,price:100.00}&quot;);\r\n            \t }catch(MessagingException e){\r\n            \t\t System.err.println(&quot;!!!!!! websocket timer error :&gt;&quot;+e.toString());\r\n            \t }\r\n            \t \r\n            }\r\n          }, 10000);\r\n        }\r\n        \r\n       @PreDestroy\r\n       private  void destroyServices(){\r\n    \t   \r\n       }\r\n        \r\n       // @Override\r\n        public void configureClientInboundChannel(ChannelRegistration registration) {\r\n    \r\n        }\r\n      // @Override\r\n       public void configureClientOutboundChannel(ChannelRegistration registration) {\r\n          registration.taskExecutor().corePoolSize(4).maxPoolSize(10);\r\n      }\r\n    \r\n    \t//@Override\r\n    \tpublic boolean configureMessageConverters(List&lt;MessageConverter&gt; arg0) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn true;\r\n    \t}\r\n    \t@Override\r\n    \tpublic void configureWebSocketTransport(WebSocketTransportRegistration arg0) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\n This is how the browser receives,  \r\n\r\n    var socket = new SockJS(desz);\r\n    stompClient = Stomp.over(socket);\r\n        \r\n    stompClient.connect(&#39;user&#39;, &#39;guest&#39;, function(frame) {\r\n        \r\n       stompClient.subscribe(&quot;/topic/simplemessagesresponse&quot;, function(servermessage) {\r\n        \tvar stompResponse =  JSON.parse((servermessage.body));\r\n         \tconsole.log(&#39;server msg: &#39;+stompResponse);\r\n        });\r\n    });\r\n\r\n I want to broadcast same message to some users, while another set of users have another message periodically. How I should modify my above code to achieve this ?","title":"Websocket Broadcasting to different users with Spring web socket with SockJS","body":"<p>Currently in my application, a message is broadcast each 10 second with spring  websockets. This is how the messages are broadcast to users in my spring application.  </p>\n\n<pre><code>    @Configuration\n@EnableWebSocketMessageBroker\n@EnableScheduling\n@Component\npublic class WebSocketConfig implements WebSocketMessageBrokerConfigurer {\n\n      @Autowired  \n      private SimpMessagingTemplate template;\n\n      private TaskScheduler scheduler = new ConcurrentTaskScheduler();\n\n      public WebSocketConfig() {\n            System.out.printf(\" ---INIT----------\");\n\n    }\n\n    @Override\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\n        registry.addEndpoint(\"/simplemessages\").withSockJS();\n    }\n\n    // @Override\n    public void configureMessageBroker(MessageBrokerRegistry config) {\n\n       config.enableSimpleBroker(\"/topic/\", \"/queue/\");\n\n        config.setApplicationDestinationPrefixes(\"/app\");\n    }\n\n    @PostConstruct\n    private void broadcastTimePeriodically() {\n\n\n      scheduler.scheduleAtFixedRate(new Runnable() {\n         public void run() {\n             try{\n             template.convertAndSend(\"/topic/simplemessagesresponse\", \"{shares:true,price:100.00}\");\n             }catch(MessagingException e){\n                 System.err.println(\"!!!!!! websocket timer error :&gt;\"+e.toString());\n             }\n\n        }\n      }, 10000);\n    }\n\n   @PreDestroy\n   private  void destroyServices(){\n\n   }\n\n   // @Override\n    public void configureClientInboundChannel(ChannelRegistration registration) {\n\n    }\n  // @Override\n   public void configureClientOutboundChannel(ChannelRegistration registration) {\n      registration.taskExecutor().corePoolSize(4).maxPoolSize(10);\n  }\n\n    //@Override\n    public boolean configureMessageConverters(List&lt;MessageConverter&gt; arg0) {\n        // TODO Auto-generated method stub\n        return true;\n    }\n    @Override\n    public void configureWebSocketTransport(WebSocketTransportRegistration arg0) {\n        // TODO Auto-generated method stub\n\n    }\n}\n</code></pre>\n\n<p>This is how the browser receives,  </p>\n\n<pre><code>var socket = new SockJS(desz);\nstompClient = Stomp.over(socket);\n\nstompClient.connect('user', 'guest', function(frame) {\n\n   stompClient.subscribe(\"/topic/simplemessagesresponse\", function(servermessage) {\n        var stompResponse =  JSON.parse((servermessage.body));\n        console.log('server msg: '+stompResponse);\n    });\n});\n</code></pre>\n\n<p>I want to broadcast same message to some users, while another set of users have another message periodically. How I should modify my above code to achieve this ?</p>\n"},{"tags":["java","logging","log4j2"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1676555560,"post_id":75473173,"comment_id":133163284,"body_markdown":"Why would a custom jar expect logging to be in a different format? Is it parsing the logfiles?","body":"Why would a custom jar expect logging to be in a different format? Is it parsing the logfiles?"},{"owner":{"account_id":14035926,"reputation":208,"user_id":10138625,"display_name":"chirag"},"score":0,"creation_date":1676557399,"post_id":75473173,"comment_id":133163911,"body_markdown":"custom jar has json log pattern which is used for some metrics collection for dashboards that expects json based pattern","body":"custom jar has json log pattern which is used for some metrics collection for dashboards that expects json based pattern"},{"owner":{"account_id":14035926,"reputation":208,"user_id":10138625,"display_name":"chirag"},"score":0,"creation_date":1676557594,"post_id":75473173,"comment_id":133163971,"body_markdown":"the above xml seems to be working with multiple Rolling file appenders. However it is not recommended \nhttps://stackoverflow.com/questions/36212857/two-patterns-in-same-log-file-is-not-working-in-log4j2","body":"the above xml seems to be working with multiple Rolling file appenders. However it is not recommended  <a href=\"https://stackoverflow.com/questions/36212857/two-patterns-in-same-log-file-is-not-working-in-log4j2\" title=\"two patterns in same log file is not working in log4j2\">stackoverflow.com/questions/36212857/&hellip;</a>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1676557844,"post_id":75473173,"comment_id":133164047,"body_markdown":"I don&#39;t see how a custom jar can hjave a different log pattern. The log pattern is what you define in your application, it isn&#39;t enforced by a jar.","body":"I don&#39;t see how a custom jar can hjave a different log pattern. The log pattern is what you define in your application, it isn&#39;t enforced by a jar."},{"owner":{"account_id":14035926,"reputation":208,"user_id":10138625,"display_name":"chirag"},"score":0,"creation_date":1676558673,"post_id":75473173,"comment_id":133164389,"body_markdown":"Pattern is enforced by the application, which is the base pattern. But with that, the logs published by the custom jar&#39;s code is broken. So I am trying to enforce log pattern for the custom package to follow custom log pattern and remaining app to follow base pattern","body":"Pattern is enforced by the application, which is the base pattern. But with that, the logs published by the custom jar&#39;s code is broken. So I am trying to enforce log pattern for the custom package to follow custom log pattern and remaining app to follow base pattern"},{"owner":{"account_id":14035926,"reputation":208,"user_id":10138625,"display_name":"chirag"},"score":0,"creation_date":1676558786,"post_id":75473173,"comment_id":133164422,"body_markdown":"Just like we can have different log patterns for different log levels, I am trying to figure out if it is possible to have different log patterns for different Logger packages.","body":"Just like we can have different log patterns for different log levels, I am trying to figure out if it is possible to have different log patterns for different Logger packages."}],"owner":{"account_id":14035926,"reputation":208,"user_id":10138625,"display_name":"chirag"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676555205,"creation_date":1676555205,"question_id":75473173,"body_markdown":"I have an application where there are some custom jars added. One of the jars expects logging to be in a different pattern from the entire application&#39;s common logging pattern.\r\n\r\n(We are using log4j2.xml way)\r\n\r\nNow it is pretty straightforward to do it in Console logs by adding multiple appenders, with different patterns and associating  them with the corresponding logger name (base package of the custom jar)\r\n\r\nBut is there a way to do it in the RollingFile Appenders in the same file ?\r\n\r\nConsider the example below \r\n- Base application having base log pattern has Logger name = `com.legacysystem.base`\r\n- Custom jar within the application needing custom log pattern has logger name = `com.legacysystem.custom`\r\n- Log pattern for base and custom jar is defined in properties with variable names `log-pattern` and `log-pattern`\r\n- please ignore the fact that proper pattern value is not added, as i want to keep it hidden (assume log4j2-pattern.xml is present with proper log format)\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration status=&quot;WARN&quot; xmlns:xi=&quot;http://www.w3.org/2001/XInclude&quot;&gt;\r\n    &lt;xi:include href=&quot;log4j2-pattern.xml&quot;&gt;\r\n        &lt;xi:fallback &gt;\r\n            &lt;Properties&gt;\r\n                &lt;Property name=&quot;log-pattern&quot;&gt;base_log_pattern&lt;/Property&gt;\r\n                &lt;Property name=&quot;custom-log-pattern&quot;&gt;custom_log_pattern&lt;/Property&gt;\r\n\r\n            &lt;/Properties&gt;\r\n        &lt;/xi:fallback&gt;\r\n    &lt;/xi:include&gt;\r\n    &lt;Appenders&gt;\r\n        &lt;Console name=&quot;ConsoleBaseAppender&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;${log-pattern}&quot;/&gt;\r\n        &lt;/Console&gt;\r\n\r\n        &lt;Console name=&quot;ConsoleCustomAppender&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;${custom-log-pattern}&quot;/&gt;\r\n        &lt;/Console&gt;\r\n\r\n        &lt;RollingFile name=&quot;FILE&quot; fileName=&quot;commonFileName.log&quot; filePattern=&quot;commonFileName-%d{yyyy-MM-dd-HH}-%i.log.gz&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;${log-pattern}&quot;/&gt;\r\n            &lt;Policies&gt;\r\n                &lt;TimeBasedTriggeringPolicy/&gt;\r\n                &lt;SizeBasedTriggeringPolicy size=&quot;25MB&quot;/&gt;\r\n            &lt;/Policies&gt;\r\n            &lt;DefaultRolloverStrategy max=&quot;20&quot;/&gt;\r\n        &lt;/RollingFile&gt;\r\n\r\n       &lt;RollingFile name=&quot;CUSTOM_FILE&quot; fileName=&quot;commonFileName.log&quot; filePattern=&quot;commonFileName-%d{yyyy-MM-dd-HH}-%i.log.gz&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;${custom-log-pattern}&quot;/&gt;\r\n            &lt;Policies&gt;\r\n                &lt;TimeBasedTriggeringPolicy/&gt;\r\n                &lt;SizeBasedTriggeringPolicy size=&quot;25MB&quot;/&gt;\r\n            &lt;/Policies&gt;\r\n            &lt;DefaultRolloverStrategy max=&quot;20&quot;/&gt;\r\n        &lt;/RollingFile&gt;\r\n\r\n    &lt;/Appenders&gt;\r\n    &lt;Loggers&gt;\r\n        &lt;Logger name = &quot;com.legacysystem.custom&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;CUSTOM_FILE&quot; /&gt;\r\n            &lt;AppenderRef ref=&quot;ConsoleCustomAppender&quot; /&gt;\r\n        &lt;/Logger&gt;\r\n\r\n\r\n        &lt;Logger name=&quot;com.legacysystem.base&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;FILE&quot; /&gt;\r\n            &lt;AppenderRef ref=&quot;ConsoleBaseAppender&quot; /&gt;\r\n        &lt;/Logger&gt;\r\n\r\n        &lt;Root level=&quot;INFO&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;FILE&quot; /&gt;\r\n            &lt;AppenderRef ref=&quot;ConsoleBaseAppender&quot; /&gt;\r\n        &lt;/Root&gt;\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\n    \r\n\r\nIn the above example, I have succeeded in getting different log patterns in the console, but log files isn&#39;t working.\r\nAlso, is there a better way to do it without defining two rolling file appenders pointing to same file name ?\r\n\r\n\r\n","title":"Java log4j2.xml : Different log patterns for different base packages in same rolling log file","body":"<p>I have an application where there are some custom jars added. One of the jars expects logging to be in a different pattern from the entire application's common logging pattern.</p>\n<p>(We are using log4j2.xml way)</p>\n<p>Now it is pretty straightforward to do it in Console logs by adding multiple appenders, with different patterns and associating  them with the corresponding logger name (base package of the custom jar)</p>\n<p>But is there a way to do it in the RollingFile Appenders in the same file ?</p>\n<p>Consider the example below</p>\n<ul>\n<li>Base application having base log pattern has Logger name = <code>com.legacysystem.base</code></li>\n<li>Custom jar within the application needing custom log pattern has logger name = <code>com.legacysystem.custom</code></li>\n<li>Log pattern for base and custom jar is defined in properties with variable names <code>log-pattern</code> and <code>log-pattern</code></li>\n<li>please ignore the fact that proper pattern value is not added, as i want to keep it hidden (assume log4j2-pattern.xml is present with proper log format)</li>\n</ul>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;WARN&quot; xmlns:xi=&quot;http://www.w3.org/2001/XInclude&quot;&gt;\n    &lt;xi:include href=&quot;log4j2-pattern.xml&quot;&gt;\n        &lt;xi:fallback &gt;\n            &lt;Properties&gt;\n                &lt;Property name=&quot;log-pattern&quot;&gt;base_log_pattern&lt;/Property&gt;\n                &lt;Property name=&quot;custom-log-pattern&quot;&gt;custom_log_pattern&lt;/Property&gt;\n\n            &lt;/Properties&gt;\n        &lt;/xi:fallback&gt;\n    &lt;/xi:include&gt;\n    &lt;Appenders&gt;\n        &lt;Console name=&quot;ConsoleBaseAppender&quot;&gt;\n            &lt;PatternLayout pattern=&quot;${log-pattern}&quot;/&gt;\n        &lt;/Console&gt;\n\n        &lt;Console name=&quot;ConsoleCustomAppender&quot;&gt;\n            &lt;PatternLayout pattern=&quot;${custom-log-pattern}&quot;/&gt;\n        &lt;/Console&gt;\n\n        &lt;RollingFile name=&quot;FILE&quot; fileName=&quot;commonFileName.log&quot; filePattern=&quot;commonFileName-%d{yyyy-MM-dd-HH}-%i.log.gz&quot;&gt;\n            &lt;PatternLayout pattern=&quot;${log-pattern}&quot;/&gt;\n            &lt;Policies&gt;\n                &lt;TimeBasedTriggeringPolicy/&gt;\n                &lt;SizeBasedTriggeringPolicy size=&quot;25MB&quot;/&gt;\n            &lt;/Policies&gt;\n            &lt;DefaultRolloverStrategy max=&quot;20&quot;/&gt;\n        &lt;/RollingFile&gt;\n\n       &lt;RollingFile name=&quot;CUSTOM_FILE&quot; fileName=&quot;commonFileName.log&quot; filePattern=&quot;commonFileName-%d{yyyy-MM-dd-HH}-%i.log.gz&quot;&gt;\n            &lt;PatternLayout pattern=&quot;${custom-log-pattern}&quot;/&gt;\n            &lt;Policies&gt;\n                &lt;TimeBasedTriggeringPolicy/&gt;\n                &lt;SizeBasedTriggeringPolicy size=&quot;25MB&quot;/&gt;\n            &lt;/Policies&gt;\n            &lt;DefaultRolloverStrategy max=&quot;20&quot;/&gt;\n        &lt;/RollingFile&gt;\n\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Logger name = &quot;com.legacysystem.custom&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\n            &lt;AppenderRef ref=&quot;CUSTOM_FILE&quot; /&gt;\n            &lt;AppenderRef ref=&quot;ConsoleCustomAppender&quot; /&gt;\n        &lt;/Logger&gt;\n\n\n        &lt;Logger name=&quot;com.legacysystem.base&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\n            &lt;AppenderRef ref=&quot;FILE&quot; /&gt;\n            &lt;AppenderRef ref=&quot;ConsoleBaseAppender&quot; /&gt;\n        &lt;/Logger&gt;\n\n        &lt;Root level=&quot;INFO&quot;&gt;\n            &lt;AppenderRef ref=&quot;FILE&quot; /&gt;\n            &lt;AppenderRef ref=&quot;ConsoleBaseAppender&quot; /&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>In the above example, I have succeeded in getting different log patterns in the console, but log files isn't working.\nAlso, is there a better way to do it without defining two rolling file appenders pointing to same file name ?</p>\n"},{"tags":["java","eclipse","tomcat","soap","cxf"],"answers":[{"tags":[],"owner":{"account_id":3803644,"reputation":1290,"user_id":3156607,"display_name":"Dennis Kieselhorst"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676555134,"creation_date":1676555134,"answer_id":75473155,"question_id":75309674,"body_markdown":"You can use Axis and CXF in parallel but need to map it to unique path in that case. Using just CXF and omitting Axis is enough to provide the SOAP service. To me it looks like the sample has the wrong web.xml (Axis shouldn&#39;t be in there).\r\n\r\nLook here https://cxf.apache.org/docs/sample-projects.html for working CXF samples that run out of the box.","title":"servlets named [cxf] and [AxisServlet] are both mapped to the url-pattern [/services/*]","body":"<p>You can use Axis and CXF in parallel but need to map it to unique path in that case. Using just CXF and omitting Axis is enough to provide the SOAP service. To me it looks like the sample has the wrong web.xml (Axis shouldn't be in there).</p>\n<p>Look here <a href=\"https://cxf.apache.org/docs/sample-projects.html\" rel=\"nofollow noreferrer\">https://cxf.apache.org/docs/sample-projects.html</a> for working CXF samples that run out of the box.</p>\n"}],"owner":{"account_id":1626178,"reputation":17293,"user_id":1501700,"accept_rate":39,"display_name":"vico"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676555134,"creation_date":1675251741,"question_id":75309674,"body_markdown":"I have created very basic SOAP service project with Java in Eclipse according to [tutorial][1]. I used Tomcat 10 and Apache CXF 2.x .\r\n\r\nGot error while launching service:\r\n\r\n    IWAB0489E Error when deploying Web service to Axis runtime\r\n      axis-admin failed with  {http://xml.apache.org/axis/}HTTP (404)404 \r\n\r\nConsole output:\r\n\r\n    Feb 01, 2023 1:38:49 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Server version name:   Apache Tomcat/10.0.27\r\n    Feb 01, 2023 1:38:49 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Server built:          Oct 3 2022 14:18:31 UTC\r\n    Feb 01, 2023 1:38:49 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Server version number: 10.0.27.0\r\n    Feb 01, 2023 1:38:49 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: OS Name:               Windows 10\r\n    Feb 01, 2023 1:38:49 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: OS Version:            10.0\r\n    Feb 01, 2023 1:38:49 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Architecture:          amd64\r\n    Feb 01, 2023 1:38:49 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Java Home:             C:\\java\\jdk-17.0.1\r\n    Feb 01, 2023 1:38:49 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: JVM Version:           17.0.1+12-LTS-39\r\n    Feb 01, 2023 1:38:49 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: JVM Vendor:            Oracle Corporation\r\n    Feb 01, 2023 1:38:49 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: CATALINA_BASE:         C:\\java_test\\eclipse_workspace\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\r\n    Feb 01, 2023 1:38:49 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: CATALINA_HOME:         C:\\java_test\\AppServer\\apache-tomcat-10.0.27\r\n    Feb 01, 2023 1:38:49 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Command line argument: -Dcatalina.base=C:\\java_test\\eclipse_workspace\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\r\n    Feb 01, 2023 1:38:49 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Command line argument: -Dcatalina.home=C:\\java_test\\AppServer\\apache-tomcat-10.0.27\r\n    Feb 01, 2023 1:38:49 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Command line argument: -Dwtp.deploy=C:\\java_test\\eclipse_workspace\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\wtpwebapps\r\n    Feb 01, 2023 1:38:49 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Command line argument: --add-opens=java.base/java.lang=ALL-UNNAMED\r\n    Feb 01, 2023 1:38:49 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Command line argument: --add-opens=java.base/java.io=ALL-UNNAMED\r\n    Feb 01, 2023 1:38:49 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Command line argument: --add-opens=java.base/java.util=ALL-UNNAMED\r\n    Feb 01, 2023 1:38:49 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Command line argument: --add-opens=java.base/java.util.concurrent=ALL-UNNAMED\r\n    Feb 01, 2023 1:38:49 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Command line argument: --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED\r\n    Feb 01, 2023 1:38:49 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Command line argument: -Dfile.encoding=UTF-8\r\n    Feb 01, 2023 1:38:49 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Command line argument: -XX:+ShowCodeDetailsInExceptionMessages\r\n    Feb 01, 2023 1:38:49 PM org.apache.catalina.core.AprLifecycleListener lifecycleEvent\r\n    INFO: The Apache Tomcat Native library which allows using OpenSSL was not found on the java.library.path: [C:\\java\\jdk-17.0.1\\bin;C:\\Windows\\Sun\\Java\\bin;C:\\Windows\\system32;C:\\Windows;C:/java/jdk-17.0.1/bin/server;C:/java/jdk-17.0.1/bin;C:\\Program Files (x86)\\Common Files\\Intel\\Shared Libraries\\redist\\intel64_win\\compiler;C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath;C:\\Program Files (x86)\\VMware\\VMware Workstation\\bin\\;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Windows\\System32\\OpenSSH\\;C:\\Program Files\\Microsoft SQL Server\\130\\Tools\\Binn\\;C:\\Program Files\\Git\\cmd;C:\\Program Files\\dotnet\\;C:\\Program Files\\Microsoft SQL Server\\Client SDK\\ODBC\\170\\Tools\\Binn\\;C:\\Program Files (x86)\\nodejs\\;C:\\Program Files (x86)\\Bitvise SSH Client;C:\\Program Files (x86)\\Calibre2\\;C:\\Program Files\\PuTTY\\;C:\\java\\jdk-17.0.1\\bin;C:\\Program Files (x86)\\PWPW\\;C:\\Program Files\\PWPW\\;C:\\Program Files (x86)\\Notepad++\\;C:\\Program Files\\CMake\\bin;C:\\Program Files (x86)\\GnuWin32\\bin;C:\\projects\\apache-maven-3.8.5\\bin;C:\\Program Files\\Docker\\Docker\\resources\\bin;C:\\ProgramData\\DockerDesktop\\version-bin;C:\\Program Files\\OpenSSL-Win64\\bin;;C:\\Program Files\\IDM Computer Solutions\\UltraEdit;C:\\Program Files (x86)\\Meld\\;C:\\Program Files\\Microsoft SQL Server\\150\\Tools\\Binn\\;C:\\Users\\g\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\g\\.dotnet\\tools;C:\\Users\\g\\AppData\\Roaming\\npm;C:\\Users\\g\\AppData\\Local\\gitkraken\\bin;C:\\Program Files (x86)\\Sophos\\Sophos SSL VPN Client\\bin;C:\\Users\\g\\AppData\\Local\\GitHubDesktop\\bin;C:\\Users\\g\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\g\\.dotnet\\tools;C:\\eclipse\\jee-2022-12\\eclipse;;.]\r\n    Feb 01, 2023 1:38:49 PM org.apache.coyote.AbstractProtocol init\r\n    INFO: Initializing ProtocolHandler [&quot;http-nio-8080&quot;]\r\n    Feb 01, 2023 1:38:49 PM org.apache.catalina.startup.Catalina load\r\n    INFO: Server initialization in [373] milliseconds\r\n    Feb 01, 2023 1:38:49 PM org.apache.catalina.core.StandardService startInternal\r\n    INFO: Starting service [Catalina]\r\n    Feb 01, 2023 1:38:49 PM org.apache.catalina.core.StandardEngine startInternal\r\n    INFO: Starting Servlet engine: [Apache Tomcat/10.0.27]\r\n    Feb 01, 2023 1:38:49 PM org.apache.tomcat.util.digester.Digester endElement\r\n    SEVERE: End event threw exception\r\n    java.lang.reflect.InvocationTargetException\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.apache.tomcat.util.IntrospectionUtils.callMethodN(IntrospectionUtils.java:495)\r\n    \tat org.apache.tomcat.util.descriptor.web.CallMethodMultiRule.end(WebRuleSet.java:1087)\r\n    \tat org.apache.tomcat.util.digester.Digester.endElement(Digester.java:1033)\r\n    \tat java.xml/com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.endElement(AbstractSAXParser.java:618)\r\n    \tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanEndElement(XMLDocumentFragmentScannerImpl.java:1728)\r\n    \tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2899)\r\n    \tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:605)\r\n    \tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:542)\r\n    \tat java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:889)\r\n    \tat java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:825)\r\n    \tat java.xml/com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:141)\r\n    \tat java.xml/com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1224)\r\n    \tat java.xml/com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:637)\r\n    \tat org.apache.tomcat.util.digester.Digester.parse(Digester.java:1522)\r\n    \tat org.apache.tomcat.util.descriptor.web.WebXmlParser.parseWebXml(WebXmlParser.java:119)\r\n    \tat org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1277)\r\n    \tat org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:986)\r\n    \tat org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:303)\r\n    \tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5085)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n    \tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\r\n    \tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:886)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n    \tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\r\n    \tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:265)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:432)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.startup.Catalina.start(Catalina.java:795)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345)\r\n    \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)\r\n    Caused by: java.lang.IllegalArgumentException: The servlets named [cxf] and [AxisServlet] are both mapped to the url-pattern [/services/*] which is not permitted\r\n    \tat org.apache.tomcat.util.descriptor.web.WebXml.addServletMappingDecoded(WebXml.java:357)\r\n    \tat org.apache.tomcat.util.descriptor.web.WebXml.addServletMapping(WebXml.java:350)\r\n    \t... 52 more\r\n    \r\n    Feb 01, 2023 1:38:49 PM org.apache.tomcat.util.descriptor.web.WebXmlParser parseWebXml\r\n    SEVERE: Parse error in application web.xml file at [file:/C:/java_test/eclipse_workspace/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/wtpwebapps/SOAPExample/WEB-INF/web.xml]\r\n    org.xml.sax.SAXParseException; systemId: file:/C:/java_test/eclipse_workspace/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/wtpwebapps/SOAPExample/WEB-INF/web.xml; lineNumber: 49; columnNumber: 21; Error at line [49] column [21]: [The servlets named [cxf] and [AxisServlet] are both mapped to the url-pattern [/services/*] which is not permitted]\r\n    \tat org.apache.tomcat.util.digester.Digester.createSAXException(Digester.java:1953)\r\n    \tat org.apache.tomcat.util.digester.Digester.createSAXException(Digester.java:1985)\r\n    \tat org.apache.tomcat.util.digester.Digester.endElement(Digester.java:1036)\r\n    \tat java.xml/com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.endElement(AbstractSAXParser.java:618)\r\n    \tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanEndElement(XMLDocumentFragmentScannerImpl.java:1728)\r\n    \tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2899)\r\n    \tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:605)\r\n    \tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:542)\r\n    \tat java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:889)\r\n    \tat java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:825)\r\n    \tat java.xml/com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:141)\r\n    \tat java.xml/com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1224)\r\n    \tat java.xml/com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:637)\r\n    \tat org.apache.tomcat.util.digester.Digester.parse(Digester.java:1522)\r\n    \tat org.apache.tomcat.util.descriptor.web.WebXmlParser.parseWebXml(WebXmlParser.java:119)\r\n    \tat org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1277)\r\n    \tat org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:986)\r\n    \tat org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:303)\r\n    \tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5085)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n    \tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\r\n    \tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:886)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n    \tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\r\n    \tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:265)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:432)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.startup.Catalina.start(Catalina.java:795)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345)\r\n    \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)\r\n    Caused by: java.lang.IllegalArgumentException: The servlets named [cxf] and [AxisServlet] are both mapped to the url-pattern [/services/*] which is not permitted\r\n    \tat org.apache.tomcat.util.descriptor.web.WebXml.addServletMappingDecoded(WebXml.java:357)\r\n    \tat org.apache.tomcat.util.descriptor.web.WebXml.addServletMapping(WebXml.java:350)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.apache.tomcat.util.IntrospectionUtils.callMethodN(IntrospectionUtils.java:495)\r\n    \tat org.apache.tomcat.util.descriptor.web.CallMethodMultiRule.end(WebRuleSet.java:1087)\r\n    \tat org.apache.tomcat.util.digester.Digester.endElement(Digester.java:1033)\r\n    \t... 45 more\r\n    \r\n    Feb 01, 2023 1:38:49 PM org.apache.tomcat.util.descriptor.web.WebXmlParser parseWebXml\r\n    SEVERE: Occurred at line [49] column [21]\r\n    Feb 01, 2023 1:38:50 PM org.apache.catalina.startup.ContextConfig configureStart\r\n    SEVERE: Marking this application unavailable due to previous error(s)\r\n    Feb 01, 2023 1:38:50 PM org.apache.catalina.core.StandardContext startInternal\r\n    SEVERE: One or more components marked the context as not correctly configured\r\n    Feb 01, 2023 1:38:50 PM org.apache.catalina.core.StandardContext startInternal\r\n    SEVERE: Context [/SOAPExample] startup failed due to previous errors\r\n    Feb 01, 2023 1:38:50 PM org.apache.coyote.AbstractProtocol start\r\n    INFO: Starting ProtocolHandler [&quot;http-nio-8080&quot;]\r\n    Feb 01, 2023 1:38:50 PM org.apache.catalina.startup.Catalina start\r\n    INFO: Server startup in [1176] milliseconds\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://www.digitalocean.com/community/tutorials/soap-webservices-in-java-example-eclipse\r\n","title":"servlets named [cxf] and [AxisServlet] are both mapped to the url-pattern [/services/*]","body":"<p>I have created very basic SOAP service project with Java in Eclipse according to <a href=\"https://www.digitalocean.com/community/tutorials/soap-webservices-in-java-example-eclipse\" rel=\"nofollow noreferrer\">tutorial</a>. I used Tomcat 10 and Apache CXF 2.x .</p>\n<p>Got error while launching service:</p>\n<pre><code>IWAB0489E Error when deploying Web service to Axis runtime\n  axis-admin failed with  {http://xml.apache.org/axis/}HTTP (404)404 \n</code></pre>\n<p>Console output:</p>\n<pre><code>Feb 01, 2023 1:38:49 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Server version name:   Apache Tomcat/10.0.27\nFeb 01, 2023 1:38:49 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Server built:          Oct 3 2022 14:18:31 UTC\nFeb 01, 2023 1:38:49 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Server version number: 10.0.27.0\nFeb 01, 2023 1:38:49 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: OS Name:               Windows 10\nFeb 01, 2023 1:38:49 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: OS Version:            10.0\nFeb 01, 2023 1:38:49 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Architecture:          amd64\nFeb 01, 2023 1:38:49 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Java Home:             C:\\java\\jdk-17.0.1\nFeb 01, 2023 1:38:49 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: JVM Version:           17.0.1+12-LTS-39\nFeb 01, 2023 1:38:49 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: JVM Vendor:            Oracle Corporation\nFeb 01, 2023 1:38:49 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: CATALINA_BASE:         C:\\java_test\\eclipse_workspace\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\nFeb 01, 2023 1:38:49 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: CATALINA_HOME:         C:\\java_test\\AppServer\\apache-tomcat-10.0.27\nFeb 01, 2023 1:38:49 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Command line argument: -Dcatalina.base=C:\\java_test\\eclipse_workspace\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\nFeb 01, 2023 1:38:49 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Command line argument: -Dcatalina.home=C:\\java_test\\AppServer\\apache-tomcat-10.0.27\nFeb 01, 2023 1:38:49 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Command line argument: -Dwtp.deploy=C:\\java_test\\eclipse_workspace\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\wtpwebapps\nFeb 01, 2023 1:38:49 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Command line argument: --add-opens=java.base/java.lang=ALL-UNNAMED\nFeb 01, 2023 1:38:49 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Command line argument: --add-opens=java.base/java.io=ALL-UNNAMED\nFeb 01, 2023 1:38:49 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Command line argument: --add-opens=java.base/java.util=ALL-UNNAMED\nFeb 01, 2023 1:38:49 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Command line argument: --add-opens=java.base/java.util.concurrent=ALL-UNNAMED\nFeb 01, 2023 1:38:49 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Command line argument: --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED\nFeb 01, 2023 1:38:49 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Command line argument: -Dfile.encoding=UTF-8\nFeb 01, 2023 1:38:49 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Command line argument: -XX:+ShowCodeDetailsInExceptionMessages\nFeb 01, 2023 1:38:49 PM org.apache.catalina.core.AprLifecycleListener lifecycleEvent\nINFO: The Apache Tomcat Native library which allows using OpenSSL was not found on the java.library.path: [C:\\java\\jdk-17.0.1\\bin;C:\\Windows\\Sun\\Java\\bin;C:\\Windows\\system32;C:\\Windows;C:/java/jdk-17.0.1/bin/server;C:/java/jdk-17.0.1/bin;C:\\Program Files (x86)\\Common Files\\Intel\\Shared Libraries\\redist\\intel64_win\\compiler;C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath;C:\\Program Files (x86)\\VMware\\VMware Workstation\\bin\\;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Windows\\System32\\OpenSSH\\;C:\\Program Files\\Microsoft SQL Server\\130\\Tools\\Binn\\;C:\\Program Files\\Git\\cmd;C:\\Program Files\\dotnet\\;C:\\Program Files\\Microsoft SQL Server\\Client SDK\\ODBC\\170\\Tools\\Binn\\;C:\\Program Files (x86)\\nodejs\\;C:\\Program Files (x86)\\Bitvise SSH Client;C:\\Program Files (x86)\\Calibre2\\;C:\\Program Files\\PuTTY\\;C:\\java\\jdk-17.0.1\\bin;C:\\Program Files (x86)\\PWPW\\;C:\\Program Files\\PWPW\\;C:\\Program Files (x86)\\Notepad++\\;C:\\Program Files\\CMake\\bin;C:\\Program Files (x86)\\GnuWin32\\bin;C:\\projects\\apache-maven-3.8.5\\bin;C:\\Program Files\\Docker\\Docker\\resources\\bin;C:\\ProgramData\\DockerDesktop\\version-bin;C:\\Program Files\\OpenSSL-Win64\\bin;;C:\\Program Files\\IDM Computer Solutions\\UltraEdit;C:\\Program Files (x86)\\Meld\\;C:\\Program Files\\Microsoft SQL Server\\150\\Tools\\Binn\\;C:\\Users\\g\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\g\\.dotnet\\tools;C:\\Users\\g\\AppData\\Roaming\\npm;C:\\Users\\g\\AppData\\Local\\gitkraken\\bin;C:\\Program Files (x86)\\Sophos\\Sophos SSL VPN Client\\bin;C:\\Users\\g\\AppData\\Local\\GitHubDesktop\\bin;C:\\Users\\g\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\g\\.dotnet\\tools;C:\\eclipse\\jee-2022-12\\eclipse;;.]\nFeb 01, 2023 1:38:49 PM org.apache.coyote.AbstractProtocol init\nINFO: Initializing ProtocolHandler [&quot;http-nio-8080&quot;]\nFeb 01, 2023 1:38:49 PM org.apache.catalina.startup.Catalina load\nINFO: Server initialization in [373] milliseconds\nFeb 01, 2023 1:38:49 PM org.apache.catalina.core.StandardService startInternal\nINFO: Starting service [Catalina]\nFeb 01, 2023 1:38:49 PM org.apache.catalina.core.StandardEngine startInternal\nINFO: Starting Servlet engine: [Apache Tomcat/10.0.27]\nFeb 01, 2023 1:38:49 PM org.apache.tomcat.util.digester.Digester endElement\nSEVERE: End event threw exception\njava.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.apache.tomcat.util.IntrospectionUtils.callMethodN(IntrospectionUtils.java:495)\n    at org.apache.tomcat.util.descriptor.web.CallMethodMultiRule.end(WebRuleSet.java:1087)\n    at org.apache.tomcat.util.digester.Digester.endElement(Digester.java:1033)\n    at java.xml/com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.endElement(AbstractSAXParser.java:618)\n    at java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanEndElement(XMLDocumentFragmentScannerImpl.java:1728)\n    at java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2899)\n    at java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:605)\n    at java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:542)\n    at java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:889)\n    at java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:825)\n    at java.xml/com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:141)\n    at java.xml/com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1224)\n    at java.xml/com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:637)\n    at org.apache.tomcat.util.digester.Digester.parse(Digester.java:1522)\n    at org.apache.tomcat.util.descriptor.web.WebXmlParser.parseWebXml(WebXmlParser.java:119)\n    at org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1277)\n    at org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:986)\n    at org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:303)\n    at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5085)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:886)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:265)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:432)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:795)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)\nCaused by: java.lang.IllegalArgumentException: The servlets named [cxf] and [AxisServlet] are both mapped to the url-pattern [/services/*] which is not permitted\n    at org.apache.tomcat.util.descriptor.web.WebXml.addServletMappingDecoded(WebXml.java:357)\n    at org.apache.tomcat.util.descriptor.web.WebXml.addServletMapping(WebXml.java:350)\n    ... 52 more\n\nFeb 01, 2023 1:38:49 PM org.apache.tomcat.util.descriptor.web.WebXmlParser parseWebXml\nSEVERE: Parse error in application web.xml file at [file:/C:/java_test/eclipse_workspace/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/wtpwebapps/SOAPExample/WEB-INF/web.xml]\norg.xml.sax.SAXParseException; systemId: file:/C:/java_test/eclipse_workspace/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/wtpwebapps/SOAPExample/WEB-INF/web.xml; lineNumber: 49; columnNumber: 21; Error at line [49] column [21]: [The servlets named [cxf] and [AxisServlet] are both mapped to the url-pattern [/services/*] which is not permitted]\n    at org.apache.tomcat.util.digester.Digester.createSAXException(Digester.java:1953)\n    at org.apache.tomcat.util.digester.Digester.createSAXException(Digester.java:1985)\n    at org.apache.tomcat.util.digester.Digester.endElement(Digester.java:1036)\n    at java.xml/com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.endElement(AbstractSAXParser.java:618)\n    at java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanEndElement(XMLDocumentFragmentScannerImpl.java:1728)\n    at java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2899)\n    at java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:605)\n    at java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:542)\n    at java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:889)\n    at java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:825)\n    at java.xml/com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:141)\n    at java.xml/com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1224)\n    at java.xml/com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:637)\n    at org.apache.tomcat.util.digester.Digester.parse(Digester.java:1522)\n    at org.apache.tomcat.util.descriptor.web.WebXmlParser.parseWebXml(WebXmlParser.java:119)\n    at org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1277)\n    at org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:986)\n    at org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:303)\n    at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5085)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:886)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:265)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:432)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:795)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)\nCaused by: java.lang.IllegalArgumentException: The servlets named [cxf] and [AxisServlet] are both mapped to the url-pattern [/services/*] which is not permitted\n    at org.apache.tomcat.util.descriptor.web.WebXml.addServletMappingDecoded(WebXml.java:357)\n    at org.apache.tomcat.util.descriptor.web.WebXml.addServletMapping(WebXml.java:350)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.apache.tomcat.util.IntrospectionUtils.callMethodN(IntrospectionUtils.java:495)\n    at org.apache.tomcat.util.descriptor.web.CallMethodMultiRule.end(WebRuleSet.java:1087)\n    at org.apache.tomcat.util.digester.Digester.endElement(Digester.java:1033)\n    ... 45 more\n\nFeb 01, 2023 1:38:49 PM org.apache.tomcat.util.descriptor.web.WebXmlParser parseWebXml\nSEVERE: Occurred at line [49] column [21]\nFeb 01, 2023 1:38:50 PM org.apache.catalina.startup.ContextConfig configureStart\nSEVERE: Marking this application unavailable due to previous error(s)\nFeb 01, 2023 1:38:50 PM org.apache.catalina.core.StandardContext startInternal\nSEVERE: One or more components marked the context as not correctly configured\nFeb 01, 2023 1:38:50 PM org.apache.catalina.core.StandardContext startInternal\nSEVERE: Context [/SOAPExample] startup failed due to previous errors\nFeb 01, 2023 1:38:50 PM org.apache.coyote.AbstractProtocol start\nINFO: Starting ProtocolHandler [&quot;http-nio-8080&quot;]\nFeb 01, 2023 1:38:50 PM org.apache.catalina.startup.Catalina start\nINFO: Server startup in [1176] milliseconds\n</code></pre>\n"},{"tags":["java","arrays","sorting","parallel-processing"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1676557261,"post_id":75473136,"comment_id":133163853,"body_markdown":"It might help to see your code but I&#39;d assume you are synchronizing on the array in order to do the insert which may effectively turn parallel execution into sequential.","body":"It might help to see your code but I&#39;d assume you are synchronizing on the array in order to do the insert which may effectively turn parallel execution into sequential."},{"owner":{"account_id":25333394,"reputation":23,"user_id":20415613,"display_name":"feter"},"score":0,"creation_date":1676558003,"post_id":75473136,"comment_id":133164128,"body_markdown":"@Thomas i only use the join(), I tried doing synch(this) in the run when changing values of the array but this made no difference","body":"@Thomas i only use the join(), I tried doing synch(this) in the run when changing values of the array but this made no difference"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1676567696,"post_id":75473136,"comment_id":133167536,"body_markdown":"If you&#39;re not synchronizing then having multiple threads move around elements in the same array is bound to lead to errors as those operations aren&#39;t atomic. But I&#39;ll repeat my statement: without seeing code it&#39;s hard to help more. So please share a [mcve].","body":"If you&#39;re not synchronizing then having multiple threads move around elements in the same array is bound to lead to errors as those operations aren&#39;t atomic. But I&#39;ll repeat my statement: without seeing code it&#39;s hard to help more. So please share a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":25333394,"reputation":23,"user_id":20415613,"display_name":"feter"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676555024,"creation_date":1676555024,"question_id":75473136,"body_markdown":"I am trying to use threads to sort an array, what is needed is that only the k first elemenst in the array are sorted in decreasing order while the rest is not, but the k first numbers needs to be the largest numbers in the array.\r\n\r\nThe way I went by doing this was first sequentially sorting the k first elements in the array, then give sub arrays of the rest of the array to the threads, where the threads will only check their array if there is a number larger that k-1(the smallest number in k) then insert it into the right position in k.\r\n\r\nWhen trying this with n=10million k=100 and threads=8 the parallel code is twice as slow as the sequential one.\r\n\r\nIs my algorithm bad? How would you go by making it parallel.\r\n\r\nPs. I know threading insertion sort is not effecient, just want to see if its a good way to try","title":"Parallel insertion sort with k sorted","body":"<p>I am trying to use threads to sort an array, what is needed is that only the k first elemenst in the array are sorted in decreasing order while the rest is not, but the k first numbers needs to be the largest numbers in the array.</p>\n<p>The way I went by doing this was first sequentially sorting the k first elements in the array, then give sub arrays of the rest of the array to the threads, where the threads will only check their array if there is a number larger that k-1(the smallest number in k) then insert it into the right position in k.</p>\n<p>When trying this with n=10million k=100 and threads=8 the parallel code is twice as slow as the sequential one.</p>\n<p>Is my algorithm bad? How would you go by making it parallel.</p>\n<p>Ps. I know threading insertion sort is not effecient, just want to see if its a good way to try</p>\n"},{"tags":["java","wsdl","cxf","cxf-codegen-plugin","java2wsdl"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1675336496,"post_id":75322262,"comment_id":132908849,"body_markdown":"*unable to find valid certification path to\nrequested target* looks like a certificate isse","body":"<i>unable to find valid certification path to requested target</i> looks like a certificate isse"}],"answers":[{"tags":[],"owner":{"account_id":3803644,"reputation":1290,"user_id":3156607,"display_name":"Dennis Kieselhorst"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676554925,"creation_date":1676554925,"answer_id":75473121,"question_id":75322262,"body_markdown":"You need to download the certificate from https://siemops-test.siemens-energy.com and add it to the `cacerts` keystore of the JDK.\r\n\r\nFollow this post https://stackoverflow.com/questions/53727161/jdk-11-import-root-ca-certificates-into-keystore to see how to import it using the keytool.","title":"Failed to execute goal org.apache.cxf:cxf-codegen-plugin:3.2.1:wsdl2java","body":"<p>You need to download the certificate from <a href=\"https://siemops-test.siemens-energy.com\" rel=\"nofollow noreferrer\">https://siemops-test.siemens-energy.com</a> and add it to the <code>cacerts</code> keystore of the JDK.</p>\n<p>Follow this post <a href=\"https://stackoverflow.com/questions/53727161/jdk-11-import-root-ca-certificates-into-keystore\">JDK 11 import root ca certificates into keystore</a> to see how to import it using the keytool.</p>\n"}],"owner":{"account_id":20121997,"reputation":1,"user_id":14756331,"display_name":"Pranav Saharawat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":257,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1676554925,"creation_date":1675336041,"question_id":75322262,"body_markdown":"Currently, we are using the java version **Zulu 8.42.0.23-CA-win64** while updating the java version to zulu8.64.0.19-ca-jdk8.0.345-win_x64 we are facing the below error.\r\n\r\nWe are facing an issue in executing the goal for the **CXF:cxf-codegen-plugin .**\r\n\r\n    **Error: Failed to execute goal org.apache.cxf:cxf-codegen-plugin:3.2.1:wsdl2java (generate-sources) on project siemops: Execution generate-sources of goal**\r\n    **org.apache.cxf:cxf-codegen-plugin:3.2.1:wsdl2java failed:** org.apache.cxf.wsdl11.WSDLRuntimeException: Fail to create wsdl definition file:/C:/SIEMOPS/repos/SIEMOPS_DEV/workspace/siemops/src/main/jaxws/SDPSiemopsService.wsdl: WSDLException\r\n    (at /wsdl:definitions/wsdl:types/xsd:schema): faultCode=PARSER_ERROR: Problem parsing\r\n    &#39;https://siemops-test.siemens-energy.com/SDPService_DEV/SDPSiemopsService.svc?xsd=xsd5&#39;.: javax.net.ssl.SSLHandshakeException:\r\n    PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to\r\n    requested target -\\&gt; \\[Help 1\\]\r\n    Failed to execute goal org.apache.cxf:cxf-codegen-plugin:3.2.1:wsdl2java (generate-sources) on project siemops: Execution generate-sources of goal\r\n    org.apache.cxf:cxf-codegen-plugin:3.2.1:wsdl2java failed: org.apache.cxf.wsdl11.WSDLRuntimeException: Fail to create wsdl definition\r\n    file:/C:/SIEMOPS/repos/SIEMOPS_DEV/workspace/siemops/src/main/jaxws/SDPSiemopsService.wsdl: WSDLException\r\n    (at /wsdl:definitions/wsdl:types/xsd:schema): faultCode=PARSER_ERROR: Problem parsing\r\n    &#39;https://siemops-test.siemens-energy.com/SDPService_DEV/SDPSiemopsService.svc?xsd=xsd5&#39;.: javax.net.ssl.SSLHandshakeException:\r\n    PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to\r\n    requested target -\\&gt; \\[Help 1\\]\r\n    pom.xml\r\n\r\nJava version : 8\r\nCXF version : \\&lt;cxf.version\\&gt;3.2.1\\&lt;/cxf.version\\&gt;\r\n\r\n\r\n\r\nIn case anyone faced the same issue any kind of help is appreciated. \r\n\r\nWe tried updating cxf version from 3.2.1 to 3.4.5 and also use the same with the java verison zulu8.56.0.21-ca-jdk8.0.302-win_x64.\r\n\r\n\r\n","title":"Failed to execute goal org.apache.cxf:cxf-codegen-plugin:3.2.1:wsdl2java","body":"<p>Currently, we are using the java version <strong>Zulu 8.42.0.23-CA-win64</strong> while updating the java version to zulu8.64.0.19-ca-jdk8.0.345-win_x64 we are facing the below error.</p>\n<p>We are facing an issue in executing the goal for the <strong>CXF:cxf-codegen-plugin .</strong></p>\n<pre><code>**Error: Failed to execute goal org.apache.cxf:cxf-codegen-plugin:3.2.1:wsdl2java (generate-sources) on project siemops: Execution generate-sources of goal**\n**org.apache.cxf:cxf-codegen-plugin:3.2.1:wsdl2java failed:** org.apache.cxf.wsdl11.WSDLRuntimeException: Fail to create wsdl definition file:/C:/SIEMOPS/repos/SIEMOPS_DEV/workspace/siemops/src/main/jaxws/SDPSiemopsService.wsdl: WSDLException\n(at /wsdl:definitions/wsdl:types/xsd:schema): faultCode=PARSER_ERROR: Problem parsing\n'https://siemops-test.siemens-energy.com/SDPService_DEV/SDPSiemopsService.svc?xsd=xsd5'.: javax.net.ssl.SSLHandshakeException:\nPKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to\nrequested target -\\&gt; \\[Help 1\\]\nFailed to execute goal org.apache.cxf:cxf-codegen-plugin:3.2.1:wsdl2java (generate-sources) on project siemops: Execution generate-sources of goal\norg.apache.cxf:cxf-codegen-plugin:3.2.1:wsdl2java failed: org.apache.cxf.wsdl11.WSDLRuntimeException: Fail to create wsdl definition\nfile:/C:/SIEMOPS/repos/SIEMOPS_DEV/workspace/siemops/src/main/jaxws/SDPSiemopsService.wsdl: WSDLException\n(at /wsdl:definitions/wsdl:types/xsd:schema): faultCode=PARSER_ERROR: Problem parsing\n'https://siemops-test.siemens-energy.com/SDPService_DEV/SDPSiemopsService.svc?xsd=xsd5'.: javax.net.ssl.SSLHandshakeException:\nPKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to\nrequested target -\\&gt; \\[Help 1\\]\npom.xml\n</code></pre>\n<p>Java version : 8\nCXF version : &lt;cxf.version&gt;3.2.1&lt;/cxf.version&gt;</p>\n<p>In case anyone faced the same issue any kind of help is appreciated.</p>\n<p>We tried updating cxf version from 3.2.1 to 3.4.5 and also use the same with the java verison zulu8.56.0.21-ca-jdk8.0.302-win_x64.</p>\n"},{"tags":["java","spring-data-jpa","querydsl"],"answers":[{"tags":[],"owner":{"account_id":4289184,"reputation":9183,"user_id":3506000,"accept_rate":88,"display_name":"Robert Bain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1546716043,"creation_date":1546716043,"answer_id":54055412,"question_id":54049598,"body_markdown":"1. Use `schemaPattern` within the `configuration` element: &quot;a schema name pattern in LIKE pattern form; must match the schema name as it is stored in the database, multiple can be separated by comma (default: null)&quot; from the [querydsl docs][1].\r\n\r\n2. While the doesn&#39;t do exactly what you&#39;re asking for, I believe it&#39;s the standard way of solving this problem. [Use encrypted data in a Maven pom][2].\r\n\r\n\r\n  [1]: http://www.querydsl.com/static/querydsl/latest/reference/html/ch02s03.html#d0e654\r\n  [2]: https://stackoverflow.com/questions/12299181/use-encrypted-data-in-a-maven-pom","title":"Combining Querydsl-jpa and querydsl-sql and code generation","body":"<ol>\n<li><p>Use <code>schemaPattern</code> within the <code>configuration</code> element: \"a schema name pattern in LIKE pattern form; must match the schema name as it is stored in the database, multiple can be separated by comma (default: null)\" from the <a href=\"http://www.querydsl.com/static/querydsl/latest/reference/html/ch02s03.html#d0e654\" rel=\"nofollow noreferrer\">querydsl docs</a>.</p></li>\n<li><p>While the doesn't do exactly what you're asking for, I believe it's the standard way of solving this problem. <a href=\"https://stackoverflow.com/questions/12299181/use-encrypted-data-in-a-maven-pom\">Use encrypted data in a Maven pom</a>.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6821181,"reputation":3354,"user_id":5248299,"accept_rate":89,"display_name":"Kihats"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676554893,"creation_date":1546836950,"answer_id":54068729,"question_id":54049598,"body_markdown":"Here are my solutions:\r\n\r\n1. For challenge one, I haven&#39;t found a solution per se but some sort of workaround. I created a user in my DBMS (MySql) that has privileges on the single schema that I am interested in. That way, the user won&#39;t be able to generate `Q`-classes for other schemas. So problem one &quot;solved&quot;.\r\n\r\n**Though I still believe that in the plugin one should be able to specify the schema to be generated. Interestingly enough `&lt;schemaPattern&gt;&lt;/schemaPattern&gt;` as suggested by @Rober Bain which is also in the `querydsl-sql` documentation does not work.**\r\n \r\n2. For challenge two, first you need to create a properties files say `dev.properties` with the needed content\r\n\r\n     `jdbc-url=jdbc:mysql://localhost:3306/myschema?nullNamePatternMatchesAll=true`\r\n\r\n     `jdbc-user=my_user`\r\n\r\n     `jdbc-password=my_password`\r\n\r\n   Then, include the following **properties-maven-plugin**\r\n\r\n           &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;properties-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0-alpha-2&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;initialize&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;read-project-properties&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;files&gt;\r\n                                &lt;file&gt;dev.properties&lt;/file&gt; // Reference to properties file\r\n                            &lt;/files&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;   \r\n\r\n  ... and in your query-dsl plugin ...\r\n  \r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n                &lt;artifactId&gt;querydsl-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;4.2.1&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;export&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;jdbcDriver&gt;com.mysql.jdbc.Driver&lt;/jdbcDriver&gt;\r\n                    &lt;jdbcUrl&gt;${jdbc-url}&lt;/jdbcUrl&gt;\r\n                    &lt;jdbcUser&gt;${jdbc-user}&lt;/jdbcUser&gt;\r\n                    &lt;jdbcPassword&gt;${jdbc-password}&lt;/jdbcPassword&gt;\r\n                    &lt;packageName&gt;com.myproject.domain&lt;/packageName&gt;\r\n                    &lt;targetFolder&gt;${project.basedir}/target/generated-sources/java&lt;/targetFolder&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n                        &lt;version&gt;6.0.6&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt; \r\n\r\nCheck out this link for more info [Read pom.xml configurations from properties file][1]\r\n\r\nSince the above link is down, use [Wayback Online][2] to see the original web page.\r\n\r\nor\r\n\r\nHere is a snapshot of the content [![enter image description here][3]][3] \r\n\r\nand a continuation\r\n\r\n[![enter image description here][4]][4]\r\n    \r\n\r\n\r\n  [1]: http://amrsalah.tech/mwcwp/maven-properties-file/\r\n  [2]: https://archive.org/web\r\n  [3]: https://i.stack.imgur.com/Huirc.png\r\n  [4]: https://i.stack.imgur.com/4XCCS.png","title":"Combining Querydsl-jpa and querydsl-sql and code generation","body":"<p>Here are my solutions:</p>\n<ol>\n<li>For challenge one, I haven't found a solution per se but some sort of workaround. I created a user in my DBMS (MySql) that has privileges on the single schema that I am interested in. That way, the user won't be able to generate <code>Q</code>-classes for other schemas. So problem one &quot;solved&quot;.</li>\n</ol>\n<p><strong>Though I still believe that in the plugin one should be able to specify the schema to be generated. Interestingly enough <code>&lt;schemaPattern&gt;&lt;/schemaPattern&gt;</code> as suggested by @Rober Bain which is also in the <code>querydsl-sql</code> documentation does not work.</strong></p>\n<ol start=\"2\">\n<li><p>For challenge two, first you need to create a properties files say <code>dev.properties</code> with the needed content</p>\n<p><code>jdbc-url=jdbc:mysql://localhost:3306/myschema?nullNamePatternMatchesAll=true</code></p>\n<p><code>jdbc-user=my_user</code></p>\n<p><code>jdbc-password=my_password</code></p>\n<p>Then, include the following <strong>properties-maven-plugin</strong></p>\n<pre><code>    &lt;plugin&gt;\n         &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n         &lt;artifactId&gt;properties-maven-plugin&lt;/artifactId&gt;\n         &lt;version&gt;1.0-alpha-2&lt;/version&gt;\n         &lt;executions&gt;\n             &lt;execution&gt;\n                 &lt;phase&gt;initialize&lt;/phase&gt;\n                 &lt;goals&gt;\n                     &lt;goal&gt;read-project-properties&lt;/goal&gt;\n                 &lt;/goals&gt;\n                 &lt;configuration&gt;\n                     &lt;files&gt;\n                         &lt;file&gt;dev.properties&lt;/file&gt; // Reference to properties file\n                     &lt;/files&gt;\n                 &lt;/configuration&gt;\n             &lt;/execution&gt;\n         &lt;/executions&gt;\n     &lt;/plugin&gt;   \n</code></pre>\n</li>\n</ol>\n<p>... and in your query-dsl plugin ...</p>\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n            &lt;artifactId&gt;querydsl-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;4.2.1&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;export&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n                &lt;jdbcDriver&gt;com.mysql.jdbc.Driver&lt;/jdbcDriver&gt;\n                &lt;jdbcUrl&gt;${jdbc-url}&lt;/jdbcUrl&gt;\n                &lt;jdbcUser&gt;${jdbc-user}&lt;/jdbcUser&gt;\n                &lt;jdbcPassword&gt;${jdbc-password}&lt;/jdbcPassword&gt;\n                &lt;packageName&gt;com.myproject.domain&lt;/packageName&gt;\n                &lt;targetFolder&gt;${project.basedir}/target/generated-sources/java&lt;/targetFolder&gt;\n            &lt;/configuration&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;mysql&lt;/groupId&gt;\n                    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n                    &lt;version&gt;6.0.6&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/plugin&gt; \n</code></pre>\n<p>Check out this link for more info <a href=\"http://amrsalah.tech/mwcwp/maven-properties-file/\" rel=\"nofollow noreferrer\">Read pom.xml configurations from properties file</a></p>\n<p>Since the above link is down, use <a href=\"https://archive.org/web\" rel=\"nofollow noreferrer\">Wayback Online</a> to see the original web page.</p>\n<p>or</p>\n<p>Here is a snapshot of the content <a href=\"https://i.stack.imgur.com/Huirc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Huirc.png\" alt=\"enter image description here\" /></a></p>\n<p>and a continuation</p>\n<p><a href=\"https://i.stack.imgur.com/4XCCS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4XCCS.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":6821181,"reputation":3354,"user_id":5248299,"accept_rate":89,"display_name":"Kihats"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2676,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":54068729,"answer_count":2,"score":1,"last_activity_date":1676554893,"creation_date":1546669962,"question_id":54049598,"body_markdown":"Here is the thing:\r\n\r\n 1. I have been using `querydsl-jpa` in my projects and code generation has never been a problem. I use this plugin in `maven`:\r\n    \r\n           &lt;plugin&gt;\r\n                &lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-apt-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;process&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;outputDirectory&gt;${project.build.directory}/generated-sources&lt;/outputDirectory&gt;\r\n                            &lt;processor&gt;com.querydsl.apt.jpa.JPAAnnotationProcessor&lt;/processor&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\n 2. Now, I need to also use `querydsl-sql` and apparently, I can&#39;t use the `Q`-generated classes created by `com.querydsl.apt.jpa.JPAAnnotationProcessor`. Here is the plugin in `maven`:\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n                &lt;artifactId&gt;querydsl-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;4.2.1&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;export&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                                        &lt;jdbcDriver&gt;com.mysql.cj.jdbc.Driver&lt;/jdbcDriver&gt;\r\n                    &lt;jdbcUrl&gt;jdbc:mysql://localhost:3306/mydatabase&lt;/jdbcUrl&gt;\r\n                    &lt;jdbcUser&gt;root&lt;/jdbcUser&gt;\r\n                    &lt;jdbcPassword&gt;&lt;/jdbcPassword&gt;                    \r\n                    &lt;packageName&gt;com.myproject.domain&lt;/packageName&gt;\r\n                    &lt;targetFolder&gt;${project.basedir}/target/generated-sources/java&lt;/targetFolder&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n                        &lt;version&gt;8.0.13&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n\r\n**THE CHALLENGE**\r\n\r\n 1. The second plugin above generates `Q`-classes for all schemas in my DBMS (MySql) whereas I have specified the schema to generate `Q`-classes from.\r\n\r\n 2. How do I specify the username, password and jdbcUrl from a file since I don&#39;t want to store sensitive information in the `git` repository.","title":"Combining Querydsl-jpa and querydsl-sql and code generation","body":"<p>Here is the thing:</p>\n\n<ol>\n<li><p>I have been using <code>querydsl-jpa</code> in my projects and code generation has never been a problem. I use this plugin in <code>maven</code>:</p>\n\n<pre><code>   &lt;plugin&gt;\n        &lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-apt-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.0&lt;/version&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;phase&gt;generate-sources&lt;/phase&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;process&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt;\n                    &lt;outputDirectory&gt;${project.build.directory}/generated-sources&lt;/outputDirectory&gt;\n                    &lt;processor&gt;com.querydsl.apt.jpa.JPAAnnotationProcessor&lt;/processor&gt;\n                &lt;/configuration&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n</code></pre></li>\n<li><p>Now, I need to also use <code>querydsl-sql</code> and apparently, I can't use the <code>Q</code>-generated classes created by <code>com.querydsl.apt.jpa.JPAAnnotationProcessor</code>. Here is the plugin in <code>maven</code>:</p>\n\n<pre><code>    &lt;plugin&gt;\n        &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n        &lt;artifactId&gt;querydsl-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;4.2.1&lt;/version&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;export&lt;/goal&gt;\n                &lt;/goals&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;configuration&gt;\n                                &lt;jdbcDriver&gt;com.mysql.cj.jdbc.Driver&lt;/jdbcDriver&gt;\n            &lt;jdbcUrl&gt;jdbc:mysql://localhost:3306/mydatabase&lt;/jdbcUrl&gt;\n            &lt;jdbcUser&gt;root&lt;/jdbcUser&gt;\n            &lt;jdbcPassword&gt;&lt;/jdbcPassword&gt;                    \n            &lt;packageName&gt;com.myproject.domain&lt;/packageName&gt;\n            &lt;targetFolder&gt;${project.basedir}/target/generated-sources/java&lt;/targetFolder&gt;\n        &lt;/configuration&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n                &lt;version&gt;8.0.13&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/plugin&gt;\n</code></pre></li>\n</ol>\n\n<p><strong>THE CHALLENGE</strong></p>\n\n<ol>\n<li><p>The second plugin above generates <code>Q</code>-classes for all schemas in my DBMS (MySql) whereas I have specified the schema to generate <code>Q</code>-classes from.</p></li>\n<li><p>How do I specify the username, password and jdbcUrl from a file since I don't want to store sensitive information in the <code>git</code> repository.</p></li>\n</ol>\n"},{"tags":["java","android","android-studio","video","android-camerax"],"answers":[{"tags":[],"owner":{"account_id":1091117,"reputation":8451,"user_id":1085736,"accept_rate":64,"display_name":"MobileMon"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1606915786,"creation_date":1606915786,"answer_id":65109058,"question_id":65106167,"body_markdown":"Run your code after a delay\r\n\r\n     final Handler handler = new Handler(Looper.getMainLooper());\r\n        handler.postDelayed(new Runnable() {\r\n          @Override\r\n          public void run() {\r\n             mCameraView.stopRecording();\r\n          }\r\n        }, 5000);","title":"How to set up CameraX (Android) to stop recording after 5 seconds?","body":"<p>Run your code after a delay</p>\n<pre><code> final Handler handler = new Handler(Looper.getMainLooper());\n    handler.postDelayed(new Runnable() {\n      @Override\n      public void run() {\n         mCameraView.stopRecording();\n      }\n    }, 5000);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5734780,"reputation":21,"user_id":4529297,"display_name":"V. Bor&#233;al"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676554715,"creation_date":1676554715,"answer_id":75473091,"question_id":65106167,"body_markdown":"Version 1.3.0-alpha01 introduced OutputOptions.setDurationLimit, renamed to setDurationLimitMillis on alpha02.\r\n\r\n\r\nHere is an example with MediaStoreOutputOptions :\r\n\r\n    MediaStoreOutputOptions mediaStoreOutputOptions = new MediaStoreOutputOptions\r\n            .Builder(getContentResolver(), MediaStore.Video.Media.EXTERNAL_CONTENT_URI)\r\n            .setContentValues(contentValues)\r\n            .setDurationLimitMillis(5000)\r\n            .build();","title":"How to set up CameraX (Android) to stop recording after 5 seconds?","body":"<p>Version 1.3.0-alpha01 introduced OutputOptions.setDurationLimit, renamed to setDurationLimitMillis on alpha02.</p>\n<p>Here is an example with MediaStoreOutputOptions :</p>\n<pre><code>MediaStoreOutputOptions mediaStoreOutputOptions = new MediaStoreOutputOptions\n        .Builder(getContentResolver(), MediaStore.Video.Media.EXTERNAL_CONTENT_URI)\n        .setContentValues(contentValues)\n        .setDurationLimitMillis(5000)\n        .build();\n</code></pre>\n"}],"owner":{"account_id":20111866,"reputation":23,"user_id":14748115,"display_name":"Wuthichai Wongthatsanekorn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2405,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":65109058,"answer_count":2,"score":2,"last_activity_date":1676554715,"creation_date":1606904484,"question_id":65106167,"body_markdown":"Here&#39;s the current code that I use. I don&#39;t know where to call mCameraView.stopRecording() if I want to stop recording the video automatically after 5 seconds.  The current approach is through the setOnClickListener of the button click.\r\n\r\nbuild.gradle\r\n```\r\ndef camerax_version = &quot;1.0.0-beta08&quot;\r\n    \r\nimplementation &quot;androidx.camera:camera-core:${camerax_version}&quot;\r\nimplementation &quot;androidx.camera:camera-camera2:${camerax_version}&quot;\r\nimplementation &quot;androidx.camera:camera-lifecycle:${camerax_version}&quot;\r\nimplementation &quot;androidx.camera:camera-view:1.0.0-alpha15&quot;\r\nimplementation &quot;androidx.camera:camera-extensions:1.0.0-alpha15&quot;\r\n\r\n```\r\n\r\nMainActivity.java\r\n\r\n```\r\nCameraView mCameraView;\r\n\r\nmCameraView.setCaptureMode(CameraView.CaptureMode.VIDEO);\r\nmCameraView.startRecording(file, executor, new VideoCapture.OnVideoSavedCallback() {\r\n\r\n    @Override\r\n    public void onVideoSaved(@NonNull OutputFileResults outputFileResults) {\r\n            // save video file\r\n            }\r\n    \r\n    @Override\r\n    public void onError(int videoCaptureError, @NonNull String message, @Nullable Throwable cause) {\r\n           \r\n            mCameraView.stopRecording();\r\n}\r\n```\r\n","title":"How to set up CameraX (Android) to stop recording after 5 seconds?","body":"<p>Here's the current code that I use. I don't know where to call mCameraView.stopRecording() if I want to stop recording the video automatically after 5 seconds.  The current approach is through the setOnClickListener of the button click.</p>\n<p>build.gradle</p>\n<pre><code>def camerax_version = &quot;1.0.0-beta08&quot;\n    \nimplementation &quot;androidx.camera:camera-core:${camerax_version}&quot;\nimplementation &quot;androidx.camera:camera-camera2:${camerax_version}&quot;\nimplementation &quot;androidx.camera:camera-lifecycle:${camerax_version}&quot;\nimplementation &quot;androidx.camera:camera-view:1.0.0-alpha15&quot;\nimplementation &quot;androidx.camera:camera-extensions:1.0.0-alpha15&quot;\n\n</code></pre>\n<p>MainActivity.java</p>\n<pre><code>CameraView mCameraView;\n\nmCameraView.setCaptureMode(CameraView.CaptureMode.VIDEO);\nmCameraView.startRecording(file, executor, new VideoCapture.OnVideoSavedCallback() {\n\n    @Override\n    public void onVideoSaved(@NonNull OutputFileResults outputFileResults) {\n            // save video file\n            }\n    \n    @Override\n    public void onError(int videoCaptureError, @NonNull String message, @Nullable Throwable cause) {\n           \n            mCameraView.stopRecording();\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","listview","mobile"],"comments":[{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":0,"creation_date":1676534348,"post_id":75469178,"comment_id":133156936,"body_markdown":"Please show a [mre].","body":"Please show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":23869894,"reputation":97,"user_id":17871743,"display_name":"Abdullah"},"score":0,"creation_date":1676534760,"post_id":75469178,"comment_id":133157030,"body_markdown":"I don&#39;t quite understand what you mean","body":"I don&#39;t quite understand what you mean"},{"owner":{"account_id":22264521,"reputation":329,"user_id":20837030,"display_name":"jcredking"},"score":1,"creation_date":1676534818,"post_id":75469178,"comment_id":133157050,"body_markdown":"Please post your listView Implementation.","body":"Please post your listView Implementation."},{"owner":{"account_id":23869894,"reputation":97,"user_id":17871743,"display_name":"Abdullah"},"score":0,"creation_date":1676534867,"post_id":75469178,"comment_id":133157066,"body_markdown":"XML or java? Which one?","body":"XML or java? Which one?"},{"owner":{"account_id":22264521,"reputation":329,"user_id":20837030,"display_name":"jcredking"},"score":0,"creation_date":1676534952,"post_id":75469178,"comment_id":133157095,"body_markdown":"Post Both code Implementation","body":"Post Both code Implementation"},{"owner":{"account_id":9063839,"reputation":128,"user_id":6749453,"display_name":"Ayaz Muhammad"},"score":0,"creation_date":1676535541,"post_id":75469178,"comment_id":133157269,"body_markdown":"you can fallow this https://stackoverflow.com/questions/40274754/get-selected-item-from-single-selection-mode-listview-android","body":"you can fallow this <a href=\"https://stackoverflow.com/questions/40274754/get-selected-item-from-single-selection-mode-listview-android\" title=\"get selected item from single selection mode listview android\">stackoverflow.com/questions/40274754/&hellip;</a>"},{"owner":{"account_id":9063839,"reputation":128,"user_id":6749453,"display_name":"Ayaz Muhammad"},"score":0,"creation_date":1676535789,"post_id":75469178,"comment_id":133157339,"body_markdown":"another way to select single selection in ListView set variable in Model class e.g isSelectItem by default it should be false when item select by using listener send call back to activity there in loop current position item isSelectItem set true rest of all set false and notify to adapter","body":"another way to select single selection in ListView set variable in Model class e.g isSelectItem by default it should be false when item select by using listener send call back to activity there in loop current position item isSelectItem set true rest of all set false and notify to adapter"},{"owner":{"account_id":23869894,"reputation":97,"user_id":17871743,"display_name":"Abdullah"},"score":0,"creation_date":1676536228,"post_id":75469178,"comment_id":133157463,"body_markdown":"@jcredking post my code","body":"@jcredking post my code"},{"owner":{"account_id":23869894,"reputation":97,"user_id":17871743,"display_name":"Abdullah"},"score":0,"creation_date":1676536290,"post_id":75469178,"comment_id":133157480,"body_markdown":"@AyazMuhammad java side of my code\nI&#39;m not sure it&#39;s correct","body":"@AyazMuhammad java side of my code I&#39;m not sure it&#39;s correct"}],"answers":[{"tags":[],"owner":{"account_id":23869894,"reputation":97,"user_id":17871743,"display_name":"Abdullah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676554660,"creation_date":1676536171,"answer_id":75469571,"question_id":75469178,"body_markdown":"\r\n\r\n    Map&lt;Integer, String&gt; Green = new HashMap&lt;&gt;();\r\n    \r\n    Map&lt;Integer, String&gt; white = new HashMap&lt;&gt;();\r\n    \r\n    \r\n    checkBox_TumParca.setOnClickListener(new View.OnClickListener() {\r\n    \r\n    @Override\r\n    \r\n    public void onClick(View v) {\r\n    \r\n    if(checkBox_TumParca.isChecked()){\r\n    \r\n    for(int i=0;i&lt;barkodlar.size();i++){\r\n    \r\n    listemiz.getChildAt(i).setBackgroundColor(Color.GREEN);\r\n    \r\n    Green.put(i,&quot;Yeşil&quot;);\r\n    \r\n    white.remove(i);\r\n    \r\n    }\r\n    \r\n    }else{\r\n    \r\n    for(int i=0;i&lt;barkodlar.size();i++){\r\n    \r\n    listemiz.getChildAt(i).setBackgroundColor(Color.WHITE);\r\n    \r\n    white.put(i,&quot;Beyaz&quot;);\r\n    \r\n    Green.remove(i);\r\n    \r\n    }\r\n    \r\n    }\r\n    \r\n    }\r\n    \r\n    });\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    ArrayList&lt;Integer&gt; posit = new ArrayList&lt;&gt;();\r\n    \r\n    ArrayList&lt;Integer&gt; yesil = new ArrayList&lt;&gt;();\r\n    \r\n    ArrayList&lt;Integer&gt; beyaz = new ArrayList&lt;&gt;();\r\n    \r\n    \r\n    \r\n    \r\n    listemiz.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n    \r\n    \r\n    \r\n    @Override\r\n    \r\n    \r\n    public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position,\r\n    \r\n    \r\n    long id) {\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    try {\r\n    \r\n    String a=Green.get(position);\r\n    \r\n    if (a!=&quot;Yeşil&quot;){\r\n    \r\n    listemiz.getChildAt(position).setBackgroundColor(Color.GREEN);\r\n    \r\n    Green.put(position,&quot;Yeşil&quot;);\r\n    \r\n    white.remove(position);\r\n    \r\n    }\r\n    \r\n    else if (a==&quot;Yeşil&quot;){\r\n    \r\n    listemiz.getChildAt(position).setBackgroundColor(Color.WHITE);\r\n    \r\n    white.put(position,&quot;Beyaz&quot;);\r\n    \r\n    Green.remove(position);\r\n    \r\n    }\r\n    \r\n    }catch (Exception ex){\r\n    \r\n    dialog(&quot;&quot;,ex.getMessage(),false);\r\n    \r\n    }\r\n    \r\n    \r\n    \r\n    \r\n    }\r\n    \r\n    \r\n    });","title":"Android Studio, for Listview error working scrollview","body":"<pre><code>Map&lt;Integer, String&gt; Green = new HashMap&lt;&gt;();\n\nMap&lt;Integer, String&gt; white = new HashMap&lt;&gt;();\n\n\ncheckBox_TumParca.setOnClickListener(new View.OnClickListener() {\n\n@Override\n\npublic void onClick(View v) {\n\nif(checkBox_TumParca.isChecked()){\n\nfor(int i=0;i&lt;barkodlar.size();i++){\n\nlistemiz.getChildAt(i).setBackgroundColor(Color.GREEN);\n\nGreen.put(i,&quot;Yeşil&quot;);\n\nwhite.remove(i);\n\n}\n\n}else{\n\nfor(int i=0;i&lt;barkodlar.size();i++){\n\nlistemiz.getChildAt(i).setBackgroundColor(Color.WHITE);\n\nwhite.put(i,&quot;Beyaz&quot;);\n\nGreen.remove(i);\n\n}\n\n}\n\n}\n\n});\n\n\n\n\n\nArrayList&lt;Integer&gt; posit = new ArrayList&lt;&gt;();\n\nArrayList&lt;Integer&gt; yesil = new ArrayList&lt;&gt;();\n\nArrayList&lt;Integer&gt; beyaz = new ArrayList&lt;&gt;();\n\n\n\n\nlistemiz.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n\n\n\n@Override\n\n\npublic void onItemClick(AdapterView&lt;?&gt; parent, View view, int position,\n\n\nlong id) {\n\n\n\n\n\ntry {\n\nString a=Green.get(position);\n\nif (a!=&quot;Yeşil&quot;){\n\nlistemiz.getChildAt(position).setBackgroundColor(Color.GREEN);\n\nGreen.put(position,&quot;Yeşil&quot;);\n\nwhite.remove(position);\n\n}\n\nelse if (a==&quot;Yeşil&quot;){\n\nlistemiz.getChildAt(position).setBackgroundColor(Color.WHITE);\n\nwhite.put(position,&quot;Beyaz&quot;);\n\nGreen.remove(position);\n\n}\n\n}catch (Exception ex){\n\ndialog(&quot;&quot;,ex.getMessage(),false);\n\n}\n\n\n\n\n}\n\n\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23936770,"reputation":128,"user_id":17930413,"display_name":"Rahul Rokade"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676540285,"creation_date":1676540285,"answer_id":75470338,"question_id":75469178,"body_markdown":"**Automatically selected item element in list view**\r\n*please refer this 2 link, I hope you getting your solution*\r\n\r\n[This is first link][1]\r\n\r\n\r\n[This is second link][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/14468852/android-listview-the-checkbox-change-random\r\n  [2]: http://android-er.blogspot.com/2015/01/add-remove-items-to-custom-listview.html","title":"Android Studio, for Listview error working scrollview","body":"<p><strong>Automatically selected item element in list view</strong>\n<em>please refer this 2 link, I hope you getting your solution</em></p>\n<p><a href=\"https://stackoverflow.com/questions/14468852/android-listview-the-checkbox-change-random\">This is first link</a></p>\n<p><a href=\"http://android-er.blogspot.com/2015/01/add-remove-items-to-custom-listview.html\" rel=\"nofollow noreferrer\">This is second link</a></p>\n"}],"owner":{"account_id":23869894,"reputation":97,"user_id":17871743,"display_name":"Abdullah"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676554660,"creation_date":1676533533,"question_id":75469178,"body_markdown":"for Android Studio with Java\r\n\r\nListview have not correctly scrollview, so mean I select first item in Listview but Selecting first item both another a item. So mean, showing  me two item, one&#39;s my selected item another random a item\r\n\r\nWhat can I do about this situation\r\n\r\n[![enter image description here](https://i.stack.imgur.com/ayhBh.jpg)](https://i.stack.imgur.com/ayhBh.jpg)[![enter image description here](https://i.stack.imgur.com/nmS3i.jpg)](https://i.stack.imgur.com/nmS3i.jpg)[![enter image description here](https://i.stack.imgur.com/vii5p.jpg)](https://i.stack.imgur.com/vii5p.jpg)\r\n\r\nfor Listview, selected item not correctly work","title":"Android Studio, for Listview error working scrollview","body":"<p>for Android Studio with Java</p>\n<p>Listview have not correctly scrollview, so mean I select first item in Listview but Selecting first item both another a item. So mean, showing  me two item, one's my selected item another random a item</p>\n<p>What can I do about this situation</p>\n<p><a href=\"https://i.stack.imgur.com/ayhBh.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ayhBh.jpg\" alt=\"enter image description here\" /></a><a href=\"https://i.stack.imgur.com/nmS3i.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nmS3i.jpg\" alt=\"enter image description here\" /></a><a href=\"https://i.stack.imgur.com/vii5p.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vii5p.jpg\" alt=\"enter image description here\" /></a></p>\n<p>for Listview, selected item not correctly work</p>\n"},{"tags":["java","spring-cloud-gateway"],"owner":{"account_id":16714659,"reputation":1,"user_id":12081069,"display_name":"Seth Alexander"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676554357,"creation_date":1676554357,"question_id":75473027,"body_markdown":"At my job, some of the old legacy services that sit behind a spring cloud gateway encounter errors when certain headers are included in the request. Rather than update multiple legacy services, we want to make changes to the filters in our SCG to remove these headers from requests on specific routes. \r\n\r\nIt appears that the &quot;NettyRoutingFilter&quot; is the one responsible for adding the unwanted headers.\r\n\r\nMy solution was to create a child class from the NettyRoutingFilter and reduce the order of this filter to &quot;Integer.MAX_VALUE -2&quot;. Then I added a new filter that removes the unwanted headers with an order of &quot;Integer.MAX_VALUE -1&quot;. \r\n\r\nUnfortunately the original NettyRoutingFilter has an order of &quot;Integer.MAX_VALUE&quot; and still adds back the unwanted headers. I need to find some way to remove the original NettyRoutingFilter from the filter chain completely. Does anyone know how this could be accomplished?\r\n\r\n","title":"How to remove a built in filter from the filter chain in Spring Cloud Gateway?","body":"<p>At my job, some of the old legacy services that sit behind a spring cloud gateway encounter errors when certain headers are included in the request. Rather than update multiple legacy services, we want to make changes to the filters in our SCG to remove these headers from requests on specific routes.</p>\n<p>It appears that the &quot;NettyRoutingFilter&quot; is the one responsible for adding the unwanted headers.</p>\n<p>My solution was to create a child class from the NettyRoutingFilter and reduce the order of this filter to &quot;Integer.MAX_VALUE -2&quot;. Then I added a new filter that removes the unwanted headers with an order of &quot;Integer.MAX_VALUE -1&quot;.</p>\n<p>Unfortunately the original NettyRoutingFilter has an order of &quot;Integer.MAX_VALUE&quot; and still adds back the unwanted headers. I need to find some way to remove the original NettyRoutingFilter from the filter chain completely. Does anyone know how this could be accomplished?</p>\n"},{"tags":["java","arrays","oracle","plsql","byte"],"owner":{"account_id":23004676,"reputation":3,"user_id":17128157,"display_name":"Jelonek512"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676554107,"creation_date":1676494532,"question_id":75465354,"body_markdown":"Is there any way to instead of string convert to byte using clob convert to byte?\r\nWhen I put to function &quot;CRC32B&quot; too large value (String - Varchar2) whole function crashes...\r\nCode is working well but I want to convert that code to input CLOB and covert this clob to byte and then perform the rest of the counting of the crc32 algorithm.\r\n\r\nMy actual code:\r\n\r\n```\r\nCREATE OR REPLACE AND RESOLVE JAVA SOURCE NAMED &quot;CRC32B&quot;\r\nAS\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.sql.Clob;\r\nimport java.sql.SQLException;\r\nimport java.util.BitSet;\r\npublic class crc32b {\r\n    public static String crc32(String input) throws SQLException, IOException {\r\n        final byte[] bytes = input.getBytes(); \r\n        BitSet bitSet = BitSet.valueOf(bytes);\r\n        int crc32 = 0xFFFFFFFF; \r\n        for (int i = 0; i &lt; bytes.length * 8; i++) {\r\n            if (((crc32 &gt;&gt;&gt; 31) &amp; 1) != (bitSet.get(i) ? 1 : 0))\r\n                crc32 = (crc32 &lt;&lt; 1) ^ 0x04C11DB7;  \r\n            else\r\n                crc32 = (crc32 &lt;&lt; 1);\r\n        }\r\n        crc32 = Integer.reverse(crc32);  \r\n        return Integer.toHexString(crc32 ^ 0xFFFFFFFF);\r\n    }        \r\n  }\r\n\r\n```\r\n\r\nI want to change this code to convert Blob -&gt; Byte instead String -&gt; Byte and return the value as before:\r\n\r\n\r\n```\r\n    public static String crc32(String input) throws SQLException, IOException {\r\n        final byte[] bytes = input.getBytes(); \r\n        BitSet bitSet = BitSet.valueOf(bytes);\r\n        int crc32 = 0xFFFFFFFF; \r\n        for (int i = 0; i &lt; bytes.length * 8; i++) {\r\n            if (((crc32 &gt;&gt;&gt; 31) &amp; 1) != (bitSet.get(i) ? 1 : 0))\r\n                crc32 = (crc32 &lt;&lt; 1) ^ 0x04C11DB7;  \r\n            else\r\n                crc32 = (crc32 &lt;&lt; 1);\r\n        }\r\n        crc32 = Integer.reverse(crc32);  \r\n        return Integer.toHexString(crc32 ^ 0xFFFFFFFF);\r\n    }        \r\n```\r\n\r\nFor now i was trying like this:\r\n\r\n    CREATE OR REPLACE AND RESOLVE JAVA SOURCE NAMED &quot;CRC32B&quot;\r\n    AS\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.sql.Clob;\r\n    import java.sql.SQLException;\r\n    import java.util.BitSet;\r\n    public class crc32b { \r\n           public static String crc32(Clob input) throws SQLException, IOException {\r\n                InputStream byte_stream = input.getAsciiStream();\r\n                byte[] data = byte_stream.readAllBytes();\r\n                BitSet bitSet = BitSet.valueOf(data);\r\n                int crc32 = 0xFFFFFFFF;\r\n                for (int i = 0; i &lt; data.length * 8; i++) {\r\n                    if (((crc32 &gt;&gt;&gt; 31) &amp; 1) != (bitSet.get(i) ? 1 : 0))\r\n                        crc32 = (crc32 &lt;&lt; 1) ^ 0x04C11DB7;\r\n                    else\r\n                        crc32 = (crc32 &lt;&lt; 1);\r\n                }\r\n                crc32 = Integer.reverse(crc32);\r\n                return Integer.toHexString(crc32 ^ 0xFFFFFFFF);\r\n            }\r\n    }\r\n\r\nOn java compiller it is working but in my oracle database its gives me error compilling with no information what is going wrong","title":"Java Oracle Clob to byte","body":"<p>Is there any way to instead of string convert to byte using clob convert to byte?\nWhen I put to function &quot;CRC32B&quot; too large value (String - Varchar2) whole function crashes...\nCode is working well but I want to convert that code to input CLOB and covert this clob to byte and then perform the rest of the counting of the crc32 algorithm.</p>\n<p>My actual code:</p>\n<pre><code>CREATE OR REPLACE AND RESOLVE JAVA SOURCE NAMED &quot;CRC32B&quot;\nAS\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.sql.Clob;\nimport java.sql.SQLException;\nimport java.util.BitSet;\npublic class crc32b {\n    public static String crc32(String input) throws SQLException, IOException {\n        final byte[] bytes = input.getBytes(); \n        BitSet bitSet = BitSet.valueOf(bytes);\n        int crc32 = 0xFFFFFFFF; \n        for (int i = 0; i &lt; bytes.length * 8; i++) {\n            if (((crc32 &gt;&gt;&gt; 31) &amp; 1) != (bitSet.get(i) ? 1 : 0))\n                crc32 = (crc32 &lt;&lt; 1) ^ 0x04C11DB7;  \n            else\n                crc32 = (crc32 &lt;&lt; 1);\n        }\n        crc32 = Integer.reverse(crc32);  \n        return Integer.toHexString(crc32 ^ 0xFFFFFFFF);\n    }        \n  }\n\n</code></pre>\n<p>I want to change this code to convert Blob -&gt; Byte instead String -&gt; Byte and return the value as before:</p>\n<pre><code>    public static String crc32(String input) throws SQLException, IOException {\n        final byte[] bytes = input.getBytes(); \n        BitSet bitSet = BitSet.valueOf(bytes);\n        int crc32 = 0xFFFFFFFF; \n        for (int i = 0; i &lt; bytes.length * 8; i++) {\n            if (((crc32 &gt;&gt;&gt; 31) &amp; 1) != (bitSet.get(i) ? 1 : 0))\n                crc32 = (crc32 &lt;&lt; 1) ^ 0x04C11DB7;  \n            else\n                crc32 = (crc32 &lt;&lt; 1);\n        }\n        crc32 = Integer.reverse(crc32);  \n        return Integer.toHexString(crc32 ^ 0xFFFFFFFF);\n    }        \n</code></pre>\n<p>For now i was trying like this:</p>\n<pre><code>CREATE OR REPLACE AND RESOLVE JAVA SOURCE NAMED &quot;CRC32B&quot;\nAS\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.sql.Clob;\nimport java.sql.SQLException;\nimport java.util.BitSet;\npublic class crc32b { \n       public static String crc32(Clob input) throws SQLException, IOException {\n            InputStream byte_stream = input.getAsciiStream();\n            byte[] data = byte_stream.readAllBytes();\n            BitSet bitSet = BitSet.valueOf(data);\n            int crc32 = 0xFFFFFFFF;\n            for (int i = 0; i &lt; data.length * 8; i++) {\n                if (((crc32 &gt;&gt;&gt; 31) &amp; 1) != (bitSet.get(i) ? 1 : 0))\n                    crc32 = (crc32 &lt;&lt; 1) ^ 0x04C11DB7;\n                else\n                    crc32 = (crc32 &lt;&lt; 1);\n            }\n            crc32 = Integer.reverse(crc32);\n            return Integer.toHexString(crc32 ^ 0xFFFFFFFF);\n        }\n}\n</code></pre>\n<p>On java compiller it is working but in my oracle database its gives me error compilling with no information what is going wrong</p>\n"},{"tags":["java","c++","jna","sendinput"],"answers":[{"tags":[],"owner":{"account_id":23358250,"reputation":774,"user_id":17430910,"display_name":"Vaishnav Kanhirathingal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676553964,"creation_date":1676553964,"answer_id":75472953,"question_id":75469943,"body_markdown":"I forgot to net type. Didn&#39;t realize this was necessary. Anyways, here is the code -\r\n\r\n    public static void moveMouse(Long x, Long y) {\r\n        INPUT input = new INPUT();\r\n        input.type = new DWORD(INPUT_MOUSE);\r\n        input.input.setType(&quot;mi&quot;);//--------------------------------------added this\r\n        input.input.mi.dx = new LONG(x);\r\n        input.input.mi.dy = new LONG(y);\r\n        input.input.mi.time = new DWORD(0);\r\n        input.input.mi.dwFlags = new DWORD(0x0001L);\r\n        INPUT[] inputArray = {input};\r\n        DWORD result = User32.INSTANCE.SendInput(new DWORD(1), inputArray, input.size());\r\n    }\r\n\r\nFor anybody having this issue, this function can be straight up copy pasted and it should work.","title":"SendInput won&#39;t execute correctly via Java Native Access for mouse movement","body":"<p>I forgot to net type. Didn't realize this was necessary. Anyways, here is the code -</p>\n<pre><code>public static void moveMouse(Long x, Long y) {\n    INPUT input = new INPUT();\n    input.type = new DWORD(INPUT_MOUSE);\n    input.input.setType(&quot;mi&quot;);//--------------------------------------added this\n    input.input.mi.dx = new LONG(x);\n    input.input.mi.dy = new LONG(y);\n    input.input.mi.time = new DWORD(0);\n    input.input.mi.dwFlags = new DWORD(0x0001L);\n    INPUT[] inputArray = {input};\n    DWORD result = User32.INSTANCE.SendInput(new DWORD(1), inputArray, input.size());\n}\n</code></pre>\n<p>For anybody having this issue, this function can be straight up copy pasted and it should work.</p>\n"}],"owner":{"account_id":23358250,"reputation":774,"user_id":17430910,"display_name":"Vaishnav Kanhirathingal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676556958,"accepted_answer_id":75472953,"answer_count":1,"score":0,"last_activity_date":1676553964,"creation_date":1676538427,"question_id":75469943,"body_markdown":"### Intent\r\nI am trying to create a localized implementation of cloud gaming where a user&#39;s own PC serves as the server. What I am trying to achieve is the last piece stopping me. That is implementing hardware mouse movements. This is where Windows&#39; `SendInput()` comes into play.\r\n\r\n### Issue\r\nThe issue I have right now is that My entire code is based on Kotlin/Java. So, I don&#39;t exactly know how to replicate the functions of `SendInput()` in Java other than to use JNA to access C++ functions. More specifically access `SendInput()`. But, here&#39;s where I&#39;m stuck. My Java code compiles, but doesn&#39;t execute when called.\r\n\r\n### Code to be translated to Java\r\n```c++\r\n#include&lt;windows.h&gt;\r\n#include&lt;iostream&gt;\r\nusing namespace std;\r\n\r\nvoid moveMouse(int x, int y) {\r\n    INPUT input;\r\n    input.type = INPUT_MOUSE;\r\n    input.mi.dx = x;\r\n    input.mi.dy = y;\r\n    input.mi.time = 0;\r\n    input.mi.dwFlags = MOUSEEVENTF_MOVE;\r\n    UINT qwe = SendInput(1, &amp;input, sizeof(input));\r\n    cout&lt;&lt; qwe;\r\n}\r\n```\r\n\r\n### Code in Java using JNA\r\nlook into the comments in the code below.\r\n```java\r\nimport com.sun.jna.platform.win32.User32;\r\nimport com.sun.jna.platform.win32.WinDef.DWORD;\r\nimport com.sun.jna.platform.win32.WinDef.LONG;\r\nimport com.sun.jna.platform.win32.WinUser.INPUT;\r\n\r\n//import static com.sun.jna.Native.sizeof;//compilation error &#39;sizeof(int)&#39; has private access in &#39;com.sun.jna.Native&#39;\r\nimport static com.sun.jna.platform.win32.WinUser.INPUT.INPUT_MOUSE;\r\n\r\npublic class Test {\r\n\r\n    public static void main(String[] a) {\r\n        moveMouse(\r\n                1_000L,\r\n                1_000L\r\n        );\r\n    }\r\n\r\n    /**\r\n     * @param x change required in x co-ordinate\r\n     * @param y change required in y co-ordinate\r\n     *\r\n     */\r\n    public static void moveMouse(Long x, Long y) {\r\n        INPUT input = new INPUT();\r\n        input.type = new DWORD(INPUT_MOUSE);\r\n        input.input.mi.dx = new LONG(x);\r\n        input.input.mi.dy = new LONG(y);\r\n        input.input.mi.time = new DWORD(0);\r\n        input.input.mi.dwFlags = new DWORD(0x0001L);\r\n\r\n        INPUT[] inputArray = {input};\r\n\r\n        DWORD result = User32.INSTANCE.SendInput(new DWORD(1), inputArray, input.size());\r\n\r\n        // sizeof (used below in the commented code) returns the compilation error\r\n        // &#39;sizeof(int)&#39; has private access in &#39;com.sun.jna.Native&#39;\r\n        // I got the idea to use sizeof from another StackOverflow post\r\n//        DWORD result = User32.INSTANCE.SendInput(new DWORD(1), inputArray, sizeof(input));\r\n        System.out.println(&quot;result = &quot; + result.longValue());\r\n        System.out.println(&quot;size = &quot; + input.size());\r\n    }\r\n}\r\n```\r\n\r\n### Output\r\n```none\r\nresult = 1\r\nsize = 40\r\n```\r\n\r\nYou&#39;ll see that in `SendInput`, I&#39;m sending the size of the input variable instead of the array&#39;s size which is what I&#39;m supposed to send. To get the size of array in bytes, I got the idea to use `sizeof`, but, as you have seen above in the comments, you&#39;ll have already understood why I can&#39;t use it as I can&#39;t import a private function.\r\n\r\nThe mouse doesn&#39;t move a pixel when the Java code is executed.","title":"SendInput won&#39;t execute correctly via Java Native Access for mouse movement","body":"<h3>Intent</h3>\n<p>I am trying to create a localized implementation of cloud gaming where a user's own PC serves as the server. What I am trying to achieve is the last piece stopping me. That is implementing hardware mouse movements. This is where Windows' <code>SendInput()</code> comes into play.</p>\n<h3>Issue</h3>\n<p>The issue I have right now is that My entire code is based on Kotlin/Java. So, I don't exactly know how to replicate the functions of <code>SendInput()</code> in Java other than to use JNA to access C++ functions. More specifically access <code>SendInput()</code>. But, here's where I'm stuck. My Java code compiles, but doesn't execute when called.</p>\n<h3>Code to be translated to Java</h3>\n<pre class=\"lang-cpp prettyprint-override\"><code>#include&lt;windows.h&gt;\n#include&lt;iostream&gt;\nusing namespace std;\n\nvoid moveMouse(int x, int y) {\n    INPUT input;\n    input.type = INPUT_MOUSE;\n    input.mi.dx = x;\n    input.mi.dy = y;\n    input.mi.time = 0;\n    input.mi.dwFlags = MOUSEEVENTF_MOVE;\n    UINT qwe = SendInput(1, &amp;input, sizeof(input));\n    cout&lt;&lt; qwe;\n}\n</code></pre>\n<h3>Code in Java using JNA</h3>\n<p>look into the comments in the code below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.sun.jna.platform.win32.User32;\nimport com.sun.jna.platform.win32.WinDef.DWORD;\nimport com.sun.jna.platform.win32.WinDef.LONG;\nimport com.sun.jna.platform.win32.WinUser.INPUT;\n\n//import static com.sun.jna.Native.sizeof;//compilation error 'sizeof(int)' has private access in 'com.sun.jna.Native'\nimport static com.sun.jna.platform.win32.WinUser.INPUT.INPUT_MOUSE;\n\npublic class Test {\n\n    public static void main(String[] a) {\n        moveMouse(\n                1_000L,\n                1_000L\n        );\n    }\n\n    /**\n     * @param x change required in x co-ordinate\n     * @param y change required in y co-ordinate\n     *\n     */\n    public static void moveMouse(Long x, Long y) {\n        INPUT input = new INPUT();\n        input.type = new DWORD(INPUT_MOUSE);\n        input.input.mi.dx = new LONG(x);\n        input.input.mi.dy = new LONG(y);\n        input.input.mi.time = new DWORD(0);\n        input.input.mi.dwFlags = new DWORD(0x0001L);\n\n        INPUT[] inputArray = {input};\n\n        DWORD result = User32.INSTANCE.SendInput(new DWORD(1), inputArray, input.size());\n\n        // sizeof (used below in the commented code) returns the compilation error\n        // 'sizeof(int)' has private access in 'com.sun.jna.Native'\n        // I got the idea to use sizeof from another StackOverflow post\n//        DWORD result = User32.INSTANCE.SendInput(new DWORD(1), inputArray, sizeof(input));\n        System.out.println(&quot;result = &quot; + result.longValue());\n        System.out.println(&quot;size = &quot; + input.size());\n    }\n}\n</code></pre>\n<h3>Output</h3>\n<pre class=\"lang-none prettyprint-override\"><code>result = 1\nsize = 40\n</code></pre>\n<p>You'll see that in <code>SendInput</code>, I'm sending the size of the input variable instead of the array's size which is what I'm supposed to send. To get the size of array in bytes, I got the idea to use <code>sizeof</code>, but, as you have seen above in the comments, you'll have already understood why I can't use it as I can't import a private function.</p>\n<p>The mouse doesn't move a pixel when the Java code is executed.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":7371516,"reputation":839,"user_id":5611537,"accept_rate":52,"display_name":"CodeNinja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676553944,"creation_date":1676553944,"answer_id":75472948,"question_id":75471058,"body_markdown":"It seems that the `id` in `fm.popBackStackImmediate(0, FragmentManager.POP_BACK_STACK_INCLUSIVE);` is not the position of the `BackStackEntry` in the `BackStack` but the `id` of the `BackStackEntry`. This id is increasing never reused so its continuously increasing. \r\n\r\nThe `BackStackEntry` of fragment `A` is always on position `0` in my case so i can simply get its `id` like:\r\n`Integer $homeFragmentBackStackId = fm.getBackStackEntryAt(0).getId();`\r\n\r\nAnd than do:\r\n`fm.popBackStackImmediate($homeFragmentBacStackId,FragmentManager.POP_BACK_STACK_INCLUSIVE);`","title":"`getParentFragmentManager().popBackStackImmediate(0, FragmentManager.POP_BACK_STACK_INCLUSIVE);` only works once","body":"<p>It seems that the <code>id</code> in <code>fm.popBackStackImmediate(0, FragmentManager.POP_BACK_STACK_INCLUSIVE);</code> is not the position of the <code>BackStackEntry</code> in the <code>BackStack</code> but the <code>id</code> of the <code>BackStackEntry</code>. This id is increasing never reused so its continuously increasing.</p>\n<p>The <code>BackStackEntry</code> of fragment <code>A</code> is always on position <code>0</code> in my case so i can simply get its <code>id</code> like:\n<code>Integer $homeFragmentBackStackId = fm.getBackStackEntryAt(0).getId();</code></p>\n<p>And than do:\n<code>fm.popBackStackImmediate($homeFragmentBacStackId,FragmentManager.POP_BACK_STACK_INCLUSIVE);</code></p>\n"}],"owner":{"account_id":7371516,"reputation":839,"user_id":5611537,"accept_rate":52,"display_name":"CodeNinja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676553944,"creation_date":1676543981,"question_id":75471058,"body_markdown":"First of all, I&#39;m pretty new to Android development.\r\n\r\nI&#39;m building an simple Android app with 1 Activity which contains 3 fragments.\r\nLets name the fragments `A`, `B` and `C`. Each fragment contains some input fields and a &quot;next&quot; button. The last fragment contains a &quot;finish&quot; button which sends the data (collected in the fragments) to an API and navigates to fragment `A` again to start over again.\r\n\r\nIn fragment `A` and `B`, i navigate to the next fragment by calling this function:\r\n```\r\n    private void replaceFragment(Fragment someFragment) {\r\n        FragmentTransaction transaction = getParentFragmentManager().beginTransaction();\r\n        transaction.replace(R.id.nav_host_fragment_content_main, someFragment);\r\n        transaction.addToBackStack(null);\r\n        transaction.commit();\r\n    }\r\n```\r\nThis works fine so far. In fragment `C` i post the collected data to the API and call this code afterwards:\r\n``` \r\n        FragmentManager fm = getParentFragmentManager();\r\n        fm.popBackStackImmediate(0, FragmentManager.POP_BACK_STACK_INCLUSIVE);\r\n```\r\nThis works perfect but only once. After i&#39;m &quot;redirected&quot; from fragment `C` to fragment `A` and go again via `B` to `C` and click `Finish` in fragment `C`, the mentioned code is triggered but I&#39;m not redirected to `A` anymore. \r\n\r\nWhen i kill the app and restart the app, it works once again. What I&#39;m doing wrong?\r\n\r\n--------------------------------------\r\n\r\n**Update**\r\nDuring debugging i can see that the `BackStack` is a list with `BackStackEntries`. This list always contains 2 entries when I&#39;m in frament `C` and i thought `fm.popBackStackImmediate(0,...` &quot;redirects&quot; to entry 0 of the `BackStack`. Now i notice that each `BackStackEntry` has a property `mIndex` which is increasing all the time. Probably is the `id` parameter in the `popBackStackImmediate` not the position in the `BackStack` but refers to the `BackStackItem` its `mIndex`.\r\n\r\nIs this true and if yes, how can i get the ID of the correct back stack item in this case?","title":"`getParentFragmentManager().popBackStackImmediate(0, FragmentManager.POP_BACK_STACK_INCLUSIVE);` only works once","body":"<p>First of all, I'm pretty new to Android development.</p>\n<p>I'm building an simple Android app with 1 Activity which contains 3 fragments.\nLets name the fragments <code>A</code>, <code>B</code> and <code>C</code>. Each fragment contains some input fields and a &quot;next&quot; button. The last fragment contains a &quot;finish&quot; button which sends the data (collected in the fragments) to an API and navigates to fragment <code>A</code> again to start over again.</p>\n<p>In fragment <code>A</code> and <code>B</code>, i navigate to the next fragment by calling this function:</p>\n<pre><code>    private void replaceFragment(Fragment someFragment) {\n        FragmentTransaction transaction = getParentFragmentManager().beginTransaction();\n        transaction.replace(R.id.nav_host_fragment_content_main, someFragment);\n        transaction.addToBackStack(null);\n        transaction.commit();\n    }\n</code></pre>\n<p>This works fine so far. In fragment <code>C</code> i post the collected data to the API and call this code afterwards:</p>\n<pre><code>        FragmentManager fm = getParentFragmentManager();\n        fm.popBackStackImmediate(0, FragmentManager.POP_BACK_STACK_INCLUSIVE);\n</code></pre>\n<p>This works perfect but only once. After i'm &quot;redirected&quot; from fragment <code>C</code> to fragment <code>A</code> and go again via <code>B</code> to <code>C</code> and click <code>Finish</code> in fragment <code>C</code>, the mentioned code is triggered but I'm not redirected to <code>A</code> anymore.</p>\n<p>When i kill the app and restart the app, it works once again. What I'm doing wrong?</p>\n<hr />\n<p><strong>Update</strong>\nDuring debugging i can see that the <code>BackStack</code> is a list with <code>BackStackEntries</code>. This list always contains 2 entries when I'm in frament <code>C</code> and i thought <code>fm.popBackStackImmediate(0,...</code> &quot;redirects&quot; to entry 0 of the <code>BackStack</code>. Now i notice that each <code>BackStackEntry</code> has a property <code>mIndex</code> which is increasing all the time. Probably is the <code>id</code> parameter in the <code>popBackStackImmediate</code> not the position in the <code>BackStack</code> but refers to the <code>BackStackItem</code> its <code>mIndex</code>.</p>\n<p>Is this true and if yes, how can i get the ID of the correct back stack item in this case?</p>\n"},{"tags":["java","windows","macos","spring-boot-actuator"],"answers":[{"tags":[],"owner":{"account_id":7177970,"reputation":31,"user_id":8579212,"display_name":"A Moharana"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1608106100,"creation_date":1608105563,"answer_id":65319307,"question_id":65076804,"body_markdown":"Added &quot;micrometer-registry-jmx&quot; dependency explicitly","title":"Spring actuator metrics not visible from JMX console from 2.2.0 release onwards","body":"<p>Added &quot;micrometer-registry-jmx&quot; dependency explicitly</p>\n"},{"tags":[],"owner":{"account_id":16872647,"reputation":120,"user_id":12200835,"display_name":"Mohammed Ashraf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676553675,"creation_date":1676553675,"answer_id":75472899,"question_id":65076804,"body_markdown":"add this lib in pom.xml and metrics will be exposed to JMX in a formatted way, you can see a domain in jconsole called metrics you will find your metrics under it.\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n            &lt;artifactId&gt;micrometer-registry-jmx&lt;/artifactId&gt;\r\n            &lt;version&gt;1.10.4&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"Spring actuator metrics not visible from JMX console from 2.2.0 release onwards","body":"<p>add this lib in pom.xml and metrics will be exposed to JMX in a formatted way, you can see a domain in jconsole called metrics you will find your metrics under it.</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n        &lt;artifactId&gt;micrometer-registry-jmx&lt;/artifactId&gt;\n        &lt;version&gt;1.10.4&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":7177970,"reputation":31,"user_id":8579212,"display_name":"A Moharana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":676,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1676553675,"creation_date":1606751566,"question_id":65076804,"body_markdown":"The simplest spring boot app created using start.spring.io, without no further changes to it. 3 dependencies are added `spring-boot-starter-actuator, spring-boot-starter-web and spring-boot-devtools`.\r\n\r\nSpring Boot 2.4.0, 2.2.0 - org.springframework.boot metrics not visible\r\n\r\nSpring Boot 2.1.0 or previous release - works\r\n\r\nBehavior is same in jdk 11 and 15, macOS Catalina and windows.\r\n\r\n\r\n[&#39;/actuator&#39; path is accessible][1]\r\n\r\n\r\n[But org.springframework.boot metrics not visible from JConsole or VisualVM when connected][2]\r\n\r\nWhat could it be for for significant change of behavior?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LZUb1.png\r\n  [2]: https://i.stack.imgur.com/TJKbJ.png","title":"Spring actuator metrics not visible from JMX console from 2.2.0 release onwards","body":"<p>The simplest spring boot app created using start.spring.io, without no further changes to it. 3 dependencies are added <code>spring-boot-starter-actuator, spring-boot-starter-web and spring-boot-devtools</code>.</p>\n<p>Spring Boot 2.4.0, 2.2.0 - org.springframework.boot metrics not visible</p>\n<p>Spring Boot 2.1.0 or previous release - works</p>\n<p>Behavior is same in jdk 11 and 15, macOS Catalina and windows.</p>\n<p><a href=\"https://i.stack.imgur.com/LZUb1.png\" rel=\"nofollow noreferrer\">'/actuator' path is accessible</a></p>\n<p><a href=\"https://i.stack.imgur.com/TJKbJ.png\" rel=\"nofollow noreferrer\">But org.springframework.boot metrics not visible from JConsole or VisualVM when connected</a></p>\n<p>What could it be for for significant change of behavior?</p>\n"},{"tags":["java","for-loop"],"comments":[{"owner":{"account_id":3003673,"reputation":1100,"user_id":2548635,"accept_rate":78,"display_name":"ruthless"},"score":0,"creation_date":1417794148,"post_id":27319475,"comment_id":43098311,"body_markdown":"I don&#39;t think you can use the enhanced for loop since the block inside your for loop depends on the indices of the workers that are next to each other and an enhanced for loop simply has access to a single worker in each iteration.","body":"I don&#39;t think you can use the enhanced for loop since the block inside your for loop depends on the indices of the workers that are next to each other and an enhanced for loop simply has access to a single worker in each iteration."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1417794185,"post_id":27319475,"comment_id":43098335,"body_markdown":"You can&#39;t as you are modifying the list, and not processing the last item, and you need the index.","body":"You can&#39;t as you are modifying the list, and not processing the last item, and you need the index."},{"owner":{"account_id":162901,"reputation":10387,"user_id":384674,"accept_rate":69,"display_name":"Betlista"},"score":0,"creation_date":1417794213,"post_id":27319475,"comment_id":43098358,"body_markdown":"@pquest - you can use Google to find out - http://stackoverflow.com/questions/11685305/what-is-the-syntax-of-enhanced-for-loop-in-java","body":"@pquest - you can use Google to find out - <a href=\"http://stackoverflow.com/questions/11685305/what-is-the-syntax-of-enhanced-for-loop-in-java\" title=\"what is the syntax of enhanced for loop in java\">stackoverflow.com/questions/11685305/&hellip;</a>"},{"owner":{"account_id":3647119,"reputation":6259,"user_id":3040064,"accept_rate":59,"display_name":"Jason Hu"},"score":1,"creation_date":1417794294,"post_id":27319475,"comment_id":43098418,"body_markdown":"you can make an improvement by deleting `.clone()` there though. btw, u are not really sorting here.","body":"you can make an improvement by deleting <code>.clone()</code> there though. btw, u are not really sorting here."},{"owner":{"account_id":162901,"reputation":10387,"user_id":384674,"accept_rate":69,"display_name":"Betlista"},"score":0,"creation_date":1417794409,"post_id":27319475,"comment_id":43098483,"body_markdown":"btw: this is sort in O(n)? :-D From the code it seems, that Worker implements `Comparable`, why not to use just `Collections.sort()` ?","body":"btw: this is sort in O(n)? :-D From the code it seems, that Worker implements <code>Comparable</code>, why not to use just <code>Collections.sort()</code> ?"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1417794528,"post_id":27319475,"comment_id":43098558,"body_markdown":"Don&#39;t. Enhanced for loop is meant to be used for read only purposes, and since you want to update collection you are iterating on you would get `ConcurrentModificationException`. Also `_workers.set` needs information of index of data you want to use (replace) so you still need some `i`.","body":"Don&#39;t. Enhanced for loop is meant to be used for read only purposes, and since you want to update collection you are iterating on you would get <code>ConcurrentModificationException</code>. Also <code>_workers.set</code> needs information of index of data you want to use (replace) so you still need some <code>i</code>."}],"answers":[{"tags":[],"owner":{"account_id":2510282,"reputation":12462,"user_id":2182928,"accept_rate":97,"display_name":"Rudi Kershaw"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1417795302,"creation_date":1417794517,"answer_id":27319665,"question_id":27319475,"body_markdown":"Although this probably isn&#39;t the answer you are looking for, my opinion is that even if you could rewrite this method to use an enhanced for loop, **you shouldn&#39;t**.\r\n\r\nYour current method is fairly clear in it&#39;s intention and an enhance for loop will not be able to clearly access `Worker` instances at specific indexes. Chances are you will likely also run into issues with `ConcurrentModificationException` if you try to make changes during the iteration. On top of that enhanced for loops are marginally (you could argue insignificantly) slower.\r\n\r\nEssentially, an enhanced for loop is not well suited to your requirement.","title":"How can I replace the for loop with enhanced for loop in the following code?","body":"<p>Although this probably isn't the answer you are looking for, my opinion is that even if you could rewrite this method to use an enhanced for loop, <strong>you shouldn't</strong>.</p>\n\n<p>Your current method is fairly clear in it's intention and an enhance for loop will not be able to clearly access <code>Worker</code> instances at specific indexes. Chances are you will likely also run into issues with <code>ConcurrentModificationException</code> if you try to make changes during the iteration. On top of that enhanced for loops are marginally (you could argue insignificantly) slower.</p>\n\n<p>Essentially, an enhanced for loop is not well suited to your requirement.</p>\n"},{"tags":[],"owner":{"account_id":4241425,"reputation":751,"user_id":3471177,"display_name":"RockOnRockOut"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1417794548,"creation_date":1417794548,"answer_id":27319676,"question_id":27319475,"body_markdown":"I think what you&#39;re looking for is this:\r\n\r\n    for(Worker w : _workers)\r\n\r\nwhere you will use `w` instead of `_workers.get(i)` and `_workers.get(_workers.indexOf(w) + 1)` instead of `_workers.get(i+1)`. As you can see, it will be quite ugly since you have to use `indexOf` in order to access the next element in the list and also check whether `w` is the last element of your list (because `_workers.get(_workers.indexOf(w) + 1)` will throw an error in that case). One other thing you need to consider - does your ArrayList contain duplicates? If it does, then `indexOf` will always return the first value it finds.\r\n\r\nI suggest you stick with an ordinary `for-loop` in this case.","title":"How can I replace the for loop with enhanced for loop in the following code?","body":"<p>I think what you're looking for is this:</p>\n\n<pre><code>for(Worker w : _workers)\n</code></pre>\n\n<p>where you will use <code>w</code> instead of <code>_workers.get(i)</code> and <code>_workers.get(_workers.indexOf(w) + 1)</code> instead of <code>_workers.get(i+1)</code>. As you can see, it will be quite ugly since you have to use <code>indexOf</code> in order to access the next element in the list and also check whether <code>w</code> is the last element of your list (because <code>_workers.get(_workers.indexOf(w) + 1)</code> will throw an error in that case). One other thing you need to consider - does your ArrayList contain duplicates? If it does, then <code>indexOf</code> will always return the first value it finds.</p>\n\n<p>I suggest you stick with an ordinary <code>for-loop</code> in this case.</p>\n"},{"tags":[],"owner":{"account_id":5389750,"reputation":820,"user_id":4292644,"display_name":"MiiinimalLogic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1417794721,"creation_date":1417794721,"answer_id":27319741,"question_id":27319475,"body_markdown":"Its pretty gross, but it should work.  I shifted the indexes back, so now the `i+1` is the current Worker object `w` and then I had to save the last worker in `previous`.\r\n\r\n    ArrayList&lt;Worker&gt; workersSorted= sort(workers);\r\n        System.out.println(workersSorted.toString());}\r\n\r\n        public static ArrayList&lt;Worker&gt; sort(ArrayList&lt;Worker&gt; _workers) throws        CloneNotSupportedException{\r\n\r\n            Worker temp;\r\n            Worker previous;\r\n            int prevIdx=-1;\r\n            ArrayList&lt;Worker&gt; wNew=new ArrayList&lt;Worker&gt;;\r\n\r\n            for (Worker w: _workers){\r\n \r\n                if (previous !=null &amp;&amp; (previous).compareTo(w)==-1){\r\n                    temp=(Worker) w.clone();\r\n                    wNew.set(prevIdx, w);\r\n                    wNew.add( temp);    \r\n                }\r\n             previous=w;\r\n             prevIdx++;\r\n            }\r\n            return _workers;\r\n        }","title":"How can I replace the for loop with enhanced for loop in the following code?","body":"<p>Its pretty gross, but it should work.  I shifted the indexes back, so now the <code>i+1</code> is the current Worker object <code>w</code> and then I had to save the last worker in <code>previous</code>.</p>\n\n<pre><code>ArrayList&lt;Worker&gt; workersSorted= sort(workers);\n    System.out.println(workersSorted.toString());}\n\n    public static ArrayList&lt;Worker&gt; sort(ArrayList&lt;Worker&gt; _workers) throws        CloneNotSupportedException{\n\n        Worker temp;\n        Worker previous;\n        int prevIdx=-1;\n        ArrayList&lt;Worker&gt; wNew=new ArrayList&lt;Worker&gt;;\n\n        for (Worker w: _workers){\n\n            if (previous !=null &amp;&amp; (previous).compareTo(w)==-1){\n                temp=(Worker) w.clone();\n                wNew.set(prevIdx, w);\n                wNew.add( temp);    \n            }\n         previous=w;\n         prevIdx++;\n        }\n        return _workers;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2188285,"reputation":579,"user_id":1936119,"display_name":"Robert Quinn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676553622,"creation_date":1676553622,"answer_id":75472885,"question_id":27319475,"body_markdown":"The only enhancement I would do to your loop is before the loop assign _workers.size to a variable.  Use the variable instead which removes the size check on every iteration.","title":"How can I replace the for loop with enhanced for loop in the following code?","body":"<p>The only enhancement I would do to your loop is before the loop assign _workers.size to a variable.  Use the variable instead which removes the size check on every iteration.</p>\n"}],"owner":{"account_id":5260998,"reputation":65,"user_id":4202544,"accept_rate":50,"display_name":"Raya Rateb"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":410,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":4,"score":0,"last_activity_date":1676553622,"creation_date":1417793949,"question_id":27319475,"body_markdown":"I have this code for sorting an arraylist\r\n\r\n\t    ArrayList&lt;Worker&gt; workersSorted= sort(workers);\r\n\t    System.out.println(workersSorted.toString());\r\n    }\r\n\r\n\tpublic static ArrayList&lt;Worker&gt; sort(ArrayList&lt;Worker&gt; _workers) throws CloneNotSupportedException {\r\n\t\tWorker temp;\r\n\t\tfor (int i = 0; i &lt; _workers.size() - 1; i++) {\r\n\t\t\tif ((_workers.get(i)).compareTo(_workers.get(i+1)) == -1){\r\n\t\t\t\ttemp = (Worker) _workers.get(i).clone();\r\n\t\t\t\t_workers.set(i, _workers.get(i+1));\r\n\t\t\t\t_workers.set(i+1, temp);\t\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn _workers;\r\n\t}\r\n\r\nHow may I rewrite the code using enhanced for loop?\r\n","title":"How can I replace the for loop with enhanced for loop in the following code?","body":"<p>I have this code for sorting an arraylist</p>\n\n<pre><code>    ArrayList&lt;Worker&gt; workersSorted= sort(workers);\n    System.out.println(workersSorted.toString());\n}\n\npublic static ArrayList&lt;Worker&gt; sort(ArrayList&lt;Worker&gt; _workers) throws CloneNotSupportedException {\n    Worker temp;\n    for (int i = 0; i &lt; _workers.size() - 1; i++) {\n        if ((_workers.get(i)).compareTo(_workers.get(i+1)) == -1){\n            temp = (Worker) _workers.get(i).clone();\n            _workers.set(i, _workers.get(i+1));\n            _workers.set(i+1, temp);    \n        }\n    }\n    return _workers;\n}\n</code></pre>\n\n<p>How may I rewrite the code using enhanced for loop?</p>\n"},{"tags":["java","jakarta-ee","weblogic","ear"],"answers":[{"tags":[],"owner":{"account_id":16539707,"reputation":955,"user_id":11961036,"display_name":"Marco Frag Delle Monache"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676553618,"creation_date":1676553618,"answer_id":75472883,"question_id":75399345,"body_markdown":"We still have to understand if it&#39;s like this by choice, but the `WAR` file inside the `EAR` actually didn&#39;t have the `properties` file. It was sufficient opening it with `WinRAR`, put the file in the right path and re-deploy it. \r\n\r\nSo, just to say, WebLogic had no missing configurations. The downloadable development package seems to have everything configured.\r\n","title":"FileNotFoundException when deploying in local Oracle WebLogic","body":"<p>We still have to understand if it's like this by choice, but the <code>WAR</code> file inside the <code>EAR</code> actually didn't have the <code>properties</code> file. It was sufficient opening it with <code>WinRAR</code>, put the file in the right path and re-deploy it.</p>\n<p>So, just to say, WebLogic had no missing configurations. The downloadable development package seems to have everything configured.</p>\n"}],"owner":{"account_id":16539707,"reputation":955,"user_id":11961036,"display_name":"Marco Frag Delle Monache"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75472883,"answer_count":1,"score":0,"last_activity_date":1676553618,"creation_date":1675949542,"question_id":75399345,"body_markdown":"I need to create a local environment to deploy an EAR, which is currently in production.\r\n\r\nBy documentation, it needs:\r\n\r\n - Java EE 7\r\n - Oracle WebLogic 12.1.2\r\n - Maven\r\n\r\nInstalled everything fine and configured, but this is my first time with Java Enterprise and WebLogic. I downloaded WebLogic from the official website (the 12.1.3 version, which is the only one available for a development installation). Executed all scripts to create a local domain, realm and server. It starts fine.\r\n\r\nSo, I proceeded generating the EAR within the source code, using `mvn ear:ear` and created the package. \r\n\r\nConnected to `localhost:7001/console` and logged in, went into the Deployments Control page and clicked in `install` button. Browsed the EAR and deployed without changing any default configuration. It leads me to an error:\r\n\r\n    java.io.FileNotFoundException: class path resource [env.properties] cannot be opened because it does not exist\r\n\r\nI thought it was a file missing inside the EAR package, but I opened it with both Eclipse and WinRAR and the `env.properties` file is present, in the right path. So I tried deploying the EAR package that is currently in production, but it still gives this error.\r\n\r\nAt this point, I think it&#39;s some WebLogic configurations I missed. Am I right? Where should I eventually check?\r\n\r\nI can NOT share any code snippet, I&#39;m sorry.\r\n\r\n ","title":"FileNotFoundException when deploying in local Oracle WebLogic","body":"<p>I need to create a local environment to deploy an EAR, which is currently in production.</p>\n<p>By documentation, it needs:</p>\n<ul>\n<li>Java EE 7</li>\n<li>Oracle WebLogic 12.1.2</li>\n<li>Maven</li>\n</ul>\n<p>Installed everything fine and configured, but this is my first time with Java Enterprise and WebLogic. I downloaded WebLogic from the official website (the 12.1.3 version, which is the only one available for a development installation). Executed all scripts to create a local domain, realm and server. It starts fine.</p>\n<p>So, I proceeded generating the EAR within the source code, using <code>mvn ear:ear</code> and created the package.</p>\n<p>Connected to <code>localhost:7001/console</code> and logged in, went into the Deployments Control page and clicked in <code>install</code> button. Browsed the EAR and deployed without changing any default configuration. It leads me to an error:</p>\n<pre><code>java.io.FileNotFoundException: class path resource [env.properties] cannot be opened because it does not exist\n</code></pre>\n<p>I thought it was a file missing inside the EAR package, but I opened it with both Eclipse and WinRAR and the <code>env.properties</code> file is present, in the right path. So I tried deploying the EAR package that is currently in production, but it still gives this error.</p>\n<p>At this point, I think it's some WebLogic configurations I missed. Am I right? Where should I eventually check?</p>\n<p>I can NOT share any code snippet, I'm sorry.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1676549549,"post_id":75471997,"comment_id":133161390,"body_markdown":"This might be better suited for https://codereview.stackexchange.com/ but in general this would be O(m * n) complexity since you&#39;re iterating over the other list for each element of the first. Building a set first and accessing that would reduce that to O(m * log(n)). But why not store the events in a set in the first place? Can the lists contain duplicates? Does order matter? (Note: `LinkedHashSet` gives you set properties with insertion order iteration). - If the events are unique but considered duplicate based on their path then using a map path-&gt;event instead of a set might help.","body":"This might be better suited for <a href=\"https://codereview.stackexchange.com/\">codereview.stackexchange.com</a> but in general this would be O(m * n) complexity since you&#39;re iterating over the other list for each element of the first. Building a set first and accessing that would reduce that to O(m * log(n)). But why not store the events in a set in the first place? Can the lists contain duplicates? Does order matter? (Note: <code>LinkedHashSet</code> gives you set properties with insertion order iteration). - If the events are unique but considered duplicate based on their path then using a map path-&gt;event instead of a set might help."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":2,"creation_date":1676549563,"post_id":75471997,"comment_id":133161396,"body_markdown":"Looks like it could be simplified by using [removeIf()](https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#removeIf-java.util.function.Predicate-) with the same predicate you are currently using to filter.","body":"Looks like it could be simplified by using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#removeIf-java.util.function.Predicate-\" rel=\"nofollow noreferrer\">removeIf()</a> with the same predicate you are currently using to filter."},{"owner":{"account_id":25801861,"reputation":83,"user_id":19544129,"display_name":"scura s"},"score":0,"creation_date":1676550178,"post_id":75471997,"comment_id":133161593,"body_markdown":"Thanks @Thomas. Thease are two distinct lists of events. I am trying to remove event objects with the same path.","body":"Thanks @Thomas. Thease are two distinct lists of events. I am trying to remove event objects with the same path."},{"owner":{"account_id":25801861,"reputation":83,"user_id":19544129,"display_name":"scura s"},"score":0,"creation_date":1676550453,"post_id":75471997,"comment_id":133161680,"body_markdown":"Thanks @Chaosfire I was able to simplify according to your comment:\n`for (EventTeaserModel premiumEvent : premiumEventList) {\n            events.removeIf(event -&gt; event.getResource().getPath().equals(premiumEvent.getResource().getPath()));\n        }`","body":"Thanks @Chaosfire I was able to simplify according to your comment: <code>for (EventTeaserModel premiumEvent : premiumEventList) {             events.removeIf(event -&gt; event.getResource().getPath().equals(premiumEvent.getResourc&zwnj;&#8203;e().getPath()));         }</code>"}],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676550865,"creation_date":1676550302,"answer_id":75472230,"question_id":75471997,"body_markdown":"You can do `events.removeAll(premiumEventList);` `removeAll()` is a method of interface `List`. However you will need to override `hashcode()` and `equals()` for your `EventTeaserModel` class so it identifies equal Objects in the way that you want them to be compared.","title":"Remove objects from a List based on their path","body":"<p>You can do <code>events.removeAll(premiumEventList);</code> <code>removeAll()</code> is a method of interface <code>List</code>. However you will need to override <code>hashcode()</code> and <code>equals()</code> for your <code>EventTeaserModel</code> class so it identifies equal Objects in the way that you want them to be compared.</p>\n"},{"tags":[],"owner":{"account_id":5168089,"reputation":26671,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676551792,"creation_date":1676550708,"answer_id":75472313,"question_id":75471997,"body_markdown":"This solution is kinda similar to yours conceptually, but it looks a bit cleaner.\r\nYou can first find all paths in `premiumEventList`, then use `removeIf` on `events` for each of the paths. Like this:\r\n\r\n```java\r\nprivate void removePremiumEventsFromEvents() {\r\n    premiumEventList.stream()\r\n        .map(EventTeaserModel::getResource)\r\n        .map(Resource::getPath)\r\n        .forEach(path -&gt; events.removeIf(event -&gt; \r\n            event.getResource().getPath().equals(path)));\r\n}\r\n```\r\n\r\nPersonally however, I like to keep my lists unmodifiable/immutable. So I would instead create a new `events` list with the elements filtered. Like this:\r\n\r\n```java\r\nprivate void removePremiumEventsFromEvents() {\r\n    final Set&lt;String&gt; paths = premiumEventList.stream()\r\n        .map(EventTeaserModel::getResource)\r\n        .map(Resource::getPath)\r\n        .collect(Collectors.toSet());\r\n\r\n    // Or preferrably, return the new list.\r\n    events = events.stream()\r\n        .filter(event -&gt; !paths.contains(event.getResource().getPath()))\r\n        .collect(Collectors.toList());\r\n}\r\n```","title":"Remove objects from a List based on their path","body":"<p>This solution is kinda similar to yours conceptually, but it looks a bit cleaner.\nYou can first find all paths in <code>premiumEventList</code>, then use <code>removeIf</code> on <code>events</code> for each of the paths. Like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void removePremiumEventsFromEvents() {\n    premiumEventList.stream()\n        .map(EventTeaserModel::getResource)\n        .map(Resource::getPath)\n        .forEach(path -&gt; events.removeIf(event -&gt; \n            event.getResource().getPath().equals(path)));\n}\n</code></pre>\n<p>Personally however, I like to keep my lists unmodifiable/immutable. So I would instead create a new <code>events</code> list with the elements filtered. Like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void removePremiumEventsFromEvents() {\n    final Set&lt;String&gt; paths = premiumEventList.stream()\n        .map(EventTeaserModel::getResource)\n        .map(Resource::getPath)\n        .collect(Collectors.toSet());\n\n    // Or preferrably, return the new list.\n    events = events.stream()\n        .filter(event -&gt; !paths.contains(event.getResource().getPath()))\n        .collect(Collectors.toList());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676551431,"creation_date":1676551126,"answer_id":75472402,"question_id":75471997,"body_markdown":"I&#39;ll expand on my comment: if both lists can be large a complexity of O(n * m) could become problematic. Thus, using an intermediate set might help:\r\n\r\n    private void removePremiumEventsFromEvents(List&lt;EventTeaserModel&gt; events, List&lt;EventTeaserModel&gt; premiumEvents) {           \r\n      //Build the map of premium event paths - O(n)\r\n      Set&lt;String&gt; pePaths = premiumEvents.stream()\r\n              .map(event -&gt; event.getResource().getPath())\r\n              .collect(Collectors.toSet());\r\n\r\n      //this is an in-place removal and thus we can&#39;t use a stream here\r\n      //if you&#39;d want to create a copy of the list you could use:\r\n      // events.stream().filter(e -&gt; !pePaths.contains(e.getResource().getPath())).toList()\r\n      Iterator itr = events.iterator();\r\n      while(itr.hasNext()) {\r\n        //Iterate over events - O(m)\r\n        EventTeaserModel event = itr.next();\r\n \r\n        //check if path is premium - O(log(n))\r\n        if( pePaths.contains(event.getResource().getPath()) {\r\n          itr.remove();\r\n        }\r\n      }\r\n \r\n      //Overall complexity: O(n + m * log(n)) -&gt; O(m * log(n))\r\n    }","title":"Remove objects from a List based on their path","body":"<p>I'll expand on my comment: if both lists can be large a complexity of O(n * m) could become problematic. Thus, using an intermediate set might help:</p>\n<pre><code>private void removePremiumEventsFromEvents(List&lt;EventTeaserModel&gt; events, List&lt;EventTeaserModel&gt; premiumEvents) {           \n  //Build the map of premium event paths - O(n)\n  Set&lt;String&gt; pePaths = premiumEvents.stream()\n          .map(event -&gt; event.getResource().getPath())\n          .collect(Collectors.toSet());\n\n  //this is an in-place removal and thus we can't use a stream here\n  //if you'd want to create a copy of the list you could use:\n  // events.stream().filter(e -&gt; !pePaths.contains(e.getResource().getPath())).toList()\n  Iterator itr = events.iterator();\n  while(itr.hasNext()) {\n    //Iterate over events - O(m)\n    EventTeaserModel event = itr.next();\n\n    //check if path is premium - O(log(n))\n    if( pePaths.contains(event.getResource().getPath()) {\n      itr.remove();\n    }\n  }\n\n  //Overall complexity: O(n + m * log(n)) -&gt; O(m * log(n))\n}\n</code></pre>\n"}],"owner":{"account_id":25801861,"reputation":83,"user_id":19544129,"display_name":"scura s"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75472313,"answer_count":3,"score":0,"last_activity_date":1676553575,"creation_date":1676549079,"question_id":75471997,"body_markdown":"I have two lists:   \r\n\r\n    private final List&lt;EventTeaserModel&gt; events = new ArrayList&lt;&gt;();\r\n    private final List&lt;EventTeaserModel&gt; premiumEventList = new ArrayList&lt;&gt;();\r\n\r\nThe use case for my method `removePremiumEventsFromEvents()` is to remove premiumEventList `objects` from the events List (remove objects with the same path).\r\n\r\nHere is what I tried and it works. Is there a better way to do it in Java?\r\n\r\n \r\n    private void removePremiumEventsFromEvents() {\r\n                for (EventTeaserModel premiumEvent: premiumEventList) {\r\n                    List&lt;EventTeaserModel&gt; findDuplicatedEvent = events.stream()\r\n                            .filter(event -&gt; event.getResource().getPath().equals(premiumEvent.getResource().getPath()))\r\n                            .collect(Collectors.toList());\r\n                    events.removeAll(findDuplicatedEvent);\r\n                }\r\n            }\r\n\r\nThanks to @Chaosfire @Thomas @marstran\r\n I was able to improve my method:\r\n \r\n\r\n    private void removePremiumEventsFromEvents() {\r\n            final Set&lt;String&gt; paths = premiumEventList.stream()\r\n                    .map(EventTeaserModel::getResource)\r\n                    .map(Resource::getPath)\r\n                    .collect(Collectors.toSet());\r\n    \r\n            List&lt;EventTeaserModel&gt; duplicatedEvents = events.stream()\r\n                    .filter(event -&gt; paths.contains(event.getResource().getPath()))\r\n                    .collect(Collectors.toList());\r\n    \r\n            events.removeAll(duplicatedEvents);\r\n        }","title":"Remove objects from a List based on their path","body":"<p>I have two lists:</p>\n<pre><code>private final List&lt;EventTeaserModel&gt; events = new ArrayList&lt;&gt;();\nprivate final List&lt;EventTeaserModel&gt; premiumEventList = new ArrayList&lt;&gt;();\n</code></pre>\n<p>The use case for my method <code>removePremiumEventsFromEvents()</code> is to remove premiumEventList <code>objects</code> from the events List (remove objects with the same path).</p>\n<p>Here is what I tried and it works. Is there a better way to do it in Java?</p>\n<pre><code>private void removePremiumEventsFromEvents() {\n            for (EventTeaserModel premiumEvent: premiumEventList) {\n                List&lt;EventTeaserModel&gt; findDuplicatedEvent = events.stream()\n                        .filter(event -&gt; event.getResource().getPath().equals(premiumEvent.getResource().getPath()))\n                        .collect(Collectors.toList());\n                events.removeAll(findDuplicatedEvent);\n            }\n        }\n</code></pre>\n<p>Thanks to @Chaosfire @Thomas @marstran\nI was able to improve my method:</p>\n<pre><code>private void removePremiumEventsFromEvents() {\n        final Set&lt;String&gt; paths = premiumEventList.stream()\n                .map(EventTeaserModel::getResource)\n                .map(Resource::getPath)\n                .collect(Collectors.toSet());\n\n        List&lt;EventTeaserModel&gt; duplicatedEvents = events.stream()\n                .filter(event -&gt; paths.contains(event.getResource().getPath()))\n                .collect(Collectors.toList());\n\n        events.removeAll(duplicatedEvents);\n    }\n</code></pre>\n"},{"tags":["java","amazon-s3","http-headers","httpurlconnection"],"comments":[{"owner":{"account_id":2073393,"reputation":2457,"user_id":1847378,"display_name":"AndrewL"},"score":0,"creation_date":1676466293,"post_id":75458102,"comment_id":133141513,"body_markdown":"My hunch is that you need to close the connection&#39;s OutputStream, but I see you do indeed call `wr.close()` was that included in the code when you don&#39;t call `getResponseCode()` ?  Refer to this Tutorial: https://www.baeldung.com/httpurlconnection-post which uses the try-with-resources construct for safer programming","body":"My hunch is that you need to close the connection&#39;s OutputStream, but I see you do indeed call <code>wr.close()</code> was that included in the code when you don&#39;t call <code>getResponseCode()</code> ?  Refer to this Tutorial: <a href=\"https://www.baeldung.com/httpurlconnection-post\" rel=\"nofollow noreferrer\">baeldung.com/httpurlconnection-post</a> which uses the try-with-resources construct for safer programming"},{"owner":{"account_id":5781990,"reputation":1,"user_id":4562319,"display_name":"Uma"},"score":0,"creation_date":1676546905,"post_id":75458102,"comment_id":133160680,"body_markdown":"Yes, wr.close() was included always, I tried commenting getResponseCode() line only. I will check that tutorial. Thanks for your reply.","body":"Yes, wr.close() was included always, I tried commenting getResponseCode() line only. I will check that tutorial. Thanks for your reply."}],"owner":{"account_id":5781990,"reputation":1,"user_id":4562319,"display_name":"Uma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676553253,"creation_date":1676455186,"question_id":75458102,"body_markdown":"I am writing a file into AWS S3 bucket using HTTPURLConnection. This connection&#39;s outputstream-write command works only if it is followed by getInputStream or getResponseCode. Please help me to understand this. Is it required to read responseCode?\r\n\r\n\r\n           URL endpointUrl = new URL(&quot;muURL&quot;);\r\n           HttpURLConnection connection = (HttpURLConnection) endpointUrl.openConnection();\r\n\t   connection.setRequestMethod(&quot;PUT&quot;);\r\n\t\t            \r\n\t\tconnection.setRequestProperty(&quot;Authorization&quot;, authorization);\r\n\t\tconnection.setRequestProperty(&quot;x-amz-content-sha256&quot;, hashPayload);\r\n\t\tconnection.setRequestProperty(&quot;X-Amz-Date&quot;, myDate);\r\n\t\tconnection.setRequestProperty(&quot;Content-Type&quot;,&quot;application/octet-stream&quot;);\r\n\t\tconnection.setRequestProperty(&quot;Content-Length&quot;,contentLen);\r\n\t\t//connection.setRequestProperty(&quot;Accept&quot;,&quot;*/*&quot;);\r\n\r\n\t\tconnection.setUseCaches(false);\r\n\t\t//connection.setDoInput(true);\r\n\t\tconnection.setDoOutput(true);\r\n\r\n\t\tDataOutputStream wr = new DataOutputStream(connection.getOutputStream());\r\n                wr.writeBytes(payload);\r\n\r\n\t\tStringBuilder builder = new StringBuilder();\r\n\r\n\t\t// If I comment this line which gets responseCode , then file is not written in S3.\r\n                builder.append(connection.getResponseCode());\r\n\t                \r\n\t\twr.flush();\r\n\t\twr.close();\r\n\t\tconnection.disconnect();\r\n\r\nI am expecting this code to work without getResponseCode line.","title":"HTTPURLConnection write command works only with read","body":"<p>I am writing a file into AWS S3 bucket using HTTPURLConnection. This connection's outputstream-write command works only if it is followed by getInputStream or getResponseCode. Please help me to understand this. Is it required to read responseCode?</p>\n<pre><code>       URL endpointUrl = new URL(&quot;muURL&quot;);\n       HttpURLConnection connection = (HttpURLConnection) endpointUrl.openConnection();\n   connection.setRequestMethod(&quot;PUT&quot;);\n                \n    connection.setRequestProperty(&quot;Authorization&quot;, authorization);\n    connection.setRequestProperty(&quot;x-amz-content-sha256&quot;, hashPayload);\n    connection.setRequestProperty(&quot;X-Amz-Date&quot;, myDate);\n    connection.setRequestProperty(&quot;Content-Type&quot;,&quot;application/octet-stream&quot;);\n    connection.setRequestProperty(&quot;Content-Length&quot;,contentLen);\n    //connection.setRequestProperty(&quot;Accept&quot;,&quot;*/*&quot;);\n\n    connection.setUseCaches(false);\n    //connection.setDoInput(true);\n    connection.setDoOutput(true);\n\n    DataOutputStream wr = new DataOutputStream(connection.getOutputStream());\n            wr.writeBytes(payload);\n\n    StringBuilder builder = new StringBuilder();\n\n    // If I comment this line which gets responseCode , then file is not written in S3.\n            builder.append(connection.getResponseCode());\n                \n    wr.flush();\n    wr.close();\n    connection.disconnect();\n</code></pre>\n<p>I am expecting this code to work without getResponseCode line.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":310854,"reputation":33070,"user_id":624069,"accept_rate":66,"display_name":"Niranj Patel"},"score":0,"creation_date":1676550126,"post_id":75472048,"comment_id":133161574,"body_markdown":"Have you tried to search by your self. [Example](https://www.google.com/search?q=pass+data+from+fragment+to+parent+activity&amp;rlz=1C1CHZL_enIN847IN847&amp;oq=pass+value+from+fragment+to+parent+a&amp;aqs=chrome.1.69i57j0i22i30i625l2j0i390l2.10719j0j7&amp;sourceid=chrome&amp;ie=UTF-8)","body":"Have you tried to search by your self. <a href=\"https://www.google.com/search?q=pass+data+from+fragment+to+parent+activity&amp;rlz=1C1CHZL_enIN847IN847&amp;oq=pass+value+from+fragment+to+parent+a&amp;aqs=chrome.1.69i57j0i22i30i625l2j0i390l2.10719j0j7&amp;sourceid=chrome&amp;ie=UTF-8\" rel=\"nofollow noreferrer\">Example</a>"}],"answers":[{"tags":[],"owner":{"account_id":16329662,"reputation":1144,"user_id":11793333,"display_name":"Henrique Vasconcellos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676550231,"creation_date":1676550231,"answer_id":75472219,"question_id":75472048,"body_markdown":"Without much detail I would say that you best bet is using a shared ViewModel between the activity and the fragment.\r\n\r\none resource you can easily follow: https://www.geeksforgeeks.org/shared-viewmodel-in-android/","title":"How can I pass a string value from a Fragment to an Activity in Android Studio?","body":"<p>Without much detail I would say that you best bet is using a shared ViewModel between the activity and the fragment.</p>\n<p>one resource you can easily follow: <a href=\"https://www.geeksforgeeks.org/shared-viewmodel-in-android/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/shared-viewmodel-in-android/</a></p>\n"},{"tags":[],"owner":{"account_id":15483805,"reputation":242,"user_id":11170352,"display_name":"Mokhtar Abdelhalim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676553152,"creation_date":1676553152,"answer_id":75472800,"question_id":75472048,"body_markdown":"**1. First approach**\r\n\r\nThe best approach is to use `Interface`, try to search how to pass data from `Fragment` to `Activity` using `Interface`.\r\n\r\n**2. Second approach**\r\n\r\nThis approach is to use `ViewModel` like the example mentioned above https://stackoverflow.com/a/75472219/11170352\r\n\r\n**3. Third approach**\r\n\r\nThis is the laziest approach follow this example \r\n\r\n&gt; YourFragment\r\n\r\n    // Get a reference to the hosting Activity\r\n    YourActivity yourActivity = (YourActivity) getActivity();\r\n\r\n    // Call a public method in the Activity to pass the data\r\n    yourActivity.setData(myData);\r\n\r\n&gt; YourActivity\r\n\r\n    public void setData(String data) {\r\n       // Do something with the data\r\n    }\r\n\r\nNote that this approach assumes that the hosting Activity is of a specific class (YourActivity in this example). If you need to use this approach with multiple Activities, you may want to add some checks to ensure that the Activity is the correct type before casting it.\r\n\r\n\r\n\r\n","title":"How can I pass a string value from a Fragment to an Activity in Android Studio?","body":"<p><strong>1. First approach</strong></p>\n<p>The best approach is to use <code>Interface</code>, try to search how to pass data from <code>Fragment</code> to <code>Activity</code> using <code>Interface</code>.</p>\n<p><strong>2. Second approach</strong></p>\n<p>This approach is to use <code>ViewModel</code> like the example mentioned above <a href=\"https://stackoverflow.com/a/75472219/11170352\">https://stackoverflow.com/a/75472219/11170352</a></p>\n<p><strong>3. Third approach</strong></p>\n<p>This is the laziest approach follow this example</p>\n<blockquote>\n<p>YourFragment</p>\n</blockquote>\n<pre><code>// Get a reference to the hosting Activity\nYourActivity yourActivity = (YourActivity) getActivity();\n\n// Call a public method in the Activity to pass the data\nyourActivity.setData(myData);\n</code></pre>\n<blockquote>\n<p>YourActivity</p>\n</blockquote>\n<pre><code>public void setData(String data) {\n   // Do something with the data\n}\n</code></pre>\n<p>Note that this approach assumes that the hosting Activity is of a specific class (YourActivity in this example). If you need to use this approach with multiple Activities, you may want to add some checks to ensure that the Activity is the correct type before casting it.</p>\n"}],"owner":{"account_id":27802386,"reputation":1,"user_id":21226595,"display_name":"Vishwa Jayarathna"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1676553152,"creation_date":1676549341,"question_id":75472048,"body_markdown":"I have an Android app with a Fragment that contains an EditText field. When the user enters a value in the EditText field, I need to pass this value to the hosting Activity so that it can be used in other parts of the app.\r\n\r\n\r\n\r\nI have tried using an Intent to pass the data, but this opens a new instance of the Activity, which I do not want. I have also tried using a Bundle, but I&#39;m not sure how to access the Bundle from the Activity.\r\n\r\nWhat is the best way to pass a string value from a Fragment to an Activity? Are there any code examples or tutorials that can help me achieve this?","title":"How can I pass a string value from a Fragment to an Activity in Android Studio?","body":"<p>I have an Android app with a Fragment that contains an EditText field. When the user enters a value in the EditText field, I need to pass this value to the hosting Activity so that it can be used in other parts of the app.</p>\n<p>I have tried using an Intent to pass the data, but this opens a new instance of the Activity, which I do not want. I have also tried using a Bundle, but I'm not sure how to access the Bundle from the Activity.</p>\n<p>What is the best way to pass a string value from a Fragment to an Activity? Are there any code examples or tutorials that can help me achieve this?</p>\n"},{"tags":["javascript","java","spring","vaadin","client-server"],"answers":[{"tags":[],"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676553075,"creation_date":1676553075,"answer_id":75472788,"question_id":75471412,"body_markdown":"What you can do is to set id to the component in Java\r\n\r\n    component.setId(&quot;component-x&quot;);\r\n\r\nThis will mean that the DOM element will be have the id attribute set. \r\n\r\nSo if you have some bookkeeping of the components in your Java code, you can pass the id as a parameter in that `@ClientCallable` call, and then search for the component matching that id in your Java code.\r\n\r\nIf this is about only one view specific component, you do not need anything else than storing reference to the component in a class field (not even the id). But if you indeed have more than one `Accordion` in your view, the idea is like this.\r\n\r\n    public class MyView extends Div {\r\n    \r\n        List&lt;Accordion&gt; accordions;\r\n    \r\n        public MyView() {\r\n            Accordion accordion = new Accordion();\r\n            accordion.setId(&quot;accordion-1&quot;);\r\n            accordions.add(accordion);\r\n            ...\r\n        }\r\n    \r\n        @ClientCallable\r\n        public openAccordion(String id, int index) {\r\n            accordions.stream().filter(acc -&gt; \r\n            acc.getId().equals(id)).findFirst().ifPresent(acc -&gt; acc.open(null));\r\n            accordion.open(index);\r\n        }\r\n    }\r\n\r\nFor context, see: https://stackoverflow.com/questions/75457945/how-can-i-change-vaadin-components-in-java-through-javascript/75459882","title":"Is there a way to use a reference to an existing java class from javascript in Vaadin?","body":"<p>What you can do is to set id to the component in Java</p>\n<pre><code>component.setId(&quot;component-x&quot;);\n</code></pre>\n<p>This will mean that the DOM element will be have the id attribute set.</p>\n<p>So if you have some bookkeeping of the components in your Java code, you can pass the id as a parameter in that <code>@ClientCallable</code> call, and then search for the component matching that id in your Java code.</p>\n<p>If this is about only one view specific component, you do not need anything else than storing reference to the component in a class field (not even the id). But if you indeed have more than one <code>Accordion</code> in your view, the idea is like this.</p>\n<pre><code>public class MyView extends Div {\n\n    List&lt;Accordion&gt; accordions;\n\n    public MyView() {\n        Accordion accordion = new Accordion();\n        accordion.setId(&quot;accordion-1&quot;);\n        accordions.add(accordion);\n        ...\n    }\n\n    @ClientCallable\n    public openAccordion(String id, int index) {\n        accordions.stream().filter(acc -&gt; \n        acc.getId().equals(id)).findFirst().ifPresent(acc -&gt; acc.open(null));\n        accordion.open(index);\n    }\n}\n</code></pre>\n<p>For context, see: <a href=\"https://stackoverflow.com/questions/75457945/how-can-i-change-vaadin-components-in-java-through-javascript/75459882\">How can I change Vaadin Components in Java through Javascript</a></p>\n"}],"owner":{"account_id":27518510,"reputation":91,"user_id":20999057,"display_name":"Ji Lin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75472788,"answer_count":1,"score":0,"last_activity_date":1676553075,"creation_date":1676545873,"question_id":75471412,"body_markdown":"i currently have the problem, that i want to use a reference of an existing java class in javascript to be able to execute methods from Javascript of the Java Class to use Shepherd (Javascript Tool for guiding users through the web app). Im using Vaadin for Web deployment with java but Shepherd only works through Javascript.\r\nI dont want to execute the JS from the Class with the methods, moreover i want to execute it from an other class, so it looks like this:\r\n\r\n1. User clicks on a Button\r\n\r\n&gt;  Button button = new Button(); button.addClickListener (c -&gt; tourPageController.executeShepherd(UI.getCurrent().getInternals().getTitle());\r\n\r\n2. Java Code to find active Page\r\n\r\n&gt; public static void executeShepherd(String appTitle) {switch(appTitle) {case &quot;example&quot;: UI.getCurrent().getPage().executeJs(&quot;window.startTour($0)&quot;, &lt;here i want to reference the existing class with the methods);\r\n\r\n3. execute the Shepherd Tour four the explicit page, the user is on (For that, i need to hand over\r\n a  reference of the class holding the methods to execute via javascript), its looks something like this in the header:\r\n\r\n&gt; window.startTour = (&lt;classParameter&gt;) =&gt; { ... }\r\n\r\n4. Javascript is getting the parameter (the class)\r\n\r\n5. From Javascript im going to use Shepherd, but there are references to Java Methods (these Methods are for the Vaadin Components, to open and close the respectively tabs i want to use in the tour). I use it like this:\r\n\r\n\t\tbeforeShowPromise: function () {\r\n\t\t\treturn new Promise(function(resolve) {\r\n\t\t\t\tclassParameter.$server.&lt;method()&gt;;\r\n                resolve();\r\n\t\t\t});\r\n\t\t},\r\n\r\nHow can i do this?","title":"Is there a way to use a reference to an existing java class from javascript in Vaadin?","body":"<p>i currently have the problem, that i want to use a reference of an existing java class in javascript to be able to execute methods from Javascript of the Java Class to use Shepherd (Javascript Tool for guiding users through the web app). Im using Vaadin for Web deployment with java but Shepherd only works through Javascript.\nI dont want to execute the JS from the Class with the methods, moreover i want to execute it from an other class, so it looks like this:</p>\n<ol>\n<li>User clicks on a Button</li>\n</ol>\n<blockquote>\n<p>Button button = new Button(); button.addClickListener (c -&gt; tourPageController.executeShepherd(UI.getCurrent().getInternals().getTitle());</p>\n</blockquote>\n<ol start=\"2\">\n<li>Java Code to find active Page</li>\n</ol>\n<blockquote>\n<p>public static void executeShepherd(String appTitle) {switch(appTitle) {case &quot;example&quot;: UI.getCurrent().getPage().executeJs(&quot;window.startTour($0)&quot;, &lt;here i want to reference the existing class with the methods);</p>\n</blockquote>\n<ol start=\"3\">\n<li>execute the Shepherd Tour four the explicit page, the user is on (For that, i need to hand over\na  reference of the class holding the methods to execute via javascript), its looks something like this in the header:</li>\n</ol>\n<blockquote>\n<p>window.startTour = () =&gt; { ... }</p>\n</blockquote>\n<ol start=\"4\">\n<li><p>Javascript is getting the parameter (the class)</p>\n</li>\n<li><p>From Javascript im going to use Shepherd, but there are references to Java Methods (these Methods are for the Vaadin Components, to open and close the respectively tabs i want to use in the tour). I use it like this:</p>\n<pre><code> beforeShowPromise: function () {\n     return new Promise(function(resolve) {\n         classParameter.$server.&lt;method()&gt;;\n         resolve();\n     });\n },\n</code></pre>\n</li>\n</ol>\n<p>How can i do this?</p>\n"},{"tags":["java","json","spring","gson","json-deserialization"],"comments":[{"owner":{"account_id":279619,"reputation":661,"user_id":574880,"display_name":"deleze"},"score":1,"creation_date":1676494852,"post_id":75465070,"comment_id":133150697,"body_markdown":"Are sure that GSon is used as JSON deserializer by your Spring application. By default Spring use a Jackson ObjectMapper.","body":"Are sure that GSon is used as JSON deserializer by your Spring application. By default Spring use a Jackson ObjectMapper."},{"owner":{"account_id":17845244,"reputation":31,"user_id":12962236,"display_name":"Mandar"},"score":0,"creation_date":1676526876,"post_id":75465070,"comment_id":133155410,"body_markdown":"Thanks for the lead. I was not aware of the fact that Spring uses Jackson ObjectMapper. When I used @JsonAlias(&quot;requestNo&quot;) annotation for the field, I am able to deserialize with both the field names.","body":"Thanks for the lead. I was not aware of the fact that Spring uses Jackson ObjectMapper. When I used @JsonAlias(&quot;requestNo&quot;) annotation for the field, I am able to deserialize with both the field names."}],"answers":[{"tags":[],"owner":{"account_id":17845244,"reputation":31,"user_id":12962236,"display_name":"Mandar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676552852,"creation_date":1676552852,"answer_id":75472737,"question_id":75465070,"body_markdown":"Spring uses Jackson Object Mapper for deserializing JSON objects. Since @SerializedName annotation belongs to Gson and not to Jackson, it will not take the alternate value. Use @JsonAlias from Jackson for alternate field names.\r\n\r\n    @JsonAlias(&quot;requestNo&quot;)\r\n    String requestNumber;\r\n\r\nThis will help in deserializing values declared using both field names.","title":"Spring: @RequestBody not deserializing serialized JSON field declared using alternate name","body":"<p>Spring uses Jackson Object Mapper for deserializing JSON objects. Since @SerializedName annotation belongs to Gson and not to Jackson, it will not take the alternate value. Use @JsonAlias from Jackson for alternate field names.</p>\n<pre><code>@JsonAlias(&quot;requestNo&quot;)\nString requestNumber;\n</code></pre>\n<p>This will help in deserializing values declared using both field names.</p>\n"}],"owner":{"account_id":17845244,"reputation":31,"user_id":12962236,"display_name":"Mandar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":568,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676552852,"creation_date":1676492325,"question_id":75465070,"body_markdown":"I have one input request DTO for a Patch call\r\n\r\n\r\n```\r\n@Data\r\npublic class RequestDTO {\r\n  String name;\r\n  @SerializedName(value= &quot;requestNumber&quot;, alternate = {&quot;requestNo&quot;})\r\n  String requestNumber;\r\n} \r\n```\r\n\r\nMy Controller method looks something like:\r\n\r\n\r\n```\r\n@PatchMapping(&quot;/path&quot;)\r\npublic ResponseEntity&lt;ResponseDTO&gt; updateSomething(@RequestBody @Valid RequestDTO requestDTO) {\r\n  //some code here\r\n  if(requestDTO.getRequestNumber == null) {\r\n    log.error(&quot;Deserialization failure&quot;);\r\n  }\r\n  //return something\r\n}\r\n```\r\n\r\n\r\nWhen I try to deserialize request DTO using Gson, I am able to do it with both the field names, `requestNumber` and `requestNo`\r\n\r\nExample:\r\n```\r\nGson gson = new Gson();\r\nString input = &quot;{&quot;name&quot;: &quot;abc&quot;, &quot;requestNumber&quot;: &quot;1&quot;};\r\nRequestDTO requestDTO = gson.fromJson(input, RequestDTO.class);\r\nAssert.assertNotNull(requestDTO.getRequestNumber)     //Test passed\r\n```\r\nAnd \r\n```\r\nString input = &quot;{&quot;name&quot;: &quot;abc&quot;, &quot;requestNo&quot;: &quot;1&quot;};\r\nRequestDTO requestDTO = gson.fromJson(input, RequestDTO.class);\r\nAssert.assertNotNull(requestDTO.getRequestNumber)     //Test passed\r\n```\r\nIrrespective of field name is requestNumber of requestNo in input JSON, it is deserialized properly.\r\n\r\nBut whenever I pass a request DTO of the form `{&quot;name&quot;: &quot;abc&quot;, &quot;requestNo&quot;: &quot;1&quot;}` to my patch call, on deserialization, value of `requestNumber` field in the deserialized DTO always turns out to be `null`. Deserialized DTO looks like:\r\n\r\n```\r\n{\r\n  &quot;name&quot;: &quot;abc&quot;,\r\n  &quot;requestNumber&quot;: null\r\n}\r\n```\r\n\r\n\r\nIt works well when input field name is `requestNumber`. What is the reason behind this? \r\n\r\nWhat is best way to deserialize the value in requestBody with both field names? \r\n\r\nI cannot stick to only one field name because my actual DTO (this is dummy one) is used by multiple systems and it is not possible to have only either field name.\r\n","title":"Spring: @RequestBody not deserializing serialized JSON field declared using alternate name","body":"<p>I have one input request DTO for a Patch call</p>\n<pre><code>@Data\npublic class RequestDTO {\n  String name;\n  @SerializedName(value= &quot;requestNumber&quot;, alternate = {&quot;requestNo&quot;})\n  String requestNumber;\n} \n</code></pre>\n<p>My Controller method looks something like:</p>\n<pre><code>@PatchMapping(&quot;/path&quot;)\npublic ResponseEntity&lt;ResponseDTO&gt; updateSomething(@RequestBody @Valid RequestDTO requestDTO) {\n  //some code here\n  if(requestDTO.getRequestNumber == null) {\n    log.error(&quot;Deserialization failure&quot;);\n  }\n  //return something\n}\n</code></pre>\n<p>When I try to deserialize request DTO using Gson, I am able to do it with both the field names, <code>requestNumber</code> and <code>requestNo</code></p>\n<p>Example:</p>\n<pre><code>Gson gson = new Gson();\nString input = &quot;{&quot;name&quot;: &quot;abc&quot;, &quot;requestNumber&quot;: &quot;1&quot;};\nRequestDTO requestDTO = gson.fromJson(input, RequestDTO.class);\nAssert.assertNotNull(requestDTO.getRequestNumber)     //Test passed\n</code></pre>\n<p>And</p>\n<pre><code>String input = &quot;{&quot;name&quot;: &quot;abc&quot;, &quot;requestNo&quot;: &quot;1&quot;};\nRequestDTO requestDTO = gson.fromJson(input, RequestDTO.class);\nAssert.assertNotNull(requestDTO.getRequestNumber)     //Test passed\n</code></pre>\n<p>Irrespective of field name is requestNumber of requestNo in input JSON, it is deserialized properly.</p>\n<p>But whenever I pass a request DTO of the form <code>{&quot;name&quot;: &quot;abc&quot;, &quot;requestNo&quot;: &quot;1&quot;}</code> to my patch call, on deserialization, value of <code>requestNumber</code> field in the deserialized DTO always turns out to be <code>null</code>. Deserialized DTO looks like:</p>\n<pre><code>{\n  &quot;name&quot;: &quot;abc&quot;,\n  &quot;requestNumber&quot;: null\n}\n</code></pre>\n<p>It works well when input field name is <code>requestNumber</code>. What is the reason behind this?</p>\n<p>What is best way to deserialize the value in requestBody with both field names?</p>\n<p>I cannot stick to only one field name because my actual DTO (this is dummy one) is used by multiple systems and it is not possible to have only either field name.</p>\n"},{"tags":["java","xml"],"comments":[{"owner":{"account_id":8319552,"reputation":407,"user_id":10063655,"display_name":"vc73"},"score":0,"creation_date":1676469846,"post_id":75460878,"comment_id":133142713,"body_markdown":"could you share the xmlString you are using?","body":"could you share the xmlString you are using?"},{"owner":{"account_id":19053158,"reputation":21,"user_id":13910901,"display_name":"Ujjwal Sharma"},"score":0,"creation_date":1676563777,"post_id":75460878,"comment_id":133166205,"body_markdown":"@vc73 updated the comment with xmlString.","body":"@vc73 updated the comment with xmlString."}],"owner":{"account_id":19053158,"reputation":21,"user_id":13910901,"display_name":"Ujjwal Sharma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676552193,"creation_date":1676469365,"question_id":75460878,"body_markdown":"I have a code snippet which is converting a Java Object to XmlObject, but when I use the validate method of XmlObject it returns false. Can anyone help in this where is the issue in this.\r\n\r\n    public void validate(UserAccount userAccountObject) throws SecurityServiceException, JAXBException, XmlException {\r\n    JAXBContext jaxbContext = JAXBContext.newInstance(UserAccount.class);\r\n    Marshaller marshaller = jaxbContext.createMarshaller();\r\n    marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\r\n    StringWriter sw = new StringWriter();\r\n    JAXBElement &lt; UserAccount &gt; jaxbElement = new JAXBElement &lt; &gt; (new QName(&quot;&quot;, &quot;userAccount&quot;),\r\n        UserAccount.class, userAccountObject);\r\n    marshaller.marshal(jaxbElement, sw);\r\n    String xmlString = sw.toString();\r\n    XmlObject xmlObject = XmlObject.Factory.parse(xmlString);\r\n    if (!xmlObject.validate()) {\r\n        logger.debug(&quot;Invalid XML Object.&quot;);\r\n        throw new SecurityServiceException(MessageConstants.INVALID_XML_OBJECT);\r\n    }\r\n}\r\n\r\nxmlString\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n    &lt;userAccount xmlns:ns2=&quot;http://gnw.com/ebd/service/domain/&quot;&gt;\r\n    &lt;ns2:ApplicationName&gt;&quot;ABC_APPLICATION&quot;&lt;/ns2:ApplicationName&gt;\r\n    &lt;ns2:UserInfo&gt;\r\n        &lt;ns2:UserId&gt;&quot;abc@gmail.com&quot;&lt;/ns2:UserId&gt;\r\n        &lt;ns2:FirstName&gt;&quot;First&quot;&lt;/ns2:FirstName&gt;\r\n        &lt;ns2:LastName&gt;&quot;Last&quot;&lt;/ns2:LastName&gt;\r\n        &lt;ns2:CompanyName&gt;&quot;DEF&quot;&lt;/ns2:CompanyName&gt;\r\n        &lt;ns2:Properties&gt;\r\n            &lt;ns2:FieldName&gt;&quot;extend_validity_values&quot;&lt;/ns2:FieldName&gt;\r\n            &lt;ns2:FieldValue&gt;&quot;true&quot;&lt;/ns2:FieldValue&gt;\r\n        &lt;/ns2:Properties&gt;\r\n    &lt;/ns2:UserInfo&gt;\r\n    &lt;ns2:Password&gt;&quot;password&quot;&lt;/ns2:Password&gt;","title":"Validate method returns false for a valid XmlObject","body":"<p>I have a code snippet which is converting a Java Object to XmlObject, but when I use the validate method of XmlObject it returns false. Can anyone help in this where is the issue in this.</p>\n<pre><code>public void validate(UserAccount userAccountObject) throws SecurityServiceException, JAXBException, XmlException {\nJAXBContext jaxbContext = JAXBContext.newInstance(UserAccount.class);\nMarshaller marshaller = jaxbContext.createMarshaller();\nmarshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\nStringWriter sw = new StringWriter();\nJAXBElement &lt; UserAccount &gt; jaxbElement = new JAXBElement &lt; &gt; (new QName(&quot;&quot;, &quot;userAccount&quot;),\n    UserAccount.class, userAccountObject);\nmarshaller.marshal(jaxbElement, sw);\nString xmlString = sw.toString();\nXmlObject xmlObject = XmlObject.Factory.parse(xmlString);\nif (!xmlObject.validate()) {\n    logger.debug(&quot;Invalid XML Object.&quot;);\n    throw new SecurityServiceException(MessageConstants.INVALID_XML_OBJECT);\n}\n</code></pre>\n<p>}</p>\n<p>xmlString</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;userAccount xmlns:ns2=&quot;http://gnw.com/ebd/service/domain/&quot;&gt;\n&lt;ns2:ApplicationName&gt;&quot;ABC_APPLICATION&quot;&lt;/ns2:ApplicationName&gt;\n&lt;ns2:UserInfo&gt;\n    &lt;ns2:UserId&gt;&quot;abc@gmail.com&quot;&lt;/ns2:UserId&gt;\n    &lt;ns2:FirstName&gt;&quot;First&quot;&lt;/ns2:FirstName&gt;\n    &lt;ns2:LastName&gt;&quot;Last&quot;&lt;/ns2:LastName&gt;\n    &lt;ns2:CompanyName&gt;&quot;DEF&quot;&lt;/ns2:CompanyName&gt;\n    &lt;ns2:Properties&gt;\n        &lt;ns2:FieldName&gt;&quot;extend_validity_values&quot;&lt;/ns2:FieldName&gt;\n        &lt;ns2:FieldValue&gt;&quot;true&quot;&lt;/ns2:FieldValue&gt;\n    &lt;/ns2:Properties&gt;\n&lt;/ns2:UserInfo&gt;\n&lt;ns2:Password&gt;&quot;password&quot;&lt;/ns2:Password&gt;\n</code></pre>\n"},{"tags":["java","logging","jax-rs"],"owner":{"account_id":22819063,"reputation":3,"user_id":16969224,"display_name":"0c7"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676552168,"creation_date":1676465522,"question_id":75460074,"body_markdown":"I use Spring and jaxrs\r\n\r\nI have a restApi with 2 endpoints, say\r\n\r\n/cats\r\n\r\n/dogs\r\n\r\neach endpoint is in its own ressource class, say CatRessource.class and DogRessource.class\r\n\r\neverythings works fine, but the ressourceName in the apache-cfx logging is wrong, i always end-up with a componentId : \r\n\r\n`org.apache.cxf.services.CatRessource.REQ_IN - `\r\n\r\neven if I know, my code is going the the DogRessource class.\r\n\r\nfrom what I looked, the name come from apache \r\n```\r\n    protected Logger getLogger(final LogEvent event) {\r\n        final String cat = &quot;org.apache.cxf.services.&quot; + event.getPortTypeName().getLocalPart() + &quot;.&quot; + event.getType();\r\n        return LoggerFactory.getLogger(cat);\r\n    }\r\n```\r\nwho gets it from \r\n \r\n`Endpoint ep = message.getExchange().getEndpoint()`\r\n\r\nand looking still up, that endpoint is created when the APi start, the name of the ressource is given by Jaxrs who gives the name of the **first** ressourceclass it finds\r\n\r\n```\r\npublic class JAXRSServiceImpl extends AbstractAttributedInterceptorProvider implements Service, Configurable {\r\n...\r\n\r\n    public QName getName() {\r\n        if (serviceName != null) {\r\n            return serviceName;\r\n        }\r\n        if (address == null &amp;&amp; !classResourceInfos.isEmpty()) {\r\n            Class&lt;?&gt; primaryClass = classResourceInfos.get(0).getServiceClass();\r\n            String ns = PackageUtils.getNamespace(PackageUtils.getPackageName(primaryClass));\r\n            return new QName(ns, primaryClass.getSimpleName());\r\n        }\r\n        return new QName(address, &quot;WebClient&quot;);\r\n    }\r\n\r\n```\r\n\r\nis there an easy way to have the correct name in the log, or a default one?\r\n ","title":"apache-cfx and JAXRSx log with the wrong ressourceName","body":"<p>I use Spring and jaxrs</p>\n<p>I have a restApi with 2 endpoints, say</p>\n<p>/cats</p>\n<p>/dogs</p>\n<p>each endpoint is in its own ressource class, say CatRessource.class and DogRessource.class</p>\n<p>everythings works fine, but the ressourceName in the apache-cfx logging is wrong, i always end-up with a componentId :</p>\n<p><code>org.apache.cxf.services.CatRessource.REQ_IN - </code></p>\n<p>even if I know, my code is going the the DogRessource class.</p>\n<p>from what I looked, the name come from apache</p>\n<pre><code>    protected Logger getLogger(final LogEvent event) {\n        final String cat = &quot;org.apache.cxf.services.&quot; + event.getPortTypeName().getLocalPart() + &quot;.&quot; + event.getType();\n        return LoggerFactory.getLogger(cat);\n    }\n</code></pre>\n<p>who gets it from</p>\n<p><code>Endpoint ep = message.getExchange().getEndpoint()</code></p>\n<p>and looking still up, that endpoint is created when the APi start, the name of the ressource is given by Jaxrs who gives the name of the <strong>first</strong> ressourceclass it finds</p>\n<pre><code>public class JAXRSServiceImpl extends AbstractAttributedInterceptorProvider implements Service, Configurable {\n...\n\n    public QName getName() {\n        if (serviceName != null) {\n            return serviceName;\n        }\n        if (address == null &amp;&amp; !classResourceInfos.isEmpty()) {\n            Class&lt;?&gt; primaryClass = classResourceInfos.get(0).getServiceClass();\n            String ns = PackageUtils.getNamespace(PackageUtils.getPackageName(primaryClass));\n            return new QName(ns, primaryClass.getSimpleName());\n        }\n        return new QName(address, &quot;WebClient&quot;);\n    }\n\n</code></pre>\n<p>is there an easy way to have the correct name in the log, or a default one?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":15630697,"reputation":102,"user_id":11277085,"display_name":"Najmeddine Louhichi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676551766,"creation_date":1554284744,"answer_id":55492056,"question_id":55491881,"body_markdown":"Try to add:\r\n\r\n    @ManyToOne(cascade=CascadeType.MERGE)","title":"Return saved entity with @ManyToOne relationship after POST","body":"<p>Try to add:</p>\n<pre><code>@ManyToOne(cascade=CascadeType.MERGE)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1667007,"reputation":2777,"user_id":1534211,"display_name":"mate00"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554285095,"creation_date":1554285095,"answer_id":55492180,"question_id":55491881,"body_markdown":"You could fetch only country from the repository given the country_id you provide in the payload. Then set the whole country object to Person and save person.","title":"Return saved entity with @ManyToOne relationship after POST","body":"<p>You could fetch only country from the repository given the country_id you provide in the payload. Then set the whole country object to Person and save person.</p>\n"}],"owner":{"account_id":253023,"reputation":1597,"user_id":531435,"accept_rate":75,"display_name":"helios35"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":473,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1676551766,"creation_date":1554284267,"question_id":55491881,"body_markdown":"I have a spring boot application with an entity called `Person`, which has a `@ManyToOne` relationship:\r\n\r\n```Java\r\n@Entity\r\npublic class Person {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\tprivate long id;\r\n\r\n\tprivate String firstName;\r\n\tprivate String lastName;\r\n   \r\n    @ManyToOne\r\n    private Country country;\r\n    // ...\r\n}\r\n```\r\n\r\nThe `PersonController` is used to allow to `GET` existing persons and `POST` new ones:\r\n```Java\r\n@RestController\r\npublic class PersonController {\r\n\r\n    private final PersonRepository personRepository;\r\n\r\n    @Autowired\r\n    public PersonController(final PersonRepository personRepository) {\r\n        this.personRepository = personRepository;\r\n    }\r\n\r\n    @GetMapping(&quot;/person/{personId}&quot;)\r\n    public Person getPerson(@PathVariable long personId) {\r\n        return personRepository.findById(personId).get();\r\n    }\r\n\r\n    @PostMapping(&quot;/person_save_and_return_by_id&quot;)\r\n    public Person personSaveAndReturnById(@RequestBody Person person) {\r\n        Person savedPerson = personRepository.save(person);\r\n        // the payload sent by the client does not necessarily include all\r\n        // properties of the Country class, it might contain just the id.\r\n        // Therefore, we fetch the person from the database, so that all\r\n        // necessary JOIN operations are made and no properties are set to null.\r\n        Person samePerson = personRepository.findById(savedPerson.getId()).get();\r\n        return samePerson;\r\n    }\r\n}\r\n```\r\n\r\nI would like to `POST` new persons without having to describe the existing `Country` in its entirety, I only want to denote its id:\r\n\r\n```bash\r\ncurl -i -X POST -H &quot;Content-Type:application/json&quot; -d &#39;{&quot;firstName&quot;: &quot;Frodo&quot;, &quot;lastName&quot;: &quot;Baggins&quot;, &quot;country&quot;: {&quot;id&quot;: 1}}&#39; http://localhost:8080/person_save_and_return_by_id\r\n```\r\n\r\nUnfortunately, the returned entity has all country properties, except for the id, set to null:\r\n```json\r\n{\r\n   &quot;firstName&quot; : &quot;Frodo&quot;,\r\n   &quot;id&quot; : 4,\r\n   &quot;lastName&quot; : &quot;Baggins&quot;,\r\n   &quot;country&quot; : {\r\n      &quot;id&quot; : 1,\r\n      &quot;description&quot; : null,\r\n      &quot;countryCodeIso&quot; : null\r\n   }\r\n}\r\n```\r\n\r\nThe POST request inserts everything into the database as it should. For instance, if I `GET` the object I just previously posted:\r\n\r\n```bash\r\ncurl -i  http://localhost:8080/person/4 \r\n```\r\n\r\nThe returned json looks exactly as it should:\r\n\r\n```json\r\n{\r\n   &quot;lastName&quot; : &quot;Baggins&quot;,\r\n   &quot;firstName&quot; : &quot;Frodo&quot;,\r\n   &quot;country&quot; : {\r\n      &quot;id&quot; : 1,\r\n      &quot;countryCodeIso&quot; : &quot;FR&quot;,\r\n      &quot;description&quot; : &quot;France&quot;\r\n   },\r\n   &quot;id&quot; : 4\r\n}\r\n```\r\n\r\nBut that doesn&#39;t help me, because I need to access the `Country` instance in the same method where the new `Person` is created.\r\n\r\nMy question is, why does the newly created person have a country with some properties set to null in the `@PostMapping` method, when the exact same person does not have those null values in the `@GetMapping` called right after? How can I access the person&#39;s country correctly during the `@PostMapping`, without resorting to workarounds such as explicitly fetching the country via its id?\r\n\r\nThe code is also available on [github][1]. It uses the h2database, but I have the same issue with hibernate and postgresql. Notice that two countries are inserted during startup, so no foreign key violations are thrown when the country id is set to 1 or 2.\r\n\r\n  [1]: https://github.com/nroi/gs-accessing-data-rest/tree/master/complete","title":"Return saved entity with @ManyToOne relationship after POST","body":"<p>I have a spring boot application with an entity called <code>Person</code>, which has a <code>@ManyToOne</code> relationship:</p>\n\n<pre><code>@Entity\npublic class Person {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private long id;\n\n    private String firstName;\n    private String lastName;\n\n    @ManyToOne\n    private Country country;\n    // ...\n}\n</code></pre>\n\n<p>The <code>PersonController</code> is used to allow to <code>GET</code> existing persons and <code>POST</code> new ones:</p>\n\n<pre><code>@RestController\npublic class PersonController {\n\n    private final PersonRepository personRepository;\n\n    @Autowired\n    public PersonController(final PersonRepository personRepository) {\n        this.personRepository = personRepository;\n    }\n\n    @GetMapping(\"/person/{personId}\")\n    public Person getPerson(@PathVariable long personId) {\n        return personRepository.findById(personId).get();\n    }\n\n    @PostMapping(\"/person_save_and_return_by_id\")\n    public Person personSaveAndReturnById(@RequestBody Person person) {\n        Person savedPerson = personRepository.save(person);\n        // the payload sent by the client does not necessarily include all\n        // properties of the Country class, it might contain just the id.\n        // Therefore, we fetch the person from the database, so that all\n        // necessary JOIN operations are made and no properties are set to null.\n        Person samePerson = personRepository.findById(savedPerson.getId()).get();\n        return samePerson;\n    }\n}\n</code></pre>\n\n<p>I would like to <code>POST</code> new persons without having to describe the existing <code>Country</code> in its entirety, I only want to denote its id:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>curl -i -X POST -H \"Content-Type:application/json\" -d '{\"firstName\": \"Frodo\", \"lastName\": \"Baggins\", \"country\": {\"id\": 1}}' http://localhost:8080/person_save_and_return_by_id\n</code></pre>\n\n<p>Unfortunately, the returned entity has all country properties, except for the id, set to null:</p>\n\n<pre><code>{\n   \"firstName\" : \"Frodo\",\n   \"id\" : 4,\n   \"lastName\" : \"Baggins\",\n   \"country\" : {\n      \"id\" : 1,\n      \"description\" : null,\n      \"countryCodeIso\" : null\n   }\n}\n</code></pre>\n\n<p>The POST request inserts everything into the database as it should. For instance, if I <code>GET</code> the object I just previously posted:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>curl -i  http://localhost:8080/person/4 \n</code></pre>\n\n<p>The returned json looks exactly as it should:</p>\n\n<pre><code>{\n   \"lastName\" : \"Baggins\",\n   \"firstName\" : \"Frodo\",\n   \"country\" : {\n      \"id\" : 1,\n      \"countryCodeIso\" : \"FR\",\n      \"description\" : \"France\"\n   },\n   \"id\" : 4\n}\n</code></pre>\n\n<p>But that doesn't help me, because I need to access the <code>Country</code> instance in the same method where the new <code>Person</code> is created.</p>\n\n<p>My question is, why does the newly created person have a country with some properties set to null in the <code>@PostMapping</code> method, when the exact same person does not have those null values in the <code>@GetMapping</code> called right after? How can I access the person's country correctly during the <code>@PostMapping</code>, without resorting to workarounds such as explicitly fetching the country via its id?</p>\n\n<p>The code is also available on <a href=\"https://github.com/nroi/gs-accessing-data-rest/tree/master/complete\" rel=\"nofollow noreferrer\">github</a>. It uses the h2database, but I have the same issue with hibernate and postgresql. Notice that two countries are inserted during startup, so no foreign key violations are thrown when the country id is set to 1 or 2.</p>\n"},{"tags":["java","spring","compiler-errors"],"owner":{"account_id":4468455,"reputation":11,"user_id":3635347,"display_name":"user3635347"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676551708,"creation_date":1676533539,"question_id":75469181,"body_markdown":"I have this code. Eclipse tells me that the syntax is correct but when I run the program it gives me this error:\r\n\r\nHow can I solve this error exception?\r\n\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.IncompatibleClassChangeError: Implementing class\r\nat java.net.URLClassLoader.defineClass(URLClassLoader.java:467)\r\nat java.net.URLClassLoader.access$100(URLClassLoader.java:73)\r\nat java.net.URLClassLoader$1.run(URLClassLoader.java:368)\r\nat java.net.URLClassLoader$1.run(URLClassLoader.java:362)\r\nat java.security.AccessController.doPrivileged(Native Method)\r\nat java.net.URLClassLoader.findClass(URLClassLoader.java:361)\r\nat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\nat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\r\nat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.\\&lt;init\\&gt;(AbstractAutowireCapableBeanFactory.java:168)\r\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.\\&lt;init\\&gt;(DefaultListableBeanFactory.java:167)&lt;br/&gt;\r\nat org.springframework.context.support.AbstractRefreshableApplicationContext.createBeanFactory(AbstractRefreshableApplicationContext.java:200)\r\nat org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:126)\r\nat org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:605)\r\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:509)\r\nat org.springframework.context.support.ClassPathXmlApplicationContext.\\&lt;init\\&gt;(ClassPathXmlApplicationContext.java:139)\r\nat org.springframework.context.support.ClassPathXmlApplicationContext.\\&lt;init\\&gt;(ClassPathXmlApplicationContext.java:93)\r\n```","title":"How can I solve this error Exception in thread &quot;main&quot; java.lang.IncompatibleClassChangeError: Implementing class","body":"<p>I have this code. Eclipse tells me that the syntax is correct but when I run the program it gives me this error:</p>\n<p>How can I solve this error exception?</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IncompatibleClassChangeError: Implementing class\nat java.net.URLClassLoader.defineClass(URLClassLoader.java:467)\nat java.net.URLClassLoader.access$100(URLClassLoader.java:73)\nat java.net.URLClassLoader$1.run(URLClassLoader.java:368)\nat java.net.URLClassLoader$1.run(URLClassLoader.java:362)\nat java.security.AccessController.doPrivileged(Native Method)\nat java.net.URLClassLoader.findClass(URLClassLoader.java:361)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\nat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.\\&lt;init\\&gt;(AbstractAutowireCapableBeanFactory.java:168)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.\\&lt;init\\&gt;(DefaultListableBeanFactory.java:167)&lt;br/&gt;\nat org.springframework.context.support.AbstractRefreshableApplicationContext.createBeanFactory(AbstractRefreshableApplicationContext.java:200)\nat org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:126)\nat org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:605)\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:509)\nat org.springframework.context.support.ClassPathXmlApplicationContext.\\&lt;init\\&gt;(ClassPathXmlApplicationContext.java:139)\nat org.springframework.context.support.ClassPathXmlApplicationContext.\\&lt;init\\&gt;(ClassPathXmlApplicationContext.java:93)\n</code></pre>\n"},{"tags":["java","interface","code-generation","jooq"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676551646,"creation_date":1676541632,"answer_id":75470598,"question_id":75469313,"body_markdown":"## Configurative generator strategy\r\n\r\nYou seem to be implementing a [programmatic generator strategy][1], just to let you know that there&#39;s also an option of a [configurative strategy][2], which could look like this:\r\n\r\n```xml\r\n&lt;configuration&gt;\r\n  &lt;generator&gt;\r\n    &lt;strategy&gt;\r\n      &lt;matchers&gt;\r\n        &lt;tables&gt;\r\n          &lt;table&gt;\r\n            &lt;expression&gt;MY_TABLE&lt;/expression&gt;\r\n            &lt;pojoImplements&gt;com.example.MyOptionalCustomInterface&lt;/pojoImplements&gt;\r\n          &lt;/table&gt;\r\n        &lt;/tables&gt;\r\n        ...\r\n```\r\n\r\n[Please refer to the manual][2] for more details. In order to apply this only to tables containing certain fields, just update the regular expression in `&lt;expression&gt;` to match those tables.\r\n\r\n\r\n```xml\r\n&lt;expression&gt;MY_TABLE1|MY_TABLE2&lt;/expression&gt;\r\n```\r\n\r\nThis expression has to be updated to be in sync with the schema, of course.\r\n\r\n## Programmatic genenerator strategy\r\n\r\nJust like with the configurative strategy, you&#39;ll have to limit yourself to applying your logic only to generated POJOs. For this, notice the remark in the [manual][1]:\r\n\r\n```java\r\n/**\r\n * ...\r\n * Beware that most methods also receive a &quot;Mode&quot; object, to tell you whether a\r\n * TableDefinition is being rendered as a Table, Record, POJO, etc. Depending on\r\n * that information, you can add a suffix only for TableRecords, not for Tables\r\n * ...\r\n */\r\n```\r\n\r\nSo, you&#39;ll have to do something like this:\r\n\r\n```java\r\n@Override\r\npublic List&lt;String&gt; getJavaClassImplements(Definition definition, Mode mode) {\r\n    if (mode == Mode.POJO)\r\n        return Arrays.asList(&quot;com.example.MyOptionalCustomInterface&quot;);\r\n    else\r\n        return Collections.emptyList();\r\n}\r\n```\r\n\r\nIf you want to make sure that this inteface is only added to tables that match certain conditions, do this, instead:\r\n\r\n\r\n```java\r\n@Override\r\npublic List&lt;String&gt; getJavaClassImplements(Definition definition, Mode mode) {\r\n    if (mode == Mode.POJO\r\n            &amp;&amp; definition instanceof TableDefinition t\r\n            &amp;&amp; t.getColumns().stream().anyMatch(c -&gt; conditionHere(c)))\r\n        return Arrays.asList(&quot;com.example.MyOptionalCustomInterface&quot;);\r\n    else\r\n        return Collections.emptyList();\r\n}\r\n```\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/code-generation/codegen-generatorstrategy/\r\n  [2]: https://www.jooq.org/doc/latest/manual/code-generation/codegen-matcherstrategy/","title":"Implement interface in POJO if contains field","body":"<h2>Configurative generator strategy</h2>\n<p>You seem to be implementing a <a href=\"https://www.jooq.org/doc/latest/manual/code-generation/codegen-generatorstrategy/\" rel=\"nofollow noreferrer\">programmatic generator strategy</a>, just to let you know that there's also an option of a <a href=\"https://www.jooq.org/doc/latest/manual/code-generation/codegen-matcherstrategy/\" rel=\"nofollow noreferrer\">configurative strategy</a>, which could look like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configuration&gt;\n  &lt;generator&gt;\n    &lt;strategy&gt;\n      &lt;matchers&gt;\n        &lt;tables&gt;\n          &lt;table&gt;\n            &lt;expression&gt;MY_TABLE&lt;/expression&gt;\n            &lt;pojoImplements&gt;com.example.MyOptionalCustomInterface&lt;/pojoImplements&gt;\n          &lt;/table&gt;\n        &lt;/tables&gt;\n        ...\n</code></pre>\n<p><a href=\"https://www.jooq.org/doc/latest/manual/code-generation/codegen-matcherstrategy/\" rel=\"nofollow noreferrer\">Please refer to the manual</a> for more details. In order to apply this only to tables containing certain fields, just update the regular expression in <code>&lt;expression&gt;</code> to match those tables.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;expression&gt;MY_TABLE1|MY_TABLE2&lt;/expression&gt;\n</code></pre>\n<p>This expression has to be updated to be in sync with the schema, of course.</p>\n<h2>Programmatic genenerator strategy</h2>\n<p>Just like with the configurative strategy, you'll have to limit yourself to applying your logic only to generated POJOs. For this, notice the remark in the <a href=\"https://www.jooq.org/doc/latest/manual/code-generation/codegen-generatorstrategy/\" rel=\"nofollow noreferrer\">manual</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * ...\n * Beware that most methods also receive a &quot;Mode&quot; object, to tell you whether a\n * TableDefinition is being rendered as a Table, Record, POJO, etc. Depending on\n * that information, you can add a suffix only for TableRecords, not for Tables\n * ...\n */\n</code></pre>\n<p>So, you'll have to do something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic List&lt;String&gt; getJavaClassImplements(Definition definition, Mode mode) {\n    if (mode == Mode.POJO)\n        return Arrays.asList(&quot;com.example.MyOptionalCustomInterface&quot;);\n    else\n        return Collections.emptyList();\n}\n</code></pre>\n<p>If you want to make sure that this inteface is only added to tables that match certain conditions, do this, instead:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic List&lt;String&gt; getJavaClassImplements(Definition definition, Mode mode) {\n    if (mode == Mode.POJO\n            &amp;&amp; definition instanceof TableDefinition t\n            &amp;&amp; t.getColumns().stream().anyMatch(c -&gt; conditionHere(c)))\n        return Arrays.asList(&quot;com.example.MyOptionalCustomInterface&quot;);\n    else\n        return Collections.emptyList();\n}\n</code></pre>\n"}],"owner":{"account_id":27800515,"reputation":13,"user_id":21225057,"display_name":"tolfel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75470598,"answer_count":1,"score":1,"last_activity_date":1676551646,"creation_date":1676534375,"question_id":75469313,"body_markdown":"I generate java classes with jOOQ. And I want to make POJOs implement an interface which contains only getters for fields. Obviously, I need this interface only in POJOs with such fields. \r\nI need check class or table for field and, if field extists, implement interface in pojo.\r\n\r\nOverriding `getJavaClassImplements` in `DefaultGeneratorStrategy` does not help because it adds the interface for all classes.","title":"Implement interface in POJO if contains field","body":"<p>I generate java classes with jOOQ. And I want to make POJOs implement an interface which contains only getters for fields. Obviously, I need this interface only in POJOs with such fields.\nI need check class or table for field and, if field extists, implement interface in pojo.</p>\n<p>Overriding <code>getJavaClassImplements</code> in <code>DefaultGeneratorStrategy</code> does not help because it adds the interface for all classes.</p>\n"},{"tags":["java","amazon-web-services"],"answers":[{"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1676478407,"creation_date":1676477617,"answer_id":75462542,"question_id":75462465,"body_markdown":"&quot;There&#39;s not a tutorial that explains this with accuracy&quot;.\r\n\r\nIf you are looking in the AWS Service Guide, you will not find this answer. However, if you want to learn HOW TO perform Cognito use cases using the AWS SDK for Java v2, then look in the ***[AWS Code Library][1]***. Here you will find very detailed Cognito code examples that uses the AWS SDK for Java v2 (as well as other AWS SDK examples). \r\n\r\nHere is a Java v2 code example that you should look at that covers the functionality you specified (plus more). \r\n\r\nThis code example shows how to:\r\n\r\n1. Sign up a user with a user name, password, and email address.\r\n\r\n2. Confirm the user from a code sent in email.\r\n\r\n3. Set up multi-factor authentication by associating an MFA application with the user.\r\n\r\n4. Sign in by using a password and an MFA code. \r\n\r\n[Sign up a user with an Amazon Cognito user pool that requires MFA using an AWS SDK][2]\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/code-library/latest/ug/what-is-code-library.html\r\n  [2]: https://docs.aws.amazon.com/code-library/latest/ug/cognito-identity-provider_example_cognito-identity-provider_Scenario_SignUpUserWithMfa_section.html","title":"Cognito in Java, sign up user with Force Change Password status","body":"<p>&quot;There's not a tutorial that explains this with accuracy&quot;.</p>\n<p>If you are looking in the AWS Service Guide, you will not find this answer. However, if you want to learn HOW TO perform Cognito use cases using the AWS SDK for Java v2, then look in the <em><strong><a href=\"https://docs.aws.amazon.com/code-library/latest/ug/what-is-code-library.html\" rel=\"nofollow noreferrer\">AWS Code Library</a></strong></em>. Here you will find very detailed Cognito code examples that uses the AWS SDK for Java v2 (as well as other AWS SDK examples).</p>\n<p>Here is a Java v2 code example that you should look at that covers the functionality you specified (plus more).</p>\n<p>This code example shows how to:</p>\n<ol>\n<li><p>Sign up a user with a user name, password, and email address.</p>\n</li>\n<li><p>Confirm the user from a code sent in email.</p>\n</li>\n<li><p>Set up multi-factor authentication by associating an MFA application with the user.</p>\n</li>\n<li><p>Sign in by using a password and an MFA code.</p>\n</li>\n</ol>\n<p><a href=\"https://docs.aws.amazon.com/code-library/latest/ug/cognito-identity-provider_example_cognito-identity-provider_Scenario_SignUpUserWithMfa_section.html\" rel=\"nofollow noreferrer\">Sign up a user with an Amazon Cognito user pool that requires MFA using an AWS SDK</a></p>\n"}],"owner":{"account_id":26380586,"reputation":109,"user_id":20033905,"display_name":"Ric97"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":241,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1676557780,"accepted_answer_id":75462542,"answer_count":1,"score":1,"last_activity_date":1676551384,"creation_date":1676477226,"question_id":75462465,"body_markdown":"I&#39;m totally new to AWS and specifically Cognito. I tried watching tutorials, reading documentations, but I can&#39;t really say I&#39;m aware of what&#39;s going on.\r\n\r\nRight now, I&#39;m using IntelliJ and downloaded the following library:\r\n*Maven:software.amazon.awssdk.cognitoidentityprovider:2.17.291.*\r\n\r\nWhat I want to do is:\r\n- Using a GUI I created in JavaFX, that should be used only by administrators, I want an admin to insert an email and username.\r\n- The password must be temporary, preferably automatically generated.\r\n- Upon first login, that user uses the temporary password but needs to change it. From what I&#39;ve read, this regards the UserStatus **&quot;FORCE_CHANGE_PASSWORD&quot;**.\r\n\r\nI don&#39;t really know where to start. There&#39;s not a tutorial that explains this with accuracy. I&#39;m getting lost reading about all the classes I could use, without understanding a good pattern I should follow. Can you give me some help? ","title":"Cognito in Java, sign up user with Force Change Password status","body":"<p>I'm totally new to AWS and specifically Cognito. I tried watching tutorials, reading documentations, but I can't really say I'm aware of what's going on.</p>\n<p>Right now, I'm using IntelliJ and downloaded the following library:\n<em>Maven:software.amazon.awssdk.cognitoidentityprovider:2.17.291.</em></p>\n<p>What I want to do is:</p>\n<ul>\n<li>Using a GUI I created in JavaFX, that should be used only by administrators, I want an admin to insert an email and username.</li>\n<li>The password must be temporary, preferably automatically generated.</li>\n<li>Upon first login, that user uses the temporary password but needs to change it. From what I've read, this regards the UserStatus <strong>&quot;FORCE_CHANGE_PASSWORD&quot;</strong>.</li>\n</ul>\n<p>I don't really know where to start. There's not a tutorial that explains this with accuracy. I'm getting lost reading about all the classes I could use, without understanding a good pattern I should follow. Can you give me some help?</p>\n"},{"tags":["java","android","user-interface","limit","toast"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":2,"creation_date":1560087179,"post_id":56514996,"comment_id":99615826,"body_markdown":"There *has* to be a better option than showing an individual `Toast` per file. If this is for your debugging purposes, use `Log` and Logcat. If this is for the user, use a `RecyclerView` to show them in a list.","body":"There <i>has</i> to be a better option than showing an individual <code>Toast</code> per file. If this is for your debugging purposes, use <code>Log</code> and Logcat. If this is for the user, use a <code>RecyclerView</code> to show them in a list."},{"owner":{"account_id":2714969,"reputation":5858,"user_id":2342558,"accept_rate":67,"display_name":"user2342558"},"score":0,"creation_date":1560174746,"post_id":56514996,"comment_id":99638945,"body_markdown":"@CommonsWare It&#39;s for my debugging purpose but while the device isn&#39;t attached to pc. So Logcat cannot help me in this case. Maybe a good solution to show a dialog with a ScrollView inside it? By doing so I must not alter the UI of the Activity. Thanks","body":"@CommonsWare It&#39;s for my debugging purpose but while the device isn&#39;t attached to pc. So Logcat cannot help me in this case. Maybe a good solution to show a dialog with a ScrollView inside it? By doing so I must not alter the UI of the Activity. Thanks"},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1560176390,"post_id":56514996,"comment_id":99639770,"body_markdown":"Look into [the various debug drawer implementations](https://android-arsenal.com/tag/218?sort=created). Or, connect `adb` over WiFi, so you still have Logcat access.","body":"Look into <a href=\"https://android-arsenal.com/tag/218?sort=created\" rel=\"nofollow noreferrer\">the various debug drawer implementations</a>. Or, connect <code>adb</code> over WiFi, so you still have Logcat access."}],"answers":[{"tags":[],"owner":{"account_id":11283090,"reputation":7449,"user_id":8274756,"display_name":"Tamir Abutbul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560087864,"creation_date":1560087864,"answer_id":56515091,"question_id":56514996,"body_markdown":"I think that it is possible that all of your Toasts are displaying, **but** because you have `LENGTH_LONG` in your toats some of them are displaying before the previous Toast is finished and they are overlapping each other so seems like you don&#39;t see them all.\r\n\r\nAs *@CommonsWare* said in his comment, is this is for your debugging better use `Log`.\r\n","title":"Is there a limit to the amount of displayable Toasts?","body":"<p>I think that it is possible that all of your Toasts are displaying, <strong>but</strong> because you have <code>LENGTH_LONG</code> in your toats some of them are displaying before the previous Toast is finished and they are overlapping each other so seems like you don't see them all.</p>\n\n<p>As <em>@CommonsWare</em> said in his comment, is this is for your debugging better use <code>Log</code>.</p>\n"},{"tags":[],"owner":{"account_id":10045767,"reputation":2865,"user_id":7427240,"display_name":"Vladim&#237;r Bielen&#253;"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1676551263,"creation_date":1560088043,"answer_id":56515116,"question_id":56514996,"body_markdown":"## Update February 2023\r\nA new [limit][1] of 5 queued toasts was added in Android 12, [preventing to queue too many toasts][2].\r\n\r\n    // To limit bad UX of seeing a toast many seconds after if was triggered.\r\n    static final int MAX_PACKAGE_TOASTS = 5;\r\n\r\n&lt;!-- --&gt;\r\n\r\n    if (count &gt;= MAX_PACKAGE_TOASTS) {\r\n        Slog.e(TAG, &quot;Package has already queued &quot; + count\r\n                + &quot; toasts. Not showing more. Package=&quot; + pkg);\r\n        return;\r\n    }\r\n\r\nAlso the [previous limit of 50 toasts][3] was changed to 25 in Android 10.\r\n\r\n    static final int MAX_PACKAGE_NOTIFICATIONS = 25;\r\n\r\n## Original answer\r\nYes, toasts are queued and there is a limit of 50 toasts, you can see the check for it in [`NotificationManagerService`][4] class\r\n\r\n    if (count &gt;= MAX_PACKAGE_NOTIFICATIONS) {\r\n        Slog.e(TAG, &quot;Package has already posted &quot; +\r\n               + &quot; toasts. Not showing more. Package=&quot; + pkg);\r\n        return;\r\n    }\r\n\r\nAnd `MAX_PACKAGE_NOTIFICATIONS` is declared as\r\n\r\n    static final int MAX_PACKAGE_NOTIFICATIONS = 50;\r\n\r\n\r\n  [1]: https://cs.android.com/android/platform/superproject/+/android-12.0.0_r34:frameworks/base/services/core/java/com/android/server/notification/NotificationManagerService.java;l=351\r\n  [2]: https://cs.android.com/android/platform/superproject/+/android-12.0.0_r34:frameworks/base/services/core/java/com/android/server/notification/NotificationManagerService.java;l=3236-3240\r\n  [3]: https://cs.android.com/android/platform/superproject/+/android-10.0.0_r47:frameworks/base/services/core/java/com/android/server/notification/NotificationManagerService.java;l=286\r\n  [4]: https://cs.android.com/android/platform/superproject/+/android-5.0.0_r7.0.1:frameworks/base/services/core/java/com/android/server/notification/NotificationManagerService.java;l=1032-1036","title":"Is there a limit to the amount of displayable Toasts?","body":"<h2>Update February 2023</h2>\n<p>A new <a href=\"https://cs.android.com/android/platform/superproject/+/android-12.0.0_r34:frameworks/base/services/core/java/com/android/server/notification/NotificationManagerService.java;l=351\" rel=\"nofollow noreferrer\">limit</a> of 5 queued toasts was added in Android 12, <a href=\"https://cs.android.com/android/platform/superproject/+/android-12.0.0_r34:frameworks/base/services/core/java/com/android/server/notification/NotificationManagerService.java;l=3236-3240\" rel=\"nofollow noreferrer\">preventing to queue too many toasts</a>.</p>\n<pre><code>// To limit bad UX of seeing a toast many seconds after if was triggered.\nstatic final int MAX_PACKAGE_TOASTS = 5;\n</code></pre>\n\n<pre><code>if (count &gt;= MAX_PACKAGE_TOASTS) {\n    Slog.e(TAG, &quot;Package has already queued &quot; + count\n            + &quot; toasts. Not showing more. Package=&quot; + pkg);\n    return;\n}\n</code></pre>\n<p>Also the <a href=\"https://cs.android.com/android/platform/superproject/+/android-10.0.0_r47:frameworks/base/services/core/java/com/android/server/notification/NotificationManagerService.java;l=286\" rel=\"nofollow noreferrer\">previous limit of 50 toasts</a> was changed to 25 in Android 10.</p>\n<pre><code>static final int MAX_PACKAGE_NOTIFICATIONS = 25;\n</code></pre>\n<h2>Original answer</h2>\n<p>Yes, toasts are queued and there is a limit of 50 toasts, you can see the check for it in <a href=\"https://cs.android.com/android/platform/superproject/+/android-5.0.0_r7.0.1:frameworks/base/services/core/java/com/android/server/notification/NotificationManagerService.java;l=1032-1036\" rel=\"nofollow noreferrer\"><code>NotificationManagerService</code></a> class</p>\n<pre><code>if (count &gt;= MAX_PACKAGE_NOTIFICATIONS) {\n    Slog.e(TAG, &quot;Package has already posted &quot; +\n           + &quot; toasts. Not showing more. Package=&quot; + pkg);\n    return;\n}\n</code></pre>\n<p>And <code>MAX_PACKAGE_NOTIFICATIONS</code> is declared as</p>\n<pre><code>static final int MAX_PACKAGE_NOTIFICATIONS = 50;\n</code></pre>\n"}],"owner":{"account_id":2714969,"reputation":5858,"user_id":2342558,"accept_rate":67,"display_name":"user2342558"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":781,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":56515116,"answer_count":2,"score":0,"last_activity_date":1676551263,"creation_date":1560087043,"question_id":56514996,"body_markdown":"In the MainActivity I need to show all files returned by `getApplicationContext().fileList()` but only about the first 50 Toast will be displayed.\r\n\r\nThere is some limit for that?\r\n\r\n    String[] fileList = getApplicationContext().fileList();\r\n    \r\n    Toast.makeText(getApplicationContext(), fileList.length + &quot; files&quot;, Toast.LENGTH_LONG).show();\r\n    \r\n    for (String fileName : fileList)\r\n    {\r\n        Toast.makeText(getApplicationContext(), fileName, Toast.LENGTH_LONG).show();\r\n    }\r\n\r\nThanks","title":"Is there a limit to the amount of displayable Toasts?","body":"<p>In the MainActivity I need to show all files returned by <code>getApplicationContext().fileList()</code> but only about the first 50 Toast will be displayed.</p>\n\n<p>There is some limit for that?</p>\n\n<pre><code>String[] fileList = getApplicationContext().fileList();\n\nToast.makeText(getApplicationContext(), fileList.length + \" files\", Toast.LENGTH_LONG).show();\n\nfor (String fileName : fileList)\n{\n    Toast.makeText(getApplicationContext(), fileName, Toast.LENGTH_LONG).show();\n}\n</code></pre>\n\n<p>Thanks</p>\n"},{"tags":["java","oop","inheritance"],"comments":[{"owner":{"account_id":1718670,"reputation":4778,"user_id":1575188,"display_name":"fantaghirocco"},"score":1,"creation_date":1597073812,"post_id":63343239,"comment_id":112007903,"body_markdown":"write a singleton","body":"write a singleton"},{"owner":{"account_id":1718670,"reputation":4778,"user_id":1575188,"display_name":"fantaghirocco"},"score":1,"creation_date":1597073861,"post_id":63343239,"comment_id":112007929,"body_markdown":"Does this answer your question? [Single instance of Java class](https://stackoverflow.com/questions/2062520/single-instance-of-java-class)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2062520/single-instance-of-java-class\">Single instance of Java class</a>"},{"owner":{"account_id":7741428,"reputation":33,"user_id":8266938,"display_name":"akshay"},"score":0,"creation_date":1597074014,"post_id":63343239,"comment_id":112007994,"body_markdown":"Hi fantaghirocco, I am aware of Singleton Pattern. But I think the requirement is slightly different","body":"Hi fantaghirocco, I am aware of Singleton Pattern. But I think the requirement is slightly different"},{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1597074059,"post_id":63343239,"comment_id":112008006,"body_markdown":"What do you mean by no duplication of code?","body":"What do you mean by no duplication of code?"},{"owner":{"account_id":7741428,"reputation":33,"user_id":8266938,"display_name":"akshay"},"score":0,"creation_date":1597074180,"post_id":63343239,"comment_id":112008057,"body_markdown":"I should not override any method in child class just to write similar logic.","body":"I should not override any method in child class just to write similar logic."},{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1597074315,"post_id":63343239,"comment_id":112008116,"body_markdown":"@akshay Could you show what you have tried and why you can&#39;t use it?","body":"@akshay Could you show what you have tried and why you can&#39;t use it?"},{"owner":{"account_id":7741428,"reputation":33,"user_id":8266938,"display_name":"akshay"},"score":0,"creation_date":1597075326,"post_id":63343239,"comment_id":112008588,"body_markdown":"@hev1 I have edited the question. Please check","body":"@hev1 I have edited the question. Please check"}],"answers":[{"tags":[],"owner":{"account_id":12819454,"reputation":2082,"user_id":9274948,"display_name":"Hawk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1597078003,"creation_date":1597074421,"answer_id":63343514,"question_id":63343239,"body_markdown":"# Problem\r\nWe have established that the subclass implicitly calls the super constructor, which in return throws.\r\n\r\n# 1. Singleton / Factory Method solution\r\n\r\nWhat you want to achieve is described as a Singleton design pattern. It conceptually requires a `static` members.\r\nStatic fields and/or methods (if you want to use a factory method) are not inherited, so duplication of the code which manipulates the static field is inevitable.\r\n\r\nYou **should** use the duplicated null-check &amp; store static instance technique, it is widely used and accepted. The amount of code duplication is minimal and you should not be scared of it.\r\n\r\n**EDITED** as to implicit super constructor call: You can use a condition (as in `A`) or a factory method (as in `B`).\r\n\r\n```\r\npublic class A {\r\n\tprivate static A instance;\r\n\t\r\n    public A() {\r\n\t\tif (this.getClass() == A.class) {\r\n\t\t\tif (instance != null) {\r\n\t\t\t\tthrow new IllegalArgumentException();\r\n\t\t\t}\r\n\t\t\tinstance = this;\r\n\t\t}\r\n\t}\r\n}\r\n\r\npublic class B extends A {\r\n\tprivate static B instance;\r\n\r\n\tprivate B() { }\r\n\r\n    public static B getInstance() {\r\n\t\tif (instance != null) {\r\n\t\t\tthrow new IllegalArgumentException();\r\n\t\t}\r\n\t\treturn instance = new B();\r\n\t}\r\n}\r\n\r\npublic class C extends B {\r\n\tprivate static C instance;\r\n\t\t\r\n\tpublic C() {\r\n\t\t// check if (this.getClass() == B.class) when someone extends C\r\n\t\tif (instance != null) {\r\n\t\t\tthrow new IllegalArgumentException();\r\n\t\t}\r\n\t\tinstance = this;\r\n\t}\r\n}\r\n\r\npublic static void main(String[] args) {\r\n    A a1 = new A();\r\n\tB b1 = B.getInstance();\r\n\tC c1 = new C();\r\n}\r\n\r\n```\r\n\r\nAlternatively, you can declare a `private` constructor and have a `static` Factory Method. If you are in a multi-threaded environment, pay attention to *synchronisation*.\r\n\r\n\r\n---\r\n# 2. Collecting all instances in the top-most parent\r\n\r\nAn other obscure solution would be to collect all `Class&lt;&gt;` instances in the top parent and check for duplicity in the constructor. **This is not a &lt;strike&gt;good&lt;/strike&gt; conventional solution.** The singelton pattern is usual.\r\n\r\n```\r\npublic class TopClass {\r\n\tprivate static final Set&lt;Class&lt;? extends TopClass&gt;&gt; instances = new HashSet&lt;&gt;();\r\n\r\n\tpublic TopClass() {\r\n\t\tif (instances.contains(this.getClass())) {\r\n\t\t\tthrow new IllegalArgumentException();\r\n\t\t}\r\n\t\tinstances.add(this.getClass());\r\n\t}\r\n}\r\n\r\npublic class SubClass extends TopClass {}\r\npublic class AnotherClass extends SubClass {}\r\n```\r\n\r\nThis way you limit **all** future subclasses to be instantiated only once. It is limiting, but yes - less lines of code.","title":"Creating single instances of each class in the inheritance hierarchy","body":"<h1>Problem</h1>\n<p>We have established that the subclass implicitly calls the super constructor, which in return throws.</p>\n<h1>1. Singleton / Factory Method solution</h1>\n<p>What you want to achieve is described as a Singleton design pattern. It conceptually requires a <code>static</code> members.\nStatic fields and/or methods (if you want to use a factory method) are not inherited, so duplication of the code which manipulates the static field is inevitable.</p>\n<p>You <strong>should</strong> use the duplicated null-check &amp; store static instance technique, it is widely used and accepted. The amount of code duplication is minimal and you should not be scared of it.</p>\n<p><strong>EDITED</strong> as to implicit super constructor call: You can use a condition (as in <code>A</code>) or a factory method (as in <code>B</code>).</p>\n<pre><code>public class A {\n    private static A instance;\n    \n    public A() {\n        if (this.getClass() == A.class) {\n            if (instance != null) {\n                throw new IllegalArgumentException();\n            }\n            instance = this;\n        }\n    }\n}\n\npublic class B extends A {\n    private static B instance;\n\n    private B() { }\n\n    public static B getInstance() {\n        if (instance != null) {\n            throw new IllegalArgumentException();\n        }\n        return instance = new B();\n    }\n}\n\npublic class C extends B {\n    private static C instance;\n        \n    public C() {\n        // check if (this.getClass() == B.class) when someone extends C\n        if (instance != null) {\n            throw new IllegalArgumentException();\n        }\n        instance = this;\n    }\n}\n\npublic static void main(String[] args) {\n    A a1 = new A();\n    B b1 = B.getInstance();\n    C c1 = new C();\n}\n\n</code></pre>\n<p>Alternatively, you can declare a <code>private</code> constructor and have a <code>static</code> Factory Method. If you are in a multi-threaded environment, pay attention to <em>synchronisation</em>.</p>\n<hr />\n<h1>2. Collecting all instances in the top-most parent</h1>\n<p>An other obscure solution would be to collect all <code>Class&lt;&gt;</code> instances in the top parent and check for duplicity in the constructor. <strong>This is not a <strike>good</strike> conventional solution.</strong> The singelton pattern is usual.</p>\n<pre><code>public class TopClass {\n    private static final Set&lt;Class&lt;? extends TopClass&gt;&gt; instances = new HashSet&lt;&gt;();\n\n    public TopClass() {\n        if (instances.contains(this.getClass())) {\n            throw new IllegalArgumentException();\n        }\n        instances.add(this.getClass());\n    }\n}\n\npublic class SubClass extends TopClass {}\npublic class AnotherClass extends SubClass {}\n</code></pre>\n<p>This way you limit <strong>all</strong> future subclasses to be instantiated only once. It is limiting, but yes - less lines of code.</p>\n"},{"tags":[],"owner":{"account_id":18719833,"reputation":21,"user_id":13647978,"display_name":"d3nnisp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597080064,"creation_date":1597076814,"answer_id":63344151,"question_id":63343239,"body_markdown":"I suppose you can make a Set of already initialized classes and check it every time you construct a new one. It allows create **one** instance of A, **one** instance of B and **one** instance of C.\r\n\r\n\r\n    class A {\r\n        private static final Set&lt;Class&lt;? extends A&gt;&gt; calledInitializations = new HashSet&lt;&gt;();\r\n    \r\n        A() {\r\n            checkForSecondInit(A.class);\r\n        }\r\n    \r\n        protected void checkForSecondInit(Class&lt;? extends A&gt; clazz) {\r\n            if (isNotInSuperClassOf(clazz)) {\r\n                if (calledInitializations.contains(clazz)) {\r\n                    throw new RuntimeException(&quot;Second init in &quot; + clazz.getName());\r\n                } else {\r\n                    calledInitializations.add(clazz);\r\n                }\r\n            }\r\n        }\r\n\r\n        private boolean isNotInSuperClassOf(Class&lt;? extends A&gt; clazz) {\r\n            return getClass() == clazz;\r\n        }\r\n    }\r\n    \r\n    class B extends A {\r\n        B() {\r\n            checkForSecondInit(B.class);\r\n        }\r\n    }\r\n    \r\n    class C extends B {\r\n        C() {\r\n            checkForSecondInit(C.class);\r\n        }\r\n    }\r\n","title":"Creating single instances of each class in the inheritance hierarchy","body":"<p>I suppose you can make a Set of already initialized classes and check it every time you construct a new one. It allows create <strong>one</strong> instance of A, <strong>one</strong> instance of B and <strong>one</strong> instance of C.</p>\n<pre><code>class A {\n    private static final Set&lt;Class&lt;? extends A&gt;&gt; calledInitializations = new HashSet&lt;&gt;();\n\n    A() {\n        checkForSecondInit(A.class);\n    }\n\n    protected void checkForSecondInit(Class&lt;? extends A&gt; clazz) {\n        if (isNotInSuperClassOf(clazz)) {\n            if (calledInitializations.contains(clazz)) {\n                throw new RuntimeException(&quot;Second init in &quot; + clazz.getName());\n            } else {\n                calledInitializations.add(clazz);\n            }\n        }\n    }\n\n    private boolean isNotInSuperClassOf(Class&lt;? extends A&gt; clazz) {\n        return getClass() == clazz;\n    }\n}\n\nclass B extends A {\n    B() {\n        checkForSecondInit(B.class);\n    }\n}\n\nclass C extends B {\n    C() {\n        checkForSecondInit(C.class);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10158490,"reputation":150,"user_id":7502769,"display_name":"KESHAV KUMAR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676550833,"creation_date":1676550833,"answer_id":75472343,"question_id":63343239,"body_markdown":" We can create static Set collection and add the classname along with package to set. For new object, it will check if there is a existing class name in the set or not. \r\n\r\nFor thread safety,set is added in synchronized block.   \r\n\r\n    import java.util.HashSet;\r\n    import java.util.Set;\r\n\r\n    public class A {\r\n        static Set&lt;String&gt; set;\r\n        public A(){\r\n           if(set==null){\r\n               synchronized(set){\r\n                  set = new HashSet&lt;&gt;();\r\n               }\r\n            }\r\n            String classWithPackage = getClass().toString().split(&quot; &quot;)[1];\r\n            if(set.contains(classWithPackage)){\r\n                throw new RuntimeException(&quot;Only one instance can be created for: &quot;+classWithPackage);\r\n            }else {\r\n                synchronized(set){\r\n                    set.add(classWithPackage);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    class B extends A{\r\n        public B(){\r\n            super();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            A a = new A();\r\n            A a2 = new B();\r\n            B b1 = new B();\r\n        }\r\n    }","title":"Creating single instances of each class in the inheritance hierarchy","body":"<p>We can create static Set collection and add the classname along with package to set. For new object, it will check if there is a existing class name in the set or not.</p>\n<p>For thread safety,set is added in synchronized block.</p>\n<pre><code>import java.util.HashSet;\nimport java.util.Set;\n\npublic class A {\n    static Set&lt;String&gt; set;\n    public A(){\n       if(set==null){\n           synchronized(set){\n              set = new HashSet&lt;&gt;();\n           }\n        }\n        String classWithPackage = getClass().toString().split(&quot; &quot;)[1];\n        if(set.contains(classWithPackage)){\n            throw new RuntimeException(&quot;Only one instance can be created for: &quot;+classWithPackage);\n        }else {\n            synchronized(set){\n                set.add(classWithPackage);\n            }\n        }\n    }\n}\nclass B extends A{\n    public B(){\n        super();\n    }\n\n    public static void main(String[] args) {\n        A a = new A();\n        A a2 = new B();\n        B b1 = new B();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7741428,"reputation":33,"user_id":8266938,"display_name":"akshay"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":261,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":63343514,"answer_count":3,"score":1,"last_activity_date":1676550833,"creation_date":1597073368,"question_id":63343239,"body_markdown":"Suppose there are three classes namely **A, B** and **C** such that **B extends A**, **C extends B**.\r\n\r\nRequirement is that client code should be able to **call the constructors of each class only once** successfully. Upon trying to **call constructor twice** it should **throw an exception**. \r\n\r\nHow can I implement this in Java if duplication of code is not permitted in the child classes?\r\n\r\nExample :\r\n\r\n```\r\npublic class A {\r\n    private static A instance;\r\n\r\n    public A() {\r\n        if (instance != null) {\r\n            throw new IllegalArgumentException();\r\n        }\r\n        instance = this;\r\n    }\r\n}\r\n\r\npublic class B extends A {\r\n    private static B instance;\r\n\r\n    public B() {\r\n        if (instance != null) {\r\n            throw new IllegalArgumentException();\r\n        }\r\n        instance = this;\r\n    }\r\n}\r\n\r\npublic class C extends B {\r\n    private static C instance;\r\n    public C() {\r\n        if (instance != null) {\r\n            throw new IllegalArgumentException();\r\n        }\r\n        instance = this;\r\n    }\r\n\r\n}\r\n\r\npublic class Driver {\r\n    public static void main(String[] args) {\r\n        A a1 = new A();\r\n        B b1 = new B(); //throwing IllegalArgumentException, it should not throw\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\n\r\n \r\nThings I tried. \r\n\r\nMaintaining a private static reference of the respective class type which is initially set as null.\r\nIn the constructor block I added a null check to assign ***this*** reference to the static reference. Did not work as I could not avoid duplicating code.\r\n\r\nRequirement\r\n\r\n```\r\n//this should work fine\r\n\r\nA a1 = new A();\r\nB b1 = new B();\r\nC c1 = new C();\r\n\r\n---------------\r\n\r\n//this should throw runtime exception\r\n\r\nA a1 = new A();\r\nA a2 = new A();\r\nB b1 = new B();\r\n\r\n\r\n---------------\r\n//this should throw runtime exception\r\n\r\nA a1 = new A();\r\nB b1 = new B();\r\nB b2 = new B();\r\n\r\n---------------\r\n\r\n//this should throw runtime exception\r\n\r\nA a1 = new A();\r\nB b1 = new B();\r\nC c1 = new C();\r\nC c2 = new C();\r\n\r\n\r\n```\r\n\r\n\r\nI hope I am clear with the requirements","title":"Creating single instances of each class in the inheritance hierarchy","body":"<p>Suppose there are three classes namely <strong>A, B</strong> and <strong>C</strong> such that <strong>B extends A</strong>, <strong>C extends B</strong>.</p>\n<p>Requirement is that client code should be able to <strong>call the constructors of each class only once</strong> successfully. Upon trying to <strong>call constructor twice</strong> it should <strong>throw an exception</strong>.</p>\n<p>How can I implement this in Java if duplication of code is not permitted in the child classes?</p>\n<p>Example :</p>\n<pre><code>public class A {\n    private static A instance;\n\n    public A() {\n        if (instance != null) {\n            throw new IllegalArgumentException();\n        }\n        instance = this;\n    }\n}\n\npublic class B extends A {\n    private static B instance;\n\n    public B() {\n        if (instance != null) {\n            throw new IllegalArgumentException();\n        }\n        instance = this;\n    }\n}\n\npublic class C extends B {\n    private static C instance;\n    public C() {\n        if (instance != null) {\n            throw new IllegalArgumentException();\n        }\n        instance = this;\n    }\n\n}\n\npublic class Driver {\n    public static void main(String[] args) {\n        A a1 = new A();\n        B b1 = new B(); //throwing IllegalArgumentException, it should not throw\n    }\n}\n\n\n</code></pre>\n<p>Things I tried.</p>\n<p>Maintaining a private static reference of the respective class type which is initially set as null.\nIn the constructor block I added a null check to assign <em><strong>this</strong></em> reference to the static reference. Did not work as I could not avoid duplicating code.</p>\n<p>Requirement</p>\n<pre><code>//this should work fine\n\nA a1 = new A();\nB b1 = new B();\nC c1 = new C();\n\n---------------\n\n//this should throw runtime exception\n\nA a1 = new A();\nA a2 = new A();\nB b1 = new B();\n\n\n---------------\n//this should throw runtime exception\n\nA a1 = new A();\nB b1 = new B();\nB b2 = new B();\n\n---------------\n\n//this should throw runtime exception\n\nA a1 = new A();\nB b1 = new B();\nC c1 = new C();\nC c2 = new C();\n\n\n</code></pre>\n<p>I hope I am clear with the requirements</p>\n"},{"tags":["java","jpa"],"answers":[{"tags":[],"owner":{"account_id":4240367,"reputation":422,"user_id":3470438,"accept_rate":75,"display_name":"wimdetr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676550647,"creation_date":1676550647,"answer_id":75472301,"question_id":75472132,"body_markdown":"Other than for creating the schema based on the JPA annotations, it is also a needed at runtime for the JPA provider to order INSERT, UPDATE and DELETE statements correctly.\r\n\r\n\r\n&gt; Unique constraints ensure that the data in a column or combination of columns is unique for each row. A table&#39;s primary key, for example, functions as an implicit unique constraint. In JPA, you represent other unique constraints with an array of UniqueConstraint annotations within the table annotation. The unique constraints you define are used during table creation to generate the proper database constraints, and may also be used at runtime to order INSERT, UPDATE , and DELETE statements. For example, suppose there is a unique constraint on the columns of field F. In the same transaction, you remove an object A and persist a new object B, both with the same F value. The JPA runtime must ensure that the SQL deleting A is sent to the database before the SQL inserting B to avoid a unique constraint violation.\r\n\r\nSource: https://openjpa.apache.org/builds/1.0.2/apache-openjpa-1.0.2/docs/manual/jpa_overview_mapping_unq.html\r\n\r\n\r\nSo yes: it is important.","title":"Repetition of constraint in liquidbase and entity definition","body":"<p>Other than for creating the schema based on the JPA annotations, it is also a needed at runtime for the JPA provider to order INSERT, UPDATE and DELETE statements correctly.</p>\n<blockquote>\n<p>Unique constraints ensure that the data in a column or combination of columns is unique for each row. A table's primary key, for example, functions as an implicit unique constraint. In JPA, you represent other unique constraints with an array of UniqueConstraint annotations within the table annotation. The unique constraints you define are used during table creation to generate the proper database constraints, and may also be used at runtime to order INSERT, UPDATE , and DELETE statements. For example, suppose there is a unique constraint on the columns of field F. In the same transaction, you remove an object A and persist a new object B, both with the same F value. The JPA runtime must ensure that the SQL deleting A is sent to the database before the SQL inserting B to avoid a unique constraint violation.</p>\n</blockquote>\n<p>Source: <a href=\"https://openjpa.apache.org/builds/1.0.2/apache-openjpa-1.0.2/docs/manual/jpa_overview_mapping_unq.html\" rel=\"nofollow noreferrer\">https://openjpa.apache.org/builds/1.0.2/apache-openjpa-1.0.2/docs/manual/jpa_overview_mapping_unq.html</a></p>\n<p>So yes: it is important.</p>\n"}],"owner":{"account_id":13909549,"reputation":37,"user_id":10043100,"display_name":"mihu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75472301,"answer_count":1,"score":0,"last_activity_date":1676550647,"creation_date":1676549807,"question_id":75472132,"body_markdown":"I`ve noticed that in my project some composite constraint are set in a liquidbase,\r\nfor example\r\n\r\n`constraint importer_ukey unique (name, country_id, is_importer, is_manufacturer)`\r\n\r\nbut then they are repeated in entity definition in @Table annotation\r\n\r\n    @Table(uniqueConstraints = {@UniqueConstraint(name = &quot;importer_ukey&quot;,\r\n                    columnNames = {&quot;name&quot;, &quot;country_id&quot;, &quot;is_importer&quot;, &quot;is_manufacturer&quot;})})\r\n\r\nIs there any positive in repetition of uniqueConstraint in entity ?\r\n\r\n\r\n \r\n\r\n\r\n","title":"Repetition of constraint in liquidbase and entity definition","body":"<p>I`ve noticed that in my project some composite constraint are set in a liquidbase,\nfor example</p>\n<p><code>constraint importer_ukey unique (name, country_id, is_importer, is_manufacturer)</code></p>\n<p>but then they are repeated in entity definition in @Table annotation</p>\n<pre><code>@Table(uniqueConstraints = {@UniqueConstraint(name = &quot;importer_ukey&quot;,\n                columnNames = {&quot;name&quot;, &quot;country_id&quot;, &quot;is_importer&quot;, &quot;is_manufacturer&quot;})})\n</code></pre>\n<p>Is there any positive in repetition of uniqueConstraint in entity ?</p>\n"},{"tags":["java","multithreading","logging","stringbuffer"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1676489220,"post_id":75464038,"comment_id":133149205,"body_markdown":"Is it reproducible? Can you provide some code of your tests - or similiar tests - so we can have a look. `StringBuilder` is not thread safe, while `StringBuffer` is. How do you find out, when all test cases are ready and you can send data? Maybe that synchronization is not done properly?","body":"Is it reproducible? Can you provide some code of your tests - or similiar tests - so we can have a look. <code>StringBuilder</code> is not thread safe, while <code>StringBuffer</code> is. How do you find out, when all test cases are ready and you can send data? Maybe that synchronization is not done properly?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676490589,"post_id":75464038,"comment_id":133149551,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676550608,"creation_date":1676550608,"answer_id":75472291,"question_id":75464038,"body_markdown":"Multiple threads call `Messages.init()`.\r\n\r\nThe first time we call `init` the previous value of `null` for `msg` is replaced with a new `ThreadLocal`.\r\n\r\nThe next time we call `init` the previous value is replaced *with a new copy of `ThreadLocal`*, effectively discarding all previously used/created `StringBuffer` objects.\r\n\r\nAnd the same the next time ...\r\n\r\nThere&#39;s no point in that `init` method and you should get rid of it (and all calls to it) and just define `msg` like this:\r\n\r\n    static final ThreadLocal&lt;StringBuffer&gt; msg = new ThreadLocal&lt;StringBuffer&gt;() {\r\n                @Override\r\n                protected StringBuffer initialValue() {\r\n                    return new StringBuffer();\r\n                }\r\n         };\r\n\r\nThe whole point of `ThreadLocal` is that you only need **one instance** of it to give *each thread their own `StringBuffer`*.\r\n\r\nAlso, if all access to the content is via those methods, then the synchronization/thread safety of `StringBuffer` isn&#39;t needed and you should use a `StringBuilder` instead.","title":"Not seeing full data in the string buffer in mutli thread logging","body":"<p>Multiple threads call <code>Messages.init()</code>.</p>\n<p>The first time we call <code>init</code> the previous value of <code>null</code> for <code>msg</code> is replaced with a new <code>ThreadLocal</code>.</p>\n<p>The next time we call <code>init</code> the previous value is replaced <em>with a new copy of <code>ThreadLocal</code></em>, effectively discarding all previously used/created <code>StringBuffer</code> objects.</p>\n<p>And the same the next time ...</p>\n<p>There's no point in that <code>init</code> method and you should get rid of it (and all calls to it) and just define <code>msg</code> like this:</p>\n<pre><code>static final ThreadLocal&lt;StringBuffer&gt; msg = new ThreadLocal&lt;StringBuffer&gt;() {\n            @Override\n            protected StringBuffer initialValue() {\n                return new StringBuffer();\n            }\n     };\n</code></pre>\n<p>The whole point of <code>ThreadLocal</code> is that you only need <strong>one instance</strong> of it to give <em>each thread their own <code>StringBuffer</code></em>.</p>\n<p>Also, if all access to the content is via those methods, then the synchronization/thread safety of <code>StringBuffer</code> isn't needed and you should use a <code>StringBuilder</code> instead.</p>\n"}],"owner":{"account_id":27796182,"reputation":23,"user_id":21221649,"display_name":"Siva Sai Phalguna Kaipa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75472291,"answer_count":1,"score":1,"last_activity_date":1676550608,"creation_date":1676485740,"question_id":75464038,"body_markdown":"I am using ThreadLocal StringBuffer for storing entire log to move it to kibana at the end of each test case execution. But when I am running cases in parallel, the log is loosing some entries.\r\nI am writing the log into file before adding it to StringBuffer and I see all entires in the log file but not in the StringBuffer.\r\n\r\nAny ideas are much appreciated.\r\n\r\nI tried String Builder but no luck. Tried to make synchronized still no luck. I tried writing the log entry into file before moving into string buffer and I see all entire there but not getting all entries in string buffer\r\n\r\n    public abstract class Messages {\r\n    \r\n        static ThreadLocal&lt;StringBuffer&gt; msg;\r\n        public static void init() {\r\n             msg = new ThreadLocal&lt;StringBuffer&gt;() {\r\n                @Override\r\n                protected StringBuffer initialValue() {\r\n                    return new StringBuffer();\r\n                }\r\n         };\r\n    \r\n         public static void addMsg(String msg) {\r\n              msg.get().append(msg + &quot;\\r\\n&quot;);\r\n                System.out.println(msg);\r\n        }\r\n    }\r\n\r\n    public class CallingClass(){\r\n        public void callingMethod(String threadName){\r\n           Messages.init();\r\n           Messages.addMsg(&quot;Hi&quot;);\r\n           Messages.addMsg(&quot;This&quot;);\r\n           Messages.addMsg(&quot;Is&quot;);\r\n           Messages.addMsg(&quot;Testing&quot;);\r\n           Messages.addMsg(&quot;For&quot;);\r\n           Messages.addMsg(&quot;Multi&quot;);\r\n           Messages.addMsg(&quot;Thread&quot;);\r\n           Messages.addMsg(&quot;UI&quot;);\r\n           Messages.addMsg(threadName + &quot;!!&quot;);\r\n        }\r\n    }\r\n\r\nFrom my cucumber tests, we call the above method callingMethod from each thread. \r\n\r\nI am running 10 parallel threads and the result is different when I print the msg at the end from all 10 threads, I see for some threads it is missing the first few entries.\r\n\r\nI tried making addMsg synchronized but still no luck. In a single thread execution, the log is proper and also when I am using debug from eclipse, the log is coming properly as expected. \r\n\r\n\r\n","title":"Not seeing full data in the string buffer in mutli thread logging","body":"<p>I am using ThreadLocal StringBuffer for storing entire log to move it to kibana at the end of each test case execution. But when I am running cases in parallel, the log is loosing some entries.\nI am writing the log into file before adding it to StringBuffer and I see all entires in the log file but not in the StringBuffer.</p>\n<p>Any ideas are much appreciated.</p>\n<p>I tried String Builder but no luck. Tried to make synchronized still no luck. I tried writing the log entry into file before moving into string buffer and I see all entire there but not getting all entries in string buffer</p>\n<pre><code>public abstract class Messages {\n\n    static ThreadLocal&lt;StringBuffer&gt; msg;\n    public static void init() {\n         msg = new ThreadLocal&lt;StringBuffer&gt;() {\n            @Override\n            protected StringBuffer initialValue() {\n                return new StringBuffer();\n            }\n     };\n\n     public static void addMsg(String msg) {\n          msg.get().append(msg + &quot;\\r\\n&quot;);\n            System.out.println(msg);\n    }\n}\n\npublic class CallingClass(){\n    public void callingMethod(String threadName){\n       Messages.init();\n       Messages.addMsg(&quot;Hi&quot;);\n       Messages.addMsg(&quot;This&quot;);\n       Messages.addMsg(&quot;Is&quot;);\n       Messages.addMsg(&quot;Testing&quot;);\n       Messages.addMsg(&quot;For&quot;);\n       Messages.addMsg(&quot;Multi&quot;);\n       Messages.addMsg(&quot;Thread&quot;);\n       Messages.addMsg(&quot;UI&quot;);\n       Messages.addMsg(threadName + &quot;!!&quot;);\n    }\n}\n</code></pre>\n<p>From my cucumber tests, we call the above method callingMethod from each thread.</p>\n<p>I am running 10 parallel threads and the result is different when I print the msg at the end from all 10 threads, I see for some threads it is missing the first few entries.</p>\n<p>I tried making addMsg synchronized but still no luck. In a single thread execution, the log is proper and also when I am using debug from eclipse, the log is coming properly as expected.</p>\n"},{"tags":["java","shell","base64"],"answers":[{"tags":[],"owner":{"account_id":5312156,"reputation":182,"user_id":4242040,"display_name":"ua2b"},"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1416658013,"creation_date":1416658013,"answer_id":27077184,"question_id":27077101,"body_markdown":"Your encoded strings differ in that the java former includes 2 newline characters `&#39;\\n&#39;` at the end while the latter only has one.\r\n\r\nYou can tell by typing e.g. `echo dGVzdAo= | base64 --decode | od -c`","title":"Base64 encoded output is different in Java/shell","body":"<p>Your encoded strings differ in that the java former includes 2 newline characters <code>'\\n'</code> at the end while the latter only has one.</p>\n\n<p>You can tell by typing e.g. <code>echo dGVzdAo= | base64 --decode | od -c</code></p>\n"}],"owner":{"account_id":3221013,"reputation":160,"user_id":2718479,"accept_rate":88,"display_name":"Picasu27"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1086,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676550537,"accepted_answer_id":27077184,"answer_count":1,"score":0,"last_activity_date":1676550504,"creation_date":1416657441,"question_id":27077101,"body_markdown":"I have been facing a issue in base64 encoding.\r\n\r\nI had encoded a string &quot;test&quot; using Java base64 encoding.\r\n\r\nMy output is &quot;dGVzdA0K&quot;.\r\n\r\nWhen using the same string in Linux base64, I received &quot;dGVzdAo=&quot;.\r\n\r\nWhy is there a difference? I have to pass my shell encoded output to Java base64 decoder.\r\n\r\nWhen decoding both string in online decoders, it returns the expected string, but it does not work in my case.","title":"Base64 encoded output is different in Java/shell","body":"<p>I have been facing a issue in base64 encoding.</p>\n<p>I had encoded a string &quot;test&quot; using Java base64 encoding.</p>\n<p>My output is &quot;dGVzdA0K&quot;.</p>\n<p>When using the same string in Linux base64, I received &quot;dGVzdAo=&quot;.</p>\n<p>Why is there a difference? I have to pass my shell encoded output to Java base64 decoder.</p>\n<p>When decoding both string in online decoders, it returns the expected string, but it does not work in my case.</p>\n"},{"tags":["java","android","android-5.0-lollipop","android-5.1.1-lollipop"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676554610,"post_id":75472215,"comment_id":133162971,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1676569892,"post_id":75472215,"comment_id":133168170,"body_markdown":"Try looking at [How to Clear Cache Data in Android Application Programmatically](https://androidcource.blogspot.com/2018/07/clear-cache-data-in-android-app.html?m=1).","body":"Try looking at <a href=\"https://androidcource.blogspot.com/2018/07/clear-cache-data-in-android-app.html?m=1\" rel=\"nofollow noreferrer\">How to Clear Cache Data in Android Application Programmatically</a>."},{"owner":{"account_id":4474256,"reputation":1,"user_id":3639731,"display_name":"RentUrApp"},"score":0,"creation_date":1676631114,"post_id":75472215,"comment_id":133180536,"body_markdown":"This is the same code as the my first reference above: I have tried Clear Cache in Android Application programmatically and does noit clear the cache.","body":"This is the same code as the my first reference above: I have tried Clear Cache in Android Application programmatically and does noit clear the cache."}],"owner":{"account_id":4474256,"reputation":1,"user_id":3639731,"display_name":"RentUrApp"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676550434,"creation_date":1676550195,"question_id":75472215,"body_markdown":"Is it possible to write a function to clear the app cache on my app. I know that I can go to app settings and clear it that way but I want to be able to do that within my own app in code when its finished processing.\r\n\r\nAny suggestions would be greatly appreciated.\r\n\r\nI have tried https://stackoverflow.com/questions/23908189/clear-cache-in-android-application-programmatically/23908638#23908638 but the app still shows that the cache is not cleared.\r\n\r\nI have also looked at https://stackoverflow.com/questions/36829176/how-to-delete-app-cache-for-all-apps-in-android-m but have not been able to write something to do this.\r\n\r\nI have added `&lt;permission android:name=&quot;android.permission.CLEAR_APP_CACHE&quot;/&gt;`to the manifest but this does not seem to make any difference.","title":"Is it possible to clear the android application cache at API 21","body":"<p>Is it possible to write a function to clear the app cache on my app. I know that I can go to app settings and clear it that way but I want to be able to do that within my own app in code when its finished processing.</p>\n<p>Any suggestions would be greatly appreciated.</p>\n<p>I have tried <a href=\"https://stackoverflow.com/questions/23908189/clear-cache-in-android-application-programmatically/23908638#23908638\">Clear Cache in Android Application programmatically</a> but the app still shows that the cache is not cleared.</p>\n<p>I have also looked at <a href=\"https://stackoverflow.com/questions/36829176/how-to-delete-app-cache-for-all-apps-in-android-m\">How to delete app cache for all apps in Android M?</a> but have not been able to write something to do this.</p>\n<p>I have added <code>&lt;permission android:name=&quot;android.permission.CLEAR_APP_CACHE&quot;/&gt;</code>to the manifest but this does not seem to make any difference.</p>\n"},{"tags":["java","jax-rs"],"answers":[{"tags":[],"owner":{"account_id":15188220,"reputation":26,"user_id":10959530,"display_name":"pdean"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1548879491,"creation_date":1548879491,"answer_id":54448900,"question_id":54428104,"body_markdown":"I figured out the answer to my question. \r\n\r\nThe system I was attempting to deploy my application to already had `jar` files installed on the system in various directories. \r\n\r\nI updated my application to include those `jar` files. This was done by updating a descriptor that I use to deploy the application to the system.\r\n\r\nThen I and set the `scope` of certain dependencies in my `pom.xml` to `&lt;scope&gt;provided&lt;/scope&gt;` so that when the application was packaged by maven, those dependencies would not be included in the final jar.\r\n\r\nBelow is an example:\r\n\r\n```\r\n&lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.12&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.1&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n            &lt;version&gt;2.9.8&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.test-framework.providers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-test-framework-provider-jdk-http&lt;/artifactId&gt;\r\n            &lt;version&gt;2.28-RC4&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-container-servlet-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.28-RC4&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\r\n            &lt;version&gt;2.28-RC4&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\r\n            &lt;version&gt;2.28-RC4&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```","title":"What container provider supports org.apache.cxf.jaxrs.JAXRSServerFactoryBean?","body":"<p>I figured out the answer to my question. </p>\n\n<p>The system I was attempting to deploy my application to already had <code>jar</code> files installed on the system in various directories. </p>\n\n<p>I updated my application to include those <code>jar</code> files. This was done by updating a descriptor that I use to deploy the application to the system.</p>\n\n<p>Then I and set the <code>scope</code> of certain dependencies in my <code>pom.xml</code> to <code>&lt;scope&gt;provided&lt;/scope&gt;</code> so that when the application was packaged by maven, those dependencies would not be included in the final jar.</p>\n\n<p>Below is an example:</p>\n\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.12&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n            &lt;version&gt;2.9.8&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.test-framework.providers&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-test-framework-provider-jdk-http&lt;/artifactId&gt;\n            &lt;version&gt;2.28-RC4&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-container-servlet-core&lt;/artifactId&gt;\n            &lt;version&gt;2.28-RC4&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\n            &lt;version&gt;2.28-RC4&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\n            &lt;version&gt;2.28-RC4&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1546528,"reputation":2209,"user_id":1439964,"accept_rate":64,"display_name":"blacelle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676549569,"creation_date":1676549569,"answer_id":75472084,"question_id":54428104,"body_markdown":"This was fixed in my side by excluding `jersey-server` which has its own `META-INF/services/javax.ws.rs.ext.RuntimeDelegate` (see RuntimeDelegate.JAXRS_RUNTIME_DELEGATE_PROPERTY), hence preventing the proper loading of `org.apache.cxf.jaxrs.impl.RuntimeDelegateImpl`. In my case, jersey-server was brought transitively by `hadoop-mapreduce-client-core`:\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;XXX&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;YYY&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;hadoop-mapreduce-client-core&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;","title":"What container provider supports org.apache.cxf.jaxrs.JAXRSServerFactoryBean?","body":"<p>This was fixed in my side by excluding <code>jersey-server</code> which has its own <code>META-INF/services/javax.ws.rs.ext.RuntimeDelegate</code> (see RuntimeDelegate.JAXRS_RUNTIME_DELEGATE_PROPERTY), hence preventing the proper loading of <code>org.apache.cxf.jaxrs.impl.RuntimeDelegateImpl</code>. In my case, jersey-server was brought transitively by <code>hadoop-mapreduce-client-core</code>:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;XXX&lt;/groupId&gt;\n        &lt;artifactId&gt;YYY&lt;/artifactId&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n                &lt;artifactId&gt;hadoop-mapreduce-client-core&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":15188220,"reputation":26,"user_id":10959530,"display_name":"pdean"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":653,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":54448900,"answer_count":2,"score":0,"last_activity_date":1676549569,"creation_date":1548789027,"question_id":54428104,"body_markdown":"Using the information provided below can you answer the following questions:\r\n\r\n 1. What container provider supports org.apache.cxf.jaxrs.JAXRSServerFactoryBean so that I may add my application using org.glassfish.jersey.server.ContainerFactory when creating an end point?\r\n 2. What is wrong with the below application that causes `(JAXRSServerFactoryBean)RuntimeDelegate.getInstance().createEndpoint(app, JAXRSServerFactoryBean.class);` to throw an illegal argument exception?\r\n\r\n---\r\n\r\nI am attempting to deploy a JAX-RS application that uses annotations (**no web.xml**) to system that uses a *Java Application Manager* (it is a proprietary system that has ported over some application manager libraries but I am not sure what those are due to little supporting documentation around it).\r\n\r\nAt a high level I have a Java application that uses JAX-RS annotations, such as ApplicationPath, Path, Produces/Consumes, and JsonProperty, to attempt to create an endpoint on a &quot;application server&quot;. I say &quot;application server&quot; because I have no documentation around this system so I am just going to call it that. When attempting to start the application I get the following exception:\r\n\r\n```\r\njava.lang.IllegalArgumentException: No container provider supports the type class org.apache.cxf.jaxrs.JAXRSServerFactoryBean\r\n\tat org.glassfish.jersey.server.ContainerFactory.createContainer(ContainerFactory.java:64)\r\n\tat org.glassfish.jersey.server.internal.RuntimeDelegateImpl.createEndpoint(RuntimeDelegateImpl.java:47)\r\n\tat com.app.Server.startServer(Server.java:182)\r\n```\r\n\r\nI have researched the `java.lang.IllegalArgumentException` thrown by the `org.glassfish.jersey.server.internal.RuntimeDelegateImpl.createEndpoint` function. I am not sure why it would do this because on the cover it appears like the application class is annotated correctly and `extends Application`.\r\n\r\nI was able to look at the Server&#39;s class code and here is what is being done: \r\n\r\n## Server Code\r\n\r\nHere a snippet portion of `com.app.Server.startServer(Server.java:182)` code, I cannot alter this code:\r\n\r\n```\r\ninside of startServer...\r\n\r\nApplication app = (Application) Class.forName(&quot;com.app.MyApplication&quot;).newInstance();\r\n\r\nJAXRSServerFactoryBean jaxrsServerFactory = (JAXRSServerFactoryBean)RuntimeDelegate.getInstance().createEndpoint(app, JAXRSServerFactoryBean.class);\r\n```\r\n\r\nNow my code:\r\n\r\n## Application Code\r\n\r\n### MyApplication\r\n\r\n```\r\npackage com.app;\r\n\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\n\r\nimport javax.ws.rs.ApplicationPath;\r\nimport javax.ws.rs.core.Application;\r\n\r\nimport com.app.services.ServiceOne;\r\n\r\n@ApplicationPath(&quot;base/path&quot;)\r\npublic class MyApplication extends Application {\r\n\r\n\tpublic MyApplication() {\r\n\t\tSystem.out.println(Long.toString(System.nanoTime()) + &quot; &quot; + this.getClass().getName() + &quot; constructor called...&quot;);\r\n\t}\r\n\t\r\n\t/* (non-Javadoc)\r\n\t * @see javax.ws.rs.core.Application#getClasses()\r\n\t */\r\n\t@Override\r\n\tpublic Set&lt;Class&lt;?&gt;&gt; getClasses() {\r\n\t\tSystem.out.println(Long.toString(System.nanoTime()) + &quot; &quot; + this.getClass().getName() + &quot; getClasses() method called...&quot;);\r\n\t\tSet&lt;Class&lt;?&gt;&gt; classes = new HashSet&lt;&gt;();\r\n\t\tclasses.add(ServiceOne.class);\r\n\t\treturn classes;\r\n\t}\r\n}\r\n```\r\n\r\n### My Application&#39;s Services\r\n\r\n```\r\npackage com.app.services.ServiceOne;\r\n\r\nimport java.util.ArrayList;\r\n\r\nimport javax.ws.rs.Consumes;\r\nimport javax.ws.rs.NotFoundException;\r\nimport javax.ws.rs.PUT;\r\nimport javax.ws.rs.Path;\r\nimport javax.ws.rs.Produces;\r\nimport javax.ws.rs.core.MediaType;\r\n\r\n// pretend the model imports are here...\r\n\r\n@Path(&quot;serviceOne&quot;)\r\n@Consumes(MediaType.APPLICATION_JSON)\r\n@Produces(MediaType.APPLICATION_JSON)\r\npublic class ServiceOne {\r\n\r\n\t@PUT\r\n\t@Consumes(MediaType.APPLICATION_JSON)\r\n\t@Produces(MediaType.APPLICATION_JSON)\r\n\tpublic ResponseObject performService(InputObject body) throws NotFoundException {\r\n        // do whatever to get result and send...\r\n\t}\r\n\r\n}\r\n```\r\n\r\n## Pom.xml Plugins and Dependencies\r\n\r\n```\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.5.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;single&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;descriptorRefs&gt;\r\n\t\t\t\t\t\t&lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n\t\t\t\t\t&lt;/descriptorRefs&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.12&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.9.8&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.glassfish.jersey.test-framework.providers&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jersey-test-framework-provider-jdk-http&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.28-RC4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jersey-container-servlet-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.28-RC4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.28-RC4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.28-RC4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n```\r\n\r\n---\r\n\r\nThanks again for your help!","title":"What container provider supports org.apache.cxf.jaxrs.JAXRSServerFactoryBean?","body":"<p>Using the information provided below can you answer the following questions:</p>\n\n<ol>\n<li>What container provider supports org.apache.cxf.jaxrs.JAXRSServerFactoryBean so that I may add my application using org.glassfish.jersey.server.ContainerFactory when creating an end point?</li>\n<li>What is wrong with the below application that causes <code>(JAXRSServerFactoryBean)RuntimeDelegate.getInstance().createEndpoint(app, JAXRSServerFactoryBean.class);</code> to throw an illegal argument exception?</li>\n</ol>\n\n<hr>\n\n<p>I am attempting to deploy a JAX-RS application that uses annotations (<strong>no web.xml</strong>) to system that uses a <em>Java Application Manager</em> (it is a proprietary system that has ported over some application manager libraries but I am not sure what those are due to little supporting documentation around it).</p>\n\n<p>At a high level I have a Java application that uses JAX-RS annotations, such as ApplicationPath, Path, Produces/Consumes, and JsonProperty, to attempt to create an endpoint on a \"application server\". I say \"application server\" because I have no documentation around this system so I am just going to call it that. When attempting to start the application I get the following exception:</p>\n\n<pre><code>java.lang.IllegalArgumentException: No container provider supports the type class org.apache.cxf.jaxrs.JAXRSServerFactoryBean\n    at org.glassfish.jersey.server.ContainerFactory.createContainer(ContainerFactory.java:64)\n    at org.glassfish.jersey.server.internal.RuntimeDelegateImpl.createEndpoint(RuntimeDelegateImpl.java:47)\n    at com.app.Server.startServer(Server.java:182)\n</code></pre>\n\n<p>I have researched the <code>java.lang.IllegalArgumentException</code> thrown by the <code>org.glassfish.jersey.server.internal.RuntimeDelegateImpl.createEndpoint</code> function. I am not sure why it would do this because on the cover it appears like the application class is annotated correctly and <code>extends Application</code>.</p>\n\n<p>I was able to look at the Server's class code and here is what is being done: </p>\n\n<h2>Server Code</h2>\n\n<p>Here a snippet portion of <code>com.app.Server.startServer(Server.java:182)</code> code, I cannot alter this code:</p>\n\n<pre><code>inside of startServer...\n\nApplication app = (Application) Class.forName(\"com.app.MyApplication\").newInstance();\n\nJAXRSServerFactoryBean jaxrsServerFactory = (JAXRSServerFactoryBean)RuntimeDelegate.getInstance().createEndpoint(app, JAXRSServerFactoryBean.class);\n</code></pre>\n\n<p>Now my code:</p>\n\n<h2>Application Code</h2>\n\n<h3>MyApplication</h3>\n\n<pre><code>package com.app;\n\nimport java.util.HashSet;\nimport java.util.Set;\n\nimport javax.ws.rs.ApplicationPath;\nimport javax.ws.rs.core.Application;\n\nimport com.app.services.ServiceOne;\n\n@ApplicationPath(\"base/path\")\npublic class MyApplication extends Application {\n\n    public MyApplication() {\n        System.out.println(Long.toString(System.nanoTime()) + \" \" + this.getClass().getName() + \" constructor called...\");\n    }\n\n    /* (non-Javadoc)\n     * @see javax.ws.rs.core.Application#getClasses()\n     */\n    @Override\n    public Set&lt;Class&lt;?&gt;&gt; getClasses() {\n        System.out.println(Long.toString(System.nanoTime()) + \" \" + this.getClass().getName() + \" getClasses() method called...\");\n        Set&lt;Class&lt;?&gt;&gt; classes = new HashSet&lt;&gt;();\n        classes.add(ServiceOne.class);\n        return classes;\n    }\n}\n</code></pre>\n\n<h3>My Application's Services</h3>\n\n<pre><code>package com.app.services.ServiceOne;\n\nimport java.util.ArrayList;\n\nimport javax.ws.rs.Consumes;\nimport javax.ws.rs.NotFoundException;\nimport javax.ws.rs.PUT;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.Produces;\nimport javax.ws.rs.core.MediaType;\n\n// pretend the model imports are here...\n\n@Path(\"serviceOne\")\n@Consumes(MediaType.APPLICATION_JSON)\n@Produces(MediaType.APPLICATION_JSON)\npublic class ServiceOne {\n\n    @PUT\n    @Consumes(MediaType.APPLICATION_JSON)\n    @Produces(MediaType.APPLICATION_JSON)\n    public ResponseObject performService(InputObject body) throws NotFoundException {\n        // do whatever to get result and send...\n    }\n\n}\n</code></pre>\n\n<h2>Pom.xml Plugins and Dependencies</h2>\n\n<pre><code>    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.5.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.12&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n            &lt;version&gt;2.9.8&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.test-framework.providers&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-test-framework-provider-jdk-http&lt;/artifactId&gt;\n            &lt;version&gt;2.28-RC4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-container-servlet-core&lt;/artifactId&gt;\n            &lt;version&gt;2.28-RC4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\n            &lt;version&gt;2.28-RC4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\n            &lt;version&gt;2.28-RC4&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n\n<hr>\n\n<p>Thanks again for your help!</p>\n"},{"tags":["java","arraylist","java-8","java-stream"],"comments":[{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":2,"creation_date":1523540508,"post_id":49798129,"comment_id":86610854,"body_markdown":"well at least one is sorting in place and there is no way to make it parallel (if you have enough data to squeeze some performance)","body":"well at least one is sorting in place and there is no way to make it parallel (if you have enough data to squeeze some performance)"},{"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"score":1,"creation_date":1523540792,"post_id":49798129,"comment_id":86611090,"body_markdown":"What do you mean by *efficient*? Fastest = `Collections.sort`; Most Readable = `Stream`; Most memory efficient = `Collections.sort` perhaps ...","body":"What do you mean by <i>efficient</i>? Fastest = <code>Collections.sort</code>; Most Readable = <code>Stream</code>; Most memory efficient = <code>Collections.sort</code> perhaps ..."},{"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"score":0,"creation_date":1523540900,"post_id":49798129,"comment_id":86611174,"body_markdown":"@OldCurmudgeon Fastest. I&#39;ve added that to the question.","body":"@OldCurmudgeon Fastest. I&#39;ve added that to the question."},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1523541042,"post_id":49798129,"comment_id":86611277,"body_markdown":"both use `Arrays#sort` as far as I see","body":"both use <code>Arrays#sort</code> as far as I see"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1523541473,"post_id":49798129,"comment_id":86611580,"body_markdown":"@Eugene just checked again. My statement is only true for primitives. =) (that&#39;s the reason I deleted my comment)","body":"@Eugene just checked again. My statement is only true for primitives. =) (that&#39;s the reason I deleted my comment)"},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1523541545,"post_id":49798129,"comment_id":86611636,"body_markdown":"@Aomin&#232; *almost* smart - it will only not do anything for a natural sort...  https://stackoverflow.com/questions/44486170/stream-characteristics-for-the-streams-generated-for-sortedmap-may-not-be-sorted","body":"@Aomin&#232; <i>almost</i> smart - it will only not do anything for a natural sort...  <a href=\"https://stackoverflow.com/questions/44486170/stream-characteristics-for-the-streams-generated-for-sortedmap-may-not-be-sorted\" title=\"stream characteristics for the streams generated for sortedmap may not be sorted\">stackoverflow.com/questions/44486170/&hellip;</a>"},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1523879008,"post_id":49798129,"comment_id":86727326,"body_markdown":"interesting... why would you offer a bounty here? not that I mind, I don&#39;t really care, but wondering what the two answers have (plus yours) have not already answered","body":"interesting... why would you offer a bounty here? not that I mind, I don&#39;t really care, but wondering what the two answers have (plus yours) have not already answered"},{"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"score":1,"creation_date":1523880678,"post_id":49798129,"comment_id":86728364,"body_markdown":"@Eugene As it is stated in the description of the bounty, I want to award it to one of the existing answers - yours. You put an effort to actually write a benchmark, I think it is worth additional bounty.","body":"@Eugene As it is stated in the description of the bounty, I want to award it to one of the existing answers - yours. You put an effort to actually write a benchmark, I think it is worth additional bounty."}],"answers":[{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1523878875,"creation_date":1523543230,"answer_id":49799144,"question_id":49798129,"body_markdown":"To be honest I don&#39;t trust myself *too much* either in `JMH` (unless I understand the assembly, which takes lots of time in my case), especially since I&#39;ve used `@Setup(Level.Invocation)`, but here is a small test (I took the `StringInput` generation from some other test I did, but it should not matter, it&#39;s just some data to sort)\r\n\r\n\r\n    @State(Scope.Thread)\r\n    public static class StringInput {\r\n\r\n        private String[] letters = { &quot;q&quot;, &quot;a&quot;, &quot;z&quot;, &quot;w&quot;, &quot;s&quot;, &quot;x&quot;, &quot;e&quot;, &quot;d&quot;, &quot;c&quot;, &quot;r&quot;, &quot;f&quot;, &quot;v&quot;, &quot;t&quot;, &quot;g&quot;, &quot;b&quot;,\r\n                &quot;y&quot;, &quot;h&quot;, &quot;n&quot;, &quot;u&quot;, &quot;j&quot;, &quot;m&quot;, &quot;i&quot;, &quot;k&quot;, &quot;o&quot;, &quot;l&quot;, &quot;p&quot; };\r\n\r\n        public String s = &quot;&quot;;\r\n\r\n        public List&lt;String&gt; list;\r\n\r\n        @Param(value = { &quot;1000&quot;, &quot;10000&quot;, &quot;100000&quot; })\r\n        int next;\r\n\r\n        @TearDown(Level.Invocation)\r\n        public void tearDown() {\r\n            s = null;\r\n        }\r\n\r\n        @Setup(Level.Invocation)\r\n        public void setUp() {\r\n\r\n             list = ThreadLocalRandom.current()\r\n                    .ints(next, 0, letters.length)\r\n                    .mapToObj(x -&gt; letters[x])\r\n                    .map(x -&gt; Character.toString((char) x.intValue()))\r\n                    .collect(Collectors.toList());\r\n            \r\n        }\r\n    }\r\n\r\n\r\n    @Fork(1)\r\n    @Benchmark\r\n    public List&lt;String&gt; testCollection(StringInput si){\r\n        Collections.sort(si.list, Comparator.naturalOrder());\r\n        return si.list;\r\n    }\r\n\r\n    @Fork(1)\r\n    @Benchmark\r\n    public List&lt;String&gt; testStream(StringInput si){\r\n        return si.list.stream()\r\n                .sorted(Comparator.naturalOrder())\r\n                .collect(Collectors.toList());\r\n    }\r\n\r\n\r\nResults show that `Collections.sort` is faster, but not by a big margin:\r\n\r\n\r\n   \r\n\r\n    Benchmark                                 (next)  Mode  Cnt   Score   Error  Units\r\n    streamvsLoop.StreamVsLoop.testCollection    1000  avgt    2   0.038          ms/op\r\n    streamvsLoop.StreamVsLoop.testCollection   10000  avgt    2   0.599          ms/op\r\n    streamvsLoop.StreamVsLoop.testCollection  100000  avgt    2  12.488          ms/op\r\n    streamvsLoop.StreamVsLoop.testStream        1000  avgt    2   0.048          ms/op\r\n    streamvsLoop.StreamVsLoop.testStream       10000  avgt    2   0.808          ms/op\r\n    streamvsLoop.StreamVsLoop.testStream      100000  avgt    2  15.652          ms/op","title":"What is more efficient: sorted stream or sorting a list?","body":"<p>To be honest I don't trust myself <em>too much</em> either in <code>JMH</code> (unless I understand the assembly, which takes lots of time in my case), especially since I've used <code>@Setup(Level.Invocation)</code>, but here is a small test (I took the <code>StringInput</code> generation from some other test I did, but it should not matter, it's just some data to sort)</p>\n\n<pre><code>@State(Scope.Thread)\npublic static class StringInput {\n\n    private String[] letters = { \"q\", \"a\", \"z\", \"w\", \"s\", \"x\", \"e\", \"d\", \"c\", \"r\", \"f\", \"v\", \"t\", \"g\", \"b\",\n            \"y\", \"h\", \"n\", \"u\", \"j\", \"m\", \"i\", \"k\", \"o\", \"l\", \"p\" };\n\n    public String s = \"\";\n\n    public List&lt;String&gt; list;\n\n    @Param(value = { \"1000\", \"10000\", \"100000\" })\n    int next;\n\n    @TearDown(Level.Invocation)\n    public void tearDown() {\n        s = null;\n    }\n\n    @Setup(Level.Invocation)\n    public void setUp() {\n\n         list = ThreadLocalRandom.current()\n                .ints(next, 0, letters.length)\n                .mapToObj(x -&gt; letters[x])\n                .map(x -&gt; Character.toString((char) x.intValue()))\n                .collect(Collectors.toList());\n\n    }\n}\n\n\n@Fork(1)\n@Benchmark\npublic List&lt;String&gt; testCollection(StringInput si){\n    Collections.sort(si.list, Comparator.naturalOrder());\n    return si.list;\n}\n\n@Fork(1)\n@Benchmark\npublic List&lt;String&gt; testStream(StringInput si){\n    return si.list.stream()\n            .sorted(Comparator.naturalOrder())\n            .collect(Collectors.toList());\n}\n</code></pre>\n\n<p>Results show that <code>Collections.sort</code> is faster, but not by a big margin:</p>\n\n<pre><code>Benchmark                                 (next)  Mode  Cnt   Score   Error  Units\nstreamvsLoop.StreamVsLoop.testCollection    1000  avgt    2   0.038          ms/op\nstreamvsLoop.StreamVsLoop.testCollection   10000  avgt    2   0.599          ms/op\nstreamvsLoop.StreamVsLoop.testCollection  100000  avgt    2  12.488          ms/op\nstreamvsLoop.StreamVsLoop.testStream        1000  avgt    2   0.048          ms/op\nstreamvsLoop.StreamVsLoop.testStream       10000  avgt    2   0.808          ms/op\nstreamvsLoop.StreamVsLoop.testStream      100000  avgt    2  15.652          ms/op\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1613213192,"creation_date":1523543387,"answer_id":49799203,"question_id":49798129,"body_markdown":"It is safe to say that two forms of sort will have the same complexity ... even without looking at the code.  (If they didn&#39;t then one form would be severely broken!)\r\n\r\nLooking at Java 8 source code for streams (specifically the internal class `java.util.stream.SortedOps`), the `sorted()` method adds a component to a stream pipeline that captures all of the stream elements into either an array or an `ArrayList`.\r\n\r\n  - An array is used if and only if the pipeline assembly code can deduce the number of elements in the stream ahead of time.  \r\n\r\n  - Otherwise, an `ArrayList` is used to gather the elements to be sorted.\r\n\r\nIf an `ArrayList` is used, you incur the extra overhead of building / growing the list.\r\n\r\nThen we return to two versions of the code:\r\n\r\n    List&lt;Item&gt; sortedItems = new ArrayList&lt;&gt;(items);\r\n    Collections.sort(sortedItems, itemComparator);\r\n\r\nIn this version, the `ArrayList` constructor copies the elements `items` to an appropriately sized array, and then `Collections.sort` does an in-place sort of that array.  (This happens under the covers).\r\n\r\n    List&lt;Item&gt; sortedItems = items\r\n        .stream()\r\n        .sorted(itemComparator)\r\n        .collect(Collectors.toList());\r\n\r\nIn this version, as we have seen above, the code associated with `sorted()` either builds and sorts an array (equivalent to what happens above) or it builds the `ArrayList` the slow way.  But on top of that, there are the overheads of stream the data from `items` and to the collector.\r\n\r\nOverall (with the Java 8 implementation at least) code examination tells me that first version of the code cannot be slower than the second version, and in most (if not all) cases it will be faster.   But as the list gets larger, the `O(NlogN)` sorting will tend to dominate the `O(N)` overheads of copying.  That will mean that the *relative* difference between the two versions will get smaller.\r\n\r\nIf you really care, you should write a benchmark to test the actual difference with a specific implementation of Java, and a specific input dataset.  (Or adapt @Eugene&#39;s benchmark!)\r\n","title":"What is more efficient: sorted stream or sorting a list?","body":"<p>It is safe to say that two forms of sort will have the same complexity ... even without looking at the code.  (If they didn't then one form would be severely broken!)</p>\n<p>Looking at Java 8 source code for streams (specifically the internal class <code>java.util.stream.SortedOps</code>), the <code>sorted()</code> method adds a component to a stream pipeline that captures all of the stream elements into either an array or an <code>ArrayList</code>.</p>\n<ul>\n<li><p>An array is used if and only if the pipeline assembly code can deduce the number of elements in the stream ahead of time.</p>\n</li>\n<li><p>Otherwise, an <code>ArrayList</code> is used to gather the elements to be sorted.</p>\n</li>\n</ul>\n<p>If an <code>ArrayList</code> is used, you incur the extra overhead of building / growing the list.</p>\n<p>Then we return to two versions of the code:</p>\n<pre><code>List&lt;Item&gt; sortedItems = new ArrayList&lt;&gt;(items);\nCollections.sort(sortedItems, itemComparator);\n</code></pre>\n<p>In this version, the <code>ArrayList</code> constructor copies the elements <code>items</code> to an appropriately sized array, and then <code>Collections.sort</code> does an in-place sort of that array.  (This happens under the covers).</p>\n<pre><code>List&lt;Item&gt; sortedItems = items\n    .stream()\n    .sorted(itemComparator)\n    .collect(Collectors.toList());\n</code></pre>\n<p>In this version, as we have seen above, the code associated with <code>sorted()</code> either builds and sorts an array (equivalent to what happens above) or it builds the <code>ArrayList</code> the slow way.  But on top of that, there are the overheads of stream the data from <code>items</code> and to the collector.</p>\n<p>Overall (with the Java 8 implementation at least) code examination tells me that first version of the code cannot be slower than the second version, and in most (if not all) cases it will be faster.   But as the list gets larger, the <code>O(NlogN)</code> sorting will tend to dominate the <code>O(N)</code> overheads of copying.  That will mean that the <em>relative</em> difference between the two versions will get smaller.</p>\n<p>If you really care, you should write a benchmark to test the actual difference with a specific implementation of Java, and a specific input dataset.  (Or adapt @Eugene's benchmark!)</p>\n"},{"tags":[],"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1523544933,"creation_date":1523544933,"answer_id":49799772,"question_id":49798129,"body_markdown":"Below is my benchmark (not really sure if it is correct):\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    import java.util.Set;\r\n    import java.util.TreeSet;\r\n    import java.util.concurrent.TimeUnit;\r\n    import java.util.stream.Collectors;\r\n    \r\n    import org.openjdk.jmh.annotations.Benchmark;\r\n    import org.openjdk.jmh.annotations.BenchmarkMode;\r\n    import org.openjdk.jmh.annotations.Mode;\r\n    import org.openjdk.jmh.annotations.OperationsPerInvocation;\r\n    import org.openjdk.jmh.annotations.OutputTimeUnit;\r\n    \r\n    @OutputTimeUnit(TimeUnit.NANOSECONDS)\r\n    @BenchmarkMode(Mode.AverageTime)\r\n    @OperationsPerInvocation(MyBenchmark.N)\r\n    public class MyBenchmark {\r\n    \r\n    \tpublic static final int N = 50;\r\n    \t\r\n    \tpublic static final int SIZE = 100000;\r\n    \r\n    \tstatic List&lt;Integer&gt; sourceList = new ArrayList&lt;&gt;();\r\n    \tstatic {\r\n    \t\tSystem.out.println(&quot;Generating the list&quot;);\r\n    \t\tfor (int i = 0; i &lt; SIZE; i++) {\r\n    \t\t\tsourceList.add(i);\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;Shuffling the list.&quot;);\r\n    \t\tCollections.shuffle(sourceList);\r\n    \t}\r\n    \r\n    \t@Benchmark\r\n    \tpublic List&lt;Integer&gt; sortingList() {\r\n    \t\tList&lt;Integer&gt; sortedList = new ArrayList&lt;&gt;(sourceList);\r\n    \t\tCollections.sort(sortedList);\r\n    \t\treturn sortedList;\r\n    \t}\r\n    \r\n    \t@Benchmark\r\n    \tpublic List&lt;Integer&gt; sortedStream() {\r\n    \t\tList&lt;Integer&gt; sortedList = sourceList.stream().sorted().collect(Collectors.toList());\r\n    \t\treturn sortedList;\r\n    \t}\r\n    \r\n    \t@Benchmark\r\n    \tpublic List&lt;Integer&gt; treeSet() {\r\n    \t\tSet&lt;Integer&gt; sortedSet = new TreeSet&lt;&gt;(sourceList);\r\n    \t\tList&lt;Integer&gt; sortedList = new ArrayList&lt;&gt;(sortedSet);\r\n    \t\treturn sortedList;\r\n    \t}\r\n    }\r\n\r\nResults:\r\n\r\n    Benchmark                 Mode  Cnt       Score       Error  Units\r\n    MyBenchmark.sortedStream  avgt  200  300691.436 &#177; 15894.717  ns/op\r\n    MyBenchmark.sortingList   avgt  200  262704.939 &#177;  5073.915  ns/op\r\n    MyBenchmark.treeSet       avgt  200  856577.553 &#177; 49296.565  ns/op\r\n\r\nAs in @Eugene&#39;s benchmark, sorting list is slightly (ca. 20%) faster than sorted stream. What surprizes me a bit is that `treeSet` is significantly slower. I did not expect that.","title":"What is more efficient: sorted stream or sorting a list?","body":"<p>Below is my benchmark (not really sure if it is correct):</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.Set;\nimport java.util.TreeSet;\nimport java.util.concurrent.TimeUnit;\nimport java.util.stream.Collectors;\n\nimport org.openjdk.jmh.annotations.Benchmark;\nimport org.openjdk.jmh.annotations.BenchmarkMode;\nimport org.openjdk.jmh.annotations.Mode;\nimport org.openjdk.jmh.annotations.OperationsPerInvocation;\nimport org.openjdk.jmh.annotations.OutputTimeUnit;\n\n@OutputTimeUnit(TimeUnit.NANOSECONDS)\n@BenchmarkMode(Mode.AverageTime)\n@OperationsPerInvocation(MyBenchmark.N)\npublic class MyBenchmark {\n\n    public static final int N = 50;\n\n    public static final int SIZE = 100000;\n\n    static List&lt;Integer&gt; sourceList = new ArrayList&lt;&gt;();\n    static {\n        System.out.println(\"Generating the list\");\n        for (int i = 0; i &lt; SIZE; i++) {\n            sourceList.add(i);\n        }\n        System.out.println(\"Shuffling the list.\");\n        Collections.shuffle(sourceList);\n    }\n\n    @Benchmark\n    public List&lt;Integer&gt; sortingList() {\n        List&lt;Integer&gt; sortedList = new ArrayList&lt;&gt;(sourceList);\n        Collections.sort(sortedList);\n        return sortedList;\n    }\n\n    @Benchmark\n    public List&lt;Integer&gt; sortedStream() {\n        List&lt;Integer&gt; sortedList = sourceList.stream().sorted().collect(Collectors.toList());\n        return sortedList;\n    }\n\n    @Benchmark\n    public List&lt;Integer&gt; treeSet() {\n        Set&lt;Integer&gt; sortedSet = new TreeSet&lt;&gt;(sourceList);\n        List&lt;Integer&gt; sortedList = new ArrayList&lt;&gt;(sortedSet);\n        return sortedList;\n    }\n}\n</code></pre>\n\n<p>Results:</p>\n\n<pre><code>Benchmark                 Mode  Cnt       Score       Error  Units\nMyBenchmark.sortedStream  avgt  200  300691.436 ± 15894.717  ns/op\nMyBenchmark.sortingList   avgt  200  262704.939 ±  5073.915  ns/op\nMyBenchmark.treeSet       avgt  200  856577.553 ± 49296.565  ns/op\n</code></pre>\n\n<p>As in @Eugene's benchmark, sorting list is slightly (ca. 20%) faster than sorted stream. What surprizes me a bit is that <code>treeSet</code> is significantly slower. I did not expect that.</p>\n"},{"tags":[],"owner":{"account_id":8005739,"reputation":73,"user_id":6039104,"display_name":"tanovellino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676549540,"creation_date":1676549176,"answer_id":75472017,"question_id":49798129,"body_markdown":"This might be an old one. In my particular case, I wanted to keep the list once sorted, so I choose to sort the list directly as it seemed counter intuitive to pass the list to a stream to then being forced to collect the result and re-asign it. In other parts where I actually wanted to preserve original state, then the stream became the best option.\r\nI hope it helps...\r\nHere are my 2 examples:\r\n\r\n    class Student {\r\n      private List&lt;ClassSubject&gt; classes;\r\n    \r\n      public void sortClassesByTime() {\r\n         // imagine by definition a scheudle will use classes ordered by time\r\n         classes.sort(Comparator.comparing(ClassSubject::getTime));\r\n         // List classes will be forever sorted by time\r\n      }\r\n    \r\n       public void /* List&lt;ClassSubject&gt; */ sortClassesByGrade() {\r\n          // Imagine schedules are fixed once assigned, however grade changes with time, therefore it is OK to have a temporary ordering\r\n          List&lt;ClassSubject&gt; sortedClasses = classes.stream()\r\n             .sorted(Comparator.comparing(ClassSubject::getGrade).reversed())\r\n             .collect(Collectors.toList());\r\n          classes = sortedClasses;\r\n          // I think ideally here we would prefer to return the new list {sortedClasses} \r\n          // instead of overriding the original, but I wanted to ilustrate \r\n          // the example by getting the same rusults (just different sorting criteria)\r\n       }\r\n    }","title":"What is more efficient: sorted stream or sorting a list?","body":"<p>This might be an old one. In my particular case, I wanted to keep the list once sorted, so I choose to sort the list directly as it seemed counter intuitive to pass the list to a stream to then being forced to collect the result and re-asign it. In other parts where I actually wanted to preserve original state, then the stream became the best option.\nI hope it helps...\nHere are my 2 examples:</p>\n<pre><code>class Student {\n  private List&lt;ClassSubject&gt; classes;\n\n  public void sortClassesByTime() {\n     // imagine by definition a scheudle will use classes ordered by time\n     classes.sort(Comparator.comparing(ClassSubject::getTime));\n     // List classes will be forever sorted by time\n  }\n\n   public void /* List&lt;ClassSubject&gt; */ sortClassesByGrade() {\n      // Imagine schedules are fixed once assigned, however grade changes with time, therefore it is OK to have a temporary ordering\n      List&lt;ClassSubject&gt; sortedClasses = classes.stream()\n         .sorted(Comparator.comparing(ClassSubject::getGrade).reversed())\n         .collect(Collectors.toList());\n      classes = sortedClasses;\n      // I think ideally here we would prefer to return the new list {sortedClasses} \n      // instead of overriding the original, but I wanted to ilustrate \n      // the example by getting the same rusults (just different sorting criteria)\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17554,"favorite_count":0,"down_vote_count":1,"up_vote_count":31,"accepted_answer_id":49799203,"answer_count":4,"score":30,"last_activity_date":1676549540,"creation_date":1523540446,"question_id":49798129,"body_markdown":"Assume we have some items in a collection and we want to sort them using certain comparator, expecting result in a list:\r\n\r\n    Collection&lt;Item&gt; items = ...;\r\n    Comparator&lt;Item&gt; itemComparator = ...;\r\n\r\nOne of the approaches is to sort items in a list, something like:\r\n\r\n    List&lt;Item&gt; sortedItems = new ArrayList&lt;&gt;(items);\r\n    Collections.sort(sortedItems, itemComparator);\r\n\r\nAnothe approach is using a sorted stream:\r\n\r\n    List&lt;Item&gt; sortedItems = items\r\n        .stream()\r\n        .sorted(itemComparator)\r\n        .collect(Collectors.toList());\r\n\r\nI wonder, which approach is more efficient? Are there any advantages of a sorted stream (like faste sorting on multiple cores)?\r\n\r\nEfficient in a sense of runtime complexity/fastest.\r\n\r\nI don&#39;t trust myself to implement a perfect [benchmark](https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java) and studying `SortedOps` did not really enlighten me.","title":"What is more efficient: sorted stream or sorting a list?","body":"<p>Assume we have some items in a collection and we want to sort them using certain comparator, expecting result in a list:</p>\n\n<pre><code>Collection&lt;Item&gt; items = ...;\nComparator&lt;Item&gt; itemComparator = ...;\n</code></pre>\n\n<p>One of the approaches is to sort items in a list, something like:</p>\n\n<pre><code>List&lt;Item&gt; sortedItems = new ArrayList&lt;&gt;(items);\nCollections.sort(sortedItems, itemComparator);\n</code></pre>\n\n<p>Anothe approach is using a sorted stream:</p>\n\n<pre><code>List&lt;Item&gt; sortedItems = items\n    .stream()\n    .sorted(itemComparator)\n    .collect(Collectors.toList());\n</code></pre>\n\n<p>I wonder, which approach is more efficient? Are there any advantages of a sorted stream (like faste sorting on multiple cores)?</p>\n\n<p>Efficient in a sense of runtime complexity/fastest.</p>\n\n<p>I don't trust myself to implement a perfect <a href=\"https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java\">benchmark</a> and studying <code>SortedOps</code> did not really enlighten me.</p>\n"},{"tags":["java","git","jgit","git-checkout"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1517974491,"post_id":45587631,"comment_id":84309049,"body_markdown":"I&#39;ve the exact same requirement. What did you end up doing?","body":"I&#39;ve the exact same requirement. What did you end up doing?"}],"answers":[{"tags":[],"owner":{"account_id":392603,"reputation":995,"user_id":753975,"accept_rate":93,"display_name":"MarkRobbo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1502278117,"creation_date":1502278117,"answer_id":45589406,"question_id":45587631,"body_markdown":"One possible solution to this I have found so far is to check whether the local branch exists and is an ID in order to combine the two approaches mentioned in the question:\r\n\r\n        boolean createBranch = !ObjectId.isId(branchOrCommitId);\r\n        if (createBranch) {\r\n            Ref ref = repo.getRepository().exactRef(&quot;refs/heads/&quot; + branchOrCommitId);\r\n            if (ref != null) {\r\n                createBranch = false;\r\n            }\r\n        }\r\n        repo.checkout()\r\n                .setCreateBranch(createBranch)\r\n                .setName(branchOrCommitId)\r\n                .call();","title":"How to checkout a remote branch without knowing if it exists locally in JGit?","body":"<p>One possible solution to this I have found so far is to check whether the local branch exists and is an ID in order to combine the two approaches mentioned in the question:</p>\n\n<pre><code>    boolean createBranch = !ObjectId.isId(branchOrCommitId);\n    if (createBranch) {\n        Ref ref = repo.getRepository().exactRef(\"refs/heads/\" + branchOrCommitId);\n        if (ref != null) {\n            createBranch = false;\n        }\n    }\n    repo.checkout()\n            .setCreateBranch(createBranch)\n            .setName(branchOrCommitId)\n            .call();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13570906,"reputation":432,"user_id":9789673,"display_name":"randypaq13"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1676549445,"creation_date":1565034225,"answer_id":57365145,"question_id":45587631,"body_markdown":"What you want to do is create a branch if and only if a local one is NOT present. Here&#39;s what I came up with using streams where `exampleRepo` is the git repo object, checkout command is the `CheckoutCommand`, and `branchName` is the branch name.: \r\n\r\n```lang-java\r\ngit.setCreateBranch(git.branchList()\r\n        .call()\r\n        .stream()\r\n        .map(Ref::getName)\r\n        .noneMatch((&quot;refs/heads/&quot; + branchName)::equals));\r\n```\r\n","title":"How to checkout a remote branch without knowing if it exists locally in JGit?","body":"<p>What you want to do is create a branch if and only if a local one is NOT present. Here's what I came up with using streams where <code>exampleRepo</code> is the git repo object, checkout command is the <code>CheckoutCommand</code>, and <code>branchName</code> is the branch name.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>git.setCreateBranch(git.branchList()\n        .call()\n        .stream()\n        .map(Ref::getName)\n        .noneMatch((&quot;refs/heads/&quot; + branchName)::equals));\n</code></pre>\n"}],"owner":{"account_id":392603,"reputation":995,"user_id":753975,"accept_rate":93,"display_name":"MarkRobbo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3850,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":57365145,"answer_count":2,"score":10,"last_activity_date":1676549445,"creation_date":1502273292,"question_id":45587631,"body_markdown":"Using ordinary `git checkout` the command works exactly how I would expect it to. Here are the use cases I am trying to allow for with the same piece of code:\r\n\r\n1) `git checkout branchname` where `branchname` does not exist locally but does on remote\r\n\r\n2) `git checkout branchname` where `branchname` already exists locally\r\n\r\n3) `git checkout commitid`\r\n\r\nFor context, the repository has previously been cloned as follows:\r\n\r\n    repo = Git.cloneRepository()\r\n        .setCloneSubmodules(true)\r\n        .setURI(repoUrl)\r\n        .setDirectory(createTempDir())\r\n        .setCloneAllBranches(true)\r\n        .call();\r\n\r\nThe standard JGit checkout command does not automatically create branches locally. The following piece of code works for scenarios 2 and 3:\r\n\r\n    repo.checkout()\r\n          .setName(branchOrCommitId)\r\n          .call();\r\n\r\nWith the amendment to create a new branch it only works with scenario 1:\r\n\r\n    repo.checkout()\r\n          .setCreateBranch(true)\r\n          .setName(branchOrCommitId)\r\n          .call();\r\n\r\nIs there a neat solution to this issue I can use, considering the standard Git CLI already provides the automatic functionality within the command I am looking for?\r\n","title":"How to checkout a remote branch without knowing if it exists locally in JGit?","body":"<p>Using ordinary <code>git checkout</code> the command works exactly how I would expect it to. Here are the use cases I am trying to allow for with the same piece of code:</p>\n\n<p>1) <code>git checkout branchname</code> where <code>branchname</code> does not exist locally but does on remote</p>\n\n<p>2) <code>git checkout branchname</code> where <code>branchname</code> already exists locally</p>\n\n<p>3) <code>git checkout commitid</code></p>\n\n<p>For context, the repository has previously been cloned as follows:</p>\n\n<pre><code>repo = Git.cloneRepository()\n    .setCloneSubmodules(true)\n    .setURI(repoUrl)\n    .setDirectory(createTempDir())\n    .setCloneAllBranches(true)\n    .call();\n</code></pre>\n\n<p>The standard JGit checkout command does not automatically create branches locally. The following piece of code works for scenarios 2 and 3:</p>\n\n<pre><code>repo.checkout()\n      .setName(branchOrCommitId)\n      .call();\n</code></pre>\n\n<p>With the amendment to create a new branch it only works with scenario 1:</p>\n\n<pre><code>repo.checkout()\n      .setCreateBranch(true)\n      .setName(branchOrCommitId)\n      .call();\n</code></pre>\n\n<p>Is there a neat solution to this issue I can use, considering the standard Git CLI already provides the automatic functionality within the command I am looking for?</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":7495697,"reputation":1501,"user_id":5696047,"display_name":"jayesh gurudayalani"},"score":0,"creation_date":1676543814,"post_id":75470918,"comment_id":133159803,"body_markdown":"Have you tried to replace ```PendingIntent.FLAG_MUTABLE``` with ```PendingIntent.FLAG_IMMUTABLE``` ?","body":"Have you tried to replace <code>PendingIntent.FLAG_MUTABLE</code> with <code>PendingIntent.FLAG_IMMUTABLE</code> ?"},{"owner":{"account_id":3019135,"reputation":1747,"user_id":2560571,"accept_rate":54,"display_name":"Chief Madog"},"score":0,"creation_date":1676545286,"post_id":75470918,"comment_id":133160212,"body_markdown":"@jayeshgurudayalani yes of coures it didn&#39;t help it&#39;s the same issue","body":"@jayeshgurudayalani yes of coures it didn&#39;t help it&#39;s the same issue"},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1676548780,"post_id":75470918,"comment_id":133161160,"body_markdown":"Are you sure that this is the `PendingIntent` that is causing the problem? A lot of people get bitten by `PendingIntent` objects created by libraries.","body":"Are you sure that this is the <code>PendingIntent</code> that is causing the problem? A lot of people get bitten by <code>PendingIntent</code> objects created by libraries."}],"answers":[{"tags":[],"owner":{"account_id":26045599,"reputation":91,"user_id":19749681,"display_name":"Hitesh Khatri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676549383,"creation_date":1676549383,"answer_id":75472058,"question_id":75470918,"body_markdown":"just do that\r\n\r\n    \r\n\r\n    val flag = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n        PendingIntent.FLAG_UPDATE_CURRENT or PendingIntent.FLAG_IMMUTABLE\r\n    } else {\r\n        PendingIntent.FLAG_UPDATE_CURRENT\r\n    }\r\n    \r\n\r\n    val pendingIntent = PendingIntent.getActivity(context, 0, resultIntent, flag)","title":"Cannot resolve FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent in Android Studio","body":"<p>just do that</p>\n<pre><code>val flag = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n    PendingIntent.FLAG_UPDATE_CURRENT or PendingIntent.FLAG_IMMUTABLE\n} else {\n    PendingIntent.FLAG_UPDATE_CURRENT\n}\n\n\nval pendingIntent = PendingIntent.getActivity(context, 0, resultIntent, flag)\n</code></pre>\n"}],"owner":{"account_id":3019135,"reputation":1747,"user_id":2560571,"accept_rate":54,"display_name":"Chief Madog"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676549383,"creation_date":1676543326,"question_id":75470918,"body_markdown":"i&#39;m getting the error\r\n\r\n    Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent.\r\n\r\neven though i&#39;m setting my pending intent correctly\r\n\r\n    PendingIntent resultPendingIntent = null;\r\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n                    resultPendingIntent = PendingIntent.getActivity(\r\n                                this, 0, resultIntent, PendingIntent.FLAG_MUTABLE | PendingIntent.FLAG_UPDATE_CURRENT);\r\n                }\r\n\r\nwhat am i doing wrong? \r\ndoes anyone know a way to fix this ?\r\n","title":"Cannot resolve FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent in Android Studio","body":"<p>i'm getting the error</p>\n<pre><code>Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent.\n</code></pre>\n<p>even though i'm setting my pending intent correctly</p>\n<pre><code>PendingIntent resultPendingIntent = null;\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n                resultPendingIntent = PendingIntent.getActivity(\n                            this, 0, resultIntent, PendingIntent.FLAG_MUTABLE | PendingIntent.FLAG_UPDATE_CURRENT);\n            }\n</code></pre>\n<p>what am i doing wrong?\ndoes anyone know a way to fix this ?</p>\n"},{"tags":["java","kotlin"],"owner":{"account_id":27802418,"reputation":1,"user_id":21226620,"display_name":"פלג יעקב"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676549077,"creation_date":1676549077,"question_id":75471995,"body_markdown":"Hey im trying to make a running tracker app for my school project and I need to sync this gradle code from a youtube video I saw to my project\r\n\r\nhttps://github.com/philipplackner/RunningAppYT/blob/master/app/build.gradle\r\n\r\nI try to sync it to my sdk version 31 and I get errors\r\nI dont know what to do please help\r\n\r\nSo far I tried that and it&#39;s not working:\r\n\r\n```\r\napply plugin: &#39;com.android.application&#39;\r\napply plugin: &#39;kotlin-android&#39;\r\napply plugin: &#39;kotlin-android-extensions&#39;\r\napply plugin: &#39;kotlin-kapt&#39;\r\napply plugin: &quot;androidx.navigation.safeargs.kotlin&quot;\r\napply plugin: &quot;org.jetbrains.kotlin.android&quot;\r\n\r\n\r\nandroid {\r\n    compileSdkVersion 31\r\n    buildToolsVersion &quot;29.0.3&quot;\r\n    defaultConfig {\r\n        applicationId &quot;com.example.runningproject&quot;\r\n        minSdkVersion 21\r\n        targetSdkVersion 31\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    kotlinOptions {\r\n        jvmTarget = JavaVersion.VERSION_1_8.toString()\r\n    }\r\n}\r\n\r\nbuildscript {\r\n    repositories {\r\n        google()\r\n        maven {\r\n            url &quot;https://plugins.gradle.org/m2/&quot;\r\n        }\r\n    }\r\n    dependencies {\r\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.8.20-Beta&quot;\r\n        implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n        implementation &#39;androidx.core:core-ktx:1.9.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n        testImplementation &#39;junit:junit:4.13.2&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n\r\n        // Material Design\r\n        implementation &#39;com.google.android.material:material:1.9.0-alpha01&#39;\r\n\r\n        // Architectural Components\r\n        implementation &quot;androidx.lifecycle:lifecycle-viewmodel-ktx:2.5.1&quot;\r\n\r\n        // Room\r\n        implementation &quot;androidx.room:room-runtime:2.5.0&quot;\r\n        kapt &quot;androidx.room:room-compiler:2.5.0&quot;\r\n\r\n        // Kotlin Extensions and Coroutines support for Room\r\n        implementation &quot;androidx.room:room-ktx:2.5.0&quot;\r\n\r\n        // Coroutines\r\n        implementation &#39;org.jetbrains.kotlinx:kotlinx-coroutines-core:1.3.5&#39;\r\n        implementation &#39;org.jetbrains.kotlinx:kotlinx-coroutines-android:1.6.1&#39;\r\n\r\n        // Coroutine Lifecycle Scopes\r\n        implementation &quot;androidx.lifecycle:lifecycle-viewmodel-ktx:2.5.1&quot;\r\n        implementation &quot;androidx.lifecycle:lifecycle-runtime-ktx:2.5.1&quot;\r\n\r\n        // Navigation Components\r\n        implementation &quot;androidx.navigation:navigation-fragment-ktx:2.5.3&quot;\r\n        implementation &quot;androidx.navigation:navigation-ui-ktx:2.5.3&quot;\r\n\r\n        // Glide\r\n        implementation &#39;com.github.bumptech.glide:glide:4.11.0&#39;\r\n        kapt &#39;com.github.bumptech.glide:compiler:4.11.0&#39;\r\n\r\n        // Google Maps Location Services\r\n        implementation &#39;com.google.android.gms:play-services-location:21.0.1&#39;\r\n        implementation &#39;com.google.android.gms:play-services-maps:18.1.0&#39;\r\n\r\n        // Dagger Core\r\n        implementation &quot;com.google.dagger:dagger:2.28.3&quot;\r\n        kapt &quot;com.google.dagger:dagger-compiler:2.25.2&quot;\r\n\r\n        // Dagger Android\r\n        api &#39;com.google.dagger:dagger-android:2.35.1&#39;\r\n        api &#39;com.google.dagger:dagger-android-support:2.28.1&#39;\r\n        kapt &#39;com.google.dagger:dagger-android-processor:2.23.2&#39;\r\n\r\n        // Easy Permissions\r\n        implementation &#39;pub.devrel:easypermissions:3.0.0&#39;\r\n\r\n        // Timber\r\n        implementation &#39;com.jakewharton.timber:timber:4.7.1&#39;\r\n\r\n        // MPAndroidChart\r\n        implementation &#39;com.github.PhilJay:MPAndroidChart:v3.1.0&#39;\r\n    }\r\n}\r\n```\r\n\r\n\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39; version &#39;7.3.0&#39; apply false\r\n    id &#39;com.android.library&#39; version &#39;7.3.0&#39; apply false\r\n    id &#39;kotlin-android&#39;\r\n    id(&quot;org.jetbrains.kotlin.android&quot;) version &quot;1.8.20-Beta&quot;\r\n}\r\n```","title":"Converting kotlin gradle to Java Android Studio","body":"<p>Hey im trying to make a running tracker app for my school project and I need to sync this gradle code from a youtube video I saw to my project</p>\n<p><a href=\"https://github.com/philipplackner/RunningAppYT/blob/master/app/build.gradle\" rel=\"nofollow noreferrer\">https://github.com/philipplackner/RunningAppYT/blob/master/app/build.gradle</a></p>\n<p>I try to sync it to my sdk version 31 and I get errors\nI dont know what to do please help</p>\n<p>So far I tried that and it's not working:</p>\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\napply plugin: 'kotlin-kapt'\napply plugin: &quot;androidx.navigation.safeargs.kotlin&quot;\napply plugin: &quot;org.jetbrains.kotlin.android&quot;\n\n\nandroid {\n    compileSdkVersion 31\n    buildToolsVersion &quot;29.0.3&quot;\n    defaultConfig {\n        applicationId &quot;com.example.runningproject&quot;\n        minSdkVersion 21\n        targetSdkVersion 31\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    kotlinOptions {\n        jvmTarget = JavaVersion.VERSION_1_8.toString()\n    }\n}\n\nbuildscript {\n    repositories {\n        google()\n        maven {\n            url &quot;https://plugins.gradle.org/m2/&quot;\n        }\n    }\n    dependencies {\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.8.20-Beta&quot;\n        implementation fileTree(dir: 'libs', include: ['*.jar'])\n        implementation 'androidx.appcompat:appcompat:1.6.1'\n        implementation 'androidx.core:core-ktx:1.9.0'\n        implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n        testImplementation 'junit:junit:4.13.2'\n        androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n        androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n\n        // Material Design\n        implementation 'com.google.android.material:material:1.9.0-alpha01'\n\n        // Architectural Components\n        implementation &quot;androidx.lifecycle:lifecycle-viewmodel-ktx:2.5.1&quot;\n\n        // Room\n        implementation &quot;androidx.room:room-runtime:2.5.0&quot;\n        kapt &quot;androidx.room:room-compiler:2.5.0&quot;\n\n        // Kotlin Extensions and Coroutines support for Room\n        implementation &quot;androidx.room:room-ktx:2.5.0&quot;\n\n        // Coroutines\n        implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-core:1.3.5'\n        implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-android:1.6.1'\n\n        // Coroutine Lifecycle Scopes\n        implementation &quot;androidx.lifecycle:lifecycle-viewmodel-ktx:2.5.1&quot;\n        implementation &quot;androidx.lifecycle:lifecycle-runtime-ktx:2.5.1&quot;\n\n        // Navigation Components\n        implementation &quot;androidx.navigation:navigation-fragment-ktx:2.5.3&quot;\n        implementation &quot;androidx.navigation:navigation-ui-ktx:2.5.3&quot;\n\n        // Glide\n        implementation 'com.github.bumptech.glide:glide:4.11.0'\n        kapt 'com.github.bumptech.glide:compiler:4.11.0'\n\n        // Google Maps Location Services\n        implementation 'com.google.android.gms:play-services-location:21.0.1'\n        implementation 'com.google.android.gms:play-services-maps:18.1.0'\n\n        // Dagger Core\n        implementation &quot;com.google.dagger:dagger:2.28.3&quot;\n        kapt &quot;com.google.dagger:dagger-compiler:2.25.2&quot;\n\n        // Dagger Android\n        api 'com.google.dagger:dagger-android:2.35.1'\n        api 'com.google.dagger:dagger-android-support:2.28.1'\n        kapt 'com.google.dagger:dagger-android-processor:2.23.2'\n\n        // Easy Permissions\n        implementation 'pub.devrel:easypermissions:3.0.0'\n\n        // Timber\n        implementation 'com.jakewharton.timber:timber:4.7.1'\n\n        // MPAndroidChart\n        implementation 'com.github.PhilJay:MPAndroidChart:v3.1.0'\n    }\n}\n</code></pre>\n<pre><code>plugins {\n    id 'com.android.application' version '7.3.0' apply false\n    id 'com.android.library' version '7.3.0' apply false\n    id 'kotlin-android'\n    id(&quot;org.jetbrains.kotlin.android&quot;) version &quot;1.8.20-Beta&quot;\n}\n</code></pre>\n"},{"tags":["java","memory-leaks","native","valgrind"],"answers":[{"tags":[],"owner":{"account_id":8809138,"reputation":5792,"user_id":6594576,"display_name":"Paul Floyd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676540039,"creation_date":1676540039,"answer_id":75470283,"question_id":75468122,"body_markdown":"It&#39;s impossible to tell without more details.\r\n\r\nIf your threads are using some sort of publishing protocol like this\r\n\r\n - thread &#39;a&#39; allocates some memory and does some work\r\n - thread &#39;b&#39; is waiting on a semaphore\r\n - thread &#39;a&#39; finishes its work and signals the semaphore\r\n - thread &#39;b&#39; consumes the mememory and deletes it\r\n\r\nthen things should be OK. (Usually you&#39;d have more than just the two threads.)\r\n\r\nIf you don&#39;t use some synchronization mechanism then the memory needs to have strong thread safety guarantees. Most things in C++ only give weak guarantees.","title":"New and delete of native memory across Java threads","body":"<p>It's impossible to tell without more details.</p>\n<p>If your threads are using some sort of publishing protocol like this</p>\n<ul>\n<li>thread 'a' allocates some memory and does some work</li>\n<li>thread 'b' is waiting on a semaphore</li>\n<li>thread 'a' finishes its work and signals the semaphore</li>\n<li>thread 'b' consumes the mememory and deletes it</li>\n</ul>\n<p>then things should be OK. (Usually you'd have more than just the two threads.)</p>\n<p>If you don't use some synchronization mechanism then the memory needs to have strong thread safety guarantees. Most things in C++ only give weak guarantees.</p>\n"}],"owner":{"account_id":5211976,"reputation":144,"user_id":4168080,"accept_rate":100,"display_name":"Joe Gibbs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1676549073,"creation_date":1676524753,"question_id":75468122,"body_markdown":"If I have two Java threads executing in native C++ code and one of them new&#39;s a native object, is it OK for the other Java thread to do the delete? Naturally, there are plenty of ways to screw up one thread doing a new and another doing the delete. But is there anything &#39;extra&#39; because they are Java threads? (Like maybe each Java thread gets a separate native heap, or other such nonsense).\r\n\r\nI assume there is nothing special about this case, but Valgrind is telling me that I am definitely leaking that memory and I need to get this nonsense out of my head so I can focus on finding the real problem Valgrind is trying to show me.\r\n\r\nAll Java threads executing native code see the exact same native heap and there is nothing special about them being Java threads vs threads created from native code. Right?\r\n","title":"New and delete of native memory across Java threads","body":"<p>If I have two Java threads executing in native C++ code and one of them new's a native object, is it OK for the other Java thread to do the delete? Naturally, there are plenty of ways to screw up one thread doing a new and another doing the delete. But is there anything 'extra' because they are Java threads? (Like maybe each Java thread gets a separate native heap, or other such nonsense).</p>\n<p>I assume there is nothing special about this case, but Valgrind is telling me that I am definitely leaking that memory and I need to get this nonsense out of my head so I can focus on finding the real problem Valgrind is trying to show me.</p>\n<p>All Java threads executing native code see the exact same native heap and there is nothing special about them being Java threads vs threads created from native code. Right?</p>\n"},{"tags":["java","mysql","hibernate","mariadb"],"comments":[{"owner":{"account_id":10749291,"reputation":749,"user_id":7909397,"accept_rate":68,"display_name":"yogesh meghnani"},"score":0,"creation_date":1493631980,"post_id":43716068,"comment_id":74477579,"body_markdown":"Please read question again...i had almost read all questions related to it..the one you linked also,but i didn&#39;t got any solution.In all that question they are passing sql query but here i am using hibernate to create table.","body":"Please read question again...i had almost read all questions related to it..the one you linked also,but i didn&#39;t got any solution.In all that question they are passing sql query but here i am using hibernate to create table."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1493665141,"post_id":43716068,"comment_id":74493177,"body_markdown":"@JarrodRoberson This question is not a duplicate of the linked question, as the problem here is specifically DDL generated by a Hibernate-dialect, not a generic problem.","body":"@JarrodRoberson This question is not a duplicate of the linked question, as the problem here is specifically DDL generated by a Hibernate-dialect, not a generic problem."},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1493741211,"post_id":43716068,"comment_id":74527911,"body_markdown":"@ScaryWombat - It is _not_ an &quot;exact duplicate&quot;.  The OP knows that `TYPE` is the problem, but the &quot;duplicate&quot; does not say how to solve it for `hibernate`.  So, I hereby un-duplicate-of this question.  And leave Mark&#39;s Accepted Answer as a good one.","body":"@ScaryWombat - It is <i>not</i> an &quot;exact duplicate&quot;.  The OP knows that <code>TYPE</code> is the problem, but the &quot;duplicate&quot; does not say how to solve it for <code>hibernate</code>.  So, I hereby un-duplicate-of this question.  And leave Mark&#39;s Accepted Answer as a good one."}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":182,"is_accepted":true,"score":182,"last_activity_date":1676548904,"creation_date":1493648109,"answer_id":43720565,"question_id":43716068,"body_markdown":"The problem is that - in Hibernate 5.x and earlier - the dialect `org.hibernate.dialect.MySQLDialect` is for MySQL 4.x or earlier. The fragment `TYPE=MYISAM` that is generated by this dialect was deprecated in MySQL 4.0 and removed in 5.5. \r\n\r\nGiven that you use MariaDB, you need to use (depending on the version of MariaDB and - maybe - the version of Hibernate) one of:\r\n\r\n - `org.hibernate.dialect.MariaDBDialect`\r\n - `org.hibernate.dialect.MariaDB53Dialect`\r\n - or higher versions (e.g. `org.hibernate.dialect.MariaDB106Dialect`)\r\n\r\nIf you are using MySQL, or if the above two dialects for MariaDB don&#39;t exist in your version of Hibernate:\r\n\r\n - `org.hibernate.dialect.MySQL5Dialect`\r\n - `org.hibernate.dialect.MySQL55Dialect`\r\n - `org.hibernate.dialect.MySQL57Dialect`\r\n - `org.hibernate.dialect.MySQL8Dialect`\r\n - or variants of these dialects (e.g. `org.hibernate.dialect.MySQL57InnoDBDialect`)\r\n\r\n\r\nNOTE: With Hibernate 6, you should once again use `MySQLDialect` or `MariaDBDialect`, as Hibernate 6 dialects will configure themselves based on the actual connected version.\r\n","title":"Invalid syntax error &quot;type= MyISAM&quot; in DDL generated by Hibernate","body":"<p>The problem is that - in Hibernate 5.x and earlier - the dialect <code>org.hibernate.dialect.MySQLDialect</code> is for MySQL 4.x or earlier. The fragment <code>TYPE=MYISAM</code> that is generated by this dialect was deprecated in MySQL 4.0 and removed in 5.5.</p>\n<p>Given that you use MariaDB, you need to use (depending on the version of MariaDB and - maybe - the version of Hibernate) one of:</p>\n<ul>\n<li><code>org.hibernate.dialect.MariaDBDialect</code></li>\n<li><code>org.hibernate.dialect.MariaDB53Dialect</code></li>\n<li>or higher versions (e.g. <code>org.hibernate.dialect.MariaDB106Dialect</code>)</li>\n</ul>\n<p>If you are using MySQL, or if the above two dialects for MariaDB don't exist in your version of Hibernate:</p>\n<ul>\n<li><code>org.hibernate.dialect.MySQL5Dialect</code></li>\n<li><code>org.hibernate.dialect.MySQL55Dialect</code></li>\n<li><code>org.hibernate.dialect.MySQL57Dialect</code></li>\n<li><code>org.hibernate.dialect.MySQL8Dialect</code></li>\n<li>or variants of these dialects (e.g. <code>org.hibernate.dialect.MySQL57InnoDBDialect</code>)</li>\n</ul>\n<p>NOTE: With Hibernate 6, you should once again use <code>MySQLDialect</code> or <code>MariaDBDialect</code>, as Hibernate 6 dialects will configure themselves based on the actual connected version.</p>\n"},{"tags":[],"owner":{"account_id":4903139,"reputation":1535,"user_id":3950690,"display_name":"Brajesh"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1669195303,"creation_date":1527338994,"answer_id":50542963,"question_id":43716068,"body_markdown":"It&#39;s a Dialect related issue, instead of `org.hibernate.dialect.MySQLDialect` you can go with `org.hibernate.dialect.MySQL5Dialect`. It will work happily.","title":"Invalid syntax error &quot;type= MyISAM&quot; in DDL generated by Hibernate","body":"<p>It's a Dialect related issue, instead of <code>org.hibernate.dialect.MySQLDialect</code> you can go with <code>org.hibernate.dialect.MySQL5Dialect</code>. It will work happily.</p>\n"},{"tags":[],"owner":{"account_id":4903139,"reputation":1535,"user_id":3950690,"display_name":"Brajesh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1575619417,"creation_date":1575618903,"answer_id":59209049,"question_id":43716068,"body_markdown":"Before MySQL 4.x.x version,TYPE MYISAM engine is used to store tables but in MySQL 5.x.x or later version MySQL is used ENGINE = MYISAM to store tables.\r\ne.g\r\n\r\nIn MySQL 4.x.x or &lt; 4.x.x\r\n\r\n    CREATE TABLE t (i INT) TYPE = MYISAM;\r\n\r\nIn MySQL 5.x.x or &gt; 5.x.x\r\n\r\n    CREATE TABLE t (i INT) ENGINE = MYISAM;\r\n\r\nNow lets talk about hibernate,\r\n\r\nIn hibernate you must use given below dialect\r\n\r\nMySQL &lt;= 4.x.x \r\n \r\n\r\n    &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\r\n\r\nMySQL&gt;=5.x.x.\r\n\r\n    &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQL5Dialect&lt;/property&gt;\r\n\r\nIt will work fine.","title":"Invalid syntax error &quot;type= MyISAM&quot; in DDL generated by Hibernate","body":"<p>Before MySQL 4.x.x version,TYPE MYISAM engine is used to store tables but in MySQL 5.x.x or later version MySQL is used ENGINE = MYISAM to store tables.\ne.g</p>\n\n<p>In MySQL 4.x.x or &lt; 4.x.x</p>\n\n<pre><code>CREATE TABLE t (i INT) TYPE = MYISAM;\n</code></pre>\n\n<p>In MySQL 5.x.x or > 5.x.x</p>\n\n<pre><code>CREATE TABLE t (i INT) ENGINE = MYISAM;\n</code></pre>\n\n<p>Now lets talk about hibernate,</p>\n\n<p>In hibernate you must use given below dialect</p>\n\n<p>MySQL &lt;= 4.x.x </p>\n\n<pre><code>&lt;property name=\"hibernate.dialect\"&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\n</code></pre>\n\n<p>MySQL>=5.x.x.</p>\n\n<pre><code>&lt;property name=\"hibernate.dialect\"&gt;org.hibernate.dialect.MySQL5Dialect&lt;/property&gt;\n</code></pre>\n\n<p>It will work fine.</p>\n"},{"tags":[],"owner":{"account_id":1613382,"reputation":3295,"user_id":1502439,"accept_rate":40,"display_name":"Janac Meena"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1579279391,"creation_date":1579279391,"answer_id":59791559,"question_id":43716068,"body_markdown":"MySQL dropped MyISAM as the default engine. Now it uses InnoDB. You can verify this using SequelPro by clicking on any table, and then looking in the bottom quadrant for the Table Information: \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAnd at the top of your window to see the MySQL Version: \r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nUsing the above information, I know that I need the dialect:\r\n\r\n`org.hibernate.dialect.MySQL5InnoDBDialect`\r\n\r\nI can set the dialect in my application.properties: \r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/coUJd.png\r\n  [2]: https://i.stack.imgur.com/tlBdr.png\r\n  [3]: https://i.stack.imgur.com/6zzGh.png","title":"Invalid syntax error &quot;type= MyISAM&quot; in DDL generated by Hibernate","body":"<p>MySQL dropped MyISAM as the default engine. Now it uses InnoDB. You can verify this using SequelPro by clicking on any table, and then looking in the bottom quadrant for the Table Information: </p>\n\n<p><a href=\"https://i.stack.imgur.com/coUJd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/coUJd.png\" alt=\"enter image description here\"></a></p>\n\n<p>And at the top of your window to see the MySQL Version: </p>\n\n<p><a href=\"https://i.stack.imgur.com/tlBdr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tlBdr.png\" alt=\"enter image description here\"></a></p>\n\n<p>Using the above information, I know that I need the dialect:</p>\n\n<p><code>org.hibernate.dialect.MySQL5InnoDBDialect</code></p>\n\n<p>I can set the dialect in my application.properties: \n<a href=\"https://i.stack.imgur.com/6zzGh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6zzGh.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":1118131,"reputation":3724,"user_id":1106996,"display_name":"Cameron McKenzie"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1594341033,"creation_date":1591445647,"answer_id":62231555,"question_id":43716068,"body_markdown":"This error may arise with increasing frequency as more organizations move to install MySQL 8.x while their Hibernate code is still using the old version 5 Dialect.\r\n\r\nThe latest Hibernate 5.4 distribution as of 6/6/2020 includes the following MySQL dialects:\r\n\r\n - MySQL55Dialect \r\n - MySQL57Dialect \r\n - MySQL57InnoDBDialect \r\n - MySQL5Dialect\r\n - MySQL8Dialect \r\n - MySQLDialect \r\n - MySQLInnoDBDialect \r\n - MySQLISAMDialect\r\n\r\n\r\n**Current Hibernate 5.4 MySQL dialects**\r\n\r\nHere&#39;s the dialects in the core jar file filtered for MySQL. Use the right one and that [type=MyISAM MySQL][1] exception will be a thing of the past.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://www.theserverside.com/blog/Coffee-Talk-Java-News-Stories-and-Opinions/How-to-fix-the-MySQL-typeMyISAM-SQLSyntaxErrorException-in-Hibernate-and-JPA\r\n  [2]: https://i.stack.imgur.com/96s5o.jpg","title":"Invalid syntax error &quot;type= MyISAM&quot; in DDL generated by Hibernate","body":"<p>This error may arise with increasing frequency as more organizations move to install MySQL 8.x while their Hibernate code is still using the old version 5 Dialect.</p>\n<p>The latest Hibernate 5.4 distribution as of 6/6/2020 includes the following MySQL dialects:</p>\n<ul>\n<li>MySQL55Dialect</li>\n<li>MySQL57Dialect</li>\n<li>MySQL57InnoDBDialect</li>\n<li>MySQL5Dialect</li>\n<li>MySQL8Dialect</li>\n<li>MySQLDialect</li>\n<li>MySQLInnoDBDialect</li>\n<li>MySQLISAMDialect</li>\n</ul>\n<p><strong>Current Hibernate 5.4 MySQL dialects</strong></p>\n<p>Here's the dialects in the core jar file filtered for MySQL. Use the right one and that <a href=\"https://www.theserverside.com/blog/Coffee-Talk-Java-News-Stories-and-Opinions/How-to-fix-the-MySQL-typeMyISAM-SQLSyntaxErrorException-in-Hibernate-and-JPA\" rel=\"noreferrer\">type=MyISAM MySQL</a> exception will be a thing of the past.</p>\n<p><a href=\"https://i.stack.imgur.com/96s5o.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/96s5o.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":15696344,"reputation":501,"user_id":11325779,"display_name":"JeffersonSousa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601129494,"creation_date":1601129494,"answer_id":64078655,"question_id":43716068,"body_markdown":"It is possible to find the available dialects, no matter which database you need a dialect that works on your system.\r\n\r\n**&gt; Project&gt; Libraries&gt; hibernate-core&gt; org.hibernate.dialect**\r\n\r\nThen you will see a **package** of several &quot;dialect&quot; classes for different databases and you can test one that works. This case is for **hibernate**.","title":"Invalid syntax error &quot;type= MyISAM&quot; in DDL generated by Hibernate","body":"<p>It is possible to find the available dialects, no matter which database you need a dialect that works on your system.</p>\n<p><strong>&gt; Project&gt; Libraries&gt; hibernate-core&gt; org.hibernate.dialect</strong></p>\n<p>Then you will see a <strong>package</strong> of several &quot;dialect&quot; classes for different databases and you can test one that works. This case is for <strong>hibernate</strong>.</p>\n"},{"tags":[],"owner":{"account_id":11686502,"reputation":653,"user_id":8556166,"display_name":"Amit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1616579067,"creation_date":1616579067,"answer_id":66778396,"question_id":43716068,"body_markdown":"I know this is a old post but I am sharing a different experience. I was also seeing the same exact exception but i had MySQL 8 with Springboot+ JPA+ Hibernate .\r\n\r\nMy dialect looks like \r\n\r\n    spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL8Dialect\r\n\r\nBut I was still seeing the issue. After some troubleshooting I noticed that the issue was in the schema sql where I had the table creation script in all Caps and it was expected to have it in small. For example\r\n\r\n    CREATE TABLE  item_catalog\r\n\r\ninstead of \r\n\r\n    CREATE TABLE  ITEM_CATALOG\r\n\r\nAfter changing the case in the schema sql to lower case table name, It worked fine.","title":"Invalid syntax error &quot;type= MyISAM&quot; in DDL generated by Hibernate","body":"<p>I know this is a old post but I am sharing a different experience. I was also seeing the same exact exception but i had MySQL 8 with Springboot+ JPA+ Hibernate .</p>\n<p>My dialect looks like</p>\n<pre><code>spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL8Dialect\n</code></pre>\n<p>But I was still seeing the issue. After some troubleshooting I noticed that the issue was in the schema sql where I had the table creation script in all Caps and it was expected to have it in small. For example</p>\n<pre><code>CREATE TABLE  item_catalog\n</code></pre>\n<p>instead of</p>\n<pre><code>CREATE TABLE  ITEM_CATALOG\n</code></pre>\n<p>After changing the case in the schema sql to lower case table name, It worked fine.</p>\n"}],"owner":{"account_id":10749291,"reputation":749,"user_id":7909397,"accept_rate":68,"display_name":"yogesh meghnani"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62110,"favorite_count":0,"down_vote_count":1,"up_vote_count":62,"accepted_answer_id":43720565,"answer_count":7,"score":61,"last_activity_date":1676548904,"creation_date":1493625651,"question_id":43716068,"body_markdown":"I am getting this error for my Java code\r\n\r\n       Caused by :`com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException`: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB` server version for the right syntax to use near &#39;type = `MyISAM`&#39; at line 1\r\n\r\nThis is the query passed by hibernate:\r\n\r\n    Hibernate: create table EMPLOYEE (emp_id integer not null, FNAME varchar(255), LNAME varchar(255), primary key (emp_id)) type=MyISAM\r\n\r\nI have looked at all questions related to this error. But in all that questions the user itself is passing query &quot;`type = MyISAM`&quot; so they can change &quot;`type`&quot; to &quot;`engine`&quot;, but here hibernate is responsible for creating table, so I don&#39;t understand where the mistake is, and how I can fix it.\r\n\r\nThis is my configuration file:\r\n\r\n    &lt;hibernate-configuration&gt;\r\n     &lt;session-factory &gt;\r\n     &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;create&lt;/property&gt;\r\n      &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\r\n      &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:mysql://localhost/servletcheck&lt;/property&gt;\r\n      &lt;property name=&quot;hibernate.connection.username&quot;&gt;root&lt;/property&gt;\r\n      &lt;property name=&quot;hibernate.connection.password&quot;&gt; &lt;/property&gt;\r\n      &lt;property name=&quot;hibernate.dialect&quot;&gt; org.hibernate.dialect.MySQLDialect&lt;/property&gt;\r\n      &lt;property name=&quot;hibernate.show_sql&quot;&gt;true&lt;/property&gt;\r\n      &lt;mapping resource=&quot;Employee.hbm.xml&quot;/&gt;\r\n     &lt;/session-factory&gt;\r\n    &lt;/hibernate-configuration&gt;\r\n\r\nThis is my mapping file:\r\n\r\n    &lt;hibernate-mapping&gt;\r\n        &lt;class name=&quot;first.Employee&quot; table=&quot;EMPLOYEE&quot;&gt;\r\n            &lt;id name=&quot;id&quot; type=&quot;int&quot;&gt;\r\n                &lt;column name=&quot;emp_id&quot; /&gt;\r\n                &lt;generator class=&quot;assigned&quot; /&gt;\r\n            &lt;/id&gt;\r\n            &lt;property name=&quot;fname&quot; type=&quot;java.lang.String&quot;&gt;\r\n                &lt;column name=&quot;FNAME&quot; /&gt;\r\n            &lt;/property&gt;\r\n            &lt;property name=&quot;lname&quot; type=&quot;java.lang.String&quot;&gt;\r\n                &lt;column name=&quot;LNAME&quot; /&gt;\r\n            &lt;/property&gt;\r\n        &lt;/class&gt;\r\n    &lt;/hibernate-mapping&gt;\r\n\r\nThis is my class file:\r\n    \r\n    public class StoreData {\r\n        public static void main(String[] args) {\r\n        \tConfiguration cfg=new Configuration();\r\n        \tcfg.configure(&quot;hibernate.cfg.xml&quot;);\r\n        \tSessionFactory factory=cfg.buildSessionFactory();\r\n        \tSession session=factory.openSession();\r\n        \torg.hibernate.Transaction t=session.beginTransaction();\r\n        \tEmployee e=new Employee();\r\n        \te.setId(1);\r\n        \te.setFname(&quot;yogesh&quot;);\r\n        \te.setLname(&quot;Meghnani&quot;);\r\n        \tsession.persist(e);\r\n        \tt.commit();\r\n        \t\r\n        }\r\n    }\r\n\r\n","title":"Invalid syntax error &quot;type= MyISAM&quot; in DDL generated by Hibernate","body":"<p>I am getting this error for my Java code</p>\n\n<pre><code>   Caused by :`com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException`: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB` server version for the right syntax to use near 'type = `MyISAM`' at line 1\n</code></pre>\n\n<p>This is the query passed by hibernate:</p>\n\n<pre><code>Hibernate: create table EMPLOYEE (emp_id integer not null, FNAME varchar(255), LNAME varchar(255), primary key (emp_id)) type=MyISAM\n</code></pre>\n\n<p>I have looked at all questions related to this error. But in all that questions the user itself is passing query \"<code>type = MyISAM</code>\" so they can change \"<code>type</code>\" to \"<code>engine</code>\", but here hibernate is responsible for creating table, so I don't understand where the mistake is, and how I can fix it.</p>\n\n<p>This is my configuration file:</p>\n\n<pre><code>&lt;hibernate-configuration&gt;\n &lt;session-factory &gt;\n &lt;property name=\"hibernate.hbm2ddl.auto\"&gt;create&lt;/property&gt;\n  &lt;property name=\"hibernate.connection.driver_class\"&gt;com.mysql.jdbc.Driver&lt;/property&gt;\n  &lt;property name=\"hibernate.connection.url\"&gt;jdbc:mysql://localhost/servletcheck&lt;/property&gt;\n  &lt;property name=\"hibernate.connection.username\"&gt;root&lt;/property&gt;\n  &lt;property name=\"hibernate.connection.password\"&gt; &lt;/property&gt;\n  &lt;property name=\"hibernate.dialect\"&gt; org.hibernate.dialect.MySQLDialect&lt;/property&gt;\n  &lt;property name=\"hibernate.show_sql\"&gt;true&lt;/property&gt;\n  &lt;mapping resource=\"Employee.hbm.xml\"/&gt;\n &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n\n<p>This is my mapping file:</p>\n\n<pre><code>&lt;hibernate-mapping&gt;\n    &lt;class name=\"first.Employee\" table=\"EMPLOYEE\"&gt;\n        &lt;id name=\"id\" type=\"int\"&gt;\n            &lt;column name=\"emp_id\" /&gt;\n            &lt;generator class=\"assigned\" /&gt;\n        &lt;/id&gt;\n        &lt;property name=\"fname\" type=\"java.lang.String\"&gt;\n            &lt;column name=\"FNAME\" /&gt;\n        &lt;/property&gt;\n        &lt;property name=\"lname\" type=\"java.lang.String\"&gt;\n            &lt;column name=\"LNAME\" /&gt;\n        &lt;/property&gt;\n    &lt;/class&gt;\n&lt;/hibernate-mapping&gt;\n</code></pre>\n\n<p>This is my class file:</p>\n\n<pre><code>public class StoreData {\n    public static void main(String[] args) {\n        Configuration cfg=new Configuration();\n        cfg.configure(\"hibernate.cfg.xml\");\n        SessionFactory factory=cfg.buildSessionFactory();\n        Session session=factory.openSession();\n        org.hibernate.Transaction t=session.beginTransaction();\n        Employee e=new Employee();\n        e.setId(1);\n        e.setFname(\"yogesh\");\n        e.setLname(\"Meghnani\");\n        session.persist(e);\n        t.commit();\n\n    }\n}\n</code></pre>\n"},{"tags":["java","encryption","openssl","rsa","oaep"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1676553914,"post_id":75471829,"comment_id":133162759,"body_markdown":"Yes padding method OAEP is used only for (RSA) encrypt/decrypt, hence &#39;Asymmetric Encryption&#39; in the name, and you can&#39;t have a self-signed cert for a key that doesn&#39;t sign; also `genpkey` won&#39;t generate a specialized key file for OAEP as it will for PSS. Yes the encryptor (in your case IdP) can use a &#39;plain RSA&#39; (OID=rsaEncryption) key for OAEP, and so can a Java decryptor (in Java 7 up or using Bouncy); similarly for PSS it is possible to use either a plain-RSA cert or one with OID=PSS, see e.g. TLS1.3 (rfc8446 and https://crypto.stackexchange.com/questions/70413/ ).","body":"Yes padding method OAEP is used only for (RSA) encrypt/decrypt, hence &#39;Asymmetric Encryption&#39; in the name, and you can&#39;t have a self-signed cert for a key that doesn&#39;t sign; also <code>genpkey</code> won&#39;t generate a specialized key file for OAEP as it will for PSS. Yes the encryptor (in your case IdP) can use a &#39;plain RSA&#39; (OID=rsaEncryption) key for OAEP, and so can a Java decryptor (in Java 7 up or using Bouncy); similarly for PSS it is possible to use either a plain-RSA cert or one with OID=PSS, see e.g. TLS1.3 (rfc8446 and <a href=\"https://crypto.stackexchange.com/questions/70413/\">crypto.stackexchange.com/questions/70413</a> )."}],"owner":{"account_id":6193139,"reputation":355,"user_id":4825307,"accept_rate":85,"display_name":"amitakCs"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676548815,"creation_date":1676548135,"question_id":75471829,"body_markdown":"I am facing the following issue. I am currently working on integrating Single Sign-On (SSO) functionality into an existing application using the SAML Java toolkit. The Identity Provider (IdP) I am working with requires me to have an encryption certificate that uses the RSA-encryption schema **RSA-OAEP** (*Rivest–Shamir–Adleman **-** Optimal asymmetric encryption padding*). For testing purposes, It is allowed to use self signed certificates. Since I have already generated a signature certificate with the  cryptographic signature scheme  PSS, so I have tried to use **RSA_PADDING_MODE:OAEP** (by analogy to RSA_PADDING_MODE:PSS) but it did not work. I used the following command to create a private key. \r\n\r\n`openssl genpkey -algorithm RSA -out privateKey.pem -pkeyopt rsa_keygen_bits:4096 -pkeyopt rsa_padding_mode:oaep`\r\n\r\nI get the following error \r\n [![enter image description here][1]][1]\r\n\r\n\r\nI have the last version of openssl (OpenSSL 1.1.1s) installed on my computer. Since I did not find any explanation for this error. I tried to read the documentation of openSSL and I found out that **RSA-OAEP** is only used for the encryption and decryption:\r\n [![enter image description here][2]][2]\r\n\r\nBased on the documentation of OpenSSL, It seems that I should generate a private key and a self signed certificate using RSA without padding. The ***IdP*** will pad the message using **OAEP** padding schema. Then it will encrypt the SAML-message with my public certificate that I have provided. ***On my side***, I will decrypt the SAML-message using my private key. Finally, I should unpad the message using a Java library. Am I correct ?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XhXgy.png\r\n  [2]: https://i.stack.imgur.com/15OVr.png","title":"Generating self signed certificate dedicated to encrytion/decryption with the algorithm RSA-OAEP using openssl","body":"<p>I am facing the following issue. I am currently working on integrating Single Sign-On (SSO) functionality into an existing application using the SAML Java toolkit. The Identity Provider (IdP) I am working with requires me to have an encryption certificate that uses the RSA-encryption schema <strong>RSA-OAEP</strong> (<em>Rivest–Shamir–Adleman <strong>-</strong> Optimal asymmetric encryption padding</em>). For testing purposes, It is allowed to use self signed certificates. Since I have already generated a signature certificate with the  cryptographic signature scheme  PSS, so I have tried to use <strong>RSA_PADDING_MODE:OAEP</strong> (by analogy to RSA_PADDING_MODE:PSS) but it did not work. I used the following command to create a private key.</p>\n<p><code>openssl genpkey -algorithm RSA -out privateKey.pem -pkeyopt rsa_keygen_bits:4096 -pkeyopt rsa_padding_mode:oaep</code></p>\n<p>I get the following error\n<a href=\"https://i.stack.imgur.com/XhXgy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XhXgy.png\" alt=\"enter image description here\" /></a></p>\n<p>I have the last version of openssl (OpenSSL 1.1.1s) installed on my computer. Since I did not find any explanation for this error. I tried to read the documentation of openSSL and I found out that <strong>RSA-OAEP</strong> is only used for the encryption and decryption:\n<a href=\"https://i.stack.imgur.com/15OVr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/15OVr.png\" alt=\"enter image description here\" /></a></p>\n<p>Based on the documentation of OpenSSL, It seems that I should generate a private key and a self signed certificate using RSA without padding. The <em><strong>IdP</strong></em> will pad the message using <strong>OAEP</strong> padding schema. Then it will encrypt the SAML-message with my public certificate that I have provided. <em><strong>On my side</strong></em>, I will decrypt the SAML-message using my private key. Finally, I should unpad the message using a Java library. Am I correct ?</p>\n"},{"tags":["java","mysql","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1676530550,"post_id":75468516,"comment_id":133156028,"body_markdown":"seeing as you don&#39;t tell us what the error is, don&#39;t know","body":"seeing as you don&#39;t tell us what the error is, don&#39;t know"},{"owner":{"account_id":26816655,"reputation":77,"user_id":20406553,"display_name":"jetbrain_icin icin"},"score":0,"creation_date":1676531513,"post_id":75468516,"comment_id":133156256,"body_markdown":"Did you check this answer?\nhttps://stackoverflow.com/questions/43716068/invalid-syntax-error-type-myisam-in-ddl-generated-by-hibernate","body":"Did you check this answer? <a href=\"https://stackoverflow.com/questions/43716068/invalid-syntax-error-type-myisam-in-ddl-generated-by-hibernate\" title=\"invalid syntax error type myisam in ddl generated by hibernate\">stackoverflow.com/questions/43716068/&hellip;</a>"},{"owner":{"account_id":8172423,"reputation":17307,"user_id":6152400,"display_name":"P.Salmon"},"score":0,"creation_date":1676534094,"post_id":75468516,"comment_id":133156872,"body_markdown":"type=MyISAM -  I don&#39;t see type = as a table option https://dev.mysql.com/doc/refman/8.0/en/create-table.html perhaps engine =","body":"type=MyISAM -  I don&#39;t see type = as a table option <a href=\"https://dev.mysql.com/doc/refman/8.0/en/create-table.html\" rel=\"nofollow noreferrer\">dev.mysql.com/doc/refman/8.0/en/create-table.html</a> perhaps engine ="},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1676548736,"post_id":75468516,"comment_id":133161144,"body_markdown":"You probably need to specify a different dialect, recent MySQL versions don&#39;t support `type=MyISAM`.","body":"You probably need to specify a different dialect, recent MySQL versions don&#39;t support <code>type=MyISAM</code>."}],"owner":{"account_id":24385498,"reputation":11,"user_id":18316353,"display_name":"Wihangi Sakunika"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676548741,"answer_count":0,"score":0,"last_activity_date":1676548663,"creation_date":1676528367,"question_id":75468516,"body_markdown":"im creating a customer table using java. but when I&#39;m run project console said like this.\r\n\r\n&gt; Hibernate: create table customer (id bigint not null auto_increment, dob date, full_name varchar(255), installment integer, loan_amount float, email_id varchar(255), primary key (id)) type=MyISAM\r\n2023-02-16 11:07:21.855  WARN 7288 --- [  restartedMain] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL &quot;create table customer (id bigint not null auto_increment, dob date, full_name varchar(255), installment integer, loan_amount float, email_id varchar(255), primary key (id)) type=MyISAM&quot; via JDBC Statement\r\n\r\n\r\nHow do I fix this error?\r\n","title":"MySQL table not create . Why this error come in run spring boot project?","body":"<p>im creating a customer table using java. but when I'm run project console said like this.</p>\n<blockquote>\n<p>Hibernate: create table customer (id bigint not null auto_increment, dob date, full_name varchar(255), installment integer, loan_amount float, email_id varchar(255), primary key (id)) type=MyISAM\n2023-02-16 11:07:21.855  WARN 7288 --- [  restartedMain] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL &quot;create table customer (id bigint not null auto_increment, dob date, full_name varchar(255), installment integer, loan_amount float, email_id varchar(255), primary key (id)) type=MyISAM&quot; via JDBC Statement</p>\n</blockquote>\n<p>How do I fix this error?</p>\n"},{"tags":["java","sql-parser","jsqlparser","general-sql-parser"],"comments":[{"owner":{"account_id":3971227,"reputation":8507,"user_id":3275788,"display_name":"wumpz"},"score":0,"creation_date":1575446082,"post_id":59170170,"comment_id":104564927,"body_markdown":"JSqlParser uses the visitor pattern to dive into a parsed SQL statement. First you should answer the question, if you want to extract also tables and columns from used subqueries. That would determine, where to stop your search. Here are two variants described extracting those values: https://stackoverflow.com/questions/40908062/parsing-table-and-column-names-from-sql-hql-java.","body":"JSqlParser uses the visitor pattern to dive into a parsed SQL statement. First you should answer the question, if you want to extract also tables and columns from used subqueries. That would determine, where to stop your search. Here are two variants described extracting those values: <a href=\"https://stackoverflow.com/questions/40908062/parsing-table-and-column-names-from-sql-hql-java\" title=\"parsing table and column names from sql hql java\">stackoverflow.com/questions/40908062/&hellip;</a>."}],"answers":[{"tags":[],"owner":{"account_id":2836457,"reputation":1922,"user_id":2436979,"display_name":"redhatvicky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575444382,"creation_date":1575441628,"answer_id":59170252,"question_id":59170170,"body_markdown":"    import java.io.StringReader;\r\n    import java.util.List;\r\n    \r\n    import net.sf.jsqlparser.JSQLParserException;\r\n    import net.sf.jsqlparser.expression.Expression;\r\n    import net.sf.jsqlparser.expression.Function;\r\n    import net.sf.jsqlparser.parser.CCJSqlParserManager;\r\n    import net.sf.jsqlparser.schema.Column;\r\n    import net.sf.jsqlparser.statement.select.PlainSelect;\r\n    import net.sf.jsqlparser.statement.select.Select;\r\n    import net.sf.jsqlparser.statement.select.SelectExpressionItem;\r\n    import net.sf.jsqlparser.statement.select.SelectItem;\r\n    \r\n    public class TableDetailsParser {\r\n    \r\n    \tpublic static void main(String args[]) {\r\n    \t\tString statement;\r\n    \t\ttry {\r\n    \t\t\tCCJSqlParserManager parseSql = new CCJSqlParserManager();\r\n    \t\t\tstatement = &quot;select 0 as c1,D1.c45 as c2,D1.c44 as c3,D1.c43 as c4,D1.c42 as c5,D1.c41 as c6,D1.c40 as c7,D1.c46 as c8,D1.c47 as c9,D1.c39 as c10,D1.c38 as c11,D1.c48 as c12,D1.c49 as c13,D1.c50 as c14,D1.c51 as c15,D1.c52 as c16,D1.c53 as c17,D1.c54 as c18,D1.c37 as c19,D1.c36 as c20,D1.c35 as c21,D1.c34 as c22,D1.c33 as c23,D1.c32 as c24,D1.c31 as c25,D1.c30 as c26,D1.c29 as c27,D1.c28 as c28,D1.c27 as c29,D1.c26 as c30,D1.c25 as c31,D1.c24 as c32,D1.c23 as c33,D1.c22 as c34,D1.c21 as c35,D1.c20 as c36,D1.c19 as c37,D1.c18 as c38,D1.c17 as c39,D1.c55 as c40,D1.c56 as c41,D1.c16 as c42,D1.c15 as c43,D1.c14 as c44,D1.c13 as c45,D1.c12 as c46,D1.c11 as c47,D1.c10 as c48,D1.c9 as c49,D1.c8 as c50,D1.c57 as c51,D1.c57 as c52,D1.c7 as c53,D1.c6 as c54,D1.c5 as c55,D1.c4 as c56,D1.c3 as c57,D1.c2 as c58,D1.c1 as c59 from (select sum(TABLE129.USD_ACTIVITY_AMOUNT) as c1, sum(ifnull(TABLE129.ENTERED_DEBIT , 0) - ifnull(TABLE129.ENTERED_CREDIT , 0)) as c2,sum(TABLE129.ENTERED_DEBIT) as c3,sum(TABLE129.ENTERED_CREDIT) as c4,sum(ifnull(TABLE129.ACCOUNTED_DEBIT , 0) - ifnull(TABLE129.ACCOUNTED_CREDIT , 0)) as c5,sum(TABLE129.ACCOUNTED_DEBIT) as c6,sum(TABLE129.ACCOUNTED_CREDIT) as c7,TABLE129.trading_partner_name_tp as c8,TABLE129.currency_code as c9,TABLE129.rt_LINE_NUM as c10,TABLE129.rt_LINE_DESCRIPTION as c11,TABLE129.concatenated_segments as c12,TABLE129.rt_LINES_ATTRIBUTE9 as c13,TABLE129.rt_LINES_ATTRIBUTE8 as c14,TABLE129.rt_LINES_ATTRIBUTE7 as c15,TABLE129.rt_LINES_ATTRIBUTE6 as c16,TABLE129.rt_LINES_ATTRIBUTE5 as c17,TABLE129.rt_LINES_ATTRIBUTE4 as c18,TABLE129.rt_LINES_ATTRIBUTE3 as c19,TABLE129.rt_LINES_ATTRIBUTE20 as c20,TABLE129.rt_LINES_ATTRIBUTE2 as c21,TABLE129.rt_LINES_ATTRIBUTE19 as c22,TABLE129.rt_LINES_ATTRIBUTE18 as c23,TABLE129.rt_LINES_ATTRIBUTE17 as c24,TABLE129.rt_LINES_ATTRIBUTE16 as c25,TABLE129.rt_lines_attribute15 as c26,TABLE129.rt_lines_attribute14 as c27,TABLE129.rt_lines_attribute13 as c28,TABLE129.rt_lines_attribute12 as c29,TABLE129.rt_lines_attribute11 as c30,TABLE129.rt_LINES_ATTRIBUTE10 as c31,TABLE129.rt_LINES_ATTRIBUTE1 as c32,TABLE129.rt_SOURCE_NAME as c33,TABLE129.rt_CATEGORY_NAME as c34,TABLE129.rt_HEADER_ID as c35,TABLE129.rt_HEADER_NAME as c36,TABLE129.rt_CREATED_BY as c37,TABLE129.cost_center_name_cc as c38,TABLE129.company_code_name_lb as c39,TABLE129.batch_posted_date as c40,TABLE129.BATCH_NAME as c41,TABLE129.BATCH_ID as c42,TABLE129.batch_description as c43,TABLE129.account_name_acc as c44,T1334971.description as c45,T1330596.associated_bu as c46,T1330596.associated_le as c47,T9862411.cube_period as c48,T9862411.ledger_period_name as c49,T9862411.mk_period_num as c50,T9862411.qtr as c51,T9862411.mk_period_year as c52,T1338224.name as c53,T1354092.employee_name as c54,T1479416.attribute57 as c55,T1479416.attribute58 as c56,T9862411.gaap_month_num as c57 from ( au_mk_ledgers T1338224 /* DIM_mk_LEDGER */  inner join ( (au_drm_hier_company_code T1330596 /* DIM_COMPANY_CODE_HIER */  inner join (au_KETOL_period_dimension_v T9862411 /* DIM_KETOL_PERIOD */  inner join ( au_drm_hier_account T1334971 /* DIM_ACCOUNT_HIER */  inner join sld_mk_journals TABLE129 /* FACT_mk_DETAILS */  On T1334971.join_computed = TABLE129.join_account_computed) On T9862411.mk_period_year = TABLE129.period_year and T9862411.source_erp = TABLE129.source_system_name and T9862411.ledger_id = TABLE129.LEDGER_ID and T9862411.mk_period_name = TABLE129.period_name) On T1330596.join_fact_computed = TABLE129.join_company_code_computed) left outer join  au_fnd_user T1354092 /* DIM_HEADERS_CREATED_BY */  On TABLE129.rt_header_created_by = T1354092.user_id and TABLE129.source_system_name = T1354092.source_system_name) On T1338224.ledger_id = TABLE129.LEDGER_ID and T1338224.source_system_name = TABLE129.source_system_name) left outer join au_mk_rt_lines_addl_dffs T1479416 /* DIM_mk_rt_LINES_ADDL_DFFS */  On TABLE129.rt_HEADER_ID = T1479416.rt_header_id and TABLE129.rt_LINE_NUM = T1479416.rt_line_num and TABLE129.period_year = T1479416.period_year and TABLE129.source_system_name = T1479416.source_system_name  where  ( T1330596.drm_type = &#39;BASE&#39; and T1334971.drm_type = &#39;E&#39; and T1338224.name = &#39;USD Primary Ledger&#39; and TABLE129.company_code_name_lb = &#39;LB_GIQ3&#39; and TABLE129.account_name_acc = &#39;AC_1510301000&#39; and (T9862411.ledger_period_name = &#39;OCT-19&#39; or T9862411.ledger_period_name = &#39;SEP-19&#39;) )  group by T1330596.associated_le, T1330596.associated_bu, T1334971.description, T1338224.name, T9862411.mk_period_year, T9862411.mk_period_num, T9862411.cube_period, T9862411.qtr, T9862411.gaap_month_num, T9862411.ledger_period_name, TABLE129.rt_HEADER_ID, TABLE129.rt_LINE_NUM, TABLE129.rt_LINES_ATTRIBUTE1, TABLE129.rt_LINES_ATTRIBUTE2, TABLE129.rt_LINES_ATTRIBUTE3, TABLE129.rt_LINES_ATTRIBUTE4, TABLE129.rt_LINES_ATTRIBUTE5, TABLE129.rt_LINES_ATTRIBUTE6, TABLE129.rt_LINES_ATTRIBUTE7, TABLE129.rt_LINES_ATTRIBUTE8, TABLE129.rt_LINES_ATTRIBUTE9, TABLE129.rt_LINES_ATTRIBUTE10, TABLE129.rt_lines_attribute11, TABLE129.rt_lines_attribute12, TABLE129.rt_lines_attribute13, TABLE129.rt_lines_attribute14, TABLE129.rt_lines_attribute15, TABLE129.rt_LINES_ATTRIBUTE16, TABLE129.rt_LINES_ATTRIBUTE17, TABLE129.rt_LINES_ATTRIBUTE18, TABLE129.rt_LINES_ATTRIBUTE19, TABLE129.rt_LINES_ATTRIBUTE20, TABLE129.currency_code, TABLE129.concatenated_segments, TABLE129.rt_CATEGORY_NAME, TABLE129.batch_posted_date, TABLE129.batch_description, TABLE129.BATCH_ID, TABLE129.rt_HEADER_NAME, TABLE129.BATCH_NAME, TABLE129.rt_CREATED_BY, TABLE129.rt_SOURCE_NAME, TABLE129.company_code_name_lb, TABLE129.account_name_acc, TABLE129.trading_partner_name_tp, TABLE129.cost_center_name_cc, TABLE129.rt_LINE_DESCRIPTION, T1354092.employee_name, T1479416.attribute57, T1479416.attribute58) D1 order by c17, c51, c10, c8, c9, c3, c2, c50, c11, c48, c47, c49, c23, c19, c18, c7, c6, c5, c24, c35, c37, c38, c39, c42, c43, c44, c45, c25, c26, c27, c28, c29, c30, c31, c32, c33, c34, c36, c40, c41, c46, c22, c4, c21, c20, c16, c15, c14 limit 10000001&quot;;\r\n    \t\t\tSelect select = (Select) parseSql.parse(new StringReader(statement));\r\n    \t\t\tPlainSelect plain = (PlainSelect) select.getSelectBody();\r\n    \t\t\tList&lt;SelectItem&gt; selectitems = plain.getSelectItems();\r\n    \t\t\tfor (int index = 0; index &lt; selectitems.size(); index++) {\r\n    \t\t\t\tExpression expressionIns = ((SelectExpressionItem) selectitems.get(index)).getExpression();\r\n    \t\t\t\tif (expressionIns instanceof Column) {\r\n    \t\t\t\t\tColumn columnInstance = (Column) expressionIns;\r\n    \t\t\t\t\tSystem.out.println(&quot;Table Name :: &quot;+columnInstance.getTable());\r\n    \t\t\t\t\tSystem.out.println(&quot;Column  Name :: &quot;+columnInstance.getColumnName());\r\n    \t\t\t\t} else if (expressionIns instanceof Function) {\r\n    \t\t\t\t\tFunction functionIns = (Function) expressionIns;\r\n    \t\t\t\t\tSystem.out.println(&quot;Function Name :: &quot;+functionIns.getName());\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \r\n    \t\t} catch (JSQLParserException exceptionInstance) {\r\n    \t\t\texceptionInstance.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nOutput : \r\n\r\n    Table Name :: D1\r\n    Column  Name :: c45\r\n    Table Name :: D1\r\n    Column  Name :: c44\r\n    Table Name :: D1\r\n    Column  Name :: c43\r\n    Table Name :: D1\r\n    Column  Name :: c42\r\n    Table Name :: D1\r\n    Column  Name :: c41\r\n    Table Name :: D1\r\n    Column  Name :: c40\r\n    Table Name :: D1\r\n    Column  Name :: c46\r\n    Table Name :: D1\r\n    Column  Name :: c47\r\n    Table Name :: D1\r\n    Column  Name :: c39\r\n    Table Name :: D1\r\n    Column  Name :: c38\r\n    Table Name :: D1\r\n    Column  Name :: c48\r\n    Table Name :: D1\r\n    Column  Name :: c49\r\n    Table Name :: D1\r\n    Column  Name :: c50\r\n    Table Name :: D1\r\n    Column  Name :: c51\r\n    Table Name :: D1\r\n    Column  Name :: c52\r\n    Table Name :: D1\r\n    Column  Name :: c53\r\n    Table Name :: D1\r\n    Column  Name :: c54\r\n    Table Name :: D1\r\n    Column  Name :: c37\r\n    Table Name :: D1\r\n    Column  Name :: c36\r\n    Table Name :: D1\r\n    Column  Name :: c35\r\n    Table Name :: D1\r\n    Column  Name :: c34\r\n    Table Name :: D1\r\n    Column  Name :: c33\r\n    Table Name :: D1\r\n    Column  Name :: c32\r\n    Table Name :: D1\r\n    Column  Name :: c31\r\n    Table Name :: D1\r\n    Column  Name :: c30\r\n    Table Name :: D1\r\n    Column  Name :: c29\r\n    Table Name :: D1\r\n    Column  Name :: c28\r\n    Table Name :: D1\r\n    Column  Name :: c27\r\n    Table Name :: D1\r\n    Column  Name :: c26\r\n    Table Name :: D1\r\n    Column  Name :: c25\r\n    Table Name :: D1\r\n    Column  Name :: c24\r\n    Table Name :: D1\r\n    Column  Name :: c23\r\n    Table Name :: D1\r\n    Column  Name :: c22\r\n    Table Name :: D1\r\n    Column  Name :: c21\r\n    Table Name :: D1\r\n    Column  Name :: c20\r\n    Table Name :: D1\r\n    Column  Name :: c19\r\n    Table Name :: D1\r\n    Column  Name :: c18\r\n    Table Name :: D1\r\n    Column  Name :: c17\r\n    Table Name :: D1\r\n    Column  Name :: c55\r\n    Table Name :: D1\r\n    Column  Name :: c56\r\n    Table Name :: D1\r\n    Column  Name :: c16\r\n    Table Name :: D1\r\n    Column  Name :: c15\r\n    Table Name :: D1\r\n    Column  Name :: c14\r\n    Table Name :: D1\r\n    Column  Name :: c13\r\n    Table Name :: D1\r\n    Column  Name :: c12\r\n    Table Name :: D1\r\n    Column  Name :: c11\r\n    Table Name :: D1\r\n    Column  Name :: c10\r\n    Table Name :: D1\r\n    Column  Name :: c9\r\n    Table Name :: D1\r\n    Column  Name :: c8\r\n    Table Name :: D1\r\n    Column  Name :: c57\r\n    Table Name :: D1\r\n    Column  Name :: c57\r\n    Table Name :: D1\r\n    Column  Name :: c7\r\n    Table Name :: D1\r\n    Column  Name :: c6\r\n    Table Name :: D1\r\n    Column  Name :: c5\r\n    Table Name :: D1\r\n    Column  Name :: c4\r\n    Table Name :: D1\r\n    Column  Name :: c3\r\n    Table Name :: D1\r\n    Column  Name :: c2\r\n    Table Name :: D1\r\n    Column  Name :: c1\r\n\r\nHere below is the code which can extract the table name and column names with alais and i am trying to tune this to include the select with functions as well\r\n","title":"How to use JSQL Parser to retrieve table names from a query?","body":"<pre><code>import java.io.StringReader;\nimport java.util.List;\n\nimport net.sf.jsqlparser.JSQLParserException;\nimport net.sf.jsqlparser.expression.Expression;\nimport net.sf.jsqlparser.expression.Function;\nimport net.sf.jsqlparser.parser.CCJSqlParserManager;\nimport net.sf.jsqlparser.schema.Column;\nimport net.sf.jsqlparser.statement.select.PlainSelect;\nimport net.sf.jsqlparser.statement.select.Select;\nimport net.sf.jsqlparser.statement.select.SelectExpressionItem;\nimport net.sf.jsqlparser.statement.select.SelectItem;\n\npublic class TableDetailsParser {\n\n    public static void main(String args[]) {\n        String statement;\n        try {\n            CCJSqlParserManager parseSql = new CCJSqlParserManager();\n            statement = \"select 0 as c1,D1.c45 as c2,D1.c44 as c3,D1.c43 as c4,D1.c42 as c5,D1.c41 as c6,D1.c40 as c7,D1.c46 as c8,D1.c47 as c9,D1.c39 as c10,D1.c38 as c11,D1.c48 as c12,D1.c49 as c13,D1.c50 as c14,D1.c51 as c15,D1.c52 as c16,D1.c53 as c17,D1.c54 as c18,D1.c37 as c19,D1.c36 as c20,D1.c35 as c21,D1.c34 as c22,D1.c33 as c23,D1.c32 as c24,D1.c31 as c25,D1.c30 as c26,D1.c29 as c27,D1.c28 as c28,D1.c27 as c29,D1.c26 as c30,D1.c25 as c31,D1.c24 as c32,D1.c23 as c33,D1.c22 as c34,D1.c21 as c35,D1.c20 as c36,D1.c19 as c37,D1.c18 as c38,D1.c17 as c39,D1.c55 as c40,D1.c56 as c41,D1.c16 as c42,D1.c15 as c43,D1.c14 as c44,D1.c13 as c45,D1.c12 as c46,D1.c11 as c47,D1.c10 as c48,D1.c9 as c49,D1.c8 as c50,D1.c57 as c51,D1.c57 as c52,D1.c7 as c53,D1.c6 as c54,D1.c5 as c55,D1.c4 as c56,D1.c3 as c57,D1.c2 as c58,D1.c1 as c59 from (select sum(TABLE129.USD_ACTIVITY_AMOUNT) as c1, sum(ifnull(TABLE129.ENTERED_DEBIT , 0) - ifnull(TABLE129.ENTERED_CREDIT , 0)) as c2,sum(TABLE129.ENTERED_DEBIT) as c3,sum(TABLE129.ENTERED_CREDIT) as c4,sum(ifnull(TABLE129.ACCOUNTED_DEBIT , 0) - ifnull(TABLE129.ACCOUNTED_CREDIT , 0)) as c5,sum(TABLE129.ACCOUNTED_DEBIT) as c6,sum(TABLE129.ACCOUNTED_CREDIT) as c7,TABLE129.trading_partner_name_tp as c8,TABLE129.currency_code as c9,TABLE129.rt_LINE_NUM as c10,TABLE129.rt_LINE_DESCRIPTION as c11,TABLE129.concatenated_segments as c12,TABLE129.rt_LINES_ATTRIBUTE9 as c13,TABLE129.rt_LINES_ATTRIBUTE8 as c14,TABLE129.rt_LINES_ATTRIBUTE7 as c15,TABLE129.rt_LINES_ATTRIBUTE6 as c16,TABLE129.rt_LINES_ATTRIBUTE5 as c17,TABLE129.rt_LINES_ATTRIBUTE4 as c18,TABLE129.rt_LINES_ATTRIBUTE3 as c19,TABLE129.rt_LINES_ATTRIBUTE20 as c20,TABLE129.rt_LINES_ATTRIBUTE2 as c21,TABLE129.rt_LINES_ATTRIBUTE19 as c22,TABLE129.rt_LINES_ATTRIBUTE18 as c23,TABLE129.rt_LINES_ATTRIBUTE17 as c24,TABLE129.rt_LINES_ATTRIBUTE16 as c25,TABLE129.rt_lines_attribute15 as c26,TABLE129.rt_lines_attribute14 as c27,TABLE129.rt_lines_attribute13 as c28,TABLE129.rt_lines_attribute12 as c29,TABLE129.rt_lines_attribute11 as c30,TABLE129.rt_LINES_ATTRIBUTE10 as c31,TABLE129.rt_LINES_ATTRIBUTE1 as c32,TABLE129.rt_SOURCE_NAME as c33,TABLE129.rt_CATEGORY_NAME as c34,TABLE129.rt_HEADER_ID as c35,TABLE129.rt_HEADER_NAME as c36,TABLE129.rt_CREATED_BY as c37,TABLE129.cost_center_name_cc as c38,TABLE129.company_code_name_lb as c39,TABLE129.batch_posted_date as c40,TABLE129.BATCH_NAME as c41,TABLE129.BATCH_ID as c42,TABLE129.batch_description as c43,TABLE129.account_name_acc as c44,T1334971.description as c45,T1330596.associated_bu as c46,T1330596.associated_le as c47,T9862411.cube_period as c48,T9862411.ledger_period_name as c49,T9862411.mk_period_num as c50,T9862411.qtr as c51,T9862411.mk_period_year as c52,T1338224.name as c53,T1354092.employee_name as c54,T1479416.attribute57 as c55,T1479416.attribute58 as c56,T9862411.gaap_month_num as c57 from ( au_mk_ledgers T1338224 /* DIM_mk_LEDGER */  inner join ( (au_drm_hier_company_code T1330596 /* DIM_COMPANY_CODE_HIER */  inner join (au_KETOL_period_dimension_v T9862411 /* DIM_KETOL_PERIOD */  inner join ( au_drm_hier_account T1334971 /* DIM_ACCOUNT_HIER */  inner join sld_mk_journals TABLE129 /* FACT_mk_DETAILS */  On T1334971.join_computed = TABLE129.join_account_computed) On T9862411.mk_period_year = TABLE129.period_year and T9862411.source_erp = TABLE129.source_system_name and T9862411.ledger_id = TABLE129.LEDGER_ID and T9862411.mk_period_name = TABLE129.period_name) On T1330596.join_fact_computed = TABLE129.join_company_code_computed) left outer join  au_fnd_user T1354092 /* DIM_HEADERS_CREATED_BY */  On TABLE129.rt_header_created_by = T1354092.user_id and TABLE129.source_system_name = T1354092.source_system_name) On T1338224.ledger_id = TABLE129.LEDGER_ID and T1338224.source_system_name = TABLE129.source_system_name) left outer join au_mk_rt_lines_addl_dffs T1479416 /* DIM_mk_rt_LINES_ADDL_DFFS */  On TABLE129.rt_HEADER_ID = T1479416.rt_header_id and TABLE129.rt_LINE_NUM = T1479416.rt_line_num and TABLE129.period_year = T1479416.period_year and TABLE129.source_system_name = T1479416.source_system_name  where  ( T1330596.drm_type = 'BASE' and T1334971.drm_type = 'E' and T1338224.name = 'USD Primary Ledger' and TABLE129.company_code_name_lb = 'LB_GIQ3' and TABLE129.account_name_acc = 'AC_1510301000' and (T9862411.ledger_period_name = 'OCT-19' or T9862411.ledger_period_name = 'SEP-19') )  group by T1330596.associated_le, T1330596.associated_bu, T1334971.description, T1338224.name, T9862411.mk_period_year, T9862411.mk_period_num, T9862411.cube_period, T9862411.qtr, T9862411.gaap_month_num, T9862411.ledger_period_name, TABLE129.rt_HEADER_ID, TABLE129.rt_LINE_NUM, TABLE129.rt_LINES_ATTRIBUTE1, TABLE129.rt_LINES_ATTRIBUTE2, TABLE129.rt_LINES_ATTRIBUTE3, TABLE129.rt_LINES_ATTRIBUTE4, TABLE129.rt_LINES_ATTRIBUTE5, TABLE129.rt_LINES_ATTRIBUTE6, TABLE129.rt_LINES_ATTRIBUTE7, TABLE129.rt_LINES_ATTRIBUTE8, TABLE129.rt_LINES_ATTRIBUTE9, TABLE129.rt_LINES_ATTRIBUTE10, TABLE129.rt_lines_attribute11, TABLE129.rt_lines_attribute12, TABLE129.rt_lines_attribute13, TABLE129.rt_lines_attribute14, TABLE129.rt_lines_attribute15, TABLE129.rt_LINES_ATTRIBUTE16, TABLE129.rt_LINES_ATTRIBUTE17, TABLE129.rt_LINES_ATTRIBUTE18, TABLE129.rt_LINES_ATTRIBUTE19, TABLE129.rt_LINES_ATTRIBUTE20, TABLE129.currency_code, TABLE129.concatenated_segments, TABLE129.rt_CATEGORY_NAME, TABLE129.batch_posted_date, TABLE129.batch_description, TABLE129.BATCH_ID, TABLE129.rt_HEADER_NAME, TABLE129.BATCH_NAME, TABLE129.rt_CREATED_BY, TABLE129.rt_SOURCE_NAME, TABLE129.company_code_name_lb, TABLE129.account_name_acc, TABLE129.trading_partner_name_tp, TABLE129.cost_center_name_cc, TABLE129.rt_LINE_DESCRIPTION, T1354092.employee_name, T1479416.attribute57, T1479416.attribute58) D1 order by c17, c51, c10, c8, c9, c3, c2, c50, c11, c48, c47, c49, c23, c19, c18, c7, c6, c5, c24, c35, c37, c38, c39, c42, c43, c44, c45, c25, c26, c27, c28, c29, c30, c31, c32, c33, c34, c36, c40, c41, c46, c22, c4, c21, c20, c16, c15, c14 limit 10000001\";\n            Select select = (Select) parseSql.parse(new StringReader(statement));\n            PlainSelect plain = (PlainSelect) select.getSelectBody();\n            List&lt;SelectItem&gt; selectitems = plain.getSelectItems();\n            for (int index = 0; index &lt; selectitems.size(); index++) {\n                Expression expressionIns = ((SelectExpressionItem) selectitems.get(index)).getExpression();\n                if (expressionIns instanceof Column) {\n                    Column columnInstance = (Column) expressionIns;\n                    System.out.println(\"Table Name :: \"+columnInstance.getTable());\n                    System.out.println(\"Column  Name :: \"+columnInstance.getColumnName());\n                } else if (expressionIns instanceof Function) {\n                    Function functionIns = (Function) expressionIns;\n                    System.out.println(\"Function Name :: \"+functionIns.getName());\n                }\n            }\n\n        } catch (JSQLParserException exceptionInstance) {\n            exceptionInstance.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>Output : </p>\n\n<pre><code>Table Name :: D1\nColumn  Name :: c45\nTable Name :: D1\nColumn  Name :: c44\nTable Name :: D1\nColumn  Name :: c43\nTable Name :: D1\nColumn  Name :: c42\nTable Name :: D1\nColumn  Name :: c41\nTable Name :: D1\nColumn  Name :: c40\nTable Name :: D1\nColumn  Name :: c46\nTable Name :: D1\nColumn  Name :: c47\nTable Name :: D1\nColumn  Name :: c39\nTable Name :: D1\nColumn  Name :: c38\nTable Name :: D1\nColumn  Name :: c48\nTable Name :: D1\nColumn  Name :: c49\nTable Name :: D1\nColumn  Name :: c50\nTable Name :: D1\nColumn  Name :: c51\nTable Name :: D1\nColumn  Name :: c52\nTable Name :: D1\nColumn  Name :: c53\nTable Name :: D1\nColumn  Name :: c54\nTable Name :: D1\nColumn  Name :: c37\nTable Name :: D1\nColumn  Name :: c36\nTable Name :: D1\nColumn  Name :: c35\nTable Name :: D1\nColumn  Name :: c34\nTable Name :: D1\nColumn  Name :: c33\nTable Name :: D1\nColumn  Name :: c32\nTable Name :: D1\nColumn  Name :: c31\nTable Name :: D1\nColumn  Name :: c30\nTable Name :: D1\nColumn  Name :: c29\nTable Name :: D1\nColumn  Name :: c28\nTable Name :: D1\nColumn  Name :: c27\nTable Name :: D1\nColumn  Name :: c26\nTable Name :: D1\nColumn  Name :: c25\nTable Name :: D1\nColumn  Name :: c24\nTable Name :: D1\nColumn  Name :: c23\nTable Name :: D1\nColumn  Name :: c22\nTable Name :: D1\nColumn  Name :: c21\nTable Name :: D1\nColumn  Name :: c20\nTable Name :: D1\nColumn  Name :: c19\nTable Name :: D1\nColumn  Name :: c18\nTable Name :: D1\nColumn  Name :: c17\nTable Name :: D1\nColumn  Name :: c55\nTable Name :: D1\nColumn  Name :: c56\nTable Name :: D1\nColumn  Name :: c16\nTable Name :: D1\nColumn  Name :: c15\nTable Name :: D1\nColumn  Name :: c14\nTable Name :: D1\nColumn  Name :: c13\nTable Name :: D1\nColumn  Name :: c12\nTable Name :: D1\nColumn  Name :: c11\nTable Name :: D1\nColumn  Name :: c10\nTable Name :: D1\nColumn  Name :: c9\nTable Name :: D1\nColumn  Name :: c8\nTable Name :: D1\nColumn  Name :: c57\nTable Name :: D1\nColumn  Name :: c57\nTable Name :: D1\nColumn  Name :: c7\nTable Name :: D1\nColumn  Name :: c6\nTable Name :: D1\nColumn  Name :: c5\nTable Name :: D1\nColumn  Name :: c4\nTable Name :: D1\nColumn  Name :: c3\nTable Name :: D1\nColumn  Name :: c2\nTable Name :: D1\nColumn  Name :: c1\n</code></pre>\n\n<p>Here below is the code which can extract the table name and column names with alais and i am trying to tune this to include the select with functions as well</p>\n"},{"tags":[],"owner":{"account_id":11643594,"reputation":1,"user_id":8527240,"display_name":"Ashish Kumar Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632299473,"creation_date":1632299473,"answer_id":69280727,"question_id":59170170,"body_markdown":"    private List&lt;String&gt; getTables(String query) throws JSQLParserException {\r\n\t\tCCJSqlParserManager parseSql = new CCJSqlParserManager();\r\n\t\tStatement stmnt = parseSql.parse(new StringReader(query));\r\n\t\tTablesNamesFinder tablesNamesFinder = new TablesNamesFinder();\r\n\t\treturn tablesNamesFinder.getTableList(stmnt);\r\n\t}","title":"How to use JSQL Parser to retrieve table names from a query?","body":"<pre><code>private List&lt;String&gt; getTables(String query) throws JSQLParserException {\n    CCJSqlParserManager parseSql = new CCJSqlParserManager();\n    Statement stmnt = parseSql.parse(new StringReader(query));\n    TablesNamesFinder tablesNamesFinder = new TablesNamesFinder();\n    return tablesNamesFinder.getTableList(stmnt);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11939400,"reputation":624,"user_id":8736711,"display_name":"Frank Wang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676548584,"creation_date":1676548584,"answer_id":75471908,"question_id":59170170,"body_markdown":"With `jsqlparser` version 4.5,  code like this:\r\n\r\n    Statement statement = CCJSqlParserUtil.parse(sql);\r\n    TablesNamesFinder tablesNamesFinder = new TablesNamesFinder();\r\n    Set&lt;String&gt; tableNames = new HashSet&lt;&gt;(tablesNamesFinder.getTableList(statement));","title":"How to use JSQL Parser to retrieve table names from a query?","body":"<p>With <code>jsqlparser</code> version 4.5,  code like this:</p>\n<pre><code>Statement statement = CCJSqlParserUtil.parse(sql);\nTablesNamesFinder tablesNamesFinder = new TablesNamesFinder();\nSet&lt;String&gt; tableNames = new HashSet&lt;&gt;(tablesNamesFinder.getTableList(statement));\n</code></pre>\n"}],"owner":{"account_id":9587184,"reputation":2009,"user_id":7119501,"accept_rate":68,"display_name":"Metadata"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3267,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1676548584,"creation_date":1575441236,"question_id":59170170,"body_markdown":"I started to write code to parse a `SQL` query only to find out that there are `APIs` available for the same. When I saw JSQLParser [here][1], downloaded the `jar` using the given dependency\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.github.jsqlparser&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;jsqlparser&lt;/artifactId&gt;\r\n    \t&lt;version&gt;3.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n  [1]: https://github.com/JSQLParser/JSqlParser \r\n\r\nI found code to retrieve the column names from a `SQL` query as below:\r\n\r\n**Main Class: Entry**\r\n\r\n    public class Entry {\r\n        public static void main(String args[]) {\r\n            Variables v = new Variables();\r\n            try {\r\n                v.getColumns(&quot;select 0 as c1,D1.c45 as c2,D1.c44 as c3,D1.c43 as c4,D1.c42 as c5,D1.c41 as c6,D1.c40 as c7,D1.c46 as c8,D1.c47 as c9,D1.c39 as c10,D1.c38 as c11,D1.c48 as c12,D1.c49 as c13,D1.c50 as c14,D1.c51 as c15,D1.c52 as c16,D1.c53 as c17,D1.c54 as c18,D1.c37 as c19,D1.c36 as c20,D1.c35 as c21,D1.c34 as c22,D1.c33 as c23,D1.c32 as c24,D1.c31 as c25,D1.c30 as c26,D1.c29 as c27,D1.c28 as c28,D1.c27 as c29,D1.c26 as c30,D1.c25 as c31,D1.c24 as c32,D1.c23 as c33,D1.c22 as c34,D1.c21 as c35,D1.c20 as c36,D1.c19 as c37,D1.c18 as c38,D1.c17 as c39,D1.c55 as c40,D1.c56 as c41,D1.c16 as c42,D1.c15 as c43,D1.c14 as c44,D1.c13 as c45,D1.c12 as c46,D1.c11 as c47,D1.c10 as c48,D1.c9 as c49,D1.c8 as c50,D1.c57 as c51,D1.c57 as c52,D1.c7 as c53,D1.c6 as c54,D1.c5 as c55,D1.c4 as c56,D1.c3 as c57,D1.c2 as c58,D1.c1 as c59 from (select sum(TABLE129.USD_ACTIVITY_AMOUNT) as c1, sum(ifnull(TABLE129.ENTERED_DEBIT , 0) - ifnull(TABLE129.ENTERED_CREDIT , 0)) as c2,sum(TABLE129.ENTERED_DEBIT) as c3,sum(TABLE129.ENTERED_CREDIT) as c4,sum(ifnull(TABLE129.ACCOUNTED_DEBIT , 0) - ifnull(TABLE129.ACCOUNTED_CREDIT , 0)) as c5,sum(TABLE129.ACCOUNTED_DEBIT) as c6,sum(TABLE129.ACCOUNTED_CREDIT) as c7,TABLE129.trading_partner_name_tp as c8,TABLE129.currency_code as c9,TABLE129.rt_LINE_NUM as c10,TABLE129.rt_LINE_DESCRIPTION as c11,TABLE129.concatenated_segments as c12,TABLE129.rt_LINES_ATTRIBUTE9 as c13,TABLE129.rt_LINES_ATTRIBUTE8 as c14,TABLE129.rt_LINES_ATTRIBUTE7 as c15,TABLE129.rt_LINES_ATTRIBUTE6 as c16,TABLE129.rt_LINES_ATTRIBUTE5 as c17,TABLE129.rt_LINES_ATTRIBUTE4 as c18,TABLE129.rt_LINES_ATTRIBUTE3 as c19,TABLE129.rt_LINES_ATTRIBUTE20 as c20,TABLE129.rt_LINES_ATTRIBUTE2 as c21,TABLE129.rt_LINES_ATTRIBUTE19 as c22,TABLE129.rt_LINES_ATTRIBUTE18 as c23,TABLE129.rt_LINES_ATTRIBUTE17 as c24,TABLE129.rt_LINES_ATTRIBUTE16 as c25,TABLE129.rt_lines_attribute15 as c26,TABLE129.rt_lines_attribute14 as c27,TABLE129.rt_lines_attribute13 as c28,TABLE129.rt_lines_attribute12 as c29,TABLE129.rt_lines_attribute11 as c30,TABLE129.rt_LINES_ATTRIBUTE10 as c31,TABLE129.rt_LINES_ATTRIBUTE1 as c32,TABLE129.rt_SOURCE_NAME as c33,TABLE129.rt_CATEGORY_NAME as c34,TABLE129.rt_HEADER_ID as c35,TABLE129.rt_HEADER_NAME as c36,TABLE129.rt_CREATED_BY as c37,TABLE129.cost_center_name_cc as c38,TABLE129.company_code_name_lb as c39,TABLE129.batch_posted_date as c40,TABLE129.BATCH_NAME as c41,TABLE129.BATCH_ID as c42,TABLE129.batch_description as c43,TABLE129.account_name_acc as c44,T1334971.description as c45,T1330596.associated_bu as c46,T1330596.associated_le as c47,T9862411.cube_period as c48,T9862411.ledger_period_name as c49,T9862411.mk_period_num as c50,T9862411.qtr as c51,T9862411.mk_period_year as c52,T1338224.name as c53,T1354092.employee_name as c54,T1479416.attribute57 as c55,T1479416.attribute58 as c56,T9862411.gaap_month_num as c57 from ( au_mk_ledgers T1338224 /* DIM_mk_LEDGER */  inner join ( (au_drm_hier_company_code T1330596 /* DIM_COMPANY_CODE_HIER */  inner join (au_KETOL_period_dimension_v T9862411 /* DIM_KETOL_PERIOD */  inner join ( au_drm_hier_account T1334971 /* DIM_ACCOUNT_HIER */  inner join sld_mk_journals TABLE129 /* FACT_mk_DETAILS */  On T1334971.join_computed = TABLE129.join_account_computed) On T9862411.mk_period_year = TABLE129.period_year and T9862411.source_erp = TABLE129.source_system_name and T9862411.ledger_id = TABLE129.LEDGER_ID and T9862411.mk_period_name = TABLE129.period_name) On T1330596.join_fact_computed = TABLE129.join_company_code_computed) left outer join  au_fnd_user T1354092 /* DIM_HEADERS_CREATED_BY */  On TABLE129.rt_header_created_by = T1354092.user_id and TABLE129.source_system_name = T1354092.source_system_name) On T1338224.ledger_id = TABLE129.LEDGER_ID and T1338224.source_system_name = TABLE129.source_system_name) left outer join au_mk_rt_lines_addl_dffs T1479416 /* DIM_mk_rt_LINES_ADDL_DFFS */  On TABLE129.rt_HEADER_ID = T1479416.rt_header_id and TABLE129.rt_LINE_NUM = T1479416.rt_line_num and TABLE129.period_year = T1479416.period_year and TABLE129.source_system_name = T1479416.source_system_name  where  ( T1330596.drm_type = &#39;BASE&#39; and T1334971.drm_type = &#39;E&#39; and T1338224.name = &#39;USD Primary Ledger&#39; and TABLE129.company_code_name_lb = &#39;LB_GIQ3&#39; and TABLE129.account_name_acc = &#39;AC_1510301000&#39; and (T9862411.ledger_period_name = &#39;OCT-19&#39; or T9862411.ledger_period_name = &#39;SEP-19&#39;) )  group by T1330596.associated_le, T1330596.associated_bu, T1334971.description, T1338224.name, T9862411.mk_period_year, T9862411.mk_period_num, T9862411.cube_period, T9862411.qtr, T9862411.gaap_month_num, T9862411.ledger_period_name, TABLE129.rt_HEADER_ID, TABLE129.rt_LINE_NUM, TABLE129.rt_LINES_ATTRIBUTE1, TABLE129.rt_LINES_ATTRIBUTE2, TABLE129.rt_LINES_ATTRIBUTE3, TABLE129.rt_LINES_ATTRIBUTE4, TABLE129.rt_LINES_ATTRIBUTE5, TABLE129.rt_LINES_ATTRIBUTE6, TABLE129.rt_LINES_ATTRIBUTE7, TABLE129.rt_LINES_ATTRIBUTE8, TABLE129.rt_LINES_ATTRIBUTE9, TABLE129.rt_LINES_ATTRIBUTE10, TABLE129.rt_lines_attribute11, TABLE129.rt_lines_attribute12, TABLE129.rt_lines_attribute13, TABLE129.rt_lines_attribute14, TABLE129.rt_lines_attribute15, TABLE129.rt_LINES_ATTRIBUTE16, TABLE129.rt_LINES_ATTRIBUTE17, TABLE129.rt_LINES_ATTRIBUTE18, TABLE129.rt_LINES_ATTRIBUTE19, TABLE129.rt_LINES_ATTRIBUTE20, TABLE129.currency_code, TABLE129.concatenated_segments, TABLE129.rt_CATEGORY_NAME, TABLE129.batch_posted_date, TABLE129.batch_description, TABLE129.BATCH_ID, TABLE129.rt_HEADER_NAME, TABLE129.BATCH_NAME, TABLE129.rt_CREATED_BY, TABLE129.rt_SOURCE_NAME, TABLE129.company_code_name_lb, TABLE129.account_name_acc, TABLE129.trading_partner_name_tp, TABLE129.cost_center_name_cc, TABLE129.rt_LINE_DESCRIPTION, T1354092.employee_name, T1479416.attribute57, T1479416.attribute58) D1 order by c17, c51, c10, c8, c9, c3, c2, c50, c11, c48, c47, c49, c23, c19, c18, c7, c6, c5, c24, c35, c37, c38, c39, c42, c43, c44, c45, c25, c26, c27, c28, c29, c30, c31, c32, c33, c34, c36, c40, c41, c46, c22, c4, c21, c20, c16, c15, c14 limit 10000001&quot;);\r\n            } catch (JSQLParserException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nClass using parser: Variables\r\n\r\n    public class Variables extends ExpressionDeParser {\r\n        public List&lt;String&gt; getColumns(String query) throws JSQLParserException {\r\n            CCJSqlParserManager parseSql = new CCJSqlParserManager();\r\n            Statement stmnt = parseSql.parse(new StringReader(query));\r\n            List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n            if(stmnt instanceof Select) {\r\n                Select selectStatement = (Select) stmnt; //convert to Select Statement\r\n                PlainSelect ps = (PlainSelect)selectStatement.getSelectBody();\r\n                List&lt;SelectItem&gt; selectitems = ps.getSelectItems();\r\n                for(SelectItem i: selectitems) {\r\n                    System.out.println(i);\r\n                }\r\n            }\r\n            return list;\r\n         }\r\n    }\r\n\r\nI tried to retrieve the tables using below method:\r\nI tried this\r\n\r\n    public  List&lt;String&gt; getTables(String query) throws JSQLParserException {\r\n        CCJSqlParserManager parseSql = new CCJSqlParserManager();\r\n        Statement stmnt = parseSql.parse(new StringReader(query));\r\n    \r\n        List&lt;String&gt; lst = new ArrayList&lt;String&gt;();\r\n        if(stmnt instanceof  Select) {\r\n            Select select = (Select) stmnt;\r\n            PlainSelect ps = (PlainSelect) select.getSelectBody();\r\n            List&lt;Table&gt; tables = ps.getIntoTables();\r\n            for(Table t: tables) {\r\n                System.out.println(t);\r\n            }\r\n        }\r\n        return lst;\r\n    }\r\n\r\nBut it is printing NULL.\r\n\r\nThe queries I am using are of `Postgresql`.\r\nThe method: getColumns is printing the columns correctly. I dont know how can I print table names from the query passed. Is there a specific method to get table names from the query ? \r\nCould anyone let me know how can extract table names from a given query using `JSQL` Parser ?\r\n\r\n","title":"How to use JSQL Parser to retrieve table names from a query?","body":"<p>I started to write code to parse a <code>SQL</code> query only to find out that there are <code>APIs</code> available for the same. When I saw JSQLParser <a href=\"https://github.com/JSQLParser/JSqlParser\" rel=\"nofollow noreferrer\">here</a>, downloaded the <code>jar</code> using the given dependency</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.github.jsqlparser&lt;/groupId&gt;\n    &lt;artifactId&gt;jsqlparser&lt;/artifactId&gt;\n    &lt;version&gt;3.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>I found code to retrieve the column names from a <code>SQL</code> query as below:</p>\n\n<p><strong>Main Class: Entry</strong></p>\n\n<pre><code>public class Entry {\n    public static void main(String args[]) {\n        Variables v = new Variables();\n        try {\n            v.getColumns(\"select 0 as c1,D1.c45 as c2,D1.c44 as c3,D1.c43 as c4,D1.c42 as c5,D1.c41 as c6,D1.c40 as c7,D1.c46 as c8,D1.c47 as c9,D1.c39 as c10,D1.c38 as c11,D1.c48 as c12,D1.c49 as c13,D1.c50 as c14,D1.c51 as c15,D1.c52 as c16,D1.c53 as c17,D1.c54 as c18,D1.c37 as c19,D1.c36 as c20,D1.c35 as c21,D1.c34 as c22,D1.c33 as c23,D1.c32 as c24,D1.c31 as c25,D1.c30 as c26,D1.c29 as c27,D1.c28 as c28,D1.c27 as c29,D1.c26 as c30,D1.c25 as c31,D1.c24 as c32,D1.c23 as c33,D1.c22 as c34,D1.c21 as c35,D1.c20 as c36,D1.c19 as c37,D1.c18 as c38,D1.c17 as c39,D1.c55 as c40,D1.c56 as c41,D1.c16 as c42,D1.c15 as c43,D1.c14 as c44,D1.c13 as c45,D1.c12 as c46,D1.c11 as c47,D1.c10 as c48,D1.c9 as c49,D1.c8 as c50,D1.c57 as c51,D1.c57 as c52,D1.c7 as c53,D1.c6 as c54,D1.c5 as c55,D1.c4 as c56,D1.c3 as c57,D1.c2 as c58,D1.c1 as c59 from (select sum(TABLE129.USD_ACTIVITY_AMOUNT) as c1, sum(ifnull(TABLE129.ENTERED_DEBIT , 0) - ifnull(TABLE129.ENTERED_CREDIT , 0)) as c2,sum(TABLE129.ENTERED_DEBIT) as c3,sum(TABLE129.ENTERED_CREDIT) as c4,sum(ifnull(TABLE129.ACCOUNTED_DEBIT , 0) - ifnull(TABLE129.ACCOUNTED_CREDIT , 0)) as c5,sum(TABLE129.ACCOUNTED_DEBIT) as c6,sum(TABLE129.ACCOUNTED_CREDIT) as c7,TABLE129.trading_partner_name_tp as c8,TABLE129.currency_code as c9,TABLE129.rt_LINE_NUM as c10,TABLE129.rt_LINE_DESCRIPTION as c11,TABLE129.concatenated_segments as c12,TABLE129.rt_LINES_ATTRIBUTE9 as c13,TABLE129.rt_LINES_ATTRIBUTE8 as c14,TABLE129.rt_LINES_ATTRIBUTE7 as c15,TABLE129.rt_LINES_ATTRIBUTE6 as c16,TABLE129.rt_LINES_ATTRIBUTE5 as c17,TABLE129.rt_LINES_ATTRIBUTE4 as c18,TABLE129.rt_LINES_ATTRIBUTE3 as c19,TABLE129.rt_LINES_ATTRIBUTE20 as c20,TABLE129.rt_LINES_ATTRIBUTE2 as c21,TABLE129.rt_LINES_ATTRIBUTE19 as c22,TABLE129.rt_LINES_ATTRIBUTE18 as c23,TABLE129.rt_LINES_ATTRIBUTE17 as c24,TABLE129.rt_LINES_ATTRIBUTE16 as c25,TABLE129.rt_lines_attribute15 as c26,TABLE129.rt_lines_attribute14 as c27,TABLE129.rt_lines_attribute13 as c28,TABLE129.rt_lines_attribute12 as c29,TABLE129.rt_lines_attribute11 as c30,TABLE129.rt_LINES_ATTRIBUTE10 as c31,TABLE129.rt_LINES_ATTRIBUTE1 as c32,TABLE129.rt_SOURCE_NAME as c33,TABLE129.rt_CATEGORY_NAME as c34,TABLE129.rt_HEADER_ID as c35,TABLE129.rt_HEADER_NAME as c36,TABLE129.rt_CREATED_BY as c37,TABLE129.cost_center_name_cc as c38,TABLE129.company_code_name_lb as c39,TABLE129.batch_posted_date as c40,TABLE129.BATCH_NAME as c41,TABLE129.BATCH_ID as c42,TABLE129.batch_description as c43,TABLE129.account_name_acc as c44,T1334971.description as c45,T1330596.associated_bu as c46,T1330596.associated_le as c47,T9862411.cube_period as c48,T9862411.ledger_period_name as c49,T9862411.mk_period_num as c50,T9862411.qtr as c51,T9862411.mk_period_year as c52,T1338224.name as c53,T1354092.employee_name as c54,T1479416.attribute57 as c55,T1479416.attribute58 as c56,T9862411.gaap_month_num as c57 from ( au_mk_ledgers T1338224 /* DIM_mk_LEDGER */  inner join ( (au_drm_hier_company_code T1330596 /* DIM_COMPANY_CODE_HIER */  inner join (au_KETOL_period_dimension_v T9862411 /* DIM_KETOL_PERIOD */  inner join ( au_drm_hier_account T1334971 /* DIM_ACCOUNT_HIER */  inner join sld_mk_journals TABLE129 /* FACT_mk_DETAILS */  On T1334971.join_computed = TABLE129.join_account_computed) On T9862411.mk_period_year = TABLE129.period_year and T9862411.source_erp = TABLE129.source_system_name and T9862411.ledger_id = TABLE129.LEDGER_ID and T9862411.mk_period_name = TABLE129.period_name) On T1330596.join_fact_computed = TABLE129.join_company_code_computed) left outer join  au_fnd_user T1354092 /* DIM_HEADERS_CREATED_BY */  On TABLE129.rt_header_created_by = T1354092.user_id and TABLE129.source_system_name = T1354092.source_system_name) On T1338224.ledger_id = TABLE129.LEDGER_ID and T1338224.source_system_name = TABLE129.source_system_name) left outer join au_mk_rt_lines_addl_dffs T1479416 /* DIM_mk_rt_LINES_ADDL_DFFS */  On TABLE129.rt_HEADER_ID = T1479416.rt_header_id and TABLE129.rt_LINE_NUM = T1479416.rt_line_num and TABLE129.period_year = T1479416.period_year and TABLE129.source_system_name = T1479416.source_system_name  where  ( T1330596.drm_type = 'BASE' and T1334971.drm_type = 'E' and T1338224.name = 'USD Primary Ledger' and TABLE129.company_code_name_lb = 'LB_GIQ3' and TABLE129.account_name_acc = 'AC_1510301000' and (T9862411.ledger_period_name = 'OCT-19' or T9862411.ledger_period_name = 'SEP-19') )  group by T1330596.associated_le, T1330596.associated_bu, T1334971.description, T1338224.name, T9862411.mk_period_year, T9862411.mk_period_num, T9862411.cube_period, T9862411.qtr, T9862411.gaap_month_num, T9862411.ledger_period_name, TABLE129.rt_HEADER_ID, TABLE129.rt_LINE_NUM, TABLE129.rt_LINES_ATTRIBUTE1, TABLE129.rt_LINES_ATTRIBUTE2, TABLE129.rt_LINES_ATTRIBUTE3, TABLE129.rt_LINES_ATTRIBUTE4, TABLE129.rt_LINES_ATTRIBUTE5, TABLE129.rt_LINES_ATTRIBUTE6, TABLE129.rt_LINES_ATTRIBUTE7, TABLE129.rt_LINES_ATTRIBUTE8, TABLE129.rt_LINES_ATTRIBUTE9, TABLE129.rt_LINES_ATTRIBUTE10, TABLE129.rt_lines_attribute11, TABLE129.rt_lines_attribute12, TABLE129.rt_lines_attribute13, TABLE129.rt_lines_attribute14, TABLE129.rt_lines_attribute15, TABLE129.rt_LINES_ATTRIBUTE16, TABLE129.rt_LINES_ATTRIBUTE17, TABLE129.rt_LINES_ATTRIBUTE18, TABLE129.rt_LINES_ATTRIBUTE19, TABLE129.rt_LINES_ATTRIBUTE20, TABLE129.currency_code, TABLE129.concatenated_segments, TABLE129.rt_CATEGORY_NAME, TABLE129.batch_posted_date, TABLE129.batch_description, TABLE129.BATCH_ID, TABLE129.rt_HEADER_NAME, TABLE129.BATCH_NAME, TABLE129.rt_CREATED_BY, TABLE129.rt_SOURCE_NAME, TABLE129.company_code_name_lb, TABLE129.account_name_acc, TABLE129.trading_partner_name_tp, TABLE129.cost_center_name_cc, TABLE129.rt_LINE_DESCRIPTION, T1354092.employee_name, T1479416.attribute57, T1479416.attribute58) D1 order by c17, c51, c10, c8, c9, c3, c2, c50, c11, c48, c47, c49, c23, c19, c18, c7, c6, c5, c24, c35, c37, c38, c39, c42, c43, c44, c45, c25, c26, c27, c28, c29, c30, c31, c32, c33, c34, c36, c40, c41, c46, c22, c4, c21, c20, c16, c15, c14 limit 10000001\");\n        } catch (JSQLParserException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>Class using parser: Variables</p>\n\n<pre><code>public class Variables extends ExpressionDeParser {\n    public List&lt;String&gt; getColumns(String query) throws JSQLParserException {\n        CCJSqlParserManager parseSql = new CCJSqlParserManager();\n        Statement stmnt = parseSql.parse(new StringReader(query));\n        List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n        if(stmnt instanceof Select) {\n            Select selectStatement = (Select) stmnt; //convert to Select Statement\n            PlainSelect ps = (PlainSelect)selectStatement.getSelectBody();\n            List&lt;SelectItem&gt; selectitems = ps.getSelectItems();\n            for(SelectItem i: selectitems) {\n                System.out.println(i);\n            }\n        }\n        return list;\n     }\n}\n</code></pre>\n\n<p>I tried to retrieve the tables using below method:\nI tried this</p>\n\n<pre><code>public  List&lt;String&gt; getTables(String query) throws JSQLParserException {\n    CCJSqlParserManager parseSql = new CCJSqlParserManager();\n    Statement stmnt = parseSql.parse(new StringReader(query));\n\n    List&lt;String&gt; lst = new ArrayList&lt;String&gt;();\n    if(stmnt instanceof  Select) {\n        Select select = (Select) stmnt;\n        PlainSelect ps = (PlainSelect) select.getSelectBody();\n        List&lt;Table&gt; tables = ps.getIntoTables();\n        for(Table t: tables) {\n            System.out.println(t);\n        }\n    }\n    return lst;\n}\n</code></pre>\n\n<p>But it is printing NULL.</p>\n\n<p>The queries I am using are of <code>Postgresql</code>.\nThe method: getColumns is printing the columns correctly. I dont know how can I print table names from the query passed. Is there a specific method to get table names from the query ? \nCould anyone let me know how can extract table names from a given query using <code>JSQL</code> Parser ?</p>\n"},{"tags":["java","macos","processing","kinect","openkinect"],"owner":{"account_id":27797220,"reputation":21,"user_id":21222412,"display_name":"Spenser Spratlin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676548556,"creation_date":1676495393,"question_id":75465461,"body_markdown":"I&#39;m trying to run two Kinect V1 cameras simultaneously in Processing 3. I have gotten to a solution that is not sustainable, and am I trying to make something more stable/reliable. \r\n\r\nAt the moment, whenever I try to run both cameras simultaneously on a single sketch, I am hit with the error \r\n\r\n&gt; &quot;Could not claim interface on camera: -3\r\n&gt; Failed to open camera subdevice or it is not disabled.Failed to open motor subddevice or it is not disabled.Failed to open audio subdevice or it is not disabled.There are no kinects, returning null&quot;\r\n\r\nOne camera opens, the other does not. It is not always consistent which camera opens, which leads me to believe there&#39;s something tripping over permissions after the objects are created, or when the second object is initialized. \r\n\r\nMy code is as such\r\n\r\n```\r\nimport SimpleOpenNI.*;\r\nimport org.openkinect.freenect.*;\r\nimport org.openkinect.freenect2.*;\r\nimport org.openkinect.processing.*;\r\nimport org.openkinect.tests.*;\r\n\r\n//Imported libraries\r\n//Some might be unnecessary but I don&#39;t have time to check\r\n//Better safe than sorry, maybe I&#39;ll delete later\r\n\r\nKinect kinect;\r\nKinect kinect2;\r\n\r\nPImage depthImage;\r\nPImage depthImage2;\r\n\r\n//Set depth threshold\r\nfloat minDepth = 996;\r\nfloat maxDepth = 2493;\r\n\r\nfloat iWidth1 = 0;\r\nfloat iHeight1 = 0;\r\nfloat iWidth2 = 0;\r\nfloat iHeight2 = 0;\r\n\r\n\r\n\r\n//Double check for the number of devices, mostly for troubleshooting\r\nint numDevices = 0;\r\n\r\n//control which device is being controlled (in case I want device control)\r\nint deviceIndex = 0;\r\n\r\nvoid setup() {\r\n  //set Arbitrary size\r\n  size(640, 360);\r\n\r\n  \r\n  //Set up window to resize, need to figure out how to keep things centered\r\n  surface.setResizable(true);\r\n  \r\n  //not necessary, but good for window management. Window label\r\n  surface.setTitle(&quot;KINECT 1&quot;);\r\n  \r\n  //get number of devices, print to console\r\n  numDevices = Kinect.countDevices();\r\n  println(&quot;number of V1 Kinects = &quot;+numDevices);\r\n  \r\n  //set up depth for the first kinect tracking\r\n  kinect = new Kinect(this);\r\n  kinect.initDepth();\r\n  \r\n  //Blank Image\r\n  depthImage = new PImage(kinect.width, kinect.height);\r\n  \r\n  //set up second window\r\n  String [] args = {&quot;2 Frame Test&quot;};\r\n  SecondApplet sa = new SecondApplet();\r\n  PApplet.runSketch(args, sa);\r\n}\r\n\r\n//Draw first window&#39;s Kinect Threshold\r\nvoid draw () {\r\n  \r\n  if ((width/1.7778) &lt; height) {\r\n    iWidth1 = width;\r\n    iHeight1 = width/1.7778;\r\n  } else {\r\n    iWidth1 = height*1.7778;\r\n    iHeight1 = height;\r\n  }\r\n  \r\n  //Raw Image\r\n  image(kinect.getDepthImage(), 0, 0, iWidth1, iHeight1);\r\n  \r\n  //Threshold Equation\r\n  int[] rawDepth = kinect.getRawDepth();\r\n  for (int i=0; i &lt; rawDepth.length; i++) {\r\n    if (rawDepth[i] &gt;= minDepth &amp;&amp; rawDepth[i] &lt;= maxDepth) {\r\n    depthImage.pixels[i] = color(255);\r\n  } else {\r\n    depthImage.pixels[i] = color(1);\r\n  }\r\n }\r\n \r\n}\r\n\r\npublic class SecondApplet extends PApplet {\r\n  \r\n  public void settings() {\r\n    //arbitrary size\r\n    size(640, 360);\r\n    \r\n    kinect2 = new Kinect(this);\r\n    kinect2.initDepth();\r\n    \r\n    //Blank Image\r\n    depthImage2 = new PImage(kinect2.width, kinect2.height);\r\n  }\r\n  \r\n  void draw () {\r\n   \r\n     if ((width/1.7778) &lt; height) {\r\n    iWidth2 = width;\r\n    iHeight2 = width/1.7778;\r\n  } else {\r\n    iWidth2 = height*1.7778;\r\n    iHeight2 = height;\r\n  }\r\n    \r\n    image(kinect2.getDepthImage(), 0, 0, iWidth2, iHeight2);\r\n    surface.setResizable(true);\r\n    surface.setTitle(&quot;KINECT 2&quot;);\r\n    \r\n    int[] rawDepth2 = kinect2.getRawDepth();\r\n    for (int i=0; i &lt; rawDepth2.length; i++) {\r\n      if (rawDepth2[i] &gt;= minDepth &amp;&amp; rawDepth2[i] &lt;= maxDepth) {\r\n      depthImage2.pixels[i] = color(255);\r\n    } else {\r\n      depthImage2.pixels[i] = color(1);\r\n    }\r\n  }\r\n }\r\n}\r\n```\r\n\r\nCuriously, the code returns a confirmation that there are two kinect devices connected in the console. For some reason, it cannot access both at the same time. \r\n\r\nI&#39;m not a very experienced code, so this code might look amateur. Open to feedback on other parts, but really just looking to solve this problem. \r\n\r\nThis code returns the error pasted above when there are two Kinect V1&#39;s connected to the computer. \r\n\r\nRunning Mac OS11.6.8 on an Intel MacBook Pro\r\n\r\nUsing [Daniel Schiffman&#39;s OpenKinect for Processing](https://github.com/shiffman/OpenKinect-for-Processing) as a starting point for the code. \r\n\r\nI&#39;ve run a successful iteration of this code with a slimmed down version of Daniel Schiffman&#39;s Depth Threshold example. \r\n\r\n```\r\nimport org.openkinect.freenect.*;\r\nimport org.openkinect.processing.*;\r\n\r\nKinect kinect;\r\n\r\n// Depth image\r\nPImage depthImg;\r\n\r\n// Which pixels do we care about?\r\n// These thresholds can also be found with a variaty of methods\r\nfloat minDepth =  996;\r\nfloat maxDepth = 2493;\r\n\r\n// What is the kinect&#39;s angle\r\nfloat angle;\r\n\r\nvoid setup() {\r\n  size(1280, 480);\r\n\r\n  kinect = new Kinect(this);\r\n  kinect.initDepth();\r\n  angle = kinect.getTilt();\r\n\r\n  // Blank image\r\n  depthImg = new PImage(kinect.width, kinect.height);\r\n}\r\n\r\nvoid draw() {\r\n  // Draw the raw image\r\n  image(kinect.getDepthImage(), 0, 0);\r\n\r\n  // Calibration\r\n   //minDepth = map(mouseX,0,width, 0, 4500);\r\n  //maxDepth = map(mouseY,0,height, 0, 4500);\r\n\r\n  // Threshold the depth image\r\n  int[] rawDepth = kinect.getRawDepth();\r\n  for (int i=0; i &lt; rawDepth.length; i++) {\r\n    if (rawDepth[i] &gt;= minDepth &amp;&amp; rawDepth[i] &lt;= maxDepth) {\r\n      depthImg.pixels[i] = color(255);\r\n    } else {\r\n      depthImg.pixels[i] = color(0);\r\n    }\r\n  }\r\n\r\n  // Draw the thresholded image\r\n  depthImg.updatePixels();\r\n  image(depthImg, kinect.width, 0);\r\n  \r\n  //Comment for Calibration\r\n  fill(0);\r\n  text(&quot;TILT: &quot; + angle, 10, 20);\r\n  text(&quot;THRESHOLD: [&quot; + minDepth + &quot;, &quot; + maxDepth + &quot;]&quot;, 10, 36);\r\n  \r\n  //Calibration Text\r\n  //fill(255);\r\n  //textSize(32);\r\n  //text(minDepth + &quot; &quot; + maxDepth, 10, 64);\r\n}\r\n```\r\n\r\nUsing this code, I was able to get both cameras operating using the following process:\r\n1.  Connect a single Kinect v1 to the computer\r\n2.  Open and run the above code\r\n3.  Duplicate the sketch file\r\n4.  Connect the second Kinect V1 to the computer\r\n5.  Open and run the duplicated sketch of the same code\r\n\r\nThis worked for my purposes and remained stable for an extended period of time. However, this isn&#39;t a sustainable solution if anyone other than me wants to utilize this program. \r\n\r\nAny help with this problem would be greatly appreciated\r\n","title":"Kinect for Processing error when using multiple cameras","body":"<p>I'm trying to run two Kinect V1 cameras simultaneously in Processing 3. I have gotten to a solution that is not sustainable, and am I trying to make something more stable/reliable.</p>\n<p>At the moment, whenever I try to run both cameras simultaneously on a single sketch, I am hit with the error</p>\n<blockquote>\n<p>&quot;Could not claim interface on camera: -3\nFailed to open camera subdevice or it is not disabled.Failed to open motor subddevice or it is not disabled.Failed to open audio subdevice or it is not disabled.There are no kinects, returning null&quot;</p>\n</blockquote>\n<p>One camera opens, the other does not. It is not always consistent which camera opens, which leads me to believe there's something tripping over permissions after the objects are created, or when the second object is initialized.</p>\n<p>My code is as such</p>\n<pre><code>import SimpleOpenNI.*;\nimport org.openkinect.freenect.*;\nimport org.openkinect.freenect2.*;\nimport org.openkinect.processing.*;\nimport org.openkinect.tests.*;\n\n//Imported libraries\n//Some might be unnecessary but I don't have time to check\n//Better safe than sorry, maybe I'll delete later\n\nKinect kinect;\nKinect kinect2;\n\nPImage depthImage;\nPImage depthImage2;\n\n//Set depth threshold\nfloat minDepth = 996;\nfloat maxDepth = 2493;\n\nfloat iWidth1 = 0;\nfloat iHeight1 = 0;\nfloat iWidth2 = 0;\nfloat iHeight2 = 0;\n\n\n\n//Double check for the number of devices, mostly for troubleshooting\nint numDevices = 0;\n\n//control which device is being controlled (in case I want device control)\nint deviceIndex = 0;\n\nvoid setup() {\n  //set Arbitrary size\n  size(640, 360);\n\n  \n  //Set up window to resize, need to figure out how to keep things centered\n  surface.setResizable(true);\n  \n  //not necessary, but good for window management. Window label\n  surface.setTitle(&quot;KINECT 1&quot;);\n  \n  //get number of devices, print to console\n  numDevices = Kinect.countDevices();\n  println(&quot;number of V1 Kinects = &quot;+numDevices);\n  \n  //set up depth for the first kinect tracking\n  kinect = new Kinect(this);\n  kinect.initDepth();\n  \n  //Blank Image\n  depthImage = new PImage(kinect.width, kinect.height);\n  \n  //set up second window\n  String [] args = {&quot;2 Frame Test&quot;};\n  SecondApplet sa = new SecondApplet();\n  PApplet.runSketch(args, sa);\n}\n\n//Draw first window's Kinect Threshold\nvoid draw () {\n  \n  if ((width/1.7778) &lt; height) {\n    iWidth1 = width;\n    iHeight1 = width/1.7778;\n  } else {\n    iWidth1 = height*1.7778;\n    iHeight1 = height;\n  }\n  \n  //Raw Image\n  image(kinect.getDepthImage(), 0, 0, iWidth1, iHeight1);\n  \n  //Threshold Equation\n  int[] rawDepth = kinect.getRawDepth();\n  for (int i=0; i &lt; rawDepth.length; i++) {\n    if (rawDepth[i] &gt;= minDepth &amp;&amp; rawDepth[i] &lt;= maxDepth) {\n    depthImage.pixels[i] = color(255);\n  } else {\n    depthImage.pixels[i] = color(1);\n  }\n }\n \n}\n\npublic class SecondApplet extends PApplet {\n  \n  public void settings() {\n    //arbitrary size\n    size(640, 360);\n    \n    kinect2 = new Kinect(this);\n    kinect2.initDepth();\n    \n    //Blank Image\n    depthImage2 = new PImage(kinect2.width, kinect2.height);\n  }\n  \n  void draw () {\n   \n     if ((width/1.7778) &lt; height) {\n    iWidth2 = width;\n    iHeight2 = width/1.7778;\n  } else {\n    iWidth2 = height*1.7778;\n    iHeight2 = height;\n  }\n    \n    image(kinect2.getDepthImage(), 0, 0, iWidth2, iHeight2);\n    surface.setResizable(true);\n    surface.setTitle(&quot;KINECT 2&quot;);\n    \n    int[] rawDepth2 = kinect2.getRawDepth();\n    for (int i=0; i &lt; rawDepth2.length; i++) {\n      if (rawDepth2[i] &gt;= minDepth &amp;&amp; rawDepth2[i] &lt;= maxDepth) {\n      depthImage2.pixels[i] = color(255);\n    } else {\n      depthImage2.pixels[i] = color(1);\n    }\n  }\n }\n}\n</code></pre>\n<p>Curiously, the code returns a confirmation that there are two kinect devices connected in the console. For some reason, it cannot access both at the same time.</p>\n<p>I'm not a very experienced code, so this code might look amateur. Open to feedback on other parts, but really just looking to solve this problem.</p>\n<p>This code returns the error pasted above when there are two Kinect V1's connected to the computer.</p>\n<p>Running Mac OS11.6.8 on an Intel MacBook Pro</p>\n<p>Using <a href=\"https://github.com/shiffman/OpenKinect-for-Processing\" rel=\"nofollow noreferrer\">Daniel Schiffman's OpenKinect for Processing</a> as a starting point for the code.</p>\n<p>I've run a successful iteration of this code with a slimmed down version of Daniel Schiffman's Depth Threshold example.</p>\n<pre><code>import org.openkinect.freenect.*;\nimport org.openkinect.processing.*;\n\nKinect kinect;\n\n// Depth image\nPImage depthImg;\n\n// Which pixels do we care about?\n// These thresholds can also be found with a variaty of methods\nfloat minDepth =  996;\nfloat maxDepth = 2493;\n\n// What is the kinect's angle\nfloat angle;\n\nvoid setup() {\n  size(1280, 480);\n\n  kinect = new Kinect(this);\n  kinect.initDepth();\n  angle = kinect.getTilt();\n\n  // Blank image\n  depthImg = new PImage(kinect.width, kinect.height);\n}\n\nvoid draw() {\n  // Draw the raw image\n  image(kinect.getDepthImage(), 0, 0);\n\n  // Calibration\n   //minDepth = map(mouseX,0,width, 0, 4500);\n  //maxDepth = map(mouseY,0,height, 0, 4500);\n\n  // Threshold the depth image\n  int[] rawDepth = kinect.getRawDepth();\n  for (int i=0; i &lt; rawDepth.length; i++) {\n    if (rawDepth[i] &gt;= minDepth &amp;&amp; rawDepth[i] &lt;= maxDepth) {\n      depthImg.pixels[i] = color(255);\n    } else {\n      depthImg.pixels[i] = color(0);\n    }\n  }\n\n  // Draw the thresholded image\n  depthImg.updatePixels();\n  image(depthImg, kinect.width, 0);\n  \n  //Comment for Calibration\n  fill(0);\n  text(&quot;TILT: &quot; + angle, 10, 20);\n  text(&quot;THRESHOLD: [&quot; + minDepth + &quot;, &quot; + maxDepth + &quot;]&quot;, 10, 36);\n  \n  //Calibration Text\n  //fill(255);\n  //textSize(32);\n  //text(minDepth + &quot; &quot; + maxDepth, 10, 64);\n}\n</code></pre>\n<p>Using this code, I was able to get both cameras operating using the following process:</p>\n<ol>\n<li>Connect a single Kinect v1 to the computer</li>\n<li>Open and run the above code</li>\n<li>Duplicate the sketch file</li>\n<li>Connect the second Kinect V1 to the computer</li>\n<li>Open and run the duplicated sketch of the same code</li>\n</ol>\n<p>This worked for my purposes and remained stable for an extended period of time. However, this isn't a sustainable solution if anyone other than me wants to utilize this program.</p>\n<p>Any help with this problem would be greatly appreciated</p>\n"},{"tags":["java","network-programming","spring-websocket"],"owner":{"account_id":15410136,"reputation":152,"user_id":11271104,"display_name":"MathematicsBeginner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676548533,"creation_date":1676543297,"question_id":75470913,"body_markdown":"I&#39;ve set up an Stomp endpoint in Java using Spring boot like this:    \r\n\r\n    @Configuration\r\n        @EnableWebSocketMessageBroker\r\n        public class ChatConfig implements WebSocketMessageBrokerConfigurer\r\n        {\r\n        \r\n        \t@Override\r\n        \tpublic void registerStompEndpoints(StompEndpointRegistry registry) \r\n        \t{\r\n        \t\tregistry.addEndpoint(&quot;/ws&quot;).setAllowedOriginPatterns(&quot;*&quot;); // connection point\r\n        \t}\r\n        \r\n        \t@Override\r\n        \tpublic void configureMessageBroker(MessageBrokerRegistry registry) \r\n        \t{\r\n        \t\tregistry.setApplicationDestinationPrefixes(&quot;/app&quot;); // sender point\r\n        \t\tregistry.enableSimpleBroker(&quot;/user&quot;); // listener point\r\n        \t}\r\n        }\r\n\r\nI&#39;m trying to connect to this STOMP server(via LAN) using java.net.socket. I&#39;ve read through STOMP specification here [Stomp specification][1]. What I&#39;ve written so far in client side:  \r\n\r\n    public static void main(String[] args) throws UnknownHostException, IOException {\r\n    \t\tSocket socket = new Socket(&quot;my computer Ipv4 address&quot;, 8080);\r\n    \t\t\r\n    \t\tString frame = &quot;CONNECT\\n&quot;\r\n    \t\t\t\t+ &quot;accept-version:1.2\\n\\n&quot;\r\n    \t\t\t\t+ &quot;host:localhost\\0&quot;;\r\n    \t\tOutputStream os = socket.getOutputStream();\r\n    \t\tos.write(frame.getBytes(StandardCharsets.UTF_8));\r\n    \t\t\r\n    \t\tInputStream is = socket.getInputStream();\r\n    \t\t\r\n    \t\tString answer = new String(is.readAllBytes());\r\n    \t\t\r\n    \t\tSystem.out.print(answer);\r\n    \t}\r\n\r\nIt returns this html code:   \r\n\r\n    HTTP/1.1 400 \r\n    Content-Type: text/html;charset=utf-8\r\n    Content-Language: en\r\n    Content-Length: 435\r\n    Date: Thu, 16 Feb 2023 10:15:41 GMT\r\n    Connection: close\r\n    \r\n        &lt;!doctype html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;head&gt;&lt;title&gt;HTTP Status 400 – Bad Request&lt;/title&gt;&lt;style type=&quot;text/css&quot;&gt;body {font-family:Tahoma,Arial,sans-serif;} h1, h2, h3, b {color:white;background-color:#525D76;} h1 {font-size:22px;} h2 {font-size:16px;} h3 {font-size:14px;} p {font-size:12px;} a {color:black;} .line {height:1px;background-color:#525D76;border:none;}&lt;/style&gt;&lt;/head&gt;&lt;body&gt;&lt;h1&gt;HTTP Status 400 – Bad Request&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;\r\n\r\n\r\nServer returns this:  \r\n\r\n    Invalid character found in method name [CONNECT0x0aaccept-version:1.20x0a0x0ahost:192.168.1.1760x00...]. HTTP method names must be token\r\n\r\nI&#39;m quite a noob in network programming. There&#39;s a library for this, but I want to learn more about STOMP. So, I hope you guys can help me out with this.\r\n\r\n  [1]: https://stomp.github.io/stomp-specification-1.2.html#CONNECT_or_STOMP_Frame","title":"STOMP connection using java and java.net.socket?","body":"<p>I've set up an Stomp endpoint in Java using Spring boot like this:</p>\n<pre><code>@Configuration\n    @EnableWebSocketMessageBroker\n    public class ChatConfig implements WebSocketMessageBrokerConfigurer\n    {\n    \n        @Override\n        public void registerStompEndpoints(StompEndpointRegistry registry) \n        {\n            registry.addEndpoint(&quot;/ws&quot;).setAllowedOriginPatterns(&quot;*&quot;); // connection point\n        }\n    \n        @Override\n        public void configureMessageBroker(MessageBrokerRegistry registry) \n        {\n            registry.setApplicationDestinationPrefixes(&quot;/app&quot;); // sender point\n            registry.enableSimpleBroker(&quot;/user&quot;); // listener point\n        }\n    }\n</code></pre>\n<p>I'm trying to connect to this STOMP server(via LAN) using java.net.socket. I've read through STOMP specification here <a href=\"https://stomp.github.io/stomp-specification-1.2.html#CONNECT_or_STOMP_Frame\" rel=\"nofollow noreferrer\">Stomp specification</a>. What I've written so far in client side:</p>\n<pre><code>public static void main(String[] args) throws UnknownHostException, IOException {\n        Socket socket = new Socket(&quot;my computer Ipv4 address&quot;, 8080);\n        \n        String frame = &quot;CONNECT\\n&quot;\n                + &quot;accept-version:1.2\\n\\n&quot;\n                + &quot;host:localhost\\0&quot;;\n        OutputStream os = socket.getOutputStream();\n        os.write(frame.getBytes(StandardCharsets.UTF_8));\n        \n        InputStream is = socket.getInputStream();\n        \n        String answer = new String(is.readAllBytes());\n        \n        System.out.print(answer);\n    }\n</code></pre>\n<p>It returns this html code:</p>\n<pre><code>HTTP/1.1 400 \nContent-Type: text/html;charset=utf-8\nContent-Language: en\nContent-Length: 435\nDate: Thu, 16 Feb 2023 10:15:41 GMT\nConnection: close\n\n    &lt;!doctype html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;head&gt;&lt;title&gt;HTTP Status 400 – Bad Request&lt;/title&gt;&lt;style type=&quot;text/css&quot;&gt;body {font-family:Tahoma,Arial,sans-serif;} h1, h2, h3, b {color:white;background-color:#525D76;} h1 {font-size:22px;} h2 {font-size:16px;} h3 {font-size:14px;} p {font-size:12px;} a {color:black;} .line {height:1px;background-color:#525D76;border:none;}&lt;/style&gt;&lt;/head&gt;&lt;body&gt;&lt;h1&gt;HTTP Status 400 – Bad Request&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n<p>Server returns this:</p>\n<pre><code>Invalid character found in method name [CONNECT0x0aaccept-version:1.20x0a0x0ahost:192.168.1.1760x00...]. HTTP method names must be token\n</code></pre>\n<p>I'm quite a noob in network programming. There's a library for this, but I want to learn more about STOMP. So, I hope you guys can help me out with this.</p>\n"},{"tags":["java","retrofit","rx-java"],"comments":[{"owner":{"account_id":7385830,"reputation":1898,"user_id":5620882,"accept_rate":0,"display_name":"PN10"},"score":0,"creation_date":1466506929,"post_id":37942474,"comment_id":63333882,"body_markdown":"Try Query instead of Body as Bodies on DELETE requests have no defined semantics. Note that\nsending a body on a DELETE request might cause some existing\nimplementations to reject the request.","body":"Try Query instead of Body as Bodies on DELETE requests have no defined semantics. Note that sending a body on a DELETE request might cause some existing implementations to reject the request."},{"owner":{"account_id":7385830,"reputation":1898,"user_id":5620882,"accept_rate":0,"display_name":"PN10"},"score":0,"creation_date":1466507311,"post_id":37942474,"comment_id":63334122,"body_markdown":"Check this link it might help u https://github.com/square/retrofit/issues/458","body":"Check this link it might help u <a href=\"https://github.com/square/retrofit/issues/458\" rel=\"nofollow noreferrer\">github.com/square/retrofit/issues/458</a>"}],"answers":[{"tags":[],"owner":{"account_id":5110089,"reputation":15604,"user_id":4096987,"accept_rate":100,"display_name":"AndroidEx"},"down_vote_count":0,"up_vote_count":252,"is_accepted":true,"score":252,"last_activity_date":1466513224,"creation_date":1466513224,"answer_id":37944875,"question_id":37942474,"body_markdown":"I&#39;ve used this official workaround recently:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true --&gt;\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @HTTP(method = &quot;DELETE&quot;, path = &quot;/job/deletejob&quot;, hasBody = true)\r\n    Observable&lt;JobDeleteResponseModel&gt; jobDelete(@Body JobDeleteRequestModel model);\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"@DELETE method is not supporting(Non-body HTTP method cannot contain @Body or @TypedOutput.)","body":"<p>I've used this official workaround recently:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@HTTP(method = \"DELETE\", path = \"/job/deletejob\", hasBody = true)\nObservable&lt;JobDeleteResponseModel&gt; jobDelete(@Body JobDeleteRequestModel model);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6118322,"reputation":645,"user_id":5637999,"display_name":"Shiv Kumar"},"down_vote_count":3,"up_vote_count":15,"is_accepted":false,"score":12,"last_activity_date":1486199767,"creation_date":1486199767,"answer_id":42038577,"question_id":37942474,"body_markdown":"# try this it&#39;s work\n\n    @HTTP(method = &quot;DELETE&quot;, path = &quot;api/v3/delete&quot;, hasBody = true)\n    Call&lt;ResponseBody&gt; RESPONSE_BODY_CALL(@Header(&quot;Authorization&quot;) String authorization, @Body HashMap&lt;String, List&gt; stringListHashMap);\n\nor check\nhttps://github.com/square/retrofit/issues/974","title":"@DELETE method is not supporting(Non-body HTTP method cannot contain @Body or @TypedOutput.)","body":"<h1>try this it's work</h1>\n<pre><code>@HTTP(method = &quot;DELETE&quot;, path = &quot;api/v3/delete&quot;, hasBody = true)\nCall&lt;ResponseBody&gt; RESPONSE_BODY_CALL(@Header(&quot;Authorization&quot;) String authorization, @Body HashMap&lt;String, List&gt; stringListHashMap);\n</code></pre>\n<p>or check\n<a href=\"https://github.com/square/retrofit/issues/974\" rel=\"noreferrer\">https://github.com/square/retrofit/issues/974</a></p>\n"},{"tags":[],"owner":{"account_id":14031229,"reputation":1327,"user_id":10135062,"display_name":"Aditya Patil"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1634784638,"creation_date":1579442687,"answer_id":59810791,"question_id":37942474,"body_markdown":"You need to specify parameters &lt;br&gt; method, path, hasBody&lt;br&gt;&lt;br&gt;\r\n**Kotlin way**\r\n\r\n    @HTTP(method = &quot;DELETE&quot;, path = &quot;event/eventRemovePicture&quot;, hasBody = true)\r\n    fun callDeleteImage(\r\n        @Body body: RequestBody\r\n    ): Call&lt;RemoveEventPictureResponse&gt;","title":"@DELETE method is not supporting(Non-body HTTP method cannot contain @Body or @TypedOutput.)","body":"<p>You need to specify parameters <br> method, path, hasBody<br><br>\n<strong>Kotlin way</strong></p>\n<pre><code>@HTTP(method = &quot;DELETE&quot;, path = &quot;event/eventRemovePicture&quot;, hasBody = true)\nfun callDeleteImage(\n    @Body body: RequestBody\n): Call&lt;RemoveEventPictureResponse&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7510682,"reputation":1003,"user_id":5705721,"display_name":"Makarand"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1587131897,"creation_date":1587131897,"answer_id":61273419,"question_id":37942474,"body_markdown":"I had similar error.\r\n\r\nIn my case I was using `@GET` in Interface but then I corrected it to `@POST` method and it worked.","title":"@DELETE method is not supporting(Non-body HTTP method cannot contain @Body or @TypedOutput.)","body":"<p>I had similar error.</p>\n\n<p>In my case I was using <code>@GET</code> in Interface but then I corrected it to <code>@POST</code> method and it worked.</p>\n"},{"tags":[],"owner":{"account_id":4859711,"reputation":1497,"user_id":8956093,"display_name":"Ramakrishna Joshi"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1594832641,"creation_date":1594832641,"answer_id":62920127,"question_id":37942474,"body_markdown":"Kotlin Code : \r\n\r\n`path` is not required if your first argument to interface method is a url annotated with @Url\r\nExample : \r\n\r\n    @HTTP(method = &quot;DELETE&quot;, hasBody = true)\r\n    fun deleteStudentFromDatabase(\r\n        @Url url: String,\r\n        @Body payload: StudentModel\r\n     ): Observable&lt;Any&gt;\r\n\r\n\r\nIf first argument to interface method is not a url then use this\r\n\r\n        @HTTP(method = &quot;DELETE&quot;, path = &quot;{urlPath}&quot;, hasBody = true)\r\n        fun deleteStudentFromDatabase(\r\n            @Body payload: StudentModel,\r\n            @Path(&quot;urlPath&quot;) url: String\r\n         ): Observable&lt;Any&gt;\r\n","title":"@DELETE method is not supporting(Non-body HTTP method cannot contain @Body or @TypedOutput.)","body":"<p>Kotlin Code :</p>\n<p><code>path</code> is not required if your first argument to interface method is a url annotated with @Url\nExample :</p>\n<pre><code>@HTTP(method = &quot;DELETE&quot;, hasBody = true)\nfun deleteStudentFromDatabase(\n    @Url url: String,\n    @Body payload: StudentModel\n ): Observable&lt;Any&gt;\n</code></pre>\n<p>If first argument to interface method is not a url then use this</p>\n<pre><code>    @HTTP(method = &quot;DELETE&quot;, path = &quot;{urlPath}&quot;, hasBody = true)\n    fun deleteStudentFromDatabase(\n        @Body payload: StudentModel,\n        @Path(&quot;urlPath&quot;) url: String\n     ): Observable&lt;Any&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19900578,"reputation":81,"user_id":14580648,"display_name":"Junior Carrillo"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1610150765,"creation_date":1610150765,"answer_id":65637990,"question_id":37942474,"body_markdown":"Change\r\n\r\n    @DELETE(&quot;/job/deletejob&quot;)\r\n    Observable&lt;JobDeleteResponseModel&gt; jobDelete( @Body JobDeleteRequestModel model);\r\n\r\nto\r\n\r\n    @HTTP(method = &quot;DELETE&quot;, path = &quot;/job/deletejob&quot;, hasBody = true)\r\n    Observable&lt;JobDeleteResponseModel&gt; jobDelete( @Body JobDeleteRequestModel model);\r\n\r\nThe difference is in\r\n\r\n    @DELETE(&quot;/job/deletejob&quot;) // For DELETE without body\r\n    @HTTP(method = &quot;DELETE&quot;, path = &quot;/job/deletejob&quot;, hasBody = true) // For DELETE with body\r\n\r\n","title":"@DELETE method is not supporting(Non-body HTTP method cannot contain @Body or @TypedOutput.)","body":"<p>Change</p>\n<pre><code>@DELETE(&quot;/job/deletejob&quot;)\nObservable&lt;JobDeleteResponseModel&gt; jobDelete( @Body JobDeleteRequestModel model);\n</code></pre>\n<p>to</p>\n<pre><code>@HTTP(method = &quot;DELETE&quot;, path = &quot;/job/deletejob&quot;, hasBody = true)\nObservable&lt;JobDeleteResponseModel&gt; jobDelete( @Body JobDeleteRequestModel model);\n</code></pre>\n<p>The difference is in</p>\n<pre><code>@DELETE(&quot;/job/deletejob&quot;) // For DELETE without body\n@HTTP(method = &quot;DELETE&quot;, path = &quot;/job/deletejob&quot;, hasBody = true) // For DELETE with body\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19853302,"reputation":11,"user_id":14543359,"display_name":"Yogesh Bansal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642014542,"creation_date":1641987709,"answer_id":70680969,"question_id":37942474,"body_markdown":"    @HTTP(method = &quot;DELETE&quot;, path = &quot;{urlPath}&quot;, hasBody = true)\r\n\r\nAlso this is working fine. It happens because the request contains a body but we have not defined that yet.","title":"@DELETE method is not supporting(Non-body HTTP method cannot contain @Body or @TypedOutput.)","body":"<pre><code>@HTTP(method = &quot;DELETE&quot;, path = &quot;{urlPath}&quot;, hasBody = true)\n</code></pre>\n<p>Also this is working fine. It happens because the request contains a body but we have not defined that yet.</p>\n"},{"tags":[],"owner":{"account_id":14649584,"reputation":3561,"user_id":10579969,"display_name":"Navin Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656445118,"creation_date":1656445118,"answer_id":72792259,"question_id":37942474,"body_markdown":"Retrofit 2, i have change the below code from this \r\n\r\n    @DELETE(&quot;example/user/{id}/list&quot;)\r\n    suspend fun deleteUserList(@Path(value = &quot;id&quot;, encoded = false)key: Int, @Body request: DeleteUserListRequest): Response&lt;BaseResponse&gt;\r\n\r\nto\r\n\r\n    @HTTP(method = &quot;DELETE&quot;, path = &quot;example/user/{id}/list&quot;,hasBody = true)\r\n    suspend fun deleteUserList(@Path(value = &quot;id&quot;, encoded = false)key: Int, @Body request: DeleteUserListRequest): Response&lt;BaseResponse&gt;\r\n\r\nAbove code is working for me\r\n","title":"@DELETE method is not supporting(Non-body HTTP method cannot contain @Body or @TypedOutput.)","body":"<p>Retrofit 2, i have change the below code from this</p>\n<pre><code>@DELETE(&quot;example/user/{id}/list&quot;)\nsuspend fun deleteUserList(@Path(value = &quot;id&quot;, encoded = false)key: Int, @Body request: DeleteUserListRequest): Response&lt;BaseResponse&gt;\n</code></pre>\n<p>to</p>\n<pre><code>@HTTP(method = &quot;DELETE&quot;, path = &quot;example/user/{id}/list&quot;,hasBody = true)\nsuspend fun deleteUserList(@Path(value = &quot;id&quot;, encoded = false)key: Int, @Body request: DeleteUserListRequest): Response&lt;BaseResponse&gt;\n</code></pre>\n<p>Above code is working for me</p>\n"},{"tags":[],"owner":{"account_id":19485262,"reputation":31,"user_id":14254742,"display_name":"Nikolay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676548038,"creation_date":1676548038,"answer_id":75471812,"question_id":37942474,"body_markdown":"**Kotlin with suspend function.** \r\nBy default DELETE method do not supports body. You should explicitly enable it.\r\n\r\n    @HTTP(\r\n        method = &quot;DELETE&quot;,\r\n        path = &quot;path/to/api/{someRoute}/{id}&quot;, \r\n        hasBody = true\r\n    )\r\n    suspend fun delete(\r\n        @Path(&quot;someRoute&quot;) someRoute: String,\r\n        @Path(&quot;id&quot;) id: String,\r\n        @Body body: SomeBodyModel,\r\n    ): Response&lt;Unit&gt;\r\n\r\n**Use it something like this**\r\n \r\n    suspend fun delete(model: SomeBodyModel) {\r\n        val response = api.delete(model)\r\n        if (!response.isSuccessful) throw HttpException(response)\r\n    }","title":"@DELETE method is not supporting(Non-body HTTP method cannot contain @Body or @TypedOutput.)","body":"<p><strong>Kotlin with suspend function.</strong>\nBy default DELETE method do not supports body. You should explicitly enable it.</p>\n<pre><code>@HTTP(\n    method = &quot;DELETE&quot;,\n    path = &quot;path/to/api/{someRoute}/{id}&quot;, \n    hasBody = true\n)\nsuspend fun delete(\n    @Path(&quot;someRoute&quot;) someRoute: String,\n    @Path(&quot;id&quot;) id: String,\n    @Body body: SomeBodyModel,\n): Response&lt;Unit&gt;\n</code></pre>\n<p><strong>Use it something like this</strong></p>\n<pre><code>suspend fun delete(model: SomeBodyModel) {\n    val response = api.delete(model)\n    if (!response.isSuccessful) throw HttpException(response)\n}\n</code></pre>\n"}],"owner":{"account_id":8676359,"reputation":953,"user_id":6493683,"display_name":"sandy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47849,"favorite_count":0,"down_vote_count":0,"up_vote_count":95,"accepted_answer_id":37944875,"answer_count":9,"score":95,"last_activity_date":1676548038,"creation_date":1466506410,"question_id":37942474,"body_markdown":"    @DELETE(&quot;/job/deletejob&quot;)\r\n     Observable&lt;JobDeleteResponseModel&gt; jobDelete( @Body JobDeleteRequestModel model);\r\n\r\nam getting this error:\r\n\r\n&gt; Non-body HTTP method cannot contain @Body or @TypedOutput","title":"@DELETE method is not supporting(Non-body HTTP method cannot contain @Body or @TypedOutput.)","body":"<pre><code>@DELETE(&quot;/job/deletejob&quot;)\n Observable&lt;JobDeleteResponseModel&gt; jobDelete( @Body JobDeleteRequestModel model);\n</code></pre>\n<p>am getting this error:</p>\n<blockquote>\n<p>Non-body HTTP method cannot contain @Body or @TypedOutput</p>\n</blockquote>\n"},{"tags":["java","exception","final"],"answers":[{"tags":[],"owner":{"account_id":114991,"reputation":69738,"user_id":302139,"accept_rate":75,"display_name":"Edwin Buck"},"down_vote_count":1,"up_vote_count":49,"is_accepted":true,"score":48,"last_activity_date":1282170058,"creation_date":1282166805,"answer_id":3516852,"question_id":3516816,"body_markdown":"It basically means:\r\n\r\nCatch &quot;SomeExceptionType&quot; into the variable &quot;e&quot; with the promise that we won&#39;t assign a different exception to &quot;e&quot; during the processing of the exception.\r\n\r\nMostly this is overkill, as if I&#39;m catching an exception into a temporary variable name (e only is valid for the exception handling block), I don&#39;t have to police myself so strictly as to not trust myself to assign a different (possibly created) exception to the same variable name.\r\n\r\nThat said, perhaps this block is heavily maintained by a team of different-minded individuals, and one just wanted to be VERY sure that e was the original captured exception.\r\n\r\n---- Edited in response to commentary ----\r\n\r\nI can&#39;t think of a really excellent reason to do this.  Since &quot;e&quot; is not a member (static or otherwise) the name &quot;e&quot; won&#39;t be used by the class file post-compilation.  Another way of stating this is that when you enter the exception handling block of JVM bytecode, the object won&#39;t be assigned to any of the member names accessible by the JVM processing frame, it will be pushed to the internal processing stack of the Thread&#39;s current frame.\r\n\r\nEven if two threads had access to the same Object, each thread would have it&#39;s own frame, so the compiler removed &quot;e&quot; name from one frame&#39;s internal stack couldn&#39;t be altered by the other thread.\r\n\r\nWith that in mind, the only benefit of declaring &quot;e&quot; final is to make sure that future coders don&#39;t accidentally set &quot;e&quot; after entering the block.  Perhaps they meant to make the code more robust in a multi-threaded environment, but temporary variables (those with names that only are valid in the block) don&#39;t have names post-compilation, they are pushed onto the frame&#39;s stack.\r\n\r\nThat&#39;s why\r\n\r\n    public int safe() {\r\n      int x = 5;\r\n      x = x + 5;\r\n      return x;\r\n    }\r\n\r\nis generally regarded as thread safe, because it does this (in pseudo bytecode)\r\n    \r\n    (In the thread&#39;s current frame)\r\n    push 5\r\n    push 5\r\n    add integers\r\n    return\r\n\r\nWhile this isn&#39;t thread safe\r\n\r\n    int x = 5;\r\n   \r\n    public void unsafe() {\r\n      x = 5;\r\n      x = x + 5;\r\n      return x;\r\n    }\r\n\r\nbecause it does this\r\n\r\n    (in the thread&#39;s current frame)\r\n    push &quot;this&quot;\r\n    push 5\r\n    set member x\r\n    push &quot;this&quot;\r\n    get member x\r\n    push 5\r\n    add integer\r\n    set member x\r\n    get member x\r\n    return\r\n\r\nThe latter bytecode makes it apparent that interleaving two threads creates thread-to-thread communications using member x an an intermediary, while the first block of code cannot have any inter-thread communication because there&#39;s no intermediary.\r\n","title":"Java: Meaning of catch (final SomeException e)?","body":"<p>It basically means:</p>\n\n<p>Catch \"SomeExceptionType\" into the variable \"e\" with the promise that we won't assign a different exception to \"e\" during the processing of the exception.</p>\n\n<p>Mostly this is overkill, as if I'm catching an exception into a temporary variable name (e only is valid for the exception handling block), I don't have to police myself so strictly as to not trust myself to assign a different (possibly created) exception to the same variable name.</p>\n\n<p>That said, perhaps this block is heavily maintained by a team of different-minded individuals, and one just wanted to be VERY sure that e was the original captured exception.</p>\n\n<p>---- Edited in response to commentary ----</p>\n\n<p>I can't think of a really excellent reason to do this.  Since \"e\" is not a member (static or otherwise) the name \"e\" won't be used by the class file post-compilation.  Another way of stating this is that when you enter the exception handling block of JVM bytecode, the object won't be assigned to any of the member names accessible by the JVM processing frame, it will be pushed to the internal processing stack of the Thread's current frame.</p>\n\n<p>Even if two threads had access to the same Object, each thread would have it's own frame, so the compiler removed \"e\" name from one frame's internal stack couldn't be altered by the other thread.</p>\n\n<p>With that in mind, the only benefit of declaring \"e\" final is to make sure that future coders don't accidentally set \"e\" after entering the block.  Perhaps they meant to make the code more robust in a multi-threaded environment, but temporary variables (those with names that only are valid in the block) don't have names post-compilation, they are pushed onto the frame's stack.</p>\n\n<p>That's why</p>\n\n<pre><code>public int safe() {\n  int x = 5;\n  x = x + 5;\n  return x;\n}\n</code></pre>\n\n<p>is generally regarded as thread safe, because it does this (in pseudo bytecode)</p>\n\n<pre><code>(In the thread's current frame)\npush 5\npush 5\nadd integers\nreturn\n</code></pre>\n\n<p>While this isn't thread safe</p>\n\n<pre><code>int x = 5;\n\npublic void unsafe() {\n  x = 5;\n  x = x + 5;\n  return x;\n}\n</code></pre>\n\n<p>because it does this</p>\n\n<pre><code>(in the thread's current frame)\npush \"this\"\npush 5\nset member x\npush \"this\"\nget member x\npush 5\nadd integer\nset member x\nget member x\nreturn\n</code></pre>\n\n<p>The latter bytecode makes it apparent that interleaving two threads creates thread-to-thread communications using member x an an intermediary, while the first block of code cannot have any inter-thread communication because there's no intermediary.</p>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1676547693,"creation_date":1282167450,"answer_id":3516921,"question_id":3516816,"body_markdown":"Currently it means `final` much the same as any local variable, other than it is always &quot;definitely assigned&quot;.\r\n\r\nIn recent JDK7 builds, [a Project Coin language change][1] allows it to indicate a degree of implicit static typing is going on. A single `catch` can catch a number of different checked exceptions by a common base type, and rethrow with the enclosing context only having catch or declare those exceptions that could (statically speaking) be thrown within the `try`. (See the link for a better explanation.)\r\n\r\n\r\n  [1]: https://web.archive.org/web/20160304134732/https://blogs.oracle.com/darcy/entry/project_coin_multi_catch_rethrow","title":"Java: Meaning of catch (final SomeException e)?","body":"<p>Currently it means <code>final</code> much the same as any local variable, other than it is always &quot;definitely assigned&quot;.</p>\n<p>In recent JDK7 builds, <a href=\"https://web.archive.org/web/20160304134732/https://blogs.oracle.com/darcy/entry/project_coin_multi_catch_rethrow\" rel=\"nofollow noreferrer\">a Project Coin language change</a> allows it to indicate a degree of implicit static typing is going on. A single <code>catch</code> can catch a number of different checked exceptions by a common base type, and rethrow with the enclosing context only having catch or declare those exceptions that could (statically speaking) be thrown within the <code>try</code>. (See the link for a better explanation.)</p>\n"},{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1282172510,"creation_date":1282172510,"answer_id":3517429,"question_id":3516816,"body_markdown":"The `final` keyword on variables means that the variable can only be assigned once, and as the assignment here is being done by the compiler it means that the variable cannot be changed later in the code.\r\n\r\nThis is an important property as it means to the maintainer that this particular variable will have this particular value everywhere it is used and it is not necessary to keep track of where it changes.  This is recognized to be so useful that the &quot;Clean up&quot; action in Eclipse allows for adding &quot;final&quot; whereever it possibly can, and I believe that what you see is the _result_ of such an automatic clean up, because most human programmers would keep the catch-block short so such an indication is not needed.\r\n\r\n","title":"Java: Meaning of catch (final SomeException e)?","body":"<p>The <code>final</code> keyword on variables means that the variable can only be assigned once, and as the assignment here is being done by the compiler it means that the variable cannot be changed later in the code.</p>\n\n<p>This is an important property as it means to the maintainer that this particular variable will have this particular value everywhere it is used and it is not necessary to keep track of where it changes.  This is recognized to be so useful that the \"Clean up\" action in Eclipse allows for adding \"final\" whereever it possibly can, and I believe that what you see is the <em>result</em> of such an automatic clean up, because most human programmers would keep the catch-block short so such an indication is not needed.</p>\n"},{"tags":[],"owner":{"account_id":4688412,"reputation":8118,"user_id":3795219,"accept_rate":70,"display_name":"Austin"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1551667173,"creation_date":1457610149,"answer_id":35915520,"question_id":3516816,"body_markdown":"The question, &quot;What does `final` do?&quot; is addressed in other answers to this question, and [here][1], [here][2], and [here][3]. But in the context of a *try-catch* block, the [Java Language Specification (JLS) &#167;4.12.4 states][4] (emphasis my own):\r\n\r\n &gt; - A resource of a **try-with-resources statement** (&#167;14.20.3) and an exception parameter of a **multi-catch clause** (&#167;14.20) are *implicitly declared final*.\r\n- An exception parameter of a **uni-catch clause** (&#167;14.20) may be effectively final instead of being explicitly declared final. Such a parameter is *never implicitly declared final*.\r\n\r\n\r\n**In a multi-catch clause**:\r\n\r\nAdding the `final` keyword to a *multi-catch clause* simply makes explicit the fact that the `variable` is implicitly final. In general, whenever the `final` keyword conveys additional information that helps make your code more readable/maintainable, use it. \r\n\r\n**In a uni-catch clause**\r\n\r\nOn the other hand, the exception parameter in a *uni-catch clause* is **never** implicitly final. So, using the `final` keyword to a *uni-catch clause* prevents something like the following from happening:\r\n\r\n    try {\r\n         throw new Exception();\r\n    catch (Exception e){\r\n        e = null;\r\n        e.printStackTrace(); //throws a NullPointerException\r\n    }\r\n\r\nThe issue is obvious in this simple example. But two cases may be less obvious and warrant the use of `final`: \r\n\r\n 1. If the catch block is more complicated, accidental reassignment is possible. (Although, if the catch block is complicated, you&#39;re probably doing it wrong.)\r\n 2. To prevent issues caused during code maintenance. Adding `final` to the exception variable will ensure reassignment is caught at compilation, *rather than Runtime*\r\n\r\nAs a general rule of thumb, use the `final` keyword in a *uni-catch clause* [in the same way you would use the `final` keyword for a method parameter][5]:\r\n\r\n &gt; [JLS&#167;4.12.4][6] : Declaring a variable final can serve as useful documentation that its value will not change and can help avoid programming errors.\r\n\r\n\r\n  [1]: https://softwareengineering.stackexchange.com/a/48414\r\n  [2]: https://stackoverflow.com/q/500508/3795219\r\n  [3]: https://stackoverflow.com/q/5380177/3795219\r\n  [4]: https://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.12.4\r\n  [5]: https://stackoverflow.com/a/5380309/3795219\r\n  [6]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.12.4","title":"Java: Meaning of catch (final SomeException e)?","body":"<p>The question, \"What does <code>final</code> do?\" is addressed in other answers to this question, and <a href=\"https://softwareengineering.stackexchange.com/a/48414\">here</a>, <a href=\"https://stackoverflow.com/q/500508/3795219\">here</a>, and <a href=\"https://stackoverflow.com/q/5380177/3795219\">here</a>. But in the context of a <em>try-catch</em> block, the <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.12.4\" rel=\"nofollow noreferrer\">Java Language Specification (JLS) §4.12.4 states</a> (emphasis my own):</p>\n\n<blockquote>\n  <ul>\n  <li>A resource of a <strong>try-with-resources statement</strong> (§14.20.3) and an exception parameter of a <strong>multi-catch clause</strong> (§14.20) are <em>implicitly declared final</em>.</li>\n  <li>An exception parameter of a <strong>uni-catch clause</strong> (§14.20) may be effectively final instead of being explicitly declared final. Such a parameter is <em>never implicitly declared final</em>.</li>\n  </ul>\n</blockquote>\n\n<p><strong>In a multi-catch clause</strong>:</p>\n\n<p>Adding the <code>final</code> keyword to a <em>multi-catch clause</em> simply makes explicit the fact that the <code>variable</code> is implicitly final. In general, whenever the <code>final</code> keyword conveys additional information that helps make your code more readable/maintainable, use it. </p>\n\n<p><strong>In a uni-catch clause</strong></p>\n\n<p>On the other hand, the exception parameter in a <em>uni-catch clause</em> is <strong>never</strong> implicitly final. So, using the <code>final</code> keyword to a <em>uni-catch clause</em> prevents something like the following from happening:</p>\n\n<pre><code>try {\n     throw new Exception();\ncatch (Exception e){\n    e = null;\n    e.printStackTrace(); //throws a NullPointerException\n}\n</code></pre>\n\n<p>The issue is obvious in this simple example. But two cases may be less obvious and warrant the use of <code>final</code>: </p>\n\n<ol>\n<li>If the catch block is more complicated, accidental reassignment is possible. (Although, if the catch block is complicated, you're probably doing it wrong.)</li>\n<li>To prevent issues caused during code maintenance. Adding <code>final</code> to the exception variable will ensure reassignment is caught at compilation, <em>rather than Runtime</em></li>\n</ol>\n\n<p>As a general rule of thumb, use the <code>final</code> keyword in a <em>uni-catch clause</em> <a href=\"https://stackoverflow.com/a/5380309/3795219\">in the same way you would use the <code>final</code> keyword for a method parameter</a>:</p>\n\n<blockquote>\n  <p><a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.12.4\" rel=\"nofollow noreferrer\">JLS§4.12.4</a> : Declaring a variable final can serve as useful documentation that its value will not change and can help avoid programming errors.</p>\n</blockquote>\n"}],"owner":{"account_id":20344,"reputation":46577,"user_id":2288585,"accept_rate":60,"display_name":"Debajit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22208,"favorite_count":0,"down_vote_count":1,"up_vote_count":51,"accepted_answer_id":3516852,"answer_count":4,"score":50,"last_activity_date":1676547693,"creation_date":1282166527,"question_id":3516816,"body_markdown":"What does `final` do in the following Java expression?\r\n\r\n    catch (final SomeExceptionType e)","title":"Java: Meaning of catch (final SomeException e)?","body":"<p>What does <code>final</code> do in the following Java expression?</p>\n\n<pre><code>catch (final SomeExceptionType e)\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb","dynamodb-queries","amazon-dynamodb-index"],"comments":[{"owner":{"account_id":10749774,"reputation":14475,"user_id":7909676,"display_name":"Leeroy Hannigan"},"score":1,"creation_date":1676547147,"post_id":75471575,"comment_id":133160729,"body_markdown":"That&#39;s not true, this may only be an ad-hoc query that runs intermittently and the primary use-case is high throughput, low-latency.","body":"That&#39;s not true, this may only be an ad-hoc query that runs intermittently and the primary use-case is high throughput, low-latency."},{"owner":{"account_id":10749774,"reputation":14475,"user_id":7909676,"display_name":"Leeroy Hannigan"},"score":0,"creation_date":1676552353,"post_id":75471575,"comment_id":133162269,"body_markdown":"Above comment was answering a comment which was removed.","body":"Above comment was answering a comment which was removed."}],"answers":[{"tags":[],"owner":{"account_id":10749774,"reputation":14475,"user_id":7909676,"display_name":"Leeroy Hannigan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676547487,"creation_date":1676547487,"answer_id":75471720,"question_id":75471575,"body_markdown":"To achieve this you will need to use DynamoDB Streams and a Lambda window function. \r\n\r\nEssentially you stream all of the item modifications to Lambda, which listens to `INSERT` and `REMOVE` events. Set Lambda window to 1min for example, inside the Lambda the code will sum the individual counts and write back to a single item in DynamoDB. So now instead of running a paginated Query you simply have to do a `GetItem`. Of course its eventually consistent, depending on the time window for Lambda. \r\n\r\n[This](https://amazon-dynamodb-labs.com/event-driven-architecture/ex1overview.html) explains a very similar concept. \r\n\r\n\r\nThis image also depicts something similar where counts for a voting candidate are summed and written back to an item storing the total. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/60J8a.png","title":"How to get group by and count of millions of records in fastest way in dynamodb","body":"<p>To achieve this you will need to use DynamoDB Streams and a Lambda window function.</p>\n<p>Essentially you stream all of the item modifications to Lambda, which listens to <code>INSERT</code> and <code>REMOVE</code> events. Set Lambda window to 1min for example, inside the Lambda the code will sum the individual counts and write back to a single item in DynamoDB. So now instead of running a paginated Query you simply have to do a <code>GetItem</code>. Of course its eventually consistent, depending on the time window for Lambda.</p>\n<p><a href=\"https://amazon-dynamodb-labs.com/event-driven-architecture/ex1overview.html\" rel=\"nofollow noreferrer\">This</a> explains a very similar concept.</p>\n<p>This image also depicts something similar where counts for a voting candidate are summed and written back to an item storing the total.</p>\n<p><a href=\"https://i.stack.imgur.com/60J8a.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/60J8a.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":1410257,"reputation":2118,"user_id":1337007,"accept_rate":72,"display_name":"ghostrider"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676547487,"creation_date":1676546686,"question_id":75471575,"body_markdown":"So I have below rows in **DynamoDB** with example data. I want to find out the `count` in below format. Currently I am doing `query` and `pagination` to achieve this but its terribly slow due to huge number of rows in millions. Is there any other faster way to do it since I need to find only the count and not individual items. \r\n\r\n\r\n**Example Data**\r\n\r\n    BrandName BrandCode Eventid\r\n    ABC       123       30100\r\n    ABC       123       30111\r\n    XYZ       456       30100\r\n    XYZ       456       30111\r\n\r\n**OUTPUT**\r\n\r\n    Number of events : 2\r\n\r\n\r\nAbove since there are only 2 types of events based on the `eventid`. I want their count as 2\r\n\r\n\r\nNote : The main intent of the application is to store the events that come from external system. We just want the above as an audit to check what count of events were consumed and what were persisted.","title":"How to get group by and count of millions of records in fastest way in dynamodb","body":"<p>So I have below rows in <strong>DynamoDB</strong> with example data. I want to find out the <code>count</code> in below format. Currently I am doing <code>query</code> and <code>pagination</code> to achieve this but its terribly slow due to huge number of rows in millions. Is there any other faster way to do it since I need to find only the count and not individual items.</p>\n<p><strong>Example Data</strong></p>\n<pre><code>BrandName BrandCode Eventid\nABC       123       30100\nABC       123       30111\nXYZ       456       30100\nXYZ       456       30111\n</code></pre>\n<p><strong>OUTPUT</strong></p>\n<pre><code>Number of events : 2\n</code></pre>\n<p>Above since there are only 2 types of events based on the <code>eventid</code>. I want their count as 2</p>\n<p>Note : The main intent of the application is to store the events that come from external system. We just want the above as an audit to check what count of events were consumed and what were persisted.</p>\n"},{"tags":["java","android","kotlin","slideshow"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1676547465,"post_id":75471618,"comment_id":133160818,"body_markdown":"Add `android:usesCleartextTraffic=&quot;true&quot;` to application tag in manifest file.","body":"Add <code>android:usesCleartextTraffic=&quot;true&quot;</code> to application tag in manifest file."},{"owner":{"account_id":16848273,"reputation":1,"user_id":12181961,"display_name":"Shubham Gupta"},"score":0,"creation_date":1676624241,"post_id":75471618,"comment_id":133178507,"body_markdown":"@blackapps, android:usesCleartextTraffic=&quot;true&quot; already added in manifest and also tried with network_security_config.xml. For now I only handling http image with placeholder only https images are showing currently.","body":"@blackapps, android:usesCleartextTraffic=&quot;true&quot; already added in manifest and also tried with network_security_config.xml. For now I only handling http image with placeholder only https images are showing currently."}],"owner":{"account_id":16848273,"reputation":1,"user_id":12181961,"display_name":"Shubham Gupta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676547152,"creation_date":1676546964,"question_id":75471618,"body_markdown":"    for (i in 0 until imagesArray.length()) {\r\n                \r\n                    val imageRes = imagesArray.getJSONObject(i).getString(&quot;image_url&quot;)\r\n                    Log.e(TAG, &quot;setImageSlider_466: &quot;+imageRes)\r\n                    val slide = TextSliderView(this).image(imageRes)\r\n                        .setScaleType(BaseSliderView.ScaleType.CenterInside)\r\n                        .empty(R.drawable.no_image_placeholder)\r\n                    image_slider.addSlider(slide)\r\n    \r\n                    val scaledSlide = DialogTouchImageSlider(this, R.drawable.no_image_placeholder)\r\n                        .description(&quot;Description&quot;)\r\n                        .image(imageRes).setScaleType(BaseSliderView.ScaleType.CenterInside)\r\n                        .empty(R.drawable.no_image_placeholder)\r\n                    dialogSlider.addSlider(scaledSlide)\r\n                    slide.setOnSliderClickListener {\r\n                        if (disableSliderTouch)\r\n                            return@setOnSliderClickListener\r\n    \r\n                        dialogSlider.currentPosition = i\r\n                        imageDialog.show()\r\n                    }\r\n                }\r\n\r\nI&#39;m using SliderLayout of daimajia to show image in SlideView from API, but some image containing &quot;http&quot; url which is not showing, it will showing only when image url contain &quot;https&quot; into url, I already checked with Glide and Picasso to show this image.\r\n\r\nI want to show image with http URL also.","title":"Image not showing from &quot;http&quot; URL in daimajia Slide View Layout","body":"<pre><code>for (i in 0 until imagesArray.length()) {\n            \n                val imageRes = imagesArray.getJSONObject(i).getString(&quot;image_url&quot;)\n                Log.e(TAG, &quot;setImageSlider_466: &quot;+imageRes)\n                val slide = TextSliderView(this).image(imageRes)\n                    .setScaleType(BaseSliderView.ScaleType.CenterInside)\n                    .empty(R.drawable.no_image_placeholder)\n                image_slider.addSlider(slide)\n\n                val scaledSlide = DialogTouchImageSlider(this, R.drawable.no_image_placeholder)\n                    .description(&quot;Description&quot;)\n                    .image(imageRes).setScaleType(BaseSliderView.ScaleType.CenterInside)\n                    .empty(R.drawable.no_image_placeholder)\n                dialogSlider.addSlider(scaledSlide)\n                slide.setOnSliderClickListener {\n                    if (disableSliderTouch)\n                        return@setOnSliderClickListener\n\n                    dialogSlider.currentPosition = i\n                    imageDialog.show()\n                }\n            }\n</code></pre>\n<p>I'm using SliderLayout of daimajia to show image in SlideView from API, but some image containing &quot;http&quot; url which is not showing, it will showing only when image url contain &quot;https&quot; into url, I already checked with Glide and Picasso to show this image.</p>\n<p>I want to show image with http URL also.</p>\n"},{"tags":["java","android","sceneform"],"answers":[{"tags":[],"owner":{"account_id":15949576,"reputation":31,"user_id":11509261,"display_name":"kanoe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676546842,"creation_date":1676546842,"answer_id":75471600,"question_id":71893534,"body_markdown":"If you want to get rid of this error downgrade Ar Sceneform plugin version to:\r\n\r\n    classpath &#39;com.google.ar.sceneform:plugin:1.11.0&#39;","title":"reason: Material version mismatch. Expected 3 but received 4","body":"<p>If you want to get rid of this error downgrade Ar Sceneform plugin version to:</p>\n<pre><code>classpath 'com.google.ar.sceneform:plugin:1.11.0'\n</code></pre>\n"}],"owner":{"account_id":4103894,"reputation":17105,"user_id":3369042,"accept_rate":60,"display_name":"S.M_Emamian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":400,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676546842,"creation_date":1650108915,"question_id":71893534,"body_markdown":"I created sfb files with:\r\n\r\n    classpath &#39;com.android.tools.build:gradle:3.4.1&#39;\r\n    classpath &#39;com.google.ar.sceneform:plugin:1.15.0&#39;\r\n\r\n\r\nbut I want to use them inside another android project:\r\n\r\n        classpath &#39;com.android.tools.build:gradle:4.1.0&#39;\r\n        classpath &#39;com.google.ar.sceneform:plugin:1.15.0&#39;\r\n\r\nI got this error message:\r\n\r\n    2022-04-16 15:58:57.728 8107-8753/com.****.app E/ACameraMetadata: getConstEntry: cannot find metadata tag 65578\r\n    2022-04-16 15:58:58.129 8107-8107/com.****.app E/Filament: Panic\r\n        in filament::Material *filament::Material::Builder::build(filament::Engine &amp;):86\r\n        reason: Material version mismatch. Expected 3 but received 4.\r\n    2022-04-16 15:58:58.129 8107-8107/com.****.app E/Filament: --------- beginning of crash\r\n    2022-04-16 15:58:58.129 8107-8107/com.****.app A/libc: Fatal signal 6 (SIGABRT), code -1 (SI_QUEUE) in tid 8107 (ashamcarpet.app), pid 8107 (ashamcarpet.app)\r\n    2022-04-16 15:58:58.328 8107-8753/com.****.app E/native: E0416 15:58:58.328268    8753 camera_image_stream.cc:231] Camera Image Stream failed to dequeue Image from ImageReader. status=UNAVAILABLE: AImageReader_acquireLatestImage [type.googleapis.com/util.ErrorSpacePayload=&#39;ImageReaderStatusErrorSpaceClass::AMEDIA_IMGREADER_NO_BUFFER_AVAILABLE&#39;]\r\n        === Source Location Trace: === \r\n        third_party/arcore/ar/camera/android/imagereader_status_error_space.cc:112\r\n        third_party/arcore/ar/camera/android/imagereader_ndk_wrapper.cc:240\r\n         acquired_image_count=9\r\n\r\n\r\n\r\n","title":"reason: Material version mismatch. Expected 3 but received 4","body":"<p>I created sfb files with:</p>\n<pre><code>classpath 'com.android.tools.build:gradle:3.4.1'\nclasspath 'com.google.ar.sceneform:plugin:1.15.0'\n</code></pre>\n<p>but I want to use them inside another android project:</p>\n<pre><code>    classpath 'com.android.tools.build:gradle:4.1.0'\n    classpath 'com.google.ar.sceneform:plugin:1.15.0'\n</code></pre>\n<p>I got this error message:</p>\n<pre><code>2022-04-16 15:58:57.728 8107-8753/com.****.app E/ACameraMetadata: getConstEntry: cannot find metadata tag 65578\n2022-04-16 15:58:58.129 8107-8107/com.****.app E/Filament: Panic\n    in filament::Material *filament::Material::Builder::build(filament::Engine &amp;):86\n    reason: Material version mismatch. Expected 3 but received 4.\n2022-04-16 15:58:58.129 8107-8107/com.****.app E/Filament: --------- beginning of crash\n2022-04-16 15:58:58.129 8107-8107/com.****.app A/libc: Fatal signal 6 (SIGABRT), code -1 (SI_QUEUE) in tid 8107 (ashamcarpet.app), pid 8107 (ashamcarpet.app)\n2022-04-16 15:58:58.328 8107-8753/com.****.app E/native: E0416 15:58:58.328268    8753 camera_image_stream.cc:231] Camera Image Stream failed to dequeue Image from ImageReader. status=UNAVAILABLE: AImageReader_acquireLatestImage [type.googleapis.com/util.ErrorSpacePayload='ImageReaderStatusErrorSpaceClass::AMEDIA_IMGREADER_NO_BUFFER_AVAILABLE']\n    === Source Location Trace: === \n    third_party/arcore/ar/camera/android/imagereader_status_error_space.cc:112\n    third_party/arcore/ar/camera/android/imagereader_ndk_wrapper.cc:240\n     acquired_image_count=9\n</code></pre>\n"},{"tags":["java","flutter"],"comments":[{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":0,"creation_date":1675803967,"post_id":75378928,"comment_id":133006668,"body_markdown":"As seen [here](https://en.wikipedia.org/wiki/Java_class_file#General_layout), class file version 63 corresponds to Java 19. If it says that&#39;s not supported, then that means you aren&#39;t using Java 19. Go back to 19 and make absolutely sure that your IDE is pointing to  the correct Java version. Simply installing a bunch of random Java versions doesn&#39;t necessarily tell your IDE and other programs to use the new versions.","body":"As seen <a href=\"https://en.wikipedia.org/wiki/Java_class_file#General_layout\" rel=\"nofollow noreferrer\">here</a>, class file version 63 corresponds to Java 19. If it says that&#39;s not supported, then that means you aren&#39;t using Java 19. Go back to 19 and make absolutely sure that your IDE is pointing to  the correct Java version. Simply installing a bunch of random Java versions doesn&#39;t necessarily tell your IDE and other programs to use the new versions."},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1675804024,"post_id":75378928,"comment_id":133006677,"body_markdown":"Version 63 is Java 19.  Your &quot;build environment&quot; is somehow using an *OLDER* JRE. Q: Are you using VSCode (my preference) , Android Studio or the Flutter CLI to build your Flutter app?  Q: What happens if you try the Flutter CLI (in my experience, VSCode build == CLI build)?  You should also try a CLI &quot;flutter doctor&quot;.","body":"Version 63 is Java 19.  Your &quot;build environment&quot; is somehow using an <i>OLDER</i> JRE. Q: Are you using VSCode (my preference) , Android Studio or the Flutter CLI to build your Flutter app?  Q: What happens if you try the Flutter CLI (in my experience, VSCode build == CLI build)?  You should also try a CLI &quot;flutter doctor&quot;."},{"owner":{"account_id":166797,"reputation":1694,"user_id":391162,"accept_rate":88,"display_name":"tazboy"},"score":0,"creation_date":1675805359,"post_id":75378928,"comment_id":133007031,"body_markdown":"@SilvioMayolo I&#39;ve looked in the settings and I&#39;m not seeing where to point VSCode to use Java 19. Are you familiar with that process?","body":"@SilvioMayolo I&#39;ve looked in the settings and I&#39;m not seeing where to point VSCode to use Java 19. Are you familiar with that process?"},{"owner":{"account_id":166797,"reputation":1694,"user_id":391162,"accept_rate":88,"display_name":"tazboy"},"score":0,"creation_date":1675805573,"post_id":75378928,"comment_id":133007085,"body_markdown":"@paulsm4 Flutter doctor is all good. I&#39;m using VSCode. The project runs but there are two errors in the Android folder. Thoughts on how to fix this?","body":"@paulsm4 Flutter doctor is all good. I&#39;m using VSCode. The project runs but there are two errors in the Android folder. Thoughts on how to fix this?"},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1675809688,"post_id":75378928,"comment_id":133008042,"body_markdown":"Look here: https://github.com/flutter/flutter/issues/110807.  Try `flutter build apk -v` from a command prompt and tell us what happens.  Ensure `JAVA_HOME `is set throughout your environment, and that wherever it&#39;s set, it points to your Java 19.  Based on the &quot;flutter issues&quot; link above ... you might even consider hacking the JAVA_HOME in your &quot;gradle.dart&quot; (as a last resort).","body":"Look here: <a href=\"https://github.com/flutter/flutter/issues/110807\" rel=\"nofollow noreferrer\">github.com/flutter/flutter/issues/110807</a>.  Try <code>flutter build apk -v</code> from a command prompt and tell us what happens.  Ensure <code>JAVA_HOME </code>is set throughout your environment, and that wherever it&#39;s set, it points to your Java 19.  Based on the &quot;flutter issues&quot; link above ... you might even consider hacking the JAVA_HOME in your &quot;gradle.dart&quot; (as a last resort)."},{"owner":{"account_id":166797,"reputation":1694,"user_id":391162,"accept_rate":88,"display_name":"tazboy"},"score":0,"creation_date":1676223746,"post_id":75378928,"comment_id":133090006,"body_markdown":"@paulsm4 Here is what prints out as a warning after running `flutter build apk -v`.\nRuntime JAR files in the classpath should have the same version. These files were found in the classpath:\nC:/Users/Main/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-jdk8/1.5.30/5fd47535cc85f9e24996f939c2de6583991481b0/kotlin-stdlib-jdk8-1.5.30.jar (version 1.5)\nC:/Users/Main/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-jdk7/1.6.10/e1c380673654a089c4f0c9f83d0ddfdc1efdb498/kotlin-stdlib-jdk7-1.6.10.jar (version 1.6)","body":"@paulsm4 Here is what prints out as a warning after running <code>flutter build apk -v</code>. Runtime JAR files in the classpath should have the same version. These files were found in the classpath: C:/Users/Main/.gradle/caches/modules-2/files-2.1/org.jetbrai&zwnj;&#8203;ns.kotlin/kotlin-std&zwnj;&#8203;lib-jdk8/1.5.30/5fd4&zwnj;&#8203;7535cc85f9e24996f939&zwnj;&#8203;c2de6583991481b0/kot&zwnj;&#8203;lin-stdlib-jdk8-1.5.&zwnj;&#8203;30.jar (version 1.5) C:/Users/Main/.gradle/caches/modules-2/files-2.1/org.jetbrai&zwnj;&#8203;ns.kotlin/kotlin-std&zwnj;&#8203;lib-jdk7/1.6.10/e1c3&zwnj;&#8203;80673654a089c4f0c9f8&zwnj;&#8203;3d0ddfdc1efdb498/kot&zwnj;&#8203;lin-stdlib-jdk7-1.6.&zwnj;&#8203;10.jar (version 1.6)"},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1676519201,"post_id":75378928,"comment_id":133154436,"body_markdown":"Q: Did you resolve this?  Q: What about [this](https://stackoverflow.com/q/75356399/421195)?","body":"Q: Did you resolve this?  Q: What about <a href=\"https://stackoverflow.com/q/75356399/421195\">this</a>?"}],"answers":[{"tags":[],"owner":{"account_id":17645425,"reputation":12764,"user_id":12806961,"display_name":"Code on the Rocks"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675872746,"creation_date":1675872746,"answer_id":75388624,"question_id":75378928,"body_markdown":"I encountered this error while trying to run [Flutter integration tests on Firebase Test Lab][1]. I was able to solve this by updating a few things in Android Studio.\r\n\r\n### Update the Project&#39;s JDK\r\nOpen the Android Studio project settings page (File -&gt; Project Settings) and add the newest JDK version.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n### Update com.android.tools.build:gradle\r\nIn android/build.gradle, update the com.android.tools.build:gradle value to the latest version found [here][3].\r\n\r\n```\r\n dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:7.4.1&#39;\r\n        ...\r\n    }\r\n```\r\n\r\n### Update the gradle distributionUrl\r\nIn `android/gradle/wrapper/gradle-wrapper.properties`, update the distributionUrl property to use the [latest Gradle version][4].\r\n\r\n```\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.6-all.zip\r\n```\r\n\r\n\r\n----------\r\n\r\n# Other Useful Tips\r\n\r\n- You can type `/usr/libexec/java_home` into the terminal to see which version of Java you have installed.\r\n\r\n- You can find the current value of JAVA_HOME by running `%echo $JAVA_HOME` in your terminal ([source][5]). \r\n\r\n- You can update JAVA_HOME by following [these steps][6]\r\n\r\n\r\n  [1]: https://github.com/flutter/flutter/tree/main/packages/integration_test#android-device-testing\r\n  [2]: https://i.stack.imgur.com/JokLW.png\r\n  [3]: https://mvnrepository.com/artifact/com.android.tools.build/gradle?repo=google\r\n  [4]: https://gradle.org/releases/\r\n  [5]: https://www.baeldung.com/find-java-home\r\n  [6]: https://stackoverflow.com/a/19663996/12806961","title":"Flutter Java error &quot;Unsupported class file major version 63&quot;","body":"<p>I encountered this error while trying to run <a href=\"https://github.com/flutter/flutter/tree/main/packages/integration_test#android-device-testing\" rel=\"nofollow noreferrer\">Flutter integration tests on Firebase Test Lab</a>. I was able to solve this by updating a few things in Android Studio.</p>\n<h3>Update the Project's JDK</h3>\n<p>Open the Android Studio project settings page (File -&gt; Project Settings) and add the newest JDK version.</p>\n<p><a href=\"https://i.stack.imgur.com/JokLW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JokLW.png\" alt=\"enter image description here\" /></a></p>\n<h3>Update com.android.tools.build:gradle</h3>\n<p>In android/build.gradle, update the com.android.tools.build:gradle value to the latest version found <a href=\"https://mvnrepository.com/artifact/com.android.tools.build/gradle?repo=google\" rel=\"nofollow noreferrer\">here</a>.</p>\n<pre><code> dependencies {\n        classpath 'com.android.tools.build:gradle:7.4.1'\n        ...\n    }\n</code></pre>\n<h3>Update the gradle distributionUrl</h3>\n<p>In <code>android/gradle/wrapper/gradle-wrapper.properties</code>, update the distributionUrl property to use the <a href=\"https://gradle.org/releases/\" rel=\"nofollow noreferrer\">latest Gradle version</a>.</p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-7.6-all.zip\n</code></pre>\n<hr />\n<h1>Other Useful Tips</h1>\n<ul>\n<li><p>You can type <code>/usr/libexec/java_home</code> into the terminal to see which version of Java you have installed.</p>\n</li>\n<li><p>You can find the current value of JAVA_HOME by running <code>%echo $JAVA_HOME</code> in your terminal (<a href=\"https://www.baeldung.com/find-java-home\" rel=\"nofollow noreferrer\">source</a>).</p>\n</li>\n<li><p>You can update JAVA_HOME by following <a href=\"https://stackoverflow.com/a/19663996/12806961\">these steps</a></p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676546329,"creation_date":1676242926,"answer_id":75430716,"question_id":75378928,"body_markdown":"The problem is that somehow, either deliberately or inadvertently, you&#39;ve built one or more Java files (or you&#39;re using one or more 3rd party .jars) with Java 19 ... but your &quot;build environment&quot; is using an older JRE. Hence the `Unsupported class file` error.\r\n\r\nI, too, am using VSCode for my Flutter IDE; and I, too have Android Studio in my environment.  Unfortunately, there are constantly new releases for Flutter, for VSCode, for the Android SDK, for Android Studio (with its own embedded Java/Kotlin!) and - last, but not least - for Gradle and the A/S Gradle plugin.  Any one of them falling out of sync can break your entire development environment :(\r\n\r\nI just tried to rebuild a project that compiled fine a few months ago... and (as expected) the build failed.  None of the source change - but I recently upgraded A/S, and that inadvertently broke the Flutter build :(\r\n\r\nSUGGESTION:\r\n\r\n1. See if you can identify which Java class or .jar is using Java 19 ... and back it down to an older version.\r\n\r\n2. In parallel, upgrade *EVERYTHING* in your build environment:\r\n   * `flutter upgrade` =&gt; Flutter 3.7.3, Dart 2.19.2\r\n   * VSCode update, `pub upgrade` =&gt; VSCode 1.751, Dart Code 3.58.0\r\n   * A/S upgrade =&gt; Electric Eel 2022.1.1 Patch 1, Gradle Plugin 4.2.2\r\n     \r\n      *Note*: Gradle Plugin 4.2.2 =&gt; Gradle version =&gt; 6.7.1, Default=Java8, AGP dependency 4.2.2\r\n\r\n   * A/S Electric Eel gives you java 11... in (new!) directory &quot;c:\\Program Files\\Android\\Android Studio\\jbr\\&quot; \r\n\r\n","title":"Flutter Java error &quot;Unsupported class file major version 63&quot;","body":"<p>The problem is that somehow, either deliberately or inadvertently, you've built one or more Java files (or you're using one or more 3rd party .jars) with Java 19 ... but your &quot;build environment&quot; is using an older JRE. Hence the <code>Unsupported class file</code> error.</p>\n<p>I, too, am using VSCode for my Flutter IDE; and I, too have Android Studio in my environment.  Unfortunately, there are constantly new releases for Flutter, for VSCode, for the Android SDK, for Android Studio (with its own embedded Java/Kotlin!) and - last, but not least - for Gradle and the A/S Gradle plugin.  Any one of them falling out of sync can break your entire development environment :(</p>\n<p>I just tried to rebuild a project that compiled fine a few months ago... and (as expected) the build failed.  None of the source change - but I recently upgraded A/S, and that inadvertently broke the Flutter build :(</p>\n<p>SUGGESTION:</p>\n<ol>\n<li><p>See if you can identify which Java class or .jar is using Java 19 ... and back it down to an older version.</p>\n</li>\n<li><p>In parallel, upgrade <em>EVERYTHING</em> in your build environment:</p>\n<ul>\n<li><p><code>flutter upgrade</code> =&gt; Flutter 3.7.3, Dart 2.19.2</p>\n</li>\n<li><p>VSCode update, <code>pub upgrade</code> =&gt; VSCode 1.751, Dart Code 3.58.0</p>\n</li>\n<li><p>A/S upgrade =&gt; Electric Eel 2022.1.1 Patch 1, Gradle Plugin 4.2.2</p>\n<p><em>Note</em>: Gradle Plugin 4.2.2 =&gt; Gradle version =&gt; 6.7.1, Default=Java8, AGP dependency 4.2.2</p>\n</li>\n<li><p>A/S Electric Eel gives you java 11... in (new!) directory &quot;c:\\Program Files\\Android\\Android Studio\\jbr&quot;</p>\n</li>\n</ul>\n</li>\n</ol>\n"}],"owner":{"account_id":166797,"reputation":1694,"user_id":391162,"accept_rate":88,"display_name":"tazboy"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4865,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1676546329,"creation_date":1675803652,"question_id":75378928,"body_markdown":"&quot;General error during conversion: Unsupported class file major version 63&quot;\r\n\r\nI&#39;ve tried multiple suggestions on here. None have worked. I think I need more of a step-by-step solution because I&#39;ve tried installing multiple versions of Java (19,16,11), `flutter clean`, `flutter doctor` is all good, and I&#39;ve installed a newer version of Android Studio (just in case). Here is what I see in VSCode:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AiAbS.png\r\n  [2]: https://i.stack.imgur.com/7gmWc.png","title":"Flutter Java error &quot;Unsupported class file major version 63&quot;","body":"<p>&quot;General error during conversion: Unsupported class file major version 63&quot;</p>\n<p>I've tried multiple suggestions on here. None have worked. I think I need more of a step-by-step solution because I've tried installing multiple versions of Java (19,16,11), <code>flutter clean</code>, <code>flutter doctor</code> is all good, and I've installed a newer version of Android Studio (just in case). Here is what I see in VSCode:</p>\n<p><a href=\"https://i.stack.imgur.com/AiAbS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AiAbS.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/7gmWc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7gmWc.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","xml","android-manifest"],"answers":[{"tags":[],"owner":{"account_id":15442030,"reputation":1,"user_id":11140297,"display_name":"user11140297"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676535672,"creation_date":1676535672,"answer_id":75469502,"question_id":75469433,"body_markdown":"For Android API level, use the compileSdkVersion and targetSdkVersion options, and for Java language level, use the sourceCompatibility and targetCompatibility options.","title":"Android Java version and using compileWith. Are there better alternatives on how to do this?","body":"<p>For Android API level, use the compileSdkVersion and targetSdkVersion options, and for Java language level, use the sourceCompatibility and targetCompatibility options.</p>\n"},{"tags":[],"owner":{"account_id":19207875,"reputation":1,"user_id":14034353,"display_name":"Luku Geraud"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676545924,"creation_date":1676545924,"answer_id":75471424,"question_id":75469433,"body_markdown":"1) JavaVersion.VERSION_1_8\r\n\r\nThis signifies the java version you want, the above is java version 8, for java version 10 it will be: JavaVersion.VERSION_1_10\r\n\r\n2) sourceCompatibility vs targetCompatibility\r\n\r\ntargetCompatibility and sourceCompatibility maps to -target release and -source release in javac. Source is basically the source language level and target is the level of the bytecode that is generated.","title":"Android Java version and using compileWith. Are there better alternatives on how to do this?","body":"<ol>\n<li>JavaVersion.VERSION_1_8</li>\n</ol>\n<p>This signifies the java version you want, the above is java version 8, for java version 10 it will be: JavaVersion.VERSION_1_10</p>\n<ol start=\"2\">\n<li>sourceCompatibility vs targetCompatibility</li>\n</ol>\n<p>targetCompatibility and sourceCompatibility maps to -target release and -source release in javac. Source is basically the source language level and target is the level of the bytecode that is generated.</p>\n"}],"owner":{"account_id":4526516,"reputation":208,"user_id":4013399,"accept_rate":39,"display_name":"Zac1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676545924,"creation_date":1676535188,"question_id":75469433,"body_markdown":"I&#39;ve got the following code in my AndroidManifest.xml file.\r\n\r\n    android {\r\n        useLibrary &#39;org.apache.http.legacy&#39;\r\n        compileSdkVersion 33\r\n        defaultConfig {\r\n            applicationId &quot;com.ccc.ddd&quot;\r\n            minSdkVersion 26\r\n            targetSdkVersion 33\r\n            versionCode 7\r\n            versionName &quot;1.6&quot;\r\n            multiDexEnabled true\r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n            compileOptions.with {\r\n                sourceCompatibility = JavaVersion.VERSION_1_8\r\n                targetCompatibility = JavaVersion.VERSION_1_8\r\n            }\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        packagingOptions {\r\n            merge &#39;META-INF/DEPENDENCIES&#39;\r\n        }\r\n    }\r\n\r\nHowever, i am unable to understand the Java versions referenced here. What does this mean?\r\n\r\n    compileOptions.with {\r\n                    sourceCompatibility = JavaVersion.VERSION_1_8\r\n                    targetCompatibility = JavaVersion.VERSION_1_8\r\n                }\r\n\r\nWhat&#39;s the latest Java version for Android, and does it really matter?\r\n\r\nThank you.","title":"Android Java version and using compileWith. Are there better alternatives on how to do this?","body":"<p>I've got the following code in my AndroidManifest.xml file.</p>\n<pre><code>android {\n    useLibrary 'org.apache.http.legacy'\n    compileSdkVersion 33\n    defaultConfig {\n        applicationId &quot;com.ccc.ddd&quot;\n        minSdkVersion 26\n        targetSdkVersion 33\n        versionCode 7\n        versionName &quot;1.6&quot;\n        multiDexEnabled true\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n        compileOptions.with {\n            sourceCompatibility = JavaVersion.VERSION_1_8\n            targetCompatibility = JavaVersion.VERSION_1_8\n        }\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n    packagingOptions {\n        merge 'META-INF/DEPENDENCIES'\n    }\n}\n</code></pre>\n<p>However, i am unable to understand the Java versions referenced here. What does this mean?</p>\n<pre><code>compileOptions.with {\n                sourceCompatibility = JavaVersion.VERSION_1_8\n                targetCompatibility = JavaVersion.VERSION_1_8\n            }\n</code></pre>\n<p>What's the latest Java version for Android, and does it really matter?</p>\n<p>Thank you.</p>\n"},{"tags":["java","decorator","mapstruct"],"comments":[{"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"score":0,"creation_date":1646067938,"post_id":71297268,"comment_id":126027974,"body_markdown":"I don&#39;t understand what the problem is? Everything looks like it is working correctly.","body":"I don&#39;t understand what the problem is? Everything looks like it is working correctly."},{"owner":{"account_id":7582443,"reputation":3,"user_id":5752741,"display_name":"Ferenc Vilagi"},"score":0,"creation_date":1646069464,"post_id":71297268,"comment_id":126028516,"body_markdown":"I think it is my mistake,I have not highlighted the problem enough. If you check the &quot;beerToBeerDtoWithInventory&quot; then see, missing the the &quot;decorator&quot; part, where I set the value of &quot;QuantityOnHand&quot;.","body":"I think it is my mistake,I have not highlighted the problem enough. If you check the &quot;beerToBeerDtoWithInventory&quot; then see, missing the the &quot;decorator&quot; part, where I set the value of &quot;QuantityOnHand&quot;."}],"answers":[{"tags":[],"owner":{"account_id":23191137,"reputation":1266,"user_id":17287498,"display_name":"Ben Zegveld"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646162489,"creation_date":1646162489,"answer_id":71313611,"question_id":71297268,"body_markdown":"Check the implementation of the `BeerMapperDecorator`, this class is marked as the primary injection dependency.\r\n\r\nShould look something like this:\r\n```\r\n@Generated(\r\n    value = &quot;org.mapstruct.ap.MappingProcessor&quot;,\r\n    date = &quot;2022-03-01T20:17:02+0100&quot;,\r\n    comments = &quot;version: 1.5.0.Beta2, compiler: Eclipse JDT (IDE) 1.4.50.v20210914-1429, environment: Java 17.0.1 (Azul Systems, Inc.)&quot;\r\n)\r\n@Component\r\n@Primary\r\npublic class BeerMapperImpl extends BeerMapperDecorator {\r\n\r\n    @Autowired\r\n    @Qualifier(&quot;delegate&quot;)\r\n    private BeerMapper delegate;\r\n\r\n    @Override\r\n    public BeerDto beerToBeerDto(Beer beer)  {\r\n        return delegate.beerToBeerDto( beer );\r\n    }\r\n\r\n    @Override\r\n    public Beer beerDtoToBeer(BeerDto beerDto)  {\r\n        return delegate.beerDtoToBeer( beerDto );\r\n    }\r\n}\r\n```\r\n\r\nThe one you&#39;re looking at is marked as the delegate interface:\r\n```\r\n@Component\r\n@Qualifier(&quot;delegate&quot;)\r\npublic class BeerMapperImpl_ implements BeerMapper {\r\n```","title":"MapStruct decorator has no effect generated code","body":"<p>Check the implementation of the <code>BeerMapperDecorator</code>, this class is marked as the primary injection dependency.</p>\n<p>Should look something like this:</p>\n<pre><code>@Generated(\n    value = &quot;org.mapstruct.ap.MappingProcessor&quot;,\n    date = &quot;2022-03-01T20:17:02+0100&quot;,\n    comments = &quot;version: 1.5.0.Beta2, compiler: Eclipse JDT (IDE) 1.4.50.v20210914-1429, environment: Java 17.0.1 (Azul Systems, Inc.)&quot;\n)\n@Component\n@Primary\npublic class BeerMapperImpl extends BeerMapperDecorator {\n\n    @Autowired\n    @Qualifier(&quot;delegate&quot;)\n    private BeerMapper delegate;\n\n    @Override\n    public BeerDto beerToBeerDto(Beer beer)  {\n        return delegate.beerToBeerDto( beer );\n    }\n\n    @Override\n    public Beer beerDtoToBeer(BeerDto beerDto)  {\n        return delegate.beerDtoToBeer( beerDto );\n    }\n}\n</code></pre>\n<p>The one you're looking at is marked as the delegate interface:</p>\n<pre><code>@Component\n@Qualifier(&quot;delegate&quot;)\npublic class BeerMapperImpl_ implements BeerMapper {\n</code></pre>\n"}],"owner":{"account_id":7582443,"reputation":3,"user_id":5752741,"display_name":"Ferenc Vilagi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":760,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71313611,"answer_count":1,"score":0,"last_activity_date":1676545298,"creation_date":1646061971,"question_id":71297268,"body_markdown":"I wrote the needed interface wit annotations and, an abstract class as decorator. After the generation (mvn clean package) the decorated function updated by the &quot;default&quot; process, what come form parameter and result type. I don&#39;t know, what is the problem. Could you help me?\r\n\r\nEnvironment:\r\nmapstruct version 1.4.2.Final\r\nlombok version 1.18.22 (Spring boot 2.6.3)\r\nlombok-mapstruct-binding: 0.2.0\r\n\r\n            &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n            &lt;version&gt;${mapstruct.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n            &lt;version&gt;${lombok-mapstruct-binding.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nand \r\n\r\n        &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;annotationProcessorPaths&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                            &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n                            &lt;version&gt;${lombok-mapstruct-binding.version}&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n                            &lt;version&gt;${mapstruct.version}&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                    &lt;/annotationProcessorPaths&gt;\r\n                    &lt;compilerArgs&gt;\r\n                        &lt;compilerArg&gt;-Amapstruct.defaultComponentModel=spring&lt;/compilerArg&gt;\r\n                    &lt;/compilerArgs&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nThe Mapper inteface declaration:\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;, uses = {DateMapper.class})\r\n    @DecoratedWith(BeerMapperDecorator.class)\r\n    public interface BeerMapper\r\n    {\r\n\r\n\t    BeerMapper INSTANCE = Mappers.getMapper(BeerMapper.class);\r\n\r\n    \tBeerDto beerToBeerDto(Beer beer);\r\n\r\n\t    Beer beerDtoToBeer(BeerDto beerDto);\r\n\r\n\t    BeerDto beerToBeerDtoWithInventory(Beer beer);\r\n\r\n    }\r\n\r\n\r\nThe decorator:\r\n\r\n    public abstract class BeerMapperDecorator implements BeerMapper {\r\n\r\n\t@Autowired\r\n\t@Qualifier(&quot;delegate&quot;)\r\n\tprivate BeerMapper delegate;\r\n\r\n\tprivate BeerInventoryService beerInventoryService;\r\n\r\n\t@Autowired\r\n\tpublic void setBeerInventoryService(BeerInventoryService beerInventoryService) {\r\n\t\tthis.beerInventoryService = beerInventoryService;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic BeerDto beerToBeerDtoWithInventory(Beer beer) {\r\n\t\tBeerDto dto = delegate.beerToBeerDto(beer);\r\n\t\tdto.setQuantityOnHand(beerInventoryService.getOnhandInventory(beer.getId()));\r\n\r\n\t\tSystem.out.println(&quot;   -----------  Decorated --------------&quot;);\r\n\r\n\t\treturn dto;\r\n\t}\r\n\r\n}\r\n\r\nAnd the generated source:\r\n\r\n        @Override\r\n    public BeerDto beerToBeerDtoWithInventory(Beer beer) {\r\n        if ( beer == null ) {\r\n            return null;\r\n        }\r\n\r\n        BeerDtoBuilder beerDto = BeerDto.builder();\r\n\r\n        beerDto.id( beer.getId() );\r\n        if ( beer.getVersion() != null ) {\r\n            beerDto.version( beer.getVersion().intValue() );\r\n        }\r\n        beerDto.createdDate( dateMapper.asOffsetDateTime( beer.getCreatedDate() ) );\r\n        beerDto.lastModifiedDate( dateMapper.asOffsetDateTime( beer.getLastModifiedDate() ) );\r\n        beerDto.beerName( beer.getBeerName() );\r\n        beerDto.upc( beer.getUpc() );\r\n        beerDto.price( beer.getPrice() );\r\n\r\n        return beerDto.build();\r\n    }\r\n","title":"MapStruct decorator has no effect generated code","body":"<p>I wrote the needed interface wit annotations and, an abstract class as decorator. After the generation (mvn clean package) the decorated function updated by the &quot;default&quot; process, what come form parameter and result type. I don't know, what is the problem. Could you help me?</p>\n<p>Environment:\nmapstruct version 1.4.2.Final\nlombok version 1.18.22 (Spring boot 2.6.3)\nlombok-mapstruct-binding: 0.2.0</p>\n<pre><code>        &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n        &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n        &lt;version&gt;${mapstruct.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n        &lt;version&gt;${lombok-mapstruct-binding.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>and</p>\n<pre><code>    &lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                    &lt;/exclude&gt;\n                    &lt;exclude&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n                    &lt;/exclude&gt;\n                    &lt;exclude&gt;\n                        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                        &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n                    &lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;annotationProcessorPaths&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;version&gt;${lombok.version}&lt;/version&gt;\n                    &lt;/path&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n                        &lt;version&gt;${lombok-mapstruct-binding.version}&lt;/version&gt;\n                    &lt;/path&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                        &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                        &lt;version&gt;${mapstruct.version}&lt;/version&gt;\n                    &lt;/path&gt;\n                &lt;/annotationProcessorPaths&gt;\n                &lt;compilerArgs&gt;\n                    &lt;compilerArg&gt;-Amapstruct.defaultComponentModel=spring&lt;/compilerArg&gt;\n                &lt;/compilerArgs&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>The Mapper inteface declaration:</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;, uses = {DateMapper.class})\n@DecoratedWith(BeerMapperDecorator.class)\npublic interface BeerMapper\n{\n\n    BeerMapper INSTANCE = Mappers.getMapper(BeerMapper.class);\n\n    BeerDto beerToBeerDto(Beer beer);\n\n    Beer beerDtoToBeer(BeerDto beerDto);\n\n    BeerDto beerToBeerDtoWithInventory(Beer beer);\n\n}\n</code></pre>\n<p>The decorator:</p>\n<pre><code>public abstract class BeerMapperDecorator implements BeerMapper {\n\n@Autowired\n@Qualifier(&quot;delegate&quot;)\nprivate BeerMapper delegate;\n\nprivate BeerInventoryService beerInventoryService;\n\n@Autowired\npublic void setBeerInventoryService(BeerInventoryService beerInventoryService) {\n    this.beerInventoryService = beerInventoryService;\n}\n\n@Override\npublic BeerDto beerToBeerDtoWithInventory(Beer beer) {\n    BeerDto dto = delegate.beerToBeerDto(beer);\n    dto.setQuantityOnHand(beerInventoryService.getOnhandInventory(beer.getId()));\n\n    System.out.println(&quot;   -----------  Decorated --------------&quot;);\n\n    return dto;\n}\n</code></pre>\n<p>}</p>\n<p>And the generated source:</p>\n<pre><code>    @Override\npublic BeerDto beerToBeerDtoWithInventory(Beer beer) {\n    if ( beer == null ) {\n        return null;\n    }\n\n    BeerDtoBuilder beerDto = BeerDto.builder();\n\n    beerDto.id( beer.getId() );\n    if ( beer.getVersion() != null ) {\n        beerDto.version( beer.getVersion().intValue() );\n    }\n    beerDto.createdDate( dateMapper.asOffsetDateTime( beer.getCreatedDate() ) );\n    beerDto.lastModifiedDate( dateMapper.asOffsetDateTime( beer.getLastModifiedDate() ) );\n    beerDto.beerName( beer.getBeerName() );\n    beerDto.upc( beer.getUpc() );\n    beerDto.price( beer.getPrice() );\n\n    return beerDto.build();\n}\n</code></pre>\n"},{"tags":["java","summary","prometheus"],"answers":[{"tags":[],"owner":{"account_id":30623,"reputation":32240,"user_id":83591,"display_name":"brian-brazil"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1516129702,"creation_date":1516129702,"answer_id":48288224,"question_id":48287188,"body_markdown":"You need to [provide the labelname in the metric](https://github.com/prometheus/client_java#labels):\r\n\r\n    private static final Summary latencySummary = Summary.build()\r\n        .name(&quot;latency_seconds&quot;)\r\n        .help(&quot;All latencies.&quot;)\r\n        .labelNames(&quot;api&quot;)\r\n        .register();\r\n\r\n","title":"How to add labels to Prometheus Summary metric in Java","body":"<p>You need to <a href=\"https://github.com/prometheus/client_java#labels\" rel=\"noreferrer\">provide the labelname in the metric</a>:</p>\n\n<pre><code>private static final Summary latencySummary = Summary.build()\n    .name(\"latency_seconds\")\n    .help(\"All latencies.\")\n    .labelNames(\"api\")\n    .register();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5294661,"reputation":176,"user_id":4226121,"display_name":"Gerassimos Mitropoulos"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1599909341,"creation_date":1599831126,"answer_id":63848117,"question_id":48287188,"body_markdown":"So following is an other example where we can see how to define the labels and the set the actual values:\r\n\r\n```java\r\nGauge mem_usage = Gauge.build().name(&quot;mem_usage&quot;).help(&quot;Memory usage&quot;).labelNames(&quot;label1&quot;, &quot;label2&quot;).register();\r\nmem_usage.labels(&quot;label1_value1&quot;, &quot;label2_value2&quot;).set(1000);\r\n``` ","title":"How to add labels to Prometheus Summary metric in Java","body":"<p>So following is an other example where we can see how to define the labels and the set the actual values:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Gauge mem_usage = Gauge.build().name(&quot;mem_usage&quot;).help(&quot;Memory usage&quot;).labelNames(&quot;label1&quot;, &quot;label2&quot;).register();\nmem_usage.labels(&quot;label1_value1&quot;, &quot;label2_value2&quot;).set(1000);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5096768,"reputation":1551,"user_id":4087817,"display_name":"ngg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676545212,"creation_date":1676545212,"answer_id":75471297,"question_id":48287188,"body_markdown":"**Histogram and labels working example:-**\r\n\r\n    import io.prometheus.client.CollectorRegistry;\r\n    import io.prometheus.client.Histogram;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    @Service\r\n    public class HistogramService {\r\n    \r\n        private final Histogram requestDuration;\r\n    \r\n        private HistogramService(CollectorRegistry collectorRegistry){\r\n            requestDuration = Histogram.build()\r\n                    .name(&quot;http_request_latency&quot;)\r\n                    .help(&quot;http request latency.&quot;)\r\n                    .labelNames(&quot;label1&quot;, &quot;label2&quot;)\r\n                    .buckets(.005, .01, .025, .05, .075, .1, .25, .5, .75, 1, 2, 3, 4, 5, 10)\r\n                    .register(collectorRegistry);\r\n        }\r\n    \r\n        public void histogramMetrics() {\r\n    \r\n            Histogram.Timer requestTimer = requestDuration.labels(&quot;label1Value&quot;, &quot;label2Value&quot;).startTimer();\r\n            try {\r\n               long sleepDuration  = Double.valueOf(Math.floor(Math.random() * 5 * 1000)).longValue();\r\n                Thread.sleep(sleepDuration);\r\n            } catch (InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n            requestTimer.observeDuration();\r\n        }\r\n    }","title":"How to add labels to Prometheus Summary metric in Java","body":"<p><strong>Histogram and labels working example:-</strong></p>\n<pre><code>import io.prometheus.client.CollectorRegistry;\nimport io.prometheus.client.Histogram;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class HistogramService {\n\n    private final Histogram requestDuration;\n\n    private HistogramService(CollectorRegistry collectorRegistry){\n        requestDuration = Histogram.build()\n                .name(&quot;http_request_latency&quot;)\n                .help(&quot;http request latency.&quot;)\n                .labelNames(&quot;label1&quot;, &quot;label2&quot;)\n                .buckets(.005, .01, .025, .05, .075, .1, .25, .5, .75, 1, 2, 3, 4, 5, 10)\n                .register(collectorRegistry);\n    }\n\n    public void histogramMetrics() {\n\n        Histogram.Timer requestTimer = requestDuration.labels(&quot;label1Value&quot;, &quot;label2Value&quot;).startTimer();\n        try {\n           long sleepDuration  = Double.valueOf(Math.floor(Math.random() * 5 * 1000)).longValue();\n            Thread.sleep(sleepDuration);\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n        requestTimer.observeDuration();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12331913,"reputation":651,"user_id":8997572,"accept_rate":57,"display_name":"kramsiv94"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8371,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":48288224,"answer_count":3,"score":10,"last_activity_date":1676545212,"creation_date":1516125273,"question_id":48287188,"body_markdown":"Counters and Gauges allow for labels to be added to them.  When I try to add labels to a Summary, I get an &quot;incorrect number of labels&quot; error.\r\n\r\nThis is what I&#39;m trying:\r\n\r\n    private static final Summary latencySummary = Summary.build()\r\n    \t\t\t.name(&quot;all_latencies&quot;)\r\n    \t\t\t.help(&quot;all latencies.&quot;)\r\n    \t\t\t.register();\r\n    \r\n    latencySummary.labels(&quot;xyz_api_latency&quot;).observe(timer.elapsedSeconds());\r\n\r\nI&#39;ve looked at the Summary github source code, but can&#39;t find the answer. How are labels added to a Summary?\r\n\r\n","title":"How to add labels to Prometheus Summary metric in Java","body":"<p>Counters and Gauges allow for labels to be added to them.  When I try to add labels to a Summary, I get an \"incorrect number of labels\" error.</p>\n\n<p>This is what I'm trying:</p>\n\n<pre><code>private static final Summary latencySummary = Summary.build()\n            .name(\"all_latencies\")\n            .help(\"all latencies.\")\n            .register();\n\nlatencySummary.labels(\"xyz_api_latency\").observe(timer.elapsedSeconds());\n</code></pre>\n\n<p>I've looked at the Summary github source code, but can't find the answer. How are labels added to a Summary?</p>\n"},{"tags":["java","spring","cron","scheduled-tasks"],"comments":[{"owner":{"account_id":221272,"reputation":6281,"user_id":479156,"accept_rate":92,"display_name":"Ivar"},"score":0,"creation_date":1644416206,"post_id":71051107,"comment_id":125600982,"body_markdown":"I&#39;m not sure if that is possible with a cron expression. Is `fixedRate = 59` an option?","body":"I&#39;m not sure if that is possible with a cron expression. Is <code>fixedRate = 59</code> an option?"},{"owner":{"account_id":10416430,"reputation":353,"user_id":11993600,"display_name":"SorryForAsking"},"score":0,"creation_date":1644416324,"post_id":71051107,"comment_id":125601034,"body_markdown":"but is it possible to set range from 9am to 6pm in fixedRate? As I now it isn&#39;t, that&#39;s why I chose cron","body":"but is it possible to set range from 9am to 6pm in fixedRate? As I now it isn&#39;t, that&#39;s why I chose cron"},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1644421729,"post_id":71051107,"comment_id":125603460,"body_markdown":"Your cron expression is ok. You can test it with:     var expression = CronExpression.parse(&quot;*/59 * 9-21 * * *&quot;);\n    var result = expression.next(LocalDateTime.now());\n    System.out.println(result);","body":"Your cron expression is ok. You can test it with:     var expression = CronExpression.parse(&quot;*/59 * 9-21 * * *&quot;);     var result = expression.next(LocalDateTime.now());     System.out.println(result);"}],"answers":[{"tags":[],"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644422652,"creation_date":1644422652,"answer_id":71052886,"question_id":71051107,"body_markdown":"I think there is a bug in the scheduler.\r\n\r\nWith the following test code You will see that 2 schedules occur when the current time is in the second 59 on in second 00.\r\n\r\n      Set&lt;String&gt; x = new HashSet&lt;&gt;();\r\n        List&lt;LocalDateTime&gt; y = new ArrayList&lt;&gt;();\r\n        while (true) {\r\n    \r\n          var expression = CronExpression.parse(&quot;*/59 * 9-21 * * *&quot;);\r\n          final LocalDateTime now = LocalDateTime.now();\r\n          y.add(now);\r\n          x.add(expression.next(now).toString());\r\n          System.out.println(x);\r\n          Thread.sleep(500);\r\n    \r\n          if (x.size() &gt; 2){\r\n            break;\r\n          }\r\n        }\r\n    \r\n        System.out.println(x);\r\n\r\nI obtained 3 results \r\n\r\n&gt; [2022-02-09T15:58:59, 2022-02-09T15:59:59, 2022-02-09T15:59]\r\n\r\nFor the following dates:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI&#39;ve tested this with Spring Boot version 2.6.3.\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dB4nw.png\r\n  [2]: https://i.stack.imgur.com/6U3v3.png\r\n","title":"Spring cron scheduler for every 59 seconds do double run","body":"<p>I think there is a bug in the scheduler.</p>\n<p>With the following test code You will see that 2 schedules occur when the current time is in the second 59 on in second 00.</p>\n<pre><code>  Set&lt;String&gt; x = new HashSet&lt;&gt;();\n    List&lt;LocalDateTime&gt; y = new ArrayList&lt;&gt;();\n    while (true) {\n\n      var expression = CronExpression.parse(&quot;*/59 * 9-21 * * *&quot;);\n      final LocalDateTime now = LocalDateTime.now();\n      y.add(now);\n      x.add(expression.next(now).toString());\n      System.out.println(x);\n      Thread.sleep(500);\n\n      if (x.size() &gt; 2){\n        break;\n      }\n    }\n\n    System.out.println(x);\n</code></pre>\n<p>I obtained 3 results</p>\n<blockquote>\n<p>[2022-02-09T15:58:59, 2022-02-09T15:59:59, 2022-02-09T15:59]</p>\n</blockquote>\n<p>For the following dates:</p>\n<p><a href=\"https://i.stack.imgur.com/dB4nw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dB4nw.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/6U3v3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6U3v3.png\" alt=\"enter image description here\" /></a></p>\n<p>I've tested this with Spring Boot version 2.6.3.</p>\n"}],"owner":{"account_id":10416430,"reputation":353,"user_id":11993600,"display_name":"SorryForAsking"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1598,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71052886,"answer_count":1,"score":1,"last_activity_date":1676544877,"creation_date":1644415909,"question_id":71051107,"body_markdown":"I need my task to run every 59 seconds from 9am to 6pm, I mean not at 59 seconds of every minute, but 59 seconds after the previous run ends. So i set such a cron to my sheduler `*/59 * 9-21 * * *`\r\n\r\nThere is a code\r\n\r\n    @Scheduled(cron = &quot;*/59 * 9-21 * * *&quot;)\r\n    public void schedule() {\r\n        try {\r\n            log.info(&quot;Scheduler starts!&quot;);\r\n        } catch (Exception e) {\r\n            log.error(&quot;Error was caught in scheduler&quot;, e);\r\n        }\r\n    }\r\n\r\nAnd that&#39;s what I see in log:\r\n\r\n    2022-02-09 16:01:00.002 | spring-vault-ThreadPoolTaskScheduler-1 | INFO  | com.app.MyScheduler             [ / ] -       Scheduler starts!\r\n    2022-02-09 16:01:59.002 | spring-vault-ThreadPoolTaskScheduler-1 | INFO  | com.app.MyScheduler             [ / ] -       Scheduler starts!\r\n    2022-02-09 16:02:00.001 | spring-vault-ThreadPoolTaskScheduler-1 | INFO  | com.app.MyScheduler             [ / ] -       Scheduler starts!\r\n    2022-02-09 16:02:59.002 | spring-vault-ThreadPoolTaskScheduler-1 | INFO  | com.app.MyScheduler             [ / ] -       Scheduler starts!\r\n    2022-02-09 16:03:00.002 | spring-vault-ThreadPoolTaskScheduler-1 | INFO  | com.app.MyScheduler             [ / ] -       Scheduler starts!\r\n    2022-02-09 16:03:59.001 | spring-vault-ThreadPoolTaskScheduler-1 | INFO  | com.app.MyScheduler             [ / ] -       Scheduler starts!\r\n    2022-02-09 16:04:00.001 | spring-vault-ThreadPoolTaskScheduler-1 | INFO  | com.app.MyScheduler             [ / ] -       Scheduler starts!\r\n    2022-02-09 16:04:59.002 | spring-vault-ThreadPoolTaskScheduler-1 | INFO  | com.app.MyScheduler             [ / ] -       Scheduler starts!\r\n    2022-02-09 16:05:00.001 | spring-vault-ThreadPoolTaskScheduler-1 | INFO  | com.app.MyScheduler             [ / ] -       Scheduler starts!\r\n    2022-02-09 16:05:59.002 | spring-vault-ThreadPoolTaskScheduler-1 | INFO  | com.app.MyScheduler             [ / ] -       Scheduler starts!\r\n    2022-02-09 16:06:00.001 | spring-vault-ThreadPoolTaskScheduler-1 | INFO  | com.app.MyScheduler             [ / ] -       Scheduler starts!\r\n    2022-02-09 16:06:59.002 | spring-vault-ThreadPoolTaskScheduler-1 | INFO  | com.app.MyScheduler             [ / ] -       Scheduler starts!\r\n    2022-02-09 16:07:00.001 | spring-vault-ThreadPoolTaskScheduler-1 | INFO  | com.app.MyScheduler             [ / ] -       Scheduler starts!\r\n\r\nWhy does it work in such way and duplicate run at 59 and 00 seconds of each minute? Is my cron wrong?\r\n\r\nUPD:\r\nI&#39;m using grails 4.0.1","title":"Spring cron scheduler for every 59 seconds do double run","body":"<p>I need my task to run every 59 seconds from 9am to 6pm, I mean not at 59 seconds of every minute, but 59 seconds after the previous run ends. So i set such a cron to my sheduler <code>*/59 * 9-21 * * *</code></p>\n<p>There is a code</p>\n<pre><code>@Scheduled(cron = &quot;*/59 * 9-21 * * *&quot;)\npublic void schedule() {\n    try {\n        log.info(&quot;Scheduler starts!&quot;);\n    } catch (Exception e) {\n        log.error(&quot;Error was caught in scheduler&quot;, e);\n    }\n}\n</code></pre>\n<p>And that's what I see in log:</p>\n<pre><code>2022-02-09 16:01:00.002 | spring-vault-ThreadPoolTaskScheduler-1 | INFO  | com.app.MyScheduler             [ / ] -       Scheduler starts!\n2022-02-09 16:01:59.002 | spring-vault-ThreadPoolTaskScheduler-1 | INFO  | com.app.MyScheduler             [ / ] -       Scheduler starts!\n2022-02-09 16:02:00.001 | spring-vault-ThreadPoolTaskScheduler-1 | INFO  | com.app.MyScheduler             [ / ] -       Scheduler starts!\n2022-02-09 16:02:59.002 | spring-vault-ThreadPoolTaskScheduler-1 | INFO  | com.app.MyScheduler             [ / ] -       Scheduler starts!\n2022-02-09 16:03:00.002 | spring-vault-ThreadPoolTaskScheduler-1 | INFO  | com.app.MyScheduler             [ / ] -       Scheduler starts!\n2022-02-09 16:03:59.001 | spring-vault-ThreadPoolTaskScheduler-1 | INFO  | com.app.MyScheduler             [ / ] -       Scheduler starts!\n2022-02-09 16:04:00.001 | spring-vault-ThreadPoolTaskScheduler-1 | INFO  | com.app.MyScheduler             [ / ] -       Scheduler starts!\n2022-02-09 16:04:59.002 | spring-vault-ThreadPoolTaskScheduler-1 | INFO  | com.app.MyScheduler             [ / ] -       Scheduler starts!\n2022-02-09 16:05:00.001 | spring-vault-ThreadPoolTaskScheduler-1 | INFO  | com.app.MyScheduler             [ / ] -       Scheduler starts!\n2022-02-09 16:05:59.002 | spring-vault-ThreadPoolTaskScheduler-1 | INFO  | com.app.MyScheduler             [ / ] -       Scheduler starts!\n2022-02-09 16:06:00.001 | spring-vault-ThreadPoolTaskScheduler-1 | INFO  | com.app.MyScheduler             [ / ] -       Scheduler starts!\n2022-02-09 16:06:59.002 | spring-vault-ThreadPoolTaskScheduler-1 | INFO  | com.app.MyScheduler             [ / ] -       Scheduler starts!\n2022-02-09 16:07:00.001 | spring-vault-ThreadPoolTaskScheduler-1 | INFO  | com.app.MyScheduler             [ / ] -       Scheduler starts!\n</code></pre>\n<p>Why does it work in such way and duplicate run at 59 and 00 seconds of each minute? Is my cron wrong?</p>\n<p>UPD:\nI'm using grails 4.0.1</p>\n"},{"tags":["java","file","glob","delete-file","fileutils"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1676546598,"post_id":75469526,"comment_id":133160592,"body_markdown":"The Q&amp;A you link to would seem to answer your question. Or are you asking this because, for some reason, you are not allowed to use the `java.nio.file` API?","body":"The Q&amp;A you link to would seem to answer your question. Or are you asking this because, for some reason, you are not allowed to use the <code>java.nio.file</code> API?"}],"answers":[{"tags":[],"owner":{"account_id":15442030,"reputation":1,"user_id":11140297,"display_name":"user11140297"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676544837,"creation_date":1676544837,"answer_id":75471215,"question_id":75469526,"body_markdown":"You can accomplish this in Java by using the java.nio.file.Files and java.nio.file.Path classes, and by using the java.nio.file.FileSystem class to create a PathMatcher that can match against a glob pattern.\r\n\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    import java.nio.file.PathMatcher;\r\n    import java.nio.file.FileSystems;\r\n    import java.io.IOException;\r\n    import java.util.List;","title":"Deleting all files &amp; directories except those matching a given glob pattern","body":"<p>You can accomplish this in Java by using the java.nio.file.Files and java.nio.file.Path classes, and by using the java.nio.file.FileSystem class to create a PathMatcher that can match against a glob pattern.</p>\n<pre><code>import java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.nio.file.PathMatcher;\nimport java.nio.file.FileSystems;\nimport java.io.IOException;\nimport java.util.List;\n</code></pre>\n"}],"owner":{"account_id":27800631,"reputation":11,"user_id":21225151,"display_name":"Thiccasa 69"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676544837,"creation_date":1676535866,"question_id":75469526,"body_markdown":"I have a list of all the files &amp; directories that I need to delete, but I need to exclude all files/directories that match a given [glob](https://www.bing.com/ck/a?!&amp;&amp;p=77d52406e5b8042cJmltdHM9MTY3NjUwNTYwMCZpZ3VpZD0xMTMyNzhiMC03MWE0LTY4ODgtMDkxZS02OTY5NzA1NjY5MWEmaW5zaWQ9NTIwNw&amp;ptn=3&amp;hsh=3&amp;fclid=113278b0-71a4-6888-091e-69697056691a&amp;psq=glob+java&amp;u=a1aHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMjQ2Nzc2NjIvbWF0Y2gtcGF0aC1zdHJpbmctdXNpbmctZ2xvYi1pbi1qYXZh&amp;ntb=1) pattern. Any suggestions on how I can achieve this?\r\n\r\nI am currently using the FileUtils class to delete files like this - \r\n\r\n```\r\nfor (File path : cleanableFiles) {\r\n            try {\r\n                FileUtils.deleteQuietly(path);\r\n                FileUtils.deleteDirectory(path);\r\n            } catch (Exception exception) {\r\n            }\r\n        }\r\n```\r\n\r\n\r\ncleanableFiles is `Set&lt;File&gt;`. I also have a glob pattern string (e.g  &#39;*.txt&#39; to match all files that have .txt extension). I need to not delete the files/directories that match the glob pattern.","title":"Deleting all files &amp; directories except those matching a given glob pattern","body":"<p>I have a list of all the files &amp; directories that I need to delete, but I need to exclude all files/directories that match a given <a href=\"https://www.bing.com/ck/a?!&amp;&amp;p=77d52406e5b8042cJmltdHM9MTY3NjUwNTYwMCZpZ3VpZD0xMTMyNzhiMC03MWE0LTY4ODgtMDkxZS02OTY5NzA1NjY5MWEmaW5zaWQ9NTIwNw&amp;ptn=3&amp;hsh=3&amp;fclid=113278b0-71a4-6888-091e-69697056691a&amp;psq=glob+java&amp;u=a1aHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMjQ2Nzc2NjIvbWF0Y2gtcGF0aC1zdHJpbmctdXNpbmctZ2xvYi1pbi1qYXZh&amp;ntb=1\" rel=\"nofollow noreferrer\">glob</a> pattern. Any suggestions on how I can achieve this?</p>\n<p>I am currently using the FileUtils class to delete files like this -</p>\n<pre><code>for (File path : cleanableFiles) {\n            try {\n                FileUtils.deleteQuietly(path);\n                FileUtils.deleteDirectory(path);\n            } catch (Exception exception) {\n            }\n        }\n</code></pre>\n<p>cleanableFiles is <code>Set&lt;File&gt;</code>. I also have a glob pattern string (e.g  '*.txt' to match all files that have .txt extension). I need to not delete the files/directories that match the glob pattern.</p>\n"},{"tags":["java","classpath","classloader"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1676646399,"post_id":75471202,"comment_id":133184930,"body_markdown":"Why do you add `tools.jar` to the bootstrap path? `javac` should already know how to locate the compiler classes. And what are you trying to achieve in the end?","body":"Why do you add <code>tools.jar</code> to the bootstrap path? <code>javac</code> should already know how to locate the compiler classes. And what are you trying to achieve in the end?"},{"owner":{"account_id":27784928,"reputation":33,"user_id":21212592,"display_name":"Gourav Kumar"},"score":0,"creation_date":1676888869,"post_id":75471202,"comment_id":133221637,"body_markdown":"I was trying to resolve my previous issue https://stackoverflow.com/questions/75450643/how-to-deal-with-dependency-conflicts-using-custom-classloader-in-java-properly","body":"I was trying to resolve my previous issue <a href=\"https://stackoverflow.com/questions/75450643/how-to-deal-with-dependency-conflicts-using-custom-classloader-in-java-properly\" title=\"how to deal with dependency conflicts using custom classloader in java properly\">stackoverflow.com/questions/75450643/&hellip;</a>"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1676899598,"post_id":75471202,"comment_id":133224570,"body_markdown":"I don’t understand how manipulating the environment of `javac` is supposed to solve problems you get at runtime with the compiled classes. This manipulation does not even make sense for the compilation itself, as `javac` uses the paths provided with the `-classpath` option. It does not use a class loader.","body":"I don’t understand how manipulating the environment of <code>javac</code> is supposed to solve problems you get at runtime with the compiled classes. This manipulation does not even make sense for the compilation itself, as <code>javac</code> uses the paths provided with the <code>-classpath</code> option. It does not use a class loader."}],"owner":{"account_id":27784928,"reputation":33,"user_id":21212592,"display_name":"Gourav Kumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676544708,"creation_date":1676544708,"question_id":75471202,"body_markdown":"I am trying to set my custom classloader `MyCL` to replace the default system classloader.\r\n\r\nFor this i have tried writing the below commands,where setCustomCL is my application jar file.\r\n\r\ni)  `javac -J-Djava.class.path=/Users/gouravkumar/Desktop/Keploy/KPOCs/Class_Isolation_Loading/setCustomCL/target/setCustomCL-1.0-SNAPSHOT.jar -J-Djava.system.class.loader=org.example.ccl.MyCL`\r\n\r\nii) `javac -J-Djava.class.path=/Users/gouravkumar/Desktop/Keploy/KPOCs/Class_Isolation_Loading/setCustomCL/target/setCustomCL-1.0-SNAPSHOT.jar -Xbootclasspath/p:/Users/gouravkumar/Library/Java/JavaVirtualMachines/corretto-1.8.0_342/Contents/Home/lib/tools.jar -J-Djava.system.class.loader=org.example.ccl.MyCL`\r\n\r\nI am using below classloader as `MyCL`.\r\n\r\n```java\r\npackage org.example.ccl;\r\n\r\nimport org.jetbrains.annotations.Nullable;\r\n\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.net.URL;\r\nimport java.util.Enumeration;\r\nimport java.util.Iterator;\r\nimport java.util.LinkedList;\r\nimport java.util.List;\r\n\r\npublic class MyCL extends ClassLoader {\r\n\r\n    private static final String CLASS_FILE_EXTENSION = &quot;.class&quot;;\r\n\r\n    public MyCL(ClassLoader parent) {\r\n        super(parent);\r\n        System.out.println(&quot;[MyCL classloader] Constructor:&quot; + parent);\r\n    }\r\n\r\n    public MyCL() {\r\n        System.out.println(&quot;[MyCL classloader] Default Constructor&quot;);\r\n    }\r\n\r\n    @Override\r\n    protected Class&lt;?&gt; loadClass(String name, boolean resolve) throws ClassNotFoundException {\r\n        // Check if the class is already loaded\r\n        System.out.println(&quot;[MyCL classloader] loading class: &quot; + name);\r\n        Class&lt;?&gt; clazz = findLoadedClass(name);\r\n        if (clazz != null) {\r\n            System.out.println(&quot;[MyCL classloader] class already loaded:&quot; + clazz);\r\n            return clazz;\r\n        }\r\n\r\n        // Delegate to the parent classloader for bootstrap and extension classes\r\n        if (isBootstrapClass(name) || isExtensionClass(name)) {\r\n            System.out.println(&quot;[MyCL classloader] {&quot; + name + &quot;} should be loaded by boostrap or extension classloader&quot;);\r\n            return super.loadClass(name, resolve);\r\n        }\r\n\r\n        // Try to load the class with this classloader\r\n        byte[] classData = loadClassData(name);\r\n        clazz = defineClass(name, classData, 0, classData.length);\r\n        if (resolve) {\r\n            resolveClass(clazz);\r\n        }\r\n        System.out.println(&quot;[MyCL classloader] succesfully loaded:&quot; + clazz);\r\n        return clazz;\r\n    }\r\n\r\n    private boolean isBootstrapClass(String name) {\r\n        String[] bootstrapPrefixes = {\r\n                &quot;java.&quot;,\r\n                &quot;java/&quot;,\r\n                &quot;javax.&quot;,\r\n                &quot;javax/&quot;,\r\n                &quot;sun.&quot;,\r\n                &quot;sun/&quot;,\r\n                &quot;com.sun.&quot;,\r\n                &quot;com/sun/&quot;};\r\n        for (String prefix : bootstrapPrefixes) {\r\n            if (name.startsWith(prefix)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    private boolean isExtensionClass(String name) {\r\n        String[] extensionPrefixes = {\r\n                &quot;com.sun.javafx.&quot;,\r\n                &quot;com.oracle.&quot;,\r\n                &quot;jdk.&quot;,\r\n                &quot;oracle.&quot;,\r\n                &quot;netscape.&quot;,\r\n                &quot;org.ietf.jgss.&quot;,\r\n                &quot;sunw.&quot;,\r\n                &quot;org.omg.&quot;,\r\n                &quot;org.w3c.dom.&quot;,\r\n                &quot;org.xml.sax.&quot;,\r\n                &quot;org.jcp.xml.dsig.internal.&quot;,\r\n                &quot;com.sun.xml.internal.&quot;,\r\n                &quot;com.sun.activation.&quot;,\r\n                &quot;com.sun.imageio.&quot;,\r\n                &quot;com.sun.jmx.&quot;,\r\n                &quot;com.sun.management.&quot;,\r\n                &quot;com.sun.org.apache.&quot;,\r\n                &quot;com.sun.security.&quot;,\r\n                &quot;com.sun.tools.&quot;,\r\n                &quot;jdk.internal.&quot;,\r\n                &quot;oracle.net.&quot;,\r\n                &quot;sun.awt.&quot;,\r\n                &quot;sun.misc.&quot;,\r\n                &quot;sun.net.&quot;,\r\n                &quot;sun.security.&quot;,\r\n                &quot;sun.text.&quot;,\r\n                &quot;sun.util.&quot;\r\n        };\r\n        for (String prefix : extensionPrefixes) {\r\n            if (name.startsWith(prefix)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    private byte[] loadClassData(String className) {\r\n        String classFileName = className.replace(&#39;.&#39;, &#39;/&#39;) + CLASS_FILE_EXTENSION;\r\n        System.out.println(&quot;[MyCL classloader] trying to get class data of class:&quot; + classFileName);\r\n        InputStream inputStream = getResourceAsStream(classFileName);\r\n        if (inputStream == null) {\r\n            System.out.println(&quot;[MyCL classloader] cannot get class data as inputstream is null.&quot;);\r\n            return null;\r\n        }\r\n\r\n        try (ByteArrayOutputStream outputStream = new ByteArrayOutputStream()) {\r\n            int bytesRead;\r\n            byte[] buffer = new byte[4096];\r\n            while ((bytesRead = inputStream.read(buffer)) != -1) {\r\n                outputStream.write(buffer, 0, bytesRead);\r\n            }\r\n            return outputStream.toByteArray();\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;[MyCL classloader] unable to read class data:&quot; + e);\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n\r\n    @Nullable\r\n    @Override\r\n    public URL getResource(String name) {\r\n        System.out.println(&quot;[MyCL classloader] trying getResource() on:&quot; + name);\r\n        URL res = null;\r\n\r\n        // Delegate to the parent classloader for bootstrap and extension classes\r\n        if (isBootstrapClass(name) || isExtensionClass(name)) {\r\n            System.out.println(&quot;[MyCL classloader] {&quot; + name + &quot;} getResource() should be fetched by boostrap or extension classloader&quot;);\r\n            return super.getResource(name);\r\n        }\r\n\r\n        res = findResource(name);\r\n\r\n        if (res == null) {\r\n            System.out.println(&quot;[MyCL classloader] unable to getResource from current classloader&quot;);\r\n            res = super.getResource(name);\r\n        }\r\n        return res;\r\n    }\r\n\r\n    @Override\r\n    public Enumeration&lt;URL&gt; getResources(String name) {\r\n        System.out.println(&quot;[MyCL classloader] trying getResources() on:&quot; + name);\r\n\r\n        List&lt;URL&gt; allRes = new LinkedList&lt;&gt;();\r\n        try {\r\n\r\n            // Delegate to the parent classloader for bootstrap and extension classes\r\n            if (isBootstrapClass(name) || isExtensionClass(name)) {\r\n                System.out.println(&quot;[MyCL classloader] {&quot; + name + &quot;}  getResources() should be fetched by boostrap or extension classloader&quot;);\r\n                return super.getResources(name);\r\n            }\r\n\r\n            // load resource from this classloader\r\n            Enumeration&lt;URL&gt; thisRes = findResources(name);\r\n            if (thisRes != null) {\r\n                while (thisRes.hasMoreElements()) {\r\n                    allRes.add(thisRes.nextElement());\r\n                }\r\n            }\r\n\r\n            // then try finding resources from parent classloaders\r\n            Enumeration&lt;URL&gt; parentRes = super.findResources(name);\r\n            if (parentRes != null) {\r\n                while (parentRes.hasMoreElements()) {\r\n                    allRes.add(parentRes.nextElement());\r\n                }\r\n            }\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;[MyCL classloader] unable to getResources() from any classloader&quot;);\r\n            e.printStackTrace();\r\n        }\r\n        System.out.println(&quot;[MyCL classloader] successfully executed getResources()&quot;);\r\n        return new Enumeration&lt;URL&gt;() {\r\n            final Iterator&lt;URL&gt; it = allRes.iterator();\r\n\r\n            @Override\r\n            public boolean hasMoreElements() {\r\n                return it.hasNext();\r\n            }\r\n\r\n            @Override\r\n            public URL nextElement() {\r\n                return it.next();\r\n            }\r\n        };\r\n    }\r\n\r\n    @Nullable\r\n    @Override\r\n    public InputStream getResourceAsStream(String name) {\r\n        System.out.println(&quot;[MyCL classloader] trying getResourceAsStream() on:&quot; + name);\r\n\r\n        // Delegate to the parent classloader for bootstrap and extension classes\r\n        if (isBootstrapClass(name) || isExtensionClass(name)) {\r\n            System.out.println(&quot;[MyCL classloader] {&quot; + name + &quot;} getResourceAsStream() should be fetched by boostrap or extension classloader&quot;);\r\n            return super.getResourceAsStream(name);\r\n        }\r\n\r\n        InputStream inputStream = getResourceAsStream(name);\r\n        if (inputStream != null) {\r\n            System.out.println(&quot;[MyCL classloader] successfull executed getResourceAsStream()&quot;);\r\n            return inputStream;\r\n        }\r\n        return null;\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n**StackTrace:**\r\n```zsh\r\n➜  java git:(main) ✗ javac -J-Djava.class.path=/Users/gouravkumar/Desktop/Keploy/KPOCs/Class_Isolation_Loading/setCustomCL/target/setCustomCL-1.0-SNAPSHOT.jar -Xbootclasspath/p:/Users/gouravkumar/Library/Java/JavaVirtualMachines/corretto-1.8.0_342/Contents/Home/lib/tools.jar -J-Djava.system.class.loader=org.example.ccl.MyCL\r\n[MyCL classloader] Constructor:sun.misc.Launcher$AppClassLoader@18b4aac2\r\n[MyCL classloader] loading class: com.sun.tools.javac.Main\r\n[MyCL classloader] {com.sun.tools.javac.Main} should be loaded by boostrap or extension classloader\r\n[MyCL classloader] trying getResource() on:sun/text/resources/unorm.icu\r\n[MyCL classloader] {sun/text/resources/unorm.icu} getResource() should be fetched by boostrap or extension classloader\r\n[MyCL classloader] loading class: com.sun.tools.javac.Main\r\n[MyCL classloader] {com.sun.tools.javac.Main} should be loaded by boostrap or extension classloader\r\nError: Could not find or load main class com.sun.tools.javac.Main\r\n```\r\n\r\nAny help would be appreciated. Thanks!","title":"Could not find or load main class com.sun.tools.javac.Main when using custom classloader","body":"<p>I am trying to set my custom classloader <code>MyCL</code> to replace the default system classloader.</p>\n<p>For this i have tried writing the below commands,where setCustomCL is my application jar file.</p>\n<p>i)  <code>javac -J-Djava.class.path=/Users/gouravkumar/Desktop/Keploy/KPOCs/Class_Isolation_Loading/setCustomCL/target/setCustomCL-1.0-SNAPSHOT.jar -J-Djava.system.class.loader=org.example.ccl.MyCL</code></p>\n<p>ii) <code>javac -J-Djava.class.path=/Users/gouravkumar/Desktop/Keploy/KPOCs/Class_Isolation_Loading/setCustomCL/target/setCustomCL-1.0-SNAPSHOT.jar -Xbootclasspath/p:/Users/gouravkumar/Library/Java/JavaVirtualMachines/corretto-1.8.0_342/Contents/Home/lib/tools.jar -J-Djava.system.class.loader=org.example.ccl.MyCL</code></p>\n<p>I am using below classloader as <code>MyCL</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example.ccl;\n\nimport org.jetbrains.annotations.Nullable;\n\nimport java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.net.URL;\nimport java.util.Enumeration;\nimport java.util.Iterator;\nimport java.util.LinkedList;\nimport java.util.List;\n\npublic class MyCL extends ClassLoader {\n\n    private static final String CLASS_FILE_EXTENSION = &quot;.class&quot;;\n\n    public MyCL(ClassLoader parent) {\n        super(parent);\n        System.out.println(&quot;[MyCL classloader] Constructor:&quot; + parent);\n    }\n\n    public MyCL() {\n        System.out.println(&quot;[MyCL classloader] Default Constructor&quot;);\n    }\n\n    @Override\n    protected Class&lt;?&gt; loadClass(String name, boolean resolve) throws ClassNotFoundException {\n        // Check if the class is already loaded\n        System.out.println(&quot;[MyCL classloader] loading class: &quot; + name);\n        Class&lt;?&gt; clazz = findLoadedClass(name);\n        if (clazz != null) {\n            System.out.println(&quot;[MyCL classloader] class already loaded:&quot; + clazz);\n            return clazz;\n        }\n\n        // Delegate to the parent classloader for bootstrap and extension classes\n        if (isBootstrapClass(name) || isExtensionClass(name)) {\n            System.out.println(&quot;[MyCL classloader] {&quot; + name + &quot;} should be loaded by boostrap or extension classloader&quot;);\n            return super.loadClass(name, resolve);\n        }\n\n        // Try to load the class with this classloader\n        byte[] classData = loadClassData(name);\n        clazz = defineClass(name, classData, 0, classData.length);\n        if (resolve) {\n            resolveClass(clazz);\n        }\n        System.out.println(&quot;[MyCL classloader] succesfully loaded:&quot; + clazz);\n        return clazz;\n    }\n\n    private boolean isBootstrapClass(String name) {\n        String[] bootstrapPrefixes = {\n                &quot;java.&quot;,\n                &quot;java/&quot;,\n                &quot;javax.&quot;,\n                &quot;javax/&quot;,\n                &quot;sun.&quot;,\n                &quot;sun/&quot;,\n                &quot;com.sun.&quot;,\n                &quot;com/sun/&quot;};\n        for (String prefix : bootstrapPrefixes) {\n            if (name.startsWith(prefix)) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    private boolean isExtensionClass(String name) {\n        String[] extensionPrefixes = {\n                &quot;com.sun.javafx.&quot;,\n                &quot;com.oracle.&quot;,\n                &quot;jdk.&quot;,\n                &quot;oracle.&quot;,\n                &quot;netscape.&quot;,\n                &quot;org.ietf.jgss.&quot;,\n                &quot;sunw.&quot;,\n                &quot;org.omg.&quot;,\n                &quot;org.w3c.dom.&quot;,\n                &quot;org.xml.sax.&quot;,\n                &quot;org.jcp.xml.dsig.internal.&quot;,\n                &quot;com.sun.xml.internal.&quot;,\n                &quot;com.sun.activation.&quot;,\n                &quot;com.sun.imageio.&quot;,\n                &quot;com.sun.jmx.&quot;,\n                &quot;com.sun.management.&quot;,\n                &quot;com.sun.org.apache.&quot;,\n                &quot;com.sun.security.&quot;,\n                &quot;com.sun.tools.&quot;,\n                &quot;jdk.internal.&quot;,\n                &quot;oracle.net.&quot;,\n                &quot;sun.awt.&quot;,\n                &quot;sun.misc.&quot;,\n                &quot;sun.net.&quot;,\n                &quot;sun.security.&quot;,\n                &quot;sun.text.&quot;,\n                &quot;sun.util.&quot;\n        };\n        for (String prefix : extensionPrefixes) {\n            if (name.startsWith(prefix)) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    private byte[] loadClassData(String className) {\n        String classFileName = className.replace('.', '/') + CLASS_FILE_EXTENSION;\n        System.out.println(&quot;[MyCL classloader] trying to get class data of class:&quot; + classFileName);\n        InputStream inputStream = getResourceAsStream(classFileName);\n        if (inputStream == null) {\n            System.out.println(&quot;[MyCL classloader] cannot get class data as inputstream is null.&quot;);\n            return null;\n        }\n\n        try (ByteArrayOutputStream outputStream = new ByteArrayOutputStream()) {\n            int bytesRead;\n            byte[] buffer = new byte[4096];\n            while ((bytesRead = inputStream.read(buffer)) != -1) {\n                outputStream.write(buffer, 0, bytesRead);\n            }\n            return outputStream.toByteArray();\n        } catch (Exception e) {\n            System.out.println(&quot;[MyCL classloader] unable to read class data:&quot; + e);\n            e.printStackTrace();\n        }\n        return null;\n    }\n\n    @Nullable\n    @Override\n    public URL getResource(String name) {\n        System.out.println(&quot;[MyCL classloader] trying getResource() on:&quot; + name);\n        URL res = null;\n\n        // Delegate to the parent classloader for bootstrap and extension classes\n        if (isBootstrapClass(name) || isExtensionClass(name)) {\n            System.out.println(&quot;[MyCL classloader] {&quot; + name + &quot;} getResource() should be fetched by boostrap or extension classloader&quot;);\n            return super.getResource(name);\n        }\n\n        res = findResource(name);\n\n        if (res == null) {\n            System.out.println(&quot;[MyCL classloader] unable to getResource from current classloader&quot;);\n            res = super.getResource(name);\n        }\n        return res;\n    }\n\n    @Override\n    public Enumeration&lt;URL&gt; getResources(String name) {\n        System.out.println(&quot;[MyCL classloader] trying getResources() on:&quot; + name);\n\n        List&lt;URL&gt; allRes = new LinkedList&lt;&gt;();\n        try {\n\n            // Delegate to the parent classloader for bootstrap and extension classes\n            if (isBootstrapClass(name) || isExtensionClass(name)) {\n                System.out.println(&quot;[MyCL classloader] {&quot; + name + &quot;}  getResources() should be fetched by boostrap or extension classloader&quot;);\n                return super.getResources(name);\n            }\n\n            // load resource from this classloader\n            Enumeration&lt;URL&gt; thisRes = findResources(name);\n            if (thisRes != null) {\n                while (thisRes.hasMoreElements()) {\n                    allRes.add(thisRes.nextElement());\n                }\n            }\n\n            // then try finding resources from parent classloaders\n            Enumeration&lt;URL&gt; parentRes = super.findResources(name);\n            if (parentRes != null) {\n                while (parentRes.hasMoreElements()) {\n                    allRes.add(parentRes.nextElement());\n                }\n            }\n        } catch (IOException e) {\n            System.out.println(&quot;[MyCL classloader] unable to getResources() from any classloader&quot;);\n            e.printStackTrace();\n        }\n        System.out.println(&quot;[MyCL classloader] successfully executed getResources()&quot;);\n        return new Enumeration&lt;URL&gt;() {\n            final Iterator&lt;URL&gt; it = allRes.iterator();\n\n            @Override\n            public boolean hasMoreElements() {\n                return it.hasNext();\n            }\n\n            @Override\n            public URL nextElement() {\n                return it.next();\n            }\n        };\n    }\n\n    @Nullable\n    @Override\n    public InputStream getResourceAsStream(String name) {\n        System.out.println(&quot;[MyCL classloader] trying getResourceAsStream() on:&quot; + name);\n\n        // Delegate to the parent classloader for bootstrap and extension classes\n        if (isBootstrapClass(name) || isExtensionClass(name)) {\n            System.out.println(&quot;[MyCL classloader] {&quot; + name + &quot;} getResourceAsStream() should be fetched by boostrap or extension classloader&quot;);\n            return super.getResourceAsStream(name);\n        }\n\n        InputStream inputStream = getResourceAsStream(name);\n        if (inputStream != null) {\n            System.out.println(&quot;[MyCL classloader] successfull executed getResourceAsStream()&quot;);\n            return inputStream;\n        }\n        return null;\n    }\n\n}\n\n</code></pre>\n<p><strong>StackTrace:</strong></p>\n<pre><code>➜  java git:(main) ✗ javac -J-Djava.class.path=/Users/gouravkumar/Desktop/Keploy/KPOCs/Class_Isolation_Loading/setCustomCL/target/setCustomCL-1.0-SNAPSHOT.jar -Xbootclasspath/p:/Users/gouravkumar/Library/Java/JavaVirtualMachines/corretto-1.8.0_342/Contents/Home/lib/tools.jar -J-Djava.system.class.loader=org.example.ccl.MyCL\n[MyCL classloader] Constructor:sun.misc.Launcher$AppClassLoader@18b4aac2\n[MyCL classloader] loading class: com.sun.tools.javac.Main\n[MyCL classloader] {com.sun.tools.javac.Main} should be loaded by boostrap or extension classloader\n[MyCL classloader] trying getResource() on:sun/text/resources/unorm.icu\n[MyCL classloader] {sun/text/resources/unorm.icu} getResource() should be fetched by boostrap or extension classloader\n[MyCL classloader] loading class: com.sun.tools.javac.Main\n[MyCL classloader] {com.sun.tools.javac.Main} should be loaded by boostrap or extension classloader\nError: Could not find or load main class com.sun.tools.javac.Main\n</code></pre>\n<p>Any help would be appreciated. Thanks!</p>\n"},{"tags":["java","maven","pom.xml","maven-plugin"],"comments":[{"owner":{"account_id":3793708,"reputation":7679,"user_id":3149528,"accept_rate":50,"display_name":"Slawomir Jaranowski"},"score":0,"creation_date":1676483785,"post_id":75463123,"comment_id":133147647,"body_markdown":"Where do you place `plaugin` definition? In your case should be in `project/build/plugins`","body":"Where do you place <code>plaugin</code> definition? In your case should be in <code>project&#47;build&#47;plugins</code>"},{"owner":{"account_id":1902120,"reputation":2319,"user_id":2250791,"accept_rate":92,"display_name":"Camden Narzt"},"score":0,"creation_date":1676485245,"post_id":75463123,"comment_id":133148049,"body_markdown":"I put it in `project/build/pluginManagement/plugins`","body":"I put it in <code>project&#47;build&#47;pluginManagement&#47;plugins</code>"},{"owner":{"account_id":3793708,"reputation":7679,"user_id":3149528,"accept_rate":50,"display_name":"Slawomir Jaranowski"},"score":2,"creation_date":1676488222,"post_id":75463123,"comment_id":133148947,"body_markdown":"`pluginManagement` is used for configuration only - when you want to execute plugin in must by in `plugin` https://maven.apache.org/pom.html#plugin-management","body":"<code>pluginManagement</code> is used for configuration only - when you want to execute plugin in must by in <code>plugin</code> <a href=\"https://maven.apache.org/pom.html#plugin-management\" rel=\"nofollow noreferrer\">maven.apache.org/pom.html#plugin-management</a>"}],"owner":{"account_id":1902120,"reputation":2319,"user_id":2250791,"accept_rate":92,"display_name":"Camden Narzt"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676544700,"creation_date":1676480453,"question_id":75463123,"body_markdown":"I&#39;m trying to add a maven `pom.xml` file to my project which I developed with just a `Makefile`. This project includes a JNI extension. I am using Java 19 on macOS.\r\n\r\nI found that `org.codehaus.mojo`&#39;s `native-maven-plugin` doesn&#39;t work to generate JNI headers anymore since the removal of `javah` from the JDK in Java 10. So instead I decided to use `org.codehaus.mojo`&#39;s `exec-maven-plugin` to run `javac -h`.\r\n\r\nThe plugin is configured as such:\r\n\r\n```\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n          &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.1.0&lt;/version&gt;\r\n          &lt;extensions&gt;true&lt;/extensions&gt;\r\n          &lt;configuration&gt;\r\n            &lt;executable&gt;javac&lt;/executable&gt;\r\n            &lt;commandlineArgs&gt;-h ${project.build.directory}/native/include -d ${project.build.directory}/classes ${basedir}/src/main/java/${fqn_slashes}.java&lt;/commandlineArgs&gt;\r\n            &lt;useMavenLogger&gt;true&lt;/useMavenLogger&gt;\r\n          &lt;/configuration&gt;\r\n          &lt;executions&gt;\r\n            &lt;execution&gt;\r\n              &lt;id&gt;generate-native-header&lt;/id&gt;\r\n              &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n              &lt;goals&gt;\r\n                &lt;goal&gt;exec&lt;/goal&gt;\r\n              &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n```\r\n\r\nI thought that adding: `&lt;extensions&gt;true&lt;/extensions&gt;` or the contents of `&lt;executions&gt;` were the right way to have maven run the plugin when I run `mvn generate-sources` but it doesn&#39;t do so unless I explicitly run `mvn org.codehaus.mojo:exec-maven-plugin:exec generate-sources`.\r\n\r\nSo how do I get maven to run the plugin automatically? (Also is there a documentation site for using maven that isn&#39;t completely broken or devoid of any usable detail?)","title":"How to make maven run 3rd party plugins automatically along with 1st party ones?","body":"<p>I'm trying to add a maven <code>pom.xml</code> file to my project which I developed with just a <code>Makefile</code>. This project includes a JNI extension. I am using Java 19 on macOS.</p>\n<p>I found that <code>org.codehaus.mojo</code>'s <code>native-maven-plugin</code> doesn't work to generate JNI headers anymore since the removal of <code>javah</code> from the JDK in Java 10. So instead I decided to use <code>org.codehaus.mojo</code>'s <code>exec-maven-plugin</code> to run <code>javac -h</code>.</p>\n<p>The plugin is configured as such:</p>\n<pre><code>        &lt;plugin&gt;\n          &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n          &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.1.0&lt;/version&gt;\n          &lt;extensions&gt;true&lt;/extensions&gt;\n          &lt;configuration&gt;\n            &lt;executable&gt;javac&lt;/executable&gt;\n            &lt;commandlineArgs&gt;-h ${project.build.directory}/native/include -d ${project.build.directory}/classes ${basedir}/src/main/java/${fqn_slashes}.java&lt;/commandlineArgs&gt;\n            &lt;useMavenLogger&gt;true&lt;/useMavenLogger&gt;\n          &lt;/configuration&gt;\n          &lt;executions&gt;\n            &lt;execution&gt;\n              &lt;id&gt;generate-native-header&lt;/id&gt;\n              &lt;phase&gt;generate-sources&lt;/phase&gt;\n              &lt;goals&gt;\n                &lt;goal&gt;exec&lt;/goal&gt;\n              &lt;/goals&gt;\n            &lt;/execution&gt;\n          &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>I thought that adding: <code>&lt;extensions&gt;true&lt;/extensions&gt;</code> or the contents of <code>&lt;executions&gt;</code> were the right way to have maven run the plugin when I run <code>mvn generate-sources</code> but it doesn't do so unless I explicitly run <code>mvn org.codehaus.mojo:exec-maven-plugin:exec generate-sources</code>.</p>\n<p>So how do I get maven to run the plugin automatically? (Also is there a documentation site for using maven that isn't completely broken or devoid of any usable detail?)</p>\n"},{"tags":["java","reactive-programming","google-cloud-spanner","r2dbc","r2dbc-mysql"],"comments":[{"owner":{"account_id":14454991,"reputation":456,"user_id":10441462,"display_name":"Elena Felder"},"score":0,"creation_date":1654175940,"post_id":72468491,"comment_id":128032322,"body_markdown":"Are you using MySQL or Cloud Spanner? If Cloud Spanner, support for arrays was [added after the last release](https://github.com/GoogleCloudPlatform/cloud-spanner-r2dbc/pull/495), and at this point will be released for SPI v0.9 and 1.0.","body":"Are you using MySQL or Cloud Spanner? If Cloud Spanner, support for arrays was <a href=\"https://github.com/GoogleCloudPlatform/cloud-spanner-r2dbc/pull/495\" rel=\"nofollow noreferrer\">added after the last release</a>, and at this point will be released for SPI v0.9 and 1.0."},{"owner":{"account_id":22486235,"reputation":31,"user_id":16684577,"display_name":"johnnesto"},"score":0,"creation_date":1654517771,"post_id":72468491,"comment_id":128102001,"body_markdown":"@ElenaFelder Despite updating both spanner r2dbc and r2dbc-spi to their latest versions, Im still noticing the same error.\n```com.google.cloud.spanner.r2dbc.BindingFailureException: Can&#39;t find a binder for type: class io.r2dbc.spi.Parameters$InParameter``` Im trying to bind them like this ```.bind(arrayField, Parameters.in(R2dbcType.COLLECTION,\n                        arrayValues[]))``` Do you know if spanner really supports it?","body":"@ElenaFelder Despite updating both spanner r2dbc and r2dbc-spi to their latest versions, Im still noticing the same error. <code>com.google.cloud.spanner.r2dbc.BindingFailureException: Can&#39;t find a binder for type: class io.r2dbc.spi.Parameters$InParameter</code> Im trying to bind them like this <code>.bind(arrayField, Parameters.in(R2dbcType.COLLECTION,                         arrayValues[]))</code> Do you know if spanner really supports it?"},{"owner":{"account_id":14454991,"reputation":456,"user_id":10441462,"display_name":"Elena Felder"},"score":0,"creation_date":1654524944,"post_id":72468491,"comment_id":128104705,"body_markdown":"Cloud Spanner supports it, but the Cloud Spanner R2DBC support has not been released yet.","body":"Cloud Spanner supports it, but the Cloud Spanner R2DBC support has not been released yet."},{"owner":{"account_id":22486235,"reputation":31,"user_id":16684577,"display_name":"johnnesto"},"score":0,"creation_date":1654526633,"post_id":72468491,"comment_id":128105364,"body_markdown":"@ElenaFelder so is there no way to bind arrays without using cloud spanner ?","body":"@ElenaFelder so is there no way to bind arrays without using cloud spanner ?"},{"owner":{"account_id":22486235,"reputation":31,"user_id":16684577,"display_name":"johnnesto"},"score":0,"creation_date":1654527138,"post_id":72468491,"comment_id":128105594,"body_markdown":"@ElenaFelder and also is it possible to integrate spanner and r2dbc-spi","body":"@ElenaFelder and also is it possible to integrate spanner and r2dbc-spi"},{"owner":{"account_id":14454991,"reputation":456,"user_id":10441462,"display_name":"Elena Felder"},"score":0,"creation_date":1654531299,"post_id":72468491,"comment_id":128107151,"body_markdown":"The way to integrate Cloud Spanner and R2DBC is https://github.com/GoogleCloudPlatform/cloud-spanner-r2dbc . However, we have not released support for array binding yet, so it is not currently possible.","body":"The way to integrate Cloud Spanner and R2DBC is <a href=\"https://github.com/GoogleCloudPlatform/cloud-spanner-r2dbc\" rel=\"nofollow noreferrer\">github.com/GoogleCloudPlatform/cloud-spanner-r2dbc</a> . However, we have not released support for array binding yet, so it is not currently possible."},{"owner":{"account_id":14454991,"reputation":456,"user_id":10441462,"display_name":"Elena Felder"},"score":0,"creation_date":1654531353,"post_id":72468491,"comment_id":128107170,"body_markdown":"I am not sure what you mean by &quot; so is there no way to bind arrays without using cloud spanner&quot; -- do you mean you are choosing between different databases?","body":"I am not sure what you mean by &quot; so is there no way to bind arrays without using cloud spanner&quot; -- do you mean you are choosing between different databases?"},{"owner":{"account_id":22486235,"reputation":31,"user_id":16684577,"display_name":"johnnesto"},"score":0,"creation_date":1654536049,"post_id":72468491,"comment_id":128108831,"body_markdown":"I am not sure what you mean by &quot; so is there no way to bind arrays without using cloud spanner&quot; -- do you mean you are choosing between different databases?  No I mean unless we use native cloud spi, is there no way for us to bind arrays currently?","body":"I am not sure what you mean by &quot; so is there no way to bind arrays without using cloud spanner&quot; -- do you mean you are choosing between different databases?  No I mean unless we use native cloud spi, is there no way for us to bind arrays currently?"},{"owner":{"account_id":14454991,"reputation":456,"user_id":10441462,"display_name":"Elena Felder"},"score":0,"creation_date":1654536402,"post_id":72468491,"comment_id":128108938,"body_markdown":"If you mean R2DBC SPI, it requires a database-specific driver. The latest release of Cloud Spanner R2DBC driver does not have this functionality yet, so yes, currently there is no way.","body":"If you mean R2DBC SPI, it requires a database-specific driver. The latest release of Cloud Spanner R2DBC driver does not have this functionality yet, so yes, currently there is no way."},{"owner":{"account_id":22486235,"reputation":31,"user_id":16684577,"display_name":"johnnesto"},"score":0,"creation_date":1654536449,"post_id":72468491,"comment_id":128108949,"body_markdown":"Thanks for the confirmation. Appreciate your time","body":"Thanks for the confirmation. Appreciate your time"},{"owner":{"account_id":14454991,"reputation":456,"user_id":10441462,"display_name":"Elena Felder"},"score":0,"creation_date":1654536455,"post_id":72468491,"comment_id":128108951,"body_markdown":"You could use Cloud Spanner client library&#39;s async API to bind arrays, but it&#39;s complex.","body":"You could use Cloud Spanner client library&#39;s async API to bind arrays, but it&#39;s complex."}],"answers":[{"tags":[],"owner":{"account_id":27800401,"reputation":9,"user_id":21224959,"display_name":"Gaurav Purohit"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1676544338,"creation_date":1676544338,"answer_id":75471130,"question_id":72468491,"body_markdown":"[cloud-spanner-r2dbc@v1.2.0][1] added support for binding arrays and lists to Spanner native arrays.\r\n\r\n\r\n  [1]: https://github.com/GoogleCloudPlatform/cloud-spanner-r2dbc/releases/tag/v1.2.0","title":"How to bind array fields in r2dbc mysql?","body":"<p><a href=\"https://github.com/GoogleCloudPlatform/cloud-spanner-r2dbc/releases/tag/v1.2.0\" rel=\"nofollow noreferrer\">cloud-spanner-r2dbc@v1.2.0</a> added support for binding arrays and lists to Spanner native arrays.</p>\n"}],"owner":{"account_id":22486235,"reputation":31,"user_id":16684577,"display_name":"johnnesto"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":577,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676544338,"creation_date":1654120682,"question_id":72468491,"body_markdown":"Im trying to bind array fields in spanner using java reactive programming and using r2dbc spi binds\r\nhttps://r2dbc.io/spec/0.8.0.RELEASE/api/io/r2dbc/spi/Statement.html\r\n\r\nI&#39;m encountering this exception\r\n```com.google.cloud.spanner.r2dbc.BindingFailureException: Can&#39;t find a binder for type: class [Ljava.lang.String```\r\n\r\nWe can use binds for array fields in spanner as mentioned here https://stackoverflow.com/questions/43587138/how-to-bind-to-in-parameters-in-cloud-spanner-java-api\r\n\r\nBut this bind works only spanner statements but not for r2dbc","title":"How to bind array fields in r2dbc mysql?","body":"<p>Im trying to bind array fields in spanner using java reactive programming and using r2dbc spi binds\n<a href=\"https://r2dbc.io/spec/0.8.0.RELEASE/api/io/r2dbc/spi/Statement.html\" rel=\"nofollow noreferrer\">https://r2dbc.io/spec/0.8.0.RELEASE/api/io/r2dbc/spi/Statement.html</a></p>\n<p>I'm encountering this exception\n<code>com.google.cloud.spanner.r2dbc.BindingFailureException: Can't find a binder for type: class [Ljava.lang.String</code></p>\n<p>We can use binds for array fields in spanner as mentioned here <a href=\"https://stackoverflow.com/questions/43587138/how-to-bind-to-in-parameters-in-cloud-spanner-java-api\">How to bind to IN parameters in Cloud Spanner Java API</a></p>\n<p>But this bind works only spanner statements but not for r2dbc</p>\n"},{"tags":["java","bean-validation"],"answers":[{"tags":[],"owner":{"account_id":9596641,"reputation":873,"user_id":7125557,"display_name":"dimirsen Z"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676475580,"creation_date":1676475580,"answer_id":75462135,"question_id":75460685,"body_markdown":"What about:\r\n    \r\n    @UUID(message=&quot;gitlabId: Invalid UUID&quot;)\r\n    private String gitlabId = null;\r\n    @UUID(message=&quot;teamId: Invalid UUID&quot;)\r\n    private String teamId;\r\n    \r\n","title":"How to get which field is failed in custom jakarta bean validation?","body":"<p>What about:</p>\n<pre><code>@UUID(message=&quot;gitlabId: Invalid UUID&quot;)\nprivate String gitlabId = null;\n@UUID(message=&quot;teamId: Invalid UUID&quot;)\nprivate String teamId;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6366204,"reputation":2197,"user_id":4940126,"display_name":"mark_o"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676544140,"creation_date":1676544140,"answer_id":75471099,"question_id":75460685,"body_markdown":"As you are using Spring and `GlobalExceptionHandler` you would want to make sure that you have a handler for `MethodArgumentNotValidException` in it. Somethig along next lines would do it:\r\n\r\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\r\n    @ExceptionHandler(MethodArgumentNotValidException.class)\r\n    public Problem handleValidationExceptions(MethodArgumentNotValidException ex) {\r\n        ex.getFieldErrors().forEach((error) -&gt; {\r\n            FieldError fieldError = (FieldError) error;\r\n            String fieldName = fieldError.getField();\r\n            String errorMessage = error.getDefaultMessage();\r\n            // get any other properties you need\r\n            // create a response based on the collected info\r\n        });\r\n        // return your built error result\r\n    }","title":"How to get which field is failed in custom jakarta bean validation?","body":"<p>As you are using Spring and <code>GlobalExceptionHandler</code> you would want to make sure that you have a handler for <code>MethodArgumentNotValidException</code> in it. Somethig along next lines would do it:</p>\n<pre><code>@ResponseStatus(HttpStatus.BAD_REQUEST)\n@ExceptionHandler(MethodArgumentNotValidException.class)\npublic Problem handleValidationExceptions(MethodArgumentNotValidException ex) {\n    ex.getFieldErrors().forEach((error) -&gt; {\n        FieldError fieldError = (FieldError) error;\n        String fieldName = fieldError.getField();\n        String errorMessage = error.getDefaultMessage();\n        // get any other properties you need\n        // create a response based on the collected info\n    });\n    // return your built error result\n}\n</code></pre>\n"}],"owner":{"account_id":7770850,"reputation":502,"user_id":5880486,"display_name":"erondem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1024,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75471099,"answer_count":2,"score":0,"last_activity_date":1676544140,"creation_date":1676468474,"question_id":75460685,"body_markdown":"I added custom validation as annotation and add it to my DTO&#39;s as `@UUID` and it works expected. I add this annotation whenever I need to validate if a field is valid UUID.\r\nWhenever it fails it throws exception with `GlobalExceptionHandler` as I expect. \r\n\r\n    {\r\n        &quot;exception&quot;: &quot;org.springframework.web.bind.MethodArgumentNotValidException&quot;,\r\n        &quot;timeStamp&quot;: 1676468004793,\r\n        &quot;errorDetail&quot;: [\r\n            {\r\n                &quot;key&quot;: &quot;invalid.uuid&quot;,\r\n                &quot;message&quot;: &quot;Invalid UUID&quot;,\r\n                &quot;errorCode&quot;: null,\r\n                &quot;args&quot;: null\r\n            }\r\n        ]\r\n    }\r\n\r\n\r\nHow can I make validator to tell me which field has failed when I have such dto ?\r\n\r\n\r\nDTO\r\n\r\n\r\n    @Data\r\n    public class CollectionCreateRequest {\r\n        @UUID\r\n        private String gitlabId = null;\r\n        @UUID\r\n        private String teamId;\r\n    \r\n    }\r\n\r\nValidator\r\n\r\n    import jakarta.validation.Constraint;\r\n    import jakarta.validation.Payload;\r\n    import jakarta.validation.ReportAsSingleViolation;\r\n    import jakarta.validation.constraints.Pattern;\r\n    \r\n    import java.lang.annotation.ElementType;\r\n    import java.lang.annotation.Retention;\r\n    import java.lang.annotation.RetentionPolicy;\r\n    import java.lang.annotation.Target;\r\n    \r\n    @Target(ElementType.FIELD)\r\n    @Constraint(validatedBy={})\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Pattern(regexp=&quot;^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$|&quot;)\r\n    @ReportAsSingleViolation\r\n    public @interface UUID {\r\n        String message() default &quot;invalid.uuid&quot;;\r\n        Class&lt;?&gt;[] groups() default {};\r\n        Class&lt;? extends Payload&gt;[] payload() default {};\r\n    }\r\n\r\n","title":"How to get which field is failed in custom jakarta bean validation?","body":"<p>I added custom validation as annotation and add it to my DTO's as <code>@UUID</code> and it works expected. I add this annotation whenever I need to validate if a field is valid UUID.\nWhenever it fails it throws exception with <code>GlobalExceptionHandler</code> as I expect.</p>\n<pre><code>{\n    &quot;exception&quot;: &quot;org.springframework.web.bind.MethodArgumentNotValidException&quot;,\n    &quot;timeStamp&quot;: 1676468004793,\n    &quot;errorDetail&quot;: [\n        {\n            &quot;key&quot;: &quot;invalid.uuid&quot;,\n            &quot;message&quot;: &quot;Invalid UUID&quot;,\n            &quot;errorCode&quot;: null,\n            &quot;args&quot;: null\n        }\n    ]\n}\n</code></pre>\n<p>How can I make validator to tell me which field has failed when I have such dto ?</p>\n<p>DTO</p>\n<pre><code>@Data\npublic class CollectionCreateRequest {\n    @UUID\n    private String gitlabId = null;\n    @UUID\n    private String teamId;\n\n}\n</code></pre>\n<p>Validator</p>\n<pre><code>import jakarta.validation.Constraint;\nimport jakarta.validation.Payload;\nimport jakarta.validation.ReportAsSingleViolation;\nimport jakarta.validation.constraints.Pattern;\n\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@Target(ElementType.FIELD)\n@Constraint(validatedBy={})\n@Retention(RetentionPolicy.RUNTIME)\n@Pattern(regexp=&quot;^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$|&quot;)\n@ReportAsSingleViolation\npublic @interface UUID {\n    String message() default &quot;invalid.uuid&quot;;\n    Class&lt;?&gt;[] groups() default {};\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1484556377,"post_id":41672398,"comment_id":70542324,"body_markdown":"You shouldn&#39;t need mockito. Just extend `B` and override `method_b()` to return your custom value.","body":"You shouldn&#39;t need mockito. Just extend <code>B</code> and override <code>method_b()</code> to return your custom value."},{"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"score":0,"creation_date":1484556459,"post_id":41672398,"comment_id":70542367,"body_markdown":"@shmosel bad idea! what id B is an interface and gets new methods over time? You constantly have to change old unittests...","body":"@shmosel bad idea! what id B is an interface and gets new methods over time? You constantly have to change old unittests..."},{"owner":{"account_id":5932369,"reputation":85,"user_id":4666454,"accept_rate":40,"display_name":"amjeremiad"},"score":0,"creation_date":1484556603,"post_id":41672398,"comment_id":70542436,"body_markdown":"No, i just want to avoid manually providing setters coz,even if i miss a single setter my test case fails .","body":"No, i just want to avoid manually providing setters coz,even if i miss a single setter my test case fails ."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1484556823,"post_id":41672398,"comment_id":70542571,"body_markdown":"@TimothyTruckle My assumption was that `B` was a concrete class. Perhaps I was mistaken.","body":"@TimothyTruckle My assumption was that <code>B</code> was a concrete class. Perhaps I was mistaken."},{"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"score":0,"creation_date":1484557346,"post_id":41672398,"comment_id":70542852,"body_markdown":"@shmosel even if so, when using a mocking framework you can later change `B` to be an interface without changing the test. This is an important feature of unit tests!","body":"@shmosel even if so, when using a mocking framework you can later change <code>B</code> to be an interface without changing the test. This is an important feature of unit tests!"}],"answers":[{"tags":[],"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1484557210,"creation_date":1484557210,"answer_id":41672626,"question_id":41672398,"body_markdown":"in a unittest you define the behavior of your class depending on input.\r\nThis means you have to specify this input. There is no way around it.\r\n\r\nThere are different ways to do that.\r\n\r\none way it to configure the DTO the way you did. \r\n\r\nAnother way is to generate the input data. But this has some downsites:  \r\n - you still need a method (or class) to do that,  \r\n - it makes your test harder to read and understand,  \r\n - it introduces failure possibilities in your test making it less reliable,\r\n\r\nOne more way  is to set only those values needed for the current test in the `//arrange` section of your test method:\r\n\r\n    @Mock\r\n    B b;\r\n    @Test\r\n    public void check(){\r\n      // arrange\r\n      Mockito.when(b.method_b())\r\n            .thenReturn(return_A());\r\n      A a=new A();\r\n      // values to be used by cut in this test\r\n      a.setVal1(1);\r\n      a.setVal3(3); \r\n    \r\n      // act\r\n      // assert \r\n    }\r\n\r\n","title":"Is there way to mock pojo other then setting values manually in mockito?","body":"<p>in a unittest you define the behavior of your class depending on input.\nThis means you have to specify this input. There is no way around it.</p>\n\n<p>There are different ways to do that.</p>\n\n<p>one way it to configure the DTO the way you did. </p>\n\n<p>Another way is to generate the input data. But this has some downsites:<br>\n - you still need a method (or class) to do that,<br>\n - it makes your test harder to read and understand,<br>\n - it introduces failure possibilities in your test making it less reliable,</p>\n\n<p>One more way  is to set only those values needed for the current test in the <code>//arrange</code> section of your test method:</p>\n\n<pre><code>@Mock\nB b;\n@Test\npublic void check(){\n  // arrange\n  Mockito.when(b.method_b())\n        .thenReturn(return_A());\n  A a=new A();\n  // values to be used by cut in this test\n  a.setVal1(1);\n  a.setVal3(3); \n\n  // act\n  // assert \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5932369,"reputation":85,"user_id":4666454,"accept_rate":40,"display_name":"amjeremiad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648061548,"creation_date":1484629181,"answer_id":41689359,"question_id":41672398,"body_markdown":"I came across this &lt;https://devskiller.github.io/jfairy/&gt;. This may useful for providing setter values if don&#39;t want to set values manually (hardcoded values).","title":"Is there way to mock pojo other then setting values manually in mockito?","body":"<p>I came across this <a href=\"https://devskiller.github.io/jfairy/\" rel=\"nofollow noreferrer\">https://devskiller.github.io/jfairy/</a>. This may useful for providing setter values if don't want to set values manually (hardcoded values).</p>\n"},{"tags":[],"owner":{"account_id":3156203,"reputation":4585,"user_id":2668564,"display_name":"jfk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607961312,"creation_date":1607961312,"answer_id":65292109,"question_id":41672398,"body_markdown":"A solution with [PODAM][1]\r\n\r\nAdd the gradle dependency\r\n\r\n    testImplementation &#39;uk.co.jemos.podam:podam:7.2.5.RELEASE&#39;\r\n\r\nHow to use it ? \r\n\r\n    PodamFactory podamFactory = new PodamFactoryImpl();\r\n    Student student = podamFactory.manufacturePojo(Student.class);\r\n\r\n\r\n  [1]: https://mtedone.github.io/podam/","title":"Is there way to mock pojo other then setting values manually in mockito?","body":"<p>A solution with <a href=\"https://mtedone.github.io/podam/\" rel=\"nofollow noreferrer\">PODAM</a></p>\n<p>Add the gradle dependency</p>\n<pre><code>testImplementation 'uk.co.jemos.podam:podam:7.2.5.RELEASE'\n</code></pre>\n<p>How to use it ?</p>\n<pre><code>PodamFactory podamFactory = new PodamFactoryImpl();\nStudent student = podamFactory.manufacturePojo(Student.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1854370,"reputation":142,"user_id":1680288,"accept_rate":100,"display_name":"Mustafa D&#252;man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676544129,"creation_date":1676544129,"answer_id":75471095,"question_id":41672398,"body_markdown":"I am very happy to use [AutoFixture][1] for .NET.\r\n\r\nYou can check [JFixture][2] for Java.\r\n\r\nI think it is what you want.\r\n\r\n  [1]: https://github.com/AutoFixture/AutoFixture\r\n  [2]: https://github.com/FlexTradeUKLtd/jfixture","title":"Is there way to mock pojo other then setting values manually in mockito?","body":"<p>I am very happy to use <a href=\"https://github.com/AutoFixture/AutoFixture\" rel=\"nofollow noreferrer\">AutoFixture</a> for .NET.</p>\n<p>You can check <a href=\"https://github.com/FlexTradeUKLtd/jfixture\" rel=\"nofollow noreferrer\">JFixture</a> for Java.</p>\n<p>I think it is what you want.</p>\n"}],"owner":{"account_id":5932369,"reputation":85,"user_id":4666454,"accept_rate":40,"display_name":"amjeremiad"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11278,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":41672626,"answer_count":4,"score":3,"last_activity_date":1676544129,"creation_date":1484556257,"question_id":41672398,"body_markdown":"consider a method returns class A in my service,\r\n\r\n   \r\n\r\n    public List&lt;A&gt; method(){\r\n    A a=B.method_b();\r\n    List&lt;A&gt; list=new ArrayList&lt;&gt;();\r\n    for(A aa:a){\r\n    A classA=new A();\r\n    classA.setVal1(aa.getVal1());\r\n    list.add(classA);\r\n    }\r\n            return list;\r\n        }\r\n\r\nMy pojo class\r\n\r\n    class A{\r\n    private int val1;\r\n    private int val2;\r\n    .\r\n    .\r\n    .\r\n    .\r\n    private int val10;\r\n    //setter and getter \r\n    }\r\n\r\nso in test case ,i wrote as \r\n\r\n    @Mock\r\n    B b;\r\n    @Test\r\n    public void check(){\r\n     Mockito.when(b.method_b())\r\n            .thenReturn(return_A());\r\n    }\r\n    private A return_A(){\r\n    A a=new A();\r\n    a.setVal1(1);\r\n    .\r\n    .\r\n    .\r\n    a.setVal10(10);\r\n    }\r\nHere everything is working fine .Code coverage is also fine.But my question is ,is there any possible way to avoid above private method that returns class A by using mockito ?","title":"Is there way to mock pojo other then setting values manually in mockito?","body":"<p>consider a method returns class A in my service,</p>\n\n<pre><code>public List&lt;A&gt; method(){\nA a=B.method_b();\nList&lt;A&gt; list=new ArrayList&lt;&gt;();\nfor(A aa:a){\nA classA=new A();\nclassA.setVal1(aa.getVal1());\nlist.add(classA);\n}\n        return list;\n    }\n</code></pre>\n\n<p>My pojo class</p>\n\n<pre><code>class A{\nprivate int val1;\nprivate int val2;\n.\n.\n.\n.\nprivate int val10;\n//setter and getter \n}\n</code></pre>\n\n<p>so in test case ,i wrote as </p>\n\n<pre><code>@Mock\nB b;\n@Test\npublic void check(){\n Mockito.when(b.method_b())\n        .thenReturn(return_A());\n}\nprivate A return_A(){\nA a=new A();\na.setVal1(1);\n.\n.\n.\na.setVal10(10);\n}\n</code></pre>\n\n<p>Here everything is working fine .Code coverage is also fine.But my question is ,is there any possible way to avoid above private method that returns class A by using mockito ?</p>\n"},{"tags":["java","swing","jtree"],"comments":[{"owner":{"account_id":5886345,"reputation":311,"user_id":4634246,"accept_rate":47,"display_name":"CoupFlu"},"score":0,"creation_date":1539265631,"post_id":52746867,"comment_id":92446286,"body_markdown":"If I had found the answer I wouldn&#39;t be asking the question here...","body":"If I had found the answer I wouldn&#39;t be asking the question here..."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1539266045,"post_id":52746867,"comment_id":92446579,"body_markdown":"I&#39;m voting to close this question as off-topic because the OP mistakes SO for a code generation machine.","body":"I&#39;m voting to close this question as off-topic because the OP mistakes SO for a code generation machine."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676543921,"creation_date":1539200400,"answer_id":52747654,"question_id":52746867,"body_markdown":"- `JTree#stopEditing` calls the component&#39;s UI delegate&#39;s (`TreeUI`) `stopEditing` method\r\n- `BasicTreeUI#stopCellEditing` (which is a good place to start) calls the `TreeCellEditor`&#39;s `stopCellEditing` method\r\n- `DefaultTreeCellEditor#stopCellEditing` (which is a good place to start) calls it&#39;s editor delegate&#39;s (&#128580;) `stopCellEditing`\r\n- `DefaultCellEditor#stopEditing` (which is the default instance of `TreeCellEditor` used by `DefaultCellEditor` and a good place to start) fires a `editingStopped` event to the registered `CellEditorListener` listeners\r\n- Which takes us back to `BasicTreeUI`, which uses a `private` class to handle the event, which through a series of hops, calls `TreeModel#valueForPathChanged`\r\n\r\nSo, the answer to your question is &quot;it&#39;s complicated&quot; and not guaranteed to be the same for every instance of `JTree` (since the UI delegate can change the path of operations).\r\n\r\nThe primary take away is this.  You have two possible solutions...\r\n\r\n1. Add a `CellEditorListener` to every `TreeCellEditor` of the tree.  This is error prone, as you will likely be fighting the `JTree` and the state of the model will be undetermined\r\n2. Use the `TreeModel` the way it&#39;s suppose to be used.  It already provides a `vaueForPathChanged` which provides you with all the information you need to determine which cell was modified and the new value to be applied to the cell.  The model should also be generating appropriate change events and this method could be called independently of the `JTree`, making it a perfect choice","title":"JTree Editor- Where is getCellEditorValue() called?","body":"<ul>\n<li><code>JTree#stopEditing</code> calls the component's UI delegate's (<code>TreeUI</code>) <code>stopEditing</code> method</li>\n<li><code>BasicTreeUI#stopCellEditing</code> (which is a good place to start) calls the <code>TreeCellEditor</code>'s <code>stopCellEditing</code> method</li>\n<li><code>DefaultTreeCellEditor#stopCellEditing</code> (which is a good place to start) calls it's editor delegate's (🙄) <code>stopCellEditing</code></li>\n<li><code>DefaultCellEditor#stopEditing</code> (which is the default instance of <code>TreeCellEditor</code> used by <code>DefaultCellEditor</code> and a good place to start) fires a <code>editingStopped</code> event to the registered <code>CellEditorListener</code> listeners</li>\n<li>Which takes us back to <code>BasicTreeUI</code>, which uses a <code>private</code> class to handle the event, which through a series of hops, calls <code>TreeModel#valueForPathChanged</code></li>\n</ul>\n<p>So, the answer to your question is &quot;it's complicated&quot; and not guaranteed to be the same for every instance of <code>JTree</code> (since the UI delegate can change the path of operations).</p>\n<p>The primary take away is this.  You have two possible solutions...</p>\n<ol>\n<li>Add a <code>CellEditorListener</code> to every <code>TreeCellEditor</code> of the tree.  This is error prone, as you will likely be fighting the <code>JTree</code> and the state of the model will be undetermined</li>\n<li>Use the <code>TreeModel</code> the way it's suppose to be used.  It already provides a <code>vaueForPathChanged</code> which provides you with all the information you need to determine which cell was modified and the new value to be applied to the cell.  The model should also be generating appropriate change events and this method could be called independently of the <code>JTree</code>, making it a perfect choice</li>\n</ol>\n"}],"owner":{"account_id":5886345,"reputation":311,"user_id":4634246,"accept_rate":47,"display_name":"CoupFlu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":188,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1676543921,"creation_date":1539197123,"question_id":52746867,"body_markdown":"When a device editor is set for a `JTree`, when/where is the method `getCellEditorValue` called after cell editing has stopped? I need to modify the behavior where this method is called in order to allow the Editor to update multiple nodes instead of just a single node. \r\n\r\nCan someone provide an example of overriding this behavior?  \r\n\r\n    DeviceEditor deviceEditor = new DeviceEditor(nodes);\r\n    itemTree.setCellEditor(deviceEditor);\r\n\r\n\r\n        deviceEditor.addActionListener(new ActionListener() {\r\n        @Override\r\n        public void actionPerformed(ActionEvent ae) {\r\n            System.out.println(&quot;ACTION COMMAND= &quot; + ae.getActionCommand());\r\n            if (&quot;Update&quot;.equals(ae.getActionCommand())) {\r\n                //get the Device From the editor.\r\n                //update all the nodes&#39; userObjects to the values of the editor except the ones with &lt;Multiple Values&gt;\r\n                //stopEditing expects an Object from DeviceEditor. We need a way to stopEditing without providing an object. \r\n                itemTree.stopEditing(); //update the nodes     \r\n\r\n            }\r\n            if (&quot;Cancel&quot;.equals(ae.getActionCommand())) {\r\n                itemTree.cancelEditing();\r\n            }\r\n        }\r\n    });","title":"JTree Editor- Where is getCellEditorValue() called?","body":"<p>When a device editor is set for a <code>JTree</code>, when/where is the method <code>getCellEditorValue</code> called after cell editing has stopped? I need to modify the behavior where this method is called in order to allow the Editor to update multiple nodes instead of just a single node. </p>\n\n<p>Can someone provide an example of overriding this behavior?  </p>\n\n<pre><code>DeviceEditor deviceEditor = new DeviceEditor(nodes);\nitemTree.setCellEditor(deviceEditor);\n\n\n    deviceEditor.addActionListener(new ActionListener() {\n    @Override\n    public void actionPerformed(ActionEvent ae) {\n        System.out.println(\"ACTION COMMAND= \" + ae.getActionCommand());\n        if (\"Update\".equals(ae.getActionCommand())) {\n            //get the Device From the editor.\n            //update all the nodes' userObjects to the values of the editor except the ones with &lt;Multiple Values&gt;\n            //stopEditing expects an Object from DeviceEditor. We need a way to stopEditing without providing an object. \n            itemTree.stopEditing(); //update the nodes     \n\n        }\n        if (\"Cancel\".equals(ae.getActionCommand())) {\n            itemTree.cancelEditing();\n        }\n    }\n});\n</code></pre>\n"},{"tags":["java","spring-cloud-gateway","rate-limiting","spring-data-redis"],"owner":{"account_id":27722632,"reputation":13,"user_id":21162845,"display_name":"Keval Shah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676543672,"creation_date":1676542812,"question_id":75470819,"body_markdown":"I have scenario wherein I want to have a customised rate limiting logic in spring cloud gateway which is based on request header received. Can anyone share a sample implementation how it can achieved. \r\n\r\nTried using the RequestRateLimiter but with that I can achieve rate limiting on API end point level but I want it to be customer level based on API request header. As per my understanding this filter that comes with enough features to implement this.","title":"Custom Rate Limit Implementation using Spring Cloud Gateway","body":"<p>I have scenario wherein I want to have a customised rate limiting logic in spring cloud gateway which is based on request header received. Can anyone share a sample implementation how it can achieved.</p>\n<p>Tried using the RequestRateLimiter but with that I can achieve rate limiting on API end point level but I want it to be customer level based on API request header. As per my understanding this filter that comes with enough features to implement this.</p>\n"},{"tags":["java","swing","jtree","filetree"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1676543566,"post_id":75470809,"comment_id":133159724,"body_markdown":"So, let me get this straight - you want to update the tree when ever some change occurs to the underlying file on the file system?  Don&#39;t use `updateUI` - it&#39;s not doing what you think it&#39;s doing.  Repainting the tree won&#39;t do anything unless the changes are reflected in the tree model.","body":"So, let me get this straight - you want to update the tree when ever some change occurs to the underlying file on the file system?  Don&#39;t use <code>updateUI</code> - it&#39;s not doing what you think it&#39;s doing.  Repainting the tree won&#39;t do anything unless the changes are reflected in the tree model."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1676543708,"post_id":75470809,"comment_id":133159766,"body_markdown":"So, if I understand correctly, you will need some way to monitor for changes to the file system [Watching a Directory for Changes](https://docs.oracle.com/javase/tutorial/essential/io/notification.html) might be a good place to start.  When you do detect a change (you&#39;re interested in), you&#39;re going to have to find the tree node which represents the file and update it (and have the `TreeModel` trigger an update event which will cause the `JTree` to be updated)","body":"So, if I understand correctly, you will need some way to monitor for changes to the file system <a href=\"https://docs.oracle.com/javase/tutorial/essential/io/notification.html\" rel=\"nofollow noreferrer\">Watching a Directory for Changes</a> might be a good place to start.  When you do detect a change (you&#39;re interested in), you&#39;re going to have to find the tree node which represents the file and update it (and have the <code>TreeModel</code> trigger an update event which will cause the <code>JTree</code> to be updated)"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1676543712,"post_id":75470809,"comment_id":133159768,"body_markdown":"That&#39;s not nearly as simple as it sounds, `JTree` is a complex beast. Maybe start with [How to Use Trees](https://docs.oracle.com/javase/tutorial/uiswing/components/tree.html)","body":"That&#39;s not nearly as simple as it sounds, <code>JTree</code> is a complex beast. Maybe start with <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/tree.html\" rel=\"nofollow noreferrer\">How to Use Trees</a>"}],"owner":{"account_id":27099527,"reputation":1,"user_id":20646325,"display_name":"Astron"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676543531,"creation_date":1676542756,"question_id":75470809,"body_markdown":"I found this Custom fileTree Component from github to implement it into my project, I&#39;m using this JTree component to access and display file information like file name, file path, file type in a JTable. The project is about File Tagging, I&#39;ve implemented all necessary features related to that! The only thing remaining is an issue that I need to rectify in fileTree Component  \r\n\r\nHere is the code of all the java classes:\r\n\r\nConstants.java\r\n```\r\npackage jtree;\r\npublic class Constants {\r\n    /**\r\n     * the name of the OS as given by the Java system property &quot;os.name&quot;\r\n     */\r\n    public final static String osname = System.getProperty(&quot;os.name&quot;);\r\n    /**\r\n     * true if the program is running on OS X\r\n     */\r\n    public final static boolean isOSX = osname.equalsIgnoreCase(&quot;Mac OS X&quot;);\r\n    /**\r\n     * true if the program is running on Linux\r\n     */\r\n    public final static boolean isLinux = osname.equalsIgnoreCase(&quot;Linux&quot;);\r\n    /**\r\n     * true if the program is running on Solaris\r\n     */\r\n    public final static boolean isSolaris = osname.equalsIgnoreCase(&quot;SunOS&quot;);\r\n    /**\r\n     * true if the program is running on Windows Vista\r\n     */\r\n    public final static boolean isVista = osname.equalsIgnoreCase(&quot;Windows Vista&quot;);\r\n    /**\r\n     * true if the program is running on Windows\r\n     */\r\n    public final static boolean isWindows = !(isOSX || isLinux || isSolaris);\r\n}\r\n```\r\n\r\nFileTree.java\r\n\r\n```\r\npackage jtree;\r\n\r\nimport java.awt.Component;\r\nimport java.io.File;\r\nimport java.util.Arrays;\r\nimport java.util.Comparator;\r\nimport javax.swing.JFileChooser;\r\nimport javax.swing.JTree;\r\nimport javax.swing.event.TreeExpansionEvent;\r\nimport javax.swing.event.TreeExpansionListener;\r\nimport javax.swing.filechooser.FileSystemView;\r\nimport javax.swing.tree.DefaultMutableTreeNode;\r\nimport javax.swing.tree.DefaultTreeCellRenderer;\r\nimport javax.swing.tree.DefaultTreeModel;\r\nimport javax.swing.tree.TreePath;\r\n\r\npublic class FileTree extends JTree {\r\n    \r\n    /** Creates a new instance of FileTree */\r\n    public FileTree() {\r\n        super(new DefaultTreeModel(new DefaultMutableTreeNode(&quot;root&quot;)));\r\n        fileTreeModel = (DefaultTreeModel)treeModel;\r\n        showHiddenFiles = false;\r\n        showFiles = true;\r\n        navigateOSXApps = false;\r\n        \r\n        initComponents();\r\n        initListeners();\r\n    }\r\n    \r\n    /**\r\n     * returns the data model used by the FileTree. This method returns the same value\r\n     * as &lt;code&gt;getModel()&lt;/code&gt;, with the only exception being that this method\r\n     * returns a &lt;code&gt;DefaultTreeModel&lt;/code&gt;\r\n     * @return the data model used by the &lt;code&gt;FileTree&lt;/code&gt;\r\n     */\r\n    public DefaultTreeModel getFileTreeModel() {\r\n        return fileTreeModel;\r\n    }\r\n    \r\n    /**\r\n     * returns the selected file in the tree. If there are multiple selections in the\r\n     * tree, then it will return the &lt;code&gt;File&lt;/code&gt; associated with the value\r\n     * returned from &lt;code&gt;getSelectionPath&lt;/code&gt;. You can enable/disable mutliple\r\n     * selections by changing the mode of the &lt;code&gt;TreeSelectionModel&lt;/code&gt;.\r\n     * @return the selected file in the tree\r\n     */\r\n    public File getSelectedFile() {\r\n        TreePath treePath = getSelectionPath();\r\n        if (treePath == null)\r\n            return null;\r\n        \r\n        DefaultMutableTreeNode treeNode = (DefaultMutableTreeNode)treePath.getLastPathComponent();\r\n        FileTreeNode fileTreeNode = (FileTreeNode)treeNode.getUserObject();\r\n        return fileTreeNode.file;\r\n    }\r\n    \r\n    /**\r\n     * returns an array of the files selected in the tree. To enable/disable multiple\r\n     * selections, you can change the selection mode in the\r\n     * &lt;code&gt;TreeSelectionModel&lt;/code&gt;.\r\n     * @return an array of the files selected in the tree\r\n     */\r\n    public File[] getSelectedFiles() {\r\n        TreePath[] treePaths = getSelectionPaths();\r\n        if (treePaths == null)\r\n            return null;\r\n        \r\n        File [] files = new File[treePaths.length];\r\n        for (int i=0; i&lt;treePaths.length; i++)\r\n        {\r\n            DefaultMutableTreeNode treeNode = (DefaultMutableTreeNode)treePaths[i].getLastPathComponent();\r\n            FileTreeNode fileTreeNode = (FileTreeNode)treeNode.getUserObject();\r\n            files[i] = fileTreeNode.file;\r\n        }\r\n        \r\n        return files;\r\n    }\r\n    \r\n    /**\r\n     * initializes class members\r\n     */\r\n    private void initComponents() {\r\n        if (Constants.isWindows)\r\n            fsv = FileSystemView.getFileSystemView();\r\n        \r\n        initRoot();\r\n        setCellRenderer(new FileTreeCellRenderer());\r\n        setEditable(false);\r\n    }\r\n    \r\n    /**\r\n     * sets up the listeners for the tree\r\n     */\r\n    private void initListeners() {\r\n        addTreeExpansionListener(new TreeExpansionListener() {\r\n            public void treeCollapsed(TreeExpansionEvent event) {\r\n            }\r\n            public void treeExpanded(TreeExpansionEvent event) {\r\n                TreePath path = event.getPath();\r\n                DefaultMutableTreeNode treeNode = (DefaultMutableTreeNode) path.getLastPathComponent();\r\n                treeNode.removeAllChildren();\r\n                populateSubTree(treeNode);\r\n                fileTreeModel.nodeStructureChanged(treeNode);\r\n            }\r\n        });\r\n        \r\n        FileTreeListener ftl = new FileTreeListener(this);\r\n        addMouseListener(ftl);\r\n    }\r\n    \r\n    /**\r\n     * initializes the tree model\r\n     */\r\n    private void initRoot() {\r\n        File[] roots = null;\r\n        if (Constants.isWindows)\r\n            roots = fsv.getRoots();\r\n        else\r\n            roots = File.listRoots();\r\n        \r\n        if (roots.length == 1)\r\n        {\r\n            rootNode = new DefaultMutableTreeNode(new FileTreeNode(roots[0]));\r\n            populateSubTree(rootNode);\r\n        }\r\n        else if (roots.length &gt; 1)\r\n        {\r\n            rootNode = new DefaultMutableTreeNode(&quot;Computer&quot;);\r\n            for (File root:roots)\r\n                rootNode.add(new DefaultMutableTreeNode(root));\r\n        }\r\n        else\r\n            rootNode = new DefaultMutableTreeNode(&quot;Error&quot;);\r\n        \r\n        fileTreeModel.setRoot(rootNode);\r\n    }\r\n    \r\n    /**\r\n     * returns true if deleting is allowed in the tree, false otherwise. The default\r\n     * value is false.\r\n     * @return true if deleting is allowed in the tree, false otherwise\r\n     */\r\n    public boolean isDeleteEnabled() {\r\n        return allowDelete;\r\n    }\r\n    \r\n    /**\r\n     * returns true if the user can navigate into OS X application bundles. false\r\n     * otherwise\r\n     * @return true if the user can navigate into OS X application bundles\r\n     */\r\n    public boolean isNavigateOSXApps() {\r\n        return navigateOSXApps;\r\n    }\r\n    \r\n    /**\r\n     * returns true if files will be shown in the tree, false otherwise. Default value\r\n     * is true.\r\n     * @return true if files will be shown in the tree, false otherwise\r\n     */\r\n    public boolean isShowFiles() {\r\n        return showFiles;\r\n    }\r\n    \r\n    /**\r\n     * returns true if the tree will show hidden files, false otherwise. Default value\r\n     * is false.\r\n     * @return true if the tree will show hidden files, false otherwise\r\n     */\r\n    public boolean isShowHiddenFiles() {\r\n        return showHiddenFiles;\r\n    }\r\n    \r\n    /**\r\n     * called whenever a node is expanded\r\n     * @param node the node to expand\r\n     */\r\n    private void populateSubTree(DefaultMutableTreeNode node) {\r\n        Object userObject = node.getUserObject();\r\n        if (userObject instanceof FileTreeNode)\r\n        {\r\n            FileTreeNode fileTreeNode = (FileTreeNode)userObject;\r\n            File []files = fileTreeNode.file.listFiles();\r\n            \r\n            // Windows displays directories before regular files, so we&#39;re going\r\n            // to sort the list of files such that directories appear first\r\n            if (Constants.isWindows)\r\n            {\r\n                Arrays.sort(files, new Comparator&lt;File&gt;() {\r\n                    public int compare(File f1, File f2) {\r\n                        boolean f1IsDir = f1.isDirectory();\r\n                        boolean f2IsDir = f2.isDirectory();\r\n                        \r\n                        if (f1IsDir == f2IsDir)\r\n                            return f1.compareTo(f2);\r\n                        if (f1IsDir &amp;&amp; !f2IsDir)\r\n                            return -1;\r\n                        \r\n                        // here we assume that f1 is a file, and f2 is a directory\r\n                        return 1;\r\n                    }\r\n                });\r\n            }\r\n            else\r\n                Arrays.sort(files);\r\n            \r\n            for (File file:files)\r\n            {\r\n                if (file.isFile() &amp;&amp; !showFiles)\r\n                    continue;\r\n                \r\n                if (!showHiddenFiles &amp;&amp; file.isHidden())\r\n                    continue;\r\n                \r\n                FileTreeNode subFile = new FileTreeNode(file);\r\n                DefaultMutableTreeNode subNode = new DefaultMutableTreeNode(subFile);\r\n                if (file.isDirectory())\r\n                {\r\n                    if (!Constants.isOSX || navigateOSXApps || !file.getName().endsWith(&quot;.app&quot;))\r\n                        subNode.add(new DefaultMutableTreeNode(&quot;Fake&quot;));\r\n                }\r\n                node.add(subNode);\r\n            }\r\n        }\r\n    }\r\n    \r\n    /**\r\n     * Expands the tree to the &lt;code&gt;File&lt;/code&gt; specified by the argument, and selects\r\n     * it as well. If the &lt;code&gt;currFile&lt;/code&gt; does not exist or is null, calling this\r\n     * method will have no effect.\r\n     * @param currFile The file or directory to expand the tree to and select.\r\n     */\r\n    public void setCurrentFile(File currFile) {\r\n        if (currFile == null || !currFile.exists())\r\n            return;\r\n        \r\n        String path = currFile.getPath();\r\n        String [] pathParts = null;\r\n        if (Constants.isWindows)\r\n            pathParts = path.split(&quot;\\\\\\\\&quot;);\r\n        else\r\n            pathParts = path.split(File.separator);\r\n        \r\n        if (Constants.isWindows)\r\n        {\r\n            int childCount = rootNode.getChildCount();\r\n            DefaultMutableTreeNode myComputer = null;\r\n            for (int i=0; i&lt;childCount; i++)\r\n            {\r\n                FileTreeNode fileTreeNode = \r\n                        (FileTreeNode)((DefaultMutableTreeNode)rootNode.getChildAt(i)).getUserObject();\r\n                if (fileTreeNode.file.getPath().equals(FileTreeNode.WINDOWS_MYCOMPUTER))\r\n                {\r\n                    myComputer = (DefaultMutableTreeNode)rootNode.getChildAt(i);\r\n                    TreePath treePath = new TreePath(myComputer.getPath());\r\n                    expandPath(treePath);\r\n                    break;\r\n                }\r\n            }\r\n            \r\n            DefaultMutableTreeNode currNode = myComputer;\r\n            for (String part:pathParts)\r\n            {\r\n                childCount = currNode.getChildCount();\r\n                for (int i=0; i&lt;childCount; i++)\r\n                {\r\n                    DefaultMutableTreeNode childNode = (DefaultMutableTreeNode)currNode.getChildAt(i);\r\n                    FileTreeNode fileTreeNode = (FileTreeNode)childNode.getUserObject();\r\n                    String pathName = fileTreeNode.file.getName();\r\n                    if (pathName.length() == 0)\r\n                        pathName = fileTreeNode.file.getPath().substring(0, 2);\r\n                    if (pathName.equals(part))\r\n                    {\r\n                        TreePath treePath = new TreePath(childNode.getPath());\r\n                        expandPath(treePath);\r\n                        selectionModel.setSelectionPath(treePath);\r\n                        currNode = childNode;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            \r\n        }\r\n        else\r\n        {\r\n            DefaultMutableTreeNode currNode = rootNode;\r\n            for (String part:pathParts)\r\n            {\r\n                int childCount = currNode.getChildCount();\r\n                for (int i=0; i&lt;childCount; i++)\r\n                {\r\n                    DefaultMutableTreeNode childNode = (DefaultMutableTreeNode)currNode.getChildAt(i);\r\n                    FileTreeNode fileTreeNode = (FileTreeNode)childNode.getUserObject();\r\n                    if (fileTreeNode.file.getName().equals(part))\r\n                    {\r\n                        TreePath treePath = new TreePath(childNode.getPath());\r\n                        expandPath(treePath);\r\n                        selectionModel.setSelectionPath(treePath);\r\n                        currNode = childNode;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    \r\n    /**\r\n     * Allow or disallow the user to delete files from the tree view.\r\n     * @param allowDelete &lt;code&gt;true&lt;/code&gt; allows deleting of files/directories. &lt;code&gt;false&lt;/code&gt; does\r\n     * not.\r\n     */\r\n    public void setDeleteEnabled(boolean allowDelete) {\r\n        this.allowDelete = allowDelete;\r\n    }\r\n    \r\n    /**\r\n     * Toggle the showing of files in the tree (as opposed to just directories)\r\n     * @param showFiles &lt;code&gt;true&lt;/code&gt; shows files in the tree. &lt;code&gt;false&lt;/code&gt; does not.\r\n     */\r\n    public void setShowFiles(boolean showFiles) {\r\n        if (this.showFiles != showFiles)\r\n        {\r\n            this.showFiles = showFiles;\r\n            initRoot();\r\n        }\r\n    }\r\n    \r\n    /**\r\n     * Allows or disallows the showing of hidden files and directories in the tree.\r\n     * @param showHiddenFiles &lt;code&gt;true&lt;/code&gt; shows hidden files. &lt;code&gt;false&lt;/code&gt; does not.\r\n     */\r\n    public void setShowHiddenFiles(boolean showHiddenFiles) {\r\n        if (showHiddenFiles != this.showHiddenFiles)\r\n        {\r\n            this.showHiddenFiles = showHiddenFiles;\r\n            initRoot();\r\n        }\r\n    }\r\n    \r\n    /**\r\n     * sets whether the user can navigate into OS X application bundles (.app). The\r\n     * default value is &lt;code&gt;false&lt;/code&gt;\r\n     * @param navigateOSXApps if true, users will be able to navigate into OS X application bundles. set it\r\n     * to false to disallow navigating bundles.\r\n     */\r\n    public void setNavigateOSXApps(boolean navigateOSXApps) {\r\n        this.navigateOSXApps = navigateOSXApps;\r\n    }\r\n    \r\n    /**\r\n     * the root node of the &lt;code&gt;FileTree&lt;/code&gt;\r\n     */\r\n    protected DefaultMutableTreeNode rootNode;\r\n    /**\r\n     * the &lt;code&gt;TreeModel&lt;/code&gt; for this object. The same value as the &lt;code&gt;JTree&lt;/code&gt;\r\n     * treeModel member.\r\n     */\r\n    protected DefaultTreeModel fileTreeModel;\r\n    /**\r\n     * just a filesystemview used to get icons for nodes in Windows\r\n     */\r\n    protected FileSystemView fsv;\r\n    /**\r\n     * whether or not to show hidden files\r\n     */\r\n    protected boolean showHiddenFiles;\r\n    /**\r\n     * whether or not to show files\r\n     */\r\n    protected boolean showFiles;\r\n    /**\r\n     * whether to allow deleting of files\r\n     */\r\n    protected boolean allowDelete;\r\n    /**\r\n     * allows/disallows navigating into OS X application bundles\r\n     */\r\n    protected boolean navigateOSXApps;\r\n    \r\n    /**\r\n     * A subclass of DefaultTreeCellRenderer that is responsible for rendering the\r\n     * nodes and their icons\r\n     */\r\n    private class FileTreeCellRenderer extends DefaultTreeCellRenderer {\r\n        /**\r\n         * just a simple constructor\r\n         */\r\n        public FileTreeCellRenderer() {\r\n            fileChooser = new JFileChooser();\r\n        }\r\n        \r\n        /**\r\n         * returns a renderered node for the tree\r\n         * @param tree the tree to render the node for\r\n         * @param value the value of the node\r\n         * @param selected if the node is selected\r\n         * @param expanded if it&#39;s expanded\r\n         * @param leaf if its a leaf or not\r\n         * @param row the row number\r\n         * @param hasFocus if it has focus\r\n         * @return a renderered node for the tree\r\n         */\r\n        public Component getTreeCellRendererComponent(JTree tree, Object value, boolean selected, boolean expanded, boolean leaf, int row, boolean hasFocus) {\r\n            super.getTreeCellRendererComponent(tree, value, selected, expanded, leaf, row, hasFocus);\r\n            \r\n            Object userObject = ((DefaultMutableTreeNode)value).getUserObject();\r\n            if (userObject instanceof FileTreeNode)\r\n            {\r\n                FileTreeNode fileTreeNode = (FileTreeNode)userObject;\r\n                \r\n                if (!Constants.isWindows)\r\n                {\r\n                    try { setIcon(fileChooser.getIcon(fileTreeNode.file)); }\r\n                    catch (Exception e) { e.printStackTrace(); }\r\n                }\r\n                else\r\n                {\r\n                    try { setIcon(fsv.getSystemIcon(fileTreeNode.file)); }\r\n                    catch (Exception e) { e.printStackTrace(); }\r\n                }\r\n            }\r\n\r\n            return this;\r\n        }\r\n        \r\n        /**\r\n         * used to obtain icons for non-Windows OSes\r\n         */\r\n        private JFileChooser fileChooser;\r\n    }\r\n}\r\n\r\n```\r\n\r\nFileTreeListener.Java\r\n\r\n```\r\n\r\npackage jtree;\r\n\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.KeyEvent;\r\nimport java.awt.event.MouseAdapter;\r\nimport java.awt.event.MouseEvent;\r\nimport java.io.File;\r\nimport javax.swing.AbstractAction;\r\nimport javax.swing.Action;\r\nimport javax.swing.JOptionPane;\r\nimport javax.swing.JPopupMenu;\r\nimport javax.swing.tree.DefaultMutableTreeNode;\r\nimport javax.swing.tree.TreePath;\r\n\r\npublic class FileTreeListener extends MouseAdapter {\r\n    \r\n    /**\r\n     * Creates a new instance of FileTreeListener\r\n     * @param fileTree the &lt;code&gt;FileTree&lt;/code&gt; to listen for\r\n     */\r\n    public FileTreeListener(FileTree fileTree) {\r\n        if (fileTree == null)\r\n            throw new IllegalArgumentException(&quot;Null argument not allowed&quot;);\r\n        \r\n        this.fileTree = fileTree;\r\n    }\r\n\r\n    /**\r\n     * Listens for right-clicks on the tree.\r\n     * @param e contains information about the mouse click event\r\n     */\r\n    public void mousePressed(MouseEvent e) {\r\n        if (e.getButton() == MouseEvent.BUTTON3)\r\n            rightClick(e.getX(), e.getY());\r\n    }\r\n    \r\n    /**\r\n     * \r\n     * @param x the x coordinate of the mouse when it was pressed\r\n     * @param y the y coordinate of the mouse when it was pressed\r\n     */\r\n    private void rightClick(int x, int y) {\r\n        TreePath treePath = fileTree.getPathForLocation(x, y);\r\n        if (treePath == null)\r\n            return;\r\n        \r\n        if (!fileTree.isDeleteEnabled())\r\n            return;\r\n        \r\n        JPopupMenu popup = new JPopupMenu();\r\n        \r\n        popup.add(new DeleteFileAction(treePath));\r\n        popup.show(fileTree, x, y);\r\n    }\r\n    \r\n    /**\r\n     * the &lt;code&gt;FileTree&lt;/code&gt; to listen on\r\n     */\r\n    private FileTree fileTree;\r\n    \r\n    /**\r\n     * feature not implemented\r\n     */\r\n    private class RenameAction extends AbstractAction {\r\n\r\n        public RenameAction(TreePath treePath) {\r\n            this.treePath = treePath;\r\n            \r\n            putValue(Action.NAME, &quot;Rename&quot;);\r\n            \r\n            DefaultMutableTreeNode treeNode = (DefaultMutableTreeNode)treePath.getLastPathComponent();\r\n            fileTreeNode = (FileTreeNode)treeNode.getUserObject();\r\n            if (!fileTreeNode.file.canWrite())\r\n                setEnabled(false);\r\n        }\r\n        \r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n            fileTree.startEditingAtPath(treePath);\r\n        }\r\n        \r\n        private TreePath treePath;\r\n        private FileTreeNode fileTreeNode;\r\n    }\r\n    \r\n    private class DeleteFileAction extends AbstractAction {\r\n        /**\r\n         * constructor for the action to delete a file or directory\r\n         * @param treePath the treepath of the node to act on\r\n         */\r\n        public DeleteFileAction(TreePath treePath) {\r\n            this.treePath = treePath;\r\n            \r\n            if (Constants.isOSX)\r\n                putValue(Action.NAME, &quot;Move to Trash&quot;);\r\n            else\r\n            {\r\n                putValue(Action.NAME, &quot;Delete&quot;);\r\n                putValue(Action.MNEMONIC_KEY, KeyEvent.VK_D);\r\n            }\r\n            \r\n            DefaultMutableTreeNode treeNode = (DefaultMutableTreeNode)treePath.getLastPathComponent();\r\n            fileTreeNode = (FileTreeNode)treeNode.getUserObject();\r\n            if (!fileTreeNode.file.canWrite())\r\n                setEnabled(false);\r\n        }\r\n\r\n        /**\r\n         * the action called when the user wants to delete a file or directory\r\n         * @param e information about the event that caused this method to be called\r\n         */\r\n        public void actionPerformed(ActionEvent e) {\r\n            int choice = JOptionPane.showConfirmDialog(fileTree.getRootPane(),\r\n                    &quot;Are you sure you want to delete &#39;&quot; + fileTreeNode.file.getName()+&quot;&#39;?&quot;,\r\n                    &quot;Confirm delete&quot;,\r\n                    JOptionPane.YES_NO_OPTION,\r\n                    JOptionPane.QUESTION_MESSAGE);\r\n            if (choice == 1)\r\n                return; // they selected no\r\n            \r\n            boolean success = false;\r\n            if (fileTreeNode.file.isDirectory())\r\n                success = deleteDirectory(fileTreeNode.file);\r\n            else\r\n                success = fileTreeNode.file.delete();\r\n            \r\n            if (success)\r\n            {\r\n                fileTree.getFileTreeModel().removeNodeFromParent(\r\n                        (DefaultMutableTreeNode)treePath.getLastPathComponent());\r\n            }\r\n                \r\n        }\r\n        \r\n        /**\r\n         * deletes a directory and its content\r\n         * @param dir The directory to delete\r\n         * @return true on success, false otherwise\r\n         */\r\n        private boolean deleteDirectory(File dir) {\r\n            if (dir == null || !dir.exists() || !dir.isDirectory())\r\n                return false;\r\n            \r\n            boolean success = true;\r\n            File [] list = dir.listFiles();\r\n            for (File file:list)\r\n            {\r\n                if (file.isDirectory())\r\n                {\r\n                    if (!deleteDirectory(file))\r\n                        success = false;\r\n                }\r\n                else\r\n                {\r\n                    if (!file.delete())\r\n                        success = false;\r\n                }\r\n            }\r\n            if (!dir.delete())  // finally delete the actual directory\r\n                success = false;\r\n            \r\n            return success;\r\n        }\r\n        \r\n        /**\r\n         * The &lt;code&gt;TreePath&lt;/code&gt; to the node that will be deleted.\r\n         */\r\n        private TreePath treePath;\r\n        /**\r\n         * The &lt;code&gt;FileTreeNode&lt;/code&gt; stored inside the &lt;code&gt;DefaultMutableTreeNode&lt;/code&gt;&#39;s\r\n         * user object\r\n         */\r\n        private FileTreeNode fileTreeNode;\r\n    }\r\n}\r\n\r\n```\r\nFileTreeNode.java\r\n\r\n```\r\npackage jtree;\r\n\r\nimport java.io.File;\r\n\r\npublic class FileTreeNode {\r\n    \r\n    /**\r\n     * Creates a new instance of FileTreeNode\r\n     * @param file The &lt;code&gt;File&lt;/code&gt; that will be represented by this class.\r\n     */\r\n    public FileTreeNode(File file) {\r\n        if (file == null)\r\n            throw new IllegalArgumentException(&quot;Null file not allowed&quot;);\r\n\r\n        this.file = file;\r\n    }\r\n\r\n    /**\r\n     * returns the representation of this &lt;code&gt;File&lt;/code&gt; best suited for use in\r\n     * the &lt;code&gt;FileTree&lt;/code&gt;.\r\n     * @return the representation of this &lt;code&gt;File&lt;/code&gt; as a &lt;code&gt;String&lt;/code&gt;\r\n     */\r\n    public String toString() {\r\n        String name = file.getName();\r\n        if (!Constants.isWindows)\r\n            return name;\r\n\r\n        if (name.length() == 0)\r\n            return file.getPath();\r\n\r\n        if (Constants.isVista)\r\n        {\r\n            if (name.equals(WINDOWS_MYCOMPUTER)){\r\n                return &quot;Computer&quot;;\r\n            }\r\n            \r\n            if (&quot;::{F02C1A0D-BE21-4350-88B0-7367FC96EF3C}&quot;.equals(name)){\r\n                return &quot;My Network&quot;;\r\n            }\r\n                \r\n            return name;\r\n        }\r\n        \r\n        if (name.equals(WINDOWS_MYCOMPUTER)){\r\n            return &quot;This PC&quot;;\r\n        }\r\n        \r\n        if (&quot;::{F02C1A0D-BE21-4350-88B0-7367FC96EF3C}&quot;.equals(name)){\r\n            return &quot;Network&quot;;\r\n        }\r\n            \r\n        if (&quot;::{031E4825-7B94-4DC3-B131-E946B44C8DD5}&quot;.equals(name)){\r\n            return &quot;Library-MS&quot;;\r\n        }\r\n\r\n        return name;\r\n    }\r\n\r\n    /**\r\n     * the object being represented\r\n     */\r\n    public File file;\r\n    /**\r\n     * the hex string that represents &#39;My Computer&#39; in Windows\r\n     */\r\n    public static final String WINDOWS_MYCOMPUTER = &quot;::{20D04FE0-3AEA-1069-A2D8-08002B30309D}&quot;;\r\n    /**\r\n     * the hex string that represents &#39;My Network Places&#39; in Win2k and XP\r\n     */\r\n    public static final String WINDOWS_MYNETWORKPLACES = &quot;::{208D2C60-3AEA-1069-A2D7-08002B30309D}&quot;;\r\n    /**\r\n     * the hex string that represents &#39;Network&#39; in Vista\r\n     */\r\n    public static final String WINDOWSVISTA_NETWORK = &quot;::{F02C1A0D-BE21-4350-88B0-7367FC96EF3C}&quot;;\r\n    \r\n}\r\n\r\n```\r\nMain.java\r\n\r\n```\r\npackage jtree;\r\n\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Container;\r\nimport java.awt.event.WindowAdapter;\r\nimport java.awt.event.WindowEvent;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JScrollPane;\r\n\r\npublic class Main {\r\n    \r\n    /** Creates a new instance of Main */\r\n    public Main() {\r\n        \r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        JFrame jframe = new JFrame();\r\n        jframe.addWindowListener(new WindowAdapter() {\r\n            public void windowClosing(WindowEvent e) {\r\n                System.exit(0);\r\n            }\r\n        });\r\n        Container container = jframe.getContentPane();\r\n        container.setLayout(new BorderLayout());\r\n        FileTree fileTree = new FileTree();\r\n        fileTree.setShowHiddenFiles(false);\r\n        fileTree.setDeleteEnabled(true);\r\n        JScrollPane scrollPane = new JScrollPane(fileTree);\r\n        container.add(scrollPane, BorderLayout.CENTER);\r\n        jframe.setSize(300, 450);\r\n        jframe.setLocationByPlatform(true);\r\n        jframe.setVisible(true);   \r\n    }\r\n    \r\n}\r\n\r\n```\r\n\r\nI&#39;ve been trying to implement the Timer function for 3 or 5 seconds to update the JTree using the updateUI(), repaint(), revalidate() methods including the DefaultTreeModel. I&#39;m still unable to keep the file JTree updated whenever a file is renamed, moved or deleted. Can someone please help me rectify this issue and guide me where to place the code snippet if written by you?","title":"How do I refresh/update the Custom fileTree Swing component by itself during file changes?","body":"<p>I found this Custom fileTree Component from github to implement it into my project, I'm using this JTree component to access and display file information like file name, file path, file type in a JTable. The project is about File Tagging, I've implemented all necessary features related to that! The only thing remaining is an issue that I need to rectify in fileTree Component</p>\n<p>Here is the code of all the java classes:</p>\n<p>Constants.java</p>\n<pre><code>package jtree;\npublic class Constants {\n    /**\n     * the name of the OS as given by the Java system property &quot;os.name&quot;\n     */\n    public final static String osname = System.getProperty(&quot;os.name&quot;);\n    /**\n     * true if the program is running on OS X\n     */\n    public final static boolean isOSX = osname.equalsIgnoreCase(&quot;Mac OS X&quot;);\n    /**\n     * true if the program is running on Linux\n     */\n    public final static boolean isLinux = osname.equalsIgnoreCase(&quot;Linux&quot;);\n    /**\n     * true if the program is running on Solaris\n     */\n    public final static boolean isSolaris = osname.equalsIgnoreCase(&quot;SunOS&quot;);\n    /**\n     * true if the program is running on Windows Vista\n     */\n    public final static boolean isVista = osname.equalsIgnoreCase(&quot;Windows Vista&quot;);\n    /**\n     * true if the program is running on Windows\n     */\n    public final static boolean isWindows = !(isOSX || isLinux || isSolaris);\n}\n</code></pre>\n<p>FileTree.java</p>\n<pre><code>package jtree;\n\nimport java.awt.Component;\nimport java.io.File;\nimport java.util.Arrays;\nimport java.util.Comparator;\nimport javax.swing.JFileChooser;\nimport javax.swing.JTree;\nimport javax.swing.event.TreeExpansionEvent;\nimport javax.swing.event.TreeExpansionListener;\nimport javax.swing.filechooser.FileSystemView;\nimport javax.swing.tree.DefaultMutableTreeNode;\nimport javax.swing.tree.DefaultTreeCellRenderer;\nimport javax.swing.tree.DefaultTreeModel;\nimport javax.swing.tree.TreePath;\n\npublic class FileTree extends JTree {\n    \n    /** Creates a new instance of FileTree */\n    public FileTree() {\n        super(new DefaultTreeModel(new DefaultMutableTreeNode(&quot;root&quot;)));\n        fileTreeModel = (DefaultTreeModel)treeModel;\n        showHiddenFiles = false;\n        showFiles = true;\n        navigateOSXApps = false;\n        \n        initComponents();\n        initListeners();\n    }\n    \n    /**\n     * returns the data model used by the FileTree. This method returns the same value\n     * as &lt;code&gt;getModel()&lt;/code&gt;, with the only exception being that this method\n     * returns a &lt;code&gt;DefaultTreeModel&lt;/code&gt;\n     * @return the data model used by the &lt;code&gt;FileTree&lt;/code&gt;\n     */\n    public DefaultTreeModel getFileTreeModel() {\n        return fileTreeModel;\n    }\n    \n    /**\n     * returns the selected file in the tree. If there are multiple selections in the\n     * tree, then it will return the &lt;code&gt;File&lt;/code&gt; associated with the value\n     * returned from &lt;code&gt;getSelectionPath&lt;/code&gt;. You can enable/disable mutliple\n     * selections by changing the mode of the &lt;code&gt;TreeSelectionModel&lt;/code&gt;.\n     * @return the selected file in the tree\n     */\n    public File getSelectedFile() {\n        TreePath treePath = getSelectionPath();\n        if (treePath == null)\n            return null;\n        \n        DefaultMutableTreeNode treeNode = (DefaultMutableTreeNode)treePath.getLastPathComponent();\n        FileTreeNode fileTreeNode = (FileTreeNode)treeNode.getUserObject();\n        return fileTreeNode.file;\n    }\n    \n    /**\n     * returns an array of the files selected in the tree. To enable/disable multiple\n     * selections, you can change the selection mode in the\n     * &lt;code&gt;TreeSelectionModel&lt;/code&gt;.\n     * @return an array of the files selected in the tree\n     */\n    public File[] getSelectedFiles() {\n        TreePath[] treePaths = getSelectionPaths();\n        if (treePaths == null)\n            return null;\n        \n        File [] files = new File[treePaths.length];\n        for (int i=0; i&lt;treePaths.length; i++)\n        {\n            DefaultMutableTreeNode treeNode = (DefaultMutableTreeNode)treePaths[i].getLastPathComponent();\n            FileTreeNode fileTreeNode = (FileTreeNode)treeNode.getUserObject();\n            files[i] = fileTreeNode.file;\n        }\n        \n        return files;\n    }\n    \n    /**\n     * initializes class members\n     */\n    private void initComponents() {\n        if (Constants.isWindows)\n            fsv = FileSystemView.getFileSystemView();\n        \n        initRoot();\n        setCellRenderer(new FileTreeCellRenderer());\n        setEditable(false);\n    }\n    \n    /**\n     * sets up the listeners for the tree\n     */\n    private void initListeners() {\n        addTreeExpansionListener(new TreeExpansionListener() {\n            public void treeCollapsed(TreeExpansionEvent event) {\n            }\n            public void treeExpanded(TreeExpansionEvent event) {\n                TreePath path = event.getPath();\n                DefaultMutableTreeNode treeNode = (DefaultMutableTreeNode) path.getLastPathComponent();\n                treeNode.removeAllChildren();\n                populateSubTree(treeNode);\n                fileTreeModel.nodeStructureChanged(treeNode);\n            }\n        });\n        \n        FileTreeListener ftl = new FileTreeListener(this);\n        addMouseListener(ftl);\n    }\n    \n    /**\n     * initializes the tree model\n     */\n    private void initRoot() {\n        File[] roots = null;\n        if (Constants.isWindows)\n            roots = fsv.getRoots();\n        else\n            roots = File.listRoots();\n        \n        if (roots.length == 1)\n        {\n            rootNode = new DefaultMutableTreeNode(new FileTreeNode(roots[0]));\n            populateSubTree(rootNode);\n        }\n        else if (roots.length &gt; 1)\n        {\n            rootNode = new DefaultMutableTreeNode(&quot;Computer&quot;);\n            for (File root:roots)\n                rootNode.add(new DefaultMutableTreeNode(root));\n        }\n        else\n            rootNode = new DefaultMutableTreeNode(&quot;Error&quot;);\n        \n        fileTreeModel.setRoot(rootNode);\n    }\n    \n    /**\n     * returns true if deleting is allowed in the tree, false otherwise. The default\n     * value is false.\n     * @return true if deleting is allowed in the tree, false otherwise\n     */\n    public boolean isDeleteEnabled() {\n        return allowDelete;\n    }\n    \n    /**\n     * returns true if the user can navigate into OS X application bundles. false\n     * otherwise\n     * @return true if the user can navigate into OS X application bundles\n     */\n    public boolean isNavigateOSXApps() {\n        return navigateOSXApps;\n    }\n    \n    /**\n     * returns true if files will be shown in the tree, false otherwise. Default value\n     * is true.\n     * @return true if files will be shown in the tree, false otherwise\n     */\n    public boolean isShowFiles() {\n        return showFiles;\n    }\n    \n    /**\n     * returns true if the tree will show hidden files, false otherwise. Default value\n     * is false.\n     * @return true if the tree will show hidden files, false otherwise\n     */\n    public boolean isShowHiddenFiles() {\n        return showHiddenFiles;\n    }\n    \n    /**\n     * called whenever a node is expanded\n     * @param node the node to expand\n     */\n    private void populateSubTree(DefaultMutableTreeNode node) {\n        Object userObject = node.getUserObject();\n        if (userObject instanceof FileTreeNode)\n        {\n            FileTreeNode fileTreeNode = (FileTreeNode)userObject;\n            File []files = fileTreeNode.file.listFiles();\n            \n            // Windows displays directories before regular files, so we're going\n            // to sort the list of files such that directories appear first\n            if (Constants.isWindows)\n            {\n                Arrays.sort(files, new Comparator&lt;File&gt;() {\n                    public int compare(File f1, File f2) {\n                        boolean f1IsDir = f1.isDirectory();\n                        boolean f2IsDir = f2.isDirectory();\n                        \n                        if (f1IsDir == f2IsDir)\n                            return f1.compareTo(f2);\n                        if (f1IsDir &amp;&amp; !f2IsDir)\n                            return -1;\n                        \n                        // here we assume that f1 is a file, and f2 is a directory\n                        return 1;\n                    }\n                });\n            }\n            else\n                Arrays.sort(files);\n            \n            for (File file:files)\n            {\n                if (file.isFile() &amp;&amp; !showFiles)\n                    continue;\n                \n                if (!showHiddenFiles &amp;&amp; file.isHidden())\n                    continue;\n                \n                FileTreeNode subFile = new FileTreeNode(file);\n                DefaultMutableTreeNode subNode = new DefaultMutableTreeNode(subFile);\n                if (file.isDirectory())\n                {\n                    if (!Constants.isOSX || navigateOSXApps || !file.getName().endsWith(&quot;.app&quot;))\n                        subNode.add(new DefaultMutableTreeNode(&quot;Fake&quot;));\n                }\n                node.add(subNode);\n            }\n        }\n    }\n    \n    /**\n     * Expands the tree to the &lt;code&gt;File&lt;/code&gt; specified by the argument, and selects\n     * it as well. If the &lt;code&gt;currFile&lt;/code&gt; does not exist or is null, calling this\n     * method will have no effect.\n     * @param currFile The file or directory to expand the tree to and select.\n     */\n    public void setCurrentFile(File currFile) {\n        if (currFile == null || !currFile.exists())\n            return;\n        \n        String path = currFile.getPath();\n        String [] pathParts = null;\n        if (Constants.isWindows)\n            pathParts = path.split(&quot;\\\\\\\\&quot;);\n        else\n            pathParts = path.split(File.separator);\n        \n        if (Constants.isWindows)\n        {\n            int childCount = rootNode.getChildCount();\n            DefaultMutableTreeNode myComputer = null;\n            for (int i=0; i&lt;childCount; i++)\n            {\n                FileTreeNode fileTreeNode = \n                        (FileTreeNode)((DefaultMutableTreeNode)rootNode.getChildAt(i)).getUserObject();\n                if (fileTreeNode.file.getPath().equals(FileTreeNode.WINDOWS_MYCOMPUTER))\n                {\n                    myComputer = (DefaultMutableTreeNode)rootNode.getChildAt(i);\n                    TreePath treePath = new TreePath(myComputer.getPath());\n                    expandPath(treePath);\n                    break;\n                }\n            }\n            \n            DefaultMutableTreeNode currNode = myComputer;\n            for (String part:pathParts)\n            {\n                childCount = currNode.getChildCount();\n                for (int i=0; i&lt;childCount; i++)\n                {\n                    DefaultMutableTreeNode childNode = (DefaultMutableTreeNode)currNode.getChildAt(i);\n                    FileTreeNode fileTreeNode = (FileTreeNode)childNode.getUserObject();\n                    String pathName = fileTreeNode.file.getName();\n                    if (pathName.length() == 0)\n                        pathName = fileTreeNode.file.getPath().substring(0, 2);\n                    if (pathName.equals(part))\n                    {\n                        TreePath treePath = new TreePath(childNode.getPath());\n                        expandPath(treePath);\n                        selectionModel.setSelectionPath(treePath);\n                        currNode = childNode;\n                        break;\n                    }\n                }\n            }\n            \n        }\n        else\n        {\n            DefaultMutableTreeNode currNode = rootNode;\n            for (String part:pathParts)\n            {\n                int childCount = currNode.getChildCount();\n                for (int i=0; i&lt;childCount; i++)\n                {\n                    DefaultMutableTreeNode childNode = (DefaultMutableTreeNode)currNode.getChildAt(i);\n                    FileTreeNode fileTreeNode = (FileTreeNode)childNode.getUserObject();\n                    if (fileTreeNode.file.getName().equals(part))\n                    {\n                        TreePath treePath = new TreePath(childNode.getPath());\n                        expandPath(treePath);\n                        selectionModel.setSelectionPath(treePath);\n                        currNode = childNode;\n                        break;\n                    }\n                }\n            }\n        }\n    }\n    \n    /**\n     * Allow or disallow the user to delete files from the tree view.\n     * @param allowDelete &lt;code&gt;true&lt;/code&gt; allows deleting of files/directories. &lt;code&gt;false&lt;/code&gt; does\n     * not.\n     */\n    public void setDeleteEnabled(boolean allowDelete) {\n        this.allowDelete = allowDelete;\n    }\n    \n    /**\n     * Toggle the showing of files in the tree (as opposed to just directories)\n     * @param showFiles &lt;code&gt;true&lt;/code&gt; shows files in the tree. &lt;code&gt;false&lt;/code&gt; does not.\n     */\n    public void setShowFiles(boolean showFiles) {\n        if (this.showFiles != showFiles)\n        {\n            this.showFiles = showFiles;\n            initRoot();\n        }\n    }\n    \n    /**\n     * Allows or disallows the showing of hidden files and directories in the tree.\n     * @param showHiddenFiles &lt;code&gt;true&lt;/code&gt; shows hidden files. &lt;code&gt;false&lt;/code&gt; does not.\n     */\n    public void setShowHiddenFiles(boolean showHiddenFiles) {\n        if (showHiddenFiles != this.showHiddenFiles)\n        {\n            this.showHiddenFiles = showHiddenFiles;\n            initRoot();\n        }\n    }\n    \n    /**\n     * sets whether the user can navigate into OS X application bundles (.app). The\n     * default value is &lt;code&gt;false&lt;/code&gt;\n     * @param navigateOSXApps if true, users will be able to navigate into OS X application bundles. set it\n     * to false to disallow navigating bundles.\n     */\n    public void setNavigateOSXApps(boolean navigateOSXApps) {\n        this.navigateOSXApps = navigateOSXApps;\n    }\n    \n    /**\n     * the root node of the &lt;code&gt;FileTree&lt;/code&gt;\n     */\n    protected DefaultMutableTreeNode rootNode;\n    /**\n     * the &lt;code&gt;TreeModel&lt;/code&gt; for this object. The same value as the &lt;code&gt;JTree&lt;/code&gt;\n     * treeModel member.\n     */\n    protected DefaultTreeModel fileTreeModel;\n    /**\n     * just a filesystemview used to get icons for nodes in Windows\n     */\n    protected FileSystemView fsv;\n    /**\n     * whether or not to show hidden files\n     */\n    protected boolean showHiddenFiles;\n    /**\n     * whether or not to show files\n     */\n    protected boolean showFiles;\n    /**\n     * whether to allow deleting of files\n     */\n    protected boolean allowDelete;\n    /**\n     * allows/disallows navigating into OS X application bundles\n     */\n    protected boolean navigateOSXApps;\n    \n    /**\n     * A subclass of DefaultTreeCellRenderer that is responsible for rendering the\n     * nodes and their icons\n     */\n    private class FileTreeCellRenderer extends DefaultTreeCellRenderer {\n        /**\n         * just a simple constructor\n         */\n        public FileTreeCellRenderer() {\n            fileChooser = new JFileChooser();\n        }\n        \n        /**\n         * returns a renderered node for the tree\n         * @param tree the tree to render the node for\n         * @param value the value of the node\n         * @param selected if the node is selected\n         * @param expanded if it's expanded\n         * @param leaf if its a leaf or not\n         * @param row the row number\n         * @param hasFocus if it has focus\n         * @return a renderered node for the tree\n         */\n        public Component getTreeCellRendererComponent(JTree tree, Object value, boolean selected, boolean expanded, boolean leaf, int row, boolean hasFocus) {\n            super.getTreeCellRendererComponent(tree, value, selected, expanded, leaf, row, hasFocus);\n            \n            Object userObject = ((DefaultMutableTreeNode)value).getUserObject();\n            if (userObject instanceof FileTreeNode)\n            {\n                FileTreeNode fileTreeNode = (FileTreeNode)userObject;\n                \n                if (!Constants.isWindows)\n                {\n                    try { setIcon(fileChooser.getIcon(fileTreeNode.file)); }\n                    catch (Exception e) { e.printStackTrace(); }\n                }\n                else\n                {\n                    try { setIcon(fsv.getSystemIcon(fileTreeNode.file)); }\n                    catch (Exception e) { e.printStackTrace(); }\n                }\n            }\n\n            return this;\n        }\n        \n        /**\n         * used to obtain icons for non-Windows OSes\n         */\n        private JFileChooser fileChooser;\n    }\n}\n\n</code></pre>\n<p>FileTreeListener.Java</p>\n<pre><code>\npackage jtree;\n\nimport java.awt.event.ActionEvent;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.io.File;\nimport javax.swing.AbstractAction;\nimport javax.swing.Action;\nimport javax.swing.JOptionPane;\nimport javax.swing.JPopupMenu;\nimport javax.swing.tree.DefaultMutableTreeNode;\nimport javax.swing.tree.TreePath;\n\npublic class FileTreeListener extends MouseAdapter {\n    \n    /**\n     * Creates a new instance of FileTreeListener\n     * @param fileTree the &lt;code&gt;FileTree&lt;/code&gt; to listen for\n     */\n    public FileTreeListener(FileTree fileTree) {\n        if (fileTree == null)\n            throw new IllegalArgumentException(&quot;Null argument not allowed&quot;);\n        \n        this.fileTree = fileTree;\n    }\n\n    /**\n     * Listens for right-clicks on the tree.\n     * @param e contains information about the mouse click event\n     */\n    public void mousePressed(MouseEvent e) {\n        if (e.getButton() == MouseEvent.BUTTON3)\n            rightClick(e.getX(), e.getY());\n    }\n    \n    /**\n     * \n     * @param x the x coordinate of the mouse when it was pressed\n     * @param y the y coordinate of the mouse when it was pressed\n     */\n    private void rightClick(int x, int y) {\n        TreePath treePath = fileTree.getPathForLocation(x, y);\n        if (treePath == null)\n            return;\n        \n        if (!fileTree.isDeleteEnabled())\n            return;\n        \n        JPopupMenu popup = new JPopupMenu();\n        \n        popup.add(new DeleteFileAction(treePath));\n        popup.show(fileTree, x, y);\n    }\n    \n    /**\n     * the &lt;code&gt;FileTree&lt;/code&gt; to listen on\n     */\n    private FileTree fileTree;\n    \n    /**\n     * feature not implemented\n     */\n    private class RenameAction extends AbstractAction {\n\n        public RenameAction(TreePath treePath) {\n            this.treePath = treePath;\n            \n            putValue(Action.NAME, &quot;Rename&quot;);\n            \n            DefaultMutableTreeNode treeNode = (DefaultMutableTreeNode)treePath.getLastPathComponent();\n            fileTreeNode = (FileTreeNode)treeNode.getUserObject();\n            if (!fileTreeNode.file.canWrite())\n                setEnabled(false);\n        }\n        \n        @Override\n        public void actionPerformed(ActionEvent e) {\n            fileTree.startEditingAtPath(treePath);\n        }\n        \n        private TreePath treePath;\n        private FileTreeNode fileTreeNode;\n    }\n    \n    private class DeleteFileAction extends AbstractAction {\n        /**\n         * constructor for the action to delete a file or directory\n         * @param treePath the treepath of the node to act on\n         */\n        public DeleteFileAction(TreePath treePath) {\n            this.treePath = treePath;\n            \n            if (Constants.isOSX)\n                putValue(Action.NAME, &quot;Move to Trash&quot;);\n            else\n            {\n                putValue(Action.NAME, &quot;Delete&quot;);\n                putValue(Action.MNEMONIC_KEY, KeyEvent.VK_D);\n            }\n            \n            DefaultMutableTreeNode treeNode = (DefaultMutableTreeNode)treePath.getLastPathComponent();\n            fileTreeNode = (FileTreeNode)treeNode.getUserObject();\n            if (!fileTreeNode.file.canWrite())\n                setEnabled(false);\n        }\n\n        /**\n         * the action called when the user wants to delete a file or directory\n         * @param e information about the event that caused this method to be called\n         */\n        public void actionPerformed(ActionEvent e) {\n            int choice = JOptionPane.showConfirmDialog(fileTree.getRootPane(),\n                    &quot;Are you sure you want to delete '&quot; + fileTreeNode.file.getName()+&quot;'?&quot;,\n                    &quot;Confirm delete&quot;,\n                    JOptionPane.YES_NO_OPTION,\n                    JOptionPane.QUESTION_MESSAGE);\n            if (choice == 1)\n                return; // they selected no\n            \n            boolean success = false;\n            if (fileTreeNode.file.isDirectory())\n                success = deleteDirectory(fileTreeNode.file);\n            else\n                success = fileTreeNode.file.delete();\n            \n            if (success)\n            {\n                fileTree.getFileTreeModel().removeNodeFromParent(\n                        (DefaultMutableTreeNode)treePath.getLastPathComponent());\n            }\n                \n        }\n        \n        /**\n         * deletes a directory and its content\n         * @param dir The directory to delete\n         * @return true on success, false otherwise\n         */\n        private boolean deleteDirectory(File dir) {\n            if (dir == null || !dir.exists() || !dir.isDirectory())\n                return false;\n            \n            boolean success = true;\n            File [] list = dir.listFiles();\n            for (File file:list)\n            {\n                if (file.isDirectory())\n                {\n                    if (!deleteDirectory(file))\n                        success = false;\n                }\n                else\n                {\n                    if (!file.delete())\n                        success = false;\n                }\n            }\n            if (!dir.delete())  // finally delete the actual directory\n                success = false;\n            \n            return success;\n        }\n        \n        /**\n         * The &lt;code&gt;TreePath&lt;/code&gt; to the node that will be deleted.\n         */\n        private TreePath treePath;\n        /**\n         * The &lt;code&gt;FileTreeNode&lt;/code&gt; stored inside the &lt;code&gt;DefaultMutableTreeNode&lt;/code&gt;'s\n         * user object\n         */\n        private FileTreeNode fileTreeNode;\n    }\n}\n\n</code></pre>\n<p>FileTreeNode.java</p>\n<pre><code>package jtree;\n\nimport java.io.File;\n\npublic class FileTreeNode {\n    \n    /**\n     * Creates a new instance of FileTreeNode\n     * @param file The &lt;code&gt;File&lt;/code&gt; that will be represented by this class.\n     */\n    public FileTreeNode(File file) {\n        if (file == null)\n            throw new IllegalArgumentException(&quot;Null file not allowed&quot;);\n\n        this.file = file;\n    }\n\n    /**\n     * returns the representation of this &lt;code&gt;File&lt;/code&gt; best suited for use in\n     * the &lt;code&gt;FileTree&lt;/code&gt;.\n     * @return the representation of this &lt;code&gt;File&lt;/code&gt; as a &lt;code&gt;String&lt;/code&gt;\n     */\n    public String toString() {\n        String name = file.getName();\n        if (!Constants.isWindows)\n            return name;\n\n        if (name.length() == 0)\n            return file.getPath();\n\n        if (Constants.isVista)\n        {\n            if (name.equals(WINDOWS_MYCOMPUTER)){\n                return &quot;Computer&quot;;\n            }\n            \n            if (&quot;::{F02C1A0D-BE21-4350-88B0-7367FC96EF3C}&quot;.equals(name)){\n                return &quot;My Network&quot;;\n            }\n                \n            return name;\n        }\n        \n        if (name.equals(WINDOWS_MYCOMPUTER)){\n            return &quot;This PC&quot;;\n        }\n        \n        if (&quot;::{F02C1A0D-BE21-4350-88B0-7367FC96EF3C}&quot;.equals(name)){\n            return &quot;Network&quot;;\n        }\n            \n        if (&quot;::{031E4825-7B94-4DC3-B131-E946B44C8DD5}&quot;.equals(name)){\n            return &quot;Library-MS&quot;;\n        }\n\n        return name;\n    }\n\n    /**\n     * the object being represented\n     */\n    public File file;\n    /**\n     * the hex string that represents 'My Computer' in Windows\n     */\n    public static final String WINDOWS_MYCOMPUTER = &quot;::{20D04FE0-3AEA-1069-A2D8-08002B30309D}&quot;;\n    /**\n     * the hex string that represents 'My Network Places' in Win2k and XP\n     */\n    public static final String WINDOWS_MYNETWORKPLACES = &quot;::{208D2C60-3AEA-1069-A2D7-08002B30309D}&quot;;\n    /**\n     * the hex string that represents 'Network' in Vista\n     */\n    public static final String WINDOWSVISTA_NETWORK = &quot;::{F02C1A0D-BE21-4350-88B0-7367FC96EF3C}&quot;;\n    \n}\n\n</code></pre>\n<p>Main.java</p>\n<pre><code>package jtree;\n\nimport java.awt.BorderLayout;\nimport java.awt.Container;\nimport java.awt.event.WindowAdapter;\nimport java.awt.event.WindowEvent;\nimport javax.swing.JFrame;\nimport javax.swing.JScrollPane;\n\npublic class Main {\n    \n    /** Creates a new instance of Main */\n    public Main() {\n        \n    }\n\n    public static void main(String[] args) {\n        JFrame jframe = new JFrame();\n        jframe.addWindowListener(new WindowAdapter() {\n            public void windowClosing(WindowEvent e) {\n                System.exit(0);\n            }\n        });\n        Container container = jframe.getContentPane();\n        container.setLayout(new BorderLayout());\n        FileTree fileTree = new FileTree();\n        fileTree.setShowHiddenFiles(false);\n        fileTree.setDeleteEnabled(true);\n        JScrollPane scrollPane = new JScrollPane(fileTree);\n        container.add(scrollPane, BorderLayout.CENTER);\n        jframe.setSize(300, 450);\n        jframe.setLocationByPlatform(true);\n        jframe.setVisible(true);   \n    }\n    \n}\n\n</code></pre>\n<p>I've been trying to implement the Timer function for 3 or 5 seconds to update the JTree using the updateUI(), repaint(), revalidate() methods including the DefaultTreeModel. I'm still unable to keep the file JTree updated whenever a file is renamed, moved or deleted. Can someone please help me rectify this issue and guide me where to place the code snippet if written by you?</p>\n"},{"tags":["java","json","spring","jackson"],"comments":[{"owner":{"account_id":24430255,"reputation":88,"user_id":18355295,"display_name":"Stefan Billmaier"},"score":0,"creation_date":1676538485,"post_id":75469632,"comment_id":133158083,"body_markdown":"Your interface `Value` does not define any methods which are implemented by `RangeValue` and `FileValue`. So what is the purpose of this interface?","body":"Your interface <code>Value</code> does not define any methods which are implemented by <code>RangeValue</code> and <code>FileValue</code>. So what is the purpose of this interface?"},{"owner":{"account_id":6446678,"reputation":75,"user_id":4994983,"display_name":"mdanish98"},"score":0,"creation_date":1676539174,"post_id":75469632,"comment_id":133158290,"body_markdown":"You are right here, but there will be a method getAttributes() which should be implemented by RangeValue and FileValue. \nCurrently, I need help with how can I solve my problem here.","body":"You are right here, but there will be a method getAttributes() which should be implemented by RangeValue and FileValue.  Currently, I need help with how can I solve my problem here."}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676543241,"creation_date":1676540650,"answer_id":75470413,"question_id":75469632,"body_markdown":"**Option 1:** custom deserializer. Algorithm can be as follows:\r\n\r\n 1. Parse to [JsonNode][1].\r\n 2. Use the properties in the node to find the correct class to deserialize into.\r\n 3. Convert the node to instance of the actual class.\r\n\r\nSimplified example:\r\n```\r\npublic class ValueDeserializer extends StdDeserializer&lt;Value&gt; {\r\n\r\n  public ValueDeserializer() {\r\n    super(Value.class);\r\n  }\r\n\r\n  @Override\r\n  public Value deserialize(JsonParser parser, DeserializationContext context) throws IOException {\r\n    JsonNode root = parser.readValueAsTree();\r\n    if (root instanceof ObjectNode objectNode) {\r\n      JsonNode valueNode = objectNode.get(&quot;somePropertyName&quot;);\r\n      Class&lt;? extends Value&gt; clazz = valueNode == null ? RangeValue.class : FileValue.class;\r\n      return context.readTreeAsValue(objectNode, clazz);\r\n    }\r\n    throw new JsonParseException(parser, &quot;not an object&quot;);\r\n    //handling the case, when json is json array\r\n    //or something else which can&#39;t be deserialized into object\r\n  }\r\n}\r\n```\r\nRegister the deserializer with [JsonDeserialize][2] on the interface:\r\n```\r\n@JsonDeserialize(using = ValueDeserializer.class)\r\n```\r\nPut the same annotation on `RangeValue` and `FileValue`, without specifying a deserializer, otherwise you will get `StackOverflowError`.\r\n\r\n**Option 2:** use [JsonTypeInfo.Id.DEDUCTION][3]\r\n```\r\n@JsonSubTypes({\r\n        @JsonSubTypes.Type(FileValue.class),\r\n        @JsonSubTypes.Type(RangeValue.class)\r\n})\r\n@JsonTypeInfo(use = JsonTypeInfo.Id.DEDUCTION)\r\npublic interface Value {\r\n}\r\n```\r\nJackson will deduce the correct class using the property names. Keep in mind exception will be thrown if it fails deduction.\r\n\r\n&gt; Means that no serialized typing-property is used. Types are deduced based on the fields available. Deduction is limited to the names of fields (not their values or, consequently, any nested descendants). Exceptions will be thrown if not enough unique information is present to select a single subtype.\r\nIf deduction is being used annotation properties visible, property and include are ignored.\r\n\r\n  [1]: https://fasterxml.github.io/jackson-databind/javadoc/2.13/com/fasterxml/jackson/databind/JsonNode.html\r\n  [2]: https://fasterxml.github.io/jackson-databind/javadoc/2.13/com/fasterxml/jackson/databind/annotation/JsonDeserialize.html\r\n  [3]: https://fasterxml.github.io/jackson-annotations/javadoc/2.13/com/fasterxml/jackson/annotation/JsonTypeInfo.Id.html#DEDUCTION","title":"How to auto detect concrete class based on the JSON provided using Spring/Jackson","body":"<p><strong>Option 1:</strong> custom deserializer. Algorithm can be as follows:</p>\n<ol>\n<li>Parse to <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.13/com/fasterxml/jackson/databind/JsonNode.html\" rel=\"nofollow noreferrer\">JsonNode</a>.</li>\n<li>Use the properties in the node to find the correct class to deserialize into.</li>\n<li>Convert the node to instance of the actual class.</li>\n</ol>\n<p>Simplified example:</p>\n<pre><code>public class ValueDeserializer extends StdDeserializer&lt;Value&gt; {\n\n  public ValueDeserializer() {\n    super(Value.class);\n  }\n\n  @Override\n  public Value deserialize(JsonParser parser, DeserializationContext context) throws IOException {\n    JsonNode root = parser.readValueAsTree();\n    if (root instanceof ObjectNode objectNode) {\n      JsonNode valueNode = objectNode.get(&quot;somePropertyName&quot;);\n      Class&lt;? extends Value&gt; clazz = valueNode == null ? RangeValue.class : FileValue.class;\n      return context.readTreeAsValue(objectNode, clazz);\n    }\n    throw new JsonParseException(parser, &quot;not an object&quot;);\n    //handling the case, when json is json array\n    //or something else which can't be deserialized into object\n  }\n}\n</code></pre>\n<p>Register the deserializer with <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.13/com/fasterxml/jackson/databind/annotation/JsonDeserialize.html\" rel=\"nofollow noreferrer\">JsonDeserialize</a> on the interface:</p>\n<pre><code>@JsonDeserialize(using = ValueDeserializer.class)\n</code></pre>\n<p>Put the same annotation on <code>RangeValue</code> and <code>FileValue</code>, without specifying a deserializer, otherwise you will get <code>StackOverflowError</code>.</p>\n<p><strong>Option 2:</strong> use <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.13/com/fasterxml/jackson/annotation/JsonTypeInfo.Id.html#DEDUCTION\" rel=\"nofollow noreferrer\">JsonTypeInfo.Id.DEDUCTION</a></p>\n<pre><code>@JsonSubTypes({\n        @JsonSubTypes.Type(FileValue.class),\n        @JsonSubTypes.Type(RangeValue.class)\n})\n@JsonTypeInfo(use = JsonTypeInfo.Id.DEDUCTION)\npublic interface Value {\n}\n</code></pre>\n<p>Jackson will deduce the correct class using the property names. Keep in mind exception will be thrown if it fails deduction.</p>\n<blockquote>\n<p>Means that no serialized typing-property is used. Types are deduced based on the fields available. Deduction is limited to the names of fields (not their values or, consequently, any nested descendants). Exceptions will be thrown if not enough unique information is present to select a single subtype.\nIf deduction is being used annotation properties visible, property and include are ignored.</p>\n</blockquote>\n"}],"owner":{"account_id":6446678,"reputation":75,"user_id":4994983,"display_name":"mdanish98"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75470413,"answer_count":1,"score":0,"last_activity_date":1676543241,"creation_date":1676536582,"question_id":75469632,"body_markdown":"I have 2 implementations of Value interface, RangeValue, FileValue.\r\nRangeValue looks like below:\r\n\r\n        public class RangeValue implements Value {\r\n    \tprivate int min;\r\n    \tprivate int max;\r\n    \t\r\n    \tpublic RangeValue(int min, int max) {\r\n    \t\tthis.min = min;\r\n    \t\tthis.max = max;\r\n    \t}\r\n    \t\r\n    \tpublic int getMin() {\r\n    \t\treturn min;\r\n    \t}\r\n    \t\r\n    \tpublic int getMax() {\r\n    \t\treturn max;\r\n    \t}\r\n    }\r\n\r\nFileValue looks like below:\r\n\r\n    public class FileValue implements Value {\r\n    \tprivate String contentType;\r\n    \tprivate String value;\r\n    \t\r\n    \tpublic FileValue(String contentType, String value) {\r\n    \t\tthis.contentType = contentType;\r\n    \t\tthis.value = value;\r\n    \t}\r\n    \r\n    \tpublic String getContentType() {\r\n    \t\treturn contentType;\r\n    \t}\r\n    \r\n    \tpublic String getValue() {\r\n    \t\treturn value;\r\n    \t}\r\n    }\r\n\r\nthe json for RangeValue looks like :\r\n\r\n        {\r\n    \t&quot;min&quot;: 200,\r\n    \t&quot;max&quot;: 300\r\n    }\r\n\r\n\r\nThe json for FileValue looks:\r\n\r\n    {\r\n    \t&quot;contentType&quot;: &quot;application/octet-stream&quot;,\r\n    \t&quot;value&quot;: &quot;fileValue&quot;\r\n    }\r\n\r\nNow I want the RequestType parameter for these json to be of type Value only, I can&#39;t change the JSON files i.e. the json would look like the same and user should use the same JSON in request body as stated above.\r\n\r\nI solved this by using @JsonTypeInfo &amp; @JsonSubTypes by adding extra attributes to the above JSON i.e. type but the spec doesn&#39;t allow me to add that.\r\n\r\nHow can the appropriate concrete class could be instantiated based on the JSON above without altering?","title":"How to auto detect concrete class based on the JSON provided using Spring/Jackson","body":"<p>I have 2 implementations of Value interface, RangeValue, FileValue.\nRangeValue looks like below:</p>\n<pre><code>    public class RangeValue implements Value {\n    private int min;\n    private int max;\n    \n    public RangeValue(int min, int max) {\n        this.min = min;\n        this.max = max;\n    }\n    \n    public int getMin() {\n        return min;\n    }\n    \n    public int getMax() {\n        return max;\n    }\n}\n</code></pre>\n<p>FileValue looks like below:</p>\n<pre><code>public class FileValue implements Value {\n    private String contentType;\n    private String value;\n    \n    public FileValue(String contentType, String value) {\n        this.contentType = contentType;\n        this.value = value;\n    }\n\n    public String getContentType() {\n        return contentType;\n    }\n\n    public String getValue() {\n        return value;\n    }\n}\n</code></pre>\n<p>the json for RangeValue looks like :</p>\n<pre><code>    {\n    &quot;min&quot;: 200,\n    &quot;max&quot;: 300\n}\n</code></pre>\n<p>The json for FileValue looks:</p>\n<pre><code>{\n    &quot;contentType&quot;: &quot;application/octet-stream&quot;,\n    &quot;value&quot;: &quot;fileValue&quot;\n}\n</code></pre>\n<p>Now I want the RequestType parameter for these json to be of type Value only, I can't change the JSON files i.e. the json would look like the same and user should use the same JSON in request body as stated above.</p>\n<p>I solved this by using @JsonTypeInfo &amp; @JsonSubTypes by adding extra attributes to the above JSON i.e. type but the spec doesn't allow me to add that.</p>\n<p>How can the appropriate concrete class could be instantiated based on the JSON above without altering?</p>\n"},{"tags":["java","spring-boot","spring-security"],"owner":{"account_id":27685078,"reputation":1,"user_id":21132990,"display_name":"fooo19"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676547879,"answer_count":0,"score":0,"last_activity_date":1676543145,"creation_date":1676543145,"question_id":75470876,"body_markdown":"In an application using Spring Security, when multiple users log in to the same account, I want to create a process that triggers an event to force everyone to log out.\r\n\r\nFor this purpose, I have implemented the following using sessionRegistry.\r\n\r\n\r\nConfiguration:\r\n```\r\n\t@Bean\r\n\tpublic SessionRegistry sessionRegistry() {         \r\n\t    return new SessionRegistryImpl();\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic HttpSessionEventPublisher httpSessionEventPublisher() {\r\n\t    return new HttpSessionEventPublisher();\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic ConcurrentSessionFilter concurrentFilter() {\r\n\t\treturn new ConcurrentSessionFilter(sessionRegistry());\r\n\t}\r\n\t\r\n        @Bean\r\n        public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n\t\thttp.formLogin(login -&gt; login\r\n\t\t\r\n\t\t//other settings\r\n\t\r\n\t    ).sessionManagement(session -&gt; session\r\n\t    \t\t.invalidSessionUrl(&quot;/login&quot;)\r\n\t    \t\t.sessionConcurrency((sessionConcurrency) -&gt; sessionConcurrency\r\n\t    \t\t\t.maximumSessions(-1)\r\n\t    \t\t\t.sessionRegistry(sessionRegistry())\r\n\t    \t\t)\r\n\t    );\r\n    \treturn http.build();\r\n\t}\r\n```\r\n\r\n\r\nController:\r\n\r\n```\r\n    @PostMapping(&quot;/multi-logout&quot;)\r\n    @ResponseBody\r\n    public void multiLogout(@AuthenticationPrincipal UserDetailsImpl userDetails) {\r\n    \t\r\n    \tString sessionId = session.getId();\r\n    \tOptional&lt;Object&gt; principal = Optional.ofNullable(SecurityContextHolder.getContext().getAuthentication())\r\n    \t\t        .map(authentication -&gt; authentication.getPrincipal()); \r\n    \t\r\n    \tif(principal.isPresent()) {\r\n           //retrieve sessions for all users logged into the same account\r\n    \t  List&lt;SessionInformation&gt; sessions = sessionRegistry.getAllSessions(principal.get(), false); \r\n    \t\tfor (SessionInformation anotherSession : sessions) {\r\n    \t\t\tif (sessionId.equals(anotherSession.getSessionId())) {\r\n    \t\t\t\tcontinue;\r\n    \t\t\t}\r\n    \t\t\tanotherSession.expireNow();\r\n    \t\t}\r\n    \t}\r\n    }\r\n}\r\n```\r\n\r\n\r\nI thought that if multiple users logged in to the same account, the same Principal object would be created, but this code does not retrieve all sessions because different objects would be created.\r\n\r\nI am conducting this case on localhost and checking from different browsers.\r\nHow do I destroy multiple sessions?","title":"How to destroy multiple sessions using SessionRegistry","body":"<p>In an application using Spring Security, when multiple users log in to the same account, I want to create a process that triggers an event to force everyone to log out.</p>\n<p>For this purpose, I have implemented the following using sessionRegistry.</p>\n<p>Configuration:</p>\n<pre><code>    @Bean\n    public SessionRegistry sessionRegistry() {         \n        return new SessionRegistryImpl();\n    }\n    \n    @Bean\n    public HttpSessionEventPublisher httpSessionEventPublisher() {\n        return new HttpSessionEventPublisher();\n    }\n    \n    @Bean\n    public ConcurrentSessionFilter concurrentFilter() {\n        return new ConcurrentSessionFilter(sessionRegistry());\n    }\n    \n        @Bean\n        public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http.formLogin(login -&gt; login\n        \n        //other settings\n    \n        ).sessionManagement(session -&gt; session\n                .invalidSessionUrl(&quot;/login&quot;)\n                .sessionConcurrency((sessionConcurrency) -&gt; sessionConcurrency\n                    .maximumSessions(-1)\n                    .sessionRegistry(sessionRegistry())\n                )\n        );\n        return http.build();\n    }\n</code></pre>\n<p>Controller:</p>\n<pre><code>    @PostMapping(&quot;/multi-logout&quot;)\n    @ResponseBody\n    public void multiLogout(@AuthenticationPrincipal UserDetailsImpl userDetails) {\n        \n        String sessionId = session.getId();\n        Optional&lt;Object&gt; principal = Optional.ofNullable(SecurityContextHolder.getContext().getAuthentication())\n                    .map(authentication -&gt; authentication.getPrincipal()); \n        \n        if(principal.isPresent()) {\n           //retrieve sessions for all users logged into the same account\n          List&lt;SessionInformation&gt; sessions = sessionRegistry.getAllSessions(principal.get(), false); \n            for (SessionInformation anotherSession : sessions) {\n                if (sessionId.equals(anotherSession.getSessionId())) {\n                    continue;\n                }\n                anotherSession.expireNow();\n            }\n        }\n    }\n}\n</code></pre>\n<p>I thought that if multiple users logged in to the same account, the same Principal object would be created, but this code does not retrieve all sessions because different objects would be created.</p>\n<p>I am conducting this case on localhost and checking from different browsers.\nHow do I destroy multiple sessions?</p>\n"},{"tags":["java","uri","validation"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1270716127,"post_id":2597653,"comment_id":2607155,"body_markdown":"&#39;I don&#39;t want to connect to the server to validate the URI is correct&#39;\n\nWhy not? It&#39;s the only conclusive way to decide.","body":"&#39;I don&#39;t want to connect to the server to validate the URI is correct&#39;  Why not? It&#39;s the only conclusive way to decide."},{"owner":{"account_id":1168998,"reputation":10625,"user_id":1146608,"accept_rate":88,"display_name":"Patrick M"},"score":2,"creation_date":1405710152,"post_id":2597653,"comment_id":38553347,"body_markdown":"@EJP disagree. IETF published [RFC 3986](http://www.ietf.org/rfc/rfc3986.txt) clearly establishes a rigorous syntax. For a URI to be valid, you only have to verify it against this syntax. Connecting to it verifies that a server is registered for and listening to that URI which **1.** is an entirely separate condition from the validity of the URI itself, **2.** makes your tests depend on an external resource, and **3.** is arguably implementation specific. HTTP clients can behave in any number of non-standard ways.","body":"@EJP disagree. IETF published <a href=\"http://www.ietf.org/rfc/rfc3986.txt\" rel=\"nofollow noreferrer\">RFC 3986</a> clearly establishes a rigorous syntax. For a URI to be valid, you only have to verify it against this syntax. Connecting to it verifies that a server is registered for and listening to that URI which <b>1.</b> is an entirely separate condition from the validity of the URI itself, <b>2.</b> makes your tests depend on an external resource, and <b>3.</b> is arguably implementation specific. HTTP clients can behave in any number of non-standard ways."}],"answers":[{"tags":[],"owner":{"account_id":6986,"reputation":61140,"user_id":11926,"accept_rate":96,"display_name":"Alfred"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1668718680,"creation_date":1270705441,"answer_id":2597811,"question_id":2597653,"body_markdown":"Code that will pass\r\n-------------------\r\n\r\n    public static boolean validateHTTP_URI(String uri) {\r\n        final URL url;\r\n        try {\r\n            url = new URL(uri);\r\n        } catch (Exception e1) {\r\n            return false;\r\n        }\r\n        return &quot;http&quot;.equals(url.getProtocol());\r\n    }\r\n\r\nMy next question is:\r\n--------------------\r\n\r\nI heard (Joshua Bloch I believe) somewhere that URL does not work properly if you don&#39;t have internet (anymore). But I don&#39;t think that&#39;s true (anymore)? Could someone please elaborate.\r\n","title":"How to validate that URI is valid HTTP URI?","body":"<h2>Code that will pass</h2>\n<pre><code>public static boolean validateHTTP_URI(String uri) {\n    final URL url;\n    try {\n        url = new URL(uri);\n    } catch (Exception e1) {\n        return false;\n    }\n    return &quot;http&quot;.equals(url.getProtocol());\n}\n</code></pre>\n<h2>My next question is:</h2>\n<p>I heard (Joshua Bloch I believe) somewhere that URL does not work properly if you don't have internet (anymore). But I don't think that's true (anymore)? Could someone please elaborate.</p>\n"},{"tags":[],"owner":{"account_id":13114,"reputation":7061,"user_id":26155,"accept_rate":87,"display_name":"Tom"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1282257989,"creation_date":1282257989,"answer_id":3526872,"question_id":2597653,"body_markdown":"You could try to use this regular expression:\r\n\r\n    (?:(?&lt;protocol&gt;http(?:s?)|ftp)(?:\\:\\/\\/)) (?:(?&lt;usrpwd&gt;\\w+\\:\\w+)(?:\\@))? (?&lt;domain&gt;[^/\\r\\n\\:]+)? (?&lt;port&gt;\\:\\d+)? (?&lt;path&gt;(?:\\/.*)*\\/)? (?&lt;filename&gt;.*?\\.(?&lt;ext&gt;\\w{2,4}))? (?&lt;qrystr&gt;\\??(?:\\w+\\=[^\\#]+)(?:\\&amp;?\\w+\\=\\w+)*)* (?&lt;bkmrk&gt;\\#.*)?\r\n\r\nThis will tell you if an URL is valid and it will give you the `protocol` value. I don&#39;t know Java, so I don&#39;t know what class you need to use to validate Regular Expressions.","title":"How to validate that URI is valid HTTP URI?","body":"<p>You could try to use this regular expression:</p>\n\n<pre><code>(?:(?&lt;protocol&gt;http(?:s?)|ftp)(?:\\:\\/\\/)) (?:(?&lt;usrpwd&gt;\\w+\\:\\w+)(?:\\@))? (?&lt;domain&gt;[^/\\r\\n\\:]+)? (?&lt;port&gt;\\:\\d+)? (?&lt;path&gt;(?:\\/.*)*\\/)? (?&lt;filename&gt;.*?\\.(?&lt;ext&gt;\\w{2,4}))? (?&lt;qrystr&gt;\\??(?:\\w+\\=[^\\#]+)(?:\\&amp;?\\w+\\=\\w+)*)* (?&lt;bkmrk&gt;\\#.*)?\n</code></pre>\n\n<p>This will tell you if an URL is valid and it will give you the <code>protocol</code> value. I don't know Java, so I don't know what class you need to use to validate Regular Expressions.</p>\n"}],"owner":{"account_id":6986,"reputation":61140,"user_id":11926,"accept_rate":96,"display_name":"Alfred"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30745,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":2597811,"answer_count":2,"score":13,"last_activity_date":1676543132,"creation_date":1270702358,"question_id":2597653,"body_markdown":"Solution\r\n--------\r\n\r\nOkay I found 1 solution on Stackoverflow after a little more searching but I hope to do it with no extra libraries. https://stackoverflow.com/questions/2230676/how-to-check-for-a-valid-url-in-java/2230770#2230770\r\n\r\nMy problem:\r\n-----------\r\n\r\nFirst of hopefully this is not a duplicate, but I could not find the right answer(right away). I would like to validate that an URI(http) is valid in Java. I came up with the following tests but I can&#39;t get them to pass. First I used `getPort()`, but then `http://www.google.nl` will return -1 on `getPort()`. This are the test I want to have passed\r\n\r\nTest:\r\n----\r\n\r\n    @Test\r\n    public void testURI_Isvalid() throws Exception {\r\n        assertFalse(HttpUtils.validateHTTP_URI(&quot;ttp://localhost:8080&quot;));\r\n        assertFalse(HttpUtils.validateHTTP_URI(&quot;ftp://localhost:8080&quot;));\r\n        assertFalse(HttpUtils.validateHTTP_URI(&quot;http://localhost:8a80&quot;));\r\n        assertTrue(HttpUtils.validateHTTP_URI(&quot;http://localhost:8080&quot;));\r\n        final String justWrong = \r\n            &quot;/schedule/get?uri=http://localhost:8080&amp;time=1000000&quot;;\r\n        assertFalse(HttpUtils.validateHTTP_URI(justWrong));\r\n        assertTrue(HttpUtils.validateHTTP_URI(&quot;http://www.google.nl&quot;));\r\n    }\r\n\r\nThis is what I came up with after I removed the `getPort()` part but this does not pass all my unit tests.\r\n\r\nProduction code:\r\n---------------\r\n\r\n      public static boolean validateHTTP_URI(String uri) {\r\n            final URI u;\r\n            try {\r\n                u = URI.create(uri);\r\n            } catch (Exception e1) {\r\n                return false;\r\n            }\r\n            return &quot;http&quot;.equals(u.getScheme());\r\n      }\r\n\r\nThis is the first test that is failing because I am no longer validating the getPort() part. Hopefully somebody can help me out. I think I am not using the right class to validate URLs?\r\n\r\nP.S:\r\n----\r\n\r\nI don&#39;t want to connect to the server to validate the URI is correct. At least not yet in this step. I only want to validate scheme.","title":"How to validate that URI is valid HTTP URI?","body":"<h2>Solution</h2>\n\n<p>Okay I found 1 solution on Stackoverflow after a little more searching but I hope to do it with no extra libraries. <a href=\"https://stackoverflow.com/questions/2230676/how-to-check-for-a-valid-url-in-java/2230770#2230770\">How to check for a valid URL in Java?</a></p>\n\n<h2>My problem:</h2>\n\n<p>First of hopefully this is not a duplicate, but I could not find the right answer(right away). I would like to validate that an URI(http) is valid in Java. I came up with the following tests but I can't get them to pass. First I used <code>getPort()</code>, but then <code>http://www.google.nl</code> will return -1 on <code>getPort()</code>. This are the test I want to have passed</p>\n\n<h2>Test:</h2>\n\n<pre><code>@Test\npublic void testURI_Isvalid() throws Exception {\n    assertFalse(HttpUtils.validateHTTP_URI(\"ttp://localhost:8080\"));\n    assertFalse(HttpUtils.validateHTTP_URI(\"ftp://localhost:8080\"));\n    assertFalse(HttpUtils.validateHTTP_URI(\"http://localhost:8a80\"));\n    assertTrue(HttpUtils.validateHTTP_URI(\"http://localhost:8080\"));\n    final String justWrong = \n        \"/schedule/get?uri=http://localhost:8080&amp;time=1000000\";\n    assertFalse(HttpUtils.validateHTTP_URI(justWrong));\n    assertTrue(HttpUtils.validateHTTP_URI(\"http://www.google.nl\"));\n}\n</code></pre>\n\n<p>This is what I came up with after I removed the <code>getPort()</code> part but this does not pass all my unit tests.</p>\n\n<h2>Production code:</h2>\n\n<pre><code>  public static boolean validateHTTP_URI(String uri) {\n        final URI u;\n        try {\n            u = URI.create(uri);\n        } catch (Exception e1) {\n            return false;\n        }\n        return \"http\".equals(u.getScheme());\n  }\n</code></pre>\n\n<p>This is the first test that is failing because I am no longer validating the getPort() part. Hopefully somebody can help me out. I think I am not using the right class to validate URLs?</p>\n\n<h2>P.S:</h2>\n\n<p>I don't want to connect to the server to validate the URI is correct. At least not yet in this step. I only want to validate scheme.</p>\n"},{"tags":["java","xml","xslt","xmlunit"],"answers":[{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586420481,"creation_date":1586420481,"answer_id":61116831,"question_id":61115955,"body_markdown":"I would transform both documents to get rid of the things you want to exclude from the comparison, and then compare the results.","title":"XMLunit compare only tags","body":"<p>I would transform both documents to get rid of the things you want to exclude from the comparison, and then compare the results.</p>\n"},{"tags":[],"owner":{"account_id":6649813,"reputation":321,"user_id":5132408,"display_name":"Renju Jose"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676543089,"creation_date":1676543089,"answer_id":75470867,"question_id":61115955,"body_markdown":"I think you can chain the DifferenceEvaluators together to achieve this.\r\n\r\nFor example, this is something I did when I had to combine comparison for two nodes. Might work in your case with some customisations.\r\n\r\n```java\r\nDiff myDiff = DiffBuilder.compare(FileReadingUtil.readFileAsByteArray(source,this.getClass().getClassLoader()))\r\n                .withTest(FileReadingUtil.readFileAsByteArray(test,this.getClass().getClassLoader()))\r\n                .ignoreComments()\r\n                .ignoreWhitespace()\r\n                .withDifferenceEvaluator(\r\n                        DifferenceEvaluators.chain(\r\n                                DifferenceEvaluators.Default,\r\n                                new IgnoreAttributeDifferenceEvaluator(&quot;MsgId&quot;),\r\n                                new IgnoreAttributeDifferenceEvaluator(&quot;PmtId&quot;)\r\n                        )\r\n                )\r\n                .checkForSimilar()\r\n                .build();\r\n```","title":"XMLunit compare only tags","body":"<p>I think you can chain the DifferenceEvaluators together to achieve this.</p>\n<p>For example, this is something I did when I had to combine comparison for two nodes. Might work in your case with some customisations.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Diff myDiff = DiffBuilder.compare(FileReadingUtil.readFileAsByteArray(source,this.getClass().getClassLoader()))\n                .withTest(FileReadingUtil.readFileAsByteArray(test,this.getClass().getClassLoader()))\n                .ignoreComments()\n                .ignoreWhitespace()\n                .withDifferenceEvaluator(\n                        DifferenceEvaluators.chain(\n                                DifferenceEvaluators.Default,\n                                new IgnoreAttributeDifferenceEvaluator(&quot;MsgId&quot;),\n                                new IgnoreAttributeDifferenceEvaluator(&quot;PmtId&quot;)\n                        )\n                )\n                .checkForSimilar()\n                .build();\n</code></pre>\n"}],"owner":{"account_id":13945116,"reputation":199,"user_id":10070050,"display_name":"Dzak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1676543089,"creation_date":1586417067,"question_id":61115955,"body_markdown":"I would like to compare two XML files, but based only on tag values, also I need to compare tags as a whole, e.g.\r\n\r\n```&lt;someTag&gt;&lt;otherTag value1=&quot;0&quot; value2=&quot;5&quot;/&gt;text1&lt;/someTag&gt;```\r\n\r\n```&lt;someTag&gt;&lt;otherTag value1=&quot;10&quot; value2=&quot;15&quot;/&gt;text2&lt;/someTag&gt;```\r\n\r\nwhat I need to achieve is to show that `&lt;otherTag value1=&quot;10&quot; value2=&quot;15&quot;/&gt;` is different, I don&#39;t care about `text1` `text2` difference. Problem is, that by default XMLUnit will compare `value1` and `value2` separetly, while I want to compare them together, whole tag as one string. Is there a way to achieve this? I know I can exclude `text` implementing `DifferenceEvaluator` but still, I don&#39;t know how to compare Attributes as whole. I also consider to use xslt.","title":"XMLunit compare only tags","body":"<p>I would like to compare two XML files, but based only on tag values, also I need to compare tags as a whole, e.g.</p>\n\n<p><code>&lt;someTag&gt;&lt;otherTag value1=\"0\" value2=\"5\"/&gt;text1&lt;/someTag&gt;</code></p>\n\n<p><code>&lt;someTag&gt;&lt;otherTag value1=\"10\" value2=\"15\"/&gt;text2&lt;/someTag&gt;</code></p>\n\n<p>what I need to achieve is to show that <code>&lt;otherTag value1=\"10\" value2=\"15\"/&gt;</code> is different, I don't care about <code>text1</code> <code>text2</code> difference. Problem is, that by default XMLUnit will compare <code>value1</code> and <code>value2</code> separetly, while I want to compare them together, whole tag as one string. Is there a way to achieve this? I know I can exclude <code>text</code> implementing <code>DifferenceEvaluator</code> but still, I don't know how to compare Attributes as whole. I also consider to use xslt.</p>\n"},{"tags":["java","android","json","hashmap","android-volley"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1676543399,"post_id":75470856,"comment_id":133159662,"body_markdown":"A POST request has always a body. Where do you set the body of your POST request (I only see GET parameters and headers)? For an Volley POST example see https://stackoverflow.com/a/33578202/150978","body":"A POST request has always a body. Where do you set the body of your POST request (I only see GET parameters and headers)? For an Volley POST example see <a href=\"https://stackoverflow.com/a/33578202/150978\">stackoverflow.com/a/33578202/150978</a>"}],"owner":{"account_id":27793198,"reputation":1,"user_id":21219257,"display_name":"65 Shruti"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676543010,"creation_date":1676543010,"question_id":75470856,"body_markdown":"I&#39;m passing a key-value pair in String request using post request method I&#39;m getting error 400.\r\nThe Error is:E/Volley: [1120] NetworkUtility.shouldRetryException: Unexpected response code 400 for http://11.1.1.86:9000/cef/investmentStrategies/android\r\n\r\n```\r\nRequestQueue MyRequestQueue = Volley.newRequestQueue(getContext());\r\n                                       url5 = &quot;http://11.1.1.86:9000/cef/investmentStrategies/android&quot;;\r\n                                       StringRequest stringRequest5 = new StringRequest(Request.Method.POST, url5, new Response.Listener&lt;String&gt;() {\r\n                                           @Override\r\n                                           public void onResponse(String response) {\r\n                                               System.out.println(&quot;No Error&quot;);\r\n                                           }\r\n                                       }, new Response.ErrorListener() {\r\n                                           @Override\r\n                                           public void onErrorResponse(VolleyError error) {\r\n                                                   System.out.println(&quot;Error is here..&quot;);\r\n                                           }\r\n                                       }) {\r\n\r\n                                           @Nullable\r\n                                           @Override\r\n\r\n                                           protected Map&lt;String, String&gt; getParams() {\r\n                                               Map&lt;String, String&gt; MyData = new HashMap&lt;String, String&gt;();\r\n                                               MyData.put(&quot;Field&quot;,id);\r\n                                               return MyData;\r\n                                           }\r\n                                           @Override\r\n                                           public Map&lt;String, String&gt; getHeaders() throws AuthFailureError {\r\n                                               Map&lt;String, String&gt; params = new HashMap&lt;String, String&gt;();\r\n                                               params.put(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n                                               return params;\r\n                                           }\r\n\r\n                                       };\r\n                                       MyRequestQueue.add(stringRequest5);\r\n                                   }\r\n```\r\n","title":"Error 400 in android volley while using POST request method","body":"<p>I'm passing a key-value pair in String request using post request method I'm getting error 400.\nThe Error is:E/Volley: [1120] NetworkUtility.shouldRetryException: Unexpected response code 400 for <a href=\"http://11.1.1.86:9000/cef/investmentStrategies/android\" rel=\"nofollow noreferrer\">http://11.1.1.86:9000/cef/investmentStrategies/android</a></p>\n<pre><code>RequestQueue MyRequestQueue = Volley.newRequestQueue(getContext());\n                                       url5 = &quot;http://11.1.1.86:9000/cef/investmentStrategies/android&quot;;\n                                       StringRequest stringRequest5 = new StringRequest(Request.Method.POST, url5, new Response.Listener&lt;String&gt;() {\n                                           @Override\n                                           public void onResponse(String response) {\n                                               System.out.println(&quot;No Error&quot;);\n                                           }\n                                       }, new Response.ErrorListener() {\n                                           @Override\n                                           public void onErrorResponse(VolleyError error) {\n                                                   System.out.println(&quot;Error is here..&quot;);\n                                           }\n                                       }) {\n\n                                           @Nullable\n                                           @Override\n\n                                           protected Map&lt;String, String&gt; getParams() {\n                                               Map&lt;String, String&gt; MyData = new HashMap&lt;String, String&gt;();\n                                               MyData.put(&quot;Field&quot;,id);\n                                               return MyData;\n                                           }\n                                           @Override\n                                           public Map&lt;String, String&gt; getHeaders() throws AuthFailureError {\n                                               Map&lt;String, String&gt; params = new HashMap&lt;String, String&gt;();\n                                               params.put(&quot;Content-Type&quot;, &quot;application/json&quot;);\n                                               return params;\n                                           }\n\n                                       };\n                                       MyRequestQueue.add(stringRequest5);\n                                   }\n</code></pre>\n"},{"tags":["java","javac","cannot-find-symbol"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1676541657,"post_id":75470588,"comment_id":133159073,"body_markdown":"is BankAccount compiled?&#181;","body":"is BankAccount compiled?&#181;"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1676542325,"post_id":75470588,"comment_id":133159277,"body_markdown":"It&#39;s not always clear when javac will grab other source files. `BankAccount` does not appear to depend on anything else, so  `javac BankAccount.java`  should work and produce `BankAccount.class`. To compile both files at once, `javac BankAccount.java BankTest.java`","body":"It&#39;s not always clear when javac will grab other source files. <code>BankAccount</code> does not appear to depend on anything else, so  <code>javac BankAccount.java</code>  should work and produce <code>BankAccount.class</code>. To compile both files at once, <code>javac BankAccount.java BankTest.java</code>"},{"owner":{"account_id":20488306,"reputation":45,"user_id":15034926,"display_name":"Dev"},"score":0,"creation_date":1676542636,"post_id":75470588,"comment_id":133159380,"body_markdown":"javac BankAccount.java works perfectly but javac BankTest.java shows up the error. javac BankAccount.java BankTest.java also seem to run fine but the error pops up when I try to run BankTeset.java","body":"javac BankAccount.java works perfectly but javac BankTest.java shows up the error. javac BankAccount.java BankTest.java also seem to run fine but the error pops up when I try to run BankTeset.java"}],"answers":[{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676542922,"creation_date":1676542922,"answer_id":75470839,"question_id":75470588,"body_markdown":"You need to compile the classes, and have them on your classpath. A good way to manage this is to use the `-d` option. Make sure the directory &quot;build&quot; exists.\r\n\r\n    javac -d build BankAccount.java\r\n\r\nThat should compile and make a BankAccount.class in the &quot;build&quot; folder. Then you can do.\r\n\r\n    javac -cp build -d build BankTest.java\r\n\r\nThat should create the file BankTest.class in the build folder. Then you can run it.\r\n\r\n    java -cp build BankTest\r\n\r\nYou need to put the .class files on the classpath. That is why the `-d` option works well because you know what folder to put on the class path, it will also create directories for packages and put the class files in the correct location.\r\n","title":"Java - cannot find symbol. Both Files in same directory","body":"<p>You need to compile the classes, and have them on your classpath. A good way to manage this is to use the <code>-d</code> option. Make sure the directory &quot;build&quot; exists.</p>\n<pre><code>javac -d build BankAccount.java\n</code></pre>\n<p>That should compile and make a BankAccount.class in the &quot;build&quot; folder. Then you can do.</p>\n<pre><code>javac -cp build -d build BankTest.java\n</code></pre>\n<p>That should create the file BankTest.class in the build folder. Then you can run it.</p>\n<pre><code>java -cp build BankTest\n</code></pre>\n<p>You need to put the .class files on the classpath. That is why the <code>-d</code> option works well because you know what folder to put on the class path, it will also create directories for packages and put the class files in the correct location.</p>\n"}],"owner":{"account_id":20488306,"reputation":45,"user_id":15034926,"display_name":"Dev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75470839,"answer_count":1,"score":0,"last_activity_date":1676542922,"creation_date":1676541580,"question_id":75470588,"body_markdown":"I am new to java and have been trying to learn it and now I have been facing this error even though both the files are in the same folder : \r\n\r\n    BankTest.java:3: error: cannot find symbol\r\n            BankAccount b = new BankAccount( &quot;M J W Morgan&quot;, &quot;0012067&quot; );\r\n            ^\r\n      symbol:   class BankAccount\r\n      location: class BankTest\r\n    BankTest.java:3: error: cannot find symbol\r\n            BankAccount b = new BankAccount( &quot;M J W Morgan&quot;, &quot;0012067&quot; );\r\n                                ^\r\n      symbol:   class BankAccount\r\n      location: class BankTest\r\n    BankTest.java:12: error: cannot find symbol\r\n                BankAccount c = new BankAccount( args[0], args[1] );\r\n                ^\r\n      symbol:   class BankAccount\r\n      location: class BankTest\r\n    BankTest.java:12: error: cannot find symbol\r\n                BankAccount c = new BankAccount( args[0], args[1] );\r\n                                    ^\r\n      symbol:   class BankAccount\r\n      location: class BankTest\r\n    BankTest.java:15: error: cannot find symbol\r\n                BankAccount c = new BankAccount( args[0], args[1], Double.parseDouble(args[2]) );\r\n                ^\r\n      symbol:   class BankAccount\r\n      location: class BankTest\r\n    BankTest.java:15: error: cannot find symbol\r\n                BankAccount c = new BankAccount( args[0], args[1], Double.parseDouble(args[2]) );\r\n                                    ^\r\n      symbol:   class BankAccount\r\n      location: class BankTest\r\n\r\nI have both the BankAccount.java and the BankTest.java in the same folder. I have tried downloading the source code and still face the same error.\r\n\r\njavac BankAccount.java works perfectly but javac BankTest.java shows up the error.\r\nWhat am I doing wrong here?\r\n\r\nThis is the BankAccount.java\r\n\r\n    public class BankAccount {\r\n        private String holderName;\r\n        private double balance;\r\n        private String number;\r\n    \r\n        public BankAccount( String holderName, String number ){\r\n            this.holderName = holderName;\r\n            this.number = number;\r\n            balance = 0;\r\n        }\r\n    \r\n        public BankAccount( String holderName, String number, double balance ){\r\n            this.holderName = holderName;\r\n            this.number = number;\r\n            this.balance = balance;\r\n        }\r\n    \r\n        public String getHolderName(){\r\n            return holderName;\r\n        }\r\n    \r\n        public void setName( String newName ){\r\n            holderName = newName;\r\n        }\r\n    \r\n        public void deposit( double amount ){\r\n            balance += amount;\r\n        }\r\n    \r\n        public void withdraw( double amount ){\r\n            balance -= amount;\r\n        }\r\n    \r\n        public double checkBalance(){\r\n            return balance;\r\n        }\r\n    \r\n        public String toString(){\r\n            String s = number + &quot;\\t&quot; + holderName + &quot;\\t&quot; + balance;\r\n            return s;\r\n        }\r\n    }\r\n\r\n\r\nAnd this is the BankTest.java:\r\n\r\n    public class BankTest {\r\n        public static void main(String[] args) {\r\n            BankAccount b = new BankAccount( &quot;M J W Morgan&quot;, &quot;0012067&quot; );\r\n            System.out.println( b );\r\n            b.deposit( 100 );\r\n            System.out.println( b );\r\n            b.withdraw( 500 );\r\n            System.out.println( b );\r\n            System.out.println( &quot;Balance is: &quot; + b.checkBalance() );\r\n    \r\n            if( args.length == 2 ){\r\n                BankAccount c = new BankAccount( args[0], args[1] );\r\n                System.out.println( c );\r\n            } else {\r\n                BankAccount c = new BankAccount( args[0], args[1], Double.parseDouble(args[2]) );\r\n                System.out.println( c );\r\n    \r\n            }\r\n    \r\n        }\r\n    }\r\n\r\n\r\n","title":"Java - cannot find symbol. Both Files in same directory","body":"<p>I am new to java and have been trying to learn it and now I have been facing this error even though both the files are in the same folder :</p>\n<pre><code>BankTest.java:3: error: cannot find symbol\n        BankAccount b = new BankAccount( &quot;M J W Morgan&quot;, &quot;0012067&quot; );\n        ^\n  symbol:   class BankAccount\n  location: class BankTest\nBankTest.java:3: error: cannot find symbol\n        BankAccount b = new BankAccount( &quot;M J W Morgan&quot;, &quot;0012067&quot; );\n                            ^\n  symbol:   class BankAccount\n  location: class BankTest\nBankTest.java:12: error: cannot find symbol\n            BankAccount c = new BankAccount( args[0], args[1] );\n            ^\n  symbol:   class BankAccount\n  location: class BankTest\nBankTest.java:12: error: cannot find symbol\n            BankAccount c = new BankAccount( args[0], args[1] );\n                                ^\n  symbol:   class BankAccount\n  location: class BankTest\nBankTest.java:15: error: cannot find symbol\n            BankAccount c = new BankAccount( args[0], args[1], Double.parseDouble(args[2]) );\n            ^\n  symbol:   class BankAccount\n  location: class BankTest\nBankTest.java:15: error: cannot find symbol\n            BankAccount c = new BankAccount( args[0], args[1], Double.parseDouble(args[2]) );\n                                ^\n  symbol:   class BankAccount\n  location: class BankTest\n</code></pre>\n<p>I have both the BankAccount.java and the BankTest.java in the same folder. I have tried downloading the source code and still face the same error.</p>\n<p>javac BankAccount.java works perfectly but javac BankTest.java shows up the error.\nWhat am I doing wrong here?</p>\n<p>This is the BankAccount.java</p>\n<pre><code>public class BankAccount {\n    private String holderName;\n    private double balance;\n    private String number;\n\n    public BankAccount( String holderName, String number ){\n        this.holderName = holderName;\n        this.number = number;\n        balance = 0;\n    }\n\n    public BankAccount( String holderName, String number, double balance ){\n        this.holderName = holderName;\n        this.number = number;\n        this.balance = balance;\n    }\n\n    public String getHolderName(){\n        return holderName;\n    }\n\n    public void setName( String newName ){\n        holderName = newName;\n    }\n\n    public void deposit( double amount ){\n        balance += amount;\n    }\n\n    public void withdraw( double amount ){\n        balance -= amount;\n    }\n\n    public double checkBalance(){\n        return balance;\n    }\n\n    public String toString(){\n        String s = number + &quot;\\t&quot; + holderName + &quot;\\t&quot; + balance;\n        return s;\n    }\n}\n</code></pre>\n<p>And this is the BankTest.java:</p>\n<pre><code>public class BankTest {\n    public static void main(String[] args) {\n        BankAccount b = new BankAccount( &quot;M J W Morgan&quot;, &quot;0012067&quot; );\n        System.out.println( b );\n        b.deposit( 100 );\n        System.out.println( b );\n        b.withdraw( 500 );\n        System.out.println( b );\n        System.out.println( &quot;Balance is: &quot; + b.checkBalance() );\n\n        if( args.length == 2 ){\n            BankAccount c = new BankAccount( args[0], args[1] );\n            System.out.println( c );\n        } else {\n            BankAccount c = new BankAccount( args[0], args[1], Double.parseDouble(args[2]) );\n            System.out.println( c );\n\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","microservices","timertask"],"comments":[{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":1,"creation_date":1676542567,"post_id":75470686,"comment_id":133159354,"body_markdown":"Get all tasks from where? A queue? Or somewhere else?","body":"Get all tasks from where? A queue? Or somewhere else?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676549520,"post_id":75470686,"comment_id":133161381,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":19434377,"reputation":61,"user_id":14214144,"display_name":"Ninh"},"score":0,"creation_date":1676627576,"post_id":75470686,"comment_id":133179492,"body_markdown":"1. Tasks are saved in the database\n\n2. After running the service, I will call the initAfterStartOn() function to get the task information in the database and start the task again (this going to cause a duplicated task problem if I run multiple  instance of service)\n\nI expect that each task runs only once in multiple service instances","body":"1. Tasks are saved in the database  2. After running the service, I will call the initAfterStartOn() function to get the task information in the database and start the task again (this going to cause a duplicated task problem if I run multiple  instance of service)  I expect that each task runs only once in multiple service instances"}],"answers":[{"tags":[],"owner":{"account_id":24428149,"reputation":66,"user_id":18353450,"display_name":"Emirhan Naneli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676542877,"creation_date":1676542877,"answer_id":75470833,"question_id":75470686,"body_markdown":"You can try using @Scheduled annotation\r\n\r\n    @Scheduled (cron = &quot;0 0/10 * * * *&quot;, zone = &quot;IST&quot;)\r\n    @SchedulerLock(name=&quot;createPromotionJob&quot;,lockAtLeastFor = &quot;PTSM&quot;,lockAtMostFor=&quot;PTOM&quot;) \r\n    public void scheduledCreatePromotion() {","title":"How to create/ update task to run in future using Timer in microservice system","body":"<p>You can try using @Scheduled annotation</p>\n<pre><code>@Scheduled (cron = &quot;0 0/10 * * * *&quot;, zone = &quot;IST&quot;)\n@SchedulerLock(name=&quot;createPromotionJob&quot;,lockAtLeastFor = &quot;PTSM&quot;,lockAtMostFor=&quot;PTOM&quot;) \npublic void scheduledCreatePromotion() {\n</code></pre>\n"}],"owner":{"account_id":19434377,"reputation":61,"user_id":14214144,"display_name":"Ninh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676542877,"creation_date":1676542151,"question_id":75470686,"body_markdown":"[Problem]\r\nI have service that have multiple instance and run in microservice system. \r\nIn service, I use Timer instance to run task in future\r\n```\r\npublic class CustomizedTimerTask extends TimerTask {\r\n\r\n\tprivate String message;\r\n\tprivate String sender;\r\n\tprivate String reciver;\r\n\t\r\n\t@Override\r\n\tpublic void run() {\r\n\t\t// todo somthing\r\n\t}\r\n\r\n}\r\n\r\n@Service\r\npublic MyTimerService {\r\n\r\n\r\n\tpublic void initAfterStartOn() {\r\n\t\t// get all task that have due date greater than now\r\n\t\t// for_each and call newTask() function\r\n\t}\r\n\r\n\tpublic void newTask() {\r\n\t\t\r\n\t\tDate startedAt = new Date(new Date().getTime() + ((long)5 * 60 * 60);\r\n\t\t\r\n\t\tCustomizedTimerTask timerTask = new CustomizedTimerTask();\r\n\t\ttimerTask.setSender(&quot;sender&quot;);\r\n\t\ttimerTask.setRevicer(&quot;receiver&quot;);\r\n\t\ttimerTask.setMessage(&quot;Hi, nice to meet you&quot;);\r\n\t\ttimer.schedule(new CustomizedTimerTask(), new Date(startedAt));\r\n\t\t\r\n\t\t// save CustomizedTimerTask to Database\r\n\t}\r\n}\r\n```\r\nEverything will be ok if I run only one instance. But if I have multiple instance and one of all is down and run later. It will run `initAfterStartOn()` it cause task will be duplicate.\r\nCan someone give me advice on this?\r\n\r\nCurrently, I have not found any solution yet.","title":"How to create/ update task to run in future using Timer in microservice system","body":"<p>[Problem]\nI have service that have multiple instance and run in microservice system.\nIn service, I use Timer instance to run task in future</p>\n<pre><code>public class CustomizedTimerTask extends TimerTask {\n\n    private String message;\n    private String sender;\n    private String reciver;\n    \n    @Override\n    public void run() {\n        // todo somthing\n    }\n\n}\n\n@Service\npublic MyTimerService {\n\n\n    public void initAfterStartOn() {\n        // get all task that have due date greater than now\n        // for_each and call newTask() function\n    }\n\n    public void newTask() {\n        \n        Date startedAt = new Date(new Date().getTime() + ((long)5 * 60 * 60);\n        \n        CustomizedTimerTask timerTask = new CustomizedTimerTask();\n        timerTask.setSender(&quot;sender&quot;);\n        timerTask.setRevicer(&quot;receiver&quot;);\n        timerTask.setMessage(&quot;Hi, nice to meet you&quot;);\n        timer.schedule(new CustomizedTimerTask(), new Date(startedAt));\n        \n        // save CustomizedTimerTask to Database\n    }\n}\n</code></pre>\n<p>Everything will be ok if I run only one instance. But if I have multiple instance and one of all is down and run later. It will run <code>initAfterStartOn()</code> it cause task will be duplicate.\nCan someone give me advice on this?</p>\n<p>Currently, I have not found any solution yet.</p>\n"},{"tags":["java","google-java-format","spotless"],"answers":[{"tags":[],"owner":{"account_id":20712417,"reputation":136,"user_id":15208738,"display_name":"frblazquez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676542651,"creation_date":1676542651,"answer_id":75470785,"question_id":72946150,"body_markdown":"Google java format is not configurable by design ([have a look at this][1]) so there is no way for configuring a custom max line width. What you can do is to configure spotless plugin to work with a custom eclipse jdt formatter. [Here][2] you can see how this is done in the spotless documentation.\r\n\r\nFor example, for *gradle* you would have:\r\n```\r\nspotless {\r\n  java {\r\n    eclipse().configFile(&#39;custom-config.xml&#39;)\r\n  }\r\n}\r\n```\r\nInstead of:\r\n```\r\nspotless {\r\n  java {\r\n    googleJavaFormat()\r\n  }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/google/google-java-format/wiki/FAQ#i-just-need-to-configure-it-a-bit-differently-how\r\n  [2]: https://github.com/diffplug/spotless/tree/main/plugin-gradle#eclipse-jdt","title":"How can I use the googleJavaFormat to make reflowLongStrings set to a max of 120 chars per line","body":"<p>Google java format is not configurable by design (<a href=\"https://github.com/google/google-java-format/wiki/FAQ#i-just-need-to-configure-it-a-bit-differently-how\" rel=\"nofollow noreferrer\">have a look at this</a>) so there is no way for configuring a custom max line width. What you can do is to configure spotless plugin to work with a custom eclipse jdt formatter. <a href=\"https://github.com/diffplug/spotless/tree/main/plugin-gradle#eclipse-jdt\" rel=\"nofollow noreferrer\">Here</a> you can see how this is done in the spotless documentation.</p>\n<p>For example, for <em>gradle</em> you would have:</p>\n<pre><code>spotless {\n  java {\n    eclipse().configFile('custom-config.xml')\n  }\n}\n</code></pre>\n<p>Instead of:</p>\n<pre><code>spotless {\n  java {\n    googleJavaFormat()\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":2757238,"reputation":57,"user_id":2374960,"display_name":"Avraham Cohen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1268,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1676542651,"creation_date":1657589464,"question_id":72946150,"body_markdown":"I am using the Spotless plugin to format my Java code. However, when I am enabling the reflowLongStrings rule, it breaks lines to be no longer than 80 chars.\r\nIs it possible to change it to 120?\r\n","title":"How can I use the googleJavaFormat to make reflowLongStrings set to a max of 120 chars per line","body":"<p>I am using the Spotless plugin to format my Java code. However, when I am enabling the reflowLongStrings rule, it breaks lines to be no longer than 80 chars.\nIs it possible to change it to 120?</p>\n"},{"tags":["java","spring","mybatis"],"comments":[{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1676541891,"post_id":75470346,"comment_id":133159142,"body_markdown":"A simple solution is to create a parameter object that holds &#39;operator&#39; and &#39;values&#39;. Your statement would look something like : `&lt;if test=&quot;ageOp == &#39;eq&#39;&quot;&gt;age = #{ageVal}&lt;/if&gt;&lt;if test=&quot;ageOp == &#39;btwn&#39;&quot;&gt;age between #{ageVal} and #{ageVal2}&lt;/if&gt;&lt;if ...`. If your project has many of those statements, I would suggest taking a look at [mybatis-dynamic-sql](https://github.com/mybatis/mybatis-dynamic-sql) that saves you from writing the boilerplates.","body":"A simple solution is to create a parameter object that holds &#39;operator&#39; and &#39;values&#39;. Your statement would look something like : <code>&lt;if test=&quot;ageOp == &#39;eq&#39;&quot;&gt;age = #{ageVal}&lt;&#47;if&gt;&lt;if test=&quot;ageOp == &#39;btwn&#39;&quot;&gt;age between #{ageVal} and #{ageVal2}&lt;&#47;if&gt;&lt;if ...</code>. If your project has many of those statements, I would suggest taking a look at <a href=\"https://github.com/mybatis/mybatis-dynamic-sql\" rel=\"nofollow noreferrer\">mybatis-dynamic-sql</a> that saves you from writing the boilerplates."},{"owner":{"account_id":4116401,"reputation":1189,"user_id":3377836,"accept_rate":62,"display_name":"frank"},"score":0,"creation_date":1676881717,"post_id":75470346,"comment_id":133219704,"body_markdown":"@ave thanks for your tip. From website, it seems that mybatis-dynamic-sql only support java code, but I have to use xml file to write sql.","body":"@ave thanks for your tip. From website, it seems that mybatis-dynamic-sql only support java code, but I have to use xml file to write sql."}],"answers":[{"tags":[],"owner":{"account_id":12030062,"reputation":328,"user_id":10473441,"display_name":"Syfer Polski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676542536,"creation_date":1676542536,"answer_id":75470767,"question_id":75470346,"body_markdown":"You probably want to add two properties to the Student class, instead of a single age property:\r\n```java\r\nInteger minAge,\r\nInteger maxAge\r\n```\r\n\r\nThat way to perform an equals query you set them to the same value, and to perform a range query, you set one or both to a value.\r\n\r\n```xml\r\n&lt;select id=&quot;listStudent&quot; resultType=&quot;student&quot;&gt;\r\n    select * from student\r\n    &lt;where&gt;\r\n        &lt;if test=&quot;student.minAge != null&quot;&gt;age &gt; #{student.minAge} &lt;/if&gt;\r\n        &lt;if test=&quot;student.minAge != null &amp;&amp; student.maxAge != null&quot;&gt; AND &lt;/if&gt;\r\n        &lt;if test=&quot;student.maxAge != null&quot;&gt;age &lt; #{student.maxAge} &lt;/if&gt;\r\n    &lt;/where&gt;\r\n&lt;/select&gt;\r\n```","title":"spring mybatis how to build different condition operator","body":"<p>You probably want to add two properties to the Student class, instead of a single age property:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Integer minAge,\nInteger maxAge\n</code></pre>\n<p>That way to perform an equals query you set them to the same value, and to perform a range query, you set one or both to a value.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;select id=&quot;listStudent&quot; resultType=&quot;student&quot;&gt;\n    select * from student\n    &lt;where&gt;\n        &lt;if test=&quot;student.minAge != null&quot;&gt;age &gt; #{student.minAge} &lt;/if&gt;\n        &lt;if test=&quot;student.minAge != null &amp;&amp; student.maxAge != null&quot;&gt; AND &lt;/if&gt;\n        &lt;if test=&quot;student.maxAge != null&quot;&gt;age &lt; #{student.maxAge} &lt;/if&gt;\n    &lt;/where&gt;\n&lt;/select&gt;\n</code></pre>\n"}],"owner":{"account_id":4116401,"reputation":1189,"user_id":3377836,"accept_rate":62,"display_name":"frank"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676542536,"creation_date":1676540306,"question_id":75470346,"body_markdown":"I am using spring boot and mybatis, my code looks like:\r\n```\r\nclass StudentController {\r\n....\r\nList&lt;Student&gt; listStudent(Student student, Pageable pageable) {\r\n    return this.studentService.listStudent(student, pageable)\r\n}\r\n\r\n}\r\n\r\nclass StudentService {\r\n....\r\nList&lt;Student&gt; listStudent(Student student, Pageable pageable) {\r\n    return this.studentDao.listStudent(student, pageable)\r\n}\r\n\r\n}\r\n\r\nclass StudentDao {\r\n    List&lt;Student&gt; listStudent(Student student, Pageable pageable);\r\n}\r\n```\r\n\r\nthe sql xml file looks like:\r\n```\r\n&lt;select id=&quot;listStudent&quot; resultType=&quot;student&quot;&gt;\r\n    select * from student\r\n    &lt;where&gt;\r\n        &lt;if test=&quot;student.age != null&quot;&gt;age = #{student.age}&lt;/if&gt;\r\n    &lt;/where&gt;\r\n&lt;/select&gt;\r\n```\r\n\r\nclient may list student via `spring controller` or call `studentService.listStudent` from java code.\r\n\r\nthe code only can build the `equal` condition operator sql, e.g. `select * from student where age = 10`.\r\n\r\nhow can I build different conditions operator? \r\n Since sometimes client may want to query student whose `age &gt; 10` or `age &lt; 10` or `age between 10 and 12` or other condition operator.\r\n","title":"spring mybatis how to build different condition operator","body":"<p>I am using spring boot and mybatis, my code looks like:</p>\n<pre><code>class StudentController {\n....\nList&lt;Student&gt; listStudent(Student student, Pageable pageable) {\n    return this.studentService.listStudent(student, pageable)\n}\n\n}\n\nclass StudentService {\n....\nList&lt;Student&gt; listStudent(Student student, Pageable pageable) {\n    return this.studentDao.listStudent(student, pageable)\n}\n\n}\n\nclass StudentDao {\n    List&lt;Student&gt; listStudent(Student student, Pageable pageable);\n}\n</code></pre>\n<p>the sql xml file looks like:</p>\n<pre><code>&lt;select id=&quot;listStudent&quot; resultType=&quot;student&quot;&gt;\n    select * from student\n    &lt;where&gt;\n        &lt;if test=&quot;student.age != null&quot;&gt;age = #{student.age}&lt;/if&gt;\n    &lt;/where&gt;\n&lt;/select&gt;\n</code></pre>\n<p>client may list student via <code>spring controller</code> or call <code>studentService.listStudent</code> from java code.</p>\n<p>the code only can build the <code>equal</code> condition operator sql, e.g. <code>select * from student where age = 10</code>.</p>\n<p>how can I build different conditions operator?\nSince sometimes client may want to query student whose <code>age &gt; 10</code> or <code>age &lt; 10</code> or <code>age between 10 and 12</code> or other condition operator.</p>\n"},{"tags":["java","linux","jar"],"owner":{"account_id":6521234,"reputation":145,"user_id":5045417,"accept_rate":18,"display_name":"Dewagg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676542114,"creation_date":1676542114,"question_id":75470681,"body_markdown":"I am working on car radios to convert them from US to EU. Currently I am stuck with a problem to show radio logo&#39;s. Originally radio should download logos from online servers, however USA converted car into EU can&#39;t connect to servers anymore.\r\n1. There is a JAR file which is processing radio logo&#39;s: /opt/arc/bundles/**service.dsi.hybridradio.jar**\r\n\r\nIf I open this file with any java class decompiler (for example Recaf) I can find lot of classes, but I need this one: de.eso.mib.online.hybridradio.events.**GetOfflineLogosEvent**, as it contains ```private void addLogoToStation(RadioStation tmpStation, RadioStationLogo logo)```, and I need to call it somehow with parameters, but there is a problem. \r\n\r\n2. **/opt** folder is under DM-Verity protection, I can&#39;t remount it as read write, or modify. I started digging how these jar&#39;s are executed and found:\r\n\r\n    ```\r\n    export FW_JAVA_DIR=/usr/share/esofw/\r\n    ................................................\r\n    echo &quot;looking for fw jars in: ${FW_JAVA_DIR}&quot;\r\n    if [[ -d $FW_JAVA_DIR ]]; then\r\n\t    JARS=$(find $FW_JAVA_DIR -name &#39;*.jar&#39;)\r\n\t    if [[ ! &quot;x$JARS&quot; == &quot;x&quot; ]]; then\r\n\t\t    for jar in $JARS; do\r\n\t\t\t    BOOTCLASSPATH=&quot;$BOOTCLASSPATH:$jar&quot;\r\n\t\t    done\r\n\t    fi\r\n    fi\r\n    ................................................\r\n    ## Launch Java VM\r\n    echo &quot;starting vm ....&quot;\r\n    echo &quot;java: ${JAVA}&quot;\r\n    echo &quot;VMOPTIONS: ${VMOPTIONS}&quot;\r\n    echo &quot;bootclasspath: ${BOOTCLASSPATH}&quot;\r\n    exec $JAVA $VMOPTIONS -Xbootclasspath/a:$BOOTCLASSPATH de.dreisoft.lsd.LSD\r\nWhat do I see from this, that I can add my own jar file into **/usr/share/esofw** and it will be added into Java bootclasspath. Also **/usr/share/esofw** is not under DM verity and is **writeable**. \r\n\r\nIf I compile simple jar file and add under this folder, then run **ps aux**, I see my jar under boot classpath:\r\n\r\n    /opt/java/bin/java -Xmx48m Xbootclasspath/a::/opt/java/lib/otherjarshere.jar:/usr/share/esofw/MINECUSTOMJARISEXECUTEDHERE.jar de.dreisoft.lsd.LSD\r\n\r\nIt means I can execute my own jar together with rest, correct? Now question appears, how can I call addLogoToStation function from another, new created jar? is it even possible at all? Thanks in advance.\r\n","title":"Java call a function from one jar in another jar?","body":"<p>I am working on car radios to convert them from US to EU. Currently I am stuck with a problem to show radio logo's. Originally radio should download logos from online servers, however USA converted car into EU can't connect to servers anymore.</p>\n<ol>\n<li>There is a JAR file which is processing radio logo's: /opt/arc/bundles/<strong>service.dsi.hybridradio.jar</strong></li>\n</ol>\n<p>If I open this file with any java class decompiler (for example Recaf) I can find lot of classes, but I need this one: de.eso.mib.online.hybridradio.events.<strong>GetOfflineLogosEvent</strong>, as it contains <code>private void addLogoToStation(RadioStation tmpStation, RadioStationLogo logo)</code>, and I need to call it somehow with parameters, but there is a problem.</p>\n<ol start=\"2\">\n<li><p><strong>/opt</strong> folder is under DM-Verity protection, I can't remount it as read write, or modify. I started digging how these jar's are executed and found:</p>\n<pre><code>export FW_JAVA_DIR=/usr/share/esofw/\n................................................\necho &quot;looking for fw jars in: ${FW_JAVA_DIR}&quot;\nif [[ -d $FW_JAVA_DIR ]]; then\n    JARS=$(find $FW_JAVA_DIR -name '*.jar')\n    if [[ ! &quot;x$JARS&quot; == &quot;x&quot; ]]; then\n        for jar in $JARS; do\n            BOOTCLASSPATH=&quot;$BOOTCLASSPATH:$jar&quot;\n        done\n    fi\nfi\n................................................\n## Launch Java VM\necho &quot;starting vm ....&quot;\necho &quot;java: ${JAVA}&quot;\necho &quot;VMOPTIONS: ${VMOPTIONS}&quot;\necho &quot;bootclasspath: ${BOOTCLASSPATH}&quot;\nexec $JAVA $VMOPTIONS -Xbootclasspath/a:$BOOTCLASSPATH de.dreisoft.lsd.LSD\n</code></pre>\n</li>\n</ol>\n<p>What do I see from this, that I can add my own jar file into <strong>/usr/share/esofw</strong> and it will be added into Java bootclasspath. Also <strong>/usr/share/esofw</strong> is not under DM verity and is <strong>writeable</strong>.</p>\n<p>If I compile simple jar file and add under this folder, then run <strong>ps aux</strong>, I see my jar under boot classpath:</p>\n<pre><code>/opt/java/bin/java -Xmx48m Xbootclasspath/a::/opt/java/lib/otherjarshere.jar:/usr/share/esofw/MINECUSTOMJARISEXECUTEDHERE.jar de.dreisoft.lsd.LSD\n</code></pre>\n<p>It means I can execute my own jar together with rest, correct? Now question appears, how can I call addLogoToStation function from another, new created jar? is it even possible at all? Thanks in advance.</p>\n"},{"tags":["java","selenium","selenium-webdriver","selenium-grid","remotewebdriver"],"comments":[{"owner":{"account_id":81495,"reputation":3962,"user_id":229743,"display_name":"Taylor"},"score":0,"creation_date":1647532917,"post_id":71514490,"comment_id":126400084,"body_markdown":"Hi, welcome to StackOverflow.  This is a good read for new users: https://stackoverflow.com/help/how-to-ask\nIt looks like you&#39;re trying to delete a file off the remote node that has been downloaded?  Per this issue https://github.com/seleniumhq/selenium-google-code-issue-archive/issues/5886, it&#39;s not something they support.  The only way this could work is if your running system has file access to the remote node, see https://stackoverflow.com/a/30397049/229743","body":"Hi, welcome to StackOverflow.  This is a good read for new users: <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a> It looks like you&#39;re trying to delete a file off the remote node that has been downloaded?  Per this issue <a href=\"https://github.com/seleniumhq/selenium-google-code-issue-archive/issues/5886\" rel=\"nofollow noreferrer\">github.com/seleniumhq/selenium-google-code-issue-archive/iss&zwnj;&#8203;ues/&hellip;</a>, it&#39;s not something they support.  The only way this could work is if your running system has file access to the remote node, see <a href=\"https://stackoverflow.com/a/30397049/229743\">stackoverflow.com/a/30397049/229743</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1647560252,"post_id":71514490,"comment_id":126408459,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":24590537,"reputation":1,"user_id":18494517,"display_name":"ilyes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":372,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676542015,"creation_date":1647529028,"question_id":71514490,"body_markdown":"using File.delete() will not work when running on a remote node, as the file will be downloaded on the browser-hosting machine but the delete command will be run on the test-running machine.","title":"How can I delete file using Selenium RemoteWebDriver?","body":"<p>using File.delete() will not work when running on a remote node, as the file will be downloaded on the browser-hosting machine but the delete command will be run on the test-running machine.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":19112024,"reputation":159,"user_id":13957834,"display_name":"juran.maurice"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676541433,"creation_date":1676540966,"answer_id":75470466,"question_id":75470218,"body_markdown":"You can try something like this:\r\n\r\n    String password = s3.substring(s3.indexOf(&quot;&lt;p&gt;Password: &quot;) + 13);\r\n    password = password.substring(0, password.indexOf(&quot;&lt;/p&gt;&quot;));\r\n    System.out.println(password);\r\n\r\nThe code searches for the String `&lt;p&gt;Password: `, removes everything infront of it and afterwards remove all and including after `&lt;/p&gt;`.\r\n\r\nI don&#180;t know if I understood your question correct, but if you want to unescape HTML characters afterwards, you could use the StringEscapeUtils class:\r\n\r\n    String withCharacters = StringEscapeUtils.unescapeHtml(password);\r\n    System.out.println(withCharacters);\r\n\r\nSimply add it before the System.out.\r\n\r\nOf course, with this the solution, the String before the password has to always be the same.","title":"Trying to extract password from auto generated email. But it is failing in various combinations","body":"<p>You can try something like this:</p>\n<pre><code>String password = s3.substring(s3.indexOf(&quot;&lt;p&gt;Password: &quot;) + 13);\npassword = password.substring(0, password.indexOf(&quot;&lt;/p&gt;&quot;));\nSystem.out.println(password);\n</code></pre>\n<p>The code searches for the String <code>&lt;p&gt;Password: </code>, removes everything infront of it and afterwards remove all and including after <code>&lt;/p&gt;</code>.</p>\n<p>I don´t know if I understood your question correct, but if you want to unescape HTML characters afterwards, you could use the StringEscapeUtils class:</p>\n<pre><code>String withCharacters = StringEscapeUtils.unescapeHtml(password);\nSystem.out.println(withCharacters);\n</code></pre>\n<p>Simply add it before the System.out.</p>\n<p>Of course, with this the solution, the String before the password has to always be the same.</p>\n"}],"owner":{"account_id":3506599,"reputation":357,"user_id":2932012,"accept_rate":35,"display_name":"nikhil udgirkar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75470466,"answer_count":1,"score":-1,"last_activity_date":1676541433,"creation_date":1676539761,"question_id":75470218,"body_markdown":"I am trying to extract password from email but unable to do so. The mail when extracted for password will have html chars. when the mail utility is returning the content of email\r\nIt should work for all following combinations of passwords\r\n\r\n    String s = &quot;Y5y&amp;gt;eAy&amp;amp;&quot;;\r\n    String s2 = &quot;jO3S&amp;gt;Eu1&lt;/p&gt;&quot;;\r\n    String s4 = &quot;jO3SEu1!&quot;;\r\n    String s5 = &quot;u8P&amp;gt;SIzk&quot;;\r\n    String s6 = &quot;83Pp&gt;epn&quot;;\r\n    String s7 = &quot;83Pp&amp;gt;epn&quot;;\r\n\r\n    String s3 = &quot;&lt;p&gt;A temporary password has been created for your user account.&lt;/p&gt;&quot; +\r\n                    &quot;&lt;p&gt;User Name:  abc+1676532236813@abc.com&lt;/p&gt;&quot; +\r\n                    &quot;&lt;p&gt;Password: 83Pp&amp;gt;epn&lt;/p&gt;&quot; +\r\n                    &quot;&lt;p&gt;Log into the platform with the provided URL to complete your user account set up.&lt;/p&gt;\\n&quot; +\r\n                    &quot;&lt;p&gt;&lt;a href=\\&quot;https://example.com/login\\&quot;&gt;https://login-dev.example.com/login&lt;/a&gt;&lt;/p&gt;&quot;;\r\n\r\nI have tried following code but it is not working\r\n\r\n    int index = s3.indexOf(&quot;Password: &quot;);\r\n            String password = &quot;&quot;;\r\n    //        System.out.println(&quot;first is &quot;+password);\r\n            password = s3.substring(index + 11, index + 24);\r\n            System.out.println(&quot;index of / is &quot; + password.indexOf(&quot;/&quot;));\r\n    \r\n    \r\n            if (password.indexOf(&quot;/&quot;) == 12) {\r\n                password = s3.substring(index + 11, index + 22);\r\n                password = password.replaceAll(&quot;(.*?)|(&amp;.*?;)|([ ]{2,})&quot;, &quot;&quot;);\r\n            } else {\r\n                System.out.println(&quot;hello&quot;);\r\n                password = s3.substring(index + 11, index + 19);\r\n                password = password.replaceAll(&quot;(.*?)|(&amp;.*?;)|([ ]{2,})&quot;, &quot;&quot;);\r\n            }\r\n            password = password.replace(&quot;&amp;gt;&quot;, &quot;&quot;);\r\n            System.out.println(password);\r\n\r\nCan anyone help me here","title":"Trying to extract password from auto generated email. But it is failing in various combinations","body":"<p>I am trying to extract password from email but unable to do so. The mail when extracted for password will have html chars. when the mail utility is returning the content of email\nIt should work for all following combinations of passwords</p>\n<pre><code>String s = &quot;Y5y&amp;gt;eAy&amp;amp;&quot;;\nString s2 = &quot;jO3S&amp;gt;Eu1&lt;/p&gt;&quot;;\nString s4 = &quot;jO3SEu1!&quot;;\nString s5 = &quot;u8P&amp;gt;SIzk&quot;;\nString s6 = &quot;83Pp&gt;epn&quot;;\nString s7 = &quot;83Pp&amp;gt;epn&quot;;\n\nString s3 = &quot;&lt;p&gt;A temporary password has been created for your user account.&lt;/p&gt;&quot; +\n                &quot;&lt;p&gt;User Name:  abc+1676532236813@abc.com&lt;/p&gt;&quot; +\n                &quot;&lt;p&gt;Password: 83Pp&amp;gt;epn&lt;/p&gt;&quot; +\n                &quot;&lt;p&gt;Log into the platform with the provided URL to complete your user account set up.&lt;/p&gt;\\n&quot; +\n                &quot;&lt;p&gt;&lt;a href=\\&quot;https://example.com/login\\&quot;&gt;https://login-dev.example.com/login&lt;/a&gt;&lt;/p&gt;&quot;;\n</code></pre>\n<p>I have tried following code but it is not working</p>\n<pre><code>int index = s3.indexOf(&quot;Password: &quot;);\n        String password = &quot;&quot;;\n//        System.out.println(&quot;first is &quot;+password);\n        password = s3.substring(index + 11, index + 24);\n        System.out.println(&quot;index of / is &quot; + password.indexOf(&quot;/&quot;));\n\n\n        if (password.indexOf(&quot;/&quot;) == 12) {\n            password = s3.substring(index + 11, index + 22);\n            password = password.replaceAll(&quot;(.*?)|(&amp;.*?;)|([ ]{2,})&quot;, &quot;&quot;);\n        } else {\n            System.out.println(&quot;hello&quot;);\n            password = s3.substring(index + 11, index + 19);\n            password = password.replaceAll(&quot;(.*?)|(&amp;.*?;)|([ ]{2,})&quot;, &quot;&quot;);\n        }\n        password = password.replace(&quot;&amp;gt;&quot;, &quot;&quot;);\n        System.out.println(password);\n</code></pre>\n<p>Can anyone help me here</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9349,"page":643,"page_size":100}
