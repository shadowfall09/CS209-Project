{"items":[{"tags":["java","exception","option-type"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":9,"creation_date":1637153694,"post_id":70004767,"comment_id":123748628,"body_markdown":"This may be a duplicate, so I&#39;m not adding it as an answer - but basically, your second piece of code would create a new instance of `NullPointerException` every time that line of code is executed. The first piece of code only constructs the exception when it&#39;s needed","body":"This may be a duplicate, so I&#39;m not adding it as an answer - but basically, your second piece of code would create a new instance of <code>NullPointerException</code> every time that line of code is executed. The first piece of code only constructs the exception when it&#39;s needed"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1637153750,"post_id":70004767,"comment_id":123748650,"body_markdown":"And creating an exception can be expensive (although it probably doesn&#39;t fill in the stacktrace at creation anymore, oh wait it does), but it&#39;s still quicker to use a supplier.","body":"And creating an exception can be expensive (although it probably doesn&#39;t fill in the stacktrace at creation anymore, oh wait it does), but it&#39;s still quicker to use a supplier."},{"owner":{"account_id":15970414,"reputation":15,"user_id":15308566,"display_name":"Bogdan Tischenko"},"score":0,"creation_date":1637153809,"post_id":70004767,"comment_id":123748680,"body_markdown":"@JonSkeet does the supplier not get created every time? Is it cheaper to create than an exception?","body":"@JonSkeet does the supplier not get created every time? Is it cheaper to create than an exception?"},{"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"score":4,"creation_date":1637153860,"post_id":70004767,"comment_id":123748712,"body_markdown":"Whether the supplier gets created every time is an implementation detail; the JLS says that a method reference expression (or lambda expression) is allowed to reuse a cached value.","body":"Whether the supplier gets created every time is an implementation detail; the JLS says that a method reference expression (or lambda expression) is allowed to reuse a cached value."},{"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"score":1,"creation_date":1637153980,"post_id":70004767,"comment_id":123748765,"body_markdown":"Another difference is that, in principle, you could write `.orElseThrow(() -&gt; { ...; return new SomethingException(); })` where the `...` part has side-effects (e.g. logging for debug purposes) that you want to execute in the case something gets thrown.","body":"Another difference is that, in principle, you could write <code>.orElseThrow(() -&gt; { ...; return new SomethingException(); })</code> where the <code>...</code> part has side-effects (e.g. logging for debug purposes) that you want to execute in the case something gets thrown."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1637154013,"post_id":70004767,"comment_id":123748784,"body_markdown":"@JonSkeet That primarily looks like a reason regarding performance, but I wonder whether there is any other reason (like practical, esthetic, etc). (Edit: I noticed kaya3 has already provided such reason.)","body":"@JonSkeet That primarily looks like a reason regarding performance, but I wonder whether there is any other reason (like practical, esthetic, etc). (Edit: I noticed kaya3 has already provided such reason.)"},{"owner":{"account_id":141726,"reputation":10745,"user_id":348975,"accept_rate":86,"display_name":"emory"},"score":1,"creation_date":1637154312,"post_id":70004767,"comment_id":123748919,"body_markdown":"@BogdanTischenko it seems whether the supplier gets created or not is an implementation detail, but I think more importantly we can a priori tell that the cost of creating a supplier is minimal.  One could create a custom exception class and sneak in solving an NP-complete problem into the constructor.  So there is no a priori limit on how much creating an exception costs.","body":"@BogdanTischenko it seems whether the supplier gets created or not is an implementation detail, but I think more importantly we can a priori tell that the cost of creating a supplier is minimal.  One could create a custom exception class and sneak in solving an NP-complete problem into the constructor.  So there is no a priori limit on how much creating an exception costs."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1637154647,"post_id":70004767,"comment_id":123749065,"body_markdown":"This is essentially a duplicate of https://stackoverflow.com/q/33170109/2541560 the fact that it&#39;s exceptions doesn&#39;t change anything.","body":"This is essentially a duplicate of <a href=\"https://stackoverflow.com/q/33170109/2541560\">stackoverflow.com/q/33170109/2541560</a> the fact that it&#39;s exceptions doesn&#39;t change anything."},{"owner":{"account_id":15970414,"reputation":15,"user_id":15308566,"display_name":"Bogdan Tischenko"},"score":0,"creation_date":1637154842,"post_id":70004767,"comment_id":123749151,"body_markdown":"@Kayaman it does. orElseGet  may call an expensive operation which asks a remote servet. We don&#39;t travel far for exceptions. My question is: is creating an exception object more expensive than creating a supplier object and why?","body":"@Kayaman it does. orElseGet  may call an expensive operation which asks a remote servet. We don&#39;t travel far for exceptions. My question is: is creating an exception object more expensive than creating a supplier object and why?"},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":1,"creation_date":1637155224,"post_id":70004767,"comment_id":123749326,"body_markdown":"Yes, an exception object (almost) always contains a stacktrace, and building that is expensive.","body":"Yes, an exception object (almost) always contains a stacktrace, and building that is expensive."},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1637155340,"post_id":70004767,"comment_id":123749376,"body_markdown":"Related: https://stackoverflow.com/questions/299068/what-are-the-effects-of-exceptions-on-performance-in-java","body":"Related: <a href=\"https://stackoverflow.com/questions/299068/what-are-the-effects-of-exceptions-on-performance-in-java\" title=\"what are the effects of exceptions on performance in java\">stackoverflow.com/questions/299068/&hellip;</a>"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1637156900,"post_id":70004767,"comment_id":123750101,"body_markdown":"Suppliers are faster, more useful and additionally it&#39;s semantically correct. Performance is just one part of it, and probably the least interesting part.","body":"Suppliers are faster, more useful and additionally it&#39;s semantically correct. Performance is just one part of it, and probably the least interesting part."},{"owner":{"account_id":15970414,"reputation":15,"user_id":15308566,"display_name":"Bogdan Tischenko"},"score":0,"creation_date":1637156989,"post_id":70004767,"comment_id":123750147,"body_markdown":"@Kayaman, what do you mean by semantically correct?","body":"@Kayaman, what do you mean by semantically correct?"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1637157084,"post_id":70004767,"comment_id":123750204,"body_markdown":"The exception shouldn&#39;t be created if it isn&#39;t needed. If it&#39;s needed, it&#39;s supplied.","body":"The exception shouldn&#39;t be created if it isn&#39;t needed. If it&#39;s needed, it&#39;s supplied."}],"answers":[{"tags":[],"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637157474,"creation_date":1637155945,"answer_id":70005322,"question_id":70004767,"body_markdown":"`.orElseThrow(NullPointerException::new)` is equivalent to `() -&gt; new NullPointerException()`.\r\n\r\nThat&#39;s a function which will only be invoked if the Optional is empty\r\n\r\n    public &lt;X extends Throwable&gt; T orElseThrow(Supplier&lt;? extends X&gt; exceptionSupplier) throws X {\r\n        if (value != null) {\r\n            return value;\r\n        } else {\r\n            throw exceptionSupplier.get(); // Only invoke on this path\r\n        }\r\n    }\r\n\r\n[Code](https://github.com/openjdk/jdk/blob/a52c4ede2f043b7d4a234c7d06f91871312e9654/src/java.base/share/classes/java/util/Optional.java#L399)\r\n\r\nThe reason that&#39;s preferable to `.orElseThrow(new NullPointerException())` is because of performance. When you pass a function, you are only create an exception on-demand, if you really need to throw it.\r\n\r\nCreating most exceptions is expensive*, relatively speaking. The constructor will almost always create a stacktrace, and constructing the stacktrace is relatively slow*. Gathering the stacktrace is done [within `Throwable`&#39;s constructor](https://github.com/openjdk/jdk/blob/c880b87a205cc9611fe88cb29f506293dfebf946/src/java.base/share/classes/java/lang/Throwable.java#L255).\r\n\r\n    public Throwable() {\r\n        fillInStackTrace();\r\n    }\r\n\r\nThere is a variant constructor which won&#39;t gather the stacktrace, but it&#39;s very rarely used.\r\n\r\nThey could have provided a second signature to allow people to choose between them, but it&#39;s likely that the signature you suggested would be frequently misused, resulting in worse performance.\r\n\r\n---\r\n\r\n&lt;span&gt;* &#39;Expensive&#39; and &#39;slow&#39; are relative terms. Modern CPUs are *fast*. While it may be significantly slower than most normal operations, it&#39;s generally not going to be a bottleneck on most applications or anything like that.&lt;/span&gt;","title":"Is constructing an exception slower than constructing an exception supplier?","body":"<p><code>.orElseThrow(NullPointerException::new)</code> is equivalent to <code>() -&gt; new NullPointerException()</code>.</p>\n<p>That's a function which will only be invoked if the Optional is empty</p>\n<pre><code>public &lt;X extends Throwable&gt; T orElseThrow(Supplier&lt;? extends X&gt; exceptionSupplier) throws X {\n    if (value != null) {\n        return value;\n    } else {\n        throw exceptionSupplier.get(); // Only invoke on this path\n    }\n}\n</code></pre>\n<p><a href=\"https://github.com/openjdk/jdk/blob/a52c4ede2f043b7d4a234c7d06f91871312e9654/src/java.base/share/classes/java/util/Optional.java#L399\" rel=\"nofollow noreferrer\">Code</a></p>\n<p>The reason that's preferable to <code>.orElseThrow(new NullPointerException())</code> is because of performance. When you pass a function, you are only create an exception on-demand, if you really need to throw it.</p>\n<p>Creating most exceptions is expensive*, relatively speaking. The constructor will almost always create a stacktrace, and constructing the stacktrace is relatively slow*. Gathering the stacktrace is done <a href=\"https://github.com/openjdk/jdk/blob/c880b87a205cc9611fe88cb29f506293dfebf946/src/java.base/share/classes/java/lang/Throwable.java#L255\" rel=\"nofollow noreferrer\">within <code>Throwable</code>'s constructor</a>.</p>\n<pre><code>public Throwable() {\n    fillInStackTrace();\n}\n</code></pre>\n<p>There is a variant constructor which won't gather the stacktrace, but it's very rarely used.</p>\n<p>They could have provided a second signature to allow people to choose between them, but it's likely that the signature you suggested would be frequently misused, resulting in worse performance.</p>\n<hr />\n<p>* 'Expensive' and 'slow' are relative terms. Modern CPUs are <em>fast</em>. While it may be significantly slower than most normal operations, it's generally not going to be a bottleneck on most applications or anything like that.</p>\n"}],"owner":{"account_id":15970414,"reputation":15,"user_id":15308566,"display_name":"Bogdan Tischenko"},"comment_count":14,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":182,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1637156156,"accepted_answer_id":70005322,"answer_count":1,"score":-1,"last_activity_date":1637157474,"creation_date":1637153629,"question_id":70004767,"body_markdown":"Why do we have to write it like so? Is creating an exception instance more expensive than creating a supplier instance?\r\n\r\n```java\r\nvar value = getOptional().orElseThrow(NullPointerException::new);\r\n// instead of\r\nvar value = getOptional().orElseThrow(new NullPointerException());\r\n```","title":"Is constructing an exception slower than constructing an exception supplier?","body":"<p>Why do we have to write it like so? Is creating an exception instance more expensive than creating a supplier instance?</p>\n<pre class=\"lang-java prettyprint-override\"><code>var value = getOptional().orElseThrow(NullPointerException::new);\n// instead of\nvar value = getOptional().orElseThrow(new NullPointerException());\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":14423201,"reputation":840,"user_id":10418725,"display_name":"Jorn Rigter"},"score":0,"creation_date":1637157042,"post_id":70005242,"comment_id":123750176,"body_markdown":"Hi Boland! Could you add the calls to this method as well? Where and how are you calling it?","body":"Hi Boland! Could you add the calls to this method as well? Where and how are you calling it?"},{"owner":{"account_id":23262320,"reputation":11,"user_id":17348428,"display_name":"Bolo"},"score":0,"creation_date":1637157281,"post_id":70005242,"comment_id":123750302,"body_markdown":"Hi Jorn, It&#39;s set to an on click, I&#39;m starting the animation with mImageToRotate.startAnimation(rotate);\n\nImageView mImagetoRotate = findviewbyID(image[gridposition]);\n\nTo set the image I&#39;m doing mImageToRotate.setRotation(rotationClockwise)","body":"Hi Jorn, It&#39;s set to an on click, I&#39;m starting the animation with mImageToRotate.startAnimation(rotate);  ImageView mImagetoRotate = findviewbyID(image[gridposition]);  To set the image I&#39;m doing mImageToRotate.setRotation(rotationClockwise)"},{"owner":{"account_id":14423201,"reputation":840,"user_id":10418725,"display_name":"Jorn Rigter"},"score":0,"creation_date":1637157322,"post_id":70005242,"comment_id":123750328,"body_markdown":"See my answer. Hope that helps! It&#39;s maybe easier than using the RotateAnimation class - one line to do the rotation!","body":"See my answer. Hope that helps! It&#39;s maybe easier than using the RotateAnimation class - one line to do the rotation!"}],"answers":[{"tags":[],"owner":{"account_id":14423201,"reputation":840,"user_id":10418725,"display_name":"Jorn Rigter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637157268,"creation_date":1637157268,"answer_id":70005675,"question_id":70005242,"body_markdown":"How I would solve this is with the animate() method that every View has in Android:\r\n\r\n    viewToRotate.setOnClickListener(clicked -&gt; {\r\n        final float rotation = 90f; // Specify your rotation here\r\n        viewToRotate.animate().rotationBy(rotation).setDuration(999).start();\r\n    });","title":"Rotate image and set rotation","body":"<p>How I would solve this is with the animate() method that every View has in Android:</p>\n<pre><code>viewToRotate.setOnClickListener(clicked -&gt; {\n    final float rotation = 90f; // Specify your rotation here\n    viewToRotate.animate().rotationBy(rotation).setDuration(999).start();\n});\n</code></pre>\n"}],"owner":{"account_id":23262320,"reputation":11,"user_id":17348428,"display_name":"Bolo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1637157268,"creation_date":1637155575,"question_id":70005242,"body_markdown":"I&#39;m struggling with an issue. I have a 3x3 grid filled with images. When you click an image you are able to rotate it clockwise or anti-clockwise. I then set the rotation with `.setrotation` however I also want to animate the movement. \r\n\r\nI am using an animator to rotate the image but that does not set the rotation so I do this as well. \r\n\r\n    RotateAnimation rotate = new RotateAnimation(prevRotation, rotationClockwise, Animation.RELATIVE_TO_SELF, 0.5f, Animation.RELATIVE_TO_SELF, 0.5f);\r\n            rotate.setDuration(999);\r\n            rotate.setInterpolator(new LinearInterpolator());\r\n            rotate.setFillAfter(true);\r\n\r\nThe issue I&#39;m facing is once I complete the animation and set the rotation it does another 90&#39; spin. I believe the animator is only triggering the bitmap and the spin is spinning the whole view. \r\n\r\nHow would I go about solving this issue?","title":"Rotate image and set rotation","body":"<p>I'm struggling with an issue. I have a 3x3 grid filled with images. When you click an image you are able to rotate it clockwise or anti-clockwise. I then set the rotation with <code>.setrotation</code> however I also want to animate the movement.</p>\n<p>I am using an animator to rotate the image but that does not set the rotation so I do this as well.</p>\n<pre><code>RotateAnimation rotate = new RotateAnimation(prevRotation, rotationClockwise, Animation.RELATIVE_TO_SELF, 0.5f, Animation.RELATIVE_TO_SELF, 0.5f);\n        rotate.setDuration(999);\n        rotate.setInterpolator(new LinearInterpolator());\n        rotate.setFillAfter(true);\n</code></pre>\n<p>The issue I'm facing is once I complete the animation and set the rotation it does another 90' spin. I believe the animator is only triggering the bitmap and the spin is spinning the whole view.</p>\n<p>How would I go about solving this issue?</p>\n"},{"tags":["java","spring","hibernate","inheritance"],"answers":[{"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637157123,"creation_date":1637157123,"answer_id":70005620,"question_id":70004761,"body_markdown":"You are not using the `@ManyToMany` annotation in a correct way.\r\nHere&#39;s how you do ... imagine you have a `Student` entity and `Course` entity.\r\n\r\nAnd students like some courses and don&#39;t like others. You want to store information about liked courses in the DB. Here&#39;s how you do ...\r\n\r\n```\r\nclass Student {\r\n\r\n// OK, so student class will be the owner of the relationship\r\n// Here we describe the join table, which stores many-to-many data in the DB\r\n@ManyToMany\r\n@JoinTable(\r\n  name = &quot;course_like&quot;, \r\n  joinColumns = @JoinColumn(name = &quot;student_id&quot;), \r\n  inverseJoinColumns = @JoinColumn(name = &quot;course_id&quot;))\r\nSet&lt;Course&gt; likedCourses;\r\n}\r\n```\r\n\r\nAnd for course class you do like this ... \r\n\r\n```\r\n// Just add a simple mapped by followed by the name of the field in the owning entity\r\n@ManyToMany(mappedBy = &quot;likedCourses&quot;)\r\nSet&lt;Student&gt; likes;\r\n```\r\n\r\nDoes this solve your problem ? Let me know in the comments.","title":"Hibernate Relationships with inheritance","body":"<p>You are not using the <code>@ManyToMany</code> annotation in a correct way.\nHere's how you do ... imagine you have a <code>Student</code> entity and <code>Course</code> entity.</p>\n<p>And students like some courses and don't like others. You want to store information about liked courses in the DB. Here's how you do ...</p>\n<pre><code>class Student {\n\n// OK, so student class will be the owner of the relationship\n// Here we describe the join table, which stores many-to-many data in the DB\n@ManyToMany\n@JoinTable(\n  name = &quot;course_like&quot;, \n  joinColumns = @JoinColumn(name = &quot;student_id&quot;), \n  inverseJoinColumns = @JoinColumn(name = &quot;course_id&quot;))\nSet&lt;Course&gt; likedCourses;\n}\n</code></pre>\n<p>And for course class you do like this ...</p>\n<pre><code>// Just add a simple mapped by followed by the name of the field in the owning entity\n@ManyToMany(mappedBy = &quot;likedCourses&quot;)\nSet&lt;Student&gt; likes;\n</code></pre>\n<p>Does this solve your problem ? Let me know in the comments.</p>\n"}],"owner":{"account_id":19795911,"reputation":56,"user_id":14497865,"display_name":"Vincent"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70005620,"answer_count":1,"score":0,"last_activity_date":1637157123,"creation_date":1637153599,"question_id":70004761,"body_markdown":"I have 4 classes. Entry, EntryTypeOne, EntryTypeTwo and ExampleClass\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@Entity\r\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\r\n@DiscriminatorColumn(name=&quot;entryType&quot;,\r\n        discriminatorType = DiscriminatorType.STRING)\r\npublic class Entry {\r\n    @Id\r\n    @GeneratedValue\r\n    protected Long id;\r\n\r\n    @Column(nullable = false)\r\n    protected String title;\r\n\r\n    @Column(nullable = false)\r\n    protected String description;\r\n}\r\n```\r\n\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@Entity\r\n@DiscriminatorValue(&quot;One&quot;)\r\npublic class EntryTypeOne extends Entry{\r\n\r\n    @ManyToMany(cascade = CascadeType.ALL)\r\n    private List&lt;ExampleClass&gt; exampleClasses;\r\n}\r\n```\r\n\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@Entity\r\n@DiscriminatorValue(&quot;Two&quot;)\r\npublic class EntryTypeTwo extends Entry{\r\n\r\n    @ManyToMany(cascade = CascadeType.ALL)\r\n    private List&lt;ExampleClass&gt; exampleClasses;\r\n}\r\n```\r\n\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@Entity\r\npublic class ExampleClass {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n\r\n    @ManyToMany(mappedBy = &quot;exapmleClasses&quot;)\r\n    private List&lt;Entry&gt; entries;\r\n}\r\n```\r\n\r\nWhen I start this I get this error:\r\n```\r\nnested exception is org.hibernate.AnnotationException: mappedBy reference an unknown target entity property: ch.musiciansearch.vingrn.entity.Entry.exampleClasses in ch.musiciansearch.vingrn.entity.ExampleClass.entries\r\n```\r\nMy Goal is to make a DB like this:\r\n[DBIMAGE][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yAdUT.png\r\n\r\nCan I do this without implementing two Lists with the EntryTypes (1 for entrytypeone and 1 for entrytypetwo)?","title":"Hibernate Relationships with inheritance","body":"<p>I have 4 classes. Entry, EntryTypeOne, EntryTypeTwo and ExampleClass</p>\n<pre><code>@Getter\n@Setter\n@Entity\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\n@DiscriminatorColumn(name=&quot;entryType&quot;,\n        discriminatorType = DiscriminatorType.STRING)\npublic class Entry {\n    @Id\n    @GeneratedValue\n    protected Long id;\n\n    @Column(nullable = false)\n    protected String title;\n\n    @Column(nullable = false)\n    protected String description;\n}\n</code></pre>\n<pre><code>@Getter\n@Setter\n@Entity\n@DiscriminatorValue(&quot;One&quot;)\npublic class EntryTypeOne extends Entry{\n\n    @ManyToMany(cascade = CascadeType.ALL)\n    private List&lt;ExampleClass&gt; exampleClasses;\n}\n</code></pre>\n<pre><code>@Getter\n@Setter\n@Entity\n@DiscriminatorValue(&quot;Two&quot;)\npublic class EntryTypeTwo extends Entry{\n\n    @ManyToMany(cascade = CascadeType.ALL)\n    private List&lt;ExampleClass&gt; exampleClasses;\n}\n</code></pre>\n<pre><code>@Getter\n@Setter\n@Entity\npublic class ExampleClass {\n\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    @ManyToMany(mappedBy = &quot;exapmleClasses&quot;)\n    private List&lt;Entry&gt; entries;\n}\n</code></pre>\n<p>When I start this I get this error:</p>\n<pre><code>nested exception is org.hibernate.AnnotationException: mappedBy reference an unknown target entity property: ch.musiciansearch.vingrn.entity.Entry.exampleClasses in ch.musiciansearch.vingrn.entity.ExampleClass.entries\n</code></pre>\n<p>My Goal is to make a DB like this:\n<a href=\"https://i.stack.imgur.com/yAdUT.png\" rel=\"nofollow noreferrer\">DBIMAGE</a></p>\n<p>Can I do this without implementing two Lists with the EntryTypes (1 for entrytypeone and 1 for entrytypetwo)?</p>\n"},{"tags":["java","performance","exception"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":22,"creation_date":1459456717,"post_id":36343209,"comment_id":60308379,"body_markdown":"I believe it is filling in and populating the stack trace.","body":"I believe it is filling in and populating the stack trace."},{"owner":{"account_id":5369445,"reputation":1136,"user_id":4278394,"display_name":"Jorge"},"score":12,"creation_date":1459456840,"post_id":36343209,"comment_id":60308444,"body_markdown":"Check this: http://stackoverflow.com/questions/16451777/is-it-expensive-to-use-try-catch-blocks-even-if-an-exception-is-never-thrown","body":"Check this: <a href=\"http://stackoverflow.com/questions/16451777/is-it-expensive-to-use-try-catch-blocks-even-if-an-exception-is-never-thrown\" title=\"is it expensive to use try catch blocks even if an exception is never thrown\">stackoverflow.com/questions/16451777/&hellip;</a>"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1459457963,"post_id":36343209,"comment_id":60309075,"body_markdown":"&quot;if I made one instance of Exception and threw and caught it over and over,&quot;  when exception is created its stacktrace is filled which means it will always be same stactrace regardless of place from which it was thrown. If stacktrace is not important for you than you could try your idea but this could make debugging very hard if not impossible in some cases.","body":"&quot;if I made one instance of Exception and threw and caught it over and over,&quot;  when exception is created its stacktrace is filled which means it will always be same stactrace regardless of place from which it was thrown. If stacktrace is not important for you than you could try your idea but this could make debugging very hard if not impossible in some cases."},{"owner":{"account_id":1008301,"reputation":7815,"user_id":1021426,"accept_rate":81,"display_name":"Mar"},"score":2,"creation_date":1459458063,"post_id":36343209,"comment_id":60309137,"body_markdown":"@Pshemo I don&#39;t plan to *actually* do this in code, I&#39;m asking about the performance, and using this absurdity as an example where it could make a difference.","body":"@Pshemo I don&#39;t plan to <i>actually</i> do this in code, I&#39;m asking about the performance, and using this absurdity as an example where it could make a difference."},{"owner":{"account_id":1114689,"reputation":11376,"user_id":1104328,"accept_rate":50,"display_name":"Harry"},"score":0,"creation_date":1459558603,"post_id":36343209,"comment_id":60355272,"body_markdown":"@MartinCarney I&#39;ve added an answer to your last paragraph ie would  caching an Exception have a performance gain. If it&#39;s useful I can add the code, if not I can delete the answer.","body":"@MartinCarney I&#39;ve added an answer to your last paragraph ie would  caching an Exception have a performance gain. If it&#39;s useful I can add the code, if not I can delete the answer."},{"owner":{"account_id":3659411,"reputation":40844,"user_id":3049628,"accept_rate":78,"display_name":"Tim B"},"score":0,"creation_date":1459639732,"post_id":36343209,"comment_id":60377153,"body_markdown":"Not a duplicate of the one in the close reason, although it&#39;s a similar question the emphasis is different","body":"Not a duplicate of the one in the close reason, although it&#39;s a similar question the emphasis is different"}],"answers":[{"tags":[],"owner":{"account_id":4688412,"reputation":8118,"user_id":3795219,"accept_rate":70,"display_name":"Austin"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1459466101,"creation_date":1459458031,"answer_id":36343689,"question_id":36343209,"body_markdown":"The creation of the `Exception` with a `null` stack trace takes about as much time as the `throw` and `try-catch` block together. However, **filling the stack trace takes on average 5x longer**. \r\n\r\nI created the following benchmark to demonstrate the impact on performance. I added the `-Djava.compiler=NONE` to the Run Configuration to disable compiler optimization. To measure the impact of building the stack trace, I extended the `Exception` class to take advantage of the stack-free constructor:\r\n\r\n\tclass NoStackException extends Exception{\r\n\t\tpublic NoStackException() {\r\n\t\t\tsuper(&quot;&quot;,null,false,false);\r\n\t\t}\r\n\t}\r\n\r\nThe benchmark code is as follows:\r\n\r\n\tpublic class ExceptionBenchmark {\r\n\t\r\n\t\tprivate static final int NUM_TRIES = 100000;\r\n\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\r\n\t\t\tlong throwCatchTime = 0, newExceptionTime = 0, newObjectTime = 0, noStackExceptionTime = 0;\r\n\t\r\n\t\t\tfor (int i = 0; i &lt; 30; i++) {\r\n\t\t\t\tthrowCatchTime += throwCatchLoop();\r\n\t\t\t\tnewExceptionTime += newExceptionLoop();\r\n\t\t\t\tnewObjectTime += newObjectLoop();\r\n\t\t\t\tnoStackExceptionTime += newNoStackExceptionLoop();\r\n\t\t\t}\r\n\t\r\n\t\t\tSystem.out.println(&quot;throwCatchTime = &quot; + throwCatchTime / 30);\r\n\t\t\tSystem.out.println(&quot;newExceptionTime = &quot; + newExceptionTime / 30);\r\n\t\t\tSystem.out.println(&quot;newStringTime = &quot; + newObjectTime / 30);\r\n\t\t\tSystem.out.println(&quot;noStackExceptionTime = &quot; + noStackExceptionTime / 30);\r\n\t\r\n\t\t}\r\n\t\r\n\t\tprivate static long throwCatchLoop() {\r\n\t\t\tException ex = new Exception(); //Instantiated here\r\n\t\t\tlong start = System.currentTimeMillis();\r\n\t\t\tfor (int i = 0; i &lt; NUM_TRIES; i++) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tthrow ex; //repeatedly thrown\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\t\r\n\t\t\t\t\t// do nothing\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tlong stop = System.currentTimeMillis();\r\n\t\t\treturn stop - start;\r\n\t\t}\r\n\t\r\n\t\tprivate static long newExceptionLoop() {\r\n\t\t\tlong start = System.currentTimeMillis();\r\n\t\t\tfor (int i = 0; i &lt; NUM_TRIES; i++) {\r\n\t\t\t\tException e = new Exception();\r\n\t\t\t}\r\n\t\t\tlong stop = System.currentTimeMillis();\r\n\t\t\treturn stop - start;\r\n\t\t}\r\n\t\r\n\t\tprivate static long newObjectLoop() {\r\n\t\t\tlong start = System.currentTimeMillis();\r\n\t\t\tfor (int i = 0; i &lt; NUM_TRIES; i++) {\r\n\t\t\t\tObject o = new Object();\r\n\t\t\t}\r\n\t\t\tlong stop = System.currentTimeMillis();\r\n\t\t\treturn stop - start;\r\n\t\t}\r\n\r\n\t\tprivate static long newNoStackExceptionLoop() {\r\n\t\t\tlong start = System.currentTimeMillis();\r\n\t\t\tfor (int i = 0; i &lt; NUM_TRIES; i++) {\r\n\t\t\t\tNoStackException e = new NoStackException();\r\n\t\t\t}\r\n\t\t\tlong stop = System.currentTimeMillis();\r\n\t\t\treturn stop - start;\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n**Output:**\r\n\r\n    throwCatchTime = 19\r\n    newExceptionTime = 77\r\n    newObjectTime = 3\r\n    noStackExceptionTime = 15\r\n\r\nThis implies that creating a `NoStackException` is approximately as expensive as repeatedly throwing the same `Exception`. It also shows that creating an `Exception` and filling its stack trace takes approximately **4x** longer. \r\n\r\n\r\n\r\n\r\n","title":"Which part of throwing an Exception is expensive?","body":"<p>The creation of the <code>Exception</code> with a <code>null</code> stack trace takes about as much time as the <code>throw</code> and <code>try-catch</code> block together. However, <strong>filling the stack trace takes on average 5x longer</strong>. </p>\n\n<p>I created the following benchmark to demonstrate the impact on performance. I added the <code>-Djava.compiler=NONE</code> to the Run Configuration to disable compiler optimization. To measure the impact of building the stack trace, I extended the <code>Exception</code> class to take advantage of the stack-free constructor:</p>\n\n<pre><code>class NoStackException extends Exception{\n    public NoStackException() {\n        super(\"\",null,false,false);\n    }\n}\n</code></pre>\n\n<p>The benchmark code is as follows:</p>\n\n<pre><code>public class ExceptionBenchmark {\n\n    private static final int NUM_TRIES = 100000;\n\n    public static void main(String[] args) {\n\n        long throwCatchTime = 0, newExceptionTime = 0, newObjectTime = 0, noStackExceptionTime = 0;\n\n        for (int i = 0; i &lt; 30; i++) {\n            throwCatchTime += throwCatchLoop();\n            newExceptionTime += newExceptionLoop();\n            newObjectTime += newObjectLoop();\n            noStackExceptionTime += newNoStackExceptionLoop();\n        }\n\n        System.out.println(\"throwCatchTime = \" + throwCatchTime / 30);\n        System.out.println(\"newExceptionTime = \" + newExceptionTime / 30);\n        System.out.println(\"newStringTime = \" + newObjectTime / 30);\n        System.out.println(\"noStackExceptionTime = \" + noStackExceptionTime / 30);\n\n    }\n\n    private static long throwCatchLoop() {\n        Exception ex = new Exception(); //Instantiated here\n        long start = System.currentTimeMillis();\n        for (int i = 0; i &lt; NUM_TRIES; i++) {\n            try {\n                throw ex; //repeatedly thrown\n            } catch (Exception e) {\n\n                // do nothing\n            }\n        }\n        long stop = System.currentTimeMillis();\n        return stop - start;\n    }\n\n    private static long newExceptionLoop() {\n        long start = System.currentTimeMillis();\n        for (int i = 0; i &lt; NUM_TRIES; i++) {\n            Exception e = new Exception();\n        }\n        long stop = System.currentTimeMillis();\n        return stop - start;\n    }\n\n    private static long newObjectLoop() {\n        long start = System.currentTimeMillis();\n        for (int i = 0; i &lt; NUM_TRIES; i++) {\n            Object o = new Object();\n        }\n        long stop = System.currentTimeMillis();\n        return stop - start;\n    }\n\n    private static long newNoStackExceptionLoop() {\n        long start = System.currentTimeMillis();\n        for (int i = 0; i &lt; NUM_TRIES; i++) {\n            NoStackException e = new NoStackException();\n        }\n        long stop = System.currentTimeMillis();\n        return stop - start;\n    }\n\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>throwCatchTime = 19\nnewExceptionTime = 77\nnewObjectTime = 3\nnoStackExceptionTime = 15\n</code></pre>\n\n<p>This implies that creating a <code>NoStackException</code> is approximately as expensive as repeatedly throwing the same <code>Exception</code>. It also shows that creating an <code>Exception</code> and filling its stack trace takes approximately <strong>4x</strong> longer. </p>\n"},{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":75,"is_accepted":false,"score":75,"last_activity_date":1459523659,"creation_date":1459459237,"answer_id":36344028,"question_id":36343209,"body_markdown":"The first operation in most `Throwable` constructors is to [fill in the stack trace,][1] which is where most of the expense is.\r\n\r\nThere is, however, a protected constructor with a flag to disable the stack trace. [This constructor][2] is accessible when extending `Exception` as well. If you create a custom exception type, you can avoid the stack trace creation and get better performance at the expense of less information.\r\n\r\nIf you create a single exception of any type by normal means, you can re-throw it many times without the overhead of filling in the stack trace. However, its stack trace will reflect where it was constructed, not where it was thrown in a particular instance.\r\n\r\nCurrent versions of Java make some attempts to optimize stack trace creation. Native code is invoked to fill in the stack trace, which records the trace in a lighter-weight, native structure. Corresponding Java [`StackTraceElement`][3] objects are lazily created from this record only when the `getStackTrace()`, `printStackTrace()`, or other methods that require the trace are called.\r\n\r\nIf you eliminate stack trace generation, the other main cost is unwinding the stack between the throw and the catch. The fewer intervening frames encountered before the exception is caught, the faster this will be.\r\n\r\nDesign your program so that exceptions are thrown only in truly exceptional cases, and optimizations like these are hard to justify.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html#fillInStackTrace--\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/lang/Exception.html#Exception-java.lang.String-java.lang.Throwable-boolean-boolean-\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/lang/StackTraceElement.html","title":"Which part of throwing an Exception is expensive?","body":"<p>The first operation in most <code>Throwable</code> constructors is to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html#fillInStackTrace--\">fill in the stack trace,</a> which is where most of the expense is.</p>\n\n<p>There is, however, a protected constructor with a flag to disable the stack trace. <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Exception.html#Exception-java.lang.String-java.lang.Throwable-boolean-boolean-\">This constructor</a> is accessible when extending <code>Exception</code> as well. If you create a custom exception type, you can avoid the stack trace creation and get better performance at the expense of less information.</p>\n\n<p>If you create a single exception of any type by normal means, you can re-throw it many times without the overhead of filling in the stack trace. However, its stack trace will reflect where it was constructed, not where it was thrown in a particular instance.</p>\n\n<p>Current versions of Java make some attempts to optimize stack trace creation. Native code is invoked to fill in the stack trace, which records the trace in a lighter-weight, native structure. Corresponding Java <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/StackTraceElement.html\"><code>StackTraceElement</code></a> objects are lazily created from this record only when the <code>getStackTrace()</code>, <code>printStackTrace()</code>, or other methods that require the trace are called.</p>\n\n<p>If you eliminate stack trace generation, the other main cost is unwinding the stack between the throw and the catch. The fewer intervening frames encountered before the exception is caught, the faster this will be.</p>\n\n<p>Design your program so that exceptions are thrown only in truly exceptional cases, and optimizations like these are hard to justify.</p>\n"},{"tags":[],"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"down_vote_count":0,"up_vote_count":305,"is_accepted":true,"score":305,"last_activity_date":1637156990,"creation_date":1459460128,"answer_id":36344265,"question_id":36343209,"body_markdown":"**Creating** an exception object is not *necessarily* more expensive than creating other regular objects. The main cost is hidden in native [`fillInStackTrace`](http://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html#fillInStackTrace--) method which walks through the call stack and collects all required information to build a stack trace: classes, method names, line numbers etc.\r\n\r\nMost of `Throwable` constructors implicitly call `fillInStackTrace`.  This is where the idea that creating exceptions is slow comes from. However, there is one [constructor](http://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html#Throwable-java.lang.String-java.lang.Throwable-boolean-boolean-) to create a `Throwable` without a stack trace. It allows you to make throwables that are very fast to instantiate. Another way to create lightweight exceptions is to override `fillInStackTrace`.\r\n\r\n---\r\n\r\nNow what about **throwing** an exception?  \r\nIn fact, it depends on where a thrown exception is **caught**.\r\n\r\nIf it is caught in the same method (or, more precisely, in the same context, since the context can include several methods due to inlining), then `throw` is as fast and simple as `goto` (of course, after JIT compilation).\r\n\r\nHowever if a `catch` block is somewhere deeper in the stack, then JVM needs to unwind the stack frames, and this can take significantly longer. It takes even longer, if there are `synchronized` blocks or methods involved, because unwinding implies releasing of monitors owned by removed stack frames.\r\n\r\n---\r\n\r\nI could confirm the above statements by proper benchmarks, but fortunately I don&#39;t need to do this, since all the aspects are already perfectly covered in the post of HotSpot&#39;s performance engineer Alexey Shipilev: [The Exceptional Performance of Lil&#39; Exception](http://shipilev.net/blog/2014/exceptional-performance/).","title":"Which part of throwing an Exception is expensive?","body":"<p><strong>Creating</strong> an exception object is not <em>necessarily</em> more expensive than creating other regular objects. The main cost is hidden in native <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html#fillInStackTrace--\" rel=\"noreferrer\"><code>fillInStackTrace</code></a> method which walks through the call stack and collects all required information to build a stack trace: classes, method names, line numbers etc.</p>\n<p>Most of <code>Throwable</code> constructors implicitly call <code>fillInStackTrace</code>.  This is where the idea that creating exceptions is slow comes from. However, there is one <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html#Throwable-java.lang.String-java.lang.Throwable-boolean-boolean-\" rel=\"noreferrer\">constructor</a> to create a <code>Throwable</code> without a stack trace. It allows you to make throwables that are very fast to instantiate. Another way to create lightweight exceptions is to override <code>fillInStackTrace</code>.</p>\n<hr />\n<p>Now what about <strong>throwing</strong> an exception?<br />\nIn fact, it depends on where a thrown exception is <strong>caught</strong>.</p>\n<p>If it is caught in the same method (or, more precisely, in the same context, since the context can include several methods due to inlining), then <code>throw</code> is as fast and simple as <code>goto</code> (of course, after JIT compilation).</p>\n<p>However if a <code>catch</code> block is somewhere deeper in the stack, then JVM needs to unwind the stack frames, and this can take significantly longer. It takes even longer, if there are <code>synchronized</code> blocks or methods involved, because unwinding implies releasing of monitors owned by removed stack frames.</p>\n<hr />\n<p>I could confirm the above statements by proper benchmarks, but fortunately I don't need to do this, since all the aspects are already perfectly covered in the post of HotSpot's performance engineer Alexey Shipilev: <a href=\"http://shipilev.net/blog/2014/exceptional-performance/\" rel=\"noreferrer\">The Exceptional Performance of Lil' Exception</a>.</p>\n"},{"tags":[],"owner":{"account_id":1008301,"reputation":7815,"user_id":1021426,"accept_rate":81,"display_name":"Mar"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1459460245,"creation_date":1459460245,"answer_id":36344302,"question_id":36343209,"body_markdown":"Using @AustinD&#39;s answer as a starting point, I made some tweaks. Code at the bottom.\r\n\r\nIn addition to adding the case where one Exception instance is thrown repeatedly, I also turned off compiler optimization so that we can get accurate performance results. I added `-Djava.compiler=NONE` to the VM arguments, as per [this answer](https://stackoverflow.com/a/5242430/1021426).  (In eclipse, edit the Run Configuration &amp;rarr; Arguments to set this VM argument)\r\n\r\nThe results:\r\n\r\n    new Exception + throw/catch = 643.5\r\n    new Exception only          = 510.7\r\n    throw/catch only            = 115.2\r\n    new String (benchmark)      = 669.8\r\n\r\nSo creating the exception costs about 5x as much as throwing + catching it. Assuming the compiler doesn&#39;t optimize away much of the cost.\r\n\r\nFor comparison, here&#39;s the same test run without disabling optimization:\r\n\r\n    new Exception + throw/catch = 382.6\r\n    new Exception only          = 379.5\r\n    throw/catch only            = 0.3\r\n    new String (benchmark)      = 15.6\r\n\r\nCode:\r\n\t\r\n\tpublic class ExceptionPerformanceTest {\r\n\t\t\r\n\t\tprivate static final int NUM_TRIES = 1000000;\r\n\t\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\t\r\n\t\t\tdouble numIterations = 10;\r\n\t\t\t\r\n\t\t\tlong exceptionPlusCatchTime = 0, excepTime = 0, strTime = 0, throwTime = 0;\r\n\t\t\t\r\n\t\t\tfor (int i = 0; i &lt; numIterations; i++) {\r\n\t\t\t\texceptionPlusCatchTime += exceptionPlusCatchBlock();\r\n\t\t\t\texcepTime += createException();\r\n\t\t\t\tthrowTime += catchBlock();\r\n\t\t\t\tstrTime += createString();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;new Exception + throw/catch = &quot; + exceptionPlusCatchTime / numIterations);\r\n\t\t\tSystem.out.println(&quot;new Exception only          = &quot; + excepTime / numIterations);\r\n\t\t\tSystem.out.println(&quot;throw/catch only            = &quot; + throwTime / numIterations);\r\n\t\t\tSystem.out.println(&quot;new String (benchmark)      = &quot; + strTime / numIterations);\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tprivate static long exceptionPlusCatchBlock() {\r\n\t\t\tlong start = System.currentTimeMillis();\r\n\t\t\tfor (int i = 0; i &lt; NUM_TRIES; i++) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tthrow new Exception();\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\t// do nothing\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tlong stop = System.currentTimeMillis();\r\n\t\t\treturn stop - start;\r\n\t\t}\r\n\t\t\r\n\t\tprivate static long createException() {\r\n\t\t\tlong start = System.currentTimeMillis();\r\n\t\t\tfor (int i = 0; i &lt; NUM_TRIES; i++) {\r\n\t\t\t\tException e = new Exception();\r\n\t\t\t}\r\n\t\t\tlong stop = System.currentTimeMillis();\r\n\t\t\treturn stop - start;\r\n\t\t}\r\n\t\t\r\n\t\tprivate static long createString() {\r\n\t\t\tlong start = System.currentTimeMillis();\r\n\t\t\tfor (int i = 0; i &lt; NUM_TRIES; i++) {\r\n\t\t\t\tObject o = new String(&quot;&quot; + i);\r\n\t\t\t}\r\n\t\t\tlong stop = System.currentTimeMillis();\r\n\t\t\treturn stop - start;\r\n\t\t}\r\n\t\t\r\n\t\tprivate static long catchBlock() {\r\n\t\t\tException ex = new Exception(); //Instantiated here\r\n\t\t\tlong start = System.currentTimeMillis();\r\n\t\t\tfor (int i = 0; i &lt; NUM_TRIES; i++) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tthrow ex; //repeatedly thrown\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\t// do nothing\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tlong stop = System.currentTimeMillis();\r\n\t\t\treturn stop - start;\r\n\t\t}\r\n\t}\r\n","title":"Which part of throwing an Exception is expensive?","body":"<p>Using @AustinD's answer as a starting point, I made some tweaks. Code at the bottom.</p>\n\n<p>In addition to adding the case where one Exception instance is thrown repeatedly, I also turned off compiler optimization so that we can get accurate performance results. I added <code>-Djava.compiler=NONE</code> to the VM arguments, as per <a href=\"https://stackoverflow.com/a/5242430/1021426\">this answer</a>.  (In eclipse, edit the Run Configuration &rarr; Arguments to set this VM argument)</p>\n\n<p>The results:</p>\n\n<pre><code>new Exception + throw/catch = 643.5\nnew Exception only          = 510.7\nthrow/catch only            = 115.2\nnew String (benchmark)      = 669.8\n</code></pre>\n\n<p>So creating the exception costs about 5x as much as throwing + catching it. Assuming the compiler doesn't optimize away much of the cost.</p>\n\n<p>For comparison, here's the same test run without disabling optimization:</p>\n\n<pre><code>new Exception + throw/catch = 382.6\nnew Exception only          = 379.5\nthrow/catch only            = 0.3\nnew String (benchmark)      = 15.6\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>public class ExceptionPerformanceTest {\n\n    private static final int NUM_TRIES = 1000000;\n\n    public static void main(String[] args) {\n\n        double numIterations = 10;\n\n        long exceptionPlusCatchTime = 0, excepTime = 0, strTime = 0, throwTime = 0;\n\n        for (int i = 0; i &lt; numIterations; i++) {\n            exceptionPlusCatchTime += exceptionPlusCatchBlock();\n            excepTime += createException();\n            throwTime += catchBlock();\n            strTime += createString();\n        }\n\n        System.out.println(\"new Exception + throw/catch = \" + exceptionPlusCatchTime / numIterations);\n        System.out.println(\"new Exception only          = \" + excepTime / numIterations);\n        System.out.println(\"throw/catch only            = \" + throwTime / numIterations);\n        System.out.println(\"new String (benchmark)      = \" + strTime / numIterations);\n\n    }\n\n    private static long exceptionPlusCatchBlock() {\n        long start = System.currentTimeMillis();\n        for (int i = 0; i &lt; NUM_TRIES; i++) {\n            try {\n                throw new Exception();\n            } catch (Exception e) {\n                // do nothing\n            }\n        }\n        long stop = System.currentTimeMillis();\n        return stop - start;\n    }\n\n    private static long createException() {\n        long start = System.currentTimeMillis();\n        for (int i = 0; i &lt; NUM_TRIES; i++) {\n            Exception e = new Exception();\n        }\n        long stop = System.currentTimeMillis();\n        return stop - start;\n    }\n\n    private static long createString() {\n        long start = System.currentTimeMillis();\n        for (int i = 0; i &lt; NUM_TRIES; i++) {\n            Object o = new String(\"\" + i);\n        }\n        long stop = System.currentTimeMillis();\n        return stop - start;\n    }\n\n    private static long catchBlock() {\n        Exception ex = new Exception(); //Instantiated here\n        long start = System.currentTimeMillis();\n        for (int i = 0; i &lt; NUM_TRIES; i++) {\n            try {\n                throw ex; //repeatedly thrown\n            } catch (Exception e) {\n                // do nothing\n            }\n        }\n        long stop = System.currentTimeMillis();\n        return stop - start;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1114689,"reputation":11376,"user_id":1104328,"accept_rate":50,"display_name":"Harry"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1473291474,"creation_date":1459460804,"answer_id":36344430,"question_id":36343209,"body_markdown":"Theres a good write up on Exceptions here.\r\n\r\nhttp://shipilev.net/blog/2014/exceptional-performance/\r\n\r\nThe conclusion being that stack trace construction and stack unwinding are the expensive parts. The code below takes advantage of a feature in `1.7` where we can turn stack traces on and off. We can then use this to see what sort of costs different scenarios have\r\n\r\nThe following are timings for Object creation alone. I&#39;ve added `String` here so you can see that without the stack being written there&#39;s almost no difference in creating a `JavaException` Object and a `String`. With stack writing turned on the difference is dramatic ie at least one order of magnitude slower.\r\n\r\n    Time to create million String objects: 41.41 (ms)\r\n    Time to create million JavaException objects with    stack: 608.89 (ms)\r\n    Time to create million JavaException objects without stack: 43.50 (ms)\r\n\r\nThe following shows how long it took to return from a throw at a particular depth a million times.\r\n\r\n    |Depth| WriteStack(ms)| !WriteStack(ms)| Diff(%)|\r\n    |   16|           1428|             243| 588 (%)|\r\n    |   15|           1763|             393| 449 (%)|\r\n    |   14|           1746|             390| 448 (%)|\r\n    |   13|           1703|             384| 443 (%)|\r\n    |   12|           1697|             391| 434 (%)|\r\n    |   11|           1707|             410| 416 (%)|\r\n    |   10|           1226|             197| 622 (%)|\r\n    |    9|           1242|             206| 603 (%)|\r\n    |    8|           1251|             207| 604 (%)|\r\n    |    7|           1213|             208| 583 (%)|\r\n    |    6|           1164|             206| 565 (%)|\r\n    |    5|           1134|             205| 553 (%)|\r\n    |    4|           1106|             203| 545 (%)|\r\n    |    3|           1043|             192| 543 (%)| \r\n\r\nThe following is almost certainly a gross over simplification...\r\n\r\nIf we take a depth of 16 with stack writing on then object creation is taking approximately ~40% of the time, the actual stack trace accounts for the vast majority of this. ~93% of instantiating the JavaException object is due to the stack trace being taken. This means that unwinding the stack in this case is taking the other 50% of the time.\r\n\r\nWhen we turn off the stack trace object creation accounts for a much smaller\r\nfraction ie 20% and stack unwinding now accounts for 80% of the time.\r\n\r\nIn both cases stack unwinding takes a large portion of the overall time.\r\n\r\n    public class JavaException extends Exception {\r\n      JavaException(String reason, int mode) {\r\n        super(reason, null, false, false);\r\n      }\r\n      JavaException(String reason) {\r\n        super(reason);\r\n      }\r\n    \r\n      public static void main(String[] args) {\r\n        int iterations = 1000000;\r\n        long create_time_with    = 0;\r\n        long create_time_without = 0;\r\n        long create_string = 0;\r\n        for (int i = 0; i &lt; iterations; i++) {\r\n          long start = System.nanoTime();\r\n          JavaException jex = new JavaException(&quot;testing&quot;);\r\n          long stop  =  System.nanoTime();\r\n          create_time_with += stop - start;\r\n    \r\n          start = System.nanoTime();\r\n          JavaException jex2 = new JavaException(&quot;testing&quot;, 1);\r\n          stop = System.nanoTime();\r\n          create_time_without += stop - start;\r\n    \r\n          start = System.nanoTime();\r\n          String str = new String(&quot;testing&quot;);\r\n          stop = System.nanoTime();\r\n          create_string += stop - start;\r\n    \r\n        }\r\n        double interval_with    = ((double)create_time_with)/1000000;\r\n        double interval_without = ((double)create_time_without)/1000000;\r\n        double interval_string  = ((double)create_string)/1000000;\r\n    \r\n        System.out.printf(&quot;Time to create %d String objects: %.2f (ms)\\n&quot;, iterations, interval_string);\r\n        System.out.printf(&quot;Time to create %d JavaException objects with    stack: %.2f (ms)\\n&quot;, iterations, interval_with);\r\n        System.out.printf(&quot;Time to create %d JavaException objects without stack: %.2f (ms)\\n&quot;, iterations, interval_without);\r\n    \r\n        JavaException jex = new JavaException(&quot;testing&quot;);\r\n        int depth = 14;\r\n        int i = depth;\r\n        double[] with_stack    = new double[20];\r\n        double[] without_stack = new double[20];\r\n    \r\n        for(; i &gt; 0 ; --i) {\r\n          without_stack[i] = jex.timerLoop(i, iterations, 0)/1000000;\r\n          with_stack[i]    = jex.timerLoop(i, iterations, 1)/1000000;\r\n        }\r\n        i = depth;\r\n        System.out.printf(&quot;|Depth| WriteStack(ms)| !WriteStack(ms)| Diff(%%)|\\n&quot;);\r\n        for(; i &gt; 0 ; --i) {\r\n          double ratio = (with_stack[i] / (double) without_stack[i]) * 100;\r\n          System.out.printf(&quot;|%5d| %14.0f| %15.0f| %2.0f (%%)| \\n&quot;, i + 2, with_stack[i] , without_stack[i], ratio);\r\n          //System.out.printf(&quot;%d\\t%.2f (ms)\\n&quot;, i, ratio);\r\n        }\r\n      }\r\n     private int thrower(int i, int mode) throws JavaException {\r\n        ExArg.time_start[i] = System.nanoTime();\r\n        if(mode == 0) { throw new JavaException(&quot;without stack&quot;, 1); }\r\n        throw new JavaException(&quot;with stack&quot;);\r\n      }\r\n      private int catcher1(int i, int mode) throws JavaException{\r\n        return this.stack_of_calls(i, mode);\r\n      }\r\n      private long timerLoop(int depth, int iterations, int mode) {\r\n        for (int i = 0; i &lt; iterations; i++) {\r\n          try {\r\n            this.catcher1(depth, mode);\r\n          } catch (JavaException e) {\r\n            ExArg.time_accum[depth] += (System.nanoTime() - ExArg.time_start[depth]);\r\n          }\r\n        }\r\n        //long stop = System.nanoTime();\r\n        return ExArg.time_accum[depth];\r\n      }\r\n    \r\n      private int bad_method14(int i, int mode) throws JavaException  {\r\n        if(i &gt; 0) { this.thrower(i, mode); }\r\n        return i;\r\n      }\r\n      private int bad_method13(int i, int mode) throws JavaException  {\r\n        if(i == 13) { this.thrower(i, mode); }\r\n        return bad_method14(i,mode);\r\n      }\r\n      private int bad_method12(int i, int mode) throws JavaException{\r\n        if(i == 12) { this.thrower(i, mode); }\r\n        return bad_method13(i,mode);\r\n      }\r\n      private int bad_method11(int i, int mode) throws JavaException{\r\n        if(i == 11) { this.thrower(i, mode); }\r\n        return bad_method12(i,mode);\r\n      }\r\n      private int bad_method10(int i, int mode) throws JavaException{\r\n        if(i == 10) { this.thrower(i, mode); }\r\n        return bad_method11(i,mode);\r\n      }\r\n      private int bad_method9(int i, int mode) throws JavaException{\r\n        if(i == 9) { this.thrower(i, mode); }\r\n        return bad_method10(i,mode);\r\n      }\r\n      private int bad_method8(int i, int mode) throws JavaException{\r\n        if(i == 8) { this.thrower(i, mode); }\r\n        return bad_method9(i,mode);\r\n      }\r\n      private int bad_method7(int i, int mode) throws JavaException{\r\n        if(i == 7) { this.thrower(i, mode); }\r\n        return bad_method8(i,mode);\r\n      }\r\n      private int bad_method6(int i, int mode) throws JavaException{\r\n        if(i == 6) { this.thrower(i, mode); }\r\n        return bad_method7(i,mode);\r\n      }\r\n      private int bad_method5(int i, int mode) throws JavaException{\r\n        if(i == 5) { this.thrower(i, mode); }\r\n        return bad_method6(i,mode);\r\n      }\r\n      private int bad_method4(int i, int mode) throws JavaException{\r\n        if(i == 4) { this.thrower(i, mode); }\r\n        return bad_method5(i,mode);\r\n      }\r\n      protected int bad_method3(int i, int mode) throws JavaException{\r\n        if(i == 3) { this.thrower(i, mode); }\r\n        return bad_method4(i,mode);\r\n      }\r\n      private int bad_method2(int i, int mode) throws JavaException{\r\n        if(i == 2) { this.thrower(i, mode); }\r\n        return bad_method3(i,mode);\r\n      }\r\n      private int bad_method1(int i, int mode) throws JavaException{\r\n        if(i == 1) { this.thrower(i, mode); }\r\n        return bad_method2(i,mode);\r\n      }\r\n      private int stack_of_calls(int i, int mode) throws JavaException{\r\n        if(i == 0) { this.thrower(i, mode); }\r\n        return bad_method1(i,mode);\r\n      }\r\n    }\r\n    \r\n    class ExArg {\r\n      public static long[] time_start;\r\n      public static long[] time_accum;\r\n      static {\r\n         time_start = new long[20];\r\n         time_accum = new long[20];\r\n      };\r\n    }\r\n\r\n\r\n\r\n\r\nThe stack frames in this example are tiny compared to what you&#39;d normally find. \r\n\r\nYou can peek at the bytecode using javap \r\n\r\n    javap -c -v -constants JavaException.class\r\n\r\nie this is for method 4... \r\n\r\n       protected int bad_method3(int, int) throws JavaException;\r\n    flags: ACC_PROTECTED\r\n    Code:\r\n      stack=3, locals=3, args_size=3\r\n         0: iload_1       \r\n         1: iconst_3      \r\n         2: if_icmpne     12\r\n         5: aload_0       \r\n         6: iload_1       \r\n         7: iload_2       \r\n         8: invokespecial #6                  // Method thrower:(II)I\r\n        11: pop           \r\n        12: aload_0       \r\n        13: iload_1       \r\n        14: iload_2       \r\n        15: invokespecial #17                 // Method bad_method4:(II)I\r\n        18: ireturn       \r\n      LineNumberTable:\r\n        line 63: 0\r\n        line 64: 12\r\n      StackMapTable: number_of_entries = 1\r\n           frame_type = 12 /* same */\r\n    \r\n    Exceptions:\r\n      throws JavaException\r\n\r\n","title":"Which part of throwing an Exception is expensive?","body":"<p>Theres a good write up on Exceptions here.</p>\n\n<p><a href=\"http://shipilev.net/blog/2014/exceptional-performance/\" rel=\"nofollow noreferrer\">http://shipilev.net/blog/2014/exceptional-performance/</a></p>\n\n<p>The conclusion being that stack trace construction and stack unwinding are the expensive parts. The code below takes advantage of a feature in <code>1.7</code> where we can turn stack traces on and off. We can then use this to see what sort of costs different scenarios have</p>\n\n<p>The following are timings for Object creation alone. I've added <code>String</code> here so you can see that without the stack being written there's almost no difference in creating a <code>JavaException</code> Object and a <code>String</code>. With stack writing turned on the difference is dramatic ie at least one order of magnitude slower.</p>\n\n<pre><code>Time to create million String objects: 41.41 (ms)\nTime to create million JavaException objects with    stack: 608.89 (ms)\nTime to create million JavaException objects without stack: 43.50 (ms)\n</code></pre>\n\n<p>The following shows how long it took to return from a throw at a particular depth a million times.</p>\n\n<pre><code>|Depth| WriteStack(ms)| !WriteStack(ms)| Diff(%)|\n|   16|           1428|             243| 588 (%)|\n|   15|           1763|             393| 449 (%)|\n|   14|           1746|             390| 448 (%)|\n|   13|           1703|             384| 443 (%)|\n|   12|           1697|             391| 434 (%)|\n|   11|           1707|             410| 416 (%)|\n|   10|           1226|             197| 622 (%)|\n|    9|           1242|             206| 603 (%)|\n|    8|           1251|             207| 604 (%)|\n|    7|           1213|             208| 583 (%)|\n|    6|           1164|             206| 565 (%)|\n|    5|           1134|             205| 553 (%)|\n|    4|           1106|             203| 545 (%)|\n|    3|           1043|             192| 543 (%)| \n</code></pre>\n\n<p>The following is almost certainly a gross over simplification...</p>\n\n<p>If we take a depth of 16 with stack writing on then object creation is taking approximately ~40% of the time, the actual stack trace accounts for the vast majority of this. ~93% of instantiating the JavaException object is due to the stack trace being taken. This means that unwinding the stack in this case is taking the other 50% of the time.</p>\n\n<p>When we turn off the stack trace object creation accounts for a much smaller\nfraction ie 20% and stack unwinding now accounts for 80% of the time.</p>\n\n<p>In both cases stack unwinding takes a large portion of the overall time.</p>\n\n<pre><code>public class JavaException extends Exception {\n  JavaException(String reason, int mode) {\n    super(reason, null, false, false);\n  }\n  JavaException(String reason) {\n    super(reason);\n  }\n\n  public static void main(String[] args) {\n    int iterations = 1000000;\n    long create_time_with    = 0;\n    long create_time_without = 0;\n    long create_string = 0;\n    for (int i = 0; i &lt; iterations; i++) {\n      long start = System.nanoTime();\n      JavaException jex = new JavaException(\"testing\");\n      long stop  =  System.nanoTime();\n      create_time_with += stop - start;\n\n      start = System.nanoTime();\n      JavaException jex2 = new JavaException(\"testing\", 1);\n      stop = System.nanoTime();\n      create_time_without += stop - start;\n\n      start = System.nanoTime();\n      String str = new String(\"testing\");\n      stop = System.nanoTime();\n      create_string += stop - start;\n\n    }\n    double interval_with    = ((double)create_time_with)/1000000;\n    double interval_without = ((double)create_time_without)/1000000;\n    double interval_string  = ((double)create_string)/1000000;\n\n    System.out.printf(\"Time to create %d String objects: %.2f (ms)\\n\", iterations, interval_string);\n    System.out.printf(\"Time to create %d JavaException objects with    stack: %.2f (ms)\\n\", iterations, interval_with);\n    System.out.printf(\"Time to create %d JavaException objects without stack: %.2f (ms)\\n\", iterations, interval_without);\n\n    JavaException jex = new JavaException(\"testing\");\n    int depth = 14;\n    int i = depth;\n    double[] with_stack    = new double[20];\n    double[] without_stack = new double[20];\n\n    for(; i &gt; 0 ; --i) {\n      without_stack[i] = jex.timerLoop(i, iterations, 0)/1000000;\n      with_stack[i]    = jex.timerLoop(i, iterations, 1)/1000000;\n    }\n    i = depth;\n    System.out.printf(\"|Depth| WriteStack(ms)| !WriteStack(ms)| Diff(%%)|\\n\");\n    for(; i &gt; 0 ; --i) {\n      double ratio = (with_stack[i] / (double) without_stack[i]) * 100;\n      System.out.printf(\"|%5d| %14.0f| %15.0f| %2.0f (%%)| \\n\", i + 2, with_stack[i] , without_stack[i], ratio);\n      //System.out.printf(\"%d\\t%.2f (ms)\\n\", i, ratio);\n    }\n  }\n private int thrower(int i, int mode) throws JavaException {\n    ExArg.time_start[i] = System.nanoTime();\n    if(mode == 0) { throw new JavaException(\"without stack\", 1); }\n    throw new JavaException(\"with stack\");\n  }\n  private int catcher1(int i, int mode) throws JavaException{\n    return this.stack_of_calls(i, mode);\n  }\n  private long timerLoop(int depth, int iterations, int mode) {\n    for (int i = 0; i &lt; iterations; i++) {\n      try {\n        this.catcher1(depth, mode);\n      } catch (JavaException e) {\n        ExArg.time_accum[depth] += (System.nanoTime() - ExArg.time_start[depth]);\n      }\n    }\n    //long stop = System.nanoTime();\n    return ExArg.time_accum[depth];\n  }\n\n  private int bad_method14(int i, int mode) throws JavaException  {\n    if(i &gt; 0) { this.thrower(i, mode); }\n    return i;\n  }\n  private int bad_method13(int i, int mode) throws JavaException  {\n    if(i == 13) { this.thrower(i, mode); }\n    return bad_method14(i,mode);\n  }\n  private int bad_method12(int i, int mode) throws JavaException{\n    if(i == 12) { this.thrower(i, mode); }\n    return bad_method13(i,mode);\n  }\n  private int bad_method11(int i, int mode) throws JavaException{\n    if(i == 11) { this.thrower(i, mode); }\n    return bad_method12(i,mode);\n  }\n  private int bad_method10(int i, int mode) throws JavaException{\n    if(i == 10) { this.thrower(i, mode); }\n    return bad_method11(i,mode);\n  }\n  private int bad_method9(int i, int mode) throws JavaException{\n    if(i == 9) { this.thrower(i, mode); }\n    return bad_method10(i,mode);\n  }\n  private int bad_method8(int i, int mode) throws JavaException{\n    if(i == 8) { this.thrower(i, mode); }\n    return bad_method9(i,mode);\n  }\n  private int bad_method7(int i, int mode) throws JavaException{\n    if(i == 7) { this.thrower(i, mode); }\n    return bad_method8(i,mode);\n  }\n  private int bad_method6(int i, int mode) throws JavaException{\n    if(i == 6) { this.thrower(i, mode); }\n    return bad_method7(i,mode);\n  }\n  private int bad_method5(int i, int mode) throws JavaException{\n    if(i == 5) { this.thrower(i, mode); }\n    return bad_method6(i,mode);\n  }\n  private int bad_method4(int i, int mode) throws JavaException{\n    if(i == 4) { this.thrower(i, mode); }\n    return bad_method5(i,mode);\n  }\n  protected int bad_method3(int i, int mode) throws JavaException{\n    if(i == 3) { this.thrower(i, mode); }\n    return bad_method4(i,mode);\n  }\n  private int bad_method2(int i, int mode) throws JavaException{\n    if(i == 2) { this.thrower(i, mode); }\n    return bad_method3(i,mode);\n  }\n  private int bad_method1(int i, int mode) throws JavaException{\n    if(i == 1) { this.thrower(i, mode); }\n    return bad_method2(i,mode);\n  }\n  private int stack_of_calls(int i, int mode) throws JavaException{\n    if(i == 0) { this.thrower(i, mode); }\n    return bad_method1(i,mode);\n  }\n}\n\nclass ExArg {\n  public static long[] time_start;\n  public static long[] time_accum;\n  static {\n     time_start = new long[20];\n     time_accum = new long[20];\n  };\n}\n</code></pre>\n\n<p>The stack frames in this example are tiny compared to what you'd normally find. </p>\n\n<p>You can peek at the bytecode using javap </p>\n\n<pre><code>javap -c -v -constants JavaException.class\n</code></pre>\n\n<p>ie this is for method 4... </p>\n\n<pre><code>   protected int bad_method3(int, int) throws JavaException;\nflags: ACC_PROTECTED\nCode:\n  stack=3, locals=3, args_size=3\n     0: iload_1       \n     1: iconst_3      \n     2: if_icmpne     12\n     5: aload_0       \n     6: iload_1       \n     7: iload_2       \n     8: invokespecial #6                  // Method thrower:(II)I\n    11: pop           \n    12: aload_0       \n    13: iload_1       \n    14: iload_2       \n    15: invokespecial #17                 // Method bad_method4:(II)I\n    18: ireturn       \n  LineNumberTable:\n    line 63: 0\n    line 64: 12\n  StackMapTable: number_of_entries = 1\n       frame_type = 12 /* same */\n\nExceptions:\n  throws JavaException\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1114689,"reputation":11376,"user_id":1104328,"accept_rate":50,"display_name":"Harry"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1459558521,"creation_date":1459558521,"answer_id":36368009,"question_id":36343209,"body_markdown":"This part of the question...\r\n\r\n&gt; Another way of asking this is, if I made one instance of Exception and\r\n&gt; threw and caught it over and over, would that be significantly faster\r\n&gt; than creating a new Exception every time I throw?\r\n\r\nSeems to be asking if creating an exception and caching it somewhere improves performance. Yes it does. It&#39;s the same as turning off the stack being written on object creation because it&#39;s already been done.\r\n\r\nThese are timings I got, please read caveat after this...\r\n\r\n    |Depth| WriteStack(ms)| !WriteStack(ms)| Diff(%)|\r\n    |   16|            193|             251| 77 (%)| \r\n    |   15|            390|             406| 96 (%)| \r\n    |   14|            394|             401| 98 (%)| \r\n    |   13|            381|             385| 99 (%)| \r\n    |   12|            387|             370| 105 (%)| \r\n    |   11|            368|             376| 98 (%)| \r\n    |   10|            188|             192| 98 (%)| \r\n    |    9|            193|             195| 99 (%)| \r\n    |    8|            200|             188| 106 (%)| \r\n    |    7|            187|             184| 102 (%)| \r\n    |    6|            196|             200| 98 (%)| \r\n    |    5|            197|             193| 102 (%)| \r\n    |    4|            198|             190| 104 (%)| \r\n    |    3|            193|             183| 105 (%)| \r\n\r\nOf course the problem with this is your stack trace now points to where you instantiated the object not where it was thrown from.","title":"Which part of throwing an Exception is expensive?","body":"<p>This part of the question...</p>\n\n<blockquote>\n  <p>Another way of asking this is, if I made one instance of Exception and\n  threw and caught it over and over, would that be significantly faster\n  than creating a new Exception every time I throw?</p>\n</blockquote>\n\n<p>Seems to be asking if creating an exception and caching it somewhere improves performance. Yes it does. It's the same as turning off the stack being written on object creation because it's already been done.</p>\n\n<p>These are timings I got, please read caveat after this...</p>\n\n<pre><code>|Depth| WriteStack(ms)| !WriteStack(ms)| Diff(%)|\n|   16|            193|             251| 77 (%)| \n|   15|            390|             406| 96 (%)| \n|   14|            394|             401| 98 (%)| \n|   13|            381|             385| 99 (%)| \n|   12|            387|             370| 105 (%)| \n|   11|            368|             376| 98 (%)| \n|   10|            188|             192| 98 (%)| \n|    9|            193|             195| 99 (%)| \n|    8|            200|             188| 106 (%)| \n|    7|            187|             184| 102 (%)| \n|    6|            196|             200| 98 (%)| \n|    5|            197|             193| 102 (%)| \n|    4|            198|             190| 104 (%)| \n|    3|            193|             183| 105 (%)| \n</code></pre>\n\n<p>Of course the problem with this is your stack trace now points to where you instantiated the object not where it was thrown from.</p>\n"}],"owner":{"account_id":1008301,"reputation":7815,"user_id":1021426,"accept_rate":81,"display_name":"Mar"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25699,"favorite_count":0,"down_vote_count":0,"up_vote_count":273,"accepted_answer_id":36344265,"answer_count":6,"score":273,"last_activity_date":1637156990,"creation_date":1459456351,"question_id":36343209,"body_markdown":"In Java, using throw/catch as a part of logic when there&#39;s not actually an error is generally a bad idea (in part) because throwing and catching an exception is expensive, and doing it many times in a loop is usually far slower than other control structures which don&#39;t involve throwing exceptions.\r\n\r\nMy question is, is the cost incurred in the throw/catch itself, or when creating the Exception object (since it gets a lot of runtime information including the execution stack)?\r\n\r\nIn other words, if I do\r\n\r\n    Exception e = new Exception();\r\n\r\nbut don&#39;t throw it, is that most of the cost of throwing, or is the throw + catch handling what&#39;s costly?\r\n\r\nI&#39;m not asking whether putting code in a try/catch block adds to the cost of executing that code, I&#39;m asking whether catching the Exception is the expensive part, or creating (calling the constructor for) the Exception is the expensive part.\r\n\r\nAnother way of asking this is, if I made one instance of Exception and threw and caught it over and over, would that be significantly faster than creating a new Exception every time I throw?","title":"Which part of throwing an Exception is expensive?","body":"<p>In Java, using throw/catch as a part of logic when there's not actually an error is generally a bad idea (in part) because throwing and catching an exception is expensive, and doing it many times in a loop is usually far slower than other control structures which don't involve throwing exceptions.</p>\n\n<p>My question is, is the cost incurred in the throw/catch itself, or when creating the Exception object (since it gets a lot of runtime information including the execution stack)?</p>\n\n<p>In other words, if I do</p>\n\n<pre><code>Exception e = new Exception();\n</code></pre>\n\n<p>but don't throw it, is that most of the cost of throwing, or is the throw + catch handling what's costly?</p>\n\n<p>I'm not asking whether putting code in a try/catch block adds to the cost of executing that code, I'm asking whether catching the Exception is the expensive part, or creating (calling the constructor for) the Exception is the expensive part.</p>\n\n<p>Another way of asking this is, if I made one instance of Exception and threw and caught it over and over, would that be significantly faster than creating a new Exception every time I throw?</p>\n"},{"tags":["java","jdbc"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1637142062,"post_id":70001167,"comment_id":123744095,"body_markdown":"Why are you using this, and not just use try-with-resources? Also, consider using `AutoCloseable`  instead of `Object`  and reflection.","body":"Why are you using this, and not just use try-with-resources? Also, consider using <code>AutoCloseable</code>  instead of <code>Object</code>  and reflection."},{"owner":{"account_id":6157478,"reputation":171,"user_id":4800039,"display_name":"adibro500"},"score":0,"creation_date":1637142226,"post_id":70001167,"comment_id":123744167,"body_markdown":"Closing the connection probably closes the statement as well. Also , there is no close() method on ```ClientPreparedStatement``` class.","body":"Closing the connection probably closes the statement as well. Also , there is no close() method on <code>ClientPreparedStatement</code> class."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1637142358,"post_id":70001167,"comment_id":123744233,"body_markdown":"In any case, you&#39;ll probably need to use `getMethod`, because `getDeclaredMethod` only returns methods declared in the class itself, not  methods declared and implemented in superclasses or superinterfaces.","body":"In any case, you&#39;ll probably need to use <code>getMethod</code>, because <code>getDeclaredMethod</code> only returns methods declared in the class itself, not  methods declared and implemented in superclasses or superinterfaces."},{"owner":{"account_id":23364349,"reputation":11,"user_id":17436143,"display_name":"丨Vb丨"},"score":0,"creation_date":1637146734,"post_id":70001167,"comment_id":123745923,"body_markdown":"What&#39;s the relation between ClientPreparedStatement and PreparedStatement","body":"What&#39;s the relation between ClientPreparedStatement and PreparedStatement"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1637151277,"post_id":70001167,"comment_id":123747561,"body_markdown":"[`com.mysql.cj.jdbc.ClientPreparedStatement`](https://github.com/mysql/mysql-connector-j/blob/release/8.0/src/main/user-impl/java/com/mysql/cj/jdbc/ClientPreparedStatement.java) is an implementation of `java.sql.PreparedStatement`. However, it doesn&#39;t declare `close()`, because that is already implemented in its parent class `com.mysql.cj.jdbc.StatementImpl`. But I repeat again, that you shouldn&#39;t using things like that `JDBCUtils.closeResource`. Use try-with-resources instead.","body":"<a href=\"https://github.com/mysql/mysql-connector-j/blob/release/8.0/src/main/user-impl/java/com/mysql/cj/jdbc/ClientPreparedStatement.java\" rel=\"nofollow noreferrer\"><code>com.mysql.cj.jdbc.ClientPreparedStatement</code></a> is an implementation of <code>java.sql.PreparedStatement</code>. However, it doesn&#39;t declare <code>close()</code>, because that is already implemented in its parent class <code>com.mysql.cj.jdbc.StatementImpl</code>. But I repeat again, that you shouldn&#39;t using things like that <code>JDBCUtils.closeResource</code>. Use try-with-resources instead."}],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637156743,"creation_date":1637156743,"answer_id":70005515,"question_id":70001167,"body_markdown":"Alternative, don&#39;t use reflection, but rather if you know the type of resources that you want to close, you can cast them to their respective Interfaces which allow `close()`:\r\n\r\n`ClientPreparedStatement` does `implements Statement`, so this should work:\r\n\r\n    public static void closeResource(Object... resources) throws SQLException {\r\n        for (Object obj : resources) {\r\n            if (obj instanceof Statement) {\r\n                Statement statement = (Statement) obj;\r\n                statement.close();\r\n            }\r\n            if (obj instanceof Connection) {\r\n                Connection connection = (Connection) obj;\r\n                connection.close();\r\n            } else {\r\n                //Log to see if you missed any resource;\r\n            }\r\n        }\r\n    }\r\n    \r\n\r\nAs Mark suggested, please refactor your code to Try-with-Resources.  This way Java closes everything for you, you don&#39;t have to worry about resource leak.\r\n\r\n\r\n        String sql = &quot;SELECT ...&quot;;\r\n        String connectionURL = &quot;&quot;;\r\n\r\n        try (Connection con = DriverManager.getConnection(connectionURL);\r\n             PreparedStatement ps = con.prepareStatement(sql)) {\r\n\r\n            ps.setString(1, &quot;12345&quot;);\r\n\r\n            try (ResultSet rs = ps.executeQuery()) {\r\n\r\n            }\r\n        } catch (SQLException e) {\r\n            //Log e\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"JDBC Exception java.lang.NoSuchMethodException: com.mysql.cj.jdbc.ClientPreparedStatement.close()","body":"<p>Alternative, don't use reflection, but rather if you know the type of resources that you want to close, you can cast them to their respective Interfaces which allow <code>close()</code>:</p>\n<p><code>ClientPreparedStatement</code> does <code>implements Statement</code>, so this should work:</p>\n<pre><code>public static void closeResource(Object... resources) throws SQLException {\n    for (Object obj : resources) {\n        if (obj instanceof Statement) {\n            Statement statement = (Statement) obj;\n            statement.close();\n        }\n        if (obj instanceof Connection) {\n            Connection connection = (Connection) obj;\n            connection.close();\n        } else {\n            //Log to see if you missed any resource;\n        }\n    }\n}\n</code></pre>\n<p>As Mark suggested, please refactor your code to Try-with-Resources.  This way Java closes everything for you, you don't have to worry about resource leak.</p>\n<pre><code>    String sql = &quot;SELECT ...&quot;;\n    String connectionURL = &quot;&quot;;\n\n    try (Connection con = DriverManager.getConnection(connectionURL);\n         PreparedStatement ps = con.prepareStatement(sql)) {\n\n        ps.setString(1, &quot;12345&quot;);\n\n        try (ResultSet rs = ps.executeQuery()) {\n\n        }\n    } catch (SQLException e) {\n        //Log e\n    }\n</code></pre>\n"}],"owner":{"account_id":23364349,"reputation":11,"user_id":17436143,"display_name":"丨Vb丨"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1637156743,"creation_date":1637138515,"question_id":70001167,"body_markdown":"I use reflect to close resources, just like this\r\n\r\n```\r\npublic static void closeResource(Object ... resources) throws Exception {\r\n    String methodName = &quot;close&quot;;\r\n    for (Object obj : resources){\r\n        System.out.println(obj);\r\n        Method m = obj.getClass().getDeclaredMethod(methodName);\r\n        m.setAccessible(true);\r\n        m.invoke(obj);\r\n    }\r\n}\r\n```\r\n\r\nBut when I use this method to close PreparedStatement, there is an Exception, just like this\r\n```\r\nJDBCUtils.closeResource(resultSet, connection, preparedStatement);\r\n```\r\nAnd exception is as follows\r\n```\r\njava.lang.NoSuchMethodException: com.mysql.cj.jdbc.ClientPreparedStatement.close()\r\n\tat java.base/java.lang.Class.getDeclaredMethod(Class.java:2613)\r\n\tat JDBC.Utils.JDBCUtils.closeResource(JDBCUtils.java:45)\r\n\tat JDBC.Query.jobsQueryTest.query(jobsQueryTest.java:63)\r\n\tat JDBC.Query.jobsQueryTest.main(jobsQueryTest.java:22)\r\n```\r\nThe first two resources have been closed success,but the last one is failed.\r\n\r\nI try to print object of PreparedStatement(java.sql.PreparedStatement), but output is **com.mysql.cj.jdbc.ClientPreparedStatement** \r\n\r\nI feel very confused.","title":"JDBC Exception java.lang.NoSuchMethodException: com.mysql.cj.jdbc.ClientPreparedStatement.close()","body":"<p>I use reflect to close resources, just like this</p>\n<pre><code>public static void closeResource(Object ... resources) throws Exception {\n    String methodName = &quot;close&quot;;\n    for (Object obj : resources){\n        System.out.println(obj);\n        Method m = obj.getClass().getDeclaredMethod(methodName);\n        m.setAccessible(true);\n        m.invoke(obj);\n    }\n}\n</code></pre>\n<p>But when I use this method to close PreparedStatement, there is an Exception, just like this</p>\n<pre><code>JDBCUtils.closeResource(resultSet, connection, preparedStatement);\n</code></pre>\n<p>And exception is as follows</p>\n<pre><code>java.lang.NoSuchMethodException: com.mysql.cj.jdbc.ClientPreparedStatement.close()\n    at java.base/java.lang.Class.getDeclaredMethod(Class.java:2613)\n    at JDBC.Utils.JDBCUtils.closeResource(JDBCUtils.java:45)\n    at JDBC.Query.jobsQueryTest.query(jobsQueryTest.java:63)\n    at JDBC.Query.jobsQueryTest.main(jobsQueryTest.java:22)\n</code></pre>\n<p>The first two resources have been closed success,but the last one is failed.</p>\n<p>I try to print object of PreparedStatement(java.sql.PreparedStatement), but output is <strong>com.mysql.cj.jdbc.ClientPreparedStatement</strong></p>\n<p>I feel very confused.</p>\n"},{"tags":["java","email","groovy","liferay"],"comments":[{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":0,"creation_date":1637155070,"post_id":70004443,"comment_id":123749255,"body_markdown":"Did you configure a mail server connection? Typically that involves a sender&#39;s account, SMTP host and password. Background: With MailServiceUtil you&#39;re using Liferay&#39;s internal infrastructure, which will use its own configuration. No sane mailserver is going to accept random incoming connections these days and you must configure an outgoing SMTP server.","body":"Did you configure a mail server connection? Typically that involves a sender&#39;s account, SMTP host and password. Background: With MailServiceUtil you&#39;re using Liferay&#39;s internal infrastructure, which will use its own configuration. No sane mailserver is going to accept random incoming connections these days and you must configure an outgoing SMTP server."},{"owner":{"account_id":32886,"reputation":5226,"user_id":91579,"accept_rate":64,"display_name":"SamWM"},"score":0,"creation_date":1637156318,"post_id":70004443,"comment_id":123749801,"body_markdown":"It worked recently, so I suspect a possible configuration change. Since try/catch doesn&#39;t work, it complicates any custom portlets that send emails since it is a void method with no thrown exceptions.","body":"It worked recently, so I suspect a possible configuration change. Since try/catch doesn&#39;t work, it complicates any custom portlets that send emails since it is a void method with no thrown exceptions."}],"answers":[{"tags":[],"owner":{"account_id":160092,"reputation":2157,"user_id":379902,"display_name":"Daniele Baggio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637156335,"creation_date":1637156335,"answer_id":70005412,"question_id":70004443,"body_markdown":"I&#39;m have tried to configure Liferay smtp settings to connect office 365 (smtp.office365.com) but it&#39;s not possibile due to TLS requirements. Bundled java mail engine cannot work with some modern smtp.\r\n\r\nInstall a postfix locally and configure it as relay smtp to smtp.office365.com, then switch Liferay to easy localhost:25 smtp.\r\n\r\n","title":"Liferay not sending emails","body":"<p>I'm have tried to configure Liferay smtp settings to connect office 365 (smtp.office365.com) but it's not possibile due to TLS requirements. Bundled java mail engine cannot work with some modern smtp.</p>\n<p>Install a postfix locally and configure it as relay smtp to smtp.office365.com, then switch Liferay to easy localhost:25 smtp.</p>\n"}],"owner":{"account_id":32886,"reputation":5226,"user_id":91579,"accept_rate":64,"display_name":"SamWM"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":731,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1637156335,"creation_date":1637152178,"question_id":70004443,"body_markdown":"I&#39;m currently experiencing an issue with Liferay, where it is not sending emails. There is an `AuthenticationFailedException` in the log, but not any more specifics (e.g. the error message received from the remote server). I have created a script to test, but get no exceptions or errors.\n\n    def from = new InternetAddress(&quot;user@example.com&quot;, &quot;user@ecample.com&quot;)\n    def to = new InternetAddress (&quot;other@example.com&quot;, &quot;other@example.com&quot;)\n    def mail = new MailMessage(from, to, &quot;subject&quot;, &quot;message&quot;, false)\n    MailServiceUtil.sendEmail(mail)\n\nHow can I check what the cause is and resolve the issue?\n\n**Update**\nThe email is set up to send via office 365 (smtp.office365.com) and the credentials used work when I log in using the website. When I get the properties, they are set as:\n\nmail.smtp.session.mail.smtp.host : smtp.office365.com\nmail.session.smtp.port : 587\nmail.session.smtp.user = user@example.com\nmail.session.smtp.password = password\n\nThey are set via script when the password changes as the server administration page is blank.\n\n    def session = MailServiceUtil.getSession()\n    def properties = session.getProperties()\n    properties.setProperty(PropsKeys.MAIL_SESSION_MAIL, &quot;password&quot;)\n    MailServiceUtil.clearSession()\n\nThe credentials are fine, but exceptions can occur for other reasons.\n\nThanks","title":"Liferay not sending emails","body":"<p>I'm currently experiencing an issue with Liferay, where it is not sending emails. There is an <code>AuthenticationFailedException</code> in the log, but not any more specifics (e.g. the error message received from the remote server). I have created a script to test, but get no exceptions or errors.</p>\n<pre><code>def from = new InternetAddress(&quot;user@example.com&quot;, &quot;user@ecample.com&quot;)\ndef to = new InternetAddress (&quot;other@example.com&quot;, &quot;other@example.com&quot;)\ndef mail = new MailMessage(from, to, &quot;subject&quot;, &quot;message&quot;, false)\nMailServiceUtil.sendEmail(mail)\n</code></pre>\n<p>How can I check what the cause is and resolve the issue?</p>\n<p><strong>Update</strong>\nThe email is set up to send via office 365 (smtp.office365.com) and the credentials used work when I log in using the website. When I get the properties, they are set as:</p>\n<p>mail.smtp.session.mail.smtp.host : smtp.office365.com\nmail.session.smtp.port : 587\nmail.session.smtp.user = user@example.com\nmail.session.smtp.password = password</p>\n<p>They are set via script when the password changes as the server administration page is blank.</p>\n<pre><code>def session = MailServiceUtil.getSession()\ndef properties = session.getProperties()\nproperties.setProperty(PropsKeys.MAIL_SESSION_MAIL, &quot;password&quot;)\nMailServiceUtil.clearSession()\n</code></pre>\n<p>The credentials are fine, but exceptions can occur for other reasons.</p>\n<p>Thanks</p>\n"},{"tags":["java","memory-management","heap-memory"],"comments":[{"owner":{"account_id":331031,"reputation":1748,"user_id":2764001,"accept_rate":25,"display_name":"Enosh Bansode"},"score":0,"creation_date":1313557487,"post_id":7088063,"comment_id":8485060,"body_markdown":"@pablosaraiva: Asked for suggestions... any more precautions that I can take to reduce the usage of Heap space while programming in Java","body":"@pablosaraiva: Asked for suggestions... any more precautions that I can take to reduce the usage of Heap space while programming in Java"}],"answers":[{"tags":[],"owner":{"account_id":167319,"reputation":23070,"user_id":392046,"accept_rate":100,"display_name":"Jesus Ramos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1313556383,"creation_date":1313556383,"answer_id":7088078,"question_id":7088063,"body_markdown":"That&#39;s pretty good. One other thing to look out for is proper closing of your Buffer type objects, by that I mean Sockets, FileReaders, etc... Make sure that you wrap them in try finally where in the finally you remember to flush (if necessary) and close the connection/buffer. This avoids stray resources being held because the underlying connection would still be active.","title":"Precautions to make less use of Heap space while programming","body":"<p>That's pretty good. One other thing to look out for is proper closing of your Buffer type objects, by that I mean Sockets, FileReaders, etc... Make sure that you wrap them in try finally where in the finally you remember to flush (if necessary) and close the connection/buffer. This avoids stray resources being held because the underlying connection would still be active.</p>\n"},{"tags":[],"owner":{"account_id":11967,"reputation":1407,"user_id":23325,"display_name":"cgull"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1313556803,"creation_date":1313556803,"answer_id":7088127,"question_id":7088063,"body_markdown":"Also on the subject of Strings, always `intern()` them when reading from a file or database so you don&#39;t end up with duplicate char arrays.","title":"Precautions to make less use of Heap space while programming","body":"<p>Also on the subject of Strings, always <code>intern()</code> them when reading from a file or database so you don't end up with duplicate char arrays.</p>\n"},{"tags":[],"owner":{"account_id":79673,"reputation":40911,"user_id":225757,"accept_rate":72,"display_name":"Roland Illig"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1313559600,"creation_date":1313559600,"answer_id":7088401,"question_id":7088063,"body_markdown":"First: measure which objects really take up the most heap space: `jmap -histo:live`\r\n\r\nThen try to reduce the top five classes. Nothing more. Measure again. Repeat until you are satisified.\r\n\r\nIf one of the candidates is `HashMap` or `HashSet` or `ConcurrentHashMap`: these classes waste heap memory as they can. Use memory-efficient alternatives for them.","title":"Precautions to make less use of Heap space while programming","body":"<p>First: measure which objects really take up the most heap space: <code>jmap -histo:live</code></p>\n\n<p>Then try to reduce the top five classes. Nothing more. Measure again. Repeat until you are satisified.</p>\n\n<p>If one of the candidates is <code>HashMap</code> or <code>HashSet</code> or <code>ConcurrentHashMap</code>: these classes waste heap memory as they can. Use memory-efficient alternatives for them.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1313560608,"creation_date":1313559743,"answer_id":7088419,"question_id":7088063,"body_markdown":"You need to be more specific about what you are trying to achieve.  There are two goals that are (in some cases) contradictory:\r\n\r\n  - minimizing the number of objects that are allocated, and hence the number of times the GC runs,\r\n  - minimizing the amount of heap space that is used for live objects, and hence the &quot;footprint&quot; of your application.\r\n\r\n&gt; static: wise use of static\r\n\r\nThis is meaningless advice, unless you say what &quot;wise use&quot; is.\r\n\r\n&gt; String: wise use of String, try to use as local variables, make sure that there are no string without references and try to use StringBuffer or StringBuilder\r\n\r\n - Wise use is meaningless advice; see above.  \r\n - Making sure there are no strings without references is meaningless because every string has a reference.\r\n - Trying to use local variables is useful, but not always applicable.  Sometimes using a static or instance variable could reduce the number of times you create new strings.  Sometimes assigning an intermediate string to a local variable could increase its lifetime.\r\n - You shouldn&#39;t use StringBuffer for string assembly.\r\n - There are many cases where using a StringBuilder in string assembly does not help, and just makes the code harder to read.  In general StringBuilder should only be used if you can&#39;t do the string assembly in one expression.\r\n\r\n&gt; Instance variables: try to declare variables locally as far as possible\r\n\r\nThis is sound advice generally, though it needs to be balanced with other things.\r\n\r\n&gt; objects: reuse as far as possible\r\n\r\nThis is bad advice.  \r\n\r\nReuse &quot;as far as possible&quot; means object pools, and object pools tend to use **more** heap space than if you just dropped the object and let the GC reclaim it.  Object pools should only be used if it is critical that you minimize the object creation rate.  Even then you need to be very careful to avoid:\r\n\r\n  - leaking objects by not returning them to the pool\r\n  - issuing &quot;dirty&quot; objects from the pool\r\n  - bugs as a result of the extra complexity, and\r\n  - wasting memory (e.g. on the pool data structures, and idle objects in the pool) and therefore making the GC run more often.\r\n","title":"Precautions to make less use of Heap space while programming","body":"<p>You need to be more specific about what you are trying to achieve.  There are two goals that are (in some cases) contradictory:</p>\n\n<ul>\n<li>minimizing the number of objects that are allocated, and hence the number of times the GC runs,</li>\n<li>minimizing the amount of heap space that is used for live objects, and hence the \"footprint\" of your application.</li>\n</ul>\n\n<blockquote>\n  <p>static: wise use of static</p>\n</blockquote>\n\n<p>This is meaningless advice, unless you say what \"wise use\" is.</p>\n\n<blockquote>\n  <p>String: wise use of String, try to use as local variables, make sure that there are no string without references and try to use StringBuffer or StringBuilder</p>\n</blockquote>\n\n<ul>\n<li>Wise use is meaningless advice; see above.  </li>\n<li>Making sure there are no strings without references is meaningless because every string has a reference.</li>\n<li>Trying to use local variables is useful, but not always applicable.  Sometimes using a static or instance variable could reduce the number of times you create new strings.  Sometimes assigning an intermediate string to a local variable could increase its lifetime.</li>\n<li>You shouldn't use StringBuffer for string assembly.</li>\n<li>There are many cases where using a StringBuilder in string assembly does not help, and just makes the code harder to read.  In general StringBuilder should only be used if you can't do the string assembly in one expression.</li>\n</ul>\n\n<blockquote>\n  <p>Instance variables: try to declare variables locally as far as possible</p>\n</blockquote>\n\n<p>This is sound advice generally, though it needs to be balanced with other things.</p>\n\n<blockquote>\n  <p>objects: reuse as far as possible</p>\n</blockquote>\n\n<p>This is bad advice.  </p>\n\n<p>Reuse \"as far as possible\" means object pools, and object pools tend to use <strong>more</strong> heap space than if you just dropped the object and let the GC reclaim it.  Object pools should only be used if it is critical that you minimize the object creation rate.  Even then you need to be very careful to avoid:</p>\n\n<ul>\n<li>leaking objects by not returning them to the pool</li>\n<li>issuing \"dirty\" objects from the pool</li>\n<li>bugs as a result of the extra complexity, and</li>\n<li>wasting memory (e.g. on the pool data structures, and idle objects in the pool) and therefore making the GC run more often.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1313564829,"creation_date":1313564829,"answer_id":7089049,"question_id":7088063,"body_markdown":"Here are a couple of points that *can* help to improve an application&#39;s memory utilization **if used wisely**.  But please note that they are not universally applicable, and if you don&#39;t understand what you are doing you can get a bad outcome .... a significantly more complex program and little if any improvement in memory usage.\r\n\r\nDesign / choose your collection data structures carefully\r\n---------------------------------------------------------\r\n\r\nMany of the standard Java collection types are rather memory hungry.  For example, an `ArrayList&lt;Integer&gt;` consists of 2 objects to start out, and an extra object for each array element (depending on how the elements are created ...).  In addition, the `ArrayList`&#39;s backing array may be larger than it needs to be.  By contrast, an `int[]` consists of just one object, and uses just one 32-bit word per element.\r\n\r\n(A similar comparison can be made for more complex data structures, especially when the base type is a primitive type.  There 3rd-party libraries that implement this kind of stuff; e.g. the GNU Trove libraries.)\r\n\r\nIt is clear that if you design your data structures carefully you can represent them using less memory and fewer objects.  \r\n\r\nHowever, the flip-side is that this tends to make your application more complicated and harder to maintain.  For instance:\r\n\r\n  - Using an `int[]` instead of an `ArrayList&lt;Integer&gt;` results in more exposure of implementation details, and increased coupling.\r\n\r\n  - Using arrays to represent lists of variable or uncertain size is tricky.\r\n\r\n  - Lots of APIs are designed to take `List` or `Collection` parameters rather than array parameters.  So you are more likely to have to develop your own custom non-Collection versions of library code.\r\n\r\n  - Generics and arrays don&#39;t mix well.\r\n\r\nIn summary, while you can save heap space, you *are likely to* end up paying in other ways.\r\n\r\nUse Mutable Classes\r\n-------------------\r\n\r\nInstances of classes like `String` and `BigInteger` are immutable by design.  This simplifies the computational model, but it means that &quot;changing&quot; something involves creating new objects.  You can often reduce memory usage by:\r\n\r\n  - using mutable versions of the types; e.g. using a `StringBuilder` / `StringBuffer` instead of a `String`, or\r\n\r\n  - making your own application data classes mutable rather than immutable.\r\n\r\nOnce again, there is a flip-side.  Mutable data structures can lead to more complexity; e.g. if your application is multi-threaded, or if you need to be able to undo things to backtrack or because some step failed.  This makes your application more complex.  In some cases, the only viable solution is to copy the data structure, resulting in using **more** memory.\r\n\r\nIn summary, while you can save heap space, you *may well* end up paying in other ways.  And you may not even save memory in the end.\r\n\r\n","title":"Precautions to make less use of Heap space while programming","body":"<p>Here are a couple of points that <em>can</em> help to improve an application's memory utilization <strong>if used wisely</strong>.  But please note that they are not universally applicable, and if you don't understand what you are doing you can get a bad outcome .... a significantly more complex program and little if any improvement in memory usage.</p>\n\n<h2>Design / choose your collection data structures carefully</h2>\n\n<p>Many of the standard Java collection types are rather memory hungry.  For example, an <code>ArrayList&lt;Integer&gt;</code> consists of 2 objects to start out, and an extra object for each array element (depending on how the elements are created ...).  In addition, the <code>ArrayList</code>'s backing array may be larger than it needs to be.  By contrast, an <code>int[]</code> consists of just one object, and uses just one 32-bit word per element.</p>\n\n<p>(A similar comparison can be made for more complex data structures, especially when the base type is a primitive type.  There 3rd-party libraries that implement this kind of stuff; e.g. the GNU Trove libraries.)</p>\n\n<p>It is clear that if you design your data structures carefully you can represent them using less memory and fewer objects.  </p>\n\n<p>However, the flip-side is that this tends to make your application more complicated and harder to maintain.  For instance:</p>\n\n<ul>\n<li><p>Using an <code>int[]</code> instead of an <code>ArrayList&lt;Integer&gt;</code> results in more exposure of implementation details, and increased coupling.</p></li>\n<li><p>Using arrays to represent lists of variable or uncertain size is tricky.</p></li>\n<li><p>Lots of APIs are designed to take <code>List</code> or <code>Collection</code> parameters rather than array parameters.  So you are more likely to have to develop your own custom non-Collection versions of library code.</p></li>\n<li><p>Generics and arrays don't mix well.</p></li>\n</ul>\n\n<p>In summary, while you can save heap space, you <em>are likely to</em> end up paying in other ways.</p>\n\n<h2>Use Mutable Classes</h2>\n\n<p>Instances of classes like <code>String</code> and <code>BigInteger</code> are immutable by design.  This simplifies the computational model, but it means that \"changing\" something involves creating new objects.  You can often reduce memory usage by:</p>\n\n<ul>\n<li><p>using mutable versions of the types; e.g. using a <code>StringBuilder</code> / <code>StringBuffer</code> instead of a <code>String</code>, or</p></li>\n<li><p>making your own application data classes mutable rather than immutable.</p></li>\n</ul>\n\n<p>Once again, there is a flip-side.  Mutable data structures can lead to more complexity; e.g. if your application is multi-threaded, or if you need to be able to undo things to backtrack or because some step failed.  This makes your application more complex.  In some cases, the only viable solution is to copy the data structure, resulting in using <strong>more</strong> memory.</p>\n\n<p>In summary, while you can save heap space, you <em>may well</em> end up paying in other ways.  And you may not even save memory in the end.</p>\n"}],"owner":{"account_id":331031,"reputation":1748,"user_id":2764001,"accept_rate":25,"display_name":"Enosh Bansode"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1925,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":5,"score":-1,"last_activity_date":1637156166,"creation_date":1313556259,"question_id":7088063,"body_markdown":"\r\nThese occupies space in heap\r\n\r\n**String**: wise use of String, try to use as local variables, make sure that there are no string without references  and try to use StringBuffer or StringBuilder\r\n\r\n**static**: wise use of static \r\n\r\n**Instance variables**: try to declare variables locally as far as possible\r\n\r\n**objects**: reuse as far as possible\r\n\r\nPlease correct me if so far I am wrong…also suggest any more precautions that I can take to reduce the usage of Heap space while programming in Java\r\n","title":"Precautions to make less use of Heap space while programming","body":"<p>These occupies space in heap</p>\n\n<p><strong>String</strong>: wise use of String, try to use as local variables, make sure that there are no string without references  and try to use StringBuffer or StringBuilder</p>\n\n<p><strong>static</strong>: wise use of static </p>\n\n<p><strong>Instance variables</strong>: try to declare variables locally as far as possible</p>\n\n<p><strong>objects</strong>: reuse as far as possible</p>\n\n<p>Please correct me if so far I am wrong…also suggest any more precautions that I can take to reduce the usage of Heap space while programming in Java</p>\n"},{"tags":["java","spring-boot","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":199924,"reputation":267,"user_id":445518,"accept_rate":36,"display_name":"Bala"},"score":0,"creation_date":1590257170,"post_id":55001632,"comment_id":109615564,"body_markdown":"i have this similar situation. There were some discussions regarding this in official defects section (https://issues.apache.org/jira/browse/KAFKA-4701). Do you happen to have any solution?","body":"i have this similar situation. There were some discussions regarding this in official defects section (<a href=\"https://issues.apache.org/jira/browse/KAFKA-4701\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/KAFKA-4701</a>). Do you happen to have any solution?"}],"answers":[{"tags":[],"owner":{"account_id":19477790,"reputation":11,"user_id":14248861,"display_name":"Jordan Tholen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1611176796,"creation_date":1611175717,"answer_id":65817441,"question_id":55001632,"body_markdown":"It looks like simply resetting the config for certain values will trigger a rebuild on the SSL engine factory. They even call out file key config that would cause a hot reload.\r\n\r\n[link](https://github.com/apache/kafka/blob/462c89e0b436abd56864bea8bbcaf1ab70b7f66e/clients/src/main/java/org/apache/kafka/common/security/auth/SslEngineFactory.java#L70)","title":"Reload SSL context used by Spring Kafka at runtime","body":"<p>It looks like simply resetting the config for certain values will trigger a rebuild on the SSL engine factory. They even call out file key config that would cause a hot reload.</p>\n<p><a href=\"https://github.com/apache/kafka/blob/462c89e0b436abd56864bea8bbcaf1ab70b7f66e/clients/src/main/java/org/apache/kafka/common/security/auth/SslEngineFactory.java#L70\" rel=\"nofollow noreferrer\">link</a></p>\n"},{"tags":[],"owner":{"account_id":60322,"reputation":958,"user_id":180244,"display_name":"vdr"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637156035,"creation_date":1637156035,"answer_id":70005343,"question_id":55001632,"body_markdown":"Spring Kafka 2.6.5, Kafka 2.4.1, I use KafkaProducerFactory.reset() instead. \r\n\r\n    @Autowired\r\n    private final KafkaTemplate&lt;String, byte[]&gt; kafkaTemplate;\r\n\r\n\r\n    private void reloadProducer() {\r\n        kafkaTemplate.getProducerFactory().reset();\r\n    }\r\n\r\nNext time send() is called, Spring will recreate a brand spanking new KafkaConsumer with the new certificate. \r\n","title":"Reload SSL context used by Spring Kafka at runtime","body":"<p>Spring Kafka 2.6.5, Kafka 2.4.1, I use KafkaProducerFactory.reset() instead.</p>\n<pre><code>@Autowired\nprivate final KafkaTemplate&lt;String, byte[]&gt; kafkaTemplate;\n\n\nprivate void reloadProducer() {\n    kafkaTemplate.getProducerFactory().reset();\n}\n</code></pre>\n<p>Next time send() is called, Spring will recreate a brand spanking new KafkaConsumer with the new certificate.</p>\n"}],"owner":{"account_id":138790,"reputation":61721,"user_id":343955,"accept_rate":85,"display_name":"adarshr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1541,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1637156035,"creation_date":1551784783,"question_id":55001632,"body_markdown":"What is the recommended way to make Spring Kafka reload SSL context?\r\n\r\nI have a requirement to insert new certificates into the trust store that my Kafka producer uses without any downtime.\r\n\r\nHowever what I have found is that once the application is started and a Kafka producer is created, [an instance of SSLContext is created and cached][1]. There [is a way to reconfigure][2] this but the only way I have found so far is to destroy any existing producers by [invoking the destroy method on `DefaultKafkaProducerFactory`][3] (after certificate renewal) which causes any subsequent calls to `KafkaTemplate.send` to force a new producer to be created which in turn reloads the SSL context.\r\n\r\nI feel this is like using a sledgehammer to solve this problem and there might be a more elegant solution. I have also noticed that if I call destroy when there are messages being sent, I get the below exception which doesn&#39;t look very positive when we cannot afford to lose any events.\r\n\r\n    java.util.concurrent.CompletionException: org.apache.kafka.common.KafkaException: Producer closed while send in progress\r\n    \tat java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:273)\r\n    \tat java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:280)\r\n    \tat java.util.concurrent.CompletableFuture$AsyncSupply.run$$$capture(CompletableFuture.java:1592)\r\n    \tat java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java)\r\n    \tat java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1582)\r\n    \tat java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\r\n    \tat java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)\r\n    \tat java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)\r\n    \tat java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)\r\n    Caused by: org.apache.kafka.common.KafkaException: Producer closed while send in progress\r\n    \tat org.apache.kafka.clients.producer.KafkaProducer.doSend(KafkaProducer.java:826)\r\n    \tat org.apache.kafka.clients.producer.KafkaProducer.send(KafkaProducer.java:803)\r\n    \tat org.springframework.kafka.core.DefaultKafkaProducerFactory$CloseSafeProducer.send(DefaultKafkaProducerFactory.java:444)\r\n    \tat org.springframework.kafka.core.KafkaTemplate.doSend(KafkaTemplate.java:372)\r\n    \tat org.springframework.kafka.core.KafkaTemplate.send(KafkaTemplate.java:190)\r\n    \tat org.springframework.kafka.core.KafkaOperations$send.call(Unknown Source)\r\n    \tat com.example.event.publisher.kafka.KafkaEventPublisher.doPublish(KafkaEventPublisher.groovy:57)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:98)\r\n    \tat groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:325)\r\n    \tat org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeMethod(ClosureMetaClass.java:352)\r\n    \tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1034)\r\n    \tat org.codehaus.groovy.runtime.callsite.PogoMetaClassSite.callCurrent(PogoMetaClassSite.java:68)\r\n    \tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:177)\r\n    \tat com.example.event.publisher.kafka.KafkaEventPublisher$_publish_closure1.doCall(KafkaEventPublisher.groovy:47)\r\n    \tat com.example.event.publisher.kafka.KafkaEventPublisher$_publish_closure1.doCall(KafkaEventPublisher.groovy)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:98)\r\n    \tat groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:325)\r\n    \tat org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeMethod(ClosureMetaClass.java:264)\r\n    \tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1034)\r\n    \tat groovy.lang.Closure.call(Closure.java:418)\r\n    \tat org.codehaus.groovy.runtime.ConvertedClosure.invokeCustom(ConvertedClosure.java:54)\r\n    \tat org.codehaus.groovy.runtime.ConversionHandler.invoke(ConversionHandler.java:124)\r\n    \tat com.sun.proxy.$Proxy103.get(Unknown Source)\r\n    \tat java.util.concurrent.CompletableFuture$AsyncSupply.run$$$capture(CompletableFuture.java:1590)\r\n    \t... 6 common frames omitted\r\n    Caused by: org.apache.kafka.common.KafkaException: Requested metadata update after close\r\n    \tat org.apache.kafka.clients.Metadata.awaitUpdate(Metadata.java:200)\r\n    \tat org.apache.kafka.clients.producer.KafkaProducer.waitOnMetadata(KafkaProducer.java:938)\r\n    \tat org.apache.kafka.clients.producer.KafkaProducer.doSend(KafkaProducer.java:823)\r\n    \t... 37 common frames omitted\r\n\r\n\r\n  [1]: https://github.com/apache/kafka/blob/trunk/clients/src/main/java/org/apache/kafka/common/security/ssl/SslFactory.java#L141\r\n  [2]: https://github.com/apache/kafka/blob/trunk/clients/src/main/java/org/apache/kafka/common/security/ssl/SslFactory.java#L168\r\n  [3]: https://github.com/spring-projects/spring-kafka/blob/master/spring-kafka/src/main/java/org/springframework/kafka/core/DefaultKafkaProducerFactory.java#L219\r\n","title":"Reload SSL context used by Spring Kafka at runtime","body":"<p>What is the recommended way to make Spring Kafka reload SSL context?</p>\n\n<p>I have a requirement to insert new certificates into the trust store that my Kafka producer uses without any downtime.</p>\n\n<p>However what I have found is that once the application is started and a Kafka producer is created, <a href=\"https://github.com/apache/kafka/blob/trunk/clients/src/main/java/org/apache/kafka/common/security/ssl/SslFactory.java#L141\" rel=\"nofollow noreferrer\">an instance of SSLContext is created and cached</a>. There <a href=\"https://github.com/apache/kafka/blob/trunk/clients/src/main/java/org/apache/kafka/common/security/ssl/SslFactory.java#L168\" rel=\"nofollow noreferrer\">is a way to reconfigure</a> this but the only way I have found so far is to destroy any existing producers by <a href=\"https://github.com/spring-projects/spring-kafka/blob/master/spring-kafka/src/main/java/org/springframework/kafka/core/DefaultKafkaProducerFactory.java#L219\" rel=\"nofollow noreferrer\">invoking the destroy method on <code>DefaultKafkaProducerFactory</code></a> (after certificate renewal) which causes any subsequent calls to <code>KafkaTemplate.send</code> to force a new producer to be created which in turn reloads the SSL context.</p>\n\n<p>I feel this is like using a sledgehammer to solve this problem and there might be a more elegant solution. I have also noticed that if I call destroy when there are messages being sent, I get the below exception which doesn't look very positive when we cannot afford to lose any events.</p>\n\n<pre><code>java.util.concurrent.CompletionException: org.apache.kafka.common.KafkaException: Producer closed while send in progress\n    at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:273)\n    at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:280)\n    at java.util.concurrent.CompletableFuture$AsyncSupply.run$$$capture(CompletableFuture.java:1592)\n    at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java)\n    at java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1582)\n    at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\n    at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)\n    at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)\n    at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)\nCaused by: org.apache.kafka.common.KafkaException: Producer closed while send in progress\n    at org.apache.kafka.clients.producer.KafkaProducer.doSend(KafkaProducer.java:826)\n    at org.apache.kafka.clients.producer.KafkaProducer.send(KafkaProducer.java:803)\n    at org.springframework.kafka.core.DefaultKafkaProducerFactory$CloseSafeProducer.send(DefaultKafkaProducerFactory.java:444)\n    at org.springframework.kafka.core.KafkaTemplate.doSend(KafkaTemplate.java:372)\n    at org.springframework.kafka.core.KafkaTemplate.send(KafkaTemplate.java:190)\n    at org.springframework.kafka.core.KafkaOperations$send.call(Unknown Source)\n    at com.example.event.publisher.kafka.KafkaEventPublisher.doPublish(KafkaEventPublisher.groovy:57)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:98)\n    at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:325)\n    at org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeMethod(ClosureMetaClass.java:352)\n    at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1034)\n    at org.codehaus.groovy.runtime.callsite.PogoMetaClassSite.callCurrent(PogoMetaClassSite.java:68)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:177)\n    at com.example.event.publisher.kafka.KafkaEventPublisher$_publish_closure1.doCall(KafkaEventPublisher.groovy:47)\n    at com.example.event.publisher.kafka.KafkaEventPublisher$_publish_closure1.doCall(KafkaEventPublisher.groovy)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:98)\n    at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:325)\n    at org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeMethod(ClosureMetaClass.java:264)\n    at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1034)\n    at groovy.lang.Closure.call(Closure.java:418)\n    at org.codehaus.groovy.runtime.ConvertedClosure.invokeCustom(ConvertedClosure.java:54)\n    at org.codehaus.groovy.runtime.ConversionHandler.invoke(ConversionHandler.java:124)\n    at com.sun.proxy.$Proxy103.get(Unknown Source)\n    at java.util.concurrent.CompletableFuture$AsyncSupply.run$$$capture(CompletableFuture.java:1590)\n    ... 6 common frames omitted\nCaused by: org.apache.kafka.common.KafkaException: Requested metadata update after close\n    at org.apache.kafka.clients.Metadata.awaitUpdate(Metadata.java:200)\n    at org.apache.kafka.clients.producer.KafkaProducer.waitOnMetadata(KafkaProducer.java:938)\n    at org.apache.kafka.clients.producer.KafkaProducer.doSend(KafkaProducer.java:823)\n    ... 37 common frames omitted\n</code></pre>\n"},{"tags":["java","tomcat","sparql","fuseki"],"answers":[{"tags":[],"owner":{"account_id":394579,"reputation":16420,"user_id":757100,"display_name":"AndyS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637155989,"creation_date":1637155989,"answer_id":70005332,"question_id":69996902,"body_markdown":"To make SPARQL calls to a triplestore from a servlet or JSP, you need the client code - for example, RDFConnection. Fuseki is the server-side.\r\n\r\nApache Jena supports any triplestore that provides the standard SPARQL protocol.\r\n\r\nYou can run Fuseki in Tomcat (there&#39;s a WAR file) if you wish. Use the same client code. It is just a case of giving the code the right URL for the SPARQL endpoint.\r\n\r\nYou can run Fuseki separately with Tomcat as the business logic layer and \r\nFuseki as the database layer in a 3-tier architecture.\r\n\r\nYou call also embed the database in your webapp of servlets/JSPs. That&#39;s using TDB directly in your webapp. It is what Fuseki itself does.\r\n\r\n","title":"Integrate Apache Fuseki in Apache Tomcat and run SPARQL queries from Java Servlets","body":"<p>To make SPARQL calls to a triplestore from a servlet or JSP, you need the client code - for example, RDFConnection. Fuseki is the server-side.</p>\n<p>Apache Jena supports any triplestore that provides the standard SPARQL protocol.</p>\n<p>You can run Fuseki in Tomcat (there's a WAR file) if you wish. Use the same client code. It is just a case of giving the code the right URL for the SPARQL endpoint.</p>\n<p>You can run Fuseki separately with Tomcat as the business logic layer and\nFuseki as the database layer in a 3-tier architecture.</p>\n<p>You call also embed the database in your webapp of servlets/JSPs. That's using TDB directly in your webapp. It is what Fuseki itself does.</p>\n"}],"owner":{"account_id":23360488,"reputation":39,"user_id":17432811,"display_name":"Admin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637155989,"creation_date":1637102548,"question_id":69996902,"body_markdown":"I would like to know if it is possible to integrate Apache Fuseki into Apache Tomcat and be able to run SPARQL queries directly from Java servlets or JSPs.\r\nIs it possible to do so? How do I need to configure tomcat so to be able to do that?\r\nIs there any tutorial that can help understand ontologies and how to integrate them in Java Servlets?","title":"Integrate Apache Fuseki in Apache Tomcat and run SPARQL queries from Java Servlets","body":"<p>I would like to know if it is possible to integrate Apache Fuseki into Apache Tomcat and be able to run SPARQL queries directly from Java servlets or JSPs.\nIs it possible to do so? How do I need to configure tomcat so to be able to do that?\nIs there any tutorial that can help understand ontologies and how to integrate them in Java Servlets?</p>\n"},{"tags":["java","spring-boot","api","hibernate","jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1637154885,"post_id":70004916,"comment_id":123749173,"body_markdown":"Unless `childId` is the same as the index in the collection (for which the order is not garantueed) this code is flawed... Just obtain the child directly and update, don&#39;t go through the parent.","body":"Unless <code>childId</code> is the same as the index in the collection (for which the order is not garantueed) this code is flawed... Just obtain the child directly and update, don&#39;t go through the parent."},{"owner":{"account_id":10383212,"reputation":333,"user_id":7657219,"display_name":"Varox"},"score":0,"creation_date":1637155865,"post_id":70004916,"comment_id":123749606,"body_markdown":"@M.Deinum I totally forgot to explain that, yeah the reference id I use is just for the user to access a child without having to put the real id. When I save the child entity it overwrites the one that had that id, but my question is if in order to change child object of a parent is ok to save again the whole parent. And if it is not ok, how could I save it or edit it. Thank you very much ! :)","body":"@M.Deinum I totally forgot to explain that, yeah the reference id I use is just for the user to access a child without having to put the real id. When I save the child entity it overwrites the one that had that id, but my question is if in order to change child object of a parent is ok to save again the whole parent. And if it is not ok, how could I save it or edit it. Thank you very much ! :)"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1637157018,"post_id":70004916,"comment_id":123750165,"body_markdown":"You can do it like this, but I would say this code is dangerous as there is no garantueed order. You are probably better of passing hte actual id and do a direct update (which is simpler and faster).","body":"You can do it like this, but I would say this code is dangerous as there is no garantueed order. You are probably better of passing hte actual id and do a direct update (which is simpler and faster)."},{"owner":{"account_id":16290452,"reputation":489,"user_id":11764050,"display_name":"PaulD"},"score":0,"creation_date":1637157858,"post_id":70004916,"comment_id":123750604,"body_markdown":"If you really want to do it this way I would create a field in `Child` `Integer index` or something similar which you check for with your id, but as previous comment stated would not get by list index directly","body":"If you really want to do it this way I would create a field in <code>Child</code> <code>Integer index</code> or something similar which you check for with your id, but as previous comment stated would not get by list index directly"},{"owner":{"account_id":10383212,"reputation":333,"user_id":7657219,"display_name":"Varox"},"score":0,"creation_date":1637159413,"post_id":70004916,"comment_id":123751322,"body_markdown":"@M.Deinum The other way to achieve this would be using a repository for each entity and saving using their methods &quot;save&quot; or how? when I tried doing this it gave me errors related with the cascade I think :S","body":"@M.Deinum The other way to achieve this would be using a repository for each entity and saving using their methods &quot;save&quot; or how? when I tried doing this it gave me errors related with the cascade I think :S"}],"owner":{"account_id":10383212,"reputation":333,"user_id":7657219,"display_name":"Varox"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637155890,"creation_date":1637154192,"question_id":70004916,"body_markdown":"So, till now I&#39;ve been saving all my objects using the parent repository, for example, when I wanted to make a PUT request on a child object I did something like this:\r\n\r\nparentId --&gt; the id of the parent element\r\n\r\nchildId --&gt; A reference id for the child element\r\n\r\nchild --&gt; JSON Body send to update the child I had before\r\n\r\n    public void updateChildFromParent(Long parentId, int childId, Child child) {\r\n    List&lt;Child&gt; listChild = parentRepository.findById(parentId).get().getChild();\r\n                if (!listChild.isEmpty()) {\r\n                    int sizeList = listChild.size();\r\n                    if ((childId- 1) &lt; tamLista) {\r\n                        Child childDB = listChild.get(childId - 1);\r\n                        Long idReal = childDB.getId();\r\n                        int idRefReal = childDB.getIdRef();\r\n                        child.setId(idReal);\r\n                        child.setIdRef(idRefReal);\r\n                        childRepository.save(defGroup);\r\n    }}\r\n\r\nAs you can see what I&#39;m doing is modifying the parent element and then saving it again. So my question is if this can be done like this or I should use another way of doing it, in order to save, modify or delete. \r\n\r\nI&#39;m new in SpringBoot API so I&#39;m a little bit lost.\r\n\r\nThanks!\r\n\r\n","title":"Use the parent repository to save everything in APIRest","body":"<p>So, till now I've been saving all my objects using the parent repository, for example, when I wanted to make a PUT request on a child object I did something like this:</p>\n<p>parentId --&gt; the id of the parent element</p>\n<p>childId --&gt; A reference id for the child element</p>\n<p>child --&gt; JSON Body send to update the child I had before</p>\n<pre><code>public void updateChildFromParent(Long parentId, int childId, Child child) {\nList&lt;Child&gt; listChild = parentRepository.findById(parentId).get().getChild();\n            if (!listChild.isEmpty()) {\n                int sizeList = listChild.size();\n                if ((childId- 1) &lt; tamLista) {\n                    Child childDB = listChild.get(childId - 1);\n                    Long idReal = childDB.getId();\n                    int idRefReal = childDB.getIdRef();\n                    child.setId(idReal);\n                    child.setIdRef(idRefReal);\n                    childRepository.save(defGroup);\n}}\n</code></pre>\n<p>As you can see what I'm doing is modifying the parent element and then saving it again. So my question is if this can be done like this or I should use another way of doing it, in order to save, modify or delete.</p>\n<p>I'm new in SpringBoot API so I'm a little bit lost.</p>\n<p>Thanks!</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":19021361,"reputation":401,"user_id":13885374,"display_name":"Jake"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637155718,"creation_date":1637100651,"answer_id":69996629,"question_id":69993581,"body_markdown":"Solutions is \r\n```\r\nprivate void activityUnit(Civilizations civ){\r\n        Bundle b = new Bundle();\r\n        b.putSerializable(&quot;civilizationsData&quot;, civ)\r\n        Intent intent = new Intent(this, UniqueUnit.class);\r\n        intent.putExtras(b);\r\n        startActivity(intent);\r\n}\r\n```\r\nIn DetailedCivilization.java\r\nRename `v` from line `Civilizations v = (Civilizations) incomingName.getSerializable(&quot;civilizationsData&quot;);` to `civ` or something more descriptive\r\n\r\n```\r\n@Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_detailed_civilization);\r\n        getSupportActionBar().setTitle(&quot;Detailed view&quot;);\r\n        getSupportActionBar().setDisplayHomeAsUpEnabled(true);\r\n\r\n        Intent i = getIntent();\r\n        Bundle data = i.getExtras();\r\n        Civilizations civ = (Civilizations) data.getSerializable(&quot;civilizationsData&quot;);\r\n\r\n        TextView type = findViewById(R.id.civilizationType);\r\n        type.setText(v.getArmy_type());\r\n\r\n        TextView title = findViewById(R.id.civilizationUniqueUnits);\r\n        title.setText(v.getName());\r\n\r\n        TextView expansions = findViewById(R.id.civilizationUnitDescription);\r\n        expansions.setText(v.getExpansion());\r\n\r\n        TextView bonus = findViewById(R.id.civilizationBonus);\r\n        bonus.setText(v.getCivilization_bonus());\r\n\r\n        Button changeActivityTech = findViewById(R.id.tech_button);\r\n        Button changeActivityUnit = findViewById(R.id.unit_button);\r\n        changeActivityTech.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                activityTech();\r\n            }\r\n        });\r\n        changeActivityUnit.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                activityUnit(civ);\r\n            }\r\n        });\r\n    }\r\n```\r\n\r\nAnd pass `Civilizations` when you call `activityUnit` function\r\n\r\nBasically you forgot to pass `Civilizations` when you go from `DetailedCivilization.java` to `UniqueUnits.java`\r\n\r\n","title":"Cant get my API data to display on other pages","body":"<p>Solutions is</p>\n<pre><code>private void activityUnit(Civilizations civ){\n        Bundle b = new Bundle();\n        b.putSerializable(&quot;civilizationsData&quot;, civ)\n        Intent intent = new Intent(this, UniqueUnit.class);\n        intent.putExtras(b);\n        startActivity(intent);\n}\n</code></pre>\n<p>In DetailedCivilization.java\nRename <code>v</code> from line <code>Civilizations v = (Civilizations) incomingName.getSerializable(&quot;civilizationsData&quot;);</code> to <code>civ</code> or something more descriptive</p>\n<pre><code>@Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_detailed_civilization);\n        getSupportActionBar().setTitle(&quot;Detailed view&quot;);\n        getSupportActionBar().setDisplayHomeAsUpEnabled(true);\n\n        Intent i = getIntent();\n        Bundle data = i.getExtras();\n        Civilizations civ = (Civilizations) data.getSerializable(&quot;civilizationsData&quot;);\n\n        TextView type = findViewById(R.id.civilizationType);\n        type.setText(v.getArmy_type());\n\n        TextView title = findViewById(R.id.civilizationUniqueUnits);\n        title.setText(v.getName());\n\n        TextView expansions = findViewById(R.id.civilizationUnitDescription);\n        expansions.setText(v.getExpansion());\n\n        TextView bonus = findViewById(R.id.civilizationBonus);\n        bonus.setText(v.getCivilization_bonus());\n\n        Button changeActivityTech = findViewById(R.id.tech_button);\n        Button changeActivityUnit = findViewById(R.id.unit_button);\n        changeActivityTech.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                activityTech();\n            }\n        });\n        changeActivityUnit.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                activityUnit(civ);\n            }\n        });\n    }\n</code></pre>\n<p>And pass <code>Civilizations</code> when you call <code>activityUnit</code> function</p>\n<p>Basically you forgot to pass <code>Civilizations</code> when you go from <code>DetailedCivilization.java</code> to <code>UniqueUnits.java</code></p>\n"}],"owner":{"account_id":23357892,"reputation":3,"user_id":17430609,"display_name":"syskeyy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69996629,"answer_count":1,"score":0,"last_activity_date":1637155718,"creation_date":1637083570,"question_id":69993581,"body_markdown":"The code I&#39;ve done was followed closely by a few YouTube tutorials. I&#39;m designing an Age of Empires app that takes in the data from a public API. When the user progresses through the pages then different parts of the API data are shown. What I wanted it to do was get the data from the main activity (where the API is retrieved) and put some of its many data into the UniqueUnit page. It&#39;s using something called serializable which I can&#39;t quite understand how it works yet. \r\n\r\nFor the record, it works in getting the data from page &#39;DetailedCivilization&#39; but just completely breaks on &#39;UniqueUnit&#39;page.\r\n\r\n\r\nMainActivity.java\r\n\r\n    package com.example.ageofempires2;\r\n\r\n    import ...\r\n\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n        public static final String TAG = &quot;tag&quot;;\r\n        RecyclerView itemList;\r\n        Adapter adapter;\r\n        List&lt;Civilizations&gt; all_civilizations;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            getSupportActionBar().setTitle(&quot;Civilizations menu&quot;);\r\n            all_civilizations = new ArrayList&lt;&gt;();\r\n            itemList = findViewById(R.id.itemList);\r\n            itemList.setLayoutManager(new LinearLayoutManager(this));\r\n            adapter = new Adapter(this, all_civilizations);\r\n            itemList.setAdapter(adapter);\r\n    \r\n            getJsonData();\r\n    \r\n        }\r\n    \r\n        private void getJsonData() {\r\n            String URL = &quot;https://age-of-empires-2-api.herokuapp.com/api/v1/civilizations&quot;;\r\n            RequestQueue requestQueue = Volley.newRequestQueue(this);\r\n            JsonObjectRequest objectRequest = new JsonObjectRequest(Request.Method.GET, URL, null, new Response.Listener&lt;JSONObject&gt;() {\r\n                @Override\r\n                public void onResponse(JSONObject response) {\r\n                    try {\r\n                        JSONArray civilizations = response.getJSONArray(&quot;civilizations&quot;);\r\n                        JSONObject civilizationsData = civilizations.getJSONObject(0);\r\n    \r\n                        Log.d(TAG, &quot;onResponse &quot;+ civilizationsData);\r\n    \r\n                        for (int i=0; i&lt; civilizationsData.length();i++){\r\n                            JSONObject civilization = civilizations.getJSONObject(i);\r\n                            Civilizations v = new Civilizations();\r\n    \r\n                            v.setName(civilization.getString(&quot;name&quot;));\r\n                            v.setArmy_type(civilization.getString(&quot;army_type&quot;));\r\n                            v.setExpansion(civilization.getString(&quot;expansion&quot;));\r\n                            v.setCivilization_bonus(civilization.getString(&quot;civilization_bonus&quot;));\r\n                            v.setUnique_unit(civilization.getString(&quot;unique_unit&quot;));\r\n    \r\n                            all_civilizations.add(v);\r\n                            adapter.notifyDataSetChanged();\r\n                        }\r\n    \r\n                    } catch (JSONException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }, new Response.ErrorListener() {\r\n                @Override\r\n                public void onErrorResponse(VolleyError error) {\r\n                    Log.d(TAG, &quot;onErrorResponse&quot; + error.getMessage());\r\n                }\r\n            });\r\n            requestQueue.add(objectRequest);\r\n        }\r\n    }\r\n    \r\n    \r\n     \r\nAdapter.java\r\n```\r\n     package com.example.ageofempires2;\r\n        \r\n          import ...\r\n        \r\n        public class Adapter extends RecyclerView.Adapter&lt;Adapter.ViewHolder&gt; {\r\n            private List&lt;Civilizations&gt; allCivilizations;\r\n            private Context context;\r\n        \r\n            public Adapter(Context ctx, List&lt;Civilizations&gt; civilizationsData){\r\n                this.allCivilizations = civilizationsData;\r\n                this.context = ctx;\r\n            }\r\n        \r\n            @NonNull\r\n            @Override\r\n            public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n                View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.civilization_view,parent,false);\r\n                return new ViewHolder(v);\r\n            }\r\n            @Override\r\n            public void onBindViewHolder(@NonNull ViewHolder holder, final int position) {\r\n                holder.titleName.setText(allCivilizations.get(position).getName());\r\n        \r\n                holder.vv.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n                        Bundle b = new Bundle();\r\n                        b.putSerializable(&quot;civilizationsData&quot;, allCivilizations.get(position));\r\n                        Intent i = new Intent(context, DetailedCivilization.class);\r\n                        i.putExtras(b);\r\n                        v.getContext().startActivity(i);\r\n                    }\r\n                });\r\n        \r\n            }\r\n        \r\n            @Override\r\n            public int getItemCount() {\r\n                return allCivilizations.size();\r\n            }\r\n        \r\n            public class ViewHolder extends  RecyclerView.ViewHolder{\r\n                TextView titleName;\r\n                TextView expansionName;\r\n                View vv;\r\n                public ViewHolder(@NonNull View itemView) {\r\n                    super(itemView);\r\n        \r\n                    titleName = itemView.findViewById(R.id.civilizationUniqueUnits);\r\n                    expansionName = itemView.findViewById(R.id.civilizationUnitDescription);\r\n                    vv = itemView;\r\n        \r\n        \r\n                }\r\n            }\r\n        }\r\n     \r\n```\r\n\r\nCivilizations.java\r\n```\r\n    package com.example.ageofempires2;\r\n    \r\n    import java.io.Serializable;\r\n    \r\n    public class Civilizations implements Serializable {\r\n        private String name;\r\n        private String expansion;\r\n        private String army_type;\r\n        private String civilization_bonus;\r\n        private String unique_unit;\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public String getExpansion() {\r\n            return expansion;\r\n        }\r\n    \r\n        public void setExpansion(String expansion) {\r\n            this.expansion = expansion;\r\n        }\r\n    \r\n        public String getArmy_type() {\r\n            return army_type;\r\n        }\r\n    \r\n        public void setArmy_type(String army_type) {\r\n            this.army_type = army_type;\r\n        }\r\n    \r\n        public String getCivilization_bonus() {\r\n            return civilization_bonus;\r\n        }\r\n    \r\n        public void setCivilization_bonus(String civilization_bonus) {this.civilization_bonus = civilization_bonus; }\r\n    \r\n        public String getUnique_unit() {\r\n            return unique_unit;\r\n        }\r\n    \r\n        public void setUnique_unit(String unique_unit) {this.unique_unit = unique_unit; }\r\n    \r\n    \r\n    }\r\n\r\n```\r\n\r\nUniqueUnits.java\r\n```\r\npackage com.example.ageofempires2;\r\n\r\n    import ...\r\n\r\n\r\npublic class UniqueUnit extends AppCompatActivity {\r\n\r\n    public static final String TAG = &quot;TAG&quot;;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_unique_unit);\r\n        getSupportActionBar().setTitle(&quot;Unique Unit&quot;);\r\n        getSupportActionBar().setDisplayHomeAsUpEnabled(true);\r\n\r\n        Intent incomingIntent = getIntent();\r\n        Bundle incomingName = incomingIntent.getExtras();\r\n        Civilizations v = (Civilizations) incomingName.getSerializable(&quot;civilizationsData&quot;);\r\n        Log.d(TAG, &quot;onCreate: IDK MAN IT SHOULD WORK??&quot; +incomingName);\r\n        TextView unit = findViewById(R.id.civilizationUnitDescription);\r\n        unit.setText(v.getUnique_unit());\r\n    }\r\n}\r\n\r\n```\r\n\r\nDetailedCivilization.java\r\n```\r\npackage com.example.ageofempires2;\r\n\r\n    import ...\r\n\r\n\r\npublic class DetailedCivilization extends AppCompatActivity {\r\n\r\n    public static final String TAG = &quot;TAG&quot;;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_detailed_civilization);\r\n        getSupportActionBar().setTitle(&quot;Detailed view&quot;);\r\n        getSupportActionBar().setDisplayHomeAsUpEnabled(true);\r\n\r\n        Intent i = getIntent();\r\n        Bundle data = i.getExtras();\r\n        Civilizations v = (Civilizations) data.getSerializable(&quot;civilizationsData&quot;);\r\n\r\n        TextView type = findViewById(R.id.civilizationType);\r\n        type.setText(v.getArmy_type());\r\n\r\n        TextView title = findViewById(R.id.civilizationUniqueUnits);\r\n        title.setText(v.getName());\r\n\r\n        TextView expansions = findViewById(R.id.civilizationUnitDescription);\r\n        expansions.setText(v.getExpansion());\r\n\r\n        TextView bonus = findViewById(R.id.civilizationBonus);\r\n        bonus.setText(v.getCivilization_bonus());\r\n\r\n        Button changeActivityTech = findViewById(R.id.tech_button);\r\n        Button changeActivityUnit = findViewById(R.id.unit_button);\r\n        changeActivityTech.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                activityTech();\r\n            }\r\n        });\r\n        changeActivityUnit.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                activityUnit();\r\n            }\r\n        });\r\n    }\r\n    private void activityTech(){\r\n        Intent intent = new Intent(this, UniqueTech.class);\r\n        startActivity(intent);\r\n    }\r\n    private void activityUnit(){\r\n        Intent intent = new Intent(this, UniqueUnit.class);\r\n        startActivity(intent);\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\r\n        if(item.getItemId() == android.R.id.home){\r\n            onBackPressed();\r\n        }\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n\r\n}\r\n","title":"Cant get my API data to display on other pages","body":"<p>The code I've done was followed closely by a few YouTube tutorials. I'm designing an Age of Empires app that takes in the data from a public API. When the user progresses through the pages then different parts of the API data are shown. What I wanted it to do was get the data from the main activity (where the API is retrieved) and put some of its many data into the UniqueUnit page. It's using something called serializable which I can't quite understand how it works yet.</p>\n<p>For the record, it works in getting the data from page 'DetailedCivilization' but just completely breaks on 'UniqueUnit'page.</p>\n<p>MainActivity.java</p>\n<pre><code>package com.example.ageofempires2;\n\nimport ...\n\n\npublic class MainActivity extends AppCompatActivity {\n    public static final String TAG = &quot;tag&quot;;\n    RecyclerView itemList;\n    Adapter adapter;\n    List&lt;Civilizations&gt; all_civilizations;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        getSupportActionBar().setTitle(&quot;Civilizations menu&quot;);\n        all_civilizations = new ArrayList&lt;&gt;();\n        itemList = findViewById(R.id.itemList);\n        itemList.setLayoutManager(new LinearLayoutManager(this));\n        adapter = new Adapter(this, all_civilizations);\n        itemList.setAdapter(adapter);\n\n        getJsonData();\n\n    }\n\n    private void getJsonData() {\n        String URL = &quot;https://age-of-empires-2-api.herokuapp.com/api/v1/civilizations&quot;;\n        RequestQueue requestQueue = Volley.newRequestQueue(this);\n        JsonObjectRequest objectRequest = new JsonObjectRequest(Request.Method.GET, URL, null, new Response.Listener&lt;JSONObject&gt;() {\n            @Override\n            public void onResponse(JSONObject response) {\n                try {\n                    JSONArray civilizations = response.getJSONArray(&quot;civilizations&quot;);\n                    JSONObject civilizationsData = civilizations.getJSONObject(0);\n\n                    Log.d(TAG, &quot;onResponse &quot;+ civilizationsData);\n\n                    for (int i=0; i&lt; civilizationsData.length();i++){\n                        JSONObject civilization = civilizations.getJSONObject(i);\n                        Civilizations v = new Civilizations();\n\n                        v.setName(civilization.getString(&quot;name&quot;));\n                        v.setArmy_type(civilization.getString(&quot;army_type&quot;));\n                        v.setExpansion(civilization.getString(&quot;expansion&quot;));\n                        v.setCivilization_bonus(civilization.getString(&quot;civilization_bonus&quot;));\n                        v.setUnique_unit(civilization.getString(&quot;unique_unit&quot;));\n\n                        all_civilizations.add(v);\n                        adapter.notifyDataSetChanged();\n                    }\n\n                } catch (JSONException e) {\n                    e.printStackTrace();\n                }\n            }\n        }, new Response.ErrorListener() {\n            @Override\n            public void onErrorResponse(VolleyError error) {\n                Log.d(TAG, &quot;onErrorResponse&quot; + error.getMessage());\n            }\n        });\n        requestQueue.add(objectRequest);\n    }\n}\n\n\n \n</code></pre>\n<p>Adapter.java</p>\n<pre><code>     package com.example.ageofempires2;\n        \n          import ...\n        \n        public class Adapter extends RecyclerView.Adapter&lt;Adapter.ViewHolder&gt; {\n            private List&lt;Civilizations&gt; allCivilizations;\n            private Context context;\n        \n            public Adapter(Context ctx, List&lt;Civilizations&gt; civilizationsData){\n                this.allCivilizations = civilizationsData;\n                this.context = ctx;\n            }\n        \n            @NonNull\n            @Override\n            public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n                View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.civilization_view,parent,false);\n                return new ViewHolder(v);\n            }\n            @Override\n            public void onBindViewHolder(@NonNull ViewHolder holder, final int position) {\n                holder.titleName.setText(allCivilizations.get(position).getName());\n        \n                holder.vv.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View v) {\n                        Bundle b = new Bundle();\n                        b.putSerializable(&quot;civilizationsData&quot;, allCivilizations.get(position));\n                        Intent i = new Intent(context, DetailedCivilization.class);\n                        i.putExtras(b);\n                        v.getContext().startActivity(i);\n                    }\n                });\n        \n            }\n        \n            @Override\n            public int getItemCount() {\n                return allCivilizations.size();\n            }\n        \n            public class ViewHolder extends  RecyclerView.ViewHolder{\n                TextView titleName;\n                TextView expansionName;\n                View vv;\n                public ViewHolder(@NonNull View itemView) {\n                    super(itemView);\n        \n                    titleName = itemView.findViewById(R.id.civilizationUniqueUnits);\n                    expansionName = itemView.findViewById(R.id.civilizationUnitDescription);\n                    vv = itemView;\n        \n        \n                }\n            }\n        }\n     \n</code></pre>\n<p>Civilizations.java</p>\n<pre><code>    package com.example.ageofempires2;\n    \n    import java.io.Serializable;\n    \n    public class Civilizations implements Serializable {\n        private String name;\n        private String expansion;\n        private String army_type;\n        private String civilization_bonus;\n        private String unique_unit;\n    \n        public String getName() {\n            return name;\n        }\n    \n        public void setName(String name) {\n            this.name = name;\n        }\n    \n        public String getExpansion() {\n            return expansion;\n        }\n    \n        public void setExpansion(String expansion) {\n            this.expansion = expansion;\n        }\n    \n        public String getArmy_type() {\n            return army_type;\n        }\n    \n        public void setArmy_type(String army_type) {\n            this.army_type = army_type;\n        }\n    \n        public String getCivilization_bonus() {\n            return civilization_bonus;\n        }\n    \n        public void setCivilization_bonus(String civilization_bonus) {this.civilization_bonus = civilization_bonus; }\n    \n        public String getUnique_unit() {\n            return unique_unit;\n        }\n    \n        public void setUnique_unit(String unique_unit) {this.unique_unit = unique_unit; }\n    \n    \n    }\n\n</code></pre>\n<p>UniqueUnits.java</p>\n<pre><code>package com.example.ageofempires2;\n\n    import ...\n\n\npublic class UniqueUnit extends AppCompatActivity {\n\n    public static final String TAG = &quot;TAG&quot;;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_unique_unit);\n        getSupportActionBar().setTitle(&quot;Unique Unit&quot;);\n        getSupportActionBar().setDisplayHomeAsUpEnabled(true);\n\n        Intent incomingIntent = getIntent();\n        Bundle incomingName = incomingIntent.getExtras();\n        Civilizations v = (Civilizations) incomingName.getSerializable(&quot;civilizationsData&quot;);\n        Log.d(TAG, &quot;onCreate: IDK MAN IT SHOULD WORK??&quot; +incomingName);\n        TextView unit = findViewById(R.id.civilizationUnitDescription);\n        unit.setText(v.getUnique_unit());\n    }\n}\n\n</code></pre>\n<p>DetailedCivilization.java</p>\n<pre><code>package com.example.ageofempires2;\n\n    import ...\n\n\npublic class DetailedCivilization extends AppCompatActivity {\n\n    public static final String TAG = &quot;TAG&quot;;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_detailed_civilization);\n        getSupportActionBar().setTitle(&quot;Detailed view&quot;);\n        getSupportActionBar().setDisplayHomeAsUpEnabled(true);\n\n        Intent i = getIntent();\n        Bundle data = i.getExtras();\n        Civilizations v = (Civilizations) data.getSerializable(&quot;civilizationsData&quot;);\n\n        TextView type = findViewById(R.id.civilizationType);\n        type.setText(v.getArmy_type());\n\n        TextView title = findViewById(R.id.civilizationUniqueUnits);\n        title.setText(v.getName());\n\n        TextView expansions = findViewById(R.id.civilizationUnitDescription);\n        expansions.setText(v.getExpansion());\n\n        TextView bonus = findViewById(R.id.civilizationBonus);\n        bonus.setText(v.getCivilization_bonus());\n\n        Button changeActivityTech = findViewById(R.id.tech_button);\n        Button changeActivityUnit = findViewById(R.id.unit_button);\n        changeActivityTech.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                activityTech();\n            }\n        });\n        changeActivityUnit.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                activityUnit();\n            }\n        });\n    }\n    private void activityTech(){\n        Intent intent = new Intent(this, UniqueTech.class);\n        startActivity(intent);\n    }\n    private void activityUnit(){\n        Intent intent = new Intent(this, UniqueUnit.class);\n        startActivity(intent);\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\n        if(item.getItemId() == android.R.id.home){\n            onBackPressed();\n        }\n        return super.onOptionsItemSelected(item);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","bufferedimage"],"answers":[{"tags":[],"owner":{"account_id":1230714,"reputation":2655,"user_id":1195383,"accept_rate":86,"display_name":"dragon66"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1637155342,"creation_date":1425333328,"answer_id":28820189,"question_id":28819895,"body_markdown":"Maybe something like this:\r\n\r\n\t\t BufferedImage bi = javax.imageio.ImageIO.read(new File(&quot;pathToGif&quot;));\r\n\t\t \r\n\t\t if(bi.getColorModel() instanceof IndexColorModel) {\r\n\t\t\t IndexColorModel colorModel = (IndexColorModel)bi.getColorModel();\r\n             int colorCount = colorModel.getMapSize();\r\n\t\t\t byte[] reds = new byte[colorCount];\r\n\t\t\t byte[] greens = new byte[colorCount];\r\n\t\t\t byte[] blues = new byte[colorCount];\r\n\t\t\t colorModel.getReds(reds);\r\n\t\t\t colorModel.getGreens(greens);\r\n\t\t\t colorModel.getBlues(blues);\r\n\t\t\t Color yellow = Color.YELLOW;\r\n\t\t\t Color blue = Color.BLUE;\r\n\t\t\t for(int i = 0; i &lt; reds.length; i++) {\r\n\t\t\t\tColor newColor = new Color(reds[i]&amp;0xff, greens[i]&amp;0xff, blues[i]&amp;0xff);\r\n\t\t\t\tif(newColor.equals(yellow)) {\r\n\t\t\t\t\treds[i] = (byte)blue.getRed();\r\n\t\t\t\t\tgreens[i] = (byte)blue.getGreen();\r\n\t\t\t\t\tblues[i] = (byte)blue.getBlue();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t }\r\n\t\t\t \r\n\t\t }\r\n\r\nThis changed the yellow color to blue color, you can then use the changed color model to create a new BufferedImage and save it.","title":"How can I modify the map of a Java IndexColorModel?","body":"<p>Maybe something like this:</p>\n<pre><code>     BufferedImage bi = javax.imageio.ImageIO.read(new File(&quot;pathToGif&quot;));\n     \n     if(bi.getColorModel() instanceof IndexColorModel) {\n         IndexColorModel colorModel = (IndexColorModel)bi.getColorModel();\n         int colorCount = colorModel.getMapSize();\n         byte[] reds = new byte[colorCount];\n         byte[] greens = new byte[colorCount];\n         byte[] blues = new byte[colorCount];\n         colorModel.getReds(reds);\n         colorModel.getGreens(greens);\n         colorModel.getBlues(blues);\n         Color yellow = Color.YELLOW;\n         Color blue = Color.BLUE;\n         for(int i = 0; i &lt; reds.length; i++) {\n            Color newColor = new Color(reds[i]&amp;0xff, greens[i]&amp;0xff, blues[i]&amp;0xff);\n            if(newColor.equals(yellow)) {\n                reds[i] = (byte)blue.getRed();\n                greens[i] = (byte)blue.getGreen();\n                blues[i] = (byte)blue.getBlue();\n                break;\n            }\n         }\n         \n     }\n</code></pre>\n<p>This changed the yellow color to blue color, you can then use the changed color model to create a new BufferedImage and save it.</p>\n"}],"owner":{"account_id":2852869,"reputation":621,"user_id":2449669,"accept_rate":50,"display_name":"Bruce Feist"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":745,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":28820189,"answer_count":1,"score":4,"last_activity_date":1637155342,"creation_date":1425332253,"question_id":28819895,"body_markdown":"I want to change one single color (yellow, to be somewhat specific) to another color in a BufferedImage which was loaded from a .GIF file.  I should be able to do it easily enough with getRGB and setRGB, but it would much more efficient if I could just change the color that the IndexColorModel&#39;s &#39;yellow&#39; index is referring to.  Failing that, is it possible to create a new IndexColorModel which has the altered map?","title":"How can I modify the map of a Java IndexColorModel?","body":"<p>I want to change one single color (yellow, to be somewhat specific) to another color in a BufferedImage which was loaded from a .GIF file.  I should be able to do it easily enough with getRGB and setRGB, but it would much more efficient if I could just change the color that the IndexColorModel's 'yellow' index is referring to.  Failing that, is it possible to create a new IndexColorModel which has the altered map?</p>\n"},{"tags":["java","excel"],"comments":[{"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"score":1,"creation_date":1637159265,"post_id":70005113,"comment_id":123751250,"body_markdown":"Check this question for several solutions https://stackoverflow.com/questions/5710059/java-foreach-skip-first-iteration .","body":"Check this question for several solutions <a href=\"https://stackoverflow.com/questions/5710059/java-foreach-skip-first-iteration\" title=\"java foreach skip first iteration\">stackoverflow.com/questions/5710059/&hellip;</a> ."},{"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"score":2,"creation_date":1637159288,"post_id":70005113,"comment_id":123751260,"body_markdown":"Does this answer your question? [java foreach skip first iteration](https://stackoverflow.com/questions/5710059/java-foreach-skip-first-iteration)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/5710059/java-foreach-skip-first-iteration\">java foreach skip first iteration</a>"},{"owner":{"account_id":23367069,"reputation":31,"user_id":17438522,"display_name":"gian"},"score":0,"creation_date":1637335009,"post_id":70005113,"comment_id":123806433,"body_markdown":"how i can read only one line of the file?","body":"how i can read only one line of the file?"}],"owner":{"account_id":23367069,"reputation":31,"user_id":17438522,"display_name":"gian"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"closed_date":1637333741,"answer_count":0,"score":1,"last_activity_date":1637155337,"creation_date":1637155036,"question_id":70005113,"body_markdown":"\r\n```\t\r\npublic void doConvertFileAmazon(String pathFolderRead, String pathFolderWrite, String bpcnum) throws Exception {\r\n\t\tCollection&lt;File&gt; listFiles = FileUtils.listFiles(new File(pathFolderRead), new String[] { &quot;xlsx&quot; }, false);\r\n\t\tfor (File file : listFiles) {\r\n\t\t\tStringBuffer sb = new StringBuffer();\r\n\t\t\tList&lt;String[]&gt; listRow = ExcelWriter.read(file, 22);\r\n\t\t\tfor (String[] cols : listRow) {\r\n\t\t\t\tsb.append(&quot;BEV01;SRN;;&quot; + bpcnum + &quot;;SL;&quot; + cols[3] + &quot;;&quot; + cols[0] + &quot;;&quot; + cols[1] + &quot;;&quot; + cols[13]\r\n\t\t\t\t\t\t+ &quot;;&quot; + cols[17] + &quot;;1;;\\r\\n&quot;);\r\n\t\t\t}\r\n\t\t\tString filename = FilenameUtils.getBaseName(file.getName());\r\n\t\t\tFileUtils.writeStringToFile(new File(pathFolderWrite, filename + &quot;.csv&quot;), sb.toString(), &quot;UTF-8&quot;);\r\n\t\t}\r\n\t}\r\n```","title":"how to start reading excel file skipping he first line of excel file?","body":"<pre><code>public void doConvertFileAmazon(String pathFolderRead, String pathFolderWrite, String bpcnum) throws Exception {\n        Collection&lt;File&gt; listFiles = FileUtils.listFiles(new File(pathFolderRead), new String[] { &quot;xlsx&quot; }, false);\n        for (File file : listFiles) {\n            StringBuffer sb = new StringBuffer();\n            List&lt;String[]&gt; listRow = ExcelWriter.read(file, 22);\n            for (String[] cols : listRow) {\n                sb.append(&quot;BEV01;SRN;;&quot; + bpcnum + &quot;;SL;&quot; + cols[3] + &quot;;&quot; + cols[0] + &quot;;&quot; + cols[1] + &quot;;&quot; + cols[13]\n                        + &quot;;&quot; + cols[17] + &quot;;1;;\\r\\n&quot;);\n            }\n            String filename = FilenameUtils.getBaseName(file.getName());\n            FileUtils.writeStringToFile(new File(pathFolderWrite, filename + &quot;.csv&quot;), sb.toString(), &quot;UTF-8&quot;);\n        }\n    }\n</code></pre>\n"},{"tags":["java","vaadin","vaadin7"],"answers":[{"tags":[],"owner":{"account_id":295383,"reputation":4686,"user_id":599765,"accept_rate":22,"display_name":"Andr&#233; Schild"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1479747524,"creation_date":1479747524,"answer_id":40725454,"question_id":40724795,"body_markdown":"The `HorizontalLayout` has the [setComponentAlignment][1]() method you can use for this.\r\n\r\n    HorizontalLayout hl = new HorizontalLayout();\r\n    TextField tF= new TextField(&quot;Test&quot;);\r\n    h1.addComponent(tF);\r\n    Button btn= new Button(&quot;Do Something&quot;);\r\n    h1.addComponent(btn);\r\n    h1.setComponentAlignment(tF, Alignment.MIDDLE_CENTER);\r\n    h1.setComponentAlignment(btn, Alignment.MIDDLE_CENTER);\r\n\r\nPerhaps you need another alignment mode, depending how you wish to align the components inside the HorizontalLayout\r\n\r\n\r\n  [1]: https://vaadin.com/api/7.7.3/com/vaadin/ui/AbstractOrderedLayout.html#setComponentAlignment-com.vaadin.ui.Component-com.vaadin.ui.Alignment-","title":"Vaadin button alignment in HorizontalLayout","body":"<p>The <code>HorizontalLayout</code> has the <a href=\"https://vaadin.com/api/7.7.3/com/vaadin/ui/AbstractOrderedLayout.html#setComponentAlignment-com.vaadin.ui.Component-com.vaadin.ui.Alignment-\" rel=\"noreferrer\">setComponentAlignment</a>() method you can use for this.</p>\n\n<pre><code>HorizontalLayout hl = new HorizontalLayout();\nTextField tF= new TextField(\"Test\");\nh1.addComponent(tF);\nButton btn= new Button(\"Do Something\");\nh1.addComponent(btn);\nh1.setComponentAlignment(tF, Alignment.MIDDLE_CENTER);\nh1.setComponentAlignment(btn, Alignment.MIDDLE_CENTER);\n</code></pre>\n\n<p>Perhaps you need another alignment mode, depending how you wish to align the components inside the HorizontalLayout</p>\n"},{"tags":[],"owner":{"account_id":16772987,"reputation":474,"user_id":12125012,"display_name":"attalos"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1631280758,"creation_date":1631280758,"answer_id":69133014,"question_id":40724795,"body_markdown":"In case someone else stumbles across this in 2021. `HorizontalLayout` now has the possibility to align all items with one method call (`setAlignItems`) as followed:\r\n```java\r\nHorizontalLayout hl = new HorizontalLayout();\r\nhl.addComponent(new TextField(&quot;Test&quot;));\r\nhl.addComponent(new Button(&quot;Button&quot;));\r\nhl.setAlignItems(Alignment.CENTER);\r\n```","title":"Vaadin button alignment in HorizontalLayout","body":"<p>In case someone else stumbles across this in 2021. <code>HorizontalLayout</code> now has the possibility to align all items with one method call (<code>setAlignItems</code>) as followed:</p>\n<pre class=\"lang-java prettyprint-override\"><code>HorizontalLayout hl = new HorizontalLayout();\nhl.addComponent(new TextField(&quot;Test&quot;));\nhl.addComponent(new Button(&quot;Button&quot;));\nhl.setAlignItems(Alignment.CENTER);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2839459,"reputation":584,"user_id":2439336,"accept_rate":25,"display_name":"eladcm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637155228,"creation_date":1637155228,"answer_id":70005153,"question_id":40724795,"body_markdown":"In case it is as your example : one text field and button\r\nyou can do like this :\r\n\r\n     HorizontalLayout hl = new HorizontalLayout();\r\n     h1.addComponent(new TextField(&quot;Test&quot;);\r\n     Button btn = new Button(&quot;Do somethind&quot;);\r\n     btn.getElement().getStyle().set(&quot;margin-top&quot;,&quot;32px&quot;);\r\n     h1.addComponent(btn);\r\n\r\n\r\nthe 32px is 16px margin + 16px padding\r\n\r\nin case it is something the accrues alot in your project \r\ncreate a css class in your styles :\r\n    \r\n     .btn-with-margin {\r\n       margin-top:32px !important;\r\n     } \r\n\r\nand add to the btn\r\n","title":"Vaadin button alignment in HorizontalLayout","body":"<p>In case it is as your example : one text field and button\nyou can do like this :</p>\n<pre><code> HorizontalLayout hl = new HorizontalLayout();\n h1.addComponent(new TextField(&quot;Test&quot;);\n Button btn = new Button(&quot;Do somethind&quot;);\n btn.getElement().getStyle().set(&quot;margin-top&quot;,&quot;32px&quot;);\n h1.addComponent(btn);\n</code></pre>\n<p>the 32px is 16px margin + 16px padding</p>\n<p>in case it is something the accrues alot in your project\ncreate a css class in your styles :</p>\n<pre><code> .btn-with-margin {\n   margin-top:32px !important;\n } \n</code></pre>\n<p>and add to the btn</p>\n"}],"owner":{"account_id":2818703,"reputation":2420,"user_id":2423030,"accept_rate":80,"display_name":"Keyhan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4043,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":40725454,"answer_count":3,"score":3,"last_activity_date":1637155228,"creation_date":1479745490,"question_id":40724795,"body_markdown":"When trying to set a button in HorizontalLayout, the button tends to be aligned with caption parts of other components in the layout rather than the component themselves. For example\r\n\r\n    HorizontalLayout hl = new HorizontalLayout();\r\n    h1.addComponent(new TextField(&quot;Test&quot;);\r\n    h1.addComponent(new Button(&quot;Do Something&quot;);\r\n\r\nwill result into the button being aligned not in line with the text field but with its caption text.\r\n\r\nHow can one fix the alignment so that it is aligned with the Text Field?\r\n","title":"Vaadin button alignment in HorizontalLayout","body":"<p>When trying to set a button in HorizontalLayout, the button tends to be aligned with caption parts of other components in the layout rather than the component themselves. For example</p>\n\n<pre><code>HorizontalLayout hl = new HorizontalLayout();\nh1.addComponent(new TextField(\"Test\");\nh1.addComponent(new Button(\"Do Something\");\n</code></pre>\n\n<p>will result into the button being aligned not in line with the text field but with its caption text.</p>\n\n<p>How can one fix the alignment so that it is aligned with the Text Field?</p>\n"},{"tags":["java","data-structures","heap","priority-queue","indexed"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1539671788,"post_id":52807854,"comment_id":92574979,"body_markdown":"Is your queue implemented as a heap? The tag seems to suggest so, but please make it clear in the text. The correct answer depends on this piece of information.","body":"Is your queue implemented as a heap? The tag seems to suggest so, but please make it clear in the text. The correct answer depends on this piece of information."}],"answers":[{"tags":[],"owner":{"account_id":4860165,"reputation":27613,"user_id":3920048,"display_name":"Misha"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1637154964,"creation_date":1539577969,"answer_id":52809801,"question_id":52807854,"body_markdown":"&gt; Since pq[N] is the last element in pq[], and this is swapped with the element at pq[i] (which is to be deleted), wouldn&#39;t this mean that the value at pq[i] after the swap is larger or equal to pq[i] before the swap? \r\n\r\nNo, that is not necessarily true.  The only requirement for a valid min-heap is that a child cannot be smaller than its parent.  While this means that the element in the first position is the smallest, it does **not** mean that the element in the last position is the largest.  Consider the following heap:\r\n\r\n                    1\r\n          10                 2  \r\n      15       18        5        3\r\n    16  17   19  20    7   8    6   4\r\n\r\n\r\n`pq[N]` is `4` and yet there are lots of elements in that heap that are larger than it.  Suppose we wanted to remove `15` by replacing it with `4`.  `4` is smaller than `10` and so would have to be moved up the tree (using `swim`).","title":"Deleting from Indexed Priority Queue (java)","body":"<blockquote>\n<p>Since pq[N] is the last element in pq[], and this is swapped with the element at pq[i] (which is to be deleted), wouldn't this mean that the value at pq[i] after the swap is larger or equal to pq[i] before the swap?</p>\n</blockquote>\n<p>No, that is not necessarily true.  The only requirement for a valid min-heap is that a child cannot be smaller than its parent.  While this means that the element in the first position is the smallest, it does <strong>not</strong> mean that the element in the last position is the largest.  Consider the following heap:</p>\n<pre><code>                1\n      10                 2  \n  15       18        5        3\n16  17   19  20    7   8    6   4\n</code></pre>\n<p><code>pq[N]</code> is <code>4</code> and yet there are lots of elements in that heap that are larger than it.  Suppose we wanted to remove <code>15</code> by replacing it with <code>4</code>.  <code>4</code> is smaller than <code>10</code> and so would have to be moved up the tree (using <code>swim</code>).</p>\n"}],"owner":{"account_id":5004688,"reputation":89,"user_id":4022681,"accept_rate":60,"display_name":"StraightUpBusta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":796,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":52809801,"answer_count":1,"score":2,"last_activity_date":1637154964,"creation_date":1539558485,"question_id":52807854,"body_markdown":"I have an Indexed Minimum Priority Queue implemented as a heap. When deleting an indexed element, the code is:\r\n\r\n\t public void delete(int i) {\r\n        if (i &lt; 0 || i &gt;= maxN) throw new IllegalArgumentException();\r\n        if (!contains(i)) throw new NoSuchElementException(&quot;index is not in the priority queue&quot;);\r\n        int index = qp[i];\r\n        exch(index, n--);\r\n        swim(index); // Why is this needed?\r\n        sink(index);\r\n        keys[i] = null;\r\n        qp[i] = -1;\r\n    }\r\n\r\nThe rest of the code can be found here: https://algs4.cs.princeton.edu/24pq/IndexMinPQ.java.html\r\n\r\nSince `pq[N`] is the last element in `pq[]`, and this is swapped with the element at `pq[i]` (which is to be deleted), wouldn&#39;t this mean that the value at `pq[i]` after the swap is larger or equal to `pq[i]` before the swap? The question is why do we have to call `swim(i)` at all and not just `sink(i)` alone? Under which specific conditions is there a need to call `swim(i)` after the swap? \r\n\r\n(There are 3 arrays, `qp[]` and `keys[]` with corresponding indexes, and `pq[]` such that `qp[pq[i]]` = `pq[qp[i]]` = `i`.)","title":"Deleting from Indexed Priority Queue (java)","body":"<p>I have an Indexed Minimum Priority Queue implemented as a heap. When deleting an indexed element, the code is:</p>\n\n<pre><code> public void delete(int i) {\n    if (i &lt; 0 || i &gt;= maxN) throw new IllegalArgumentException();\n    if (!contains(i)) throw new NoSuchElementException(\"index is not in the priority queue\");\n    int index = qp[i];\n    exch(index, n--);\n    swim(index); // Why is this needed?\n    sink(index);\n    keys[i] = null;\n    qp[i] = -1;\n}\n</code></pre>\n\n<p>The rest of the code can be found here: <a href=\"https://algs4.cs.princeton.edu/24pq/IndexMinPQ.java.html\" rel=\"nofollow noreferrer\">https://algs4.cs.princeton.edu/24pq/IndexMinPQ.java.html</a></p>\n\n<p>Since <code>pq[N</code>] is the last element in <code>pq[]</code>, and this is swapped with the element at <code>pq[i]</code> (which is to be deleted), wouldn't this mean that the value at <code>pq[i]</code> after the swap is larger or equal to <code>pq[i]</code> before the swap? The question is why do we have to call <code>swim(i)</code> at all and not just <code>sink(i)</code> alone? Under which specific conditions is there a need to call <code>swim(i)</code> after the swap? </p>\n\n<p>(There are 3 arrays, <code>qp[]</code> and <code>keys[]</code> with corresponding indexes, and <code>pq[]</code> such that <code>qp[pq[i]]</code> = <code>pq[qp[i]]</code> = <code>i</code>.)</p>\n"},{"tags":["java","docker","gradle"],"comments":[{"owner":{"account_id":2647801,"reputation":1383,"user_id":2290153,"display_name":"Matthias Wiedemann"},"score":0,"creation_date":1637161623,"post_id":70005014,"comment_id":123752303,"body_markdown":"I dont know, why you actually do a docker multi-stage build. If you already have gradle, you could build a docker image using jib plugin https://github.com/GoogleContainerTools/jib/tree/master/jib-gradle-plugin","body":"I dont know, why you actually do a docker multi-stage build. If you already have gradle, you could build a docker image using jib plugin <a href=\"https://github.com/GoogleContainerTools/jib/tree/master/jib-gradle-plugin\" rel=\"nofollow noreferrer\">github.com/GoogleContainerTools/jib/tree/master/&hellip;</a>"},{"owner":{"account_id":5273813,"reputation":2211,"user_id":4211297,"accept_rate":60,"display_name":"Pompey Magnus"},"score":0,"creation_date":1637162729,"post_id":70005014,"comment_id":123752880,"body_markdown":"a couple reasons, mainly because I&#39;ve never heard of jib before, so i&#39;ll take a look at that. 2, we&#39;re just starting to experiment with creating good &quot;app&quot; templates for our org, so ultimately multi-stage might not be a part of it.  Solving this particular problem helps with a greater understanding.  thanks for jib share @MatthiasWiedemann","body":"a couple reasons, mainly because I&#39;ve never heard of jib before, so i&#39;ll take a look at that. 2, we&#39;re just starting to experiment with creating good &quot;app&quot; templates for our org, so ultimately multi-stage might not be a part of it.  Solving this particular problem helps with a greater understanding.  thanks for jib share @MatthiasWiedemann"}],"owner":{"account_id":5273813,"reputation":2211,"user_id":4211297,"accept_rate":60,"display_name":"Pompey Magnus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":759,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1637154603,"creation_date":1637154603,"question_id":70005014,"body_markdown":"i have the following multistage Dockerfile\r\n\r\n    FROM docker.io/gradle:jdk11 as develop\r\n    EXPOSE 8080\r\n    \r\n    CMD [ &quot;tail&quot;, &quot;-f&quot;, &quot;/dev/null&quot; ]\r\n    \r\n    FROM docker.io/gradle:jdk11 as build\r\n    COPY app/ .\r\n    RUN ls\r\n    RUN gradle build\r\n    \r\n    FROM gcr.io/distroless/java-debian10:11 as prd\r\n    COPY --from=build /home/gradle/project/app/build/libs/demo-0.0.1-SNAPSHOT.jar /app.jar\r\n    CMD [&quot;/app.jar&quot;]\r\n\r\nwhen I get to `build` gradle blows up with filesystem errors\r\n\r\n\r\n&gt; Unable to list file systems to check whether they can be watched.\r\n&gt; Assuming all file systems can be watched. Reason: Could not query file\r\n&gt; systems: could not open mount file (errno 2: No such file or\r\n&gt; directory)\r\n\r\n...\r\n\r\n&gt; Unable to list file systems to check whether they can be watched. The\r\n&gt; whole state of the virtual file system has been discarded. Reason:\r\n&gt; Could not query file systems: could not open mount file (errno 2: No\r\n&gt; such file or directory) Error: error building at STEP &quot;RUN gradle\r\n&gt; build&quot;: error while running runtime: exit status 1\r\n\r\n\r\nI want to have the `prd` image to be distroless, and done with the build command. I was trying to avoid a script, but maybe I can&#39;t.\r\n\r\nI am asking why I&#39;m getting this build error, and/or how to work around it?\r\n\r\n\r\n","title":"compiling java springboot app in gradle container fails due to file system errors","body":"<p>i have the following multistage Dockerfile</p>\n<pre><code>FROM docker.io/gradle:jdk11 as develop\nEXPOSE 8080\n\nCMD [ &quot;tail&quot;, &quot;-f&quot;, &quot;/dev/null&quot; ]\n\nFROM docker.io/gradle:jdk11 as build\nCOPY app/ .\nRUN ls\nRUN gradle build\n\nFROM gcr.io/distroless/java-debian10:11 as prd\nCOPY --from=build /home/gradle/project/app/build/libs/demo-0.0.1-SNAPSHOT.jar /app.jar\nCMD [&quot;/app.jar&quot;]\n</code></pre>\n<p>when I get to <code>build</code> gradle blows up with filesystem errors</p>\n<blockquote>\n<p>Unable to list file systems to check whether they can be watched.\nAssuming all file systems can be watched. Reason: Could not query file\nsystems: could not open mount file (errno 2: No such file or\ndirectory)</p>\n</blockquote>\n<p>...</p>\n<blockquote>\n<p>Unable to list file systems to check whether they can be watched. The\nwhole state of the virtual file system has been discarded. Reason:\nCould not query file systems: could not open mount file (errno 2: No\nsuch file or directory) Error: error building at STEP &quot;RUN gradle\nbuild&quot;: error while running runtime: exit status 1</p>\n</blockquote>\n<p>I want to have the <code>prd</code> image to be distroless, and done with the build command. I was trying to avoid a script, but maybe I can't.</p>\n<p>I am asking why I'm getting this build error, and/or how to work around it?</p>\n"},{"tags":["java","linux","debian-buster","openjdk-11"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1637153850,"post_id":70004734,"comment_id":123748706,"body_markdown":"What happens when you use `java -version` or `java --version` instead?","body":"What happens when you use <code>java -version</code> or <code>java --version</code> instead?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1637155763,"post_id":70004734,"comment_id":123749572,"body_markdown":"Does it say anything else apart from *&quot;could not create the Java Virtual Machine&quot;*?","body":"Does it say anything else apart from <i>&quot;could not create the Java Virtual Machine&quot;</i>?"},{"owner":{"account_id":23356488,"reputation":33,"user_id":17429389,"display_name":"Wizking"},"score":0,"creation_date":1637157031,"post_id":70004734,"comment_id":123750170,"body_markdown":"@Stephen C yes it does. &quot;A fatal exception has occurred. Program will exit.&quot; The above display on a new line after &quot;could not create Java Virtual Machine&quot; error message","body":"@Stephen C yes it does. &quot;A fatal exception has occurred. Program will exit.&quot; The above display on a new line after &quot;could not create Java Virtual Machine&quot; error message"},{"owner":{"account_id":23356488,"reputation":33,"user_id":17429389,"display_name":"Wizking"},"score":0,"creation_date":1637157180,"post_id":70004734,"comment_id":123750251,"body_markdown":"@Mark Rotteveel the second option &quot;java --version&quot; worked.","body":"@Mark Rotteveel the second option &quot;java --version&quot; worked."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1637159059,"post_id":70004734,"comment_id":123751151,"body_markdown":"OK ... so it is odd that `java version` says that.  On my machine (Ubuntu Focal, OpenJDK Java 11 or 17) running `java version` says `Error: Could not find or load main class version` `Caused by: java.lang.ClassNotFoundException: version`.  Anyway, you have your answer.  Java is installed correctly.  You were just running `java` with an incorrect command line option.","body":"OK ... so it is odd that <code>java version</code> says that.  On my machine (Ubuntu Focal, OpenJDK Java 11 or 17) running <code>java version</code> says <code>Error: Could not find or load main class version</code> <code>Caused by: java.lang.ClassNotFoundException: version</code>.  Anyway, you have your answer.  Java is installed correctly.  You were just running <code>java</code> with an incorrect command line option."},{"owner":{"account_id":23356488,"reputation":33,"user_id":17429389,"display_name":"Wizking"},"score":0,"creation_date":1637172849,"post_id":70004734,"comment_id":123757543,"body_markdown":"@Stephen C thanks so much. Funny both commands &quot;java version&quot; &amp; &quot;java --version&quot; now works. I still don&#39;t know what I omitted or added initially.","body":"@Stephen C thanks so much. Funny both commands &quot;java version&quot; &amp; &quot;java --version&quot; now works. I still don&#39;t know what I omitted or added initially."},{"owner":{"account_id":1777925,"reputation":500,"user_id":1621331,"display_name":"remat_br"},"score":0,"creation_date":1665171415,"post_id":70004734,"comment_id":130645532,"body_markdown":"I solved the problem by closing the console and opening a new console. Strange behavior but it works now.  Here running java 8  with Zorin 16 (Ubuntu 20.04)","body":"I solved the problem by closing the console and opening a new console. Strange behavior but it works now.  Here running java 8  with Zorin 16 (Ubuntu 20.04)"}],"owner":{"account_id":23356488,"reputation":33,"user_id":17429389,"display_name":"Wizking"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1307,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637153454,"creation_date":1637153454,"question_id":70004734,"body_markdown":"I recently tried running java on debian 10 buster linux. I installed the default-jre and openjdk-11-jdk using the sudo command in the terminal. I confirmed the installations by running the command &quot;sudo apt search openjdk&quot; and it was installed. But when I try to verify the &quot;java version&quot; an error message *could not create the Java Virtual Machine* \r\n\r\nHow do I go about the process or what am I missing out to run java? Thanks ","title":"Error message: &quot;Could not create Java virtual machine.&quot; (Debian10 buster)","body":"<p>I recently tried running java on debian 10 buster linux. I installed the default-jre and openjdk-11-jdk using the sudo command in the terminal. I confirmed the installations by running the command &quot;sudo apt search openjdk&quot; and it was installed. But when I try to verify the &quot;java version&quot; an error message <em>could not create the Java Virtual Machine</em></p>\n<p>How do I go about the process or what am I missing out to run java? Thanks</p>\n"},{"tags":["java","bash","jenkins","jenkins-plugins"],"answers":[{"tags":[],"owner":{"account_id":3845096,"reputation":126,"user_id":3186906,"display_name":"viglu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637152084,"creation_date":1637152084,"answer_id":70004422,"question_id":70003950,"body_markdown":"Try to delete the symbolic link `/usr/bin/java` and then relaunch `sudo alternatives --set java /usr/lib/jvm/jre-1.8.0-openjdk/bin/java`","title":"Switching OpenJDK via atlernatives to java-1.8.0-openjdk failed! /usr/bin may not exists or point to different java version","body":"<p>Try to delete the symbolic link <code>/usr/bin/java</code> and then relaunch <code>sudo alternatives --set java /usr/lib/jvm/jre-1.8.0-openjdk/bin/java</code></p>\n"},{"tags":[],"owner":{"account_id":17464519,"reputation":77,"user_id":12775883,"display_name":"mgnfcnt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637153337,"creation_date":1637152446,"answer_id":70004508,"question_id":70003950,"body_markdown":"The issue is related to the `openJDK-native-plugin`. So I had to uninstall it completely.","title":"Switching OpenJDK via atlernatives to java-1.8.0-openjdk failed! /usr/bin may not exists or point to different java version","body":"<p>The issue is related to the <code>openJDK-native-plugin</code>. So I had to uninstall it completely.</p>\n"}],"owner":{"account_id":17464519,"reputation":77,"user_id":12775883,"display_name":"mgnfcnt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":487,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1637153337,"creation_date":1637150139,"question_id":70003950,"body_markdown":"I am getting following error if i select freestyle project and cant execute bash scripts:\r\n\r\n    Running as SYSTEM\r\n    Checking OpenJDK installation...\r\n    $ rpm -q java-1.8.0-openjdk\r\n    java-1.8.0-openjdk-1.8.0.312.b07-1.el7_9.x86_64\r\n    Checking OpenJDK installation...\r\n    $ rpm -q java-1.8.0-openjdk-devel\r\n    java-1.8.0-openjdk-devel-1.8.0.312.b07-1.el7_9.x86_64\r\n    Switching to java-1.8.0-openjdk using alternatives ... \r\n    $ sudo alternatives --set java /usr/lib/jvm/jre-1.8.0-openjdk/bin/java\r\n    /usr/lib/jvm/jre-1.8.0-openjdk/bin/java has not been configured as an alternative for java\r\n    [OpenJDK ERROR] Switching OpenJDK via atlernatives to java-1.8.0-openjdk failed! /usr/bin may not exists or point to different java version!\r\n\r\nJAVA_HOME at configure system is:\r\n\r\n&gt; /usr/lib/jvm/java-1.8.0-openjdk\r\n\r\n","title":"Switching OpenJDK via atlernatives to java-1.8.0-openjdk failed! /usr/bin may not exists or point to different java version","body":"<p>I am getting following error if i select freestyle project and cant execute bash scripts:</p>\n<pre><code>Running as SYSTEM\nChecking OpenJDK installation...\n$ rpm -q java-1.8.0-openjdk\njava-1.8.0-openjdk-1.8.0.312.b07-1.el7_9.x86_64\nChecking OpenJDK installation...\n$ rpm -q java-1.8.0-openjdk-devel\njava-1.8.0-openjdk-devel-1.8.0.312.b07-1.el7_9.x86_64\nSwitching to java-1.8.0-openjdk using alternatives ... \n$ sudo alternatives --set java /usr/lib/jvm/jre-1.8.0-openjdk/bin/java\n/usr/lib/jvm/jre-1.8.0-openjdk/bin/java has not been configured as an alternative for java\n[OpenJDK ERROR] Switching OpenJDK via atlernatives to java-1.8.0-openjdk failed! /usr/bin may not exists or point to different java version!\n</code></pre>\n<p>JAVA_HOME at configure system is:</p>\n<blockquote>\n<p>/usr/lib/jvm/java-1.8.0-openjdk</p>\n</blockquote>\n"},{"tags":["java","file","file-rename"],"answers":[{"tags":[],"owner":{"account_id":1730446,"reputation":7868,"user_id":1584167,"display_name":"udalmik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637152294,"creation_date":1637152294,"answer_id":70004475,"question_id":70004335,"body_markdown":"I think there is no need to convert list to string and parse it back to Files.  Getting first and second by index with renaming them should work:\r\n```\r\n// after your filtering / sorting code\r\n\r\nFile firstFile = files.get(0);\r\nFile secondFile = files.get(1);&#39;\r\n\r\nfirstFile.renameTo(new File(&quot;Outbound.pdf&quot;));\r\nsecondFile.renameTo(new File(&quot;Inbound.pdf&quot;));\r\n```","title":"Rename top 2 latest pdf in a folder in java","body":"<p>I think there is no need to convert list to string and parse it back to Files.  Getting first and second by index with renaming them should work:</p>\n<pre><code>// after your filtering / sorting code\n\nFile firstFile = files.get(0);\nFile secondFile = files.get(1);'\n\nfirstFile.renameTo(new File(&quot;Outbound.pdf&quot;));\nsecondFile.renameTo(new File(&quot;Inbound.pdf&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637153199,"creation_date":1637153199,"answer_id":70004656,"question_id":70004335,"body_markdown":"Try this.\r\n\r\n    File dir = new File(&quot;C:\\\\Users\\\\sharm\\\\Downloads\\\\&quot;);\r\n    File[] files = dir.listFiles((d, name) -&gt; name.endsWith(&quot;.pdf&quot;));\r\n    Arrays.sort(files, Comparator.comparing((File f) -&gt; f.lastModified()).reversed());\r\n    files[0].renameTo(new File(dir, &quot;Outbound.pdf&quot;));\r\n    files[1].renameTo(new File(dir, &quot;Inbound.pdf&quot;));\r\n","title":"Rename top 2 latest pdf in a folder in java","body":"<p>Try this.</p>\n<pre><code>File dir = new File(&quot;C:\\\\Users\\\\sharm\\\\Downloads\\\\&quot;);\nFile[] files = dir.listFiles((d, name) -&gt; name.endsWith(&quot;.pdf&quot;));\nArrays.sort(files, Comparator.comparing((File f) -&gt; f.lastModified()).reversed());\nfiles[0].renameTo(new File(dir, &quot;Outbound.pdf&quot;));\nfiles[1].renameTo(new File(dir, &quot;Inbound.pdf&quot;));\n</code></pre>\n"}],"owner":{"account_id":11349613,"reputation":75,"user_id":8321088,"display_name":"Mayank Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70004656,"answer_count":2,"score":0,"last_activity_date":1637153199,"creation_date":1637151683,"question_id":70004335,"body_markdown":"I need to write a function in java which can achieve some simple functions.\r\n\r\n - Get names of first 2 latest &quot;pdf&quot;s in a folder\r\n - Rename those pdfs to first and second respectively. \r\n\r\nHere&#39;s what I&#39;ve tried:\r\n        \r\n        File dir = new File(&quot;C:\\\\Users\\\\sharm\\\\Downloads\\\\&quot;);\r\n        File[] files = dir.listFiles(new FilenameFilter() {\r\n            public boolean accept(File dir, String name) {\r\n                return name.endsWith(&quot;.pdf&quot;);\r\n            }});\r\n        \r\n        Arrays.sort(files, new Comparator&lt;File&gt;(){\r\n          public int compare(File f1, File f2) {\r\n            return Long.valueOf(f2.lastModified()).compareTo(f1.lastModified());\r\n          } \r\n        });\r\n                    \r\n        String filenames = Arrays.toString(files);\r\n        filenames = filenames.substring(1, filenames.length() - 1);\r\n        String[] arrOfStr = filenames.split( &quot;,&quot; , 3);\r\n        File file = new File(arrOfStr[0]);\r\n        File file2 = new File(&quot;Outbound.pdf&quot;);\r\n        file.renameTo(file2);\r\n        String secondFileName = arrOfStr[1];\r\n        secondFileName.trim();\r\n        StringBuilder sb = new StringBuilder(secondFileName);\r\n        sb.deleteCharAt(0);\r\n        File file3 = new File(sb.toString());\r\n        File file4 = new File(&quot;Inbound.pdf&quot;);\r\n        file3.renameTo(file4);\r\n\r\nWhen I did sysout on the second filename to find out that there was a space at the beginning. therefore I decided to eliminate that space using sb. But all said and done, the first filename is changes successfully but the second change does not occur. whereas they are both working on same principle and using same `renameTo` method. Is there anything that it can be only used once in the code or something? \r\nCan anyone please help? I&#39;ve been scratching my head for the whole day over this.","title":"Rename top 2 latest pdf in a folder in java","body":"<p>I need to write a function in java which can achieve some simple functions.</p>\n<ul>\n<li>Get names of first 2 latest &quot;pdf&quot;s in a folder</li>\n<li>Rename those pdfs to first and second respectively.</li>\n</ul>\n<p>Here's what I've tried:</p>\n<pre><code>    File dir = new File(&quot;C:\\\\Users\\\\sharm\\\\Downloads\\\\&quot;);\n    File[] files = dir.listFiles(new FilenameFilter() {\n        public boolean accept(File dir, String name) {\n            return name.endsWith(&quot;.pdf&quot;);\n        }});\n    \n    Arrays.sort(files, new Comparator&lt;File&gt;(){\n      public int compare(File f1, File f2) {\n        return Long.valueOf(f2.lastModified()).compareTo(f1.lastModified());\n      } \n    });\n                \n    String filenames = Arrays.toString(files);\n    filenames = filenames.substring(1, filenames.length() - 1);\n    String[] arrOfStr = filenames.split( &quot;,&quot; , 3);\n    File file = new File(arrOfStr[0]);\n    File file2 = new File(&quot;Outbound.pdf&quot;);\n    file.renameTo(file2);\n    String secondFileName = arrOfStr[1];\n    secondFileName.trim();\n    StringBuilder sb = new StringBuilder(secondFileName);\n    sb.deleteCharAt(0);\n    File file3 = new File(sb.toString());\n    File file4 = new File(&quot;Inbound.pdf&quot;);\n    file3.renameTo(file4);\n</code></pre>\n<p>When I did sysout on the second filename to find out that there was a space at the beginning. therefore I decided to eliminate that space using sb. But all said and done, the first filename is changes successfully but the second change does not occur. whereas they are both working on same principle and using same <code>renameTo</code> method. Is there anything that it can be only used once in the code or something?\nCan anyone please help? I've been scratching my head for the whole day over this.</p>\n"},{"tags":["java","bash","escaping"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1637152829,"post_id":70004420,"comment_id":123748278,"body_markdown":"I’m not sure backslashes work in Unix shells the same way they work in Java code.  Try defining the environment variable this way:  `export OPTS=&quot;-Dbazinga=&#39;foo bar&#39;&quot;`","body":"I’m not sure backslashes work in Unix shells the same way they work in Java code.  Try defining the environment variable this way:  <code>export OPTS=&quot;-Dbazinga=&#39;foo bar&#39;&quot;</code>"},{"owner":{"account_id":23366527,"reputation":1,"user_id":17438081,"display_name":"jan.n.nowak"},"score":0,"creation_date":1637152925,"post_id":70004420,"comment_id":123748312,"body_markdown":"Now it prints `&#39;foo bar&#39;`","body":"Now it prints <code>&#39;foo bar&#39;</code>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1637152975,"post_id":70004420,"comment_id":123748338,"body_markdown":"Even when you run it using `java $OPTS Main` without any quotes in the command line?","body":"Even when you run it using <code>java $OPTS Main</code> without any quotes in the command line?"},{"owner":{"account_id":23366527,"reputation":1,"user_id":17438081,"display_name":"jan.n.nowak"},"score":0,"creation_date":1637153190,"post_id":70004420,"comment_id":123748425,"body_markdown":"When I run `java $OPTS Main` then I get `Error: Could not find or load main class bar&#39;`","body":"When I run <code>java $OPTS Main</code> then I get <code>Error: Could not find or load main class bar&#39;</code>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1637153513,"post_id":70004420,"comment_id":123748538,"body_markdown":"I suppose that makes sense;  the quotes in an expanded value are just text, not shell metacharacters.  You can do `bash -c &quot;java $OPTS Main&quot;`, though I’m not particularly fond of that since it can introduce other problems, should your case become more complex.","body":"I suppose that makes sense;  the quotes in an expanded value are just text, not shell metacharacters.  You can do <code>bash -c &quot;java $OPTS Main&quot;</code>, though I’m not particularly fond of that since it can introduce other problems, should your case become more complex."},{"owner":{"account_id":32384,"reputation":120260,"user_id":89817,"display_name":"Gordon Davisson"},"score":0,"creation_date":1637172958,"post_id":70004420,"comment_id":123757577,"body_markdown":"See [Why does shell ignore quoting characters in arguments passed to it through variables?](https://stackoverflow.com/questions/12136948/why-does-shell-ignore-quoting-characters-in-arguments-passed-to-it-through-varia) (and many similar questions).","body":"See <a href=\"https://stackoverflow.com/questions/12136948/why-does-shell-ignore-quoting-characters-in-arguments-passed-to-it-through-varia\">Why does shell ignore quoting characters in arguments passed to it through variables?</a> (and many similar questions)."}],"owner":{"account_id":23366527,"reputation":1,"user_id":17438081,"display_name":"jan.n.nowak"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":308,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637152844,"creation_date":1637152076,"question_id":70004420,"body_markdown":"I have a `bazinga` property stored in an environment variable\r\n\r\n```\r\nexport OPTS=&quot;-Dbazinga=\\&quot;foo bar\\&quot;&quot;\r\n```\r\n\r\n```\r\n-bash-4.1$ echo $OPTS\r\n-Dbazinga=&quot;foo bar&quot;\r\n```\r\n\r\n\r\nAlso, there is an example java program that just prints its value:\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        System.out.println(System.getProperty(&quot;bazinga&quot;, &quot;&quot;));\r\n    }\r\n}\r\n```\r\n\r\nWhen I run the program without using the env variable everything works fine, meaning `foo bar` is printed:\r\n\r\n```\r\n-bash-4.1$ java -Dbazinga=&quot;foo bar&quot; Main\r\nfoo bar\r\n```\r\n\r\nHowever, I am unable to run the program using the variable because qoutation marks get in the way:\r\n\r\n```\r\n-bash-4.1$ java $OPTS Main\r\nError: Could not find or load main class bar&quot;\r\n\r\n-bash-4.1$ java &quot;$OPTS&quot; Main\r\n&quot;foo bar&quot;\r\n```\r\n\r\nHow can I run the program using the env variable with correct quotation marks handling?","title":"How do I remove quotation marks from java system properties","body":"<p>I have a <code>bazinga</code> property stored in an environment variable</p>\n<pre><code>export OPTS=&quot;-Dbazinga=\\&quot;foo bar\\&quot;&quot;\n</code></pre>\n<pre><code>-bash-4.1$ echo $OPTS\n-Dbazinga=&quot;foo bar&quot;\n</code></pre>\n<p>Also, there is an example java program that just prints its value:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        System.out.println(System.getProperty(&quot;bazinga&quot;, &quot;&quot;));\n    }\n}\n</code></pre>\n<p>When I run the program without using the env variable everything works fine, meaning <code>foo bar</code> is printed:</p>\n<pre><code>-bash-4.1$ java -Dbazinga=&quot;foo bar&quot; Main\nfoo bar\n</code></pre>\n<p>However, I am unable to run the program using the variable because qoutation marks get in the way:</p>\n<pre><code>-bash-4.1$ java $OPTS Main\nError: Could not find or load main class bar&quot;\n\n-bash-4.1$ java &quot;$OPTS&quot; Main\n&quot;foo bar&quot;\n</code></pre>\n<p>How can I run the program using the env variable with correct quotation marks handling?</p>\n"},{"tags":["java","kotlin","shadowjar"],"comments":[{"owner":{"account_id":13766114,"reputation":1780,"user_id":9936828,"display_name":"somethingsomething"},"score":0,"creation_date":1637152799,"post_id":70004294,"comment_id":123748266,"body_markdown":"What kind of jar are you trying to create? Since this is tagged as shadowjar I would interpret it as you trying to create a fat/uberjar, where you have to include the stdlib for obvious reasons. Also you don&#39;t compile kotlin to java, you compile both to java/JVM bytecode.","body":"What kind of jar are you trying to create? Since this is tagged as shadowjar I would interpret it as you trying to create a fat/uberjar, where you have to include the stdlib for obvious reasons. Also you don&#39;t compile kotlin to java, you compile both to java/JVM bytecode."}],"answers":[{"tags":[],"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637152651,"creation_date":1637152651,"answer_id":70004556,"question_id":70004294,"body_markdown":"If by &quot;dependencies&quot; you mean Kotlin stdlib, you can exclude it by setting `kotlin.stdlib.default.dependency=false` in `gradle.properties` ([Dependency on the standard library](https://kotlinlang.org/docs/gradle.html#dependency-on-the-standard-library)). But how do you think Kotlin classes will be resolved at runtime?","title":"Compile Java JAR without Kotlin dependencies?","body":"<p>If by &quot;dependencies&quot; you mean Kotlin stdlib, you can exclude it by setting <code>kotlin.stdlib.default.dependency=false</code> in <code>gradle.properties</code> (<a href=\"https://kotlinlang.org/docs/gradle.html#dependency-on-the-standard-library\" rel=\"nofollow noreferrer\">Dependency on the standard library</a>). But how do you think Kotlin classes will be resolved at runtime?</p>\n"}],"owner":{"account_id":10526668,"reputation":3195,"user_id":10426052,"display_name":"Baterka"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":401,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637152651,"creation_date":1637151544,"question_id":70004294,"body_markdown":"I have Kotlin project with JAR executable as output.\r\nIs it possible to have this final JAR Java only?\r\nI mean by that if I can compile Kotlin into pure Java so I do not need to include Kotlin dependencies in my JAR, because they are very big (almost no code = 800kB)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0j5Sb.png","title":"Compile Java JAR without Kotlin dependencies?","body":"<p>I have Kotlin project with JAR executable as output.\nIs it possible to have this final JAR Java only?\nI mean by that if I can compile Kotlin into pure Java so I do not need to include Kotlin dependencies in my JAR, because they are very big (almost no code = 800kB)</p>\n<p><a href=\"https://i.stack.imgur.com/0j5Sb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0j5Sb.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","docker","dockerfile","openjdk-11","adoptopenjdk"],"answers":[{"tags":[],"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1637152425,"creation_date":1637151875,"answer_id":70004372,"question_id":70004296,"body_markdown":"AdoptOpenJDK&#39;s openjdk-docker images are deprecated.\r\n\r\nFrom [Readme](https://github.com/AdoptOpenJDK/openjdk-docker#readme) of AdoptOpenJDK&#39;s openjdk-docker.\r\n\r\n&gt;# ⚠ DEPRECATION NOTICE ⚠\r\n&gt;--- \r\n&gt;These Dockerfiles along with their images are officially deprecated in favor of the [eclipse-temurin image](https://hub.docker.com/_/eclipse-temurin/), and will receive no further updates after 2021-08-25 (Aug 01, 2021). Please adjust your usage accordingly.\r\n\r\nSo, there won&#39;t be any update on the AdoptOpenJDK&#39;s openjdk-docker images you should move to [eclipse-temurin image](https://hub.docker.com/_/eclipse-temurin/).","title":"adoptopenjdk - select a specific minor version of the OS","body":"<p>AdoptOpenJDK's openjdk-docker images are deprecated.</p>\n<p>From <a href=\"https://github.com/AdoptOpenJDK/openjdk-docker#readme\" rel=\"nofollow noreferrer\">Readme</a> of AdoptOpenJDK's openjdk-docker.</p>\n<blockquote>\n<h1>⚠ DEPRECATION NOTICE ⚠</h1>\n<hr />\n<p>These Dockerfiles along with their images are officially deprecated in favor of the <a href=\"https://hub.docker.com/_/eclipse-temurin/\" rel=\"nofollow noreferrer\">eclipse-temurin image</a>, and will receive no further updates after 2021-08-25 (Aug 01, 2021). Please adjust your usage accordingly.</p>\n</blockquote>\n<p>So, there won't be any update on the AdoptOpenJDK's openjdk-docker images you should move to <a href=\"https://hub.docker.com/_/eclipse-temurin/\" rel=\"nofollow noreferrer\">eclipse-temurin image</a>.</p>\n"}],"owner":{"account_id":2809810,"reputation":414,"user_id":2416264,"accept_rate":50,"display_name":"mosh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":522,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70004372,"answer_count":1,"score":1,"last_activity_date":1637152425,"creation_date":1637151547,"question_id":70004296,"body_markdown":"In my docker file I use\r\n\r\n    FROM adoptopenjdk/openjdk11:jre-11.0.10_9-alpine\r\n(origin: https://hub.docker.com/r/adoptopenjdk/openjdk11)\r\n\r\nThis installs alpine version 3.14 as can be seen here:\r\n\r\nhttps://github.com/AdoptOpenJDK/openjdk-docker/blob/master/11/jdk/alpine/Dockerfile.hotspot.releases.full\r\n\r\nIs it possible to choose a higher minor version? \r\n\r\nA critical vulnerability (CVE-2021-36159)in alpine is fixed starting 3.14.1:\r\n\r\nhttps://alpinelinux.org/posts/Alpine-3.14.1-released.html\r\n\r\nWhat can be done to mitigate this risk? \r\n","title":"adoptopenjdk - select a specific minor version of the OS","body":"<p>In my docker file I use</p>\n<pre><code>FROM adoptopenjdk/openjdk11:jre-11.0.10_9-alpine\n</code></pre>\n<p>(origin: <a href=\"https://hub.docker.com/r/adoptopenjdk/openjdk11\" rel=\"nofollow noreferrer\">https://hub.docker.com/r/adoptopenjdk/openjdk11</a>)</p>\n<p>This installs alpine version 3.14 as can be seen here:</p>\n<p><a href=\"https://github.com/AdoptOpenJDK/openjdk-docker/blob/master/11/jdk/alpine/Dockerfile.hotspot.releases.full\" rel=\"nofollow noreferrer\">https://github.com/AdoptOpenJDK/openjdk-docker/blob/master/11/jdk/alpine/Dockerfile.hotspot.releases.full</a></p>\n<p>Is it possible to choose a higher minor version?</p>\n<p>A critical vulnerability (CVE-2021-36159)in alpine is fixed starting 3.14.1:</p>\n<p><a href=\"https://alpinelinux.org/posts/Alpine-3.14.1-released.html\" rel=\"nofollow noreferrer\">https://alpinelinux.org/posts/Alpine-3.14.1-released.html</a></p>\n<p>What can be done to mitigate this risk?</p>\n"},{"tags":["java","spring-boot","multipartform-data"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1637153327,"post_id":70004349,"comment_id":123748475,"body_markdown":"&quot;just&quot; add `.mvcMatchers(HttpMethod.POST, &quot;/uploadLogo&quot;).authenticated()` (in the right place..somewhere top;) to your &quot;configurer&quot;","body":"&quot;just&quot; add <code>.mvcMatchers(HttpMethod.POST, &quot;&#47;uploadLogo&quot;).authenticated()</code> (in the right place..somewhere top;) to your &quot;configurer&quot;"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1637153902,"post_id":70004349,"comment_id":123748732,"body_markdown":"(..i.e.  ensure it is not `permitAll()`.) ... and you can also use `@AuthenticationPrincipal/Principal` objects as controller params! [see here](https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-ann-arguments) [and here](https://docs.spring.io/spring-security/reference/servlet/integrations/mvc.html#mvc-authentication-principal)","body":"(..i.e.  ensure it is not <code>permitAll()</code>.) ... and you can also use <code>@AuthenticationPrincipal&#47;Principal</code> objects as controller params! <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-ann-arguments\" rel=\"nofollow noreferrer\">see here</a> <a href=\"https://docs.spring.io/spring-security/reference/servlet/integrations/mvc.html#mvc-authentication-principal\" rel=\"nofollow noreferrer\">and here</a>"}],"answers":[{"tags":[],"owner":{"account_id":2866175,"reputation":1531,"user_id":2460460,"display_name":"Sergio Lema"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637152080,"creation_date":1637152080,"answer_id":70004421,"question_id":70004349,"body_markdown":"You can use HTTP filters. But this won&#39;t avoid the file being uploaded.\r\nThe HTTP filters will intercept the request before reaching the controller. If you think the request is correct (with the adequate credentials) you continue to the controller, otherwise, throw an exception.\r\n\r\nI share you my repository where I&#39;ve implemented the authentication via JWT on the HTTP filters: https://github.com/serlesen/backend-social-network/tree/chapter_3","title":"Spring boot access multipart request (file upload) headers before request completes","body":"<p>You can use HTTP filters. But this won't avoid the file being uploaded.\nThe HTTP filters will intercept the request before reaching the controller. If you think the request is correct (with the adequate credentials) you continue to the controller, otherwise, throw an exception.</p>\n<p>I share you my repository where I've implemented the authentication via JWT on the HTTP filters: <a href=\"https://github.com/serlesen/backend-social-network/tree/chapter_3\" rel=\"nofollow noreferrer\">https://github.com/serlesen/backend-social-network/tree/chapter_3</a></p>\n"}],"owner":{"account_id":6763096,"reputation":3,"user_id":5209044,"display_name":"Thanassis_Ts"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1213,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70004421,"answer_count":1,"score":0,"last_activity_date":1637152080,"creation_date":1637151737,"question_id":70004349,"body_markdown":"Is there a way I can check the Authorization header before the request completes? I do not want to start accepting the file upload if the user is not authenticated. My code is:\r\n\r\n```\r\n  @PostMapping(path = &quot;/uploadLogo&quot;, produces = &quot;application/json&quot;, consumes = &quot;multipart/form-data&quot;)\r\n    public ApiResponse handleFileUpload(@RequestParam(&quot;file&quot;) MultipartFile file, HttpServletRequest request){\r\n  System.out.println(request.getHeader(&quot;Authorization&quot;)); \r\n  ...\r\n```\r\n\r\nThis works only after the file is uploaded.","title":"Spring boot access multipart request (file upload) headers before request completes","body":"<p>Is there a way I can check the Authorization header before the request completes? I do not want to start accepting the file upload if the user is not authenticated. My code is:</p>\n<pre><code>  @PostMapping(path = &quot;/uploadLogo&quot;, produces = &quot;application/json&quot;, consumes = &quot;multipart/form-data&quot;)\n    public ApiResponse handleFileUpload(@RequestParam(&quot;file&quot;) MultipartFile file, HttpServletRequest request){\n  System.out.println(request.getHeader(&quot;Authorization&quot;)); \n  ...\n</code></pre>\n<p>This works only after the file is uploaded.</p>\n"},{"tags":["java","kotlin"],"answers":[{"tags":[],"owner":{"account_id":13766114,"reputation":1780,"user_id":9936828,"display_name":"somethingsomething"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1637151892,"creation_date":1637151892,"answer_id":70004374,"question_id":70004302,"body_markdown":"You can just use Pair (`import kotlin.Pair;`)\r\n, since that is compiled to a JVM class, this isn&#39;t any different from using any other kotlin class in java.\r\n\r\nhttps://kotlinlang.org/docs/java-to-kotlin-interop.html","title":"passing Kotlin Tuple to a Java function","body":"<p>You can just use Pair (<code>import kotlin.Pair;</code>)\n, since that is compiled to a JVM class, this isn't any different from using any other kotlin class in java.</p>\n<p><a href=\"https://kotlinlang.org/docs/java-to-kotlin-interop.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/java-to-kotlin-interop.html</a></p>\n"}],"owner":{"account_id":3214634,"reputation":10538,"user_id":2713740,"accept_rate":85,"display_name":"Luca"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":460,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70004374,"answer_count":1,"score":0,"last_activity_date":1637152024,"creation_date":1637151566,"question_id":70004302,"body_markdown":"I have a Kotlin function which returns a map like `Map&lt;String, Pair&lt;String, String&gt;&gt;`. I need to pass it to a java function and java does not seem to have a Pair data structure. What would be the best way to pass such a structure to the Java function?","title":"passing Kotlin Tuple to a Java function","body":"<p>I have a Kotlin function which returns a map like <code>Map&lt;String, Pair&lt;String, String&gt;&gt;</code>. I need to pass it to a java function and java does not seem to have a Pair data structure. What would be the best way to pass such a structure to the Java function?</p>\n"},{"tags":["java","java-stream","junit5","rest-assured"],"answers":[{"tags":[],"owner":{"account_id":13459822,"reputation":1807,"user_id":9712270,"display_name":"magicmn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637151993,"creation_date":1637138665,"answer_id":70001206,"question_id":70000612,"body_markdown":"You can use `IntStream.range` to replace the `count` part of your condition and then filter the response for the http status code and return the first occurrence with `findFirst`.\r\n\r\n    Optional&lt;Response&gt; response = IntStream.range(0, 3)\r\n        .mapToObj(i -&gt; getResponse(requestBody, token, url))\r\n        .filter(r -&gt; r.getStatusCode() == HttpStatus.SC_OK)\r\n        .findFirst();\r\n    return response.orElse(null);\r\n\r\nIf it&#39;s likely that you return `null` instead of a response it would make sense to change the return type to `Optional&lt;Response&gt;`.\r\n\r\n---\r\n\r\nIf you want to get the last response even if it failed you can do 2 iterations and then use `Optional.orElseGet` to do the last `getResponse` call if no positive status code was returned in the 2 iterations.\r\n\r\n    Optional&lt;Response&gt; response = IntStream.range(0, 2)\r\n        .mapToObj(i -&gt; getResponse(requestBody, token, url))\r\n        .filter(r -&gt; r.getStatusCode() == HttpStatus.SC_OK)\r\n        .findFirst();\r\n    return response.orElseGet(() -&gt; getResponse(requestBody, token, url));","title":"Is it possible to rewrite WHILE loop with Rest-Assured requests attempts using Java Stream api","body":"<p>You can use <code>IntStream.range</code> to replace the <code>count</code> part of your condition and then filter the response for the http status code and return the first occurrence with <code>findFirst</code>.</p>\n<pre><code>Optional&lt;Response&gt; response = IntStream.range(0, 3)\n    .mapToObj(i -&gt; getResponse(requestBody, token, url))\n    .filter(r -&gt; r.getStatusCode() == HttpStatus.SC_OK)\n    .findFirst();\nreturn response.orElse(null);\n</code></pre>\n<p>If it's likely that you return <code>null</code> instead of a response it would make sense to change the return type to <code>Optional&lt;Response&gt;</code>.</p>\n<hr />\n<p>If you want to get the last response even if it failed you can do 2 iterations and then use <code>Optional.orElseGet</code> to do the last <code>getResponse</code> call if no positive status code was returned in the 2 iterations.</p>\n<pre><code>Optional&lt;Response&gt; response = IntStream.range(0, 2)\n    .mapToObj(i -&gt; getResponse(requestBody, token, url))\n    .filter(r -&gt; r.getStatusCode() == HttpStatus.SC_OK)\n    .findFirst();\nreturn response.orElseGet(() -&gt; getResponse(requestBody, token, url));\n</code></pre>\n"}],"owner":{"account_id":13623239,"reputation":63,"user_id":9827106,"display_name":"Stanislav Semyonov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":734,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70001206,"answer_count":1,"score":0,"last_activity_date":1637151993,"creation_date":1637135598,"question_id":70000612,"body_markdown":"I got a method which sends request via Rest-assured and if response fails to meet condition (response status code is 200) it makes several attempts unless i get 200 as a response status code\r\n\r\n    protected Response getResponseWithRetries(Map&lt;String, Object&gt; requestBody, String token, String url) {\r\n        Response response = null;\r\n        int statusCode = HttpStatus.SC_BAD_GATEWAY;\r\n        int count = 0;\r\n        while (statusCode != HttpStatus.SC_OK &amp;&amp; count &lt; 3) {\r\n            response = getResponse(requestBody, token, url);\r\n            statusCode = response.getStatusCode();\r\n            count++;\r\n            sleep(5000);\r\n        }\r\n        return response;\r\n    }\r\nBut is it possible to rewrite this loop with Stream api? I am struggling with understanding if i can apply it in my case. To start with i have no response collection to stream. But i also don&#39;t want to make several request to build it (when they are all successful for instance)","title":"Is it possible to rewrite WHILE loop with Rest-Assured requests attempts using Java Stream api","body":"<p>I got a method which sends request via Rest-assured and if response fails to meet condition (response status code is 200) it makes several attempts unless i get 200 as a response status code</p>\n<pre><code>protected Response getResponseWithRetries(Map&lt;String, Object&gt; requestBody, String token, String url) {\n    Response response = null;\n    int statusCode = HttpStatus.SC_BAD_GATEWAY;\n    int count = 0;\n    while (statusCode != HttpStatus.SC_OK &amp;&amp; count &lt; 3) {\n        response = getResponse(requestBody, token, url);\n        statusCode = response.getStatusCode();\n        count++;\n        sleep(5000);\n    }\n    return response;\n}\n</code></pre>\n<p>But is it possible to rewrite this loop with Stream api? I am struggling with understanding if i can apply it in my case. To start with i have no response collection to stream. But i also don't want to make several request to build it (when they are all successful for instance)</p>\n"},{"tags":["java","spring","spring-boot","zipkin","spring-cloud-sleuth"],"answers":[{"tags":[],"owner":{"account_id":1437641,"reputation":4865,"user_id":1358676,"accept_rate":77,"display_name":"codingsplash"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1512556970,"creation_date":1512556970,"answer_id":47672314,"question_id":47670883,"body_markdown":"I found that I need to add a sampler percentage. By default zero percentage of the samples are sent and that is why the sleuth was not sending anything to zipkin. when I added `spring.sleuth.sampler.percentage=1.0` in the properties files, it started working.","title":"Sleuth not sending trace information to Zipkin","body":"<p>I found that I need to add a sampler percentage. By default zero percentage of the samples are sent and that is why the sleuth was not sending anything to zipkin. when I added <code>spring.sleuth.sampler.percentage=1.0</code> in the properties files, it started working.</p>\n"},{"tags":[],"owner":{"account_id":10818385,"reputation":221,"user_id":7956609,"display_name":"jramapurath"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1523769604,"creation_date":1523769604,"answer_id":49838749,"question_id":47670883,"body_markdown":"If you are exporting all the span data to Zipkin, sampler can be installed  by creating a bean definition in the Spring boot main class \r\n\r\n      @Bean\r\n      public Sampler defaultSampler() {\r\n      \treturn new AlwaysSampler();\r\n      }","title":"Sleuth not sending trace information to Zipkin","body":"<p>If you are exporting all the span data to Zipkin, sampler can be installed  by creating a bean definition in the Spring boot main class </p>\n\n<pre><code>  @Bean\n  public Sampler defaultSampler() {\n    return new AlwaysSampler();\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1500430,"reputation":379,"user_id":1405291,"display_name":"Matt"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1548548315,"creation_date":1548548315,"answer_id":54384025,"question_id":47670883,"body_markdown":"For the latest version of cloud dependencies `&lt;version&gt;Finchley.SR2&lt;/version&gt;`  \r\nThe correct property to send traces to zipkin is: `spring.sleuth.sampler.probability=1.0`\r\nWhich has changed from percentage to probability.\r\n","title":"Sleuth not sending trace information to Zipkin","body":"<p>For the latest version of cloud dependencies <code>&lt;version&gt;Finchley.SR2&lt;/version&gt;</code><br>\nThe correct property to send traces to zipkin is: <code>spring.sleuth.sampler.probability=1.0</code>\nWhich has changed from percentage to probability.</p>\n"}],"owner":{"account_id":1437641,"reputation":4865,"user_id":1358676,"accept_rate":77,"display_name":"codingsplash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9345,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":47672314,"answer_count":3,"score":10,"last_activity_date":1637151977,"creation_date":1512552696,"question_id":47670883,"body_markdown":"Sleuth is not sending the trace information to Zipkin, even though Zipkin is running fine.\r\nI am using Spring 1.5.8.RELEASE, spring cloud Dalston.SR4 and I have added the below dependencies in my microservices:\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-cloud-starter-zipkin&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nMy Logs are always coming false:\r\n[FOOMS,2e740f33c26e286d,2e740f33c26e286d,false]\r\n\r\nMy Zipkin dependencies are:\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;io.zipkin.java&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;zipkin-server&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;io.zipkin.java&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;zipkin-autoconfigure-ui&lt;/artifactId&gt;\r\n\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nWhy am I getting false instead of true in my slueth statements? The traceId and SpanId are properly generated for all the calls though. My Zipkin is running in port 9411","title":"Sleuth not sending trace information to Zipkin","body":"<p>Sleuth is not sending the trace information to Zipkin, even though Zipkin is running fine.\nI am using Spring 1.5.8.RELEASE, spring cloud Dalston.SR4 and I have added the below dependencies in my microservices:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-starter-zipkin&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>My Logs are always coming false:\n[FOOMS,2e740f33c26e286d,2e740f33c26e286d,false]</p>\n\n<p>My Zipkin dependencies are:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.zipkin.java&lt;/groupId&gt;\n    &lt;artifactId&gt;zipkin-server&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.zipkin.java&lt;/groupId&gt;\n    &lt;artifactId&gt;zipkin-autoconfigure-ui&lt;/artifactId&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Why am I getting false instead of true in my slueth statements? The traceId and SpanId are properly generated for all the calls though. My Zipkin is running in port 9411</p>\n"},{"tags":["java","split"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1637071837,"post_id":69990588,"comment_id":123723726,"body_markdown":"Did you try anything yet?  Are you familiar with any of the methods of String?","body":"Did you try anything yet?  Are you familiar with any of the methods of String?"},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1637072917,"post_id":69990588,"comment_id":123724251,"body_markdown":"Hint: A Scanner uses a delimiter, which is whitespace by default, to determine the how to read in input in many of its method to read in input. You can set a Scanners [delimiter](https://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html#useDelimiter-java.lang.String-) to anything you want (including `&quot;-&quot;`).","body":"Hint: A Scanner uses a delimiter, which is whitespace by default, to determine the how to read in input in many of its method to read in input. You can set a Scanners <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html#useDelimiter-java.lang.String-\" rel=\"nofollow noreferrer\">delimiter</a> to anything you want (including <code>&quot;-&quot;</code>)."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1637073026,"post_id":69990588,"comment_id":123724299,"body_markdown":"Are you allowed to use `Character.isDigit(char c)`?","body":"Are you allowed to use <code>Character.isDigit(char c)</code>?"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1637073156,"post_id":69990588,"comment_id":123724362,"body_markdown":"Is the number of hyphens (&quot;`-`&quot;) always the same?","body":"Is the number of hyphens (&quot;<code>-</code>&quot;) always the same?"}],"answers":[{"tags":[],"owner":{"account_id":22051200,"reputation":290,"user_id":17269314,"display_name":"Florian S."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637073913,"creation_date":1637073451,"answer_id":69991097,"question_id":69990588,"body_markdown":"In order to parse a string into a int, you can use :\r\n\r\n```java\r\n// Parse string to int without using Integer.parseInt() or Integer.valueOf()\r\npublic static int stringToInteger(String str) {\r\n    int answer = 0, factor = 1;\r\n    for (int i = str.length()-1; i &gt;= 0; i--) {\r\n        answer += (str.charAt(i) - &#39;0&#39;) * factor;  // &#39;0&#39; is to get the ascii code of 0\r\n        factor *= 10;\r\n    }\r\n    return answer;\r\n}\r\n```\r\n\r\nIn your processing code :\r\n\r\n- You can know the result array length with (java 8) :\r\n\r\n```java\r\nint[] result = new int[userInput.chars().filter(ch -&gt; ch == &#39;-&#39;).count() + 1];\r\n```\r\n- And you just have to iterate over the userInput String using `charAt(n)`  method and stock the char in a StringBuilder until you get a &quot;-&quot;, and then call the stringToInteger method to add the int in the array :\r\n\r\n```java\r\nStringBuilder sb = new StringBuilder();\r\nint resultIndex = 0;\r\nchar c;\r\nfor(int i=0 ; i&lt; userInput.length(); i++) {\r\n    char c = userInput.charAt(i);\r\n    if(c == &#39;-&#39;) {\r\n        result[resultIndex++] = stringToInteger(sb.toString());\r\n        sb.setLength(0); // Empty the stringBuilder\r\n    }\r\n    else {\r\n        sb.append(c); // Add char in the stringBuilder\r\n    }\r\n}\r\n```\r\n","title":"Split a string not knowing its length without using split()","body":"<p>In order to parse a string into a int, you can use :</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Parse string to int without using Integer.parseInt() or Integer.valueOf()\npublic static int stringToInteger(String str) {\n    int answer = 0, factor = 1;\n    for (int i = str.length()-1; i &gt;= 0; i--) {\n        answer += (str.charAt(i) - '0') * factor;  // '0' is to get the ascii code of 0\n        factor *= 10;\n    }\n    return answer;\n}\n</code></pre>\n<p>In your processing code :</p>\n<ul>\n<li>You can know the result array length with (java 8) :</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>int[] result = new int[userInput.chars().filter(ch -&gt; ch == '-').count() + 1];\n</code></pre>\n<ul>\n<li>And you just have to iterate over the userInput String using <code>charAt(n)</code>  method and stock the char in a StringBuilder until you get a &quot;-&quot;, and then call the stringToInteger method to add the int in the array :</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>StringBuilder sb = new StringBuilder();\nint resultIndex = 0;\nchar c;\nfor(int i=0 ; i&lt; userInput.length(); i++) {\n    char c = userInput.charAt(i);\n    if(c == '-') {\n        result[resultIndex++] = stringToInteger(sb.toString());\n        sb.setLength(0); // Empty the stringBuilder\n    }\n    else {\n        sb.append(c); // Add char in the stringBuilder\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637075089,"creation_date":1637075089,"answer_id":69991520,"question_id":69990588,"body_markdown":"Here&#39;s an example using nothing fancy, just `String.charAt()`:\r\n\r\n    String input = &quot;10000-20-150-2-12345-2-1-450000-30-2-50&quot;;\r\n    String curValue = &quot;&quot;;\r\n    for(int i=0; i&lt;input.length(); i++) {\r\n      char c = input.charAt(i);\r\n      if (!(c == &#39;-&#39;)) {\r\n        curValue = curValue + c;\r\n      }\r\n      else {\r\n        // ... do something with curValue ...\r\n        System.out.println(curValue);\r\n\r\n        // reset curValue\r\n        curValue = &quot;&quot;;\r\n      }\r\n    }\r\n    if (curValue.length() &gt; 0) {\r\n      // ... do something with curValue ...\r\n      System.out.println(curValue);\r\n    }\r\n\r\nWe just iterate over the characters and accumulate them in &quot;curValue&quot; until you hit a dash.  Then you process what is in &quot;curValue&quot; and reset it back to a blank string.  After iterating all characters you need to process the last value left in &quot;curValue&quot;.","title":"Split a string not knowing its length without using split()","body":"<p>Here's an example using nothing fancy, just <code>String.charAt()</code>:</p>\n<pre><code>String input = &quot;10000-20-150-2-12345-2-1-450000-30-2-50&quot;;\nString curValue = &quot;&quot;;\nfor(int i=0; i&lt;input.length(); i++) {\n  char c = input.charAt(i);\n  if (!(c == '-')) {\n    curValue = curValue + c;\n  }\n  else {\n    // ... do something with curValue ...\n    System.out.println(curValue);\n\n    // reset curValue\n    curValue = &quot;&quot;;\n  }\n}\nif (curValue.length() &gt; 0) {\n  // ... do something with curValue ...\n  System.out.println(curValue);\n}\n</code></pre>\n<p>We just iterate over the characters and accumulate them in &quot;curValue&quot; until you hit a dash.  Then you process what is in &quot;curValue&quot; and reset it back to a blank string.  After iterating all characters you need to process the last value left in &quot;curValue&quot;.</p>\n"}],"owner":{"account_id":21817678,"reputation":1,"user_id":16189996,"display_name":"user260541"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1637151596,"creation_date":1637071569,"question_id":69990588,"body_markdown":"&gt;We don&#39;t know the string length until the user enters it but the input format is like number-number-number...\r\nThe numbers don&#39;t have the same number of digits.\r\nConsider this input\r\n10000-20-150-2-12345-2-1-450000-30-2-50\r\n&gt;\r\n\r\nI&#39;m only allowed to use Scanner(System.in) and save this in a string but not allowed to use parseInt or Integer.valueOf or toCharArray or arrays or split function to extract the numbers into an array.\r\nHow can I make a split function and use it?\r\nI thought about for loop and charAt(i)==&#39;-&#39; though but I don&#39;t know how to get the numbers.","title":"Split a string not knowing its length without using split()","body":"<blockquote>\n<p>We don't know the string length until the user enters it but the input format is like number-number-number...\nThe numbers don't have the same number of digits.\nConsider this input\n10000-20-150-2-12345-2-1-450000-30-2-50</p>\n</blockquote>\n<p>I'm only allowed to use Scanner(System.in) and save this in a string but not allowed to use parseInt or Integer.valueOf or toCharArray or arrays or split function to extract the numbers into an array.\nHow can I make a split function and use it?\nI thought about for loop and charAt(i)=='-' though but I don't know how to get the numbers.</p>\n"},{"tags":["java","mysql","hibernate","servlets","persistence.xml"],"owner":{"account_id":22654777,"reputation":45,"user_id":16828880,"display_name":"jimbo jimbo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1090,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1637151561,"creation_date":1637151561,"question_id":70004299,"body_markdown":"     **User Class**\r\nThis is the user class which has the basic details of user, Id, email, fullname, password.\r\n\r\n    @Entity\r\n    public class Users {\r\n    \r\n    \tprivate Integer userId;\r\n    \tprivate String email;\r\n    \tprivate String fullName;\r\n    \tprivate String password;\r\n    \r\n    \t@Column(name=&quot;user_id&quot;)\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tpublic Integer getUserId() {\r\n    \t\treturn userId;\r\n    \t}\r\n    \r\n    \tpublic void setUserId(Integer userId) {\r\n    \t\tthis.userId = userId;\r\n    \t}\r\n    \r\n    \tpublic String getEmail() {\r\n    \t\treturn email;\r\n    \t}\r\n    \r\n    \tpublic void setEmail(String email) {\r\n    \t\tthis.email = email;\r\n    \t}\r\n    \t@Column(name=&quot;full_name&quot;)\r\n    \tpublic String getFullName() {\r\n    \t\treturn fullName;\r\n    \t}\r\n    \r\n    \tpublic void setFullName(String fullName) {\r\n    \t\tthis.fullName = fullName;\r\n    \t}\r\n    \r\n    \tpublic String getPassword() {\r\n    \t\treturn password;\r\n    \t}\r\n    \r\n    \tpublic void setPassword(String password) {\r\n    \t\tthis.password = password;\r\n    \t}\r\n    \r\n    }\r\n**UserTest Class**\r\nusing this class I am trying to create test instance in database, but these exceptions come up, I have tried many things but could not manage to do anything.\r\n\r\n    public class UserTest {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tUsers user1=new Users();\r\n\t\tuser1.setEmail(&quot;nam@codejava.net&quot;);\r\n\t\tuser1.setFullName(&quot;Nam ha Minh&quot;);\r\n\t\tuser1.setPassword(&quot;helloworld&quot;);\r\n\t\tEntityManagerFactory entityManagerFactory=Persistence.createEntityManagerFactory(&quot;BookStoreWebsite&quot;);\r\n\t\tEntityManager entityManager=entityManagerFactory.createEntityManager();\r\n\t\tentityManager.getTransaction().begin();\r\n\t\tentityManager.persist(user1);\r\n\t\tentityManager.getTransaction().commit();\r\n\t\tentityManager.close();\r\n\t\tentityManagerFactory.close();\r\n    System.out.println(&quot;A Users object was persisted&quot;);\r\n\t}\r\n\r\n}\r\n\r\n**Persostence.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n     &lt;persistence xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot;\r\n            xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n            xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence\r\n              http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;\r\n            version=&quot;2.1&quot;&gt;\r\n            &lt;persistence-unit name=&quot;BookStoreWebsite&quot;&gt;\r\n           &lt;properties&gt;\r\n    &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:mysql://localhost:3306/bookstoredb?autoReconnect=true&quot;/&gt;\r\n    &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;root&quot;/&gt;\r\n    &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;password&quot;/&gt;\r\n    &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt;\r\n    &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot;/&gt;\r\n    &lt;property name=&quot;hibernate.format_sql&quot; value=&quot;true&quot;/&gt;\r\n    &lt;/properties&gt;\r\n            &lt;/persistence-unit&gt;\r\n      &lt;/persistence&gt;\r\n\r\n**pom.xml**\r\nIn this xml file there are dependencies for needed tools\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;com.bookstore&lt;/groupId&gt;\r\n      &lt;artifactId&gt;BookStoreWebsite&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;packaging&gt;war&lt;/packaging&gt;\r\n      &lt;build&gt;\r\n        &lt;testSourceDirectory&gt;test&lt;/testSourceDirectory&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.8.1&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;release&gt;14&lt;/release&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.2.3&lt;/version&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n      &lt;dependencies&gt;\r\n      \t&lt;dependency&gt;\r\n      \t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n      \t\t&lt;artifactId&gt;hibernate-tools-maven-plugin&lt;/artifactId&gt;\r\n      \t\t&lt;version&gt;5.6.1.Final&lt;/version&gt;\r\n      \t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n      \t&lt;/dependency&gt;\r\n      \t&lt;dependency&gt;\r\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n      &lt;version&gt;6.0.0.Beta1&lt;/version&gt;\r\n      &lt;type&gt;pom&lt;/type&gt;\r\n    &lt;/dependency&gt;\r\n      \t&lt;dependency&gt;\r\n      &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n      &lt;version&gt;8.0.27&lt;/version&gt;\r\n      &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n      &lt;version&gt;3.1.0&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\r\n      &lt;version&gt;2.0&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;jstl&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n      &lt;version&gt;1.2&lt;/version&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\n**Exceptions**\r\nThese are the exceptions that I get when I am trying to Run UserTest Class\r\n\r\n    Nov 17, 2021 4:16:42 AM org.hibernate.jpa.internal.util.LogHelper logPersistenceUnitInformation\r\n    INFO: HHH000204: Processing PersistenceUnitInfo [name: BookStoreWebsite]\r\n    Nov 17, 2021 4:16:42 AM org.hibernate.Version logVersion\r\n    INFO: HHH000412: Hibernate ORM core version 5.6.1.Final\r\n    Nov 17, 2021 4:16:42 AM org.hibernate.annotations.common.reflection.java.JavaReflectionManager &lt;clinit&gt;\r\n    INFO: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\r\n    Nov 17, 2021 4:16:43 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\r\n    WARN: HHH10001002: Using Hibernate built-in connection pool (not for production use!)\r\n    Loading class `com.mysql.jdbc.Driver&#39;. This is deprecated. The new driver class is `com.mysql.cj.jdbc.Driver&#39;. The driver is automatically registered via the SPI and manual loading of the driver class is generally unnecessary.\r\n    Nov 17, 2021 4:16:43 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\n    INFO: HHH10001005: using driver [com.mysql.jdbc.Driver] at URL [jdbc:mysql://localhost:3306/bookstoredb?autoReconnect=true]\r\n    Nov 17, 2021 4:16:43 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\n    INFO: HHH10001001: Connection properties: {password=****, user=root}\r\n    Nov 17, 2021 4:16:43 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\n    INFO: HHH10001003: Autocommit mode: false\r\n    Nov 17, 2021 4:16:43 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections &lt;init&gt;\r\n    INFO: HHH000115: Hibernate connection pool size: 20 (min=1)\r\n    Nov 17, 2021 4:16:47 AM org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator initiateService\r\n    WARN: HHH000342: Could not obtain connection to query metadata\r\n    java.lang.IllegalStateException: Cannot get a connection as the driver manager is not properly initialized\r\n    \tat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.getConnection(DriverManagerConnectionProviderImpl.java:172)\r\n    \tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181)\r\n    \tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68)\r\n    \tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35)\r\n    \tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\r\n    \tat org.hibernate.engine.jdbc.internal.JdbcServicesImpl.configure(JdbcServicesImpl.java:51)\r\n    \tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:107)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:246)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator.convertSqlException(BasicConnectionCreator.java:116)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.DriverConnectionCreator.makeConnection(DriverConnectionCreator.java:41)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator.createConnection(BasicConnectionCreator.java:58)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections.addConnections(DriverManagerConnectionProviderImpl.java:409)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections.&lt;init&gt;(DriverManagerConnectionProviderImpl.java:275)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections.&lt;init&gt;(DriverManagerConnectionProviderImpl.java:249)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections$Builder.build(DriverManagerConnectionProviderImpl.java:453)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.buildPool(DriverManagerConnectionProviderImpl.java:98)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.configure(DriverManagerConnectionProviderImpl.java:73)\r\n    \tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:107)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:246)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\r\n    \tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.buildJdbcConnectionAccess(JdbcEnvironmentInitiator.java:146)\r\n    \tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:66)\r\n    \tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35)\r\n    \tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\r\n    \tat org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:178)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\r\n    \tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:175)\r\n    \tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127)\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460)\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494)\r\n    \tat org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:56)\r\n    \tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:79)\r\n    \tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:54)\r\n    \tat UserTest.main(UserTest.java:13)\r\n    \r\n    Exception in thread &quot;main&quot; org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:275)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\r\n    \tat org.hibernate.engine.jdbc.internal.JdbcServicesImpl.configure(JdbcServicesImpl.java:51)\r\n    \tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:107)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:246)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator.convertSqlException(BasicConnectionCreator.java:116)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.DriverConnectionCreator.makeConnection(DriverConnectionCreator.java:41)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator.createConnection(BasicConnectionCreator.java:58)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections.addConnections(DriverManagerConnectionProviderImpl.java:409)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections.&lt;init&gt;(DriverManagerConnectionProviderImpl.java:275)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections.&lt;init&gt;(DriverManagerConnectionProviderImpl.java:249)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections$Builder.build(DriverManagerConnectionProviderImpl.java:453)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.buildPool(DriverManagerConnectionProviderImpl.java:98)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.configure(DriverManagerConnectionProviderImpl.java:73)\r\n    \tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:107)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:246)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\r\n    \tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.buildJdbcConnectionAccess(JdbcEnvironmentInitiator.java:146)\r\n    \tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:66)\r\n    \tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35)\r\n    \tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\r\n    \tat org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:178)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\r\n    \tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:175)\r\n    \tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127)\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460)\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494)\r\n    \tat org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:56)\r\n    \tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:79)\r\n    \tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:54)\r\n    \tat UserTest.main(UserTest.java:13)\r\n    Caused by: org.hibernate.HibernateException: Access to DialectResolutionInfo cannot be null when &#39;hibernate.dialect&#39; not set\r\n    \tat org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.determineDialect(DialectFactoryImpl.java:100)\r\n    \tat org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.buildDialect(DialectFactoryImpl.java:54)\r\n    \tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:138)\r\n    \tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35)\r\n    \tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)\r\n    \t... 37 more\r\n\r\n","title":"Cannot get a connection as the driver manager is not properly initialized (could not manage to test database)","body":"<pre><code> **User Class**\n</code></pre>\n<p>This is the user class which has the basic details of user, Id, email, fullname, password.</p>\n<pre><code>@Entity\npublic class Users {\n\n    private Integer userId;\n    private String email;\n    private String fullName;\n    private String password;\n\n    @Column(name=&quot;user_id&quot;)\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    public Integer getUserId() {\n        return userId;\n    }\n\n    public void setUserId(Integer userId) {\n        this.userId = userId;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n    @Column(name=&quot;full_name&quot;)\n    public String getFullName() {\n        return fullName;\n    }\n\n    public void setFullName(String fullName) {\n        this.fullName = fullName;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n}\n</code></pre>\n<p><strong>UserTest Class</strong>\nusing this class I am trying to create test instance in database, but these exceptions come up, I have tried many things but could not manage to do anything.</p>\n<pre><code>public class UserTest {\n\npublic static void main(String[] args) {\n    Users user1=new Users();\n    user1.setEmail(&quot;nam@codejava.net&quot;);\n    user1.setFullName(&quot;Nam ha Minh&quot;);\n    user1.setPassword(&quot;helloworld&quot;);\n    EntityManagerFactory entityManagerFactory=Persistence.createEntityManagerFactory(&quot;BookStoreWebsite&quot;);\n    EntityManager entityManager=entityManagerFactory.createEntityManager();\n    entityManager.getTransaction().begin();\n    entityManager.persist(user1);\n    entityManager.getTransaction().commit();\n    entityManager.close();\n    entityManagerFactory.close();\nSystem.out.println(&quot;A Users object was persisted&quot;);\n}\n</code></pre>\n<p>}</p>\n<p><strong>Persostence.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n &lt;persistence xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot;\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence\n          http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;\n        version=&quot;2.1&quot;&gt;\n        &lt;persistence-unit name=&quot;BookStoreWebsite&quot;&gt;\n       &lt;properties&gt;\n&lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:mysql://localhost:3306/bookstoredb?autoReconnect=true&quot;/&gt;\n&lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;root&quot;/&gt;\n&lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;password&quot;/&gt;\n&lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt;\n&lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot;/&gt;\n&lt;property name=&quot;hibernate.format_sql&quot; value=&quot;true&quot;/&gt;\n&lt;/properties&gt;\n        &lt;/persistence-unit&gt;\n  &lt;/persistence&gt;\n</code></pre>\n<p><strong>pom.xml</strong>\nIn this xml file there are dependencies for needed tools</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.bookstore&lt;/groupId&gt;\n  &lt;artifactId&gt;BookStoreWebsite&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n  &lt;build&gt;\n    &lt;testSourceDirectory&gt;test&lt;/testSourceDirectory&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.8.1&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;release&gt;14&lt;/release&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.2.3&lt;/version&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-tools-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;5.6.1.Final&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n  &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n  &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n  &lt;version&gt;6.0.0.Beta1&lt;/version&gt;\n  &lt;type&gt;pom&lt;/type&gt;\n&lt;/dependency&gt;\n    &lt;dependency&gt;\n  &lt;groupId&gt;mysql&lt;/groupId&gt;\n  &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n  &lt;version&gt;8.0.27&lt;/version&gt;\n  &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n  &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n  &lt;version&gt;3.1.0&lt;/version&gt;\n  &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n  &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\n  &lt;version&gt;2.0&lt;/version&gt;\n  &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;jstl&lt;/groupId&gt;\n  &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n  &lt;version&gt;1.2&lt;/version&gt;\n  &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p><strong>Exceptions</strong>\nThese are the exceptions that I get when I am trying to Run UserTest Class</p>\n<pre><code>Nov 17, 2021 4:16:42 AM org.hibernate.jpa.internal.util.LogHelper logPersistenceUnitInformation\nINFO: HHH000204: Processing PersistenceUnitInfo [name: BookStoreWebsite]\nNov 17, 2021 4:16:42 AM org.hibernate.Version logVersion\nINFO: HHH000412: Hibernate ORM core version 5.6.1.Final\nNov 17, 2021 4:16:42 AM org.hibernate.annotations.common.reflection.java.JavaReflectionManager &lt;clinit&gt;\nINFO: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\nNov 17, 2021 4:16:43 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\nWARN: HHH10001002: Using Hibernate built-in connection pool (not for production use!)\nLoading class `com.mysql.jdbc.Driver'. This is deprecated. The new driver class is `com.mysql.cj.jdbc.Driver'. The driver is automatically registered via the SPI and manual loading of the driver class is generally unnecessary.\nNov 17, 2021 4:16:43 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001005: using driver [com.mysql.jdbc.Driver] at URL [jdbc:mysql://localhost:3306/bookstoredb?autoReconnect=true]\nNov 17, 2021 4:16:43 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001001: Connection properties: {password=****, user=root}\nNov 17, 2021 4:16:43 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001003: Autocommit mode: false\nNov 17, 2021 4:16:43 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections &lt;init&gt;\nINFO: HHH000115: Hibernate connection pool size: 20 (min=1)\nNov 17, 2021 4:16:47 AM org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator initiateService\nWARN: HHH000342: Could not obtain connection to query metadata\njava.lang.IllegalStateException: Cannot get a connection as the driver manager is not properly initialized\n    at org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.getConnection(DriverManagerConnectionProviderImpl.java:172)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35)\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\n    at org.hibernate.engine.jdbc.internal.JdbcServicesImpl.configure(JdbcServicesImpl.java:51)\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:107)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:246)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\n    at org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator.convertSqlException(BasicConnectionCreator.java:116)\n    at org.hibernate.engine.jdbc.connections.internal.DriverConnectionCreator.makeConnection(DriverConnectionCreator.java:41)\n    at org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator.createConnection(BasicConnectionCreator.java:58)\n    at org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections.addConnections(DriverManagerConnectionProviderImpl.java:409)\n    at org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections.&lt;init&gt;(DriverManagerConnectionProviderImpl.java:275)\n    at org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections.&lt;init&gt;(DriverManagerConnectionProviderImpl.java:249)\n    at org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections$Builder.build(DriverManagerConnectionProviderImpl.java:453)\n    at org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.buildPool(DriverManagerConnectionProviderImpl.java:98)\n    at org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.configure(DriverManagerConnectionProviderImpl.java:73)\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:107)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:246)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.buildJdbcConnectionAccess(JdbcEnvironmentInitiator.java:146)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:66)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35)\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\n    at org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:178)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:175)\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494)\n    at org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:56)\n    at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:79)\n    at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:54)\n    at UserTest.main(UserTest.java:13)\n\nException in thread &quot;main&quot; org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:275)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\n    at org.hibernate.engine.jdbc.internal.JdbcServicesImpl.configure(JdbcServicesImpl.java:51)\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:107)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:246)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\n    at org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator.convertSqlException(BasicConnectionCreator.java:116)\n    at org.hibernate.engine.jdbc.connections.internal.DriverConnectionCreator.makeConnection(DriverConnectionCreator.java:41)\n    at org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator.createConnection(BasicConnectionCreator.java:58)\n    at org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections.addConnections(DriverManagerConnectionProviderImpl.java:409)\n    at org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections.&lt;init&gt;(DriverManagerConnectionProviderImpl.java:275)\n    at org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections.&lt;init&gt;(DriverManagerConnectionProviderImpl.java:249)\n    at org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections$Builder.build(DriverManagerConnectionProviderImpl.java:453)\n    at org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.buildPool(DriverManagerConnectionProviderImpl.java:98)\n    at org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.configure(DriverManagerConnectionProviderImpl.java:73)\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:107)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:246)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.buildJdbcConnectionAccess(JdbcEnvironmentInitiator.java:146)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:66)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35)\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\n    at org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:178)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:175)\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494)\n    at org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:56)\n    at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:79)\n    at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:54)\n    at UserTest.main(UserTest.java:13)\nCaused by: org.hibernate.HibernateException: Access to DialectResolutionInfo cannot be null when 'hibernate.dialect' not set\n    at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.determineDialect(DialectFactoryImpl.java:100)\n    at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.buildDialect(DialectFactoryImpl.java:54)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:138)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35)\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)\n    ... 37 more\n</code></pre>\n"},{"tags":["java","gradle","dependencies","gradle-plugin"],"answers":[{"tags":[],"owner":{"account_id":115919,"reputation":43529,"user_id":304151,"accept_rate":81,"display_name":"Mridang Agarwalla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637151442,"creation_date":1637151442,"answer_id":70004273,"question_id":69996210,"body_markdown":"I wrote up this snippet of code which yields some results although I&#39;m not sure if this is correct or not. It seems to be the get job done.\r\n\r\n\r\n```java\r\nimport java.util.Collection;\r\nimport java.util.function.Function;\r\nimport java.util.stream.Stream;\r\n\r\nimport org.gradle.api.artifacts.Configuration;\r\nimport org.gradle.api.artifacts.ResolvedDependency;\r\n\r\npublic class Dependencies {\r\n\r\n    private static &lt;T&gt; Stream&lt;T&gt; of(T node, Function&lt;T, Collection&lt;T&gt;&gt; childrenFn) {\r\n        return Stream.concat(Stream.of(node), childrenFn.apply(node).stream()\r\n                .flatMap(n -&gt; of(n, childrenFn)));\r\n    }\r\n\r\n    private static Stream&lt;ResolvedDependency&gt; of(ResolvedDependency node) {\r\n        return of(node, ResolvedDependency::getChildren);\r\n    }\r\n\r\n    @SuppressWarnings(&quot;CodeBlock2Expr&quot;)\r\n    public static void doIt(Configuration configuration) {\r\n        configuration.getResolvedConfiguration()\r\n                .getFirstLevelModuleDependencies()\r\n                .stream()\r\n                .flatMap(Dependencies::of)\r\n                .flatMap(dependency -&gt; {\r\n                    return dependency.getModuleArtifacts().stream();\r\n                })\r\n                .distinct()\r\n                .forEach(artifact -&gt; {\r\n                    System.out.println(artifact.getFile());\r\n                });\r\n    }\r\n}\r\n```","title":"How can I get a the runtime dependencies along with the coordinates and the JAR file of a Gradle project?","body":"<p>I wrote up this snippet of code which yields some results although I'm not sure if this is correct or not. It seems to be the get job done.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Collection;\nimport java.util.function.Function;\nimport java.util.stream.Stream;\n\nimport org.gradle.api.artifacts.Configuration;\nimport org.gradle.api.artifacts.ResolvedDependency;\n\npublic class Dependencies {\n\n    private static &lt;T&gt; Stream&lt;T&gt; of(T node, Function&lt;T, Collection&lt;T&gt;&gt; childrenFn) {\n        return Stream.concat(Stream.of(node), childrenFn.apply(node).stream()\n                .flatMap(n -&gt; of(n, childrenFn)));\n    }\n\n    private static Stream&lt;ResolvedDependency&gt; of(ResolvedDependency node) {\n        return of(node, ResolvedDependency::getChildren);\n    }\n\n    @SuppressWarnings(&quot;CodeBlock2Expr&quot;)\n    public static void doIt(Configuration configuration) {\n        configuration.getResolvedConfiguration()\n                .getFirstLevelModuleDependencies()\n                .stream()\n                .flatMap(Dependencies::of)\n                .flatMap(dependency -&gt; {\n                    return dependency.getModuleArtifacts().stream();\n                })\n                .distinct()\n                .forEach(artifact -&gt; {\n                    System.out.println(artifact.getFile());\n                });\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":115919,"reputation":43529,"user_id":304151,"accept_rate":81,"display_name":"Mridang Agarwalla"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":449,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70004273,"answer_count":1,"score":1,"last_activity_date":1637151442,"creation_date":1637097928,"question_id":69996210,"body_markdown":"I&#39;m writing a custom Gradle task that needs to iterate all the runtime dependencies (including all the transitive ones). I need the group, the name and the version of each dependency along with the path to the JAR.\r\n\r\nThe Gradle API does seem to have a `ResolvedDependecy` but I&#39;m rather lost as to how to get them. https://docs.gradle.org/current/javadoc/org/gradle/api/artifacts/ResolvedDependency.html\r\n\r\nThere also seems to be rather tricky terminology relating to artifacts, modules, and dependencies https://docs.gradle.org/current/userguide/dependency_management_terminology.html which leaves me rather lost as to how to traverse it? My assumption is that I need to get the runtime configuration using `getProject().getConfigurations().getByName(&quot;rutime&quot;)`.","title":"How can I get a the runtime dependencies along with the coordinates and the JAR file of a Gradle project?","body":"<p>I'm writing a custom Gradle task that needs to iterate all the runtime dependencies (including all the transitive ones). I need the group, the name and the version of each dependency along with the path to the JAR.</p>\n<p>The Gradle API does seem to have a <code>ResolvedDependecy</code> but I'm rather lost as to how to get them. <a href=\"https://docs.gradle.org/current/javadoc/org/gradle/api/artifacts/ResolvedDependency.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/javadoc/org/gradle/api/artifacts/ResolvedDependency.html</a></p>\n<p>There also seems to be rather tricky terminology relating to artifacts, modules, and dependencies <a href=\"https://docs.gradle.org/current/userguide/dependency_management_terminology.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/dependency_management_terminology.html</a> which leaves me rather lost as to how to traverse it? My assumption is that I need to get the runtime configuration using <code>getProject().getConfigurations().getByName(&quot;rutime&quot;)</code>.</p>\n"},{"tags":["java","oracle","response","sql-injection"],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1637151086,"creation_date":1637151086,"answer_id":70004182,"question_id":70004123,"body_markdown":"You cans use parameters like this:\r\n\r\n     Query q = em.createNativeQuery(\r\n            &quot;select CUST_INFO_COURT.GET_CUSTOMER_INFO(?,?) from dual&quot;);\r\n     q.setParameter(1, pinCode);\r\n     q.setParameter(2, voen);","title":"javax.persistence.EntityManager SQL INJECTION","body":"<p>You cans use parameters like this:</p>\n<pre><code> Query q = em.createNativeQuery(\n        &quot;select CUST_INFO_COURT.GET_CUSTOMER_INFO(?,?) from dual&quot;);\n q.setParameter(1, pinCode);\n q.setParameter(2, voen);\n</code></pre>\n"}],"owner":{"account_id":23020749,"reputation":302,"user_id":17141839,"display_name":"zordu-nickim-agzivi-sikm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70004182,"answer_count":1,"score":0,"last_activity_date":1637151086,"creation_date":1637150862,"question_id":70004123,"body_markdown":"In this method you have seen, I receive data from procedures in oracle database according to pincode or voen.\r\n\r\n    @Override\r\n    public List&lt;BaseClass&gt; getCustomerInfo(String pinCode, String voen) throws SQLException, JsonProcessingException {\r\n        List&lt;BaseClass&gt; customerInfos = new ArrayList&lt;&gt;();\r\n        Query q = em.createNativeQuery(&quot;select CUST_INFO_COURT.GET_CUSTOMER_INFO(&#39;&quot; + pinCode + &quot;&#39;,&#39;&quot; + voen + &quot;&#39;) from dual&quot;);\r\n        List objectArray = q.getResultList();\r\n        for (Object object : objectArray) {\r\n            if (object != null) {\r\n                Clob clob = (Clob) object;\r\n                String arrayJsonData = clob.getSubString(1, (int) clob.length());\r\n    \r\n                final ObjectMapper objectMapper = new ObjectMapper();\r\n    \r\n                CustomerInfo[] langs = objectMapper.readValue(arrayJsonData, CustomerInfo[].class);\r\n                List&lt;CustomerInfo&gt; langList = new ArrayList(Arrays.asList(langs));\r\n    \r\n                for (CustomerInfo customerInfo : langList) {\r\n    \r\n                    customerInfos.add(customerInfo);\r\n    \r\n                }\r\n                return customerInfos;\r\n            }\r\n        }\r\n        return new ArrayList&lt;&gt;();\r\n    }\r\n\r\nBut there is a problem. The problem is that I can receive data in accordance with the pin code, but when I search as voen, I cannot get the values. When I search according to the pin code, my query works like this.\r\n\r\n    Hibernate: \r\n        select\r\n            CUST_INFO_COURT.GET_CUSTOMER_INFO(&#39;&#39;,\r\n            &#39;null&#39;) \r\n        from\r\n            dual\r\n\r\nand data in the output like this:\r\n\r\n    [\r\n      {\r\n        &quot;full_name&quot;: &quot;&quot;,\r\n        &quot;doc_sr&quot;: &quot;&quot;,\r\n        &quot;doc_id&quot;: &quot;&quot;,\r\n        &quot;customer_id&quot;: ,\r\n        &quot;pin_code&quot;: &quot;&quot;,\r\n        &quot;voen&quot;: &quot;&quot;,\r\n        &quot;position&quot;: null\r\n      }\r\n    ]\r\n    \r\nWhen I search according to voene, it does the same thing.\r\n\r\n    Hibernate: \r\n        select\r\n            CUST_INFO_COURT.GET_CUSTOMER_INFO(&#39;null&#39;,\r\n            &#39;&#39;) \r\n        from\r\n            dual\r\n    \r\nand data in the output like this:\r\n\r\n    []\r\n\r\nThere is a problem that I thought is SQL INJECTION. I&#39;m considering sending parameters that way using the `setParameter()` method, but I don&#39;t know how to apply that to this code.","title":"javax.persistence.EntityManager SQL INJECTION","body":"<p>In this method you have seen, I receive data from procedures in oracle database according to pincode or voen.</p>\n<pre><code>@Override\npublic List&lt;BaseClass&gt; getCustomerInfo(String pinCode, String voen) throws SQLException, JsonProcessingException {\n    List&lt;BaseClass&gt; customerInfos = new ArrayList&lt;&gt;();\n    Query q = em.createNativeQuery(&quot;select CUST_INFO_COURT.GET_CUSTOMER_INFO('&quot; + pinCode + &quot;','&quot; + voen + &quot;') from dual&quot;);\n    List objectArray = q.getResultList();\n    for (Object object : objectArray) {\n        if (object != null) {\n            Clob clob = (Clob) object;\n            String arrayJsonData = clob.getSubString(1, (int) clob.length());\n\n            final ObjectMapper objectMapper = new ObjectMapper();\n\n            CustomerInfo[] langs = objectMapper.readValue(arrayJsonData, CustomerInfo[].class);\n            List&lt;CustomerInfo&gt; langList = new ArrayList(Arrays.asList(langs));\n\n            for (CustomerInfo customerInfo : langList) {\n\n                customerInfos.add(customerInfo);\n\n            }\n            return customerInfos;\n        }\n    }\n    return new ArrayList&lt;&gt;();\n}\n</code></pre>\n<p>But there is a problem. The problem is that I can receive data in accordance with the pin code, but when I search as voen, I cannot get the values. When I search according to the pin code, my query works like this.</p>\n<pre><code>Hibernate: \n    select\n        CUST_INFO_COURT.GET_CUSTOMER_INFO('',\n        'null') \n    from\n        dual\n</code></pre>\n<p>and data in the output like this:</p>\n<pre><code>[\n  {\n    &quot;full_name&quot;: &quot;&quot;,\n    &quot;doc_sr&quot;: &quot;&quot;,\n    &quot;doc_id&quot;: &quot;&quot;,\n    &quot;customer_id&quot;: ,\n    &quot;pin_code&quot;: &quot;&quot;,\n    &quot;voen&quot;: &quot;&quot;,\n    &quot;position&quot;: null\n  }\n]\n</code></pre>\n<p>When I search according to voene, it does the same thing.</p>\n<pre><code>Hibernate: \n    select\n        CUST_INFO_COURT.GET_CUSTOMER_INFO('null',\n        '') \n    from\n        dual\n</code></pre>\n<p>and data in the output like this:</p>\n<pre><code>[]\n</code></pre>\n<p>There is a problem that I thought is SQL INJECTION. I'm considering sending parameters that way using the <code>setParameter()</code> method, but I don't know how to apply that to this code.</p>\n"},{"tags":["java","hibernate","one-to-one","java-annotations","hibernate-cascade"],"comments":[{"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"score":0,"creation_date":1637147185,"post_id":70002984,"comment_id":123746080,"body_markdown":"Private access modifier is secure your data","body":"Private access modifier is secure your data"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1637148814,"post_id":70002984,"comment_id":123746628,"body_markdown":"#ide_warning: it should be used in (public) g-/setter!?/ignore/deactivate it ;) #cascade: it depends: how you want to map (uni-/bi)?; and who should cascade whom? (but i think all (4?) cases should be possible)","body":"#ide_warning: it should be used in (public) g-/setter!?/ignore/deactivate it ;) #cascade: it depends: how you want to map (uni-/bi)?; and who should cascade whom? (but i think all (4?) cases should be possible)"}],"owner":{"account_id":333852,"reputation":1165,"user_id":659922,"accept_rate":56,"display_name":"J.E.Y"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637151040,"creation_date":1637146204,"question_id":70002984,"body_markdown":"I have a derived class MyBusinessBody which extends a parent class BusinessBody.\r\n\r\nOne field in BusinessBody looks like:\r\n\r\n    public class BusinessBody{\r\n      @OneToOne(fetch = FetchType.LAZY)\r\n      private Trade trade;\r\n      //setter and getter\r\n      ... \r\n    }\r\n\r\n\r\nNow, I want to add another attribute, &quot;**cascade = CascadeType.ALL**&quot; to the annotation @OneToOne, but I don&#39;t want to do it inside BusinessBody, rather, I&#39;d like it amended in the derived class MyBusinessBody.java, something like:\r\n\r\n    public class MyBusinessBody{\r\n      @OneToOne(fetch = FetchType.LAZY,cascade = CascadeType.ALL)\r\n      protected Trade trade; //NOTE: I changed the modifier from &quot;private&quot; to &quot;protected&quot;, otherwise the IDE shows warning that this field is not used.\r\n      //setter and getter\r\n      ... \r\n    }\r\n\r\nWill this work?\r\n\r\n","title":"Inherit property from parent class and add attribute to the inherited annotation","body":"<p>I have a derived class MyBusinessBody which extends a parent class BusinessBody.</p>\n<p>One field in BusinessBody looks like:</p>\n<pre><code>public class BusinessBody{\n  @OneToOne(fetch = FetchType.LAZY)\n  private Trade trade;\n  //setter and getter\n  ... \n}\n</code></pre>\n<p>Now, I want to add another attribute, &quot;<strong>cascade = CascadeType.ALL</strong>&quot; to the annotation @OneToOne, but I don't want to do it inside BusinessBody, rather, I'd like it amended in the derived class MyBusinessBody.java, something like:</p>\n<pre><code>public class MyBusinessBody{\n  @OneToOne(fetch = FetchType.LAZY,cascade = CascadeType.ALL)\n  protected Trade trade; //NOTE: I changed the modifier from &quot;private&quot; to &quot;protected&quot;, otherwise the IDE shows warning that this field is not used.\n  //setter and getter\n  ... \n}\n</code></pre>\n<p>Will this work?</p>\n"},{"tags":["java","spring-boot","api","jpa"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1637145174,"post_id":70002637,"comment_id":123745324,"body_markdown":"I don&#39;t full understand your problem but spotted a wrong mapping:  @GeneratedValue(\n        strategy = GenerationType.AUTO,\n        generator = &quot;compania_sequence&quot;\n    ) Should be GenerationType.SEQUENCE","body":"I don&#39;t full understand your problem but spotted a wrong mapping:  @GeneratedValue(         strategy = GenerationType.AUTO,         generator = &quot;compania_sequence&quot;     ) Should be GenerationType.SEQUENCE"}],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637145277,"creation_date":1637145277,"answer_id":70002767,"question_id":70002637,"body_markdown":"You have \r\n\r\n    @OneToMany(\r\n        cascade = CascadeType.ALL,\r\n        fetch = FetchType.LAZY,\r\n        orphanRemoval = true\r\n    )\r\n\r\nAnd this\r\n\r\n    @ManyToOne\r\n    private Compania compania;\r\n\r\nWith this mapping those two relationships are **unrelated**!\r\n\r\nYou have to add the mappedBy attribute to indicate that this is a related relationship:\r\n\r\n    @OneToMany(\r\n        cascade = CascadeType.ALL,\r\n        fetch = FetchType.LAZY,\r\n        orphanRemoval = true,\r\n        mappedBy = &quot;compania&quot;\r\n    )","title":"Child ManyToOne relation attribute from parent element always null JPA","body":"<p>You have</p>\n<pre><code>@OneToMany(\n    cascade = CascadeType.ALL,\n    fetch = FetchType.LAZY,\n    orphanRemoval = true\n)\n</code></pre>\n<p>And this</p>\n<pre><code>@ManyToOne\nprivate Compania compania;\n</code></pre>\n<p>With this mapping those two relationships are <strong>unrelated</strong>!</p>\n<p>You have to add the mappedBy attribute to indicate that this is a related relationship:</p>\n<pre><code>@OneToMany(\n    cascade = CascadeType.ALL,\n    fetch = FetchType.LAZY,\n    orphanRemoval = true,\n    mappedBy = &quot;compania&quot;\n)\n</code></pre>\n"}],"owner":{"account_id":10383212,"reputation":333,"user_id":7657219,"display_name":"Varox"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637150897,"creation_date":1637144734,"question_id":70002637,"body_markdown":"I have these classes:\r\n\r\n**Compania**\r\n\r\n    @Entity(name = &quot;Compania&quot;)\r\n    @Table(\r\n        name = &quot;compania&quot;\r\n    )\r\n    public class Compania {\r\n        @Id\r\n        @SequenceGenerator(\r\n            name = &quot;compania_sequence&quot;,\r\n            sequenceName = &quot;compania_sequence&quot;,\r\n            allocationSize = 1\r\n        )\r\n        @GeneratedValue(\r\n            strategy = GenerationType.AUTO,\r\n            generator = &quot;compania_sequence&quot;\r\n        )\r\n        @Column(\r\n            nullable = false\r\n        )\r\n        private Long id;\r\n    \r\n    \r\n        @Column(\r\n            name = &quot;name&quot;,\r\n            nullable = false,\r\n            unique = true\r\n        )\r\n        private String name;\r\n    \r\n        @Column(\r\n            name = &quot;dominio&quot;,\r\n            nullable = true\r\n        )\r\n        private String dominio;\r\n    \r\n        @Column(\r\n            name = &quot;altas&quot;\r\n        )\r\n        private String altas;\r\n    \r\n        @Column(\r\n            name = &quot;bajas&quot;\r\n        )\r\n        private String bajas;\r\n    \r\n        @OneToMany(\r\n            cascade = CascadeType.ALL,\r\n            fetch = FetchType.LAZY,\r\n            orphanRemoval = true\r\n        )\r\n        private List&lt;Office&gt; office;\r\nAnd on the other hand I have this one:\r\n\r\n**Office**\r\n\r\n    @Entity(name = &quot;Office&quot;)\r\n    @Table(name = &quot;office&quot;)\r\n    public class Office {\r\n        @Id\r\n        @SequenceGenerator(\r\n            name = &quot;office_sequence&quot;,\r\n            sequenceName = &quot;office_sequence&quot;,\r\n            allocationSize = 1\r\n        )\r\n        @GeneratedValue(\r\n            strategy = GenerationType.SEQUENCE,\r\n            generator = &quot;office_sequence&quot;\r\n        )\r\n        @Column(\r\n            nullable = false\r\n        )\r\n        @JsonIgnore\r\n        private Long id;\r\n    \r\n        @Column(\r\n            name = &quot;idRef&quot;,\r\n            nullable = false\r\n        )\r\n        private int idRef;\r\n    \r\n        @Column(\r\n            name = &quot;title&quot;,\r\n            nullable = false\r\n        )\r\n        private String title;\r\n    \r\n        @Column(\r\n            name = &quot;name&quot;\r\n        )\r\n        private String name;\r\n        @Column(\r\n            name = &quot;path&quot;\r\n        )\r\n        private String path;\r\n    \r\n        @ManyToOne\r\n        private Compania compania;\r\n\r\nSo my problem is that when I check the office objects I get this with a GET method:\r\n\r\n    {\r\n            &quot;idRef&quot;: 0,\r\n            &quot;title&quot;: &quot;titulo1&quot;,\r\n            &quot;name&quot;: &quot;office 1&quot;,\r\n            &quot;path&quot;: &quot;path_office&quot;,\r\n            &quot;compania&quot;: null\r\n        }\r\n\r\nAs you can see compania appears as null, so this is giving me a lot of headaches as I&#39;m not being able for example to do a query like this one, where I try to get the offices related to a compania by id and their titles:\r\n\r\n    @Query(&quot;select o from Office o where o.compania.id = :companiaId and lower(o.title) like lower(concat(&#39;%&#39;, :title, &#39;%&#39;) ) &quot;)\r\n        List&lt;Office&gt; getChilds(@Param(&quot;companiaId&quot;) Long companiaId, @Param(&quot;title&quot;)String title);\r\n\r\n\r\nHow could I solve this problem? Till now I&#39;ve been able to do a lot of requests using the Compania class as the main Entity, using the CompaniaService, CompaniaRepository... etc. \r\n\r\nHowever, now that I need to work exclusively with Office I can&#39;t do it. Of course, for the query I&#39;d like to do, I could the list of offices from the compania and then iterate them to store them in a list and then return that list, but I feel that is not the right way to do it.\r\n\r\nCan you help me? Thank you very much.\r\n\r\nIs there any different approach to this problem?\r\n\r\nEdit. For saving entities I create a Compania, that I pass as JSON through a POST method, and then I save it using the companiaService.save(compania) like this:\r\n\r\n    public void postCompania(Compania compania) {\r\n            if (compania.getId() != null) {\r\n                if (companiaRepository.existsById(compania.getId())) {\r\n                    throw new IllegalStateException(\r\n                        &quot;Compa&#241;ia con id &quot; + compania.getId() + &quot; ya existe&quot;\r\n                    );\r\n                }\r\n            }\r\n    \r\n            companiaRepository.save(compania);\r\n            System.out.println(compania);\r\n        }\r\n\r\nI changed the OneToMany relationship in Compania to make it look like this:\r\n\r\n    @OneToMany(\r\n            mappedBy = &quot;compania&quot;,\r\n            cascade = CascadeType.ALL,\r\n            fetch = FetchType.LAZY,\r\n            orphanRemoval = true\r\n        )\r\n        private List&lt;Office&gt; office;\r\n\r\nTo create the fk the app does this:\r\n\r\n    alter table office \r\n           add constraint FKj87ris6ubebpw5t7fkmy5i9bx \r\n           foreign key (compania_id) \r\n           references compania","title":"Child ManyToOne relation attribute from parent element always null JPA","body":"<p>I have these classes:</p>\n<p><strong>Compania</strong></p>\n<pre><code>@Entity(name = &quot;Compania&quot;)\n@Table(\n    name = &quot;compania&quot;\n)\npublic class Compania {\n    @Id\n    @SequenceGenerator(\n        name = &quot;compania_sequence&quot;,\n        sequenceName = &quot;compania_sequence&quot;,\n        allocationSize = 1\n    )\n    @GeneratedValue(\n        strategy = GenerationType.AUTO,\n        generator = &quot;compania_sequence&quot;\n    )\n    @Column(\n        nullable = false\n    )\n    private Long id;\n\n\n    @Column(\n        name = &quot;name&quot;,\n        nullable = false,\n        unique = true\n    )\n    private String name;\n\n    @Column(\n        name = &quot;dominio&quot;,\n        nullable = true\n    )\n    private String dominio;\n\n    @Column(\n        name = &quot;altas&quot;\n    )\n    private String altas;\n\n    @Column(\n        name = &quot;bajas&quot;\n    )\n    private String bajas;\n\n    @OneToMany(\n        cascade = CascadeType.ALL,\n        fetch = FetchType.LAZY,\n        orphanRemoval = true\n    )\n    private List&lt;Office&gt; office;\n</code></pre>\n<p>And on the other hand I have this one:</p>\n<p><strong>Office</strong></p>\n<pre><code>@Entity(name = &quot;Office&quot;)\n@Table(name = &quot;office&quot;)\npublic class Office {\n    @Id\n    @SequenceGenerator(\n        name = &quot;office_sequence&quot;,\n        sequenceName = &quot;office_sequence&quot;,\n        allocationSize = 1\n    )\n    @GeneratedValue(\n        strategy = GenerationType.SEQUENCE,\n        generator = &quot;office_sequence&quot;\n    )\n    @Column(\n        nullable = false\n    )\n    @JsonIgnore\n    private Long id;\n\n    @Column(\n        name = &quot;idRef&quot;,\n        nullable = false\n    )\n    private int idRef;\n\n    @Column(\n        name = &quot;title&quot;,\n        nullable = false\n    )\n    private String title;\n\n    @Column(\n        name = &quot;name&quot;\n    )\n    private String name;\n    @Column(\n        name = &quot;path&quot;\n    )\n    private String path;\n\n    @ManyToOne\n    private Compania compania;\n</code></pre>\n<p>So my problem is that when I check the office objects I get this with a GET method:</p>\n<pre><code>{\n        &quot;idRef&quot;: 0,\n        &quot;title&quot;: &quot;titulo1&quot;,\n        &quot;name&quot;: &quot;office 1&quot;,\n        &quot;path&quot;: &quot;path_office&quot;,\n        &quot;compania&quot;: null\n    }\n</code></pre>\n<p>As you can see compania appears as null, so this is giving me a lot of headaches as I'm not being able for example to do a query like this one, where I try to get the offices related to a compania by id and their titles:</p>\n<pre><code>@Query(&quot;select o from Office o where o.compania.id = :companiaId and lower(o.title) like lower(concat('%', :title, '%') ) &quot;)\n    List&lt;Office&gt; getChilds(@Param(&quot;companiaId&quot;) Long companiaId, @Param(&quot;title&quot;)String title);\n</code></pre>\n<p>How could I solve this problem? Till now I've been able to do a lot of requests using the Compania class as the main Entity, using the CompaniaService, CompaniaRepository... etc.</p>\n<p>However, now that I need to work exclusively with Office I can't do it. Of course, for the query I'd like to do, I could the list of offices from the compania and then iterate them to store them in a list and then return that list, but I feel that is not the right way to do it.</p>\n<p>Can you help me? Thank you very much.</p>\n<p>Is there any different approach to this problem?</p>\n<p>Edit. For saving entities I create a Compania, that I pass as JSON through a POST method, and then I save it using the companiaService.save(compania) like this:</p>\n<pre><code>public void postCompania(Compania compania) {\n        if (compania.getId() != null) {\n            if (companiaRepository.existsById(compania.getId())) {\n                throw new IllegalStateException(\n                    &quot;Compañia con id &quot; + compania.getId() + &quot; ya existe&quot;\n                );\n            }\n        }\n\n        companiaRepository.save(compania);\n        System.out.println(compania);\n    }\n</code></pre>\n<p>I changed the OneToMany relationship in Compania to make it look like this:</p>\n<pre><code>@OneToMany(\n        mappedBy = &quot;compania&quot;,\n        cascade = CascadeType.ALL,\n        fetch = FetchType.LAZY,\n        orphanRemoval = true\n    )\n    private List&lt;Office&gt; office;\n</code></pre>\n<p>To create the fk the app does this:</p>\n<pre><code>alter table office \n       add constraint FKj87ris6ubebpw5t7fkmy5i9bx \n       foreign key (compania_id) \n       references compania\n</code></pre>\n"},{"tags":["java","database-connection","h2"],"comments":[{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1444303817,"post_id":33014340,"comment_id":53851978,"body_markdown":"Seeing it work with your own eyes should be proof enough. Start worrying when you see an actual problem","body":"Seeing it work with your own eyes should be proof enough. Start worrying when you see an actual problem"},{"owner":{"account_id":7086050,"reputation":19,"user_id":5422843,"display_name":"Lina  Limenko"},"score":0,"creation_date":1444304035,"post_id":33014340,"comment_id":53852116,"body_markdown":"maybe it works wrong :)","body":"maybe it works wrong :)"},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1444304088,"post_id":33014340,"comment_id":53852145,"body_markdown":"Yes but you identify that by seeing something actually being wrong. Right now you&#39;ve seen it work. But if you must doubt everything you see, there are plenty of existing questions with answers that will ease your mind: http://stackoverflow.com/a/8053125/424903","body":"Yes but you identify that by seeing something actually being wrong. Right now you&#39;ve seen it work. But if you must doubt everything you see, there are plenty of existing questions with answers that will ease your mind: <a href=\"http://stackoverflow.com/a/8053125/424903\">stackoverflow.com/a/8053125/424903</a>"},{"owner":{"account_id":6121545,"reputation":12159,"user_id":4774918,"display_name":"too honest for this site"},"score":0,"creation_date":1444304235,"post_id":33014340,"comment_id":53852249,"body_markdown":"Read tag descriptions before adding!","body":"Read tag descriptions before adding!"}],"answers":[{"tags":[],"owner":{"account_id":161745,"reputation":49235,"user_id":382763,"accept_rate":92,"display_name":"Thomas Mueller"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637150815,"creation_date":1444310233,"answer_id":33017017,"question_id":33014340,"body_markdown":"Yes, for Java 1.6 and newer, `Class.forName(&quot;org.h2.Driver&quot;)` is no longer needed. This is due to a change in JDBC 4.0. For details, see [Getting Connected Becomes Easier][1].\r\n\r\n\r\n  [1]: http://web.archive.org/web/20150922213755/https://today.java.net/pub/a/today/2007/04/10/whats-new-in-jdbc-40.html#getting-connected-becomes-easier","title":"Can I connect to h2 embedded db without setting Class.forName(&quot;org.h2.Driver&quot;)?","body":"<p>Yes, for Java 1.6 and newer, <code>Class.forName(&quot;org.h2.Driver&quot;)</code> is no longer needed. This is due to a change in JDBC 4.0. For details, see <a href=\"http://web.archive.org/web/20150922213755/https://today.java.net/pub/a/today/2007/04/10/whats-new-in-jdbc-40.html#getting-connected-becomes-easier\" rel=\"nofollow noreferrer\">Getting Connected Becomes Easier</a>.</p>\n"}],"owner":{"account_id":7086050,"reputation":19,"user_id":5422843,"display_name":"Lina  Limenko"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1028,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1637150815,"creation_date":1444303419,"question_id":33014340,"body_markdown":"Can I connect  to h2 embedded db without setting Class.forName(&quot;org.h2.Driver&quot;) ?\r\nI used only those parameters: url, login and pass\r\n\r\n     public static Connection getConnection()  {\r\n        String url= ResourseHelper.getUrl();\r\n        String user= ResourseHelper.getUser();\r\n        String pass= ResourseHelper.getPass();\r\n\r\n        try {\r\n            return DriverManager.getConnection(url, user, pass);\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n\r\nAnd than I create embedded database using this connection. And it works. Is it correct?\r\n\r\n","title":"Can I connect to h2 embedded db without setting Class.forName(&quot;org.h2.Driver&quot;)?","body":"<p>Can I connect  to h2 embedded db without setting Class.forName(\"org.h2.Driver\") ?\nI used only those parameters: url, login and pass</p>\n\n<pre><code> public static Connection getConnection()  {\n    String url= ResourseHelper.getUrl();\n    String user= ResourseHelper.getUser();\n    String pass= ResourseHelper.getPass();\n\n    try {\n        return DriverManager.getConnection(url, user, pass);\n    } catch (SQLException e) {\n        e.printStackTrace();\n    }\n    return null;\n}\n</code></pre>\n\n<p>And than I create embedded database using this connection. And it works. Is it correct?</p>\n"},{"tags":["java","spring","spring-boot","spring-batch"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1637076182,"post_id":69991448,"comment_id":123725874,"body_markdown":"Why even bother starting the job if there is nothing to process?","body":"Why even bother starting the job if there is nothing to process?"},{"owner":{"account_id":17647913,"reputation":43,"user_id":12808946,"display_name":"Prathviraj Singh Chouhan"},"score":0,"creation_date":1637149318,"post_id":69991448,"comment_id":123746812,"body_markdown":"I am having three more step. and I dont want other step to fail due to my first step.","body":"I am having three more step. and I dont want other step to fail due to my first step."}],"answers":[{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1637150788,"creation_date":1637078873,"answer_id":69992491,"question_id":69991448,"body_markdown":"[See here](https://docs.spring.io/spring-batch/docs/current/reference/html/step.html#configuringSkip): You can set skip condition (and limit) on a &quot;chunk/step&quot;.\r\n\r\n\r\n    @Bean\r\n    public Step step1() {\r\n\t  return this.stepBuilderFactory.get(&quot;step1&quot;)\r\n\t    .&lt;String, String&gt;chunk(CHUNK_SIZE)\r\n\t\t.reader(flatFileItemReader())\r\n\t\t.writer(itemWriter())\r\n\t\t.faultTolerant()\r\n\t\t.skipLimit(0) // 0: dont re-try\r\n\t\t.skip(FlatFileParseException.class) // when you use FlatFileItemWriter,\r\n          // but other exception (type) possible, e.g. IllegalStateException.class\r\n\t\t.build();\r\n    }\r\n\r\n\r\nTo set &quot;non-strict&quot; mode in FlatFileItemReader, just:\r\n\r\n    @Bean\r\n    public FlatFileItemReader&lt;XY&gt; flatFileItemReader() {\r\n    \r\n      FlatFileItemReader&lt;XY&gt; reader = new FlatFileItemReader&lt;&gt;();\r\n      //!\r\n      reader.setStrict(false);\r\n      // reader.setXYZ ...\r\n      return reader;\r\n    }","title":"How to skip whole step if file do not exist for that item reader or step","body":"<p><a href=\"https://docs.spring.io/spring-batch/docs/current/reference/html/step.html#configuringSkip\" rel=\"nofollow noreferrer\">See here</a>: You can set skip condition (and limit) on a &quot;chunk/step&quot;.</p>\n<pre><code>@Bean\npublic Step step1() {\n  return this.stepBuilderFactory.get(&quot;step1&quot;)\n    .&lt;String, String&gt;chunk(CHUNK_SIZE)\n    .reader(flatFileItemReader())\n    .writer(itemWriter())\n    .faultTolerant()\n    .skipLimit(0) // 0: dont re-try\n    .skip(FlatFileParseException.class) // when you use FlatFileItemWriter,\n      // but other exception (type) possible, e.g. IllegalStateException.class\n    .build();\n}\n</code></pre>\n<p>To set &quot;non-strict&quot; mode in FlatFileItemReader, just:</p>\n<pre><code>@Bean\npublic FlatFileItemReader&lt;XY&gt; flatFileItemReader() {\n\n  FlatFileItemReader&lt;XY&gt; reader = new FlatFileItemReader&lt;&gt;();\n  //!\n  reader.setStrict(false);\n  // reader.setXYZ ...\n  return reader;\n}\n</code></pre>\n"}],"owner":{"account_id":17647913,"reputation":43,"user_id":12808946,"display_name":"Prathviraj Singh Chouhan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1454,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69992491,"answer_count":1,"score":1,"last_activity_date":1637150788,"creation_date":1637074802,"question_id":69991448,"body_markdown":"ISSUE:&gt; I am having item reader writer processor for my spring batch job. And when I am running it, it is giving me error Failed to initialize the reader and \r\nalso showing :&gt;\r\nCaused by: java.lang.IllegalStateException: Input resource must exist (reader is in &#39;strict&#39; mode): file\r\n\r\n**My requirement is**: I want my item reader to not run if file does not exists.\r\n\r\nCan anyone help me: I want to skip whole step if file do not exist for that item reader.\r\nMy step consist of (item reader, processor and writer).\r\n\r\n\r\nJust tell me how to skip step, if file do not exist. Any help will be appreciated.And is there anyway to set reader to non strict mode.","title":"How to skip whole step if file do not exist for that item reader or step","body":"<p>ISSUE:&gt; I am having item reader writer processor for my spring batch job. And when I am running it, it is giving me error Failed to initialize the reader and\nalso showing :&gt;\nCaused by: java.lang.IllegalStateException: Input resource must exist (reader is in 'strict' mode): file</p>\n<p><strong>My requirement is</strong>: I want my item reader to not run if file does not exists.</p>\n<p>Can anyone help me: I want to skip whole step if file do not exist for that item reader.\nMy step consist of (item reader, processor and writer).</p>\n<p>Just tell me how to skip step, if file do not exist. Any help will be appreciated.And is there anyway to set reader to non strict mode.</p>\n"},{"tags":["java","jython"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1637150817,"post_id":70004043,"comment_id":123747371,"body_markdown":"Looks like it would be easier running an actual python interpreter as an external process instead. Would that be acceptable?","body":"Looks like it would be easier running an actual python interpreter as an external process instead. Would that be acceptable?"},{"owner":{"account_id":23128762,"reputation":23,"user_id":17234184,"display_name":"mikegr3p"},"score":0,"creation_date":1637150914,"post_id":70004043,"comment_id":123747404,"body_markdown":"I can the point here is I need to run the python script pass the argument and catch back print result back to java","body":"I can the point here is I need to run the python script pass the argument and catch back print result back to java"},{"owner":{"account_id":9059972,"reputation":3080,"user_id":6746785,"display_name":"gthanop"},"score":0,"creation_date":1637152588,"post_id":70004043,"comment_id":123748174,"body_markdown":"You can find the answer [here](https://stackoverflow.com/questions/37028938/call-python-script-with-arguments-from-java) (a duplicate).","body":"You can find the answer <a href=\"https://stackoverflow.com/questions/37028938/call-python-script-with-arguments-from-java\">here</a> (a duplicate)."},{"owner":{"account_id":9059972,"reputation":3080,"user_id":6746785,"display_name":"gthanop"},"score":0,"creation_date":1637153220,"post_id":70004043,"comment_id":123748433,"body_markdown":"No problem. I didn&#39;t try it out, but by reading the documentation made me confident enough to post it as a comment/possible-solution.","body":"No problem. I didn&#39;t try it out, but by reading the documentation made me confident enough to post it as a comment/possible-solution."}],"owner":{"account_id":23128762,"reputation":23,"user_id":17234184,"display_name":"mikegr3p"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1637150708,"creation_date":1637150569,"question_id":70004043,"body_markdown":"Hello I want to pass argument to python script in Java with Jython i have this code:\r\n\r\n    public static void pyCode(String argumentOne) throws FileNotFoundException, ScriptException {\r\n        StringWriter writer = new StringWriter(); //ouput will be stored here\r\n\r\n        ScriptEngineManager manager = new ScriptEngineManager();\r\n        ScriptContext context = new SimpleScriptContext();\r\n\r\n        context.setWriter(writer); //configures output redirection\r\n        ScriptEngine engine = manager.getEngineByName(&quot;python&quot;);\r\n        engine.eval(new FileReader(&quot;main.py&quot;), context);\r\n        System.out.println(writer.toString());\r\n    }\r\n\r\nI need to execute the python script like `main.py arg1` or to pass the String  input to the main.py file with will be used in the file.\r\nI just found Jython and I can&#39;t see proper example in the documentation.","title":"Send parms to python script form java with jython","body":"<p>Hello I want to pass argument to python script in Java with Jython i have this code:</p>\n<pre><code>public static void pyCode(String argumentOne) throws FileNotFoundException, ScriptException {\n    StringWriter writer = new StringWriter(); //ouput will be stored here\n\n    ScriptEngineManager manager = new ScriptEngineManager();\n    ScriptContext context = new SimpleScriptContext();\n\n    context.setWriter(writer); //configures output redirection\n    ScriptEngine engine = manager.getEngineByName(&quot;python&quot;);\n    engine.eval(new FileReader(&quot;main.py&quot;), context);\n    System.out.println(writer.toString());\n}\n</code></pre>\n<p>I need to execute the python script like <code>main.py arg1</code> or to pass the String  input to the main.py file with will be used in the file.\nI just found Jython and I can't see proper example in the documentation.</p>\n"},{"tags":["java","android","sharedpreferences"],"answers":[{"tags":[],"owner":{"account_id":310854,"reputation":33070,"user_id":624069,"accept_rate":66,"display_name":"Niranj Patel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1637150457,"creation_date":1637149992,"answer_id":70003926,"question_id":70003673,"body_markdown":"&lt;!-- language-all: lang-java --&gt;\r\n\r\nRemoving all preferences:\r\n\r\n    SharedPreferences sharedPreferences  = context.getSharedPreferences(&quot;name&quot;, Context.MODE_PRIVATE);\r\n    sharedPreferences.edit().clear().commit();\r\n\r\nRemoving single preference:\r\n\r\n    SharedPreferences sharedPreferences = context.getSharedPreferences(&quot;name&quot;, Context.MODE_PRIVATE);\r\n    sharedPreferences.edit().remove(&quot;key_name&quot;).commit();\r\n\r\n\r\n`SharedPreferences` has the method `getAll()` that returns a  `Map&lt;String, ?&gt;` . From the Map you can retrieve easily the keys with `keySet()` and the key/value mappings with `entrySet()`:\r\n\r\n    Map&lt;String, ?&gt; allEntries = prefA.getAll();\r\n    for (Map.Entry&lt;String, ?&gt; entry : allEntries.entrySet()) {\r\n        Log.d(&quot;map values&quot;, entry.getKey() + &quot;: &quot; + entry.getValue().toString());\r\n    } \r\n","title":"Clear shared preference having dynamic keys","body":"\n<p>Removing all preferences:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SharedPreferences sharedPreferences  = context.getSharedPreferences(&quot;name&quot;, Context.MODE_PRIVATE);\nsharedPreferences.edit().clear().commit();\n</code></pre>\n<p>Removing single preference:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SharedPreferences sharedPreferences = context.getSharedPreferences(&quot;name&quot;, Context.MODE_PRIVATE);\nsharedPreferences.edit().remove(&quot;key_name&quot;).commit();\n</code></pre>\n<p><code>SharedPreferences</code> has the method <code>getAll()</code> that returns a  <code>Map&lt;String, ?&gt;</code> . From the Map you can retrieve easily the keys with <code>keySet()</code> and the key/value mappings with <code>entrySet()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, ?&gt; allEntries = prefA.getAll();\nfor (Map.Entry&lt;String, ?&gt; entry : allEntries.entrySet()) {\n    Log.d(&quot;map values&quot;, entry.getKey() + &quot;: &quot; + entry.getValue().toString());\n} \n</code></pre>\n"}],"owner":{"account_id":22616962,"reputation":3155,"user_id":16796366,"display_name":"Nitish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70003926,"answer_count":1,"score":0,"last_activity_date":1637150457,"creation_date":1637148954,"question_id":70003673,"body_markdown":"I&#39;m creating a `SharedPreferences` in my app using a dyanmic key generated using a combination of some fixed String and id(unique id for each item). \r\n\r\nGet values from shared preference \r\n\r\n    public static int getSharedPref(Context context, String keyName) {\r\n        SharedPreferences betaPref = context.getSharedPreferences(PREF_NAME, Context.MODE_PRIVATE);\r\n        return betaPref.getInt(&quot;getShare&quot; + keyName, 0);\r\n    }\r\n\r\nSave value in shared preference\r\n\r\n    public static void saveSharedPref(Context context, int value, String keyName) {\r\n        try {\r\n            SharedPreferences betaPref = context.getSharedPreferences(PREF_NAME, Context.MODE_PRIVATE);\r\n            SharedPreferences.Editor editor = betaPref.edit();\r\n            editor.putInt(&quot;getShare&quot; + keyName, value);\r\n            editor.apply();\r\n        } catch (Exception e) {\r\n            LogUtil.e(&quot;getShare&quot; + keyName, Log.getStackTraceString(e), e);\r\n        }\r\n    }\r\n\r\nSo far it works good, but now I also want to delete these shared preference when user logout from the app.   \r\nI know we can use \r\n\r\n    preferences.edit().remove(&quot;getShare&quot;).commit();\r\n\r\nto remove a particular shared preference, but being a dynamic keys I  don&#39;t have a exact name to delete it. \r\n\r\n**Query :** Is there any way I can delete all shared preference containing a particular keyword? Or fetch all the keywords used in shared preference and filter them to delete on specific ones  \r\n","title":"Clear shared preference having dynamic keys","body":"<p>I'm creating a <code>SharedPreferences</code> in my app using a dyanmic key generated using a combination of some fixed String and id(unique id for each item).</p>\n<p>Get values from shared preference</p>\n<pre><code>public static int getSharedPref(Context context, String keyName) {\n    SharedPreferences betaPref = context.getSharedPreferences(PREF_NAME, Context.MODE_PRIVATE);\n    return betaPref.getInt(&quot;getShare&quot; + keyName, 0);\n}\n</code></pre>\n<p>Save value in shared preference</p>\n<pre><code>public static void saveSharedPref(Context context, int value, String keyName) {\n    try {\n        SharedPreferences betaPref = context.getSharedPreferences(PREF_NAME, Context.MODE_PRIVATE);\n        SharedPreferences.Editor editor = betaPref.edit();\n        editor.putInt(&quot;getShare&quot; + keyName, value);\n        editor.apply();\n    } catch (Exception e) {\n        LogUtil.e(&quot;getShare&quot; + keyName, Log.getStackTraceString(e), e);\n    }\n}\n</code></pre>\n<p>So far it works good, but now I also want to delete these shared preference when user logout from the app.<br />\nI know we can use</p>\n<pre><code>preferences.edit().remove(&quot;getShare&quot;).commit();\n</code></pre>\n<p>to remove a particular shared preference, but being a dynamic keys I  don't have a exact name to delete it.</p>\n<p><strong>Query :</strong> Is there any way I can delete all shared preference containing a particular keyword? Or fetch all the keywords used in shared preference and filter them to delete on specific ones</p>\n"},{"tags":["java","tomcat","tomcat8","cache-control","pragma"],"comments":[{"owner":{"account_id":379763,"reputation":29886,"user_id":733345,"display_name":"Joe"},"score":0,"creation_date":1636801317,"post_id":69940506,"comment_id":123657318,"body_markdown":"Does this answer your question? [Tomcat: Cache-Control](https://stackoverflow.com/questions/2876250/tomcat-cache-control)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2876250/tomcat-cache-control\">Tomcat: Cache-Control</a>"},{"owner":{"account_id":22581954,"reputation":15,"user_id":16766481,"display_name":"Ritwik1711"},"score":1,"creation_date":1636902737,"post_id":69940506,"comment_id":123676085,"body_markdown":"Already seen that. Didn&#39;t find any relevant solution. Decided to add custom response headers and see if it works.","body":"Already seen that. Didn&#39;t find any relevant solution. Decided to add custom response headers and see if it works."}],"answers":[{"tags":[],"owner":{"account_id":22581954,"reputation":15,"user_id":16766481,"display_name":"Ritwik1711"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1637150306,"creation_date":1637150306,"answer_id":70003982,"question_id":69940506,"body_markdown":"Managed to do it by adding custom headers using a response header filter that I found on Github","title":"How to add Cache-Control, Pragma and expires in Tomcat 8.5 web.xml?","body":"<p>Managed to do it by adding custom headers using a response header filter that I found on Github</p>\n"}],"owner":{"account_id":22581954,"reputation":15,"user_id":16766481,"display_name":"Ritwik1711"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":735,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70003982,"answer_count":1,"score":0,"last_activity_date":1637150306,"creation_date":1636708714,"question_id":69940506,"body_markdown":"I need to add\r\n\r\nCache-Control: no-cache, no-store, must-revalidate\r\nPragma: no-cache\r\nExpires: 0\r\n\r\nThis needs to be added in the web.xml for all APIs. The Expires Filter of Apache doesn&#39;t seem to work for this. Are there any other filters that I can use? I also don&#39;t think Apache httpd headers will work in web.xml","title":"How to add Cache-Control, Pragma and expires in Tomcat 8.5 web.xml?","body":"<p>I need to add</p>\n<p>Cache-Control: no-cache, no-store, must-revalidate\nPragma: no-cache\nExpires: 0</p>\n<p>This needs to be added in the web.xml for all APIs. The Expires Filter of Apache doesn't seem to work for this. Are there any other filters that I can use? I also don't think Apache httpd headers will work in web.xml</p>\n"},{"tags":["java","exception","groovy","file-permissions","noclassdeffounderror"],"comments":[{"owner":{"account_id":3837378,"reputation":35463,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1637073864,"post_id":69990950,"comment_id":123724699,"body_markdown":"Have you tried installing javafx? E.g. `openjfx`  comes up in `apt search`...","body":"Have you tried installing javafx? E.g. <code>openjfx</code>  comes up in <code>apt search</code>..."},{"owner":{"account_id":4458609,"reputation":521,"user_id":3628133,"accept_rate":60,"display_name":"rawi"},"score":0,"creation_date":1637074696,"post_id":69990950,"comment_id":123725105,"body_markdown":"Yes, I did it now, but the problem persists. And remember: ROOT could run groovy scripts also without openjfx...","body":"Yes, I did it now, but the problem persists. And remember: ROOT could run groovy scripts also without openjfx..."},{"owner":{"account_id":4458609,"reputation":521,"user_id":3628133,"accept_rate":60,"display_name":"rawi"},"score":0,"creation_date":1637075817,"post_id":69990950,"comment_id":123725637,"body_markdown":"I install groovy and grails always by hand from the ZIPs in /usr/local/lib/. which groovysh is /usr/local/lib/groovy/bin//groovysh for all users inclusive root. It&#39;s in the PATH","body":"I install groovy and grails always by hand from the ZIPs in /usr/local/lib/. which groovysh is /usr/local/lib/groovy/bin//groovysh for all users inclusive root. It&#39;s in the PATH"},{"owner":{"account_id":3837378,"reputation":35463,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1637075828,"post_id":69990950,"comment_id":123725643,"body_markdown":"Root might just see a different groovy version.  E.g. for me in Debian testing, groovy shows up as 2.4 - so you having 3.0 and the /usr/local location looks like youi have installed it yourself. Also there should be no need for javafx for groovysh/groovy, which is plain CLI. What does `which groovysh` give you for root and $USER? Do you remember adding groovyfx stuff to your local install?","body":"Root might just see a different groovy version.  E.g. for me in Debian testing, groovy shows up as 2.4 - so you having 3.0 and the /usr/local location looks like youi have installed it yourself. Also there should be no need for javafx for groovysh/groovy, which is plain CLI. What does <code>which groovysh</code> give you for root and $USER? Do you remember adding groovyfx stuff to your local install?"},{"owner":{"account_id":3837378,"reputation":35463,"user_id":3181392,"display_name":"cfrick"},"score":1,"creation_date":1637076009,"post_id":69990950,"comment_id":123725756,"body_markdown":"Then the environment or your user-setup triggers this. An fresh SDKMAN installation of groovy 3.0.9 needs no groovyfx (for me). To trigger the error you are seeing i have to run a groovy script, that grabs groovyfx.","body":"Then the environment or your user-setup triggers this. An fresh SDKMAN installation of groovy 3.0.9 needs no groovyfx (for me). To trigger the error you are seeing i have to run a groovy script, that grabs groovyfx."},{"owner":{"account_id":4458609,"reputation":521,"user_id":3628133,"accept_rate":60,"display_name":"rawi"},"score":0,"creation_date":1637076533,"post_id":69990950,"comment_id":123726054,"body_markdown":"No, my groovy script contains only println &quot;OK&quot;. It runs well for ROOT and fails for USER. That&#39;s why I suppose a permission problem. The groovyfx error is only the written hiccup  of not being able to get to something. Given that java and grails are running well, what needs groovy more than they on is own?","body":"No, my groovy script contains only println &quot;OK&quot;. It runs well for ROOT and fails for USER. That&#39;s why I suppose a permission problem. The groovyfx error is only the written hiccup  of not being able to get to something. Given that java and grails are running well, what needs groovy more than they on is own?"},{"owner":{"account_id":3837378,"reputation":35463,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1637078474,"post_id":69990950,"comment_id":123726998,"body_markdown":"I don&#39;t understand the last statement.  Is the error when you run `groovy -e=&#39;println &quot;OK&quot;&#39;` `java.lang.NoClassDefFoundError: Unable to load class groovyx.javafx.extension.NumberExtension due to missing dependency javafx/beans/value/ObservableNumberValue` or not? If that is the case, then my guess is, that something contaminates your installation. And root is not contaminated (different env, no $DISPLAY set, ...)","body":"I don&#39;t understand the last statement.  Is the error when you run <code>groovy -e=&#39;println &quot;OK&quot;&#39;</code> <code>java.lang.NoClassDefFoundError: Unable to load class groovyx.javafx.extension.NumberExtension due to missing dependency javafx&#47;beans&#47;value&#47;ObservableNumberValue</code> or not? If that is the case, then my guess is, that something contaminates your installation. And root is not contaminated (different env, no $DISPLAY set, ...)"},{"owner":{"account_id":4458609,"reputation":521,"user_id":3628133,"accept_rate":60,"display_name":"rawi"},"score":0,"creation_date":1637090933,"post_id":69990950,"comment_id":123731916,"body_markdown":"Yes, this is the error; same as trying to run println &quot;OK&quot; in groovyConsole. I purged and reinstalled java. I deleted and reinstalled the groovy ZIPs. If ENV contamination: why should java and grails run as expected. Meanwhile I upgraded at home to the same Debian Testing (bookworm) and I don&#39;t have the issue  ?! Wondering...","body":"Yes, this is the error; same as trying to run println &quot;OK&quot; in groovyConsole. I purged and reinstalled java. I deleted and reinstalled the groovy ZIPs. If ENV contamination: why should java and grails run as expected. Meanwhile I upgraded at home to the same Debian Testing (bookworm) and I don&#39;t have the issue  ?! Wondering..."},{"owner":{"account_id":4458609,"reputation":521,"user_id":3628133,"accept_rate":60,"display_name":"rawi"},"score":0,"creation_date":1637092568,"post_id":69990950,"comment_id":123732480,"body_markdown":"I went back to the office computer trough VPN ;) and I set the $DISPLAY... but no good.","body":"I went back to the office computer trough VPN ;) and I set the $DISPLAY... but no good."},{"owner":{"account_id":3837378,"reputation":35463,"user_id":3181392,"display_name":"cfrick"},"score":1,"creation_date":1637100692,"post_id":69990950,"comment_id":123735056,"body_markdown":"Neither java, grails, or groovy use groovfx by default.  So there is no surprise, that those things work - the surprise is, that groovy is not working with that error. So I&#39;d expect env, config-file, ... - and that&#39;s the reason why root works. The only other explanation would be, that root actually has javafx (e.g. by using another java installation).","body":"Neither java, grails, or groovy use groovfx by default.  So there is no surprise, that those things work - the surprise is, that groovy is not working with that error. So I&#39;d expect env, config-file, ... - and that&#39;s the reason why root works. The only other explanation would be, that root actually has javafx (e.g. by using another java installation)."}],"answers":[{"tags":[],"owner":{"account_id":4458609,"reputation":521,"user_id":3628133,"accept_rate":60,"display_name":"rawi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637149974,"creation_date":1637149974,"answer_id":70003922,"question_id":69990950,"body_markdown":"**Many thanks to cfrick** pointing to groovyfx. - I found the culprit.\r\n\r\nEven if I didn&#39;t call groovyfx at all, **I had a groovyfx-8.0.0.jar in my ~/.groovy/lib/** directory - from an old home carried over to a newer computer.\r\n\r\nWhy this didn&#39;t give errors in Debian Bullseye but does in Debian Bookworm remains a mystery; I didn&#39;t have openjfx installed then until now - and now it does not make any positive difference.\r\n\r\nThe only recent reference to groovyfx not working I found here: http://foro.chuidiang.org/groovy/groovyfx/ and it is true, that the code from http://groovyfx.org/docs/index.html#_hello_groovyfx_your_first_groovyfx_program does work with Oracle-Java 8 but does not work with open-jdk+openjfx ?!\r\n\r\nBut this is another story altogether.","title":"Groovy not running scripts presumably because of permissions","body":"<p><strong>Many thanks to cfrick</strong> pointing to groovyfx. - I found the culprit.</p>\n<p>Even if I didn't call groovyfx at all, <strong>I had a groovyfx-8.0.0.jar in my ~/.groovy/lib/</strong> directory - from an old home carried over to a newer computer.</p>\n<p>Why this didn't give errors in Debian Bullseye but does in Debian Bookworm remains a mystery; I didn't have openjfx installed then until now - and now it does not make any positive difference.</p>\n<p>The only recent reference to groovyfx not working I found here: <a href=\"http://foro.chuidiang.org/groovy/groovyfx/\" rel=\"nofollow noreferrer\">http://foro.chuidiang.org/groovy/groovyfx/</a> and it is true, that the code from <a href=\"http://groovyfx.org/docs/index.html#_hello_groovyfx_your_first_groovyfx_program\" rel=\"nofollow noreferrer\">http://groovyfx.org/docs/index.html#_hello_groovyfx_your_first_groovyfx_program</a> does work with Oracle-Java 8 but does not work with open-jdk+openjfx ?!</p>\n<p>But this is another story altogether.</p>\n"}],"owner":{"account_id":4458609,"reputation":521,"user_id":3628133,"accept_rate":60,"display_name":"rawi"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":596,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637149974,"creation_date":1637072874,"question_id":69990950,"body_markdown":"The change occurred after upgrading Debian\r\n\r\nAhead all descriptions:\r\n\r\n- the root user has no problems; Groovy is doing as expected\r\n\r\n- the normal user \r\n-- can run java programs and grails projects\r\n-- but groovy would not run a script any more?!\r\n\r\nExtract from printenv:\r\n\r\n    GRAILS_HOME=/usr/local/lib/grails\r\n    GROOVY_HOME=/usr/local/lib/groovy\r\n    JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64\r\n    JDK_HOME=/usr/lib/jvm/java-11-openjdk-amd64\r\n    JRE_HOME=/usr/lib/jvm/java-11-openjdk-amd64\r\n\r\nAll needed is in the PATH and the file permissions in JAVA_HOME and GROOVY_HOME are OK:\r\n\r\n    $ java --version\r\n    openjdk 11.0.13 2021-10-19\r\n    OpenJDK Runtime Environment (build 11.0.13+8-post-Debian-1)\r\n    OpenJDK 64-Bit Server VM (build 11.0.13+8-post-Debian-1, mixed mode, sharing)\r\n    \r\n    $ groovy --version\r\n    Groovy Version: 3.0.9 JVM: 11.0.13 Vendor: Debian OS: Linux\r\n\r\nBut no script will be run any more for the normal user:\r\n\r\n    groovy -e=&#39;println &quot;OK&quot;&#39; ## or\r\n    groovy my_script.groovy\r\n    \r\n    Caught: java.lang.NoClassDefFoundError: Unable to load class groovyx.javafx.extension.NumberExtension due to missing dependency javafx/beans/value/ObservableNumberValue\r\n    java.lang.NoClassDefFoundError: Unable to load class groovyx.javafx.extension.NumberExtension due to missing dependency javafx/beans/value/ObservableNumberValue\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\r\nThe same error will be thrown in the groovyConsole for the simple println &quot;OK&quot;\r\n\r\ngroovysh is more terrifying:\r\n\r\n    $groovysh\r\n    \r\n    java.lang.reflect.InvocationTargetException\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n            at org.codehaus.groovy.tools.GroovyStarter.rootLoader(GroovyStarter.java:111)\r\n            at org.codehaus.groovy.tools.GroovyStarter.main(GroovyStarter.java:129)\r\n    Caused by: java.lang.NoClassDefFoundError: Unable to load class groovyx.javafx.extension.NumberExtension due to missing dependency javafx/beans/value/ObservableNumberValue\r\n            at org.codehaus.groovy.vmplugin.v8.Java8.configureClassNode(Java8.java:460)\r\n            at org.codehaus.groovy.ast.ClassNode.lazyClassInit(ClassNode.java:273)\r\n            at org.codehaus.groovy.ast.ClassNode.getMethods(ClassNode.java:395)\r\n            at org.codehaus.groovy.transform.stc.AbstractExtensionMethodCache.scan(AbstractExtensionMethodCache.java:116)\r\n            at org.codehaus.groovy.transform.stc.AbstractExtensionMethodCache.getMethods(AbstractExtensionMethodCache.java:97)\r\n            at org.codehaus.groovy.transform.stc.AbstractExtensionMethodCache.getMethodsFromClassLoader(AbstractExtensionMethodCache.java:73)\r\n            at org.codehaus.groovy.runtime.memoize.StampedCommonCache.compute(StampedCommonCache.java:163)\r\n            at org.codehaus.groovy.runtime.memoize.StampedCommonCache.getAndPut(StampedCommonCache.java:154)\r\n            at org.codehaus.groovy.runtime.memoize.StampedCommonCache.getAndPut(StampedCommonCache.java:115)\r\n            at org.codehaus.groovy.transform.stc.AbstractExtensionMethodCache.get(AbstractExtensionMethodCache.java:51)\r\n            at org.codehaus.groovy.macro.transform.MacroCallTransformingVisitor.findMacroMethods(MacroCallTransformingVisitor.java:119)\r\n            at org.codehaus.groovy.macro.transform.MacroCallTransformingVisitor.visitMethodCallExpression(MacroCallTransformingVisitor.java:90)\r\n            at org.codehaus.groovy.ast.expr.MethodCallExpression.visit(MethodCallExpression.java:76)\r\n            at org.codehaus.groovy.ast.GroovyCodeVisitor.lambda$visitListOfExpressions$0(GroovyCodeVisitor.java:202)\r\n            at java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n            at org.codehaus.groovy.ast.GroovyCodeVisitor.visitListOfExpressions(GroovyCodeVisitor.java:202)\r\n            at org.codehaus.groovy.ast.CodeVisitorSupport.visitTupleExpression(CodeVisitorSupport.java:249)\r\n            at org.codehaus.groovy.ast.CodeVisitorSupport.visitArgumentlistExpression(CodeVisitorSupport.java:367)\r\n            at org.codehaus.groovy.ast.expr.ArgumentListExpression.visit(ArgumentListExpression.java:73)\r\n            at org.codehaus.groovy.ast.CodeVisitorSupport.visitMethodCallExpression(CodeVisitorSupport.java:186)\r\n            at org.codehaus.groovy.macro.transform.MacroCallTransformingVisitor.visitMethodCallExpression(MacroCallTransformingVisitor.java:81)\r\n            at org.codehaus.groovy.ast.expr.MethodCallExpression.visit(MethodCallExpression.java:76)\r\n            at org.codehaus.groovy.ast.CodeVisitorSupport.visitBinaryExpression(CodeVisitorSupport.java:202)\r\n            at org.codehaus.groovy.ast.CodeVisitorSupport.visitDeclarationExpression(CodeVisitorSupport.java:335)\r\n            at org.codehaus.groovy.ast.ClassCodeVisitorSupport.visitDeclarationExpression(ClassCodeVisitorSupport.java:150)\r\n            at org.codehaus.groovy.ast.expr.DeclarationExpression.visit(DeclarationExpression.java:89)\r\n            at org.codehaus.groovy.ast.CodeVisitorSupport.visitExpressionStatement(CodeVisitorSupport.java:117)\r\n            at org.codehaus.groovy.ast.ClassCodeVisitorSupport.visitExpressionStatement(ClassCodeVisitorSupport.java:200)\r\n            at org.codehaus.groovy.ast.stmt.ExpressionStatement.visit(ExpressionStatement.java:40)\r\n            at org.codehaus.groovy.ast.CodeVisitorSupport.visitBlockStatement(CodeVisitorSupport.java:86)\r\n            at org.codehaus.groovy.ast.ClassCodeVisitorSupport.visitBlockStatement(ClassCodeVisitorSupport.java:164)\r\n            at org.codehaus.groovy.ast.stmt.BlockStatement.visit(BlockStatement.java:69)\r\n            at org.codehaus.groovy.ast.MethodCallTransformation.visit(MethodCallTransformation.java:42)\r\n            at org.codehaus.groovy.transform.ASTTransformationVisitor.lambda$addPhaseOperationsForGlobalTransforms$4(ASTTransformationVisitor.java:337)\r\n            at org.codehaus.groovy.control.CompilationUnit$ISourceUnitOperation.doPhaseOperation(CompilationUnit.java:901)\r\n            at org.codehaus.groovy.control.CompilationUnit.processPhaseOperations(CompilationUnit.java:671)\r\n            at org.codehaus.groovy.control.CompilationUnit.compile(CompilationUnit.java:635)\r\n            at groovy.lang.GroovyClassLoader.doParseClass(GroovyClassLoader.java:389)\r\n            at groovy.lang.GroovyClassLoader.lambda$parseClass$3(GroovyClassLoader.java:332)\r\n            at org.codehaus.groovy.runtime.memoize.StampedCommonCache.compute(StampedCommonCache.java:163)\r\n            at org.codehaus.groovy.runtime.memoize.StampedCommonCache.getAndPut(StampedCommonCache.java:154)\r\n            at groovy.lang.GroovyClassLoader.parseClass(GroovyClassLoader.java:330)\r\n            at groovy.lang.GroovyShell.parseClass(GroovyShell.java:526)\r\n            at groovy.lang.GroovyShell.parse(GroovyShell.java:538)\r\n            at groovy.lang.GroovyShell.evaluate(GroovyShell.java:426)\r\n            at groovy.lang.GroovyShell.evaluate(GroovyShell.java:461)\r\n            at groovy.lang.GroovyShell.evaluate(GroovyShell.java:436)\r\n            at org.apache.groovy.groovysh.util.PackageHelperImpl.getPackagesAndClassesFromJigsaw(PackageHelperImpl.groovy:153)\r\n            at org.apache.groovy.groovysh.util.PackageHelperImpl.getPackages(PackageHelperImpl.groovy:127)\r\n            at org.apache.groovy.groovysh.util.PackageHelperImpl.initializePackages(PackageHelperImpl.groovy:64)\r\n            at org.apache.groovy.groovysh.util.PackageHelperImpl.&lt;init&gt;(PackageHelperImpl.groovy:53)\r\n            at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n            at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n            at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n            at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\r\n            at org.codehaus.groovy.reflection.CachedConstructor.invoke(CachedConstructor.java:72)\r\n            at org.codehaus.groovy.runtime.callsite.ConstructorSite$ConstructorSiteNoUnwrapNoCoerce.callConstructor(ConstructorSite.java:105)\r\n            at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallConstructor(CallSiteArray.java:59)\r\n            at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callConstructor(AbstractCallSite.java:263)\r\n            at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callConstructor(AbstractCallSite.java:277)\r\n            at org.apache.groovy.groovysh.Groovysh.&lt;init&gt;(Groovysh.groovy:113)\r\n            at org.apache.groovy.groovysh.Groovysh.&lt;init&gt;(Groovysh.groovy:102)\r\n            at org.apache.groovy.groovysh.Groovysh.&lt;init&gt;(Groovysh.groovy:142)\r\n            at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n            at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n            at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n            at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\r\n            at org.codehaus.groovy.reflection.CachedConstructor.invoke(CachedConstructor.java:72)\r\n            at org.codehaus.groovy.runtime.callsite.ConstructorSite$ConstructorSiteNoUnwrapNoCoerce.callConstructor(ConstructorSite.java:105)\r\n            at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallConstructor(CallSiteArray.java:59)\r\n            at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callConstructor(AbstractCallSite.java:263)\r\n            at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callConstructor(AbstractCallSite.java:286)\r\n            at org.apache.groovy.groovysh.Main.&lt;init&gt;(Main.groovy:66)\r\n            at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n            at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n            at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n            at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\r\n            at org.codehaus.groovy.reflection.CachedConstructor.invoke(CachedConstructor.java:72)\r\n            at org.codehaus.groovy.runtime.callsite.ConstructorSite$ConstructorSiteNoUnwrapNoCoerce.callConstructor(ConstructorSite.java:105)\r\n            at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallConstructor(CallSiteArray.java:59)\r\n            at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callConstructor(AbstractCallSite.java:263)\r\n            at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callConstructor(AbstractCallSite.java:286)\r\n            at org.apache.groovy.groovysh.Main.main(Main.groovy:155)\r\n            ... 6 more\r\n\r\nThank you for any idea!","title":"Groovy not running scripts presumably because of permissions","body":"<p>The change occurred after upgrading Debian</p>\n<p>Ahead all descriptions:</p>\n<ul>\n<li><p>the root user has no problems; Groovy is doing as expected</p>\n</li>\n<li><p>the normal user\n-- can run java programs and grails projects\n-- but groovy would not run a script any more?!</p>\n</li>\n</ul>\n<p>Extract from printenv:</p>\n<pre><code>GRAILS_HOME=/usr/local/lib/grails\nGROOVY_HOME=/usr/local/lib/groovy\nJAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64\nJDK_HOME=/usr/lib/jvm/java-11-openjdk-amd64\nJRE_HOME=/usr/lib/jvm/java-11-openjdk-amd64\n</code></pre>\n<p>All needed is in the PATH and the file permissions in JAVA_HOME and GROOVY_HOME are OK:</p>\n<pre><code>$ java --version\nopenjdk 11.0.13 2021-10-19\nOpenJDK Runtime Environment (build 11.0.13+8-post-Debian-1)\nOpenJDK 64-Bit Server VM (build 11.0.13+8-post-Debian-1, mixed mode, sharing)\n\n$ groovy --version\nGroovy Version: 3.0.9 JVM: 11.0.13 Vendor: Debian OS: Linux\n</code></pre>\n<p>But no script will be run any more for the normal user:</p>\n<pre><code>groovy -e='println &quot;OK&quot;' ## or\ngroovy my_script.groovy\n\nCaught: java.lang.NoClassDefFoundError: Unable to load class groovyx.javafx.extension.NumberExtension due to missing dependency javafx/beans/value/ObservableNumberValue\njava.lang.NoClassDefFoundError: Unable to load class groovyx.javafx.extension.NumberExtension due to missing dependency javafx/beans/value/ObservableNumberValue\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n</code></pre>\n<p>The same error will be thrown in the groovyConsole for the simple println &quot;OK&quot;</p>\n<p>groovysh is more terrifying:</p>\n<pre><code>$groovysh\n\njava.lang.reflect.InvocationTargetException\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at org.codehaus.groovy.tools.GroovyStarter.rootLoader(GroovyStarter.java:111)\n        at org.codehaus.groovy.tools.GroovyStarter.main(GroovyStarter.java:129)\nCaused by: java.lang.NoClassDefFoundError: Unable to load class groovyx.javafx.extension.NumberExtension due to missing dependency javafx/beans/value/ObservableNumberValue\n        at org.codehaus.groovy.vmplugin.v8.Java8.configureClassNode(Java8.java:460)\n        at org.codehaus.groovy.ast.ClassNode.lazyClassInit(ClassNode.java:273)\n        at org.codehaus.groovy.ast.ClassNode.getMethods(ClassNode.java:395)\n        at org.codehaus.groovy.transform.stc.AbstractExtensionMethodCache.scan(AbstractExtensionMethodCache.java:116)\n        at org.codehaus.groovy.transform.stc.AbstractExtensionMethodCache.getMethods(AbstractExtensionMethodCache.java:97)\n        at org.codehaus.groovy.transform.stc.AbstractExtensionMethodCache.getMethodsFromClassLoader(AbstractExtensionMethodCache.java:73)\n        at org.codehaus.groovy.runtime.memoize.StampedCommonCache.compute(StampedCommonCache.java:163)\n        at org.codehaus.groovy.runtime.memoize.StampedCommonCache.getAndPut(StampedCommonCache.java:154)\n        at org.codehaus.groovy.runtime.memoize.StampedCommonCache.getAndPut(StampedCommonCache.java:115)\n        at org.codehaus.groovy.transform.stc.AbstractExtensionMethodCache.get(AbstractExtensionMethodCache.java:51)\n        at org.codehaus.groovy.macro.transform.MacroCallTransformingVisitor.findMacroMethods(MacroCallTransformingVisitor.java:119)\n        at org.codehaus.groovy.macro.transform.MacroCallTransformingVisitor.visitMethodCallExpression(MacroCallTransformingVisitor.java:90)\n        at org.codehaus.groovy.ast.expr.MethodCallExpression.visit(MethodCallExpression.java:76)\n        at org.codehaus.groovy.ast.GroovyCodeVisitor.lambda$visitListOfExpressions$0(GroovyCodeVisitor.java:202)\n        at java.base/java.lang.Iterable.forEach(Iterable.java:75)\n        at org.codehaus.groovy.ast.GroovyCodeVisitor.visitListOfExpressions(GroovyCodeVisitor.java:202)\n        at org.codehaus.groovy.ast.CodeVisitorSupport.visitTupleExpression(CodeVisitorSupport.java:249)\n        at org.codehaus.groovy.ast.CodeVisitorSupport.visitArgumentlistExpression(CodeVisitorSupport.java:367)\n        at org.codehaus.groovy.ast.expr.ArgumentListExpression.visit(ArgumentListExpression.java:73)\n        at org.codehaus.groovy.ast.CodeVisitorSupport.visitMethodCallExpression(CodeVisitorSupport.java:186)\n        at org.codehaus.groovy.macro.transform.MacroCallTransformingVisitor.visitMethodCallExpression(MacroCallTransformingVisitor.java:81)\n        at org.codehaus.groovy.ast.expr.MethodCallExpression.visit(MethodCallExpression.java:76)\n        at org.codehaus.groovy.ast.CodeVisitorSupport.visitBinaryExpression(CodeVisitorSupport.java:202)\n        at org.codehaus.groovy.ast.CodeVisitorSupport.visitDeclarationExpression(CodeVisitorSupport.java:335)\n        at org.codehaus.groovy.ast.ClassCodeVisitorSupport.visitDeclarationExpression(ClassCodeVisitorSupport.java:150)\n        at org.codehaus.groovy.ast.expr.DeclarationExpression.visit(DeclarationExpression.java:89)\n        at org.codehaus.groovy.ast.CodeVisitorSupport.visitExpressionStatement(CodeVisitorSupport.java:117)\n        at org.codehaus.groovy.ast.ClassCodeVisitorSupport.visitExpressionStatement(ClassCodeVisitorSupport.java:200)\n        at org.codehaus.groovy.ast.stmt.ExpressionStatement.visit(ExpressionStatement.java:40)\n        at org.codehaus.groovy.ast.CodeVisitorSupport.visitBlockStatement(CodeVisitorSupport.java:86)\n        at org.codehaus.groovy.ast.ClassCodeVisitorSupport.visitBlockStatement(ClassCodeVisitorSupport.java:164)\n        at org.codehaus.groovy.ast.stmt.BlockStatement.visit(BlockStatement.java:69)\n        at org.codehaus.groovy.ast.MethodCallTransformation.visit(MethodCallTransformation.java:42)\n        at org.codehaus.groovy.transform.ASTTransformationVisitor.lambda$addPhaseOperationsForGlobalTransforms$4(ASTTransformationVisitor.java:337)\n        at org.codehaus.groovy.control.CompilationUnit$ISourceUnitOperation.doPhaseOperation(CompilationUnit.java:901)\n        at org.codehaus.groovy.control.CompilationUnit.processPhaseOperations(CompilationUnit.java:671)\n        at org.codehaus.groovy.control.CompilationUnit.compile(CompilationUnit.java:635)\n        at groovy.lang.GroovyClassLoader.doParseClass(GroovyClassLoader.java:389)\n        at groovy.lang.GroovyClassLoader.lambda$parseClass$3(GroovyClassLoader.java:332)\n        at org.codehaus.groovy.runtime.memoize.StampedCommonCache.compute(StampedCommonCache.java:163)\n        at org.codehaus.groovy.runtime.memoize.StampedCommonCache.getAndPut(StampedCommonCache.java:154)\n        at groovy.lang.GroovyClassLoader.parseClass(GroovyClassLoader.java:330)\n        at groovy.lang.GroovyShell.parseClass(GroovyShell.java:526)\n        at groovy.lang.GroovyShell.parse(GroovyShell.java:538)\n        at groovy.lang.GroovyShell.evaluate(GroovyShell.java:426)\n        at groovy.lang.GroovyShell.evaluate(GroovyShell.java:461)\n        at groovy.lang.GroovyShell.evaluate(GroovyShell.java:436)\n        at org.apache.groovy.groovysh.util.PackageHelperImpl.getPackagesAndClassesFromJigsaw(PackageHelperImpl.groovy:153)\n        at org.apache.groovy.groovysh.util.PackageHelperImpl.getPackages(PackageHelperImpl.groovy:127)\n        at org.apache.groovy.groovysh.util.PackageHelperImpl.initializePackages(PackageHelperImpl.groovy:64)\n        at org.apache.groovy.groovysh.util.PackageHelperImpl.&lt;init&gt;(PackageHelperImpl.groovy:53)\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\n        at org.codehaus.groovy.reflection.CachedConstructor.invoke(CachedConstructor.java:72)\n        at org.codehaus.groovy.runtime.callsite.ConstructorSite$ConstructorSiteNoUnwrapNoCoerce.callConstructor(ConstructorSite.java:105)\n        at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallConstructor(CallSiteArray.java:59)\n        at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callConstructor(AbstractCallSite.java:263)\n        at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callConstructor(AbstractCallSite.java:277)\n        at org.apache.groovy.groovysh.Groovysh.&lt;init&gt;(Groovysh.groovy:113)\n        at org.apache.groovy.groovysh.Groovysh.&lt;init&gt;(Groovysh.groovy:102)\n        at org.apache.groovy.groovysh.Groovysh.&lt;init&gt;(Groovysh.groovy:142)\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\n        at org.codehaus.groovy.reflection.CachedConstructor.invoke(CachedConstructor.java:72)\n        at org.codehaus.groovy.runtime.callsite.ConstructorSite$ConstructorSiteNoUnwrapNoCoerce.callConstructor(ConstructorSite.java:105)\n        at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallConstructor(CallSiteArray.java:59)\n        at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callConstructor(AbstractCallSite.java:263)\n        at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callConstructor(AbstractCallSite.java:286)\n        at org.apache.groovy.groovysh.Main.&lt;init&gt;(Main.groovy:66)\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\n        at org.codehaus.groovy.reflection.CachedConstructor.invoke(CachedConstructor.java:72)\n        at org.codehaus.groovy.runtime.callsite.ConstructorSite$ConstructorSiteNoUnwrapNoCoerce.callConstructor(ConstructorSite.java:105)\n        at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallConstructor(CallSiteArray.java:59)\n        at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callConstructor(AbstractCallSite.java:263)\n        at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callConstructor(AbstractCallSite.java:286)\n        at org.apache.groovy.groovysh.Main.main(Main.groovy:155)\n        ... 6 more\n</code></pre>\n<p>Thank you for any idea!</p>\n"},{"tags":["javascript","java","node.js","typescript","mongodb"],"answers":[{"tags":[],"owner":{"account_id":15370995,"reputation":1108,"user_id":11089028,"display_name":"Aks"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637063969,"creation_date":1637063969,"answer_id":69988767,"question_id":69988228,"body_markdown":"You can try this:\r\n```\r\nlet getData = async () =&gt; {\r\n  try {\r\n    let pincodeData = await Pincode.find({}).exec()\r\n    if (pincodeData.length &lt; 1) {\r\n      return res.send({&quot;error&quot;: true, &quot;message&quot;: &quot;No data found&quot;});\r\n    }\r\n    await Promise.all(\r\n      pincodeData.map(async (x) =&gt; {\r\n        let getUserData = await User.findOne(\r\n          { _id: ObjectId(x.user_id) },\r\n          { _id: 0, username: 1}\r\n        ).exec();\r\n        x.user_id: &#39;Unknown&#39;;\r\n        if (getUserData) {\r\n          x.user_id: getUserData.username;\r\n        }\r\n      })\r\n    )\r\n    return res.send({ &quot;error&quot;: false, &quot;message&quot;: &quot;Data found&quot;, &quot;data&quot;: pincodeData });\r\n  } catch (error) {\r\n    return res.send({ &quot;error&quot;: true, &quot;message&quot;: &quot;No data found&quot; });\r\n  }\r\n}\r\ngetData()\r\n```","title":"MongoDB loading +3000 entries data pagination","body":"<p>You can try this:</p>\n<pre><code>let getData = async () =&gt; {\n  try {\n    let pincodeData = await Pincode.find({}).exec()\n    if (pincodeData.length &lt; 1) {\n      return res.send({&quot;error&quot;: true, &quot;message&quot;: &quot;No data found&quot;});\n    }\n    await Promise.all(\n      pincodeData.map(async (x) =&gt; {\n        let getUserData = await User.findOne(\n          { _id: ObjectId(x.user_id) },\n          { _id: 0, username: 1}\n        ).exec();\n        x.user_id: 'Unknown';\n        if (getUserData) {\n          x.user_id: getUserData.username;\n        }\n      })\n    )\n    return res.send({ &quot;error&quot;: false, &quot;message&quot;: &quot;Data found&quot;, &quot;data&quot;: pincodeData });\n  } catch (error) {\n    return res.send({ &quot;error&quot;: true, &quot;message&quot;: &quot;No data found&quot; });\n  }\n}\ngetData()\n</code></pre>\n"}],"owner":{"account_id":23354538,"reputation":95,"user_id":17427691,"display_name":"polarium"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69988767,"answer_count":1,"score":0,"last_activity_date":1637149880,"creation_date":1637061820,"question_id":69988228,"body_markdown":"I have to serve an HTML tables with more than 3000 results, getting MachineID, Username, Data from my MongoDB. BUT, i&#39;m having a problem when im rendering the data to datatables. \r\n\r\nThe Data and MachineID comes from model/table Logs, and the Username comes from User. The relation between them will be user_id from Logs and the _id object from User.\r\n\r\nAs you can see on my query, im trying to compare pc.user_id with the object _id of parent table, to get the username of that process.\r\n\r\nMy query: \r\n\r\n    Pincode.find({}).exec(async (err: any, pincodes: any) =&gt; { \r\n            for (var pc of pincodes){\r\n                var uid = pc.user_id;\r\n                var res = await User.findById({ _id:ObjectId(uid) },&#39;username&#39;).exec();\r\n                if(res!= null){\r\n                    pc.user_id = res.username\r\n                }else{\r\n                    pc.user_id = &quot;Unknown&quot;\r\n                }\r\n            }\r\n\r\nBut this is slowing SO much my query because im looping trhougt all +3000 documents.\r\n\r\nThanks for your answers,","title":"MongoDB loading +3000 entries data pagination","body":"<p>I have to serve an HTML tables with more than 3000 results, getting MachineID, Username, Data from my MongoDB. BUT, i'm having a problem when im rendering the data to datatables.</p>\n<p>The Data and MachineID comes from model/table Logs, and the Username comes from User. The relation between them will be user_id from Logs and the _id object from User.</p>\n<p>As you can see on my query, im trying to compare pc.user_id with the object _id of parent table, to get the username of that process.</p>\n<p>My query:</p>\n<pre><code>Pincode.find({}).exec(async (err: any, pincodes: any) =&gt; { \n        for (var pc of pincodes){\n            var uid = pc.user_id;\n            var res = await User.findById({ _id:ObjectId(uid) },'username').exec();\n            if(res!= null){\n                pc.user_id = res.username\n            }else{\n                pc.user_id = &quot;Unknown&quot;\n            }\n        }\n</code></pre>\n<p>But this is slowing SO much my query because im looping trhougt all +3000 documents.</p>\n<p>Thanks for your answers,</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":2,"creation_date":1637148488,"post_id":70003550,"comment_id":123746526,"body_markdown":"Does this answer your question? [What&#39;s the simplest way to print a Java array?](https://stackoverflow.com/questions/409784/whats-the-simplest-way-to-print-a-java-array)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/409784/whats-the-simplest-way-to-print-a-java-array\">What&#39;s the simplest way to print a Java array?</a>"},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":0,"creation_date":1637148966,"post_id":70003550,"comment_id":123746674,"body_markdown":"You initialize `field` as an empty `long[]`. You then assign `long[] result = field`. So `result` now references an empty `long[]` as well. You then print `result`, which then of course prints an empty array. What are you expecting? You might want to call your `add()` method.","body":"You initialize <code>field</code> as an empty <code>long[]</code>. You then assign <code>long[] result = field</code>. So <code>result</code> now references an empty <code>long[]</code> as well. You then print <code>result</code>, which then of course prints an empty array. What are you expecting? You might want to call your <code>add()</code> method."},{"owner":{"account_id":23198715,"reputation":11,"user_id":17293912,"display_name":"kololo"},"score":0,"creation_date":1637149310,"post_id":70003550,"comment_id":123746806,"body_markdown":"actually i commented out the lines where result is initialized and printed I called field directly using System.out.println(Arrays.toString(field)); and that still prints an empty array.","body":"actually i commented out the lines where result is initialized and printed I called field directly using System.out.println(Arrays.toString(field)); and that still prints an empty array."},{"owner":{"account_id":23198715,"reputation":11,"user_id":17293912,"display_name":"kololo"},"score":0,"creation_date":1637149375,"post_id":70003550,"comment_id":123746836,"body_markdown":"so what you are saying is call add() instead of field, but the goal is to call field and print the value added in add()","body":"so what you are saying is call add() instead of field, but the goal is to call field and print the value added in add()"}],"answers":[{"tags":[],"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637149834,"creation_date":1637149481,"answer_id":70003814,"question_id":70003550,"body_markdown":"In java, print arrays using `Arrays.toString()`. However, there is more to be fixed here.\r\n\r\nYou initialize `field` as an empty `long[]`. After that, you assign `long[] result = field`. So `result` now references an empty `long[]` as well. You then print `result`, which then of course prints an empty array. \r\n\r\nTo see your array change, yo might want to actually call your `add()` method.\r\n\r\nFor example:\r\n```java\r\npublic static void main(String[] args) {\r\n    add(1);\r\n    System.out.println(Arrays.toString(field));\r\n}\r\n```\r\n\r\nWhich then prints:\r\n\r\n    [1]\r\n\r\nHowever you have an issue in your `add()` method. If you add more than one value, it  always overwrites the value at index 0. Due to this line: `f1[0]= l`\r\n\r\nSo, what you might actually want to do is to add the new value at the end of the array, meaning at the index that you just increased by 1.\r\n\r\nSo you want to change this line of code:\r\n```java\r\nf1[0] = l;\r\n```\r\nto\r\n```java\r\nf1[field.length] = l;\r\n```\r\nThe &quot;final&quot; snippet:\r\n```java\r\nstatic long[] field = new long[] {};\r\n\r\nstatic void add(long l) {\r\n    long[] f1 = new long[field.length + 1];\r\n    System.arraycopy(field, 0, f1, 0, field.length);\r\n    f1[field.length] = l;\r\n    field = f1;\r\n}\r\n\r\npublic static void main(String[] args) {\r\n    add(1);\r\n    System.out.println(Arrays.toString(field));\r\n    add(3);\r\n    System.out.println(Arrays.toString(field));\r\n}\r\n```\r\n\r\nPrints the following output:\r\n\r\n    [1]\r\n    [1, 3]","title":"appending element to an empty array using a new one from another method","body":"<p>In java, print arrays using <code>Arrays.toString()</code>. However, there is more to be fixed here.</p>\n<p>You initialize <code>field</code> as an empty <code>long[]</code>. After that, you assign <code>long[] result = field</code>. So <code>result</code> now references an empty <code>long[]</code> as well. You then print <code>result</code>, which then of course prints an empty array.</p>\n<p>To see your array change, yo might want to actually call your <code>add()</code> method.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    add(1);\n    System.out.println(Arrays.toString(field));\n}\n</code></pre>\n<p>Which then prints:</p>\n<pre><code>[1]\n</code></pre>\n<p>However you have an issue in your <code>add()</code> method. If you add more than one value, it  always overwrites the value at index 0. Due to this line: <code>f1[0]= l</code></p>\n<p>So, what you might actually want to do is to add the new value at the end of the array, meaning at the index that you just increased by 1.</p>\n<p>So you want to change this line of code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>f1[0] = l;\n</code></pre>\n<p>to</p>\n<pre class=\"lang-java prettyprint-override\"><code>f1[field.length] = l;\n</code></pre>\n<p>The &quot;final&quot; snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static long[] field = new long[] {};\n\nstatic void add(long l) {\n    long[] f1 = new long[field.length + 1];\n    System.arraycopy(field, 0, f1, 0, field.length);\n    f1[field.length] = l;\n    field = f1;\n}\n\npublic static void main(String[] args) {\n    add(1);\n    System.out.println(Arrays.toString(field));\n    add(3);\n    System.out.println(Arrays.toString(field));\n}\n</code></pre>\n<p>Prints the following output:</p>\n<pre><code>[1]\n[1, 3]\n</code></pre>\n"}],"owner":{"account_id":23198715,"reputation":11,"user_id":17293912,"display_name":"kololo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1637256874,"answer_count":1,"score":0,"last_activity_date":1637149834,"creation_date":1637148441,"question_id":70003550,"body_markdown":"As the code shows field os an empty array that I want to populate with the value l from another method I used arraycopy method and set the first array to point to the new added value but the output is gibberish .\r\n\r\nOutput: \r\n\r\n    [J@7dc5e7b4\r\n\r\nI have tried with `System.out.println(Arrays.toString(field));` but all it prints out is this [] empty brackets.\r\n\r\n```java\r\nimport java.util.*;\r\n\r\npublic class Aufgabe_04_02 {\r\n\r\n\tstatic long[] field = new long[]{};\r\n\t\r\n\tstatic void add(long l) {\r\n\t    long[] f1 = new long[field.length + 1];\r\n\t    System.arraycopy(field, 0, f1, 0, field.length);\r\n\t    f1[0]= l;\r\n\t    field= f1;\t\r\n\t}// end add(longl)\r\n\t\r\n    public static void main(String[] args) {\r\n\t    long[] result = field;\r\n\t    System.out.println(result);\r\n\t}// end main\r\n \r\n}// end class\r\n```","title":"appending element to an empty array using a new one from another method","body":"<p>As the code shows field os an empty array that I want to populate with the value l from another method I used arraycopy method and set the first array to point to the new added value but the output is gibberish .</p>\n<p>Output:</p>\n<pre><code>[J@7dc5e7b4\n</code></pre>\n<p>I have tried with <code>System.out.println(Arrays.toString(field));</code> but all it prints out is this [] empty brackets.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n\npublic class Aufgabe_04_02 {\n\n    static long[] field = new long[]{};\n    \n    static void add(long l) {\n        long[] f1 = new long[field.length + 1];\n        System.arraycopy(field, 0, f1, 0, field.length);\n        f1[0]= l;\n        field= f1;  \n    }// end add(longl)\n    \n    public static void main(String[] args) {\n        long[] result = field;\n        System.out.println(result);\n    }// end main\n \n}// end class\n</code></pre>\n"},{"tags":["java","excel","nullpointerexception","apache-poi","xlsx"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":1,"creation_date":1637149360,"post_id":70003753,"comment_id":123746828,"body_markdown":"Check for a null cell or a cell of type blank?","body":"Check for a null cell or a cell of type blank?"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1637150284,"post_id":70003753,"comment_id":123747162,"body_markdown":"`Row.getCell` returns `null` if the cell does not exists in the row. That means for Office Open XML (`*.xlsx`) there is no `c` element for this cell as child in `row` element. Files in `*.xlsx` format are simple `ZIP` archives. So you can unzip the `*.xlsx` file to see this. You will find something like `...&lt;row r =&quot;3&quot;...&gt;&lt;c r=&quot;A3&quot;...&gt;&lt;c r=&quot;C3&quot;...&gt;...&lt;/row&gt;...` - there is no `B3`. One has no chance to determine **why** that cell does not exists nor whether it had existed before.","body":"<code>Row.getCell</code> returns <code>null</code> if the cell does not exists in the row. That means for Office Open XML (<code>*.xlsx</code>) there is no <code>c</code> element for this cell as child in <code>row</code> element. Files in <code>*.xlsx</code> format are simple <code>ZIP</code> archives. So you can unzip the <code>*.xlsx</code> file to see this. You will find something like <code>...&lt;row r =&quot;3&quot;...&gt;&lt;c r=&quot;A3&quot;...&gt;&lt;c r=&quot;C3&quot;...&gt;...&lt;&#47;row&gt;...</code> - there is no <code>B3</code>. One has no chance to determine <b>why</b> that cell does not exists nor whether it had existed before."},{"owner":{"account_id":14610227,"reputation":65,"user_id":10551914,"display_name":"Eric van Coffee"},"score":0,"creation_date":1637152449,"post_id":70003753,"comment_id":123748117,"body_markdown":"@AxelRichter: Thanks, that makes a lot of sense. I had the idea to verify if the number of cells in a row are equal to the value of `numColumns`. So I called `row.getPhysicalNumberOfCells()` but it returns `2` although the entire row is empty.","body":"@AxelRichter: Thanks, that makes a lot of sense. I had the idea to verify if the number of cells in a row are equal to the value of <code>numColumns</code>. So I called <code>row.getPhysicalNumberOfCells()</code> but it returns <code>2</code> although the entire row is empty."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1637152779,"post_id":70003753,"comment_id":123748258,"body_markdown":"Then there are two empty cells in the row. But for those cells `Row.getCell` should not return `null`, except [Row.MissingCellPolicy.RETURN_BLANK_AS_NULL](https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Row.MissingCellPolicy.html#RETURN_BLANK_AS_NULL) is used. But nothing in your provided code shows this.","body":"Then there are two empty cells in the row. But for those cells <code>Row.getCell</code> should not return <code>null</code>, except <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Row.MissingCellPolicy.html#RETURN_BLANK_AS_NULL\" rel=\"nofollow noreferrer\">Row.MissingCellPolicy.RETURN_BLANK_AS_NULL</a> is used. But nothing in your provided code shows this."},{"owner":{"account_id":14610227,"reputation":65,"user_id":10551914,"display_name":"Eric van Coffee"},"score":0,"creation_date":1637154006,"post_id":70003753,"comment_id":123748779,"body_markdown":"@AxelRichter: I do not understand how there could be two cells in the row when I used the same way to remove the content which in other cases would lead to `(cell == null) == true`","body":"@AxelRichter: I do not understand how there could be two cells in the row when I used the same way to remove the content which in other cases would lead to <code>(cell == null) == true</code>"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1637154712,"post_id":70003753,"comment_id":123749097,"body_markdown":"I also do not know why `Excel` sometimes decides to totally remove cells  but sometimes decides to only emptying the cells. I doubt someone except the `Microsoft` programmers will know this. I doubt it is documented somewhere.","body":"I also do not know why <code>Excel</code> sometimes decides to totally remove cells  but sometimes decides to only emptying the cells. I doubt someone except the <code>Microsoft</code> programmers will know this. I doubt it is documented somewhere."}],"owner":{"account_id":14610227,"reputation":65,"user_id":10551914,"display_name":"Eric van Coffee"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1268,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637149264,"creation_date":1637149264,"question_id":70003753,"body_markdown":"I am reading an Excel spreadsheet (XLSX) file with Apache POI and I noticed when I open the file in Excel directly and remove the entire content of one row by emptying the cells, save the file, and close the file, the cells of the row from which I removed content from are ```null``` on code level.\r\n\r\n**Note**: a cell is also ```null``` when it was never filled with any content\r\n\r\nIn the code, I do the following with Apache POI: \r\n 1. Read ```workbook``` from file\r\n 2. Read ```sheet``` from ```workbook```\r\n 3. Iterate over ```row```s of ```sheet```\r\n 4. Iterate over ```cell```s of ```row```\r\n 5. Check if ```cell == null```\r\n\r\n**My method**\r\n```\r\nif (sheet == null) {\r\n    log.error(&quot;Sheet is null!&quot;);\r\n    return false;\r\n}\r\n\r\n//TODO: when content is deleted from excel instead of deleting entire rows, the cells in those rows are &#39;null&#39;\r\nvar valid = true;\r\nfor (Row row : sheet) {\r\n    // rowNum starts at 1 if header row was removed\r\n    int rowNum = row.getRowNum();\r\n\r\n    for (var i = 0; i &lt; numColumns; i++) {\r\n        final var cell = row.getCell(i);\r\n        if (cell == null) {\r\n            log.error(&quot;Cell {}{} is null or empty!&quot;,  Character.toString(&#39;A&#39; + i), rowNum + 1);\r\n            valid = false;\r\n            continue;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**Apache POI JavaDoc of method Row.getCell(int cellNum)**\r\n```\r\n/**\r\n * Get the cell representing a given column (logical cell) 0-based.  If you\r\n * ask for a cell that is not defined....you get a null.\r\n *\r\n * @param cellnum  0 based column number\r\n * @return Cell representing that column or null if undefined.\r\n * @see #getCell(int, org.apache.poi.ss.usermodel.Row.MissingCellPolicy)\r\n */\r\nCell getCell(int cellnum);\r\n```\r\nIn the beginning, I thought that only cells that never had any content before are ```null``` (&quot;undefined&quot;) but it seems that even cells that had content before are null.\r\n\r\n**My issue here** is, I cannot differentiated between the case that a cell just was not filled correctly (cell never had any content) and the case that content was intentionally removed (cell did have content before) from the Excel.\r\nA cell that is ```null``` suggests to a user the latter: some cell was not filled in the Excel; but a cell that is ```null``` with a cell address where no content is supposed to be, because the content was removed, is confusing to my opinion.\r\n\r\n**Workaround**: instead of removing the entire content from a row, you can delete the row all together. But getting all users to do that is unrealistic. The natural thing is to remove the content, not delete the row.\r\n\r\nAny ideas? Thank you!","title":"Apache POI: Cell in Row is null when content was removed in Microsoft Excel","body":"<p>I am reading an Excel spreadsheet (XLSX) file with Apache POI and I noticed when I open the file in Excel directly and remove the entire content of one row by emptying the cells, save the file, and close the file, the cells of the row from which I removed content from are <code>null</code> on code level.</p>\n<p><strong>Note</strong>: a cell is also <code>null</code> when it was never filled with any content</p>\n<p>In the code, I do the following with Apache POI:</p>\n<ol>\n<li>Read <code>workbook</code> from file</li>\n<li>Read <code>sheet</code> from <code>workbook</code></li>\n<li>Iterate over <code>row</code>s of <code>sheet</code></li>\n<li>Iterate over <code>cell</code>s of <code>row</code></li>\n<li>Check if <code>cell == null</code></li>\n</ol>\n<p><strong>My method</strong></p>\n<pre><code>if (sheet == null) {\n    log.error(&quot;Sheet is null!&quot;);\n    return false;\n}\n\n//TODO: when content is deleted from excel instead of deleting entire rows, the cells in those rows are 'null'\nvar valid = true;\nfor (Row row : sheet) {\n    // rowNum starts at 1 if header row was removed\n    int rowNum = row.getRowNum();\n\n    for (var i = 0; i &lt; numColumns; i++) {\n        final var cell = row.getCell(i);\n        if (cell == null) {\n            log.error(&quot;Cell {}{} is null or empty!&quot;,  Character.toString('A' + i), rowNum + 1);\n            valid = false;\n            continue;\n        }\n    }\n}\n</code></pre>\n<p><strong>Apache POI JavaDoc of method Row.getCell(int cellNum)</strong></p>\n<pre><code>/**\n * Get the cell representing a given column (logical cell) 0-based.  If you\n * ask for a cell that is not defined....you get a null.\n *\n * @param cellnum  0 based column number\n * @return Cell representing that column or null if undefined.\n * @see #getCell(int, org.apache.poi.ss.usermodel.Row.MissingCellPolicy)\n */\nCell getCell(int cellnum);\n</code></pre>\n<p>In the beginning, I thought that only cells that never had any content before are <code>null</code> (&quot;undefined&quot;) but it seems that even cells that had content before are null.</p>\n<p><strong>My issue here</strong> is, I cannot differentiated between the case that a cell just was not filled correctly (cell never had any content) and the case that content was intentionally removed (cell did have content before) from the Excel.\nA cell that is <code>null</code> suggests to a user the latter: some cell was not filled in the Excel; but a cell that is <code>null</code> with a cell address where no content is supposed to be, because the content was removed, is confusing to my opinion.</p>\n<p><strong>Workaround</strong>: instead of removing the entire content from a row, you can delete the row all together. But getting all users to do that is unrealistic. The natural thing is to remove the content, not delete the row.</p>\n<p>Any ideas? Thank you!</p>\n"},{"tags":["java","android","debugging","gradle","buildozer"],"owner":{"account_id":23365992,"reputation":21,"user_id":17437627,"display_name":"mordguy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":675,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1637148864,"creation_date":1637148864,"question_id":70003648,"body_markdown":"I&#39;m running buildozer, and gradle returns the error: \r\n\r\n```\r\n[INFO]:    Detected highest available build tools version to be 32.0.0-rc1\r\n[DEBUG]:   -&gt; running gradlew assembleDebug\r\n[DEBUG]:   \tStarting a Gradle Daemon (subsequent builds will be faster)\r\n[DEBUG]:   \t&gt; Task :checkDebugManifest FAILED\r\n[DEBUG]:   \t\r\n[DEBUG]:   \tFAILURE: Build failed with an exception.\r\n[DEBUG]:   \t\r\n[DEBUG]:   \t* What went wrong:\r\n[DEBUG]:   \tA problem was found with the configuration of task &#39;:checkDebugManifest&#39; (type &#39;CheckManifest&#39;).\r\n[DEBUG]:   \t  - In plugin &#39;com.android.build.gradle.api.AndroidBasePlugin&#39; type &#39;com.android.build.gradle.internal.tasks.CheckManifest&#39; property &#39;manifest&#39; has @Input annotation used on property of type &#39;File&#39;.\r\n[DEBUG]:   \t\r\n[DEBUG]:   \t    Reason: A property of type &#39;File&#39; annotated with @Input cannot determine how to interpret the file.\r\n[DEBUG]:   \t\r\n[DEBUG]:   \t    Possible solutions:\r\n[DEBUG]:   \t      1. Annotate with @InputFile for regular files.\r\n[DEBUG]:   \t      2. Annotate with @InputDirectory for directories.\r\n[DEBUG]:   \t      3. If you want to track the path, return File.absolutePath as a String and keep @Input.\r\n[DEBUG]:   \t\r\n[DEBUG]:   \t    Please refer to https://docs.gradle.org/7.3/userguide/validation_problems.html#incorrect_use_of_input_annotation for more details about this problem.\r\n[DEBUG]:   \t\r\n[DEBUG]:   \t* Try:\r\n[DEBUG]:   \t&gt; Run with --stacktrace option to get the stack trace.\r\n[DEBUG]:   \t&gt; Run with --info or --debug option to get more log output.\r\n[DEBUG]:   \t&gt; Run with --scan to get full insights.\r\n[DEBUG]:   \t\r\n[DEBUG]:   \t* Get more help at https://help.gradle.org\r\n[DEBUG]:   \t\r\n[DEBUG]:   \tDeprecated Gradle features were used in this build, making it incompatible with Gradle 8.0.\r\n[DEBUG]:   \t\r\n[DEBUG]:   \tYou can use &#39;--warning-mode all&#39; to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\r\n[DEBUG]:   \t\r\n[DEBUG]:   \tSee https://docs.gradle.org/7.3/userguide/command_line_interface.html#sec:command_line_warnings\r\n[DEBUG]:   \t\r\n[DEBUG]:   \tBUILD FAILED in 57s\r\n[DEBUG]:   \t1 actionable task: 1 executed\r\n```\r\n\r\nThe [docs](https://docs.gradle.org/current/javadoc/org/gradle/api/tasks/Input.html) nor other discussions over the matter have been helpful. Where should the changes described be made?","title":"Gradle checkDebugManifest failing","body":"<p>I'm running buildozer, and gradle returns the error:</p>\n<pre><code>[INFO]:    Detected highest available build tools version to be 32.0.0-rc1\n[DEBUG]:   -&gt; running gradlew assembleDebug\n[DEBUG]:    Starting a Gradle Daemon (subsequent builds will be faster)\n[DEBUG]:    &gt; Task :checkDebugManifest FAILED\n[DEBUG]:    \n[DEBUG]:    FAILURE: Build failed with an exception.\n[DEBUG]:    \n[DEBUG]:    * What went wrong:\n[DEBUG]:    A problem was found with the configuration of task ':checkDebugManifest' (type 'CheckManifest').\n[DEBUG]:      - In plugin 'com.android.build.gradle.api.AndroidBasePlugin' type 'com.android.build.gradle.internal.tasks.CheckManifest' property 'manifest' has @Input annotation used on property of type 'File'.\n[DEBUG]:    \n[DEBUG]:        Reason: A property of type 'File' annotated with @Input cannot determine how to interpret the file.\n[DEBUG]:    \n[DEBUG]:        Possible solutions:\n[DEBUG]:          1. Annotate with @InputFile for regular files.\n[DEBUG]:          2. Annotate with @InputDirectory for directories.\n[DEBUG]:          3. If you want to track the path, return File.absolutePath as a String and keep @Input.\n[DEBUG]:    \n[DEBUG]:        Please refer to https://docs.gradle.org/7.3/userguide/validation_problems.html#incorrect_use_of_input_annotation for more details about this problem.\n[DEBUG]:    \n[DEBUG]:    * Try:\n[DEBUG]:    &gt; Run with --stacktrace option to get the stack trace.\n[DEBUG]:    &gt; Run with --info or --debug option to get more log output.\n[DEBUG]:    &gt; Run with --scan to get full insights.\n[DEBUG]:    \n[DEBUG]:    * Get more help at https://help.gradle.org\n[DEBUG]:    \n[DEBUG]:    Deprecated Gradle features were used in this build, making it incompatible with Gradle 8.0.\n[DEBUG]:    \n[DEBUG]:    You can use '--warning-mode all' to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\n[DEBUG]:    \n[DEBUG]:    See https://docs.gradle.org/7.3/userguide/command_line_interface.html#sec:command_line_warnings\n[DEBUG]:    \n[DEBUG]:    BUILD FAILED in 57s\n[DEBUG]:    1 actionable task: 1 executed\n</code></pre>\n<p>The <a href=\"https://docs.gradle.org/current/javadoc/org/gradle/api/tasks/Input.html\" rel=\"nofollow noreferrer\">docs</a> nor other discussions over the matter have been helpful. Where should the changes described be made?</p>\n"},{"tags":["java","batch-file","jenkins","jenkins-pipeline"],"comments":[{"owner":{"account_id":10616496,"reputation":22895,"user_id":7818749,"display_name":"Gerhard"},"score":0,"creation_date":1637150387,"post_id":70003633,"comment_id":123747196,"body_markdown":"Because you are using it incorrectly, like the error message states. Let me go find some of my automation scripts I used and show you.","body":"Because you are using it incorrectly, like the error message states. Let me go find some of my automation scripts I used and show you."},{"owner":{"account_id":1431309,"reputation":244,"user_id":1353688,"display_name":"Bilawal Wajid Ali"},"score":0,"creation_date":1637155874,"post_id":70003633,"comment_id":123749613,"body_markdown":"but that same script when i run manually it works , i know something i m missing but not exactly reaching towards the error point","body":"but that same script when i run manually it works , i know something i m missing but not exactly reaching towards the error point"},{"owner":{"account_id":10616496,"reputation":22895,"user_id":7818749,"display_name":"Gerhard"},"score":1,"creation_date":1637156342,"post_id":70003633,"comment_id":123749811,"body_markdown":"`&quot;%JAVA_HOME%\\bin\\java&quot; -jar &quot;C:\\Jenkins\\agent.jar&quot; -jnlpUrl http://&lt;JENKINS-SERVER&gt;:8080/jenkins/computer/&lt;devicename&gt;/jenkins-agent.jnlp -secret &lt;secret&gt; -workDir &quot;&lt;workdir&gt;&quot;` That would be a normal way, you need to extract the secret key, which can be done simply by some tricks.","body":"<code>&quot;%JAVA_HOME%\\bin\\java&quot; -jar &quot;C:\\Jenkins\\agent.jar&quot; -jnlpUrl http:&#47;&#47;&lt;JENKINS-SERVER&gt;:8080&#47;jenkins&#47;computer&#47;&lt;devicename&gt;&#47;j&zwnj;&#8203;enkins-agent.jnlp -secret &lt;secret&gt; -workDir &quot;&lt;workdir&gt;&quot;</code> That would be a normal way, you need to extract the secret key, which can be done simply by some tricks."},{"owner":{"account_id":1431309,"reputation":244,"user_id":1353688,"display_name":"Bilawal Wajid Ali"},"score":0,"creation_date":1637156622,"post_id":70003633,"comment_id":123749967,"body_markdown":"I have secret key to launch jenkins agent , so what i understood is i have to change my bat file ? some thing like this :\nstart &quot;%JAVA_HOME%\\bin\\java&quot; -jar &quot;C:\\Jenkins\\agent.jar&quot; -jnlpUrl http://&lt;JENKINS-SERVER&gt;:8080/jenkins/computer/&lt;devicename&gt;/jenkins-agent.jnlp -secret &lt;secret&gt; -workDir &quot;&lt;workdir&gt;&quot;","body":"I have secret key to launch jenkins agent , so what i understood is i have to change my bat file ? some thing like this : start &quot;%JAVA_HOME%\\bin\\java&quot; -jar &quot;C:\\Jenkins\\agent.jar&quot; -jnlpUrl http://&lt;JENKINS-SERVER&gt;:8080/jenkins/computer/&lt;devicename&gt;/j&zwnj;&#8203;enkins-agent.jnlp -secret &lt;secret&gt; -workDir &quot;&lt;workdir&gt;&quot;"},{"owner":{"account_id":10616496,"reputation":22895,"user_id":7818749,"display_name":"Gerhard"},"score":0,"creation_date":1637157313,"post_id":70003633,"comment_id":123750320,"body_markdown":"yes, but obviously changing the values in `&lt;&gt;` fields to reflect your actual values.","body":"yes, but obviously changing the values in <code>&lt;&gt;</code> fields to reflect your actual values."},{"owner":{"account_id":10616496,"reputation":22895,"user_id":7818749,"display_name":"Gerhard"},"score":0,"creation_date":1637157822,"post_id":70003633,"comment_id":123750583,"body_markdown":"then to automate the startup (on system start) you can use `schtasks` something like this. `schtasks /create /tn &quot;JenkinsAgent&quot; /tr &quot;C:\\Jenkins\\agentStart.cmd&quot; /sc onstart /ru &quot;SYSTEM&quot; /np /f` where the `AgentStart.cmd` would reflect your batch-file with path. Then once of run: `schtasks /Run /TN &quot;JenkinsAgent&quot;` as initial startup.","body":"then to automate the startup (on system start) you can use <code>schtasks</code> something like this. <code>schtasks &#47;create &#47;tn &quot;JenkinsAgent&quot; &#47;tr &quot;C:\\Jenkins\\agentStart.cmd&quot; &#47;sc onstart &#47;ru &quot;SYSTEM&quot; &#47;np &#47;f</code> where the <code>AgentStart.cmd</code> would reflect your batch-file with path. Then once of run: <code>schtasks &#47;Run &#47;TN &quot;JenkinsAgent&quot;</code> as initial startup."},{"owner":{"account_id":9045527,"reputation":37191,"user_id":6738015,"display_name":"Compo"},"score":0,"creation_date":1637158192,"post_id":70003633,"comment_id":123750746,"body_markdown":"Also that should be `start &quot;&quot; &quot;%JAVA_HOME%\\bin\\java.exe&quot; -jar …`. Please note that you do need those empty double-quotes, and do not be lazy, use the extension `.exe`, as I have, it removes doubt, as to what is being run, and improves the speed too.","body":"Also that should be <code>start &quot;&quot; &quot;%JAVA_HOME%\\bin\\java.exe&quot; -jar …</code>. Please note that you do need those empty double-quotes, and do not be lazy, use the extension <code>.exe</code>, as I have, it removes doubt, as to what is being run, and improves the speed too."},{"owner":{"account_id":1431309,"reputation":244,"user_id":1353688,"display_name":"Bilawal Wajid Ali"},"score":0,"creation_date":1637227520,"post_id":70003633,"comment_id":123771332,"body_markdown":"When I run the following command i am getting following error\n&quot;-jar&quot; can not be found\nHere is my batch command : start &quot;&quot; &quot;%JAVA_HOME%\\bin\\java&quot; -jar &quot;C:\\Jenkins\\agent.jar&quot; -jnlpUrl http://localhost:7070/computer/test1/jenkins-agent.jnlp -secret 9a505463f64da16773784ce8ec0ae08f2cf79e9121cd20aafeab8ccd1a50d6b1 -workDir &quot;C:\\Jenkins\\&quot;","body":"When I run the following command i am getting following error &quot;-jar&quot; can not be found Here is my batch command : start &quot;&quot; &quot;%JAVA_HOME%\\bin\\java&quot; -jar &quot;C:\\Jenkins\\agent.jar&quot; -jnlpUrl <a href=\"http://localhost:7070/computer/test1/jenkins-agent.jnlp\" rel=\"nofollow noreferrer\">localhost:7070/computer/test1/jenkins-agent.jnlp</a> -secret 9a505463f64da16773784ce8ec0ae08f2cf79e9121cd20aafeab8ccd1a50&zwnj;&#8203;d6b1 -workDir &quot;C:\\Jenkins\\&quot;"},{"owner":{"account_id":1431309,"reputation":244,"user_id":1353688,"display_name":"Bilawal Wajid Ali"},"score":0,"creation_date":1637228137,"post_id":70003633,"comment_id":123771593,"body_markdown":"I just added .exe in the end of java \nstart &quot;&quot; &quot;%JAVA_HOME%\\bin\\java.exe&quot; -jar &quot;C:\\Jenkins\\agent.jar&quot; -jnlpUrl localhost:7070/computer/test1/jenkins-agent.jnlp -secret 9a505463f64da16773784ce8ec0ae08f2cf79e9121cd20aafeab8ccd1a50d6b1 -workDir &quot;C:\\Jenkins\\&quot;\nCmd prompt and my script ends but still my agent is offline","body":"I just added .exe in the end of java  start &quot;&quot; &quot;%JAVA_HOME%\\bin\\java.exe&quot; -jar &quot;C:\\Jenkins\\agent.jar&quot; -jnlpUrl localhost:7070/computer/test1/jenkins-agent.jnlp -secret 9a505463f64da16773784ce8ec0ae08f2cf79e9121cd20aafeab8ccd1a50&zwnj;&#8203;d6b1 -workDir &quot;C:\\Jenkins\\&quot; Cmd prompt and my script ends but still my agent is offline"}],"owner":{"account_id":1431309,"reputation":244,"user_id":1353688,"display_name":"Bilawal Wajid Ali"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":576,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637148770,"creation_date":1637148770,"question_id":70003633,"body_markdown":"I am trying to run one of my Jenkins agent which is based on windows 10 via running agent.jar using batch script.\r\n\r\nWhat I did :\r\nMy batch file is in the same folder with agent.jar folder\r\nI created the shortcut for the my batch file and placed it inside Microsoft/Windows/Startup folder so that every time computer reboots the agent.jar file execute via batch file\r\n\r\nUpon running the file i am getting following warning from jenkins in my cmd and agent also not going online\r\n\r\nWARNING: Are you running slave agent from an interactive console?\r\nIf so, you are probably using it incorrectly.\r\nSee http://wiki.jenkins-ci.org/display/JENKINS/Launching+slave.jar+from+from+console\r\n&lt;===[JENKINS REMOTING CAPACITY]===&gt;rO0ABXNyABpodWRzb24ucmVtb3RpbmcuQ2FwYWJpbGl0eQAAAAAAAAABAgABSgAEbWFza3hwAAAAAAAAAB4=??\r\n\r\nMy batch file contains:\r\n\r\n    @ECHO ON\r\n    start java -jar C:\\Jenkins\\agent.jar\r\n    echo &quot;The program has been completed&quot;\r\n\r\n\r\nWhy I am getting this warning , because it is not working every time i have to run agent.jar file via cmd manually when i my agent machine restart , Is there trick the my agent runs automatically after restarts so I can get rid of this manual exercise","title":"Can not launch agent in windows 10 when running agent.jar via batch command","body":"<p>I am trying to run one of my Jenkins agent which is based on windows 10 via running agent.jar using batch script.</p>\n<p>What I did :\nMy batch file is in the same folder with agent.jar folder\nI created the shortcut for the my batch file and placed it inside Microsoft/Windows/Startup folder so that every time computer reboots the agent.jar file execute via batch file</p>\n<p>Upon running the file i am getting following warning from jenkins in my cmd and agent also not going online</p>\n<p>WARNING: Are you running slave agent from an interactive console?\nIf so, you are probably using it incorrectly.\nSee <a href=\"http://wiki.jenkins-ci.org/display/JENKINS/Launching+slave.jar+from+from+console\" rel=\"nofollow noreferrer\">http://wiki.jenkins-ci.org/display/JENKINS/Launching+slave.jar+from+from+console</a>\n&lt;===[JENKINS REMOTING CAPACITY]===&gt;rO0ABXNyABpodWRzb24ucmVtb3RpbmcuQ2FwYWJpbGl0eQAAAAAAAAABAgABSgAEbWFza3hwAAAAAAAAAB4=??</p>\n<p>My batch file contains:</p>\n<pre><code>@ECHO ON\nstart java -jar C:\\Jenkins\\agent.jar\necho &quot;The program has been completed&quot;\n</code></pre>\n<p>Why I am getting this warning , because it is not working every time i have to run agent.jar file via cmd manually when i my agent machine restart , Is there trick the my agent runs automatically after restarts so I can get rid of this manual exercise</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1637147260,"post_id":70002859,"comment_id":123746107,"body_markdown":"The local history is in the .metadata, which you deleted so it is gone. Deleting the .metadata is always a very bad thing to do despite what you might see in various answers. I don&#39;t understand what you are saying happens when you import the old project.","body":"The local history is in the .metadata, which you deleted so it is gone. Deleting the .metadata is always a very bad thing to do despite what you might see in various answers. I don&#39;t understand what you are saying happens when you import the old project."},{"owner":{"account_id":14246984,"reputation":33,"user_id":10291724,"display_name":"Buk Lau"},"score":0,"creation_date":1637147533,"post_id":70002859,"comment_id":123746194,"body_markdown":"When I import the old project the class file is stille empty, other than its all the same.","body":"When I import the old project the class file is stille empty, other than its all the same."},{"owner":{"account_id":14246984,"reputation":33,"user_id":10291724,"display_name":"Buk Lau"},"score":0,"creation_date":1637147608,"post_id":70002859,"comment_id":123746225,"body_markdown":"Its almost like its corrupted since there is an syntax error on line 1 which is empty.","body":"Its almost like its corrupted since there is an syntax error on line 1 which is empty."},{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1637147966,"post_id":70002859,"comment_id":123746361,"body_markdown":"I presume you mean a &#39;.java&#39; when you say a class file, &#39;.class&#39; files are binary compiled code. Can you look at the Java file from the backup outside of Eclipse? Does it look ok?","body":"I presume you mean a &#39;.java&#39; when you say a class file, &#39;.class&#39; files are binary compiled code. Can you look at the Java file from the backup outside of Eclipse? Does it look ok?"},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":1,"creation_date":1637148332,"post_id":70002859,"comment_id":123746478,"body_markdown":"Lesson learned. Always use git and push to a remote origin.","body":"Lesson learned. Always use git and push to a remote origin."},{"owner":{"account_id":14246984,"reputation":33,"user_id":10291724,"display_name":"Buk Lau"},"score":0,"creation_date":1637148363,"post_id":70002859,"comment_id":123746489,"body_markdown":"The .log file that described the error when I opened my project for the first time had all of my code from the corrupted file, so I just deleted the file from my project then copy-pasted the code. So problem solved!","body":"The .log file that described the error when I opened my project for the first time had all of my code from the corrupted file, so I just deleted the file from my project then copy-pasted the code. So problem solved!"},{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1637149645,"post_id":70002859,"comment_id":123746936,"body_markdown":"The lesson to learn is take lots of backups, and use a source control system like git or svn. If your code is important and would take a long time to get back you should put a significant amount of effort in to ensuring you have working backups. Remember disks can fail, computers can get stolen, the building could burn down, so off-site backups are also important.","body":"The lesson to learn is take lots of backups, and use a source control system like git or svn. If your code is important and would take a long time to get back you should put a significant amount of effort in to ensuring you have working backups. Remember disks can fail, computers can get stolen, the building could burn down, so off-site backups are also important."},{"owner":{"account_id":14246984,"reputation":33,"user_id":10291724,"display_name":"Buk Lau"},"score":0,"creation_date":1637150438,"post_id":70002859,"comment_id":123747219,"body_markdown":"Indeed, lesson learned. I got 3 different USBs, cloud backups and an air-gapped pc as backup which would be useless without this log file... Expect the unexpected","body":"Indeed, lesson learned. I got 3 different USBs, cloud backups and an air-gapped pc as backup which would be useless without this log file... Expect the unexpected"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1637160471,"post_id":70002859,"comment_id":123751779,"body_markdown":"@m0skit0 You missed the point. Deleting the .metadata folder erased the local history. So the files cannot be restored. Deleting the .metadata folder is a hoax spread on Stack Overflow. Never ever delete the .metadata folder.","body":"@m0skit0 You missed the point. Deleting the .metadata folder erased the local history. So the files cannot be restored. Deleting the .metadata folder is a hoax spread on Stack Overflow. Never ever delete the .metadata folder."},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1637161669,"post_id":70002859,"comment_id":123752318,"body_markdown":"@howlger If the .metadata folder was on a source repository, there wouldn&#39;t be any problem. In any case you don&#39;t need any .metadata folder if your code is on source control.","body":"@howlger If the .metadata folder was on a source repository, there wouldn&#39;t be any problem. In any case you don&#39;t need any .metadata folder if your code is on source control."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1637162997,"post_id":70002859,"comment_id":123753009,"body_markdown":"@m0skit0 Local history, version control and backup are different things, although there are overlaps. The .metadata folder should not be shared. Here, the files were irreversibly deleted by the deletion of the .metadata folder which is a hoax spread on Stack Overflow (never ever delete the .metadata folder).","body":"@m0skit0 Local history, version control and backup are different things, although there are overlaps. The .metadata folder should not be shared. Here, the files were irreversibly deleted by the deletion of the .metadata folder which is a hoax spread on Stack Overflow (never ever delete the .metadata folder)."},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1637163720,"post_id":70002859,"comment_id":123753400,"body_markdown":"@howlger Again, all of that does not matter if you have source version control.","body":"@howlger Again, all of that does not matter if you have source version control."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1637164815,"post_id":70002859,"comment_id":123753973,"body_markdown":"@m0skit0 You oversimplify it. Version control is a good thing, but might also lead to accidental deletion due to making mistakes when merging, force pushing, etc. Version control also only helps if you have at least committed the changes. The mistake that was made here was the deletion of the .metadata folder. Deleting the .metadata folder is a bad idea, similar to deleting the .git folder. Please help to stop the spread of this hoax, as it is causing damage.","body":"@m0skit0 You oversimplify it. Version control is a good thing, but might also lead to accidental deletion due to making mistakes when merging, force pushing, etc. Version control also only helps if you have at least committed the changes. The mistake that was made here was the deletion of the .metadata folder. Deleting the .metadata folder is a bad idea, similar to deleting the .git folder. Please help to stop the spread of this hoax, as it is causing damage."},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1637166113,"post_id":70002859,"comment_id":123754617,"body_markdown":"@howlger [Wrong](https://stackoverflow.com/questions/7147680/accidentally-reverted-to-master-lost-uncommitted-changes). I&#39;m not encouraging the deletion of .metadata. I&#39;m stating SVC will help you avoid losing data and recover it in case you accidentally delete it. Always use SVC, it&#39;s more flexible and reliable than any recovery tool from any IDE.","body":"@howlger <a href=\"https://stackoverflow.com/questions/7147680/accidentally-reverted-to-master-lost-uncommitted-changes\">Wrong</a>. I&#39;m not encouraging the deletion of .metadata. I&#39;m stating SVC will help you avoid losing data and recover it in case you accidentally delete it. Always use SVC, it&#39;s more flexible and reliable than any recovery tool from any IDE."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1637167587,"post_id":70002859,"comment_id":123755334,"body_markdown":"@m0skit0 In Git you _can_ rewrite the history which might result in losing data and you can also force push that. Imagine someone loses the local Git config by following the advice spread on Stack Overflow to delete the .git folder. Someone else comments on that with _&quot;Lesson learned. Do regular backups&quot;_. Same spirit.","body":"@m0skit0 In Git you <i>can</i> rewrite the history which might result in losing data and you can also force push that. Imagine someone loses the local Git config by following the advice spread on Stack Overflow to delete the .git folder. Someone else comments on that with <i>&quot;Lesson learned. Do regular backups&quot;</i>. Same spirit."},{"owner":{"account_id":4060173,"reputation":30602,"user_id":6699433,"accept_rate":67,"display_name":"klutt"},"score":0,"creation_date":1637307067,"post_id":70002859,"comment_id":123796136,"body_markdown":"@m0skit0 While it&#39;s correct that git CAN be used for backup and that this is much better than nothing, it&#39;s not it&#39;s purpose and it&#39;s much better to use it for what it is intended for - which is version controlling - and use something else for the actual backup. If you really want to use git for backup, then use two layers. Work within one repo, and put that repo into the backup repo. Then make sure the wrapper backup repo is reguarly commited and pushed automatically. But then it&#39;s much better to use rsync.","body":"@m0skit0 While it&#39;s correct that git CAN be used for backup and that this is much better than nothing, it&#39;s not it&#39;s purpose and it&#39;s much better to use it for what it is intended for - which is version controlling - and use something else for the actual backup. If you really want to use git for backup, then use two layers. Work within one repo, and put that repo into the backup repo. Then make sure the wrapper backup repo is reguarly commited and pushed automatically. But then it&#39;s much better to use rsync."},{"owner":{"account_id":4060173,"reputation":30602,"user_id":6699433,"accept_rate":67,"display_name":"klutt"},"score":0,"creation_date":1637310324,"post_id":70002859,"comment_id":123797121,"body_markdown":"@m0skit0 So while it&#39;s a good idea to always use git (or something similar) while coding, pushing to a remote is not something you &quot;should always do&quot;. If you&#39;re setting up a remote git just for this purpose, why not use a real backup system instead?","body":"@m0skit0 So while it&#39;s a good idea to always use git (or something similar) while coding, pushing to a remote is not something you &quot;should always do&quot;. If you&#39;re setting up a remote git just for this purpose, why not use a real backup system instead?"}],"answers":[{"tags":[],"owner":{"account_id":14246984,"reputation":33,"user_id":10291724,"display_name":"Buk Lau"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637148497,"creation_date":1637148497,"answer_id":70003563,"question_id":70002859,"body_markdown":"If this happens to anyone, I found all of my code inside the .log file that appeared when I could not open the project. So I deleted .metadata, deleted my file with code in it, then just copy-pasted it from the .log file.\r\n\r\nThen again, deleting .metadata is a bad idea so avoid it if you can.","title":"My code was wiped from one class file in java/eclipse","body":"<p>If this happens to anyone, I found all of my code inside the .log file that appeared when I could not open the project. So I deleted .metadata, deleted my file with code in it, then just copy-pasted it from the .log file.</p>\n<p>Then again, deleting .metadata is a bad idea so avoid it if you can.</p>\n"}],"owner":{"account_id":14246984,"reputation":33,"user_id":10291724,"display_name":"Buk Lau"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637148672,"creation_date":1637145672,"question_id":70002859,"body_markdown":"My laptop died while programming, the class file in question was saved a few moments before it happened. When i started eclipse again I couldn’t open my workspace because of some error, so I deleted .metadata from my workspace and imported my peoject again.\r\n\r\n All my class files are fine, except the one I was working on before my laptop died... which has months of work on it. \r\n\r\nI have a back-up project from a few days back, tried importing it but the exact same problem remains. And I can’t restore the file from local history cause apparently there is none.\r\n\r\nThe file has no code in it, no imports or anything. There is an error on line 1 which is empty, telling me its a syntax error. Nothing I do removes this error. Please help","title":"My code was wiped from one class file in java/eclipse","body":"<p>My laptop died while programming, the class file in question was saved a few moments before it happened. When i started eclipse again I couldn’t open my workspace because of some error, so I deleted .metadata from my workspace and imported my peoject again.</p>\n<p>All my class files are fine, except the one I was working on before my laptop died... which has months of work on it.</p>\n<p>I have a back-up project from a few days back, tried importing it but the exact same problem remains. And I can’t restore the file from local history cause apparently there is none.</p>\n<p>The file has no code in it, no imports or anything. There is an error on line 1 which is empty, telling me its a syntax error. Nothing I do removes this error. Please help</p>\n"},{"tags":["java","inheritance"],"comments":[{"owner":{"account_id":12583055,"reputation":447,"user_id":9732672,"display_name":"NomadMaker"},"score":0,"creation_date":1603824049,"post_id":64559343,"comment_id":114157532,"body_markdown":"You do know that SuperCounter is a subclass of Counter.","body":"You do know that SuperCounter is a subclass of Counter."}],"answers":[{"tags":[],"owner":{"account_id":15141662,"reputation":1034,"user_id":10926486,"display_name":"V. Mokrecov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1603819610,"creation_date":1603819610,"answer_id":64559782,"question_id":64559343,"body_markdown":"You have created 2 classes, and one inherits from the other (SuperCounter from Counter), which means that it inherits one method &quot;subtractFromNumber&quot; and overrides the other method &quot;addToNumber&quot;.\r\n\r\nNext, you create instances of these classes &quot;counter&quot; and &quot;superCounter&quot;, while calling the method &quot;subtractFromNumber&quot; on the instance of the class &quot;superCounter&quot; 2 times and the method &quot;addToNumber&quot; on the other instance of the class &quot;counter&quot;. But since you call the method &quot;addToNumber&quot; on the instance of the class &quot;counter&quot;, respectively, the method of the class &quot;Counter&quot; is called.\r\n\r\nAccording to the code, you get the answer &quot;2&quot;:\r\n1. int number = 3; // 3\r\n2. number = superCounter.subtractFromNumber(number); // 3 - 1 = 2\r\n3. number = superCounter.subtractFromNumber(number); // 2 - 1 = 1\r\n4. number = counter.addToNumber(number);             // 1 + 1 = 2\r\n5. System.out.println(number);                       // 2","title":"I dont understand this java inheritance example","body":"<p>You have created 2 classes, and one inherits from the other (SuperCounter from Counter), which means that it inherits one method &quot;subtractFromNumber&quot; and overrides the other method &quot;addToNumber&quot;.</p>\n<p>Next, you create instances of these classes &quot;counter&quot; and &quot;superCounter&quot;, while calling the method &quot;subtractFromNumber&quot; on the instance of the class &quot;superCounter&quot; 2 times and the method &quot;addToNumber&quot; on the other instance of the class &quot;counter&quot;. But since you call the method &quot;addToNumber&quot; on the instance of the class &quot;counter&quot;, respectively, the method of the class &quot;Counter&quot; is called.</p>\n<p>According to the code, you get the answer &quot;2&quot;:</p>\n<ol>\n<li>int number = 3; // 3</li>\n<li>number = superCounter.subtractFromNumber(number); // 3 - 1 = 2</li>\n<li>number = superCounter.subtractFromNumber(number); // 2 - 1 = 1</li>\n<li>number = counter.addToNumber(number);             // 1 + 1 = 2</li>\n<li>System.out.println(number);                       // 2</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6678616,"reputation":528,"user_id":5152519,"accept_rate":100,"display_name":"Danny"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1603820029,"creation_date":1603820029,"answer_id":64559902,"question_id":64559343,"body_markdown":"The result is 2. Let&#39;s see. \r\n 1. `Counter counter = new Counter();` gives us a `counter` with `addToNumber` and `subtractFromNumber` methods. \r\n 2. `Counter superCounter = new SuperCounter();` gives us a `superCounter` with `addToNumber` method.\r\n 3. `int number = 3;`\r\n 4. `number = superCounter.subtractFromNumber(number);` Since superCounter does not override the old subtractFromNumber, it subtracts 1. Now `number == 2`.\r\n 5. `number = superCounter.subtractFromNumber(number);` Same again, subtract 1, `number == 1`.\r\n 6. `number = counter.addToNumber(number);` This method adds 1. Now `number == 2`.\r\n\r\nThe result is `2`, as we expected.\r\n","title":"I dont understand this java inheritance example","body":"<p>The result is 2. Let's see.</p>\n<ol>\n<li><code>Counter counter = new Counter();</code> gives us a <code>counter</code> with <code>addToNumber</code> and <code>subtractFromNumber</code> methods.</li>\n<li><code>Counter superCounter = new SuperCounter();</code> gives us a <code>superCounter</code> with <code>addToNumber</code> method.</li>\n<li><code>int number = 3;</code></li>\n<li><code>number = superCounter.subtractFromNumber(number);</code> Since superCounter does not override the old subtractFromNumber, it subtracts 1. Now <code>number == 2</code>.</li>\n<li><code>number = superCounter.subtractFromNumber(number);</code> Same again, subtract 1, <code>number == 1</code>.</li>\n<li><code>number = counter.addToNumber(number);</code> This method adds 1. Now <code>number == 2</code>.</li>\n</ol>\n<p>The result is <code>2</code>, as we expected.</p>\n"}],"owner":{"account_id":2894271,"reputation":49,"user_id":2482403,"display_name":"john"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":449,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1637148629,"creation_date":1603817986,"question_id":64559343,"body_markdown":"I have been doing a mooc.fi course and im having a hard time understanding inheritance. This example in particular.\r\n\r\nWhat does the program print?\r\n\r\n    public class Counter {\r\n    \r\n        public int addToNumber(int number) {\r\n            return number + 1;\r\n        }\r\n        \r\n        public int subtractFromNumber(int number) {\r\n            return number - 1;\r\n        }\r\n    }\r\n\r\n\r\n    public class SuperCounter extends Counter {\r\n    \r\n        @Override\r\n        public int addToNumber(int number) {\r\n            return number + 5;\r\n        }\r\n        \r\n    }\r\n\r\n\r\n\r\n    public static void main(String[] args) {\r\n        Counter counter = new Counter();\r\n        Counter superCounter = new SuperCounter();\r\n        int number = 3;\r\n        number = superCounter.subtractFromNumber(number);\r\n        number = superCounter.subtractFromNumber(number);\r\n        number = counter.addToNumber(number);\r\n        System.out.println(number);\r\n    }\r\n\r\nApparently this isnt 6.\r\nSome help would be appreciated.\r\n\r\n\r\n","title":"I dont understand this java inheritance example","body":"<p>I have been doing a mooc.fi course and im having a hard time understanding inheritance. This example in particular.</p>\n<p>What does the program print?</p>\n<pre><code>public class Counter {\n\n    public int addToNumber(int number) {\n        return number + 1;\n    }\n    \n    public int subtractFromNumber(int number) {\n        return number - 1;\n    }\n}\n\n\npublic class SuperCounter extends Counter {\n\n    @Override\n    public int addToNumber(int number) {\n        return number + 5;\n    }\n    \n}\n\n\n\npublic static void main(String[] args) {\n    Counter counter = new Counter();\n    Counter superCounter = new SuperCounter();\n    int number = 3;\n    number = superCounter.subtractFromNumber(number);\n    number = superCounter.subtractFromNumber(number);\n    number = counter.addToNumber(number);\n    System.out.println(number);\n}\n</code></pre>\n<p>Apparently this isnt 6.\nSome help would be appreciated.</p>\n"},{"tags":["java","rest","http-headers","resttemplate","ready-api"],"answers":[{"tags":[],"owner":{"account_id":1322163,"reputation":166,"user_id":1267748,"display_name":"cwa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513817129,"creation_date":1513817129,"answer_id":47916348,"question_id":47914951,"body_markdown":"The authentication scheme for &quot;basic&quot; needs to be passed with the appropriate capitalization of the scheme name:\r\n\r\n    httpHeaders.add(HttpHeaders.AUTHORIZATION, &quot;Basic &quot; + base64Creds);\r\n\r\nhttps://www.rfc-editor.org/rfc/rfc7617  Section 2. The &#39;Basic&#39; Authentication Scheme","title":"ReadyApi why does authorization header not work, but basic auth tab does","body":"<p>The authentication scheme for &quot;basic&quot; needs to be passed with the appropriate capitalization of the scheme name:</p>\n<pre><code>httpHeaders.add(HttpHeaders.AUTHORIZATION, &quot;Basic &quot; + base64Creds);\n</code></pre>\n<p><a href=\"https://www.rfc-editor.org/rfc/rfc7617\" rel=\"nofollow noreferrer\">https://www.rfc-editor.org/rfc/rfc7617</a>  Section 2. The 'Basic' Authentication Scheme</p>\n"},{"tags":[],"owner":{"account_id":407811,"reputation":516,"user_id":778096,"display_name":"skw"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637148476,"creation_date":1637148476,"answer_id":70003560,"question_id":47914951,"body_markdown":"I know this is an old question, but I hope this helps somebody.\r\n\r\nI had this same scenario and I found the solution here: https://www.baeldung.com/resttemplate-digest-authentication\r\n\r\nBasically, you have to create your own `RestTemplate` bean so the Authorization is by **Digest** and not Basic:\r\n\r\n    @Bean(name = &quot;myRestTemplate&quot;)\r\n    public RestTemplate myRestTemplate(\r\n            final String username,\r\n            final String password) {\r\n        CloseableHttpClient client = HttpClientBuilder.create().\r\n                setDefaultCredentialsProvider(provider(username,password)).useSystemProperties().build();\r\n\r\n        HttpComponentsClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory(client);\r\n\r\n        return new RestTemplate(requestFactory);\r\n    }\r\n\r\n    private CredentialsProvider provider(String username, String password) {\r\n        CredentialsProvider provider = new BasicCredentialsProvider();\r\n        UsernamePasswordCredentials credentials = new UsernamePasswordCredentials(username, password);\r\n        provider.setCredentials(AuthScope.ANY, credentials);\r\n        return provider;\r\n    }\r\n\r\nThen when you want to use the bean\r\n\r\n    private String getQueryOutput(String query) {\r\n        HttpHeaders httpHeaders = new HttpHeaders();\r\n\r\n        httpHeaders.setContentType(MediaType.APPLICATION_FORM_URLENCODED);\r\n\r\n        ResponseEntity&lt;String&gt; resp = restTemplate.exchange(\r\n                &quot;https://myURL/to/accept/post&quot;,\r\n                HttpMethod.POST,\r\n                new HttpEntity&lt;&gt;(query, httpHeaders),\r\n                String.class);\r\n\r\n        return resp.getBody();\r\n    }","title":"ReadyApi why does authorization header not work, but basic auth tab does","body":"<p>I know this is an old question, but I hope this helps somebody.</p>\n<p>I had this same scenario and I found the solution here: <a href=\"https://www.baeldung.com/resttemplate-digest-authentication\" rel=\"nofollow noreferrer\">https://www.baeldung.com/resttemplate-digest-authentication</a></p>\n<p>Basically, you have to create your own <code>RestTemplate</code> bean so the Authorization is by <strong>Digest</strong> and not Basic:</p>\n<pre><code>@Bean(name = &quot;myRestTemplate&quot;)\npublic RestTemplate myRestTemplate(\n        final String username,\n        final String password) {\n    CloseableHttpClient client = HttpClientBuilder.create().\n            setDefaultCredentialsProvider(provider(username,password)).useSystemProperties().build();\n\n    HttpComponentsClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory(client);\n\n    return new RestTemplate(requestFactory);\n}\n\nprivate CredentialsProvider provider(String username, String password) {\n    CredentialsProvider provider = new BasicCredentialsProvider();\n    UsernamePasswordCredentials credentials = new UsernamePasswordCredentials(username, password);\n    provider.setCredentials(AuthScope.ANY, credentials);\n    return provider;\n}\n</code></pre>\n<p>Then when you want to use the bean</p>\n<pre><code>private String getQueryOutput(String query) {\n    HttpHeaders httpHeaders = new HttpHeaders();\n\n    httpHeaders.setContentType(MediaType.APPLICATION_FORM_URLENCODED);\n\n    ResponseEntity&lt;String&gt; resp = restTemplate.exchange(\n            &quot;https://myURL/to/accept/post&quot;,\n            HttpMethod.POST,\n            new HttpEntity&lt;&gt;(query, httpHeaders),\n            String.class);\n\n    return resp.getBody();\n}\n</code></pre>\n"}],"owner":{"account_id":5068905,"reputation":251,"user_id":4068247,"accept_rate":57,"display_name":"DAC"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":649,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1637148476,"creation_date":1513807189,"question_id":47914951,"body_markdown":"I&#39;m attempting to re-create a REST call I use in Ready-API from java but having issues. \r\n\r\nIf I make a GET request in ReadyAPI with and I use the AUTH tab in the UI, and set it to Basic, with a username and password and I check &quot;USE GLOBAL PREFERENCE&quot; it works without issue. However if I select &quot;Authenticate pre-emptively&quot; it fails. \r\n\r\nAlso in readyAPI if I insert an Authorization header with the base64 encoded string, instead of using the &quot;Auth&quot; tab, it also fails. This works for other servers I attempt to talk to, but not this one. \r\n\r\nI&#39;m trying to find out why it fails with the Authorization Header. As I&#39;m attempting to make the same call from java with restTemplate. \r\n\r\nSomething like:\r\n\r\n\r\n        String plainCreds = username + &quot;:&quot; + password;\r\n        byte[] plainCredsBytes = StringUtils.getBytesUtf8(plainCreds);\r\n        String base64Creds = Base64.encodeBase64String(plainCredsBytes);\r\n\r\n        httpHeaders = new HttpHeaders();\r\n        httpHeaders.add(HttpHeaders.AUTHORIZATION, &quot;Basic &quot; + base64Creds);\r\n\r\nWhat is ReadyAPI doing differently when using the Auth Tab with &quot;Use Global Preferences&quot; that makes it succeed? How can I do this in Java?","title":"ReadyApi why does authorization header not work, but basic auth tab does","body":"<p>I'm attempting to re-create a REST call I use in Ready-API from java but having issues. </p>\n\n<p>If I make a GET request in ReadyAPI with and I use the AUTH tab in the UI, and set it to Basic, with a username and password and I check \"USE GLOBAL PREFERENCE\" it works without issue. However if I select \"Authenticate pre-emptively\" it fails. </p>\n\n<p>Also in readyAPI if I insert an Authorization header with the base64 encoded string, instead of using the \"Auth\" tab, it also fails. This works for other servers I attempt to talk to, but not this one. </p>\n\n<p>I'm trying to find out why it fails with the Authorization Header. As I'm attempting to make the same call from java with restTemplate. </p>\n\n<p>Something like:</p>\n\n<pre><code>    String plainCreds = username + \":\" + password;\n    byte[] plainCredsBytes = StringUtils.getBytesUtf8(plainCreds);\n    String base64Creds = Base64.encodeBase64String(plainCredsBytes);\n\n    httpHeaders = new HttpHeaders();\n    httpHeaders.add(HttpHeaders.AUTHORIZATION, \"Basic \" + base64Creds);\n</code></pre>\n\n<p>What is ReadyAPI doing differently when using the Auth Tab with \"Use Global Preferences\" that makes it succeed? How can I do this in Java?</p>\n"},{"tags":["python","java","apache-spark","pyspark"],"answers":[{"tags":[],"owner":{"account_id":3859079,"reputation":2069,"user_id":3197244,"accept_rate":50,"display_name":"jgp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637148367,"creation_date":1637148029,"answer_id":70003457,"question_id":69994880,"body_markdown":"Spark 2.4.0 will require Java 8, which you have on your system, but it looks like PyCharm is not using this version, even if available. I had a similar problem with Eclipse, which defaulted to the last version of Java, which created compatibility issues, which I suspect in your application. \r\n\r\nAre you running your app from PyCharm? If so can you display the environment values from there?\r\n\r\nHow have you installed Spark? You mention brew for Java, did you also use brew for Spark? If not, maybe it’s worth a try as dependencies are really tricky. \r\n\r\nWhat happens when you run `java -version` in a shell? Can you try to uninstall Java 11 and maybe reinstall Java 8?\r\n\r\nI hope this few advice can help.","title":"PySpark: &quot;/usr/libexec/java_home/bin/java: Not a directory&quot; (macOS Big Sur)","body":"<p>Spark 2.4.0 will require Java 8, which you have on your system, but it looks like PyCharm is not using this version, even if available. I had a similar problem with Eclipse, which defaulted to the last version of Java, which created compatibility issues, which I suspect in your application.</p>\n<p>Are you running your app from PyCharm? If so can you display the environment values from there?</p>\n<p>How have you installed Spark? You mention brew for Java, did you also use brew for Spark? If not, maybe it’s worth a try as dependencies are really tricky.</p>\n<p>What happens when you run <code>java -version</code> in a shell? Can you try to uninstall Java 11 and maybe reinstall Java 8?</p>\n<p>I hope this few advice can help.</p>\n"}],"owner":{"account_id":10416943,"reputation":182,"user_id":7680816,"accept_rate":80,"display_name":"jd2050"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":425,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637148367,"creation_date":1637090112,"question_id":69994880,"body_markdown":"I&#39;m trying to run hello-world PySpark application.\r\n\r\nI&#39;m using PyCharm\r\n\r\nCode of my `LOL.py` script:\r\n\r\n  \r\n\r\n      import os\r\n        \r\n        os.environ[&quot;SPARK_HOME&quot;] = &quot;/opt/spark&quot;\r\n        \r\n        from pyspark.sql import SparkSession\r\n        \r\n        def init_spark():\r\n          spark = SparkSession.builder.appName(&quot;HelloWorld&quot;).getOrCreate()\r\n          sc = spark.sparkContext\r\n          return spark,sc\r\n        \r\n        def main():\r\n          spark,sc = init_spark()\r\n          nums = sc.parallelize([1,2,3,4])\r\n          print(nums.map(lambda x: x*x).collect())\r\n        \r\n        \r\n        if __name__ == &#39;__main__&#39;:\r\n          main()\r\n    \r\n\r\n    \r\n    \r\n\r\n\r\nOutput:\r\n\r\n    /opt/spark/bin/spark-class: line 71: /usr/libexec/java_home/bin/java: Not a directory\r\n        \r\n        Traceback (most recent call last):\r\n          File &quot;/Users/evgenii/PycharmProjects/bi-etl-orders/LOL.py&quot;, line 19, in &lt;module&gt;\r\n            main()\r\n          File &quot;/Users/evgenii/PycharmProjects/bi-etl-orders/LOL.py&quot;, line 13, in main\r\n            spark,sc = init_spark()\r\n          File &quot;/Users/evgenii/PycharmProjects/bi-etl-orders/LOL.py&quot;, line 8, in init_spark\r\n            spark = SparkSession.builder.appName(&quot;HelloWorld&quot;).getOrCreate()\r\n          File &quot;/Users/evgenii/.pyenv/versions/3.7.5/lib/python3.7/site-packages/pyspark/sql/session.py&quot;, line 173, in getOrCreate\r\n            sc = SparkContext.getOrCreate(sparkConf)\r\n          File &quot;/Users/evgenii/.pyenv/versions/3.7.5/lib/python3.7/site-packages/pyspark/context.py&quot;, line 349, in getOrCreate\r\n            SparkContext(conf=conf or SparkConf())\r\n          File &quot;/Users/evgenii/.pyenv/versions/3.7.5/lib/python3.7/site-packages/pyspark/context.py&quot;, line 115, in __init__\r\n            SparkContext._ensure_initialized(self, gateway=gateway, conf=conf)\r\n          File &quot;/Users/evgenii/.pyenv/versions/3.7.5/lib/python3.7/site-packages/pyspark/context.py&quot;, line 298, in _ensure_initialized\r\n            SparkContext._gateway = gateway or launch_gateway(conf)\r\n          File &quot;/Users/evgenii/.pyenv/versions/3.7.5/lib/python3.7/site-packages/pyspark/java_gateway.py&quot;, line 94, in launch_gateway\r\n            raise Exception(&quot;Java gateway process exited before sending its port number&quot;)\r\n        \r\n        Exception: Java gateway process exited before sending its port number\r\n\r\n\r\n\r\nI know that &quot;*Java gateway process exited before sending its port number*&quot; is often raised because of incorrect setup of JAVA_HOME.\r\n\r\nBut I think this is not the case, because my JAVA_HOME looks pretty normal:\r\n\r\n    $ echo $JAVA_HOME\r\n    /Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home\r\n\r\nThis is my SPARK_HOME:\r\n\r\n    $ echo $SPARK_HOME\r\n    /opt/spark\r\n\r\nMy environment:\r\n\r\n - **Python 3.7.5** (I use pyenv if it matters) \r\n - **Java adoptopenjdk-8.jdk** (installed via Homebrew. I also have adoptopenjdk-11.jdk stored in the same folder if it matters)\r\n - **PySpark 2.4.0** \r\n - **MacOS BigSur 11.5.2** \r\n - **PyCharm Pro 2021.1.3**\r\n\r\nI read several related guides, but none of them helped for now.\r\nI&#39;ll be very appreciated for any help.\r\nThank you in advance!","title":"PySpark: &quot;/usr/libexec/java_home/bin/java: Not a directory&quot; (macOS Big Sur)","body":"<p>I'm trying to run hello-world PySpark application.</p>\n<p>I'm using PyCharm</p>\n<p>Code of my <code>LOL.py</code> script:</p>\n<pre><code>  import os\n    \n    os.environ[&quot;SPARK_HOME&quot;] = &quot;/opt/spark&quot;\n    \n    from pyspark.sql import SparkSession\n    \n    def init_spark():\n      spark = SparkSession.builder.appName(&quot;HelloWorld&quot;).getOrCreate()\n      sc = spark.sparkContext\n      return spark,sc\n    \n    def main():\n      spark,sc = init_spark()\n      nums = sc.parallelize([1,2,3,4])\n      print(nums.map(lambda x: x*x).collect())\n    \n    \n    if __name__ == '__main__':\n      main()\n</code></pre>\n<p>Output:</p>\n<pre><code>/opt/spark/bin/spark-class: line 71: /usr/libexec/java_home/bin/java: Not a directory\n    \n    Traceback (most recent call last):\n      File &quot;/Users/evgenii/PycharmProjects/bi-etl-orders/LOL.py&quot;, line 19, in &lt;module&gt;\n        main()\n      File &quot;/Users/evgenii/PycharmProjects/bi-etl-orders/LOL.py&quot;, line 13, in main\n        spark,sc = init_spark()\n      File &quot;/Users/evgenii/PycharmProjects/bi-etl-orders/LOL.py&quot;, line 8, in init_spark\n        spark = SparkSession.builder.appName(&quot;HelloWorld&quot;).getOrCreate()\n      File &quot;/Users/evgenii/.pyenv/versions/3.7.5/lib/python3.7/site-packages/pyspark/sql/session.py&quot;, line 173, in getOrCreate\n        sc = SparkContext.getOrCreate(sparkConf)\n      File &quot;/Users/evgenii/.pyenv/versions/3.7.5/lib/python3.7/site-packages/pyspark/context.py&quot;, line 349, in getOrCreate\n        SparkContext(conf=conf or SparkConf())\n      File &quot;/Users/evgenii/.pyenv/versions/3.7.5/lib/python3.7/site-packages/pyspark/context.py&quot;, line 115, in __init__\n        SparkContext._ensure_initialized(self, gateway=gateway, conf=conf)\n      File &quot;/Users/evgenii/.pyenv/versions/3.7.5/lib/python3.7/site-packages/pyspark/context.py&quot;, line 298, in _ensure_initialized\n        SparkContext._gateway = gateway or launch_gateway(conf)\n      File &quot;/Users/evgenii/.pyenv/versions/3.7.5/lib/python3.7/site-packages/pyspark/java_gateway.py&quot;, line 94, in launch_gateway\n        raise Exception(&quot;Java gateway process exited before sending its port number&quot;)\n    \n    Exception: Java gateway process exited before sending its port number\n</code></pre>\n<p>I know that &quot;<em>Java gateway process exited before sending its port number</em>&quot; is often raised because of incorrect setup of JAVA_HOME.</p>\n<p>But I think this is not the case, because my JAVA_HOME looks pretty normal:</p>\n<pre><code>$ echo $JAVA_HOME\n/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home\n</code></pre>\n<p>This is my SPARK_HOME:</p>\n<pre><code>$ echo $SPARK_HOME\n/opt/spark\n</code></pre>\n<p>My environment:</p>\n<ul>\n<li><strong>Python 3.7.5</strong> (I use pyenv if it matters)</li>\n<li><strong>Java adoptopenjdk-8.jdk</strong> (installed via Homebrew. I also have adoptopenjdk-11.jdk stored in the same folder if it matters)</li>\n<li><strong>PySpark 2.4.0</strong></li>\n<li><strong>MacOS BigSur 11.5.2</strong></li>\n<li><strong>PyCharm Pro 2021.1.3</strong></li>\n</ul>\n<p>I read several related guides, but none of them helped for now.\nI'll be very appreciated for any help.\nThank you in advance!</p>\n"},{"tags":["java","selenium-webdriver","ui-automation","wiremock"],"comments":[{"owner":{"account_id":16106441,"reputation":6176,"user_id":11625850,"display_name":"agoff"},"score":0,"creation_date":1637081492,"post_id":69977729,"comment_id":123728367,"body_markdown":"You might have some more success specifying a specific URL path matcher (`urlMatching()`, for example). Potentially also using `urlPathEqualTo` and a `.withQueryParam()` -- the issue may come from matching the URL and not the body.","body":"You might have some more success specifying a specific URL path matcher (<code>urlMatching()</code>, for example). Potentially also using <code>urlPathEqualTo</code> and a <code>.withQueryParam()</code> -- the issue may come from matching the URL and not the body."}],"owner":{"account_id":23345814,"reputation":11,"user_id":17420123,"display_name":"nana nana"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1060,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1637148207,"creation_date":1636993787,"question_id":69977729,"body_markdown":"I register this wiremock in my test\r\n``` \r\nwireMock.register(post(&quot;/processes/secure/private/addevent?caseid=101000000001&quot;)\r\n        .withRequestBody(equalToJson(&quot;{\\&quot;note\\&quot;:\\&quot;New reporter added:Please Select Individual\\&quot;,\\&quot;title\\&quot;:\\&quot;Reporter Updated\\&quot;}&quot;,true,true))\r\n        .willReturn(ok()));\r\n```\r\nBut it shows an error, the stub is not matching even though it is already the same\r\n[The stub error][1]\r\n\r\nDo you know what is the root cause?\r\nI also try change equalToJson with equalTo and still not working.\r\n   \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sOkR0.png","title":"Wiremock error: body doesn&#39;t match even though it is already the same","body":"<p>I register this wiremock in my test</p>\n<pre><code>wireMock.register(post(&quot;/processes/secure/private/addevent?caseid=101000000001&quot;)\n        .withRequestBody(equalToJson(&quot;{\\&quot;note\\&quot;:\\&quot;New reporter added:Please Select Individual\\&quot;,\\&quot;title\\&quot;:\\&quot;Reporter Updated\\&quot;}&quot;,true,true))\n        .willReturn(ok()));\n</code></pre>\n<p>But it shows an error, the stub is not matching even though it is already the same\n<a href=\"https://i.stack.imgur.com/sOkR0.png\" rel=\"nofollow noreferrer\">The stub error</a></p>\n<p>Do you know what is the root cause?\nI also try change equalToJson with equalTo and still not working.</p>\n"},{"tags":["java","android","in-app-subscription","play-billing-library"],"owner":{"account_id":3532368,"reputation":473,"user_id":2951501,"display_name":"Kamal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1637148031,"creation_date":1637148031,"question_id":70003458,"body_markdown":"I am working on integrating Google Billing Library into my application for making purchases from my app. I have created a 1-month test subscription from the application. Every time a subscription is auto-renewed, a subscription resource is returned then i am using the value of &quot;IsAutorenewing&quot;  for processing of the purchase in my app \r\n\r\nAfter few renewals of the existing subscription, i have cancelled the subscription and tried to query the purchases using querypurchasesasync but this time the subscription resource is not returned after the subscription is cancelled to check the value of IsAutoRenewing\r\n\r\nCan you please suggest why cancelled purchase is not returned &amp; what needs to be done in order to get the cancelled purchase also?\r\n","title":"Google Billing Library : QueryPurchasesAsync : Subscription resource of cancelled purchase not returned","body":"<p>I am working on integrating Google Billing Library into my application for making purchases from my app. I have created a 1-month test subscription from the application. Every time a subscription is auto-renewed, a subscription resource is returned then i am using the value of &quot;IsAutorenewing&quot;  for processing of the purchase in my app</p>\n<p>After few renewals of the existing subscription, i have cancelled the subscription and tried to query the purchases using querypurchasesasync but this time the subscription resource is not returned after the subscription is cancelled to check the value of IsAutoRenewing</p>\n<p>Can you please suggest why cancelled purchase is not returned &amp; what needs to be done in order to get the cancelled purchase also?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":2,"creation_date":1637146588,"post_id":70003045,"comment_id":123745866,"body_markdown":"`final boolean val`? Or do you want to test the condition lazily? If so `final BooleanSupplier valSupplier`","body":"<code>final boolean val</code>? Or do you want to test the condition lazily? If so <code>final BooleanSupplier valSupplier</code>"},{"owner":{"account_id":22198660,"reputation":133,"user_id":16439691,"display_name":"Girls are beautiful"},"score":0,"creation_date":1637146626,"post_id":70003045,"comment_id":123745878,"body_markdown":"What you mean??","body":"What you mean??"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1637146746,"post_id":70003045,"comment_id":123745931,"body_markdown":"That is the type that the `val` argument needs to be to work as you have described.  But there is a big problem.  What value is your `booleanCheck` supposed to return when the check fails?  And what  is it applying your `change` function to?","body":"That is the type that the <code>val</code> argument needs to be to work as you have described.  But there is a big problem.  What value is your <code>booleanCheck</code> supposed to return when the check fails?  And what  is it applying your <code>change</code> function to?"},{"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"score":0,"creation_date":1637146755,"post_id":70003045,"comment_id":123745935,"body_markdown":"You could receive a predicate instead of `T val`","body":"You could receive a predicate instead of <code>T val</code>"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1637146808,"post_id":70003045,"comment_id":123745955,"body_markdown":"Well yes ... the OP could ... but that is not what the OP has shown us in the example usage.  That shows the method being called with the *result* of the predicate.  OP: the real problem is that your question is unclear.  You need to be a lot more precise about how you want this `booleanCheck` to behave.","body":"Well yes ... the OP could ... but that is not what the OP has shown us in the example usage.  That shows the method being called with the <i>result</i> of the predicate.  OP: the real problem is that your question is unclear.  You need to be a lot more precise about how you want this <code>booleanCheck</code> to behave."},{"owner":{"account_id":22198660,"reputation":133,"user_id":16439691,"display_name":"Girls are beautiful"},"score":0,"creation_date":1637146995,"post_id":70003045,"comment_id":123746027,"body_markdown":"I used a BooleanSupplier but the problem is the final Supplier&lt;T&gt; supplier now. How i can make the last part where i do  s -&gt; s.subString(1); it doesn&#39;t work.","body":"I used a BooleanSupplier but the problem is the final Supplier&lt;T&gt; supplier now. How i can make the last part where i do  s -&gt; s.subString(1); it doesn&#39;t work."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1637147121,"post_id":70003045,"comment_id":123746065,"body_markdown":"Well ... I think it is not working ... because you haven&#39;t actually figured out what it *should* do.  Certainly you haven&#39;t explained it to us in a way that makes sense ...","body":"Well ... I think it is not working ... because you haven&#39;t actually figured out what it <i>should</i> do.  Certainly you haven&#39;t explained it to us in a way that makes sense ..."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1637147205,"post_id":70003045,"comment_id":123746089,"body_markdown":"If you immediately call `booleanSupplier.getAsBoolean()`, why not just pass in a boolean?","body":"If you immediately call <code>booleanSupplier.getAsBoolean()</code>, why not just pass in a boolean?"},{"owner":{"account_id":22198660,"reputation":133,"user_id":16439691,"display_name":"Girls are beautiful"},"score":0,"creation_date":1637147221,"post_id":70003045,"comment_id":123746093,"body_markdown":"Im sorry Stephen, basically i want a method using generic parameter which i do a check and then i use a predicate type to apply changes on the object i added. Basically it has 3 parameters. 1 the object of any type i give, 2 the boolean check of that object, 3 the part where i do change on that object and the method return.","body":"Im sorry Stephen, basically i want a method using generic parameter which i do a check and then i use a predicate type to apply changes on the object i added. Basically it has 3 parameters. 1 the object of any type i give, 2 the boolean check of that object, 3 the part where i do change on that object and the method return."}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1637147941,"creation_date":1637147564,"answer_id":70003350,"question_id":70003045,"body_markdown":"You want to use a `Predicate&lt;T&gt;` and a `UnaryOperator&lt;T&gt;`:\r\n\r\n    public static &lt;T&gt; T booleanCheck(\r\n            final T value,\r\n            final Predicate&lt;T&gt; predicate,\r\n            final UnaryOperator&lt;T&gt; operator) {\r\n        return predicate.test(value)\r\n                ? operator.apply(value)\r\n                : value;\r\n    }\r\n\r\nAnd then call:\r\n\r\n    final String newValue = booleanCheck(\r\n            oldValue,\r\n            Predicate.not(String::isEmpty),\r\n            s -&gt; s.substring(1));\r\n\r\nor\r\n\r\n    final String newValue = booleanCheck(\r\n            oldValue,\r\n            s -&gt; !s.isEmpty(),\r\n            s -&gt; s.substring(1));\r\n\r\nBut as long as you are not reusing or combining predicates and operators, you are better off simply using the conditional operator:\r\n\r\n    final String newValue = !oldValue.isEmpty()\r\n            ? oldValue.substring(1)\r\n            : oldValue;","title":"Method which does boolean check as generic","body":"<p>You want to use a <code>Predicate&lt;T&gt;</code> and a <code>UnaryOperator&lt;T&gt;</code>:</p>\n<pre><code>public static &lt;T&gt; T booleanCheck(\n        final T value,\n        final Predicate&lt;T&gt; predicate,\n        final UnaryOperator&lt;T&gt; operator) {\n    return predicate.test(value)\n            ? operator.apply(value)\n            : value;\n}\n</code></pre>\n<p>And then call:</p>\n<pre><code>final String newValue = booleanCheck(\n        oldValue,\n        Predicate.not(String::isEmpty),\n        s -&gt; s.substring(1));\n</code></pre>\n<p>or</p>\n<pre><code>final String newValue = booleanCheck(\n        oldValue,\n        s -&gt; !s.isEmpty(),\n        s -&gt; s.substring(1));\n</code></pre>\n<p>But as long as you are not reusing or combining predicates and operators, you are better off simply using the conditional operator:</p>\n<pre><code>final String newValue = !oldValue.isEmpty()\n        ? oldValue.substring(1)\n        : oldValue;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18416403,"reputation":2172,"user_id":13415164,"display_name":"Sergey Afinogenov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637147567,"creation_date":1637147567,"answer_id":70003351,"question_id":70003045,"body_markdown":"Pass object as one of parameters:\r\n    \r\n    public static &lt;T&gt; T booleanCheck(final T val, \r\n                                     final Predicate&lt;T&gt; predicate, \r\n                                     final UnaryOperator&lt;T&gt; operator){\r\n        if (predicate.test(val))\r\n          return operator.apply(val);\r\n        return val;\r\n    }\r\n\r\n    final String text= &quot;test&quot;;\r\n    final String newText = booleanCheck(text, s -&gt; !s.isEmpty(), s -&gt; s.substring(1));","title":"Method which does boolean check as generic","body":"<p>Pass object as one of parameters:</p>\n<pre><code>public static &lt;T&gt; T booleanCheck(final T val, \n                                 final Predicate&lt;T&gt; predicate, \n                                 final UnaryOperator&lt;T&gt; operator){\n    if (predicate.test(val))\n      return operator.apply(val);\n    return val;\n}\n\nfinal String text= &quot;test&quot;;\nfinal String newText = booleanCheck(text, s -&gt; !s.isEmpty(), s -&gt; s.substring(1));\n</code></pre>\n"}],"owner":{"account_id":22198660,"reputation":133,"user_id":16439691,"display_name":"Girls are beautiful"},"comment_count":9,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1637159191,"accepted_answer_id":70003350,"answer_count":2,"score":0,"last_activity_date":1637147941,"creation_date":1637146415,"question_id":70003045,"body_markdown":"I&#39;m trying to make a global static methodh which accept generic and does some boolean check and then applies my change. The idea is to make it like this: \r\n\r\n```\r\npublic static &lt;T&gt; T booleanCheck(final T val, final BooleanSupplier booleanSupplier, final Supplier&lt;T&gt; supplier)\r\n\t{\r\n\t\tif (booleanSupplier.getAsBoolean())\r\n\t\t{\r\n\t\t\treturn supplier.get();\r\n\t\t}\r\n\r\n\t\treturn val;\r\n\t}\r\n```\r\n\r\nBut i don&#39;t know how to make it. Basically i want 2 parameter. One to be the boolean and accept any object check and one that does what i want. Example:\r\n\r\n```\r\nfinal String text= &quot;test&quot;;\r\n\r\nfinal String newText = booleanCheck(!test.isEmpty(), s -&gt; s.subString(1));\r\n```\r\nand will print ```tes```.\r\nSomething like this but for all objects.","title":"Method which does boolean check as generic","body":"<p>I'm trying to make a global static methodh which accept generic and does some boolean check and then applies my change. The idea is to make it like this:</p>\n<pre><code>public static &lt;T&gt; T booleanCheck(final T val, final BooleanSupplier booleanSupplier, final Supplier&lt;T&gt; supplier)\n    {\n        if (booleanSupplier.getAsBoolean())\n        {\n            return supplier.get();\n        }\n\n        return val;\n    }\n</code></pre>\n<p>But i don't know how to make it. Basically i want 2 parameter. One to be the boolean and accept any object check and one that does what i want. Example:</p>\n<pre><code>final String text= &quot;test&quot;;\n\nfinal String newText = booleanCheck(!test.isEmpty(), s -&gt; s.subString(1));\n</code></pre>\n<p>and will print <code>tes</code>.\nSomething like this but for all objects.</p>\n"},{"tags":["java","maven","ubuntu","discord"],"comments":[{"owner":{"account_id":1325935,"reputation":6668,"user_id":1270725,"accept_rate":74,"display_name":"mcalex"},"score":1,"creation_date":1637141109,"post_id":70001683,"comment_id":123743685,"body_markdown":"Related?:  [How to fix an UnsatisfiedLinkError (Can&#39;t find dependent libraries) in a JNI project](https://stackoverflow.com/questions/6092200/how-to-fix-an-unsatisfiedlinkerror-cant-find-dependent-libraries-in-a-jni-pro)","body":"Related?:  <a href=\"https://stackoverflow.com/questions/6092200/how-to-fix-an-unsatisfiedlinkerror-cant-find-dependent-libraries-in-a-jni-pro\">How to fix an UnsatisfiedLinkError (Can&#39;t find dependent libraries) in a JNI project</a>"},{"owner":{"account_id":12262,"reputation":103374,"user_id":24054,"accept_rate":86,"display_name":"kgiannakakis"},"score":0,"creation_date":1637141158,"post_id":70001683,"comment_id":123743704,"body_markdown":"Read the FAQ: https://github.com/sedmelluq/lavaplayer/blob/master/FAQ.md","body":"Read the FAQ: <a href=\"https://github.com/sedmelluq/lavaplayer/blob/master/FAQ.md\" rel=\"nofollow noreferrer\">github.com/sedmelluq/lavaplayer/blob/master/FAQ.md</a>"},{"owner":{"account_id":20680062,"reputation":33,"user_id":15183861,"display_name":"LynBean"},"score":0,"creation_date":1637141396,"post_id":70001683,"comment_id":123743799,"body_markdown":"Thanks, I get it now &#128591;&#128591;&#128591;","body":"Thanks, I get it now 🙏🙏🙏"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1637141597,"post_id":70001683,"comment_id":123743892,"body_markdown":"What is the difference between the two log snippets?","body":"What is the difference between the two log snippets?"},{"owner":{"account_id":20680062,"reputation":33,"user_id":15183861,"display_name":"LynBean"},"score":0,"creation_date":1637146042,"post_id":70001683,"comment_id":123745658,"body_markdown":"First log is Windows version, second one is Linux-ARM","body":"First log is Windows version, second one is Linux-ARM"}],"answers":[{"tags":[],"owner":{"account_id":20680062,"reputation":33,"user_id":15183861,"display_name":"LynBean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637147627,"creation_date":1637146110,"answer_id":70002962,"question_id":70001683,"body_markdown":"Anyone have same problems with me, you may refer to this link ...\r\n[https://github.com/sedmelluq/lavaplayer/issues/16](https://github.com/sedmelluq/lavaplayer/issues/16)\r\n\r\n**Or follow my procedure :**\r\n\r\n**Open** your .jar file using **WinRaR** or other software that can unzip your .jar file\r\n\r\n**Get** your platform type, for example my **platform** is Raspberry Pi **(linux-aarch64)**\r\n\r\nGo to\r\n**[here](https://github.com/aikaterna/lavaplayer-natives)** and download your **platform** of **`libconnector.so`**\r\n\r\n**Place** it in your unzipped .jar file in the path of \r\n**`/native/&lt;your_platform&gt;/`**\r\n","title":"Jar file runs perfectly on Windows, but failed on Ubuntu inside Rasp Pi","body":"<p>Anyone have same problems with me, you may refer to this link ...\n<a href=\"https://github.com/sedmelluq/lavaplayer/issues/16\" rel=\"nofollow noreferrer\">https://github.com/sedmelluq/lavaplayer/issues/16</a></p>\n<p><strong>Or follow my procedure :</strong></p>\n<p><strong>Open</strong> your .jar file using <strong>WinRaR</strong> or other software that can unzip your .jar file</p>\n<p><strong>Get</strong> your platform type, for example my <strong>platform</strong> is Raspberry Pi <strong>(linux-aarch64)</strong></p>\n<p>Go to\n<strong><a href=\"https://github.com/aikaterna/lavaplayer-natives\" rel=\"nofollow noreferrer\">here</a></strong> and download your <strong>platform</strong> of <strong><code>libconnector.so</code></strong></p>\n<p><strong>Place</strong> it in your unzipped .jar file in the path of\n<strong><code>/native/&lt;your_platform&gt;/</code></strong></p>\n"}],"owner":{"account_id":20680062,"reputation":33,"user_id":15183861,"display_name":"LynBean"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":366,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637147627,"creation_date":1637140686,"question_id":70001683,"body_markdown":"Here is my discord music player bot, I compiled and installed it with Maven and Java 8 using the following procedure:\r\n```none\r\nmvn clean\r\nmvn compile\r\nmvn test-compile\r\nmvn test\r\nmvn install\r\n```\r\nAnd here is my pom.xml\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.jagrosh&lt;/groupId&gt;\r\n    &lt;artifactId&gt;JMusicBot&lt;/artifactId&gt;\r\n    &lt;version&gt;Snapshot&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;dv8tion&lt;/id&gt;\r\n            &lt;name&gt;m2-dv8tion&lt;/name&gt;\r\n            &lt;url&gt;https://m2.dv8tion.net/releases&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;central&lt;/id&gt;\r\n            &lt;name&gt;bintray&lt;/name&gt;\r\n            &lt;url&gt;https://jcenter.bintray.com&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;jitpack.io&lt;/id&gt;\r\n            &lt;url&gt;https://jitpack.io&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n    \r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.dv8tion&lt;/groupId&gt; \r\n            &lt;artifactId&gt;JDA&lt;/artifactId&gt; \r\n            &lt;version&gt;4.3.0_324&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- using a fork of this to fix some issues faster --&gt;\r\n        &lt;!-- dependency&gt;\r\n            &lt;groupId&gt;com.sedmelluq&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lavaplayer&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3.78&lt;/version&gt;\r\n        &lt;/dependency --&gt;\r\n        &lt;dependency&gt;\r\n\t    &lt;groupId&gt;com.github.jagrosh&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;lavaplayer&lt;/artifactId&gt;\r\n\t    &lt;version&gt;jmusicbot-SNAPSHOT&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n        &lt;!-- this is needed, but isn&#39;t actually hosted anywhere anymore... uh --&gt;\r\n        &lt;!--dependency&gt;\r\n            &lt;groupId&gt;com.sedmelluq&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lavaplayer-natives-extra&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3.13&lt;/version&gt;\r\n        &lt;/dependency--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.jagrosh&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jda-utilities&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.5&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- jitpack for now, we need to version this correctly later --&gt;\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;com.github.jagrosh&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;JLyrics&lt;/artifactId&gt;\r\n\t    &lt;version&gt;-SNAPSHOT&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n        &lt;!--dependency&gt;\r\n            &lt;groupId&gt;com.jagrosh&lt;/groupId&gt;\r\n            &lt;artifactId&gt;JLyrics&lt;/artifactId&gt;\r\n            &lt;version&gt;0.6&lt;/version&gt;\r\n        &lt;/dependency--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.typesafe&lt;/groupId&gt;\r\n            &lt;artifactId&gt;config&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jsoup&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jsoup&lt;/artifactId&gt;\r\n            &lt;version&gt;1.14.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.13.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    \r\n    &lt;build&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5&lt;/version&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;phase&gt;package&lt;/phase&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;shade&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\r\n                        &lt;shadedClassifierName&gt;All&lt;/shadedClassifierName&gt;\r\n                        &lt;artifactSet&gt;\r\n                            &lt;includes&gt;\r\n                                &lt;include&gt;*:*&lt;/include&gt;\r\n                            &lt;/includes&gt;\r\n                        &lt;/artifactSet&gt;\r\n                        &lt;transformers&gt;\r\n                            &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.AppendingTransformer&quot;&gt;\r\n                                &lt;resource&gt;reference.conf&lt;/resource&gt;\r\n                            &lt;/transformer&gt;\r\n                            &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                                &lt;manifestEntries&gt;\r\n                                    &lt;Main-Class&gt;com.jagrosh.jmusicbot.JMusicBot&lt;/Main-Class&gt;\r\n                                    &lt;Specification-Title&gt;${project.artifactId}&lt;/Specification-Title&gt;\r\n                                    &lt;Specification-Version&gt;${project.version}&lt;/Specification-Version&gt;\r\n                                    &lt;Implementation-Title&gt;${project.artifactId}&lt;/Implementation-Title&gt;\r\n                                    &lt;Implementation-Version&gt;${project.version}&lt;/Implementation-Version&gt;\r\n                                    &lt;Implementation-Vendor-Id&gt;${project.groupId}&lt;/Implementation-Vendor-Id&gt;\r\n                                &lt;/manifestEntries&gt;\r\n                            &lt;/transformer&gt;\r\n                        &lt;/transformers&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    \r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nRuns perfectly on my Windows 10\r\n\r\n```none\r\n[16:18:35] [INFO] [JDA]: Login Successful!\r\n[16:18:36] [INFO] [WebSocketClient]: Connected to WebSocket\r\n[16:18:37] [INFO] [JDA]: Finished Loading!\r\n[16:19:09] [INFO] [NativeLibraryLoader]: Native library libmpg123-0: loading with filter com.sedmelluq.discord.lavaplayer.natives.ConnectorNativeLibLoader$$Lambda$237/470342757@e75991d\r\n[16:19:09] [INFO] [NativeLibraryLoader]: Native library connector: loading with filter null\r\n[16:19:10] [INFO] [NativeLibraryLoader]: Native library connector: successfully loaded.\r\n```\r\n\r\n\r\nBut when it comes into my Raspberry Pi with Ubuntu installed, it failed to run.\r\n\r\nError occurred after I send a command to play a music...\r\n\r\n```none\r\n[08:20:52] [INFO] [JDA]: Login Successful!\r\n[08:20:53] [INFO] [WebSocketClient]: Connected to WebSocket\r\n[08:20:53] [INFO] [JDA]: Finished Loading!\r\n[08:21:20] [WARN] [RateLimiter]: Encountered 429 on route PATCH/channels/{channel_id} with bucket 9852e1a53c06ffc5a89d65fef85ca4ce:channel_id=867720908658704385 Retry-After: 467000 ms\r\n[08:21:22] [INFO] [NativeLibraryLoader]: Native library libmpg123-0: loading with filter com.sedmelluq.discord.lavaplayer.natives.ConnectorNativeLibLoader$$Lambda$240/1535558280@629e30f3\r\n[08:21:22] [INFO] [NativeLibraryLoader]: Native library connector: loading with filter null\r\n[08:21:22] [ERROR] [NativeLibraryLoader]: Native library connector: loading failed.\r\njava.lang.UnsatisfiedLinkError: Required library was not found\r\n        at com.sedmelluq.lava.common.natives.NativeLibraryLoader.extractLibraryFromResources(NativeLibraryLoader.java:125)\r\n        at com.sedmelluq.lava.common.natives.NativeLibraryLoader.loadInternal(NativeLibraryLoader.java:110)\r\n        at com.sedmelluq.lava.common.natives.NativeLibraryLoader.loadWithFailureCheck(NativeLibraryLoader.java:84)\r\n        at com.sedmelluq.lava.common.natives.NativeLibraryLoader.load(NativeLibraryLoader.java:69)\r\n        at com.sedmelluq.discord.lavaplayer.natives.ConnectorNativeLibLoader.loadConnectorLibrary(ConnectorNativeLibLoader.java:21)\r\n        at com.sedmelluq.discord.lavaplayer.natives.opus.OpusDecoderLibrary.getInstance(OpusDecoderLibrary.java:13)\r\n        at com.sedmelluq.discord.lavaplayer.natives.opus.OpusDecoder.&lt;init&gt;(OpusDecoder.java:20)\r\n        at com.sedmelluq.discord.lavaplayer.container.common.OpusPacketRouter.initialiseDecoder(OpusPacketRouter.java:193)\r\n        at com.sedmelluq.discord.lavaplayer.container.common.OpusPacketRouter.checkDecoderNecessity(OpusPacketRouter.java:177)\r\n        at com.sedmelluq.discord.lavaplayer.container.common.OpusPacketRouter.process(OpusPacketRouter.java:93)\r\n        at com.sedmelluq.discord.lavaplayer.container.matroska.MatroskaOpusTrackConsumer.consume(MatroskaOpusTrackConsumer.java:46)\r\n        at com.sedmelluq.discord.lavaplayer.container.matroska.MatroskaStreamingFile.processFrameInBlock(MatroskaStreamingFile.java:371)\r\n        at com.sedmelluq.discord.lavaplayer.container.matroska.MatroskaStreamingFile.parseClusterSimpleBlock(MatroskaStreamingFile.java:335)\r\n        at com.sedmelluq.discord.lavaplayer.container.matroska.MatroskaStreamingFile.parseNextCluster(MatroskaStreamingFile.java:320)\r\n        at com.sedmelluq.discord.lavaplayer.container.matroska.MatroskaStreamingFile.provideFrames(MatroskaStreamingFile.java:296)\r\n        at com.sedmelluq.discord.lavaplayer.container.matroska.MatroskaAudioTrack.lambda$process$0(MatroskaAudioTrack.java:39)\r\n        at com.sedmelluq.discord.lavaplayer.track.playback.LocalAudioTrackExecutor.executeProcessingLoop(LocalAudioTrackExecutor.java:275)\r\n        at com.sedmelluq.discord.lavaplayer.track.playback.LocalAudioTrackExecutor.executeProcessingLoop(LocalAudioTrackExecutor.java:249)\r\n        at com.sedmelluq.discord.lavaplayer.container.matroska.MatroskaAudioTrack.process(MatroskaAudioTrack.java:38)\r\n        at com.sedmelluq.discord.lavaplayer.track.DelegatedAudioTrack.processDelegate(DelegatedAudioTrack.java:25)\r\n        at com.sedmelluq.discord.lavaplayer.source.youtube.YoutubeAudioTrack.processStatic(YoutubeAudioTrack.java:57)\r\n        at com.sedmelluq.discord.lavaplayer.source.youtube.YoutubeAudioTrack.process(YoutubeAudioTrack.java:49)\r\n        at com.sedmelluq.discord.lavaplayer.track.playback.LocalAudioTrackExecutor.execute(LocalAudioTrackExecutor.java:104)\r\n        at com.sedmelluq.discord.lavaplayer.player.DefaultAudioPlayerManager.lambda$executeTrack$1(DefaultAudioPlayerManager.java:348)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n        at java.lang.Thread.run(Thread.java:748)\r\n[08:21:22] [ERROR] [LocalAudioTrackExecutor]: Error in playback of 6pEs5DL2UVU\r\ncom.sedmelluq.discord.lavaplayer.tools.FriendlyException: Something went wrong when decoding the track.\r\n        at com.sedmelluq.discord.lavaplayer.tools.ExceptionTools.wrapUnfriendlyExceptions(ExceptionTools.java:44)\r\n        at com.sedmelluq.discord.lavaplayer.track.playback.LocalAudioTrackExecutor.executeProcessingLoop(LocalAudioTrackExecutor.java:293)\r\n        at com.sedmelluq.discord.lavaplayer.track.playback.LocalAudioTrackExecutor.executeProcessingLoop(LocalAudioTrackExecutor.java:249)\r\n        at com.sedmelluq.discord.lavaplayer.container.matroska.MatroskaAudioTrack.process(MatroskaAudioTrack.java:38)\r\n        at com.sedmelluq.discord.lavaplayer.track.DelegatedAudioTrack.processDelegate(DelegatedAudioTrack.java:25)\r\n        at com.sedmelluq.discord.lavaplayer.source.youtube.YoutubeAudioTrack.processStatic(YoutubeAudioTrack.java:57)\r\n        at com.sedmelluq.discord.lavaplayer.source.youtube.YoutubeAudioTrack.process(YoutubeAudioTrack.java:49)\r\n        at com.sedmelluq.discord.lavaplayer.track.playback.LocalAudioTrackExecutor.execute(LocalAudioTrackExecutor.java:104)\r\n        at com.sedmelluq.discord.lavaplayer.player.DefaultAudioPlayerManager.lambda$executeTrack$1(DefaultAudioPlayerManager.java:348)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n        at java.lang.Thread.run(Thread.java:748)\r\n        Suppressed: com.sedmelluq.discord.lavaplayer.tools.exception.EnvironmentInformation: \r\n  lavaplayer.version: 1.3.78\r\n  os.arch: aarch64\r\n  os.name: Linux\r\n  os.version: 5.11.0-1009-raspi\r\n  java.vendor: Private Build\r\n  java.version: 1.8.0_292\r\n  java.runtime.version: 1.8.0_292-8u292-b10-0ubuntu1-b10\r\n  java.vm.version: 25.292-b10\r\n```\r\nI had tried this method [Change to Cp1252 encoding](https://maven.apache.org/general.html#encoding-warning), but it still failed.\r\n","title":"Jar file runs perfectly on Windows, but failed on Ubuntu inside Rasp Pi","body":"<p>Here is my discord music player bot, I compiled and installed it with Maven and Java 8 using the following procedure:</p>\n<pre class=\"lang-none prettyprint-override\"><code>mvn clean\nmvn compile\nmvn test-compile\nmvn test\nmvn install\n</code></pre>\n<p>And here is my pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.jagrosh&lt;/groupId&gt;\n    &lt;artifactId&gt;JMusicBot&lt;/artifactId&gt;\n    &lt;version&gt;Snapshot&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    \n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;dv8tion&lt;/id&gt;\n            &lt;name&gt;m2-dv8tion&lt;/name&gt;\n            &lt;url&gt;https://m2.dv8tion.net/releases&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;central&lt;/id&gt;\n            &lt;name&gt;bintray&lt;/name&gt;\n            &lt;url&gt;https://jcenter.bintray.com&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;jitpack.io&lt;/id&gt;\n            &lt;url&gt;https://jitpack.io&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    \n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.dv8tion&lt;/groupId&gt; \n            &lt;artifactId&gt;JDA&lt;/artifactId&gt; \n            &lt;version&gt;4.3.0_324&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- using a fork of this to fix some issues faster --&gt;\n        &lt;!-- dependency&gt;\n            &lt;groupId&gt;com.sedmelluq&lt;/groupId&gt;\n            &lt;artifactId&gt;lavaplayer&lt;/artifactId&gt;\n            &lt;version&gt;1.3.78&lt;/version&gt;\n        &lt;/dependency --&gt;\n        &lt;dependency&gt;\n        &lt;groupId&gt;com.github.jagrosh&lt;/groupId&gt;\n        &lt;artifactId&gt;lavaplayer&lt;/artifactId&gt;\n        &lt;version&gt;jmusicbot-SNAPSHOT&lt;/version&gt;\n    &lt;/dependency&gt;\n        &lt;!-- this is needed, but isn't actually hosted anywhere anymore... uh --&gt;\n        &lt;!--dependency&gt;\n            &lt;groupId&gt;com.sedmelluq&lt;/groupId&gt;\n            &lt;artifactId&gt;lavaplayer-natives-extra&lt;/artifactId&gt;\n            &lt;version&gt;1.3.13&lt;/version&gt;\n        &lt;/dependency--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.jagrosh&lt;/groupId&gt;\n            &lt;artifactId&gt;jda-utilities&lt;/artifactId&gt;\n            &lt;version&gt;3.0.5&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;!-- jitpack for now, we need to version this correctly later --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.github.jagrosh&lt;/groupId&gt;\n        &lt;artifactId&gt;JLyrics&lt;/artifactId&gt;\n        &lt;version&gt;-SNAPSHOT&lt;/version&gt;\n    &lt;/dependency&gt;\n        &lt;!--dependency&gt;\n            &lt;groupId&gt;com.jagrosh&lt;/groupId&gt;\n            &lt;artifactId&gt;JLyrics&lt;/artifactId&gt;\n            &lt;version&gt;0.6&lt;/version&gt;\n        &lt;/dependency--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n            &lt;version&gt;1.2.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.typesafe&lt;/groupId&gt;\n            &lt;artifactId&gt;config&lt;/artifactId&gt;\n            &lt;version&gt;1.3.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jsoup&lt;/groupId&gt;\n            &lt;artifactId&gt;jsoup&lt;/artifactId&gt;\n            &lt;version&gt;1.14.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n            &lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt;\n            &lt;version&gt;1.3&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    \n    &lt;build&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.5&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;shade&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\n                        &lt;shadedClassifierName&gt;All&lt;/shadedClassifierName&gt;\n                        &lt;artifactSet&gt;\n                            &lt;includes&gt;\n                                &lt;include&gt;*:*&lt;/include&gt;\n                            &lt;/includes&gt;\n                        &lt;/artifactSet&gt;\n                        &lt;transformers&gt;\n                            &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.AppendingTransformer&quot;&gt;\n                                &lt;resource&gt;reference.conf&lt;/resource&gt;\n                            &lt;/transformer&gt;\n                            &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                                &lt;manifestEntries&gt;\n                                    &lt;Main-Class&gt;com.jagrosh.jmusicbot.JMusicBot&lt;/Main-Class&gt;\n                                    &lt;Specification-Title&gt;${project.artifactId}&lt;/Specification-Title&gt;\n                                    &lt;Specification-Version&gt;${project.version}&lt;/Specification-Version&gt;\n                                    &lt;Implementation-Title&gt;${project.artifactId}&lt;/Implementation-Title&gt;\n                                    &lt;Implementation-Version&gt;${project.version}&lt;/Implementation-Version&gt;\n                                    &lt;Implementation-Vendor-Id&gt;${project.groupId}&lt;/Implementation-Vendor-Id&gt;\n                                &lt;/manifestEntries&gt;\n                            &lt;/transformer&gt;\n                        &lt;/transformers&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/build&gt;\n    \n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Runs perfectly on my Windows 10</p>\n<pre class=\"lang-none prettyprint-override\"><code>[16:18:35] [INFO] [JDA]: Login Successful!\n[16:18:36] [INFO] [WebSocketClient]: Connected to WebSocket\n[16:18:37] [INFO] [JDA]: Finished Loading!\n[16:19:09] [INFO] [NativeLibraryLoader]: Native library libmpg123-0: loading with filter com.sedmelluq.discord.lavaplayer.natives.ConnectorNativeLibLoader$$Lambda$237/470342757@e75991d\n[16:19:09] [INFO] [NativeLibraryLoader]: Native library connector: loading with filter null\n[16:19:10] [INFO] [NativeLibraryLoader]: Native library connector: successfully loaded.\n</code></pre>\n<p>But when it comes into my Raspberry Pi with Ubuntu installed, it failed to run.</p>\n<p>Error occurred after I send a command to play a music...</p>\n<pre class=\"lang-none prettyprint-override\"><code>[08:20:52] [INFO] [JDA]: Login Successful!\n[08:20:53] [INFO] [WebSocketClient]: Connected to WebSocket\n[08:20:53] [INFO] [JDA]: Finished Loading!\n[08:21:20] [WARN] [RateLimiter]: Encountered 429 on route PATCH/channels/{channel_id} with bucket 9852e1a53c06ffc5a89d65fef85ca4ce:channel_id=867720908658704385 Retry-After: 467000 ms\n[08:21:22] [INFO] [NativeLibraryLoader]: Native library libmpg123-0: loading with filter com.sedmelluq.discord.lavaplayer.natives.ConnectorNativeLibLoader$$Lambda$240/1535558280@629e30f3\n[08:21:22] [INFO] [NativeLibraryLoader]: Native library connector: loading with filter null\n[08:21:22] [ERROR] [NativeLibraryLoader]: Native library connector: loading failed.\njava.lang.UnsatisfiedLinkError: Required library was not found\n        at com.sedmelluq.lava.common.natives.NativeLibraryLoader.extractLibraryFromResources(NativeLibraryLoader.java:125)\n        at com.sedmelluq.lava.common.natives.NativeLibraryLoader.loadInternal(NativeLibraryLoader.java:110)\n        at com.sedmelluq.lava.common.natives.NativeLibraryLoader.loadWithFailureCheck(NativeLibraryLoader.java:84)\n        at com.sedmelluq.lava.common.natives.NativeLibraryLoader.load(NativeLibraryLoader.java:69)\n        at com.sedmelluq.discord.lavaplayer.natives.ConnectorNativeLibLoader.loadConnectorLibrary(ConnectorNativeLibLoader.java:21)\n        at com.sedmelluq.discord.lavaplayer.natives.opus.OpusDecoderLibrary.getInstance(OpusDecoderLibrary.java:13)\n        at com.sedmelluq.discord.lavaplayer.natives.opus.OpusDecoder.&lt;init&gt;(OpusDecoder.java:20)\n        at com.sedmelluq.discord.lavaplayer.container.common.OpusPacketRouter.initialiseDecoder(OpusPacketRouter.java:193)\n        at com.sedmelluq.discord.lavaplayer.container.common.OpusPacketRouter.checkDecoderNecessity(OpusPacketRouter.java:177)\n        at com.sedmelluq.discord.lavaplayer.container.common.OpusPacketRouter.process(OpusPacketRouter.java:93)\n        at com.sedmelluq.discord.lavaplayer.container.matroska.MatroskaOpusTrackConsumer.consume(MatroskaOpusTrackConsumer.java:46)\n        at com.sedmelluq.discord.lavaplayer.container.matroska.MatroskaStreamingFile.processFrameInBlock(MatroskaStreamingFile.java:371)\n        at com.sedmelluq.discord.lavaplayer.container.matroska.MatroskaStreamingFile.parseClusterSimpleBlock(MatroskaStreamingFile.java:335)\n        at com.sedmelluq.discord.lavaplayer.container.matroska.MatroskaStreamingFile.parseNextCluster(MatroskaStreamingFile.java:320)\n        at com.sedmelluq.discord.lavaplayer.container.matroska.MatroskaStreamingFile.provideFrames(MatroskaStreamingFile.java:296)\n        at com.sedmelluq.discord.lavaplayer.container.matroska.MatroskaAudioTrack.lambda$process$0(MatroskaAudioTrack.java:39)\n        at com.sedmelluq.discord.lavaplayer.track.playback.LocalAudioTrackExecutor.executeProcessingLoop(LocalAudioTrackExecutor.java:275)\n        at com.sedmelluq.discord.lavaplayer.track.playback.LocalAudioTrackExecutor.executeProcessingLoop(LocalAudioTrackExecutor.java:249)\n        at com.sedmelluq.discord.lavaplayer.container.matroska.MatroskaAudioTrack.process(MatroskaAudioTrack.java:38)\n        at com.sedmelluq.discord.lavaplayer.track.DelegatedAudioTrack.processDelegate(DelegatedAudioTrack.java:25)\n        at com.sedmelluq.discord.lavaplayer.source.youtube.YoutubeAudioTrack.processStatic(YoutubeAudioTrack.java:57)\n        at com.sedmelluq.discord.lavaplayer.source.youtube.YoutubeAudioTrack.process(YoutubeAudioTrack.java:49)\n        at com.sedmelluq.discord.lavaplayer.track.playback.LocalAudioTrackExecutor.execute(LocalAudioTrackExecutor.java:104)\n        at com.sedmelluq.discord.lavaplayer.player.DefaultAudioPlayerManager.lambda$executeTrack$1(DefaultAudioPlayerManager.java:348)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n        at java.lang.Thread.run(Thread.java:748)\n[08:21:22] [ERROR] [LocalAudioTrackExecutor]: Error in playback of 6pEs5DL2UVU\ncom.sedmelluq.discord.lavaplayer.tools.FriendlyException: Something went wrong when decoding the track.\n        at com.sedmelluq.discord.lavaplayer.tools.ExceptionTools.wrapUnfriendlyExceptions(ExceptionTools.java:44)\n        at com.sedmelluq.discord.lavaplayer.track.playback.LocalAudioTrackExecutor.executeProcessingLoop(LocalAudioTrackExecutor.java:293)\n        at com.sedmelluq.discord.lavaplayer.track.playback.LocalAudioTrackExecutor.executeProcessingLoop(LocalAudioTrackExecutor.java:249)\n        at com.sedmelluq.discord.lavaplayer.container.matroska.MatroskaAudioTrack.process(MatroskaAudioTrack.java:38)\n        at com.sedmelluq.discord.lavaplayer.track.DelegatedAudioTrack.processDelegate(DelegatedAudioTrack.java:25)\n        at com.sedmelluq.discord.lavaplayer.source.youtube.YoutubeAudioTrack.processStatic(YoutubeAudioTrack.java:57)\n        at com.sedmelluq.discord.lavaplayer.source.youtube.YoutubeAudioTrack.process(YoutubeAudioTrack.java:49)\n        at com.sedmelluq.discord.lavaplayer.track.playback.LocalAudioTrackExecutor.execute(LocalAudioTrackExecutor.java:104)\n        at com.sedmelluq.discord.lavaplayer.player.DefaultAudioPlayerManager.lambda$executeTrack$1(DefaultAudioPlayerManager.java:348)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n        at java.lang.Thread.run(Thread.java:748)\n        Suppressed: com.sedmelluq.discord.lavaplayer.tools.exception.EnvironmentInformation: \n  lavaplayer.version: 1.3.78\n  os.arch: aarch64\n  os.name: Linux\n  os.version: 5.11.0-1009-raspi\n  java.vendor: Private Build\n  java.version: 1.8.0_292\n  java.runtime.version: 1.8.0_292-8u292-b10-0ubuntu1-b10\n  java.vm.version: 25.292-b10\n</code></pre>\n<p>I had tried this method <a href=\"https://maven.apache.org/general.html#encoding-warning\" rel=\"nofollow noreferrer\">Change to Cp1252 encoding</a>, but it still failed.</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637147441,"creation_date":1637147441,"answer_id":70003313,"question_id":70003218,"body_markdown":"There are a lot of optional parts in the pattern. You can make the last 2 groups optional, but you would have to change the quantifiers to 1 or more times using `+` to prevent partial matches (Or add `^` to the pattern to assert the start of the string)\r\n\r\n    ([0-9-]+) ([\\p{L}*,. &#39;-]+) ([0-9 ]+) ([\\p{L}*,. &#39;-]+)(?: ([0-9]{5}) ([\\p{L}*,. &#39;-]+))?\r\n\r\n[Regex demo](https://regex101.com/r/JQH0GW/1)","title":"Regex based on address in any order","body":"<p>There are a lot of optional parts in the pattern. You can make the last 2 groups optional, but you would have to change the quantifiers to 1 or more times using <code>+</code> to prevent partial matches (Or add <code>^</code> to the pattern to assert the start of the string)</p>\n<pre><code>([0-9-]+) ([\\p{L}*,. '-]+) ([0-9 ]+) ([\\p{L}*,. '-]+)(?: ([0-9]{5}) ([\\p{L}*,. '-]+))?\n</code></pre>\n<p><a href=\"https://regex101.com/r/JQH0GW/1\" rel=\"nofollow noreferrer\">Regex demo</a></p>\n"}],"owner":{"account_id":16119383,"reputation":19,"user_id":11635696,"display_name":"Gano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637147441,"creation_date":1637146995,"question_id":70003218,"body_markdown":"I have a regex based on an address format :\r\n```([0-9-]*) ?([\\p{L}*,\\. &#39;-]*) ?([0-9 ]*) ?([\\p{L}*,\\. &#39;-]*) ([0-9]{5}) ?([\\p{L}*,\\. &#39;-]*)```\r\n\r\nIt can match with this :\r\n16 Rue du Pont Louis-Philippe 75000 Paris\r\n\r\nBut I&#39;d like to get this regex match with this format too : \r\n75000 Paris 16 Rue du Pont Louis-Philippe\r\n\r\nCan someone help me pls ?","title":"Regex based on address in any order","body":"<p>I have a regex based on an address format :\n<code>([0-9-]*) ?([\\p{L}*,\\. '-]*) ?([0-9 ]*) ?([\\p{L}*,\\. '-]*) ([0-9]{5}) ?([\\p{L}*,\\. '-]*)</code></p>\n<p>It can match with this :\n16 Rue du Pont Louis-Philippe 75000 Paris</p>\n<p>But I'd like to get this regex match with this format too :\n75000 Paris 16 Rue du Pont Louis-Philippe</p>\n<p>Can someone help me pls ?</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1637077871,"post_id":69992110,"comment_id":123726703,"body_markdown":"Create and post a [mre] please.","body":"Create and post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please."},{"owner":{"account_id":23061841,"reputation":39,"user_id":17176959,"display_name":"Kacper"},"score":0,"creation_date":1637082543,"post_id":69992110,"comment_id":123728811,"body_markdown":"Could you explain what&#39;s wrong with my question?","body":"Could you explain what&#39;s wrong with my question?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1637082622,"post_id":69992110,"comment_id":123728840,"body_markdown":"Read the link I posted.","body":"Read the link I posted."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1637083161,"post_id":69992110,"comment_id":123729063,"body_markdown":"Specifically: “Your code examples should be … complete. Provide all code needed to reproduce the issue in the question itself.”","body":"Specifically: “Your code examples should be … complete. Provide all code needed to reproduce the issue in the question itself.”"},{"owner":{"account_id":23061841,"reputation":39,"user_id":17176959,"display_name":"Kacper"},"score":2,"creation_date":1637084092,"post_id":69992110,"comment_id":123729441,"body_markdown":"Ok I pasted code, which reproduces my issue and it&#39;s as simple as possible. It&#39;s alright now? That&#39;s my first post, so sorry for my lack of knowledge about rules.","body":"Ok I pasted code, which reproduces my issue and it&#39;s as simple as possible. It&#39;s alright now? That&#39;s my first post, so sorry for my lack of knowledge about rules."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1637093563,"post_id":69992110,"comment_id":123732855,"body_markdown":"I don&#39;t think what you attempting to do will be possible (I could be wrong).  Thanks for supplying the minimal example, I voted to reopen this question, in case somebody can work out an answer.","body":"I don&#39;t think what you attempting to do will be possible (I could be wrong).  Thanks for supplying the minimal example, I voted to reopen this question, in case somebody can work out an answer."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1637093599,"post_id":69992110,"comment_id":123732871,"body_markdown":"This is a minor thing, but I suggest that you edit the the title of the question to be an actual question and to make it specific about what you are trying to do, while trying to keep it concise.  I don&#39;t quite understand why people don&#39;t ask questions when they ask questions, it doesn&#39;t make any sense to me.","body":"This is a minor thing, but I suggest that you edit the the title of the question to be an actual question and to make it specific about what you are trying to do, while trying to keep it concise.  I don&#39;t quite understand why people don&#39;t ask questions when they ask questions, it doesn&#39;t make any sense to me."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1637103687,"post_id":69992110,"comment_id":123735836,"body_markdown":"I only see here the behavior I expect to see. The max height is 75% of the width, and the window resizes to the height it&#39;s dragged to, or to the max height, whichever is smaller. Both the width and height, within those constraints, change as the corner of the window is dragged. Maybe I am misunderstanding the issue?","body":"I only see here the behavior I expect to see. The max height is 75% of the width, and the window resizes to the height it&#39;s dragged to, or to the max height, whichever is smaller. Both the width and height, within those constraints, change as the corner of the window is dragged. Maybe I am misunderstanding the issue?"},{"owner":{"account_id":1193459,"reputation":3979,"user_id":1165724,"display_name":"swpalmer"},"score":0,"creation_date":1637118712,"post_id":69992110,"comment_id":123738382,"body_markdown":"What  version of JavaFX are you using?  Your example works for me with JavaFX 17.","body":"What  version of JavaFX are you using?  Your example works for me with JavaFX 17."},{"owner":{"account_id":23061841,"reputation":39,"user_id":17176959,"display_name":"Kacper"},"score":1,"creation_date":1637132325,"post_id":69992110,"comment_id":123740938,"body_markdown":"I work with JavaFX 16, I think it&#39;s not version problem. I recorded video, which will exactly explain what I&#39;m talking about https://vimeo.com/646764249","body":"I work with JavaFX 16, I think it&#39;s not version problem. I recorded video, which will exactly explain what I&#39;m talking about <a href=\"https://vimeo.com/646764249\" rel=\"nofollow noreferrer\">vimeo.com/646764249</a>"},{"owner":{"account_id":23061841,"reputation":39,"user_id":17176959,"display_name":"Kacper"},"score":1,"creation_date":1637132734,"post_id":69992110,"comment_id":123741037,"body_markdown":"In the 17 second and further I&#39;m not able to ,,stretch&#39;&#39; the window vertically, although maxHeight was increased.","body":"In the 17 second and further I&#39;m not able to ,,stretch&#39;&#39; the window vertically, although maxHeight was increased."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1637161295,"post_id":69992110,"comment_id":123752156,"body_markdown":"can reproduce the behaviour in current fx dev (18ea). Looks like some collaborator doesn&#39;t update the max while resizing. Could be the native peer (that&#39;s the one handling the mouse interactions), don&#39;t know though. Please consider filing a bug report.","body":"can reproduce the behaviour in current fx dev (18ea). Looks like some collaborator doesn&#39;t update the max while resizing. Could be the native peer (that&#39;s the one handling the mouse interactions), don&#39;t know though. Please consider filing a bug report."},{"owner":{"account_id":23061841,"reputation":39,"user_id":17176959,"display_name":"Kacper"},"score":0,"creation_date":1637163927,"post_id":69992110,"comment_id":123753506,"body_markdown":"Is there any simple way to achieve similar effect I want to have?","body":"Is there any simple way to achieve similar effect I want to have?"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1637164225,"post_id":69992110,"comment_id":123753650,"body_markdown":"don&#39;t know - don&#39;t even know if the behavior is a bug or a feature ;)","body":"don&#39;t know - don&#39;t even know if the behavior is a bug or a feature ;)"},{"owner":{"account_id":23061841,"reputation":39,"user_id":17176959,"display_name":"Kacper"},"score":0,"creation_date":1637164734,"post_id":69992110,"comment_id":123753936,"body_markdown":"Ok, thank you. My last question is if can I somehow unset maxHeight? `stage.setMaxHeight(Control.USE_PREF_SIZE)` throws an exception.","body":"Ok, thank you. My last question is if can I somehow unset maxHeight? <code>stage.setMaxHeight(Control.USE_PREF_SIZE)</code> throws an exception."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1637170936,"post_id":69992110,"comment_id":123756805,"body_markdown":"@Kacper the question about unsetting max height is actually a new question, so you could ask it as one.  My guess is that you probably can&#39;t, but you could probably just set it to a large number (e.g. 100_000), which would be effectively the same as unsetting it.","body":"@Kacper the question about unsetting max height is actually a new question, so you could ask it as one.  My guess is that you probably can&#39;t, but you could probably just set it to a large number (e.g. 100_000), which would be effectively the same as unsetting it."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1637171143,"post_id":69992110,"comment_id":123756884,"body_markdown":"One other issue that I noted when I was trying to test this is that the problem isn&#39;t only that the height size can get &quot;stuck&quot; at the wrong value when resizing.  There appears to be an additional issue related to the snapping to screen borders functionality in windows, in that sometimes the height can end up larger than the set max height when you drag the window resizer close to or over the bottom of the screen because it snaps window size to the bottom border in that case, regardless sometimes of the set max size.","body":"One other issue that I noted when I was trying to test this is that the problem isn&#39;t only that the height size can get &quot;stuck&quot; at the wrong value when resizing.  There appears to be an additional issue related to the snapping to screen borders functionality in windows, in that sometimes the height can end up larger than the set max height when you drag the window resizer close to or over the bottom of the screen because it snaps window size to the bottom border in that case, regardless sometimes of the set max size."},{"owner":{"account_id":23061841,"reputation":39,"user_id":17176959,"display_name":"Kacper"},"score":0,"creation_date":1637244633,"post_id":69992110,"comment_id":123778490,"body_markdown":"Thanks for help @kleopatra. Maybe in the future someone will repair that bug.","body":"Thanks for help @kleopatra. Maybe in the future someone will repair that bug."},{"owner":{"account_id":1193459,"reputation":3979,"user_id":1165724,"display_name":"swpalmer"},"score":0,"creation_date":1637252702,"post_id":69992110,"comment_id":123782252,"body_markdown":"Are you running this on Windows, Linux, or macOS?  I tried with JDK 17 on macOS and it seemed to be working as intended.","body":"Are you running this on Windows, Linux, or macOS?  I tried with JDK 17 on macOS and it seemed to be working as intended."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1637253589,"post_id":69992110,"comment_id":123782691,"body_markdown":"only bugs that are reported have any chance of being fixed in future - did you report this?","body":"only bugs that are reported have any chance of being fixed in future - did you report this?"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1637367473,"post_id":69992110,"comment_id":123816080,"body_markdown":"@swpalmer my tests were on Windows and the behavior was similar to that described by Kacper (i.e. not really working as intended in some cases).","body":"@swpalmer my tests were on Windows and the behavior was similar to that described by Kacper (i.e. not really working as intended in some cases)."},{"owner":{"account_id":23061841,"reputation":39,"user_id":17176959,"display_name":"Kacper"},"score":0,"creation_date":1637396712,"post_id":69992110,"comment_id":123819579,"body_markdown":"@kleopatra I haven&#39;t reported that yet, but I&#39;ll do it soon.","body":"@kleopatra I haven&#39;t reported that yet, but I&#39;ll do it soon."}],"owner":{"account_id":23061841,"reputation":39,"user_id":17176959,"display_name":"Kacper"},"comment_count":22,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":339,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1637147034,"creation_date":1637077384,"question_id":69992110,"body_markdown":"I&#39;ve got a problem with resizing window in javafx. I want maxHeight of stage to be at most three fourth of width of the stage. That code reproduces my issue\r\n\r\n    public class Main extends Application {\r\n\r\n        @Override\r\n        public void start(Stage stage) throws Exception{\r\n            stage.show();\r\n            stage.widthProperty().addListener((obs, oldVal, newVal) -&gt; {\r\n                stage.setMaxHeight(newVal.doubleValue() * 0.75);\r\n                System.out.println(stage.getMaxHeight());\r\n            });\r\n        }\r\n    \r\n        public static void main(String[] args) { launch(args); }\r\n    }\r\n\r\nProblem occurs when I try to stretch window (by clicking the CORNER and dragging to resize). Width is getting bigger but at the same time I can&#39;t stretch it vertically, until I release mouse button, although value of maxHeight is much bigger than it&#39;s showed on screen (e.g. value of maxHeight is 500 but I can resize it to e.g. only 300). It looks like something is blocked until I release mouse button. I&#39;d like to be able to resize window (by dragging the corner) vertically and horizontally simultaneously, what is not possible. I tried a lot of things (with binding) but problem remains the same.\r\n","title":"JavaFX resizing window","body":"<p>I've got a problem with resizing window in javafx. I want maxHeight of stage to be at most three fourth of width of the stage. That code reproduces my issue</p>\n<pre><code>public class Main extends Application {\n\n    @Override\n    public void start(Stage stage) throws Exception{\n        stage.show();\n        stage.widthProperty().addListener((obs, oldVal, newVal) -&gt; {\n            stage.setMaxHeight(newVal.doubleValue() * 0.75);\n            System.out.println(stage.getMaxHeight());\n        });\n    }\n\n    public static void main(String[] args) { launch(args); }\n}\n</code></pre>\n<p>Problem occurs when I try to stretch window (by clicking the CORNER and dragging to resize). Width is getting bigger but at the same time I can't stretch it vertically, until I release mouse button, although value of maxHeight is much bigger than it's showed on screen (e.g. value of maxHeight is 500 but I can resize it to e.g. only 300). It looks like something is blocked until I release mouse button. I'd like to be able to resize window (by dragging the corner) vertically and horizontally simultaneously, what is not possible. I tried a lot of things (with binding) but problem remains the same.</p>\n"},{"tags":["java","jwt","keycloak"],"answers":[{"tags":[],"owner":{"account_id":7874280,"reputation":415,"user_id":5950567,"display_name":"DavidPi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1567156632,"creation_date":1567156536,"answer_id":57723858,"question_id":57723347,"body_markdown":"1. I may be wrong but I don&#39;t see this as a bad practice because the Token is signed. A client won&#39;t be able to change the content of the token payload without knowing your secret (The token signature would be false). Just be sure to check the token validity.\r\n\r\n2. If you want to change the information provided in your token, you should have a look at the &quot;Client Scope&quot; section.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nD7W4.png\r\n\r\nFrom there, you&#39;ll be able to change the content of your jwt token.\r\n","title":"Remove Roles Information from JWT token","body":"<ol>\n<li><p>I may be wrong but I don't see this as a bad practice because the Token is signed. A client won't be able to change the content of the token payload without knowing your secret (The token signature would be false). Just be sure to check the token validity.</p></li>\n<li><p>If you want to change the information provided in your token, you should have a look at the \"Client Scope\" section.</p></li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/nD7W4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nD7W4.png\" alt=\"enter image description here\"></a></p>\n\n<p>From there, you'll be able to change the content of your jwt token.</p>\n"},{"tags":[],"owner":{"account_id":305112,"reputation":378,"user_id":615052,"accept_rate":83,"display_name":"Erfankam"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1637146985,"creation_date":1637146109,"answer_id":70002961,"question_id":57723347,"body_markdown":"I think, it depends on your **security policies exist in your software boundary or environment**. We had a project that existing user or client roles inside JWT token introduced a major security issue by security analysts, although *we had launched it many times* in other critical environments.&lt;br&gt;\r\nBy the way, some software frameworks do some ***proactive authorization checks*** by using roles coming inside JWT and so, make them **mandatory** for these kind of systems based their security design.\r\n&lt;br&gt; So to wrap it up, \r\n\r\n&gt; Try enquiry security analysts of your deployment s environments about\r\n&gt; it.","title":"Remove Roles Information from JWT token","body":"<p>I think, it depends on your <strong>security policies exist in your software boundary or environment</strong>. We had a project that existing user or client roles inside JWT token introduced a major security issue by security analysts, although <em>we had launched it many times</em> in other critical environments.<br>\nBy the way, some software frameworks do some <em><strong>proactive authorization checks</strong></em> by using roles coming inside JWT and so, make them <strong>mandatory</strong> for these kind of systems based their security design.\n<br> So to wrap it up,</p>\n<blockquote>\n<p>Try enquiry security analysts of your deployment s environments about\nit.</p>\n</blockquote>\n"}],"owner":{"account_id":5648238,"reputation":158,"user_id":4989264,"accept_rate":14,"display_name":"ThatMan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2112,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1637146985,"creation_date":1567154352,"question_id":57723347,"body_markdown":"I am using keycloak for authentication for the application. I want to remove the realm access from JWT token generated by keycloak. \r\n\r\n1. Is it a bad practice to have realm access (roles) ion JWT token?\r\n2. Is there a way to remove realm access from JWT token generated by keycloak service?","title":"Remove Roles Information from JWT token","body":"<p>I am using keycloak for authentication for the application. I want to remove the realm access from JWT token generated by keycloak. </p>\n\n<ol>\n<li>Is it a bad practice to have realm access (roles) ion JWT token?</li>\n<li>Is there a way to remove realm access from JWT token generated by keycloak service?</li>\n</ol>\n"},{"tags":["java","jcodec"],"comments":[{"owner":{"account_id":7753338,"reputation":1218,"user_id":5985343,"display_name":"jmizv"},"score":2,"creation_date":1637082196,"post_id":69993021,"comment_id":123728671,"body_markdown":"Maybe it&#39;s better to ask at https://github.com/jcodec/jcodec/issues","body":"Maybe it&#39;s better to ask at <a href=\"https://github.com/jcodec/jcodec/issues\" rel=\"nofollow noreferrer\">github.com/jcodec/jcodec/issues</a>"}],"answers":[{"tags":[],"owner":{"account_id":8204014,"reputation":513,"user_id":6174386,"display_name":"Herv&#233; Girod"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637146894,"creation_date":1637146894,"answer_id":70003197,"question_id":69993021,"body_markdown":"It was my mistake, I did recreate the `AWTSequenceEncoder`  each time I added an image.","title":"Generation of a video with several images with jcodec","body":"<p>It was my mistake, I did recreate the <code>AWTSequenceEncoder</code>  each time I added an image.</p>\n"}],"owner":{"account_id":8204014,"reputation":513,"user_id":6174386,"display_name":"Herv&#233; Girod"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70003197,"answer_count":1,"score":0,"last_activity_date":1637146894,"creation_date":1637081179,"question_id":69993021,"body_markdown":"I&#39;m using the last 0.2.5 version of jcodec to generate a video with several images. I&#39;m doing this:\r\n\r\n    AWTSequenceEncoder encoder = AWTSequenceEncoder.createSequenceEncoder(file, 25);\r\n\r\nThen for each image:\r\n\r\n    encoder.encodeImage(image);\r\n\r\nThe when I&#39;m finished:\r\n\r\n    encoder.finish();\r\n\r\nThis return a corresponding video file, without any exception, and I see correctly the first image in VLC, for example, but it seems that the duration of the video is 0. What did I do wrong? \r\n\r\n \r\n\r\n","title":"Generation of a video with several images with jcodec","body":"<p>I'm using the last 0.2.5 version of jcodec to generate a video with several images. I'm doing this:</p>\n<pre><code>AWTSequenceEncoder encoder = AWTSequenceEncoder.createSequenceEncoder(file, 25);\n</code></pre>\n<p>Then for each image:</p>\n<pre><code>encoder.encodeImage(image);\n</code></pre>\n<p>The when I'm finished:</p>\n<pre><code>encoder.finish();\n</code></pre>\n<p>This return a corresponding video file, without any exception, and I see correctly the first image in VLC, for example, but it seems that the duration of the video is 0. What did I do wrong?</p>\n"},{"tags":["java","for-loop","input","while-loop","output"],"comments":[{"owner":{"account_id":3435599,"reputation":4037,"user_id":2878796,"display_name":"UnholySheep"},"score":0,"creation_date":1637145606,"post_id":70002789,"comment_id":123745484,"body_markdown":"That sounds like a really roundabout way of approaching the problem. Why not just iterate the array? That is a lot easier than trying to read back from the console output","body":"That sounds like a really roundabout way of approaching the problem. Why not just iterate the array? That is a lot easier than trying to read back from the console output"}],"answers":[{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637146854,"creation_date":1637146854,"answer_id":70003179,"question_id":70002789,"body_markdown":"You should iterate for the array `numbers` like this.\r\n\r\n    public static void main(String[] args) {\r\n        int n = Integer.parseInt(args[0]);\r\n        int[] numbers = new int[n];\r\n        for (int i = 0; i &lt; n; i++) {\r\n            numbers[i] = i;\r\n        }\r\n        for (int i = 0; i &lt; n; i++) {\r\n            int r = i + (int) (Math.random() * (n - i));\r\n            int tmp = numbers[i];\r\n            numbers[i] = numbers[r];\r\n            numbers[r] = tmp;\r\n            System.out.print(numbers[i]);\r\n        }\r\n        System.out.println();\r\n\r\n        int min = Integer.MAX_VALUE;\r\n        int count = 0;\r\n\r\n        for (int i = 0; i &lt; n; ++i) {\r\n            int y = numbers[i];\r\n            if (y &lt; min) {\r\n                min = y;\r\n                ++count;\r\n            }\r\n        }\r\n\r\n        System.out.println(count);\r\n    }\r\n\r\noutput:\r\n\r\n    6457098123\r\n    3\r\n\r\n","title":"Can I, within the same file, use a previously printed line as an input to a new section?","body":"<p>You should iterate for the array <code>numbers</code> like this.</p>\n<pre><code>public static void main(String[] args) {\n    int n = Integer.parseInt(args[0]);\n    int[] numbers = new int[n];\n    for (int i = 0; i &lt; n; i++) {\n        numbers[i] = i;\n    }\n    for (int i = 0; i &lt; n; i++) {\n        int r = i + (int) (Math.random() * (n - i));\n        int tmp = numbers[i];\n        numbers[i] = numbers[r];\n        numbers[r] = tmp;\n        System.out.print(numbers[i]);\n    }\n    System.out.println();\n\n    int min = Integer.MAX_VALUE;\n    int count = 0;\n\n    for (int i = 0; i &lt; n; ++i) {\n        int y = numbers[i];\n        if (y &lt; min) {\n            min = y;\n            ++count;\n        }\n    }\n\n    System.out.println(count);\n}\n</code></pre>\n<p>output:</p>\n<pre><code>6457098123\n3\n</code></pre>\n"}],"owner":{"account_id":23365448,"reputation":1,"user_id":17437121,"display_name":"fredrik "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637146854,"creation_date":1637145348,"question_id":70002789,"body_markdown":"public class Bonus1{\r\n  public static void main(String[] args) {\r\n\r\n    int n = Integer.parseInt(args[0]);\r\n    int[] numbers = new int[n];\r\n    for (int i = 0; i &lt; n; i++ ) {\r\n      numbers[i] = i;\r\n    }\r\n    for (int i = 0; i &lt; n; i++ ) {\r\n      int r = i + (int)(Math.random() * (n - i));\r\n      int tmp = numbers[i];\r\n      numbers[i] = numbers[r];\r\n      numbers[r] = tmp;\r\n      System.out.print(numbers[i]);\r\n    }\r\n\r\n    int min = Integer.MAX_VALUE;\r\n    int count = 0;\r\n    \r\n    while(data.hasNext()){\r\n      int y = data.nextInt();\r\n      if(y &lt; min){\r\n        min = y;\r\n        count += 1;\r\n      }\r\n    }\r\n    System.out.println(count);\r\n\r\n\r\n  }\r\n}\r\n\r\nthis code isn&#39;t complete, the first 2 for-loops will generate an array between 0 to a given number in the commandline -1 \r\nSo for example java Bonus1 10 would first generate an array between 0-9 and then it will shuffle these numbers around so that it creates a random permutation.\r\n\r\nthe while loop is something I&#39;ve used before to read input and determine how many times a new lowest number is detected. so for example if I get the permutation 7 8 2 3 4 5 1 0 6 9 it will count 7 as the lowest, then 2 as the lowest and then 1 as the lowest and finally 0 as the lowest, making the total amount of times a new lowest number has been detected 4. \r\n\r\nbut this only works if I use inputs, I need to use the previously generated output as the input in the same file, is there a clever way to do that?","title":"Can I, within the same file, use a previously printed line as an input to a new section?","body":"<p>public class Bonus1{\npublic static void main(String[] args) {</p>\n<pre><code>int n = Integer.parseInt(args[0]);\nint[] numbers = new int[n];\nfor (int i = 0; i &lt; n; i++ ) {\n  numbers[i] = i;\n}\nfor (int i = 0; i &lt; n; i++ ) {\n  int r = i + (int)(Math.random() * (n - i));\n  int tmp = numbers[i];\n  numbers[i] = numbers[r];\n  numbers[r] = tmp;\n  System.out.print(numbers[i]);\n}\n\nint min = Integer.MAX_VALUE;\nint count = 0;\n\nwhile(data.hasNext()){\n  int y = data.nextInt();\n  if(y &lt; min){\n    min = y;\n    count += 1;\n  }\n}\nSystem.out.println(count);\n</code></pre>\n<p>}\n}</p>\n<p>this code isn't complete, the first 2 for-loops will generate an array between 0 to a given number in the commandline -1\nSo for example java Bonus1 10 would first generate an array between 0-9 and then it will shuffle these numbers around so that it creates a random permutation.</p>\n<p>the while loop is something I've used before to read input and determine how many times a new lowest number is detected. so for example if I get the permutation 7 8 2 3 4 5 1 0 6 9 it will count 7 as the lowest, then 2 as the lowest and then 1 as the lowest and finally 0 as the lowest, making the total amount of times a new lowest number has been detected 4.</p>\n<p>but this only works if I use inputs, I need to use the previously generated output as the input in the same file, is there a clever way to do that?</p>\n"},{"tags":["java","jsch"],"comments":[{"owner":{"account_id":2647801,"reputation":1383,"user_id":2290153,"display_name":"Matthias Wiedemann"},"score":0,"creation_date":1637154640,"post_id":70003174,"comment_id":123749063,"body_markdown":"can you connect outside of java, ssh from the the same machine?","body":"can you connect outside of java, ssh from the the same machine?"},{"owner":{"account_id":14027567,"reputation":394,"user_id":10132227,"display_name":"c_anirudh"},"score":0,"creation_date":1637223557,"post_id":70003174,"comment_id":123769933,"body_markdown":"@MatthiasWiedemann , I don&#39;t have a connectivity issue, I am trying to implement exception handling in my code, and would like to know what specific exceptions to catch IF there was a connectivity issue (or upload was interrupted) so that I can re-try.","body":"@MatthiasWiedemann , I don&#39;t have a connectivity issue, I am trying to implement exception handling in my code, and would like to know what specific exceptions to catch IF there was a connectivity issue (or upload was interrupted) so that I can re-try."}],"owner":{"account_id":14027567,"reputation":394,"user_id":10132227,"display_name":"c_anirudh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":320,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637146840,"creation_date":1637146840,"question_id":70003174,"body_markdown":"I am trying to add retry mechanism to my SFTP client which uses JSch. I want to retry sending the file in the following scenarios:\r\n- Connection timeout occurs\r\n- File transfer to remote host using put is interrupted, because of connection issues\r\n\r\nWhat specific `JSchException` messages should I check?\r\n\r\nThese are the few exceptions I came across (I am not aware of the difference):\r\n- `com.jcraft.jsch.JSchException: timeout: socket is not established`\r\n- `com.jcraft.jsch.JSchException: Session.connect: java.net.SocketTimeoutException: Read timed out`\r\n","title":"What JSchExceptions are thrown when connection timeout occurs and when file transfer using put is interrupted?","body":"<p>I am trying to add retry mechanism to my SFTP client which uses JSch. I want to retry sending the file in the following scenarios:</p>\n<ul>\n<li>Connection timeout occurs</li>\n<li>File transfer to remote host using put is interrupted, because of connection issues</li>\n</ul>\n<p>What specific <code>JSchException</code> messages should I check?</p>\n<p>These are the few exceptions I came across (I am not aware of the difference):</p>\n<ul>\n<li><code>com.jcraft.jsch.JSchException: timeout: socket is not established</code></li>\n<li><code>com.jcraft.jsch.JSchException: Session.connect: java.net.SocketTimeoutException: Read timed out</code></li>\n</ul>\n"},{"tags":["java","multithreading","concurrency"],"answers":[{"tags":[],"owner":{"account_id":13429972,"reputation":1807,"user_id":9690075,"display_name":"zysaaa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637146803,"creation_date":1637146803,"answer_id":70003168,"question_id":69997647,"body_markdown":"How about wrapping every runnable and use a ```Timer``` to check the runnable&#39;s status when the timeout period expires.\r\n```\r\n    public void acceptNewJob(Map&lt;String, Object&gt; params) {\r\n        // timeout from params\r\n        int timeoutInMs = (int) params.get(&quot;timeoutInMs&quot;);\r\n        MonitoredRunnable runnable = new MonitoredRunnable(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                // generate a job by params\r\n                // if this job execute timeout, need alarm\r\n            }\r\n        }, timeoutInMs);\r\n        pool.submit(runnable);\r\n    }\r\n\r\n    // Or use ScheduledThreadPoolExecutor\r\n    private Timer timer = new Timer();\r\n\r\n    public class MonitoredRunnable implements Runnable {\r\n        private volatile int state = READY;\r\n\r\n        public static final int READY = 0;\r\n        public static final int RUNNING = 1;\r\n        public static final int COMPLETE = 0;\r\n\r\n        private Runnable task;\r\n        private int timeoutInMs;\r\n\r\n        public MonitoredRunnable(Runnable task, int timeoutInMs) {\r\n            this.task = task;\r\n            this.timeoutInMs = timeoutInMs;\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n            state = RUNNING;\r\n            startMonitor(this);\r\n            task.run();\r\n            state = COMPLETE;\r\n        }\r\n\r\n        private void startMonitor(MonitoredRunnable runnable) {\r\n            timer.schedule(new TimerTask() {\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    if (runnable.state != COMPLETE) {\r\n                        System.out.println(&quot;Job timeout.&quot;);\r\n                        // alarm\r\n                    }\r\n                } catch (Exception e) {\r\n                    //\r\n                }\r\n            }\r\n        }, runnable.timeoutInMs);\r\n    }\r\n```","title":"Monitors whether the task submitted to the thread pool timed out","body":"<p>How about wrapping every runnable and use a <code>Timer</code> to check the runnable's status when the timeout period expires.</p>\n<pre><code>    public void acceptNewJob(Map&lt;String, Object&gt; params) {\n        // timeout from params\n        int timeoutInMs = (int) params.get(&quot;timeoutInMs&quot;);\n        MonitoredRunnable runnable = new MonitoredRunnable(new Runnable() {\n            @Override\n            public void run() {\n                // generate a job by params\n                // if this job execute timeout, need alarm\n            }\n        }, timeoutInMs);\n        pool.submit(runnable);\n    }\n\n    // Or use ScheduledThreadPoolExecutor\n    private Timer timer = new Timer();\n\n    public class MonitoredRunnable implements Runnable {\n        private volatile int state = READY;\n\n        public static final int READY = 0;\n        public static final int RUNNING = 1;\n        public static final int COMPLETE = 0;\n\n        private Runnable task;\n        private int timeoutInMs;\n\n        public MonitoredRunnable(Runnable task, int timeoutInMs) {\n            this.task = task;\n            this.timeoutInMs = timeoutInMs;\n        }\n\n        @Override\n        public void run() {\n            state = RUNNING;\n            startMonitor(this);\n            task.run();\n            state = COMPLETE;\n        }\n\n        private void startMonitor(MonitoredRunnable runnable) {\n            timer.schedule(new TimerTask() {\n            @Override\n            public void run() {\n                try {\n                    if (runnable.state != COMPLETE) {\n                        System.out.println(&quot;Job timeout.&quot;);\n                        // alarm\n                    }\n                } catch (Exception e) {\n                    //\n                }\n            }\n        }, runnable.timeoutInMs);\n    }\n</code></pre>\n"}],"owner":{"account_id":23356845,"reputation":3,"user_id":17429701,"display_name":"エンターテインメント"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70003168,"answer_count":1,"score":0,"last_activity_date":1637146803,"creation_date":1637109215,"question_id":69997647,"body_markdown":"I have a method that will be called all the time.\r\n\r\nAfter calling, a job(runnable) will be generated and submitted to the thread pool. The timeout time of each job is different, depending on the incoming parameters.\r\n\r\nNow I want to monitor whether each job can end within the timeout time when it starts to execute. What should I do?\r\n\r\nNote that `timeout` is from the beginning of execution to the end of execution, not from the time of delivery to the thread pool to the end of task execution. Because of this, I don&#39;t think `future #get (timeout)` can be used, am I right?.\r\n\r\nAnd `acceptJob` should not block, it has to return immediately after submitting the job(maybe some other logic, but not block). \r\n\r\n    ExecutorService pool = Executors.newFixedThreadPool(10);\r\n\r\n    public void acceptNewJob(Map&lt;String, Object&gt; params) {\r\n        // timeout from params\r\n        int timeoutInMs = (int) params.get(&quot;timeoutInMs&quot;);\r\n        pool.submit(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                // generate a job by params\r\n                // if this job execute timeout, need alarm\r\n            }\r\n        });\r\n    }\r\n\r\n","title":"Monitors whether the task submitted to the thread pool timed out","body":"<p>I have a method that will be called all the time.</p>\n<p>After calling, a job(runnable) will be generated and submitted to the thread pool. The timeout time of each job is different, depending on the incoming parameters.</p>\n<p>Now I want to monitor whether each job can end within the timeout time when it starts to execute. What should I do?</p>\n<p>Note that <code>timeout</code> is from the beginning of execution to the end of execution, not from the time of delivery to the thread pool to the end of task execution. Because of this, I don't think <code>future #get (timeout)</code> can be used, am I right?.</p>\n<p>And <code>acceptJob</code> should not block, it has to return immediately after submitting the job(maybe some other logic, but not block).</p>\n<pre><code>ExecutorService pool = Executors.newFixedThreadPool(10);\n\npublic void acceptNewJob(Map&lt;String, Object&gt; params) {\n    // timeout from params\n    int timeoutInMs = (int) params.get(&quot;timeoutInMs&quot;);\n    pool.submit(new Runnable() {\n        @Override\n        public void run() {\n            // generate a job by params\n            // if this job execute timeout, need alarm\n        }\n    });\n}\n</code></pre>\n"},{"tags":["java","netbeans","server","debian"],"answers":[{"tags":[],"owner":{"account_id":12439621,"reputation":29,"user_id":9058492,"display_name":"Newone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637146721,"creation_date":1637146721,"answer_id":70003138,"question_id":64920939,"body_markdown":"Try this:\r\n1. Right click project -&gt; Properties -&gt; Run.\r\n2. Change Server to the one you want to use.","title":"No suitable Deployment Server is defined for the project or globally","body":"<p>Try this:</p>\n<ol>\n<li>Right click project -&gt; Properties -&gt; Run.</li>\n<li>Change Server to the one you want to use.</li>\n</ol>\n"}],"owner":{"account_id":18876645,"reputation":2071,"user_id":13770014,"display_name":"milanHrabos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1350,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1637146721,"creation_date":1605824754,"question_id":64920939,"body_markdown":"I have tried to resolve the problem by this questions: [https://stackoverflow.com/questions/60047440/netbeans-11-2-no-suitable-deployment-server-is-defined-for-the-project-or-globa][1], but my `nb-configuration.xml` file looks like this:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project-shared-configuration&gt;\r\n        &lt;!--\r\n    This file contains additional configuration written by modules in the NetBeans IDE.\r\n    The configuration is intended to be shared among all the users of project and\r\n    therefore it is assumed to be part of version control checkout.\r\n    Without this configuration present, some functionality in the IDE may be limited or fail altogether.\r\n    --&gt;\r\n        &lt;properties xmlns=&quot;http://www.netbeans.org/ns/maven-properties-data/1&quot;&gt;\r\n            &lt;!--\r\n    Properties that influence various parts of the IDE, especially code formatting and the like. \r\n    You can copy and paste the single properties, into the pom.xml file and the IDE will pick them up.\r\n    That way multiple projects can share the same settings (useful for formatting rules for example).\r\n    Any value defined here will override the pom.xml file value but is only applicable to the current project.\r\n    --&gt;\r\n            &lt;org-netbeans-modules-maven-j2ee.netbeans_2e_hint_2e_j2eeVersion&gt;1.8-web&lt;/org-netbeans-modules-maven-j2ee.netbeans_2e_hint_2e_j2eeVersion&gt;\r\n            &lt;org-netbeans-modules-maven-j2ee.netbeans_2e_hint_2e_deploy_2e_server&gt;gfv5ee8&lt;/org-netbeans-modules-maven-j2ee.netbeans_2e_hint_2e_deploy_2e_server&gt;\r\n            &lt;netbeans.hint.jdkPlatform&gt;JDK 1.8&lt;/netbeans.hint.jdkPlatform&gt;\r\n            &lt;org-netbeans-modules-maven-jaxws.rest_2e_config_2e_type&gt;ide&lt;/org-netbeans-modules-maven-jaxws.rest_2e_config_2e_type&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/project-shared-configuration&gt;\r\n\r\nSo I have `netbeans_2e_hint_2e_j2eeVersion` set to **1.8-web** and \r\n`netbeans_2e_hint_2e_deploy_2e_server` set to **gfv5ee8** as is in the answer. But still error of no suitable server deployment. How to resolve this?\r\n\r\n  [1]: https://stackoverflow.com/questions/60047440/netbeans-11-2-no-suitable-deployment-server-is-defined-for-the-project-or-globa\r\n","title":"No suitable Deployment Server is defined for the project or globally","body":"<p>I have tried to resolve the problem by this questions: <a href=\"https://stackoverflow.com/questions/60047440/netbeans-11-2-no-suitable-deployment-server-is-defined-for-the-project-or-globa\">Netbeans 11.2: No suitable Deployment Server is defined for the project or globally</a>, but my <code>nb-configuration.xml</code> file looks like this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project-shared-configuration&gt;\n    &lt;!--\nThis file contains additional configuration written by modules in the NetBeans IDE.\nThe configuration is intended to be shared among all the users of project and\ntherefore it is assumed to be part of version control checkout.\nWithout this configuration present, some functionality in the IDE may be limited or fail altogether.\n--&gt;\n    &lt;properties xmlns=&quot;http://www.netbeans.org/ns/maven-properties-data/1&quot;&gt;\n        &lt;!--\nProperties that influence various parts of the IDE, especially code formatting and the like. \nYou can copy and paste the single properties, into the pom.xml file and the IDE will pick them up.\nThat way multiple projects can share the same settings (useful for formatting rules for example).\nAny value defined here will override the pom.xml file value but is only applicable to the current project.\n--&gt;\n        &lt;org-netbeans-modules-maven-j2ee.netbeans_2e_hint_2e_j2eeVersion&gt;1.8-web&lt;/org-netbeans-modules-maven-j2ee.netbeans_2e_hint_2e_j2eeVersion&gt;\n        &lt;org-netbeans-modules-maven-j2ee.netbeans_2e_hint_2e_deploy_2e_server&gt;gfv5ee8&lt;/org-netbeans-modules-maven-j2ee.netbeans_2e_hint_2e_deploy_2e_server&gt;\n        &lt;netbeans.hint.jdkPlatform&gt;JDK 1.8&lt;/netbeans.hint.jdkPlatform&gt;\n        &lt;org-netbeans-modules-maven-jaxws.rest_2e_config_2e_type&gt;ide&lt;/org-netbeans-modules-maven-jaxws.rest_2e_config_2e_type&gt;\n    &lt;/properties&gt;\n&lt;/project-shared-configuration&gt;\n</code></pre>\n<p>So I have <code>netbeans_2e_hint_2e_j2eeVersion</code> set to <strong>1.8-web</strong> and\n<code>netbeans_2e_hint_2e_deploy_2e_server</code> set to <strong>gfv5ee8</strong> as is in the answer. But still error of no suitable server deployment. How to resolve this?</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1637096718,"post_id":69995978,"comment_id":123733963,"body_markdown":"Use a `for` loop to print each character of the string. Whenever the iterator is a multiple of 3, print a newline.","body":"Use a <code>for</code> loop to print each character of the string. Whenever the iterator is a multiple of 3, print a newline."},{"owner":{"account_id":1636,"reputation":20746,"user_id":2197,"accept_rate":76,"display_name":"David Koelle"},"score":0,"creation_date":1637099301,"post_id":69995978,"comment_id":123734674,"body_markdown":"str.substring(0, Math.min(lineLength, str.length())","body":"str.substring(0, Math.min(lineLength, str.length())"},{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":1,"creation_date":1637149163,"post_id":69995978,"comment_id":123746749,"body_markdown":"Have you made an attempt?","body":"Have you made an attempt?"}],"answers":[{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1637097307,"creation_date":1637096707,"answer_id":69996013,"question_id":69995978,"body_markdown":"```java\r\npublic static void printLimit(String str, int lineLength) {\r\n    for (int i = 0; i &lt; str.length(); i++) {\r\n        System.out.print(str.charAt(i));\r\n\r\n        if ((i + 1) % lineLength == 0)\r\n            System.out.println();\r\n    }\r\n}\r\n```","title":"Java How to limit the amount of characters printed in a line","body":"<pre class=\"lang-java prettyprint-override\"><code>public static void printLimit(String str, int lineLength) {\n    for (int i = 0; i &lt; str.length(); i++) {\n        System.out.print(str.charAt(i));\n\n        if ((i + 1) % lineLength == 0)\n            System.out.println();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637146614,"creation_date":1637098825,"answer_id":69996350,"question_id":69995978,"body_markdown":"As this task actually is hideous in java because of Unicode, here a limited Unicode solution:\r\n\r\n- `char`s are UTF-16, sometimes a &quot;surrogate&quot; pair of two chars is needed for one Unicode symbol (_code point_). Putting a newline string in the middle is wrong.\r\n- `&#233;` can be one composed letter-e-with-accent or two: a letter-e and a combining diacritical mark for the accent (a zero width accent). I have used the `java.text.Normalizer` to compose it, `NFC`. Not `NFKC`which would also compose ligatures like in `ff`, `fi`and `ffi`.\r\n- Not done: newline characters in the string, invisible characters, like a Right-To-Left control character.\r\n\r\nSo:\r\n\r\n    public static void printLinesWrapped(String text, int maxLineLength) {\r\n        text = Normalizer.normalize(text, Normalizer.Form.NFC);\r\n        AtomicInteger lineLength = new AtomicInteger();\r\n        StringBuilder sb = new StringBuilder(maxLineLength * 2);\r\n        text.codePoints()\r\n            .forEach(cp -&gt; {\r\n                sb.appendCodePoint(cp);\r\n                if (lineLength.incrementAndGet() &gt;= maxLineLength) {\r\n                    System.out.println(sb);\r\n                    sb.setLength(0);\r\n                    lineLength.set(0);\r\n                }\r\n            };\r\n        if (sb.length() != 0) {\r\n            System.out.println(sb);\r\n        }\r\n    }\r\n","title":"Java How to limit the amount of characters printed in a line","body":"<p>As this task actually is hideous in java because of Unicode, here a limited Unicode solution:</p>\n<ul>\n<li><code>char</code>s are UTF-16, sometimes a &quot;surrogate&quot; pair of two chars is needed for one Unicode symbol (<em>code point</em>). Putting a newline string in the middle is wrong.</li>\n<li><code>é</code> can be one composed letter-e-with-accent or two: a letter-e and a combining diacritical mark for the accent (a zero width accent). I have used the <code>java.text.Normalizer</code> to compose it, <code>NFC</code>. Not <code>NFKC</code>which would also compose ligatures like in <code>ff</code>, <code>fi</code>and <code>ffi</code>.</li>\n<li>Not done: newline characters in the string, invisible characters, like a Right-To-Left control character.</li>\n</ul>\n<p>So:</p>\n<pre><code>public static void printLinesWrapped(String text, int maxLineLength) {\n    text = Normalizer.normalize(text, Normalizer.Form.NFC);\n    AtomicInteger lineLength = new AtomicInteger();\n    StringBuilder sb = new StringBuilder(maxLineLength * 2);\n    text.codePoints()\n        .forEach(cp -&gt; {\n            sb.appendCodePoint(cp);\n            if (lineLength.incrementAndGet() &gt;= maxLineLength) {\n                System.out.println(sb);\n                sb.setLength(0);\n                lineLength.set(0);\n            }\n        };\n    if (sb.length() != 0) {\n        System.out.println(sb);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23258039,"reputation":21,"user_id":17344773,"display_name":"Candice"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637100793,"creation_date":1637100436,"answer_id":69996595,"question_id":69995978,"body_markdown":"This is a simple version for beginner:\r\n```\r\nString tweet = null;\r\nint limit = 3;\r\nwhile(tweet != null &amp;&amp; tweet.length() &gt; 0 &amp;&amp; tweet.length() &gt; limit) {\r\n    System.out.println(tweet.substring(0, limit));\r\n\ttweet = tweet.substring(limit);\r\n}\r\nif(tweet != null &amp;&amp; tweet.length() != 0) {\r\n\tSystem.out.println(tweet);\r\n}\r\nelse {\r\n\tSystem.out.println(&quot;tweet cannot be null&quot;);\r\n}\r\n```","title":"Java How to limit the amount of characters printed in a line","body":"<p>This is a simple version for beginner:</p>\n<pre><code>String tweet = null;\nint limit = 3;\nwhile(tweet != null &amp;&amp; tweet.length() &gt; 0 &amp;&amp; tweet.length() &gt; limit) {\n    System.out.println(tweet.substring(0, limit));\n    tweet = tweet.substring(limit);\n}\nif(tweet != null &amp;&amp; tweet.length() != 0) {\n    System.out.println(tweet);\n}\nelse {\n    System.out.println(&quot;tweet cannot be null&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":23359833,"reputation":31,"user_id":17432248,"display_name":"Robertflano"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":536,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":69996013,"answer_count":3,"score":2,"last_activity_date":1637146614,"creation_date":1637096529,"question_id":69995978,"body_markdown":"I’m looking for what I think is a very simple bit of code but I’m struggling to figure it out so let me try and explain as clearly as I can \r\n\r\nBasically, I have a string let’s say for example string `Tweet =(“Happy Birthday”)`\r\n\r\nAnd I have int called width which let’s just say is equal to `3`\r\n\r\nHow would I make it so the string prints only the amount of characters that squeal to the int width per line so it would look like this \r\n\r\n```\r\nHap\r\nPy \r\nBir\r\nThd\r\nAy\r\n```\r\n\r\nSorry again for the poor formatting I don’t know how better to explain it ","title":"Java How to limit the amount of characters printed in a line","body":"<p>I’m looking for what I think is a very simple bit of code but I’m struggling to figure it out so let me try and explain as clearly as I can</p>\n<p>Basically, I have a string let’s say for example string <code>Tweet =(“Happy Birthday”)</code></p>\n<p>And I have int called width which let’s just say is equal to <code>3</code></p>\n<p>How would I make it so the string prints only the amount of characters that squeal to the int width per line so it would look like this</p>\n<pre><code>Hap\nPy \nBir\nThd\nAy\n</code></pre>\n<p>Sorry again for the poor formatting I don’t know how better to explain it</p>\n"},{"tags":["java","elasticsearch","resthighlevelclient"],"comments":[{"owner":{"account_id":17043956,"reputation":995,"user_id":12331220,"display_name":"Anupam Haldkar"},"score":0,"creation_date":1688364218,"post_id":70003071,"comment_id":135059009,"body_markdown":"Hi, If you are referring to AWSCredentials, then it might be having 3 paramaters from latest documentation. \n\nBasicSessionCredentials(String awsAccessKey, String awsSecretKey, String sessionToken) \n\nhttps://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/auth/BasicSessionCredentials.html","body":"Hi, If you are referring to AWSCredentials, then it might be having 3 paramaters from latest documentation.   BasicSessionCredentials(String awsAccessKey, String awsSecretKey, String sessionToken)   <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/auth/BasicSessionCredentials.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/&zwnj;&#8203;&hellip;</a>"}],"owner":{"account_id":1130105,"reputation":39,"user_id":1116404,"display_name":"user1116404"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1637146507,"creation_date":1637146507,"question_id":70003071,"body_markdown":"I am trying to implement integration with elastic search on aws with RestHighLevelClient.\r\nthe only supported authentication method I found is UsernamePasswordCredentials:\r\n```\r\n        credentialsProvider.setCredentials(AuthScope.ANY,\r\n                new BasicSessionCredentials(&quot;test&quot;, &quot;test&quot;));\r\n        RestClientBuilder builder = RestClient.builder(\r\n                new HttpHost(&quot;localhost&quot;))\r\n                .setHttpClientConfigCallback(new RestClientBuilder.HttpClientConfigCallback() {\r\n                    @Override\r\n                    public HttpAsyncClientBuilder customizeHttpClient(\r\n                            HttpAsyncClientBuilder httpClientBuilder) {\r\n                        return httpClientBuilder\r\n                                .setDefaultCredentialsProvider(credentialsProvider);\r\n                    }\r\n                });\r\n       RestHighLevelClient restHighLevelClient = new RestHighLevelClient(builder)\r\n```\r\nI don&#39;t find a way to use **RestHighLevelClient** with **BasicSessionCredentials** which I plan to initialize this with assume role credentials ","title":"Is it posibile to use RestHighLevelClient with assume role?","body":"<p>I am trying to implement integration with elastic search on aws with RestHighLevelClient.\nthe only supported authentication method I found is UsernamePasswordCredentials:</p>\n<pre><code>        credentialsProvider.setCredentials(AuthScope.ANY,\n                new BasicSessionCredentials(&quot;test&quot;, &quot;test&quot;));\n        RestClientBuilder builder = RestClient.builder(\n                new HttpHost(&quot;localhost&quot;))\n                .setHttpClientConfigCallback(new RestClientBuilder.HttpClientConfigCallback() {\n                    @Override\n                    public HttpAsyncClientBuilder customizeHttpClient(\n                            HttpAsyncClientBuilder httpClientBuilder) {\n                        return httpClientBuilder\n                                .setDefaultCredentialsProvider(credentialsProvider);\n                    }\n                });\n       RestHighLevelClient restHighLevelClient = new RestHighLevelClient(builder)\n</code></pre>\n<p>I don't find a way to use <strong>RestHighLevelClient</strong> with <strong>BasicSessionCredentials</strong> which I plan to initialize this with assume role credentials</p>\n"},{"tags":["java","android","mysql"],"comments":[{"owner":{"account_id":12601494,"reputation":4078,"user_id":9164071,"display_name":"Themelis"},"score":0,"creation_date":1585764823,"post_id":60977489,"comment_id":107880716,"body_markdown":"What is the type of `Constants.toateProdusele`? `List&lt;Object&gt;`?","body":"What is the type of <code>Constants.toateProdusele</code>? <code>List&lt;Object&gt;</code>?"},{"owner":{"account_id":18133124,"reputation":3,"user_id":13188000,"display_name":"Mircea"},"score":0,"creation_date":1585765719,"post_id":60977489,"comment_id":107881195,"body_markdown":"in  class Constants i have :public static List&lt;Produse&gt; toateProdusele=new ArrayList&lt;&gt;();","body":"in  class Constants i have :public static List&lt;Produse&gt; toateProdusele=new ArrayList&lt;&gt;();"}],"answers":[{"tags":[],"owner":{"account_id":10430372,"reputation":4017,"user_id":7690376,"display_name":"from56"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1585766636,"creation_date":1585765916,"answer_id":60977918,"question_id":60977489,"body_markdown":"Welcome to the stackoverflow.\r\n\r\nInstead to save it in an `ArrayList&lt;&gt;` use a `HashSet&lt;&gt;` that will only save unique values,\r\n\r\nIf the list contains objects of classes defined in your code you will have to overwrite the `equals()` method in that class in order to distinguish which objects are different from each other and also the `hashcode()` method","title":"How to get distinct values from array list in Android","body":"<p>Welcome to the stackoverflow.</p>\n\n<p>Instead to save it in an <code>ArrayList&lt;&gt;</code> use a <code>HashSet&lt;&gt;</code> that will only save unique values,</p>\n\n<p>If the list contains objects of classes defined in your code you will have to overwrite the <code>equals()</code> method in that class in order to distinguish which objects are different from each other and also the <code>hashcode()</code> method</p>\n"},{"tags":[],"owner":{"account_id":13976734,"reputation":1,"user_id":10093959,"display_name":"Venumarious"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637146459,"creation_date":1637146459,"answer_id":70003061,"question_id":60977489,"body_markdown":"Here is a proper example of `HashSet`, which will give you distinct values from an `ArrayList`\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Integer&gt; numbers = Arrays.asList(1,2,2,2,3,5);\r\n\r\n        System.out.println(numbers);\r\n\r\n        Set&lt;Integer&gt; hashSet = new LinkedHashSet(numbers);\r\n        ArrayList&lt;Integer&gt; removedDuplicates = new ArrayList(hashSet);\r\n\r\n        System.out.println(removedDuplicates);\r\n    }\r\n\r\n","title":"How to get distinct values from array list in Android","body":"<p>Here is a proper example of <code>HashSet</code>, which will give you distinct values from an <code>ArrayList</code></p>\n<pre><code>public static void main(String[] args) {\n    List&lt;Integer&gt; numbers = Arrays.asList(1,2,2,2,3,5);\n\n    System.out.println(numbers);\n\n    Set&lt;Integer&gt; hashSet = new LinkedHashSet(numbers);\n    ArrayList&lt;Integer&gt; removedDuplicates = new ArrayList(hashSet);\n\n    System.out.println(removedDuplicates);\n}\n</code></pre>\n"}],"owner":{"account_id":18133124,"reputation":3,"user_id":13188000,"display_name":"Mircea"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1309,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":60977918,"answer_count":2,"score":-1,"last_activity_date":1637146459,"creation_date":1585764426,"question_id":60977489,"body_markdown":"In MySql database i have a product table with more columns : \r\n\r\ncatergories, model, color, size, price . \r\n\r\nIn Android app on `SplashActivity` i get te data from products table save it in a constant `ArrayList` and populate the `RecyclerView` with all product list. \r\n\r\nHow can i get distinct categories, distinct model, distinct color from this arraylist? I want to use those in dropboxes for filter the product list.\r\n\r\nThis is how i get the data from Mysql table and save it in `Constant.allProducts`,\r\n``` Call&lt;ProductMain&gt; call= RestService.getInstance().restInterface.getProduse();\r\n            call.enqueue(new Callback&lt;ProductMain&gt;() {\r\n                @Override\r\n                public void onResponse(Call&lt;ProductMain&gt; call, Response&lt;ProductMain&gt; response) {\r\n                    ProductMain main=response.body();\r\n                    Constants.toateProdusele.clear();\r\n                    Constants.toateProdusele.addAll(main.getProduse())\r\n                    new Handler().postDelayed(new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            startActivity(new Intent(SplashActivity.this,HomePageActivity.class));\r\n                            overridePendingTransition(R.anim.fade_in, R.anim.fade_out);\r\n                            finish();\r\n                        }\r\n                    },1500);\r\n                }\r\n\r\n                @Override\r\n                public void onFailure(Call&lt;ProductMain&gt; call, Throwable t) {\r\n                    Toast.makeText(SplashActivity.this,&quot;&quot;+t,Toast.LENGTH_LONG).show();\r\n\r\n                }\r\n\r\n            });\r\n//and i populate the recyclerview\r\n        arrayList = new ArrayList&lt;&gt;();\r\n        arrayList.addAll(Constants.toateProdusele);\r\n        adapter= new ProduseAdapter(HomePageActivity.this,  arrayList, ProductDetailActivity.class) ;\r\n        list.setAdapter(adapter);\r\n        adapter.notifyDataSetChanged();\r\n","title":"How to get distinct values from array list in Android","body":"<p>In MySql database i have a product table with more columns : </p>\n\n<p>catergories, model, color, size, price . </p>\n\n<p>In Android app on <code>SplashActivity</code> i get te data from products table save it in a constant <code>ArrayList</code> and populate the <code>RecyclerView</code> with all product list. </p>\n\n<p>How can i get distinct categories, distinct model, distinct color from this arraylist? I want to use those in dropboxes for filter the product list.</p>\n\n<p>This is how i get the data from Mysql table and save it in <code>Constant.allProducts</code>,</p>\n\n<pre><code>            call.enqueue(new Callback&lt;ProductMain&gt;() {\n                @Override\n                public void onResponse(Call&lt;ProductMain&gt; call, Response&lt;ProductMain&gt; response) {\n                    ProductMain main=response.body();\n                    Constants.toateProdusele.clear();\n                    Constants.toateProdusele.addAll(main.getProduse())\n                    new Handler().postDelayed(new Runnable() {\n                        @Override\n                        public void run() {\n                            startActivity(new Intent(SplashActivity.this,HomePageActivity.class));\n                            overridePendingTransition(R.anim.fade_in, R.anim.fade_out);\n                            finish();\n                        }\n                    },1500);\n                }\n\n                @Override\n                public void onFailure(Call&lt;ProductMain&gt; call, Throwable t) {\n                    Toast.makeText(SplashActivity.this,\"\"+t,Toast.LENGTH_LONG).show();\n\n                }\n\n            });\n//and i populate the recyclerview\n        arrayList = new ArrayList&lt;&gt;();\n        arrayList.addAll(Constants.toateProdusele);\n        adapter= new ProduseAdapter(HomePageActivity.this,  arrayList, ProductDetailActivity.class) ;\n        list.setAdapter(adapter);\n        adapter.notifyDataSetChanged();\n\n</code></pre>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":2,"creation_date":1637147303,"post_id":70003040,"comment_id":123746123,"body_markdown":"You can use the &quot;xscale&quot; output of the `PrintTextLocations.java` example.","body":"You can use the &quot;xscale&quot; output of the <code>PrintTextLocations.java</code> example."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":2,"creation_date":1637147792,"post_id":70003040,"comment_id":123746283,"body_markdown":"Alternatively consider using the `TextPosition.getYScale()` - if that value and the `TextPosition.getXScale()` differ, more often the Y scale is the expected value.","body":"Alternatively consider using the <code>TextPosition.getYScale()</code> - if that value and the <code>TextPosition.getXScale()</code> differ, more often the Y scale is the expected value."},{"owner":{"account_id":23365644,"reputation":11,"user_id":17437315,"display_name":"Cheeky Crex"},"score":0,"creation_date":1637239660,"post_id":70003040,"comment_id":123776201,"body_markdown":"Ok it is the YScale. But how can I get the value? The PrintTextLocations.java only print on the comment line. There is no return value?","body":"Ok it is the YScale. But how can I get the value? The PrintTextLocations.java only print on the comment line. There is no return value?"},{"owner":{"account_id":23365644,"reputation":11,"user_id":17437315,"display_name":"Cheeky Crex"},"score":0,"creation_date":1637253172,"post_id":70003040,"comment_id":123782480,"body_markdown":"Update: Worked. Thank you!","body":"Update: Worked. Thank you!"}],"owner":{"account_id":23365644,"reputation":11,"user_id":17437315,"display_name":"Cheeky Crex"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":326,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637146397,"creation_date":1637146397,"question_id":70003040,"body_markdown":"the task is to write a Java file that analyzes a PDF file. PDFBox from Apache should be used. \r\nThe number of words, the number of images, the names of the fonts used, etc. are all no problem.\r\n\r\nMy problem is: How do I get all used Font Sizes in the PDF file? I read a lot, that I have to use TextStrippe and writeString, but I dont see a solution. \r\nSo how do I get the Font Sizes in pt. for a pdf file? Has anyone an idea or solution?","title":"Get Size of Text/Font in a PDF File using PDFBox from Apache","body":"<p>the task is to write a Java file that analyzes a PDF file. PDFBox from Apache should be used.\nThe number of words, the number of images, the names of the fonts used, etc. are all no problem.</p>\n<p>My problem is: How do I get all used Font Sizes in the PDF file? I read a lot, that I have to use TextStrippe and writeString, but I dont see a solution.\nSo how do I get the Font Sizes in pt. for a pdf file? Has anyone an idea or solution?</p>\n"},{"tags":["java","arrays","copy"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1637142935,"post_id":70002166,"comment_id":123744456,"body_markdown":"Yes, there is a way. But I&#39;m sure this wasn&#39;t your actual question. Which part of that assignment do you have problems with? Iterating over the existing array? Determining if a number is odd or even? Sorting those numbers into a new array?","body":"Yes, there is a way. But I&#39;m sure this wasn&#39;t your actual question. Which part of that assignment do you have problems with? Iterating over the existing array? Determining if a number is odd or even? Sorting those numbers into a new array?"}],"answers":[{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637143588,"creation_date":1637143588,"answer_id":70002379,"question_id":70002166,"body_markdown":"Try this.\r\n\r\n    public static void main(String[] args) {\r\n        int[] array = {1, 2, 3, 4, 5};\r\n\r\n        int[] even = IntStream.of(array).filter(i -&gt; i % 2 == 0).toArray();\r\n        int[] odd = IntStream.of(array).filter(i -&gt; i % 2 != 0).toArray();\r\n\r\n        System.out.println(&quot;even = &quot; + Arrays.toString(even));\r\n        System.out.println(&quot;odd = &quot; + Arrays.toString(odd));\r\n    }\r\n\r\noutput:\r\n\r\n    even = [2, 4]\r\n    odd = [1, 3, 5]\r\n\r\n","title":"Copy specific numbers from one array to another","body":"<p>Try this.</p>\n<pre><code>public static void main(String[] args) {\n    int[] array = {1, 2, 3, 4, 5};\n\n    int[] even = IntStream.of(array).filter(i -&gt; i % 2 == 0).toArray();\n    int[] odd = IntStream.of(array).filter(i -&gt; i % 2 != 0).toArray();\n\n    System.out.println(&quot;even = &quot; + Arrays.toString(even));\n    System.out.println(&quot;odd = &quot; + Arrays.toString(odd));\n}\n</code></pre>\n<p>output:</p>\n<pre><code>even = [2, 4]\nodd = [1, 3, 5]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9897369,"reputation":31,"user_id":7328425,"display_name":"C.Zpc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637143626,"creation_date":1637143626,"answer_id":70002389,"question_id":70002166,"body_markdown":"\tint[] ls={1, 2, 3, 4, 5};\r\n\t\r\n\tList&lt;Integer&gt; odd=new ArrayList&lt;Integer&gt;();\r\n\tfor (int l :ls) {\r\n\t\tif(l%2==1) {\r\n\t\t\todd.add(l);\r\n\t\t}\r\n\t}\r\n\tSystem.out.println(odd);\r\n\t\r\n\tList&lt;Integer&gt; even=new ArrayList&lt;Integer&gt;();\r\n\tfor (int l :ls) {\r\n\t\tif(l%2==0) {\r\n\t\t\teven.add(l);\r\n\t\t}\r\n\t}\r\n\tSystem.out.println(even);","title":"Copy specific numbers from one array to another","body":"<pre><code>int[] ls={1, 2, 3, 4, 5};\n\nList&lt;Integer&gt; odd=new ArrayList&lt;Integer&gt;();\nfor (int l :ls) {\n    if(l%2==1) {\n        odd.add(l);\n    }\n}\nSystem.out.println(odd);\n\nList&lt;Integer&gt; even=new ArrayList&lt;Integer&gt;();\nfor (int l :ls) {\n    if(l%2==0) {\n        even.add(l);\n    }\n}\nSystem.out.println(even);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23136497,"reputation":150,"user_id":17240662,"display_name":"Batek&#39;S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637146249,"creation_date":1637146249,"answer_id":70002995,"question_id":70002166,"body_markdown":"Try this\r\n\r\n    import java.util.*;\r\n    \r\n    class Dragon {\r\n        public static void main(String[] args) {\r\n            int[] list = { 1, 2, 3, 4, 5 };\r\n    \r\n            List&lt;Integer&gt; oddList = new ArrayList&lt;Integer&gt;();\r\n            List&lt;Integer&gt; evenList = new ArrayList&lt;Integer&gt;();\r\n    \r\n            for (int l : list) {\r\n                if (l % 2 == 0)\r\n                    evenList.add(l);\r\n                else\r\n                    oddList.add(l);\r\n            }\r\n            System.out.println(&quot;Odd = &quot; + oddList);\r\n            System.out.println(&quot;Even = &quot; + evenList);\r\n        }\r\n    }\r\n\r\n**Output**\r\n\r\n    Odd = [1, 3, 5]\r\n    Even = [2, 4]","title":"Copy specific numbers from one array to another","body":"<p>Try this</p>\n<pre><code>import java.util.*;\n\nclass Dragon {\n    public static void main(String[] args) {\n        int[] list = { 1, 2, 3, 4, 5 };\n\n        List&lt;Integer&gt; oddList = new ArrayList&lt;Integer&gt;();\n        List&lt;Integer&gt; evenList = new ArrayList&lt;Integer&gt;();\n\n        for (int l : list) {\n            if (l % 2 == 0)\n                evenList.add(l);\n            else\n                oddList.add(l);\n        }\n        System.out.println(&quot;Odd = &quot; + oddList);\n        System.out.println(&quot;Even = &quot; + evenList);\n    }\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>Odd = [1, 3, 5]\nEven = [2, 4]\n</code></pre>\n"}],"owner":{"account_id":14759129,"reputation":25,"user_id":10658996,"display_name":"dragon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70002379,"answer_count":3,"score":0,"last_activity_date":1637146249,"creation_date":1637142791,"question_id":70002166,"body_markdown":"Is there a way of copying specific numbers from one array to another?  \r\nFor example:  \r\nI have an array ```{1, 2, 3, 4, 5}```  \r\nand I want to copy odd and even numbers to separate arrays. So, the result should be  \r\n```{2, 4}, {1, 3, 5}```","title":"Copy specific numbers from one array to another","body":"<p>Is there a way of copying specific numbers from one array to another?<br />\nFor example:<br />\nI have an array <code>{1, 2, 3, 4, 5}</code><br />\nand I want to copy odd and even numbers to separate arrays. So, the result should be<br />\n<code>{2, 4}, {1, 3, 5}</code></p>\n"},{"tags":["java","tomcat","content-length","transfer-encoding"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1637063052,"post_id":69987823,"comment_id":123719922,"body_markdown":"When `document == null` the response will have zero length. You should probably set the response status code to `HttpServletResponse.SC_NOT_FOUND` in such a case.","body":"When <code>document == null</code> the response will have zero length. You should probably set the response status code to <code>HttpServletResponse.SC_NOT_FOUND</code> in such a case."},{"owner":{"account_id":1558146,"reputation":730,"user_id":1448660,"accept_rate":40,"display_name":"msmani"},"score":0,"creation_date":1637064680,"post_id":69987823,"comment_id":123720548,"body_markdown":"Checked that as well, document is not null","body":"Checked that as well, document is not null"}],"owner":{"account_id":1558146,"reputation":730,"user_id":1448660,"accept_rate":40,"display_name":"msmani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":325,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637145954,"creation_date":1637060028,"question_id":69987823,"body_markdown":"We are using PDF.js as PDF viewer and the following code is used as the endpoint for downloading PDF. The issue is sometimes, ~80% of the times,  when a large PDF, say &gt; 5 MB, is opened the PDF.js is showing error &quot;Stream must have data&quot;. But when we open smaller PDFs in KB then it always working fine. On debugging it was found that whenever the issue is occurring the response header contains &quot;**content-length: 0**&quot; but when it is working fine the header &quot;**Transfer-Encoding: chunked**&quot; is present. \r\n\r\n    @GetMapping(value = { &quot;/view/{id}&quot; }, produces = MediaType.APPLICATION_OCTET_STREAM_VALUE)\r\n    public void downloadFile(@PathVariable(&quot;id&quot;) DiskFileId docId, HttpServletResponse response) throws IOException {\r\n\t\ttry {\r\n\t\t\tStorageDocumentDTO document = service.getDocument(docId);\r\n\t\t\t\r\n\t\t\tif(document== null)\r\n\t\t\t\treturn;\r\n\t\t\t\r\n\t\t\tresponse.setContentType(document.getMimeType());\r\n\t\t\tIOUtils.copy(new FileInputStream(document.getDocumentPath().toFile()), response.getOutputStream());\r\n\t\t\t\t\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\tthrow new RuntimeException(&quot;Document not found&quot;, e);\r\n\t\t} \r\n\t\t\r\n\t\t\r\n    }\r\n\r\n\r\nAny help, on how to debug this further, is appreciated \r\n","title":"Tomcat returning content-length zero randomly","body":"<p>We are using PDF.js as PDF viewer and the following code is used as the endpoint for downloading PDF. The issue is sometimes, ~80% of the times,  when a large PDF, say &gt; 5 MB, is opened the PDF.js is showing error &quot;Stream must have data&quot;. But when we open smaller PDFs in KB then it always working fine. On debugging it was found that whenever the issue is occurring the response header contains &quot;<strong>content-length: 0</strong>&quot; but when it is working fine the header &quot;<strong>Transfer-Encoding: chunked</strong>&quot; is present.</p>\n<pre><code>@GetMapping(value = { &quot;/view/{id}&quot; }, produces = MediaType.APPLICATION_OCTET_STREAM_VALUE)\npublic void downloadFile(@PathVariable(&quot;id&quot;) DiskFileId docId, HttpServletResponse response) throws IOException {\n    try {\n        StorageDocumentDTO document = service.getDocument(docId);\n        \n        if(document== null)\n            return;\n        \n        response.setContentType(document.getMimeType());\n        IOUtils.copy(new FileInputStream(document.getDocumentPath().toFile()), response.getOutputStream());\n            \n\n    } catch (Exception e) {\n        throw new RuntimeException(&quot;Document not found&quot;, e);\n    } \n    \n    \n}\n</code></pre>\n<p>Any help, on how to debug this further, is appreciated</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1637144261,"post_id":70002514,"comment_id":123744981,"body_markdown":"Well, first you would have to initialize the array with a fixed size. Do you know the size beforehand? Also, why can&#39;t you do `numbers[0] = number;`?","body":"Well, first you would have to initialize the array with a fixed size. Do you know the size beforehand? Also, why can&#39;t you do <code>numbers[0] = number;</code>?"},{"owner":{"account_id":20525751,"reputation":949,"user_id":15064224,"display_name":"Issa Khodadadi"},"score":2,"creation_date":1637144591,"post_id":70002514,"comment_id":123745104,"body_markdown":"in this case you may want to use arraylist, because the size of the array you want is dynamic. use `ArrayList&lt;Integer&gt; numbers = new ArrayList&lt;&gt;();`","body":"in this case you may want to use arraylist, because the size of the array you want is dynamic. use <code>ArrayList&lt;Integer&gt; numbers = new ArrayList&lt;&gt;();</code>"}],"answers":[{"tags":[],"owner":{"account_id":7821678,"reputation":2208,"user_id":5914654,"display_name":"vincrichaud"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1637145866,"creation_date":1637145866,"answer_id":70002897,"question_id":70002514,"body_markdown":"Both solutions expressed in the comments are good.\r\n\r\nIf your array size wont change, you can continue with your array. But before adding your number inside the first element of your array, you need to initialize it with at least one element\r\n\r\n    int[] numbers = new int[1];\r\n    Scanner scan = new Scanner(System.in);\r\n    int number = scan.nextInt();\r\n    numbers[0] = number\r\n\r\nIf your gonna change the size of the array during execution, I strongly recommend you to stop using arrays and to use List.\r\n\r\n    List&lt;Integer&gt; numbers = new ArrayList&lt;Integer&gt;();\r\n    Scanner scan = new Scanner(System.in);\r\n    int number = scan.nextInt();\r\n    numbers.add(number);","title":"How to add a value to an array","body":"<p>Both solutions expressed in the comments are good.</p>\n<p>If your array size wont change, you can continue with your array. But before adding your number inside the first element of your array, you need to initialize it with at least one element</p>\n<pre><code>int[] numbers = new int[1];\nScanner scan = new Scanner(System.in);\nint number = scan.nextInt();\nnumbers[0] = number\n</code></pre>\n<p>If your gonna change the size of the array during execution, I strongly recommend you to stop using arrays and to use List.</p>\n<pre><code>List&lt;Integer&gt; numbers = new ArrayList&lt;Integer&gt;();\nScanner scan = new Scanner(System.in);\nint number = scan.nextInt();\nnumbers.add(number);\n</code></pre>\n"}],"owner":{"account_id":21994120,"reputation":45,"user_id":16266962,"display_name":"Hagelsnow"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70002897,"answer_count":1,"score":1,"last_activity_date":1637145866,"creation_date":1637144101,"question_id":70002514,"body_markdown":"I have a integer array named numbers and a int named number.\r\nHow can I insert the value of number into numbers?\r\nAssuming i can&#39;t just do `numbers[0] = number;`\r\n\r\n    int[] numbers;\r\n    Scanner scan = new Scanner(System.in);\r\n    int number = scan.nextInt();","title":"How to add a value to an array","body":"<p>I have a integer array named numbers and a int named number.\nHow can I insert the value of number into numbers?\nAssuming i can't just do <code>numbers[0] = number;</code></p>\n<pre><code>int[] numbers;\nScanner scan = new Scanner(System.in);\nint number = scan.nextInt();\n</code></pre>\n"},{"tags":["java","json","spring","spring-security"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1636451903,"post_id":69896081,"comment_id":123554449,"body_markdown":"If the response can potentially return multiple authorities why would you want to remove the collection layer?","body":"If the response can potentially return multiple authorities why would you want to remove the collection layer?"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1636452190,"post_id":69896081,"comment_id":123554586,"body_markdown":"the name `getAuthorities` implies that multiple values will be returned, so you need a collection. If you only want one Authority to be returned, change the data model.","body":"the name <code>getAuthorities</code> implies that multiple values will be returned, so you need a collection. If you only want one Authority to be returned, change the data model."},{"owner":{"account_id":10182828,"reputation":9,"user_id":7518949,"display_name":"Adil"},"score":0,"creation_date":1636452736,"post_id":69896081,"comment_id":123554811,"body_markdown":"@Thomas By removing collection layer you mean the brackets? If yes then just a bug fix from backlog in which json response should not be an array.","body":"@Thomas By removing collection layer you mean the brackets? If yes then just a bug fix from backlog in which json response should not be an array."},{"owner":{"account_id":10182828,"reputation":9,"user_id":7518949,"display_name":"Adil"},"score":0,"creation_date":1636452852,"post_id":69896081,"comment_id":123554870,"body_markdown":"@f1sh thanks for the comment. But it can return multiple values.","body":"@f1sh thanks for the comment. But it can return multiple values."},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":2,"creation_date":1636454395,"post_id":69896081,"comment_id":123555454,"body_markdown":"Then you can&#39;t simply remove `[ ]` as they represent a list in JSON.","body":"Then you can&#39;t simply remove <code>[ ]</code> as they represent a list in JSON."},{"owner":{"account_id":4468601,"reputation":7627,"user_id":3635454,"accept_rate":75,"display_name":"pleft"},"score":0,"creation_date":1636454484,"post_id":69896081,"comment_id":123555488,"body_markdown":"As others already wrote, you shouldn&#39;t remove the brackets `[ ]`. Instead you should try to understand what the error __&quot;just a bug fix from backlog in which json response should not be an array.&quot;__ is about","body":"As others already wrote, you shouldn&#39;t remove the brackets <code>[ ]</code>. Instead you should try to understand what the error <b>&quot;just a bug fix from backlog in which json response should not be an array.&quot;</b> is about"},{"owner":{"account_id":535477,"reputation":1551,"user_id":904963,"accept_rate":80,"display_name":"user904963"},"score":0,"creation_date":1636454930,"post_id":69896081,"comment_id":123555663,"body_markdown":"The `[` and `]` represent a `Collection`. For example, it might give you `[{&quot;authorities&quot;: {...}}, {&quot;authorities&quot;: {...}, {&quot;authorities&quot;}{ ... }]}`","body":"The <code>[</code> and <code>]</code> represent a <code>Collection</code>. For example, it might give you <code>[{&quot;authorities&quot;: {...}}, {&quot;authorities&quot;: {...}, {&quot;authorities&quot;}{ ... }]}</code>"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1636455466,"post_id":69896081,"comment_id":123555885,"body_markdown":"Yes, that&#39;s what I meant. Your response is basically an object (`{ ... }`) that contains a collection (`[...]`) of objects (so `[(`{ ... }`),(`{ ... }`),...]`). Some APIs (and UIs developed in JS) seem to skip the &quot;collection&quot; part if there&#39;s only one element but I&#39;d not recommend that since you then would have to always check whether `authorities` contains a single object or a collection of objects. Additionally, supporting this would make your controller more complex and unnecessarily so. A collection with one element is still a collection and treating it that way keeps things consistent.","body":"Yes, that&#39;s what I meant. Your response is basically an object (<code>{ ... }</code>) that contains a collection (<code>[...]</code>) of objects (so <code>[(</code>{ ... }<code>),(</code>{ ... }<code>),...]</code>). Some APIs (and UIs developed in JS) seem to skip the &quot;collection&quot; part if there&#39;s only one element but I&#39;d not recommend that since you then would have to always check whether <code>authorities</code> contains a single object or a collection of objects. Additionally, supporting this would make your controller more complex and unnecessarily so. A collection with one element is still a collection and treating it that way keeps things consistent."}],"answers":[{"tags":[],"owner":{"account_id":23237287,"reputation":64,"user_id":17327150,"display_name":"CodeAddict"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636459745,"creation_date":1636459745,"answer_id":69897887,"question_id":69896081,"body_markdown":"I think there are some confusion around JSON. \r\n{&quot;authorities&quot;: [{&quot;authority&quot;: &quot;Employee&quot;}]} \r\nThe [] marks a collection. Meaning it encapsulates a &#39;list of authorities&#39;. This is useful, because, your JSON object can store *multiple* authorities. \r\nfor example: \r\n\r\n    {&quot;authorities&quot;: [ {&quot;authority&quot;: &quot;Employee&quot;}, {&quot;authority&quot;: &quot;CEO&quot;},{&quot;authority&quot;: &quot;Admin&quot;},{&quot;authority&quot;: &quot;Customer&quot;} ]\r\n    }\r\n\r\n**if you want to remove the [ ]**\r\n\r\nif your use case, forces you to remove the collection from the JSON object, there are some simple ways of doing it. \r\n 1. If you have control over the REST API, you can change it to not return collections. However, this is **not advised** as it will most likely break something. If you are gonna do this, take it up with your team. \r\n 2. When the API returns the JSON object, you can create a new JSON object, of the given JSON object and get the first item in the collection and store it as a normal JSON value. I don&#39;t know why you would need to do this, having the collection seems great, but if you have to, that would be a *tedious* way of solving your problem.\r\n\r\nI hope this helps! If you have questions, ask away &#128522;\r\n\r\n\r\n\r\n   ","title":"Remove brackets [ ] from json response","body":"<p>I think there are some confusion around JSON.\n{&quot;authorities&quot;: [{&quot;authority&quot;: &quot;Employee&quot;}]}\nThe [] marks a collection. Meaning it encapsulates a 'list of authorities'. This is useful, because, your JSON object can store <em>multiple</em> authorities.\nfor example:</p>\n<pre><code>{&quot;authorities&quot;: [ {&quot;authority&quot;: &quot;Employee&quot;}, {&quot;authority&quot;: &quot;CEO&quot;},{&quot;authority&quot;: &quot;Admin&quot;},{&quot;authority&quot;: &quot;Customer&quot;} ]\n}\n</code></pre>\n<p><strong>if you want to remove the [ ]</strong></p>\n<p>if your use case, forces you to remove the collection from the JSON object, there are some simple ways of doing it.</p>\n<ol>\n<li>If you have control over the REST API, you can change it to not return collections. However, this is <strong>not advised</strong> as it will most likely break something. If you are gonna do this, take it up with your team.</li>\n<li>When the API returns the JSON object, you can create a new JSON object, of the given JSON object and get the first item in the collection and store it as a normal JSON value. I don't know why you would need to do this, having the collection seems great, but if you have to, that would be a <em>tedious</em> way of solving your problem.</li>\n</ol>\n<p>I hope this helps! If you have questions, ask away 😊</p>\n"}],"owner":{"account_id":10182828,"reputation":9,"user_id":7518949,"display_name":"Adil"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1344,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637145783,"creation_date":1636451725,"question_id":69896081,"body_markdown":"An api returns {&quot;authorities&quot;: [{&quot;authority&quot;: &quot;Employee&quot;}]}\r\n\r\nI want to remove [ ]\r\n\r\n    @RequestMapping(value=/&quot;autho&quot;, method=&quot;GET&quot;, produces=APPLICATION_JSON_VALUE)\r\n    public ResponseEntity getAuthorities(final User usr){\r\n        return ResponseEntity.ok(new GetAuthorityResponse(usr.getAuthorities()));\r\n    }\r\n\r\nHere getAuthorities() is from org.springframework.security which is of type `Collection&lt;GrantedAuthority&gt;`. \r\nThe GetAuthorityResponse casts from `Collection&lt;GrantedAuthority&gt;` to `Collection&lt;CustomAuthority&gt;`.\r\nCustomAuthority is an enum.\r\n\r\n    @JsonFormat(shape=JsonFormat.Shape.OBJECT)\r\n    public enum CustomAuthority implements GrantedAuthority{\r\n    EMPLOYEE(&quot;EMPLOYEE&quot;), EMPLOYEE1(&quot;EMPLOYEE1&quot;);\r\n    private final string authority;\r\n    // Constructor and getter\r\n    }\r\n\r\nUpdate: This bug was already solved in previous sprints. It got reassigned mistakenly.\r\n\r\n","title":"Remove brackets [ ] from json response","body":"<p>An api returns {&quot;authorities&quot;: [{&quot;authority&quot;: &quot;Employee&quot;}]}</p>\n<p>I want to remove [ ]</p>\n<pre><code>@RequestMapping(value=/&quot;autho&quot;, method=&quot;GET&quot;, produces=APPLICATION_JSON_VALUE)\npublic ResponseEntity getAuthorities(final User usr){\n    return ResponseEntity.ok(new GetAuthorityResponse(usr.getAuthorities()));\n}\n</code></pre>\n<p>Here getAuthorities() is from org.springframework.security which is of type <code>Collection&lt;GrantedAuthority&gt;</code>.\nThe GetAuthorityResponse casts from <code>Collection&lt;GrantedAuthority&gt;</code> to <code>Collection&lt;CustomAuthority&gt;</code>.\nCustomAuthority is an enum.</p>\n<pre><code>@JsonFormat(shape=JsonFormat.Shape.OBJECT)\npublic enum CustomAuthority implements GrantedAuthority{\nEMPLOYEE(&quot;EMPLOYEE&quot;), EMPLOYEE1(&quot;EMPLOYEE1&quot;);\nprivate final string authority;\n// Constructor and getter\n}\n</code></pre>\n<p>Update: This bug was already solved in previous sprints. It got reassigned mistakenly.</p>\n"},{"tags":["java","liquibase"],"comments":[{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":1,"creation_date":1637138166,"post_id":70000734,"comment_id":123742649,"body_markdown":"It is *definitely* a mistake - from the ones that happen in real life. The JPA provider will find out eventually at runtime when trying to access that Entity. You may get it to warn you at deployment time with something like (Hibernate-specific) `&lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;validate&quot;/&gt;`. It may be possible to write some kind of integration tests that include the Liquibase scripts. An [example](https://github.com/nikospara/realworld-v2/blob/master/realworld-v2-common/realworld-v2-common-testutils/src/main/java/realworld/test/liquibase/LiquibaseExtension.java) of my own.","body":"It is <i>definitely</i> a mistake - from the ones that happen in real life. The JPA provider will find out eventually at runtime when trying to access that Entity. You may get it to warn you at deployment time with something like (Hibernate-specific) <code>&lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;validate&quot;&#47;&gt;</code>. It may be possible to write some kind of integration tests that include the Liquibase scripts. An <a href=\"https://github.com/nikospara/realworld-v2/blob/master/realworld-v2-common/realworld-v2-common-testutils/src/main/java/realworld/test/liquibase/LiquibaseExtension.java\" rel=\"nofollow noreferrer\">example</a> of my own."}],"answers":[{"tags":[],"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637145657,"creation_date":1637138892,"answer_id":70001265,"question_id":70000734,"body_markdown":"There might be the change-set that alters `inventories` table and adds extra column into it. For example the initial version of `Inventory` class didn&#39;t contain `image_exists` field, but it was added later. Since Liquibase computes hashes of change-sets it&#39;s recommended to add extra `alter`ing change-set instead of modifying the original one. \r\n\r\nHence if there is some later changelist like following, you most probably won&#39;t face any troubles:\r\n\r\n```\r\n&lt;changeSet id=&quot;add_image_exists_column_to_inventories&quot; author=&quot;someone&quot; &gt; \r\n\t&lt;addColumn tableName=&quot;inventories&quot;&gt;\r\n\t\t&lt;column name=&quot;image_exists&quot; type=&quot;boolean&quot;/&gt;   \r\n\t&lt;/addColumn&gt;  \r\n&lt;/changeSet&gt;\r\n```","title":"Matching fields in Entity and in liquibase","body":"<p>There might be the change-set that alters <code>inventories</code> table and adds extra column into it. For example the initial version of <code>Inventory</code> class didn't contain <code>image_exists</code> field, but it was added later. Since Liquibase computes hashes of change-sets it's recommended to add extra <code>alter</code>ing change-set instead of modifying the original one.</p>\n<p>Hence if there is some later changelist like following, you most probably won't face any troubles:</p>\n<pre><code>&lt;changeSet id=&quot;add_image_exists_column_to_inventories&quot; author=&quot;someone&quot; &gt; \n    &lt;addColumn tableName=&quot;inventories&quot;&gt;\n        &lt;column name=&quot;image_exists&quot; type=&quot;boolean&quot;/&gt;   \n    &lt;/addColumn&gt;  \n&lt;/changeSet&gt;\n</code></pre>\n"}],"owner":{"account_id":17458094,"reputation":334,"user_id":14630738,"display_name":"alex"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637145657,"creation_date":1637136234,"question_id":70000734,"body_markdown":"I am studying a training project - working with databases. It seems to be stated that he is a worker. It has not yet been possible to raise the project completely.\r\nHere is the class description of the entity.\r\n\r\n    @Entity\r\n    @Table(name = &quot;inventories&quot;, schema = &quot;inventories&quot;)\r\n    public class Inventory {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        @Column(name = &quot;part_num_oem&quot;)\r\n        private String partNumOEM;\r\n        @Column(name = &quot;part_num&quot;)\r\n        private String partNum;\r\n        @Column(name = &quot;part_name&quot;)\r\n        private String partName;\r\n        private String version;\r\n        private Integer year;\r\n        @Column(name = &quot;image_exists&quot;)\r\n        private Boolean imageExists;\r\n    }\r\n\r\nAnd here is the liquibase file of creating the table itself\r\n\r\n    &lt;changeSet id=&quot;create_inventories&quot; author=&quot;adam&quot;&gt;\r\n        &lt;createTable tableName=&quot;inventories&quot; schemaName=&quot;inventories&quot;&gt;\r\n            &lt;column name=&quot;id&quot; type=&quot;BIGINT&quot; autoIncrement=&quot;true&quot;&gt;\r\n                &lt;constraints primaryKey=&quot;true&quot; nullable=&quot;false&quot;/&gt;\r\n            &lt;/column&gt;\r\n            &lt;column name=&quot;part_num_oem&quot; type=&quot;VARCHAR(100)&quot;/&gt;\r\n            &lt;column name=&quot;part_num&quot; type=&quot;VARCHAR(100)&quot;/&gt;\r\n            &lt;column name=&quot;part_name&quot; type=&quot;VARCHAR(255)&quot;&gt;\r\n                &lt;constraints nullable=&quot;false&quot;/&gt;\r\n            &lt;/column&gt;\r\n            &lt;column name=&quot;version&quot; type=&quot;VARCHAR(50)&quot;/&gt;\r\n            &lt;column name=&quot;year&quot; type=&quot;INT&quot;/&gt;\r\n        &lt;/createTable&gt;\r\n    &lt;/changeSet&gt;\r\nThere is no *image_exists* field from the Entity description class in this file.\r\nIsn&#39;t that a mistake?\r\nOr is it possible to do this?\r\nWhen adding a new entity to the database in this case, an error will not pop up?\r\n\r\nShouldn&#39;t the Entity Entity file fully match the file for liquibase?","title":"Matching fields in Entity and in liquibase","body":"<p>I am studying a training project - working with databases. It seems to be stated that he is a worker. It has not yet been possible to raise the project completely.\nHere is the class description of the entity.</p>\n<pre><code>@Entity\n@Table(name = &quot;inventories&quot;, schema = &quot;inventories&quot;)\npublic class Inventory {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    @Column(name = &quot;part_num_oem&quot;)\n    private String partNumOEM;\n    @Column(name = &quot;part_num&quot;)\n    private String partNum;\n    @Column(name = &quot;part_name&quot;)\n    private String partName;\n    private String version;\n    private Integer year;\n    @Column(name = &quot;image_exists&quot;)\n    private Boolean imageExists;\n}\n</code></pre>\n<p>And here is the liquibase file of creating the table itself</p>\n<pre><code>&lt;changeSet id=&quot;create_inventories&quot; author=&quot;adam&quot;&gt;\n    &lt;createTable tableName=&quot;inventories&quot; schemaName=&quot;inventories&quot;&gt;\n        &lt;column name=&quot;id&quot; type=&quot;BIGINT&quot; autoIncrement=&quot;true&quot;&gt;\n            &lt;constraints primaryKey=&quot;true&quot; nullable=&quot;false&quot;/&gt;\n        &lt;/column&gt;\n        &lt;column name=&quot;part_num_oem&quot; type=&quot;VARCHAR(100)&quot;/&gt;\n        &lt;column name=&quot;part_num&quot; type=&quot;VARCHAR(100)&quot;/&gt;\n        &lt;column name=&quot;part_name&quot; type=&quot;VARCHAR(255)&quot;&gt;\n            &lt;constraints nullable=&quot;false&quot;/&gt;\n        &lt;/column&gt;\n        &lt;column name=&quot;version&quot; type=&quot;VARCHAR(50)&quot;/&gt;\n        &lt;column name=&quot;year&quot; type=&quot;INT&quot;/&gt;\n    &lt;/createTable&gt;\n&lt;/changeSet&gt;\n</code></pre>\n<p>There is no <em>image_exists</em> field from the Entity description class in this file.\nIsn't that a mistake?\nOr is it possible to do this?\nWhen adding a new entity to the database in this case, an error will not pop up?</p>\n<p>Shouldn't the Entity Entity file fully match the file for liquibase?</p>\n"},{"tags":["java","spring","spring-boot","jsf","undertow"],"owner":{"account_id":11316150,"reputation":11,"user_id":8297852,"display_name":"s_cisse"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1637145513,"creation_date":1637145513,"question_id":70002823,"body_markdown":"I configured my app to use HTTP and HTTPS in spring boot and but I got an error on startup of Undertow. But Undertow start when I remove `undertowWebServerFactory` bean in Webconfig.java \r\n\r\n```log\r\nCaused by: java.lang.IllegalStateException: Could not find backup for factory javax.faces.context.FacesContextFactory. \r\n\tat javax.faces.FactoryFinderInstance.getFactory(FactoryFinderInstance.java:555)\r\n\tat javax.faces.FactoryFinder.getFactory(FactoryFinder.java:283)\r\n\tat javax.faces.webapp.FacesServlet.init(FacesServlet.java:358)\r\n\tat io.undertow.servlet.core.LifecyleInterceptorInvocation.proceed(LifecyleInterceptorInvocation.java:117)\r\n\tat io.undertow.servlet.core.ManagedServlet$DefaultInstanceStrategy.start(ManagedServlet.java:309)\r\n\tat io.undertow.servlet.core.ManagedServlet.createServlet(ManagedServlet.java:145)\r\n\tat io.undertow.servlet.core.DeploymentManagerImpl$2.call(DeploymentManagerImpl.java:588)\r\n\tat io.undertow.servlet.core.DeploymentManagerImpl$2.call(DeploymentManagerImpl.java:559)\r\n\tat io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:42)\r\n\tat io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n\tat io.undertow.servlet.core.DeploymentManagerImpl.start(DeploymentManagerImpl.java:601)\r\n\tat org.springframework.boot.web.embedded.undertow.DeploymentManagerHttpHandlerFactory$DeploymentManagerHandler.&lt;init&gt;(DeploymentManagerHttpHandlerFactory.java:66)\r\n\tat org.springframework.boot.web.embedded.undertow.DeploymentManagerHttpHandlerFactory.getHandler(DeploymentManagerHttpHandlerFactory.java:47)\r\n\tat org.springframework.boot.web.embedded.undertow.UndertowWebServer.createHttpHandler(UndertowWebServer.java:170)\r\n\tat org.springframework.boot.web.embedded.undertow.UndertowServletWebServer.createHttpHandler(UndertowServletWebServer.java:72)\r\n\tat org.springframework.boot.web.embedded.undertow.UndertowWebServer.createUndertowServer(UndertowWebServer.java:162)\r\n\tat org.springframework.boot.web.embedded.undertow.UndertowWebServer.start(UndertowWebServer.java:114)\r\n\t... 16 common frames omitted\r\n```\r\n\r\n`Webconfig.java`\r\n```java\r\n...\r\n\r\n    @Value(&quot;${server.address}&quot;)\r\n    private String serverAdress;\r\n\r\n    @Value(&quot;${server.http.port}&quot;)\r\n    private int httpPort;\r\n\r\n    @Bean\r\n    public ServletWebServerFactory undertowWebServerFactory() {\r\n\tUndertowServletWebServerFactory undertow = new UndertowServletWebServerFactory();\r\n\tundertow.addBuilderCustomizers(builder -&gt; builder.addHttpListener(httpPort, serverAdress));\r\n\r\n\treturn undertow;\r\n    }\r\n...\r\n```\r\n\r\n`application.properties`\r\n```properties\r\n...\r\nserver.ssl.key-store-type=PKCS12\r\nserver.ssl.key-store=classpath:keystore\r\nserver.ssl.key-store-password=dummypwd\r\nserver.ssl.enabled-protocols=TLSv1.2\r\n...\r\n```\r\nHow can I do that ?\r\n\r\n","title":"HTTP and HTTPS with Spring Boot and JSF","body":"<p>I configured my app to use HTTP and HTTPS in spring boot and but I got an error on startup of Undertow. But Undertow start when I remove <code>undertowWebServerFactory</code> bean in Webconfig.java</p>\n<pre><code>Caused by: java.lang.IllegalStateException: Could not find backup for factory javax.faces.context.FacesContextFactory. \n    at javax.faces.FactoryFinderInstance.getFactory(FactoryFinderInstance.java:555)\n    at javax.faces.FactoryFinder.getFactory(FactoryFinder.java:283)\n    at javax.faces.webapp.FacesServlet.init(FacesServlet.java:358)\n    at io.undertow.servlet.core.LifecyleInterceptorInvocation.proceed(LifecyleInterceptorInvocation.java:117)\n    at io.undertow.servlet.core.ManagedServlet$DefaultInstanceStrategy.start(ManagedServlet.java:309)\n    at io.undertow.servlet.core.ManagedServlet.createServlet(ManagedServlet.java:145)\n    at io.undertow.servlet.core.DeploymentManagerImpl$2.call(DeploymentManagerImpl.java:588)\n    at io.undertow.servlet.core.DeploymentManagerImpl$2.call(DeploymentManagerImpl.java:559)\n    at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:42)\n    at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\n    at io.undertow.servlet.core.DeploymentManagerImpl.start(DeploymentManagerImpl.java:601)\n    at org.springframework.boot.web.embedded.undertow.DeploymentManagerHttpHandlerFactory$DeploymentManagerHandler.&lt;init&gt;(DeploymentManagerHttpHandlerFactory.java:66)\n    at org.springframework.boot.web.embedded.undertow.DeploymentManagerHttpHandlerFactory.getHandler(DeploymentManagerHttpHandlerFactory.java:47)\n    at org.springframework.boot.web.embedded.undertow.UndertowWebServer.createHttpHandler(UndertowWebServer.java:170)\n    at org.springframework.boot.web.embedded.undertow.UndertowServletWebServer.createHttpHandler(UndertowServletWebServer.java:72)\n    at org.springframework.boot.web.embedded.undertow.UndertowWebServer.createUndertowServer(UndertowWebServer.java:162)\n    at org.springframework.boot.web.embedded.undertow.UndertowWebServer.start(UndertowWebServer.java:114)\n    ... 16 common frames omitted\n</code></pre>\n<p><code>Webconfig.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>...\n\n    @Value(&quot;${server.address}&quot;)\n    private String serverAdress;\n\n    @Value(&quot;${server.http.port}&quot;)\n    private int httpPort;\n\n    @Bean\n    public ServletWebServerFactory undertowWebServerFactory() {\n    UndertowServletWebServerFactory undertow = new UndertowServletWebServerFactory();\n    undertow.addBuilderCustomizers(builder -&gt; builder.addHttpListener(httpPort, serverAdress));\n\n    return undertow;\n    }\n...\n</code></pre>\n<p><code>application.properties</code></p>\n<pre><code>...\nserver.ssl.key-store-type=PKCS12\nserver.ssl.key-store=classpath:keystore\nserver.ssl.key-store-password=dummypwd\nserver.ssl.enabled-protocols=TLSv1.2\n...\n</code></pre>\n<p>How can I do that ?</p>\n"},{"tags":["java","gradle","gradle-plugin","buildconfig"],"answers":[{"tags":[],"owner":{"account_id":4019107,"reputation":42,"user_id":3310128,"display_name":"Cypres"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1637145403,"creation_date":1637145403,"answer_id":70002800,"question_id":69288699,"body_markdown":"I&#39;ve found a workaround, that seems to be working. I&#39;ve just created an empty compile configuration.\r\n\r\n    configurations {\r\n        create(&quot;compile&quot;)\r\n    }\r\n\r\n\r\nIf you will got error like:\r\n\r\nExecution failed for task &#39;:jar&#39;.\r\n&gt; Entry com/fiftytwo/vim/BuildConfig.class is a duplicate but no duplicate handling strategy has been set. Please refer to https://docs.gradle.org/7.2/dsl/org.gradle.api.tasks.Copy.html#org.gradle.api.tasks.Copy:duplicatesStrategy for details.\r\n\r\ncan be solved by:\r\n\r\n    tasks {\r\n        withType&lt;Jar&gt; {\r\n            duplicatesStrategy = DuplicatesStrategy.INCLUDE\r\n        }\r\n    }","title":"java lib using BuildConfig plugin failed to compile using gradle 7.0.2 (Configuration &lt;compile&gt; not found)","body":"<p>I've found a workaround, that seems to be working. I've just created an empty compile configuration.</p>\n<pre><code>configurations {\n    create(&quot;compile&quot;)\n}\n</code></pre>\n<p>If you will got error like:</p>\n<p>Execution failed for task ':jar'.</p>\n<blockquote>\n<p>Entry com/fiftytwo/vim/BuildConfig.class is a duplicate but no duplicate handling strategy has been set. Please refer to <a href=\"https://docs.gradle.org/7.2/dsl/org.gradle.api.tasks.Copy.html#org.gradle.api.tasks.Copy:duplicatesStrategy\" rel=\"nofollow noreferrer\">https://docs.gradle.org/7.2/dsl/org.gradle.api.tasks.Copy.html#org.gradle.api.tasks.Copy:duplicatesStrategy</a> for details.</p>\n</blockquote>\n<p>can be solved by:</p>\n<pre><code>tasks {\n    withType&lt;Jar&gt; {\n        duplicatesStrategy = DuplicatesStrategy.INCLUDE\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4793118,"reputation":183,"user_id":3871725,"accept_rate":100,"display_name":"olivier"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70002800,"answer_count":1,"score":0,"last_activity_date":1637145403,"creation_date":1632331247,"question_id":69288699,"body_markdown":"Since I upgraded Gradle, my java lib won&#39;t compile with buildconfig plugin.\r\nHere is the `build.gradle(:driver-java)`\r\n\r\n```\r\nplugins {\r\n    id &#39;java-library&#39; // Pure Java\r\n    id &#39;de.fuerstenau.buildconfig&#39; version &#39;1.1.8&#39; // BuildConfig\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\njava {\r\n    sourceCompatibility = JavaVersion.VERSION_1_8\r\n    targetCompatibility = JavaVersion.VERSION_1_8\r\n}\r\n\r\n//project.name = &quot;MyProject&quot;\r\nproject.version = &quot;0.9.7&quot;\r\n\r\nsourceSets.main.resources.srcDirs = [ &quot;resources/&quot; ]\r\n\r\ntasks.named(&#39;jar&#39;) {\r\n    manifest {\r\n        attributes(\r\n                &#39;Implementation-Title&#39;: project.name,\r\n                &#39;Implementation-Version&#39;: project.version,\r\n                &#39;Main-Class&#39;: &#39;com.texisense.driver.java.TxDriverTryMe&#39;\r\n            )\r\n    }\r\n}\r\n\r\n\r\ndependencies {\r\n    implementation group: &#39;com.fazecast&#39;, name: &#39;jSerialComm&#39;, version: &#39;2.5.2&#39;\r\n}\r\n```\r\n\r\nIt fails during Sync and here is the exception :\r\n\r\n```\r\nA problem occurred configuring project &#39;:driver-java&#39;.\r\n&gt; Configuration &lt;compile&gt; not found.\r\n\r\n* Try:\r\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Exception is:\r\norg.gradle.api.ProjectConfigurationException: A problem occurred configuring project &#39;:driver-java&#39;.\r\n\tat org.gradle.configuration.project.LifecycleProjectEvaluator.wrapException(LifecycleProjectEvaluator.java:75)\r\n\tat org.gradle.configuration.project.LifecycleProjectEvaluator.addConfigurationFailure(LifecycleProjectEvaluator.java:68)\r\n\tat org.gradle.configuration.project.LifecycleProjectEvaluator.access$400(LifecycleProjectEvaluator.java:51)\r\n\t(...)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat de.fuerstenau.gradle.buildconfig.BuildConfigPlugin.getCompileConfiguration(BuildConfigPlugin.groovy:77)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat de.fuerstenau.gradle.buildconfig.BuildConfigPlugin$_apply_closure3$_closure6.doCall(BuildConfigPlugin.groovy:159)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat de.fuerstenau.gradle.buildconfig.BuildConfigPlugin$_apply_closure3.doCall(BuildConfigPlugin.groovy:157)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\t(...)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat org.gradle.api.internal.artifacts.configurations.DefaultConfigurationContainer.getByName(DefaultConfigurationContainer.java:155)\r\n\tat org.gradle.api.internal.artifacts.configurations.ConfigurationContainerInternal$getByName.call(Unknown Source)\r\n\tat de.fuerstenau.gradle.buildconfig.BuildConfigPlugin.getCompileConfiguration(BuildConfigPlugin.groovy:73)\r\n\t... 171 more\r\n\r\n\r\n\r\n\r\n```\r\nIf I remove this plugin, the Sync works fine (but the project won&#39;t compile since I use BuildConfig of course).  \r\n\r\nDo someone meet the same problem and has an idea how to deal with it ?  \r\n(buildConfigField works only in android environment i believe, and this is not dedicated to android projects)\r\n","title":"java lib using BuildConfig plugin failed to compile using gradle 7.0.2 (Configuration &lt;compile&gt; not found)","body":"<p>Since I upgraded Gradle, my java lib won't compile with buildconfig plugin.\nHere is the <code>build.gradle(:driver-java)</code></p>\n<pre><code>plugins {\n    id 'java-library' // Pure Java\n    id 'de.fuerstenau.buildconfig' version '1.1.8' // BuildConfig\n}\n\nrepositories {\n    mavenCentral()\n}\n\njava {\n    sourceCompatibility = JavaVersion.VERSION_1_8\n    targetCompatibility = JavaVersion.VERSION_1_8\n}\n\n//project.name = &quot;MyProject&quot;\nproject.version = &quot;0.9.7&quot;\n\nsourceSets.main.resources.srcDirs = [ &quot;resources/&quot; ]\n\ntasks.named('jar') {\n    manifest {\n        attributes(\n                'Implementation-Title': project.name,\n                'Implementation-Version': project.version,\n                'Main-Class': 'com.texisense.driver.java.TxDriverTryMe'\n            )\n    }\n}\n\n\ndependencies {\n    implementation group: 'com.fazecast', name: 'jSerialComm', version: '2.5.2'\n}\n</code></pre>\n<p>It fails during Sync and here is the exception :</p>\n<pre><code>A problem occurred configuring project ':driver-java'.\n&gt; Configuration &lt;compile&gt; not found.\n\n* Try:\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.api.ProjectConfigurationException: A problem occurred configuring project ':driver-java'.\n    at org.gradle.configuration.project.LifecycleProjectEvaluator.wrapException(LifecycleProjectEvaluator.java:75)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator.addConfigurationFailure(LifecycleProjectEvaluator.java:68)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator.access$400(LifecycleProjectEvaluator.java:51)\n    (...)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at de.fuerstenau.gradle.buildconfig.BuildConfigPlugin.getCompileConfiguration(BuildConfigPlugin.groovy:77)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at de.fuerstenau.gradle.buildconfig.BuildConfigPlugin$_apply_closure3$_closure6.doCall(BuildConfigPlugin.groovy:159)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at de.fuerstenau.gradle.buildconfig.BuildConfigPlugin$_apply_closure3.doCall(BuildConfigPlugin.groovy:157)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    (...)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at org.gradle.api.internal.artifacts.configurations.DefaultConfigurationContainer.getByName(DefaultConfigurationContainer.java:155)\n    at org.gradle.api.internal.artifacts.configurations.ConfigurationContainerInternal$getByName.call(Unknown Source)\n    at de.fuerstenau.gradle.buildconfig.BuildConfigPlugin.getCompileConfiguration(BuildConfigPlugin.groovy:73)\n    ... 171 more\n\n\n\n\n</code></pre>\n<p>If I remove this plugin, the Sync works fine (but the project won't compile since I use BuildConfig of course).</p>\n<p>Do someone meet the same problem and has an idea how to deal with it ?<br />\n(buildConfigField works only in android environment i believe, and this is not dedicated to android projects)</p>\n"},{"tags":["java","tomcat","ubuntu-18.04","flowable"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1637176684,"post_id":70002796,"comment_id":123758934,"body_markdown":"Which version of Tomcat are you using?","body":"Which version of Tomcat are you using?"},{"owner":{"account_id":21571152,"reputation":155,"user_id":15904005,"display_name":"dab92"},"score":0,"creation_date":1637287259,"post_id":70002796,"comment_id":123792328,"body_markdown":"apache-tomcat 10.0.12","body":"apache-tomcat 10.0.12"},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":1,"creation_date":1637299800,"post_id":70002796,"comment_id":123794528,"body_markdown":"Drop the WAR file into `webapps-javaee` and it should work. This will convert the application from Servlet 4.0 to Servlet 5.0 and deploy it. Most application need changes to work on Tomcat 10 (see [this question](https://stackoverflow.com/q/66806582/11748454)).","body":"Drop the WAR file into <code>webapps-javaee</code> and it should work. This will convert the application from Servlet 4.0 to Servlet 5.0 and deploy it. Most application need changes to work on Tomcat 10 (see <a href=\"https://stackoverflow.com/q/66806582/11748454\">this question</a>)."},{"owner":{"account_id":21571152,"reputation":155,"user_id":15904005,"display_name":"dab92"},"score":0,"creation_date":1637321354,"post_id":70002796,"comment_id":123801191,"body_markdown":"This helped me to sort out the issue. Downgraded to apache-tomcat 8 and it works without issues now. Thank you!","body":"This helped me to sort out the issue. Downgraded to apache-tomcat 8 and it works without issues now. Thank you!"}],"owner":{"account_id":21571152,"reputation":155,"user_id":15904005,"display_name":"dab92"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637145391,"creation_date":1637145391,"question_id":70002796,"body_markdown":"I followed instructions given in [Flowable Getting Started Guide][1] to setup Flowable REST API on Ubuntu 18.04. After running `sudo ./catalina run`, I do get Apache Tomcat up and running on port 8080. However, when I try REST APIs of `flowable-rest`, I get a 404 error.\r\n\r\n    java --version\r\n    java 17.0.1 2021-10-19 LTS\r\n    Java(TM) SE Runtime Environment (build 17.0.1+12-LTS-39)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 17.0.1+12-LTS-39, mixed mode, sharing)\r\n\r\n\r\n\r\nI tried this on Windows and it worked without a problem. Therefore, I think this happens due to a permissions issue, environment variable issue or Java version/path related issue. However, I&#39;m not that familiar with Java and I&#39;m unable to isolate the exact cause.\r\n\r\n\r\n  [1]: https://wwv.flowable.com/open-source/docs/bpmn/ch02-GettingStarted/#setting-up-the-rest-application","title":"Flowable Open Source REST API Setup in Ubuntu 18.04","body":"<p>I followed instructions given in <a href=\"https://wwv.flowable.com/open-source/docs/bpmn/ch02-GettingStarted/#setting-up-the-rest-application\" rel=\"nofollow noreferrer\">Flowable Getting Started Guide</a> to setup Flowable REST API on Ubuntu 18.04. After running <code>sudo ./catalina run</code>, I do get Apache Tomcat up and running on port 8080. However, when I try REST APIs of <code>flowable-rest</code>, I get a 404 error.</p>\n<pre><code>java --version\njava 17.0.1 2021-10-19 LTS\nJava(TM) SE Runtime Environment (build 17.0.1+12-LTS-39)\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.1+12-LTS-39, mixed mode, sharing)\n</code></pre>\n<p>I tried this on Windows and it worked without a problem. Therefore, I think this happens due to a permissions issue, environment variable issue or Java version/path related issue. However, I'm not that familiar with Java and I'm unable to isolate the exact cause.</p>\n"},{"tags":["java","android","android-fragments","navigation-drawer"],"answers":[{"tags":[],"owner":{"account_id":5251106,"reputation":2819,"user_id":4195337,"display_name":"jmart"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637145380,"creation_date":1637145380,"answer_id":70002794,"question_id":70002615,"body_markdown":"Communication between fragments should happen through the parent activity.\r\n\r\nYou can read more about it on the documentation (including code samples):\r\n\r\nhttps://developer.android.com/guide/fragments/communicate","title":"How to pass string variable between fragments in navigation drawer activity template","body":"<p>Communication between fragments should happen through the parent activity.</p>\n<p>You can read more about it on the documentation (including code samples):</p>\n<p><a href=\"https://developer.android.com/guide/fragments/communicate\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/fragments/communicate</a></p>\n"}],"owner":{"account_id":23201216,"reputation":23,"user_id":17296012,"display_name":"Михаил Потемкин"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1637145380,"creation_date":1637144615,"question_id":70002615,"body_markdown":"tell me how to pass a string variable between two fragments of the navigation drawer activity template in Android Studio 4.0.1, preferably with examples of program code\r\nI tried to do it using intent, but I don&#39;t understand where to specify it\r\nМой код MainActivity.java:\r\n\r\n    package com.example.myt;\r\n    \r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.view.Menu;\r\n    \r\n    import com.google.android.material.floatingactionbutton.FloatingActionButton;\r\n    import com.google.android.material.snackbar.Snackbar;\r\n    import com.google.android.material.navigation.NavigationView;\r\n    \r\n    import androidx.navigation.NavController;\r\n    import androidx.navigation.Navigation;\r\n    import androidx.navigation.ui.AppBarConfiguration;\r\n    import androidx.navigation.ui.NavigationUI;\r\n    import androidx.drawerlayout.widget.DrawerLayout;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.appcompat.widget.Toolbar;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        private AppBarConfiguration mAppBarConfiguration;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            Toolbar toolbar = findViewById(R.id.toolbar);\r\n            setSupportActionBar(toolbar);\r\n            FloatingActionButton fab = findViewById(R.id.fab);\r\n            fab.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    Snackbar.make(view, &quot;Replace with your own action&quot;, Snackbar.LENGTH_LONG)\r\n                            .setAction(&quot;Action&quot;, null).show();\r\n                }\r\n            });\r\n            DrawerLayout drawer = findViewById(R.id.drawer_layout);\r\n            NavigationView navigationView = findViewById(R.id.nav_view);\r\n            // Passing each menu ID as a set of Ids because each\r\n            // menu should be considered as top level destinations.\r\n            mAppBarConfiguration = new AppBarConfiguration.Builder(\r\n                    R.id.nav_home, R.id.nav_gallery, R.id.nav_slideshow)\r\n                    .setDrawerLayout(drawer)\r\n                    .build();\r\n            NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment);\r\n            NavigationUI.setupActionBarWithNavController(this, navController, mAppBarConfiguration);\r\n            NavigationUI.setupWithNavController(navigationView, navController);\r\n        }\r\n    \r\n        @Override\r\n        public boolean onCreateOptionsMenu(Menu menu) {\r\n            // Inflate the menu; this adds items to the action bar if it is present.\r\n            getMenuInflater().inflate(R.menu.main, menu);\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean onSupportNavigateUp() {\r\n            NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment);\r\n            return NavigationUI.navigateUp(navController, mAppBarConfiguration)\r\n                    || super.onSupportNavigateUp();\r\n        }\r\n    }","title":"How to pass string variable between fragments in navigation drawer activity template","body":"<p>tell me how to pass a string variable between two fragments of the navigation drawer activity template in Android Studio 4.0.1, preferably with examples of program code\nI tried to do it using intent, but I don't understand where to specify it\nМой код MainActivity.java:</p>\n<pre><code>package com.example.myt;\n\nimport android.os.Bundle;\nimport android.view.View;\nimport android.view.Menu;\n\nimport com.google.android.material.floatingactionbutton.FloatingActionButton;\nimport com.google.android.material.snackbar.Snackbar;\nimport com.google.android.material.navigation.NavigationView;\n\nimport androidx.navigation.NavController;\nimport androidx.navigation.Navigation;\nimport androidx.navigation.ui.AppBarConfiguration;\nimport androidx.navigation.ui.NavigationUI;\nimport androidx.drawerlayout.widget.DrawerLayout;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.appcompat.widget.Toolbar;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private AppBarConfiguration mAppBarConfiguration;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        Toolbar toolbar = findViewById(R.id.toolbar);\n        setSupportActionBar(toolbar);\n        FloatingActionButton fab = findViewById(R.id.fab);\n        fab.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Snackbar.make(view, &quot;Replace with your own action&quot;, Snackbar.LENGTH_LONG)\n                        .setAction(&quot;Action&quot;, null).show();\n            }\n        });\n        DrawerLayout drawer = findViewById(R.id.drawer_layout);\n        NavigationView navigationView = findViewById(R.id.nav_view);\n        // Passing each menu ID as a set of Ids because each\n        // menu should be considered as top level destinations.\n        mAppBarConfiguration = new AppBarConfiguration.Builder(\n                R.id.nav_home, R.id.nav_gallery, R.id.nav_slideshow)\n                .setDrawerLayout(drawer)\n                .build();\n        NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment);\n        NavigationUI.setupActionBarWithNavController(this, navController, mAppBarConfiguration);\n        NavigationUI.setupWithNavController(navigationView, navController);\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        // Inflate the menu; this adds items to the action bar if it is present.\n        getMenuInflater().inflate(R.menu.main, menu);\n        return true;\n    }\n\n    @Override\n    public boolean onSupportNavigateUp() {\n        NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment);\n        return NavigationUI.navigateUp(navController, mAppBarConfiguration)\n                || super.onSupportNavigateUp();\n    }\n}\n</code></pre>\n"},{"tags":["java","quarkus"],"comments":[{"owner":{"account_id":3524514,"reputation":1032,"user_id":2946008,"display_name":"Allenaz"},"score":0,"creation_date":1686303528,"post_id":69994907,"comment_id":134783509,"body_markdown":"Would this fit your use case? -&gt; https://quarkus.io/guides/resteasy-reactive#using-a-runtime-property","body":"Would this fit your use case? -&gt; <a href=\"https://quarkus.io/guides/resteasy-reactive#using-a-runtime-property\" rel=\"nofollow noreferrer\">quarkus.io/guides/resteasy-reactive#using-a-runtime-property</a>"}],"answers":[{"tags":[],"owner":{"account_id":7215228,"reputation":1692,"user_id":5507961,"accept_rate":75,"display_name":"Javier Toja"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637145273,"creation_date":1637145273,"answer_id":70002766,"question_id":69994907,"body_markdown":"With the configuration properties and the MP-restclient you cant deactivate and endpoint, only change the url to a different one.\r\n\r\nBut what you can do instead is create a configuration property similar to the one you suggested, then inject the property in your code and use it to call or not your endpoint, It is similar to the logic you do the profile manager, but you will have more control over the invocation.\r\n\r\nFor example this could be the properties.\r\n```\r\n%dev.test.api.enabled=true\r\n%prod.test.api.enabled=false\r\n```\r\n\r\nThen inject the properties like in this example [using the injection capabilities][1] of quarkus and cdi.\r\n\r\nThen implementing the condition to check if the call must be made or not.\r\n\r\n----\r\n\r\nI think that you will not find any property to do not make a call, because at the end you are executing a method and waiting for an answer, and this behaviour cannot be altered by an endpoint property, only by code offering an alternative response or execution path.\r\n\r\n\r\n\r\n\r\n  [1]: https://quarkus.io/guides/config-reference#inject","title":"How to deactivate a url in a specific profile in quarkus?","body":"<p>With the configuration properties and the MP-restclient you cant deactivate and endpoint, only change the url to a different one.</p>\n<p>But what you can do instead is create a configuration property similar to the one you suggested, then inject the property in your code and use it to call or not your endpoint, It is similar to the logic you do the profile manager, but you will have more control over the invocation.</p>\n<p>For example this could be the properties.</p>\n<pre><code>%dev.test.api.enabled=true\n%prod.test.api.enabled=false\n</code></pre>\n<p>Then inject the properties like in this example <a href=\"https://quarkus.io/guides/config-reference#inject\" rel=\"nofollow noreferrer\">using the injection capabilities</a> of quarkus and cdi.</p>\n<p>Then implementing the condition to check if the call must be made or not.</p>\n<hr />\n<p>I think that you will not find any property to do not make a call, because at the end you are executing a method and waiting for an answer, and this behaviour cannot be altered by an endpoint property, only by code offering an alternative response or execution path.</p>\n"}],"owner":{"account_id":16435138,"reputation":109,"user_id":11872908,"display_name":"NoSe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":522,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70002766,"answer_count":1,"score":0,"last_activity_date":1637145273,"creation_date":1637090290,"question_id":69994907,"body_markdown":"I am developing an API with quarkus 1.11. I would like to make a call to another API but only locally I don&#39;t want it to be called in production.\r\n\r\nI know what I can do:\r\n\r\n    ProfileManager.getActiveProfile() != &quot;test&quot;\r\n\r\nBut I would like to know if it is possible to configure it with some java annotation or in the aplication.properties as:\r\n\r\n    %dev.test.api/mp-rest/url=DISABLED\r\n\r\nThank you so much!","title":"How to deactivate a url in a specific profile in quarkus?","body":"<p>I am developing an API with quarkus 1.11. I would like to make a call to another API but only locally I don't want it to be called in production.</p>\n<p>I know what I can do:</p>\n<pre><code>ProfileManager.getActiveProfile() != &quot;test&quot;\n</code></pre>\n<p>But I would like to know if it is possible to configure it with some java annotation or in the aplication.properties as:</p>\n<pre><code>%dev.test.api/mp-rest/url=DISABLED\n</code></pre>\n<p>Thank you so much!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2443099,"reputation":9128,"user_id":2131074,"accept_rate":75,"display_name":"GPI"},"score":0,"creation_date":1637145759,"post_id":70002742,"comment_id":123745545,"body_markdown":"Technically speaking, it is very hard to find errors after the first one, simply because the error might be so strong as to leave the parser not knowing what it should expect. For example, violating a cardinality restriction (producing a tag twice when a single occurence is allowed), is pretty much OK to recover from. But closing the root tag unexpectedly in the middle of the document, how would you recover from that ? What would be the error after, seeing you are out of the document anyway? I&#39;d be surprised if you find a library that adresses it. Happy to be proven wrong though.","body":"Technically speaking, it is very hard to find errors after the first one, simply because the error might be so strong as to leave the parser not knowing what it should expect. For example, violating a cardinality restriction (producing a tag twice when a single occurence is allowed), is pretty much OK to recover from. But closing the root tag unexpectedly in the middle of the document, how would you recover from that ? What would be the error after, seeing you are out of the document anyway? I&#39;d be surprised if you find a library that adresses it. Happy to be proven wrong though."},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1637269354,"post_id":70002742,"comment_id":123788401,"body_markdown":"@Rajashekhar\n\nPlease see this answer https://stackoverflow.com/questions/58575887/even-with-errorhandler-why-is-schema-validation-ending-after-the-first-error","body":"@Rajashekhar  Please see this answer <a href=\"https://stackoverflow.com/questions/58575887/even-with-errorhandler-why-is-schema-validation-ending-after-the-first-error\" title=\"even with errorhandler why is schema validation ending after the first error\">stackoverflow.com/questions/58575887/&hellip;</a>"}],"owner":{"account_id":23365241,"reputation":1,"user_id":17436938,"display_name":"Rajashekhar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":381,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637145177,"creation_date":1637145177,"question_id":70002742,"body_markdown":"I am using jdk1.8 javax xml validation api to validate the XML file against the corresponding XSD. The requirement is to capture all XML validation errors against the XSD in the given xml file during the validation.\r\n\r\nBut now validation will stop during the first occurrence of the invalid element or validation error in the given XML file, even though have set the error handler (without throwing the any exception ) in the Validator API. Below is the code snippet. I am using the JDK v1.8  to validate the XML file.\r\n\r\n         String xsd=\r\n    \t String xml=\r\n            try {\r\n               \r\n                SchemaFactory  schemaFactory = \r\n               SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);\r\n    \r\n                Schema schema = schemaFactory.newSchema(new StreamSource(new StringReader(xsd)));\r\n               \r\n                Validator  validator = schema.newValidator();\r\n                \r\n                errorHandler=new XMLSchemaValidationErrorHandler(validator);\r\n                validator.setErrorHandler(errorHandler);\r\n                StringWriter  writer = new StringWriter();\r\n                StreamResult  result = new StreamResult(writer);\r\n                validator.validate(new StreamSource(new StringReader(xml)), result);\r\n                \r\n            } catch (SAXException e) {\r\n               \r\n            } catch (IllegalArgumentException i) {\r\n               \r\n            } catch (IOException err) {\r\n               \r\n            } catch (Exception e) {\r\n               \r\n            }\r\n        }\r\n    \t\r\n    package com.xml.validation.utils;\r\n    \r\n    import java.util.LinkedList;\r\n    import java.util.List;\r\n    \r\n    import javax.xml.validation.Validator;\r\n    \r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.xml.sax.ErrorHandler;\r\n    import org.xml.sax.SAXException;\r\n    import org.xml.sax.SAXParseException;\r\n    \r\n       public class XMLSchemaValidationErrorHandler implements ErrorHandler{\r\n    \r\n    \tprivate static Logger LOGGER = \r\n       LoggerFactory.getLogger(XMLSchemaValidationErrorHandler.class);\r\n    \t\r\n    \tfinal List&lt;SAXParseException&gt; exceptions=new LinkedList&lt;SAXParseException&gt;();\r\n    \tprivate Validator validator;\r\n    \t public XMLSchemaValidationErrorHandler(Validator v) {\r\n    \t\t  super();\r\n    \t\t  validator = v;\r\n    \t\t }\r\n    \t \r\n    \t@Override\r\n    \tpublic void warning(SAXParseException exception) throws SAXException {\r\n    \t \r\n    \t\tLOGGER.error(&quot;warning SAXParseException :::&quot;+exception.getMessage());\r\n    \t\texceptions.add(exception);\t\r\n    \t\t\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void error(SAXParseException exception) throws SAXException {\r\n    \t\tLOGGER.error(&quot;error SAXParseException Message :::  &quot;+exception.getMessage());\r\n    \t\texceptions.add(exception);\t\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void fatalError(SAXParseException exception) throws SAXException {\r\n    \t\tLOGGER.error(&quot;fatalError SAXParseException ::: &quot;+exception.getMessage());\r\n    \t\texceptions.add(exception);\t\r\n    \t\t\r\n    \t}\r\n    \r\n    \tpublic List&lt;SAXParseException&gt; getExceptions() {\r\n    \t\treturn exceptions;\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Capture all XML validation errors during validate the XML file against XSD file in java","body":"<p>I am using jdk1.8 javax xml validation api to validate the XML file against the corresponding XSD. The requirement is to capture all XML validation errors against the XSD in the given xml file during the validation.</p>\n<p>But now validation will stop during the first occurrence of the invalid element or validation error in the given XML file, even though have set the error handler (without throwing the any exception ) in the Validator API. Below is the code snippet. I am using the JDK v1.8  to validate the XML file.</p>\n<pre><code>     String xsd=\n     String xml=\n        try {\n           \n            SchemaFactory  schemaFactory = \n           SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);\n\n            Schema schema = schemaFactory.newSchema(new StreamSource(new StringReader(xsd)));\n           \n            Validator  validator = schema.newValidator();\n            \n            errorHandler=new XMLSchemaValidationErrorHandler(validator);\n            validator.setErrorHandler(errorHandler);\n            StringWriter  writer = new StringWriter();\n            StreamResult  result = new StreamResult(writer);\n            validator.validate(new StreamSource(new StringReader(xml)), result);\n            \n        } catch (SAXException e) {\n           \n        } catch (IllegalArgumentException i) {\n           \n        } catch (IOException err) {\n           \n        } catch (Exception e) {\n           \n        }\n    }\n    \npackage com.xml.validation.utils;\n\nimport java.util.LinkedList;\nimport java.util.List;\n\nimport javax.xml.validation.Validator;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.xml.sax.ErrorHandler;\nimport org.xml.sax.SAXException;\nimport org.xml.sax.SAXParseException;\n\n   public class XMLSchemaValidationErrorHandler implements ErrorHandler{\n\n    private static Logger LOGGER = \n   LoggerFactory.getLogger(XMLSchemaValidationErrorHandler.class);\n    \n    final List&lt;SAXParseException&gt; exceptions=new LinkedList&lt;SAXParseException&gt;();\n    private Validator validator;\n     public XMLSchemaValidationErrorHandler(Validator v) {\n          super();\n          validator = v;\n         }\n     \n    @Override\n    public void warning(SAXParseException exception) throws SAXException {\n     \n        LOGGER.error(&quot;warning SAXParseException :::&quot;+exception.getMessage());\n        exceptions.add(exception);  \n        \n        \n    }\n\n    @Override\n    public void error(SAXParseException exception) throws SAXException {\n        LOGGER.error(&quot;error SAXParseException Message :::  &quot;+exception.getMessage());\n        exceptions.add(exception);  \n        \n    }\n\n    @Override\n    public void fatalError(SAXParseException exception) throws SAXException {\n        LOGGER.error(&quot;fatalError SAXParseException ::: &quot;+exception.getMessage());\n        exceptions.add(exception);  \n        \n    }\n\n    public List&lt;SAXParseException&gt; getExceptions() {\n        return exceptions;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","maven","junit5"],"comments":[{"owner":{"account_id":6302434,"reputation":5409,"user_id":4896651,"accept_rate":75,"display_name":"Shadov"},"score":0,"creation_date":1637144605,"post_id":70002568,"comment_id":123745108,"body_markdown":"How are you computing coverage, jacoco maven plugin, some IDE built-in? To me it seems like this is the problem, not your test code.","body":"How are you computing coverage, jacoco maven plugin, some IDE built-in? To me it seems like this is the problem, not your test code."},{"owner":{"account_id":18897956,"reputation":1,"user_id":13786671,"display_name":"shraban rana"},"score":0,"creation_date":1637145052,"post_id":70002568,"comment_id":123745272,"body_markdown":"Maven plugin . jacoco.","body":"Maven plugin . jacoco."},{"owner":{"account_id":6302434,"reputation":5409,"user_id":4896651,"accept_rate":75,"display_name":"Shadov"},"score":0,"creation_date":1637145139,"post_id":70002568,"comment_id":123745310,"body_markdown":"Then show this code, your plugin setup is probably wrong","body":"Then show this code, your plugin setup is probably wrong"},{"owner":{"account_id":18897956,"reputation":1,"user_id":13786671,"display_name":"shraban rana"},"score":0,"creation_date":1637145241,"post_id":70002568,"comment_id":123745352,"body_markdown":"I test in eclipse junit coverage.   it&#39;s 0% also.    Test cash is passing. green.","body":"I test in eclipse junit coverage.   it&#39;s 0% also.    Test cash is passing. green."}],"owner":{"account_id":18897956,"reputation":1,"user_id":13786671,"display_name":"shraban rana"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":823,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637144892,"creation_date":1637144353,"question_id":70002568,"body_markdown":"I am writing test case for mapper method where new object instance is creating for mapping. How to mock all mapper objects and set in setter? Eclipse tool passing test but jacoco is giving 0% coverage on this code.\r\n\r\n```\r\n    public class NewUseInsideMethods {\r\n\r\n\tpublic StudentOldTestingReturn OldLogicTesting(StudentOldTesting Student) {\r\n\r\n\t\tStudentOldTestingReturn sturentReturn = new StudentOldTestingReturn();\r\n\r\n\t\tOldBatchName batchName = new OldBatchName();\r\n\t\tbatchName.setId(&quot;1&quot;);\r\n\t\tbatchName.setName(&quot;test&quot;);\r\n\r\n\t\tsturentReturn.setId(batchName.getId());\r\n\t\tsturentReturn.setName(Student.getName());\r\n\r\n\t\treturn sturentReturn;\r\n\t }\r\n    }\r\n```\r\n```\r\n    public class OldBatchName {\r\n\r\n\tprivate String name;\r\n\tprivate String id;\r\n    //setter and getter\r\n    }\r\n\r\n    public class StudentOldTesting {\r\n\tprivate String name;\r\n\tprivate String id;\r\n    //setter and getter\r\n    }\r\n\r\n    public class StudentOldTestingReturn {\r\n\tprivate String name;\r\n\tprivate String id;\r\n    //setter and getter\r\n    }\r\n```\r\n```\r\n     import org.junit.jupiter.api.Assertions;\r\n     import org.junit.jupiter.api.Test;\r\n     import org.junit.jupiter.api.extension.ExtendWith;\r\n     import org.mockito.junit.jupiter.MockitoExtension;\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    class NewUseInsideMethodsTest {\r\n\r\n\t@Test\r\n\tvoid OldLogicTesting() throws Exception {\r\n\r\n\t\tStudentOldTesting oldTesting = new StudentOldTesting();\r\n\t\toldTesting.setName(&quot;shraban&quot;);\r\n\t\toldTesting.setId(&quot;1&quot;);\r\n\t\tNewUseInsideMethods insideMethods = new NewUseInsideMethods();\r\n\t\tStudentOldTestingReturn result = insideMethods.OldLogicTesting(oldTesting);\r\n\r\n\t\tAssertions.assertNotNull(result);\r\n\t\tAssertions.assertEquals(&quot;shraban&quot;, result.getName());\r\n\t\tAssertions.assertEquals(&quot;1&quot;, result.getId());\r\n\r\n\t    }\r\n       }\r\n```","title":"Junit test coverage is showing 0%","body":"<p>I am writing test case for mapper method where new object instance is creating for mapping. How to mock all mapper objects and set in setter? Eclipse tool passing test but jacoco is giving 0% coverage on this code.</p>\n<pre><code>    public class NewUseInsideMethods {\n\n    public StudentOldTestingReturn OldLogicTesting(StudentOldTesting Student) {\n\n        StudentOldTestingReturn sturentReturn = new StudentOldTestingReturn();\n\n        OldBatchName batchName = new OldBatchName();\n        batchName.setId(&quot;1&quot;);\n        batchName.setName(&quot;test&quot;);\n\n        sturentReturn.setId(batchName.getId());\n        sturentReturn.setName(Student.getName());\n\n        return sturentReturn;\n     }\n    }\n</code></pre>\n<pre><code>    public class OldBatchName {\n\n    private String name;\n    private String id;\n    //setter and getter\n    }\n\n    public class StudentOldTesting {\n    private String name;\n    private String id;\n    //setter and getter\n    }\n\n    public class StudentOldTestingReturn {\n    private String name;\n    private String id;\n    //setter and getter\n    }\n</code></pre>\n<pre><code>     import org.junit.jupiter.api.Assertions;\n     import org.junit.jupiter.api.Test;\n     import org.junit.jupiter.api.extension.ExtendWith;\n     import org.mockito.junit.jupiter.MockitoExtension;\n\n    @ExtendWith(MockitoExtension.class)\n    class NewUseInsideMethodsTest {\n\n    @Test\n    void OldLogicTesting() throws Exception {\n\n        StudentOldTesting oldTesting = new StudentOldTesting();\n        oldTesting.setName(&quot;shraban&quot;);\n        oldTesting.setId(&quot;1&quot;);\n        NewUseInsideMethods insideMethods = new NewUseInsideMethods();\n        StudentOldTestingReturn result = insideMethods.OldLogicTesting(oldTesting);\n\n        Assertions.assertNotNull(result);\n        Assertions.assertEquals(&quot;shraban&quot;, result.getName());\n        Assertions.assertEquals(&quot;1&quot;, result.getId());\n\n        }\n       }\n</code></pre>\n"},{"tags":["java","android","regex"],"answers":[{"tags":[],"owner":{"account_id":1103657,"reputation":42407,"user_id":1231450,"accept_rate":87,"display_name":"Jan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1453616780,"creation_date":1453578539,"answer_id":34968035,"question_id":34967274,"body_markdown":"This is a variation of:\r\n\r\n    not_this|forget_this|nevermind_this|(but_keep_this)\r\n\r\nSo you could come up with:\r\n\r\n    ^(?:\\b[a-z]|\\b[A-Z]{2,})(*SKIP)(*FAIL)|^([A-Za-z ]+)$\r\n\r\nSee a [regex demo on regex101.com][1]\r\n\r\n\r\n  [1]: https://regex101.com/r/tE6fY1/4\r\n","title":"Regex for Name - Capitalization and No Special Characters","body":"<p>This is a variation of:</p>\n\n<pre><code>not_this|forget_this|nevermind_this|(but_keep_this)\n</code></pre>\n\n<p>So you could come up with:</p>\n\n<pre><code>^(?:\\b[a-z]|\\b[A-Z]{2,})(*SKIP)(*FAIL)|^([A-Za-z ]+)$\n</code></pre>\n\n<p>See a <a href=\"https://regex101.com/r/tE6fY1/4\" rel=\"nofollow\">regex demo on regex101.com</a></p>\n"},{"tags":[],"owner":{"display_name":"user2705585"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1453578686,"creation_date":1453578686,"answer_id":34968074,"question_id":34967274,"body_markdown":"Keeping in mind your requirement I came up with [this regex.][1]\r\n\r\n**Regex**: `\\b[A-Z][a-z]* [A-Z][a-z]*( [A-Z])?\\b`\r\n\r\n**Explanation**:\r\n\r\n`[A-Z][a-z]*` matches the first name, first character is capital and rest of them small which could be `0 or many` followed by a space.\r\n\r\n`[A-Z][a-z]*` matches the surname or middle name, same as first name.\r\n\r\n`( [A-Z])?` matches the optional last name as in `Botvinnik M M` or `Vivekanand P V`\r\n\r\nSurrounded by `\\b` to allow boundary. You can either use anchoring if that&#39;s what you need.\r\n\r\n\r\n  [1]: https://regex101.com/r/qR0jA9/1","title":"Regex for Name - Capitalization and No Special Characters","body":"<p>Keeping in mind your requirement I came up with <a href=\"https://regex101.com/r/qR0jA9/1\" rel=\"nofollow\">this regex.</a></p>\n\n<p><strong>Regex</strong>: <code>\\b[A-Z][a-z]* [A-Z][a-z]*( [A-Z])?\\b</code></p>\n\n<p><strong>Explanation</strong>:</p>\n\n<p><code>[A-Z][a-z]*</code> matches the first name, first character is capital and rest of them small which could be <code>0 or many</code> followed by a space.</p>\n\n<p><code>[A-Z][a-z]*</code> matches the surname or middle name, same as first name.</p>\n\n<p><code>( [A-Z])?</code> matches the optional last name as in <code>Botvinnik M M</code> or <code>Vivekanand P V</code></p>\n\n<p>Surrounded by <code>\\b</code> to allow boundary. You can either use anchoring if that's what you need.</p>\n"},{"tags":[],"owner":{"account_id":1333485,"reputation":871,"user_id":3969961,"accept_rate":50,"display_name":"Vivekanand P V"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1453605383,"creation_date":1453605383,"answer_id":34971811,"question_id":34967274,"body_markdown":"Building on the idea of @noob, I have come up with this:\r\n\r\n    \\b[A-Z][a-z]*( [A-Z][a-z]*)*\\b\r\n\r\nIt matches:\r\n\r\n1. John D E F W\r\n2. D E S Matthew\r\n3. Alladi Krishna Swami Aiyar\r\n4. Raja Ravi Varma M\r\n5. A B C D E F\r\n\r\nMatch case 5 is the only fly in the ointment. I presume given the requirements, it cannot be prevented by the RegEx. I am thinking of tokenizing the input string once it passes the RegEx and examining the string length in the validator method.\r\n\r\nAm I missing something?\r\n\r\nI have tested this RegEx [here][1]. \r\n\r\n\r\n  [1]: http://www.regexplanet.com/advanced/java/index.html","title":"Regex for Name - Capitalization and No Special Characters","body":"<p>Building on the idea of @noob, I have come up with this:</p>\n\n<pre><code>\\b[A-Z][a-z]*( [A-Z][a-z]*)*\\b\n</code></pre>\n\n<p>It matches:</p>\n\n<ol>\n<li>John D E F W</li>\n<li>D E S Matthew</li>\n<li>Alladi Krishna Swami Aiyar</li>\n<li>Raja Ravi Varma M</li>\n<li>A B C D E F</li>\n</ol>\n\n<p>Match case 5 is the only fly in the ointment. I presume given the requirements, it cannot be prevented by the RegEx. I am thinking of tokenizing the input string once it passes the RegEx and examining the string length in the validator method.</p>\n\n<p>Am I missing something?</p>\n\n<p>I have tested this RegEx <a href=\"http://www.regexplanet.com/advanced/java/index.html\" rel=\"nofollow\">here</a>. </p>\n"},{"tags":[],"owner":{"account_id":5755990,"reputation":67,"user_id":4543926,"display_name":"Foysal Ahmed Emon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637144498,"creation_date":1637144498,"answer_id":70002594,"question_id":34967274,"body_markdown":"    ^((\\b[A-Z][a-z]{1,15})\\s*){2,15}$\r\n\r\n\r\nWorks for \r\n\r\n - Foysal Ahmed Emon\r\n - Foysal Ahmed\r\n\r\n\r\n\r\nDoes not work for \r\n\r\n - foysal Ahmed\r\n - Emon\r\n - E Ahmed\r\n\r\n","title":"Regex for Name - Capitalization and No Special Characters","body":"<pre><code>^((\\b[A-Z][a-z]{1,15})\\s*){2,15}$\n</code></pre>\n<p>Works for</p>\n<ul>\n<li>Foysal Ahmed Emon</li>\n<li>Foysal Ahmed</li>\n</ul>\n<p>Does not work for</p>\n<ul>\n<li>foysal Ahmed</li>\n<li>Emon</li>\n<li>E Ahmed</li>\n</ul>\n"}],"owner":{"account_id":1333485,"reputation":871,"user_id":3969961,"accept_rate":50,"display_name":"Vivekanand P V"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5062,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1637144498,"creation_date":1453574442,"question_id":34967274,"body_markdown":"I am trying to validate names which are written only in English alphabets. Other special letters such as &#231;, &#233;, etc. are excluded.\r\n\r\nMy requirements are:\r\n\r\n1. Every word should start with a capital letter (Peter Svidler)\r\n2. A single word should not have two capital letters (PEter Svidler must fail)\r\n3. No digits are allowed. (Peter Svidler9 or Peter 9 Svidler should fail)\r\n4. No special characters are allowed. (Peter Svidler. or Peter S.vidler must fail)\r\n5. Cases to be matched:\r\n   a. R G S Devan or Achar K K S R (allow as many capitalized initials as possible either at the start or at the end)\r\n   b. One word or more than one word (Chandra, Chandra Shekhar Raju, ...)\r\n   \r\n\r\nI tried to validate through 2 expressions\r\n\r\n    \\b[A-Z].*?\\b\r\n\r\nand\r\n\r\n    ^[a-zA-Z ]*$\r\n\r\nBut it is matching for PEter SVidler, or PETER SVIDLER.\r\n\r\nHow can this be solved?","title":"Regex for Name - Capitalization and No Special Characters","body":"<p>I am trying to validate names which are written only in English alphabets. Other special letters such as ç, é, etc. are excluded.</p>\n\n<p>My requirements are:</p>\n\n<ol>\n<li>Every word should start with a capital letter (Peter Svidler)</li>\n<li>A single word should not have two capital letters (PEter Svidler must fail)</li>\n<li>No digits are allowed. (Peter Svidler9 or Peter 9 Svidler should fail)</li>\n<li>No special characters are allowed. (Peter Svidler. or Peter S.vidler must fail)</li>\n<li>Cases to be matched:\na. R G S Devan or Achar K K S R (allow as many capitalized initials as possible either at the start or at the end)\nb. One word or more than one word (Chandra, Chandra Shekhar Raju, ...)</li>\n</ol>\n\n<p>I tried to validate through 2 expressions</p>\n\n<pre><code>\\b[A-Z].*?\\b\n</code></pre>\n\n<p>and</p>\n\n<pre><code>^[a-zA-Z ]*$\n</code></pre>\n\n<p>But it is matching for PEter SVidler, or PETER SVIDLER.</p>\n\n<p>How can this be solved?</p>\n"},{"tags":["java","json","csv","xls"],"comments":[{"owner":{"account_id":358449,"reputation":42107,"user_id":699224,"accept_rate":67,"display_name":"DNA"},"score":2,"creation_date":1330636970,"post_id":9524191,"comment_id":12064646,"body_markdown":"possibly not an _exact_ duplicate since it asks specifically for a Java solution.","body":"possibly not an <i>exact</i> duplicate since it asks specifically for a Java solution."},{"owner":{"account_id":6388117,"reputation":706,"user_id":4955304,"accept_rate":89,"display_name":"Adam Gerard"},"score":0,"creation_date":1547526921,"post_id":9524191,"comment_id":95213050,"body_markdown":"OpenCSV is a pretty good library for working with .csv&#39;s: https://www.baeldung.com/opencsv - you can use it to get a POJO from a file and then serialize it into another format fairly easily.","body":"OpenCSV is a pretty good library for working with .csv&#39;s: <a href=\"https://www.baeldung.com/opencsv\" rel=\"nofollow noreferrer\">baeldung.com/opencsv</a> - you can use it to get a POJO from a file and then serialize it into another format fairly easily."}],"answers":[{"tags":[],"owner":{"account_id":410025,"reputation":2594,"user_id":781608,"accept_rate":62,"display_name":"Mouscellaneous"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1330637057,"creation_date":1330637057,"answer_id":9524327,"question_id":9524191,"body_markdown":"You can use Open CSV to map CSV to a Java Bean, and then use JAXB to convert the Java Bean into a JSON object.\r\n\r\nhttp://opencsv.sourceforge.net/#javabean-integration\r\n\r\nhttp://jaxb.java.net/guide/Mapping_your_favorite_class.html","title":"Converting an CSV file to a JSON object in Java","body":"<p>You can use Open CSV to map CSV to a Java Bean, and then use JAXB to convert the Java Bean into a JSON object.</p>\n\n<p><a href=\"http://opencsv.sourceforge.net/#javabean-integration\" rel=\"noreferrer\">http://opencsv.sourceforge.net/#javabean-integration</a></p>\n\n<p><a href=\"http://jaxb.java.net/guide/Mapping_your_favorite_class.html\" rel=\"noreferrer\">http://jaxb.java.net/guide/Mapping_your_favorite_class.html</a></p>\n"},{"tags":[],"owner":{"account_id":358449,"reputation":42107,"user_id":699224,"accept_rate":67,"display_name":"DNA"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1418213926,"creation_date":1330637231,"answer_id":9524370,"question_id":9524191,"body_markdown":"If your CSV is simple, then this is easy to write by hand - but CSV can include nasty edge cases with quoting, missing values, etc.\r\n\r\n- load the file using `BufferedReader.readLine()`\r\n- use `String.split(&quot;,&quot;)` to get the value from each line - *NB this approach will only work correctly if your values don&#39;t have commas in!*\r\n- write each value to the output using `BufferedWriter`\r\n - with the necessary JSON braces and quoting \r\n\r\nYou might want to use a CSV library, then convert to JSON &#39;by hand&#39;\r\n","title":"Converting an CSV file to a JSON object in Java","body":"<p>If your CSV is simple, then this is easy to write by hand - but CSV can include nasty edge cases with quoting, missing values, etc.</p>\n\n<ul>\n<li>load the file using <code>BufferedReader.readLine()</code></li>\n<li>use <code>String.split(\",\")</code> to get the value from each line - <em>NB this approach will only work correctly if your values don't have commas in!</em></li>\n<li>write each value to the output using <code>BufferedWriter</code>\n<ul>\n<li>with the necessary JSON braces and quoting </li>\n</ul></li>\n</ul>\n\n<p>You might want to use a CSV library, then convert to JSON 'by hand'</p>\n"},{"tags":[],"owner":{"account_id":58713,"reputation":1207,"user_id":175759,"accept_rate":40,"display_name":"gaoagong"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1376510969,"creation_date":1376510969,"answer_id":18241313,"question_id":9524191,"body_markdown":"@Mouscellaneous basically answered this for you so please give him the credit.\r\n\r\nHere is what I came up with:\r\n\r\n    package edu.apollogrp.csvtojson;\r\n    \r\n    import au.com.bytecode.opencsv.bean.CsvToBean;\r\n    import au.com.bytecode.opencsv.bean.HeaderColumnNameMappingStrategy;\r\n    import org.codehaus.jackson.map.ObjectMapper;\r\n    \r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.util.List;\r\n    \r\n    public class ConvertCsvToJson {\r\n        public static void main(String[] args) throws IOException, ClassNotFoundException {\r\n            if (args.length &gt; 1) {\r\n                String pathToCsvFile = args[0];\r\n                String javaBeanClassName = &quot;edu.apollogrp.csvtojson.bean.&quot; + args[1];\r\n                final File file = new File(pathToCsvFile);\r\n                if (!file.exists()) {\r\n                    System.out.println(&quot;The file you specified does not exist. path=&quot; + pathToCsvFile);\r\n                }\r\n                Class&lt;?&gt; type = null;\r\n                try {\r\n                    type = Class.forName(javaBeanClassName);\r\n                } catch (ClassNotFoundException e) {\r\n                    System.out.println(&quot;The java bean you specified does not exist. className=&quot; + javaBeanClassName);\r\n                }\r\n    \r\n                HeaderColumnNameMappingStrategy strat = new HeaderColumnNameMappingStrategy();\r\n                strat.setType(type);\r\n    \r\n                CsvToBean csv = new CsvToBean();\r\n                List list = csv.parse(strat, new InputStreamReader(new FileInputStream(file)));\r\n                System.out.println(new ObjectMapper().writeValueAsString(list));\r\n            } else {\r\n                System.out.println(&quot;Please specify the path to the csv file.&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nI used maven to include the dependencies, but you could also download them manually and include them in your classpath.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;net.sf.opencsv&lt;/groupId&gt;\r\n        &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\r\n        &lt;version&gt;1.9.12&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-core-asl&lt;/artifactId&gt;\r\n        &lt;version&gt;1.9.12&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Converting an CSV file to a JSON object in Java","body":"<p>@Mouscellaneous basically answered this for you so please give him the credit.</p>\n\n<p>Here is what I came up with:</p>\n\n<pre><code>package edu.apollogrp.csvtojson;\n\nimport au.com.bytecode.opencsv.bean.CsvToBean;\nimport au.com.bytecode.opencsv.bean.HeaderColumnNameMappingStrategy;\nimport org.codehaus.jackson.map.ObjectMapper;\n\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.util.List;\n\npublic class ConvertCsvToJson {\n    public static void main(String[] args) throws IOException, ClassNotFoundException {\n        if (args.length &gt; 1) {\n            String pathToCsvFile = args[0];\n            String javaBeanClassName = \"edu.apollogrp.csvtojson.bean.\" + args[1];\n            final File file = new File(pathToCsvFile);\n            if (!file.exists()) {\n                System.out.println(\"The file you specified does not exist. path=\" + pathToCsvFile);\n            }\n            Class&lt;?&gt; type = null;\n            try {\n                type = Class.forName(javaBeanClassName);\n            } catch (ClassNotFoundException e) {\n                System.out.println(\"The java bean you specified does not exist. className=\" + javaBeanClassName);\n            }\n\n            HeaderColumnNameMappingStrategy strat = new HeaderColumnNameMappingStrategy();\n            strat.setType(type);\n\n            CsvToBean csv = new CsvToBean();\n            List list = csv.parse(strat, new InputStreamReader(new FileInputStream(file)));\n            System.out.println(new ObjectMapper().writeValueAsString(list));\n        } else {\n            System.out.println(\"Please specify the path to the csv file.\");\n        }\n    }\n}\n</code></pre>\n\n<p>I used maven to include the dependencies, but you could also download them manually and include them in your classpath.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;net.sf.opencsv&lt;/groupId&gt;\n    &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\n    &lt;version&gt;2.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\n    &lt;version&gt;1.9.12&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-core-asl&lt;/artifactId&gt;\n    &lt;version&gt;1.9.12&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2295854,"reputation":792,"user_id":2017307,"accept_rate":100,"display_name":"Vishal Mokal"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1396959630,"creation_date":1394926822,"answer_id":22431147,"question_id":9524191,"body_markdown":"&gt; I have used excel file in this code.you can use csv.\r\ni have wrote this class for particular Excel/csv format which is known to me.\r\n\r\n    import java.io.File;\r\n    \r\n    public class ReadExcel {\r\n    \r\n    \tprivate String inputFile;\r\n    \r\n    \tpublic void setInputFile(String inputFile) {\r\n    \t\tthis.inputFile = inputFile;\r\n    \t}\r\n    \r\n    \tpublic void read() throws IOException {\r\n    \t\tFile inputWorkbook = new File(inputFile);\r\n    \t\tWorkbook w;\r\n    \t\ttry {\r\n    \t\t\tw = Workbook.getWorkbook(inputWorkbook);\r\n    \t\t\t// Get the first sheet\r\n    \t\t\tSheet sheet = w.getSheet(0);\r\n    \t\t\t// Loop over first 10 column and lines\r\n    \t\t\tint columns = sheet.getColumns();\r\n    \t\t\tint rows = sheet.getRows();\r\n    \t\t\tContactList clist = new ContactList();\r\n    \t\t\tArrayList&lt;Contact&gt; contacts = new ArrayList&lt;Contact&gt;();\r\n    \t\t\tfor (int j = 1; j &lt; rows; j++) {\r\n    \t\t\t\tContact contact = new Contact();\r\n    \t\t\t\tfor (int i = 0; i &lt; columns; i++) {\r\n    \t\t\t\t\tCell cell = sheet.getCell(i, j);\r\n    \r\n    \t\t\t\t\tswitch (i) {\r\n    \t\t\t\t\tcase 0:\r\n    \t\t\t\t\t\tif (!cell.getContents().equalsIgnoreCase(&quot;&quot;)) {\r\n    \t\t\t\t\t\t\tcontact.setSrNo(Integer.parseInt(cell.getContents()));\r\n    \t\t\t\t\t\t} else {\r\n    \t\t\t\t\t\t\tcontact.setSrNo(j);\r\n    \t\t\t\t\t\t}\r\n    \r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\tcase 1:\r\n    \t\t\t\t\t\tcontact.setName(cell.getContents());\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\tcase 2:\r\n    \t\t\t\t\t\tcontact.setAddress(cell.getContents());\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\tcase 3:\r\n    \t\t\t\t\t\tcontact.setCity(cell.getContents());\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\tcase 4:\r\n    \t\t\t\t\t\tcontact.setContactNo(cell.getContents());\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\tcase 5:\r\n    \t\t\t\t\t\tcontact.setCategory(cell.getContents());\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t}\r\n    \t\t\t\tcontacts.add(contact);\r\n    \r\n    \t\t\t}\r\n    \t\t\tSystem.out.println(&quot;done&quot;);\r\n    \t\t\tclist.setContactList(contacts);\r\n    \t\t\tJSONObject jsonlist = new JSONObject(clist);\r\n    \t\t\tFile f = new File(&quot;/home/vishal/Downloads/database.txt&quot;);\r\n    \t\t\tFileOutputStream fos = new FileOutputStream(f, true);\r\n    \t\t\tPrintStream ps = new PrintStream(fos);\r\n    \r\n    \t\t\tps.append(jsonlist.toString());\r\n    \r\n    \t\t} catch (BiffException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t\tSystem.out.println(&quot;error&quot;);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \t\tReadExcel test = new ReadExcel();\r\n    \t\ttest.setInputFile(&quot;/home/vishal/Downloads/database.xls&quot;);\r\n    \t\ttest.read();\r\n    \t}\r\n    }\r\n\r\ni have used jxl.jar for excel reading \r\n\r\n\r\n \r\n","title":"Converting an CSV file to a JSON object in Java","body":"<blockquote>\n  <p>I have used excel file in this code.you can use csv.\n  i have wrote this class for particular Excel/csv format which is known to me.</p>\n</blockquote>\n\n<pre><code>import java.io.File;\n\npublic class ReadExcel {\n\n    private String inputFile;\n\n    public void setInputFile(String inputFile) {\n        this.inputFile = inputFile;\n    }\n\n    public void read() throws IOException {\n        File inputWorkbook = new File(inputFile);\n        Workbook w;\n        try {\n            w = Workbook.getWorkbook(inputWorkbook);\n            // Get the first sheet\n            Sheet sheet = w.getSheet(0);\n            // Loop over first 10 column and lines\n            int columns = sheet.getColumns();\n            int rows = sheet.getRows();\n            ContactList clist = new ContactList();\n            ArrayList&lt;Contact&gt; contacts = new ArrayList&lt;Contact&gt;();\n            for (int j = 1; j &lt; rows; j++) {\n                Contact contact = new Contact();\n                for (int i = 0; i &lt; columns; i++) {\n                    Cell cell = sheet.getCell(i, j);\n\n                    switch (i) {\n                    case 0:\n                        if (!cell.getContents().equalsIgnoreCase(\"\")) {\n                            contact.setSrNo(Integer.parseInt(cell.getContents()));\n                        } else {\n                            contact.setSrNo(j);\n                        }\n\n                        break;\n                    case 1:\n                        contact.setName(cell.getContents());\n                        break;\n                    case 2:\n                        contact.setAddress(cell.getContents());\n                        break;\n                    case 3:\n                        contact.setCity(cell.getContents());\n                        break;\n                    case 4:\n                        contact.setContactNo(cell.getContents());\n                        break;\n                    case 5:\n                        contact.setCategory(cell.getContents());\n                        break;\n                    }\n\n                }\n                contacts.add(contact);\n\n            }\n            System.out.println(\"done\");\n            clist.setContactList(contacts);\n            JSONObject jsonlist = new JSONObject(clist);\n            File f = new File(\"/home/vishal/Downloads/database.txt\");\n            FileOutputStream fos = new FileOutputStream(f, true);\n            PrintStream ps = new PrintStream(fos);\n\n            ps.append(jsonlist.toString());\n\n        } catch (BiffException e) {\n            e.printStackTrace();\n            System.out.println(\"error\");\n        }\n    }\n\n    public static void main(String[] args) throws IOException {\n        ReadExcel test = new ReadExcel();\n        test.setInputFile(\"/home/vishal/Downloads/database.xls\");\n        test.read();\n    }\n}\n</code></pre>\n\n<p>i have used jxl.jar for excel reading </p>\n"},{"tags":[],"owner":{"account_id":2906809,"reputation":496,"user_id":2491898,"accept_rate":60,"display_name":"Marco Rosas"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1426552855,"creation_date":1426547035,"answer_id":29088517,"question_id":9524191,"body_markdown":"Here is my Java program and hope somebody finds it useful. \r\n\r\nFormat needs to be like this:\r\n\r\n&quot;SYMBOL,DATE,CLOSE_PRICE,OPEN_PRICE,HIGH_PRICE,LOW_PRICE,VOLUME,ADJ_CLOSE\r\n\r\nAAIT,2015-02-26 00:00:00.000,-35.152,0,35.152,35.12,679,0\r\n\r\nAAL,2015-02-26 00:00:00.000,49.35,50.38,50.38,49.02,7572135,0&quot;\r\n\r\nFirst line is the column headers. No quotation marks anywhere. Separate with commas and not semicolons. You get the deal.\r\n\r\n    /* Summary: Converts a CSV file to a JSON file.*/\r\n    \r\n    //import java.util.*;\r\n    import java.io.*;\r\n    \r\n    import javax.swing.*;\r\n    import javax.swing.filechooser.FileNameExtensionFilter;\r\n    \r\n    public class CSVtoJSON extends JFrame{\r\n        private static final long serialVersionUID = 1L;\r\n        private static File CSVFile;\r\n        private static BufferedReader read;\r\n        private static BufferedWriter write;\r\n    \r\n        public CSVtoJSON(){\r\n            FileNameExtensionFilter filter = new FileNameExtensionFilter(&quot;comma separated values&quot;, &quot;csv&quot;);\r\n            JFileChooser choice = new JFileChooser();\r\n            choice.setFileFilter(filter); //limit the files displayed\r\n    \r\n            int option = choice.showOpenDialog(this);\r\n            if (option == JFileChooser.APPROVE_OPTION) {\r\n                CSVFile = choice.getSelectedFile();\r\n            }\r\n            else{\r\n                JOptionPane.showMessageDialog(this, &quot;Did not select file. Program will exit.&quot;, &quot;System Dialog&quot;, JOptionPane.PLAIN_MESSAGE);         \r\n                System.exit(1);\r\n            }\r\n        }\r\n    \r\n        public static void main(String args[]){\r\n            CSVtoJSON parse = new CSVtoJSON();\r\n            parse.convert();\r\n    \r\n            System.exit(0);\r\n        }\r\n    \r\n        private void convert(){\r\n            /*Converts a .csv file to .json. Assumes first line is header with columns*/\r\n            try {\r\n                read = new BufferedReader(new FileReader(CSVFile));\r\n    \r\n                String outputName = CSVFile.toString().substring(0, \r\n                        CSVFile.toString().lastIndexOf(&quot;.&quot;)) + &quot;.json&quot;; \r\n                write = new BufferedWriter(new FileWriter(new File(outputName)));\r\n    \r\n                String line;\r\n                String columns[]; //contains column names\r\n                int num_cols;\r\n                String tokens[];\r\n    \r\n                int progress = 0; //check progress\r\n    \r\n                //initialize columns\r\n                line = read.readLine(); \r\n                columns = line.split(&quot;,&quot;);\r\n                num_cols = columns.length;\r\n    \r\n    \r\n                write.write(&quot;[&quot;); //begin file as array\r\n                line = read.readLine();\r\n    \r\n    \r\n                while(true) {\r\n                    tokens = line.split(&quot;,&quot;);\r\n    \r\n                    if (tokens.length == num_cols){ //if number columns equal to number entries\r\n                        write.write(&quot;{&quot;);\r\n    \r\n                        for (int k = 0; k &lt; num_cols; ++k){ //for each column \r\n                            if (tokens[k].matches(&quot;^-?[0-9]*\\\\.?[0-9]*$&quot;)){ //if a number\r\n                                write.write(&quot;\\&quot;&quot; + columns[k] + &quot;\\&quot;: &quot; + tokens[k]);\r\n                                if (k &lt; num_cols - 1) write.write(&quot;, &quot;);                                                }\r\n                            else { //if a string\r\n                                write.write(&quot;\\&quot;&quot; + columns[k] + &quot;\\&quot;: \\&quot;&quot; + tokens[k] + &quot;\\&quot;&quot;);\r\n                                if (k &lt; num_cols - 1) write.write(&quot;, &quot;);\r\n                            }\r\n                        }\r\n    \r\n                        ++progress; //progress update\r\n                        if (progress % 10000 == 0) System.out.println(progress); //print progress           \r\n                        \r\n                        \r\n                        if((line = read.readLine()) != null){//if not last line\r\n                            write.write(&quot;},&quot;);\r\n                            write.newLine();\r\n                        }\r\n                        else{\r\n                            write.write(&quot;}]&quot;);//if last line\r\n                            write.newLine();\r\n                            break;\r\n                        }\r\n                    }\r\n                    else{\r\n                    \t//line = read.readLine(); //read next line if wish to continue parsing despite error \r\n                        JOptionPane.showMessageDialog(this, &quot;ERROR: Formatting error line &quot; + (progress + 2)\r\n                         + &quot;. Failed to parse.&quot;, \r\n                                &quot;System Dialog&quot;, JOptionPane.PLAIN_MESSAGE);                    \r\n                        System.exit(-1); //error message\r\n                    }\r\n                }\r\n    \r\n                JOptionPane.showMessageDialog(this, &quot;File converted successfully to &quot;     + outputName, \r\n                        &quot;System Dialog&quot;, JOptionPane.PLAIN_MESSAGE);\r\n    \r\n                write.close();\r\n                read.close();\r\n            }\r\n            catch (IOException e) {\r\n                // TODO Auto-generated catch block\r\n                e.printStackTrace();\r\n            }       \r\n        }\r\n        }\r\n\r\nRequires Swing but comes with a nifty little GUI so those who know absolutely no Java can use it once packaged into an executable .jar. Feel free to improve upon it. Thank you StackOverflow for helping me out all these years.\r\n\r\n","title":"Converting an CSV file to a JSON object in Java","body":"<p>Here is my Java program and hope somebody finds it useful. </p>\n\n<p>Format needs to be like this:</p>\n\n<p>\"SYMBOL,DATE,CLOSE_PRICE,OPEN_PRICE,HIGH_PRICE,LOW_PRICE,VOLUME,ADJ_CLOSE</p>\n\n<p>AAIT,2015-02-26 00:00:00.000,-35.152,0,35.152,35.12,679,0</p>\n\n<p>AAL,2015-02-26 00:00:00.000,49.35,50.38,50.38,49.02,7572135,0\"</p>\n\n<p>First line is the column headers. No quotation marks anywhere. Separate with commas and not semicolons. You get the deal.</p>\n\n<pre><code>/* Summary: Converts a CSV file to a JSON file.*/\n\n//import java.util.*;\nimport java.io.*;\n\nimport javax.swing.*;\nimport javax.swing.filechooser.FileNameExtensionFilter;\n\npublic class CSVtoJSON extends JFrame{\n    private static final long serialVersionUID = 1L;\n    private static File CSVFile;\n    private static BufferedReader read;\n    private static BufferedWriter write;\n\n    public CSVtoJSON(){\n        FileNameExtensionFilter filter = new FileNameExtensionFilter(\"comma separated values\", \"csv\");\n        JFileChooser choice = new JFileChooser();\n        choice.setFileFilter(filter); //limit the files displayed\n\n        int option = choice.showOpenDialog(this);\n        if (option == JFileChooser.APPROVE_OPTION) {\n            CSVFile = choice.getSelectedFile();\n        }\n        else{\n            JOptionPane.showMessageDialog(this, \"Did not select file. Program will exit.\", \"System Dialog\", JOptionPane.PLAIN_MESSAGE);         \n            System.exit(1);\n        }\n    }\n\n    public static void main(String args[]){\n        CSVtoJSON parse = new CSVtoJSON();\n        parse.convert();\n\n        System.exit(0);\n    }\n\n    private void convert(){\n        /*Converts a .csv file to .json. Assumes first line is header with columns*/\n        try {\n            read = new BufferedReader(new FileReader(CSVFile));\n\n            String outputName = CSVFile.toString().substring(0, \n                    CSVFile.toString().lastIndexOf(\".\")) + \".json\"; \n            write = new BufferedWriter(new FileWriter(new File(outputName)));\n\n            String line;\n            String columns[]; //contains column names\n            int num_cols;\n            String tokens[];\n\n            int progress = 0; //check progress\n\n            //initialize columns\n            line = read.readLine(); \n            columns = line.split(\",\");\n            num_cols = columns.length;\n\n\n            write.write(\"[\"); //begin file as array\n            line = read.readLine();\n\n\n            while(true) {\n                tokens = line.split(\",\");\n\n                if (tokens.length == num_cols){ //if number columns equal to number entries\n                    write.write(\"{\");\n\n                    for (int k = 0; k &lt; num_cols; ++k){ //for each column \n                        if (tokens[k].matches(\"^-?[0-9]*\\\\.?[0-9]*$\")){ //if a number\n                            write.write(\"\\\"\" + columns[k] + \"\\\": \" + tokens[k]);\n                            if (k &lt; num_cols - 1) write.write(\", \");                                                }\n                        else { //if a string\n                            write.write(\"\\\"\" + columns[k] + \"\\\": \\\"\" + tokens[k] + \"\\\"\");\n                            if (k &lt; num_cols - 1) write.write(\", \");\n                        }\n                    }\n\n                    ++progress; //progress update\n                    if (progress % 10000 == 0) System.out.println(progress); //print progress           \n\n\n                    if((line = read.readLine()) != null){//if not last line\n                        write.write(\"},\");\n                        write.newLine();\n                    }\n                    else{\n                        write.write(\"}]\");//if last line\n                        write.newLine();\n                        break;\n                    }\n                }\n                else{\n                    //line = read.readLine(); //read next line if wish to continue parsing despite error \n                    JOptionPane.showMessageDialog(this, \"ERROR: Formatting error line \" + (progress + 2)\n                     + \". Failed to parse.\", \n                            \"System Dialog\", JOptionPane.PLAIN_MESSAGE);                    \n                    System.exit(-1); //error message\n                }\n            }\n\n            JOptionPane.showMessageDialog(this, \"File converted successfully to \"     + outputName, \n                    \"System Dialog\", JOptionPane.PLAIN_MESSAGE);\n\n            write.close();\n            read.close();\n        }\n        catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }       \n    }\n    }\n</code></pre>\n\n<p>Requires Swing but comes with a nifty little GUI so those who know absolutely no Java can use it once packaged into an executable .jar. Feel free to improve upon it. Thank you StackOverflow for helping me out all these years.</p>\n"},{"tags":[],"owner":{"account_id":2435484,"reputation":256,"user_id":2125503,"accept_rate":50,"display_name":"James Owen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1465226097,"creation_date":1465226097,"answer_id":37660977,"question_id":9524191,"body_markdown":"If you&#39;re using Java 8, you can do something like this. No Libraries or complicated logic required. \r\n\r\nFirstly, create a POJO representing your new JSON object. In my example it&#39;s called &#39;YourJSONObject&#39; and has a constructor taking two strings.\r\n\r\nWhat the code does is initially reads the file, then creates a stream of String based lines. ( a line is equivalent to a line in your CSV file).\r\n\r\nWe then pass the line in to the map function which splits it on a comma and then creates the YourJSONObject.\r\n\r\nAll of these objects are then collected to a list which we pass in to the JSONArray constructor. \r\n\r\nYou now have an Array of JSONObjects. You can then call toString() on this object if you want to see the text representation of this.\r\n  \r\n\r\n            JSONArray objects = new JSONArray(Files.readAllLines(Paths.get(&quot;src/main/resources/your_csv_file.csv&quot;))\r\n                .stream()\r\n                .map(s -&gt; new YourJSONObject(s.split(&quot;,&quot;)[0], s.split(&quot;,&quot;)[1]))\r\n                .collect(toList()));","title":"Converting an CSV file to a JSON object in Java","body":"<p>If you're using Java 8, you can do something like this. No Libraries or complicated logic required. </p>\n\n<p>Firstly, create a POJO representing your new JSON object. In my example it's called 'YourJSONObject' and has a constructor taking two strings.</p>\n\n<p>What the code does is initially reads the file, then creates a stream of String based lines. ( a line is equivalent to a line in your CSV file).</p>\n\n<p>We then pass the line in to the map function which splits it on a comma and then creates the YourJSONObject.</p>\n\n<p>All of these objects are then collected to a list which we pass in to the JSONArray constructor. </p>\n\n<p>You now have an Array of JSONObjects. You can then call toString() on this object if you want to see the text representation of this.</p>\n\n<pre><code>        JSONArray objects = new JSONArray(Files.readAllLines(Paths.get(\"src/main/resources/your_csv_file.csv\"))\n            .stream()\n            .map(s -&gt; new YourJSONObject(s.split(\",\")[0], s.split(\",\")[1]))\n            .collect(toList()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3761537,"reputation":129,"user_id":3126356,"display_name":"Xelights"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1465901568,"creation_date":1465901164,"answer_id":37809804,"question_id":9524191,"body_markdown":"Old post but I thought I&#39;d share my own solution. It assumes quotations are used around an in-value comma. It also removes all quotations afterwards.\r\n\r\nThis method accepts a String in CSV format. So it assumes you&#39;ve already read the CSV file to a string. Make sure you didn&#39;t remove the NextLine characters (&#39;\\n&#39;) while reading.\r\n\r\nThis method in no way perfect, but it might be the quick one-method solution in pure java you are looking for. \r\n\r\n    public String CSVtoJSON(String output) {\r\n\r\n        String[] lines = output.split(&quot;\\n&quot;);\r\n\r\n        StringBuilder builder = new StringBuilder();\r\n        builder.append(&#39;[&#39;);\r\n        String[] headers = new String[0];\r\n\r\n        //CSV TO JSON\r\n        for (int i = 0; i &lt; lines.length; i++) {\r\n            String[] values = lines[i].replaceAll(&quot;\\&quot;&quot;, &quot;&quot;).split(&quot;۞&quot;);\r\n\r\n            if (i == 0) //INDEX LIST\r\n            {\r\n                headers = values;\r\n            } else {\r\n                builder.append(&#39;{&#39;);\r\n                for (int j = 0; j &lt; values.length &amp;&amp; j &lt; headers.length; j++) {\r\n\r\n                    String jsonvalue = &quot;\\&quot;&quot; + headers[j] + &quot;\\&quot;:\\&quot;&quot; + values[j] + &quot;\\&quot;&quot;;\r\n                    if (j != values.length - 1) { //if not last value of values...\r\n                        jsonvalue += &#39;,&#39;;\r\n                    }\r\n                    builder.append(jsonvalue);\r\n                }\r\n                builder.append(&#39;}&#39;);\r\n                if (i != lines.length - 1) {\r\n                    builder.append(&#39;,&#39;);\r\n                }\r\n            }\r\n        }\r\n        builder.append(&#39;]&#39;);\r\n        output = builder.toString();\r\n\r\n        return output;\r\n    }","title":"Converting an CSV file to a JSON object in Java","body":"<p>Old post but I thought I'd share my own solution. It assumes quotations are used around an in-value comma. It also removes all quotations afterwards.</p>\n\n<p>This method accepts a String in CSV format. So it assumes you've already read the CSV file to a string. Make sure you didn't remove the NextLine characters ('\\n') while reading.</p>\n\n<p>This method in no way perfect, but it might be the quick one-method solution in pure java you are looking for. </p>\n\n<pre><code>public String CSVtoJSON(String output) {\n\n    String[] lines = output.split(\"\\n\");\n\n    StringBuilder builder = new StringBuilder();\n    builder.append('[');\n    String[] headers = new String[0];\n\n    //CSV TO JSON\n    for (int i = 0; i &lt; lines.length; i++) {\n        String[] values = lines[i].replaceAll(\"\\\"\", \"\").split(\"۞\");\n\n        if (i == 0) //INDEX LIST\n        {\n            headers = values;\n        } else {\n            builder.append('{');\n            for (int j = 0; j &lt; values.length &amp;&amp; j &lt; headers.length; j++) {\n\n                String jsonvalue = \"\\\"\" + headers[j] + \"\\\":\\\"\" + values[j] + \"\\\"\";\n                if (j != values.length - 1) { //if not last value of values...\n                    jsonvalue += ',';\n                }\n                builder.append(jsonvalue);\n            }\n            builder.append('}');\n            if (i != lines.length - 1) {\n                builder.append(',');\n            }\n        }\n    }\n    builder.append(']');\n    output = builder.toString();\n\n    return output;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra Žižka"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635956211,"creation_date":1539000934,"answer_id":52702089,"question_id":9524191,"body_markdown":"With Java 8, writing JSON is at hand.\r\n\r\nYou didn&#39;t specify what JSON API you want, so I assume by &quot;JSON object&quot; you mean a string with a serialized JSON object.\r\n\r\nWhat I did in the [CSV Cruncher](https://github.com/OndraZizka/csv-cruncher) project:\r\n\r\n1. Load the CSV using [HSQLDB](http://hsqldb.org/). That&#39;s a relatively small (~2 MB) library, which actually implements a SQL 2008 database.\r\n2. Query that database using JDBC.\r\n3. Build a JDK JSON object (`javax.json.JsonObject`) and serialize it.\r\n\r\nHere&#39;s how to do it:\r\n\r\n    static void convertResultToJson(ResultSet resultSet, Path destFile, boolean printAsArray) \r\n    {\r\n                OutputStream outS = new BufferedOutputStream(new FileOutputStream(destFile.toFile()));\r\n                Writer outW = new OutputStreamWriter(outS, StandardCharsets.UTF_8);\r\n\r\n                // javax.json way\r\n                JsonObjectBuilder builder = Json.createObjectBuilder();\r\n                // Columns\r\n                for (int colIndex = 1; colIndex &lt;= metaData.getColumnCount(); colIndex++) {\r\n                    addTheRightTypeToJavaxJsonBuilder(resultSet, colIndex, builder);\r\n                }\r\n                JsonObject jsonObject = builder.build();\r\n                JsonWriter writer = Json.createWriter(outW);\r\n                writer.writeObject(jsonObject);\r\n\r\nThe whole implementation is [here](https://github.com/OndraZizka/csv-cruncher/blob/master/src/main/java/cz/dynawest/csvcruncher/FilesUtils.java#L78). (Originally I wrote my own CSV parsing and JSON writing, but figured out both are complicated enough to reach for a tested off-the-shelf library.)","title":"Converting an CSV file to a JSON object in Java","body":"<p>With Java 8, writing JSON is at hand.</p>\n<p>You didn't specify what JSON API you want, so I assume by &quot;JSON object&quot; you mean a string with a serialized JSON object.</p>\n<p>What I did in the <a href=\"https://github.com/OndraZizka/csv-cruncher\" rel=\"nofollow noreferrer\">CSV Cruncher</a> project:</p>\n<ol>\n<li>Load the CSV using <a href=\"http://hsqldb.org/\" rel=\"nofollow noreferrer\">HSQLDB</a>. That's a relatively small (~2 MB) library, which actually implements a SQL 2008 database.</li>\n<li>Query that database using JDBC.</li>\n<li>Build a JDK JSON object (<code>javax.json.JsonObject</code>) and serialize it.</li>\n</ol>\n<p>Here's how to do it:</p>\n<pre><code>static void convertResultToJson(ResultSet resultSet, Path destFile, boolean printAsArray) \n{\n            OutputStream outS = new BufferedOutputStream(new FileOutputStream(destFile.toFile()));\n            Writer outW = new OutputStreamWriter(outS, StandardCharsets.UTF_8);\n\n            // javax.json way\n            JsonObjectBuilder builder = Json.createObjectBuilder();\n            // Columns\n            for (int colIndex = 1; colIndex &lt;= metaData.getColumnCount(); colIndex++) {\n                addTheRightTypeToJavaxJsonBuilder(resultSet, colIndex, builder);\n            }\n            JsonObject jsonObject = builder.build();\n            JsonWriter writer = Json.createWriter(outW);\n            writer.writeObject(jsonObject);\n</code></pre>\n<p>The whole implementation is <a href=\"https://github.com/OndraZizka/csv-cruncher/blob/master/src/main/java/cz/dynawest/csvcruncher/FilesUtils.java#L78\" rel=\"nofollow noreferrer\">here</a>. (Originally I wrote my own CSV parsing and JSON writing, but figured out both are complicated enough to reach for a tested off-the-shelf library.)</p>\n"},{"tags":[],"owner":{"account_id":9250397,"reputation":41,"user_id":6871091,"display_name":"Behrouz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1559685135,"creation_date":1559685135,"answer_id":56451809,"question_id":9524191,"body_markdown":"Here is a class I generated to return JSONArray, not just to print to a file.\r\n\r\n    \r\n\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.dataformat.csv.CsvMapper;\r\n    import com.fasterxml.jackson.dataformat.csv.CsvSchema;\r\n    import org.json.simple.JSONArray;\r\n    import org.json.simple.parser.JSONParser;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n\r\n\r\n    import java.io.File;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n\r\n\r\n    public class CsvToJson {\r\n\r\n    private static final Logger log = LoggerFactory.getLogger(UtilsFormat.class);\r\n    private static CsvToJson instance;\r\n\r\n\r\n    public static JSONArray convert(File input) throws Exception {\r\n\r\n        JSONParser parser = new JSONParser();\r\n        CsvSchema csvSchema = CsvSchema.builder().setUseHeader(true).build();\r\n        CsvMapper csvMapper = new CsvMapper();\r\n\r\n        // Read data from CSV file\r\n        List&lt;? extends Object&gt; readAll = csvMapper.readerFor(Map.class).with(csvSchema).readValues(input).readAll();\r\n\r\n        ObjectMapper mapper = new ObjectMapper();\r\n\r\n        JSONArray jsonObject = (JSONArray) parser.parse(mapper.writerWithDefaultPrettyPrinter().writeValueAsString(readAll));\r\n        System.out.print(jsonObject.toString());\r\n\r\n        return new JSONArray();\r\n    }\r\n    }\r\n","title":"Converting an CSV file to a JSON object in Java","body":"<p>Here is a class I generated to return JSONArray, not just to print to a file.</p>\n\n<pre><code>import com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.dataformat.csv.CsvMapper;\nimport com.fasterxml.jackson.dataformat.csv.CsvSchema;\nimport org.json.simple.JSONArray;\nimport org.json.simple.parser.JSONParser;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\n\nimport java.io.File;\nimport java.util.List;\nimport java.util.Map;\n\n\npublic class CsvToJson {\n\nprivate static final Logger log = LoggerFactory.getLogger(UtilsFormat.class);\nprivate static CsvToJson instance;\n\n\npublic static JSONArray convert(File input) throws Exception {\n\n    JSONParser parser = new JSONParser();\n    CsvSchema csvSchema = CsvSchema.builder().setUseHeader(true).build();\n    CsvMapper csvMapper = new CsvMapper();\n\n    // Read data from CSV file\n    List&lt;? extends Object&gt; readAll = csvMapper.readerFor(Map.class).with(csvSchema).readValues(input).readAll();\n\n    ObjectMapper mapper = new ObjectMapper();\n\n    JSONArray jsonObject = (JSONArray) parser.parse(mapper.writerWithDefaultPrettyPrinter().writeValueAsString(readAll));\n    System.out.print(jsonObject.toString());\n\n    return new JSONArray();\n}\n}\n</code></pre>\n"}],"owner":{"account_id":1237153,"reputation":1377,"user_id":1200514,"display_name":"g2jose"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70446,"favorite_count":0,"down_vote_count":2,"up_vote_count":7,"answer_count":9,"score":5,"last_activity_date":1637144428,"creation_date":1330636337,"question_id":9524191,"body_markdown":"Is there an open source java library to convert a CSV (or XLS) file to a JSON object?\r\n\r\nI tried using [json.cdl](http://bethecoder.com/applications/tutorials/json/json-java/csv-to-jsonarray.html), but somehow it does not seem to work for large CSV strings.\r\n\r\nI&#39;m trying to find something like &lt;http://www.cparker15.com/code/utilities/csv-to-json/&gt;, but written in Java.","title":"Converting an CSV file to a JSON object in Java","body":"<p>Is there an open source java library to convert a CSV (or XLS) file to a JSON object?</p>\n\n<p>I tried using <a href=\"http://bethecoder.com/applications/tutorials/json/json-java/csv-to-jsonarray.html\" rel=\"nofollow noreferrer\">json.cdl</a>, but somehow it does not seem to work for large CSV strings.</p>\n\n<p>I'm trying to find something like <a href=\"http://www.cparker15.com/code/utilities/csv-to-json/\" rel=\"nofollow noreferrer\">http://www.cparker15.com/code/utilities/csv-to-json/</a>, but written in Java.</p>\n"},{"tags":["java","input","java.util.scanner"],"comments":[{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":1,"creation_date":1637143366,"post_id":70002299,"comment_id":123744635,"body_markdown":"I&#39;m not aware of an issue why your code should behave differently in your IDE and your terminal. Can you provide the code in question in the form of an [mre].","body":"I&#39;m not aware of an issue why your code should behave differently in your IDE and your terminal. Can you provide the code in question in the form of an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":9767945,"reputation":1563,"user_id":7240806,"display_name":"Stephan Hogenboom"},"score":0,"creation_date":1637143736,"post_id":70002299,"comment_id":123744786,"body_markdown":"I concur can you post the relevant code that behaves flaky?","body":"I concur can you post the relevant code that behaves flaky?"},{"owner":{"account_id":16530625,"reputation":116,"user_id":11943976,"display_name":"KASMI G."},"score":0,"creation_date":1637144647,"post_id":70002299,"comment_id":123745129,"body_markdown":"have you tried to close the scanner after use ? it may cause similar issues","body":"have you tried to close the scanner after use ? it may cause similar issues"},{"owner":{"account_id":18621958,"reputation":27,"user_id":14528017,"display_name":"McXD"},"score":0,"creation_date":1637145177,"post_id":70002299,"comment_id":123745328,"body_markdown":"@KASMIG. Nope, I just tried :(","body":"@KASMIG. Nope, I just tried :("},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":0,"creation_date":1637145234,"post_id":70002299,"comment_id":123745347,"body_markdown":"@KASMIG. No, a `Scanner` wrapping `System.in` should not be closed, as this would close the underlying stream aswell.","body":"@KASMIG. No, a <code>Scanner</code> wrapping <code>System.in</code> should not be closed, as this would close the underlying stream aswell."},{"owner":{"account_id":18621958,"reputation":27,"user_id":14528017,"display_name":"McXD"},"score":0,"creation_date":1637145326,"post_id":70002299,"comment_id":123745388,"body_markdown":"@maloomeister Yep, this is the answer. Thank you so much!","body":"@maloomeister Yep, this is the answer. Thank you so much!"}],"owner":{"account_id":18621958,"reputation":27,"user_id":14528017,"display_name":"McXD"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1637145344,"answer_count":0,"score":0,"last_activity_date":1637144287,"creation_date":1637143206,"question_id":70002299,"body_markdown":"I have an instance of `Scanner` application-wide defined as `Scanner scanner = new Scanner(System.in)`. When I call `scanner.nextLine()`, will it block if no line is found and wait for user input?\r\n\r\nStrangely, if I run my code via IntelliJ, it will work properly and wait for user to input a line. However, when run in terminal, it will just throw `java.util.NoSuchElementException: No line found` on first call of `scanner.nextLine()`. What happened and how I can tune it?\r\n\r\n## A minimum sample\r\n\r\n```java\r\npublic class ScannerExample {\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n\r\n        System.out.print(&quot;Input: &quot;);\r\n        String input = scanner.nextLine();\r\n        System.out.println(&quot;Output: &quot; + input);\r\n    }\r\n}\r\n```\r\n\r\n[Run via IntelliJ][1]\r\n\r\n[Run via Terminal][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3zW63.gif\r\n  [2]: https://i.stack.imgur.com/IPg2a.gif","title":"Java use of Scanner with System.in","body":"<p>I have an instance of <code>Scanner</code> application-wide defined as <code>Scanner scanner = new Scanner(System.in)</code>. When I call <code>scanner.nextLine()</code>, will it block if no line is found and wait for user input?</p>\n<p>Strangely, if I run my code via IntelliJ, it will work properly and wait for user to input a line. However, when run in terminal, it will just throw <code>java.util.NoSuchElementException: No line found</code> on first call of <code>scanner.nextLine()</code>. What happened and how I can tune it?</p>\n<h2>A minimum sample</h2>\n<pre class=\"lang-java prettyprint-override\"><code>public class ScannerExample {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n\n        System.out.print(&quot;Input: &quot;);\n        String input = scanner.nextLine();\n        System.out.println(&quot;Output: &quot; + input);\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/3zW63.gif\" rel=\"nofollow noreferrer\">Run via IntelliJ</a></p>\n<p><a href=\"https://i.stack.imgur.com/IPg2a.gif\" rel=\"nofollow noreferrer\">Run via Terminal</a></p>\n"},{"tags":["java","spring-mvc","constructor","web-frontend","front-controller"],"comments":[{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1585886619,"post_id":61004850,"comment_id":107927715,"body_markdown":"Is there a specific reason why you cannot add a default (no-arguments) constructor?","body":"Is there a specific reason why you cannot add a default (no-arguments) constructor?"},{"owner":{"account_id":15920232,"reputation":61,"user_id":11771903,"display_name":"Zorg"},"score":0,"creation_date":1585887624,"post_id":61004850,"comment_id":107927896,"body_markdown":"Yes, it helped, thanks!","body":"Yes, it helped, thanks!"}],"answers":[{"tags":[],"owner":{"account_id":7524109,"reputation":1090,"user_id":5715001,"display_name":"V&#225;clav Kužel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637143924,"creation_date":1637143924,"answer_id":70002466,"question_id":61004850,"body_markdown":"Use the `@Autowired` annotation on the primary constructor.","title":"How to mark primary/default constructor in domain layer","body":"<p>Use the <code>@Autowired</code> annotation on the primary constructor.</p>\n"}],"owner":{"account_id":15920232,"reputation":61,"user_id":11771903,"display_name":"Zorg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":365,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637143924,"creation_date":1585886025,"question_id":61004850,"body_markdown":"I&#39;m writing spring-mvc app, doing frontend part now and find such problem: \r\nwhen user try to add something into form, for example, name of new auditory, after that should be called constructor and created new object then added to DB but exception appears:\r\n\r\nMessage Request processing failed; nested exception is java.lang.IllegalStateException: No primary or default constructor found for class university.domain.Auditory\r\n\r\nBecause I have 2 constructors for objects in domain layer, how can I mark which constructor should be used? It is not a bean so I can not use something like @Primary annotation.","title":"How to mark primary/default constructor in domain layer","body":"<p>I'm writing spring-mvc app, doing frontend part now and find such problem: \nwhen user try to add something into form, for example, name of new auditory, after that should be called constructor and created new object then added to DB but exception appears:</p>\n\n<p>Message Request processing failed; nested exception is java.lang.IllegalStateException: No primary or default constructor found for class university.domain.Auditory</p>\n\n<p>Because I have 2 constructors for objects in domain layer, how can I mark which constructor should be used? It is not a bean so I can not use something like @Primary annotation.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1637141996,"post_id":70001915,"comment_id":123744066,"body_markdown":"Can you elaborate more about your problem with that code? It&#39;s unclear for me at least what&#39;s the issue here.","body":"Can you elaborate more about your problem with that code? It&#39;s unclear for me at least what&#39;s the issue here."},{"owner":{"account_id":21113884,"reputation":23,"user_id":15521338,"display_name":"kitsune"},"score":0,"creation_date":1637142105,"post_id":70001915,"comment_id":123744115,"body_markdown":"when i run it and enter a member after that when i go to delete it by using this function it gives me and error telling me that the index is -1","body":"when i run it and enter a member after that when i go to delete it by using this function it gives me and error telling me that the index is -1"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":1,"creation_date":1637142270,"post_id":70001915,"comment_id":123744185,"body_markdown":"You&#39;re trying to copy every element from your `member` array to your shorter `copyId` array, except the ones with the given id. If none of them have the given id, then there is not enough space in your target array.","body":"You&#39;re trying to copy every element from your <code>member</code> array to your shorter <code>copyId</code> array, except the ones with the given id. If none of them have the given id, then there is not enough space in your target array."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1637142468,"post_id":70001915,"comment_id":123744279,"body_markdown":"You don&#39;t want to use an ArrayList, how about a Stream? Is that allowed?","body":"You don&#39;t want to use an ArrayList, how about a Stream? Is that allowed?"},{"owner":{"account_id":11330140,"reputation":177,"user_id":8307920,"display_name":"Grzegorz"},"score":0,"creation_date":1637143179,"post_id":70001915,"comment_id":123744555,"body_markdown":"Hi, why you don&#39;t use: org.apache.commons.lang3.ArrayUtils? It have functions like contains, add, indexOf and remove.","body":"Hi, why you don&#39;t use: org.apache.commons.lang3.ArrayUtils? It have functions like contains, add, indexOf and remove."}],"answers":[{"tags":[],"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637142894,"creation_date":1637142894,"answer_id":70002193,"question_id":70001915,"body_markdown":"That should work\r\n\r\n\r\n        public Members[] deleteMembers(String id) {\r\n            if (id == null)\r\n                return member;\r\n    \r\n            if (!doArrayContainsId(id)) {\r\n                return member;\r\n            }\r\n            Members[] copyId = new Members[member.length - 1];\r\n    \r\n            for (int i = 0, k = 0; i &lt; member.length; i++) {\r\n                if (member[i].getId().equals(id)) {\r\n                    continue;\r\n                }\r\n    \r\n                copyId[k++] = member[i];\r\n            }\r\n    \r\n            return copyId;\r\n        }\r\n    \r\n        public boolean doArrayContainsId(String id) {\r\n            if (id == null) {\r\n                return false;\r\n            }\r\n    \r\n            boolean doArrayContainsId = false;\r\n    \r\n            for (Members members : member) {\r\n                if (members.getId().equals(id)) {\r\n                    doArrayContainsId = true;\r\n                    break;\r\n                }\r\n            }\r\n            return doArrayContainsId;\r\n        }\r\n\r\n\r\nBtw you should try to name your classes a bit better like Member instead of Members since one object is one member and array or list of them should be called members","title":"remove an object from an array without using arraylist","body":"<p>That should work</p>\n<pre><code>    public Members[] deleteMembers(String id) {\n        if (id == null)\n            return member;\n\n        if (!doArrayContainsId(id)) {\n            return member;\n        }\n        Members[] copyId = new Members[member.length - 1];\n\n        for (int i = 0, k = 0; i &lt; member.length; i++) {\n            if (member[i].getId().equals(id)) {\n                continue;\n            }\n\n            copyId[k++] = member[i];\n        }\n\n        return copyId;\n    }\n\n    public boolean doArrayContainsId(String id) {\n        if (id == null) {\n            return false;\n        }\n\n        boolean doArrayContainsId = false;\n\n        for (Members members : member) {\n            if (members.getId().equals(id)) {\n                doArrayContainsId = true;\n                break;\n            }\n        }\n        return doArrayContainsId;\n    }\n</code></pre>\n<p>Btw you should try to name your classes a bit better like Member instead of Members since one object is one member and array or list of them should be called members</p>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637143819,"creation_date":1637143171,"answer_id":70002284,"question_id":70001915,"body_markdown":"You have only one problem. Do not forget, that array could not have an item with a given `id`.\r\n\r\n```java\r\npublic static Member[] deleteMember(String id, Member[] members) {\r\n    if (id == null || members == null)\r\n        return members;\r\n\r\n    int pos = findMemberPos(id, members);\r\n\r\n    if (pos == -1)\r\n        return members;\r\n\r\n    Member[] arr = new Member[members.length - 1];\r\n\r\n    for (int i = 0, j = 0; i &lt; members.length; i++)\r\n        if (i != pos)\r\n            arr[i] = members[j++];\r\n\r\n    return arr;\r\n}\r\n\r\nprivate static int findMemberPos(String id, Member[] members) {\r\n    for (int i = 0; i &lt; members.length; i++)\r\n        if (id.equalsIgnoreCase(members[i].getId()))\r\n            return i;\r\n    return -1;\r\n}\r\n```","title":"remove an object from an array without using arraylist","body":"<p>You have only one problem. Do not forget, that array could not have an item with a given <code>id</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Member[] deleteMember(String id, Member[] members) {\n    if (id == null || members == null)\n        return members;\n\n    int pos = findMemberPos(id, members);\n\n    if (pos == -1)\n        return members;\n\n    Member[] arr = new Member[members.length - 1];\n\n    for (int i = 0, j = 0; i &lt; members.length; i++)\n        if (i != pos)\n            arr[i] = members[j++];\n\n    return arr;\n}\n\nprivate static int findMemberPos(String id, Member[] members) {\n    for (int i = 0; i &lt; members.length; i++)\n        if (id.equalsIgnoreCase(members[i].getId()))\n            return i;\n    return -1;\n}\n</code></pre>\n"}],"owner":{"account_id":21113884,"reputation":23,"user_id":15521338,"display_name":"kitsune"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":70002284,"answer_count":2,"score":-1,"last_activity_date":1637143819,"creation_date":1637141672,"question_id":70001915,"body_markdown":"I know this question has been asked but I couldn&#39;t use the solutions of it to do what I want to do\r\nMy problem is every time I call from the function and enter an Id it always tells me that the id was removed even if I entered an id that was never entered it still prints the same\r\nany tip and help would be appreciated :)\r\nNote: I don&#39;t want to use ArrayList in it\r\nhere is my code :\r\n\t\r\n\r\n    public Members[] deleteMembers(String id) {\r\n    \t\tif (id == null)\r\n    \t\t\treturn member;\r\n    \t\tMembers[] copyId = new Members[member.length - 1];\r\n    \r\n    \t\tfor (int i = 0, k = 0; i &lt; member.length; i++) {\r\n    \t\t\tif (member[i].getId().equals(id)) {\r\n    \r\n    \t\t\t\tcontinue;\r\n    \t\t\t}\r\n    \t\t\r\n    \t\t\tcopyId[k++] = member[i];\r\n    \t\t}\r\n    \r\n    \t\treturn copyId;\r\n    \t}","title":"remove an object from an array without using arraylist","body":"<p>I know this question has been asked but I couldn't use the solutions of it to do what I want to do\nMy problem is every time I call from the function and enter an Id it always tells me that the id was removed even if I entered an id that was never entered it still prints the same\nany tip and help would be appreciated :)\nNote: I don't want to use ArrayList in it\nhere is my code :</p>\n<pre><code>public Members[] deleteMembers(String id) {\n        if (id == null)\n            return member;\n        Members[] copyId = new Members[member.length - 1];\n\n        for (int i = 0, k = 0; i &lt; member.length; i++) {\n            if (member[i].getId().equals(id)) {\n\n                continue;\n            }\n        \n            copyId[k++] = member[i];\n        }\n\n        return copyId;\n    }\n</code></pre>\n"},{"tags":["java","azure","sdk","quarkus"],"comments":[{"owner":{"account_id":244724,"reputation":2952,"user_id":517740,"display_name":"burna"},"score":0,"creation_date":1636887962,"post_id":69959080,"comment_id":123672605,"body_markdown":"Can you add your pom.xml? Looks like you are missing some base netty packages?","body":"Can you add your pom.xml? Looks like you are missing some base netty packages?"},{"owner":{"account_id":4500167,"reputation":43,"user_id":3658886,"display_name":"user3658886"},"score":0,"creation_date":1636893392,"post_id":69959080,"comment_id":123673797,"body_markdown":"I dont  think so.. actually I added the dependency\n &lt;dependency&gt;\n      &lt;groupId&gt;io.netty&lt;/groupId&gt;\n      &lt;artifactId&gt;netty-all&lt;/artifactId&gt;\n      &lt;version&gt;5.0.0.Alpha2&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n  &lt;/dependency&gt; to add all missing dependencies","body":"I dont  think so.. actually I added the dependency  &lt;dependency&gt;       &lt;groupId&gt;io.netty&lt;/groupId&gt;       &lt;artifactId&gt;netty-all&lt;/artifactId&gt;       &lt;version&gt;5.0.0.Alpha2&lt;/version&gt;       &lt;scope&gt;provided&lt;/scope&gt;   &lt;/dependency&gt; to add all missing dependencies"},{"owner":{"account_id":244724,"reputation":2952,"user_id":517740,"display_name":"burna"},"score":0,"creation_date":1636905567,"post_id":69959080,"comment_id":123676806,"body_markdown":"why scope provided? that would indicate the runtime provides the lib","body":"why scope provided? that would indicate the runtime provides the lib"}],"answers":[{"tags":[],"owner":{"account_id":21681667,"reputation":4284,"user_id":15997690,"display_name":"Delliganesh Sevanesan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637143617,"creation_date":1637143617,"answer_id":70002386,"question_id":69959080,"body_markdown":"The error messages shows that ssl issue.\r\n\r\nPlease refer the [link](https://camel.apache.org/components/3.12.x/azure-storage-blob-component.html) for usage and configuration details\r\n\r\nThe **Azure Storage Blob Service component**, URI syntax: `azure-storage-blob:accountName/containerName`\r\n\r\n**MAVEN COORDINATES**\r\n\r\n[Create a new project with this extension on code.quarkus.io](https://code.quarkus.io/?extension-search=camel-quarkus-azure-storage-blob)\r\n\r\nOr add the coordinates to your existing project:\r\n\r\n    &lt; dependency&gt;\r\n\t    &lt; groupId&gt;`org.apache.camel.quarkus`&lt; /groupId&gt;\r\n\t    &lt; artifactId&gt;`camel-quarkus-azure-storage-blob`&lt; /artifactId&gt;\r\n    &lt; /dependency&gt;\r\n\r\n\r\nCheck the [User guide](https://camel.apache.org/camel-quarkus/next/user-guide/index.html) for more information about writing Camel Quarkus applications.\r\n\r\n**SSL IN NATIVE MODE**\r\n\r\nThis extension auto-enables SSL support in native mode. Hence you do not need to add `quarkus.ssl.native=true` to your `application.properties`.\r\n\r\nRefer  [here](https://quarkus.io/guides/native-and-ssl)\r\n\r\nIf still you are facing the issue please raise a issue here [here](https://github.com/apache/camel-quarkus/issues)","title":"exception when trying to upload a file","body":"<p>The error messages shows that ssl issue.</p>\n<p>Please refer the <a href=\"https://camel.apache.org/components/3.12.x/azure-storage-blob-component.html\" rel=\"nofollow noreferrer\">link</a> for usage and configuration details</p>\n<p>The <strong>Azure Storage Blob Service component</strong>, URI syntax: <code>azure-storage-blob:accountName/containerName</code></p>\n<p><strong>MAVEN COORDINATES</strong></p>\n<p><a href=\"https://code.quarkus.io/?extension-search=camel-quarkus-azure-storage-blob\" rel=\"nofollow noreferrer\">Create a new project with this extension on code.quarkus.io</a></p>\n<p>Or add the coordinates to your existing project:</p>\n<pre><code>&lt; dependency&gt;\n    &lt; groupId&gt;`org.apache.camel.quarkus`&lt; /groupId&gt;\n    &lt; artifactId&gt;`camel-quarkus-azure-storage-blob`&lt; /artifactId&gt;\n&lt; /dependency&gt;\n</code></pre>\n<p>Check the <a href=\"https://camel.apache.org/camel-quarkus/next/user-guide/index.html\" rel=\"nofollow noreferrer\">User guide</a> for more information about writing Camel Quarkus applications.</p>\n<p><strong>SSL IN NATIVE MODE</strong></p>\n<p>This extension auto-enables SSL support in native mode. Hence you do not need to add <code>quarkus.ssl.native=true</code> to your <code>application.properties</code>.</p>\n<p>Refer  <a href=\"https://quarkus.io/guides/native-and-ssl\" rel=\"nofollow noreferrer\">here</a></p>\n<p>If still you are facing the issue please raise a issue here <a href=\"https://github.com/apache/camel-quarkus/issues\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":4500167,"reputation":43,"user_id":3658886,"display_name":"user3658886"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":417,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637143617,"creation_date":1636845971,"question_id":69959080,"body_markdown":"I am trying to upload a file to Azure Blob Storage but I am getting an error when I push the file into the storage.\r\n\r\nI am using java 11 with Quarkus for development.\r\nOn the POM I have added the artifact  &lt;artifactId&gt;azure-storage-blob&lt;/artifactId&gt; and &lt;artifactId&gt;azure-sdk-bom&lt;/artifactId&gt;\r\n\r\nCode:\r\n```\r\nBlobClient blobClient = new BlobClientBuilder()\r\n                .endpoint(&quot;...&quot;)\r\n                .sasToken(&quot;...&quot;)\r\n                .containerName(&quot;random-files&quot;)\r\n                .blobName(&quot;file&quot;)\r\n                .buildClient();\r\n\r\nString randomText = &quot;random string&quot;;\r\nblobClient.upload(BinaryData.fromString(randomText));\r\n```\r\n\r\n\r\n**Resume error**\r\n&gt; io.net.cha.DefaultChannelPipeline] (vert.x-eventloop-thread-2) An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.: java.lang.NoClassDefFoundError: Could not initialize class io.netty.handler.codec.http.HttpVersion \r\n\r\n\r\n**Full error log:**\r\n&gt; WARN  [io.net.cha.DefaultChannelPipeline] (vert.x-eventloop-thread-2) An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.: java.lang.NoClassDefFoundError: Could not initialize class io.netty.handler.codec.http.HttpVersion\r\n        at io.vertx.core.http.impl.VertxHttpRequestDecoder.createMessage(VertxHttpRequestDecoder.java:35)\r\n        at io.netty.handler.codec.http.HttpObjectDecoder.decode(HttpObjectDecoder.java:273)\r\n        at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:501)\r\n        at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:440)\r\n        at io.netty.handler.codec.ByteToMessageDecoder.channelInputClosed(ByteToMessageDecoder.java:404)\r\n        at io.netty.handler.codec.ByteToMessageDecoder.channelInputClosed(ByteToMessageDecoder.java:371)\r\n        at io.netty.handler.codec.ByteToMessageDecoder.channelInactive(ByteToMessageDecoder.java:354)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:262)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:248)\r\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:241)\r\n        at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1405)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:262)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:248)\r\n        at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:901)\r\n        at io.netty.channel.AbstractChannel$AbstractUnsafe$8.run(AbstractChannel.java:818)\r\n        at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)\r\n        at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\r\n        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:497)\r\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n        at java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\n\r\n\r\nDo you have any idea what is the problem? I am just using the basics for upload a file using Quarkus but looks like there is a problem of versions or something like that.","title":"exception when trying to upload a file","body":"<p>I am trying to upload a file to Azure Blob Storage but I am getting an error when I push the file into the storage.</p>\n<p>I am using java 11 with Quarkus for development.\nOn the POM I have added the artifact  azure-storage-blob and azure-sdk-bom</p>\n<p>Code:</p>\n<pre><code>BlobClient blobClient = new BlobClientBuilder()\n                .endpoint(&quot;...&quot;)\n                .sasToken(&quot;...&quot;)\n                .containerName(&quot;random-files&quot;)\n                .blobName(&quot;file&quot;)\n                .buildClient();\n\nString randomText = &quot;random string&quot;;\nblobClient.upload(BinaryData.fromString(randomText));\n</code></pre>\n<p><strong>Resume error</strong></p>\n<blockquote>\n<p>io.net.cha.DefaultChannelPipeline] (vert.x-eventloop-thread-2) An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.: java.lang.NoClassDefFoundError: Could not initialize class io.netty.handler.codec.http.HttpVersion</p>\n</blockquote>\n<p><strong>Full error log:</strong></p>\n<blockquote>\n<p>WARN  [io.net.cha.DefaultChannelPipeline] (vert.x-eventloop-thread-2) An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.: java.lang.NoClassDefFoundError: Could not initialize class io.netty.handler.codec.http.HttpVersion\nat io.vertx.core.http.impl.VertxHttpRequestDecoder.createMessage(VertxHttpRequestDecoder.java:35)\nat io.netty.handler.codec.http.HttpObjectDecoder.decode(HttpObjectDecoder.java:273)\nat io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:501)\nat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:440)\nat io.netty.handler.codec.ByteToMessageDecoder.channelInputClosed(ByteToMessageDecoder.java:404)\nat io.netty.handler.codec.ByteToMessageDecoder.channelInputClosed(ByteToMessageDecoder.java:371)\nat io.netty.handler.codec.ByteToMessageDecoder.channelInactive(ByteToMessageDecoder.java:354)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:262)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:248)\nat io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:241)\nat io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1405)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:262)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:248)\nat io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:901)\nat io.netty.channel.AbstractChannel$AbstractUnsafe$8.run(AbstractChannel.java:818)\nat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)\nat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\nat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:497)\nat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\nat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\nat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\nat java.base/java.lang.Thread.run(Thread.java:833)</p>\n</blockquote>\n<p>Do you have any idea what is the problem? I am just using the basics for upload a file using Quarkus but looks like there is a problem of versions or something like that.</p>\n"},{"tags":["java","placeholder","replaceall"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1637141142,"post_id":70001718,"comment_id":123743698,"body_markdown":"`input &quot;camelCaseTest&quot; should give the output &quot;camelCaseTest&quot;` - this example seems to be broken as there&#39;s no difference between input and output. Do you mean output should be &quot;camel Case Test&quot;?","body":"<code>input &quot;camelCaseTest&quot; should give the output &quot;camelCaseTest&quot;</code> - this example seems to be broken as there&#39;s no difference between input and output. Do you mean output should be &quot;camel Case Test&quot;?"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1637141196,"post_id":70001718,"comment_id":123743720,"body_markdown":"`$1` is the first _group_, `(...)`, $2 the second etcetera. `$0` is all the match of the pattern.","body":"<code>$1</code> is the first <i>group</i>, <code>(...)</code>, $2 the second etcetera. <code>$0</code> is all the match of the pattern."},{"owner":{"account_id":121162,"reputation":796,"user_id":6387948,"display_name":"Hans-Martin Mosner"},"score":0,"creation_date":1637143086,"post_id":70001718,"comment_id":123744527,"body_markdown":"@Thomas: I&#39;ve edited the question to fix this (plus some minor typos)","body":"@Thomas: I&#39;ve edited the question to fix this (plus some minor typos)"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1637143545,"post_id":70001718,"comment_id":123744708,"body_markdown":"@Mritunjay It’s similar and helpful, thanks. It’s about JavaScript, so I wouldn’t call it an exact duplicate.","body":"@Mritunjay It’s similar and helpful, thanks. It’s about JavaScript, so I wouldn’t call it an exact duplicate."}],"answers":[{"tags":[],"owner":{"account_id":221272,"reputation":6281,"user_id":479156,"accept_rate":92,"display_name":"Ivar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637143476,"creation_date":1637142124,"answer_id":70002009,"question_id":70001718,"body_markdown":"From the [documentation of the String class][1]:\r\n\r\n&gt; Note that backslashes (\\\\) and dollar signs ($) in the replacement string may cause the results to be different than if it were being treated as a literal replacement string; see `Matcher.replaceAll`.\r\n\r\nFrom [`Matcher.replaceAll`][2]\r\n\r\n&gt; The replacement string may contain references to captured subsequences as in the `appendReplacement` method.\r\n\r\nThen the [`appendReplacement` method][3]:\r\n\r\n&gt; The replacement string may contain references to subsequences captured during the previous match: Each occurrence of `${name}` or `$g` will be replaced by the result of evaluating the corresponding `group(name)` or `group(g)` respectively. For `$g`, the first number after the $ is always treated as part of the group reference. Subsequent numbers are incorporated into `g` if they would form a legal group reference. Only the numerals &#39;0&#39; through &#39;9&#39; are considered as potential components of the group reference. If the second group matched the string &quot;foo&quot;, for example, then passing the replacement string &quot;$2bar&quot; would cause &quot;foobar&quot; to be appended to the string buffer. A dollar sign ($) may be included as a literal in the replacement string by preceding it with a backslash (`\\$`).\r\n\r\nSo, `$1` will reference the the first capturing group (whatever matches the pattern within the first parentheses of the regular expression).\r\n\r\n`([A-Z])` will match any uppercase character and place it in the first capturing group. ` $1` will then replace it with a space, followed by the matched uppercase character.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#replaceAll(java.lang.String,java.lang.String)\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/regex/Matcher.html#replaceAll(java.lang.String)\r\n  [3]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/regex/Matcher.html#appendReplacement(java.lang.StringBuffer,java.lang.String)","title":"Java: is &quot;$1&quot; a placeholder?","body":"<p>From the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#replaceAll(java.lang.String,java.lang.String)\" rel=\"nofollow noreferrer\">documentation of the String class</a>:</p>\n<blockquote>\n<p>Note that backslashes (\\) and dollar signs ($) in the replacement string may cause the results to be different than if it were being treated as a literal replacement string; see <code>Matcher.replaceAll</code>.</p>\n</blockquote>\n<p>From <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/regex/Matcher.html#replaceAll(java.lang.String)\" rel=\"nofollow noreferrer\"><code>Matcher.replaceAll</code></a></p>\n<blockquote>\n<p>The replacement string may contain references to captured subsequences as in the <code>appendReplacement</code> method.</p>\n</blockquote>\n<p>Then the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/regex/Matcher.html#appendReplacement(java.lang.StringBuffer,java.lang.String)\" rel=\"nofollow noreferrer\"><code>appendReplacement</code> method</a>:</p>\n<blockquote>\n<p>The replacement string may contain references to subsequences captured during the previous match: Each occurrence of <code>${name}</code> or <code>$g</code> will be replaced by the result of evaluating the corresponding <code>group(name)</code> or <code>group(g)</code> respectively. For <code>$g</code>, the first number after the $ is always treated as part of the group reference. Subsequent numbers are incorporated into <code>g</code> if they would form a legal group reference. Only the numerals '0' through '9' are considered as potential components of the group reference. If the second group matched the string &quot;foo&quot;, for example, then passing the replacement string &quot;$2bar&quot; would cause &quot;foobar&quot; to be appended to the string buffer. A dollar sign ($) may be included as a literal in the replacement string by preceding it with a backslash (<code>\\$</code>).</p>\n</blockquote>\n<p>So, <code>$1</code> will reference the the first capturing group (whatever matches the pattern within the first parentheses of the regular expression).</p>\n<p><code>([A-Z])</code> will match any uppercase character and place it in the first capturing group. <code> $1</code> will then replace it with a space, followed by the matched uppercase character.</p>\n"}],"owner":{"account_id":23359963,"reputation":1,"user_id":17432361,"display_name":"thenewkid"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":434,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1637143652,"answer_count":1,"score":-1,"last_activity_date":1637143476,"creation_date":1637140790,"question_id":70001718,"body_markdown":"I was given a Java exercise:  \r\nBreak up camelCase writing into words, for example the input &quot;camelCaseTest&quot; should give the output &quot;camel Case Test&quot;.\r\n\r\nI found this solution online, but I don&#39;t understand all of it\r\n\r\n    public static String camelCaseBetter(String input) {\r\n        input = input.replaceAll(&quot;([A-Z])&quot;, &quot; $1&quot;);\r\n        return input;\r\n    }\r\n\r\nWhat does the `$1` do? I think it just takes the String that is to be replaced (A-Z) and replaces it with itself (in this case the method also appends a space to break up the words)\r\n\r\nI couldn&#39;t find a good explanation for `$1`, so I hope somebody here can explain it or share a link to the right resource which can explain it.","title":"Java: is &quot;$1&quot; a placeholder?","body":"<p>I was given a Java exercise:<br />\nBreak up camelCase writing into words, for example the input &quot;camelCaseTest&quot; should give the output &quot;camel Case Test&quot;.</p>\n<p>I found this solution online, but I don't understand all of it</p>\n<pre><code>public static String camelCaseBetter(String input) {\n    input = input.replaceAll(&quot;([A-Z])&quot;, &quot; $1&quot;);\n    return input;\n}\n</code></pre>\n<p>What does the <code>$1</code> do? I think it just takes the String that is to be replaced (A-Z) and replaces it with itself (in this case the method also appends a space to break up the words)</p>\n<p>I couldn't find a good explanation for <code>$1</code>, so I hope somebody here can explain it or share a link to the right resource which can explain it.</p>\n"},{"tags":["java","scala","sbt","playback"],"comments":[{"owner":{"account_id":44593,"reputation":4230,"user_id":130993,"accept_rate":90,"display_name":"Jean-Fran&#231;ois C&#244;t&#233;"},"score":0,"creation_date":1640274655,"post_id":69999871,"comment_id":124559916,"body_markdown":"I have the exact same problem. Were you able to fix it?","body":"I have the exact same problem. Were you able to fix it?"},{"owner":{"account_id":23363255,"reputation":11,"user_id":17435161,"display_name":"vijay"},"score":0,"creation_date":1640753769,"post_id":69999871,"comment_id":124649722,"body_markdown":"yes i found the issue that why we can not update the version of scala because maven repo can&#39;t have an dependency \n    maven repo take dependency to scala 2.13 \n   _(https://repo1.maven.org/maven2/com/typesafe/play/)_ ans also you can go with SBT version 1.3.4","body":"yes i found the issue that why we can not update the version of scala because maven repo can&#39;t have an dependency      maven repo take dependency to scala 2.13     <i>(<a href=\"https://repo1.maven.org/maven2/com/typesafe/play/\" rel=\"nofollow noreferrer\">repo1.maven.org/maven2/com/typesafe/play</a>)</i> ans also you can go with SBT version 1.3.4"}],"owner":{"account_id":23363255,"reputation":11,"user_id":17435161,"display_name":"vijay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":831,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1637143229,"creation_date":1637131011,"question_id":69999871,"body_markdown":"I get this error when executing `sbt run`. \r\n\r\nHere are my potentially relevant version numbers. \r\n- Play Framework - 2.8.8\r\n- Scala - 2.13.6\r\n- sbt - 1.5.5\r\n- java - 11.0.13\r\n- addSbtPlugin(&quot;com.typesafe.sbt&quot; % &quot;sbt-play-ebean&quot; % &quot;6.2.0-RC3&quot;)\r\n\r\nI read these below, but unsure if I missed anything.  \r\n\r\n 1. https://github.com/playframework/playframework/pull/10648\r\n 2. https://github.com/playframework/playframework/pull/10649\r\n 3. https://gitter.im/sbt/sbt?at=5f6b4a01b8a99f4519a0d3ab\r\n\r\nAny idea how to fix this?\r\n\r\n```[error] java.lang.ClassCastException: class sbt.internal.inc.MappedVirtualFile cannot be cast to class java.io.File (sbt.internal.inc.MappedVirtualFile is in unnamed module of loader sbt.internal.MetaBuildLoader @130f889; java.io.File is in module java.base of loader &#39;bootstrap&#39;)\r\n[error] \tat scala.collection.TraversableOnce$folder$1$.apply(TraversableOnce.scala:187)\r\n[error] \tat scala.collection.TraversableOnce$folder$1$.apply(TraversableOnce.scala:185)\r\n[error] \tat scala.collection.immutable.HashMap$HashMapKeys.$anonfun$foreach$1(HashMap.scala:149)\r\n[error] \tat scala.collection.immutable.HashMap$HashMap1.foreachEntry(HashMap.scala:395)\r\n[error] \tat scala.collection.immutable.HashMap$HashTrieMap.foreachEntry(HashMap.scala:728)\r\n[error] \tat scala.collection.immutable.HashMap$HashMapKeys.foreach(HashMap.scala:149)\r\n[error] \tat scala.collection.TraversableOnce.foldLeft(TraversableOnce.scala:189)\r\n[error] \tat scala.collection.TraversableOnce.foldLeft$(TraversableOnce.scala:184)\r\n[error] \tat scala.collection.AbstractTraversable.foldLeft(Traversable.scala:108)\r\n[error] \tat play.ebean.sbt.PlayEbean$.$anonfun$ebeanEnhance$1(PlayEbean.scala:113)\r\n[error] \tat scala.Function1.$anonfun$compose$1(Function1.scala:49)\r\n[error] \tat sbt.internal.util.$tilde$greater.$anonfun$$u2219$1(TypeFunctions.scala:62)\r\n[error] \tat sbt.std.Transform$$anon$4.work(Transform.scala:68)\r\n[error] \tat sbt.Execute.$anonfun$submit$2(Execute.scala:282)\r\n[error] \tat sbt.internal.util.ErrorHandling$.wideConvert(ErrorHandling.scala:23)\r\n[error] \tat sbt.Execute.work(Execute.scala:291)\r\n[error] \tat sbt.Execute.$anonfun$submit$1(Execute.scala:282)\r\n[error] \tat sbt.ConcurrentRestrictions$$anon$4.$anonfun$submitValid$1(ConcurrentRestrictions.scala:265)\r\n[error] \tat sbt.CompletionService$$anon$2.call(CompletionService.scala:64)\r\n[error] \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n[error] \tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n[error] \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n[error] \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)\r\n[error] \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\r\n[error] \tat java.base/java.lang.Thread.run(Thread.java:831)\r\n[error] (data / Compile / manipulateBytecode) java.lang.ClassCastException: class sbt.internal.inc.MappedVirtualFile cannot be cast to class java.io.File (sbt.internal.inc.MappedVirtualFile is in unnamed module of loader sbt.internal.MetaBuildLoader @130f889; java.io.File is in module java.base of loader &#39;bootstrap&#39;)\r\n```","title":"playframework 2.8.8 - class sbt.internal.inc.MappedVirtualFile cannot be cast to class java.io.File","body":"<p>I get this error when executing <code>sbt run</code>.</p>\n<p>Here are my potentially relevant version numbers.</p>\n<ul>\n<li>Play Framework - 2.8.8</li>\n<li>Scala - 2.13.6</li>\n<li>sbt - 1.5.5</li>\n<li>java - 11.0.13</li>\n<li>addSbtPlugin(&quot;com.typesafe.sbt&quot; % &quot;sbt-play-ebean&quot; % &quot;6.2.0-RC3&quot;)</li>\n</ul>\n<p>I read these below, but unsure if I missed anything.</p>\n<ol>\n<li><a href=\"https://github.com/playframework/playframework/pull/10648\" rel=\"nofollow noreferrer\">https://github.com/playframework/playframework/pull/10648</a></li>\n<li><a href=\"https://github.com/playframework/playframework/pull/10649\" rel=\"nofollow noreferrer\">https://github.com/playframework/playframework/pull/10649</a></li>\n<li><a href=\"https://gitter.im/sbt/sbt?at=5f6b4a01b8a99f4519a0d3ab\" rel=\"nofollow noreferrer\">https://gitter.im/sbt/sbt?at=5f6b4a01b8a99f4519a0d3ab</a></li>\n</ol>\n<p>Any idea how to fix this?</p>\n<pre><code>[error]     at scala.collection.TraversableOnce$folder$1$.apply(TraversableOnce.scala:187)\n[error]     at scala.collection.TraversableOnce$folder$1$.apply(TraversableOnce.scala:185)\n[error]     at scala.collection.immutable.HashMap$HashMapKeys.$anonfun$foreach$1(HashMap.scala:149)\n[error]     at scala.collection.immutable.HashMap$HashMap1.foreachEntry(HashMap.scala:395)\n[error]     at scala.collection.immutable.HashMap$HashTrieMap.foreachEntry(HashMap.scala:728)\n[error]     at scala.collection.immutable.HashMap$HashMapKeys.foreach(HashMap.scala:149)\n[error]     at scala.collection.TraversableOnce.foldLeft(TraversableOnce.scala:189)\n[error]     at scala.collection.TraversableOnce.foldLeft$(TraversableOnce.scala:184)\n[error]     at scala.collection.AbstractTraversable.foldLeft(Traversable.scala:108)\n[error]     at play.ebean.sbt.PlayEbean$.$anonfun$ebeanEnhance$1(PlayEbean.scala:113)\n[error]     at scala.Function1.$anonfun$compose$1(Function1.scala:49)\n[error]     at sbt.internal.util.$tilde$greater.$anonfun$$u2219$1(TypeFunctions.scala:62)\n[error]     at sbt.std.Transform$$anon$4.work(Transform.scala:68)\n[error]     at sbt.Execute.$anonfun$submit$2(Execute.scala:282)\n[error]     at sbt.internal.util.ErrorHandling$.wideConvert(ErrorHandling.scala:23)\n[error]     at sbt.Execute.work(Execute.scala:291)\n[error]     at sbt.Execute.$anonfun$submit$1(Execute.scala:282)\n[error]     at sbt.ConcurrentRestrictions$$anon$4.$anonfun$submitValid$1(ConcurrentRestrictions.scala:265)\n[error]     at sbt.CompletionService$$anon$2.call(CompletionService.scala:64)\n[error]     at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n[error]     at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n[error]     at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n[error]     at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)\n[error]     at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\n[error]     at java.base/java.lang.Thread.run(Thread.java:831)\n[error] (data / Compile / manipulateBytecode) java.lang.ClassCastException: class sbt.internal.inc.MappedVirtualFile cannot be cast to class java.io.File (sbt.internal.inc.MappedVirtualFile is in unnamed module of loader sbt.internal.MetaBuildLoader @130f889; java.io.File is in module java.base of loader 'bootstrap')\n</code></pre>\n"},{"tags":["java","sql","spring","spring-jdbc"],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637141734,"creation_date":1637141734,"answer_id":70001929,"question_id":70001174,"body_markdown":"Unfortunately you don&#39;t really tell us what your problem is.\r\nBut there are a couple of things that seem problematic.\r\n\r\n1. `finalProjectList.addAll(finalProjectList)` is just a fancy NOOP, since `finalProjectList` is empty and will stay that way. Should this be `finalProjectList.addAll(employeeProjectList)`?\r\n\r\n2. You are running the same statement multiple times in a tight loop. It&#39;s probably more efficient to turn that in a single statement or at least way less then you have currently. This can be done by combining multiple copies of the select statement using [`UNION` or if you know they are distinct `UNION ALL`][1]. Of course you&#39;ll have to change the parameter names, so they are unique.\r\n\r\n3. Alternatively you could use an IN-clause. I know you explicitly asked for solutions without IN, but you have that above and you didn&#39;t give a reason, so I&#39;m going to ignore that constraint for this section. The challenge is that you have two arguments to filter on. That in itself seems strange, since one of the parameters is called `id` which suggests it should be unique. The following solution assumes that there is a character that you can guarantee that it doesn&#39;t appear in `id`. I use `_` and an example. Then the following statement should do the trick:\r\n\r\n    ```sql\r\n   SELECT project_name \r\n    FROM employee \r\n    WHERE id IN :ids \r\n    AND CONCAT(id, name) IN :idnames\r\n    ```\r\n\r\n   The query parameter `ids` and `idnames` would then need to be set to a collection of `id` values a the concatenation `id + &quot;_&quot; + name`. The first `IN` will limit the number of rows to be processed by the second IN and hopefully use an index, while the second can&#39;t use an index but does the correct filtering. \r\n\r\n4. Since you are only selecting a single column you may use [`queryForList`][2] or [`queryForObject`][3] and drop the `RowMapper`.\r\n\r\n\r\n  [1]: https://www.w3schools.com/sql/sql_union.asp\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.html#queryForList-java.lang.String-java.util.Map-java.lang.Class-\r\n  [3]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.html#queryForObject-java.lang.String-java.util.Map-java.lang.Class-","title":"Batch Select operation using NamedParameterJdbcTemplate","body":"<p>Unfortunately you don't really tell us what your problem is.\nBut there are a couple of things that seem problematic.</p>\n<ol>\n<li><p><code>finalProjectList.addAll(finalProjectList)</code> is just a fancy NOOP, since <code>finalProjectList</code> is empty and will stay that way. Should this be <code>finalProjectList.addAll(employeeProjectList)</code>?</p>\n</li>\n<li><p>You are running the same statement multiple times in a tight loop. It's probably more efficient to turn that in a single statement or at least way less then you have currently. This can be done by combining multiple copies of the select statement using <a href=\"https://www.w3schools.com/sql/sql_union.asp\" rel=\"nofollow noreferrer\"><code>UNION</code> or if you know they are distinct <code>UNION ALL</code></a>. Of course you'll have to change the parameter names, so they are unique.</p>\n</li>\n<li><p>Alternatively you could use an IN-clause. I know you explicitly asked for solutions without IN, but you have that above and you didn't give a reason, so I'm going to ignore that constraint for this section. The challenge is that you have two arguments to filter on. That in itself seems strange, since one of the parameters is called <code>id</code> which suggests it should be unique. The following solution assumes that there is a character that you can guarantee that it doesn't appear in <code>id</code>. I use <code>_</code> and an example. Then the following statement should do the trick:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT project_name \nFROM employee \nWHERE id IN :ids \nAND CONCAT(id, name) IN :idnames\n</code></pre>\n<p>The query parameter <code>ids</code> and <code>idnames</code> would then need to be set to a collection of <code>id</code> values a the concatenation <code>id + &quot;_&quot; + name</code>. The first <code>IN</code> will limit the number of rows to be processed by the second IN and hopefully use an index, while the second can't use an index but does the correct filtering.</p>\n</li>\n<li><p>Since you are only selecting a single column you may use <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.html#queryForList-java.lang.String-java.util.Map-java.lang.Class-\" rel=\"nofollow noreferrer\"><code>queryForList</code></a> or <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.html#queryForObject-java.lang.String-java.util.Map-java.lang.Class-\" rel=\"nofollow noreferrer\"><code>queryForObject</code></a> and drop the <code>RowMapper</code>.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":3253228,"reputation":47,"user_id":2742991,"display_name":"Prayas Bhatnagar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":706,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637142926,"creation_date":1637138532,"question_id":70001174,"body_markdown":"I need help with a batch operation for select queries in `NamedParameterJdbcTemplate`. I have a `List` of employees having `id` and `name`, against which I need the unique list of employee&#39;s project codes and ultimately it will add to the final list of all projects from all employees.\r\n\r\nMy source code: \r\n```java\r\n//input = List&lt;Employee&gt; employee\r\n\r\nString sql = &quot;Select project_name from employee where id = :id and name = :name&quot;;\r\n\r\nRowMapper&lt;String&gt; rowMapper = (rs, rowNum) -&gt;\r\n{\r\nString s = rs.getString(&quot;project_name&quot;);\r\nreturn s;\r\n};\r\n\r\n\r\nMapSqlParameterSource params;\r\nList&lt;String&gt; finalProjectList = new ArrayList&lt;String&gt;();\r\nList&lt;String&gt; employeeProjectList = null;\r\nfor(Employee e : employee)\r\n{\r\nparams = new MapSqlParameterSource();\r\nemployeeProjectList = new ArrayList&lt;String&gt;();\r\n\r\nparams.addvalue(&quot;id&quot;,e.getId());\r\nparams.addvalue(&quot;name&quot;,e.getName());\r\n\r\nemployeeProjectList = namedParameterJdbcTemplate.query(sql, params, rowMapper);\r\nfinalProjectList.addAll(employeeProjectList);\r\n}\r\n```\r\nNote: Please answer for select queries without IN clause and not for update or insert operations. I am aware that for updates and inserts there is a batchUpdate method provided by `NamedParameterJdbcTemplate`.","title":"Batch Select operation using NamedParameterJdbcTemplate","body":"<p>I need help with a batch operation for select queries in <code>NamedParameterJdbcTemplate</code>. I have a <code>List</code> of employees having <code>id</code> and <code>name</code>, against which I need the unique list of employee's project codes and ultimately it will add to the final list of all projects from all employees.</p>\n<p>My source code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//input = List&lt;Employee&gt; employee\n\nString sql = &quot;Select project_name from employee where id = :id and name = :name&quot;;\n\nRowMapper&lt;String&gt; rowMapper = (rs, rowNum) -&gt;\n{\nString s = rs.getString(&quot;project_name&quot;);\nreturn s;\n};\n\n\nMapSqlParameterSource params;\nList&lt;String&gt; finalProjectList = new ArrayList&lt;String&gt;();\nList&lt;String&gt; employeeProjectList = null;\nfor(Employee e : employee)\n{\nparams = new MapSqlParameterSource();\nemployeeProjectList = new ArrayList&lt;String&gt;();\n\nparams.addvalue(&quot;id&quot;,e.getId());\nparams.addvalue(&quot;name&quot;,e.getName());\n\nemployeeProjectList = namedParameterJdbcTemplate.query(sql, params, rowMapper);\nfinalProjectList.addAll(employeeProjectList);\n}\n</code></pre>\n<p>Note: Please answer for select queries without IN clause and not for update or insert operations. I am aware that for updates and inserts there is a batchUpdate method provided by <code>NamedParameterJdbcTemplate</code>.</p>\n"},{"tags":["java","list","object","attributes","addition"],"comments":[{"owner":{"account_id":7582437,"reputation":5222,"user_id":5752737,"accept_rate":100,"display_name":"geco17"},"score":0,"creation_date":1637137561,"post_id":70000950,"comment_id":123742432,"body_markdown":"what have you tried? can you post some code?","body":"what have you tried? can you post some code?"},{"owner":{"account_id":21722501,"reputation":1,"user_id":16032404,"display_name":"Joh95"},"score":0,"creation_date":1637138772,"post_id":70000950,"comment_id":123742864,"body_markdown":"@geco17 ok I edited the post","body":"@geco17 ok I edited the post"},{"owner":{"account_id":21722501,"reputation":1,"user_id":16032404,"display_name":"Joh95"},"score":0,"creation_date":1637139062,"post_id":70000950,"comment_id":123742971,"body_markdown":"@BasilBourque sorry I misspoke","body":"@BasilBourque sorry I misspoke"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637142419,"creation_date":1637141895,"answer_id":70001961,"question_id":70000950,"body_markdown":"Just pass an instance of the list. \r\n\r\nBy the way, never use either `Date` class. Those terrible classes was supplanted years ago by the modern *java.time* classes.\r\n\r\n```java\r\nrecord Meeting ( String room, String subject, LocalDateTime when, List&lt;String&gt; users ) {}\r\n```\r\n\r\nExample instantiation. \r\n\r\n    Meeting mtg = new Meeting(\r\n        &quot;Olympics&quot; ,\r\n        &quot;Budget&quot; ,\r\n        LocalDateTime.of( 2021 , Month.JANUARY , 23 , 15 , 30 , 0 , 0 ) ,\r\n        List.of( &quot;alice@example.com&quot; , &quot;bob@example.com&quot; , &quot;carol@example.com&quot; ) \r\n    ) ;\r\n","title":"Add a list as an attribute of an object","body":"<p>Just pass an instance of the list.</p>\n<p>By the way, never use either <code>Date</code> class. Those terrible classes was supplanted years ago by the modern <em>java.time</em> classes.</p>\n<pre class=\"lang-java prettyprint-override\"><code>record Meeting ( String room, String subject, LocalDateTime when, List&lt;String&gt; users ) {}\n</code></pre>\n<p>Example instantiation.</p>\n<pre><code>Meeting mtg = new Meeting(\n    &quot;Olympics&quot; ,\n    &quot;Budget&quot; ,\n    LocalDateTime.of( 2021 , Month.JANUARY , 23 , 15 , 30 , 0 , 0 ) ,\n    List.of( &quot;alice@example.com&quot; , &quot;bob@example.com&quot; , &quot;carol@example.com&quot; ) \n) ;\n</code></pre>\n"}],"owner":{"account_id":21722501,"reputation":1,"user_id":16032404,"display_name":"Joh95"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":716,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1637142419,"creation_date":1637137444,"question_id":70000950,"body_markdown":"i am currently making a meeting management application, and for each meeting there must be the time, subject, and participants. For participants, only their email addresses will be displayed. how to pass a mail list as an attribute of the object &quot;Meeting&quot;?\r\n\r\n    public class Meeting {\r\n    String room, subject;\r\n    Date mdate;\r\n    List&lt;String&gt; users;\r\n\r\n    public Meeting(String room, String subject) {\r\n        this.room = room;\r\n        this.subject = subject;\r\n        this.mdate = new Date();\r\n    }\r\n\r\n    public Meeting(String room, String subject, Date date) {\r\n        this.room = room;\r\n        this.subject = subject;\r\n        mdate = date;\r\n    }","title":"Add a list as an attribute of an object","body":"<p>i am currently making a meeting management application, and for each meeting there must be the time, subject, and participants. For participants, only their email addresses will be displayed. how to pass a mail list as an attribute of the object &quot;Meeting&quot;?</p>\n<pre><code>public class Meeting {\nString room, subject;\nDate mdate;\nList&lt;String&gt; users;\n\npublic Meeting(String room, String subject) {\n    this.room = room;\n    this.subject = subject;\n    this.mdate = new Date();\n}\n\npublic Meeting(String room, String subject, Date date) {\n    this.room = room;\n    this.subject = subject;\n    mdate = date;\n}\n</code></pre>\n"},{"tags":["java","intellij-idea","intellij-15"],"comments":[{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":3,"creation_date":1499882987,"post_id":45064680,"comment_id":77102834,"body_markdown":"See if [disabling this option](http://i.imgur.com/p037pW2.png) helps. Also try adding `-Didea.connection.timeout=90000` in Help | Edit Custom VM Options.","body":"See if <a href=\"http://i.imgur.com/p037pW2.png\" rel=\"nofollow noreferrer\">disabling this option</a> helps. Also try adding <code>-Didea.connection.timeout=90000</code> in Help | Edit Custom VM Options."},{"owner":{"account_id":5760526,"reputation":1669,"user_id":4547118,"accept_rate":100,"display_name":"pokemzok"},"score":0,"creation_date":1499883996,"post_id":45064680,"comment_id":77103362,"body_markdown":"Disabling that option helped. Thanks a lot!","body":"Disabling that option helped. Thanks a lot!"}],"answers":[{"tags":[],"owner":{"account_id":2004750,"reputation":8566,"user_id":1795426,"display_name":"user11153"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1509137278,"creation_date":1509137278,"answer_id":46983187,"question_id":45064680,"body_markdown":"&lt;sup&gt;Posting [CrazyCoder][1]&#39;s comment as answer, because it also worked for me.&lt;/sup&gt;\r\n\r\n---\r\n\r\nWorkaround is to uncheck ***Use secure connection*** option in *Appearance &amp; Behavior → System Settings → Updates* section in *Settings* window:\r\n\r\n[![&#39;Appearance &amp; Behavior → System Settings → Updates&#39; section screenshot][2]][2]\r\n\r\n  [1]: https://stackoverflow.com/users/104891/crazycoder\r\n  [2]: https://i.stack.imgur.com/ZeiSW.png","title":"Intellij IDEA 2017.1.5 connection times out during plugin installation","body":"<p><sup>Posting <a href=\"https://stackoverflow.com/users/104891/crazycoder\">CrazyCoder</a>'s comment as answer, because it also worked for me.</sup></p>\n\n<hr>\n\n<p>Workaround is to uncheck <strong><em>Use secure connection</em></strong> option in <em>Appearance &amp; Behavior → System Settings → Updates</em> section in <em>Settings</em> window:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ZeiSW.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ZeiSW.png\" alt=\"&#39;Appearance &amp; Behavior → System Settings → Updates&#39; section screenshot\"></a></p>\n"},{"tags":[],"owner":{"account_id":11565990,"reputation":1,"user_id":8474236,"display_name":"user8474236"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523953048,"creation_date":1523953048,"answer_id":49873077,"question_id":45064680,"body_markdown":"Settings--Apperance &amp; Behavior--System Settings--Updates--Use secure connection(make it unchecked)\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nVURF.png","title":"Intellij IDEA 2017.1.5 connection times out during plugin installation","body":"<p>Settings--Apperance &amp; Behavior--System Settings--Updates--Use secure connection(make it unchecked)\n<a href=\"https://i.stack.imgur.com/nVURF.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":[],"owner":{"account_id":10160189,"reputation":301,"user_id":9761598,"display_name":"Ron HD"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1617298490,"creation_date":1617298490,"answer_id":66909153,"question_id":45064680,"body_markdown":"Ran into the same problem in IntelliJ 2020.3. Turned out IntelliJ&#39;s default proxy setting is &quot;No proxy&quot;. I set it to auto-detect and the problem was solved. If you&#39;re behind a firewall (e.g. corporate environment), check this.","title":"Intellij IDEA 2017.1.5 connection times out during plugin installation","body":"<p>Ran into the same problem in IntelliJ 2020.3. Turned out IntelliJ's default proxy setting is &quot;No proxy&quot;. I set it to auto-detect and the problem was solved. If you're behind a firewall (e.g. corporate environment), check this.</p>\n"}],"owner":{"account_id":5760526,"reputation":1669,"user_id":4547118,"accept_rate":100,"display_name":"pokemzok"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9375,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":46983187,"answer_count":3,"score":4,"last_activity_date":1637142323,"creation_date":1499882453,"question_id":45064680,"body_markdown":"I have a problem with my IDE. It does not want to neither update or install any plugins (but it allows me to register my licence and browse through every plugin). It gives me a notification:\r\n\r\n&gt; Connection failed (Read timed out). Please check network connection and try again\r\n\r\nI looked into a log file and here what&#39;s there is:\r\n\r\n    &gt; 2017-07-12 19:32:41,687 [ 653407]   INFO -\r\n    &gt; .script.IdeScriptEngineManager - javax.script.ScriptEngineManager\r\n    &gt; initialized in 2327 ms  2017-07-12 19:33:50,610 [ 722330]   WARN -\r\n    &gt; Settings.impl.PluginDownloader - Cannot download\r\n    &gt; &#39;https://plugins.jetbrains.com/pluginManager/?action=download&amp;id=Lombook+Plugin&amp;build=IU-171.4694.70&amp;uuid=52f34c2e-c3bf-400b-a1c7-d11cc4fdb02b&#39;:\r\n    &gt; Read timed out  java.io.IOException: Cannot download\r\n    &gt; &#39;https://plugins.jetbrains.com/pluginManager/?action=download&amp;id=Lombook+Plugin&amp;build=IU-171.4694.70&amp;uuid=52f34c2e-c3bf-400b-a1c7-d11cc4fdb02b&#39;:\r\n    &gt; Read timed out \tat\r\n    &gt; com.intellij.util.io.HttpRequests$RequestImpl.saveToFile(HttpRequests.java:363)\r\n    &gt; \tat\r\n    &gt; com.intellij.openapi.updateSettings.impl.PluginDownloader$1.process(PluginDownloader.java:245)\r\n    &gt; \tat\r\n    &gt; com.intellij.openapi.updateSettings.impl.PluginDownloader$1.process(PluginDownloader.java:242)\r\n    &gt; \tat\r\n    &gt; com.intellij.util.io.HttpRequests.lambda$doProcess$0(HttpRequests.java:420)\r\n    &gt; \tat\r\n    &gt; com.intellij.util.net.ssl.CertificateManager.runWithUntrustedCertificateStrategy(CertificateManager.java:349)\r\n    &gt; \tat com.intellij.util.io.HttpRequests.doProcess(HttpRequests.java:420)\r\n    &gt; \tat com.intellij.util.io.HttpRequests.process(HttpRequests.java:395)\r\n    &gt; \tat com.intellij.util.io.HttpRequests.access$100(HttpRequests.java:61)\r\n    &gt; \tat\r\n    &gt; com.intellij.util.io.HttpRequests$RequestBuilderImpl.connect(HttpRequests.java:263)\r\n    &gt; \tat\r\n    &gt; com.intellij.openapi.updateSettings.impl.PluginDownloader.a(PluginDownloader.java:242)\r\n    &gt; \tat\r\n    &gt; com.intellij.openapi.updateSettings.impl.PluginDownloader.prepareToInstall(PluginDownloader.java:142)\r\n    &gt; \tat\r\n    &gt; com.intellij.ide.plugins.PluginInstaller.a(PluginInstaller.java:239)\r\n    &gt; \tat\r\n    &gt; com.intellij.ide.plugins.PluginInstaller.a(PluginInstaller.java:131)\r\n    &gt; \tat\r\n    &gt; com.intellij.ide.plugins.PluginInstaller.prepareToInstall(PluginInstaller.java:70)\r\n    &gt; \tat\r\n    &gt; com.intellij.ide.plugins.PluginManagerMain$5.run(PluginManagerMain.java:431)\r\n    &gt; \tat\r\n    &gt; com.intellij.openapi.progress.impl.CoreProgressManager$TaskRunnable.run(CoreProgressManager.java:726)\r\n    &gt; \tat\r\n    &gt; com.intellij.openapi.progress.impl.CoreProgressManager.a(CoreProgressManager.java:176)\r\n    &gt; \tat\r\n    &gt; com.intellij.openapi.progress.impl.CoreProgressManager.a(CoreProgressManager.java:556)\r\n    &gt; \tat\r\n    &gt; com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:501)\r\n    &gt; \tat\r\n    &gt; com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:66)\r\n    &gt; \tat\r\n    &gt; com.intellij.openapi.progress.impl.CoreProgressManager.runProcess(CoreProgressManager.java:163)\r\n    &gt; \tat\r\n    &gt; com.intellij.openapi.progress.impl.ProgressManagerImpl$1.run(ProgressManagerImpl.java:137)\r\n    &gt; \tat\r\n    &gt; com.intellij.openapi.application.impl.ApplicationImpl$2.run(ApplicationImpl.java:334)\r\n    &gt; \tat\r\n    &gt; java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n    &gt; \tat java.util.concurrent.FutureTask.run(FutureTask.java:266) \tat\r\n    &gt; java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    &gt; \tat\r\n    &gt; java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    &gt; \tat java.lang.Thread.run(Thread.java:745) Caused by:\r\n    &gt; java.net.SocketTimeoutException: Read timed out \tat\r\n    &gt; java.net.SocketInputStream.socketRead0(Native Method) \tat\r\n    &gt; java.net.SocketInputStream.socketRead(SocketInputStream.java:116) \tat\r\n    &gt; java.net.SocketInputStream.read(SocketInputStream.java:170) \tat\r\n    &gt; java.net.SocketInputStream.read(SocketInputStream.java:141) \tat\r\n    &gt; sun.security.ssl.InputRecord.readFully(InputRecord.java:465) \tat\r\n    &gt; sun.security.ssl.InputRecord.read(InputRecord.java:503) \tat\r\n    &gt; sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:973) \tat\r\n    &gt; sun.security.ssl.SSLSocketImpl.readDataRecord(SSLSocketImpl.java:930)\r\n    &gt; \tat sun.security.ssl.AppInputStream.read(AppInputStream.java:105) \tat\r\n    &gt; java.io.BufferedInputStream.fill(BufferedInputStream.java:246) \tat\r\n    &gt; java.io.BufferedInputStream.read1(BufferedInputStream.java:286) \tat\r\n    &gt; java.io.BufferedInputStream.read(BufferedInputStream.java:345) \tat\r\n    &gt; sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:704) \tat\r\n    &gt; sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:647) \tat\r\n    &gt; sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1536)\r\n    &gt; \tat\r\n    &gt; sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1441)\r\n    &gt; \tat\r\n    &gt; java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:480)\r\n    &gt; \tat\r\n    &gt; sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseCode(HttpsURLConnectionImpl.java:338)\r\n    &gt; \tat\r\n    &gt; com.intellij.util.io.HttpRequests.openConnection(HttpRequests.java:511)\r\n    &gt; \tat com.intellij.util.io.HttpRequests.access$300(HttpRequests.java:61)\r\n    &gt; \tat\r\n    &gt; com.intellij.util.io.HttpRequests$RequestImpl.getConnection(HttpRequests.java:289)\r\n    &gt; \tat\r\n    &gt; com.intellij.util.io.HttpRequests$RequestImpl.getInputStream(HttpRequests.java:298)\r\n    &gt; \tat\r\n    &gt; com.intellij.util.io.HttpRequests$RequestImpl.saveToFile(HttpRequests.java:359)\r\n    &gt; \t... 27 more\r\nDoes anyone encounter similar problem and know how to solve it?","title":"Intellij IDEA 2017.1.5 connection times out during plugin installation","body":"<p>I have a problem with my IDE. It does not want to neither update or install any plugins (but it allows me to register my licence and browse through every plugin). It gives me a notification:</p>\n\n<blockquote>\n  <p>Connection failed (Read timed out). Please check network connection and try again</p>\n</blockquote>\n\n<p>I looked into a log file and here what's there is:</p>\n\n<pre><code>&gt; 2017-07-12 19:32:41,687 [ 653407]   INFO -\n&gt; .script.IdeScriptEngineManager - javax.script.ScriptEngineManager\n&gt; initialized in 2327 ms  2017-07-12 19:33:50,610 [ 722330]   WARN -\n&gt; Settings.impl.PluginDownloader - Cannot download\n&gt; 'https://plugins.jetbrains.com/pluginManager/?action=download&amp;id=Lombook+Plugin&amp;build=IU-171.4694.70&amp;uuid=52f34c2e-c3bf-400b-a1c7-d11cc4fdb02b':\n&gt; Read timed out  java.io.IOException: Cannot download\n&gt; 'https://plugins.jetbrains.com/pluginManager/?action=download&amp;id=Lombook+Plugin&amp;build=IU-171.4694.70&amp;uuid=52f34c2e-c3bf-400b-a1c7-d11cc4fdb02b':\n&gt; Read timed out    at\n&gt; com.intellij.util.io.HttpRequests$RequestImpl.saveToFile(HttpRequests.java:363)\n&gt;   at\n&gt; com.intellij.openapi.updateSettings.impl.PluginDownloader$1.process(PluginDownloader.java:245)\n&gt;   at\n&gt; com.intellij.openapi.updateSettings.impl.PluginDownloader$1.process(PluginDownloader.java:242)\n&gt;   at\n&gt; com.intellij.util.io.HttpRequests.lambda$doProcess$0(HttpRequests.java:420)\n&gt;   at\n&gt; com.intellij.util.net.ssl.CertificateManager.runWithUntrustedCertificateStrategy(CertificateManager.java:349)\n&gt;   at com.intellij.util.io.HttpRequests.doProcess(HttpRequests.java:420)\n&gt;   at com.intellij.util.io.HttpRequests.process(HttpRequests.java:395)\n&gt;   at com.intellij.util.io.HttpRequests.access$100(HttpRequests.java:61)\n&gt;   at\n&gt; com.intellij.util.io.HttpRequests$RequestBuilderImpl.connect(HttpRequests.java:263)\n&gt;   at\n&gt; com.intellij.openapi.updateSettings.impl.PluginDownloader.a(PluginDownloader.java:242)\n&gt;   at\n&gt; com.intellij.openapi.updateSettings.impl.PluginDownloader.prepareToInstall(PluginDownloader.java:142)\n&gt;   at\n&gt; com.intellij.ide.plugins.PluginInstaller.a(PluginInstaller.java:239)\n&gt;   at\n&gt; com.intellij.ide.plugins.PluginInstaller.a(PluginInstaller.java:131)\n&gt;   at\n&gt; com.intellij.ide.plugins.PluginInstaller.prepareToInstall(PluginInstaller.java:70)\n&gt;   at\n&gt; com.intellij.ide.plugins.PluginManagerMain$5.run(PluginManagerMain.java:431)\n&gt;   at\n&gt; com.intellij.openapi.progress.impl.CoreProgressManager$TaskRunnable.run(CoreProgressManager.java:726)\n&gt;   at\n&gt; com.intellij.openapi.progress.impl.CoreProgressManager.a(CoreProgressManager.java:176)\n&gt;   at\n&gt; com.intellij.openapi.progress.impl.CoreProgressManager.a(CoreProgressManager.java:556)\n&gt;   at\n&gt; com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:501)\n&gt;   at\n&gt; com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:66)\n&gt;   at\n&gt; com.intellij.openapi.progress.impl.CoreProgressManager.runProcess(CoreProgressManager.java:163)\n&gt;   at\n&gt; com.intellij.openapi.progress.impl.ProgressManagerImpl$1.run(ProgressManagerImpl.java:137)\n&gt;   at\n&gt; com.intellij.openapi.application.impl.ApplicationImpl$2.run(ApplicationImpl.java:334)\n&gt;   at\n&gt; java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n&gt;   at java.util.concurrent.FutureTask.run(FutureTask.java:266)     at\n&gt; java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n&gt;   at\n&gt; java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n&gt;   at java.lang.Thread.run(Thread.java:745) Caused by:\n&gt; java.net.SocketTimeoutException: Read timed out   at\n&gt; java.net.SocketInputStream.socketRead0(Native Method)     at\n&gt; java.net.SocketInputStream.socketRead(SocketInputStream.java:116)     at\n&gt; java.net.SocketInputStream.read(SocketInputStream.java:170)   at\n&gt; java.net.SocketInputStream.read(SocketInputStream.java:141)   at\n&gt; sun.security.ssl.InputRecord.readFully(InputRecord.java:465)  at\n&gt; sun.security.ssl.InputRecord.read(InputRecord.java:503)   at\n&gt; sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:973)     at\n&gt; sun.security.ssl.SSLSocketImpl.readDataRecord(SSLSocketImpl.java:930)\n&gt;   at sun.security.ssl.AppInputStream.read(AppInputStream.java:105)    at\n&gt; java.io.BufferedInputStream.fill(BufferedInputStream.java:246)    at\n&gt; java.io.BufferedInputStream.read1(BufferedInputStream.java:286)   at\n&gt; java.io.BufferedInputStream.read(BufferedInputStream.java:345)    at\n&gt; sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:704)  at\n&gt; sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:647)    at\n&gt; sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1536)\n&gt;   at\n&gt; sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1441)\n&gt;   at\n&gt; java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:480)\n&gt;   at\n&gt; sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseCode(HttpsURLConnectionImpl.java:338)\n&gt;   at\n&gt; com.intellij.util.io.HttpRequests.openConnection(HttpRequests.java:511)\n&gt;   at com.intellij.util.io.HttpRequests.access$300(HttpRequests.java:61)\n&gt;   at\n&gt; com.intellij.util.io.HttpRequests$RequestImpl.getConnection(HttpRequests.java:289)\n&gt;   at\n&gt; com.intellij.util.io.HttpRequests$RequestImpl.getInputStream(HttpRequests.java:298)\n&gt;   at\n&gt; com.intellij.util.io.HttpRequests$RequestImpl.saveToFile(HttpRequests.java:359)\n&gt;   ... 27 more\n</code></pre>\n\n<p>Does anyone encounter similar problem and know how to solve it?</p>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":4285471,"reputation":1290,"user_id":4304123,"display_name":"Blair Nangle"},"score":2,"creation_date":1637142146,"post_id":70001567,"comment_id":123744131,"body_markdown":"Check your port numbers! I am seeing `4200` and `8080`.","body":"Check your port numbers! I am seeing <code>4200</code> and <code>8080</code>."},{"owner":{"account_id":6944554,"reputation":76,"user_id":5329571,"accept_rate":83,"display_name":"Miguel B. P&#233;rez"},"score":0,"creation_date":1637182317,"post_id":70001567,"comment_id":123760948,"body_markdown":"@BlairNangle yes, 4200 for the front end, made with Angular, and 8080 for the backend.","body":"@BlairNangle yes, 4200 for the front end, made with Angular, and 8080 for the backend."},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":1,"creation_date":1637193944,"post_id":70001567,"comment_id":123764108,"body_markdown":"But in the error that you are complaining about one can read `http://localhost:4200/login`. Shouldn&#39;t it be `http://localhost:8080/login`?","body":"But in the error that you are complaining about one can read <code>http:&#47;&#47;localhost:4200&#47;login</code>. Shouldn&#39;t it be <code>http:&#47;&#47;localhost:8080&#47;login</code>?"},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":2,"creation_date":1637237354,"post_id":70001567,"comment_id":123775303,"body_markdown":"Do you have  Frontend page called login? Is that what you are trying to reach?  The postman request you are doing is hitting the BACKEND because it is going to port 8080, while on your browser you are hitting the FRONTEND on port 4200, so you need to have a ROUTE on your page going to /login","body":"Do you have  Frontend page called login? Is that what you are trying to reach?  The postman request you are doing is hitting the BACKEND because it is going to port 8080, while on your browser you are hitting the FRONTEND on port 4200, so you need to have a ROUTE on your page going to /login"},{"owner":{"account_id":6944554,"reputation":76,"user_id":5329571,"accept_rate":83,"display_name":"Miguel B. P&#233;rez"},"score":0,"creation_date":1637243124,"post_id":70001567,"comment_id":123777769,"body_markdown":"@SMA yes I do have an Angular page called `/login` on my 4200. That page contains the login form and I intended that form to send a request to my backend to perform login.","body":"@SMA yes I do have an Angular page called <code>&#47;login</code> on my 4200. That page contains the login form and I intended that form to send a request to my backend to perform login."},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":1,"creation_date":1637243461,"post_id":70001567,"comment_id":123777920,"body_markdown":"In this case, it is an angular problem.  You most likely do not have a routing path setup `{ path:  &#39;login&#39;, component:  LoginComponent}`   https://www.smashingmagazine.com/2018/11/a-complete-guide-to-routing-in-angular/","body":"In this case, it is an angular problem.  You most likely do not have a routing path setup <code>{ path:  &#39;login&#39;, component:  LoginComponent}</code>   <a href=\"https://www.smashingmagazine.com/2018/11/a-complete-guide-to-routing-in-angular/\" rel=\"nofollow noreferrer\">smashingmagazine.com/2018/11/&hellip;</a>"},{"owner":{"account_id":6944554,"reputation":76,"user_id":5329571,"accept_rate":83,"display_name":"Miguel B. P&#233;rez"},"score":0,"creation_date":1637252499,"post_id":70001567,"comment_id":123782162,"body_markdown":"@SMA yes I do have that\n```const routes: Routes = [\n  { path: &#39;&#39;, component: HomeComponent, canActivate: [AuthGuard] },\n  { path: &#39;login&#39;, component: LoginComponent }\n];```","body":"@SMA yes I do have that <code>const routes: Routes = [   { path: &#39;&#39;, component: HomeComponent, canActivate: [AuthGuard] },   { path: &#39;login&#39;, component: LoginComponent } ];</code>"}],"owner":{"account_id":6944554,"reputation":76,"user_id":5329571,"accept_rate":83,"display_name":"Miguel B. P&#233;rez"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":440,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637141947,"creation_date":1637140248,"question_id":70001567,"body_markdown":"I have this error related to Spring security that I cannot fix, and it is happening only though the browser. When I try to replicate it through postman, it suddenly works and everything&#39;s fine.\r\n\r\nI authorized unauthenticated requests for `/login`, and authenticated requests to the rest of the API.\r\n\r\nTherefore when I make a call to `/login`, it does let me authenticate.\r\n\r\nBut, when I make a call to any of my API endpoints that is not `/login`, and I&#39;m already authenticated, my backend returns this strange error:\r\n\r\n&gt; [![!\\[http failure response][1]][1]\r\n\r\nI don&#39;t really know what this error means.\r\n\r\nHowever, when I do the same process through Postman, it works and the endpoint returns what it is supposed to return.\r\n\r\n1. Login API call:\r\n\r\n&gt; [![login][2]][2]\r\n\r\n2. Another API call that is not login:\r\n\r\n&gt; [![enter image description here][3]][3]\r\n\r\nAs you can see, through Postman it does work well.\r\n\r\nBut doing the exact same through the Angular UI I&#39;m developing leads to the former error.\r\n\r\nMy Spring security configuration:\r\n\r\n    @Configuration\r\n    @AllArgsConstructor\r\n    @EnableWebSecurity\r\n    public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n\tprivate static final String FRONTEND_URL = &quot;http://localhost:4200/&quot;;\r\n\r\n\tprivate final UserService userService;\r\n\tprivate final BCryptPasswordEncoder bCryptPasswordEncoder;\r\n\t\r\n\t\r\n\t@Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\t\r\n\t\thttp.cors()\r\n\t\t.and()\r\n\t\t.csrf().disable()\r\n\t\t.authorizeRequests()\r\n\t\t\t.antMatchers(&quot;/api/v*/registration/**&quot;, &quot;/login-status/**&quot;)\r\n\t\t\t.permitAll()\r\n\t\t\t.anyRequest().authenticated()\r\n\t\t\t.and()\r\n\t\t.formLogin()\r\n\t\t\t.permitAll()\r\n\t\t\t.loginPage(FRONTEND_URL + &quot;/login&quot;)\r\n\t\t\t.loginProcessingUrl(&quot;/login&quot;)\r\n\t\t\t.defaultSuccessUrl(&quot;/login-status/success&quot;, true)\r\n\t\t\t.failureUrl(&quot;/login-status/failure&quot;)\r\n\t\t\t.and()\r\n\t\t.logout()\r\n\t\t\t.permitAll();\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n\t\tauth.authenticationProvider(daoAuthenticationProvider());\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic DaoAuthenticationProvider daoAuthenticationProvider() {\r\n\t\tDaoAuthenticationProvider provider = new DaoAuthenticationProvider();\r\n\t\tprovider.setPasswordEncoder(bCryptPasswordEncoder);\r\n\t\tprovider.setUserDetailsService(userService);\r\n\t\treturn provider;\r\n\t}\r\n\r\n\t@Bean\r\n\tCorsConfigurationSource corsConfigurationSource() {\r\n\t\tCorsConfiguration configuration = new CorsConfiguration();\r\n\t\tconfiguration.setAllowedOrigins(Arrays.asList(FRONTEND_URL));\r\n\t\tconfiguration.setAllowedMethods(Arrays.asList(&quot;GET&quot;, &quot;POST&quot;));\r\n\t\tUrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n\t\tsource.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n\t\treturn source;\r\n\t}\r\n\t}\r\n\r\nI hope you could help me cause I&#39;m really stuck with this. I&#39;m a front-end dev who is trying to find my ways to develop a backend, just to learn, but man, shits hard. Thank you very much, and I hope my bad English didn&#39;t hurt your eyes too much. Thank you for your help.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SDcMV.png\r\n  [2]: https://i.stack.imgur.com/Fq6Rq.png\r\n  [3]: https://i.stack.imgur.com/VkhUY.png","title":"Spring security doesn&#39;t authorize my authenticated requests, but it does through Postman","body":"<p>I have this error related to Spring security that I cannot fix, and it is happening only though the browser. When I try to replicate it through postman, it suddenly works and everything's fine.</p>\n<p>I authorized unauthenticated requests for <code>/login</code>, and authenticated requests to the rest of the API.</p>\n<p>Therefore when I make a call to <code>/login</code>, it does let me authenticate.</p>\n<p>But, when I make a call to any of my API endpoints that is not <code>/login</code>, and I'm already authenticated, my backend returns this strange error:</p>\n<blockquote>\n<p><a href=\"https://i.stack.imgur.com/SDcMV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SDcMV.png\" alt=\"![http failure response\" /></a></p>\n</blockquote>\n<p>I don't really know what this error means.</p>\n<p>However, when I do the same process through Postman, it works and the endpoint returns what it is supposed to return.</p>\n<ol>\n<li>Login API call:</li>\n</ol>\n<blockquote>\n<p><a href=\"https://i.stack.imgur.com/Fq6Rq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Fq6Rq.png\" alt=\"login\" /></a></p>\n</blockquote>\n<ol start=\"2\">\n<li>Another API call that is not login:</li>\n</ol>\n<blockquote>\n<p><a href=\"https://i.stack.imgur.com/VkhUY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VkhUY.png\" alt=\"enter image description here\" /></a></p>\n</blockquote>\n<p>As you can see, through Postman it does work well.</p>\n<p>But doing the exact same through the Angular UI I'm developing leads to the former error.</p>\n<p>My Spring security configuration:</p>\n<pre><code>@Configuration\n@AllArgsConstructor\n@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\nprivate static final String FRONTEND_URL = &quot;http://localhost:4200/&quot;;\n\nprivate final UserService userService;\nprivate final BCryptPasswordEncoder bCryptPasswordEncoder;\n\n\n@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    \n    http.cors()\n    .and()\n    .csrf().disable()\n    .authorizeRequests()\n        .antMatchers(&quot;/api/v*/registration/**&quot;, &quot;/login-status/**&quot;)\n        .permitAll()\n        .anyRequest().authenticated()\n        .and()\n    .formLogin()\n        .permitAll()\n        .loginPage(FRONTEND_URL + &quot;/login&quot;)\n        .loginProcessingUrl(&quot;/login&quot;)\n        .defaultSuccessUrl(&quot;/login-status/success&quot;, true)\n        .failureUrl(&quot;/login-status/failure&quot;)\n        .and()\n    .logout()\n        .permitAll();\n}\n\n@Override\nprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\n    auth.authenticationProvider(daoAuthenticationProvider());\n}\n\n@Bean\npublic DaoAuthenticationProvider daoAuthenticationProvider() {\n    DaoAuthenticationProvider provider = new DaoAuthenticationProvider();\n    provider.setPasswordEncoder(bCryptPasswordEncoder);\n    provider.setUserDetailsService(userService);\n    return provider;\n}\n\n@Bean\nCorsConfigurationSource corsConfigurationSource() {\n    CorsConfiguration configuration = new CorsConfiguration();\n    configuration.setAllowedOrigins(Arrays.asList(FRONTEND_URL));\n    configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;, &quot;POST&quot;));\n    UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n    source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n    return source;\n}\n}\n</code></pre>\n<p>I hope you could help me cause I'm really stuck with this. I'm a front-end dev who is trying to find my ways to develop a backend, just to learn, but man, shits hard. Thank you very much, and I hope my bad English didn't hurt your eyes too much. Thank you for your help.</p>\n"},{"tags":["java","garbage-collection"],"owner":{"account_id":14415230,"reputation":185,"user_id":12479250,"display_name":"Alexey Ismagilov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1637141677,"creation_date":1637140758,"question_id":70001701,"body_markdown":"I read that when using the `finalize` method, two GC iterations are needed to completely destroy an object. But how many iterations does the GC need to free up memory from the linked list? Doesn&#39;t it turn out that _O(n)_ iterations are needed, since only after deleting the current node of the list, GC learns that nothing references the next node.\r\n\r\nCode example:\r\n```\r\nclass List {\r\n\r\n\tclass Node {\r\n        Node next;\r\n\r\n        Node(Node next) {\r\n            this.next = next;\r\n        }\r\n    }\r\n\r\n    private Node head;\r\n\r\n    public List () {\r\n        head = null;\r\n    }\r\n\r\n    public void addNode () {\r\n        head = new Node(head);\r\n    }\r\n}\r\n```","title":"How does GC free up memory from a linked list","body":"<p>I read that when using the <code>finalize</code> method, two GC iterations are needed to completely destroy an object. But how many iterations does the GC need to free up memory from the linked list? Doesn't it turn out that <em>O(n)</em> iterations are needed, since only after deleting the current node of the list, GC learns that nothing references the next node.</p>\n<p>Code example:</p>\n<pre><code>class List {\n\n    class Node {\n        Node next;\n\n        Node(Node next) {\n            this.next = next;\n        }\n    }\n\n    private Node head;\n\n    public List () {\n        head = null;\n    }\n\n    public void addNode () {\n        head = new Node(head);\n    }\n}\n</code></pre>\n"},{"tags":["java","eclipse","exception"],"comments":[{"owner":{"account_id":159523,"reputation":12477,"user_id":378968,"accept_rate":87,"display_name":"Dead Programmer"},"score":2,"creation_date":1324545247,"post_id":8600972,"comment_id":10672430,"body_markdown":"Maybe you need to change the logic. why you need 500000  records in one shot.","body":"Maybe you need to change the logic. why you need 500000  records in one shot."},{"owner":{"account_id":1212422,"reputation":821,"user_id":1180714,"accept_rate":83,"display_name":"Spencer Williams"},"score":0,"creation_date":1472494800,"post_id":8600972,"comment_id":65764120,"body_markdown":"In almost every case like this you are correct that the code needs to be improved, but most of the time that is not a feasible short-term option and you need a solution immediately.","body":"In almost every case like this you are correct that the code needs to be improved, but most of the time that is not a feasible short-term option and you need a solution immediately."}],"answers":[{"tags":[],"owner":{"account_id":439254,"reputation":10081,"user_id":828077,"accept_rate":62,"display_name":"Rajesh Pantula"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1324541636,"creation_date":1324541636,"answer_id":8601037,"question_id":8600972,"body_markdown":"To increase the Heap size in eclipse change the eclipse.ini file.\r\n\r\nrefer to \r\n\r\n[http://wiki.eclipse.org/FAQ_How_do_I_increase_the_heap_size_available_to_Eclipse%3F][1]\r\n\r\n\r\n  [1]: http://wiki.eclipse.org/FAQ_How_do_I_increase_the_heap_size_available_to_Eclipse?","title":"Increasing heap space in Eclipse: (java.lang.OutOfMemoryError)","body":"<p>To increase the Heap size in eclipse change the eclipse.ini file.</p>\n\n<p>refer to </p>\n\n<p><a href=\"http://wiki.eclipse.org/FAQ_How_do_I_increase_the_heap_size_available_to_Eclipse?\" rel=\"nofollow\">http://wiki.eclipse.org/FAQ_How_do_I_increase_the_heap_size_available_to_Eclipse%3F</a></p>\n"},{"tags":[],"owner":{"account_id":135266,"reputation":6543,"user_id":338004,"display_name":"Paul Jowett"},"down_vote_count":0,"up_vote_count":156,"is_accepted":true,"score":156,"last_activity_date":1324541644,"creation_date":1324541644,"answer_id":8601040,"question_id":8600972,"body_markdown":"In Run-&gt;Run Configuration find the Name of the class you have been running, select it, click the Arguments tab then add:\r\n\r\n-Xms512M -Xmx1524M\r\n\r\nto the VM Arguments section ","title":"Increasing heap space in Eclipse: (java.lang.OutOfMemoryError)","body":"<p>In Run->Run Configuration find the Name of the class you have been running, select it, click the Arguments tab then add:</p>\n\n<p>-Xms512M -Xmx1524M</p>\n\n<p>to the VM Arguments section </p>\n"},{"tags":[],"owner":{"account_id":71889,"reputation":10636,"user_id":207764,"accept_rate":83,"display_name":"Fredrik"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1324541668,"creation_date":1324541668,"answer_id":8601044,"question_id":8600972,"body_markdown":"You can increase the size of the memory through the use of commandline arguments. \r\n\r\nSee [this link][1].\r\n\r\n`eclipse -vmargs -Xmx1024m`\r\n\r\nEdit: Also see [see this excellent question][2]\r\n\r\n\r\n  [1]: http://wiki.eclipse.org/FAQ_How_do_I_increase_the_heap_size_available_to_Eclipse?\r\n  [2]: https://stackoverflow.com/questions/142357/what-are-the-best-jvm-settings-for-eclipse","title":"Increasing heap space in Eclipse: (java.lang.OutOfMemoryError)","body":"<p>You can increase the size of the memory through the use of commandline arguments. </p>\n\n<p>See <a href=\"http://wiki.eclipse.org/FAQ_How_do_I_increase_the_heap_size_available_to_Eclipse?\" rel=\"nofollow noreferrer\">this link</a>.</p>\n\n<p><code>eclipse -vmargs -Xmx1024m</code></p>\n\n<p>Edit: Also see <a href=\"https://stackoverflow.com/questions/142357/what-are-the-best-jvm-settings-for-eclipse\">see this excellent question</a></p>\n"},{"tags":[],"owner":{"account_id":181758,"reputation":165,"user_id":415980,"accept_rate":40,"display_name":"RockyJ"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1324541708,"creation_date":1324541708,"answer_id":8601048,"question_id":8600972,"body_markdown":"See http://blog.headius.com/2009/01/my-favorite-hotspot-jvm-flags.html\r\n\r\n-Xms and -Xmx set the minimum and maximum sizes for the heap. Touted as a feature, Hotspot puts a cap on heap size to prevent it from blowing out your system. So once you figure out the max memory your app needs, you cap it to keep rogue code from impacting other apps. Use these flags like -Xmx512M, where the M stands for MB. If you don&#39;t include it, you&#39;re specifying bytes. Several flags use this format. You can also get a minor startup perf boost by setting minimum higher, since it doesn&#39;t have to grow the heap right away.\r\n\r\n-XX:MaxPermSize=###M sets the maximum &quot;permanent generation&quot; size. Hotspot is unusual in that several types of data get stored in the &quot;permanent generation&quot;, a separate area of the heap that is only rarely (or never) garbage-collected. The list of perm-gen hosted data is a little fuzzy, but it generally contains things like class metadata, bytecode, interned strings, and so on (and this certainly varies across Hotspot versions). Because this generation is rarely or never collected, you may need to increase its size (or turn on perm-gen sweeping with a couple other flags). In JRuby especially we generate a lot of adapter bytecode, which usually demands more perm gen space.","title":"Increasing heap space in Eclipse: (java.lang.OutOfMemoryError)","body":"<p>See <a href=\"http://blog.headius.com/2009/01/my-favorite-hotspot-jvm-flags.html\">http://blog.headius.com/2009/01/my-favorite-hotspot-jvm-flags.html</a></p>\n\n<p>-Xms and -Xmx set the minimum and maximum sizes for the heap. Touted as a feature, Hotspot puts a cap on heap size to prevent it from blowing out your system. So once you figure out the max memory your app needs, you cap it to keep rogue code from impacting other apps. Use these flags like -Xmx512M, where the M stands for MB. If you don't include it, you're specifying bytes. Several flags use this format. You can also get a minor startup perf boost by setting minimum higher, since it doesn't have to grow the heap right away.</p>\n\n<p>-XX:MaxPermSize=###M sets the maximum \"permanent generation\" size. Hotspot is unusual in that several types of data get stored in the \"permanent generation\", a separate area of the heap that is only rarely (or never) garbage-collected. The list of perm-gen hosted data is a little fuzzy, but it generally contains things like class metadata, bytecode, interned strings, and so on (and this certainly varies across Hotspot versions). Because this generation is rarely or never collected, you may need to increase its size (or turn on perm-gen sweeping with a couple other flags). In JRuby especially we generate a lot of adapter bytecode, which usually demands more perm gen space.</p>\n"},{"tags":[],"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1324541716,"creation_date":1324541716,"answer_id":8601049,"question_id":8600972,"body_markdown":"**How to give your program more memory when running from Eclipse**\r\n\r\nGo to Run / Run Configurations. Select the run configuration for your program. Click on the tab &quot;Arguments&quot;. In the &quot;Program arguments&quot; area, add a `-Xmx` argument, for example `-Xmx2048m` to give your program a max. of 2048 MB (2 GB) memory.\r\n\r\n**How to prevent this memory problem**\r\n\r\nRe-write your program in such a way that it does not need to store so much data in memory. I haven&#39;t looked at your code in detail, but it looks like you&#39;re storing a lot of data in a `HashMap`; more than fits in memory when you have a lot of records.","title":"Increasing heap space in Eclipse: (java.lang.OutOfMemoryError)","body":"<p><strong>How to give your program more memory when running from Eclipse</strong></p>\n\n<p>Go to Run / Run Configurations. Select the run configuration for your program. Click on the tab \"Arguments\". In the \"Program arguments\" area, add a <code>-Xmx</code> argument, for example <code>-Xmx2048m</code> to give your program a max. of 2048 MB (2 GB) memory.</p>\n\n<p><strong>How to prevent this memory problem</strong></p>\n\n<p>Re-write your program in such a way that it does not need to store so much data in memory. I haven't looked at your code in detail, but it looks like you're storing a lot of data in a <code>HashMap</code>; more than fits in memory when you have a lot of records.</p>\n"},{"tags":[],"owner":{"account_id":406375,"reputation":5054,"user_id":775849,"display_name":"Jasonw"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1324543073,"creation_date":1324543073,"answer_id":8601254,"question_id":8600972,"body_markdown":"&gt; What to do if i have to processed even more that 500000 records ?\r\n\r\nThere are a few ways, to increase the java heap size for your app where a few have suggested already. Your app need to remove the elements from your adddressMap as your app add new element into it and so you won&#39;t encounter oom if there are more records coming in. Look for producer-consumer if you are interested.","title":"Increasing heap space in Eclipse: (java.lang.OutOfMemoryError)","body":"<blockquote>\n  <p>What to do if i have to processed even more that 500000 records ?</p>\n</blockquote>\n\n<p>There are a few ways, to increase the java heap size for your app where a few have suggested already. Your app need to remove the elements from your adddressMap as your app add new element into it and so you won't encounter oom if there are more records coming in. Look for producer-consumer if you are interested.</p>\n"},{"tags":[],"owner":{"account_id":341876,"reputation":3376,"user_id":672736,"accept_rate":70,"display_name":"Swagatika"},"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1324543242,"creation_date":1324543242,"answer_id":8601285,"question_id":8600972,"body_markdown":"In the Eclipse download folder make the entries in the `eclipse.ini` file :\r\n\r\n    --launcher.XXMaxPermSize\r\n    512M\r\n    -vmargs\r\n    -Dosgi.requiredJavaVersion=1.5\r\n    -Xms512m\r\n    -Xmx1024m\r\n\r\nor what ever values you want.","title":"Increasing heap space in Eclipse: (java.lang.OutOfMemoryError)","body":"<p>In the Eclipse download folder make the entries in the <code>eclipse.ini</code> file :</p>\n\n<pre><code>--launcher.XXMaxPermSize\n512M\n-vmargs\n-Dosgi.requiredJavaVersion=1.5\n-Xms512m\n-Xmx1024m\n</code></pre>\n\n<p>or what ever values you want.</p>\n"},{"tags":[],"owner":{"account_id":4237343,"reputation":1,"user_id":3468145,"display_name":"sunil dhunde"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395918139,"creation_date":1395916723,"answer_id":22685035,"question_id":8600972,"body_markdown":"I am not pro in Java but your problem can be solved by &quot;blockingqueue&quot; if you use it wisely. \r\n\r\nTry to retrieve a chunk of records first, process them, and iterate the process until you complete your processing. This may help you to get rid of the `OutOfMemory Exceptions`.","title":"Increasing heap space in Eclipse: (java.lang.OutOfMemoryError)","body":"<p>I am not pro in Java but your problem can be solved by \"blockingqueue\" if you use it wisely. </p>\n\n<p>Try to retrieve a chunk of records first, process them, and iterate the process until you complete your processing. This may help you to get rid of the <code>OutOfMemory Exceptions</code>.</p>\n"},{"tags":[],"owner":{"account_id":1798921,"reputation":1370,"user_id":1637694,"display_name":"rajlaxmi_jagdale"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1432120906,"creation_date":1432120906,"answer_id":30348187,"question_id":8600972,"body_markdown":"In Eclipse goto Run-&gt;Run Configuration find the Name of the class you have been running, select it, click the Target tab then in &quot;Additional Emulator Command Line Options&quot; add:\r\n\r\n-Xms512M -Xmx1524M\r\n\r\nthen click apply.","title":"Increasing heap space in Eclipse: (java.lang.OutOfMemoryError)","body":"<p>In Eclipse goto Run->Run Configuration find the Name of the class you have been running, select it, click the Target tab then in \"Additional Emulator Command Line Options\" add:</p>\n\n<p>-Xms512M -Xmx1524M</p>\n\n<p>then click apply.</p>\n"},{"tags":[],"owner":{"account_id":9606495,"reputation":1,"user_id":7132371,"display_name":"Виктор Виноградов"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1478620188,"creation_date":1478617728,"answer_id":40490316,"question_id":8600972,"body_markdown":"Go to &quot;Window -&gt; Preferences -&gt; General -&gt; C/C++ -&gt; Code analysis&quot;\r\nand disable &quot;Syntax and Semantics Errors -&gt; Abstract class cannot be instantiated&quot;","title":"Increasing heap space in Eclipse: (java.lang.OutOfMemoryError)","body":"<p>Go to \"Window -> Preferences -> General -> C/C++ -> Code analysis\"\nand disable \"Syntax and Semantics Errors -> Abstract class cannot be instantiated\"</p>\n"},{"tags":[],"owner":{"account_id":2020259,"reputation":464,"user_id":1806618,"display_name":"masarapmabuhay"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1482024015,"creation_date":1482024015,"answer_id":41204646,"question_id":8600972,"body_markdown":"You may want to close open projects in your Project Explorer. You can do this by right-clicking an open project, and selecting &quot;Close Project&quot;. \r\n\r\nThis is what worked for me after I noticed that I had to periodically increase the heap size in my_directory\\eclipse\\eclipse.ini.\r\n\r\nHope this helps! Peace!","title":"Increasing heap space in Eclipse: (java.lang.OutOfMemoryError)","body":"<p>You may want to close open projects in your Project Explorer. You can do this by right-clicking an open project, and selecting \"Close Project\". </p>\n\n<p>This is what worked for me after I noticed that I had to periodically increase the heap size in my_directory\\eclipse\\eclipse.ini.</p>\n\n<p>Hope this helps! Peace!</p>\n"},{"tags":[],"owner":{"account_id":6467614,"reputation":300,"user_id":6191695,"display_name":"Sahi Repswal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1514653060,"creation_date":1514653060,"answer_id":48036015,"question_id":8600972,"body_markdown":"In eclipse.ini file, make below entries\r\n\r\n-Xms512m\r\n\r\n-Xmx2048m\r\n\r\n-XX:MaxPermSize=1024m","title":"Increasing heap space in Eclipse: (java.lang.OutOfMemoryError)","body":"<p>In eclipse.ini file, make below entries</p>\n\n<p>-Xms512m</p>\n\n<p>-Xmx2048m</p>\n\n<p>-XX:MaxPermSize=1024m</p>\n"},{"tags":[],"owner":{"account_id":7618367,"reputation":1,"user_id":5777066,"display_name":"Srinivas Chilukuri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522989921,"creation_date":1522989921,"answer_id":49685468,"question_id":8600972,"body_markdown":"Sometimes the exception will not stop after you increase the memory in eclipse ini file. then try below option\r\n\r\nGo to Window &gt;&gt; Preferences &gt;&gt; MyEclipse &gt;&gt; Java Enterprise Project &gt;&gt; Web Project &gt;&gt; Deployment Tab\r\nUnder -&gt; Under Library Deployment Policies \r\nUnCheck -&gt; Jars from User Libraries","title":"Increasing heap space in Eclipse: (java.lang.OutOfMemoryError)","body":"<p>Sometimes the exception will not stop after you increase the memory in eclipse ini file. then try below option</p>\n\n<p>Go to Window >> Preferences >> MyEclipse >> Java Enterprise Project >> Web Project >> Deployment Tab\nUnder -> Under Library Deployment Policies \nUnCheck -> Jars from User Libraries</p>\n"},{"tags":[],"owner":{"account_id":1062360,"reputation":37721,"user_id":1063716,"accept_rate":94,"display_name":"Steve Chambers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587640691,"creation_date":1587640691,"answer_id":61385948,"question_id":8600972,"body_markdown":"The accepted solution of modifying a Run Configuration wasn&#39;t ideal for me as I have a few different run configurations and could easily forget to do this when adding further ones in future. Also I wanted the setting to apply whenever running anything, e.g. when running JUnit tests by right-clicking and selecting &quot;Run As&quot; -&gt; &quot;JUnit Test&quot;.\r\n\r\nThe above can be achieved by modifying the JRE/JDK settings instead:-\r\n\r\n 1. Go to Window -&gt; Preferences.\r\n 2. Select Java -&gt; Installed JREs\r\n 3. Select your default JRE (which could be a JDK) and click on &quot;Edit...&quot;\r\n 4. Change the &quot;Default VM arguments&quot; value as required, e.g. `-Xms512m -Xmx4G -XX:MaxPermSize=256M`","title":"Increasing heap space in Eclipse: (java.lang.OutOfMemoryError)","body":"<p>The accepted solution of modifying a Run Configuration wasn't ideal for me as I have a few different run configurations and could easily forget to do this when adding further ones in future. Also I wanted the setting to apply whenever running anything, e.g. when running JUnit tests by right-clicking and selecting \"Run As\" -> \"JUnit Test\".</p>\n\n<p>The above can be achieved by modifying the JRE/JDK settings instead:-</p>\n\n<ol>\n<li>Go to Window -> Preferences.</li>\n<li>Select Java -> Installed JREs</li>\n<li>Select your default JRE (which could be a JDK) and click on \"Edit...\"</li>\n<li>Change the \"Default VM arguments\" value as required, e.g. <code>-Xms512m -Xmx4G -XX:MaxPermSize=256M</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7439423,"reputation":91,"user_id":5657647,"display_name":"priyanka.b"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1599733011,"creation_date":1599733011,"answer_id":63827534,"question_id":8600972,"body_markdown":"Please make sure your code is fine. I too got stuck in this problem once and tried the solution accepted here but in vain. So I wrote my code again. Apparently I was using a custom array list and adding the values from an array. I tried changing the ArrayList to accept the primitive values only and it worked.\r\n ","title":"Increasing heap space in Eclipse: (java.lang.OutOfMemoryError)","body":"<p>Please make sure your code is fine. I too got stuck in this problem once and tried the solution accepted here but in vain. So I wrote my code again. Apparently I was using a custom array list and adding the values from an array. I tried changing the ArrayList to accept the primitive values only and it worked.</p>\n"},{"tags":[],"owner":{"account_id":19805547,"reputation":1,"user_id":14505545,"display_name":"Harish Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637141593,"creation_date":1637136726,"answer_id":70000823,"question_id":8600972,"body_markdown":"Enter the MAT folder. \r\nClick on the `MemoryAnalyzer.ini` file and change it from \r\n\r\n    -vmargs\r\n    -Xmx1024m\r\n\r\nto \r\n\r\n    -vmargs\r\n    -Xmx4096m\r\n\r\nand restart the MAT application. It will resolve your problem. \r\n","title":"Increasing heap space in Eclipse: (java.lang.OutOfMemoryError)","body":"<p>Enter the MAT folder.\nClick on the <code>MemoryAnalyzer.ini</code> file and change it from</p>\n<pre><code>-vmargs\n-Xmx1024m\n</code></pre>\n<p>to</p>\n<pre><code>-vmargs\n-Xmx4096m\n</code></pre>\n<p>and restart the MAT application. It will resolve your problem.</p>\n"}],"owner":{"account_id":109692,"reputation":3195,"user_id":290535,"accept_rate":66,"display_name":"chetan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":284079,"favorite_count":0,"down_vote_count":0,"up_vote_count":53,"accepted_answer_id":8601040,"answer_count":16,"score":53,"last_activity_date":1637141593,"creation_date":1324541232,"question_id":8600972,"body_markdown":"    try {\r\n        // CompareRecord record = new CompareRecord();\r\n        Connection conn = new CompareRecord().getConection(&quot;eliteddaprd&quot;,&quot;eliteddaprd&quot;,&quot;192.168.14.104&quot;,&quot;1521&quot;);\r\n        ResultSet res = null;\r\n\r\n        if (conn != null){\r\n            Statement stmt = conn.createStatement();\r\n            res = stmt.executeQuery(&quot;select rowindx,ADDRLINE1 from dedupinitial order by rowindx&quot;);\r\n        }\r\n\r\n        Map&lt;Integer,String&gt; adddressMap = new LinkedHashMap&lt;Integer, String&gt;();\r\n        if (res != null){\r\n            System.out.println(&quot;result set is not null &quot;);\r\n            while(res.next()){\r\n                adddressMap.put(res.getInt(1),res.getString(2));\r\n            }\r\n        }\r\n\r\n        System.out.println(&quot;address Map size =========&gt; &quot;+adddressMap.size());\r\n        Iterator it = adddressMap.entrySet().iterator();\r\n        int count = 0;\r\n        int min = 0;\r\n\r\n        while (it.hasNext()){\r\n            Map.Entry pairs = (Map.Entry)it.next();\r\n            Pattern p = Pattern.compile(&quot;[,\\\\s]+&quot;);\r\n            Integer outerkey = (Integer)pairs.getKey();\r\n            String outerValue = (String)pairs.getValue();\r\n            //System.out.println(&quot;outer Value ======&gt; &quot;+outerValue);\r\n\r\n            String[] outerresult = p.split(outerValue);\r\n            Map.Entry pairs2 = null;\r\n            count++;\r\n            List&lt;Integer&gt; dupList = new ArrayList&lt;Integer&gt;();\r\n\r\n            Iterator innerit = adddressMap.entrySet().iterator();\r\n            boolean first = true;\r\n\r\n            while (innerit.hasNext()){\r\n                //System.out.println(&quot;count value ===&gt; &quot;+count);\r\n                int totmatch = 0;\r\n                if(first){\r\n                    if(count == adddressMap.size()){\r\n                        break;\r\n                    }\r\n                    for(int i=0;i&lt;=count;i++){\r\n                        pairs2 = (Map.Entry)innerit.next();\r\n                    }\r\n                    first  = false;\r\n                }\r\n                else{\r\n                    pairs2 = (Map.Entry)innerit.next();\r\n                }\r\n                Integer innterKey = (Integer)pairs2.getKey();\r\n                String innerValue = (String)pairs2.getValue();\r\n                //System.out.println(&quot;innrer value &quot;+innerValue);\r\n                String[] innerresult = p.split(innerValue);\r\n\r\n                for(int j=0;j&lt;outerresult.length;j++){\r\n                    for(int k=0;k&lt;innerresult.length;k++){\r\n                        if(outerresult[j].equalsIgnoreCase(innerresult[k])){\r\n                            //System.out.println(outerresult[j]+&quot; Match With &quot;+innerresult[k]);\r\n                            totmatch++;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                min = Math.min(outerresult.length, innerresult.length);\r\n                if(min != 0 &amp;&amp; ((totmatch*100)/min) &gt; 50) {\r\n                    //System.out.println(&quot;maching inner key =========&gt; &quot;+innterKey);\r\n                    dupList.add(innterKey);\r\n                }\r\n            }\r\n            //System.out.println(&quot;Duplilcate List Sisze ===================&gt; &quot;+dupList.size()+&quot;   &quot;+outerkey);\r\n        }\r\n\r\n        System.out.println(&quot;End  =========&gt; &quot;+new Date());\r\n    }\r\n    catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\nHere ResultSet have processed around 500000 records, but it will give me error like:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space\r\n        at java.util.HashMap.resize(HashMap.java:508)\r\n        at java.util.LinkedHashMap.addEntry(LinkedHashMap.java:406)\r\n        at java.util.HashMap.put(HashMap.java:431)\r\n        at spite.CompareRecord.main(CompareRecord.java:91)\r\n\r\nI know this error comes because of VM memory, but don&#39;t know how to increase it in Eclipse?\r\n\r\nWhat do I do if I have to process even more than 500,000 records?\r\n","title":"Increasing heap space in Eclipse: (java.lang.OutOfMemoryError)","body":"<pre><code>try {\n    // CompareRecord record = new CompareRecord();\n    Connection conn = new CompareRecord().getConection(\"eliteddaprd\",\"eliteddaprd\",\"192.168.14.104\",\"1521\");\n    ResultSet res = null;\n\n    if (conn != null){\n        Statement stmt = conn.createStatement();\n        res = stmt.executeQuery(\"select rowindx,ADDRLINE1 from dedupinitial order by rowindx\");\n    }\n\n    Map&lt;Integer,String&gt; adddressMap = new LinkedHashMap&lt;Integer, String&gt;();\n    if (res != null){\n        System.out.println(\"result set is not null \");\n        while(res.next()){\n            adddressMap.put(res.getInt(1),res.getString(2));\n        }\n    }\n\n    System.out.println(\"address Map size =========&gt; \"+adddressMap.size());\n    Iterator it = adddressMap.entrySet().iterator();\n    int count = 0;\n    int min = 0;\n\n    while (it.hasNext()){\n        Map.Entry pairs = (Map.Entry)it.next();\n        Pattern p = Pattern.compile(\"[,\\\\s]+\");\n        Integer outerkey = (Integer)pairs.getKey();\n        String outerValue = (String)pairs.getValue();\n        //System.out.println(\"outer Value ======&gt; \"+outerValue);\n\n        String[] outerresult = p.split(outerValue);\n        Map.Entry pairs2 = null;\n        count++;\n        List&lt;Integer&gt; dupList = new ArrayList&lt;Integer&gt;();\n\n        Iterator innerit = adddressMap.entrySet().iterator();\n        boolean first = true;\n\n        while (innerit.hasNext()){\n            //System.out.println(\"count value ===&gt; \"+count);\n            int totmatch = 0;\n            if(first){\n                if(count == adddressMap.size()){\n                    break;\n                }\n                for(int i=0;i&lt;=count;i++){\n                    pairs2 = (Map.Entry)innerit.next();\n                }\n                first  = false;\n            }\n            else{\n                pairs2 = (Map.Entry)innerit.next();\n            }\n            Integer innterKey = (Integer)pairs2.getKey();\n            String innerValue = (String)pairs2.getValue();\n            //System.out.println(\"innrer value \"+innerValue);\n            String[] innerresult = p.split(innerValue);\n\n            for(int j=0;j&lt;outerresult.length;j++){\n                for(int k=0;k&lt;innerresult.length;k++){\n                    if(outerresult[j].equalsIgnoreCase(innerresult[k])){\n                        //System.out.println(outerresult[j]+\" Match With \"+innerresult[k]);\n                        totmatch++;\n                        break;\n                    }\n                }\n            }\n\n            min = Math.min(outerresult.length, innerresult.length);\n            if(min != 0 &amp;&amp; ((totmatch*100)/min) &gt; 50) {\n                //System.out.println(\"maching inner key =========&gt; \"+innterKey);\n                dupList.add(innterKey);\n            }\n        }\n        //System.out.println(\"Duplilcate List Sisze ===================&gt; \"+dupList.size()+\"   \"+outerkey);\n    }\n\n    System.out.println(\"End  =========&gt; \"+new Date());\n}\ncatch (Exception e) {\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>Here ResultSet have processed around 500000 records, but it will give me error like:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.OutOfMemoryError: Java heap space\n    at java.util.HashMap.resize(HashMap.java:508)\n    at java.util.LinkedHashMap.addEntry(LinkedHashMap.java:406)\n    at java.util.HashMap.put(HashMap.java:431)\n    at spite.CompareRecord.main(CompareRecord.java:91)\n</code></pre>\n\n<p>I know this error comes because of VM memory, but don't know how to increase it in Eclipse?</p>\n\n<p>What do I do if I have to process even more than 500,000 records?</p>\n"},{"tags":["java","spring","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":3,"creation_date":1637127148,"post_id":69999329,"comment_id":123739782,"body_markdown":"It smells like a bad design. Please provide more details.","body":"It smells like a bad design. Please provide more details."},{"owner":{"account_id":8803777,"reputation":2946,"user_id":6579116,"accept_rate":27,"display_name":"Pirate"},"score":0,"creation_date":1637127278,"post_id":69999329,"comment_id":123739800,"body_markdown":"@chrylis-cautiouslyoptimistic- why is it a bad design?","body":"@chrylis-cautiouslyoptimistic- why is it a bad design?"},{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1637127414,"post_id":69999329,"comment_id":123739821,"body_markdown":"@Pirate I&#39;m not saying it _is_, but this kind of pattern often indicates mixing together concepts that should either be separate or be organized differently.","body":"@Pirate I&#39;m not saying it <i>is</i>, but this kind of pattern often indicates mixing together concepts that should either be separate or be organized differently."},{"owner":{"account_id":8803777,"reputation":2946,"user_id":6579116,"accept_rate":27,"display_name":"Pirate"},"score":0,"creation_date":1637127534,"post_id":69999329,"comment_id":123739850,"body_markdown":"they are already organised differently, the problem it solved is that the the service layer doen&#39;t need to know what all repository we have. we can create master repository that will provide access to dao layer to provide all function that can be performed.","body":"they are already organised differently, the problem it solved is that the the service layer doen&#39;t need to know what all repository we have. we can create master repository that will provide access to dao layer to provide all function that can be performed."},{"owner":{"account_id":17763146,"reputation":352,"user_id":12898692,"display_name":"Akhilesh Magdum"},"score":0,"creation_date":1637128867,"post_id":69999329,"comment_id":123740148,"body_markdown":"@chrylis-cautiouslyoptimistic- the purpose of the repositoryClass is to fetch the sql queries from the repository1 and repository2 and then excute them, because of that I am autowiring those into the class","body":"@chrylis-cautiouslyoptimistic- the purpose of the repositoryClass is to fetch the sql queries from the repository1 and repository2 and then excute them, because of that I am autowiring those into the class"}],"answers":[{"tags":[],"owner":{"account_id":8803777,"reputation":2946,"user_id":6579116,"accept_rate":27,"display_name":"Pirate"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1637127440,"creation_date":1637127440,"answer_id":69999398,"question_id":69999329,"body_markdown":"It is fine to add multiple repository in the one class say master repository.\r\n\r\n    @Repository\r\n    public class MasterRepository {\r\n        @Autowired\r\n        private Repository1 repo1;\r\n        @Autowired\r\n        private Repository2 repo2;\r\n    }\r\n\r\nThe benefit you will get that you don&#39;t need to add every repository in every classes where you are using. You just autowired masterrepository and use that.","title":"Is it okay to Autowire multiple repositories into another repository in Spring Data JPA?","body":"<p>It is fine to add multiple repository in the one class say master repository.</p>\n<pre><code>@Repository\npublic class MasterRepository {\n    @Autowired\n    private Repository1 repo1;\n    @Autowired\n    private Repository2 repo2;\n}\n</code></pre>\n<p>The benefit you will get that you don't need to add every repository in every classes where you are using. You just autowired masterrepository and use that.</p>\n"},{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637134544,"creation_date":1637134544,"answer_id":70000418,"question_id":69999329,"body_markdown":"From [Microsoft][1] web site\r\n\r\n&gt; The Repository pattern is a well-documented way of working with a data\r\n&gt; source. In the book Patterns of Enterprise Application Architecture,\r\n&gt; Martin Fowler describes a repository as follows:\r\n&gt; \r\n&gt; A repository performs the tasks of an intermediary between the domain\r\n&gt; model layers and data mapping, acting in a similar way to a set of\r\n&gt; domain objects in memory. Client objects declaratively build queries\r\n&gt; and send them to the repositories for answers. Conceptually, a\r\n&gt; repository encapsulates a set of objects stored in the database and\r\n&gt; operations that can be performed on them, providing a way that is\r\n&gt; closer to the persistence layer. ***Repositories, also, support the\r\n&gt; purpose of separating, clearly and in one direction, the dependency\r\n&gt; between the work domain and the data allocation or mapping.***\r\n\r\nHere the most interesting part in my point of view, is the last sentence. The role of a design pattern (the [Repository Pattern][2] in  this case) is to make things simple by providing a proven solution. By doing as shown in your code, you are violating many principles such as `separation of concerns`, `single responsability principle` and `interface segregation`.\r\n\r\nKeep things simple as possible.\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/dotnet/architecture/microservices/microservice-ddd-cqrs-patterns/infrastructure-persistence-layer-design\r\n  [2]: https://java-design-patterns.com/patterns/repository/","title":"Is it okay to Autowire multiple repositories into another repository in Spring Data JPA?","body":"<p>From <a href=\"https://learn.microsoft.com/en-us/dotnet/architecture/microservices/microservice-ddd-cqrs-patterns/infrastructure-persistence-layer-design\" rel=\"nofollow noreferrer\">Microsoft</a> web site</p>\n<blockquote>\n<p>The Repository pattern is a well-documented way of working with a data\nsource. In the book Patterns of Enterprise Application Architecture,\nMartin Fowler describes a repository as follows:</p>\n<p>A repository performs the tasks of an intermediary between the domain\nmodel layers and data mapping, acting in a similar way to a set of\ndomain objects in memory. Client objects declaratively build queries\nand send them to the repositories for answers. Conceptually, a\nrepository encapsulates a set of objects stored in the database and\noperations that can be performed on them, providing a way that is\ncloser to the persistence layer. <em><strong>Repositories, also, support the\npurpose of separating, clearly and in one direction, the dependency\nbetween the work domain and the data allocation or mapping.</strong></em></p>\n</blockquote>\n<p>Here the most interesting part in my point of view, is the last sentence. The role of a design pattern (the <a href=\"https://java-design-patterns.com/patterns/repository/\" rel=\"nofollow noreferrer\">Repository Pattern</a> in  this case) is to make things simple by providing a proven solution. By doing as shown in your code, you are violating many principles such as <code>separation of concerns</code>, <code>single responsability principle</code> and <code>interface segregation</code>.</p>\n<p>Keep things simple as possible.</p>\n"},{"tags":[],"owner":{"account_id":23344101,"reputation":80,"user_id":17418656,"display_name":"qazimodo123"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1637141478,"creation_date":1637141478,"answer_id":70001870,"question_id":69999329,"body_markdown":"It&#39;s bad design. In addition to breaking many of the principles of SOLID this results in a very high coupling. Let&#39;s start by reviewing what repositories are made for:\r\n\r\n&gt; The repository pattern is pretty simple. An interface defines the repository with all logical read and write operations for a specific entity (e.g User).\r\n\r\nWe can conclude from this that repositories have one and only one responsibility which is CRUD&#39;s operations on specific entities. Then, based on the SRP principle, the reason to change the repository implementation is when the mapped entity changes (e.g we added new column to our user table and we want to acquire it from database) or we want to add some new function&#39;s to perform more CRUD operations (on the mapped entity!).\r\n \r\n\r\n\r\n[![diagrams][1]][1]\r\n\r\n[1]: https://i.stack.imgur.com/20yC4.png\r\n\r\nLook at **diagram1**, if you want to change something in *repository4*, you have to change *repository3*, *repository2* and *repository1*, so SRP principle is broken. It is an architectural disaster. This is due to the very high coupling between the different repositories. Now let&#39;s consider other design shown in **diagram 2**. Adapters are used to perform certain more complex operations using several repositories and to separate the application business layer from the data layer. If something changes in *repository4* we will have to change *SomeAdapterB* however this will not affect the business logic as the adapter is a kind of gateway to the application.\r\n\r\nIn summary do not make repositories dependent on each other. Use adapters. \r\n\r\nPS When you autowire dependencies in spring use constructor injection! ","title":"Is it okay to Autowire multiple repositories into another repository in Spring Data JPA?","body":"<p>It's bad design. In addition to breaking many of the principles of SOLID this results in a very high coupling. Let's start by reviewing what repositories are made for:</p>\n<blockquote>\n<p>The repository pattern is pretty simple. An interface defines the repository with all logical read and write operations for a specific entity (e.g User).</p>\n</blockquote>\n<p>We can conclude from this that repositories have one and only one responsibility which is CRUD's operations on specific entities. Then, based on the SRP principle, the reason to change the repository implementation is when the mapped entity changes (e.g we added new column to our user table and we want to acquire it from database) or we want to add some new function's to perform more CRUD operations (on the mapped entity!).</p>\n<p><a href=\"https://i.stack.imgur.com/20yC4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/20yC4.png\" alt=\"diagrams\" /></a></p>\n<p>Look at <strong>diagram1</strong>, if you want to change something in <em>repository4</em>, you have to change <em>repository3</em>, <em>repository2</em> and <em>repository1</em>, so SRP principle is broken. It is an architectural disaster. This is due to the very high coupling between the different repositories. Now let's consider other design shown in <strong>diagram 2</strong>. Adapters are used to perform certain more complex operations using several repositories and to separate the application business layer from the data layer. If something changes in <em>repository4</em> we will have to change <em>SomeAdapterB</em> however this will not affect the business logic as the adapter is a kind of gateway to the application.</p>\n<p>In summary do not make repositories dependent on each other. Use adapters.</p>\n<p>PS When you autowire dependencies in spring use constructor injection!</p>\n"}],"owner":{"account_id":17763146,"reputation":352,"user_id":12898692,"display_name":"Akhilesh Magdum"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1820,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70001870,"answer_count":3,"score":3,"last_activity_date":1637141478,"creation_date":1637126729,"question_id":69999329,"body_markdown":"Is it okay to autowire multiple repositories (JPA interface) into another repository (class) as shown below\r\n\r\n    @Repository\r\n    public class repositoryClass {\r\n    @Autowired\r\n    private Repository1 repo1;\r\n    @Autowired\r\n    private Repository2 repo2;\r\n    }\r\nHere repository 1 and 2 are Spring Data JpaRepository interfaces\r\n\r\nThe purpose of the repositoryClass is to fetch the sql queries from the repository1 and repository2 and then execute them using hibernate, because of that I am autowiring the repo1 and repo2 into the repositoryClass\r\n","title":"Is it okay to Autowire multiple repositories into another repository in Spring Data JPA?","body":"<p>Is it okay to autowire multiple repositories (JPA interface) into another repository (class) as shown below</p>\n<pre><code>@Repository\npublic class repositoryClass {\n@Autowired\nprivate Repository1 repo1;\n@Autowired\nprivate Repository2 repo2;\n}\n</code></pre>\n<p>Here repository 1 and 2 are Spring Data JpaRepository interfaces</p>\n<p>The purpose of the repositoryClass is to fetch the sql queries from the repository1 and repository2 and then execute them using hibernate, because of that I am autowiring the repo1 and repo2 into the repositoryClass</p>\n"},{"tags":["java","unit-testing","junit","mockito"],"answers":[{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637141388,"creation_date":1637141388,"answer_id":70001858,"question_id":70001771,"body_markdown":"Here:\r\n\r\n    verify(requestListServiceImpl)\r\n\r\nAnd\r\n\r\n    @InjectMocks\r\n    RequestListServiceImpl requestListServiceImpl;\r\n\r\nThe message is pretty clear: you **verify** **mock** objects that Mockito created for you. \r\n\r\n@InjectMocks does **not** create mocks. It rather **injects** mocks that you have in your test class **into** a real object. \r\n\r\nSo, what is necessary here: read the manual or a tutorial. Meaning: don&#39;t start with Mockito by applying it immediately to your project. Instead, step back, and look at simple examples to understand *how* it is supposed to be used.\r\n\r\nIn your current setup: `requestListServiceImpl` is a real object. So you should check if that class offers you methods to **verify** its internal status. You triggered some action on it, but because it is a real object, Mockito doesn&#39;t know what you did. But how to actually solve this depends on YOUR code base.","title":"About @InjectMocks and @Mock","body":"<p>Here:</p>\n<pre><code>verify(requestListServiceImpl)\n</code></pre>\n<p>And</p>\n<pre><code>@InjectMocks\nRequestListServiceImpl requestListServiceImpl;\n</code></pre>\n<p>The message is pretty clear: you <strong>verify</strong> <strong>mock</strong> objects that Mockito created for you.</p>\n<p>@InjectMocks does <strong>not</strong> create mocks. It rather <strong>injects</strong> mocks that you have in your test class <strong>into</strong> a real object.</p>\n<p>So, what is necessary here: read the manual or a tutorial. Meaning: don't start with Mockito by applying it immediately to your project. Instead, step back, and look at simple examples to understand <em>how</em> it is supposed to be used.</p>\n<p>In your current setup: <code>requestListServiceImpl</code> is a real object. So you should check if that class offers you methods to <strong>verify</strong> its internal status. You triggered some action on it, but because it is a real object, Mockito doesn't know what you did. But how to actually solve this depends on YOUR code base.</p>\n"},{"tags":[],"owner":{"account_id":15338340,"reputation":1012,"user_id":11066033,"display_name":"Willem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637141469,"creation_date":1637141469,"answer_id":70001868,"question_id":70001771,"body_markdown":"You want to test `requestListServiceImpl` you should use @InjectMocks so mockito calls the real method on `requestListServiceImpl`. When you use @Mock, the method will by default not be invoked.\r\n`@InjectMocks` will be the same as if you create it yourself with `new requestListServiceImpl(mock(requestListDao))`\r\n\r\nWhen you use `verify(mock).someMethod();` you have to pass a mock to that method, not @InjectMocks.\r\nYou want to verify if a certain method is called on a mock inside your class under test(`requestListServiceImpl`).\r\n\r\nInstead of @InjectMocks there is also @Spy, which will kinda do both, you can mock methods in `requestListServiceImpl` but also call the real method.","title":"About @InjectMocks and @Mock","body":"<p>You want to test <code>requestListServiceImpl</code> you should use @InjectMocks so mockito calls the real method on <code>requestListServiceImpl</code>. When you use @Mock, the method will by default not be invoked.\n<code>@InjectMocks</code> will be the same as if you create it yourself with <code>new requestListServiceImpl(mock(requestListDao))</code></p>\n<p>When you use <code>verify(mock).someMethod();</code> you have to pass a mock to that method, not @InjectMocks.\nYou want to verify if a certain method is called on a mock inside your class under test(<code>requestListServiceImpl</code>).</p>\n<p>Instead of @InjectMocks there is also @Spy, which will kinda do both, you can mock methods in <code>requestListServiceImpl</code> but also call the real method.</p>\n"}],"owner":{"account_id":23354074,"reputation":1,"user_id":17427296,"display_name":"Junhong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":955,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1637141469,"creation_date":1637141015,"question_id":70001771,"body_markdown":"I want to test requestListServiceImpl this class.It contains requestListDao.\r\n\r\nRequestListServiceImpl Code\r\n```\r\n@Override\r\n\tpublic PageInfo&lt;RequestList&gt; getAllRequest(int startPage, int pageSize, String accountName,String userName) {\r\n\t\tPageHelper.startPage(startPage, pageSize);\r\n\t\tList&lt;RequestList&gt; list=requestListDao.getAllRequest(accountName,userName);\r\n\t\tfor(RequestList requestList:list) {\r\n\t\t\tswitch (requestList.getStatus()) {\r\n\t\t\tcase &quot;0&quot;:\r\n\t\t\t\trequestList.setStatus(&quot;Waiting&quot;);\r\n\t\t\t\tbreak;\r\n\t\t\tcase &quot;1&quot;:\r\n\t\t\t\trequestList.setStatus(&quot;Closed&quot;);\t\t\r\n\t\t\t\tbreak;\r\n\t\t\tcase &quot;2&quot;:\r\n\t\t\t\trequestList.setStatus(&quot;Cancel&quot;);\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\trequestList.setStatus(&quot;NAN&quot;);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tPageInfo&lt;RequestList&gt; pageInfo = new PageInfo&lt;RequestList&gt;(list);\r\n\t\treturn pageInfo;\r\n\t}\r\n\r\n@Override\r\n\tpublic void createRequest(RequestList requestList) {\r\n\t\tInteger coount=requestListDao.getTime(requestList.getCreateName());\r\n//\t\tAWSSnsUtil.sendMassageToSns(requestList.getAccountName());\r\n\t\trequestList.setTime(++coount);\r\n\t\trequestListDao.createRequest(requestList);\r\n\t}\r\n\r\n```\r\nTest Code:\r\n```\r\n    @InjectMocks\r\n    RequestListServiceImpl requestListServiceImpl;\r\n    @Mock\r\n    RequestListDao requestListDao;\r\n\r\n @Before\r\n    public void setup(){\r\n        MockitoAnnotations.openMocks(this);\r\n    }\r\n\r\n\r\n    @Test  //it&#39;s ok \r\n    public void testGetAllRequest() throws Exception {\r\n        RequestList r=new RequestList();\r\n        r.setStatus(&quot;0&quot;);\r\n        when(requestListDao.getAllRequest(anyString(), anyString())).thenReturn(Arrays.&lt;RequestList&gt;asList(r));\r\n        PageInfo&lt;RequestList&gt; res=requestListServiceImpl.getAllRequest(1,1,&quot;1&quot;,&quot;1&quot;);\r\n        Assert.assertNotNull(res);\r\n\r\n\r\n    }\r\n\r\n @Test   //this test is error, the error is requestListServiceImpl is not mock.\r\n    public void testCreateRequest() throws Exception {\r\n        when(requestListDao.getTime(anyString())).thenReturn(0);\r\n        RequestList r=new RequestList();\r\n        r.setCreateName(&quot;demo&quot;);\r\n        requestListServiceImpl.createRequest(r);\r\n        verify(requestListServiceImpl).createRequest(r);\r\n\r\n    }\r\n```\r\nError info\r\n```\r\norg.mockito.exceptions.misusing.NotAMockException: \r\nArgument passed to verify() is of type RequestListServiceImpl and is not a mock!\r\nMake sure you place the parenthesis correctly!\r\nSee the examples of correct verifications:\r\n    verify(mock).someMethod();\r\n    verify(mock, times(10)).someMethod();\r\n    verify(mock, atLeastOnce()).someMethod();\r\n```\r\nWhen i change @InjectMocks to @Mock, The second test it&#39;s ok ,but first test it&#39;s error.\r\nI need add to a stubbing ``when(requestListServiceImpl.getAllRequest(anyInt(),anyInt(),anyString(),anyString())).thenReturn(new PageInfo&lt;&gt;());``\r\n\r\nI don&#39;t know how to do it, \r\n\r\nIs injectmocks necessary？","title":"About @InjectMocks and @Mock","body":"<p>I want to test requestListServiceImpl this class.It contains requestListDao.</p>\n<p>RequestListServiceImpl Code</p>\n<pre><code>@Override\n    public PageInfo&lt;RequestList&gt; getAllRequest(int startPage, int pageSize, String accountName,String userName) {\n        PageHelper.startPage(startPage, pageSize);\n        List&lt;RequestList&gt; list=requestListDao.getAllRequest(accountName,userName);\n        for(RequestList requestList:list) {\n            switch (requestList.getStatus()) {\n            case &quot;0&quot;:\n                requestList.setStatus(&quot;Waiting&quot;);\n                break;\n            case &quot;1&quot;:\n                requestList.setStatus(&quot;Closed&quot;);        \n                break;\n            case &quot;2&quot;:\n                requestList.setStatus(&quot;Cancel&quot;);\n                break;\n            default:\n                requestList.setStatus(&quot;NAN&quot;);\n                break;\n            }\n        }\n        PageInfo&lt;RequestList&gt; pageInfo = new PageInfo&lt;RequestList&gt;(list);\n        return pageInfo;\n    }\n\n@Override\n    public void createRequest(RequestList requestList) {\n        Integer coount=requestListDao.getTime(requestList.getCreateName());\n//      AWSSnsUtil.sendMassageToSns(requestList.getAccountName());\n        requestList.setTime(++coount);\n        requestListDao.createRequest(requestList);\n    }\n\n</code></pre>\n<p>Test Code:</p>\n<pre><code>    @InjectMocks\n    RequestListServiceImpl requestListServiceImpl;\n    @Mock\n    RequestListDao requestListDao;\n\n @Before\n    public void setup(){\n        MockitoAnnotations.openMocks(this);\n    }\n\n\n    @Test  //it's ok \n    public void testGetAllRequest() throws Exception {\n        RequestList r=new RequestList();\n        r.setStatus(&quot;0&quot;);\n        when(requestListDao.getAllRequest(anyString(), anyString())).thenReturn(Arrays.&lt;RequestList&gt;asList(r));\n        PageInfo&lt;RequestList&gt; res=requestListServiceImpl.getAllRequest(1,1,&quot;1&quot;,&quot;1&quot;);\n        Assert.assertNotNull(res);\n\n\n    }\n\n @Test   //this test is error, the error is requestListServiceImpl is not mock.\n    public void testCreateRequest() throws Exception {\n        when(requestListDao.getTime(anyString())).thenReturn(0);\n        RequestList r=new RequestList();\n        r.setCreateName(&quot;demo&quot;);\n        requestListServiceImpl.createRequest(r);\n        verify(requestListServiceImpl).createRequest(r);\n\n    }\n</code></pre>\n<p>Error info</p>\n<pre><code>org.mockito.exceptions.misusing.NotAMockException: \nArgument passed to verify() is of type RequestListServiceImpl and is not a mock!\nMake sure you place the parenthesis correctly!\nSee the examples of correct verifications:\n    verify(mock).someMethod();\n    verify(mock, times(10)).someMethod();\n    verify(mock, atLeastOnce()).someMethod();\n</code></pre>\n<p>When i change @InjectMocks to @Mock, The second test it's ok ,but first test it's error.\nI need add to a stubbing <code>when(requestListServiceImpl.getAllRequest(anyInt(),anyInt(),anyString(),anyString())).thenReturn(new PageInfo&lt;&gt;());</code></p>\n<p>I don't know how to do it,</p>\n<p>Is injectmocks necessary？</p>\n"},{"tags":["java","spring-boot","exception","spring-aop","controller-advice"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1636709626,"post_id":69940574,"comment_id":123634133,"body_markdown":"According to your log your exception handler throws an exception as well (read the warning) `Failure in @ExceptionHandler com.obs.dqsc.api.controller.GlobalExceptionHandler#loggingAspectThrowableExceptionHandler(Exception, WebRequest)`. So the exception is handled, leading to another exception because it cannot handle it properly .","body":"According to your log your exception handler throws an exception as well (read the warning) <code>Failure in @ExceptionHandler com.obs.dqsc.api.controller.GlobalExceptionHandler#loggingAs&zwnj;&#8203;pectThrowableExcepti&zwnj;&#8203;onHandler(Exception, WebRequest)</code>. So the exception is handled, leading to another exception because it cannot handle it properly ."}],"answers":[{"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1637141308,"creation_date":1636709506,"answer_id":69940689,"question_id":69940574,"body_markdown":"I don&#39;t know why, but all what I had to do is to place my advice controller on the root of my project, next to the main Class (ApiApplication), and now he is able to catch the exceptions of my aspect class: \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Gd6U6.png","title":"spring boot @ExceptionHandler not catching exceptions throwed in @Aspect classes","body":"<p>I don't know why, but all what I had to do is to place my advice controller on the root of my project, next to the main Class (ApiApplication), and now he is able to catch the exceptions of my aspect class:</p>\n<p><a href=\"https://i.stack.imgur.com/Gd6U6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Gd6U6.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":22649232,"reputation":1287,"user_id":16824146,"display_name":"mr.Penguin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3193,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69940689,"answer_count":1,"score":0,"last_activity_date":1637141308,"creation_date":1636709078,"question_id":69940574,"body_markdown":"I have an aspect class that log executions of methods before and after (around) using a generic method : \r\n\r\n    @Aspect\r\n    @Component\r\n    public class LoggingAspect {\r\n        @Around(&quot;com.obs.dqsc.api.config.AspectConfig.allLayers()&quot;)\r\n        public Object logMethod(final ProceedingJoinPoint joinPoint) throws Throwable {\r\n            final Class&lt;?&gt; targetClass = joinPoint.getTarget().getClass();\r\n            final Logger logger = LoggerFactory.getLogger(targetClass);\r\n    \r\n            try {\r\n                testException();\r\n                final String className = targetClass.getSimpleName();\r\n                logger.info(getPreMessage(joinPoint, className));\r\n    \r\n                final StopWatch stopWatch = new StopWatch();\r\n                stopWatch.start();\r\n    \r\n                final Object retVal = joinPoint.proceed();\r\n                stopWatch.stop();\r\n    \r\n                logger.info(getPostMessage(joinPoint, className, stopWatch.getTotalTimeMillis()));\r\n    \r\n                return retVal;\r\n            } catch (final Throwable ex) {\r\n                throw new LoggingAspectThrowableException(ex.getMessage());\r\n            }\r\n        }\r\n    \r\n        private void testException() throws Throwable {\r\n            throw  new Throwable(&quot;test test test tes&quot;);\r\n        }\r\n        ...\r\n    }\r\n\r\nIn the `testException()` method I&#39;m throwing a Throwable Exception that I catch in logMethod, and throw a custom exception instead of type `LoggingAspectThrowableException()`\r\n\r\nIn my controller advice I have this: \r\n\r\n    @ExceptionHandler({LoggingAspectThrowableException.class})\r\n    public ResponseEntity&lt;ErrorMessage&gt; loggingAspectThrowableExceptionHandler(Exception ex, WebRequest request) {\r\n        ErrorMessage message = getErrorMessage(ex, request, ErrorCode.ASPECT_LOGGING_EXCEPTION, HttpStatus.INTERNAL_SERVER_ERROR);\r\n        LOG.error(ex.getMessage());\r\n        return new ResponseEntity&lt;&gt;(message, HttpStatus.INTERNAL_SERVER_ERROR);\r\n    }\r\n\r\nthe ErrorMessage class is a custom message that I&#39;m using to return a well formatted error message to the client :\r\n\r\n    public class ErrorMessage {\r\n        private ErrorCode errorCode;\r\n        private int statusCode;\r\n        private Date timestamp;\r\n        private String message;\r\n        private String description;\r\n    }\r\n\r\nAfter calling a controller method, as expected the exception is throwed inside my testException() method, but the @ControllerAdvice is not able to interpret it to return a custom message.\r\n\r\nPostman response: \r\n[![enter image description here][1]][1]\r\n\r\n\r\nProject structure: \r\n\r\n[![enter image description here][2]][2]\r\n\r\nConsole: \r\n\r\n    WARN |2021-11-12T09:09:38,831|7CC3A7840A30400CA6399AC297279641| [http-nio-9090-exec-1] org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver - Failure in @ExceptionHandler com.obs.dqsc.api.controller.GlobalExceptionHandler#loggingAspectThrowableExceptionHandler(Exception, WebRequest)\r\n    com.obs.dqsc.api.exception.technical.LoggingAspectThrowableException: test test test tes\r\n    \tat com.obs.dqsc.api.aspect.LoggingAspect.logMethod(LoggingAspect.java:42) ~[classes/:?]\r\n    \tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n    \tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[?:?]\r\n    \tat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:567) ~[?:?]\r\n    \tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634) ~[spring-aop-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624) ~[spring-aop-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72) ~[spring-aop-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692) ~[spring-aop-5.3.10.jar:5.3.10]\r\n    \tat com.obs.dqsc.api.controller.GlobalExceptionHandler$$EnhancerBySpringCGLIB$$945b23b3.loggingAspectThrowableExceptionHandler(&lt;generated&gt;) ~[classes/:?]\r\n    \tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n    \tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[?:?]\r\n    \tat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:567) ~[?:?]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException(ExceptionHandlerExceptionResolver.java:428) [spring-webmvc-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.web.servlet.handler.AbstractHandlerMethodExceptionResolver.doResolveException(AbstractHandlerMethodExceptionResolver.java:75) [spring-webmvc-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:141) [spring-webmvc-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:80) [spring-webmvc-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1327) [spring-webmvc-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1138) [spring-webmvc-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1084) [spring-webmvc-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) [spring-webmvc-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) [spring-webmvc-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) [spring-webmvc-5.3.10.jar:5.3.10]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655) [tomcat-embed-core-9.0.53.jar:4.0.FR]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) [spring-webmvc-5.3.10.jar:5.3.10]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) [tomcat-embed-core-9.0.53.jar:4.0.FR]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) [tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) [tomcat-embed-websocket-9.0.53.jar:9.0.53]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat com.obs.dqsc.api.controller.filter.Slf4jMDCFilter.doFilterInternal(Slf4jMDCFilter.java:60) [classes/:?]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.10.jar:5.3.10]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.10.jar:5.3.10]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.10.jar:5.3.10]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.10.jar:5.3.10]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) [tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) [tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) [tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) [tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) [tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1726) [tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat java.lang.Thread.run(Thread.java:831) [?:?]\r\n    ERROR|2021-11-12T09:09:38,840|| [http-nio-9090-exec-1] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is com.obs.dqsc.api.exception.technical.LoggingAspectThrowableException: test test test tes] with root cause\r\n    com.obs.dqsc.api.exception.technical.LoggingAspectThrowableException: test test test tes\r\n    \tat com.obs.dqsc.api.aspect.LoggingAspect.logMethod(LoggingAspect.java:42) ~[classes/:?]\r\n    \tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n    \tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[?:?]\r\n    \tat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:567) ~[?:?]\r\n    \tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634) ~[spring-aop-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624) ~[spring-aop-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72) ~[spring-aop-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692) ~[spring-aop-5.3.10.jar:5.3.10]\r\n    \tat com.obs.dqsc.api.controller.CustomerController$$EnhancerBySpringCGLIB$$bea9c247.findAllCustomers(&lt;generated&gt;) ~[classes/:?]\r\n    \tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n    \tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[?:?]\r\n    \tat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:567) ~[?:?]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.10.jar:5.3.10]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.53.jar:4.0.FR]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.10.jar:5.3.10]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.53.jar:4.0.FR]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.53.jar:9.0.53]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat com.obs.dqsc.api.controller.filter.Slf4jMDCFilter.doFilterInternal(Slf4jMDCFilter.java:60) ~[classes/:?]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) [tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) [tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) [tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) [tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) [tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1726) [tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.53.jar:9.0.53]\r\n    \tat java.lang.Thread.run(Thread.java:831) [?:?]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/s0XvO.png\r\n  [2]: https://i.stack.imgur.com/g99Ru.png","title":"spring boot @ExceptionHandler not catching exceptions throwed in @Aspect classes","body":"<p>I have an aspect class that log executions of methods before and after (around) using a generic method :</p>\n<pre><code>@Aspect\n@Component\npublic class LoggingAspect {\n    @Around(&quot;com.obs.dqsc.api.config.AspectConfig.allLayers()&quot;)\n    public Object logMethod(final ProceedingJoinPoint joinPoint) throws Throwable {\n        final Class&lt;?&gt; targetClass = joinPoint.getTarget().getClass();\n        final Logger logger = LoggerFactory.getLogger(targetClass);\n\n        try {\n            testException();\n            final String className = targetClass.getSimpleName();\n            logger.info(getPreMessage(joinPoint, className));\n\n            final StopWatch stopWatch = new StopWatch();\n            stopWatch.start();\n\n            final Object retVal = joinPoint.proceed();\n            stopWatch.stop();\n\n            logger.info(getPostMessage(joinPoint, className, stopWatch.getTotalTimeMillis()));\n\n            return retVal;\n        } catch (final Throwable ex) {\n            throw new LoggingAspectThrowableException(ex.getMessage());\n        }\n    }\n\n    private void testException() throws Throwable {\n        throw  new Throwable(&quot;test test test tes&quot;);\n    }\n    ...\n}\n</code></pre>\n<p>In the <code>testException()</code> method I'm throwing a Throwable Exception that I catch in logMethod, and throw a custom exception instead of type <code>LoggingAspectThrowableException()</code></p>\n<p>In my controller advice I have this:</p>\n<pre><code>@ExceptionHandler({LoggingAspectThrowableException.class})\npublic ResponseEntity&lt;ErrorMessage&gt; loggingAspectThrowableExceptionHandler(Exception ex, WebRequest request) {\n    ErrorMessage message = getErrorMessage(ex, request, ErrorCode.ASPECT_LOGGING_EXCEPTION, HttpStatus.INTERNAL_SERVER_ERROR);\n    LOG.error(ex.getMessage());\n    return new ResponseEntity&lt;&gt;(message, HttpStatus.INTERNAL_SERVER_ERROR);\n}\n</code></pre>\n<p>the ErrorMessage class is a custom message that I'm using to return a well formatted error message to the client :</p>\n<pre><code>public class ErrorMessage {\n    private ErrorCode errorCode;\n    private int statusCode;\n    private Date timestamp;\n    private String message;\n    private String description;\n}\n</code></pre>\n<p>After calling a controller method, as expected the exception is throwed inside my testException() method, but the @ControllerAdvice is not able to interpret it to return a custom message.</p>\n<p>Postman response:\n<a href=\"https://i.stack.imgur.com/s0XvO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/s0XvO.png\" alt=\"enter image description here\" /></a></p>\n<p>Project structure:</p>\n<p><a href=\"https://i.stack.imgur.com/g99Ru.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/g99Ru.png\" alt=\"enter image description here\" /></a></p>\n<p>Console:</p>\n<pre><code>WARN |2021-11-12T09:09:38,831|7CC3A7840A30400CA6399AC297279641| [http-nio-9090-exec-1] org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver - Failure in @ExceptionHandler com.obs.dqsc.api.controller.GlobalExceptionHandler#loggingAspectThrowableExceptionHandler(Exception, WebRequest)\ncom.obs.dqsc.api.exception.technical.LoggingAspectThrowableException: test test test tes\n    at com.obs.dqsc.api.aspect.LoggingAspect.logMethod(LoggingAspect.java:42) ~[classes/:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[?:?]\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n    at java.lang.reflect.Method.invoke(Method.java:567) ~[?:?]\n    at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634) ~[spring-aop-5.3.10.jar:5.3.10]\n    at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624) ~[spring-aop-5.3.10.jar:5.3.10]\n    at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72) ~[spring-aop-5.3.10.jar:5.3.10]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.10.jar:5.3.10]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-5.3.10.jar:5.3.10]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.10.jar:5.3.10]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.10.jar:5.3.10]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-5.3.10.jar:5.3.10]\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692) ~[spring-aop-5.3.10.jar:5.3.10]\n    at com.obs.dqsc.api.controller.GlobalExceptionHandler$$EnhancerBySpringCGLIB$$945b23b3.loggingAspectThrowableExceptionHandler(&lt;generated&gt;) ~[classes/:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[?:?]\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n    at java.lang.reflect.Method.invoke(Method.java:567) ~[?:?]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.10.jar:5.3.10]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.10.jar:5.3.10]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.10.jar:5.3.10]\n    at org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException(ExceptionHandlerExceptionResolver.java:428) [spring-webmvc-5.3.10.jar:5.3.10]\n    at org.springframework.web.servlet.handler.AbstractHandlerMethodExceptionResolver.doResolveException(AbstractHandlerMethodExceptionResolver.java:75) [spring-webmvc-5.3.10.jar:5.3.10]\n    at org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:141) [spring-webmvc-5.3.10.jar:5.3.10]\n    at org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:80) [spring-webmvc-5.3.10.jar:5.3.10]\n    at org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1327) [spring-webmvc-5.3.10.jar:5.3.10]\n    at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1138) [spring-webmvc-5.3.10.jar:5.3.10]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1084) [spring-webmvc-5.3.10.jar:5.3.10]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) [spring-webmvc-5.3.10.jar:5.3.10]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) [spring-webmvc-5.3.10.jar:5.3.10]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) [spring-webmvc-5.3.10.jar:5.3.10]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) [tomcat-embed-core-9.0.53.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) [spring-webmvc-5.3.10.jar:5.3.10]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) [tomcat-embed-core-9.0.53.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) [tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) [tomcat-embed-websocket-9.0.53.jar:9.0.53]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.53.jar:9.0.53]\n    at com.obs.dqsc.api.controller.filter.Slf4jMDCFilter.doFilterInternal(Slf4jMDCFilter.java:60) [classes/:?]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.10.jar:5.3.10]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.3.10.jar:5.3.10]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.10.jar:5.3.10]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.3.10.jar:5.3.10]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.10.jar:5.3.10]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.3.10.jar:5.3.10]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.10.jar:5.3.10]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) [tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) [tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) [tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) [tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) [tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1726) [tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.53.jar:9.0.53]\n    at java.lang.Thread.run(Thread.java:831) [?:?]\nERROR|2021-11-12T09:09:38,840|| [http-nio-9090-exec-1] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is com.obs.dqsc.api.exception.technical.LoggingAspectThrowableException: test test test tes] with root cause\ncom.obs.dqsc.api.exception.technical.LoggingAspectThrowableException: test test test tes\n    at com.obs.dqsc.api.aspect.LoggingAspect.logMethod(LoggingAspect.java:42) ~[classes/:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[?:?]\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n    at java.lang.reflect.Method.invoke(Method.java:567) ~[?:?]\n    at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634) ~[spring-aop-5.3.10.jar:5.3.10]\n    at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624) ~[spring-aop-5.3.10.jar:5.3.10]\n    at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72) ~[spring-aop-5.3.10.jar:5.3.10]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.10.jar:5.3.10]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-5.3.10.jar:5.3.10]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.10.jar:5.3.10]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.10.jar:5.3.10]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-5.3.10.jar:5.3.10]\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692) ~[spring-aop-5.3.10.jar:5.3.10]\n    at com.obs.dqsc.api.controller.CustomerController$$EnhancerBySpringCGLIB$$bea9c247.findAllCustomers(&lt;generated&gt;) ~[classes/:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[?:?]\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n    at java.lang.reflect.Method.invoke(Method.java:567) ~[?:?]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.10.jar:5.3.10]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.10.jar:5.3.10]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.10.jar:5.3.10]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.10.jar:5.3.10]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.10.jar:5.3.10]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.10.jar:5.3.10]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.10.jar:5.3.10]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.10.jar:5.3.10]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.10.jar:5.3.10]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.10.jar:5.3.10]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.53.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.10.jar:5.3.10]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.53.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.53.jar:9.0.53]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at com.obs.dqsc.api.controller.filter.Slf4jMDCFilter.doFilterInternal(Slf4jMDCFilter.java:60) ~[classes/:?]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.10.jar:5.3.10]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.10.jar:5.3.10]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.10.jar:5.3.10]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) [tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) [tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) [tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) [tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) [tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1726) [tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.53.jar:9.0.53]\n    at java.lang.Thread.run(Thread.java:831) [?:?]\n</code></pre>\n"},{"tags":["java","spring","validation","spring-boot","bean-validation"],"comments":[{"owner":{"account_id":14361012,"reputation":834,"user_id":10373317,"display_name":"GauravRai1512"},"score":0,"creation_date":1541499681,"post_id":53169794,"comment_id":93229526,"body_markdown":"Can you please specify the purpose of this validation? After that i can provide you a solution for that.","body":"Can you please specify the purpose of this validation? After that i can provide you a solution for that."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1541500192,"post_id":53169794,"comment_id":93229823,"body_markdown":"@GauravRai1512 It defines which rules to use for validation","body":"@GauravRai1512 It defines which rules to use for validation"},{"owner":{"account_id":14361012,"reputation":834,"user_id":10373317,"display_name":"GauravRai1512"},"score":0,"creation_date":1541500266,"post_id":53169794,"comment_id":93229875,"body_markdown":"I have added few points might help you.","body":"I have added few points might help you."}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1637141173,"creation_date":1541499148,"question_id":53169794,"body_markdown":"I have code like this:\r\n\r\n    @PutMapping(&quot;/create&quot;)\r\n    public void create(@RequestBody @Validated(MyValidationGroup.class) MyDto myDto) {\r\n    ...\r\n    }\r\n    \r\nAs you can see I use validation group for validation. My question related with code organization.I don&#39;t have ideas where to put validation group interface. Where to put interface `MyValidationGroup`?","title":"Where to put validation group interface?","body":"<p>I have code like this:</p>\n\n<pre><code>@PutMapping(\"/create\")\npublic void create(@RequestBody @Validated(MyValidationGroup.class) MyDto myDto) {\n...\n}\n</code></pre>\n\n<p>As you can see I use validation group for validation. My question related with code organization.I don't have ideas where to put validation group interface. Where to put interface <code>MyValidationGroup</code>?</p>\n"},{"tags":["java","ssl","memory-leaks","netty"],"answers":[{"tags":[],"owner":{"account_id":1075943,"reputation":23262,"user_id":1074097,"display_name":"Norman Maurer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1608222680,"creation_date":1608222680,"answer_id":65344644,"question_id":65342487,"body_markdown":"I suspect the problem may be that you create a new `SslContext` object per connection. You should create it once and then share it. ","title":"Java Netty: memory leak problem with DefaultChannelHandlerContext","body":"<p>I suspect the problem may be that you create a new <code>SslContext</code> object per connection. You should create it once and then share it.</p>\n"},{"tags":[],"owner":{"account_id":9083444,"reputation":23,"user_id":6762443,"display_name":"pierater"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608755062,"creation_date":1608755062,"answer_id":65430503,"question_id":65342487,"body_markdown":"Have you considered running the memory leak detector?\r\nhttps://netty.io/wiki/reference-counted-objects.html\r\n\r\nIf the issue isn&#39;t the sslContext, I suspect it might be in `ObjectDecoder` or `ObjectEncoder` if you are not releasing the `ByteBuf` when you are done with it.","title":"Java Netty: memory leak problem with DefaultChannelHandlerContext","body":"<p>Have you considered running the memory leak detector?\n<a href=\"https://netty.io/wiki/reference-counted-objects.html\" rel=\"nofollow noreferrer\">https://netty.io/wiki/reference-counted-objects.html</a></p>\n<p>If the issue isn't the sslContext, I suspect it might be in <code>ObjectDecoder</code> or <code>ObjectEncoder</code> if you are not releasing the <code>ByteBuf</code> when you are done with it.</p>\n"}],"owner":{"account_id":20240290,"reputation":11,"user_id":14844357,"display_name":"TheSpiochu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1710,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1637140994,"creation_date":1608214815,"question_id":65342487,"body_markdown":"Hi I have a memory leakage problem and i can&#39;t find any solution. My server code:\r\n\r\n     bootstrap.channel(NioServerSocketChannel.class)\r\n                .childHandler(new ChannelInitializer&lt;SocketChannel&gt;() {\r\n                    @Override\r\n                    protected void initChannel(SocketChannel socketChannel) throws Exception {\r\n                        SSLEngine engine = engineCreator.createSSLEngine(credentials);\r\n                        if (engine == null) {\r\n                            throw new Exception(&quot;Can&#39;t create SSLEngine&quot;);\r\n                        }\r\n                        socketChannel.pipeline().addFirst(&quot;ssl&quot;, new SslHandler(engine));\r\n\r\n                        socketChannel.pipeline().addLast(&quot;Object-decoder&quot;, new ObjectDecoder(\r\n                                ClassResolvers.softCachingConcurrentResolver(\r\n                                        Message.class.getClassLoader())));\r\n                        socketChannel.pipeline().addLast(&quot;Object-encoder&quot;, new ObjectEncoder());\r\n\r\n                    //another pair of handles\r\n                    }\r\n                })\r\n                .option(ChannelOption.ALLOCATOR, PooledByteBufAllocator.DEFAULT)\r\n                .childOption(ChannelOption.ALLOCATOR, PooledByteBufAllocator.DEFAULT);\r\n\r\ncode for EngineCreator:\r\n\r\n     private static SSLEngine sslEngine = null;\r\n\r\n    public SSLEngine createSSLEngine(Credentials credentials) {\r\n        try {\r\n            if(sslEngine == null){\r\n                sslEngine = getSSLContext(credentials).createSSLEngine();\r\n                sslEngine.setUseClientMode(false);\r\n                sslEngine.setNeedClientAuth(true);\r\n            }\r\n\r\n            return sslEngine;\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n\r\n    private SSLContext getSSLContext(Credentials credentials) throws Exception {\r\n        InputStream keyStoreInputStream = new FileInputStream(credentials.getKeyStorePath());\r\n        KeyStore keyStore = KeyStore.getInstance(&quot;JKS&quot;);\r\n        keyStore.load(keyStoreInputStream, credentials.getKeyStorePassword().toCharArray());\r\n        keyStoreInputStream.close();\r\n\r\n        KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(&quot;SunX509&quot;);\r\n        keyManagerFactory.init(keyStore, credentials.getKeyStorePassword().toCharArray());\r\n\r\n        TrustManager[] trustManagers = new TrustManager[]{\r\n                new ReloadableX509TrustManager(credentials)\r\n        };\r\n        SSLContext sslContext = SSLContext.getInstance(&quot;TLSv1.2&quot;);\r\n        sslContext.init(keyManagerFactory.getKeyManagers(), trustManagers, null);\r\n        return sslContext;\r\n    }\r\n\r\n    class ReloadableX509TrustManager implements X509TrustManager {\r\n        private final String trustStorePath;\r\n        private X509TrustManager trustManager;\r\n        private long listTimeModTrust;\r\n        private final Credentials credentials;\r\n\r\n        public ReloadableX509TrustManager(Credentials credentials) throws Exception {\r\n            this.credentials = credentials;\r\n            this.trustStorePath = credentials.getTrustStorePath();\r\n            reloadTrustManager(credentials);\r\n        }\r\n\r\n        @Override\r\n        public void checkClientTrusted(X509Certificate[] x509Certificates, String s) throws \r\n            CertificateException {\r\n            if (checkTimeTruststore()) {\r\n                try {\r\n                    reloadTrustManager(credentials);\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n            String username = x509Certificates[0].getSubjectDN().getName().split(&quot;CN=&quot;)[1].split(&quot;,&quot;)[0];\r\n            x509Certificates[0].checkValidity();\r\n            trustManager.checkClientTrusted(x509Certificates, s);\r\n            x509Certificates[0].checkValidity();\r\n        }\r\n\r\n\r\n        @Override\r\n        public void checkServerTrusted(X509Certificate[] x509Certificates, String s) throws \r\n             CertificateException {\r\n          //            trustManager.checkServerTrusted(x509Certificates, s);\r\n        }\r\n\r\n        @Override\r\n        public X509Certificate[] getAcceptedIssuers() {\r\n            return new X509Certificate[0];\r\n        }\r\n\r\n        private void reloadTrustManager(Credentials credentials) throws Exception {\r\n            listTimeModTrust = new File(trustStorePath).lastModified();\r\n            KeyStore trustStore = KeyStore.getInstance(&quot;JKS&quot;);\r\n            InputStream in = new FileInputStream(trustStorePath);\r\n            try {\r\n                trustStore.load(in, credentials.getTrustStorePassword().toCharArray());\r\n            } finally {\r\n                in.close();\r\n            }\r\n\r\n            TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(&quot;SunX509&quot;);\r\n            trustManagerFactory.init(trustStore);\r\n\r\n            TrustManager[] trustManagers = trustManagerFactory.getTrustManagers();\r\n            for (int i = 0; i &lt; trustManagers.length; i++) {\r\n                if (trustManagers[i] instanceof X509TrustManager) {\r\n                    trustManager = (X509TrustManager) trustManagers[i];\r\n                    return;\r\n                }\r\n            }\r\n            throw new NoSuchAlgorithmException(&quot;No X509TrustManager in TrustManagerFactory&quot;);\r\n        }\r\n\r\n        private boolean checkTimeTruststore() {\r\n            boolean isNewVersion = false;\r\n            File file = new File(trustStorePath);\r\n            Long lastTime = file.lastModified();\r\n            if (lastTime != listTimeModTrust) {\r\n                isNewVersion = true;\r\n            }\r\n            return isNewVersion;\r\n        }\r\n\r\n    }\r\n\r\nMy truststore have 2k ceritificate inside. Heap dump:\r\n[screen from eclipse memory leak plugin][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/e36ih.jpg\r\n\r\n\r\nCurrently, after a couple of days of server operation, OutOfMemoryException occurs and the server is down. Does anyone know how to fix it? ","title":"Java Netty: memory leak problem with DefaultChannelHandlerContext","body":"<p>Hi I have a memory leakage problem and i can't find any solution. My server code:</p>\n<pre><code> bootstrap.channel(NioServerSocketChannel.class)\n            .childHandler(new ChannelInitializer&lt;SocketChannel&gt;() {\n                @Override\n                protected void initChannel(SocketChannel socketChannel) throws Exception {\n                    SSLEngine engine = engineCreator.createSSLEngine(credentials);\n                    if (engine == null) {\n                        throw new Exception(&quot;Can't create SSLEngine&quot;);\n                    }\n                    socketChannel.pipeline().addFirst(&quot;ssl&quot;, new SslHandler(engine));\n\n                    socketChannel.pipeline().addLast(&quot;Object-decoder&quot;, new ObjectDecoder(\n                            ClassResolvers.softCachingConcurrentResolver(\n                                    Message.class.getClassLoader())));\n                    socketChannel.pipeline().addLast(&quot;Object-encoder&quot;, new ObjectEncoder());\n\n                //another pair of handles\n                }\n            })\n            .option(ChannelOption.ALLOCATOR, PooledByteBufAllocator.DEFAULT)\n            .childOption(ChannelOption.ALLOCATOR, PooledByteBufAllocator.DEFAULT);\n</code></pre>\n<p>code for EngineCreator:</p>\n<pre><code> private static SSLEngine sslEngine = null;\n\npublic SSLEngine createSSLEngine(Credentials credentials) {\n    try {\n        if(sslEngine == null){\n            sslEngine = getSSLContext(credentials).createSSLEngine();\n            sslEngine.setUseClientMode(false);\n            sslEngine.setNeedClientAuth(true);\n        }\n\n        return sslEngine;\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return null;\n}\n\nprivate SSLContext getSSLContext(Credentials credentials) throws Exception {\n    InputStream keyStoreInputStream = new FileInputStream(credentials.getKeyStorePath());\n    KeyStore keyStore = KeyStore.getInstance(&quot;JKS&quot;);\n    keyStore.load(keyStoreInputStream, credentials.getKeyStorePassword().toCharArray());\n    keyStoreInputStream.close();\n\n    KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(&quot;SunX509&quot;);\n    keyManagerFactory.init(keyStore, credentials.getKeyStorePassword().toCharArray());\n\n    TrustManager[] trustManagers = new TrustManager[]{\n            new ReloadableX509TrustManager(credentials)\n    };\n    SSLContext sslContext = SSLContext.getInstance(&quot;TLSv1.2&quot;);\n    sslContext.init(keyManagerFactory.getKeyManagers(), trustManagers, null);\n    return sslContext;\n}\n\nclass ReloadableX509TrustManager implements X509TrustManager {\n    private final String trustStorePath;\n    private X509TrustManager trustManager;\n    private long listTimeModTrust;\n    private final Credentials credentials;\n\n    public ReloadableX509TrustManager(Credentials credentials) throws Exception {\n        this.credentials = credentials;\n        this.trustStorePath = credentials.getTrustStorePath();\n        reloadTrustManager(credentials);\n    }\n\n    @Override\n    public void checkClientTrusted(X509Certificate[] x509Certificates, String s) throws \n        CertificateException {\n        if (checkTimeTruststore()) {\n            try {\n                reloadTrustManager(credentials);\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n        String username = x509Certificates[0].getSubjectDN().getName().split(&quot;CN=&quot;)[1].split(&quot;,&quot;)[0];\n        x509Certificates[0].checkValidity();\n        trustManager.checkClientTrusted(x509Certificates, s);\n        x509Certificates[0].checkValidity();\n    }\n\n\n    @Override\n    public void checkServerTrusted(X509Certificate[] x509Certificates, String s) throws \n         CertificateException {\n      //            trustManager.checkServerTrusted(x509Certificates, s);\n    }\n\n    @Override\n    public X509Certificate[] getAcceptedIssuers() {\n        return new X509Certificate[0];\n    }\n\n    private void reloadTrustManager(Credentials credentials) throws Exception {\n        listTimeModTrust = new File(trustStorePath).lastModified();\n        KeyStore trustStore = KeyStore.getInstance(&quot;JKS&quot;);\n        InputStream in = new FileInputStream(trustStorePath);\n        try {\n            trustStore.load(in, credentials.getTrustStorePassword().toCharArray());\n        } finally {\n            in.close();\n        }\n\n        TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(&quot;SunX509&quot;);\n        trustManagerFactory.init(trustStore);\n\n        TrustManager[] trustManagers = trustManagerFactory.getTrustManagers();\n        for (int i = 0; i &lt; trustManagers.length; i++) {\n            if (trustManagers[i] instanceof X509TrustManager) {\n                trustManager = (X509TrustManager) trustManagers[i];\n                return;\n            }\n        }\n        throw new NoSuchAlgorithmException(&quot;No X509TrustManager in TrustManagerFactory&quot;);\n    }\n\n    private boolean checkTimeTruststore() {\n        boolean isNewVersion = false;\n        File file = new File(trustStorePath);\n        Long lastTime = file.lastModified();\n        if (lastTime != listTimeModTrust) {\n            isNewVersion = true;\n        }\n        return isNewVersion;\n    }\n\n}\n</code></pre>\n<p>My truststore have 2k ceritificate inside. Heap dump:\n<a href=\"https://i.stack.imgur.com/e36ih.jpg\" rel=\"nofollow noreferrer\">screen from eclipse memory leak plugin</a></p>\n<p>Currently, after a couple of days of server operation, OutOfMemoryException occurs and the server is down. Does anyone know how to fix it?</p>\n"},{"tags":["java","regex","spring","cucumber","regular-language"],"comments":[{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1637094293,"post_id":69995432,"comment_id":123733115,"body_markdown":"If the test executes, it&#39;s a problem in IDEA.","body":"If the test executes, it&#39;s a problem in IDEA."},{"owner":{"account_id":16379082,"reputation":355,"user_id":11830541,"display_name":"Serhii Kachan"},"score":0,"creation_date":1637101482,"post_id":69995432,"comment_id":123735282,"body_markdown":"Is it possible to adjust something in configurations to fix it?","body":"Is it possible to adjust something in configurations to fix it?"},{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1637174262,"post_id":69995432,"comment_id":123758073,"body_markdown":"File a bug report with IDEA.","body":"File a bug report with IDEA."},{"owner":{"account_id":15371775,"reputation":514,"user_id":11089623,"display_name":"cheparsky"},"score":0,"creation_date":1666706305,"post_id":69995432,"comment_id":130996923,"body_markdown":"Has this been reported?","body":"Has this been reported?"},{"owner":{"account_id":16379082,"reputation":355,"user_id":11830541,"display_name":"Serhii Kachan"},"score":1,"creation_date":1666713002,"post_id":69995432,"comment_id":130999564,"body_markdown":"I&#39;ve not. If you don&#39;t see any bug reports there related to this issue and resolved I don&#39;t think it is fixed","body":"I&#39;ve not. If you don&#39;t see any bug reports there related to this issue and resolved I don&#39;t think it is fixed"}],"answers":[{"tags":[],"owner":{"account_id":16379082,"reputation":355,"user_id":11830541,"display_name":"Serhii Kachan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637140884,"creation_date":1637140884,"answer_id":70001742,"question_id":69995432,"body_markdown":"Looks like there is an issue with Cucumber API and Cucumber Plugin.\r\n\r\nI changed my Parameter Type registration method\r\n\r\nfrom:\r\n\r\n    @ParameterType(name = &quot;unique_random&quot;, value = &quot;uniqueRandom\\\\([0-9]+\\\\)&quot;)\r\n    public Integer randomNumber(String original) {\r\n        return ... // some logic of creation\r\n    }\r\n\r\nto\r\n\r\n    @ParameterType(value = &quot;uniqueRandom\\\\([0-9]+\\\\)&quot;)\r\n    public Integer unique_random(String original) {\r\n        return ... // some logic of creation\r\n    }\r\n\r\nThis solution is described in the documentation of **@ParameterType.name()**\r\n\r\n&gt; Name of the parameter type. This is used as the type name in typed\r\n&gt; expressions. When not provided this will default to the name of the\r\n&gt; annotated method.\r\n\r\nThe plugin **doesn&#39;t resolve the parameter name in the annotation** but as a method name.","title":"Cucumber 6 undefined custom step","body":"<p>Looks like there is an issue with Cucumber API and Cucumber Plugin.</p>\n<p>I changed my Parameter Type registration method</p>\n<p>from:</p>\n<pre><code>@ParameterType(name = &quot;unique_random&quot;, value = &quot;uniqueRandom\\\\([0-9]+\\\\)&quot;)\npublic Integer randomNumber(String original) {\n    return ... // some logic of creation\n}\n</code></pre>\n<p>to</p>\n<pre><code>@ParameterType(value = &quot;uniqueRandom\\\\([0-9]+\\\\)&quot;)\npublic Integer unique_random(String original) {\n    return ... // some logic of creation\n}\n</code></pre>\n<p>This solution is described in the documentation of <strong>@ParameterType.name()</strong></p>\n<blockquote>\n<p>Name of the parameter type. This is used as the type name in typed\nexpressions. When not provided this will default to the name of the\nannotated method.</p>\n</blockquote>\n<p>The plugin <strong>doesn't resolve the parameter name in the annotation</strong> but as a method name.</p>\n"}],"owner":{"account_id":16379082,"reputation":355,"user_id":11830541,"display_name":"Serhii Kachan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":303,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637140884,"creation_date":1637093114,"question_id":69995432,"body_markdown":"I am upgrading Cucumber version in my project and custom configuration changed between versions 4 and 6.\r\n\r\nI&#39;ve registered a custom keyword for Parameter Type. \r\n\r\nEverything works, step passes and the value is generated but **the step is still marked as undefined**. \r\n\r\nI use Intellij IDEA and [Cucumber plugin for Java][1] Is it a plugin problem or somewhere in y code?\r\n\r\n**Cucumber step:**\r\n\r\n    When generate uniqueRandom(5) for test\r\n    \r\n[![enter image description here][2]][2]\r\n    \r\n**Java step:**\r\n\r\n    @When(&quot;generate {unique_random} for test&quot;)\r\n    public void testStep(int randomNumber) {\r\n        log.info(String.valueOf(randomNumber));\r\n    }\r\n\r\n**Parameter Type registry:**\r\n  \r\n\r\n    @ParameterType(name = &quot;unique_random&quot;, value = &quot;uniqueRandom\\\\([0-9]+\\\\)&quot;)\r\n    public Integer randomNumber(String original) {\r\n        return ... // some logic of creation\r\n    }\r\n\r\n**Cucumber version:** 6.8.1\r\n\r\nIs it possible from my side to do something with this warning?\r\n\r\n\r\n  [1]: https://plugins.jetbrains.com/plugin/7212-cucumber-for-java\r\n  [2]: https://i.stack.imgur.com/OS455.png","title":"Cucumber 6 undefined custom step","body":"<p>I am upgrading Cucumber version in my project and custom configuration changed between versions 4 and 6.</p>\n<p>I've registered a custom keyword for Parameter Type.</p>\n<p>Everything works, step passes and the value is generated but <strong>the step is still marked as undefined</strong>.</p>\n<p>I use Intellij IDEA and <a href=\"https://plugins.jetbrains.com/plugin/7212-cucumber-for-java\" rel=\"nofollow noreferrer\">Cucumber plugin for Java</a> Is it a plugin problem or somewhere in y code?</p>\n<p><strong>Cucumber step:</strong></p>\n<pre><code>When generate uniqueRandom(5) for test\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/OS455.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OS455.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Java step:</strong></p>\n<pre><code>@When(&quot;generate {unique_random} for test&quot;)\npublic void testStep(int randomNumber) {\n    log.info(String.valueOf(randomNumber));\n}\n</code></pre>\n<p><strong>Parameter Type registry:</strong></p>\n<pre><code>@ParameterType(name = &quot;unique_random&quot;, value = &quot;uniqueRandom\\\\([0-9]+\\\\)&quot;)\npublic Integer randomNumber(String original) {\n    return ... // some logic of creation\n}\n</code></pre>\n<p><strong>Cucumber version:</strong> 6.8.1</p>\n<p>Is it possible from my side to do something with this warning?</p>\n"},{"tags":["java","spring","spring-boot","validation","hibernate-validator"],"comments":[{"owner":{"account_id":22649232,"reputation":1287,"user_id":16824146,"display_name":"mr.Penguin"},"score":0,"creation_date":1637140560,"post_id":70001369,"comment_id":123743477,"body_markdown":"exactly that was the problem, I&#39;ve read in this article https://reflectoring.io/bean-validation-with-spring-boot/ that we don&#39;t need starter-validator if we have already starter-web included, but on another article I&#39;ve found the opposite here : https://www.yawintutor.com/how-to-validate-request-parameters-in-spring-boot/  so now it&#39;s working correctly. thank you!","body":"exactly that was the problem, I&#39;ve read in this article <a href=\"https://reflectoring.io/bean-validation-with-spring-boot/\" rel=\"nofollow noreferrer\">reflectoring.io/bean-validation-with-spring-boot</a> that we don&#39;t need starter-validator if we have already starter-web included, but on another article I&#39;ve found the opposite here : <a href=\"https://www.yawintutor.com/how-to-validate-request-parameters-in-spring-boot/\" rel=\"nofollow noreferrer\">yawintutor.com/&hellip;</a>  so now it&#39;s working correctly. thank you!"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1637141133,"post_id":70001369,"comment_id":123743696,"body_markdown":"(probably) it was true in the past, but evolved! ;-) easy fix! +1","body":"(probably) it was true in the past, but evolved! ;-) easy fix! +1"}],"answers":[{"tags":[],"owner":{"account_id":22649232,"reputation":1287,"user_id":16824146,"display_name":"mr.Penguin"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1637140686,"creation_date":1637140686,"answer_id":70001684,"question_id":70001369,"body_markdown":"I was missing the start-validator to make it work, so all what I had to do is to add this dependency: \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    &lt;/dependency&gt; \r\n\r\n","title":"spring boot custom Validator annotation not working on parameter","body":"<p>I was missing the start-validator to make it work, so all what I had to do is to add this dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n&lt;/dependency&gt; \n</code></pre>\n"}],"owner":{"account_id":22649232,"reputation":1287,"user_id":16824146,"display_name":"mr.Penguin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3959,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70001684,"answer_count":1,"score":2,"last_activity_date":1637140686,"creation_date":1637139331,"question_id":70001369,"body_markdown":"I have created a new annotation to validate my parameters on a controller: \r\n\r\n    @Constraint(validatedBy = ValueValidator.class)\r\n    @Target( { ElementType.PARAMETER })\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface ValidValue {\r\n        String message() default &quot;Invalid value&quot;;\r\n        Class&lt;?&gt;[] groups() default {};\r\n        Class&lt;? extends Payload&gt;[] payload() default {};\r\n    }\r\n\r\nThis is my validator:\r\n \r\n\r\n    public class ValueValidator implements ConstraintValidator&lt;ValidValue, String&gt; {\r\n        @Override\r\n        public void initialize(ValidValue constraintAnnotation) {\r\n            ConstraintValidator.super.initialize(constraintAnnotation);\r\n        }\r\n    \r\n        @Override\r\n        public boolean isValid(String s, ConstraintValidatorContext constraintValidatorContext) {\r\n            if (s.contains(&quot;hello&quot;)) {\r\n                throw new IllegalArgumentException(&quot;hello is not valid&quot;);\r\n            }\r\n            return true;\r\n        }\r\n    }\r\n\r\nAnd this is my controller: \r\n\r\n    @GetMapping(value = &quot;/extraction-date&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    @Operation(summary = &quot;Find  customers by extraction date&quot;)\r\n    public ResponseEntity&lt;List&lt;Customer&gt;&gt; findAllCustomersByExtractionDate(@RequestParam @ValidValue String value)\r\n    {\r\n        System.out.println(value);\r\n        return null;\r\n    }\r\n\r\nmy controller is annotated with: \r\n\r\n    @RestController\r\n    @RequestMapping(&quot;api/v1/customers&quot;)\r\n    @AllArgsConstructor\r\n    @Controller\r\n    @Validated\r\n    @CrossOrigin\r\n    @Tag(name = &quot;customer-controller&quot;, description = &quot;Controller managing operations related to customers &quot;)\r\n\r\nI also have an Advice controller, which I&#39;m intending to use to catch the thrown exception: \r\n\r\n    @ControllerAdvice()\r\n    public class GlobalExceptionHandler extends ResponseEntityExceptionHandler {\r\n        private static final Logger LOG = LoggerFactory.getLogger(GlobalExceptionHandler.class);\r\n    \r\n        /**\r\n         * @param ex a Throwable\r\n         * @return a responseEntity with a descriptive message and some other information\r\n         */\r\n        @ExceptionHandler(Throwable.class)\r\n        @ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)\r\n        @ResponseBody\r\n        public ErrorMessage globalExceptionHandler(Throwable ex) {\r\n            LOG.error(ex.getMessage());\r\n            return getErrorMessage();\r\n        }\r\n    \r\n        /**\r\n         * @param ex a Exception\r\n         * @return a responseEntity with a descriptive message and some other information\r\n         */\r\n        @ExceptionHandler(Exception.class)\r\n        @ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)\r\n        @ResponseBody\r\n        public ErrorMessage globalExceptionHandler(Exception ex) {\r\n            LOG.error(ex.getMessage());\r\n            return getErrorMessage();\r\n        }\r\n    \r\n        /**\r\n         * @param ex      an InvalidInputException\r\n         * @return a responseEntity with a descriptive message and some other information\r\n         */\r\n        @ExceptionHandler({InvalidInputException.class})\r\n        @ResponseStatus(HttpStatus.BAD_REQUEST)\r\n        @ResponseBody\r\n        public ErrorMessage invalidInputExceptionHandler(Exception ex) {\r\n            LOG.error(ex.getMessage());\r\n            return getErrorMessage(ex, ErrorCode.INVALID_INPUT_ERROR);\r\n        }\r\n    \r\n        /**\r\n         * @param ex      an ResourceNotFoundException\r\n         * @param request the request from the client\r\n         * @return a responseEntity with a descriptive message and some other information\r\n         */\r\n        @ExceptionHandler({ResourceNotFoundException.class})\r\n        @ResponseStatus(HttpStatus.NOT_FOUND)\r\n        @ResponseBody\r\n        public ErrorMessage resourceNotFoundException(Exception ex, WebRequest request) {\r\n            LOG.error(ex.getMessage());\r\n            return getErrorMessage(ex, ErrorCode.RESOURCE_NOT_FOUND);\r\n        }\r\n    \r\n        /**\r\n         * @param ex thrown exception\r\n         * @param errorCode to be returned to the client in message\r\n         * @return the error message with all attributes\r\n         */\r\n        private ErrorMessage getErrorMessage(Exception ex, ErrorCode errorCode) {\r\n            return new ErrorMessage(\r\n                    errorCode.code,\r\n                    new Date(),\r\n                    ex.getMessage(),\r\n                    errorCode.description);\r\n        }\r\n    \r\n        /**\r\n         * @return the error message with all attributes\r\n         */\r\n        private ErrorMessage getErrorMessage() {\r\n            return new ErrorMessage(\r\n                    ErrorCode.INTERNAL_ERROR.code,\r\n                    new Date(),\r\n                    &quot;Error while proceeding a joinPoint, unhandled exception: see log messages for more details.&quot;,\r\n                    ErrorCode.INTERNAL_ERROR.description);\r\n        }\r\n    } \r\n\r\n This is what I get after calling the method from postman: \r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/SKyOz.png\r\n\r\nWhat I got on the console: \r\n\r\n    INFO |2021-11-17T08:51:48,898|88D0657C2A8042FDBD32C05E96280791| [http-nio-8080-exec-1] com.obs.dqsc.api.controller.CustomerController - Entered in CustomerController.findAllCustomersByExtractionDate(hello)\r\n    hello\r\n    INFO |2021-11-17T08:51:48,903|88D0657C2A8042FDBD32C05E96280791| [http-nio-8080-exec-1] com.obs.dqsc.api.controller.CustomerController - Exit from CustomerController.findAllCustomersByExtractionDate(..); Execution time: 2 ms;\r\n\r\nThe dependencies I have in my pom.xml:\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.5.12&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n\r\nPlease could anyone tell me what I am missing? ","title":"spring boot custom Validator annotation not working on parameter","body":"<p>I have created a new annotation to validate my parameters on a controller:</p>\n<pre><code>@Constraint(validatedBy = ValueValidator.class)\n@Target( { ElementType.PARAMETER })\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface ValidValue {\n    String message() default &quot;Invalid value&quot;;\n    Class&lt;?&gt;[] groups() default {};\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n<p>This is my validator:</p>\n<pre><code>public class ValueValidator implements ConstraintValidator&lt;ValidValue, String&gt; {\n    @Override\n    public void initialize(ValidValue constraintAnnotation) {\n        ConstraintValidator.super.initialize(constraintAnnotation);\n    }\n\n    @Override\n    public boolean isValid(String s, ConstraintValidatorContext constraintValidatorContext) {\n        if (s.contains(&quot;hello&quot;)) {\n            throw new IllegalArgumentException(&quot;hello is not valid&quot;);\n        }\n        return true;\n    }\n}\n</code></pre>\n<p>And this is my controller:</p>\n<pre><code>@GetMapping(value = &quot;/extraction-date&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n@Operation(summary = &quot;Find  customers by extraction date&quot;)\npublic ResponseEntity&lt;List&lt;Customer&gt;&gt; findAllCustomersByExtractionDate(@RequestParam @ValidValue String value)\n{\n    System.out.println(value);\n    return null;\n}\n</code></pre>\n<p>my controller is annotated with:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;api/v1/customers&quot;)\n@AllArgsConstructor\n@Controller\n@Validated\n@CrossOrigin\n@Tag(name = &quot;customer-controller&quot;, description = &quot;Controller managing operations related to customers &quot;)\n</code></pre>\n<p>I also have an Advice controller, which I'm intending to use to catch the thrown exception:</p>\n<pre><code>@ControllerAdvice()\npublic class GlobalExceptionHandler extends ResponseEntityExceptionHandler {\n    private static final Logger LOG = LoggerFactory.getLogger(GlobalExceptionHandler.class);\n\n    /**\n     * @param ex a Throwable\n     * @return a responseEntity with a descriptive message and some other information\n     */\n    @ExceptionHandler(Throwable.class)\n    @ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)\n    @ResponseBody\n    public ErrorMessage globalExceptionHandler(Throwable ex) {\n        LOG.error(ex.getMessage());\n        return getErrorMessage();\n    }\n\n    /**\n     * @param ex a Exception\n     * @return a responseEntity with a descriptive message and some other information\n     */\n    @ExceptionHandler(Exception.class)\n    @ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)\n    @ResponseBody\n    public ErrorMessage globalExceptionHandler(Exception ex) {\n        LOG.error(ex.getMessage());\n        return getErrorMessage();\n    }\n\n    /**\n     * @param ex      an InvalidInputException\n     * @return a responseEntity with a descriptive message and some other information\n     */\n    @ExceptionHandler({InvalidInputException.class})\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\n    @ResponseBody\n    public ErrorMessage invalidInputExceptionHandler(Exception ex) {\n        LOG.error(ex.getMessage());\n        return getErrorMessage(ex, ErrorCode.INVALID_INPUT_ERROR);\n    }\n\n    /**\n     * @param ex      an ResourceNotFoundException\n     * @param request the request from the client\n     * @return a responseEntity with a descriptive message and some other information\n     */\n    @ExceptionHandler({ResourceNotFoundException.class})\n    @ResponseStatus(HttpStatus.NOT_FOUND)\n    @ResponseBody\n    public ErrorMessage resourceNotFoundException(Exception ex, WebRequest request) {\n        LOG.error(ex.getMessage());\n        return getErrorMessage(ex, ErrorCode.RESOURCE_NOT_FOUND);\n    }\n\n    /**\n     * @param ex thrown exception\n     * @param errorCode to be returned to the client in message\n     * @return the error message with all attributes\n     */\n    private ErrorMessage getErrorMessage(Exception ex, ErrorCode errorCode) {\n        return new ErrorMessage(\n                errorCode.code,\n                new Date(),\n                ex.getMessage(),\n                errorCode.description);\n    }\n\n    /**\n     * @return the error message with all attributes\n     */\n    private ErrorMessage getErrorMessage() {\n        return new ErrorMessage(\n                ErrorCode.INTERNAL_ERROR.code,\n                new Date(),\n                &quot;Error while proceeding a joinPoint, unhandled exception: see log messages for more details.&quot;,\n                ErrorCode.INTERNAL_ERROR.description);\n    }\n} \n</code></pre>\n<p>This is what I get after calling the method from postman:\n<a href=\"https://i.stack.imgur.com/SKyOz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SKyOz.png\" alt=\"enter image description here\" /></a></p>\n<p>What I got on the console:</p>\n<pre><code>INFO |2021-11-17T08:51:48,898|88D0657C2A8042FDBD32C05E96280791| [http-nio-8080-exec-1] com.obs.dqsc.api.controller.CustomerController - Entered in CustomerController.findAllCustomersByExtractionDate(hello)\nhello\nINFO |2021-11-17T08:51:48,903|88D0657C2A8042FDBD32C05E96280791| [http-nio-8080-exec-1] com.obs.dqsc.api.controller.CustomerController - Exit from CustomerController.findAllCustomersByExtractionDate(..); Execution time: 2 ms;\n</code></pre>\n<p>The dependencies I have in my pom.xml:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n        &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n        &lt;artifactId&gt;poi&lt;/artifactId&gt;\n        &lt;version&gt;5.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n        &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n        &lt;version&gt;5.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n        &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n        &lt;version&gt;1.5.12&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>Please could anyone tell me what I am missing?</p>\n"},{"tags":["java","angular","timezone"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1637140674,"post_id":70001655,"comment_id":123743522,"body_markdown":"What problem is it exactly? Can you describe it and provide some example code?","body":"What problem is it exactly? Can you describe it and provide some example code?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1637140743,"post_id":70001655,"comment_id":123743553,"body_markdown":"Sure, you can pass the time zone as a command line option, e.g. like described here: https://docs.oracle.com/javase/9/troubleshoot/time-zone-settings-jre.htm#JSTGD376 or here: https://www.baeldung.com/java-jvm-time-zone","body":"Sure, you can pass the time zone as a command line option, e.g. like described here: <a href=\"https://docs.oracle.com/javase/9/troubleshoot/time-zone-settings-jre.htm#JSTGD376\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/9/troubleshoot/&hellip;</a> or here: <a href=\"https://www.baeldung.com/java-jvm-time-zone\" rel=\"nofollow noreferrer\">baeldung.com/java-jvm-time-zone</a>"},{"owner":{"account_id":3714661,"reputation":74,"user_id":3091170,"display_name":"user3091170"},"score":0,"creation_date":1637145366,"post_id":70001655,"comment_id":123745403,"body_markdown":"Thanks that looks like it will work for me. The bug is when the end user (browser) is in a different timezone to the server (java app) and you choose a date on a date picker, its selecting the day before. Once I can replicate the test scenario I have a chance of fixing it.","body":"Thanks that looks like it will work for me. The bug is when the end user (browser) is in a different timezone to the server (java app) and you choose a date on a date picker, its selecting the day before. Once I can replicate the test scenario I have a chance of fixing it."}],"owner":{"account_id":3714661,"reputation":74,"user_id":3091170,"display_name":"user3091170"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637140576,"creation_date":1637140576,"question_id":70001655,"body_markdown":"I am trying to debug a stubborn problem related to timezones, with a java backend and angular frontend. I am running both apps locally and it would be useful if I could have them in different timezones from each other. I was hoping to find a way of starting up the Java application in a timezone different from the local machine (and therefore different from the browser/angular application). Any ideas?","title":"For debugging can I set my java application run in a different timezone to the local machine?","body":"<p>I am trying to debug a stubborn problem related to timezones, with a java backend and angular frontend. I am running both apps locally and it would be useful if I could have them in different timezones from each other. I was hoping to find a way of starting up the Java application in a timezone different from the local machine (and therefore different from the browser/angular application). Any ideas?</p>\n"},{"tags":["java","spring","spring-data-mongodb"],"answers":[{"tags":[],"owner":{"account_id":8921473,"reputation":1917,"user_id":6657842,"display_name":"RLD"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1599834454,"creation_date":1599834454,"answer_id":63849029,"question_id":63848428,"body_markdown":"You can take help of **@Query** annotation as follows:\r\n\r\n    @Query(value = &quot;{&#39;eventDate&#39;:{ $gte: ?0, $lte: ?1}}&quot;)\r\n    List&lt;Event&gt; findByEventDateBetween(LocalDate start, LocalDate end);\r\n\r\n","title":"spring-data-mongodb : Between change from ($gt, $lt) to ($gte, $lte)","body":"<p>You can take help of <strong>@Query</strong> annotation as follows:</p>\n<pre><code>@Query(value = &quot;{'eventDate':{ $gte: ?0, $lte: ?1}}&quot;)\nList&lt;Event&gt; findByEventDateBetween(LocalDate start, LocalDate end);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1790177,"reputation":166,"user_id":1630783,"display_name":"JianrongChen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637140561,"creation_date":1637140561,"answer_id":70001649,"question_id":63848428,"body_markdown":"The following code is simpler:\r\n\r\n    List&lt;Event&gt; findByEventDateBetween(Range&lt;LocalDate&gt; dateRange);\r\n\r\ncall:\r\n\r\n    findByEventDateBetween(Range.closed(start, end))\r\n\r\nreference：\r\n\r\nhttps://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#repository-query-keywords\r\n\r\n    lower / upper bounds ($gt / $gte &amp; $lt / $lte) according to Range\r\n","title":"spring-data-mongodb : Between change from ($gt, $lt) to ($gte, $lte)","body":"<p>The following code is simpler:</p>\n<pre><code>List&lt;Event&gt; findByEventDateBetween(Range&lt;LocalDate&gt; dateRange);\n</code></pre>\n<p>call:</p>\n<pre><code>findByEventDateBetween(Range.closed(start, end))\n</code></pre>\n<p>reference：</p>\n<p><a href=\"https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#repository-query-keywords\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#repository-query-keywords</a></p>\n<pre><code>lower / upper bounds ($gt / $gte &amp; $lt / $lte) according to Range\n</code></pre>\n"}],"owner":{"account_id":2443152,"reputation":384,"user_id":2131117,"display_name":"flywell"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2276,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":63849029,"answer_count":2,"score":0,"last_activity_date":1637140561,"creation_date":1599832273,"question_id":63848428,"body_markdown":"In my repository I&#39;ve added the following method :\r\n\r\n    List&lt;Event&gt; findByEventDateBetween(LocalDate start, LocalDate end);\r\n\r\nGenerated query by spring-data-mongo is :\r\n\r\n&gt; [debug] 2020-09-11 15:39:59,550 - o.s.d.m.c.MongoTemplate - find using\r\n&gt; query: { &quot;eventDate&quot; : { &quot;$gt&quot; : { &quot;$date&quot; : 1577833200000 }, &quot;$lt&quot; :\r\n&gt; { &quot;$date&quot; : 1599775200000 } } } fields: Document{{}} for class: class\r\n&gt; xxxxxx\r\n\r\nIs there a way to tell spring data to use `$gte` and `$lte` instead of `$gt` and `$lt` when using **Between** keyword ?","title":"spring-data-mongodb : Between change from ($gt, $lt) to ($gte, $lte)","body":"<p>In my repository I've added the following method :</p>\n<pre><code>List&lt;Event&gt; findByEventDateBetween(LocalDate start, LocalDate end);\n</code></pre>\n<p>Generated query by spring-data-mongo is :</p>\n<blockquote>\n<p>[debug] 2020-09-11 15:39:59,550 - o.s.d.m.c.MongoTemplate - find using\nquery: { &quot;eventDate&quot; : { &quot;$gt&quot; : { &quot;$date&quot; : 1577833200000 }, &quot;$lt&quot; :\n{ &quot;$date&quot; : 1599775200000 } } } fields: Document{{}} for class: class\nxxxxxx</p>\n</blockquote>\n<p>Is there a way to tell spring data to use <code>$gte</code> and <code>$lte</code> instead of <code>$gt</code> and <code>$lt</code> when using <strong>Between</strong> keyword ?</p>\n"},{"tags":["java","collections","lambda","java-8","java-stream"],"comments":[{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":0,"creation_date":1427218903,"post_id":29239377,"comment_id":46684902,"body_markdown":"Can you be more explicit. Probably post an example.","body":"Can you be more explicit. Probably post an example."},{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":2,"creation_date":1427219416,"post_id":29239377,"comment_id":46685229,"body_markdown":"There isn&#39;t any way, as you can easily figure out from the API of `Map`. But what&#39;s wrong with `entrySet()` approach?","body":"There isn&#39;t any way, as you can easily figure out from the API of <code>Map</code>. But what&#39;s wrong with <code>entrySet()</code> approach?"},{"owner":{"account_id":1429890,"reputation":6439,"user_id":1352530,"accept_rate":75,"display_name":"Whimusical"},"score":1,"creation_date":1427219616,"post_id":29239377,"comment_id":46685351,"body_markdown":"I have to execute i.getEntry and i.getKey a lot of times","body":"I have to execute i.getEntry and i.getKey a lot of times"},{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":0,"creation_date":1427219784,"post_id":29239377,"comment_id":46685436,"body_markdown":"There isn&#39;t any API to get `stream` from a map directly. You&#39;ve to get it through `entrySet()` or `keySet()`. Former would be more easy to work with. If you&#39;re having `getKey()` and `getValue()` a lot of times, then possible you can avoid lambdas altogether. Rest can be suggested only after seeing the actual scenario.","body":"There isn&#39;t any API to get <code>stream</code> from a map directly. You&#39;ve to get it through <code>entrySet()</code> or <code>keySet()</code>. Former would be more easy to work with. If you&#39;re having <code>getKey()</code> and <code>getValue()</code> a lot of times, then possible you can avoid lambdas altogether. Rest can be suggested only after seeing the actual scenario."},{"owner":{"account_id":1429890,"reputation":6439,"user_id":1352530,"accept_rate":75,"display_name":"Whimusical"},"score":1,"creation_date":1427219840,"post_id":29239377,"comment_id":46685471,"body_markdown":"Okay, perhaps converting the entryset Set into a biconsumer stream? or either use Stream.generate someway?","body":"Okay, perhaps converting the entryset Set into a biconsumer stream? or either use Stream.generate someway?"}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1427221127,"creation_date":1427221127,"answer_id":29240026,"question_id":29239377,"body_markdown":"No, there&#39;s no way to do this; `Stream` only works with a single element type.  There&#39;s no way around the `getKey` and `getValue` approach.\r\n\r\n(Streaming over the keys and calling `get` doesn&#39;t actually seem to be any better from your perspective, and it&#39;s likely to be strictly less efficient.)","title":"Any way to stream a map like &quot;(k,v)&quot; instead of working with (entry)?","body":"<p>No, there's no way to do this; <code>Stream</code> only works with a single element type.  There's no way around the <code>getKey</code> and <code>getValue</code> approach.</p>\n\n<p>(Streaming over the keys and calling <code>get</code> doesn't actually seem to be any better from your perspective, and it's likely to be strictly less efficient.)</p>\n"},{"tags":[],"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1427264499,"creation_date":1427264499,"answer_id":29248778,"question_id":29239377,"body_markdown":"It&#39;s a bit unfortunate that the main way to process a map using streams is to stream the map&#39;s entries. That means you have to extracting the entries&#39; keys and values. This is somewhat verbose, but it isn&#39;t really all that bad. Still, it might be reasonable to consider some kind of helper methods that will adapt a `BiPredicate` or `BiFunction` so that they can be used in the `filter` or `map` stages of a stream of map entries. They look like this:\r\n\r\n    static &lt;K,V&gt; Predicate&lt;Map.Entry&lt;K,V&gt;&gt; p(BiPredicate&lt;? super K, ? super V&gt; bip) {\r\n        return entry -&gt; bip.test(entry.getKey(), entry.getValue());\r\n    }\r\n    \r\n    static &lt;K,V,R&gt; Function&lt;Map.Entry&lt;K,V&gt;,R&gt; m(BiFunction&lt;? super K, ? super V, R&gt; bif) {\r\n        return entry -&gt; bif.apply(entry.getKey(), entry.getValue());\r\n    }\r\n\r\nOnce you have these, you can use them to simplify(?) a map entry stream. Let&#39;s say you have a `Map&lt;String,Integer&gt;` and you want to select the entries where the string key&#39;s length is greater than the integer value, and then format the key and value into a string. Conventionally you&#39;d do this:\r\n\r\n        map.entrySet().stream()\r\n                      .filter(e -&gt; e.getKey().length() &gt; e.getValue())\r\n                      .map(e -&gt; e.getKey() + &quot;:&quot; + e.getValue())\r\n                      .forEach(System.out::println);\r\n\r\nWith the helper functions above, you could rewrite this pipeline as:\r\n\r\n        map.entrySet().stream()\r\n                      .filter(p((k, v) -&gt; k.length() &gt; v))\r\n                      .map(m((k, v) -&gt; k + &quot;:&quot; + v))\r\n                      .forEach(System.out::println);\r\n\r\nOK, you save a few characters. Is it worth it?\r\n","title":"Any way to stream a map like &quot;(k,v)&quot; instead of working with (entry)?","body":"<p>It's a bit unfortunate that the main way to process a map using streams is to stream the map's entries. That means you have to extracting the entries' keys and values. This is somewhat verbose, but it isn't really all that bad. Still, it might be reasonable to consider some kind of helper methods that will adapt a <code>BiPredicate</code> or <code>BiFunction</code> so that they can be used in the <code>filter</code> or <code>map</code> stages of a stream of map entries. They look like this:</p>\n\n<pre><code>static &lt;K,V&gt; Predicate&lt;Map.Entry&lt;K,V&gt;&gt; p(BiPredicate&lt;? super K, ? super V&gt; bip) {\n    return entry -&gt; bip.test(entry.getKey(), entry.getValue());\n}\n\nstatic &lt;K,V,R&gt; Function&lt;Map.Entry&lt;K,V&gt;,R&gt; m(BiFunction&lt;? super K, ? super V, R&gt; bif) {\n    return entry -&gt; bif.apply(entry.getKey(), entry.getValue());\n}\n</code></pre>\n\n<p>Once you have these, you can use them to simplify(?) a map entry stream. Let's say you have a <code>Map&lt;String,Integer&gt;</code> and you want to select the entries where the string key's length is greater than the integer value, and then format the key and value into a string. Conventionally you'd do this:</p>\n\n<pre><code>    map.entrySet().stream()\n                  .filter(e -&gt; e.getKey().length() &gt; e.getValue())\n                  .map(e -&gt; e.getKey() + \":\" + e.getValue())\n                  .forEach(System.out::println);\n</code></pre>\n\n<p>With the helper functions above, you could rewrite this pipeline as:</p>\n\n<pre><code>    map.entrySet().stream()\n                  .filter(p((k, v) -&gt; k.length() &gt; v))\n                  .map(m((k, v) -&gt; k + \":\" + v))\n                  .forEach(System.out::println);\n</code></pre>\n\n<p>OK, you save a few characters. Is it worth it?</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1427282480,"creation_date":1427282480,"answer_id":29254246,"question_id":29239377,"body_markdown":"Since this is a repeating question, I will throw a full solution into the ring. It’s a `PairStream` type that is by default a simple wrapper around an ordinary `Stream` (though, being an `interface`, alternatives are possible).\r\n\r\nIt focuses on providing the convenient intermediate operations and those terminal operations which can not be easily performed by calling one of the methods `keys()`, `values()` or `entries()` to return to a conventional single-element `Stream` and chain a terminal operation. So for example, `PairStream.from(map).filterValue(predicate).keys().findAny()` is the straight-forward way to get a key for which the mapped value matches the predicate. `filterValue` is a convenience intermediate operation and `keys` turn back to an ordinary `Stream` allowing an arbitrary terminal operation for the keys.\r\n\r\nSome examples\r\n\r\n        Map&lt;String,Integer&gt; m=new HashMap&lt;&gt;();\r\n        m.put(&quot;foo&quot;, 5);\r\n        m.put(&quot;bar&quot;, 7);\r\n        m.put(&quot;baz&quot;, 42);\r\n        // {b=49, f=5}\r\n        Map&lt;Character,Integer&gt; m2=PairStream.from(m)\r\n          .mapKey(s-&gt;s.charAt(0))\r\n          .toMap(Integer::sum);\r\n\r\n        // foo bar\r\n        String str=PairStream.from(m)\r\n          .filterValue(i-&gt;i&lt;30)\r\n          .keys().sorted(Comparator.reverseOrder())\r\n          .collect(Collectors.joining(&quot; &quot;));\r\n&#160;\r\n\r\n        Map&lt;String,Integer&gt; map=new HashMap&lt;&gt;();\r\n        map.put(&quot;muhv~&quot;, 26);\r\n        map.put(&quot;kfool&quot;, 3);\r\n        String str = PairStream.from(map)\r\n          .sortedByValue(Comparator.naturalOrder())\r\n          .flatMapToInt((s,i)-&gt;s.codePoints().map(c-&gt;c^i))\r\n          .collect(StringBuilder::new, StringBuilder::appendCodePoint, StringBuilder::append)\r\n          .toString();\r\n\r\nHere is the complete class (I haven’t tested all operations, however most of it is straight-forward):\r\n\r\n    import java.util.*;\r\n    import java.util.function.*;\r\n    import java.util.stream.*;\r\n\r\n    public interface PairStream&lt;K,V&gt; {\r\n        static &lt;K,V&gt; PairStream&lt;K,V&gt; from(Map&lt;K,V&gt; map) {\r\n            return from(map.entrySet().stream());\r\n        }\r\n        static &lt;K,V&gt; PairStream&lt;K,V&gt; from(Stream&lt;Map.Entry&lt;K,V&gt;&gt; s) {\r\n            return ()-&gt;s;\r\n        }\r\n        static &lt;K,V&gt; PairStream&lt;K,V&gt; from(Stream&lt;K&gt; s, Function&lt;? super K, ? extends V&gt; f) {\r\n            return ()-&gt;s.map(k-&gt;new AbstractMap.SimpleImmutableEntry&lt;&gt;(k, f.apply(k)));\r\n        }\r\n\r\n        default PairStream&lt;K,V&gt; distinct() {\r\n            return from(entries().distinct());\r\n        }\r\n        default PairStream&lt;K,V&gt; peek(BiConsumer&lt;? super K, ? super V&gt; action) {\r\n            return from(entries().peek(e-&gt;action.accept(e.getKey(), e.getValue())));\r\n        }\r\n        default PairStream&lt;K,V&gt; skip(long n) {\r\n            return from(entries().skip(n));\r\n        }\r\n        default PairStream&lt;K,V&gt; limit(long maxSize) {\r\n            return from(entries().limit(maxSize));\r\n        }\r\n        default PairStream&lt;K,V&gt; filterKey(Predicate&lt;? super K&gt; mapper) {\r\n            return from(entries().filter(e-&gt;mapper.test(e.getKey())));\r\n        }\r\n        default PairStream&lt;K,V&gt; filterValue(Predicate&lt;? super V&gt; mapper) {\r\n            return from(entries().filter(e-&gt;mapper.test(e.getValue())));\r\n        }\r\n        default PairStream&lt;K,V&gt; filter(BiPredicate&lt;? super K, ? super V&gt; mapper) {\r\n            return from(entries().filter(e-&gt;mapper.test(e.getKey(), e.getValue())));\r\n        }\r\n        default &lt;R&gt; PairStream&lt;R,V&gt; mapKey(Function&lt;? super K,? extends R&gt; mapper) {\r\n            return from(entries().map(e-&gt;new AbstractMap.SimpleImmutableEntry&lt;&gt;(\r\n                mapper.apply(e.getKey()), e.getValue()\r\n            )));\r\n        }\r\n        default &lt;R&gt; PairStream&lt;K,R&gt; mapValue(Function&lt;? super V,? extends R&gt; mapper) {\r\n            return from(entries().map(e-&gt;new AbstractMap.SimpleImmutableEntry&lt;&gt;(\r\n                e.getKey(), mapper.apply(e.getValue())\r\n            )));\r\n        }\r\n        default &lt;R&gt; Stream&lt;R&gt; map(BiFunction&lt;? super K, ? super V,? extends R&gt; mapper) {\r\n            return entries().map(e-&gt;mapper.apply(e.getKey(), e.getValue()));\r\n        }\r\n        default DoubleStream mapToDouble(ToDoubleBiFunction&lt;? super K, ? super V&gt; mapper) {\r\n            return entries().mapToDouble(e-&gt;mapper.applyAsDouble(e.getKey(), e.getValue()));\r\n        }\r\n        default IntStream mapToInt(ToIntBiFunction&lt;? super K, ? super V&gt; mapper) {\r\n            return entries().mapToInt(e-&gt;mapper.applyAsInt(e.getKey(), e.getValue()));\r\n        }\r\n        default LongStream mapToLong(ToLongBiFunction&lt;? super K, ? super V&gt; mapper) {\r\n            return entries().mapToLong(e-&gt;mapper.applyAsLong(e.getKey(), e.getValue()));\r\n        }\r\n        default &lt;RK,RV&gt; PairStream&lt;RK,RV&gt; flatMap(\r\n                BiFunction&lt;? super K, ? super V,? extends PairStream&lt;RK,RV&gt;&gt; mapper) {\r\n            return from(entries().flatMap(\r\n                e-&gt;mapper.apply(e.getKey(), e.getValue()).entries()));\r\n        }\r\n        default &lt;R&gt; Stream&lt;R&gt; flatMapToObj(\r\n                BiFunction&lt;? super K, ? super V,? extends Stream&lt;R&gt;&gt; mapper) {\r\n            return entries().flatMap(e-&gt;mapper.apply(e.getKey(), e.getValue()));\r\n        }\r\n        default DoubleStream flatMapToDouble(\r\n                BiFunction&lt;? super K, ? super V,? extends DoubleStream&gt; mapper) {\r\n            return entries().flatMapToDouble(e-&gt;mapper.apply(e.getKey(), e.getValue()));\r\n        }\r\n        default IntStream flatMapToInt(\r\n                BiFunction&lt;? super K, ? super V,? extends IntStream&gt; mapper) {\r\n            return entries().flatMapToInt(e-&gt;mapper.apply(e.getKey(), e.getValue()));\r\n        }\r\n        default LongStream flatMapToLong(\r\n                BiFunction&lt;? super K, ? super V,? extends LongStream&gt; mapper) {\r\n            return entries().flatMapToLong(e-&gt;mapper.apply(e.getKey(), e.getValue()));\r\n        }\r\n        default PairStream&lt;K,V&gt; sortedByKey(Comparator&lt;? super K&gt; comparator) {\r\n            return from(entries().sorted(Map.Entry.comparingByKey(comparator)));\r\n        }\r\n        default PairStream&lt;K,V&gt; sortedByValue(Comparator&lt;? super V&gt; comparator) {\r\n            return from(entries().sorted(Map.Entry.comparingByValue(comparator)));\r\n        }\r\n\r\n        default boolean allMatch(BiPredicate&lt;? super K,? super V&gt; predicate) {\r\n            return entries().allMatch(e-&gt;predicate.test(e.getKey(), e.getValue()));\r\n        }\r\n        default boolean anyMatch(BiPredicate&lt;? super K,? super V&gt; predicate) {\r\n            return entries().anyMatch(e-&gt;predicate.test(e.getKey(), e.getValue()));\r\n        }\r\n        default boolean noneMatch(BiPredicate&lt;? super K,? super V&gt; predicate) {\r\n            return entries().noneMatch(e-&gt;predicate.test(e.getKey(), e.getValue()));\r\n        }\r\n        default long count() {\r\n            return entries().count();\r\n        }\r\n\r\n        Stream&lt;Map.Entry&lt;K,V&gt;&gt; entries();\r\n        default Stream&lt;K&gt; keys() {\r\n            return entries().map(Map.Entry::getKey);\r\n        }\r\n        default Stream&lt;V&gt; values() {\r\n            return entries().map(Map.Entry::getValue);\r\n        }\r\n        default Optional&lt;Map.Entry&lt;K,V&gt;&gt; maxByKey(Comparator&lt;? super K&gt; comparator) {\r\n            return entries().max(Map.Entry.comparingByKey(comparator));\r\n        }\r\n        default Optional&lt;Map.Entry&lt;K,V&gt;&gt; maxByValue(Comparator&lt;? super V&gt; comparator) {\r\n            return entries().max(Map.Entry.comparingByValue(comparator));\r\n        }\r\n        default Optional&lt;Map.Entry&lt;K,V&gt;&gt; minByKey(Comparator&lt;? super K&gt; comparator) {\r\n            return entries().min(Map.Entry.comparingByKey(comparator));\r\n        }\r\n        default Optional&lt;Map.Entry&lt;K,V&gt;&gt; minByValue(Comparator&lt;? super V&gt; comparator) {\r\n            return entries().min(Map.Entry.comparingByValue(comparator));\r\n        }\r\n        default void forEach(BiConsumer&lt;? super K, ? super V&gt; action) {\r\n            entries().forEach(e-&gt;action.accept(e.getKey(), e.getValue()));\r\n        }\r\n        default void forEachOrdered(BiConsumer&lt;? super K, ? super V&gt; action) {\r\n            entries().forEachOrdered(e-&gt;action.accept(e.getKey(), e.getValue()));\r\n        }\r\n\r\n        default Map&lt;K,V&gt; toMap() {\r\n            return entries().collect(\r\n                Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\r\n        }\r\n        default Map&lt;K,V&gt; toMap(BinaryOperator&lt;V&gt; valAccum) {\r\n            return entries().collect(\r\n                Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue, valAccum));\r\n        }\r\n    }\r\n","title":"Any way to stream a map like &quot;(k,v)&quot; instead of working with (entry)?","body":"<p>Since this is a repeating question, I will throw a full solution into the ring. It’s a <code>PairStream</code> type that is by default a simple wrapper around an ordinary <code>Stream</code> (though, being an <code>interface</code>, alternatives are possible).</p>\n\n<p>It focuses on providing the convenient intermediate operations and those terminal operations which can not be easily performed by calling one of the methods <code>keys()</code>, <code>values()</code> or <code>entries()</code> to return to a conventional single-element <code>Stream</code> and chain a terminal operation. So for example, <code>PairStream.from(map).filterValue(predicate).keys().findAny()</code> is the straight-forward way to get a key for which the mapped value matches the predicate. <code>filterValue</code> is a convenience intermediate operation and <code>keys</code> turn back to an ordinary <code>Stream</code> allowing an arbitrary terminal operation for the keys.</p>\n\n<p>Some examples</p>\n\n<pre><code>    Map&lt;String,Integer&gt; m=new HashMap&lt;&gt;();\n    m.put(\"foo\", 5);\n    m.put(\"bar\", 7);\n    m.put(\"baz\", 42);\n    // {b=49, f=5}\n    Map&lt;Character,Integer&gt; m2=PairStream.from(m)\n      .mapKey(s-&gt;s.charAt(0))\n      .toMap(Integer::sum);\n\n    // foo bar\n    String str=PairStream.from(m)\n      .filterValue(i-&gt;i&lt;30)\n      .keys().sorted(Comparator.reverseOrder())\n      .collect(Collectors.joining(\" \"));\n</code></pre>\n\n<p> </p>\n\n<pre><code>    Map&lt;String,Integer&gt; map=new HashMap&lt;&gt;();\n    map.put(\"muhv~\", 26);\n    map.put(\"kfool\", 3);\n    String str = PairStream.from(map)\n      .sortedByValue(Comparator.naturalOrder())\n      .flatMapToInt((s,i)-&gt;s.codePoints().map(c-&gt;c^i))\n      .collect(StringBuilder::new, StringBuilder::appendCodePoint, StringBuilder::append)\n      .toString();\n</code></pre>\n\n<p>Here is the complete class (I haven’t tested all operations, however most of it is straight-forward):</p>\n\n<pre><code>import java.util.*;\nimport java.util.function.*;\nimport java.util.stream.*;\n\npublic interface PairStream&lt;K,V&gt; {\n    static &lt;K,V&gt; PairStream&lt;K,V&gt; from(Map&lt;K,V&gt; map) {\n        return from(map.entrySet().stream());\n    }\n    static &lt;K,V&gt; PairStream&lt;K,V&gt; from(Stream&lt;Map.Entry&lt;K,V&gt;&gt; s) {\n        return ()-&gt;s;\n    }\n    static &lt;K,V&gt; PairStream&lt;K,V&gt; from(Stream&lt;K&gt; s, Function&lt;? super K, ? extends V&gt; f) {\n        return ()-&gt;s.map(k-&gt;new AbstractMap.SimpleImmutableEntry&lt;&gt;(k, f.apply(k)));\n    }\n\n    default PairStream&lt;K,V&gt; distinct() {\n        return from(entries().distinct());\n    }\n    default PairStream&lt;K,V&gt; peek(BiConsumer&lt;? super K, ? super V&gt; action) {\n        return from(entries().peek(e-&gt;action.accept(e.getKey(), e.getValue())));\n    }\n    default PairStream&lt;K,V&gt; skip(long n) {\n        return from(entries().skip(n));\n    }\n    default PairStream&lt;K,V&gt; limit(long maxSize) {\n        return from(entries().limit(maxSize));\n    }\n    default PairStream&lt;K,V&gt; filterKey(Predicate&lt;? super K&gt; mapper) {\n        return from(entries().filter(e-&gt;mapper.test(e.getKey())));\n    }\n    default PairStream&lt;K,V&gt; filterValue(Predicate&lt;? super V&gt; mapper) {\n        return from(entries().filter(e-&gt;mapper.test(e.getValue())));\n    }\n    default PairStream&lt;K,V&gt; filter(BiPredicate&lt;? super K, ? super V&gt; mapper) {\n        return from(entries().filter(e-&gt;mapper.test(e.getKey(), e.getValue())));\n    }\n    default &lt;R&gt; PairStream&lt;R,V&gt; mapKey(Function&lt;? super K,? extends R&gt; mapper) {\n        return from(entries().map(e-&gt;new AbstractMap.SimpleImmutableEntry&lt;&gt;(\n            mapper.apply(e.getKey()), e.getValue()\n        )));\n    }\n    default &lt;R&gt; PairStream&lt;K,R&gt; mapValue(Function&lt;? super V,? extends R&gt; mapper) {\n        return from(entries().map(e-&gt;new AbstractMap.SimpleImmutableEntry&lt;&gt;(\n            e.getKey(), mapper.apply(e.getValue())\n        )));\n    }\n    default &lt;R&gt; Stream&lt;R&gt; map(BiFunction&lt;? super K, ? super V,? extends R&gt; mapper) {\n        return entries().map(e-&gt;mapper.apply(e.getKey(), e.getValue()));\n    }\n    default DoubleStream mapToDouble(ToDoubleBiFunction&lt;? super K, ? super V&gt; mapper) {\n        return entries().mapToDouble(e-&gt;mapper.applyAsDouble(e.getKey(), e.getValue()));\n    }\n    default IntStream mapToInt(ToIntBiFunction&lt;? super K, ? super V&gt; mapper) {\n        return entries().mapToInt(e-&gt;mapper.applyAsInt(e.getKey(), e.getValue()));\n    }\n    default LongStream mapToLong(ToLongBiFunction&lt;? super K, ? super V&gt; mapper) {\n        return entries().mapToLong(e-&gt;mapper.applyAsLong(e.getKey(), e.getValue()));\n    }\n    default &lt;RK,RV&gt; PairStream&lt;RK,RV&gt; flatMap(\n            BiFunction&lt;? super K, ? super V,? extends PairStream&lt;RK,RV&gt;&gt; mapper) {\n        return from(entries().flatMap(\n            e-&gt;mapper.apply(e.getKey(), e.getValue()).entries()));\n    }\n    default &lt;R&gt; Stream&lt;R&gt; flatMapToObj(\n            BiFunction&lt;? super K, ? super V,? extends Stream&lt;R&gt;&gt; mapper) {\n        return entries().flatMap(e-&gt;mapper.apply(e.getKey(), e.getValue()));\n    }\n    default DoubleStream flatMapToDouble(\n            BiFunction&lt;? super K, ? super V,? extends DoubleStream&gt; mapper) {\n        return entries().flatMapToDouble(e-&gt;mapper.apply(e.getKey(), e.getValue()));\n    }\n    default IntStream flatMapToInt(\n            BiFunction&lt;? super K, ? super V,? extends IntStream&gt; mapper) {\n        return entries().flatMapToInt(e-&gt;mapper.apply(e.getKey(), e.getValue()));\n    }\n    default LongStream flatMapToLong(\n            BiFunction&lt;? super K, ? super V,? extends LongStream&gt; mapper) {\n        return entries().flatMapToLong(e-&gt;mapper.apply(e.getKey(), e.getValue()));\n    }\n    default PairStream&lt;K,V&gt; sortedByKey(Comparator&lt;? super K&gt; comparator) {\n        return from(entries().sorted(Map.Entry.comparingByKey(comparator)));\n    }\n    default PairStream&lt;K,V&gt; sortedByValue(Comparator&lt;? super V&gt; comparator) {\n        return from(entries().sorted(Map.Entry.comparingByValue(comparator)));\n    }\n\n    default boolean allMatch(BiPredicate&lt;? super K,? super V&gt; predicate) {\n        return entries().allMatch(e-&gt;predicate.test(e.getKey(), e.getValue()));\n    }\n    default boolean anyMatch(BiPredicate&lt;? super K,? super V&gt; predicate) {\n        return entries().anyMatch(e-&gt;predicate.test(e.getKey(), e.getValue()));\n    }\n    default boolean noneMatch(BiPredicate&lt;? super K,? super V&gt; predicate) {\n        return entries().noneMatch(e-&gt;predicate.test(e.getKey(), e.getValue()));\n    }\n    default long count() {\n        return entries().count();\n    }\n\n    Stream&lt;Map.Entry&lt;K,V&gt;&gt; entries();\n    default Stream&lt;K&gt; keys() {\n        return entries().map(Map.Entry::getKey);\n    }\n    default Stream&lt;V&gt; values() {\n        return entries().map(Map.Entry::getValue);\n    }\n    default Optional&lt;Map.Entry&lt;K,V&gt;&gt; maxByKey(Comparator&lt;? super K&gt; comparator) {\n        return entries().max(Map.Entry.comparingByKey(comparator));\n    }\n    default Optional&lt;Map.Entry&lt;K,V&gt;&gt; maxByValue(Comparator&lt;? super V&gt; comparator) {\n        return entries().max(Map.Entry.comparingByValue(comparator));\n    }\n    default Optional&lt;Map.Entry&lt;K,V&gt;&gt; minByKey(Comparator&lt;? super K&gt; comparator) {\n        return entries().min(Map.Entry.comparingByKey(comparator));\n    }\n    default Optional&lt;Map.Entry&lt;K,V&gt;&gt; minByValue(Comparator&lt;? super V&gt; comparator) {\n        return entries().min(Map.Entry.comparingByValue(comparator));\n    }\n    default void forEach(BiConsumer&lt;? super K, ? super V&gt; action) {\n        entries().forEach(e-&gt;action.accept(e.getKey(), e.getValue()));\n    }\n    default void forEachOrdered(BiConsumer&lt;? super K, ? super V&gt; action) {\n        entries().forEachOrdered(e-&gt;action.accept(e.getKey(), e.getValue()));\n    }\n\n    default Map&lt;K,V&gt; toMap() {\n        return entries().collect(\n            Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\n    }\n    default Map&lt;K,V&gt; toMap(BinaryOperator&lt;V&gt; valAccum) {\n        return entries().collect(\n            Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue, valAccum));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2078462,"reputation":10342,"user_id":2986984,"accept_rate":80,"display_name":"tkruse"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1551349454,"creation_date":1551349454,"answer_id":54923378,"question_id":29239377,"body_markdown":"Using guavas Maps.transformEntries:\r\n\r\n    Map&lt;String,Integer&gt; m = new HashMap&lt;&gt;();\r\n    m.put(&quot;foo&quot;, 5);\r\n    m.put(&quot;bar&quot;, 7);\r\n    m.put(&quot;baz&quot;, 42);\r\n\r\n    Map newMapView = Maps.transformEntries(m, (k, v) -&gt; k + &quot;:&quot; + v);","title":"Any way to stream a map like &quot;(k,v)&quot; instead of working with (entry)?","body":"<p>Using guavas Maps.transformEntries:</p>\n\n<pre><code>Map&lt;String,Integer&gt; m = new HashMap&lt;&gt;();\nm.put(\"foo\", 5);\nm.put(\"bar\", 7);\nm.put(\"baz\", 42);\n\nMap newMapView = Maps.transformEntries(m, (k, v) -&gt; k + \":\" + v);\n</code></pre>\n"}],"owner":{"account_id":1429890,"reputation":6439,"user_id":1352530,"accept_rate":75,"display_name":"Whimusical"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13394,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":29254246,"answer_count":4,"score":25,"last_activity_date":1637140236,"creation_date":1427218841,"question_id":29239377,"body_markdown":"Basically I look for a way to avoid working with \r\n\r\n    entry -&gt; entry.getValue\r\nand\r\n\r\n    entry -&gt; entry.getKey\r\n\r\n\r\nsimilar to what `Map.forEach()` does.\r\n\r\nIf only I could get a way to work as `map.stream().filter((k,v) -&gt; )`... and so on\r\n\r\nIt seems the interface is called BiConsumer.\r\nPerhaps with a converter to BiConsumer or a Stream.generate() someway","title":"Any way to stream a map like &quot;(k,v)&quot; instead of working with (entry)?","body":"<p>Basically I look for a way to avoid working with </p>\n\n<pre><code>entry -&gt; entry.getValue\n</code></pre>\n\n<p>and</p>\n\n<pre><code>entry -&gt; entry.getKey\n</code></pre>\n\n<p>similar to what <code>Map.forEach()</code> does.</p>\n\n<p>If only I could get a way to work as <code>map.stream().filter((k,v) -&gt; )</code>... and so on</p>\n\n<p>It seems the interface is called BiConsumer.\nPerhaps with a converter to BiConsumer or a Stream.generate() someway</p>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":2,"creation_date":1636996130,"post_id":69978160,"comment_id":123701177,"body_markdown":"What exactly means &quot;but neither helped me&quot;? Both methods work as told in documentation. So where and how exactly are you trying to get the calculated values and how does it fail?","body":"What exactly means &quot;but neither helped me&quot;? Both methods work as told in documentation. So where and how exactly are you trying to get the calculated values and how does it fail?"},{"owner":{"account_id":9247894,"reputation":15,"user_id":6911491,"display_name":"Gevorg Arutiunian"},"score":0,"creation_date":1636997265,"post_id":69978160,"comment_id":123701548,"body_markdown":"@AxelRichter I updated the question with my code","body":"@AxelRichter I updated the question with my code"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":2,"creation_date":1636997885,"post_id":69978160,"comment_id":123701762,"body_markdown":"The question was where and how exactly are you trying to get the calculated values and how does it fail? The `setForceFormulaRecalculation` only works using `Excel`. It does not work using `OpenOffice` or `LibreOffice` `Calc`. But  `FormulaEvaluator.evaluateAll` should evaluate all formulas in workbook or should throw exception. And it should store the results as cached formula cell values. If not, what `apache poi` version? What formula gets not evaluated?","body":"The question was where and how exactly are you trying to get the calculated values and how does it fail? The <code>setForceFormulaRecalculation</code> only works using <code>Excel</code>. It does not work using <code>OpenOffice</code> or <code>LibreOffice</code> <code>Calc</code>. But  <code>FormulaEvaluator.evaluateAll</code> should evaluate all formulas in workbook or should throw exception. And it should store the results as cached formula cell values. If not, what <code>apache poi</code> version? What formula gets not evaluated?"},{"owner":{"account_id":9247894,"reputation":15,"user_id":6911491,"display_name":"Gevorg Arutiunian"},"score":0,"creation_date":1637137401,"post_id":69978160,"comment_id":123742378,"body_markdown":"@AxelRichter I use Microsoft Excel template. My POI version is 3.17. I use simple formulas, like `SUM(A1:A10)`. But I use formulas in Russian( `СУММ(А1:А10)` ), maybe that&#39;s the problem? But in any case, `setForceFormulaRecalculation(true)` should work, right?","body":"@AxelRichter I use Microsoft Excel template. My POI version is 3.17. I use simple formulas, like <code>SUM(A1:A10)</code>. But I use formulas in Russian( <code>СУММ(А1:А10)</code> ), maybe that&#39;s the problem? But in any case, <code>setForceFormulaRecalculation(true)</code> should work, right?"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1637137810,"post_id":69978160,"comment_id":123742515,"body_markdown":"Yes `setForceFormulaRecalculation` should work when the result file gets opened using `Excel`. Except you disabled auto calculation in `Excel`. And the formula localization is not the problem as `Excel` stores formulas in `en-US` always. The localization is done in local `Excel` application only. But what errors you get using `workbook.getCreationHelper().createFormulaEvaluator().evaluateAll()`?","body":"Yes <code>setForceFormulaRecalculation</code> should work when the result file gets opened using <code>Excel</code>. Except you disabled auto calculation in <code>Excel</code>. And the formula localization is not the problem as <code>Excel</code> stores formulas in <code>en-US</code> always. The localization is done in local <code>Excel</code> application only. But what errors you get using <code>workbook.getCreationHelper().createFormulaEvaluator().evalua&zwnj;&#8203;teAll()</code>?"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1637139110,"post_id":69978160,"comment_id":123742988,"body_markdown":"*Argh*. I&#39;ve overseen something in your code. All new values you set are string values. So if `String[] paramArray` contains &quot;123&quot; for example, you set the string &quot;123&quot; as cell value instead of the number 123. But `SUM` cannot sum strings. It only sums numeric values. So it only will work if you change cell having &quot;123&quot; in it to have 123 then. So set numeric values as numeric values. There are methods in `Cell` for this. [void setCellValue(double value)](https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Cell.html#setCellValue-double-) for example.","body":"<i>Argh</i>. I&#39;ve overseen something in your code. All new values you set are string values. So if <code>String[] paramArray</code> contains &quot;123&quot; for example, you set the string &quot;123&quot; as cell value instead of the number 123. But <code>SUM</code> cannot sum strings. It only sums numeric values. So it only will work if you change cell having &quot;123&quot; in it to have 123 then. So set numeric values as numeric values. There are methods in <code>Cell</code> for this. <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Cell.html#setCellValue-double-\" rel=\"nofollow noreferrer\">void setCellValue(double value)</a> for example."}],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637140176,"creation_date":1637140176,"answer_id":70001547,"question_id":69978160,"body_markdown":"You should not set all cell values as string values in Excel. Formulas which expect numeric values or date values will not work when the referred cells contain string values.\r\n\r\nAs of your provided code, all new values you set are string values. So if `String[] paramArray` contains &quot;123&quot; for example, you set the string &quot;123&quot; as cell value instead of the number 123. But for example formula `SUM`  cannot sum strings. It only sums numeric values. So it only will work if you change cell having &quot;123&quot; in it to have 123 then. So set numeric values as numeric values. There are methods in `Cell` for this. [void setCellValue(double value)](https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Cell.html#setCellValue-double-) for example.\r\n\r\nThe same is with date values. Those also needs to be set as date values into the cells instead simply as strings.\r\n\r\nSo you need a different object than `String[] params` to hand over the cell values. This object must be able to store numeric values too. For example a `List&lt;Object&gt;` or a `List&lt;POJO&gt;` where `POJO` is any kind of plain old Java object storing the information. Then use different `setCellValue` methods of [Cell](https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Cell.html) to set string cell values or numeric cell values or date cell values.\r\n\r\nElse you need creating a numeric value (`double`) from the string got from `String[] params` before you set it into the `Cell`. Same for date values - create a date value (`Calendar` or `LocalDate` or `LocalDateTime`) from the string got from `String[] params` before you set it into the `Cell`. But that is the more error prone approach in my opinion. ","title":"Formula recalculation in excel template POI JAVA","body":"<p>You should not set all cell values as string values in Excel. Formulas which expect numeric values or date values will not work when the referred cells contain string values.</p>\n<p>As of your provided code, all new values you set are string values. So if <code>String[] paramArray</code> contains &quot;123&quot; for example, you set the string &quot;123&quot; as cell value instead of the number 123. But for example formula <code>SUM</code>  cannot sum strings. It only sums numeric values. So it only will work if you change cell having &quot;123&quot; in it to have 123 then. So set numeric values as numeric values. There are methods in <code>Cell</code> for this. <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Cell.html#setCellValue-double-\" rel=\"nofollow noreferrer\">void setCellValue(double value)</a> for example.</p>\n<p>The same is with date values. Those also needs to be set as date values into the cells instead simply as strings.</p>\n<p>So you need a different object than <code>String[] params</code> to hand over the cell values. This object must be able to store numeric values too. For example a <code>List&lt;Object&gt;</code> or a <code>List&lt;POJO&gt;</code> where <code>POJO</code> is any kind of plain old Java object storing the information. Then use different <code>setCellValue</code> methods of <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Cell.html\" rel=\"nofollow noreferrer\">Cell</a> to set string cell values or numeric cell values or date cell values.</p>\n<p>Else you need creating a numeric value (<code>double</code>) from the string got from <code>String[] params</code> before you set it into the <code>Cell</code>. Same for date values - create a date value (<code>Calendar</code> or <code>LocalDate</code> or <code>LocalDateTime</code>) from the string got from <code>String[] params</code> before you set it into the <code>Cell</code>. But that is the more error prone approach in my opinion.</p>\n"}],"owner":{"account_id":9247894,"reputation":15,"user_id":6911491,"display_name":"Gevorg Arutiunian"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":475,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70001547,"answer_count":1,"score":0,"last_activity_date":1637140176,"creation_date":1636995733,"question_id":69978160,"body_markdown":"I have an Excel template file with formulas in some cells, I open it and fill in the values using POI. The problem is that the formulas aren&#39;t automatically recalculated. But if I open this file and click on a cell with a value, it recalculates that cell.\r\n\r\n\r\nI found two ways to solve this issue in the [documentation][1], but neither helped me.\r\n\r\nThe point is that Excel caches previously calculated results and you need to trigger recalculation to updated them.\r\n\r\n1. Re-evaluate formulas with POI&#39;s FormulaEvaluator\r\n\r\n    ```workbook.getCreationHelper().createFormulaEvaluator().evaluateAll();```\r\n2. Delegate re-calculation to Excel. The application will perform a full recalculation when the workbook is opened\r\n\r\n    ```workbook.setForceFormulaRecalculation(true);```\r\n\r\n\r\nMy code:\r\n```\r\n    public static String fillBook(String filename, String outFilename,  int sheetNumber, String[] params){ \r\n        String result = &quot;&quot;;\r\n        try {\r\n            File file = new File(filename);\r\n\r\n            Workbook workbook = null;\r\n            workbook = WorkbookFactory.create(file);\r\n            Sheet sheet = workbook.getSheetAt(sheetNumber);\r\n\r\n            for (String param: params)\r\n            {\r\n                String[] paramArray = param.split(&quot;\\u0001&quot;);\r\n                String address = paramArray[0];\r\n                String value;\r\n\r\n                if (paramArray.length &gt; 1)\r\n                {\r\n                    value = paramArray[1];\r\n                } else {\r\n                    value = &quot;&quot;;\r\n                }\r\n\r\n                CellReference cellReference = new CellReference(address);\r\n                Row row = sheet.getRow(cellReference.getRow());\r\n\r\n                if (row == null) {\r\n                    row = sheet.createRow(cellReference.getRow());\r\n                }\r\n\r\n                Cell cell = row.getCell(cellReference.getCol(), Row.MissingCellPolicy.CREATE_NULL_AS_BLANK);\r\n                cell.setCellValue(value);\r\n            }\r\n\r\n            //workbook.getCreationHelper().createFormulaEvaluator().evaluateAll();\r\n            workbook.setForceFormulaRecalculation(true);\r\n\r\n            FileOutputStream out = new FileOutputStream(outFilename);\r\n            workbook.write(out);\r\n            out.close();\r\n\r\n        } catch (Exception e) {\r\n            StringWriter sw = new StringWriter();\r\n            e.printStackTrace(new PrintWriter(sw));\r\n            String exceptionAsString = sw.toString();\r\n\r\n            result = e.toString() + &quot; &quot; + exceptionAsString;\r\n        }\r\n        return result;\r\n    }\r\n```\r\n\r\n  [1]: http://poi.apache.org/components/spreadsheet/eval.html#:~:text=Recalculation%20of%20Formulas","title":"Formula recalculation in excel template POI JAVA","body":"<p>I have an Excel template file with formulas in some cells, I open it and fill in the values using POI. The problem is that the formulas aren't automatically recalculated. But if I open this file and click on a cell with a value, it recalculates that cell.</p>\n<p>I found two ways to solve this issue in the <a href=\"http://poi.apache.org/components/spreadsheet/eval.html#:%7E:text=Recalculation%20of%20Formulas\" rel=\"nofollow noreferrer\">documentation</a>, but neither helped me.</p>\n<p>The point is that Excel caches previously calculated results and you need to trigger recalculation to updated them.</p>\n<ol>\n<li><p>Re-evaluate formulas with POI's FormulaEvaluator</p>\n<p><code>workbook.getCreationHelper().createFormulaEvaluator().evaluateAll();</code></p>\n</li>\n<li><p>Delegate re-calculation to Excel. The application will perform a full recalculation when the workbook is opened</p>\n<p><code>workbook.setForceFormulaRecalculation(true);</code></p>\n</li>\n</ol>\n<p>My code:</p>\n<pre><code>    public static String fillBook(String filename, String outFilename,  int sheetNumber, String[] params){ \n        String result = &quot;&quot;;\n        try {\n            File file = new File(filename);\n\n            Workbook workbook = null;\n            workbook = WorkbookFactory.create(file);\n            Sheet sheet = workbook.getSheetAt(sheetNumber);\n\n            for (String param: params)\n            {\n                String[] paramArray = param.split(&quot;\\u0001&quot;);\n                String address = paramArray[0];\n                String value;\n\n                if (paramArray.length &gt; 1)\n                {\n                    value = paramArray[1];\n                } else {\n                    value = &quot;&quot;;\n                }\n\n                CellReference cellReference = new CellReference(address);\n                Row row = sheet.getRow(cellReference.getRow());\n\n                if (row == null) {\n                    row = sheet.createRow(cellReference.getRow());\n                }\n\n                Cell cell = row.getCell(cellReference.getCol(), Row.MissingCellPolicy.CREATE_NULL_AS_BLANK);\n                cell.setCellValue(value);\n            }\n\n            //workbook.getCreationHelper().createFormulaEvaluator().evaluateAll();\n            workbook.setForceFormulaRecalculation(true);\n\n            FileOutputStream out = new FileOutputStream(outFilename);\n            workbook.write(out);\n            out.close();\n\n        } catch (Exception e) {\n            StringWriter sw = new StringWriter();\n            e.printStackTrace(new PrintWriter(sw));\n            String exceptionAsString = sw.toString();\n\n            result = e.toString() + &quot; &quot; + exceptionAsString;\n        }\n        return result;\n    }\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8149,"page":1843,"page_size":100}
