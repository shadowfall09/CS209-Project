{"items":[{"tags":["java","arrays","text-files"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1673549136,"post_id":75100872,"comment_id":132530095,"body_markdown":"No, you *either* have to use something which doesn&#39;t require you to know the number of elements first (e.g. an ArrayList) *or* you need to read the data twice (create a new Scanner). I mean, you could say &quot;Well, let&#39;s assume there will never be more than 10,000 integers&quot; and create an `int[10000]` to start with, but that&#39;s a pretty brittle and inefficient way of working.","body":"No, you <i>either</i> have to use something which doesn&#39;t require you to know the number of elements first (e.g. an ArrayList) <i>or</i> you need to read the data twice (create a new Scanner). I mean, you could say &quot;Well, let&#39;s assume there will never be more than 10,000 integers&quot; and create an <code>int[10000]</code> to start with, but that&#39;s a pretty brittle and inefficient way of working."},{"owner":{"account_id":3142246,"reputation":2632,"user_id":2657515,"accept_rate":75,"display_name":"JonathanDavidArndt"},"score":1,"creation_date":1673551368,"post_id":75100872,"comment_id":132530820,"body_markdown":"Woah... you got a response from Jon Skeet. It&#39;s a good day to feel awesome!","body":"Woah... you got a response from Jon Skeet. It&#39;s a good day to feel awesome!"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1673553256,"post_id":75100872,"comment_id":132531346,"body_markdown":"No. There are other questions dealing with reading a file using `Scanner`, and going back to the beginning. You can find other questions by using `[java] reset scanner` in the search box. https://stackoverflow.com/search?q=%5Bjava%5D+reset+scanner","body":"No. There are other questions dealing with reading a file using <code>Scanner</code>, and going back to the beginning. You can find other questions by using <code>[java] reset scanner</code> in the search box. <a href=\"https://stackoverflow.com/search?q=%5Bjava%5D+reset+scanner\">stackoverflow.com/search?q=%5Bjava%5D+reset+scanner</a>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1673553518,"post_id":75100872,"comment_id":132531421,"body_markdown":"Off Topic:  Interesting that your student is being taught about using files before being taught about using `Collections`. I would think it would be the other way around.","body":"Off Topic:  Interesting that your student is being taught about using files before being taught about using <code>Collections</code>. I would think it would be the other way around."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1673553705,"post_id":75100872,"comment_id":132531488,"body_markdown":"If you really, really, don&#39;t want another `new Scanner`, you might try using some sort of [`RandomAccessFile`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/RandomAccessFile.html)","body":"If you really, really, don&#39;t want another <code>new Scanner</code>, you might try using some sort of <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/RandomAccessFile.html\" rel=\"nofollow noreferrer\"><code>RandomAccessFile</code></a>"},{"owner":{"account_id":5104066,"reputation":103,"user_id":4092744,"accept_rate":100,"display_name":"CSP.AT.MASH"},"score":0,"creation_date":1673555253,"post_id":75100872,"comment_id":132531915,"body_markdown":"Old Dog, I agree, and will try to find out why.","body":"Old Dog, I agree, and will try to find out why."},{"owner":{"account_id":5104066,"reputation":103,"user_id":4092744,"accept_rate":100,"display_name":"CSP.AT.MASH"},"score":0,"creation_date":1673618380,"post_id":75100872,"comment_id":132545744,"body_markdown":"Follow-up question: If I remove lines 4 and 12 (the ones that declare, initialize, and update variable y), the hasNextLine() method (and the hasNext() method) both return &quot;true&quot; and the loop continues indefinitely. In the text file I&#39;m reading from, there are only 11 values. Why would this happen if there are only 11 values to read? I thought that once there are no more values, the Scanner &quot;stops&quot; and has to be reset if I need to re-read the file a second time (refer to Queeg&#39;s response below and Old Dog&#39;s above). Is it because I removed the &quot;nextInt() method, and that &quot;moves&quot; things along?","body":"Follow-up question: If I remove lines 4 and 12 (the ones that declare, initialize, and update variable y), the hasNextLine() method (and the hasNext() method) both return &quot;true&quot; and the loop continues indefinitely. In the text file I&#39;m reading from, there are only 11 values. Why would this happen if there are only 11 values to read? I thought that once there are no more values, the Scanner &quot;stops&quot; and has to be reset if I need to re-read the file a second time (refer to Queeg&#39;s response below and Old Dog&#39;s above). Is it because I removed the &quot;nextInt() method, and that &quot;moves&quot; things along?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1673623409,"post_id":75100872,"comment_id":132547614,"body_markdown":"@CSP.AT.MASH. Yes. The API https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Scanner.html#hasNextLine() has this line in the description of the various hasNext~() methods: &quot;The scanner does not advance past any input.&quot;","body":"@CSP.AT.MASH. Yes. The API <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Scanner.html#hasNextLine()\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/11/docs/api/java.base/java/ut&zwnj;&#8203;il/&hellip;</a> has this line in the description of the various hasNext~() methods: &quot;The scanner does not advance past any input.&quot;"},{"owner":{"account_id":5104066,"reputation":103,"user_id":4092744,"accept_rate":100,"display_name":"CSP.AT.MASH"},"score":0,"creation_date":1673642513,"post_id":75100872,"comment_id":132553152,"body_markdown":"Bookmarked that link. I will do some homework. Thank you for your help.","body":"Bookmarked that link. I will do some homework. Thank you for your help."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673554165,"creation_date":1673554165,"answer_id":75101783,"question_id":75100872,"body_markdown":"When reading the file for the second pass, just dispose the old scanner and get a new one. It is all in one line:\r\n\r\n    reader = new Scanner(f);\r\n\r\nThis will overwrite the reader with a reference to a new Scanner, one that reads from the beginning of the file. The old Scanner instance, which is no longer accessible will automatically be cleared by the garbage collector.","title":"Java hasNextLine() method","body":"<p>When reading the file for the second pass, just dispose the old scanner and get a new one. It is all in one line:</p>\n<pre><code>reader = new Scanner(f);\n</code></pre>\n<p>This will overwrite the reader with a reference to a new Scanner, one that reads from the beginning of the file. The old Scanner instance, which is no longer accessible will automatically be cleared by the garbage collector.</p>\n"}],"owner":{"account_id":5104066,"reputation":103,"user_id":4092744,"accept_rate":100,"display_name":"CSP.AT.MASH"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":75101783,"answer_count":1,"score":0,"last_activity_date":1673554165,"creation_date":1673548462,"question_id":75100872,"body_markdown":"I am having a problem with the Scanner class method hasNextLine() (or the hasNext() method). Basically, I am trying to read from a text file that has a list of integer values. I need to read through the text file and store the values that are there in an array (not an arrayList). The code below first goes through the text file to &quot;see&quot; how many values are there. I&#39;m doing this because I can&#39;t think of another way to count the total number of integers that are in the text file, and I need to know how long my array has to be. \r\n\r\nThat being said, once I do that it seems that the hasNextLine() method (or the hasNext() method) &quot;stays&quot; at the bottom of the text file once I loop through: \r\n\r\n    import java.util.Scanner;\r\n    import java.io.*; \r\n    import java.util.*; \r\n    \r\n    public class Main{\r\n      public static void main(String[] args) throws IOException\r\n      {\r\n        int y = 0; //stores numbers from the text file below\r\n        int counter = 0; //stores the number of datapoints in the text file to read from \r\n        \r\n        File f = new File(&quot;Test Data.txt&quot;);// load an external file into a variable of type File. \r\n                     \r\n        Scanner reader = new Scanner(f);//instead of using System.in use f. \r\n            \r\n        while (reader.hasNext()) // this will read the file&#39;s contents line-by-line\r\n    \t\t{\r\n    \t\t\ty = reader.nextInt(); \r\n    \t\t\tcounter++;/*stores the total number of integers in the Test Data.txt file so I can \r\n                            know how long my array that stores the numbers from the txt file needs \r\n                            to be.*/\r\n    \t\t}//ends loop \r\n    \t\tSystem.out.println(&quot;YOU HAVE &quot; + counter + &quot; DATA POINTS IN THE FILE&quot;);\r\n    \t\t\r\n    \t\tint [] myNumbers = new int[counter]; //will store the integers from a data file\r\n    \r\n    \t\tfor (int i = 0; i &lt; counter; i++){\r\n    \t\t\tif (reader.hasNext()){\r\n    \t\t\t\tSystem.out.println(i); \r\n    \t\t\t\tmyNumbers[i] = reader.nextInt();\r\n    \t\t\t}//ends if statement\r\n    \t\t\t\r\n    \t\t}//ends loop filling array\r\n    \t\t\r\n    \t\t\r\n    \t\treader.close(); \r\n    \t}\r\n    }\r\n\r\nIs there a way to send the scanner &quot;back to the top&quot; of the text file WITHOUT creating a new scanner object? I know I could just create a new Scanner object, and then just loop and store each data point in an array, but it seems like there should be another way to do what I need to do. Is there? The documentation for the method in question doesn&#39;t mention much detail. I tried using the reset() method but that did not work. \r\n\r\n****I am not using an ArrayList because of a condition of the project I am working on.** I understand that I could use an arrayList and not have to worry about counting the number of data values in the text file. However, the student I am helping has not learned about arrayLists yet as his class does not include them in the beginner course he&#39;s taking.** ","title":"Java hasNextLine() method","body":"<p>I am having a problem with the Scanner class method hasNextLine() (or the hasNext() method). Basically, I am trying to read from a text file that has a list of integer values. I need to read through the text file and store the values that are there in an array (not an arrayList). The code below first goes through the text file to &quot;see&quot; how many values are there. I'm doing this because I can't think of another way to count the total number of integers that are in the text file, and I need to know how long my array has to be.</p>\n<p>That being said, once I do that it seems that the hasNextLine() method (or the hasNext() method) &quot;stays&quot; at the bottom of the text file once I loop through:</p>\n<pre><code>import java.util.Scanner;\nimport java.io.*; \nimport java.util.*; \n\npublic class Main{\n  public static void main(String[] args) throws IOException\n  {\n    int y = 0; //stores numbers from the text file below\n    int counter = 0; //stores the number of datapoints in the text file to read from \n    \n    File f = new File(&quot;Test Data.txt&quot;);// load an external file into a variable of type File. \n                 \n    Scanner reader = new Scanner(f);//instead of using System.in use f. \n        \n    while (reader.hasNext()) // this will read the file's contents line-by-line\n        {\n            y = reader.nextInt(); \n            counter++;/*stores the total number of integers in the Test Data.txt file so I can \n                        know how long my array that stores the numbers from the txt file needs \n                        to be.*/\n        }//ends loop \n        System.out.println(&quot;YOU HAVE &quot; + counter + &quot; DATA POINTS IN THE FILE&quot;);\n        \n        int [] myNumbers = new int[counter]; //will store the integers from a data file\n\n        for (int i = 0; i &lt; counter; i++){\n            if (reader.hasNext()){\n                System.out.println(i); \n                myNumbers[i] = reader.nextInt();\n            }//ends if statement\n            \n        }//ends loop filling array\n        \n        \n        reader.close(); \n    }\n}\n</code></pre>\n<p>Is there a way to send the scanner &quot;back to the top&quot; of the text file WITHOUT creating a new scanner object? I know I could just create a new Scanner object, and then just loop and store each data point in an array, but it seems like there should be another way to do what I need to do. Is there? The documentation for the method in question doesn't mention much detail. I tried using the reset() method but that did not work.</p>\n<p><strong><strong>I am not using an ArrayList because of a condition of the project I am working on.</strong> I understand that I could use an arrayList and not have to worry about counting the number of data values in the text file. However, the student I am helping has not learned about arrayLists yet as his class does not include them in the beginner course he's taking.</strong></p>\n"},{"tags":["java","spring-boot","logback","spring-logback"],"comments":[{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":0,"creation_date":1634309479,"post_id":69586499,"comment_id":122997245,"body_markdown":"How about setting logging.logback.rollingpolicy.max-history to 999999999 days?","body":"How about setting logging.logback.rollingpolicy.max-history to 999999999 days?"},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1634313389,"post_id":69586499,"comment_id":122998778,"body_markdown":"You need to put those logs somewhere long-term and not accumulate them in the place your application is running.","body":"You need to put those logs somewhere long-term and not accumulate them in the place your application is running."},{"owner":{"account_id":12486297,"reputation":41,"user_id":9089406,"display_name":"SHALOM OLOMOLAIYE"},"score":0,"creation_date":1634315580,"post_id":69586499,"comment_id":122999610,"body_markdown":"@ewramner yes this will work in holding but I was thinking of a more standard solution","body":"@ewramner yes this will work in holding but I was thinking of a more standard solution"},{"owner":{"account_id":12486297,"reputation":41,"user_id":9089406,"display_name":"SHALOM OLOMOLAIYE"},"score":0,"creation_date":1634315837,"post_id":69586499,"comment_id":122999707,"body_markdown":"@chrylis-cautiouslyoptimistic- you are correct, the company policy is to backup and not let them accumulate on the server, I can do as ewramner suggested and use a ridiculous number but as I said before, I am looking for the standard solution","body":"@chrylis-cautiouslyoptimistic- you are correct, the company policy is to backup and not let them accumulate on the server, I can do as ewramner suggested and use a ridiculous number but as I said before, I am looking for the standard solution"}],"answers":[{"tags":[],"owner":{"account_id":25829058,"reputation":132,"user_id":19566600,"display_name":"Sidharth Bajpai"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673553671,"creation_date":1673553671,"answer_id":75101699,"question_id":69586499,"body_markdown":"*According to the logback documentation*, [setting maxHistory to zero disables archive removal][1] and [setting totalSizeCap to zero disables archive removal by combined size threshold.][2] However, it is mentioned that &quot;*The totalSizeCap property requires maxHistory property to be set as well*&quot;. [The maxHistory of default FileAppender in Spring Boot is 7 by default.][3]\r\n*So, setting* \r\n\r\n&gt; logging.logback.rollingpolicy.max-history=0\r\n\r\n *in your application properties might do the trick.*\r\n```lang-yaml\r\nlogging:\r\n  logback:\r\n    rollingpolicy:\r\n      max-file-size: 0\r\n  file:\r\n    name: logs/application.log\r\n    max-size: 200MB\r\n  level:\r\n    org:\r\n      apache:\r\n        http: INFO\r\n      springframework:\r\n        cloud:\r\n          sleuth: INFO\r\n        web: INFO\r\n\r\n```\r\n\r\n  [1]: https://logback.qos.ch/manual/appenders.html#tbrpMaxHistory\r\n  [2]: https://logback.qos.ch/manual/appenders.html#tbrpTotalSizeCap\r\n  [3]: https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.core.logging.logback.rollingpolicy.max-history","title":"How to springboot Logback Prevent deleting of older Log files","body":"<p><em>According to the logback documentation</em>, <a href=\"https://logback.qos.ch/manual/appenders.html#tbrpMaxHistory\" rel=\"nofollow noreferrer\">setting maxHistory to zero disables archive removal</a> and <a href=\"https://logback.qos.ch/manual/appenders.html#tbrpTotalSizeCap\" rel=\"nofollow noreferrer\">setting totalSizeCap to zero disables archive removal by combined size threshold.</a> However, it is mentioned that &quot;<em>The totalSizeCap property requires maxHistory property to be set as well</em>&quot;. <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.core.logging.logback.rollingpolicy.max-history\" rel=\"nofollow noreferrer\">The maxHistory of default FileAppender in Spring Boot is 7 by default.</a>\n<em>So, setting</em></p>\n<blockquote>\n<p>logging.logback.rollingpolicy.max-history=0</p>\n</blockquote>\n<p><em>in your application properties might do the trick.</em></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>logging:\n  logback:\n    rollingpolicy:\n      max-file-size: 0\n  file:\n    name: logs/application.log\n    max-size: 200MB\n  level:\n    org:\n      apache:\n        http: INFO\n      springframework:\n        cloud:\n          sleuth: INFO\n        web: INFO\n\n</code></pre>\n"}],"owner":{"account_id":12486297,"reputation":41,"user_id":9089406,"display_name":"SHALOM OLOMOLAIYE"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1024,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75101699,"answer_count":1,"score":0,"last_activity_date":1673553671,"creation_date":1634308898,"question_id":69586499,"body_markdown":"My spring-boot application keeps archive logs for only 7 days as defined in the defaults as defined in the [logging defaults](https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.core).\r\n\r\nThe issue is that I need these logs to always be there and never be deleted.\r\n\r\nIs there a way to specify this?\r\n\r\nsample Config\r\n\r\n```\r\nlogging:\r\n  file:\r\n    name: logs/application.log\r\n  file.max-size: 200MB\r\n  level:\r\n    org.apache.http: INFO\r\n    org.springframework.cloud.sleuth: INFO\r\n    org.springframework.web: INFO\r\n```\r\n","title":"How to springboot Logback Prevent deleting of older Log files","body":"<p>My spring-boot application keeps archive logs for only 7 days as defined in the defaults as defined in the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.core\" rel=\"nofollow noreferrer\">logging defaults</a>.</p>\n<p>The issue is that I need these logs to always be there and never be deleted.</p>\n<p>Is there a way to specify this?</p>\n<p>sample Config</p>\n<pre><code>logging:\n  file:\n    name: logs/application.log\n  file.max-size: 200MB\n  level:\n    org.apache.http: INFO\n    org.springframework.cloud.sleuth: INFO\n    org.springframework.web: INFO\n</code></pre>\n"},{"tags":["java","cucumber","appium","cucumber-junit","appium-java"],"answers":[{"tags":[],"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673553016,"creation_date":1673553016,"answer_id":75101598,"question_id":75100911,"body_markdown":"&gt; By default, the Surefire Plugin will automatically include all test classes with the following wildcard patterns:\r\n&gt; \r\n&gt;  -  `**/Test*.java` - includes all of its subdirectories and all Java filenames that start with &quot;Test&quot;.\r\n&gt;  -  `**/*Test.java` - includes all of its subdirectories and all Java filenames that end with &quot;Test&quot;.\r\n&gt;  -  `**/*Tests.java` - includes all of its subdirectories and all Java filenames that end with &quot;Tests&quot;.\r\n&gt;  -  `**/*TestCase.java` - includes all of its subdirectories and all Java filenames that end with &quot;TestCase&quot;.\r\n&gt; \r\n&gt; https://maven.apache.org/surefire/maven-surefire-plugin/examples/inclusion-exclusion.html\r\n\r\nBy convention tests executed by Maven should end with &quot;Test&quot;. So your class should be named `RunCucumberTest`.\r\n\r\n","title":"JUnit Cucumber Runner not finding tests","body":"<blockquote>\n<p>By default, the Surefire Plugin will automatically include all test classes with the following wildcard patterns:</p>\n<ul>\n<li><code>**/Test*.java</code> - includes all of its subdirectories and all Java filenames that start with &quot;Test&quot;.</li>\n<li><code>**/*Test.java</code> - includes all of its subdirectories and all Java filenames that end with &quot;Test&quot;.</li>\n<li><code>**/*Tests.java</code> - includes all of its subdirectories and all Java filenames that end with &quot;Tests&quot;.</li>\n<li><code>**/*TestCase.java</code> - includes all of its subdirectories and all Java filenames that end with &quot;TestCase&quot;.</li>\n</ul>\n<p><a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/examples/inclusion-exclusion.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/surefire/maven-surefire-plugin/examples/inclusion-exclusion.html</a></p>\n</blockquote>\n<p>By convention tests executed by Maven should end with &quot;Test&quot;. So your class should be named <code>RunCucumberTest</code>.</p>\n"}],"owner":{"account_id":17048003,"reputation":358,"user_id":12334353,"display_name":"cdub"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75101598,"answer_count":1,"score":0,"last_activity_date":1673553016,"creation_date":1673548714,"question_id":75100911,"body_markdown":"Any one know why when I run `mvn clean test -Dos=android` it doesn&#39;t find any tests to run? It runs find if I use the built in Cucumber or JUnit runner in Intellij. I am using Appium and Java 8.\r\n\r\nHere are my files and folder structure\r\n\r\n[![Folder Structure][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hWzxP.png\r\n\r\npom.xml\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;App&lt;/groupId&gt;\r\n    &lt;artifactId&gt;Mobile-Automation&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.appium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;java-client&lt;/artifactId&gt;\r\n            &lt;version&gt;8.3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.13.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n            &lt;version&gt;7.10.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-core&lt;/artifactId&gt;\r\n            &lt;version&gt;7.10.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;gherkin&lt;/artifactId&gt;\r\n            &lt;version&gt;26.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n            &lt;version&gt;7.10.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nCucumberTestRunner.java\r\n```java\r\npackage runner;\r\n\r\n\r\nimport io.cucumber.junit.Cucumber;\r\nimport io.cucumber.junit.CucumberOptions;\r\nimport org.junit.runner.RunWith;\r\n\r\n@RunWith(Cucumber.class)\r\n@CucumberOptions(features = &quot;classpath:features&quot;, glue = {&quot;stepdefs&quot;}, plugin = {&quot;pretty&quot;, &quot;html:target/cucumber-html-report.html&quot;})\r\npublic class CucumberTestRunner {\r\n    public CucumberTestRunner(String[] args){}\r\n\r\n}\r\n```\r\n\r\nTestBase.java\r\n```java\r\npackage runner;\r\n\r\nimport io.appium.java_client.AppiumDriver;\r\nimport io.appium.java_client.android.AndroidDriver;\r\nimport io.appium.java_client.ios.IOSDriver;\r\nimport org.openqa.selenium.remote.DesiredCapabilities;\r\nimport pageobjects.LoginPage;\r\n\r\nimport java.io.FileInputStream;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.net.MalformedURLException;\r\nimport java.net.URL;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Paths;\r\nimport java.util.Properties;\r\n\r\npublic class TestBase {\r\n\r\n    public static AppiumDriver driver;\r\n    public static LoginPage loginPage;\r\n    static Properties props = new Properties();\r\n\r\n    public static void androidSetUp() throws MalformedURLException {\r\n        try (InputStream inputStream = ClassLoader.getSystemResourceAsStream(&quot;decivecapabilities.properties&quot;)){\r\n            props.load(inputStream);\r\n        } catch (Exception e) {e.printStackTrace();}\r\n\r\n        DesiredCapabilities androidCaps = new DesiredCapabilities();\r\n        androidCaps.setCapability(&quot;deviceName&quot;, props.getProperty(&quot;android.capability.deviceName&quot;));\r\n        androidCaps.setCapability(&quot;udid&quot;, props.getProperty(&quot;android.capability.udid&quot;));\r\n        androidCaps.setCapability(&quot;platformName&quot;, props.getProperty(&quot;android.capability.platformName&quot;));\r\n        androidCaps.setCapability(&quot;platformVersion&quot;, props.getProperty(&quot;android.capability.platformVersion&quot;));\r\n        androidCaps.setCapability(&quot;automationName&quot;, props.getProperty(&quot;android.capability.automationName&quot;));\r\n        androidCaps.setCapability(&quot;appPackage&quot;, props.getProperty(&quot;android.capability.appPackage&quot;));\r\n        androidCaps.setCapability(&quot;appActivity&quot;, props.getProperty(&quot;android.capability.appActivity&quot;));\r\n\r\n        driver = new AndroidDriver(new URL(&quot;http://localhost:4723/wd/hub&quot;), androidCaps);\r\n    }\r\n\r\n    public static void iosSetUp() throws MalformedURLException {\r\n        try (InputStream inputStream = ClassLoader.getSystemResourceAsStream(&quot;decivecapabilities.properties&quot;)){\r\n            props.load(inputStream);\r\n        } catch (Exception e) {e.printStackTrace();}\r\n\r\n        DesiredCapabilities iosCaps = new DesiredCapabilities();\r\n        iosCaps.setCapability(&quot;deviceName&quot;, props.getProperty(&quot;ios.capability.deviceName&quot;));\r\n        iosCaps.setCapability(&quot;udid&quot;, props.getProperty(&quot;ios.capability.udid&quot;));\r\n        iosCaps.setCapability(&quot;platformName&quot;, props.getProperty(&quot;ios.capability.platformName&quot;));\r\n        iosCaps.setCapability(&quot;platformVersion&quot;, props.getProperty(&quot;ios.capability.platformVersion&quot;));\r\n        iosCaps.setCapability(&quot;automationName&quot;, props.getProperty(&quot;ios.capability.automationName&quot;));\r\n        //iosCaps.setCapability(&quot;app&quot;, &quot;app-path&quot;);\r\n\r\n        driver = new IOSDriver(new URL(&quot;http://localhost:4723/wd/hub&quot;), iosCaps);\r\n\r\n\r\n    }\r\n\r\n    public static void pageObjectInit(){\r\n        loginPage = new LoginPage(driver);\r\n    }\r\n\r\n    public static void tearDown(){\r\n        if (driver != null){\r\n            driver.quit();\r\n        }\r\n\r\n    }\r\n}\r\n```\r\nAny insight is appreciated, and I can add post more files if needed. \r\n","title":"JUnit Cucumber Runner not finding tests","body":"<p>Any one know why when I run <code>mvn clean test -Dos=android</code> it doesn't find any tests to run? It runs find if I use the built in Cucumber or JUnit runner in Intellij. I am using Appium and Java 8.</p>\n<p>Here are my files and folder structure</p>\n<p><a href=\"https://i.stack.imgur.com/hWzxP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hWzxP.png\" alt=\"Folder Structure\" /></a></p>\n<p>pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;App&lt;/groupId&gt;\n    &lt;artifactId&gt;Mobile-Automation&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.appium&lt;/groupId&gt;\n            &lt;artifactId&gt;java-client&lt;/artifactId&gt;\n            &lt;version&gt;8.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n            &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n            &lt;version&gt;1.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n            &lt;version&gt;7.10.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-core&lt;/artifactId&gt;\n            &lt;version&gt;7.10.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;gherkin&lt;/artifactId&gt;\n            &lt;version&gt;26.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n            &lt;version&gt;7.10.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>CucumberTestRunner.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package runner;\n\n\nimport io.cucumber.junit.Cucumber;\nimport io.cucumber.junit.CucumberOptions;\nimport org.junit.runner.RunWith;\n\n@RunWith(Cucumber.class)\n@CucumberOptions(features = &quot;classpath:features&quot;, glue = {&quot;stepdefs&quot;}, plugin = {&quot;pretty&quot;, &quot;html:target/cucumber-html-report.html&quot;})\npublic class CucumberTestRunner {\n    public CucumberTestRunner(String[] args){}\n\n}\n</code></pre>\n<p>TestBase.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package runner;\n\nimport io.appium.java_client.AppiumDriver;\nimport io.appium.java_client.android.AndroidDriver;\nimport io.appium.java_client.ios.IOSDriver;\nimport org.openqa.selenium.remote.DesiredCapabilities;\nimport pageobjects.LoginPage;\n\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.net.MalformedURLException;\nimport java.net.URL;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.util.Properties;\n\npublic class TestBase {\n\n    public static AppiumDriver driver;\n    public static LoginPage loginPage;\n    static Properties props = new Properties();\n\n    public static void androidSetUp() throws MalformedURLException {\n        try (InputStream inputStream = ClassLoader.getSystemResourceAsStream(&quot;decivecapabilities.properties&quot;)){\n            props.load(inputStream);\n        } catch (Exception e) {e.printStackTrace();}\n\n        DesiredCapabilities androidCaps = new DesiredCapabilities();\n        androidCaps.setCapability(&quot;deviceName&quot;, props.getProperty(&quot;android.capability.deviceName&quot;));\n        androidCaps.setCapability(&quot;udid&quot;, props.getProperty(&quot;android.capability.udid&quot;));\n        androidCaps.setCapability(&quot;platformName&quot;, props.getProperty(&quot;android.capability.platformName&quot;));\n        androidCaps.setCapability(&quot;platformVersion&quot;, props.getProperty(&quot;android.capability.platformVersion&quot;));\n        androidCaps.setCapability(&quot;automationName&quot;, props.getProperty(&quot;android.capability.automationName&quot;));\n        androidCaps.setCapability(&quot;appPackage&quot;, props.getProperty(&quot;android.capability.appPackage&quot;));\n        androidCaps.setCapability(&quot;appActivity&quot;, props.getProperty(&quot;android.capability.appActivity&quot;));\n\n        driver = new AndroidDriver(new URL(&quot;http://localhost:4723/wd/hub&quot;), androidCaps);\n    }\n\n    public static void iosSetUp() throws MalformedURLException {\n        try (InputStream inputStream = ClassLoader.getSystemResourceAsStream(&quot;decivecapabilities.properties&quot;)){\n            props.load(inputStream);\n        } catch (Exception e) {e.printStackTrace();}\n\n        DesiredCapabilities iosCaps = new DesiredCapabilities();\n        iosCaps.setCapability(&quot;deviceName&quot;, props.getProperty(&quot;ios.capability.deviceName&quot;));\n        iosCaps.setCapability(&quot;udid&quot;, props.getProperty(&quot;ios.capability.udid&quot;));\n        iosCaps.setCapability(&quot;platformName&quot;, props.getProperty(&quot;ios.capability.platformName&quot;));\n        iosCaps.setCapability(&quot;platformVersion&quot;, props.getProperty(&quot;ios.capability.platformVersion&quot;));\n        iosCaps.setCapability(&quot;automationName&quot;, props.getProperty(&quot;ios.capability.automationName&quot;));\n        //iosCaps.setCapability(&quot;app&quot;, &quot;app-path&quot;);\n\n        driver = new IOSDriver(new URL(&quot;http://localhost:4723/wd/hub&quot;), iosCaps);\n\n\n    }\n\n    public static void pageObjectInit(){\n        loginPage = new LoginPage(driver);\n    }\n\n    public static void tearDown(){\n        if (driver != null){\n            driver.quit();\n        }\n\n    }\n}\n</code></pre>\n<p>Any insight is appreciated, and I can add post more files if needed.</p>\n"},{"tags":["java","windows-server-2012-r2","oc4j","winrun4j"],"comments":[{"owner":{"account_id":1432415,"reputation":10687,"user_id":1354537,"accept_rate":83,"display_name":"Marged"},"score":0,"creation_date":1453413587,"post_id":34935050,"comment_id":57602981,"body_markdown":"one recommendation: I used WinRun4J myself in the last years and it certainly has its strong points. But for running something as a service I would suggest [Apache Commons Daemon](https://commons.apache.org/proper/commons-daemon/) or Tanuki (as far as I know the x64 version has to be bought and is not available for free)","body":"one recommendation: I used WinRun4J myself in the last years and it certainly has its strong points. But for running something as a service I would suggest <a href=\"https://commons.apache.org/proper/commons-daemon/\" rel=\"nofollow noreferrer\">Apache Commons Daemon</a> or Tanuki (as far as I know the x64 version has to be bought and is not available for free)"},{"owner":{"account_id":7684746,"reputation":21,"user_id":5822939,"display_name":"ck_dc"},"score":0,"creation_date":1454070953,"post_id":34935050,"comment_id":57890907,"body_markdown":"Thanks, Marged.  I appreciate your feedback.  I don&#39;t know if we can purchase the Apache software or not, but I&#39;ll look at that as an option.","body":"Thanks, Marged.  I appreciate your feedback.  I don&#39;t know if we can purchase the Apache software or not, but I&#39;ll look at that as an option."},{"owner":{"account_id":1432415,"reputation":10687,"user_id":1354537,"accept_rate":83,"display_name":"Marged"},"score":0,"creation_date":1454071222,"post_id":34935050,"comment_id":57891078,"body_markdown":"Apache is available at no cost, only Tanuki comes at a price","body":"Apache is available at no cost, only Tanuki comes at a price"}],"owner":{"account_id":7684746,"reputation":21,"user_id":5822939,"display_name":"ck_dc"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":757,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1673552625,"creation_date":1453413225,"question_id":34935050,"body_markdown":"We are running the Oracle standalone OC4J J2EE web application server on our Windows 2012 R2 server.  The command line to start the oc4j server is as follows:\r\n\r\n    `java -jar %J2EE_HOME%\\oc4j.jar`\r\n\r\nThe J2EE_HOME system-wide environment variable has been set correctly, and we are able to start the web server from the command line.  \r\n \r\n    System Environment Variables:\r\n    `JAVA_HOME=C:\\Progra~1\\Java\\jdk1.7.0_65\\jre\\bin`\r\n    `J2EE_HOME=E:\\OC4J\\j2ee\\home`\r\n\r\nNow we need to run the OC4J server as a Windows Service.  To do this, we downloaded the WinRun4J open source application.  Following the winrun4j directions, I&#39;ve performed the following:\r\n\r\n    1) Created a new folder:  E:\\Custom_Apps\r\n    2) Copied the WinRun4J64 executable to the new folder\r\n    3) Renamed the WinRun4J64 executable to OC4J_WebServer\r\n    4) Copied the WinRun4J icon to the new folder and renamed it OC4J_WebServer\r\n    5) Created an initialization file in the E:\\Custom_Apps folder named OC4J_WebServer.\r\n\r\nThe initialization file contains the following lines:\r\n\r\n    &gt;working.directory=E:\\Custom_Apps\\working\\\r\n    &gt;vm.location=C:\\Program Files\\Java\\jdk1.7.0_65\\jre\\bin\\server\\jvm.dll\r\n    &gt;service.class=%J2EE_HOME%\\oc4j.jar\r\n    &gt;service.id=OC4JWebServer\r\n    &gt;service.name=WinRun4J_OC4J_Service\r\n    &gt;service.description=the OC4J Web Server service launched using winRun4J64.\r\n    &gt;classpath.1=%JAVA_HOME%\\*.jar\r\n    &gt;classpath.2=e:\\OC4J\\*.jar\r\n    &gt;classpath.3=e:\\Software\\WinRun4J\\winrun4j\\\r\n    &gt;vmarg.1=-Xdebug\r\n    &gt;vmarg.2=-Xnoagent\r\n    &gt;vmarg.3=-Xrunjdwp:transport=dt_socket,address=8787,server=y,suspend=n\r\n\r\nI executed the following commands at the command line to bind the icon and initializaton files to the executable:\r\n\r\n   `RCEDIT64.exe /I OC4J_WebServer.exe OC4J_WebServer.ico`\r\n   `RCEDIT64.exe /N OC4J_WebServer.exe OC4J_WebServer.ini`\r\n\r\nFinally, I ran the `OC4J_WebServer.exe --WinRun4J64:RegisterService` command to create the Windows service.  I received the following error:\r\n\r\n\r\n    &gt;E:\\Custom_Apps[info] Module Name: E:\\Custom_Apps\\OC4J_WebServer.exe\r\n    &gt;[info] Module INI:  E:\\Custom_Apps\\OC4J_WebServer.ini\r\n    &gt;[info] Module Dir:  E:\\Custom_Apps\r\n    &gt;[info] INI Dir: E:\\Custom_Apps\r\n    &gt;[info] Working directory set to: E:\\Custom_Apps\\working\r\n    &gt;[info] Configured vm.location:  C:\\Program Files\\Java\\jdk1.7.0_65\\jre\\bin\\server\\jvm.dll\r\n    &gt;[info] Found VM:  C:\\Program Files\\Java\\jdk1.7.0_65\\jre\\bin\\server\\jvm.dll\r\n    &gt;[info] Expanding Classpath:  C:\\Progra~1\\Java\\jdk1.7.0_65\\jre\\bin\\*.jar\r\n    &gt;[info] Expanding Classpath:  E:\\Software\\WinRun4J\\winrun4j\\\r\n    &gt;[info] Generated Classpath:\r\n    &gt;[info] VM Args:\r\n    &gt;[info] vmarg.0=-Xdebugvmarg.2=-Xnoagent\r\n    &gt;vmarg.3=-Xrunjdwp:transport=dt_socket,address=8787,\r\n    &gt;server=y,suspend=n\r\n    &gt;[info] vmarg.1=-Djava.class.path=\r\n    &gt;[info] Registering natives for Native class\r\n    &gt; [warn] Could not find Native class\r\n    &gt;  [err] Could not find service class\r\n    &gt;  [err] Failed to initialize service: 1\r\n        `java.lang.NoClassDefFoundError: e:\\OC4J\\j2ee\\home\\oc4j/jar\r\n        `Caused by: java.lang.ClassNotFoundException: e:\\OC4J\\j2ee\\home\\oc4j.jar\r\n        `at java.net.URLClassLooader$1.run(URLClassLoader.java:366)\r\n        `at java.net.URLClassLoader$1.run(URLClassLoader.java:355)\r\n        `at java.security.AccessController.doPrivileged(Native method)\r\n        `at java.net.URLClassLoader.findclass(URLClassLoader.java:354)\r\n        `at java.lang.ClassLoader.loadclass(ClassLoader.java:425)\r\n        `at sun.misc.Launcher$AppClassLoader.loadclass(Launcher.java:308)\r\n        `at java.lang.ClassLoader.loadclass(ClassLoader.java:358)\r\n\r\nI make no claims to being a java developer, and was hoping someone could help me out.  All I want to do is to be able to create a Windows service out of the `java -jar %J2EE_HOME%\\oc4j.jar` command.\r\n\r\nI&#39;d appreciate some help/insight into how to set this up.\r\n","title":"How to use winrun4j to start the standalone oc4j application service on Windows 2012 server?","body":"<p>We are running the Oracle standalone OC4J J2EE web application server on our Windows 2012 R2 server.  The command line to start the oc4j server is as follows:</p>\n\n<pre><code>`java -jar %J2EE_HOME%\\oc4j.jar`\n</code></pre>\n\n<p>The J2EE_HOME system-wide environment variable has been set correctly, and we are able to start the web server from the command line.  </p>\n\n<pre><code>System Environment Variables:\n`JAVA_HOME=C:\\Progra~1\\Java\\jdk1.7.0_65\\jre\\bin`\n`J2EE_HOME=E:\\OC4J\\j2ee\\home`\n</code></pre>\n\n<p>Now we need to run the OC4J server as a Windows Service.  To do this, we downloaded the WinRun4J open source application.  Following the winrun4j directions, I've performed the following:</p>\n\n<pre><code>1) Created a new folder:  E:\\Custom_Apps\n2) Copied the WinRun4J64 executable to the new folder\n3) Renamed the WinRun4J64 executable to OC4J_WebServer\n4) Copied the WinRun4J icon to the new folder and renamed it OC4J_WebServer\n5) Created an initialization file in the E:\\Custom_Apps folder named OC4J_WebServer.\n</code></pre>\n\n<p>The initialization file contains the following lines:</p>\n\n<pre><code>&gt;working.directory=E:\\Custom_Apps\\working\\\n&gt;vm.location=C:\\Program Files\\Java\\jdk1.7.0_65\\jre\\bin\\server\\jvm.dll\n&gt;service.class=%J2EE_HOME%\\oc4j.jar\n&gt;service.id=OC4JWebServer\n&gt;service.name=WinRun4J_OC4J_Service\n&gt;service.description=the OC4J Web Server service launched using winRun4J64.\n&gt;classpath.1=%JAVA_HOME%\\*.jar\n&gt;classpath.2=e:\\OC4J\\*.jar\n&gt;classpath.3=e:\\Software\\WinRun4J\\winrun4j\\\n&gt;vmarg.1=-Xdebug\n&gt;vmarg.2=-Xnoagent\n&gt;vmarg.3=-Xrunjdwp:transport=dt_socket,address=8787,server=y,suspend=n\n</code></pre>\n\n<p>I executed the following commands at the command line to bind the icon and initializaton files to the executable:</p>\n\n<p><code>RCEDIT64.exe /I OC4J_WebServer.exe OC4J_WebServer.ico</code>\n   <code>RCEDIT64.exe /N OC4J_WebServer.exe OC4J_WebServer.ini</code></p>\n\n<p>Finally, I ran the <code>OC4J_WebServer.exe --WinRun4J64:RegisterService</code> command to create the Windows service.  I received the following error:</p>\n\n<pre><code>&gt;E:\\Custom_Apps[info] Module Name: E:\\Custom_Apps\\OC4J_WebServer.exe\n&gt;[info] Module INI:  E:\\Custom_Apps\\OC4J_WebServer.ini\n&gt;[info] Module Dir:  E:\\Custom_Apps\n&gt;[info] INI Dir: E:\\Custom_Apps\n&gt;[info] Working directory set to: E:\\Custom_Apps\\working\n&gt;[info] Configured vm.location:  C:\\Program Files\\Java\\jdk1.7.0_65\\jre\\bin\\server\\jvm.dll\n&gt;[info] Found VM:  C:\\Program Files\\Java\\jdk1.7.0_65\\jre\\bin\\server\\jvm.dll\n&gt;[info] Expanding Classpath:  C:\\Progra~1\\Java\\jdk1.7.0_65\\jre\\bin\\*.jar\n&gt;[info] Expanding Classpath:  E:\\Software\\WinRun4J\\winrun4j\\\n&gt;[info] Generated Classpath:\n&gt;[info] VM Args:\n&gt;[info] vmarg.0=-Xdebugvmarg.2=-Xnoagent\n&gt;vmarg.3=-Xrunjdwp:transport=dt_socket,address=8787,\n&gt;server=y,suspend=n\n&gt;[info] vmarg.1=-Djava.class.path=\n&gt;[info] Registering natives for Native class\n&gt; [warn] Could not find Native class\n&gt;  [err] Could not find service class\n&gt;  [err] Failed to initialize service: 1\n    `java.lang.NoClassDefFoundError: e:\\OC4J\\j2ee\\home\\oc4j/jar\n    `Caused by: java.lang.ClassNotFoundException: e:\\OC4J\\j2ee\\home\\oc4j.jar\n    `at java.net.URLClassLooader$1.run(URLClassLoader.java:366)\n    `at java.net.URLClassLoader$1.run(URLClassLoader.java:355)\n    `at java.security.AccessController.doPrivileged(Native method)\n    `at java.net.URLClassLoader.findclass(URLClassLoader.java:354)\n    `at java.lang.ClassLoader.loadclass(ClassLoader.java:425)\n    `at sun.misc.Launcher$AppClassLoader.loadclass(Launcher.java:308)\n    `at java.lang.ClassLoader.loadclass(ClassLoader.java:358)\n</code></pre>\n\n<p>I make no claims to being a java developer, and was hoping someone could help me out.  All I want to do is to be able to create a Windows service out of the <code>java -jar %J2EE_HOME%\\oc4j.jar</code> command.</p>\n\n<p>I'd appreciate some help/insight into how to set this up.</p>\n"},{"tags":["java","api","csv","etl","talend"],"comments":[{"owner":{"account_id":7611366,"reputation":9515,"user_id":5772095,"display_name":"Skin"},"score":0,"creation_date":1673552106,"post_id":75099933,"comment_id":132531050,"body_markdown":"So if I’m understanding you correctly, you want to refer to the ID field later on in the job but you’ve lost any reference because it existed further back and you don’t have access to it now, correct?","body":"So if I’m understanding you correctly, you want to refer to the ID field later on in the job but you’ve lost any reference because it existed further back and you don’t have access to it now, correct?"},{"owner":{"account_id":25255434,"reputation":13,"user_id":19087232,"display_name":"Gustave Turrell"},"score":0,"creation_date":1673555776,"post_id":75099933,"comment_id":132532064,"body_markdown":"Yes, kind of. With tRestClient, there are three schemas:\n\n1- for the entry (id, name)\n2 -for the response (statusCode, body, string)\n3- for the error (errorCode, errorMessage)\n\nI can only have the response on one side and the error on the other. tExtractJSONField maps data based on the string inside the response schema. I tried to add a manually id column with the reference row5.id but it doesn&#39;t work because the mapping is based on the string.","body":"Yes, kind of. With tRestClient, there are three schemas:  1- for the entry (id, name) 2 -for the response (statusCode, body, string) 3- for the error (errorCode, errorMessage)  I can only have the response on one side and the error on the other. tExtractJSONField maps data based on the string inside the response schema. I tried to add a manually id column with the reference row5.id but it doesn&#39;t work because the mapping is based on the string."},{"owner":{"account_id":7611366,"reputation":9515,"user_id":5772095,"display_name":"Skin"},"score":0,"creation_date":1673559467,"post_id":75099933,"comment_id":132533091,"body_markdown":"So have a `tMap` after it that adds the ID.  No?  Does that allow you to reference `row5.id`?  If not, let me know because I&#39;ll have an answer for you.","body":"So have a <code>tMap</code> after it that adds the ID.  No?  Does that allow you to reference <code>row5.id</code>?  If not, let me know because I&#39;ll have an answer for you."},{"owner":{"account_id":25255434,"reputation":13,"user_id":19087232,"display_name":"Gustave Turrell"},"score":1,"creation_date":1673608456,"post_id":75099933,"comment_id":132542602,"body_markdown":"**YES**,  it&#39;s work perfectly ! thank you for helping me to wrap my problem","body":"<b>YES</b>,  it&#39;s work perfectly ! thank you for helping me to wrap my problem"}],"owner":{"account_id":25255434,"reputation":13,"user_id":19087232,"display_name":"Gustave Turrell"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673551875,"creation_date":1673543336,"question_id":75099933,"body_markdown":"I just started my adventure with Talend Open Studio,\r\n\r\n*I am having trouble figuring out how to solve a problem I am encountering.*\r\n\r\nI have a `tFileInputDelimited` as input with a two-column schema (**name** and **id**), on which I am iterating with `tFlowToIterate`, saving these two variables together using `tFixedFlowInput` in order to use the **name** variable as a query parameter on `tRestClient`, and then extracting the response with `tExtractJSONField`.\r\n\r\nI would like to keep the id variable to associate it with each response, but since the id variable is not a valid parameter for the query, I am looking for a way to add it during my mapping in `tExtractJSONField`.\r\n\r\n*Any help will be appreciated*\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\nFind a solution to save variable and add to the corresponding response\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QSOyz.png\r\n  [2]: https://i.stack.imgur.com/vdUFz.png","title":"Saving ID from CSV and associate to a response from tRestClient","body":"<p>I just started my adventure with Talend Open Studio,</p>\n<p><em>I am having trouble figuring out how to solve a problem I am encountering.</em></p>\n<p>I have a <code>tFileInputDelimited</code> as input with a two-column schema (<strong>name</strong> and <strong>id</strong>), on which I am iterating with <code>tFlowToIterate</code>, saving these two variables together using <code>tFixedFlowInput</code> in order to use the <strong>name</strong> variable as a query parameter on <code>tRestClient</code>, and then extracting the response with <code>tExtractJSONField</code>.</p>\n<p>I would like to keep the id variable to associate it with each response, but since the id variable is not a valid parameter for the query, I am looking for a way to add it during my mapping in <code>tExtractJSONField</code>.</p>\n<p><em>Any help will be appreciated</em></p>\n<p><a href=\"https://i.stack.imgur.com/QSOyz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QSOyz.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/vdUFz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vdUFz.png\" alt=\"enter image description here\" /></a></p>\n<p>Find a solution to save variable and add to the corresponding response</p>\n"},{"tags":["java","arrays","loops","sorting","count"],"answers":[{"tags":[],"owner":{"account_id":9771680,"reputation":325,"user_id":7243456,"display_name":"mehdi maick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549050781,"creation_date":1549050781,"answer_id":54486339,"question_id":54486251,"body_markdown":"a typical approach to solving this problem is use a `HashMap` to store the occurences as key-value pairs\r\n\r\n```java\r\nMap&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\r\nfor(String word: words) {\r\n  map.put(word, map.getOrDefault(word, 0) + 1);\r\n}\r\nSystem.out.println(map)\r\n```\r\nnow `map` is going to map each word to the number of occurrences it has, say you had the following example \r\n\r\n```java\r\nString[] words = {&quot;banana&quot;, &quot;lemon&quot;, &quot;banana&quot;, &quot;apple&quot;};\r\n```\r\nthen the map will contain \r\n\r\n```\r\nbanana ==&gt; 2\r\nlemon =&gt; 1\r\napple =&gt; 1\r\n```","title":"Loop for counting the number of occurrences of a word in an array of words","body":"<p>a typical approach to solving this problem is use a <code>HashMap</code> to store the occurences as key-value pairs</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\nfor(String word: words) {\n  map.put(word, map.getOrDefault(word, 0) + 1);\n}\nSystem.out.println(map)\n</code></pre>\n\n<p>now <code>map</code> is going to map each word to the number of occurrences it has, say you had the following example </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>String[] words = {\"banana\", \"lemon\", \"banana\", \"apple\"};\n</code></pre>\n\n<p>then the map will contain </p>\n\n<pre><code>banana ==&gt; 2\nlemon =&gt; 1\napple =&gt; 1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1549052141,"creation_date":1549051818,"answer_id":54486552,"question_id":54486251,"body_markdown":"Using Java 8 Stream API  \r\n```\r\nString[] words = {&quot;banana&quot;, &quot;lemon&quot;, &quot;banana&quot;, &quot;apple&quot;};\r\nMap&lt;String, Long&gt; wordsCount = Stream.of(words).collect(\r\n    Collectors.groupingBy(Function.identity(), Collectors.counting()));\r\n```\r\n\r\n`Function.identity()` has a meaning of &quot;item itself&quot;.","title":"Loop for counting the number of occurrences of a word in an array of words","body":"<p>Using Java 8 Stream API  </p>\n\n<pre><code>String[] words = {\"banana\", \"lemon\", \"banana\", \"apple\"};\nMap&lt;String, Long&gt; wordsCount = Stream.of(words).collect(\n    Collectors.groupingBy(Function.identity(), Collectors.counting()));\n</code></pre>\n\n<p><code>Function.identity()</code> has a meaning of \"item itself\".</p>\n"},{"tags":[],"owner":{"account_id":15148070,"reputation":894,"user_id":10931123,"display_name":"kai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1549056957,"creation_date":1549056266,"answer_id":54487327,"question_id":54486251,"body_markdown":"your code is mostly fine, the only problem is, that you don&#39;t define the word you are looking for.\r\n\r\n     int[] wordCountList = new int[arrayCount]; //arrayCount is     just the size of the array of words\r\n     for(int p = 0; p &lt; words.length; p++){\r\n         //int counter = 0;\r\n         for(String needle : words){\r\n            //String currentItem = words[p];    //words is the array of words\r\n            \r\n             if(words[p].equals(needle)){\r\n               wordCountList[p]++;\r\n             }\r\n         }\r\n     }\r\n\r\nFor what its worth, can one count the words faster? Yes, but only by sorting(eg. bucketsort aka. hashes).","title":"Loop for counting the number of occurrences of a word in an array of words","body":"<p>your code is mostly fine, the only problem is, that you don't define the word you are looking for.</p>\n\n<pre><code> int[] wordCountList = new int[arrayCount]; //arrayCount is     just the size of the array of words\n for(int p = 0; p &lt; words.length; p++){\n     //int counter = 0;\n     for(String needle : words){\n        //String currentItem = words[p];    //words is the array of words\n\n         if(words[p].equals(needle)){\n           wordCountList[p]++;\n         }\n     }\n }\n</code></pre>\n\n<p>For what its worth, can one count the words faster? Yes, but only by sorting(eg. bucketsort aka. hashes).</p>\n"}],"owner":{"account_id":15231870,"reputation":33,"user_id":10990763,"display_name":"imawarrior"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":985,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":54487327,"answer_count":3,"score":1,"last_activity_date":1673551789,"creation_date":1549050369,"question_id":54486251,"body_markdown":"How would one set up a loop for counting the occurrences of a word in an array (not ArrayLists). Here is the loop I kinda set up, but printing it out just gives me an array of numbers that count from 0 to the size of the array of words. I also want to store the count values for each word into an array\r\n\r\n    int[] wordCountList = new int[arrayCount]; //arrayCount is just the size of the array of words\r\n\t\tint counter = 0;\r\n\t\tfor(int p = 0; p &lt; words.length; p++)\r\n\t\t{\r\n\t\t\tString currentItem = words[p];    //words is the array of words\r\n\t\t\tif(words[p].equals(currentItem))\r\n\t\t\t{\r\n\t\t\t\t\r\n\t\t\t\twordCountList[p] = counter++;\r\n\t\t\t}\r\n\t\t}\r\nAlso, would it be better if I sorted the array in alphabetical order first and then count the occurrence of each word?","title":"Loop for counting the number of occurrences of a word in an array of words","body":"<p>How would one set up a loop for counting the occurrences of a word in an array (not ArrayLists). Here is the loop I kinda set up, but printing it out just gives me an array of numbers that count from 0 to the size of the array of words. I also want to store the count values for each word into an array</p>\n\n<pre><code>int[] wordCountList = new int[arrayCount]; //arrayCount is just the size of the array of words\n    int counter = 0;\n    for(int p = 0; p &lt; words.length; p++)\n    {\n        String currentItem = words[p];    //words is the array of words\n        if(words[p].equals(currentItem))\n        {\n\n            wordCountList[p] = counter++;\n        }\n    }\n</code></pre>\n\n<p>Also, would it be better if I sorted the array in alphabetical order first and then count the occurrence of each word?</p>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1616643848,"post_id":66792691,"comment_id":118069281,"body_markdown":"I&#39;m not sure if you mean &quot;find a specific key / value pair&quot; or &quot;find a specific value&quot;.  You would use the Map get method to get a value for a particular key.  If you&#39;re just looking for a particular value, you can use the Map values method.","body":"I&#39;m not sure if you mean &quot;find a specific key / value pair&quot; or &quot;find a specific value&quot;.  You would use the Map get method to get a value for a particular key.  If you&#39;re just looking for a particular value, you can use the Map values method."},{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1616646269,"post_id":66792691,"comment_id":118069734,"body_markdown":"Instead of asking such a basic question, you should go through the [documentation](https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html). If you are stuck somewhere, you should describe your question well e.g. mention a sample input &amp; expected behaviour and output etc.","body":"Instead of asking such a basic question, you should go through the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html\" rel=\"nofollow noreferrer\">documentation</a>. If you are stuck somewhere, you should describe your question well e.g. mention a sample input &amp; expected behaviour and output etc."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1673551199,"post_id":66792691,"comment_id":132530765,"body_markdown":"How do &quot;find a specific value in a map&quot; and &quot;i want to use a loop to convert all values&quot; go together? Which is it, a specific value or all values?","body":"How do &quot;find a specific value in a map&quot; and &quot;i want to use a loop to convert all values&quot; go together? Which is it, a specific value or all values?"}],"answers":[{"tags":[],"owner":{"account_id":20009611,"reputation":512,"user_id":14666850,"display_name":"sas"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1616645005,"creation_date":1616645005,"answer_id":66792907,"question_id":66792691,"body_markdown":"`myHashmap.values()` will return all the values of the `Map`. `Integer.parseInt(value)` parses the String argument as a signed decimal integer object.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n```\r\n    public static void main(String[] args) {\r\n        Map&lt;String, String&gt; myHashmap = new HashMap&lt;&gt;();\r\n        myHashmap.put(&quot;A&quot;, &quot;10&quot;);\r\n        myHashmap.put(&quot;B&quot;, &quot;20&quot;);\r\n        myHashmap.put(&quot;C&quot;, &quot;30&quot;);\r\n        myHashmap.values().forEach(value -&gt; {\r\n            System.out.println(Integer.parseInt(value));\r\n            // Rest of the logic\r\n        });\r\n    }\r\n```","title":"finding a specific value in a hashmap","body":"<p><code>myHashmap.values()</code> will return all the values of the <code>Map</code>. <code>Integer.parseInt(value)</code> parses the String argument as a signed decimal integer object.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void main(String[] args) {\n        Map&lt;String, String&gt; myHashmap = new HashMap&lt;&gt;();\n        myHashmap.put(&quot;A&quot;, &quot;10&quot;);\n        myHashmap.put(&quot;B&quot;, &quot;20&quot;);\n        myHashmap.put(&quot;C&quot;, &quot;30&quot;);\n        myHashmap.values().forEach(value -&gt; {\n            System.out.println(Integer.parseInt(value));\n            // Rest of the logic\n        });\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673551565,"creation_date":1673551565,"answer_id":75101382,"question_id":66792691,"body_markdown":"To iterate over all values of a map, use the `values` method:\r\n\r\n```\r\nMap&lt;Long, String&gt; map = ...;\r\nfor (final String value = map.values()) {\r\n  System.out.println(value);\r\n}\r\n```\r\n\r\nTo find a specific value, iterate all values, check against your predicate and return if found:\r\n\r\n```\r\nString findValue(final Map&lt;Long, String&gt; map, final Predicate&lt;String&gt; condition) {\r\n  for (final String value = map.values()) {\r\n    if (condition.test(value)) {\r\n      return value;\r\n    }\r\n  }\r\n  return null;\r\n}\r\n```\r\n\r\nTo find the key for a given value, iterate the _entry set_ of the map:\r\n\r\n```\r\nLong findKey(final Map&lt;Long, String&gt; map, final String value) {\r\n  for (final Map.Entry&lt;Long, String&gt; entry = map.entrySet()) {\r\n    if (Objects.equals(entry.getValue(), value)) {\r\n      return entry.getKey();\r\n    }\r\n  }\r\n  return null;\r\n}\r\n```\r\n\r\nOf course, once you have a value (or a key), you can use it any way you like. That includes passing it as argument to `Integer.parseInt`.","title":"finding a specific value in a hashmap","body":"<p>To iterate over all values of a map, use the <code>values</code> method:</p>\n<pre><code>Map&lt;Long, String&gt; map = ...;\nfor (final String value = map.values()) {\n  System.out.println(value);\n}\n</code></pre>\n<p>To find a specific value, iterate all values, check against your predicate and return if found:</p>\n<pre><code>String findValue(final Map&lt;Long, String&gt; map, final Predicate&lt;String&gt; condition) {\n  for (final String value = map.values()) {\n    if (condition.test(value)) {\n      return value;\n    }\n  }\n  return null;\n}\n</code></pre>\n<p>To find the key for a given value, iterate the <em>entry set</em> of the map:</p>\n<pre><code>Long findKey(final Map&lt;Long, String&gt; map, final String value) {\n  for (final Map.Entry&lt;Long, String&gt; entry = map.entrySet()) {\n    if (Objects.equals(entry.getValue(), value)) {\n      return entry.getKey();\n    }\n  }\n  return null;\n}\n</code></pre>\n<p>Of course, once you have a value (or a key), you can use it any way you like. That includes passing it as argument to <code>Integer.parseInt</code>.</p>\n"}],"owner":{"account_id":18056220,"reputation":1,"user_id":13124624,"display_name":"David Niu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":2,"score":-4,"last_activity_date":1673551565,"creation_date":1616643237,"question_id":66792691,"body_markdown":"Is there a code for finding a specific value in a hashmap?\r\nI want to use a for loop to convert values in a hashmap into an int.\r\n\r\n    \t\tfor (int i = 0; i &lt; items; i++) {\r\n\t\t\tcost = Integer.parseInt(myHashmap);\r\n\t\t}\r\ncan I even use .parseInt on a hashmap or is there another way to convert a place in a hashmap into a int?\r\nLike `String[3]` is there a code to find a specific place in a hashmap?","title":"finding a specific value in a hashmap","body":"<p>Is there a code for finding a specific value in a hashmap?\nI want to use a for loop to convert values in a hashmap into an int.</p>\n<pre><code>        for (int i = 0; i &lt; items; i++) {\n        cost = Integer.parseInt(myHashmap);\n    }\n</code></pre>\n<p>can I even use .parseInt on a hashmap or is there another way to convert a place in a hashmap into a int?\nLike <code>String[3]</code> is there a code to find a specific place in a hashmap?</p>\n"},{"tags":["java","maven","apache-karaf","graalvm"],"comments":[{"owner":{"account_id":3674304,"reputation":927,"user_id":3060725,"accept_rate":67,"display_name":"BoriS"},"score":0,"creation_date":1585241919,"post_id":60855636,"comment_id":107698641,"body_markdown":"NOTE:  The &quot;GraalVM tutorial for Maven on JDK 11&quot; is meant for stock JDK11. If you are using GraalVM you don&#39;t need to follow that maven config. \n\n\nI&#39;m not very familiar with OSGi so I&#39;m unsure how many things can go wrong. Could you provide a small reproducer project or something?","body":"NOTE:  The &quot;GraalVM tutorial for Maven on JDK 11&quot; is meant for stock JDK11. If you are using GraalVM you don&#39;t need to follow that maven config.    I&#39;m not very familiar with OSGi so I&#39;m unsure how many things can go wrong. Could you provide a small reproducer project or something?"}],"answers":[{"tags":[],"owner":{"account_id":273044,"reputation":718,"user_id":564413,"display_name":"blandger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673551205,"creation_date":1673551205,"answer_id":75101320,"question_id":60855636,"body_markdown":"&gt; A language with id &#39;js&#39; is not installed.\r\n\r\nAs I can see that is very outdated question but I hope my answer will help somebody. I also stumbled with that error in project written by another developer with GraalVM and js polyglot support. So I figured out why that problem happens and how to fix that. Error means you don&#39;t have JS lang component installed at your (linux) system. Use commands for [&#39;GraalVM Component Updater&#39;][1] CLI.\r\n\r\nRun command to see what is installed locally.\r\n\r\n    $ gu list\r\n\r\nProbably you&#39;ll see a list like that.\r\n\r\nComponentId | Version | Component name| Stability | Origin\r\n|:---|:---:|:---|:---:|:---:|\r\ngraalvm | 22.3.0 | GraalVM Core | Supported ||\r\n\r\n\r\n    $ gu available\r\n\r\n&#39;Available&#39; command gives the list of available components for downloading.\r\n\r\nIf you are missing JS component (most probably) you have to install it by next command.\r\n\r\n    $ gu install js\r\n\r\nWhen check the installed list again.\r\n\r\n    $ gu list\r\n\r\nComponentId | Version | Component name| Stability | Origin\r\n|:---|:---:|:---|:---:|:---:|\r\ngraalvm | 22.3.0 | GraalVM Core | Supported ||\r\njs | 22.3.0 | Graal.js | Supported | github.com\r\n\r\nError &#39;A language with id &#39;js&#39; is not installed.&#39; should gone away. \r\n\r\n\r\n  [1]: https://www.graalvm.org/latest/reference-manual/graalvm-updater/","title":"How do I add GraalVM Polyglot code (Java running Javascript) support in an OSGi (Karaf) Module","body":"<blockquote>\n<p>A language with id 'js' is not installed.</p>\n</blockquote>\n<p>As I can see that is very outdated question but I hope my answer will help somebody. I also stumbled with that error in project written by another developer with GraalVM and js polyglot support. So I figured out why that problem happens and how to fix that. Error means you don't have JS lang component installed at your (linux) system. Use commands for <a href=\"https://www.graalvm.org/latest/reference-manual/graalvm-updater/\" rel=\"nofollow noreferrer\">'GraalVM Component Updater'</a> CLI.</p>\n<p>Run command to see what is installed locally.</p>\n<pre><code>$ gu list\n</code></pre>\n<p>Probably you'll see a list like that.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\">ComponentId</th>\n<th style=\"text-align: center;\">Version</th>\n<th style=\"text-align: left;\">Component name</th>\n<th style=\"text-align: center;\">Stability</th>\n<th style=\"text-align: center;\">Origin</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">graalvm</td>\n<td style=\"text-align: center;\">22.3.0</td>\n<td style=\"text-align: left;\">GraalVM Core</td>\n<td style=\"text-align: center;\">Supported</td>\n<td style=\"text-align: center;\"></td>\n</tr>\n</tbody>\n</table>\n</div>\n<pre><code>$ gu available\n</code></pre>\n<p>'Available' command gives the list of available components for downloading.</p>\n<p>If you are missing JS component (most probably) you have to install it by next command.</p>\n<pre><code>$ gu install js\n</code></pre>\n<p>When check the installed list again.</p>\n<pre><code>$ gu list\n</code></pre>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\">ComponentId</th>\n<th style=\"text-align: center;\">Version</th>\n<th style=\"text-align: left;\">Component name</th>\n<th style=\"text-align: center;\">Stability</th>\n<th style=\"text-align: center;\">Origin</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">graalvm</td>\n<td style=\"text-align: center;\">22.3.0</td>\n<td style=\"text-align: left;\">GraalVM Core</td>\n<td style=\"text-align: center;\">Supported</td>\n<td style=\"text-align: center;\"></td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">js</td>\n<td style=\"text-align: center;\">22.3.0</td>\n<td style=\"text-align: left;\">Graal.js</td>\n<td style=\"text-align: center;\">Supported</td>\n<td style=\"text-align: center;\">github.com</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Error 'A language with id 'js' is not installed.' should gone away.</p>\n"}],"owner":{"account_id":5810660,"reputation":41,"user_id":4581853,"display_name":"Kressaty"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1460,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1673551205,"creation_date":1585162821,"question_id":60855636,"body_markdown":"## My Goal:\nI&#39;m building a &quot;[plugin][1]&quot; for Apache Unomi, which seems to be a pretty standard set of Karaf / OSGi services. As part of this, I&#39;d like to be able to execute Javascript (and eventually Nodejs) from inside my Java code, and the best option moving forward seems to be GraalVM (I&#39;m not interested in using anything legacy like Nashorn/Rhino). My current work in progress is [in this PR][3] on my fork of Unomi.\n\n## My Issue:\n**I&#39;m unable to get GraalVM Polyglot code working inside a Karaf module.** Adding Maven dependencies fails at runtime, and manually adding the class (that the GraalVM runtime should provide) into my framework config file throws an error about no additional languages available.\n\n## What I&#39;ve Done So Far:\n\nI&#39;ve successfully installed GraalVM for JDK 11 (OS X Catalina)\n\n```\n% java -version\nopenjdk version &quot;11.0.6&quot; 2020-01-14\nOpenJDK Runtime Environment GraalVM CE 20.0.0 (build 11.0.6+9-jvmci-20.0-b02)\nOpenJDK 64-Bit Server VM GraalVM CE 20.0.0 (build 11.0.6+9-jvmci-20.0-b02, mixed mode, sharing)\n```\n\n\n----------\n\n\nI&#39;ve referenced the [GraalVM tutorial for Maven on JDK 11][4] and [added the following][5] to my plugin&#39;s pom based on the example:\n\n```\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.graalvm.sdk&lt;/groupId&gt;\n            &lt;artifactId&gt;graal-sdk&lt;/artifactId&gt;\n            &lt;version&gt;20.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.graalvm.js&lt;/groupId&gt;\n            &lt;artifactId&gt;js&lt;/artifactId&gt;\n            &lt;version&gt;20.0.0&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.graalvm.js&lt;/groupId&gt;\n            &lt;artifactId&gt;js-scriptengine&lt;/artifactId&gt;\n            &lt;version&gt;20.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n```\n\n\n----------\n\n\nI&#39;ve also added some sample code per the [GraalVM documentation][7] to my plugin:\n\n```\nContext polyglot = Context.create();\nValue array = polyglot.eval(&quot;js&quot;, &quot;[1,2,42,4]&quot;);\nint result = array.getArrayElement(2).asInt();\n```\n\n\n----------\n\n## What Happens (Fails):\n\nAt this point, my Maven build completes without errors. When I start Karaf, however, I immediately get an error ([full output][8]):\n\n```\nUnable to resolve root: missing requirement [root] osgi.identity; osgi.identity=unomi-router-karaf-feature; type=karaf.feature; version=&quot;[1.5.0.SNAPSHOT,1.5.0.SNAPSHOT]&quot;; filter:=&quot;(&amp;(osgi.identity=unomi-router-karaf-feature)(type=karaf.feature)(version&gt;=1.5.0.SNAPSHOT)(version&lt;=1.5.0.SNAPSHOT))&quot; [caused by: Unable to resolve unomi-router-karaf-feature/1.5.0.SNAPSHOT: missing requirement [unomi-router-karaf-feature/1.5.0.SNAPSHOT] osgi.identity; osgi.identity=org.apache.unomi.router-rest; type=osgi.bundle; version=&quot;[1.5.0.SNAPSHOT,1.5.0.SNAPSHOT]&quot;; resolution:=mandatory [caused by: Unable to resolve org.apache.unomi.router-rest/1.5.0.SNAPSHOT: missing requirement [org.apache.unomi.router-rest/1.5.0.SNAPSHOT] osgi.service; effective:=active; filter:=&quot;(&amp;(objectClass=org.apache.unomi.router.api.services.ImportExportConfigurationService)(configDiscriminator=IMPORT))&quot; [caused by: Unable to resolve org.apache.unomi.router-service/1.5.0.SNAPSHOT: missing requirement [org.apache.unomi.router-service/1.5.0.SNAPSHOT] osgi.wiring.package; filter:=&quot;(&amp;(osgi.wiring.package=org.apache.unomi.persistence.spi)(version&gt;=1.5.0)(!(version&gt;=2.0.0)))&quot; [caused by: Unable to resolve org.apache.unomi.persistence-spi/1.5.0.SNAPSHOT: missing requirement [org.apache.unomi.persistence-spi/1.5.0.SNAPSHOT] osgi.identity; osgi.identity=&quot;root#unomi-kar-1.5.0.SNAPSHOT&quot;; type=karaf.subsystem; version=&quot;[0,0.0.0]&quot;; resolution:=mandatory [caused by: Unable to resolve root#unomi-kar-1.5.0.SNAPSHOT: missing requirement [root#unomi-kar-1.5.0.SNAPSHOT] osgi.identity; osgi.identity=unomi-kar; type=karaf.feature; version=&quot;[1.5.0.SNAPSHOT,1.5.0.SNAPSHOT]&quot; [caused by: Unable to resolve unomi-kar/1.5.0.SNAPSHOT: missing requirement [unomi-kar/1.5.0.SNAPSHOT] osgi.identity; osgi.identity=org.apache.unomi.plugins-firstparty; type=osgi.bundle; version=&quot;[1.5.0.SNAPSHOT,1.5.0.SNAPSHOT]&quot;; resolution:=mandatory [caused by: Unable to resolve org.apache.unomi.plugins-firstparty/1.5.0.SNAPSHOT: missing requirement [org.apache.unomi.plugins-firstparty/1.5.0.SNAPSHOT] osgi.wiring.package; filter:=&quot;(osgi.wiring.package=com.ibm.icu.impl)&quot;]]]]]]]\n```\n\nIf I remove the three dependencies from my plugin&#39;s pom and rebuild, I can start Karaf without issue. However, when I try and run my action in my Unomi plugin, it immediately says there&#39;s no graalvm polyglot class available (expected).\n\nAfter some googling, I stumbled upon an [existing GitHub issue][6], and followed [the suggestion][2] to add `org.graalvm.polyglot` to `org.osgi.framework.system.packages.extra`. This almost worked, but now when I try and run my action in my Unomi plugin, I get a `PolyglotIllegalArgumentException: A language with id &#39;js&#39; is not installed. Installed languages are: [].` I then tried adding all of the classes I attempted including in the pom above in this manner, but it continued to return the same error. \n\nI&#39;m unsure of where to go from here. I&#39;m guessing my inexperience with Maven is going to point out that this is a stupid problem, though after a lot of searching it appears that the small amount of content available around running GraalVM on OSGi all points to it possibly not working - though I have to imagine this is possible. My thoughts on a potential solution are \n\n 1. I&#39;ve configured my Maven pom poorly, and there&#39;s a way to solve this through a properly configured pom\n 2. I need to specify additional system packages in `org.osgi.framework.system.packages.extra` beyond the single `org.graalvm.polyglot`, but am unsure of how to move forward here.\n\nAny assistance is beyond appreciated!\n\n  [1]: https://unomi.apache.org/manual/latest/index.html#_writing_plugins\n  [2]: https://github.com/oracle/graal/issues/789#issuecomment-439009866  \n  [3]: https://github.com/kressaty/unomi/pull/1\n  [4]: https://github.com/graalvm/graal-js-jdk11-maven-demo\n  [5]: https://github.com/kressaty/unomi/pull/1/files#diff-f5e8c2e754c77f586504380d9f9609c8\n  [6]: https://github.com/oracle/graal/issues/789\n  [7]: https://www.graalvm.org/docs/reference-manual/polyglot/#start-language-java\n  [8]: https://gist.github.com/kressaty/b015e6a6537277b868d0ba05ac891d7e\n","title":"How do I add GraalVM Polyglot code (Java running Javascript) support in an OSGi (Karaf) Module","body":"<h2>My Goal:</h2>\n<p>I'm building a &quot;<a href=\"https://unomi.apache.org/manual/latest/index.html#_writing_plugins\" rel=\"nofollow noreferrer\">plugin</a>&quot; for Apache Unomi, which seems to be a pretty standard set of Karaf / OSGi services. As part of this, I'd like to be able to execute Javascript (and eventually Nodejs) from inside my Java code, and the best option moving forward seems to be GraalVM (I'm not interested in using anything legacy like Nashorn/Rhino). My current work in progress is <a href=\"https://github.com/kressaty/unomi/pull/1\" rel=\"nofollow noreferrer\">in this PR</a> on my fork of Unomi.</p>\n<h2>My Issue:</h2>\n<p><strong>I'm unable to get GraalVM Polyglot code working inside a Karaf module.</strong> Adding Maven dependencies fails at runtime, and manually adding the class (that the GraalVM runtime should provide) into my framework config file throws an error about no additional languages available.</p>\n<h2>What I've Done So Far:</h2>\n<p>I've successfully installed GraalVM for JDK 11 (OS X Catalina)</p>\n<pre><code>% java -version\nopenjdk version &quot;11.0.6&quot; 2020-01-14\nOpenJDK Runtime Environment GraalVM CE 20.0.0 (build 11.0.6+9-jvmci-20.0-b02)\nOpenJDK 64-Bit Server VM GraalVM CE 20.0.0 (build 11.0.6+9-jvmci-20.0-b02, mixed mode, sharing)\n</code></pre>\n<hr />\n<p>I've referenced the <a href=\"https://github.com/graalvm/graal-js-jdk11-maven-demo\" rel=\"nofollow noreferrer\">GraalVM tutorial for Maven on JDK 11</a> and <a href=\"https://github.com/kressaty/unomi/pull/1/files#diff-f5e8c2e754c77f586504380d9f9609c8\" rel=\"nofollow noreferrer\">added the following</a> to my plugin's pom based on the example:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.graalvm.sdk&lt;/groupId&gt;\n            &lt;artifactId&gt;graal-sdk&lt;/artifactId&gt;\n            &lt;version&gt;20.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.graalvm.js&lt;/groupId&gt;\n            &lt;artifactId&gt;js&lt;/artifactId&gt;\n            &lt;version&gt;20.0.0&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.graalvm.js&lt;/groupId&gt;\n            &lt;artifactId&gt;js-scriptengine&lt;/artifactId&gt;\n            &lt;version&gt;20.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<hr />\n<p>I've also added some sample code per the <a href=\"https://www.graalvm.org/docs/reference-manual/polyglot/#start-language-java\" rel=\"nofollow noreferrer\">GraalVM documentation</a> to my plugin:</p>\n<pre><code>Context polyglot = Context.create();\nValue array = polyglot.eval(&quot;js&quot;, &quot;[1,2,42,4]&quot;);\nint result = array.getArrayElement(2).asInt();\n</code></pre>\n<hr />\n<h2>What Happens (Fails):</h2>\n<p>At this point, my Maven build completes without errors. When I start Karaf, however, I immediately get an error (<a href=\"https://gist.github.com/kressaty/b015e6a6537277b868d0ba05ac891d7e\" rel=\"nofollow noreferrer\">full output</a>):</p>\n<pre><code>Unable to resolve root: missing requirement [root] osgi.identity; osgi.identity=unomi-router-karaf-feature; type=karaf.feature; version=&quot;[1.5.0.SNAPSHOT,1.5.0.SNAPSHOT]&quot;; filter:=&quot;(&amp;(osgi.identity=unomi-router-karaf-feature)(type=karaf.feature)(version&gt;=1.5.0.SNAPSHOT)(version&lt;=1.5.0.SNAPSHOT))&quot; [caused by: Unable to resolve unomi-router-karaf-feature/1.5.0.SNAPSHOT: missing requirement [unomi-router-karaf-feature/1.5.0.SNAPSHOT] osgi.identity; osgi.identity=org.apache.unomi.router-rest; type=osgi.bundle; version=&quot;[1.5.0.SNAPSHOT,1.5.0.SNAPSHOT]&quot;; resolution:=mandatory [caused by: Unable to resolve org.apache.unomi.router-rest/1.5.0.SNAPSHOT: missing requirement [org.apache.unomi.router-rest/1.5.0.SNAPSHOT] osgi.service; effective:=active; filter:=&quot;(&amp;(objectClass=org.apache.unomi.router.api.services.ImportExportConfigurationService)(configDiscriminator=IMPORT))&quot; [caused by: Unable to resolve org.apache.unomi.router-service/1.5.0.SNAPSHOT: missing requirement [org.apache.unomi.router-service/1.5.0.SNAPSHOT] osgi.wiring.package; filter:=&quot;(&amp;(osgi.wiring.package=org.apache.unomi.persistence.spi)(version&gt;=1.5.0)(!(version&gt;=2.0.0)))&quot; [caused by: Unable to resolve org.apache.unomi.persistence-spi/1.5.0.SNAPSHOT: missing requirement [org.apache.unomi.persistence-spi/1.5.0.SNAPSHOT] osgi.identity; osgi.identity=&quot;root#unomi-kar-1.5.0.SNAPSHOT&quot;; type=karaf.subsystem; version=&quot;[0,0.0.0]&quot;; resolution:=mandatory [caused by: Unable to resolve root#unomi-kar-1.5.0.SNAPSHOT: missing requirement [root#unomi-kar-1.5.0.SNAPSHOT] osgi.identity; osgi.identity=unomi-kar; type=karaf.feature; version=&quot;[1.5.0.SNAPSHOT,1.5.0.SNAPSHOT]&quot; [caused by: Unable to resolve unomi-kar/1.5.0.SNAPSHOT: missing requirement [unomi-kar/1.5.0.SNAPSHOT] osgi.identity; osgi.identity=org.apache.unomi.plugins-firstparty; type=osgi.bundle; version=&quot;[1.5.0.SNAPSHOT,1.5.0.SNAPSHOT]&quot;; resolution:=mandatory [caused by: Unable to resolve org.apache.unomi.plugins-firstparty/1.5.0.SNAPSHOT: missing requirement [org.apache.unomi.plugins-firstparty/1.5.0.SNAPSHOT] osgi.wiring.package; filter:=&quot;(osgi.wiring.package=com.ibm.icu.impl)&quot;]]]]]]]\n</code></pre>\n<p>If I remove the three dependencies from my plugin's pom and rebuild, I can start Karaf without issue. However, when I try and run my action in my Unomi plugin, it immediately says there's no graalvm polyglot class available (expected).</p>\n<p>After some googling, I stumbled upon an <a href=\"https://github.com/oracle/graal/issues/789\" rel=\"nofollow noreferrer\">existing GitHub issue</a>, and followed <a href=\"https://github.com/oracle/graal/issues/789#issuecomment-439009866\" rel=\"nofollow noreferrer\">the suggestion</a> to add <code>org.graalvm.polyglot</code> to <code>org.osgi.framework.system.packages.extra</code>. This almost worked, but now when I try and run my action in my Unomi plugin, I get a <code>PolyglotIllegalArgumentException: A language with id 'js' is not installed. Installed languages are: [].</code> I then tried adding all of the classes I attempted including in the pom above in this manner, but it continued to return the same error.</p>\n<p>I'm unsure of where to go from here. I'm guessing my inexperience with Maven is going to point out that this is a stupid problem, though after a lot of searching it appears that the small amount of content available around running GraalVM on OSGi all points to it possibly not working - though I have to imagine this is possible. My thoughts on a potential solution are</p>\n<ol>\n<li>I've configured my Maven pom poorly, and there's a way to solve this through a properly configured pom</li>\n<li>I need to specify additional system packages in <code>org.osgi.framework.system.packages.extra</code> beyond the single <code>org.graalvm.polyglot</code>, but am unsure of how to move forward here.</li>\n</ol>\n<p>Any assistance is beyond appreciated!</p>\n"},{"tags":["java","netbeans"],"answers":[{"tags":[],"owner":{"account_id":19376449,"reputation":4342,"user_id":14168623,"display_name":"Alexandra Dudkina"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1605462793,"creation_date":1605462793,"answer_id":64847840,"question_id":64839478,"body_markdown":"Try to delete Netbeans `Cache` folder (after closing Netbeans of course). On Windows systems it is usually located under `C:\\Users\\&lt;&lt;username&gt;&gt;\\AppData\\Local\\NetBeans\\`.","title":"Netbeans 12.0 Not showing errors and attribute colors in java classes","body":"<p>Try to delete Netbeans <code>Cache</code> folder (after closing Netbeans of course). On Windows systems it is usually located under <code>C:\\Users\\&lt;&lt;username&gt;&gt;\\AppData\\Local\\NetBeans\\</code>.</p>\n"}],"owner":{"account_id":19975580,"reputation":135,"user_id":14639990,"display_name":"MarcosTacos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1679,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":64847840,"answer_count":1,"score":2,"last_activity_date":1673551047,"creation_date":1605394494,"question_id":64839478,"body_markdown":"I am currently working on a project for my first java team project. I have run into an issue where a certain class will suddenly stop showing errors (when I try to build my project, the output will show an error as shown in the screen capture, but I won&#39;t see an error in the text editor). I wrote a bunch of nonsense at the last line for you to see what I mean. Also, my attributes normally show in purple text and they now show in white text which is normally the indicator that the class in question won&#39;t show errors. This only affects some classes, most of them I worked on recently and have not been committed and pushed to my gitlab repo.\r\n\r\nThis makes coding a pain since I never know if I have made a stupid mistake until I try to build the project. I have not fiddled with the IDE, the only thing I did was change the font to the Jetbrains one and put on the default Netbeans dark theme.\r\nAny help would be appreciated.\r\n\r\n![Here is the screen grab][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AJwDX.png","title":"Netbeans 12.0 Not showing errors and attribute colors in java classes","body":"<p>I am currently working on a project for my first java team project. I have run into an issue where a certain class will suddenly stop showing errors (when I try to build my project, the output will show an error as shown in the screen capture, but I won't see an error in the text editor). I wrote a bunch of nonsense at the last line for you to see what I mean. Also, my attributes normally show in purple text and they now show in white text which is normally the indicator that the class in question won't show errors. This only affects some classes, most of them I worked on recently and have not been committed and pushed to my gitlab repo.</p>\n<p>This makes coding a pain since I never know if I have made a stupid mistake until I try to build the project. I have not fiddled with the IDE, the only thing I did was change the font to the Jetbrains one and put on the default Netbeans dark theme.\nAny help would be appreciated.</p>\n<p><img src=\"https://i.stack.imgur.com/AJwDX.png\" alt=\"Here is the screen grab\" /></p>\n"},{"tags":["java","android","android-studio","layout","android-animation"],"answers":[{"tags":[],"owner":{"account_id":17431762,"reputation":166,"user_id":12635625,"display_name":"Ginanjar Setiawan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673481623,"creation_date":1673404110,"answer_id":75077757,"question_id":75077184,"body_markdown":"You can try adding this dependency to add gif animation:\r\n\r\n```\r\nimplementation &#39;pl.droidsonroids.gif:android-gif-drawable:1.2.25&#39;\r\n```\r\n\r\nand use FrameLayout. \r\n\r\nAs an alternative, consider the using the [MotionLayout widget][1] to manage motion and widget animation.\r\n\r\n\r\n  [1]: https://developer.android.com/develop/ui/views/animations/motionlayout","title":"layout background pattern","body":"<p>You can try adding this dependency to add gif animation:</p>\n<pre><code>implementation 'pl.droidsonroids.gif:android-gif-drawable:1.2.25'\n</code></pre>\n<p>and use FrameLayout.</p>\n<p>As an alternative, consider the using the <a href=\"https://developer.android.com/develop/ui/views/animations/motionlayout\" rel=\"nofollow noreferrer\">MotionLayout widget</a> to manage motion and widget animation.</p>\n"},{"tags":[],"owner":{"account_id":3016379,"reputation":5038,"user_id":2558442,"display_name":"hoford"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673550787,"creation_date":1673550787,"answer_id":75101246,"question_id":75077184,"body_markdown":"This can be done in many ways:\r\n 1. Animated Vector Drawable as the android:background\r\n 2. Animated Gif\r\n 3. Object Animators\r\n 4. MotionLayout\r\n\r\n1\r\nThere is many ways to create this.\r\nThe most elegant and efficient solution is an an animated vector drawable.\r\nBut it is also difficult to get all the information together to do it.\r\n\r\n2 This Gif will be big or blurry and a resource hog. but simple to implement\r\n\r\n3 ObjectAnimator straightforward create a collect of (about 6)black views , rotate 45 degrees\r\n  and use a series of ObjectAnimators to translateX/Y\r\n\r\n4 MotionLayout would allow this without code and mostly in studio \r\n 1. Create A Constraint Layout \r\n 2. drag 6 black views, rotate and Position them using the Attributes\r\n 3. Convert to MotionLayout\r\n 4. In the &quot;End&quot; ConstraintSet Modify TranslationX &amp; TranslationY\r\n 5. Set Transition to AutoStart\r\n 6. Create A Transition to AutoJump back to the end. \r\n\r\n\r\n \r\n\r\n","title":"layout background pattern","body":"<p>This can be done in many ways:</p>\n<ol>\n<li>Animated Vector Drawable as the android:background</li>\n<li>Animated Gif</li>\n<li>Object Animators</li>\n<li>MotionLayout</li>\n</ol>\n<p>1\nThere is many ways to create this.\nThe most elegant and efficient solution is an an animated vector drawable.\nBut it is also difficult to get all the information together to do it.</p>\n<p>2 This Gif will be big or blurry and a resource hog. but simple to implement</p>\n<p>3 ObjectAnimator straightforward create a collect of (about 6)black views , rotate 45 degrees\nand use a series of ObjectAnimators to translateX/Y</p>\n<p>4 MotionLayout would allow this without code and mostly in studio</p>\n<ol>\n<li>Create A Constraint Layout</li>\n<li>drag 6 black views, rotate and Position them using the Attributes</li>\n<li>Convert to MotionLayout</li>\n<li>In the &quot;End&quot; ConstraintSet Modify TranslationX &amp; TranslationY</li>\n<li>Set Transition to AutoStart</li>\n<li>Create A Transition to AutoJump back to the end.</li>\n</ol>\n"}],"owner":{"account_id":20899091,"reputation":1,"user_id":15352584,"display_name":"Alma N"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673550787,"creation_date":1673396314,"question_id":75077184,"body_markdown":"![1]\r\n\r\nI would like to know if it is possible create this in android studio for \r\nlayout background of my activity.\r\n\r\nReapet a drawable and move in a direction.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/m0fZv.gif","title":"layout background pattern","body":"<p><img src=\"https://i.stack.imgur.com/m0fZv.gif\" alt=\"1\" /></p>\n<p>I would like to know if it is possible create this in android studio for\nlayout background of my activity.</p>\n<p>Reapet a drawable and move in a direction.</p>\n"},{"tags":["java","spring-boot","logback","spring-logback"],"answers":[{"tags":[],"owner":{"account_id":25829058,"reputation":132,"user_id":19566600,"display_name":"Sidharth Bajpai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673550775,"creation_date":1673550111,"answer_id":75101146,"question_id":73042580,"body_markdown":"Did you try using [Mapped Diagnostic Context][1] to store the username. Access it in the pattern as %X{LOGGED_USER}\r\n\r\n    final Context context = (Context) LoggerFactory.getILoggerFactory();\r\n     final JoranConfigurator configurator = new JoranConfigurator();\r\n     configurator.setContext(context);\r\n     MDC.put(&quot;LOGGED_USER&quot;, username);\r\n          try {\r\n                configurator.doConfigure(Objects.requireNonNull(getClass().getResource(&quot;/logback.xml&quot;)));\r\n          } catch (JoranException e) {\r\n                logger.error(&quot;Error while configuring logger&quot;, e);\r\n          }\r\n**EDIT-**\r\n\r\nSince you are using OncePerRequestFilter, [this answer by another user may help you][2]\r\n\r\n\r\n  [1]: https://logback.qos.ch/manual/mdc.html\r\n  [2]: https://stackoverflow.com/a/59129698/19566600","title":"Attach logged user when printing any error","body":"<p>Did you try using <a href=\"https://logback.qos.ch/manual/mdc.html\" rel=\"nofollow noreferrer\">Mapped Diagnostic Context</a> to store the username. Access it in the pattern as %X{LOGGED_USER}</p>\n<pre><code>final Context context = (Context) LoggerFactory.getILoggerFactory();\n final JoranConfigurator configurator = new JoranConfigurator();\n configurator.setContext(context);\n MDC.put(&quot;LOGGED_USER&quot;, username);\n      try {\n            configurator.doConfigure(Objects.requireNonNull(getClass().getResource(&quot;/logback.xml&quot;)));\n      } catch (JoranException e) {\n            logger.error(&quot;Error while configuring logger&quot;, e);\n      }\n</code></pre>\n<p><strong>EDIT-</strong></p>\n<p>Since you are using OncePerRequestFilter, <a href=\"https://stackoverflow.com/a/59129698/19566600\">this answer by another user may help you</a></p>\n"}],"owner":{"account_id":6262545,"reputation":87,"user_id":4869242,"display_name":"Danilo Leite Ribeiro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75101146,"answer_count":1,"score":2,"last_activity_date":1673550775,"creation_date":1658259272,"question_id":73042580,"body_markdown":"I have a SpringBoot backend with logback configured. Authentication is achieved using a OncePerRequestFilter and setting the authentication in the SecurityContextHolder context.\r\n\r\nMy goal is to print the loggedUser username whenever logback prints an error. My attempt was to add a variable (${LOGGED_USER}) to the logback pattern and then set this variable in the OncePerRequestFilter using the code below:\r\n```\r\n     final Context context = (Context) LoggerFactory.getILoggerFactory();\r\n     final JoranConfigurator configurator = new JoranConfigurator();\r\n     configurator.setContext(context);\r\n     context.putProperty(&quot;LOGGED_USER&quot;, username);\r\n          try {\r\n                configurator.doConfigure(Objects.requireNonNull(getClass().getResource(&quot;/logback.xml&quot;)));\r\n          } catch (JoranException e) {\r\n                logger.error(&quot;Error while configuring logger&quot;, e);\r\n          }\r\n```\r\n\r\nThis works fine in localhost environment. When in production, however, when an error is generated the logger outputs several times, showing every logged user name. It seems to me that my code is creating a new logger context for every request and they are all outputting the error at the same time. I am out of ideas and looking for help!\r\n\r\nThanks in advance","title":"Attach logged user when printing any error","body":"<p>I have a SpringBoot backend with logback configured. Authentication is achieved using a OncePerRequestFilter and setting the authentication in the SecurityContextHolder context.</p>\n<p>My goal is to print the loggedUser username whenever logback prints an error. My attempt was to add a variable (${LOGGED_USER}) to the logback pattern and then set this variable in the OncePerRequestFilter using the code below:</p>\n<pre><code>     final Context context = (Context) LoggerFactory.getILoggerFactory();\n     final JoranConfigurator configurator = new JoranConfigurator();\n     configurator.setContext(context);\n     context.putProperty(&quot;LOGGED_USER&quot;, username);\n          try {\n                configurator.doConfigure(Objects.requireNonNull(getClass().getResource(&quot;/logback.xml&quot;)));\n          } catch (JoranException e) {\n                logger.error(&quot;Error while configuring logger&quot;, e);\n          }\n</code></pre>\n<p>This works fine in localhost environment. When in production, however, when an error is generated the logger outputs several times, showing every logged user name. It seems to me that my code is creating a new logger context for every request and they are all outputting the error at the same time. I am out of ideas and looking for help!</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","datetime","parsing"],"comments":[{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":1,"creation_date":1673550087,"post_id":75101096,"comment_id":132530413,"body_markdown":"Your issue is with the hours part, if you change `hh` to `HH` it should work.","body":"Your issue is with the hours part, if you change <code>hh</code> to <code>HH</code> it should work."},{"owner":{"account_id":7421543,"reputation":2880,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":0,"creation_date":1673550186,"post_id":75101096,"comment_id":132530451,"body_markdown":"@YoucefLAIDANI I accidentally used a 12 hour clock instead of a 24 hour clock. Such a simple mistake!","body":"@YoucefLAIDANI I accidentally used a 12 hour clock instead of a 24 hour clock. Such a simple mistake!"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1673550631,"post_id":75101096,"comment_id":132530596,"body_markdown":"Also I can’t believe that `:nn` in your format pattern is what you want. `n` is for nanoseconds, billionths of seconds. If you wanted 100ths of seconds, you need `SS`.","body":"Also I can’t believe that <code>:nn</code> in your format pattern is what you want. <code>n</code> is for nanoseconds, billionths of seconds. If you wanted 100ths of seconds, you need <code>SS</code>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1673550969,"post_id":75101096,"comment_id":132530687,"body_markdown":"A feasible `TemporalAccessor`? You need more scrutiny when reading the exception message: *TemporalAccessor: {…, HourOfAmPm=10, …}…*","body":"A feasible <code>TemporalAccessor</code>? You need more scrutiny when reading the exception message: <i>TemporalAccessor: {…, HourOfAmPm=10, …}…</i>"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1673552061,"post_id":75101096,"comment_id":132531039,"body_markdown":"Since you were using a 12-hour clock, and didn&#39;t include any AM/PM information, the hour number is ambiguous when parsing (i.e., is `2` for hours 2 AM or 2 PM?). As you&#39;ve discovered, using a 24-hour clock fixes this ambiguity, but I believe so would including AM/PM information in the pattern.","body":"Since you were using a 12-hour clock, and didn&#39;t include any AM/PM information, the hour number is ambiguous when parsing (i.e., is <code>2</code> for hours 2 AM or 2 PM?). As you&#39;ve discovered, using a 24-hour clock fixes this ambiguity, but I believe so would including AM/PM information in the pattern."},{"owner":{"account_id":7421543,"reputation":2880,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":0,"creation_date":1673557915,"post_id":75101096,"comment_id":132532679,"body_markdown":"@Slaw yes, I could also use am/pm in my pattern by adding `a`. It&#39;s frustrating that I had this issue because I was discussing the time format with my other team members before I started this project, and we all agreed on using a 24 hour clock. I just got so comfortable in my rhythm that I completely forgot when it came to setting the time format.","body":"@Slaw yes, I could also use am/pm in my pattern by adding <code>a</code>. It&#39;s frustrating that I had this issue because I was discussing the time format with my other team members before I started this project, and we all agreed on using a 24 hour clock. I just got so comfortable in my rhythm that I completely forgot when it came to setting the time format."}],"owner":{"account_id":7421543,"reputation":2880,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1673550342,"answer_count":0,"score":2,"last_activity_date":1673550548,"creation_date":1673549745,"question_id":75101096,"body_markdown":"I am using the same [pattern][1] to both format and parse a [`LocalDateTime`][2] object. However, parsing the formatted string is throwing a [`DateTimeParseException`][3]. I created this [mcve][4] to demonstrate the issue:\r\n\r\n\tDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;MM-dd-yyyy hh:mm:ss:nn&quot;);\r\n\tLocalDateTime dateTime = LocalDateTime.of(2023, 1, 12, 10, 2, 7, 0);\r\n\tString formatted = formatter.format(dateTime);\r\n\tSystem.out.println(formatted);\r\n\tLocalDateTime.parse(formatted, formatter);\r\n\r\nThe output is:\r\n\r\n    01-12-2023 10:02:07:00\r\n    Exception in thread &quot;main&quot; java.time.format.DateTimeParseException: Text &#39;01-12-2023 10:02:07:00&#39; could not be parsed: Unable to obtain LocalDateTime from TemporalAccessor: {MicroOfSecond=0, SecondOfMinute=7, HourOfAmPm=10, MilliOfSecond=0, NanoOfSecond=0, MinuteOfHour=2},ISO resolved to 2023-01-12 of type java.time.format.Parsed\r\n    \tat java.time.format.DateTimeFormatter.createError(DateTimeFormatter.java:1920)\r\n    \tat java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1855)\r\n    \tat java.time.LocalDateTime.parse(LocalDateTime.java:492)\r\n    \tat com.nhbb.router.drawing.DrawingManager.main(DrawingManager.java:45)\r\n    Caused by: java.time.DateTimeException: Unable to obtain LocalDateTime from TemporalAccessor: {MicroOfSecond=0, SecondOfMinute=7, HourOfAmPm=10, MilliOfSecond=0, NanoOfSecond=0, MinuteOfHour=2},ISO resolved to 2023-01-12 of type java.time.format.Parsed\r\n    \tat java.time.LocalDateTime.from(LocalDateTime.java:461)\r\n    \tat java.time.format.Parsed.query(Parsed.java:226)\r\n    \tat java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1851)\r\n    \t... 2 more\r\n    Caused by: java.time.DateTimeException: Unable to obtain LocalTime from TemporalAccessor: {MicroOfSecond=0, SecondOfMinute=7, HourOfAmPm=10, MilliOfSecond=0, NanoOfSecond=0, MinuteOfHour=2},ISO resolved to 2023-01-12 of type java.time.format.Parsed\r\n    \tat java.time.LocalTime.from(LocalTime.java:409)\r\n    \tat java.time.LocalDateTime.from(LocalDateTime.java:457)\r\n    \t... 4 more\r\n\r\nLooking at other answers on this site, it seems like this only should happen if a required temporal field is missing, such as year or month. All the required fields are present in the `java.time.format.Parsed` instance shown in the output, so why is this code not working?\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#patterns\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeParseException.html\r\n  [4]: https://stackoverflow.com/help/minimal-reproducible-example\r\n","title":"Why can&#39;t LocalDateTime be obtained from a feasible temporal accessor?","body":"<p>I am using the same <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#patterns\" rel=\"nofollow noreferrer\">pattern</a> to both format and parse a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\" rel=\"nofollow noreferrer\"><code>LocalDateTime</code></a> object. However, parsing the formatted string is throwing a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeParseException.html\" rel=\"nofollow noreferrer\"><code>DateTimeParseException</code></a>. I created this <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">mcve</a> to demonstrate the issue:</p>\n<pre><code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;MM-dd-yyyy hh:mm:ss:nn&quot;);\nLocalDateTime dateTime = LocalDateTime.of(2023, 1, 12, 10, 2, 7, 0);\nString formatted = formatter.format(dateTime);\nSystem.out.println(formatted);\nLocalDateTime.parse(formatted, formatter);\n</code></pre>\n<p>The output is:</p>\n<pre><code>01-12-2023 10:02:07:00\nException in thread &quot;main&quot; java.time.format.DateTimeParseException: Text '01-12-2023 10:02:07:00' could not be parsed: Unable to obtain LocalDateTime from TemporalAccessor: {MicroOfSecond=0, SecondOfMinute=7, HourOfAmPm=10, MilliOfSecond=0, NanoOfSecond=0, MinuteOfHour=2},ISO resolved to 2023-01-12 of type java.time.format.Parsed\n    at java.time.format.DateTimeFormatter.createError(DateTimeFormatter.java:1920)\n    at java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1855)\n    at java.time.LocalDateTime.parse(LocalDateTime.java:492)\n    at com.nhbb.router.drawing.DrawingManager.main(DrawingManager.java:45)\nCaused by: java.time.DateTimeException: Unable to obtain LocalDateTime from TemporalAccessor: {MicroOfSecond=0, SecondOfMinute=7, HourOfAmPm=10, MilliOfSecond=0, NanoOfSecond=0, MinuteOfHour=2},ISO resolved to 2023-01-12 of type java.time.format.Parsed\n    at java.time.LocalDateTime.from(LocalDateTime.java:461)\n    at java.time.format.Parsed.query(Parsed.java:226)\n    at java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1851)\n    ... 2 more\nCaused by: java.time.DateTimeException: Unable to obtain LocalTime from TemporalAccessor: {MicroOfSecond=0, SecondOfMinute=7, HourOfAmPm=10, MilliOfSecond=0, NanoOfSecond=0, MinuteOfHour=2},ISO resolved to 2023-01-12 of type java.time.format.Parsed\n    at java.time.LocalTime.from(LocalTime.java:409)\n    at java.time.LocalDateTime.from(LocalDateTime.java:457)\n    ... 4 more\n</code></pre>\n<p>Looking at other answers on this site, it seems like this only should happen if a required temporal field is missing, such as year or month. All the required fields are present in the <code>java.time.format.Parsed</code> instance shown in the output, so why is this code not working?</p>\n"},{"tags":["java","compiler-errors"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":4,"creation_date":1673549903,"post_id":75101103,"comment_id":132530352,"body_markdown":"In Visual Studio, you need the &quot;source folder&quot; to be the folder above `a`, not `a` itself, because package names are resolved relative to the source folder.","body":"In Visual Studio, you need the &quot;source folder&quot; to be the folder above <code>a</code>, not <code>a</code> itself, because package names are resolved relative to the source folder."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673550123,"creation_date":1673550123,"answer_id":75101149,"question_id":75101103,"body_markdown":"```\r\npackage a;\r\n\r\npublic class MyClass {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Hello world&quot;);\r\n\r\n    }\r\n}\r\n```\r\nIt depends from where you are referencing the class.  If `a` is a subfolder and you are trying to compile `MyClass.java` from within `a` it won&#39;t work (unless you specify the correct folder like `./..` or similar.  Packages are relative to some root folder or other package.","title":"The declared package &quot;a&quot; does not match the expected package &quot;&quot;","body":"<pre><code>package a;\n\npublic class MyClass {\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello world&quot;);\n\n    }\n}\n</code></pre>\n<p>It depends from where you are referencing the class.  If <code>a</code> is a subfolder and you are trying to compile <code>MyClass.java</code> from within <code>a</code> it won't work (unless you specify the correct folder like <code>./..</code> or similar.  Packages are relative to some root folder or other package.</p>\n"}],"owner":{"account_id":26642828,"reputation":53,"user_id":20258209,"display_name":"Camy07"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1673550123,"creation_date":1673549803,"question_id":75101103,"body_markdown":"Having this file schema:\r\n\r\n```\r\nfolder &quot;a&quot;\r\n        |\r\n        |_____ MyClass.java\r\n```\r\nWhere my &quot;.java&quot; file has this code:\r\n```\r\npackage a;\r\n\r\npublic class MyClass {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Hello world&quot;);\r\n\r\n    }\r\n}\r\n```\r\n\r\nI was wondering the reason why I get this error (I&#39;m using visual studio, I say it in case it is related to my error):\r\n\r\n```\r\nThe declared package &quot;a&quot; does not match the expected package &quot;&quot;.\r\n```\r\n\r\nI&#39;ve noticed that sometimes when I reopen my folder It suddenly works, however other times it doesn&#39;t.\r\n\r\nI don&#39;t know why this happens, I believe the reason it&#39;s related to visual studio but it goes further of it, since when I try to compile it, as said, sometimes It works, others don&#39;t.\r\n\r\nTelling me this error:\r\n\r\n```\r\nError: Could not find or load main class MyClass\r\nCaused by: java.lang.NoClassDefFoundError: a/MyClass (wrong name: MyClass)\r\n```","title":"The declared package &quot;a&quot; does not match the expected package &quot;&quot;","body":"<p>Having this file schema:</p>\n<pre><code>folder &quot;a&quot;\n        |\n        |_____ MyClass.java\n</code></pre>\n<p>Where my &quot;.java&quot; file has this code:</p>\n<pre><code>package a;\n\npublic class MyClass {\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello world&quot;);\n\n    }\n}\n</code></pre>\n<p>I was wondering the reason why I get this error (I'm using visual studio, I say it in case it is related to my error):</p>\n<pre><code>The declared package &quot;a&quot; does not match the expected package &quot;&quot;.\n</code></pre>\n<p>I've noticed that sometimes when I reopen my folder It suddenly works, however other times it doesn't.</p>\n<p>I don't know why this happens, I believe the reason it's related to visual studio but it goes further of it, since when I try to compile it, as said, sometimes It works, others don't.</p>\n<p>Telling me this error:</p>\n<pre><code>Error: Could not find or load main class MyClass\nCaused by: java.lang.NoClassDefFoundError: a/MyClass (wrong name: MyClass)\n</code></pre>\n"},{"tags":["java","spring","transactions","spring-transactions"],"answers":[{"tags":[],"owner":{"account_id":27431373,"reputation":21,"user_id":20928015,"display_name":"Ravi Teja"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673518311,"creation_date":1673518311,"answer_id":75094661,"question_id":75093204,"body_markdown":"Instead of using ChainedTransactionManager, you can register a TransactionSynchronization to explicitly follow transaction cleanup with simplified semantics in case of exceptions.\r\n\r\n - AbstractReactiveTransactionManager which implements \r\n   ReactiveTransactionManager, Serializable \r\n  \r\n   This base class provides the following workflow handling:\r\n\r\n - determines if there is an existing transaction;\r\n - applies the appropriate propagation behavior;\r\n - suspends and resumes transactions if necessary;\r\n - checks the rollback-only flag on commit;\r\n - applies the appropriate modification on rollback\r\n - triggers registered synchronization callbacks.\r\n\r\n\r\n","title":"ChainedTransactionManager analogue","body":"<p>Instead of using ChainedTransactionManager, you can register a TransactionSynchronization to explicitly follow transaction cleanup with simplified semantics in case of exceptions.</p>\n<ul>\n<li><p>AbstractReactiveTransactionManager which implements\nReactiveTransactionManager, Serializable</p>\n<p>This base class provides the following workflow handling:</p>\n</li>\n<li><p>determines if there is an existing transaction;</p>\n</li>\n<li><p>applies the appropriate propagation behavior;</p>\n</li>\n<li><p>suspends and resumes transactions if necessary;</p>\n</li>\n<li><p>checks the rollback-only flag on commit;</p>\n</li>\n<li><p>applies the appropriate modification on rollback</p>\n</li>\n<li><p>triggers registered synchronization callbacks.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":24086357,"reputation":1,"user_id":20989544,"display_name":"Дмитрий Кутявин"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673549749,"creation_date":1673510857,"question_id":75093204,"body_markdown":"I&#39;m using ChainedTransactionManager in my project, but it&#39;s been marked @Deprecated recently. I would like to know if there is any analogue for a linked transaction from two databases.\r\n\r\nJtaTransactionManager with Atomikos is not my case apparently.","title":"ChainedTransactionManager analogue","body":"<p>I'm using ChainedTransactionManager in my project, but it's been marked @Deprecated recently. I would like to know if there is any analogue for a linked transaction from two databases.</p>\n<p>JtaTransactionManager with Atomikos is not my case apparently.</p>\n"},{"tags":["java","android","apk","visual-glitch"],"owner":{"account_id":27512847,"reputation":11,"user_id":20994410,"display_name":"John Doe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1673549688,"creation_date":1673548409,"question_id":75100860,"body_markdown":"Hello everyone I don&#39;t have much programming experience, but I installed an apk for an app. (The apk can be found here: https://s2.rexdl.com/android/game/The-Walking-Dead-Season-One.1.18-Adreno-www.ReXdl.com.apk )(It works with a custom obb, but the obb is most likely not causing the error, but if you need to look at the obb file as well, here it is:https://s2.rexdl.com/android/game/The-Walking-Dead-Season-One.1.18-Adreno-www.ReXdl.com.rar ). But I have a problem: when I tap anywhere on the screen, my tap is displaced a certain distance to the left, so I have to aim a little bit right to where I want to tap, could anyone please tell me a solution to this, or modify the apk to solve the problem. Also, don&#39;t ask me to contact the developer, the app is no-longer supported by the developer- that is why I am asking the question here. Thanks, John Doe.\r\n\r\nI was expecting the taps to be in sync with where I tap the screen, but the taps are displaced to the left. I tried tweaking some layout settings to no avail.","title":"Displaced taps in an app (can&#39;t tap near right screen edge)","body":"<p>Hello everyone I don't have much programming experience, but I installed an apk for an app. (The apk can be found here: <a href=\"https://s2.rexdl.com/android/game/The-Walking-Dead-Season-One.1.18-Adreno-www.ReXdl.com.apk\" rel=\"nofollow noreferrer\">https://s2.rexdl.com/android/game/The-Walking-Dead-Season-One.1.18-Adreno-www.ReXdl.com.apk</a> )(It works with a custom obb, but the obb is most likely not causing the error, but if you need to look at the obb file as well, here it is:<a href=\"https://s2.rexdl.com/android/game/The-Walking-Dead-Season-One.1.18-Adreno-www.ReXdl.com.rar\" rel=\"nofollow noreferrer\">https://s2.rexdl.com/android/game/The-Walking-Dead-Season-One.1.18-Adreno-www.ReXdl.com.rar</a> ). But I have a problem: when I tap anywhere on the screen, my tap is displaced a certain distance to the left, so I have to aim a little bit right to where I want to tap, could anyone please tell me a solution to this, or modify the apk to solve the problem. Also, don't ask me to contact the developer, the app is no-longer supported by the developer- that is why I am asking the question here. Thanks, John Doe.</p>\n<p>I was expecting the taps to be in sync with where I tap the screen, but the taps are displaced to the left. I tried tweaking some layout settings to no avail.</p>\n"},{"tags":["java","android","android-studio","gradle","linker-errors"],"comments":[{"owner":{"account_id":180055,"reputation":75792,"user_id":413127,"accept_rate":96,"display_name":"Blundell"},"score":1,"creation_date":1673443127,"post_id":75083552,"comment_id":132499707,"body_markdown":"not really enough information here to give a good answer imo sorry. Try updating your SDK tools and your IDE version. Delete all caches. Then bump the compile &amp; target SDK of your old app &amp; probably then the gradle wrapper version as well.","body":"not really enough information here to give a good answer imo sorry. Try updating your SDK tools and your IDE version. Delete all caches. Then bump the compile &amp; target SDK of your old app &amp; probably then the gradle wrapper version as well."}],"owner":{"account_id":27499033,"reputation":1,"user_id":20983101,"display_name":"Xt1280"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673549564,"creation_date":1673442425,"question_id":75083552,"body_markdown":"I&#39;m asking for help in building a [project ](https://4pda.to/pages/go/?u=https%3A%2F%2Fgithub.com%2Frdv0011%2Fstouch%2Ftree%2Fmaster&amp;e=120025597)for Android (my knowledge in this tends to 0).\r\nThere is a rather old project. I&#39;m trying to build it in AndroidStudio, I get the following error:\r\n&gt; Build command failed.\r\n&gt; Error while executing process C:\\Users\\User\\AppData\\Local\\Android\\Sdk\\cmake\\3.18.1\\bin\\ninja.exe with arguments {-C C:\\Users\\User\\IdeaProjects\\1\\stouch-task-hardware-upgrade-investigation\\app\\.cxx\\RelWithDebInfo\\2a9512e2\\armeabi-v7a stouch}\r\n&gt; ninja: Entering directory `C:\\Users\\User\\IdeaProjects\\1\\stouch-task-hardware-upgrade-investigation\\app\\.cxx\\RelWithDebInfo\\2a9512e2\\armeabi-v7a&#39;\r\n&gt; [1/1] Linking CXX shared library ..\\..\\..\\..\\build\\intermediates\\cxx\\RelWithDebInfo\\2a9512e2\\obj\\armeabi-v7a\\libstouch.so\r\n\r\nI tried different versions of studio, java, gradle but the result is always the same.\r\n\r\nHow do I fix it?\r\n\r\nUpdate:\r\n\r\n&gt; 2023-01-12 23:41:37,079 [e-1136-b06]   WARN -\r\n&gt; ea.gradle.project.sync.SdkSync - Replacing invalid NDK path\r\n&gt; C:\\Users\\User\\AppData\\Local\\Android\\Sdk\\ndk-bundle with\r\n&gt; C:\\Users\\User\\AppData\\Local\\Android\\Sdk\\ndk-bundle  2023-01-12\r\n&gt; 23:41:37,079 [e-1136-b06]   INFO - e.project.sync.GradleSyncState -\r\n&gt; Started sync with Gradle for project &#39;stouch&#39;.  2023-01-12\r\n&gt; 23:41:37,080 [e-1136-b06]   INFO - idea.project.IndexingSuspender -\r\n&gt; Consuming IndexingSuspender activation event: SYNC_STARTED  2023-01-12\r\n&gt; 23:41:37,080 [e-1136-b06]   INFO - idea.project.IndexingSuspender -\r\n&gt; Starting batch update for project: Project\r\n&gt; &#39;C:\\Users\\User\\IdeaProjects\\AS\\9\\stouch&#39; stouch  2023-01-12\r\n&gt; 23:41:37,087 [thread 116]   INFO - s.plugins.gradle.GradleManager -\r\n&gt; Instructing gradle to use java from C:/Program Files/Android/Android\r\n&gt; Studio/jre  2023-01-12 23:41:37,088 [thread 116]   INFO -\r\n&gt; s.plugins.gradle.GradleManager - Instructing gradle to use java from\r\n&gt; C:/Program Files/Android/Android Studio/jre  2023-01-12 23:41:37,101\r\n&gt; [thread 116]   INFO - xecution.GradleExecutionHelper - Passing\r\n&gt; command-line args to Gradle Tooling API: -Didea.version=3.2\r\n&gt; -Djava.awt.headless=true -Pandroid.injected.build.model.only=true -Pandroid.injected.build.model.only.advanced=true -Pandroid.injected.invoked.from.ide=true -Pandroid.injected.build.model.only.versioned=3 -Pandroid.injected.studio.version=3.2.1.0 -Pandroid.builder.sdkDownload=false --init-script C:\\Users\\User\\AppData\\Local\\Temp\\ijinit17.gradle  2023-01-12\r\n&gt; 23:41:37,770 [thread 116]   INFO - .project.GradleProjectResolver -\r\n&gt; Gradle project resolve error  org.gradle.tooling.BuildException: Could\r\n&gt; not run build action using Gradle distribution\r\n&gt; &#39;https://services.gradle.org/distributions/gradle-4.2-all.zip&#39;. \tat\r\n&gt; org.gradle.tooling.internal.consumer.ExceptionTransformer.transform(ExceptionTransformer.java:51)\r\n&gt; \tat\r\n&gt; org.gradle.tooling.internal.consumer.ExceptionTransformer.transform(ExceptionTransformer.java:29)\r\n&gt; \tat\r\n&gt; org.gradle.tooling.internal.consumer.ResultHandlerAdapter.onFailure(ResultHandlerAdapter.java:41)","title":"Android studio project build error: Linking CXX shared FAILED","body":"<p>I'm asking for help in building a <a href=\"https://4pda.to/pages/go/?u=https%3A%2F%2Fgithub.com%2Frdv0011%2Fstouch%2Ftree%2Fmaster&amp;e=120025597\" rel=\"nofollow noreferrer\">project </a>for Android (my knowledge in this tends to 0).\nThere is a rather old project. I'm trying to build it in AndroidStudio, I get the following error:</p>\n<blockquote>\n<p>Build command failed.\nError while executing process C:\\Users\\User\\AppData\\Local\\Android\\Sdk\\cmake\\3.18.1\\bin\\ninja.exe with arguments {-C C:\\Users\\User\\IdeaProjects\\1\\stouch-task-hardware-upgrade-investigation\\app.cxx\\RelWithDebInfo\\2a9512e2\\armeabi-v7a stouch}\nninja: Entering directory `C:\\Users\\User\\IdeaProjects\\1\\stouch-task-hardware-upgrade-investigation\\app.cxx\\RelWithDebInfo\\2a9512e2\\armeabi-v7a'\n[1/1] Linking CXX shared library ........\\build\\intermediates\\cxx\\RelWithDebInfo\\2a9512e2\\obj\\armeabi-v7a\\libstouch.so</p>\n</blockquote>\n<p>I tried different versions of studio, java, gradle but the result is always the same.</p>\n<p>How do I fix it?</p>\n<p>Update:</p>\n<blockquote>\n<p>2023-01-12 23:41:37,079 [e-1136-b06]   WARN -\nea.gradle.project.sync.SdkSync - Replacing invalid NDK path\nC:\\Users\\User\\AppData\\Local\\Android\\Sdk\\ndk-bundle with\nC:\\Users\\User\\AppData\\Local\\Android\\Sdk\\ndk-bundle  2023-01-12\n23:41:37,079 [e-1136-b06]   INFO - e.project.sync.GradleSyncState -\nStarted sync with Gradle for project 'stouch'.  2023-01-12\n23:41:37,080 [e-1136-b06]   INFO - idea.project.IndexingSuspender -\nConsuming IndexingSuspender activation event: SYNC_STARTED  2023-01-12\n23:41:37,080 [e-1136-b06]   INFO - idea.project.IndexingSuspender -\nStarting batch update for project: Project\n'C:\\Users\\User\\IdeaProjects\\AS\\9\\stouch' stouch  2023-01-12\n23:41:37,087 [thread 116]   INFO - s.plugins.gradle.GradleManager -\nInstructing gradle to use java from C:/Program Files/Android/Android\nStudio/jre  2023-01-12 23:41:37,088 [thread 116]   INFO -\ns.plugins.gradle.GradleManager - Instructing gradle to use java from\nC:/Program Files/Android/Android Studio/jre  2023-01-12 23:41:37,101\n[thread 116]   INFO - xecution.GradleExecutionHelper - Passing\ncommand-line args to Gradle Tooling API: -Didea.version=3.2\n-Djava.awt.headless=true -Pandroid.injected.build.model.only=true -Pandroid.injected.build.model.only.advanced=true -Pandroid.injected.invoked.from.ide=true -Pandroid.injected.build.model.only.versioned=3 -Pandroid.injected.studio.version=3.2.1.0 -Pandroid.builder.sdkDownload=false --init-script C:\\Users\\User\\AppData\\Local\\Temp\\ijinit17.gradle  2023-01-12\n23:41:37,770 [thread 116]   INFO - .project.GradleProjectResolver -\nGradle project resolve error  org.gradle.tooling.BuildException: Could\nnot run build action using Gradle distribution\n'https://services.gradle.org/distributions/gradle-4.2-all.zip'.   at\norg.gradle.tooling.internal.consumer.ExceptionTransformer.transform(ExceptionTransformer.java:51)\nat\norg.gradle.tooling.internal.consumer.ExceptionTransformer.transform(ExceptionTransformer.java:29)\nat\norg.gradle.tooling.internal.consumer.ResultHandlerAdapter.onFailure(ResultHandlerAdapter.java:41)</p>\n</blockquote>\n"},{"tags":["java","logging","log4j","log4j2"],"answers":[{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673549382,"creation_date":1673549382,"answer_id":75101026,"question_id":75093443,"body_markdown":"You are using the `appenders` and `loggers` properties to specify the list of appender and logger identifiers. While these properties are still supported, they are not required since version 2.6 (cf. [LOG4J2-1308](https://issues.apache.org/jira/browse/LOG4J2-1308)). To enable your &quot;PERFORMANCE_LOG&quot; logger either:\r\n\r\n * remove the `loggers` property (by default all the logger ids are enabled),\r\n * **or** set it to a list of all enabled loggers, e.g.:\r\n\r\n   ```\r\n   loggers = rolling, performancelog\r\n   ```\r\n\r\n**Remark**: while having multiple appenders on the same output stream is allowed, it is certainly not the recommended configuration. The `PatternLayout` in Log4j2 supports &quot;pattern selectors&quot; (cf. [documentation](https://logging.apache.org/log4j/2.x/manual/layouts.html#Pattern_Selectors)), which can be used in your scenario.\r\n\r\nA possible solution using [`MarkerPatternSelector`](https://logging.apache.org/log4j/2.x/manual/layouts.html#MarkerPatternSelector) would require:\r\n\r\n * obviously a marker, e.g.:\r\n\r\n   ```lang-java\r\n   private static final Marker PERF_MARKER = MarkerManager.getMarker(&quot;PERFORMANCE_LOG&quot;);\r\n   ```\r\n * a pattern layout configured with a marker pattern selector:\r\n\r\n   ```\r\n   appender.c.l.type = PatternLayout\r\n   appender.c.l.mps.type = MarkerPatternSelector\r\n   appender.c.l.mps.defaultPattern = %d{yyyy-MM-dd HH:mm:ss,SSS} %t %-5p %c{6}:%L - %m%n\r\n   appender.c.l.mps.0.type = PatternMatch\r\n   appender.c.l.mps.0.key = PERFORMANCE_LOG\r\n   appender.c.l.mps.0.pattern = (%marker) %m%n\r\n   ```\r\n\r\n * to log using the `PERFORMANCE` marker you can use any logger, just use a `Logger` method with a marker parameter or `LogBuilder`:\r\n\r\n   ```lang-java\r\n   logger.info(PERF_MARKER, () -&gt; validateInput(message));\r\n   logger.atInfo()\r\n         .withMarker(PERF_MARKER)\r\n         .log(&quot;{}&quot;, () -&gt; validateInput(message));\r\n   ```","title":"Multiple patterns not working while writing the logs to console","body":"<p>You are using the <code>appenders</code> and <code>loggers</code> properties to specify the list of appender and logger identifiers. While these properties are still supported, they are not required since version 2.6 (cf. <a href=\"https://issues.apache.org/jira/browse/LOG4J2-1308\" rel=\"nofollow noreferrer\">LOG4J2-1308</a>). To enable your &quot;PERFORMANCE_LOG&quot; logger either:</p>\n<ul>\n<li><p>remove the <code>loggers</code> property (by default all the logger ids are enabled),</p>\n</li>\n<li><p><strong>or</strong> set it to a list of all enabled loggers, e.g.:</p>\n<pre><code>loggers = rolling, performancelog\n</code></pre>\n</li>\n</ul>\n<p><strong>Remark</strong>: while having multiple appenders on the same output stream is allowed, it is certainly not the recommended configuration. The <code>PatternLayout</code> in Log4j2 supports &quot;pattern selectors&quot; (cf. <a href=\"https://logging.apache.org/log4j/2.x/manual/layouts.html#Pattern_Selectors\" rel=\"nofollow noreferrer\">documentation</a>), which can be used in your scenario.</p>\n<p>A possible solution using <a href=\"https://logging.apache.org/log4j/2.x/manual/layouts.html#MarkerPatternSelector\" rel=\"nofollow noreferrer\"><code>MarkerPatternSelector</code></a> would require:</p>\n<ul>\n<li><p>obviously a marker, e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final Marker PERF_MARKER = MarkerManager.getMarker(&quot;PERFORMANCE_LOG&quot;);\n</code></pre>\n</li>\n<li><p>a pattern layout configured with a marker pattern selector:</p>\n<pre><code>appender.c.l.type = PatternLayout\nappender.c.l.mps.type = MarkerPatternSelector\nappender.c.l.mps.defaultPattern = %d{yyyy-MM-dd HH:mm:ss,SSS} %t %-5p %c{6}:%L - %m%n\nappender.c.l.mps.0.type = PatternMatch\nappender.c.l.mps.0.key = PERFORMANCE_LOG\nappender.c.l.mps.0.pattern = (%marker) %m%n\n</code></pre>\n</li>\n<li><p>to log using the <code>PERFORMANCE</code> marker you can use any logger, just use a <code>Logger</code> method with a marker parameter or <code>LogBuilder</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>logger.info(PERF_MARKER, () -&gt; validateInput(message));\nlogger.atInfo()\n      .withMarker(PERF_MARKER)\n      .log(&quot;{}&quot;, () -&gt; validateInput(message));\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":16019646,"reputation":3305,"user_id":11745452,"display_name":"Ashok"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":266,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75101026,"answer_count":1,"score":1,"last_activity_date":1673549382,"creation_date":1673512386,"question_id":75093443,"body_markdown":"my requirement is to write the different logs to the console which needs to have a different pattern.\r\n\r\nI&#39;ve used multiple appenders and used a separate logger but it&#39;s not taking the pattern which I&#39;ve given for the appender instead it&#39;s taking another pattern.\r\n\r\nBelow is the `log4j2.properties`\r\n\r\n```\r\nname = PropertiesConfig\r\n\r\nappenders = console, console1\r\n\r\nappender.console.type = Console\r\nappender.console.name = STDOUT\r\nappender.console.layout.type = PatternLayout\r\nappender.console.layout.pattern = %d{yyyy-MM-dd HH:mm:ss,SSS} %t %-5p %c{6}:%L - %m%n\r\n\r\nappender.console1.type = Console\r\nappender.console1.name = STDOUT1\r\nappender.console1.layout.type = PatternLayout\r\nappender.console1.layout.pattern = %m%n\r\n\r\nloggers = rolling\r\nlogger.rolling.name = org.apache.logging.log4j.core.appender.rolling\r\n\r\n#Configure module specific\r\nlogger.org.apache.kafka.common.network.Selector = info\r\nlogger.com.test.test1 = fine\r\nlogger.com.test.test1.service.impl.RSStd=info\r\n\r\n#configure rootLogger and attach all the appenders to it\r\nrootLogger.level = info\r\nrootLogger.appenderRef.console.ref = STDOUT\r\n\r\nlogger.performancelog.name = PERFORMANCE_LOG\r\nlogger.performancelog.additivity = false\r\nlogger.performancelog.level = info\r\nlogger.performancelog.appenderRef.console1.ref = STDOUT1\r\n\r\n```\r\n\r\nEvery time it&#39;s picking this pattern \r\n```\r\nappender.console.layout.pattern = %d{yyyy-MM-dd HH:mm:ss,SSS} %t %-5p %c{6}:%L - %m%n\r\n``` \r\ninstead of \r\n```\r\nappender.console1.layout.pattern = %m%n\r\n```\r\n\r\nBelow is my java code `GlobalLogger`\r\n\r\n```\r\nimport java.util.Objects;\r\n\r\nimport org.apache.logging.log4j.core.appender.ConsoleAppender;\r\nimport org.apache.logging.log4j.Level;\r\nimport org.apache.logging.log4j.LogManager;\r\nimport org.apache.logging.log4j.Logger;\r\nimport org.apache.logging.log4j.Marker;\r\nimport org.apache.logging.log4j.MarkerManager;\r\nimport org.apache.logging.log4j.core.LoggerContext;\r\nimport org.apache.logging.log4j.core.layout.PatternLayout;\r\nimport org.owasp.esapi.ESAPI;\r\nimport org.apache.logging.log4j.core.config.Configuration;\r\nimport com.test.sample.common.constants.CommonConstants;\r\nimport com.test.sample.obj.ProcessRuntime;\r\n\r\npublic class GlobalLogger {\r\n    private static final String Ref = &quot;, Ref=&quot;;\r\n\tprivate final Logger logger;\r\n    private final Logger testLogger;\r\n\r\n    public static GlobalLogger getLogger(Class&lt;?&gt; cls) {\r\n        return getLogger (cls.getName());\r\n    }\r\n\r\n    public static GlobalLogger getLogger(String pkgName) {\r\n        return new GlobalLogger(LogManager.getLogger(pkgName));\r\n    }\r\n\r\n    private GlobalLogger(Logger logger) {\r\n    \tthis.testLogger=LogManager.getLogger(&quot;PERFORMANCE_LOG&quot;);\r\n        this.logger = logger;\r\n    }\r\n    \r\n    public static GlobalLogger getTESTLogger(String loggerName) { //1.1\r\n        return new GlobalLogger(LogManager.getLogger(loggerName));\r\n    }\r\n\r\n    public void logIbgm(Object message){ //1.1\r\n    \ttestLogger.info(&quot;(PERFORMANCE_LOG) &quot; + validateInput(message));\r\n    }\r\n    public boolean isTrace() {\r\n    \treturn logger.isTraceEnabled();\r\n    }\r\n\r\n    public void trace(Object message){\r\n    \tif (isTrace()) {\r\n    \t\tlogger.trace(lineNumber() + Ref +  (Objects.equals(null, ProcessRuntime.getRequestId())?&quot;&quot;:ProcessRuntime.getRequestId())+ &quot;, &quot; +validateInput( message));\r\n    \t}\r\n    }\r\n    \r\n    public void trace(Object message, Throwable t){\r\n    \tif(isTrace()){\r\n    \t\tlogger.trace(lineNumber() + Ref +  (Objects.equals(null, ProcessRuntime.getRequestId())?&quot;&quot;:ProcessRuntime.getRequestId()) + &quot;, &quot; + validateInput(message), t);\r\n    \t}\r\n    }\r\n\r\n    public boolean isDebug() {\r\n    \treturn logger.isDebugEnabled();\r\n    }\r\n    \r\n    public void debug(Object message){\r\n    \tif(isDebug()){\r\n    \t\tlogger.debug(lineNumber() + Ref +  (Objects.equals(null, ProcessRuntime.getRequestId())?&quot;&quot;:ProcessRuntime.getRequestId())+ &quot;, &quot; + validateInput(message));\r\n    \t}\r\n    }\r\n    \r\n    public void debug(Object message, Throwable t){\r\n    \tif(isDebug()){\r\n    \t\tlogger.debug(lineNumber() + Ref + (Objects.equals(null, ProcessRuntime.getRequestId())?&quot;&quot;:ProcessRuntime.getRequestId())+ &quot;, &quot; +validateInput( message), t);\r\n    \t}\r\n    }\r\n\r\n    public boolean isInfo() {\r\n    \t return logger.isInfoEnabled();\r\n    }\r\n    \r\n    public void info(Object message){\r\n    \tif(isInfo()){\r\n    \t\tlogger.info(lineNumber() + Ref + (Objects.equals(null, ProcessRuntime.getRequestId())?&quot;&quot;:ProcessRuntime.getRequestId()) + &quot;, &quot; +validateInput(message));\r\n    \t}\r\n    }\r\n    \r\n    public void info(Object message, Throwable t){\r\n    \tif(isInfo()){\r\n    \t\tlogger.info(lineNumber() + Ref + (Objects.equals(null, ProcessRuntime.getRequestId())?&quot;&quot;:ProcessRuntime.getRequestId())+ &quot;, &quot; + validateInput(message), t);\r\n    \t}\r\n    }\r\n\r\n    public boolean isWarn() {\r\n    \treturn logger.isWarnEnabled();\r\n    }\r\n    \r\n    public void warn(Object message){\r\n    \tif(isWarn()){\r\n    \t\tlogger.warn(lineNumber() + Ref +  (Objects.equals(null, ProcessRuntime.getRequestId())?&quot;&quot;:ProcessRuntime.getRequestId())+ &quot;, &quot; + validateInput(message));\r\n    \t}\r\n    }\r\n    \r\n    public void warn(Object message, Throwable t){\r\n    \tif(isWarn()){\r\n    \t\tlogger.warn(lineNumber() + Ref + (Objects.equals(null, ProcessRuntime.getRequestId())?&quot;&quot;:ProcessRuntime.getRequestId())+ &quot;, &quot; + validateInput(message), t);\r\n    \t}\r\n    }\r\n    \r\n    public void error(Object message){\r\n    \tlogger.error(lineNumber() + Ref +  (Objects.equals(null, ProcessRuntime.getRequestId())?&quot;&quot;:ProcessRuntime.getRequestId())+ &quot;, &quot; + validateInput(message));\r\n    }\r\n    \r\n    public void error(Object message, Throwable t){\r\n    \tlogger.error(lineNumber() + Ref + (Objects.equals(null, ProcessRuntime.getRequestId())?&quot;&quot;:ProcessRuntime.getRequestId()) + &quot;, &quot; + validateInput(message), t);\r\n    }\r\n\r\n    /*\r\n     * Get the Actual Line Number\r\n     */\r\n    private String lineNumber() {\r\n        StackTraceElement[] threadTrackArray = Thread.currentThread().getStackTrace();\r\n        if (threadTrackArray.length &gt; 3) {\r\n            return &quot;:&quot; + Integer.toString(threadTrackArray[3].getLineNumber()) + &quot;-&quot;;\r\n        }\r\n        return &quot;&quot;;\r\n    }\r\n\r\n    public static void consoleLoggerInit () {\r\n        consoleLoggerInit (null);\r\n    }\r\n    public static void consoleLoggerInit (Level logLevel) {\r\n        final LoggerContext ctx = (LoggerContext) LogManager.getContext(false);\r\n        final Configuration config = ctx.getConfiguration();\r\n        if (config != null) {\r\n            config.getRootLogger().getAppenders().clear();\r\n            if (logLevel != null) {\r\n                config.getRootLogger().setLevel(logLevel);\r\n            } else {\r\n                config.getRootLogger().setLevel(Level.INFO);\r\n            }\r\n            config.addAppender(ConsoleAppender.createDefaultAppenderForLayout(PatternLayout.newBuilder().withPattern(&quot;%5p [%t] (%c{1}) %m%n&quot;)\r\n                    .withConfiguration(config).build()));\r\n        }\r\n    }\r\n\r\n    public static String validateInput(Object msg) {\r\n\t\ttry {\r\n\t\t\tString aString=&quot;&quot;;\r\n\t\t\tif(msg!=null)\r\n\t\t\t\taString=msg.toString();\r\n\t\t\treturn ESAPI.validator().getValidInput(CommonConstants.ESAPI_CONSTANTS.CONTEXT_INPUT_VALIDATION, aString, \r\n\t\t\t\t\tCommonConstants.ESAPI_CONSTANTS.VAL_TYPE_SOMETHING_ELSE, aString.length()+1,false);\r\n\t\t} catch (Exception e) {\r\n\t\t\treturn &quot;&quot;;\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nI&#39;m using the `this.testLogger=LogManager.getLogger(&quot;PERFORMANCE_LOG&quot;);` and the method \r\n```\r\npublic void logIbgm(Object message){ //1.1\r\n        testLogger.info(&quot;(PERFORMANCE_LOG) &quot; + validateInput(message));\r\n    }\r\n```\r\n\r\n\r\n`PERFORMANCE_LOG is the name that is the same used for the logger name in log4j2.properties`\r\n\r\n\r\n```\r\npom.xml\r\n\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.17.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.17.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```","title":"Multiple patterns not working while writing the logs to console","body":"<p>my requirement is to write the different logs to the console which needs to have a different pattern.</p>\n<p>I've used multiple appenders and used a separate logger but it's not taking the pattern which I've given for the appender instead it's taking another pattern.</p>\n<p>Below is the <code>log4j2.properties</code></p>\n<pre><code>name = PropertiesConfig\n\nappenders = console, console1\n\nappender.console.type = Console\nappender.console.name = STDOUT\nappender.console.layout.type = PatternLayout\nappender.console.layout.pattern = %d{yyyy-MM-dd HH:mm:ss,SSS} %t %-5p %c{6}:%L - %m%n\n\nappender.console1.type = Console\nappender.console1.name = STDOUT1\nappender.console1.layout.type = PatternLayout\nappender.console1.layout.pattern = %m%n\n\nloggers = rolling\nlogger.rolling.name = org.apache.logging.log4j.core.appender.rolling\n\n#Configure module specific\nlogger.org.apache.kafka.common.network.Selector = info\nlogger.com.test.test1 = fine\nlogger.com.test.test1.service.impl.RSStd=info\n\n#configure rootLogger and attach all the appenders to it\nrootLogger.level = info\nrootLogger.appenderRef.console.ref = STDOUT\n\nlogger.performancelog.name = PERFORMANCE_LOG\nlogger.performancelog.additivity = false\nlogger.performancelog.level = info\nlogger.performancelog.appenderRef.console1.ref = STDOUT1\n\n</code></pre>\n<p>Every time it's picking this pattern</p>\n<pre><code>appender.console.layout.pattern = %d{yyyy-MM-dd HH:mm:ss,SSS} %t %-5p %c{6}:%L - %m%n\n</code></pre>\n<p>instead of</p>\n<pre><code>appender.console1.layout.pattern = %m%n\n</code></pre>\n<p>Below is my java code <code>GlobalLogger</code></p>\n<pre><code>import java.util.Objects;\n\nimport org.apache.logging.log4j.core.appender.ConsoleAppender;\nimport org.apache.logging.log4j.Level;\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\nimport org.apache.logging.log4j.Marker;\nimport org.apache.logging.log4j.MarkerManager;\nimport org.apache.logging.log4j.core.LoggerContext;\nimport org.apache.logging.log4j.core.layout.PatternLayout;\nimport org.owasp.esapi.ESAPI;\nimport org.apache.logging.log4j.core.config.Configuration;\nimport com.test.sample.common.constants.CommonConstants;\nimport com.test.sample.obj.ProcessRuntime;\n\npublic class GlobalLogger {\n    private static final String Ref = &quot;, Ref=&quot;;\n    private final Logger logger;\n    private final Logger testLogger;\n\n    public static GlobalLogger getLogger(Class&lt;?&gt; cls) {\n        return getLogger (cls.getName());\n    }\n\n    public static GlobalLogger getLogger(String pkgName) {\n        return new GlobalLogger(LogManager.getLogger(pkgName));\n    }\n\n    private GlobalLogger(Logger logger) {\n        this.testLogger=LogManager.getLogger(&quot;PERFORMANCE_LOG&quot;);\n        this.logger = logger;\n    }\n    \n    public static GlobalLogger getTESTLogger(String loggerName) { //1.1\n        return new GlobalLogger(LogManager.getLogger(loggerName));\n    }\n\n    public void logIbgm(Object message){ //1.1\n        testLogger.info(&quot;(PERFORMANCE_LOG) &quot; + validateInput(message));\n    }\n    public boolean isTrace() {\n        return logger.isTraceEnabled();\n    }\n\n    public void trace(Object message){\n        if (isTrace()) {\n            logger.trace(lineNumber() + Ref +  (Objects.equals(null, ProcessRuntime.getRequestId())?&quot;&quot;:ProcessRuntime.getRequestId())+ &quot;, &quot; +validateInput( message));\n        }\n    }\n    \n    public void trace(Object message, Throwable t){\n        if(isTrace()){\n            logger.trace(lineNumber() + Ref +  (Objects.equals(null, ProcessRuntime.getRequestId())?&quot;&quot;:ProcessRuntime.getRequestId()) + &quot;, &quot; + validateInput(message), t);\n        }\n    }\n\n    public boolean isDebug() {\n        return logger.isDebugEnabled();\n    }\n    \n    public void debug(Object message){\n        if(isDebug()){\n            logger.debug(lineNumber() + Ref +  (Objects.equals(null, ProcessRuntime.getRequestId())?&quot;&quot;:ProcessRuntime.getRequestId())+ &quot;, &quot; + validateInput(message));\n        }\n    }\n    \n    public void debug(Object message, Throwable t){\n        if(isDebug()){\n            logger.debug(lineNumber() + Ref + (Objects.equals(null, ProcessRuntime.getRequestId())?&quot;&quot;:ProcessRuntime.getRequestId())+ &quot;, &quot; +validateInput( message), t);\n        }\n    }\n\n    public boolean isInfo() {\n         return logger.isInfoEnabled();\n    }\n    \n    public void info(Object message){\n        if(isInfo()){\n            logger.info(lineNumber() + Ref + (Objects.equals(null, ProcessRuntime.getRequestId())?&quot;&quot;:ProcessRuntime.getRequestId()) + &quot;, &quot; +validateInput(message));\n        }\n    }\n    \n    public void info(Object message, Throwable t){\n        if(isInfo()){\n            logger.info(lineNumber() + Ref + (Objects.equals(null, ProcessRuntime.getRequestId())?&quot;&quot;:ProcessRuntime.getRequestId())+ &quot;, &quot; + validateInput(message), t);\n        }\n    }\n\n    public boolean isWarn() {\n        return logger.isWarnEnabled();\n    }\n    \n    public void warn(Object message){\n        if(isWarn()){\n            logger.warn(lineNumber() + Ref +  (Objects.equals(null, ProcessRuntime.getRequestId())?&quot;&quot;:ProcessRuntime.getRequestId())+ &quot;, &quot; + validateInput(message));\n        }\n    }\n    \n    public void warn(Object message, Throwable t){\n        if(isWarn()){\n            logger.warn(lineNumber() + Ref + (Objects.equals(null, ProcessRuntime.getRequestId())?&quot;&quot;:ProcessRuntime.getRequestId())+ &quot;, &quot; + validateInput(message), t);\n        }\n    }\n    \n    public void error(Object message){\n        logger.error(lineNumber() + Ref +  (Objects.equals(null, ProcessRuntime.getRequestId())?&quot;&quot;:ProcessRuntime.getRequestId())+ &quot;, &quot; + validateInput(message));\n    }\n    \n    public void error(Object message, Throwable t){\n        logger.error(lineNumber() + Ref + (Objects.equals(null, ProcessRuntime.getRequestId())?&quot;&quot;:ProcessRuntime.getRequestId()) + &quot;, &quot; + validateInput(message), t);\n    }\n\n    /*\n     * Get the Actual Line Number\n     */\n    private String lineNumber() {\n        StackTraceElement[] threadTrackArray = Thread.currentThread().getStackTrace();\n        if (threadTrackArray.length &gt; 3) {\n            return &quot;:&quot; + Integer.toString(threadTrackArray[3].getLineNumber()) + &quot;-&quot;;\n        }\n        return &quot;&quot;;\n    }\n\n    public static void consoleLoggerInit () {\n        consoleLoggerInit (null);\n    }\n    public static void consoleLoggerInit (Level logLevel) {\n        final LoggerContext ctx = (LoggerContext) LogManager.getContext(false);\n        final Configuration config = ctx.getConfiguration();\n        if (config != null) {\n            config.getRootLogger().getAppenders().clear();\n            if (logLevel != null) {\n                config.getRootLogger().setLevel(logLevel);\n            } else {\n                config.getRootLogger().setLevel(Level.INFO);\n            }\n            config.addAppender(ConsoleAppender.createDefaultAppenderForLayout(PatternLayout.newBuilder().withPattern(&quot;%5p [%t] (%c{1}) %m%n&quot;)\n                    .withConfiguration(config).build()));\n        }\n    }\n\n    public static String validateInput(Object msg) {\n        try {\n            String aString=&quot;&quot;;\n            if(msg!=null)\n                aString=msg.toString();\n            return ESAPI.validator().getValidInput(CommonConstants.ESAPI_CONSTANTS.CONTEXT_INPUT_VALIDATION, aString, \n                    CommonConstants.ESAPI_CONSTANTS.VAL_TYPE_SOMETHING_ELSE, aString.length()+1,false);\n        } catch (Exception e) {\n            return &quot;&quot;;\n        }\n    }\n}\n</code></pre>\n<p>I'm using the <code>this.testLogger=LogManager.getLogger(&quot;PERFORMANCE_LOG&quot;);</code> and the method</p>\n<pre><code>public void logIbgm(Object message){ //1.1\n        testLogger.info(&quot;(PERFORMANCE_LOG) &quot; + validateInput(message));\n    }\n</code></pre>\n<p><code>PERFORMANCE_LOG is the name that is the same used for the logger name in log4j2.properties</code></p>\n<pre><code>pom.xml\n\n&lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;2.17.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.17.1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","android","firebase-realtime-database","firebaseui"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1673547999,"post_id":75100702,"comment_id":132529731,"body_markdown":"Are you asking how to order and filter data in Firebase Realtime Database. Because that&#39;s covered in https://firebase.google.com/docs/database/android/lists-of-data#sorting_and_filtering_data and it&#39;s much more likely that we can help if you can show what you tried based on that, and based on other questions about the topic: https://stackoverflow.com/search?q=%5Bfirebase-realtime-database%5D%5Bandroid%5D+query","body":"Are you asking how to order and filter data in Firebase Realtime Database. Because that&#39;s covered in <a href=\"https://firebase.google.com/docs/database/android/lists-of-data#sorting_and_filtering_data\" rel=\"nofollow noreferrer\">firebase.google.com/docs/database/android/&hellip;</a> and it&#39;s much more likely that we can help if you can show what you tried based on that, and based on other questions about the topic: <a href=\"https://stackoverflow.com/search?q=%5Bfirebase-realtime-database%5D%5Bandroid%5D+query\">stackoverflow.com/&hellip;</a>"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1673597556,"post_id":75100702,"comment_id":132539268,"body_markdown":"Are you asking how to the Realtime Database based on two values?","body":"Are you asking how to the Realtime Database based on two values?"},{"owner":{"account_id":25297018,"reputation":1,"user_id":19121986,"display_name":"GeneralSting"},"score":0,"creation_date":1673605064,"post_id":75100702,"comment_id":132541541,"body_markdown":"2 or more. With further research, I don&#39;t think the requested is possible that way, I would need to customize the database to match my needs.","body":"2 or more. With further research, I don&#39;t think the requested is possible that way, I would need to customize the database to match my needs."}],"owner":{"account_id":25297018,"reputation":1,"user_id":19121986,"display_name":"GeneralSting"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673549355,"creation_date":1673547462,"question_id":75100702,"body_markdown":"[firebase database](https://i.stack.imgur.com/qB1tL.jpg)\r\nI should extract only certain keys from drinkCategories and display them in FirebaseRecyclerOptions. I&#39;m wondering how should I manipulate the query or FirebaseDatabase reference to only look for specific keys.\r\n\r\nEdit: below is my code, arrayOfCategories inside equalTo is not real array, just a representation of what I want to acomplish. &quot;equalTo&quot; takes one string but is there another way to query only certain keys, example i want to query only by keys category-id-7 and category-id-9 (these two keys are stored inside arrayOfCategories), ignore all other keys. \r\n\r\n        categoriesRef = FirebaseDatabase.getInstance().getReference(&quot;drinksCategories&quot;);\r\n        Query query = categoriesRef.orderByKey().equalTo(arrayOfCategories);\r\n\r\n        FirebaseRecyclerOptions&lt;Category&gt; options = new FirebaseRecyclerOptions.Builder&lt;Category&gt;()\r\n                .setQuery(query, Category.class)\r\n                .build();\r\n\r\n\r\n        FirebaseRecyclerAdapter&lt;Category, MenuViewHolder&gt; adapter = new FirebaseRecyclerAdapter&lt;Category, MenuViewHolder&gt;(options) {\r\n            @Override\r\n            protected void onBindViewHolder(@NonNull MenuViewHolder holder, int position, @NonNull Category model) {\r\n                String categoryId = getRef(position).getKey();\r\n                categoriesRef.child(categoryId).addValueEventListener(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                        if(snapshot.hasChild(&quot;image&quot;)) {\r\n                            Toast.makeText(getActivity(), snapshot.getValue(Category.class).getName(), Toast.LENGTH_SHORT).show();\r\n                            String description = snapshot.child(&quot;description&quot;).getValue().toString();\r\n                            String profileImage = snapshot.child(&quot;image&quot;).getValue().toString();\r\n                            String name = snapshot.child(&quot;name&quot;).getValue().toString();\r\n\r\n\r\n                            int id = getResources().getIdentifier(profileImage, &quot;drawable&quot;, getActivity().getPackageName());\r\n                            Drawable drawable;\r\n                            if (id == 0) {\r\n                                id = getResources().getIdentifier(&quot;no_image&quot;, &quot;drawable&quot;, getActivity().getPackageName());\r\n                                drawable = getResources().getDrawable(id);\r\n                            }\r\n                            else\r\n                                drawable = getResources().getDrawable(id);\r\n                            Glide.with(getActivity()).load(drawable).centerCrop().into(holder.imageView);\r\n\r\n\r\n                            holder.txtMenuName.setText(name);\r\n                            holder.setItemClickListener(new ItemClickListener() {\r\n                                @Override\r\n                                public void onClick(View view, int position, boolean isLongClick) {\r\n                                    recyclerMenu.setVisibility(View.GONE);\r\n                                    insertDrinks(name);\r\n                                    recyclerMenuDrinks.setVisibility(view.VISIBLE);\r\n                                }\r\n                            });\r\n                        }\r\n                        else {\r\n                            String name = snapshot.child(&quot;name&quot;).getKey().toString();\r\n                            String description = snapshot.child(&quot;description&quot;).getKey().toString();\r\n\r\n                            holder.txtMenuName.setText(name);\r\n                        }\r\n                    }\r\n\r\n                    @Override\r\n                    public void onCancelled(@NonNull DatabaseError error) {\r\n                        Toast.makeText(getActivity(), &quot;Error!&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n            }\r\n            @NonNull\r\n            @Override\r\n            public MenuViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n                View view = LayoutInflater.from(parent.getContext())\r\n                        .inflate(R.layout.menu_item, parent, false);\r\n                return new MenuViewHolder(view);\r\n            }\r\n        };\r\n        recyclerMenu.setAdapter(adapter);\r\n        adapter.startListening();","title":"FirebaseRecyclerOptions query for certain array of keys","body":"<p><a href=\"https://i.stack.imgur.com/qB1tL.jpg\" rel=\"nofollow noreferrer\">firebase database</a>\nI should extract only certain keys from drinkCategories and display them in FirebaseRecyclerOptions. I'm wondering how should I manipulate the query or FirebaseDatabase reference to only look for specific keys.</p>\n<p>Edit: below is my code, arrayOfCategories inside equalTo is not real array, just a representation of what I want to acomplish. &quot;equalTo&quot; takes one string but is there another way to query only certain keys, example i want to query only by keys category-id-7 and category-id-9 (these two keys are stored inside arrayOfCategories), ignore all other keys.</p>\n<pre><code>    categoriesRef = FirebaseDatabase.getInstance().getReference(&quot;drinksCategories&quot;);\n    Query query = categoriesRef.orderByKey().equalTo(arrayOfCategories);\n\n    FirebaseRecyclerOptions&lt;Category&gt; options = new FirebaseRecyclerOptions.Builder&lt;Category&gt;()\n            .setQuery(query, Category.class)\n            .build();\n\n\n    FirebaseRecyclerAdapter&lt;Category, MenuViewHolder&gt; adapter = new FirebaseRecyclerAdapter&lt;Category, MenuViewHolder&gt;(options) {\n        @Override\n        protected void onBindViewHolder(@NonNull MenuViewHolder holder, int position, @NonNull Category model) {\n            String categoryId = getRef(position).getKey();\n            categoriesRef.child(categoryId).addValueEventListener(new ValueEventListener() {\n                @Override\n                public void onDataChange(@NonNull DataSnapshot snapshot) {\n                    if(snapshot.hasChild(&quot;image&quot;)) {\n                        Toast.makeText(getActivity(), snapshot.getValue(Category.class).getName(), Toast.LENGTH_SHORT).show();\n                        String description = snapshot.child(&quot;description&quot;).getValue().toString();\n                        String profileImage = snapshot.child(&quot;image&quot;).getValue().toString();\n                        String name = snapshot.child(&quot;name&quot;).getValue().toString();\n\n\n                        int id = getResources().getIdentifier(profileImage, &quot;drawable&quot;, getActivity().getPackageName());\n                        Drawable drawable;\n                        if (id == 0) {\n                            id = getResources().getIdentifier(&quot;no_image&quot;, &quot;drawable&quot;, getActivity().getPackageName());\n                            drawable = getResources().getDrawable(id);\n                        }\n                        else\n                            drawable = getResources().getDrawable(id);\n                        Glide.with(getActivity()).load(drawable).centerCrop().into(holder.imageView);\n\n\n                        holder.txtMenuName.setText(name);\n                        holder.setItemClickListener(new ItemClickListener() {\n                            @Override\n                            public void onClick(View view, int position, boolean isLongClick) {\n                                recyclerMenu.setVisibility(View.GONE);\n                                insertDrinks(name);\n                                recyclerMenuDrinks.setVisibility(view.VISIBLE);\n                            }\n                        });\n                    }\n                    else {\n                        String name = snapshot.child(&quot;name&quot;).getKey().toString();\n                        String description = snapshot.child(&quot;description&quot;).getKey().toString();\n\n                        holder.txtMenuName.setText(name);\n                    }\n                }\n\n                @Override\n                public void onCancelled(@NonNull DatabaseError error) {\n                    Toast.makeText(getActivity(), &quot;Error!&quot;, Toast.LENGTH_SHORT).show();\n                }\n            });\n        }\n        @NonNull\n        @Override\n        public MenuViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n            View view = LayoutInflater.from(parent.getContext())\n                    .inflate(R.layout.menu_item, parent, false);\n            return new MenuViewHolder(view);\n        }\n    };\n    recyclerMenu.setAdapter(adapter);\n    adapter.startListening();\n</code></pre>\n"},{"tags":["java","reactjs","spring-boot","hibernate","react-hooks"],"owner":{"account_id":15004584,"reputation":9,"user_id":10831061,"display_name":"Thunder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673549245,"creation_date":1673522865,"question_id":75095645,"body_markdown":"I encountered this error when I tried to submit my form. React form is being used to submit the details.\r\n\r\nUser.java\r\n```\r\npackage com.example.pgfinder.models;\r\n\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.Table;\r\n\r\n@Entity\r\n@Table(name = &quot;user&quot;)\r\npublic class User \r\n{\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate long user_id;\r\n\t\r\n\t@Column(nullable= false)\r\n\tprivate String user_name;\r\n\t\r\n\t@Column(nullable= false)\r\n\tprivate String password;\r\n\t\r\n\t@Column(nullable= false)\r\n\tprivate String user_firstName;\r\n\t\r\n\t@Column(nullable= false)\r\n\tprivate String user_lastName;\r\n\t\r\n\t@Column(nullable= false)\r\n\tprivate String user_email;\r\n\t\r\n\t@Column(nullable= false)\r\n\tprivate String user_phone_no;\r\n\t\r\n\tpublic User() {\r\n\t\tsuper();\r\n\t}\r\n\t\r\n\tpublic User(String user_name, String password, String user_firstName, String user_lastName, String user_email,\r\n\t\t\tString user_phone_no) {\r\n\t\tsuper();\r\n\t\tthis.user_name = user_name;\r\n\t\tthis.password = password;\r\n\t\tthis.user_firstName = user_firstName;\r\n\t\tthis.user_lastName = user_lastName;\r\n\t\tthis.user_email = user_email;\r\n\t\tthis.user_phone_no = user_phone_no;\r\n\t}\r\n\t\r\n\tpublic long getUser_id() {\r\n\t\treturn user_id;\r\n\t}\r\n\tpublic void setUser_id(long user_id) {\r\n\t\tthis.user_id = user_id;\r\n\t}\r\n\tpublic String getUser_name() {\r\n\t\treturn user_name;\r\n\t}\r\n\tpublic void setUser_name(String user_name) {\r\n\t\tthis.user_name = user_name;\r\n\t}\r\n\tpublic String getPassword() {\r\n\t\treturn password;\r\n\t}\r\n\tpublic void setPassword(String password) {\r\n\t\tthis.password = password;\r\n\t}\r\n\tpublic String getUser_firstName() {\r\n\t\treturn user_firstName;\r\n\t}\r\n\tpublic void setUser_firstName(String user_firstName) {\r\n\t\tthis.user_firstName = user_firstName;\r\n\t}\r\n\tpublic String getUser_lastName() {\r\n\t\treturn user_lastName;\r\n\t}\r\n\tpublic void setUser_lastName(String user_lastName) {\r\n\t\tthis.user_lastName = user_lastName;\r\n\t}\r\n\tpublic String getUser_email() {\r\n\t\treturn user_email;\r\n\t}\r\n\tpublic void setUser_email(String user_email) {\r\n\t\tthis.user_email = user_email;\r\n\t}\r\n\tpublic String getUser_phone_no() {\r\n\t\treturn user_phone_no;\r\n\t}\r\n\tpublic void setUser_phone_no(String user_phone_no) {\r\n\t\tthis.user_phone_no = user_phone_no;\r\n\t}\r\n}\r\n\r\n```\r\nHere is the controller file\r\nUserController.java\r\n```\r\npackage com.example.pgfinder.controller;\r\n\r\nimport java.util.List;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.CrossOrigin;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport com.example.pgfinder.models.repository.UserRepository;\r\nimport com.example.pgfinder.models.User; \r\n\r\n@CrossOrigin(origins = &quot;http://localhost:3000/&quot;)\r\n@RestController\r\n@RequestMapping(&quot;/api/v1/&quot;)\r\npublic class UserController \r\n{\r\n\t@Autowired\r\n\tprivate UserRepository userRepository;\r\n\t\r\n\t//get all user\r\n\t@GetMapping(&quot;/user&quot;)\r\n\tpublic List&lt;User&gt; getAllUserDetails(){\r\n\t\treturn userRepository.findAll();\r\n\t}\r\n\t\r\n\t//create the user\r\n\t@PostMapping(&quot;/user&quot;)\r\n\tpublic User createUser(@RequestBody User user)\r\n\t{\r\n\t\treturn userRepository.save(user);\r\n\t}\r\n}\r\n\r\n```\r\nAnd the UserRepository.java\r\n```\r\npackage com.example.pgfinder.models.repository;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport com.example.pgfinder.models.PGDetails;\r\n\r\n@Repository\r\npublic interface PGDetailsRepository extends JpaRepository&lt;PGDetails,Long&gt;{\r\n\r\n}\r\n\r\n```\r\nThe form looks like this\r\nSignUp.js\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    import React, { useEffect, useRef, useState } from &quot;react&quot;;\r\n    import { FiMapPin } from &#39;react-icons/fi&#39;;\r\n    import { faCheck, faTimes, faInfoCircle } from &quot;@fortawesome/free-solid-svg-icons&quot;;\r\n    import { FontAwesomeIcon } from &quot;@fortawesome/react-fontawesome&quot;;\r\n    import Navbar from &quot;./Navbar&quot;;\r\n    import &#39;./signup.css&#39;;\r\n    import Footer from &quot;./Footer&quot;;\r\n    import { useNavigate } from &quot;react-router-dom&quot;;\r\n    import UserService from &quot;../services/UserService&quot;;\r\n\r\n    const SignUp = () =&gt; {\r\n\r\n        const USER_REGEX = /^[A-z][A-z0-9-_]{3,23}$/;\r\n        const PWD_REGEX = /^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%]).{8,24}$/;\r\n        const EMAIL_REGEX = /^[\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$/;\r\n        const PHONE_REGEX = /^[0-9]{10}$/;\r\n\r\n        const userRef = useRef(); //will set the focus on the user input when the component loads\r\n        const errRef = useRef(); //this is for error reference \r\n\r\n        const [user_name, setUser] = useState(&#39;&#39;); //for the user name field\r\n        const [validName, setValidName] = useState(false); //for setting validations in user name field\r\n        const [userFocus, setUserFocus] = useState(false); //for checking if the focus is on user name field or not\r\n\r\n        const [pwd, setPwd] = useState(&#39;&#39;);\r\n        const [validPwd, setValidPwd] = useState(false);\r\n        const [pwdFocus, setPwdFocus] = useState(false);\r\n\r\n        const [matchPwd, setMatchPwd] = useState(&#39;&#39;);\r\n        const [validMatch, setValidMatch] = useState(false);\r\n        const [matchFocus, setMatchFocus] = useState(false);\r\n\r\n        const [phone, setPhone] = useState(&#39;&#39;);\r\n        const [validPhone, setValidPhone] = useState(false);\r\n        const [phoneFocus, setPhoneFocus] = useState(false);\r\n\r\n        const [email, setEmail] = useState(&#39;&#39;);\r\n        const [validEmail, setValidEmail] = useState(false);\r\n        const [emailFocus, setEmailFocus] = useState(false);\r\n\r\n        const [fname, setFName] = useState(&#39;&#39;);\r\n        const [fnameFocus, setFNameFocus] = useState(false);\r\n\r\n        const [lname, setLName] = useState(&#39;&#39;);\r\n        const [lnameFocus, setLNameFocus] = useState(false);\r\n\r\n        const [errMsg, setErrMsg] = useState(&#39;&#39;);\r\n\r\n        const navigate = useNavigate();\r\n\r\n        useEffect(() =&gt; {\r\n            userRef.current.focus();\r\n\r\n        }, [])\r\n\r\n        useEffect(() =&gt; {\r\n            const result = USER_REGEX.test(user_name);\r\n            console.log(result);\r\n            console.log(user_name);\r\n            setValidName(result);\r\n        }, [user_name])\r\n\r\n        useEffect(() =&gt; {\r\n            const result = PHONE_REGEX.test(phone);\r\n            console.log(result);\r\n            console.log(phone);\r\n            setValidPhone(result);\r\n        }, [phone])\r\n\r\n        useEffect(() =&gt; {\r\n            const result = PWD_REGEX.test(pwd);\r\n            console.log(result);\r\n            console.log(pwd);\r\n            setValidPwd(result);\r\n            const match = pwd === matchPwd;\r\n            setValidMatch(match);\r\n        }, [pwd, matchPwd])\r\n\r\n        useEffect(() =&gt; {\r\n            const result = EMAIL_REGEX.test(email);\r\n            console.log(result);\r\n            console.log(email);\r\n            setValidEmail(result);\r\n        }, [email])\r\n\r\n        useEffect(() =&gt; {\r\n            setErrMsg(&#39;&#39;);\r\n        }, [user_name, pwd, matchPwd, email])\r\n\r\n        const saveUser = (e) =&gt;{\r\n            e.preventDefault();\r\n            const userDetails = {user_name, pwd, phone, email, fname, lname};\r\n            UserService.createUser(userDetails).then((response) =&gt;{\r\n                console.log(response.data);\r\n\r\n            }).catch(error =&gt; {\r\n                console.log(error);\r\n            })\r\n            \r\n        }\r\n\r\n        return (\r\n            &lt;&gt;\r\n                &lt;Navbar /&gt;\r\n                &lt;div className=&quot;div-head&quot;&gt;\r\n                &lt;div className=&quot;img-section&quot;&gt;\r\n                    &lt;img src=&quot;images/sign.jpg&quot; className=&quot;img-signup&quot; alt=&quot;sign-up&quot;&gt;&lt;/img&gt;\r\n                    &lt;h3 className=&quot;first-txt&quot;&gt; Hello, Friend!&lt;/h3&gt;\r\n                    &lt;p className=&quot;second-txt&quot;&gt; Fill up personal information and start the &lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;\r\n                    journey of finding PG &lt;/p&gt;\r\n                    &lt;button className=&quot;btn-pgsearch&quot;&gt;Search PG &lt;FiMapPin/&gt;&lt;/button&gt;\r\n                    \r\n                &lt;/div&gt;\r\n                    &lt;div className=&quot;div-section&quot;&gt;\r\n                    &lt;p ref={errRef} className={errMsg ? &quot;errmsg&quot; : &quot;offscreen&quot;} aria-live=&quot;assertive&quot;&gt;{errMsg}&lt;/p&gt;\r\n                    &lt;h1 style={{textAlign:&#39;center&#39;}}&gt;Create Account&lt;/h1&gt;\r\n                    &lt;form&gt;\r\n                        {/*Username*/}\r\n                        &lt;label htmlFor=&quot;username&quot;&gt;\r\n                            Username:\r\n                            &lt;span className={validName ? &quot;valid&quot; : &quot;hide&quot;}&gt;\r\n                                &lt;FontAwesomeIcon icon={faCheck} /&gt;\r\n                            &lt;/span&gt;\r\n                            &lt;span className={validName || !user_name ? &quot;hide&quot; : &quot;invalid&quot;}&gt;\r\n                                &lt;FontAwesomeIcon icon={faTimes} /&gt;\r\n                            &lt;/span&gt;\r\n                        &lt;/label&gt;\r\n                        &lt;input\r\n                            text=&quot;text&quot;\r\n                            id=&quot;username&quot;\r\n                            ref={userRef}    /*Set focus on the input*/\r\n                            autoComplete=&quot;off&quot;\r\n                            className=&quot;input-field&quot;\r\n                            onChange={(e) =&gt; setUser(e.target.value)}    /*Set to true when the input loads */\r\n                            value={user_name}\r\n                            required\r\n                            aria-invalid={validName ? &quot;false&quot; : &quot;true&quot;}  /*Like when you start tying in that field it shows the required or the validation nire and then once you enter the valid name or you satisfy the given it will be removed*/\r\n                            aria-describedby=&quot;uidnote&quot;\r\n                            onFocus={() =&gt; setUserFocus(true)}\r\n                            onBlur={() =&gt; setUserFocus(false)}\r\n                        /&gt;\r\n                        &lt;p id=&quot;uidnote&quot; className={userFocus &amp;&amp; user_name &amp;&amp; !validName ? &quot;instructions&quot; : &quot;offscreen&quot;}&gt; {/* if the focus is on userinput field and if user field is not empty and if all the validation are match */}\r\n                            &lt;FontAwesomeIcon icon={faInfoCircle} /&gt;\r\n                            4 to 24 characters.&lt;br /&gt;\r\n                            Must begin with a letter.&lt;br /&gt;\r\n                            Letters, numbers, underscores, hyphens allowed.\r\n                        &lt;/p&gt;\r\n\r\n                        {/*Password */}\r\n                        &lt;label htmlFor=&quot;password&quot;&gt;\r\n                            Password:\r\n                            &lt;FontAwesomeIcon icon={faCheck} className={validPwd ? &quot;valid&quot; : &quot;hide&quot;} /&gt;\r\n                            &lt;FontAwesomeIcon icon={faTimes} className={validPwd || !pwd ? &quot;hide&quot; : &quot;invalid&quot;} /&gt;\r\n                        &lt;/label&gt;\r\n                        &lt;input\r\n                            type=&quot;password&quot;\r\n                            id=&quot;password&quot;\r\n                            onChange={(e) =&gt; setPwd(e.target.value)}\r\n                            className=&quot;input-field&quot;\r\n                            value={pwd}\r\n                            required\r\n                            aria-invalid={validPwd ? &quot;false&quot; : &quot;true&quot;}\r\n                            aria-describedby=&quot;pwdnote&quot;\r\n                            onFocus={() =&gt; setPwdFocus(true)}\r\n                            onBlur={() =&gt; setPwdFocus(false)}\r\n                        /&gt;\r\n                        &lt;p id=&quot;pwdnote&quot; className={pwdFocus &amp;&amp; !validPwd ? &quot;instructions&quot; : &quot;offscreen&quot;}&gt;\r\n                            &lt;FontAwesomeIcon icon={faInfoCircle} /&gt;\r\n                            8 to 24 characters.&lt;br /&gt;\r\n                            Must include uppercase and lowercase letters, a number and a special character.&lt;br /&gt;\r\n                            Allowed special characters: &lt;span aria-label=&quot;exclamation mark&quot;&gt;!&lt;/span&gt; &lt;span aria-label=&quot;at symbol&quot;&gt;@&lt;/span&gt;\r\n                            &lt;span aria-label=&quot;hashtag&quot;&gt;#&lt;/span&gt; &lt;span aria-label=&quot;dollar sign&quot;&gt;$&lt;/span&gt; &lt;span aria-label=&quot;percent&quot;&gt;%&lt;/span&gt;\r\n                        &lt;/p&gt;\r\n\r\n                        &lt;label htmlFor=&quot;confirm_pwd&quot;&gt;\r\n                            Confirm Password:\r\n                            &lt;FontAwesomeIcon icon={faCheck} className={validMatch &amp;&amp; matchPwd ? &quot;valid&quot; : &quot;hide&quot;} /&gt;\r\n                            &lt;FontAwesomeIcon icon={faTimes} className={validMatch || !matchPwd ? &quot;hide&quot; : &quot;invalid&quot;} /&gt;\r\n                        &lt;/label&gt;\r\n                        &lt;input\r\n                            type=&quot;password&quot;\r\n                            id=&quot;confirm_pwd&quot;\r\n                            onChange={(e) =&gt; setMatchPwd(e.target.value)}\r\n                            value={matchPwd}\r\n                            className=&quot;input-field&quot;\r\n                            required\r\n                            aria-invalid={validMatch ? &quot;false&quot; : &quot;true&quot;}\r\n                            aria-describedby=&quot;confirmnote&quot;\r\n                            onFocus={() =&gt; setMatchFocus(true)}\r\n                            onBlur={() =&gt; setMatchFocus(false)}\r\n                        /&gt;\r\n                        &lt;p id=&quot;confirmnote&quot; className={matchFocus &amp;&amp; !validMatch ? &quot;instructions&quot; : &quot;offscreen&quot;}&gt;\r\n                            &lt;FontAwesomeIcon icon={faInfoCircle} /&gt;\r\n                            Must match the first password input field.\r\n                        &lt;/p&gt;\r\n\r\n                        {/*First Name */}\r\n                        &lt;label htmlFor=&quot;fname&quot;&gt;\r\n                            First Name:\r\n                        &lt;/label&gt;\r\n                        &lt;input\r\n                            text=&quot;text&quot;\r\n                            id=&quot;fname&quot;\r\n                            ref={userRef}    /*Set focus on the input*/\r\n                            autoComplete=&quot;off&quot;\r\n                            onChange={(e) =&gt; setFName(e.target.value)}    /*Set to true when the input loads */\r\n                            className=&quot;input-field&quot;\r\n                            value={fname}\r\n                            required\r\n                            onFocus={() =&gt; setFNameFocus(true)}\r\n                            onBlur={() =&gt; setFNameFocus(false)}\r\n                        /&gt;\r\n\r\n                        {/*Last Name */}\r\n                        &lt;label htmlFor=&quot;fname&quot;&gt;\r\n                            Last Name:\r\n                        &lt;/label&gt;\r\n                        &lt;input\r\n                            text=&quot;text&quot;\r\n                            id=&quot;lname&quot;\r\n                            ref={userRef}    /*Set focus on the input*/\r\n                            className=&quot;input-field&quot;\r\n                            autoComplete=&quot;off&quot;\r\n                            onChange={(e) =&gt; setLName(e.target.value)}    /*Set to true when the input loads */\r\n                            value={lname}\r\n                            required\r\n                            onFocus={() =&gt; setLNameFocus(true)}\r\n                            onBlur={() =&gt; setLNameFocus(false)}\r\n                        /&gt;\r\n\r\n                        {/*Email*/}\r\n                        &lt;label htmlFor=&quot;email&quot;&gt;\r\n                            Email Address:\r\n                            &lt;span className={validEmail ? &quot;valid&quot; : &quot;hide&quot;}&gt;\r\n                                &lt;FontAwesomeIcon icon={faCheck} /&gt;\r\n                            &lt;/span&gt;\r\n                            &lt;span className={validEmail || !email ? &quot;hide&quot; : &quot;invalid&quot;}&gt;\r\n                                &lt;FontAwesomeIcon icon={faTimes} /&gt;\r\n                            &lt;/span&gt;\r\n                        &lt;/label&gt;\r\n                        &lt;input\r\n                            text=&quot;email&quot;\r\n                            id=&quot;email&quot;\r\n                            ref={userRef}    /*Set focus on the input*/\r\n                            autoComplete=&quot;off&quot;\r\n                            onChange={(e) =&gt; setEmail(e.target.value)}    /*Set to true when the input loads */\r\n                            className=&quot;input-field&quot;\r\n                            value={email}\r\n                            required\r\n                            aria-invalid={validEmail ? &quot;false&quot; : &quot;true&quot;}  /*Like when you start tying in that field it shows the required or the validation nire and then once you enter the valid name or you satisfy the given it will be removed*/\r\n                            aria-describedby=&quot;eidnote&quot;\r\n                            onFocus={() =&gt; setEmailFocus(true)}\r\n                            onBlur={() =&gt; setEmailFocus(false)}\r\n                        /&gt;\r\n                        &lt;p id=&quot;eidnote&quot; className={emailFocus &amp;&amp; email &amp;&amp; !validEmail ? &quot;instructions&quot; : &quot;offscreen&quot;}&gt; {/* if the focus is on userinput field and if user field is not empty and if all the validation are match */}\r\n                            &lt;FontAwesomeIcon icon={faInfoCircle} /&gt;\r\n                            valid email.&lt;br /&gt;\r\n                            Must have @ symbol.&lt;br /&gt;\r\n                            Letters, numbers, hyphens allowed.\r\n                        &lt;/p&gt;\r\n\r\n                        {/*Phone Number */}\r\n                        &lt;label htmlFor=&quot;phone&quot;&gt;\r\n                            Phone Number:\r\n                            &lt;span className={validPhone ? &quot;valid&quot; : &quot;hide&quot;}&gt;\r\n                                &lt;FontAwesomeIcon icon={faCheck} /&gt;\r\n                            &lt;/span&gt;\r\n                            &lt;span className={validPhone || !phone ? &quot;hide&quot; : &quot;invalid&quot;}&gt;\r\n                                &lt;FontAwesomeIcon icon={faTimes} /&gt;\r\n                            &lt;/span&gt;\r\n                        &lt;/label&gt;\r\n                        &lt;input\r\n                            text=&quot;text&quot;\r\n                            id=&quot;phone&quot;\r\n                            ref={userRef}    /*Set focus on the input*/\r\n                            autoComplete=&quot;off&quot;\r\n                            onChange={(e) =&gt; setPhone(e.target.value)}    /*Set to true when the input loads */\r\n                            className=&quot;input-field&quot;\r\n                            value={phone}\r\n                            required\r\n                            maxLength={10}\r\n                            aria-invalid={validPhone ? &quot;false&quot; : &quot;true&quot;}  /*Like when you start tying in that field it shows the required or the validation nire and then once you enter the valid name or you satisfy the given it will be removed*/\r\n                            aria-describedby=&quot;pidnote&quot;\r\n                            onFocus={() =&gt; setPhoneFocus(true)}\r\n                            onBlur={() =&gt; setPhoneFocus(false)}\r\n                        /&gt;\r\n                        &lt;p id=&quot;pidnote&quot; className={phoneFocus &amp;&amp; phone &amp;&amp; !validPhone ? &quot;instructions&quot; : &quot;offscreen&quot;}&gt; {/* if the focus is on userinput field and if user field is not empty and if all the validation are match */}\r\n                            &lt;FontAwesomeIcon icon={faInfoCircle} /&gt;\r\n                            Contains number only.&lt;br /&gt;\r\n                            Maximum length is 10.\r\n                        &lt;/p&gt;\r\n\r\n                        &lt;button className=&quot;btn-signup-s&quot; onClick={(e) =&gt; saveUser(e)} disabled={!validName || !validPwd || !validMatch || !validEmail || !validPhone ? true : false}&gt;\r\n                            Sign Up\r\n                        &lt;/button&gt;\r\n                    &lt;/form&gt;\r\n                    &lt;p&gt;\r\n                        Already registered? &amp;nbsp;&amp;nbsp;&amp;nbsp;\r\n                        &lt;span className=&quot;line&quot;&gt;\r\n                            &lt;a href=&quot;/signin&quot; className=&quot;TextStyles&quot;&gt;Sign In&lt;/a&gt;\r\n                        &lt;/span&gt;\r\n                    &lt;/p&gt;\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;\r\n            &lt;Footer/&gt;\r\n            &lt;/&gt;\r\n        )\r\n\r\n    }\r\n\r\n    export default SignUp\r\n\r\nUserService.js\r\n```\r\nimport axios from &#39;axios&#39;;\r\nconst USER_API_BASE_URL=&quot;http://localhost:8090/api/v1/user&quot;;\r\n\r\nclass UserService{\r\n\r\n    getUserInfo(){\r\n        return axios.get(USER_API_BASE_URL);\r\n    }\r\n\r\n    createUser(user)\r\n    {\r\n        return axios.post(USER_API_BASE_URL, user);\r\n    }\r\n}\r\nexport default new UserService();\r\n```\r\n\r\nWhenever I pass details on the console, they are printed. Please guide me why am I still getting null entry error in password field.\r\n\r\n[Console Pic][1]\r\n\r\nThank you.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jd68K.png","title":"Error org.hibernate.PropertyValueException: not-null property references a null or transient value : com.example.pgfinder.models.User.password","body":"<p>I encountered this error when I tried to submit my form. React form is being used to submit the details.</p>\n<p>User.java</p>\n<pre><code>package com.example.pgfinder.models;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\n@Entity\n@Table(name = &quot;user&quot;)\npublic class User \n{\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long user_id;\n    \n    @Column(nullable= false)\n    private String user_name;\n    \n    @Column(nullable= false)\n    private String password;\n    \n    @Column(nullable= false)\n    private String user_firstName;\n    \n    @Column(nullable= false)\n    private String user_lastName;\n    \n    @Column(nullable= false)\n    private String user_email;\n    \n    @Column(nullable= false)\n    private String user_phone_no;\n    \n    public User() {\n        super();\n    }\n    \n    public User(String user_name, String password, String user_firstName, String user_lastName, String user_email,\n            String user_phone_no) {\n        super();\n        this.user_name = user_name;\n        this.password = password;\n        this.user_firstName = user_firstName;\n        this.user_lastName = user_lastName;\n        this.user_email = user_email;\n        this.user_phone_no = user_phone_no;\n    }\n    \n    public long getUser_id() {\n        return user_id;\n    }\n    public void setUser_id(long user_id) {\n        this.user_id = user_id;\n    }\n    public String getUser_name() {\n        return user_name;\n    }\n    public void setUser_name(String user_name) {\n        this.user_name = user_name;\n    }\n    public String getPassword() {\n        return password;\n    }\n    public void setPassword(String password) {\n        this.password = password;\n    }\n    public String getUser_firstName() {\n        return user_firstName;\n    }\n    public void setUser_firstName(String user_firstName) {\n        this.user_firstName = user_firstName;\n    }\n    public String getUser_lastName() {\n        return user_lastName;\n    }\n    public void setUser_lastName(String user_lastName) {\n        this.user_lastName = user_lastName;\n    }\n    public String getUser_email() {\n        return user_email;\n    }\n    public void setUser_email(String user_email) {\n        this.user_email = user_email;\n    }\n    public String getUser_phone_no() {\n        return user_phone_no;\n    }\n    public void setUser_phone_no(String user_phone_no) {\n        this.user_phone_no = user_phone_no;\n    }\n}\n\n</code></pre>\n<p>Here is the controller file\nUserController.java</p>\n<pre><code>package com.example.pgfinder.controller;\n\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.CrossOrigin;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.example.pgfinder.models.repository.UserRepository;\nimport com.example.pgfinder.models.User; \n\n@CrossOrigin(origins = &quot;http://localhost:3000/&quot;)\n@RestController\n@RequestMapping(&quot;/api/v1/&quot;)\npublic class UserController \n{\n    @Autowired\n    private UserRepository userRepository;\n    \n    //get all user\n    @GetMapping(&quot;/user&quot;)\n    public List&lt;User&gt; getAllUserDetails(){\n        return userRepository.findAll();\n    }\n    \n    //create the user\n    @PostMapping(&quot;/user&quot;)\n    public User createUser(@RequestBody User user)\n    {\n        return userRepository.save(user);\n    }\n}\n\n</code></pre>\n<p>And the UserRepository.java</p>\n<pre><code>package com.example.pgfinder.models.repository;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\nimport com.example.pgfinder.models.PGDetails;\n\n@Repository\npublic interface PGDetailsRepository extends JpaRepository&lt;PGDetails,Long&gt;{\n\n}\n\n</code></pre>\n<p>The form looks like this\nSignUp.js</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import React, { useEffect, useRef, useState } from &quot;react&quot;;\nimport { FiMapPin } from 'react-icons/fi';\nimport { faCheck, faTimes, faInfoCircle } from &quot;@fortawesome/free-solid-svg-icons&quot;;\nimport { FontAwesomeIcon } from &quot;@fortawesome/react-fontawesome&quot;;\nimport Navbar from &quot;./Navbar&quot;;\nimport './signup.css';\nimport Footer from &quot;./Footer&quot;;\nimport { useNavigate } from &quot;react-router-dom&quot;;\nimport UserService from &quot;../services/UserService&quot;;\n\nconst SignUp = () =&gt; {\n\n    const USER_REGEX = /^[A-z][A-z0-9-_]{3,23}$/;\n    const PWD_REGEX = /^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%]).{8,24}$/;\n    const EMAIL_REGEX = /^[\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$/;\n    const PHONE_REGEX = /^[0-9]{10}$/;\n\n    const userRef = useRef(); //will set the focus on the user input when the component loads\n    const errRef = useRef(); //this is for error reference \n\n    const [user_name, setUser] = useState(''); //for the user name field\n    const [validName, setValidName] = useState(false); //for setting validations in user name field\n    const [userFocus, setUserFocus] = useState(false); //for checking if the focus is on user name field or not\n\n    const [pwd, setPwd] = useState('');\n    const [validPwd, setValidPwd] = useState(false);\n    const [pwdFocus, setPwdFocus] = useState(false);\n\n    const [matchPwd, setMatchPwd] = useState('');\n    const [validMatch, setValidMatch] = useState(false);\n    const [matchFocus, setMatchFocus] = useState(false);\n\n    const [phone, setPhone] = useState('');\n    const [validPhone, setValidPhone] = useState(false);\n    const [phoneFocus, setPhoneFocus] = useState(false);\n\n    const [email, setEmail] = useState('');\n    const [validEmail, setValidEmail] = useState(false);\n    const [emailFocus, setEmailFocus] = useState(false);\n\n    const [fname, setFName] = useState('');\n    const [fnameFocus, setFNameFocus] = useState(false);\n\n    const [lname, setLName] = useState('');\n    const [lnameFocus, setLNameFocus] = useState(false);\n\n    const [errMsg, setErrMsg] = useState('');\n\n    const navigate = useNavigate();\n\n    useEffect(() =&gt; {\n        userRef.current.focus();\n\n    }, [])\n\n    useEffect(() =&gt; {\n        const result = USER_REGEX.test(user_name);\n        console.log(result);\n        console.log(user_name);\n        setValidName(result);\n    }, [user_name])\n\n    useEffect(() =&gt; {\n        const result = PHONE_REGEX.test(phone);\n        console.log(result);\n        console.log(phone);\n        setValidPhone(result);\n    }, [phone])\n\n    useEffect(() =&gt; {\n        const result = PWD_REGEX.test(pwd);\n        console.log(result);\n        console.log(pwd);\n        setValidPwd(result);\n        const match = pwd === matchPwd;\n        setValidMatch(match);\n    }, [pwd, matchPwd])\n\n    useEffect(() =&gt; {\n        const result = EMAIL_REGEX.test(email);\n        console.log(result);\n        console.log(email);\n        setValidEmail(result);\n    }, [email])\n\n    useEffect(() =&gt; {\n        setErrMsg('');\n    }, [user_name, pwd, matchPwd, email])\n\n    const saveUser = (e) =&gt;{\n        e.preventDefault();\n        const userDetails = {user_name, pwd, phone, email, fname, lname};\n        UserService.createUser(userDetails).then((response) =&gt;{\n            console.log(response.data);\n\n        }).catch(error =&gt; {\n            console.log(error);\n        })\n        \n    }\n\n    return (\n        &lt;&gt;\n            &lt;Navbar /&gt;\n            &lt;div className=&quot;div-head&quot;&gt;\n            &lt;div className=&quot;img-section&quot;&gt;\n                &lt;img src=&quot;images/sign.jpg&quot; className=&quot;img-signup&quot; alt=&quot;sign-up&quot;&gt;&lt;/img&gt;\n                &lt;h3 className=&quot;first-txt&quot;&gt; Hello, Friend!&lt;/h3&gt;\n                &lt;p className=&quot;second-txt&quot;&gt; Fill up personal information and start the &lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;\n                journey of finding PG &lt;/p&gt;\n                &lt;button className=&quot;btn-pgsearch&quot;&gt;Search PG &lt;FiMapPin/&gt;&lt;/button&gt;\n                \n            &lt;/div&gt;\n                &lt;div className=&quot;div-section&quot;&gt;\n                &lt;p ref={errRef} className={errMsg ? &quot;errmsg&quot; : &quot;offscreen&quot;} aria-live=&quot;assertive&quot;&gt;{errMsg}&lt;/p&gt;\n                &lt;h1 style={{textAlign:'center'}}&gt;Create Account&lt;/h1&gt;\n                &lt;form&gt;\n                    {/*Username*/}\n                    &lt;label htmlFor=&quot;username&quot;&gt;\n                        Username:\n                        &lt;span className={validName ? &quot;valid&quot; : &quot;hide&quot;}&gt;\n                            &lt;FontAwesomeIcon icon={faCheck} /&gt;\n                        &lt;/span&gt;\n                        &lt;span className={validName || !user_name ? &quot;hide&quot; : &quot;invalid&quot;}&gt;\n                            &lt;FontAwesomeIcon icon={faTimes} /&gt;\n                        &lt;/span&gt;\n                    &lt;/label&gt;\n                    &lt;input\n                        text=&quot;text&quot;\n                        id=&quot;username&quot;\n                        ref={userRef}    /*Set focus on the input*/\n                        autoComplete=&quot;off&quot;\n                        className=&quot;input-field&quot;\n                        onChange={(e) =&gt; setUser(e.target.value)}    /*Set to true when the input loads */\n                        value={user_name}\n                        required\n                        aria-invalid={validName ? &quot;false&quot; : &quot;true&quot;}  /*Like when you start tying in that field it shows the required or the validation nire and then once you enter the valid name or you satisfy the given it will be removed*/\n                        aria-describedby=&quot;uidnote&quot;\n                        onFocus={() =&gt; setUserFocus(true)}\n                        onBlur={() =&gt; setUserFocus(false)}\n                    /&gt;\n                    &lt;p id=&quot;uidnote&quot; className={userFocus &amp;&amp; user_name &amp;&amp; !validName ? &quot;instructions&quot; : &quot;offscreen&quot;}&gt; {/* if the focus is on userinput field and if user field is not empty and if all the validation are match */}\n                        &lt;FontAwesomeIcon icon={faInfoCircle} /&gt;\n                        4 to 24 characters.&lt;br /&gt;\n                        Must begin with a letter.&lt;br /&gt;\n                        Letters, numbers, underscores, hyphens allowed.\n                    &lt;/p&gt;\n\n                    {/*Password */}\n                    &lt;label htmlFor=&quot;password&quot;&gt;\n                        Password:\n                        &lt;FontAwesomeIcon icon={faCheck} className={validPwd ? &quot;valid&quot; : &quot;hide&quot;} /&gt;\n                        &lt;FontAwesomeIcon icon={faTimes} className={validPwd || !pwd ? &quot;hide&quot; : &quot;invalid&quot;} /&gt;\n                    &lt;/label&gt;\n                    &lt;input\n                        type=&quot;password&quot;\n                        id=&quot;password&quot;\n                        onChange={(e) =&gt; setPwd(e.target.value)}\n                        className=&quot;input-field&quot;\n                        value={pwd}\n                        required\n                        aria-invalid={validPwd ? &quot;false&quot; : &quot;true&quot;}\n                        aria-describedby=&quot;pwdnote&quot;\n                        onFocus={() =&gt; setPwdFocus(true)}\n                        onBlur={() =&gt; setPwdFocus(false)}\n                    /&gt;\n                    &lt;p id=&quot;pwdnote&quot; className={pwdFocus &amp;&amp; !validPwd ? &quot;instructions&quot; : &quot;offscreen&quot;}&gt;\n                        &lt;FontAwesomeIcon icon={faInfoCircle} /&gt;\n                        8 to 24 characters.&lt;br /&gt;\n                        Must include uppercase and lowercase letters, a number and a special character.&lt;br /&gt;\n                        Allowed special characters: &lt;span aria-label=&quot;exclamation mark&quot;&gt;!&lt;/span&gt; &lt;span aria-label=&quot;at symbol&quot;&gt;@&lt;/span&gt;\n                        &lt;span aria-label=&quot;hashtag&quot;&gt;#&lt;/span&gt; &lt;span aria-label=&quot;dollar sign&quot;&gt;$&lt;/span&gt; &lt;span aria-label=&quot;percent&quot;&gt;%&lt;/span&gt;\n                    &lt;/p&gt;\n\n                    &lt;label htmlFor=&quot;confirm_pwd&quot;&gt;\n                        Confirm Password:\n                        &lt;FontAwesomeIcon icon={faCheck} className={validMatch &amp;&amp; matchPwd ? &quot;valid&quot; : &quot;hide&quot;} /&gt;\n                        &lt;FontAwesomeIcon icon={faTimes} className={validMatch || !matchPwd ? &quot;hide&quot; : &quot;invalid&quot;} /&gt;\n                    &lt;/label&gt;\n                    &lt;input\n                        type=&quot;password&quot;\n                        id=&quot;confirm_pwd&quot;\n                        onChange={(e) =&gt; setMatchPwd(e.target.value)}\n                        value={matchPwd}\n                        className=&quot;input-field&quot;\n                        required\n                        aria-invalid={validMatch ? &quot;false&quot; : &quot;true&quot;}\n                        aria-describedby=&quot;confirmnote&quot;\n                        onFocus={() =&gt; setMatchFocus(true)}\n                        onBlur={() =&gt; setMatchFocus(false)}\n                    /&gt;\n                    &lt;p id=&quot;confirmnote&quot; className={matchFocus &amp;&amp; !validMatch ? &quot;instructions&quot; : &quot;offscreen&quot;}&gt;\n                        &lt;FontAwesomeIcon icon={faInfoCircle} /&gt;\n                        Must match the first password input field.\n                    &lt;/p&gt;\n\n                    {/*First Name */}\n                    &lt;label htmlFor=&quot;fname&quot;&gt;\n                        First Name:\n                    &lt;/label&gt;\n                    &lt;input\n                        text=&quot;text&quot;\n                        id=&quot;fname&quot;\n                        ref={userRef}    /*Set focus on the input*/\n                        autoComplete=&quot;off&quot;\n                        onChange={(e) =&gt; setFName(e.target.value)}    /*Set to true when the input loads */\n                        className=&quot;input-field&quot;\n                        value={fname}\n                        required\n                        onFocus={() =&gt; setFNameFocus(true)}\n                        onBlur={() =&gt; setFNameFocus(false)}\n                    /&gt;\n\n                    {/*Last Name */}\n                    &lt;label htmlFor=&quot;fname&quot;&gt;\n                        Last Name:\n                    &lt;/label&gt;\n                    &lt;input\n                        text=&quot;text&quot;\n                        id=&quot;lname&quot;\n                        ref={userRef}    /*Set focus on the input*/\n                        className=&quot;input-field&quot;\n                        autoComplete=&quot;off&quot;\n                        onChange={(e) =&gt; setLName(e.target.value)}    /*Set to true when the input loads */\n                        value={lname}\n                        required\n                        onFocus={() =&gt; setLNameFocus(true)}\n                        onBlur={() =&gt; setLNameFocus(false)}\n                    /&gt;\n\n                    {/*Email*/}\n                    &lt;label htmlFor=&quot;email&quot;&gt;\n                        Email Address:\n                        &lt;span className={validEmail ? &quot;valid&quot; : &quot;hide&quot;}&gt;\n                            &lt;FontAwesomeIcon icon={faCheck} /&gt;\n                        &lt;/span&gt;\n                        &lt;span className={validEmail || !email ? &quot;hide&quot; : &quot;invalid&quot;}&gt;\n                            &lt;FontAwesomeIcon icon={faTimes} /&gt;\n                        &lt;/span&gt;\n                    &lt;/label&gt;\n                    &lt;input\n                        text=&quot;email&quot;\n                        id=&quot;email&quot;\n                        ref={userRef}    /*Set focus on the input*/\n                        autoComplete=&quot;off&quot;\n                        onChange={(e) =&gt; setEmail(e.target.value)}    /*Set to true when the input loads */\n                        className=&quot;input-field&quot;\n                        value={email}\n                        required\n                        aria-invalid={validEmail ? &quot;false&quot; : &quot;true&quot;}  /*Like when you start tying in that field it shows the required or the validation nire and then once you enter the valid name or you satisfy the given it will be removed*/\n                        aria-describedby=&quot;eidnote&quot;\n                        onFocus={() =&gt; setEmailFocus(true)}\n                        onBlur={() =&gt; setEmailFocus(false)}\n                    /&gt;\n                    &lt;p id=&quot;eidnote&quot; className={emailFocus &amp;&amp; email &amp;&amp; !validEmail ? &quot;instructions&quot; : &quot;offscreen&quot;}&gt; {/* if the focus is on userinput field and if user field is not empty and if all the validation are match */}\n                        &lt;FontAwesomeIcon icon={faInfoCircle} /&gt;\n                        valid email.&lt;br /&gt;\n                        Must have @ symbol.&lt;br /&gt;\n                        Letters, numbers, hyphens allowed.\n                    &lt;/p&gt;\n\n                    {/*Phone Number */}\n                    &lt;label htmlFor=&quot;phone&quot;&gt;\n                        Phone Number:\n                        &lt;span className={validPhone ? &quot;valid&quot; : &quot;hide&quot;}&gt;\n                            &lt;FontAwesomeIcon icon={faCheck} /&gt;\n                        &lt;/span&gt;\n                        &lt;span className={validPhone || !phone ? &quot;hide&quot; : &quot;invalid&quot;}&gt;\n                            &lt;FontAwesomeIcon icon={faTimes} /&gt;\n                        &lt;/span&gt;\n                    &lt;/label&gt;\n                    &lt;input\n                        text=&quot;text&quot;\n                        id=&quot;phone&quot;\n                        ref={userRef}    /*Set focus on the input*/\n                        autoComplete=&quot;off&quot;\n                        onChange={(e) =&gt; setPhone(e.target.value)}    /*Set to true when the input loads */\n                        className=&quot;input-field&quot;\n                        value={phone}\n                        required\n                        maxLength={10}\n                        aria-invalid={validPhone ? &quot;false&quot; : &quot;true&quot;}  /*Like when you start tying in that field it shows the required or the validation nire and then once you enter the valid name or you satisfy the given it will be removed*/\n                        aria-describedby=&quot;pidnote&quot;\n                        onFocus={() =&gt; setPhoneFocus(true)}\n                        onBlur={() =&gt; setPhoneFocus(false)}\n                    /&gt;\n                    &lt;p id=&quot;pidnote&quot; className={phoneFocus &amp;&amp; phone &amp;&amp; !validPhone ? &quot;instructions&quot; : &quot;offscreen&quot;}&gt; {/* if the focus is on userinput field and if user field is not empty and if all the validation are match */}\n                        &lt;FontAwesomeIcon icon={faInfoCircle} /&gt;\n                        Contains number only.&lt;br /&gt;\n                        Maximum length is 10.\n                    &lt;/p&gt;\n\n                    &lt;button className=&quot;btn-signup-s&quot; onClick={(e) =&gt; saveUser(e)} disabled={!validName || !validPwd || !validMatch || !validEmail || !validPhone ? true : false}&gt;\n                        Sign Up\n                    &lt;/button&gt;\n                &lt;/form&gt;\n                &lt;p&gt;\n                    Already registered? &amp;nbsp;&amp;nbsp;&amp;nbsp;\n                    &lt;span className=&quot;line&quot;&gt;\n                        &lt;a href=&quot;/signin&quot; className=&quot;TextStyles&quot;&gt;Sign In&lt;/a&gt;\n                    &lt;/span&gt;\n                &lt;/p&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;Footer/&gt;\n        &lt;/&gt;\n    )\n\n}\n\nexport default SignUp\n</code></pre>\n<p>UserService.js</p>\n<pre><code>import axios from 'axios';\nconst USER_API_BASE_URL=&quot;http://localhost:8090/api/v1/user&quot;;\n\nclass UserService{\n\n    getUserInfo(){\n        return axios.get(USER_API_BASE_URL);\n    }\n\n    createUser(user)\n    {\n        return axios.post(USER_API_BASE_URL, user);\n    }\n}\nexport default new UserService();\n</code></pre>\n<p>Whenever I pass details on the console, they are printed. Please guide me why am I still getting null entry error in password field.</p>\n<p><a href=\"https://i.stack.imgur.com/jd68K.png\" rel=\"nofollow noreferrer\">Console Pic</a></p>\n<p>Thank you.</p>\n"},{"tags":["java","loops","for-loop","foreach"],"comments":[{"owner":{"account_id":1088545,"reputation":1,"user_id":1083704,"accept_rate":71,"display_name":"Val"},"score":2,"creation_date":1378385120,"post_id":477550,"comment_id":27437381,"body_markdown":"Another pity is that you cannot use the loop variable outside the loop, `Type var = null; for (var : set) dosomething; if (var != null) then ...`","body":"Another pity is that you cannot use the loop variable outside the loop, <code>Type var = null; for (var : set) dosomething; if (var != null) then ...</code>"},{"owner":{"account_id":465074,"reputation":12318,"user_id":868941,"accept_rate":75,"display_name":"rmuller"},"score":0,"creation_date":1476817508,"post_id":477550,"comment_id":67503679,"body_markdown":"@Val unless the reference is effective final. See my answer for how to use this feature","body":"@Val unless the reference is effective final. See my answer for how to use this feature"}],"answers":[{"tags":[],"owner":{"account_id":5543,"reputation":25609,"user_id":8976,"accept_rate":100,"display_name":"EricSchaefer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1254214719,"creation_date":1232881992,"answer_id":477563,"question_id":477550,"body_markdown":"If you need a counter in an for-each loop you have to count yourself. There is no built in counter as far as I know.\r\n","title":"Is there a way to access an iteration-counter in Java&#39;s for-each loop?","body":"<p>If you need a counter in an for-each loop you have to count yourself. There is no built in counter as far as I know.</p>\n"},{"tags":[],"owner":{"account_id":8291,"reputation":860437,"user_id":14860,"accept_rate":100,"display_name":"paxdiablo"},"down_vote_count":3,"up_vote_count":69,"is_accepted":false,"score":66,"last_activity_date":1482389637,"creation_date":1232882328,"answer_id":477569,"question_id":477550,"body_markdown":"The easiest solution _is_ to just run your own counter thus:\r\n\r\n    int i = 0;\r\n    for (String s : stringArray) {\r\n        doSomethingWith(s, i);\r\n        i++;\r\n    }\r\n\r\nThe reason for this is because there&#39;s no actual guarantee that items in a collection (which that variant of `for` iterates over) even *have* an index, or even have a *defined order* (some collections may change the order when you add or remove elements).\r\n\r\nSee for example, the following code:\r\n\r\n    import java.util.*;\r\n\r\n    public class TestApp {\r\n      public static void AddAndDump(AbstractSet&lt;String&gt; set, String str) {\r\n        System.out.println(&quot;Adding [&quot; + str + &quot;]&quot;);\r\n        set.add(str);\r\n    \tint i = 0;\r\n    \tfor(String s : set) {\r\n        \tSystem.out.println(&quot;   &quot; + i + &quot;: &quot; + s);\r\n        \ti++;\r\n    \t}\r\n      }\r\n      \r\n      public static void main(String[] args) {\r\n        AbstractSet&lt;String&gt; coll = new HashSet&lt;String&gt;();\r\n        AddAndDump(coll, &quot;Hello&quot;);\r\n        AddAndDump(coll, &quot;My&quot;);\r\n        AddAndDump(coll, &quot;Name&quot;);\r\n        AddAndDump(coll, &quot;Is&quot;);\r\n        AddAndDump(coll, &quot;Pax&quot;);\r\n      }\r\n    }\r\n\r\nWhen you run that, you can see something like:\r\n\r\n    Adding [Hello]\r\n       0: Hello\r\n    Adding [My]\r\n       0: Hello\r\n       1: My\r\n    Adding [Name]\r\n       0: Hello\r\n       1: My\r\n       2: Name\r\n    Adding [Is]\r\n       0: Hello\r\n       1: Is\r\n       2: My\r\n       3: Name\r\n    Adding [Pax]\r\n       0: Hello\r\n       1: Pax\r\n       2: Is\r\n       3: My\r\n       4: Name\r\n\r\nindicating that, rightly so, order is not considered a salient feature of a set.\r\n\r\nThere are other ways to do it *without* a manual counter but it&#39;s a fair bit of work for dubious benefit.\r\n","title":"Is there a way to access an iteration-counter in Java&#39;s for-each loop?","body":"<p>The easiest solution <em>is</em> to just run your own counter thus:</p>\n\n<pre><code>int i = 0;\nfor (String s : stringArray) {\n    doSomethingWith(s, i);\n    i++;\n}\n</code></pre>\n\n<p>The reason for this is because there's no actual guarantee that items in a collection (which that variant of <code>for</code> iterates over) even <em>have</em> an index, or even have a <em>defined order</em> (some collections may change the order when you add or remove elements).</p>\n\n<p>See for example, the following code:</p>\n\n<pre><code>import java.util.*;\n\npublic class TestApp {\n  public static void AddAndDump(AbstractSet&lt;String&gt; set, String str) {\n    System.out.println(\"Adding [\" + str + \"]\");\n    set.add(str);\n    int i = 0;\n    for(String s : set) {\n        System.out.println(\"   \" + i + \": \" + s);\n        i++;\n    }\n  }\n\n  public static void main(String[] args) {\n    AbstractSet&lt;String&gt; coll = new HashSet&lt;String&gt;();\n    AddAndDump(coll, \"Hello\");\n    AddAndDump(coll, \"My\");\n    AddAndDump(coll, \"Name\");\n    AddAndDump(coll, \"Is\");\n    AddAndDump(coll, \"Pax\");\n  }\n}\n</code></pre>\n\n<p>When you run that, you can see something like:</p>\n\n<pre><code>Adding [Hello]\n   0: Hello\nAdding [My]\n   0: Hello\n   1: My\nAdding [Name]\n   0: Hello\n   1: My\n   2: Name\nAdding [Is]\n   0: Hello\n   1: Is\n   2: My\n   3: Name\nAdding [Pax]\n   0: Hello\n   1: Pax\n   2: Is\n   3: My\n   4: Name\n</code></pre>\n\n<p>indicating that, rightly so, order is not considered a salient feature of a set.</p>\n\n<p>There are other ways to do it <em>without</em> a manual counter but it's a fair bit of work for dubious benefit.</p>\n"},{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":1,"up_vote_count":248,"is_accepted":true,"score":247,"last_activity_date":1475182158,"creation_date":1232883395,"answer_id":477592,"question_id":477550,"body_markdown":"No, but you can provide your own counter.\r\n\r\nThe reason for this is that the for-each loop internally does not *have* a counter; it is based on the [Iterable][1] interface, i.e. it uses an `Iterator` to loop through the &quot;collection&quot; - which may not be a collection at all, and may in fact be something not at all based on indexes (such as a linked list).\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Iterable.html","title":"Is there a way to access an iteration-counter in Java&#39;s for-each loop?","body":"<p>No, but you can provide your own counter.</p>\n\n<p>The reason for this is that the for-each loop internally does not <em>have</em> a counter; it is based on the <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Iterable.html\" rel=\"noreferrer\">Iterable</a> interface, i.e. it uses an <code>Iterator</code> to loop through the \"collection\" - which may not be a collection at all, and may in fact be something not at all based on indexes (such as a linked list).</p>\n"},{"tags":[],"owner":{"account_id":14954,"reputation":47917,"user_id":31136,"accept_rate":50,"display_name":"bruno conde"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1232884453,"creation_date":1232884453,"answer_id":477608,"question_id":477550,"body_markdown":"I&#39;m afraid this isn&#39;t possible with `foreach`. But I can suggest you a simple *old-styled for-loops*:\r\n\r\n\t\tList&lt;String&gt; l = new ArrayList&lt;String&gt;();\r\n\t\t\r\n\t\tl.add(&quot;a&quot;);\r\n\t\tl.add(&quot;b&quot;);\r\n\t\tl.add(&quot;c&quot;);\r\n\t\tl.add(&quot;d&quot;);\r\n\r\n\t\t// the array\r\n\t\tString[] array = new String[l.size()];\r\n\t\t\r\n\t\tfor(ListIterator&lt;String&gt; it =l.listIterator(); it.hasNext() ;)\r\n\t\t{\r\n\t\t\tarray[it.nextIndex()] = it.next();\r\n\t\t}\r\n\r\nNotice that, the [List][1] interface gives you access to `it.nextIndex()`.\r\n\r\n**(edit)**\r\n\r\nTo your changed example:\r\n\r\n\t\tfor(ListIterator&lt;String&gt; it =l.listIterator(); it.hasNext() ;)\r\n\t\t{\r\n\t\t\tint i = it.nextIndex();\r\n\t\t\tdoSomethingWith(it.next(), i);\r\n\t\t}\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/util/List.html","title":"Is there a way to access an iteration-counter in Java&#39;s for-each loop?","body":"<p>I'm afraid this isn't possible with <code>foreach</code>. But I can suggest you a simple <em>old-styled for-loops</em>:</p>\n\n<pre><code>    List&lt;String&gt; l = new ArrayList&lt;String&gt;();\n\n    l.add(\"a\");\n    l.add(\"b\");\n    l.add(\"c\");\n    l.add(\"d\");\n\n    // the array\n    String[] array = new String[l.size()];\n\n    for(ListIterator&lt;String&gt; it =l.listIterator(); it.hasNext() ;)\n    {\n        array[it.nextIndex()] = it.next();\n    }\n</code></pre>\n\n<p>Notice that, the <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/List.html\" rel=\"noreferrer\">List</a> interface gives you access to <code>it.nextIndex()</code>.</p>\n\n<p><strong>(edit)</strong></p>\n\n<p>To your changed example:</p>\n\n<pre><code>    for(ListIterator&lt;String&gt; it =l.listIterator(); it.hasNext() ;)\n    {\n        int i = it.nextIndex();\n        doSomethingWith(it.next(), i);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2047,"reputation":8017,"user_id":2819,"accept_rate":67,"display_name":"Yuval"},"down_vote_count":3,"up_vote_count":14,"is_accepted":false,"score":11,"last_activity_date":1514513047,"creation_date":1232887409,"answer_id":477654,"question_id":477550,"body_markdown":"One of the changes `Sun` is considering for `Java7` is to provide access to the inner `Iterator` in foreach loops. the syntax will be something like this (if this is accepted):\r\n\r\n    for (String str : list : it) {\r\n      if (str.length() &gt; 100) {\r\n        it.remove();\r\n      }\r\n    }\r\n\r\nThis is syntactic sugar, but apparently a lot of requests were made for this feature. But until it is approved, you&#39;ll have to count the iterations yourself, or use a regular for loop with an `Iterator`.","title":"Is there a way to access an iteration-counter in Java&#39;s for-each loop?","body":"<p>One of the changes <code>Sun</code> is considering for <code>Java7</code> is to provide access to the inner <code>Iterator</code> in foreach loops. the syntax will be something like this (if this is accepted):</p>\n\n<pre><code>for (String str : list : it) {\n  if (str.length() &gt; 100) {\n    it.remove();\n  }\n}\n</code></pre>\n\n<p>This is syntactic sugar, but apparently a lot of requests were made for this feature. But until it is approved, you'll have to count the iterations yourself, or use a regular for loop with an <code>Iterator</code>.</p>\n"},{"tags":[],"owner":{"account_id":12436,"reputation":27545,"user_id":24468,"accept_rate":100,"display_name":"akuhn"},"down_vote_count":0,"up_vote_count":77,"is_accepted":false,"score":77,"last_activity_date":1254213930,"creation_date":1254213930,"answer_id":1491331,"question_id":477550,"body_markdown":"There is another way.\r\n\r\nGiven that you write your own `Index` class and a static method that returns an `Iterable` over instances of this class you can \r\n\r\n    for (Index&lt;String&gt; each: With.index(stringArray)) {\r\n        each.value;\r\n        each.index;\r\n        ...\r\n    }\r\n\r\nWhere the implementation of `With.index` is something like\r\n\r\n    class With {\r\n        public static &lt;T&gt; Iterable&lt;Index&lt;T&gt;&gt; index(final T[] array) {\r\n            return new Iterable&lt;Index&lt;T&gt;&gt;() {\r\n                public Iterator&lt;Index&lt;T&gt;&gt; iterator() {\r\n                    return new Iterator&lt;Index&lt;T&gt;&gt;() {\r\n                        index = 0;\r\n                        public boolean hasNext() { return index &lt; array.size }\r\n                        public Index&lt;T&gt; next() { return new Index(array[index], index++); }\r\n                        ...\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Is there a way to access an iteration-counter in Java&#39;s for-each loop?","body":"<p>There is another way.</p>\n\n<p>Given that you write your own <code>Index</code> class and a static method that returns an <code>Iterable</code> over instances of this class you can </p>\n\n<pre><code>for (Index&lt;String&gt; each: With.index(stringArray)) {\n    each.value;\n    each.index;\n    ...\n}\n</code></pre>\n\n<p>Where the implementation of <code>With.index</code> is something like</p>\n\n<pre><code>class With {\n    public static &lt;T&gt; Iterable&lt;Index&lt;T&gt;&gt; index(final T[] array) {\n        return new Iterable&lt;Index&lt;T&gt;&gt;() {\n            public Iterator&lt;Index&lt;T&gt;&gt; iterator() {\n                return new Iterator&lt;Index&lt;T&gt;&gt;() {\n                    index = 0;\n                    public boolean hasNext() { return index &lt; array.size }\n                    public Index&lt;T&gt; next() { return new Index(array[index], index++); }\n                    ...\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":627518,"reputation":11,"user_id":380094,"display_name":"J&#246;rg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1277903609,"creation_date":1277903609,"answer_id":3149547,"question_id":477550,"body_markdown":"There is a &quot;variant&quot; to pax&#39; answer...  ;-)\r\n\r\n    int i = -1;\r\n    for(String s : stringArray) {\r\n        doSomethingWith(s, ++i);\r\n    }\r\n\r\n","title":"Is there a way to access an iteration-counter in Java&#39;s for-each loop?","body":"<p>There is a \"variant\" to pax' answer...  ;-)</p>\n\n<pre><code>int i = -1;\nfor(String s : stringArray) {\n    doSomethingWith(s, ++i);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":720728,"reputation":13,"user_id":645540,"display_name":"Rik"},"down_vote_count":6,"up_vote_count":2,"is_accepted":false,"score":-4,"last_activity_date":1299279747,"creation_date":1299279747,"answer_id":5200217,"question_id":477550,"body_markdown":"I&#39;m a little surprised no-one suggested the following (I admit it&#39;s a lazy approach...);\r\nIf stringArray is a List of some sort, you could use something like stringArray.indexOf(S) to return a value for the current count.\r\n\r\nNote: this assumes that the elements of the List are unique, or that it doesn&#39;t matter if they are non-unique (because in that case it will return the index of the first copy found).\r\n\r\nThere are situations in which that would be sufficient...\r\n","title":"Is there a way to access an iteration-counter in Java&#39;s for-each loop?","body":"<p>I'm a little surprised no-one suggested the following (I admit it's a lazy approach...);\nIf stringArray is a List of some sort, you could use something like stringArray.indexOf(S) to return a value for the current count.</p>\n\n<p>Note: this assumes that the elements of the List are unique, or that it doesn't matter if they are non-unique (because in that case it will return the index of the first copy found).</p>\n\n<p>There are situations in which that would be sufficient...</p>\n"},{"tags":[],"owner":{"account_id":328694,"reputation":7904,"user_id":651794,"accept_rate":83,"display_name":"James Scriven"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1396704167,"creation_date":1396704167,"answer_id":22881463,"question_id":477550,"body_markdown":"Using **lambdas** and **functional interfaces** in **Java 8** makes creating new loop abstractions possible. I can loop over a collection with the index and the collection size:\r\n\r\n    List&lt;String&gt; strings = Arrays.asList(&quot;one&quot;, &quot;two&quot;,&quot;three&quot;,&quot;four&quot;);\r\n    forEach(strings, (x, i, n) -&gt; System.out.println(&quot;&quot; + (i+1) + &quot;/&quot;+n+&quot;: &quot; + x));\r\n\r\nWhich outputs:\r\n\r\n    1/4: one\r\n    2/4: two\r\n    3/4: three\r\n    4/4: four\r\n\r\nWhich I implemented as:\r\n\r\n       @FunctionalInterface\r\n       public interface LoopWithIndexAndSizeConsumer&lt;T&gt; {\r\n           void accept(T t, int i, int n);\r\n       }\r\n       public static &lt;T&gt; void forEach(Collection&lt;T&gt; collection,\r\n                                      LoopWithIndexAndSizeConsumer&lt;T&gt; consumer) {\r\n          int index = 0;\r\n          for (T object : collection){\r\n             consumer.accept(object, index++, collection.size());\r\n          }\r\n       }\r\n\r\nThe possibilities are endless. For example, I create an abstraction that uses a special function just for the first element:\r\n\r\n    forEachHeadTail(strings, \r\n                    (head) -&gt; System.out.print(head), \r\n                    (tail) -&gt; System.out.print(&quot;,&quot;+tail));\r\n\r\nWhich prints a comma separated list correctly:\r\n\r\n    one,two,three,four\r\n\r\nWhich I implemented as:\r\n\r\n    public static &lt;T&gt; void forEachHeadTail(Collection&lt;T&gt; collection, \r\n                                           Consumer&lt;T&gt; headFunc, \r\n                                           Consumer&lt;T&gt; tailFunc) {\r\n       int index = 0;\r\n       for (T object : collection){\r\n          if (index++ == 0){\r\n             headFunc.accept(object);\r\n          }\r\n          else{\r\n             tailFunc.accept(object);\r\n          }\r\n       }\r\n    }\r\n\r\nLibraries will begin to pop up to do these sorts of things, or you can roll your own.","title":"Is there a way to access an iteration-counter in Java&#39;s for-each loop?","body":"<p>Using <strong>lambdas</strong> and <strong>functional interfaces</strong> in <strong>Java 8</strong> makes creating new loop abstractions possible. I can loop over a collection with the index and the collection size:</p>\n\n<pre><code>List&lt;String&gt; strings = Arrays.asList(\"one\", \"two\",\"three\",\"four\");\nforEach(strings, (x, i, n) -&gt; System.out.println(\"\" + (i+1) + \"/\"+n+\": \" + x));\n</code></pre>\n\n<p>Which outputs:</p>\n\n<pre><code>1/4: one\n2/4: two\n3/4: three\n4/4: four\n</code></pre>\n\n<p>Which I implemented as:</p>\n\n<pre><code>   @FunctionalInterface\n   public interface LoopWithIndexAndSizeConsumer&lt;T&gt; {\n       void accept(T t, int i, int n);\n   }\n   public static &lt;T&gt; void forEach(Collection&lt;T&gt; collection,\n                                  LoopWithIndexAndSizeConsumer&lt;T&gt; consumer) {\n      int index = 0;\n      for (T object : collection){\n         consumer.accept(object, index++, collection.size());\n      }\n   }\n</code></pre>\n\n<p>The possibilities are endless. For example, I create an abstraction that uses a special function just for the first element:</p>\n\n<pre><code>forEachHeadTail(strings, \n                (head) -&gt; System.out.print(head), \n                (tail) -&gt; System.out.print(\",\"+tail));\n</code></pre>\n\n<p>Which prints a comma separated list correctly:</p>\n\n<pre><code>one,two,three,four\n</code></pre>\n\n<p>Which I implemented as:</p>\n\n<pre><code>public static &lt;T&gt; void forEachHeadTail(Collection&lt;T&gt; collection, \n                                       Consumer&lt;T&gt; headFunc, \n                                       Consumer&lt;T&gt; tailFunc) {\n   int index = 0;\n   for (T object : collection){\n      if (index++ == 0){\n         headFunc.accept(object);\n      }\n      else{\n         tailFunc.accept(object);\n      }\n   }\n}\n</code></pre>\n\n<p>Libraries will begin to pop up to do these sorts of things, or you can roll your own.</p>\n"},{"tags":[],"owner":{"account_id":465074,"reputation":12318,"user_id":868941,"accept_rate":75,"display_name":"rmuller"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1476895936,"creation_date":1476817433,"answer_id":40116095,"question_id":477550,"body_markdown":"Java 8 introduced the `Iterable#forEach()` / `Map#forEach()` method, which is more efficient for many `Collection` / `Map` implementations compared to the &quot;classical&quot; for-each loop. However, also in this case an index is not provided. The trick here is to use `AtomicInteger` outside the lambda expression. Note: variables used within the lambda expression must be effectively final, that is why we cannot use an ordinary `int`.\r\n\r\n    final AtomicInteger indexHolder = new AtomicInteger();\r\n    map.forEach((k, v) -&gt; {\r\n        final int index = indexHolder.getAndIncrement();\r\n        // use the index\r\n    });","title":"Is there a way to access an iteration-counter in Java&#39;s for-each loop?","body":"<p>Java 8 introduced the <code>Iterable#forEach()</code> / <code>Map#forEach()</code> method, which is more efficient for many <code>Collection</code> / <code>Map</code> implementations compared to the \"classical\" for-each loop. However, also in this case an index is not provided. The trick here is to use <code>AtomicInteger</code> outside the lambda expression. Note: variables used within the lambda expression must be effectively final, that is why we cannot use an ordinary <code>int</code>.</p>\n\n<pre><code>final AtomicInteger indexHolder = new AtomicInteger();\nmap.forEach((k, v) -&gt; {\n    final int index = indexHolder.getAndIncrement();\n    // use the index\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3955325,"reputation":1864,"user_id":3264054,"display_name":"Jeremy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1497460985,"creation_date":1497460985,"answer_id":44551063,"question_id":477550,"body_markdown":"For situations where I only need the index occasionally, like in a catch clause, I will sometimes use indexOf.\r\n\r\n    for(String s : stringArray) {\r\n      try {\r\n        doSomethingWith(s);\r\n      } catch (Exception e) {\r\n        LOGGER.warn(&quot;Had some kind of problem with string &quot; +\r\n          stringArray.indexOf(s) + &quot;: &quot; + s, e);\r\n      }\r\n    }","title":"Is there a way to access an iteration-counter in Java&#39;s for-each loop?","body":"<p>For situations where I only need the index occasionally, like in a catch clause, I will sometimes use indexOf.</p>\n\n<pre><code>for(String s : stringArray) {\n  try {\n    doSomethingWith(s);\n  } catch (Exception e) {\n    LOGGER.warn(\"Had some kind of problem with string \" +\n      stringArray.indexOf(s) + \": \" + s, e);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user177800"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1507865132,"creation_date":1507865132,"answer_id":46722062,"question_id":477550,"body_markdown":"### Idiomatic Solution:\n\n    final Set&lt;Double&gt; doubles; // boilerplate\n    final Iterator&lt;Double&gt; iterator = doubles.iterator();\n    for (int ordinal = 0; iterator.hasNext(); ordinal++)\n    {\n        System.out.printf(&quot;%d:%f&quot;,ordinal,iterator.next());\n        System.out.println();\n    }\n\n&gt; this is actually the solution that Google suggests in the [Guava discussion][1] on why they did not provide a `CountingIterator`.\n\n\n  [1]: https://github.com/google/guava/wiki/IdeaGraveyard#countingindexed-iterator","title":"Is there a way to access an iteration-counter in Java&#39;s for-each loop?","body":"<h3>Idiomatic Solution:</h3>\n<pre><code>final Set&lt;Double&gt; doubles; // boilerplate\nfinal Iterator&lt;Double&gt; iterator = doubles.iterator();\nfor (int ordinal = 0; iterator.hasNext(); ordinal++)\n{\n    System.out.printf(&quot;%d:%f&quot;,ordinal,iterator.next());\n    System.out.println();\n}\n</code></pre>\n<blockquote>\n<p>this is actually the solution that Google suggests in the <a href=\"https://github.com/google/guava/wiki/IdeaGraveyard#countingindexed-iterator\" rel=\"noreferrer\">Guava discussion</a> on why they did not provide a <code>CountingIterator</code>.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":7676163,"reputation":1279,"user_id":5816974,"accept_rate":25,"display_name":"Amar Prakash Pandey"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1553239813,"creation_date":1547099870,"answer_id":54122689,"question_id":477550,"body_markdown":"Though there are soo many other ways mentioned to achieve the same, I will share my way for some unsatisfied users. I am using the Java 8 IntStream feature.\r\n\r\n**1. Arrays**\r\n\r\n&lt;!-- language:java --&gt;\r\n\r\n    Object[] obj = {1,2,3,4,5,6,7};\r\n    IntStream.range(0, obj.length).forEach(index-&gt; {\r\n        System.out.println(&quot;index: &quot; + index);\r\n        System.out.println(&quot;value: &quot; + obj[index]);\r\n    });\r\n\r\n**2. List**\r\n\r\n&lt;!-- language:java --&gt;\r\n    \r\n    List&lt;String&gt; strings = new ArrayList&lt;String&gt;();\r\n    Collections.addAll(strings,&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;);\r\n    \r\n    IntStream.range(0, strings.size()).forEach(index-&gt; {\r\n        System.out.println(&quot;index: &quot; + index);\r\n        System.out.println(&quot;value: &quot; + strings.get(index));\r\n    });\r\n","title":"Is there a way to access an iteration-counter in Java&#39;s for-each loop?","body":"<p>Though there are soo many other ways mentioned to achieve the same, I will share my way for some unsatisfied users. I am using the Java 8 IntStream feature.</p>\n\n<p><strong>1. Arrays</strong></p>\n\n\n\n<pre><code>Object[] obj = {1,2,3,4,5,6,7};\nIntStream.range(0, obj.length).forEach(index-&gt; {\n    System.out.println(\"index: \" + index);\n    System.out.println(\"value: \" + obj[index]);\n});\n</code></pre>\n\n<p><strong>2. List</strong></p>\n\n\n\n<pre><code>List&lt;String&gt; strings = new ArrayList&lt;String&gt;();\nCollections.addAll(strings,\"A\",\"B\",\"C\",\"D\");\n\nIntStream.range(0, strings.size()).forEach(index-&gt; {\n    System.out.println(\"index: \" + index);\n    System.out.println(\"value: \" + strings.get(index));\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11886104,"reputation":19,"user_id":8698433,"display_name":"ashkanaral"},"down_vote_count":5,"up_vote_count":0,"is_accepted":false,"score":-5,"last_activity_date":1581733917,"creation_date":1550531198,"answer_id":54756663,"question_id":477550,"body_markdown":"Here is an example of how I did this. This gets the index at the for each loop. Hope this helps. \r\n\r\n\r\n    public class CheckForEachLoop {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tString[] months = new String[] { &quot;JANUARY&quot;, &quot;FEBRUARY&quot;, &quot;MARCH&quot;, &quot;APRIL&quot;, &quot;MAY&quot;, &quot;JUNE&quot;, &quot;JULY&quot;, &quot;AUGUST&quot;,\r\n    \t\t\t\t&quot;SEPTEMBER&quot;, &quot;OCTOBER&quot;, &quot;NOVEMBER&quot;, &quot;DECEMBER&quot; };\r\n    \t\tfor (String s : months) {\r\n    \t\t\tif (s == months[2]) { // location where you can change\r\n                  doSomethingWith(s); // however many times s and months\r\n                                      // doSomethingWith(s) will be completed and \r\n                                      // added together instead of counter\r\n    \t\t\t}\r\n    \r\n    \t\t}\r\n    \t\tSystem.out.println(s); \r\n            \r\n    \r\n    \t}\r\n    }","title":"Is there a way to access an iteration-counter in Java&#39;s for-each loop?","body":"<p>Here is an example of how I did this. This gets the index at the for each loop. Hope this helps. </p>\n\n<pre><code>public class CheckForEachLoop {\n\n    public static void main(String[] args) {\n\n        String[] months = new String[] { \"JANUARY\", \"FEBRUARY\", \"MARCH\", \"APRIL\", \"MAY\", \"JUNE\", \"JULY\", \"AUGUST\",\n                \"SEPTEMBER\", \"OCTOBER\", \"NOVEMBER\", \"DECEMBER\" };\n        for (String s : months) {\n            if (s == months[2]) { // location where you can change\n              doSomethingWith(s); // however many times s and months\n                                  // doSomethingWith(s) will be completed and \n                                  // added together instead of counter\n            }\n\n        }\n        System.out.println(s); \n\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9916908,"reputation":11,"user_id":7341392,"display_name":"Abhijeet Chopra"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1578378634,"creation_date":1578171304,"answer_id":59594774,"question_id":477550,"body_markdown":"The best and optimized solution is to do the following thing:\r\n\r\n    int i=0;\r\n    \r\n    for(Type t: types) {\r\n      ......\r\n      i++;\r\n    }\r\n\r\nWhere Type can be any data type and types is the variable on which you are applying for a loop.\r\n","title":"Is there a way to access an iteration-counter in Java&#39;s for-each loop?","body":"<p>The best and optimized solution is to do the following thing:</p>\n\n<pre><code>int i=0;\n\nfor(Type t: types) {\n  ......\n  i++;\n}\n</code></pre>\n\n<p>Where Type can be any data type and types is the variable on which you are applying for a loop.</p>\n"},{"tags":[],"owner":{"account_id":350601,"reputation":101,"user_id":686598,"display_name":"Jay99"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673549094,"creation_date":1673549094,"answer_id":75100977,"question_id":477550,"body_markdown":"i usually use this workaround by using array\r\n\r\n    List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n\r\n    final int[] counter = new int[1];\r\n    \r\n    list.foreach( item -&gt; {\r\n        list.get(counter[0])   // code here that can use counter[0] for counter value\r\n        counter[0]++;          // increment the counter\r\n    }\r\n\r\n\r\n\r\n","title":"Is there a way to access an iteration-counter in Java&#39;s for-each loop?","body":"<p>i usually use this workaround by using array</p>\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n\nfinal int[] counter = new int[1];\n\nlist.foreach( item -&gt; {\n    list.get(counter[0])   // code here that can use counter[0] for counter value\n    counter[0]++;          // increment the counter\n}\n</code></pre>\n"}],"owner":{"account_id":23088,"reputation":22410,"user_id":57601,"accept_rate":100,"display_name":"Kosi2801"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":306870,"favorite_count":0,"down_vote_count":0,"up_vote_count":334,"accepted_answer_id":477592,"answer_count":16,"score":334,"last_activity_date":1673549094,"creation_date":1232881537,"question_id":477550,"body_markdown":"Is there a way in Java&#39;s for-each loop\r\n\r\n    for(String s : stringArray) {\r\n      doSomethingWith(s);\r\n    }\r\n\r\nto find out how often the loop has already been processed?\r\n\r\nAside from using the old and well-known `for(int i=0; i &lt; boundary; i++)` - loop, is the construct\r\n\r\n    int i = 0;\r\n    for(String s : stringArray) {\r\n      doSomethingWith(s);\r\n      i++;\r\n    }\r\n\r\nthe only way to have such a counter available in a for-each loop?","title":"Is there a way to access an iteration-counter in Java&#39;s for-each loop?","body":"<p>Is there a way in Java's for-each loop</p>\n\n<pre><code>for(String s : stringArray) {\n  doSomethingWith(s);\n}\n</code></pre>\n\n<p>to find out how often the loop has already been processed?</p>\n\n<p>Aside from using the old and well-known <code>for(int i=0; i &lt; boundary; i++)</code> - loop, is the construct</p>\n\n<pre><code>int i = 0;\nfor(String s : stringArray) {\n  doSomethingWith(s);\n  i++;\n}\n</code></pre>\n\n<p>the only way to have such a counter available in a for-each loop?</p>\n"},{"tags":["java","jackson","formatting","double","objectmapper"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1673527062,"post_id":75096379,"comment_id":132522036,"body_markdown":"Can you provide a reproducible example for this? If I do `m.put(&quot;a&quot;, 402.4818d);` and run your code, I get `{&quot;a&quot;:402.4818}`","body":"Can you provide a reproducible example for this? If I do <code>m.put(&quot;a&quot;, 402.4818d);</code> and run your code, I get <code>{&quot;a&quot;:402.4818}</code>"},{"owner":{"account_id":1642932,"reputation":1379,"user_id":1515042,"accept_rate":54,"display_name":"Nadir"},"score":0,"creation_date":1673527684,"post_id":75096379,"comment_id":132522252,"body_markdown":"Are you sure that upon read from db your double value is 402.4818 and not 402.48179999999996 already? Maybe the problem is not in jackson but in the mapping of db data to java?","body":"Are you sure that upon read from db your double value is 402.4818 and not 402.48179999999996 already? Maybe the problem is not in jackson but in the mapping of db data to java?"},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1673549006,"post_id":75096379,"comment_id":132530049,"body_markdown":"Maybe this will help: [jackson - json encoding of doubles with controlled precision](https://stackoverflow.com/questions/7299576/jackson-json-encoding-of-doubles-with-controlled-precision)","body":"Maybe this will help: <a href=\"https://stackoverflow.com/questions/7299576/jackson-json-encoding-of-doubles-with-controlled-precision\">jackson - json encoding of doubles with controlled precision</a>"}],"owner":{"account_id":19859857,"reputation":1,"user_id":14548406,"display_name":"Dnamedia_Chris"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673548909,"creation_date":1673526704,"question_id":75096379,"body_markdown":"I have an application, which loads a data row from a SQL Server database and should transmit that content JSON-encoded to a webservice. I used ObjectMapper to do the JSON conversion. There is some infrastructure behind this project, namely I get the data from the db as a `Hashmap&lt;string,object&gt;` where the keys are the column-names from the db-table.\r\n\r\nIs there a way to tell com.fasterxml.jackson.databind.ObjectMapper how to format double-values upon serialization, when you can not use annotations?\r\n\r\nI did a simple \r\n\r\n```\r\nObjectMapper o = new ObjectMapper(); \r\nString jsonStr = o.writeValueAsString(m); // m is my hashmap-instance\r\n```\r\nWhile in theory this works quite nicely, I have a problem with the serialization of doubles. In the db there is a column of type `float`  (which corresponds to double in Java, java-float would be `real` in SQL Server) with the value `402.4818`. If I let ObjectMapper serialize this, I get `402.48179999999996` in JSON.\r\n\r\nHow can I customize the double-formatting / precision in ObjectMapper? I have already used `setDateFormat(new SimpleDateFormat(&quot;yyyy-MM-dd&quot;))` to get my dates right, is there any way to do something similar for double? \r\nMost examples in the net serialize POJOs where you can use annotations to specify how specific properties should be serialized, but I have a HashMap here.\r\n\r\nPlease don&#39;t tell me that I have to go through the hassle of creating a POJO, fill it with the DB-Data and serialize it for every row I want to send via this API. (This is a db-row which has &gt; 30 columns and the project is nearly done, besides this little double-formatting-problem.)\r\n\r\nSo what do I need to do to tell ObjectMapper to round to the 4. decimal point before serializing or give some custom `DecimalFormat`? Documentation on this is quite sparse.\r\n","title":"Double-formatting in com.fasterxml.jackson.databind.ObjectMapper","body":"<p>I have an application, which loads a data row from a SQL Server database and should transmit that content JSON-encoded to a webservice. I used ObjectMapper to do the JSON conversion. There is some infrastructure behind this project, namely I get the data from the db as a <code>Hashmap&lt;string,object&gt;</code> where the keys are the column-names from the db-table.</p>\n<p>Is there a way to tell com.fasterxml.jackson.databind.ObjectMapper how to format double-values upon serialization, when you can not use annotations?</p>\n<p>I did a simple</p>\n<pre><code>ObjectMapper o = new ObjectMapper(); \nString jsonStr = o.writeValueAsString(m); // m is my hashmap-instance\n</code></pre>\n<p>While in theory this works quite nicely, I have a problem with the serialization of doubles. In the db there is a column of type <code>float</code>  (which corresponds to double in Java, java-float would be <code>real</code> in SQL Server) with the value <code>402.4818</code>. If I let ObjectMapper serialize this, I get <code>402.48179999999996</code> in JSON.</p>\n<p>How can I customize the double-formatting / precision in ObjectMapper? I have already used <code>setDateFormat(new SimpleDateFormat(&quot;yyyy-MM-dd&quot;))</code> to get my dates right, is there any way to do something similar for double?\nMost examples in the net serialize POJOs where you can use annotations to specify how specific properties should be serialized, but I have a HashMap here.</p>\n<p>Please don't tell me that I have to go through the hassle of creating a POJO, fill it with the DB-Data and serialize it for every row I want to send via this API. (This is a db-row which has &gt; 30 columns and the project is nearly done, besides this little double-formatting-problem.)</p>\n<p>So what do I need to do to tell ObjectMapper to round to the 4. decimal point before serializing or give some custom <code>DecimalFormat</code>? Documentation on this is quite sparse.</p>\n"},{"tags":["java","arrays","methods"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":1,"creation_date":1673549905,"post_id":75100871,"comment_id":132530354,"body_markdown":"Why do you print &quot;Array &amp; no of elements&quot; in the first place? These kinds of tasks don&#39;t like random debug output","body":"Why do you print &quot;Array &amp; no of elements&quot; in the first place? These kinds of tasks don&#39;t like random debug output"},{"owner":{"account_id":21248202,"reputation":101,"user_id":16248506,"display_name":"StackpackedKar"},"score":0,"creation_date":1673707347,"post_id":75100871,"comment_id":132560274,"body_markdown":"@zapl to accept and no of elements from the user. where could I improve?","body":"@zapl to accept and no of elements from the user. where could I improve?"}],"owner":{"account_id":21248202,"reputation":101,"user_id":16248506,"display_name":"StackpackedKar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673548732,"creation_date":1673548457,"question_id":75100871,"body_markdown":"[link to problem][1]\r\n\r\n    \t\t\r\n    \r\n    import java.util.Arrays;\r\n    \r\n     import java.util.Scanner;\r\n    \r\n    class Codechef { static boolean test(int[]a,int n){\r\n    \r\n     for(int i=0;i&lt;n;i++){\r\n    \r\n     if(a[i]-a[i+1]&gt;0)\r\n    \r\n     System.out.println(&quot;not si&quot;);\r\n    \r\n    return false;\r\n    \t\t\r\n    \t}\r\n    \treturn true;\r\n    }\r\n    static int[] array(int[]a,int n){\r\n    \tint[] a1=new int[n-1];\r\n    \tif(test(a,n )){\r\n    \t\tfor(int i=0;i&lt;n-1;i++){\r\n    \t\t\ta1[i]=a[i+1]=a[i];\r\n    \t\t}\r\n    \t}\r\n    \treturn a1;\r\n    }\r\n    static int type(int[]a,int n){\r\n    \tint c=0;\r\n    \tint []k=array(a, n);\r\n    \tArrays.sort(k);\r\n    \tfor(int i=0;i&lt;n-2;i++){\r\n    \t\tif(k[i]!=k[i+1])c++;\r\n    \t}\r\n    \treturn c;\r\n    }\r\n    public static void main(String[] args) {\r\n    \tScanner in=new Scanner(System.in);\r\n    \t\r\n    \tSystem.out.println(&quot;Array &amp; no of elements&quot;);\r\n    \tint n=in.nextInt();\r\n    \tint []a=new int[n];\r\n    \tfor(int i=0;i&lt;n;i++)\r\n    \ta[i]=in.nextInt();\r\n    \tint c=type(a, n);\r\n    \tSystem.out.println(c);\r\n    \r\n    }`\r\n\r\nthe following code gives the output:\r\n`Array &amp; no of element`\r\n` 5`\r\n` 0 `\r\n`2 `\r\n`8`\r\n `10`\r\n `16 `\r\n`0 (output)`\r\nclearly not the desired results. So where am i going wrong? please enlighten me.\r\n\r\nIve tried a set of &quot;nested&quot; methods and was expecting for the value of c to be greater than zero...\r\n\r\n\r\n  [1]: https://codeforces.com/problemset/problem/1772/C","title":"inspiration from Different Differences (codeforces problem 1772c)","body":"<p><a href=\"https://codeforces.com/problemset/problem/1772/C\" rel=\"nofollow noreferrer\">link to problem</a></p>\n<pre><code>import java.util.Arrays;\n\n import java.util.Scanner;\n\nclass Codechef { static boolean test(int[]a,int n){\n\n for(int i=0;i&lt;n;i++){\n\n if(a[i]-a[i+1]&gt;0)\n\n System.out.println(&quot;not si&quot;);\n\nreturn false;\n        \n    }\n    return true;\n}\nstatic int[] array(int[]a,int n){\n    int[] a1=new int[n-1];\n    if(test(a,n )){\n        for(int i=0;i&lt;n-1;i++){\n            a1[i]=a[i+1]=a[i];\n        }\n    }\n    return a1;\n}\nstatic int type(int[]a,int n){\n    int c=0;\n    int []k=array(a, n);\n    Arrays.sort(k);\n    for(int i=0;i&lt;n-2;i++){\n        if(k[i]!=k[i+1])c++;\n    }\n    return c;\n}\npublic static void main(String[] args) {\n    Scanner in=new Scanner(System.in);\n    \n    System.out.println(&quot;Array &amp; no of elements&quot;);\n    int n=in.nextInt();\n    int []a=new int[n];\n    for(int i=0;i&lt;n;i++)\n    a[i]=in.nextInt();\n    int c=type(a, n);\n    System.out.println(c);\n\n}`\n</code></pre>\n<p>the following code gives the output:\n<code>Array &amp; no of element</code>\n<code> 5</code>\n<code>0</code>\n<code>2 </code>\n<code>8</code>\n<code>10</code>\n<code>16 </code>\n<code>0 (output)</code>\nclearly not the desired results. So where am i going wrong? please enlighten me.</p>\n<p>Ive tried a set of &quot;nested&quot; methods and was expecting for the value of c to be greater than zero...</p>\n"},{"tags":["java","session-cookies","decode","phoenix-framework","phoenix-live-view"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":1,"creation_date":1673549172,"post_id":75100908,"comment_id":132530111,"body_markdown":"binary_to_term uses some proprietary erlang format, https://www.erlang.org/doc/apps/erts/erl_ext_dist.html not a simple base64 encoding. There are potentially java libraries that can decode that format https://github.com/henryzhao81/External-Term-Format-Java","body":"binary_to_term uses some proprietary erlang format, <a href=\"https://www.erlang.org/doc/apps/erts/erl_ext_dist.html\" rel=\"nofollow noreferrer\">erlang.org/doc/apps/erts/erl_ext_dist.html</a> not a simple base64 encoding. There are potentially java libraries that can decode that format <a href=\"https://github.com/henryzhao81/External-Term-Format-Java\" rel=\"nofollow noreferrer\">github.com/henryzhao81/External-Term-Format-Java</a>"},{"owner":{"account_id":18963920,"reputation":91,"user_id":13838777,"display_name":"okan"},"score":0,"creation_date":1673618790,"post_id":75100908,"comment_id":132545909,"body_markdown":"Thanks for the explanation @zapl, I was able to decode it properly with the library you suggested.","body":"Thanks for the explanation @zapl, I was able to decode it properly with the library you suggested."}],"owner":{"account_id":18963920,"reputation":91,"user_id":13838777,"display_name":"okan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673548697,"creation_date":1673548697,"question_id":75100908,"body_markdown":"I am trying two different ways to **decode** **Phoenix Session Cookie**.\r\nFirst one is `Elixir&#39;s interaction shell`, and the second one is with `Java`.\r\n\r\nPlease see the following examples;\r\n\r\n**IEx**\r\n\r\n```\r\niex(1)&gt; set_cookie = &quot;SFMyNTY.g3QAAAABbQAAAAtfY3NyZl90b2tlbm0AAAAYZFRuNUtQMkJ5YWtKT1JnWUtCeXhmNmdP.l0T3G-i8I5dMwz7lEZnQAeK_WeqEZTxcDeyNY2poz_M&quot;\r\n&quot;SFMyNTY.g3QAAAABbQAAAAtfY3NyZl90b2tlbm0AAAAYZFRuNUtQMkJ5YWtKT1JnWUtCeXhmNmdP.l0T3G-i8I5dMwz7lEZnQAeK_WeqEZTxcDeyNY2poz_M&quot;\r\n\r\niex(2)&gt; [_, payload, _] = String.split(set_cookie, &quot;.&quot;, parts: 3)\r\n[&quot;SFMyNTY&quot;,\r\n &quot;g3QAAAABbQAAAAtfY3NyZl90b2tlbm0AAAAYZFRuNUtQMkJ5YWtKT1JnWUtCeXhmNmdP&quot;,\r\n &quot;l0T3G-i8I5dMwz7lEZnQAeK_WeqEZTxcDeyNY2poz_M&quot;]\r\n\r\niex(3)&gt; {:ok, encoded_term } = Base.url_decode64(payload, padding: false)\r\n{:ok,\r\n &lt;&lt;131, 116, 0, 0, 0, 1, 109, 0, 0, 0, 11, 95, 99, 115, 114, 102, 95, 116, 111,\r\n   107, 101, 110, 109, 0, 0, 0, 24, 100, 84, 110, 53, 75, 80, 50, 66, 121, 97,\r\n   107, 74, 79, 82, 103, 89, 75, 66, 121, 120, 102, ...&gt;&gt;}\r\n\r\niex(4)&gt; :erlang.binary_to_term(encoded_term)\r\n%{&quot;_csrf_token&quot; =&gt; &quot;dTn5KP2ByakJORgYKByxf6gO&quot;}\r\n```\r\n\r\n**Java**\r\n\r\n```\r\npublic static String decodePhoenixSessionCookie(String sessionCookie) {\r\n\r\n    String payload = sessionCookie.split(&quot;\\\\.&quot;)[1];\r\n\r\n    byte[] encoded_term = Base64.getUrlDecoder().decode(payload.getBytes());\r\n\r\n    return new String(encoded_term);\r\n}\r\n```\r\n\r\n**Java Output**\r\n\r\n```\r\n�tm_csrf_tokenmdTn5KP2ByakJORgYKByxf6gO\r\n```\r\n\r\nWhat I wonder is; with the `Java` way, I can fully achieve field name and it&#39;s value, but some gibberish values come with them.\r\n\r\nDo you know what&#39;s the reason for this?\r\n\r\nDo I have a chance to get clean output like `Elixir` way in `Java` way?","title":"Phoenix framework: How to decode Phoenix Session Cookie with Java","body":"<p>I am trying two different ways to <strong>decode</strong> <strong>Phoenix Session Cookie</strong>.\nFirst one is <code>Elixir's interaction shell</code>, and the second one is with <code>Java</code>.</p>\n<p>Please see the following examples;</p>\n<p><strong>IEx</strong></p>\n<pre><code>iex(1)&gt; set_cookie = &quot;SFMyNTY.g3QAAAABbQAAAAtfY3NyZl90b2tlbm0AAAAYZFRuNUtQMkJ5YWtKT1JnWUtCeXhmNmdP.l0T3G-i8I5dMwz7lEZnQAeK_WeqEZTxcDeyNY2poz_M&quot;\n&quot;SFMyNTY.g3QAAAABbQAAAAtfY3NyZl90b2tlbm0AAAAYZFRuNUtQMkJ5YWtKT1JnWUtCeXhmNmdP.l0T3G-i8I5dMwz7lEZnQAeK_WeqEZTxcDeyNY2poz_M&quot;\n\niex(2)&gt; [_, payload, _] = String.split(set_cookie, &quot;.&quot;, parts: 3)\n[&quot;SFMyNTY&quot;,\n &quot;g3QAAAABbQAAAAtfY3NyZl90b2tlbm0AAAAYZFRuNUtQMkJ5YWtKT1JnWUtCeXhmNmdP&quot;,\n &quot;l0T3G-i8I5dMwz7lEZnQAeK_WeqEZTxcDeyNY2poz_M&quot;]\n\niex(3)&gt; {:ok, encoded_term } = Base.url_decode64(payload, padding: false)\n{:ok,\n &lt;&lt;131, 116, 0, 0, 0, 1, 109, 0, 0, 0, 11, 95, 99, 115, 114, 102, 95, 116, 111,\n   107, 101, 110, 109, 0, 0, 0, 24, 100, 84, 110, 53, 75, 80, 50, 66, 121, 97,\n   107, 74, 79, 82, 103, 89, 75, 66, 121, 120, 102, ...&gt;&gt;}\n\niex(4)&gt; :erlang.binary_to_term(encoded_term)\n%{&quot;_csrf_token&quot; =&gt; &quot;dTn5KP2ByakJORgYKByxf6gO&quot;}\n</code></pre>\n<p><strong>Java</strong></p>\n<pre><code>public static String decodePhoenixSessionCookie(String sessionCookie) {\n\n    String payload = sessionCookie.split(&quot;\\\\.&quot;)[1];\n\n    byte[] encoded_term = Base64.getUrlDecoder().decode(payload.getBytes());\n\n    return new String(encoded_term);\n}\n</code></pre>\n<p><strong>Java Output</strong></p>\n<pre><code>�tm_csrf_tokenmdTn5KP2ByakJORgYKByxf6gO\n</code></pre>\n<p>What I wonder is; with the <code>Java</code> way, I can fully achieve field name and it's value, but some gibberish values come with them.</p>\n<p>Do you know what's the reason for this?</p>\n<p>Do I have a chance to get clean output like <code>Elixir</code> way in <code>Java</code> way?</p>\n"},{"tags":["java","loops"],"comments":[{"owner":{"account_id":10717917,"reputation":1549,"user_id":7887883,"accept_rate":89,"display_name":"Pavan Kumar T S"},"score":1,"creation_date":1543905521,"post_id":53606947,"comment_id":94075693,"body_markdown":"Just add break; in else condition after print","body":"Just add break; in else condition after print"},{"owner":{"account_id":9509614,"reputation":745,"user_id":7067946,"display_name":"Arihant"},"score":0,"creation_date":1543905533,"post_id":53606947,"comment_id":94075699,"body_markdown":"add a `break` statement in your `else` block and replace `if` by `else if`","body":"add a <code>break</code> statement in your <code>else</code> block and replace <code>if</code> by <code>else if</code>"},{"owner":{"account_id":4469061,"reputation":1554,"user_id":3639687,"accept_rate":62,"display_name":"Pratham"},"score":0,"creation_date":1543908092,"post_id":53606947,"comment_id":94076723,"body_markdown":"You can take a count and break when count reaches threshold to prevent infinite loop in case of incorrect input","body":"You can take a count and break when count reaches threshold to prevent infinite loop in case of incorrect input"}],"answers":[{"tags":[],"owner":{"account_id":9259838,"reputation":1606,"user_id":6877321,"display_name":"Gratien Asimbahwe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543908169,"creation_date":1543907031,"answer_id":53607399,"question_id":53606947,"body_markdown":"To stop a loop from being infinite, you must avoid that the condition remains true otherwise it won&#39;t stop. If you want to stop the loop after having responded according to the condition, break it. \r\n\r\nWith your case you can proceed as follows (remember, you must pick another value if the first was not verified, that&#39;s why `invoice=choice.nextInt()` must be included at the top of the loop):\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-c --&gt;\r\n\r\n    do\r\n         {\r\n              invoice = choice.nextInt();\r\n              if(invoice == 1)\r\n              {\r\n                     System.out.println(&quot;one&quot;);\r\n                     break;\r\n                     //quit the loop after the operation\r\n              }\r\n              else if (invoice == 2)\r\n              {//we add else if because invoice might be either 1 or 2 or another value and not two values at same time.\r\n                    System.out.println(&quot;two&quot;);\r\n                    //quit the loop after the operation\r\n              }\r\n             else\r\n             {\r\n                       System.out.println(&quot;Press &#39;1&#39; to Pay and &#39;2&#39; to Add&quot;);\r\n                       //don&#39;t break here because you are just leaving a message to let the user know invoice must be either one or two and if not display the message\r\n              }\r\n        }while(invoice &gt;= 3 || invoice &lt;=0);\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How do I stop a do...while loop from being infinite","body":"<p>To stop a loop from being infinite, you must avoid that the condition remains true otherwise it won't stop. If you want to stop the loop after having responded according to the condition, break it. </p>\n\n<p>With your case you can proceed as follows (remember, you must pick another value if the first was not verified, that's why <code>invoice=choice.nextInt()</code> must be included at the top of the loop):</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>do\n     {\n          invoice = choice.nextInt();\n          if(invoice == 1)\n          {\n                 System.out.println(\"one\");\n                 break;\n                 //quit the loop after the operation\n          }\n          else if (invoice == 2)\n          {//we add else if because invoice might be either 1 or 2 or another value and not two values at same time.\n                System.out.println(\"two\");\n                //quit the loop after the operation\n          }\n         else\n         {\n                   System.out.println(\"Press '1' to Pay and '2' to Add\");\n                   //don't break here because you are just leaving a message to let the user know invoice must be either one or two and if not display the message\n          }\n    }while(invoice &gt;= 3 || invoice &lt;=0);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543927254,"creation_date":1543912109,"answer_id":53608580,"question_id":53606947,"body_markdown":"Are you sure that you want to stop the loop when you *enter something other than &#39;1&#39; or &#39;2&#39;*? &lt;br/&gt;\r\nThe usual practice is to stop this kind of loop when the user enters a valid selection, in your case `1` or `2` and give another option like `0` to exit. &lt;br/&gt;\r\nSo as long as the user does not enter `1` or `2` the loop must not finish:\r\n\r\n    Scanner choice = new Scanner(System.in);\r\n    System.out.println(&quot;Adjust Invoices&quot;);\r\n    System.out.println(&quot;Would like to Pay an invoice or Add an invoice to your account?&quot;);\r\n    \r\n    int invoice;\r\n\r\n    do {\r\n        System.out.println(&quot;Press &#39;1&#39; to Pay or &#39;2&#39; to Add, &#39;0&#39; to Exit&quot;);\r\n        invoice = choice.nextInt();\r\n        if (invoice == 0) {\r\n            System.out.println(&quot;Exiting...&quot;);\r\n            break;\r\n        } else if(invoice == 1) {\r\n            System.out.println(&quot;one&quot;);\r\n            break;\r\n        } else if (invoice == 2) {\r\n            System.out.println(&quot;two&quot;);\r\n            break;\r\n        } \r\n    } while(invoice &lt; 0 || invoice &gt; 2);","title":"How do I stop a do...while loop from being infinite","body":"<p>Are you sure that you want to stop the loop when you <em>enter something other than '1' or '2'</em>? <br/>\nThe usual practice is to stop this kind of loop when the user enters a valid selection, in your case <code>1</code> or <code>2</code> and give another option like <code>0</code> to exit. <br/>\nSo as long as the user does not enter <code>1</code> or <code>2</code> the loop must not finish:</p>\n\n<pre><code>Scanner choice = new Scanner(System.in);\nSystem.out.println(\"Adjust Invoices\");\nSystem.out.println(\"Would like to Pay an invoice or Add an invoice to your account?\");\n\nint invoice;\n\ndo {\n    System.out.println(\"Press '1' to Pay or '2' to Add, '0' to Exit\");\n    invoice = choice.nextInt();\n    if (invoice == 0) {\n        System.out.println(\"Exiting...\");\n        break;\n    } else if(invoice == 1) {\n        System.out.println(\"one\");\n        break;\n    } else if (invoice == 2) {\n        System.out.println(\"two\");\n        break;\n    } \n} while(invoice &lt; 0 || invoice &gt; 2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5962728,"reputation":2317,"user_id":4687402,"accept_rate":50,"display_name":"Benjamin Basmaci"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1574951605,"creation_date":1543913440,"answer_id":53608916,"question_id":53606947,"body_markdown":"Well, I guess first you will have to put the \r\n\r\n    int invoice = choice.nextInt();\r\n\r\ninside your loop to avoid that. Otherwise there is no sense in using the loop. You want to loop if you put a wrong input, right? Well, that only makes sense if you allow the user to correct their input.\r\n\r\nThen, I would just braek as soon as a valid input arises and put the hint print on the end without the &quot;else&quot;. Also, if you break at those points, you can remove your condition. It will be redundant.\r\nYour Hint is also redundant, so just put in right before the input.\r\n So, what you end up with is:\r\n\r\n    System.out.println(&quot;Adjust Invoices&quot;);\r\n    System.out.println(&quot;Would like to Pay an invoice or Add an invoice to your account?&quot;);\r\n        \r\n    int invoice;\r\n    do\r\n    {\r\n        System.out.println(&quot;Press &#39;1&#39; to Pay and &#39;2&#39; to Add&quot;);\r\n        invoice = choice.nextInt();\r\n        if (invoice == 1)\r\n        {\r\n            System.out.println(&quot;one&quot;);\r\n            break;\r\n        }\r\n        if (invoice == 2)\r\n        {\r\n            System.out.println(&quot;two&quot;);\r\n            break;\r\n        }\r\n    } while (true);","title":"How do I stop a do...while loop from being infinite","body":"<p>Well, I guess first you will have to put the </p>\n\n<pre><code>int invoice = choice.nextInt();\n</code></pre>\n\n<p>inside your loop to avoid that. Otherwise there is no sense in using the loop. You want to loop if you put a wrong input, right? Well, that only makes sense if you allow the user to correct their input.</p>\n\n<p>Then, I would just braek as soon as a valid input arises and put the hint print on the end without the \"else\". Also, if you break at those points, you can remove your condition. It will be redundant.\nYour Hint is also redundant, so just put in right before the input.\n So, what you end up with is:</p>\n\n<pre><code>System.out.println(\"Adjust Invoices\");\nSystem.out.println(\"Would like to Pay an invoice or Add an invoice to your account?\");\n\nint invoice;\ndo\n{\n    System.out.println(\"Press '1' to Pay and '2' to Add\");\n    invoice = choice.nextInt();\n    if (invoice == 1)\n    {\n        System.out.println(\"one\");\n        break;\n    }\n    if (invoice == 2)\n    {\n        System.out.println(\"two\");\n        break;\n    }\n} while (true);\n</code></pre>\n"}],"owner":{"account_id":14876604,"reputation":31,"user_id":10742460,"display_name":"john wilson"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2360,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":53608916,"answer_count":3,"score":1,"last_activity_date":1673548631,"creation_date":1543905142,"question_id":53606947,"body_markdown":"I have the following code which is resulting in an infinite loop:\r\n\r\n    System.out.println(&quot;Adjust Invoices&quot;);\r\n    System.out.println(&quot;Would like to Pay an invoice or Add an invoice to your account?&quot;);\r\n    System.out.println(&quot;Press &#39;1&#39; to Pay and &#39;2&#39; to Add&quot;);\r\n    \r\n    int invoice = choice.nextInt();\r\n    do\r\n    {\r\n        if (invoice == 1)\r\n        {\r\n            System.out.println(&quot;one&quot;);\r\n        }\r\n        if (invoice == 2)\r\n        {\r\n            System.out.println(&quot;two&quot;);\r\n        }\r\n        else\r\n        {\r\n            System.out.println(&quot;Press &#39;1&#39; to Pay and &#39;2&#39; to Add&quot;);\r\n        }\r\n    } while (invoice &gt;= 3 || invoice &lt;= 0);\r\n\r\nHow can I stop this being an infinite loop when I enter something other than &#39;1&#39; or &#39;2&#39;?","title":"How do I stop a do...while loop from being infinite","body":"<p>I have the following code which is resulting in an infinite loop:</p>\n<pre><code>System.out.println(&quot;Adjust Invoices&quot;);\nSystem.out.println(&quot;Would like to Pay an invoice or Add an invoice to your account?&quot;);\nSystem.out.println(&quot;Press '1' to Pay and '2' to Add&quot;);\n\nint invoice = choice.nextInt();\ndo\n{\n    if (invoice == 1)\n    {\n        System.out.println(&quot;one&quot;);\n    }\n    if (invoice == 2)\n    {\n        System.out.println(&quot;two&quot;);\n    }\n    else\n    {\n        System.out.println(&quot;Press '1' to Pay and '2' to Add&quot;);\n    }\n} while (invoice &gt;= 3 || invoice &lt;= 0);\n</code></pre>\n<p>How can I stop this being an infinite loop when I enter something other than '1' or '2'?</p>\n"},{"tags":["java","sql","apache-calcite"],"owner":{"account_id":83462,"reputation":366,"user_id":233995,"accept_rate":67,"display_name":"Spanners"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673548399,"creation_date":1673547104,"question_id":75100637,"body_markdown":"I&#39;m trying to create a SqlBasicCall that casts the output from a UDF to VARCHAR(50). The UDF is a representation of the Oracle STANDARD_HASH function and the last step I would like to do is CAST the result to VARCHAR.\r\n\r\nSo to explain further, I have some SQL:\r\n```sql\r\nSELECT REGION_NAME FROM REGIONS \r\n```\r\n\r\nI am writing some code that will create a HASH of the column. Therefore the outcome should be\r\n\r\n```sql\r\nSELECT CAST(STANDARD_HASH(REGION_NAME)AS VARCHAR(50)) FROM REGIONS\r\n```\r\n\r\nThe code I have so far:\r\n\r\n```java\r\n//create Hash function\r\nSqlNode[] HashFunctionOperandList = new SqlNode[1];\r\nHashFunctionOperandList[0] = new SqlIdentifier(&quot;REGION_NAME&quot;,SqlParserPos.ZERO);\r\nSqlBasicCall innerFunc = new SqlBasicCall(ORACLE_HASH, HashFunctionOperandList, SqlParserPos.ZERO);\r\n\r\n//Create the Cast function\r\nSqlNode[] functionOperandList = new SqlNode[2];\r\nfunctionOperandList[0] = innerFunc;\r\nfunctionOperandList[1] = new SqlBasicTypeNameSpec(SqlTypeName.VARCHAR, SqlParserPos.ZERO).getTypeName();\r\n                \r\ncompliantFunction = new SqlBasicCall(new SqlCastFunction(), functionOperandList, SqlParserPos.ZERO);\r\n```\r\n\r\nORACLE_HASH is defined as a UDF elsewhere:\r\n```java\r\npublic static SqlFunction ORACLE_HASH = new SqlFunction(&quot;STANDARD_HASH&quot;, SqlKind.OTHER_FUNCTION, ReturnTypes.VARCHAR_2000, null, OperandTypes.ANY, SqlFunctionCategory.USER_DEFINED_FUNCTION);\r\n``` \r\n\r\nThe current output is:\r\n\r\n```sql\r\nSELECT CAST(STANDARD_HASH(&quot;REGION_NAME&quot;) AS &quot;VARCHAR&quot;) &quot;REGION_NAME&quot; FROM &quot;REGIONS&quot; \r\n```\r\n\r\nWhere what I need it to be is:\r\n\r\n```sql\r\nSELECT CAST(STANDARD_HASH(&quot;REGION_NAME&quot;) AS VARCHAR(50)) &quot;REGION_NAME&quot; FROM &quot;REGIONS&quot;\r\n```\r\n\r\nI believe my **SqlBasicTypeNameSpec** line is wrong (I&#39;m sure it is), but I have no idea how to create a SqlIdentifer that gives me VARCHAR(50) and without the quotes.  I am sure I have fundamentally misunderstood something so thought I would ask the crowd.\r\n\r\n","title":"Cast to VARCHAR with precision","body":"<p>I'm trying to create a SqlBasicCall that casts the output from a UDF to VARCHAR(50). The UDF is a representation of the Oracle STANDARD_HASH function and the last step I would like to do is CAST the result to VARCHAR.</p>\n<p>So to explain further, I have some SQL:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT REGION_NAME FROM REGIONS \n</code></pre>\n<p>I am writing some code that will create a HASH of the column. Therefore the outcome should be</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT CAST(STANDARD_HASH(REGION_NAME)AS VARCHAR(50)) FROM REGIONS\n</code></pre>\n<p>The code I have so far:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//create Hash function\nSqlNode[] HashFunctionOperandList = new SqlNode[1];\nHashFunctionOperandList[0] = new SqlIdentifier(&quot;REGION_NAME&quot;,SqlParserPos.ZERO);\nSqlBasicCall innerFunc = new SqlBasicCall(ORACLE_HASH, HashFunctionOperandList, SqlParserPos.ZERO);\n\n//Create the Cast function\nSqlNode[] functionOperandList = new SqlNode[2];\nfunctionOperandList[0] = innerFunc;\nfunctionOperandList[1] = new SqlBasicTypeNameSpec(SqlTypeName.VARCHAR, SqlParserPos.ZERO).getTypeName();\n                \ncompliantFunction = new SqlBasicCall(new SqlCastFunction(), functionOperandList, SqlParserPos.ZERO);\n</code></pre>\n<p>ORACLE_HASH is defined as a UDF elsewhere:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static SqlFunction ORACLE_HASH = new SqlFunction(&quot;STANDARD_HASH&quot;, SqlKind.OTHER_FUNCTION, ReturnTypes.VARCHAR_2000, null, OperandTypes.ANY, SqlFunctionCategory.USER_DEFINED_FUNCTION);\n</code></pre>\n<p>The current output is:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT CAST(STANDARD_HASH(&quot;REGION_NAME&quot;) AS &quot;VARCHAR&quot;) &quot;REGION_NAME&quot; FROM &quot;REGIONS&quot; \n</code></pre>\n<p>Where what I need it to be is:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT CAST(STANDARD_HASH(&quot;REGION_NAME&quot;) AS VARCHAR(50)) &quot;REGION_NAME&quot; FROM &quot;REGIONS&quot;\n</code></pre>\n<p>I believe my <strong>SqlBasicTypeNameSpec</strong> line is wrong (I'm sure it is), but I have no idea how to create a SqlIdentifer that gives me VARCHAR(50) and without the quotes.  I am sure I have fundamentally misunderstood something so thought I would ask the crowd.</p>\n"},{"tags":["java","appium-android","appium-ios","appium-java"],"answers":[{"tags":[],"owner":{"account_id":27264513,"reputation":354,"user_id":20786794,"display_name":"Omprakash Chavan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673545227,"creation_date":1673545227,"answer_id":75100307,"question_id":75099767,"body_markdown":"@AndroidFindBy and @iOSXCUITFindBy","title":"Alternatives to Appium Java @IOSFindBy","body":"<p>@AndroidFindBy and @iOSXCUITFindBy</p>\n"}],"owner":{"account_id":17048003,"reputation":358,"user_id":12334353,"display_name":"cdub"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75100307,"answer_count":1,"score":0,"last_activity_date":1673548098,"creation_date":1673542529,"question_id":75099767,"body_markdown":"Is there a way to find elements across both operating systems without creating two separate suites now that @IOSFindBy has been deprecated?","title":"Alternatives to Appium Java @IOSFindBy","body":"<p>Is there a way to find elements across both operating systems without creating two separate suites now that @IOSFindBy has been deprecated?</p>\n"},{"tags":["java","spring","kotlin","exception","controller-advice"],"comments":[{"owner":{"account_id":5644665,"reputation":35951,"user_id":4467208,"accept_rate":51,"display_name":"Murat Karag&#246;z"},"score":0,"creation_date":1673535617,"post_id":75098242,"comment_id":132525257,"body_markdown":"Does this answer your question? [Spring Boot and custom 404 error page](https://stackoverflow.com/questions/37398385/spring-boot-and-custom-404-error-page)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/37398385/spring-boot-and-custom-404-error-page\">Spring Boot and custom 404 error page</a>"},{"owner":{"account_id":5644665,"reputation":35951,"user_id":4467208,"accept_rate":51,"display_name":"Murat Karag&#246;z"},"score":0,"creation_date":1673535674,"post_id":75098242,"comment_id":132525289,"body_markdown":"https://www.baeldung.com/spring-boot-custom-error-page","body":"<a href=\"https://www.baeldung.com/spring-boot-custom-error-page\" rel=\"nofollow noreferrer\">baeldung.com/spring-boot-custom-error-page</a>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673536366,"post_id":75098242,"comment_id":132525584,"body_markdown":"Have you tried `@ControllerAdvice` as this doesn&#39;t really match an `@RestController` but anything. You would also need an exception handler for a `NoHandlerFoundException`","body":"Have you tried <code>@ControllerAdvice</code> as this doesn&#39;t really match an <code>@RestController</code> but anything. You would also need an exception handler for a <code>NoHandlerFoundException</code>"},{"owner":{"account_id":3931383,"reputation":1862,"user_id":4012392,"accept_rate":58,"display_name":"hc0re"},"score":0,"creation_date":1673536785,"post_id":75098242,"comment_id":132525771,"body_markdown":"@MuratKarag&#246;z I&#39;ve seen this question, no, this doesn&#39;t help me, sadly.","body":"@MuratKarag&#246;z I&#39;ve seen this question, no, this doesn&#39;t help me, sadly."},{"owner":{"account_id":3931383,"reputation":1862,"user_id":4012392,"accept_rate":58,"display_name":"hc0re"},"score":0,"creation_date":1673536830,"post_id":75098242,"comment_id":132525792,"body_markdown":"@M.Deinum changing from RestControllerAdvice to ControllerAdvice doesn&#39;t help","body":"@M.Deinum changing from RestControllerAdvice to ControllerAdvice doesn&#39;t help"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673537412,"post_id":75098242,"comment_id":132526036,"body_markdown":"As mentioned you need one for `NoHandlerFoundException` and set `spring.mvc.throw-exception-if-no-handler-found` to `true` else the `DispatcherServlet` will handle it itself.","body":"As mentioned you need one for <code>NoHandlerFoundException</code> and set <code>spring.mvc.throw-exception-if-no-handler-found</code> to <code>true</code> else the <code>DispatcherServlet</code> will handle it itself."},{"owner":{"account_id":3931383,"reputation":1862,"user_id":4012392,"accept_rate":58,"display_name":"hc0re"},"score":0,"creation_date":1673537803,"post_id":75098242,"comment_id":132526160,"body_markdown":"@M.Deinum I have set pring.mvc.throw-exception-if-no-handler-found to true, the logs look fine, but I still receive the whitelabel error page instead of a custom JSON...","body":"@M.Deinum I have set pring.mvc.throw-exception-if-no-handler-found to true, the logs look fine, but I still receive the whitelabel error page instead of a custom JSON..."}],"answers":[{"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673547584,"creation_date":1673547584,"answer_id":75100721,"question_id":75098242,"body_markdown":"`spring.mvc.throw-exception-if-no-handler-found` works in conjunction with\r\n`spring.mvc.static-path-pattern`.  By default, the static path pattern is /**, which includes the whitelabel error pages that you&#39;re seeing.\r\n\r\nSee https://github.com/spring-projects/spring-boot/pull/31660\r\nand https://gitter.im/spring-projects/spring-boot?at=62ba1378568c2c30d30790af\r\nand https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#web.servlet.spring-mvc.static-content\r\n\r\nOption one is to set these two properties in your configuration.\r\n\r\n    spring:\r\n      mvc:\r\n        throw-exception-if-no-handler-found: true\r\n        static-path-pattern: /static\r\n\r\nOption 2 is to add `@EnableWebMvc` to your spring boot application, and set the `spring.mvc.throw-exception-if-no-handler-found` property to true.  By adding `EnableWebMvc` you&#39;ll be getting the `WebMvcConfigurationSupport` bean, which will cause Spring not to initialize the `WebMvcAutoConfiguration` and thereby not set the static-path-pattern.\r\n\r\n\r\n","title":"How to handle 404 exceptions using @ControllerAdvice and @ExceptionHandler?","body":"<p><code>spring.mvc.throw-exception-if-no-handler-found</code> works in conjunction with\n<code>spring.mvc.static-path-pattern</code>.  By default, the static path pattern is /**, which includes the whitelabel error pages that you're seeing.</p>\n<p>See <a href=\"https://github.com/spring-projects/spring-boot/pull/31660\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/pull/31660</a>\nand <a href=\"https://gitter.im/spring-projects/spring-boot?at=62ba1378568c2c30d30790af\" rel=\"nofollow noreferrer\">https://gitter.im/spring-projects/spring-boot?at=62ba1378568c2c30d30790af</a>\nand <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#web.servlet.spring-mvc.static-content\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#web.servlet.spring-mvc.static-content</a></p>\n<p>Option one is to set these two properties in your configuration.</p>\n<pre><code>spring:\n  mvc:\n    throw-exception-if-no-handler-found: true\n    static-path-pattern: /static\n</code></pre>\n<p>Option 2 is to add <code>@EnableWebMvc</code> to your spring boot application, and set the <code>spring.mvc.throw-exception-if-no-handler-found</code> property to true.  By adding <code>EnableWebMvc</code> you'll be getting the <code>WebMvcConfigurationSupport</code> bean, which will cause Spring not to initialize the <code>WebMvcAutoConfiguration</code> and thereby not set the static-path-pattern.</p>\n"}],"owner":{"account_id":3931383,"reputation":1862,"user_id":4012392,"accept_rate":58,"display_name":"hc0re"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":446,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1673547584,"creation_date":1673535394,"question_id":75098242,"body_markdown":"I have a problem with Spring&#39;s exception handling for controllers. I have a class annotated with `@RestControllerAdvice` with a couple of `@ExceptionHandler`&#39;s, like this:\r\n\r\n    @ExceptionHandler(HttpRequestMethodNotSupportedException::class)\r\n    fun methodNotSupportedException(\r\n        exception: HttpRequestMethodNotSupportedException,\r\n        request: HttpServletRequest\r\n    ): ResponseEntity&lt;ApiError&gt; {\r\n        logger().error(&quot;Method not supported: {}&quot;, exception.message)\r\n        val methodNotAllowed = HttpStatus.METHOD_NOT_ALLOWED\r\n        val apiError = logAndBuildApiError(request, methodNotAllowed, exception)\r\n        return ResponseEntity(apiError, methodNotAllowed)\r\n    }\r\n\r\nand they work perfectly fine. In this case, when I&#39;m trying to use an non-implemented HTTP method like POST:\r\n\r\n    {\r\n    \t&quot;requestUri&quot;: &quot;/api/v1/items&quot;,\r\n    \t&quot;status&quot;: 405,\r\n    \t&quot;statusText&quot;: &quot;Method Not Allowed&quot;,\r\n    \t&quot;createdAt&quot;: &quot;2023-01-12T16:50:36.55422+02:00&quot;,\r\n    \t&quot;errorMessage&quot;: &quot;Request method &#39;POST&#39; not supported&quot;\r\n    }\r\n\r\nWhat I would like to achieve is to handle situations when someone is trying to reach an non-existing endpoint, i.e. the correct one is `GET http://localhost:8080/api/v1/items`. \r\n\r\nBut when I&#39;m trying to reach `http://localhost:8080/api/v1/itemss`, which is of course nonexistent, I recieve a regular Spring whitelabel error page, but I would like to receive a JSON like in the former example:\r\n\r\n    {\r\n    \t&quot;requestUri&quot;: &quot;/api/v1/itemss&quot;,\r\n    \t&quot;status&quot;: 404,\r\n    \t&quot;statusText&quot;: &quot;Not Found&quot;,\r\n    \t&quot;createdAt&quot;: &quot;2023-01-12T16:52:06.932108+02:00&quot;,\r\n    \t&quot;errorMessage&quot;: &quot;Some error message&quot;\r\n    }\r\n\r\nHow do I implement a `@ExceptionHandler` so it could handle exceptions related to non-existing resources?","title":"How to handle 404 exceptions using @ControllerAdvice and @ExceptionHandler?","body":"<p>I have a problem with Spring's exception handling for controllers. I have a class annotated with <code>@RestControllerAdvice</code> with a couple of <code>@ExceptionHandler</code>'s, like this:</p>\n<pre><code>@ExceptionHandler(HttpRequestMethodNotSupportedException::class)\nfun methodNotSupportedException(\n    exception: HttpRequestMethodNotSupportedException,\n    request: HttpServletRequest\n): ResponseEntity&lt;ApiError&gt; {\n    logger().error(&quot;Method not supported: {}&quot;, exception.message)\n    val methodNotAllowed = HttpStatus.METHOD_NOT_ALLOWED\n    val apiError = logAndBuildApiError(request, methodNotAllowed, exception)\n    return ResponseEntity(apiError, methodNotAllowed)\n}\n</code></pre>\n<p>and they work perfectly fine. In this case, when I'm trying to use an non-implemented HTTP method like POST:</p>\n<pre><code>{\n    &quot;requestUri&quot;: &quot;/api/v1/items&quot;,\n    &quot;status&quot;: 405,\n    &quot;statusText&quot;: &quot;Method Not Allowed&quot;,\n    &quot;createdAt&quot;: &quot;2023-01-12T16:50:36.55422+02:00&quot;,\n    &quot;errorMessage&quot;: &quot;Request method 'POST' not supported&quot;\n}\n</code></pre>\n<p>What I would like to achieve is to handle situations when someone is trying to reach an non-existing endpoint, i.e. the correct one is <code>GET http://localhost:8080/api/v1/items</code>.</p>\n<p>But when I'm trying to reach <code>http://localhost:8080/api/v1/itemss</code>, which is of course nonexistent, I recieve a regular Spring whitelabel error page, but I would like to receive a JSON like in the former example:</p>\n<pre><code>{\n    &quot;requestUri&quot;: &quot;/api/v1/itemss&quot;,\n    &quot;status&quot;: 404,\n    &quot;statusText&quot;: &quot;Not Found&quot;,\n    &quot;createdAt&quot;: &quot;2023-01-12T16:52:06.932108+02:00&quot;,\n    &quot;errorMessage&quot;: &quot;Some error message&quot;\n}\n</code></pre>\n<p>How do I implement a <code>@ExceptionHandler</code> so it could handle exceptions related to non-existing resources?</p>\n"},{"tags":["java","maven","devops","pom.xml","sonatype"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1673548219,"post_id":75100718,"comment_id":132529806,"body_markdown":"If there are internal dependencies which are not published into public means those dependencies can not being used without the internal ones. You could define them as scope:provided","body":"If there are internal dependencies which are not published into public means those dependencies can not being used without the internal ones. You could define them as scope:provided"},{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1673556956,"post_id":75100718,"comment_id":132532404,"body_markdown":"Don&#39;t publish it publicly if it depends on private stuff. What&#39;s the purpose?","body":"Don&#39;t publish it publicly if it depends on private stuff. What&#39;s the purpose?"},{"owner":{"account_id":20176530,"reputation":11,"user_id":14798049,"display_name":"Aram Hernandez"},"score":0,"creation_date":1673559987,"post_id":75100718,"comment_id":132533212,"body_markdown":"@Ga&#235;lJ to have our libraries available from maven central for clients to consume","body":"@Ga&#235;lJ to have our libraries available from maven central for clients to consume"},{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1673597139,"post_id":75100718,"comment_id":132539176,"body_markdown":"But if your library has a hard dependency on your private stuff. How will the clients consume the private stuff?","body":"But if your library has a hard dependency on your private stuff. How will the clients consume the private stuff?"}],"owner":{"account_id":20176530,"reputation":11,"user_id":14798049,"display_name":"Aram Hernandez"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673547575,"creation_date":1673547575,"question_id":75100718,"body_markdown":"So I&#39;m currently working in publishing a java library to the maven central repository using sonatype, The thing is that my core library (the one I&#39;m trying to push) has some internal dependencies which I&#39;m not sure how to add to the deployment process. \r\ni.e\r\n       ` &lt;dependency&gt;\r\n            &lt;groupId&gt;com.internal.dep&lt;/groupId&gt;\r\n            &lt;artifactId&gt;messages-dep&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.internal.dep&lt;/groupId&gt;\r\n            &lt;artifactId&gt;messages-api-dep&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.internal.dep&lt;/groupId&gt;\r\n            &lt;artifactId&gt;messages-control-dep&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n       etc...`\r\n\r\n\r\nMy current thought is to upload them as separate libraries to the repository and then make dependencies for that. However I&#39;m not sure how good is that approach. \r\n\r\nAlso I need to generate a release pom including the dependencies cause the one we currently use for internal deployment includes unnecessary and probably sensitive information.","title":"Dealing with internal dependencies when publishing to central repository (maven central) and generating release pom.xml","body":"<p>So I'm currently working in publishing a java library to the maven central repository using sonatype, The thing is that my core library (the one I'm trying to push) has some internal dependencies which I'm not sure how to add to the deployment process.\ni.e\n` \ncom.internal.dep\nmessages-dep\n</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.internal.dep&lt;/groupId&gt;\n        &lt;artifactId&gt;messages-api-dep&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.internal.dep&lt;/groupId&gt;\n        &lt;artifactId&gt;messages-control-dep&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    \n   etc...`\n</code></pre>\n<p>My current thought is to upload them as separate libraries to the repository and then make dependencies for that. However I'm not sure how good is that approach.</p>\n<p>Also I need to generate a release pom including the dependencies cause the one we currently use for internal deployment includes unnecessary and probably sensitive information.</p>\n"},{"tags":["java","unit-testing","reflection","dto","mapstruct"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1673457136,"post_id":75085972,"comment_id":132505261,"body_markdown":"If you want tests to fail if you&#39;re missing mappings or have extra fields, you can instruct MapStruct to fail at compile time if that occurs. You can do so by setting both `unmappedSourcePolicy` and `unmappedTargetPolicy` of the `@Mapper` annotation to `ERROR`. I advise to also set `typeConversionPolicy` to `ERROR`. It&#39;s not exactly what you asked for, but I myself prefer errors sooner (compile time) than later (test time).","body":"If you want tests to fail if you&#39;re missing mappings or have extra fields, you can instruct MapStruct to fail at compile time if that occurs. You can do so by setting both <code>unmappedSourcePolicy</code> and <code>unmappedTargetPolicy</code> of the <code>@Mapper</code> annotation to <code>ERROR</code>. I advise to also set <code>typeConversionPolicy</code> to <code>ERROR</code>. It&#39;s not exactly what you asked for, but I myself prefer errors sooner (compile time) than later (test time)."},{"owner":{"account_id":17875756,"reputation":106,"user_id":12985876,"display_name":"Taras"},"score":0,"creation_date":1673457362,"post_id":75085972,"comment_id":132505319,"body_markdown":"@RobSpoor Thanks for the good advice. But my task is to write a test, and not change the logic of the production version of the application.","body":"@RobSpoor Thanks for the good advice. But my task is to write a test, and not change the logic of the production version of the application."},{"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"score":0,"creation_date":1673506043,"post_id":75085972,"comment_id":132515445,"body_markdown":"Apache commons is full of library to introspect classes (and superclass) and extract properties with any modifier. \nJust extract all properties from source/dest dto, separate missing properties from source/dest and for every commons properties which is a dto (or a target type), apply the same process recursively.\n`MapStruct` is used to map dto, not to describe structure differences","body":"Apache commons is full of library to introspect classes (and superclass) and extract properties with any modifier.  Just extract all properties from source/dest dto, separate missing properties from source/dest and for every commons properties which is a dto (or a target type), apply the same process recursively. <code>MapStruct</code> is used to map dto, not to describe structure differences"}],"answers":[{"tags":[],"owner":{"account_id":23191137,"reputation":1266,"user_id":17287498,"display_name":"Ben Zegveld"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673547529,"creation_date":1673547529,"answer_id":75100709,"question_id":75085972,"body_markdown":"Mapstruct itself cannot do this, because it runs compile time. However you can use the generated code to check this if you have completely filled objects.\r\n\r\nSimply map a completely filled dto to an entity, and then back to the dto object. Now compare the resulting dto with your original dto and you can figure out which fields are not the same anymore.\r\n\r\nRepeat this for a completely filled entity by mapping it to a dto and back to entity and you&#39;ve got the entity class covered.\r\n\r\nIn code it looks something like this:\r\n```\r\n@Test\r\nvoid dtoFieldTest() {\r\n    TestDto original = createFilledTestDto();\r\n    TestMapper testMapper = TestMapper.INSTANCE;\r\n    \r\n    TestDto result = testMapper.mapEntityToDto(testMapper.mapDtoToEntity(original));\r\n\r\n    // assertj assertions\r\n    assertThat(result).isEqualTo(original);\r\n    // or if you cannot use the dto equals method.\r\n    assertThat(result).usingRecursiveComparison().isEqualTo(original);\r\n}","title":"I wan&#39;t to create unit test that handle an exeption when dto fields != entity fields","body":"<p>Mapstruct itself cannot do this, because it runs compile time. However you can use the generated code to check this if you have completely filled objects.</p>\n<p>Simply map a completely filled dto to an entity, and then back to the dto object. Now compare the resulting dto with your original dto and you can figure out which fields are not the same anymore.</p>\n<p>Repeat this for a completely filled entity by mapping it to a dto and back to entity and you've got the entity class covered.</p>\n<p>In code it looks something like this:</p>\n<pre><code>@Test\nvoid dtoFieldTest() {\n    TestDto original = createFilledTestDto();\n    TestMapper testMapper = TestMapper.INSTANCE;\n    \n    TestDto result = testMapper.mapEntityToDto(testMapper.mapDtoToEntity(original));\n\n    // assertj assertions\n    assertThat(result).isEqualTo(original);\n    // or if you cannot use the dto equals method.\n    assertThat(result).usingRecursiveComparison().isEqualTo(original);\n}\n</code></pre>\n"}],"owner":{"account_id":17875756,"reputation":106,"user_id":12985876,"display_name":"Taras"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673547529,"creation_date":1673453493,"question_id":75085972,"body_markdown":"I want to create unit test that handle an exception when dto fields != entity fields. And print missing and extra fields. Is it possible to make it with MapStruct?\r\n\r\nSimple example without annotations and boilerplate code.\r\nI have\r\n\r\n    public class TestDto {\r\n      long id;\r\n      String name;\r\n      int age;\r\n      long customerId;\r\n      String phone;\r\n    }\r\n\r\nAnd Entity\r\n\r\n    public class TestEntity {\r\n      long id;\r\n      String name;\r\n      int age;\r\n      Customer customer;\r\n      String address;\r\n    }\r\n\r\n    @Mapping(source = &quot;person.id&quot;, target = &quot;personId&quot;) // in my Mapper class\r\n    TestDto toDto(Test entity);\r\n\r\noutput: Missing fields for dto. Please add!: address;\r\nExtra fields for dto. Please remove! : phone;\r\n\r\nI tried to use reflection and it didn&#39;t work. [https://stackoverflow.com/questions/75082277/how-to-find-all-missing-and-extra-fields-in-dto-by-their-entity-using-reflec?noredirect=1#comment132500771_75082277][1]\r\n\r\nI&#39;d love to hear any ideas on how to do this.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/75082277/how-to-find-all-missing-and-extra-fields-in-dto-by-their-entity-using-reflec","title":"I wan&#39;t to create unit test that handle an exeption when dto fields != entity fields","body":"<p>I want to create unit test that handle an exception when dto fields != entity fields. And print missing and extra fields. Is it possible to make it with MapStruct?</p>\n<p>Simple example without annotations and boilerplate code.\nI have</p>\n<pre><code>public class TestDto {\n  long id;\n  String name;\n  int age;\n  long customerId;\n  String phone;\n}\n</code></pre>\n<p>And Entity</p>\n<pre><code>public class TestEntity {\n  long id;\n  String name;\n  int age;\n  Customer customer;\n  String address;\n}\n\n@Mapping(source = &quot;person.id&quot;, target = &quot;personId&quot;) // in my Mapper class\nTestDto toDto(Test entity);\n</code></pre>\n<p>output: Missing fields for dto. Please add!: address;\nExtra fields for dto. Please remove! : phone;</p>\n<p>I tried to use reflection and it didn't work. <a href=\"https://stackoverflow.com/questions/75082277/how-to-find-all-missing-and-extra-fields-in-dto-by-their-entity-using-reflec\">https://stackoverflow.com/questions/75082277/how-to-find-all-missing-and-extra-fields-in-dto-by-their-entity-using-reflec?noredirect=1#comment132500771_75082277</a></p>\n<p>I'd love to hear any ideas on how to do this.</p>\n"},{"tags":["java","kotlin","github","ssh-keys","jgit"],"owner":{"account_id":7222722,"reputation":15,"user_id":5512550,"display_name":"7.."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1673938873,"answer_count":0,"score":0,"last_activity_date":1673547313,"creation_date":1673547313,"question_id":75100674,"body_markdown":"I&#39;m getting an Auth fail exception when attempting to clone a git repository with jgit written in Kotlin. \r\n\r\nHaving created a public and private key with \r\n\r\n    ssh-keygen -t rsa -m PEM\r\n\r\nthis is to ensure the keys are generated using rsa and not openssh which is not supported by jgit.\r\nThe 2 keys are then saved to my machine under /Users/Me/.ssh\r\n\r\n\r\n----------\r\n\r\n\r\nThe public key has been added to the GitHub repository I want to clone in the Deploy Keys section and I&#39;ve removed the user and hostname from the public key according to something I read here -&gt; https://ngdeveloper.com/how-to-clone-git-using-ssh-in-java/ (image -&gt; https://i0.wp.com/ngdeveloper.com/wp-content/uploads/2021/06/image-4.png?ssl=1)\r\n\r\n\r\n----------\r\n\r\n\r\nThe code that then does the cloning of the GitHub repository has been written in a Kotlin App but I followed instructions from an article on dzone for &#39;Accessing Git Repos With Java Using SSH Keys&#39; &lt;https://dzone.com/articles/accessing-git-repos-with-java-using-ssh-keys&gt; and converted this to kotlin.\r\n\r\nI&#39;ve got a service with the following code:\r\n```\r\nfun backup() {\r\n        // Clone the repo\r\n        val workingDir: File = Files.createTempDirectory(&quot;workspace&quot;).toFile()\r\n\r\n        val transportConfigCallback: TransportConfigCallback = SshTransportConfigCallback()\r\n\r\n        var git = Git.cloneRepository()\r\n            .setDirectory(workingDir)\r\n            .setTransportConfigCallback(transportConfigCallback)\r\n            .setURI(gitUrl) // ssh://github.blah.io/Domain/project-name.git\r\n            .call()\r\n    }\r\n```\r\nand another class (SshTransportConfigCallback) that overrides the configuration\r\n```\r\nopen class SshTransportConfigCallback : TransportConfigCallback {\r\n\r\n    private val sshSessionFactory: SshSessionFactory = object : JschConfigSessionFactory() {\r\n        override fun configure(hc: OpenSshConfig.Host?, session: Session) {\r\n            session.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;)\r\n        }\r\n\r\n        @Throws(JSchException::class)\r\n        override fun createDefaultJSch(fs: FS?): JSch {\r\n            val jSch: JSch = super.createDefaultJSch(fs)\r\n            jSch.removeAllIdentity()\r\n            jSch.addIdentity(&quot;/path/to/private/key/file/in/this/app&quot;) // not the file located under ~/.ssh but copied and pasted in the Kotlin app\r\n\r\n            return jSch\r\n        }\r\n\r\n    }\r\n\r\n    override fun configure(transport: Transport) {\r\n        val sshTransport: SshTransport = transport as SshTransport\r\n        sshTransport.sshSessionFactory = sshSessionFactory\r\n    }\r\n}\r\n```\r\n\r\nThe build.gradle implementations for adding jgit are as follows:\r\n```\r\nimplementation(&quot;org.eclipse.jgit:org.eclipse.jgit:6.4.0.202211300538-r&quot;)\r\nimplementation(&quot;org.eclipse.jgit:org.eclipse.jgit.ssh.jsch:6.4.0.202211300538-r&quot;)\r\n```\r\n\r\n\r\n----------\r\nDebugging the code and what I find is that when a session is being created jgit is looking on my local machine for the config in `~/.ssh/config` but I don&#39;t have such a file.\r\n\r\nWhen the public and private keys were generated with\r\n\r\n    ssh-keygen -t rsa -m PEM\r\nthey were saved in `~/.ssh` under the Users folder on my laptop and then I ran\r\n\r\n    ssh-add git-ssh\r\nalso according to https://ngdeveloper.com/how-to-clone-git-using-ssh-in-java/\r\n\r\nGiven the config in `SshTransportConfigCallback`, I thought that the private key that I have copied from `~/.ssh` and into my app adding it as an identity when overriding the defaultJSch behaviour this meant jgit would use this and not look in a config file on my local machines (`~/.ssh`)?\r\n\r\nI&#39;m thinking that I&#39;m missing some config somewhere to tell jgit not to do this? \r\n\r\nIf I change the filename of the private key in SshTransportConfigCallback (to test that the code is being hit) I do get an exception saying the file wasn&#39;t found so the private key it contains is being read and used somewhere but maybe not being used to initiate the session with GitHub?\r\n\r\nWould appreciate any suggestions! Thank you","title":"Getting a com.jcraft.jsch.JSchException: Auth fail over ssh despite adding a jSch identity","body":"<p>I'm getting an Auth fail exception when attempting to clone a git repository with jgit written in Kotlin.</p>\n<p>Having created a public and private key with</p>\n<pre><code>ssh-keygen -t rsa -m PEM\n</code></pre>\n<p>this is to ensure the keys are generated using rsa and not openssh which is not supported by jgit.\nThe 2 keys are then saved to my machine under /Users/Me/.ssh</p>\n<hr />\n<p>The public key has been added to the GitHub repository I want to clone in the Deploy Keys section and I've removed the user and hostname from the public key according to something I read here -&gt; <a href=\"https://ngdeveloper.com/how-to-clone-git-using-ssh-in-java/\" rel=\"nofollow noreferrer\">https://ngdeveloper.com/how-to-clone-git-using-ssh-in-java/</a> (image -&gt; <a href=\"https://i0.wp.com/ngdeveloper.com/wp-content/uploads/2021/06/image-4.png?ssl=1\" rel=\"nofollow noreferrer\">https://i0.wp.com/ngdeveloper.com/wp-content/uploads/2021/06/image-4.png?ssl=1</a>)</p>\n<hr />\n<p>The code that then does the cloning of the GitHub repository has been written in a Kotlin App but I followed instructions from an article on dzone for 'Accessing Git Repos With Java Using SSH Keys' <a href=\"https://dzone.com/articles/accessing-git-repos-with-java-using-ssh-keys\" rel=\"nofollow noreferrer\">https://dzone.com/articles/accessing-git-repos-with-java-using-ssh-keys</a> and converted this to kotlin.</p>\n<p>I've got a service with the following code:</p>\n<pre><code>fun backup() {\n        // Clone the repo\n        val workingDir: File = Files.createTempDirectory(&quot;workspace&quot;).toFile()\n\n        val transportConfigCallback: TransportConfigCallback = SshTransportConfigCallback()\n\n        var git = Git.cloneRepository()\n            .setDirectory(workingDir)\n            .setTransportConfigCallback(transportConfigCallback)\n            .setURI(gitUrl) // ssh://github.blah.io/Domain/project-name.git\n            .call()\n    }\n</code></pre>\n<p>and another class (SshTransportConfigCallback) that overrides the configuration</p>\n<pre><code>open class SshTransportConfigCallback : TransportConfigCallback {\n\n    private val sshSessionFactory: SshSessionFactory = object : JschConfigSessionFactory() {\n        override fun configure(hc: OpenSshConfig.Host?, session: Session) {\n            session.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;)\n        }\n\n        @Throws(JSchException::class)\n        override fun createDefaultJSch(fs: FS?): JSch {\n            val jSch: JSch = super.createDefaultJSch(fs)\n            jSch.removeAllIdentity()\n            jSch.addIdentity(&quot;/path/to/private/key/file/in/this/app&quot;) // not the file located under ~/.ssh but copied and pasted in the Kotlin app\n\n            return jSch\n        }\n\n    }\n\n    override fun configure(transport: Transport) {\n        val sshTransport: SshTransport = transport as SshTransport\n        sshTransport.sshSessionFactory = sshSessionFactory\n    }\n}\n</code></pre>\n<p>The build.gradle implementations for adding jgit are as follows:</p>\n<pre><code>implementation(&quot;org.eclipse.jgit:org.eclipse.jgit:6.4.0.202211300538-r&quot;)\nimplementation(&quot;org.eclipse.jgit:org.eclipse.jgit.ssh.jsch:6.4.0.202211300538-r&quot;)\n</code></pre>\n<hr />\n<p>Debugging the code and what I find is that when a session is being created jgit is looking on my local machine for the config in <code>~/.ssh/config</code> but I don't have such a file.</p>\n<p>When the public and private keys were generated with</p>\n<pre><code>ssh-keygen -t rsa -m PEM\n</code></pre>\n<p>they were saved in <code>~/.ssh</code> under the Users folder on my laptop and then I ran</p>\n<pre><code>ssh-add git-ssh\n</code></pre>\n<p>also according to <a href=\"https://ngdeveloper.com/how-to-clone-git-using-ssh-in-java/\" rel=\"nofollow noreferrer\">https://ngdeveloper.com/how-to-clone-git-using-ssh-in-java/</a></p>\n<p>Given the config in <code>SshTransportConfigCallback</code>, I thought that the private key that I have copied from <code>~/.ssh</code> and into my app adding it as an identity when overriding the defaultJSch behaviour this meant jgit would use this and not look in a config file on my local machines (<code>~/.ssh</code>)?</p>\n<p>I'm thinking that I'm missing some config somewhere to tell jgit not to do this?</p>\n<p>If I change the filename of the private key in SshTransportConfigCallback (to test that the code is being hit) I do get an exception saying the file wasn't found so the private key it contains is being read and used somewhere but maybe not being used to initiate the session with GitHub?</p>\n<p>Would appreciate any suggestions! Thank you</p>\n"},{"tags":["java","eclipse","spring","hibernate","hibernate-mapping"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1358799812,"post_id":14446048,"comment_id":20117268,"body_markdown":"What a package name where persistence classes?","body":"What a package name where persistence classes?"},{"owner":{"account_id":1705768,"reputation":3351,"user_id":1564840,"accept_rate":78,"display_name":"Pascut"},"score":0,"creation_date":1358800238,"post_id":14446048,"comment_id":20117439,"body_markdown":"please reformulate, I don&#39;t understand your idea","body":"please reformulate, I don&#39;t understand your idea"},{"owner":{"account_id":10731925,"reputation":1,"user_id":7897764,"display_name":"FullStackDev"},"score":0,"creation_date":1496414141,"post_id":14446048,"comment_id":75678317,"body_markdown":"Please name of the class.\nIssue might be with definition of table name. Please check if the same name is used in both the places. (Case sensitive)","body":"Please name of the class. Issue might be with definition of table name. Please check if the same name is used in both the places. (Case sensitive)"}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1358800697,"creation_date":1358800198,"answer_id":14446690,"question_id":14446048,"body_markdown":"In the Spring configuration typo `applicationContext.xml` where the `sessionFactory` configured put this property\r\n\r\n    &lt;bean id=&quot;sessionFactory&quot; class=&quot;org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean&quot;&gt;\r\n      &lt;property name=&quot;packagesToScan&quot; value=&quot;${package.name}&quot;/&gt;","title":"Hibernate table not mapped error in HQL query","body":"<p>In the Spring configuration typo <code>applicationContext.xml</code> where the <code>sessionFactory</code> configured put this property</p>\n\n<pre><code>&lt;bean id=\"sessionFactory\" class=\"org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean\"&gt;\n  &lt;property name=\"packagesToScan\" value=\"${package.name}\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":40256,"reputation":46474,"user_id":116639,"accept_rate":25,"display_name":"Tom Anderson"},"down_vote_count":1,"up_vote_count":161,"is_accepted":true,"score":160,"last_activity_date":1610621045,"creation_date":1358800485,"answer_id":14446760,"question_id":14446048,"body_markdown":"The exception message says:\r\n\r\n&gt; `Books is not mapped [SELECT COUNT(*) FROM Books]; nested exception is org.hibernate.hql.ast.QuerySyntaxException: Books is not mapped [SELECT COUNT(*) FROM Books]`\r\n\r\n`Books` is not mapped. That is, that there is no mapped type called `Books`.\r\n\r\nAnd indeed, there isn&#39;t. Your mapped type is called `Book`. It&#39;s mapped to a table called `Books`, but the type is called `Book`. When you write HQL (or JPQL) queries, you use the names of the types, not the tables.\r\n\r\nSo, change your query to:\r\n\r\n&gt; `select count(*) from Book`\r\n\r\nAlthough I think it may need to be\r\n\r\n&gt; `select count(b) from Book b`\r\n\r\nIf HQL doesn&#39;t support the `*` notation.","title":"Hibernate table not mapped error in HQL query","body":"<p>The exception message says:</p>\n<blockquote>\n<p><code>Books is not mapped [SELECT COUNT(*) FROM Books]; nested exception is org.hibernate.hql.ast.QuerySyntaxException: Books is not mapped [SELECT COUNT(*) FROM Books]</code></p>\n</blockquote>\n<p><code>Books</code> is not mapped. That is, that there is no mapped type called <code>Books</code>.</p>\n<p>And indeed, there isn't. Your mapped type is called <code>Book</code>. It's mapped to a table called <code>Books</code>, but the type is called <code>Book</code>. When you write HQL (or JPQL) queries, you use the names of the types, not the tables.</p>\n<p>So, change your query to:</p>\n<blockquote>\n<p><code>select count(*) from Book</code></p>\n</blockquote>\n<p>Although I think it may need to be</p>\n<blockquote>\n<p><code>select count(b) from Book b</code></p>\n</blockquote>\n<p>If HQL doesn't support the <code>*</code> notation.</p>\n"},{"tags":[],"owner":{"account_id":1705768,"reputation":3351,"user_id":1564840,"accept_rate":78,"display_name":"Pascut"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1431430221,"creation_date":1358802297,"answer_id":14447201,"question_id":14446048,"body_markdown":"Thanks everybody. Lots of good ideas.\r\nThis is my first application in Spring and Hibernate.. so a little more patience when dealing with &quot;novices&quot; like me..\r\n\r\nPlease read Tom Anderson and Roman C.&#39;s answers. They explained very well the problem. And all of you helped me.I replaced \r\n\r\n    SELECT COUNT(*) FROM Books\r\n\r\nwith\r\n\r\n    select count(book.id) from Book book\r\n\r\nAnd of course, I have this Spring config:\r\n\r\n    &lt;bean id=&quot;sessionFactory&quot; class=&quot;org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean&quot;&gt;\r\n    &lt;property name=&quot;packagesToScan&quot; value=&quot;extjs.model&quot;/&gt;\r\n\r\nThank you all again!","title":"Hibernate table not mapped error in HQL query","body":"<p>Thanks everybody. Lots of good ideas.\nThis is my first application in Spring and Hibernate.. so a little more patience when dealing with \"novices\" like me..</p>\n\n<p>Please read Tom Anderson and Roman C.'s answers. They explained very well the problem. And all of you helped me.I replaced </p>\n\n<pre><code>SELECT COUNT(*) FROM Books\n</code></pre>\n\n<p>with</p>\n\n<pre><code>select count(book.id) from Book book\n</code></pre>\n\n<p>And of course, I have this Spring config:</p>\n\n<pre><code>&lt;bean id=\"sessionFactory\" class=\"org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean\"&gt;\n&lt;property name=\"packagesToScan\" value=\"extjs.model\"/&gt;\n</code></pre>\n\n<p>Thank you all again!</p>\n"},{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1636820018,"creation_date":1469028519,"answer_id":38484695,"question_id":14446048,"body_markdown":"&gt; `hibernate3.HibernateQueryException: Books is not mapped [SELECT COUNT(*) FROM Books];`\r\n\r\nHibernate is trying to say that it does not know an entity named &quot;Books&quot;.  Let&#39;s look at your entity:\r\n\r\n    @javax.persistence.Entity\r\n    @javax.persistence.Table(name = &quot;Books&quot;)\r\n    public class Book {\r\n\r\nRight.  The _table_ name for `Book` has been renamed to &quot;Books&quot; but the entity name is still &quot;Book&quot; from the class name.  If you want to set the entity name, you should use the `@Entity` annotation&#39;s name instead:\r\n\r\n    // this allows you to use the entity Books in HQL queries\r\n    @javax.persistence.Entity(name = &quot;Books&quot;)\r\n    public class Book {\r\n\r\nThat sets both the entity name and the table name.\r\n\r\n-----\r\n\r\nThe opposite problem happened to me when I was migrating from the `Person.hbm.xml` file to using the Java annotations to describe the hibernate fields.  My old XML file had:\r\n\r\n    &lt;hibernate-mapping package=&quot;...&quot;&gt;\r\n    \t&lt;class name=&quot;Person&quot; table=&quot;persons&quot; lazy=&quot;true&quot;&gt;\r\n           ...\r\n    &lt;/hibernate-mapping&gt;\r\n\r\nAnd my new entity had a `@Entity(name=...)` which I needed to set the name of the table.\r\n\r\n    // this renames the entity and sets the table name\r\n    @javax.persistence.Entity(name = &quot;persons&quot;)\r\n    public class Person {\r\n        ...\r\n\r\nWhat I then was seeing was HQL errors like:\r\n\r\n    QuerySyntaxException: Person is not mapped\r\n         [SELECT id FROM Person WHERE id in (:ids)]\r\n\r\nThe problem with this was that the entity name was being renamed to `persons` as well.  I should have set the table name using:\r\n\r\n    // no name = here so the entity can be used as Person\r\n    @javax.persistence.Entity\r\n    // table name specified here\r\n    @javax.persistence.Table(name = &quot;persons&quot;)\r\n    public class Person extends BaseGeneratedId {\r\n","title":"Hibernate table not mapped error in HQL query","body":"<blockquote>\n<p><code>hibernate3.HibernateQueryException: Books is not mapped [SELECT COUNT(*) FROM Books];</code></p>\n</blockquote>\n<p>Hibernate is trying to say that it does not know an entity named &quot;Books&quot;.  Let's look at your entity:</p>\n<pre><code>@javax.persistence.Entity\n@javax.persistence.Table(name = &quot;Books&quot;)\npublic class Book {\n</code></pre>\n<p>Right.  The <em>table</em> name for <code>Book</code> has been renamed to &quot;Books&quot; but the entity name is still &quot;Book&quot; from the class name.  If you want to set the entity name, you should use the <code>@Entity</code> annotation's name instead:</p>\n<pre><code>// this allows you to use the entity Books in HQL queries\n@javax.persistence.Entity(name = &quot;Books&quot;)\npublic class Book {\n</code></pre>\n<p>That sets both the entity name and the table name.</p>\n<hr />\n<p>The opposite problem happened to me when I was migrating from the <code>Person.hbm.xml</code> file to using the Java annotations to describe the hibernate fields.  My old XML file had:</p>\n<pre><code>&lt;hibernate-mapping package=&quot;...&quot;&gt;\n    &lt;class name=&quot;Person&quot; table=&quot;persons&quot; lazy=&quot;true&quot;&gt;\n       ...\n&lt;/hibernate-mapping&gt;\n</code></pre>\n<p>And my new entity had a <code>@Entity(name=...)</code> which I needed to set the name of the table.</p>\n<pre><code>// this renames the entity and sets the table name\n@javax.persistence.Entity(name = &quot;persons&quot;)\npublic class Person {\n    ...\n</code></pre>\n<p>What I then was seeing was HQL errors like:</p>\n<pre><code>QuerySyntaxException: Person is not mapped\n     [SELECT id FROM Person WHERE id in (:ids)]\n</code></pre>\n<p>The problem with this was that the entity name was being renamed to <code>persons</code> as well.  I should have set the table name using:</p>\n<pre><code>// no name = here so the entity can be used as Person\n@javax.persistence.Entity\n// table name specified here\n@javax.persistence.Table(name = &quot;persons&quot;)\npublic class Person extends BaseGeneratedId {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5893897,"reputation":479,"user_id":4639590,"display_name":"Sibgha"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1491324349,"creation_date":1491324349,"answer_id":43213125,"question_id":14446048,"body_markdown":"This answer comes late but summarizes the concept involved in the &quot;table not mapped&quot; exception(in order to help those who come across this problem since its very common for hibernate newbies). This error can appear due to many reasons but the target is to address the most common one that is faced by a number of novice hibernate developers to save them hours of research. I am using my own example for a simple demonstration below.\r\n\r\nThe exception:\r\n\r\n    org.hibernate.hql.internal.ast.QuerySyntaxException: subscriber is not mapped [ from subscriber]\r\n\r\n\r\nIn simple words, this very usual exception only tells that the query is wrong in the below code.  \r\n\r\n    Session session = this.sessionFactory.getCurrentSession();\r\n\tList&lt;Subscriber&gt; personsList = session.createQuery(&quot; from subscriber&quot;).list();\r\n\r\nThis is how my POJO class is declared:\r\n\r\n    @Entity\r\n    @Table(name = &quot;subscriber&quot;)\r\n    public class Subscriber\r\n\r\nBut the query syntax **&quot;from subscriber&quot;** is correct and the table `subscriber` exists. Which brings me to a key point:\r\n\r\n- It is an HQL query not SQL.\r\n\r\nand how its [explained here][1]\r\n\r\n&gt; HQL works with persistent objects and their properties not with the database tables and columns. \r\n \r\nSince the above query is an HQL one, the `subscriber` is supposed to be an entity name not a table name. Since I have my table `subscriber`  mapped with the entity `Subscriber`. My problem solves if I change the code to this:\r\n\r\n    Session session = this.sessionFactory.getCurrentSession();\r\n\tList&lt;Subscriber&gt; personsList = session.createQuery(&quot; from Subscriber&quot;).list();\r\n\r\nJust to keep you from getting confused. Please note that HQL is case sensitive in a number of cases. Otherwise it would have worked in my case.\r\n\r\n&gt; Keywords like SELECT , FROM and WHERE etc. are not case sensitive but\r\n&gt; properties like table and column names are case sensitive in HQL.\r\n\r\nhttps://www.tutorialspoint.com/hibernate/hibernate_query_language.htm\r\n\r\nTo further understand how hibernate mapping works, please read [this][2]\r\n\r\n \r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://www.tutorialspoint.com/hibernate/hibernate_query_language.htm\r\n[2]:\r\nhttps://www.tutorialspoint.com/hibernate/hibernate_or_mappings.htm","title":"Hibernate table not mapped error in HQL query","body":"<p>This answer comes late but summarizes the concept involved in the \"table not mapped\" exception(in order to help those who come across this problem since its very common for hibernate newbies). This error can appear due to many reasons but the target is to address the most common one that is faced by a number of novice hibernate developers to save them hours of research. I am using my own example for a simple demonstration below.</p>\n\n<p>The exception:</p>\n\n<pre><code>org.hibernate.hql.internal.ast.QuerySyntaxException: subscriber is not mapped [ from subscriber]\n</code></pre>\n\n<p>In simple words, this very usual exception only tells that the query is wrong in the below code.  </p>\n\n<pre><code>Session session = this.sessionFactory.getCurrentSession();\nList&lt;Subscriber&gt; personsList = session.createQuery(\" from subscriber\").list();\n</code></pre>\n\n<p>This is how my POJO class is declared:</p>\n\n<pre><code>@Entity\n@Table(name = \"subscriber\")\npublic class Subscriber\n</code></pre>\n\n<p>But the query syntax <strong>\"from subscriber\"</strong> is correct and the table <code>subscriber</code> exists. Which brings me to a key point:</p>\n\n<ul>\n<li>It is an HQL query not SQL.</li>\n</ul>\n\n<p>and how its <a href=\"https://www.tutorialspoint.com/hibernate/hibernate_query_language.htm\" rel=\"noreferrer\">explained here</a></p>\n\n<blockquote>\n  <p>HQL works with persistent objects and their properties not with the database tables and columns. </p>\n</blockquote>\n\n<p>Since the above query is an HQL one, the <code>subscriber</code> is supposed to be an entity name not a table name. Since I have my table <code>subscriber</code>  mapped with the entity <code>Subscriber</code>. My problem solves if I change the code to this:</p>\n\n<pre><code>Session session = this.sessionFactory.getCurrentSession();\nList&lt;Subscriber&gt; personsList = session.createQuery(\" from Subscriber\").list();\n</code></pre>\n\n<p>Just to keep you from getting confused. Please note that HQL is case sensitive in a number of cases. Otherwise it would have worked in my case.</p>\n\n<blockquote>\n  <p>Keywords like SELECT , FROM and WHERE etc. are not case sensitive but\n  properties like table and column names are case sensitive in HQL.</p>\n</blockquote>\n\n<p><a href=\"https://www.tutorialspoint.com/hibernate/hibernate_query_language.htm\" rel=\"noreferrer\">https://www.tutorialspoint.com/hibernate/hibernate_query_language.htm</a></p>\n\n<p>To further understand how hibernate mapping works, please read <a href=\"https://www.tutorialspoint.com/hibernate/hibernate_or_mappings.htm\" rel=\"noreferrer\">this</a></p>\n"},{"tags":[],"owner":{"account_id":170359,"reputation":3272,"user_id":397010,"accept_rate":74,"display_name":"Jon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523888444,"creation_date":1523888444,"answer_id":49859606,"question_id":14446048,"body_markdown":"Hibernate also is picky about the capitalization. By default it&#39;s going to be the class name with the First letter Capitalized. So if your class is called `FooBar`, don&#39;t pass `&quot;foobar&quot;`. You have to pass `&quot;FooBar&quot;` with that exact capitalization for it to work.","title":"Hibernate table not mapped error in HQL query","body":"<p>Hibernate also is picky about the capitalization. By default it's going to be the class name with the First letter Capitalized. So if your class is called <code>FooBar</code>, don't pass <code>\"foobar\"</code>. You have to pass <code>\"FooBar\"</code> with that exact capitalization for it to work.</p>\n"},{"tags":[],"owner":{"account_id":11995867,"reputation":637,"user_id":8821112,"display_name":"Durja"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1557619799,"creation_date":1557619799,"answer_id":56095217,"question_id":14446048,"body_markdown":"In addition to the accepted answer, one other check is to make sure that you have the right reference to your entity package in sessionFactory.setPackagesToScan(...) while setting up your session factory.","title":"Hibernate table not mapped error in HQL query","body":"<p>In addition to the accepted answer, one other check is to make sure that you have the right reference to your entity package in sessionFactory.setPackagesToScan(...) while setting up your session factory.</p>\n"},{"tags":[],"owner":{"account_id":3768861,"reputation":1713,"user_id":3131579,"display_name":"Victor Mwenda"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1614665698,"creation_date":1586769178,"answer_id":61184690,"question_id":14446048,"body_markdown":"Ensure your have the Entity annotation and Table annotation and set the table name on the table annotation.\r\n\r\n    @Entity\r\n    @Table(name = &quot;table_name&quot;)\r\n    public class TableName {\r\n    \r\n    }","title":"Hibernate table not mapped error in HQL query","body":"<p>Ensure your have the Entity annotation and Table annotation and set the table name on the table annotation.</p>\n<pre><code>@Entity\n@Table(name = &quot;table_name&quot;)\npublic class TableName {\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6010289,"reputation":876,"user_id":4720950,"display_name":"Parameshwar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603100453,"creation_date":1603100453,"answer_id":64424790,"question_id":14446048,"body_markdown":"I had same problem , instead @Entity\r\nI used following code for getting records\r\n\r\n    \tList&lt;Map&lt;String, Object&gt;&gt; list = null;\r\n    \t\t\tlist = incidentHibernateTemplate.execute(new HibernateCallback&lt;List&lt;Map&lt;String, Object&gt;&gt;&gt;() {\r\n\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic List&lt;Map&lt;String, Object&gt;&gt; doInHibernate(Session session) throws HibernateException {\r\n\t\t\t\t\tQuery query = session.createSQLQuery(&quot;SELECT * from table where appcode = :app&quot;);\r\n\t\t\t\t\t\tquery.setParameter(&quot;app&quot;, apptype);\r\n\t\t\t\t\tquery.setResultTransformer(Transformers.ALIAS_TO_ENTITY_MAP);\r\n\t\t\t\t\treturn query.list();\r\n\t\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\nI used following code for update\r\n\r\n   \tprivate @Autowired HibernateTemplate incidentHibernateTemplate;\r\n    Integer updateCount = 0;\r\n\r\n\t\tupdateCount = incidentHibernateTemplate.execute((Session session) -&gt; {\r\n\t\t\tQuery&lt;?&gt; query = session\r\n\t\t\t\t\t\t.createSQLQuery(&quot;UPDATE  tablename SET key = :apiurl, data_mode = :mode WHERE apiname= :api &quot;);\r\n\t  \t\t  query.setParameter(&quot;apiurl&quot;, url);\r\n\t\t\t  query.setParameter(&quot;api&quot;, api);\r\n\t\t\t  query.setParameter(&quot;mode&quot;, mode);\r\n\t\t\t\treturn query.executeUpdate();\r\n\t\t\t}\r\n\t\t);","title":"Hibernate table not mapped error in HQL query","body":"<p>I had same problem , instead @Entity\nI used following code for getting records</p>\n<pre><code>    List&lt;Map&lt;String, Object&gt;&gt; list = null;\n            list = incidentHibernateTemplate.execute(new HibernateCallback&lt;List&lt;Map&lt;String, Object&gt;&gt;&gt;() {\n\n            @Override\n            public List&lt;Map&lt;String, Object&gt;&gt; doInHibernate(Session session) throws HibernateException {\n                Query query = session.createSQLQuery(&quot;SELECT * from table where appcode = :app&quot;);\n                    query.setParameter(&quot;app&quot;, apptype);\n                query.setResultTransformer(Transformers.ALIAS_TO_ENTITY_MAP);\n                return query.list();\n\n                }\n            });\n</code></pre>\n<p>I used following code for update</p>\n<pre><code>private @Autowired HibernateTemplate incidentHibernateTemplate;\nInteger updateCount = 0;\n\n    updateCount = incidentHibernateTemplate.execute((Session session) -&gt; {\n        Query&lt;?&gt; query = session\n                    .createSQLQuery(&quot;UPDATE  tablename SET key = :apiurl, data_mode = :mode WHERE apiname= :api &quot;);\n          query.setParameter(&quot;apiurl&quot;, url);\n          query.setParameter(&quot;api&quot;, api);\n          query.setParameter(&quot;mode&quot;, mode);\n            return query.executeUpdate();\n        }\n    );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3156203,"reputation":4585,"user_id":2668564,"display_name":"jfk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667149778,"creation_date":1667149778,"answer_id":74255118,"question_id":14446048,"body_markdown":"I had the same issue with the native query and what was missing is `nativeQuery = true`\r\n\r\n    @Query(\r\n      value = &quot;SELECT * FROM USERS u WHERE u.status = 1&quot;, \r\n      nativeQuery = true)\r\n    Collection&lt;User&gt; findAllActiveUsersNative();","title":"Hibernate table not mapped error in HQL query","body":"<p>I had the same issue with the native query and what was missing is <code>nativeQuery = true</code></p>\n<pre><code>@Query(\n  value = &quot;SELECT * FROM USERS u WHERE u.status = 1&quot;, \n  nativeQuery = true)\nCollection&lt;User&gt; findAllActiveUsersNative();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18117686,"reputation":198,"user_id":13174149,"display_name":"Charlo Poitras"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673546990,"creation_date":1673546990,"answer_id":75100615,"question_id":14446048,"body_markdown":"Had this issue with an old HQL app, turns out that the mapping of a certain class was not inside the hibernate config file `hibernate.cfg.xml`\r\n\r\n```xml \r\n&lt;mapping class=&quot;com.your.package.MyClass&quot; /&gt;\r\n```\r\nThen, I was able to use the mapping correctly using \r\n```mysql\r\nFROM MyClass WHERE prop LIKE &quot;:myId&quot;\r\n```\r\n\r\n","title":"Hibernate table not mapped error in HQL query","body":"<p>Had this issue with an old HQL app, turns out that the mapping of a certain class was not inside the hibernate config file <code>hibernate.cfg.xml</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;mapping class=&quot;com.your.package.MyClass&quot; /&gt;\n</code></pre>\n<p>Then, I was able to use the mapping correctly using</p>\n<pre class=\"lang-sql prettyprint-override\"><code>FROM MyClass WHERE prop LIKE &quot;:myId&quot;\n</code></pre>\n"}],"owner":{"account_id":1705768,"reputation":3351,"user_id":1564840,"accept_rate":78,"display_name":"Pascut"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":247051,"favorite_count":0,"down_vote_count":2,"up_vote_count":90,"accepted_answer_id":14446760,"answer_count":11,"score":88,"last_activity_date":1673546990,"creation_date":1358797477,"question_id":14446048,"body_markdown":"I have a web application that use Hibernate to make CRUD operations over a database. I got an error saying that the table is not mapped. See the Java files:\r\n\r\nError message:\r\n\r\n    org.springframework.orm.hibernate3.HibernateQueryException: Books is not mapped [SELECT COUNT(*) FROM Books]; nested exception is org.hibernate.hql.ast.QuerySyntaxException: Books is not mapped [SELECT COUNT(*) FROM Books]\r\n\tat org.springframework.orm.hibernate3.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:660)\r\n\tat org.springframework.orm.hibernate3.HibernateAccessor.convertHibernateAccessException(HibernateAccessor.java:412)\r\n\tat org.springframework.orm.hibernate3.HibernateTemplate.doExecute(HibernateTemplate.java:411)\r\n    ...\r\n    Caused by: org.hibernate.hql.ast.QuerySyntaxException: Books is not mapped [SELECT COUNT(*) FROM Books]\r\n\tat org.hibernate.hql.ast.util.SessionFactoryHelper.requireClassPersister(SessionFactoryHelper.java:181)\r\n\tat org.hibernate.hql.ast.tree.FromElementFactory.addFromElement(FromElementFactory.java:111)\r\n\tat org.hibernate.hql.ast.tree.FromClause.addFromElement(FromClause.java:93)\r\n\t...\r\n\r\nHere&#39;s my `DAO.java` method:\r\n\r\n    public int getTotalBooks(){\r\n\t\treturn DataAccessUtils.intResult(hibernateTemplate.find(\r\n              &quot;SELECT COUNT(*) FROM Books&quot;));\r\n\t}\r\n\r\n\r\n`Book.java`:\r\n\r\n    @Entity\r\n    @Table(name=&quot;Books&quot;)\r\n    public class Book {\r\n    \t\r\n    \t@Id\r\n    \t@GeneratedValue\r\n    \t@Column(name=&quot;id&quot;)\r\n    \tprivate int id;\r\n    \t\r\n    \t@Column(name=&quot;title&quot;, nullable=false)\r\n    \tprivate String title;\r\n        ...\r\n    }\r\n\r\nHow should I modify it in order to work?\r\n","title":"Hibernate table not mapped error in HQL query","body":"<p>I have a web application that use Hibernate to make CRUD operations over a database. I got an error saying that the table is not mapped. See the Java files:</p>\n\n<p>Error message:</p>\n\n<pre><code>org.springframework.orm.hibernate3.HibernateQueryException: Books is not mapped [SELECT COUNT(*) FROM Books]; nested exception is org.hibernate.hql.ast.QuerySyntaxException: Books is not mapped [SELECT COUNT(*) FROM Books]\nat org.springframework.orm.hibernate3.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:660)\nat org.springframework.orm.hibernate3.HibernateAccessor.convertHibernateAccessException(HibernateAccessor.java:412)\nat org.springframework.orm.hibernate3.HibernateTemplate.doExecute(HibernateTemplate.java:411)\n...\nCaused by: org.hibernate.hql.ast.QuerySyntaxException: Books is not mapped [SELECT COUNT(*) FROM Books]\nat org.hibernate.hql.ast.util.SessionFactoryHelper.requireClassPersister(SessionFactoryHelper.java:181)\nat org.hibernate.hql.ast.tree.FromElementFactory.addFromElement(FromElementFactory.java:111)\nat org.hibernate.hql.ast.tree.FromClause.addFromElement(FromClause.java:93)\n...\n</code></pre>\n\n<p>Here's my <code>DAO.java</code> method:</p>\n\n<pre><code>public int getTotalBooks(){\n    return DataAccessUtils.intResult(hibernateTemplate.find(\n          \"SELECT COUNT(*) FROM Books\"));\n}\n</code></pre>\n\n<p><code>Book.java</code>:</p>\n\n<pre><code>@Entity\n@Table(name=\"Books\")\npublic class Book {\n\n    @Id\n    @GeneratedValue\n    @Column(name=\"id\")\n    private int id;\n\n    @Column(name=\"title\", nullable=false)\n    private String title;\n    ...\n}\n</code></pre>\n\n<p>How should I modify it in order to work?</p>\n"},{"tags":["java","shell","scripting"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673548156,"post_id":75100369,"comment_id":132529781,"body_markdown":"*Does the shell script wait for java process to complete before executing next line* Yes. But if you need to *only* execute the curl command after a *successful* Java exit, then you do need to check it, or do `$START_CMD &amp;&amp; curl ...` You&#39;ve done `set -e` so that would happen anyway but it&#39;s probably good to get into a good habit ;)","body":"<i>Does the shell script wait for java process to complete before executing next line</i> Yes. But if you need to <i>only</i> execute the curl command after a <i>successful</i> Java exit, then you do need to check it, or do <code>$START_CMD &amp;&amp; curl ...</code> You&#39;ve done <code>set -e</code> so that would happen anyway but it&#39;s probably good to get into a good habit ;)"},{"owner":{"account_id":52758,"reputation":2704,"user_id":157704,"accept_rate":62,"display_name":"Amol Aggarwal"},"score":0,"creation_date":1673551078,"post_id":75100369,"comment_id":132530724,"body_markdown":"@g00se I need to run it in all cases if java process runs successfully or not. I guess I can skip the condition in that case.","body":"@g00se I need to run it in all cases if java process runs successfully or not. I guess I can skip the condition in that case."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673552920,"post_id":75100369,"comment_id":132531252,"body_markdown":"Yes you can skip it","body":"Yes you can skip it"}],"owner":{"account_id":52758,"reputation":2704,"user_id":157704,"accept_rate":62,"display_name":"Amol Aggarwal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673546949,"creation_date":1673545564,"question_id":75100369,"body_markdown":"I have below code in my entry point script for my java program. I am doing some post processing logic for istio process which is running along with my java application. This is after my main thread of java application stops running. Does the shell script wait for java process to complete before executing next line or do I need to conditionally check if java process has terminated?\r\n\r\n    #!/bin/sh\r\n    set -e\r\n    set +x\r\n       \r\n        JVM_OPTS=&quot;-XX:+UseG1GC&quot;\r\n    \r\n        # Application start-up JVM args\r\n        START_CMD=&quot;java ${JVM_OPTS} ${JVM_ARGS} -jar ${1}&quot;\r\n        $START_CMD\r\n        # will flow execution pause here till java process completes?\r\n        \r\n        #post processing logic after main java thread finishes\r\n        x=$(echo $?)\r\n        #Do I need to conditionally check for value of x before executing below line?\r\n        curl -fsI -X POST http://localhost:15000/quitquitquit\r\n        exit $x","title":"Execution flow in shell script","body":"<p>I have below code in my entry point script for my java program. I am doing some post processing logic for istio process which is running along with my java application. This is after my main thread of java application stops running. Does the shell script wait for java process to complete before executing next line or do I need to conditionally check if java process has terminated?</p>\n<pre><code>#!/bin/sh\nset -e\nset +x\n   \n    JVM_OPTS=&quot;-XX:+UseG1GC&quot;\n\n    # Application start-up JVM args\n    START_CMD=&quot;java ${JVM_OPTS} ${JVM_ARGS} -jar ${1}&quot;\n    $START_CMD\n    # will flow execution pause here till java process completes?\n    \n    #post processing logic after main java thread finishes\n    x=$(echo $?)\n    #Do I need to conditionally check for value of x before executing below line?\n    curl -fsI -X POST http://localhost:15000/quitquitquit\n    exit $x\n</code></pre>\n"},{"tags":["java","azure-ad-msal"],"owner":{"account_id":27512685,"reputation":1,"user_id":20994286,"display_name":"Manish Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673546935,"creation_date":1673546935,"question_id":75100603,"body_markdown":"I have a forms auth in place for a jsp/servlet application which accepts username and password. I would like to keep the same form as in, an ablity to have user to input username and password but would like to implement auth using Azure Ad account using msal4j library. However all the users are MFA enabled in azure ad so would like to seek inputs if msal4j supports user auth. with MFA or any other flow can be implemented here like client-credentails OAuth2 flow?\r\n\r\nI have tried implementing graph api for this requirement using https://github.com/Azure-Samples/ms-identity-java-daemon/blob/master/msal-client-credential-certificate/README.md  but since MFA is enabled for my AD users so getting this error - Unable to exchange auth code for token:\r\ncom.microsoft.aad.msal4j.MsalInteractionRequiredException: AADSTS50076: Due to a configuration change made by your administrator, or because you moved to a new location, you must use multi-factor authentication to access &#39;00000003-0000-0000-c000-000000000000&#39;.","title":"how to implement client credentails flow using msal4j java","body":"<p>I have a forms auth in place for a jsp/servlet application which accepts username and password. I would like to keep the same form as in, an ablity to have user to input username and password but would like to implement auth using Azure Ad account using msal4j library. However all the users are MFA enabled in azure ad so would like to seek inputs if msal4j supports user auth. with MFA or any other flow can be implemented here like client-credentails OAuth2 flow?</p>\n<p>I have tried implementing graph api for this requirement using <a href=\"https://github.com/Azure-Samples/ms-identity-java-daemon/blob/master/msal-client-credential-certificate/README.md\" rel=\"nofollow noreferrer\">https://github.com/Azure-Samples/ms-identity-java-daemon/blob/master/msal-client-credential-certificate/README.md</a>  but since MFA is enabled for my AD users so getting this error - Unable to exchange auth code for token:\ncom.microsoft.aad.msal4j.MsalInteractionRequiredException: AADSTS50076: Due to a configuration change made by your administrator, or because you moved to a new location, you must use multi-factor authentication to access '00000003-0000-0000-c000-000000000000'.</p>\n"},{"tags":["java","kotlin","java-native-interface","apache-kafka-streams","rocksdb-java"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":5,"creation_date":1673547134,"post_id":75100455,"comment_id":132529420,"body_markdown":"Kotlin isn’t the source of the problem. It seems you haven’t linked your compiled code library. If it’s part of a dependency, you might have neglected some initialization step you’re supposed to do that would internally load native libraries.","body":"Kotlin isn’t the source of the problem. It seems you haven’t linked your compiled code library. If it’s part of a dependency, you might have neglected some initialization step you’re supposed to do that would internally load native libraries."},{"owner":{"account_id":8274803,"reputation":405,"user_id":6221402,"display_name":"AmsterdamLuis"},"score":0,"creation_date":1673858324,"post_id":75100455,"comment_id":132582863,"body_markdown":"Indeed. I have to start Kafka Streams first. Thank you .","body":"Indeed. I have to start Kafka Streams first. Thank you ."}],"owner":{"account_id":8274803,"reputation":405,"user_id":6221402,"display_name":"AmsterdamLuis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673546070,"creation_date":1673546070,"question_id":75100455,"body_markdown":"I am trying to create an instance of a rocksDB cache from Kotlin.\r\n\r\n    val cache = org.rocksdb.LRUCache(500L * 1024L * 1024L)\r\n\r\nBut I am getting an exception\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: &#39;long org.rocksdb.LRUCache.newLRUCache(long, int, boolean, double)&#39;\r\n\tat org.rocksdb.LRUCache.newLRUCache(Native Method)\r\n\tat org.rocksdb.LRUCache.&lt;init&gt;(LRUCache.java:74)\r\n\tat org.rocksdb.LRUCache.&lt;init&gt;(LRUCache.java:19)\r\n\tat application.CustomRocksDbConfigSetter.&lt;clinit&gt;(RocksDb.kt:41)\r\n\tat application.RocksDbKt.configureRocksDb(RocksDb.kt:15)\r\n\tat application.StreamsStarter.configureProperties(StreamsStarter.kt:30)\r\n\tat application.StreamsStarter.execute(StreamsStarter.kt:19)\r\n\tat main.ModulesKt.mainModule(Modules.kt:18)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat kotlin.reflect.jvm.internal.calls.CallerImpl$Method.callMethod(CallerImpl.kt:97)\r\n\tat kotlin.reflect.jvm.internal.calls.CallerImpl$Method$Static.call(CallerImpl.kt:106)\r\n\tat kotlin.reflect.jvm.internal.KCallableImpl.call(KCallableImpl.kt:108)\r\n\tat kotlin.reflect.jvm.internal.KCallableImpl.callDefaultMethod$kotlin_reflection(KCallableImpl.kt:159)\r\n\tat kotlin.reflect.jvm.internal.KCallableImpl.callBy(KCallableImpl.kt:112)\r\n\tat io.ktor.server.engine.internal.CallableUtilsKt.callFunctionWithInjection(CallableUtils.kt:119)\r\n\tat io.ktor.server.engine.internal.CallableUtilsKt.executeModuleFunction(CallableUtils.kt:36)\r\n\tat io.ktor.server.engine.ApplicationEngineEnvironmentReloading$launchModuleByName$1.invoke(ApplicationEngineEnvironmentReloading.kt:331)\r\n\tat io.ktor.server.engine.ApplicationEngineEnvironmentReloading$launchModuleByName$1.invoke(ApplicationEngineEnvironmentReloading.kt:330)\r\n\tat io.ktor.server.engine.ApplicationEngineEnvironmentReloading.avoidingDoubleStartupFor(ApplicationEngineEnvironmentReloading.kt:355)\r\n\tat io.ktor.server.engine.ApplicationEngineEnvironmentReloading.launchModuleByName(ApplicationEngineEnvironmentReloading.kt:330)\r\n\tat io.ktor.server.engine.ApplicationEngineEnvironmentReloading.access$launchModuleByName(ApplicationEngineEnvironmentReloading.kt:32)\r\n\tat io.ktor.server.engine.ApplicationEngineEnvironmentReloading$instantiateAndConfigureApplication$1.invoke(ApplicationEngineEnvironmentReloading.kt:311)\r\n\tat io.ktor.server.engine.ApplicationEngineEnvironmentReloading$instantiateAndConfigureApplication$1.invoke(ApplicationEngineEnvironmentReloading.kt:309)\r\n\tat io.ktor.server.engine.ApplicationEngineEnvironmentReloading.avoidingDoubleStartup(ApplicationEngineEnvironmentReloading.kt:337)\r\n\tat io.ktor.server.engine.ApplicationEngineEnvironmentReloading.instantiateAndConfigureApplication(ApplicationEngineEnvironmentReloading.kt:309)\r\n\tat io.ktor.server.engine.ApplicationEngineEnvironmentReloading.createApplication(ApplicationEngineEnvironmentReloading.kt:150)\r\n\tat io.ktor.server.engine.ApplicationEngineEnvironmentReloading.start(ApplicationEngineEnvironmentReloading.kt:276)\r\n\tat io.ktor.server.netty.NettyApplicationEngine.start(NettyApplicationEngine.kt:212)\r\n\tat io.ktor.server.netty.EngineMain.main(EngineMain.kt:32)\r\n```\r\n\r\nI see the cache internal code and it invokes this function:\r\n\r\n```\r\nprivate native static long newLRUCache(final long capacity,\r\n      final int numShardBits, final boolean strictCapacityLimit,\r\n      final double highPriPoolRatio);\r\n```\r\n\r\nIs this not supposed to work when invoked from Kotlin?","title":"Calling java native method from Kotlin","body":"<p>I am trying to create an instance of a rocksDB cache from Kotlin.</p>\n<pre><code>val cache = org.rocksdb.LRUCache(500L * 1024L * 1024L)\n</code></pre>\n<p>But I am getting an exception</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: 'long org.rocksdb.LRUCache.newLRUCache(long, int, boolean, double)'\n    at org.rocksdb.LRUCache.newLRUCache(Native Method)\n    at org.rocksdb.LRUCache.&lt;init&gt;(LRUCache.java:74)\n    at org.rocksdb.LRUCache.&lt;init&gt;(LRUCache.java:19)\n    at application.CustomRocksDbConfigSetter.&lt;clinit&gt;(RocksDb.kt:41)\n    at application.RocksDbKt.configureRocksDb(RocksDb.kt:15)\n    at application.StreamsStarter.configureProperties(StreamsStarter.kt:30)\n    at application.StreamsStarter.execute(StreamsStarter.kt:19)\n    at main.ModulesKt.mainModule(Modules.kt:18)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at kotlin.reflect.jvm.internal.calls.CallerImpl$Method.callMethod(CallerImpl.kt:97)\n    at kotlin.reflect.jvm.internal.calls.CallerImpl$Method$Static.call(CallerImpl.kt:106)\n    at kotlin.reflect.jvm.internal.KCallableImpl.call(KCallableImpl.kt:108)\n    at kotlin.reflect.jvm.internal.KCallableImpl.callDefaultMethod$kotlin_reflection(KCallableImpl.kt:159)\n    at kotlin.reflect.jvm.internal.KCallableImpl.callBy(KCallableImpl.kt:112)\n    at io.ktor.server.engine.internal.CallableUtilsKt.callFunctionWithInjection(CallableUtils.kt:119)\n    at io.ktor.server.engine.internal.CallableUtilsKt.executeModuleFunction(CallableUtils.kt:36)\n    at io.ktor.server.engine.ApplicationEngineEnvironmentReloading$launchModuleByName$1.invoke(ApplicationEngineEnvironmentReloading.kt:331)\n    at io.ktor.server.engine.ApplicationEngineEnvironmentReloading$launchModuleByName$1.invoke(ApplicationEngineEnvironmentReloading.kt:330)\n    at io.ktor.server.engine.ApplicationEngineEnvironmentReloading.avoidingDoubleStartupFor(ApplicationEngineEnvironmentReloading.kt:355)\n    at io.ktor.server.engine.ApplicationEngineEnvironmentReloading.launchModuleByName(ApplicationEngineEnvironmentReloading.kt:330)\n    at io.ktor.server.engine.ApplicationEngineEnvironmentReloading.access$launchModuleByName(ApplicationEngineEnvironmentReloading.kt:32)\n    at io.ktor.server.engine.ApplicationEngineEnvironmentReloading$instantiateAndConfigureApplication$1.invoke(ApplicationEngineEnvironmentReloading.kt:311)\n    at io.ktor.server.engine.ApplicationEngineEnvironmentReloading$instantiateAndConfigureApplication$1.invoke(ApplicationEngineEnvironmentReloading.kt:309)\n    at io.ktor.server.engine.ApplicationEngineEnvironmentReloading.avoidingDoubleStartup(ApplicationEngineEnvironmentReloading.kt:337)\n    at io.ktor.server.engine.ApplicationEngineEnvironmentReloading.instantiateAndConfigureApplication(ApplicationEngineEnvironmentReloading.kt:309)\n    at io.ktor.server.engine.ApplicationEngineEnvironmentReloading.createApplication(ApplicationEngineEnvironmentReloading.kt:150)\n    at io.ktor.server.engine.ApplicationEngineEnvironmentReloading.start(ApplicationEngineEnvironmentReloading.kt:276)\n    at io.ktor.server.netty.NettyApplicationEngine.start(NettyApplicationEngine.kt:212)\n    at io.ktor.server.netty.EngineMain.main(EngineMain.kt:32)\n</code></pre>\n<p>I see the cache internal code and it invokes this function:</p>\n<pre><code>private native static long newLRUCache(final long capacity,\n      final int numShardBits, final boolean strictCapacityLimit,\n      final double highPriPoolRatio);\n</code></pre>\n<p>Is this not supposed to work when invoked from Kotlin?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":15889084,"reputation":335,"user_id":11464737,"display_name":"Kamal"},"score":0,"creation_date":1673525869,"post_id":75095022,"comment_id":132521642,"body_markdown":"You can use debugger, to check the code execution line by line. Check if it goes to DoctorRegistrationActivity&#39;s oncreateview.","body":"You can use debugger, to check the code execution line by line. Check if it goes to DoctorRegistrationActivity&#39;s oncreateview."}],"answers":[{"tags":[],"owner":{"account_id":1301014,"reputation":8110,"user_id":1250929,"accept_rate":72,"display_name":"Kristy Welsh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673525661,"creation_date":1673525661,"answer_id":75096179,"question_id":75095022,"body_markdown":"Use:  \r\n\r\n    public void openDoctorRegister() {\r\n        Intent goToDoctorRegister = new Intent(this, DoctorRegistrationActivity.class);\r\n        startActivity(goToDoctorRegister);\r\n    }\r\n\r\nInstead of \r\n\r\n    public void openDoctorRegister() {\r\n        Intent goToDoctorRegister = new Intent(getApplicationContext(), DoctorRegistrationActivity.class);\r\n        startActivity(goToDoctorRegister);\r\n    }","title":"My activity layout isn&#39;t showing when I run the app","body":"<p>Use:</p>\n<pre><code>public void openDoctorRegister() {\n    Intent goToDoctorRegister = new Intent(this, DoctorRegistrationActivity.class);\n    startActivity(goToDoctorRegister);\n}\n</code></pre>\n<p>Instead of</p>\n<pre><code>public void openDoctorRegister() {\n    Intent goToDoctorRegister = new Intent(getApplicationContext(), DoctorRegistrationActivity.class);\n    startActivity(goToDoctorRegister);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18250001,"reputation":21,"user_id":13285203,"display_name":"Md Tanvir Hossain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673545031,"creation_date":1673545031,"answer_id":75100265,"question_id":75095022,"body_markdown":"Kristy Welsh&#39;s answer doesn&#39;t solve your problem then try specifying Activity name instead of &quot;this&quot; \r\n \r\n```\r\npublic void openDoctorRegister() {\r\n    Intent goToDoctorRegister = new Intent(MainActivity.this,DoctorRegistrationActivity.class);\r\n    startActivity(goToDoctorRegister);\r\n}\r\n```","title":"My activity layout isn&#39;t showing when I run the app","body":"<p>Kristy Welsh's answer doesn't solve your problem then try specifying Activity name instead of &quot;this&quot;</p>\n<pre><code>public void openDoctorRegister() {\n    Intent goToDoctorRegister = new Intent(MainActivity.this,DoctorRegistrationActivity.class);\n    startActivity(goToDoctorRegister);\n}\n</code></pre>\n"}],"owner":{"account_id":27508236,"reputation":11,"user_id":20990615,"display_name":"Luqman Hakim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1673545031,"creation_date":1673520026,"question_id":75095022,"body_markdown":"I am currently building an Android app in Android Studio, written in Java, a symptom checker application where upon starting the application, user will be required to choose whether they want to open a patient account or a doctor account. For the patient account option, I managed to see the layout when I run the app but when I try to pick the doctor account option, the app does not show the layout. This is weird considering the fact that the code does not show any error, even the logcat too shows the process is perfectly fine.\r\n\r\nHere is the activity class and the xml for the doctor account option, also with the main class. I am sorry if somehow the way I post this might be confusing, this is my first time asking a question here.\r\n\r\nDoctorRegistrationActivity.java\r\n\r\n```\r\n`package com.example.jeusain;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.text.TextUtils;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.auth.AuthResult;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.database.DatabaseReference;\r\n\r\npublic class DoctorRegistrationActivity extends AppCompatActivity {\r\n\r\n    private TextView goToLogin;\r\n    private Button doctorRegisterButton;\r\n    private EditText doctor_name, university, placeofpractice, medicalregistrationnumber, doctor_email, doctor_password;\r\n\r\n    //firebase initialisation\r\n\r\n    private FirebaseAuth mAuth;\r\n    private FirebaseAuth mUser;\r\n    private DatabaseReference reference;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_doctor_registration);\r\n\r\n        doctorRegisterButton = findViewById(R.id.doctor_registerbutton_page1);\r\n        doctor_name = findViewById(R.id.doctor_fullname);\r\n        university = findViewById(R.id.graduated_uni);\r\n        placeofpractice = findViewById(R.id.place_of_practice);\r\n        medicalregistrationnumber = findViewById(R.id.registration_number);\r\n        doctor_email = findViewById(R.id.doctor_email);\r\n        doctor_password = findViewById(R.id.doctor_password);\r\n        goToLogin = findViewById(R.id.loginFromDoctor);\r\n\r\n        mAuth = FirebaseAuth.getInstance();\r\n\r\n        if (mAuth.getCurrentUser() != null){\r\n            startActivity(new Intent(getApplicationContext(),DoctorProfileActivity.class));\r\n            finish();\r\n        }\r\n\r\n        doctorRegisterButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                performValidations();\r\n                Intent goToLogin = new Intent(DoctorRegistrationActivity.this, LoginActivity.class);\r\n                startActivity(goToLogin);\r\n            }\r\n        });\r\n        goToLogin.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                openLogin();\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    public void openLogin(){\r\n        Intent login = new Intent(DoctorRegistrationActivity.this, LoginActivity.class);\r\n        startActivity(login);\r\n    }\r\n\r\n    private void performValidations(){\r\n\r\n        String getDoctorname = doctor_name.getText().toString();\r\n        String getUniversity = university.getText().toString();\r\n        String getPlaceofPractice = placeofpractice.getText().toString();\r\n        String getMedicalregistrationnumber = medicalregistrationnumber.getText().toString();\r\n        String getDoctoremail = doctor_email.getText().toString();\r\n        String getDoctorpassword = doctor_password.getText().toString();\r\n\r\n        if (TextUtils.isEmpty(getDoctorname)){\r\n            doctor_name.setError(&quot;Name is required!&quot;);\r\n            return;\r\n        }\r\n\r\n        if (TextUtils.isEmpty(getUniversity)){\r\n            university.setError(&quot;University is required!&quot;);\r\n            return;\r\n        }\r\n\r\n        if (TextUtils.isEmpty(getPlaceofPractice)){\r\n            placeofpractice.setError(&quot;Place of Practice is required!&quot;);\r\n            return;\r\n        }\r\n\r\n        if (TextUtils.isEmpty(getMedicalregistrationnumber)){\r\n            medicalregistrationnumber.setError(&quot;Medical registration number is required!&quot;);\r\n            return;\r\n        }\r\n\r\n        if (TextUtils.isEmpty(getDoctoremail)){\r\n            doctor_email.setError(&quot;Email is required!&quot;);\r\n            return;\r\n        }\r\n\r\n        if (TextUtils.isEmpty(getDoctorpassword)){\r\n            doctor_password.setError(&quot;Password is required!&quot;);\r\n            return;\r\n        }\r\n\r\n        if (doctor_password.length()&lt;8){\r\n            doctor_password.setError(&quot;Password must be 8 or more characters!&quot;);\r\n            return;\r\n        }\r\n\r\n        //register the user in firebase\r\n\r\n        mAuth.createUserWithEmailAndPassword(getDoctoremail, getDoctorpassword).addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                if (task.isSuccessful()){\r\n                    Toast.makeText(DoctorRegistrationActivity.this, &quot;User Created!&quot;, Toast.LENGTH_SHORT).show();\r\n                    startActivity(new Intent(getApplicationContext(),DoctorProfileActivity.class));\r\n                }\r\n                else{\r\n                    Toast.makeText(DoctorRegistrationActivity.this, &quot;Error!&quot; + task.getException().getMessage(), Toast.LENGTH_SHORT).show();\r\n\r\n                }\r\n\r\n            }\r\n        });\r\n    }\r\n}`\r\n```\r\n\r\nactivity_doctor_registration.xml\r\n```\r\n\r\n`&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;#a0db8e&quot;\r\n    tools:context=&quot;.DoctorRegistrationActivity&quot;&gt;\r\n\r\n    &lt;ScrollView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_marginStart=&quot;16dp&quot;\r\n        android:layout_marginTop=&quot;32dp&quot;\r\n        android:layout_marginEnd=&quot;16dp&quot;\r\n        android:layout_marginBottom=&quot;16dp&quot;\r\n        android:background=&quot;@drawable/oval_background_shape&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;1.0&quot;&gt;\r\n\r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/title_DRP_1&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n\r\n                android:layout_marginTop=&quot;24dp&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:text=&quot;You&#39;re a registered medical practitioner?&quot;\r\n                android:textColor=&quot;@color/black&quot;\r\n                android:textSize=&quot;24sp&quot;\r\n                android:textStyle=&quot;bold&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/subtitle_DRP1&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginTop=&quot;24dp&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:text=&quot;Please fill in the form with relevant information&quot;\r\n                android:textSize=&quot;20sp&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;@+id/title_DRP_1&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/title_DRP_1&quot; /&gt;\r\n\r\n            &lt;EditText\r\n                android:id=&quot;@+id/doctor_fullname&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginTop=&quot;24dp&quot;\r\n                android:ems=&quot;10&quot;\r\n                android:hint=&quot;Name&quot;\r\n                android:inputType=&quot;textPersonName&quot;\r\n                android:minHeight=&quot;48dp&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;@+id/subtitle_DRP1&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;@+id/subtitle_DRP1&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/subtitle_DRP1&quot; /&gt;\r\n\r\n            &lt;EditText\r\n                android:id=&quot;@+id/graduated_uni&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginTop=&quot;16dp&quot;\r\n                android:ems=&quot;10&quot;\r\n                android:hint=&quot;Graduated university&quot;\r\n                android:inputType=&quot;textPersonName&quot;\r\n                android:minHeight=&quot;48dp&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;@+id/doctor_fullname&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;@+id/doctor_fullname&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/doctor_fullname&quot; /&gt;\r\n\r\n            &lt;EditText\r\n                android:id=&quot;@+id/place_of_practice&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginTop=&quot;16dp&quot;\r\n                android:ems=&quot;10&quot;\r\n                android:hint=&quot;Place of Practice&quot;\r\n                android:inputType=&quot;textPersonName&quot;\r\n                android:minHeight=&quot;48dp&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;@+id/graduated_uni&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;@+id/graduated_uni&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/graduated_uni&quot; /&gt;\r\n\r\n            &lt;EditText\r\n                android:id=&quot;@+id/registration_number&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginTop=&quot;16dp&quot;\r\n                android:ems=&quot;10&quot;\r\n                android:hint=&quot;Medical Registration Number&quot;\r\n                android:inputType=&quot;number&quot;\r\n                android:minHeight=&quot;48dp&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;@+id/place_of_practice&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;@+id/place_of_practice&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/place_of_practice&quot; /&gt;\r\n\r\n            &lt;EditText\r\n                android:id=&quot;@+id/doctor_email&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginTop=&quot;16dp&quot;\r\n                android:ems=&quot;10&quot;\r\n                android:hint=&quot;E-mail address&quot;\r\n                android:inputType=&quot;textEmailAddress&quot;\r\n                android:minHeight=&quot;48dp&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;@+id/registration_number&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;@+id/registration_number&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/registration_number&quot; /&gt;\r\n\r\n            &lt;EditText\r\n                android:id=&quot;@+id/doctor_password&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginTop=&quot;16dp&quot;\r\n                android:ems=&quot;10&quot;\r\n                android:hint=&quot;Password&quot;\r\n                android:inputType=&quot;textPassword&quot;\r\n                android:minHeight=&quot;48dp&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;@+id/doctor_email&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;@+id/doctor_email&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/doctor_email&quot; /&gt;\r\n\r\n            &lt;Button\r\n                android:id=&quot;@+id/doctor_registerbutton_page1&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginTop=&quot;32dp&quot;\r\n                android:text=&quot;REGISTER&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;@+id/doctor_password&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;@+id/doctor_password&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/doctor_password&quot; /&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/loginFromDoctor&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;Login here&quot;\r\n                tools:layout_editor_absoluteX=&quot;280dp&quot;\r\n                tools:layout_editor_absoluteY=&quot;597dp&quot;\r\n                tools:ignore=&quot;MissingConstraints&quot; /&gt;\r\n\r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    &lt;/ScrollView&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n`\r\nMainActivity.java\r\n\r\n```\r\n`package com.example.jeusain;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    Button choose_patient_account, choose_doctor_account;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_start_page);\r\n\r\n        choose_patient_account = (Button) findViewById(R.id.patient_reg);\r\n        choose_doctor_account = (Button) findViewById(R.id.doctor_reg);\r\n\r\n        choose_patient_account.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                openPatientRegister();\r\n            }\r\n        });\r\n\r\n        choose_doctor_account.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                openDoctorRegister();\r\n            }\r\n        });\r\n    }\r\n    public void openPatientRegister() {\r\n        Intent goToPatientRegister = new Intent(getApplicationContext(), PatientRegistrationActivity.class);\r\n        startActivity(goToPatientRegister);\r\n    }\r\n    public void openDoctorRegister() {\r\n        Intent goToDoctorRegister = new Intent(getApplicationContext(), DoctorRegistrationActivity.class);\r\n        startActivity(goToDoctorRegister);\r\n    }\r\n}`\r\n```","title":"My activity layout isn&#39;t showing when I run the app","body":"<p>I am currently building an Android app in Android Studio, written in Java, a symptom checker application where upon starting the application, user will be required to choose whether they want to open a patient account or a doctor account. For the patient account option, I managed to see the layout when I run the app but when I try to pick the doctor account option, the app does not show the layout. This is weird considering the fact that the code does not show any error, even the logcat too shows the process is perfectly fine.</p>\n<p>Here is the activity class and the xml for the doctor account option, also with the main class. I am sorry if somehow the way I post this might be confusing, this is my first time asking a question here.</p>\n<p>DoctorRegistrationActivity.java</p>\n<pre><code>`package com.example.jeusain;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.text.TextUtils;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.TextView;\nimport android.widget.Toast;\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.Task;\nimport com.google.firebase.auth.AuthResult;\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.database.DatabaseReference;\n\npublic class DoctorRegistrationActivity extends AppCompatActivity {\n\n    private TextView goToLogin;\n    private Button doctorRegisterButton;\n    private EditText doctor_name, university, placeofpractice, medicalregistrationnumber, doctor_email, doctor_password;\n\n    //firebase initialisation\n\n    private FirebaseAuth mAuth;\n    private FirebaseAuth mUser;\n    private DatabaseReference reference;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_doctor_registration);\n\n        doctorRegisterButton = findViewById(R.id.doctor_registerbutton_page1);\n        doctor_name = findViewById(R.id.doctor_fullname);\n        university = findViewById(R.id.graduated_uni);\n        placeofpractice = findViewById(R.id.place_of_practice);\n        medicalregistrationnumber = findViewById(R.id.registration_number);\n        doctor_email = findViewById(R.id.doctor_email);\n        doctor_password = findViewById(R.id.doctor_password);\n        goToLogin = findViewById(R.id.loginFromDoctor);\n\n        mAuth = FirebaseAuth.getInstance();\n\n        if (mAuth.getCurrentUser() != null){\n            startActivity(new Intent(getApplicationContext(),DoctorProfileActivity.class));\n            finish();\n        }\n\n        doctorRegisterButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                performValidations();\n                Intent goToLogin = new Intent(DoctorRegistrationActivity.this, LoginActivity.class);\n                startActivity(goToLogin);\n            }\n        });\n        goToLogin.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                openLogin();\n            }\n        });\n    }\n\n\n    public void openLogin(){\n        Intent login = new Intent(DoctorRegistrationActivity.this, LoginActivity.class);\n        startActivity(login);\n    }\n\n    private void performValidations(){\n\n        String getDoctorname = doctor_name.getText().toString();\n        String getUniversity = university.getText().toString();\n        String getPlaceofPractice = placeofpractice.getText().toString();\n        String getMedicalregistrationnumber = medicalregistrationnumber.getText().toString();\n        String getDoctoremail = doctor_email.getText().toString();\n        String getDoctorpassword = doctor_password.getText().toString();\n\n        if (TextUtils.isEmpty(getDoctorname)){\n            doctor_name.setError(&quot;Name is required!&quot;);\n            return;\n        }\n\n        if (TextUtils.isEmpty(getUniversity)){\n            university.setError(&quot;University is required!&quot;);\n            return;\n        }\n\n        if (TextUtils.isEmpty(getPlaceofPractice)){\n            placeofpractice.setError(&quot;Place of Practice is required!&quot;);\n            return;\n        }\n\n        if (TextUtils.isEmpty(getMedicalregistrationnumber)){\n            medicalregistrationnumber.setError(&quot;Medical registration number is required!&quot;);\n            return;\n        }\n\n        if (TextUtils.isEmpty(getDoctoremail)){\n            doctor_email.setError(&quot;Email is required!&quot;);\n            return;\n        }\n\n        if (TextUtils.isEmpty(getDoctorpassword)){\n            doctor_password.setError(&quot;Password is required!&quot;);\n            return;\n        }\n\n        if (doctor_password.length()&lt;8){\n            doctor_password.setError(&quot;Password must be 8 or more characters!&quot;);\n            return;\n        }\n\n        //register the user in firebase\n\n        mAuth.createUserWithEmailAndPassword(getDoctoremail, getDoctorpassword).addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                if (task.isSuccessful()){\n                    Toast.makeText(DoctorRegistrationActivity.this, &quot;User Created!&quot;, Toast.LENGTH_SHORT).show();\n                    startActivity(new Intent(getApplicationContext(),DoctorProfileActivity.class));\n                }\n                else{\n                    Toast.makeText(DoctorRegistrationActivity.this, &quot;Error!&quot; + task.getException().getMessage(), Toast.LENGTH_SHORT).show();\n\n                }\n\n            }\n        });\n    }\n}`\n</code></pre>\n<p>activity_doctor_registration.xml</p>\n<pre><code>\n`&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;#a0db8e&quot;\n    tools:context=&quot;.DoctorRegistrationActivity&quot;&gt;\n\n    &lt;ScrollView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_marginStart=&quot;16dp&quot;\n        android:layout_marginTop=&quot;32dp&quot;\n        android:layout_marginEnd=&quot;16dp&quot;\n        android:layout_marginBottom=&quot;16dp&quot;\n        android:background=&quot;@drawable/oval_background_shape&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;1.0&quot;&gt;\n\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/title_DRP_1&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n\n                android:layout_marginTop=&quot;24dp&quot;\n                android:gravity=&quot;center&quot;\n                android:text=&quot;You're a registered medical practitioner?&quot;\n                android:textColor=&quot;@color/black&quot;\n                android:textSize=&quot;24sp&quot;\n                android:textStyle=&quot;bold&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/subtitle_DRP1&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginTop=&quot;24dp&quot;\n                android:gravity=&quot;center&quot;\n                android:text=&quot;Please fill in the form with relevant information&quot;\n                android:textSize=&quot;20sp&quot;\n                app:layout_constraintEnd_toEndOf=&quot;@+id/title_DRP_1&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@+id/title_DRP_1&quot; /&gt;\n\n            &lt;EditText\n                android:id=&quot;@+id/doctor_fullname&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginTop=&quot;24dp&quot;\n                android:ems=&quot;10&quot;\n                android:hint=&quot;Name&quot;\n                android:inputType=&quot;textPersonName&quot;\n                android:minHeight=&quot;48dp&quot;\n                app:layout_constraintEnd_toEndOf=&quot;@+id/subtitle_DRP1&quot;\n                app:layout_constraintStart_toStartOf=&quot;@+id/subtitle_DRP1&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@+id/subtitle_DRP1&quot; /&gt;\n\n            &lt;EditText\n                android:id=&quot;@+id/graduated_uni&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginTop=&quot;16dp&quot;\n                android:ems=&quot;10&quot;\n                android:hint=&quot;Graduated university&quot;\n                android:inputType=&quot;textPersonName&quot;\n                android:minHeight=&quot;48dp&quot;\n                app:layout_constraintEnd_toEndOf=&quot;@+id/doctor_fullname&quot;\n                app:layout_constraintStart_toStartOf=&quot;@+id/doctor_fullname&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@+id/doctor_fullname&quot; /&gt;\n\n            &lt;EditText\n                android:id=&quot;@+id/place_of_practice&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginTop=&quot;16dp&quot;\n                android:ems=&quot;10&quot;\n                android:hint=&quot;Place of Practice&quot;\n                android:inputType=&quot;textPersonName&quot;\n                android:minHeight=&quot;48dp&quot;\n                app:layout_constraintEnd_toEndOf=&quot;@+id/graduated_uni&quot;\n                app:layout_constraintStart_toStartOf=&quot;@+id/graduated_uni&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@+id/graduated_uni&quot; /&gt;\n\n            &lt;EditText\n                android:id=&quot;@+id/registration_number&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginTop=&quot;16dp&quot;\n                android:ems=&quot;10&quot;\n                android:hint=&quot;Medical Registration Number&quot;\n                android:inputType=&quot;number&quot;\n                android:minHeight=&quot;48dp&quot;\n                app:layout_constraintEnd_toEndOf=&quot;@+id/place_of_practice&quot;\n                app:layout_constraintStart_toStartOf=&quot;@+id/place_of_practice&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@+id/place_of_practice&quot; /&gt;\n\n            &lt;EditText\n                android:id=&quot;@+id/doctor_email&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginTop=&quot;16dp&quot;\n                android:ems=&quot;10&quot;\n                android:hint=&quot;E-mail address&quot;\n                android:inputType=&quot;textEmailAddress&quot;\n                android:minHeight=&quot;48dp&quot;\n                app:layout_constraintEnd_toEndOf=&quot;@+id/registration_number&quot;\n                app:layout_constraintStart_toStartOf=&quot;@+id/registration_number&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@+id/registration_number&quot; /&gt;\n\n            &lt;EditText\n                android:id=&quot;@+id/doctor_password&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginTop=&quot;16dp&quot;\n                android:ems=&quot;10&quot;\n                android:hint=&quot;Password&quot;\n                android:inputType=&quot;textPassword&quot;\n                android:minHeight=&quot;48dp&quot;\n                app:layout_constraintEnd_toEndOf=&quot;@+id/doctor_email&quot;\n                app:layout_constraintStart_toStartOf=&quot;@+id/doctor_email&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@+id/doctor_email&quot; /&gt;\n\n            &lt;Button\n                android:id=&quot;@+id/doctor_registerbutton_page1&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginTop=&quot;32dp&quot;\n                android:text=&quot;REGISTER&quot;\n                app:layout_constraintEnd_toEndOf=&quot;@+id/doctor_password&quot;\n                app:layout_constraintStart_toStartOf=&quot;@+id/doctor_password&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@+id/doctor_password&quot; /&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/loginFromDoctor&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;Login here&quot;\n                tools:layout_editor_absoluteX=&quot;280dp&quot;\n                tools:layout_editor_absoluteY=&quot;597dp&quot;\n                tools:ignore=&quot;MissingConstraints&quot; /&gt;\n\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n    &lt;/ScrollView&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>`\nMainActivity.java</p>\n<pre><code>`package com.example.jeusain;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\n\npublic class MainActivity extends AppCompatActivity {\n\n    Button choose_patient_account, choose_doctor_account;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_start_page);\n\n        choose_patient_account = (Button) findViewById(R.id.patient_reg);\n        choose_doctor_account = (Button) findViewById(R.id.doctor_reg);\n\n        choose_patient_account.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                openPatientRegister();\n            }\n        });\n\n        choose_doctor_account.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                openDoctorRegister();\n            }\n        });\n    }\n    public void openPatientRegister() {\n        Intent goToPatientRegister = new Intent(getApplicationContext(), PatientRegistrationActivity.class);\n        startActivity(goToPatientRegister);\n    }\n    public void openDoctorRegister() {\n        Intent goToDoctorRegister = new Intent(getApplicationContext(), DoctorRegistrationActivity.class);\n        startActivity(goToDoctorRegister);\n    }\n}`\n</code></pre>\n"},{"tags":["java","docker","aws-lambda"],"owner":{"account_id":15180538,"reputation":87,"user_id":10953912,"display_name":"fatima ghaiyur hayat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673544700,"creation_date":1673544700,"question_id":75100196,"body_markdown":"I have a simple lambda in Java to fetch some details from s3 bucket and the jar file works.\r\nI have run following command to generate the Main.class file in org.example folder.\r\n`mvn compile dependency:copy-dependencies -DincludeScope=runtime\r\n`\r\nI tried to pass the jar file in the package too but that does not work either.\r\n\r\nWhen I build the image and use in aws lambda it gives me error:\r\n&gt;Printing org.example.Main::handleRequest\r\n&gt;/entrypoint.sh: line 26: exec: org.example.Main::handleRequest: not found\r\n\r\nThere is a entrypoint.sh file which is responsible for Kerberos authentication and then just runs the CMD.\r\n\r\nentrypoint.sh:\r\n\r\n    #!/bin/bash\r\n    set -e\r\n        echo &quot;### Kerberizing with the Java binary ###&quot;\r\n        &quot;/apps/initialize_krb&quot;\r\n    \r\n    echo &quot;Printing $@&quot;\r\n    if [ -z &quot;${AWS_LAMBDA_RUNTIME_API}&quot; ]; then\r\n        exec /usr/bin/aws-lambda-rie python -m awslambdaric $1\r\n    else\r\n        exec &quot;$@&quot;\r\n    fi\r\n\r\nDockerfile:\r\n```\r\nARG BRANCH_VERSION=latest\r\nFROM allimages*******-java11:${BRANCH_VERSION}  \r\n\r\nCOPY ./target/classes /var/task\r\nCOPY ./target/dependency/* /var/task/lib/\r\nCOPY entrypoint.sh /var/task\r\nRUN chmod +x /var/task/entrypoint.sh\r\n\r\nWORKDIR /var/task\r\nENTRYPOINT [&quot;/var/task/entrypoint.sh&quot;]\r\nCMD [&quot;org.example.Main::handleRequest&quot;]\r\n```\r\n\r\nI am unable to understand what I am missing. Please help.\r\n\r\n","title":"AWS lambda in Java using container image failing with unable to find handlerRequest method","body":"<p>I have a simple lambda in Java to fetch some details from s3 bucket and the jar file works.\nI have run following command to generate the Main.class file in org.example folder.\n<code>mvn compile dependency:copy-dependencies -DincludeScope=runtime </code>\nI tried to pass the jar file in the package too but that does not work either.</p>\n<p>When I build the image and use in aws lambda it gives me error:</p>\n<blockquote>\n<p>Printing org.example.Main::handleRequest\n/entrypoint.sh: line 26: exec: org.example.Main::handleRequest: not found</p>\n</blockquote>\n<p>There is a entrypoint.sh file which is responsible for Kerberos authentication and then just runs the CMD.</p>\n<p>entrypoint.sh:</p>\n<pre><code>#!/bin/bash\nset -e\n    echo &quot;### Kerberizing with the Java binary ###&quot;\n    &quot;/apps/initialize_krb&quot;\n\necho &quot;Printing $@&quot;\nif [ -z &quot;${AWS_LAMBDA_RUNTIME_API}&quot; ]; then\n    exec /usr/bin/aws-lambda-rie python -m awslambdaric $1\nelse\n    exec &quot;$@&quot;\nfi\n</code></pre>\n<p>Dockerfile:</p>\n<pre><code>ARG BRANCH_VERSION=latest\nFROM allimages*******-java11:${BRANCH_VERSION}  \n\nCOPY ./target/classes /var/task\nCOPY ./target/dependency/* /var/task/lib/\nCOPY entrypoint.sh /var/task\nRUN chmod +x /var/task/entrypoint.sh\n\nWORKDIR /var/task\nENTRYPOINT [&quot;/var/task/entrypoint.sh&quot;]\nCMD [&quot;org.example.Main::handleRequest&quot;]\n</code></pre>\n<p>I am unable to understand what I am missing. Please help.</p>\n"},{"tags":["java","list","design-patterns"],"comments":[{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":2,"creation_date":1673538225,"post_id":75098759,"comment_id":132526305,"body_markdown":"So what is the closest string to **AppName-ver-1.2.4-data.exe** from your list? and why? all this context should be mentioned!","body":"So what is the closest string to <b>AppName-ver-1.2.4-data.exe</b> from your list? and why? all this context should be mentioned!"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":2,"creation_date":1673538251,"post_id":75098759,"comment_id":132526314,"body_markdown":"I think the most difficult part is answering &quot;what do you mean by closest&quot;. Once you have that answer, the rest of the code is easy.","body":"I think the most difficult part is answering &quot;what do you mean by closest&quot;. Once you have that answer, the rest of the code is easy."},{"owner":{"account_id":17236297,"reputation":61,"user_id":12479693,"display_name":"VSs"},"score":0,"creation_date":1673544699,"post_id":75098759,"comment_id":132528643,"body_markdown":"by the name. length shouldn&#39;t be calculated (AppName-ver-1.2.3-data.exe is expected)","body":"by the name. length shouldn&#39;t be calculated (AppName-ver-1.2.3-data.exe is expected)"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673539318,"creation_date":1673539318,"answer_id":75099117,"question_id":75098759,"body_markdown":"To emphasize what commenters already pointed out:\r\n\r\nIf you define &#39;closest&#39; to be the string length, then\r\n`AppName-ver-1.2.4-data.exe` has the value 26, and \r\n\r\n    AppName-ver-1.1.0-data.exe\r\n    AppName-ver-1.2.0-data.exe\r\n    AppName-ver-1.2.1-data.exe\r\n    AppName-ver-1.2.3-data.exe\r\n\r\nall resemble 26 as well so they are a direct match.\r\n\r\nYou could also define &#39;closest&#39; to have the least [Hamming Distance][1]. This will give completely different results and `AppName-ver-1.2.0-data.exe` might win as it is just one bit off.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Hamming_distance","title":"How do I find the most similar string from list","body":"<p>To emphasize what commenters already pointed out:</p>\n<p>If you define 'closest' to be the string length, then\n<code>AppName-ver-1.2.4-data.exe</code> has the value 26, and</p>\n<pre><code>AppName-ver-1.1.0-data.exe\nAppName-ver-1.2.0-data.exe\nAppName-ver-1.2.1-data.exe\nAppName-ver-1.2.3-data.exe\n</code></pre>\n<p>all resemble 26 as well so they are a direct match.</p>\n<p>You could also define 'closest' to have the least <a href=\"https://en.wikipedia.org/wiki/Hamming_distance\" rel=\"nofollow noreferrer\">Hamming Distance</a>. This will give completely different results and <code>AppName-ver-1.2.0-data.exe</code> might win as it is just one bit off.</p>\n"}],"owner":{"account_id":17236297,"reputation":61,"user_id":12479693,"display_name":"VSs"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1673600463,"answer_count":1,"score":0,"last_activity_date":1673544659,"creation_date":1673537621,"question_id":75098759,"body_markdown":"I have a list of strings in random format:\r\n\r\n```\r\nAppName-ver-1.1.0-data.exe\r\nAppName-ver-1.1.1-secondData.exe\r\nAppName-ver-1.2.0-data.exe\r\nAppName-ver-1.2.1-data.exe\r\nAppName-ver-1.2.3-data.exe\r\nAnotherAppName-ver-1.0.0-data.exe\r\nAnotherAppName-ver-1.0.0-secondData.exe\r\n```\r\n\r\nWhat would be an efficient way in java to find the closest value to string:\r\n```\r\nAppName-ver-1.2.4-data.exe\r\n```\r\n\r\nUPD: closest - by the naming not length so AppName-ver-1.2.3-data.exe is the expected result","title":"How do I find the most similar string from list","body":"<p>I have a list of strings in random format:</p>\n<pre><code>AppName-ver-1.1.0-data.exe\nAppName-ver-1.1.1-secondData.exe\nAppName-ver-1.2.0-data.exe\nAppName-ver-1.2.1-data.exe\nAppName-ver-1.2.3-data.exe\nAnotherAppName-ver-1.0.0-data.exe\nAnotherAppName-ver-1.0.0-secondData.exe\n</code></pre>\n<p>What would be an efficient way in java to find the closest value to string:</p>\n<pre><code>AppName-ver-1.2.4-data.exe\n</code></pre>\n<p>UPD: closest - by the naming not length so AppName-ver-1.2.3-data.exe is the expected result</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"answers":[{"tags":[],"owner":{"account_id":378934,"reputation":317,"user_id":731969,"accept_rate":67,"display_name":"Wonger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673543915,"creation_date":1673543915,"answer_id":75100052,"question_id":75021910,"body_markdown":"I realized that the source topic I was using for this test had 18 partitions, so the punctuator is being called once per partition.","title":"Why is Punctuator#punctuate in my Kafa Streams Processor invoked so many times","body":"<p>I realized that the source topic I was using for this test had 18 partitions, so the punctuator is being called once per partition.</p>\n"}],"owner":{"account_id":378934,"reputation":317,"user_id":731969,"accept_rate":67,"display_name":"Wonger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75100052,"answer_count":1,"score":0,"last_activity_date":1673543915,"creation_date":1672937977,"question_id":75021910,"body_markdown":"I have a spring boot application which defines a topology as follows:\r\n```\r\n  @Autowired\r\n  void buildTopology(StreamsBuilder streamsBuilder) {\r\n    var builder = streamsBuilder.build();\r\n    builder.addSource(TOPOLOGY_SOURCE, SOURCE_TOPIC);\r\n    builder.addProcessor(TOPOLOGY_PROCESSOR, MyProcessor::new, TOPOLOGY_SOURCE);\r\n    builder.addSink(TOPOLOGY_SINK, SINK_TOPIC, TOPOLOGY_PROCESSOR);\r\n  }\r\n```\r\nand MyProcessor overrides init() and process as: \r\n```\r\n\r\n\r\n  @Override\r\n  public void init(ProcessorContext&lt;String, String&gt; context) {\r\n    context.schedule(\r\n        Duration.ofSeconds(1),\r\n        PunctuationType.WALL_CLOCK_TIME,\r\n        timestamp -&gt; {\r\n          log.info(&quot;Punctuate called - {}&quot;, Instant.ofEpochMilli(timestamp));\r\n        });\r\n  }\r\n\r\n  @Override\r\n  public void process(Record&lt;String, String&gt; record) {\r\n    \r\n  }\r\n```\r\n\r\nWhen i run the application, i get the following logs:\r\n```\r\n2023-01-05 11:54:43.541  INFO 71096 --- [-StreamThread-1] : Punctuate called - 2023-01-05T16:54:43.539Z\r\n2023-01-05 11:54:43.542  INFO 71096 --- [-StreamThread-1] : Punctuate called - 2023-01-05T16:54:43.542Z\r\n2023-01-05 11:54:43.542  INFO 71096 --- [-StreamThread-1] : Punctuate called - 2023-01-05T16:54:43.542Z\r\n2023-01-05 11:54:43.542  INFO 71096 --- [-StreamThread-1] : Punctuate called - 2023-01-05T16:54:43.542Z\r\n2023-01-05 11:54:43.542  INFO 71096 --- [-StreamThread-1] : Punctuate called - 2023-01-05T16:54:43.542Z\r\n2023-01-05 11:54:43.542  INFO 71096 --- [-StreamThread-1] : Punctuate called - 2023-01-05T16:54:43.542Z\r\n2023-01-05 11:54:43.543  INFO 71096 --- [-StreamThread-1] : Punctuate called - 2023-01-05T16:54:43.543Z\r\n2023-01-05 11:54:43.543  INFO 71096 --- [-StreamThread-1] : Punctuate called - 2023-01-05T16:54:43.543Z\r\n2023-01-05 11:54:43.543  INFO 71096 --- [-StreamThread-1] : Punctuate called - 2023-01-05T16:54:43.543Z\r\n2023-01-05 11:54:43.543  INFO 71096 --- [-StreamThread-1] : Punctuate called - 2023-01-05T16:54:43.543Z\r\n2023-01-05 11:54:43.543  INFO 71096 --- [-StreamThread-1] : Punctuate called - 2023-01-05T16:54:43.543Z\r\n2023-01-05 11:54:43.543  INFO 71096 --- [-StreamThread-1] : Punctuate called - 2023-01-05T16:54:43.543Z\r\n2023-01-05 11:54:43.543  INFO 71096 --- [-StreamThread-1] : Punctuate called - 2023-01-05T16:54:43.543Z\r\n2023-01-05 11:54:43.543  INFO 71096 --- [-StreamThread-1] : Punctuate called - 2023-01-05T16:54:43.543Z\r\n2023-01-05 11:54:43.543  INFO 71096 --- [-StreamThread-1] : Punctuate called - 2023-01-05T16:54:43.543Z\r\n2023-01-05 11:54:43.543  INFO 71096 --- [-StreamThread-1] : Punctuate called - 2023-01-05T16:54:43.543Z\r\n2023-01-05 11:54:43.543  INFO 71096 --- [-StreamThread-1] : Punctuate called - 2023-01-05T16:54:43.543Z\r\n2023-01-05 11:54:43.543  INFO 71096 --- [-StreamThread-1] : Punctuate called - 2023-01-05T16:54:43.543Z\r\n2023-01-05 11:54:44.451  INFO 71096 --- [-StreamThread-1] : Punctuate called - 2023-01-05T16:54:44.451Z\r\n```\r\n\r\nEven though its scheduled for 1 second I see it being called 10-20 times per second but I expected it to be called once a second. Is this expected behavior / am I misunderstanding how WALL_CLOCK punctuation works?","title":"Why is Punctuator#punctuate in my Kafa Streams Processor invoked so many times","body":"<p>I have a spring boot application which defines a topology as follows:</p>\n<pre><code>  @Autowired\n  void buildTopology(StreamsBuilder streamsBuilder) {\n    var builder = streamsBuilder.build();\n    builder.addSource(TOPOLOGY_SOURCE, SOURCE_TOPIC);\n    builder.addProcessor(TOPOLOGY_PROCESSOR, MyProcessor::new, TOPOLOGY_SOURCE);\n    builder.addSink(TOPOLOGY_SINK, SINK_TOPIC, TOPOLOGY_PROCESSOR);\n  }\n</code></pre>\n<p>and MyProcessor overrides init() and process as:</p>\n<pre><code>\n\n  @Override\n  public void init(ProcessorContext&lt;String, String&gt; context) {\n    context.schedule(\n        Duration.ofSeconds(1),\n        PunctuationType.WALL_CLOCK_TIME,\n        timestamp -&gt; {\n          log.info(&quot;Punctuate called - {}&quot;, Instant.ofEpochMilli(timestamp));\n        });\n  }\n\n  @Override\n  public void process(Record&lt;String, String&gt; record) {\n    \n  }\n</code></pre>\n<p>When i run the application, i get the following logs:</p>\n<pre><code>2023-01-05 11:54:43.541  INFO 71096 --- [-StreamThread-1] : Punctuate called - 2023-01-05T16:54:43.539Z\n2023-01-05 11:54:43.542  INFO 71096 --- [-StreamThread-1] : Punctuate called - 2023-01-05T16:54:43.542Z\n2023-01-05 11:54:43.542  INFO 71096 --- [-StreamThread-1] : Punctuate called - 2023-01-05T16:54:43.542Z\n2023-01-05 11:54:43.542  INFO 71096 --- [-StreamThread-1] : Punctuate called - 2023-01-05T16:54:43.542Z\n2023-01-05 11:54:43.542  INFO 71096 --- [-StreamThread-1] : Punctuate called - 2023-01-05T16:54:43.542Z\n2023-01-05 11:54:43.542  INFO 71096 --- [-StreamThread-1] : Punctuate called - 2023-01-05T16:54:43.542Z\n2023-01-05 11:54:43.543  INFO 71096 --- [-StreamThread-1] : Punctuate called - 2023-01-05T16:54:43.543Z\n2023-01-05 11:54:43.543  INFO 71096 --- [-StreamThread-1] : Punctuate called - 2023-01-05T16:54:43.543Z\n2023-01-05 11:54:43.543  INFO 71096 --- [-StreamThread-1] : Punctuate called - 2023-01-05T16:54:43.543Z\n2023-01-05 11:54:43.543  INFO 71096 --- [-StreamThread-1] : Punctuate called - 2023-01-05T16:54:43.543Z\n2023-01-05 11:54:43.543  INFO 71096 --- [-StreamThread-1] : Punctuate called - 2023-01-05T16:54:43.543Z\n2023-01-05 11:54:43.543  INFO 71096 --- [-StreamThread-1] : Punctuate called - 2023-01-05T16:54:43.543Z\n2023-01-05 11:54:43.543  INFO 71096 --- [-StreamThread-1] : Punctuate called - 2023-01-05T16:54:43.543Z\n2023-01-05 11:54:43.543  INFO 71096 --- [-StreamThread-1] : Punctuate called - 2023-01-05T16:54:43.543Z\n2023-01-05 11:54:43.543  INFO 71096 --- [-StreamThread-1] : Punctuate called - 2023-01-05T16:54:43.543Z\n2023-01-05 11:54:43.543  INFO 71096 --- [-StreamThread-1] : Punctuate called - 2023-01-05T16:54:43.543Z\n2023-01-05 11:54:43.543  INFO 71096 --- [-StreamThread-1] : Punctuate called - 2023-01-05T16:54:43.543Z\n2023-01-05 11:54:43.543  INFO 71096 --- [-StreamThread-1] : Punctuate called - 2023-01-05T16:54:43.543Z\n2023-01-05 11:54:44.451  INFO 71096 --- [-StreamThread-1] : Punctuate called - 2023-01-05T16:54:44.451Z\n</code></pre>\n<p>Even though its scheduled for 1 second I see it being called 10-20 times per second but I expected it to be called once a second. Is this expected behavior / am I misunderstanding how WALL_CLOCK punctuation works?</p>\n"},{"tags":["java","apache","jms","jndi"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1449193842,"post_id":34079586,"comment_id":55912417,"body_markdown":"The file is not found - how can we help you?","body":"The file is not found - how can we help you?"},{"owner":{"account_id":4335284,"reputation":157,"user_id":3543919,"accept_rate":0,"display_name":"Azhar Ak"},"score":0,"creation_date":1449194268,"post_id":34079586,"comment_id":55912530,"body_markdown":"That is the problem I have configured all types of jars. Also I have searched this file but unfortunately I couldn&#39;t find. Please help me I&#39;m really stuck. how can I search this file or solve this problem plz.Thank you","body":"That is the problem I have configured all types of jars. Also I have searched this file but unfortunately I couldn&#39;t find. Please help me I&#39;m really stuck. how can I search this file or solve this problem plz.Thank you"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1449194437,"post_id":34079586,"comment_id":55912580,"body_markdown":"have a look at the code https://apache.googlesource.com/qpid-jms/+/4a6bbc4ee8c7dc51712b266bd00d5a2be21253ae/qpid-jms-client/src/main/java/org/apache/qpid/jms/jndi/JmsInitialContextFactory.java","body":"have a look at the code <a href=\"https://apache.googlesource.com/qpid-jms/+/4a6bbc4ee8c7dc51712b266bd00d5a2be21253ae/qpid-jms-client/src/main/java/org/apache/qpid/jms/jndi/JmsInitialContextFactory.java\" rel=\"nofollow noreferrer\">apache.googlesource.com/qpid-jms/+/&hellip;</a>"},{"owner":{"account_id":4335284,"reputation":157,"user_id":3543919,"accept_rate":0,"display_name":"Azhar Ak"},"score":0,"creation_date":1449194627,"post_id":34079586,"comment_id":55912647,"body_markdown":"private static InitialContext getInitialContext() throws NamingException {\n\t\tHashtable&lt;Object, Object&gt; env = new Hashtable&lt;Object, Object&gt;();\n\t\tenv.put(Context.INITIAL_CONTEXT_FACTORY, &quot;org.apache.qpid.jms.jndi.JmsInitialContextFactory&quot;);\n\t\tenv.put(Context.PROVIDER_URL, &quot;amqp://192.168.1.1:5672&quot;);\n\t\tenv.put(Context.SECURITY_PRINCIPAL, &quot;admin&quot;);\n\t\tenv.put(Context.SECURITY_CREDENTIALS, &quot;admin&quot;);\n\t\treturn new InitialContext(env);\n\t}\n\nwhen object intialiezes it throws exception, Thank you so much Scary Wombat for your support","body":"private static InitialContext getInitialContext() throws NamingException { \t\tHashtable&lt;Object, Object&gt; env = new Hashtable&lt;Object, Object&gt;(); \t\tenv.put(Context.INITIAL_CONTEXT_FACTORY, &quot;org.apache.qpid.jms.jndi.JmsInitialContextFactory&quot;); \t\tenv.put(Context.PROVIDER_URL, &quot;amqp://192.168.1.1:5672&quot;); \t\tenv.put(Context.SECURITY_PRINCIPAL, &quot;admin&quot;); \t\tenv.put(Context.SECURITY_CREDENTIALS, &quot;admin&quot;); \t\treturn new InitialContext(env); \t}  when object intialiezes it throws exception, Thank you so much Scary Wombat for your support"},{"owner":{"account_id":6769665,"reputation":1542,"user_id":5213405,"display_name":"pro_cheats"},"score":0,"creation_date":1512563478,"post_id":34079586,"comment_id":82307431,"body_markdown":"were you able to fix it? I am facing the same error too :(","body":"were you able to fix it? I am facing the same error too :("}],"answers":[{"tags":[],"owner":{"account_id":27512245,"reputation":1,"user_id":20993932,"display_name":"Yuliia Polshvedkina"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673543706,"creation_date":1673543706,"answer_id":75100011,"question_id":34079586,"body_markdown":"I ran into the same issue using QPID JMS from JMeter jms subscriber.\r\nThat happened because under &quot;Provider URL&quot; QPID expects not URLs like &quot;amqp://192.168.130.1:5672&quot; but the path to JNDI file that contains the connection URL.","title":"Unable to load property file amqp:","body":"<p>I ran into the same issue using QPID JMS from JMeter jms subscriber.\nThat happened because under &quot;Provider URL&quot; QPID expects not URLs like &quot;amqp://192.168.130.1:5672&quot; but the path to JNDI file that contains the connection URL.</p>\n"}],"owner":{"account_id":4335284,"reputation":157,"user_id":3543919,"accept_rate":0,"display_name":"Azhar Ak"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":884,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1673543706,"creation_date":1449193721,"question_id":34079586,"body_markdown":"I&#39;m using qpid jms, I&#39;m a client, and using simple monogramming in Eclipse not with Maven or other modules.\r\n\r\n    Exception in thread &quot;main&quot; javax.naming.NamingException: Unable to load property file: amqp://192.168.130.1:5672. [Root exception is java.io.FileNotFoundException: amqp:\\192.168.130.1:5672 (?????????????????????? ???????????????)]\r\n    \tat org.apache.qpid.jms.jndi.JmsInitialContextFactory.getInitialContext(JmsInitialContextFactory.java:109)\r\n    \tat javax.naming.spi.NamingManager.getInitialContext(Unknown Source)\r\n    \tat javax.naming.InitialContext.getDefaultInitCtx(Unknown Source)\r\n    \tat javax.naming.InitialContext.init(Unknown Source)\r\n    \tat javax.naming.InitialContext.&lt;init&gt;(Unknown Source)\r\n    \tat enri.fixm301.semilive.publisher.MessagePublisher.getInitialContext(MessagePublisher.java:134)\r\n    \tat enri.fixm301.semilive.publisher.MessagePublisher.startConnection(MessagePublisher.java:138)\r\n    \tat enri.fixm301.semilive.publisher.Publish.main(Publish.java:38)\r\n    Caused by: java.io.FileNotFoundException: amqp:\\192.168.130.1:5672 (?????????????????????? ???????????????)\r\n    \tat java.io.FileInputStream.open(Native Method)\r\n    \tat java.io.FileInputStream.&lt;init&gt;(Unknown Source)\r\n    \tat java.io.FileInputStream.&lt;init&gt;(Unknown Source)\r\n    \tat org.apache.qpid.jms.jndi.JmsInitialContextFactory.getInitialContext(JmsInitialContextFactory.java:92)\r\n    \t... 7 more","title":"Unable to load property file amqp:","body":"<p>I'm using qpid jms, I'm a client, and using simple monogramming in Eclipse not with Maven or other modules.</p>\n\n<pre><code>Exception in thread \"main\" javax.naming.NamingException: Unable to load property file: amqp://192.168.130.1:5672. [Root exception is java.io.FileNotFoundException: amqp:\\192.168.130.1:5672 (?????????????????????? ???????????????)]\n    at org.apache.qpid.jms.jndi.JmsInitialContextFactory.getInitialContext(JmsInitialContextFactory.java:109)\n    at javax.naming.spi.NamingManager.getInitialContext(Unknown Source)\n    at javax.naming.InitialContext.getDefaultInitCtx(Unknown Source)\n    at javax.naming.InitialContext.init(Unknown Source)\n    at javax.naming.InitialContext.&lt;init&gt;(Unknown Source)\n    at enri.fixm301.semilive.publisher.MessagePublisher.getInitialContext(MessagePublisher.java:134)\n    at enri.fixm301.semilive.publisher.MessagePublisher.startConnection(MessagePublisher.java:138)\n    at enri.fixm301.semilive.publisher.Publish.main(Publish.java:38)\nCaused by: java.io.FileNotFoundException: amqp:\\192.168.130.1:5672 (?????????????????????? ???????????????)\n    at java.io.FileInputStream.open(Native Method)\n    at java.io.FileInputStream.&lt;init&gt;(Unknown Source)\n    at java.io.FileInputStream.&lt;init&gt;(Unknown Source)\n    at org.apache.qpid.jms.jndi.JmsInitialContextFactory.getInitialContext(JmsInitialContextFactory.java:92)\n    ... 7 more\n</code></pre>\n"},{"tags":["java","android","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":24021591,"reputation":114,"user_id":18003799,"display_name":"Seife"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1673504122,"creation_date":1673504122,"answer_id":75092258,"question_id":75084900,"body_markdown":"My guess is you are deleting the data from sqlite but not from *BookingArrayList* you have passed to the adapter. It would be clear if you show us your recycler activity, but i think what you did is fetch data from sqlite and add them to *BookingArrayList*. So when you delete the data you are doing it to the sql DB. you need to also remove it from the array and notify your adapter in order for it to have an effect on your view.","title":"How to remove item from sqlite database and recycle view on java android","body":"<p>My guess is you are deleting the data from sqlite but not from <em>BookingArrayList</em> you have passed to the adapter. It would be clear if you show us your recycler activity, but i think what you did is fetch data from sqlite and add them to <em>BookingArrayList</em>. So when you delete the data you are doing it to the sql DB. you need to also remove it from the array and notify your adapter in order for it to have an effect on your view.</p>\n"}],"owner":{"account_id":26240858,"reputation":15,"user_id":19915201,"display_name":"Muqri Hafiy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75092258,"answer_count":1,"score":-1,"last_activity_date":1673543660,"creation_date":1673448544,"question_id":75084900,"body_markdown":"I have tried to initiate the function that removes one of my item from my sqlite database however nothing change. Supposedly there is a button on of the item in my recycle view that acts as a delete button to remove the object from the recycle view. But everytime i click it, nothing changed. Any tips on how to solve it?\r\n\r\nthis is my recycle view \r\n```\r\npackage com.example.myapplication.recyclerview;\r\n\r\nimport android.app.AlertDialog;\r\nimport android.content.Context;\r\nimport android.content.DialogInterface;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Button;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.example.myapplication.DBhelper;\r\nimport com.example.myapplication.R;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class bookingRecycleView extends RecyclerView.Adapter&lt;bookingRecycleView.ViewHolder&gt; {\r\n\r\n    // variable for our array list and context\r\n    private ArrayList&lt;Booking&gt; BookingArrayList;\r\n    private Context context;\r\n    DBhelper db;\r\n    String name;\r\n    // constructor\r\n    public bookingRecycleView(ArrayList&lt;Booking&gt; BookingArrayList, Context context) {\r\n        this.BookingArrayList = BookingArrayList;\r\n        this.context = context;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        // on below line we are inflating our layout\r\n        // file for our recycler view items.\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.rbooking_row, parent, false);\r\n        return new ViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n        // on below line we are setting data \r\n        // to our views of recycler view item.\r\n        Booking modal = BookingArrayList.get(position);\r\n        holder.tv_name.setText(BookingArrayList.get(position).getName());\r\n        holder.tv_bookingBategory.setText(BookingArrayList.get(position).getNotes());\r\n        holder.tv_paymentStatus.setText(BookingArrayList.get(position).getBookingCheck());\r\n        holder.button_delete_booking.setOnClickListener(view -&gt; {\r\n\r\n            Toast.makeText(view.getContext(),String.valueOf(BookingArrayList.get(position).getBookingid()),Toast.LENGTH_SHORT).show();\r\n            AlertDialog.Builder builder = new AlertDialog.Builder(context);\r\n\r\n            // Set a title for alert dialog\r\n            builder.setTitle(&quot;Are you sure you want to delete this ?&quot;);\r\n\r\n            // Ask the final question\r\n            builder.setMessage(&quot;Deleted data cannot be undone.&quot;);\r\n\r\n            // Set the alert dialog yes button click listener\r\n            builder.setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\r\n                @Override\r\n\r\n                public void onClick(DialogInterface dialog, int which) {\r\n                    db = new DBhelper(context);\r\n                    db.deleteCourse(name);\r\n\r\n                }\r\n\r\n            });\r\n\r\n            // Set the alert dialog no button click listener\r\n            builder.setNegativeButton(&quot;No&quot;, new DialogInterface.OnClickListener() {\r\n                @Override\r\n                public void onClick(DialogInterface dialog, int which) {\r\n\r\n                }\r\n            });\r\n\r\n            AlertDialog dialog = builder.create();\r\n            // Display the alert dialog on interface\r\n            dialog.show();\r\n\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        // returning the size of our array list\r\n        return BookingArrayList.size();\r\n    }\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        // creating variables for our text views.\r\n        public TextView tv_name,tv_bookingBategory,tv_paymentStatus;\r\n        public Button button_delete_booking;\r\n\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            // initializing our text views\r\n            tv_name = itemView.findViewById(R.id.tv_nameCrew);\r\n            tv_bookingBategory = itemView.findViewById(R.id.tv_crewProgress);\r\n            tv_paymentStatus = itemView.findViewById(R.id.tv_crewQuantity);\r\n            button_delete_booking = itemView.findViewById(R.id.button_delete_booking);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\ndbhelper\r\n```\r\npackage com.example.myapplication;\r\n\r\nimport android.content.ContentValues;\r\nimport android.content.Context;\r\nimport android.content.DialogInterface;\r\nimport android.database.Cursor;\r\nimport android.database.sqlite.SQLiteDatabase;\r\nimport android.database.sqlite.SQLiteOpenHelper;\r\n\r\nimport androidx.annotation.Nullable;\r\n\r\nimport com.example.myapplication.recyclerview.Booking;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class DBhelper extends SQLiteOpenHelper {\r\n    public static final  String DBNAME=&quot;database.db&quot;;\r\n    private static final String TABLE_NAME = &quot;booking&quot;;\r\n\r\n    public DBhelper(@Nullable Context context) {\r\n        super((Context) context,&quot;database.db&quot;, null, 1);\r\n    }\r\n\r\n    public DBhelper(DialogInterface.OnClickListener onClickListener) {\r\n        super((Context) onClickListener,&quot;database.db&quot;, null, 1);\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onCreate(SQLiteDatabase db) {\r\n\r\n         db.execSQL(&quot;create table users(username TEXT primary key, password TEXT )&quot;);\r\n         db.execSQL(&quot;create table &quot;+TABLE_NAME+&quot;(serviceID INTEGER , name TEXT,notes TEXT,email TEXT,phone TEXT,bookingcheck INTEGER )&quot;);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onUpgrade(SQLiteDatabase db, int i, int i1) {\r\n        db.execSQL(&quot;drop table if exists users&quot;);\r\n        db.execSQL(&quot;drop table if exists &quot; + TABLE_NAME);\r\n        onCreate(db);\r\n    }\r\n\r\n    public Boolean insertData(String username, String password){\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n        ContentValues values = new ContentValues();\r\n        values.put(&quot;username&quot;,username);\r\n        values.put(&quot;password&quot;, password);\r\n\r\n        long result  = db.insert(&quot;users&quot;,null,values);\r\n        if(result==-1)return false;\r\n        else\r\n            return true;\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n    public void addNewBooking( int serviceID, String name,String notes, String phone, String email, int bookingcheck) {\r\n\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n\r\n        ContentValues values = new ContentValues();\r\n\r\n        // on below line we are passing all values\r\n        // along with its key and value pair.\r\n\r\n        values.put(&quot;serviceID&quot;, serviceID);\r\n        values.put(&quot;name&quot;, name);\r\n        values.put(&quot;notes&quot;, notes);\r\n        values.put(&quot;phone&quot;, phone);\r\n        values.put(&quot;email&quot;, email);\r\n        values.put( &quot;bookingcheck&quot;, bookingcheck);\r\n\r\n        // after adding all values we are passing\r\n        // content values to our table.\r\n        db.insert(TABLE_NAME, null, values);\r\n\r\n        // at last we are closing our\r\n        // database after adding database.\r\n\r\n    }\r\n\r\n\r\n    public Boolean checkusername(String username){\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n        Cursor cursor = db.rawQuery(&quot;select * from users where username = ?&quot;, new String[] {username});\r\n        if(cursor.getCount()&gt;0){\r\n            return true;\r\n        }else\r\n            return false;\r\n\r\n\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n    public Boolean checkuserpass(String username, String password){\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n        Cursor cursor = db.rawQuery(&quot;select * from users where username =? and password =?&quot;, new String[] {username,password});\r\n        if(cursor.getCount()&gt;0){\r\n            return true;\r\n        }else\r\n            return false;\r\n\r\n\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n    public ArrayList&lt;Booking&gt; readCourses() {\r\n        // on below line we are creating a\r\n        // database for reading our database.\r\n        SQLiteDatabase db = this.getReadableDatabase();\r\n\r\n        // on below line we are creating a cursor with query to read data from database.\r\n        Cursor cursorCourses = db.rawQuery(&quot;SELECT * FROM &quot; + TABLE_NAME, null);\r\n\r\n        // on below line we are creating a new array list.\r\n        ArrayList&lt;Booking&gt; courseModalArrayList = new ArrayList&lt;&gt;();\r\n\r\n        // moving our cursor to first position.\r\n        if (cursorCourses.moveToFirst()) {\r\n            do {\r\n                // on below line we are adding the data from cursor to our array list.\r\n                courseModalArrayList.add(new Booking(cursorCourses.getInt(0),\r\n                        cursorCourses.getString(1),\r\n                        cursorCourses.getString(2),\r\n                        cursorCourses.getString(3),\r\n                        cursorCourses.getString(4),\r\n                        cursorCourses.getInt(5)));\r\n            } while (cursorCourses.moveToNext());\r\n            // moving our cursor to next.\r\n        }\r\n        // at last closing our cursor\r\n        // and returning our array list.\r\n        cursorCourses.close();\r\n        return courseModalArrayList;\r\n    }\r\n\r\n    public void deleteCourse(String name) {\r\n\r\n        // on below line we are creating\r\n        // a variable to write our database.\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n\r\n        // on below line we are calling a method to delete our\r\n        // course and we are comparing it with our course name.\r\n        db.delete(TABLE_NAME, &quot;name=?&quot;, new String[]{name});\r\n        db.close();\r\n    }\r\n\r\n}\r\n```\r\nthis is my bookingactivity (where the recycleview is shown at)\r\n```\r\npackage com.example.myapplication.booking;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.example.myapplication.DBhelper;\r\nimport com.example.myapplication.R;\r\nimport com.example.myapplication.recyclerview.Booking;\r\nimport com.example.myapplication.recyclerview.bookingRecycleView;\r\nimport com.google.android.material.floatingactionbutton.FloatingActionButton;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class BookingActivity extends AppCompatActivity {\r\n\r\n\r\n    DBhelper db;\r\n\r\n    LinearLayoutManager linearLayoutManager;\r\n\r\n\r\n    public FloatingActionButton fbtn_createBooking;\r\n    private bookingRecycleView BookingRecycleView;\r\n    private ArrayList&lt;Booking&gt; BookingArrayList;\r\n    private RecyclerView recyclerView;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_booking);\r\n\r\n        BookingArrayList = new ArrayList&lt;&gt;();\r\n        db =new DBhelper(this);\r\n        BookingArrayList = db.readCourses();\r\n\r\n\r\n        BookingRecycleView = new bookingRecycleView(BookingArrayList, BookingActivity.this);\r\n        recyclerView = findViewById(R.id. recycler_view);\r\n\r\n        linearLayoutManager = new LinearLayoutManager(BookingActivity.this);\r\n        recyclerView.setLayoutManager(linearLayoutManager);\r\n\r\n        recyclerView.setAdapter(BookingRecycleView);\r\n        BookingRecycleView.notifyDataSetChanged();\r\n\r\n\r\n\r\n        fbtn_createBooking =findViewById(R.id.fbtn_createBooking);\r\n\r\n        fbtn_createBooking.setOnClickListener(new View.OnClickListener() {\r\n            String name;\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                Intent intent = new Intent(BookingActivity.this, AddBookingDetail.class);\r\n\r\n                startActivity(intent);\r\n\r\n\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n}\r\n```","title":"How to remove item from sqlite database and recycle view on java android","body":"<p>I have tried to initiate the function that removes one of my item from my sqlite database however nothing change. Supposedly there is a button on of the item in my recycle view that acts as a delete button to remove the object from the recycle view. But everytime i click it, nothing changed. Any tips on how to solve it?</p>\n<p>this is my recycle view</p>\n<pre><code>package com.example.myapplication.recyclerview;\n\nimport android.app.AlertDialog;\nimport android.content.Context;\nimport android.content.DialogInterface;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Button;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.example.myapplication.DBhelper;\nimport com.example.myapplication.R;\n\nimport java.util.ArrayList;\n\npublic class bookingRecycleView extends RecyclerView.Adapter&lt;bookingRecycleView.ViewHolder&gt; {\n\n    // variable for our array list and context\n    private ArrayList&lt;Booking&gt; BookingArrayList;\n    private Context context;\n    DBhelper db;\n    String name;\n    // constructor\n    public bookingRecycleView(ArrayList&lt;Booking&gt; BookingArrayList, Context context) {\n        this.BookingArrayList = BookingArrayList;\n        this.context = context;\n    }\n\n    @NonNull\n    @Override\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        // on below line we are inflating our layout\n        // file for our recycler view items.\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.rbooking_row, parent, false);\n        return new ViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n        // on below line we are setting data \n        // to our views of recycler view item.\n        Booking modal = BookingArrayList.get(position);\n        holder.tv_name.setText(BookingArrayList.get(position).getName());\n        holder.tv_bookingBategory.setText(BookingArrayList.get(position).getNotes());\n        holder.tv_paymentStatus.setText(BookingArrayList.get(position).getBookingCheck());\n        holder.button_delete_booking.setOnClickListener(view -&gt; {\n\n            Toast.makeText(view.getContext(),String.valueOf(BookingArrayList.get(position).getBookingid()),Toast.LENGTH_SHORT).show();\n            AlertDialog.Builder builder = new AlertDialog.Builder(context);\n\n            // Set a title for alert dialog\n            builder.setTitle(&quot;Are you sure you want to delete this ?&quot;);\n\n            // Ask the final question\n            builder.setMessage(&quot;Deleted data cannot be undone.&quot;);\n\n            // Set the alert dialog yes button click listener\n            builder.setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\n                @Override\n\n                public void onClick(DialogInterface dialog, int which) {\n                    db = new DBhelper(context);\n                    db.deleteCourse(name);\n\n                }\n\n            });\n\n            // Set the alert dialog no button click listener\n            builder.setNegativeButton(&quot;No&quot;, new DialogInterface.OnClickListener() {\n                @Override\n                public void onClick(DialogInterface dialog, int which) {\n\n                }\n            });\n\n            AlertDialog dialog = builder.create();\n            // Display the alert dialog on interface\n            dialog.show();\n\n        });\n    }\n\n    @Override\n    public int getItemCount() {\n        // returning the size of our array list\n        return BookingArrayList.size();\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder {\n\n        // creating variables for our text views.\n        public TextView tv_name,tv_bookingBategory,tv_paymentStatus;\n        public Button button_delete_booking;\n\n        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n            // initializing our text views\n            tv_name = itemView.findViewById(R.id.tv_nameCrew);\n            tv_bookingBategory = itemView.findViewById(R.id.tv_crewProgress);\n            tv_paymentStatus = itemView.findViewById(R.id.tv_crewQuantity);\n            button_delete_booking = itemView.findViewById(R.id.button_delete_booking);\n        }\n    }\n}\n</code></pre>\n<p>dbhelper</p>\n<pre><code>package com.example.myapplication;\n\nimport android.content.ContentValues;\nimport android.content.Context;\nimport android.content.DialogInterface;\nimport android.database.Cursor;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.database.sqlite.SQLiteOpenHelper;\n\nimport androidx.annotation.Nullable;\n\nimport com.example.myapplication.recyclerview.Booking;\n\nimport java.util.ArrayList;\n\npublic class DBhelper extends SQLiteOpenHelper {\n    public static final  String DBNAME=&quot;database.db&quot;;\n    private static final String TABLE_NAME = &quot;booking&quot;;\n\n    public DBhelper(@Nullable Context context) {\n        super((Context) context,&quot;database.db&quot;, null, 1);\n    }\n\n    public DBhelper(DialogInterface.OnClickListener onClickListener) {\n        super((Context) onClickListener,&quot;database.db&quot;, null, 1);\n    }\n\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n\n         db.execSQL(&quot;create table users(username TEXT primary key, password TEXT )&quot;);\n         db.execSQL(&quot;create table &quot;+TABLE_NAME+&quot;(serviceID INTEGER , name TEXT,notes TEXT,email TEXT,phone TEXT,bookingcheck INTEGER )&quot;);\n\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int i, int i1) {\n        db.execSQL(&quot;drop table if exists users&quot;);\n        db.execSQL(&quot;drop table if exists &quot; + TABLE_NAME);\n        onCreate(db);\n    }\n\n    public Boolean insertData(String username, String password){\n        SQLiteDatabase db = this.getWritableDatabase();\n        ContentValues values = new ContentValues();\n        values.put(&quot;username&quot;,username);\n        values.put(&quot;password&quot;, password);\n\n        long result  = db.insert(&quot;users&quot;,null,values);\n        if(result==-1)return false;\n        else\n            return true;\n\n\n\n\n    }\n\n    public void addNewBooking( int serviceID, String name,String notes, String phone, String email, int bookingcheck) {\n\n        SQLiteDatabase db = this.getWritableDatabase();\n\n        ContentValues values = new ContentValues();\n\n        // on below line we are passing all values\n        // along with its key and value pair.\n\n        values.put(&quot;serviceID&quot;, serviceID);\n        values.put(&quot;name&quot;, name);\n        values.put(&quot;notes&quot;, notes);\n        values.put(&quot;phone&quot;, phone);\n        values.put(&quot;email&quot;, email);\n        values.put( &quot;bookingcheck&quot;, bookingcheck);\n\n        // after adding all values we are passing\n        // content values to our table.\n        db.insert(TABLE_NAME, null, values);\n\n        // at last we are closing our\n        // database after adding database.\n\n    }\n\n\n    public Boolean checkusername(String username){\n        SQLiteDatabase db = this.getWritableDatabase();\n        Cursor cursor = db.rawQuery(&quot;select * from users where username = ?&quot;, new String[] {username});\n        if(cursor.getCount()&gt;0){\n            return true;\n        }else\n            return false;\n\n\n\n\n\n\n    }\n\n    public Boolean checkuserpass(String username, String password){\n        SQLiteDatabase db = this.getWritableDatabase();\n        Cursor cursor = db.rawQuery(&quot;select * from users where username =? and password =?&quot;, new String[] {username,password});\n        if(cursor.getCount()&gt;0){\n            return true;\n        }else\n            return false;\n\n\n\n\n\n\n    }\n\n    public ArrayList&lt;Booking&gt; readCourses() {\n        // on below line we are creating a\n        // database for reading our database.\n        SQLiteDatabase db = this.getReadableDatabase();\n\n        // on below line we are creating a cursor with query to read data from database.\n        Cursor cursorCourses = db.rawQuery(&quot;SELECT * FROM &quot; + TABLE_NAME, null);\n\n        // on below line we are creating a new array list.\n        ArrayList&lt;Booking&gt; courseModalArrayList = new ArrayList&lt;&gt;();\n\n        // moving our cursor to first position.\n        if (cursorCourses.moveToFirst()) {\n            do {\n                // on below line we are adding the data from cursor to our array list.\n                courseModalArrayList.add(new Booking(cursorCourses.getInt(0),\n                        cursorCourses.getString(1),\n                        cursorCourses.getString(2),\n                        cursorCourses.getString(3),\n                        cursorCourses.getString(4),\n                        cursorCourses.getInt(5)));\n            } while (cursorCourses.moveToNext());\n            // moving our cursor to next.\n        }\n        // at last closing our cursor\n        // and returning our array list.\n        cursorCourses.close();\n        return courseModalArrayList;\n    }\n\n    public void deleteCourse(String name) {\n\n        // on below line we are creating\n        // a variable to write our database.\n        SQLiteDatabase db = this.getWritableDatabase();\n\n        // on below line we are calling a method to delete our\n        // course and we are comparing it with our course name.\n        db.delete(TABLE_NAME, &quot;name=?&quot;, new String[]{name});\n        db.close();\n    }\n\n}\n</code></pre>\n<p>this is my bookingactivity (where the recycleview is shown at)</p>\n<pre><code>package com.example.myapplication.booking;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.example.myapplication.DBhelper;\nimport com.example.myapplication.R;\nimport com.example.myapplication.recyclerview.Booking;\nimport com.example.myapplication.recyclerview.bookingRecycleView;\nimport com.google.android.material.floatingactionbutton.FloatingActionButton;\n\nimport java.util.ArrayList;\n\npublic class BookingActivity extends AppCompatActivity {\n\n\n    DBhelper db;\n\n    LinearLayoutManager linearLayoutManager;\n\n\n    public FloatingActionButton fbtn_createBooking;\n    private bookingRecycleView BookingRecycleView;\n    private ArrayList&lt;Booking&gt; BookingArrayList;\n    private RecyclerView recyclerView;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_booking);\n\n        BookingArrayList = new ArrayList&lt;&gt;();\n        db =new DBhelper(this);\n        BookingArrayList = db.readCourses();\n\n\n        BookingRecycleView = new bookingRecycleView(BookingArrayList, BookingActivity.this);\n        recyclerView = findViewById(R.id. recycler_view);\n\n        linearLayoutManager = new LinearLayoutManager(BookingActivity.this);\n        recyclerView.setLayoutManager(linearLayoutManager);\n\n        recyclerView.setAdapter(BookingRecycleView);\n        BookingRecycleView.notifyDataSetChanged();\n\n\n\n        fbtn_createBooking =findViewById(R.id.fbtn_createBooking);\n\n        fbtn_createBooking.setOnClickListener(new View.OnClickListener() {\n            String name;\n            @Override\n            public void onClick(View view) {\n\n                Intent intent = new Intent(BookingActivity.this, AddBookingDetail.class);\n\n                startActivity(intent);\n\n\n\n            }\n        });\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","bitmap","retrofit2","android-glide"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1673545172,"post_id":75099950,"comment_id":132528785,"body_markdown":"Why would you load an image file in a bitmap and then compress the bitmap to an image file back? Makes no sense to me.","body":"Why would you load an image file in a bitmap and then compress the bitmap to an image file back? Makes no sense to me."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1673545251,"post_id":75099950,"comment_id":132528816,"body_markdown":"`and compress it using Glide . ` ? You cannot use Glide to compress a bitmap.","body":"<code>and compress it using Glide . </code> ? You cannot use Glide to compress a bitmap."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1673545300,"post_id":75099950,"comment_id":132528836,"body_markdown":"There is nothing in your code using Glide.","body":"There is nothing in your code using Glide."},{"owner":{"account_id":25311834,"reputation":73,"user_id":19134480,"display_name":"Patrick Renaud"},"score":0,"creation_date":1673545572,"post_id":75099950,"comment_id":132528931,"body_markdown":"@blackapps i want to compress the bitmap using glide and i don t know how to do it","body":"@blackapps i want to compress the bitmap using glide and i don t know how to do it"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1673545962,"post_id":75099950,"comment_id":132529045,"body_markdown":"Can you read? Repeat: `You cannot use Glide to compress a bitmap.`.","body":"Can you read? Repeat: <code>You cannot use Glide to compress a bitmap.</code>."}],"owner":{"account_id":25311834,"reputation":73,"user_id":19134480,"display_name":"Patrick Renaud"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673543422,"creation_date":1673543422,"question_id":75099950,"body_markdown":"I am implementing an android app ( in java) in which am sending images taken with the camera , that will be sent over the internet through Apis . The problem is , it takes some more few seconds to be loaded on the backend side  and i want the process to be faster . So i want  to convert images into Bitmap and compress it using Glide . How can i figure it out it ? How can i take the image from the external storage using Glide . Here &#39;s what i&#39;ve done\r\n\r\n     Bitmap bitmap = BitmapFactory.decodeFile(creanceDetteList.get(i).getEncodedImagePath());\r\n                    //Convert bitmap to byteArray\r\n                    ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\r\n                    bitmap.compress(Bitmap.CompressFormat.PNG, 100, byteArrayOutputStream);\r\n                    byte[] byteArray = byteArrayOutputStream .toByteArray();\r\n                    //Then convert to base64\r\n                    String encodedImage= Base64.encodeToString(byteArray, Base64.DEFAULT);","title":"How to compress image converted to a Bitmap , using glide","body":"<p>I am implementing an android app ( in java) in which am sending images taken with the camera , that will be sent over the internet through Apis . The problem is , it takes some more few seconds to be loaded on the backend side  and i want the process to be faster . So i want  to convert images into Bitmap and compress it using Glide . How can i figure it out it ? How can i take the image from the external storage using Glide . Here 's what i've done</p>\n<pre><code> Bitmap bitmap = BitmapFactory.decodeFile(creanceDetteList.get(i).getEncodedImagePath());\n                //Convert bitmap to byteArray\n                ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\n                bitmap.compress(Bitmap.CompressFormat.PNG, 100, byteArrayOutputStream);\n                byte[] byteArray = byteArrayOutputStream .toByteArray();\n                //Then convert to base64\n                String encodedImage= Base64.encodeToString(byteArray, Base64.DEFAULT);\n</code></pre>\n"},{"tags":["java","apache-spark","hive"],"answers":[{"tags":[],"owner":{"account_id":26241395,"reputation":3478,"user_id":19915660,"display_name":"M_S"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673542645,"creation_date":1673542645,"answer_id":75099795,"question_id":75098986,"body_markdown":"You can add it with lit function during select\r\n\r\n    .select(\r\n                        joinedDs.col(&quot;AGREEMENT_ID&quot;),\r\n                        lit(&quot;YOUR_CONSTANT_VALUE&quot;).as(&quot;YOUR_COL_NAME&quot;),\r\n                        joinedDs.col(&quot;ERROR_MESSAGE&quot;)\r\n                )","title":"Add a column with constant value into Spark Dataset in Java?","body":"<p>You can add it with lit function during select</p>\n<pre><code>.select(\n                    joinedDs.col(&quot;AGREEMENT_ID&quot;),\n                    lit(&quot;YOUR_CONSTANT_VALUE&quot;).as(&quot;YOUR_COL_NAME&quot;),\n                    joinedDs.col(&quot;ERROR_MESSAGE&quot;)\n            )\n</code></pre>\n"}],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75099795,"answer_count":1,"score":-1,"last_activity_date":1673542645,"creation_date":1673538706,"question_id":75098986,"body_markdown":"I&#39;m working on a report generation with Spark and I need to be able to somehow add a column with constant value into a Dataset created with `Dataset.select()` and then flushed into CSV file:\r\n```java\r\nprivate static void buildReport(FileSystem fileSystem, Dataset&lt;Row&gt; joinedDs, String reportName) throws IOException {\r\n    Path report = new Path(reportName);\r\n    joinedDs.filter(aFlter)\r\n            .select(\r\n                    joinedDs.col(&quot;AGREEMENT_ID&quot;),\r\n                    //... here I need to insert a column with constant value\r\n                    joinedDs.col(&quot;ERROR_MESSAGE&quot;)\r\n            )\r\n            .write()\r\n            .format(&quot;csv&quot;)\r\n            .option(&quot;header&quot;, true)\r\n            .option(&quot;sep&quot;, &quot;,&quot;)\r\n            .csv(reportName);\r\n\r\n    fileSystem.copyToLocalFile(report, new Path(reportName + &quot;.csv&quot;));\r\n}\r\n```\r\nI don&#39;t want to insert the column manually into created CSV file, I&#39;d like to have the column there at file creation time.\r\n","title":"Add a column with constant value into Spark Dataset in Java?","body":"<p>I'm working on a report generation with Spark and I need to be able to somehow add a column with constant value into a Dataset created with <code>Dataset.select()</code> and then flushed into CSV file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static void buildReport(FileSystem fileSystem, Dataset&lt;Row&gt; joinedDs, String reportName) throws IOException {\n    Path report = new Path(reportName);\n    joinedDs.filter(aFlter)\n            .select(\n                    joinedDs.col(&quot;AGREEMENT_ID&quot;),\n                    //... here I need to insert a column with constant value\n                    joinedDs.col(&quot;ERROR_MESSAGE&quot;)\n            )\n            .write()\n            .format(&quot;csv&quot;)\n            .option(&quot;header&quot;, true)\n            .option(&quot;sep&quot;, &quot;,&quot;)\n            .csv(reportName);\n\n    fileSystem.copyToLocalFile(report, new Path(reportName + &quot;.csv&quot;));\n}\n</code></pre>\n<p>I don't want to insert the column manually into created CSV file, I'd like to have the column there at file creation time.</p>\n"},{"tags":["java","class","compilation"],"comments":[{"owner":{"account_id":53772,"reputation":22307,"user_id":160811,"accept_rate":100,"display_name":"Jeremy"},"score":0,"creation_date":1313434386,"post_id":7069067,"comment_id":8457887,"body_markdown":"What is the declared package in your class? Also, does your directory structure mimic the package declaration?","body":"What is the declared package in your class? Also, does your directory structure mimic the package declaration?"}],"answers":[{"tags":[],"owner":{"account_id":451393,"reputation":27790,"user_id":847269,"accept_rate":100,"display_name":"Patrick87"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1313433778,"creation_date":1313433466,"answer_id":7069087,"question_id":7069067,"body_markdown":"You need to compile your .java file with javac:\r\n\r\n      javac MyFile.java\r\n\r\nThen run the file using java\r\n\r\n      java MyFile\r\n\r\nIf you&#39;re doing this and it still doesn&#39;t work, that means you need to make sure the file and the class name inside the file have the same name... so MyFile.java contains\r\n\r\n      class MyFile\r\n      {\r\n         // ...\r\n         public static void main(String[] args)\r\n         {\r\n            // ...\r\n         }\r\n         // ...\r\n      }\r\n","title":"Why am I getting a NoClassDefFoundError when I run a Java class file from the command line in Linux?","body":"<p>You need to compile your .java file with javac:</p>\n\n<pre><code>  javac MyFile.java\n</code></pre>\n\n<p>Then run the file using java</p>\n\n<pre><code>  java MyFile\n</code></pre>\n\n<p>If you're doing this and it still doesn't work, that means you need to make sure the file and the class name inside the file have the same name... so MyFile.java contains</p>\n\n<pre><code>  class MyFile\n  {\n     // ...\n     public static void main(String[] args)\n     {\n        // ...\n     }\n     // ...\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":335255,"reputation":12716,"user_id":662250,"accept_rate":85,"display_name":"Ankur"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1313433568,"creation_date":1313433568,"answer_id":7069105,"question_id":7069067,"body_markdown":"Use \r\n`java  testJava.test` from the parent directory of testJava","title":"Why am I getting a NoClassDefFoundError when I run a Java class file from the command line in Linux?","body":"<p>Use \n<code>java  testJava.test</code> from the parent directory of testJava</p>\n"},{"tags":[],"owner":{"account_id":53772,"reputation":22307,"user_id":160811,"accept_rate":100,"display_name":"Jeremy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1313433909,"creation_date":1313433909,"answer_id":7069188,"question_id":7069067,"body_markdown":"Assuming your class looks like this:\r\n\r\n    package javaTest;\r\n\r\n    public class test{\r\n        public static void main(String[] a){\r\n            System.out.println(&quot;Test&quot;);\r\n        }\r\n    }\r\n\r\nThen to compile and run the file, you basically do this:\r\n\r\n    $ ls\r\n    testJava\r\n    $ ls testJava\r\n    test.java\r\n    $ javac testJava/test.java\r\n    $ java testJava.test\r\n    Test\r\n\r\nWhat this means is that you have to run the class with its fully qualified name, which includes the package name of the class.You also have to do it *from* the directory that conatins the root of your package. (Unless you specify the &quot;root&quot; directory with the `-cp` flag.)","title":"Why am I getting a NoClassDefFoundError when I run a Java class file from the command line in Linux?","body":"<p>Assuming your class looks like this:</p>\n\n<pre><code>package javaTest;\n\npublic class test{\n    public static void main(String[] a){\n        System.out.println(\"Test\");\n    }\n}\n</code></pre>\n\n<p>Then to compile and run the file, you basically do this:</p>\n\n<pre><code>$ ls\ntestJava\n$ ls testJava\ntest.java\n$ javac testJava/test.java\n$ java testJava.test\nTest\n</code></pre>\n\n<p>What this means is that you have to run the class with its fully qualified name, which includes the package name of the class.You also have to do it <em>from</em> the directory that conatins the root of your package. (Unless you specify the \"root\" directory with the <code>-cp</code> flag.)</p>\n"},{"tags":[],"owner":{"account_id":465916,"reputation":97,"user_id":870340,"display_name":"Manohar Bhattarai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673542641,"creation_date":1313434157,"answer_id":7069231,"question_id":7069067,"body_markdown":"I too had problem initially.\r\n\r\njava -cp . Test\r\n\r\n","title":"Why am I getting a NoClassDefFoundError when I run a Java class file from the command line in Linux?","body":"<p>I too had problem initially.</p>\n<p>java -cp . Test</p>\n"}],"owner":{"account_id":469838,"reputation":6333,"user_id":876686,"accept_rate":82,"display_name":"tier1"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8157,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":7069105,"answer_count":4,"score":9,"last_activity_date":1673542641,"creation_date":1313433385,"question_id":7069067,"body_markdown":"I am trying to run a `test.class` file from the linux command line.  I compiled the file using `javac test.java` which produced the `test.class` file.  When I run the command `java test` it throws a class not found exception.  I also tried specifying the package name with the same result.  Here is the output, can anybody help?  I believe my syntax is correct according to Google searches.\r\n\r\n\r\n    [root@localhost usr]# java test\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: test (wrong name: testJava/test)\r\n            at java.lang.ClassLoader.defineClass1(Native Method)\r\n            at java.lang.ClassLoader.defineClass(ClassLoader.java:634)\r\n            at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n            at java.net.URLClassLoader.defineClass(URLClassLoader.java:277)\r\n            at java.net.URLClassLoader.access$000(URLClassLoader.java:73)\r\n            at java.net.URLClassLoader$1.run(URLClassLoader.java:212)\r\n            at java.security.AccessController.doPrivileged(Native Method)\r\n            at java.net.URLClassLoader.findClass(URLClassLoader.java:205)\r\n            at java.lang.ClassLoader.loadClass(ClassLoader.java:321)\r\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:294)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:266)\r\n    Could not find the main class: test. Program will exit.","title":"Why am I getting a NoClassDefFoundError when I run a Java class file from the command line in Linux?","body":"<p>I am trying to run a <code>test.class</code> file from the linux command line.  I compiled the file using <code>javac test.java</code> which produced the <code>test.class</code> file.  When I run the command <code>java test</code> it throws a class not found exception.  I also tried specifying the package name with the same result.  Here is the output, can anybody help?  I believe my syntax is correct according to Google searches.</p>\n\n<pre><code>[root@localhost usr]# java test\nException in thread \"main\" java.lang.NoClassDefFoundError: test (wrong name: testJava/test)\n        at java.lang.ClassLoader.defineClass1(Native Method)\n        at java.lang.ClassLoader.defineClass(ClassLoader.java:634)\n        at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n        at java.net.URLClassLoader.defineClass(URLClassLoader.java:277)\n        at java.net.URLClassLoader.access$000(URLClassLoader.java:73)\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:212)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:205)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:321)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:294)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:266)\nCould not find the main class: test. Program will exit.\n</code></pre>\n"},{"tags":["java","swing","transparency","jframe","jbutton"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1315675764,"post_id":7373345,"comment_id":8900113,"body_markdown":"For better help sooner, post an [SSCCE](http://pscode.org/sscce.html).","body":"For better help sooner, post an <a href=\"http://pscode.org/sscce.html\" rel=\"nofollow noreferrer\">SSCCE</a>."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":3,"creation_date":1315676988,"post_id":7373345,"comment_id":8900281,"body_markdown":"Buy [Filthy Rich Clients](http://filthyrichclients.org/) by Haase and Guy. It goes into all the details you need to do transparent components and then some. In all a **great** book for Java Swing programmers.","body":"Buy <a href=\"http://filthyrichclients.org/\" rel=\"nofollow noreferrer\">Filthy Rich Clients</a> by Haase and Guy. It goes into all the details you need to do transparent components and then some. In all a <b>great</b> book for Java Swing programmers."}],"answers":[{"tags":[],"owner":{"account_id":465916,"reputation":97,"user_id":870340,"display_name":"Manohar Bhattarai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673542595,"creation_date":1315679364,"answer_id":7373748,"question_id":7373345,"body_markdown":"Have you tried translucency?\r\n\r\nThe [translucent and shaped window API][2] was first added to the Java SE 6 Update 10 release as a private API. This functionality was moved to the public AWT package in the JDK 7 release. \r\n\r\n\r\n  [2]: http://download.oracle.com/javase/tutorial/uiswing/misc/trans_shaped_windows.html","title":"How to create partly transparent JButton on fully transparent JFrame?","body":"<p>Have you tried translucency?</p>\n<p>The <a href=\"http://download.oracle.com/javase/tutorial/uiswing/misc/trans_shaped_windows.html\" rel=\"nofollow noreferrer\">translucent and shaped window API</a> was first added to the Java SE 6 Update 10 release as a private API. This functionality was moved to the public AWT package in the JDK 7 release.</p>\n"},{"tags":[],"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1316078781,"creation_date":1315824888,"answer_id":7386768,"question_id":7373345,"body_markdown":"problem is that the button reports being fully opaque when in fact it isn&#39;t (due to the partially transparent color)\r\n\r\n      but.setOpaque(false);\r\n\r\nBTW: as you see I changed the field name to conform to java naming conventions :-) \r\n\r\n**Edit**\r\n\r\narggghh .. missed that, sorry. Need to check what we do in SwingX, from the top of my head I would say you need to override paintComponent and handle the background painting yourself, like\r\n\r\n            /** \r\n             * @inherited &lt;p&gt;\r\n             */\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                if (!isOpaque() &amp;&amp; getBackground().getAlpha() &lt; 255) {\r\n                    g.setColor(getBackground());\r\n                    g.fillRect(0, 0, getWidth(), getHeight());\r\n                }\r\n                super.paintComponent(g);\r\n            }\r\n\r\ndidn&#39;t try, though, maybe the &quot;getting more opaque&quot; is back again with doing so .. will come back tomorrow \r\n\r\n**Edit 2**\r\n\r\nokay, checked - the edited code works correctly. So in summary: components with translucent background\r\n\r\n- must report that they are not opaque to not confuse the default painting mechanism\r\n- must take over the background painting and fill it with the background color themselves (SwingX JXPanel f.i. does by explicit support for an alpha property)\r\n\r\nfor your convenience, here&#39;s a small runnable with incorrect/correct background side-by-side\r\n\r\n    public class TransparentButton  {\r\n        \r\n        public TransparentButton() {\r\n            JWindow incorrectOpaque = createWindow(&quot;incorrect opaque&quot;, true);\r\n            incorrectOpaque.setLocation(600, 600);\r\n            incorrectOpaque.setVisible(true);\r\n            JWindow correctOpaque = createWindow(&quot;correct opaque&quot;, false);\r\n            correctOpaque.setLocation(800, 600);\r\n            correctOpaque.setVisible(true);\r\n        }\r\n    \r\n        \r\n        private JButton createButton(final boolean opaque) {\r\n            JButton but = new JButton(&quot;Testing&quot;) {\r\n                \r\n                /**\r\n                 * @inherited &lt;p&gt;\r\n                 * Overridden to take over background painting with \r\n                 * transparent color.\r\n                 */\r\n                @Override\r\n                protected void paintComponent(Graphics g) {\r\n                    if (!isOpaque() &amp;&amp; getBackground().getAlpha() &lt; 255) {\r\n                        g.setColor(getBackground());\r\n                        g.fillRect(0, 0, getWidth(), getHeight());\r\n                    }\r\n                    super.paintComponent(g);\r\n                }\r\n                \r\n            };\r\n            but.setBackground(new Color(0, 0, 0, 100));\r\n            but.setForeground(new Color(70, 155, 255));\r\n            but.setOpaque(opaque);\r\n            return but;\r\n        }\r\n        \r\n        private JWindow createWindow(String text, boolean opaque) {\r\n            JWindow window = new JWindow();\r\n            JButton but = createButton(opaque);\r\n            window.add(but);\r\n            window.add(new JLabel(&quot;&quot;), BorderLayout.SOUTH);\r\n            window.setOpacity(0.5f);\r\n            window.setBackground(new Color(0, 0, 0, 0));\r\n            window.setSize(new Dimension(200, 100));\r\n            return window;\r\n        }\r\n        \r\n        public static void main(String[] Args) {\r\n            SwingUtilities.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n    \r\n                    new TransparentButton();\r\n                }\r\n            });\r\n        }\r\n    \r\n        @SuppressWarnings(&quot;unused&quot;)\r\n        private static final Logger LOG = Logger.getLogger(TransparentButton.class\r\n                .getName());\r\n    }\r\n","title":"How to create partly transparent JButton on fully transparent JFrame?","body":"<p>problem is that the button reports being fully opaque when in fact it isn't (due to the partially transparent color)</p>\n\n<pre><code>  but.setOpaque(false);\n</code></pre>\n\n<p>BTW: as you see I changed the field name to conform to java naming conventions :-) </p>\n\n<p><strong>Edit</strong></p>\n\n<p>arggghh .. missed that, sorry. Need to check what we do in SwingX, from the top of my head I would say you need to override paintComponent and handle the background painting yourself, like</p>\n\n<pre><code>        /** \n         * @inherited &lt;p&gt;\n         */\n        @Override\n        protected void paintComponent(Graphics g) {\n            if (!isOpaque() &amp;&amp; getBackground().getAlpha() &lt; 255) {\n                g.setColor(getBackground());\n                g.fillRect(0, 0, getWidth(), getHeight());\n            }\n            super.paintComponent(g);\n        }\n</code></pre>\n\n<p>didn't try, though, maybe the \"getting more opaque\" is back again with doing so .. will come back tomorrow </p>\n\n<p><strong>Edit 2</strong></p>\n\n<p>okay, checked - the edited code works correctly. So in summary: components with translucent background</p>\n\n<ul>\n<li>must report that they are not opaque to not confuse the default painting mechanism</li>\n<li>must take over the background painting and fill it with the background color themselves (SwingX JXPanel f.i. does by explicit support for an alpha property)</li>\n</ul>\n\n<p>for your convenience, here's a small runnable with incorrect/correct background side-by-side</p>\n\n<pre><code>public class TransparentButton  {\n\n    public TransparentButton() {\n        JWindow incorrectOpaque = createWindow(\"incorrect opaque\", true);\n        incorrectOpaque.setLocation(600, 600);\n        incorrectOpaque.setVisible(true);\n        JWindow correctOpaque = createWindow(\"correct opaque\", false);\n        correctOpaque.setLocation(800, 600);\n        correctOpaque.setVisible(true);\n    }\n\n\n    private JButton createButton(final boolean opaque) {\n        JButton but = new JButton(\"Testing\") {\n\n            /**\n             * @inherited &lt;p&gt;\n             * Overridden to take over background painting with \n             * transparent color.\n             */\n            @Override\n            protected void paintComponent(Graphics g) {\n                if (!isOpaque() &amp;&amp; getBackground().getAlpha() &lt; 255) {\n                    g.setColor(getBackground());\n                    g.fillRect(0, 0, getWidth(), getHeight());\n                }\n                super.paintComponent(g);\n            }\n\n        };\n        but.setBackground(new Color(0, 0, 0, 100));\n        but.setForeground(new Color(70, 155, 255));\n        but.setOpaque(opaque);\n        return but;\n    }\n\n    private JWindow createWindow(String text, boolean opaque) {\n        JWindow window = new JWindow();\n        JButton but = createButton(opaque);\n        window.add(but);\n        window.add(new JLabel(\"\"), BorderLayout.SOUTH);\n        window.setOpacity(0.5f);\n        window.setBackground(new Color(0, 0, 0, 0));\n        window.setSize(new Dimension(200, 100));\n        return window;\n    }\n\n    public static void main(String[] Args) {\n        SwingUtilities.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n\n                new TransparentButton();\n            }\n        });\n    }\n\n    @SuppressWarnings(\"unused\")\n    private static final Logger LOG = Logger.getLogger(TransparentButton.class\n            .getName());\n}\n</code></pre>\n"}],"owner":{"account_id":902732,"reputation":63,"user_id":938428,"display_name":"Pete"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11740,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":7386768,"answer_count":2,"score":6,"last_activity_date":1673542595,"creation_date":1315675463,"question_id":7373345,"body_markdown":"I am able to make JFrame totally transparent and the JButton is partly transparent just fine until I move my mouse on the button ( do not click ) and move the mouse off from the button ( MouseExited called via MouseListener ). What happens is that the background of the JButton is drawn again, so after couple of mouse movements on and off the button the button is totally opaque.\r\n\r\n    public class ButtonExample extends JWindow\r\n    {\r\n       public ButtonExample( )\r\n       {\r\n            JButton But = new JButton( &quot;Testing&quot; );\r\n            But.setBackground( new Color( 0, 0, 0, 200 ) );\r\n            But.setForeground( new Color( 70, 155, 255 ) );\r\n            this.add( But );\r\n            this.setBackground( new Color( 0, 0, 0, 0 ) );\r\n            this.setMinimumSize( new Dimension( 200,100 ) );\r\n            this.setVisible( true );\r\n        }\r\n\r\n        public static void main( String[ ] Args ) \r\n        {\r\n            new ButtonExample( );\r\n        }\r\n    }","title":"How to create partly transparent JButton on fully transparent JFrame?","body":"<p>I am able to make JFrame totally transparent and the JButton is partly transparent just fine until I move my mouse on the button ( do not click ) and move the mouse off from the button ( MouseExited called via MouseListener ). What happens is that the background of the JButton is drawn again, so after couple of mouse movements on and off the button the button is totally opaque.</p>\n\n<pre><code>public class ButtonExample extends JWindow\n{\n   public ButtonExample( )\n   {\n        JButton But = new JButton( \"Testing\" );\n        But.setBackground( new Color( 0, 0, 0, 200 ) );\n        But.setForeground( new Color( 70, 155, 255 ) );\n        this.add( But );\n        this.setBackground( new Color( 0, 0, 0, 0 ) );\n        this.setMinimumSize( new Dimension( 200,100 ) );\n        this.setVisible( true );\n    }\n\n    public static void main( String[ ] Args ) \n    {\n        new ButtonExample( );\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","android-fragments","android-timepicker"],"comments":[{"owner":{"account_id":9849829,"reputation":490,"user_id":7296215,"display_name":"Atif Amin"},"score":0,"creation_date":1483710082,"post_id":41506715,"comment_id":70219516,"body_markdown":"I am new in android. I am working on this task.","body":"I am new in android. I am working on this task."},{"owner":{"account_id":5781946,"reputation":5687,"user_id":4562287,"accept_rate":43,"display_name":"Vivek Mishra"},"score":0,"creation_date":1483710354,"post_id":41506715,"comment_id":70219698,"body_markdown":"First read this link http://stackoverflow.com/help/how-to-ask. In current situation it is completely unclear what you want to accomplish and what is your problem. So first edit your question according to the link and make it more clear and precise","body":"First read this link <a href=\"http://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>. In current situation it is completely unclear what you want to accomplish and what is your problem. So first edit your question according to the link and make it more clear and precise"},{"owner":{"account_id":2625320,"reputation":1505,"user_id":2272464,"display_name":"Dmitry Velychko"},"score":0,"creation_date":1483710928,"post_id":41506715,"comment_id":70220042,"body_markdown":"@VivekMishra He asked and this question is normal question. The main problem that TimePicker in  TimePickerDialog don&#39;t change current hour and minutes after onTimeChanged.","body":"@VivekMishra He asked and this question is normal question. The main problem that TimePicker in  TimePickerDialog don&#39;t change current hour and minutes after onTimeChanged."},{"owner":{"account_id":8153562,"reputation":23731,"user_id":6139861,"display_name":"rafsanahmad007"},"score":0,"creation_date":1483712770,"post_id":41506715,"comment_id":70221103,"body_markdown":"@AtifAmin so u want to disable all past time form timepicker?","body":"@AtifAmin so u want to disable all past time form timepicker?"},{"owner":{"account_id":9849829,"reputation":490,"user_id":7296215,"display_name":"Atif Amin"},"score":0,"creation_date":1483951436,"post_id":41506715,"comment_id":70292586,"body_markdown":"@rafsanahmad007 yes , but they can select future time with new date??","body":"@rafsanahmad007 yes , but they can select future time with new date??"}],"answers":[{"tags":[],"owner":{"account_id":8153562,"reputation":23731,"user_id":6139861,"display_name":"rafsanahmad007"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1543043953,"creation_date":1483713548,"answer_id":41507957,"question_id":41506715,"body_markdown":"try this code:\r\n\r\n    TimePickerFragment timePickerFragment = new TimePickerFragment();\r\n                timePickerFragment.setOnTimeSetListener(new OnTimeSetListener() {\r\n                    public void onTimeSet(TimePicker view, int hourOfDay, int minute) {\r\n                        Calendar datetime = Calendar.getInstance();\r\n                        Calendar c = Calendar.getInstance();\r\n                        datetime.set(Calendar.HOUR_OF_DAY, hourOfDay);\r\n                        datetime.set(Calendar.MINUTE, minute);\r\n                        if (datetime.getTimeInMillis() &gt;= c.getTimeInMillis()) {\r\n                            //it&#39;s after current\r\n                             int hour = hourOfDay % 12;\r\n                        btnPickStartTime.setText(String.format(&quot;%02d:%02d %s&quot;, hour == 0 ? 12 : hour,\r\n                                minute, hourOfDay &lt; 12 ? &quot;am&quot; : &quot;pm&quot;));\r\n                        } else {\r\n                            //it&#39;s before current&#39;\r\n                            Toast.makeText(getApplicationContext(), &quot;Invalid Time&quot;, Toast.LENGTH_LONG).show();\r\n                        }\r\n                    }\r\n                });\r\n                timePickerFragment.show(getSupportFragmentManager(), &quot;TIME&quot;);\r\n\r\nit will show the `timepicker` dialog and if user select any time before current time... it will show invalid time..\r\n\r\n**EDIT**\r\nYou need to import:\r\n\r\n   \r\n\r\n    import android.app.TimePickerDialog;\r\n    import android.app.Fragment;\r\n    import android.app.DialogFragment;\r\n    import java.util.Calendar;\r\n    import android.widget.TimePicker;\r\n    \r\n    \r\nHere is a Good [Example](https://android--examples.blogspot.com/2015/04/timepickerdialog-in-android.html)","title":"android: TimePickerDialog prevent user select past time and can select future time with new date","body":"<p>try this code:</p>\n\n<pre><code>TimePickerFragment timePickerFragment = new TimePickerFragment();\n            timePickerFragment.setOnTimeSetListener(new OnTimeSetListener() {\n                public void onTimeSet(TimePicker view, int hourOfDay, int minute) {\n                    Calendar datetime = Calendar.getInstance();\n                    Calendar c = Calendar.getInstance();\n                    datetime.set(Calendar.HOUR_OF_DAY, hourOfDay);\n                    datetime.set(Calendar.MINUTE, minute);\n                    if (datetime.getTimeInMillis() &gt;= c.getTimeInMillis()) {\n                        //it's after current\n                         int hour = hourOfDay % 12;\n                    btnPickStartTime.setText(String.format(\"%02d:%02d %s\", hour == 0 ? 12 : hour,\n                            minute, hourOfDay &lt; 12 ? \"am\" : \"pm\"));\n                    } else {\n                        //it's before current'\n                        Toast.makeText(getApplicationContext(), \"Invalid Time\", Toast.LENGTH_LONG).show();\n                    }\n                }\n            });\n            timePickerFragment.show(getSupportFragmentManager(), \"TIME\");\n</code></pre>\n\n<p>it will show the <code>timepicker</code> dialog and if user select any time before current time... it will show invalid time..</p>\n\n<p><strong>EDIT</strong>\nYou need to import:</p>\n\n<pre><code>import android.app.TimePickerDialog;\nimport android.app.Fragment;\nimport android.app.DialogFragment;\nimport java.util.Calendar;\nimport android.widget.TimePicker;\n</code></pre>\n\n<p>Here is a Good <a href=\"https://android--examples.blogspot.com/2015/04/timepickerdialog-in-android.html\" rel=\"noreferrer\">Example</a></p>\n"},{"tags":[],"owner":{"account_id":2625320,"reputation":1505,"user_id":2272464,"display_name":"Dmitry Velychko"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1673542317,"creation_date":1483716020,"answer_id":41508704,"question_id":41506715,"body_markdown":"The best solution for you will be to use [this][1] material design library to pick time or date and set min value.\r\n\r\n        TimePickerDialog tpd = TimePickerDialog.newInstance(\r\n            new TimePickerDialog.OnTimeSetListener() {\r\n                @Override\r\n                public void onTimeSet(TimePickerDialog view, int hourOfDay, int minute, int second) {\r\n                    //put some interesting code\r\n                }\r\n            },\r\n            now.get(Calendar.HOUR_OF_DAY),\r\n            now.get(Calendar.MINUTE),\r\n            true\r\n        );\r\n        tpd.setMinTime(10, 0, 0); // MIN: hours, minute, secconds\r\n        tpd.show(getFragmentManager(), &quot;TimePickerDialog&quot;);\r\n\r\n&gt; The easiest way to add the Material DateTime Picker library to your project is by adding it as a dependency to your build.gradle\r\n\r\n    dependencies {\r\n        compile &#39;com.wdullaer:materialdatetimepicker:3.0.0&#39;\r\n    }\r\n\r\nHope this will help you.\r\n\r\n  [1]: https://github.com/wdullaer/MaterialDateTimePicker","title":"android: TimePickerDialog prevent user select past time and can select future time with new date","body":"<p>The best solution for you will be to use <a href=\"https://github.com/wdullaer/MaterialDateTimePicker\" rel=\"nofollow noreferrer\">this</a> material design library to pick time or date and set min value.</p>\n<pre><code>    TimePickerDialog tpd = TimePickerDialog.newInstance(\n        new TimePickerDialog.OnTimeSetListener() {\n            @Override\n            public void onTimeSet(TimePickerDialog view, int hourOfDay, int minute, int second) {\n                //put some interesting code\n            }\n        },\n        now.get(Calendar.HOUR_OF_DAY),\n        now.get(Calendar.MINUTE),\n        true\n    );\n    tpd.setMinTime(10, 0, 0); // MIN: hours, minute, secconds\n    tpd.show(getFragmentManager(), &quot;TimePickerDialog&quot;);\n</code></pre>\n<blockquote>\n<p>The easiest way to add the Material DateTime Picker library to your project is by adding it as a dependency to your build.gradle</p>\n</blockquote>\n<pre><code>dependencies {\n    compile 'com.wdullaer:materialdatetimepicker:3.0.0'\n}\n</code></pre>\n<p>Hope this will help you.</p>\n"},{"tags":[],"owner":{"account_id":22517696,"reputation":81,"user_id":16711708,"display_name":"Dhiraj Ved"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649749100,"creation_date":1649490385,"answer_id":71806168,"question_id":41506715,"body_markdown":"    private int  mHour, mMinute;\r\n    final Calendar c = Calendar.getInstance();\r\n    \r\n    mHour = c.get(Calendar.HOUR_OF_DAY);\r\n    mMinute = c.get(Calendar.MINUTE);\r\n\r\n    // Launch Time Picker Dialog\r\n    TimePickerDialog timePickerDialog = new TimePickerDialog(ActivityScheduleTransfer.this,\r\n            new TimePickerDialog.OnTimeSetListener() {\r\n                @Override\r\n                public void onTimeSet(TimePicker view, int hourOfDay, int minute) {\r\n                    final Calendar checkOldDate = Calendar.getInstance();\r\n                      if (hourOfDay &gt;= checkOldDate.get(Calendar.HOUR_OF_DAY)) { \r\n                          if (hourOfDay == checkOldDate.get(Calendar.HOUR_OF_DAY) &amp;&amp; minute &lt;= checkOldDate.get(Calendar.MINUTE)) {\r\n                                    return;\r\n\t\t\t\t\t\t\t}\r\n                        //select current after \r\n                    } else {`enter code here`\r\n                        //select current before \r\n                    }\r\n                }\r\n            }, mHour, mMinute, false);\r\n                timePickerDialog.show();","title":"android: TimePickerDialog prevent user select past time and can select future time with new date","body":"<pre><code>private int  mHour, mMinute;\nfinal Calendar c = Calendar.getInstance();\n\nmHour = c.get(Calendar.HOUR_OF_DAY);\nmMinute = c.get(Calendar.MINUTE);\n\n// Launch Time Picker Dialog\nTimePickerDialog timePickerDialog = new TimePickerDialog(ActivityScheduleTransfer.this,\n        new TimePickerDialog.OnTimeSetListener() {\n            @Override\n            public void onTimeSet(TimePicker view, int hourOfDay, int minute) {\n                final Calendar checkOldDate = Calendar.getInstance();\n                  if (hourOfDay &gt;= checkOldDate.get(Calendar.HOUR_OF_DAY)) { \n                      if (hourOfDay == checkOldDate.get(Calendar.HOUR_OF_DAY) &amp;&amp; minute &lt;= checkOldDate.get(Calendar.MINUTE)) {\n                                return;\n                        }\n                    //select current after \n                } else {`enter code here`\n                    //select current before \n                }\n            }\n        }, mHour, mMinute, false);\n            timePickerDialog.show();\n</code></pre>\n"}],"owner":{"account_id":9849829,"reputation":490,"user_id":7296215,"display_name":"Atif Amin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22121,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"accepted_answer_id":41507957,"answer_count":3,"score":9,"last_activity_date":1673542317,"creation_date":1483709054,"question_id":41506715,"body_markdown":"I am using this link https://stackoverflow.com/questions/13516389/android-timepickerdialog-set-max-time/16942630#16942630.\r\n\r\nI am new in android. With the help of this code, I cannot select past time but we cannot select future time. When  12 is selected in timepickerdialog mode change to am automatically according to the next day not past day.","title":"android: TimePickerDialog prevent user select past time and can select future time with new date","body":"<p>I am using this link <a href=\"https://stackoverflow.com/questions/13516389/android-timepickerdialog-set-max-time/16942630#16942630\">Android TimePickerDialog set max time</a>.</p>\n\n<p>I am new in android. With the help of this code, I cannot select past time but we cannot select future time. When  12 is selected in timepickerdialog mode change to am automatically according to the next day not past day.</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673477190,"post_id":75089713,"comment_id":132511110,"body_markdown":"Have a look at `Collectors.groupBy` and `Collectors.counting`","body":"Have a look at <code>Collectors.groupBy</code> and <code>Collectors.counting</code>"}],"answers":[{"tags":[],"owner":{"account_id":2844787,"reputation":5391,"user_id":2443502,"accept_rate":91,"display_name":"Marcin Kłopotek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673542266,"creation_date":1673542266,"answer_id":75099716,"question_id":75089713,"body_markdown":"Streams are efficient if they are used in a proper way. In your case assuming you have a `personList` as the input you can compute the `lastName` frequencies by\r\n\r\n```Java\r\nMap&lt;String, Long&gt; lastNameFrequencies = personList.stream()\r\n    // compute unique last names and their frequencies\r\n    .collect(Collectors.groupingBy(Person::getLastName, Collectors.counting()))\r\n```\r\n\r\nNow, having the frequencies mapped, we can sort them by from the highest to lowest occurrences limiting the output to the desired value:\r\n\r\n```Java\r\nMap&lt;String, Long&gt; sortedLastNameFrequencies = lastNameFrequencies\r\n    .entrySet()\r\n    .stream()\r\n    .sorted(Map.Entry.comparingByValue().reversed())\r\n    .limit(100)\r\n    .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue, (e1, e2) -&gt; e1, LinkedHashMap::new))\r\n```","title":"Java Streams Large Datasets","body":"<p>Streams are efficient if they are used in a proper way. In your case assuming you have a <code>personList</code> as the input you can compute the <code>lastName</code> frequencies by</p>\n<pre><code>Map&lt;String, Long&gt; lastNameFrequencies = personList.stream()\n    // compute unique last names and their frequencies\n    .collect(Collectors.groupingBy(Person::getLastName, Collectors.counting()))\n</code></pre>\n<p>Now, having the frequencies mapped, we can sort them by from the highest to lowest occurrences limiting the output to the desired value:</p>\n<pre><code>Map&lt;String, Long&gt; sortedLastNameFrequencies = lastNameFrequencies\n    .entrySet()\n    .stream()\n    .sorted(Map.Entry.comparingByValue().reversed())\n    .limit(100)\n    .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue, (e1, e2) -&gt; e1, LinkedHashMap::new))\n</code></pre>\n"}],"owner":{"account_id":1079990,"reputation":2752,"user_id":1082500,"accept_rate":66,"display_name":"Adam Davies"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673542266,"creation_date":1673476533,"question_id":75089713,"body_markdown":"If I have:\r\n```\r\nclass Person{\r\n  String firstName;\r\n  String lastName;\r\n  ...\r\n}\r\n```\r\nThe person objects are created from a file that is read in and may contain millions of People.\r\n\r\nThe task is to create a mapping of a hundred people with the most popular `lastName`. This will be in for form of `(lastName, numPeopleWithName)`. For example: `(&quot;Adam&quot;, 23455)`.\r\n\r\nHow do I do this using Streams. I can do this easy enough using a loop, but using streams seems to be very inefficient as the only way I can think of doing it is by mapping to `int`s and then sorting and pulling of the top 100  via `limit(n)`, but this doesn&#39;t feel right.\r\n\r\nAny ideas?\r\n\r\nThanks.","title":"Java Streams Large Datasets","body":"<p>If I have:</p>\n<pre><code>class Person{\n  String firstName;\n  String lastName;\n  ...\n}\n</code></pre>\n<p>The person objects are created from a file that is read in and may contain millions of People.</p>\n<p>The task is to create a mapping of a hundred people with the most popular <code>lastName</code>. This will be in for form of <code>(lastName, numPeopleWithName)</code>. For example: <code>(&quot;Adam&quot;, 23455)</code>.</p>\n<p>How do I do this using Streams. I can do this easy enough using a loop, but using streams seems to be very inefficient as the only way I can think of doing it is by mapping to <code>int</code>s and then sorting and pulling of the top 100  via <code>limit(n)</code>, but this doesn't feel right.</p>\n<p>Any ideas?</p>\n<p>Thanks.</p>\n"},{"tags":["java","spring-boot","hibernate","retrypolicy"],"comments":[{"owner":{"account_id":6117912,"reputation":2451,"user_id":4772331,"display_name":"Gaurav Srivastav"},"score":0,"creation_date":1595271798,"post_id":63001987,"comment_id":111411588,"body_markdown":"Where you have written this code, in ExceptionHandler?","body":"Where you have written this code, in ExceptionHandler?"},{"owner":{"account_id":4328490,"reputation":1080,"user_id":3534593,"accept_rate":67,"display_name":"coretechie"},"score":0,"creation_date":1595306640,"post_id":63001987,"comment_id":111420914,"body_markdown":"@Gaurav this method is in a service class (annotated with @Service) and being called via REST web service from another app that is polling ActiveMq (@JmsListener)","body":"@Gaurav this method is in a service class (annotated with @Service) and being called via REST web service from another app that is polling ActiveMq (@JmsListener)"},{"owner":{"account_id":6117912,"reputation":2451,"user_id":4772331,"display_name":"Gaurav Srivastav"},"score":0,"creation_date":1596394996,"post_id":63001987,"comment_id":111791914,"body_markdown":"If getting DataIntegrityVoilationException in ActiveMQ listener, means getting incorrect data or some data is inconsistent, what will handler do in that case.","body":"If getting DataIntegrityVoilationException in ActiveMQ listener, means getting incorrect data or some data is inconsistent, what will handler do in that case."}],"answers":[{"tags":[],"owner":{"account_id":24252233,"reputation":1,"user_id":18203106,"display_name":"pschuett"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673542077,"creation_date":1673542077,"answer_id":75099679,"question_id":63001987,"body_markdown":"I am not really sure but I think the \r\n\r\n    @Transactional\r\n    processTxn(T t){\r\n\r\nis the problem. A ConstraintViolationException has to be followed by a rollback of the current transaction. \r\nWhen You remove this @Transactional and use only the ID of your entity or a detached instance in the method processTxn then a new Transaction is opened in insertOrUpdateMethod and in the case of ConstraintViolationException in the next try a new transaction is used. \r\n\r\nIn this case you have to be careful that the transaction in insertOrUpdateMethod is a new transaction and not a reused transaction  from a caller of processTxn.\r\n\r\nCheers\r\n  Peter Sch&#252;tt","title":"How to make Failsafe RetryPolicy handle ConstraintVoilationException","body":"<p>I am not really sure but I think the</p>\n<pre><code>@Transactional\nprocessTxn(T t){\n</code></pre>\n<p>is the problem. A ConstraintViolationException has to be followed by a rollback of the current transaction.\nWhen You remove this @Transactional and use only the ID of your entity or a detached instance in the method processTxn then a new Transaction is opened in insertOrUpdateMethod and in the case of ConstraintViolationException in the next try a new transaction is used.</p>\n<p>In this case you have to be careful that the transaction in insertOrUpdateMethod is a new transaction and not a reused transaction  from a caller of processTxn.</p>\n<p>Cheers\nPeter Schütt</p>\n"}],"owner":{"account_id":4328490,"reputation":1080,"user_id":3534593,"accept_rate":67,"display_name":"coretechie"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1272,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673542077,"creation_date":1595270950,"question_id":63001987,"body_markdown":"I am trying to insert and update on a table, by reading messages from active mq triggered via separate threads each time. At times insert query fails because of ConstraintVoilationException. I want to do a retry as the code will consider the retry attempt as an update and ConstraintVoilationException won&#39;t appear. \r\n\r\nHowever, RetryPolicy is not working on this exception. How can I customize it? \r\n\r\n**Failsafe artifact version: net.jodah (2.3.3)**\r\n\r\nHere is the code sample, where &#39;T&#39; is the className of my entity.\r\n```\r\n@Transactional\r\nprocessTxn(T t){\r\n RetryPolicy&lt;T&gt; rp =  RetryPolicy&lt;T&gt;.handle(ConstraintVoilationException.class).withMaxRetries(3);\r\n Failsafe.with(rp).run(() -&gt; insertOrUpdateMethod(t));\r\n}\r\n\r\n@Transactional\r\ninsertOrUpdateMethod (T t){\r\n //Fetch instance of t from DB, if it exists - fire update on a few columns\r\n //else insert a new row\r\n}\r\n```\r\n\r\nI have also tried this code with DataIntegrityVoilationException and SQLIntegrityConstraintVoilationException but the code doesn&#39;t retry after failure. ","title":"How to make Failsafe RetryPolicy handle ConstraintVoilationException","body":"<p>I am trying to insert and update on a table, by reading messages from active mq triggered via separate threads each time. At times insert query fails because of ConstraintVoilationException. I want to do a retry as the code will consider the retry attempt as an update and ConstraintVoilationException won't appear.</p>\n<p>However, RetryPolicy is not working on this exception. How can I customize it?</p>\n<p><strong>Failsafe artifact version: net.jodah (2.3.3)</strong></p>\n<p>Here is the code sample, where 'T' is the className of my entity.</p>\n<pre><code>@Transactional\nprocessTxn(T t){\n RetryPolicy&lt;T&gt; rp =  RetryPolicy&lt;T&gt;.handle(ConstraintVoilationException.class).withMaxRetries(3);\n Failsafe.with(rp).run(() -&gt; insertOrUpdateMethod(t));\n}\n\n@Transactional\ninsertOrUpdateMethod (T t){\n //Fetch instance of t from DB, if it exists - fire update on a few columns\n //else insert a new row\n}\n</code></pre>\n<p>I have also tried this code with DataIntegrityVoilationException and SQLIntegrityConstraintVoilationException but the code doesn't retry after failure.</p>\n"},{"tags":["java","spring","containers"],"answers":[{"tags":[],"owner":{"account_id":50535,"reputation":35297,"user_id":150771,"accept_rate":83,"display_name":"Chris Thompson"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1320786596,"creation_date":1320786596,"answer_id":8057103,"question_id":8057077,"body_markdown":"This means that you can only use the session scoped beans in a an application deployed to a web server.  Spring can be used in applications that run in standard JVMs along with applications that run in servlet containers (Tomcat, etc).  Session, however, only exists in web servers so it has no meaning if the application is running in a standard desktop environment.","title":"What does it mean in Spring 3, web-aware application context","body":"<p>This means that you can only use the session scoped beans in a an application deployed to a web server.  Spring can be used in applications that run in standard JVMs along with applications that run in servlet containers (Tomcat, etc).  Session, however, only exists in web servers so it has no meaning if the application is running in a standard desktop environment.</p>\n"},{"tags":[],"owner":{"account_id":8683778,"reputation":21,"user_id":6498853,"display_name":"SivaRaju Penuboina"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1498043664,"creation_date":1496990290,"answer_id":44450927,"question_id":8057077,"body_markdown":"There are basically 5 types of scopes available for spring bean.\r\n1)Singleton\r\n2)Prototype\r\n3)Request\r\n4)Session\r\n5)Global-Session\r\n\r\nThe first two scopes can be used with any type of spring applications.\r\nBut the remaining 3 are related to web applications. They can be used only with the spring applications which are involved in web.","title":"What does it mean in Spring 3, web-aware application context","body":"<p>There are basically 5 types of scopes available for spring bean.\n1)Singleton\n2)Prototype\n3)Request\n4)Session\n5)Global-Session</p>\n\n<p>The first two scopes can be used with any type of spring applications.\nBut the remaining 3 are related to web applications. They can be used only with the spring applications which are involved in web.</p>\n"},{"tags":[],"owner":{"account_id":12037792,"reputation":1783,"user_id":8805742,"display_name":"mahfuj asif"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595070791,"creation_date":1595070791,"answer_id":62967873,"question_id":8057077,"body_markdown":"**Web aware** means when the application provides web endpoints for third party client. I.E When the application contains at least one [RestController][1] . You can do this by simply adding `@RestController` annotation to your class.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/RestController.html","title":"What does it mean in Spring 3, web-aware application context","body":"<p><strong>Web aware</strong> means when the application provides web endpoints for third party client. I.E When the application contains at least one <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/RestController.html\" rel=\"nofollow noreferrer\">RestController</a> . You can do this by simply adding <code>@RestController</code> annotation to your class.</p>\n"},{"tags":[],"owner":{"account_id":8536894,"reputation":1308,"user_id":6398325,"display_name":"Gunther"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673541848,"creation_date":1673541295,"answer_id":75099528,"question_id":8057077,"body_markdown":"ApplicationContext is an interface, spring ships multiple ApplicationContext implementations, according to [documentation][1] you need to use one that is web-aware.\r\n&gt; The request, session, application, and websocket scopes are available only if you use a web-aware Spring ApplicationContext implementation (such as XmlWebApplicationContext). If you use these scopes with regular Spring IoC containers, such as the ClassPathXmlApplicationContext, an IllegalStateException that complains about an unknown bean scope is thrown.\r\n\r\nAnd as of spring framework core (6.0.4) [further configuration might be required][2]:\r\n&gt; To support the scoping of beans at the request, session, application, and websocket levels (web-scoped beans), some minor initial configuration is required before you define your beans.\r\n\r\n&gt; ...\r\n\r\n&gt; If you access scoped beans within Spring Web MVC, in effect, within a request that is processed by the Spring DispatcherServlet, no special setup is necessary. DispatcherServlet already exposes all relevant state.\r\n\r\n&gt; If you use a Servlet web container, with requests processed outside of Spring’s DispatcherServlet (for example, when using JSF), you need to register the org.springframework.web.context.request.RequestContextListener ServletRequestListener. This can be done programmatically by using the WebApplicationInitializer interface. Alternatively, add the following declaration to your web application’s web.xml file:\r\n\r\n    &lt;web-app&gt;\r\n        ...\r\n        &lt;listener&gt;\r\n            &lt;listener-class&gt;\r\n                org.springframework.web.context.request.RequestContextListener\r\n            &lt;/listener-class&gt;\r\n        &lt;/listener&gt;\r\n        ...\r\n    &lt;/web-app&gt;\r\n\r\n\r\nSpring boot will automatically configure this for you (couldn&#39;t find documentation mentioning this explicitly).\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/6.0.4/reference/html/core.html#beans-factory-scopes-other\r\n  [2]: https://docs.spring.io/spring-framework/docs/6.0.4/reference/html/core.html#beans-factory-scopes-other-web-configuration","title":"What does it mean in Spring 3, web-aware application context","body":"<p>ApplicationContext is an interface, spring ships multiple ApplicationContext implementations, according to <a href=\"https://docs.spring.io/spring-framework/docs/6.0.4/reference/html/core.html#beans-factory-scopes-other\" rel=\"nofollow noreferrer\">documentation</a> you need to use one that is web-aware.</p>\n<blockquote>\n<p>The request, session, application, and websocket scopes are available only if you use a web-aware Spring ApplicationContext implementation (such as XmlWebApplicationContext). If you use these scopes with regular Spring IoC containers, such as the ClassPathXmlApplicationContext, an IllegalStateException that complains about an unknown bean scope is thrown.</p>\n</blockquote>\n<p>And as of spring framework core (6.0.4) <a href=\"https://docs.spring.io/spring-framework/docs/6.0.4/reference/html/core.html#beans-factory-scopes-other-web-configuration\" rel=\"nofollow noreferrer\">further configuration might be required</a>:</p>\n<blockquote>\n<p>To support the scoping of beans at the request, session, application, and websocket levels (web-scoped beans), some minor initial configuration is required before you define your beans.</p>\n</blockquote>\n<blockquote>\n<p>...</p>\n</blockquote>\n<blockquote>\n<p>If you access scoped beans within Spring Web MVC, in effect, within a request that is processed by the Spring DispatcherServlet, no special setup is necessary. DispatcherServlet already exposes all relevant state.</p>\n</blockquote>\n<blockquote>\n<p>If you use a Servlet web container, with requests processed outside of Spring’s DispatcherServlet (for example, when using JSF), you need to register the org.springframework.web.context.request.RequestContextListener ServletRequestListener. This can be done programmatically by using the WebApplicationInitializer interface. Alternatively, add the following declaration to your web application’s web.xml file:</p>\n</blockquote>\n<pre><code>&lt;web-app&gt;\n    ...\n    &lt;listener&gt;\n        &lt;listener-class&gt;\n            org.springframework.web.context.request.RequestContextListener\n        &lt;/listener-class&gt;\n    &lt;/listener&gt;\n    ...\n&lt;/web-app&gt;\n</code></pre>\n<p>Spring boot will automatically configure this for you (couldn't find documentation mentioning this explicitly).</p>\n"}],"owner":{"account_id":86826,"reputation":271,"user_id":241178,"accept_rate":0,"display_name":"user241178"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8746,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":4,"score":7,"last_activity_date":1673541848,"creation_date":1320786450,"question_id":8057077,"body_markdown":"I am trying to setup a session scoped bean but the spring document said that session scope is only applicable on web-aware application context.  No further explanation in the doc.  Can someone clarify this?","title":"What does it mean in Spring 3, web-aware application context","body":"<p>I am trying to setup a session scoped bean but the spring document said that session scope is only applicable on web-aware application context.  No further explanation in the doc.  Can someone clarify this?</p>\n"},{"tags":["java","amazon-web-services","unit-testing","testing","aws-lambda"],"answers":[{"tags":[],"owner":{"account_id":5303675,"reputation":5719,"user_id":4232386,"accept_rate":97,"display_name":"ZEE"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673540583,"creation_date":1673540583,"answer_id":75099378,"question_id":75099300,"body_markdown":"It is better to inject the client in the constructor, and do the initialization at the handler level, so you can easily mock any class using the db injection.","title":"How should I test a lamdba function with a DynamoDbClient?","body":"<p>It is better to inject the client in the constructor, and do the initialization at the handler level, so you can easily mock any class using the db injection.</p>\n"},{"tags":[],"owner":{"account_id":10284288,"reputation":21,"user_id":7588175,"display_name":"meriem"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673541363,"creation_date":1673541293,"answer_id":75099527,"question_id":75099300,"body_markdown":"You can use singleton pattern and get the unique DynamoDbClient&#39;s instantiated client every time you need it \r\n\r\n```\r\nprivate static DynamoDbClient instance;\r\n\r\npublic static DynamoDbClient getInstance(){\r\n        if (instance == null) {\r\n            instance = DynamoDbClient.builder()\r\n            .region(Region.region)\r\n            .build();\r\n        }\r\n        return instance;\r\n    }\r\n```","title":"How should I test a lamdba function with a DynamoDbClient?","body":"<p>You can use singleton pattern and get the unique DynamoDbClient's instantiated client every time you need it</p>\n<pre><code>private static DynamoDbClient instance;\n\npublic static DynamoDbClient getInstance(){\n        if (instance == null) {\n            instance = DynamoDbClient.builder()\n            .region(Region.region)\n            .build();\n        }\n        return instance;\n    }\n</code></pre>\n"}],"owner":{"account_id":11407057,"reputation":387,"user_id":8362224,"display_name":"LagSurfer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1673541363,"creation_date":1673540231,"question_id":75099300,"body_markdown":"I&#39;m developing a java lamdba function in plain java. I want to unit test my code but my class contains a DynamoDbClient as private field. What is the recommended way to test this? Can I mock it somehow? Should I put the client in a different class? \r\n\r\n\r\n    private DynamoDbClient amazonDynamoDB;\r\n    \r\n    public String handleRequest(SQSEvent sqsEvent, Context context) {\r\n\r\n        this.initDynamoDbClient();\r\n        // logic\r\n    }\r\n\r\n    private void initDynamoDbClient() {\r\n        this.amazonDynamoDB = DynamoDbClient.builder()\r\n                .region(Region.region)\r\n                .build();\r\n    }\r\nso far my class looks like this.","title":"How should I test a lamdba function with a DynamoDbClient?","body":"<p>I'm developing a java lamdba function in plain java. I want to unit test my code but my class contains a DynamoDbClient as private field. What is the recommended way to test this? Can I mock it somehow? Should I put the client in a different class?</p>\n<pre><code>private DynamoDbClient amazonDynamoDB;\n\npublic String handleRequest(SQSEvent sqsEvent, Context context) {\n\n    this.initDynamoDbClient();\n    // logic\n}\n\nprivate void initDynamoDbClient() {\n    this.amazonDynamoDB = DynamoDbClient.builder()\n            .region(Region.region)\n            .build();\n}\n</code></pre>\n<p>so far my class looks like this.</p>\n"},{"tags":["java","apache-nifi"],"comments":[{"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"score":0,"creation_date":1673560221,"post_id":75099481,"comment_id":132533266,"body_markdown":"do you see any errors in nifi log files?","body":"do you see any errors in nifi log files?"}],"owner":{"account_id":14261319,"reputation":63,"user_id":10302015,"display_name":"Kyle"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673541109,"creation_date":1673541109,"question_id":75099481,"body_markdown":"I am trying to install and start apache Nifi in order to access the browser UI on my Windows system.\r\n\r\nWhen I download and extract the latest version of NiFi, after running the run-nifi bat file I get the following error:\r\n\r\n&gt; 2023-01-12 11:20:51,597 INFO [main] org.apache.nifi.bootstrap.Command Generating Self-Signed Certificate: Expires on 2023-03-13\r\n2023-01-12 11:20:53,772 INFO [main] org.apache.nifi.bootstrap.Command Generated Self-Signed Certificate SHA-256: 5E63D14A2D5640344E58C1EB5C005F9753734DF7657D08D200A66B6CE8F0AF33\r\n2023-01-12 11:20:53,787 INFO [main] org.apache.nifi.bootstrap.Command Starting Apache NiFi...\r\n2023-01-12 11:20:53,787 INFO [main] org.apache.nifi.bootstrap.Command Working Directory: C:\\NIFI-1~1.0\r\n2023-01-12 11:20:53,787 INFO [main] org.apache.nifi.bootstrap.Command Command: C:\\Program Files\\Java\\zulu8.46.0.19-ca-jdk8.0.252-win_x64\\bin\\java.exe -classpath C:\\NIFI-1~1.0\\.\\conf;C:\\NIFI-1~1.0\\.\\lib\\javax.servlet-api-3.1.0.jar;C:\\NIFI-1~1.0\\.\\lib\\jcl-over-slf4j-1.7.36.jar;C:\\NIFI-1~1.0\\.\\lib\\jetty-schemas-5.2.jar;C:\\NIFI-1~1.0\\.\\lib\\jul-to-slf4j-1.7.36.jar;C:\\NIFI-1~1.0\\.\\lib\\log4j-over-slf4j-1.7.36.jar;C:\\NIFI-1~1.0\\.\\lib\\logback-classic-1.2.11.jar;C:\\NIFI-1~1.0\\.\\lib\\logback-core-1.2.11.jar;C:\\NIFI-1~1.0\\.\\lib\\nifi-api-1.18.0.jar;C:\\NIFI-1~1.0\\.\\lib\\nifi-framework-api-1.18.0.jar;C:\\NIFI-1~1.0\\.\\lib\\nifi-nar-utils-1.18.0.jar;C:\\NIFI-1~1.0\\.\\lib\\nifi-properties-1.18.0.jar;C:\\NIFI-1~1.0\\.\\lib\\nifi-property-utils-1.18.0.jar;C:\\NIFI-1~1.0\\.\\lib\\nifi-runtime-1.18.0.jar;C:\\NIFI-1~1.0\\.\\lib\\nifi-server-api-1.18.0.jar;C:\\NIFI-1~1.0\\.\\lib\\nifi-stateless-api-1.18.0.jar;C:\\NIFI-1~1.0\\.\\lib\\nifi-stateless-bootstrap-1.18.0.jar;C:\\NIFI-1~1.0\\.\\lib\\slf4j-api-1.7.36.jar -Dorg.apache.jasper.compiler.disablejsr199=true -Xmx512m -Xms512m -Dcurator-log-only-first-connection-issue-as-error-level=true -Djavax.security.auth.useSubjectCredsOnly=true -Djava.security.egd=file:/dev/urandom -Dzookeeper.admin.enableServer=false -Dsun.net.http.allowRestrictedHeaders=true -Djava.net.preferIPv4Stack=true -Djava.awt.headless=true -Djava.protocol.handler.pkgs=sun.net.www.protocol -Dnifi.properties.file.path=C:\\NIFI-1~1.0\\.\\conf\\nifi.properties -Dnifi.bootstrap.listen.port=49551 -Dapp=NiFi -Dorg.apache.nifi.bootstrap.config.log.dir=C:\\NIFI-1~1.0\\bin\\..\\\\logs org.apache.nifi.NiFi\r\n2023-01-12 11:20:53,787 INFO [main] org.apache.nifi.bootstrap.Command Failed to determine Process ID from [java.lang.ProcessImpl]: java.lang.Process.pid()\r\n2023-01-12 11:20:53,787 WARN [main] org.apache.nifi.bootstrap.Command Launched Apache NiFi but could not determined the Process ID\r\n\r\nI am currently running java zulu8.46.0.19-ca-jdk8.0.252-win_x64\r\n\r\nHere is the download I used:\r\nhttps://www.apache.org/dyn/closer.lua?path=/nifi/1.19.1/nifi-1.19.1-bin.zip\r\n\r\nAny help would be appreciated","title":"Apache Nifi Fails to start","body":"<p>I am trying to install and start apache Nifi in order to access the browser UI on my Windows system.</p>\n<p>When I download and extract the latest version of NiFi, after running the run-nifi bat file I get the following error:</p>\n<blockquote>\n<p>2023-01-12 11:20:51,597 INFO [main] org.apache.nifi.bootstrap.Command Generating Self-Signed Certificate: Expires on 2023-03-13\n2023-01-12 11:20:53,772 INFO [main] org.apache.nifi.bootstrap.Command Generated Self-Signed Certificate SHA-256: 5E63D14A2D5640344E58C1EB5C005F9753734DF7657D08D200A66B6CE8F0AF33\n2023-01-12 11:20:53,787 INFO [main] org.apache.nifi.bootstrap.Command Starting Apache NiFi...\n2023-01-12 11:20:53,787 INFO [main] org.apache.nifi.bootstrap.Command Working Directory: C:\\NIFI-1~1.0\n2023-01-12 11:20:53,787 INFO [main] org.apache.nifi.bootstrap.Command Command: C:\\Program Files\\Java\\zulu8.46.0.19-ca-jdk8.0.252-win_x64\\bin\\java.exe -classpath C:\\NIFI-1~1.0.\\conf;C:\\NIFI-1~1.0.\\lib\\javax.servlet-api-3.1.0.jar;C:\\NIFI-1~1.0.\\lib\\jcl-over-slf4j-1.7.36.jar;C:\\NIFI-1~1.0.\\lib\\jetty-schemas-5.2.jar;C:\\NIFI-1~1.0.\\lib\\jul-to-slf4j-1.7.36.jar;C:\\NIFI-1~1.0.\\lib\\log4j-over-slf4j-1.7.36.jar;C:\\NIFI-1~1.0.\\lib\\logback-classic-1.2.11.jar;C:\\NIFI-1~1.0.\\lib\\logback-core-1.2.11.jar;C:\\NIFI-1~1.0.\\lib\\nifi-api-1.18.0.jar;C:\\NIFI-1~1.0.\\lib\\nifi-framework-api-1.18.0.jar;C:\\NIFI-1~1.0.\\lib\\nifi-nar-utils-1.18.0.jar;C:\\NIFI-1~1.0.\\lib\\nifi-properties-1.18.0.jar;C:\\NIFI-1~1.0.\\lib\\nifi-property-utils-1.18.0.jar;C:\\NIFI-1~1.0.\\lib\\nifi-runtime-1.18.0.jar;C:\\NIFI-1~1.0.\\lib\\nifi-server-api-1.18.0.jar;C:\\NIFI-1~1.0.\\lib\\nifi-stateless-api-1.18.0.jar;C:\\NIFI-1~1.0.\\lib\\nifi-stateless-bootstrap-1.18.0.jar;C:\\NIFI-1~1.0.\\lib\\slf4j-api-1.7.36.jar -Dorg.apache.jasper.compiler.disablejsr199=true -Xmx512m -Xms512m -Dcurator-log-only-first-connection-issue-as-error-level=true -Djavax.security.auth.useSubjectCredsOnly=true -Djava.security.egd=file:/dev/urandom -Dzookeeper.admin.enableServer=false -Dsun.net.http.allowRestrictedHeaders=true -Djava.net.preferIPv4Stack=true -Djava.awt.headless=true -Djava.protocol.handler.pkgs=sun.net.www.protocol -Dnifi.properties.file.path=C:\\NIFI-1~1.0.\\conf\\nifi.properties -Dnifi.bootstrap.listen.port=49551 -Dapp=NiFi -Dorg.apache.nifi.bootstrap.config.log.dir=C:\\NIFI-1~1.0\\bin..\\logs org.apache.nifi.NiFi\n2023-01-12 11:20:53,787 INFO [main] org.apache.nifi.bootstrap.Command Failed to determine Process ID from [java.lang.ProcessImpl]: java.lang.Process.pid()\n2023-01-12 11:20:53,787 WARN [main] org.apache.nifi.bootstrap.Command Launched Apache NiFi but could not determined the Process ID</p>\n</blockquote>\n<p>I am currently running java zulu8.46.0.19-ca-jdk8.0.252-win_x64</p>\n<p>Here is the download I used:\n<a href=\"https://www.apache.org/dyn/closer.lua?path=/nifi/1.19.1/nifi-1.19.1-bin.zip\" rel=\"nofollow noreferrer\">https://www.apache.org/dyn/closer.lua?path=/nifi/1.19.1/nifi-1.19.1-bin.zip</a></p>\n<p>Any help would be appreciated</p>\n"},{"tags":["java","json","rest","resttemplate"],"owner":{"account_id":7128666,"reputation":45,"user_id":5450747,"display_name":"SCM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673541070,"creation_date":1673541070,"question_id":75099473,"body_markdown":"I use the following code to get the location that is returned by a call that i make:\r\n\r\n \r\n\r\n    URI location;\r\n    try {\r\n       location = restTemplate.postForLocation(uri, requestEntity);\r\n    } catch (HttpClientErrorException | HttpServerErrorException exception) {\r\n   \r\n    }\r\n\r\nThis works fine in the success case. But now in the error case, but only if the status code indicates a client error, I&#39;d like to parse the body of the error that contains some JSON into a DTO. I could do that manually using a JSONMapper for instance, but isn&#39;t there a more elegant way to do that?","title":"RestTemplate: Getting location header in success case, mapping to DTO in 400 case","body":"<p>I use the following code to get the location that is returned by a call that i make:</p>\n<pre><code>URI location;\ntry {\n   location = restTemplate.postForLocation(uri, requestEntity);\n} catch (HttpClientErrorException | HttpServerErrorException exception) {\n\n}\n</code></pre>\n<p>This works fine in the success case. But now in the error case, but only if the status code indicates a client error, I'd like to parse the body of the error that contains some JSON into a DTO. I could do that manually using a JSONMapper for instance, but isn't there a more elegant way to do that?</p>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1673540778,"creation_date":1673540778,"answer_id":75099415,"question_id":75099250,"body_markdown":"The relationship from Animal to Zoo is wrong\r\n\r\n    @ManyToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;zooId&quot;)\r\n    @JsonBackReference\r\n    private Zoo zoo;\r\n\r\nWith CascateType.ALL if you delete an Animal also, the Zoo will be deleted, and this will issue to delete all animals.\r\n\r\nYou should remove the cascading because it in most cases doesn&#39;t make sense","title":"Spring JPA - Removing all child entities instead of one","body":"<p>The relationship from Animal to Zoo is wrong</p>\n<pre><code>@ManyToOne(cascade = CascadeType.ALL)\n@JoinColumn(name = &quot;zooId&quot;)\n@JsonBackReference\nprivate Zoo zoo;\n</code></pre>\n<p>With CascateType.ALL if you delete an Animal also, the Zoo will be deleted, and this will issue to delete all animals.</p>\n<p>You should remove the cascading because it in most cases doesn't make sense</p>\n"}],"owner":{"account_id":15763584,"reputation":47,"user_id":11374675,"display_name":"kuytsce"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":594,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75099415,"answer_count":1,"score":0,"last_activity_date":1673540778,"creation_date":1673539946,"question_id":75099250,"body_markdown":"I have a Spring Boot app that uses Spring JPA which performs actions on a parent/child, OneToMany database relationship. I have been perfoming save and get requests without issue for a while however I now have a need to remove a child entity from the child database table, however when I test my code I find it removes all child entities from the DB AND the parent entity which is not the behaviour I am looking for.\r\n\r\nBelow are the entity classes, Zoo is the parent, and Animal is the child. They should have a oneToMany relation.\r\n\r\nThe parent entity.\r\n```\r\nimport java.util.List;\r\n\r\nimport javax.persistence.CascadeType;\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.FetchType;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.JoinColumn;\r\nimport javax.persistence.ManyToOne;\r\nimport javax.persistence.OneToMany;\r\nimport javax.persistence.Table;\r\n\r\nimport org.hibernate.annotations.Fetch;\r\nimport org.hibernate.annotations.FetchMode;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonManagedReference;\r\n\r\n@Entity\r\n@Table(name = &quot;ZOOS&quot;)\r\npublic class Zoo {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name = &quot;id&quot;, nullable = false, unique = true)\r\n\tprivate Integer id;\r\n\t\r\n\t@ManyToOne\r\n\t@JoinColumn(name=&quot;name&quot;)\r\n\tprivate String name;\r\n\t\r\n\t@OneToMany(mappedBy = &quot;zoo&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n\t@Fetch(value = FetchMode.SUBSELECT)\r\n\t@JsonManagedReference\r\n\tprivate List&lt;Animal&gt; animal;\r\n\r\n\tpublic Integer getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(Integer id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic List&lt;Animal&gt; getAnimal() {\r\n\t\treturn animal;\r\n\t}\r\n\r\n\tpublic void setAnimal(List&lt;Animal&gt; animal) {\r\n\t\tthis.animal = animal;\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\nThe child entity\r\n```\r\nimport javax.persistence.CascadeType;\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.JoinColumn;\r\nimport javax.persistence.ManyToOne;\r\nimport javax.persistence.Table;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonBackReference;\r\n\r\n@Entity\r\n@Table(name = &quot;ANIMALS&quot;)\r\npublic class Animal {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name = &quot;id&quot;, nullable = false, unique = true)\r\n\tprivate Integer id;\r\n\t\r\n\t@ManyToOne(cascade = CascadeType.ALL)\r\n\t@JoinColumn(name = &quot;zooId&quot;)\r\n\t@JsonBackReference\r\n\tprivate Zoo zoo;\r\n\t\r\n\t@Column(name = &quot;species&quot;, nullable = false)\r\n\tprivate String species;\r\n\r\n\r\n\tpublic Integer getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(Integer id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic Zoo getZoo() {\r\n\t\treturn zoo;\r\n\t}\r\n\r\n\tpublic void setZoo(Zoo zoo) {\r\n\t\tthis.zoo = zoo;\r\n\t}\r\n\r\n\tpublic String getSpecies() {\r\n\t\treturn species;\r\n\t}\r\n\r\n\tpublic void setSpecies(String species) {\r\n\t\tthis.species = species;\r\n\t}\r\n\r\n}\r\n```\r\nThe repo for the Animal (child) entity\r\n```\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\n\r\nimport uk.co.example.api.entities.Animal;\r\n\r\npublic interface AnimalRepository extends JpaRepository&lt;Animal, Integer&gt; {\r\n\r\n}\r\n```\r\nThe java method being called to delete the animal entity\r\n```\r\n\t@Autowired\r\n\tAnimalRepository animalRepo;\r\n\t\r\n\tpublic void deleteAnimal(Integer animalId) {\r\n\t\tanimalRepo.deleteById(animalId);\r\n\t}\r\n\t\r\n```\r\nThe method should remove one animal from the Animal db table, however in practice it is removing ALL animals with the same zooId and the zoo from the Zoo db table.\r\n\r\nI have researched and tried changing the CascadeType.ALL on the ManyToOne annotation in the Animal entity class to PERSIST and I&#39;ve tried removing the cascade parameter altogether, in both cases I found I would get no errors in my app but no animal records would be removed at all. The tables would be in the same state as before the method was run.\r\n\r\nI have also tried using &#39;orphanRemoval = true&#39; on the OneToMany annotation on the Zoo entity class however this doesn&#39;t seem to have any impact when testing. \r\n```\r\n@OneToMany(mappedBy = &quot;zoo&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL, orphanRemoval = true)\r\n\t@Fetch(value = FetchMode.SUBSELECT)\r\n\t@JsonManagedReference\r\n\tprivate List&lt;Animal&gt; animal;\r\n```\r\n\r\nAny help will be appreciated.\r\n\r\n","title":"Spring JPA - Removing all child entities instead of one","body":"<p>I have a Spring Boot app that uses Spring JPA which performs actions on a parent/child, OneToMany database relationship. I have been perfoming save and get requests without issue for a while however I now have a need to remove a child entity from the child database table, however when I test my code I find it removes all child entities from the DB AND the parent entity which is not the behaviour I am looking for.</p>\n<p>Below are the entity classes, Zoo is the parent, and Animal is the child. They should have a oneToMany relation.</p>\n<p>The parent entity.</p>\n<pre><code>import java.util.List;\n\nimport javax.persistence.CascadeType;\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.FetchType;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.JoinColumn;\nimport javax.persistence.ManyToOne;\nimport javax.persistence.OneToMany;\nimport javax.persistence.Table;\n\nimport org.hibernate.annotations.Fetch;\nimport org.hibernate.annotations.FetchMode;\n\nimport com.fasterxml.jackson.annotation.JsonManagedReference;\n\n@Entity\n@Table(name = &quot;ZOOS&quot;)\npublic class Zoo {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, nullable = false, unique = true)\n    private Integer id;\n    \n    @ManyToOne\n    @JoinColumn(name=&quot;name&quot;)\n    private String name;\n    \n    @OneToMany(mappedBy = &quot;zoo&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n    @Fetch(value = FetchMode.SUBSELECT)\n    @JsonManagedReference\n    private List&lt;Animal&gt; animal;\n\n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public List&lt;Animal&gt; getAnimal() {\n        return animal;\n    }\n\n    public void setAnimal(List&lt;Animal&gt; animal) {\n        this.animal = animal;\n    }\n    \n}\n</code></pre>\n<p>The child entity</p>\n<pre><code>import javax.persistence.CascadeType;\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.JoinColumn;\nimport javax.persistence.ManyToOne;\nimport javax.persistence.Table;\n\nimport com.fasterxml.jackson.annotation.JsonBackReference;\n\n@Entity\n@Table(name = &quot;ANIMALS&quot;)\npublic class Animal {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, nullable = false, unique = true)\n    private Integer id;\n    \n    @ManyToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;zooId&quot;)\n    @JsonBackReference\n    private Zoo zoo;\n    \n    @Column(name = &quot;species&quot;, nullable = false)\n    private String species;\n\n\n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public Zoo getZoo() {\n        return zoo;\n    }\n\n    public void setZoo(Zoo zoo) {\n        this.zoo = zoo;\n    }\n\n    public String getSpecies() {\n        return species;\n    }\n\n    public void setSpecies(String species) {\n        this.species = species;\n    }\n\n}\n</code></pre>\n<p>The repo for the Animal (child) entity</p>\n<pre><code>import org.springframework.data.jpa.repository.JpaRepository;\n\nimport uk.co.example.api.entities.Animal;\n\npublic interface AnimalRepository extends JpaRepository&lt;Animal, Integer&gt; {\n\n}\n</code></pre>\n<p>The java method being called to delete the animal entity</p>\n<pre><code>    @Autowired\n    AnimalRepository animalRepo;\n    \n    public void deleteAnimal(Integer animalId) {\n        animalRepo.deleteById(animalId);\n    }\n    \n</code></pre>\n<p>The method should remove one animal from the Animal db table, however in practice it is removing ALL animals with the same zooId and the zoo from the Zoo db table.</p>\n<p>I have researched and tried changing the CascadeType.ALL on the ManyToOne annotation in the Animal entity class to PERSIST and I've tried removing the cascade parameter altogether, in both cases I found I would get no errors in my app but no animal records would be removed at all. The tables would be in the same state as before the method was run.</p>\n<p>I have also tried using 'orphanRemoval = true' on the OneToMany annotation on the Zoo entity class however this doesn't seem to have any impact when testing.</p>\n<pre><code>@OneToMany(mappedBy = &quot;zoo&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL, orphanRemoval = true)\n    @Fetch(value = FetchMode.SUBSELECT)\n    @JsonManagedReference\n    private List&lt;Animal&gt; animal;\n</code></pre>\n<p>Any help will be appreciated.</p>\n"},{"tags":["java","spring","spring-boot","multipartform-data"],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673540546,"creation_date":1673540546,"answer_id":75099371,"question_id":75099317,"body_markdown":"Add a field for the `MultipartFile` in `PortfolioFileSaveRequestDto` so you can handle all the data together.","title":"Is there a way to send MultiPartFile and JSON together as request in Spring Boot REST Controller","body":"<p>Add a field for the <code>MultipartFile</code> in <code>PortfolioFileSaveRequestDto</code> so you can handle all the data together.</p>\n"}],"owner":{"account_id":22565756,"reputation":185,"user_id":16752809,"display_name":"gs97ahn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":262,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1673548633,"answer_count":1,"score":2,"last_activity_date":1673540546,"creation_date":1673540330,"question_id":75099317,"body_markdown":"I tried implementing this way, but I get `415 Error` if I send the request. I don&#39;t want to split it into two different request. I&#39;m not sure what I am doing wrong.\r\n\r\n```java\r\n\r\n    @ResponseStatus(value = HttpStatus.CREATED)\r\n    @PostMapping(value = &quot;/file/new&quot;,\r\n            consumes = {MediaType.APPLICATION_JSON_VALUE, MediaType.MULTIPART_FORM_DATA_VALUE})\r\n    public ResponseEntity&lt;DefaultResponseDto&lt;Object&gt;&gt; createFile(HttpServletRequest servletRequest,\r\n                                                                 @RequestBody @Valid\r\n                                                                 PortfolioFileSaveRequestDto request,\r\n                                                                 @RequestPart MultipartFile file) {\r\n        List&lt;String&gt; tokenInfo = jwtProvider.authorizeJwt(servletRequest.getHeader(AUTHORIZATION));\r\n\r\n        ...\r\n\r\n        Portfolio portfolio = portfolioService.saveFile(request, user.getUsername(), profile, file);\r\n\r\n        ...\r\n    }\r\n```","title":"Is there a way to send MultiPartFile and JSON together as request in Spring Boot REST Controller","body":"<p>I tried implementing this way, but I get <code>415 Error</code> if I send the request. I don't want to split it into two different request. I'm not sure what I am doing wrong.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    @ResponseStatus(value = HttpStatus.CREATED)\n    @PostMapping(value = &quot;/file/new&quot;,\n            consumes = {MediaType.APPLICATION_JSON_VALUE, MediaType.MULTIPART_FORM_DATA_VALUE})\n    public ResponseEntity&lt;DefaultResponseDto&lt;Object&gt;&gt; createFile(HttpServletRequest servletRequest,\n                                                                 @RequestBody @Valid\n                                                                 PortfolioFileSaveRequestDto request,\n                                                                 @RequestPart MultipartFile file) {\n        List&lt;String&gt; tokenInfo = jwtProvider.authorizeJwt(servletRequest.getHeader(AUTHORIZATION));\n\n        ...\n\n        Portfolio portfolio = portfolioService.saveFile(request, user.getUsername(), profile, file);\n\n        ...\n    }\n</code></pre>\n"},{"tags":["java","windows-subsystem-for-linux","x11","ubuntu-20.04","xilinx"],"answers":[{"tags":[],"owner":{"account_id":19702681,"reputation":656,"user_id":14425076,"display_name":"Douglas B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673540408,"creation_date":1673540408,"answer_id":75099336,"question_id":74747651,"body_markdown":"I was able to install Vitis/Vivado in a WSL environment by following this guide (the main steps of which I will leave at the end in case the link breaks):\r\nhttps://cadhut.com/2020/09/08/how-to-install-vivado-vitis-using-just-the-command-line/\r\n\r\nThe issue (I believe) is that the installer is trying to launch its GUI, but cannot because WSL does not support that like a native Ubuntu install would. **NOTE** I am fairly certain that installing on the CLI like this will not allow you to launch the Vitis/vivado GUIs even if you are successful, so if you need those, you likely want to look at dual booting a native Ubuntu install of the correct version OR installing Xilinx tools in a Linux VM (I have used oracle VMWare for this in the past with success). The point of installing in WSL for me was to run builds in batch mode/via CLI and scripts.\r\n\r\nAlso; I am not sure what you mean by &#39;faking&#39; your OS version, but for the most part those warnings about supported OS can be ignored if you&#39;re willing to occasionally troubleshoot python version issues and such. AFAIK it should still let you install on an unsupported OS. The more important requirement is installing all the required packages and tools.\r\n\r\nOutlined steps from linked guide (should be enough to get someone started):\r\n```\r\n#Extract installer files \r\ntar -zxvf &lt;filename&gt;.tar.gz\r\n#Generate install config (will need to press 1 during this step)\r\n./xsetup -b ConfigGen\r\n#Launch installer with required args \r\n./xsetup --a XilinxEULA,3rdPartyEULA,WebTalkTerms -b Install -c /home/&lt;user&gt;/.Xilinx/install_config.txt\r\n```","title":"Cannot solve Java Sun error when installing Xilinx in Ubuntu Terminal","body":"<p>I was able to install Vitis/Vivado in a WSL environment by following this guide (the main steps of which I will leave at the end in case the link breaks):\n<a href=\"https://cadhut.com/2020/09/08/how-to-install-vivado-vitis-using-just-the-command-line/\" rel=\"nofollow noreferrer\">https://cadhut.com/2020/09/08/how-to-install-vivado-vitis-using-just-the-command-line/</a></p>\n<p>The issue (I believe) is that the installer is trying to launch its GUI, but cannot because WSL does not support that like a native Ubuntu install would. <strong>NOTE</strong> I am fairly certain that installing on the CLI like this will not allow you to launch the Vitis/vivado GUIs even if you are successful, so if you need those, you likely want to look at dual booting a native Ubuntu install of the correct version OR installing Xilinx tools in a Linux VM (I have used oracle VMWare for this in the past with success). The point of installing in WSL for me was to run builds in batch mode/via CLI and scripts.</p>\n<p>Also; I am not sure what you mean by 'faking' your OS version, but for the most part those warnings about supported OS can be ignored if you're willing to occasionally troubleshoot python version issues and such. AFAIK it should still let you install on an unsupported OS. The more important requirement is installing all the required packages and tools.</p>\n<p>Outlined steps from linked guide (should be enough to get someone started):</p>\n<pre><code>#Extract installer files \ntar -zxvf &lt;filename&gt;.tar.gz\n#Generate install config (will need to press 1 during this step)\n./xsetup -b ConfigGen\n#Launch installer with required args \n./xsetup --a XilinxEULA,3rdPartyEULA,WebTalkTerms -b Install -c /home/&lt;user&gt;/.Xilinx/install_config.txt\n</code></pre>\n"}],"owner":{"account_id":27049611,"reputation":1,"user_id":20603193,"display_name":"sslerose"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":243,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1673540408,"creation_date":1670615146,"question_id":74747651,"body_markdown":"I recently made a post detailing an issue with creating a RedPitaya ecosystem on my Windows 11 laptop and wanted to see if my Windows 10 desktop had anymore luck.\r\n\r\nAfter installing Ubuntu 20.04.5 LTS (Focal Fossa) via Microsoft Store, I faked my OS to 18.04.4 (Bionic Beaver) which is required to avoid issues with Xilinx installer. I attempted to install Xilinx Unified 2020.1 via \r\n```\r\nchmod +x ./Xilinx_Unified_2020.1_0602_1208_Lin64.bin\r\nsudo ./Xilinx_Unified_2020.1_0602_1208_Lin64.bin\r\n```\r\nbut I ran into this common error:\r\n\r\n```\r\nERROR: Installer could not be started.\r\nNo X11 DISPLAY variable was set, but this program performed an operation which requires it.\r\njava.awt.HeadlessException:\r\n```\r\nFollowing other StackOverflow answers (namely [this one](https://stackoverflow.com/questions/21131855/could-not-initialize-class-sun-awt-x11graphicsenvironment-on-solaris)), I set my `DISPLAY` variable to `localhost:0.0`, `:0.0`, `:0`, and unset it, all of which resulted in the following error message:\r\n\r\n```\r\nERROR: Installer could not be started. Could not initialize class sun.awt.X11GraphicsEnvironment\r\njava.lang.NoClassDefFoundError: Could not initialize class sun.awt.X11GraphicsEnvironment\r\n        at java.base/java.lang.Class.forName0(Native Method)\r\n        at java.base/java.lang.Class.forName(Unknown Source)\r\n        at java.desktop/java.awt.GraphicsEnvironment.createGE(Unknown Source)\r\n        at java.desktop/java.awt.GraphicsEnvironment.getLocalGraphicsEnvironment(Unknown Source)\r\n        at java.desktop/java.awt.Window.initGC(Unknown Source)\r\n        at java.desktop/java.awt.Window.init(Unknown Source)\r\n        at java.desktop/java.awt.Window.&lt;init&gt;(Unknown Source)\r\n        at java.desktop/java.awt.Frame.&lt;init&gt;(Unknown Source)\r\n        at java.desktop/java.awt.Frame.&lt;init&gt;(Unknown Source)\r\n        at java.desktop/javax.swing.JFrame.&lt;init&gt;(Unknown Source)\r\n        at h.b.&lt;init&gt;(Unknown Source)\r\n        at com.xilinx.installer.gui.F.&lt;init&gt;(Unknown Source)\r\n        at com.xilinx.installer.gui.InstallerGUI.&lt;init&gt;(Unknown Source)\r\n        at com.xilinx.installer.gui.InstallerGUI.&lt;clinit&gt;(Unknown Source)\r\n        at com.xilinx.installer.api.InstallerLauncher.main(Unknown Source)\r\n```\r\n\r\n\r\nWhen installing Xilinx on my laptop I kept a record of what solved my errors, and I wrote that installing OpenJDK via\r\n```\r\nsudo apt-get install openjdk-6-jdk\r\nsudo apt-get install openjdk-6-jre\r\n```\r\nsolved my issue, but on my desktop this is not the case. I have attempted with several versions of Java (including Java 8, 17, and 19) from both OpenJDK and Oracle, and I have installed them by either .tar.gz files, repositories, or terminal install commands.\r\n\r\nCurrently I am running\r\n```\r\njava version &quot;17.0.1&quot; 2021-10-19 LTS\r\nJava(TM) SE Runtime Environment (build 17.0.1+12-LTS-39)\r\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.1+12-LTS-39, mixed mode, sharing)\r\n```\r\nand receiving the error message.\r\n\r\nAny help using OpenJDK or Oracle is appreciated.\r\n\r\nI am running x64 Windows 10 Home 21H2, OS Build 19044.2251, and I am unable to update to Windows 11 (error code 0xc1900101). I have also installed Ubuntu through Windows Subsystem for Linux, and that has not resulted in any different results.","title":"Cannot solve Java Sun error when installing Xilinx in Ubuntu Terminal","body":"<p>I recently made a post detailing an issue with creating a RedPitaya ecosystem on my Windows 11 laptop and wanted to see if my Windows 10 desktop had anymore luck.</p>\n<p>After installing Ubuntu 20.04.5 LTS (Focal Fossa) via Microsoft Store, I faked my OS to 18.04.4 (Bionic Beaver) which is required to avoid issues with Xilinx installer. I attempted to install Xilinx Unified 2020.1 via</p>\n<pre><code>chmod +x ./Xilinx_Unified_2020.1_0602_1208_Lin64.bin\nsudo ./Xilinx_Unified_2020.1_0602_1208_Lin64.bin\n</code></pre>\n<p>but I ran into this common error:</p>\n<pre><code>ERROR: Installer could not be started.\nNo X11 DISPLAY variable was set, but this program performed an operation which requires it.\njava.awt.HeadlessException:\n</code></pre>\n<p>Following other StackOverflow answers (namely <a href=\"https://stackoverflow.com/questions/21131855/could-not-initialize-class-sun-awt-x11graphicsenvironment-on-solaris\">this one</a>), I set my <code>DISPLAY</code> variable to <code>localhost:0.0</code>, <code>:0.0</code>, <code>:0</code>, and unset it, all of which resulted in the following error message:</p>\n<pre><code>ERROR: Installer could not be started. Could not initialize class sun.awt.X11GraphicsEnvironment\njava.lang.NoClassDefFoundError: Could not initialize class sun.awt.X11GraphicsEnvironment\n        at java.base/java.lang.Class.forName0(Native Method)\n        at java.base/java.lang.Class.forName(Unknown Source)\n        at java.desktop/java.awt.GraphicsEnvironment.createGE(Unknown Source)\n        at java.desktop/java.awt.GraphicsEnvironment.getLocalGraphicsEnvironment(Unknown Source)\n        at java.desktop/java.awt.Window.initGC(Unknown Source)\n        at java.desktop/java.awt.Window.init(Unknown Source)\n        at java.desktop/java.awt.Window.&lt;init&gt;(Unknown Source)\n        at java.desktop/java.awt.Frame.&lt;init&gt;(Unknown Source)\n        at java.desktop/java.awt.Frame.&lt;init&gt;(Unknown Source)\n        at java.desktop/javax.swing.JFrame.&lt;init&gt;(Unknown Source)\n        at h.b.&lt;init&gt;(Unknown Source)\n        at com.xilinx.installer.gui.F.&lt;init&gt;(Unknown Source)\n        at com.xilinx.installer.gui.InstallerGUI.&lt;init&gt;(Unknown Source)\n        at com.xilinx.installer.gui.InstallerGUI.&lt;clinit&gt;(Unknown Source)\n        at com.xilinx.installer.api.InstallerLauncher.main(Unknown Source)\n</code></pre>\n<p>When installing Xilinx on my laptop I kept a record of what solved my errors, and I wrote that installing OpenJDK via</p>\n<pre><code>sudo apt-get install openjdk-6-jdk\nsudo apt-get install openjdk-6-jre\n</code></pre>\n<p>solved my issue, but on my desktop this is not the case. I have attempted with several versions of Java (including Java 8, 17, and 19) from both OpenJDK and Oracle, and I have installed them by either .tar.gz files, repositories, or terminal install commands.</p>\n<p>Currently I am running</p>\n<pre><code>java version &quot;17.0.1&quot; 2021-10-19 LTS\nJava(TM) SE Runtime Environment (build 17.0.1+12-LTS-39)\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.1+12-LTS-39, mixed mode, sharing)\n</code></pre>\n<p>and receiving the error message.</p>\n<p>Any help using OpenJDK or Oracle is appreciated.</p>\n<p>I am running x64 Windows 10 Home 21H2, OS Build 19044.2251, and I am unable to update to Windows 11 (error code 0xc1900101). I have also installed Ubuntu through Windows Subsystem for Linux, and that has not resulted in any different results.</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1673522771,"post_id":75095353,"comment_id":132520577,"body_markdown":"Provide the full mapping for `@OneToMany`, `@ManyToOne` as well as the `@Id` mappings. AFAIK it can depend on the mapping if hibernate needs to perform a select or not","body":"Provide the full mapping for <code>@OneToMany</code>, <code>@ManyToOne</code> as well as the <code>@Id</code> mappings. AFAIK it can depend on the mapping if hibernate needs to perform a select or not"},{"owner":{"account_id":1736824,"reputation":5410,"user_id":1589188,"accept_rate":66,"display_name":"user1589188"},"score":0,"creation_date":1673528086,"post_id":75095353,"comment_id":132522391,"body_markdown":"@XtremeBaumer updated to include more info.","body":"@XtremeBaumer updated to include more info."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1673528739,"post_id":75095353,"comment_id":132522638,"body_markdown":"Shouldn&#39;t `private UUID parentId;` be `private Parent parentId;`? What is the mapping from child to parent?","body":"Shouldn&#39;t <code>private UUID parentId;</code> be <code>private Parent parentId;</code>? What is the mapping from child to parent?"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1673529093,"post_id":75095353,"comment_id":132522785,"body_markdown":"You should also read this: [How to merge entity collections with JPA and Hibernate](https://vladmihalcea.com/merge-entity-collections-jpa-hibernate/)","body":"You should also read this: <a href=\"https://vladmihalcea.com/merge-entity-collections-jpa-hibernate/\" rel=\"nofollow noreferrer\">How to merge entity collections with JPA and Hibernate</a>"},{"owner":{"account_id":1736824,"reputation":5410,"user_id":1589188,"accept_rate":66,"display_name":"user1589188"},"score":0,"creation_date":1673529709,"post_id":75095353,"comment_id":132523004,"body_markdown":"@XtremeBaumer is a unidirection relationship, the child does not need to know about its parent","body":"@XtremeBaumer is a unidirection relationship, the child does not need to know about its parent"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1673533859,"post_id":75095353,"comment_id":132524545,"body_markdown":"[Check this](https://thorben-janssen.com/hibernate-tips-unidirectional-one-to-many-association-without-junction-table/). I still think that your mapping wouldn&#39;t work like this. You would need a `@JoinColumn` on `List&lt;Child&gt; children;` and the `mappedBy` attribute is not necessary","body":"<a href=\"https://thorben-janssen.com/hibernate-tips-unidirectional-one-to-many-association-without-junction-table/\" rel=\"nofollow noreferrer\">Check this</a>. I still think that your mapping wouldn&#39;t work like this. You would need a <code>@JoinColumn</code> on <code>List&lt;Child&gt; children;</code> and the <code>mappedBy</code> attribute is not necessary"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1673606178,"post_id":75095353,"comment_id":132541916,"body_markdown":"If you assign an ID before inserting the entity is in a `detached` state and hibernate thinks the entity already exists in the database, thus performs a select to check if that is actually the case and to get a managed instance. As the select does not return anything, it runs an insert instead of an update. You would have to manually persist each child as to not trigger a select","body":"If you assign an ID before inserting the entity is in a <code>detached</code> state and hibernate thinks the entity already exists in the database, thus performs a select to check if that is actually the case and to get a managed instance. As the select does not return anything, it runs an insert instead of an update. You would have to manually persist each child as to not trigger a select"}],"answers":[{"tags":[],"owner":{"account_id":23171192,"reputation":1,"user_id":17270429,"display_name":"Yamini Theratipally"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673524334,"creation_date":1673524334,"answer_id":75095933,"question_id":75095353,"body_markdown":"On the basis of your code  i think because of OnetoMany mapping and you did&#39;t provide cascade type then it not  happen\r\nselect query running two times \r\nprovide more information \r\nfull code of Entity classes\r\nproperties file","title":"Spring JPA generates SELECT query for new associated entities of existing owning entity","body":"<p>On the basis of your code  i think because of OnetoMany mapping and you did't provide cascade type then it not  happen\nselect query running two times\nprovide more information\nfull code of Entity classes\nproperties file</p>\n"}],"owner":{"account_id":1736824,"reputation":5410,"user_id":1589188,"accept_rate":66,"display_name":"user1589188"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673540130,"creation_date":1673521553,"question_id":75095353,"body_markdown":"I have an owning entity class with some associated entities, e.g.\r\n\r\n    @Entity\r\n    public class Parent {\r\n        @Id\r\n        @GeneratedValue\r\n        private UUID id;\r\n        @OneToMany(mappedBy = &quot;parentId&quot;, cascade = CascadeType.ALL)\r\n        List&lt;Child&gt; children;\r\n        ...\r\n    }\r\n\r\n    @Entity\r\n    public class Child {\r\n        @Id\r\n        @GeneratedValue\r\n        private UUID id;\r\n        private UUID parentId;\r\n        ...\r\n    }\r\n\r\nI am using Spring Boot Starter Data JPA. I traced the code to the `SimpleJpaRepository` class, I noticed that on calling `save(parent)`, it checks if `isNew()` returns true, Spring will call `persist()`; otherwise it calls `merge()`. This makes total sense, as `persist()` will generate only an INSERT, while `merge()` will generate a SELECT (if it hasn&#39;t done before) and then followed by an INSERT if the SELECT returns nothing; otherwise an UPDATE.\r\n\r\nThe above works well when saving a new `Parent` with new `Child`, only INSERTs are generated without any SELECT.\r\n\r\nHowever, my problem is, when creating some new `Child` and adding them to an **existing** `Parent`, then on saving the parent, somehow I noticed Spring JPA is still generating an extra SELECT for each of these new `Child` entities before the INSERTs, which I found unnecessary.\r\n\r\nIs there a way to avoid these SELECT queries?\r\n\r\n---------------\r\n\r\nFurther investigation I found that if I leave the `id` of the `Child` null (i.e. let it auto generates a new id), then only INSERT is generated. However, if I manually assign an id to a `Child`, then a SELECT will be generated before an INSERT. Is there a way I can assign id to `Child` while avoiding the extra SELECT?","title":"Spring JPA generates SELECT query for new associated entities of existing owning entity","body":"<p>I have an owning entity class with some associated entities, e.g.</p>\n<pre><code>@Entity\npublic class Parent {\n    @Id\n    @GeneratedValue\n    private UUID id;\n    @OneToMany(mappedBy = &quot;parentId&quot;, cascade = CascadeType.ALL)\n    List&lt;Child&gt; children;\n    ...\n}\n\n@Entity\npublic class Child {\n    @Id\n    @GeneratedValue\n    private UUID id;\n    private UUID parentId;\n    ...\n}\n</code></pre>\n<p>I am using Spring Boot Starter Data JPA. I traced the code to the <code>SimpleJpaRepository</code> class, I noticed that on calling <code>save(parent)</code>, it checks if <code>isNew()</code> returns true, Spring will call <code>persist()</code>; otherwise it calls <code>merge()</code>. This makes total sense, as <code>persist()</code> will generate only an INSERT, while <code>merge()</code> will generate a SELECT (if it hasn't done before) and then followed by an INSERT if the SELECT returns nothing; otherwise an UPDATE.</p>\n<p>The above works well when saving a new <code>Parent</code> with new <code>Child</code>, only INSERTs are generated without any SELECT.</p>\n<p>However, my problem is, when creating some new <code>Child</code> and adding them to an <strong>existing</strong> <code>Parent</code>, then on saving the parent, somehow I noticed Spring JPA is still generating an extra SELECT for each of these new <code>Child</code> entities before the INSERTs, which I found unnecessary.</p>\n<p>Is there a way to avoid these SELECT queries?</p>\n<hr />\n<p>Further investigation I found that if I leave the <code>id</code> of the <code>Child</code> null (i.e. let it auto generates a new id), then only INSERT is generated. However, if I manually assign an id to a <code>Child</code>, then a SELECT will be generated before an INSERT. Is there a way I can assign id to <code>Child</code> while avoiding the extra SELECT?</p>\n"},{"tags":["java","api","netbeans"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":1,"creation_date":1670972392,"post_id":74791186,"comment_id":131995695,"body_markdown":"HTTP errors are always sent by the target server after they understood your request, so timeouts and other connection level issues can be ruled out. 403 is not documented on https://apilayer.com/marketplace/exchangerates_data-api#errors but I would take something like postman and try the request with api key. There should be a reason given: *&quot;If the response code is not 200, it means the operation failed somehow and you may need to take an action accordingly. You can check the response (which will be in JSON format) for a field called &#39;message&#39; that briefly explains the error reported.&quot;*","body":"HTTP errors are always sent by the target server after they understood your request, so timeouts and other connection level issues can be ruled out. 403 is not documented on <a href=\"https://apilayer.com/marketplace/exchangerates_data-api#errors\" rel=\"nofollow noreferrer\">apilayer.com/marketplace/exchangerates_data-api#errors</a> but I would take something like postman and try the request with api key. There should be a reason given: <i>&quot;If the response code is not 200, it means the operation failed somehow and you may need to take an action accordingly. You can check the response (which will be in JSON format) for a field called &#39;message&#39; that briefly explains the error reported.&quot;</i>"}],"answers":[{"tags":[],"owner":{"account_id":18106461,"reputation":255,"user_id":13163765,"display_name":"Hugo GEORGET"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673539952,"creation_date":1673539952,"answer_id":75099252,"question_id":74791186,"body_markdown":"I ran into a similar issue while using Spring Web&#39;s RestTemplate to try and make the API call.\r\n\r\nAPILayer is using OKHttpClient (from the `okhttp3` library) for their demo samples.\r\nThis fixed it for me.\r\n\r\nHere is what this could look like for you:\r\n\r\n    import java.io.*;\r\n    import okhttp3.*;\r\n    \r\n    public class main {\r\n      public static void main(String []args) throws IOException{\r\n        OkHttpClient client = new OkHttpClient().newBuilder().build();\r\n    \r\n        Request request = new Request.Builder()\r\n          .url(&quot;https://api.apilayer.com/exchangerates_data/convert?to=to&amp;from=from&amp;amount=amount&quot;)\r\n          .addHeader(&quot;apikey&quot;, &quot;MyApiKeY&quot;)\r\n          .method(&quot;GET&quot;, })\r\n          .build();\r\n        Response response = client.newCall(request).execute();\r\n        System.out.println(response.body().string());\r\n      }\r\n    }\r\n\r\n","title":"Why do I get a 403 response code if I pass all the parameters using the Exchange Rates API in Java?","body":"<p>I ran into a similar issue while using Spring Web's RestTemplate to try and make the API call.</p>\n<p>APILayer is using OKHttpClient (from the <code>okhttp3</code> library) for their demo samples.\nThis fixed it for me.</p>\n<p>Here is what this could look like for you:</p>\n<pre><code>import java.io.*;\nimport okhttp3.*;\n\npublic class main {\n  public static void main(String []args) throws IOException{\n    OkHttpClient client = new OkHttpClient().newBuilder().build();\n\n    Request request = new Request.Builder()\n      .url(&quot;https://api.apilayer.com/exchangerates_data/convert?to=to&amp;from=from&amp;amount=amount&quot;)\n      .addHeader(&quot;apikey&quot;, &quot;MyApiKeY&quot;)\n      .method(&quot;GET&quot;, })\n      .build();\n    Response response = client.newCall(request).execute();\n    System.out.println(response.body().string());\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":14493045,"reputation":11,"user_id":11491579,"display_name":"BluesGo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":304,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1673539952,"creation_date":1670967748,"question_id":74791186,"body_markdown":"I am currently learning to consume an API in Java, I am using the Exchange Rates API, however, it failed to understand what is happening, I send all the requested parameters and I also send my API key as header.\r\n\r\n```\r\n private static void sendHttpGETRequest(String fromCode, String toCode, double amount) throws IOException, JSONException{\r\n        \r\n        String GET_URL = &quot;https://api.apilayer.com/exchangerates_data/convert?to=&quot;+toCode+&quot;&amp;from=&quot;+fromCode+&quot;&amp;amount=&quot;+amount;        \r\n\r\n        URL url = new URL(GET_URL);\r\n        HttpURLConnection httpURLConnection = (HttpURLConnection) url.openConnection();\r\n        httpURLConnection.setReadTimeout(200 * 1000);\r\n        httpURLConnection.setConnectTimeout(200 * 1000);                \r\n        \r\n        httpURLConnection.setRequestMethod(&quot;GET&quot;);\r\n        httpURLConnection.setRequestProperty(&quot;apikey&quot;, &quot;MyApiKeY&quot;);\r\n        int responseCode = httpURLConnection.getResponseCode();\r\n        \r\n        System.out.println(&quot;Response code: &quot; + responseCode);\r\n                \r\n        if(responseCode == httpURLConnection.HTTP_OK){//SUCESS\r\n            BufferedReader in = new BufferedReader(new InputStreamReader(httpURLConnection.getInputStream()));\r\n            String inputLine;\r\n            StringBuffer response = new StringBuffer();\r\n            \r\n            while((inputLine = in.readLine()) != null){\r\n                response.append(inputLine);\r\n            }in.close();             \r\n            \r\n            JSONObject obj = new JSONObject(response.toString());\r\n            Double exchangeRate = obj.getJSONObject(&quot;rates&quot;).getDouble(fromCode);\r\n            System.out.println(obj.getJSONObject(&quot;rates&quot;));\r\n            System.out.println(exchangeRate); //keep for debugging\r\n            System.out.println();\r\n            \r\n        } \r\n        else {\r\n            System.out.println(&quot;GET request failed&quot;);\r\n        }                                          \r\n    }\r\n```\r\n\r\nI have used setConnectTimeout and setReadTimeout to set the network timeout thinking that was the problem but still getting the same error.","title":"Why do I get a 403 response code if I pass all the parameters using the Exchange Rates API in Java?","body":"<p>I am currently learning to consume an API in Java, I am using the Exchange Rates API, however, it failed to understand what is happening, I send all the requested parameters and I also send my API key as header.</p>\n<pre><code> private static void sendHttpGETRequest(String fromCode, String toCode, double amount) throws IOException, JSONException{\n        \n        String GET_URL = &quot;https://api.apilayer.com/exchangerates_data/convert?to=&quot;+toCode+&quot;&amp;from=&quot;+fromCode+&quot;&amp;amount=&quot;+amount;        \n\n        URL url = new URL(GET_URL);\n        HttpURLConnection httpURLConnection = (HttpURLConnection) url.openConnection();\n        httpURLConnection.setReadTimeout(200 * 1000);\n        httpURLConnection.setConnectTimeout(200 * 1000);                \n        \n        httpURLConnection.setRequestMethod(&quot;GET&quot;);\n        httpURLConnection.setRequestProperty(&quot;apikey&quot;, &quot;MyApiKeY&quot;);\n        int responseCode = httpURLConnection.getResponseCode();\n        \n        System.out.println(&quot;Response code: &quot; + responseCode);\n                \n        if(responseCode == httpURLConnection.HTTP_OK){//SUCESS\n            BufferedReader in = new BufferedReader(new InputStreamReader(httpURLConnection.getInputStream()));\n            String inputLine;\n            StringBuffer response = new StringBuffer();\n            \n            while((inputLine = in.readLine()) != null){\n                response.append(inputLine);\n            }in.close();             \n            \n            JSONObject obj = new JSONObject(response.toString());\n            Double exchangeRate = obj.getJSONObject(&quot;rates&quot;).getDouble(fromCode);\n            System.out.println(obj.getJSONObject(&quot;rates&quot;));\n            System.out.println(exchangeRate); //keep for debugging\n            System.out.println();\n            \n        } \n        else {\n            System.out.println(&quot;GET request failed&quot;);\n        }                                          \n    }\n</code></pre>\n<p>I have used setConnectTimeout and setReadTimeout to set the network timeout thinking that was the problem but still getting the same error.</p>\n"},{"tags":["java","debugging","intellij-idea"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1673539459,"post_id":75099100,"comment_id":132526803,"body_markdown":"Escape key. I think I&#39;ve had 1 case where it was bugged and I had to restart the process to get rid of it. Might have been a different dialog though, don&#39;t remember.","body":"Escape key. I think I&#39;ve had 1 case where it was bugged and I had to restart the process to get rid of it. Might have been a different dialog though, don&#39;t remember."},{"owner":{"account_id":25879514,"reputation":41,"user_id":19608860,"display_name":"Peter Malfiz"},"score":0,"creation_date":1673539813,"post_id":75099100,"comment_id":132526941,"body_markdown":"Thanks that works, but after a few clicks it comes back up.","body":"Thanks that works, but after a few clicks it comes back up."},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1673539876,"post_id":75099100,"comment_id":132526976,"body_markdown":"Your keyboard probably has a key stuck down or something. It shouldn&#39;t just appear randomly.","body":"Your keyboard probably has a key stuck down or something. It shouldn&#39;t just appear randomly."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1673539953,"post_id":75099100,"comment_id":132527004,"body_markdown":"Try restarting IntelliJ. And check for newer version.","body":"Try restarting IntelliJ. And check for newer version."}],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673539803,"creation_date":1673539803,"answer_id":75099217,"question_id":75099100,"body_markdown":"The popup appears when you trigger [this menu](https://i.stack.imgur.com/yn4e5.png) (by a click or by a keyboard shortcut). It can be dismissed using &lt;kbd&gt;Esc&lt;/kbd&gt; key or by choosing a configuration to debug and pressing &lt;kbd&gt;Enter&lt;/kbd&gt;.","title":"IntelliJ IDEA Ultimate: How to close debug window?","body":"<p>The popup appears when you trigger <a href=\"https://i.stack.imgur.com/yn4e5.png\" rel=\"nofollow noreferrer\">this menu</a> (by a click or by a keyboard shortcut). It can be dismissed using <kbd>Esc</kbd> key or by choosing a configuration to debug and pressing <kbd>Enter</kbd>.</p>\n"}],"owner":{"account_id":25879514,"reputation":41,"user_id":19608860,"display_name":"Peter Malfiz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1673539803,"creation_date":1673539253,"question_id":75099100,"body_markdown":"There is an annoying Window called &quot;Debug&quot; which i cant close. Do you know how to get rid of it?\r\n\r\n[![enter image description here][1]][1] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YlvcG.png","title":"IntelliJ IDEA Ultimate: How to close debug window?","body":"<p>There is an annoying Window called &quot;Debug&quot; which i cant close. Do you know how to get rid of it?</p>\n<p><a href=\"https://i.stack.imgur.com/YlvcG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YlvcG.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","architecture","software-design"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1673540193,"post_id":75095844,"comment_id":132527098,"body_markdown":"&quot;Again, the implementation classes can be made package protected and dependency injected at runtime.&quot;","body":"&quot;Again, the implementation classes can be made package protected and dependency injected at runtime.&quot;"}],"owner":{"account_id":27508706,"reputation":21,"user_id":20991020,"display_name":"fflo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1673539771,"creation_date":1673523886,"question_id":75095844,"body_markdown":"I found very interesting the chapter written by Simon Brown in the book &quot;clean architecture&quot; by Uncle Bob. However, there is a point that is not totally clear for me. \r\n\r\nSeveral architecures are discussed, and one of them is the &quot;ports and adapters&quot; approach. It is illustrated on an example dealing with book ordering. In this approach, classes are grouped into 3 packages representing the controller, the use case and the database. \r\n\r\nMore precisely, the class diagram is the following: OrdersController class (web package) uses the interface OrdersService (domain package). This interface is implmented by the OrdersServiceImpl (domain package), which uses the Orders interface (domain package). The Orders interface is implemented by the JdbcOrdersREpository class in the database package.\r\n\r\nTo avoid &quot;bad&quot; dependencies, only specific classes are public in those packages. As a result, the database package only has one class (JdbcOrdersREpository) which is not public (figure 34.8 for those who have the book). \r\n\r\nHow is it possible ? If the JdbcOrdersRepository class is not public, it means it cannot be used outside the package. However, if my understanding of the book is good, it should be used somewhere in the Main component.\r\n\r\nThank you for your help.\r\n\r\nI tried to look at Java access modifiers for classes. I was expecting to find a way to use protected/private class outside a package (for exmaple in a Main method).","title":"Java package encapsulation in a &quot;ports and adapters&quot; approach (Simon Brown chapter in the &quot;clean architecture&quot; book, by Uncle Bob)","body":"<p>I found very interesting the chapter written by Simon Brown in the book &quot;clean architecture&quot; by Uncle Bob. However, there is a point that is not totally clear for me.</p>\n<p>Several architecures are discussed, and one of them is the &quot;ports and adapters&quot; approach. It is illustrated on an example dealing with book ordering. In this approach, classes are grouped into 3 packages representing the controller, the use case and the database.</p>\n<p>More precisely, the class diagram is the following: OrdersController class (web package) uses the interface OrdersService (domain package). This interface is implmented by the OrdersServiceImpl (domain package), which uses the Orders interface (domain package). The Orders interface is implemented by the JdbcOrdersREpository class in the database package.</p>\n<p>To avoid &quot;bad&quot; dependencies, only specific classes are public in those packages. As a result, the database package only has one class (JdbcOrdersREpository) which is not public (figure 34.8 for those who have the book).</p>\n<p>How is it possible ? If the JdbcOrdersRepository class is not public, it means it cannot be used outside the package. However, if my understanding of the book is good, it should be used somewhere in the Main component.</p>\n<p>Thank you for your help.</p>\n<p>I tried to look at Java access modifiers for classes. I was expecting to find a way to use protected/private class outside a package (for exmaple in a Main method).</p>\n"},{"tags":["java","ssl","smtp","jakarta-mail"],"answers":[{"tags":[],"owner":{"account_id":1032936,"reputation":29659,"user_id":1040885,"display_name":"Bill Shannon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1349464957,"creation_date":1349464957,"answer_id":12752755,"question_id":12743846,"body_markdown":"It looks like the SSL implementation used by your server is not compatible with the SSL implementation in the version of the JDK you&#39;re using.  The file [SSLNOTES.txt][1] (also included in the JavaMail download bundle) has some debugging tips.  You might need a JDK SSL expert to sort this out.\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/javamail145sslnotes-1562622.html","title":"Unable to send an email using SMTP (Getting javax.mail.MessagingException: Could not convert socket to TLS;)","body":"<p>It looks like the SSL implementation used by your server is not compatible with the SSL implementation in the version of the JDK you're using.  The file <a href=\"http://www.oracle.com/technetwork/java/javamail145sslnotes-1562622.html\" rel=\"nofollow\">SSLNOTES.txt</a> (also included in the JavaMail download bundle) has some debugging tips.  You might need a JDK SSL expert to sort this out.</p>\n"},{"tags":[],"owner":{"account_id":1262326,"reputation":1438,"user_id":1220291,"accept_rate":60,"display_name":"Nagarajan S R"},"down_vote_count":6,"up_vote_count":23,"is_accepted":true,"score":17,"last_activity_date":1611301187,"creation_date":1365758834,"answer_id":15967654,"question_id":12743846,"body_markdown":"I resolved this issue by just commenting out the below property\r\n\r\n    props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;); \r\n\r\nand the code got executed with no errors or warning or simply delete this line from the above source code. It is working like a charm till date.\r\n","title":"Unable to send an email using SMTP (Getting javax.mail.MessagingException: Could not convert socket to TLS;)","body":"<p>I resolved this issue by just commenting out the below property</p>\n<pre><code>props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;); \n</code></pre>\n<p>and the code got executed with no errors or warning or simply delete this line from the above source code. It is working like a charm till date.</p>\n"},{"tags":[],"owner":{"account_id":2670674,"reputation":2743,"user_id":2308157,"display_name":"Erich"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1377201975,"creation_date":1377201975,"answer_id":18389868,"question_id":12743846,"body_markdown":"If you don&#39;t want to use SSL, and you&#39;re using smtp instead of smtps try these settings\r\n\r\n    mail.smtp.starttls.enable=false\r\n    mail.transport.protocol=smtp","title":"Unable to send an email using SMTP (Getting javax.mail.MessagingException: Could not convert socket to TLS;)","body":"<p>If you don't want to use SSL, and you're using smtp instead of smtps try these settings</p>\n\n<pre><code>mail.smtp.starttls.enable=false\nmail.transport.protocol=smtp\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1985368,"reputation":7094,"user_id":1780760,"display_name":"Ehsan Mirsaeedi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1377508619,"creation_date":1377508619,"answer_id":18440686,"question_id":12743846,"body_markdown":"I had this problem. the reason was our administrator had blocked TLS and SSL protocols. ","title":"Unable to send an email using SMTP (Getting javax.mail.MessagingException: Could not convert socket to TLS;)","body":"<p>I had this problem. the reason was our administrator had blocked TLS and SSL protocols. </p>\n"},{"tags":[],"owner":{"account_id":5310299,"reputation":41,"user_id":4236900,"display_name":"Andr&#233; Andrade"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1415647182,"creation_date":1415645242,"answer_id":26850760,"question_id":12743846,"body_markdown":"Make sure your antivirus software is not blocking the application. In my case Avast was blocking me from sending e-mails in a Java SE application.","title":"Unable to send an email using SMTP (Getting javax.mail.MessagingException: Could not convert socket to TLS;)","body":"<p>Make sure your antivirus software is not blocking the application. In my case Avast was blocking me from sending e-mails in a Java SE application.</p>\n"},{"tags":[],"owner":{"account_id":4673460,"reputation":2327,"user_id":3784642,"accept_rate":0,"display_name":"Bernard Hauzeur"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1553841679,"creation_date":1421358929,"answer_id":27973710,"question_id":12743846,"body_markdown":"Commenting-out the property `mail.smtp.starttls.enable` means you fall back to a default and unsecured connection, which would work only if the remote SMTP host also accepts unsecured transport on port `587` (the port for mail submission versus port 25 for end-delivery or relay operations).\r\n\r\nIn my context, TLS is compulsory on `587` and any attempt to open a session without TLS yield the SMTP server error response **530 Must issue a STARTTLS command first**.\r\n\r\nThen setting `mail.smtp.starttls.enable` to `true` alone still yield the same error **Could not convert socket to TLS** but now with a clue: **Server is not trusted**. Indeed, you must have either a keystore defined in the JVM start properties that would contain a certificate chain ending onto a trusted root certificate, either enforce trust with this extra property: **mail.smtp.ssl.trust** set to the remote host name.\r\n\r\nConfiguring the whole stuff in Spring support for javamail for instance (which you can easily map to plain javamail API) requires all of the following:\r\n\r\n\t&lt;bean id=&quot;mailSender&quot; class=&quot;org.springframework.mail.javamail.JavaMailSenderImpl&quot;&gt;\r\n\t&lt;property name=&quot;host&quot; value=&quot;theRemoteSmtpServer&quot; /&gt;\r\n\t&lt;property name=&quot;port&quot; value=&quot;587&quot; /&gt;\r\n\t&lt;property name=&quot;username&quot; value=&quot;muUserID&quot; /&gt;\r\n\t&lt;property name=&quot;password&quot; value=&quot;myPassword&quot; /&gt;\r\n\t&lt;property name=&quot;javaMailProperties&quot;&gt;\r\n\t\t&lt;props&gt;\r\n\t\t\t&lt;prop key=&quot;mail.smtp.starttls.enable&quot;&gt;true&lt;/prop&gt;\r\n\t\t\t&lt;prop key=&quot;mail.smtp.ssl.trust&quot;&gt;theRemoteSmtpServer&lt;/prop&gt;\r\n\t\t\t&lt;prop key=&quot;mail.smtp.auth&quot;&gt;true&lt;/prop&gt;\r\n\t\t&lt;/props&gt;\r\n\t&lt;/property&gt;\r\n\t&lt;/bean&gt;","title":"Unable to send an email using SMTP (Getting javax.mail.MessagingException: Could not convert socket to TLS;)","body":"<p>Commenting-out the property <code>mail.smtp.starttls.enable</code> means you fall back to a default and unsecured connection, which would work only if the remote SMTP host also accepts unsecured transport on port <code>587</code> (the port for mail submission versus port 25 for end-delivery or relay operations).</p>\n\n<p>In my context, TLS is compulsory on <code>587</code> and any attempt to open a session without TLS yield the SMTP server error response <strong>530 Must issue a STARTTLS command first</strong>.</p>\n\n<p>Then setting <code>mail.smtp.starttls.enable</code> to <code>true</code> alone still yield the same error <strong>Could not convert socket to TLS</strong> but now with a clue: <strong>Server is not trusted</strong>. Indeed, you must have either a keystore defined in the JVM start properties that would contain a certificate chain ending onto a trusted root certificate, either enforce trust with this extra property: <strong>mail.smtp.ssl.trust</strong> set to the remote host name.</p>\n\n<p>Configuring the whole stuff in Spring support for javamail for instance (which you can easily map to plain javamail API) requires all of the following:</p>\n\n<pre><code>&lt;bean id=\"mailSender\" class=\"org.springframework.mail.javamail.JavaMailSenderImpl\"&gt;\n&lt;property name=\"host\" value=\"theRemoteSmtpServer\" /&gt;\n&lt;property name=\"port\" value=\"587\" /&gt;\n&lt;property name=\"username\" value=\"muUserID\" /&gt;\n&lt;property name=\"password\" value=\"myPassword\" /&gt;\n&lt;property name=\"javaMailProperties\"&gt;\n    &lt;props&gt;\n        &lt;prop key=\"mail.smtp.starttls.enable\"&gt;true&lt;/prop&gt;\n        &lt;prop key=\"mail.smtp.ssl.trust\"&gt;theRemoteSmtpServer&lt;/prop&gt;\n        &lt;prop key=\"mail.smtp.auth\"&gt;true&lt;/prop&gt;\n    &lt;/props&gt;\n&lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5422321,"reputation":922,"user_id":4315608,"accept_rate":33,"display_name":"Sudarsana Kasireddy"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1421694727,"creation_date":1421694522,"answer_id":28031850,"question_id":12743846,"body_markdown":"I had a same issue with smtp.gmail.com and fixed with the following steps\r\n\r\n1. changed my code as per berhauz comments\r\n2. changed in Gmail settings from this link: https://www.google.com/settings/security/lesssecureapps\r\n","title":"Unable to send an email using SMTP (Getting javax.mail.MessagingException: Could not convert socket to TLS;)","body":"<p>I had a same issue with smtp.gmail.com and fixed with the following steps</p>\n\n<ol>\n<li>changed my code as per berhauz comments</li>\n<li>changed in Gmail settings from this link: <a href=\"https://www.google.com/settings/security/lesssecureapps\" rel=\"nofollow\">https://www.google.com/settings/security/lesssecureapps</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":203002,"reputation":21637,"user_id":450398,"accept_rate":85,"display_name":"Grodriguez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1464867356,"creation_date":1464867356,"answer_id":37590720,"question_id":12743846,"body_markdown":"The stack trace reveals that the actual cause of the problem is this:\r\n\r\n    java.security.InvalidAlgorithmParameterException: Prime size must be multiple of 64, and can only range from 512 to 1024 (inclusive)\r\n\r\nYou are running into a limitation of older versions of Java that did not support DH primes longer than 1024 bits, which your SMTP server was probably requiring. Here are the relevant bug entries:\r\n\r\n * http://bugs.java.com/bugdatabase/view_bug.do?bug_id=6521495\r\n * http://bugs.java.com/bugdatabase/view_bug.do?bug_id=7044060\r\n\r\nThis restriction/limitation was removed in Java 8 (see [the release notes][1]).\r\n\r\nNote that as has been pointed out already, your &quot;fix&quot; of disabling STARTTLS is not a real fix: It means your password will be sent as plain text, plus this will only work for SMTP servers that allow unencrypted traffic on port 587.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/guides/security/enhancements-8.html","title":"Unable to send an email using SMTP (Getting javax.mail.MessagingException: Could not convert socket to TLS;)","body":"<p>The stack trace reveals that the actual cause of the problem is this:</p>\n\n<pre><code>java.security.InvalidAlgorithmParameterException: Prime size must be multiple of 64, and can only range from 512 to 1024 (inclusive)\n</code></pre>\n\n<p>You are running into a limitation of older versions of Java that did not support DH primes longer than 1024 bits, which your SMTP server was probably requiring. Here are the relevant bug entries:</p>\n\n<ul>\n<li><a href=\"http://bugs.java.com/bugdatabase/view_bug.do?bug_id=6521495\" rel=\"nofollow\">http://bugs.java.com/bugdatabase/view_bug.do?bug_id=6521495</a></li>\n<li><a href=\"http://bugs.java.com/bugdatabase/view_bug.do?bug_id=7044060\" rel=\"nofollow\">http://bugs.java.com/bugdatabase/view_bug.do?bug_id=7044060</a></li>\n</ul>\n\n<p>This restriction/limitation was removed in Java 8 (see <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/security/enhancements-8.html\" rel=\"nofollow\">the release notes</a>).</p>\n\n<p>Note that as has been pointed out already, your \"fix\" of disabling STARTTLS is not a real fix: It means your password will be sent as plain text, plus this will only work for SMTP servers that allow unencrypted traffic on port 587.</p>\n"},{"tags":[],"owner":{"account_id":13967113,"reputation":19,"user_id":10175907,"display_name":"sandali chethana"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1533294970,"creation_date":1533294970,"answer_id":51671410,"question_id":12743846,"body_markdown":"I resolved this issue by disabling my virus guard.","title":"Unable to send an email using SMTP (Getting javax.mail.MessagingException: Could not convert socket to TLS;)","body":"<p>I resolved this issue by disabling my virus guard.</p>\n"},{"tags":[],"owner":{"account_id":12023070,"reputation":71,"user_id":8795927,"display_name":"Binay Dhawa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1557459842,"creation_date":1557459842,"answer_id":56070400,"question_id":12743846,"body_markdown":"    session.getProperties().put(&quot;mail.smtp.starttls.enable&quot;,&quot;true&quot;);\r\n    props.put(&quot;mail.smtp.ssl.trust&quot;, &quot;smtp.office365.com(site where your account is)&quot;);\r\n    props.put(&quot;mail.smtp.starttls.enable&quot;, true);\r\n\r\nThese codes should be able to start a ttls communication and get the mail service running. \r\n\r\nIn addition to this the antivirus creates a firewall that stops the handshake from happening.\r\n ","title":"Unable to send an email using SMTP (Getting javax.mail.MessagingException: Could not convert socket to TLS;)","body":"<pre><code>session.getProperties().put(\"mail.smtp.starttls.enable\",\"true\");\nprops.put(\"mail.smtp.ssl.trust\", \"smtp.office365.com(site where your account is)\");\nprops.put(\"mail.smtp.starttls.enable\", true);\n</code></pre>\n\n<p>These codes should be able to start a ttls communication and get the mail service running. </p>\n\n<p>In addition to this the antivirus creates a firewall that stops the handshake from happening.</p>\n"},{"tags":[],"owner":{"account_id":16583294,"reputation":37,"user_id":11983381,"display_name":"Abhishek"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1570689492,"creation_date":1570689492,"answer_id":58316864,"question_id":12743846,"body_markdown":"Maybe this issue related to security and **smtp.ssl is not trusted that&#39;s why issue occurs**.\r\n\r\nI resolve this issue just add a property\r\n\r\n    spring.mail.properties.mail.smtp.ssl.trust=smtp.gmail.com\r\n\r\nNow it is working fine for me.","title":"Unable to send an email using SMTP (Getting javax.mail.MessagingException: Could not convert socket to TLS;)","body":"<p>Maybe this issue related to security and <strong>smtp.ssl is not trusted that's why issue occurs</strong>.</p>\n\n<p>I resolve this issue just add a property</p>\n\n<pre><code>spring.mail.properties.mail.smtp.ssl.trust=smtp.gmail.com\n</code></pre>\n\n<p>Now it is working fine for me.</p>\n"},{"tags":[],"owner":{"account_id":10081590,"reputation":119,"user_id":7451686,"display_name":"Yaakoubox Youcef Hedjerci"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1612848749,"creation_date":1612728925,"answer_id":66092669,"question_id":12743846,"body_markdown":"After fighting all day this works for me (using spring boot , MailSender , aws) \r\n```\r\nspring.mail.host=smtp.gmail.com\r\nspring.mail.username=-----------@gmail.com\r\nspring.mail.password=--------------\r\nspring.mail.properties.mail.transport.protocol=smtp\r\nspring.mail.properties.mail.smtp.port=465\r\nspring.mail.properties.mail.smtp.auth=true\r\nspring.mail.properties.mail.smtp.starttls.enable=true\r\nspring.mail.properties.mail.smtp.ssl.enable=true\r\nspring.mail.properties.mail.smtp.starttls.required=true\r\nspring.mail.properties.mail.smtp.ssl.trust=smtp.gmail.com\r\n```\r\n","title":"Unable to send an email using SMTP (Getting javax.mail.MessagingException: Could not convert socket to TLS;)","body":"<p>After fighting all day this works for me (using spring boot , MailSender , aws)</p>\n<pre><code>spring.mail.host=smtp.gmail.com\nspring.mail.username=-----------@gmail.com\nspring.mail.password=--------------\nspring.mail.properties.mail.transport.protocol=smtp\nspring.mail.properties.mail.smtp.port=465\nspring.mail.properties.mail.smtp.auth=true\nspring.mail.properties.mail.smtp.starttls.enable=true\nspring.mail.properties.mail.smtp.ssl.enable=true\nspring.mail.properties.mail.smtp.starttls.required=true\nspring.mail.properties.mail.smtp.ssl.trust=smtp.gmail.com\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9185547,"reputation":3071,"user_id":6827918,"display_name":"dimitris tseggenes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1619547216,"creation_date":1619547216,"answer_id":67288512,"question_id":12743846,"body_markdown":"I spent hours on this error, until I found out that tomcat used TLS version 1.1 while the smtp server supports only TLS 1.2 and 1.3.\r\n\r\n    props.put(&quot;mail.smtp.ssl.protocols&quot;, &quot;TLSv1.2&quot;);  \r\n\r\nSetting TLS version to 1.2 solved my problem","title":"Unable to send an email using SMTP (Getting javax.mail.MessagingException: Could not convert socket to TLS;)","body":"<p>I spent hours on this error, until I found out that tomcat used TLS version 1.1 while the smtp server supports only TLS 1.2 and 1.3.</p>\n<pre><code>props.put(&quot;mail.smtp.ssl.protocols&quot;, &quot;TLSv1.2&quot;);  \n</code></pre>\n<p>Setting TLS version to 1.2 solved my problem</p>\n"},{"tags":[],"owner":{"account_id":23658620,"reputation":1,"user_id":17686496,"display_name":"MacTech. com"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673539747,"creation_date":1673539747,"answer_id":75099202,"question_id":12743846,"body_markdown":"Q) Could not convert socket to TLS &amp; Server is not trusted issue?\r\n\r\nAns: I also faced same issue, just add below code in application.properties file then it will resolve.\r\n\r\n1. Below code for application.yml file.\r\n```\r\n    spring:  \r\n      mail:  \r\n        host: smtp.gmail.com  \r\n        port: 587\r\n        username: yourid@gmail.com\r\n        password: yourpassword\r\n        protocol: smtp\r\n    properties:\r\n      mail:\r\n        smtp:\r\n          starttls:\r\n            enable: true\r\n            required: true\r\n          auth: true\r\n          ssl:\r\n            trust: smtp.gmail.com\r\n```\r\n\r\n2. Below code for application.properties file.\r\n\r\n```\r\nspring.mail.host=smtp.gmail.com\r\nspring.mail.port=587\r\nspring.mail.username=yourid@gmail.com\r\nspring.mail.password=yourpassword\r\nspring.mail.protocol=smtp\r\n\r\nspring.mail.properties.mail.smtp.starttls.enable=true\r\nspring.mail.properties.mail.smtp.starttls.required=true\r\nspring.mail.properties.mail.smtp.auth=true\r\nspring.mail.properties.mail.smtp.ssl.trust=smtp.gmail.com\r\n```\r\n\r\n  \r\n\r\n    ","title":"Unable to send an email using SMTP (Getting javax.mail.MessagingException: Could not convert socket to TLS;)","body":"<p>Q) Could not convert socket to TLS &amp; Server is not trusted issue?</p>\n<p>Ans: I also faced same issue, just add below code in application.properties file then it will resolve.</p>\n<ol>\n<li>Below code for application.yml file.</li>\n</ol>\n<pre><code>    spring:  \n      mail:  \n        host: smtp.gmail.com  \n        port: 587\n        username: yourid@gmail.com\n        password: yourpassword\n        protocol: smtp\n    properties:\n      mail:\n        smtp:\n          starttls:\n            enable: true\n            required: true\n          auth: true\n          ssl:\n            trust: smtp.gmail.com\n</code></pre>\n<ol start=\"2\">\n<li>Below code for application.properties file.</li>\n</ol>\n<pre><code>spring.mail.host=smtp.gmail.com\nspring.mail.port=587\nspring.mail.username=yourid@gmail.com\nspring.mail.password=yourpassword\nspring.mail.protocol=smtp\n\nspring.mail.properties.mail.smtp.starttls.enable=true\nspring.mail.properties.mail.smtp.starttls.required=true\nspring.mail.properties.mail.smtp.auth=true\nspring.mail.properties.mail.smtp.ssl.trust=smtp.gmail.com\n</code></pre>\n"}],"owner":{"account_id":1262326,"reputation":1438,"user_id":1220291,"accept_rate":60,"display_name":"Nagarajan S R"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107628,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":15967654,"answer_count":14,"score":19,"last_activity_date":1673539747,"creation_date":1349431028,"question_id":12743846,"body_markdown":"I have written the following code for sending email using javamail API through SMTP as TLS as SSL is not supported but I ended up with the following exception. Please see my code below. I have used debugging mode and below the code you can find the exception as well.\r\n\r\n    import java.util.Properties;\r\n    import javax.mail.Message;\r\n    import javax.mail.MessagingException;\r\n    import javax.mail.PasswordAuthentication;\r\n    import javax.mail.Session;\r\n    import javax.mail.Transport;\r\n    import javax.mail.internet.InternetAddress;\r\n    import javax.mail.internet.MimeMessage;\r\n     \r\n    public class SendMailTLS {\r\n     \r\n        public static void main(String[] args) {\r\n         \r\n        \tfinal String username = &quot;---------@mydomain.com&quot;;\r\n        \tfinal String password = &quot;***********&quot;;\r\n         \r\n        \tProperties props = new Properties();\r\n        \tprops.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n        \tprops.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n        \tprops.put(&quot;mail.smtp.host&quot;, &quot;mail.mydomain.com&quot;);\r\n        \tprops.put(&quot;mail.smtp.debug&quot;, &quot;true&quot;);\r\n        \tprops.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\r\n        \r\n        \tSession session = Session.getInstance(props,\r\n        \t  new javax.mail.Authenticator() {\r\n        \t\tprotected PasswordAuthentication getPasswordAuthentication() {\r\n        \t\t\treturn new PasswordAuthentication(username, password);\r\n        \t\t}\r\n        \t  });\r\n        \tsession.setDebug(true);\r\n        \t\r\n        \ttry {\r\n         \r\n        \t\tMessage message = new MimeMessage(session);\r\n        \t\tmessage.setFrom(new \r\n                      InternetAddress(&quot;---------@mydomain.com&quot;));\r\n        \t\tmessage.setRecipients(Message.RecipientType.TO,\r\n        \t\tInternetAddress.parse(&quot;---------@mydomain.com&quot;));\r\n        \t\tmessage.setSubject(&quot;Testing Subject&quot;);\r\n        \t\tmessage.setText(&quot;Dear Mail Crawler,&quot;\r\n        \t\t\t+ &quot;\\n\\n No spam to my email, please!&quot;);\r\n        \t\t\r\n        \t\tTransport.send(message);\r\n         \r\n        \t\tSystem.out.println(&quot;Done&quot;);\r\n         \r\n        \t} catch (MessagingException e) {\r\n        \t\tthrow new RuntimeException(e);\r\n        \t}\r\n        }\r\n    }\r\n\r\nException trace\r\n\r\n    DEBUG: setDebug: JavaMail version 1.4.5\r\n    DEBUG: getProvider() returning javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Sun Microsystems, Inc]\r\n    DEBUG SMTP: useEhlo true, useAuth true\r\n    DEBUG SMTP: useEhlo true, useAuth true\r\n    DEBUG SMTP: trying to connect to host &quot;mail.mydomain.com&quot;, port 587, isSSL false\r\n    220-cpanel35.per.syra.net.au ESMTP Exim 4.80 #2 Fri, 05 Oct 2012 17:28:56 +0800 \r\n    220-We do not authorize the use of this system to transport unsolicited, \r\n    220 and/or bulk e-mail.\r\n    DEBUG SMTP: connected to host &quot;mail.mydomain.com&quot;, port: 587\r\n    \r\n    EHLO xxxxxx.xxxxx.com\r\n    250-cpanel35.per.syra.net.au Hello xxxx.xxxxx.com [xx.xx.xx.xxx]i\r\n    250-SIZE 52428800\r\n    250-8BITMIME\r\n    250-PIPELINING\r\n    250-AUTH PLAIN LOGIN\r\n    250-STARTTLS\r\n    250 HELP\r\n    DEBUG SMTP: Found extension &quot;SIZE&quot;, arg &quot;52428800&quot;\r\n    DEBUG SMTP: Found extension &quot;8BITMIME&quot;, arg &quot;&quot;\r\n    DEBUG SMTP: Found extension &quot;PIPELINING&quot;, arg &quot;&quot;\r\n    DEBUG SMTP: Found extension &quot;AUTH&quot;, arg &quot;PLAIN LOGIN&quot;\r\n    DEBUG SMTP: Found extension &quot;STARTTLS&quot;, arg &quot;&quot;\r\n    DEBUG SMTP: Found extension &quot;HELP&quot;, arg &quot;&quot;\r\n    STARTTLS\r\n    220 TLS go ahead\r\n    Exception in thread &quot;main&quot; java.lang.RuntimeException: javax.mail.MessagingException: Could not convert socket to TLS;\r\n      nested exception is:\r\n    \tjavax.net.ssl.SSLException: java.lang.RuntimeException: Could not generate DH keypair\r\n    \tat SendMailTLS.main(SendMailTLS.java:52)\r\n    Caused by: javax.mail.MessagingException: Could not convert socket to TLS;\r\n      nested exception is:\r\n    \tjavax.net.ssl.SSLException: java.lang.RuntimeException: Could not generate DH keypair\r\n    \tat com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:1918)\r\n    \tat com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:652)\r\n    \tat javax.mail.Service.connect(Service.java:317)\r\n    \tat javax.mail.Service.connect(Service.java:176)\r\n    \tat javax.mail.Service.connect(Service.java:125)\r\n    \tat javax.mail.Transport.send0(Transport.java:194)\r\n    \tat javax.mail.Transport.send(Transport.java:124)\r\n    \tat SendMailTLS.main(SendMailTLS.java:47)\r\n    Caused by: javax.net.ssl.SSLException: java.lang.RuntimeException: Could not generate DH keypair\r\n    \tat sun.security.ssl.Alerts.getSSLException(Alerts.java:208)\r\n    \tat sun.security.ssl.SSLSocketImpl.fatal(SSLSocketImpl.java:1868)\r\n    \tat sun.security.ssl.SSLSocketImpl.fatal(SSLSocketImpl.java:1826)\r\n    \tat sun.security.ssl.SSLSocketImpl.handleException(SSLSocketImpl.java:1809)\r\n    \tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1328)\r\n    \tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1305)\r\n    \tat com.sun.mail.util.SocketFetcher.configureSSLSocket(SocketFetcher.java:548)\r\n    \tat com.sun.mail.util.SocketFetcher.startTLS(SocketFetcher.java:485)\r\n    \tat com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:1913)\r\n    \t... 7 more\r\n    Caused by: java.lang.RuntimeException: Could not generate DH keypair\r\n    \tat sun.security.ssl.DHCrypt.&lt;init&gt;(DHCrypt.java:123)\r\n    \tat sun.security.ssl.ClientHandshaker.serverKeyExchange(ClientHandshaker.java:618)\r\n    \tat sun.security.ssl.ClientHandshaker.processMessage(ClientHandshaker.java:202)\r\n    \tat sun.security.ssl.Handshaker.processLoop(Handshaker.java:868)\r\n    \tat sun.security.ssl.Handshaker.process_record(Handshaker.java:804)\r\n    \tat sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:998)\r\n    \tat sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1294)\r\n    \tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1321)\r\n    \t... 11 more\r\n    Caused by: java.security.InvalidAlgorithmParameterException: Prime size must be multiple of 64, and can only range from 512 to 1024 (inclusive)\r\n    \tat com.sun.crypto.provider.DHKeyPairGenerator.initialize(DHKeyPairGenerator.java:120)\r\n    \tat java.security.KeyPairGenerator$Delegate.initialize(KeyPairGenerator.java:658)\r\n    \tat sun.security.ssl.DHCrypt.&lt;init&gt;(DHCrypt.java:117)\r\n    \t... 18 more\r\n\r\n\r\nCan anyone help me debug this? Thanks in advance!\r\n","title":"Unable to send an email using SMTP (Getting javax.mail.MessagingException: Could not convert socket to TLS;)","body":"<p>I have written the following code for sending email using javamail API through SMTP as TLS as SSL is not supported but I ended up with the following exception. Please see my code below. I have used debugging mode and below the code you can find the exception as well.</p>\n\n<pre><code>import java.util.Properties;\nimport javax.mail.Message;\nimport javax.mail.MessagingException;\nimport javax.mail.PasswordAuthentication;\nimport javax.mail.Session;\nimport javax.mail.Transport;\nimport javax.mail.internet.InternetAddress;\nimport javax.mail.internet.MimeMessage;\n\npublic class SendMailTLS {\n\n    public static void main(String[] args) {\n\n        final String username = \"---------@mydomain.com\";\n        final String password = \"***********\";\n\n        Properties props = new Properties();\n        props.put(\"mail.smtp.auth\", \"true\");\n        props.put(\"mail.smtp.starttls.enable\", \"true\");\n        props.put(\"mail.smtp.host\", \"mail.mydomain.com\");\n        props.put(\"mail.smtp.debug\", \"true\");\n        props.put(\"mail.smtp.port\", \"587\");\n\n        Session session = Session.getInstance(props,\n          new javax.mail.Authenticator() {\n            protected PasswordAuthentication getPasswordAuthentication() {\n                return new PasswordAuthentication(username, password);\n            }\n          });\n        session.setDebug(true);\n\n        try {\n\n            Message message = new MimeMessage(session);\n            message.setFrom(new \n                  InternetAddress(\"---------@mydomain.com\"));\n            message.setRecipients(Message.RecipientType.TO,\n            InternetAddress.parse(\"---------@mydomain.com\"));\n            message.setSubject(\"Testing Subject\");\n            message.setText(\"Dear Mail Crawler,\"\n                + \"\\n\\n No spam to my email, please!\");\n\n            Transport.send(message);\n\n            System.out.println(\"Done\");\n\n        } catch (MessagingException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n\n<p>Exception trace</p>\n\n<pre><code>DEBUG: setDebug: JavaMail version 1.4.5\nDEBUG: getProvider() returning javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Sun Microsystems, Inc]\nDEBUG SMTP: useEhlo true, useAuth true\nDEBUG SMTP: useEhlo true, useAuth true\nDEBUG SMTP: trying to connect to host \"mail.mydomain.com\", port 587, isSSL false\n220-cpanel35.per.syra.net.au ESMTP Exim 4.80 #2 Fri, 05 Oct 2012 17:28:56 +0800 \n220-We do not authorize the use of this system to transport unsolicited, \n220 and/or bulk e-mail.\nDEBUG SMTP: connected to host \"mail.mydomain.com\", port: 587\n\nEHLO xxxxxx.xxxxx.com\n250-cpanel35.per.syra.net.au Hello xxxx.xxxxx.com [xx.xx.xx.xxx]i\n250-SIZE 52428800\n250-8BITMIME\n250-PIPELINING\n250-AUTH PLAIN LOGIN\n250-STARTTLS\n250 HELP\nDEBUG SMTP: Found extension \"SIZE\", arg \"52428800\"\nDEBUG SMTP: Found extension \"8BITMIME\", arg \"\"\nDEBUG SMTP: Found extension \"PIPELINING\", arg \"\"\nDEBUG SMTP: Found extension \"AUTH\", arg \"PLAIN LOGIN\"\nDEBUG SMTP: Found extension \"STARTTLS\", arg \"\"\nDEBUG SMTP: Found extension \"HELP\", arg \"\"\nSTARTTLS\n220 TLS go ahead\nException in thread \"main\" java.lang.RuntimeException: javax.mail.MessagingException: Could not convert socket to TLS;\n  nested exception is:\n    javax.net.ssl.SSLException: java.lang.RuntimeException: Could not generate DH keypair\n    at SendMailTLS.main(SendMailTLS.java:52)\nCaused by: javax.mail.MessagingException: Could not convert socket to TLS;\n  nested exception is:\n    javax.net.ssl.SSLException: java.lang.RuntimeException: Could not generate DH keypair\n    at com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:1918)\n    at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:652)\n    at javax.mail.Service.connect(Service.java:317)\n    at javax.mail.Service.connect(Service.java:176)\n    at javax.mail.Service.connect(Service.java:125)\n    at javax.mail.Transport.send0(Transport.java:194)\n    at javax.mail.Transport.send(Transport.java:124)\n    at SendMailTLS.main(SendMailTLS.java:47)\nCaused by: javax.net.ssl.SSLException: java.lang.RuntimeException: Could not generate DH keypair\n    at sun.security.ssl.Alerts.getSSLException(Alerts.java:208)\n    at sun.security.ssl.SSLSocketImpl.fatal(SSLSocketImpl.java:1868)\n    at sun.security.ssl.SSLSocketImpl.fatal(SSLSocketImpl.java:1826)\n    at sun.security.ssl.SSLSocketImpl.handleException(SSLSocketImpl.java:1809)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1328)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1305)\n    at com.sun.mail.util.SocketFetcher.configureSSLSocket(SocketFetcher.java:548)\n    at com.sun.mail.util.SocketFetcher.startTLS(SocketFetcher.java:485)\n    at com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:1913)\n    ... 7 more\nCaused by: java.lang.RuntimeException: Could not generate DH keypair\n    at sun.security.ssl.DHCrypt.&lt;init&gt;(DHCrypt.java:123)\n    at sun.security.ssl.ClientHandshaker.serverKeyExchange(ClientHandshaker.java:618)\n    at sun.security.ssl.ClientHandshaker.processMessage(ClientHandshaker.java:202)\n    at sun.security.ssl.Handshaker.processLoop(Handshaker.java:868)\n    at sun.security.ssl.Handshaker.process_record(Handshaker.java:804)\n    at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:998)\n    at sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1294)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1321)\n    ... 11 more\nCaused by: java.security.InvalidAlgorithmParameterException: Prime size must be multiple of 64, and can only range from 512 to 1024 (inclusive)\n    at com.sun.crypto.provider.DHKeyPairGenerator.initialize(DHKeyPairGenerator.java:120)\n    at java.security.KeyPairGenerator$Delegate.initialize(KeyPairGenerator.java:658)\n    at sun.security.ssl.DHCrypt.&lt;init&gt;(DHCrypt.java:117)\n    ... 18 more\n</code></pre>\n\n<p>Can anyone help me debug this? Thanks in advance!</p>\n"},{"tags":["java","swing","jmenubar"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1431649993,"post_id":30249597,"comment_id":48599770,"body_markdown":"[Modifying the Look and Feel](http://docs.oracle.com/javase/tutorial/uiswing/lookandfeel/index.html)","body":"<a href=\"http://docs.oracle.com/javase/tutorial/uiswing/lookandfeel/index.html\" rel=\"nofollow noreferrer\">Modifying the Look and Feel</a>"},{"owner":{"display_name":"anon"},"score":0,"creation_date":1431654710,"post_id":30249597,"comment_id":48601087,"body_markdown":"Please don&#39;t add your tags to your title. You already added your tags to your tags.","body":"Please don&#39;t add your tags to your title. You already added your tags to your tags."}],"answers":[{"tags":[],"owner":{"account_id":19343482,"reputation":11,"user_id":14142507,"display_name":"Eidmanal Shomo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673539400,"creation_date":1673539400,"answer_id":75099135,"question_id":30249597,"body_markdown":"I don&#39;t exactly remember what the Photoshop menu bar looks like, but I find that it looks quite neat without a border. You can use the code below to get rid of the border.\r\n\r\n    menubar.setBorder(BorderFactory.createEmptyBorder());\r\n\r\n","title":"Customizing the appearance of a JMenuBar","body":"<p>I don't exactly remember what the Photoshop menu bar looks like, but I find that it looks quite neat without a border. You can use the code below to get rid of the border.</p>\n<pre><code>menubar.setBorder(BorderFactory.createEmptyBorder());\n</code></pre>\n"}],"owner":{"account_id":6233053,"reputation":13,"user_id":4849149,"display_name":"misterVivid"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":537,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1673539400,"creation_date":1431649436,"question_id":30249597,"body_markdown":"How can I change the default look of a JMenuBar, JMenuItem, etc.? For example, how could I change it to look more like Photoshop&#39;s menu bar?\r\n\r\nThis is my code for the file menu class:\r\n\r\n    package com.digitaloutlet.gui;\r\n\r\n    import javax.swing.JMenu;\r\n    import javax.swing.JMenuBar;\r\n    import javax.swing.JMenuItem;\r\n\r\n    public class FileMenu {\r\n      public static void FileMenu() {\r\n        JMenuBar menubar;\r\n        JMenu file;\r\n        JMenuItem menuItem, open;\r\n\r\n        menubar = new JMenuBar();\r\n\r\n        file = new JMenu(&quot;File&quot;);\r\n\r\n        menuItem = new JMenuItem(&quot;New&quot;);\r\n        open = new JMenuItem(&quot;Open&quot;);\r\n\r\n\r\n        menubar.add(file);\r\n        file.add(menuItem);\r\n        file.add(open);\r\n\r\n        Window.frame.setJMenuBar(menubar);\r\n      }\r\n    }\r\n\r\nIf you need more info, please let me know.","title":"Customizing the appearance of a JMenuBar","body":"<p>How can I change the default look of a JMenuBar, JMenuItem, etc.? For example, how could I change it to look more like Photoshop's menu bar?</p>\n\n<p>This is my code for the file menu class:</p>\n\n<pre><code>package com.digitaloutlet.gui;\n\nimport javax.swing.JMenu;\nimport javax.swing.JMenuBar;\nimport javax.swing.JMenuItem;\n\npublic class FileMenu {\n  public static void FileMenu() {\n    JMenuBar menubar;\n    JMenu file;\n    JMenuItem menuItem, open;\n\n    menubar = new JMenuBar();\n\n    file = new JMenu(\"File\");\n\n    menuItem = new JMenuItem(\"New\");\n    open = new JMenuItem(\"Open\");\n\n\n    menubar.add(file);\n    file.add(menuItem);\n    file.add(open);\n\n    Window.frame.setJMenuBar(menubar);\n  }\n}\n</code></pre>\n\n<p>If you need more info, please let me know.</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1673537058,"post_id":75098589,"comment_id":132525889,"body_markdown":"I mean without having to qualify the execution-ids. Like `mvn exec:java` and then just pick up any `&lt;execution&gt;`.","body":"I mean without having to qualify the execution-ids. Like <code>mvn exec:java</code> and then just pick up any <code>&lt;execution&gt;</code>."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1673541357,"post_id":75098589,"comment_id":132527495,"body_markdown":"Would be cool if you describe an application for this kind of feature.","body":"Would be cool if you describe an application for this kind of feature."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1673543779,"post_id":75098589,"comment_id":132528344,"body_markdown":"Can you describe why you need that?","body":"Can you describe why you need that?"},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1673867679,"post_id":75098589,"comment_id":132585709,"body_markdown":"@JFabianMeier yes I can give an example: https://github.com/checkstyle/checkstyle/issues/2873 - the checkstyle plugin does not allow inheritance of rules, thus the only workaround is to split checkstyle into 2 jobs: one with default rules excluding unwanted, and one with additional rules that &quot;override&quot; the unwanted rules.","body":"@JFabianMeier yes I can give an example: <a href=\"https://github.com/checkstyle/checkstyle/issues/2873\" rel=\"nofollow noreferrer\">github.com/checkstyle/checkstyle/issues/2873</a> - the checkstyle plugin does not allow inheritance of rules, thus the only workaround is to split checkstyle into 2 jobs: one with default rules excluding unwanted, and one with additional rules that &quot;override&quot; the unwanted rules."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1673874128,"post_id":75098589,"comment_id":132587711,"body_markdown":"@membersound Why do you want to run checkstyle separately (not just in the build itself)?","body":"@membersound Why do you want to run checkstyle separately (not just in the build itself)?"},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1673874480,"post_id":75098589,"comment_id":132587817,"body_markdown":"Yes finally I will run that separately","body":"Yes finally I will run that separately"}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1673539199,"creation_date":1673537534,"answer_id":75098739,"question_id":75098589,"body_markdown":"Don&#39;t try to use maven as universal scripting tool - it is written with the motto &quot;convention over configuration&quot;. \r\n\r\nIf your build requires execution of external executables or Java code, you can bind executions to a maven *phase* like this:\r\n\r\n``` lang-xml\r\n&lt;execution&gt;\r\n  &lt;id&gt;first-execution&lt;/id&gt;\r\n  &lt;goals&gt;\r\n    &lt;goal&gt;java&lt;/goal&gt;\r\n  &lt;/goals&gt;\r\n  &lt;phase&gt;compile&lt;/phase&gt;\r\n  &lt;configuration&gt;\r\n    &lt;mainClass&gt;com.mycompany.FooServer&lt;/mainClass&gt;\r\n  &lt;/configuration&gt;\r\n&lt;/execution&gt;\r\n```\r\n\r\nIf you call it with `mvn compile` then all executions bound to this phase (and all other phases up to this) will be executed. Usually in the order of their IDs, so you might want to set the id to something like `01-first`, `02-second`, `03-aaaa-third`.\r\n\r\nFor further information about configuration maven plugins, see the [official documentation](https://maven.apache.org/guides/mini/guide-configuring-plugins.html#Using_the_.3Cexecutions.3E_Tag)\r\n\r\nFor a reference which phases exist and in which order they are executed (and in which lifecycle), there is also a nice offical documentation: [Lifecycle Reference](https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html#Lifecycle_Reference)\r\n\r\nPlease note that some plugins are configured by default and also have bound several executions to phases by default (this is why e.g. a `mvn compile` compiles Java code without any configuration of the compiler-plugin).\r\n\r\nAnother alternative would be to switch to another build tool with a different philosophy, like [Apache Ant](https://ant.apache.org/) - this doesn&#39;t have dependency management included so nicely, but could be even called from maven. Or the [Gradle Build Tool](https://gradle.org/) that uses a DSL built on Groovy or Kotlin as configuration, so you can have a very flexible configuration (but don&#39;t do that there or you will not understand your own build configuration a few months after you have written it ;) ","title":"How to run multiple plugin executions as a single argument to Maven?","body":"<p>Don't try to use maven as universal scripting tool - it is written with the motto &quot;convention over configuration&quot;.</p>\n<p>If your build requires execution of external executables or Java code, you can bind executions to a maven <em>phase</em> like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;execution&gt;\n  &lt;id&gt;first-execution&lt;/id&gt;\n  &lt;goals&gt;\n    &lt;goal&gt;java&lt;/goal&gt;\n  &lt;/goals&gt;\n  &lt;phase&gt;compile&lt;/phase&gt;\n  &lt;configuration&gt;\n    &lt;mainClass&gt;com.mycompany.FooServer&lt;/mainClass&gt;\n  &lt;/configuration&gt;\n&lt;/execution&gt;\n</code></pre>\n<p>If you call it with <code>mvn compile</code> then all executions bound to this phase (and all other phases up to this) will be executed. Usually in the order of their IDs, so you might want to set the id to something like <code>01-first</code>, <code>02-second</code>, <code>03-aaaa-third</code>.</p>\n<p>For further information about configuration maven plugins, see the <a href=\"https://maven.apache.org/guides/mini/guide-configuring-plugins.html#Using_the_.3Cexecutions.3E_Tag\" rel=\"nofollow noreferrer\">official documentation</a></p>\n<p>For a reference which phases exist and in which order they are executed (and in which lifecycle), there is also a nice offical documentation: <a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html#Lifecycle_Reference\" rel=\"nofollow noreferrer\">Lifecycle Reference</a></p>\n<p>Please note that some plugins are configured by default and also have bound several executions to phases by default (this is why e.g. a <code>mvn compile</code> compiles Java code without any configuration of the compiler-plugin).</p>\n<p>Another alternative would be to switch to another build tool with a different philosophy, like <a href=\"https://ant.apache.org/\" rel=\"nofollow noreferrer\">Apache Ant</a> - this doesn't have dependency management included so nicely, but could be even called from maven. Or the <a href=\"https://gradle.org/\" rel=\"nofollow noreferrer\">Gradle Build Tool</a> that uses a DSL built on Groovy or Kotlin as configuration, so you can have a very flexible configuration (but don't do that there or you will not understand your own build configuration a few months after you have written it ;)</p>\n"},{"tags":[],"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673537746,"creation_date":1673537746,"answer_id":75098788,"question_id":75098589,"body_markdown":"[Not possible and not planned as a feature](https://github.com/apache/maven/pull/357). As per Robert Scholte, Maven project lead:\r\n\r\n&gt; Maven is lifecycle driven. Being able to execute a goal from\r\n&gt; commandline is a feature, but **I don&#39;t see the need to execute all\r\n&gt; available exeucutionIds.**\r\n\r\n ","title":"How to run multiple plugin executions as a single argument to Maven?","body":"<p><a href=\"https://github.com/apache/maven/pull/357\" rel=\"nofollow noreferrer\">Not possible and not planned as a feature</a>. As per Robert Scholte, Maven project lead:</p>\n<blockquote>\n<p>Maven is lifecycle driven. Being able to execute a goal from\ncommandline is a feature, but <strong>I don't see the need to execute all\navailable exeucutionIds.</strong></p>\n</blockquote>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75098788,"answer_count":2,"score":1,"last_activity_date":1673539199,"creation_date":1673536806,"question_id":75098589,"body_markdown":"Is it possible to run *all* `&lt;execution&gt;` definitions on one maven command?\r\n\r\nLike:\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;first-execution&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;java&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;mainClass&gt;com.mycompany.FooServer&lt;/mainClass&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;second-execution&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;java&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;mainClass&gt;com.mycompany.BarServer&lt;/mainClass&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n         &lt;/plugins&gt;\r\n     &lt;/build&gt;\r\n\r\nI could run `mvn exec:java@first-execution exec:java@second-excution` to run both, but is there also a maven command to simple tell maven to run just *any* `&lt;execution&gt;` that is found in the definitions?\r\n\r\nOr at least, all executions that matches a `&lt;goal&gt;`?\r\n","title":"How to run multiple plugin executions as a single argument to Maven?","body":"<p>Is it possible to run <em>all</em> <code>&lt;execution&gt;</code> definitions on one maven command?</p>\n<p>Like:</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;first-execution&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;java&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;mainClass&gt;com.mycompany.FooServer&lt;/mainClass&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;second-execution&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;java&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;mainClass&gt;com.mycompany.BarServer&lt;/mainClass&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n     &lt;/plugins&gt;\n &lt;/build&gt;\n</code></pre>\n<p>I could run <code>mvn exec:java@first-execution exec:java@second-excution</code> to run both, but is there also a maven command to simple tell maven to run just <em>any</em> <code>&lt;execution&gt;</code> that is found in the definitions?</p>\n<p>Or at least, all executions that matches a <code>&lt;goal&gt;</code>?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2163224,"reputation":6602,"user_id":1916917,"accept_rate":60,"display_name":"Holloway"},"score":0,"creation_date":1673530879,"post_id":75097160,"comment_id":132523445,"body_markdown":"Roughly how big are theses lists? If you create the list in the second example with a calculated initial capacity based on the other lists you might be able to save several reallocations as the list needs to resize.","body":"Roughly how big are theses lists? If you create the list in the second example with a calculated initial capacity based on the other lists you might be able to save several reallocations as the list needs to resize."},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":1,"creation_date":1673531293,"post_id":75097160,"comment_id":132523586,"body_markdown":"What is `getChildList()`?","body":"What is <code>getChildList()</code>?"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1673532827,"post_id":75097160,"comment_id":132524135,"body_markdown":"Maybe you should make an intermediate list, `List&lt;List&lt;Object&gt;&gt;` using `getChildList()` to see if that contains your bottleneck. You&#39;re only going to get minor improvements on the `List&lt;List&lt;Object&gt;&gt;` -&gt; `List&lt;Object&gt;` the biggest being, pre-allocate the size of the destination list. You should use an actual profiler, to make sure you have found the bottleneck.","body":"Maybe you should make an intermediate list, <code>List&lt;List&lt;Object&gt;&gt;</code> using <code>getChildList()</code> to see if that contains your bottleneck. You&#39;re only going to get minor improvements on the <code>List&lt;List&lt;Object&gt;&gt;</code> -&gt; <code>List&lt;Object&gt;</code> the biggest being, pre-allocate the size of the destination list. You should use an actual profiler, to make sure you have found the bottleneck."}],"answers":[{"tags":[],"owner":{"account_id":7938561,"reputation":1,"user_id":5993554,"display_name":"Mbuaku F F"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1673532265,"creation_date":1673532265,"answer_id":75097512,"question_id":75097160,"body_markdown":"One way to make the flat mapping more computationally efficient is to use a for loop instead of the stream API or forEach method. The for loop would iterate over the parent list, and for each element, it would add the child list to the flat list. This avoids the overhead of creating streams and using the collect method. Additionally, using an ArrayList to store the flat list instead of a LinkedList can also improve performance since it has a more efficient implementation of the addAll method.\r\n\r\n    List&lt;SomeObject&gt; flatList = new ArrayList&lt;&gt;();\r\n    for (Object o : parentList) {\r\n    flatList.addAll(o.getChildList());\r\n\r\nAnother way would be to use an iterator. Iterator is an interface for traversing a collection and it&#39;s more efficient than forEach or for loop.\r\n\r\n    List&lt;SomeObject&gt; flatList - new ArrayList&lt;&gt;();\r\n    Iterator&lt;Object&gt; iterator = parentList.iterator();\r\n    while(iterator.hasNext()){\r\n    Object o = iterator.next():\r\n    flatList.addAll(o.getChildList()):\r\n    }\r\n\r\nYou could also use the concat method for List, which concatenates two lists in an efficient way and results in a new list.\r\n\r\n    List&lt;SomeObject&gt; flatList = new ArrayList&lt;&gt;()\r\n    for (Object o : parentList){\r\n    flatList.concat(o.getChildList());\r\n    }\r\n\r\nTHERE ARE SERVERAL RESOURCES THAT YOU CAN USE FOR ADDITIONAL READING ON THIS TOPIC. HERE ARE A FEW THAT I WOULD RECOMMEND.\r\nhttps://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/List.html\r\n\r\nhttps://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/ArrayList.html\r\n\r\nhttps://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/Iterator.html\r\n\r\nhttps://www.oreilly.com/library/view/java-performance-the/9781449358652/\r\n\r\nhttps://www.tutorialspoint.com/java_data_structure_algorithms/index.htm\r\n","title":"What is the most computationally efficient way to flatmap a List of Lists?","body":"<p>One way to make the flat mapping more computationally efficient is to use a for loop instead of the stream API or forEach method. The for loop would iterate over the parent list, and for each element, it would add the child list to the flat list. This avoids the overhead of creating streams and using the collect method. Additionally, using an ArrayList to store the flat list instead of a LinkedList can also improve performance since it has a more efficient implementation of the addAll method.</p>\n<pre><code>List&lt;SomeObject&gt; flatList = new ArrayList&lt;&gt;();\nfor (Object o : parentList) {\nflatList.addAll(o.getChildList());\n</code></pre>\n<p>Another way would be to use an iterator. Iterator is an interface for traversing a collection and it's more efficient than forEach or for loop.</p>\n<pre><code>List&lt;SomeObject&gt; flatList - new ArrayList&lt;&gt;();\nIterator&lt;Object&gt; iterator = parentList.iterator();\nwhile(iterator.hasNext()){\nObject o = iterator.next():\nflatList.addAll(o.getChildList()):\n}\n</code></pre>\n<p>You could also use the concat method for List, which concatenates two lists in an efficient way and results in a new list.</p>\n<pre><code>List&lt;SomeObject&gt; flatList = new ArrayList&lt;&gt;()\nfor (Object o : parentList){\nflatList.concat(o.getChildList());\n}\n</code></pre>\n<p>THERE ARE SERVERAL RESOURCES THAT YOU CAN USE FOR ADDITIONAL READING ON THIS TOPIC. HERE ARE A FEW THAT I WOULD RECOMMEND.\n<a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/List.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/List.html</a></p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/ArrayList.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/ArrayList.html</a></p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/Iterator.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/Iterator.html</a></p>\n<p><a href=\"https://www.oreilly.com/library/view/java-performance-the/9781449358652/\" rel=\"nofollow noreferrer\">https://www.oreilly.com/library/view/java-performance-the/9781449358652/</a></p>\n<p><a href=\"https://www.tutorialspoint.com/java_data_structure_algorithms/index.htm\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/java_data_structure_algorithms/index.htm</a></p>\n"},{"tags":[],"owner":{"account_id":4887220,"reputation":99,"user_id":4072206,"display_name":"Armando"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673536943,"creation_date":1673533243,"answer_id":75097736,"question_id":75097160,"body_markdown":"In java 8\r\n\r\n    List&lt;Object&gt; listOne = new ArrayList&lt;&gt;();\r\n    List&lt;Object&gt; listTwo = new ArrayList&lt;&gt;();\r\n    List&lt;Object&gt; listThree = new ArrayList&lt;&gt;(); \r\n    ...  \r\n\r\n`Stream.of(...)` concatenate many lists\r\n\r\n    List&lt;Object&gt; newList = Stream.of(listOne,listTwo,listThree).flatMap(Collection::stream).collect(Collectors.toList());\r\n\r\nIn Java 16+\r\n\r\n    List&lt;Object&gt; newList=Stream.concat(Stream.concat(listOne, listTwo), listThree).toList();\r\n\r\nBeing an ETL (“Extract Transform and Load”) process, `Streams` processes collections of data using multiple threads of execution at each stage of processing.","title":"What is the most computationally efficient way to flatmap a List of Lists?","body":"<p>In java 8</p>\n<pre><code>List&lt;Object&gt; listOne = new ArrayList&lt;&gt;();\nList&lt;Object&gt; listTwo = new ArrayList&lt;&gt;();\nList&lt;Object&gt; listThree = new ArrayList&lt;&gt;(); \n...  \n</code></pre>\n<p><code>Stream.of(...)</code> concatenate many lists</p>\n<pre><code>List&lt;Object&gt; newList = Stream.of(listOne,listTwo,listThree).flatMap(Collection::stream).collect(Collectors.toList());\n</code></pre>\n<p>In Java 16+</p>\n<pre><code>List&lt;Object&gt; newList=Stream.concat(Stream.concat(listOne, listTwo), listThree).toList();\n</code></pre>\n<p>Being an ETL (“Extract Transform and Load”) process, <code>Streams</code> processes collections of data using multiple threads of execution at each stage of processing.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673538679,"creation_date":1673533866,"answer_id":75097883,"question_id":75097160,"body_markdown":"This may be more efficient since it eliminates creating multiple streams via flatMap. [MapMulti](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/stream/Stream.html#mapMulti(java.util.function.BiConsumer)) was introduced in Java 16.  It takes the streamed `argument` and a `consumer` which puts something on the stream, in this case each list&#39;s object.\r\n```\r\nList&lt;List&lt;Object&gt;&gt; lists =  new ArrayList&lt;&gt;(\r\n                List.of(List.of(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;),\r\n                List.of(&quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;),\r\n                List.of(&quot;8&quot;, &quot;9&quot;)));\r\n\r\n\r\nList&lt;Object&gt; list = lists.stream().mapMulti(\r\n         (lst, consumer) -&gt; lst.forEach(consumer))\r\n         .toList();\r\n\r\nSystem.out.print(list);\r\n```\r\nprints\r\n```\r\n[1, 2, 3, 4, 5, 6, 7, 8, 9]\r\n","title":"What is the most computationally efficient way to flatmap a List of Lists?","body":"<p>This may be more efficient since it eliminates creating multiple streams via flatMap. <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/stream/Stream.html#mapMulti(java.util.function.BiConsumer)\" rel=\"nofollow noreferrer\">MapMulti</a> was introduced in Java 16.  It takes the streamed <code>argument</code> and a <code>consumer</code> which puts something on the stream, in this case each list's object.</p>\n<pre><code>List&lt;List&lt;Object&gt;&gt; lists =  new ArrayList&lt;&gt;(\n                List.of(List.of(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;),\n                List.of(&quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;),\n                List.of(&quot;8&quot;, &quot;9&quot;)));\n\n\nList&lt;Object&gt; list = lists.stream().mapMulti(\n         (lst, consumer) -&gt; lst.forEach(consumer))\n         .toList();\n\nSystem.out.print(list);\n</code></pre>\n<p>prints</p>\n<pre><code>[1, 2, 3, 4, 5, 6, 7, 8, 9]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":341492,"reputation":1861,"user_id":672135,"accept_rate":88,"display_name":"HectorLector"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673534385,"creation_date":1673533971,"answer_id":75097910,"question_id":75097160,"body_markdown":"Do we know more about which List implementation is used?\r\n\r\nI would try to init the resulting list with the correct expected size.\r\nThis avoids unnecessary copying.\r\nThis assumes that the size of the lists can be retrieved fast.\r\n\r\n    int expectedSize = parentList.stream()\r\n                                 .mapToInt(entry -&gt; entry.getChildList().size())\r\n                                 .sum();\r\n    List&lt;SomeObject&gt; result = new ArrayList&lt;&gt;(expectedSize);\r\n    for (var entry : parentList) {\r\n       result.addAll(entry.getChildList());\r\n    }","title":"What is the most computationally efficient way to flatmap a List of Lists?","body":"<p>Do we know more about which List implementation is used?</p>\n<p>I would try to init the resulting list with the correct expected size.\nThis avoids unnecessary copying.\nThis assumes that the size of the lists can be retrieved fast.</p>\n<pre><code>int expectedSize = parentList.stream()\n                             .mapToInt(entry -&gt; entry.getChildList().size())\n                             .sum();\nList&lt;SomeObject&gt; result = new ArrayList&lt;&gt;(expectedSize);\nfor (var entry : parentList) {\n   result.addAll(entry.getChildList());\n}\n</code></pre>\n"}],"owner":{"account_id":21423958,"reputation":11,"user_id":15781595,"display_name":"Nabil Ahmed"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1673538679,"creation_date":1673530704,"question_id":75097160,"body_markdown":"There is a problem on my server where it became a bottle neck due to a specific problem to solve resolving a `List&lt;List&lt;SomeObject&gt;&gt;` into a `List&lt;SomeObject&gt;`. The CPU of the server spiked above normal means.\r\n\r\nDataStructure is:\r\n\r\n```\r\nObject:\r\nList&lt;SomeObject&gt; childList;\r\n```\r\n\r\nTrying to make a `List&lt;Object&gt;` flatmapped to `List&lt;SomeObject&gt;` in the most *computationally efficient* way.\r\nIf parentList = `List&lt;Object&gt;`:\r\nI Tried:\r\n\r\n```\r\nparentList.stream().flatMap(child -&gt; child.getChildList().stream()).collect(Collectors.toList())\r\n```\r\n\r\nAlso tried:\r\n\r\n```\r\nList&lt;Object&gt; all = new ArrayList&lt;&gt;();\r\nparentList.forEach(child -&gt; all.addAll(child.getChildList()))\r\n```\r\n\r\nAny other suggestions? These seem to be similar in computation but pretty high due to copying underneath the hood.\r\n","title":"What is the most computationally efficient way to flatmap a List of Lists?","body":"<p>There is a problem on my server where it became a bottle neck due to a specific problem to solve resolving a <code>List&lt;List&lt;SomeObject&gt;&gt;</code> into a <code>List&lt;SomeObject&gt;</code>. The CPU of the server spiked above normal means.</p>\n<p>DataStructure is:</p>\n<pre><code>Object:\nList&lt;SomeObject&gt; childList;\n</code></pre>\n<p>Trying to make a <code>List&lt;Object&gt;</code> flatmapped to <code>List&lt;SomeObject&gt;</code> in the most <em>computationally efficient</em> way.\nIf parentList = <code>List&lt;Object&gt;</code>:\nI Tried:</p>\n<pre><code>parentList.stream().flatMap(child -&gt; child.getChildList().stream()).collect(Collectors.toList())\n</code></pre>\n<p>Also tried:</p>\n<pre><code>List&lt;Object&gt; all = new ArrayList&lt;&gt;();\nparentList.forEach(child -&gt; all.addAll(child.getChildList()))\n</code></pre>\n<p>Any other suggestions? These seem to be similar in computation but pretty high due to copying underneath the hood.</p>\n"},{"tags":["java","hibernate"],"owner":{"account_id":14437674,"reputation":711,"user_id":10429263,"display_name":"d00d"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673538589,"creation_date":1673536018,"question_id":75098413,"body_markdown":"I try to map two tables \r\n\r\nProfile - profile_validation - Validation\r\n\r\nwith a mapping table /link table and I get this error during start of Wildfly:\r\n\r\n\r\n&gt; Caused by: org.hibernate.MappingException: Repeated column in mapping\r\n&gt; for entity:\r\n&gt; com.cl.myapp.core.rmgt.profile.business.object.RmgtProfileValidationBVOImpl\r\n&gt; column: fk_profile_id (should be mapped with insert=&quot;false&quot;\r\n&gt; update=&quot;false&quot;)\r\n\r\nHere are the relevant mapping parts:\r\n\r\nRmgtProfile.hbm.xml:\r\n\r\n    &lt;hibernate-mapping&gt;\r\n    \t&lt;class name=&quot;com.cl.myapp.core.rmgt.profile.business.object.RmgtProfileBVOImpl&quot; table=&quot;rmgt_t_profile&quot; proxy=&quot;com.cl.myapp.core.rmgt.profile.common.business.object.RmgtProfileBVO&quot;&gt;\r\n    \t\t&lt;id name=&quot;rowguid&quot; column=&quot;rowguid&quot; type=&quot;java.lang.Long&quot;&gt;\r\n    \t\t\t&lt;generator class=&quot;sequence&quot;&gt;\r\n    \t\t\t\t&lt;param name=&quot;sequence_name&quot;&gt;rmgt_t_profile_rowguid_seq&lt;/param&gt;\r\n    \t\t\t&lt;/generator&gt;\r\n    \t\t&lt;/id&gt;\r\n    \t\t&lt;set name=&quot;profileValidations&quot; table=&quot;rmgt_t_profile_validation&quot; lazy=&quot;false&quot; cascade=&quot;all-delete-orphan&quot;&gt;\r\n    \t\t\t&lt;key column=&quot;fk_profile_id&quot;  /&gt;\r\n    \t\t\t&lt;one-to-many class=&quot;com.cl.ilogic.core.rmgt.profile.business.object.RmgtProfileValidationBVOImpl&quot;/&gt;\r\n    \t\t&lt;/set&gt;\r\n    \t&lt;/class&gt;\r\n    &lt;/hibernate-mapping&gt;\r\n\r\nVsValidationsVO.hbm.xml\r\n\r\n    &lt;hibernate-mapping&gt;\r\n        &lt;class name=&quot;com.cl.myapp.core.vs.business.object.VsValidationBVOImpl&quot; table=&quot;vs_t_validation&quot; proxy=&quot;com.cl.myapp.core.vs.common.business.object.VsValidationBVO&quot;&gt;\r\n            &lt;id name=&quot;rowguid&quot; column=&quot;rowguid&quot; type=&quot;java.lang.Long&quot;&gt;\r\n    \t    \t&lt;generator class=&quot;sequence&quot;&gt;\r\n    \t\t        &lt;param name=&quot;sequence_name&quot;&gt;vs_t_validation_rowguid_seq&lt;/param&gt;\r\n    \t\t    &lt;/generator&gt;\r\n    \t    &lt;/id&gt;                      \r\n    \r\n                &lt;set name=&quot;profileValidations&quot; table=&quot;rmgt_t_profile_validation&quot; lazy=&quot;false&quot; cascade=&quot;all-delete-orphan&quot; &gt;\r\n            &lt;key column=&quot;fk_validation_id&quot;/&gt;\r\n            &lt;one-to-many class=&quot;com.cl.myapp.core.rmgt.profile.business.object.RmgtProfileValidationBVOImpl&quot;/&gt;\r\n        &lt;/set&gt;\r\n    \r\n             \r\n        &lt;/class&gt;\r\n    &lt;/hibernate-mapping&gt;\r\n\r\nAnd the mapping table: \r\n\r\n    @Entity\r\n    @IdClass(RmgtProfileValidationId.class)\r\n    @Table(name = &quot;rmgt_t_profile_validation&quot;)\r\n    @Proxy(proxyClass = RmgtProfileValidationBVO.class)\r\n    public class RmgtProfileValidationBVOImpl implements RmgtProfileValidationBVO {\r\n    \r\n    \t@Id\r\n    \t@NotNull\r\n    \t@Column(name=&quot;fk_profile_id&quot;)\r\n    \tprivate Long profileId;\r\n    \r\n    \t@Id\r\n    \t@NotNull\r\n    \t@Column(name=&quot;fk_validation_id&quot;)\r\n    \tprivate Long validationId;\r\n    \r\n        @Column(name = &quot;pv_post_import&quot;)\r\n        private Boolean pvPostImport;\r\n    \r\n        /..getter/setter omitted\r\n    }\r\n\r\n\r\nThe IdClass:\r\n\r\n    public class RmgtProfileValidationId implements Serializable {\r\n        private static final long serialVersionUID = 6805524598016438604L;\r\n    \r\n        private Long profileId;\r\n    \r\n        private Long validationId;\r\n    \r\n        public RmgtProfileValidationId(Long profileId, Long validationId) {\r\n            this.profileId = profileId;\r\n            this.validationId = validationId;\r\n        }\r\n    \r\n        public RmgtProfileValidationId() {\r\n        }\r\n    \r\n        public Long getProfileId() {\r\n            return profileId;\r\n        }\r\n    \r\n        public void setProfileId(Long profileId) {\r\n            this.profileId = profileId;\r\n        }\r\n    \r\n        public Long getValidationId() {\r\n            return validationId;\r\n        }\r\n    \r\n        public void setValidationId(Long validationId) {\r\n            this.validationId = validationId;\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || Hibernate.getClass(this) != Hibernate.getClass(o)) return false;\r\n            RmgtProfileValidationId entity = (RmgtProfileValidationId) o;\r\n            return Objects.equals(this.profileId, entity.profileId) &amp;&amp;\r\n                    Objects.equals(this.validationId, entity.validationId);\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(profileId, validationId);\r\n        }\r\n    \r\n    }\r\n\r\nI can&#39;t see more than 1 occurrence where I map the fk_profile_id. Where does this error come from?","title":"org.hibernate.MappingException: Repeated column in mapping for entity: x column: fk_profile_id (should be mapped with insert=&quot;false&quot; update=&quot;false&quot;)","body":"<p>I try to map two tables</p>\n<p>Profile - profile_validation - Validation</p>\n<p>with a mapping table /link table and I get this error during start of Wildfly:</p>\n<blockquote>\n<p>Caused by: org.hibernate.MappingException: Repeated column in mapping\nfor entity:\ncom.cl.myapp.core.rmgt.profile.business.object.RmgtProfileValidationBVOImpl\ncolumn: fk_profile_id (should be mapped with insert=&quot;false&quot;\nupdate=&quot;false&quot;)</p>\n</blockquote>\n<p>Here are the relevant mapping parts:</p>\n<p>RmgtProfile.hbm.xml:</p>\n<pre><code>&lt;hibernate-mapping&gt;\n    &lt;class name=&quot;com.cl.myapp.core.rmgt.profile.business.object.RmgtProfileBVOImpl&quot; table=&quot;rmgt_t_profile&quot; proxy=&quot;com.cl.myapp.core.rmgt.profile.common.business.object.RmgtProfileBVO&quot;&gt;\n        &lt;id name=&quot;rowguid&quot; column=&quot;rowguid&quot; type=&quot;java.lang.Long&quot;&gt;\n            &lt;generator class=&quot;sequence&quot;&gt;\n                &lt;param name=&quot;sequence_name&quot;&gt;rmgt_t_profile_rowguid_seq&lt;/param&gt;\n            &lt;/generator&gt;\n        &lt;/id&gt;\n        &lt;set name=&quot;profileValidations&quot; table=&quot;rmgt_t_profile_validation&quot; lazy=&quot;false&quot; cascade=&quot;all-delete-orphan&quot;&gt;\n            &lt;key column=&quot;fk_profile_id&quot;  /&gt;\n            &lt;one-to-many class=&quot;com.cl.ilogic.core.rmgt.profile.business.object.RmgtProfileValidationBVOImpl&quot;/&gt;\n        &lt;/set&gt;\n    &lt;/class&gt;\n&lt;/hibernate-mapping&gt;\n</code></pre>\n<p>VsValidationsVO.hbm.xml</p>\n<pre><code>&lt;hibernate-mapping&gt;\n    &lt;class name=&quot;com.cl.myapp.core.vs.business.object.VsValidationBVOImpl&quot; table=&quot;vs_t_validation&quot; proxy=&quot;com.cl.myapp.core.vs.common.business.object.VsValidationBVO&quot;&gt;\n        &lt;id name=&quot;rowguid&quot; column=&quot;rowguid&quot; type=&quot;java.lang.Long&quot;&gt;\n            &lt;generator class=&quot;sequence&quot;&gt;\n                &lt;param name=&quot;sequence_name&quot;&gt;vs_t_validation_rowguid_seq&lt;/param&gt;\n            &lt;/generator&gt;\n        &lt;/id&gt;                      \n\n            &lt;set name=&quot;profileValidations&quot; table=&quot;rmgt_t_profile_validation&quot; lazy=&quot;false&quot; cascade=&quot;all-delete-orphan&quot; &gt;\n        &lt;key column=&quot;fk_validation_id&quot;/&gt;\n        &lt;one-to-many class=&quot;com.cl.myapp.core.rmgt.profile.business.object.RmgtProfileValidationBVOImpl&quot;/&gt;\n    &lt;/set&gt;\n\n         \n    &lt;/class&gt;\n&lt;/hibernate-mapping&gt;\n</code></pre>\n<p>And the mapping table:</p>\n<pre><code>@Entity\n@IdClass(RmgtProfileValidationId.class)\n@Table(name = &quot;rmgt_t_profile_validation&quot;)\n@Proxy(proxyClass = RmgtProfileValidationBVO.class)\npublic class RmgtProfileValidationBVOImpl implements RmgtProfileValidationBVO {\n\n    @Id\n    @NotNull\n    @Column(name=&quot;fk_profile_id&quot;)\n    private Long profileId;\n\n    @Id\n    @NotNull\n    @Column(name=&quot;fk_validation_id&quot;)\n    private Long validationId;\n\n    @Column(name = &quot;pv_post_import&quot;)\n    private Boolean pvPostImport;\n\n    /..getter/setter omitted\n}\n</code></pre>\n<p>The IdClass:</p>\n<pre><code>public class RmgtProfileValidationId implements Serializable {\n    private static final long serialVersionUID = 6805524598016438604L;\n\n    private Long profileId;\n\n    private Long validationId;\n\n    public RmgtProfileValidationId(Long profileId, Long validationId) {\n        this.profileId = profileId;\n        this.validationId = validationId;\n    }\n\n    public RmgtProfileValidationId() {\n    }\n\n    public Long getProfileId() {\n        return profileId;\n    }\n\n    public void setProfileId(Long profileId) {\n        this.profileId = profileId;\n    }\n\n    public Long getValidationId() {\n        return validationId;\n    }\n\n    public void setValidationId(Long validationId) {\n        this.validationId = validationId;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || Hibernate.getClass(this) != Hibernate.getClass(o)) return false;\n        RmgtProfileValidationId entity = (RmgtProfileValidationId) o;\n        return Objects.equals(this.profileId, entity.profileId) &amp;&amp;\n                Objects.equals(this.validationId, entity.validationId);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(profileId, validationId);\n    }\n\n}\n</code></pre>\n<p>I can't see more than 1 occurrence where I map the fk_profile_id. Where does this error come from?</p>\n"},{"tags":["java","oracle","jdbc","prepared-statement"],"comments":[{"owner":{"account_id":1112158,"reputation":2056,"user_id":1102433,"display_name":"Dan Armstrong"},"score":0,"creation_date":1337810056,"post_id":10728377,"comment_id":13936087,"body_markdown":"Can you view the PreparedStatement as a string to see what it contains?","body":"Can you view the PreparedStatement as a string to see what it contains?"},{"owner":{"account_id":943967,"reputation":27613,"user_id":971592,"accept_rate":94,"display_name":"kentcdodds"},"score":0,"creation_date":1337810085,"post_id":10728377,"comment_id":13936099,"body_markdown":"I mentioned that in the post. I can&#39;t figure out how to do that. All I see on the internet is that it&#39;s pretty complicated for some reason...","body":"I mentioned that in the post. I can&#39;t figure out how to do that. All I see on the internet is that it&#39;s pretty complicated for some reason..."},{"owner":{"account_id":1112158,"reputation":2056,"user_id":1102433,"display_name":"Dan Armstrong"},"score":0,"creation_date":1337810239,"post_id":10728377,"comment_id":13936146,"body_markdown":"Some JDBC drivers allow toString() to show you the query from a PreparedStatement and some don&#39;t. Not sure about Oracle.","body":"Some JDBC drivers allow toString() to show you the query from a PreparedStatement and some don&#39;t. Not sure about Oracle."},{"owner":{"account_id":943967,"reputation":27613,"user_id":971592,"accept_rate":94,"display_name":"kentcdodds"},"score":0,"creation_date":1337810393,"post_id":10728377,"comment_id":13936184,"body_markdown":"@DanArmstrong, unfortunately, that&#39;s not the case here. I get a `oracle.jdbc.driver.OraclePreparedStatementWrapper@8870a2` on a `toString()` print out.","body":"@DanArmstrong, unfortunately, that&#39;s not the case here. I get a <code>oracle.jdbc.driver.OraclePreparedStatementWrapper@8870a2</code> on a <code>toString()</code> print out."},{"owner":{"account_id":1112158,"reputation":2056,"user_id":1102433,"display_name":"Dan Armstrong"},"score":0,"creation_date":1337810501,"post_id":10728377,"comment_id":13936210,"body_markdown":"Does Oracle support query logging. If so then you could see the query when it hits the server.","body":"Does Oracle support query logging. If so then you could see the query when it hits the server."},{"owner":{"account_id":943967,"reputation":27613,"user_id":971592,"accept_rate":94,"display_name":"kentcdodds"},"score":0,"creation_date":1337810644,"post_id":10728377,"comment_id":13936240,"body_markdown":"Yeah, it does in `v$sql`. But apparently it&#39;s not logged unless it doesn&#39;t throw an error...","body":"Yeah, it does in <code>v$sql</code>. But apparently it&#39;s not logged unless it doesn&#39;t throw an error..."},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1337810852,"post_id":10728377,"comment_id":13936297,"body_markdown":"What is the content of `query` that is passed to the method? It would need to have placeholders for each and every parameter you pass. And I don&#39;t understand why you are adding single quotes to the value that is passed to `clob.setString()`. One of the reasons to use PreparedStatements is that you don&#39;t have to worry about quoting.","body":"What is the content of <code>query</code> that is passed to the method? It would need to have placeholders for each and every parameter you pass. And I don&#39;t understand why you are adding single quotes to the value that is passed to <code>clob.setString()</code>. One of the reasons to use PreparedStatements is that you don&#39;t have to worry about quoting."},{"owner":{"account_id":943967,"reputation":27613,"user_id":971592,"accept_rate":94,"display_name":"kentcdodds"},"score":0,"creation_date":1337811069,"post_id":10728377,"comment_id":13936343,"body_markdown":"@a_horse_with_no_name, good point, I forgot I added those single quotes there in my debugging. Unfortunately, that didn&#39;t solve the problem. The content of the `query` is described above in the original question. I show it in the code. And it runs fine in my developer tool...","body":"@a_horse_with_no_name, good point, I forgot I added those single quotes there in my debugging. Unfortunately, that didn&#39;t solve the problem. The content of the <code>query</code> is described above in the original question. I show it in the code. And it runs fine in my developer tool..."},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1337811192,"post_id":10728377,"comment_id":13936378,"body_markdown":"but it does not contain any `?` as parameter markers. Without those, the PreparedStatement is not going to work. For each PreparedStatement.setXXX() call there must be a coresponding `?` in the prepared SQL (and that must not be enclosed in single quotes)","body":"but it does not contain any <code>?</code> as parameter markers. Without those, the PreparedStatement is not going to work. For each PreparedStatement.setXXX() call there must be a coresponding <code>?</code> in the prepared SQL (and that must not be enclosed in single quotes)"},{"owner":{"account_id":943967,"reputation":27613,"user_id":971592,"accept_rate":94,"display_name":"kentcdodds"},"score":0,"creation_date":1337811563,"post_id":10728377,"comment_id":13936470,"body_markdown":"Oh, yes, sorry. I&#39;ll update the post to show what the value of `query` is.","body":"Oh, yes, sorry. I&#39;ll update the post to show what the value of <code>query</code> is."}],"answers":[{"tags":[],"owner":{"display_name":"user330315"},"down_vote_count":1,"up_vote_count":169,"is_accepted":true,"score":168,"last_activity_date":1337811441,"creation_date":1337810067,"answer_id":10728434,"question_id":10728377,"body_markdown":"If you use the string literal exactly as you have shown us, the problem is the `;` character at the end. You may not include that in the query string in the JDBC calls.\r\n\r\nAs you are inserting only a single row, a regular `INSERT` should be just fine even when inserting multiple rows. Using a batched statement is probable more efficient anywy. No need for `INSERT ALL`. Additionally you don&#39;t need the temporary clob and all that. You can simplify your method to something like this (assuming I got the parameters right):\r\n\r\n    String query1 = &quot;select substr(to_char(max_data),1,4) as year, &quot; + \r\n      &quot;substr(to_char(max_data),5,6) as month, max_data &quot; +\r\n      &quot;from dss_fin_user.acq_dashboard_src_load_success &quot; + \r\n      &quot;where source = &#39;CHQ PeopleSoft FS&#39;&quot;;\r\n\r\n    String query2 = &quot;.....&quot;;\r\n    \r\n    String sql = &quot;insert into domo_queries (clob_column) values (?)&quot;;\r\n    PreparedStatement pstmt = con.prepareStatement(sql);\r\n    StringReader reader = new StringReader(query1);\r\n    pstmt.setCharacterStream(1, reader, query1.length());\r\n    pstmt.addBatch();\r\n\r\n    reader = new StringReader(query2);\r\n    pstmt.setCharacterStream(1, reader, query2.length());\r\n    pstmt.addBatch();\r\n\r\n    pstmt.executeBatch();   \r\n    con.commit();\r\n","title":"Where&#39;s my invalid character (ORA-00911)","body":"<p>If you use the string literal exactly as you have shown us, the problem is the <code>;</code> character at the end. You may not include that in the query string in the JDBC calls.</p>\n\n<p>As you are inserting only a single row, a regular <code>INSERT</code> should be just fine even when inserting multiple rows. Using a batched statement is probable more efficient anywy. No need for <code>INSERT ALL</code>. Additionally you don't need the temporary clob and all that. You can simplify your method to something like this (assuming I got the parameters right):</p>\n\n<pre><code>String query1 = \"select substr(to_char(max_data),1,4) as year, \" + \n  \"substr(to_char(max_data),5,6) as month, max_data \" +\n  \"from dss_fin_user.acq_dashboard_src_load_success \" + \n  \"where source = 'CHQ PeopleSoft FS'\";\n\nString query2 = \".....\";\n\nString sql = \"insert into domo_queries (clob_column) values (?)\";\nPreparedStatement pstmt = con.prepareStatement(sql);\nStringReader reader = new StringReader(query1);\npstmt.setCharacterStream(1, reader, query1.length());\npstmt.addBatch();\n\nreader = new StringReader(query2);\npstmt.setCharacterStream(1, reader, query2.length());\npstmt.addBatch();\n\npstmt.executeBatch();   \ncon.commit();\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user507484"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1337811060,"creation_date":1337811060,"answer_id":10728614,"question_id":10728377,"body_markdown":"Of the top of my head, can you try to use the &#39;q&#39; operator for the string literal\r\n\r\nsomething like\r\n\r\n\r\n    insert all\r\n      into domo_queries values (q&#39;[select \r\n    substr(to_char(max_data),1,4) as year,\r\n    substr(to_char(max_data),5,6) as month,\r\n    max_data\r\n    from dss_fin_user.acq_dashboard_src_load_success\r\n    where source = &#39;CHQ PeopleSoft FS&#39;]&#39;)\r\n    select * from dual;\r\n\r\nNote that the single quotes of your predicate are not escaped, and the string sits between q&#39;[...]&#39;.","title":"Where&#39;s my invalid character (ORA-00911)","body":"<p>Of the top of my head, can you try to use the 'q' operator for the string literal</p>\n\n<p>something like</p>\n\n<pre><code>insert all\n  into domo_queries values (q'[select \nsubstr(to_char(max_data),1,4) as year,\nsubstr(to_char(max_data),5,6) as month,\nmax_data\nfrom dss_fin_user.acq_dashboard_src_load_success\nwhere source = 'CHQ PeopleSoft FS']')\nselect * from dual;\n</code></pre>\n\n<p>Note that the single quotes of your predicate are not escaped, and the string sits between q'[...]'.</p>\n"},{"tags":[],"owner":{"account_id":3169819,"reputation":117,"user_id":2679080,"display_name":"Pratik Roy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574333297,"creation_date":1574333297,"answer_id":58973080,"question_id":10728377,"body_markdown":"One of the reason may be if any one of table column have an **underscore(_)** in its name . That is considered as invalid characters by the JDBC . Rename the column by a ALTER Command and change in your code SQL , that will fix . ","title":"Where&#39;s my invalid character (ORA-00911)","body":"<p>One of the reason may be if any one of table column have an <strong>underscore(_)</strong> in its name . That is considered as invalid characters by the JDBC . Rename the column by a ALTER Command and change in your code SQL , that will fix . </p>\n"},{"tags":[],"owner":{"account_id":6085642,"reputation":568,"user_id":5122436,"display_name":"Mikhail Ionkin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673537949,"creation_date":1673537949,"answer_id":75098834,"question_id":10728377,"body_markdown":"Oracle provide some explanation for [ORA-00911](https://www.databasestar.com/ora-00911). You can got this explanation after executing SQL request in Oracle SQL Developer.\r\n\r\n&gt; ORA-00911. 00000 -  &quot;invalid character&quot;\r\n&gt; *Cause:    identifiers may not start with any ASCII character other than\r\n&gt;            letters and numbers.  $#_ are also allowed after the first\r\n&gt;            character.  Identifiers enclosed by doublequotes may contain\r\n&gt;            any character other than a doublequote.  Alternative quotes\r\n&gt;            (q&#39;#...#&#39;) cannot use spaces, tabs, or carriage returns as\r\n&gt;            delimiters.  For all other contexts, consult the SQL Language\r\n&gt;            Reference Manual\r\n\r\nBut in your case it seems to be double &#39; character","title":"Where&#39;s my invalid character (ORA-00911)","body":"<p>Oracle provide some explanation for <a href=\"https://www.databasestar.com/ora-00911\" rel=\"nofollow noreferrer\">ORA-00911</a>. You can got this explanation after executing SQL request in Oracle SQL Developer.</p>\n<blockquote>\n<p>ORA-00911. 00000 -  &quot;invalid character&quot;\n*Cause:    identifiers may not start with any ASCII character other than\nletters and numbers.  $#_ are also allowed after the first\ncharacter.  Identifiers enclosed by doublequotes may contain\nany character other than a doublequote.  Alternative quotes\n(q'#...#') cannot use spaces, tabs, or carriage returns as\ndelimiters.  For all other contexts, consult the SQL Language\nReference Manual</p>\n</blockquote>\n<p>But in your case it seems to be double ' character</p>\n"}],"owner":{"account_id":943967,"reputation":27613,"user_id":971592,"accept_rate":94,"display_name":"kentcdodds"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145513,"favorite_count":0,"down_vote_count":0,"up_vote_count":69,"accepted_answer_id":10728434,"answer_count":4,"score":69,"last_activity_date":1673537949,"creation_date":1337809743,"question_id":10728377,"body_markdown":"I&#39;m trying to insert `CLOB`s into a database (see [related question][1]). I can&#39;t quite figure out what&#39;s wrong. I have a list of about 85 clobs I want to insert into a table. Even when inserting only the first clob I get `ORA-00911: invalid character`. I can&#39;t figure out how to get the statement out of the `PreparedStatement` before it executes, so I can&#39;t be 100% certain that it&#39;s right, but if I got it right, then it should look exactly like this:\r\n\r\n    insert all\r\n      into domo_queries values (&#39;select \r\n    substr(to_char(max_data),1,4) as year,\r\n    substr(to_char(max_data),5,6) as month,\r\n    max_data\r\n    from dss_fin_user.acq_dashboard_src_load_success\r\n    where source = &#39;&#39;CHQ PeopleSoft FS&#39;&#39;&#39;)\r\n    select * from dual;\r\n\r\nUltimately, this [`insert all`][2] statement would have a lot of `into`&#39;s, which is why I just don&#39;t do a regular `insert` statement. I don&#39;t see an invalid character in there, do you? (Oh, and that code above **runs fine when I run it in my sql developer tool**.) And I if I remove the semi-colon in the `PreparedStatement`, it throws an `ORA-00933: SQL command not properly ended` error.\r\n\r\nIn any case, here&#39;s my code for executing the query (and the values of the variables for the example above).\r\n\r\n    public ResultSet executeQuery(String connection, String query, QueryParameter... params) throws DataException, SQLException {\r\n      // query at this point = &quot;insert all\r\n                              //into domo_queries values (?)\r\n                              //select * from dual;&quot;\r\n      Connection conn = ConnectionPool.getInstance().get(connection);\r\n      PreparedStatement pstmt = conn.prepareStatement(query);\r\n      for (int i = 1; i &lt;= params.length; i++) {\r\n        QueryParameter param = params[i - 1];\r\n        switch (param.getType()) { //The type in the example is QueryParameter.CLOB\r\n          case QueryParameter.CLOB:\r\n            Clob clob = CLOB.createTemporary(conn, false, oracle.sql.CLOB.DURATION_SESSION);\r\n            clob.setString(i, &quot;&#39;&quot; + param.getValue() + &quot;&#39;&quot;);\r\n            //the value of param.getValue() at this point is:\r\n            /*\r\n             * select \r\n             * substr(to_char(max_data),1,4) as year,\r\n             * substr(to_char(max_data),5,6) as month,\r\n             * max_data\r\n             * from dss_fin_user.acq_dashboard_src_load_success\r\n             * where source = &#39;&#39;CHQ PeopleSoft FS&#39;&#39;\r\n             */\r\n            pstmt.setClob(i, clob);\r\n            break;\r\n          case QueryParameter.STRING:\r\n            pstmt.setString(i, &quot;&#39;&quot; + param.getValue() + &quot;&#39;&quot;);\r\n            break;\r\n        }\r\n      }\r\n      ResultSet rs = pstmt.executeQuery(); //Obviously, this is where the error is thrown\r\n      conn.commit();\r\n      ConnectionPool.getInstance().release(conn);\r\n      return rs;\r\n    }\r\n\r\nIs there anything I&#39;m just missing big time?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/10727521/\r\n  [2]: http://www.techonthenet.com/oracle/questions/insert_rows.php","title":"Where&#39;s my invalid character (ORA-00911)","body":"<p>I'm trying to insert <code>CLOB</code>s into a database (see <a href=\"https://stackoverflow.com/questions/10727521/\">related question</a>). I can't quite figure out what's wrong. I have a list of about 85 clobs I want to insert into a table. Even when inserting only the first clob I get <code>ORA-00911: invalid character</code>. I can't figure out how to get the statement out of the <code>PreparedStatement</code> before it executes, so I can't be 100% certain that it's right, but if I got it right, then it should look exactly like this:</p>\n\n<pre><code>insert all\n  into domo_queries values ('select \nsubstr(to_char(max_data),1,4) as year,\nsubstr(to_char(max_data),5,6) as month,\nmax_data\nfrom dss_fin_user.acq_dashboard_src_load_success\nwhere source = ''CHQ PeopleSoft FS''')\nselect * from dual;\n</code></pre>\n\n<p>Ultimately, this <a href=\"http://www.techonthenet.com/oracle/questions/insert_rows.php\" rel=\"noreferrer\"><code>insert all</code></a> statement would have a lot of <code>into</code>'s, which is why I just don't do a regular <code>insert</code> statement. I don't see an invalid character in there, do you? (Oh, and that code above <strong>runs fine when I run it in my sql developer tool</strong>.) And I if I remove the semi-colon in the <code>PreparedStatement</code>, it throws an <code>ORA-00933: SQL command not properly ended</code> error.</p>\n\n<p>In any case, here's my code for executing the query (and the values of the variables for the example above).</p>\n\n<pre><code>public ResultSet executeQuery(String connection, String query, QueryParameter... params) throws DataException, SQLException {\n  // query at this point = \"insert all\n                          //into domo_queries values (?)\n                          //select * from dual;\"\n  Connection conn = ConnectionPool.getInstance().get(connection);\n  PreparedStatement pstmt = conn.prepareStatement(query);\n  for (int i = 1; i &lt;= params.length; i++) {\n    QueryParameter param = params[i - 1];\n    switch (param.getType()) { //The type in the example is QueryParameter.CLOB\n      case QueryParameter.CLOB:\n        Clob clob = CLOB.createTemporary(conn, false, oracle.sql.CLOB.DURATION_SESSION);\n        clob.setString(i, \"'\" + param.getValue() + \"'\");\n        //the value of param.getValue() at this point is:\n        /*\n         * select \n         * substr(to_char(max_data),1,4) as year,\n         * substr(to_char(max_data),5,6) as month,\n         * max_data\n         * from dss_fin_user.acq_dashboard_src_load_success\n         * where source = ''CHQ PeopleSoft FS''\n         */\n        pstmt.setClob(i, clob);\n        break;\n      case QueryParameter.STRING:\n        pstmt.setString(i, \"'\" + param.getValue() + \"'\");\n        break;\n    }\n  }\n  ResultSet rs = pstmt.executeQuery(); //Obviously, this is where the error is thrown\n  conn.commit();\n  ConnectionPool.getInstance().release(conn);\n  return rs;\n}\n</code></pre>\n\n<p>Is there anything I'm just missing big time?</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":20662432,"reputation":1076,"user_id":15170120,"display_name":"TarHalda"},"score":0,"creation_date":1673538955,"post_id":75098752,"comment_id":132526584,"body_markdown":"I don&#39;t entirely understand your question. Are you trying to exclude the fields that aren&#39;t in your expected response? Are you trying to order them a certain way? Group By is a SQL term, which wouldn&#39;t apply to  Java, and sum means to add numbers together, which doesn&#39;t seem to be part of what you want to accomplish.","body":"I don&#39;t entirely understand your question. Are you trying to exclude the fields that aren&#39;t in your expected response? Are you trying to order them a certain way? Group By is a SQL term, which wouldn&#39;t apply to  Java, and sum means to add numbers together, which doesn&#39;t seem to be part of what you want to accomplish."}],"owner":{"account_id":26412994,"reputation":1,"user_id":20061827,"display_name":"Sai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673537588,"creation_date":1673537588,"question_id":75098752,"body_markdown":"Controller class:\r\n```\r\n@RestController\r\n@RequestMapping(value = &quot;/api/v1/&quot;)\r\npublic class TestController {\r\n\r\n@Autowired\r\nTestService testService;\r\n\r\n@GetMapping(value = &quot;test&quot;)\r\npublic List&lt;Bean&gt; getDetails() {\r\nreturn testService.getDetails();\r\n}\r\n}\r\n```\r\n\r\n\r\nService class:\r\n```\r\n@Service\r\npublic class TestService {\r\n\r\n@Autowired\r\nBeanRepository beanRepository;\r\n\r\npublic List&lt;Bean&gt; getDetails() {\r\nList&lt;Bean&gt; res = new ArrayList&lt;&gt;();\r\ntry{\r\nList&lt;BeanEntity&gt; beans = beanRepository.findAllApplications();\r\nfor(BeanEntity beanEntity : beans) {\r\nBean bean = new Bean();\r\nBeanUtils.copyProperties(beanEntity, bean);\r\nif(beanEntity.getDesc().contains(&quot;Motor&quot;) || beanEntity.getDesc().contains(&quot;Nut&quot;)){\r\nbean.setName(&quot;A&quot;);\r\n} else if (beanEntity.getDesc().contains(&quot;Bolt&quot;) || beanEntity.getDesc().contains(&quot;Engine&quot;)) {\r\nbean.setName(&quot;B&quot;);\r\n} else {\r\nbean.setName(&quot;C&quot;);\r\n}\r\nres.add()\r\n}\r\n} catch(Exception e) {\r\nthrow new e;\r\n}\r\n}\r\n}\r\n```\r\n\r\nEntity class:\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgConstructor\r\n@AllArgConstructor\r\n@Entity\r\npublic class BeanEntity implements Serializable {\r\n\r\nprivate static final long serialVersionID = 3269743987697633760L;\r\n\r\n@Id\r\n@Column(name = &quot;ApplicationID&quot;, nullable = false, unique = true)\r\npublic String application_id;\r\n\r\n@Column(name= &quot;Description&quot;)\r\npublic String desc;\r\n\r\n@Column(name = &quot;Status&quot;)\r\npublic String status;\r\n\r\n@Column(name =&quot;Approved&quot;)\r\npublic int approved;\r\n\r\n@Column(name =&quot;Declined&quot;)\r\npublic int declined;\r\n\r\n}\r\n```\r\n\r\nBean class:\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgConstructor\r\n@AllArgConstructor\r\npublic class Bean {\r\npublic String application_id;\r\npublic String desc;\r\npublic String status;\r\npublic int approved;\r\npublic int declined;\r\npublic String name;\r\n}\r\n\r\n```\r\n\r\nRepository class:\r\n```\r\n@Repository\r\npublic interface BeanRepository extends JpaRepository&lt;BeanEntity, String&gt; {\r\n\r\n\r\n@Query(name = &quot;select * from abc&quot;, nativeQuery = true)\r\nList&lt;BeanEntity&gt; findAllApplications();\r\n}\r\n```\r\n\r\n\r\nBelow is the Current Response i am getting from above code:\r\n```\r\n[\r\n{\r\n&quot;application_id&quot; : &quot;12345&quot;,\r\n&quot;desc&quot;: &quot;Motor&quot;,\r\n&quot;status&quot;: &quot;active&quot;,\r\n&quot;approved&quot;: 1,\r\n&quot;declined&quot;: 0,\r\n&quot;name&quot;: &quot;A&quot;\r\n},\r\n{\r\n&quot;application_id&quot; : &quot;14785&quot;,\r\n&quot;desc&quot;: &quot;Nut&quot;,\r\n&quot;status&quot;: &quot;active&quot;,\r\n&quot;approved&quot;: 0,\r\n&quot;declined&quot;: 1,\r\n&quot;name&quot;: &quot;A&quot;\r\n},\r\n{\r\n&quot;application_id&quot; : &quot;15974&quot;,\r\n&quot;desc&quot;: &quot;Bolt&quot;,\r\n&quot;status&quot;: &quot;not-active&quot;,\r\n&quot;approved&quot;: 1,\r\n&quot;declined&quot;: 0,\r\n&quot;name&quot;: &quot;B&quot;\r\n},\r\n{\r\n&quot;application_id&quot; : &quot;36985&quot;,\r\n&quot;desc&quot;: &quot;Engine&quot;,\r\n&quot;status&quot;: &quot;active&quot;,\r\n&quot;approved&quot;: 1,\r\n&quot;declined&quot;: 0,\r\n&quot;name&quot;: &quot;B&quot;\r\n},\r\n{\r\n&quot;application_id&quot; : &quot;78945&quot;,\r\n&quot;desc&quot;: &quot;Filter&quot;,\r\n&quot;status&quot;: &quot;active&quot;,\r\n&quot;approved&quot;: 1,\r\n&quot;declined&quot;: 0,\r\n&quot;name&quot;: &quot;C&quot;\r\n},\r\n{\r\n&quot;application_id&quot; : &quot;45612&quot;,\r\n&quot;desc&quot;: &quot;AC&quot;,\r\n&quot;status&quot;: &quot;active&quot;,\r\n&quot;approved&quot;: 0,\r\n&quot;declined&quot;: 1,\r\n&quot;name&quot;: &quot;C&quot;\r\n}\r\n]\r\n```\r\n\r\nExpected Response i am looking for:\r\n```\r\n[\r\n{\r\n&quot;name&quot;: &quot;A&quot;,\r\n&quot;approved&quot;: 1,\r\n&quot;declined&quot;: 1\r\n},\r\n{\r\n&quot;name&quot;: &quot;B&quot;,\r\n&quot;approved&quot;: 2,\r\n&quot;declined&quot;: 0\r\n},\r\n{\r\n&quot;name&quot;: &quot;C&quot;,\r\n&quot;approved&quot;: 1,\r\n&quot;declined&quot;: 1\r\n}\r\n]\r\n```\r\nI am in beginner phase of learning java, How to implement group by with sum of multiple fields in java.\r\nCan someone help me how i can achieve the expected response.\r\n","title":"How to implement group by with sum of multiple fields in java","body":"<p>Controller class:</p>\n<pre><code>@RestController\n@RequestMapping(value = &quot;/api/v1/&quot;)\npublic class TestController {\n\n@Autowired\nTestService testService;\n\n@GetMapping(value = &quot;test&quot;)\npublic List&lt;Bean&gt; getDetails() {\nreturn testService.getDetails();\n}\n}\n</code></pre>\n<p>Service class:</p>\n<pre><code>@Service\npublic class TestService {\n\n@Autowired\nBeanRepository beanRepository;\n\npublic List&lt;Bean&gt; getDetails() {\nList&lt;Bean&gt; res = new ArrayList&lt;&gt;();\ntry{\nList&lt;BeanEntity&gt; beans = beanRepository.findAllApplications();\nfor(BeanEntity beanEntity : beans) {\nBean bean = new Bean();\nBeanUtils.copyProperties(beanEntity, bean);\nif(beanEntity.getDesc().contains(&quot;Motor&quot;) || beanEntity.getDesc().contains(&quot;Nut&quot;)){\nbean.setName(&quot;A&quot;);\n} else if (beanEntity.getDesc().contains(&quot;Bolt&quot;) || beanEntity.getDesc().contains(&quot;Engine&quot;)) {\nbean.setName(&quot;B&quot;);\n} else {\nbean.setName(&quot;C&quot;);\n}\nres.add()\n}\n} catch(Exception e) {\nthrow new e;\n}\n}\n}\n</code></pre>\n<p>Entity class:</p>\n<pre><code>@Getter\n@Setter\n@NoArgConstructor\n@AllArgConstructor\n@Entity\npublic class BeanEntity implements Serializable {\n\nprivate static final long serialVersionID = 3269743987697633760L;\n\n@Id\n@Column(name = &quot;ApplicationID&quot;, nullable = false, unique = true)\npublic String application_id;\n\n@Column(name= &quot;Description&quot;)\npublic String desc;\n\n@Column(name = &quot;Status&quot;)\npublic String status;\n\n@Column(name =&quot;Approved&quot;)\npublic int approved;\n\n@Column(name =&quot;Declined&quot;)\npublic int declined;\n\n}\n</code></pre>\n<p>Bean class:</p>\n<pre><code>@Getter\n@Setter\n@NoArgConstructor\n@AllArgConstructor\npublic class Bean {\npublic String application_id;\npublic String desc;\npublic String status;\npublic int approved;\npublic int declined;\npublic String name;\n}\n\n</code></pre>\n<p>Repository class:</p>\n<pre><code>@Repository\npublic interface BeanRepository extends JpaRepository&lt;BeanEntity, String&gt; {\n\n\n@Query(name = &quot;select * from abc&quot;, nativeQuery = true)\nList&lt;BeanEntity&gt; findAllApplications();\n}\n</code></pre>\n<p>Below is the Current Response i am getting from above code:</p>\n<pre><code>[\n{\n&quot;application_id&quot; : &quot;12345&quot;,\n&quot;desc&quot;: &quot;Motor&quot;,\n&quot;status&quot;: &quot;active&quot;,\n&quot;approved&quot;: 1,\n&quot;declined&quot;: 0,\n&quot;name&quot;: &quot;A&quot;\n},\n{\n&quot;application_id&quot; : &quot;14785&quot;,\n&quot;desc&quot;: &quot;Nut&quot;,\n&quot;status&quot;: &quot;active&quot;,\n&quot;approved&quot;: 0,\n&quot;declined&quot;: 1,\n&quot;name&quot;: &quot;A&quot;\n},\n{\n&quot;application_id&quot; : &quot;15974&quot;,\n&quot;desc&quot;: &quot;Bolt&quot;,\n&quot;status&quot;: &quot;not-active&quot;,\n&quot;approved&quot;: 1,\n&quot;declined&quot;: 0,\n&quot;name&quot;: &quot;B&quot;\n},\n{\n&quot;application_id&quot; : &quot;36985&quot;,\n&quot;desc&quot;: &quot;Engine&quot;,\n&quot;status&quot;: &quot;active&quot;,\n&quot;approved&quot;: 1,\n&quot;declined&quot;: 0,\n&quot;name&quot;: &quot;B&quot;\n},\n{\n&quot;application_id&quot; : &quot;78945&quot;,\n&quot;desc&quot;: &quot;Filter&quot;,\n&quot;status&quot;: &quot;active&quot;,\n&quot;approved&quot;: 1,\n&quot;declined&quot;: 0,\n&quot;name&quot;: &quot;C&quot;\n},\n{\n&quot;application_id&quot; : &quot;45612&quot;,\n&quot;desc&quot;: &quot;AC&quot;,\n&quot;status&quot;: &quot;active&quot;,\n&quot;approved&quot;: 0,\n&quot;declined&quot;: 1,\n&quot;name&quot;: &quot;C&quot;\n}\n]\n</code></pre>\n<p>Expected Response i am looking for:</p>\n<pre><code>[\n{\n&quot;name&quot;: &quot;A&quot;,\n&quot;approved&quot;: 1,\n&quot;declined&quot;: 1\n},\n{\n&quot;name&quot;: &quot;B&quot;,\n&quot;approved&quot;: 2,\n&quot;declined&quot;: 0\n},\n{\n&quot;name&quot;: &quot;C&quot;,\n&quot;approved&quot;: 1,\n&quot;declined&quot;: 1\n}\n]\n</code></pre>\n<p>I am in beginner phase of learning java, How to implement group by with sum of multiple fields in java.\nCan someone help me how i can achieve the expected response.</p>\n"},{"tags":["java","spring-batch","readability","code-readability","spring-framework-beans"],"comments":[{"owner":{"account_id":17756731,"reputation":570,"user_id":12893676,"display_name":"nonethewiser"},"score":0,"creation_date":1673404483,"post_id":75077768,"comment_id":132489625,"body_markdown":"First for sure. Second way is basically the first plus a try/catch and extra return.","body":"First for sure. Second way is basically the first plus a try/catch and extra return."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1673412553,"post_id":75077768,"comment_id":132490689,"body_markdown":"https://beanvalidation.org/","body":"<a href=\"https://beanvalidation.org/\" rel=\"nofollow noreferrer\">beanvalidation.org</a>"}],"answers":[{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1673537220,"creation_date":1673407012,"answer_id":75078021,"question_id":75077768,"body_markdown":"The second method is more readable, but there are some parts of your code you have to revisit:\r\n\r\n 1. `hasLength` is less readable than `isEmpty`\r\n 2. You should not catch your exception directly in this method. Instead call a `throw new` statement. It will allows another classes using this method, to catch and manage the exception and send a custom message.\r\n\r\nA sample code:\r\n\r\n    public boolean isValid() {\r\n        if (this.userId.isEmpty() || this.departmentCode.isEmpty() || this.departmentCode.isEmpty()) {\r\n            throw new IllegalArgumentException(&quot;YOUR CUSTOM MESSAGE&quot;)\r\n        }\r\n        return true;\r\n    }\r\n\r\nUpdate:\r\n\r\n - You can use [bean validation][1], to directly apply your constrains on your fields with annotations.\r\n\r\n  [1]: https://www.baeldung.com/javax-validation","title":"which of these ways to verify object is better in perspective of readable and maintainable?","body":"<p>The second method is more readable, but there are some parts of your code you have to revisit:</p>\n<ol>\n<li><code>hasLength</code> is less readable than <code>isEmpty</code></li>\n<li>You should not catch your exception directly in this method. Instead call a <code>throw new</code> statement. It will allows another classes using this method, to catch and manage the exception and send a custom message.</li>\n</ol>\n<p>A sample code:</p>\n<pre><code>public boolean isValid() {\n    if (this.userId.isEmpty() || this.departmentCode.isEmpty() || this.departmentCode.isEmpty()) {\n        throw new IllegalArgumentException(&quot;YOUR CUSTOM MESSAGE&quot;)\n    }\n    return true;\n}\n</code></pre>\n<p>Update:</p>\n<ul>\n<li>You can use <a href=\"https://www.baeldung.com/javax-validation\" rel=\"nofollow noreferrer\">bean validation</a>, to directly apply your constrains on your fields with annotations.</li>\n</ul>\n"}],"owner":{"account_id":16002638,"reputation":15,"user_id":11548881,"display_name":"Companion Cube"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1673410038,"accepted_answer_id":75078021,"answer_count":1,"score":-1,"last_activity_date":1673537220,"creation_date":1673404221,"question_id":75077768,"body_markdown":"I&#39;m programming Human Resource data sync batch program. \r\n\r\nThis program reads user and department data from customer company&#39;s database and save to our database. \r\n\r\nFor example, there is class named &#39;User&#39; indicates each user. \r\n\r\nIt has 4 member variables, userId, userName, departmentCode, userRank. \r\n\r\nIn our database, there is &#39;user&#39; table has columns user_id, user_nbame, department_code, user_rank. \r\n\r\nEach member variable save each column like below example. \r\n\r\n- userId -&gt; user_id(primary key)\r\n- userName -&gt; user_name(not null)\r\n- departmentCode -&gt; department_code(not null)\r\n- userRank -&gt; user_rank(not null)\r\n\r\nBefore I save user data to our database, I need to verify user data. \r\n\r\nBecause user table&#39;s user_rank column has not null constraints, so it may cause ConstraintException. \r\n\r\nIn order to avoid ConstaintException, I thought I need to use isValid method. \r\n\r\nThis &#39;isValid&#39; method checks whether member variables are null or empty string. \r\n\r\nIf at least one of member variables is null or empty string, return false. \r\n\r\nIf All member variables are not null or not empty string, return true. \r\n\r\nBecause user_id is primary key, so must not be null and duplicated, user_name must not be null, department_code must not be null, and userRank must not be null. \r\n\r\nuser_id, user_name, department_code columns don&#39;t have problem. \r\n\r\nBecause these 3 columns obviously essential in all companies.\r\n\r\nBut, user_rank column was null in some customer company. \r\n\r\nSo I use &#39;hasLength&#39; for this &#39;isValid&#39; method. \r\n\r\nBelow 2 methods have same purpose. These just verify itself and return true or false. \r\n\r\n```java\r\nimport org.springframework.util.StringUtils;\r\n\r\npublic class User {\r\n\tprivate String userId;\r\n\tprivate String userName;\r\n\tprivate String departmentCode;\r\n\tprivate String userRank;\r\n\r\n    // first way\r\n\tpublic boolean isValid() {\r\n\t\treturn  StringUtils.hasLength(this.userId) &amp;&amp;\r\n\t\t\t\t\t\tStringUtils.hasLength(this.userName) &amp;&amp;\r\n\t\t\t\t\t\tStringUtils.hasLength(this.departmentCode) &amp;&amp;\r\n\t\t\t\t\t\tStringUtils.hasLength(this.userRank);\r\n\t}\r\n}\r\n\r\n```\r\n\r\n```java\r\nimport org.springframework.util.Assert;\r\n\r\npublic class User {\r\n\tprivate String userId;\r\n\tprivate String userName;\r\n\tprivate String departmentCode;\r\n\tprivate String userRank;\r\n\r\n    // second way\r\n\tpublic boolean isValid() {\r\n\t\ttry {\r\n\t\t\tAssert.hasLength(this.userId);\r\n\t\t\tAssert.hasLength(this.userName);\r\n\t\t\tAssert.hasLength(this.departmentCode);\r\n\t\t\tAssert.hasLength(this.userRank);\r\n\r\n\t\t\treturn true;\r\n\t\t} catch(IllegalArgumentException e) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n```\r\n\r\nAt first, I used first way. \r\n\r\nBut, some team members said &quot;it isn&#39;t easily readable. &quot;\r\n\r\nAfter hearing that opinion, I referenced some spring framework codes and improved by using &#39;Assert&#39; class my code like second way.\r\n\r\nDo you think what is better way?\r\n\r\nOr if you think other better way than i thought, can you tell me something?\r\n\r\n---\r\n---\r\n\r\nI apologize about my mistake. \r\n\r\nI wrote question so ambiguous, so I reinforced question. \r\n\r\nIf you satisfied by this editing, please reopen this question. \r\n\r\nThank you. ","title":"which of these ways to verify object is better in perspective of readable and maintainable?","body":"<p>I'm programming Human Resource data sync batch program.</p>\n<p>This program reads user and department data from customer company's database and save to our database.</p>\n<p>For example, there is class named 'User' indicates each user.</p>\n<p>It has 4 member variables, userId, userName, departmentCode, userRank.</p>\n<p>In our database, there is 'user' table has columns user_id, user_nbame, department_code, user_rank.</p>\n<p>Each member variable save each column like below example.</p>\n<ul>\n<li>userId -&gt; user_id(primary key)</li>\n<li>userName -&gt; user_name(not null)</li>\n<li>departmentCode -&gt; department_code(not null)</li>\n<li>userRank -&gt; user_rank(not null)</li>\n</ul>\n<p>Before I save user data to our database, I need to verify user data.</p>\n<p>Because user table's user_rank column has not null constraints, so it may cause ConstraintException.</p>\n<p>In order to avoid ConstaintException, I thought I need to use isValid method.</p>\n<p>This 'isValid' method checks whether member variables are null or empty string.</p>\n<p>If at least one of member variables is null or empty string, return false.</p>\n<p>If All member variables are not null or not empty string, return true.</p>\n<p>Because user_id is primary key, so must not be null and duplicated, user_name must not be null, department_code must not be null, and userRank must not be null.</p>\n<p>user_id, user_name, department_code columns don't have problem.</p>\n<p>Because these 3 columns obviously essential in all companies.</p>\n<p>But, user_rank column was null in some customer company.</p>\n<p>So I use 'hasLength' for this 'isValid' method.</p>\n<p>Below 2 methods have same purpose. These just verify itself and return true or false.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.util.StringUtils;\n\npublic class User {\n    private String userId;\n    private String userName;\n    private String departmentCode;\n    private String userRank;\n\n    // first way\n    public boolean isValid() {\n        return  StringUtils.hasLength(this.userId) &amp;&amp;\n                        StringUtils.hasLength(this.userName) &amp;&amp;\n                        StringUtils.hasLength(this.departmentCode) &amp;&amp;\n                        StringUtils.hasLength(this.userRank);\n    }\n}\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.util.Assert;\n\npublic class User {\n    private String userId;\n    private String userName;\n    private String departmentCode;\n    private String userRank;\n\n    // second way\n    public boolean isValid() {\n        try {\n            Assert.hasLength(this.userId);\n            Assert.hasLength(this.userName);\n            Assert.hasLength(this.departmentCode);\n            Assert.hasLength(this.userRank);\n\n            return true;\n        } catch(IllegalArgumentException e) {\n            return false;\n        }\n    }\n</code></pre>\n<p>At first, I used first way.</p>\n<p>But, some team members said &quot;it isn't easily readable. &quot;</p>\n<p>After hearing that opinion, I referenced some spring framework codes and improved by using 'Assert' class my code like second way.</p>\n<p>Do you think what is better way?</p>\n<p>Or if you think other better way than i thought, can you tell me something?</p>\n<hr />\n<hr />\n<p>I apologize about my mistake.</p>\n<p>I wrote question so ambiguous, so I reinforced question.</p>\n<p>If you satisfied by this editing, please reopen this question.</p>\n<p>Thank you.</p>\n"},{"tags":["java","mysql","mybatis"],"comments":[{"owner":{"account_id":1739024,"reputation":4902,"user_id":1590950,"display_name":"indivisible"},"score":1,"creation_date":1444980525,"post_id":33151873,"comment_id":54138136,"body_markdown":"Possible duplicate of [MyBatis ResultMap Collection - Returning only one row](http://stackoverflow.com/questions/21064454/mybatis-resultmap-collection-returning-only-one-row)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/21064454/mybatis-resultmap-collection-returning-only-one-row\">MyBatis ResultMap Collection - Returning only one row</a>"}],"answers":[{"tags":[],"owner":{"account_id":2660411,"reputation":2103,"user_id":2490602,"accept_rate":36,"display_name":"spacitron"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1673537122,"creation_date":1444922053,"answer_id":33152254,"question_id":33151873,"body_markdown":"Found the solution. All I had to do was change the `player_id` mapping in the collection from `id` to `result`.","title":"One to many relationship in MyBatis","body":"<p>Found the solution. All I had to do was change the <code>player_id</code> mapping in the collection from <code>id</code> to <code>result</code>.</p>\n"},{"tags":[],"owner":{"account_id":2003177,"reputation":16895,"user_id":1793718,"accept_rate":69,"display_name":"Lucky"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1446286359,"creation_date":1446286359,"answer_id":33450398,"question_id":33151873,"body_markdown":"I&#39;ve tried to follow this question and I&#39;ve created a One-to-Many relationship in Mybatis using Annotations. Following is my code,\r\n\r\n**UserMapper.java**\r\n\r\n    @Select(&quot;SELECT teamId, name FROM TEAM&quot;)\r\n        @Results(value = {\r\n        \t@Result(property=&quot;teamId&quot;, column = &quot;teamId&quot;),\r\n        \t@Result(property=&quot;name&quot;, column = &quot;name&quot;),\r\n        \t@Result(property=&quot;players&quot;, column=&quot;teamId&quot;, javaType= List.class, many=@Many(select=&quot;selectPlayers&quot;))\r\n        })   \r\n    public List&lt;Team&gt; getAllTeams();\r\n        \r\n    @Select(&quot;SELECT * FROM PLAYER WHERE teamId = #{teamId}&quot;)\r\n        @Results(value={\r\n        \t@Result(property=&quot;playerId&quot;, column =&quot;playerId&quot; ),\r\n        \t@Result(property=&quot;name&quot;, column = &quot;name&quot;)\r\n        })\r\n    List&lt;Player&gt; selectPlayers(String teamId);\r\n\r\n\r\nMy **Team.java**:\r\n\r\n    public class Team {\r\n    \t\r\n    \tprivate Long teamId;\r\n    \tprivate String name;\r\n    \tprivate List&lt;Player&gt; players;\r\n    \r\n        //...getters and setters\r\n    \r\n    }\r\n\r\n**Player.java**:\r\n\r\n    public class Player {\r\n    \t\r\n    \tprivate Long playerId;\r\n    \tprivate String name;\r\n    \tprivate Team team;\r\n    \r\n        //...getter and setters\r\n    \r\n    }\r\n\r\n**team.sql**\r\n\r\n    CREATE TABLE `team` (\r\n      `teamId` bigint(10) NOT NULL AUTO_INCREMENT,\r\n      `name` varchar(50) DEFAULT NULL,\r\n      PRIMARY KEY (`teamId`)\r\n    )\r\n\r\n**player.sql**\r\n\r\n    CREATE TABLE `player` (\r\n      `playerId` bigint(10) NOT NULL AUTO_INCREMENT,\r\n      `name` varchar(50) DEFAULT NULL,\r\n      `teamId` bigint(10) DEFAULT NULL,\r\n      PRIMARY KEY (`playerId`),\r\n      KEY `FK_TEAM_ID` (`teamId`),\r\n      CONSTRAINT `FK_TEAM_ID` FOREIGN KEY (`teamId`) REFERENCES `team` (`teamId`)\r\n    )\r\n\r\n**UserServiceImpl.java**\r\n\r\n    @Autowired\r\n\tprivate UserMapper userMapper;\r\n\r\n    ...\r\n    /* Get the list of teams with players data */\r\n    List&lt;Team&gt; teams = userMapper.getAllTeams();\r\n    ...\r\n\r\n\r\nHope this serves useful for future readers.","title":"One to many relationship in MyBatis","body":"<p>I've tried to follow this question and I've created a One-to-Many relationship in Mybatis using Annotations. Following is my code,</p>\n\n<p><strong>UserMapper.java</strong></p>\n\n<pre><code>@Select(\"SELECT teamId, name FROM TEAM\")\n    @Results(value = {\n        @Result(property=\"teamId\", column = \"teamId\"),\n        @Result(property=\"name\", column = \"name\"),\n        @Result(property=\"players\", column=\"teamId\", javaType= List.class, many=@Many(select=\"selectPlayers\"))\n    })   \npublic List&lt;Team&gt; getAllTeams();\n\n@Select(\"SELECT * FROM PLAYER WHERE teamId = #{teamId}\")\n    @Results(value={\n        @Result(property=\"playerId\", column =\"playerId\" ),\n        @Result(property=\"name\", column = \"name\")\n    })\nList&lt;Player&gt; selectPlayers(String teamId);\n</code></pre>\n\n<p>My <strong>Team.java</strong>:</p>\n\n<pre><code>public class Team {\n\n    private Long teamId;\n    private String name;\n    private List&lt;Player&gt; players;\n\n    //...getters and setters\n\n}\n</code></pre>\n\n<p><strong>Player.java</strong>:</p>\n\n<pre><code>public class Player {\n\n    private Long playerId;\n    private String name;\n    private Team team;\n\n    //...getter and setters\n\n}\n</code></pre>\n\n<p><strong>team.sql</strong></p>\n\n<pre><code>CREATE TABLE `team` (\n  `teamId` bigint(10) NOT NULL AUTO_INCREMENT,\n  `name` varchar(50) DEFAULT NULL,\n  PRIMARY KEY (`teamId`)\n)\n</code></pre>\n\n<p><strong>player.sql</strong></p>\n\n<pre><code>CREATE TABLE `player` (\n  `playerId` bigint(10) NOT NULL AUTO_INCREMENT,\n  `name` varchar(50) DEFAULT NULL,\n  `teamId` bigint(10) DEFAULT NULL,\n  PRIMARY KEY (`playerId`),\n  KEY `FK_TEAM_ID` (`teamId`),\n  CONSTRAINT `FK_TEAM_ID` FOREIGN KEY (`teamId`) REFERENCES `team` (`teamId`)\n)\n</code></pre>\n\n<p><strong>UserServiceImpl.java</strong></p>\n\n<pre><code>@Autowired\nprivate UserMapper userMapper;\n\n...\n/* Get the list of teams with players data */\nList&lt;Team&gt; teams = userMapper.getAllTeams();\n...\n</code></pre>\n\n<p>Hope this serves useful for future readers.</p>\n"}],"owner":{"account_id":2660411,"reputation":2103,"user_id":2490602,"accept_rate":36,"display_name":"spacitron"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21133,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1673537122,"creation_date":1444921025,"question_id":33151873,"body_markdown":"I&#39;m trying to use MyBatis to map a one-to-many relationship in my data model. This is based on the following classes: \r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    class Team{\r\n        String mId;\r\n        String mName;\r\n        List&lt;Player&gt; mPlayers;\r\n    }\r\n\r\n    class Player{\r\n        String mId;\r\n        String mName;\r\n    }\r\n\r\nI would like to write a query that returns a list of matches, each populated with the tags that correspond to that match. \r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;select id=&quot;getTeams&quot; resultType=&quot;Team&quot; resultMap=&quot;TeamMap&quot;&gt;\r\n        SELECT id, name, players.id as player_id, players.name as player_name\r\n        FROM teams\r\n        JOIN players ON teams.id = players.team_id\r\n    &lt;/select&gt;\r\n\r\n\r\n    &lt;resultMap type=&quot;Team&quot; id=&quot;TeamMap&quot;&gt;\r\n        &lt;id property=&quot;mId&quot; column=&quot;id&quot;/&gt;\r\n        &lt;result property=&quot;mName&quot; column=&quot;name&quot;/&gt;\r\n\r\n        &lt;collection property=&quot;mTags&quot; javaType=&quot;List&quot; ofType=&quot;Player&quot;&gt;\r\n            &lt;id property=&quot;player_id&quot; column=&quot;mId&quot;/&gt;\r\n            &lt;result property=&quot;player_name&quot; column=&quot;mName&quot;/&gt;\r\n        &lt;/collection&gt;\r\n\r\n    &lt;/resultMap&gt;\r\n\r\nBut the problem I&#39;m having with this is that each Team object is only populated with a single Player. How can I change this to ensure that each team contains all players that belong to it?","title":"One to many relationship in MyBatis","body":"<p>I'm trying to use MyBatis to map a one-to-many relationship in my data model. This is based on the following classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Team{\n    String mId;\n    String mName;\n    List&lt;Player&gt; mPlayers;\n}\n\nclass Player{\n    String mId;\n    String mName;\n}\n</code></pre>\n<p>I would like to write a query that returns a list of matches, each populated with the tags that correspond to that match.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;select id=&quot;getTeams&quot; resultType=&quot;Team&quot; resultMap=&quot;TeamMap&quot;&gt;\n    SELECT id, name, players.id as player_id, players.name as player_name\n    FROM teams\n    JOIN players ON teams.id = players.team_id\n&lt;/select&gt;\n\n\n&lt;resultMap type=&quot;Team&quot; id=&quot;TeamMap&quot;&gt;\n    &lt;id property=&quot;mId&quot; column=&quot;id&quot;/&gt;\n    &lt;result property=&quot;mName&quot; column=&quot;name&quot;/&gt;\n\n    &lt;collection property=&quot;mTags&quot; javaType=&quot;List&quot; ofType=&quot;Player&quot;&gt;\n        &lt;id property=&quot;player_id&quot; column=&quot;mId&quot;/&gt;\n        &lt;result property=&quot;player_name&quot; column=&quot;mName&quot;/&gt;\n    &lt;/collection&gt;\n\n&lt;/resultMap&gt;\n</code></pre>\n<p>But the problem I'm having with this is that each Team object is only populated with a single Player. How can I change this to ensure that each team contains all players that belong to it?</p>\n"},{"tags":["java","sql","mapping","mybatis"],"comments":[{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":0,"creation_date":1524057903,"post_id":49896691,"comment_id":86817199,"body_markdown":"What&#39;s the SQL? Need to make sure the rows are orderded by the relevant IDs. MyBatis uses the IDs to identify (and not to repeat) items.","body":"What&#39;s the SQL? Need to make sure the rows are orderded by the relevant IDs. MyBatis uses the IDs to identify (and not to repeat) items."},{"owner":{"account_id":7219568,"reputation":185,"user_id":5510661,"display_name":"ReiSchneider"},"score":0,"creation_date":1524403344,"post_id":49896691,"comment_id":86948375,"body_markdown":"@TheImpaler the SQL uses aliases, proper labels for each columns are observed","body":"@TheImpaler the SQL uses aliases, proper labels for each columns are observed"}],"answers":[{"tags":[],"owner":{"account_id":2573819,"reputation":15175,"user_id":2231972,"display_name":"Roman-Stop RU aggression in UA"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1673536982,"creation_date":1524087344,"answer_id":49909389,"question_id":49896691,"body_markdown":"The fact that duplicates for parent objects are created means that mybatis cannot identify objects correctly, that is that `&lt;id property=&quot;id&quot; column=&quot;ITEMS.id&quot;/&gt;` does not work as expected. Basically `id` element is needed so that mybatis knows that the parent record that is duplicated in multiple rows in a result set refers to the same object.\r\n\r\nOne working option is to make sure columns from different tables have unique names and use that unique names in result map.\r\n\r\nFor your example mapper should look like this:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;resultMap type=&quot;ObjectA&quot; id=&quot;objectaMap&quot;&gt;\r\n        &lt;id column=&quot;id&quot; property=&quot;id&quot;/&gt;\r\n        &lt;collection property=&quot;items&quot; javaType=&quot;ArrayList&quot; ofType=&quot;Items&quot; columnPrefix=&quot;ITEM_&quot;&gt;\r\n            &lt;id column=&quot;id&quot; property=&quot;id&quot;/&gt;\r\n            &lt;result property=&quot;description&quot; column=&quot;description&quot;/&gt;\r\n            &lt;collection property=&quot;tags&quot; javaType=&quot;ArrayList&quot; ofType=&quot;Tags&quot; columnPrefix=&quot;TAG_&quot;&gt;\r\n                &lt;id column=&quot;id&quot; property=&quot;id&quot;/&gt;\r\n                &lt;result property=&quot;tag&quot; column=&quot;tag&quot;/&gt;\r\n            &lt;/collection&gt;\r\n        &lt;/collection&gt;\r\n    &lt;/resultMap&gt;\r\n\r\n    &lt;select id=&quot;getObjects&quot; resultMap=&quot;objectaMap&quot;&gt;\r\n        select o.*, i.id as ITEM_ID, i.description as ITEM_DESCRIPTION, t.id as ITEM_TAG_ID, t.tag as ITEM_TAG_TAG\r\n        from objecta o\r\n            join items i on (i.object_id = o.id) \r\n            join tags t on (t.item_id = i.id)\r\n    &lt;/select&gt;\r\n\r\nNote how all columns from `items` table have `ITEM_` prefix and the same for `tags` table.","title":"myBatis Many To Many Relationship","body":"<p>The fact that duplicates for parent objects are created means that mybatis cannot identify objects correctly, that is that <code>&lt;id property=&quot;id&quot; column=&quot;ITEMS.id&quot;/&gt;</code> does not work as expected. Basically <code>id</code> element is needed so that mybatis knows that the parent record that is duplicated in multiple rows in a result set refers to the same object.</p>\n<p>One working option is to make sure columns from different tables have unique names and use that unique names in result map.</p>\n<p>For your example mapper should look like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;resultMap type=&quot;ObjectA&quot; id=&quot;objectaMap&quot;&gt;\n    &lt;id column=&quot;id&quot; property=&quot;id&quot;/&gt;\n    &lt;collection property=&quot;items&quot; javaType=&quot;ArrayList&quot; ofType=&quot;Items&quot; columnPrefix=&quot;ITEM_&quot;&gt;\n        &lt;id column=&quot;id&quot; property=&quot;id&quot;/&gt;\n        &lt;result property=&quot;description&quot; column=&quot;description&quot;/&gt;\n        &lt;collection property=&quot;tags&quot; javaType=&quot;ArrayList&quot; ofType=&quot;Tags&quot; columnPrefix=&quot;TAG_&quot;&gt;\n            &lt;id column=&quot;id&quot; property=&quot;id&quot;/&gt;\n            &lt;result property=&quot;tag&quot; column=&quot;tag&quot;/&gt;\n        &lt;/collection&gt;\n    &lt;/collection&gt;\n&lt;/resultMap&gt;\n\n&lt;select id=&quot;getObjects&quot; resultMap=&quot;objectaMap&quot;&gt;\n    select o.*, i.id as ITEM_ID, i.description as ITEM_DESCRIPTION, t.id as ITEM_TAG_ID, t.tag as ITEM_TAG_TAG\n    from objecta o\n        join items i on (i.object_id = o.id) \n        join tags t on (t.item_id = i.id)\n&lt;/select&gt;\n</code></pre>\n<p>Note how all columns from <code>items</code> table have <code>ITEM_</code> prefix and the same for <code>tags</code> table.</p>\n"}],"owner":{"account_id":7219568,"reputation":185,"user_id":5510661,"display_name":"ReiSchneider"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1558,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":49909389,"answer_count":1,"score":1,"last_activity_date":1673536982,"creation_date":1524045427,"question_id":49896691,"body_markdown":"In relation to my previous question regarding Mappings in MyBatis, I am now encountering a problem when doing a Many-To-Many relationship\r\n\r\nI have the following objects\r\n\r\n*I cannot post the actual object definition and XML due to privacy issues*\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    class ObjectA {\r\n         List&lt;Items&gt; items;\r\n         List&lt;Products&gt; products;\r\n    \r\n         //getters setters\r\n    }\r\n\r\n    class Items {\r\n       int id;\r\n       String description;\r\n       List&lt;Tags&gt; tags;\r\n    }\r\n\r\n    class Tags {\r\n        int id;\r\n        int item_id;\r\n        String tag;\r\n    }\r\n\r\nThe SQL involves joining the Items table with Tags table `ON Tags.ITEM_ID = Items.ID`\r\n\r\nBasically, it returns rows and maps them to this MyBatis\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;resultMap id=&quot;getObjectA&quot; type=&quot;ObjectA&quot;&gt;\r\n        &lt;collection property=&quot;items&quot; javaType=&quot;ArrayList&quot; ofType=&quot;Items&quot; resultMap=&quot;getItems&quot;/&gt;\r\n         \r\n         ...\r\n    \r\n    &lt;/resultMap&gt;\r\n\r\n    &lt;resultMap=&quot;getItems&quot; type=&quot;Items&quot;&gt;\r\n        &lt;id property=&quot;id&quot; column=&quot;ITEMS.id&quot;/&gt;\r\n        &lt;result property=&quot;description&quot; column=&quot;ITEMS.description&quot;/&gt;\r\n        &lt;collection property=&quot;tags&quot; javaType=&quot;ArrayList&quot; ofType=&quot;Tags&quot; resultMap=&quot;getTags&quot;/&gt;\r\n    &lt;/resultMap&gt;\r\n\r\n    &lt;resultMap id=&quot;getTags&quot; type=&quot;Tags&quot;&gt;\r\n       &lt;id property=&quot;id&quot; column=&quot;TAGS.id&quot;/&gt;\r\n       &lt;result property=&quot;item_id&quot; column=&quot;TAGS.item_id&quot;/&gt;\r\n       &lt;result property=&quot;tag&quot; column=&quot;TAGS.tag&quot;/&gt;\r\n    &lt;/resultMap&gt;\r\n\r\nTechnically, the set up works and returns an ObjectA containing a List of Items each containing a List of Tags. When there exists only one Tag per Items, the mapping is fine but when an Item contains multiple Tags, it creates multiple Items of the same ID each containing a List containing only one Tag from the result of the query.","title":"myBatis Many To Many Relationship","body":"<p>In relation to my previous question regarding Mappings in MyBatis, I am now encountering a problem when doing a Many-To-Many relationship</p>\n<p>I have the following objects</p>\n<p><em>I cannot post the actual object definition and XML due to privacy issues</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>class ObjectA {\n     List&lt;Items&gt; items;\n     List&lt;Products&gt; products;\n\n     //getters setters\n}\n\nclass Items {\n   int id;\n   String description;\n   List&lt;Tags&gt; tags;\n}\n\nclass Tags {\n    int id;\n    int item_id;\n    String tag;\n}\n</code></pre>\n<p>The SQL involves joining the Items table with Tags table <code>ON Tags.ITEM_ID = Items.ID</code></p>\n<p>Basically, it returns rows and maps them to this MyBatis</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;resultMap id=&quot;getObjectA&quot; type=&quot;ObjectA&quot;&gt;\n    &lt;collection property=&quot;items&quot; javaType=&quot;ArrayList&quot; ofType=&quot;Items&quot; resultMap=&quot;getItems&quot;/&gt;\n     \n     ...\n\n&lt;/resultMap&gt;\n\n&lt;resultMap=&quot;getItems&quot; type=&quot;Items&quot;&gt;\n    &lt;id property=&quot;id&quot; column=&quot;ITEMS.id&quot;/&gt;\n    &lt;result property=&quot;description&quot; column=&quot;ITEMS.description&quot;/&gt;\n    &lt;collection property=&quot;tags&quot; javaType=&quot;ArrayList&quot; ofType=&quot;Tags&quot; resultMap=&quot;getTags&quot;/&gt;\n&lt;/resultMap&gt;\n\n&lt;resultMap id=&quot;getTags&quot; type=&quot;Tags&quot;&gt;\n   &lt;id property=&quot;id&quot; column=&quot;TAGS.id&quot;/&gt;\n   &lt;result property=&quot;item_id&quot; column=&quot;TAGS.item_id&quot;/&gt;\n   &lt;result property=&quot;tag&quot; column=&quot;TAGS.tag&quot;/&gt;\n&lt;/resultMap&gt;\n</code></pre>\n<p>Technically, the set up works and returns an ObjectA containing a List of Items each containing a List of Tags. When there exists only one Tag per Items, the mapping is fine but when an Item contains multiple Tags, it creates multiple Items of the same ID each containing a List containing only one Tag from the result of the query.</p>\n"},{"tags":["java","mybatis"],"answers":[{"tags":[],"owner":{"account_id":9521240,"reputation":2034,"user_id":7076047,"display_name":"blackwizard"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673536805,"creation_date":1486639086,"answer_id":42135275,"question_id":42133637,"body_markdown":"Here is an object model I recommend:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    class Member {\r\n        Integer id;\r\n        String name;\r\n        List&lt;ClubRegistration&gt; clubRegistrations;\r\n    }\r\n\r\n    class Club {\r\n        Integer id;\r\n        String name;\r\n        List&lt;MemberRegistration&gt; memberRegistrations;\r\n    }\r\n\r\n    class ClubRegistration {\r\n        Club club;\r\n        Date date;\r\n    }\r\n\r\n    class MemberRegistration {\r\n        Member member;\r\n        Date date;\r\n    }\r\n\r\nSo that you can get data in both ways: member with its clubs or club with its members.\r\n\r\nThe SQL query:\r\n\r\n&lt;!-- language: lang-sql --&gt;\r\n\r\n    SELECT m.id AS memberId, m.name AS memberName, c.id AS clubId, c.name AS clubName, register_Date\r\n    FROM member m\r\n             INNER JOIN member_club mc ON m.id = mc.member_id\r\n             INNER JOIN club c ON mc.club_id = c.id\r\n    WHERE {what you want}\r\n\r\nResultMap for the case you ask:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;resultMap id=&quot;memberRM&quot; type=&quot;Member&quot;&gt;\r\n      &lt;id column=&quot;memberId&quot; property=&quot;id&quot;/&gt;\r\n      &lt;result column=&quot;memberName&quot; property=&quot;name&quot;/&gt;\r\n      &lt;collection property=&quot;clubRegistrations&quot; ofType=&quot;ClubRegistration&quot;&gt;\r\n        &lt;result column=&quot;register_Date&quot; property=&quot;date&quot; /&gt;\r\n        &lt;association property=&quot;club&quot; javaType=&quot;Club&quot;&gt;\r\n          &lt;id column=&quot;clubId&quot; property=&quot;id&quot;/&gt;\r\n          &lt;result column=&quot;clubName&quot; property=&quot;name&quot;/&gt;\r\n        &lt;/association&gt;\r\n      &lt;/collection&gt;\r\n    &lt;/resultMap&gt;\r\n\r\nJust swap Member/Club for the other case.\r\n\r\nYou should then even reference resultMap instead of nest define:    \r\n\r\n    &lt;association property=&quot;club&quot; resultMap=&quot;clubRM&quot; /&gt;\r\n\r\nAlthough I&#39;ve not checked it myself, [the circular reference issue that would arise is managed bay MyBatis](https://stackoverflow.com/a/10667427/7076047).","title":"Mybatis Many-to-Many best practice","body":"<p>Here is an object model I recommend:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Member {\n    Integer id;\n    String name;\n    List&lt;ClubRegistration&gt; clubRegistrations;\n}\n\nclass Club {\n    Integer id;\n    String name;\n    List&lt;MemberRegistration&gt; memberRegistrations;\n}\n\nclass ClubRegistration {\n    Club club;\n    Date date;\n}\n\nclass MemberRegistration {\n    Member member;\n    Date date;\n}\n</code></pre>\n<p>So that you can get data in both ways: member with its clubs or club with its members.</p>\n<p>The SQL query:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT m.id AS memberId, m.name AS memberName, c.id AS clubId, c.name AS clubName, register_Date\nFROM member m\n         INNER JOIN member_club mc ON m.id = mc.member_id\n         INNER JOIN club c ON mc.club_id = c.id\nWHERE {what you want}\n</code></pre>\n<p>ResultMap for the case you ask:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;resultMap id=&quot;memberRM&quot; type=&quot;Member&quot;&gt;\n  &lt;id column=&quot;memberId&quot; property=&quot;id&quot;/&gt;\n  &lt;result column=&quot;memberName&quot; property=&quot;name&quot;/&gt;\n  &lt;collection property=&quot;clubRegistrations&quot; ofType=&quot;ClubRegistration&quot;&gt;\n    &lt;result column=&quot;register_Date&quot; property=&quot;date&quot; /&gt;\n    &lt;association property=&quot;club&quot; javaType=&quot;Club&quot;&gt;\n      &lt;id column=&quot;clubId&quot; property=&quot;id&quot;/&gt;\n      &lt;result column=&quot;clubName&quot; property=&quot;name&quot;/&gt;\n    &lt;/association&gt;\n  &lt;/collection&gt;\n&lt;/resultMap&gt;\n</code></pre>\n<p>Just swap Member/Club for the other case.</p>\n<p>You should then even reference resultMap instead of nest define:</p>\n<pre><code>&lt;association property=&quot;club&quot; resultMap=&quot;clubRM&quot; /&gt;\n</code></pre>\n<p>Although I've not checked it myself, <a href=\"https://stackoverflow.com/a/10667427/7076047\">the circular reference issue that would arise is managed bay MyBatis</a>.</p>\n"}],"owner":{"account_id":8803379,"reputation":51,"user_id":6578822,"display_name":"Jackson Lei"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2801,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1673536805,"creation_date":1486634731,"question_id":42133637,"body_markdown":"Member table:  \r\n\r\n    id int  \r\n    name varchar\r\n\r\n  \r\nClub table:  \r\n\r\n    id int  \r\n    name varchar\r\n\r\nMember and Club index table:  \r\n\r\n    member_id int  \r\n    club_id int  \r\n    register_date timestamp  \r\n\r\nIf I want to query a member by `id` with clubs and the register time of each club, how should I design the POJO. Should I map the index table to an entity which contains the references of member and club? Or there is better practice?","title":"Mybatis Many-to-Many best practice","body":"<p>Member table:</p>\n<pre><code>id int  \nname varchar\n</code></pre>\n<p>Club table:</p>\n<pre><code>id int  \nname varchar\n</code></pre>\n<p>Member and Club index table:</p>\n<pre><code>member_id int  \nclub_id int  \nregister_date timestamp  \n</code></pre>\n<p>If I want to query a member by <code>id</code> with clubs and the register time of each club, how should I design the POJO. Should I map the index table to an entity which contains the references of member and club? Or there is better practice?</p>\n"},{"tags":["java","apache-kafka","google-bigquery","google-cloud-dataflow"],"answers":[{"tags":[],"owner":{"account_id":541415,"reputation":1277,"user_id":1260237,"accept_rate":80,"display_name":"Jeff Klukas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673446700,"creation_date":1673446700,"answer_id":75084469,"question_id":75082257,"body_markdown":"Some of the advice in [Side Input Patterns](https://beam.apache.org/documentation/patterns/side-inputs/) in the Beam Programming Guide may be helpful here, even though you aren&#39;t using this as a side input. In particular, that article discusses using GenerateSequence to periodically emit a value and trigger a read from a bounded source.\r\n\r\nThis could allow your one time query to become a repeated query that periodically emits new records. It will be up to your query logic to determine what range of the table to scan on each query, though, and I expect it will be difficult to avoid emitting duplicate records. Hopefully your use case can tolerate that.\r\n\r\nEmitting into the global window would look like:\r\n\r\n```\r\n    PCollectionView&lt;Map&lt;String, String&gt;&gt; map =\r\n        p.apply(GenerateSequence.from(0).withRate(1, Duration.standardSeconds(5L)))\r\n            .apply(Window.into(FixedWindows.of(Duration.standardSeconds(5))))\r\n            .apply(Sum.longsGlobally().withoutDefaults())\r\n            .apply(\r\n                ParDo.of(\r\n                    new DoFn&lt;Long, Map&lt;String, String&gt;&gt;() {\r\n\r\n                      @ProcessElement\r\n                      public void process(\r\n                          @Element Long input,\r\n                          @Timestamp Instant timestamp,\r\n                          OutputReceiver&lt;Map&lt;String, String&gt;&gt; o) {\r\n                        // Read from BigQuery here and for each row output a record:                      o.output(PlaceholderExternalService.readTestData(timestamp)\r\n);\r\n                      }\r\n                    }))\r\n            .apply(\r\n                Window.&lt;Map&lt;String, String&gt;&gt;into(new GlobalWindows())\r\n                    .triggering(Repeatedly.forever(AfterProcessingTime.pastFirstElementInPane()))\r\n                    .discardingFiredPanes())\r\n            .apply(View.asSingleton());\r\n```\r\n\r\nThis assumes that the size of the query result is relatively small, since the read happens entirely within a DoFn invocation.","title":"GCP - Bigquery to Kafka as streaming","body":"<p>Some of the advice in <a href=\"https://beam.apache.org/documentation/patterns/side-inputs/\" rel=\"nofollow noreferrer\">Side Input Patterns</a> in the Beam Programming Guide may be helpful here, even though you aren't using this as a side input. In particular, that article discusses using GenerateSequence to periodically emit a value and trigger a read from a bounded source.</p>\n<p>This could allow your one time query to become a repeated query that periodically emits new records. It will be up to your query logic to determine what range of the table to scan on each query, though, and I expect it will be difficult to avoid emitting duplicate records. Hopefully your use case can tolerate that.</p>\n<p>Emitting into the global window would look like:</p>\n<pre><code>    PCollectionView&lt;Map&lt;String, String&gt;&gt; map =\n        p.apply(GenerateSequence.from(0).withRate(1, Duration.standardSeconds(5L)))\n            .apply(Window.into(FixedWindows.of(Duration.standardSeconds(5))))\n            .apply(Sum.longsGlobally().withoutDefaults())\n            .apply(\n                ParDo.of(\n                    new DoFn&lt;Long, Map&lt;String, String&gt;&gt;() {\n\n                      @ProcessElement\n                      public void process(\n                          @Element Long input,\n                          @Timestamp Instant timestamp,\n                          OutputReceiver&lt;Map&lt;String, String&gt;&gt; o) {\n                        // Read from BigQuery here and for each row output a record:                      o.output(PlaceholderExternalService.readTestData(timestamp)\n);\n                      }\n                    }))\n            .apply(\n                Window.&lt;Map&lt;String, String&gt;&gt;into(new GlobalWindows())\n                    .triggering(Repeatedly.forever(AfterProcessingTime.pastFirstElementInPane()))\n                    .discardingFiredPanes())\n            .apply(View.asSingleton());\n</code></pre>\n<p>This assumes that the size of the query result is relatively small, since the read happens entirely within a DoFn invocation.</p>\n"}],"owner":{"account_id":165736,"reputation":1675,"user_id":389428,"accept_rate":48,"display_name":"Rakesh Sabbani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75084469,"answer_count":1,"score":0,"last_activity_date":1673536742,"creation_date":1673436211,"question_id":75082257,"body_markdown":"I have a dataflow application(java) which is  running in gcp and able to read the data from bigquery table and write to Kafka. But the application running as a batch mode, where as I would like make  application as stream to read the data continuously from bigquery table and write to kafka topic.\r\n\r\nBigquery Table: Partitioned table with insert_time ( timestamp of record inserted intable) and message column\r\n\r\n\r\n   \r\n\r\n     PCollection&lt;TableRow&gt; tablesRows = BigQueryUtil.readFromTable(pipeline,\r\n    &quot;select message,processed from `myprojectid.mydatasetname.mytablename` &quot; +\r\n                                &quot;where processed = false &quot; +\r\n                                &quot;order by insert_time desc &quot;)\r\n                                .apply(&quot;Windowing&quot;,Window.into(FixedWindows.of(Duration.standardMinutes(1))));\r\n    \r\n    .apply(&quot;Converting to writable message&quot;, ParDo.of(new ProcessRowDoFn()))\r\n        .apply(&quot;Writing Messages&quot;, KafkaIO.&lt;String, String&gt;write().\r\n                                withBootstrapServers(bootStrapURLs).\r\n                                withTopic(options.getKafkaInputTopics()).\r\n                                withKeySerializer(StringSerializer.class).\r\n                                withValueSerializer(StringSerializer.class).\r\n                                        withProducerFactoryFn(new ProducerFactoryFn(sslConfig, projected))\r\n                        );\r\n     pipeline.run();\r\n\r\n\r\nNote: I have tried below options but no luck yet\r\n\r\nOptions 1. I tried the options of options.streaming (true); its running as stream but it will finish on the first success write.\r\n\r\nOptions 2. Applied trigger \r\n\r\n    Window.into(\r\n                                FixedWindows.of(Duration.standardMinutes(5)))\r\n                        .triggering(\r\n                                AfterWatermark.pastEndOfWindow()\r\n                                        .withLateFirings(AfterPane.elementCountAtLeast(1)))\r\n                        .withAllowedLateness(Duration.standardDays(2))\r\n                        .accumulatingFiredPanes();\r\n\r\nOption 3. Making unbounded forcibly\r\n\r\n         WindowingStrategy&lt;?, ?&gt; windowingStrategy = tablesRows.setIsBoundedInternal(PCollection.IsBounded.UNBOUNDED).getWindowingStrategy();\r\n    .apply(&quot;Converting to writable message&quot;, ParDo.of(new ProcessRowDoFn())).setIsBoundedInternal(PCollection.IsBounded.UNBOUNDED)\r\n\r\n\r\n\r\nAny solution is appreciated. ","title":"GCP - Bigquery to Kafka as streaming","body":"<p>I have a dataflow application(java) which is  running in gcp and able to read the data from bigquery table and write to Kafka. But the application running as a batch mode, where as I would like make  application as stream to read the data continuously from bigquery table and write to kafka topic.</p>\n<p>Bigquery Table: Partitioned table with insert_time ( timestamp of record inserted intable) and message column</p>\n<pre><code> PCollection&lt;TableRow&gt; tablesRows = BigQueryUtil.readFromTable(pipeline,\n&quot;select message,processed from `myprojectid.mydatasetname.mytablename` &quot; +\n                            &quot;where processed = false &quot; +\n                            &quot;order by insert_time desc &quot;)\n                            .apply(&quot;Windowing&quot;,Window.into(FixedWindows.of(Duration.standardMinutes(1))));\n\n.apply(&quot;Converting to writable message&quot;, ParDo.of(new ProcessRowDoFn()))\n    .apply(&quot;Writing Messages&quot;, KafkaIO.&lt;String, String&gt;write().\n                            withBootstrapServers(bootStrapURLs).\n                            withTopic(options.getKafkaInputTopics()).\n                            withKeySerializer(StringSerializer.class).\n                            withValueSerializer(StringSerializer.class).\n                                    withProducerFactoryFn(new ProducerFactoryFn(sslConfig, projected))\n                    );\n pipeline.run();\n</code></pre>\n<p>Note: I have tried below options but no luck yet</p>\n<p>Options 1. I tried the options of options.streaming (true); its running as stream but it will finish on the first success write.</p>\n<p>Options 2. Applied trigger</p>\n<pre><code>Window.into(\n                            FixedWindows.of(Duration.standardMinutes(5)))\n                    .triggering(\n                            AfterWatermark.pastEndOfWindow()\n                                    .withLateFirings(AfterPane.elementCountAtLeast(1)))\n                    .withAllowedLateness(Duration.standardDays(2))\n                    .accumulatingFiredPanes();\n</code></pre>\n<p>Option 3. Making unbounded forcibly</p>\n<pre><code>     WindowingStrategy&lt;?, ?&gt; windowingStrategy = tablesRows.setIsBoundedInternal(PCollection.IsBounded.UNBOUNDED).getWindowingStrategy();\n.apply(&quot;Converting to writable message&quot;, ParDo.of(new ProcessRowDoFn())).setIsBoundedInternal(PCollection.IsBounded.UNBOUNDED)\n</code></pre>\n<p>Any solution is appreciated.</p>\n"},{"tags":["java","cloud","fix-protocol"],"comments":[{"owner":{"account_id":6398908,"reputation":3023,"user_id":4962355,"display_name":"Christoph John"},"score":0,"creation_date":1673532210,"post_id":75087331,"comment_id":132523929,"body_markdown":"You could either implement a NullLog or use a MemoryStore. If you are using QFJ.","body":"You could either implement a NullLog or use a MemoryStore. If you are using QFJ."},{"owner":{"account_id":9690916,"reputation":105,"user_id":7189021,"accept_rate":60,"display_name":"sr123"},"score":0,"creation_date":1673603574,"post_id":75087331,"comment_id":132541086,"body_markdown":"Thank you John, yes it&#39;s all good with MemoryStroe","body":"Thank you John, yes it&#39;s all good with MemoryStroe"}],"answers":[{"tags":[],"owner":{"account_id":8082,"reputation":1228,"user_id":14338,"display_name":"Andy Lynch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673473331,"creation_date":1673473331,"answer_id":75089290,"question_id":75087331,"body_markdown":"This is really difficult to answer well without knowing which FIX engine you are using, but generally speaking, you might well be able to configure its logging facility to not write to a file, but instead to a database, socket, or whatever you want (for example by configuring [Appenders][1] in Log4J).  \r\n\r\nIf you happen to be using QuickFIX/J, it can be made to do this as documented at https://quickfixj.org/wiki/display/qfj/QuickFIXJ+Logging, since can be bound to Log4J (or many other) logging backends at deploy time.\r\n\r\n\r\n  [1]: https://logging.apache.org/log4j/2.x/manual/appenders.html","title":"How to avoid storeFactory for FIX messages using QuickFix","body":"<p>This is really difficult to answer well without knowing which FIX engine you are using, but generally speaking, you might well be able to configure its logging facility to not write to a file, but instead to a database, socket, or whatever you want (for example by configuring <a href=\"https://logging.apache.org/log4j/2.x/manual/appenders.html\" rel=\"nofollow noreferrer\">Appenders</a> in Log4J).</p>\n<p>If you happen to be using QuickFIX/J, it can be made to do this as documented at <a href=\"https://quickfixj.org/wiki/display/qfj/QuickFIXJ+Logging\" rel=\"nofollow noreferrer\">https://quickfixj.org/wiki/display/qfj/QuickFIXJ+Logging</a>, since can be bound to Log4J (or many other) logging backends at deploy time.</p>\n"},{"tags":[],"owner":{"account_id":327857,"reputation":18034,"user_id":650475,"accept_rate":96,"display_name":"Grant Birchmeier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673536613,"creation_date":1673536613,"answer_id":75098541,"question_id":75087331,"body_markdown":"All the QuickFIX ports have a MemoryStoreFactory, which is an entirely-in-memory store.  Just use that.","title":"How to avoid storeFactory for FIX messages using QuickFix","body":"<p>All the QuickFIX ports have a MemoryStoreFactory, which is an entirely-in-memory store.  Just use that.</p>\n"}],"owner":{"account_id":9690916,"reputation":105,"user_id":7189021,"accept_rate":60,"display_name":"sr123"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75098541,"answer_count":2,"score":0,"last_activity_date":1673536613,"creation_date":1673460476,"question_id":75087331,"body_markdown":"is it possible to avoid the creation of MessageStoreFactory while creating a quickFix session i mean when I create the socket initiator instance ?\r\n\r\nAny solution please ?\r\n","title":"How to avoid storeFactory for FIX messages using QuickFix","body":"<p>is it possible to avoid the creation of MessageStoreFactory while creating a quickFix session i mean when I create the socket initiator instance ?</p>\n<p>Any solution please ?</p>\n"},{"tags":["java","mysql","web-applications","many-to-many","mybatis"],"answers":[{"tags":[],"owner":{"account_id":3078368,"reputation":1,"user_id":2607190,"display_name":"user2607190"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1388764300,"creation_date":1388764300,"answer_id":20907543,"question_id":20657566,"body_markdown":"Have a look at the Nested Resultmaps section in the doc. \r\n\r\nThat should be achieved with a result map like \r\n\r\n    &lt;resultMap id=&quot;xx&quot; type=&quot;map&quot;&gt; \r\n        &lt;association id=&quot;key1&quot; javaType=&quot;bean1&quot; /&gt; \r\n        &lt;collection id=&quot;key2&quot; ofType=&quot;bean2&quot; /&gt; \r\n    &lt;/resultMap&gt; ","title":"How to implement ManyToMany relationship in MyBatis?","body":"<p>Have a look at the Nested Resultmaps section in the doc. </p>\n\n<p>That should be achieved with a result map like </p>\n\n<pre><code>&lt;resultMap id=\"xx\" type=\"map\"&gt; \n    &lt;association id=\"key1\" javaType=\"bean1\" /&gt; \n    &lt;collection id=\"key2\" ofType=\"bean2\" /&gt; \n&lt;/resultMap&gt; \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2537085,"reputation":6205,"user_id":2203890,"display_name":"Edd&#250; Mel&#233;ndez"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1389928968,"creation_date":1389928968,"answer_id":21177246,"question_id":20657566,"body_markdown":"You can take a look in my [repository][1] There are an example.\r\n\r\n\r\n  [1]: https://github.com/eddumelendez/spring-dataaccess/tree/master/spring-dataaccess-mybatis","title":"How to implement ManyToMany relationship in MyBatis?","body":"<p>You can take a look in my <a href=\"https://github.com/eddumelendez/spring-dataaccess/tree/master/spring-dataaccess-mybatis\" rel=\"nofollow\">repository</a> There are an example.</p>\n"},{"tags":[],"owner":{"account_id":1289221,"reputation":464,"user_id":1241648,"accept_rate":33,"display_name":"君主不是你"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673536593,"creation_date":1466529953,"answer_id":37950834,"question_id":20657566,"body_markdown":"\r\n## User story\r\n\r\nFirst, MyBatis generate model, mapper, and `mapper.xml` for you.\r\n\r\nNow, if you have two models -- User &amp; Role \\\r\nWhat&#39;s the relationship between User and Role?\r\n\r\n\r\nA user have many roles, and a role can be authorized to many users.\r\nSo they are `many-to-many` relationship.\r\n\r\n## How to implement?\r\n- add List&lt;Role&gt; roles to User model \r\n\r\n        private List&lt;Role&gt; roles = new ArrayList&lt;&gt;();\r\n\r\n\r\n- add List&lt;User&gt; users to Role model\r\n\r\n        private List&lt;User&gt; users = new ArrayList&lt;&gt;();\r\n\r\n\r\n- make a UserRoleMapper interface to add some methods\r\n        \r\n    &lt;!-- language: lang-java --&gt;\r\n\r\n        package com.jim.mapper;\r\n\r\n        import com.jim.model.Role;\r\n        import com.jim.model.User;\r\n\r\n        import java.util.List;\r\n\r\n        public interface UserRoleMapper {\r\n            int deleteRole(long userId, long roleId);\r\n            int addRole(long userId, long roleId);\r\n            List&lt;Role&gt; getRoles(long userId);\r\n            List&lt;User&gt; getUsers(long roleId);\r\n        }\r\n\r\n\r\n- add a xml to mapping SQL &amp; result.\r\n\r\n    &lt;!-- language: lang-xml --&gt;\r\n\r\n        &lt;resultMap id=&quot;UserResultMap&quot; type=&quot;com.jim.model.Role&quot;&gt;\r\n            &lt;id column=&quot;id&quot; jdbcType=&quot;INTEGER&quot; property=&quot;id&quot;/&gt;\r\n            &lt;result column=&quot;name&quot; jdbcType=&quot;VARCHAR&quot; property=&quot;name&quot;/&gt;\r\n            &lt;collection javaType=&quot;ArrayList&quot; property=&quot;users&quot; resultMap=&quot;RoleResultMap&quot; /&gt;\r\n        &lt;/resultMap&gt;\r\n\r\n        &lt;resultMap id=&quot;RoleResultMap&quot; type=&quot;com.jim.model.User&quot;&gt;\r\n            &lt;id column=&quot;id&quot; jdbcType=&quot;BIGINT&quot; property=&quot;id&quot;/&gt;\r\n            &lt;result column=&quot;username&quot; jdbcType=&quot;VARCHAR&quot; property=&quot;username&quot;/&gt;\r\n            &lt;collection javaType=&quot;ArrayList&quot; property=&quot;roles&quot; resultMap=&quot;UserResultMap&quot; /&gt;\r\n        &lt;/resultMap&gt;\r\n\r\n        &lt;insert id=&quot;addRole&quot;&gt;\r\n            INSERT INTO user_role (userId, roleId)\r\n            VALUES (#{userId, jdbcType=BIGINT}, #{roleId, jdbcType=BIGINT});\r\n        &lt;/insert&gt;\r\n        &lt;delete id=&quot;deleteRole&quot; &gt;\r\n            DELETE FROM user_role\r\n            WHERE 1=1\r\n            AND userId=#{userId}\r\n            AND roleId=#{roleId}\r\n        &lt;/delete&gt;\r\n\r\n        &lt;select id=&quot;getRoles&quot; resultMap=&quot;UserResultMap&quot;&gt;\r\n            SELECT\r\n            r.id AS id, r.name AS name\r\n            FROM users AS  u\r\n            LEFT JOIN user_role AS ur ON u.id = ur.userId\r\n            LEFT JOIN roles AS r ON r.id = ur.roleId\r\n            WHERE 1=1\r\n              AND u.id = #{id,jdbcType=BIGINT}\r\n              AND r.isActive = 1\r\n              AND u.isActive = 1\r\n        &lt;/select&gt;\r\n\r\n        &lt;select id=&quot;getUsers&quot; resultMap=&quot;RoleResultMap&quot;&gt;\r\n            SELECT\r\n            u.id AS id, u.username AS username\r\n            FROM roles AS  r\r\n            LEFT JOIN user_role AS ur ON r.id = ur.roleId\r\n            LEFT JOIN users AS u ON u.id = ur.userId\r\n            WHERE 1=1\r\n            AND r.id = #{id,jdbcType=BIGINT}\r\n            AND r.isActive = 1\r\n            AND u.isActive = 1\r\n        &lt;/select&gt;\r\n\r\n\r\n\r\n","title":"How to implement ManyToMany relationship in MyBatis?","body":"<h2>User story</h2>\n<p>First, MyBatis generate model, mapper, and <code>mapper.xml</code> for you.</p>\n<p>Now, if you have two models -- User &amp; Role <br />\nWhat's the relationship between User and Role?</p>\n<p>A user have many roles, and a role can be authorized to many users.\nSo they are <code>many-to-many</code> relationship.</p>\n<h2>How to implement?</h2>\n<ul>\n<li><p>add List roles to User model</p>\n<pre><code>  private List&lt;Role&gt; roles = new ArrayList&lt;&gt;();\n</code></pre>\n</li>\n<li><p>add List users to Role model</p>\n<pre><code>  private List&lt;User&gt; users = new ArrayList&lt;&gt;();\n</code></pre>\n</li>\n<li><p>make a UserRoleMapper interface to add some methods</p>\n  <pre class=\"lang-java prettyprint-override\"><code>  package com.jim.mapper;\n\n  import com.jim.model.Role;\n  import com.jim.model.User;\n\n  import java.util.List;\n\n  public interface UserRoleMapper {\n      int deleteRole(long userId, long roleId);\n      int addRole(long userId, long roleId);\n      List&lt;Role&gt; getRoles(long userId);\n      List&lt;User&gt; getUsers(long roleId);\n  }\n</code></pre>\n</li>\n<li><p>add a xml to mapping SQL &amp; result.</p>\n  <pre class=\"lang-xml prettyprint-override\"><code>  &lt;resultMap id=&quot;UserResultMap&quot; type=&quot;com.jim.model.Role&quot;&gt;\n      &lt;id column=&quot;id&quot; jdbcType=&quot;INTEGER&quot; property=&quot;id&quot;/&gt;\n      &lt;result column=&quot;name&quot; jdbcType=&quot;VARCHAR&quot; property=&quot;name&quot;/&gt;\n      &lt;collection javaType=&quot;ArrayList&quot; property=&quot;users&quot; resultMap=&quot;RoleResultMap&quot; /&gt;\n  &lt;/resultMap&gt;\n\n  &lt;resultMap id=&quot;RoleResultMap&quot; type=&quot;com.jim.model.User&quot;&gt;\n      &lt;id column=&quot;id&quot; jdbcType=&quot;BIGINT&quot; property=&quot;id&quot;/&gt;\n      &lt;result column=&quot;username&quot; jdbcType=&quot;VARCHAR&quot; property=&quot;username&quot;/&gt;\n      &lt;collection javaType=&quot;ArrayList&quot; property=&quot;roles&quot; resultMap=&quot;UserResultMap&quot; /&gt;\n  &lt;/resultMap&gt;\n\n  &lt;insert id=&quot;addRole&quot;&gt;\n      INSERT INTO user_role (userId, roleId)\n      VALUES (#{userId, jdbcType=BIGINT}, #{roleId, jdbcType=BIGINT});\n  &lt;/insert&gt;\n  &lt;delete id=&quot;deleteRole&quot; &gt;\n      DELETE FROM user_role\n      WHERE 1=1\n      AND userId=#{userId}\n      AND roleId=#{roleId}\n  &lt;/delete&gt;\n\n  &lt;select id=&quot;getRoles&quot; resultMap=&quot;UserResultMap&quot;&gt;\n      SELECT\n      r.id AS id, r.name AS name\n      FROM users AS  u\n      LEFT JOIN user_role AS ur ON u.id = ur.userId\n      LEFT JOIN roles AS r ON r.id = ur.roleId\n      WHERE 1=1\n        AND u.id = #{id,jdbcType=BIGINT}\n        AND r.isActive = 1\n        AND u.isActive = 1\n  &lt;/select&gt;\n\n  &lt;select id=&quot;getUsers&quot; resultMap=&quot;RoleResultMap&quot;&gt;\n      SELECT\n      u.id AS id, u.username AS username\n      FROM roles AS  r\n      LEFT JOIN user_role AS ur ON r.id = ur.roleId\n      LEFT JOIN users AS u ON u.id = ur.userId\n      WHERE 1=1\n      AND r.id = #{id,jdbcType=BIGINT}\n      AND r.isActive = 1\n      AND u.isActive = 1\n  &lt;/select&gt;\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":462844,"reputation":129,"user_id":865376,"display_name":"Yichao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9336,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":3,"score":4,"last_activity_date":1673536593,"creation_date":1387367832,"question_id":20657566,"body_markdown":"I&#39;m recently learning to develop Web Applications using Java frameworks.  \r\n\r\nThe application is just a basic register/login/logout system. Guests can register an account and login as a `common user`. Besides `common user`, there&#39;re two other roles `super admin` and `admin`, with their respective permissions/previleges. \r\n\r\nAn `Account` could own several `Role`s simultaneously, and of course a `Role` can be applied to many `Account`s. And that forms a many-to-many(or n-to-to) relationship between `Account` and `Role`.\r\n\r\nI&#39;ve maintained three tables in my database:\r\n\r\n* First, the `ACCOUNT` table, which stores information of an account except the account&#39;s roles;\r\n* Second, the `ROLE` table, which stores information about how many `Role`s there are. Currently, there are only three, &quot;Superuser&quot;, &quot;Admin&quot; and &quot;Common User&quot;;\r\n* Third one, the `ACCOUNT_ROLE` table, which stores the mapping between `ACCOUNT` and `ROLE`.\r\n\r\nI can implement this using Hibernate&#39;s `@ManyToMany` and `@JoinTable` annotations, if I do so, **the third table can be automatically managed by Hibernate**. For example, when I create an `Account` of `Common User`, hibernate will help me add an entry which contains the `AccountId` and `RoleId` into the third table; and when I delete this `Account`, hibernate will help me drop the corresponding entry in the third table.\r\n\r\nAnd, the question is **How can I implement this many-to-many relationship in MyBatis?**\r\n\r\nI&#39;ve read some materials introducing how to set up `one-to-one` or `one-to-many` relationship in MyBatis. But it seems that MyBatis doesn&#39;t have the `many-to-many` relationship like Hibernate. So what am I gonna do?\r\n\r\nMy raw idea is *Manage The Third Table Manually*, which means:\r\n\r\n* I have to add entries to the third table manually, when I create a new account\r\n* I have to remove/update corresponding entries manually, when I delete/update an account\r\n\r\nSince I&#39;m not really that familiar with MyBatis, this way is the only idea I can come up with now.\r\n\r\nI hope someone could give me some tips or ideas or concrete samples about rounding off this problem.\r\n\r\n*PLUS*: I&#39;ve the demo application&#39;s code on [github](https://github.com/YigWoo/user-manage), in case you need to see how this demo goes.\r\nMany thanks!","title":"How to implement ManyToMany relationship in MyBatis?","body":"<p>I'm recently learning to develop Web Applications using Java frameworks.  </p>\n\n<p>The application is just a basic register/login/logout system. Guests can register an account and login as a <code>common user</code>. Besides <code>common user</code>, there're two other roles <code>super admin</code> and <code>admin</code>, with their respective permissions/previleges. </p>\n\n<p>An <code>Account</code> could own several <code>Role</code>s simultaneously, and of course a <code>Role</code> can be applied to many <code>Account</code>s. And that forms a many-to-many(or n-to-to) relationship between <code>Account</code> and <code>Role</code>.</p>\n\n<p>I've maintained three tables in my database:</p>\n\n<ul>\n<li>First, the <code>ACCOUNT</code> table, which stores information of an account except the account's roles;</li>\n<li>Second, the <code>ROLE</code> table, which stores information about how many <code>Role</code>s there are. Currently, there are only three, \"Superuser\", \"Admin\" and \"Common User\";</li>\n<li>Third one, the <code>ACCOUNT_ROLE</code> table, which stores the mapping between <code>ACCOUNT</code> and <code>ROLE</code>.</li>\n</ul>\n\n<p>I can implement this using Hibernate's <code>@ManyToMany</code> and <code>@JoinTable</code> annotations, if I do so, <strong>the third table can be automatically managed by Hibernate</strong>. For example, when I create an <code>Account</code> of <code>Common User</code>, hibernate will help me add an entry which contains the <code>AccountId</code> and <code>RoleId</code> into the third table; and when I delete this <code>Account</code>, hibernate will help me drop the corresponding entry in the third table.</p>\n\n<p>And, the question is <strong>How can I implement this many-to-many relationship in MyBatis?</strong></p>\n\n<p>I've read some materials introducing how to set up <code>one-to-one</code> or <code>one-to-many</code> relationship in MyBatis. But it seems that MyBatis doesn't have the <code>many-to-many</code> relationship like Hibernate. So what am I gonna do?</p>\n\n<p>My raw idea is <em>Manage The Third Table Manually</em>, which means:</p>\n\n<ul>\n<li>I have to add entries to the third table manually, when I create a new account</li>\n<li>I have to remove/update corresponding entries manually, when I delete/update an account</li>\n</ul>\n\n<p>Since I'm not really that familiar with MyBatis, this way is the only idea I can come up with now.</p>\n\n<p>I hope someone could give me some tips or ideas or concrete samples about rounding off this problem.</p>\n\n<p><em>PLUS</em>: I've the demo application's code on <a href=\"https://github.com/YigWoo/user-manage\" rel=\"nofollow\">github</a>, in case you need to see how this demo goes.\nMany thanks!</p>\n"},{"tags":["java","android","xml","android-studio","layout-inflater"],"answers":[{"tags":[],"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673536537,"creation_date":1673533728,"answer_id":75097845,"question_id":75097773,"body_markdown":"In simple words: `LayoutInflater` helps you to &quot;exchange&quot; layout written in XML to code, its kind of parser which take XML input and creates proper `View`s using `Context` (some simple way of `new View` object creation in first code line in your question).\r\n\r\n`Activity` does that under the hood giving us devs simple `setContentView` and `findViewById` methods, but you may also want to add some custom `View` defined in XML additionally (because some `if`) or doring runtime, then you can use `LayoutInflater` based on same `Context` which views already created/shown are using (e.g. `Activity` itself).\r\n\r\nNote that when you use `setContentView` then `LayoutInflater` will attach some XML-based `View`s to `Activity`, so further line\r\n\r\n    view = findViewById(R.id.textView)\r\n\r\nwill return reference to already inflated existing `View`, meanwhile\r\n\r\n    view = new View(context)\r\n\r\nis just creating some dummy `View` in memory using context, it isn&#39;t added to `Activity`, `Fragment`, any shown `ViewGroup`, thus is not even visible (and its not same `view` instance than one found with `findViewById`).","title":"LayoutInflater how excatly make the new View","body":"<p>In simple words: <code>LayoutInflater</code> helps you to &quot;exchange&quot; layout written in XML to code, its kind of parser which take XML input and creates proper <code>View</code>s using <code>Context</code> (some simple way of <code>new View</code> object creation in first code line in your question).</p>\n<p><code>Activity</code> does that under the hood giving us devs simple <code>setContentView</code> and <code>findViewById</code> methods, but you may also want to add some custom <code>View</code> defined in XML additionally (because some <code>if</code>) or doring runtime, then you can use <code>LayoutInflater</code> based on same <code>Context</code> which views already created/shown are using (e.g. <code>Activity</code> itself).</p>\n<p>Note that when you use <code>setContentView</code> then <code>LayoutInflater</code> will attach some XML-based <code>View</code>s to <code>Activity</code>, so further line</p>\n<pre><code>view = findViewById(R.id.textView)\n</code></pre>\n<p>will return reference to already inflated existing <code>View</code>, meanwhile</p>\n<pre><code>view = new View(context)\n</code></pre>\n<p>is just creating some dummy <code>View</code> in memory using context, it isn't added to <code>Activity</code>, <code>Fragment</code>, any shown <code>ViewGroup</code>, thus is not even visible (and its not same <code>view</code> instance than one found with <code>findViewById</code>).</p>\n"}],"owner":{"account_id":22324320,"reputation":13,"user_id":16546524,"display_name":"Osin94"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75097845,"answer_count":1,"score":0,"last_activity_date":1673536537,"creation_date":1673533405,"question_id":75097773,"body_markdown":"I&#39;ve read one of answers [here](https://stackoverflow.com/questions/3477422/what-does-layoutinflater-in-android-do), and I am still confused.\r\n\r\n&quot;&quot;When I first started Android programming, I was really confused by LayoutInflater and findViewById. Sometimes we used one and sometimes the other.\r\n\r\nLayoutInflater is used to create a new View (or Layout) object from one of your xml layouts.\r\n\r\nfindViewById just gives you a reference to a view than has already been created. You might think that you haven&#39;t created any views yet, but whenever you call setContentView in onCreate, the activity&#39;s layout along with its subviews gets inflated (created) behind the scenes.&quot;\r\n\r\nI think I understand so when LayoutInflater creat a new object View, why we can&#39;t just do this:\r\n\r\n`view = new View(context); `\r\n\r\n` view = findViewById(R.id.textView);`\r\n\r\nI missed something ? Thank you for anwsere.\r\n\r\nI tried to undestrand way of working LayOutInflater","title":"LayoutInflater how excatly make the new View","body":"<p>I've read one of answers <a href=\"https://stackoverflow.com/questions/3477422/what-does-layoutinflater-in-android-do\">here</a>, and I am still confused.</p>\n<p>&quot;&quot;When I first started Android programming, I was really confused by LayoutInflater and findViewById. Sometimes we used one and sometimes the other.</p>\n<p>LayoutInflater is used to create a new View (or Layout) object from one of your xml layouts.</p>\n<p>findViewById just gives you a reference to a view than has already been created. You might think that you haven't created any views yet, but whenever you call setContentView in onCreate, the activity's layout along with its subviews gets inflated (created) behind the scenes.&quot;</p>\n<p>I think I understand so when LayoutInflater creat a new object View, why we can't just do this:</p>\n<p><code>view = new View(context); </code></p>\n<p><code> view = findViewById(R.id.textView);</code></p>\n<p>I missed something ? Thank you for anwsere.</p>\n<p>I tried to undestrand way of working LayOutInflater</p>\n"},{"tags":["java","regex","internationalization"],"comments":[{"owner":{"account_id":4301442,"reputation":555,"user_id":3515080,"accept_rate":50,"display_name":"user3515080"},"score":0,"creation_date":1397046098,"post_id":22961593,"comment_id":35059803,"body_markdown":"boolean result = Pattern.matches(&quot;\\\\p{IsHangul}{10,20}&quot;, &quot;김인재&quot;);","body":"boolean result = Pattern.matches(&quot;\\\\p{IsHangul}{10,20}&quot;, &quot;김인재&quot;);"}],"answers":[{"tags":[],"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1673536490,"creation_date":1397044711,"answer_id":22961817,"question_id":22961593,"body_markdown":"You can reference a Unicode block or a script for that. \r\n\r\nHere&#39;s an example with a script:\r\n\r\n    Pattern p = Pattern.compile(&quot;\\\\p{IsHangul}&quot;);\r\n    Matcher m = p.matcher(&quot;김인재&quot;);\r\n    while (m.find()) {\r\n        System.out.println(&quot;Found: &quot; + m.group());\r\n    }\r\n\r\n**Output**\r\n\r\n    Found: 김\r\n    Found: 인\r\n    Found: 재\r\n\r\n**Notes**\r\n\r\n - For a reference on Unicode blocks, see [here][1].\r\n - For a reference on Korean machine characters see [here][2]. \r\n - To validate a range of numbers of characters, use: `Pattern p = Pattern.compile(&quot;\\\\p{IsHangul}{min,max}&quot;);` where `min` is your minimum size and `max` is your maximum size of Hangul characters.\r\n - The code you posted as a comment to your question will not work (although it will compile). Please find a reference on how to use Java `Pattern`s / `Matcher`s [here][3]. \r\n\r\n\r\n----------\r\n\r\n\r\n**Caveat** for legacy Android versions (9 or lower)\r\n- It seems this methodoogy will not work with Android &lt; 10 and may even crash the runtime. \r\n- Will not test or add an alternative here\r\n- The specific rationale may be buried somewhere [here][4] or in linked pages\r\n- Credits to [NoHarmDan][5] for the heads up\r\n\r\n\r\n  [1]: http://www.fileformat.info/info/unicode/block/index.htm\r\n  [2]: http://en.wikipedia.org/wiki/Korean_language_and_computers\r\n  [3]: http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html\r\n  [4]: https://developer.android.com/reference/java/util/regex/Pattern#behavior-starting-from-api-level-10-android-2.3\r\n  [5]: https://stackoverflow.com/users/4588511/noharmdan","title":"How to validate &quot;Hangul-Korean&quot; text?","body":"<p>You can reference a Unicode block or a script for that.</p>\n<p>Here's an example with a script:</p>\n<pre><code>Pattern p = Pattern.compile(&quot;\\\\p{IsHangul}&quot;);\nMatcher m = p.matcher(&quot;김인재&quot;);\nwhile (m.find()) {\n    System.out.println(&quot;Found: &quot; + m.group());\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>Found: 김\nFound: 인\nFound: 재\n</code></pre>\n<p><strong>Notes</strong></p>\n<ul>\n<li>For a reference on Unicode blocks, see <a href=\"http://www.fileformat.info/info/unicode/block/index.htm\" rel=\"nofollow noreferrer\">here</a>.</li>\n<li>For a reference on Korean machine characters see <a href=\"http://en.wikipedia.org/wiki/Korean_language_and_computers\" rel=\"nofollow noreferrer\">here</a>.</li>\n<li>To validate a range of numbers of characters, use: <code>Pattern p = Pattern.compile(&quot;\\\\p{IsHangul}{min,max}&quot;);</code> where <code>min</code> is your minimum size and <code>max</code> is your maximum size of Hangul characters.</li>\n<li>The code you posted as a comment to your question will not work (although it will compile). Please find a reference on how to use Java <code>Pattern</code>s / <code>Matcher</code>s <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">here</a>.</li>\n</ul>\n<hr />\n<p><strong>Caveat</strong> for legacy Android versions (9 or lower)</p>\n<ul>\n<li>It seems this methodoogy will not work with Android &lt; 10 and may even crash the runtime.</li>\n<li>Will not test or add an alternative here</li>\n<li>The specific rationale may be buried somewhere <a href=\"https://developer.android.com/reference/java/util/regex/Pattern#behavior-starting-from-api-level-10-android-2.3\" rel=\"nofollow noreferrer\">here</a> or in linked pages</li>\n<li>Credits to <a href=\"https://stackoverflow.com/users/4588511/noharmdan\">NoHarmDan</a> for the heads up</li>\n</ul>\n"}],"owner":{"account_id":4301442,"reputation":555,"user_id":3515080,"accept_rate":50,"display_name":"user3515080"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3720,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":22961817,"answer_count":1,"score":6,"last_activity_date":1673536490,"creation_date":1397044135,"question_id":22961593,"body_markdown":"I want to validate a &quot;Hangul-Korean&quot; text in java.\r\n\r\nI will be having the &quot;Korean&quot; text in the &quot;String&quot; and calling &quot;matches()&quot; i will be validating the string.\r\n\r\nThe regular expression is to test whether that text is &quot;Korean&quot; and that Korean string characters length is in some range like 10 to 20.\r\n\r\nI don&#39;t want to use any other third party solutions.\r\n\r\nThanks in advance.","title":"How to validate &quot;Hangul-Korean&quot; text?","body":"<p>I want to validate a \"Hangul-Korean\" text in java.</p>\n\n<p>I will be having the \"Korean\" text in the \"String\" and calling \"matches()\" i will be validating the string.</p>\n\n<p>The regular expression is to test whether that text is \"Korean\" and that Korean string characters length is in some range like 10 to 20.</p>\n\n<p>I don't want to use any other third party solutions.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","elasticsearch","spring-data","spring-data-elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673536227,"creation_date":1673536227,"answer_id":75098457,"question_id":75097890,"body_markdown":"When you add a new field to sort on, the mapping in Elasticsearch for the index needs to be updated, otherwise Elasticsearch what type this field has. Spring Data Elasticsearch repositories do not do an automatic update of the mapping.\r\n\r\nThe following is a way to check if the mapping of a class (in this example named `Foo`) needs an update:\r\n\r\n```java\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.data.elasticsearch.core.ElasticsearchOperations;\r\nimport org.springframework.data.elasticsearch.core.document.Document;\r\nimport org.springframework.stereotype.Component;\r\n\r\n/**\r\n * @author P.J. Meisch (pj.meisch@sothawo.com)\r\n */\r\n@Component\r\npublic class FooMappingValidator {\r\n\r\n\tprivate static final Logger LOGGER = LoggerFactory.getLogger(FooMappingValidator.class);\r\n\r\n\tprivate final ObjectMapper objectMapper = new ObjectMapper();\r\n\tprivate final ElasticsearchOperations operations;\r\n\r\n\tpublic FooMappingValidator(ElasticsearchOperations operations) {\r\n\t\tthis.operations = operations;\r\n\t}\r\n\r\n\t@Autowired\r\n\tpublic void checkFooMapping() {\r\n\r\n\t\tvar indexOperations = operations.indexOps(Foo.class);\r\n\r\n\t\tif (indexOperations.exists()) {\r\n\t\t\tLOGGER.info(&quot;checking if mapping for Foo changed&quot;);\r\n\r\n\t\t\tvar mappingFromEntity = indexOperations.createMapping();\r\n\t\t\tvar mappingFromEntityNode = objectMapper.valueToTree(mappingFromEntity);\r\n\t\t\tvar mappingFromIndexNode = objectMapper.valueToTree(indexOperations.getMapping());\r\n\r\n\t\t\tif (!mappingFromEntityNode.equals(mappingFromIndexNode)) {\r\n\t\t\t\tLOGGER.info(&quot;mapping for class Foo changed!&quot;);\r\n\t\t\t\tindexOperations.putMapping(mappingFromEntity);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n```","title":"How to sort on newly added field with spring-data elasticsearch?","body":"<p>When you add a new field to sort on, the mapping in Elasticsearch for the index needs to be updated, otherwise Elasticsearch what type this field has. Spring Data Elasticsearch repositories do not do an automatic update of the mapping.</p>\n<p>The following is a way to check if the mapping of a class (in this example named <code>Foo</code>) needs an update:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.databind.ObjectMapper;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.data.elasticsearch.core.ElasticsearchOperations;\nimport org.springframework.data.elasticsearch.core.document.Document;\nimport org.springframework.stereotype.Component;\n\n/**\n * @author P.J. Meisch (pj.meisch@sothawo.com)\n */\n@Component\npublic class FooMappingValidator {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(FooMappingValidator.class);\n\n    private final ObjectMapper objectMapper = new ObjectMapper();\n    private final ElasticsearchOperations operations;\n\n    public FooMappingValidator(ElasticsearchOperations operations) {\n        this.operations = operations;\n    }\n\n    @Autowired\n    public void checkFooMapping() {\n\n        var indexOperations = operations.indexOps(Foo.class);\n\n        if (indexOperations.exists()) {\n            LOGGER.info(&quot;checking if mapping for Foo changed&quot;);\n\n            var mappingFromEntity = indexOperations.createMapping();\n            var mappingFromEntityNode = objectMapper.valueToTree(mappingFromEntity);\n            var mappingFromIndexNode = objectMapper.valueToTree(indexOperations.getMapping());\n\n            if (!mappingFromEntityNode.equals(mappingFromIndexNode)) {\n                LOGGER.info(&quot;mapping for class Foo changed!&quot;);\n                indexOperations.putMapping(mappingFromEntity);\n            }\n        }\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":3344727,"reputation":2460,"user_id":2810099,"accept_rate":81,"display_name":"Marius Manastireanu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75098457,"answer_count":1,"score":0,"last_activity_date":1673536227,"creation_date":1673533894,"question_id":75097890,"body_markdown":"I&#39;m quite new to elasticsearch and spring-data combo.\r\n\r\nLet me give you some background. I started from this entity\r\n```java\r\n@Document(indexName = &quot;my-entity&quot;)\r\npublic class MyEntity {\r\n    @Id\r\n    private String id;\r\n    private String someField;\r\n}\r\n```\r\nA few of them got created and indexed. Later on, I added a new field to the entity. Now it looks like this:\r\n```java\r\n@Document(indexName = &quot;my-entity&quot;)\r\npublic class MyEntity {\r\n    @Id\r\n    private String id;\r\n    private String someField;\r\n    @Field(type = FieldType.Date, format = DateFormat.date_time)\r\n    private Date date;\r\n}\r\n```\r\nWhat I&#39;m trying to achieve is to **return all entities sorted by my new field** (which not all existing entities have).\r\n\r\nInitially I&#39;ve adjust my `Repository` and define something similar to `List&lt;MyEntity&gt; findAllByOrderByDate();`, but when I try to call it, I get the following exception:\r\n```\r\n&quot;No mapping found for [date] in order to sort on&quot;\r\n```\r\nI am aware that a possible solution would be to make use of `ignore_unmapped` option from elasticsearch, but my question is: **how do I achieve this with spring-data-elasticsearch?**\r\n\r\nOn the other hand, I&#39;m not fixed up on using the `Repository` approach - I&#39;m open for solutions.\r\n\r\nThank you! ","title":"How to sort on newly added field with spring-data elasticsearch?","body":"<p>I'm quite new to elasticsearch and spring-data combo.</p>\n<p>Let me give you some background. I started from this entity</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Document(indexName = &quot;my-entity&quot;)\npublic class MyEntity {\n    @Id\n    private String id;\n    private String someField;\n}\n</code></pre>\n<p>A few of them got created and indexed. Later on, I added a new field to the entity. Now it looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Document(indexName = &quot;my-entity&quot;)\npublic class MyEntity {\n    @Id\n    private String id;\n    private String someField;\n    @Field(type = FieldType.Date, format = DateFormat.date_time)\n    private Date date;\n}\n</code></pre>\n<p>What I'm trying to achieve is to <strong>return all entities sorted by my new field</strong> (which not all existing entities have).</p>\n<p>Initially I've adjust my <code>Repository</code> and define something similar to <code>List&lt;MyEntity&gt; findAllByOrderByDate();</code>, but when I try to call it, I get the following exception:</p>\n<pre><code>&quot;No mapping found for [date] in order to sort on&quot;\n</code></pre>\n<p>I am aware that a possible solution would be to make use of <code>ignore_unmapped</code> option from elasticsearch, but my question is: <strong>how do I achieve this with spring-data-elasticsearch?</strong></p>\n<p>On the other hand, I'm not fixed up on using the <code>Repository</code> approach - I'm open for solutions.</p>\n<p>Thank you!</p>\n"},{"tags":["java","dictionary","kotlin","functional-programming"],"comments":[{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1568220288,"post_id":57893492,"comment_id":102208492,"body_markdown":"can you please share an example of what you want to a sheave ?","body":"can you please share an example of what you want to a sheave ?"}],"answers":[{"tags":[],"owner":{"account_id":3197333,"reputation":4915,"user_id":2700239,"accept_rate":81,"display_name":"Fartab"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1673536189,"creation_date":1568221367,"answer_id":57893786,"question_id":57893492,"body_markdown":"In functional world, immutability is an essential principle. So in-place modifications are not convenient.\r\n\r\nBut if you prefer an in-place approach, possible options are `retainAll` or `removeAll` to filter items. For in-place replacement you need to iterate the collection. You can use `forEach` to do an in-place modification:\r\n\r\n    data class User(var name: String)\r\n    \r\n    val users = mutableListOf( User(&quot;John&quot;), User(&quot;Alice&quot;), User(&quot;Bob&quot;) )\r\n    users.run {\r\n        removeAll { it.name == &quot;Alice&quot; }\r\n        forEach { it.name =  &quot;Mr. ${it.name}&quot;}\r\n    } ","title":"Kotlin: Retain, replace or remove each map entry in-place","body":"<p>In functional world, immutability is an essential principle. So in-place modifications are not convenient.</p>\n<p>But if you prefer an in-place approach, possible options are <code>retainAll</code> or <code>removeAll</code> to filter items. For in-place replacement you need to iterate the collection. You can use <code>forEach</code> to do an in-place modification:</p>\n<pre><code>data class User(var name: String)\n\nval users = mutableListOf( User(&quot;John&quot;), User(&quot;Alice&quot;), User(&quot;Bob&quot;) )\nusers.run {\n    removeAll { it.name == &quot;Alice&quot; }\n    forEach { it.name =  &quot;Mr. ${it.name}&quot;}\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1298771,"reputation":8052,"user_id":1554633,"display_name":"Andrei Tanana"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1568221589,"creation_date":1568221589,"answer_id":57893844,"question_id":57893492,"body_markdown":"For example, you can write like this\r\n```\r\nfun main() {\r\n    val map = mapOf(\r\n        &quot;test1&quot; to 1,\r\n        &quot;test2&quot; to 2,\r\n        &quot;test3&quot; to 3\r\n    )\r\n    val resultMap = map.mapNotNull { (key, value) -&gt;\r\n        when (value) {\r\n            1 -&gt; null // remove\r\n            2 -&gt; key to 4 // replace\r\n            else -&gt; key to value // retain\r\n        }\r\n    }.toMap()\r\n    println(resultMap) // print {test2=4, test3=3}\r\n}\r\n```","title":"Kotlin: Retain, replace or remove each map entry in-place","body":"<p>For example, you can write like this</p>\n\n<pre><code>fun main() {\n    val map = mapOf(\n        \"test1\" to 1,\n        \"test2\" to 2,\n        \"test3\" to 3\n    )\n    val resultMap = map.mapNotNull { (key, value) -&gt;\n        when (value) {\n            1 -&gt; null // remove\n            2 -&gt; key to 4 // replace\n            else -&gt; key to value // retain\n        }\n    }.toMap()\n    println(resultMap) // print {test2=4, test3=3}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2203408,"reputation":5012,"user_id":1947216,"display_name":"mentallurg"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1568223879,"creation_date":1568223879,"answer_id":57894315,"question_id":57893492,"body_markdown":"Here is an example how you can do all operations in a single expression:\r\n\r\n - Using `filter{}` we keep only elements that fit particular conditions, here: with a value &gt;= 200. The result of this filter is a new map.\r\n - Using map we transform a map from previous step into a new collection. When transforming, we change some values, some remain unchanged.\r\n - Using `toMap()` we transform the resulting collection into a new map.\r\n\r\n```Kotlin\r\nfun main(args: Array&lt;String&gt;) {\r\n\tval map = mutableMapOf&lt;String, Int&gt;()\r\n\r\n\tmap.put(&quot;a1&quot;, 101)\r\n\tmap.put(&quot;a2&quot;, 102)\r\n\r\n\tmap.put(&quot;b1&quot;, 201)\r\n\tmap.put(&quot;b2&quot;, 202)\r\n\r\n\tmap.put(&quot;c1&quot;, 301)\r\n\tmap.put(&quot;c2&quot;, 302)\r\n\r\n\tprintln(map)\r\n\r\n\tval result = map.filter { (key, value) -&gt; value &gt;= 200 }.\r\n\t\tmap { (key,value) -&gt; \r\n\t\t\t\tif (value &gt;= 300)\tPair(key, value * 100) \r\n\t\t\t\telse\t\t\t\tPair(key, value)\r\n\t}.toMap()\r\n\r\n\tprintln(result)\r\n}\r\n```","title":"Kotlin: Retain, replace or remove each map entry in-place","body":"<p>Here is an example how you can do all operations in a single expression:</p>\n\n<ul>\n<li>Using <code>filter{}</code> we keep only elements that fit particular conditions, here: with a value >= 200. The result of this filter is a new map.</li>\n<li>Using map we transform a map from previous step into a new collection. When transforming, we change some values, some remain unchanged.</li>\n<li>Using <code>toMap()</code> we transform the resulting collection into a new map.</li>\n</ul>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val map = mutableMapOf&lt;String, Int&gt;()\n\n    map.put(\"a1\", 101)\n    map.put(\"a2\", 102)\n\n    map.put(\"b1\", 201)\n    map.put(\"b2\", 202)\n\n    map.put(\"c1\", 301)\n    map.put(\"c2\", 302)\n\n    println(map)\n\n    val result = map.filter { (key, value) -&gt; value &gt;= 200 }.\n        map { (key,value) -&gt; \n                if (value &gt;= 300)   Pair(key, value * 100) \n                else                Pair(key, value)\n    }.toMap()\n\n    println(result)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2694626,"reputation":441,"user_id":2327045,"display_name":"Balaban Mario"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613850377,"creation_date":1613850377,"answer_id":66295877,"question_id":57893492,"body_markdown":"This version is in place (similar to what would you write in java) but not with functional approach \r\n\r\n     val map: MutableMap&lt;String, Int&gt; = mutableMapOf(\r\n        (&quot;a&quot; to 1),\r\n        (&quot;b&quot; to 2),\r\n        (&quot;c&quot; to 3),\r\n    )\r\n\r\n    val mapIterator = map.iterator()\r\n    while (mapIterator.hasNext()) {\r\n        val mapEntry = mapIterator.next()\r\n\r\n        when (mapEntry.key) {\r\n            &quot;a&quot; -&gt; mapIterator.remove()\r\n            &quot;c&quot; -&gt; mapEntry.setValue(mapEntry.value * 2)\r\n            else -&gt; println(&quot;retain this  entry&quot;)\r\n        }\r\n    }","title":"Kotlin: Retain, replace or remove each map entry in-place","body":"<p>This version is in place (similar to what would you write in java) but not with functional approach</p>\n<pre><code> val map: MutableMap&lt;String, Int&gt; = mutableMapOf(\n    (&quot;a&quot; to 1),\n    (&quot;b&quot; to 2),\n    (&quot;c&quot; to 3),\n)\n\nval mapIterator = map.iterator()\nwhile (mapIterator.hasNext()) {\n    val mapEntry = mapIterator.next()\n\n    when (mapEntry.key) {\n        &quot;a&quot; -&gt; mapIterator.remove()\n        &quot;c&quot; -&gt; mapEntry.setValue(mapEntry.value * 2)\n        else -&gt; println(&quot;retain this  entry&quot;)\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3463616,"reputation":2223,"user_id":2899885,"accept_rate":50,"display_name":"Cybran"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13404,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":4,"score":11,"last_activity_date":1673536189,"creation_date":1568219942,"question_id":57893492,"body_markdown":"I have a mutable map (a `LinkedHashMap` to be specific) in Kotlin. For each map entry, I want to conditionally perform one of three actions:\r\n\r\n* Retain the entry as-is\r\n* Replace the entry&#39;s value\r\n* Remove the entry\r\n\r\nIn old Java, I would probably use an `Iterator` over the map&#39;s `entrySet()` for this purpose (using `Iterator.remove()` or `Entry.setValue()` accordingly). However, I wondered if there is a more elegant, functional approach present in Kotlin to do the same (i.e. apply a lambda to each entry in-place, similar to using `replaceAll()`, but with the ability to also remove entries).\r\n\r\n---\r\n\r\nIn Kotlin, the following combination of `replaceAll()` and `retainAll()` does the same thing:\r\n\r\n```\r\nval map = LinkedHashMap&lt;String,Int&gt;(mapOf(&quot;a&quot; to 1, &quot;b&quot; to 2, &quot;c&quot; to 3))\r\nmap.replaceAll { key, value -&gt;\r\n    if(key.startsWith(&quot;a&quot;)) {\r\n        value * 2\r\n    } else {\r\n        value\r\n    }\r\n}\r\nmap.entries.retainAll { entry -&gt;\r\n    entry.key.startsWith(&quot;a&quot;) || entry.key.startsWith(&quot;b&quot;)\r\n}\r\n```\r\n\r\nHowever, this iterates the map twice and requires splitting up the predicate/transformation. I would prefer a `compute()`-style all-in-one solution, just for all entries.","title":"Kotlin: Retain, replace or remove each map entry in-place","body":"<p>I have a mutable map (a <code>LinkedHashMap</code> to be specific) in Kotlin. For each map entry, I want to conditionally perform one of three actions:</p>\n\n<ul>\n<li>Retain the entry as-is</li>\n<li>Replace the entry's value</li>\n<li>Remove the entry</li>\n</ul>\n\n<p>In old Java, I would probably use an <code>Iterator</code> over the map's <code>entrySet()</code> for this purpose (using <code>Iterator.remove()</code> or <code>Entry.setValue()</code> accordingly). However, I wondered if there is a more elegant, functional approach present in Kotlin to do the same (i.e. apply a lambda to each entry in-place, similar to using <code>replaceAll()</code>, but with the ability to also remove entries).</p>\n\n<hr>\n\n<p>In Kotlin, the following combination of <code>replaceAll()</code> and <code>retainAll()</code> does the same thing:</p>\n\n<pre><code>val map = LinkedHashMap&lt;String,Int&gt;(mapOf(\"a\" to 1, \"b\" to 2, \"c\" to 3))\nmap.replaceAll { key, value -&gt;\n    if(key.startsWith(\"a\")) {\n        value * 2\n    } else {\n        value\n    }\n}\nmap.entries.retainAll { entry -&gt;\n    entry.key.startsWith(\"a\") || entry.key.startsWith(\"b\")\n}\n</code></pre>\n\n<p>However, this iterates the map twice and requires splitting up the predicate/transformation. I would prefer a <code>compute()</code>-style all-in-one solution, just for all entries.</p>\n"},{"tags":["java","android","android-studio","kotlin","android-api-levels"],"comments":[{"owner":{"account_id":1654563,"reputation":57569,"user_id":1524450,"display_name":"Michael"},"score":0,"creation_date":1673536425,"post_id":75084282,"comment_id":132525607,"body_markdown":"Read the section named **Invoke the domain verification process** further down on the page you linked to.","body":"Read the section named <b>Invoke the domain verification process</b> further down on the page you linked to."}],"owner":{"account_id":7675409,"reputation":81,"user_id":5816460,"display_name":"Akhileshwar Babu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1456,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":0,"score":6,"last_activity_date":1673536168,"creation_date":1673445803,"question_id":75084282,"body_markdown":" We recently migrated my apps target SDK to 33, from that app links are not working fine in emulator but not working in real device\r\n\r\nI googled about it and manually opted for web address in my device and links are working fine, but I cant ask app users to do that every time\r\n\r\nI have read android documentation \r\n\r\nhttps://developer.android.com/training/app-links/verify-android-applinks#manual-verification\r\n\r\nHere they mentioned process of manually verifying the domines for the Android above 12\r\n \r\nbut when I run **adb shell am compat enable 175408749 com.myapp.package**\r\n\r\nterminal is throwing message says \r\n\r\n*Cannot override 175408749 for com.modere.global because the app&#39;s targetSdk (33) is above the change&#39;s targetSdk threshold (30)*\r\n\r\nHow can I verify the domain please help me \r\n\r\n\r\n\r\n","title":"Android deep links are not working with target SDK 33","body":"<p>We recently migrated my apps target SDK to 33, from that app links are not working fine in emulator but not working in real device</p>\n<p>I googled about it and manually opted for web address in my device and links are working fine, but I cant ask app users to do that every time</p>\n<p>I have read android documentation</p>\n<p><a href=\"https://developer.android.com/training/app-links/verify-android-applinks#manual-verification\" rel=\"noreferrer\">https://developer.android.com/training/app-links/verify-android-applinks#manual-verification</a></p>\n<p>Here they mentioned process of manually verifying the domines for the Android above 12</p>\n<p>but when I run <strong>adb shell am compat enable 175408749 com.myapp.package</strong></p>\n<p>terminal is throwing message says</p>\n<p><em>Cannot override 175408749 for com.modere.global because the app's targetSdk (33) is above the change's targetSdk threshold (30)</em></p>\n<p>How can I verify the domain please help me</p>\n"},{"tags":["java","concurrency","azure-cosmosdb","etag"],"answers":[{"tags":[],"owner":{"account_id":7092116,"reputation":14337,"user_id":5641598,"accept_rate":50,"display_name":"Matias Quaranta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673536144,"creation_date":1673536144,"answer_id":75098437,"question_id":75098288,"body_markdown":"Based on your description it looks like you are executing concurrent Replaces over existing documents.\r\n\r\nThe best way to avoid the scenario where a second concurrent Replace removed the data added by the first is to use [Optimistic Concurrency](https://learn.microsoft.com/azure/cosmos-db/nosql/database-transactions-optimistic-concurrency#optimistic-concurrency-control).\r\n\r\nIn a nutshell:\r\n\r\n1. Read the document you want to update.\r\n2. From the response, you obtain the ETag.\r\n3. Apply modification locally and send the Replace operation with the IfMatchETag option.\r\n4. If there was a concurrent Replace operation, you will get an HTTP 412 response.\r\n5. Repeat 1-4 until you get a success response.\r\n\r\n\r\nFull example from the Java SDK (assuing Java because your question is tagged so) repo: https://github.com/Azure-Samples/azure-cosmos-java-sql-api-samples/blob/0ead4ca33dac72c223285e1db866c9dc06f5fb47/src/main/java/com/azure/cosmos/examples/documentcrud/async/DocumentCRUDQuickstartAsync.java#L405","title":"Simultaneous Cosmos document creation","body":"<p>Based on your description it looks like you are executing concurrent Replaces over existing documents.</p>\n<p>The best way to avoid the scenario where a second concurrent Replace removed the data added by the first is to use <a href=\"https://learn.microsoft.com/azure/cosmos-db/nosql/database-transactions-optimistic-concurrency#optimistic-concurrency-control\" rel=\"nofollow noreferrer\">Optimistic Concurrency</a>.</p>\n<p>In a nutshell:</p>\n<ol>\n<li>Read the document you want to update.</li>\n<li>From the response, you obtain the ETag.</li>\n<li>Apply modification locally and send the Replace operation with the IfMatchETag option.</li>\n<li>If there was a concurrent Replace operation, you will get an HTTP 412 response.</li>\n<li>Repeat 1-4 until you get a success response.</li>\n</ol>\n<p>Full example from the Java SDK (assuing Java because your question is tagged so) repo: <a href=\"https://github.com/Azure-Samples/azure-cosmos-java-sql-api-samples/blob/0ead4ca33dac72c223285e1db866c9dc06f5fb47/src/main/java/com/azure/cosmos/examples/documentcrud/async/DocumentCRUDQuickstartAsync.java#L405\" rel=\"nofollow noreferrer\">https://github.com/Azure-Samples/azure-cosmos-java-sql-api-samples/blob/0ead4ca33dac72c223285e1db866c9dc06f5fb47/src/main/java/com/azure/cosmos/examples/documentcrud/async/DocumentCRUDQuickstartAsync.java#L405</a></p>\n"}],"owner":{"account_id":23420673,"reputation":112,"user_id":17480941,"display_name":"Gokul G.K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":275,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75098437,"answer_count":1,"score":1,"last_activity_date":1673536144,"creation_date":1673535545,"question_id":75098288,"body_markdown":"I am getting a race condition when trying to update (here creating the document for the first time) to Cosmos with the same primary key and part key simultaneously, and as a result, I am losing one of the updates.\r\nThe business logic is to update the document if it already exists and create it if it does not exist, but losing some data if two creations occur at the same timestamp. I know we can achieve concurrency using eTag, but here the issue happens only for the first update or creation of a document.\r\n\r\n For example, consider the following models: \r\n`{ &quot;id&quot;: 1, &quot;pkey&quot;: 2, &quot;value&quot;: [&quot;first text&quot;]}  \r\n`\r\nand \r\n\r\n`{ &quot;id&quot;: 1, &quot;pkey&quot;: 2, &quot;value&quot;: [&quot;second text&quot;]}  \r\n`\r\n I have some internal business logic to update and append the value array.\r\n`{ &quot;id&quot;: 1, &quot;pkey&quot;: 2, &quot;value&quot;: [&quot;first text,&quot; &quot;second text,&quot;] }  \r\n`\r\nBut I lose one value when cosmos creation occurs simultaneously. \r\nPlease feel free to correct the question if any errors are found.\r\n\r\nPlease help if anyone has faced a similar issue. tried keeping etag in the request option, but the issue still persists.","title":"Simultaneous Cosmos document creation","body":"<p>I am getting a race condition when trying to update (here creating the document for the first time) to Cosmos with the same primary key and part key simultaneously, and as a result, I am losing one of the updates.\nThe business logic is to update the document if it already exists and create it if it does not exist, but losing some data if two creations occur at the same timestamp. I know we can achieve concurrency using eTag, but here the issue happens only for the first update or creation of a document.</p>\n<p>For example, consider the following models:\n<code>{ &quot;id&quot;: 1, &quot;pkey&quot;: 2, &quot;value&quot;: [&quot;first text&quot;]}   </code>\nand</p>\n<p><code>{ &quot;id&quot;: 1, &quot;pkey&quot;: 2, &quot;value&quot;: [&quot;second text&quot;]}   </code>\nI have some internal business logic to update and append the value array.\n<code>{ &quot;id&quot;: 1, &quot;pkey&quot;: 2, &quot;value&quot;: [&quot;first text,&quot; &quot;second text,&quot;] }   </code>\nBut I lose one value when cosmos creation occurs simultaneously.\nPlease feel free to correct the question if any errors are found.</p>\n<p>Please help if anyone has faced a similar issue. tried keeping etag in the request option, but the issue still persists.</p>\n"},{"tags":["java","spring-boot","rabbitmq"],"owner":{"account_id":5704335,"reputation":257,"user_id":4508409,"accept_rate":65,"display_name":"Kavi Chinna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673536141,"creation_date":1673536141,"question_id":75098436,"body_markdown":"I&#39;m trying to consume all the messages from RabbitMQ queue, that queue contains N number of messages, I just want to read all the messages in my java code.\r\n\r\nThe below Approach I&#39;m trying in my Project\r\n\r\nI have defined the RabbitMQ configuration in my application.properties file, I didn&#39;t show it here\r\n\r\nThe below class is already exists in my my project\r\n\r\n    import org.springframework.amqp.core.Queue;\r\n    import org.springframework.amqp.rabbit.annotation.EnableRabbit;\r\n    import org.springframework.amqp.rabbit.connection.ConnectionFactory;\r\n    import org.springframework.amqp.rabbit.core.*;\r\n    import org.springframework.amqp.rabbit.transaction.RabbitTransactionManager;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.autoconfigure.condition.ConditionalOnClass;\r\n    import org.springframework.context.annotation.*;\r\n    \r\n    @Configuration\r\n    @ConditionalOnClass(EnableRabbit.class)\r\n    public class RabbitConfiguration {\r\n        @Autowired\r\n        private ConnectionFactory connectionFactory;\r\n        @Bean\r\n        public RabbitTransactionManager rabbitTransactionManager() {\r\n            return new RabbitTransactionManager(connectionFactory);\r\n        }\r\n        @Bean\r\n        public RabbitAdmin rabbitAdmin() {\r\n            return new RabbitAdmin(connectionFactory);\r\n        }\r\n    }\r\n\r\nIn my another class, I have implemented the below method to read all messages from that queue\r\n\r\n    @Autowired\r\n    private RabbitAdmin rabbitAdmin;\r\n    \r\n    private void getMessages() {\r\n            int messageCount = rabbitAdmin.getQueueInfo(&quot;test_queue&quot;).getMessageCount();\r\n            if(messageCount &gt; 0) {\r\n                System.out.println(&quot;Message Count :::: &quot; + messageCount);\r\n            }\r\n        }\r\n\r\nUsing this rabbitAdmin I can able to get the messages count, but how to read the actual messages? Is there any possibility available to read all the messages. I searched lot, but I couldn&#39;t find the solution\r\n\r\nPlease help me to resolve this. Thanks","title":"How to consume all the messages from RabbitMQ queue","body":"<p>I'm trying to consume all the messages from RabbitMQ queue, that queue contains N number of messages, I just want to read all the messages in my java code.</p>\n<p>The below Approach I'm trying in my Project</p>\n<p>I have defined the RabbitMQ configuration in my application.properties file, I didn't show it here</p>\n<p>The below class is already exists in my my project</p>\n<pre><code>import org.springframework.amqp.core.Queue;\nimport org.springframework.amqp.rabbit.annotation.EnableRabbit;\nimport org.springframework.amqp.rabbit.connection.ConnectionFactory;\nimport org.springframework.amqp.rabbit.core.*;\nimport org.springframework.amqp.rabbit.transaction.RabbitTransactionManager;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.autoconfigure.condition.ConditionalOnClass;\nimport org.springframework.context.annotation.*;\n\n@Configuration\n@ConditionalOnClass(EnableRabbit.class)\npublic class RabbitConfiguration {\n    @Autowired\n    private ConnectionFactory connectionFactory;\n    @Bean\n    public RabbitTransactionManager rabbitTransactionManager() {\n        return new RabbitTransactionManager(connectionFactory);\n    }\n    @Bean\n    public RabbitAdmin rabbitAdmin() {\n        return new RabbitAdmin(connectionFactory);\n    }\n}\n</code></pre>\n<p>In my another class, I have implemented the below method to read all messages from that queue</p>\n<pre><code>@Autowired\nprivate RabbitAdmin rabbitAdmin;\n\nprivate void getMessages() {\n        int messageCount = rabbitAdmin.getQueueInfo(&quot;test_queue&quot;).getMessageCount();\n        if(messageCount &gt; 0) {\n            System.out.println(&quot;Message Count :::: &quot; + messageCount);\n        }\n    }\n</code></pre>\n<p>Using this rabbitAdmin I can able to get the messages count, but how to read the actual messages? Is there any possibility available to read all the messages. I searched lot, but I couldn't find the solution</p>\n<p>Please help me to resolve this. Thanks</p>\n"},{"tags":["java","apache-kafka","azure-eventhub"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1673536029,"post_id":75087092,"comment_id":132525432,"body_markdown":"If you&#39;ve followed event hubs documentation, I suggest contacting their support","body":"If you&#39;ve followed event hubs documentation, I suggest contacting their support"}],"owner":{"account_id":214551,"reputation":4879,"user_id":468587,"accept_rate":49,"display_name":"user468587"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673535968,"creation_date":1673459177,"question_id":75087092,"body_markdown":"i&#39;m trying the azure-event-hubs-for-kafka quickstart java samples, and cannot get producer working, error message:\r\n\r\n    [Producer clientId=KafkaExampleProducer] Connection with &lt;my_EH_namespace&gt;.servicebus.windows.net/191.1.129.16 disconnected\r\n    java.io.EOFException: EOF during handshake, handshake status is NEED_UNWRAP\r\n    \tat org.apache.kafka.common.network.SslTransportLayer.handshakeUnwrap(SslTransportLayer.java:525)\r\n    \tat org.apache.kafka.common.network.SslTransportLayer.doHandshake(SslTransportLayer.java:368)\r\n    \tat org.apache.kafka.common.network.SslTransportLayer.handshake(SslTransportLayer.java:291)\r\n    \tat org.apache.kafka.common.network.KafkaChannel.prepare(KafkaChannel.java:178)\r\n    \tat org.apache.kafka.common.network.Selector.pollSelectionKeys(Selector.java:543)\r\n    \tat org.apache.kafka.common.network.Selector.poll(Selector.java:481)\r\n    \tat org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:551)\r\n    \tat org.apache.kafka.clients.NetworkClientUtils.awaitReady(NetworkClientUtils.java:74)\r\n    \tat org.apache.kafka.clients.producer.internals.Sender.awaitNodeReady(Sender.java:526)\r\n    \tat org.apache.kafka.clients.producer.internals.Sender.maybeSendAndPollTransactionalRequest(Sender.java:447)\r\n    \tat org.apache.kafka.clients.producer.internals.Sender.runOnce(Sender.java:316)\r\n    \tat org.apache.kafka.clients.producer.internals.Sender.run(Sender.java:243)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n    2023-01-11 09:06:34 DEBUG SslTransportLayer:198 - [SslTransportLayer channelId=-1 key=channel=java.nio.channels.SocketChannel[connection-pending remote=&lt;my_EH_namespace&gt;.servicebus.windows.net/191.1.129.16:9093], selector=sun.nio.ch.KQueueSelectorImpl@5603a6ad, interestOps=8, readyOps=0] Failed to send SSL Close message\r\n\r\nhere is my producer.config:\r\n\r\n    bootstrap.servers=&lt;my_EH_namespace_here&gt;.servicebus.windows.net:9093\r\n    security.protocol=SASL_SSL\r\n    sasl.mechanism=PLAIN\r\n    sasl.jaas.config=org.apache.kafka.common.security.plain.PlainLoginModule required username=&quot;$ConnectionString&quot; password=&quot;Endpoint=sb://&lt;my_EH_namespace_here&gt;.servicebus.windows.net/;SharedAccessKeyName=xxxxxx;SharedAccessKey=xxxxxx&quot;;\r\n\r\napache kafka-clients: 3.0.1\r\n\r\nhere is the log from the run:\r\n\r\n    2023-01-11 09:05:49 INFO  KafkaProducer:532 - [Producer clientId=KafkaExampleProducer] Instantiated an idempotent producer.\r\n    2023-01-11 09:05:49 INFO  AbstractLogin:61 - Successfully logged in.\r\n    2023-01-11 09:05:49 DEBUG DefaultSslEngineFactory:264 - Created SSL context with keystore null, truststore null, provider SunJSSE.\r\n    2023-01-11 09:05:49 DEBUG Sender:238 - [Producer clientId=KafkaExampleProducer] Starting Kafka producer I/O thread.\r\n    2023-01-11 09:05:49 DEBUG TransactionManager:1091 - [Producer clientId=KafkaExampleProducer] Transition from state UNINITIALIZED to INITIALIZING\r\n    2023-01-11 09:05:49 INFO  AppInfoParser:119 - Kafka version: 3.0.1\r\n    2023-01-11 09:05:49 INFO  AppInfoParser:120 - Kafka commitId: 8e30984f43e64d8b\r\n    2023-01-11 09:05:49 INFO  AppInfoParser:121 - Kafka startTimeMs: 1673456749806\r\n    2023-01-11 09:05:49 DEBUG KafkaProducer:434 - [Producer clientId=KafkaExampleProducer] Kafka producer started\r\n    2023-01-11 09:05:49 DEBUG TransactionManager:1129 - [Producer clientId=KafkaExampleProducer] Enqueuing transactional request InitProducerIdRequestData(transactionalId=null, transactionTimeoutMs=2147483647, producerId=-1, producerEpoch=-1)\r\n    2023-01-11 09:05:49 DEBUG NetworkClient:1151 - [Producer clientId=KafkaExampleProducer] Initialize connection to node &lt;my_EH_namespace&gt;.servicebus.windows.net:9093 (id: -1 rack: null) for sending metadata request\r\n    2023-01-11 09:05:49 DEBUG ClientUtils:113 - Resolved host &lt;my_EH_namespace&gt;.servicebus.windows.net as 191.1.129.16\r\n    2023-01-11 09:05:49 DEBUG NetworkClient:980 - [Producer clientId=KafkaExampleProducer] Initiating connection to node &lt;my_EH_namespace&gt;.servicebus.windows.net:9093 (id: -1 rack: null) using address &lt;my_EH_namespace&gt;.servicebus.windows.net/191.1.129.16\r\n    2023-01-11 09:05:49 DEBUG SaslClientAuthenticator:411 - [Producer clientId=KafkaExampleProducer] Set SASL client state to SEND_APIVERSIONS_REQUEST\r\n    2023-01-11 09:05:49 DEBUG SaslClientAuthenticator:217 - [Producer clientId=KafkaExampleProducer] Creating SaslClient: client=null;service=kafka;serviceHostname=&lt;my_EH_namespace&gt;.servicebus.windows.net;mechs=[PLAIN]\r\n    2023-01-11 09:05:49 DEBUG Selector:531 - [Producer clientId=KafkaExampleProducer] Created socket with SO_RCVBUF = 32768, SO_SNDBUF = 131072, SO_TIMEOUT = 0 to node -1\r\n    2023-01-11 09:05:49 DEBUG NetworkClient:942 - [Producer clientId=KafkaExampleProducer] Completed connection to node -1. Fetching API versions.\r\n    Test Data #0 from thread #20\r\n    2023-01-11 09:05:59 DEBUG SslTransportLayer:198 - [SslTransportLayer channelId=-1 key=channel=java.nio.channels.SocketChannel[connection-pending remote=&lt;my_EH_namespace&gt;.servicebus.windows.net/191.1.129.16:9093], selector=sun.nio.ch.KQueueSelectorImpl@5603a6ad, interestOps=8, readyOps=0] Failed to send SSL Close message\r\n    java.io.IOException: Unexpected status returned by SSLEngine.wrap, expected CLOSED, received OK. Will not send close message to peer.\r\n    \tat org.apache.kafka.common.network.SslTransportLayer.close(SslTransportLayer.java:192)\r\n    \tat org.apache.kafka.common.utils.Utils.closeAll(Utils.java:972)\r\n    \tat org.apache.kafka.common.network.KafkaChannel.close(KafkaChannel.java:155)\r\n    \tat org.apache.kafka.common.network.Selector.doClose(Selector.java:955)\r\n    \tat org.apache.kafka.common.network.Selector.close(Selector.java:939)\r\n    \tat org.apache.kafka.common.network.Selector.close(Selector.java:885)\r\n    \tat org.apache.kafka.clients.NetworkClient.handleTimedOutConnections(NetworkClient.java:809)\r\n    \tat org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:564)\r\n    \tat org.apache.kafka.clients.NetworkClientUtils.awaitReady(NetworkClientUtils.java:74)\r\n    \tat org.apache.kafka.clients.producer.internals.Sender.awaitNodeReady(Sender.java:526)\r\n    \tat org.apache.kafka.clients.producer.internals.Sender.maybeSendAndPollTransactionalRequest(Sender.java:447)\r\n    \tat org.apache.kafka.clients.producer.internals.Sender.runOnce(Sender.java:316)\r\n    \tat org.apache.kafka.clients.producer.internals.Sender.run(Sender.java:243)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n    2023-01-11 09:05:59 DEBUG NetworkClient:810 - [Producer clientId=KafkaExampleProducer] Disconnecting from node -1 due to socket connection setup timeout. The timeout value is 9404 ms.\r\n    2023-01-11 09:05:59 WARN  NetworkClient:1054 - [Producer clientId=KafkaExampleProducer] Bootstrap broker &lt;my_EH_namespace&gt;.servicebus.windows.net:9093 (id: -1 rack: null) disconnected\r\n    2023-01-11 09:05:59 DEBUG Sender:475 - [Producer clientId=KafkaExampleProducer] Disconnect from &lt;my_EH_namespace&gt;.servicebus.windows.net:9093 (id: -1 rack: null) while trying to send request InitProducerIdRequestData(transactionalId=null, transactionTimeoutMs=2147483647, producerId=-1, producerEpoch=-1). Going to back off and retry.\r\n    java.io.IOException: Connection to &lt;my_EH_namespace&gt;.servicebus.windows.net:9093 (id: -1 rack: null) failed.\r\n    \tat org.apache.kafka.clients.NetworkClientUtils.awaitReady(NetworkClientUtils.java:71)\r\n    \tat org.apache.kafka.clients.producer.internals.Sender.awaitNodeReady(Sender.java:526)\r\n    \tat org.apache.kafka.clients.producer.internals.Sender.maybeSendAndPollTransactionalRequest(Sender.java:447)\r\n    \tat org.apache.kafka.clients.producer.internals.Sender.runOnce(Sender.java:316)\r\n    \tat org.apache.kafka.clients.producer.internals.Sender.run(Sender.java:243)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n     ","title":"azure-event-hubs-for-kafka: EOF during handshake, handshake status is NEED_UNWRAP","body":"<p>i'm trying the azure-event-hubs-for-kafka quickstart java samples, and cannot get producer working, error message:</p>\n<pre><code>[Producer clientId=KafkaExampleProducer] Connection with &lt;my_EH_namespace&gt;.servicebus.windows.net/191.1.129.16 disconnected\njava.io.EOFException: EOF during handshake, handshake status is NEED_UNWRAP\n    at org.apache.kafka.common.network.SslTransportLayer.handshakeUnwrap(SslTransportLayer.java:525)\n    at org.apache.kafka.common.network.SslTransportLayer.doHandshake(SslTransportLayer.java:368)\n    at org.apache.kafka.common.network.SslTransportLayer.handshake(SslTransportLayer.java:291)\n    at org.apache.kafka.common.network.KafkaChannel.prepare(KafkaChannel.java:178)\n    at org.apache.kafka.common.network.Selector.pollSelectionKeys(Selector.java:543)\n    at org.apache.kafka.common.network.Selector.poll(Selector.java:481)\n    at org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:551)\n    at org.apache.kafka.clients.NetworkClientUtils.awaitReady(NetworkClientUtils.java:74)\n    at org.apache.kafka.clients.producer.internals.Sender.awaitNodeReady(Sender.java:526)\n    at org.apache.kafka.clients.producer.internals.Sender.maybeSendAndPollTransactionalRequest(Sender.java:447)\n    at org.apache.kafka.clients.producer.internals.Sender.runOnce(Sender.java:316)\n    at org.apache.kafka.clients.producer.internals.Sender.run(Sender.java:243)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n2023-01-11 09:06:34 DEBUG SslTransportLayer:198 - [SslTransportLayer channelId=-1 key=channel=java.nio.channels.SocketChannel[connection-pending remote=&lt;my_EH_namespace&gt;.servicebus.windows.net/191.1.129.16:9093], selector=sun.nio.ch.KQueueSelectorImpl@5603a6ad, interestOps=8, readyOps=0] Failed to send SSL Close message\n</code></pre>\n<p>here is my producer.config:</p>\n<pre><code>bootstrap.servers=&lt;my_EH_namespace_here&gt;.servicebus.windows.net:9093\nsecurity.protocol=SASL_SSL\nsasl.mechanism=PLAIN\nsasl.jaas.config=org.apache.kafka.common.security.plain.PlainLoginModule required username=&quot;$ConnectionString&quot; password=&quot;Endpoint=sb://&lt;my_EH_namespace_here&gt;.servicebus.windows.net/;SharedAccessKeyName=xxxxxx;SharedAccessKey=xxxxxx&quot;;\n</code></pre>\n<p>apache kafka-clients: 3.0.1</p>\n<p>here is the log from the run:</p>\n<pre><code>2023-01-11 09:05:49 INFO  KafkaProducer:532 - [Producer clientId=KafkaExampleProducer] Instantiated an idempotent producer.\n2023-01-11 09:05:49 INFO  AbstractLogin:61 - Successfully logged in.\n2023-01-11 09:05:49 DEBUG DefaultSslEngineFactory:264 - Created SSL context with keystore null, truststore null, provider SunJSSE.\n2023-01-11 09:05:49 DEBUG Sender:238 - [Producer clientId=KafkaExampleProducer] Starting Kafka producer I/O thread.\n2023-01-11 09:05:49 DEBUG TransactionManager:1091 - [Producer clientId=KafkaExampleProducer] Transition from state UNINITIALIZED to INITIALIZING\n2023-01-11 09:05:49 INFO  AppInfoParser:119 - Kafka version: 3.0.1\n2023-01-11 09:05:49 INFO  AppInfoParser:120 - Kafka commitId: 8e30984f43e64d8b\n2023-01-11 09:05:49 INFO  AppInfoParser:121 - Kafka startTimeMs: 1673456749806\n2023-01-11 09:05:49 DEBUG KafkaProducer:434 - [Producer clientId=KafkaExampleProducer] Kafka producer started\n2023-01-11 09:05:49 DEBUG TransactionManager:1129 - [Producer clientId=KafkaExampleProducer] Enqueuing transactional request InitProducerIdRequestData(transactionalId=null, transactionTimeoutMs=2147483647, producerId=-1, producerEpoch=-1)\n2023-01-11 09:05:49 DEBUG NetworkClient:1151 - [Producer clientId=KafkaExampleProducer] Initialize connection to node &lt;my_EH_namespace&gt;.servicebus.windows.net:9093 (id: -1 rack: null) for sending metadata request\n2023-01-11 09:05:49 DEBUG ClientUtils:113 - Resolved host &lt;my_EH_namespace&gt;.servicebus.windows.net as 191.1.129.16\n2023-01-11 09:05:49 DEBUG NetworkClient:980 - [Producer clientId=KafkaExampleProducer] Initiating connection to node &lt;my_EH_namespace&gt;.servicebus.windows.net:9093 (id: -1 rack: null) using address &lt;my_EH_namespace&gt;.servicebus.windows.net/191.1.129.16\n2023-01-11 09:05:49 DEBUG SaslClientAuthenticator:411 - [Producer clientId=KafkaExampleProducer] Set SASL client state to SEND_APIVERSIONS_REQUEST\n2023-01-11 09:05:49 DEBUG SaslClientAuthenticator:217 - [Producer clientId=KafkaExampleProducer] Creating SaslClient: client=null;service=kafka;serviceHostname=&lt;my_EH_namespace&gt;.servicebus.windows.net;mechs=[PLAIN]\n2023-01-11 09:05:49 DEBUG Selector:531 - [Producer clientId=KafkaExampleProducer] Created socket with SO_RCVBUF = 32768, SO_SNDBUF = 131072, SO_TIMEOUT = 0 to node -1\n2023-01-11 09:05:49 DEBUG NetworkClient:942 - [Producer clientId=KafkaExampleProducer] Completed connection to node -1. Fetching API versions.\nTest Data #0 from thread #20\n2023-01-11 09:05:59 DEBUG SslTransportLayer:198 - [SslTransportLayer channelId=-1 key=channel=java.nio.channels.SocketChannel[connection-pending remote=&lt;my_EH_namespace&gt;.servicebus.windows.net/191.1.129.16:9093], selector=sun.nio.ch.KQueueSelectorImpl@5603a6ad, interestOps=8, readyOps=0] Failed to send SSL Close message\njava.io.IOException: Unexpected status returned by SSLEngine.wrap, expected CLOSED, received OK. Will not send close message to peer.\n    at org.apache.kafka.common.network.SslTransportLayer.close(SslTransportLayer.java:192)\n    at org.apache.kafka.common.utils.Utils.closeAll(Utils.java:972)\n    at org.apache.kafka.common.network.KafkaChannel.close(KafkaChannel.java:155)\n    at org.apache.kafka.common.network.Selector.doClose(Selector.java:955)\n    at org.apache.kafka.common.network.Selector.close(Selector.java:939)\n    at org.apache.kafka.common.network.Selector.close(Selector.java:885)\n    at org.apache.kafka.clients.NetworkClient.handleTimedOutConnections(NetworkClient.java:809)\n    at org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:564)\n    at org.apache.kafka.clients.NetworkClientUtils.awaitReady(NetworkClientUtils.java:74)\n    at org.apache.kafka.clients.producer.internals.Sender.awaitNodeReady(Sender.java:526)\n    at org.apache.kafka.clients.producer.internals.Sender.maybeSendAndPollTransactionalRequest(Sender.java:447)\n    at org.apache.kafka.clients.producer.internals.Sender.runOnce(Sender.java:316)\n    at org.apache.kafka.clients.producer.internals.Sender.run(Sender.java:243)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n2023-01-11 09:05:59 DEBUG NetworkClient:810 - [Producer clientId=KafkaExampleProducer] Disconnecting from node -1 due to socket connection setup timeout. The timeout value is 9404 ms.\n2023-01-11 09:05:59 WARN  NetworkClient:1054 - [Producer clientId=KafkaExampleProducer] Bootstrap broker &lt;my_EH_namespace&gt;.servicebus.windows.net:9093 (id: -1 rack: null) disconnected\n2023-01-11 09:05:59 DEBUG Sender:475 - [Producer clientId=KafkaExampleProducer] Disconnect from &lt;my_EH_namespace&gt;.servicebus.windows.net:9093 (id: -1 rack: null) while trying to send request InitProducerIdRequestData(transactionalId=null, transactionTimeoutMs=2147483647, producerId=-1, producerEpoch=-1). Going to back off and retry.\njava.io.IOException: Connection to &lt;my_EH_namespace&gt;.servicebus.windows.net:9093 (id: -1 rack: null) failed.\n    at org.apache.kafka.clients.NetworkClientUtils.awaitReady(NetworkClientUtils.java:71)\n    at org.apache.kafka.clients.producer.internals.Sender.awaitNodeReady(Sender.java:526)\n    at org.apache.kafka.clients.producer.internals.Sender.maybeSendAndPollTransactionalRequest(Sender.java:447)\n    at org.apache.kafka.clients.producer.internals.Sender.runOnce(Sender.java:316)\n    at org.apache.kafka.clients.producer.internals.Sender.run(Sender.java:243)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n \n</code></pre>\n"},{"tags":["java","android","arraylist"],"comments":[{"owner":{"account_id":18361187,"reputation":686,"user_id":13373270,"display_name":"codebod"},"score":0,"creation_date":1673543422,"post_id":75098345,"comment_id":132528209,"body_markdown":"Why read the entire table into an `ArrayList` rather than query the table for a specific user? May I also suggest doing this using Room (https://developer.android.com/training/data-storage/room) to avoid a lot of boilerplate code and chance of errors?","body":"Why read the entire table into an <code>ArrayList</code> rather than query the table for a specific user? May I also suggest doing this using Room (<a href=\"https://developer.android.com/training/data-storage/room\" rel=\"nofollow noreferrer\">developer.android.com/training/data-storage/room</a>) to avoid a lot of boilerplate code and chance of errors?"},{"owner":{"account_id":27507549,"reputation":11,"user_id":20990052,"display_name":"Nguyen Dinh Anh Tuan FPL HCM"},"score":0,"creation_date":1673543990,"post_id":75098345,"comment_id":132528413,"body_markdown":"Actually, I&#39;m just a student learning how to create applications, so my experience and thinking about how to use it are quite poor, the concepts are still flawed, so I only know what to do. be learned. But thanks anyway, I think this &quot;room&quot; will help me grow more","body":"Actually, I&#39;m just a student learning how to create applications, so my experience and thinking about how to use it are quite poor, the concepts are still flawed, so I only know what to do. be learned. But thanks anyway, I think this &quot;room&quot; will help me grow more"}],"owner":{"account_id":27507549,"reputation":11,"user_id":20990052,"display_name":"Nguyen Dinh Anh Tuan FPL HCM"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":303,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673535792,"creation_date":1673535792,"question_id":75098345,"body_markdown":"Currently I am developing a personal software that is able to use the database to store the registered accounts and when logging in will retrieve the data from the database to compare with the characters been entered by the user.\r\nBut for some reason, even though I entered it correctly, I can&#39;t log in successfully\r\n\r\nThis is SQLite java file\r\n```\r\n    package anhtuan.example.sample.SQLite;\r\n\r\n    import android.content.Context;\r\n    import android.database.sqlite.SQLiteDatabase;\r\n    import android.database.sqlite.SQLiteOpenHelper;\r\n\r\n    import androidx.annotation.Nullable;\r\n\r\n    public class SQLite extends SQLiteOpenHelper {\r\n    public SQLite(@Nullable Context context) {\r\n        super(context, &quot;System&quot;, null, 1);\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(SQLiteDatabase sqLiteDatabase) {\r\n        String account = &quot;create table accounts &quot; +\r\n                &quot;(&quot; +\r\n                &quot;_id integer primary key autoincrement, &quot; +\r\n                &quot;user text,&quot; +\r\n                &quot;password text&quot; +\r\n                &quot;)&quot;;\r\n        sqLiteDatabase.execSQL(account);\r\n    }\r\n\r\n    @Override\r\n    public void onUpgrade(SQLiteDatabase sqLiteDatabase, int i, int i1) {\r\n        sqLiteDatabase.execSQL(&quot;drop table if exists accounts&quot;);\r\n        onCreate(sqLiteDatabase);\r\n    }\r\n    }\r\n```\r\nHere are DAO java file \r\n```\r\n    package anhtuan.example.sample.DAO;\r\n\r\n    import android.content.ContentValues;\r\n    import android.content.Context;\r\n    import android.database.Cursor;\r\n    import android.database.sqlite.SQLiteDatabase;\r\n    import android.widget.Toast;\r\n\r\n    import java.util.ArrayList;\r\n\r\n    import anhtuan.example.sample.Log.SignUp;\r\n    import anhtuan.example.sample.Model.AccountModel;\r\n    import anhtuan.example.sample.SQLite.SQLite;\r\n\r\n    public class DAO {\r\n    SQLite sqLite;\r\n    ArrayList&lt;AccountModel&gt; ds = new ArrayList&lt;&gt;();\r\n    public DAO(Context context) {\r\n        sqLite = new SQLite(context);\r\n    }\r\n\r\n    public void addUser(String acc, String pass) {\r\n        SQLiteDatabase sqLiteDatabase = sqLite.getWritableDatabase();\r\n        ContentValues values = new ContentValues();\r\n        values.put(&quot;user&quot;,acc);\r\n        values.put(&quot;password&quot;,pass);\r\n        sqLiteDatabase.insert(&quot;accounts&quot;, null, values);\r\n    }\r\n\r\n    public ArrayList&lt;AccountModel&gt; getDSAccount(){\r\n        SQLiteDatabase sqLiteDatabase = sqLite.getReadableDatabase();\r\n        Cursor c = sqLiteDatabase.rawQuery(&quot;select * from accounts&quot;, null);\r\n        if(c.getCount()&gt;0){\r\n            c.moveToFirst();\r\n            do {\r\n                ds.add(new AccountModel(c.getString(1),c.getString(2)));\r\n            }while (c.moveToNext());\r\n        }\r\n        return ds;\r\n    }\r\n\r\n    public boolean checkLogin(Context context,String users,String passwords){\r\n        ds = getDSAccount();\r\n        for(int i = 0; i &lt; ds.size();i++){\r\n        if(ds.get(i).getUser().equals(users)){\r\n            if(passwords.equals(ds.get(i).getPassword())){\r\n                return true;\r\n            }\r\n        }\r\n        };\r\n        return false;\r\n    }\r\n\r\n    public boolean changePass(String user,String password){\r\n\r\n        return true;\r\n    }\r\n    }\r\n```\r\nAnd lastly the signin java file\r\n```\r\n    package anhtuan.example.sample.Log;\r\n\r\n    import androidx.appcompat.app.AlertDialog;  \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n\r\n    import android.content.DialogInterface;\r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n\r\n    import com.google.android.material.textfield.TextInputEditText;\r\n\r\n    import java.util.ArrayList;\r\n\r\n    import anhtuan.example.sample.DAO.DAO;\r\n    import anhtuan.example.sample.Home;\r\n    import anhtuan.example.sample.Model.AccountModel;\r\n    import anhtuan.example.sample.R;\r\n\r\n    public class SignIn extends AppCompatActivity {\r\n    TextInputEditText user,pass;\r\n    TextView signup;\r\n    Button Login;\r\n\r\n    DAO dao;\r\n    ArrayList&lt;AccountModel&gt; ds;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_sign_in);\r\n        setTitle(&quot;Sign In&quot;);\r\n        user = findViewById(R.id.SIuser);\r\n        pass = findViewById(R.id.SIpass);\r\n        Login = findViewById(R.id.SIbtn);\r\n        signup = findViewById(R.id.SItv);\r\n\r\n        dao = new DAO(this);\r\n\r\n        signup.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent i = new Intent(SignIn.this,ForgotPass.class);\r\n                startActivity(i);\r\n            }\r\n        });\r\n\r\n        String Loginuser = user.getText().toString();\r\n        String Loginpasse = pass.getText().toString();\r\n\r\n        Login.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if(user.getText().length() == 0 || pass.getText().length() == 0){\r\n                    AlertDialog.Builder builder = new AlertDialog.Builder(SignIn.this);\r\n                    builder.setTitle(&quot;You haven&#39;t insert all the blank&quot;);\r\n                    builder.setPositiveButton(&quot;OK&quot;, new DialogInterface.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(DialogInterface dialogInterface, int i) {\r\n                        }\r\n                    });\r\n                    builder.show();\r\n                }else{\r\n                    if(dao.checkLogin(SignIn.this,Loginuser,Loginpasse)){\r\n                        Intent i = new Intent(SignIn.this,Home.class);\r\n                        startActivity(i);\r\n                    }else{\r\n                        AlertDialog.Builder builder = new AlertDialog.Builder(SignIn.this);\r\n                        builder.setTitle(&quot;Check again !&quot;);\r\n                        builder.setPositiveButton(&quot;OK&quot;, new DialogInterface.OnClickListener() {\r\n                            @Override\r\n                            public void onClick(DialogInterface dialogInterface, int i) {\r\n                            }\r\n                        });\r\n                        builder.show();\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n    }\r\n```\r\nI had try to use contain and indexOf with arrayList to find the data without using for loop but it always come out false so i decide to use for loop again.\r\n","title":"Android Studio Login with SQLite database","body":"<p>Currently I am developing a personal software that is able to use the database to store the registered accounts and when logging in will retrieve the data from the database to compare with the characters been entered by the user.\nBut for some reason, even though I entered it correctly, I can't log in successfully</p>\n<p>This is SQLite java file</p>\n<pre><code>    package anhtuan.example.sample.SQLite;\n\n    import android.content.Context;\n    import android.database.sqlite.SQLiteDatabase;\n    import android.database.sqlite.SQLiteOpenHelper;\n\n    import androidx.annotation.Nullable;\n\n    public class SQLite extends SQLiteOpenHelper {\n    public SQLite(@Nullable Context context) {\n        super(context, &quot;System&quot;, null, 1);\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase sqLiteDatabase) {\n        String account = &quot;create table accounts &quot; +\n                &quot;(&quot; +\n                &quot;_id integer primary key autoincrement, &quot; +\n                &quot;user text,&quot; +\n                &quot;password text&quot; +\n                &quot;)&quot;;\n        sqLiteDatabase.execSQL(account);\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase sqLiteDatabase, int i, int i1) {\n        sqLiteDatabase.execSQL(&quot;drop table if exists accounts&quot;);\n        onCreate(sqLiteDatabase);\n    }\n    }\n</code></pre>\n<p>Here are DAO java file</p>\n<pre><code>    package anhtuan.example.sample.DAO;\n\n    import android.content.ContentValues;\n    import android.content.Context;\n    import android.database.Cursor;\n    import android.database.sqlite.SQLiteDatabase;\n    import android.widget.Toast;\n\n    import java.util.ArrayList;\n\n    import anhtuan.example.sample.Log.SignUp;\n    import anhtuan.example.sample.Model.AccountModel;\n    import anhtuan.example.sample.SQLite.SQLite;\n\n    public class DAO {\n    SQLite sqLite;\n    ArrayList&lt;AccountModel&gt; ds = new ArrayList&lt;&gt;();\n    public DAO(Context context) {\n        sqLite = new SQLite(context);\n    }\n\n    public void addUser(String acc, String pass) {\n        SQLiteDatabase sqLiteDatabase = sqLite.getWritableDatabase();\n        ContentValues values = new ContentValues();\n        values.put(&quot;user&quot;,acc);\n        values.put(&quot;password&quot;,pass);\n        sqLiteDatabase.insert(&quot;accounts&quot;, null, values);\n    }\n\n    public ArrayList&lt;AccountModel&gt; getDSAccount(){\n        SQLiteDatabase sqLiteDatabase = sqLite.getReadableDatabase();\n        Cursor c = sqLiteDatabase.rawQuery(&quot;select * from accounts&quot;, null);\n        if(c.getCount()&gt;0){\n            c.moveToFirst();\n            do {\n                ds.add(new AccountModel(c.getString(1),c.getString(2)));\n            }while (c.moveToNext());\n        }\n        return ds;\n    }\n\n    public boolean checkLogin(Context context,String users,String passwords){\n        ds = getDSAccount();\n        for(int i = 0; i &lt; ds.size();i++){\n        if(ds.get(i).getUser().equals(users)){\n            if(passwords.equals(ds.get(i).getPassword())){\n                return true;\n            }\n        }\n        };\n        return false;\n    }\n\n    public boolean changePass(String user,String password){\n\n        return true;\n    }\n    }\n</code></pre>\n<p>And lastly the signin java file</p>\n<pre><code>    package anhtuan.example.sample.Log;\n\n    import androidx.appcompat.app.AlertDialog;  \n    import androidx.appcompat.app.AppCompatActivity;\n\n    import android.content.DialogInterface;\n    import android.content.Intent;\n    import android.os.Bundle;\n    import android.view.LayoutInflater;\n    import android.view.View;\n    import android.widget.Button;\n    import android.widget.TextView;\n    import android.widget.Toast;\n\n    import com.google.android.material.textfield.TextInputEditText;\n\n    import java.util.ArrayList;\n\n    import anhtuan.example.sample.DAO.DAO;\n    import anhtuan.example.sample.Home;\n    import anhtuan.example.sample.Model.AccountModel;\n    import anhtuan.example.sample.R;\n\n    public class SignIn extends AppCompatActivity {\n    TextInputEditText user,pass;\n    TextView signup;\n    Button Login;\n\n    DAO dao;\n    ArrayList&lt;AccountModel&gt; ds;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_sign_in);\n        setTitle(&quot;Sign In&quot;);\n        user = findViewById(R.id.SIuser);\n        pass = findViewById(R.id.SIpass);\n        Login = findViewById(R.id.SIbtn);\n        signup = findViewById(R.id.SItv);\n\n        dao = new DAO(this);\n\n        signup.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent i = new Intent(SignIn.this,ForgotPass.class);\n                startActivity(i);\n            }\n        });\n\n        String Loginuser = user.getText().toString();\n        String Loginpasse = pass.getText().toString();\n\n        Login.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                if(user.getText().length() == 0 || pass.getText().length() == 0){\n                    AlertDialog.Builder builder = new AlertDialog.Builder(SignIn.this);\n                    builder.setTitle(&quot;You haven't insert all the blank&quot;);\n                    builder.setPositiveButton(&quot;OK&quot;, new DialogInterface.OnClickListener() {\n                        @Override\n                        public void onClick(DialogInterface dialogInterface, int i) {\n                        }\n                    });\n                    builder.show();\n                }else{\n                    if(dao.checkLogin(SignIn.this,Loginuser,Loginpasse)){\n                        Intent i = new Intent(SignIn.this,Home.class);\n                        startActivity(i);\n                    }else{\n                        AlertDialog.Builder builder = new AlertDialog.Builder(SignIn.this);\n                        builder.setTitle(&quot;Check again !&quot;);\n                        builder.setPositiveButton(&quot;OK&quot;, new DialogInterface.OnClickListener() {\n                            @Override\n                            public void onClick(DialogInterface dialogInterface, int i) {\n                            }\n                        });\n                        builder.show();\n                    }\n                }\n            }\n        });\n    }\n    }\n</code></pre>\n<p>I had try to use contain and indexOf with arrayList to find the data without using for loop but it always come out false so i decide to use for loop again.</p>\n"},{"tags":["java","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":27505525,"reputation":16,"user_id":20988343,"display_name":"Zara Marks"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673535787,"creation_date":1673535787,"answer_id":75098343,"question_id":75097964,"body_markdown":"Try using the **class = a-icon a-icon-dropdown** . In selenium you can also use the class if I am not mistaken, you just have to be careful because sometimes they use the same class for different objects.","title":"How to select the option preferred country/region website from the dropdown listbox within using Selenium in Java?","body":"<p>Try using the <strong>class = a-icon a-icon-dropdown</strong> . In selenium you can also use the class if I am not mistaken, you just have to be careful because sometimes they use the same class for different objects.</p>\n"}],"owner":{"account_id":21190672,"reputation":3,"user_id":15583246,"display_name":"Beyza Tuna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75098343,"answer_count":1,"score":-1,"last_activity_date":1673535787,"creation_date":1673534193,"question_id":75097964,"body_markdown":"How to select the option preferred country/region website Turkey from the dropdown listbox within https://www.amazon.com/customer-preferences/country/?ref_=nav_em_locale_0_1_1_37  using Selenium in Java?\r\n\r\n[screenshot](https://i.stack.imgur.com/gzdJz.png)\r\n\r\nI didn&#39;t find id and name when i try to find from inspect.","title":"How to select the option preferred country/region website from the dropdown listbox within using Selenium in Java?","body":"<p>How to select the option preferred country/region website Turkey from the dropdown listbox within <a href=\"https://www.amazon.com/customer-preferences/country/?ref_=nav_em_locale_0_1_1_37\" rel=\"nofollow noreferrer\">https://www.amazon.com/customer-preferences/country/?ref_=nav_em_locale_0_1_1_37</a>  using Selenium in Java?</p>\n<p><a href=\"https://i.stack.imgur.com/gzdJz.png\" rel=\"nofollow noreferrer\">screenshot</a></p>\n<p>I didn't find id and name when i try to find from inspect.</p>\n"},{"tags":["java","unit-testing","intellij-idea","testng"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":6,"creation_date":1370552162,"post_id":16970214,"comment_id":24514250,"body_markdown":"Right-click the testng.xml file, and choose &quot;run tests&quot; (or something like that).","body":"Right-click the testng.xml file, and choose &quot;run tests&quot; (or something like that)."},{"owner":{"account_id":2832142,"reputation":131,"user_id":2433516,"display_name":"kemeryqa"},"score":1,"creation_date":1370623465,"post_id":16970214,"comment_id":24543328,"body_markdown":"Thanks for your comment.  Does it matter where I place testng.xml within the directory structure?","body":"Thanks for your comment.  Does it matter where I place testng.xml within the directory structure?"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1370623711,"post_id":16970214,"comment_id":24543447,"body_markdown":"I don&#39;t think so. Can&#39;t test it right now.","body":"I don&#39;t think so. Can&#39;t test it right now."}],"answers":[{"tags":[],"owner":{"account_id":415566,"reputation":113,"user_id":790448,"accept_rate":38,"display_name":"Tahir Shabbir"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1380714678,"creation_date":1380714678,"answer_id":19136244,"question_id":16970214,"body_markdown":"Follow this link - http://www.jetbrains.com/idea/webhelp/run-debug-configuration-testng.html#config\r\n\r\nThere is an option just before the run icon that allows you to add the testng.xml file. In the run config dialog select  the suite option. Then select the testng file.\r\nIt worked for me.\r\n\r\nHope it helps.","title":"TestNG with IntelliJ IDEA: How to use the testng.xml file in IntelliJ IDEA 9","body":"<p>Follow this link - <a href=\"http://www.jetbrains.com/idea/webhelp/run-debug-configuration-testng.html#config\" rel=\"nofollow\">http://www.jetbrains.com/idea/webhelp/run-debug-configuration-testng.html#config</a></p>\n\n<p>There is an option just before the run icon that allows you to add the testng.xml file. In the run config dialog select  the suite option. Then select the testng file.\nIt worked for me.</p>\n\n<p>Hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":4438749,"reputation":976,"user_id":3613859,"display_name":"Rancho"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1609941417,"creation_date":1475419020,"answer_id":39818068,"question_id":16970214,"body_markdown":"1.Go to File-&gt;Settings-&gt; Plugins&gt;Verify that TestNG-J is enabled.\r\n2.Configure the testNG xml file and provide it as an external source by going to edit configurations and selecting suite and providing the path of the testNG xml you created.[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/6OCAS.png\r\n  [2]: http://i.stack.imgur.com/p4yD9.png\r\n  [3]: http://i.stack.imgur.com/5y8Tr.png","title":"TestNG with IntelliJ IDEA: How to use the testng.xml file in IntelliJ IDEA 9","body":"<p>1.Go to File-&gt;Settings-&gt; Plugins&gt;Verify that TestNG-J is enabled.\n2.Configure the testNG xml file and provide it as an external source by going to edit configurations and selecting suite and providing the path of the testNG xml you created.<a href=\"https://i.stack.imgur.com/6OCAS.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/6OCAS.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/p4yD9.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/p4yD9.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/5y8Tr.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/5y8Tr.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":10187071,"reputation":41,"user_id":7521612,"display_name":"Parinit Mishra"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1673535261,"creation_date":1570602529,"answer_id":58298217,"question_id":16970214,"body_markdown":"Just Add this Plugin &quot;[Create TestNg XML][1]&quot;\r\n[![enter image description here][2]][2]\r\n\r\n&amp; restart your Intellij IDE.\r\n\r\nthen :\r\n\r\n1. Right-Click on Your Project.\r\n2. Click on &quot;Create TestNG XML&quot; [Image 1][3]\r\n3. You will Get a Confirmation Dialog it will Show the Path Of Created XML File, Click &quot;Ok&quot;. [Image 2][4]\r\n4. Again Right-Click on Your Project &amp; then click &quot;Synchronize &#39;Your Project Name&#39;&quot;. [Image 3][5]\r\n5. You will find a newly created TestNG.xml file in your Project. [Image 4][6]\r\n\r\n\r\n  [1]: https://plugins.jetbrains.com/plugin/9556-create-testng-xml\r\n  [2]: https://i.stack.imgur.com/8nnpH.png\r\n  [3]: https://i.stack.imgur.com/YlUDt.png\r\n  [4]: https://i.stack.imgur.com/qB1pu.png\r\n  [5]: https://i.stack.imgur.com/LvLLJ.png\r\n  [6]: https://i.stack.imgur.com/VLvVy.png","title":"TestNG with IntelliJ IDEA: How to use the testng.xml file in IntelliJ IDEA 9","body":"<p>Just Add this Plugin &quot;<a href=\"https://plugins.jetbrains.com/plugin/9556-create-testng-xml\" rel=\"nofollow noreferrer\">Create TestNg XML</a>&quot;\n<a href=\"https://i.stack.imgur.com/8nnpH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8nnpH.png\" alt=\"enter image description here\" /></a></p>\n<p>&amp; restart your Intellij IDE.</p>\n<p>then :</p>\n<ol>\n<li>Right-Click on Your Project.</li>\n<li>Click on &quot;Create TestNG XML&quot; <a href=\"https://i.stack.imgur.com/YlUDt.png\" rel=\"nofollow noreferrer\">Image 1</a></li>\n<li>You will Get a Confirmation Dialog it will Show the Path Of Created XML File, Click &quot;Ok&quot;. <a href=\"https://i.stack.imgur.com/qB1pu.png\" rel=\"nofollow noreferrer\">Image 2</a></li>\n<li>Again Right-Click on Your Project &amp; then click &quot;Synchronize 'Your Project Name'&quot;. <a href=\"https://i.stack.imgur.com/LvLLJ.png\" rel=\"nofollow noreferrer\">Image 3</a></li>\n<li>You will find a newly created TestNG.xml file in your Project. <a href=\"https://i.stack.imgur.com/VLvVy.png\" rel=\"nofollow noreferrer\">Image 4</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9185017,"reputation":71,"user_id":6827593,"display_name":"sweta kumari"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1590392255,"creation_date":1590391680,"answer_id":61997664,"question_id":16970214,"body_markdown":"    1.Navigate to Run in the top menu\r\n    2.select the Run...\r\n    3.when the popup window get open go to the configuration\r\n    4.select test kind as suite\r\n    5.select the location of your xml file in Suite option \r\n    6.click on run button your testng.xml file will run\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pezzo.png","title":"TestNG with IntelliJ IDEA: How to use the testng.xml file in IntelliJ IDEA 9","body":"<pre><code>1.Navigate to Run in the top menu\n2.select the Run...\n3.when the popup window get open go to the configuration\n4.select test kind as suite\n5.select the location of your xml file in Suite option \n6.click on run button your testng.xml file will run\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/pezzo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pezzo.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":20948253,"reputation":11,"user_id":15390575,"display_name":"md.yusuf ansari"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1615667790,"creation_date":1615667790,"answer_id":66618307,"question_id":16970214,"body_markdown":"Follow the below steps: \r\n - Goto Intellij IDEA preferences ain search (command+,)\r\n - Search for plugins \r\n - Click on Marketplace\r\n - Search for testng\r\n - Install the plugin &quot;Create TestNG XML&quot; and Apply the changes\r\n - Restart Intellij\r\n - Right on your project and click on &quot;Create TestNG XML&quot;\r\n - Click OK on the confirmation dialog. \r\n - Expand the project folder and *Voila*, testng.xml will be created. ","title":"TestNG with IntelliJ IDEA: How to use the testng.xml file in IntelliJ IDEA 9","body":"<p>Follow the below steps:</p>\n<ul>\n<li>Goto Intellij IDEA preferences ain search (command+,)</li>\n<li>Search for plugins</li>\n<li>Click on Marketplace</li>\n<li>Search for testng</li>\n<li>Install the plugin &quot;Create TestNG XML&quot; and Apply the changes</li>\n<li>Restart Intellij</li>\n<li>Right on your project and click on &quot;Create TestNG XML&quot;</li>\n<li>Click OK on the confirmation dialog.</li>\n<li>Expand the project folder and <em>Voila</em>, testng.xml will be created.</li>\n</ul>\n"}],"owner":{"account_id":2832142,"reputation":131,"user_id":2433516,"display_name":"kemeryqa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62323,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":5,"score":13,"last_activity_date":1673535261,"creation_date":1370545659,"question_id":16970214,"body_markdown":"I&#39;m able to run TestNG unit tests in IntelliJ and see the pass/fail output in a window; this is without using any `testng.xml` file.  I can also run the tests in the command-line using maven, i.e. `mvn clean test -Dgroups=fast`, and that works fine.  \r\n\r\nI&#39;ve created a `testng.xml` file and added it to my project&#39;s directory, but it doesn&#39;t seem to have any effect.\r\n\r\nHow do I integrate the usage of a `testng.xml` file to define my test execution within IntelliJ IDEA 9?","title":"TestNG with IntelliJ IDEA: How to use the testng.xml file in IntelliJ IDEA 9","body":"<p>I'm able to run TestNG unit tests in IntelliJ and see the pass/fail output in a window; this is without using any <code>testng.xml</code> file.  I can also run the tests in the command-line using maven, i.e. <code>mvn clean test -Dgroups=fast</code>, and that works fine.  </p>\n\n<p>I've created a <code>testng.xml</code> file and added it to my project's directory, but it doesn't seem to have any effect.</p>\n\n<p>How do I integrate the usage of a <code>testng.xml</code> file to define my test execution within IntelliJ IDEA 9?</p>\n"},{"tags":["java","spring-boot","junit5"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1673345107,"post_id":75068250,"comment_id":132472500,"body_markdown":"Look at `assertThrows(...)` - you basically test for the exception and then let the test continue if it is thrown. You might also want to think about whether these 3 calls would actually be 3 independent tests - at least the first 2 seem to be since it doesn&#39;t make sense to fail _and_ pass on the same input.","body":"Look at <code>assertThrows(...)</code> - you basically test for the exception and then let the test continue if it is thrown. You might also want to think about whether these 3 calls would actually be 3 independent tests - at least the first 2 seem to be since it doesn&#39;t make sense to fail <i>and</i> pass on the same input."}],"answers":[{"tags":[],"owner":{"account_id":3142246,"reputation":2632,"user_id":2657515,"accept_rate":75,"display_name":"JonathanDavidArndt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673535184,"creation_date":1673457394,"answer_id":75086766,"question_id":75068250,"body_markdown":"You ought to have three different test functions:\r\n\r\n```java\r\n\t@Test\r\n\tpublic void testIsGeoOrtInboundPortabilityToNonGeoSipFiber() throws Exception\r\n\t{\r\n\t\t!isGeoOrtInboundPortabilityToNonGeoSipFiber(&#39;P&#39;, &#39;D&#39;) // Pass\r\n\t}\r\n\r\n\t@Test(expected = Exception.class)\r\n\tpublic void testIsNonGeoSipOutboundPortabilityToGeoFiberOrt() throws Exception\r\n\t{\r\n\t\tisNonGeoSipOutboundPortabilityToGeoFiberOrt(&#39;P&#39;, &#39;D&#39;) // Throw exception which is expected\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void testIsRtcPortabilityToFiberSip() throws Exception\r\n\t{\r\n\t\t!isRtcPortabilityToFiberSip(newNdipIndicatif, oldNdipAffectation, newNdipAffectation,\r\n        basicatCode) // never reached, but now it will be!\r\n\t}\r\n```\r\n\r\nA good practice is to have one assertion per test [(although this is flexible)][1]\r\n\r\nYour code does not really have assertions (they could be added by having `checkRenumberingValidation` return a boolean value, instead of throwing an exception when objects are not equal), but the conditions are being checked adequately, just in a more roundabout way than usual.\r\n\r\n----\r\n\r\nFor more reading about testing, I highly recommend the [JUnit FAQ][2]  \r\n*(written when JUnit 4 was current, but nearly all concepts can be applied generally -- this is a classic)*\r\n\r\n\r\n  [1]: https://softwareengineering.stackexchange.com/questions/7823/is-it-ok-to-have-multiple-asserts-in-a-single-unit-test\r\n  [2]: https://junit.org/junit4/faq.html","title":"Is there a way to test two opposite methods in JUnit 5?","body":"<p>You ought to have three different test functions:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    public void testIsGeoOrtInboundPortabilityToNonGeoSipFiber() throws Exception\n    {\n        !isGeoOrtInboundPortabilityToNonGeoSipFiber('P', 'D') // Pass\n    }\n\n    @Test(expected = Exception.class)\n    public void testIsNonGeoSipOutboundPortabilityToGeoFiberOrt() throws Exception\n    {\n        isNonGeoSipOutboundPortabilityToGeoFiberOrt('P', 'D') // Throw exception which is expected\n    }\n\n    @Test\n    public void testIsRtcPortabilityToFiberSip() throws Exception\n    {\n        !isRtcPortabilityToFiberSip(newNdipIndicatif, oldNdipAffectation, newNdipAffectation,\n        basicatCode) // never reached, but now it will be!\n    }\n</code></pre>\n<p>A good practice is to have one assertion per test <a href=\"https://softwareengineering.stackexchange.com/questions/7823/is-it-ok-to-have-multiple-asserts-in-a-single-unit-test\">(although this is flexible)</a></p>\n<p>Your code does not really have assertions (they could be added by having <code>checkRenumberingValidation</code> return a boolean value, instead of throwing an exception when objects are not equal), but the conditions are being checked adequately, just in a more roundabout way than usual.</p>\n<hr />\n<p>For more reading about testing, I highly recommend the <a href=\"https://junit.org/junit4/faq.html\" rel=\"nofollow noreferrer\">JUnit FAQ</a><br />\n<em>(written when JUnit 4 was current, but nearly all concepts can be applied generally -- this is a classic)</em></p>\n"}],"owner":{"account_id":16209410,"reputation":21,"user_id":11703828,"display_name":"Abdeladhim Abbassi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75086766,"answer_count":1,"score":1,"last_activity_date":1673535184,"creation_date":1673344670,"question_id":75068250,"body_markdown":"I have two opposite methods that I have to test\r\n\r\nFirst method\r\n```\r\nprivate boolean isGeoOrtInboundPortabilityToNonGeoSipFiber(Character oldNdipAffectation,\r\n      Character newNdipAffectation) {\r\n    return isNdip09NatifVoipSip(newNdipAffectation)\r\n        &amp;&amp; isNdipGeoOperator(oldNdipAffectation);\r\n}\r\n```\r\n\r\nSecond method\r\n\r\n```\r\nprivate boolean isNonGeoSipOutboundPortabilityToGeoFiberOrt(Character oldNdipAffectation,\r\n      Character newNdipAffectation) {\r\n    return isNdipGeoOperator(newNdipAffectation)\r\n        &amp;&amp; isNdip09NatifVoipSip(oldNdipAffectation);\r\n}\r\n```\r\n\r\nHere is the implementation\r\n\r\n```\r\nprotected void checkRenumberingValidation(Character oldNdipAffectation,\r\n      NdipRenumberingRequest request, String basicatCode) {\r\n    var oldNdipIndicatif = findIndicatifByNd(request.getOldNdip());\r\n    var newNdipIndicatif = findIndicatifByNd(request.getNewNdip());\r\n\r\n    if (!isClassicIpPortedNds(request)\r\n        || !isGeoOrtInboundPortabilityToNonGeoSipFiber(oldNdipAffectation, newNdipAffectation)\r\n        || !isNonGeoSipOutboundPortabilityToGeoFiberOrt(oldNdipAffectation, newNdipAffectation)\r\n        || !isRtcPortabilityToFiberSip(newNdipIndicatif, oldNdipAffectation, newNdipAffectation,\r\n        basicatCode)\r\n        &amp;&amp; (\r\n        !Objects.equals(newNdipIndicatif.getZne().getCzne(), oldNdipIndicatif.getZne().getCzne())\r\n            || !Objects.equals(newNdipIndicatif.getCsitugeo(), oldNdipIndicatif.getCsitugeo()))\r\n    ) {\r\n      throwFunctionalException(ERROR_34);\r\n    }\r\n\r\n}\r\n```\r\n\r\nIf I pass &#39;D&#39; and &#39;P&#39; this will cause throwFunctionalException(ERROR_34) and that is fine \r\n```\r\n!isGeoOrtInboundPortabilityToNonGeoSipFiber(&#39;D&#39;, &#39;P&#39;) // Throw exception which is expected\r\n```\r\n\r\nThe problem is the `isRtcPortabilityToFiberSip()` method is never reached because if I pass &#39;P&#39; and &#39;D&#39;\r\n```\r\n!isGeoOrtInboundPortabilityToNonGeoSipFiber(&#39;P&#39;, &#39;D&#39;) // Pass\r\nisNonGeoSipOutboundPortabilityToGeoFiberOrt(&#39;P&#39;, &#39;D&#39;) // Throw exception which is expected\r\n!isRtcPortabilityToFiberSip(newNdipIndicatif, oldNdipAffectation, newNdipAffectation,\r\n        basicatCode) // never reached\r\n```\r\n\r\nHow to reach `!isRtcPortabilityToFiberSip` with JUnit 5?\r\n\r\nI googled the problem without any solution.\r\n","title":"Is there a way to test two opposite methods in JUnit 5?","body":"<p>I have two opposite methods that I have to test</p>\n<p>First method</p>\n<pre><code>private boolean isGeoOrtInboundPortabilityToNonGeoSipFiber(Character oldNdipAffectation,\n      Character newNdipAffectation) {\n    return isNdip09NatifVoipSip(newNdipAffectation)\n        &amp;&amp; isNdipGeoOperator(oldNdipAffectation);\n}\n</code></pre>\n<p>Second method</p>\n<pre><code>private boolean isNonGeoSipOutboundPortabilityToGeoFiberOrt(Character oldNdipAffectation,\n      Character newNdipAffectation) {\n    return isNdipGeoOperator(newNdipAffectation)\n        &amp;&amp; isNdip09NatifVoipSip(oldNdipAffectation);\n}\n</code></pre>\n<p>Here is the implementation</p>\n<pre><code>protected void checkRenumberingValidation(Character oldNdipAffectation,\n      NdipRenumberingRequest request, String basicatCode) {\n    var oldNdipIndicatif = findIndicatifByNd(request.getOldNdip());\n    var newNdipIndicatif = findIndicatifByNd(request.getNewNdip());\n\n    if (!isClassicIpPortedNds(request)\n        || !isGeoOrtInboundPortabilityToNonGeoSipFiber(oldNdipAffectation, newNdipAffectation)\n        || !isNonGeoSipOutboundPortabilityToGeoFiberOrt(oldNdipAffectation, newNdipAffectation)\n        || !isRtcPortabilityToFiberSip(newNdipIndicatif, oldNdipAffectation, newNdipAffectation,\n        basicatCode)\n        &amp;&amp; (\n        !Objects.equals(newNdipIndicatif.getZne().getCzne(), oldNdipIndicatif.getZne().getCzne())\n            || !Objects.equals(newNdipIndicatif.getCsitugeo(), oldNdipIndicatif.getCsitugeo()))\n    ) {\n      throwFunctionalException(ERROR_34);\n    }\n\n}\n</code></pre>\n<p>If I pass 'D' and 'P' this will cause throwFunctionalException(ERROR_34) and that is fine</p>\n<pre><code>!isGeoOrtInboundPortabilityToNonGeoSipFiber('D', 'P') // Throw exception which is expected\n</code></pre>\n<p>The problem is the <code>isRtcPortabilityToFiberSip()</code> method is never reached because if I pass 'P' and 'D'</p>\n<pre><code>!isGeoOrtInboundPortabilityToNonGeoSipFiber('P', 'D') // Pass\nisNonGeoSipOutboundPortabilityToGeoFiberOrt('P', 'D') // Throw exception which is expected\n!isRtcPortabilityToFiberSip(newNdipIndicatif, oldNdipAffectation, newNdipAffectation,\n        basicatCode) // never reached\n</code></pre>\n<p>How to reach <code>!isRtcPortabilityToFiberSip</code> with JUnit 5?</p>\n<p>I googled the problem without any solution.</p>\n"},{"tags":["java","spring-boot","karate","spring-boot-test"],"comments":[{"owner":{"account_id":3711000,"reputation":31781,"user_id":3088349,"accept_rate":100,"display_name":"Maytham Fahmi"},"score":0,"creation_date":1672943735,"post_id":75022732,"comment_id":132392676,"body_markdown":"I was thinking, was not it easier to take a snapshot from your screen or copy the text and paste it?","body":"I was thinking, was not it easier to take a snapshot from your screen or copy the text and paste it?"},{"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"score":1,"creation_date":1672980197,"post_id":75022732,"comment_id":132399959,"body_markdown":"to OP, please spend some time and read the documentation: https://github.com/karatelabs/karate#calling-java - then look at other answers on stack overflow: https://stackoverflow.com/search?q=%5Bkarate%5D+java+parameter","body":"to OP, please spend some time and read the documentation: <a href=\"https://github.com/karatelabs/karate#calling-java\" rel=\"nofollow noreferrer\">github.com/karatelabs/karate#calling-java</a> - then look at other answers on stack overflow: <a href=\"https://stackoverflow.com/search?q=%5Bkarate%5D+java+parameter\">stackoverflow.com/search?q=%5Bkarate%5D+java+parameter</a>"},{"owner":{"account_id":11653603,"reputation":2210,"user_id":8534088,"display_name":"Dmitriy Popov"},"score":2,"creation_date":1673535234,"post_id":75022732,"comment_id":132525100,"body_markdown":"Please post your code as text, NOT as images.","body":"Please post your code as text, NOT as images."}],"answers":[{"tags":[],"owner":{"account_id":8362258,"reputation":1639,"user_id":6280135,"display_name":"Maninder"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1673535093,"creation_date":1673535093,"answer_id":75098161,"question_id":75022732,"body_markdown":"Our team was using the java code to generate the JWT token so I just called that java method in my karate test case and it worked.\r\n\r\nNote: We have an option to call java method in our karate test case. I was not aware about it. ","title":"How to pass token generated by java code in karate test case?","body":"<p>Our team was using the java code to generate the JWT token so I just called that java method in my karate test case and it worked.</p>\n<p>Note: We have an option to call java method in our karate test case. I was not aware about it.</p>\n"}],"owner":{"account_id":8362258,"reputation":1639,"user_id":6280135,"display_name":"Maninder"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":316,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1673582539,"accepted_answer_id":75098161,"answer_count":1,"score":0,"last_activity_date":1673535093,"creation_date":1672942549,"question_id":75022732,"body_markdown":"2 types of test cases I have written:\r\n 1. Using spring boot\r\n 2. Karate framework\r\n\r\n[![enter image description here][1]][1]\r\n\r\nTo access the endpoints, valid token is required and I am generating the token using spring boot[![enter image description here][2]][2] test. I want to use the same token for karate framework but not sure how to pass it as a parameter so that I will use it in my feature file. We are using client-credentials for auth.[enter image description here][3]\r\nI want to pass token in below mentioned karate test case:\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XqSWy.jpg\r\n  [2]: https://i.stack.imgur.com/zJkn1.jpg\r\n  [3]: https://i.stack.imgur.com/QURQq.jpg\r\n  [4]: https://i.stack.imgur.com/cUoJX.jpg","title":"How to pass token generated by java code in karate test case?","body":"<p>2 types of test cases I have written:</p>\n<ol>\n<li>Using spring boot</li>\n<li>Karate framework</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/XqSWy.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XqSWy.jpg\" alt=\"enter image description here\" /></a></p>\n<p>To access the endpoints, valid token is required and I am generating the token using spring boot<a href=\"https://i.stack.imgur.com/zJkn1.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zJkn1.jpg\" alt=\"enter image description here\" /></a> test. I want to use the same token for karate framework but not sure how to pass it as a parameter so that I will use it in my feature file. We are using client-credentials for auth.<a href=\"https://i.stack.imgur.com/QURQq.jpg\" rel=\"nofollow noreferrer\">enter image description here</a>\nI want to pass token in below mentioned karate test case:</p>\n<p><a href=\"https://i.stack.imgur.com/cUoJX.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cUoJX.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","json","spring-boot","jackson"],"owner":{"account_id":26862371,"reputation":1,"user_id":20445631,"display_name":"DUMBLEDHOR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673535001,"creation_date":1673535001,"question_id":75098148,"body_markdown":"I have a class as UserPayload.java\r\n\r\n```\r\npackage com.pulse.org.dto;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonInclude;\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport com.fasterxml.jackson.annotation.JsonPropertyOrder;\r\nimport com.fasterxml.jackson.annotation.JsonUnwrapped;\r\nimport io.swagger.v3.oas.annotations.media.Schema;\r\nimport java.util.UUID;\r\nimport javax.validation.constraints.NotNull;\r\nimport lombok.Data;\r\n\r\n@JsonInclude(value = JsonInclude.Include.NON_EMPTY, content = JsonInclude.Include.NON_NULL)\r\n@JsonPropertyOrder({&quot;id&quot;, &quot;firstName&quot;, &quot;middleName&quot;, &quot;lastName&quot;, &quot;email&quot;, &quot;countryCode&quot;, &quot;mobileNumber&quot;, &quot;orgId&quot;})\r\n@Data\r\n@Schema(description = &quot;details of a user&quot;)\r\npublic class UserPayload {\r\n\r\n  /**\r\n   * id of a user\r\n   */\r\n  @JsonProperty(&quot;id&quot;)\r\n  @Schema(name = &quot;id of a user&quot;)\r\n  private UUID id;\r\n\r\n  /*\r\n   * first name of a user\r\n   */\r\n  @NotNull(message = &quot;1020&quot;)\r\n  @Schema(name = &quot;first name of a user&quot;)\r\n  private String firstName;\r\n\r\n  /*\r\n   * middle name of a user\r\n   */\r\n  @Schema(name = &quot;middle name of a user&quot;)\r\n  private String middleName;\r\n\r\n  /*\r\n   * last name of a user\r\n   */\r\n  @NotNull(message = &quot;1021&quot;)\r\n  @Schema(name = &quot;last name of a user&quot;)\r\n  private String lastName;\r\n\r\n  /*\r\n   * email of a user\r\n   */\r\n  @NotNull(message = &quot;1022&quot;)\r\n  @Schema(name = &quot;email of a user&quot;)\r\n  private String email;\r\n\r\n  /*\r\n   * country code of a user\r\n   */\r\n  @Schema(name = &quot;country code of a user&quot;)\r\n  private Integer countryCode;\r\n\r\n  /*\r\n   * mobile number of a user\r\n   */\r\n  @Schema(name = &quot;mobile number of a user&quot;)\r\n  private Long mobileNumber;\r\n\r\n  /*\r\n   * organization id of a user&#39;s organization\r\n   */\r\n  @NotNull(message = &quot;1023&quot;)\r\n  @Schema(name = &quot;organization id of a user&#39;s organization&quot;)\r\n  private UUID orgId;\r\n\r\n  /**\r\n   * extra details of an user\r\n   */\r\n  @JsonUnwrapped\r\n\r\n  private UserExtraPayload userExtraPayload;\r\n}\r\n```\r\n\r\nand a class which is UserExtraPayload.java as a child of UserExtraPayload.\r\n\r\n```\r\npackage com.pulse.org.dto;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonInclude;\r\nimport com.fasterxml.jackson.annotation.JsonPropertyOrder;\r\nimport io.swagger.v3.oas.annotations.media.Schema;\r\nimport java.util.UUID;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\n\r\n@JsonInclude(value = JsonInclude.Include.NON_EMPTY, content = JsonInclude.Include.NON_NULL)\r\n@JsonPropertyOrder({&quot;id&quot;, &quot;supervisorId&quot;, &quot;secondaryEmail&quot;, &quot;department&quot;, &quot;subDepartment&quot;})\r\n@Data\r\n@NoArgsConstructor\r\n@Schema(description = &quot;details of a user&quot;)\r\npublic class UserExtraPayload {\r\n\r\n  /**\r\n   * id of the user\r\n   */\r\n  @Schema(name = &quot;id of the user&quot;)\r\n  private UUID id;\r\n\r\n  /*\r\n   * supervisor&#39;s id of a user\r\n   */\r\n  @Schema(name = &quot;supervisor&#39;s id of a user&quot;)\r\n  private UUID supervisorId;\r\n\r\n  /*\r\n   * secondary email of a user\r\n   */\r\n  @Schema(name = &quot;secondary email of a user&quot;)\r\n  private String secondaryEmail;\r\n\r\n  /*\r\n   * department of a user\r\n   */\r\n  @Schema(name = &quot;department of a user&quot;)\r\n  private String department;\r\n\r\n  /*\r\n   * sub department of a user\r\n   */\r\n  @Schema(name = &quot;sub department of a user&quot;)\r\n  private String subDepartment;\r\n}\r\n```\r\n\r\nexpected json\r\n\r\n```\r\n{\r\n        &quot;id&quot;: &quot;0125d290-9519-4170-89a8-0beeb6543055&quot;,\r\n        &quot;firstName&quot;: &quot;ritesh&quot;,\r\n        &quot;lastName&quot;: &quot;shakya&quot;,\r\n        &quot;email&quot;: &quot;abbs@xyz.com&quot;,\r\n        &quot;orgId&quot;: &quot;761eda6a-9a17-4047-b64b-2ce6c624fb8d&quot;,\r\n        &quot;supervisorId&quot;: &quot;761eda6a-9a17-4047-b64b-2ce6c624fb8d&quot;,\r\n        &quot;secondaryEmail&quot;: &quot;pqr@xyz&quot;,\r\n        &quot;department&quot;: &quot;ENG&quot;,\r\n        &quot;subDepartment&quot;: &quot;IT&quot;\r\n    }\r\n```\r\n\r\nBut I need to map same id which is in UserPayload and UserExtraPayload\r\n\r\nI tried using @JsonUnwrap but it&#39;s not working.\r\n\r\nI want to map a single id in both payload in UserExtra and UserPayload......","title":"Convert Java object to flattened json using Jackson","body":"<p>I have a class as UserPayload.java</p>\n<pre><code>package com.pulse.org.dto;\n\nimport com.fasterxml.jackson.annotation.JsonInclude;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.annotation.JsonPropertyOrder;\nimport com.fasterxml.jackson.annotation.JsonUnwrapped;\nimport io.swagger.v3.oas.annotations.media.Schema;\nimport java.util.UUID;\nimport javax.validation.constraints.NotNull;\nimport lombok.Data;\n\n@JsonInclude(value = JsonInclude.Include.NON_EMPTY, content = JsonInclude.Include.NON_NULL)\n@JsonPropertyOrder({&quot;id&quot;, &quot;firstName&quot;, &quot;middleName&quot;, &quot;lastName&quot;, &quot;email&quot;, &quot;countryCode&quot;, &quot;mobileNumber&quot;, &quot;orgId&quot;})\n@Data\n@Schema(description = &quot;details of a user&quot;)\npublic class UserPayload {\n\n  /**\n   * id of a user\n   */\n  @JsonProperty(&quot;id&quot;)\n  @Schema(name = &quot;id of a user&quot;)\n  private UUID id;\n\n  /*\n   * first name of a user\n   */\n  @NotNull(message = &quot;1020&quot;)\n  @Schema(name = &quot;first name of a user&quot;)\n  private String firstName;\n\n  /*\n   * middle name of a user\n   */\n  @Schema(name = &quot;middle name of a user&quot;)\n  private String middleName;\n\n  /*\n   * last name of a user\n   */\n  @NotNull(message = &quot;1021&quot;)\n  @Schema(name = &quot;last name of a user&quot;)\n  private String lastName;\n\n  /*\n   * email of a user\n   */\n  @NotNull(message = &quot;1022&quot;)\n  @Schema(name = &quot;email of a user&quot;)\n  private String email;\n\n  /*\n   * country code of a user\n   */\n  @Schema(name = &quot;country code of a user&quot;)\n  private Integer countryCode;\n\n  /*\n   * mobile number of a user\n   */\n  @Schema(name = &quot;mobile number of a user&quot;)\n  private Long mobileNumber;\n\n  /*\n   * organization id of a user's organization\n   */\n  @NotNull(message = &quot;1023&quot;)\n  @Schema(name = &quot;organization id of a user's organization&quot;)\n  private UUID orgId;\n\n  /**\n   * extra details of an user\n   */\n  @JsonUnwrapped\n\n  private UserExtraPayload userExtraPayload;\n}\n</code></pre>\n<p>and a class which is UserExtraPayload.java as a child of UserExtraPayload.</p>\n<pre><code>package com.pulse.org.dto;\n\nimport com.fasterxml.jackson.annotation.JsonInclude;\nimport com.fasterxml.jackson.annotation.JsonPropertyOrder;\nimport io.swagger.v3.oas.annotations.media.Schema;\nimport java.util.UUID;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n\n@JsonInclude(value = JsonInclude.Include.NON_EMPTY, content = JsonInclude.Include.NON_NULL)\n@JsonPropertyOrder({&quot;id&quot;, &quot;supervisorId&quot;, &quot;secondaryEmail&quot;, &quot;department&quot;, &quot;subDepartment&quot;})\n@Data\n@NoArgsConstructor\n@Schema(description = &quot;details of a user&quot;)\npublic class UserExtraPayload {\n\n  /**\n   * id of the user\n   */\n  @Schema(name = &quot;id of the user&quot;)\n  private UUID id;\n\n  /*\n   * supervisor's id of a user\n   */\n  @Schema(name = &quot;supervisor's id of a user&quot;)\n  private UUID supervisorId;\n\n  /*\n   * secondary email of a user\n   */\n  @Schema(name = &quot;secondary email of a user&quot;)\n  private String secondaryEmail;\n\n  /*\n   * department of a user\n   */\n  @Schema(name = &quot;department of a user&quot;)\n  private String department;\n\n  /*\n   * sub department of a user\n   */\n  @Schema(name = &quot;sub department of a user&quot;)\n  private String subDepartment;\n}\n</code></pre>\n<p>expected json</p>\n<pre><code>{\n        &quot;id&quot;: &quot;0125d290-9519-4170-89a8-0beeb6543055&quot;,\n        &quot;firstName&quot;: &quot;ritesh&quot;,\n        &quot;lastName&quot;: &quot;shakya&quot;,\n        &quot;email&quot;: &quot;abbs@xyz.com&quot;,\n        &quot;orgId&quot;: &quot;761eda6a-9a17-4047-b64b-2ce6c624fb8d&quot;,\n        &quot;supervisorId&quot;: &quot;761eda6a-9a17-4047-b64b-2ce6c624fb8d&quot;,\n        &quot;secondaryEmail&quot;: &quot;pqr@xyz&quot;,\n        &quot;department&quot;: &quot;ENG&quot;,\n        &quot;subDepartment&quot;: &quot;IT&quot;\n    }\n</code></pre>\n<p>But I need to map same id which is in UserPayload and UserExtraPayload</p>\n<p>I tried using @JsonUnwrap but it's not working.</p>\n<p>I want to map a single id in both payload in UserExtra and UserPayload......</p>\n"},{"tags":["java","selenium","cucumber","bdd"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1673526746,"post_id":75096310,"comment_id":132521924,"body_markdown":"Java only allows one of each annotation to be applied to a single method. Cucumber doesn&#39;t care about which adverbs you use. So change some of the `Then`(s) to `Given`, `When`, `And`, or `But`","body":"Java only allows one of each annotation to be applied to a single method. Cucumber doesn&#39;t care about which adverbs you use. So change some of the <code>Then</code>(s) to <code>Given</code>, <code>When</code>, <code>And</code>, or <code>But</code>"},{"owner":{"account_id":12961012,"reputation":51,"user_id":9370262,"display_name":"user9370262"},"score":0,"creation_date":1673527416,"post_id":75096310,"comment_id":132522158,"body_markdown":"It means Only one @Then can be used in for a method which defines the step definition implementation? But the function does exact same operation even it the defecation language got changed.","body":"It means Only one @Then can be used in for a method which defines the step definition implementation? But the function does exact same operation even it the defecation language got changed."}],"answers":[{"tags":[],"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673534188,"creation_date":1673526957,"answer_id":75096423,"question_id":75096310,"body_markdown":"You could use a regex OR grouping\r\n\r\n    @Then(&quot;User selects {string} (value|value under placements|and verify the value are Present in the dropdown)&quot;)\r\n    public void user_selectsValue(String locatorString, String option) throws Throwable {\r\n\r\nbut probably simpler to refactor to a single test phrase if the new `option` is not used/needed.\r\n\r\n","title":"Duplicate Annotations for cucumber in Java BDD framework","body":"<p>You could use a regex OR grouping</p>\n<pre><code>@Then(&quot;User selects {string} (value|value under placements|and verify the value are Present in the dropdown)&quot;)\npublic void user_selectsValue(String locatorString, String option) throws Throwable {\n</code></pre>\n<p>but probably simpler to refactor to a single test phrase if the new <code>option</code> is not used/needed.</p>\n"},{"tags":[],"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673534909,"creation_date":1673534909,"answer_id":75098126,"question_id":75096310,"body_markdown":"I guess you&#39;re using an old version of Cucumber. Since [Cucumber v5 the step definition annotations are repeatable][1]\r\n\r\n\r\n  [1]: https://github.com/cucumber/cucumber-jvm/blob/bb8f6bb1e007870b79d8d43d828be6490b6d3189/release-notes/v5.0.0.md#repeatable-annotations","title":"Duplicate Annotations for cucumber in Java BDD framework","body":"<p>I guess you're using an old version of Cucumber. Since <a href=\"https://github.com/cucumber/cucumber-jvm/blob/bb8f6bb1e007870b79d8d43d828be6490b6d3189/release-notes/v5.0.0.md#repeatable-annotations\" rel=\"nofollow noreferrer\">Cucumber v5 the step definition annotations are repeatable</a></p>\n"}],"owner":{"account_id":12961012,"reputation":51,"user_id":9370262,"display_name":"user9370262"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75096423,"answer_count":2,"score":0,"last_activity_date":1673534909,"creation_date":1673526334,"question_id":75096310,"body_markdown":"Below three @Then statement coming from different step definition how to resolve this in Java.\r\n\r\n  \r\n\r\n\r\n\r\n    @Then(&quot;User selects {string} value&quot;)\r\n    @Then(&quot;User selects {string} and verify the value are Present in the dropdown&quot;)\r\n    @Then(&quot;User selects {string} value under placements&quot;)\r\n    public void user_selectsValue(String locatorString) throws Throwable {\r\n        locatorStr =  POC_homePageMenuItems.mainButtonDropdownNewfrmData(locatorString);\r\n        elementclick(locatorStr);\r\n        }\r\nHow to get this issue resolved, in python duplicate @Then with different step definition is allowed. How to resolve this in Java\r\n\r\n  [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pE16t.png","title":"Duplicate Annotations for cucumber in Java BDD framework","body":"<p>Below three @Then statement coming from different step definition how to resolve this in Java.</p>\n<pre><code>@Then(&quot;User selects {string} value&quot;)\n@Then(&quot;User selects {string} and verify the value are Present in the dropdown&quot;)\n@Then(&quot;User selects {string} value under placements&quot;)\npublic void user_selectsValue(String locatorString) throws Throwable {\n    locatorStr =  POC_homePageMenuItems.mainButtonDropdownNewfrmData(locatorString);\n    elementclick(locatorStr);\n    }\n</code></pre>\n<p>How to get this issue resolved, in python duplicate @Then with different step definition is allowed. How to resolve this in Java</p>\n<p><a href=\"https://i.stack.imgur.com/pE16t.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pE16t.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","mongodb","pojo","mongo-java","mongo-collection"],"answers":[{"tags":[],"owner":{"account_id":1599746,"reputation":13,"user_id":1481037,"display_name":"Harjinder Banga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673534748,"creation_date":1673534748,"answer_id":75098091,"question_id":74996309,"body_markdown":"We can use \r\n\r\n     public List&lt;CsvRow&gt; RetriveAllDocumentsInCSVRows(String collectionName) {\r\n        List&lt;CsvRow&gt; userList = new ArrayList&lt;CsvRow&gt;();\r\n        List&lt;CsvRow&gt; collection = database.getCollection(collectionName, CsvRow.class).find().into(userList);\r\n        // return all documents in the collection\r\n        for (CsvRow u : userList) {\r\n            System.out.println(u.getVin());\r\n        }\r\n\r\n        return collection;\r\n    }","title":"Trying to populate Java Pojo class with MongoDB collection and getting null","body":"<p>We can use</p>\n<pre><code> public List&lt;CsvRow&gt; RetriveAllDocumentsInCSVRows(String collectionName) {\n    List&lt;CsvRow&gt; userList = new ArrayList&lt;CsvRow&gt;();\n    List&lt;CsvRow&gt; collection = database.getCollection(collectionName, CsvRow.class).find().into(userList);\n    // return all documents in the collection\n    for (CsvRow u : userList) {\n        System.out.println(u.getVin());\n    }\n\n    return collection;\n}\n</code></pre>\n"}],"owner":{"account_id":1599746,"reputation":13,"user_id":1481037,"display_name":"Harjinder Banga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75098091,"answer_count":1,"score":0,"last_activity_date":1673534748,"creation_date":1672764831,"question_id":74996309,"body_markdown":"I am trying to populate the Java POJO class with the Mongo DB collection but getting null when trying to get data from the Pojo class\r\n\r\nHere **CSVRow** is the **POJO class name**\r\n\r\n\r\n**The class constructor**\r\n```\r\nMongoDatabase database;\r\n\r\nMongoDbUtils() {\r\n    String uri = &quot;mongodb://localhost:27017/?maxPoolSize=20&amp;w=majority&quot;;\r\n\r\n    //This registry is required for your Mongo document to POJO conversion\r\n    ConnectionString connectionString = new ConnectionString(uri);\r\n    CodecRegistry pojoCodecRegistry = fromProviders(PojoCodecProvider.builder().automatic(true).build());\r\n    CodecRegistry codecRegistry = fromRegistries(MongoClientSettings.getDefaultCodecRegistry(), pojoCodecRegistry);\r\n    MongoClientSettings clientSettings = MongoClientSettings.builder()\r\n            .applyConnectionString(connectionString)\r\n            .codecRegistry(codecRegistry)\r\n            .build();\r\n    MongoClient mongoClient = MongoClients.create(clientSettings);\r\n    database = mongoClient.getDatabase(&quot;StudyPriceDataTest&quot;);\r\n}\r\n```\r\n\r\n\r\n\r\n**Function to retrieve data from POJO**\r\n```\r\npublic MongoCollection&lt;CsvRow&gt; RetriveAllDocumentsInCSVRows(String collectionName) {\r\n    System.out.println(collectionName);\r\n    MongoCollection&lt;CsvRow&gt; collection = database.getCollection(collectionName, CsvRow.class);\r\n    List&lt;CsvRow&gt; csvRows = collection.find(new Document(), CsvRow.class).into(new ArrayList&lt;CsvRow&gt;());\r\n    for(CsvRow doc:csvRows) {\r\n        System.out.println(&quot;vinsds=&quot;+doc.getVin()); **&lt;-- here I am getting null**\r\n    }\r\n    return collection;\r\n}\r\n```\r\n\r\n\r\n\r\nI tried with the code mentioned and I am expecting to get the data from the POJO","title":"Trying to populate Java Pojo class with MongoDB collection and getting null","body":"<p>I am trying to populate the Java POJO class with the Mongo DB collection but getting null when trying to get data from the Pojo class</p>\n<p>Here <strong>CSVRow</strong> is the <strong>POJO class name</strong></p>\n<p><strong>The class constructor</strong></p>\n<pre><code>MongoDatabase database;\n\nMongoDbUtils() {\n    String uri = &quot;mongodb://localhost:27017/?maxPoolSize=20&amp;w=majority&quot;;\n\n    //This registry is required for your Mongo document to POJO conversion\n    ConnectionString connectionString = new ConnectionString(uri);\n    CodecRegistry pojoCodecRegistry = fromProviders(PojoCodecProvider.builder().automatic(true).build());\n    CodecRegistry codecRegistry = fromRegistries(MongoClientSettings.getDefaultCodecRegistry(), pojoCodecRegistry);\n    MongoClientSettings clientSettings = MongoClientSettings.builder()\n            .applyConnectionString(connectionString)\n            .codecRegistry(codecRegistry)\n            .build();\n    MongoClient mongoClient = MongoClients.create(clientSettings);\n    database = mongoClient.getDatabase(&quot;StudyPriceDataTest&quot;);\n}\n</code></pre>\n<p><strong>Function to retrieve data from POJO</strong></p>\n<pre><code>public MongoCollection&lt;CsvRow&gt; RetriveAllDocumentsInCSVRows(String collectionName) {\n    System.out.println(collectionName);\n    MongoCollection&lt;CsvRow&gt; collection = database.getCollection(collectionName, CsvRow.class);\n    List&lt;CsvRow&gt; csvRows = collection.find(new Document(), CsvRow.class).into(new ArrayList&lt;CsvRow&gt;());\n    for(CsvRow doc:csvRows) {\n        System.out.println(&quot;vinsds=&quot;+doc.getVin()); **&lt;-- here I am getting null**\n    }\n    return collection;\n}\n</code></pre>\n<p>I tried with the code mentioned and I am expecting to get the data from the POJO</p>\n"},{"tags":["java","hashmap","java.util.scanner"],"comments":[{"owner":{"account_id":5850578,"reputation":1170,"user_id":4609353,"display_name":"Oleg Ushakov"},"score":0,"creation_date":1670332810,"post_id":74703178,"comment_id":131848061,"body_markdown":"requested logic doesn&#39;t applied to hashmap structure","body":"requested logic doesn&#39;t applied to hashmap structure"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":2,"creation_date":1670333153,"post_id":74703178,"comment_id":131848192,"body_markdown":"You would probably want a `LinkedHashMap` or similar: `HashMap` is inherently unordered, and thus the values you put it may not come out in the same order.","body":"You would probably want a <code>LinkedHashMap</code> or similar: <code>HashMap</code> is inherently unordered, and thus the values you put it may not come out in the same order."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1670333375,"post_id":74703178,"comment_id":131848273,"body_markdown":"You may keep the first two IDs two variables so that you can remove those entries by ID when you want (variations of the idea are thinkable).","body":"You may keep the first two IDs two variables so that you can remove those entries by ID when you want (variations of the idea are thinkable)."},{"owner":{"account_id":23834920,"reputation":31,"user_id":17840763,"display_name":"bruuh"},"score":0,"creation_date":1670334694,"post_id":74703178,"comment_id":131848787,"body_markdown":"but I want to remove specifically the first 2 ID of my hashmap","body":"but I want to remove specifically the first 2 ID of my hashmap"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":4,"creation_date":1670337215,"post_id":74703178,"comment_id":131849781,"body_markdown":"There is no &quot;first two&quot;: If you add keys `63` and `64` to a hashmap, then add `65`, you might be surprised that the order of your hashmap could be `64, 65, 63`. It is _unordered_, there is no notion of &quot;first two&quot; that&#39;s consistent with insertion order.","body":"There is no &quot;first two&quot;: If you add keys <code>63</code> and <code>64</code> to a hashmap, then add <code>65</code>, you might be surprised that the order of your hashmap could be <code>64, 65, 63</code>. It is <i>unordered</i>, there is no notion of &quot;first two&quot; that&#39;s consistent with insertion order."}],"answers":[{"tags":[],"owner":{"account_id":27166642,"reputation":34,"user_id":20704061,"display_name":"Mavlyan Sadirov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670848503,"creation_date":1670397898,"answer_id":74713066,"question_id":74703178,"body_markdown":"You can use interfaces SortedMap or NavigableMap for deleting first two key-pairs,\r\nbut you can NOT do it with HashMap, because it doesn&#39;t save order. As a hashmap has no order it makes no sense to delete the first entry.","title":"how to remove the first 2 key-pairs in hasmap","body":"<p>You can use interfaces SortedMap or NavigableMap for deleting first two key-pairs,\nbut you can NOT do it with HashMap, because it doesn't save order. As a hashmap has no order it makes no sense to delete the first entry.</p>\n"}],"owner":{"account_id":23834920,"reputation":31,"user_id":17840763,"display_name":"bruuh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1673534591,"creation_date":1670332642,"question_id":74703178,"body_markdown":"I asks the user to put 2 key pairs\r\n\r\n    for (int j = 0; j &lt; 2; j++) {\r\n            System.out.print(&quot;Enter student ID &quot; + (j + 1) + &quot;: &quot;);\r\n            id = sc.next();\r\n            System.out.print(&quot;Enter student name &quot; + (j + 1) + &quot;: &quot;);\r\n            name = sc.next();\r\n            studentList.put(id, name);\r\n        }\r\nthen I removed the last pair the user entered\r\n\r\n    studentList.remove(id);\r\nI ask for another pair and added it into the hashmap\r\n\r\n    System.out.println(&quot;Enter username: &quot;);\r\n        username = sc.next();\r\n        System.out.println(&quot;Enter password: &quot;);\r\n        password = sc.next();\r\n        studentList.put(username, password);\r\nnow, I want to ask the user again for another 3 pair\r\n\r\n    for (int y = 0; y &lt; 3; y++) {\r\n            System.out.print(&quot;Enter username &quot; + (y + 1) + &quot;: &quot;);\r\n            username = sc.next();\r\n            System.out.print(&quot;Enter password &quot; + (y + 1) + &quot;: &quot;);\r\n            password = sc.next();\r\n            studentList.put(username, password);\r\n        }\r\nbut now, I want to remove the first 2 the user put.\r\n\r\n\r\nEDIT: I did it by putting the first 2 key pairs in an Array List so that it can be accessed in order.","title":"how to remove the first 2 key-pairs in hasmap","body":"<p>I asks the user to put 2 key pairs</p>\n<pre><code>for (int j = 0; j &lt; 2; j++) {\n        System.out.print(&quot;Enter student ID &quot; + (j + 1) + &quot;: &quot;);\n        id = sc.next();\n        System.out.print(&quot;Enter student name &quot; + (j + 1) + &quot;: &quot;);\n        name = sc.next();\n        studentList.put(id, name);\n    }\n</code></pre>\n<p>then I removed the last pair the user entered</p>\n<pre><code>studentList.remove(id);\n</code></pre>\n<p>I ask for another pair and added it into the hashmap</p>\n<pre><code>System.out.println(&quot;Enter username: &quot;);\n    username = sc.next();\n    System.out.println(&quot;Enter password: &quot;);\n    password = sc.next();\n    studentList.put(username, password);\n</code></pre>\n<p>now, I want to ask the user again for another 3 pair</p>\n<pre><code>for (int y = 0; y &lt; 3; y++) {\n        System.out.print(&quot;Enter username &quot; + (y + 1) + &quot;: &quot;);\n        username = sc.next();\n        System.out.print(&quot;Enter password &quot; + (y + 1) + &quot;: &quot;);\n        password = sc.next();\n        studentList.put(username, password);\n    }\n</code></pre>\n<p>but now, I want to remove the first 2 the user put.</p>\n<p>EDIT: I did it by putting the first 2 key pairs in an Array List so that it can be accessed in order.</p>\n"},{"tags":["java","java.util.scanner"],"answers":[{"tags":[],"owner":{"account_id":93007,"reputation":51990,"user_id":254643,"display_name":"Raghuram"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1288446178,"creation_date":1288446178,"answer_id":4058942,"question_id":4058912,"body_markdown":"Default delimiter of Scanner is whitespace.  Check [javadoc][1] for how to change this.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.5.0/docs/api/java/util/Scanner.html","title":"Scanner doesn&#39;t read whole sentence - difference between next() and nextLine() of scanner class","body":"<p>Default delimiter of Scanner is whitespace.  Check <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/util/Scanner.html\" rel=\"noreferrer\">javadoc</a> for how to change this.</p>\n"},{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1288446213,"creation_date":1288446213,"answer_id":4058945,"question_id":4058912,"body_markdown":"Instead of using `System.in` and `System.out` directly, use the [`Console`][1] class - it allows you to display a prompt and read an entire line (thereby fixing your problem) of input in one call:\r\n\r\n    String address = System.console().readLine(&quot;Enter your Address: &quot;);\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/io/Console.html\r\n","title":"Scanner doesn&#39;t read whole sentence - difference between next() and nextLine() of scanner class","body":"<p>Instead of using <code>System.in</code> and <code>System.out</code> directly, use the <a href=\"http://download.oracle.com/javase/6/docs/api/java/io/Console.html\" rel=\"noreferrer\"><code>Console</code></a> class - it allows you to display a prompt and read an entire line (thereby fixing your problem) of input in one call:</p>\n\n<pre><code>String address = System.console().readLine(\"Enter your Address: \");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":55654,"reputation":90563,"user_id":166712,"accept_rate":100,"display_name":"Anthony Forloney"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1288446725,"creation_date":1288446398,"answer_id":4058958,"question_id":4058912,"body_markdown":"I would use [`Scanner#nextLine`](http://download.oracle.com/javase/1.5.0/docs/api/java/util/Scanner.html#nextLine%28%29) opposed to `next` for your `address` attribute. \r\n\r\n\r\n&gt;This method returns the rest of the current line, excluding any line separator at the end.\r\n\r\nSince this returns the entire line, delimited by a line separator, it will allow the user to enter any address without any constraint.\r\n\r\n\r\n","title":"Scanner doesn&#39;t read whole sentence - difference between next() and nextLine() of scanner class","body":"<p>I would use <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/util/Scanner.html#nextLine%28%29\" rel=\"noreferrer\"><code>Scanner#nextLine</code></a> opposed to <code>next</code> for your <code>address</code> attribute. </p>\n\n<blockquote>\n  <p>This method returns the rest of the current line, excluding any line separator at the end.</p>\n</blockquote>\n\n<p>Since this returns the entire line, delimited by a line separator, it will allow the user to enter any address without any constraint.</p>\n"},{"tags":[],"owner":{"account_id":3848839,"reputation":1,"user_id":3196101,"display_name":"user114573"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1389776452,"creation_date":1389776452,"answer_id":21132965,"question_id":4058912,"body_markdown":"You can do this:\r\n\r\n    class MyStudentDetails{\r\n        public static void main (String args[]){\r\n             Scanner s = new Scanner(System.in);\r\n             System.out.println(&quot;Enter Your Name: &quot;);\r\n             String name = s.nextLine();\r\n             System.out.println(&quot;Enter Your Age: &quot;);\r\n             String age = s.nextLine();\r\n             System.out.println(&quot;Enter Your E-mail: &quot;);\r\n             String email = s.nextLine();\r\n             System.out.println(&quot;Enter Your Address: &quot;);\r\n             String address = s.nextLine();\r\n\r\n\r\n             System.out.println(&quot;Name: &quot;+name);\r\n             System.out.println(&quot;Age: &quot;+age);\r\n             System.out.println(&quot;E-mail: &quot;+email);\r\n             System.out.println(&quot;Address: &quot;+address);\r\n\r\n        }\r\n    }","title":"Scanner doesn&#39;t read whole sentence - difference between next() and nextLine() of scanner class","body":"<p>You can do this:</p>\n\n<pre><code>class MyStudentDetails{\n    public static void main (String args[]){\n         Scanner s = new Scanner(System.in);\n         System.out.println(\"Enter Your Name: \");\n         String name = s.nextLine();\n         System.out.println(\"Enter Your Age: \");\n         String age = s.nextLine();\n         System.out.println(\"Enter Your E-mail: \");\n         String email = s.nextLine();\n         System.out.println(\"Enter Your Address: \");\n         String address = s.nextLine();\n\n\n         System.out.println(\"Name: \"+name);\n         System.out.println(\"Age: \"+age);\n         System.out.println(\"E-mail: \"+email);\n         System.out.println(\"Address: \"+address);\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3097369,"reputation":177,"user_id":3584589,"display_name":"Nomad"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1425990969,"creation_date":1425990969,"answer_id":28963931,"question_id":4058912,"body_markdown":"Initialize the Scanner this way so that it delimits input using a new line character.\r\n\r\n    Scanner sc = new Scanner(System.in).useDelimiter(&quot;\\\\n&quot;);\r\n\r\nRefer the [JavaDoc][1] for more details\r\n\r\nUse sc.next() to get the whole line in a String\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html","title":"Scanner doesn&#39;t read whole sentence - difference between next() and nextLine() of scanner class","body":"<p>Initialize the Scanner this way so that it delimits input using a new line character.</p>\n\n<pre><code>Scanner sc = new Scanner(System.in).useDelimiter(\"\\\\n\");\n</code></pre>\n\n<p>Refer the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html\" rel=\"noreferrer\">JavaDoc</a> for more details</p>\n\n<p>Use sc.next() to get the whole line in a String</p>\n"},{"tags":[],"owner":{"account_id":7471640,"reputation":9,"user_id":5679439,"display_name":"Eugene Prokopenko"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1476795176,"creation_date":1454274915,"answer_id":35119553,"question_id":4058912,"body_markdown":"I had the same question. This should work for you: \r\n\r\n    s.nextLine();","title":"Scanner doesn&#39;t read whole sentence - difference between next() and nextLine() of scanner class","body":"<p>I had the same question. This should work for you: </p>\n\n<pre><code>s.nextLine();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7880587,"reputation":481,"user_id":5954725,"display_name":"Arvind Ramachandran"},"down_vote_count":0,"up_vote_count":48,"is_accepted":false,"score":48,"last_activity_date":1673534475,"creation_date":1456456135,"answer_id":35642695,"question_id":4058912,"body_markdown":"This approach should work:      \r\n\r\n    String s = sc.next();\r\n    s += sc.nextLine();","title":"Scanner doesn&#39;t read whole sentence - difference between next() and nextLine() of scanner class","body":"<p>This approach should work:</p>\n<pre><code>String s = sc.next();\ns += sc.nextLine();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8076253,"reputation":373,"user_id":6087211,"display_name":"Akshay Suresh"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1529394850,"creation_date":1458408104,"answer_id":36104752,"question_id":4058912,"body_markdown":"Use `nextLine()` instead of `next()` for taking sentence as string input.\r\n\r\n\r\n\r\n    Scanner sc = new Scanner(System.in);\r\n    String s = sc.nextLine();","title":"Scanner doesn&#39;t read whole sentence - difference between next() and nextLine() of scanner class","body":"<p>Use <code>nextLine()</code> instead of <code>next()</code> for taking sentence as string input.</p>\n\n<pre><code>Scanner sc = new Scanner(System.in);\nString s = sc.nextLine();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6687310,"reputation":1,"user_id":5158042,"display_name":"Bharathi Mohan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1471634451,"creation_date":1471634451,"answer_id":39046332,"question_id":4058912,"body_markdown":"To get the whole adress add \r\n\r\n    s.nextLine();//read the rest of the line as input\r\n    \r\nbefore\r\n\r\n    System.out.println(&quot;Enter Your Address: &quot;);\r\n    String address = s.next();","title":"Scanner doesn&#39;t read whole sentence - difference between next() and nextLine() of scanner class","body":"<p>To get the whole adress add </p>\n\n<pre><code>s.nextLine();//read the rest of the line as input\n</code></pre>\n\n<p>before</p>\n\n<pre><code>System.out.println(\"Enter Your Address: \");\nString address = s.next();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7227784,"reputation":1,"user_id":5515758,"display_name":"Vinayak"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1474010315,"creation_date":1474009049,"answer_id":39525451,"question_id":4058912,"body_markdown":"    String s=&quot;Hi&quot;;\r\n    String s1=&quot;&quot;;\r\n    \r\n    //For Reading Line by hasNext() of scanner \r\n     while(scan.hasNext()){\r\n      s1 = scan.nextLine();\r\n     }\r\n    System.out.println(s+s1);\r\n    \r\n    /*This Worked Fine for me for reading Entire Line using Scanner*/","title":"Scanner doesn&#39;t read whole sentence - difference between next() and nextLine() of scanner class","body":"<pre><code>String s=\"Hi\";\nString s1=\"\";\n\n//For Reading Line by hasNext() of scanner \n while(scan.hasNext()){\n  s1 = scan.nextLine();\n }\nSystem.out.println(s+s1);\n\n/*This Worked Fine for me for reading Entire Line using Scanner*/\n</code></pre>\n"},{"tags":[],"owner":{"account_id":63782,"reputation":6252,"user_id":188622,"accept_rate":44,"display_name":"Gubatron"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1485005656,"creation_date":1485005656,"answer_id":41780007,"question_id":4058912,"body_markdown":"I set the token delimiter to be a newline pattern, read the next token, and then put the delimiter back to whatever it was.\r\n\r\n    public static String readLine(Scanner scanner) {\r\n            Pattern oldDelimiter = scanner.delimiter();\r\n            scanner.useDelimiter(&quot;\\\\r\\\\n|[\\\\n\\\\x0B\\\\x0C\\\\r\\\\u0085\\\\u2028\\\\u2029]&quot;);\r\n            String r = scanner.next();\r\n            scanner.useDelimiter(oldDelimiter);\r\n            return r;\r\n    }","title":"Scanner doesn&#39;t read whole sentence - difference between next() and nextLine() of scanner class","body":"<p>I set the token delimiter to be a newline pattern, read the next token, and then put the delimiter back to whatever it was.</p>\n\n<pre><code>public static String readLine(Scanner scanner) {\n        Pattern oldDelimiter = scanner.delimiter();\n        scanner.useDelimiter(\"\\\\r\\\\n|[\\\\n\\\\x0B\\\\x0C\\\\r\\\\u0085\\\\u2028\\\\u2029]\");\n        String r = scanner.next();\n        scanner.useDelimiter(oldDelimiter);\n        return r;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11348654,"reputation":21,"user_id":8320426,"display_name":"kallipudi yeswanth"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1500304397,"creation_date":1500304092,"answer_id":45147683,"question_id":4058912,"body_markdown":"    import java.util.Scanner;\r\n    public class Solution {\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner scan = new Scanner(System.in);\r\n            int i = scan.nextInt();\r\n            double d = scan.nextDouble();\r\n            String s=&quot;&quot;;\r\n            while(scan.hasNext())\r\n            {\r\n                s=scan.nextLine();\r\n            }\r\n           \r\n            System.out.println(&quot;String: &quot; +s);\r\n            System.out.println(&quot;Double: &quot; + d);\r\n            System.out.println(&quot;Int: &quot; + i);\r\n        }\r\n    }\r\n\r\n","title":"Scanner doesn&#39;t read whole sentence - difference between next() and nextLine() of scanner class","body":"<pre><code>import java.util.Scanner;\npublic class Solution {\n\n    public static void main(String[] args) {\n        Scanner scan = new Scanner(System.in);\n        int i = scan.nextInt();\n        double d = scan.nextDouble();\n        String s=\"\";\n        while(scan.hasNext())\n        {\n            s=scan.nextLine();\n        }\n\n        System.out.println(\"String: \" +s);\n        System.out.println(\"Double: \" + d);\n        System.out.println(\"Int: \" + i);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8691257,"reputation":160,"user_id":6504076,"display_name":"Gourab Konar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1542181536,"creation_date":1502951114,"answer_id":45727956,"question_id":4058912,"body_markdown":"`next()` can read the input only till the space. It can&#39;t read two words separated by space. Also, `next()` places the cursor in the same line after reading the input.\r\n\r\n`nextLine()` reads input including space between the words (that is, it reads till the end of line `\\n`). Once the input is read, `nextLine()` positions the cursor in the next line.\r\n\r\nfor reading the entire line you can use `nextLine()`","title":"Scanner doesn&#39;t read whole sentence - difference between next() and nextLine() of scanner class","body":"<p><code>next()</code> can read the input only till the space. It can't read two words separated by space. Also, <code>next()</code> places the cursor in the same line after reading the input.</p>\n\n<p><code>nextLine()</code> reads input including space between the words (that is, it reads till the end of line <code>\\n</code>). Once the input is read, <code>nextLine()</code> positions the cursor in the next line.</p>\n\n<p>for reading the entire line you can use <code>nextLine()</code></p>\n"},{"tags":[],"owner":{"account_id":11331814,"reputation":61,"user_id":8309108,"display_name":"Asid"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1503738727,"creation_date":1503717439,"answer_id":45891608,"question_id":4058912,"body_markdown":"I tried following code but this is not stopping as there is no break condition so it always waiting for input , may be you could add a condition for break\r\n\r\n\r\n    public class Solution {\r\n\r\n        public static void main(String[] args) {\r\n            Scanner scan = new Scanner(System.in);\r\n            int i = scan.nextInt();\r\n            double d = scan.nextDouble();\r\n            String s=&quot;&quot;;\r\n            while(scan.hasNext())\r\n            {\r\n                s=scan.nextLine();\r\n            }\r\n\r\n            System.out.println(&quot;String: &quot; +s);\r\n            System.out.println(&quot;Double: &quot; + d);\r\n            System.out.println(&quot;Int: &quot; + i);\r\n        }\r\n    }","title":"Scanner doesn&#39;t read whole sentence - difference between next() and nextLine() of scanner class","body":"<p>I tried following code but this is not stopping as there is no break condition so it always waiting for input , may be you could add a condition for break</p>\n\n<pre><code>public class Solution {\n\n    public static void main(String[] args) {\n        Scanner scan = new Scanner(System.in);\n        int i = scan.nextInt();\n        double d = scan.nextDouble();\n        String s=\"\";\n        while(scan.hasNext())\n        {\n            s=scan.nextLine();\n        }\n\n        System.out.println(\"String: \" +s);\n        System.out.println(\"Double: \" + d);\n        System.out.println(\"Int: \" + i);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4865074,"reputation":63,"user_id":3923618,"display_name":"Satyajit Mishra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508211586,"creation_date":1505812982,"answer_id":46296601,"question_id":4058912,"body_markdown":"Below is the sample code to read a line in Standard input using Java Scanner class.\r\n    \r\n    import java.util.Scanner;\r\n    \r\n    public class Solution {\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner scan = new Scanner(System.in);\r\n            String s = scan.nextLine();\r\n            System.out.println(s);\r\n            scan.close();\r\n        }\r\n    }\r\n\r\nInput:\r\n\r\n&gt;Hello World\r\n\r\nOutput:\r\n\r\n&gt;Hello World","title":"Scanner doesn&#39;t read whole sentence - difference between next() and nextLine() of scanner class","body":"<p>Below is the sample code to read a line in Standard input using Java Scanner class.</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class Solution {\n\n    public static void main(String[] args) {\n        Scanner scan = new Scanner(System.in);\n        String s = scan.nextLine();\n        System.out.println(s);\n        scan.close();\n    }\n}\n</code></pre>\n\n<p>Input:</p>\n\n<blockquote>\n  <p>Hello World</p>\n</blockquote>\n\n<p>Output:</p>\n\n<blockquote>\n  <p>Hello World</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":11886089,"reputation":557,"user_id":8698420,"display_name":"magician"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508210606,"creation_date":1508210606,"answer_id":46781983,"question_id":4058912,"body_markdown":"&quot;it only prints a word lets say only &#39;Archbishop&#39; from &#39;Archbishop Street&quot;\r\n\r\nIt is only printing the word because Scanner functions such as next(), nextInt(), etc. read only a token at time. Thus this function reads and returns the next token.\r\n\r\n    For example if you have: x y z\r\n     s.next() will return x\r\n     s.nextLine() y z\r\n\r\nGoing back to your code if you want to read the whole line &quot;Archbishop Street&quot;\r\n\r\n    String address = s.next(); // s = &quot;Archbishop&quot;\r\n    Then address += s.nextLine(); // s = s + &quot; Street&quot;","title":"Scanner doesn&#39;t read whole sentence - difference between next() and nextLine() of scanner class","body":"<p>\"it only prints a word lets say only 'Archbishop' from 'Archbishop Street\"</p>\n\n<p>It is only printing the word because Scanner functions such as next(), nextInt(), etc. read only a token at time. Thus this function reads and returns the next token.</p>\n\n<pre><code>For example if you have: x y z\n s.next() will return x\n s.nextLine() y z\n</code></pre>\n\n<p>Going back to your code if you want to read the whole line \"Archbishop Street\"</p>\n\n<pre><code>String address = s.next(); // s = \"Archbishop\"\nThen address += s.nextLine(); // s = s + \" Street\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10941363,"reputation":41,"user_id":8041106,"display_name":"Malsha"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1508337983,"creation_date":1508337983,"answer_id":46813007,"question_id":4058912,"body_markdown":"We can easily done using scan.nextLine .It will read the rest of the input till the end. Then assign it to your variable. Entire sentence can be printed easily\r\n. Here is the example for your better understanding.\r\n\r\n\r\n\r\n\r\n\r\n       \r\n        String s = &quot;HackerRank &quot;;\r\n      \r\n        Scanner scan = new Scanner(System.in);\r\n        \r\n       \r\n        String s2;\r\n        \r\n        \r\n        \r\n        scan.nextLine(); // read the rest of the line of input (newline character after the double token).\r\n        s2 = scan.nextLine();\r\n       \r\n       \r\n      \r\n        /* Concatenate and print the String variables on a new line integer variables on a new line; \r\n          \r\n        System.out.println(s + s2);\r\n        \r\n        scan.close();\r\n   }\r\n}","title":"Scanner doesn&#39;t read whole sentence - difference between next() and nextLine() of scanner class","body":"<p>We can easily done using scan.nextLine .It will read the rest of the input till the end. Then assign it to your variable. Entire sentence can be printed easily\n. Here is the example for your better understanding.</p>\n\n<pre><code>    String s = \"HackerRank \";\n\n    Scanner scan = new Scanner(System.in);\n\n\n    String s2;\n\n\n\n    scan.nextLine(); // read the rest of the line of input (newline character after the double token).\n    s2 = scan.nextLine();\n\n\n\n    /* Concatenate and print the String variables on a new line integer variables on a new line; \n\n    System.out.println(s + s2);\n\n    scan.close();\n</code></pre>\n\n<p>}\n}</p>\n"},{"tags":[],"owner":{"account_id":5668676,"reputation":997,"user_id":4484081,"display_name":"akshaya pandey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510081400,"creation_date":1510081400,"answer_id":47165615,"question_id":4058912,"body_markdown":"the below piece of code should do what yoiu are looking for:\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scan = new Scanner(System.in);\r\n        String s = scan.nextLine();\r\n        System.out.println(s);\r\n        scan.close();\r\n    }","title":"Scanner doesn&#39;t read whole sentence - difference between next() and nextLine() of scanner class","body":"<p>the below piece of code should do what yoiu are looking for:</p>\n\n<pre><code>public static void main(String[] args) {\n    Scanner scan = new Scanner(System.in);\n    String s = scan.nextLine();\n    System.out.println(s);\n    scan.close();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14194091,"reputation":51,"user_id":10253869,"display_name":"ayush sharma"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1547634352,"creation_date":1542175641,"answer_id":53294087,"question_id":4058912,"body_markdown":"    import java.util.Scanner;\r\n    \r\n    public class Solution {\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner scan = new Scanner(System.in);\r\n            String s = scan.next();\r\n            s += scan.nextLine();\r\n            System.out.println(&quot;String: &quot; + s);\r\n         \r\n        }\r\n    }","title":"Scanner doesn&#39;t read whole sentence - difference between next() and nextLine() of scanner class","body":"<pre><code>import java.util.Scanner;\n\npublic class Solution {\n\n    public static void main(String[] args) {\n        Scanner scan = new Scanner(System.in);\n        String s = scan.next();\n        s += scan.nextLine();\n        System.out.println(\"String: \" + s);\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7807404,"reputation":800,"user_id":6151577,"display_name":"venkatskpi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1557223718,"creation_date":1557223718,"answer_id":56020240,"question_id":4058912,"body_markdown":"&gt; java.util.Scanner; util - package, Scanner - Class \r\n\r\n1. `next()` reads the string before the space. it cannot read anything after it gets the first space.\r\n2. `nextLine()` reads the whole line. Read until the end of the line or &quot;/n&quot;.\r\n   **Note:** Not The Next line\r\n   \r\n\r\n**(Example)**\r\n\r\nMy mission in life is not merely to survive, but to thrive; \r\n\r\nand to do so with some passion, some compassion, some humor.\r\n\r\n***(Output)***\r\n\r\n1. My\r\n\r\n2. My mission in life is not merely to survive, but to thrive;\r\n\r\n***Tricks:***\r\n\r\nIf you want to read the next line Check Java `has` method.\r\n\r\n    while (scanner.hasNext()) {\r\n        scan.next();\r\n    }\r\n    \r\n    while (scanner.hasNext()) {\r\n        scan.nextLine();\r\n    }\r\n\r\n\r\n\r\n         ","title":"Scanner doesn&#39;t read whole sentence - difference between next() and nextLine() of scanner class","body":"<blockquote>\n  <p>java.util.Scanner; util - package, Scanner - Class </p>\n</blockquote>\n\n<ol>\n<li><code>next()</code> reads the string before the space. it cannot read anything after it gets the first space.</li>\n<li><code>nextLine()</code> reads the whole line. Read until the end of the line or \"/n\".\n<strong>Note:</strong> Not The Next line</li>\n</ol>\n\n<p><strong>(Example)</strong></p>\n\n<p>My mission in life is not merely to survive, but to thrive; </p>\n\n<p>and to do so with some passion, some compassion, some humor.</p>\n\n<p><strong><em>(Output)</em></strong></p>\n\n<ol>\n<li><p>My</p></li>\n<li><p>My mission in life is not merely to survive, but to thrive;</p></li>\n</ol>\n\n<p><strong><em>Tricks:</em></strong></p>\n\n<p>If you want to read the next line Check Java <code>has</code> method.</p>\n\n<pre><code>while (scanner.hasNext()) {\n    scan.next();\n}\n\nwhile (scanner.hasNext()) {\n    scan.nextLine();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15983185,"reputation":932,"user_id":11534375,"display_name":"Hemanth Kollipara"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1596052515,"creation_date":1596052515,"answer_id":63161491,"question_id":4058912,"body_markdown":"`next()` will only store the input up to the first token. if there are two words &quot;Hi there&quot; it means there are two tokens separated by space (delimiter). Every time you call the next() method it reads only one token.&lt;/br&gt;\r\n\r\nif input is &quot;Hi there !&quot;\r\n```java    \r\nScanner scan = new Scanner(System.in);\r\nString str = scan.next()\r\nSystem.out.println(str);\r\n```\r\nOutput\r\n\r\n&gt;Hi\r\n\r\nSo if you both the words you need to call `next()` again to get the next token which is inefficient for longer string input\r\n\r\n`nextLine()` on the other hand grabs the entire line that the user enters even with spaces\r\n```java    \r\nScanner scan = new Scanner(System.in);\r\nString str = scan.nextLine()\r\nSystem.out.println(str);\r\n```\r\nOutput\r\n\r\n&gt;Hi there !\r\n\r\n\r\n\r\n","title":"Scanner doesn&#39;t read whole sentence - difference between next() and nextLine() of scanner class","body":"<p><code>next()</code> will only store the input up to the first token. if there are two words &quot;Hi there&quot; it means there are two tokens separated by space (delimiter). Every time you call the next() method it reads only one token.</p>\n<p>if input is &quot;Hi there !&quot;</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner scan = new Scanner(System.in);\nString str = scan.next()\nSystem.out.println(str);\n</code></pre>\n<p>Output</p>\n<blockquote>\n<p>Hi</p>\n</blockquote>\n<p>So if you both the words you need to call <code>next()</code> again to get the next token which is inefficient for longer string input</p>\n<p><code>nextLine()</code> on the other hand grabs the entire line that the user enters even with spaces</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner scan = new Scanner(System.in);\nString str = scan.nextLine()\nSystem.out.println(str);\n</code></pre>\n<p>Output</p>\n<blockquote>\n<p>Hi there !</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":7200746,"reputation":614,"user_id":5719535,"display_name":"Dinuka Ekanayake"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596432066,"creation_date":1596431662,"answer_id":63224070,"question_id":4058912,"body_markdown":"next() is read until the space of the encounter, and the nextLine() is read to the end of the line. \r\n`Scanner scan = new Scanner(System.in);`  \r\n`String address = scan.next();`  \r\n`s += scan.nextLine();`","title":"Scanner doesn&#39;t read whole sentence - difference between next() and nextLine() of scanner class","body":"<p>next() is read until the space of the encounter, and the nextLine() is read to the end of the line.\n<code>Scanner scan = new Scanner(System.in);</code><br />\n<code>String address = scan.next();</code><br />\n<code>s += scan.nextLine();</code></p>\n"},{"tags":[],"owner":{"account_id":14382689,"reputation":166,"user_id":10389456,"display_name":"Sagansha San"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607853024,"creation_date":1607853024,"answer_id":65274260,"question_id":4058912,"body_markdown":"    Scanner scanner = new Scanner(System.in);\r\n    String str = scanner.next();\r\n    str += scanner.readLine();\r\n\r\nString str = scanner.next(); ===&gt; it fetch the 1st word of the line (hello world!! =&gt; &quot;hello&quot;)\r\nstr += scanner.nextLine(); ===&gt; This method returns the rest of the current line, excluding any line separator at the end. (hello world!! =&gt; &quot; world!!&quot;)\r\n\r\n","title":"Scanner doesn&#39;t read whole sentence - difference between next() and nextLine() of scanner class","body":"<pre><code>Scanner scanner = new Scanner(System.in);\nString str = scanner.next();\nstr += scanner.readLine();\n</code></pre>\n<p>String str = scanner.next(); ===&gt; it fetch the 1st word of the line (hello world!! =&gt; &quot;hello&quot;)\nstr += scanner.nextLine(); ===&gt; This method returns the rest of the current line, excluding any line separator at the end. (hello world!! =&gt; &quot; world!!&quot;)</p>\n"},{"tags":[],"owner":{"account_id":7745608,"reputation":1158,"user_id":5863519,"display_name":"KR93"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644760362,"creation_date":1644760362,"answer_id":71101297,"question_id":4058912,"body_markdown":"Try this !!!\r\n\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner scan = new Scanner(System.in);\r\n            String s = scan.nextLine();\r\n            s = scan.nextLine();\r\n            scan.close();\r\n            System.out.println(&quot;String: &quot; + s);\r\n          \r\n        }\r\n\r\n","title":"Scanner doesn&#39;t read whole sentence - difference between next() and nextLine() of scanner class","body":"<p>Try this !!!</p>\n<pre><code>    public static void main(String[] args) {\n        Scanner scan = new Scanner(System.in);\n        String s = scan.nextLine();\n        s = scan.nextLine();\n        scan.close();\n        System.out.println(&quot;String: &quot; + s);\n      \n    }\n</code></pre>\n"}],"owner":{"account_id":664192,"reputation":375,"user_id":492089,"display_name":"Bonett09"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132427,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"answer_count":24,"score":33,"last_activity_date":1673534475,"creation_date":1288445715,"question_id":4058912,"body_markdown":"I&#39;m writing a program which allows the user to input his data then outputs it. Its 3/4 correct but when it arrives at outputting the address it only prints a word lets say only &#39;Archbishop&#39; from &#39;Archbishop Street&#39;. How do I fix this?\r\n\r\n    import java.util.*;\r\n    \r\n    class MyStudentDetails{\r\n    \tpublic static void main (String args[]){\r\n    \t\tScanner s = new Scanner(System.in);\r\n    \t\tSystem.out.println(&quot;Enter Your Name: &quot;);\r\n    \t\tString name = s.next();\r\n    \t\tSystem.out.println(&quot;Enter Your Age: &quot;);\r\n    \t\tint age = s.nextInt();\r\n    \t\tSystem.out.println(&quot;Enter Your E-mail: &quot;);\r\n    \t\tString email = s.next();\r\n    \t\tSystem.out.println(&quot;Enter Your Address: &quot;);\r\n    \t\tString address = s.next();\r\n        \r\n    \t\tSystem.out.println(&quot;Name: &quot;+name);\r\n    \t\tSystem.out.println(&quot;Age: &quot;+age);\r\n    \t\tSystem.out.println(&quot;E-mail: &quot;+email);\r\n    \t\tSystem.out.println(&quot;Address: &quot;+address);\r\n    \t}\r\n    }","title":"Scanner doesn&#39;t read whole sentence - difference between next() and nextLine() of scanner class","body":"<p>I'm writing a program which allows the user to input his data then outputs it. Its 3/4 correct but when it arrives at outputting the address it only prints a word lets say only 'Archbishop' from 'Archbishop Street'. How do I fix this?</p>\n\n<pre><code>import java.util.*;\n\nclass MyStudentDetails{\n    public static void main (String args[]){\n        Scanner s = new Scanner(System.in);\n        System.out.println(\"Enter Your Name: \");\n        String name = s.next();\n        System.out.println(\"Enter Your Age: \");\n        int age = s.nextInt();\n        System.out.println(\"Enter Your E-mail: \");\n        String email = s.next();\n        System.out.println(\"Enter Your Address: \");\n        String address = s.next();\n\n        System.out.println(\"Name: \"+name);\n        System.out.println(\"Age: \"+age);\n        System.out.println(\"E-mail: \"+email);\n        System.out.println(\"Address: \"+address);\n    }\n}\n</code></pre>\n"},{"tags":["java","generics","deep-copy"],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1673534410,"creation_date":1673466590,"answer_id":75088313,"question_id":75088191,"body_markdown":"No, there is not.  Deep serialization is as good and general as it gets.\r\n\r\n(Ideally, code designed using good immutability practices shouldn&#39;t _need_ shallow or deep copies.  I haven&#39;t written a copy function in years.)","title":"How to implement a generic deep copy function for an object in Java","body":"<p>No, there is not.  Deep serialization is as good and general as it gets.</p>\n<p>(Ideally, code designed using good immutability practices shouldn't <em>need</em> shallow or deep copies.  I haven't written a copy function in years.)</p>\n"}],"owner":{"account_id":26619464,"reputation":23,"user_id":20238388,"display_name":"stucky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75088313,"answer_count":1,"score":1,"last_activity_date":1673534410,"creation_date":1673465880,"question_id":75088191,"body_markdown":"I&#39;m trying to create a deep copy function for an object in Java, but I want it to be generic so that it can work for any object, not just a specific class. My current implementation uses serialization to create the deep copy, but it feels hacky and inelegant:\r\n\r\n```\r\npublic static &lt;T&gt; T deepCopy(T object) {\r\n    \r\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n        ObjectOutputStream oos = new ObjectOutputStream(baos);\r\n        oos.writeObject(object);\r\n\r\n        ByteArrayInputStream bais = new ByteArrayInputStream(baos.toByteArray());\r\n        ObjectInputStream ois = new ObjectInputStream(bais);\r\n        return (T) ois.readObject();\r\n}\r\n```\r\n\r\nIs there a more straightforward way to implement a deep copy function in Java that is both efficient and flexible?","title":"How to implement a generic deep copy function for an object in Java","body":"<p>I'm trying to create a deep copy function for an object in Java, but I want it to be generic so that it can work for any object, not just a specific class. My current implementation uses serialization to create the deep copy, but it feels hacky and inelegant:</p>\n<pre><code>public static &lt;T&gt; T deepCopy(T object) {\n    \n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        ObjectOutputStream oos = new ObjectOutputStream(baos);\n        oos.writeObject(object);\n\n        ByteArrayInputStream bais = new ByteArrayInputStream(baos.toByteArray());\n        ObjectInputStream ois = new ObjectInputStream(bais);\n        return (T) ois.readObject();\n}\n</code></pre>\n<p>Is there a more straightforward way to implement a deep copy function in Java that is both efficient and flexible?</p>\n"},{"tags":["java","gradle","aspectj","freefair-aspectj"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1673514764,"post_id":75091079,"comment_id":132517832,"body_markdown":"What is the point of doing post-compile weaving within a single module? Usually, you would use that technique when weaving into existing libraries (possible third-party) which you do not have source code access to. You have a single module. There you should use the `io.freefair.aspectj` plugin rather than `io.freefair.aspectj.post-compile-weaving`.","body":"What is the point of doing post-compile weaving within a single module? Usually, you would use that technique when weaving into existing libraries (possible third-party) which you do not have source code access to. You have a single module. There you should use the <code>io.freefair.aspectj</code> plugin rather than <code>io.freefair.aspectj.post-compile-weaving</code>."},{"owner":{"account_id":23587902,"reputation":53,"user_id":17697751,"display_name":"avenue68"},"score":1,"creation_date":1673528958,"post_id":75091079,"comment_id":132522720,"body_markdown":"@kriegaex I think it&#39;s required to do post-compile weaving to use AspectJ with Lombok. And of course my production code consists of multiple modules but it seems that this problem is not related to the module is single or multi so my example is a single module.","body":"@kriegaex I think it&#39;s required to do post-compile weaving to use AspectJ with Lombok. And of course my production code consists of multiple modules but it seems that this problem is not related to the module is single or multi so my example is a single module."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1673534387,"creation_date":1673533663,"answer_id":75097832,"question_id":75091079,"body_markdown":"You need to add this to your Gradle build config:\r\n\r\n```java\r\ncompileTestJava.ajc.options.aspectpath.from sourceSets.main.output \r\n```\r\n\r\nSee also [here](https://github.com/freefair/gradle-plugins/issues/422#issuecomment-969315198).\r\n\r\nI tried with your sample project, and it works for me with these properties set:\r\n\r\n```java\r\ncompileJava.ajc.options.compilerArgs &lt;&lt; &quot;-showWeaveInfo -verbose&quot;\r\ncompileTestJava.ajc.options.compilerArgs &lt;&lt; &quot;-showWeaveInfo -verbose&quot;\r\ncompileTestJava.ajc.options.aspectpath.from sourceSets.main.output\r\n```\r\n\r\nI also had to rename your class `PluginTest` to `PostCompileWeavingPluginTest` in order to avoid a build error, because the file name was different from the class name.\r\n\r\nThe `clean test` build log now says:\r\n\r\n```none\r\n&gt; Task :clean\r\n&gt; Task :compileJava\r\nJoin point &#39;constructor-execution(void com.example.MyClass$WovenClassInMain.&lt;init&gt;())&#39; in Type &#39;com.example.MyClass$WovenClassInMain&#39; (WovenClassInMain.java:6) advised by afterReturning advice from &#39;com.example.MyAspect&#39; (MyAspect.class(from MyAspect.java))\r\n\t\r\n(...)\r\n\r\n&gt; Task :compileTestJava\r\nJoin point &#39;constructor-execution(void com.example.MyAspectTest$WovenClassInTest.&lt;init&gt;())&#39; in Type &#39;com.example.MyAspectTest$WovenClassInTest&#39; (MyAspectTest.java:9) advised by afterReturning advice from &#39;com.example.MyAspect&#39; (MyAspect.class(from MyAspect.java))\r\n\t\r\n(...)\r\n\r\n&gt; Task :test\r\n******* MyAspect wove: com.example.MyClass$WovenClassInMain\r\n******* MyAspect wove: com.example.MyAspectTest$WovenClassInTest\r\nroot project &#39;test&#39;\r\n```\r\n","title":"Post-Compile weaving not working to test code","body":"<p>You need to add this to your Gradle build config:</p>\n<pre class=\"lang-java prettyprint-override\"><code>compileTestJava.ajc.options.aspectpath.from sourceSets.main.output \n</code></pre>\n<p>See also <a href=\"https://github.com/freefair/gradle-plugins/issues/422#issuecomment-969315198\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>I tried with your sample project, and it works for me with these properties set:</p>\n<pre class=\"lang-java prettyprint-override\"><code>compileJava.ajc.options.compilerArgs &lt;&lt; &quot;-showWeaveInfo -verbose&quot;\ncompileTestJava.ajc.options.compilerArgs &lt;&lt; &quot;-showWeaveInfo -verbose&quot;\ncompileTestJava.ajc.options.aspectpath.from sourceSets.main.output\n</code></pre>\n<p>I also had to rename your class <code>PluginTest</code> to <code>PostCompileWeavingPluginTest</code> in order to avoid a build error, because the file name was different from the class name.</p>\n<p>The <code>clean test</code> build log now says:</p>\n<pre class=\"lang-none prettyprint-override\"><code>&gt; Task :clean\n&gt; Task :compileJava\nJoin point 'constructor-execution(void com.example.MyClass$WovenClassInMain.&lt;init&gt;())' in Type 'com.example.MyClass$WovenClassInMain' (WovenClassInMain.java:6) advised by afterReturning advice from 'com.example.MyAspect' (MyAspect.class(from MyAspect.java))\n    \n(...)\n\n&gt; Task :compileTestJava\nJoin point 'constructor-execution(void com.example.MyAspectTest$WovenClassInTest.&lt;init&gt;())' in Type 'com.example.MyAspectTest$WovenClassInTest' (MyAspectTest.java:9) advised by afterReturning advice from 'com.example.MyAspect' (MyAspect.class(from MyAspect.java))\n    \n(...)\n\n&gt; Task :test\n******* MyAspect wove: com.example.MyClass$WovenClassInMain\n******* MyAspect wove: com.example.MyAspectTest$WovenClassInTest\nroot project 'test'\n</code></pre>\n"}],"owner":{"account_id":23587902,"reputation":53,"user_id":17697751,"display_name":"avenue68"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":275,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75097832,"answer_count":1,"score":1,"last_activity_date":1673534387,"creation_date":1673491814,"question_id":75091079,"body_markdown":"I&#39;m using Gradle 7.4 and applying the `io.freefair.aspectj.post-compile-weaving` plugin. I want to test my aspect so I wrote a test class including an static inner class which should be advised by my aspect but my aspect does not advise it.\r\nI also wrote another class which should be advised in `src/main/java` directory and my aspect properly advise it.\r\n\r\nFor example I have following aspect, classes and tests in package `com.example`.\r\n\r\n- aspect class.\r\n``` java\r\n@Aspect\r\npublic class MyAspect {\r\n  @AfterReturning(&quot;@within(com.example.ShouldBeWoven) &amp;&amp; execution(* .new(..))&quot;)\r\n  public void myAdvice(JoinPoint joinPoint) {\r\n    System.out.println(&quot;******* MyAspect advised: &quot; + joinPoint.getSignature().getDeclaringTypeName());\r\n  }\r\n}\r\n```\r\n\r\n- marker annotation\r\n``` java\r\n@Documented\r\n@Target({TYPE})\r\n@Retention(RUNTIME)\r\npublic @interface ShouldBeWoven {\r\n}\r\n```\r\n\r\n- target static inner class in `main` source set\r\n``` java\r\nclass MyClass {\r\n\r\n  @ShouldBeWoven\r\n  static class WovenClassInMain {\r\n  }\r\n\r\n}\r\n```\r\n\r\n- target static inner class and test code in `test` source set\r\n``` java\r\nclass MyAspectTest {\r\n\r\n  @ShouldBeWoven\r\n  static class WovenClassInTest {\r\n  }\r\n\r\n  @Test\r\n  void instantiateWovenClassInMain() {\r\n    new WovenClassInMain();\r\n  }\r\n  \r\n  @Test\r\n  void instantiateWovenClassInTest() {\r\n    new WovenClassInTest();\r\n  }\r\n\r\n}\r\n```\r\n\r\nThe result was that `instantiateWovenClassInMain` showed message in the advice and `instantiateWovenClassInTest` did not. How can I weave my aspects to classes in `src/test/java` directory? \r\n\r\nI could achieve this when I was using `Load Time Weaving` by the way.\r\n\r\nHere is an [MCVE](https://github.com/avenue68/repository-for-sharing/tree/def4ae2e2240b60574b8f6b9ffeef50721eb7627/stackoverflow/75091079).","title":"Post-Compile weaving not working to test code","body":"<p>I'm using Gradle 7.4 and applying the <code>io.freefair.aspectj.post-compile-weaving</code> plugin. I want to test my aspect so I wrote a test class including an static inner class which should be advised by my aspect but my aspect does not advise it.\nI also wrote another class which should be advised in <code>src/main/java</code> directory and my aspect properly advise it.</p>\n<p>For example I have following aspect, classes and tests in package <code>com.example</code>.</p>\n<ul>\n<li>aspect class.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@Aspect\npublic class MyAspect {\n  @AfterReturning(&quot;@within(com.example.ShouldBeWoven) &amp;&amp; execution(* .new(..))&quot;)\n  public void myAdvice(JoinPoint joinPoint) {\n    System.out.println(&quot;******* MyAspect advised: &quot; + joinPoint.getSignature().getDeclaringTypeName());\n  }\n}\n</code></pre>\n<ul>\n<li>marker annotation</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@Documented\n@Target({TYPE})\n@Retention(RUNTIME)\npublic @interface ShouldBeWoven {\n}\n</code></pre>\n<ul>\n<li>target static inner class in <code>main</code> source set</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>class MyClass {\n\n  @ShouldBeWoven\n  static class WovenClassInMain {\n  }\n\n}\n</code></pre>\n<ul>\n<li>target static inner class and test code in <code>test</code> source set</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>class MyAspectTest {\n\n  @ShouldBeWoven\n  static class WovenClassInTest {\n  }\n\n  @Test\n  void instantiateWovenClassInMain() {\n    new WovenClassInMain();\n  }\n  \n  @Test\n  void instantiateWovenClassInTest() {\n    new WovenClassInTest();\n  }\n\n}\n</code></pre>\n<p>The result was that <code>instantiateWovenClassInMain</code> showed message in the advice and <code>instantiateWovenClassInTest</code> did not. How can I weave my aspects to classes in <code>src/test/java</code> directory?</p>\n<p>I could achieve this when I was using <code>Load Time Weaving</code> by the way.</p>\n<p>Here is an <a href=\"https://github.com/avenue68/repository-for-sharing/tree/def4ae2e2240b60574b8f6b9ffeef50721eb7627/stackoverflow/75091079\" rel=\"nofollow noreferrer\">MCVE</a>.</p>\n"},{"tags":["java","apache-zookeeper"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1673312737,"post_id":75052995,"comment_id":132466280,"body_markdown":"Don&#39;t you need to know what `superSecret` is ahead of time? Otherwise, you should report this in Zookeeper JIRA, probably, but Zookeeper is typically protected by TLS certificates, not passwords.","body":"Don&#39;t you need to know what <code>superSecret</code> is ahead of time? Otherwise, you should report this in Zookeeper JIRA, probably, but Zookeeper is typically protected by TLS certificates, not passwords."},{"owner":{"account_id":15997354,"reputation":13,"user_id":11544960,"display_name":"Doupengwei"},"score":0,"creation_date":1673525884,"post_id":75052995,"comment_id":132521646,"body_markdown":"superSecret  is hard code in Zookeeper project","body":"superSecret  is hard code in Zookeeper project"}],"owner":{"account_id":15997354,"reputation":13,"user_id":11544960,"display_name":"Doupengwei"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673534109,"creation_date":1673235959,"question_id":75052995,"body_markdown":"Zookeeper implement logical as picture show, anyone know it, does is a securty issue?\r\n[![enter image description here](https://i.stack.imgur.com/nQpoP.png)](https://i.stack.imgur.com/nQpoP.png)\r\n\r\ni try to simulate zookeeper logical, use same method  we can easy get same password by session Id.\r\n\r\n    private static final long superSecret = 0XB3415C00L;\r\n    static byte[] generatePasswd(long id) {\r\n        Random r = new Random(id ^ superSecret);\r\n        byte[] p = new byte[16];\r\n        r.nextBytes(p);\r\n        return p;\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        byte[] passwd = new byte[16];\r\n    \r\n        long sessionId = 11L;\r\n    \r\n        Random r = new Random(sessionId ^ superSecret);\r\n        r.nextBytes(passwd);\r\n    \r\n        System.out.println(passwd);\r\n    \r\n        byte[] ps = generatePasswd(sessionId);\r\n    \r\n        System.out.println(generatePasswd(sessionId));\r\n    \r\n        boolean rs = Arrays.equals(passwd, generatePasswd(sessionId));\r\n        System.out.println(rs);\r\n    }","title":"Zookeeper will create a password for client by sessionId, and so we can forge it by sessionId, is&#39;t any security issue?","body":"<p>Zookeeper implement logical as picture show, anyone know it, does is a securty issue?\n<a href=\"https://i.stack.imgur.com/nQpoP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nQpoP.png\" alt=\"enter image description here\" /></a></p>\n<p>i try to simulate zookeeper logical, use same method  we can easy get same password by session Id.</p>\n<pre><code>private static final long superSecret = 0XB3415C00L;\nstatic byte[] generatePasswd(long id) {\n    Random r = new Random(id ^ superSecret);\n    byte[] p = new byte[16];\n    r.nextBytes(p);\n    return p;\n}\n\npublic static void main(String[] args) {\n    byte[] passwd = new byte[16];\n\n    long sessionId = 11L;\n\n    Random r = new Random(sessionId ^ superSecret);\n    r.nextBytes(passwd);\n\n    System.out.println(passwd);\n\n    byte[] ps = generatePasswd(sessionId);\n\n    System.out.println(generatePasswd(sessionId));\n\n    boolean rs = Arrays.equals(passwd, generatePasswd(sessionId));\n    System.out.println(rs);\n}\n</code></pre>\n"},{"tags":["java","gradle","aspectj","aspect","freefair-aspectj"],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1614744650,"creation_date":1614743007,"answer_id":66450452,"question_id":66440606,"body_markdown":"You are mixing a whole lot of stuff there:\r\n  * Freefair post-compile-time weaving plugin: This is unnecessary because you have Java source code and can compile it together with the aspect using normal compile-time weaving.\r\n  * AspectJ Maven plugin: This is useless because you cannot simply use a Maven plugin in Gradle.\r\n  * AspectJ load-time weaving Java agent: This is unnecessary because, like I said, you can use normal compile-time weaving here. You also do not need _aop.xml_ if you do not use `-javaagent:`.\r\n\r\nI guess you could use all three options, compile-time, post-compile-time and load-time weaving, but you should decide which one and not mix them. You also should decide if you want to use Gradle or Maven and also not try to mix them.\r\n\r\nThis is how compile-time weaving works:\r\n  1. Put both the application and aspect code in directory `src/main/aspectj`.\r\n  2. Simplify your Gradle build file to:\r\n```lang-groovy\r\nplugins {\r\n  id &quot;java&quot;\r\n  id &quot;io.freefair.aspectj&quot; version &quot;5.1.1&quot;\r\n}\r\n\r\ngroup &quot;org.example&quot;\r\nversion &quot;1.0-SNAPSHOT&quot;\r\n\r\nrepositories {\r\n  mavenCentral()\r\n}\r\n\r\ndependencies {\r\n  implementation &quot;org.aspectj:aspectjrt:1.9.6&quot;\r\n}\r\n```\r\n  3. Now when running the main class from my IDE, I see something like:\r\n```none\r\n&gt; Task :compileJava NO-SOURCE\r\n&gt; Task :compileAspectj UP-TO-DATE\r\n&gt; Task :processResources NO-SOURCE\r\n&gt; Task :classes UP-TO-DATE\r\n\r\n&gt; Task :Account.main()\r\n[before] withDraw, current balance 20\r\n[around] withDraw, check success\r\n[after] withDraw, current balance 15\r\n[before] withDraw, current balance 20\r\n[around] withDraw, check failed\r\n[after] withDraw, current balance 20\r\n```\r\n\r\nOf course you could also compile a separate aspect library and weave it into your application code, if the aspect library is to be re-used for several applications or modules or if the application source code is not written in Java (but e.g. in Kotlin, Groovy or Scala) and hence cannot compiled by the AspectJ compiler directly. I am not going into this here, though, because I wanted to show you the simplest solution, as you seem to be a beginner. (BTW, I am not a Gradle user either, I normally use AspectJ with Maven.)\r\n\r\n---\r\n\r\n**Update:** The plugin documentation is really bad, but you can see some [example projects](https://github.com/freefair/gradle-plugins/tree/master/examples/aspectj) in the maintainer&#39;s GitHub repository:\r\n  * _aspect:_ compile-time weaving, i.e. application + aspect in one module, as shown here in my answer\r\n  * _httpcore-nio:_ post-compile-time weaving into a 3rd party library\r\n  * _test:_ how to test aspects\r\n  * _weaving:_ mixed-language aspects in Java, Groovy and Lombok and how to use them all together in a single module\r\n\r\nAll of this can also be done using Maven and AspectJ Maven Plugin, but you specifically asked for Gradle.","title":"How to make an AspectJ Aspect work in a Gradle project?","body":"<p>You are mixing a whole lot of stuff there:</p>\n<ul>\n<li>Freefair post-compile-time weaving plugin: This is unnecessary because you have Java source code and can compile it together with the aspect using normal compile-time weaving.</li>\n<li>AspectJ Maven plugin: This is useless because you cannot simply use a Maven plugin in Gradle.</li>\n<li>AspectJ load-time weaving Java agent: This is unnecessary because, like I said, you can use normal compile-time weaving here. You also do not need <em>aop.xml</em> if you do not use <code>-javaagent:</code>.</li>\n</ul>\n<p>I guess you could use all three options, compile-time, post-compile-time and load-time weaving, but you should decide which one and not mix them. You also should decide if you want to use Gradle or Maven and also not try to mix them.</p>\n<p>This is how compile-time weaving works:</p>\n<ol>\n<li>Put both the application and aspect code in directory <code>src/main/aspectj</code>.</li>\n<li>Simplify your Gradle build file to:</li>\n</ol>\n<pre class=\"lang-groovy prettyprint-override\"><code>plugins {\n  id &quot;java&quot;\n  id &quot;io.freefair.aspectj&quot; version &quot;5.1.1&quot;\n}\n\ngroup &quot;org.example&quot;\nversion &quot;1.0-SNAPSHOT&quot;\n\nrepositories {\n  mavenCentral()\n}\n\ndependencies {\n  implementation &quot;org.aspectj:aspectjrt:1.9.6&quot;\n}\n</code></pre>\n<ol start=\"3\">\n<li>Now when running the main class from my IDE, I see something like:</li>\n</ol>\n<pre class=\"lang-none prettyprint-override\"><code>&gt; Task :compileJava NO-SOURCE\n&gt; Task :compileAspectj UP-TO-DATE\n&gt; Task :processResources NO-SOURCE\n&gt; Task :classes UP-TO-DATE\n\n&gt; Task :Account.main()\n[before] withDraw, current balance 20\n[around] withDraw, check success\n[after] withDraw, current balance 15\n[before] withDraw, current balance 20\n[around] withDraw, check failed\n[after] withDraw, current balance 20\n</code></pre>\n<p>Of course you could also compile a separate aspect library and weave it into your application code, if the aspect library is to be re-used for several applications or modules or if the application source code is not written in Java (but e.g. in Kotlin, Groovy or Scala) and hence cannot compiled by the AspectJ compiler directly. I am not going into this here, though, because I wanted to show you the simplest solution, as you seem to be a beginner. (BTW, I am not a Gradle user either, I normally use AspectJ with Maven.)</p>\n<hr />\n<p><strong>Update:</strong> The plugin documentation is really bad, but you can see some <a href=\"https://github.com/freefair/gradle-plugins/tree/master/examples/aspectj\" rel=\"noreferrer\">example projects</a> in the maintainer's GitHub repository:</p>\n<ul>\n<li><em>aspect:</em> compile-time weaving, i.e. application + aspect in one module, as shown here in my answer</li>\n<li><em>httpcore-nio:</em> post-compile-time weaving into a 3rd party library</li>\n<li><em>test:</em> how to test aspects</li>\n<li><em>weaving:</em> mixed-language aspects in Java, Groovy and Lombok and how to use them all together in a single module</li>\n</ul>\n<p>All of this can also be done using Maven and AspectJ Maven Plugin, but you specifically asked for Gradle.</p>\n"},{"tags":[],"owner":{"account_id":6589701,"reputation":21,"user_id":5091366,"display_name":"Ranjit Vadakkan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1626533322,"creation_date":1626533322,"answer_id":68421582,"question_id":66440606,"body_markdown":"Thanks to the pointers in this thread, I was able to get 2 flavors of writing aspects to be built successfully from Gradle -\r\n\r\n 1. aspects defined inside src/main/java - https://github.com/vadakr/gradle-aspect-inside-java\r\n 2. aspects defined outside src/main/java, for example in src/main/aspectj - https://github.com/vadakr/gradle-aspect-outside-java\r\n\r\nNote that I&#39;ve used the &#39;io.freefair.aspectj.post-compile-weaving&#39; Gradle plugin (https://docs.freefair.io/gradle-plugins/6.0.0-m2/reference/#_io_freefair_aspectj_post_compile_weaving) becaause it was the simplest in that it automatically passed Java classes (all possible join points) into &#39;ajc&#39; - all you needed to do was point it to the aspects themselves.\r\n\r\nWhen debugging the Gradle build process, looking at the generated \r\n[ajc options][1] proved to be very useful. Cross-checking these against https://www.eclipse.org/aspectj/doc/next/devguide/ajc-ref.html usually pointed to the source of the problem. It was usually -inpath or -sourceroots related.\r\n\r\n - -inpath is how you get your join points into &#39;ajc&#39;\r\n - -sourceroots is how you get your aspects (pointcuts/advice) into &#39;ajc&#39;\r\n\r\nNote that the screenshot is from IntelliJ.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Iu0Ad.png","title":"How to make an AspectJ Aspect work in a Gradle project?","body":"<p>Thanks to the pointers in this thread, I was able to get 2 flavors of writing aspects to be built successfully from Gradle -</p>\n<ol>\n<li>aspects defined inside src/main/java - <a href=\"https://github.com/vadakr/gradle-aspect-inside-java\" rel=\"nofollow noreferrer\">https://github.com/vadakr/gradle-aspect-inside-java</a></li>\n<li>aspects defined outside src/main/java, for example in src/main/aspectj - <a href=\"https://github.com/vadakr/gradle-aspect-outside-java\" rel=\"nofollow noreferrer\">https://github.com/vadakr/gradle-aspect-outside-java</a></li>\n</ol>\n<p>Note that I've used the 'io.freefair.aspectj.post-compile-weaving' Gradle plugin (<a href=\"https://docs.freefair.io/gradle-plugins/6.0.0-m2/reference/#_io_freefair_aspectj_post_compile_weaving\" rel=\"nofollow noreferrer\">https://docs.freefair.io/gradle-plugins/6.0.0-m2/reference/#_io_freefair_aspectj_post_compile_weaving</a>) becaause it was the simplest in that it automatically passed Java classes (all possible join points) into 'ajc' - all you needed to do was point it to the aspects themselves.</p>\n<p>When debugging the Gradle build process, looking at the generated\n<a href=\"https://i.stack.imgur.com/Iu0Ad.png\" rel=\"nofollow noreferrer\">ajc options</a> proved to be very useful. Cross-checking these against <a href=\"https://www.eclipse.org/aspectj/doc/next/devguide/ajc-ref.html\" rel=\"nofollow noreferrer\">https://www.eclipse.org/aspectj/doc/next/devguide/ajc-ref.html</a> usually pointed to the source of the problem. It was usually -inpath or -sourceroots related.</p>\n<ul>\n<li>-inpath is how you get your join points into 'ajc'</li>\n<li>-sourceroots is how you get your aspects (pointcuts/advice) into 'ajc'</li>\n</ul>\n<p>Note that the screenshot is from IntelliJ.</p>\n"}],"owner":{"account_id":11590918,"reputation":734,"user_id":8491316,"display_name":"F. K."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9850,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":66450452,"answer_count":2,"score":9,"last_activity_date":1673533919,"creation_date":1614692645,"question_id":66440606,"body_markdown":"I am using the following sample code to understand AspectJ:\r\n\r\n```\r\npublic class Account {\r\n    int balance = 20;\r\n\r\n    public boolean withdraw(int amount) {\r\n        if (balance &lt; amount) {\r\n            return false;\r\n        }\r\n        balance = balance - amount;\r\n        return true;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Account acc = new Account();\r\n        acc.withdraw(5);\r\n\r\n        Account acc2 = new Account();\r\n        acc2.withdraw(25);\r\n    }\r\n}\r\n```\r\nand the following Aspect:\r\n\r\n```\r\npublic aspect AccountAspect {\r\n\r\n    pointcut callWithDraw(int amount, Account acc) :\r\n            call(boolean Account.withdraw(int)) &amp;&amp; args(amount) &amp;&amp; target(acc);\r\n\r\n    before(int amount, Account acc) : callWithDraw(amount, acc) {\r\n        System.out.printf(&quot;[before] withDraw, current balance %d%n&quot;, acc.balance);\r\n    }\r\n\r\n    boolean around(int amount, Account acc) : callWithDraw(amount, acc) {\r\n        if (acc.balance &lt; amount) {\r\n            System.out.println(&quot;[around] withDraw, check failed&quot;);\r\n            return false;\r\n        }\r\n        System.out.println(&quot;[around] withDraw, check success&quot;);\r\n        return proceed(amount, acc);\r\n    }\r\n\r\n    after(int amount, Account acc) : callWithDraw(amount, acc) {\r\n        System.out.printf(&quot;[after] withDraw, current balance %d%n&quot;, acc.balance);\r\n    }\r\n}\r\n```\r\nI am using the following Gradle build file:\r\n\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &quot;io.freefair.aspectj.post-compile-weaving&quot; version &quot;4.1.4&quot;\r\n}\r\n\r\nconfigurations {\r\n    ajc\r\n    aspects\r\n    aspectCompile\r\n    compile{\r\n        extendsFrom aspects\r\n    }\r\n}\r\n\r\ngroup &#39;org.example&#39;\r\nversion &#39;1.0-SNAPSHOT&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation group: &#39;org.aspectj&#39;, name: &#39;aspectjrt&#39;, version: &#39;1.9.4&#39;\r\n    implementation group: &#39;org.aspectj&#39;, name: &#39;aspectjweaver&#39;, version: &#39;1.9.4&#39;\r\n    implementation group: &#39;org.codehaus.mojo&#39;, name: &#39;aspectj-maven-plugin&#39;, version: &#39;1.8&#39;\r\n    testCompile group: &#39;junit&#39;, name: &#39;junit&#39;, version: &#39;4.12&#39;\r\n}\r\ncompileJava {\r\n    sourceCompatibility = &quot;1.8&quot;\r\n    targetCompatibility = &quot;1.8&quot;\r\n    //The following two lines are useful if you have queryDSL if not ignore\r\n    dependsOn configurations.ajc.getTaskDependencyFromProjectDependency(true, &quot;compileJava&quot;)\r\n}\r\n```\r\nand I am using Ajc compiler in Intellij to compile Java classes and aspects. In addition, I am setting the following VM options:\r\n```\r\n-javaagent:c:\\\\Users\\\\dev\\\\extlibs\\\\aspectjweaver-1.9.6.jar\r\n```\r\nThe code compiles and runs without any issues but the aspect never triggers. I am not sure what I am missing in my configuration but I could not find anything else I can do when using AspectJ. If I use @Aspect annotation and register the annotated Aspect in META-INF/aop.xml, the aspect runs but annotated @Aspect Java classes does not allow to create privileged aspect which I need to catch/intercept a private method. Any suggestions on how to resolve this issue?","title":"How to make an AspectJ Aspect work in a Gradle project?","body":"<p>I am using the following sample code to understand AspectJ:</p>\n<pre><code>public class Account {\n    int balance = 20;\n\n    public boolean withdraw(int amount) {\n        if (balance &lt; amount) {\n            return false;\n        }\n        balance = balance - amount;\n        return true;\n    }\n\n    public static void main(String[] args) {\n        Account acc = new Account();\n        acc.withdraw(5);\n\n        Account acc2 = new Account();\n        acc2.withdraw(25);\n    }\n}\n</code></pre>\n<p>and the following Aspect:</p>\n<pre><code>public aspect AccountAspect {\n\n    pointcut callWithDraw(int amount, Account acc) :\n            call(boolean Account.withdraw(int)) &amp;&amp; args(amount) &amp;&amp; target(acc);\n\n    before(int amount, Account acc) : callWithDraw(amount, acc) {\n        System.out.printf(&quot;[before] withDraw, current balance %d%n&quot;, acc.balance);\n    }\n\n    boolean around(int amount, Account acc) : callWithDraw(amount, acc) {\n        if (acc.balance &lt; amount) {\n            System.out.println(&quot;[around] withDraw, check failed&quot;);\n            return false;\n        }\n        System.out.println(&quot;[around] withDraw, check success&quot;);\n        return proceed(amount, acc);\n    }\n\n    after(int amount, Account acc) : callWithDraw(amount, acc) {\n        System.out.printf(&quot;[after] withDraw, current balance %d%n&quot;, acc.balance);\n    }\n}\n</code></pre>\n<p>I am using the following Gradle build file:</p>\n<pre><code>plugins {\n    id 'java'\n    id &quot;io.freefair.aspectj.post-compile-weaving&quot; version &quot;4.1.4&quot;\n}\n\nconfigurations {\n    ajc\n    aspects\n    aspectCompile\n    compile{\n        extendsFrom aspects\n    }\n}\n\ngroup 'org.example'\nversion '1.0-SNAPSHOT'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation group: 'org.aspectj', name: 'aspectjrt', version: '1.9.4'\n    implementation group: 'org.aspectj', name: 'aspectjweaver', version: '1.9.4'\n    implementation group: 'org.codehaus.mojo', name: 'aspectj-maven-plugin', version: '1.8'\n    testCompile group: 'junit', name: 'junit', version: '4.12'\n}\ncompileJava {\n    sourceCompatibility = &quot;1.8&quot;\n    targetCompatibility = &quot;1.8&quot;\n    //The following two lines are useful if you have queryDSL if not ignore\n    dependsOn configurations.ajc.getTaskDependencyFromProjectDependency(true, &quot;compileJava&quot;)\n}\n</code></pre>\n<p>and I am using Ajc compiler in Intellij to compile Java classes and aspects. In addition, I am setting the following VM options:</p>\n<pre><code>-javaagent:c:\\\\Users\\\\dev\\\\extlibs\\\\aspectjweaver-1.9.6.jar\n</code></pre>\n<p>The code compiles and runs without any issues but the aspect never triggers. I am not sure what I am missing in my configuration but I could not find anything else I can do when using AspectJ. If I use @Aspect annotation and register the annotated Aspect in META-INF/aop.xml, the aspect runs but annotated @Aspect Java classes does not allow to create privileged aspect which I need to catch/intercept a private method. Any suggestions on how to resolve this issue?</p>\n"},{"tags":["java","multiple-instances"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":6,"creation_date":1673528553,"post_id":75096705,"comment_id":132522561,"body_markdown":"Because you pass the same `List&lt;Cards&gt;` to both `Hand`(s).","body":"Because you pass the same <code>List&lt;Cards&gt;</code> to both <code>Hand</code>(s)."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1673528572,"post_id":75096705,"comment_id":132522569,"body_markdown":"You are passing the same List to both your generated Objects so both will use that one List. If you want each Hand to have it&#39;s own different List of cards you need to pass different objects, because there will not be any automatic cloning when passing around Objects in java.","body":"You are passing the same List to both your generated Objects so both will use that one List. If you want each Hand to have it&#39;s own different List of cards you need to pass different objects, because there will not be any automatic cloning when passing around Objects in java."},{"owner":{"account_id":14632062,"reputation":585,"user_id":10671013,"display_name":"Tan Yu Hau Sean"},"score":1,"creation_date":1673528820,"post_id":75096705,"comment_id":132522666,"body_markdown":"why not just: `public Hand2() { this.hand = new ArrayList&lt;Cards&gt;(); }` or initialize it directly at the class variable level","body":"why not just: <code>public Hand2() { this.hand = new ArrayList&lt;Cards&gt;(); }</code> or initialize it directly at the class variable level"},{"owner":{"account_id":26904135,"reputation":11,"user_id":20480794,"display_name":"Jallen"},"score":0,"creation_date":1673529118,"post_id":75096705,"comment_id":132522795,"body_markdown":"Thankyou guys! This helped a lot. I used your solution Tan Yu Hau Sean and it worked perfectly.","body":"Thankyou guys! This helped a lot. I used your solution Tan Yu Hau Sean and it worked perfectly."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673531109,"post_id":75096705,"comment_id":132523512,"body_markdown":"Why is there a class called `Cards`? It should probably be `Card`","body":"Why is there a class called <code>Cards</code>? It should probably be <code>Card</code>"}],"answers":[{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673533905,"creation_date":1673533905,"answer_id":75097892,"question_id":75096705,"body_markdown":"As some have already noted, the same list of cards is shared between all hands. Another problem I see in you code is that you&#39;re using fields (`cards`, `handValue`) when you should use local variables.\r\n\r\nTry this:\r\n\r\n    public class Hand2 {\r\n        private final List&lt;Cards&gt; hand = new ArrayList&lt;&gt;();\r\n    \r\n        public Hand2() {\r\n        }\r\n        \r\n        private Cards addCard(Deck deck) {\r\n            Cards cards = deck.dealCard();\r\n            hand.add(cards);\r\n            return cards;\r\n        }\r\n        \r\n        public int getHandValue() {\r\n            int handValue = 0;\r\n            for (Cards cards : hand ) {\r\n                handValue += cards.getValue();\r\n            }\r\n            return handValue;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Hand: &quot; + hand;\r\n        }\r\n\r\n","title":"All cards are added to the same hand despite creating two different instances in Java","body":"<p>As some have already noted, the same list of cards is shared between all hands. Another problem I see in you code is that you're using fields (<code>cards</code>, <code>handValue</code>) when you should use local variables.</p>\n<p>Try this:</p>\n<pre><code>public class Hand2 {\n    private final List&lt;Cards&gt; hand = new ArrayList&lt;&gt;();\n\n    public Hand2() {\n    }\n    \n    private Cards addCard(Deck deck) {\n        Cards cards = deck.dealCard();\n        hand.add(cards);\n        return cards;\n    }\n    \n    public int getHandValue() {\n        int handValue = 0;\n        for (Cards cards : hand ) {\n            handValue += cards.getValue();\n        }\n        return handValue;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Hand: &quot; + hand;\n    }\n</code></pre>\n"}],"owner":{"account_id":26904135,"reputation":11,"user_id":20480794,"display_name":"Jallen"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1673533905,"creation_date":1673528414,"question_id":75096705,"body_markdown":"I&#39;m creating a blackjack game in Java. I need to have multiple players and need a hand class to store the cards that have been pulled from the deck. I have a hand class that functions, but even when I create two separate hand instances, dealing a card to either hand adds them to both hands.\r\n\r\nThis is my hand class code:\r\n```java\r\npublic class Hand2 {\r\n\t\r\n\tprivate List&lt;Cards&gt; hand;\r\n\tprivate Cards cards;\r\n\tprivate int handValue;\r\n\t\r\n\tpublic Hand2(List&lt;Cards&gt; hand) {\r\n\t\t\r\n\t\tthis.hand = hand;\t\r\n\t}\r\n\t\r\n\tprivate Cards addCard(Deck deck) {\r\n\t\thand.add(deck.dealCard());\r\n\t\treturn cards;\r\n\t}\r\n\t\r\n\tpublic int getHandValue() {\r\n\t\tfor (Cards cards : hand ) {\r\n\t\t\thandValue += cards.getValue();\r\n\t\t}\r\n\t\treturn handValue;\r\n\t}\r\n\r\n    public String toString() {\r\n\t\treturn &quot;Hand: &quot; + hand;\r\n\t}\r\n```\r\n\r\nAnd below I am testing it:\r\n\r\n    public static void main(String[] args) { //Testing\r\n\t\t List&lt;Cards&gt; cards = new ArrayList&lt;Cards&gt;();\r\n\t\t \r\n\t\t Deck deck = new Deck();\r\n\t\t\tdeck.shuffle();\r\n\t\t\t\t\t \t\r\n\t        Hand2 hand = new Hand2(cards);\r\n\t        Hand2 hand2 = new Hand2(cards);\r\n\t        \r\n\t        hand.addCard(deck);\r\n\t        hand2.addCard(deck);\r\n\t        hand2.addCard(deck);\r\n\t        System.out.println(hand2);\r\n                System.out.println(hand.getHandValue());\r\n\t        System.out.println(hand2.getHandValue());\r\n\t   \r\n\t }\t\r\n\r\nTerminal:\r\n```none\r\nHand: [Three of Diamonds, Four of Clubs, Jack of Hearts]\r\n17\r\n17\r\n```\r\n\r\nBut I get the same hand value for either hand.","title":"All cards are added to the same hand despite creating two different instances in Java","body":"<p>I'm creating a blackjack game in Java. I need to have multiple players and need a hand class to store the cards that have been pulled from the deck. I have a hand class that functions, but even when I create two separate hand instances, dealing a card to either hand adds them to both hands.</p>\n<p>This is my hand class code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Hand2 {\n    \n    private List&lt;Cards&gt; hand;\n    private Cards cards;\n    private int handValue;\n    \n    public Hand2(List&lt;Cards&gt; hand) {\n        \n        this.hand = hand;   \n    }\n    \n    private Cards addCard(Deck deck) {\n        hand.add(deck.dealCard());\n        return cards;\n    }\n    \n    public int getHandValue() {\n        for (Cards cards : hand ) {\n            handValue += cards.getValue();\n        }\n        return handValue;\n    }\n\n    public String toString() {\n        return &quot;Hand: &quot; + hand;\n    }\n</code></pre>\n<p>And below I am testing it:</p>\n<pre><code>public static void main(String[] args) { //Testing\n     List&lt;Cards&gt; cards = new ArrayList&lt;Cards&gt;();\n     \n     Deck deck = new Deck();\n        deck.shuffle();\n                    \n        Hand2 hand = new Hand2(cards);\n        Hand2 hand2 = new Hand2(cards);\n        \n        hand.addCard(deck);\n        hand2.addCard(deck);\n        hand2.addCard(deck);\n        System.out.println(hand2);\n            System.out.println(hand.getHandValue());\n        System.out.println(hand2.getHandValue());\n   \n }  \n</code></pre>\n<p>Terminal:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Hand: [Three of Diamonds, Four of Clubs, Jack of Hearts]\n17\n17\n</code></pre>\n<p>But I get the same hand value for either hand.</p>\n"},{"tags":["java","gradle","aop","aspectj","freefair-aspectj"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1668331612,"post_id":73771715,"comment_id":131375336,"body_markdown":"How about some feedback to my answer? I think it is rather impolite to ask for help in public and then keep your helpers waiting. It is customary to either comment on an answer you do not fully understand or diagree with or to click on the grey check mark beside a correct answer in order to mark the question as answered.","body":"How about some feedback to my answer? I think it is rather impolite to ask for help in public and then keep your helpers waiting. It is customary to either comment on an answer you do not fully understand or diagree with or to click on the grey check mark beside a correct answer in order to mark the question as answered."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1663709110,"creation_date":1663615821,"answer_id":73778411,"question_id":73771715,"body_markdown":"It does not make much sense to add a Maven plugin to a Gradle build and hope that somehow magically it will work there. As the name implies, `aspectj-maven-plugin` is meant to be used in Maven projects. You need to use a Gradle plugin. Maybe you want to take a look at the [Freefair](https://docs.freefair.io/gradle-plugins/6.5.1/reference/) plugins for AspectJ and decide which scenario (and therefore, which plugin) fits your use case.","title":"How to import aspectJ into project?","body":"<p>It does not make much sense to add a Maven plugin to a Gradle build and hope that somehow magically it will work there. As the name implies, <code>aspectj-maven-plugin</code> is meant to be used in Maven projects. You need to use a Gradle plugin. Maybe you want to take a look at the <a href=\"https://docs.freefair.io/gradle-plugins/6.5.1/reference/\" rel=\"nofollow noreferrer\">Freefair</a> plugins for AspectJ and decide which scenario (and therefore, which plugin) fits your use case.</p>\n"}],"owner":{"account_id":26149279,"reputation":13,"user_id":19837464,"display_name":"Boris Stupin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73778411,"answer_count":1,"score":0,"last_activity_date":1673533879,"creation_date":1663581845,"question_id":73771715,"body_markdown":"I need to use aspectJ. How can I use the functionality of this lib / framework?\r\n\r\nThis is my build.gradle file\r\n\r\n    plugins {\r\n        id &quot;com.diffplug.eclipse.apt&quot; version &quot;3.22.0&quot;\r\n        id &quot;com.github.johnrengelman.shadow&quot; version &quot;7.0.0&quot;\r\n        id &quot;application&quot;\r\n    }\r\n    \r\n    \r\n    version &quot;0.2&quot;\r\n    group &quot;ru.fusionsoft&quot;\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n        mavenLocal()\r\n    //    jcenter()\r\n    }\r\n    \r\n    configurations {\r\n        // for dependencies that are needed for development only\r\n        developmentOnly\r\n    //    aspectjVersion: &#39;1.9.9.1&#39;\r\n    }\r\n    \r\n    dependencies {\r\n        implementation group: &#39;org.aspectj&#39;, name: &#39;aspectjrt&#39;, version: &#39;1.9.9.1&#39;\r\n        implementation group: &#39;org.aspectj&#39;, name: &#39;aspectjweaver&#39;, version: &#39;1.9.9.1&#39;\r\n        implementation group: &#39;org.aspectj&#39;, name: &#39;aspectjtools&#39;, version: &#39;1.9.9.1&#39;\r\n        implementation group: &#39;org.codehaus.mojo&#39;, name: &#39;aspectj-maven-plugin&#39;, version: &#39;1.14.0&#39;\r\n    \r\n        implementation &quot;io.micronaut:micronaut-session:2.5.0&quot;\r\n        implementation &quot;io.micronaut.redis:micronaut-redis-lettuce:2.5.0&quot;\r\n        implementation group: &#39;org.postgresql&#39;, name: &#39;postgresql&#39;, version: &#39;42.2.8&#39;\r\n        implementation group: &#39;io.jsonwebtoken&#39;, name: &#39;jjwt&#39;, version: &#39;0.9.1&#39;\r\n        implementation group: &#39;org.apache.pdfbox&#39;, name: &#39;pdfbox&#39;, version: &#39;3.0.0-RC1&#39;\r\n        implementation group: &#39;cglib&#39;, name: &#39;cglib&#39;, version: &#39;3.3.0&#39;\r\n        implementation &#39;org.reflections:reflections:0.10.2&#39;\r\n        annotationProcessor(platform(&quot;io.micronaut:micronaut-bom:2.5.0&quot;))\r\n        annotationProcessor(&quot;io.micronaut:micronaut-inject-java:2.5.0&quot;)\r\n        annotationProcessor(&quot;io.micronaut:micronaut-validation:2.5.0&quot;)\r\n        implementation(platform(&quot;io.micronaut:micronaut-bom:2.5.0&quot;))\r\n        implementation(&quot;io.micronaut:micronaut-inject:2.5.0&quot;)\r\n        implementation(&quot;io.micronaut:micronaut-validation:2.5.0&quot;)\r\n        implementation(&quot;io.micronaut:micronaut-runtime:2.5.0&quot;)\r\n        implementation(&quot;javax.annotation:javax.annotation-api:1.3.2&quot;)\r\n        implementation(&quot;io.micronaut:micronaut-http-server-netty:2.5.0&quot;)\r\n        implementation(&quot;io.micronaut:micronaut-http-client:2.5.0&quot;)\r\n        runtimeOnly(&quot;ch.qos.logback:logback-classic&quot;)\r\n        testAnnotationProcessor(enforcedPlatform(&quot;io.micronaut:micronaut-bom:2.5.0&quot;))\r\n        testAnnotationProcessor(&quot;io.micronaut:micronaut-inject-java:2.5.0&quot;)\r\n        testImplementation(enforcedPlatform(&quot;io.micronaut:micronaut-bom:2.5.0&quot;))\r\n        testImplementation(&quot;org.junit.jupiter:junit-jupiter-api:2.5.0&quot;)\r\n        testImplementation(&quot;io.micronaut.test:micronaut-test-junit5:3.0.0&quot;)\r\n        testRuntimeOnly(&quot;org.junit.jupiter:junit-jupiter-engine&quot;)\r\n        testImplementation &quot;org.testcontainers:postgresql:1.14.3&quot;\r\n        annotationProcessor(&quot;io.micronaut.configuration:micronaut-openapi:1.5.3&quot;)\r\n        implementation(&quot;io.swagger.core.v3:swagger-annotations&quot;)\r\n        implementation(&quot;io.micronaut:micronaut-session:2.5.0&quot;)\r\n        annotationProcessor (&quot;io.micronaut.security:micronaut-security-annotations:2.5.0&quot;)\r\n        implementation (&quot;io.micronaut.security:micronaut-security-jwt:2.5.0&quot;)\r\n        implementation(&quot;io.micronaut.sql:micronaut-jdbc-hikari:2.5.0&quot;)\r\n        implementation(&quot;io.micronaut.sql:micronaut-hibernate-jpa:2.5.0&quot;)\r\n        implementation(&quot;io.micronaut.data:micronaut-data-hibernate-jpa:2.5.0&quot;)\r\n        annotationProcessor(&quot;io.micronaut.data:micronaut-data-processor:2.5.0&quot;)\r\n        implementation group: &#39;com.jcraft&#39;, name: &#39;jsch&#39;, version: &#39;0.1.44-1&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java\r\n        implementation group: &#39;org.seleniumhq.selenium&#39;, name: &#39;selenium-java&#39;, version: &#39;3.141.59&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/com.github.2captcha/2captcha-java\r\n        implementation group: &#39;com.github.2captcha&#39;, name: &#39;2captcha-java&#39;, version: &#39;1.0.1&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/com.linuxense/javadbf\r\n        implementation group: &#39;com.linuxense&#39;, name: &#39;javadbf&#39;, version: &#39;0.4.0&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/org.apache.commons/commons-csv\r\n        implementation group: &#39;org.apache.commons&#39;, name: &#39;commons-csv&#39;, version: &#39;1.8&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/org.apache.poi/poi\r\n        implementation group: &#39;org.apache.poi&#39;, name: &#39;poi&#39;, version: &#39;5.0.0&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/commons-beanutils/commons-beanutils\r\n        implementation group: &#39;commons-beanutils&#39;, name: &#39;commons-beanutils&#39;, version: &#39;1.9.4&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-core\r\n        implementation group: &#39;com.fasterxml.jackson.core&#39;, name: &#39;jackson-core&#39;, version: &#39;2.13.1&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/com.fasterxml.jackson.dataformat/jackson-dataformat-xml\r\n        implementation group: &#39;com.fasterxml.jackson.dataformat&#39;, name: &#39;jackson-dataformat-xml&#39;, version: &#39;2.13.1&#39;\r\n    \r\n        // Metrics\r\n        implementation &quot;io.micronaut.micrometer:micronaut-micrometer-core&quot;\r\n        implementation &quot;io.micronaut.micrometer:micronaut-micrometer-registry-statsd&quot;\r\n        implementation &quot;io.micronaut:micronaut-management&quot;\r\n        implementation &#39;io.micronaut.micrometer:micronaut-micrometer-registry-prometheus&#39;\r\n    }\r\n    \r\n    \r\n    \r\n    test.classpath += configurations.developmentOnly\r\n    \r\n    mainClassName = &quot;ru.fusionsoft.hcs.Application&quot;\r\n    \r\n    // use JUnit 5 platform\r\n    test {\r\n        useJUnitPlatform()\r\n    }\r\n    \r\n    java {\r\n        sourceCompatibility = JavaVersion.toVersion(&#39;14&#39;)\r\n        targetCompatibility = JavaVersion.toVersion(&#39;14&#39;)\r\n    }\r\n    \r\n    tasks.withType(JavaCompile) {\r\n        options.encoding = &quot;UTF-8&quot;\r\n        options.compilerArgs.addAll([\r\n            &#39;-parameters&#39;,\r\n            // enables incremental compilation\r\n            &#39;-Amicronaut.processing.incremental=true&#39;,\r\n            &#39;-Amicronaut.processing.annotations=ru.fusionsoft.*&#39;,\r\n            &quot;-Amicronaut.processing.group=$project.group&quot;,\r\n            &quot;-Amicronaut.processing.module=$project.name&quot;,\r\n        ])\r\n    }\r\n    \r\n    shadowJar {\r\n        mergeServiceFiles()\r\n    }\r\n    \r\n    tasks.withType(JavaCompile) {\r\n        options.fork = true\r\n        options.forkOptions.jvmArgs &lt;&lt; &#39;-Dmicronaut.openapi.views.spec=rapidoc.enabled=true,swagger-ui.enabled=true,swagger-ui.theme=default,swagger-ui.tagsSorter=\\&#39;alpha\\&#39;,swagger-ui.operationsSorter=\\&#39;alpha\\&#39;&#39;\r\n    }\r\n    \r\n    tasks.withType(JavaExec) {\r\n        classpath += configurations.developmentOnly\r\n        jvmArgs(&#39;-XX:TieredStopAtLevel=1&#39;, &#39;-Dcom.sun.management.jmxremote&#39;)\r\n        if (gradle.startParameter.continuous) {\r\n            systemProperties(\r\n                &#39;micronaut.io.watch.restart&#39;:&#39;true&#39;,\r\n                &#39;micronaut.io.watch.enabled&#39;:&#39;true&#39;,\r\n                &quot;micronaut.io.watch.paths&quot;:&quot;src/main&quot;\r\n            )\r\n        }\r\n    }\r\n\r\nI didn’t write it initially, and I never used the primitive again. Apparently, just entering the implementation is not enough to use AOP. If you need additional information, I&#39;ll update.\r\n\r\n","title":"How to import aspectJ into project?","body":"<p>I need to use aspectJ. How can I use the functionality of this lib / framework?</p>\n<p>This is my build.gradle file</p>\n<pre><code>plugins {\n    id &quot;com.diffplug.eclipse.apt&quot; version &quot;3.22.0&quot;\n    id &quot;com.github.johnrengelman.shadow&quot; version &quot;7.0.0&quot;\n    id &quot;application&quot;\n}\n\n\nversion &quot;0.2&quot;\ngroup &quot;ru.fusionsoft&quot;\n\nrepositories {\n    mavenCentral()\n    mavenLocal()\n//    jcenter()\n}\n\nconfigurations {\n    // for dependencies that are needed for development only\n    developmentOnly\n//    aspectjVersion: '1.9.9.1'\n}\n\ndependencies {\n    implementation group: 'org.aspectj', name: 'aspectjrt', version: '1.9.9.1'\n    implementation group: 'org.aspectj', name: 'aspectjweaver', version: '1.9.9.1'\n    implementation group: 'org.aspectj', name: 'aspectjtools', version: '1.9.9.1'\n    implementation group: 'org.codehaus.mojo', name: 'aspectj-maven-plugin', version: '1.14.0'\n\n    implementation &quot;io.micronaut:micronaut-session:2.5.0&quot;\n    implementation &quot;io.micronaut.redis:micronaut-redis-lettuce:2.5.0&quot;\n    implementation group: 'org.postgresql', name: 'postgresql', version: '42.2.8'\n    implementation group: 'io.jsonwebtoken', name: 'jjwt', version: '0.9.1'\n    implementation group: 'org.apache.pdfbox', name: 'pdfbox', version: '3.0.0-RC1'\n    implementation group: 'cglib', name: 'cglib', version: '3.3.0'\n    implementation 'org.reflections:reflections:0.10.2'\n    annotationProcessor(platform(&quot;io.micronaut:micronaut-bom:2.5.0&quot;))\n    annotationProcessor(&quot;io.micronaut:micronaut-inject-java:2.5.0&quot;)\n    annotationProcessor(&quot;io.micronaut:micronaut-validation:2.5.0&quot;)\n    implementation(platform(&quot;io.micronaut:micronaut-bom:2.5.0&quot;))\n    implementation(&quot;io.micronaut:micronaut-inject:2.5.0&quot;)\n    implementation(&quot;io.micronaut:micronaut-validation:2.5.0&quot;)\n    implementation(&quot;io.micronaut:micronaut-runtime:2.5.0&quot;)\n    implementation(&quot;javax.annotation:javax.annotation-api:1.3.2&quot;)\n    implementation(&quot;io.micronaut:micronaut-http-server-netty:2.5.0&quot;)\n    implementation(&quot;io.micronaut:micronaut-http-client:2.5.0&quot;)\n    runtimeOnly(&quot;ch.qos.logback:logback-classic&quot;)\n    testAnnotationProcessor(enforcedPlatform(&quot;io.micronaut:micronaut-bom:2.5.0&quot;))\n    testAnnotationProcessor(&quot;io.micronaut:micronaut-inject-java:2.5.0&quot;)\n    testImplementation(enforcedPlatform(&quot;io.micronaut:micronaut-bom:2.5.0&quot;))\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter-api:2.5.0&quot;)\n    testImplementation(&quot;io.micronaut.test:micronaut-test-junit5:3.0.0&quot;)\n    testRuntimeOnly(&quot;org.junit.jupiter:junit-jupiter-engine&quot;)\n    testImplementation &quot;org.testcontainers:postgresql:1.14.3&quot;\n    annotationProcessor(&quot;io.micronaut.configuration:micronaut-openapi:1.5.3&quot;)\n    implementation(&quot;io.swagger.core.v3:swagger-annotations&quot;)\n    implementation(&quot;io.micronaut:micronaut-session:2.5.0&quot;)\n    annotationProcessor (&quot;io.micronaut.security:micronaut-security-annotations:2.5.0&quot;)\n    implementation (&quot;io.micronaut.security:micronaut-security-jwt:2.5.0&quot;)\n    implementation(&quot;io.micronaut.sql:micronaut-jdbc-hikari:2.5.0&quot;)\n    implementation(&quot;io.micronaut.sql:micronaut-hibernate-jpa:2.5.0&quot;)\n    implementation(&quot;io.micronaut.data:micronaut-data-hibernate-jpa:2.5.0&quot;)\n    annotationProcessor(&quot;io.micronaut.data:micronaut-data-processor:2.5.0&quot;)\n    implementation group: 'com.jcraft', name: 'jsch', version: '0.1.44-1'\n\n    // https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java\n    implementation group: 'org.seleniumhq.selenium', name: 'selenium-java', version: '3.141.59'\n\n    // https://mvnrepository.com/artifact/com.github.2captcha/2captcha-java\n    implementation group: 'com.github.2captcha', name: '2captcha-java', version: '1.0.1'\n\n    // https://mvnrepository.com/artifact/com.linuxense/javadbf\n    implementation group: 'com.linuxense', name: 'javadbf', version: '0.4.0'\n\n    // https://mvnrepository.com/artifact/org.apache.commons/commons-csv\n    implementation group: 'org.apache.commons', name: 'commons-csv', version: '1.8'\n\n    // https://mvnrepository.com/artifact/org.apache.poi/poi\n    implementation group: 'org.apache.poi', name: 'poi', version: '5.0.0'\n\n    // https://mvnrepository.com/artifact/commons-beanutils/commons-beanutils\n    implementation group: 'commons-beanutils', name: 'commons-beanutils', version: '1.9.4'\n\n    // https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-core\n    implementation group: 'com.fasterxml.jackson.core', name: 'jackson-core', version: '2.13.1'\n\n    // https://mvnrepository.com/artifact/com.fasterxml.jackson.dataformat/jackson-dataformat-xml\n    implementation group: 'com.fasterxml.jackson.dataformat', name: 'jackson-dataformat-xml', version: '2.13.1'\n\n    // Metrics\n    implementation &quot;io.micronaut.micrometer:micronaut-micrometer-core&quot;\n    implementation &quot;io.micronaut.micrometer:micronaut-micrometer-registry-statsd&quot;\n    implementation &quot;io.micronaut:micronaut-management&quot;\n    implementation 'io.micronaut.micrometer:micronaut-micrometer-registry-prometheus'\n}\n\n\n\ntest.classpath += configurations.developmentOnly\n\nmainClassName = &quot;ru.fusionsoft.hcs.Application&quot;\n\n// use JUnit 5 platform\ntest {\n    useJUnitPlatform()\n}\n\njava {\n    sourceCompatibility = JavaVersion.toVersion('14')\n    targetCompatibility = JavaVersion.toVersion('14')\n}\n\ntasks.withType(JavaCompile) {\n    options.encoding = &quot;UTF-8&quot;\n    options.compilerArgs.addAll([\n        '-parameters',\n        // enables incremental compilation\n        '-Amicronaut.processing.incremental=true',\n        '-Amicronaut.processing.annotations=ru.fusionsoft.*',\n        &quot;-Amicronaut.processing.group=$project.group&quot;,\n        &quot;-Amicronaut.processing.module=$project.name&quot;,\n    ])\n}\n\nshadowJar {\n    mergeServiceFiles()\n}\n\ntasks.withType(JavaCompile) {\n    options.fork = true\n    options.forkOptions.jvmArgs &lt;&lt; '-Dmicronaut.openapi.views.spec=rapidoc.enabled=true,swagger-ui.enabled=true,swagger-ui.theme=default,swagger-ui.tagsSorter=\\'alpha\\',swagger-ui.operationsSorter=\\'alpha\\''\n}\n\ntasks.withType(JavaExec) {\n    classpath += configurations.developmentOnly\n    jvmArgs('-XX:TieredStopAtLevel=1', '-Dcom.sun.management.jmxremote')\n    if (gradle.startParameter.continuous) {\n        systemProperties(\n            'micronaut.io.watch.restart':'true',\n            'micronaut.io.watch.enabled':'true',\n            &quot;micronaut.io.watch.paths&quot;:&quot;src/main&quot;\n        )\n    }\n}\n</code></pre>\n<p>I didn’t write it initially, and I never used the primitive again. Apparently, just entering the implementation is not enough to use AOP. If you need additional information, I'll update.</p>\n"},{"tags":["java","gradle","build.gradle","aspectj","freefair-aspectj"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1558401395,"post_id":56221848,"comment_id":99079643,"body_markdown":"Have you tried raising an issue at the GitHub site and asking the author directly?","body":"Have you tried raising an issue at the GitHub site and asking the author directly?"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1558443095,"post_id":56221848,"comment_id":99096130,"body_markdown":"GitHub tickets are not just about bugs, they can be about documentation issues too. And that plugin definitely has some serious documentation issues. ;-)","body":"GitHub tickets are not just about bugs, they can be about documentation issues too. And that plugin definitely has some serious documentation issues. ;-)"}],"answers":[{"tags":[],"owner":{"account_id":4383566,"reputation":2775,"user_id":3574494,"display_name":"larsgrefer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558619022,"creation_date":1558619022,"answer_id":56276630,"question_id":56221848,"body_markdown":"`aspect` is a plain old gradle configuration.\r\n\r\nThis means you can use all the notations described here:\r\n\r\n- https://docs.gradle.org/current/userguide/dependency_types.html#dependency_types\r\n- https://docs.gradle.org/current/userguide/declaring_dependencies.html\r\n\r\n``` lang-groovy\r\ndependencies {\r\n    aspect project(&quot;:my-aspect&quot;)\r\n    aspect &quot;com.example.foo:bar-aspect:1.0.0&quot;\r\n    aspect file(&quot;foo.jar&quot;)\r\n}\r\n```","title":"How to set &quot;-aspectpath&quot; for the FreeFair AspectJ Gradle Plugin?","body":"<p><code>aspect</code> is a plain old gradle configuration.</p>\n\n<p>This means you can use all the notations described here:</p>\n\n<ul>\n<li><a href=\"https://docs.gradle.org/current/userguide/dependency_types.html#dependency_types\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/dependency_types.html#dependency_types</a></li>\n<li><a href=\"https://docs.gradle.org/current/userguide/declaring_dependencies.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/declaring_dependencies.html</a></li>\n</ul>\n\n<pre class=\"lang-groovy prettyprint-override\"><code>dependencies {\n    aspect project(\":my-aspect\")\n    aspect \"com.example.foo:bar-aspect:1.0.0\"\n    aspect file(\"foo.jar\")\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6070810,"reputation":869,"user_id":4739712,"accept_rate":67,"display_name":"Brandon Dudek"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1569950702,"creation_date":1559137884,"answer_id":56362205,"question_id":56221848,"body_markdown":"Thanks to [@larsgrefer](https://stackoverflow.com/users/3574494/larsgrefer), who provided the answer in the GitHub Issue ([46](https://github.com/freefair/gradle-plugins/issues/46)).\r\n\r\n&gt; For the *io.freefair.aspectj.compile-time-weaving* plugin 2.9.5 the configuration is named &quot;**aspects**&quot; instead of &quot;aspect&quot;.\r\n\r\nThe following fixed the issue:\r\n\r\n    aspects project(&quot;:aspectj:aspect&quot;)\r\n\r\nThe full build file resembles:\r\n\r\n&lt;!-- language: groovy --&gt;\r\n    \r\n    buildscript {\r\n        repositories {\r\n            maven { url &quot;https://plugins.gradle.org/m2/&quot; }\r\n        }\r\n        dependencies {\r\n            // 2.9.5 for use with Gradle 4.10.3.\r\n            classpath &quot;io.freefair.gradle:aspectj-plugin:2.9.5&quot;\r\n        }\r\n    }\r\n    \r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;eclipse&#39;\r\n    apply plugin: &#39;idea&#39;\r\n    \r\n    apply plugin: &quot;io.freefair.aspectj.compile-time-weaving&quot;\r\n    aspectj.version = &#39;1.9.3&#39;\r\n    \r\n    group &#39;xyz.swatt&#39;\r\n    version &#39;1.0.0-SNAPSHOT&#39;\r\n    \r\n    sourceCompatibility = 1.8\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n    \r\n        ///// SWATT ///// https://mvnrepository.com/artifact/xyz.swatt/swatt\r\n        compile group: &#39;xyz.swatt&#39;, name: &#39;swatt&#39;, version: &#39;1.12.0&#39;\r\n        aspect &quot;xyz.swatt:swatt:1.12.0&quot;\r\n    }\r\n","title":"How to set &quot;-aspectpath&quot; for the FreeFair AspectJ Gradle Plugin?","body":"<p>Thanks to <a href=\"https://stackoverflow.com/users/3574494/larsgrefer\">@larsgrefer</a>, who provided the answer in the GitHub Issue (<a href=\"https://github.com/freefair/gradle-plugins/issues/46\" rel=\"nofollow noreferrer\">46</a>).</p>\n\n<blockquote>\n  <p>For the <em>io.freefair.aspectj.compile-time-weaving</em> plugin 2.9.5 the configuration is named \"<strong>aspects</strong>\" instead of \"aspect\".</p>\n</blockquote>\n\n<p>The following fixed the issue:</p>\n\n<pre><code>aspects project(\":aspectj:aspect\")\n</code></pre>\n\n<p>The full build file resembles:</p>\n\n<pre><code>buildscript {\n    repositories {\n        maven { url \"https://plugins.gradle.org/m2/\" }\n    }\n    dependencies {\n        // 2.9.5 for use with Gradle 4.10.3.\n        classpath \"io.freefair.gradle:aspectj-plugin:2.9.5\"\n    }\n}\n\napply plugin: 'java'\napply plugin: 'eclipse'\napply plugin: 'idea'\n\napply plugin: \"io.freefair.aspectj.compile-time-weaving\"\naspectj.version = '1.9.3'\n\ngroup 'xyz.swatt'\nversion '1.0.0-SNAPSHOT'\n\nsourceCompatibility = 1.8\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n\n    ///// SWATT ///// https://mvnrepository.com/artifact/xyz.swatt/swatt\n    compile group: 'xyz.swatt', name: 'swatt', version: '1.12.0'\n    aspect \"xyz.swatt:swatt:1.12.0\"\n}\n</code></pre>\n"}],"owner":{"account_id":6070810,"reputation":869,"user_id":4739712,"accept_rate":67,"display_name":"Brandon Dudek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3058,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":56362205,"answer_count":2,"score":2,"last_activity_date":1673533781,"creation_date":1558358447,"question_id":56221848,"body_markdown":"I am trying to use an AspectJ Annotation that is in a Library, that I am pulling into my project. My project uses Gradle, so I am attempting to use [FreeFair AspectJ Gradle Plugin](https://plugins.gradle.org/search?term=freefair+aspectj).\r\n\r\nI need to be able to set the AspectJ _-aspectpath_ argument, to the Library Dependency that Gradle is pulling in.\r\n\r\nFreeFair, does not seem to have much [Documentation](https://github.com/freefair/gradle-plugins/tree/3.5.1/aspectj-plugin), mainly just [Sample Code](https://github.com/freefair/gradle-plugins/blob/3.5.1/examples/aspectj).\r\n\r\nIn their sample code, I see that I can use this to set the _-aspectpath_ to a local &quot;project&quot;:\r\n```groovy\r\naspect project(&quot;:aspectj:aspect&quot;)\r\n```\r\n\r\nDoes anyone know how to set the _-aspectpath_ to an external library dependency?\r\n\r\nI created an example Project and put it on GitHub: [freefair-aspectpath-external-library](https://github.com/BrandonDudek/freefair-aspectpath-external-library).\r\n\r\n* *Note:* I am using _io.freefair.gradle:aspectj-plugin_ version **2.9.5** because my project is stuck using Gradle version **4.10.3**.\r\n\r\n&lt;br/&gt;\r\n**Update:** I have created a bug for this: https://github.com/freefair/gradle-plugins/issues/46","title":"How to set &quot;-aspectpath&quot; for the FreeFair AspectJ Gradle Plugin?","body":"<p>I am trying to use an AspectJ Annotation that is in a Library, that I am pulling into my project. My project uses Gradle, so I am attempting to use <a href=\"https://plugins.gradle.org/search?term=freefair+aspectj\" rel=\"nofollow noreferrer\">FreeFair AspectJ Gradle Plugin</a>.</p>\n\n<p>I need to be able to set the AspectJ <em>-aspectpath</em> argument, to the Library Dependency that Gradle is pulling in.</p>\n\n<p>FreeFair, does not seem to have much <a href=\"https://github.com/freefair/gradle-plugins/tree/3.5.1/aspectj-plugin\" rel=\"nofollow noreferrer\">Documentation</a>, mainly just <a href=\"https://github.com/freefair/gradle-plugins/blob/3.5.1/examples/aspectj\" rel=\"nofollow noreferrer\">Sample Code</a>.</p>\n\n<p>In their sample code, I see that I can use this to set the <em>-aspectpath</em> to a local \"project\":</p>\n\n<pre><code>aspect project(\":aspectj:aspect\")\n</code></pre>\n\n<p>Does anyone know how to set the <em>-aspectpath</em> to an external library dependency?</p>\n\n<p>I created an example Project and put it on GitHub: <a href=\"https://github.com/BrandonDudek/freefair-aspectpath-external-library\" rel=\"nofollow noreferrer\">freefair-aspectpath-external-library</a>.</p>\n\n<ul>\n<li><em>Note:</em> I am using <em>io.freefair.gradle:aspectj-plugin</em> version <strong>2.9.5</strong> because my project is stuck using Gradle version <strong>4.10.3</strong>.</li>\n</ul>\n\n<p><br/>\n<strong>Update:</strong> I have created a bug for this: <a href=\"https://github.com/freefair/gradle-plugins/issues/46\" rel=\"nofollow noreferrer\">https://github.com/freefair/gradle-plugins/issues/46</a></p>\n"},{"tags":["java","mongodb","quarkus"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":1,"creation_date":1553752406,"post_id":55387611,"comment_id":97502919,"body_markdown":"At this time there is no MongoDB support but I think there are plans to add it down the line. Supporting something in Quarkus means that steps are taken to ensure that it works in native mode as well, which is why you don&#39;t see support for the &quot;whole world&quot;","body":"At this time there is no MongoDB support but I think there are plans to add it down the line. Supporting something in Quarkus means that steps are taken to ensure that it works in native mode as well, which is why you don&#39;t see support for the &quot;whole world&quot;"}],"answers":[{"tags":[],"owner":{"account_id":2138679,"reputation":18996,"user_id":1897870,"display_name":"Steve C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1556769152,"creation_date":1554446922,"answer_id":55529690,"question_id":55387611,"body_markdown":"I have use the following to access mongodb databases in some quarkus demo code:\r\n\r\n    @ApplicationScoped\r\n    public class MongoClientFactory {\r\n    \r\n        @Inject\r\n        private Logger logger;\r\n    \r\n        @Inject\r\n        @ConfigProperty(name=&quot;mongo.user&quot;)\r\n        private String mongoUser;\r\n    \r\n        @Inject\r\n        @ConfigProperty(name=&quot;mongo.password&quot;)\r\n        private String mongoPassword;\r\n    \r\n        @Inject\r\n        @ConfigProperty(name=&quot;mongo.host&quot;)\r\n        private String mongoHost;\r\n    \r\n        @Inject\r\n        @ConfigProperty(name=&quot;mongo.port&quot;, defaultValue=&quot;27017&quot;)\r\n        private int mongoPort;\r\n    \r\n        @Inject\r\n        @ConfigProperty(defaultValue=&quot;admin&quot;)\r\n        private String mongoAdminDb;\r\n    \r\n        private MongoClient mongoClient;\r\n        private ServerAddress serverAddress;\r\n        private MongoCredential mongoCredential;\r\n    \r\n        @PostConstruct\r\n        void buildMongoClient() {\r\n            logger.info(&quot;Building MongoClientFactory&quot;);\r\n            serverAddress = new ServerAddress(mongoHost, mongoPort);\r\n            mongoCredential = MongoCredential.createCredential(mongoUser, mongoAdminDb, mongoPassword.toCharArray());\r\n        }\r\n    \r\n        @Produces\r\n        public MongoClient produceMongoClient() {\r\n            if (mongoClient == null) {\r\n                mongoClient = new MongoClient(serverAddress, mongoCredential, MongoClientOptions.builder().build());\r\n                logger.info(&quot;Connected to MongoDB server on {}:{}&quot;, mongoHost, mongoPort);\r\n            }\r\n            return mongoClient;\r\n        }\r\n    \r\n        @PreDestroy\r\n        void cleanup() {\r\n            if (mongoClient != null) {\r\n                mongoClient.close();\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nThen I can just inject the client where ever needed:\r\n\r\n    public class SomBusinessObject {\r\n\r\n        @Inject\r\n        private MongoClient mongoClient;\r\n\r\n\r\n        ...\r\n    }\r\n\r\nThe Mongo driver is added to the pom too:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;\r\n      &lt;version&gt;3.8.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI have not yet tested this with a native build. The standalone jar seems to run fine though.\r\n\r\n**Update**\r\n\r\nGraalVM Version 1.0.0-rc15 CE does not like the mongo driver. It seems to be impacted by [Error: No instances are allowed in the image heap for a class that is initialized or reinitialzied at image runtime: sun.security.provider.NativePRNG #712](https://github.com/oracle/graal/issues/712).\r\n\r\nAdditionally, the Quarkus dependency analyser appears to be sucking in `optional` dependencies, such as `com.github.jnr:jnr-unixsocket` and `org.xerial.snappy:snappy-java`.\r\n","title":"Quarkus mongodb integration","body":"<p>I have use the following to access mongodb databases in some quarkus demo code:</p>\n\n<pre><code>@ApplicationScoped\npublic class MongoClientFactory {\n\n    @Inject\n    private Logger logger;\n\n    @Inject\n    @ConfigProperty(name=\"mongo.user\")\n    private String mongoUser;\n\n    @Inject\n    @ConfigProperty(name=\"mongo.password\")\n    private String mongoPassword;\n\n    @Inject\n    @ConfigProperty(name=\"mongo.host\")\n    private String mongoHost;\n\n    @Inject\n    @ConfigProperty(name=\"mongo.port\", defaultValue=\"27017\")\n    private int mongoPort;\n\n    @Inject\n    @ConfigProperty(defaultValue=\"admin\")\n    private String mongoAdminDb;\n\n    private MongoClient mongoClient;\n    private ServerAddress serverAddress;\n    private MongoCredential mongoCredential;\n\n    @PostConstruct\n    void buildMongoClient() {\n        logger.info(\"Building MongoClientFactory\");\n        serverAddress = new ServerAddress(mongoHost, mongoPort);\n        mongoCredential = MongoCredential.createCredential(mongoUser, mongoAdminDb, mongoPassword.toCharArray());\n    }\n\n    @Produces\n    public MongoClient produceMongoClient() {\n        if (mongoClient == null) {\n            mongoClient = new MongoClient(serverAddress, mongoCredential, MongoClientOptions.builder().build());\n            logger.info(\"Connected to MongoDB server on {}:{}\", mongoHost, mongoPort);\n        }\n        return mongoClient;\n    }\n\n    @PreDestroy\n    void cleanup() {\n        if (mongoClient != null) {\n            mongoClient.close();\n        }\n    }\n\n}\n</code></pre>\n\n<p>Then I can just inject the client where ever needed:</p>\n\n<pre><code>public class SomBusinessObject {\n\n    @Inject\n    private MongoClient mongoClient;\n\n\n    ...\n}\n</code></pre>\n\n<p>The Mongo driver is added to the pom too:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n  &lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;\n  &lt;version&gt;3.8.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>I have not yet tested this with a native build. The standalone jar seems to run fine though.</p>\n\n<p><strong>Update</strong></p>\n\n<p>GraalVM Version 1.0.0-rc15 CE does not like the mongo driver. It seems to be impacted by <a href=\"https://github.com/oracle/graal/issues/712\" rel=\"nofollow noreferrer\">Error: No instances are allowed in the image heap for a class that is initialized or reinitialzied at image runtime: sun.security.provider.NativePRNG #712</a>.</p>\n\n<p>Additionally, the Quarkus dependency analyser appears to be sucking in <code>optional</code> dependencies, such as <code>com.github.jnr:jnr-unixsocket</code> and <code>org.xerial.snappy:snappy-java</code>.</p>\n"},{"tags":[],"owner":{"account_id":382309,"reputation":5693,"user_id":737457,"accept_rate":80,"display_name":"csotiriou"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1564133247,"creation_date":1564133247,"answer_id":57217028,"question_id":55387611,"body_markdown":"Latest versions of Quarkus have added MongoDB support.\r\n\r\nhttps://quarkus.io/guides/mongo-guide","title":"Quarkus mongodb integration","body":"<p>Latest versions of Quarkus have added MongoDB support.</p>\n\n<p><a href=\"https://quarkus.io/guides/mongo-guide\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/mongo-guide</a></p>\n"},{"tags":[],"owner":{"account_id":7915682,"reputation":151,"user_id":5978183,"display_name":"Diogo Carleto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673533717,"creation_date":1673533717,"answer_id":75097842,"question_id":55387611,"body_markdown":"Here is a guide for MongoDB\r\n\r\nhttps://quarkus.io/guides/mongodb\r\n\r\nYou can use Panache also\r\n\r\nhttps://quarkus.io/guides/mongodb-panache","title":"Quarkus mongodb integration","body":"<p>Here is a guide for MongoDB</p>\n<p><a href=\"https://quarkus.io/guides/mongodb\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/mongodb</a></p>\n<p>You can use Panache also</p>\n<p><a href=\"https://quarkus.io/guides/mongodb-panache\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/mongodb-panache</a></p>\n"}],"owner":{"account_id":390209,"reputation":9903,"user_id":750117,"accept_rate":58,"display_name":"jfcorugedo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3573,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":57217028,"answer_count":3,"score":1,"last_activity_date":1673533717,"creation_date":1553726726,"question_id":55387611,"body_markdown":"I&#39;m using quarkus to build an application that needs to connect to MongoDB.\r\n\r\nHowever going over the documentation I could not find any module or guide that show me how can I do it:\r\n\r\nhttps://quarkus.io/\r\n\r\nThere is a guide about hibernate and JPA, but nothing about mongodb.\r\n\r\nDoes anyone manage to do it? Can you share with me a repository with an example?","title":"Quarkus mongodb integration","body":"<p>I'm using quarkus to build an application that needs to connect to MongoDB.</p>\n\n<p>However going over the documentation I could not find any module or guide that show me how can I do it:</p>\n\n<p><a href=\"https://quarkus.io/\" rel=\"nofollow noreferrer\">https://quarkus.io/</a></p>\n\n<p>There is a guide about hibernate and JPA, but nothing about mongodb.</p>\n\n<p>Does anyone manage to do it? Can you share with me a repository with an example?</p>\n"},{"tags":["java","spring-boot","spring-webflux","project-reactor","flatmap"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1673524316,"post_id":75093545,"comment_id":132521102,"body_markdown":"The title asks an entirely different question than the body of your question.","body":"The title asks an entirely different question than the body of your question."},{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":1,"creation_date":1673526320,"post_id":75093545,"comment_id":132521788,"body_markdown":"@MarkRotteveel: The title sounds good to me. Feel free to edit it.","body":"@MarkRotteveel: The title sounds good to me. Feel free to edit it."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1673547865,"post_id":75093545,"comment_id":132529684,"body_markdown":"@NikolasCharalambidis _&quot;Why many people say that flatmap in reactor is one-to-many?&quot;_ is an entirely different question than _&quot;Is there a way to modify my example to achieve 3 strings as input and 6 (for example) players as output to prove that flatmap could be one-to-many?&quot;_.","body":"@NikolasCharalambidis <i>&quot;Why many people say that flatmap in reactor is one-to-many?&quot;</i> is an entirely different question than <i>&quot;Is there a way to modify my example to achieve 3 strings as input and 6 (for example) players as output to prove that flatmap could be one-to-many?&quot;</i>."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1673617168,"post_id":75093545,"comment_id":132545351,"body_markdown":"@Mark Rotteveel To be honest I don&#39;t see any contradiction. Feel free to improve the question or title.","body":"@Mark Rotteveel To be honest I don&#39;t see any contradiction. Feel free to improve the question or title."}],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673514104,"creation_date":1673514104,"answer_id":75093773,"question_id":75093545,"body_markdown":"&quot;Many&quot; does not necessarily lead to &quot;more&quot;. The term &quot;one-to-many&quot; is often shortened to `1:N` where `N` stands for anything - it can be zero, one, or even ten.\r\n\r\nIn your example, you `flatMap` each element into a single one (`Mono.just(..)` + `Mono#map(..)`). There can be various numbers of items depending on implementation.\r\n\r\n**FlatMap as one to zero**\r\n\r\nThe simplest example where `flatMap` results in no element:\r\n\r\n```java\r\nFlux.just(&quot;Zahid Khan&quot;, &quot;Arif Khan&quot;, &quot;Obaid Sheikh&quot;)\r\n\t.flatMap(fullName -&gt; Mono.empty())\r\n\t.subscribe(System.out::println);\r\n```\r\n\r\n**FlatMap as one to one**\r\n\r\nThis is exactly your example. I would simplify it a bit:\r\n\r\n```java\r\nFlux.just(&quot;Zahid Khan&quot;, &quot;Arif Khan&quot;, &quot;Obaid Sheikh&quot;)\r\n\t.flatMap(fullName -&gt; {\r\n\t\tString[] split = fullName.split(&quot;\\\\s&quot;);\r\n\t\treturn Mono.just(new Player(split[0], split[1]));\r\n\t})\r\n\t.subscribe(System.out::println);\r\n```\r\n&gt; ```\r\n&gt; Player(name=Zahid, surname=Khan)\r\n&gt; Player(name=Arif, surname=Khan)\r\n&gt; Player(name=Obaid, surname=Sheikh)\r\n&gt; ```\r\n\r\n**FlatMap as one to many (more than one)**\r\n\r\nIn this case, we yield 2 players from each input (father and junior):\r\n\r\n```java\r\nFlux.just(&quot;Zahid Khan&quot;, &quot;Arif Khan&quot;, &quot;Obaid Sheikh&quot;)\r\n\t.flatMap(fullName -&gt; {\r\n\t\tString[] split = fullName.split(&quot;\\\\s&quot;);\r\n\t\treturn Flux.just(\r\n\t\t\tnew Player(split[0], split[1]),\r\n\t\t\tnew Player(split[0], split[1] + &quot; Jr.&quot;));\r\n\t\t})\r\n\t.subscribe(System.out::println);\r\n```\r\n&gt; ```\r\n&gt; Player(name=Zahid, surname=Khan)\r\n&gt; Player(name=Zahid, surname=Khan Jr.)\r\n&gt; Player(name=Arif, surname=Khan)\r\n&gt; Player(name=Arif, surname=Khan Jr.)\r\n&gt; Player(name=Obaid, surname=Sheikh)\r\n&gt; Player(name=Obaid, surname=Sheikh Jr.)\r\n&gt; ```","title":"Why many people say that flatmap in reactor is one-to-many?","body":"<p>&quot;Many&quot; does not necessarily lead to &quot;more&quot;. The term &quot;one-to-many&quot; is often shortened to <code>1:N</code> where <code>N</code> stands for anything - it can be zero, one, or even ten.</p>\n<p>In your example, you <code>flatMap</code> each element into a single one (<code>Mono.just(..)</code> + <code>Mono#map(..)</code>). There can be various numbers of items depending on implementation.</p>\n<p><strong>FlatMap as one to zero</strong></p>\n<p>The simplest example where <code>flatMap</code> results in no element:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Flux.just(&quot;Zahid Khan&quot;, &quot;Arif Khan&quot;, &quot;Obaid Sheikh&quot;)\n    .flatMap(fullName -&gt; Mono.empty())\n    .subscribe(System.out::println);\n</code></pre>\n<p><strong>FlatMap as one to one</strong></p>\n<p>This is exactly your example. I would simplify it a bit:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Flux.just(&quot;Zahid Khan&quot;, &quot;Arif Khan&quot;, &quot;Obaid Sheikh&quot;)\n    .flatMap(fullName -&gt; {\n        String[] split = fullName.split(&quot;\\\\s&quot;);\n        return Mono.just(new Player(split[0], split[1]));\n    })\n    .subscribe(System.out::println);\n</code></pre>\n<blockquote>\n<pre><code>Player(name=Zahid, surname=Khan)\nPlayer(name=Arif, surname=Khan)\nPlayer(name=Obaid, surname=Sheikh)\n</code></pre>\n</blockquote>\n<p><strong>FlatMap as one to many (more than one)</strong></p>\n<p>In this case, we yield 2 players from each input (father and junior):</p>\n<pre class=\"lang-java prettyprint-override\"><code>Flux.just(&quot;Zahid Khan&quot;, &quot;Arif Khan&quot;, &quot;Obaid Sheikh&quot;)\n    .flatMap(fullName -&gt; {\n        String[] split = fullName.split(&quot;\\\\s&quot;);\n        return Flux.just(\n            new Player(split[0], split[1]),\n            new Player(split[0], split[1] + &quot; Jr.&quot;));\n        })\n    .subscribe(System.out::println);\n</code></pre>\n<blockquote>\n<pre><code>Player(name=Zahid, surname=Khan)\nPlayer(name=Zahid, surname=Khan Jr.)\nPlayer(name=Arif, surname=Khan)\nPlayer(name=Arif, surname=Khan Jr.)\nPlayer(name=Obaid, surname=Sheikh)\nPlayer(name=Obaid, surname=Sheikh Jr.)\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673523332,"creation_date":1673518107,"answer_id":75094604,"question_id":75093545,"body_markdown":"I would like to point one thing: \r\n\r\nDifference between `.map()` and `.flatMap()` is quite simple: \r\n\r\n`.map()` is meant to map given **object** to another **object** (or to the same **object**, if you want just to change something within that **object**). \r\nThis operation is fully synchronous.\r\n\r\n`.flatMap()` is meant to create another **Publisher** (can either be `Mono` or `Flux`) with given **object**\r\n\r\nEmissions from **Publisher** inside `.flatMap()` will be &quot;merged&quot; with &quot;main&quot; sequence.\r\n\r\nThis operation is asynchronous\r\n\r\n\r\n**EDITED:**\r\nExamples of `.flatMap()` that returns:\r\n\r\n**Mono (&quot;one-to-one&quot;):**\r\n\r\n    Flux.just(&quot;Hello&quot;)\r\n            .flatMap(word -&gt; Mono.just(word + &quot; world!&quot;))  // return Mono that produces another value\r\n            .subscribe(System.out::println);\r\n\r\nWhich will print the following output:\r\n\r\n    Hello world!\r\n\r\n\r\n\r\n**Flux: (&quot;one-to-many&quot;):**\r\n\r\n    Flux.just(&quot;Hello&quot;, &quot; world!&quot;)\r\n            .flatMap(word -&gt; Flux.fromArray(word.split(&quot;(?!^)&quot;)))  // return Flux that produces the letters of the given word\r\n            .subscribe(System.out::println);\r\n\r\nWhich will print the following output:\r\n\r\n    H\r\n    e\r\n    l\r\n    l\r\n    o\r\n     \r\n    w\r\n    o\r\n    r\r\n    l\r\n    d\r\n    !\r\n\r\n","title":"Why many people say that flatmap in reactor is one-to-many?","body":"<p>I would like to point one thing:</p>\n<p>Difference between <code>.map()</code> and <code>.flatMap()</code> is quite simple:</p>\n<p><code>.map()</code> is meant to map given <strong>object</strong> to another <strong>object</strong> (or to the same <strong>object</strong>, if you want just to change something within that <strong>object</strong>).\nThis operation is fully synchronous.</p>\n<p><code>.flatMap()</code> is meant to create another <strong>Publisher</strong> (can either be <code>Mono</code> or <code>Flux</code>) with given <strong>object</strong></p>\n<p>Emissions from <strong>Publisher</strong> inside <code>.flatMap()</code> will be &quot;merged&quot; with &quot;main&quot; sequence.</p>\n<p>This operation is asynchronous</p>\n<p><strong>EDITED:</strong>\nExamples of <code>.flatMap()</code> that returns:</p>\n<p><strong>Mono (&quot;one-to-one&quot;):</strong></p>\n<pre><code>Flux.just(&quot;Hello&quot;)\n        .flatMap(word -&gt; Mono.just(word + &quot; world!&quot;))  // return Mono that produces another value\n        .subscribe(System.out::println);\n</code></pre>\n<p>Which will print the following output:</p>\n<pre><code>Hello world!\n</code></pre>\n<p><strong>Flux: (&quot;one-to-many&quot;):</strong></p>\n<pre><code>Flux.just(&quot;Hello&quot;, &quot; world!&quot;)\n        .flatMap(word -&gt; Flux.fromArray(word.split(&quot;(?!^)&quot;)))  // return Flux that produces the letters of the given word\n        .subscribe(System.out::println);\n</code></pre>\n<p>Which will print the following output:</p>\n<pre><code>H\ne\nl\nl\no\n \nw\no\nr\nl\nd\n!\n</code></pre>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1250,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":75093773,"answer_count":2,"score":1,"last_activity_date":1673533551,"creation_date":1673512892,"question_id":75093545,"body_markdown":"I&#39;ve read that [wonderful answer][1] about the difference between `map` and `flatMap`.\r\n\r\nAnd there is a picture that demonstrates flatmap:\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAnd quote:\r\n\r\n&gt; The map is for synchronous, non-blocking, one-to-one transformations\r\n&gt; while the flatMap is for asynchronous (non-blocking) One-to-Many\r\n&gt; transformations.\r\n\r\nBased on that picture and quote I understand that `flatMap` allows the creation of more (or fewer) elements than it was in the initial `Flux`. But all examples I was able to find contains the same amount of element in the initial sequence after `flatMap` like here:\r\n\r\n```java\r\nFlux&lt;Player&gt; players = Flux.just(&quot;Zahid Khan&quot;, &quot;Arif Khan&quot;, &quot;Obaid Sheikh&quot;)\r\n    .flatMap(fullname -&gt; Mono\r\n        .just(fullname)\r\n        .map(p -&gt; {\r\n            String[] split = p.split(&quot;\\\\s&quot;);\r\n             return new Player(split[0], split[1]);\r\n        })\r\n        .subscribeOn(Scheduler.parallel()));\r\n```\r\n\r\n3 strings as input and 3 players as output:\r\n\r\n```\r\nList&lt;Player&gt; playerList = Arrays.asList(\r\n    new Player(&quot;Zahid&quot;, &quot;Khan&quot;),\r\n    new Player(&quot;Arif&quot;, &quot;Khan&quot;), \r\n    new Player(&quot;Obaid&quot;, &quot;Sheikh&quot;));\r\n```\r\n\r\n**My question is:**\r\n\r\nIs there a way to modify my example to achieve 3 strings as input and 6 (for example) players as output to prove that flatmap could be one-to-many?\r\n\r\n  [1]: https://stackoverflow.com/a/71826804/2674303\r\n  [2]: https://i.stack.imgur.com/6sCq4.png","title":"Why many people say that flatmap in reactor is one-to-many?","body":"<p>I've read that <a href=\"https://stackoverflow.com/a/71826804/2674303\">wonderful answer</a> about the difference between <code>map</code> and <code>flatMap</code>.</p>\n<p>And there is a picture that demonstrates flatmap:</p>\n<p><a href=\"https://i.stack.imgur.com/6sCq4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6sCq4.png\" alt=\"enter image description here\" /></a></p>\n<p>And quote:</p>\n<blockquote>\n<p>The map is for synchronous, non-blocking, one-to-one transformations\nwhile the flatMap is for asynchronous (non-blocking) One-to-Many\ntransformations.</p>\n</blockquote>\n<p>Based on that picture and quote I understand that <code>flatMap</code> allows the creation of more (or fewer) elements than it was in the initial <code>Flux</code>. But all examples I was able to find contains the same amount of element in the initial sequence after <code>flatMap</code> like here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Flux&lt;Player&gt; players = Flux.just(&quot;Zahid Khan&quot;, &quot;Arif Khan&quot;, &quot;Obaid Sheikh&quot;)\n    .flatMap(fullname -&gt; Mono\n        .just(fullname)\n        .map(p -&gt; {\n            String[] split = p.split(&quot;\\\\s&quot;);\n             return new Player(split[0], split[1]);\n        })\n        .subscribeOn(Scheduler.parallel()));\n</code></pre>\n<p>3 strings as input and 3 players as output:</p>\n<pre><code>List&lt;Player&gt; playerList = Arrays.asList(\n    new Player(&quot;Zahid&quot;, &quot;Khan&quot;),\n    new Player(&quot;Arif&quot;, &quot;Khan&quot;), \n    new Player(&quot;Obaid&quot;, &quot;Sheikh&quot;));\n</code></pre>\n<p><strong>My question is:</strong></p>\n<p>Is there a way to modify my example to achieve 3 strings as input and 6 (for example) players as output to prove that flatmap could be one-to-many?</p>\n"},{"tags":["java","macos","dock"],"owner":{"account_id":19705285,"reputation":160,"user_id":20654602,"display_name":"Rishon_JR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673533411,"creation_date":1673533411,"question_id":75097775,"body_markdown":"**This Is Not A Duplicate, As Previous Questions On Stackoverflow Are Extremely Outdated And They Don&#39;t Work**\r\n\r\nI want to change the name of the application in the dock to make it feel more like macos.\r\nI was reading this [post](https://stackoverflow.com/questions/2553941/programmatically-setting-the-dockname-java-mac-os-x-jvm-property) and I couldn&#39;t get it to work. instead, it just appeared with the name &quot;java&quot;\\\r\n[![enter image description here][1]][1]\\\r\nI would like to do this within the java program itself so that whenever the user double-clicks on the jar file, it should launch with the dock name and icon. I have successfully changed the icon with `java.awt.TaskBar` and also the menu bar, but I couldn&#39;t do it dock name. How do I do this?\r\n\r\nJava Details:\r\n```\r\n$ java --version\r\nopenjdk 19.0.1 2022-10-18\r\nOpenJDK Runtime Environment (build 19.0.1+10-21)\r\nOpenJDK 64-Bit Server VM (build 19.0.1+10-21, mixed mode, sharing)\r\n$ javac --version\r\njavac 19.0.1\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NY5k2.png","title":"How do I change the dock name in macOS programmatically?","body":"<p><strong>This Is Not A Duplicate, As Previous Questions On Stackoverflow Are Extremely Outdated And They Don't Work</strong></p>\n<p>I want to change the name of the application in the dock to make it feel more like macos.\nI was reading this <a href=\"https://stackoverflow.com/questions/2553941/programmatically-setting-the-dockname-java-mac-os-x-jvm-property\">post</a> and I couldn't get it to work. instead, it just appeared with the name &quot;java&quot;<br />\n<a href=\"https://i.stack.imgur.com/NY5k2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NY5k2.png\" alt=\"enter image description here\" /></a><br />\nI would like to do this within the java program itself so that whenever the user double-clicks on the jar file, it should launch with the dock name and icon. I have successfully changed the icon with <code>java.awt.TaskBar</code> and also the menu bar, but I couldn't do it dock name. How do I do this?</p>\n<p>Java Details:</p>\n<pre><code>$ java --version\nopenjdk 19.0.1 2022-10-18\nOpenJDK Runtime Environment (build 19.0.1+10-21)\nOpenJDK 64-Bit Server VM (build 19.0.1+10-21, mixed mode, sharing)\n$ javac --version\njavac 19.0.1\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9259,"page":733,"page_size":100}
