{"items":[{"tags":["java","tensorflow","tensorflow2.0"],"owner":{"account_id":11649713,"reputation":39,"user_id":8531361,"display_name":"Harold"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672746945,"creation_date":1672746386,"question_id":74992936,"body_markdown":"I use ```SavedModelBundle.load(finalPath, &quot;serve&quot;)``` to load the model\r\n\r\nI tried to replace files starting with &#39;model.ckpt&#39; with &#39;variables&#39;  and it didn&#39;t work.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/xnQ6k.png)](https://i.stack.imgur.com/xnQ6k.png)\r\n[![enter image description here](https://i.stack.imgur.com/7D83h.png)](https://i.stack.imgur.com/7D83h.png)\r\n\r\n\r\nexception detail:\r\n```2023-01-03 19:38:42.793807: I tensorflow/cc/saved_model/loader.cc:161] Restoring SavedModel bundle.\r\n2023-01-03 19:38:42.826754: W tensorflow/core/framework/op_kernel.cc:1318] OP_REQUIRES failed at save_restore_v2_ops.cc:184 : Data loss: not an sstable (bad magic number)\r\n2023-01-03 19:38:42.827499: W tensorflow/core/framework/op_kernel.cc:1318] OP_REQUIRES failed at save_restore_v2_ops.cc:184 : Data loss: not an sstable (bad magic number)\r\n2023-01-03 19:38:42.827582: W tensorflow/core/framework/op_kernel.cc:1318] OP_REQUIRES failed at save_restore_v2_ops.cc:184 : Data loss: not an sstable (bad magic number)\r\n2023-01-03 19:38:42.827619: W tensorflow/core/framework/op_kernel.cc:1318] OP_REQUIRES failed at save_restore_v2_ops.cc:184 : Data loss: not an sstable (bad magic number)\r\n2023-01-03 19:38:42.843372: I tensorflow/cc/saved_model/loader.cc:291] SavedModel load for tags { serve }; Status: fail. Took 159800 microseconds.\r\n19:38:42.879 [main] ERROR c.a.h.x.m.p.MosMemoPublication - load model exceptionorg.tensorflow.TensorFlowException: not an sstable (bad magic number)\r\n[[Node: save_1/RestoreV2_3 = RestoreV2[_output_shapes=[&lt;unknown&gt;, &lt;unknown&gt;, &lt;unknown&gt;, &lt;unknown&gt;, &lt;unknown&gt;, ..., &lt;unknown&gt;, &lt;unknown&gt;, &lt;unknown&gt;, &lt;unknown&gt;, &lt;unknown&gt;], dtypes=[DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, ..., DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT], _device=&quot;/job:localhost/replica:0/task:0/device:CPU:0&quot;](_arg_save_1/Const_0_0, save_1/RestoreV2_3/tensor_names, save_1/RestoreV2_3/shape_and_slices)]]```\r\n","title":"load model with TensorFlow java api, occurs data loss: not an sstable (bad magic number) exception","body":"<p>I use <code>SavedModelBundle.load(finalPath, &quot;serve&quot;)</code> to load the model</p>\n<p>I tried to replace files starting with 'model.ckpt' with 'variables'  and it didn't work.</p>\n<p><a href=\"https://i.stack.imgur.com/xnQ6k.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xnQ6k.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/7D83h.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7D83h.png\" alt=\"enter image description here\" /></a></p>\n<p>exception detail:</p>\n<pre><code>2023-01-03 19:38:42.826754: W tensorflow/core/framework/op_kernel.cc:1318] OP_REQUIRES failed at save_restore_v2_ops.cc:184 : Data loss: not an sstable (bad magic number)\n2023-01-03 19:38:42.827499: W tensorflow/core/framework/op_kernel.cc:1318] OP_REQUIRES failed at save_restore_v2_ops.cc:184 : Data loss: not an sstable (bad magic number)\n2023-01-03 19:38:42.827582: W tensorflow/core/framework/op_kernel.cc:1318] OP_REQUIRES failed at save_restore_v2_ops.cc:184 : Data loss: not an sstable (bad magic number)\n2023-01-03 19:38:42.827619: W tensorflow/core/framework/op_kernel.cc:1318] OP_REQUIRES failed at save_restore_v2_ops.cc:184 : Data loss: not an sstable (bad magic number)\n2023-01-03 19:38:42.843372: I tensorflow/cc/saved_model/loader.cc:291] SavedModel load for tags { serve }; Status: fail. Took 159800 microseconds.\n19:38:42.879 [main] ERROR c.a.h.x.m.p.MosMemoPublication - load model exceptionorg.tensorflow.TensorFlowException: not an sstable (bad magic number)\n[[Node: save_1/RestoreV2_3 = RestoreV2[_output_shapes=[&lt;unknown&gt;, &lt;unknown&gt;, &lt;unknown&gt;, &lt;unknown&gt;, &lt;unknown&gt;, ..., &lt;unknown&gt;, &lt;unknown&gt;, &lt;unknown&gt;, &lt;unknown&gt;, &lt;unknown&gt;], dtypes=[DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, ..., DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT], _device=&quot;/job:localhost/replica:0/task:0/device:CPU:0&quot;](_arg_save_1/Const_0_0, save_1/RestoreV2_3/tensor_names, save_1/RestoreV2_3/shape_and_slices)]]```\n</code></pre>\n"},{"tags":["java","pdf","inputstream","adobe-reader","bytestream"],"owner":{"display_name":"user13840927"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672746541,"creation_date":1670941166,"question_id":74786284,"body_markdown":"I&#39;m trying to solve a problem with generating a pdf from an inputStream or byte array. The file being opened in Adobe Reader is corrupted. When I set Chrome as my default pdf reader it opens normally, and if I save &quot;Save as&quot; from the browser and then open it in Adobe then the document is correct. I&#39;ve already tried everything. Originally the method was written in **omnifaces**. I tried to write it in several ways (i.e. **pdfbox**), none of them work and the effect is the same.\r\n\r\nThe original method:\r\n\r\n```\r\n\tpublic String openDocument(StringValueTO docHandle) throws AbstracAekoException {\r\n\t\ttry {\r\n\t\t\tIMaVorgangsdatenService service = ServiceLocator.get(IMaVorgangsdatenService.class);\r\n\t\t\tDocumentTO documentTO = service.openDocument(ElementTOUtil.nullSafeString(docHandle));\r\n\r\n\t\t\tif (documentTO == null || documentTO.getBinaryData() == null || documentTO.getBinaryData().length == 0) {\r\n\t\t\t\tFacesUtil.addMessage(FacesMessage.SEVERITY_ERROR, Messages.KEY_PPS_DOCUMENT_NOT_AVAILABLE);\r\n\t\t\t} else {\r\n\t\t\t\tbyte[] data = documentTO.getBinaryData();\r\n\t\t\t\tInputStream inputStream = new ByteArrayInputStream(data);\r\n\t\t\t\tFaces.sendFile(inputStream, documentTO.getFilename().getValue().toString(), true);\r\n\r\n\t\t\t\tgetData().setForceOpenDocumentZaem(false);\r\n\t\t\t}\r\n\t\t } catch (IOException e) {\r\n\t\t\t e.printStackTrace();\r\n\t\t }\r\n\r\n\t\treturn null;\r\n```\r\n\r\nI changed to:\r\n\r\n```\r\n\t    try {\r\n\t    \tDocumentTO documentTO = null;\r\n\r\n            IMaVorgangsdatenService service = ServiceLocator.get(IMaVorgangsdatenService.class);\r\n            documentTO = service.openDocument(ElementTOUtil.nullSafeString(docHandle));\r\n\r\n\r\n\t    FacesContext facesContext = FacesContext.getCurrentInstance();\r\n\r\n\t    HttpServletResponse response =\r\n\t            (HttpServletResponse) facesContext.getExternalContext().getResponse();\r\n\r\n\t    response.reset();\r\n\t    response.setHeader(&quot;Content-Type&quot;, &quot;application/pdf&quot;);\r\n\t    response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment;filename=&quot; + documentTO.getFilename().getValue().toString());\r\n\r\n\t    OutputStream responseOutputStream = response.getOutputStream();\r\n\r\n\t    byte[] data = documentTO.getBinaryData();\r\n\t    InputStream inputStream = new ByteArrayInputStream(data);\r\n\r\n\t    byte[] bytesBuffer = new byte[2048];\r\n\t    int bytesRead;\r\n\t    while ((bytesRead = inputStream.read(bytesBuffer)) &gt; 0)\r\n\t    {\r\n\t        responseOutputStream.write(bytesBuffer, 0, bytesRead);\r\n\t    }\r\n\r\n\t    responseOutputStream.flush();\r\n\r\n\r\n\t\t\tinputStream.close();\r\n\t\t    responseOutputStream.close();\r\n\t\t    facesContext.responseComplete();\r\n\r\n\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n```\r\n\r\n\r\nI tried different combinations. I completelly don&#39;t know why document is corrupted in Adobe Reader.\r\n\r\n```\r\n\t\t&lt;!-- PDF rendering --&gt;\r\n\t\t&lt;dependency org=&quot;org.apache.pdfbox&quot; name=&quot;pdfbox&quot; rev=&quot;2.0.11&quot; conf=&quot;compile-&gt;default&quot;/&gt;\r\n\t\t&lt;dependency org=&quot;org.apache.pdfbox&quot; name=&quot;fontbox&quot; rev=&quot;2.0.11&quot; conf=&quot;compile-&gt;default&quot;/&gt;\r\n```\r\n\r\n```\r\n        &lt;!-- PrimeFaces --&gt;\r\n        &lt;dependency org=&quot;org.primefaces&quot; name=&quot;primefaces&quot; rev=&quot;8.0&quot; conf=&quot;compile-&gt;default&quot; transitive=&quot;false&quot; /&gt;\r\n        &lt;dependency org=&quot;org.omnifaces&quot; name=&quot;omnifaces&quot; rev=&quot;1.6.1&quot; conf=&quot;compile-&gt;default&quot; /&gt;\r\n```\r\n\r\nWhat I saw, that generated PDF file doesn&#39;t have *trailer* element at the end.\r\nAny help from your site will be highly appreciated.","title":"Create PDF from InputStream / ByteArray - Corrupted PDF in Adobe","body":"<p>I'm trying to solve a problem with generating a pdf from an inputStream or byte array. The file being opened in Adobe Reader is corrupted. When I set Chrome as my default pdf reader it opens normally, and if I save &quot;Save as&quot; from the browser and then open it in Adobe then the document is correct. I've already tried everything. Originally the method was written in <strong>omnifaces</strong>. I tried to write it in several ways (i.e. <strong>pdfbox</strong>), none of them work and the effect is the same.</p>\n<p>The original method:</p>\n<pre><code>    public String openDocument(StringValueTO docHandle) throws AbstracAekoException {\n        try {\n            IMaVorgangsdatenService service = ServiceLocator.get(IMaVorgangsdatenService.class);\n            DocumentTO documentTO = service.openDocument(ElementTOUtil.nullSafeString(docHandle));\n\n            if (documentTO == null || documentTO.getBinaryData() == null || documentTO.getBinaryData().length == 0) {\n                FacesUtil.addMessage(FacesMessage.SEVERITY_ERROR, Messages.KEY_PPS_DOCUMENT_NOT_AVAILABLE);\n            } else {\n                byte[] data = documentTO.getBinaryData();\n                InputStream inputStream = new ByteArrayInputStream(data);\n                Faces.sendFile(inputStream, documentTO.getFilename().getValue().toString(), true);\n\n                getData().setForceOpenDocumentZaem(false);\n            }\n         } catch (IOException e) {\n             e.printStackTrace();\n         }\n\n        return null;\n</code></pre>\n<p>I changed to:</p>\n<pre><code>        try {\n            DocumentTO documentTO = null;\n\n            IMaVorgangsdatenService service = ServiceLocator.get(IMaVorgangsdatenService.class);\n            documentTO = service.openDocument(ElementTOUtil.nullSafeString(docHandle));\n\n\n        FacesContext facesContext = FacesContext.getCurrentInstance();\n\n        HttpServletResponse response =\n                (HttpServletResponse) facesContext.getExternalContext().getResponse();\n\n        response.reset();\n        response.setHeader(&quot;Content-Type&quot;, &quot;application/pdf&quot;);\n        response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment;filename=&quot; + documentTO.getFilename().getValue().toString());\n\n        OutputStream responseOutputStream = response.getOutputStream();\n\n        byte[] data = documentTO.getBinaryData();\n        InputStream inputStream = new ByteArrayInputStream(data);\n\n        byte[] bytesBuffer = new byte[2048];\n        int bytesRead;\n        while ((bytesRead = inputStream.read(bytesBuffer)) &gt; 0)\n        {\n            responseOutputStream.write(bytesBuffer, 0, bytesRead);\n        }\n\n        responseOutputStream.flush();\n\n\n            inputStream.close();\n            responseOutputStream.close();\n            facesContext.responseComplete();\n\n\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        return null;\n    }\n</code></pre>\n<p>I tried different combinations. I completelly don't know why document is corrupted in Adobe Reader.</p>\n<pre><code>        &lt;!-- PDF rendering --&gt;\n        &lt;dependency org=&quot;org.apache.pdfbox&quot; name=&quot;pdfbox&quot; rev=&quot;2.0.11&quot; conf=&quot;compile-&gt;default&quot;/&gt;\n        &lt;dependency org=&quot;org.apache.pdfbox&quot; name=&quot;fontbox&quot; rev=&quot;2.0.11&quot; conf=&quot;compile-&gt;default&quot;/&gt;\n</code></pre>\n<pre><code>        &lt;!-- PrimeFaces --&gt;\n        &lt;dependency org=&quot;org.primefaces&quot; name=&quot;primefaces&quot; rev=&quot;8.0&quot; conf=&quot;compile-&gt;default&quot; transitive=&quot;false&quot; /&gt;\n        &lt;dependency org=&quot;org.omnifaces&quot; name=&quot;omnifaces&quot; rev=&quot;1.6.1&quot; conf=&quot;compile-&gt;default&quot; /&gt;\n</code></pre>\n<p>What I saw, that generated PDF file doesn't have <em>trailer</em> element at the end.\nAny help from your site will be highly appreciated.</p>\n"},{"tags":["java","spring-boot","exception","javafx"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1571321219,"post_id":58434513,"comment_id":103209471,"body_markdown":"Maybe not the best solution, but you can try adding `--add-exports javafx.base/com.sun.javafx.beans=ALL-UNNAMED` argument when launching your application.","body":"Maybe not the best solution, but you can try adding <code>--add-exports javafx.base&#47;com.sun.javafx.beans=ALL-UNNAMED</code> argument when launching your application."},{"owner":{"account_id":12000615,"reputation":2015,"user_id":8780684,"accept_rate":18,"display_name":"Martin"},"score":0,"creation_date":1571322477,"post_id":58434513,"comment_id":103210253,"body_markdown":"@Slaw that indeed works!  But why do I suddenly need this?","body":"@Slaw that indeed works!  But why do I suddenly need this?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1571323055,"post_id":58434513,"comment_id":103210579,"body_markdown":"I have no idea. Apparently Spring is trying to reflectively access a member of an annotation, `@IDProperty#value()`, but that annotation is in a package that&#39;s not exported. Why Spring wasn&#39;t doing that before I couldn&#39;t say.","body":"I have no idea. Apparently Spring is trying to reflectively access a member of an annotation, <code>@IDProperty#value()</code>, but that annotation is in a package that&#39;s not exported. Why Spring wasn&#39;t doing that before I couldn&#39;t say."},{"owner":{"account_id":12000615,"reputation":2015,"user_id":8780684,"accept_rate":18,"display_name":"Martin"},"score":0,"creation_date":1571323241,"post_id":58434513,"comment_id":103210676,"body_markdown":"I gotta say from past experience that mixing spring-boot with javafx is a bit finicky in general so I&#39;m really not all that surprised.  Please post an answer as your solution indeed worked!","body":"I gotta say from past experience that mixing spring-boot with javafx is a bit finicky in general so I&#39;m really not all that surprised.  Please post an answer as your solution indeed worked!"},{"owner":{"account_id":1656890,"reputation":8197,"user_id":1526192,"display_name":"Phil Webb"},"score":1,"creation_date":1571330811,"post_id":58434513,"comment_id":103214623,"body_markdown":"I&#39;ve raised https://github.com/spring-projects/spring-framework/issues/23829. If you have time to attach a sample it would be much appreciated.","body":"I&#39;ve raised <a href=\"https://github.com/spring-projects/spring-framework/issues/23829\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-framework/issues/23829</a>. If you have time to attach a sample it would be much appreciated."},{"owner":{"account_id":12000615,"reputation":2015,"user_id":8780684,"accept_rate":18,"display_name":"Martin"},"score":0,"creation_date":1571330902,"post_id":58434513,"comment_id":103214653,"body_markdown":"Thank you very much Phil, this is a pretty large project and I frankly have no idea which class the issue is coming from.  What exactly would you like me to attach?","body":"Thank you very much Phil, this is a pretty large project and I frankly have no idea which class the issue is coming from.  What exactly would you like me to attach?"},{"owner":{"account_id":12000615,"reputation":2015,"user_id":8780684,"accept_rate":18,"display_name":"Martin"},"score":0,"creation_date":1571340189,"post_id":58434513,"comment_id":103218591,"body_markdown":"@fabian indeed i need to look at the module system, i come from a java 7 background and i&#39;ve steered away from modules so far.  i had a feeling this would be suggested.","body":"@fabian indeed i need to look at the module system, i come from a java 7 background and i&#39;ve steered away from modules so far.  i had a feeling this would be suggested."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1571355951,"post_id":58434513,"comment_id":103223493,"body_markdown":"@fabian Would the OP putting their code in an explicit module help? It seems to me the problem is Spring trying to access internals of `javafx.base`, both of which are not related to the OP&#39;s code being in a module or not. Unless you think Spring might behave differently if it was on the modulepath (and thus in a named module)?","body":"@fabian Would the OP putting their code in an explicit module help? It seems to me the problem is Spring trying to access internals of <code>javafx.base</code>, both of which are not related to the OP&#39;s code being in a module or not. Unless you think Spring might behave differently if it was on the modulepath (and thus in a named module)?"}],"answers":[{"tags":[],"owner":{"account_id":12000615,"reputation":2015,"user_id":8780684,"accept_rate":18,"display_name":"Martin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1572450775,"creation_date":1572450775,"answer_id":58629251,"question_id":58434513,"body_markdown":"Fix was added to Spring Framework 5.2.1 milestone which is due tomorrow.  Cheers!","title":"InaccessibleObjectException after upgrading Spring Boot from 2.1.9 to 2.2","body":"<p>Fix was added to Spring Framework 5.2.1 milestone which is due tomorrow.  Cheers!</p>\n"},{"tags":[],"owner":{"account_id":27420232,"reputation":11,"user_id":20918795,"display_name":"Arvind K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672746009,"creation_date":1672746009,"answer_id":74992862,"question_id":58434513,"body_markdown":"I encountered same issue, problem was my eclipse STS was pointing to wrong JRE, my installed java and jre version was 1.8.0 where my eclipse sts was pointing to some openJDK, after correcting this. My Application started working!!","title":"InaccessibleObjectException after upgrading Spring Boot from 2.1.9 to 2.2","body":"<p>I encountered same issue, problem was my eclipse STS was pointing to wrong JRE, my installed java and jre version was 1.8.0 where my eclipse sts was pointing to some openJDK, after correcting this. My Application started working!!</p>\n"}],"owner":{"account_id":12000615,"reputation":2015,"user_id":8780684,"accept_rate":18,"display_name":"Martin"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1670,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":58629251,"answer_count":2,"score":2,"last_activity_date":1672746009,"creation_date":1571320959,"question_id":58434513,"body_markdown":"My app worked perfectly before the upgrade, getting the following exception : \r\n\r\n    Exception in Application init method\r\n    java.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:464)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n\tat java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1051)\r\n\r\n    Caused by: java.lang.RuntimeException: Exception in Application init method\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:895)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:195)\r\n\tat java.base/java.lang.Thread.run(Thread.java:830)\r\n\r\n    Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make public abstract java.lang.String com.sun.javafx.beans.IDProperty.value() accessible: module javafx.base does not &quot;exports com.sun.javafx.beans&quot; to unnamed module @6293abcc\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:344)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:284)\r\n\tat java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:198)\r\n\tat java.base/java.lang.reflect.Method.setAccessible(Method.java:192)\r\n\tat org.springframework.core.annotation.AttributeMethods.&lt;init&gt;(AttributeMethods.java:80)\r\n\tat org.springframework.core.annotation.AttributeMethods.compute(AttributeMethods.java:272)\r\n\tat java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330)\r\n\tat org.springframework.core.annotation.AttributeMethods.forAnnotationType(AttributeMethods.java:255)\r\n\tat org.springframework.core.annotation.AnnotationsScanner.getDeclaredAnnotations(AnnotationsScanner.java:467)\r\n\tat org.springframework.core.annotation.AnnotationsScanner.getDeclaredAnnotations(AnnotationsScanner.java:439)\r\n\tat org.springframework.core.annotation.AnnotationsScanner.processClassHierarchy(AnnotationsScanner.java:210)\r\n\tat org.springframework.core.annotation.AnnotationsScanner.processClassHierarchy(AnnotationsScanner.java:227)\r\n\tat org.springframework.core.annotation.AnnotationsScanner.processClassHierarchy(AnnotationsScanner.java:227)\r\n\tat org.springframework.core.annotation.AnnotationsScanner.processClassHierarchy(AnnotationsScanner.java:227)\r\n\tat org.springframework.core.annotation.AnnotationsScanner.processClassHierarchy(AnnotationsScanner.java:227)\r\n\tat org.springframework.core.annotation.AnnotationsScanner.processClassHierarchy(AnnotationsScanner.java:227)\r\n\tat org.springframework.core.annotation.AnnotationsScanner.processClassHierarchy(AnnotationsScanner.java:194)\r\n\tat org.springframework.core.annotation.AnnotationsScanner.processClass(AnnotationsScanner.java:130)\r\n\tat org.springframework.core.annotation.AnnotationsScanner.process(AnnotationsScanner.java:107)\r\n\tat org.springframework.core.annotation.AnnotationsScanner.scan(AnnotationsScanner.java:97)\r\n\tat org.springframework.core.annotation.AnnotationsScanner.scan(AnnotationsScanner.java:78)\r\n\tat org.springframework.core.annotation.TypeMappedAnnotations.scan(TypeMappedAnnotations.java:242)\r\n\tat org.springframework.core.annotation.TypeMappedAnnotations.isPresent(TypeMappedAnnotations.java:98)\r\n\tat org.springframework.boot.context.properties.ConfigurationPropertiesBean$BindMethod.isConstructorBindingType(ConfigurationPropertiesBean.java:308)\r\n\tat org.springframework.boot.context.properties.ConfigurationPropertiesBean$BindMethod.forClass(ConfigurationPropertiesBean.java:300)\r\n\tat org.springframework.boot.context.properties.ConfigurationPropertiesBeanDefinitionValidator.validate(ConfigurationPropertiesBeanDefinitionValidator.java:57)\r\n\tat org.springframework.boot.context.properties.ConfigurationPropertiesBeanDefinitionValidator.postProcessBeanFactory(ConfigurationPropertiesBeanDefinitionValidator.java:45)\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:286)\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:174)\r\n\tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:706)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:532)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)\r\n\tat com.mdenis.mdhis3_service.core.MDHIS3_Service.init(MDHIS3_Service.java:109)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:824)\r\n\t... 2 more\r\n\r\nThis is a Spring Boot / JavaFX project compiled using Maven.  Not even sure where to start on this one, it&#39;s a fairly large project and everything worked perfectly on 2.1.9.  I won&#39;t provide any code sample for now since i truly have no idea where this error is even coming from and the stacktrace only points to my main class which is the entry point.  Any idea where to start on this?","title":"InaccessibleObjectException after upgrading Spring Boot from 2.1.9 to 2.2","body":"<p>My app worked perfectly before the upgrade, getting the following exception : </p>\n\n<pre><code>Exception in Application init method\njava.lang.reflect.InvocationTargetException\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:567)\nat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:464)\nat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:567)\nat java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1051)\n\nCaused by: java.lang.RuntimeException: Exception in Application init method\nat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:895)\nat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:195)\nat java.base/java.lang.Thread.run(Thread.java:830)\n\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make public abstract java.lang.String com.sun.javafx.beans.IDProperty.value() accessible: module javafx.base does not \"exports com.sun.javafx.beans\" to unnamed module @6293abcc\nat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:344)\nat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:284)\nat java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:198)\nat java.base/java.lang.reflect.Method.setAccessible(Method.java:192)\nat org.springframework.core.annotation.AttributeMethods.&lt;init&gt;(AttributeMethods.java:80)\nat org.springframework.core.annotation.AttributeMethods.compute(AttributeMethods.java:272)\nat java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330)\nat org.springframework.core.annotation.AttributeMethods.forAnnotationType(AttributeMethods.java:255)\nat org.springframework.core.annotation.AnnotationsScanner.getDeclaredAnnotations(AnnotationsScanner.java:467)\nat org.springframework.core.annotation.AnnotationsScanner.getDeclaredAnnotations(AnnotationsScanner.java:439)\nat org.springframework.core.annotation.AnnotationsScanner.processClassHierarchy(AnnotationsScanner.java:210)\nat org.springframework.core.annotation.AnnotationsScanner.processClassHierarchy(AnnotationsScanner.java:227)\nat org.springframework.core.annotation.AnnotationsScanner.processClassHierarchy(AnnotationsScanner.java:227)\nat org.springframework.core.annotation.AnnotationsScanner.processClassHierarchy(AnnotationsScanner.java:227)\nat org.springframework.core.annotation.AnnotationsScanner.processClassHierarchy(AnnotationsScanner.java:227)\nat org.springframework.core.annotation.AnnotationsScanner.processClassHierarchy(AnnotationsScanner.java:227)\nat org.springframework.core.annotation.AnnotationsScanner.processClassHierarchy(AnnotationsScanner.java:194)\nat org.springframework.core.annotation.AnnotationsScanner.processClass(AnnotationsScanner.java:130)\nat org.springframework.core.annotation.AnnotationsScanner.process(AnnotationsScanner.java:107)\nat org.springframework.core.annotation.AnnotationsScanner.scan(AnnotationsScanner.java:97)\nat org.springframework.core.annotation.AnnotationsScanner.scan(AnnotationsScanner.java:78)\nat org.springframework.core.annotation.TypeMappedAnnotations.scan(TypeMappedAnnotations.java:242)\nat org.springframework.core.annotation.TypeMappedAnnotations.isPresent(TypeMappedAnnotations.java:98)\nat org.springframework.boot.context.properties.ConfigurationPropertiesBean$BindMethod.isConstructorBindingType(ConfigurationPropertiesBean.java:308)\nat org.springframework.boot.context.properties.ConfigurationPropertiesBean$BindMethod.forClass(ConfigurationPropertiesBean.java:300)\nat org.springframework.boot.context.properties.ConfigurationPropertiesBeanDefinitionValidator.validate(ConfigurationPropertiesBeanDefinitionValidator.java:57)\nat org.springframework.boot.context.properties.ConfigurationPropertiesBeanDefinitionValidator.postProcessBeanFactory(ConfigurationPropertiesBeanDefinitionValidator.java:45)\nat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:286)\nat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:174)\nat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:706)\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:532)\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)\nat com.mdenis.mdhis3_service.core.MDHIS3_Service.init(MDHIS3_Service.java:109)\nat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:824)\n... 2 more\n</code></pre>\n\n<p>This is a Spring Boot / JavaFX project compiled using Maven.  Not even sure where to start on this one, it's a fairly large project and everything worked perfectly on 2.1.9.  I won't provide any code sample for now since i truly have no idea where this error is even coming from and the stacktrace only points to my main class which is the entry point.  Any idea where to start on this?</p>\n"},{"tags":["java","elasticsearch","elasticsearch-java-api","apiclient"],"answers":[{"tags":[],"owner":{"account_id":24908380,"reputation":3091,"user_id":18778181,"display_name":"rabbitbr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672745974,"creation_date":1672745974,"answer_id":74992857,"question_id":74992623,"body_markdown":"I recommend read the [Getting Started Java API Client][1].\r\n\r\nFor create [first connection][2] read the link.\r\n\r\nExample using script and updateByQuery:\r\n\r\n    Map&lt;String, JsonData&gt; params = Map.of(&quot;key&quot;, JsonData.of(&quot;value&quot;));\r\n\r\n    Script script = new Script.Builder()\r\n        .stored(StoredScriptId.of(ssi -&gt; ssi.id(&quot;script_name&quot;).params(params)))\r\n        .build();\r\n\r\n    UpdateByQueryRequest updateByQueryRequest = UpdateByQueryRequest.of(\r\n        up -&gt; up.index(&quot;idx_script_tst&quot;)\r\n            .query(Query.of(q -&gt; q.matchAll(MatchAllQuery.of(maq -&gt; maq))))\r\n            .script(script));\r\n    \r\n    var updateResponse = client.updateByQuery(updateByQueryRequest);\r\n\r\n  [1]: https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/_getting_started.html\r\n  [2]: https://%20https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/connecting.html","title":"Replacement for SearchTemplateRequest class in java api client","body":"<p>I recommend read the <a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/_getting_started.html\" rel=\"nofollow noreferrer\">Getting Started Java API Client</a>.</p>\n<p>For create <a href=\"https://%20https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/connecting.html\" rel=\"nofollow noreferrer\">first connection</a> read the link.</p>\n<p>Example using script and updateByQuery:</p>\n<pre><code>Map&lt;String, JsonData&gt; params = Map.of(&quot;key&quot;, JsonData.of(&quot;value&quot;));\n\nScript script = new Script.Builder()\n    .stored(StoredScriptId.of(ssi -&gt; ssi.id(&quot;script_name&quot;).params(params)))\n    .build();\n\nUpdateByQueryRequest updateByQueryRequest = UpdateByQueryRequest.of(\n    up -&gt; up.index(&quot;idx_script_tst&quot;)\n        .query(Query.of(q -&gt; q.matchAll(MatchAllQuery.of(maq -&gt; maq))))\n        .script(script));\n\nvar updateResponse = client.updateByQuery(updateByQueryRequest);\n</code></pre>\n"}],"owner":{"account_id":24911418,"reputation":1,"user_id":18780920,"display_name":"Chetna Joshi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":244,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672745974,"creation_date":1672744626,"question_id":74992623,"body_markdown":"I am migrating a java application from elastic search high level client to java api client. There is a SearchTemplateRequest class in elastic search java high level client. But I couldn&#39;t find any corresponding class in java api client. Can someone help on this? Old code snippet is as below.\r\n\r\n\r\n````\r\npublic SearchTemplateResponse getScriptResponse(String indexName, String scriptName, Map&lt;String, Object&gt; scriptParams) throws IOException {\r\n        SearchTemplateRequest request = null;\r\n        SearchTemplateResponse response = null;\r\n        try {\r\n            SearchTemplateRequest request = new SearchTemplateRequest();\r\n        request.setRequest(new SearchRequest(new String[] { indexName }, trackTotalHitsSourceBuilder()));\r\n        request.setScriptType(ScriptType.STORED);\r\n        request.setScript(scriptName);\r\n        request.setScriptParams(scriptParams);\r\n        request.getRequest().source().trackTotalHits();\r\n        response = getClient().searchTemplate(request, RequestOptions.DEFAULT);\r\n        } catch (Exception e) {\r\n            throw e;\r\n        }\r\n        return response;\r\n    }\r\n\r\n\r\nI&#39;m using above code block to get the response of bucket aggregation with script query.","title":"Replacement for SearchTemplateRequest class in java api client","body":"<p>I am migrating a java application from elastic search high level client to java api client. There is a SearchTemplateRequest class in elastic search java high level client. But I couldn't find any corresponding class in java api client. Can someone help on this? Old code snippet is as below.</p>\n<pre><code>public SearchTemplateResponse getScriptResponse(String indexName, String scriptName, Map&lt;String, Object&gt; scriptParams) throws IOException {\n        SearchTemplateRequest request = null;\n        SearchTemplateResponse response = null;\n        try {\n            SearchTemplateRequest request = new SearchTemplateRequest();\n        request.setRequest(new SearchRequest(new String[] { indexName }, trackTotalHitsSourceBuilder()));\n        request.setScriptType(ScriptType.STORED);\n        request.setScript(scriptName);\n        request.setScriptParams(scriptParams);\n        request.getRequest().source().trackTotalHits();\n        response = getClient().searchTemplate(request, RequestOptions.DEFAULT);\n        } catch (Exception e) {\n            throw e;\n        }\n        return response;\n    }\n\n\nI'm using above code block to get the response of bucket aggregation with script query.\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1672752421,"post_id":74992854,"comment_id":132341756,"body_markdown":"Does this help: https://stackoverflow.com/questions/16748146/android-canvas-drawline . Also, how is the &quot;map&quot; rendered - a static image or are you using a map api?","body":"Does this help: <a href=\"https://stackoverflow.com/questions/16748146/android-canvas-drawline\" title=\"android canvas drawline\">stackoverflow.com/questions/16748146/android-canvas-drawline</a> . Also, how is the &quot;map&quot; rendered - a static image or are you using a map api?"},{"owner":{"account_id":21229242,"reputation":1,"user_id":15614284,"display_name":"AhsanSheikh6"},"score":0,"creation_date":1672827236,"post_id":74992854,"comment_id":132358959,"body_markdown":"I am using a static image","body":"I am using a static image"}],"owner":{"account_id":21229242,"reputation":1,"user_id":15614284,"display_name":"AhsanSheikh6"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672745969,"creation_date":1672745969,"question_id":74992854,"body_markdown":"I want to draw a line between these buttons programmatically because the user will determine where he/she be going so according to that information it should draw line between certain buttons. I am new to Android world and still learning it.\r\nThanks in advance\r\n\r\nI have tried the canvas class available but I dont know how to display the line between the buttons and show it on my main activity.\r\n\r\n[This is the map](https://i.stack.imgur.com/uABpj.jpg)","title":"How Can I draw Line between these Indicator ImageButton in JAVA Android Studio","body":"<p>I want to draw a line between these buttons programmatically because the user will determine where he/she be going so according to that information it should draw line between certain buttons. I am new to Android world and still learning it.\nThanks in advance</p>\n<p>I have tried the canvas class available but I dont know how to display the line between the buttons and show it on my main activity.</p>\n<p><a href=\"https://i.stack.imgur.com/uABpj.jpg\" rel=\"nofollow noreferrer\">This is the map</a></p>\n"},{"tags":["java","hadoop","hdfs","hbase"],"comments":[{"owner":{"account_id":2410596,"reputation":111,"user_id":2105747,"accept_rate":0,"display_name":"shaheer01"},"score":0,"creation_date":1672845323,"post_id":74981640,"comment_id":132365126,"body_markdown":"Resolved it, it was coz of conflicting jar coming in runtime different from the compile time.\nAdded that jar in the exclusion list of pom and it got fixed.","body":"Resolved it, it was coz of conflicting jar coming in runtime different from the compile time. Added that jar in the exclusion list of pom and it got fixed."}],"owner":{"account_id":2410596,"reputation":111,"user_id":2105747,"accept_rate":0,"display_name":"shaheer01"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672745728,"creation_date":1672657567,"question_id":74981640,"body_markdown":"Hbase issue in coming up due to StreamBootstrapper class missing\r\n\r\nGetting following error due to which my hbase related service is not coming up\r\n\r\n&gt; at com.hub.storage.server.Start.main(Start.java:72) [storage-server-0.2-SNAPSHOT.jar:?]\r\n&gt; Caused by: org.python.core.PyException\r\n\r\n&gt; \r\n&gt;  Caused by: java.lang.NoSuchMethodError: &#39;com.ctc.wstx.io.StreamBootstrapper com.ctc.wstx.io.StreamBootstrapper.getInstance(java.lang.String, com.ctc.wstx.io.SystemId, java.io.InputStream)&#39;\r\n&gt; at org.apache.hadoop.conf.Configuration.parse(Configuration.java:2974) ~[hadoop-common-3.2.2.jar:?]\r\n&gt; at org.apache.hadoop.conf.Configuration.parse(Configuration.java:2957) ~[hadoop-common-3.2.2.jar:?]\r\n&gt; at org.apache.hadoop.conf.Configuration.getStreamReader(Configuration.java:3053) ~[hadoop-common-3.2.2.jar:?]\r\n","title":"Hbase: Apps giving issue in coming up due to StreamBootstrapper class missing","body":"<p>Hbase issue in coming up due to StreamBootstrapper class missing</p>\n<p>Getting following error due to which my hbase related service is not coming up</p>\n<blockquote>\n<p>at com.hub.storage.server.Start.main(Start.java:72) [storage-server-0.2-SNAPSHOT.jar:?]\nCaused by: org.python.core.PyException</p>\n</blockquote>\n<blockquote>\n<p>Caused by: java.lang.NoSuchMethodError: 'com.ctc.wstx.io.StreamBootstrapper com.ctc.wstx.io.StreamBootstrapper.getInstance(java.lang.String, com.ctc.wstx.io.SystemId, java.io.InputStream)'\nat org.apache.hadoop.conf.Configuration.parse(Configuration.java:2974) ~[hadoop-common-3.2.2.jar:?]\nat org.apache.hadoop.conf.Configuration.parse(Configuration.java:2957) ~[hadoop-common-3.2.2.jar:?]\nat org.apache.hadoop.conf.Configuration.getStreamReader(Configuration.java:3053) ~[hadoop-common-3.2.2.jar:?]</p>\n</blockquote>\n"},{"tags":["java","android","kotlin","firebase-cloud-messaging","android-pendingintent"],"comments":[{"owner":{"account_id":17641148,"reputation":673,"user_id":12803398,"display_name":"Zeeshan Ali"},"score":0,"creation_date":1672571269,"post_id":74945743,"comment_id":132306929,"body_markdown":"by onMessageReceived you mean fcm onMessageReceived?","body":"by onMessageReceived you mean fcm onMessageReceived?"},{"owner":{"account_id":7217455,"reputation":61,"user_id":5509349,"display_name":"Krunal Patel"},"score":0,"creation_date":1672609649,"post_id":74945743,"comment_id":132313075,"body_markdown":"@ZeeshanAli yes , onMessageReceived, I have received notification data but not show on notification bar of my phone if i have not clear old notification fron notification bar.","body":"@ZeeshanAli yes , onMessageReceived, I have received notification data but not show on notification bar of my phone if i have not clear old notification fron notification bar."},{"owner":{"account_id":17641148,"reputation":673,"user_id":12803398,"display_name":"Zeeshan Ali"},"score":0,"creation_date":1672714289,"post_id":74945743,"comment_id":132332951,"body_markdown":"Could you also attach the code in onMessageReceived !","body":"Could you also attach the code in onMessageReceived !"},{"owner":{"account_id":7217455,"reputation":61,"user_id":5509349,"display_name":"Krunal Patel"},"score":0,"creation_date":1672745706,"post_id":74945743,"comment_id":132339649,"body_markdown":"@ZeeshanAli, i have attached my onMessageReceived class.","body":"@ZeeshanAli, i have attached my onMessageReceived class."}],"owner":{"account_id":7217455,"reputation":61,"user_id":5509349,"display_name":"Krunal Patel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":526,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672745656,"creation_date":1672268313,"question_id":74945743,"body_markdown":"Android 13 New notification appears after old one notification clear. When first notification show then new notification received on onMessageReceived method but it will display if i have old notifiction cleared form notification bar. otherwise it will not showing on notification bar.\r\n   \r\nMy FirebaseMessageingService class as below\r\n\r\n    public class MyFirebaseMessagingService extends FirebaseMessagingService {\r\n    \r\n        private static final String TAG = &quot;MyFirebaseMsgService&quot;;\r\n    \r\n       \r\n        @Override\r\n        public void onMessageReceived(RemoteMessage remoteMessage) {\r\n    \r\n            Log.d(TAG, &quot;From: &quot; + remoteMessage.getFrom());\r\n    \r\n            if (remoteMessage.getData().size() &gt; 0) {\r\n                Log.d(TAG, &quot;Message data payload: &quot; + remoteMessage.getData());\r\n                sendNotification(remoteMessage.getNotification().getTitle(),remoteMessage.getNotification().getBody());\r\n                if (/* Check if data needs to be processed by long running job */ true) {\r\n                    // For long-running tasks (10 seconds or more) use WorkManager.\r\n                    //scheduleJob();\r\n                } else {\r\n                    // Handle message within 10 seconds\r\n                    handleNow();\r\n                }\r\n    \r\n            }\r\n    \r\n            // Check if message contains a notification payload.\r\n            if (remoteMessage.getNotification() != null) {\r\n                Log.d(TAG, &quot;Message Notification Body: &quot; + remoteMessage.getNotification().getBody());\r\n            }\r\n    \r\n    \r\n        }\r\n        @Override\r\n        public void onNewToken(String token) {\r\n            Log.d(TAG, &quot;Refreshed token: &quot; + token);\r\n    \r\n            sendRegistrationToServer(token);\r\n        }\r\n    \r\n        private void handleNow() {\r\n            Log.d(TAG, &quot;Short lived task is done.&quot;);\r\n        }\r\n    \r\n    \r\n        private void sendRegistrationToServer(String token) {\r\n            // TODO: Implement this method to send token to your app server.\r\n        }\r\n    \r\n        private void sendNotification(String title,String messageBody) {\r\n            int uniqueCode=Prefs.getUniqueCode(getApplicationContext());\r\n            if(uniqueCode==1000){\r\n                uniqueCode=0;\r\n            }\r\n            Log.d(&quot;uniqueCode&quot;,uniqueCode+&quot;&quot;);\r\n            Intent intent\r\n                    = new Intent(this, LoginActivity.class);\r\n            // Assign channel ID\r\n            String channel_id = &quot;Default&quot;;\r\n    \r\n            intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP|Intent.FLAG_ACTIVITY_NEW_TASK);\r\n    \r\n            PendingIntent pendingIntent\r\n                    = PendingIntent.getActivity(\r\n                    this, uniqueCode, intent,\r\n                    PendingIntent.FLAG_MUTABLE | PendingIntent.FLAG_CANCEL_CURRENT | PendingIntent.FLAG_ONE_SHOT);\r\n            Prefs.setUniqueCode(getApplicationContext(),uniqueCode+1);\r\n            NotificationCompat.Builder builder\r\n                    = new NotificationCompat\r\n                    .Builder(getApplicationContext(),\r\n                    channel_id)\r\n                    .setSmallIcon(R.drawable.applogo)\r\n                    .setAutoCancel(true)\r\n                    .setVibrate(new long[]{1000, 1000, 1000,\r\n                            1000, 1000})\r\n                    .setOnlyAlertOnce(true)\r\n                    .setContentIntent(pendingIntent);\r\n    \r\n    \r\n                builder = builder.setContentTitle(title)\r\n                        .setContentText(messageBody)\r\n                        .setSmallIcon(R.drawable.applogo)\r\n                        .setStyle(new NotificationCompat.BigTextStyle().bigText(messageBody));\r\n            NotificationManager notificationManager\r\n                    = (NotificationManager) getSystemService(\r\n                    Context.NOTIFICATION_SERVICE);\r\n            if (Build.VERSION.SDK_INT\r\n                    &gt;= Build.VERSION_CODES.O) {\r\n                NotificationChannel notificationChannel\r\n                        = new NotificationChannel(\r\n                        channel_id, &quot;Default channel&quot;,\r\n                        NotificationManager.IMPORTANCE_HIGH);\r\n                notificationManager.createNotificationChannel(\r\n                        notificationChannel);\r\n            }\r\n    \r\n            notificationManager.notify(0, builder.build());\r\n    \r\n        }\r\n    }","title":"Android 13 New notification appears after old one notification clear","body":"<p>Android 13 New notification appears after old one notification clear. When first notification show then new notification received on onMessageReceived method but it will display if i have old notifiction cleared form notification bar. otherwise it will not showing on notification bar.</p>\n<p>My FirebaseMessageingService class as below</p>\n<pre><code>public class MyFirebaseMessagingService extends FirebaseMessagingService {\n\n    private static final String TAG = &quot;MyFirebaseMsgService&quot;;\n\n   \n    @Override\n    public void onMessageReceived(RemoteMessage remoteMessage) {\n\n        Log.d(TAG, &quot;From: &quot; + remoteMessage.getFrom());\n\n        if (remoteMessage.getData().size() &gt; 0) {\n            Log.d(TAG, &quot;Message data payload: &quot; + remoteMessage.getData());\n            sendNotification(remoteMessage.getNotification().getTitle(),remoteMessage.getNotification().getBody());\n            if (/* Check if data needs to be processed by long running job */ true) {\n                // For long-running tasks (10 seconds or more) use WorkManager.\n                //scheduleJob();\n            } else {\n                // Handle message within 10 seconds\n                handleNow();\n            }\n\n        }\n\n        // Check if message contains a notification payload.\n        if (remoteMessage.getNotification() != null) {\n            Log.d(TAG, &quot;Message Notification Body: &quot; + remoteMessage.getNotification().getBody());\n        }\n\n\n    }\n    @Override\n    public void onNewToken(String token) {\n        Log.d(TAG, &quot;Refreshed token: &quot; + token);\n\n        sendRegistrationToServer(token);\n    }\n\n    private void handleNow() {\n        Log.d(TAG, &quot;Short lived task is done.&quot;);\n    }\n\n\n    private void sendRegistrationToServer(String token) {\n        // TODO: Implement this method to send token to your app server.\n    }\n\n    private void sendNotification(String title,String messageBody) {\n        int uniqueCode=Prefs.getUniqueCode(getApplicationContext());\n        if(uniqueCode==1000){\n            uniqueCode=0;\n        }\n        Log.d(&quot;uniqueCode&quot;,uniqueCode+&quot;&quot;);\n        Intent intent\n                = new Intent(this, LoginActivity.class);\n        // Assign channel ID\n        String channel_id = &quot;Default&quot;;\n\n        intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP|Intent.FLAG_ACTIVITY_NEW_TASK);\n\n        PendingIntent pendingIntent\n                = PendingIntent.getActivity(\n                this, uniqueCode, intent,\n                PendingIntent.FLAG_MUTABLE | PendingIntent.FLAG_CANCEL_CURRENT | PendingIntent.FLAG_ONE_SHOT);\n        Prefs.setUniqueCode(getApplicationContext(),uniqueCode+1);\n        NotificationCompat.Builder builder\n                = new NotificationCompat\n                .Builder(getApplicationContext(),\n                channel_id)\n                .setSmallIcon(R.drawable.applogo)\n                .setAutoCancel(true)\n                .setVibrate(new long[]{1000, 1000, 1000,\n                        1000, 1000})\n                .setOnlyAlertOnce(true)\n                .setContentIntent(pendingIntent);\n\n\n            builder = builder.setContentTitle(title)\n                    .setContentText(messageBody)\n                    .setSmallIcon(R.drawable.applogo)\n                    .setStyle(new NotificationCompat.BigTextStyle().bigText(messageBody));\n        NotificationManager notificationManager\n                = (NotificationManager) getSystemService(\n                Context.NOTIFICATION_SERVICE);\n        if (Build.VERSION.SDK_INT\n                &gt;= Build.VERSION_CODES.O) {\n            NotificationChannel notificationChannel\n                    = new NotificationChannel(\n                    channel_id, &quot;Default channel&quot;,\n                    NotificationManager.IMPORTANCE_HIGH);\n            notificationManager.createNotificationChannel(\n                    notificationChannel);\n        }\n\n        notificationManager.notify(0, builder.build());\n\n    }\n}\n</code></pre>\n"},{"tags":["java","javafx","reflection"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":4,"creation_date":1672740660,"post_id":74991824,"comment_id":132338025,"body_markdown":"&quot;of course it is not possible to read a .class file&quot; - why of course? The Java Class File Format is [well specified](https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-4.html)","body":"&quot;of course it is not possible to read a .class file&quot; - why of course? The Java Class File Format is <a href=\"https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-4.html\" rel=\"nofollow noreferrer\">well specified</a>"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1672740919,"post_id":74991824,"comment_id":132338108,"body_markdown":"Have a look at this, maybe it helps already to at least get you started: https://stackoverflow.com/questions/6219829/method-to-dynamically-load-java-class-files","body":"Have a look at this, maybe it helps already to at least get you started: <a href=\"https://stackoverflow.com/questions/6219829/method-to-dynamically-load-java-class-files\" title=\"method to dynamically load java class files\">stackoverflow.com/questions/6219829/&hellip;</a>"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1672742429,"post_id":74991824,"comment_id":132338631,"body_markdown":"One thing to note: If you plan on actually loading the class so that you can get an instance of `java.lang.Class`, then any other class files that the given class file depends on must also be loadable. Otherwise, you&#39;ll end up with a `ClassNotFoundException` or something similar.","body":"One thing to note: If you plan on actually loading the class so that you can get an instance of <code>java.lang.Class</code>, then any other class files that the given class file depends on must also be loadable. Otherwise, you&#39;ll end up with a <code>ClassNotFoundException</code> or something similar."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1672742818,"post_id":74991824,"comment_id":132338760,"body_markdown":"Another note: you should keep in mind that loading any user-provided code is a security risk so make sure that either the user is trusted, the application doesn&#39;t affect other systems (e.g. communicate with a server), and/or you sanitize and check the code (might be hard to do though).","body":"Another note: you should keep in mind that loading any user-provided code is a security risk so make sure that either the user is trusted, the application doesn&#39;t affect other systems (e.g. communicate with a server), and/or you sanitize and check the code (might be hard to do though)."},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":6,"creation_date":1672743307,"post_id":74991824,"comment_id":132338921,"body_markdown":"Seems like an XY problem. What do you plan to *do* with the instance of Class once you have it? i.e. what does `addClassNode` actually do?","body":"Seems like an XY problem. What do you plan to <i>do</i> with the instance of Class once you have it? i.e. what does <code>addClassNode</code> actually do?"},{"owner":{"account_id":22253909,"reputation":27,"user_id":16486359,"display_name":"Leonarddoo Campione"},"score":0,"creation_date":1672764631,"post_id":74991824,"comment_id":132345900,"body_markdown":"The goal is to create a class diagram generator in javafx. When a person drags a .class file it generates a rectangle with its name, fields, methods...","body":"The goal is to create a class diagram generator in javafx. When a person drags a .class file it generates a rectangle with its name, fields, methods..."},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1672766413,"post_id":74991824,"comment_id":132346451,"body_markdown":"@LeonarddooCampione Then you shouldn&#39;t actually need to load the class. Perhaps you can provide an alternative ClassNode implementation that works with a BCEL JavaClass (as shown in my answer) instead of a java.lang.Class. The JavaClass instance has all the information about fields and methods without actually loading it.","body":"@LeonarddooCampione Then you shouldn&#39;t actually need to load the class. Perhaps you can provide an alternative ClassNode implementation that works with a BCEL JavaClass (as shown in my answer) instead of a java.lang.Class. The JavaClass instance has all the information about fields and methods without actually loading it."},{"owner":{"account_id":22253909,"reputation":27,"user_id":16486359,"display_name":"Leonarddoo Campione"},"score":0,"creation_date":1672822601,"post_id":74991824,"comment_id":132357550,"body_markdown":"@Michael Actually I think that&#39;s what I&#39;m going to do. I thank you very much","body":"@Michael Actually I think that&#39;s what I&#39;m going to do. I thank you very much"}],"answers":[{"tags":[],"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1672745240,"creation_date":1672743472,"answer_id":74992412,"question_id":74991824,"body_markdown":"One of your problems is that you don&#39;t know the package of the class, and you can&#39;t reasonably determine it from the filepath.\r\n\r\nYou can use [Apache Commons BCEL](https://commons.apache.org/proper/commons-bcel/) to parse the file in order to get the package, as well as plenty of other information about it.\r\n\r\n    String path = &quot;/path/to/com/example/MyClass.class&quot;;\r\n    // org.apache.bcel.classfile.JavaClass and org.apache.bcel.classfile.ClassParser\r\n    JavaClass clazz = new ClassParser(path).parse();\r\n    String className = clazz.getClassName(); // com.example.MyClass\r\n\r\nFrom there, you can use a URLClassLoader to actually load the class by name, provided all the dependencies of that Class are loaded or loadable:\r\n\r\n\r\n\r\n\r\n    String dir = Paths.get(path).getParent().toString() + &#39;/&#39;;\r\n    URLClassLoader loader = new URLClassLoader(\r\n        new URL[]{ new URL(&quot;file://&quot; + dir) },\r\n        getClass().getClassLoader()\r\n    );\r\n    Class&lt;?&gt; myClass = loader.loadClass(className);\r\n\r\nIf the dependencies of the class are not loadable then you&#39;ll need to rethink your approach. It&#39;s impossible to load a class without its dependencies, and as the user is just dragging and dropping a file, that file may depend on classes that you have no reasonable way of finding.\r\n\r\nIt may well be the case that the [`JavaClass`](https://commons.apache.org/proper/commons-bcel/apidocs/org/apache/bcel/classfile/JavaClass.html) instance returned by BCEL already contains all the information you need, and that you don&#39;t actually *need* to load the class at all. You haven&#39;t been specific enough about what you&#39;re using the Class instance for, so I can&#39;t say for certain.","title":"Retrieve a Class&lt;?&gt; type from a .class file","body":"<p>One of your problems is that you don't know the package of the class, and you can't reasonably determine it from the filepath.</p>\n<p>You can use <a href=\"https://commons.apache.org/proper/commons-bcel/\" rel=\"noreferrer\">Apache Commons BCEL</a> to parse the file in order to get the package, as well as plenty of other information about it.</p>\n<pre><code>String path = &quot;/path/to/com/example/MyClass.class&quot;;\n// org.apache.bcel.classfile.JavaClass and org.apache.bcel.classfile.ClassParser\nJavaClass clazz = new ClassParser(path).parse();\nString className = clazz.getClassName(); // com.example.MyClass\n</code></pre>\n<p>From there, you can use a URLClassLoader to actually load the class by name, provided all the dependencies of that Class are loaded or loadable:</p>\n<pre><code>String dir = Paths.get(path).getParent().toString() + '/';\nURLClassLoader loader = new URLClassLoader(\n    new URL[]{ new URL(&quot;file://&quot; + dir) },\n    getClass().getClassLoader()\n);\nClass&lt;?&gt; myClass = loader.loadClass(className);\n</code></pre>\n<p>If the dependencies of the class are not loadable then you'll need to rethink your approach. It's impossible to load a class without its dependencies, and as the user is just dragging and dropping a file, that file may depend on classes that you have no reasonable way of finding.</p>\n<p>It may well be the case that the <a href=\"https://commons.apache.org/proper/commons-bcel/apidocs/org/apache/bcel/classfile/JavaClass.html\" rel=\"noreferrer\"><code>JavaClass</code></a> instance returned by BCEL already contains all the information you need, and that you don't actually <em>need</em> to load the class at all. You haven't been specific enough about what you're using the Class instance for, so I can't say for certain.</p>\n"}],"owner":{"account_id":22253909,"reputation":27,"user_id":16486359,"display_name":"Leonarddoo Campione"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74992412,"answer_count":1,"score":1,"last_activity_date":1672745240,"creation_date":1672740515,"question_id":74991824,"body_markdown":"I have a javafx window, and when I drag .class files into it I would like to &quot;transform&quot; them into Class&lt;?&gt;\r\n\r\nI tried with Class.forname the problem is that you have to know the package, which is not my case.\r\nAnd I tried to read the .class file with a buffered reader to retrieve the package inside but of course it is not possible to read a .class file.\r\n\r\nSo I need to find a way to transform any .class file regardless of its location on the computer into Class&lt;?&gt; in my code.\r\n\r\n```java\r\n@Override\r\n    public void handle(DragEvent event) {\r\n        Dragboard db = event.getDragboard();\r\n        boolean success = false;\r\n        if (db.hasFiles()) {\r\n            for (File file : db.getFiles()) {\r\n                String fileName = file.getName();\r\n                // V&#233;rifiez si le fichier a l&#39;extension .class\r\n                if (fileName.endsWith(&quot;.class&quot;)) {\r\n\r\n                    //TODO\r\n                    \r\n                    //GlobalView.getInstance().addClassNode(new ClassNode(new Class(  the Class&lt;?&gt; object    )));\r\n\r\n                }\r\n            }\r\n        }\r\n        event.setDropCompleted(success);\r\n        event.consume();\r\n    }\r\n```","title":"Retrieve a Class&lt;?&gt; type from a .class file","body":"<p>I have a javafx window, and when I drag .class files into it I would like to &quot;transform&quot; them into Class&lt;?&gt;</p>\n<p>I tried with Class.forname the problem is that you have to know the package, which is not my case.\nAnd I tried to read the .class file with a buffered reader to retrieve the package inside but of course it is not possible to read a .class file.</p>\n<p>So I need to find a way to transform any .class file regardless of its location on the computer into Class&lt;?&gt; in my code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\n    public void handle(DragEvent event) {\n        Dragboard db = event.getDragboard();\n        boolean success = false;\n        if (db.hasFiles()) {\n            for (File file : db.getFiles()) {\n                String fileName = file.getName();\n                // Vérifiez si le fichier a l'extension .class\n                if (fileName.endsWith(&quot;.class&quot;)) {\n\n                    //TODO\n                    \n                    //GlobalView.getInstance().addClassNode(new ClassNode(new Class(  the Class&lt;?&gt; object    )));\n\n                }\n            }\n        }\n        event.setDropCompleted(success);\n        event.consume();\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":3,"creation_date":1672731445,"post_id":74990249,"comment_id":132335355,"body_markdown":"`@Value(&quot;${spring.mail.port}&quot;)` should do the job","body":"<code>@Value(&quot;${spring.mail.port}&quot;)</code> should do the job"}],"answers":[{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1672731589,"creation_date":1672731589,"answer_id":74990290,"question_id":74990249,"body_markdown":"You can use the [@Value](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/annotation/Value.html) annotation:\r\n\r\n    @Value(&quot;${spring.mail.port}&quot;)\r\n    private Integer port;","title":"In a springboot application, how can I read values form application.yml, if I need to use them in my code","body":"<p>You can use the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/annotation/Value.html\" rel=\"nofollow noreferrer\">@Value</a> annotation:</p>\n<pre><code>@Value(&quot;${spring.mail.port}&quot;)\nprivate Integer port;\n</code></pre>\n"}],"owner":{"account_id":13243348,"reputation":59,"user_id":9563175,"display_name":"primeSuspect"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74990290,"answer_count":1,"score":1,"last_activity_date":1672745217,"creation_date":1672731313,"question_id":74990249,"body_markdown":"Following is my application.yml file  \r\n\r\n    spring:\r\n      mail:\r\n        host: smtp.gmail.com\r\n        port: 587\r\n\r\n\r\nIn one of my Java classes, I want to use the **port** number, which annotation I can use to achieve the same.\r\n","title":"In a springboot application, how can I read values form application.yml, if I need to use them in my code","body":"<p>Following is my application.yml file</p>\n<pre><code>spring:\n  mail:\n    host: smtp.gmail.com\n    port: 587\n</code></pre>\n<p>In one of my Java classes, I want to use the <strong>port</strong> number, which annotation I can use to achieve the same.</p>\n"},{"tags":["java","hazelcast"],"owner":{"account_id":27337922,"reputation":11,"user_id":20849054,"display_name":"Deepak_M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1672954958,"answer_count":0,"score":-1,"last_activity_date":1672745050,"creation_date":1672738119,"question_id":74991377,"body_markdown":"the error and the code is given below\r\nWARNING: hz.client_24 [dev] [5.2.1] Unable to get live cluster connection, retry in 7698 ms, attempt: 43, cluster connect timeout: INFINITE, max backoff: 30000 ms\r\n\r\n ```\r\n&lt;connection-strategy async-start=&quot;false&quot; reconnect-mode=&quot;OFF&quot;&gt;\r\n    &lt;connection-retry&gt;\r\n        &lt;initial-backoff-millis&gt;1000&lt;/initial-backoff-millis&gt;\r\n        &lt;max-backoff-millis&gt;60000&lt;/max-backoff-millis&gt;\r\n        &lt;multiplier&gt;2&lt;/multiplier&gt;\r\n        &lt;!-- 4 * 9000--&gt;\r\n        &lt;cluster-connect-timeout-millis&gt;36000\r\n        &lt;/cluster-connect-timeout-millis&gt;\r\n        &lt;jitter&gt;0.2&lt;/jitter&gt;\r\n    &lt;/connection-retry&gt;\r\n&lt;/connection-strategy&gt;\r\n```\r\n\r\n\r\n\r\nHere what i want is that it only attempt 2 times\r\n\r\n\r\n\r\n","title":"What is the alterante of the &lt;connection-attempt-limit&gt; and if i&#39;m using &quot;connection-strategy&quot; then it is always try to reconnect upto n attempts?","body":"<p>the error and the code is given below\nWARNING: hz.client_24 [dev] [5.2.1] Unable to get live cluster connection, retry in 7698 ms, attempt: 43, cluster connect timeout: INFINITE, max backoff: 30000 ms</p>\n<pre><code>&lt;connection-strategy async-start=&quot;false&quot; reconnect-mode=&quot;OFF&quot;&gt;\n   &lt;connection-retry&gt;\n       &lt;initial-backoff-millis&gt;1000&lt;/initial-backoff-millis&gt;\n       &lt;max-backoff-millis&gt;60000&lt;/max-backoff-millis&gt;\n       &lt;multiplier&gt;2&lt;/multiplier&gt;\n       &lt;!-- 4 * 9000--&gt;\n       &lt;cluster-connect-timeout-millis&gt;36000\n       &lt;/cluster-connect-timeout-millis&gt;\n       &lt;jitter&gt;0.2&lt;/jitter&gt;\n   &lt;/connection-retry&gt;\n&lt;/connection-strategy&gt;\n</code></pre>\n<p>Here what i want is that it only attempt 2 times</p>\n"},{"tags":["java","vue.js","vuejs2","vuejs3"],"answers":[{"tags":[],"owner":{"account_id":6172585,"reputation":1040,"user_id":4810478,"accept_rate":60,"display_name":"JKL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672745046,"creation_date":1672745046,"answer_id":74992695,"question_id":74992507,"body_markdown":"You can add an extra clause to your filter:\r\n\r\n    return (this.documents ?? []).filter(document =&gt;\r\n          (document.name.toUpperCase().includes(this.search.toUpperCase()) ||\r\n          this.$t(`model.document.types.${document.type}`).toUpperCase().includes(this.search.toUpperCase())) &amp;&amp;\r\n    \t  document.type === 1)\r\n\r\nInstead of using `document.type === 1` it would be nicer to create an enum in your frontend and use something like `document.type === DocumentType.APPENDIX`. This is under the assumption that your backend returns the enum as an integer and not as a string.","title":"Filtering an array by enum","body":"<p>You can add an extra clause to your filter:</p>\n<pre><code>return (this.documents ?? []).filter(document =&gt;\n      (document.name.toUpperCase().includes(this.search.toUpperCase()) ||\n      this.$t(`model.document.types.${document.type}`).toUpperCase().includes(this.search.toUpperCase())) &amp;&amp;\n      document.type === 1)\n</code></pre>\n<p>Instead of using <code>document.type === 1</code> it would be nicer to create an enum in your frontend and use something like <code>document.type === DocumentType.APPENDIX</code>. This is under the assumption that your backend returns the enum as an integer and not as a string.</p>\n"}],"owner":{"account_id":20887881,"reputation":85,"user_id":15344037,"display_name":"Cphml444"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1672745046,"creation_date":1672744049,"question_id":74992507,"body_markdown":"I have a table that contains document types, which are specified by enums.\r\n\r\n    @Table(name = &quot;document&quot;)\r\n    public class  Document extends AbstractPersistable&lt;UUID&gt; {\r\n\r\n    @Id\r\n    private UUID id;\r\n\r\n    @Column(name = &quot;type&quot;)\r\n    @Enumerated(value = EnumType.STRING)\r\n    private DocumentType type;\r\n\r\n    }\r\n\r\n\r\n\r\n    public enum DocumentType {\r\n        ANNUAL_ACCOUNTS,\r\n        APPENDIX,\r\n        BANK_GUARANTEE,\r\n        BUDGET,\r\n       \r\n    }\r\n\r\nRight now I can access all of the enums by using a filter in Vuejs.\r\n\r\n    computed: {\r\n      filteredDocuments() {\r\n        return (this.documents ?? []).filter(document =&gt;\r\n          document.name.toUpperCase().includes(this.search.toUpperCase()) ||\r\n          this.$t(`model.document.types.${document.type}`).toUpperCase().includes(this.search.toUpperCase())\r\n      }\r\n     }\r\n\r\nBut what if I want to filter by a specific enum? For instance, what if I only want to return a document type that is equal to the enum &quot;APPENDIX&quot;? How would I write this into my filtering method?","title":"Filtering an array by enum","body":"<p>I have a table that contains document types, which are specified by enums.</p>\n<pre><code>@Table(name = &quot;document&quot;)\npublic class  Document extends AbstractPersistable&lt;UUID&gt; {\n\n@Id\nprivate UUID id;\n\n@Column(name = &quot;type&quot;)\n@Enumerated(value = EnumType.STRING)\nprivate DocumentType type;\n\n}\n\n\n\npublic enum DocumentType {\n    ANNUAL_ACCOUNTS,\n    APPENDIX,\n    BANK_GUARANTEE,\n    BUDGET,\n   \n}\n</code></pre>\n<p>Right now I can access all of the enums by using a filter in Vuejs.</p>\n<pre><code>computed: {\n  filteredDocuments() {\n    return (this.documents ?? []).filter(document =&gt;\n      document.name.toUpperCase().includes(this.search.toUpperCase()) ||\n      this.$t(`model.document.types.${document.type}`).toUpperCase().includes(this.search.toUpperCase())\n  }\n }\n</code></pre>\n<p>But what if I want to filter by a specific enum? For instance, what if I only want to return a document type that is equal to the enum &quot;APPENDIX&quot;? How would I write this into my filtering method?</p>\n"},{"tags":["java","if-statement","while-loop","operator-precedence"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1672737191,"post_id":74990935,"comment_id":132336920,"body_markdown":"[What is a debugger and how can it help me diagnose problems?](https://stackoverflow.com/q/25385173)","body":"<a href=\"https://stackoverflow.com/q/25385173\">What is a debugger and how can it help me diagnose problems?</a>"}],"answers":[{"tags":[],"owner":{"account_id":5823420,"reputation":785,"user_id":6656833,"display_name":"Pavel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672740866,"creation_date":1672737907,"answer_id":74991342,"question_id":74990935,"body_markdown":"the reason is that the second condition `HasHigherPrecedence` is false in all cases, so even if the stack is non empty the whole condition is evaluated to false","title":"Infix to postfix algorithm, the while statement I wrote is not being called out when it should","body":"<p>the reason is that the second condition <code>HasHigherPrecedence</code> is false in all cases, so even if the stack is non empty the whole condition is evaluated to false</p>\n"},{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672744926,"creation_date":1672744926,"answer_id":74992670,"question_id":74990935,"body_markdown":"I started by simplifying the code. You can use a map to store operator precedence:\r\n\r\n    private static final Map&lt;String,Integer&gt; PRECEDENCE = new HashMap&lt;&gt;();\r\n    static {\r\n        PRECEDENCE.put(&quot;+&quot;, 1);\r\n        PRECEDENCE.put(&quot;-&quot;, 1);\r\n        PRECEDENCE.put(&quot;*&quot;, 2);\r\n        PRECEDENCE.put(&quot;/&quot;, 2);\r\n    }\r\n\r\nThis allows you to test if a string is a valid operator:\r\n\r\n    private static boolean isOperator(String s) {\r\n        return PRECEDENCE.containsKey(s);\r\n    }\r\n\r\nas well as comparing the precedence of two operators:\r\n\r\n    private static boolean hasHigherPrecedence(String op1, String op2) {\r\n        return PRECEDENCE.get(op1) &gt; PRECEDENCE.get(op2);\r\n    }\r\n\r\nInstead of the complicated splits and loops at the begining, I would just parse the input expression while doing the postfix conversion. I need a variable `pos` to hold the current position, and methods `readOperand` and `readOperator`:\r\n\r\n    private int pos;\r\n\r\n    /* ... */\r\n\r\n\r\n    private String readOperand() {\r\n        int mark = pos;\r\n        while (pos &lt; expression.length() &amp;&amp; Character.isDigit(expression.charAt(pos))) {\r\n            ++pos;\r\n        }\r\n        return pos &gt; mark ? expression.substring(mark, pos) : null;\r\n    }\r\n\r\n    private String readOperator() {\r\n        if (pos &lt; expression.length() &amp;&amp; isOperator(expression.substring(pos, pos+1))) {\r\n            return expression.substring(pos, ++pos);\r\n        }\r\n        return null;\r\n    }\r\n\r\nThe `postfix` method becomes:\r\n\r\n\r\n    public void postfix() {\r\n        String operand = readOperand();\r\n        while (operand != null) {\r\n            postfix.add(operand);\r\n            String op = readOperator();\r\n            if (op == null) {\r\n                break;\r\n            }\r\n            while (!ope.isEmpty() &amp;&amp; !hasHigherPrecedence(op, ope.peek())) {\r\n                postfix.add(ope.pop());\r\n            }\r\n            ope.add(op);\r\n            operand = readOperand();\r\n        }\r\n        while (!ope.empty()) {\r\n            postfix.add(ope.pop());\r\n        }\r\n        System.out.println(&quot;Output: &quot; + postfix);\r\n    }\r\n\r\nNote that\r\n\r\n    !hasHigherPrecedence(op, ope.peek())\r\n\r\nis equivalent to:\r\n\r\n    PRECEDENCE.get(ope.peek()) &gt;= PRECEDENCE.get(op)\r\n\r\nso the operator at the top of the stack will be moved to the postfix array if its precedence is greater or equal to the precedence of the current operator.\r\n","title":"Infix to postfix algorithm, the while statement I wrote is not being called out when it should","body":"<p>I started by simplifying the code. You can use a map to store operator precedence:</p>\n<pre><code>private static final Map&lt;String,Integer&gt; PRECEDENCE = new HashMap&lt;&gt;();\nstatic {\n    PRECEDENCE.put(&quot;+&quot;, 1);\n    PRECEDENCE.put(&quot;-&quot;, 1);\n    PRECEDENCE.put(&quot;*&quot;, 2);\n    PRECEDENCE.put(&quot;/&quot;, 2);\n}\n</code></pre>\n<p>This allows you to test if a string is a valid operator:</p>\n<pre><code>private static boolean isOperator(String s) {\n    return PRECEDENCE.containsKey(s);\n}\n</code></pre>\n<p>as well as comparing the precedence of two operators:</p>\n<pre><code>private static boolean hasHigherPrecedence(String op1, String op2) {\n    return PRECEDENCE.get(op1) &gt; PRECEDENCE.get(op2);\n}\n</code></pre>\n<p>Instead of the complicated splits and loops at the begining, I would just parse the input expression while doing the postfix conversion. I need a variable <code>pos</code> to hold the current position, and methods <code>readOperand</code> and <code>readOperator</code>:</p>\n<pre><code>private int pos;\n\n/* ... */\n\n\nprivate String readOperand() {\n    int mark = pos;\n    while (pos &lt; expression.length() &amp;&amp; Character.isDigit(expression.charAt(pos))) {\n        ++pos;\n    }\n    return pos &gt; mark ? expression.substring(mark, pos) : null;\n}\n\nprivate String readOperator() {\n    if (pos &lt; expression.length() &amp;&amp; isOperator(expression.substring(pos, pos+1))) {\n        return expression.substring(pos, ++pos);\n    }\n    return null;\n}\n</code></pre>\n<p>The <code>postfix</code> method becomes:</p>\n<pre><code>public void postfix() {\n    String operand = readOperand();\n    while (operand != null) {\n        postfix.add(operand);\n        String op = readOperator();\n        if (op == null) {\n            break;\n        }\n        while (!ope.isEmpty() &amp;&amp; !hasHigherPrecedence(op, ope.peek())) {\n            postfix.add(ope.pop());\n        }\n        ope.add(op);\n        operand = readOperand();\n    }\n    while (!ope.empty()) {\n        postfix.add(ope.pop());\n    }\n    System.out.println(&quot;Output: &quot; + postfix);\n}\n</code></pre>\n<p>Note that</p>\n<pre><code>!hasHigherPrecedence(op, ope.peek())\n</code></pre>\n<p>is equivalent to:</p>\n<pre><code>PRECEDENCE.get(ope.peek()) &gt;= PRECEDENCE.get(op)\n</code></pre>\n<p>so the operator at the top of the stack will be moved to the postfix array if its precedence is greater or equal to the precedence of the current operator.</p>\n"}],"owner":{"account_id":19664361,"reputation":13,"user_id":14395158,"display_name":"IamTufa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74991342,"answer_count":2,"score":-1,"last_activity_date":1672744926,"creation_date":1672735533,"question_id":74990935,"body_markdown":"```\r\nprivate\tScanner sc = new Scanner(System.in);\r\nprivate String expression;\r\nprivate String exp[];\r\nprivate ArrayList&lt;String&gt; post_fix = new ArrayList&lt;&gt;();\r\nStack&lt;String&gt; ope = new Stack&lt;String&gt;();\r\n\tpublic Model()\r\n\t{\r\n\t\texpression = sc.nextLine();\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void split()\r\n\t{\r\n\t\t\r\n\t\t//splitting the entered expression to array of operators alone and array of the numbers then create Arraylist to combine the operators and numbers together as if it is a string expression  but as an array\r\n        String num[]= this.expression.split(&quot;[/+/*/-]&quot;);\r\n        String preop[]= this.expression.split(&quot;[0-9]+&quot;);; // this will give [empty, operator, operator...] therefore we will create another array to fill in the ops excluding empty\r\n        \r\n        ArrayList&lt;String&gt; op = new ArrayList&lt;&gt;();//I used arraylist because easier\r\n        for(int i = 1; i&lt;preop.length;i++)\r\n        {\r\n        \top.add(preop[i]);\r\n        }\r\n\t\t\r\n        //putting the operands and the operators together in the same array\r\n        \t\t\r\n        ArrayList&lt;String&gt; exp = new ArrayList&lt;&gt;();\r\n       \r\n        \r\n        for(int i = 0; i &lt;num.length;i++)\r\n        {\r\n        \texp.add(num[i]);\r\n        }\r\n        int count = 0;\r\n        for(int i = 0; i &lt;op.size();i++)\r\n        { //fill the arraylist with numbers then add the operators to it by using number (index of the operator +1 +count)\r\n        \texp.add(i+1+count, op.get(i)); //This is why arraylist was used in order to let values to be placed in between \r\n        \tcount++;\r\n        \t//i+1+count is used because index of the operator is in between two numbers meaning it is after the first index in num array so i+1 and because array keeps increasing, we do +count for the other operators to be placed in\r\n        }\r\n        \r\n        this.exp = new String[exp.size()]; // we change the arraylist exp to instance array for faster operations later on\r\n        System.out.print(&quot;Test to check if expression is converted into array as intented: &quot;);\r\n        for(int i = 0; i&lt;this.exp.length;i++)\r\n        {\r\n        \tthis.exp[i] = exp.get(i);\r\n        \tSystem.out.print(this.exp[i]);\r\n        }\r\n        System.out.println();\r\n      \r\n\t}\r\n\t\r\n\tpublic void postfix()\r\n\t{\r\n\t\r\n\t\tfor(int i = 0; i &lt; exp.length; i++)\r\n\t\t{\r\n\t\t\tif(i%2 == 0)//since operands are observed to always have even index in the array\r\n\t\t\t{\r\n\t\t\t\tpost_fix.add(exp[i]);\r\n\t\t\t\tSystem.out.println(post_fix);\r\n\t\t\t}\r\n\t\t\telse \r\n\t\t\t{\r\n\t\t\t\tboolean x = !ope.empty();\r\n\t\t\t\tSystem.out.println(&quot;Test of !ope.empty: &quot; + x);\r\n\t\t\t\twhile(!ope.empty()&amp;&amp; HasHigherPrecedence(ope.peek(), this.exp[i]))\r\n\t\t\t\t{\r\n\t\t\t\t\tpost_fix.add(ope.peek());\r\n\t\t\t\t\tope.pop();\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\tope.push(exp[i]);\r\n\t\t\t\tSystem.out.println(&quot;stack_top: &quot;+ ope.peek());\r\n\t\t\t}\r\n\t\t\t\r\n\t\r\n\t\t}\r\n\t\twhile(!ope.empty())\r\n\t\t{\r\n\t\t\t\r\n\t\t\tpost_fix.add(ope.peek());\r\n\t\t\tope.pop();\r\n\t\t}\r\n\t\tSystem.out.println(&quot;Output: &quot; +post_fix);\r\n\t\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic String getPost_fix()\r\n\t{\r\n\t\tString temp = &quot;&quot;;\r\n\t\tfor(int i =0; i &lt; exp.length;i++)\r\n\t\t{\r\n\t\t\ttemp = temp + post_fix.get(i);\r\n\t\t}\r\n\t\r\n\t\treturn temp;\r\n\t}\r\n\t\r\n\tpublic double evaluate() \r\n\t{\r\n\t\treturn 0;\r\n\t}\r\n\t\r\n\tprivate boolean HasHigherPrecedence(String op1, String op2)\r\n\t{\r\n\t\t//op1 is operator 1 at the top of the stack thus associativity highest\r\n\t\tint a_op1 = 1;\r\n\t\tint a_op2 = 0;\r\n\t\t\r\n\t\tint p_op1 = 0;\r\n\t\tint p_op2= 0;\r\n\t\t//the precedence will be measured with numbers\r\n\t\tString operators[]= {&quot;&quot;,&quot;+&quot;,&quot;-&quot;,&quot;*&quot;,&quot;/&quot;};\r\n\t\tint precedence[] = {0,1,1,2,2}; //the reason for blank operator and 0 precedence is because the stack initially will be empty\r\n\t\tfor(int i = 0; i&lt; operators.length;i++)\r\n\t\t{\r\n\t\t\tif(op1.equals(operators[i]))\r\n\t\t\t{\r\n\t\t\t\tp_op1=precedence[i];\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor(int i = 0; i&lt; operators.length;i++)\r\n\t\t{\r\n\t\t\tif(op2.equals(operators[i]))\r\n\t\t\t{\r\n\t\t\t\tp_op2=precedence[i];\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tboolean higher_ornot = false;\r\n\t\t\r\n\t\tif(p_op1 &gt; p_op2)\r\n\t\t{\r\n\t\t\thigher_ornot = false;\r\n\t\t}\r\n\t\telse if(p_op1 &lt; p_op1)\r\n\t\t{\r\n\t\t\thigher_ornot = true;\r\n\t\t}\r\n\t\telse if(p_op1== p_op2)\r\n\t\t{\r\n\t\tSystem.out.println(op1+&quot;: &quot;+p_op1);\r\n\t\tSystem.out.println(op2+&quot;: &quot;+p_op2);\r\n\t\t\thigher_ornot = false; //since associativity of op1 will be higher --&gt; thus higher precedence\r\n\t\t}\r\n\t\t\r\n\t\treturn higher_ornot;\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\n[![Output of the code][1]][1]\r\n\r\nI am trying to converst user&#39;s infix mathmatical expression into a postfix expression in an array that will be evaluated but before evaluation, I faced a problem in the postfix method\r\n\r\nwhile(!ope.empty()&amp;&amp; HasHigherPrecedence(ope.peek(), this.exp[i]))\r\n\r\nThis specific line is not being called out when the condition should be true, when it is comparing top of the stack which is * to - and * has higher precedence and since stack is not empty thus it should return true thus the function is called. I tested if I have any errors other areas but everything I tested was correct, I really have  no clue how to fix.\r\n\r\n\r\n\r\nI am really clueless even after 1hour and a half staring and trying to trace the code\r\n\r\nI am expecting from output to be\r\n[3, 2, 4, *, +, 3, -] which is the postfix expression that technically will be evaluated later\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vbNUn.png","title":"Infix to postfix algorithm, the while statement I wrote is not being called out when it should","body":"<pre><code>private Scanner sc = new Scanner(System.in);\nprivate String expression;\nprivate String exp[];\nprivate ArrayList&lt;String&gt; post_fix = new ArrayList&lt;&gt;();\nStack&lt;String&gt; ope = new Stack&lt;String&gt;();\n    public Model()\n    {\n        expression = sc.nextLine();\n        \n    }\n    \n    public void split()\n    {\n        \n        //splitting the entered expression to array of operators alone and array of the numbers then create Arraylist to combine the operators and numbers together as if it is a string expression  but as an array\n        String num[]= this.expression.split(&quot;[/+/*/-]&quot;);\n        String preop[]= this.expression.split(&quot;[0-9]+&quot;);; // this will give [empty, operator, operator...] therefore we will create another array to fill in the ops excluding empty\n        \n        ArrayList&lt;String&gt; op = new ArrayList&lt;&gt;();//I used arraylist because easier\n        for(int i = 1; i&lt;preop.length;i++)\n        {\n            op.add(preop[i]);\n        }\n        \n        //putting the operands and the operators together in the same array\n                \n        ArrayList&lt;String&gt; exp = new ArrayList&lt;&gt;();\n       \n        \n        for(int i = 0; i &lt;num.length;i++)\n        {\n            exp.add(num[i]);\n        }\n        int count = 0;\n        for(int i = 0; i &lt;op.size();i++)\n        { //fill the arraylist with numbers then add the operators to it by using number (index of the operator +1 +count)\n            exp.add(i+1+count, op.get(i)); //This is why arraylist was used in order to let values to be placed in between \n            count++;\n            //i+1+count is used because index of the operator is in between two numbers meaning it is after the first index in num array so i+1 and because array keeps increasing, we do +count for the other operators to be placed in\n        }\n        \n        this.exp = new String[exp.size()]; // we change the arraylist exp to instance array for faster operations later on\n        System.out.print(&quot;Test to check if expression is converted into array as intented: &quot;);\n        for(int i = 0; i&lt;this.exp.length;i++)\n        {\n            this.exp[i] = exp.get(i);\n            System.out.print(this.exp[i]);\n        }\n        System.out.println();\n      \n    }\n    \n    public void postfix()\n    {\n    \n        for(int i = 0; i &lt; exp.length; i++)\n        {\n            if(i%2 == 0)//since operands are observed to always have even index in the array\n            {\n                post_fix.add(exp[i]);\n                System.out.println(post_fix);\n            }\n            else \n            {\n                boolean x = !ope.empty();\n                System.out.println(&quot;Test of !ope.empty: &quot; + x);\n                while(!ope.empty()&amp;&amp; HasHigherPrecedence(ope.peek(), this.exp[i]))\n                {\n                    post_fix.add(ope.peek());\n                    ope.pop();\n                    \n                    \n                }\n                ope.push(exp[i]);\n                System.out.println(&quot;stack_top: &quot;+ ope.peek());\n            }\n            \n    \n        }\n        while(!ope.empty())\n        {\n            \n            post_fix.add(ope.peek());\n            ope.pop();\n        }\n        System.out.println(&quot;Output: &quot; +post_fix);\n    \n        \n    }\n    \n    public String getPost_fix()\n    {\n        String temp = &quot;&quot;;\n        for(int i =0; i &lt; exp.length;i++)\n        {\n            temp = temp + post_fix.get(i);\n        }\n    \n        return temp;\n    }\n    \n    public double evaluate() \n    {\n        return 0;\n    }\n    \n    private boolean HasHigherPrecedence(String op1, String op2)\n    {\n        //op1 is operator 1 at the top of the stack thus associativity highest\n        int a_op1 = 1;\n        int a_op2 = 0;\n        \n        int p_op1 = 0;\n        int p_op2= 0;\n        //the precedence will be measured with numbers\n        String operators[]= {&quot;&quot;,&quot;+&quot;,&quot;-&quot;,&quot;*&quot;,&quot;/&quot;};\n        int precedence[] = {0,1,1,2,2}; //the reason for blank operator and 0 precedence is because the stack initially will be empty\n        for(int i = 0; i&lt; operators.length;i++)\n        {\n            if(op1.equals(operators[i]))\n            {\n                p_op1=precedence[i];\n            }\n        }\n        for(int i = 0; i&lt; operators.length;i++)\n        {\n            if(op2.equals(operators[i]))\n            {\n                p_op2=precedence[i];\n            }\n        }\n        \n        boolean higher_ornot = false;\n        \n        if(p_op1 &gt; p_op2)\n        {\n            higher_ornot = false;\n        }\n        else if(p_op1 &lt; p_op1)\n        {\n            higher_ornot = true;\n        }\n        else if(p_op1== p_op2)\n        {\n        System.out.println(op1+&quot;: &quot;+p_op1);\n        System.out.println(op2+&quot;: &quot;+p_op2);\n            higher_ornot = false; //since associativity of op1 will be higher --&gt; thus higher precedence\n        }\n        \n        return higher_ornot;\n    }\n    \n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/vbNUn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vbNUn.png\" alt=\"Output of the code\" /></a></p>\n<p>I am trying to converst user's infix mathmatical expression into a postfix expression in an array that will be evaluated but before evaluation, I faced a problem in the postfix method</p>\n<p>while(!ope.empty()&amp;&amp; HasHigherPrecedence(ope.peek(), this.exp[i]))</p>\n<p>This specific line is not being called out when the condition should be true, when it is comparing top of the stack which is * to - and * has higher precedence and since stack is not empty thus it should return true thus the function is called. I tested if I have any errors other areas but everything I tested was correct, I really have  no clue how to fix.</p>\n<p>I am really clueless even after 1hour and a half staring and trying to trace the code</p>\n<p>I am expecting from output to be\n[3, 2, 4, *, +, 3, -] which is the postfix expression that technically will be evaluated later</p>\n"},{"tags":["java","spring","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":14162458,"reputation":3900,"user_id":10231374,"display_name":"Toni"},"score":0,"creation_date":1672746713,"post_id":74992579,"comment_id":132339926,"body_markdown":"Does this answer your question? [Illegal attempt to dereference collection when querying using JPA relations](https://stackoverflow.com/questions/34975468/illegal-attempt-to-dereference-collection-when-querying-using-jpa-relations)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/34975468/illegal-attempt-to-dereference-collection-when-querying-using-jpa-relations\">Illegal attempt to dereference collection when querying using JPA relations</a>"},{"owner":{"account_id":19614580,"reputation":13,"user_id":14356372,"display_name":"Anabelle95"},"score":0,"creation_date":1672751898,"post_id":74992579,"comment_id":132341588,"body_markdown":"no, I  have a Join. Maybe in this example works because entity is in select","body":"no, I  have a Join. Maybe in this example works because entity is in select"}],"owner":{"account_id":19614580,"reputation":13,"user_id":14356372,"display_name":"Anabelle95"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672744701,"creation_date":1672744350,"question_id":74992579,"body_markdown":"\r\nI create new object in select statement.\r\n\r\n      @Query(&quot;&quot;&quot;\r\n          select new com.myPackage.AuthorDTO(\r\n                a.id,\r\n    \t\t\ta.name,\r\n                booksIds)\r\n                from Author a\r\n                join a.books.id as booksIds\r\n                &quot;&quot;&quot;)\r\n    List&lt;AuthorDTO&gt; getAuthors();\r\n\r\n    \t\t\t\r\nMy record looks like this:\r\n\r\n    record AuthorDTO(Long id, String name, Set&lt;Long&gt; booksIds)\r\n\r\nI have an error:\r\nillegal attempt to dereference collection.\r\nHow to solve it? \r\n\r\n\r\n","title":"Spring Data JPA @Query - creating new object from select","body":"<p>I create new object in select statement.</p>\n<pre><code>  @Query(&quot;&quot;&quot;\n      select new com.myPackage.AuthorDTO(\n            a.id,\n            a.name,\n            booksIds)\n            from Author a\n            join a.books.id as booksIds\n            &quot;&quot;&quot;)\nList&lt;AuthorDTO&gt; getAuthors();\n\n            \n</code></pre>\n<p>My record looks like this:</p>\n<pre><code>record AuthorDTO(Long id, String name, Set&lt;Long&gt; booksIds)\n</code></pre>\n<p>I have an error:\nillegal attempt to dereference collection.\nHow to solve it?</p>\n"},{"tags":["java","android","ios","swift","encryption"],"comments":[{"owner":{"account_id":11125108,"reputation":5965,"user_id":8166854,"display_name":"Michael Fehr"},"score":1,"creation_date":1609690784,"post_id":65551823,"comment_id":115895784,"body_markdown":"I don&#39;t know Swift but I see that you are using different AES modes - in Java it is CBC mode and on Swift it&#39;s GCM mode. Second: CBC mode needs an initialization vector (iv) and GCM mode needs a nonce that has to available on decryption as well - I do not see that the iv or nonce are available outside of the encryption functions.","body":"I don&#39;t know Swift but I see that you are using different AES modes - in Java it is CBC mode and on Swift it&#39;s GCM mode. Second: CBC mode needs an initialization vector (iv) and GCM mode needs a nonce that has to available on decryption as well - I do not see that the iv or nonce are available outside of the encryption functions."},{"owner":{"account_id":17867091,"reputation":33,"user_id":12979231,"display_name":"OctoBot"},"score":0,"creation_date":1609691241,"post_id":65551823,"comment_id":115895930,"body_markdown":"Would you happen to know how to use the GCM mode in Java? I am not familiar with encryption in Java or Swift. The attempt you see above is a result of me reading Apple CryptoKit documentation and looking at the Android Cryptography guide. I need to find an approach that I can implement on both. The general Idea I have is the following. I want to create a key by hashing a user-supplied string (password) using the SHA-256 algorithm. Then I want to use that key to perform AES-256 encryption on some user-supplied text (text message). That data would be stored in and retrieved from Google Firestore","body":"Would you happen to know how to use the GCM mode in Java? I am not familiar with encryption in Java or Swift. The attempt you see above is a result of me reading Apple CryptoKit documentation and looking at the Android Cryptography guide. I need to find an approach that I can implement on both. The general Idea I have is the following. I want to create a key by hashing a user-supplied string (password) using the SHA-256 algorithm. Then I want to use that key to perform AES-256 encryption on some user-supplied text (text message). That data would be stored in and retrieved from Google Firestore"},{"owner":{"account_id":11125108,"reputation":5965,"user_id":8166854,"display_name":"Michael Fehr"},"score":0,"creation_date":1609711252,"post_id":65551823,"comment_id":115901986,"body_markdown":"If you are not familiar with encryption you should not write any encryption functions. All examples I could provide would cause a lot of questions and Stackoverflow is not the place for that. You should not derive an encryption key with a simple SHA256 hashing function, use a password derivation function like PBKDF2. This was just an example of the complexitiy so it could be good idea to hire a freelance for this part of your job, especially when trying to use encryption platform wide (Java - Swift).","body":"If you are not familiar with encryption you should not write any encryption functions. All examples I could provide would cause a lot of questions and Stackoverflow is not the place for that. You should not derive an encryption key with a simple SHA256 hashing function, use a password derivation function like PBKDF2. This was just an example of the complexitiy so it could be good idea to hire a freelance for this part of your job, especially when trying to use encryption platform wide (Java - Swift)."},{"owner":{"account_id":17867091,"reputation":33,"user_id":12979231,"display_name":"OctoBot"},"score":0,"creation_date":1609720095,"post_id":65551823,"comment_id":115903988,"body_markdown":"Thank you for your advice. I’m developing the app for educational purposes and very limited use only, therefore quality is not critical and would not require hiring a freelancer. The project will never provide revenue and most likely be used by a closed circle of people. I’m confident skills developed through this project will benefit me in the future. The project might also be of use for other people, in which case I will make it publicly available.","body":"Thank you for your advice. I’m developing the app for educational purposes and very limited use only, therefore quality is not critical and would not require hiring a freelancer. The project will never provide revenue and most likely be used by a closed circle of people. I’m confident skills developed through this project will benefit me in the future. The project might also be of use for other people, in which case I will make it publicly available."},{"owner":{"account_id":2480581,"reputation":12447,"user_id":2160144,"accept_rate":55,"display_name":"Mehul Thakkar"},"score":0,"creation_date":1646738826,"post_id":65551823,"comment_id":126193207,"body_markdown":"@OctoBot Did you get any success in above?, If yes, then please add the solution here too, so that it can become helpful for others.","body":"@OctoBot Did you get any success in above?, If yes, then please add the solution here too, so that it can become helpful for others."}],"answers":[{"tags":[],"owner":{"account_id":10646458,"reputation":31,"user_id":7838980,"display_name":"Tushar Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672744528,"creation_date":1672744043,"answer_id":74992505,"question_id":65551823,"body_markdown":"Use implementation &#39;com.google.crypto.tink:tink-android:1.7.0&#39;\r\n\r\nIn your file \r\n\r\n    import com.google.crypto.tink.subtle.Hkdf;\r\n    \r\n    sharedSecret = Hkdf.computeHkdf(&quot;HMACSHA256&quot;, normalSharedSecret,null,null,32);","title":"Equivalent Encryption and Decryption on iOS and Android","body":"<p>Use implementation 'com.google.crypto.tink:tink-android:1.7.0'</p>\n<p>In your file</p>\n<pre><code>import com.google.crypto.tink.subtle.Hkdf;\n\nsharedSecret = Hkdf.computeHkdf(&quot;HMACSHA256&quot;, normalSharedSecret,null,null,32);\n</code></pre>\n"}],"owner":{"account_id":17867091,"reputation":33,"user_id":12979231,"display_name":"OctoBot"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":961,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1672744528,"creation_date":1609689324,"question_id":65551823,"body_markdown":"Aim:\r\n==============\r\nTo be able to encrypt a piece of data (a string) on iOS and decrypt on Android or vice versa to provide users with end-to-end encryption.\r\n\r\nUnfortunately, Encrypted Message in Java does not match the Encrypted Message in Swift.  \r\n**Java:** *gTwbbTCiE+Km/5Lw3yWlTr/sd5aoN6II66CqsvbiSAE=*  \r\n**Swift:** *iFA3j0lBPiyz64ge0M67pBPWLYEsVgSHvwY2m+anDQ+lRUauQOq9b3cLqFH1*\r\n\r\n----------\r\n\r\nWhat I Tried:\r\n==============\r\n\r\nJava Implementation\r\n-----------------\r\n```lang-java\r\npackage com.company;\r\n\r\nimport javax.crypto.Cipher;\r\nimport javax.crypto.SecretKey;\r\nimport javax.crypto.spec.SecretKeySpec;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.security.MessageDigest;\r\nimport java.util.Base64;\r\n\r\npublic class Main {\r\n\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        // Get Base64 encoder\r\n        Base64.Encoder b64e = Base64.getEncoder();\r\n\r\n        // Message to encrypt\r\n        String str = &quot;Hello, playground&quot;;\r\n        // Password to use for encryption\r\n        String key = &quot;password&quot;;\r\n\r\n        // The bytes of the string requiring encryption\r\n        byte[] strByteArray = str.getBytes(StandardCharsets.UTF_8);\r\n        // Print the message in plaintext\r\n        System.out.println(&quot;Message: &quot; + str);\r\n        // Print the Base64 encoded message bytes\r\n        System.out.println(&quot;Message B64: &quot; + b64e.encodeToString(strByteArray));\r\n\r\n        // The bytes of the key\r\n        byte[] keyByteArray = key.getBytes(StandardCharsets.UTF_8);\r\n        // Print the key in plaintext\r\n        System.out.println(&quot;Key: &quot; + key);\r\n\r\n        // Create an instance of MessageDigest to hash the key using the SHA-256 algorithm\r\n        MessageDigest hasher = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n        // The bytes of the hash digest\r\n        byte[] keyHashByteArray = hasher.digest(keyByteArray);\r\n        // Print the Base64 encoded key hash bytes\r\n        System.out.println(&quot;Key B64: &quot; + b64e.encodeToString(keyHashByteArray));\r\n\r\n        // Create an instance of a SecretKey from the key hash bytes\r\n        SecretKey secretKey = new SecretKeySpec(keyHashByteArray, &quot;AES&quot;);\r\n\r\n        // Create an instance of an AES cipher\r\n        Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5PADDING&quot;);\r\n        // Set the cipher mode to encryption and supply the previously computed SecretKey\r\n        cipher.init(Cipher.ENCRYPT_MODE, secretKey);\r\n\r\n        // Encrypt the message string bytes using an AES-256 cipher using the secret key\r\n        byte[] ciphertext = cipher.doFinal(strByteArray);\r\n        // Print the Base64 encoded ciphertext bytes\r\n        System.out.println(&quot;Encrypted Message: &quot; + b64e.encodeToString(ciphertext));\r\n    }\r\n}\r\n\r\n```\r\n## Java Output:\r\nMessage: Hello, playground  \r\nMessage B64: SGVsbG8sIHBsYXlncm91bmQ=  \r\nKey: password  \r\nKey B64: XohImNooBHFR0OVvjcYpJ3NgPQ1qq73WKhHvch0VQtg=  \r\nEncrypted Message: gTwbbTCiE+Km/5Lw3yWlTr/sd5aoN6II66CqsvbiSAE=\r\n\r\nSwift Implementation\r\n-----------------\r\n``` lang-swift\r\nimport Cocoa\r\nimport CryptoKit\r\n\r\n// Message to encrypt\r\nvar str = &quot;Hello, playground&quot;\r\n\r\n// Print the message in plaintext\r\nprint(&quot;Message: \\(str)&quot;)\r\n\r\n// The bytes of the string requiring encryption\r\nvar messageByteArray = Data(str.utf8)\r\n\r\n// Print the Base64 encoded message bytes\r\nprint(&quot;Message B64: \\(Data(messageByteArray).base64EncodedString())&quot;)\r\n\r\n// Password to use for encryption\r\nvar key = &quot;password&quot;\r\n\r\n// Print the key in plaintext\r\nprint(&quot;Key: \\(key)&quot;)\r\n\r\n// The bytes of the key\r\nvar keyByteArray = Data(key.utf8)\r\n\r\n// The bytes of the hash digest\r\nvar keyHashByteArray = SHA256.hash(data: keyByteArray);\r\n\r\n// Create an instance of a SymmetricKey from the key hash bytes\r\nvar symetricKeyFromHash = SymmetricKey(data: keyHashByteArray)\r\n\r\n// Print the Base64 encoded key hash bytes\r\nsymetricKeyFromHash.withUnsafeBytes {body in\r\n    print(&quot;Key B64: \\(Data(body).base64EncodedString())&quot;)\r\n}\r\n\r\n// Encrypt the message string bytes using an AES-256 cipher using the secret key\r\nlet sealed = try AES.GCM.seal(messageByteArray, using: symetricKeyFromHash)\r\n\r\n// Print the Base64 encoded ciphertext bytes\r\nprint(&quot;Encrypted Message: \\(sealed.combined!.base64EncodedString())&quot;)\r\n\r\n```\r\n\r\n## Swift Output:\r\nMessage: Hello, playground  \r\nMessage B64: SGVsbG8sIHBsYXlncm91bmQ=  \r\nKey: password  \r\nKey B64: XohImNooBHFR0OVvjcYpJ3NgPQ1qq73WKhHvch0VQtg=  \r\nEncrypted Message: NAYn6W22c4IcJUyYpXAKbMLq5yktFUGDPYCOvIRFXISDAK4xrJHh9Yv+15Z9  ","title":"Equivalent Encryption and Decryption on iOS and Android","body":"<h1>Aim:</h1>\n<p>To be able to encrypt a piece of data (a string) on iOS and decrypt on Android or vice versa to provide users with end-to-end encryption.</p>\n<p>Unfortunately, Encrypted Message in Java does not match the Encrypted Message in Swift.<br />\n<strong>Java:</strong> <em>gTwbbTCiE+Km/5Lw3yWlTr/sd5aoN6II66CqsvbiSAE=</em><br />\n<strong>Swift:</strong> <em>iFA3j0lBPiyz64ge0M67pBPWLYEsVgSHvwY2m+anDQ+lRUauQOq9b3cLqFH1</em></p>\n<hr />\n<h1>What I Tried:</h1>\n<h2>Java Implementation</h2>\n<pre class=\"lang-java prettyprint-override\"><code>package com.company;\n\nimport javax.crypto.Cipher;\nimport javax.crypto.SecretKey;\nimport javax.crypto.spec.SecretKeySpec;\nimport java.nio.charset.StandardCharsets;\nimport java.security.MessageDigest;\nimport java.util.Base64;\n\npublic class Main {\n\n\n    public static void main(String[] args) throws Exception {\n        // Get Base64 encoder\n        Base64.Encoder b64e = Base64.getEncoder();\n\n        // Message to encrypt\n        String str = &quot;Hello, playground&quot;;\n        // Password to use for encryption\n        String key = &quot;password&quot;;\n\n        // The bytes of the string requiring encryption\n        byte[] strByteArray = str.getBytes(StandardCharsets.UTF_8);\n        // Print the message in plaintext\n        System.out.println(&quot;Message: &quot; + str);\n        // Print the Base64 encoded message bytes\n        System.out.println(&quot;Message B64: &quot; + b64e.encodeToString(strByteArray));\n\n        // The bytes of the key\n        byte[] keyByteArray = key.getBytes(StandardCharsets.UTF_8);\n        // Print the key in plaintext\n        System.out.println(&quot;Key: &quot; + key);\n\n        // Create an instance of MessageDigest to hash the key using the SHA-256 algorithm\n        MessageDigest hasher = MessageDigest.getInstance(&quot;SHA-256&quot;);\n        // The bytes of the hash digest\n        byte[] keyHashByteArray = hasher.digest(keyByteArray);\n        // Print the Base64 encoded key hash bytes\n        System.out.println(&quot;Key B64: &quot; + b64e.encodeToString(keyHashByteArray));\n\n        // Create an instance of a SecretKey from the key hash bytes\n        SecretKey secretKey = new SecretKeySpec(keyHashByteArray, &quot;AES&quot;);\n\n        // Create an instance of an AES cipher\n        Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5PADDING&quot;);\n        // Set the cipher mode to encryption and supply the previously computed SecretKey\n        cipher.init(Cipher.ENCRYPT_MODE, secretKey);\n\n        // Encrypt the message string bytes using an AES-256 cipher using the secret key\n        byte[] ciphertext = cipher.doFinal(strByteArray);\n        // Print the Base64 encoded ciphertext bytes\n        System.out.println(&quot;Encrypted Message: &quot; + b64e.encodeToString(ciphertext));\n    }\n}\n\n</code></pre>\n<h2>Java Output:</h2>\n<p>Message: Hello, playground<br />\nMessage B64: SGVsbG8sIHBsYXlncm91bmQ=<br />\nKey: password<br />\nKey B64: XohImNooBHFR0OVvjcYpJ3NgPQ1qq73WKhHvch0VQtg=<br />\nEncrypted Message: gTwbbTCiE+Km/5Lw3yWlTr/sd5aoN6II66CqsvbiSAE=</p>\n<h2>Swift Implementation</h2>\n<pre class=\"lang-swift prettyprint-override\"><code>import Cocoa\nimport CryptoKit\n\n// Message to encrypt\nvar str = &quot;Hello, playground&quot;\n\n// Print the message in plaintext\nprint(&quot;Message: \\(str)&quot;)\n\n// The bytes of the string requiring encryption\nvar messageByteArray = Data(str.utf8)\n\n// Print the Base64 encoded message bytes\nprint(&quot;Message B64: \\(Data(messageByteArray).base64EncodedString())&quot;)\n\n// Password to use for encryption\nvar key = &quot;password&quot;\n\n// Print the key in plaintext\nprint(&quot;Key: \\(key)&quot;)\n\n// The bytes of the key\nvar keyByteArray = Data(key.utf8)\n\n// The bytes of the hash digest\nvar keyHashByteArray = SHA256.hash(data: keyByteArray);\n\n// Create an instance of a SymmetricKey from the key hash bytes\nvar symetricKeyFromHash = SymmetricKey(data: keyHashByteArray)\n\n// Print the Base64 encoded key hash bytes\nsymetricKeyFromHash.withUnsafeBytes {body in\n    print(&quot;Key B64: \\(Data(body).base64EncodedString())&quot;)\n}\n\n// Encrypt the message string bytes using an AES-256 cipher using the secret key\nlet sealed = try AES.GCM.seal(messageByteArray, using: symetricKeyFromHash)\n\n// Print the Base64 encoded ciphertext bytes\nprint(&quot;Encrypted Message: \\(sealed.combined!.base64EncodedString())&quot;)\n\n</code></pre>\n<h2>Swift Output:</h2>\n<p>Message: Hello, playground<br />\nMessage B64: SGVsbG8sIHBsYXlncm91bmQ=<br />\nKey: password<br />\nKey B64: XohImNooBHFR0OVvjcYpJ3NgPQ1qq73WKhHvch0VQtg=<br />\nEncrypted Message: NAYn6W22c4IcJUyYpXAKbMLq5yktFUGDPYCOvIRFXISDAK4xrJHh9Yv+15Z9</p>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":2,"creation_date":1386590420,"post_id":20470010,"comment_id":30589004,"body_markdown":"The term from FP is &quot;partition&quot;, but I&#39;m not finding a method with the desired semantics in Java. It has partitioning on a predicate.","body":"The term from FP is &quot;partition&quot;, but I&#39;m not finding a method with the desired semantics in Java. It has partitioning on a predicate."},{"owner":{"account_id":236130,"reputation":5021,"user_id":503413,"accept_rate":78,"display_name":"Olimpiu POP"},"score":1,"creation_date":1386598075,"post_id":20470010,"comment_id":30593382,"body_markdown":"Typically the spliterator in JDK 8 is thought for traversing and partitioning purposes. I will try to come up with an example also.","body":"Typically the spliterator in JDK 8 is thought for traversing and partitioning purposes. I will try to come up with an example also."},{"owner":{"account_id":53291,"reputation":1729,"user_id":159326,"accept_rate":87,"display_name":"aepurniet"},"score":0,"creation_date":1386604385,"post_id":20470010,"comment_id":30597351,"body_markdown":"`list.stream().map(i -&gt; new Pair(i, i+1));`","body":"<code>list.stream().map(i -&gt; new Pair(i, i+1));</code>"},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":2,"creation_date":1386836620,"post_id":20470010,"comment_id":30710849,"body_markdown":"For the equivalent non streams question, see http://stackoverflow.com/questions/17453022/idiom-for-pairwise-iteration-through-a-sorted-collection","body":"For the equivalent non streams question, see <a href=\"http://stackoverflow.com/questions/17453022/idiom-for-pairwise-iteration-through-a-sorted-collection\" title=\"idiom for pairwise iteration through a sorted collection\">stackoverflow.com/questions/17453022/&hellip;</a>"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1570653865,"post_id":20470010,"comment_id":102985160,"body_markdown":"By the way, some folks use either implementation of [`Map.Entry`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.Entry.html) as a Pair class. (Granted, some might consider that a hack, but using a built-in class is handy.)","body":"By the way, some folks use either implementation of <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.Entry.html\" rel=\"nofollow noreferrer\"><code>Map.Entry</code></a> as a Pair class. (Granted, some might consider that a hack, but using a built-in class is handy.)"}],"answers":[{"tags":[],"owner":{"account_id":457254,"reputation":433,"user_id":856459,"display_name":"Savv"},"down_vote_count":8,"up_vote_count":2,"is_accepted":false,"score":-6,"last_activity_date":1386591106,"creation_date":1386591106,"answer_id":20470363,"question_id":20470010,"body_markdown":"Run a `for` loop that runs from 0 to `length-1` of your stream\r\n\r\n    for(int i = 0 ; i &lt; stream.length-1 ; i++)\r\n    {\r\n        Pair pair = new Pair(stream[i], stream[i+1]);\r\n        // then add your pair to an array\r\n    }","title":"Collect successive pairs from a stream","body":"<p>Run a <code>for</code> loop that runs from 0 to <code>length-1</code> of your stream</p>\n\n<pre><code>for(int i = 0 ; i &lt; stream.length-1 ; i++)\n{\n    Pair pair = new Pair(stream[i], stream[i+1]);\n    // then add your pair to an array\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":267393,"reputation":10719,"user_id":555553,"accept_rate":62,"display_name":"mishadoff"},"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1541781683,"creation_date":1386601446,"answer_id":20473797,"question_id":20470010,"body_markdown":"This is not elegant, it&#39;s a hackish solution, but works for infinite streams\r\n\r\n    Stream&lt;Pair&gt; pairStream = Stream.iterate(0, (i) -&gt; i + 1).map( // natural numbers\r\n        new Function&lt;Integer, Pair&gt;() {\r\n            Integer previous;\r\n\r\n            @Override\r\n            public Pair apply(Integer integer) {\r\n                Pair pair = null;\r\n                if (previous != null) pair = new Pair(previous, integer);\r\n                previous = integer;\r\n                return pair;\r\n            }\r\n        }).skip(1); // drop first null\r\n\r\nNow you can limit your stream to the length you want\r\n\r\n    pairStream.limit(1_000_000).forEach(i -&gt; System.out.println(i));\r\n\r\n**P.S.** I hope there is better solution, something like clojure `(partition 2 1 stream)`","title":"Collect successive pairs from a stream","body":"<p>This is not elegant, it's a hackish solution, but works for infinite streams</p>\n\n<pre><code>Stream&lt;Pair&gt; pairStream = Stream.iterate(0, (i) -&gt; i + 1).map( // natural numbers\n    new Function&lt;Integer, Pair&gt;() {\n        Integer previous;\n\n        @Override\n        public Pair apply(Integer integer) {\n            Pair pair = null;\n            if (previous != null) pair = new Pair(previous, integer);\n            previous = integer;\n            return pair;\n        }\n    }).skip(1); // drop first null\n</code></pre>\n\n<p>Now you can limit your stream to the length you want</p>\n\n<pre><code>pairStream.limit(1_000_000).forEach(i -&gt; System.out.println(i));\n</code></pre>\n\n<p><strong>P.S.</strong> I hope there is better solution, something like clojure <code>(partition 2 1 stream)</code></p>\n"},{"tags":[],"owner":{"account_id":1540536,"reputation":943,"user_id":2866565,"display_name":"jpvee"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1386601764,"creation_date":1386601764,"answer_id":20473894,"question_id":20470010,"body_markdown":"In your case, I would write my custom IntFunction which keeps track of the last int passed and use that to map the original IntStream.\r\n\r\n    import java.util.function.IntFunction;\r\n    import java.util.stream.IntStream;\r\n    \r\n    public class PairFunction implements IntFunction&lt;PairFunction.Pair&gt; {\r\n    \r\n      public static class Pair {\r\n    \r\n        private final int first;\r\n        private final int second;\r\n    \r\n        public Pair(int first, int second) {\r\n          this.first = first;\r\n          this.second = second;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n          return &quot;[&quot; + first + &quot;|&quot; + second + &quot;]&quot;;\r\n        }\r\n      }\r\n    \r\n      private int last;\r\n      private boolean first = true;\r\n    \r\n      @Override\r\n      public Pair apply(int value) {\r\n        Pair pair = !first ? new Pair(last, value) : null;\r\n        last = value;\r\n        first = false;\r\n        return pair;\r\n      }\r\n    \r\n      public static void main(String[] args) {\r\n    \r\n        IntStream intStream = IntStream.of(0, 1, 2, 3, 4);\r\n        final PairFunction pairFunction = new PairFunction();\r\n        intStream.mapToObj(pairFunction)\r\n            .filter(p -&gt; p != null) // filter out the null\r\n            .forEach(System.out::println); // display each Pair\r\n    \r\n      }\r\n    \r\n    }\r\n","title":"Collect successive pairs from a stream","body":"<p>In your case, I would write my custom IntFunction which keeps track of the last int passed and use that to map the original IntStream.</p>\n\n<pre><code>import java.util.function.IntFunction;\nimport java.util.stream.IntStream;\n\npublic class PairFunction implements IntFunction&lt;PairFunction.Pair&gt; {\n\n  public static class Pair {\n\n    private final int first;\n    private final int second;\n\n    public Pair(int first, int second) {\n      this.first = first;\n      this.second = second;\n    }\n\n    @Override\n    public String toString() {\n      return \"[\" + first + \"|\" + second + \"]\";\n    }\n  }\n\n  private int last;\n  private boolean first = true;\n\n  @Override\n  public Pair apply(int value) {\n    Pair pair = !first ? new Pair(last, value) : null;\n    last = value;\n    first = false;\n    return pair;\n  }\n\n  public static void main(String[] args) {\n\n    IntStream intStream = IntStream.of(0, 1, 2, 3, 4);\n    final PairFunction pairFunction = new PairFunction();\n    intStream.mapToObj(pairFunction)\n        .filter(p -&gt; p != null) // filter out the null\n        .forEach(System.out::println); // display each Pair\n\n  }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1980258,"reputation":9244,"user_id":1777058,"accept_rate":100,"display_name":"Tomek Rękawek"},"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1523827585,"creation_date":1386612717,"answer_id":20477627,"question_id":20470010,"body_markdown":"I&#39;ve implemented a spliterator wrapper which takes every `n` elements `T` from the original spliterator and produces `List&lt;T&gt;`:\r\n\r\n    public class ConsecutiveSpliterator&lt;T&gt; implements Spliterator&lt;List&lt;T&gt;&gt; {\r\n    \r\n    \tprivate final Spliterator&lt;T&gt; wrappedSpliterator;\r\n    \r\n    \tprivate final int n;\r\n    \r\n    \tprivate final Deque&lt;T&gt; deque;\r\n    \r\n    \tprivate final Consumer&lt;T&gt; dequeConsumer;\r\n    \r\n    \tpublic ConsecutiveSpliterator(Spliterator&lt;T&gt; wrappedSpliterator, int n) {\r\n    \t\tthis.wrappedSpliterator = wrappedSpliterator;\r\n    \t\tthis.n = n;\r\n    \t\tthis.deque = new ArrayDeque&lt;&gt;();\r\n    \t\tthis.dequeConsumer = deque::addLast;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean tryAdvance(Consumer&lt;? super List&lt;T&gt;&gt; action) {\r\n    \t\tdeque.pollFirst();\r\n    \t\tfillDeque();\r\n    \t\tif (deque.size() == n) {\r\n    \t\t\tList&lt;T&gt; list = new ArrayList&lt;&gt;(deque);\r\n    \t\t\taction.accept(list);\r\n    \t\t\treturn true;\r\n    \t\t} else {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate void fillDeque() {\r\n    \t\twhile (deque.size() &lt; n &amp;&amp; wrappedSpliterator.tryAdvance(dequeConsumer))\r\n    \t\t\t;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Spliterator&lt;List&lt;T&gt;&gt; trySplit() {\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic long estimateSize() {\r\n    \t\treturn wrappedSpliterator.estimateSize();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic int characteristics() {\r\n    \t\treturn wrappedSpliterator.characteristics();\r\n    \t}\r\n    }\r\n\r\nFollowing method may be used to create a consecutive stream:\r\n\r\n    public &lt;E&gt; Stream&lt;List&lt;E&gt;&gt; consecutiveStream(Stream&lt;E&gt; stream, int n) {\r\n    \tSpliterator&lt;E&gt; spliterator = stream.spliterator();\r\n    \tSpliterator&lt;List&lt;E&gt;&gt; wrapper = new ConsecutiveSpliterator&lt;&gt;(spliterator, n);\r\n    \treturn StreamSupport.stream(wrapper, false);\r\n    }\r\n\r\nSample usage:\r\n\r\n    consecutiveStream(Stream.of(0, 1, 2, 3, 4, 5), 2)\r\n        .map(list -&gt; new Pair(list.get(0), list.get(1)))\r\n        .forEach(System.out::println);","title":"Collect successive pairs from a stream","body":"<p>I've implemented a spliterator wrapper which takes every <code>n</code> elements <code>T</code> from the original spliterator and produces <code>List&lt;T&gt;</code>:</p>\n\n<pre><code>public class ConsecutiveSpliterator&lt;T&gt; implements Spliterator&lt;List&lt;T&gt;&gt; {\n\n    private final Spliterator&lt;T&gt; wrappedSpliterator;\n\n    private final int n;\n\n    private final Deque&lt;T&gt; deque;\n\n    private final Consumer&lt;T&gt; dequeConsumer;\n\n    public ConsecutiveSpliterator(Spliterator&lt;T&gt; wrappedSpliterator, int n) {\n        this.wrappedSpliterator = wrappedSpliterator;\n        this.n = n;\n        this.deque = new ArrayDeque&lt;&gt;();\n        this.dequeConsumer = deque::addLast;\n    }\n\n    @Override\n    public boolean tryAdvance(Consumer&lt;? super List&lt;T&gt;&gt; action) {\n        deque.pollFirst();\n        fillDeque();\n        if (deque.size() == n) {\n            List&lt;T&gt; list = new ArrayList&lt;&gt;(deque);\n            action.accept(list);\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    private void fillDeque() {\n        while (deque.size() &lt; n &amp;&amp; wrappedSpliterator.tryAdvance(dequeConsumer))\n            ;\n    }\n\n    @Override\n    public Spliterator&lt;List&lt;T&gt;&gt; trySplit() {\n        return null;\n    }\n\n    @Override\n    public long estimateSize() {\n        return wrappedSpliterator.estimateSize();\n    }\n\n    @Override\n    public int characteristics() {\n        return wrappedSpliterator.characteristics();\n    }\n}\n</code></pre>\n\n<p>Following method may be used to create a consecutive stream:</p>\n\n<pre><code>public &lt;E&gt; Stream&lt;List&lt;E&gt;&gt; consecutiveStream(Stream&lt;E&gt; stream, int n) {\n    Spliterator&lt;E&gt; spliterator = stream.spliterator();\n    Spliterator&lt;List&lt;E&gt;&gt; wrapper = new ConsecutiveSpliterator&lt;&gt;(spliterator, n);\n    return StreamSupport.stream(wrapper, false);\n}\n</code></pre>\n\n<p>Sample usage:</p>\n\n<pre><code>consecutiveStream(Stream.of(0, 1, 2, 3, 4, 5), 2)\n    .map(list -&gt; new Pair(list.get(0), list.get(1)))\n    .forEach(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1397989,"reputation":1978,"user_id":1327374,"display_name":"gadget"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1386718054,"creation_date":1386716131,"answer_id":20507088,"question_id":20470010,"body_markdown":"An elegant solution would be to use [zip][1]. Something like:\r\n\r\n    List&lt;Integer&gt; input = Arrays.asList(0, 1, 2, 3, 4);\r\n    Stream&lt;Pair&gt; pairStream = Streams.zip(input.stream(),\r\n                                          input.stream().substream(1),\r\n                                          (a, b) -&gt; new Pair(a, b)\r\n    );\r\n\r\nThis is pretty concise and elegant, however it uses a list as an input. An infinite stream source cannot be processed this way.\r\n\r\nAnother (lot more troublesome) issue is that zip together with the entire Streams class has been lately removed from the API. The above code only works with [b95][2] or older releases. So with the latest JDK I would say there is no elegant FP style solution and right now we can just hope that in some way zip will be reintroduced to the API.\r\n\r\n  [1]: http://download.java.net/lambda/b95/docs/api/java/util/stream/Streams.html#zip%28java.util.stream.Stream,%20java.util.stream.Stream,%20java.util.function.BiFunction%29\r\n  [2]: http://download.java.net/lambda/b95/","title":"Collect successive pairs from a stream","body":"<p>An elegant solution would be to use <a href=\"http://download.java.net/lambda/b95/docs/api/java/util/stream/Streams.html#zip%28java.util.stream.Stream,%20java.util.stream.Stream,%20java.util.function.BiFunction%29\" rel=\"nofollow\">zip</a>. Something like:</p>\n\n<pre><code>List&lt;Integer&gt; input = Arrays.asList(0, 1, 2, 3, 4);\nStream&lt;Pair&gt; pairStream = Streams.zip(input.stream(),\n                                      input.stream().substream(1),\n                                      (a, b) -&gt; new Pair(a, b)\n);\n</code></pre>\n\n<p>This is pretty concise and elegant, however it uses a list as an input. An infinite stream source cannot be processed this way.</p>\n\n<p>Another (lot more troublesome) issue is that zip together with the entire Streams class has been lately removed from the API. The above code only works with <a href=\"http://download.java.net/lambda/b95/\" rel=\"nofollow\">b95</a> or older releases. So with the latest JDK I would say there is no elegant FP style solution and right now we can just hope that in some way zip will be reintroduced to the API.</p>\n"},{"tags":[],"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"down_vote_count":1,"up_vote_count":85,"is_accepted":false,"score":84,"last_activity_date":1386720465,"creation_date":1386720465,"answer_id":20507988,"question_id":20470010,"body_markdown":"The Java 8 streams library is primarily geared toward splitting streams into smaller chunks for parallel processing, so stateful pipeline stages are quite limited, and doing things like getting the index of the current stream element and accessing adjacent stream elements are not supported.\r\n\r\nA typical way to solve these problems, with some limitations, of course, is to drive the stream by indexes and rely on having the values being processed in some random-access data structure like an ArrayList from which the elements can be retrieved. If the values were in `arrayList`, one could generate the pairs as requested by doing something like this:\r\n\r\n        IntStream.range(1, arrayList.size())\r\n                 .mapToObj(i -&gt; new Pair(arrayList.get(i-1), arrayList.get(i)))\r\n                 .forEach(System.out::println);\r\n\r\nOf course the limitation is that the input cannot be an infinite stream. This pipeline can be run in parallel, though.","title":"Collect successive pairs from a stream","body":"<p>The Java 8 streams library is primarily geared toward splitting streams into smaller chunks for parallel processing, so stateful pipeline stages are quite limited, and doing things like getting the index of the current stream element and accessing adjacent stream elements are not supported.</p>\n\n<p>A typical way to solve these problems, with some limitations, of course, is to drive the stream by indexes and rely on having the values being processed in some random-access data structure like an ArrayList from which the elements can be retrieved. If the values were in <code>arrayList</code>, one could generate the pairs as requested by doing something like this:</p>\n\n<pre><code>    IntStream.range(1, arrayList.size())\n             .mapToObj(i -&gt; new Pair(arrayList.get(i-1), arrayList.get(i)))\n             .forEach(System.out::println);\n</code></pre>\n\n<p>Of course the limitation is that the input cannot be an infinite stream. This pipeline can be run in parallel, though.</p>\n"},{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1432920194,"creation_date":1386725715,"answer_id":20508885,"question_id":20470010,"body_markdown":"The operation is essentially stateful so not really what streams are meant to solve - see the &quot;Stateless Behaviors&quot; section in the [javadoc][1]:\r\n\r\n&gt; The best approach is to avoid stateful behavioral parameters to stream operations entirely\r\n\r\nOne solution here is to introduce state in your stream through an external counter, although it will only work with a sequential stream.\r\n\r\n    public static void main(String[] args) {\r\n        Stream&lt;String&gt; strings = Stream.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;c&quot;);\r\n        AtomicReference&lt;String&gt; previous = new AtomicReference&lt;&gt;();\r\n        List&lt;Pair&gt; collect = strings.map(n -&gt; {\r\n                                String p = previous.getAndSet(n);\r\n                                return p == null ? null : new Pair(p, n);\r\n                            })\r\n                            .filter(p -&gt; p != null)\r\n                            .collect(toList());\r\n        System.out.println(collect);\r\n    }\r\n\r\n\r\n    static class Pair&lt;T&gt; {\r\n        private T left, right;\r\n        Pair(T left, T right) { this.left = left; this.right = right; }\r\n        @Override public String toString() { return &quot;{&quot; + left + &quot;,&quot; + right + &#39;}&#39;; }\r\n    }\r\n\r\n [1]: http://download.java.net/jdk8/docs/api/java/util/stream/package-summary.html","title":"Collect successive pairs from a stream","body":"<p>The operation is essentially stateful so not really what streams are meant to solve - see the \"Stateless Behaviors\" section in the <a href=\"http://download.java.net/jdk8/docs/api/java/util/stream/package-summary.html\" rel=\"nofollow\">javadoc</a>:</p>\n\n<blockquote>\n  <p>The best approach is to avoid stateful behavioral parameters to stream operations entirely</p>\n</blockquote>\n\n<p>One solution here is to introduce state in your stream through an external counter, although it will only work with a sequential stream.</p>\n\n<pre><code>public static void main(String[] args) {\n    Stream&lt;String&gt; strings = Stream.of(\"a\", \"b\", \"c\", \"c\");\n    AtomicReference&lt;String&gt; previous = new AtomicReference&lt;&gt;();\n    List&lt;Pair&gt; collect = strings.map(n -&gt; {\n                            String p = previous.getAndSet(n);\n                            return p == null ? null : new Pair(p, n);\n                        })\n                        .filter(p -&gt; p != null)\n                        .collect(toList());\n    System.out.println(collect);\n}\n\n\nstatic class Pair&lt;T&gt; {\n    private T left, right;\n    Pair(T left, T right) { this.left = left; this.right = right; }\n    @Override public String toString() { return \"{\" + left + \",\" + right + '}'; }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1426265936,"creation_date":1425483897,"answer_id":28858672,"question_id":20470010,"body_markdown":"The [proton-pack library][1] provides the windowed functionnality. Given a Pair class and a Stream, you can do it like this:\r\n\r\n    Stream&lt;Integer&gt; st = Stream.iterate(0 , x -&gt; x + 1);\r\n    Stream&lt;Pair&lt;Integer, Integer&gt;&gt; pairs = StreamUtils.windowed(st, 2, 1)\r\n                                                      .map(l -&gt; new Pair&lt;&gt;(l.get(0), l.get(1)))\r\n                                                      .moreStreamOps(...);\r\n        \r\n\r\nNow the `pairs` stream contains:\r\n\r\n    (0, 1)\r\n    (1, 2)\r\n    (2, 3)\r\n    (3, 4)\r\n    (4, ...) and so on\r\n\r\n\r\n\r\n  [1]: https://github.com/poetix/protonpack","title":"Collect successive pairs from a stream","body":"<p>The <a href=\"https://github.com/poetix/protonpack\" rel=\"nofollow\">proton-pack library</a> provides the windowed functionnality. Given a Pair class and a Stream, you can do it like this:</p>\n\n<pre><code>Stream&lt;Integer&gt; st = Stream.iterate(0 , x -&gt; x + 1);\nStream&lt;Pair&lt;Integer, Integer&gt;&gt; pairs = StreamUtils.windowed(st, 2, 1)\n                                                  .map(l -&gt; new Pair&lt;&gt;(l.get(0), l.get(1)))\n                                                  .moreStreamOps(...);\n</code></pre>\n\n<p>Now the <code>pairs</code> stream contains:</p>\n\n<pre><code>(0, 1)\n(1, 2)\n(2, 3)\n(3, 4)\n(4, ...) and so on\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5914036,"reputation":5245,"user_id":4653367,"display_name":"John McClean"},"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1458552956,"creation_date":1427662479,"answer_id":29334726,"question_id":20470010,"body_markdown":"You can do this in [cyclops-react][1] (I contribute to this library), using the sliding operator.\r\n\r\n      LazyFutureStream.of( 0, 1, 2, 3, 4 )\r\n                      .sliding(2)\r\n                      .map(Pair::new);\r\n\r\nOr \r\n\r\n       ReactiveSeq.of( 0, 1, 2, 3, 4 )\r\n                      .sliding(2)\r\n                      .map(Pair::new);\r\n\r\nAssuming the Pair constructor can accept a Collection with 2 elements. \r\n\r\nIf you wanted to group by 4, and increment by 2 that is also supported.\r\n\r\n         ReactiveSeq.rangeLong( 0L,Long.MAX_VALUE)\r\n                    .sliding(4,2)\r\n                    .forEach(System.out::println);\r\n\r\nEquivalant static methods for creating a sliding view over java.util.stream.Stream are also provided in cyclops-streams [StreamUtils][3] class.\r\n\r\n           StreamUtils.sliding(Stream.of(1,2,3,4),2)\r\n                      .map(Pair::new);\r\n \r\nNote :- for single-threaded operation ReactiveSeq would be more appropriate. LazyFutureStream extends ReactiveSeq but is primarily geared for concurrent / parallel use (it is a Stream of Futures).\r\n\r\nLazyFutureStream extends ReactiveSeq which extends Seq from the awesome jOOλ (which extends java.util.stream.Stream), so the solutions Lukas&#39; presents would also work with either Stream type. For anyone interested the primary differences between the window / sliding operators are the obvious  relative power / complexity trade off and suitability for use with infinite streams (sliding doesn&#39;t consume the stream, but buffers as it flows). \r\n  \r\n\r\n\r\n  [1]: https://github.com/aol/cyclops-react\r\n  [2]: https://github.com/aol/cyclops/tree/master/cyclops-streams\r\n  [3]: http://static.javadoc.io/com.aol.simplereact/cyclops-react/1.0.0-RC2.2/com/aol/cyclops/util/stream/StreamUtils.html","title":"Collect successive pairs from a stream","body":"<p>You can do this in <a href=\"https://github.com/aol/cyclops-react\" rel=\"nofollow\">cyclops-react</a> (I contribute to this library), using the sliding operator.</p>\n\n<pre><code>  LazyFutureStream.of( 0, 1, 2, 3, 4 )\n                  .sliding(2)\n                  .map(Pair::new);\n</code></pre>\n\n<p>Or </p>\n\n<pre><code>   ReactiveSeq.of( 0, 1, 2, 3, 4 )\n                  .sliding(2)\n                  .map(Pair::new);\n</code></pre>\n\n<p>Assuming the Pair constructor can accept a Collection with 2 elements. </p>\n\n<p>If you wanted to group by 4, and increment by 2 that is also supported.</p>\n\n<pre><code>     ReactiveSeq.rangeLong( 0L,Long.MAX_VALUE)\n                .sliding(4,2)\n                .forEach(System.out::println);\n</code></pre>\n\n<p>Equivalant static methods for creating a sliding view over java.util.stream.Stream are also provided in cyclops-streams <a href=\"http://static.javadoc.io/com.aol.simplereact/cyclops-react/1.0.0-RC2.2/com/aol/cyclops/util/stream/StreamUtils.html\" rel=\"nofollow\">StreamUtils</a> class.</p>\n\n<pre><code>       StreamUtils.sliding(Stream.of(1,2,3,4),2)\n                  .map(Pair::new);\n</code></pre>\n\n<p>Note :- for single-threaded operation ReactiveSeq would be more appropriate. LazyFutureStream extends ReactiveSeq but is primarily geared for concurrent / parallel use (it is a Stream of Futures).</p>\n\n<p>LazyFutureStream extends ReactiveSeq which extends Seq from the awesome jOOλ (which extends java.util.stream.Stream), so the solutions Lukas' presents would also work with either Stream type. For anyone interested the primary differences between the window / sliding operators are the obvious  relative power / complexity trade off and suitability for use with infinite streams (sliding doesn't consume the stream, but buffers as it flows). </p>\n"},{"tags":[],"owner":{"account_id":2250475,"reputation":45,"user_id":1982816,"display_name":"DArt"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1432794067,"creation_date":1432794067,"answer_id":30498650,"question_id":20470010,"body_markdown":"I agree with @aepurniet\r\nbut instead map you have to use mapToObj\r\n\r\n    range(0, 100).mapToObj((i) -&gt; new Pair(i, i+1)).forEach(System.out::println);","title":"Collect successive pairs from a stream","body":"<p>I agree with @aepurniet\nbut instead map you have to use mapToObj</p>\n\n<pre><code>range(0, 100).mapToObj((i) -&gt; new Pair(i, i+1)).forEach(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"down_vote_count":1,"up_vote_count":40,"is_accepted":true,"score":39,"last_activity_date":1448012173,"creation_date":1432957792,"answer_id":30542049,"question_id":20470010,"body_markdown":"My [StreamEx](https://github.com/amaembo/streamex) library which extends standard streams provides a [`pairMap`](http://amaembo.github.io/streamex/javadoc/javax/util/streamex/StreamEx.html#pairMap-java.util.function.BiFunction-) method for all stream types. For primitive streams it does not change the stream type, but can be used to make some calculations. Most common usage is to calculate differences:\r\n\r\n    int[] pairwiseDiffs = IntStreamEx.of(input).pairMap((a, b) -&gt; (b-a)).toArray();\r\n\r\nFor object stream you can create any other object type. My library does not provide any new user-visible data structures like `Pair` (that&#39;s the part of library concept). However if you have your own `Pair` class and want to use it, you can do the following:\r\n\r\n    Stream&lt;Pair&gt; pairs = IntStreamEx.of(input).boxed().pairMap(Pair::new);\r\n\r\nOr if you already have some `Stream`:\r\n\r\n    Stream&lt;Pair&gt; pairs = StreamEx.of(stream).pairMap(Pair::new);\r\n\r\nThis functionality is implemented using [custom spliterator](https://github.com/amaembo/streamex/blob/master/src/main/java/one/util/streamex/PairSpliterator.java). It has quite low overhead and can parallelize nicely. Of course it works with any stream source, not just random access list/array like many other solutions. In many tests it performs really well. [Here&#39;s](https://gist.github.com/amaembo/336df22ea21316feccf1) a JMH benchmark where we find all input values preceding a larger value using different approaches (see [this](https://stackoverflow.com/q/30089761/4856258) question).","title":"Collect successive pairs from a stream","body":"<p>My <a href=\"https://github.com/amaembo/streamex\" rel=\"noreferrer\">StreamEx</a> library which extends standard streams provides a <a href=\"http://amaembo.github.io/streamex/javadoc/javax/util/streamex/StreamEx.html#pairMap-java.util.function.BiFunction-\" rel=\"noreferrer\"><code>pairMap</code></a> method for all stream types. For primitive streams it does not change the stream type, but can be used to make some calculations. Most common usage is to calculate differences:</p>\n\n<pre><code>int[] pairwiseDiffs = IntStreamEx.of(input).pairMap((a, b) -&gt; (b-a)).toArray();\n</code></pre>\n\n<p>For object stream you can create any other object type. My library does not provide any new user-visible data structures like <code>Pair</code> (that's the part of library concept). However if you have your own <code>Pair</code> class and want to use it, you can do the following:</p>\n\n<pre><code>Stream&lt;Pair&gt; pairs = IntStreamEx.of(input).boxed().pairMap(Pair::new);\n</code></pre>\n\n<p>Or if you already have some <code>Stream</code>:</p>\n\n<pre><code>Stream&lt;Pair&gt; pairs = StreamEx.of(stream).pairMap(Pair::new);\n</code></pre>\n\n<p>This functionality is implemented using <a href=\"https://github.com/amaembo/streamex/blob/master/src/main/java/one/util/streamex/PairSpliterator.java\" rel=\"noreferrer\">custom spliterator</a>. It has quite low overhead and can parallelize nicely. Of course it works with any stream source, not just random access list/array like many other solutions. In many tests it performs really well. <a href=\"https://gist.github.com/amaembo/336df22ea21316feccf1\" rel=\"noreferrer\">Here's</a> a JMH benchmark where we find all input values preceding a larger value using different approaches (see <a href=\"https://stackoverflow.com/q/30089761/4856258\">this</a> question).</p>\n"},{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1452356238,"creation_date":1452126149,"answer_id":34645349,"question_id":20470010,"body_markdown":"### Finding successive pairs\r\n\r\nIf you&#39;re willing to use a third party library and don&#39;t need parallelism, then [jOOλ][1] offers SQL-style window functions as follows\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    System.out.println(\r\n    Seq.of(0, 1, 2, 3, 4)\r\n       .window()\r\n       .filter(w -&gt; w.lead().isPresent())\r\n       .map(w -&gt; tuple(w.value(), w.lead().get())) // alternatively, use your new Pair() class\r\n       .toList()\r\n    );\r\n\r\nYielding\r\n\r\n&lt;!-- language: lang-none--&gt;\r\n\r\n    [(0, 1), (1, 2), (2, 3), (3, 4)]\r\n\r\nThe `lead()` function accesses the next value in traversal order from the window.\r\n\r\n### Finding successive triples / quadruples / n-tuples\r\n\r\nA question in the comments was asking for a more general solution, where not pairs but n-tuples (or possibly lists) should be collected. Here&#39;s thus an alternative approach:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    int n = 3;\r\n\r\n    System.out.println(\r\n    Seq.of(0, 1, 2, 3, 4)\r\n       .window(0, n - 1)\r\n       .filter(w -&gt; w.count() == n)\r\n       .map(w -&gt; w.window().toList())\r\n       .toList()\r\n    );\r\n\r\nYielding a list of lists\r\n\r\n&lt;!-- language: lang-none--&gt;\r\n\r\n    [[0, 1, 2], [1, 2, 3], [2, 3, 4]]\r\n\r\nWithout the `filter(w -&gt; w.count() == n)`, the result would be\r\n\r\n&lt;!-- language: lang-none--&gt;\r\n\r\n    [[0, 1, 2], [1, 2, 3], [2, 3, 4], [3, 4], [4]]\r\n\r\nDisclaimer: I work for the company behind jOOλ\r\n\r\n  [1]: https://github.com/jOOQ/jOOL","title":"Collect successive pairs from a stream","body":"<h3>Finding successive pairs</h3>\n\n<p>If you're willing to use a third party library and don't need parallelism, then <a href=\"https://github.com/jOOQ/jOOL\" rel=\"nofollow\">jOOλ</a> offers SQL-style window functions as follows</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(\nSeq.of(0, 1, 2, 3, 4)\n   .window()\n   .filter(w -&gt; w.lead().isPresent())\n   .map(w -&gt; tuple(w.value(), w.lead().get())) // alternatively, use your new Pair() class\n   .toList()\n);\n</code></pre>\n\n<p>Yielding</p>\n\n\n\n<pre><code>[(0, 1), (1, 2), (2, 3), (3, 4)]\n</code></pre>\n\n<p>The <code>lead()</code> function accesses the next value in traversal order from the window.</p>\n\n<h3>Finding successive triples / quadruples / n-tuples</h3>\n\n<p>A question in the comments was asking for a more general solution, where not pairs but n-tuples (or possibly lists) should be collected. Here's thus an alternative approach:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>int n = 3;\n\nSystem.out.println(\nSeq.of(0, 1, 2, 3, 4)\n   .window(0, n - 1)\n   .filter(w -&gt; w.count() == n)\n   .map(w -&gt; w.window().toList())\n   .toList()\n);\n</code></pre>\n\n<p>Yielding a list of lists</p>\n\n\n\n<pre><code>[[0, 1, 2], [1, 2, 3], [2, 3, 4]]\n</code></pre>\n\n<p>Without the <code>filter(w -&gt; w.count() == n)</code>, the result would be</p>\n\n\n\n<pre><code>[[0, 1, 2], [1, 2, 3], [2, 3, 4], [3, 4], [4]]\n</code></pre>\n\n<p>Disclaimer: I work for the company behind jOOλ</p>\n"},{"tags":[],"owner":{"account_id":4093298,"reputation":4962,"user_id":3360759,"display_name":"frhack"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1452431083,"creation_date":1452357935,"answer_id":34696142,"question_id":20470010,"body_markdown":"We can use [RxJava][1] (very powerful [reactive extension][2] library)\r\n\r\n\r\n    IntStream intStream  = IntStream.iterate(1, n -&gt; n + 1);\r\n    \r\n    Observable&lt;List&lt;Integer&gt;&gt; pairObservable = Observable.from(intStream::iterator).buffer(2,1);\r\n\r\n    pairObservable.take(10).forEach(b -&gt; {\r\n                b.forEach(n -&gt; System.out.println(n));\r\n                System.out.println();\r\n            });\r\n\r\n \r\n\r\n&gt; The *buffer* [operator][3] transforms an Observable that\r\n&gt; emits items into an Observable that emits buffered collections of\r\n&gt; those items..\r\n\r\n\r\n  [1]: https://github.com/ReactiveX/RxJava\r\n  [2]: http://reactivex.io/\r\n  [3]: http://reactivex.io/documentation/operators.html \r\n\r\n\r\n","title":"Collect successive pairs from a stream","body":"<p>We can use <a href=\"https://github.com/ReactiveX/RxJava\" rel=\"nofollow\">RxJava</a> (very powerful <a href=\"http://reactivex.io/\" rel=\"nofollow\">reactive extension</a> library)</p>\n\n<pre><code>IntStream intStream  = IntStream.iterate(1, n -&gt; n + 1);\n\nObservable&lt;List&lt;Integer&gt;&gt; pairObservable = Observable.from(intStream::iterator).buffer(2,1);\n\npairObservable.take(10).forEach(b -&gt; {\n            b.forEach(n -&gt; System.out.println(n));\n            System.out.println();\n        });\n</code></pre>\n\n<blockquote>\n  <p>The <em>buffer</em> <a href=\"http://reactivex.io/documentation/operators.html\" rel=\"nofollow\">operator</a> transforms an Observable that\n  emits items into an Observable that emits buffered collections of\n  those items..</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":194909,"reputation":4585,"user_id":437506,"accept_rate":47,"display_name":"Kedar Mhaswade"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1456956332,"creation_date":1456956332,"answer_id":35759085,"question_id":20470010,"body_markdown":"This is an interesting problem. Is my _hybrid_ attempt below any good?\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Integer&gt; list = Arrays.asList(1, 2, 3);\r\n        Iterator&lt;Integer&gt; first = list.iterator();\r\n        first.next();\r\n        if (first.hasNext())\r\n            list.stream()\r\n            .skip(1)\r\n            .map(v -&gt; new Pair(first.next(), v))\r\n            .forEach(System.out::println);\r\n    }\r\n\r\nI believe it does not lend itself to parallel processing, and hence may be disqualified. \r\n","title":"Collect successive pairs from a stream","body":"<p>This is an interesting problem. Is my <em>hybrid</em> attempt below any good?</p>\n\n<pre><code>public static void main(String[] args) {\n    List&lt;Integer&gt; list = Arrays.asList(1, 2, 3);\n    Iterator&lt;Integer&gt; first = list.iterator();\n    first.next();\n    if (first.hasNext())\n        list.stream()\n        .skip(1)\n        .map(v -&gt; new Pair(first.next(), v))\n        .forEach(System.out::println);\n}\n</code></pre>\n\n<p>I believe it does not lend itself to parallel processing, and hence may be disqualified. </p>\n"},{"tags":[],"owner":{"account_id":294985,"reputation":1224,"user_id":599154,"display_name":"Rob Marrowstone"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1476911824,"creation_date":1476911824,"answer_id":40141672,"question_id":20470010,"body_markdown":"As others have observed, there is, due to the nature of the problem, some statefulness required.\r\n\r\nI was faced with a similar problem, in which I wanted what was essentially the Oracle SQL function LEAD. My attempt to implement that is below.\r\n\r\n\r\n    /**\r\n     * Stream that pairs each element in the stream with the next subsequent element.\r\n     * The final pair will have only the first item, the second will be null.\r\n     */\r\n    &lt;T&gt; Spliterator&lt;Pair&lt;T&gt;&gt; lead(final Stream&lt;T&gt; stream)\r\n    {\r\n        final Iterator&lt;T&gt; input = stream.sequential().iterator();\r\n\r\n        final Iterable&lt;Pair&lt;T&gt;&gt; iterable = () -&gt;\r\n        {\r\n            return new Iterator&lt;Pair&lt;T&gt;&gt;()\r\n            {\r\n                Optional&lt;T&gt; current = getOptionalNext(input);\r\n\r\n                @Override\r\n                public boolean hasNext()\r\n                {\r\n                    return current.isPresent();\r\n                }\r\n\r\n                @Override\r\n                public Pair&lt;T&gt; next()\r\n                {\r\n                    Optional&lt;T&gt; next = getOptionalNext(input);\r\n                    final Pair&lt;T&gt; pair = next.isPresent()\r\n                        ? new Pair(current.get(), next.get())\r\n                        : new Pair(current.get(), null);\r\n                    current = next;\r\n\r\n                    return pair;\r\n                }\r\n            };\r\n        };\r\n\r\n        return iterable.spliterator();\r\n    }\r\n\r\n    private &lt;T&gt; Optional&lt;T&gt; getOptionalNext(final Iterator&lt;T&gt; iterator)\r\n    {\r\n        return iterator.hasNext()\r\n            ? Optional.of(iterator.next())\r\n            : Optional.empty();\r\n    }\r\n","title":"Collect successive pairs from a stream","body":"<p>As others have observed, there is, due to the nature of the problem, some statefulness required.</p>\n\n<p>I was faced with a similar problem, in which I wanted what was essentially the Oracle SQL function LEAD. My attempt to implement that is below.</p>\n\n<pre><code>/**\n * Stream that pairs each element in the stream with the next subsequent element.\n * The final pair will have only the first item, the second will be null.\n */\n&lt;T&gt; Spliterator&lt;Pair&lt;T&gt;&gt; lead(final Stream&lt;T&gt; stream)\n{\n    final Iterator&lt;T&gt; input = stream.sequential().iterator();\n\n    final Iterable&lt;Pair&lt;T&gt;&gt; iterable = () -&gt;\n    {\n        return new Iterator&lt;Pair&lt;T&gt;&gt;()\n        {\n            Optional&lt;T&gt; current = getOptionalNext(input);\n\n            @Override\n            public boolean hasNext()\n            {\n                return current.isPresent();\n            }\n\n            @Override\n            public Pair&lt;T&gt; next()\n            {\n                Optional&lt;T&gt; next = getOptionalNext(input);\n                final Pair&lt;T&gt; pair = next.isPresent()\n                    ? new Pair(current.get(), next.get())\n                    : new Pair(current.get(), null);\n                current = next;\n\n                return pair;\n            }\n        };\n    };\n\n    return iterable.spliterator();\n}\n\nprivate &lt;T&gt; Optional&lt;T&gt; getOptionalNext(final Iterator&lt;T&gt; iterator)\n{\n    return iterator.hasNext()\n        ? Optional.of(iterator.next())\n        : Optional.empty();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":229478,"reputation":4806,"user_id":1874113,"accept_rate":67,"display_name":"walkeros"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1478607600,"creation_date":1478607600,"answer_id":40486816,"question_id":20470010,"body_markdown":"You can achieve that by using a bounded queue to store elements which flows through the stream (which is basing on the idea which I described in detail here: https://stackoverflow.com/questions/31650157/is-it-possible-to-get-next-element-in-the-stream/40450777#40450777)\r\n\r\nBelows example first defines instance of BoundedQueue class which will store elements going through the stream (if you don&#39;t like idea of extending the LinkedList, refer to link mentioned above for alternative and more generic approach). Later you just combine two subsequent elements into instance of Pair:\r\n\r\n    public class TwoSubsequentElems {\r\n      public static void main(String[] args) {\r\n        List&lt;Integer&gt; input = new ArrayList&lt;Integer&gt;(asList(0, 1, 2, 3, 4));\r\n    \r\n        class BoundedQueue&lt;T&gt; extends LinkedList&lt;T&gt; {\r\n          public BoundedQueue&lt;T&gt; save(T curElem) {\r\n            if (size() == 2) { // we need to know only two subsequent elements\r\n              pollLast(); // remove last to keep only requested number of elements\r\n            }\r\n    \r\n            offerFirst(curElem);\r\n    \r\n            return this;\r\n          }\r\n    \r\n          public T getPrevious() {\r\n            return (size() &lt; 2) ? null : getLast();\r\n          }\r\n    \r\n          public T getCurrent() {\r\n            return (size() == 0) ? null : getFirst();\r\n          }\r\n        }\r\n\r\n        BoundedQueue&lt;Integer&gt; streamHistory = new BoundedQueue&lt;Integer&gt;();\r\n    \r\n        final List&lt;Pair&lt;Integer&gt;&gt; answer = input.stream()\r\n          .map(i -&gt; streamHistory.save(i))\r\n          .filter(e -&gt; e.getPrevious() != null)\r\n          .map(e -&gt; new Pair&lt;Integer&gt;(e.getPrevious(), e.getCurrent()))\r\n          .collect(Collectors.toList());\r\n    \r\n        answer.forEach(System.out::println);\r\n      }\r\n    }\r\n","title":"Collect successive pairs from a stream","body":"<p>You can achieve that by using a bounded queue to store elements which flows through the stream (which is basing on the idea which I described in detail here: <a href=\"https://stackoverflow.com/questions/31650157/is-it-possible-to-get-next-element-in-the-stream/40450777#40450777\">Is it possible to get next element in the Stream?</a>)</p>\n\n<p>Belows example first defines instance of BoundedQueue class which will store elements going through the stream (if you don't like idea of extending the LinkedList, refer to link mentioned above for alternative and more generic approach). Later you just combine two subsequent elements into instance of Pair:</p>\n\n<pre><code>public class TwoSubsequentElems {\n  public static void main(String[] args) {\n    List&lt;Integer&gt; input = new ArrayList&lt;Integer&gt;(asList(0, 1, 2, 3, 4));\n\n    class BoundedQueue&lt;T&gt; extends LinkedList&lt;T&gt; {\n      public BoundedQueue&lt;T&gt; save(T curElem) {\n        if (size() == 2) { // we need to know only two subsequent elements\n          pollLast(); // remove last to keep only requested number of elements\n        }\n\n        offerFirst(curElem);\n\n        return this;\n      }\n\n      public T getPrevious() {\n        return (size() &lt; 2) ? null : getLast();\n      }\n\n      public T getCurrent() {\n        return (size() == 0) ? null : getFirst();\n      }\n    }\n\n    BoundedQueue&lt;Integer&gt; streamHistory = new BoundedQueue&lt;Integer&gt;();\n\n    final List&lt;Pair&lt;Integer&gt;&gt; answer = input.stream()\n      .map(i -&gt; streamHistory.save(i))\n      .filter(e -&gt; e.getPrevious() != null)\n      .map(e -&gt; new Pair&lt;Integer&gt;(e.getPrevious(), e.getCurrent()))\n      .collect(Collectors.toList());\n\n    answer.forEach(System.out::println);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2613265,"reputation":5567,"user_id":2262972,"accept_rate":84,"display_name":"SamTebbs33"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1490204506,"creation_date":1490204506,"answer_id":42959016,"question_id":20470010,"body_markdown":"You can do this with the Stream.reduce() method (I haven&#39;t seen any other answers using this technique).\r\n\r\n    public static &lt;T&gt; List&lt;Pair&lt;T, T&gt;&gt; consecutive(List&lt;T&gt; list) {\r\n        List&lt;Pair&lt;T, T&gt;&gt; pairs = new LinkedList&lt;&gt;();\r\n        list.stream().reduce((a, b) -&gt; {\r\n            pairs.add(new Pair&lt;&gt;(a, b));\r\n            return b;\r\n        });\r\n        return pairs;\r\n    }","title":"Collect successive pairs from a stream","body":"<p>You can do this with the Stream.reduce() method (I haven't seen any other answers using this technique).</p>\n\n<pre><code>public static &lt;T&gt; List&lt;Pair&lt;T, T&gt;&gt; consecutive(List&lt;T&gt; list) {\n    List&lt;Pair&lt;T, T&gt;&gt; pairs = new LinkedList&lt;&gt;();\n    list.stream().reduce((a, b) -&gt; {\n        pairs.add(new Pair&lt;&gt;(a, b));\n        return b;\n    });\n    return pairs;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2124301,"reputation":241,"user_id":1886883,"display_name":"Rob Philipp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523646466,"creation_date":1498152683,"answer_id":44705940,"question_id":20470010,"body_markdown":"For calculating successive differences in the time (x-values) of a time-series, I use the `stream`&#39;s `collect(...)` method:\r\n\r\n    final List&lt; Long &gt; intervals = timeSeries.data().stream()\r\n\t\t\t\t\t\t.map( TimeSeries.Datum::x )\r\n\t\t\t\t\t\t.collect( DifferenceCollector::new, DifferenceCollector::accept, DifferenceCollector::combine )\r\n\t\t\t\t\t\t.intervals();\r\n\r\nWhere the DifferenceCollector is something like this:\r\n\r\n    public class DifferenceCollector implements LongConsumer\r\n\t{\r\n\t\tprivate final List&lt; Long &gt; intervals = new ArrayList&lt;&gt;();\r\n\t\tprivate Long lastTime;\r\n\r\n\t\t@Override\r\n\t\tpublic void accept( final long time )\r\n\t\t{\r\n\t\t\tif( Objects.isNull( lastTime ) )\r\n\t\t\t{\r\n\t\t\t\tlastTime = time;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tintervals.add( time - lastTime );\r\n\t\t\t\tlastTime = time;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic void combine( final DifferenceCollector other )\r\n\t\t{\r\n\t\t\tintervals.addAll( other.intervals );\r\n\t\t\tlastTime = other.lastTime;\r\n\t\t}\r\n\r\n\t\tpublic List&lt; Long &gt; intervals()\r\n\t\t{\r\n\t\t\treturn intervals;\r\n\t\t}\r\n\t}\r\nYou could probably modify this to suit your needs.","title":"Collect successive pairs from a stream","body":"<p>For calculating successive differences in the time (x-values) of a time-series, I use the <code>stream</code>'s <code>collect(...)</code> method:</p>\n\n<pre><code>final List&lt; Long &gt; intervals = timeSeries.data().stream()\n                    .map( TimeSeries.Datum::x )\n                    .collect( DifferenceCollector::new, DifferenceCollector::accept, DifferenceCollector::combine )\n                    .intervals();\n</code></pre>\n\n<p>Where the DifferenceCollector is something like this:</p>\n\n<pre><code>public class DifferenceCollector implements LongConsumer\n{\n    private final List&lt; Long &gt; intervals = new ArrayList&lt;&gt;();\n    private Long lastTime;\n\n    @Override\n    public void accept( final long time )\n    {\n        if( Objects.isNull( lastTime ) )\n        {\n            lastTime = time;\n        }\n        else\n        {\n            intervals.add( time - lastTime );\n            lastTime = time;\n        }\n    }\n\n    public void combine( final DifferenceCollector other )\n    {\n        intervals.addAll( other.intervals );\n        lastTime = other.lastTime;\n    }\n\n    public List&lt; Long &gt; intervals()\n    {\n        return intervals;\n    }\n}\n</code></pre>\n\n<p>You could probably modify this to suit your needs.</p>\n"},{"tags":[],"owner":{"account_id":3691593,"reputation":1094,"user_id":3074057,"display_name":"Beezer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1554303752,"creation_date":1554303752,"answer_id":55498337,"question_id":20470010,"body_markdown":"I finally figured out a way of tricking the Stream.reduce to be able to neatly deal with pairs of values; there are a multitude of use cases that require this facility which does not appear *naturally* in JDK 8:\r\n\r\n    public static int ArithGeo(int[] arr) {\r\n        //Geometric\r\n        List&lt;Integer&gt; diffList = new ArrayList&lt;&gt;();\r\n        List&lt;Integer&gt; divList = new ArrayList&lt;&gt;();\r\n        Arrays.stream(arr).reduce((left, right) -&gt; {\r\n            diffList.add(right-left);\r\n            divList.add(right/left);\r\n            return right;\r\n        });\r\n        //Arithmetic\r\n        if(diffList.stream().distinct().count() == 1) {\r\n            return 1;\r\n        }\r\n        //Geometric\r\n        if(divList.stream().distinct().count() == 1) {\r\n            return 2;\r\n        }\r\n        return -1;\r\n    }\r\nThe trick i use is the **return right;** statement.","title":"Collect successive pairs from a stream","body":"<p>I finally figured out a way of tricking the Stream.reduce to be able to neatly deal with pairs of values; there are a multitude of use cases that require this facility which does not appear <em>naturally</em> in JDK 8:</p>\n\n<pre><code>public static int ArithGeo(int[] arr) {\n    //Geometric\n    List&lt;Integer&gt; diffList = new ArrayList&lt;&gt;();\n    List&lt;Integer&gt; divList = new ArrayList&lt;&gt;();\n    Arrays.stream(arr).reduce((left, right) -&gt; {\n        diffList.add(right-left);\n        divList.add(right/left);\n        return right;\n    });\n    //Arithmetic\n    if(diffList.stream().distinct().count() == 1) {\n        return 1;\n    }\n    //Geometric\n    if(divList.stream().distinct().count() == 1) {\n        return 2;\n    }\n    return -1;\n}\n</code></pre>\n\n<p>The trick i use is the <strong>return right;</strong> statement.</p>\n"},{"tags":[],"owner":{"account_id":1164345,"reputation":22755,"user_id":1143274,"accept_rate":56,"display_name":"Evgeni Sergeev"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1567825158,"creation_date":1567825158,"answer_id":57830330,"question_id":20470010,"body_markdown":"[`Streams.zip(..)` is available in Guava][1], for those who depend on it.\r\n\r\nExample:\r\n\r\n    Streams.zip(list.stream(),\r\n                list.stream().skip(1),\r\n                (a, b) -&gt; System.out.printf(&quot;%s %s\\n&quot;, a, b));\r\n\r\n\r\n  [1]: https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/collect/Streams.html#zip-java.util.stream.Stream-java.util.stream.Stream-java.util.function.BiFunction-","title":"Collect successive pairs from a stream","body":"<p><a href=\"https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/collect/Streams.html#zip-java.util.stream.Stream-java.util.stream.Stream-java.util.function.BiFunction-\" rel=\"noreferrer\"><code>Streams.zip(..)</code> is available in Guava</a>, for those who depend on it.</p>\n\n<p>Example:</p>\n\n<pre><code>Streams.zip(list.stream(),\n            list.stream().skip(1),\n            (a, b) -&gt; System.out.printf(\"%s %s\\n\", a, b));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1107571,"reputation":3147,"user_id":1104885,"display_name":"Roger Keays"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656059232,"creation_date":1656059232,"answer_id":72741122,"question_id":20470010,"body_markdown":"The solutions here seem a little complicated or depend on third-party libraries. This problem can be solved with an intermediate stream which collect pairs:\r\n\r\n    public static &lt;T&gt; Stream&lt;List&lt;T&gt;&gt; pairs(Stream&lt;T&gt; stream) {\r\n        Iterator&lt;T&gt; iterator = stream.iterator();\r\n        if (iterator.hasNext()) {\r\n            T first = iterator.next();\r\n            if (iterator.hasNext()) {\r\n                return Stream.iterate(\r\n                    List.of(first, iterator.next()),\r\n                    prev -&gt; iterator.hasNext() ? List.of(prev.get(1), iterator.next()) : null)\r\n                    .takeWhile(prev -&gt; prev != null);\r\n            }\r\n        }\r\n        return Stream.empty();\r\n    }\r\n\r\nExamples:\r\n\r\n    pairs(Stream.of()).toList();      // []\r\n    pairs(Stream.of(1)).toList();     // []\r\n    pairs(Stream.of(1,2)).toList();   // [[1, 2]]\r\n    pairs(Stream.of(1,2,3)).toList(); // [[1, 2], [2, 3]]\r\n    pairs(Stream.of(&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;)).toList();  // [[a, b], [b, c], [c, d]]\r\n\r\nIn this solution, `Stream.iterate`is using an accumulator in much the same way as `reduce`, except it creates an intermediate stream rather than being a terminal operation. So laziness and infinite streams are supported.","title":"Collect successive pairs from a stream","body":"<p>The solutions here seem a little complicated or depend on third-party libraries. This problem can be solved with an intermediate stream which collect pairs:</p>\n<pre><code>public static &lt;T&gt; Stream&lt;List&lt;T&gt;&gt; pairs(Stream&lt;T&gt; stream) {\n    Iterator&lt;T&gt; iterator = stream.iterator();\n    if (iterator.hasNext()) {\n        T first = iterator.next();\n        if (iterator.hasNext()) {\n            return Stream.iterate(\n                List.of(first, iterator.next()),\n                prev -&gt; iterator.hasNext() ? List.of(prev.get(1), iterator.next()) : null)\n                .takeWhile(prev -&gt; prev != null);\n        }\n    }\n    return Stream.empty();\n}\n</code></pre>\n<p>Examples:</p>\n<pre><code>pairs(Stream.of()).toList();      // []\npairs(Stream.of(1)).toList();     // []\npairs(Stream.of(1,2)).toList();   // [[1, 2]]\npairs(Stream.of(1,2,3)).toList(); // [[1, 2], [2, 3]]\npairs(Stream.of(&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;)).toList();  // [[a, b], [b, c], [c, d]]\n</code></pre>\n<p>In this solution, <code>Stream.iterate</code>is using an accumulator in much the same way as <code>reduce</code>, except it creates an intermediate stream rather than being a terminal operation. So laziness and infinite streams are supported.</p>\n"},{"tags":[],"owner":{"account_id":11906341,"reputation":21,"user_id":8712803,"display_name":"Jan Porowski"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1672744327,"creation_date":1672744327,"answer_id":74992578,"question_id":20470010,"body_markdown":"You could use Flux:\r\n\r\n    Stream&lt;String&gt; someStream = Stream.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;);\r\n    Flux&lt;String&gt; someFlux = Flux.fromStream(someStream);\r\n\r\n    someFlux.zipWith(someFlux.skip(1))\r\n        .map(t -&gt; t.getT1().concat(t.getT2()))\r\n        .subscribe(System.out::println);\r\nThe result would be:\r\n\r\n    AB\r\n    BC\r\n    CD","title":"Collect successive pairs from a stream","body":"<p>You could use Flux:</p>\n<pre><code>Stream&lt;String&gt; someStream = Stream.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;);\nFlux&lt;String&gt; someFlux = Flux.fromStream(someStream);\n\nsomeFlux.zipWith(someFlux.skip(1))\n    .map(t -&gt; t.getT1().concat(t.getT2()))\n    .subscribe(System.out::println);\n</code></pre>\n<p>The result would be:</p>\n<pre><code>AB\nBC\nCD\n</code></pre>\n"}],"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90282,"favorite_count":0,"down_vote_count":1,"up_vote_count":121,"accepted_answer_id":30542049,"answer_count":22,"score":120,"last_activity_date":1672744327,"creation_date":1386590104,"question_id":20470010,"body_markdown":"Given a stream such as `{ 0, 1, 2, 3, 4 }`, \r\n\r\nhow can I most elegantly transform it into given form:\r\n\r\n`{ new Pair(0, 1), new Pair(1, 2), new Pair(2, 3), new Pair(3, 4) }` \r\n\r\n(assuming, of course, I&#39;ve defined class Pair)?\r\n\r\n**Edit:** This isn&#39;t strictly about ints or primitive streams. The answer should be general for a stream of any type.","title":"Collect successive pairs from a stream","body":"<p>Given a stream such as <code>{ 0, 1, 2, 3, 4 }</code>, </p>\n\n<p>how can I most elegantly transform it into given form:</p>\n\n<p><code>{ new Pair(0, 1), new Pair(1, 2), new Pair(2, 3), new Pair(3, 4) }</code> </p>\n\n<p>(assuming, of course, I've defined class Pair)?</p>\n\n<p><strong>Edit:</strong> This isn't strictly about ints or primitive streams. The answer should be general for a stream of any type.</p>\n"},{"tags":["java","spring","hibernate","logging","multi-tenant"],"answers":[{"tags":[],"owner":{"account_id":96393,"reputation":23995,"user_id":262022,"accept_rate":87,"display_name":"radai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1395124992,"creation_date":1395124992,"answer_id":22472092,"question_id":22471908,"body_markdown":"you can use MDC (mapped diagnostic context) support to route logging for each tenant into a separate file/dir/whatever.\r\n\r\nyou can read up on the concept [here][1]. it exists in slf4/logback and log4j\r\n\r\nsimply put, you set some property like tenantName in the MDC at the beginning of every request processing according to the specific tenant making the request and then use this property in your logging configuration to determine the log file into which log messages are written.\r\n\r\n\r\n  [1]: http://logback.qos.ch/manual/mdc.html","title":"Implementing logging in multi-tenant application","body":"<p>you can use MDC (mapped diagnostic context) support to route logging for each tenant into a separate file/dir/whatever.</p>\n\n<p>you can read up on the concept <a href=\"http://logback.qos.ch/manual/mdc.html\" rel=\"nofollow\">here</a>. it exists in slf4/logback and log4j</p>\n\n<p>simply put, you set some property like tenantName in the MDC at the beginning of every request processing according to the specific tenant making the request and then use this property in your logging configuration to determine the log file into which log messages are written.</p>\n"}],"owner":{"account_id":1176664,"reputation":20820,"user_id":1152500,"accept_rate":47,"display_name":"Anand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4483,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":22472092,"answer_count":1,"score":0,"last_activity_date":1672743877,"creation_date":1395124308,"question_id":22471908,"body_markdown":"I am very much new to **multi-tenancy**. We have an application based on Java, Spring, Hibernate/JPA etc. which doesn&#39;t support *multi-tenancy*.\r\n\r\nNow, we want to convert that application into *multi-tenant* one. I have read about multi-tenancy and even wrote one standalone application using hibernate with separate schema approach. Link referred is [here](http://docs.jboss.org/hibernate/orm/4.1/devguide/en-US/html/ch16.html).\r\n\r\nI think about the *logging* part which is bound to be changed now as log files will be maintained per tenant(client) now. So, for each tenant a separate log file will be there.Also, log file for a particular tenant shouldn&#39;t be accessed by another tenant.\r\n\r\nIs there any logging API specific to support multi-tenancy? If not, how should i go ahead with implementing logging in multi-tenant application? What should be taken care of while implementing logging in multi-tenant application.","title":"Implementing logging in multi-tenant application","body":"<p>I am very much new to <strong>multi-tenancy</strong>. We have an application based on Java, Spring, Hibernate/JPA etc. which doesn't support <em>multi-tenancy</em>.</p>\n\n<p>Now, we want to convert that application into <em>multi-tenant</em> one. I have read about multi-tenancy and even wrote one standalone application using hibernate with separate schema approach. Link referred is <a href=\"http://docs.jboss.org/hibernate/orm/4.1/devguide/en-US/html/ch16.html\" rel=\"nofollow\">here</a>.</p>\n\n<p>I think about the <em>logging</em> part which is bound to be changed now as log files will be maintained per tenant(client) now. So, for each tenant a separate log file will be there.Also, log file for a particular tenant shouldn't be accessed by another tenant.</p>\n\n<p>Is there any logging API specific to support multi-tenancy? If not, how should i go ahead with implementing logging in multi-tenant application? What should be taken care of while implementing logging in multi-tenant application.</p>\n"},{"tags":["java","jboss","jboss5.x"],"answers":[{"tags":[],"owner":{"account_id":109059,"reputation":20712,"user_id":289171,"accept_rate":100,"display_name":"CoolBeans"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1365517370,"creation_date":1365516161,"answer_id":15904057,"question_id":15903784,"body_markdown":"The issue seems to be that your JAVA_HOME environment variable is not set to a `JDK`. Your screen shot shows a `JRE` for the JAVA_HOME. Switch that to a JDK and re-try starting JBoss. \r\n\r\nAlso the JAVA_HOME should be in your PATH environment variable. \r\n\r\nAlternatively you can manually set the JAVA_HOME in the `run.conf.bat` file","title":"Not able to start Jboss Server on run.bat","body":"<p>The issue seems to be that your JAVA_HOME environment variable is not set to a <code>JDK</code>. Your screen shot shows a <code>JRE</code> for the JAVA_HOME. Switch that to a JDK and re-try starting JBoss. </p>\n\n<p>Also the JAVA_HOME should be in your PATH environment variable. </p>\n\n<p>Alternatively you can manually set the JAVA_HOME in the <code>run.conf.bat</code> file</p>\n"},{"tags":[],"owner":{"account_id":22157532,"reputation":1,"user_id":16405045,"display_name":"abhimanyu thakur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672743647,"creation_date":1672743647,"answer_id":74992436,"question_id":15903784,"body_markdown":"your java path is not set to jdk and you have to configure java path in as java_home in standalone.conf.bat\r\nand start with run.bat\r\n","title":"Not able to start Jboss Server on run.bat","body":"<p>your java path is not set to jdk and you have to configure java path in as java_home in standalone.conf.bat\nand start with run.bat</p>\n"}],"owner":{"account_id":1513513,"reputation":8310,"user_id":1415064,"accept_rate":82,"display_name":"AppSensei"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3806,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":15904057,"answer_count":2,"score":2,"last_activity_date":1672743647,"creation_date":1365515477,"question_id":15903784,"body_markdown":"I&#39;m getting a ClassNotFoundException when I run the JBoss Server using run.bat.\r\n\r\n![enter image description here][1]\r\n![enter image description here][2]\r\n\r\n\r\n**Updated**: \r\n\r\n![enter image description here][3]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/yZDEy.png\r\n  [2]: http://i.stack.imgur.com/9Ixpi.png\r\n  [3]: http://i.stack.imgur.com/avZze.png","title":"Not able to start Jboss Server on run.bat","body":"<p>I'm getting a ClassNotFoundException when I run the JBoss Server using run.bat.</p>\n\n<p><img src=\"https://i.stack.imgur.com/yZDEy.png\" alt=\"enter image description here\">\n<img src=\"https://i.stack.imgur.com/9Ixpi.png\" alt=\"enter image description here\"></p>\n\n<p><strong>Updated</strong>: </p>\n\n<p><img src=\"https://i.stack.imgur.com/avZze.png\" alt=\"enter image description here\"></p>\n"},{"tags":["java","regex","sonarqube"],"comments":[{"owner":{"account_id":4739783,"reputation":612575,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":2,"creation_date":1672743389,"post_id":74992375,"comment_id":132338944,"body_markdown":"Although the pattern is good (there is no error with the regex, there is an error in sonar if it flags it), the non-capturing group could make it better: `&quot;\\\\s*(?:,\\\\s*)+&quot;`. However, `&quot;\\\\s*,[,\\\\s]*&quot;` will probably solve the sonar issue.","body":"Although the pattern is good (there is no error with the regex, there is an error in sonar if it flags it), the non-capturing group could make it better: <code>&quot;\\\\s*(?:,\\\\s*)+&quot;</code>. However, <code>&quot;\\\\s*,[,\\\\s]*&quot;</code> will probably solve the sonar issue."}],"owner":{"account_id":5535283,"reputation":173,"user_id":4393846,"accept_rate":50,"display_name":"Sravan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672743269,"creation_date":1672743269,"question_id":74992375,"body_markdown":"I am new to sonar &amp; regex and it has shown the below line of code as error.\r\n\r\n    propHosts.split(&quot;\\\\s*(,\\\\s*)+&quot;)\r\n\r\nI am not sure what &quot;propHosts&quot; value is, as it is an environmental variable.\r\n\r\nThe above regex is giving &quot;comma&quot; as the split character. Making changes to the above regex can stop giving me the error in sonar but it can fail in server as we don&#39;t know what it stores.\r\n\r\nCan any one help me with this in what can be a better replacement for the above regex.\r\n\r\nThank you.\r\n\r\n","title":"Denial of Service (DoS) - Make sure the regex used here, which is vulnerable to polynomial runtime due to backtracking","body":"<p>I am new to sonar &amp; regex and it has shown the below line of code as error.</p>\n<pre><code>propHosts.split(&quot;\\\\s*(,\\\\s*)+&quot;)\n</code></pre>\n<p>I am not sure what &quot;propHosts&quot; value is, as it is an environmental variable.</p>\n<p>The above regex is giving &quot;comma&quot; as the split character. Making changes to the above regex can stop giving me the error in sonar but it can fail in server as we don't know what it stores.</p>\n<p>Can any one help me with this in what can be a better replacement for the above regex.</p>\n<p>Thank you.</p>\n"},{"tags":["java","http","angular15"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1672743412,"post_id":74992318,"comment_id":132338950,"body_markdown":"I&#39;m not sure why you are creating an a-tag, click and destroy it again instead of just executing an ajax request but I&#39;m no Angular expert so there might be a reason for this. As for the download: Did you try calling the download url directly in your browser and did that work? Did you try with an arbitrary binary media type instead of &quot;java-archive&quot; and maybe also without any extension? Jar-files are essentially zip-files so there might be some deflating going on. Also, did you try and do spot comparisons of the source and downloaded files, e.g. via some hex viewer?","body":"I&#39;m not sure why you are creating an a-tag, click and destroy it again instead of just executing an ajax request but I&#39;m no Angular expert so there might be a reason for this. As for the download: Did you try calling the download url directly in your browser and did that work? Did you try with an arbitrary binary media type instead of &quot;java-archive&quot; and maybe also without any extension? Jar-files are essentially zip-files so there might be some deflating going on. Also, did you try and do spot comparisons of the source and downloaded files, e.g. via some hex viewer?"},{"owner":{"account_id":27419259,"reputation":1,"user_id":20917968,"display_name":"Sven Eckert"},"score":0,"creation_date":1672749224,"post_id":74992318,"comment_id":132340751,"body_markdown":"A for the a-tag thing, I originally had the problem with naming the files so i used this as a workaround to set the filename via the download attribute. \nI tried calling the url directly and the resulting file, tho unnamed, has the correct size and when i rename it to it&#39;s intended name, everything seems to work. I&#39;ll look into this a bit more but this seems to be a possible fix for this problem. Thank you very much","body":"A for the a-tag thing, I originally had the problem with naming the files so i used this as a workaround to set the filename via the download attribute.  I tried calling the url directly and the resulting file, tho unnamed, has the correct size and when i rename it to it&#39;s intended name, everything seems to work. I&#39;ll look into this a bit more but this seems to be a possible fix for this problem. Thank you very much"},{"owner":{"account_id":27419259,"reputation":1,"user_id":20917968,"display_name":"Sven Eckert"},"score":1,"creation_date":1672754435,"post_id":74992318,"comment_id":132342409,"body_markdown":"It seems the problem was cause by the httpClient&#39;s get request. For some reason my response always got parsed into json and then back into an object, this was the cause of the problem. I made sure to use an overload of the httpclient&#39;s get request which uses the responseType &#39;blob&#39; and it works just fine now.\nI also checked the checksum of the files which are now perfectly matching.\nI think this question can be closed.\nThank you very much for the great response","body":"It seems the problem was cause by the httpClient&#39;s get request. For some reason my response always got parsed into json and then back into an object, this was the cause of the problem. I made sure to use an overload of the httpclient&#39;s get request which uses the responseType &#39;blob&#39; and it works just fine now. I also checked the checksum of the files which are now perfectly matching. I think this question can be closed. Thank you very much for the great response"}],"owner":{"account_id":27419259,"reputation":1,"user_id":20917968,"display_name":"Sven Eckert"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672743100,"creation_date":1672742911,"question_id":74992318,"body_markdown":"I have set up a simple front- &amp; backend project for browsing &amp; downloading files.\r\n\r\nMy backend server is written in java and the frontend is an angular application.\r\n\r\nThe backend has a path to a directory which it exposes to the frontend. The use can then use the frontend to navigate through the directories which are exposed by my backend.\r\n\r\nNow I have set up a simple file download, which works fine without any problems EXCEPT when I try to download a jar-archive from the backend.\r\nWhen I try to download a .jar file, the downloaded file ends up being way larger than expected. For example: I want to download a 18mb .jar file and it ends up downloading a 30mb .jar file instead.\r\n\r\nI&#39;m pretty much at the end of my wits when it comes to this problem, as I&#39;m still new to the Frontend &amp; web environment, please keep that in mind. Thank you.\r\n\r\nWhat makes this Problem even more confusing for me is that my response-header shows the correct Content length and the correct amount of transferred bytes, matching my expected file-size (see attached images).\r\nI also tried to apply the &quot;application/java-archive&quot; MediaType to both my Request and Response headers but this didn&#39;t fix the problem.\r\n\r\nI hope i provided most of the Information needed to fix this, but just in case, here is the relevant code:\r\n\r\nBackend:\r\n`\r\n```\r\n/** Snippet by @fateddy - https://stackoverflow.com/a/35683261\r\n *\r\n * @param path the path to the file as a String\r\n * @return a resource representing the file to download\r\n */\r\n@GetMapping(&quot;/browsable/download&quot;)\r\npublic  ResponseEntity&lt;Resource&gt; getFile(@RequestParam (required = true) String path) {\r\n   String pathToFile = ROOT_PATH + File.separator + path;\r\n   Path pathTMP = Paths.get(pathToFile); // Temporary Path-Object\r\n   File file = new File(pathToFile);\r\n   HttpHeaders headers = new HttpHeaders();\r\n   MediaType mediatype = MediaType.APPLICATION_OCTET_STREAM;\r\n\r\n   if (resolveFileExtension(file).equals(&quot;.jar&quot;)){ // custom mediaType for .jar files\r\n      mediatype = MediaType.parseMediaType(&quot;application/java-archive&quot;);\r\n   }\r\n   try {\r\n      ByteArrayResource resource = new ByteArrayResource(Files.readAllBytes(pathTMP));\r\n      return ResponseEntity.ok()\r\n            .headers(headers)\r\n            .contentLength(file.length())\r\n            .contentType(mediatype)\r\n            .body(resource);\r\n   } catch (IOException e) {\r\n      System.err.println(&quot;Something went wrong&quot;);\r\n      throw new RuntimeException(e);\r\n   }\r\n}\r\n```\r\n`\r\n\r\nwhich is called by my frontend code: \r\n`\r\n```\r\n  /**\r\n   * The wrapper function for Requesting a file Download\r\n   * Called by the HTMLElements of the &quot;Files&quot;-Part of the filebrowser\r\n   * @param fileClicked the file which is to be downloaded\r\n   */\r\n  requestFile(fileClicked: string) {\r\n    if (this.currentURL === &#39;&#39;) {\r\n      var url = fileClicked;\r\n    } else {\r\n      var url = this.currentURL + this.pathSeperator + fileClicked; // The full URL of the Child directory\r\n    }\r\n    this.dl_filename = fileClicked;\r\n    this.mediaType = &#39;application/octet-stream&#39;;\r\n    if (this.resolveFileExtension(fileClicked) == &#39;.jar&#39;) {\r\n      this.mediaType = &#39;application/java-archive&#39;; // apply custom mediaType for .jar files\r\n    }\r\n    this.http\r\n      .downloadFile(url, this.mediaType)\r\n      .subscribe(this.observerDOWNLOAD); // Call the Server and download the file -&gt; calls download() inside the Observer\r\n  }\r\n```\r\n`\r\nthen in the httpService:\r\n`\r\n```\r\n  /**\r\n   * Calls the /download Endpoint to request a download of the given file\r\n   * @param filePath The relative path to the file which was requested for Download\r\n   * @returns An Observable containing the response of the Server (aka. the File as an Observable)\r\n   */\r\n  downloadFile(filePath: string, mediaType: string) {\r\n    var httpOptions = {};\r\n    httpOptions = {\r\n      params: new HttpParams().set(&#39;path&#39;, filePath),\r\n      responseType: mediaType\r\n    };\r\n    const url = `${environment.serverUrl}/browsable/download`;\r\n    const result = this.http.get(url, httpOptions);\r\n    return result;\r\n  }\r\n}\r\n```\r\n`\r\n\r\nand finally downloaded: \r\n`\r\n```\r\n  /**\r\n   * Downloads the given file inside a newly-created, hidden, a-tag-HTMLElement, which is destroyed afterwards\r\n   * Called by the Observer responsible for downloads\r\n   * @param response an Observable representing the File\r\n   */\r\n  download(response: any) {\r\n    // Create a blob representing the File - https://stackblitz.com/edit/angular-blob-file-download?file=app%2Fapp.component.ts for more info\r\n    // &quot;Blobs represent data that isn&#39;t necessarily in a JavaScript-native format.&quot;\r\n    const blob = new Blob([response], { type: this.mediaType });\r\n    const url = window.URL.createObjectURL(blob);\r\n    /** Workaround for FileDownload | Snippet customized from @Kol - https://stackoverflow.com/a/19328891\r\n      1 - Create a hidden &lt;a&gt; tag.\r\n      2 - Set its href attribute to the blob&#39;s URL.\r\n      3 - Set its download attribute to the filename.\r\n      4 - Click on the &lt;a&gt; tag.\r\n       */\r\n    var a = document.createElement(&#39;a&#39;);\r\n    document.body.appendChild(a);\r\n    a.className = &#39;hidden&#39;;\r\n    a.href = url;\r\n    a.download = this.dl_filename;\r\n    a.click();\r\n    window.URL.revokeObjectURL(url);\r\n    a.remove();\r\n  }\r\n```\r\n`\r\n\r\nAnd here is the picture of my request &amp; response: (here the resulting jar file is ~30mb)\r\n[GET-request](https://i.stack.imgur.com/5slKf.png)\r\n\r\n![request &amp; response](https://i.stack.imgur.com/BsjlY.png)\r\n","title":"jar-archive corrupted after download","body":"<p>I have set up a simple front- &amp; backend project for browsing &amp; downloading files.</p>\n<p>My backend server is written in java and the frontend is an angular application.</p>\n<p>The backend has a path to a directory which it exposes to the frontend. The use can then use the frontend to navigate through the directories which are exposed by my backend.</p>\n<p>Now I have set up a simple file download, which works fine without any problems EXCEPT when I try to download a jar-archive from the backend.\nWhen I try to download a .jar file, the downloaded file ends up being way larger than expected. For example: I want to download a 18mb .jar file and it ends up downloading a 30mb .jar file instead.</p>\n<p>I'm pretty much at the end of my wits when it comes to this problem, as I'm still new to the Frontend &amp; web environment, please keep that in mind. Thank you.</p>\n<p>What makes this Problem even more confusing for me is that my response-header shows the correct Content length and the correct amount of transferred bytes, matching my expected file-size (see attached images).\nI also tried to apply the &quot;application/java-archive&quot; MediaType to both my Request and Response headers but this didn't fix the problem.</p>\n<p>I hope i provided most of the Information needed to fix this, but just in case, here is the relevant code:</p>\n<p>Backend:\n`</p>\n<pre><code>/** Snippet by @fateddy - https://stackoverflow.com/a/35683261\n *\n * @param path the path to the file as a String\n * @return a resource representing the file to download\n */\n@GetMapping(&quot;/browsable/download&quot;)\npublic  ResponseEntity&lt;Resource&gt; getFile(@RequestParam (required = true) String path) {\n   String pathToFile = ROOT_PATH + File.separator + path;\n   Path pathTMP = Paths.get(pathToFile); // Temporary Path-Object\n   File file = new File(pathToFile);\n   HttpHeaders headers = new HttpHeaders();\n   MediaType mediatype = MediaType.APPLICATION_OCTET_STREAM;\n\n   if (resolveFileExtension(file).equals(&quot;.jar&quot;)){ // custom mediaType for .jar files\n      mediatype = MediaType.parseMediaType(&quot;application/java-archive&quot;);\n   }\n   try {\n      ByteArrayResource resource = new ByteArrayResource(Files.readAllBytes(pathTMP));\n      return ResponseEntity.ok()\n            .headers(headers)\n            .contentLength(file.length())\n            .contentType(mediatype)\n            .body(resource);\n   } catch (IOException e) {\n      System.err.println(&quot;Something went wrong&quot;);\n      throw new RuntimeException(e);\n   }\n}\n</code></pre>\n<p>`</p>\n<p>which is called by my frontend code:\n`</p>\n<pre><code>  /**\n   * The wrapper function for Requesting a file Download\n   * Called by the HTMLElements of the &quot;Files&quot;-Part of the filebrowser\n   * @param fileClicked the file which is to be downloaded\n   */\n  requestFile(fileClicked: string) {\n    if (this.currentURL === '') {\n      var url = fileClicked;\n    } else {\n      var url = this.currentURL + this.pathSeperator + fileClicked; // The full URL of the Child directory\n    }\n    this.dl_filename = fileClicked;\n    this.mediaType = 'application/octet-stream';\n    if (this.resolveFileExtension(fileClicked) == '.jar') {\n      this.mediaType = 'application/java-archive'; // apply custom mediaType for .jar files\n    }\n    this.http\n      .downloadFile(url, this.mediaType)\n      .subscribe(this.observerDOWNLOAD); // Call the Server and download the file -&gt; calls download() inside the Observer\n  }\n</code></pre>\n<p><code>then in the httpService:</code></p>\n<pre><code>  /**\n   * Calls the /download Endpoint to request a download of the given file\n   * @param filePath The relative path to the file which was requested for Download\n   * @returns An Observable containing the response of the Server (aka. the File as an Observable)\n   */\n  downloadFile(filePath: string, mediaType: string) {\n    var httpOptions = {};\n    httpOptions = {\n      params: new HttpParams().set('path', filePath),\n      responseType: mediaType\n    };\n    const url = `${environment.serverUrl}/browsable/download`;\n    const result = this.http.get(url, httpOptions);\n    return result;\n  }\n}\n</code></pre>\n<p>`</p>\n<p>and finally downloaded:\n`</p>\n<pre><code>  /**\n   * Downloads the given file inside a newly-created, hidden, a-tag-HTMLElement, which is destroyed afterwards\n   * Called by the Observer responsible for downloads\n   * @param response an Observable representing the File\n   */\n  download(response: any) {\n    // Create a blob representing the File - https://stackblitz.com/edit/angular-blob-file-download?file=app%2Fapp.component.ts for more info\n    // &quot;Blobs represent data that isn't necessarily in a JavaScript-native format.&quot;\n    const blob = new Blob([response], { type: this.mediaType });\n    const url = window.URL.createObjectURL(blob);\n    /** Workaround for FileDownload | Snippet customized from @Kol - https://stackoverflow.com/a/19328891\n      1 - Create a hidden &lt;a&gt; tag.\n      2 - Set its href attribute to the blob's URL.\n      3 - Set its download attribute to the filename.\n      4 - Click on the &lt;a&gt; tag.\n       */\n    var a = document.createElement('a');\n    document.body.appendChild(a);\n    a.className = 'hidden';\n    a.href = url;\n    a.download = this.dl_filename;\n    a.click();\n    window.URL.revokeObjectURL(url);\n    a.remove();\n  }\n</code></pre>\n<p>`</p>\n<p>And here is the picture of my request &amp; response: (here the resulting jar file is ~30mb)\n<a href=\"https://i.stack.imgur.com/5slKf.png\" rel=\"nofollow noreferrer\">GET-request</a></p>\n<p><img src=\"https://i.stack.imgur.com/BsjlY.png\" alt=\"request &amp; response\" /></p>\n"},{"tags":["java","excel","spring","spring-boot","resttemplate"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1672759718,"post_id":74992304,"comment_id":132344239,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":24749406,"reputation":1,"user_id":18635124,"display_name":"Naresh Gandikota"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672742844,"creation_date":1672742844,"question_id":74992304,"body_markdown":"I want to read base64 response coming by hitting a rest Api. next decoding the base64 response and converting into excel file. How can I do this using rest template.\r\n\r\nI am hitting an Api through rest Template exchange method. now need to store that base64 response and converting it.","title":"converting base64 response getting from Api to excel file in java","body":"<p>I want to read base64 response coming by hitting a rest Api. next decoding the base64 response and converting into excel file. How can I do this using rest template.</p>\n<p>I am hitting an Api through rest Template exchange method. now need to store that base64 response and converting it.</p>\n"},{"tags":["java","apache-spark"],"comments":[{"owner":{"account_id":325703,"reputation":28507,"user_id":647053,"display_name":"Ram Ghadiyaram"},"score":0,"creation_date":1586128994,"post_id":61049853,"comment_id":108006563,"body_markdown":"hi check my answer you might be facing issue with java version HADOOP-14586","body":"hi check my answer you might be facing issue with java version HADOOP-14586"}],"answers":[{"tags":[],"owner":{"account_id":325703,"reputation":28507,"user_id":647053,"display_name":"Ram Ghadiyaram"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1586133076,"creation_date":1586128923,"answer_id":61050792,"question_id":61049853,"body_markdown":"I am using spark 2.4.5 and jdk1.8.0_181 its working fine for me\r\n\r\n````\r\npackage examples;\r\n\r\n\r\n\r\nimport org.apache.spark.SparkConf;\r\nimport org.apache.spark.api.java.JavaRDD;\r\nimport org.apache.spark.api.java.JavaSparkContext;\r\nimport org.apache.spark.sql.SparkSession;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n\r\n\r\npublic class SparkTest {\r\n  public static final SparkConf SPARK_CONFIGURATION = new SparkConf().setAppName(&quot;MOSDEX&quot;).setMaster(&quot;local[*]&quot;);\r\n  public static final JavaSparkContext SPARK_CONTEXT= new JavaSparkContext(SPARK_CONFIGURATION);\r\n  public static final SparkSession SPARK_SESSION= SparkSession.builder()\r\n    .config(SPARK_CONFIGURATION)\r\n    .getOrCreate();\r\n\r\n  public static void main(String[] args) {\r\n    setupTest();\r\n  }\r\n\r\n  public static void setupTest() {\r\n    List&lt;Integer&gt; data = Arrays.asList(1, 2, 3, 4, 5);\r\n    JavaRDD&lt;Integer&gt; distData = SPARK_CONTEXT.parallelize(data);\r\n    int sum= distData.reduce((a, b) -&gt; a + b);\r\n    System.out.println(&quot;Sum of &quot; + data.toString() + &quot; = &quot; + sum);\r\n    System.out.println();\r\n  }//SetupTest\r\n\r\n  public SparkTest() {\r\n    super();\r\n  }\r\n\r\n}//class SparkTest\r\n````\r\n\r\nResult :\r\n\r\n````\r\n[2020-04-05 18:14:42,184] INFO Running Spark version 2.4.5 (org.apache.spark.SparkContext:54)\r\n\r\n...\r\n\r\n[2020-04-05 18:14:44,060] WARN Using an existing SparkContext; some configuration may not take effect. (org.apache.spark.SparkContext:66)\r\nSum of [1, 2, 3, 4, 5] = 15\r\n\r\n````\r\n### AFAIK you are facing issue with java version as mentioned in this. [HADOOP-14586][1] StringIndexOutOfBoundsException breaks org.apache.hadoop.util.Shell on 2.7.x with Java 9\r\n\r\nChange the java version which is suitable with hadoop version. \r\n\r\nSee here \r\n# Latest Release (Spark 2.4.5) - Apache Spark docs \r\n\r\n[Spark runs on Java 8, Python 2.7+/3.4+ and R 3.1+. For the Scala API, Spark 2.4.5 uses Scala 2.12. You will need to use a compatible Scala version (2.12.x).][2]\r\n\r\n### NOTE : As per comment, java 13 is not supported by Spark. You need to downgrade the java version to java 8\r\n\r\n\r\n  [1]: https://issues.apache.org/jira/browse/HADOOP-14586\r\n  [2]: https://spark.apache.org/docs/latest/#downloading","title":"String Index Out Of Bounds Exception When Initializing Spark Context","body":"<p>I am using spark 2.4.5 and jdk1.8.0_181 its working fine for me</p>\n\n<pre><code>package examples;\n\n\n\nimport org.apache.spark.SparkConf;\nimport org.apache.spark.api.java.JavaRDD;\nimport org.apache.spark.api.java.JavaSparkContext;\nimport org.apache.spark.sql.SparkSession;\n\nimport java.util.Arrays;\nimport java.util.List;\n\n\npublic class SparkTest {\n  public static final SparkConf SPARK_CONFIGURATION = new SparkConf().setAppName(\"MOSDEX\").setMaster(\"local[*]\");\n  public static final JavaSparkContext SPARK_CONTEXT= new JavaSparkContext(SPARK_CONFIGURATION);\n  public static final SparkSession SPARK_SESSION= SparkSession.builder()\n    .config(SPARK_CONFIGURATION)\n    .getOrCreate();\n\n  public static void main(String[] args) {\n    setupTest();\n  }\n\n  public static void setupTest() {\n    List&lt;Integer&gt; data = Arrays.asList(1, 2, 3, 4, 5);\n    JavaRDD&lt;Integer&gt; distData = SPARK_CONTEXT.parallelize(data);\n    int sum= distData.reduce((a, b) -&gt; a + b);\n    System.out.println(\"Sum of \" + data.toString() + \" = \" + sum);\n    System.out.println();\n  }//SetupTest\n\n  public SparkTest() {\n    super();\n  }\n\n}//class SparkTest\n</code></pre>\n\n<p>Result :</p>\n\n<pre><code>[2020-04-05 18:14:42,184] INFO Running Spark version 2.4.5 (org.apache.spark.SparkContext:54)\n\n...\n\n[2020-04-05 18:14:44,060] WARN Using an existing SparkContext; some configuration may not take effect. (org.apache.spark.SparkContext:66)\nSum of [1, 2, 3, 4, 5] = 15\n\n</code></pre>\n\n<h3>AFAIK you are facing issue with java version as mentioned in this. <a href=\"https://issues.apache.org/jira/browse/HADOOP-14586\" rel=\"nofollow noreferrer\">HADOOP-14586</a> StringIndexOutOfBoundsException breaks org.apache.hadoop.util.Shell on 2.7.x with Java 9</h3>\n\n<p>Change the java version which is suitable with hadoop version. </p>\n\n<p>See here </p>\n\n<h1>Latest Release (Spark 2.4.5) - Apache Spark docs</h1>\n\n<p><a href=\"https://spark.apache.org/docs/latest/#downloading\" rel=\"nofollow noreferrer\">Spark runs on Java 8, Python 2.7+/3.4+ and R 3.1+. For the Scala API, Spark 2.4.5 uses Scala 2.12. You will need to use a compatible Scala version (2.12.x).</a></p>\n\n<h3>NOTE : As per comment, java 13 is not supported by Spark. You need to downgrade the java version to java 8</h3>\n"},{"tags":[],"owner":{"account_id":8002284,"reputation":83,"user_id":6036704,"accept_rate":0,"display_name":"J. Bloom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586210327,"creation_date":1586210327,"answer_id":61069617,"question_id":61049853,"body_markdown":"It turns out that if you use Hadoop &gt; 2.8, you can use Java 13 (I&#39;m now using Hadoop 2.8.5). This is tricky if you are using Spark 2.4.5 because on Maven, it comes prebuilt with Hadoop 2.6. You have to create a separate dependency for Hadoop 2.8.5 which overrides the prebuilt components. It took me quite a bit of experimenting to make that work. Plus, I&#39;m working in Windows, so I also needed to link Hadoop with winutils, which is another complication. None of this is very well documented, so I had to read a lot of posts on Stackoverflow to get it working. ","title":"String Index Out Of Bounds Exception When Initializing Spark Context","body":"<p>It turns out that if you use Hadoop > 2.8, you can use Java 13 (I'm now using Hadoop 2.8.5). This is tricky if you are using Spark 2.4.5 because on Maven, it comes prebuilt with Hadoop 2.6. You have to create a separate dependency for Hadoop 2.8.5 which overrides the prebuilt components. It took me quite a bit of experimenting to make that work. Plus, I'm working in Windows, so I also needed to link Hadoop with winutils, which is another complication. None of this is very well documented, so I had to read a lot of posts on Stackoverflow to get it working. </p>\n"},{"tags":[],"owner":{"account_id":11693821,"reputation":41,"user_id":8561118,"display_name":"Pramod Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637461035,"creation_date":1637461035,"answer_id":70051328,"question_id":61049853,"body_markdown":"Had the same issue with below versions\r\n&lt;br&gt;&lt;br&gt;\r\n1)Spark with version  2.12-2.4.4 &lt;br&gt;\r\n2)Hadoop with version 2.6.5 &lt;br&gt;\r\n3)JDK with version    java 16 in Spring STS  &lt;br&gt;\r\n\r\n&lt;br&gt;\r\nSolution : In Spring STS corrected the jdk version to jdk 1.8 and issue is resolved.","title":"String Index Out Of Bounds Exception When Initializing Spark Context","body":"<p>Had the same issue with below versions\n<br><br>\n1)Spark with version  2.12-2.4.4 <br>\n2)Hadoop with version 2.6.5 <br>\n3)JDK with version    java 16 in Spring STS  <br></p>\n<br>\nSolution : In Spring STS corrected the jdk version to jdk 1.8 and issue is resolved.\n"}],"owner":{"account_id":8002284,"reputation":83,"user_id":6036704,"accept_rate":0,"display_name":"J. Bloom"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1928,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61050792,"answer_count":3,"score":1,"last_activity_date":1672742598,"creation_date":1586122623,"question_id":61049853,"body_markdown":"I&#39;ve been working with Spark for more than 5 years. Recently, I encountered a basic error I have never seen before, and it has stopped development cold. When I do a routine call to create a Spark Context, I get an ExceptionInInitializerError caused by a StringIndexOutOfBoundsException. Here is a simple sample of my code:\r\n\r\n    public class SparkTest {\r\n    \tpublic static final SparkConf SPARK_CONFIGURATION = new SparkConf().setAppName(&quot;MOSDEX&quot;).setMaster(&quot;local[*]&quot;);\r\n    \tpublic static final JavaSparkContext SPARK_CONTEXT= new JavaSparkContext(SPARK_CONFIGURATION);\r\n    \tpublic static final SparkSession SPARK_SESSION= SparkSession.builder()\r\n    \t\t\t.config(SPARK_CONFIGURATION)\r\n    \t\t\t.getOrCreate();\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tsetupTest();\t\t\r\n    \t}\r\n    \t\r\n    \tpublic static void setupTest() {\r\n    \t\tList&lt;Integer&gt; data = Arrays.asList(1, 2, 3, 4, 5);\r\n    \t\tJavaRDD&lt;Integer&gt; distData = SPARK_CONTEXT.parallelize(data);\r\n    \t\tint sum= distData.reduce((a, b) -&gt; a + b);\r\n    \t\tSystem.out.println(&quot;Sum of &quot; + data.toString() + &quot; = &quot; + sum);\r\n    \t\tSystem.out.println();\r\n    \t}//SetupTest\r\n    \t\r\n    \tpublic SparkTest() {\r\n    \t\tsuper();\r\n    \t}\r\n    \r\n    }//class SparkTest\r\n\r\nHere is the error message chain:\r\n\r\n    WARNING: An illegal reflective access operation has occurred\r\n    WARNING: Illegal reflective access by org.apache.spark.unsafe.Platform (file:/C:/Users/Owner/.m2/repository/org/apache/spark/spark-unsafe_2.11/2.4.5/spark-unsafe_2.11-2.4.5.jar) to method java.nio.Bits.unaligned()\r\n    WARNING: Please consider reporting this to the maintainers of org.apache.spark.unsafe.Platform\r\n    WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\n    WARNING: All illegal access operations will be denied in a future release\r\n    Using Spark&#39;s default log4j profile: org/apache/spark/log4j-defaults.properties\r\n    20/04/05 13:55:21 INFO SparkContext: Running Spark version 2.4.5\r\n    20/04/05 13:55:22 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\r\n    Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError\r\n    \tat org.apache.hadoop.util.StringUtils.&lt;clinit&gt;(StringUtils.java:79)\r\n    \tat org.apache.hadoop.security.Groups.parseStaticMapping(Groups.java:116)\r\n    \tat org.apache.hadoop.security.Groups.&lt;init&gt;(Groups.java:93)\r\n    \tat org.apache.hadoop.security.Groups.&lt;init&gt;(Groups.java:73)\r\n    \tat org.apache.hadoop.security.Groups.getUserToGroupsMappingService(Groups.java:293)\r\n    \tat org.apache.hadoop.security.UserGroupInformation.initialize(UserGroupInformation.java:283)\r\n    \tat org.apache.hadoop.security.UserGroupInformation.ensureInitialized(UserGroupInformation.java:260)\r\n    \tat org.apache.hadoop.security.UserGroupInformation.loginUserFromSubject(UserGroupInformation.java:789)\r\n    \tat org.apache.hadoop.security.UserGroupInformation.getLoginUser(UserGroupInformation.java:774)\r\n    \tat org.apache.hadoop.security.UserGroupInformation.getCurrentUser(UserGroupInformation.java:647)\r\n    \tat org.apache.spark.util.Utils$$anonfun$getCurrentUserName$1.apply(Utils.scala:2422)\r\n    \tat org.apache.spark.util.Utils$$anonfun$getCurrentUserName$1.apply(Utils.scala:2422)\r\n    \tat scala.Option.getOrElse(Option.scala:121)\r\n    \tat org.apache.spark.util.Utils$.getCurrentUserName(Utils.scala:2422)\r\n    \tat org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:293)\r\n    \tat io.github.JeremyBloom.mosdex.SparkTest.&lt;clinit&gt;(SparkTest.java:28)\r\n    Caused by: java.lang.StringIndexOutOfBoundsException: begin 0, end 3, length 2\r\n    \tat java.base/java.lang.String.checkBoundsBeginEnd(String.java:3720)\r\n    \tat java.base/java.lang.String.substring(String.java:1909)\r\n    \tat org.apache.hadoop.util.Shell.&lt;clinit&gt;(Shell.java:50)\r\n    \t... 16 more\r\n\r\nI also get the same error when I use SparkContext instead of JavaSparkContext. I&#39;ve done extensive search for this error and have not seen anyone else who has it, so I don&#39;t think it&#39;s a bug in Spark. I&#39;ve used this code in other applications previously (with earlier versions of Spark) without a problem.\r\n\r\nI&#39;m using the latest version of Spark (2.4.5). Why isn&#39;t this working?\r\n\r\n","title":"String Index Out Of Bounds Exception When Initializing Spark Context","body":"<p>I've been working with Spark for more than 5 years. Recently, I encountered a basic error I have never seen before, and it has stopped development cold. When I do a routine call to create a Spark Context, I get an ExceptionInInitializerError caused by a StringIndexOutOfBoundsException. Here is a simple sample of my code:</p>\n\n<pre><code>public class SparkTest {\n    public static final SparkConf SPARK_CONFIGURATION = new SparkConf().setAppName(\"MOSDEX\").setMaster(\"local[*]\");\n    public static final JavaSparkContext SPARK_CONTEXT= new JavaSparkContext(SPARK_CONFIGURATION);\n    public static final SparkSession SPARK_SESSION= SparkSession.builder()\n            .config(SPARK_CONFIGURATION)\n            .getOrCreate();\n\n    public static void main(String[] args) {\n        setupTest();        \n    }\n\n    public static void setupTest() {\n        List&lt;Integer&gt; data = Arrays.asList(1, 2, 3, 4, 5);\n        JavaRDD&lt;Integer&gt; distData = SPARK_CONTEXT.parallelize(data);\n        int sum= distData.reduce((a, b) -&gt; a + b);\n        System.out.println(\"Sum of \" + data.toString() + \" = \" + sum);\n        System.out.println();\n    }//SetupTest\n\n    public SparkTest() {\n        super();\n    }\n\n}//class SparkTest\n</code></pre>\n\n<p>Here is the error message chain:</p>\n\n<pre><code>WARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by org.apache.spark.unsafe.Platform (file:/C:/Users/Owner/.m2/repository/org/apache/spark/spark-unsafe_2.11/2.4.5/spark-unsafe_2.11-2.4.5.jar) to method java.nio.Bits.unaligned()\nWARNING: Please consider reporting this to the maintainers of org.apache.spark.unsafe.Platform\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\nUsing Spark's default log4j profile: org/apache/spark/log4j-defaults.properties\n20/04/05 13:55:21 INFO SparkContext: Running Spark version 2.4.5\n20/04/05 13:55:22 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\nException in thread \"main\" java.lang.ExceptionInInitializerError\n    at org.apache.hadoop.util.StringUtils.&lt;clinit&gt;(StringUtils.java:79)\n    at org.apache.hadoop.security.Groups.parseStaticMapping(Groups.java:116)\n    at org.apache.hadoop.security.Groups.&lt;init&gt;(Groups.java:93)\n    at org.apache.hadoop.security.Groups.&lt;init&gt;(Groups.java:73)\n    at org.apache.hadoop.security.Groups.getUserToGroupsMappingService(Groups.java:293)\n    at org.apache.hadoop.security.UserGroupInformation.initialize(UserGroupInformation.java:283)\n    at org.apache.hadoop.security.UserGroupInformation.ensureInitialized(UserGroupInformation.java:260)\n    at org.apache.hadoop.security.UserGroupInformation.loginUserFromSubject(UserGroupInformation.java:789)\n    at org.apache.hadoop.security.UserGroupInformation.getLoginUser(UserGroupInformation.java:774)\n    at org.apache.hadoop.security.UserGroupInformation.getCurrentUser(UserGroupInformation.java:647)\n    at org.apache.spark.util.Utils$$anonfun$getCurrentUserName$1.apply(Utils.scala:2422)\n    at org.apache.spark.util.Utils$$anonfun$getCurrentUserName$1.apply(Utils.scala:2422)\n    at scala.Option.getOrElse(Option.scala:121)\n    at org.apache.spark.util.Utils$.getCurrentUserName(Utils.scala:2422)\n    at org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:293)\n    at io.github.JeremyBloom.mosdex.SparkTest.&lt;clinit&gt;(SparkTest.java:28)\nCaused by: java.lang.StringIndexOutOfBoundsException: begin 0, end 3, length 2\n    at java.base/java.lang.String.checkBoundsBeginEnd(String.java:3720)\n    at java.base/java.lang.String.substring(String.java:1909)\n    at org.apache.hadoop.util.Shell.&lt;clinit&gt;(Shell.java:50)\n    ... 16 more\n</code></pre>\n\n<p>I also get the same error when I use SparkContext instead of JavaSparkContext. I've done extensive search for this error and have not seen anyone else who has it, so I don't think it's a bug in Spark. I've used this code in other applications previously (with earlier versions of Spark) without a problem.</p>\n\n<p>I'm using the latest version of Spark (2.4.5). Why isn't this working?</p>\n"},{"tags":["java","spring-boot","tomcat10"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1655893956,"post_id":72704757,"comment_id":128438375,"body_markdown":"You will need to downgrade to Tomcat 9.","body":"You will need to downgrade to Tomcat 9."},{"owner":{"account_id":10109151,"reputation":75,"user_id":7470727,"display_name":"trickster"},"score":0,"creation_date":1655899450,"post_id":72704757,"comment_id":128440433,"body_markdown":"Thanks.. I can&#39;t believe how much time I wasted on that....","body":"Thanks.. I can&#39;t believe how much time I wasted on that...."}],"owner":{"account_id":10109151,"reputation":75,"user_id":7470727,"display_name":"trickster"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1655893937,"answer_count":0,"score":0,"last_activity_date":1672742416,"creation_date":1655831891,"question_id":72704757,"body_markdown":"I&#39;ve followed about 15 different threads on Stack to try and resolve this, but I seem to be hitting a brick wall. \r\n\r\nI&#39;m running JDK17 and Tomcat 10.0.22. I have followed a baeldung article for deploying a Spring Boot app on Tomcat, and I&#39;m having no luck at all. I&#39;ve tried used gradle and maven. \r\n\r\nWith the provided block commented out, the war runs fine with java -jar spring-boot-deployment.war. However, when activating this line and dragging the war into the web app folder, it doesn&#39;t work. \r\n\r\nFor example, just in spring boot localhost:8080/hello/ works fine\r\nafter deploying to Tomcat and going to http://localhost:8080/spring-boot-deployment/hello/ I get ```The origin server did not find a current representation for the target resource or is not willing to disclose that one exists.```\r\n\r\nI&#39;m not seeing any errors in the Tomcat logs, and the manager says its running. Given how many threads there are on this, it seems to be a pretty poorly documented/understood thing. \r\n\r\n``` java \r\n@SpringBootApplication\r\npublic class SpringBootTomcatApplication extends SpringBootServletInitializer {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(SpringBootTomcatApplication.class, args);\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n@RestController\r\npublic class TomcatController {\r\n\r\n    @GetMapping(value = &quot;/hello&quot;)\r\n    public Collection&lt;String&gt; sayHello() {\r\n        return IntStream.range(0, 10)\r\n                .mapToObj(i -&gt; &quot;Hello number &quot; + i)\r\n                .collect(Collectors.toList());\r\n    }\r\n}\r\n```\r\n\r\n``` xml \r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;artifactId&gt;spring-boot-deployment&lt;/artifactId&gt;\r\n    &lt;name&gt;spring-boot-deployment&lt;/name&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\r\n    &lt;groupId&gt;com.baeldung.spring-boot-modules&lt;/groupId&gt;\r\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.7&lt;/version&gt;\r\n        &lt;relativePath/&gt;\r\n    &lt;/parent&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;finalName&gt;${artifactId}&lt;/finalName&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                &lt;filtering&gt;true&lt;/filtering&gt;\r\n                &lt;excludes&gt;\r\n                    &lt;exclude&gt;**/conf.properties&lt;/exclude&gt;\r\n                &lt;/excludes&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n        &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;repackage&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;mainClass&gt;com.baeldung.springbootsimple.SpringBootTomcatApplication&lt;/mainClass&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```","title":"Deploying Spring Boot to Tomcat 10 produces 404 error","body":"<p>I've followed about 15 different threads on Stack to try and resolve this, but I seem to be hitting a brick wall.</p>\n<p>I'm running JDK17 and Tomcat 10.0.22. I have followed a baeldung article for deploying a Spring Boot app on Tomcat, and I'm having no luck at all. I've tried used gradle and maven.</p>\n<p>With the provided block commented out, the war runs fine with java -jar spring-boot-deployment.war. However, when activating this line and dragging the war into the web app folder, it doesn't work.</p>\n<p>For example, just in spring boot localhost:8080/hello/ works fine\nafter deploying to Tomcat and going to http://localhost:8080/spring-boot-deployment/hello/ I get <code>The origin server did not find a current representation for the target resource or is not willing to disclose that one exists.</code></p>\n<p>I'm not seeing any errors in the Tomcat logs, and the manager says its running. Given how many threads there are on this, it seems to be a pretty poorly documented/understood thing.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class SpringBootTomcatApplication extends SpringBootServletInitializer {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringBootTomcatApplication.class, args);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic class TomcatController {\n\n    @GetMapping(value = &quot;/hello&quot;)\n    public Collection&lt;String&gt; sayHello() {\n        return IntStream.range(0, 10)\n                .mapToObj(i -&gt; &quot;Hello number &quot; + i)\n                .collect(Collectors.toList());\n    }\n}\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;artifactId&gt;spring-boot-deployment&lt;/artifactId&gt;\n    &lt;name&gt;spring-boot-deployment&lt;/name&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;groupId&gt;com.baeldung.spring-boot-modules&lt;/groupId&gt;\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.7&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;${artifactId}&lt;/finalName&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                &lt;filtering&gt;true&lt;/filtering&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;**/conf.properties&lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n        &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;repackage&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;mainClass&gt;com.baeldung.springbootsimple.SpringBootTomcatApplication&lt;/mainClass&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","json","aspose"],"comments":[{"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"score":0,"creation_date":1672743111,"post_id":74992209,"comment_id":132338856,"body_markdown":"There is a blog post from aspose about importing json data. It&#39;s based on the c# version of aspose.cells, but it might be helpful: https://blog.aspose.com/cells/import-data-from-json-to-excel-in-csharp-asp.net/","body":"There is a blog post from aspose about importing json data. It&#39;s based on the c# version of aspose.cells, but it might be helpful: <a href=\"https://blog.aspose.com/cells/import-data-from-json-to-excel-in-csharp-asp.net/\" rel=\"nofollow noreferrer\">blog.aspose.com/cells/&hellip;</a>"},{"owner":{"account_id":25888760,"reputation":1,"user_id":19616469,"display_name":"Ramesh"},"score":0,"creation_date":1672743500,"post_id":74992209,"comment_id":132338972,"body_markdown":"@SpaceTrucker am using java.","body":"@SpaceTrucker am using java."},{"owner":{"account_id":4153548,"reputation":1826,"user_id":3405358,"display_name":"Amjad Sahi"},"score":0,"creation_date":1672768276,"post_id":74992209,"comment_id":132347056,"body_markdown":"@Ramesh, please provide your &quot;elastic_search.json&quot; file/data to evaluate your issue. You may zip it and attach. You may also post your queries or issue in the dedicated forum(https://forum.aspose.com/c/cells/9).\n\nPS. I am working as Support developer/ Evangelist at Aspose.","body":"@Ramesh, please provide your &quot;elastic_search.json&quot; file/data to evaluate your issue. You may zip it and attach. You may also post your queries or issue in the dedicated forum(<a href=\"https://forum.aspose.com/c/cells/9\" rel=\"nofollow noreferrer\">forum.aspose.com/c/cells/9</a>).  PS. I am working as Support developer/ Evangelist at Aspose."}],"owner":{"account_id":25888760,"reputation":1,"user_id":19616469,"display_name":"Ramesh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672742408,"creation_date":1672742408,"question_id":74992209,"body_markdown":"I am using aspose cells to convert json file to excel file but getting an excpection saying that file format is not supported, Below is the code which i am using.Getting excepetion at the line **Workbook workbook = new Workbook(&quot;.//Json_files//elastic_search.json&quot;);**\r\n\r\n    public void FinBlock() throws Exception {\r\n\r\n        String USERNAME = CONFIG.getProperty(&quot;Username&quot;);\r\n        String Password = CONFIG.getProperty(&quot;password&quot;);\r\n        String URI = CONFIG.getProperty(&quot;API&quot;);\r\n        SessionFilter session = new SessionFilter();\r\n        RestAssured.baseURI = URI;\r\n        String Response = given().auth().preemptive().basic(USERNAME, Password).filter(session).when()\r\n                .get(RestAssured.baseURI).then().extract().response().getCookie(&quot;RAY_SESSION_ID&quot;);\r\n\r\n        Response resp1 = given().cookie(&quot;RAY_SESSION_ID&quot;, Response).filter(session).when()\r\n                .get(&quot;URI&quot;)\r\n                .then().log().all().extract().response();\r\n\r\n        PrintWriter out1 = new PrintWriter(\r\n                new FileWriter(&quot;.//Json_files//elastic_search.json&quot;, true), true);\r\n        out1.write(resp1.asString());\r\n        out1.close();\r\n\r\n        LocalDateTime date = LocalDateTime.now();\r\n        DateTimeFormatter dateFormat = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy&quot;);\r\n        String formattedDate = date.format(dateFormat);\r\n\r\n        DateTimeFormatter dateformat = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy HH-mm&quot;);\r\n        String formatedate = date.format(dateformat);\r\n\r\n        Path dir = Paths.get(&quot;.//Output_Files//ES_Excelfiles-&quot; + formattedDate);\r\n        Files.createDirectories(dir);\r\n\r\n        Workbook workbook = new Workbook(&quot;.//Json_files//elastic_search.json&quot;);\r\n        // workbook.save(&quot;.//output-&quot;+formatedate+&quot;.xlsx&quot;);\r\n        // workbook.save(&quot;.//Excel_files//es_files//ES-&quot;+stockname+&quot;-&quot;+formatedate+&quot;.xlsx&quot;);\r\n        workbook.save(dir + &quot;//ES-&quot; + stockname + &quot;-&quot; + formatedate + &quot;.xlsx&quot;);\r\n\r\n    }","title":"aspose cell exception this file format is not supported","body":"<p>I am using aspose cells to convert json file to excel file but getting an excpection saying that file format is not supported, Below is the code which i am using.Getting excepetion at the line <strong>Workbook workbook = new Workbook(&quot;.//Json_files//elastic_search.json&quot;);</strong></p>\n<pre><code>public void FinBlock() throws Exception {\n\n    String USERNAME = CONFIG.getProperty(&quot;Username&quot;);\n    String Password = CONFIG.getProperty(&quot;password&quot;);\n    String URI = CONFIG.getProperty(&quot;API&quot;);\n    SessionFilter session = new SessionFilter();\n    RestAssured.baseURI = URI;\n    String Response = given().auth().preemptive().basic(USERNAME, Password).filter(session).when()\n            .get(RestAssured.baseURI).then().extract().response().getCookie(&quot;RAY_SESSION_ID&quot;);\n\n    Response resp1 = given().cookie(&quot;RAY_SESSION_ID&quot;, Response).filter(session).when()\n            .get(&quot;URI&quot;)\n            .then().log().all().extract().response();\n\n    PrintWriter out1 = new PrintWriter(\n            new FileWriter(&quot;.//Json_files//elastic_search.json&quot;, true), true);\n    out1.write(resp1.asString());\n    out1.close();\n\n    LocalDateTime date = LocalDateTime.now();\n    DateTimeFormatter dateFormat = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy&quot;);\n    String formattedDate = date.format(dateFormat);\n\n    DateTimeFormatter dateformat = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy HH-mm&quot;);\n    String formatedate = date.format(dateformat);\n\n    Path dir = Paths.get(&quot;.//Output_Files//ES_Excelfiles-&quot; + formattedDate);\n    Files.createDirectories(dir);\n\n    Workbook workbook = new Workbook(&quot;.//Json_files//elastic_search.json&quot;);\n    // workbook.save(&quot;.//output-&quot;+formatedate+&quot;.xlsx&quot;);\n    // workbook.save(&quot;.//Excel_files//es_files//ES-&quot;+stockname+&quot;-&quot;+formatedate+&quot;.xlsx&quot;);\n    workbook.save(dir + &quot;//ES-&quot; + stockname + &quot;-&quot; + formatedate + &quot;.xlsx&quot;);\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1672741725,"post_id":74991995,"comment_id":132338392,"body_markdown":"Now if only in JPA you could write a query, which you could put on a Spring Data repository method...","body":"Now if only in JPA you could write a query, which you could put on a Spring Data repository method..."},{"owner":{"account_id":14535295,"reputation":87,"user_id":10498869,"display_name":"Dadinho2000"},"score":0,"creation_date":1672741884,"post_id":74991995,"comment_id":132338448,"body_markdown":"I just can&#39;t do a proper query, I tried write one for my soft deletion, and had to go around the solution and write something else","body":"I just can&#39;t do a proper query, I tried write one for my soft deletion, and had to go around the solution and write something else"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1672742847,"post_id":74991995,"comment_id":132338771,"body_markdown":"Why wouldn&#39;t you be able to use a query? Used it uncountable times... Your problem is you are adding the `@Query` in the wrong place.","body":"Why wouldn&#39;t you be able to use a query? Used it uncountable times... Your problem is you are adding the <code>@Query</code> in the wrong place."}],"answers":[{"tags":[],"owner":{"account_id":16795084,"reputation":232,"user_id":12141701,"display_name":"lukwas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672742372,"creation_date":1672742372,"answer_id":74992202,"question_id":74991995,"body_markdown":"You can add method in `OrderRepository` interface\r\n\r\n    public List&lt;Order&gt; findByCreatedAtBetween(LocalDate d1, LocalDate d2)\r\n    \r\nand call it \r\n    \r\n    orderRepository.findByCreatedAtBetween(today.minusDays(1),today);\r\n\r\nhttps://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods.details\r\n","title":"Filter orders to a one day period - SpringBoot JPA MYSQL","body":"<p>You can add method in <code>OrderRepository</code> interface</p>\n<pre><code>public List&lt;Order&gt; findByCreatedAtBetween(LocalDate d1, LocalDate d2)\n</code></pre>\n<p>and call it</p>\n<pre><code>orderRepository.findByCreatedAtBetween(today.minusDays(1),today);\n</code></pre>\n<p><a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods.details\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods.details</a></p>\n"}],"owner":{"account_id":14535295,"reputation":87,"user_id":10498869,"display_name":"Dadinho2000"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1672742372,"creation_date":1672741358,"question_id":74991995,"body_markdown":"I&#39;m trying to retrieve a list of just the orders created from one day ago till today, and I can&#39;t manage to find any help about it, tried everything I found already.\r\nBasically I need a getAllOrders(), but with filtered by that time period, one day....\r\nHow do I filter it ? I Found tons of tutorials on how to sort them descending or ascending, nothing else.\r\n\r\n\r\nMy order.java:\r\n\r\n```\r\n\r\npackage com.proj.my.model;\r\nimport java.time.LocalDate;\r\nimport java.util.List;\r\n\r\nimport org.hibernate.annotations.CreationTimestamp;\r\nimport org.springframework.data.jpa.domain.support.AuditingEntityListener;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n\r\nimport jakarta.persistence.CascadeType;\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.EntityListeners;\r\nimport jakarta.persistence.FetchType;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.JoinColumn;\r\nimport jakarta.persistence.OneToMany;\r\nimport jakarta.persistence.OneToOne;\r\nimport jakarta.persistence.Table;\r\nimport lombok.ToString;\r\n\r\n@ToString\r\n@Entity\r\n@Table(name = &quot;myorder&quot;)\r\n@EntityListeners(AuditingEntityListener.class)\r\n@JsonIgnoreProperties(value = {&quot;createdAt&quot;}, \r\n    allowGetters = true)  \r\npublic class Order {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;\r\n    \r\n    @OneToOne(cascade = CascadeType.MERGE)\r\n    @JoinColumn(name = &quot;userId&quot;)\r\n    private User user;\r\n\r\n\r\n    @OneToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL, targetEntity = ShoppingCart.class)\r\n    @JoinColumn(name = &quot;order_id&quot;)\r\n    private List&lt;ShoppingCart&gt; cartItems;\r\n    @CreationTimestamp\r\n    @Column(updatable = false, name = &quot;createdAt&quot;)\r\n    private LocalDate createdAt;\r\n\r\n    public LocalDate getCreatedAt() {\r\n        return createdAt;\r\n    }\r\n\r\n    public void setCreatedAt(LocalDate createdAt) {\r\n        this.createdAt = createdAt;\r\n    }\r\n\r\n    public Order() {\r\n    }\r\n\r\n    public Order(User user, LocalDate createdAt, List&lt;ShoppingCart&gt; cartItems) {\r\n        this.user = user;\r\n        this.cartItems = cartItems;\r\n        this.createdAt = createdAt;\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public User getUser() {\r\n        return user;\r\n    }\r\n\r\n    public void setCustomer(User user) {\r\n        this.user = user;\r\n    }\r\n\r\n    public List&lt;ShoppingCart&gt; getCartItems() {\r\n        return cartItems;\r\n    }\r\n\r\n    public void setCartItems(List&lt;ShoppingCart&gt; cartItems) {\r\n        this.cartItems = cartItems;\r\n    }\r\n}\r\n```\r\nMy orderservice.java\r\n```\r\npackage com.proj.my.service;\r\n\r\nimport com.proj.my.model.Order;\r\nimport com.proj.my.model.CloudProduct;\r\nimport com.proj.my.model.ShoppingCart;\r\nimport com.proj.my.repository.OrderRepository;\r\nimport com.proj.my.repository.CloudProductRepository;\r\n\r\nimport org.springframework.stereotype.Service;\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\n@Service\r\npublic class OrderService {\r\n\r\n    private OrderRepository orderRepository;\r\n    private CloudProductRepository cloudProductRepository;\r\n\r\n    public OrderService(OrderRepository orderRepository, CloudProductRepository cloudProductRepository) {\r\n        this.orderRepository = orderRepository;\r\n        this.cloudProductRepository = cloudProductRepository;\r\n    }\r\n\r\n    public Order getOrderDetail(int orderId) {\r\n        Optional&lt;Order&gt; order = this.orderRepository.findById(orderId);\r\n        return order.isPresent() ? order.get() : null;\r\n    }\r\n\r\n\r\n    /* @Query(value = &quot;from order t where Date BETWEEN :yesterday AND :now&quot;)\r\n    public List&lt;Order&gt; getAllBetweenDates(@Param(&quot;yesterday&quot;)Date yesterday,@Param(&quot;now&quot;)Date localdate.now){\r\n        private LocalDate yesterday = now.minus(1, ChronoUnit.DAYS);\r\n        return orderRepository.findAll();\r\n    } */\r\n    \r\n   public List&lt;Order&gt; getAllOrderDetail() {\r\n        return orderRepository.findAll();\r\n    }\r\n\r\n    public float getCartAmount(List&lt;ShoppingCart&gt; shoppingCartList) {\r\n\r\n        float totalCartAmount = 0f;\r\n        float singleCartAmount = 0f;\r\n\r\n        for (ShoppingCart cart : shoppingCartList) {\r\n\r\n            String cloudProductName = cart.getProductName();\r\n            Optional&lt;CloudProduct&gt; product = cloudProductRepository.findByProductName(cloudProductName);\r\n            if (product.isPresent()) {\r\n                CloudProduct cloudproduct = product.get();\r\n                singleCartAmount = cart.getQuantity() * cloudproduct.getpriceInEuros();\r\n                \r\n                totalCartAmount = totalCartAmount + singleCartAmount;\r\n                cart.setProductId(cloudproduct.getProductId());\r\n                cart.setAmount(singleCartAmount);\r\n                cloudProductRepository.save(cloudproduct);\r\n            }\r\n        }\r\n        return totalCartAmount;\r\n    }\r\n\r\n    public Order saveOrder(Order order) {\r\n        return orderRepository.save(order);\r\n    }\r\n}\r\n\r\n\r\n```\r\nMy orderDTO.java\r\n```\r\npackage com.proj.my.dto;\r\n\r\nimport com.proj.my.model.ShoppingCart;\r\n\r\nimport java.util.List;\r\n\r\npublic class OrderDTO {\r\n\r\n    private List&lt;ShoppingCart&gt; cartItems;\r\n    private String userEmail;\r\n    private String userName;\r\n\r\n    public OrderDTO() {\r\n    }\r\n\r\n    public OrderDTO(List&lt;ShoppingCart&gt; cartItems, String userEmail, String userName) {\r\n        this.cartItems = cartItems;\r\n        this.userEmail = userEmail;\r\n        this.userName = userName;\r\n    }\r\n    public List&lt;ShoppingCart&gt; getCartItems() {\r\n        return cartItems;\r\n    }\r\n\r\n    public void setCartItems(List&lt;ShoppingCart&gt; cartItems) {\r\n        this.cartItems = cartItems;\r\n    }\r\n\r\n    public String getuserEmail() {\r\n        return userEmail;\r\n    }\r\n\r\n    public void setuserEmail(String userEmail) {\r\n        this.userEmail = userEmail;\r\n    }\r\n\r\n    public String getuserName() {\r\n        return userName;\r\n    }\r\n\r\n    public void setuserName(String userName) {\r\n        this.userName = userName;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;OrderDTO{&quot; +\r\n                &quot;, cartItems=&quot; + cartItems +\r\n                &quot;, userEmail=&#39;&quot; + userEmail + &#39;\\&#39;&#39; +\r\n                &quot;, userName=&#39;&quot; + userName + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n\r\n```\r\n\r\nMy shoppingcart.java\r\n\r\n```\r\npackage com.proj.my.model;\r\n\r\n\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\n/*@Data\r\n@AllArgsConstructor\r\n@RequiredArgsConstructor\r\n@NoArgsConstructor\r\n*/\r\n@Entity\r\npublic class ShoppingCart {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;\r\n\r\n    private Integer productId;\r\n\r\n    private String productName;\r\n\r\n    private int quantity;\r\n    \r\n    private float amount;\r\n\r\n    public ShoppingCart() {\r\n    }\r\n\r\n    public ShoppingCart(Integer productId, String productName, int quantity, float amount) {\r\n        this.productId = productId;\r\n        this.productName = productName;\r\n        this.quantity = quantity;\r\n        this.amount = amount;\r\n    }\r\n\r\n    public ShoppingCart(Integer productId, int quantity) {\r\n        this.productId = productId;\r\n        this.quantity = quantity;\r\n    }\r\n\r\n    public ShoppingCart(String productName, int quantity) {\r\n        this.productName = productName;\r\n        this.quantity = quantity;\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public Integer getProductId() {\r\n        return productId;\r\n    }\r\n\r\n    public void setProductId(Integer productId) {\r\n        this.productId = productId;\r\n    }\r\n\r\n    public String getProductName() {\r\n        return productName;\r\n    }\r\n\r\n    public void setProductName(String productName) {\r\n        this.productName = productName;\r\n    }\r\n\r\n    public int getQuantity() {\r\n        return quantity;\r\n    }\r\n\r\n    public void setQuantity(int quantity) {\r\n        this.quantity = quantity;\r\n    }\r\n\r\n    public float getAmount() {\r\n        return amount;\r\n    }\r\n\r\n    public void setAmount(float amount) {\r\n        this.amount = amount;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;ShoppingCart{&quot; +\r\n                &quot;id=&quot; + id +\r\n                &quot;, productId=&quot; + productId +\r\n                &quot;, productName=&#39;&quot; + productName + &#39;\\&#39;&#39; +\r\n                &quot;, quantity=&quot; + quantity +\r\n                &quot;, amount=&quot; + amount +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n\r\n```\r\n\r\nAnd finally my orderController.java\r\n\r\n```\r\npackage com.proj.my.controller;\r\n\r\nimport java.time.LocalDate;\r\nimport java.util.List;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport com.proj.my.dto.OrderDTO;\r\nimport com.proj.my.dto.ResponseOrderDTO;\r\nimport com.proj.my.model.Order;\r\nimport com.proj.my.model.User;\r\nimport com.proj.my.service.CloudProductService;\r\nimport com.proj.my.service.OrderService;\r\nimport com.proj.my.service.UserService;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/api&quot;)\r\npublic class OrderController {\r\n\r\n    private OrderService orderService;\r\n    private CloudProductService cloudProductService;\r\n    private UserService userService;\r\n\r\n\r\n    public OrderController(OrderService orderService, CloudProductService cloudProductService, UserService userService) {\r\n        this.orderService = orderService;\r\n        this.cloudProductService = cloudProductService;\r\n        this.userService = userService;\r\n    }\r\n\r\n    @GetMapping(value = &quot;/getOrder/{orderId}&quot;)\r\n    public ResponseEntity&lt;Order&gt; getOrderDetails(@PathVariable int orderId) {\r\n\r\n        Order order = orderService.getOrderDetail(orderId);\r\n        return ResponseEntity.ok(order);\r\n    }\r\n\r\n    @GetMapping(value = &quot;/getOrder&quot;)\r\n    public List&lt;Order&gt; getAllOrderDetails() {\r\n        return orderService.getAllOrderDetail();\r\n    }\r\n\r\n    @PostMapping(&quot;/placeOrder&quot;)\r\n    public ResponseEntity&lt;ResponseOrderDTO&gt; placeOrder(@RequestBody OrderDTO orderDTO) {\r\n\r\n        ResponseOrderDTO responseOrderDTO = new ResponseOrderDTO();\r\n\r\n        float amount = orderService.getCartAmount(orderDTO.getCartItems());\r\n\r\n        User user = new User(orderDTO.getuserName(), orderDTO.getuserEmail());\r\n        \r\n        Integer userIdFromDb = userService.isUserPresent(user);\r\n\r\n        if (userIdFromDb != null) {\r\n            user.setUserId(userIdFromDb);\r\n        }else{\r\n            user = userService.createUser(user);\r\n        }\r\n\r\n        LocalDate createdAt = LocalDate.now(); \r\n\r\n        Order order = new Order(user, createdAt, orderDTO.getCartItems());\r\n\r\n        order = orderService.saveOrder(order);\r\n\r\n        responseOrderDTO.setAmount(amount);\r\n\r\n        responseOrderDTO.setDate(com.proj.my.util.DateUtil.getCurrentDateTime());\r\n        \r\n        responseOrderDTO.setOrderId(order.getId());\r\n\r\n\r\n        return ResponseEntity.ok(responseOrderDTO);\r\n    }}\r\n\r\n```","title":"Filter orders to a one day period - SpringBoot JPA MYSQL","body":"<p>I'm trying to retrieve a list of just the orders created from one day ago till today, and I can't manage to find any help about it, tried everything I found already.\nBasically I need a getAllOrders(), but with filtered by that time period, one day....\nHow do I filter it ? I Found tons of tutorials on how to sort them descending or ascending, nothing else.</p>\n<p>My order.java:</p>\n<pre><code>\npackage com.proj.my.model;\nimport java.time.LocalDate;\nimport java.util.List;\n\nimport org.hibernate.annotations.CreationTimestamp;\nimport org.springframework.data.jpa.domain.support.AuditingEntityListener;\n\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\n\nimport jakarta.persistence.CascadeType;\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.EntityListeners;\nimport jakarta.persistence.FetchType;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.JoinColumn;\nimport jakarta.persistence.OneToMany;\nimport jakarta.persistence.OneToOne;\nimport jakarta.persistence.Table;\nimport lombok.ToString;\n\n@ToString\n@Entity\n@Table(name = &quot;myorder&quot;)\n@EntityListeners(AuditingEntityListener.class)\n@JsonIgnoreProperties(value = {&quot;createdAt&quot;}, \n    allowGetters = true)  \npublic class Order {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    \n    @OneToOne(cascade = CascadeType.MERGE)\n    @JoinColumn(name = &quot;userId&quot;)\n    private User user;\n\n\n    @OneToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL, targetEntity = ShoppingCart.class)\n    @JoinColumn(name = &quot;order_id&quot;)\n    private List&lt;ShoppingCart&gt; cartItems;\n    @CreationTimestamp\n    @Column(updatable = false, name = &quot;createdAt&quot;)\n    private LocalDate createdAt;\n\n    public LocalDate getCreatedAt() {\n        return createdAt;\n    }\n\n    public void setCreatedAt(LocalDate createdAt) {\n        this.createdAt = createdAt;\n    }\n\n    public Order() {\n    }\n\n    public Order(User user, LocalDate createdAt, List&lt;ShoppingCart&gt; cartItems) {\n        this.user = user;\n        this.cartItems = cartItems;\n        this.createdAt = createdAt;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public User getUser() {\n        return user;\n    }\n\n    public void setCustomer(User user) {\n        this.user = user;\n    }\n\n    public List&lt;ShoppingCart&gt; getCartItems() {\n        return cartItems;\n    }\n\n    public void setCartItems(List&lt;ShoppingCart&gt; cartItems) {\n        this.cartItems = cartItems;\n    }\n}\n</code></pre>\n<p>My orderservice.java</p>\n<pre><code>package com.proj.my.service;\n\nimport com.proj.my.model.Order;\nimport com.proj.my.model.CloudProduct;\nimport com.proj.my.model.ShoppingCart;\nimport com.proj.my.repository.OrderRepository;\nimport com.proj.my.repository.CloudProductRepository;\n\nimport org.springframework.stereotype.Service;\nimport java.util.List;\nimport java.util.Optional;\n\n@Service\npublic class OrderService {\n\n    private OrderRepository orderRepository;\n    private CloudProductRepository cloudProductRepository;\n\n    public OrderService(OrderRepository orderRepository, CloudProductRepository cloudProductRepository) {\n        this.orderRepository = orderRepository;\n        this.cloudProductRepository = cloudProductRepository;\n    }\n\n    public Order getOrderDetail(int orderId) {\n        Optional&lt;Order&gt; order = this.orderRepository.findById(orderId);\n        return order.isPresent() ? order.get() : null;\n    }\n\n\n    /* @Query(value = &quot;from order t where Date BETWEEN :yesterday AND :now&quot;)\n    public List&lt;Order&gt; getAllBetweenDates(@Param(&quot;yesterday&quot;)Date yesterday,@Param(&quot;now&quot;)Date localdate.now){\n        private LocalDate yesterday = now.minus(1, ChronoUnit.DAYS);\n        return orderRepository.findAll();\n    } */\n    \n   public List&lt;Order&gt; getAllOrderDetail() {\n        return orderRepository.findAll();\n    }\n\n    public float getCartAmount(List&lt;ShoppingCart&gt; shoppingCartList) {\n\n        float totalCartAmount = 0f;\n        float singleCartAmount = 0f;\n\n        for (ShoppingCart cart : shoppingCartList) {\n\n            String cloudProductName = cart.getProductName();\n            Optional&lt;CloudProduct&gt; product = cloudProductRepository.findByProductName(cloudProductName);\n            if (product.isPresent()) {\n                CloudProduct cloudproduct = product.get();\n                singleCartAmount = cart.getQuantity() * cloudproduct.getpriceInEuros();\n                \n                totalCartAmount = totalCartAmount + singleCartAmount;\n                cart.setProductId(cloudproduct.getProductId());\n                cart.setAmount(singleCartAmount);\n                cloudProductRepository.save(cloudproduct);\n            }\n        }\n        return totalCartAmount;\n    }\n\n    public Order saveOrder(Order order) {\n        return orderRepository.save(order);\n    }\n}\n\n\n</code></pre>\n<p>My orderDTO.java</p>\n<pre><code>package com.proj.my.dto;\n\nimport com.proj.my.model.ShoppingCart;\n\nimport java.util.List;\n\npublic class OrderDTO {\n\n    private List&lt;ShoppingCart&gt; cartItems;\n    private String userEmail;\n    private String userName;\n\n    public OrderDTO() {\n    }\n\n    public OrderDTO(List&lt;ShoppingCart&gt; cartItems, String userEmail, String userName) {\n        this.cartItems = cartItems;\n        this.userEmail = userEmail;\n        this.userName = userName;\n    }\n    public List&lt;ShoppingCart&gt; getCartItems() {\n        return cartItems;\n    }\n\n    public void setCartItems(List&lt;ShoppingCart&gt; cartItems) {\n        this.cartItems = cartItems;\n    }\n\n    public String getuserEmail() {\n        return userEmail;\n    }\n\n    public void setuserEmail(String userEmail) {\n        this.userEmail = userEmail;\n    }\n\n    public String getuserName() {\n        return userName;\n    }\n\n    public void setuserName(String userName) {\n        this.userName = userName;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;OrderDTO{&quot; +\n                &quot;, cartItems=&quot; + cartItems +\n                &quot;, userEmail='&quot; + userEmail + '\\'' +\n                &quot;, userName='&quot; + userName + '\\'' +\n                '}';\n    }\n}\n\n</code></pre>\n<p>My shoppingcart.java</p>\n<pre><code>package com.proj.my.model;\n\n\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\n/*@Data\n@AllArgsConstructor\n@RequiredArgsConstructor\n@NoArgsConstructor\n*/\n@Entity\npublic class ShoppingCart {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n\n    private Integer productId;\n\n    private String productName;\n\n    private int quantity;\n    \n    private float amount;\n\n    public ShoppingCart() {\n    }\n\n    public ShoppingCart(Integer productId, String productName, int quantity, float amount) {\n        this.productId = productId;\n        this.productName = productName;\n        this.quantity = quantity;\n        this.amount = amount;\n    }\n\n    public ShoppingCart(Integer productId, int quantity) {\n        this.productId = productId;\n        this.quantity = quantity;\n    }\n\n    public ShoppingCart(String productName, int quantity) {\n        this.productName = productName;\n        this.quantity = quantity;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public Integer getProductId() {\n        return productId;\n    }\n\n    public void setProductId(Integer productId) {\n        this.productId = productId;\n    }\n\n    public String getProductName() {\n        return productName;\n    }\n\n    public void setProductName(String productName) {\n        this.productName = productName;\n    }\n\n    public int getQuantity() {\n        return quantity;\n    }\n\n    public void setQuantity(int quantity) {\n        this.quantity = quantity;\n    }\n\n    public float getAmount() {\n        return amount;\n    }\n\n    public void setAmount(float amount) {\n        this.amount = amount;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;ShoppingCart{&quot; +\n                &quot;id=&quot; + id +\n                &quot;, productId=&quot; + productId +\n                &quot;, productName='&quot; + productName + '\\'' +\n                &quot;, quantity=&quot; + quantity +\n                &quot;, amount=&quot; + amount +\n                '}';\n    }\n}\n\n</code></pre>\n<p>And finally my orderController.java</p>\n<pre><code>package com.proj.my.controller;\n\nimport java.time.LocalDate;\nimport java.util.List;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.proj.my.dto.OrderDTO;\nimport com.proj.my.dto.ResponseOrderDTO;\nimport com.proj.my.model.Order;\nimport com.proj.my.model.User;\nimport com.proj.my.service.CloudProductService;\nimport com.proj.my.service.OrderService;\nimport com.proj.my.service.UserService;\n\n@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class OrderController {\n\n    private OrderService orderService;\n    private CloudProductService cloudProductService;\n    private UserService userService;\n\n\n    public OrderController(OrderService orderService, CloudProductService cloudProductService, UserService userService) {\n        this.orderService = orderService;\n        this.cloudProductService = cloudProductService;\n        this.userService = userService;\n    }\n\n    @GetMapping(value = &quot;/getOrder/{orderId}&quot;)\n    public ResponseEntity&lt;Order&gt; getOrderDetails(@PathVariable int orderId) {\n\n        Order order = orderService.getOrderDetail(orderId);\n        return ResponseEntity.ok(order);\n    }\n\n    @GetMapping(value = &quot;/getOrder&quot;)\n    public List&lt;Order&gt; getAllOrderDetails() {\n        return orderService.getAllOrderDetail();\n    }\n\n    @PostMapping(&quot;/placeOrder&quot;)\n    public ResponseEntity&lt;ResponseOrderDTO&gt; placeOrder(@RequestBody OrderDTO orderDTO) {\n\n        ResponseOrderDTO responseOrderDTO = new ResponseOrderDTO();\n\n        float amount = orderService.getCartAmount(orderDTO.getCartItems());\n\n        User user = new User(orderDTO.getuserName(), orderDTO.getuserEmail());\n        \n        Integer userIdFromDb = userService.isUserPresent(user);\n\n        if (userIdFromDb != null) {\n            user.setUserId(userIdFromDb);\n        }else{\n            user = userService.createUser(user);\n        }\n\n        LocalDate createdAt = LocalDate.now(); \n\n        Order order = new Order(user, createdAt, orderDTO.getCartItems());\n\n        order = orderService.saveOrder(order);\n\n        responseOrderDTO.setAmount(amount);\n\n        responseOrderDTO.setDate(com.proj.my.util.DateUtil.getCurrentDateTime());\n        \n        responseOrderDTO.setOrderId(order.getId());\n\n\n        return ResponseEntity.ok(responseOrderDTO);\n    }}\n\n</code></pre>\n"},{"tags":["java","bash","keytool","java-17","process-substitution"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1657545919,"post_id":72939257,"comment_id":128828967,"body_markdown":"I don&#39;t think it&#39;s technically a bug, since you&#39;re not providing a regular file argument but a pipe argument (which the shell creates for you) and the keytool expects a file. A workaround would be to write the certificate to a temporary file (I assume that `cat mycert.pem` is a placeholder for the actual command, as there wouldn&#39;t be a reason for the process substitution otherwise).","body":"I don&#39;t think it&#39;s technically a bug, since you&#39;re not providing a regular file argument but a pipe argument (which the shell creates for you) and the keytool expects a file. A workaround would be to write the certificate to a temporary file (I assume that <code>cat mycert.pem</code> is a placeholder for the actual command, as there wouldn&#39;t be a reason for the process substitution otherwise)."},{"owner":{"account_id":4154342,"reputation":3562,"user_id":3405980,"accept_rate":69,"display_name":"harshavmb"},"score":1,"creation_date":1657550046,"post_id":72939257,"comment_id":128830781,"body_markdown":"Having run `strace` on both versions of `keytool`, I found process substitution uses file descriptors while  `/opt/jdk17/bin/keytool -printcert -v -file mycert.pem` points to the real file. Also, `jdk11-keytool` uses `libstdc++.so.6` library where in `jdk17-keytool` onwards use `librt.so.1` library. I&#39;m no C-lang expert but these are the differences I could find with `strace`","body":"Having run <code>strace</code> on both versions of <code>keytool</code>, I found process substitution uses file descriptors while  <code>&#47;opt&#47;jdk17&#47;bin&#47;keytool -printcert -v -file mycert.pem</code> points to the real file. Also, <code>jdk11-keytool</code> uses <code>libstdc++.so.6</code> library where in <code>jdk17-keytool</code> onwards use <code>librt.so.1</code> library. I&#39;m no C-lang expert but these are the differences I could find with <code>strace</code>"},{"owner":{"account_id":4154342,"reputation":3562,"user_id":3405980,"accept_rate":69,"display_name":"harshavmb"},"score":2,"creation_date":1657551385,"post_id":72939257,"comment_id":128831318,"body_markdown":"I tried reading from `stdin` like `cat /tmp/test.pem | strace /usr/lib/jvm/java-18-openjdk-18.0.1.0.10-2.rolling.el7.x86_64/bin/keytool -printcert -v` &amp; it worked on both `jdk-11` &amp; `jdk-17` onwards..","body":"I tried reading from <code>stdin</code> like <code>cat &#47;tmp&#47;test.pem | strace &#47;usr&#47;lib&#47;jvm&#47;java-18-openjdk-18.0.1.0.10-2.rolling.el7.x86_6&zwnj;&#8203;4&#47;bin&#47;keytool -printcert -v</code> &amp; it worked on both <code>jdk-11</code> &amp; <code>jdk-17</code> onwards.."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":5,"creation_date":1657551931,"post_id":72939257,"comment_id":128831569,"body_markdown":"It&#39;s an optimized specialization of readAllBytes [added to FileInputStream at jdk-17-ga](https://github.com/openjdk/jdk/commit/da4dfde71a176d2b8401782178e854d4c924eba1) and FileInputStream is only used for `-file x` so yes if you omit `-file` and use stdin from a pipe it uses System.in which is apparently unaffected @harshavmb","body":"It&#39;s an optimized specialization of readAllBytes <a href=\"https://github.com/openjdk/jdk/commit/da4dfde71a176d2b8401782178e854d4c924eba1\" rel=\"nofollow noreferrer\">added to FileInputStream at jdk-17-ga</a> and FileInputStream is only used for <code>-file x</code> so yes if you omit <code>-file</code> and use stdin from a pipe it uses System.in which is apparently unaffected @harshavmb"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1657552094,"post_id":72939257,"comment_id":128831650,"body_markdown":"This seems like a fundamental flaw in the process substitution syntax:  It creates a named pipe, so it will only work if the receiving program never attempts a seek.  And for nearly all programs, there is no way to be certain the binary will not attempt a seek.  Even if you have the code, future implementations may do it differently, which is what happened here.","body":"This seems like a fundamental flaw in the process substitution syntax:  It creates a named pipe, so it will only work if the receiving program never attempts a seek.  And for nearly all programs, there is no way to be certain the binary will not attempt a seek.  Even if you have the code, future implementations may do it differently, which is what happened here."}],"owner":{"account_id":1693760,"reputation":9824,"user_id":1555615,"accept_rate":62,"display_name":"Marinos An"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":314,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1672742333,"creation_date":1657545653,"question_id":72939257,"body_markdown":"I test the following on jdk11:\r\n\r\n```bash\r\n/opt/jdk11/bin/keytool -printcert -v -file &lt;(cat mycert.pem)\r\n```\r\n\r\nAnd prints the certificate details as expected.\r\n\r\nBut if I do the same with jdk17 version of keytool I get an exception:\r\n\r\n```bash\r\n/opt/jdk17/bin/keytool -printcert -v -file &lt;(cat mycert.pem)\r\n```\r\n\r\n```\r\nkeytool error: java.io.IOException: Illegal seek\r\njava.io.IOException: Illegal seek\r\n\tat java.base/java.io.FileInputStream.position0(Native Method)\r\n\tat java.base/java.io.FileInputStream.position(FileInputStream.java:363)\r\n\tat java.base/java.io.FileInputStream.readAllBytes(FileInputStream.java:281)\r\n\tat java.base/sun.security.tools.keytool.Main.generateCertificates(Main.java:2804)\r\n\tat java.base/sun.security.tools.keytool.Main.printCertFromStream(Main.java:2762)\r\n\tat java.base/sun.security.tools.keytool.Main.doPrintCert(Main.java:2961)\r\n\tat java.base/sun.security.tools.keytool.Main.doCommands(Main.java:1286)\r\n\tat java.base/sun.security.tools.keytool.Main.run(Main.java:415)\r\n\tat java.base/sun.security.tools.keytool.Main.main(Main.java:408)\r\n\r\n```\r\n\r\nBut the following works:\r\n\r\n```bash\r\n/opt/jdk17/bin/keytool -printcert -v -file mycert.pem\r\n```\r\n\r\n\r\nClearly process substitution does not work with jdk17 keytool. My question is the following:\r\n\r\n\r\nIs there a bash workaround to fix this?\r\n\r\nShould this be considered a bug of jdk17 keytool and if yes what is the code that I should avoid in order to make my java programs friendly to bash process substitution?\r\n\r\n\r\n\r\n","title":"Why bash process substitution works with jdk11 version of keytool but not with jdk17?","body":"<p>I test the following on jdk11:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>/opt/jdk11/bin/keytool -printcert -v -file &lt;(cat mycert.pem)\n</code></pre>\n<p>And prints the certificate details as expected.</p>\n<p>But if I do the same with jdk17 version of keytool I get an exception:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>/opt/jdk17/bin/keytool -printcert -v -file &lt;(cat mycert.pem)\n</code></pre>\n<pre><code>keytool error: java.io.IOException: Illegal seek\njava.io.IOException: Illegal seek\n    at java.base/java.io.FileInputStream.position0(Native Method)\n    at java.base/java.io.FileInputStream.position(FileInputStream.java:363)\n    at java.base/java.io.FileInputStream.readAllBytes(FileInputStream.java:281)\n    at java.base/sun.security.tools.keytool.Main.generateCertificates(Main.java:2804)\n    at java.base/sun.security.tools.keytool.Main.printCertFromStream(Main.java:2762)\n    at java.base/sun.security.tools.keytool.Main.doPrintCert(Main.java:2961)\n    at java.base/sun.security.tools.keytool.Main.doCommands(Main.java:1286)\n    at java.base/sun.security.tools.keytool.Main.run(Main.java:415)\n    at java.base/sun.security.tools.keytool.Main.main(Main.java:408)\n\n</code></pre>\n<p>But the following works:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>/opt/jdk17/bin/keytool -printcert -v -file mycert.pem\n</code></pre>\n<p>Clearly process substitution does not work with jdk17 keytool. My question is the following:</p>\n<p>Is there a bash workaround to fix this?</p>\n<p>Should this be considered a bug of jdk17 keytool and if yes what is the code that I should avoid in order to make my java programs friendly to bash process substitution?</p>\n"},{"tags":["java","android","android-studio","android-gradle-plugin"],"comments":[{"owner":{"account_id":7622639,"reputation":336,"user_id":5780236,"display_name":"Ahmad Reza Enshaee"},"score":0,"creation_date":1663679196,"post_id":73787115,"comment_id":130292654,"body_markdown":"Have you tested restarting your computer?","body":"Have you tested restarting your computer?"}],"answers":[{"tags":[],"owner":{"account_id":7612800,"reputation":16,"user_id":5773181,"display_name":"Jo&#227;o Pedro Pedrosa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663679545,"creation_date":1663679545,"answer_id":73787296,"question_id":73787115,"body_markdown":"In your Android Studio go to: `File` &gt; `Invalidate Caches Restart`\r\n\r\nIf that doesn&#39;t work, try to restart your computer, to kill all the pending process running.","title":"Android project build issue","body":"<p>In your Android Studio go to: <code>File</code> &gt; <code>Invalidate Caches Restart</code></p>\n<p>If that doesn't work, try to restart your computer, to kill all the pending process running.</p>\n"},{"tags":[],"owner":{"account_id":23936770,"reputation":128,"user_id":17930413,"display_name":"Rahul Rokade"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663909835,"creation_date":1663909835,"answer_id":73823227,"question_id":73787115,"body_markdown":"In your Android Studio go to: File &gt; Invalidate Caches Restart\r\nand also **open task manager and all background task end then again restart** \r\nafter that working successfully.","title":"Android project build issue","body":"<p>In your Android Studio go to: File &gt; Invalidate Caches Restart\nand also <strong>open task manager and all background task end then again restart</strong>\nafter that working successfully.</p>\n"}],"owner":{"account_id":23936770,"reputation":128,"user_id":17930413,"display_name":"Rahul Rokade"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1672742307,"creation_date":1663678674,"question_id":73787115,"body_markdown":"**Android project build fail**\r\n\r\nIn android studio (updated ide - dolphin) build failed , please suggest any one, how can we solve this error.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GkqQB.png","title":"Android project build issue","body":"<p><strong>Android project build fail</strong></p>\n<p>In android studio (updated ide - dolphin) build failed , please suggest any one, how can we solve this error.</p>\n<p><a href=\"https://i.stack.imgur.com/GkqQB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GkqQB.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","oracle11g","payara","java-17"],"answers":[{"tags":[],"owner":{"account_id":25805915,"reputation":16,"user_id":19547898,"display_name":"Ryo Wada"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657788675,"creation_date":1657788675,"answer_id":72977791,"question_id":72958557,"body_markdown":"Place the driver in one directory above, &lt;code&gt;&amp;lt;payara-home&amp;gt;/glassfish/domains/&amp;lt;domain&amp;gt;/lib&lt;/code&gt;.\r\n\r\nThe reason seems to be that the extension mechanism (system property &lt;code&gt;java.ext.dirs&lt;/code&gt;) has been removed from Java 9.\r\nAlso, the [PayaraServer5.192 Release Notes][1] states that &lt;code&gt;&amp;lt;payara-home&amp;gt;/glassfish/domains/&amp;lt;domain&amp;gt;/lib/ext&lt;/code&gt; are no longer placed in the classpath.\r\nPayaraServer officially supports Java 11 in addition to Java 8 since 5.192, but it seems to be a corresponding response.\r\n\r\n\r\n  [1]: https://docs.payara.fish/community/docs/release-notes/release-notes-192.html","title":"JDBC Connection Pool Payara 5 with JDK 17","body":"<p>Place the driver in one directory above, <code>&lt;payara-home&gt;/glassfish/domains/&lt;domain&gt;/lib</code>.</p>\n<p>The reason seems to be that the extension mechanism (system property <code>java.ext.dirs</code>) has been removed from Java 9.\nAlso, the <a href=\"https://docs.payara.fish/community/docs/release-notes/release-notes-192.html\" rel=\"nofollow noreferrer\">PayaraServer5.192 Release Notes</a> states that <code>&lt;payara-home&gt;/glassfish/domains/&lt;domain&gt;/lib/ext</code> are no longer placed in the classpath.\nPayaraServer officially supports Java 11 in addition to Java 8 since 5.192, but it seems to be a corresponding response.</p>\n"}],"owner":{"account_id":6866847,"reputation":13,"user_id":5278946,"display_name":"dalbuja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":834,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72977791,"answer_count":1,"score":0,"last_activity_date":1672742270,"creation_date":1657661106,"question_id":72958557,"body_markdown":"I am testing payara 5 with jdk 17.\r\nBut I have problems with the connection pool.\r\n\r\n\r\n    &lt;jdbc-connection-pool max-pool-size=&quot;100&quot; datasource-classname=&quot;oracle.jdbc.pool.OracleDataSource&quot; steady-pool-size=&quot;1&quot; validation-table-name=&quot;dual&quot; name=&quot;oracle_thin_emp&quot; is-connection-validation-required=&quot;true&quot; res-type=&quot;javax.sql.DataSource&quot;&gt;\r\n          &lt;property name=&quot;driverClass&quot; value=&quot;oracle.jdbc.driver.OracleDriver&quot;&gt;&lt;/property&gt;\r\n          &lt;property name=&quot;URL&quot; value=&quot;jdbc:oracle:thin:@192.168.50.19:1521:TD&quot;&gt;&lt;/property&gt;\r\n          &lt;property name=&quot;serverName&quot; value=&quot;192.168.50.19&quot;&gt;&lt;/property&gt;\r\n          &lt;property name=&quot;User&quot; value=&quot;EMP&quot;&gt;&lt;/property&gt;\r\n          &lt;property name=&quot;Password&quot; value=&quot;EMP&quot;&gt;&lt;/property&gt;\r\n          &lt;property name=&quot;PortNumber&quot; value=&quot;1521&quot;&gt;&lt;/property&gt;\r\n          &lt;property name=&quot;databaseName&quot; value=&quot;TD&quot;&gt;&lt;/property&gt;\r\n        &lt;/jdbc-connection-pool&gt;\r\n\r\n\r\n\r\nWhen I start payara 5 with jdk 8 the connection pool works correctly but when I start the web server with jdk 17 and ping from the admin console I get the following error:\r\n**Ping Connection Pool failed for oracle_thin_emp. Class name is wrong or classpath is not set for : oracle.jdbc.pool.OracleDataSource Please check the server.log for more details.**\r\n\r\nLog:\r\n\r\n    [Payara 5.2022.2] [SEVERE] [] [javax.enterprise.resource.resourceadapter.com.sun.gjc.util] [tid: _ThreadID=163 _ThreadName=admin-thread-pool::admin-listener(4)] [timeMillis: 1657657513953] [levelValue: 1000] [[\r\n      RAR5099 : Wrong class name or classpath for Datasource Object \r\n    java.lang.ClassNotFoundException: oracle.jdbc.pool.OracleDataSource\r\n    \tat java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587)\r\n    \tat com.sun.enterprise.loader.CurrentBeforeParentClassLoader.loadClass(CurrentBeforeParentClassLoader.java:83)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n    \tat java.base/java.lang.Class.forName0(Native Method)\r\n    \tat java.base/java.lang.Class.forName(Class.java:467)\r\n\r\n\r\nDetails:\r\n\r\n - JDK: oracle jdk-17.0.3.1\r\n - Server: payara 5.2022.2\r\n - Driver: payara5\\glassfish\\domains\\domain1\\lib\\ext\\ojdbc7-12.1.0.2.jar\r\n\r\n","title":"JDBC Connection Pool Payara 5 with JDK 17","body":"<p>I am testing payara 5 with jdk 17.\nBut I have problems with the connection pool.</p>\n<pre><code>&lt;jdbc-connection-pool max-pool-size=&quot;100&quot; datasource-classname=&quot;oracle.jdbc.pool.OracleDataSource&quot; steady-pool-size=&quot;1&quot; validation-table-name=&quot;dual&quot; name=&quot;oracle_thin_emp&quot; is-connection-validation-required=&quot;true&quot; res-type=&quot;javax.sql.DataSource&quot;&gt;\n      &lt;property name=&quot;driverClass&quot; value=&quot;oracle.jdbc.driver.OracleDriver&quot;&gt;&lt;/property&gt;\n      &lt;property name=&quot;URL&quot; value=&quot;jdbc:oracle:thin:@192.168.50.19:1521:TD&quot;&gt;&lt;/property&gt;\n      &lt;property name=&quot;serverName&quot; value=&quot;192.168.50.19&quot;&gt;&lt;/property&gt;\n      &lt;property name=&quot;User&quot; value=&quot;EMP&quot;&gt;&lt;/property&gt;\n      &lt;property name=&quot;Password&quot; value=&quot;EMP&quot;&gt;&lt;/property&gt;\n      &lt;property name=&quot;PortNumber&quot; value=&quot;1521&quot;&gt;&lt;/property&gt;\n      &lt;property name=&quot;databaseName&quot; value=&quot;TD&quot;&gt;&lt;/property&gt;\n    &lt;/jdbc-connection-pool&gt;\n</code></pre>\n<p>When I start payara 5 with jdk 8 the connection pool works correctly but when I start the web server with jdk 17 and ping from the admin console I get the following error:\n<strong>Ping Connection Pool failed for oracle_thin_emp. Class name is wrong or classpath is not set for : oracle.jdbc.pool.OracleDataSource Please check the server.log for more details.</strong></p>\n<p>Log:</p>\n<pre><code>[Payara 5.2022.2] [SEVERE] [] [javax.enterprise.resource.resourceadapter.com.sun.gjc.util] [tid: _ThreadID=163 _ThreadName=admin-thread-pool::admin-listener(4)] [timeMillis: 1657657513953] [levelValue: 1000] [[\n  RAR5099 : Wrong class name or classpath for Datasource Object \njava.lang.ClassNotFoundException: oracle.jdbc.pool.OracleDataSource\n    at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587)\n    at com.sun.enterprise.loader.CurrentBeforeParentClassLoader.loadClass(CurrentBeforeParentClassLoader.java:83)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    at java.base/java.lang.Class.forName0(Native Method)\n    at java.base/java.lang.Class.forName(Class.java:467)\n</code></pre>\n<p>Details:</p>\n<ul>\n<li>JDK: oracle jdk-17.0.3.1</li>\n<li>Server: payara 5.2022.2</li>\n<li>Driver: payara5\\glassfish\\domains\\domain1\\lib\\ext\\ojdbc7-12.1.0.2.jar</li>\n</ul>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1672741334,"post_id":74991945,"comment_id":132338269,"body_markdown":"Please show the code you are using to get those inputs.","body":"Please show the code you are using to get those inputs."},{"owner":{"display_name":"user20758216"},"score":0,"creation_date":1672741573,"post_id":74991945,"comment_id":132338333,"body_markdown":"@AndyTurner Inserted some code","body":"@AndyTurner Inserted some code"},{"owner":{"account_id":6875395,"reputation":1037,"user_id":5284011,"display_name":"JohnXF"},"score":0,"creation_date":1672741603,"post_id":74991945,"comment_id":132338347,"body_markdown":"You need to clarify your BMI calculation units. What unit is weight and what unit is height? From a quick google it appears you are using a formula where weight is LBs (pounds) and height is in inches. So you need to convert the height values into a total of inches and the weight value into a total of LBs and then put those through the formula.","body":"You need to clarify your BMI calculation units. What unit is weight and what unit is height? From a quick google it appears you are using a formula where weight is LBs (pounds) and height is in inches. So you need to convert the height values into a total of inches and the weight value into a total of LBs and then put those through the formula."},{"owner":{"display_name":"user20758216"},"score":0,"creation_date":1672741718,"post_id":74991945,"comment_id":132338385,"body_markdown":"Okay will give it a shot @JohnXF","body":"Okay will give it a shot @JohnXF"}],"answers":[{"tags":[],"owner":{"account_id":10706908,"reputation":592,"user_id":7880402,"accept_rate":75,"display_name":"Arkin Solomon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672741720,"creation_date":1672741720,"answer_id":74992067,"question_id":74991945,"body_markdown":"Well there&#39;s a few ways to do this. But I don&#39;t think that&#39;s what you need to do in this scenario. For instance, someone saying they are 5&#39;11&quot;, simply adding a decimal place will result in the value 5.11 feet which is incorrect, as 5&#39;11&quot; is actually 5.9167 feet. \r\n\r\n5 + 11 &#247; 12 ≈ 5.9167 feet\r\n\r\nAssuming you&#39;re using [this][1] chart, What you need to do here is multiply `feet` by 12 to get the feet in inches, and add this value to the inches input to get the total height in inches. Similarly, for stones, you would multiply the stones value by 14 to convert to pounds, and add it to the inputted value for pounds to get the total weight in pounds. This does not require adding a decimal point between two values.\r\n\r\n\r\n  [1]: https://www.cdc.gov/healthyweight/assessing/bmi/childrens_BMI/childrens_BMI_formula.html","title":"Turning an Integer into a Decimal","body":"<p>Well there's a few ways to do this. But I don't think that's what you need to do in this scenario. For instance, someone saying they are 5'11&quot;, simply adding a decimal place will result in the value 5.11 feet which is incorrect, as 5'11&quot; is actually 5.9167 feet.</p>\n<p>5 + 11 ÷ 12 ≈ 5.9167 feet</p>\n<p>Assuming you're using <a href=\"https://www.cdc.gov/healthyweight/assessing/bmi/childrens_BMI/childrens_BMI_formula.html\" rel=\"nofollow noreferrer\">this</a> chart, What you need to do here is multiply <code>feet</code> by 12 to get the feet in inches, and add this value to the inches input to get the total height in inches. Similarly, for stones, you would multiply the stones value by 14 to convert to pounds, and add it to the inputted value for pounds to get the total weight in pounds. This does not require adding a decimal point between two values.</p>\n"}],"owner":{"display_name":"user20758216"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74992067,"answer_count":1,"score":1,"last_activity_date":1672741877,"creation_date":1672741122,"question_id":74991945,"body_markdown":"Slightly confused on how i can create this code for a BMI calculator.\r\n\r\nI have been asked to input 2 integers each for height and weight. It will be presented in the below format with the ranges.\r\n\r\n    Enter Height in Feet and Inches\r\n    Enter Feet(2-7): --\r\n    Enter Inches(0-11): --\r\n\r\n    Enter Weight in Stones and Pounds\r\n    Enter Stones(3-30): --\r\n    Enter Pounds(0-13):--\r\n\r\nThis data would then be added into a function that calculates the BMI \r\n\r\n***BMI = weight * 703 / height2***\r\n\r\nI was wondering how i can add a decimal place in between the two integers for each height and weight. I was first thinking of just adding the numbers and dividing by 10, but that is obviously wrong. or using the printf function to print it on screen. But then it is still wrong in the formula if im right?\r\n\r\n    Scanner input = new Scanner(System.in);\r\n    System.out.print(&quot;Enter feet: &quot;);\r\n    int feet  = input.nextInt();\r\n            \r\n    System.out.print(&quot;Enter inches: &quot;);\r\n    int inches  = input.nextInt();\r\n            \r\n    System.out.print(&quot;Enter stone: &quot;);\r\n    int stone  = input.nextInt();\r\n            \r\n    System.out.print(&quot;Enter pounds: &quot;);\r\n    int pounds  = input.nextInt();\r\n\r\n\r\n","title":"Turning an Integer into a Decimal","body":"<p>Slightly confused on how i can create this code for a BMI calculator.</p>\n<p>I have been asked to input 2 integers each for height and weight. It will be presented in the below format with the ranges.</p>\n<pre><code>Enter Height in Feet and Inches\nEnter Feet(2-7): --\nEnter Inches(0-11): --\n\nEnter Weight in Stones and Pounds\nEnter Stones(3-30): --\nEnter Pounds(0-13):--\n</code></pre>\n<p>This data would then be added into a function that calculates the BMI</p>\n<p><em><strong>BMI = weight * 703 / height2</strong></em></p>\n<p>I was wondering how i can add a decimal place in between the two integers for each height and weight. I was first thinking of just adding the numbers and dividing by 10, but that is obviously wrong. or using the printf function to print it on screen. But then it is still wrong in the formula if im right?</p>\n<pre><code>Scanner input = new Scanner(System.in);\nSystem.out.print(&quot;Enter feet: &quot;);\nint feet  = input.nextInt();\n        \nSystem.out.print(&quot;Enter inches: &quot;);\nint inches  = input.nextInt();\n        \nSystem.out.print(&quot;Enter stone: &quot;);\nint stone  = input.nextInt();\n        \nSystem.out.print(&quot;Enter pounds: &quot;);\nint pounds  = input.nextInt();\n</code></pre>\n"},{"tags":["java","spring-boot"],"owner":{"account_id":27419622,"reputation":1,"user_id":20918286,"display_name":"samyuktha kurapati"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1672927143,"answer_count":0,"score":-1,"last_activity_date":1672741690,"creation_date":1672741690,"question_id":74992061,"body_markdown":"When I am trying to run the application on server and my maven build is also happening good but I am getting the below error as the (Value for environment property not set: nswrta.plates-rest.ws.client.id) even though corp value has been set locally. Could you please help me on this \r\n\r\nCaused by: org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [org.springframework.context.support.ClassPathXmlApplicationContext]: Constructor threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;ifsDeliveryChoicesService&#39; defined in URL [jar:file:/C:/Users/a-skurapati/Downloads/apache-tomcat-9.0.30/webapps/plateapi/WEB-INF/lib/ifs-core-2.0.0.jar!/nswrta/ifs/service/IfsDeliveryChoicesServiceImpl.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [nswrta.ifs.service.IfsDeliveryChoicesServiceImpl]: Constructor threw exception; nested exception is nswrta.corp.base.CorpConfigurationError: Value for environment property not set: nswrta.plates-rest.ws.client.id\r\n\r\nI tried to do the mvn build and at a point I got stuck to understand this below error as all the values are properly mentioned. FInally I have make the application run on the TOMCAT server","title":"When I am trying to run the application on server I am getting below error","body":"<p>When I am trying to run the application on server and my maven build is also happening good but I am getting the below error as the (Value for environment property not set: nswrta.plates-rest.ws.client.id) even though corp value has been set locally. Could you please help me on this</p>\n<p>Caused by: org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [org.springframework.context.support.ClassPathXmlApplicationContext]: Constructor threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'ifsDeliveryChoicesService' defined in URL [jar:file:/C:/Users/a-skurapati/Downloads/apache-tomcat-9.0.30/webapps/plateapi/WEB-INF/lib/ifs-core-2.0.0.jar!/nswrta/ifs/service/IfsDeliveryChoicesServiceImpl.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [nswrta.ifs.service.IfsDeliveryChoicesServiceImpl]: Constructor threw exception; nested exception is nswrta.corp.base.CorpConfigurationError: Value for environment property not set: nswrta.plates-rest.ws.client.id</p>\n<p>I tried to do the mvn build and at a point I got stuck to understand this below error as all the values are properly mentioned. FInally I have make the application run on the TOMCAT server</p>\n"},{"tags":["java","spring","spring-boot","docker","macos"],"comments":[{"owner":{"account_id":15396644,"reputation":25755,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1672742272,"post_id":74992040,"comment_id":132338577,"body_markdown":"Welcome to SO! [Here&#39;s how to ask a proper &quot;Where&#39;s the bug / Fix my code&quot; question](https://meta.stackoverflow.com/a/253788/11107541). Can you please read it and apply what you learn to improve your question? See also: [ask]. [&#39;Can somebody help me?&#39; is not an actual question](https://meta.stackoverflow.com/a/284237/11107541). Can you please ask an actual question?","body":"Welcome to SO! <a href=\"https://meta.stackoverflow.com/a/253788/11107541\">Here&#39;s how to ask a proper &quot;Where&#39;s the bug / Fix my code&quot; question</a>. Can you please read it and apply what you learn to improve your question? See also: <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>. <a href=\"https://meta.stackoverflow.com/a/284237/11107541\">&#39;Can somebody help me?&#39; is not an actual question</a>. Can you please ask an actual question?"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":1,"creation_date":1672742506,"post_id":74992040,"comment_id":132338659,"body_markdown":"https://docs.docker.com/desktop/install/mac-install/","body":"<a href=\"https://docs.docker.com/desktop/install/mac-install/\" rel=\"nofollow noreferrer\">docs.docker.com/desktop/install/mac-install</a>"},{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1672744482,"post_id":74992040,"comment_id":132339280,"body_markdown":"What IDE are you using?  Have you in fact installed Docker (Docker Engine on native Linux, most likely Docker Desktop on MacOS or Windows)?  What&#39;s in the Compose file; can you run your application with just a JVM?","body":"What IDE are you using?  Have you in fact installed Docker (Docker Engine on native Linux, most likely Docker Desktop on MacOS or Windows)?  What&#39;s in the Compose file; can you run your application with just a JVM?"},{"owner":{"account_id":27419468,"reputation":1,"user_id":20918149,"display_name":"user20918149"},"score":0,"creation_date":1672819482,"post_id":74992040,"comment_id":132356745,"body_markdown":"Sorry, IntellijIDEA. I thought the Docker plugin is enough.\nInstalled Docker, restarted IDEA and it&#39;s working. Thank you.","body":"Sorry, IntellijIDEA. I thought the Docker plugin is enough. Installed Docker, restarted IDEA and it&#39;s working. Thank you."}],"owner":{"account_id":27419468,"reputation":1,"user_id":20918149,"display_name":"user20918149"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":454,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672741610,"creation_date":1672741610,"question_id":74992040,"body_markdown":"I&#39;m learning Java and Spring Boot with a tutorial and there is a docker-compose.yml which I should run, but I get an error:\r\n&gt; Error running &#39;docker-compose.yml: Compose Deployment&#39;: Server Docker not found\r\n\r\nI opened Preferences and there really wasn&#39;t configured integration, so I tried to add one, but I got another error:\r\n&gt; Cannot connect: Cannot connect to Docker daemon at unix:///var/run/docker.sock. Is the docker daemon running? (Details: [2] No such file or directory)\r\n\r\nIn the Docker Tools I found the Docker Machine executable is not specified. But I have no clue what  there should be and Google isn&#39;t helping me.\r\n\r\nCould you please help me?","title":"Server Docker not found, Cannot connect to Docker daemon, Docker Machine executable is not specified","body":"<p>I'm learning Java and Spring Boot with a tutorial and there is a docker-compose.yml which I should run, but I get an error:</p>\n<blockquote>\n<p>Error running 'docker-compose.yml: Compose Deployment': Server Docker not found</p>\n</blockquote>\n<p>I opened Preferences and there really wasn't configured integration, so I tried to add one, but I got another error:</p>\n<blockquote>\n<p>Cannot connect: Cannot connect to Docker daemon at unix:///var/run/docker.sock. Is the docker daemon running? (Details: [2] No such file or directory)</p>\n</blockquote>\n<p>In the Docker Tools I found the Docker Machine executable is not specified. But I have no clue what  there should be and Google isn't helping me.</p>\n<p>Could you please help me?</p>\n"},{"tags":["java","module-info"],"comments":[{"owner":{"account_id":3380032,"reputation":81,"user_id":2837258,"display_name":"Aaron"},"score":0,"creation_date":1659933735,"post_id":73245257,"comment_id":129403957,"body_markdown":"I&#39;ve tried multiple versions of eclipse and multiple JDK&#39;s.  I&#39;m at a loss as to why this isn&#39;t working, any help would be greatly appreciated.","body":"I&#39;ve tried multiple versions of eclipse and multiple JDK&#39;s.  I&#39;m at a loss as to why this isn&#39;t working, any help would be greatly appreciated."}],"answers":[{"tags":[],"owner":{"account_id":3380032,"reputation":81,"user_id":2837258,"display_name":"Aaron"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659934897,"creation_date":1659934897,"answer_id":73273100,"question_id":73245257,"body_markdown":"Eclipse is no longer displaying the error after changing the compiler compliance level\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/f5msB.png","title":"module-info.java - error: jdk.crypto.mscapi cannot be resolved to a module","body":"<p>Eclipse is no longer displaying the error after changing the compiler compliance level</p>\n<p><a href=\"https://i.stack.imgur.com/f5msB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f5msB.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":3380032,"reputation":81,"user_id":2837258,"display_name":"Aaron"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73273100,"answer_count":1,"score":0,"last_activity_date":1672741571,"creation_date":1659678910,"question_id":73245257,"body_markdown":"Eclipse version: Version: 2022-03 (4.23.0)\r\n\r\nJDK: 17.0.3\r\n\r\nI&#39;m making some updates to an existing modular project.  For some reason, eclipse seems to think that jdk.crypto.mscapi cannot be resolved to a module.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI can see the module in the list when I run java --list-modules\r\n\r\nI can see the module within eclipse \r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\nNot sure what the problem is here, anyone have any tips?\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fXIpg.png\r\n  [2]: https://i.stack.imgur.com/l5l8N.png","title":"module-info.java - error: jdk.crypto.mscapi cannot be resolved to a module","body":"<p>Eclipse version: Version: 2022-03 (4.23.0)</p>\n<p>JDK: 17.0.3</p>\n<p>I'm making some updates to an existing modular project.  For some reason, eclipse seems to think that jdk.crypto.mscapi cannot be resolved to a module.</p>\n<p><a href=\"https://i.stack.imgur.com/fXIpg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fXIpg.png\" alt=\"enter image description here\" /></a></p>\n<p>I can see the module in the list when I run java --list-modules</p>\n<p>I can see the module within eclipse</p>\n<p><a href=\"https://i.stack.imgur.com/l5l8N.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/l5l8N.png\" alt=\"enter image description here\" /></a></p>\n<p>Not sure what the problem is here, anyone have any tips?</p>\n"},{"tags":["java","java-17"],"comments":[{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":3,"creation_date":1660996090,"post_id":73426331,"comment_id":129668476,"body_markdown":"The real question is: why do you need to do that?","body":"The real question is: why do you need to do that?"},{"owner":{"account_id":9893206,"reputation":791,"user_id":7325581,"accept_rate":20,"display_name":"Michael Tsai"},"score":0,"creation_date":1660996227,"post_id":73426331,"comment_id":129668501,"body_markdown":"@Olivier because I see Lombok can access the internal api such as com.sun.tools. I am curious about that how Lombok can do that.","body":"@Olivier because I see Lombok can access the internal api such as com.sun.tools. I am curious about that how Lombok can do that."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1660996340,"post_id":73426331,"comment_id":129668524,"body_markdown":"See how [Lombok did it](https://github.com/projectlombok/lombok/commit/7069c7e90377952ae7c9a7dfd6786205dfe7ec5f) or how [Eclipse Window builder did it by using the Burningwave library](https://github.com/eclipse/windowbuilder/issues/45).","body":"See how <a href=\"https://github.com/projectlombok/lombok/commit/7069c7e90377952ae7c9a7dfd6786205dfe7ec5f\" rel=\"nofollow noreferrer\">Lombok did it</a> or how <a href=\"https://github.com/eclipse/windowbuilder/issues/45\" rel=\"nofollow noreferrer\">Eclipse Window builder did it by using the Burningwave library</a>."},{"owner":{"account_id":9893206,"reputation":791,"user_id":7325581,"accept_rate":20,"display_name":"Michael Tsai"},"score":0,"creation_date":1660996794,"post_id":73426331,"comment_id":129668608,"body_markdown":"@howlger but this class can directly import the internal api such as com.sun.tools: https://github.com/projectlombok/lombok/blob/master/src/core/lombok/javac/apt/LombokProcessor.java","body":"@howlger but this class can directly import the internal api such as com.sun.tools: <a href=\"https://github.com/projectlombok/lombok/blob/master/src/core/lombok/javac/apt/LombokProcessor.java\" rel=\"nofollow noreferrer\">github.com/projectlombok/lombok/blob/master/src/core/lombok/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1660997443,"post_id":73426331,"comment_id":129668725,"body_markdown":"Yes, but this works only with Java 17 or higher (or Java 16 without VM argument for old behavior) and a Lombok version containing the mentioned change.","body":"Yes, but this works only with Java 17 or higher (or Java 16 without VM argument for old behavior) and a Lombok version containing the mentioned change."},{"owner":{"account_id":9893206,"reputation":791,"user_id":7325581,"accept_rate":20,"display_name":"Michael Tsai"},"score":0,"creation_date":1660997649,"post_id":73426331,"comment_id":129668757,"body_markdown":"@howlger but I am using jdk 17, I cannot directly import com.sun.tools","body":"@howlger but I am using jdk 17, I cannot directly import com.sun.tools"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1661001552,"post_id":73426331,"comment_id":129669443,"body_markdown":"Sorry, I misread your question. You are talking about internals of the system library which are not API anymore for reasons, right? So don&#39;t use it anymore. Do also not use something like `--add-exports jdk.compiler/com.sun.tools.javac.model=ALL-UNNAMED` to make `System.out.println(com.sun.tools.javac.model.JavacElements.class);` compileable. Migrate your code instead of hacking the Java VM. Unfortunately, you didn&#39;t tell your [root problem](https://en.wikipedia.org/wiki/XY_problem).","body":"Sorry, I misread your question. You are talking about internals of the system library which are not API anymore for reasons, right? So don&#39;t use it anymore. Do also not use something like <code>--add-exports jdk.compiler&#47;com.sun.tools.javac.model=ALL-UNNAMED</code> to make <code>System.out.println(com.sun.tools.javac.model.JavacElements.c&zwnj;&#8203;lass);</code> compileable. Migrate your code instead of hacking the Java VM. Unfortunately, you didn&#39;t tell your <a href=\"https://en.wikipedia.org/wiki/XY_problem\" rel=\"nofollow noreferrer\">root problem</a>."},{"owner":{"account_id":9893206,"reputation":791,"user_id":7325581,"accept_rate":20,"display_name":"Michael Tsai"},"score":0,"creation_date":1661002050,"post_id":73426331,"comment_id":129669562,"body_markdown":"@howlger but I wanna know how Lombok can do that. I try to follow the source code of Lombok to do that just for learning reason but it doesn&#39;t work.","body":"@howlger but I wanna know how Lombok can do that. I try to follow the source code of Lombok to do that just for learning reason but it doesn&#39;t work."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1661002529,"post_id":73426331,"comment_id":129669662,"body_markdown":"Did you try reflection the way in the mentioned change and not the old way? Please tell your root problem and show your code.","body":"Did you try reflection the way in the mentioned change and not the old way? Please tell your root problem and show your code."}],"owner":{"account_id":9893206,"reputation":791,"user_id":7325581,"accept_rate":20,"display_name":"Michael Tsai"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":749,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672741468,"creation_date":1660995084,"question_id":73426331,"body_markdown":"As we know, jdk 17 has a new feature: Encapsulating the Java runtime internals. It made developers cannot access jdk internal API anymore even through reflection.\r\n\r\nNow, do we have any methods to access jdk internal api?","title":"How to access internal API after jdk 17?","body":"<p>As we know, jdk 17 has a new feature: Encapsulating the Java runtime internals. It made developers cannot access jdk internal API anymore even through reflection.</p>\n<p>Now, do we have any methods to access jdk internal api?</p>\n"},{"tags":["java","netbeans-12"],"comments":[{"owner":{"account_id":22197524,"reputation":53,"user_id":16438715,"display_name":"Candy"},"score":0,"creation_date":1662093801,"post_id":73577795,"comment_id":129930863,"body_markdown":"@sorifiend its clearly mentioned that I have built and run the project. The issue seems to be something else.","body":"@sorifiend its clearly mentioned that I have built and run the project. The issue seems to be something else."},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1662094222,"post_id":73577795,"comment_id":129930907,"body_markdown":"What are you attempting to do with `Class.forName(&quot;org.apache.derby.jdbc.ClientDriver&quot;);`? If you remove that line the code will work fine","body":"What are you attempting to do with <code>Class.forName(&quot;org.apache.derby.jdbc.ClientDriver&quot;);</code>? If you remove that line the code will work fine"},{"owner":{"account_id":22197524,"reputation":53,"user_id":16438715,"display_name":"Candy"},"score":0,"creation_date":1662095185,"post_id":73577795,"comment_id":129931021,"body_markdown":"@sorifiend It is a driver class to the db.","body":"@sorifiend It is a driver class to the db."}],"answers":[{"tags":[],"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662096548,"creation_date":1662096548,"answer_id":73578132,"question_id":73577795,"body_markdown":"This line is your issue:\r\n\r\n    Class.forName(&quot;org.apache.derby.jdbc.ClientDriver&quot;);\r\n\r\nIt is throwing an exception and causing your code to move to the catch block, print the message and then exit. We don&#39;t know exactly what the error is because you hide the exception, but you are most likely getting a `java.lang.ClassNotFoundException: org.apache.derby.jdbc.ClientDriver`\r\n\r\nEdit your catch block to show the full error message like so.\r\n\r\n    public static void main(String[] args) {\r\n        try{\r\n    \t    Class.forName(&quot;org.apache.derby.jdbc.ClientDriver&quot;);\r\n            System.out.println(&quot;It worked!&quot;);\r\n    \t}catch(Exception e){\r\n    \t    e.printStackTrace();\r\n    \t}\r\n    }\r\n\r\nIf you are getting a `ClassNotFoundException` then make sure that the class/driver is on your classpath (There are many existing answers on StackOverflow or the web about how to resolve this).","title":"Netbeans project wouldn&#39;t give output","body":"<p>This line is your issue:</p>\n<pre><code>Class.forName(&quot;org.apache.derby.jdbc.ClientDriver&quot;);\n</code></pre>\n<p>It is throwing an exception and causing your code to move to the catch block, print the message and then exit. We don't know exactly what the error is because you hide the exception, but you are most likely getting a <code>java.lang.ClassNotFoundException: org.apache.derby.jdbc.ClientDriver</code></p>\n<p>Edit your catch block to show the full error message like so.</p>\n<pre><code>public static void main(String[] args) {\n    try{\n        Class.forName(&quot;org.apache.derby.jdbc.ClientDriver&quot;);\n        System.out.println(&quot;It worked!&quot;);\n    }catch(Exception e){\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>If you are getting a <code>ClassNotFoundException</code> then make sure that the class/driver is on your classpath (There are many existing answers on StackOverflow or the web about how to resolve this).</p>\n"}],"owner":{"account_id":22197524,"reputation":53,"user_id":16438715,"display_name":"Candy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1662098076,"accepted_answer_id":73578132,"answer_count":1,"score":0,"last_activity_date":1672741360,"creation_date":1662093132,"question_id":73577795,"body_markdown":"I am using netbeans 12 with jdk 17.\r\nI built and ran the following project, it shows as\r\n\r\n `org.apache.derby.jdbc.ClientDriver\r\nBUILD SUCCESSFUL (total time: 0 seconds)`\r\n\r\nBut the output is not obtained, the code has no errors and this is the only file in the project.\r\n\r\nCode:\r\n\r\n    public class Bookclass {\r\n\r\n    public static void main(String[] args) {\r\n        // TODO code application logic here\r\n        try{\r\n            Scanner in=new Scanner(System.in);\r\n            Class.forName(&quot;org.apache.derby.jdbc.ClientDriver&quot;);\r\n            int ch;\r\n            do{\r\n                System.out.println(&quot;1.Insert 2.Update 3.Delete 4.Display 5.Exit\\nEnter your choice:&quot;);\r\n                ch=in.nextInt();\r\n                books b=new books();\r\n                switch(ch){\r\n                    case 1:\r\n                        b.insert();\r\n                        break;\r\n                    case 2:\r\n                        b.update();\r\n                        break;\r\n                    case 3:\r\n                        b.delete();\r\n                        break;\r\n                    case 4:\r\n                        b.display();\r\n                        break;\r\n                    case 5:\r\n                        System.exit(0);\r\n                        break;\r\n                }\r\n            }while(ch!=5);\r\n        }catch(Exception e){\r\n            System.out.println(e.getMessage());\r\n        }\r\n    }\r\n}","title":"Netbeans project wouldn&#39;t give output","body":"<p>I am using netbeans 12 with jdk 17.\nI built and ran the following project, it shows as</p>\n<p><code>org.apache.derby.jdbc.ClientDriver BUILD SUCCESSFUL (total time: 0 seconds)</code></p>\n<p>But the output is not obtained, the code has no errors and this is the only file in the project.</p>\n<p>Code:</p>\n<pre><code>public class Bookclass {\n\npublic static void main(String[] args) {\n    // TODO code application logic here\n    try{\n        Scanner in=new Scanner(System.in);\n        Class.forName(&quot;org.apache.derby.jdbc.ClientDriver&quot;);\n        int ch;\n        do{\n            System.out.println(&quot;1.Insert 2.Update 3.Delete 4.Display 5.Exit\\nEnter your choice:&quot;);\n            ch=in.nextInt();\n            books b=new books();\n            switch(ch){\n                case 1:\n                    b.insert();\n                    break;\n                case 2:\n                    b.update();\n                    break;\n                case 3:\n                    b.delete();\n                    break;\n                case 4:\n                    b.display();\n                    break;\n                case 5:\n                    System.exit(0);\n                    break;\n            }\n        }while(ch!=5);\n    }catch(Exception e){\n        System.out.println(e.getMessage());\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","netbeans-12"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":2,"creation_date":1662100978,"post_id":73578638,"comment_id":129932159,"body_markdown":"You miss the jar containing class *org.apache.derby.jdbc.ClientDriver* in your class path","body":"You miss the jar containing class <i>org.apache.derby.jdbc.ClientDriver</i> in your class path"},{"owner":{"account_id":22197524,"reputation":53,"user_id":16438715,"display_name":"Candy"},"score":0,"creation_date":1662101325,"post_id":73578638,"comment_id":129932262,"body_markdown":"@jens does derbyclient.jar not contain it?","body":"@jens does derbyclient.jar not contain it?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1662101628,"post_id":73578638,"comment_id":129932373,"body_markdown":"It should contains the class. But it is in your classpath while running your application","body":"It should contains the class. But it is in your classpath while running your application"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1662101667,"post_id":73578638,"comment_id":129932390,"body_markdown":"BTW: Take care of java naming conventions. Class names should start with upper case character","body":"BTW: Take care of java naming conventions. Class names should start with upper case character"},{"owner":{"account_id":22197524,"reputation":53,"user_id":16438715,"display_name":"Candy"},"score":0,"creation_date":1662102134,"post_id":73578638,"comment_id":129932533,"body_markdown":"@jens how do I add a class to a jar file?","body":"@jens how do I add a class to a jar file?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1662102172,"post_id":73578638,"comment_id":129932549,"body_markdown":"How do you run your application?","body":"How do you run your application?"},{"owner":{"account_id":22197524,"reputation":53,"user_id":16438715,"display_name":"Candy"},"score":0,"creation_date":1662102427,"post_id":73578638,"comment_id":129932621,"body_markdown":"@jens I added another jar file containing the class org.apache.derby.jdbc.ClientDriver but no changes.","body":"@jens I added another jar file containing the class org.apache.derby.jdbc.ClientDriver but no changes."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1662102855,"post_id":73578638,"comment_id":129932751,"body_markdown":"How have you done it?","body":"How have you done it?"},{"owner":{"account_id":22197524,"reputation":53,"user_id":16438715,"display_name":"Candy"},"score":0,"creation_date":1662103097,"post_id":73578638,"comment_id":129932822,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/247746/discussion-between-candy-and-jens).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/247746/discussion-between-candy-and-jens\">continue this discussion in chat</a>."}],"owner":{"account_id":22197524,"reputation":53,"user_id":16438715,"display_name":"Candy"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1672741340,"creation_date":1662100456,"question_id":73578638,"body_markdown":"I am using netbeans 12 with jdk 17.\r\nOn building and running the following code, I get this error and no output is shown:\r\n\r\n        java.lang.ClassNotFoundException: org.apache.derby.jdbc.ClientDriver\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n    \tat java.base/java.lang.Class.forName0(Native Method)\r\n    \tat java.base/java.lang.Class.forName(Class.java:375)\r\n    \tat bookclass.Bookclass.main(Bookclass.java:114)\r\n    BUILD SUCCESSFUL (total time: 0 seconds)\r\n\r\nI have added all the jar files namely derby.jar, derbyshared.jar, derbyclient.jar, etc.\r\n\r\nCode:\r\n\r\n    package bookclass;\r\n    import java.sql.*;\r\n    import java.util.*;\r\n    \r\n    class books {\r\n    \r\n        void insert() {\r\n            try {\r\n                Scanner in = new Scanner(System.in);\r\n                Connection con = DriverManager.getConnection(&quot;jdbc:derby://localhost:1527/library&quot;);\r\n                Statement st = con.createStatement();\r\n                String s = &quot;insert into bookstb values(&quot; + id + &quot;, &#39;&quot; + t + &quot;&#39;, &#39;&quot; + p + &quot;&#39;, &#39;&quot; + a + &quot;&#39;, &quot; + c + &quot;, &quot; + pr + &quot;)&quot;;\r\n                int x = st.executeUpdate(s);\r\n                System.out.println(&quot;No. of rows inserted: &quot; + x);\r\n                st.close();\r\n                con.close();\r\n            } catch (Exception e) {\r\n                System.out.println(e.getMessage());\r\n            }\r\n        }\r\n    }\r\n    public class Bookclass {\r\n        public static void main(String[] args) {\r\n            // TODO code application logic here\r\n            try {\r\n                Scanner in = new Scanner(System.in);\r\n                Class.forName(&quot;org.apache.derby.jdbc.ClientDriver&quot;);\r\n                int ch;\r\n                do {\r\n                    System.out.println(&quot;1.Insert 2.Update 3.Delete 4.Display 5.Exit\\nEnter your choice:&quot;);\r\n                    ch = in.nextInt();\r\n                    books b = new books();\r\n                    switch (ch) {\r\n                        case 1:\r\n                            b.insert();\r\n                            break;\r\n                        case 2:\r\n                            b.update();\r\n                            break;\r\n                        case 3:\r\n                            b.delete();\r\n                            break;\r\n                        case 4:\r\n                            b.display();\r\n                            break;\r\n                        case 5:\r\n                            System.exit(0);\r\n                            break;\r\n                    }\r\n                } while (ch != 5);\r\n            } catch (Exception e) {\r\n                //System.out.println(e.getMessage());\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nI have tried all the possible solutions available but none solve my issue.","title":"java.lang.ClassNotFoundException: org.apache.derby.jdbc.ClientDriver on netbeans","body":"<p>I am using netbeans 12 with jdk 17.\nOn building and running the following code, I get this error and no output is shown:</p>\n<pre><code>    java.lang.ClassNotFoundException: org.apache.derby.jdbc.ClientDriver\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    at java.base/java.lang.Class.forName0(Native Method)\n    at java.base/java.lang.Class.forName(Class.java:375)\n    at bookclass.Bookclass.main(Bookclass.java:114)\nBUILD SUCCESSFUL (total time: 0 seconds)\n</code></pre>\n<p>I have added all the jar files namely derby.jar, derbyshared.jar, derbyclient.jar, etc.</p>\n<p>Code:</p>\n<pre><code>package bookclass;\nimport java.sql.*;\nimport java.util.*;\n\nclass books {\n\n    void insert() {\n        try {\n            Scanner in = new Scanner(System.in);\n            Connection con = DriverManager.getConnection(&quot;jdbc:derby://localhost:1527/library&quot;);\n            Statement st = con.createStatement();\n            String s = &quot;insert into bookstb values(&quot; + id + &quot;, '&quot; + t + &quot;', '&quot; + p + &quot;', '&quot; + a + &quot;', &quot; + c + &quot;, &quot; + pr + &quot;)&quot;;\n            int x = st.executeUpdate(s);\n            System.out.println(&quot;No. of rows inserted: &quot; + x);\n            st.close();\n            con.close();\n        } catch (Exception e) {\n            System.out.println(e.getMessage());\n        }\n    }\n}\npublic class Bookclass {\n    public static void main(String[] args) {\n        // TODO code application logic here\n        try {\n            Scanner in = new Scanner(System.in);\n            Class.forName(&quot;org.apache.derby.jdbc.ClientDriver&quot;);\n            int ch;\n            do {\n                System.out.println(&quot;1.Insert 2.Update 3.Delete 4.Display 5.Exit\\nEnter your choice:&quot;);\n                ch = in.nextInt();\n                books b = new books();\n                switch (ch) {\n                    case 1:\n                        b.insert();\n                        break;\n                    case 2:\n                        b.update();\n                        break;\n                    case 3:\n                        b.delete();\n                        break;\n                    case 4:\n                        b.display();\n                        break;\n                    case 5:\n                        System.exit(0);\n                        break;\n                }\n            } while (ch != 5);\n        } catch (Exception e) {\n            //System.out.println(e.getMessage());\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>I have tried all the possible solutions available but none solve my issue.</p>\n"},{"tags":["java","memory-leaks","garbage-collection","zgc"],"comments":[{"owner":{"account_id":54150,"reputation":2013,"user_id":161995,"accept_rate":100,"display_name":"Erik"},"score":0,"creation_date":1669887924,"post_id":74563986,"comment_id":131746833,"body_markdown":"I have no hands-on experience with zgc but there are somethings that stick out here. I note that you have MX == MS. With other GC:s that means that heap ergonomics is turned off. If that is the same with zgc, you might consider setting MS different from MX. I also note that you have THP turned on. I&#39;ve run into excessive gc times with THP turned on due to memory page coalescing. Turning it off was our solution. Assuming you&#39;re not running windows, we caught that with iostat. Hope this helps somewhat.","body":"I have no hands-on experience with zgc but there are somethings that stick out here. I note that you have MX == MS. With other GC:s that means that heap ergonomics is turned off. If that is the same with zgc, you might consider setting MS different from MX. I also note that you have THP turned on. I&#39;ve run into excessive gc times with THP turned on due to memory page coalescing. Turning it off was our solution. Assuming you&#39;re not running windows, we caught that with iostat. Hope this helps somewhat."},{"owner":{"account_id":7338464,"reputation":141,"user_id":5588964,"display_name":"0x00"},"score":0,"creation_date":1669967956,"post_id":74563986,"comment_id":131767645,"body_markdown":"I would have expected THP to reduce the likelihood of paging time during high allocation. But it is something we can try, true.  The size settings are set to the same to ensure that no memory resizing happens for the heap as the work load is fixed. ZGC unexpectedly has quite good performance overall, and memory sizing we used to do with G1 can be definitely smaller. We have not really reduced the heap sizes since our original G1 GC setup.","body":"I would have expected THP to reduce the likelihood of paging time during high allocation. But it is something we can try, true.  The size settings are set to the same to ensure that no memory resizing happens for the heap as the work load is fixed. ZGC unexpectedly has quite good performance overall, and memory sizing we used to do with G1 can be definitely smaller. We have not really reduced the heap sizes since our original G1 GC setup."}],"answers":[{"tags":[],"owner":{"account_id":7338464,"reputation":141,"user_id":5588964,"display_name":"0x00"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669968717,"creation_date":1669968717,"answer_id":74652612,"question_id":74563986,"body_markdown":"We did not get to a reason for the issues, however, we did make some progress in examining the issue closer.\r\n\r\nWhen examing the ZGC code for the OpenJDK from github.\r\n\r\nhttps://github.com/openjdk/zgc/blob/1f8813495e8184b6c38319df1c2cb70de7811a76/src/hotspot/share/gc/z/zDirector.cpp#L184\r\n\r\nIt has code to work out an allocation rate. We also enabled the debug logging of the ZGC.\r\n\r\n```\r\n-Xlog:gc*=debug:file=gc.log:time,level,tags\r\n``` \r\n\r\nThe logging that looks like the final lines below, predicts the  allocation rate to be 0 for extended periods of time for the application start. We suspect this might be one of the reasons for the issue. However, in looking at the GCGraphs it doesn&#39;t fully explain why it gets into some panic state when there is enough memory during normal function. \r\n\r\nWe set the ```-XX:ZAllocationSpikeTolerance=10``` to ensure that the estimated memory use would get close to our normal allocation rate of 2000MB/s. The predicted memory usage for the ZGC from that point on appeared to be correct. We&#39;ve run this settings for a while now on our services without issues so far. We also removed the ```-XX:SoftMaxHeapSize=``` as the GC frequency required seems to be correctly estimated by just the ```XX:ZAllocationSpikeTolerance```. \r\n\r\nExample debug logging for Predicted allocation rate. \r\n```\r\n[2022-12-02T12:45:29.825+0530][debug][gc,director    ] Rule: Allocation Rate (Dynamic GC Workers), MaxAllocRate: 9624.6MB/s (+/-0.6%), Free: 3412MB, GCCPUTime: 0.136, GCDuration: 0.136s, TimeUntilOOM: 0.352s, TimeUntilGC: 0.116s, GCWorkers: 1 -&gt; 1\r\n[2022-12-02T12:45:29.825+0530][debug][gc,director    ] Rule: High Usage, Free: 3412MB(83.3%)\r\n[2022-12-02T12:45:29.825+0530][debug][gc,director    ] Rule: Proactive, AcceptableGCInterval: 3.394s, TimeSinceLastGC: 0.473s, TimeUntilGC: 2.921s\r\n[2022-12-02T12:45:29.925+0530][debug][gc,alloc       ] Allocation Rate: 958.0MB/s, Predicted: 960.9MB/s, Avg: 954.4(+/-5.7)MB/s\r\n[2022-12-02T12:45:29.925+0530][debug][gc,director    ] Rule: Timer, Interval: 4.000s, TimeUntilGC: 3.427s\r\n[2022-12-02T12:45:29.925+0530][debug][gc,director    ] Select GC Workers (Normal), AvoidLongGCWorkers: 0.013, AvoidOOMGCWorkers: 0.393, LastGCWorkers: 1.000, GCWorkers: 0.393\r\n```","title":"JDK 17.0.1 ZGC allocation stall on fast allocation rate","body":"<p>We did not get to a reason for the issues, however, we did make some progress in examining the issue closer.</p>\n<p>When examing the ZGC code for the OpenJDK from github.</p>\n<p><a href=\"https://github.com/openjdk/zgc/blob/1f8813495e8184b6c38319df1c2cb70de7811a76/src/hotspot/share/gc/z/zDirector.cpp#L184\" rel=\"nofollow noreferrer\">https://github.com/openjdk/zgc/blob/1f8813495e8184b6c38319df1c2cb70de7811a76/src/hotspot/share/gc/z/zDirector.cpp#L184</a></p>\n<p>It has code to work out an allocation rate. We also enabled the debug logging of the ZGC.</p>\n<pre><code>-Xlog:gc*=debug:file=gc.log:time,level,tags\n</code></pre>\n<p>The logging that looks like the final lines below, predicts the  allocation rate to be 0 for extended periods of time for the application start. We suspect this might be one of the reasons for the issue. However, in looking at the GCGraphs it doesn't fully explain why it gets into some panic state when there is enough memory during normal function.</p>\n<p>We set the <code>-XX:ZAllocationSpikeTolerance=10</code> to ensure that the estimated memory use would get close to our normal allocation rate of 2000MB/s. The predicted memory usage for the ZGC from that point on appeared to be correct. We've run this settings for a while now on our services without issues so far. We also removed the <code>-XX:SoftMaxHeapSize=</code> as the GC frequency required seems to be correctly estimated by just the <code>XX:ZAllocationSpikeTolerance</code>.</p>\n<p>Example debug logging for Predicted allocation rate.</p>\n<pre><code>[2022-12-02T12:45:29.825+0530][debug][gc,director    ] Rule: Allocation Rate (Dynamic GC Workers), MaxAllocRate: 9624.6MB/s (+/-0.6%), Free: 3412MB, GCCPUTime: 0.136, GCDuration: 0.136s, TimeUntilOOM: 0.352s, TimeUntilGC: 0.116s, GCWorkers: 1 -&gt; 1\n[2022-12-02T12:45:29.825+0530][debug][gc,director    ] Rule: High Usage, Free: 3412MB(83.3%)\n[2022-12-02T12:45:29.825+0530][debug][gc,director    ] Rule: Proactive, AcceptableGCInterval: 3.394s, TimeSinceLastGC: 0.473s, TimeUntilGC: 2.921s\n[2022-12-02T12:45:29.925+0530][debug][gc,alloc       ] Allocation Rate: 958.0MB/s, Predicted: 960.9MB/s, Avg: 954.4(+/-5.7)MB/s\n[2022-12-02T12:45:29.925+0530][debug][gc,director    ] Rule: Timer, Interval: 4.000s, TimeUntilGC: 3.427s\n[2022-12-02T12:45:29.925+0530][debug][gc,director    ] Select GC Workers (Normal), AvoidLongGCWorkers: 0.013, AvoidOOMGCWorkers: 0.393, LastGCWorkers: 1.000, GCWorkers: 0.393\n</code></pre>\n"}],"owner":{"account_id":7338464,"reputation":141,"user_id":5588964,"display_name":"0x00"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1092,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1672741322,"creation_date":1669308391,"question_id":74563986,"body_markdown":"We&#39;re using ZGC on JDK 17.0.1. The application successfully runs without unexpected GC stalls for a period of time, after which it gets into a state where the ZGC does not free much memory when the GC is being done. This results in multiple periodic Allocation Stalls within the application from then on. \r\n\r\nThe application itself does a lot of allocation at a periodic interval of around 35 milliseconds. This is roughly 2GB/s allocation when it’s at peak load. On a typical start in the morning, there is about 30 minutes in which the load is low, till a point at which external data starts arriving, and load is high from then on. The load profile does change as the application is running as a result. Due to the predictable allocation during load, we&#39;ve set the collection at an interval using the ZCollectionInterval. \r\n\r\nWe cannot consistently reproduce the Allocation Stalls, even between different machines where the load is very similar. Oddly, if the application is restarted while the load is already high, then it does not typically run into issues. \r\n\r\nWe did play around with the UseDynamicNumberOfGCThreads as well previously, but it seems to come up  with a number of threads that is 2. The chart attached uses SoftMaxHeapSize=1G. This is a bit aggressive, but we did see the same issue without setting the SofMaxHeapSize.\r\nWe did also notice that the Concurrent Mark phase of the GC seems to increase leading up to this issue. We also didn’t see anything of note about ZGC within the Release notes of JDK versions up till 17.0.5.\r\n\r\n\r\nHas anyone run into similar issues before? We&#39;re unsure as to why this happens or if this is expected behavior when setting the flags as such. As much hasn&#39;t been set and the rarity at which it occurs, we were hoping some one can give some pointers as to if this is actually a known issue with an existing fix or we&#39;re just setting it up wrong.\r\n\r\n\r\nThese are the relevant flags. \r\n\r\n```\r\n-XX:-OmitStackTraceInFastThrow\r\n-XX:CICompilerCount=2\r\n-XX:+DisableExplicitGC\r\n-XX:ParallelGCThreads=4\r\n-XX:ConcGCThreads=4\r\n-Xmx8192m\r\n-Xms8192m\r\n-Xss8m\r\n-Xlog:gc*=info:file=${LT_APP_LOG_PATH_FORMAT}.gc:time,level,tags:filecount=32,filesize=64M\r\n-XX:+UseZGC\r\n-XX:+AlwaysPreTouch\r\n-XX:+UseLargePages\r\n-XX:+UseTransparentHugePages\r\n-XX:ZCollectionInterval=4\r\n-Djdk.nio.maxCachedBufferSize=262144\r\n-XX:+HeapDumpOnOutOfMemoryError\r\n-XX:SoftMaxHeapSize=1G\r\n```\r\n\r\n```\r\n[2022-11-24T09:21:12.378+0530][info][gc,phases   ] GC(669) Concurrent Select Relocation Set 8.713ms\r\n[2022-11-24T09:21:12.378+0530][info][gc,phases   ] GC(669) Pause Relocate Start 0.008ms\r\n[2022-11-24T09:21:12.420+0530][info][gc,phases   ] GC(669) Concurrent Relocate 41.564ms\r\n[2022-11-24T09:21:12.420+0530][info][gc,load     ] GC(669) Load: 36.38/31.86/25.10\r\n[2022-11-24T09:21:12.420+0530][info][gc,mmu      ] GC(669) MMU: 2ms/99.1%, 5ms/99.6%, 10ms/99.8%, 20ms/99.9%, 50ms/99.9%, 100ms/100.0%\r\n[2022-11-24T09:21:12.420+0530][info][gc,marking  ] GC(669) Mark: 4 stripe(s), 2 proactive flush(es), 1 terminate flush(es), 0 completion(s), 0 continuation(s) \r\n[2022-11-24T09:21:12.420+0530][info][gc,marking  ] GC(669) Mark Stack Usage: 32M\r\n[2022-11-24T09:21:12.420+0530][info][gc,nmethod  ] GC(669) NMethods: 10353 registered, 328 unregistered\r\n[2022-11-24T09:21:12.420+0530][info][gc,metaspace] GC(669) Metaspace: 44M used, 46M committed, 1072M reserved\r\n[2022-11-24T09:21:12.420+0530][info][gc,ref      ] GC(669) Soft: 2311 encountered, 98 discovered, 0 enqueued\r\n[2022-11-24T09:21:12.420+0530][info][gc,ref      ] GC(669) Weak: 2559 encountered, 652 discovered, 0 enqueued\r\n[2022-11-24T09:21:12.420+0530][info][gc,ref      ] GC(669) Final: 56 encountered, 7 discovered, 0 enqueued\r\n[2022-11-24T09:21:12.420+0530][info][gc,ref      ] GC(669) Phantom: 27425 encountered, 27313 discovered, 27030 enqueued\r\n[2022-11-24T09:21:12.420+0530][info][gc,reloc    ] GC(669) Small Pages: 5764 / 11528M, Empty: 4752M, Relocated: 58M, In-Place: 0\r\n[2022-11-24T09:21:12.420+0530][info][gc,reloc    ] GC(669) Medium Pages: 3 / 96M, Empty: 64M, Relocated: 0M, In-Place: 0\r\n[2022-11-24T09:21:12.420+0530][info][gc,reloc    ] GC(669) Large Pages: 0 / 0M, Empty: 0M, Relocated: 0M, In-Place: 0\r\n[2022-11-24T09:21:12.420+0530][info][gc,reloc    ] GC(669) Forwarding Usage: 29M\r\n[2022-11-24T09:21:12.420+0530][info][gc,heap     ] GC(669) Min Capacity: 16384M(100%)\r\n[2022-11-24T09:21:12.420+0530][info][gc,heap     ] GC(669) Max Capacity: 16384M(100%)\r\n[2022-11-24T09:21:12.420+0530][info][gc,heap     ] GC(669) Soft Max Capacity: 1024M(6%)\r\n[2022-11-24T09:21:12.420+0530][info][gc,heap     ] GC(669)                Mark Start          Mark End        Relocate Start      Relocate End           High               Low         \r\n[2022-11-24T09:21:12.420+0530][info][gc,heap     ] GC(669)  Capacity:    16384M (100%)      16384M (100%)      16384M (100%)      16384M (100%)      16384M (100%)      16384M (100%)   \r\n[2022-11-24T09:21:12.420+0530][info][gc,heap     ] GC(669)      Free:     4760M (29%)           0M (0%)         4788M (29%)        5392M (33%)        5394M (33%)           0M (0%)     \r\n[2022-11-24T09:21:12.420+0530][info][gc,heap     ] GC(669)      Used:    11624M (71%)       16384M (100%)      11596M (71%)       10992M (67%)       16384M (100%)      10990M (67%)    \r\n[2022-11-24T09:21:12.420+0530][info][gc,heap     ] GC(669)      Live:         -              5860M (36%)        5860M (36%)        5860M (36%)            -                  -          \r\n[2022-11-24T09:21:12.420+0530][info][gc,heap     ] GC(669) Allocated:         -              4760M (29%)        4788M (29%)        4858M (30%)            -                  -          \r\n[2022-11-24T09:21:12.420+0530][info][gc,heap     ] GC(669)   Garbage:         -              5763M (35%)         947M (6%)          273M (2%)             -                  -          \r\n[2022-11-24T09:21:12.420+0530][info][gc,heap     ] GC(669) Reclaimed:         -                  -              4816M (29%)        5490M (34%)            -                  -          \r\n[2022-11-24T09:21:12.420+0530][info][gc          ] GC(669) Garbage Collection (Allocation Stall) 11624M(71%)-&gt;10992M(67%)\r\n[2022-11-24T09:21:12.479+0530][info][gc,start    ] GC(670) Garbage Collection (Allocation Stall)\r\n[2022-11-24T09:21:12.479+0530][info][gc,ref      ] GC(670) Clearing All SoftReferences\r\n[2022-11-24T09:21:12.479+0530][info][gc,task     ] GC(670) Using 4 workers\r\n[2022-11-24T09:21:12.479+0530][info][gc,phases   ] GC(670) Pause Mark Start 0.009ms\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ] === Garbage Collection Statistics =======================================================================================================================\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]                                                              Last 10s              Last 10m              Last 10h                Total\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]                                                              Avg / Max             Avg / Max             Avg / Max             Avg / Max\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]   Collector: Garbage Collection Cycle                   3410.686 / 3486.475    844.670 / 3486.475    464.952 / 3486.475    464.952 / 3486.475    ms\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]  Contention: Mark Segment Reset Contention                     7 / 15                3 / 30                1 / 30                1 / 30          ops/s\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]  Contention: Mark SeqNum Reset Contention                      0 / 1                 0 / 3                 0 / 3                 0 / 3           ops/s\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Critical: Allocation Stall                                  1 / 5                 0 / 7                 0 / 7                 0 / 7           ops/s\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Critical: Allocation Stall                            677.602 / 900.858     303.367 / 900.858     303.367 / 900.858     303.367 / 900.858     ms\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Critical: GC Locker Stall                                   0 / 0                 0 / 0                 0 / 1                 0 / 1           ops/s\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Critical: GC Locker Stall                               0.000 / 0.000         0.000 / 0.000         0.033 / 0.058         0.033 / 0.058       ms\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Critical: Relocation Stall                                  0 / 0                 0 / 0                 0 / 0                 0 / 0           ops/s\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Critical: Relocation Stall                              0.000 / 0.000         0.000 / 0.000         0.000 / 0.000         0.000 / 0.000       ms\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]      Memory: Allocation Rate                                1479 / 1860           1003 / 2264            329 / 2264            329 / 2264        MB/s\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]      Memory: Out Of Memory                                     0 / 0                 0 / 0                 0 / 0                 0 / 0           ops/s\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]      Memory: Page Cache Flush                                  0 / 0                 0 / 32                0 / 32                0 / 32          MB/s\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]      Memory: Page Cache Hit L1                               198 / 827             177 / 901              59 / 901              59 / 901         ops/s\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]      Memory: Page Cache Hit L2                               541 / 930             316 / 1052            103 / 1052            103 / 1052        ops/s\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]      Memory: Page Cache Hit L3                                 1 / 15               12 / 657               4 / 657               4 / 657         ops/s\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]      Memory: Page Cache Miss                                   0 / 0                 0 / 1                 0 / 1                 0 / 1           ops/s\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]      Memory: Uncommit                                          0 / 0                 0 / 0                 0 / 0                 0 / 0           MB/s\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]      Memory: Undo Object Allocation Failed                     0 / 0                 0 / 1                 0 / 1                 0 / 1           ops/s\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]      Memory: Undo Object Allocation Succeeded                  0 / 3                 4 / 855               1 / 855               1 / 855         ops/s\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]      Memory: Undo Page Allocation                              0 / 3                 0 / 4                 0 / 4                 0 / 4           ops/s\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]       Phase: Concurrent Mark                            3356.120 / 3437.684    812.574 / 3437.684    445.012 / 3437.684    445.012 / 3437.684    ms\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]       Phase: Concurrent Mark Continue                      0.000 / 0.000         0.000 / 0.000         0.000 / 0.000         0.000 / 0.000       ms\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]       Phase: Concurrent Mark Free                          0.001 / 0.001         0.001 / 0.002         0.001 / 0.002         0.001 / 0.002       ms\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]       Phase: Concurrent Process Non-Strong References      8.650 / 8.848        12.746 / 47.124        8.067 / 47.124        8.067 / 47.124      ms\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]       Phase: Concurrent Relocate                          36.550 / 41.564       14.436 / 55.995        8.357 / 55.995        8.357 / 55.995      ms\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]       Phase: Concurrent Reset Relocation Set               0.067 / 0.080         0.023 / 0.080         0.013 / 0.080         0.013 / 0.080       ms\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]       Phase: Concurrent Select Relocation Set              7.214 / 8.713         3.382 / 29.365        2.579 / 29.365        2.579 / 29.365      ms\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]       Phase: Pause Mark End                                0.011 / 0.011         0.011 / 0.018         0.009 / 0.018         0.009 / 0.018       ms\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]       Phase: Pause Mark Start                              0.008 / 0.009         0.008 / 0.016         0.008 / 0.016         0.008 / 0.016       ms\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]       Phase: Pause Relocate Start                          0.008 / 0.008         0.007 / 0.013         0.006 / 0.013         0.006 / 0.013       ms\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Subphase: Concurrent Classes Purge                      0.266 / 0.497         0.411 / 5.255         0.251 / 5.255         0.251 / 5.255       ms\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Subphase: Concurrent Classes Unlink                     5.018 / 5.358         9.216 / 28.725        5.991 / 28.725        5.991 / 28.725      ms\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Subphase: Concurrent Mark                            3352.212 / 3437.123    855.661 / 3437.123    454.341 / 3437.123    454.341 / 3437.123    ms\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Subphase: Concurrent Mark Try Flush                     0.030 / 0.055         0.760 / 42.368        0.442 / 42.368        0.442 / 42.368      ms\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Subphase: Concurrent Mark Try Terminate                 0.703 / 1.059         1.393 / 27.549        1.126 / 27.549        1.126 / 27.549      ms\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Subphase: Concurrent References Enqueue                 0.003 / 0.004         0.003 / 0.013         0.002 / 0.013         0.002 / 0.013       ms\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Subphase: Concurrent References Process                 3.055 / 3.524         1.183 / 9.454         0.655 / 9.454         0.655 / 9.454       ms\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Subphase: Concurrent Roots ClassLoaderDataGraph         0.090 / 0.223         0.135 / 12.400        0.105 / 12.400        0.105 / 12.400      ms\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Subphase: Concurrent Roots CodeCache                    0.000 / 0.000         0.000 / 0.000         0.000 / 0.000         0.000 / 0.000       ms\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Subphase: Concurrent Roots JavaThreads                  0.411 / 1.162         0.520 / 12.391        0.407 / 12.391        0.407 / 12.391      ms\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Subphase: Concurrent Roots OopStorageSet                0.018 / 0.038         0.051 / 12.043        0.030 / 12.043        0.030 / 12.043      ms\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Subphase: Concurrent Weak Roots OopStorageSet           0.259 / 0.263         0.449 / 4.890         0.331 / 4.890         0.331 / 4.890       ms\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Subphase: Pause Mark Try Complete                       0.000 / 0.000         0.000 / 0.000         0.000 / 0.000         0.000 / 0.000       ms\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]      System: Java Threads                                     28 / 28               26 / 29               21 / 29               21 / 29          threads\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ] =========================================================================================================================================================\r\n[2022-11-24T09:21:15.944+0530][info][gc,phases   ] GC(670) Concurrent Mark 3465.071ms\r\n[2022-11-24T09:21:15.944+0530][info][gc,phases   ] GC(670) Pause Mark End 0.011ms\r\n[2022-11-24T09:21:15.944+0530][info][gc,phases   ] GC(670) Concurrent Mark Free 0.001ms\r\n[2022-11-24T09:21:15.953+0530][info][gc,phases   ] GC(670) Concurrent Process Non-Strong References 8.537ms\r\n[2022-11-24T09:21:15.953+0530][info][gc,phases   ] GC(670) Concurrent Reset Relocation Set 0.062ms\r\n[2022-11-24T09:21:15.953+0530][info][gc          ] Allocation Stall (lt-primary-pool-2) 704.524ms\r\n[2022-11-24T09:21:15.953+0530][info][gc          ] Allocation Stall (lt-primary-pool-0) 704.168ms\r\n[2022-11-24T09:21:15.953+0530][info][gc          ] Allocation Stall (lt-secondary-pool-0) 711.668ms\r\n[2022-11-24T09:21:15.955+0530][info][gc          ] Allocation Stall (lt-primary-pool-1) 707.109ms\r\n[2022-11-24T09:21:15.955+0530][info][gc          ] Allocation Stall (lt-secondary-pool-1) 713.196ms\r\n[2022-11-24T09:21:15.957+0530][info][gc,phases   ] GC(670) Concurrent Select Relocation Set 4.082ms\r\n\r\n```\r\n```\r\njava version &quot;17.0.1&quot; 2021-10-19 LTS\r\nJava(TM) SE Runtime Environment (build 17.0.1+12-LTS-39)\r\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.1+12-LTS-39, mixed mode, sharing)\r\n```\r\n\r\nGraphs created with GCViewer on the GC logs.\r\n\r\n**ZGC clean up issues**\r\n[![ZGC clean up issues][2]][2]\r\n\r\n**No issues allocation when everything is fine**\r\n[![No issues allocation when everything is fine][1]][1]\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mgd3y.png\r\n  [2]: https://i.stack.imgur.com/01bAl.png","title":"JDK 17.0.1 ZGC allocation stall on fast allocation rate","body":"<p>We're using ZGC on JDK 17.0.1. The application successfully runs without unexpected GC stalls for a period of time, after which it gets into a state where the ZGC does not free much memory when the GC is being done. This results in multiple periodic Allocation Stalls within the application from then on.</p>\n<p>The application itself does a lot of allocation at a periodic interval of around 35 milliseconds. This is roughly 2GB/s allocation when it’s at peak load. On a typical start in the morning, there is about 30 minutes in which the load is low, till a point at which external data starts arriving, and load is high from then on. The load profile does change as the application is running as a result. Due to the predictable allocation during load, we've set the collection at an interval using the ZCollectionInterval.</p>\n<p>We cannot consistently reproduce the Allocation Stalls, even between different machines where the load is very similar. Oddly, if the application is restarted while the load is already high, then it does not typically run into issues.</p>\n<p>We did play around with the UseDynamicNumberOfGCThreads as well previously, but it seems to come up  with a number of threads that is 2. The chart attached uses SoftMaxHeapSize=1G. This is a bit aggressive, but we did see the same issue without setting the SofMaxHeapSize.\nWe did also notice that the Concurrent Mark phase of the GC seems to increase leading up to this issue. We also didn’t see anything of note about ZGC within the Release notes of JDK versions up till 17.0.5.</p>\n<p>Has anyone run into similar issues before? We're unsure as to why this happens or if this is expected behavior when setting the flags as such. As much hasn't been set and the rarity at which it occurs, we were hoping some one can give some pointers as to if this is actually a known issue with an existing fix or we're just setting it up wrong.</p>\n<p>These are the relevant flags.</p>\n<pre><code>-XX:-OmitStackTraceInFastThrow\n-XX:CICompilerCount=2\n-XX:+DisableExplicitGC\n-XX:ParallelGCThreads=4\n-XX:ConcGCThreads=4\n-Xmx8192m\n-Xms8192m\n-Xss8m\n-Xlog:gc*=info:file=${LT_APP_LOG_PATH_FORMAT}.gc:time,level,tags:filecount=32,filesize=64M\n-XX:+UseZGC\n-XX:+AlwaysPreTouch\n-XX:+UseLargePages\n-XX:+UseTransparentHugePages\n-XX:ZCollectionInterval=4\n-Djdk.nio.maxCachedBufferSize=262144\n-XX:+HeapDumpOnOutOfMemoryError\n-XX:SoftMaxHeapSize=1G\n</code></pre>\n<pre><code>[2022-11-24T09:21:12.378+0530][info][gc,phases   ] GC(669) Concurrent Select Relocation Set 8.713ms\n[2022-11-24T09:21:12.378+0530][info][gc,phases   ] GC(669) Pause Relocate Start 0.008ms\n[2022-11-24T09:21:12.420+0530][info][gc,phases   ] GC(669) Concurrent Relocate 41.564ms\n[2022-11-24T09:21:12.420+0530][info][gc,load     ] GC(669) Load: 36.38/31.86/25.10\n[2022-11-24T09:21:12.420+0530][info][gc,mmu      ] GC(669) MMU: 2ms/99.1%, 5ms/99.6%, 10ms/99.8%, 20ms/99.9%, 50ms/99.9%, 100ms/100.0%\n[2022-11-24T09:21:12.420+0530][info][gc,marking  ] GC(669) Mark: 4 stripe(s), 2 proactive flush(es), 1 terminate flush(es), 0 completion(s), 0 continuation(s) \n[2022-11-24T09:21:12.420+0530][info][gc,marking  ] GC(669) Mark Stack Usage: 32M\n[2022-11-24T09:21:12.420+0530][info][gc,nmethod  ] GC(669) NMethods: 10353 registered, 328 unregistered\n[2022-11-24T09:21:12.420+0530][info][gc,metaspace] GC(669) Metaspace: 44M used, 46M committed, 1072M reserved\n[2022-11-24T09:21:12.420+0530][info][gc,ref      ] GC(669) Soft: 2311 encountered, 98 discovered, 0 enqueued\n[2022-11-24T09:21:12.420+0530][info][gc,ref      ] GC(669) Weak: 2559 encountered, 652 discovered, 0 enqueued\n[2022-11-24T09:21:12.420+0530][info][gc,ref      ] GC(669) Final: 56 encountered, 7 discovered, 0 enqueued\n[2022-11-24T09:21:12.420+0530][info][gc,ref      ] GC(669) Phantom: 27425 encountered, 27313 discovered, 27030 enqueued\n[2022-11-24T09:21:12.420+0530][info][gc,reloc    ] GC(669) Small Pages: 5764 / 11528M, Empty: 4752M, Relocated: 58M, In-Place: 0\n[2022-11-24T09:21:12.420+0530][info][gc,reloc    ] GC(669) Medium Pages: 3 / 96M, Empty: 64M, Relocated: 0M, In-Place: 0\n[2022-11-24T09:21:12.420+0530][info][gc,reloc    ] GC(669) Large Pages: 0 / 0M, Empty: 0M, Relocated: 0M, In-Place: 0\n[2022-11-24T09:21:12.420+0530][info][gc,reloc    ] GC(669) Forwarding Usage: 29M\n[2022-11-24T09:21:12.420+0530][info][gc,heap     ] GC(669) Min Capacity: 16384M(100%)\n[2022-11-24T09:21:12.420+0530][info][gc,heap     ] GC(669) Max Capacity: 16384M(100%)\n[2022-11-24T09:21:12.420+0530][info][gc,heap     ] GC(669) Soft Max Capacity: 1024M(6%)\n[2022-11-24T09:21:12.420+0530][info][gc,heap     ] GC(669)                Mark Start          Mark End        Relocate Start      Relocate End           High               Low         \n[2022-11-24T09:21:12.420+0530][info][gc,heap     ] GC(669)  Capacity:    16384M (100%)      16384M (100%)      16384M (100%)      16384M (100%)      16384M (100%)      16384M (100%)   \n[2022-11-24T09:21:12.420+0530][info][gc,heap     ] GC(669)      Free:     4760M (29%)           0M (0%)         4788M (29%)        5392M (33%)        5394M (33%)           0M (0%)     \n[2022-11-24T09:21:12.420+0530][info][gc,heap     ] GC(669)      Used:    11624M (71%)       16384M (100%)      11596M (71%)       10992M (67%)       16384M (100%)      10990M (67%)    \n[2022-11-24T09:21:12.420+0530][info][gc,heap     ] GC(669)      Live:         -              5860M (36%)        5860M (36%)        5860M (36%)            -                  -          \n[2022-11-24T09:21:12.420+0530][info][gc,heap     ] GC(669) Allocated:         -              4760M (29%)        4788M (29%)        4858M (30%)            -                  -          \n[2022-11-24T09:21:12.420+0530][info][gc,heap     ] GC(669)   Garbage:         -              5763M (35%)         947M (6%)          273M (2%)             -                  -          \n[2022-11-24T09:21:12.420+0530][info][gc,heap     ] GC(669) Reclaimed:         -                  -              4816M (29%)        5490M (34%)            -                  -          \n[2022-11-24T09:21:12.420+0530][info][gc          ] GC(669) Garbage Collection (Allocation Stall) 11624M(71%)-&gt;10992M(67%)\n[2022-11-24T09:21:12.479+0530][info][gc,start    ] GC(670) Garbage Collection (Allocation Stall)\n[2022-11-24T09:21:12.479+0530][info][gc,ref      ] GC(670) Clearing All SoftReferences\n[2022-11-24T09:21:12.479+0530][info][gc,task     ] GC(670) Using 4 workers\n[2022-11-24T09:21:12.479+0530][info][gc,phases   ] GC(670) Pause Mark Start 0.009ms\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ] === Garbage Collection Statistics =======================================================================================================================\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]                                                              Last 10s              Last 10m              Last 10h                Total\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]                                                              Avg / Max             Avg / Max             Avg / Max             Avg / Max\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]   Collector: Garbage Collection Cycle                   3410.686 / 3486.475    844.670 / 3486.475    464.952 / 3486.475    464.952 / 3486.475    ms\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]  Contention: Mark Segment Reset Contention                     7 / 15                3 / 30                1 / 30                1 / 30          ops/s\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]  Contention: Mark SeqNum Reset Contention                      0 / 1                 0 / 3                 0 / 3                 0 / 3           ops/s\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Critical: Allocation Stall                                  1 / 5                 0 / 7                 0 / 7                 0 / 7           ops/s\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Critical: Allocation Stall                            677.602 / 900.858     303.367 / 900.858     303.367 / 900.858     303.367 / 900.858     ms\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Critical: GC Locker Stall                                   0 / 0                 0 / 0                 0 / 1                 0 / 1           ops/s\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Critical: GC Locker Stall                               0.000 / 0.000         0.000 / 0.000         0.033 / 0.058         0.033 / 0.058       ms\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Critical: Relocation Stall                                  0 / 0                 0 / 0                 0 / 0                 0 / 0           ops/s\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Critical: Relocation Stall                              0.000 / 0.000         0.000 / 0.000         0.000 / 0.000         0.000 / 0.000       ms\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]      Memory: Allocation Rate                                1479 / 1860           1003 / 2264            329 / 2264            329 / 2264        MB/s\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]      Memory: Out Of Memory                                     0 / 0                 0 / 0                 0 / 0                 0 / 0           ops/s\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]      Memory: Page Cache Flush                                  0 / 0                 0 / 32                0 / 32                0 / 32          MB/s\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]      Memory: Page Cache Hit L1                               198 / 827             177 / 901              59 / 901              59 / 901         ops/s\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]      Memory: Page Cache Hit L2                               541 / 930             316 / 1052            103 / 1052            103 / 1052        ops/s\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]      Memory: Page Cache Hit L3                                 1 / 15               12 / 657               4 / 657               4 / 657         ops/s\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]      Memory: Page Cache Miss                                   0 / 0                 0 / 1                 0 / 1                 0 / 1           ops/s\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]      Memory: Uncommit                                          0 / 0                 0 / 0                 0 / 0                 0 / 0           MB/s\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]      Memory: Undo Object Allocation Failed                     0 / 0                 0 / 1                 0 / 1                 0 / 1           ops/s\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]      Memory: Undo Object Allocation Succeeded                  0 / 3                 4 / 855               1 / 855               1 / 855         ops/s\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]      Memory: Undo Page Allocation                              0 / 3                 0 / 4                 0 / 4                 0 / 4           ops/s\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]       Phase: Concurrent Mark                            3356.120 / 3437.684    812.574 / 3437.684    445.012 / 3437.684    445.012 / 3437.684    ms\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]       Phase: Concurrent Mark Continue                      0.000 / 0.000         0.000 / 0.000         0.000 / 0.000         0.000 / 0.000       ms\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]       Phase: Concurrent Mark Free                          0.001 / 0.001         0.001 / 0.002         0.001 / 0.002         0.001 / 0.002       ms\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]       Phase: Concurrent Process Non-Strong References      8.650 / 8.848        12.746 / 47.124        8.067 / 47.124        8.067 / 47.124      ms\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]       Phase: Concurrent Relocate                          36.550 / 41.564       14.436 / 55.995        8.357 / 55.995        8.357 / 55.995      ms\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]       Phase: Concurrent Reset Relocation Set               0.067 / 0.080         0.023 / 0.080         0.013 / 0.080         0.013 / 0.080       ms\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]       Phase: Concurrent Select Relocation Set              7.214 / 8.713         3.382 / 29.365        2.579 / 29.365        2.579 / 29.365      ms\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]       Phase: Pause Mark End                                0.011 / 0.011         0.011 / 0.018         0.009 / 0.018         0.009 / 0.018       ms\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]       Phase: Pause Mark Start                              0.008 / 0.009         0.008 / 0.016         0.008 / 0.016         0.008 / 0.016       ms\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]       Phase: Pause Relocate Start                          0.008 / 0.008         0.007 / 0.013         0.006 / 0.013         0.006 / 0.013       ms\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Subphase: Concurrent Classes Purge                      0.266 / 0.497         0.411 / 5.255         0.251 / 5.255         0.251 / 5.255       ms\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Subphase: Concurrent Classes Unlink                     5.018 / 5.358         9.216 / 28.725        5.991 / 28.725        5.991 / 28.725      ms\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Subphase: Concurrent Mark                            3352.212 / 3437.123    855.661 / 3437.123    454.341 / 3437.123    454.341 / 3437.123    ms\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Subphase: Concurrent Mark Try Flush                     0.030 / 0.055         0.760 / 42.368        0.442 / 42.368        0.442 / 42.368      ms\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Subphase: Concurrent Mark Try Terminate                 0.703 / 1.059         1.393 / 27.549        1.126 / 27.549        1.126 / 27.549      ms\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Subphase: Concurrent References Enqueue                 0.003 / 0.004         0.003 / 0.013         0.002 / 0.013         0.002 / 0.013       ms\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Subphase: Concurrent References Process                 3.055 / 3.524         1.183 / 9.454         0.655 / 9.454         0.655 / 9.454       ms\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Subphase: Concurrent Roots ClassLoaderDataGraph         0.090 / 0.223         0.135 / 12.400        0.105 / 12.400        0.105 / 12.400      ms\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Subphase: Concurrent Roots CodeCache                    0.000 / 0.000         0.000 / 0.000         0.000 / 0.000         0.000 / 0.000       ms\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Subphase: Concurrent Roots JavaThreads                  0.411 / 1.162         0.520 / 12.391        0.407 / 12.391        0.407 / 12.391      ms\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Subphase: Concurrent Roots OopStorageSet                0.018 / 0.038         0.051 / 12.043        0.030 / 12.043        0.030 / 12.043      ms\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Subphase: Concurrent Weak Roots OopStorageSet           0.259 / 0.263         0.449 / 4.890         0.331 / 4.890         0.331 / 4.890       ms\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Subphase: Pause Mark Try Complete                       0.000 / 0.000         0.000 / 0.000         0.000 / 0.000         0.000 / 0.000       ms\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]      System: Java Threads                                     28 / 28               26 / 29               21 / 29               21 / 29          threads\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ] =========================================================================================================================================================\n[2022-11-24T09:21:15.944+0530][info][gc,phases   ] GC(670) Concurrent Mark 3465.071ms\n[2022-11-24T09:21:15.944+0530][info][gc,phases   ] GC(670) Pause Mark End 0.011ms\n[2022-11-24T09:21:15.944+0530][info][gc,phases   ] GC(670) Concurrent Mark Free 0.001ms\n[2022-11-24T09:21:15.953+0530][info][gc,phases   ] GC(670) Concurrent Process Non-Strong References 8.537ms\n[2022-11-24T09:21:15.953+0530][info][gc,phases   ] GC(670) Concurrent Reset Relocation Set 0.062ms\n[2022-11-24T09:21:15.953+0530][info][gc          ] Allocation Stall (lt-primary-pool-2) 704.524ms\n[2022-11-24T09:21:15.953+0530][info][gc          ] Allocation Stall (lt-primary-pool-0) 704.168ms\n[2022-11-24T09:21:15.953+0530][info][gc          ] Allocation Stall (lt-secondary-pool-0) 711.668ms\n[2022-11-24T09:21:15.955+0530][info][gc          ] Allocation Stall (lt-primary-pool-1) 707.109ms\n[2022-11-24T09:21:15.955+0530][info][gc          ] Allocation Stall (lt-secondary-pool-1) 713.196ms\n[2022-11-24T09:21:15.957+0530][info][gc,phases   ] GC(670) Concurrent Select Relocation Set 4.082ms\n\n</code></pre>\n<pre><code>java version &quot;17.0.1&quot; 2021-10-19 LTS\nJava(TM) SE Runtime Environment (build 17.0.1+12-LTS-39)\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.1+12-LTS-39, mixed mode, sharing)\n</code></pre>\n<p>Graphs created with GCViewer on the GC logs.</p>\n<p><strong>ZGC clean up issues</strong>\n<a href=\"https://i.stack.imgur.com/01bAl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/01bAl.png\" alt=\"ZGC clean up issues\" /></a></p>\n<p><strong>No issues allocation when everything is fine</strong>\n<a href=\"https://i.stack.imgur.com/mgd3y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mgd3y.png\" alt=\"No issues allocation when everything is fine\" /></a></p>\n"},{"tags":["java","maven"],"owner":{"account_id":22253186,"reputation":11,"user_id":16485741,"display_name":"newStack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672741279,"creation_date":1671642219,"question_id":74879413,"body_markdown":"I have Maven multi module project which runs fine with JDK8. Where I have one parent _pom_ and other sub modules. Now module A calls some functionality of module B and B loads some third party class dynamically at runtime. Now this third party class jar is included as dependency in module B _pom_.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.sybase.jconnect&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jconn4&lt;/artifactId&gt;\r\n        &lt;version&gt;16.039-27463&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nRecently I am migrating this application to JDK17. But at runtime I am getting \r\n\r\n&gt; Could not load JDBC driver class [com.sybase.jdbc4.jdbc.SybDriver]\r\n\r\nwhich is part of jconn4 dependency.\r\n\r\nIf anyone faced similar issue and what workaround you followed?","title":"Maven multi module project giving classNotFound exception","body":"<p>I have Maven multi module project which runs fine with JDK8. Where I have one parent <em>pom</em> and other sub modules. Now module A calls some functionality of module B and B loads some third party class dynamically at runtime. Now this third party class jar is included as dependency in module B <em>pom</em>.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.sybase.jconnect&lt;/groupId&gt;\n    &lt;artifactId&gt;jconn4&lt;/artifactId&gt;\n    &lt;version&gt;16.039-27463&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Recently I am migrating this application to JDK17. But at runtime I am getting</p>\n<blockquote>\n<p>Could not load JDBC driver class [com.sybase.jdbc4.jdbc.SybDriver]</p>\n</blockquote>\n<p>which is part of jconn4 dependency.</p>\n<p>If anyone faced similar issue and what workaround you followed?</p>\n"},{"tags":["java","maven","java-8"],"owner":{"account_id":22253186,"reputation":11,"user_id":16485741,"display_name":"newStack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1672741267,"creation_date":1671960051,"question_id":74912457,"body_markdown":"I have maven multi module project. where module A added module B as it&#39;s dependency,\r\n\r\nmodule A pom :-\r\n\r\n    &lt;dependency&gt;\r\n         &lt;groupId&gt;com.xxx.xxxx&lt;/groupId&gt;\r\n         &lt;artifactId&gt;module-B&lt;/artifactId&gt;\r\n         &lt;version&gt;${project.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nmodule B added one dependency,\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.sybase.jconnect&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jconn4&lt;/artifactId&gt;\r\n        &lt;version&gt;7.07-27307&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nBoth the jars for module A and B are packaged in JAR with *maven-assembly-plugin*. Both the jars A.jar and B.jar are present in classpath. As the lib folder containing these jars is given in *-classpath* argument.\r\n\r\nmodule A starts as a web service and uses some functionality present in module B. module B in turn loads some classes dynamically present in *com.sybase.jconnect* dependency.\r\n\r\n1. when checked module A jar I can see *com.sybase.jconnect* jar. when it is added as dependency in module B then why it is added in module A jar ?\r\n2. same dependency is not present in module B jar. why ?\r\n3. when same setup is running on jdk8 it runs fine but on jdk11 or jdk17 it gives **classNotFoundException**  for the class module B tries to load at runtime.\r\n\r\nCan someone please help in understanding this and resolving classNotFoundException.\r\n","title":"classNotFoundException in maven multi module project","body":"<p>I have maven multi module project. where module A added module B as it's dependency,</p>\n<p>module A pom :-</p>\n<pre><code>&lt;dependency&gt;\n     &lt;groupId&gt;com.xxx.xxxx&lt;/groupId&gt;\n     &lt;artifactId&gt;module-B&lt;/artifactId&gt;\n     &lt;version&gt;${project.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>module B added one dependency,</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.sybase.jconnect&lt;/groupId&gt;\n    &lt;artifactId&gt;jconn4&lt;/artifactId&gt;\n    &lt;version&gt;7.07-27307&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Both the jars for module A and B are packaged in JAR with <em>maven-assembly-plugin</em>. Both the jars A.jar and B.jar are present in classpath. As the lib folder containing these jars is given in <em>-classpath</em> argument.</p>\n<p>module A starts as a web service and uses some functionality present in module B. module B in turn loads some classes dynamically present in <em>com.sybase.jconnect</em> dependency.</p>\n<ol>\n<li>when checked module A jar I can see <em>com.sybase.jconnect</em> jar. when it is added as dependency in module B then why it is added in module A jar ?</li>\n<li>same dependency is not present in module B jar. why ?</li>\n<li>when same setup is running on jdk8 it runs fine but on jdk11 or jdk17 it gives <strong>classNotFoundException</strong>  for the class module B tries to load at runtime.</li>\n</ol>\n<p>Can someone please help in understanding this and resolving classNotFoundException.</p>\n"},{"tags":["java"],"owner":{"account_id":25464687,"reputation":1,"user_id":19263923,"display_name":"Ankeet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1672925748,"answer_count":0,"score":-1,"last_activity_date":1672741252,"creation_date":1672657350,"question_id":74981599,"body_markdown":"I am new to Java , Maven and Eclipse and trying to understand how to set Java.\r\n\r\nI have created a java project, and as per some samples that I have referred online, it says to set java version in pom.xml and set JRE in eclipse ( Window&gt;Preferences&gt;Java&gt;Installed JREs&gt;Add)\r\n\r\n1) What is the difference between the both. Is setting Java Version in POM not enough for building and running java project.\r\n\r\n2) Can I not set JRE runtime in pom.xml? \r\n\r\n3) Also, If I want specific version of Java , can I set &lt;java.version&gt;17.0_5&lt;java.version&gt; in pom.xml\r\n\r\nThank you\r\n\r\nsetting java.version to 17.0_5 in pom.xml","title":"What is the difference between setting java version in pom.xml of maven project &amp; setting JRE in eclipse ( Window&gt;Preferences&gt;Java&gt;Installed JREs&gt;Add)","body":"<p>I am new to Java , Maven and Eclipse and trying to understand how to set Java.</p>\n<p>I have created a java project, and as per some samples that I have referred online, it says to set java version in pom.xml and set JRE in eclipse ( Window&gt;Preferences&gt;Java&gt;Installed JREs&gt;Add)</p>\n<ol>\n<li><p>What is the difference between the both. Is setting Java Version in POM not enough for building and running java project.</p>\n</li>\n<li><p>Can I not set JRE runtime in pom.xml?</p>\n</li>\n<li><p>Also, If I want specific version of Java , can I set &lt;java.version&gt;17.0_5&lt;java.version&gt; in pom.xml</p>\n</li>\n</ol>\n<p>Thank you</p>\n<p>setting java.version to 17.0_5 in pom.xml</p>\n"},{"tags":["java"],"owner":{"account_id":25464687,"reputation":1,"user_id":19263923,"display_name":"Ankeet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1672905685,"answer_count":1,"score":-1,"last_activity_date":1672741161,"creation_date":1672738949,"question_id":74991512,"body_markdown":"I am new to maven , pom and java. \r\n\r\nI want to migrate my application from JDK 11 to jdk 17.0.5.\r\n\r\nDoes setting java.version to 17 in pom.xml will enable maven to pick latest version i.e 17.0.5 of java or I need to specify &lt;java.version&gt;17.0_5&lt;java.version&gt; ?\r\n\r\nThank you\r\n\r\nSetting java.version to 17 or 17.0.5 builds the application successfully. But I want to know if 17 is set does it pick latest java version i.e 17.0.5","title":"Does setting java.version to 17 in pom.xml will enable maven to pick latest version i.e 17.0_5 of java?","body":"<p>I am new to maven , pom and java.</p>\n<p>I want to migrate my application from JDK 11 to jdk 17.0.5.</p>\n<p>Does setting java.version to 17 in pom.xml will enable maven to pick latest version i.e 17.0.5 of java or I need to specify &lt;java.version&gt;17.0_5&lt;java.version&gt; ?</p>\n<p>Thank you</p>\n<p>Setting java.version to 17 or 17.0.5 builds the application successfully. But I want to know if 17 is set does it pick latest java version i.e 17.0.5</p>\n"},{"tags":["java","symbols","ejml"],"answers":[{"tags":[],"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672740890,"creation_date":1650661307,"answer_id":71974596,"question_id":71974563,"body_markdown":"Use the static [`symmetric`][2] method in [`RandomMatrices_DDRM`][1] \r\n\r\n    DMatrixRMaj d2 = RandomMatrices_DDRM.symmetric(20,-2,3,rand);\r\n\r\nand similarly for `SimpleMatrix`\r\n\r\n\r\n  [1]: http://ejml.org/javadoc/org/ejml/dense/row/RandomMatrices_DDRM.html\r\n  [2]: http://ejml.org/javadoc/org/ejml/dense/row/RandomMatrices_DDRM.html#symmetric(int,double,double,java.util.Random)","title":"EMJL Exception in thread &quot;main&quot; java.lang.RuntimeException: Uncompilable code - cannot find symbol","body":"<p>Use the static <a href=\"http://ejml.org/javadoc/org/ejml/dense/row/RandomMatrices_DDRM.html#symmetric(int,double,double,java.util.Random)\" rel=\"nofollow noreferrer\"><code>symmetric</code></a> method in <a href=\"http://ejml.org/javadoc/org/ejml/dense/row/RandomMatrices_DDRM.html\" rel=\"nofollow noreferrer\"><code>RandomMatrices_DDRM</code></a></p>\n<pre><code>DMatrixRMaj d2 = RandomMatrices_DDRM.symmetric(20,-2,3,rand);\n</code></pre>\n<p>and similarly for <code>SimpleMatrix</code></p>\n"}],"owner":{"account_id":18457644,"reputation":5,"user_id":13445959,"display_name":"johansson.benny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71974596,"answer_count":1,"score":0,"last_activity_date":1672740890,"creation_date":1650661099,"question_id":71974563,"body_markdown":"I am trying to get EJML to work, especially to create matrices with random numbers. Creating regular a SimpleMatrix and DMatrixRMaj works well. But I keep getting *java.lang.RuntimeException: Uncompilable code - cannot find symbol* when using more advanced statements such as \r\n\r\n    DMatrixRMaj D2 = new RandomMatrices_DDRM.createSymmetric(20,-2,3,rand);\r\nor\r\n\r\n\r\n    SimpleMatrix S2 = new SimpleMatrix.random64(20,20,-2,3,rand);\r\n\r\n\r\n\r\nBelow is the full code and error messages. \r\n\r\nThanks!\r\n\r\n/Benny\r\n\r\n\r\n    \r\n    package com.benny.evosim;\r\n\r\n    import java.util.*;\r\n\r\n    import org.ejml.simple.SimpleMatrix;\r\n\r\n    import org.ejml.data.DMatrixRMaj;\r\n\r\n    import org.ejml.dense.row.RandomMatrices_DDRM;\r\n    \r\n    public class EvoSim {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        EvoSim evoSimInstance = new EvoSim();\r\n        evoSimInstance.start();\r\n    }\r\n\r\n    public void start() {\r\n        \r\n        Random rand = new Random();\r\n        SimpleMatrix A = new SimpleMatrix(3,3);\r\n        DMatrixRMaj​ D  = new DMatrixRMaj(3,3) ; \r\n        \r\n        DMatrixRMaj D2 = new RandomMatrices_DDRM.createSymmetric(20,-2,3,rand);\r\n        SimpleMatrix S2 = new SimpleMatrix.random64(20,20,-2,3,rand);\r\n        \r\n        A.print();\r\n        }\r\n    }\r\n\r\n\r\n\r\nERROR MESSAGE\r\n\r\n    --------------------------&lt; com.benny:evosim &gt;--------------------------\r\n    Building evosim 1.0-SNAPSHOT\r\n    --------------------------------[ jar ]---------------------------------\r\n    \r\n    --- exec-maven-plugin:3.0.0:exec (default-cli) @ evosim ---\r\n    Exception in thread &quot;main&quot; java.lang.RuntimeException: Uncompilable code - cannot find symbol\r\n      symbol:   variable RandomMatrices_DDRM\r\n      location: class com.benny.evosim.EvoSim\r\n    \tat com.benny.evosim.EvoSim.start(EvoSim.java:1)\r\n    \tat com.benny.evosim.EvoSim.main(EvoSim.java:26)\r\n    Command execution failed.\r\n    org.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)\r\n        at org.apache.commons.exec.DefaultExecutor.executeInternal (DefaultExecutor.java:404)\r\n        at org.apache.commons.exec.DefaultExecutor.execute (DefaultExecutor.java:166)","title":"EMJL Exception in thread &quot;main&quot; java.lang.RuntimeException: Uncompilable code - cannot find symbol","body":"<p>I am trying to get EJML to work, especially to create matrices with random numbers. Creating regular a SimpleMatrix and DMatrixRMaj works well. But I keep getting <em>java.lang.RuntimeException: Uncompilable code - cannot find symbol</em> when using more advanced statements such as</p>\n<pre><code>DMatrixRMaj D2 = new RandomMatrices_DDRM.createSymmetric(20,-2,3,rand);\n</code></pre>\n<p>or</p>\n<pre><code>SimpleMatrix S2 = new SimpleMatrix.random64(20,20,-2,3,rand);\n</code></pre>\n<p>Below is the full code and error messages.</p>\n<p>Thanks!</p>\n<p>/Benny</p>\n<pre><code>package com.benny.evosim;\n\nimport java.util.*;\n\nimport org.ejml.simple.SimpleMatrix;\n\nimport org.ejml.data.DMatrixRMaj;\n\nimport org.ejml.dense.row.RandomMatrices_DDRM;\n\npublic class EvoSim {\n\npublic static void main(String[] args) {\n\n    EvoSim evoSimInstance = new EvoSim();\n    evoSimInstance.start();\n}\n\npublic void start() {\n    \n    Random rand = new Random();\n    SimpleMatrix A = new SimpleMatrix(3,3);\n    DMatrixRMaj​ D  = new DMatrixRMaj(3,3) ; \n    \n    DMatrixRMaj D2 = new RandomMatrices_DDRM.createSymmetric(20,-2,3,rand);\n    SimpleMatrix S2 = new SimpleMatrix.random64(20,20,-2,3,rand);\n    \n    A.print();\n    }\n}\n</code></pre>\n<p>ERROR MESSAGE</p>\n<pre><code>--------------------------&lt; com.benny:evosim &gt;--------------------------\nBuilding evosim 1.0-SNAPSHOT\n--------------------------------[ jar ]---------------------------------\n\n--- exec-maven-plugin:3.0.0:exec (default-cli) @ evosim ---\nException in thread &quot;main&quot; java.lang.RuntimeException: Uncompilable code - cannot find symbol\n  symbol:   variable RandomMatrices_DDRM\n  location: class com.benny.evosim.EvoSim\n    at com.benny.evosim.EvoSim.start(EvoSim.java:1)\n    at com.benny.evosim.EvoSim.main(EvoSim.java:26)\nCommand execution failed.\norg.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)\n    at org.apache.commons.exec.DefaultExecutor.executeInternal (DefaultExecutor.java:404)\n    at org.apache.commons.exec.DefaultExecutor.execute (DefaultExecutor.java:166)\n</code></pre>\n"},{"tags":["java","bufferedreader"],"comments":[{"owner":{"account_id":1404077,"reputation":2487,"user_id":1332264,"accept_rate":61,"display_name":"dimas"},"score":0,"creation_date":1346429803,"post_id":12218959,"comment_id":16369808,"body_markdown":"oops sorry I forgot to edit that one. I just changed contents to readBuff.","body":"oops sorry I forgot to edit that one. I just changed contents to readBuff."},{"owner":{"account_id":1084628,"reputation":2438,"user_id":1080633,"accept_rate":69,"display_name":"fonZ"},"score":0,"creation_date":1346434478,"post_id":12218959,"comment_id":16371492,"body_markdown":"I think you should take a look at my answer :)","body":"I think you should take a look at my answer :)"}],"answers":[{"tags":[],"owner":{"account_id":71359,"reputation":4574,"user_id":206476,"display_name":"Andrew"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1346430133,"creation_date":1346430133,"answer_id":12219177,"question_id":12218959,"body_markdown":"What you&#39;re building is called a state machine. You need something to keep track of where you are in the file - the state. I&#39;ve called it `section`.\r\n\r\n                    String readBuff = buff.readLine();\r\n                    String section = &quot;&quot;;\r\n                    while (readBuff != null){\r\n                        if (section.equals(&quot;source_files {&quot;) &amp;&amp; !readBuff.equals(&quot;}&quot;)){\r\n                            sourceFiles.add(readBuff);\r\n                        } else if (section.equals(&quot;clone_pairs {&quot;) &amp;&amp; !readBuff.equals(&quot;}&quot;)){\r\n                            clonePairs.add(readBuff);\r\n                        } else if (readBuff.equals(&quot;source_files {&quot;) || readBuff.equals(&quot;clone_pairs {&quot;)) {\r\n                            section = readBuff;\r\n                        } else if (readBuff.equals(&quot;}&quot;)) {\r\n                            section = &quot;&quot;;\r\n                        }\r\n\r\n                        readBuff = buff.readLine();\r\n                    }","title":"How to read certain portion of the text file in java","body":"<p>What you're building is called a state machine. You need something to keep track of where you are in the file - the state. I've called it <code>section</code>.</p>\n\n<pre><code>                String readBuff = buff.readLine();\n                String section = \"\";\n                while (readBuff != null){\n                    if (section.equals(\"source_files {\") &amp;&amp; !readBuff.equals(\"}\")){\n                        sourceFiles.add(readBuff);\n                    } else if (section.equals(\"clone_pairs {\") &amp;&amp; !readBuff.equals(\"}\")){\n                        clonePairs.add(readBuff);\n                    } else if (readBuff.equals(\"source_files {\") || readBuff.equals(\"clone_pairs {\")) {\n                        section = readBuff;\n                    } else if (readBuff.equals(\"}\")) {\n                        section = \"\";\n                    }\n\n                    readBuff = buff.readLine();\n                }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1084628,"reputation":2438,"user_id":1080633,"accept_rate":69,"display_name":"fonZ"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1346431878,"creation_date":1346431552,"answer_id":12219460,"question_id":12218959,"body_markdown":"I think that the approach with the if/else in the body of the while is just plain overhead.\r\nBecause for every loop you are checking for:\r\n1. The condition in the while loop\r\n2. Every if else in the loop.\r\nThen when you encounter for example &quot;source_files {&quot; you are still checking every loop for all those conditions.\r\n\r\nIn any case you have to read every line of the file, and IF you know the order in which they are defined then this should be alot more efficient:\r\n\r\nThis method will get the BufferedReader to start with.\r\n\r\n\tprivate BufferedReader getBufferedReader(File file) {\r\n\t\ttry{\r\n\t\t\treturn new BufferedReader(new FileReader(file));\r\n\t\t}\r\n\t\tcatch(FileNotFoundException e){\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\t\r\nThis method will read every line of the buffer until it encounters the start string.\r\nThen it will add every next line to the list until it encounters the closing brackets.\r\nAnd will return your newly made list.\r\n\r\n\tprivate List&lt;String&gt; readContent(BufferedReader buff, String start) {\r\n\t\tList&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n\t\ttry {\r\n\t\t\tString readBuff;\r\n\t\t\tdo {\r\n\t\t\t\treadBuff = buff.readLine();\r\n\t\t\t}\r\n\t\t\twhile (readBuff != null &amp;&amp; !readBuff.startsWith(start));\r\n\r\n\t\t\tdo {\r\n\t\t\t\treadBuff = buff.readLine();\r\n\t\t\t\tlist.add(readBuff);\r\n\t\t\t}\r\n\t\t\twhile (readBuff != null &amp;&amp; !readBuff.startsWith(&quot;}&quot;));\r\n\r\n\t\t}\r\n\t\tcatch(IOException e){\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn list;\r\n\t}\r\n\r\n\r\nAnd eventually your method looks like this.\r\n\r\n    \tpublic void readLists(File file) {\r\n\t        BufferedReader buff = getBufferedReader(file);\r\n\t        List&lt;String&gt; sourceFiles = readContent(buff,&quot;source_files {&quot;);\r\n\t        List&lt;String&gt; clonePairs = readContent(buff,&quot;clone_pairs {&quot;);\r\n        }\r\n\r\nThis code basically reads every line of the file once with the conditions directly in the while loop so you dont need any if/else.\r\n\r\nYou only need the if/else if you dont know the order of the data in the file. So this code assumes that source_files comes first and clone_pairs next.\r\n\r\nAlso, i use startsWith because there might be a space after your bracket ie &quot;source_files { &quot; which would make the equals fail.\r\n\r\n\r\n\r\n","title":"How to read certain portion of the text file in java","body":"<p>I think that the approach with the if/else in the body of the while is just plain overhead.\nBecause for every loop you are checking for:\n1. The condition in the while loop\n2. Every if else in the loop.\nThen when you encounter for example \"source_files {\" you are still checking every loop for all those conditions.</p>\n\n<p>In any case you have to read every line of the file, and IF you know the order in which they are defined then this should be alot more efficient:</p>\n\n<p>This method will get the BufferedReader to start with.</p>\n\n<pre><code>private BufferedReader getBufferedReader(File file) {\n    try{\n        return new BufferedReader(new FileReader(file));\n    }\n    catch(FileNotFoundException e){\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>This method will read every line of the buffer until it encounters the start string.\nThen it will add every next line to the list until it encounters the closing brackets.\nAnd will return your newly made list.</p>\n\n<pre><code>private List&lt;String&gt; readContent(BufferedReader buff, String start) {\n    List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n    try {\n        String readBuff;\n        do {\n            readBuff = buff.readLine();\n        }\n        while (readBuff != null &amp;&amp; !readBuff.startsWith(start));\n\n        do {\n            readBuff = buff.readLine();\n            list.add(readBuff);\n        }\n        while (readBuff != null &amp;&amp; !readBuff.startsWith(\"}\"));\n\n    }\n    catch(IOException e){\n        e.printStackTrace();\n    }\n    return list;\n}\n</code></pre>\n\n<p>And eventually your method looks like this.</p>\n\n<pre><code>    public void readLists(File file) {\n        BufferedReader buff = getBufferedReader(file);\n        List&lt;String&gt; sourceFiles = readContent(buff,\"source_files {\");\n        List&lt;String&gt; clonePairs = readContent(buff,\"clone_pairs {\");\n    }\n</code></pre>\n\n<p>This code basically reads every line of the file once with the conditions directly in the while loop so you dont need any if/else.</p>\n\n<p>You only need the if/else if you dont know the order of the data in the file. So this code assumes that source_files comes first and clone_pairs next.</p>\n\n<p>Also, i use startsWith because there might be a space after your bracket ie \"source_files { \" which would make the equals fail.</p>\n"},{"tags":[],"owner":{"account_id":4045273,"reputation":1141,"user_id":3326680,"accept_rate":68,"display_name":"mithra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672740558,"creation_date":1672740558,"answer_id":74991836,"question_id":12218959,"body_markdown":"I tried this \r\n\r\n    public static void readFile(String file){\r\n\t   List&lt;String&gt; sourceFiles = new ArrayList&lt;String&gt;();\r\n\t   List&lt;String&gt; clonePairs = new ArrayList&lt;String&gt;();\r\n\t   file = &quot;test.txt&quot;;\r\n       try{\r\n           BufferedReader buff = Files.newBufferedReader(Paths.get(file));\r\n           \r\n           try{\r\n               \r\n               String readBuff = buff.readLine();\r\n               boolean sourceStart = false;\r\n               boolean cloneStart = false;\r\n               boolean sourceEnd = false;\r\n               while (readBuff != null){\r\n            \t   if(readBuff.equals(&quot;}&quot;)){\r\n            \t\t   sourceEnd = true;\r\n            \t\t   sourceStart=false;\r\n            \t\t   cloneStart=false;\r\n            \t   }else {\r\n            \t\t   sourceEnd = false;\r\n            \t   }\r\n            \t   if (sourceStart &amp;&amp; !sourceEnd){\r\n                       sourceFiles.add(readBuff);\r\n                   }\r\n                   else if (cloneStart &amp;&amp; !sourceEnd){\r\n                       clonePairs.add(readBuff);\r\n                    }\r\n            \t   \r\n            \t   if (readBuff.equals(&quot;source_files {&quot;)){\r\n            \t\t   sourceStart=true;\r\n            \t   }\r\n            \t   \r\n            \t   if (readBuff.equals(&quot;clone_pairs {&quot;)){\r\n            \t\t   cloneStart=true;\r\n            \t   }\r\n                   \r\n\r\n                   readBuff = buff.readLine();\r\n               }\r\n               \r\n               sourceFiles.forEach(sf -&gt; System.out.println(sf));\r\n               System.out.println(&quot;---------------------&quot;);\r\n               System.out.println(&quot;---------------------&quot;);\r\n               \r\n               clonePairs.forEach(cf -&gt; System.out.println(cf));\r\n           }\r\n           finally{\r\n               buff.close();\r\n               }\r\n       }\r\n       catch(FileNotFoundException e){\r\n           System.out.println(&quot;File not found exception&quot;);\r\n       }\r\n       catch(IOException e){\r\n           System.out.println(e);\r\n       }\r\n       \r\n   }\r\n\r\n\r\n","title":"How to read certain portion of the text file in java","body":"<p>I tried this</p>\n<pre><code>public static void readFile(String file){\n   List&lt;String&gt; sourceFiles = new ArrayList&lt;String&gt;();\n   List&lt;String&gt; clonePairs = new ArrayList&lt;String&gt;();\n   file = &quot;test.txt&quot;;\n   try{\n       BufferedReader buff = Files.newBufferedReader(Paths.get(file));\n       \n       try{\n           \n           String readBuff = buff.readLine();\n           boolean sourceStart = false;\n           boolean cloneStart = false;\n           boolean sourceEnd = false;\n           while (readBuff != null){\n               if(readBuff.equals(&quot;}&quot;)){\n                   sourceEnd = true;\n                   sourceStart=false;\n                   cloneStart=false;\n               }else {\n                   sourceEnd = false;\n               }\n               if (sourceStart &amp;&amp; !sourceEnd){\n                   sourceFiles.add(readBuff);\n               }\n               else if (cloneStart &amp;&amp; !sourceEnd){\n                   clonePairs.add(readBuff);\n                }\n               \n               if (readBuff.equals(&quot;source_files {&quot;)){\n                   sourceStart=true;\n               }\n               \n               if (readBuff.equals(&quot;clone_pairs {&quot;)){\n                   cloneStart=true;\n               }\n               \n\n               readBuff = buff.readLine();\n           }\n           \n           sourceFiles.forEach(sf -&gt; System.out.println(sf));\n           System.out.println(&quot;---------------------&quot;);\n           System.out.println(&quot;---------------------&quot;);\n           \n           clonePairs.forEach(cf -&gt; System.out.println(cf));\n       }\n       finally{\n           buff.close();\n           }\n   }\n   catch(FileNotFoundException e){\n       System.out.println(&quot;File not found exception&quot;);\n   }\n   catch(IOException e){\n       System.out.println(e);\n   }\n   \n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":1404077,"reputation":2487,"user_id":1332264,"accept_rate":61,"display_name":"dimas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6114,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":12219177,"answer_count":3,"score":1,"last_activity_date":1672740558,"creation_date":1346429150,"question_id":12218959,"body_markdown":"I wanted to read certain portions in a text file and add each of those portion into a their corresponding ArrayList. \nThis is a sample text file:\n\n    format: pair_diploid\n    option: -b 50\n    option: -pp +\n    option: -mr masked\n    option: -n C:\\Users\\Fertilak\\gimp\\gimp\n    preprocess_script: cpp\n    source_files {\n    1   types.h 1\n    2   actions.c   2316\n    3   actions.h   1\n    4   editor-actions.c    91\n    5   editor-actions.h    1\n    287 test-clipboard.c    1247\n    }\n    source_file_remarks {\n    42\n    :   masked\n    152\n    :   masked\n    170\n    :   masked\n    }\n    clone_pairs {\n    5545    56.0-180    148.0-180\n    3083    62.1959-2107    62.2107-2255\n    3083    62.2107-2255    62.1959-2107\n    89  82.0-520    82.620-1140\n    89  82.620-1140 82.0-520\n    5545    148.0-180   56.0-180\n    12084   2865.633-694    2868.2877-2938\n    12084   2868.2877-2938  2865.633-694\n    }\n    clone_set_remarks {\n    }\n\nThe portions that I wanted to be added on my 2 ArrayList are enclosed by brackets &quot;{}&quot; in source_files and clone_pairs. So for example I want to add in arraylist sourcefiles all of the data such as \n\n        1   types.h 1\n        2   actions.c   2316\n    ...etc\n\n which are enclosed in source_files brackets. Also the same thing for clone_pairs I will add all of the data enclosed in the brackets to arrayList clonePairs.\n\nThis is what I have done so far... but its not working. \n\n        public void readFile(String file){\n    List&lt;String&gt; sourceFiles = new ArrayList&lt;String&gt;();\n    List&lt;String&gt; clonePairs = new ArrayList&lt;String&gt;();\n    \n                try{\n                    BufferedReader buff = new BufferedReader(new FileReader(file));\n                    \n                    try{\n                        \n                        String readBuff = buff.readLine();\n                        while (readBuff != null){\n                            if (readBuff.equals(&quot;source_files {&quot;) &amp;&amp; !readBuff.equals(&quot;}&quot;)){\n                                sourceFiles.add(readBuff);\n                                   }\n    \n                        else if (readBuff.equals(&quot;clone_pairs {&quot;) &amp;&amp; !readBuff.equals(&quot;}&quot;)){\n                                clonePairs.add(readBuff);\n                                   }\n    \n                            readBuff = buff.readLine();\n                        }\n                    }\n                    finally{\n                        buff.close();\n                        }\n                }\n                \n                catch(FileNotFoundException e){\n                    System.out.println(&quot;File not found&quot;);\n                }\n                catch(IOException e){\n                    System.out.println(e);\n                }\n                \n            }\n\nAlmost everything is working in this piece of code except for the if-else conditions. Any suggestions on how to do this?\n\n## EDIT\nI have edited content and replaced it with readBuff string. Sorry\n\n## EDIT 2\nFor the benefit of everyone this is the right code as proposed by Andrew\nSolution Code:\n\n    public void readFile(String file){\n            try{\n                BufferedReader buff = new BufferedReader(new FileReader(file));\n                \n                try{\n                    \n                    String readBuff = buff.readLine();\n                    String section = &quot;&quot;;\n                    while (readBuff != null){\n                        if (section.equals(&quot;source_files {&quot;) &amp;&amp; !readBuff.equals(&quot;}&quot;)){\n                            sourceFiles.add(readBuff);\n                        } else if (section.equals(&quot;clone_pairs {&quot;) &amp;&amp; !readBuff.equals(&quot;}&quot;)){\n                            clonePairs.add(readBuff);\n                        } else if (readBuff.equals(&quot;source_files {&quot;) || readBuff.equals(&quot;clone_pairs {&quot;)) {\n                            section = readBuff;\n                        } else if (readBuff.equals(&quot;}&quot;)) {\n                            section = &quot;&quot;;\n                        }\n    \n                        readBuff = buff.readLine();\n                    }\n    \n                }\n                finally{\n                    buff.close();\n                    }\n            }\n            \n            catch(FileNotFoundException e){\n                System.out.println(&quot;File not found&quot;);\n            }\n            catch(IOException e){\n                System.out.println(&quot;exceptional case&quot;);\n            }\n        }","title":"How to read certain portion of the text file in java","body":"<p>I wanted to read certain portions in a text file and add each of those portion into a their corresponding ArrayList.\nThis is a sample text file:</p>\n<pre><code>format: pair_diploid\noption: -b 50\noption: -pp +\noption: -mr masked\noption: -n C:\\Users\\Fertilak\\gimp\\gimp\npreprocess_script: cpp\nsource_files {\n1   types.h 1\n2   actions.c   2316\n3   actions.h   1\n4   editor-actions.c    91\n5   editor-actions.h    1\n287 test-clipboard.c    1247\n}\nsource_file_remarks {\n42\n:   masked\n152\n:   masked\n170\n:   masked\n}\nclone_pairs {\n5545    56.0-180    148.0-180\n3083    62.1959-2107    62.2107-2255\n3083    62.2107-2255    62.1959-2107\n89  82.0-520    82.620-1140\n89  82.620-1140 82.0-520\n5545    148.0-180   56.0-180\n12084   2865.633-694    2868.2877-2938\n12084   2868.2877-2938  2865.633-694\n}\nclone_set_remarks {\n}\n</code></pre>\n<p>The portions that I wanted to be added on my 2 ArrayList are enclosed by brackets &quot;{}&quot; in source_files and clone_pairs. So for example I want to add in arraylist sourcefiles all of the data such as</p>\n<pre><code>    1   types.h 1\n    2   actions.c   2316\n...etc\n</code></pre>\n<p>which are enclosed in source_files brackets. Also the same thing for clone_pairs I will add all of the data enclosed in the brackets to arrayList clonePairs.</p>\n<p>This is what I have done so far... but its not working.</p>\n<pre><code>    public void readFile(String file){\nList&lt;String&gt; sourceFiles = new ArrayList&lt;String&gt;();\nList&lt;String&gt; clonePairs = new ArrayList&lt;String&gt;();\n\n            try{\n                BufferedReader buff = new BufferedReader(new FileReader(file));\n                \n                try{\n                    \n                    String readBuff = buff.readLine();\n                    while (readBuff != null){\n                        if (readBuff.equals(&quot;source_files {&quot;) &amp;&amp; !readBuff.equals(&quot;}&quot;)){\n                            sourceFiles.add(readBuff);\n                               }\n\n                    else if (readBuff.equals(&quot;clone_pairs {&quot;) &amp;&amp; !readBuff.equals(&quot;}&quot;)){\n                            clonePairs.add(readBuff);\n                               }\n\n                        readBuff = buff.readLine();\n                    }\n                }\n                finally{\n                    buff.close();\n                    }\n            }\n            \n            catch(FileNotFoundException e){\n                System.out.println(&quot;File not found&quot;);\n            }\n            catch(IOException e){\n                System.out.println(e);\n            }\n            \n        }\n</code></pre>\n<p>Almost everything is working in this piece of code except for the if-else conditions. Any suggestions on how to do this?</p>\n<h2>EDIT</h2>\n<p>I have edited content and replaced it with readBuff string. Sorry</p>\n<h2>EDIT 2</h2>\n<p>For the benefit of everyone this is the right code as proposed by Andrew\nSolution Code:</p>\n<pre><code>public void readFile(String file){\n        try{\n            BufferedReader buff = new BufferedReader(new FileReader(file));\n            \n            try{\n                \n                String readBuff = buff.readLine();\n                String section = &quot;&quot;;\n                while (readBuff != null){\n                    if (section.equals(&quot;source_files {&quot;) &amp;&amp; !readBuff.equals(&quot;}&quot;)){\n                        sourceFiles.add(readBuff);\n                    } else if (section.equals(&quot;clone_pairs {&quot;) &amp;&amp; !readBuff.equals(&quot;}&quot;)){\n                        clonePairs.add(readBuff);\n                    } else if (readBuff.equals(&quot;source_files {&quot;) || readBuff.equals(&quot;clone_pairs {&quot;)) {\n                        section = readBuff;\n                    } else if (readBuff.equals(&quot;}&quot;)) {\n                        section = &quot;&quot;;\n                    }\n\n                    readBuff = buff.readLine();\n                }\n\n            }\n            finally{\n                buff.close();\n                }\n        }\n        \n        catch(FileNotFoundException e){\n            System.out.println(&quot;File not found&quot;);\n        }\n        catch(IOException e){\n            System.out.println(&quot;exceptional case&quot;);\n        }\n    }\n</code></pre>\n"},{"tags":["java","mqtt","keep-alive","hivemq"],"answers":[{"tags":[],"owner":{"account_id":236814,"reputation":55963,"user_id":504554,"accept_rate":100,"display_name":"hardillb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672736470,"creation_date":1672736470,"answer_id":74991113,"question_id":74990442,"body_markdown":"Your understanding is wrong, the broker and client is behaving correctly.\r\n\r\nIf you call `disconnect()` then the client will send an explicit [DISCONNECT][1] packet to the broker telling it that it has gone. So it will shut everything down.\r\n\r\nKeep alive is there for if the network path between the client and broker is broken in the middle, so no packets can flow.\r\n\r\n\r\n  [1]: http://docs.oasis-open.org/mqtt/mqtt/v3.1.1/os/mqtt-v3.1.1-os.html#_Toc398718090","title":"HiveMQ KeepAlive Mechanism not working in Hivemq ce broker or client","body":"<p>Your understanding is wrong, the broker and client is behaving correctly.</p>\n<p>If you call <code>disconnect()</code> then the client will send an explicit <a href=\"http://docs.oasis-open.org/mqtt/mqtt/v3.1.1/os/mqtt-v3.1.1-os.html#_Toc398718090\" rel=\"nofollow noreferrer\">DISCONNECT</a> packet to the broker telling it that it has gone. So it will shut everything down.</p>\n<p>Keep alive is there for if the network path between the client and broker is broken in the middle, so no packets can flow.</p>\n"}],"owner":{"account_id":27418158,"reputation":1,"user_id":20917026,"display_name":"YDev01"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74991113,"answer_count":1,"score":-1,"last_activity_date":1672740219,"creation_date":1672732538,"question_id":74990442,"body_markdown":"I am using hivemq-mqtt-client-1.3.0.jar and creating a hivemq mqtt5 client. I have specified a keep alive time of 60 secs from client side.\r\n\r\n\r\n```\r\nString id = &quot;1&quot;;\r\nMqtt5ClientBuilder builder = Mqtt5Client.builder()\r\n\t\t\t\t.identifier(id)\r\n\t\t\t\t.serverHost(&quot;localhost&quot;)\r\n\t\t\t\t.serverPort(1883)\r\n\t\t\t\t.addConnectedListener(context -&gt; System.out.println(&quot;Connected Now&quot;))\r\n\t\t\t\t.addDisconnectedListener(context -&gt; System.out.println(&quot;Disconnected Connected Now&quot;));\r\n\t\t\r\n\t\t\r\nclient = builder.build();\r\nclient.toBlocking().connectWith().cleanStart(false).keepAlive(keepAlive).send();\r\nsubscribe(id, &quot;1&quot;);\r\n```\r\n\r\n\r\nOnce I connect to hiveMq with the above client, I get a connected log from event.txt file as shown below.\r\n\r\n`2023-01-03 12:56:39,428 - Client ID: 1, IP: 127.0.0.1, Clean Start: false, Session Expiry: 0 connected.`\r\n\r\n\r\nNow i disconnect my client using below code after 10 secs.\r\n\r\n\r\n```\r\nThread.sleep(10*1000);\r\nclient.toBlocking().disconnect();\r\n```\r\n\r\n\r\n\r\n\r\nMy expectation is that even though the client disconnected after 10 sec, the broker should keep the  connection alive for another 50 sec as keep alive is 60 sec.\r\n\r\nBut as soon as i disconnect the client, I get disconnected message from broker too, which means keep alive is not working.\r\n\r\n\r\n```\r\n2023-01-03 12:56:49,482 - Client ID: 1, IP: 127.0.0.1 disconnected gracefully.\r\n```\r\n\r\nAlso I have attached below hivemq broker config.xml file.\r\n\r\n\r\n\r\n\r\n```\r\n&lt;hivemq&gt;\r\n    &lt;listeners&gt;\r\n        &lt;tcp-listener&gt;\r\n            &lt;port&gt;1883&lt;/port&gt;\r\n            &lt;bind-address&gt;0.0.0.0&lt;/bind-address&gt;\r\n        &lt;/tcp-listener&gt;\r\n\t\t&lt;mqtt&gt;\r\n\t\t\t&lt;keep-alive&gt;\r\n\t\t\t\t\t&lt;allow-unlimited&gt;false&lt;/allow-unlimited&gt;\r\n\t\t\t\t\t&lt;max-keep-alive&gt;60&lt;/max-keep-alive&gt;\r\n\t\t\t&lt;/keep-alive&gt;\r\n\t\t&lt;/mqtt&gt;\r\n    &lt;/listeners&gt;\r\n\r\n    &lt;anonymous-usage-statistics&gt;\r\n        &lt;enabled&gt;true&lt;/enabled&gt;\r\n    &lt;/anonymous-usage-statistics&gt;\r\n&lt;/hivemq&gt;\r\n```\r\n\r\nPlease suggest me what I am doing wrong here and any suggestions would be deeply appreciated.\r\n\r\n\r\nUPDATE******\r\n\r\n\r\nNow I am going to subscribe to a topic without without sending disconnect message from my client. Pls refer above code again, I have added a function call to subscribe to topic.\r\n\r\n    public static void subscribe(String id, String cid) {\r\n\t\ttry {\r\n\t\t\t\r\n\t\t\tclient.toAsync().subscribeWith()\r\n\t\t\t\t\t.topicFilter(&quot;TEMP/&quot;+id+&quot;/&quot;+cid).callback(publish -&gt; {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tString message = new String(publish.getPayloadAsBytes(), StandardCharsets.UTF_8);\r\n\t\t\t\t\t\tSystem.out.println(&quot;Received message on topic &quot; + publish.getTopic() + &quot;: &quot; + message);\r\n\r\n\t\t\t\t\t}).send();\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;Subscribing to &quot; + &quot;TEMP/&quot;+id+&quot;/&quot;+cid);\r\n\r\n\r\n\r\nNow after this I dont receive any messages on this topic. My keep alive time is 60 secs as shown in conf above, so broker should disconnect my client after 60*1.5 = 90 secs. But even after 90 secs, i dont see my client getting disconnected. Also broker does not send any PINGREQ to client too. \r\n\r\n\r\nKindly advice what I should do.","title":"HiveMQ KeepAlive Mechanism not working in Hivemq ce broker or client","body":"<p>I am using hivemq-mqtt-client-1.3.0.jar and creating a hivemq mqtt5 client. I have specified a keep alive time of 60 secs from client side.</p>\n<pre><code>String id = &quot;1&quot;;\nMqtt5ClientBuilder builder = Mqtt5Client.builder()\n                .identifier(id)\n                .serverHost(&quot;localhost&quot;)\n                .serverPort(1883)\n                .addConnectedListener(context -&gt; System.out.println(&quot;Connected Now&quot;))\n                .addDisconnectedListener(context -&gt; System.out.println(&quot;Disconnected Connected Now&quot;));\n        \n        \nclient = builder.build();\nclient.toBlocking().connectWith().cleanStart(false).keepAlive(keepAlive).send();\nsubscribe(id, &quot;1&quot;);\n</code></pre>\n<p>Once I connect to hiveMq with the above client, I get a connected log from event.txt file as shown below.</p>\n<p><code>2023-01-03 12:56:39,428 - Client ID: 1, IP: 127.0.0.1, Clean Start: false, Session Expiry: 0 connected.</code></p>\n<p>Now i disconnect my client using below code after 10 secs.</p>\n<pre><code>Thread.sleep(10*1000);\nclient.toBlocking().disconnect();\n</code></pre>\n<p>My expectation is that even though the client disconnected after 10 sec, the broker should keep the  connection alive for another 50 sec as keep alive is 60 sec.</p>\n<p>But as soon as i disconnect the client, I get disconnected message from broker too, which means keep alive is not working.</p>\n<pre><code>2023-01-03 12:56:49,482 - Client ID: 1, IP: 127.0.0.1 disconnected gracefully.\n</code></pre>\n<p>Also I have attached below hivemq broker config.xml file.</p>\n<pre><code>&lt;hivemq&gt;\n    &lt;listeners&gt;\n        &lt;tcp-listener&gt;\n            &lt;port&gt;1883&lt;/port&gt;\n            &lt;bind-address&gt;0.0.0.0&lt;/bind-address&gt;\n        &lt;/tcp-listener&gt;\n        &lt;mqtt&gt;\n            &lt;keep-alive&gt;\n                    &lt;allow-unlimited&gt;false&lt;/allow-unlimited&gt;\n                    &lt;max-keep-alive&gt;60&lt;/max-keep-alive&gt;\n            &lt;/keep-alive&gt;\n        &lt;/mqtt&gt;\n    &lt;/listeners&gt;\n\n    &lt;anonymous-usage-statistics&gt;\n        &lt;enabled&gt;true&lt;/enabled&gt;\n    &lt;/anonymous-usage-statistics&gt;\n&lt;/hivemq&gt;\n</code></pre>\n<p>Please suggest me what I am doing wrong here and any suggestions would be deeply appreciated.</p>\n<p>UPDATE******</p>\n<p>Now I am going to subscribe to a topic without without sending disconnect message from my client. Pls refer above code again, I have added a function call to subscribe to topic.</p>\n<pre><code>public static void subscribe(String id, String cid) {\n    try {\n        \n        client.toAsync().subscribeWith()\n                .topicFilter(&quot;TEMP/&quot;+id+&quot;/&quot;+cid).callback(publish -&gt; {\n                    \n                    String message = new String(publish.getPayloadAsBytes(), StandardCharsets.UTF_8);\n                    System.out.println(&quot;Received message on topic &quot; + publish.getTopic() + &quot;: &quot; + message);\n\n                }).send();\n        \n        System.out.println(&quot;Subscribing to &quot; + &quot;TEMP/&quot;+id+&quot;/&quot;+cid);\n</code></pre>\n<p>Now after this I dont receive any messages on this topic. My keep alive time is 60 secs as shown in conf above, so broker should disconnect my client after 60*1.5 = 90 secs. But even after 90 secs, i dont see my client getting disconnected. Also broker does not send any PINGREQ to client too.</p>\n<p>Kindly advice what I should do.</p>\n"},{"tags":["java","stack","calculator","infix-notation"],"owner":{"account_id":19664361,"reputation":13,"user_id":14395158,"display_name":"IamTufa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672740055,"creation_date":1672702086,"question_id":74987888,"body_markdown":"```\r\nprivate\tScanner sc = new Scanner(System.in);\r\nprivate String expression;\r\nprivate String exp[];\r\nprivate ArrayList&lt;String&gt; post_fix = new ArrayList&lt;&gt;();\r\nStack&lt;String&gt; ope = new Stack&lt;String&gt;();\r\n\tpublic Model()\r\n\t{\r\n\t\texpression = sc.nextLine();\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void split()\r\n\t{\r\n\t\t\r\n\t\t//splitting the entered expression to array of operators alone and array of the numbers then create Arraylist to combine the operators and numbers together as if it is a string expression  but as an array\r\n        String num[]= this.expression.split(&quot;[/+/*/-]&quot;);\r\n        String preop[]= this.expression.split(&quot;[0-9]+&quot;);; // this will give [empty, operator, operator...] therefore we will create another array to fill in the ops excluding empty\r\n        \r\n        ArrayList&lt;String&gt; op = new ArrayList&lt;&gt;();//I used arraylist because easier\r\n        for(int i = 1; i&lt;preop.length;i++)\r\n        {\r\n        \top.add(preop[i]);\r\n        }\r\n\t\t\r\n        //putting the operands and the operators together in the same array\r\n        \t\t\r\n        ArrayList&lt;String&gt; exp = new ArrayList&lt;&gt;();\r\n       \r\n        \r\n        for(int i = 0; i &lt;num.length;i++)\r\n        {\r\n        \texp.add(num[i]);\r\n        }\r\n        int count = 0;\r\n        for(int i = 0; i &lt;op.size();i++)\r\n        { //fill the arraylist with numbers then add the operators to it by using number (index of the operator +1 +count)\r\n        \texp.add(i+1+count, op.get(i)); //This is why arraylist was used in order to let values to be placed in between \r\n        \tcount++;\r\n        \t//i+1+count is used because index of the operator is in between two numbers meaning it is after the first index in num array so i+1 and because array keeps increasing, we do +count for the other operators to be placed in\r\n        }\r\n        \r\n        this.exp = new String[exp.size()]; // we change the arraylist exp to instance array for faster operations later on\r\n        System.out.print(&quot;Test to check if expression is converted into array as intented: &quot;);\r\n        for(int i = 0; i&lt;this.exp.length;i++)\r\n        {\r\n        \tthis.exp[i] = exp.get(i);\r\n        \tSystem.out.print(this.exp[i]);\r\n        }\r\n        System.out.println();\r\n      \r\n\t}\r\n\t\r\n\tpublic void postfix()\r\n\t{\r\n\t\r\n\t\tfor(int i = 0; i &lt; exp.length; i++)\r\n\t\t{\r\n\t\t\tif(i%2 == 0)//since operands are observed to always have even index in the array\r\n\t\t\t{\r\n\t\t\t\tpost_fix.add(exp[i]);\r\n\t\t\t\tSystem.out.println(post_fix);\r\n\t\t\t}\r\n\t\t\telse \r\n\t\t\t{\r\n\t\t\t\tboolean x = !ope.empty();\r\n\t\t\t\tSystem.out.println(&quot;Test of !ope.empty: &quot; + x);\r\n\t\t\t\twhile(!ope.empty()&amp;&amp; HasHigherPrecedence(ope.peek(), this.exp[i]))\r\n\t\t\t\t{\r\n\t\t\t\t\tpost_fix.add(ope.peek());\r\n\t\t\t\t\tope.pop();\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\tope.push(exp[i]);\r\n\t\t\t\tSystem.out.println(&quot;stack_top: &quot;+ ope.peek());\r\n\t\t\t}\r\n\t\t\t\r\n\t\r\n\t\t}\r\n\t\twhile(!ope.empty())\r\n\t\t{\r\n\t\t\t\r\n\t\t\tpost_fix.add(ope.peek());\r\n\t\t\tope.pop();\r\n\t\t}\r\n\t\tSystem.out.println(&quot;Output: &quot; +post_fix);\r\n\t\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic String getPost_fix()\r\n\t{\r\n\t\tString temp = &quot;&quot;;\r\n\t\tfor(int i =0; i &lt; exp.length;i++)\r\n\t\t{\r\n\t\t\ttemp = temp + post_fix.get(i);\r\n\t\t}\r\n\t\r\n\t\treturn temp;\r\n\t}\r\n\t\r\n\tpublic double evaluate() \r\n\t{\r\n\t\treturn 0;\r\n\t}\r\n\t\r\n\tprivate boolean HasHigherPrecedence(String op1, String op2)\r\n\t{\r\n\t\t//op1 is operator 1 at the top of the stack thus associativity highest\r\n\t\tint a_op1 = 1;\r\n\t\tint a_op2 = 0;\r\n\t\t\r\n\t\tint p_op1 = 0;\r\n\t\tint p_op2= 0;\r\n\t\t//the precedence will be measured with numbers\r\n\t\tString operators[]= {&quot;&quot;,&quot;+&quot;,&quot;-&quot;,&quot;*&quot;,&quot;/&quot;};\r\n\t\tint precedence[] = {0,1,1,2,2}; //the reason for blank operator and 0 precedence is because the stack initially will be empty\r\n\t\tfor(int i = 0; i&lt; operators.length;i++)\r\n\t\t{\r\n\t\t\tif(op1.equals(operators[i]))\r\n\t\t\t{\r\n\t\t\t\tp_op1=precedence[i];\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor(int i = 0; i&lt; operators.length;i++)\r\n\t\t{\r\n\t\t\tif(op2.equals(operators[i]))\r\n\t\t\t{\r\n\t\t\t\tp_op2=precedence[i];\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tboolean higher_ornot = false;\r\n\t\t\r\n\t\tif(p_op1 &gt; p_op2)\r\n\t\t{\r\n\t\t\thigher_ornot = false;\r\n\t\t}\r\n\t\telse if(p_op1 &lt; p_op1)\r\n\t\t{\r\n\t\t\thigher_ornot = true;\r\n\t\t}\r\n\t\telse if(p_op1== p_op2)\r\n\t\t{\r\n\t\tSystem.out.println(op1+&quot;: &quot;+p_op1);\r\n\t\tSystem.out.println(op2+&quot;: &quot;+p_op2);\r\n\t\t\thigher_ornot = false; //since associativity of op1 will be higher --&gt; thus higher precedence\r\n\t\t}\r\n\t\t\r\n\t\treturn higher_ornot;\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\n[![Output of the code][1]][1]\r\n\r\nI am trying to converst user&#39;s infix mathmatical expression into a postfix expression in an array that will be evaluated but before evaluation, I faced a problem in the postfix method\r\n\r\nwhile(!ope.empty()&amp;&amp; HasHigherPrecedence(ope.peek(), this.exp[i]))\r\n\r\nThis specific line is not being called out when the condition should be true, when it is comparing top of the stack which is * to - and * has higher precedence and since stack is not empty thus it should return true thus the function is called. I tested if I have any errors other areas but everything I tested was correct, I really have  no clue how to fix.\r\n\r\n\r\n\r\nI am really clueless even after 1hour and a half staring and trying to trace the code\r\n\r\nI am expecting from output to be\r\n[3, 2, 4, *, +, 3, -] which is the postfix expression that technically will be evaluated later\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vbNUn.png","title":"Infix to postfix algorithm, the if statement I wrote is not being called out when it should","body":"<pre><code>private Scanner sc = new Scanner(System.in);\nprivate String expression;\nprivate String exp[];\nprivate ArrayList&lt;String&gt; post_fix = new ArrayList&lt;&gt;();\nStack&lt;String&gt; ope = new Stack&lt;String&gt;();\n    public Model()\n    {\n        expression = sc.nextLine();\n        \n    }\n    \n    public void split()\n    {\n        \n        //splitting the entered expression to array of operators alone and array of the numbers then create Arraylist to combine the operators and numbers together as if it is a string expression  but as an array\n        String num[]= this.expression.split(&quot;[/+/*/-]&quot;);\n        String preop[]= this.expression.split(&quot;[0-9]+&quot;);; // this will give [empty, operator, operator...] therefore we will create another array to fill in the ops excluding empty\n        \n        ArrayList&lt;String&gt; op = new ArrayList&lt;&gt;();//I used arraylist because easier\n        for(int i = 1; i&lt;preop.length;i++)\n        {\n            op.add(preop[i]);\n        }\n        \n        //putting the operands and the operators together in the same array\n                \n        ArrayList&lt;String&gt; exp = new ArrayList&lt;&gt;();\n       \n        \n        for(int i = 0; i &lt;num.length;i++)\n        {\n            exp.add(num[i]);\n        }\n        int count = 0;\n        for(int i = 0; i &lt;op.size();i++)\n        { //fill the arraylist with numbers then add the operators to it by using number (index of the operator +1 +count)\n            exp.add(i+1+count, op.get(i)); //This is why arraylist was used in order to let values to be placed in between \n            count++;\n            //i+1+count is used because index of the operator is in between two numbers meaning it is after the first index in num array so i+1 and because array keeps increasing, we do +count for the other operators to be placed in\n        }\n        \n        this.exp = new String[exp.size()]; // we change the arraylist exp to instance array for faster operations later on\n        System.out.print(&quot;Test to check if expression is converted into array as intented: &quot;);\n        for(int i = 0; i&lt;this.exp.length;i++)\n        {\n            this.exp[i] = exp.get(i);\n            System.out.print(this.exp[i]);\n        }\n        System.out.println();\n      \n    }\n    \n    public void postfix()\n    {\n    \n        for(int i = 0; i &lt; exp.length; i++)\n        {\n            if(i%2 == 0)//since operands are observed to always have even index in the array\n            {\n                post_fix.add(exp[i]);\n                System.out.println(post_fix);\n            }\n            else \n            {\n                boolean x = !ope.empty();\n                System.out.println(&quot;Test of !ope.empty: &quot; + x);\n                while(!ope.empty()&amp;&amp; HasHigherPrecedence(ope.peek(), this.exp[i]))\n                {\n                    post_fix.add(ope.peek());\n                    ope.pop();\n                    \n                    \n                }\n                ope.push(exp[i]);\n                System.out.println(&quot;stack_top: &quot;+ ope.peek());\n            }\n            \n    \n        }\n        while(!ope.empty())\n        {\n            \n            post_fix.add(ope.peek());\n            ope.pop();\n        }\n        System.out.println(&quot;Output: &quot; +post_fix);\n    \n        \n    }\n    \n    public String getPost_fix()\n    {\n        String temp = &quot;&quot;;\n        for(int i =0; i &lt; exp.length;i++)\n        {\n            temp = temp + post_fix.get(i);\n        }\n    \n        return temp;\n    }\n    \n    public double evaluate() \n    {\n        return 0;\n    }\n    \n    private boolean HasHigherPrecedence(String op1, String op2)\n    {\n        //op1 is operator 1 at the top of the stack thus associativity highest\n        int a_op1 = 1;\n        int a_op2 = 0;\n        \n        int p_op1 = 0;\n        int p_op2= 0;\n        //the precedence will be measured with numbers\n        String operators[]= {&quot;&quot;,&quot;+&quot;,&quot;-&quot;,&quot;*&quot;,&quot;/&quot;};\n        int precedence[] = {0,1,1,2,2}; //the reason for blank operator and 0 precedence is because the stack initially will be empty\n        for(int i = 0; i&lt; operators.length;i++)\n        {\n            if(op1.equals(operators[i]))\n            {\n                p_op1=precedence[i];\n            }\n        }\n        for(int i = 0; i&lt; operators.length;i++)\n        {\n            if(op2.equals(operators[i]))\n            {\n                p_op2=precedence[i];\n            }\n        }\n        \n        boolean higher_ornot = false;\n        \n        if(p_op1 &gt; p_op2)\n        {\n            higher_ornot = false;\n        }\n        else if(p_op1 &lt; p_op1)\n        {\n            higher_ornot = true;\n        }\n        else if(p_op1== p_op2)\n        {\n        System.out.println(op1+&quot;: &quot;+p_op1);\n        System.out.println(op2+&quot;: &quot;+p_op2);\n            higher_ornot = false; //since associativity of op1 will be higher --&gt; thus higher precedence\n        }\n        \n        return higher_ornot;\n    }\n    \n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/vbNUn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vbNUn.png\" alt=\"Output of the code\" /></a></p>\n<p>I am trying to converst user's infix mathmatical expression into a postfix expression in an array that will be evaluated but before evaluation, I faced a problem in the postfix method</p>\n<p>while(!ope.empty()&amp;&amp; HasHigherPrecedence(ope.peek(), this.exp[i]))</p>\n<p>This specific line is not being called out when the condition should be true, when it is comparing top of the stack which is * to - and * has higher precedence and since stack is not empty thus it should return true thus the function is called. I tested if I have any errors other areas but everything I tested was correct, I really have  no clue how to fix.</p>\n<p>I am really clueless even after 1hour and a half staring and trying to trace the code</p>\n<p>I am expecting from output to be\n[3, 2, 4, *, +, 3, -] which is the postfix expression that technically will be evaluated later</p>\n"},{"tags":["java","json","expression","evaluation"],"comments":[{"owner":{"account_id":9573972,"reputation":1131,"user_id":7110786,"display_name":"Saif Ahmad"},"score":1,"creation_date":1672228795,"post_id":74939394,"comment_id":132246002,"body_markdown":"Maybe try this library: https://github.com/octomix/josson","body":"Maybe try this library: <a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">github.com/octomix/josson</a>"}],"answers":[{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672251409,"creation_date":1672251409,"answer_id":74943675,"question_id":74939394,"body_markdown":"The latest version 1.4.2 of _Josson_ added function eval().\r\n\r\nhttps://github.com/octomix/josson\r\n\r\n    Josson josson = Josson.fromJsonString(\r\n        &quot;{&quot; +\r\n        &quot;  \\&quot;model\\&quot;: \\&quot;abc\\&quot;,&quot; +\r\n        &quot;  \\&quot;variant\\&quot;: \\&quot;m1\\&quot;,&quot; +\r\n        &quot;  \\&quot;stage\\&quot; :2,&quot; +\r\n        &quot;  \\&quot;a\\&quot;: 100,&quot; +\r\n        &quot;  \\&quot;b\\&quot;: 200,&quot; +\r\n        &quot;  \\&quot;display name\\&quot;: \\&quot;concat(model,&#39;-&#39;,variant)\\&quot;,&quot; +\r\n        &quot;  \\&quot;c\\&quot;: \\&quot;round(calc(a+b),0).toText()\\&quot;,&quot; +\r\n        &quot;  \\&quot;description\\&quot;: \\&quot;concat(model,&#39;-&#39;,variant,&#39;-&#39;,round(calc(stage*10),0))\\&quot;&quot; +\r\n        &quot;}&quot;);\r\n    JsonNode node = josson.getNode(\r\n        &quot;field(display name: eval(display name),&quot; +\r\n        &quot;      c: eval(c),&quot; +\r\n        &quot;      description: eval(description))&quot;);\r\n    System.out.println(node.toPrettyString());\r\n\r\n__Output__\r\n\r\n    {\r\n      &quot;model&quot; : &quot;abc&quot;,\r\n      &quot;variant&quot; : &quot;m1&quot;,\r\n      &quot;stage&quot; : 2,\r\n      &quot;a&quot; : 100,\r\n      &quot;b&quot; : 200,\r\n      &quot;display name&quot; : &quot;abc-m1&quot;,\r\n      &quot;c&quot; : &quot;300&quot;,\r\n      &quot;description&quot; : &quot;abc-m1-20&quot;\r\n    }\r\n","title":"Evaluate JSON object with expression with variable name","body":"<p>The latest version 1.4.2 of <em>Josson</em> added function eval().</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<pre><code>Josson josson = Josson.fromJsonString(\n    &quot;{&quot; +\n    &quot;  \\&quot;model\\&quot;: \\&quot;abc\\&quot;,&quot; +\n    &quot;  \\&quot;variant\\&quot;: \\&quot;m1\\&quot;,&quot; +\n    &quot;  \\&quot;stage\\&quot; :2,&quot; +\n    &quot;  \\&quot;a\\&quot;: 100,&quot; +\n    &quot;  \\&quot;b\\&quot;: 200,&quot; +\n    &quot;  \\&quot;display name\\&quot;: \\&quot;concat(model,'-',variant)\\&quot;,&quot; +\n    &quot;  \\&quot;c\\&quot;: \\&quot;round(calc(a+b),0).toText()\\&quot;,&quot; +\n    &quot;  \\&quot;description\\&quot;: \\&quot;concat(model,'-',variant,'-',round(calc(stage*10),0))\\&quot;&quot; +\n    &quot;}&quot;);\nJsonNode node = josson.getNode(\n    &quot;field(display name: eval(display name),&quot; +\n    &quot;      c: eval(c),&quot; +\n    &quot;      description: eval(description))&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>{\n  &quot;model&quot; : &quot;abc&quot;,\n  &quot;variant&quot; : &quot;m1&quot;,\n  &quot;stage&quot; : 2,\n  &quot;a&quot; : 100,\n  &quot;b&quot; : 200,\n  &quot;display name&quot; : &quot;abc-m1&quot;,\n  &quot;c&quot; : &quot;300&quot;,\n  &quot;description&quot; : &quot;abc-m1-20&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":1675064,"reputation":103,"user_id":1540802,"display_name":"Pranav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74943675,"answer_count":1,"score":2,"last_activity_date":1672740027,"creation_date":1672225179,"question_id":74939394,"body_markdown":"We need to evalue json object expression in java\r\n\r\nwe have following source json object\r\n\r\n```\r\n{\r\n  &quot;model&quot;:&quot;abc&quot;,\r\n  &quot;variant&quot;:&quot;m1&quot;,\r\n  &quot;stage&quot;:2,\r\n  &quot;a&quot;:100,\r\n  &quot;b&quot;:200,\r\n  &quot;display name&quot;:&quot;${model}-${variant}&quot;,\r\n  &quot;c&quot;:&quot;${a}*${b}&quot;,\r\n  &quot;description&quot;:&quot;${model}-${variant}-${stage*10}&quot;\r\n}\r\n\r\n```\r\n\r\nafter evaluation the json object should be like\r\n\r\n\r\n```\r\n{\r\n  &quot;model&quot;:&quot;abc&quot;,\r\n  &quot;variant&quot;:&quot;m1&quot;,\r\n  &quot;stage&quot;:2,\r\n  &quot;a&quot;:100,\r\n  &quot;b&quot;:200,\r\n  &quot;display name&quot;:&quot;abc-m1&quot;,\r\n  &quot;c&quot;:&quot;300&quot;,\r\n  &quot;description&quot;:&quot;abc-m1-20&quot;\r\n}\r\n```\r\n\r\nexpression can be of 3 types\r\n1. Pure arithmetic expression\r\n2. concat strings\r\n3. combination of concat and arithmetic expression\r\n\r\nWe are open to any modification in source json to define expression representation\r\n\r\nRegards,\r\nPranav\r\n\r\n\r\nwe tried https://github.com/json-path/JsonPath but that is more of a filtering json","title":"Evaluate JSON object with expression with variable name","body":"<p>We need to evalue json object expression in java</p>\n<p>we have following source json object</p>\n<pre><code>{\n  &quot;model&quot;:&quot;abc&quot;,\n  &quot;variant&quot;:&quot;m1&quot;,\n  &quot;stage&quot;:2,\n  &quot;a&quot;:100,\n  &quot;b&quot;:200,\n  &quot;display name&quot;:&quot;${model}-${variant}&quot;,\n  &quot;c&quot;:&quot;${a}*${b}&quot;,\n  &quot;description&quot;:&quot;${model}-${variant}-${stage*10}&quot;\n}\n\n</code></pre>\n<p>after evaluation the json object should be like</p>\n<pre><code>{\n  &quot;model&quot;:&quot;abc&quot;,\n  &quot;variant&quot;:&quot;m1&quot;,\n  &quot;stage&quot;:2,\n  &quot;a&quot;:100,\n  &quot;b&quot;:200,\n  &quot;display name&quot;:&quot;abc-m1&quot;,\n  &quot;c&quot;:&quot;300&quot;,\n  &quot;description&quot;:&quot;abc-m1-20&quot;\n}\n</code></pre>\n<p>expression can be of 3 types</p>\n<ol>\n<li>Pure arithmetic expression</li>\n<li>concat strings</li>\n<li>combination of concat and arithmetic expression</li>\n</ol>\n<p>We are open to any modification in source json to define expression representation</p>\n<p>Regards,\nPranav</p>\n<p>we tried <a href=\"https://github.com/json-path/JsonPath\" rel=\"nofollow noreferrer\">https://github.com/json-path/JsonPath</a> but that is more of a filtering json</p>\n"},{"tags":["java","cookies","servlets"],"owner":{"account_id":27249521,"reputation":1,"user_id":20774222,"display_name":"faceghost"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1671101526,"answer_count":0,"score":0,"last_activity_date":1672739836,"creation_date":1671052598,"question_id":74804270,"body_markdown":"I&#39;ve created a site that displays the weather of every city using an API from openweather.\r\n\r\nI managed to solve a problem I had where the previous searches wouldn&#39;t show up using cookies. This is for a school project that requires that I use cookies.\r\n\r\nMy problem now is that I can&#39;t create whitespace between the previous searches. I keep getting the error.\r\n\r\n```\r\njava.lang.IllegalArgumentException: An invalid character [32] was present in the Cookie value\r\n```\r\n\r\nThe only characters that can be used are colon and hyphen as far as the ones I&#39;ve tried. I read that colon and whitespace used to be accepted on an earlier tomcat, but not anymore. I&#39;m on 9.0.69.\r\n\r\nI&#39;ve uploaded a picture, so you can see the end result. \r\nHow do I create a white space between the cities or better yet a list that goes downwards.\r\n\r\nThis is my servlet;\r\n\r\n```\r\npackage controller;\r\n\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport javax.servlet.RequestDispatcher;\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.annotation.WebServlet;\r\nimport javax.servlet.http.Cookie;\r\nimport javax.servlet.http.HttpServlet;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\n\r\nimport model.GettheWeather;\r\nimport model.weatherBean;\r\n\r\n@WebServlet(&quot;/OWservlet&quot;)\r\npublic class OWservlet extends HttpServlet {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\tprotected void doGet(HttpServletRequest request, HttpServletResponse response)\r\n\t\t\tthrows ServletException, IOException {\r\n\r\n\t\tString cityStr = request.getParameter(&quot;city&quot;);\r\n\t\tString countryStr = request.getParameter(&quot;country&quot;);\r\n\r\n\t\tweatherBean wBean = new weatherBean(cityStr, countryStr);\r\n\r\n\t\tGettheWeather.getWeather(wBean);\r\n\r\n\t\trequest.setAttribute(&quot;wBean&quot;, wBean);\r\n\r\n\t\tCookie[] cookies = request.getCookies();\r\n\t\tString temp = &quot;&quot;;\r\n\t\tfor (int i = 0; i &lt; cookies.length; i++) {\r\n\t\t\tif (cookies[i].getName().equals(&quot;city&quot;)) {\r\n\t\t\t\ttemp = cookies[i].getValue();\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\ttemp = temp + &quot;-&quot; + cityStr;\r\n\t\t\r\n\r\n\t\tCookie ck = new Cookie(&quot;city&quot;, temp);\r\n\t\tck.setMaxAge(100);\r\n\t\tresponse.addCookie(ck);\r\n\r\n\t\tRequestDispatcher rd = request.getRequestDispatcher(&quot;views/showWeather.jsp&quot;);\r\n\t\trd.forward(request, response);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nand this is my JSP\r\n\r\n```\r\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;\r\n\tpageEncoding=&quot;UTF-8&quot;%&gt;\r\n&lt;%@page import=&quot;model.weatherBean&quot;%&gt;\r\n&lt;%@page import=&quot;controller.OWservlet&quot;%&gt;\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n&lt;meta charset=&quot;UTF-8&quot;&gt;\r\n&lt;title&gt;the weather&lt;/title&gt;\r\n&lt;link rel=&quot;stylesheet&quot; href=&quot;./style.css&quot;&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n\r\n\t&lt;%\r\n\t\r\n\tweatherBean wBean = (weatherBean) request.getAttribute(&quot;wBean&quot;);\r\n\r\n\tdouble number = Double.parseDouble(wBean.getTempStr());\r\n\tnumber = number - 273.15;\r\n\tint number2 = (int) number;\r\n\r\n\tout.print(&quot;&lt;h2&gt;The weather in &quot; + wBean.getCityStr() + &quot; is now  &quot; + wBean.getCloudsStr() + &quot;, the temperature is : &quot;\r\n\t\t\t+ number2 + &quot;&#176;C, and the date is: &quot; + wBean.getTimeStr().substring(0, 10) + &quot;&lt;/h2&gt;&quot;);\r\n\t%&gt;\r\n\r\n\t&lt;div class=&quot;loginbox&quot;&gt;\r\n\t\t&lt;form action=&quot;OWservlet&quot; method=&quot;get&quot;&gt;\r\n\t\t\tCity:&lt;input type=&quot;text&quot; name=&quot;city&quot; /&gt;&lt;br /&gt; Country:&lt;input\r\n\t\t\t\ttype=&quot;text&quot; name=&quot;country&quot; /&gt;&lt;br /&gt; &lt;input type=&quot;submit&quot;\r\n\t\t\t\tvalue=&quot;go&quot; /&gt;\r\n\t\t&lt;/form&gt;\r\n\t&lt;/div&gt;\r\n\r\n\t&lt;h1&gt;Previously searched cities: ${cookie[&quot;city&quot;].getValue()}&lt;/h1&gt;\r\n\r\n\t\r\n\t\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nI&#39;ve tried using \r\n```\r\ntemp.split(&quot;-&quot;);\r\n```\r\nand \r\n```\r\ntemp.replace(&quot;-&quot;,&quot; &quot;)\r\n```","title":"How do I delete a character from a Cookie or create whitespace?","body":"<p>I've created a site that displays the weather of every city using an API from openweather.</p>\n<p>I managed to solve a problem I had where the previous searches wouldn't show up using cookies. This is for a school project that requires that I use cookies.</p>\n<p>My problem now is that I can't create whitespace between the previous searches. I keep getting the error.</p>\n<pre><code>java.lang.IllegalArgumentException: An invalid character [32] was present in the Cookie value\n</code></pre>\n<p>The only characters that can be used are colon and hyphen as far as the ones I've tried. I read that colon and whitespace used to be accepted on an earlier tomcat, but not anymore. I'm on 9.0.69.</p>\n<p>I've uploaded a picture, so you can see the end result.\nHow do I create a white space between the cities or better yet a list that goes downwards.</p>\n<p>This is my servlet;</p>\n<pre><code>package controller;\n\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport javax.servlet.RequestDispatcher;\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.Cookie;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\nimport model.GettheWeather;\nimport model.weatherBean;\n\n@WebServlet(&quot;/OWservlet&quot;)\npublic class OWservlet extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n\n    protected void doGet(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n\n        String cityStr = request.getParameter(&quot;city&quot;);\n        String countryStr = request.getParameter(&quot;country&quot;);\n\n        weatherBean wBean = new weatherBean(cityStr, countryStr);\n\n        GettheWeather.getWeather(wBean);\n\n        request.setAttribute(&quot;wBean&quot;, wBean);\n\n        Cookie[] cookies = request.getCookies();\n        String temp = &quot;&quot;;\n        for (int i = 0; i &lt; cookies.length; i++) {\n            if (cookies[i].getName().equals(&quot;city&quot;)) {\n                temp = cookies[i].getValue();\n            }\n\n        }\n\n        temp = temp + &quot;-&quot; + cityStr;\n        \n\n        Cookie ck = new Cookie(&quot;city&quot;, temp);\n        ck.setMaxAge(100);\n        response.addCookie(ck);\n\n        RequestDispatcher rd = request.getRequestDispatcher(&quot;views/showWeather.jsp&quot;);\n        rd.forward(request, response);\n    }\n\n}\n</code></pre>\n<p>and this is my JSP</p>\n<pre><code>&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;\n    pageEncoding=&quot;UTF-8&quot;%&gt;\n&lt;%@page import=&quot;model.weatherBean&quot;%&gt;\n&lt;%@page import=&quot;controller.OWservlet&quot;%&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta charset=&quot;UTF-8&quot;&gt;\n&lt;title&gt;the weather&lt;/title&gt;\n&lt;link rel=&quot;stylesheet&quot; href=&quot;./style.css&quot;&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n    &lt;%\n    \n    weatherBean wBean = (weatherBean) request.getAttribute(&quot;wBean&quot;);\n\n    double number = Double.parseDouble(wBean.getTempStr());\n    number = number - 273.15;\n    int number2 = (int) number;\n\n    out.print(&quot;&lt;h2&gt;The weather in &quot; + wBean.getCityStr() + &quot; is now  &quot; + wBean.getCloudsStr() + &quot;, the temperature is : &quot;\n            + number2 + &quot;°C, and the date is: &quot; + wBean.getTimeStr().substring(0, 10) + &quot;&lt;/h2&gt;&quot;);\n    %&gt;\n\n    &lt;div class=&quot;loginbox&quot;&gt;\n        &lt;form action=&quot;OWservlet&quot; method=&quot;get&quot;&gt;\n            City:&lt;input type=&quot;text&quot; name=&quot;city&quot; /&gt;&lt;br /&gt; Country:&lt;input\n                type=&quot;text&quot; name=&quot;country&quot; /&gt;&lt;br /&gt; &lt;input type=&quot;submit&quot;\n                value=&quot;go&quot; /&gt;\n        &lt;/form&gt;\n    &lt;/div&gt;\n\n    &lt;h1&gt;Previously searched cities: ${cookie[&quot;city&quot;].getValue()}&lt;/h1&gt;\n\n    \n    \n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>I've tried using</p>\n<pre><code>temp.split(&quot;-&quot;);\n</code></pre>\n<p>and</p>\n<pre><code>temp.replace(&quot;-&quot;,&quot; &quot;)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","jackson"],"comments":[{"owner":{"account_id":12843853,"reputation":369,"user_id":9290993,"display_name":"Rurien"},"score":0,"creation_date":1672711671,"post_id":74978500,"comment_id":132332658,"body_markdown":"I&#39;ve tried it with simple spring boot project with only ```Application.java``` and ```Controller.java```. No other settings.","body":"I&#39;ve tried it with simple spring boot project with only <code>Application.java</code> and <code>Controller.java</code>. No other settings."}],"answers":[{"tags":[],"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672738780,"creation_date":1672738780,"answer_id":74991488,"question_id":74978500,"body_markdown":"```@JsonAlias``` will not work with ```@ModelAttribute``` because ```@ModelAttribute``` is used for binding data for request param (in key value pairs). If you want to do JSON mapping then better to use ```@RequestBody```","title":"@JsonAlias on @ModelAttribute POJO not working","body":"<p><code>@JsonAlias</code> will not work with <code>@ModelAttribute</code> because <code>@ModelAttribute</code> is used for binding data for request param (in key value pairs). If you want to do JSON mapping then better to use <code>@RequestBody</code></p>\n"}],"owner":{"account_id":12843853,"reputation":369,"user_id":9290993,"display_name":"Rurien"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74991488,"answer_count":1,"score":0,"last_activity_date":1672738780,"creation_date":1672624575,"question_id":74978500,"body_markdown":"I&#39;m using Jackson in my Spring Boot application.\r\n\r\nI want to convert request parameters to POJO.\r\n\r\nBut when I use ```@ModelAttribute``` with ```@JsonAlias```, it doesn&#39;t work.\r\n\r\n**Request POJO**\r\n```\r\n@Data\r\npublic RequestPojo {\r\n    @JsonAlias( &quot;FOO_SNAKE&quot; ) // Not working\r\n    private String fooCamelAlias;\r\n}\r\n```\r\n\r\n**Controller:**\r\n```\r\n@GetMapping(&quot;/foo&quot;)\r\npublic void getFoo( @ModelAttribute RequestPojo requestPojo ) {\r\n    ...\r\n}\r\n```\r\n\r\n**Request:**\r\n```\r\n(1) http://localhost?FOO_SNAKE=Foo_snake\r\n(2) http://localhost?fooCamelAlias=Foo_snake\r\n```\r\n\r\n```fooCamelAlias``` is null when I request with ```(1)```.\r\nBut ```(2)``` works.","title":"@JsonAlias on @ModelAttribute POJO not working","body":"<p>I'm using Jackson in my Spring Boot application.</p>\n<p>I want to convert request parameters to POJO.</p>\n<p>But when I use <code>@ModelAttribute</code> with <code>@JsonAlias</code>, it doesn't work.</p>\n<p><strong>Request POJO</strong></p>\n<pre><code>@Data\npublic RequestPojo {\n    @JsonAlias( &quot;FOO_SNAKE&quot; ) // Not working\n    private String fooCamelAlias;\n}\n</code></pre>\n<p><strong>Controller:</strong></p>\n<pre><code>@GetMapping(&quot;/foo&quot;)\npublic void getFoo( @ModelAttribute RequestPojo requestPojo ) {\n    ...\n}\n</code></pre>\n<p><strong>Request:</strong></p>\n<pre><code>(1) http://localhost?FOO_SNAKE=Foo_snake\n(2) http://localhost?fooCamelAlias=Foo_snake\n</code></pre>\n<p><code>fooCamelAlias</code> is null when I request with <code>(1)</code>.\nBut <code>(2)</code> works.</p>\n"},{"tags":["java","selenium","selenium-webdriver","noclassdeffounderror","illegalstateexception"],"comments":[{"owner":{"account_id":7696323,"reputation":1,"user_id":5830694,"display_name":"Jon Jon Micallef"},"score":0,"creation_date":1672701879,"post_id":74987770,"comment_id":132331344,"body_markdown":"these are all the jar i added. i am not using marven so i tried to find a stand-alone jar, idk if they work well. i have managed to use selenium on marven by copying in dependencies but I cant do that here or I don&#39;t know how,, the list :   slf4j-api-161 jar\n\nslf4j-simple-1.6.1.jar\n\nselenium-api-47.2-jar\n\norg.apache.commons.io.jar\n\njava-json,jar\n\nselenium-java.jar -\n\nselenium-serverZ24.1jar -\n\nselenium-server-standalone-2&#39;7.0\n\nselenium-java-3.140.jar\n\nguava-23.0jar","body":"these are all the jar i added. i am not using marven so i tried to find a stand-alone jar, idk if they work well. i have managed to use selenium on marven by copying in dependencies but I cant do that here or I don&#39;t know how,, the list :   slf4j-api-161 jar  slf4j-simple-1.6.1.jar  selenium-api-47.2-jar  org.apache.commons.io.jar  java-json,jar  selenium-java.jar -  selenium-serverZ24.1jar -  selenium-server-standalone-2&#39;7.0  selenium-java-3.140.jar  guava-23.0jar"},{"owner":{"account_id":7696323,"reputation":1,"user_id":5830694,"display_name":"Jon Jon Micallef"},"score":0,"creation_date":1672702703,"post_id":74987770,"comment_id":132331464,"body_markdown":"this is an apectJ file","body":"this is an apectJ file"}],"owner":{"account_id":7696323,"reputation":1,"user_id":5830694,"display_name":"Jon Jon Micallef"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672737206,"creation_date":1672700726,"question_id":74987770,"body_markdown":"I am using eclipse luna which is an out-of-date version. I&#39;m having an issue with setting up selenium.I&#39;m using vanilla java, no marven or anything like that.\r\n\r\n```\r\npublic static WebDriver driver;\r\n\tpublic static void main(String[] args) throws JSONException{ \r\n\t\r\n\r\n\t\t\t System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C://Program Files//chromedriver//chromedriver.exe&quot;);\r\n\r\n\t\t\t WebDriver driver = new ChromeDriver();\r\n\r\n\r\n\t\t\t driver.get(&quot;www.google.com&quot;); \r\n\t\t}\r\n```\r\n\r\nI imported JAR files instead of copying in selenium stand-alone. also tried switching the setproperty and driver but it return: java.lang.IllegalStateException: The path to the chromedriver executable must be set by the webdriver.chrome.driver system property","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/http/HttpEntity","body":"<p>I am using eclipse luna which is an out-of-date version. I'm having an issue with setting up selenium.I'm using vanilla java, no marven or anything like that.</p>\n<pre><code>public static WebDriver driver;\n    public static void main(String[] args) throws JSONException{ \n    \n\n             System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C://Program Files//chromedriver//chromedriver.exe&quot;);\n\n             WebDriver driver = new ChromeDriver();\n\n\n             driver.get(&quot;www.google.com&quot;); \n        }\n</code></pre>\n<p>I imported JAR files instead of copying in selenium stand-alone. also tried switching the setproperty and driver but it return: java.lang.IllegalStateException: The path to the chromedriver executable must be set by the webdriver.chrome.driver system property</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","drag-and-drop"],"owner":{"account_id":27314636,"reputation":39,"user_id":20829272,"display_name":"Praveen Sundaram"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672737052,"creation_date":1672731930,"question_id":74990350,"body_markdown":"I am trying to drag and drop an element to a targeted location. The code I used:\r\n\r\n    driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\r\n\t\t\r\n\tdriver.get(&quot;https://letcode.in/dropable&quot;);\r\n\t\r\n\tWebElement source = driver.findElement(By.id(&quot;draggable&quot;));\r\n\tWebElement target = driver.findElement(By.id(&quot;droppable&quot;));\r\n\t\r\n\tActions act = new Actions(driver);\r\n\tact.dragAndDrop(source, target).perform();\r\n\r\nUpon using this code, all I was able to view is that the source element being clicked and hold. it is not moved to the target location. I even tried dragAndDropBy(), ClickAndHold(). Everything is giving the same output.","title":"Selenium : Drag and Drop","body":"<p>I am trying to drag and drop an element to a targeted location. The code I used:</p>\n<pre><code>driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\n    \ndriver.get(&quot;https://letcode.in/dropable&quot;);\n\nWebElement source = driver.findElement(By.id(&quot;draggable&quot;));\nWebElement target = driver.findElement(By.id(&quot;droppable&quot;));\n\nActions act = new Actions(driver);\nact.dragAndDrop(source, target).perform();\n</code></pre>\n<p>Upon using this code, all I was able to view is that the source element being clicked and hold. it is not moved to the target location. I even tried dragAndDropBy(), ClickAndHold(). Everything is giving the same output.</p>\n"},{"tags":["java","exception","sonarqube","completable-future","interrupted-exception"],"comments":[{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1672737396,"post_id":74990796,"comment_id":132336970,"body_markdown":"Does this answer your question? [Why invoke Thread.currentThread.interrupt() in a catch InterruptException block?](https://stackoverflow.com/questions/4906799/why-invoke-thread-currentthread-interrupt-in-a-catch-interruptexception-block)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/4906799/why-invoke-thread-currentthread-interrupt-in-a-catch-interruptexception-block\">Why invoke Thread.currentThread.interrupt() in a catch InterruptException block?</a>"},{"owner":{"account_id":15986267,"reputation":1,"user_id":11536640,"display_name":"Shailja"},"score":0,"creation_date":1672791661,"post_id":74990796,"comment_id":132352528,"body_markdown":"@DidierL Since I need to interrupt the thread here, do we have any other approach with which I can avoid getting InterruptedException? I&#39;m using Executor Service and I don&#39;t want the output to get effected due to one iteration failure. Please suggest me the  best way to handle it.","body":"@DidierL Since I need to interrupt the thread here, do we have any other approach with which I can avoid getting InterruptedException? I&#39;m using Executor Service and I don&#39;t want the output to get effected due to one iteration failure. Please suggest me the  best way to handle it."},{"owner":{"account_id":15986267,"reputation":1,"user_id":11536640,"display_name":"Shailja"},"score":0,"creation_date":1672791813,"post_id":74990796,"comment_id":132352551,"body_markdown":"@DidierL I&#39;ve also tried checking the interrupted flag - if its true used Optional.empty() but with this I stucked to this Exception -                                                     \n\nInterrupted acquiring a permit to retrieve an item from the pool ; nested exception is com.mongodb.MongoInterruptedException: Interrupted acquiring a permit to retrieve an item from the pool","body":"@DidierL I&#39;ve also tried checking the interrupted flag - if its true used Optional.empty() but with this I stucked to this Exception -                                                       Interrupted acquiring a permit to retrieve an item from the pool ; nested exception is com.mongodb.MongoInterruptedException: Interrupted acquiring a permit to retrieve an item from the pool"}],"owner":{"account_id":15986267,"reputation":1,"user_id":11536640,"display_name":"Shailja"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672737051,"creation_date":1672734752,"question_id":74990796,"body_markdown":"Here inside the for loop I&#39;m trying to get the value from `stringCompletableFutureEntry` which throws the `InterruptedException` and with sonar enabled on this, I am supposed to interrupt the thread when an exception occurs but according to my expectation I should get data for all futures if it&#39;s not there than I can use `Optional.empty()` or skip this iteration and move further. How should I get rid of this sonar issue?\r\n\r\n\r\n\r\n\r\n```java\r\nprivate void mapFutures(\r\n      Map&lt;Obj1, CompletableFuture&lt;DummyContainer&gt;&gt; futures, List&lt;DummyStatus&gt; dummyStatusList) {\r\n    for (Map.Entry&lt;Obj1, CompletableFuture&lt;DummyContainer&gt;&gt; stringCompletableFutureEntry :\r\n        futures.entrySet()) {\r\n      try {\r\n        Optional&lt;DummyContainer&gt; dummyContainer =\r\n            Optional.ofNullable(**stringCompletableFutureEntry.getValue().get()**);\r\n        List&lt;Dummy&gt; dummy = null;\r\n        dummy = dummyContainer.map(DummyContainer::getDummyData).orElseGet(() -&gt; null);\r\n        \r\n        if (!CollectionUtils.isEmpty(dummy)) {\r\n          dummyStatusList.add(new DummyStatus(stringCompletableFutureEntry.getKey(), dummy.get(0)));\r\n        } else {\r\n          dummyStatusList.add(new DummyStatus(stringCompletableFutureEntry.getKey()));\r\n        }\r\n      } catch (InterruptedException | ExecutionException e) {\r\n        Thread.currentThread().interrupt(); // sonar expectation\r\n      }\r\n    }\r\n  }\r\n\r\n```\r\n\r\n\r\nI tried using timeout while getting data e.g. \r\n```java\r\nstringCompletableFutureEntry.getValue().get(Long.parseLong(&quot;3000&quot;), TimeUnit.MILLISECONDS))\r\n```\r\n\r\nIt&#39;ll throw a `TimeoutException` once the time threshold is reached.\r\n\r\nI&#39;m looking for other Solutions to get rid of `InterruptedException` inside the loop.","title":"InterruptedException Issue on Sonar while getting data from CompletableFuture","body":"<p>Here inside the for loop I'm trying to get the value from <code>stringCompletableFutureEntry</code> which throws the <code>InterruptedException</code> and with sonar enabled on this, I am supposed to interrupt the thread when an exception occurs but according to my expectation I should get data for all futures if it's not there than I can use <code>Optional.empty()</code> or skip this iteration and move further. How should I get rid of this sonar issue?</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void mapFutures(\n      Map&lt;Obj1, CompletableFuture&lt;DummyContainer&gt;&gt; futures, List&lt;DummyStatus&gt; dummyStatusList) {\n    for (Map.Entry&lt;Obj1, CompletableFuture&lt;DummyContainer&gt;&gt; stringCompletableFutureEntry :\n        futures.entrySet()) {\n      try {\n        Optional&lt;DummyContainer&gt; dummyContainer =\n            Optional.ofNullable(**stringCompletableFutureEntry.getValue().get()**);\n        List&lt;Dummy&gt; dummy = null;\n        dummy = dummyContainer.map(DummyContainer::getDummyData).orElseGet(() -&gt; null);\n        \n        if (!CollectionUtils.isEmpty(dummy)) {\n          dummyStatusList.add(new DummyStatus(stringCompletableFutureEntry.getKey(), dummy.get(0)));\n        } else {\n          dummyStatusList.add(new DummyStatus(stringCompletableFutureEntry.getKey()));\n        }\n      } catch (InterruptedException | ExecutionException e) {\n        Thread.currentThread().interrupt(); // sonar expectation\n      }\n    }\n  }\n\n</code></pre>\n<p>I tried using timeout while getting data e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>stringCompletableFutureEntry.getValue().get(Long.parseLong(&quot;3000&quot;), TimeUnit.MILLISECONDS))\n</code></pre>\n<p>It'll throw a <code>TimeoutException</code> once the time threshold is reached.</p>\n<p>I'm looking for other Solutions to get rid of <code>InterruptedException</code> inside the loop.</p>\n"},{"tags":["java","json","gson"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1672675341,"post_id":74984381,"comment_id":132325227,"body_markdown":"There’s no native supports for java.time classes in again. You’ll have to write your own serializers.","body":"There’s no native supports for java.time classes in again. You’ll have to write your own serializers."},{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":2,"creation_date":1672675355,"post_id":74984381,"comment_id":132325232,"body_markdown":"I have not used the Gson library; but looking at the JSON, it seems this is how Gson structures a date-time. A simple solution can be creating a new field/attribute and writing the value of `OffsetDateTime::toString` or the value of `OffsetDateTime::format` (for formatted value) to it.","body":"I have not used the Gson library; but looking at the JSON, it seems this is how Gson structures a date-time. A simple solution can be creating a new field/attribute and writing the value of <code>OffsetDateTime::toString</code> or the value of <code>OffsetDateTime::format</code> (for formatted value) to it."}],"answers":[{"tags":[],"owner":{"account_id":1241265,"reputation":4024,"user_id":1203811,"accept_rate":79,"display_name":"jumps4fun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672737018,"creation_date":1672737018,"answer_id":74991184,"question_id":74984381,"body_markdown":"After reading the comments on the question, stating that there are no native support for this on Gson, I decided to look to other libraries.\r\n\r\nAnd I easily achieved my goal, using `com.fasterxml.jackson.databind.ObjectMapper.java`\r\n\r\n    ObjectMapper mapper = new ObjectMapper()\r\n        .registerModule(new JavaTimeModule())\r\n        .configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\r\n\r\n    json = mapper.writeValueAsString(myObject);\r\n","title":"How do I serialize different java DateTime objects as String values, with Gson?","body":"<p>After reading the comments on the question, stating that there are no native support for this on Gson, I decided to look to other libraries.</p>\n<p>And I easily achieved my goal, using <code>com.fasterxml.jackson.databind.ObjectMapper.java</code></p>\n<pre><code>ObjectMapper mapper = new ObjectMapper()\n    .registerModule(new JavaTimeModule())\n    .configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\n\njson = mapper.writeValueAsString(myObject);\n</code></pre>\n"}],"owner":{"account_id":1241265,"reputation":4024,"user_id":1203811,"accept_rate":79,"display_name":"jumps4fun"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672737018,"creation_date":1672674364,"question_id":74984381,"body_markdown":"I&#39;m in the process of editing some JSON files. I deserialize them into java objects, edit, and then write them back to JSON format, using Gson.\r\n\r\nBut all of my date time objects turn into hierarchical object, instead of the string representation I need.\r\n\r\nBefore (OffsetDateTime):\r\n\r\n      &quot;date&quot;: &quot;2000-04-26T10:10:00Z&quot;\r\n\r\nAfter deserializing, editing, and reserializing again:\r\n\r\n    &quot;date&quot;:{\r\n            &quot;dateTime&quot;:{\r\n              &quot;date&quot;:{\r\n                &quot;year&quot;:2000,\r\n                &quot;month&quot;:1,\r\n                &quot;day&quot;:1\r\n              },\r\n              &quot;time&quot;:{\r\n                &quot;hour&quot;:0,\r\n                &quot;minute&quot;:0,\r\n                &quot;second&quot;:0,\r\n                &quot;nano&quot;:0\r\n              }\r\n            },\r\n            &quot;offset&quot;:{\r\n              &quot;totalSeconds&quot;:0\r\n            }\r\n          }\r\n\r\n   \r\nAnd then my original code for serializing:\r\n\r\n    Gson gson = new GsonBuilder()\r\n                .serializeNulls()             \r\n                .create();\r\n\r\n    String json = gson.toJson(myObject);\r\n\r\nI&#39;ve tried all the solutions in this question: \r\nhttps://stackoverflow.com/questions/6873020/gson-date-format?answertab=modifieddesc#tab-top\r\nBut none of them change anything. I thought it was the same question, but now I think my problem is different. A lot has changed in java, since this question was asked in 2011.\r\n\r\nHere are the concrete examples of lines I have tried to add to my GsonBuilder:\r\n\r\n    .setDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZ&quot;)\r\n    ...\r\n    .setDateFormat(DateFormat.LONG)\r\n    ...\r\n    .setDateFormat(DateFormat.FULL, DateFormat.FULL)\r\n    \r\n\r\nAnd many more. None make any difference.\r\n\r\nHow can I get Gson to serialize different Java date objects as string representations?\r\n","title":"How do I serialize different java DateTime objects as String values, with Gson?","body":"<p>I'm in the process of editing some JSON files. I deserialize them into java objects, edit, and then write them back to JSON format, using Gson.</p>\n<p>But all of my date time objects turn into hierarchical object, instead of the string representation I need.</p>\n<p>Before (OffsetDateTime):</p>\n<pre><code>  &quot;date&quot;: &quot;2000-04-26T10:10:00Z&quot;\n</code></pre>\n<p>After deserializing, editing, and reserializing again:</p>\n<pre><code>&quot;date&quot;:{\n        &quot;dateTime&quot;:{\n          &quot;date&quot;:{\n            &quot;year&quot;:2000,\n            &quot;month&quot;:1,\n            &quot;day&quot;:1\n          },\n          &quot;time&quot;:{\n            &quot;hour&quot;:0,\n            &quot;minute&quot;:0,\n            &quot;second&quot;:0,\n            &quot;nano&quot;:0\n          }\n        },\n        &quot;offset&quot;:{\n          &quot;totalSeconds&quot;:0\n        }\n      }\n</code></pre>\n<p>And then my original code for serializing:</p>\n<pre><code>Gson gson = new GsonBuilder()\n            .serializeNulls()             \n            .create();\n\nString json = gson.toJson(myObject);\n</code></pre>\n<p>I've tried all the solutions in this question:\n<a href=\"https://stackoverflow.com/questions/6873020/gson-date-format?answertab=modifieddesc#tab-top\">GSON - Date format</a>\nBut none of them change anything. I thought it was the same question, but now I think my problem is different. A lot has changed in java, since this question was asked in 2011.</p>\n<p>Here are the concrete examples of lines I have tried to add to my GsonBuilder:</p>\n<pre><code>.setDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss.SSSZ&quot;)\n...\n.setDateFormat(DateFormat.LONG)\n...\n.setDateFormat(DateFormat.FULL, DateFormat.FULL)\n</code></pre>\n<p>And many more. None make any difference.</p>\n<p>How can I get Gson to serialize different Java date objects as string representations?</p>\n"},{"tags":["java","ssl","minecraft"],"owner":{"account_id":24027804,"reputation":1,"user_id":18009191,"display_name":"Orangy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672737010,"creation_date":1672736977,"question_id":74991179,"body_markdown":"So I am trying to make a Minecraft client and I happen to need to download some content (A JSON file) off of a repl. It always worked in the past but now I get this error:\r\n\r\n```\r\n14:27:22.722\r\ngame\r\nat sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1497)\r\n14:27:22.722\r\ngame\r\nat sun.security.ssl.ClientHandshaker.processMessage(ClientHandshaker.java:212)\r\n14:27:22.722\r\ngame\r\nat sun.security.ssl.Handshaker.processLoop(Handshaker.java:979)\r\n14:27:22.722\r\ngame\r\nat sun.security.ssl.Handshaker.process_record(Handshaker.java:914)\r\n14:27:22.722\r\ngame\r\nat sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1062)\r\n14:27:22.722\r\ngame\r\nat sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1375)\r\n14:27:22.722\r\ngame\r\nat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1403)\r\n14:27:22.722\r\ngame\r\nat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1387)\r\n14:27:22.722\r\ngame\r\nat sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:563)\r\n14:27:22.722\r\ngame\r\nat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:185)\r\n14:27:22.722\r\ngame\r\nat sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1512)\r\n14:27:22.722\r\ngame\r\nat sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1440)\r\n14:27:22.722\r\ngame\r\nat sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:254)\r\n14:27:22.723\r\ngame\r\nat java.net.URL.openStream(URL.java:1038)\r\n14:27:22.723\r\ngame\r\nat org.apache.commons.io.FileUtils.copyURLToFile(FileUtils.java:1460)\r\n14:27:22.723\r\ngame\r\nat orangeclient.cosmetics.CapeChecker$1.run(CapeChecker.java:125)\r\n```\r\n\r\nThis, however, is only happening when I launch the game from the launcher **and not when debugging with eclipse IDE.**\r\n\r\n\r\nI&#39;ve tried making it request to http instead of https but replit just gives me a permanent redirect, and that&#39;s not a JSON.\r\n\r\nOh, and also, don&#39;t tell me to use keypairs and stuff I don&#39;t want to have to do it for every single person that wants to use my client.\r\n\r\nThanks.","title":"javax.net.ssl.SSLHandshakeException getting thrown in Eclipse but not once the project is exported","body":"<p>So I am trying to make a Minecraft client and I happen to need to download some content (A JSON file) off of a repl. It always worked in the past but now I get this error:</p>\n<pre><code>14:27:22.722\ngame\nat sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1497)\n14:27:22.722\ngame\nat sun.security.ssl.ClientHandshaker.processMessage(ClientHandshaker.java:212)\n14:27:22.722\ngame\nat sun.security.ssl.Handshaker.processLoop(Handshaker.java:979)\n14:27:22.722\ngame\nat sun.security.ssl.Handshaker.process_record(Handshaker.java:914)\n14:27:22.722\ngame\nat sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1062)\n14:27:22.722\ngame\nat sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1375)\n14:27:22.722\ngame\nat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1403)\n14:27:22.722\ngame\nat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1387)\n14:27:22.722\ngame\nat sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:563)\n14:27:22.722\ngame\nat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:185)\n14:27:22.722\ngame\nat sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1512)\n14:27:22.722\ngame\nat sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1440)\n14:27:22.722\ngame\nat sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:254)\n14:27:22.723\ngame\nat java.net.URL.openStream(URL.java:1038)\n14:27:22.723\ngame\nat org.apache.commons.io.FileUtils.copyURLToFile(FileUtils.java:1460)\n14:27:22.723\ngame\nat orangeclient.cosmetics.CapeChecker$1.run(CapeChecker.java:125)\n</code></pre>\n<p>This, however, is only happening when I launch the game from the launcher <strong>and not when debugging with eclipse IDE.</strong></p>\n<p>I've tried making it request to http instead of https but replit just gives me a permanent redirect, and that's not a JSON.</p>\n<p>Oh, and also, don't tell me to use keypairs and stuff I don't want to have to do it for every single person that wants to use my client.</p>\n<p>Thanks.</p>\n"},{"tags":["java","eclipse","syntax-error"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":6,"creation_date":1476279932,"post_id":40000269,"comment_id":67278242,"body_markdown":"You have a method call outside of a method which is not possible","body":"You have a method call outside of a method which is not possible"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1476280215,"post_id":40000269,"comment_id":67278483,"body_markdown":"And i am sure it also not works before the Windows update","body":"And i am sure it also not works before the Windows update"},{"owner":{"account_id":1873703,"reputation":5364,"user_id":1695393,"display_name":"dubes"},"score":0,"creation_date":1476280219,"post_id":40000269,"comment_id":67278487,"body_markdown":"the code you have mentioned should not have worked ever. So, when you say Eclipse worked fine a couple of days ago, just want to check if you have given a wrong example or?","body":"the code you have mentioned should not have worked ever. So, when you say Eclipse worked fine a couple of days ago, just want to check if you have given a wrong example or?"}],"answers":[{"tags":[],"owner":{"account_id":225067,"reputation":29525,"user_id":485337,"accept_rate":91,"display_name":"Adam Arold"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1476279956,"creation_date":1476279956,"answer_id":40000300,"question_id":40000269,"body_markdown":"You can&#39;t have statements outside of initializer blocks or methods.\r\n\r\nTry something like this:\r\n\r\n    public class Hellomsg {\r\n        {\r\n            System.out.println(&quot;Hello.&quot;);\r\n        }\r\n    }\r\n\r\nor this\r\n\r\n    public class Hellomsg {\r\n        public void printMessage(){\r\n            System.out.println(&quot;Hello.&quot;);\r\n        }\r\n    }","title":"- Syntax error on token &quot;.&quot;, @ expected after this token","body":"<p>You can't have statements outside of initializer blocks or methods.</p>\n\n<p>Try something like this:</p>\n\n<pre><code>public class Hellomsg {\n    {\n        System.out.println(\"Hello.\");\n    }\n}\n</code></pre>\n\n<p>or this</p>\n\n<pre><code>public class Hellomsg {\n    public void printMessage(){\n        System.out.println(\"Hello.\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2818342,"reputation":299848,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1476279974,"creation_date":1476279974,"answer_id":40000303,"question_id":40000269,"body_markdown":"You can&#39;t just have statements floating in the middle of classes in Java. You either need to put them in methods:\r\n\r\n    package lab6;\r\n    \r\n    public class Hellomsg {\r\n        public void myMethod() {\r\n             System.out.println(&quot;Hello.&quot;);\r\n        }\r\n    }\r\n\r\nOr in `static` blocks:\r\n\r\n    package lab6;\r\n    \r\n    public class Hellomsg {\r\n        static {\r\n             System.out.println(&quot;Hello.&quot;);\r\n        }\r\n    }","title":"- Syntax error on token &quot;.&quot;, @ expected after this token","body":"<p>You can't just have statements floating in the middle of classes in Java. You either need to put them in methods:</p>\n\n<pre><code>package lab6;\n\npublic class Hellomsg {\n    public void myMethod() {\n         System.out.println(\"Hello.\");\n    }\n}\n</code></pre>\n\n<p>Or in <code>static</code> blocks:</p>\n\n<pre><code>package lab6;\n\npublic class Hellomsg {\n    static {\n         System.out.println(\"Hello.\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1476279992,"creation_date":1476279992,"answer_id":40000310,"question_id":40000269,"body_markdown":"You have a method call outside of a method which is not possible.\r\n\r\nCorrect code Looks like:\r\n\r\n    public class Hellomsg {\r\n      public static void main(String[] args) { \r\n        System.out.println(&quot;Hello.&quot;);\r\n        }\r\n    }","title":"- Syntax error on token &quot;.&quot;, @ expected after this token","body":"<p>You have a method call outside of a method which is not possible.</p>\n\n<p>Correct code Looks like:</p>\n\n<pre><code>public class Hellomsg {\n  public static void main(String[] args) { \n    System.out.println(\"Hello.\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26604654,"reputation":103,"user_id":20225739,"display_name":"Theri Muthu Selvam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672736914,"creation_date":1672736383,"answer_id":74991092,"question_id":40000269,"body_markdown":"Just now I too faced the same issue, so I think I can answer this question.\r\n\r\nYou have to write the code inside the methods not on the class, class are generally used to do some initialization for the variables and writing methods.\r\n\r\nSo for your issue, I&#39;m just adding your statement inside the main function.\r\n\r\n    package lab6;\r\n    public class Hellomsg {\r\n      public static void main(String args[]){\r\n        System.out.println(&quot;Hello.&quot;);\r\n      }\r\n    }\r\n\r\nExecute the above, the code will work now.\r\n","title":"- Syntax error on token &quot;.&quot;, @ expected after this token","body":"<p>Just now I too faced the same issue, so I think I can answer this question.</p>\n<p>You have to write the code inside the methods not on the class, class are generally used to do some initialization for the variables and writing methods.</p>\n<p>So for your issue, I'm just adding your statement inside the main function.</p>\n<pre><code>package lab6;\npublic class Hellomsg {\n  public static void main(String args[]){\n    System.out.println(&quot;Hello.&quot;);\n  }\n}\n</code></pre>\n<p>Execute the above, the code will work now.</p>\n"}],"owner":{"account_id":9232778,"reputation":59,"user_id":6858342,"display_name":"cawe011"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39403,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":4,"score":4,"last_activity_date":1672736914,"creation_date":1476279858,"question_id":40000269,"body_markdown":"My Eclipse worked fine a couple of days ago before a Windows update. Now I get error messages whenever I&#39;m trying to do anything in Eclipse. Just a simple program as this will display a bunch of error messages:\r\n    \r\n    package lab6;\r\n    \r\n    public class Hellomsg {\r\n\t    System.out.println(&quot;Hello.&quot;);\r\n    \r\n    }\r\n\r\nThese are the errors I receive on the same line as I have my \r\n\r\n    &quot;System.out.println&quot;:\r\n    &quot;Multiple markers at this line\r\n    \r\n    - Syntax error, insert &quot;)&quot; to complete MethodDeclaration\r\n    - Syntax error on token &quot;.&quot;, @ expected after this token\r\n    - Syntax error, insert &quot;Identifier (&quot; to complete MethodHeaderName&quot;\r\n","title":"- Syntax error on token &quot;.&quot;, @ expected after this token","body":"<p>My Eclipse worked fine a couple of days ago before a Windows update. Now I get error messages whenever I'm trying to do anything in Eclipse. Just a simple program as this will display a bunch of error messages:</p>\n\n<pre><code>package lab6;\n\npublic class Hellomsg {\n    System.out.println(\"Hello.\");\n\n}\n</code></pre>\n\n<p>These are the errors I receive on the same line as I have my </p>\n\n<pre><code>\"System.out.println\":\n\"Multiple markers at this line\n\n- Syntax error, insert \")\" to complete MethodDeclaration\n- Syntax error on token \".\", @ expected after this token\n- Syntax error, insert \"Identifier (\" to complete MethodHeaderName\"\n</code></pre>\n"},{"tags":["java","appium","appium-desktop"],"answers":[{"tags":[],"owner":{"account_id":7979274,"reputation":57,"user_id":6021277,"accept_rate":0,"display_name":"monil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633090323,"creation_date":1632829029,"answer_id":69361025,"question_id":69359123,"body_markdown":"install appium 2.0 using below command \r\n\r\n    npm install -g appium@next\r\n\r\nMake sure there path for nodejs in system environment variable\r\nIn User Variable add new Key NODE_PATH and APPIUM_PATH \r\n\r\nFor NODE_PATH put value as C:\\Program Files\\nodejs\\node.exe\r\n\r\nFor APPIUM_PATH put value as C:\\Users\\&lt;user_name&gt;\\AppData\\Roaming\\npm\\node_modules\\appium\\node_modules\\.bin\r\n\r\nYou add below line to your code to above \r\nbuilder = new AppiumServiceBuilder().withArgument(() -&gt; &quot;--base-path&quot;, &quot;/wd/hub&quot;).withArgument(() -&gt; &quot;--plugins&quot;, &quot;images&quot;);\r\n\r\nThis is complete code \r\n\r\n\r\n    AppiumServiceBuilder builder;\r\n            builder = new AppiumServiceBuilder().withArgument(() -&gt; &quot;--base-path&quot;, &quot;/wd/hub&quot;).withArgument(() -&gt; &quot;--plugins&quot;, &quot;images&quot;);\r\n            builder.usingAnyFreePort();\r\n            builder.usingDriverExecutable(new File(&quot;C:\\\\Program Files\\\\nodejs\\\\node.exe&quot;));\r\n            builder.withAppiumJS(new File(&quot;C:\\\\Users\\\\&lt;user_name\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\appium&quot;));\r\n            HashMap&lt;String, String&gt; environment = new HashMap();\r\n            environment.put(&quot;PATH&quot;, &quot;/usr/local/bin:&quot; + System.getenv(&quot;PATH&quot;));\r\n            builder.withEnvironment(environment);\r\n            service = AppiumDriverLocalService.buildService(builder);\r\n            service.start();\r\n            DesiredCapabilities capabilities = new DesiredCapabilities();\r\n            capabilities.setCapability(&quot;appium:platformName&quot;, &quot;Android&quot;);\r\n            capabilities.setCapability(&quot;deviceName&quot;, &quot;Android Emulator&quot;);\r\n            capabilities.setCapability(&quot;appium:automationName&quot;, &quot;UiAutomator2&quot;);\r\n            capabilities.setCapability(&quot;app&quot;, &quot;path_to_app\\\\app\\\\Learn_Android_With_Source_Code.apk&quot;);\r\n    \r\n            androidDriver = new AndroidDriver&lt;AndroidElement&gt;(service.getUrl(), capabilities);\r\n            androidDriver.manage().timeouts().implicitlyWait(3, TimeUnit.SECONDS);\r\n            return androidDriver;\r\n\r\n","title":"How to start Appium server 2.0 Programmatically","body":"<p>install appium 2.0 using below command</p>\n<pre><code>npm install -g appium@next\n</code></pre>\n<p>Make sure there path for nodejs in system environment variable\nIn User Variable add new Key NODE_PATH and APPIUM_PATH</p>\n<p>For NODE_PATH put value as C:\\Program Files\\nodejs\\node.exe</p>\n<p>For APPIUM_PATH put value as C:\\Users&lt;user_name&gt;\\AppData\\Roaming\\npm\\node_modules\\appium\\node_modules.bin</p>\n<p>You add below line to your code to above\nbuilder = new AppiumServiceBuilder().withArgument(() -&gt; &quot;--base-path&quot;, &quot;/wd/hub&quot;).withArgument(() -&gt; &quot;--plugins&quot;, &quot;images&quot;);</p>\n<p>This is complete code</p>\n<pre><code>AppiumServiceBuilder builder;\n        builder = new AppiumServiceBuilder().withArgument(() -&gt; &quot;--base-path&quot;, &quot;/wd/hub&quot;).withArgument(() -&gt; &quot;--plugins&quot;, &quot;images&quot;);\n        builder.usingAnyFreePort();\n        builder.usingDriverExecutable(new File(&quot;C:\\\\Program Files\\\\nodejs\\\\node.exe&quot;));\n        builder.withAppiumJS(new File(&quot;C:\\\\Users\\\\&lt;user_name\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\appium&quot;));\n        HashMap&lt;String, String&gt; environment = new HashMap();\n        environment.put(&quot;PATH&quot;, &quot;/usr/local/bin:&quot; + System.getenv(&quot;PATH&quot;));\n        builder.withEnvironment(environment);\n        service = AppiumDriverLocalService.buildService(builder);\n        service.start();\n        DesiredCapabilities capabilities = new DesiredCapabilities();\n        capabilities.setCapability(&quot;appium:platformName&quot;, &quot;Android&quot;);\n        capabilities.setCapability(&quot;deviceName&quot;, &quot;Android Emulator&quot;);\n        capabilities.setCapability(&quot;appium:automationName&quot;, &quot;UiAutomator2&quot;);\n        capabilities.setCapability(&quot;app&quot;, &quot;path_to_app\\\\app\\\\Learn_Android_With_Source_Code.apk&quot;);\n\n        androidDriver = new AndroidDriver&lt;AndroidElement&gt;(service.getUrl(), capabilities);\n        androidDriver.manage().timeouts().implicitlyWait(3, TimeUnit.SECONDS);\n        return androidDriver;\n</code></pre>\n"}],"owner":{"account_id":7979274,"reputation":57,"user_id":6021277,"accept_rate":0,"display_name":"monil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2429,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672736813,"creation_date":1632821279,"question_id":69359123,"body_markdown":"I am aware of starting Appium 1.x programmatically but not able to do it for Appium 2.0\r\n\r\n    AppiumServiceBuilder builder = new AppiumServiceBuilder();\r\n        builder.usingAnyFreePort();\r\n        builder.usingDriverExecutable(new File(&quot;&lt;path to Node&gt;\\\\node.exe&quot;));\r\n        builder.withAppiumJS(new File(&quot;&lt;path to Appium&gt;\\\\appium&quot;));\r\n        HashMap&lt;String, String&gt; environment = new HashMap();\r\n        environment.put(&quot;PATH&quot;, &quot;/usr/local/bin:&quot; + System.getenv(&quot;PATH&quot;));\r\n        builder.withEnvironment(environment);\r\n        service = AppiumDriverLocalService.buildService(builder);\r\n        service.start();\r\n        ","title":"How to start Appium server 2.0 Programmatically","body":"<p>I am aware of starting Appium 1.x programmatically but not able to do it for Appium 2.0</p>\n<pre><code>AppiumServiceBuilder builder = new AppiumServiceBuilder();\n    builder.usingAnyFreePort();\n    builder.usingDriverExecutable(new File(&quot;&lt;path to Node&gt;\\\\node.exe&quot;));\n    builder.withAppiumJS(new File(&quot;&lt;path to Appium&gt;\\\\appium&quot;));\n    HashMap&lt;String, String&gt; environment = new HashMap();\n    environment.put(&quot;PATH&quot;, &quot;/usr/local/bin:&quot; + System.getenv(&quot;PATH&quot;));\n    builder.withEnvironment(environment);\n    service = AppiumDriverLocalService.buildService(builder);\n    service.start();\n    \n</code></pre>\n"},{"tags":["java","vert.x"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1672736859,"post_id":74990963,"comment_id":132336809,"body_markdown":"Think about what you are doing here: if you invoke `getInstance(&quot;bp1&quot;, &quot;bp2&quot;)`, and then `getInstance(&quot;bp3&quot;, &quot;bp4&quot;)`, you don&#39;t get a correctly-constructed `Api` back - you get the one for the previous (first) invocation. This is simply a bad idea. There&#39;s no real need to limit the construction of these instances - they are very cheap to construct. Why do you think construction on demand (statically) is better than construction on demand (at the point of use)?","body":"Think about what you are doing here: if you invoke <code>getInstance(&quot;bp1&quot;, &quot;bp2&quot;)</code>, and then <code>getInstance(&quot;bp3&quot;, &quot;bp4&quot;)</code>, you don&#39;t get a correctly-constructed <code>Api</code> back - you get the one for the previous (first) invocation. This is simply a bad idea. There&#39;s no real need to limit the construction of these instances - they are very cheap to construct. Why do you think construction on demand (statically) is better than construction on demand (at the point of use)?"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1672737024,"post_id":74990963,"comment_id":132336867,"body_markdown":"To answer your question more directly: initialization on demand does not work well/at all with parameters.","body":"To answer your question more directly: initialization on demand does not work well/at all with parameters."},{"owner":{"account_id":27418729,"reputation":1,"user_id":20917525,"display_name":"Shreelakshmi Joshi"},"score":0,"creation_date":1672743620,"post_id":74990963,"comment_id":132339007,"body_markdown":"Hi @Andy Turner, thanks for suggesting! Here are multiple classes like Api class doing a single thing. So, making a lot of instances that might of these different classes, might take up some space in the memory which is not very useful.","body":"Hi @Andy Turner, thanks for suggesting! Here are multiple classes like Api class doing a single thing. So, making a lot of instances that might of these different classes, might take up some space in the memory which is not very useful."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1672748850,"post_id":74990963,"comment_id":132340614,"body_markdown":"It&#39;s far more useful to have many instances of a class than it is to (unknowingly) have one instance of a class which does the wrong thing. The memory usage of the class you have shown is basically irrelevant.","body":"It&#39;s far more useful to have many instances of a class than it is to (unknowingly) have one instance of a class which does the wrong thing. The memory usage of the class you have shown is basically irrelevant."}],"owner":{"account_id":27418729,"reputation":1,"user_id":20917525,"display_name":"Shreelakshmi Joshi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672736785,"creation_date":1672735679,"question_id":74990963,"body_markdown":"[Here is the link to initialization on demand holder idiom ](https://en.wikipedia.org/wiki/Initialization-on-demand_holder_idiom#Example_Java_Implementation)\r\nI&#39;ve created a class with Singleton design pattern and double locking strategy. I want to change this class to use initialization on demand holder, but I couldn&#39;t accross examples where this is parameterized.\r\n\r\n1. How should I pass the parameters `basePath1`, `basePath2` while using initialization on demand holder pattern ?\r\n2. Would the present code and code with initialization on demand holder pattern cause any concurrency issues ?\r\n\r\n\r\n\r\n```\r\n\r\npublic class Api {\r\nprivate String basePath1;\r\nprivate String basePath2;\r\n\r\n    private StringBuilder temporalEndpoint;\r\n    private StringBuilder spatialEndpoint;\r\n    private StringBuilder fileUploadEndpoint;\r\n    private StringBuilder fileDownloadEndpoint;\r\n    private StringBuilder fileDeleteEndpoint;\r\n    private StringBuilder listMetaDataEndpoint;\r\n    private static final Logger LOG = LogManager.getLogger(Api.class);\r\n    \r\n    private static volatile Api apiInstance;\r\n    \r\n    \r\n    \r\n    private Api(String basePath1, String basePath2) {\r\n        this.basePath1 = basePath1;\r\n        this.basePath2 = basePath2;\r\n        buildEndpoints();\r\n    }\r\n    \r\n    public static Api getInstance(String basePath1, String basePath2)\r\n    {\r\n        if(apiInstance == null)\r\n        {\r\n                synchronized(Api.class)\r\n                  {\r\n                         if(apiInstance == null)\r\n                          {\r\n                                  apiInstance = new Api(basePath1, basePath2);\r\n                            }\r\n                 }\r\n             }\r\n        return apiInstance;\r\n    }\r\n    \r\n    public void buildEndpoints() {\r\n        temporalEndpoint = new StringBuilder(basePath1).append(API_TEMPORAL);\r\n        spatialEndpoint = new StringBuilder(basePath1).append(API_SPATIAL);\r\n        fileUploadEndpoint = new StringBuilder(basePath1).append(API_FILE_UPLOAD);\r\n        fileDownloadEndpoint = new StringBuilder(basePath1).append(API_FILE_DOWNLOAD);\r\n        fileDeleteEndpoint = new StringBuilder(basePath2).append(API_FILE_DELETE);\r\n        listMetaDataEndpoint = new StringBuilder(basePath2).append(API_LIST_METADATA);\r\n    }\r\n```","title":"How does initialization on demand holder idiom work with parameters?","body":"<p><a href=\"https://en.wikipedia.org/wiki/Initialization-on-demand_holder_idiom#Example_Java_Implementation\" rel=\"nofollow noreferrer\">Here is the link to initialization on demand holder idiom </a>\nI've created a class with Singleton design pattern and double locking strategy. I want to change this class to use initialization on demand holder, but I couldn't accross examples where this is parameterized.</p>\n<ol>\n<li>How should I pass the parameters <code>basePath1</code>, <code>basePath2</code> while using initialization on demand holder pattern ?</li>\n<li>Would the present code and code with initialization on demand holder pattern cause any concurrency issues ?</li>\n</ol>\n<pre><code>\npublic class Api {\nprivate String basePath1;\nprivate String basePath2;\n\n    private StringBuilder temporalEndpoint;\n    private StringBuilder spatialEndpoint;\n    private StringBuilder fileUploadEndpoint;\n    private StringBuilder fileDownloadEndpoint;\n    private StringBuilder fileDeleteEndpoint;\n    private StringBuilder listMetaDataEndpoint;\n    private static final Logger LOG = LogManager.getLogger(Api.class);\n    \n    private static volatile Api apiInstance;\n    \n    \n    \n    private Api(String basePath1, String basePath2) {\n        this.basePath1 = basePath1;\n        this.basePath2 = basePath2;\n        buildEndpoints();\n    }\n    \n    public static Api getInstance(String basePath1, String basePath2)\n    {\n        if(apiInstance == null)\n        {\n                synchronized(Api.class)\n                  {\n                         if(apiInstance == null)\n                          {\n                                  apiInstance = new Api(basePath1, basePath2);\n                            }\n                 }\n             }\n        return apiInstance;\n    }\n    \n    public void buildEndpoints() {\n        temporalEndpoint = new StringBuilder(basePath1).append(API_TEMPORAL);\n        spatialEndpoint = new StringBuilder(basePath1).append(API_SPATIAL);\n        fileUploadEndpoint = new StringBuilder(basePath1).append(API_FILE_UPLOAD);\n        fileDownloadEndpoint = new StringBuilder(basePath1).append(API_FILE_DOWNLOAD);\n        fileDeleteEndpoint = new StringBuilder(basePath2).append(API_FILE_DELETE);\n        listMetaDataEndpoint = new StringBuilder(basePath2).append(API_LIST_METADATA);\n    }\n</code></pre>\n"},{"tags":["java","json","spring","serialization","jackson"],"comments":[{"owner":{"account_id":4279009,"reputation":7633,"user_id":3498962,"display_name":"Essex Boy"},"score":0,"creation_date":1477299849,"post_id":40214080,"comment_id":67692952,"body_markdown":"Why do you need access to the Spring mapper, why don&#39;t you just create your own?","body":"Why do you need access to the Spring mapper, why don&#39;t you just create your own?"},{"owner":{"account_id":2028664,"reputation":6942,"user_id":1812993,"accept_rate":80,"display_name":"melchoir55"},"score":0,"creation_date":1477455198,"post_id":40214080,"comment_id":67769211,"body_markdown":"The answer to my question could include that, but that wouldn&#39;t fully answer the question. If I were to create my own mapper, how would I get spring boot to start using it?","body":"The answer to my question could include that, but that wouldn&#39;t fully answer the question. If I were to create my own mapper, how would I get spring boot to start using it?"}],"answers":[{"tags":[],"owner":{"account_id":178596,"reputation":10817,"user_id":410677,"accept_rate":78,"display_name":"kuhajeyan"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1477300592,"creation_date":1477300592,"answer_id":40214723,"question_id":40214080,"body_markdown":"\r\n\r\n    @JsonCreator\r\n    public OptionTransaction(Map&lt;String,Object&gt; jsonObj){  \r\n        Map&lt;String,Object&gt; jsonOption = (Map&lt;String, Object&gt;) jsonObj.get(&quot;option&quot;);\r\n    \r\n        Map&lt;String,Object&gt; optionPriceObj = (Map&lt;String, Object&gt;) jsonOption.get(&quot;price&quot;);\r\n        BigDecimal optionValue = new BigDecimal((Double) optionPriceObj.get(&quot;value&quot;));\r\n    }\r\n..\r\n\r\n\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    mapper.enable(DeserializationFeature.USE_BIG_DECIMAL_FOR_FLOATS);\r\n    \r\n    OptionTransaction transaction = mapper.readValue(jsonString, OptionTransaction.class);\r\n\r\nhttps://github.com/FasterXML/jackson-databind/wiki/Deserialization-Features","title":"Force spring boot jackson deserializer to use BigDecimal","body":"<pre><code>@JsonCreator\npublic OptionTransaction(Map&lt;String,Object&gt; jsonObj){  \n    Map&lt;String,Object&gt; jsonOption = (Map&lt;String, Object&gt;) jsonObj.get(\"option\");\n\n    Map&lt;String,Object&gt; optionPriceObj = (Map&lt;String, Object&gt;) jsonOption.get(\"price\");\n    BigDecimal optionValue = new BigDecimal((Double) optionPriceObj.get(\"value\"));\n}\n</code></pre>\n\n<p>..</p>\n\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nmapper.enable(DeserializationFeature.USE_BIG_DECIMAL_FOR_FLOATS);\n\nOptionTransaction transaction = mapper.readValue(jsonString, OptionTransaction.class);\n</code></pre>\n\n<p><a href=\"https://github.com/FasterXML/jackson-databind/wiki/Deserialization-Features\" rel=\"noreferrer\">https://github.com/FasterXML/jackson-databind/wiki/Deserialization-Features</a></p>\n"},{"tags":[],"owner":{"account_id":6996271,"reputation":303,"user_id":5363858,"display_name":"PlickPlick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672736555,"creation_date":1672736555,"answer_id":74991123,"question_id":40214080,"body_markdown":"    @Configuration\r\n    public class JacksonConfig {\r\n\r\n        @Bean\r\n        @Primary\r\n        public ObjectMapper jacksonObjectMapper(Jackson2ObjectMapperBuilder builder) {\r\n            return builder\r\n                    .modules(new ParameterNamesModule(JsonCreator.Mode.PROPERTIES), new JavaTimeModule())\r\n                    .deserializers( new NumberDeserializers.BigDecimalDeserializer())\r\n                    .featuresToEnable(MapperFeature.AUTO_DETECT_CREATORS)\r\n                    .build();\r\n        }\r\n    }","title":"Force spring boot jackson deserializer to use BigDecimal","body":"<pre><code>@Configuration\npublic class JacksonConfig {\n\n    @Bean\n    @Primary\n    public ObjectMapper jacksonObjectMapper(Jackson2ObjectMapperBuilder builder) {\n        return builder\n                .modules(new ParameterNamesModule(JsonCreator.Mode.PROPERTIES), new JavaTimeModule())\n                .deserializers( new NumberDeserializers.BigDecimalDeserializer())\n                .featuresToEnable(MapperFeature.AUTO_DETECT_CREATORS)\n                .build();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2028664,"reputation":6942,"user_id":1812993,"accept_rate":80,"display_name":"melchoir55"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17679,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":2,"score":9,"last_activity_date":1672736555,"creation_date":1477298504,"question_id":40214080,"body_markdown":"I&#39;m having a problem in which jackson is deserializing numeric values into arbitrary types which I cannot predict. For example, if someone passes the value &quot;14&quot;, jackson will instantiate it as an `Integer`. However, if someone passes the value &quot;14.01&quot; then jackson will instantiate it as a `Double`. This is a problem because I have a custom deserializer (`@JsonCreator`) which is throwing exceptions since I cannot predictable cast the field into a BigDecimal. Ideally jackson would just turn everything into a `BigDecimal`.\r\n\r\nI found a post which suggests that Jackson might be capable of doing something like this.\r\nhttps://stackoverflow.com/questions/16309840/deserialize-json-into-a-generic-map-forcing-all-json-floats-into-decimal-or-str\r\n\r\nHowever, I can&#39;t figure out how to access the mapper object hidden inside Spring Boot in order to run the appropriate method `mapper.enable()`.\r\n\r\nHere is a snippet of the deserializer:\r\n\r\n    @JsonCreator\r\n    public OptionTransaction(Map&lt;String,Object&gt; jsonObj){  \r\n        Map&lt;String,Object&gt; jsonOption = (Map&lt;String, Object&gt;) jsonObj.get(&quot;option&quot;);\r\n        \r\n        Map&lt;String,Object&gt; optionPriceObj = (Map&lt;String, Object&gt;) jsonOption.get(&quot;price&quot;);\r\n        BigDecimal optionValue = new BigDecimal((Double) optionPriceObj.get(&quot;value&quot;));\r\n\r\nAs you can see above, that `Double` cast is a problem because jackson is sometimes not feeding in doubles. Does anyone know an easy way to get jackson to either always output BigDecimals, or even just strings?\r\n\r\n**UPDATE:**\r\n\r\nAs far as getting doubles converted to BigDecimal, I accomplished this by modifying application.properties in the following way:\r\n\r\n    # ===============================\r\n    # = DESERIALIZATION CUSTOMIZATION\r\n    # ===============================\r\n    spring.jackson.deserialization.USE_BIG_DECIMAL_FOR_FLOATS=true","title":"Force spring boot jackson deserializer to use BigDecimal","body":"<p>I'm having a problem in which jackson is deserializing numeric values into arbitrary types which I cannot predict. For example, if someone passes the value \"14\", jackson will instantiate it as an <code>Integer</code>. However, if someone passes the value \"14.01\" then jackson will instantiate it as a <code>Double</code>. This is a problem because I have a custom deserializer (<code>@JsonCreator</code>) which is throwing exceptions since I cannot predictable cast the field into a BigDecimal. Ideally jackson would just turn everything into a <code>BigDecimal</code>.</p>\n\n<p>I found a post which suggests that Jackson might be capable of doing something like this.\n<a href=\"https://stackoverflow.com/questions/16309840/deserialize-json-into-a-generic-map-forcing-all-json-floats-into-decimal-or-str\">Deserialize JSON into a generic map, forcing all JSON floats into Decimal or String, in Jackson</a></p>\n\n<p>However, I can't figure out how to access the mapper object hidden inside Spring Boot in order to run the appropriate method <code>mapper.enable()</code>.</p>\n\n<p>Here is a snippet of the deserializer:</p>\n\n<pre><code>@JsonCreator\npublic OptionTransaction(Map&lt;String,Object&gt; jsonObj){  \n    Map&lt;String,Object&gt; jsonOption = (Map&lt;String, Object&gt;) jsonObj.get(\"option\");\n\n    Map&lt;String,Object&gt; optionPriceObj = (Map&lt;String, Object&gt;) jsonOption.get(\"price\");\n    BigDecimal optionValue = new BigDecimal((Double) optionPriceObj.get(\"value\"));\n</code></pre>\n\n<p>As you can see above, that <code>Double</code> cast is a problem because jackson is sometimes not feeding in doubles. Does anyone know an easy way to get jackson to either always output BigDecimals, or even just strings?</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>As far as getting doubles converted to BigDecimal, I accomplished this by modifying application.properties in the following way:</p>\n\n<pre><code># ===============================\n# = DESERIALIZATION CUSTOMIZATION\n# ===============================\nspring.jackson.deserialization.USE_BIG_DECIMAL_FOR_FLOATS=true\n</code></pre>\n"},{"tags":["java","arrays","sorting"],"answers":[{"tags":[],"owner":{"account_id":2229327,"reputation":7023,"user_id":1967345,"accept_rate":78,"display_name":"Laerte"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1425591123,"creation_date":1425591123,"answer_id":28888149,"question_id":28887966,"body_markdown":"To make it dynamically, do it based on array length and split it in two:\r\n\r\n    int [] x= {8,7,5,6,2,4,3,1};\r\n    int len = x.length;\r\n    \r\n    int a[] = Arrays.copyOfRange(mergeSort(x), 0, len/2);\r\n    int b[] = Arrays.copyOfRange(mergeSort(x), (len/2), len);\r\n    \r\n    System.out.println(&quot;A: &quot; + Arrays.toString(a));\r\n    System.out.println(&quot;B: &quot; + Arrays.toString(b));\r\n\r\nHope it helps.","title":"How To Split an Array in half in java","body":"<p>To make it dynamically, do it based on array length and split it in two:</p>\n\n<pre><code>int [] x= {8,7,5,6,2,4,3,1};\nint len = x.length;\n\nint a[] = Arrays.copyOfRange(mergeSort(x), 0, len/2);\nint b[] = Arrays.copyOfRange(mergeSort(x), (len/2), len);\n\nSystem.out.println(\"A: \" + Arrays.toString(a));\nSystem.out.println(\"B: \" + Arrays.toString(b));\n</code></pre>\n\n<p>Hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":169547,"reputation":2331,"user_id":395693,"accept_rate":85,"display_name":"HellishHeat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672736553,"creation_date":1654765303,"answer_id":72557507,"question_id":28887966,"body_markdown":"An edit to the accepted answer could take into account that half an odd numbered int is actually the nearest, smaller, whole number, to the half. So, something like this is more appropriate:\r\n\r\n    int size = array.size();\r\n\tint half = size % 2 == 0 ? size / 2 : (size / 2) + 1;","title":"How To Split an Array in half in java","body":"<p>An edit to the accepted answer could take into account that half an odd numbered int is actually the nearest, smaller, whole number, to the half. So, something like this is more appropriate:</p>\n<pre><code>int size = array.size();\nint half = size % 2 == 0 ? size / 2 : (size / 2) + 1;\n</code></pre>\n"}],"owner":{"account_id":3611072,"reputation":75,"user_id":3012019,"display_name":"user3012019"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20316,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":28888149,"answer_count":2,"score":5,"last_activity_date":1672736553,"creation_date":1425590502,"question_id":28887966,"body_markdown":"I need to split this array after it is sorted so that it prints something like\r\n\r\nA: [8, 7, 6, 5]\r\n\r\nB: [4, 3, 2, 1]\r\n\r\nI know it might be simple but I cant figure it out. Do I need to do something like x.length / 2 ?\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        \r\n\r\n\r\n     import java.util.Arrays;\r\n\r\n\r\n    public class RecursiveMerge\r\n    {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tint [] x= {8,7,5,6,2,4,3,1};\r\n\t\tSystem.out.println(Arrays.toString(x));\r\n\t\tSystem.out.println(Arrays.toString(mergeSort(x)));\r\n\r\n\r\n\r\n    }\r\n\r\n\tpublic static int [] mergeSort (int []a)\r\n\t{\r\n\t\tif(a.length ==1)\r\n\t\t\treturn a;\r\n\t\telse\r\n\t\t{\r\n\t\tint mid =  a.length/2;\r\n\t\tint [] left =mergeSort(Arrays.copyOfRange(a, 0 , mid ));\r\n\t\tint [] right =mergeSort(Arrays.copyOfRange(a, mid, a.length ));\r\n\r\n\t\tmergeSort(left);\r\n\t\tmergeSort(right);\r\n\r\n\t\treturn merge (left, right);\r\n\t\t}\r\n\t}\r\n\tpublic static int[] merge (int[] left, int[] right)\r\n\t{\r\n\tint [] result = new int [left.length + right.length];\r\n\r\n\tint leftPtr=0, rightPtr=0, resultPtr=0;\r\n\r\n\r\n\twhile(leftPtr &lt; left.length &amp;&amp; rightPtr &lt; right.length)\r\n\t\tif (left[leftPtr] &lt; right [rightPtr])\r\n\t\t\tresult[resultPtr++] = left[leftPtr++];\r\n\t\telse\r\n\t\t\tresult[resultPtr++] = right[rightPtr++];\r\n\twhile (leftPtr &lt; left.length)\r\n\t\tresult[resultPtr++] = left[leftPtr++];\r\n\twhile (rightPtr &lt;right.length)\r\n\t\tresult[resultPtr++] = right[rightPtr++];\r\n\treturn result;\r\n\r\n \t}\r\n    }","title":"How To Split an Array in half in java","body":"<p>I need to split this array after it is sorted so that it prints something like</p>\n\n<p>A: [8, 7, 6, 5]</p>\n\n<p>B: [4, 3, 2, 1]</p>\n\n<p>I know it might be simple but I cant figure it out. Do I need to do something like x.length / 2 ?</p>\n\n<pre><code> import java.util.Arrays;\n\n\npublic class RecursiveMerge\n{\n\npublic static void main(String[] args) {\n    // TODO Auto-generated method stub\n    int [] x= {8,7,5,6,2,4,3,1};\n    System.out.println(Arrays.toString(x));\n    System.out.println(Arrays.toString(mergeSort(x)));\n\n\n\n}\n\npublic static int [] mergeSort (int []a)\n{\n    if(a.length ==1)\n        return a;\n    else\n    {\n    int mid =  a.length/2;\n    int [] left =mergeSort(Arrays.copyOfRange(a, 0 , mid ));\n    int [] right =mergeSort(Arrays.copyOfRange(a, mid, a.length ));\n\n    mergeSort(left);\n    mergeSort(right);\n\n    return merge (left, right);\n    }\n}\npublic static int[] merge (int[] left, int[] right)\n{\nint [] result = new int [left.length + right.length];\n\nint leftPtr=0, rightPtr=0, resultPtr=0;\n\n\nwhile(leftPtr &lt; left.length &amp;&amp; rightPtr &lt; right.length)\n    if (left[leftPtr] &lt; right [rightPtr])\n        result[resultPtr++] = left[leftPtr++];\n    else\n        result[resultPtr++] = right[rightPtr++];\nwhile (leftPtr &lt; left.length)\n    result[resultPtr++] = left[leftPtr++];\nwhile (rightPtr &lt;right.length)\n    result[resultPtr++] = right[rightPtr++];\nreturn result;\n\n}\n}\n</code></pre>\n"},{"tags":["java","jsp","scriptlet"],"comments":[{"owner":{"account_id":886634,"reputation":452,"user_id":925928,"accept_rate":80,"display_name":"Sheldon R."},"score":22,"creation_date":1424961013,"post_id":3177733,"comment_id":45772536,"body_markdown":"@Koray Tugay, as long as the counter variable is declared somewhere prior to its use, then it&#39;s most certainly valid...","body":"@Koray Tugay, as long as the counter variable is declared somewhere prior to its use, then it&#39;s most certainly valid..."},{"owner":{"account_id":1202806,"reputation":23213,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"score":0,"creation_date":1508693804,"post_id":3177733,"comment_id":80701261,"body_markdown":"@SheldonR. This is valid: &lt;%= counter++ %&gt; or this: &lt;%! int counter = 0; int x = counter++; %&gt; but not: &lt;%! int counter = 0; counter++; %&gt;","body":"@SheldonR. This is valid: &lt;%= counter++ %&gt; or this: &lt;%! int counter = 0; int x = counter++; %&gt; but not: &lt;%! int counter = 0; counter++; %&gt;"},{"owner":{"account_id":886634,"reputation":452,"user_id":925928,"accept_rate":80,"display_name":"Sheldon R."},"score":0,"creation_date":1522338236,"post_id":3177733,"comment_id":86128183,"body_markdown":"@KorayTugay, what I meant was if the variable counter was declared in an earlier script block, it should be valid in a later block. But ultimately, J2EE programmers these days should be using EL variables instead of scriptlets, anyway...","body":"@KorayTugay, what I meant was if the variable counter was declared in an earlier script block, it should be valid in a later block. But ultimately, J2EE programmers these days should be using EL variables instead of scriptlets, anyway..."}],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":1,"up_vote_count":112,"is_accepted":false,"score":111,"last_activity_date":1469189836,"creation_date":1278314927,"answer_id":3177761,"question_id":3177733,"body_markdown":"[JSTL][1] offers tags for conditionals, loops, sets, gets, etc. For example:\r\n\r\n    &lt;c:if test=&quot;${someAttribute == &#39;something&#39;}&quot;&gt;\r\n       ...\r\n    &lt;/c:if&gt;\r\n\r\nJSTL works with request attributes - they are most often set in the request by a Servlet, which _forwards_ to the JSP.\r\n\r\n  [1]: https://jstl.java.net/","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p><a href=\"https://jstl.java.net/\" rel=\"noreferrer\">JSTL</a> offers tags for conditionals, loops, sets, gets, etc. For example:</p>\n\n<pre><code>&lt;c:if test=\"${someAttribute == 'something'}\"&gt;\n   ...\n&lt;/c:if&gt;\n</code></pre>\n\n<p>JSTL works with request attributes - they are most often set in the request by a Servlet, which <em>forwards</em> to the JSP.</p>\n"},{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1278318606,"creation_date":1278318606,"answer_id":3178032,"question_id":3177733,"body_markdown":"Experience has shown that JSP&#39;s have some shortcomings, one of them being hard to avoid mixing markup with actual code.\r\n\r\nIf you can, then consider using a specialized technology for what you need to do.  In Java EE 6 there is JSF 2.0, which provides a lot of nice features including gluing Java beans together with JSF pages through the `#{bean.method(argument)}` approach.","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>Experience has shown that JSP's have some shortcomings, one of them being hard to avoid mixing markup with actual code.</p>\n\n<p>If you can, then consider using a specialized technology for what you need to do.  In Java EE 6 there is JSF 2.0, which provides a lot of nice features including gluing Java beans together with JSF pages through the <code>#{bean.method(argument)}</code> approach.</p>\n"},{"tags":[],"owner":{"account_id":118571,"reputation":47112,"user_id":309683,"accept_rate":68,"display_name":"Behrang Saeedzadeh"},"down_vote_count":0,"up_vote_count":55,"is_accepted":false,"score":55,"last_activity_date":1539013001,"creation_date":1278319554,"answer_id":3178138,"question_id":3177733,"body_markdown":"You can use JSTL tags together with EL expressions to avoid intermixing Java and HTML code:\r\n\r\n&lt;!-- language: lang-jsp --&gt;\r\n\r\n    &lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;\r\n    &lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt;\r\n    &lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/fmt&quot; prefix=&quot;fmt&quot; %&gt;\r\n    &lt;html&gt;\r\n        &lt;head&gt;\r\n        &lt;/head&gt;\r\n        &lt;body&gt;\r\n    \r\n            &lt;c:out value=&quot;${x + 1}&quot; /&gt;\r\n            &lt;c:out value=&quot;${param.name}&quot; /&gt;\r\n            // and so on\r\n    \r\n        &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>You can use JSTL tags together with EL expressions to avoid intermixing Java and HTML code:</p>\n\n<pre class=\"lang-jsp prettyprint-override\"><code>&lt;%@ page contentType=\"text/html;charset=UTF-8\" language=\"java\" %&gt;\n&lt;%@ taglib uri=\"http://java.sun.com/jsp/jstl/core\" prefix=\"c\" %&gt;\n&lt;%@ taglib uri=\"http://java.sun.com/jsp/jstl/fmt\" prefix=\"fmt\" %&gt;\n&lt;html&gt;\n    &lt;head&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n\n        &lt;c:out value=\"${x + 1}\" /&gt;\n        &lt;c:out value=\"${param.name}\" /&gt;\n        // and so on\n\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":2,"up_vote_count":2028,"is_accepted":true,"score":2026,"last_activity_date":1654516814,"creation_date":1278339575,"answer_id":3180202,"question_id":3177733,"body_markdown":"The use of *scriptlets* (those `&lt;% %&gt;` things) in [JSP][1] is indeed highly discouraged since the birth of *taglibs* (like [JSTL][2]) and [EL][3] ([Expression Language][3], those `${}` things) way back in 2001.\r\n\r\n The major disadvantages of *scriptlets* are:\r\n\r\n   1. **Reusability:** you can&#39;t reuse scriptlets.\r\n   2. **Replaceability:** you can&#39;t make scriptlets abstract.\r\n   3. **OO-ability:** you can&#39;t make use of inheritance/composition.\r\n   4. **Debuggability:** if scriptlet throws an exception halfway, all you get is a blank page.\r\n   5. **Testability:** scriptlets are not unit-testable.\r\n   6. **Maintainability:** per saldo more time is needed to maintain mingled/cluttered/duplicated code logic.\r\n\r\n&lt;strike&gt;Sun&lt;/strike&gt; Oracle itself also recommends in the [JSP coding conventions][4] to avoid use of *scriptlets* whenever the same functionality is possible by (tag) classes. Here are several cites of relevance:\r\n\r\n&gt; From JSP 1.2 Specification, it is highly recommended that the JSP Standard Tag Library  (JSTL) be used in your web application to help **reduce the need for JSP scriptlets** in your pages. Pages that use JSTL are, in general, easier to read and maintain. \r\n&gt; \r\n&gt; ...\r\n&gt; \r\n&gt; Where possible, **avoid JSP scriptlets** whenever tag libraries provide equivalent functionality. This makes pages easier to read and maintain, helps to separate business logic from presentation logic, and will make your pages easier to evolve into JSP 2.0-style pages (JSP 2.0 Specification supports but de-emphasizes the use of scriptlets).\r\n&gt; \r\n&gt; ...\r\n&gt; \r\n&gt; In the spirit of adopting the model-view-controller (MVC) design pattern to reduce coupling between the presentation tier from the business logic, **JSP scriptlets should not be used** for writing business logic. Rather, JSP scriptlets are used if necessary to transform data (also called &quot;value objects&quot;) returned from processing the client&#39;s requests into a proper client-ready format. Even then, this would be better done with a front controller servlet or a custom tag.\r\n\r\n\r\n----------\r\n\r\n\r\n**How to replace *scriptlets* entirely depends on the sole purpose of the code/logic. More than often this code is to be placed in a fullworthy Java class:**\r\n\r\n- If you want to invoke the **same** Java code on *every* request, less-or-more regardless of the requested page, e.g. checking if a user is logged in, then implement a [filter][5] and write code accordingly in [`doFilter()`][6] method. E.g.:\r\n\r\n    &lt;!-- language: java --&gt;\r\n\r\n        public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws ServletException, IOException {\r\n            if (((HttpServletRequest) request).getSession().getAttribute(&quot;user&quot;) == null) {\r\n                ((HttpServletResponse) response).sendRedirect(&quot;login&quot;); // Not logged in, redirect to login page.\r\n            } else {\r\n                chain.doFilter(request, response); // Logged in, just continue request.\r\n            }\r\n        }\r\n\r\n   When mapped on an appropriate `&lt;url-pattern&gt;` covering the JSP pages of interest, then you don&#39;t need to copypaste the same piece of code overall JSP pages.\r\n\r\n    ---\r\n\r\n- If you want to invoke some Java code to **process a GET request**, e.g. preloading some list from a database to display in some table, if necessary based on some query parameters, then implement a [servlet][7] and write code accordingly in [`doGet()`][8] method. E.g.:\r\n\r\n    &lt;!-- language: java --&gt;\r\n\r\n        protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n            try {\r\n                List&lt;Product&gt; products = productService.list(); // Obtain all products.\r\n                request.setAttribute(&quot;products&quot;, products); // Store products in request scope.\r\n                request.getRequestDispatcher(&quot;/WEB-INF/products.jsp&quot;).forward(request, response); // Forward to JSP page to display them in a HTML table.\r\n            } catch (SQLException e) {\r\n                throw new ServletException(&quot;Retrieving products failed!&quot;, e);\r\n            }\r\n        }\r\n\r\n    This way dealing with exceptions is easier. The DB is not accessed in the midst of JSP rendering, but far before the JSP is been displayed. You still have the possibility to change the response whenever the DB access throws an exception. In the above example, the default error 500 page will be displayed which you can anyway customize by an `&lt;error-page&gt;` in `web.xml`.\r\n\r\n    ---\r\n\r\n- If you want to invoke some Java code to **process a POST request**, such as gathering data from a submitted HTML form and doing some business stuff with it (conversion, validation, saving in DB, etcetera), then implement a [servlet][7] and write code accordingly in [`doPost()`][9] method. E.g.:\r\n\r\n    &lt;!-- language: java --&gt;\r\n\r\n        protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n            String username = request.getParameter(&quot;username&quot;);\r\n            String password = request.getParameter(&quot;password&quot;);\r\n            User user = userService.find(username, password);\r\n\r\n            if (user != null) {\r\n                request.getSession().setAttribute(&quot;user&quot;, user); // Login user.\r\n                response.sendRedirect(&quot;home&quot;); // Redirect to home page.\r\n            } else {\r\n                request.setAttribute(&quot;message&quot;, &quot;Unknown username/password. Please retry.&quot;); // Store error message in request scope.\r\n                request.getRequestDispatcher(&quot;/WEB-INF/login.jsp&quot;).forward(request, response); // Forward to JSP page to redisplay login form with error.\r\n            }\r\n        }\r\n\r\n    This way dealing with different result page destinations is easier: redisplaying the form with validation errors in case of an error (in this particular example you can redisplay it using `${message}` in [EL][3]), or just taking to the desired target page in case of success.\r\n\r\n    ---\r\n\r\n- If you want to invoke some Java code to **control** the execution plan and/or the destination of the request and the response, then implement a [servlet][7] according to the [MVC&#39;s Front Controller Pattern][10]. E.g.:\r\n\r\n    &lt;!-- language: java --&gt;\r\n\r\n        protected void service(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n            try {\r\n                Action action = ActionFactory.getAction(request);\r\n                String view = action.execute(request, response);\r\n\r\n                if (view.equals(request.getPathInfo().substring(1)) {\r\n                    request.getRequestDispatcher(&quot;/WEB-INF/&quot; + view + &quot;.jsp&quot;).forward(request, response);\r\n                } else {\r\n                    response.sendRedirect(view);\r\n                }\r\n            } catch (Exception e) {\r\n                throw new ServletException(&quot;Executing action failed.&quot;, e);\r\n            }\r\n        }\r\n\r\n    Or just adopt an MVC framework like [JSF][11], [Spring MVC][12], [Wicket][13], etc so that you end up with just a JSP/Facelets page and a JavaBean class without the need for a custom servlet.\r\n\r\n    ---\r\n\r\n- If you want to invoke some Java code to **control the flow** inside a JSP page, then you need to grab an (existing) flow control taglib like [JSTL core][14]. E.g. displaying `List&lt;Product&gt;` in a table:\r\n\r\n    &lt;!-- language: xhtml --&gt;\r\n\r\n        &lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt;\r\n        ...\r\n        &lt;table&gt;\r\n            &lt;c:forEach items=&quot;${products}&quot; var=&quot;product&quot;&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;${product.name}&lt;/td&gt;\r\n                    &lt;td&gt;${product.description}&lt;/td&gt;\r\n                    &lt;td&gt;${product.price}&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n            &lt;/c:forEach&gt;\r\n        &lt;/table&gt;\r\n\r\n    With XML-style tags which fit nicely among all that HTML, the code is better readable (and thus better maintainable) than a bunch of scriptlets with various opening and closing braces (*&quot;Where the heck does this closing brace belong to?&quot;*). An easy aid is to configure your web application to throw an exception whenever *scriptlets* are still been used by adding the following piece to `web.xml`:\r\n\r\n    &lt;!-- language: xml --&gt;\r\n    \r\n        &lt;jsp-config&gt;\r\n            &lt;jsp-property-group&gt;\r\n                &lt;url-pattern&gt;*.jsp&lt;/url-pattern&gt;\r\n                &lt;scripting-invalid&gt;true&lt;/scripting-invalid&gt;\r\n            &lt;/jsp-property-group&gt;\r\n        &lt;/jsp-config&gt;\r\n\r\n    In [Facelets][15], the successor of JSP, which is part of the Java EE provided MVC framework [JSF][11], it is already **not** possible to use *scriptlets*. This way you&#39;re automatically forced to do things &quot;the right way&quot;.\r\n\r\n    ---\r\n\r\n- If you want to invoke some Java code to **access and display** &quot;backend&quot; data inside a JSP page, then you need to use EL (Expression Language), those `${}` things. E.g. redisplaying submitted input values:\r\n\r\n    &lt;!-- language: xhtml --&gt;\r\n\r\n        &lt;input type=&quot;text&quot; name=&quot;foo&quot; value=&quot;${param.foo}&quot; /&gt;\r\n\r\n    The `${param.foo}` displays the outcome of `request.getParameter(&quot;foo&quot;)`.\r\n\r\n    ---\r\n\r\n- If you want to invoke some **utility** Java code directly in the JSP page (typically `public static` methods), then you need to define them as EL functions. There&#39;s a standard [functions taglib][16] in JSTL, but [you can also easily create functions yourself][17]. Here&#39;s an example how JSTL `fn:escapeXml` is useful to prevent [XSS attacks][18].\r\n\r\n    &lt;!-- language: xhtml --&gt;\r\n\r\n        &lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/functions&quot; prefix=&quot;fn&quot; %&gt;\r\n        ...\r\n        &lt;input type=&quot;text&quot; name=&quot;foo&quot; value=&quot;${fn:escapeXml(param.foo)}&quot; /&gt;\r\n\r\n    Note that the XSS sensitivity is in no way specifically related to Java/JSP/JSTL/EL/whatever, this problem needs to be taken into account in **every** web application you develop. The problem of *scriptlets* is that it provides no way of builtin preventions, at least not using the standard Java API. JSP&#39;s successor Facelets has already implicit HTML escaping, so you don&#39;t need to worry about XSS holes in Facelets.\r\n\r\n### See also:\r\n\r\n- [What&#39;s the difference between JSP, Servlet and JSF?][19]\r\n- [How does Servlet, ServletContext, HttpSession and HttpServletRequest/Response work?][20]\r\n- [Basic MVC example with JSP, Servlet and JDBC][21]\r\n- [Design patterns in Java web applications][22]\r\n- [Hidden features of JSP/Servlet][23]\r\n\r\n\r\n  [1]: https://stackoverflow.com/tags/jsp/info\r\n  [2]: https://stackoverflow.com/tags/jstl/info\r\n  [3]: https://stackoverflow.com/tags/el/info\r\n  [4]: https://www.oracle.com/technical-resources/articles/javase/code-convention.html\r\n  [5]: https://stackoverflow.com/tags/servlet-filters/info\r\n  [6]: https://jakarta.ee/specifications/platform/9/apidocs/jakarta/servlet/filter#doFilter-jakarta.servlet.ServletRequest-jakarta.servlet.ServletResponse-jakarta.servlet.FilterChain-\r\n  [7]: https://stackoverflow.com/tags/servlets/info\r\n  [8]: https://jakarta.ee/specifications/platform/9/apidocs/jakarta/servlet/http/httpservlet#doGet-jakarta.servlet.http.HttpServletRequest-jakarta.servlet.http.HttpServletResponse-\r\n  [9]: https://jakarta.ee/specifications/platform/9/apidocs/jakarta/servlet/http/httpservlet#doPost-jakarta.servlet.http.HttpServletRequest-jakarta.servlet.http.HttpServletResponse-\r\n  [10]: https://stackoverflow.com/questions/3541077/design-patterns-web-based-applications/3542297#3542297\r\n  [11]: https://stackoverflow.com/tags/jsf/info\r\n  [12]: https://stackoverflow.com/tags/spring-mvc/info\r\n  [13]: https://stackoverflow.com/tags/wicket/info\r\n  [14]: https://jakarta.ee/specifications/tags/1.2/tagdocs/c/tld-summary.html\r\n  [15]: https://stackoverflow.com/tags/facelets/info\r\n  [16]: https://jakarta.ee/specifications/tags/1.2/tagdocs/fn/tld-summary.html\r\n  [17]: https://stackoverflow.com/questions/6395621/how-to-call-a-static-method-in-jsp-el\r\n  [18]: https://en.wikipedia.org/wiki/Cross-site_scripting\r\n  [19]: https://stackoverflow.com/questions/2095397/what-is-the-difference-between-jsf-servlet-and-jsp/2097732#2097732\r\n  [20]: https://stackoverflow.com/questions/3106452/java-servlet-instantiation-and-session-variables/3106909#3106909\r\n  [21]: https://stackoverflow.com/questions/5003142/jsp-using-mvc-and-jdbc\r\n  [22]: https://stackoverflow.com/questions/3541077/design-patterns-web-based-applications/\r\n  [23]: https://balusc.omnifaces.org/2010/01/hidden-features-of-jspservlet.html","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>The use of <em>scriptlets</em> (those <code>&lt;% %&gt;</code> things) in <a href=\"https://stackoverflow.com/tags/jsp/info\">JSP</a> is indeed highly discouraged since the birth of <em>taglibs</em> (like <a href=\"https://stackoverflow.com/tags/jstl/info\">JSTL</a>) and <a href=\"https://stackoverflow.com/tags/el/info\">EL</a> (<a href=\"https://stackoverflow.com/tags/el/info\">Expression Language</a>, those <code>${}</code> things) way back in 2001.</p>\n<p>The major disadvantages of <em>scriptlets</em> are:</p>\n<ol>\n<li><strong>Reusability:</strong> you can't reuse scriptlets.</li>\n<li><strong>Replaceability:</strong> you can't make scriptlets abstract.</li>\n<li><strong>OO-ability:</strong> you can't make use of inheritance/composition.</li>\n<li><strong>Debuggability:</strong> if scriptlet throws an exception halfway, all you get is a blank page.</li>\n<li><strong>Testability:</strong> scriptlets are not unit-testable.</li>\n<li><strong>Maintainability:</strong> per saldo more time is needed to maintain mingled/cluttered/duplicated code logic.</li>\n</ol>\n<p><strike>Sun</strike> Oracle itself also recommends in the <a href=\"https://www.oracle.com/technical-resources/articles/javase/code-convention.html\" rel=\"noreferrer\">JSP coding conventions</a> to avoid use of <em>scriptlets</em> whenever the same functionality is possible by (tag) classes. Here are several cites of relevance:</p>\n<blockquote>\n<p>From JSP 1.2 Specification, it is highly recommended that the JSP Standard Tag Library  (JSTL) be used in your web application to help <strong>reduce the need for JSP scriptlets</strong> in your pages. Pages that use JSTL are, in general, easier to read and maintain.</p>\n<p>...</p>\n<p>Where possible, <strong>avoid JSP scriptlets</strong> whenever tag libraries provide equivalent functionality. This makes pages easier to read and maintain, helps to separate business logic from presentation logic, and will make your pages easier to evolve into JSP 2.0-style pages (JSP 2.0 Specification supports but de-emphasizes the use of scriptlets).</p>\n<p>...</p>\n<p>In the spirit of adopting the model-view-controller (MVC) design pattern to reduce coupling between the presentation tier from the business logic, <strong>JSP scriptlets should not be used</strong> for writing business logic. Rather, JSP scriptlets are used if necessary to transform data (also called &quot;value objects&quot;) returned from processing the client's requests into a proper client-ready format. Even then, this would be better done with a front controller servlet or a custom tag.</p>\n</blockquote>\n<hr />\n<p><strong>How to replace <em>scriptlets</em> entirely depends on the sole purpose of the code/logic. More than often this code is to be placed in a fullworthy Java class:</strong></p>\n<ul>\n<li><p>If you want to invoke the <strong>same</strong> Java code on <em>every</em> request, less-or-more regardless of the requested page, e.g. checking if a user is logged in, then implement a <a href=\"https://stackoverflow.com/tags/servlet-filters/info\">filter</a> and write code accordingly in <a href=\"https://jakarta.ee/specifications/platform/9/apidocs/jakarta/servlet/filter#doFilter-jakarta.servlet.ServletRequest-jakarta.servlet.ServletResponse-jakarta.servlet.FilterChain-\" rel=\"noreferrer\"><code>doFilter()</code></a> method. E.g.:</p>\n  <pre class=\"lang-java prettyprint-override\"><code>  public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws ServletException, IOException {\n      if (((HttpServletRequest) request).getSession().getAttribute(&quot;user&quot;) == null) {\n          ((HttpServletResponse) response).sendRedirect(&quot;login&quot;); // Not logged in, redirect to login page.\n      } else {\n          chain.doFilter(request, response); // Logged in, just continue request.\n      }\n  }\n</code></pre>\n<p>When mapped on an appropriate <code>&lt;url-pattern&gt;</code> covering the JSP pages of interest, then you don't need to copypaste the same piece of code overall JSP pages.</p>\n<hr />\n</li>\n<li><p>If you want to invoke some Java code to <strong>process a GET request</strong>, e.g. preloading some list from a database to display in some table, if necessary based on some query parameters, then implement a <a href=\"https://stackoverflow.com/tags/servlets/info\">servlet</a> and write code accordingly in <a href=\"https://jakarta.ee/specifications/platform/9/apidocs/jakarta/servlet/http/httpservlet#doGet-jakarta.servlet.http.HttpServletRequest-jakarta.servlet.http.HttpServletResponse-\" rel=\"noreferrer\"><code>doGet()</code></a> method. E.g.:</p>\n  <pre class=\"lang-java prettyprint-override\"><code>  protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n      try {\n          List&lt;Product&gt; products = productService.list(); // Obtain all products.\n          request.setAttribute(&quot;products&quot;, products); // Store products in request scope.\n          request.getRequestDispatcher(&quot;/WEB-INF/products.jsp&quot;).forward(request, response); // Forward to JSP page to display them in a HTML table.\n      } catch (SQLException e) {\n          throw new ServletException(&quot;Retrieving products failed!&quot;, e);\n      }\n  }\n</code></pre>\n<p>This way dealing with exceptions is easier. The DB is not accessed in the midst of JSP rendering, but far before the JSP is been displayed. You still have the possibility to change the response whenever the DB access throws an exception. In the above example, the default error 500 page will be displayed which you can anyway customize by an <code>&lt;error-page&gt;</code> in <code>web.xml</code>.</p>\n<hr />\n</li>\n<li><p>If you want to invoke some Java code to <strong>process a POST request</strong>, such as gathering data from a submitted HTML form and doing some business stuff with it (conversion, validation, saving in DB, etcetera), then implement a <a href=\"https://stackoverflow.com/tags/servlets/info\">servlet</a> and write code accordingly in <a href=\"https://jakarta.ee/specifications/platform/9/apidocs/jakarta/servlet/http/httpservlet#doPost-jakarta.servlet.http.HttpServletRequest-jakarta.servlet.http.HttpServletResponse-\" rel=\"noreferrer\"><code>doPost()</code></a> method. E.g.:</p>\n  <pre class=\"lang-java prettyprint-override\"><code>  protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n      String username = request.getParameter(&quot;username&quot;);\n      String password = request.getParameter(&quot;password&quot;);\n      User user = userService.find(username, password);\n\n      if (user != null) {\n          request.getSession().setAttribute(&quot;user&quot;, user); // Login user.\n          response.sendRedirect(&quot;home&quot;); // Redirect to home page.\n      } else {\n          request.setAttribute(&quot;message&quot;, &quot;Unknown username/password. Please retry.&quot;); // Store error message in request scope.\n          request.getRequestDispatcher(&quot;/WEB-INF/login.jsp&quot;).forward(request, response); // Forward to JSP page to redisplay login form with error.\n      }\n  }\n</code></pre>\n<p>This way dealing with different result page destinations is easier: redisplaying the form with validation errors in case of an error (in this particular example you can redisplay it using <code>${message}</code> in <a href=\"https://stackoverflow.com/tags/el/info\">EL</a>), or just taking to the desired target page in case of success.</p>\n<hr />\n</li>\n<li><p>If you want to invoke some Java code to <strong>control</strong> the execution plan and/or the destination of the request and the response, then implement a <a href=\"https://stackoverflow.com/tags/servlets/info\">servlet</a> according to the <a href=\"https://stackoverflow.com/questions/3541077/design-patterns-web-based-applications/3542297#3542297\">MVC's Front Controller Pattern</a>. E.g.:</p>\n  <pre class=\"lang-java prettyprint-override\"><code>  protected void service(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n      try {\n          Action action = ActionFactory.getAction(request);\n          String view = action.execute(request, response);\n\n          if (view.equals(request.getPathInfo().substring(1)) {\n              request.getRequestDispatcher(&quot;/WEB-INF/&quot; + view + &quot;.jsp&quot;).forward(request, response);\n          } else {\n              response.sendRedirect(view);\n          }\n      } catch (Exception e) {\n          throw new ServletException(&quot;Executing action failed.&quot;, e);\n      }\n  }\n</code></pre>\n<p>Or just adopt an MVC framework like <a href=\"https://stackoverflow.com/tags/jsf/info\">JSF</a>, <a href=\"https://stackoverflow.com/tags/spring-mvc/info\">Spring MVC</a>, <a href=\"https://stackoverflow.com/tags/wicket/info\">Wicket</a>, etc so that you end up with just a JSP/Facelets page and a JavaBean class without the need for a custom servlet.</p>\n<hr />\n</li>\n<li><p>If you want to invoke some Java code to <strong>control the flow</strong> inside a JSP page, then you need to grab an (existing) flow control taglib like <a href=\"https://jakarta.ee/specifications/tags/1.2/tagdocs/c/tld-summary.html\" rel=\"noreferrer\">JSTL core</a>. E.g. displaying <code>List&lt;Product&gt;</code> in a table:</p>\n  <pre class=\"lang-html prettyprint-override\"><code>  &lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt;\n  ...\n  &lt;table&gt;\n      &lt;c:forEach items=&quot;${products}&quot; var=&quot;product&quot;&gt;\n          &lt;tr&gt;\n              &lt;td&gt;${product.name}&lt;/td&gt;\n              &lt;td&gt;${product.description}&lt;/td&gt;\n              &lt;td&gt;${product.price}&lt;/td&gt;\n          &lt;/tr&gt;\n      &lt;/c:forEach&gt;\n  &lt;/table&gt;\n</code></pre>\n<p>With XML-style tags which fit nicely among all that HTML, the code is better readable (and thus better maintainable) than a bunch of scriptlets with various opening and closing braces (<em>&quot;Where the heck does this closing brace belong to?&quot;</em>). An easy aid is to configure your web application to throw an exception whenever <em>scriptlets</em> are still been used by adding the following piece to <code>web.xml</code>:</p>\n  <pre class=\"lang-xml prettyprint-override\"><code>  &lt;jsp-config&gt;\n      &lt;jsp-property-group&gt;\n          &lt;url-pattern&gt;*.jsp&lt;/url-pattern&gt;\n          &lt;scripting-invalid&gt;true&lt;/scripting-invalid&gt;\n      &lt;/jsp-property-group&gt;\n  &lt;/jsp-config&gt;\n</code></pre>\n<p>In <a href=\"https://stackoverflow.com/tags/facelets/info\">Facelets</a>, the successor of JSP, which is part of the Java EE provided MVC framework <a href=\"https://stackoverflow.com/tags/jsf/info\">JSF</a>, it is already <strong>not</strong> possible to use <em>scriptlets</em>. This way you're automatically forced to do things &quot;the right way&quot;.</p>\n<hr />\n</li>\n<li><p>If you want to invoke some Java code to <strong>access and display</strong> &quot;backend&quot; data inside a JSP page, then you need to use EL (Expression Language), those <code>${}</code> things. E.g. redisplaying submitted input values:</p>\n  <pre class=\"lang-html prettyprint-override\"><code>  &lt;input type=&quot;text&quot; name=&quot;foo&quot; value=&quot;${param.foo}&quot; /&gt;\n</code></pre>\n<p>The <code>${param.foo}</code> displays the outcome of <code>request.getParameter(&quot;foo&quot;)</code>.</p>\n<hr />\n</li>\n<li><p>If you want to invoke some <strong>utility</strong> Java code directly in the JSP page (typically <code>public static</code> methods), then you need to define them as EL functions. There's a standard <a href=\"https://jakarta.ee/specifications/tags/1.2/tagdocs/fn/tld-summary.html\" rel=\"noreferrer\">functions taglib</a> in JSTL, but <a href=\"https://stackoverflow.com/questions/6395621/how-to-call-a-static-method-in-jsp-el\">you can also easily create functions yourself</a>. Here's an example how JSTL <code>fn:escapeXml</code> is useful to prevent <a href=\"https://en.wikipedia.org/wiki/Cross-site_scripting\" rel=\"noreferrer\">XSS attacks</a>.</p>\n  <pre class=\"lang-html prettyprint-override\"><code>  &lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/functions&quot; prefix=&quot;fn&quot; %&gt;\n  ...\n  &lt;input type=&quot;text&quot; name=&quot;foo&quot; value=&quot;${fn:escapeXml(param.foo)}&quot; /&gt;\n</code></pre>\n<p>Note that the XSS sensitivity is in no way specifically related to Java/JSP/JSTL/EL/whatever, this problem needs to be taken into account in <strong>every</strong> web application you develop. The problem of <em>scriptlets</em> is that it provides no way of builtin preventions, at least not using the standard Java API. JSP's successor Facelets has already implicit HTML escaping, so you don't need to worry about XSS holes in Facelets.</p>\n</li>\n</ul>\n<h3>See also:</h3>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/2095397/what-is-the-difference-between-jsf-servlet-and-jsp/2097732#2097732\">What's the difference between JSP, Servlet and JSF?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/3106452/java-servlet-instantiation-and-session-variables/3106909#3106909\">How does Servlet, ServletContext, HttpSession and HttpServletRequest/Response work?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/5003142/jsp-using-mvc-and-jdbc\">Basic MVC example with JSP, Servlet and JDBC</a></li>\n<li><a href=\"https://stackoverflow.com/questions/3541077/design-patterns-web-based-applications/\">Design patterns in Java web applications</a></li>\n<li><a href=\"https://balusc.omnifaces.org/2010/01/hidden-features-of-jspservlet.html\" rel=\"noreferrer\">Hidden features of JSP/Servlet</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":292848,"reputation":460,"user_id":595851,"accept_rate":0,"display_name":"Sami Jmii"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1613212091,"creation_date":1296816098,"answer_id":4897057,"question_id":3177733,"body_markdown":"In the MVC architectural pattern, JSPs represent the view layer. Embedding Java code in JSPs is considered a bad practice.\r\n\r\nYou can use [JSTL][1], [freeMarker][2], and [velocity][3] with JSP as a &quot;template engine&quot;.\r\n\r\nThe data provider to those tags **depends on frameworks** that you are dealing with. [Struts][4] 2 and [WebWork][5] as an implementation for the MVC pattern uses [OGNL][6] &quot;very interesting technique to expose Beans properties to JSP&quot;.\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/index-jsp-135995.html\r\n  [2]: http://freemarker.sourceforge.net/\r\n  [3]: http://velocity.apache.org/\r\n  [4]: https://en.wikipedia.org/wiki/Apache_Struts\r\n  [5]: https://en.wikipedia.org/wiki/WebWork\r\n  [6]: https://struts.apache.org/tag-developers/ognl\r\n\r\n\r\n","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>In the MVC architectural pattern, JSPs represent the view layer. Embedding Java code in JSPs is considered a bad practice.</p>\n<p>You can use <a href=\"http://www.oracle.com/technetwork/java/index-jsp-135995.html\" rel=\"nofollow noreferrer\">JSTL</a>, <a href=\"http://freemarker.sourceforge.net/\" rel=\"nofollow noreferrer\">freeMarker</a>, and <a href=\"http://velocity.apache.org/\" rel=\"nofollow noreferrer\">velocity</a> with JSP as a &quot;template engine&quot;.</p>\n<p>The data provider to those tags <strong>depends on frameworks</strong> that you are dealing with. <a href=\"https://en.wikipedia.org/wiki/Apache_Struts\" rel=\"nofollow noreferrer\">Struts</a> 2 and <a href=\"https://en.wikipedia.org/wiki/WebWork\" rel=\"nofollow noreferrer\">WebWork</a> as an implementation for the MVC pattern uses <a href=\"https://struts.apache.org/tag-developers/ognl\" rel=\"nofollow noreferrer\">OGNL</a> &quot;very interesting technique to expose Beans properties to JSP&quot;.</p>\n"},{"tags":[],"owner":{"account_id":309995,"reputation":4655,"user_id":622734,"accept_rate":74,"display_name":"mahesh"},"down_vote_count":2,"up_vote_count":23,"is_accepted":false,"score":21,"last_activity_date":1598389685,"creation_date":1298441690,"answer_id":5087629,"question_id":3177733,"body_markdown":"In order to avoid Java code in JSP files, Java now provides tag libraries, like JSTL.\r\n\r\nAlso, Java has come up with [JSF][1] into which you can write all programming structures in the form of tags.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/JavaServer_Faces\r\n","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>In order to avoid Java code in JSP files, Java now provides tag libraries, like JSTL.</p>\n<p>Also, Java has come up with <a href=\"https://en.wikipedia.org/wiki/JavaServer_Faces\" rel=\"nofollow noreferrer\">JSF</a> into which you can write all programming structures in the form of tags.</p>\n"},{"tags":[],"owner":{"account_id":117294,"reputation":491,"user_id":307254,"display_name":"tsand"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1598389604,"creation_date":1300818293,"answer_id":5395987,"question_id":3177733,"body_markdown":"There are also component-based frameworks, such as [Wicket][1], that generate a lot of the HTML for you.\r\n\r\nThe tags that end up in the HTML are extremely basic and there is virtually no logic that gets mixed in. The result is almost empty-like HTML pages with typical HTML elements. The downside is that there are a lot of components in the **Wicket** API to learn and some things can be difficult to achieve under those constraints.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Apache_Wicket\r\n","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>There are also component-based frameworks, such as <a href=\"https://en.wikipedia.org/wiki/Apache_Wicket\" rel=\"nofollow noreferrer\">Wicket</a>, that generate a lot of the HTML for you.</p>\n<p>The tags that end up in the HTML are extremely basic and there is virtually no logic that gets mixed in. The result is almost empty-like HTML pages with typical HTML elements. The downside is that there are a lot of components in the <strong>Wicket</strong> API to learn and some things can be difficult to achieve under those constraints.</p>\n"},{"tags":[],"owner":{"account_id":124072,"reputation":2812,"user_id":318938,"accept_rate":78,"display_name":"msj121"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1598389540,"creation_date":1305924154,"answer_id":6077376,"question_id":3177733,"body_markdown":"[Wicket][1] is also an alternative which completely separates Java from HTML, so a designer and programmer can work together and on different sets of code with little understanding of each other.\r\n\r\nLook at Wicket.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Apache_Wicket\r\n\r\n\r\n","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p><a href=\"https://en.wikipedia.org/wiki/Apache_Wicket\" rel=\"nofollow noreferrer\">Wicket</a> is also an alternative which completely separates Java from HTML, so a designer and programmer can work together and on different sets of code with little understanding of each other.</p>\n<p>Look at Wicket.</p>\n"},{"tags":[],"owner":{"account_id":197516,"reputation":16316,"user_id":1213738,"accept_rate":62,"display_name":"Chandra Sekhar"},"down_vote_count":2,"up_vote_count":20,"is_accepted":false,"score":18,"last_activity_date":1598389447,"creation_date":1307247830,"answer_id":6240988,"question_id":3177733,"body_markdown":"Use JSTL tag libraries in JSP. That will work perfectly.\r\n\r\n\r\n\r\n\r\n","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>Use JSTL tag libraries in JSP. That will work perfectly.</p>\n"},{"tags":[],"owner":{"account_id":445735,"reputation":347,"user_id":838361,"display_name":"tanglei"},"down_vote_count":2,"up_vote_count":19,"is_accepted":false,"score":17,"last_activity_date":1310367599,"creation_date":1310367599,"answer_id":6646745,"question_id":3177733,"body_markdown":"Just use the JSTL tag and EL expression.","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>Just use the JSTL tag and EL expression.</p>\n"},{"tags":[],"owner":{"account_id":758572,"reputation":613,"user_id":772286,"accept_rate":17,"display_name":"Dmitriy R"},"down_vote_count":4,"up_vote_count":27,"is_accepted":false,"score":23,"last_activity_date":1397952166,"creation_date":1310502017,"answer_id":6670578,"question_id":3177733,"body_markdown":"You raised a good question and although you got good answers, I would suggest that you get rid of JSP. It is outdated technology which eventually will die. Use a modern approach, like template engines. You will have very clear separation of business and presentation layers, and certainly no Java code in templates, so you can generate templates directly from web presentation editing software, in most cases leveraging WYSIWYG.\r\n\r\nAnd certainly stay away of filters and pre and post processing, otherwise you may deal with support/debugging difficulties since you always do not know where the variable gets the value.","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>You raised a good question and although you got good answers, I would suggest that you get rid of JSP. It is outdated technology which eventually will die. Use a modern approach, like template engines. You will have very clear separation of business and presentation layers, and certainly no Java code in templates, so you can generate templates directly from web presentation editing software, in most cases leveraging WYSIWYG.</p>\n\n<p>And certainly stay away of filters and pre and post processing, otherwise you may deal with support/debugging difficulties since you always do not know where the variable gets the value.</p>\n"},{"tags":[],"owner":{"account_id":463967,"reputation":5429,"user_id":867184,"accept_rate":60,"display_name":"Stefan Schubert-Peters"},"down_vote_count":3,"up_vote_count":235,"is_accepted":false,"score":232,"last_activity_date":1339587209,"creation_date":1313359150,"answer_id":7059994,"question_id":3177733,"body_markdown":"**As a Safeguard: Disable Scriptlets For Good**\r\n\r\nAs [another question](https://stackoverflow.com/questions/2188706/how-to-avoid-using-scriptlets-in-my-jsp-page) is discussing, you can and always should disable scriptlets in your `web.xml` web application descriptor.\r\n\r\nI would always do that in order to prevent any developer adding scriptlets, especially in bigger companies where you will lose overview sooner or later. The `web.xml` settings look like this:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;jsp-config&gt;\r\n      &lt;jsp-property-group&gt;\r\n        &lt;url-pattern&gt;*.jsp&lt;/url-pattern&gt;\r\n         &lt;scripting-invalid&gt;true&lt;/scripting-invalid&gt;\r\n      &lt;/jsp-property-group&gt;\r\n    &lt;/jsp-config&gt;\r\n","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p><strong>As a Safeguard: Disable Scriptlets For Good</strong></p>\n\n<p>As <a href=\"https://stackoverflow.com/questions/2188706/how-to-avoid-using-scriptlets-in-my-jsp-page\">another question</a> is discussing, you can and always should disable scriptlets in your <code>web.xml</code> web application descriptor.</p>\n\n<p>I would always do that in order to prevent any developer adding scriptlets, especially in bigger companies where you will lose overview sooner or later. The <code>web.xml</code> settings look like this:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;jsp-config&gt;\n  &lt;jsp-property-group&gt;\n    &lt;url-pattern&gt;*.jsp&lt;/url-pattern&gt;\n     &lt;scripting-invalid&gt;true&lt;/scripting-invalid&gt;\n  &lt;/jsp-property-group&gt;\n&lt;/jsp-config&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":472722,"reputation":1663,"user_id":881375,"accept_rate":83,"display_name":"tomasb"},"down_vote_count":1,"up_vote_count":28,"is_accepted":false,"score":27,"last_activity_date":1598389330,"creation_date":1313611378,"answer_id":7098720,"question_id":3177733,"body_markdown":"**Learn to customize and write your own tags using JSTL**\r\n\r\nNote that EL is **EviL** (runtime exceptions and refactoring).\r\n\r\nWicket may be evil too (performance and toilsome for small applications or simple view tier).\r\n\r\n### Example from *java2s*\r\n\r\nThis must be added to the web application&#39;s web.xml\r\n\r\n    &lt;taglib&gt;\r\n        &lt;taglib-uri&gt;/java2s&lt;/taglib-uri&gt;\r\n        &lt;taglib-location&gt;/WEB-INF/java2s.tld&lt;/taglib-location&gt;\r\n    &lt;/taglib&gt;\r\n\r\nCreate file *java2s.tld* in the */WEB-INF/*\r\n\r\n    &lt;!DOCTYPE taglib\r\n      PUBLIC &quot;-//Sun Microsystems, Inc.//DTD JSP Tag Library 1.2//EN&quot;\r\n       &quot;http://java.sun.com/dtd/web-jsptaglibrary_1_2.dtd&quot;&gt;\r\n\r\n    &lt;!-- A tab library descriptor --&gt;\r\n    &lt;taglib xmlns=&quot;http://java.sun.com/JSP/TagLibraryDescriptor&quot;&gt;\r\n        &lt;tlib-version&gt;1.0&lt;/tlib-version&gt;\r\n        &lt;jsp-version&gt;1.2&lt;/jsp-version&gt;\r\n        &lt;short-name&gt;Java2s Simple Tags&lt;/short-name&gt;\r\n\r\n        &lt;!-- This tag manipulates its body content by converting it to upper case\r\n        --&gt;\r\n        &lt;tag&gt;\r\n            &lt;name&gt;bodyContentTag&lt;/name&gt;\r\n            &lt;tag-class&gt;com.java2s.BodyContentTag&lt;/tag-class&gt;\r\n            &lt;body-content&gt;JSP&lt;/body-content&gt;\r\n            &lt;attribute&gt;\r\n              &lt;name&gt;howMany&lt;/name&gt;\r\n            &lt;/attribute&gt;\r\n        &lt;/tag&gt;\r\n    &lt;/taglib&gt;\r\n\r\nCompile the following code into *WEB-INF\\classes\\com\\java2s*\r\n\r\n    package com.java2s;\r\n\r\n    import java.io.IOException;\r\n    import javax.servlet.jsp.JspWriter;\r\n    import javax.servlet.jsp.tagext.BodyContent;\r\n    import javax.servlet.jsp.tagext.BodyTagSupport;\r\n\r\n    public class BodyContentTag extends BodyTagSupport{\r\n        private int iterations, howMany;\r\n\r\n        public void setHowMany(int i){\r\n            this.howMany = i;\r\n        }\r\n\r\n        public void setBodyContent(BodyContent bc){\r\n            super.setBodyContent(bc);\r\n            System.out.println(&quot;BodyContent = &#39;&quot; + bc.getString() + &quot;&#39;&quot;);\r\n        }\r\n\r\n        public int doAfterBody(){\r\n            try{\r\n                BodyContent bodyContent = super.getBodyContent();\r\n                String bodyString  = bodyContent.getString();\r\n                JspWriter out = bodyContent.getEnclosingWriter();\r\n\r\n                if ( iterations % 2 == 0 )\r\n                    out.print(bodyString.toLowerCase());\r\n                else\r\n                    out.print(bodyString.toUpperCase());\r\n\r\n                iterations++;\r\n                bodyContent.clear(); // empty buffer for next evaluation\r\n            }\r\n            catch (IOException e) {\r\n                System.out.println(&quot;Error in BodyContentTag.doAfterBody()&quot; + e.getMessage());\r\n                e.printStackTrace();\r\n            } // End of catch\r\n\r\n            int retValue = SKIP_BODY;\r\n\r\n            if ( iterations &lt; howMany )\r\n                retValue = EVAL_BODY_AGAIN;\r\n\r\n            return retValue;\r\n        }\r\n    }\r\n\r\nStart the server and load the bodyContent.jsp file in the browser:\r\n\r\n    &lt;%@ taglib uri=&quot;/java2s&quot; prefix=&quot;java2s&quot; %&gt;\r\n    &lt;html&gt;\r\n        &lt;head&gt;\r\n            &lt;title&gt;A custom tag: body content&lt;/title&gt;\r\n        &lt;/head&gt;\r\n        &lt;body&gt;\r\n            This page uses a custom tag manipulates its body content.Here is its output:\r\n            &lt;ol&gt;\r\n                &lt;java2s:bodyContentTag howMany=&quot;3&quot;&gt;\r\n                &lt;li&gt;java2s.com&lt;/li&gt;\r\n                &lt;/java2s:bodyContentTag&gt;\r\n            &lt;/ol&gt;\r\n        &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p><strong>Learn to customize and write your own tags using JSTL</strong></p>\n<p>Note that EL is <strong>EviL</strong> (runtime exceptions and refactoring).</p>\n<p>Wicket may be evil too (performance and toilsome for small applications or simple view tier).</p>\n<h3>Example from <em>java2s</em></h3>\n<p>This must be added to the web application's web.xml</p>\n<pre><code>&lt;taglib&gt;\n    &lt;taglib-uri&gt;/java2s&lt;/taglib-uri&gt;\n    &lt;taglib-location&gt;/WEB-INF/java2s.tld&lt;/taglib-location&gt;\n&lt;/taglib&gt;\n</code></pre>\n<p>Create file <em>java2s.tld</em> in the <em>/WEB-INF/</em></p>\n<pre><code>&lt;!DOCTYPE taglib\n  PUBLIC &quot;-//Sun Microsystems, Inc.//DTD JSP Tag Library 1.2//EN&quot;\n   &quot;http://java.sun.com/dtd/web-jsptaglibrary_1_2.dtd&quot;&gt;\n\n&lt;!-- A tab library descriptor --&gt;\n&lt;taglib xmlns=&quot;http://java.sun.com/JSP/TagLibraryDescriptor&quot;&gt;\n    &lt;tlib-version&gt;1.0&lt;/tlib-version&gt;\n    &lt;jsp-version&gt;1.2&lt;/jsp-version&gt;\n    &lt;short-name&gt;Java2s Simple Tags&lt;/short-name&gt;\n\n    &lt;!-- This tag manipulates its body content by converting it to upper case\n    --&gt;\n    &lt;tag&gt;\n        &lt;name&gt;bodyContentTag&lt;/name&gt;\n        &lt;tag-class&gt;com.java2s.BodyContentTag&lt;/tag-class&gt;\n        &lt;body-content&gt;JSP&lt;/body-content&gt;\n        &lt;attribute&gt;\n          &lt;name&gt;howMany&lt;/name&gt;\n        &lt;/attribute&gt;\n    &lt;/tag&gt;\n&lt;/taglib&gt;\n</code></pre>\n<p>Compile the following code into <em>WEB-INF\\classes\\com\\java2s</em></p>\n<pre><code>package com.java2s;\n\nimport java.io.IOException;\nimport javax.servlet.jsp.JspWriter;\nimport javax.servlet.jsp.tagext.BodyContent;\nimport javax.servlet.jsp.tagext.BodyTagSupport;\n\npublic class BodyContentTag extends BodyTagSupport{\n    private int iterations, howMany;\n\n    public void setHowMany(int i){\n        this.howMany = i;\n    }\n\n    public void setBodyContent(BodyContent bc){\n        super.setBodyContent(bc);\n        System.out.println(&quot;BodyContent = '&quot; + bc.getString() + &quot;'&quot;);\n    }\n\n    public int doAfterBody(){\n        try{\n            BodyContent bodyContent = super.getBodyContent();\n            String bodyString  = bodyContent.getString();\n            JspWriter out = bodyContent.getEnclosingWriter();\n\n            if ( iterations % 2 == 0 )\n                out.print(bodyString.toLowerCase());\n            else\n                out.print(bodyString.toUpperCase());\n\n            iterations++;\n            bodyContent.clear(); // empty buffer for next evaluation\n        }\n        catch (IOException e) {\n            System.out.println(&quot;Error in BodyContentTag.doAfterBody()&quot; + e.getMessage());\n            e.printStackTrace();\n        } // End of catch\n\n        int retValue = SKIP_BODY;\n\n        if ( iterations &lt; howMany )\n            retValue = EVAL_BODY_AGAIN;\n\n        return retValue;\n    }\n}\n</code></pre>\n<p>Start the server and load the bodyContent.jsp file in the browser:</p>\n<pre><code>&lt;%@ taglib uri=&quot;/java2s&quot; prefix=&quot;java2s&quot; %&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;A custom tag: body content&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        This page uses a custom tag manipulates its body content.Here is its output:\n        &lt;ol&gt;\n            &lt;java2s:bodyContentTag howMany=&quot;3&quot;&gt;\n            &lt;li&gt;java2s.com&lt;/li&gt;\n            &lt;/java2s:bodyContentTag&gt;\n        &lt;/ol&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":463980,"reputation":6162,"user_id":867206,"accept_rate":14,"display_name":"Ajay Takur"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1598389159,"creation_date":1333374724,"answer_id":9977740,"question_id":3177733,"body_markdown":"If we use the following things in a Java web application, Java code can be eliminated from the foreground of the JSP file.\r\n\r\n1. Use the MVC architecture for a web application\r\n\r\n2. Use JSP Tags\r\n\r\n a. Standard Tags\r\n\r\n b. Custom Tags\r\n\r\n3. Expression Language\r\n","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>If we use the following things in a Java web application, Java code can be eliminated from the foreground of the JSP file.</p>\n<ol>\n<li><p>Use the MVC architecture for a web application</p>\n</li>\n<li><p>Use JSP Tags</p>\n</li>\n</ol>\n<p>a. Standard Tags</p>\n<p>b. Custom Tags</p>\n<ol start=\"3\">\n<li>Expression Language</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":141848,"reputation":1340,"user_id":349161,"accept_rate":73,"display_name":"dipu"},"down_vote_count":1,"up_vote_count":29,"is_accepted":false,"score":28,"last_activity_date":1598389057,"creation_date":1336754752,"answer_id":10555449,"question_id":3177733,"body_markdown":"If you simply want to avoid the drawbacks of Java coding in JSP you can do so even with scriplets. Just follow some discipline to have minimal Java in JSP and almost no calculation and logic in the JSP page. \r\n\r\n    &lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;\r\n    &lt;% // Instantiate a JSP controller\r\n    MyController clr = new MyController(request, response);\r\n    \r\n    // Process action, if any\r\n    clr.process(request);\r\n    \r\n    // Process page forwarding, if necessary\r\n    \r\n    // Do all variable assignment here\r\n    String showMe = clr.getShowMe();%&gt;\r\n    \r\n    &lt;html&gt;\r\n        &lt;head&gt;\r\n        &lt;/head&gt;\r\n        &lt;body&gt;\r\n            &lt;form name=&quot;frm1&quot;&gt;\r\n                &lt;p&gt;&lt;%= showMe %&gt;\r\n                &lt;p&gt;&lt;% for(String str : clr.listOfStrings()) { %&gt;\r\n                &lt;p&gt;&lt;%= str %&gt;&lt;% } %&gt;\r\n    \r\n                // And so on   \r\n            &lt;/form&gt;\r\n        &lt;/body&gt;\r\n    &lt;/html&gt;\r\n","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>If you simply want to avoid the drawbacks of Java coding in JSP you can do so even with scriplets. Just follow some discipline to have minimal Java in JSP and almost no calculation and logic in the JSP page.</p>\n<pre><code>&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;\n&lt;% // Instantiate a JSP controller\nMyController clr = new MyController(request, response);\n\n// Process action, if any\nclr.process(request);\n\n// Process page forwarding, if necessary\n\n// Do all variable assignment here\nString showMe = clr.getShowMe();%&gt;\n\n&lt;html&gt;\n    &lt;head&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;form name=&quot;frm1&quot;&gt;\n            &lt;p&gt;&lt;%= showMe %&gt;\n            &lt;p&gt;&lt;% for(String str : clr.listOfStrings()) { %&gt;\n            &lt;p&gt;&lt;%= str %&gt;&lt;% } %&gt;\n\n            // And so on   \n        &lt;/form&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1046838,"reputation":2491,"user_id":1051649,"accept_rate":64,"display_name":"Tobias"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1598388959,"creation_date":1337586693,"answer_id":10681343,"question_id":3177733,"body_markdown":"A neat idea from the Python world is *Template attribute languages*; TAL was introduced by Zope (therefore a.k.a. &quot;Zope Page Templates&quot;, ZPT) and is a standard, with implementations in PHP, XSLT and Java as well (I have used the Python/Zope and PHP incarnations). In this class of templating languages, one of the above examples could look like this:\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;table&gt;\r\n        &lt;tr tal:repeat=&quot;product products&quot;&gt;\r\n            &lt;td tal:content=&quot;product/name&quot;&gt;Example product&lt;/td&gt;\r\n            &lt;td tal:content=&quot;product/description&quot;&gt;A nice description&lt;/td&gt;\r\n            &lt;td tal:content=&quot;product/price&quot;&gt;1.23&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n    &lt;/table&gt;\r\n\r\nThe code looks like ordinary HTML (or XHTML) plus some special attributes in an XML namespace; it can be viewed with a browser and safely be tweaked by a designer.\r\n\r\nThere is support for macros and for [internationalisation and localisation][1] as well:\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;h1 i18n:translate=&quot;&quot;&gt;Our special offers&lt;/h1&gt;\r\n    &lt;table&gt;\r\n        &lt;tr tal:repeat=&quot;product products&quot;&gt;\r\n            &lt;td tal:content=&quot;product/name&quot;\r\n                i18n:translate=&quot;&quot;&gt;Example product&lt;/td&gt;\r\n            &lt;td tal:content=&quot;product/description&quot;\r\n                i18n:translate=&quot;&quot;&gt;A nice description&lt;/td&gt;\r\n            &lt;td tal:content=&quot;product/price&quot;&gt;1.23&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n    &lt;/table&gt;\r\n\r\nIf translations of the content are available, they are used.\r\n\r\nI don&#39;t know very much about the [Java implementation][2], though.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Internationalization_and_localization\r\n  [2]: http://sourceforge.net/projects/javazpt/\r\n\r\n\r\n","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>A neat idea from the Python world is <em>Template attribute languages</em>; TAL was introduced by Zope (therefore a.k.a. &quot;Zope Page Templates&quot;, ZPT) and is a standard, with implementations in PHP, XSLT and Java as well (I have used the Python/Zope and PHP incarnations). In this class of templating languages, one of the above examples could look like this:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;table&gt;\n    &lt;tr tal:repeat=&quot;product products&quot;&gt;\n        &lt;td tal:content=&quot;product/name&quot;&gt;Example product&lt;/td&gt;\n        &lt;td tal:content=&quot;product/description&quot;&gt;A nice description&lt;/td&gt;\n        &lt;td tal:content=&quot;product/price&quot;&gt;1.23&lt;/td&gt;\n    &lt;/tr&gt;\n&lt;/table&gt;\n</code></pre>\n<p>The code looks like ordinary HTML (or XHTML) plus some special attributes in an XML namespace; it can be viewed with a browser and safely be tweaked by a designer.</p>\n<p>There is support for macros and for <a href=\"https://en.wikipedia.org/wiki/Internationalization_and_localization\" rel=\"nofollow noreferrer\">internationalisation and localisation</a> as well:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;h1 i18n:translate=&quot;&quot;&gt;Our special offers&lt;/h1&gt;\n&lt;table&gt;\n    &lt;tr tal:repeat=&quot;product products&quot;&gt;\n        &lt;td tal:content=&quot;product/name&quot;\n            i18n:translate=&quot;&quot;&gt;Example product&lt;/td&gt;\n        &lt;td tal:content=&quot;product/description&quot;\n            i18n:translate=&quot;&quot;&gt;A nice description&lt;/td&gt;\n        &lt;td tal:content=&quot;product/price&quot;&gt;1.23&lt;/td&gt;\n    &lt;/tr&gt;\n&lt;/table&gt;\n</code></pre>\n<p>If translations of the content are available, they are used.</p>\n<p>I don't know very much about the <a href=\"http://sourceforge.net/projects/javazpt/\" rel=\"nofollow noreferrer\">Java implementation</a>, though.</p>\n"},{"tags":[],"owner":{"account_id":2251716,"reputation":803,"user_id":1983814,"accept_rate":73,"display_name":"CsBalazsHungary"},"down_vote_count":3,"up_vote_count":20,"is_accepted":false,"score":17,"last_activity_date":1598388848,"creation_date":1358784272,"answer_id":14442545,"question_id":3177733,"body_markdown":"**If somebody is really against programming in more languages than one**, I suggest GWT. Theoretically, you can avoid all the JavaScript and HTML elements, because Google Toolkit transforms all the client and shared code to JavaScript. You won&#39;t have problem with them, so you have a webservice without coding in any other languages. You can even use some default CSS from somewhere as it is given by extensions (smartGWT or [Vaadin][1]). You don&#39;t need to learn dozens of annotations. \r\n\r\nOf course, if you want, you can hack yourself into the depths of the code and inject JavaScript and enrich your HTML page, but really you can avoid it if you want, and the result will be good as it was written in any other frameworks. I it&#39;s say worth a try, and the basic GWT is well-documented.\r\n\r\nAnd of course many fellow programmers hereby described or recommended several other solutions. GWT is for people who really don&#39;t want to deal with the web part or to minimize it. \r\n\r\n  [1]: https://en.wikipedia.org/wiki/Vaadin\r\n","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p><strong>If somebody is really against programming in more languages than one</strong>, I suggest GWT. Theoretically, you can avoid all the JavaScript and HTML elements, because Google Toolkit transforms all the client and shared code to JavaScript. You won't have problem with them, so you have a webservice without coding in any other languages. You can even use some default CSS from somewhere as it is given by extensions (smartGWT or <a href=\"https://en.wikipedia.org/wiki/Vaadin\" rel=\"nofollow noreferrer\">Vaadin</a>). You don't need to learn dozens of annotations.</p>\n<p>Of course, if you want, you can hack yourself into the depths of the code and inject JavaScript and enrich your HTML page, but really you can avoid it if you want, and the result will be good as it was written in any other frameworks. I it's say worth a try, and the basic GWT is well-documented.</p>\n<p>And of course many fellow programmers hereby described or recommended several other solutions. GWT is for people who really don't want to deal with the web part or to minimize it.</p>\n"},{"tags":[],"owner":{"account_id":114177,"reputation":9845,"user_id":300359,"accept_rate":64,"display_name":"Thai Tran"},"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1359223676,"creation_date":1359223676,"answer_id":14539925,"question_id":3177733,"body_markdown":"No matter how much you try to avoid, when you work with other developers, some of them will still prefer scriptlet and then insert the evil code into the project. Therefore, setting up the project at the first sign is very important if you really want to reduce the scriptlet code. There are several techniques to get over this (including several frameworks that other mentioned). However, if you prefer the pure JSP way, then use the JSTL tag file. The nice thing about this is you can also set up master pages for your project, so the other pages can inherit the master pages\r\n\r\n**Create a master page called base.tag under your WEB-INF/tags with the following content**\r\n\r\n&gt;     &lt;%@tag description=&quot;Overall Page template&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\r\n&gt;     \r\n&gt;     &lt;%@attribute name=&quot;title&quot; fragment=&quot;true&quot; %&gt;\r\n&gt;     \r\n&gt;     &lt;html&gt;\r\n&gt;       &lt;head&gt;\r\n&gt;         &lt;title&gt;  \r\n&gt;            &lt;jsp:invoke fragment=&quot;title&quot;&gt;&lt;/jsp:invoke&gt;\r\n&gt;         &lt;/title&gt;\r\n&gt;         \r\n&gt;       &lt;/head&gt;\r\n&gt;       &lt;body&gt;\r\n&gt;         &lt;div id=&quot;page-header&quot;&gt;\r\n&gt;            ....\r\n&gt;         &lt;/div&gt;\r\n&gt;         &lt;div id=&quot;page-body&quot;&gt;\r\n&gt;           &lt;jsp:doBody/&gt;\r\n&gt;         &lt;/div&gt;\r\n&gt;         &lt;div id=&quot;page-footer&quot;&gt;\r\n&gt;           .....\r\n&gt;         &lt;/div&gt;\r\n&gt;       &lt;/body&gt;\r\n&gt;     &lt;/html&gt;\r\n\r\nOn this mater page, I created a fragment called &quot;title&quot;, so that in the child page, I could insert more codes into this place of the master page. Also, the tag `&lt;jsp:doBody/&gt;` will be replaced by the content of the child page \r\n\r\n**Create child page (child.jsp) in your WebContent folder:**\r\n\r\n&gt; &lt;%@ taglib prefix=&quot;bean&quot; uri=&quot;http://struts.apache.org/tags-bean&quot;%&gt;\r\n&gt; \r\n&gt;     &lt;%@ taglib prefix=&quot;t&quot; tagdir=&quot;/WEB-INF/tags&quot; %&gt;\r\n&gt; \r\n&gt;     &lt;t:base&gt;\r\n&gt;         &lt;jsp:attribute name=&quot;title&quot;&gt; \r\n&gt;             &lt;bean:message key=&quot;hello.world&quot; /&gt;\r\n&gt;         &lt;/jsp:attribute&gt;\r\n&gt;         \r\n&gt;         &lt;jsp:body&gt;\r\n&gt;         [Put your content of the child here]\r\n&gt;         &lt;/jsp:body&gt;   \r\n&gt;     &lt;/t:base&gt;\r\n\r\n\r\n`&lt;t:base&gt;` is used to specify the master page you want to use (which is base.tag at this moment). All the content inside the tag `&lt;jsp:body&gt;` here will replace the `&lt;jsp:doBody/&gt;` on your master page. Your child page can also include any tag lib and you can use it normally like the other mentioned. However, if you use any scriptlet code here (`&lt;%= request.getParameter(&quot;name&quot;) %&gt;` ...) and try to run this page, you will get a `JasperException because  Scripting elements ( &amp;lt;%!, &amp;lt;jsp:declaration, &amp;lt;%=, &amp;lt;jsp:expression, &amp;lt;%, &amp;lt;jsp:scriptlet ) are disallowed here`. Therefore, there is no way other people can include the evil code into the jsp file\r\n\r\n**Calling this page from your controller:**\r\n\r\nYou can easily call the child.jsp file from your controller. This also works nice with the struts framework","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>No matter how much you try to avoid, when you work with other developers, some of them will still prefer scriptlet and then insert the evil code into the project. Therefore, setting up the project at the first sign is very important if you really want to reduce the scriptlet code. There are several techniques to get over this (including several frameworks that other mentioned). However, if you prefer the pure JSP way, then use the JSTL tag file. The nice thing about this is you can also set up master pages for your project, so the other pages can inherit the master pages</p>\n\n<p><strong>Create a master page called base.tag under your WEB-INF/tags with the following content</strong></p>\n\n<blockquote>\n<pre><code>&lt;%@tag description=\"Overall Page template\" pageEncoding=\"UTF-8\"%&gt;\n\n&lt;%@attribute name=\"title\" fragment=\"true\" %&gt;\n\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;title&gt;  \n       &lt;jsp:invoke fragment=\"title\"&gt;&lt;/jsp:invoke&gt;\n    &lt;/title&gt;\n\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;div id=\"page-header\"&gt;\n       ....\n    &lt;/div&gt;\n    &lt;div id=\"page-body\"&gt;\n      &lt;jsp:doBody/&gt;\n    &lt;/div&gt;\n    &lt;div id=\"page-footer\"&gt;\n      .....\n    &lt;/div&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n</blockquote>\n\n<p>On this mater page, I created a fragment called \"title\", so that in the child page, I could insert more codes into this place of the master page. Also, the tag <code>&lt;jsp:doBody/&gt;</code> will be replaced by the content of the child page </p>\n\n<p><strong>Create child page (child.jsp) in your WebContent folder:</strong></p>\n\n<blockquote>\n  \n\n<pre><code>&lt;%@ taglib prefix=\"t\" tagdir=\"/WEB-INF/tags\" %&gt;\n\n&lt;t:base&gt;\n    &lt;jsp:attribute name=\"title\"&gt; \n        &lt;bean:message key=\"hello.world\" /&gt;\n    &lt;/jsp:attribute&gt;\n\n    &lt;jsp:body&gt;\n    [Put your content of the child here]\n    &lt;/jsp:body&gt;   \n&lt;/t:base&gt;\n</code></pre>\n</blockquote>\n\n<p><code>&lt;t:base&gt;</code> is used to specify the master page you want to use (which is base.tag at this moment). All the content inside the tag <code>&lt;jsp:body&gt;</code> here will replace the <code>&lt;jsp:doBody/&gt;</code> on your master page. Your child page can also include any tag lib and you can use it normally like the other mentioned. However, if you use any scriptlet code here (<code>&lt;%= request.getParameter(\"name\") %&gt;</code> ...) and try to run this page, you will get a <code>JasperException because  Scripting elements ( &amp;lt;%!, &amp;lt;jsp:declaration, &amp;lt;%=, &amp;lt;jsp:expression, &amp;lt;%, &amp;lt;jsp:scriptlet ) are disallowed here</code>. Therefore, there is no way other people can include the evil code into the jsp file</p>\n\n<p><strong>Calling this page from your controller:</strong></p>\n\n<p>You can easily call the child.jsp file from your controller. This also works nice with the struts framework</p>\n"},{"tags":[],"owner":{"account_id":2304091,"reputation":8985,"user_id":2023728,"accept_rate":83,"display_name":"mel3kings"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1598387969,"creation_date":1371202291,"answer_id":17105374,"question_id":3177733,"body_markdown":"**Technically, JSP are all converted to Servlets during runtime**.\r\n\r\nJSP was initially created for the purpose of the decoupling the business logic and the design logic, following the MVC pattern. So JSP is technically all Java code during runtime.\r\n\r\nBut to answer the question, *tag libraries* are usually used for applying logic (removing Java code) to JSP pages.\r\n\r\n\r\n","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p><strong>Technically, JSP are all converted to Servlets during runtime</strong>.</p>\n<p>JSP was initially created for the purpose of the decoupling the business logic and the design logic, following the MVC pattern. So JSP is technically all Java code during runtime.</p>\n<p>But to answer the question, <em>tag libraries</em> are usually used for applying logic (removing Java code) to JSP pages.</p>\n"},{"tags":[],"owner":{"account_id":301494,"reputation":2081,"user_id":2041542,"accept_rate":60,"display_name":"kapil das"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1385136122,"creation_date":1374472760,"answer_id":17780850,"question_id":3177733,"body_markdown":"Using scriptlets in JSPs is not a good practice.\r\n\r\nInstead, you can use:\r\n\r\n1. JSTL tags   \r\n2. EL expressions\r\n3. Custom Tags- you can define your own tags to use.\r\n\r\nPlease refer to: \r\n\r\n1. http://docs.oracle.com/javaee/1.4/tutorial/doc/JSTL3.html\r\n2. [EL][1] \r\n\r\n\r\n  [1]: http://docs.oracle.com/javaee/1.4/tutorial/doc/JSPIntro7.html","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>Using scriptlets in JSPs is not a good practice.</p>\n\n<p>Instead, you can use:</p>\n\n<ol>\n<li>JSTL tags   </li>\n<li>EL expressions</li>\n<li>Custom Tags- you can define your own tags to use.</li>\n</ol>\n\n<p>Please refer to: </p>\n\n<ol>\n<li><a href=\"http://docs.oracle.com/javaee/1.4/tutorial/doc/JSTL3.html\">http://docs.oracle.com/javaee/1.4/tutorial/doc/JSTL3.html</a></li>\n<li><a href=\"http://docs.oracle.com/javaee/1.4/tutorial/doc/JSPIntro7.html\">EL</a> </li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2189278,"reputation":157,"user_id":1936845,"display_name":"Razvan"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1511353363,"creation_date":1394903838,"answer_id":22427102,"question_id":3177733,"body_markdown":"Sure, replace `&lt;%! counter++; %&gt;` by an event producer-consumer architecture, where the business layer is notified about the need to increment the counter, it reacts accordingly, and notifies the presenters so that they update the views. A number of database transactions are involved, since in future we will need to know the new and old value of the counter, who has incremented it and with what purpose in mind. Obviously serialization is involved, since the layers are entirely decoupled. You will be able to increment your counter over RMI, IIOP, SOAP. But only HTML is required, which you don&#39;t implement, since it is such a mundane case. Your new goal is to reach 250 increments a second on your new shiny E7, 64GB RAM server.\r\n\r\nI have more than 20 years in programming, most of the projects fail before the sextet: Reusability Replaceability OO-ability Debuggability Testability Maintainability is even needed. Other projects, run by people who only cared about functionality, were extremely successful.  Also, stiff object structure, implemented too early in the project, makes the code unable to be adapted to the drastic changes in the specifications (aka agile).\r\n\r\nSo I consider as procrastination the activity of defining &quot;layers&quot; or redundant data structures either early in the project or when not specifically required. &amp;nbsp;","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>Sure, replace <code>&lt;%! counter++; %&gt;</code> by an event producer-consumer architecture, where the business layer is notified about the need to increment the counter, it reacts accordingly, and notifies the presenters so that they update the views. A number of database transactions are involved, since in future we will need to know the new and old value of the counter, who has incremented it and with what purpose in mind. Obviously serialization is involved, since the layers are entirely decoupled. You will be able to increment your counter over RMI, IIOP, SOAP. But only HTML is required, which you don't implement, since it is such a mundane case. Your new goal is to reach 250 increments a second on your new shiny E7, 64GB RAM server.</p>\n\n<p>I have more than 20 years in programming, most of the projects fail before the sextet: Reusability Replaceability OO-ability Debuggability Testability Maintainability is even needed. Other projects, run by people who only cared about functionality, were extremely successful.  Also, stiff object structure, implemented too early in the project, makes the code unable to be adapted to the drastic changes in the specifications (aka agile).</p>\n\n<p>So I consider as procrastination the activity of defining \"layers\" or redundant data structures either early in the project or when not specifically required. &nbsp;</p>\n"},{"tags":[],"owner":{"account_id":1385391,"reputation":3217,"user_id":1317559,"accept_rate":77,"display_name":"Yster"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1598386941,"creation_date":1450957647,"answer_id":34452329,"question_id":3177733,"body_markdown":"***How can I avoid Java code in JSP files?***\r\n\r\nYou can use tab library tags like **JSTL** in addition to Expression Language (**EL**). But EL does not work well with JSP. So it&#39;s is probably better to drop JSP completely and use **Facelets**.\r\n\r\n**Facelets** is the first non JSP page declaration language designed for **JSF (Java Server Faces)** which provided a simpler and more powerful programming model to JSF developers as compare to JSP. It resolves different issues occurs in JSP for web applications development.\r\n\r\n[![Enter image description here][1]][1]\r\n\r\n[Source][2]\r\n\r\n  [1]: http://i.stack.imgur.com/osqxG.png\r\n  [2]: http://javawebaction.blogspot.fr/2012/05/difference-between-jsp-and-facelets.html\r\n\r\n\r\n\r\n","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p><em><strong>How can I avoid Java code in JSP files?</strong></em></p>\n<p>You can use tab library tags like <strong>JSTL</strong> in addition to Expression Language (<strong>EL</strong>). But EL does not work well with JSP. So it's is probably better to drop JSP completely and use <strong>Facelets</strong>.</p>\n<p><strong>Facelets</strong> is the first non JSP page declaration language designed for <strong>JSF (Java Server Faces)</strong> which provided a simpler and more powerful programming model to JSF developers as compare to JSP. It resolves different issues occurs in JSP for web applications development.</p>\n<p><a href=\"https://i.stack.imgur.com/osqxG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/osqxG.png\" alt=\"Enter image description here\" /></a></p>\n<p><a href=\"http://javawebaction.blogspot.fr/2012/05/difference-between-jsp-and-facelets.html\" rel=\"nofollow noreferrer\">Source</a></p>\n"},{"tags":[],"owner":{"account_id":3130088,"reputation":43207,"user_id":2648077,"accept_rate":80,"display_name":"Alireza Fattahi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1598386830,"creation_date":1460472951,"answer_id":36576959,"question_id":3177733,"body_markdown":"JSP 2.0 has a feature called **&quot;Tag Files&quot;**, and you can write tags without external Java code and `tld`. You need to create a `.tag` file and put it in `WEB-INF\\tags`. You can even create a directory structure to package your tags.\r\n\r\nFor example:\r\n\r\n    /WEB-INF/tags/html/label.tag\r\n\r\n    &lt;%@tag description=&quot;Rensders a label with required css class&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\r\n    &lt;%@attribute name=&quot;name&quot; required=&quot;true&quot; description=&quot;The label&quot;%&gt;\r\n\r\n    &lt;label class=&quot;control-label control-default&quot;  id=&quot;${name}Label&quot;&gt;${name}&lt;/label&gt;\r\n\r\nUse it like\r\n\r\n    &lt;%@ taglib prefix=&quot;h&quot; tagdir=&quot;/WEB-INF/tags/html&quot;%&gt;\r\n    &lt;h:label  name=&quot;customer name&quot; /&gt;\r\n\r\nAlso, you can read the tag body easily:\r\n\r\n    /WEB-INF/tags/html/bold.tag\r\n    &lt;%@tag description=&quot;Bold tag&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\r\n    &lt;b&gt;\r\n      &lt;jsp:doBody/&gt;\r\n    &lt;/b&gt;\r\n\r\nUse it:\r\n\r\n    &lt;%@ taglib prefix=&quot;h&quot; tagdir=&quot;/WEB-INF/tags/bold&quot;%&gt;\r\n    &lt;h:bold&gt;Make me bold&lt;/h:bold&gt;\r\n\r\nThe samples are very simple, but you can do lots of complicated tasks here. Please consider you can use other tags (for example: `JSTL` which has controlling tags like `if/forEcah/chosen` text manipulation like `format/contains/uppercase` or even SQL tags `select/update`), pass all kind parameters, for example `Hashmap`, access `session`, `request`, ... in your tag file too.\r\n\r\n**Tag File** are so easy developed as you did not need to restart the server when changing them, like JSP files. This makes them easy for development.\r\n\r\nEven if you use a framework like Struts 2, which have lots of good tags, you may find that having your own tags can reduce your code a lot. You can pass your tag parameters to struts and this way customize your framework tag.\r\n\r\nYou can use tags not only to avoid Java, but also minimize your HTML codes. I myself try to review HTML code and build tags a lot as soon as I see code duplicates start in my pages.\r\n\r\n(Even if you end up using Java in your JSP code, which I hope not, you can encapsulate that code in a tag.)\r\n\r\n\r\n","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>JSP 2.0 has a feature called <strong>&quot;Tag Files&quot;</strong>, and you can write tags without external Java code and <code>tld</code>. You need to create a <code>.tag</code> file and put it in <code>WEB-INF\\tags</code>. You can even create a directory structure to package your tags.</p>\n<p>For example:</p>\n<pre><code>/WEB-INF/tags/html/label.tag\n\n&lt;%@tag description=&quot;Rensders a label with required css class&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\n&lt;%@attribute name=&quot;name&quot; required=&quot;true&quot; description=&quot;The label&quot;%&gt;\n\n&lt;label class=&quot;control-label control-default&quot;  id=&quot;${name}Label&quot;&gt;${name}&lt;/label&gt;\n</code></pre>\n<p>Use it like</p>\n<pre><code>&lt;%@ taglib prefix=&quot;h&quot; tagdir=&quot;/WEB-INF/tags/html&quot;%&gt;\n&lt;h:label  name=&quot;customer name&quot; /&gt;\n</code></pre>\n<p>Also, you can read the tag body easily:</p>\n<pre><code>/WEB-INF/tags/html/bold.tag\n&lt;%@tag description=&quot;Bold tag&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\n&lt;b&gt;\n  &lt;jsp:doBody/&gt;\n&lt;/b&gt;\n</code></pre>\n<p>Use it:</p>\n<pre><code>&lt;%@ taglib prefix=&quot;h&quot; tagdir=&quot;/WEB-INF/tags/bold&quot;%&gt;\n&lt;h:bold&gt;Make me bold&lt;/h:bold&gt;\n</code></pre>\n<p>The samples are very simple, but you can do lots of complicated tasks here. Please consider you can use other tags (for example: <code>JSTL</code> which has controlling tags like <code>if/forEcah/chosen</code> text manipulation like <code>format/contains/uppercase</code> or even SQL tags <code>select/update</code>), pass all kind parameters, for example <code>Hashmap</code>, access <code>session</code>, <code>request</code>, ... in your tag file too.</p>\n<p><strong>Tag File</strong> are so easy developed as you did not need to restart the server when changing them, like JSP files. This makes them easy for development.</p>\n<p>Even if you use a framework like Struts 2, which have lots of good tags, you may find that having your own tags can reduce your code a lot. You can pass your tag parameters to struts and this way customize your framework tag.</p>\n<p>You can use tags not only to avoid Java, but also minimize your HTML codes. I myself try to review HTML code and build tags a lot as soon as I see code duplicates start in my pages.</p>\n<p>(Even if you end up using Java in your JSP code, which I hope not, you can encapsulate that code in a tag.)</p>\n"},{"tags":[],"owner":{"account_id":6284293,"reputation":328,"user_id":5379010,"accept_rate":100,"display_name":"bhanwar rathore"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1598386656,"creation_date":1468561713,"answer_id":38388675,"question_id":3177733,"body_markdown":"By using JSTL tags together with EL expressions, you can avoid this. Put the following things in your JSP page:\r\n\r\n    &lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;\r\n    &lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt;\r\n    &lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/fmt&quot; prefix=&quot;fmt&quot; %&gt;\r\n\r\n","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>By using JSTL tags together with EL expressions, you can avoid this. Put the following things in your JSP page:</p>\n<pre><code>&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;\n&lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt;\n&lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/fmt&quot; prefix=&quot;fmt&quot; %&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4783850,"reputation":6978,"user_id":3864917,"accept_rate":100,"display_name":"Vikas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1598386621,"creation_date":1499459089,"answer_id":44979085,"question_id":3177733,"body_markdown":"As many answers says, use JSTL or create your own custom tags. [Here][1] is a good explanation about creating custom tags.\r\n\r\n  [1]: http://www.journaldev.com/2099/jsp-custom-tags-example-tutorial\r\n","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>As many answers says, use JSTL or create your own custom tags. <a href=\"http://www.journaldev.com/2099/jsp-custom-tags-example-tutorial\" rel=\"nofollow noreferrer\">Here</a> is a good explanation about creating custom tags.</p>\n"},{"tags":[],"owner":{"account_id":1703795,"reputation":1264,"user_id":1563286,"accept_rate":44,"display_name":"adn.911"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1598386594,"creation_date":1512057573,"answer_id":47577565,"question_id":3177733,"body_markdown":"Using Scriptlets is a very old way and *not* recommended. If you want directly output something in your JSP pages, just use **Expression Language (EL)**  along with **JSTL**.\r\n\r\nThere are also other options, such as using a templating engine such as Velocity, Freemarker, Thymeleaf, etc. But using plain JSP with EL and JSTL serves my purpose most of the time and it also seems the simplest for a beginner.\r\n\r\nAlso, take note that it is not a best practice to do business logic in the view layer. You should perform your business logic in the *service* layer,\r\nand pass the output result to your views through a *controller*.\r\n\r\n\r\n","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>Using Scriptlets is a very old way and <em>not</em> recommended. If you want directly output something in your JSP pages, just use <strong>Expression Language (EL)</strong>  along with <strong>JSTL</strong>.</p>\n<p>There are also other options, such as using a templating engine such as Velocity, Freemarker, Thymeleaf, etc. But using plain JSP with EL and JSTL serves my purpose most of the time and it also seems the simplest for a beginner.</p>\n<p>Also, take note that it is not a best practice to do business logic in the view layer. You should perform your business logic in the <em>service</em> layer,\nand pass the output result to your views through a <em>controller</em>.</p>\n"},{"tags":[],"owner":{"account_id":3652290,"reputation":2120,"user_id":3044117,"accept_rate":38,"display_name":"Eduardo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1598386473,"creation_date":1513107933,"answer_id":47780407,"question_id":3177733,"body_markdown":"Nothing of that is used anymore, my friend. My advice is to decouple the view (CSS, HTML, JavaScript, etc.) from the server.\r\n\r\nIn my case, I do my systems handling the view with Angular and any data needed is brought from the server using REST services.\r\n\r\nBelieve me, this will change the way you design.\r\n\r\n\r\n","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>Nothing of that is used anymore, my friend. My advice is to decouple the view (CSS, HTML, JavaScript, etc.) from the server.</p>\n<p>In my case, I do my systems handling the view with Angular and any data needed is brought from the server using REST services.</p>\n<p>Believe me, this will change the way you design.</p>\n"},{"tags":[],"owner":{"account_id":4777913,"reputation":2557,"user_id":3860531,"display_name":"Sumesh TG"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1598386341,"creation_date":1529502553,"answer_id":50949855,"question_id":3177733,"body_markdown":"Use a Backbone.js or AngularJS-like JavaScript framework for UI design\r\nand fetch the data using a REST API. This will remove the Java dependency from the UI completely.\r\n\r\n\r\n","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>Use a Backbone.js or AngularJS-like JavaScript framework for UI design\nand fetch the data using a REST API. This will remove the Java dependency from the UI completely.</p>\n"},{"tags":[],"owner":{"account_id":2233181,"reputation":3805,"user_id":1970299,"accept_rate":72,"display_name":"Mehdi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1543680249,"creation_date":1543680249,"answer_id":53572611,"question_id":3177733,"body_markdown":" 1. Make your values and parameters inside your servlet classes\r\n 2. Fetch those values and parameters within your JSP using JSTL/Taglib\r\n\r\n&gt; The good thing about this approach is that your code is also HTML like\r\n&gt; code!","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<ol>\n<li>Make your values and parameters inside your servlet classes</li>\n<li>Fetch those values and parameters within your JSP using JSTL/Taglib</li>\n</ol>\n\n<blockquote>\n  <p>The good thing about this approach is that your code is also HTML like\n  code!</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1366083,"reputation":96,"user_id":1302473,"display_name":"Philippe Damerval"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1598573021,"creation_date":1598573021,"answer_id":63625669,"question_id":3177733,"body_markdown":"A lot of the answers here go the &quot;use a framework&quot; route. There&#39;s zero wrong with that. However I don&#39;t think it really answers your question, because frameworks may or may not use JSPs, nor are they designed in any way with removing java use in JSPs as a primary goal. &lt;br&gt;&lt;br&gt;\r\nThe only good answer to your question &quot;how do I avoid using Java in a JSP&quot; is: you can&#39;t. &lt;br&gt; &lt;br&gt;That&#39;s what JSPs are for - using Java to render HTML with dynamic data/logic. \r\nThe follow up question might be, how much java should I use in my JSPs.&lt;br&gt; Before we answer that question, you should also ponder, &quot;do I need to use JSPs to build web content using Java?&quot; The answer to that last one is, no. There are many alternatives to JSPs for developing web facing applications using Java. Struts for example does not force you to use JSPs - don&#39;t get me wrong, you can use them and many implementations do, but you don&#39;t absolutely have to. Struts doesn&#39;t even force you to use any HTML. A JSP doesn&#39;t either, but let&#39;s be honest, a JSP producing no HTML is kinda weird. Servlets, famously, allow you to serve any kind of content you like over HTTP dynamically. They are *the* primary tech behind pretty much everything java web - JSPs are just HTML templates for servlets, really. &lt;br&gt;\r\nSo the answer to how much java you should put in a JSP is, &quot;as little as possible&quot;. I of course have java in my JSPs, but it consists exclusively of tag library definitions, session and client variables, and beans encapsulating server side objects. The &lt;%%&gt; tags in my HTML are almost exclusively property calls or variable expressions. Rare exceptions include ultra-specific calculations pertaining to a single page and unlikely to ever be reused; bugfixes stemming from page-specific issues only applying to one page; last minute concatenations and arithmetic stemming from unusual requirements limited in scope to a single page; and other similar cases. In a code set of 1.5 million lines, 3000 JSPs and 5000 classes, there are maybe 100 instances of such unique snippets. It would have been quite possible to make these changes in classes or tag library definitions, but it would have been inordinately complex due to the specificity of each case, taken longer to write and debug, and taken more time as a result to get to my users. It&#39;s a judgement call. But make no mistake, you cannot write JSPs of any meaning with &quot;no java&quot; nor would you want to. The capability is there for a reason. \r\n","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>A lot of the answers here go the &quot;use a framework&quot; route. There's zero wrong with that. However I don't think it really answers your question, because frameworks may or may not use JSPs, nor are they designed in any way with removing java use in JSPs as a primary goal. <br><br>\nThe only good answer to your question &quot;how do I avoid using Java in a JSP&quot; is: you can't. <br> <br>That's what JSPs are for - using Java to render HTML with dynamic data/logic.\nThe follow up question might be, how much java should I use in my JSPs.<br> Before we answer that question, you should also ponder, &quot;do I need to use JSPs to build web content using Java?&quot; The answer to that last one is, no. There are many alternatives to JSPs for developing web facing applications using Java. Struts for example does not force you to use JSPs - don't get me wrong, you can use them and many implementations do, but you don't absolutely have to. Struts doesn't even force you to use any HTML. A JSP doesn't either, but let's be honest, a JSP producing no HTML is kinda weird. Servlets, famously, allow you to serve any kind of content you like over HTTP dynamically. They are <em>the</em> primary tech behind pretty much everything java web - JSPs are just HTML templates for servlets, really. <br>\nSo the answer to how much java you should put in a JSP is, &quot;as little as possible&quot;. I of course have java in my JSPs, but it consists exclusively of tag library definitions, session and client variables, and beans encapsulating server side objects. The &lt;%%&gt; tags in my HTML are almost exclusively property calls or variable expressions. Rare exceptions include ultra-specific calculations pertaining to a single page and unlikely to ever be reused; bugfixes stemming from page-specific issues only applying to one page; last minute concatenations and arithmetic stemming from unusual requirements limited in scope to a single page; and other similar cases. In a code set of 1.5 million lines, 3000 JSPs and 5000 classes, there are maybe 100 instances of such unique snippets. It would have been quite possible to make these changes in classes or tag library definitions, but it would have been inordinately complex due to the specificity of each case, taken longer to write and debug, and taken more time as a result to get to my users. It's a judgement call. But make no mistake, you cannot write JSPs of any meaning with &quot;no java&quot; nor would you want to. The capability is there for a reason.</p>\n"},{"tags":[],"owner":{"account_id":2985164,"reputation":5188,"user_id":2534191,"accept_rate":25,"display_name":"Yuriy N."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672736007,"creation_date":1642879040,"answer_id":70816280,"question_id":3177733,"body_markdown":"Java itself is a very nice language, but heavy usage in the enterprise environment made its standard solutions extremely (ridiculously) difficult. Examples: JSTL, JSF, Wicket, etc.\r\n\r\nHere is a super lightweight approach to creating a backend in Java:\r\n\r\n - don&#39;t use JSP (or any other template engine) at all;\r\n - use plain HTML templates;\r\n - use JSOUP to parse HTML templates into Document object;\r\n - modify Document object using its very intuitive jQuery like methods;\r\n - return Document.toString() as response to request.\r\n\r\nI use it for one of my side projects (hosted Digitalocean $5 droplet, Nginx, Tomcat) and it is very fast: according to Googlebot average response time is about 160 ms.  \r\n \r\n[JSoup][1]\r\n\r\n   \r\n\r\n\r\n  [1]: https://jsoup.org/","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>Java itself is a very nice language, but heavy usage in the enterprise environment made its standard solutions extremely (ridiculously) difficult. Examples: JSTL, JSF, Wicket, etc.</p>\n<p>Here is a super lightweight approach to creating a backend in Java:</p>\n<ul>\n<li>don't use JSP (or any other template engine) at all;</li>\n<li>use plain HTML templates;</li>\n<li>use JSOUP to parse HTML templates into Document object;</li>\n<li>modify Document object using its very intuitive jQuery like methods;</li>\n<li>return Document.toString() as response to request.</li>\n</ul>\n<p>I use it for one of my side projects (hosted Digitalocean $5 droplet, Nginx, Tomcat) and it is very fast: according to Googlebot average response time is about 160 ms.</p>\n<p><a href=\"https://jsoup.org/\" rel=\"nofollow noreferrer\">JSoup</a></p>\n"}],"owner":{"account_id":34076,"reputation":18614,"user_id":95914,"accept_rate":87,"display_name":"chmoelders"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":318384,"favorite_count":0,"down_vote_count":7,"up_vote_count":1773,"accepted_answer_id":3180202,"answer_count":31,"score":1766,"last_activity_date":1672736007,"creation_date":1278314646,"question_id":3177733,"body_markdown":"I know that something like the following three lines\r\n\r\n    &lt;%= x+1 %&gt;\r\n    &lt;%= request.getParameter(&quot;name&quot;) %&gt;\r\n    &lt;%! counter++; %&gt;\r\n\r\nis an old school way of coding and in JSP version 2 there exists a method to avoid Java code in JSP files. What are the alternative JSP 2 lines, and what is this technique called?\r\n\r\n\r\n","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>I know that something like the following three lines</p>\n<pre><code>&lt;%= x+1 %&gt;\n&lt;%= request.getParameter(&quot;name&quot;) %&gt;\n&lt;%! counter++; %&gt;\n</code></pre>\n<p>is an old school way of coding and in JSP version 2 there exists a method to avoid Java code in JSP files. What are the alternative JSP 2 lines, and what is this technique called?</p>\n"},{"tags":["java","spring","spring-boot","filter","spring-security"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1672660051,"post_id":74982010,"comment_id":132321089,"body_markdown":"Your dependencies are wrong. The best way to start a Spring Boot project is to us https://start.spring.io/. It helps to get the right dependencies.","body":"Your dependencies are wrong. The best way to start a Spring Boot project is to us <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">start.spring.io</a>. It helps to get the right dependencies."},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1672660119,"post_id":74982010,"comment_id":132321101,"body_markdown":"[Spring Boot 3.0 Migration Guide](https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide): &quot;You need to be especially careful that older Java EE dependencies are no longer directly or transitively used in your build. For example, if you should always be using jakarta.servlet:jakarta.servlet-api and not javax.servlet:javax.servlet-api&quot;","body":"<a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide\" rel=\"nofollow noreferrer\">Spring Boot 3.0 Migration Guide</a>: &quot;You need to be especially careful that older Java EE dependencies are no longer directly or transitively used in your build. For example, if you should always be using jakarta.servlet:jakarta.servlet-api and not javax.servlet:javax.servlet-api&quot;"},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1672660929,"post_id":74982010,"comment_id":132321282,"body_markdown":"which error? `spring-security-config v. 5.7.3` depends on `spring-security-web v. 5.7.3` which was compiled against `javax.servlet:javax.servlet-api`, meanwhile `spring-boot-starter-web` brings `jakarta.servlet:jakarta.servlet-api` as a runtime dependency, you might even do not see any `javax.servlet` classes in your project but nothing will work.","body":"which error? <code>spring-security-config v. 5.7.3</code> depends on <code>spring-security-web v. 5.7.3</code> which was compiled against <code>javax.servlet:javax.servlet-api</code>, meanwhile <code>spring-boot-starter-web</code> brings <code>jakarta.servlet:jakarta.servlet-api</code> as a runtime dependency, you might even do not see any <code>javax.servlet</code> classes in your project but nothing will work."},{"owner":{"account_id":19038378,"reputation":513,"user_id":14974332,"display_name":"Serhii Chernikov"},"score":0,"creation_date":1672661397,"post_id":74982010,"comment_id":132321369,"body_markdown":"@AndreyB.Panfilov the error occurs once I add the spring-security-config dependency (I need it for `WebSecurityConfigurerAdapter`). So I think that I have to completely get rid of using `WebSecurityConfigurerAdapter`, and finish reading the article you provided, I hope it may help.","body":"@AndreyB.Panfilov the error occurs once I add the spring-security-config dependency (I need it for <code>WebSecurityConfigurerAdapter</code>). So I think that I have to completely get rid of using <code>WebSecurityConfigurerAdapter</code>, and finish reading the article you provided, I hope it may help."},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":3,"creation_date":1672661823,"post_id":74982010,"comment_id":132321466,"body_markdown":"yeap, that is the root cause. Actually a lot of spring guides abruptly became obsolete as soon as spring team released spring-6/spring-boot-3 in November, and there are two options: either stick with spring-5.3/spring-boot-2.x or learn spring-6/spring-boot-3 using official documentation. https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter","body":"yeap, that is the root cause. Actually a lot of spring guides abruptly became obsolete as soon as spring team released spring-6/spring-boot-3 in November, and there are two options: either stick with spring-5.3/spring-boot-2.x or learn spring-6/spring-boot-3 using official documentation. <a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\" rel=\"nofollow noreferrer\">spring.io/blog/2022/02/21/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":19038378,"reputation":513,"user_id":14974332,"display_name":"Serhii Chernikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672735686,"creation_date":1672735686,"answer_id":74990965,"question_id":74982010,"body_markdown":"So, the solution was simple. If you&#39;re migrating to Spring 6, you should get rid of using the `WebSecurityConfigurerAdapter` class and instead configure your security without it.\r\n\r\nI&#39;ve written a new configuration (which does the same operations as well as the config provided in the question), and now it looks like this:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SpringSecurityConfig {\r\n        @Bean\r\n        public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n            http\r\n                    .authorizeHttpRequests((authorize) -&gt; authorize.anyRequest().authenticated())\r\n                    .httpBasic(Customizer.withDefaults())\r\n                    .formLogin(Customizer.withDefaults());\r\n    \r\n            return http.build();\r\n        }\r\n    \r\n        @Bean\r\n        public UserDetailsService userDetailsService() {\r\n            PasswordEncoder encoder = PasswordEncoderFactories.createDelegatingPasswordEncoder();\r\n            UserDetails user = User\r\n                                .withUsername(&quot;spring_user&quot;)\r\n                                .password(encoder.encode(&quot;password123&quot;))\r\n                                .roles(&quot;USER&quot;)\r\n                                .build();\r\n    \r\n            return new InMemoryUserDetailsManager(user);\r\n        }\r\n    }\r\n\r\nThat&#39;s the minimal configuration required by Spring Security 6 to provide basic authentication, default password encoder (which is recommended to use) and in-memory user.","title":"Spring Security – cannot access javax.servlet.Filter","body":"<p>So, the solution was simple. If you're migrating to Spring 6, you should get rid of using the <code>WebSecurityConfigurerAdapter</code> class and instead configure your security without it.</p>\n<p>I've written a new configuration (which does the same operations as well as the config provided in the question), and now it looks like this:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SpringSecurityConfig {\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .authorizeHttpRequests((authorize) -&gt; authorize.anyRequest().authenticated())\n                .httpBasic(Customizer.withDefaults())\n                .formLogin(Customizer.withDefaults());\n\n        return http.build();\n    }\n\n    @Bean\n    public UserDetailsService userDetailsService() {\n        PasswordEncoder encoder = PasswordEncoderFactories.createDelegatingPasswordEncoder();\n        UserDetails user = User\n                            .withUsername(&quot;spring_user&quot;)\n                            .password(encoder.encode(&quot;password123&quot;))\n                            .roles(&quot;USER&quot;)\n                            .build();\n\n        return new InMemoryUserDetailsManager(user);\n    }\n}\n</code></pre>\n<p>That's the minimal configuration required by Spring Security 6 to provide basic authentication, default password encoder (which is recommended to use) and in-memory user.</p>\n"}],"owner":{"account_id":19038378,"reputation":513,"user_id":14974332,"display_name":"Serhii Chernikov"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4972,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1672735686,"creation_date":1672659809,"question_id":74982010,"body_markdown":"I&#39;m writing the Spring Boot project with basic authentication and authorization using Spring Security. I have a config class which extends the `WebSecurityConfigurerAdapter` (I wanna get rid of it later, since it&#39;s deprecated).\r\nSo, my config class looks like this:\r\n\r\n    @Configuration\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n        @Override\r\n        protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth.inMemoryAuthentication().withUser(&quot;spring_user&quot;)\r\n                                         .password(&quot;password123&quot;)\r\n                                         .roles(&quot;ADMIN&quot;);\r\n        }\r\n    \r\n        @Bean\r\n        public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n            http\r\n                .authorizeHttpRequests((authz) -&gt; authz.anyRequest().authenticated())\r\n                .httpBasic(Customizer.withDefaults());\r\n    \r\n            return http.build();\r\n        }\r\n    \r\n        @Bean\r\n        public static PasswordEncoder passwordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    }\r\n\r\npom.xml file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.1&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n        &lt;groupId&gt;com.codelib&lt;/groupId&gt;\r\n        &lt;artifactId&gt;basic-auth-security&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;basic-auth-security&lt;/name&gt;\r\n        &lt;description&gt;basic-auth-security&lt;/description&gt;\r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n                &lt;version&gt;5.7.3&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nNote that I have `spring-boot-starter-web` dependency.\r\n\r\nThere is nothing interesting in the rest of the project. When I try to run the app, the following message is shown:\r\n\r\n    java: cannot access javax.servlet.Filter\r\n      class file for javax.servlet.Filter not found\r\n\r\nAnd IDEA redirects me to the config file. (but no lines of code are underlined with red)\r\n\r\nWhat can be the cause of this?","title":"Spring Security – cannot access javax.servlet.Filter","body":"<p>I'm writing the Spring Boot project with basic authentication and authorization using Spring Security. I have a config class which extends the <code>WebSecurityConfigurerAdapter</code> (I wanna get rid of it later, since it's deprecated).\nSo, my config class looks like this:</p>\n<pre><code>@Configuration\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.inMemoryAuthentication().withUser(&quot;spring_user&quot;)\n                                     .password(&quot;password123&quot;)\n                                     .roles(&quot;ADMIN&quot;);\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n            .authorizeHttpRequests((authz) -&gt; authz.anyRequest().authenticated())\n            .httpBasic(Customizer.withDefaults());\n\n        return http.build();\n    }\n\n    @Bean\n    public static PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n}\n</code></pre>\n<p>pom.xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.codelib&lt;/groupId&gt;\n    &lt;artifactId&gt;basic-auth-security&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;basic-auth-security&lt;/name&gt;\n    &lt;description&gt;basic-auth-security&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n            &lt;version&gt;5.7.3&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Note that I have <code>spring-boot-starter-web</code> dependency.</p>\n<p>There is nothing interesting in the rest of the project. When I try to run the app, the following message is shown:</p>\n<pre><code>java: cannot access javax.servlet.Filter\n  class file for javax.servlet.Filter not found\n</code></pre>\n<p>And IDEA redirects me to the config file. (but no lines of code are underlined with red)</p>\n<p>What can be the cause of this?</p>\n"},{"tags":["java","spring","spring-boot","rest"],"comments":[{"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"score":0,"creation_date":1671118686,"post_id":74813974,"comment_id":132033835,"body_markdown":"Yes you definitely need to specify content type.","body":"Yes you definitely need to specify content type."},{"owner":{"account_id":7638194,"reputation":63,"user_id":5791127,"accept_rate":0,"display_name":"Daniel"},"score":0,"creation_date":1671142201,"post_id":74813974,"comment_id":132041299,"body_markdown":"So, things are working fine in Postman when I test. But another team member who is also testing (the caller is axios in React) is telling me that every other POST in the entire application succeeds without explicitly specifying content type. It is one PUT, which is the only PUT in the API is giving him this error. (HTTP 500) \n\n[org.springframework.http.converter.HttpMessageNotReadableException: Required request body is missing: public org.springframework.http.ResponseEntity&lt;io.swagger.entity.XxxxxXX&gt;","body":"So, things are working fine in Postman when I test. But another team member who is also testing (the caller is axios in React) is telling me that every other POST in the entire application succeeds without explicitly specifying content type. It is one PUT, which is the only PUT in the API is giving him this error. (HTTP 500)   [org.springframework.http.converter.HttpMessageNotReadableEx&zwnj;&#8203;ception: Required request body is missing: public org.springframework.http.ResponseEntity&lt;io.swagger.entity.Xx&zwnj;&#8203;xxxXX&gt;"}],"answers":[{"tags":[],"owner":{"account_id":26680163,"reputation":16,"user_id":20290233,"display_name":"Nithish Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672735068,"creation_date":1672735068,"answer_id":74990846,"question_id":74813974,"body_markdown":"You can always use the `@RestController` for the controller and use the appropriate method like @GetMapping, @PostMapping to make this work. So, basically spring requires content type because the input could be anything.","title":"How do I POST/PUT JSON to a REST API endpoint without specifying Content-Type: application/json header","body":"<p>You can always use the <code>@RestController</code> for the controller and use the appropriate method like @GetMapping, @PostMapping to make this work. So, basically spring requires content type because the input could be anything.</p>\n"}],"owner":{"account_id":7638194,"reputation":63,"user_id":5791127,"accept_rate":0,"display_name":"Daniel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672735068,"creation_date":1671118434,"question_id":74813974,"body_markdown":"I am working on typical Spring Boot REST API project and I am trying to figure out why all my POST and PUT endpoints API are getting &quot;Unsupported Media Type&quot; error if I don&#39;t specify Content-Type: application/json header.(so, if I unchecked Content-Type: application/json header in Postman, I get this error and everything works fine if I check that.)\r\n\r\nDo I need to specify? Are there any ways that I can make them work without Content-Type: application/json header?\r\n\r\nThanks in advance,","title":"How do I POST/PUT JSON to a REST API endpoint without specifying Content-Type: application/json header","body":"<p>I am working on typical Spring Boot REST API project and I am trying to figure out why all my POST and PUT endpoints API are getting &quot;Unsupported Media Type&quot; error if I don't specify Content-Type: application/json header.(so, if I unchecked Content-Type: application/json header in Postman, I get this error and everything works fine if I check that.)</p>\n<p>Do I need to specify? Are there any ways that I can make them work without Content-Type: application/json header?</p>\n<p>Thanks in advance,</p>\n"},{"tags":["java","json","jackson","jackson-databind","lottie"],"answers":[{"tags":[],"owner":{"account_id":394396,"reputation":52134,"user_id":756809,"accept_rate":89,"display_name":"Shai Almog"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672730052,"creation_date":1672730052,"answer_id":74990080,"question_id":74980417,"body_markdown":"The mapping seems incorrect. What you have is this:\r\n\r\n\r\n```json\r\nvar json = &quot;&quot;&quot;\r\n           {\r\n               &quot;k&quot;: [\r\n                   5.01,\r\n                   6.02\r\n                ]\r\n           }\r\n           &quot;&quot;&quot;;\r\n```\r\n\r\nThis is effectively an array of numbers which I assume should map to `NumberKeyframe`. But that would map to something like:\r\n\r\n```json\r\n&quot;k&quot;: [{&quot;value&quot;: 5.01}, {&quot;value&quot;: 6.01}]\r\n```\r\n\r\nI&#39;m not sure if this is something Jackson can do seamlessly without a mapper.","title":"How to parse a mix of simple and complex JSON types to a list of Java objects with Jackson","body":"<p>The mapping seems incorrect. What you have is this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>var json = &quot;&quot;&quot;\n           {\n               &quot;k&quot;: [\n                   5.01,\n                   6.02\n                ]\n           }\n           &quot;&quot;&quot;;\n</code></pre>\n<p>This is effectively an array of numbers which I assume should map to <code>NumberKeyframe</code>. But that would map to something like:</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;k&quot;: [{&quot;value&quot;: 5.01}, {&quot;value&quot;: 6.01}]\n</code></pre>\n<p>I'm not sure if this is something Jackson can do seamlessly without a mapper.</p>\n"},{"tags":[],"owner":{"account_id":1890140,"reputation":6225,"user_id":1708462,"accept_rate":73,"display_name":"xxtesaxx"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672734935,"creation_date":1672734935,"answer_id":74990824,"question_id":74980417,"body_markdown":"Looks like jackson has a problem with deserializing numbers into objects. You could solve this using a custom deserializer or by making your NumberKeyFrame extend BigDecimal instead. Here is a working minimal example but I removed a lot of your code. Notice the defaultImpl in the JsonTypeInfo annotaton. This was necessary in order to work though I&#39;m not 100% why :see_no_evil:\r\n\r\n    public class MyTest {\r\n    \r\n        @JsonIgnoreProperties(ignoreUnknown = true)\r\n        static class Animated {\r\n    \r\n            public @JsonProperty(&quot;k&quot;) List&lt;Keyframe&gt; keyframes = new ArrayList&lt;&gt;();\r\n        }\r\n    \r\n        @JsonTypeInfo(use = JsonTypeInfo.Id.DEDUCTION, defaultImpl = NumberKeyframe.class)\r\n        @JsonSubTypes({\r\n            @JsonSubTypes.Type(NumberKeyframe.class),\r\n            @JsonSubTypes.Type(TimedKeyframe.class),\r\n        })\r\n        public interface Keyframe {\r\n    \r\n        }\r\n    \r\n        @JsonIgnoreProperties(ignoreUnknown = true)\r\n        static class NumberKeyframe extends BigDecimal implements Keyframe {\r\n    \r\n            public NumberKeyframe(int val) {\r\n                super(val);\r\n            }\r\n        }\r\n    \r\n        @JsonIgnoreProperties(ignoreUnknown = true)\r\n        static class TimedKeyframe implements Keyframe {\r\n    \r\n            @JsonProperty(&quot;s&quot;)\r\n            List&lt;BigDecimal&gt; values;\r\n        }\r\n    \r\n        private static final ObjectMapper mapper = new ObjectMapper();\r\n    \r\n        @Test\r\n        public void testInteger() throws JsonProcessingException, JSONException {\r\n            var json = &quot;{\\&quot;k\\&quot;: [128,256]}&quot;;\r\n    \r\n            var animated = mapper.readValue(json, Animated.class);\r\n            assertEquals(2, animated.keyframes.size());\r\n    \r\n            assertTrue(animated.keyframes.get(0) instanceof NumberKeyframe);\r\n            assertEquals(128, ((NumberKeyframe) animated.keyframes.get(0)).intValue());\r\n        }\r\n    \r\n        @Test\r\n        void testTimed() throws JsonProcessingException {\r\n            var json = &quot;{\\&quot;k\\&quot;: [\\n&quot;\r\n                + &quot;  {\\&quot;i\\&quot;: {\\&quot;x\\&quot;: [0.833],\\&quot;y\\&quot;: [0.833]},\\&quot;o\\&quot;: {\\&quot;x\\&quot;: [0.167],\\&quot;y\\&quot;: [0.167]},\\&quot;t\\&quot;: 60,\\&quot;s\\&quot;: [1.1,2.2,3.3]},\\n&quot;\r\n                + &quot;  { \\&quot;t\\&quot;: 60, \\&quot;s\\&quot;: [360.0]}\\n&quot;\r\n                + &quot;]}&quot;;\r\n    \r\n            var animated = mapper.readValue(json, Animated.class);\r\n    \r\n            assertEquals(2, animated.keyframes.size());\r\n            assertTrue(animated.keyframes.get(0) instanceof TimedKeyframe);\r\n            assertEquals(1.1, ((TimedKeyframe) animated.keyframes.get(0)).values.get(0).doubleValue());\r\n            assertEquals(2.2, ((TimedKeyframe) animated.keyframes.get(0)).values.get(1).doubleValue());\r\n            assertEquals(3.3, ((TimedKeyframe) animated.keyframes.get(0)).values.get(2).doubleValue());\r\n        }\r\n    }\r\n","title":"How to parse a mix of simple and complex JSON types to a list of Java objects with Jackson","body":"<p>Looks like jackson has a problem with deserializing numbers into objects. You could solve this using a custom deserializer or by making your NumberKeyFrame extend BigDecimal instead. Here is a working minimal example but I removed a lot of your code. Notice the defaultImpl in the JsonTypeInfo annotaton. This was necessary in order to work though I'm not 100% why :see_no_evil:</p>\n<pre><code>public class MyTest {\n\n    @JsonIgnoreProperties(ignoreUnknown = true)\n    static class Animated {\n\n        public @JsonProperty(&quot;k&quot;) List&lt;Keyframe&gt; keyframes = new ArrayList&lt;&gt;();\n    }\n\n    @JsonTypeInfo(use = JsonTypeInfo.Id.DEDUCTION, defaultImpl = NumberKeyframe.class)\n    @JsonSubTypes({\n        @JsonSubTypes.Type(NumberKeyframe.class),\n        @JsonSubTypes.Type(TimedKeyframe.class),\n    })\n    public interface Keyframe {\n\n    }\n\n    @JsonIgnoreProperties(ignoreUnknown = true)\n    static class NumberKeyframe extends BigDecimal implements Keyframe {\n\n        public NumberKeyframe(int val) {\n            super(val);\n        }\n    }\n\n    @JsonIgnoreProperties(ignoreUnknown = true)\n    static class TimedKeyframe implements Keyframe {\n\n        @JsonProperty(&quot;s&quot;)\n        List&lt;BigDecimal&gt; values;\n    }\n\n    private static final ObjectMapper mapper = new ObjectMapper();\n\n    @Test\n    public void testInteger() throws JsonProcessingException, JSONException {\n        var json = &quot;{\\&quot;k\\&quot;: [128,256]}&quot;;\n\n        var animated = mapper.readValue(json, Animated.class);\n        assertEquals(2, animated.keyframes.size());\n\n        assertTrue(animated.keyframes.get(0) instanceof NumberKeyframe);\n        assertEquals(128, ((NumberKeyframe) animated.keyframes.get(0)).intValue());\n    }\n\n    @Test\n    void testTimed() throws JsonProcessingException {\n        var json = &quot;{\\&quot;k\\&quot;: [\\n&quot;\n            + &quot;  {\\&quot;i\\&quot;: {\\&quot;x\\&quot;: [0.833],\\&quot;y\\&quot;: [0.833]},\\&quot;o\\&quot;: {\\&quot;x\\&quot;: [0.167],\\&quot;y\\&quot;: [0.167]},\\&quot;t\\&quot;: 60,\\&quot;s\\&quot;: [1.1,2.2,3.3]},\\n&quot;\n            + &quot;  { \\&quot;t\\&quot;: 60, \\&quot;s\\&quot;: [360.0]}\\n&quot;\n            + &quot;]}&quot;;\n\n        var animated = mapper.readValue(json, Animated.class);\n\n        assertEquals(2, animated.keyframes.size());\n        assertTrue(animated.keyframes.get(0) instanceof TimedKeyframe);\n        assertEquals(1.1, ((TimedKeyframe) animated.keyframes.get(0)).values.get(0).doubleValue());\n        assertEquals(2.2, ((TimedKeyframe) animated.keyframes.get(0)).values.get(1).doubleValue());\n        assertEquals(3.3, ((TimedKeyframe) animated.keyframes.get(0)).values.get(2).doubleValue());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":104307,"reputation":5969,"user_id":278949,"accept_rate":97,"display_name":"Frank"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74990824,"answer_count":2,"score":1,"last_activity_date":1672734935,"creation_date":1672649180,"question_id":74980417,"body_markdown":"I&#39;m working on a Java library to be able to read/write Lottie data (animations defined as JSON). I try to achieve this with minimal code and Records, but it&#39;s a bit challenging to achieve this for all possible use cases as defined in the Lottie format. I&#39;ve been able to handle almost everything, but I still need to find a suitable solution for the keyframes.\r\n\r\nGiven the following unit tests, how should the Java objects be defined to be able to parse the example JSONs? Is this possible with &quot;pure Jackson&quot; or will a helper class be needed? I&#39;m using Jackson 2.14.1.\r\n\r\nAt this point, only `testTimed` succeeds.\r\n\r\n\r\n    \r\n    public class KeyframeTest {\r\n    \r\n        private static final ObjectMapper mapper = new ObjectMapper();\r\n    \r\n        @Test\r\n        void testInteger() throws JsonProcessingException {\r\n            var json = &quot;&quot;&quot;\r\n                    {\r\n                        &quot;k&quot;: [\r\n                          128,\r\n                          256\r\n                        ]\r\n                    }\r\n                    &quot;&quot;&quot;;\r\n    \r\n            var animated = mapper.readValue(json, Animated.class);\r\n    \r\n            assertAll(\r\n                    () -&gt; assertEquals(2, animated.keyframes().size()),\r\n                    () -&gt; assertTrue(animated.keyframes().get(0) instanceof NumberKeyframe),\r\n                    () -&gt; assertEquals(128, animated.keyframes().get(0)),\r\n                    () -&gt; JSONAssert.assertEquals(json, mapper.writeValueAsString(animated), false)\r\n            );\r\n        }\r\n    \r\n        @Test\r\n        void testDouble() throws JsonProcessingException {\r\n            var json = &quot;&quot;&quot;\r\n                    {\r\n                        &quot;k&quot;: [\r\n                          5.01,\r\n                          6.02\r\n                        ]\r\n                    }\r\n                    &quot;&quot;&quot;;\r\n    \r\n            var animated = mapper.readValue(json, Animated.class);\r\n    \r\n            assertAll(\r\n                    () -&gt; assertEquals(2, animated.keyframes().size()),\r\n                    () -&gt; assertTrue(animated.keyframes().get(0) instanceof NumberKeyframe),\r\n                    () -&gt; assertEquals(5.01, animated.keyframes().get(0)),\r\n                    () -&gt; JSONAssert.assertEquals(json, mapper.writeValueAsString(animated), false)\r\n            );\r\n        }\r\n    \r\n        @Test\r\n        void testTimed() throws JsonProcessingException {\r\n            var json = &quot;&quot;&quot;\r\n                    {\r\n                        &quot;k&quot;: [\r\n                         {\r\n                           &quot;i&quot;: {\r\n                             &quot;x&quot;: [\r\n                               0.833\r\n                             ],\r\n                             &quot;y&quot;: [\r\n                               0.833\r\n                             ]\r\n                           },\r\n                           &quot;o&quot;: {\r\n                             &quot;x&quot;: [\r\n                               0.167\r\n                             ],\r\n                             &quot;y&quot;: [\r\n                               0.167\r\n                             ]\r\n                           },\r\n                           &quot;t&quot;: 60,\r\n                           &quot;s&quot;: [\r\n                             1.1,\r\n                             2.2,\r\n                             3.3\r\n                           ]\r\n                         },\r\n                         {\r\n                           &quot;t&quot;: 60,\r\n                           &quot;s&quot;: [\r\n                             360.0\r\n                           ]\r\n                         }\r\n                       ]\r\n                    }\r\n                    &quot;&quot;&quot;;\r\n    \r\n            var animated = mapper.readValue(json, Animated.class);\r\n    \r\n            assertAll(\r\n                    () -&gt; assertEquals(2, animated.keyframes().size()),\r\n                    () -&gt; assertTrue(animated.keyframes().get(0) instanceof TimedKeyframe),\r\n                    () -&gt; assertEquals(60, ((TimedKeyframe) animated.keyframes().get(0)).time()),\r\n                    () -&gt; JSONAssert.assertEquals(json, mapper.writeValueAsString(animated), false)\r\n            );\r\n        }\r\n    \r\n        @Test\r\n        void testMixed() throws JsonProcessingException {\r\n            var json = &quot;&quot;&quot;\r\n                    {\r\n                        &quot;k&quot;: [\r\n                        100,\r\n                        33.44,\r\n                         {\r\n                           &quot;t&quot;: 60,\r\n                           &quot;s&quot;: [\r\n                             1.1,\r\n                             2.2,\r\n                             3.3\r\n                           ]\r\n                         }\r\n                       ]\r\n                    }\r\n                    &quot;&quot;&quot;;\r\n    \r\n            var keyFrames = mapper.readValue(json, new TypeReference&lt;List&lt;Keyframe&gt;&gt;() {\r\n            });\r\n    \r\n            assertAll(\r\n                    () -&gt; assertEquals(3, keyFrames.size()),\r\n                    () -&gt; assertTrue(keyFrames.get(0) instanceof NumberKeyframe),\r\n                    () -&gt; assertTrue(keyFrames.get(1) instanceof NumberKeyframe),\r\n                    () -&gt; assertTrue(keyFrames.get(2) instanceof TimedKeyframe),\r\n                    () -&gt; JSONAssert.assertEquals(json, mapper.writeValueAsString(keyFrames), false)\r\n            );\r\n        }\r\n    }\r\n\r\nAnimated object\r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    @JsonInclude(Include.NON_NULL)\r\n    public record Animated(\r\n            @JsonProperty(&quot;a&quot;) Integer animated,\r\n            @JsonProperty(&quot;k&quot;) List&lt;Keyframe&gt; keyframes,\r\n            @JsonProperty(&quot;ix&quot;) Integer ix,\r\n            @JsonProperty(&quot;l&quot;) Integer l\r\n    ) {\r\n    }\r\n\r\nKeyframe objects, using Java Records based on my earlier question here https://stackoverflow.com/questions/74890806/parse-json-to-java-records-with-fasterxml-jackson/74891785#74891785\r\n\r\n    @JsonTypeInfo(use = JsonTypeInfo.Id.DEDUCTION)\r\n    @JsonSubTypes({\r\n            @JsonSubTypes.Type(TimedKeyframe.class),\r\n            @JsonSubTypes.Type(NumberKeyframe.class)\r\n    })\r\n    public interface Keyframe {\r\n    \r\n    }\r\n    \r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    public record NumberKeyframe(\r\n            BigDecimal value\r\n    ) implements Keyframe {\r\n    }\r\n    \r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    public record TimedKeyframe(\r\n            @JsonProperty(&quot;t&quot;) Integer time, // in frames\r\n            // Use BigDecimal here to be able to handle both Integer and Double\r\n            // https://stackoverflow.com/questions/40885065/jackson-mapper-integer-from-json-parsed-as-double-with-drong-precision\r\n            @JsonProperty(&quot;s&quot;) List&lt;BigDecimal&gt; values,\r\n            @JsonProperty(&quot;i&quot;) EasingHandle easingIn,\r\n            @JsonProperty(&quot;o&quot;) EasingHandle easingOut,\r\n            @JsonProperty(&quot;h&quot;) Integer holdFrame\r\n    ) implements Keyframe {\r\n    }\r\n\r\nThis is the failure message for testDouble:\r\n\r\n```\r\ncom.fasterxml.jackson.databind.exc.InvalidTypeIdException: Could not resolve subtype of [simple type, class com.lottie4j.core.model.keyframe.Keyframe]: Unexpected input\r\n at [Source: (String)&quot;{\r\n    &quot;k&quot;: [\r\n      5.01,\r\n      6.02\r\n    ]\r\n}\r\n&quot;; line: 3, column: 7] (through reference chain: com.lottie4j.core.model.Animated[&quot;k&quot;]-&gt;java.util.ArrayList[0])\r\n```","title":"How to parse a mix of simple and complex JSON types to a list of Java objects with Jackson","body":"<p>I'm working on a Java library to be able to read/write Lottie data (animations defined as JSON). I try to achieve this with minimal code and Records, but it's a bit challenging to achieve this for all possible use cases as defined in the Lottie format. I've been able to handle almost everything, but I still need to find a suitable solution for the keyframes.</p>\n<p>Given the following unit tests, how should the Java objects be defined to be able to parse the example JSONs? Is this possible with &quot;pure Jackson&quot; or will a helper class be needed? I'm using Jackson 2.14.1.</p>\n<p>At this point, only <code>testTimed</code> succeeds.</p>\n<pre><code>public class KeyframeTest {\n\n    private static final ObjectMapper mapper = new ObjectMapper();\n\n    @Test\n    void testInteger() throws JsonProcessingException {\n        var json = &quot;&quot;&quot;\n                {\n                    &quot;k&quot;: [\n                      128,\n                      256\n                    ]\n                }\n                &quot;&quot;&quot;;\n\n        var animated = mapper.readValue(json, Animated.class);\n\n        assertAll(\n                () -&gt; assertEquals(2, animated.keyframes().size()),\n                () -&gt; assertTrue(animated.keyframes().get(0) instanceof NumberKeyframe),\n                () -&gt; assertEquals(128, animated.keyframes().get(0)),\n                () -&gt; JSONAssert.assertEquals(json, mapper.writeValueAsString(animated), false)\n        );\n    }\n\n    @Test\n    void testDouble() throws JsonProcessingException {\n        var json = &quot;&quot;&quot;\n                {\n                    &quot;k&quot;: [\n                      5.01,\n                      6.02\n                    ]\n                }\n                &quot;&quot;&quot;;\n\n        var animated = mapper.readValue(json, Animated.class);\n\n        assertAll(\n                () -&gt; assertEquals(2, animated.keyframes().size()),\n                () -&gt; assertTrue(animated.keyframes().get(0) instanceof NumberKeyframe),\n                () -&gt; assertEquals(5.01, animated.keyframes().get(0)),\n                () -&gt; JSONAssert.assertEquals(json, mapper.writeValueAsString(animated), false)\n        );\n    }\n\n    @Test\n    void testTimed() throws JsonProcessingException {\n        var json = &quot;&quot;&quot;\n                {\n                    &quot;k&quot;: [\n                     {\n                       &quot;i&quot;: {\n                         &quot;x&quot;: [\n                           0.833\n                         ],\n                         &quot;y&quot;: [\n                           0.833\n                         ]\n                       },\n                       &quot;o&quot;: {\n                         &quot;x&quot;: [\n                           0.167\n                         ],\n                         &quot;y&quot;: [\n                           0.167\n                         ]\n                       },\n                       &quot;t&quot;: 60,\n                       &quot;s&quot;: [\n                         1.1,\n                         2.2,\n                         3.3\n                       ]\n                     },\n                     {\n                       &quot;t&quot;: 60,\n                       &quot;s&quot;: [\n                         360.0\n                       ]\n                     }\n                   ]\n                }\n                &quot;&quot;&quot;;\n\n        var animated = mapper.readValue(json, Animated.class);\n\n        assertAll(\n                () -&gt; assertEquals(2, animated.keyframes().size()),\n                () -&gt; assertTrue(animated.keyframes().get(0) instanceof TimedKeyframe),\n                () -&gt; assertEquals(60, ((TimedKeyframe) animated.keyframes().get(0)).time()),\n                () -&gt; JSONAssert.assertEquals(json, mapper.writeValueAsString(animated), false)\n        );\n    }\n\n    @Test\n    void testMixed() throws JsonProcessingException {\n        var json = &quot;&quot;&quot;\n                {\n                    &quot;k&quot;: [\n                    100,\n                    33.44,\n                     {\n                       &quot;t&quot;: 60,\n                       &quot;s&quot;: [\n                         1.1,\n                         2.2,\n                         3.3\n                       ]\n                     }\n                   ]\n                }\n                &quot;&quot;&quot;;\n\n        var keyFrames = mapper.readValue(json, new TypeReference&lt;List&lt;Keyframe&gt;&gt;() {\n        });\n\n        assertAll(\n                () -&gt; assertEquals(3, keyFrames.size()),\n                () -&gt; assertTrue(keyFrames.get(0) instanceof NumberKeyframe),\n                () -&gt; assertTrue(keyFrames.get(1) instanceof NumberKeyframe),\n                () -&gt; assertTrue(keyFrames.get(2) instanceof TimedKeyframe),\n                () -&gt; JSONAssert.assertEquals(json, mapper.writeValueAsString(keyFrames), false)\n        );\n    }\n}\n</code></pre>\n<p>Animated object</p>\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\n@JsonInclude(Include.NON_NULL)\npublic record Animated(\n        @JsonProperty(&quot;a&quot;) Integer animated,\n        @JsonProperty(&quot;k&quot;) List&lt;Keyframe&gt; keyframes,\n        @JsonProperty(&quot;ix&quot;) Integer ix,\n        @JsonProperty(&quot;l&quot;) Integer l\n) {\n}\n</code></pre>\n<p>Keyframe objects, using Java Records based on my earlier question here <a href=\"https://stackoverflow.com/questions/74890806/parse-json-to-java-records-with-fasterxml-jackson/74891785#74891785\">Parse JSON to Java records with fasterxml.jackson</a></p>\n<pre><code>@JsonTypeInfo(use = JsonTypeInfo.Id.DEDUCTION)\n@JsonSubTypes({\n        @JsonSubTypes.Type(TimedKeyframe.class),\n        @JsonSubTypes.Type(NumberKeyframe.class)\n})\npublic interface Keyframe {\n\n}\n\n@JsonIgnoreProperties(ignoreUnknown = true)\n@JsonInclude(JsonInclude.Include.NON_NULL)\npublic record NumberKeyframe(\n        BigDecimal value\n) implements Keyframe {\n}\n\n@JsonIgnoreProperties(ignoreUnknown = true)\n@JsonInclude(JsonInclude.Include.NON_NULL)\npublic record TimedKeyframe(\n        @JsonProperty(&quot;t&quot;) Integer time, // in frames\n        // Use BigDecimal here to be able to handle both Integer and Double\n        // https://stackoverflow.com/questions/40885065/jackson-mapper-integer-from-json-parsed-as-double-with-drong-precision\n        @JsonProperty(&quot;s&quot;) List&lt;BigDecimal&gt; values,\n        @JsonProperty(&quot;i&quot;) EasingHandle easingIn,\n        @JsonProperty(&quot;o&quot;) EasingHandle easingOut,\n        @JsonProperty(&quot;h&quot;) Integer holdFrame\n) implements Keyframe {\n}\n</code></pre>\n<p>This is the failure message for testDouble:</p>\n<pre><code>com.fasterxml.jackson.databind.exc.InvalidTypeIdException: Could not resolve subtype of [simple type, class com.lottie4j.core.model.keyframe.Keyframe]: Unexpected input\n at [Source: (String)&quot;{\n    &quot;k&quot;: [\n      5.01,\n      6.02\n    ]\n}\n&quot;; line: 3, column: 7] (through reference chain: com.lottie4j.core.model.Animated[&quot;k&quot;]-&gt;java.util.ArrayList[0])\n</code></pre>\n"},{"tags":["java","mysql","inner-join","sql-delete"],"answers":[{"tags":[],"owner":{"account_id":27393124,"reputation":49,"user_id":20895793,"display_name":"Andrei Vintila"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672734220,"creation_date":1672706080,"answer_id":74988167,"question_id":74988094,"body_markdown":"Please [check here](https://dev.mysql.com/doc/refman/8.0/en/join.html) the different methods of joining two tables in MySQL.\r\nYour sql statement performs an intersection while you just need to map messages to rooms. So instead of INNER JOIN you need to use LEFT JOIN and your query becomes:\r\n\r\n    DELETE OS_ROOMS, OS_ROOM_MESSAGES FROM OS_ROOMS LEFT JOIN OS_ROOM_MESSAGES ON OS_ROOMS.ROS_ID = OS_ROOM_MESSAGES.ROM_ROS_ID WHERE OS_ROOMS.ROS_ID = ?","title":"Delete join two tables even if the foreign key doesn&#39;t exist","body":"<p>Please <a href=\"https://dev.mysql.com/doc/refman/8.0/en/join.html\" rel=\"nofollow noreferrer\">check here</a> the different methods of joining two tables in MySQL.\nYour sql statement performs an intersection while you just need to map messages to rooms. So instead of INNER JOIN you need to use LEFT JOIN and your query becomes:</p>\n<pre><code>DELETE OS_ROOMS, OS_ROOM_MESSAGES FROM OS_ROOMS LEFT JOIN OS_ROOM_MESSAGES ON OS_ROOMS.ROS_ID = OS_ROOM_MESSAGES.ROM_ROS_ID WHERE OS_ROOMS.ROS_ID = ?\n</code></pre>\n"}],"owner":{"account_id":26581595,"reputation":11,"user_id":20206157,"display_name":"Adryan Reis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74988167,"answer_count":1,"score":-1,"last_activity_date":1672734220,"creation_date":1672704847,"question_id":74988094,"body_markdown":"The method below delete the room and messages in another table that have the same foreign key, but if the room doesn&#39;t have messages is not deleted. I&#39;m using mysql8 and java 11.\r\n\r\n```\r\npublic void deleteRoom() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\ttry {\r\n\t\t\tPreparedStatement preparedStatement = this.databaseMySQL.getConnection().\r\n\t\t\t\t\tprepareStatement(&quot;DELETE OS_ROOMS, OS_ROOM_MESSAGES FROM OS_ROOMS INNER JOIN OS_ROOM_MESSAGES WHERE OS_ROOMS.ROS_ID = OS_ROOM_MESSAGES.ROM_ROS_ID AND OS_ROOMS.ROS_ID = ?&quot;);\r\n\t\t\tpreparedStatement.setInt(1, RoomChatSession.id);\r\n\t\t\tpreparedStatement.executeUpdate();\r\n\t\t} catch (SQLException e) {\r\n\t\t\t// TODO: handle exception\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n```\r\n\r\nI searched for delete case,and this for example \\`\r\n\r\n```\r\n&quot;DELETE OS_ROOMS, OS_ROOM_MESSAGES FROM OS_ROOMS INNER JOIN OS_ROOM_MESSAGES WHERE (OS_ROOMS.ROS_ID = OS_ROOM_MESSAGES.ROM_ROS_ID AND OS_ROOMS.ROS_ID = ?) OR (OS_ROOMS_ID = ?)&quot;\r\n```\r\n\r\n\\` I want to delete the room even it doesn&#39;t have messages, it is possibile using only on sql command?","title":"Delete join two tables even if the foreign key doesn&#39;t exist","body":"<p>The method below delete the room and messages in another table that have the same foreign key, but if the room doesn't have messages is not deleted. I'm using mysql8 and java 11.</p>\n<pre><code>public void deleteRoom() {\n        // TODO Auto-generated method stub\n        try {\n            PreparedStatement preparedStatement = this.databaseMySQL.getConnection().\n                    prepareStatement(&quot;DELETE OS_ROOMS, OS_ROOM_MESSAGES FROM OS_ROOMS INNER JOIN OS_ROOM_MESSAGES WHERE OS_ROOMS.ROS_ID = OS_ROOM_MESSAGES.ROM_ROS_ID AND OS_ROOMS.ROS_ID = ?&quot;);\n            preparedStatement.setInt(1, RoomChatSession.id);\n            preparedStatement.executeUpdate();\n        } catch (SQLException e) {\n            // TODO: handle exception\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>I searched for delete case,and this for example `</p>\n<pre><code>&quot;DELETE OS_ROOMS, OS_ROOM_MESSAGES FROM OS_ROOMS INNER JOIN OS_ROOM_MESSAGES WHERE (OS_ROOMS.ROS_ID = OS_ROOM_MESSAGES.ROM_ROS_ID AND OS_ROOMS.ROS_ID = ?) OR (OS_ROOMS_ID = ?)&quot;\n</code></pre>\n<p>` I want to delete the room even it doesn't have messages, it is possibile using only on sql command?</p>\n"},{"tags":["java","swing","jtable"],"comments":[{"owner":{"account_id":430687,"reputation":466,"user_id":814265,"accept_rate":14,"display_name":"Vinay Bedre"},"score":0,"creation_date":1321964773,"post_id":8225946,"comment_id":10116518,"body_markdown":"i want the jtable width to be fixed. So when the text entered is more than width then it should appear in next line of the cell.","body":"i want the jtable width to be fixed. So when the text entered is more than width then it should appear in next line of the cell."}],"answers":[{"tags":[],"owner":{"account_id":954124,"reputation":1023,"user_id":979722,"accept_rate":62,"display_name":"Sergey Gazaryan"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1390693930,"creation_date":1321962724,"answer_id":8226318,"question_id":8225946,"body_markdown":"Height of a row in a JTable component is based on an assigned value rather than on the preferred height of the renderers used in that row : \r\n\r\n[www.exampledepot.com/egs/javax.swing.table/RowHeight.html][1] \r\n\r\n\r\n  [1]: https://web.archive.org/web/20121022002843/http://exampledepot.com/egs/javax.swing.table/RowHeight.html","title":"How to increase the height of a row in jtable depending on the text content entered in its cell","body":"<p>Height of a row in a JTable component is based on an assigned value rather than on the preferred height of the renderers used in that row : </p>\n\n<p><a href=\"https://web.archive.org/web/20121022002843/http://exampledepot.com/egs/javax.swing.table/RowHeight.html\" rel=\"nofollow\">www.exampledepot.com/egs/javax.swing.table/RowHeight.html</a> </p>\n"},{"tags":[],"owner":{"display_name":"user330315"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1672734078,"creation_date":1321962771,"answer_id":8226327,"question_id":8225946,"body_markdown":"You will need to calculate the needed height for the newly entered text. Depending on the renderer you are using for the cell, you can use e.g. `JTextArea.getLineCount()` to find out how many lines the text contains.\r\n\r\nThen you need to retrieve the height of the font used by the renderer and calculate the needed height out of that. \r\n\r\nOnce you have that number, use `JTable.setRowHeight(int, int)` to change the height for the specific row. \r\n\r\nSomething like this:\r\n\r\n    Component c = renderer.getTableCellRendererComponent(theTable, theTable.getValueAt(row, col), false, false, row, col);\r\n    Font f = c.getFont();\r\n    FontMetrics fm = c.getFontMetrics(f);\r\n    \r\n    // this cast depends on the way your renderer is implemented !!!!\r\n    int lineCount = ((JTextArea)c).getLineCount();\r\n    \r\n    int fheight = fm.getHeight();\r\n    int rowHeight = lineCount * fheight;\r\n    \r\n    \r\n    theTable.setRowHeight(row, rowHeight); //NOTE: rows and columns are zero-indexed\r\n\r\n    \r\n    \r\n","title":"How to increase the height of a row in jtable depending on the text content entered in its cell","body":"<p>You will need to calculate the needed height for the newly entered text. Depending on the renderer you are using for the cell, you can use e.g. <code>JTextArea.getLineCount()</code> to find out how many lines the text contains.</p>\n<p>Then you need to retrieve the height of the font used by the renderer and calculate the needed height out of that.</p>\n<p>Once you have that number, use <code>JTable.setRowHeight(int, int)</code> to change the height for the specific row.</p>\n<p>Something like this:</p>\n<pre><code>Component c = renderer.getTableCellRendererComponent(theTable, theTable.getValueAt(row, col), false, false, row, col);\nFont f = c.getFont();\nFontMetrics fm = c.getFontMetrics(f);\n\n// this cast depends on the way your renderer is implemented !!!!\nint lineCount = ((JTextArea)c).getLineCount();\n\nint fheight = fm.getHeight();\nint rowHeight = lineCount * fheight;\n\n\ntheTable.setRowHeight(row, rowHeight); //NOTE: rows and columns are zero-indexed\n</code></pre>\n"}],"owner":{"account_id":430687,"reputation":466,"user_id":814265,"accept_rate":14,"display_name":"Vinay Bedre"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4556,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1672734078,"creation_date":1321960838,"question_id":8225946,"body_markdown":"I have a jtable which is editable. As and when the cells are written with the text by user,if the entered text is more to fit the size of cell then the height of the row in table must increase to fit the new text entered by user. Could you tell me how to increase the height of the row depending on the lines of text entered.\r\n\r\nCan anyone help me in this?\r\nI have tried to add JTextArea into a row, but this is not working.\r\n\r\n","title":"How to increase the height of a row in jtable depending on the text content entered in its cell","body":"<p>I have a jtable which is editable. As and when the cells are written with the text by user,if the entered text is more to fit the size of cell then the height of the row in table must increase to fit the new text entered by user. Could you tell me how to increase the height of the row depending on the lines of text entered.</p>\n\n<p>Can anyone help me in this?\nI have tried to add JTextArea into a row, but this is not working.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":14601909,"reputation":955,"user_id":10545973,"display_name":"Rick"},"score":2,"creation_date":1672670111,"post_id":74983597,"comment_id":132323737,"body_markdown":"How are the contents of the file formatted?","body":"How are the contents of the file formatted?"},{"owner":{"account_id":27133332,"reputation":1,"user_id":20675222,"display_name":"Jakaria alam saimon"},"score":0,"creation_date":1672670779,"post_id":74983597,"comment_id":132323930,"body_markdown":"just normal add...like word apple,x(here x is synonym need)","body":"just normal add...like word apple,x(here x is synonym need)"},{"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1672703317,"post_id":74983597,"comment_id":132331553,"body_markdown":"How is your file looking alike?","body":"How is your file looking alike?"},{"owner":{"account_id":14601909,"reputation":955,"user_id":10545973,"display_name":"Rick"},"score":0,"creation_date":1672731652,"post_id":74983597,"comment_id":132335425,"body_markdown":"@Jakariaalamsaimon, so what you want is to split the String into an array by comma?","body":"@Jakariaalamsaimon, so what you want is to split the String into an array by comma?"}],"owner":{"account_id":27133332,"reputation":1,"user_id":20675222,"display_name":"Jakaria alam saimon"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672733915,"creation_date":1672669741,"question_id":74983597,"body_markdown":"How to extract the synonym words the file of elements in Array?\r\n\r\nI was able to read from the file, but the elements given in the array are matched in the file, but I want the elements given in the array to show the synonym words of the elements from the file, that is, the synonym word of the element will be shown.\r\n\r\n\r\n```java\r\npackage file;\r\n\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\nimport java.util.ArrayList;\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        ArrayList&lt;String&gt; words = new ArrayList&lt;&gt;();\r\n\r\n        // Read the words from the file and add them to the ArrayList\r\n        try (Scanner fileScanner = new Scanner(new File(&quot;C:\\\\File\\\\src\\\\file\\\\words.txt&quot;))) {\r\n            while (fileScanner.hasNext()) {\r\n                words.add(fileScanner.next());\r\n            }\r\n        } catch (FileNotFoundException e) {\r\n            System.out.println(&quot;File not found&quot;);\r\n        }\r\n\r\n        String wordToFind = &quot;apple&quot;;\r\n        String another = &quot;mango&quot;;\r\n        int index = words.indexOf(wordToFind);\r\n\r\n        if (index != -1) {\r\n            // Get the content of the element at the index\r\n            String content = words.get(index);\r\n            // Print the synonyms of the element\r\n            String[] synonyms = getSynonyms(content);\r\n\r\n            for (String synonym : synonyms) {\r\n                System.out.println(synonym);\r\n            }\r\n\r\n        } else {\r\n            System.out.println(&quot;The word &quot; + wordToFind + &quot; was not found in the ArrayList&quot;);\r\n        }\r\n    }\r\n\r\n    public static String[] getSynonyms(String word) {\r\n        // TODO: Implement this method to return the synonyms of the given word\r\n        return new String[0];\r\n    }\r\n}\r\n```","title":"Find synonyms words","body":"<p>How to extract the synonym words the file of elements in Array?</p>\n<p>I was able to read from the file, but the elements given in the array are matched in the file, but I want the elements given in the array to show the synonym words of the elements from the file, that is, the synonym word of the element will be shown.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package file;\n\nimport java.io.File;\nimport java.io.FileNotFoundException;\nimport java.util.ArrayList;\nimport java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        ArrayList&lt;String&gt; words = new ArrayList&lt;&gt;();\n\n        // Read the words from the file and add them to the ArrayList\n        try (Scanner fileScanner = new Scanner(new File(&quot;C:\\\\File\\\\src\\\\file\\\\words.txt&quot;))) {\n            while (fileScanner.hasNext()) {\n                words.add(fileScanner.next());\n            }\n        } catch (FileNotFoundException e) {\n            System.out.println(&quot;File not found&quot;);\n        }\n\n        String wordToFind = &quot;apple&quot;;\n        String another = &quot;mango&quot;;\n        int index = words.indexOf(wordToFind);\n\n        if (index != -1) {\n            // Get the content of the element at the index\n            String content = words.get(index);\n            // Print the synonyms of the element\n            String[] synonyms = getSynonyms(content);\n\n            for (String synonym : synonyms) {\n                System.out.println(synonym);\n            }\n\n        } else {\n            System.out.println(&quot;The word &quot; + wordToFind + &quot; was not found in the ArrayList&quot;);\n        }\n    }\n\n    public static String[] getSynonyms(String word) {\n        // TODO: Implement this method to return the synonyms of the given word\n        return new String[0];\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4201971,"reputation":1261,"user_id":3441898,"accept_rate":100,"display_name":"kevcodez"},"score":6,"creation_date":1436437835,"post_id":31314824,"comment_id":50617379,"body_markdown":"You can use the forward slash in windows aswell. Use `C:/imgs`. Or escape the backward slash by adding another backward slash. &quot;\\&quot; is the escaping character for strings in Java. So `C:\\\\imgs` should do it, too.","body":"You can use the forward slash in windows aswell. Use <code>C:&#47;imgs</code>. Or escape the backward slash by adding another backward slash. &quot;\\&quot; is the escaping character for strings in Java. So <code>C:\\\\imgs</code> should do it, too."},{"owner":{"account_id":6068657,"reputation":6044,"user_id":4738175,"accept_rate":56,"display_name":"OBX"},"score":0,"creation_date":1436437871,"post_id":31314824,"comment_id":50617405,"body_markdown":"will it yield the same result as C:\\imgs ?","body":"will it yield the same result as C:\\imgs ?"},{"owner":{"account_id":2648879,"reputation":4294,"user_id":2291056,"display_name":"Kuchi"},"score":2,"creation_date":1436438049,"post_id":31314824,"comment_id":50617523,"body_markdown":"Naming Conventions: you should name a constant like BASE_PATH","body":"Naming Conventions: you should name a constant like BASE_PATH"},{"owner":{"account_id":6014409,"reputation":15624,"user_id":4723795,"accept_rate":82,"display_name":"xenteros"},"score":0,"creation_date":1472827141,"post_id":31314824,"comment_id":65923792,"body_markdown":"The full explanation is [here](http://stackoverflow.com/a/39286358/4723795)","body":"The full explanation is <a href=\"http://stackoverflow.com/a/39286358/4723795\">here</a>"}],"answers":[{"tags":[],"owner":{"account_id":87739,"reputation":23623,"user_id":243164,"accept_rate":42,"display_name":"Armand"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1436437901,"creation_date":1436437901,"answer_id":31314865,"question_id":31314824,"body_markdown":"You need to escape the backslash in your windows path, like so:\r\n\r\n    private static final String BasePath = &quot;C:\\\\imgs&quot;;\r\n\r\nYou can also just use a forwardslash:\r\n\r\n    private static final String BasePath = &quot;C:/imgs&quot;;","title":"Saving path in String","body":"<p>You need to escape the backslash in your windows path, like so:</p>\n\n<pre><code>private static final String BasePath = \"C:\\\\imgs\";\n</code></pre>\n\n<p>You can also just use a forwardslash:</p>\n\n<pre><code>private static final String BasePath = \"C:/imgs\";\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1198039,"reputation":10944,"user_id":1169349,"display_name":"Reg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672733538,"creation_date":1436437925,"answer_id":31314874,"question_id":31314824,"body_markdown":"You need to change \r\n\r\n    private static final String BasePath =&quot;C:\\imgs&quot;\r\n\r\nto\r\n\r\n    private static final String BasePath =&quot;C:\\\\imgs&quot;\r\n\r\nThe single \\ is an escape character and is causing an issue &quot;Invalid escape character&quot;, this is because \\i is expected to be an escape literal. (Which, luckily, it is not.) \\\\\\ Is the valid escape literal for a single \\\\, and thus it solves the problem.\r\n\r\n\r\nContinuing with the problem scenario, If you had, for example \r\n\r\n     String path = &quot;c:\\noproblem&quot;;\r\n\r\nThen there is no issue compiling since \\n is a valid escape character. (But it will cause other issues nonetheless.) \r\n\r\nBut what is even better, use the `File.separator` \r\n\r\nFrom the [Java Documentation][1] \r\n\r\n&gt; The default name-separator character is defined by the system property\r\n&gt; file.separator, and is made available in the public static fields\r\n&gt; separator and separatorChar of this class. When a pathname string is\r\n&gt; converted into an abstract pathname, the names within it may be\r\n&gt; separated by the default name-separator character or by any other\r\n&gt; name-separator character that is supported by the underlying system.\r\n\r\nThus - it will change the use the seperator requiered by the Operating System.\r\n\r\n\r\n\r\n\r\nHave a look at [How to construct a file path in java][2]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/io/File.html\r\n  [2]: http://www.mkyong.com/java/how-to-construct-a-file-path-in-java/","title":"Saving path in String","body":"<p>You need to change</p>\n<pre><code>private static final String BasePath =&quot;C:\\imgs&quot;\n</code></pre>\n<p>to</p>\n<pre><code>private static final String BasePath =&quot;C:\\\\imgs&quot;\n</code></pre>\n<p>The single \\ is an escape character and is causing an issue &quot;Invalid escape character&quot;, this is because \\i is expected to be an escape literal. (Which, luckily, it is not.) \\\\ Is the valid escape literal for a single \\, and thus it solves the problem.</p>\n<p>Continuing with the problem scenario, If you had, for example</p>\n<pre><code> String path = &quot;c:\\noproblem&quot;;\n</code></pre>\n<p>Then there is no issue compiling since \\n is a valid escape character. (But it will cause other issues nonetheless.)</p>\n<p>But what is even better, use the <code>File.separator</code></p>\n<p>From the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/File.html\" rel=\"nofollow noreferrer\">Java Documentation</a></p>\n<blockquote>\n<p>The default name-separator character is defined by the system property\nfile.separator, and is made available in the public static fields\nseparator and separatorChar of this class. When a pathname string is\nconverted into an abstract pathname, the names within it may be\nseparated by the default name-separator character or by any other\nname-separator character that is supported by the underlying system.</p>\n</blockquote>\n<p>Thus - it will change the use the seperator requiered by the Operating System.</p>\n<p>Have a look at <a href=\"http://www.mkyong.com/java/how-to-construct-a-file-path-in-java/\" rel=\"nofollow noreferrer\">How to construct a file path in java</a></p>\n"},{"tags":[],"owner":{"account_id":1344625,"reputation":3248,"user_id":1285615,"accept_rate":55,"display_name":"sakthisundar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1436438322,"creation_date":1436438322,"answer_id":31315002,"question_id":31314824,"body_markdown":"Your thing should work when you use\r\n\r\n    private static final String BasePath = &quot;C:\\\\imgs&quot;;\r\n\r\nNote:\r\n\r\nAlthough you can still use forward slash for this to work, I would suggest you to use for File.separator in order to make it clear. ","title":"Saving path in String","body":"<p>Your thing should work when you use</p>\n\n<pre><code>private static final String BasePath = \"C:\\\\imgs\";\n</code></pre>\n\n<p>Note:</p>\n\n<p>Although you can still use forward slash for this to work, I would suggest you to use for File.separator in order to make it clear. </p>\n"},{"tags":[],"owner":{"account_id":1986016,"reputation":3436,"user_id":1781222,"accept_rate":71,"display_name":"TheCodingFrog"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1436438380,"creation_date":1436438380,"answer_id":31315031,"question_id":31314824,"body_markdown":"You can use `File.separator` and then you don&#39;t have to worry about platform specific path separators. e.g. below\r\n\r\n    private static final String BASE_PATH = &quot;C:&quot; + File.separator + &quot;imgs&quot;;\r\n\r\nMore detail can be found [here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5971964/file-separator-or-file-pathseparator","title":"Saving path in String","body":"<p>You can use <code>File.separator</code> and then you don't have to worry about platform specific path separators. e.g. below</p>\n\n<pre><code>private static final String BASE_PATH = \"C:\" + File.separator + \"imgs\";\n</code></pre>\n\n<p>More detail can be found <a href=\"https://stackoverflow.com/questions/5971964/file-separator-or-file-pathseparator\">here</a></p>\n"}],"owner":{"account_id":6068657,"reputation":6044,"user_id":4738175,"accept_rate":56,"display_name":"OBX"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1665,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":31314865,"answer_count":4,"score":0,"last_activity_date":1672733538,"creation_date":1436437786,"question_id":31314824,"body_markdown":"    private static final String BasePath = &quot;/home/rafael/pesquisa/ImageSimilarity&quot;;\r\n\r\nI am working on an Image comparison program and I have found this line of code from somewhere. However in the above case, the path is set for a linux system and as a Windows user, I want to set my path for windows device. So I changed the path to\r\n\r\n    private static final String BasePath =&quot;C:\\imgs&quot;\r\n\r\nHowever it seems an error and I guess it is with the forward slash and the backward slash. How do I set path string in my case? Any help will be appreciated.","title":"Saving path in String","body":"<pre><code>private static final String BasePath = \"/home/rafael/pesquisa/ImageSimilarity\";\n</code></pre>\n\n<p>I am working on an Image comparison program and I have found this line of code from somewhere. However in the above case, the path is set for a linux system and as a Windows user, I want to set my path for windows device. So I changed the path to</p>\n\n<pre><code>private static final String BasePath =\"C:\\imgs\"\n</code></pre>\n\n<p>However it seems an error and I guess it is with the forward slash and the backward slash. How do I set path string in my case? Any help will be appreciated.</p>\n"},{"tags":["java","linux","utf-8","debian"],"comments":[{"owner":{"account_id":2247970,"reputation":7110,"user_id":1980909,"accept_rate":100,"display_name":"Adrian Leonhard"},"score":0,"creation_date":1424358467,"post_id":28609321,"comment_id":45523218,"body_markdown":"First figure out if the problem is with the command prompt or your program -- can you create and display a file with japanese characters directly from the command prompt? Or are there already other files which are displayed correctly?","body":"First figure out if the problem is with the command prompt or your program -- can you create and display a file with japanese characters directly from the command prompt? Or are there already other files which are displayed correctly?"},{"owner":{"account_id":1427805,"reputation":67630,"user_id":1350899,"display_name":"mata"},"score":0,"creation_date":1424360292,"post_id":28609321,"comment_id":45524545,"body_markdown":"The encoding specified for input/output stream does not affect the file name. Are your sure your source file encoding is UTF8 and the compiler uses the same encoding? You can avoid problems with that if you use unicode escape syntax instead: `&quot;\\u30cd\\u30c3\\u30c8\\u30ef\\u30fc\\u30ad\\u30f3\\u30b0.xml&quot;`","body":"The encoding specified for input/output stream does not affect the file name. Are your sure your source file encoding is UTF8 and the compiler uses the same encoding? You can avoid problems with that if you use unicode escape syntax instead: <code>&quot;\\u30cd\\u30c3\\u30c8\\u30ef\\u30fc\\u30ad\\u30f3\\u30b0.xml&quot;</code>"},{"owner":{"account_id":3640899,"reputation":69,"user_id":3035001,"display_name":"Pheonix"},"score":0,"creation_date":1424408351,"post_id":28609321,"comment_id":45545863,"body_markdown":"yes mata, file is a xml file and i am using\n &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;  \nand file name is dynamically coming it can be anything","body":"yes mata, file is a xml file and i am using  &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;   and file name is dynamically coming it can be anything"},{"owner":{"account_id":3640899,"reputation":69,"user_id":3035001,"display_name":"Pheonix"},"score":0,"creation_date":1424409807,"post_id":28609321,"comment_id":45546264,"body_markdown":"Hi Adrian, \nI tried to upload file via bitwise (SSH client) than it display character right but when i try to list that file on Debian console it is showing garbage characters( file name).\nIt can be my console problem too but I am not sure.","body":"Hi Adrian,  I tried to upload file via bitwise (SSH client) than it display character right but when i try to list that file on Debian console it is showing garbage characters( file name). It can be my console problem too but I am not sure."},{"owner":{"account_id":1197729,"reputation":29300,"user_id":1169096,"accept_rate":68,"display_name":"uml&#228;ute"},"score":0,"creation_date":1424616085,"post_id":28609321,"comment_id":45613772,"body_markdown":"what is the filesystem you writing to?","body":"what is the filesystem you writing to?"},{"owner":{"account_id":4570150,"reputation":2257,"user_id":3710044,"display_name":"user3710044"},"score":0,"creation_date":1424705846,"post_id":28609321,"comment_id":45647835,"body_markdown":"Linux filesystem isn&#39;t relevant, to them the filename is just a list of bytes. At your linux prompt type &quot;locale charmap&quot; -- you want this to be UTF-8. How are you getting your file from Windows to Linux ?","body":"Linux filesystem isn&#39;t relevant, to them the filename is just a list of bytes. At your linux prompt type &quot;locale charmap&quot; -- you want this to be UTF-8. How are you getting your file from Windows to Linux ?"},{"owner":{"account_id":3640899,"reputation":69,"user_id":3035001,"display_name":"Pheonix"},"score":0,"creation_date":1424795912,"post_id":28609321,"comment_id":45692609,"body_markdown":"hi user3710044\n i am getting UTF-8 and i am getting correct file name and file path till point i am writing it to the linux system but just after creating file, File name is garbage","body":"hi user3710044  i am getting UTF-8 and i am getting correct file name and file path till point i am writing it to the linux system but just after creating file, File name is garbage"}],"owner":{"account_id":3640899,"reputation":69,"user_id":3035001,"display_name":"Pheonix"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1156,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1672733523,"creation_date":1424357301,"question_id":28609321,"body_markdown":"I have a file with Japanese characters in its name, which I am uploading from windows to Debian (Linux) using this line of code:\r\n\r\n    file.write( new File( &quot;/storing/path/&quot;, &quot;ネットワーキング.xml&quot; ) );\r\n\r\nWhen I check the file through command prompt in Debian (Linux), it is stored as\r\n\r\n    &quot;???????????.xml&quot;\r\n\r\nI tried different approaches but nothing works till now -  \r\n\r\n1) using `BufferedReader`:  \r\n\r\n   \r\n\r\n     BufferedReader reader = new BufferedReader(\r\n            new InputStreamReader( file.getStream() , &quot;UTF-8&quot;) );\r\n        \r\n    BufferedWriter writer = new BufferedWriter(\r\n            new OutputStreamWriter(\r\n                    new FileOutputStream(\r\n                            new File( &quot;/storing/path/&quot;, &quot;ネットワーキング.xml&quot; )), &quot;UTF-8&quot;));\r\n\r\n2) followed this link http://okomestudio.net/biboroku/?p=1834\r\n to try to add locale in Debian:\r\n\r\n    a) $ sudo aptitude install locales im-config\r\n    b) $ sudo dpkg-reconfigure locales -&gt; added en_US.UTF-8 and ja_JP.UTF-8\r\n    c) Set the default locale for the system to en_US.UTF-8. \r\n    d) Install some Japanese fonts:\r\n    e) $ sudo aptitude install ttf-kochi-mincho ttf-kochi-gothic ttf-sazanami-mincho\r\n\r\nThen tried with only ja_JP.UTF-8 locale\r\n\r\nWhat am I doing wrong, and where?\r\n\r\nThanks in advance.\r\n","title":"Japanese file name is storing in garbage characters","body":"<p>I have a file with Japanese characters in its name, which I am uploading from windows to Debian (Linux) using this line of code:</p>\n\n<pre><code>file.write( new File( \"/storing/path/\", \"ネットワーキング.xml\" ) );\n</code></pre>\n\n<p>When I check the file through command prompt in Debian (Linux), it is stored as</p>\n\n<pre><code>\"???????????.xml\"\n</code></pre>\n\n<p>I tried different approaches but nothing works till now -  </p>\n\n<p>1) using <code>BufferedReader</code>:  </p>\n\n<pre><code> BufferedReader reader = new BufferedReader(\n        new InputStreamReader( file.getStream() , \"UTF-8\") );\n\nBufferedWriter writer = new BufferedWriter(\n        new OutputStreamWriter(\n                new FileOutputStream(\n                        new File( \"/storing/path/\", \"ネットワーキング.xml\" )), \"UTF-8\"));\n</code></pre>\n\n<p>2) followed this link <a href=\"http://okomestudio.net/biboroku/?p=1834\" rel=\"nofollow\">http://okomestudio.net/biboroku/?p=1834</a>\n to try to add locale in Debian:</p>\n\n<pre><code>a) $ sudo aptitude install locales im-config\nb) $ sudo dpkg-reconfigure locales -&gt; added en_US.UTF-8 and ja_JP.UTF-8\nc) Set the default locale for the system to en_US.UTF-8. \nd) Install some Japanese fonts:\ne) $ sudo aptitude install ttf-kochi-mincho ttf-kochi-gothic ttf-sazanami-mincho\n</code></pre>\n\n<p>Then tried with only ja_JP.UTF-8 locale</p>\n\n<p>What am I doing wrong, and where?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","concurrency","concurrenthashmap","java-17"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1672006042,"post_id":74916107,"comment_id":132207199,"body_markdown":"Why not just put whatever is in the body of your if in the lambda?","body":"Why not just put whatever is in the body of your if in the lambda?"},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1672006224,"post_id":74916107,"comment_id":132207224,"body_markdown":"@tgdavies the chain of actions that has to be triggered based on that would be huge, unfortunately :(","body":"@tgdavies the chain of actions that has to be triggered based on that would be huge, unfortunately :("},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1672006624,"post_id":74916107,"comment_id":132207289,"body_markdown":"So it&#39;s OK for other threads to use the result of the lambda before the if statement has executed?","body":"So it&#39;s OK for other threads to use the result of the lambda before the if statement has executed?"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1672006986,"post_id":74916107,"comment_id":132207355,"body_markdown":"First time loaded or first time accessed? Because &quot;first time loaded&quot; is exactly when the lambda is executed","body":"First time loaded or first time accessed? Because &quot;first time loaded&quot; is exactly when the lambda is executed"},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1672007229,"post_id":74916107,"comment_id":132207398,"body_markdown":"@tgdavies yes. I only want to take an action on the first insert into the cache, I don&#39;t care if other threads use the existing already in the cache mapping, even before I execute the &quot;if&quot; statement. To simplify, let&#39;s say I want to be able to log: a) &quot;Entry coming from Cache&quot; b) &quot;Entry inserted first time in the cache&quot;.","body":"@tgdavies yes. I only want to take an action on the first insert into the cache, I don&#39;t care if other threads use the existing already in the cache mapping, even before I execute the &quot;if&quot; statement. To simplify, let&#39;s say I want to be able to log: a) &quot;Entry coming from Cache&quot; b) &quot;Entry inserted first time in the cache&quot;."},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1672007692,"post_id":74916107,"comment_id":132207442,"body_markdown":"@knittl &quot;loaded&quot;. how would I tell the difference then, between first time loaded vs != of that?","body":"@knittl &quot;loaded&quot;. how would I tell the difference then, between first time loaded vs != of that?"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1672007819,"post_id":74916107,"comment_id":132207461,"body_markdown":"@Eugene the lambda is only executed if the key is not present in the map. If the value is already cached and returned from the cache, the lambda is not executed. Maybe I&#39;m misunderstanding your question.","body":"@Eugene the lambda is only executed if the key is not present in the map. If the value is already cached and returned from the cache, the lambda is not executed. Maybe I&#39;m misunderstanding your question."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1672007828,"post_id":74916107,"comment_id":132207462,"body_markdown":"3 space indentation??","body":"3 space indentation??"},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1672007888,"post_id":74916107,"comment_id":132207466,"body_markdown":"@shmosel I did not even notice :) not on purpose","body":"@shmosel I did not even notice :) not on purpose"},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1672008044,"post_id":74916107,"comment_id":132207493,"body_markdown":"@knittl I edited slightly, added an `else`. Does it make more sense now?","body":"@knittl I edited slightly, added an <code>else</code>. Does it make more sense now?"},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":0,"creation_date":1672011629,"post_id":74916107,"comment_id":132207891,"body_markdown":"It is advised not to do expensive operations in lambda passed to `computeIfAbsent`, as it can block other threads ([see doc](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html#computeIfAbsent(K,java.util.function.Function))).","body":"It is advised not to do expensive operations in lambda passed to <code>computeIfAbsent</code>, as it can block other threads (<a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html#computeIfAbsent(K,java.util.function.Function)\" rel=\"nofollow noreferrer\">see doc</a>)."},{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":2,"creation_date":1672039357,"post_id":74916107,"comment_id":132210452,"body_markdown":"Caffeine uses this [approach](https://github.com/ben-manes/caffeine/blob/499b448f46b29da5637754ff495f6200f7bd1f93/caffeine/src/main/java/com/github/benmanes/caffeine/cache/BoundedLocalCache.java#L2591) of a capturing lambda to update a single element array. It isn&#39;t beautiful but simple, obvious, and cheap. This is on the fallback path as typically an optimistic read would find the entry and it avoids the compute methods locking even when present.","body":"Caffeine uses this <a href=\"https://github.com/ben-manes/caffeine/blob/499b448f46b29da5637754ff495f6200f7bd1f93/caffeine/src/main/java/com/github/benmanes/caffeine/cache/BoundedLocalCache.java#L2591\" rel=\"nofollow noreferrer\">approach</a> of a capturing lambda to update a single element array. It isn&#39;t beautiful but simple, obvious, and cheap. This is on the fallback path as typically an optimistic read would find the entry and it avoids the compute methods locking even when present."},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1672335022,"post_id":74916107,"comment_id":132270798,"body_markdown":"@Eugene why not just `do Y` in the start of your method with `computeIfPresent`. Then follow with `do X` with `computeIfAbsent` ?","body":"@Eugene why not just <code>do Y</code> in the start of your method with <code>computeIfPresent</code>. Then follow with <code>do X</code> with <code>computeIfAbsent</code> ?"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672016676,"creation_date":1672016299,"answer_id":74916658,"question_id":74916107,"body_markdown":"I can think of a couple of ways to do this using the `ConcurrentHashMap` API.  Both reply on using a mapping function that has side-effects.  The idea is that the function makes a record of *whether* it was called, or *what arguments* it was called with.\r\n\r\nThe spec for `computeIfAbsent` says that the mapping function is only called if the key is absent.  Alternatively, the spec for `compute` says that the mapping function is called with a `null` argument if the key is argument.  In either case, if you record *what happened* in the mapper function via a side-effect on (say) a field of the mapper function/object, you can determine if the cache entry was already present or not.\r\n\r\nTo make this thread-safe, you need to create a fresh (thread-confined) instance of the mapper function.","title":"ConcurrentHashMap computeIfAbsent tell if first time or not","body":"<p>I can think of a couple of ways to do this using the <code>ConcurrentHashMap</code> API.  Both reply on using a mapping function that has side-effects.  The idea is that the function makes a record of <em>whether</em> it was called, or <em>what arguments</em> it was called with.</p>\n<p>The spec for <code>computeIfAbsent</code> says that the mapping function is only called if the key is absent.  Alternatively, the spec for <code>compute</code> says that the mapping function is called with a <code>null</code> argument if the key is argument.  In either case, if you record <em>what happened</em> in the mapper function via a side-effect on (say) a field of the mapper function/object, you can determine if the cache entry was already present or not.</p>\n<p>To make this thread-safe, you need to create a fresh (thread-confined) instance of the mapper function.</p>\n"},{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1672053381,"creation_date":1672052450,"answer_id":74919640,"question_id":74916107,"body_markdown":"If you want to avoid your single-element array to pass data out of the lambda (which I would rather do with an `AtomicReference` or `AtomicBoolean`), you could use a stateful callback object. It doesn&#39;t change the behavior or design of your code, but could be considered a little bit cleaner and more OOP-y.\r\n\r\n```\r\nclass LoadingAction&lt;K, V&gt; {\r\n  private boolean called = false;\r\n\r\n  public V load(final K key) {\r\n    called = true;\r\n    // load data\r\n    return ...;\r\n  }\r\n\r\n  public void executePostLoad() {\r\n    if (called) {\r\n      // loaded into cache, do X\r\n    } else {\r\n      // do Y\r\n    }\r\n  }\r\n}\r\n\r\nfinal class Cache {\r\n   private static final ConcurrentHashMap&lt;String, List&lt;String&gt;&gt; CACHE = new ConcurrentHashMap&lt;&gt;();\r\n\r\n   static List&lt;String&gt; byName(String name) {\r\n      final LoadingAction&lt;String, List&lt;String&gt;&gt; loader = new LoadingAction&lt;&gt;();\r\n      final List&lt;String&gt; result = CACHE.computeIfAbsent(name, loader::load);\r\n\r\n      loader.executePostLoad();\r\n\r\n      return result;\r\n   }\r\n\r\n}\r\n```\r\n\r\nOr turn it inside-out:\r\n\r\n```\r\nclass Loader&lt;K, V&gt; {\r\n  private boolean called = false;\r\n\r\n  public V load(final Map&lt;K, V&gt; map, final K key) {\r\n    final V result = map.computeIfAbsent(key, this::load);\r\n    this.executePostLoad();\r\n    return result;\r\n  }\r\n\r\n  private V load(final K key) {\r\n    called = true;\r\n    // load data\r\n    return ...;\r\n  }\r\n\r\n  private void executePostLoad() {\r\n    if (called) {\r\n      // loaded into cache, do X\r\n    } else {\r\n      // do Y\r\n    }\r\n  }\r\n}\r\n\r\nfinal class Cache {\r\n   private static final ConcurrentHashMap&lt;String, List&lt;String&gt;&gt; CACHE = new ConcurrentHashMap&lt;&gt;();\r\n\r\n   static List&lt;String&gt; byName(String name) {\r\n      final Loader&lt;String, List&lt;String&gt;&gt; loader = new Loader&lt;&gt;();\r\n      return loader.load(CACHE, name);\r\n   }\r\n\r\n}\r\n```\r\n\r\nConstruction and loading could be encapsulated in a static method:\r\n\r\n\r\n```\r\nclass Loader&lt;K, V&gt; {\r\n  private boolean called = false;\r\n\r\n  public static &lt;K, V&gt; V load(final Map&lt;K, V&gt; map, final K key) {\r\n      final Loader&lt;K, V&gt; loader = new Loader&lt;&gt;();\r\n      return loader.doLoad(map, key);\r\n  }\r\n\r\n  private V doLoad(final Map&lt;K, V&gt; map, final K key) {\r\n    final V result = map.computeIfAbsent(key, this::load);\r\n    this.executePostLoad();\r\n    return result;\r\n  }\r\n\r\n  private V load(final K key) {\r\n    called = true;\r\n    // load data\r\n    return ...;\r\n  }\r\n\r\n  private void executePostLoad() {\r\n    if (called) {\r\n      // loaded into cache, do X\r\n    } else {\r\n      // do Y\r\n    }\r\n  }\r\n}\r\n\r\nfinal class Cache {\r\n   private static final ConcurrentHashMap&lt;String, List&lt;String&gt;&gt; CACHE = new ConcurrentHashMap&lt;&gt;();\r\n\r\n   static List&lt;String&gt; byName(String name) {\r\n      return Loader.load(CACHE, name);\r\n   }\r\n\r\n}\r\n```","title":"ConcurrentHashMap computeIfAbsent tell if first time or not","body":"<p>If you want to avoid your single-element array to pass data out of the lambda (which I would rather do with an <code>AtomicReference</code> or <code>AtomicBoolean</code>), you could use a stateful callback object. It doesn't change the behavior or design of your code, but could be considered a little bit cleaner and more OOP-y.</p>\n<pre><code>class LoadingAction&lt;K, V&gt; {\n  private boolean called = false;\n\n  public V load(final K key) {\n    called = true;\n    // load data\n    return ...;\n  }\n\n  public void executePostLoad() {\n    if (called) {\n      // loaded into cache, do X\n    } else {\n      // do Y\n    }\n  }\n}\n\nfinal class Cache {\n   private static final ConcurrentHashMap&lt;String, List&lt;String&gt;&gt; CACHE = new ConcurrentHashMap&lt;&gt;();\n\n   static List&lt;String&gt; byName(String name) {\n      final LoadingAction&lt;String, List&lt;String&gt;&gt; loader = new LoadingAction&lt;&gt;();\n      final List&lt;String&gt; result = CACHE.computeIfAbsent(name, loader::load);\n\n      loader.executePostLoad();\n\n      return result;\n   }\n\n}\n</code></pre>\n<p>Or turn it inside-out:</p>\n<pre><code>class Loader&lt;K, V&gt; {\n  private boolean called = false;\n\n  public V load(final Map&lt;K, V&gt; map, final K key) {\n    final V result = map.computeIfAbsent(key, this::load);\n    this.executePostLoad();\n    return result;\n  }\n\n  private V load(final K key) {\n    called = true;\n    // load data\n    return ...;\n  }\n\n  private void executePostLoad() {\n    if (called) {\n      // loaded into cache, do X\n    } else {\n      // do Y\n    }\n  }\n}\n\nfinal class Cache {\n   private static final ConcurrentHashMap&lt;String, List&lt;String&gt;&gt; CACHE = new ConcurrentHashMap&lt;&gt;();\n\n   static List&lt;String&gt; byName(String name) {\n      final Loader&lt;String, List&lt;String&gt;&gt; loader = new Loader&lt;&gt;();\n      return loader.load(CACHE, name);\n   }\n\n}\n</code></pre>\n<p>Construction and loading could be encapsulated in a static method:</p>\n<pre><code>class Loader&lt;K, V&gt; {\n  private boolean called = false;\n\n  public static &lt;K, V&gt; V load(final Map&lt;K, V&gt; map, final K key) {\n      final Loader&lt;K, V&gt; loader = new Loader&lt;&gt;();\n      return loader.doLoad(map, key);\n  }\n\n  private V doLoad(final Map&lt;K, V&gt; map, final K key) {\n    final V result = map.computeIfAbsent(key, this::load);\n    this.executePostLoad();\n    return result;\n  }\n\n  private V load(final K key) {\n    called = true;\n    // load data\n    return ...;\n  }\n\n  private void executePostLoad() {\n    if (called) {\n      // loaded into cache, do X\n    } else {\n      // do Y\n    }\n  }\n}\n\nfinal class Cache {\n   private static final ConcurrentHashMap&lt;String, List&lt;String&gt;&gt; CACHE = new ConcurrentHashMap&lt;&gt;();\n\n   static List&lt;String&gt; byName(String name) {\n      return Loader.load(CACHE, name);\n   }\n\n}\n</code></pre>\n"}],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":350,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":74919640,"answer_count":2,"score":8,"last_activity_date":1672733347,"creation_date":1672005834,"question_id":74916107,"body_markdown":"It&#39;s complicated for me to articulate a proper title for this. But an example should make it far simpler. Suppose I have this:\r\n\r\n```\r\nfinal class Cache {\r\n   private static final ConcurrentHashMap&lt;String, List&lt;String&gt;&gt; CACHE = ...\r\n\r\n   static List&lt;String&gt; byName(String name) {\r\n      return CACHE.computeIfAbsent(name, x -&gt; // some expensive operation)\r\n   }\r\n\r\n}\r\n```\r\n\r\nThe idea is probably trivial, this acts as a LoadingCache, much like guava or caffeine (in reality it is more complicated, but that is irrelevant to the question).\r\n\r\nI would like to be able to tell if this was the first load into the CACHE, or it was a read of an existing mapping. Currently, I do this:\r\n\r\n```\r\nfinal class Cache {\r\n   private static final ConcurrentHashMap&lt;String, List&lt;String&gt;&gt; CACHE = ...\r\n\r\n   static List&lt;String&gt; byName(String name) {\r\n      boolean b[] = new boolean[1];\r\n      List&lt;String&gt; result = CACHE.computeIfAbsent(name, x -&gt; {\r\n            b[0] = true;\r\n            // some expensive operation)\r\n      });\r\n\r\n      if(b[0]) {\r\n         // first load into the cache, do X\r\n      } else {\r\n         // do Y\r\n      }\r\n\r\n      return result;\r\n   }\r\n\r\n}\r\n```\r\n\r\nThis works, but I am afraid I am missing something that `ConcurrentHashMap` can offer for me that would allow me to do the same. Thank you. ","title":"ConcurrentHashMap computeIfAbsent tell if first time or not","body":"<p>It's complicated for me to articulate a proper title for this. But an example should make it far simpler. Suppose I have this:</p>\n<pre><code>final class Cache {\n   private static final ConcurrentHashMap&lt;String, List&lt;String&gt;&gt; CACHE = ...\n\n   static List&lt;String&gt; byName(String name) {\n      return CACHE.computeIfAbsent(name, x -&gt; // some expensive operation)\n   }\n\n}\n</code></pre>\n<p>The idea is probably trivial, this acts as a LoadingCache, much like guava or caffeine (in reality it is more complicated, but that is irrelevant to the question).</p>\n<p>I would like to be able to tell if this was the first load into the CACHE, or it was a read of an existing mapping. Currently, I do this:</p>\n<pre><code>final class Cache {\n   private static final ConcurrentHashMap&lt;String, List&lt;String&gt;&gt; CACHE = ...\n\n   static List&lt;String&gt; byName(String name) {\n      boolean b[] = new boolean[1];\n      List&lt;String&gt; result = CACHE.computeIfAbsent(name, x -&gt; {\n            b[0] = true;\n            // some expensive operation)\n      });\n\n      if(b[0]) {\n         // first load into the cache, do X\n      } else {\n         // do Y\n      }\n\n      return result;\n   }\n\n}\n</code></pre>\n<p>This works, but I am afraid I am missing something that <code>ConcurrentHashMap</code> can offer for me that would allow me to do the same. Thank you.</p>\n"},{"tags":["java","sql","spring-data-jpa"],"comments":[{"owner":{"account_id":9609012,"reputation":4037,"user_id":7134058,"display_name":"Vadim"},"score":0,"creation_date":1649278068,"post_id":71760856,"comment_id":126838481,"body_markdown":"H-m-m... perhaps you may try to use Set&lt;String&gt; built from Tags getTagName()?","body":"H-m-m... perhaps you may try to use Set&lt;String&gt; built from Tags getTagName()?"},{"owner":{"account_id":24385909,"reputation":198,"user_id":18316696,"display_name":"CM K"},"score":0,"creation_date":1649304117,"post_id":71760856,"comment_id":126843082,"body_markdown":"That&#39;s a good alternative but I would prefer using Tags if possible. And while we&#39;re on the topic of Sets, is it possible for a url parameter to accept a collection of objects? I&#39;m getting this new error: `Parameter value [] did not match expected type [java.util.Set (n/a)];`","body":"That&#39;s a good alternative but I would prefer using Tags if possible. And while we&#39;re on the topic of Sets, is it possible for a url parameter to accept a collection of objects? I&#39;m getting this new error: <code>Parameter value [] did not match expected type [java.util.Set (n&#47;a)];</code>"},{"owner":{"account_id":24385909,"reputation":198,"user_id":18316696,"display_name":"CM K"},"score":0,"creation_date":1649305261,"post_id":71760856,"comment_id":126843267,"body_markdown":"If I were to use a Set of Strings, how would you suggest I build the query?","body":"If I were to use a Set of Strings, how would you suggest I build the query?"},{"owner":{"account_id":9609012,"reputation":4037,"user_id":7134058,"display_name":"Vadim"},"score":0,"creation_date":1649343236,"post_id":71760856,"comment_id":126856489,"body_markdown":"maybe something like that? https://stackoverflow.com/questions/13512109/set-array-of-parameters-to-hibernate-query-language","body":"maybe something like that? <a href=\"https://stackoverflow.com/questions/13512109/set-array-of-parameters-to-hibernate-query-language\" title=\"set array of parameters to hibernate query language\">stackoverflow.com/questions/13512109/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":24385909,"reputation":198,"user_id":18316696,"display_name":"CM K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649989178,"creation_date":1649989178,"answer_id":71879409,"question_id":71760856,"body_markdown":"```\r\n    public static Specification&lt;Product&gt; withTags(Set&lt;Tags&gt; tags) {\r\n        return tags.isEmpty() ?\r\n                null:\r\n                (root, query, criteriaBuilder) -&gt; {\r\n                    Subquery&lt;Tags&gt; subquery = query.subquery(Tags.class);\r\n                    Root&lt;Product&gt; subroot = subquery.from(Product.class);\r\n\r\n                    subquery.select(subroot.get(&quot;id&quot;)).where(subroot.join(&quot;tags&quot;).in(tags));\r\n                    Predicate predicate = root.get(&quot;id&quot;).in(subquery);\r\n\r\n                    return criteriaBuilder.and(predicate);\r\n        };\r\n```\r\n\r\nI seemed to have found an answer. `Tags.class` works apparently, and from there I just had to tweak my query to be a join select. Not what I initially hoped to accomplish, but it works.","title":"Building a dynamic select query using Spring Data Specification","body":"<pre><code>    public static Specification&lt;Product&gt; withTags(Set&lt;Tags&gt; tags) {\n        return tags.isEmpty() ?\n                null:\n                (root, query, criteriaBuilder) -&gt; {\n                    Subquery&lt;Tags&gt; subquery = query.subquery(Tags.class);\n                    Root&lt;Product&gt; subroot = subquery.from(Product.class);\n\n                    subquery.select(subroot.get(&quot;id&quot;)).where(subroot.join(&quot;tags&quot;).in(tags));\n                    Predicate predicate = root.get(&quot;id&quot;).in(subquery);\n\n                    return criteriaBuilder.and(predicate);\n        };\n</code></pre>\n<p>I seemed to have found an answer. <code>Tags.class</code> works apparently, and from there I just had to tweak my query to be a join select. Not what I initially hoped to accomplish, but it works.</p>\n"}],"owner":{"account_id":24385909,"reputation":198,"user_id":18316696,"display_name":"CM K"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":774,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1672732774,"creation_date":1649217024,"question_id":71760856,"body_markdown":"I&#39;m trying to build a select query with Spring Data Specification. The query in question is the following:\r\n\r\n```SELECT * FROM product WHERE id IN (SELECT product_id FROM product_tags WHERE tags IN (&#39;GRADUATION&#39;, &#39;BIRTHDAY&#39;));```\r\n\r\nThe user is supposed to provide a set of tags to be matched with the `IN` operator in the subquery, BIRTHDAY and GRADUATION are some examples. I&#39;ve tried building my solution off [this][1] answer but ran into some trouble.\r\n\r\n```java\r\n    public static Specification&lt;Product&gt; withTags(Set&lt;Tags&gt; tags) {\r\n        return tags == null ?\r\n                null :\r\n                (root, query, criteriaBuilder) -&gt; {\r\n                    List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n                    Subquery&lt;Tags&gt; subquery = query.subquery(Tags.class);\r\n\r\n                    Root&lt;Tags&gt; subqueryRoot = subquery.from(Tags.class);\r\n                    subquery.select(subqueryRoot.get(&quot;product_tags&quot;)\r\n                        .get(&quot;product_id&quot;));\r\n                    subquery.where(criteriaBuilder.trim(subqueryRoot.get(&quot;product&quot;)\r\n                        .get(&quot;id&quot;)).in(tags));\r\n\r\n                    predicates.add(subqueryRoot.get(&quot;*&quot;).in(subquery));\r\n                    return criteriaBuilder.and(predicates.toArray(new Predicate[0]));\r\n\r\n                };\r\n    }\r\n```\r\n\r\nThe problem here is that I&#39;m trying to create a subquery from `Tags` which is not registered as an entity but it is rather an enum. Thus, executing the code gives me an error (This is the only error I&#39;ve encountered so far, please point out parts of the code that may potentially cause other errors).\r\n\r\n```java\r\npublic enum Tags {\r\n\r\n    BIRTHDAY(&quot;birthday&quot;),\r\n    GRADUATION(&quot;graduation&quot;),\r\n    GET_WELL_SOON(&quot;get well soon&quot;),\r\n    RIBBON(&quot;ribbon&quot;),\r\n    WRAPPING_PAPER(&quot;wrapping paper&quot;);\r\n\r\n    final String tagName;\r\n\r\n    private Tags(String tagName) {\r\n        this.tagName = tagName;\r\n    }\r\n\r\n    public String getTagName() {\r\n        return tagName;\r\n    }\r\n}\r\n```\r\n\r\nNot sure if this will help, but in the `Product` class there is a field `tags` denoted with `@ElementCollection`. Spring automatically creates a table named &#39;product_tags&#39; with this, and the subquery selects from this table.\r\n\r\n```\r\n    @ElementCollection(fetch = FetchType.EAGER)\r\n    @Enumerated(EnumType.STRING)\r\n    private Set&lt;Tags&gt; tags;\r\n```\r\n\r\nIf possible, I would like to translate this query instead of the first one\r\n\r\n```SELECT * FROM product WHERE id IN (SELECT product_id FROM product_tags WHERE tags = ANY(ARRAY[&#39;GRADUATION&#39;, &#39;GET_WELL_SOON&#39;]));```\r\n\r\n**UPDATE**\r\n\r\nI have edited my code\r\n\r\n```java\r\n    public static Specification&lt;Product&gt; withTags(Set&lt;Tags&gt; tags) {\r\n        return tags == null ?\r\n                null :\r\n                (root, query, criteriaBuilder) -&gt; {\r\n\r\n            List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n            Subquery&lt;Long&gt; subquery = query.subquery(Long.class);\r\n            Root&lt;Product&gt; subroot = subquery.from(Product.class);\r\n\r\n            subquery.select(subroot.get(&quot;id&quot;).get(&quot;tags&quot;));\r\n\r\n            subquery.where(criteriaBuilder.trim(subroot.join(&quot;tags&quot;)\r\n                .get(&quot;id&quot;)).in(tags));\r\n\r\n            predicates.add(root.get(&quot;id&quot;).in(subquery));\r\n\r\n            return criteriaBuilder.and(predicates.toArray(new Predicate[0]));\r\n        };\r\n    }\r\n```\r\n\r\nBut now I&#39;m getting this error\r\n\r\n```\r\njava.lang.IllegalStateException: Illegal attempt to dereference path source [null.id] of basic type\r\n```\r\n\r\nFor reference, my tables are defined as such\r\n\r\nproduct:\r\n```\r\n   Column    |          Type          | Collation | Nullable | Default\r\n-------------+------------------------+-----------+----------+---------\r\n id          | bigint                 |           | not null |\r\n category    | character varying(255) |           |          |\r\n date_added  | date                   |           |          |\r\n description | character varying(255) |           |          |\r\n name        | character varying(255) |           |          |\r\n price       | double precision       |           | not null |\r\n```\r\n\r\nproduct_tags:\r\n```\r\n   Column   |          Type          | Collation | Nullable | Default\r\n------------+------------------------+-----------+----------+---------\r\n product_id | bigint                 |           | not null |\r\n tags       | character varying(255) |           |          |\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/57285371/18316696","title":"Building a dynamic select query using Spring Data Specification","body":"<p>I'm trying to build a select query with Spring Data Specification. The query in question is the following:</p>\n<p><code>SELECT * FROM product WHERE id IN (SELECT product_id FROM product_tags WHERE tags IN ('GRADUATION', 'BIRTHDAY'));</code></p>\n<p>The user is supposed to provide a set of tags to be matched with the <code>IN</code> operator in the subquery, BIRTHDAY and GRADUATION are some examples. I've tried building my solution off <a href=\"https://stackoverflow.com/a/57285371/18316696\">this</a> answer but ran into some trouble.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static Specification&lt;Product&gt; withTags(Set&lt;Tags&gt; tags) {\n        return tags == null ?\n                null :\n                (root, query, criteriaBuilder) -&gt; {\n                    List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\n                    Subquery&lt;Tags&gt; subquery = query.subquery(Tags.class);\n\n                    Root&lt;Tags&gt; subqueryRoot = subquery.from(Tags.class);\n                    subquery.select(subqueryRoot.get(&quot;product_tags&quot;)\n                        .get(&quot;product_id&quot;));\n                    subquery.where(criteriaBuilder.trim(subqueryRoot.get(&quot;product&quot;)\n                        .get(&quot;id&quot;)).in(tags));\n\n                    predicates.add(subqueryRoot.get(&quot;*&quot;).in(subquery));\n                    return criteriaBuilder.and(predicates.toArray(new Predicate[0]));\n\n                };\n    }\n</code></pre>\n<p>The problem here is that I'm trying to create a subquery from <code>Tags</code> which is not registered as an entity but it is rather an enum. Thus, executing the code gives me an error (This is the only error I've encountered so far, please point out parts of the code that may potentially cause other errors).</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum Tags {\n\n    BIRTHDAY(&quot;birthday&quot;),\n    GRADUATION(&quot;graduation&quot;),\n    GET_WELL_SOON(&quot;get well soon&quot;),\n    RIBBON(&quot;ribbon&quot;),\n    WRAPPING_PAPER(&quot;wrapping paper&quot;);\n\n    final String tagName;\n\n    private Tags(String tagName) {\n        this.tagName = tagName;\n    }\n\n    public String getTagName() {\n        return tagName;\n    }\n}\n</code></pre>\n<p>Not sure if this will help, but in the <code>Product</code> class there is a field <code>tags</code> denoted with <code>@ElementCollection</code>. Spring automatically creates a table named 'product_tags' with this, and the subquery selects from this table.</p>\n<pre><code>    @ElementCollection(fetch = FetchType.EAGER)\n    @Enumerated(EnumType.STRING)\n    private Set&lt;Tags&gt; tags;\n</code></pre>\n<p>If possible, I would like to translate this query instead of the first one</p>\n<p><code>SELECT * FROM product WHERE id IN (SELECT product_id FROM product_tags WHERE tags = ANY(ARRAY['GRADUATION', 'GET_WELL_SOON']));</code></p>\n<p><strong>UPDATE</strong></p>\n<p>I have edited my code</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static Specification&lt;Product&gt; withTags(Set&lt;Tags&gt; tags) {\n        return tags == null ?\n                null :\n                (root, query, criteriaBuilder) -&gt; {\n\n            List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\n            Subquery&lt;Long&gt; subquery = query.subquery(Long.class);\n            Root&lt;Product&gt; subroot = subquery.from(Product.class);\n\n            subquery.select(subroot.get(&quot;id&quot;).get(&quot;tags&quot;));\n\n            subquery.where(criteriaBuilder.trim(subroot.join(&quot;tags&quot;)\n                .get(&quot;id&quot;)).in(tags));\n\n            predicates.add(root.get(&quot;id&quot;).in(subquery));\n\n            return criteriaBuilder.and(predicates.toArray(new Predicate[0]));\n        };\n    }\n</code></pre>\n<p>But now I'm getting this error</p>\n<pre><code>java.lang.IllegalStateException: Illegal attempt to dereference path source [null.id] of basic type\n</code></pre>\n<p>For reference, my tables are defined as such</p>\n<p>product:</p>\n<pre><code>   Column    |          Type          | Collation | Nullable | Default\n-------------+------------------------+-----------+----------+---------\n id          | bigint                 |           | not null |\n category    | character varying(255) |           |          |\n date_added  | date                   |           |          |\n description | character varying(255) |           |          |\n name        | character varying(255) |           |          |\n price       | double precision       |           | not null |\n</code></pre>\n<p>product_tags:</p>\n<pre><code>   Column   |          Type          | Collation | Nullable | Default\n------------+------------------------+-----------+----------+---------\n product_id | bigint                 |           | not null |\n tags       | character varying(255) |           |          |\n</code></pre>\n"},{"tags":["java","spring-boot","tomcat","https","saml-2.0"],"owner":{"account_id":10253299,"reputation":9,"user_id":7566795,"display_name":"Pragati Pathak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672732193,"creation_date":1672732193,"question_id":74990391,"body_markdown":"Created a web application with saml2 with the custom provider.It worked fine with http urls.But when deployed with https,it is giving the error of Invalid Credentails on url login/saml2/sso/{registration-id}.\r\n\r\nThis is the metadata that is being configured on IDP&#39;s side\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;EntityDescriptor xmlns=&quot;urn:oasis:names:tc:SAML:2.0:metadata&quot; entityID=&quot;https://&lt;uri:pport&gt;/{registration-id}&quot;&gt;\r\n   &lt;md:SPSSODescriptor xmlns:md=&quot;urn:oasis:names:tc:SAML:2.0:metadata&quot; WantAssertionsSigned=&quot;true&quot; protocolSupportEnumeration=&quot;urn:oasis:names:tc:SAML:2.0:protocol&quot;&gt;\r\n      &lt;md:AssertionConsumerService Binding=&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST&quot; Location=&quot;http://&lt;uri:port&gt;/login/saml2/sso/{registration-id}&quot; index=&quot;1&quot;/&gt;\r\n   &lt;/md:SPSSODescriptor&gt;\r\n&lt;/EntityDescriptor&gt;\r\n\r\n```\r\nUsing all the default properties to create a RelyingPartyRegistrationRepository.\r\n\r\n\r\n```\r\n@Override\r\n\tprotected void configure(HttpSecurity https) throws Exception {\r\n\t\t\r\n\t\ttry {\r\n\t\t\thttps.authorizeRequests(authorize -&gt; authorize.requestMatchers().anonymous().antMatchers(&quot;/&quot;).authenticated())\r\n\t\t\t.saml2Login();\r\n\r\n\t\tConverter&lt;HttpServletRequest, RelyingPartyRegistration&gt; relyingPartyRegistrationResolver = new DefaultRelyingPartyRegistrationResolver(\r\n\t\t\t\trelyingPartyRegistrationRepository);\r\n\t\t\r\n\t\thttps.addFilterBefore(filter, Saml2WebSsoAuthenticationFilter.class);\r\n\t}\r\n\t\tcatch(Exception ex) {\r\n\t\t\tex.printStackTrace();\r\n\t\t}\r\n\t}\r\n```\r\n\r\n\r\n\r\nIt should go the landing page","title":"Saml2 With Spring boot Error Invalid Credentail","body":"<p>Created a web application with saml2 with the custom provider.It worked fine with http urls.But when deployed with https,it is giving the error of Invalid Credentails on url login/saml2/sso/{registration-id}.</p>\n<p>This is the metadata that is being configured on IDP's side</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;EntityDescriptor xmlns=&quot;urn:oasis:names:tc:SAML:2.0:metadata&quot; entityID=&quot;https://&lt;uri:pport&gt;/{registration-id}&quot;&gt;\n   &lt;md:SPSSODescriptor xmlns:md=&quot;urn:oasis:names:tc:SAML:2.0:metadata&quot; WantAssertionsSigned=&quot;true&quot; protocolSupportEnumeration=&quot;urn:oasis:names:tc:SAML:2.0:protocol&quot;&gt;\n      &lt;md:AssertionConsumerService Binding=&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST&quot; Location=&quot;http://&lt;uri:port&gt;/login/saml2/sso/{registration-id}&quot; index=&quot;1&quot;/&gt;\n   &lt;/md:SPSSODescriptor&gt;\n&lt;/EntityDescriptor&gt;\n\n</code></pre>\n<p>Using all the default properties to create a RelyingPartyRegistrationRepository.</p>\n<pre><code>@Override\n    protected void configure(HttpSecurity https) throws Exception {\n        \n        try {\n            https.authorizeRequests(authorize -&gt; authorize.requestMatchers().anonymous().antMatchers(&quot;/&quot;).authenticated())\n            .saml2Login();\n\n        Converter&lt;HttpServletRequest, RelyingPartyRegistration&gt; relyingPartyRegistrationResolver = new DefaultRelyingPartyRegistrationResolver(\n                relyingPartyRegistrationRepository);\n        \n        https.addFilterBefore(filter, Saml2WebSsoAuthenticationFilter.class);\n    }\n        catch(Exception ex) {\n            ex.printStackTrace();\n        }\n    }\n</code></pre>\n<p>It should go the landing page</p>\n"},{"tags":["java","eclipse","swt","eclipse-rcp","rcp"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":2,"creation_date":1672731594,"post_id":74989814,"comment_id":132335400,"body_markdown":"The default Text context menu is generated by the operating system (on macOS at least) and the paste operation directly modifies the native control only telling SWT afterwards (`textDidChange` event on macOS). You could try defining your own menu on the Text control (but then it might be difficult to add all the menu items in the OS generated menu)","body":"The default Text context menu is generated by the operating system (on macOS at least) and the paste operation directly modifies the native control only telling SWT afterwards (<code>textDidChange</code> event on macOS). You could try defining your own menu on the Text control (but then it might be difficult to add all the menu items in the OS generated menu)"}],"owner":{"account_id":341185,"reputation":16364,"user_id":671639,"accept_rate":69,"display_name":"BetaRide"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672731636,"creation_date":1672728134,"question_id":74989814,"body_markdown":"I have a RCP3 client (with RCP4 compatibility mode) with a text field. I want to write a custom paste handler for (A) CTRL-V and (B) paste via the right click drop down context menu.\r\n\r\nI managed the CTRL-V case (A) by adding a handler for the  event in my plugin.xml:\r\n\r\n       &lt;extension point=&quot;org.eclipse.ui.handlers&quot;&gt;\r\n            &lt;handler class=&quot;xx.yyy.infop.rcp.myperpective.internal.ui.handlers.vm.PasteNummerHandler:paste&quot; commandId=&quot;org.eclipse.ui.edit.paste&quot;&gt;\r\n            &lt;activeWhen&gt;\r\n                &lt;with variable=&quot;activeContexts&quot;&gt;\r\n                    &lt;iterate operator=&quot;or&quot;&gt;\r\n                        &lt;equals value=&quot;ch.sbb.infop.rcp.ui.context&quot;&gt;&lt;/equals&gt;\r\n                    &lt;/iterate&gt;\r\n                &lt;/with&gt;\r\n            &lt;/activeWhen&gt;\r\n            &lt;/handler&gt;\r\n        &lt;/extension&gt;\r\n\r\nBut for paste via drop down (B) this does not have any effect. To me it looks like I don&#39;t have any control in RCP over the this menu. I looks the same as in a lot of other Windows applications. Break points in my `PasteNummerHandler` or in the [`org.eclipse.swt.widgets.Text.paste()`][1] are never hit via the drop down.\r\n\r\nAny ideas how to hook into or overwrite the paste action via drop down?\r\n\r\n\r\n  [1]: https://archive.eclipse.org/eclipse/downloads/documentation/2.0/html/plugins/org.eclipse.platform.doc.isv/reference/api/org/eclipse/swt/widgets/Text.html#paste()","title":"How to write a custom drop down paste handler in a RCP client?","body":"<p>I have a RCP3 client (with RCP4 compatibility mode) with a text field. I want to write a custom paste handler for (A) CTRL-V and (B) paste via the right click drop down context menu.</p>\n<p>I managed the CTRL-V case (A) by adding a handler for the  event in my plugin.xml:</p>\n<pre><code>   &lt;extension point=&quot;org.eclipse.ui.handlers&quot;&gt;\n        &lt;handler class=&quot;xx.yyy.infop.rcp.myperpective.internal.ui.handlers.vm.PasteNummerHandler:paste&quot; commandId=&quot;org.eclipse.ui.edit.paste&quot;&gt;\n        &lt;activeWhen&gt;\n            &lt;with variable=&quot;activeContexts&quot;&gt;\n                &lt;iterate operator=&quot;or&quot;&gt;\n                    &lt;equals value=&quot;ch.sbb.infop.rcp.ui.context&quot;&gt;&lt;/equals&gt;\n                &lt;/iterate&gt;\n            &lt;/with&gt;\n        &lt;/activeWhen&gt;\n        &lt;/handler&gt;\n    &lt;/extension&gt;\n</code></pre>\n<p>But for paste via drop down (B) this does not have any effect. To me it looks like I don't have any control in RCP over the this menu. I looks the same as in a lot of other Windows applications. Break points in my <code>PasteNummerHandler</code> or in the <a href=\"https://archive.eclipse.org/eclipse/downloads/documentation/2.0/html/plugins/org.eclipse.platform.doc.isv/reference/api/org/eclipse/swt/widgets/Text.html#paste()\" rel=\"nofollow noreferrer\"><code>org.eclipse.swt.widgets.Text.paste()</code></a> are never hit via the drop down.</p>\n<p>Any ideas how to hook into or overwrite the paste action via drop down?</p>\n"},{"tags":["java","keycloak","keycloak-services"],"comments":[{"owner":{"account_id":1706859,"reputation":1320,"user_id":1565759,"accept_rate":83,"display_name":"sonOfRa"},"score":0,"creation_date":1672839861,"post_id":74990239,"comment_id":132362998,"body_markdown":"That looks to me like a purely frontend bug. Have you tried fetching the user via the API? If that works, you might want to file an issue against the keycloak admin UI. The # sign is a reserved character in URLs for anchors. If it is supposed to be part of the URL (like in the case of a user URL), it needs to be percent-encoded (%23). The admin console should do this for the links, and if it does not, I would consider that a bug.","body":"That looks to me like a purely frontend bug. Have you tried fetching the user via the API? If that works, you might want to file an issue against the keycloak admin UI. The # sign is a reserved character in URLs for anchors. If it is supposed to be part of the URL (like in the case of a user URL), it needs to be percent-encoded (%23). The admin console should do this for the links, and if it does not, I would consider that a bug."}],"owner":{"account_id":930730,"reputation":2715,"user_id":960662,"accept_rate":82,"display_name":"F. Aydemir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672731257,"creation_date":1672731257,"question_id":74990239,"body_markdown":"I am writing a custom user storage provider for keycloak version 20.0.2, where I use a storage id scheme that has the following format:\r\n\r\n&quot;f:&quot; + component_id + &quot;:&quot; + external_id ==&gt; where external id is in the form **99999#fikayd**\r\n\r\nIn the externalId field, I am supposed to use # sign due to corporate requirements. I am feeding externalId in this format into keycloak in the constructor of my UserAdapter class as follows:  \r\n\r\n      public KeycloakUserAdapter(KeycloakSession session, RealmModel realm, ComponentModel storageProviderModel, IdentityUserInfo user)\r\n        {\r\n            super(session, realm, storageProviderModel);\r\n            //Below line is how I fed my custom EXTERNAL_ID\r\n            //user.getUserName() returns an externalId that \r\n            //containes pound sign like 99999#fikayd \r\n            this.storageId = new StorageId(storageProviderModel.getId(), user.getUserName()); \r\n            this.user = user;            \r\n        }\r\n\r\nHaving the above explain setup, I can successfully get access token from keycloak. Nevertheless, in the admin panel where I list the users, I get the the error that is shown in the below image due to the pound sign (i.e. #) in the externalId field. What would you suggest to overcome this problem that is specified in the error message? Thanks in advance.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/q3UbY.png","title":"Problem in listing Keycloak Users by using own written storage provider that uses # sign in storageIds","body":"<p>I am writing a custom user storage provider for keycloak version 20.0.2, where I use a storage id scheme that has the following format:</p>\n<p>&quot;f:&quot; + component_id + &quot;:&quot; + external_id ==&gt; where external id is in the form <strong>99999#fikayd</strong></p>\n<p>In the externalId field, I am supposed to use # sign due to corporate requirements. I am feeding externalId in this format into keycloak in the constructor of my UserAdapter class as follows:</p>\n<pre><code>  public KeycloakUserAdapter(KeycloakSession session, RealmModel realm, ComponentModel storageProviderModel, IdentityUserInfo user)\n    {\n        super(session, realm, storageProviderModel);\n        //Below line is how I fed my custom EXTERNAL_ID\n        //user.getUserName() returns an externalId that \n        //containes pound sign like 99999#fikayd \n        this.storageId = new StorageId(storageProviderModel.getId(), user.getUserName()); \n        this.user = user;            \n    }\n</code></pre>\n<p>Having the above explain setup, I can successfully get access token from keycloak. Nevertheless, in the admin panel where I list the users, I get the the error that is shown in the below image due to the pound sign (i.e. #) in the externalId field. What would you suggest to overcome this problem that is specified in the error message? Thanks in advance.</p>\n<p><a href=\"https://i.stack.imgur.com/q3UbY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q3UbY.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","java-8","cryptography","annotations"],"answers":[{"tags":[],"owner":{"account_id":18002520,"reputation":324,"user_id":13084140,"display_name":"Ryednap"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672731056,"creation_date":1672729185,"answer_id":74989963,"question_id":74989755,"body_markdown":"You can use Java `Reflection API` to achieve the desired task. Assuming you have defined the Annotation `PIIData` yourself. Here&#39;s how you can implement the `apply` method. Also, define the `encryptValue` and `decryptValue` functions yourself.\r\n\r\n\r\n\r\nAlso, I am assuming your Employee class looks like this\r\n\r\n```java\r\n class Employee {\r\n    @PIIData(value = &quot;Encrypt&quot;)\r\n    String name;\r\n    @PIIData(value=&quot;Decrypt&quot;)\r\n    String email;\r\n}\r\n```\r\n1. To intercept annotation first get all the fields defined by the `object` parameter in `apply` method using `Reflection API` then iterate through each field and check if it has some annotation using `isAnnotationPresent` function of `Reflection API` then you can check the value of the annotation and perform your code logic. You don&#39;t need to return back the object as `Reflection API` replaces the new value of the field in place.\r\n2. To make sure the method works define some tests.\r\n3. Yes you can pass values such as `Decrypt` and `Encrypt` to tell the `apply` method what to do.\r\n\r\n```java\r\nclass Utility {\r\n    static void apply(Object object) throws IllegalAccessException {\r\n        Field[] fields = object.getClass().getDeclaredFields();\r\n\r\n\r\n        for (Field field : fields) {\r\n            if (field.isAnnotationPresent(PIIData.class)) {\r\n\r\n                Object fieldValue = field.get(object);\r\n                String annotationValue = field.getAnnotation(PIIData.class).value();\r\n\r\n                if (annotationValue.equals(&quot;Encrypt&quot;)) {\r\n                    // perform encryption\r\n                    String encryptedValue = encryptValue((String) fieldValue);\r\n                    // set the encryption through reflection API\r\n                    field.set(object, encryptedValue);\r\n\r\n                } else if (annotationValue.equals(&quot;Decrypt&quot;)) {\r\n                    // perform decryption;\r\n                    String decryptedValue = decryptValue((String) fieldValue);\r\n                    // set the decrypted value\r\n                    field.set(object, decryptedValue);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    // define your encryption logic here\r\n    static String encryptValue(String value) {\r\n        return &quot;encrypted:&quot; + value;\r\n    }\r\n\r\n\r\n    // define your decryption logic here\r\n    static String decryptValue(String value) {\r\n        return &quot;decrypted: &quot; + value;\r\n    }\r\n}\r\n\r\n```\r\n\r\nHere&#39;s the test code for the above class methods\r\n\r\n```java\r\npublic class UtilityTest {\r\n    @Test\r\n    void testApplyMethod() throws IllegalAccessException {\r\n        Employee employee = new Employee(&quot;name&quot;, &quot;email&quot;);\r\n        Utility.apply(employee);\r\n        assertEquals(employee.name, &quot;encrypted:name&quot;);\r\n        assertEquals(employee.email, &quot;decrypted:email&quot;);\r\n    }\r\n}\r\n```\r\n\r\nHope this helps.\r\n","title":"Identify PII data using Annotation","body":"<p>You can use Java <code>Reflection API</code> to achieve the desired task. Assuming you have defined the Annotation <code>PIIData</code> yourself. Here's how you can implement the <code>apply</code> method. Also, define the <code>encryptValue</code> and <code>decryptValue</code> functions yourself.</p>\n<p>Also, I am assuming your Employee class looks like this</p>\n<pre class=\"lang-java prettyprint-override\"><code> class Employee {\n    @PIIData(value = &quot;Encrypt&quot;)\n    String name;\n    @PIIData(value=&quot;Decrypt&quot;)\n    String email;\n}\n</code></pre>\n<ol>\n<li>To intercept annotation first get all the fields defined by the <code>object</code> parameter in <code>apply</code> method using <code>Reflection API</code> then iterate through each field and check if it has some annotation using <code>isAnnotationPresent</code> function of <code>Reflection API</code> then you can check the value of the annotation and perform your code logic. You don't need to return back the object as <code>Reflection API</code> replaces the new value of the field in place.</li>\n<li>To make sure the method works define some tests.</li>\n<li>Yes you can pass values such as <code>Decrypt</code> and <code>Encrypt</code> to tell the <code>apply</code> method what to do.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>class Utility {\n    static void apply(Object object) throws IllegalAccessException {\n        Field[] fields = object.getClass().getDeclaredFields();\n\n\n        for (Field field : fields) {\n            if (field.isAnnotationPresent(PIIData.class)) {\n\n                Object fieldValue = field.get(object);\n                String annotationValue = field.getAnnotation(PIIData.class).value();\n\n                if (annotationValue.equals(&quot;Encrypt&quot;)) {\n                    // perform encryption\n                    String encryptedValue = encryptValue((String) fieldValue);\n                    // set the encryption through reflection API\n                    field.set(object, encryptedValue);\n\n                } else if (annotationValue.equals(&quot;Decrypt&quot;)) {\n                    // perform decryption;\n                    String decryptedValue = decryptValue((String) fieldValue);\n                    // set the decrypted value\n                    field.set(object, decryptedValue);\n                }\n            }\n        }\n    }\n\n    // define your encryption logic here\n    static String encryptValue(String value) {\n        return &quot;encrypted:&quot; + value;\n    }\n\n\n    // define your decryption logic here\n    static String decryptValue(String value) {\n        return &quot;decrypted: &quot; + value;\n    }\n}\n\n</code></pre>\n<p>Here's the test code for the above class methods</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class UtilityTest {\n    @Test\n    void testApplyMethod() throws IllegalAccessException {\n        Employee employee = new Employee(&quot;name&quot;, &quot;email&quot;);\n        Utility.apply(employee);\n        assertEquals(employee.name, &quot;encrypted:name&quot;);\n        assertEquals(employee.email, &quot;decrypted:email&quot;);\n    }\n}\n</code></pre>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":8405500,"reputation":430,"user_id":6309111,"display_name":"Dev-vruper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":530,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1672731056,"creation_date":1672727562,"question_id":74989755,"body_markdown":"I want to identify PII fields of a class which are annotated with a custom annotation and then perform a encrypt/decrypt operation only on those fields and return the Class object . \r\n\r\nExplaination:\r\n    \r\n1. Consider Class Employee .It has 3 fields .\r\n    \r\n           { \r\n            String name;\r\n            String email;\r\n            long phnNumber;\r\n            }\r\n\r\n2. Now I would write some custom annotation like @PIIData to identify which fields need encryption/decryption, and then annotate the fields with this annotation.\r\n\r\n  \r\n\r\n          { \r\n            @PIIData\r\n            String name;\r\n            @PIIData\r\n            String email;\r\n            long phnNumber;\r\n            }\r\n\r\n \r\n3. I now initialize object of Employee class with some values , and then pass this object to a encrypt/decrypt utility.\r\n  \r\n   **Pseudo Code :** \r\n  \r\n       Employee emp = new Employee(&#39;Alice&#39;,&#39;alice@al.com&#39;,999);\r\n       utility.apply(emp);\r\n\r\n\r\n\r\n\r\n**My Question :**\r\n\r\n 1. How can I make sure that when we pass any object to **utility.apply()** which has fields annotated with @PIIData, this utility should intercept that, perform encrypt/decrypt operation only on the annotated fields, and then return back same object to the caller?\r\n 2. Can I pass some value in the custom annotation so that we can explicitly tell utility to encrypt/decrypt ? \r\n\r\n&gt; eg @PIIData(value=&quot;Encrypt&quot;)\r\n\r\n \r\n","title":"Identify PII data using Annotation","body":"<p>I want to identify PII fields of a class which are annotated with a custom annotation and then perform a encrypt/decrypt operation only on those fields and return the Class object .</p>\n<p>Explaination:</p>\n<ol>\n<li><p>Consider Class Employee .It has 3 fields .</p>\n<pre><code>    { \n     String name;\n     String email;\n     long phnNumber;\n     }\n</code></pre>\n</li>\n<li><p>Now I would write some custom annotation like @PIIData to identify which fields need encryption/decryption, and then annotate the fields with this annotation.</p>\n<pre><code>   { \n     @PIIData\n     String name;\n     @PIIData\n     String email;\n     long phnNumber;\n     }\n</code></pre>\n</li>\n<li><p>I now initialize object of Employee class with some values , and then pass this object to a encrypt/decrypt utility.</p>\n<p><strong>Pseudo Code :</strong></p>\n<pre><code>Employee emp = new Employee('Alice','alice@al.com',999);\nutility.apply(emp);\n</code></pre>\n</li>\n</ol>\n<p><strong>My Question :</strong></p>\n<ol>\n<li>How can I make sure that when we pass any object to <strong>utility.apply()</strong> which has fields annotated with @PIIData, this utility should intercept that, perform encrypt/decrypt operation only on the annotated fields, and then return back same object to the caller?</li>\n<li>Can I pass some value in the custom annotation so that we can explicitly tell utility to encrypt/decrypt ?</li>\n</ol>\n<blockquote>\n<p>eg @PIIData(value=&quot;Encrypt&quot;)</p>\n</blockquote>\n"},{"tags":["java","android","listview"],"comments":[{"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"score":0,"creation_date":1672730662,"post_id":74990051,"comment_id":132335199,"body_markdown":"`Toast` isn&#39;t showing, because you are using wrong `Context`. use `view.getContext()` or `MyActivity.this` (GUI&#39;s context) instead of base","body":"<code>Toast</code> isn&#39;t showing, because you are using wrong <code>Context</code>. use <code>view.getContext()</code> or <code>MyActivity.this</code> (GUI&#39;s context) instead of base"},{"owner":{"account_id":9063839,"reputation":128,"user_id":6749453,"display_name":"Ayaz Muhammad"},"score":0,"creation_date":1672730689,"post_id":74990051,"comment_id":132335205,"body_markdown":"use interface methodology that will work fine rather than this","body":"use interface methodology that will work fine rather than this"}],"owner":{"account_id":8720587,"reputation":163,"user_id":6523875,"display_name":"StudentOfTheGame"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1672729882,"creation_date":1672729882,"question_id":74990051,"body_markdown":"I have implemented a search bar which fills a list of search results every time a search token is inserted. My XML goes like this:\r\n\r\n```\r\n&lt;android.widget.SearchView\r\n        android:id=&quot;@+id/my_searchView&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:queryHint=&quot;Search Here&quot; /&gt;\r\n\r\n    &lt;ListView\r\n        android:id=&quot;@+id/my_listView&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot; /&gt;\r\n```\r\nOnce the token is inserted, an api is invoked and the results are stored in a list called resultUsers. I am populating the ListView like this:\r\n```\r\nrunOnUiThread(new Runnable() {\r\n\t@Override\r\n    public void run() {\r\n\t\tListView list = findViewById(R.id.my_listView);\r\n        adapter = new ArrayAdapter&lt;&gt;(MyActivity.this, android.R.layout.simple_list_item_1, userNames);\r\n        list.setAdapter(adapter);\r\n        getSelectedUserDetails(list);\r\n    }\r\n});\r\n```\r\ngetSelectedUserDetails() function is called to prepare the listener for the item click:\r\n```\r\npublic void getSelectedUserDetails(ListView list){\r\n\tlist.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n\t\t@Override\r\n\t\tpublic void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\r\n\t\t\tString selection = (String) list.getItemAtPosition(i);\r\n\t\t\tUser selectedUser = new User();\r\n\t\t\tfor(int j = 0; j &lt; resultUsers.size(); j++) {\r\n\t\t\t\tif(selection.equals(resultUsers.get(j).getName())){\r\n\t\t\t\t\tselectedUser = resultUsers.get(j);\r\n\t\t\t\t\tSystem.out.print(selectedUser.getId());\r\n\t\t\t\t\tToast.makeText(getBaseContext(), selectedUser.getId().toString(), Toast.LENGTH_SHORT).show();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n}\r\n```\r\n2 unexpected results occur:\r\n1) The system output appears not when i click the item on the list but after clicking the item and reinserting a search token\r\n2) The Toast does not appear at all\r\n\r\nIs this a bug or have i got it wrong all together and there&#39;s a different approach for search results lists?","title":"Android ListView on click listener not working","body":"<p>I have implemented a search bar which fills a list of search results every time a search token is inserted. My XML goes like this:</p>\n<pre><code>&lt;android.widget.SearchView\n        android:id=&quot;@+id/my_searchView&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:queryHint=&quot;Search Here&quot; /&gt;\n\n    &lt;ListView\n        android:id=&quot;@+id/my_listView&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot; /&gt;\n</code></pre>\n<p>Once the token is inserted, an api is invoked and the results are stored in a list called resultUsers. I am populating the ListView like this:</p>\n<pre><code>runOnUiThread(new Runnable() {\n    @Override\n    public void run() {\n        ListView list = findViewById(R.id.my_listView);\n        adapter = new ArrayAdapter&lt;&gt;(MyActivity.this, android.R.layout.simple_list_item_1, userNames);\n        list.setAdapter(adapter);\n        getSelectedUserDetails(list);\n    }\n});\n</code></pre>\n<p>getSelectedUserDetails() function is called to prepare the listener for the item click:</p>\n<pre><code>public void getSelectedUserDetails(ListView list){\n    list.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n        @Override\n        public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\n            String selection = (String) list.getItemAtPosition(i);\n            User selectedUser = new User();\n            for(int j = 0; j &lt; resultUsers.size(); j++) {\n                if(selection.equals(resultUsers.get(j).getName())){\n                    selectedUser = resultUsers.get(j);\n                    System.out.print(selectedUser.getId());\n                    Toast.makeText(getBaseContext(), selectedUser.getId().toString(), Toast.LENGTH_SHORT).show();\n                }\n            }\n        }\n    });\n}\n</code></pre>\n<p>2 unexpected results occur:</p>\n<ol>\n<li>The system output appears not when i click the item on the list but after clicking the item and reinserting a search token</li>\n<li>The Toast does not appear at all</li>\n</ol>\n<p>Is this a bug or have i got it wrong all together and there's a different approach for search results lists?</p>\n"},{"tags":["java","spring","spring-security","vaadin","vaadin-flow"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":1,"creation_date":1672691638,"post_id":74986543,"comment_id":132329317,"body_markdown":"Maybe this issue is helpful: https://github.com/vaadin/vaadin-connect/issues/370","body":"Maybe this issue is helpful: <a href=\"https://github.com/vaadin/vaadin-connect/issues/370\" rel=\"nofollow noreferrer\">github.com/vaadin/vaadin-connect/issues/370</a>"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":1,"creation_date":1672698287,"post_id":74986543,"comment_id":132330687,"body_markdown":"As it seems the functionality you are asking for does not exist in form of annotations: https://vaadin.com/docs/latest/security/enabling-security/#annotating-the-view-classes","body":"As it seems the functionality you are asking for does not exist in form of annotations: <a href=\"https://vaadin.com/docs/latest/security/enabling-security/#annotating-the-view-classes\" rel=\"nofollow noreferrer\">vaadin.com/docs/latest/security/enabling-security/&hellip;</a>"},{"owner":{"account_id":2011741,"reputation":79,"user_id":8683113,"display_name":"gidravlic"},"score":1,"creation_date":1672726777,"post_id":74986543,"comment_id":132334489,"body_markdown":"Maybe you can hide the page through removing route for session [https://vaadin.com/docs/latest/routing/dynamic/#removing-routes](https://vaadin.com/docs/latest/routing/dynamic/#removing-routes)","body":"Maybe you can hide the page through removing route for session <a href=\"https://vaadin.com/docs/latest/routing/dynamic/#removing-routes\" rel=\"nofollow noreferrer\">https://vaadin.com/docs/latest/routing/dynamic/#removing-rou&zwnj;&#8203;tes</a>"},{"owner":{"account_id":104307,"reputation":5969,"user_id":278949,"accept_rate":97,"display_name":"Frank"},"score":0,"creation_date":1672728972,"post_id":74986543,"comment_id":132334850,"body_markdown":"Thanks for the comments, I found a &quot;partial&quot; solution by removing the option from the menu. See the update in the question.","body":"Thanks for the comments, I found a &quot;partial&quot; solution by removing the option from the menu. See the update in the question."}],"answers":[{"tags":[],"owner":{"account_id":4430906,"reputation":3990,"user_id":3608089,"display_name":"ollitietavainen"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1672729805,"creation_date":1672729805,"answer_id":74990040,"question_id":74986543,"body_markdown":"You can use `BeforeEnterObserver` and the `BeforeEnterEvent` to forward the user to another view when they&#39;re trying to access one that they&#39;re not supposed to:\r\n```java\r\n@Route(value = &quot;register&quot;, layout = MainView.class)\r\n@PageTitle(&quot;Register as a new user&quot;)\r\n@AnonymousAllowed\r\npublic class RegisterView extends VerticalLayout\r\n        implements BeforeEnterObserver {\r\n    @Override\r\n    public void beforeEnter(BeforeEnterEvent event) {\r\n        if (hasLoggedIn()) {\r\n            event.forwardTo(SomeOtherView.class);\r\n        }\r\n    }\r\n\r\n    private boolean hasLoggedIn() {\r\n        Optional&lt;User&gt; maybeUser = authenticatedUser.get();\r\n        return maybeUser.isPresent();\r\n    }\r\n}\r\n```\r\nYou can update the menu e.g. with the `MainView`&#39;s `AfterNavigationObserver` which works similarly to the `BeforeEnterObserver` except it gets triggered after all navigation activities are completed.","title":"Vaadin remove pages after login","body":"<p>You can use <code>BeforeEnterObserver</code> and the <code>BeforeEnterEvent</code> to forward the user to another view when they're trying to access one that they're not supposed to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Route(value = &quot;register&quot;, layout = MainView.class)\n@PageTitle(&quot;Register as a new user&quot;)\n@AnonymousAllowed\npublic class RegisterView extends VerticalLayout\n        implements BeforeEnterObserver {\n    @Override\n    public void beforeEnter(BeforeEnterEvent event) {\n        if (hasLoggedIn()) {\n            event.forwardTo(SomeOtherView.class);\n        }\n    }\n\n    private boolean hasLoggedIn() {\n        Optional&lt;User&gt; maybeUser = authenticatedUser.get();\n        return maybeUser.isPresent();\n    }\n}\n</code></pre>\n<p>You can update the menu e.g. with the <code>MainView</code>'s <code>AfterNavigationObserver</code> which works similarly to the <code>BeforeEnterObserver</code> except it gets triggered after all navigation activities are completed.</p>\n"}],"owner":{"account_id":104307,"reputation":5969,"user_id":278949,"accept_rate":97,"display_name":"Frank"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74990040,"answer_count":1,"score":0,"last_activity_date":1672729805,"creation_date":1672689523,"question_id":74986543,"body_markdown":"As documented on https://vaadin.com/docs/latest/security/enabling-security, in a Java Spring Vaadin application, annotations can be used to define if pages should be shown after login based on Roles like this:\r\n\r\n    @Route(value = &quot;admin&quot;, layout = MainView.class)\r\n    @PageTitle(&quot;Admin View&quot;)\r\n    @RolesAllowed(&quot;ADMIN&quot;) // &lt;- Should match one of the user&#39;s roles (case-sensitive)\r\n    public class AdminView extends VerticalLayout {\r\n        // ...\r\n    }\r\n\r\nOr pages can always be shown with:\r\n\r\n    @Route(value = &quot;home&quot;, layout = MainView.class)\r\n    @PageTitle(&quot;Homepage&quot;)\r\n    @AnonymousAllowed // or @PermitAll \r\n    public class HomePageView extends VerticalLayout {\r\n        // ...\r\n    }\r\n\r\nBut what I&#39;m missing in the documentation, is how a page can be hidden after a user has logged in. **Is some kind of &quot;negative&quot; annotation available?** E.g.\r\n\r\n    @Route(value = &quot;register&quot;, layout = MainView.class)\r\n    @PageTitle(&quot;Register as a new user&quot;)\r\n    @RolesNotAllowed({&quot;ADMIN&quot;, &quot;USER&quot;}) // &lt;- This annotation doesn&#39;t exist (yet?)\r\n    public class RegisterView extends VerticalLayout {\r\n        // View only needed for users who didn&#39;t login yet\r\n    }\r\n\r\n---- Update 20220103\r\n\r\nOne solution is to remove the page from the menu by checking the authenticated user:\r\n\r\n```\r\nOptional&lt;User&gt; maybeUser = authenticatedUser.get();\r\nif (accessChecker.hasAccess(RegisterView.class)\r\n    &amp;&amp; !maybeUser.isPresent()) {\r\n    nav.addItem(new AppNavItem(&quot;Register&quot;, RegisterView.class, &quot;la la-user&quot;));\r\n}\r\n```\r\n\r\nBut still, the page can be accessed directly via the URL. As suggested by @gidravlic, I tried to remove the page from the route configuration, but it&#39;s still accessible. So this is not a &quot;full&quot; solution. This doesn&#39;t seem to have any effect:\r\n\r\n```\r\nif (maybeUser.isPresent()) {\r\n    RouteConfiguration configuration = RouteConfiguration.forSessionScope();\r\n    configuration.removeRoute(RegisterView.class);\r\n}\r\n```","title":"Vaadin remove pages after login","body":"<p>As documented on <a href=\"https://vaadin.com/docs/latest/security/enabling-security\" rel=\"nofollow noreferrer\">https://vaadin.com/docs/latest/security/enabling-security</a>, in a Java Spring Vaadin application, annotations can be used to define if pages should be shown after login based on Roles like this:</p>\n<pre><code>@Route(value = &quot;admin&quot;, layout = MainView.class)\n@PageTitle(&quot;Admin View&quot;)\n@RolesAllowed(&quot;ADMIN&quot;) // &lt;- Should match one of the user's roles (case-sensitive)\npublic class AdminView extends VerticalLayout {\n    // ...\n}\n</code></pre>\n<p>Or pages can always be shown with:</p>\n<pre><code>@Route(value = &quot;home&quot;, layout = MainView.class)\n@PageTitle(&quot;Homepage&quot;)\n@AnonymousAllowed // or @PermitAll \npublic class HomePageView extends VerticalLayout {\n    // ...\n}\n</code></pre>\n<p>But what I'm missing in the documentation, is how a page can be hidden after a user has logged in. <strong>Is some kind of &quot;negative&quot; annotation available?</strong> E.g.</p>\n<pre><code>@Route(value = &quot;register&quot;, layout = MainView.class)\n@PageTitle(&quot;Register as a new user&quot;)\n@RolesNotAllowed({&quot;ADMIN&quot;, &quot;USER&quot;}) // &lt;- This annotation doesn't exist (yet?)\npublic class RegisterView extends VerticalLayout {\n    // View only needed for users who didn't login yet\n}\n</code></pre>\n<p>---- Update 20220103</p>\n<p>One solution is to remove the page from the menu by checking the authenticated user:</p>\n<pre><code>Optional&lt;User&gt; maybeUser = authenticatedUser.get();\nif (accessChecker.hasAccess(RegisterView.class)\n    &amp;&amp; !maybeUser.isPresent()) {\n    nav.addItem(new AppNavItem(&quot;Register&quot;, RegisterView.class, &quot;la la-user&quot;));\n}\n</code></pre>\n<p>But still, the page can be accessed directly via the URL. As suggested by @gidravlic, I tried to remove the page from the route configuration, but it's still accessible. So this is not a &quot;full&quot; solution. This doesn't seem to have any effect:</p>\n<pre><code>if (maybeUser.isPresent()) {\n    RouteConfiguration configuration = RouteConfiguration.forSessionScope();\n    configuration.removeRoute(RegisterView.class);\n}\n</code></pre>\n"},{"tags":["java","apache-spark","hadoop","parquet"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1550001324,"post_id":54657496,"comment_id":96106843,"body_markdown":"FYI, it looks like `INT96` support is deprecated in Parquet from what I read in [this issue ticket](https://issues.apache.org/jira/browse/PARQUET-323).","body":"FYI, it looks like <code>INT96</code> support is deprecated in Parquet from what I read in <a href=\"https://issues.apache.org/jira/browse/PARQUET-323\" rel=\"nofollow noreferrer\">this issue ticket</a>."},{"owner":{"account_id":2591971,"reputation":16544,"user_id":2246488,"accept_rate":47,"display_name":"James Wierzba"},"score":0,"creation_date":1550001629,"post_id":54657496,"comment_id":96106984,"body_markdown":"@BasilBourque Yeah, I saw that. Unfortunately the consumer of the parquet files is enforcing this 96 bit timestamp encoding, so I need to figure out how to write this type.","body":"@BasilBourque Yeah, I saw that. Unfortunately the consumer of the parquet files is enforcing this 96 bit timestamp encoding, so I need to figure out how to write this type."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1550001644,"post_id":54657496,"comment_id":96106993,"body_markdown":"I do not know anything about Parquet or Hadoop, so I cannot post an Answer. But some tips that might help: Java primitives are limited to 64-bits for numbers, so use `BigInteger` class to manage a 96-bit number. The `Instant` class, and other *java.time* classes have nanosecond resolution. But they work internally by tracking a pair of numbers: a number of whole seconds since epoch 1970-01-01T00:00:00Z plus a number of nanoseconds for the fractional second. So you will have to do a bit of math to feed your total elapsed nanos into a pair of numbers. See `Instant.ofEpochSecond` &amp; `.plusNanos`.","body":"I do not know anything about Parquet or Hadoop, so I cannot post an Answer. But some tips that might help: Java primitives are limited to 64-bits for numbers, so use <code>BigInteger</code> class to manage a 96-bit number. The <code>Instant</code> class, and other <i>java.time</i> classes have nanosecond resolution. But they work internally by tracking a pair of numbers: a number of whole seconds since epoch 1970-01-01T00:00:00Z plus a number of nanoseconds for the fractional second. So you will have to do a bit of math to feed your total elapsed nanos into a pair of numbers. See <code>Instant.ofEpochSecond</code> &amp; <code>.plusNanos</code>."}],"answers":[{"tags":[],"owner":{"account_id":7374255,"reputation":2958,"user_id":5613485,"display_name":"Zoltan"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1550046730,"creation_date":1550046730,"answer_id":54665645,"question_id":54657496,"body_markdown":" 1. INT96 timestamps use the INT96 physical type without any logical type, so don&#39;t annotate them with anything.\r\n 2. If you are interested in the structure of an INT96 timestamp, take a look [here][1]. If you would like to see sample code that converts to and from this format, take a look at [this file from Hive][2].\r\n\r\n  [1]: https://stackoverflow.com/a/53104516/5613485\r\n  [2]: https://github.com/apache/hive/blob/branch-2.0/ql/src/java/org/apache/hadoop/hive/ql/io/parquet/timestamp/NanoTimeUtils.java","title":"How to write TIMESTAMP logical type (INT96) to parquet, using ParquetWriter?","body":"<ol>\n<li>INT96 timestamps use the INT96 physical type without any logical type, so don't annotate them with anything.</li>\n<li>If you are interested in the structure of an INT96 timestamp, take a look <a href=\"https://stackoverflow.com/a/53104516/5613485\">here</a>. If you would like to see sample code that converts to and from this format, take a look at <a href=\"https://github.com/apache/hive/blob/branch-2.0/ql/src/java/org/apache/hadoop/hive/ql/io/parquet/timestamp/NanoTimeUtils.java\" rel=\"noreferrer\">this file from Hive</a>.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2591971,"reputation":16544,"user_id":2246488,"accept_rate":47,"display_name":"James Wierzba"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1550093812,"creation_date":1550093812,"answer_id":54679830,"question_id":54657496,"body_markdown":"I figured it out, using [this code][1] from spark sql as a reference.\r\n\r\nThe INT96 binary encoding is split into 2 parts:\r\nFirst 8 bytes are nanoseconds since midnight\r\nLast 4 bytes is [Julian day][2]\r\n\r\n\r\n```\r\nString value = &quot;2019-02-13 13:35:05&quot;;\r\n\r\nfinal long NANOS_PER_HOUR = TimeUnit.HOURS.toNanos(1);\r\nfinal long NANOS_PER_MINUTE = TimeUnit.MINUTES.toNanos(1);\r\nfinal long NANOS_PER_SECOND = TimeUnit.SECONDS.toNanos(1);\r\n\r\n// Parse date\r\nSimpleDateFormat parser = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\nCalendar cal = Calendar.getInstance(TimeZone.getTimeZone(&quot;UTC&quot;));\r\ncal.setTime(parser.parse(value));\r\n\r\n// Calculate Julian days and nanoseconds in the day\r\nLocalDate dt = LocalDate.of(cal.get(Calendar.YEAR), cal.get(Calendar.MONTH)+1, cal.get(Calendar.DAY_OF_MONTH));\r\nint julianDays = (int) JulianFields.JULIAN_DAY.getFrom(dt);\r\nlong nanos = (cal.get(Calendar.HOUR_OF_DAY) * NANOS_PER_HOUR)\r\n        + (cal.get(Calendar.MINUTE) * NANOS_PER_MINUTE)\r\n        + (cal.get(Calendar.SECOND) * NANOS_PER_SECOND);\r\n\r\n// Write INT96 timestamp\r\nbyte[] timestampBuffer = new byte[12];\r\nByteBuffer buf = ByteBuffer.wrap(timestampBuffer);\r\nbuf.order(ByteOrder.LITTLE_ENDIAN).putLong(nanos).putInt(julianDays);\r\n\r\n// This is the properly encoded INT96 timestamp\r\nBinary tsValue = Binary.fromReusedByteArray(timestampBuffer);\r\n\r\n```\r\n\r\n\r\n  [1]: https://github.com/apache/spark/blob/d66a4e82eceb89a274edeb22c2fb4384bed5078b/sql/core/src/main/scala/org/apache/spark/sql/execution/datasources/parquet/ParquetWriteSupport.scala#L171-L178\r\n  [2]: https://en.wikipedia.org/wiki/Julian_day","title":"How to write TIMESTAMP logical type (INT96) to parquet, using ParquetWriter?","body":"<p>I figured it out, using <a href=\"https://github.com/apache/spark/blob/d66a4e82eceb89a274edeb22c2fb4384bed5078b/sql/core/src/main/scala/org/apache/spark/sql/execution/datasources/parquet/ParquetWriteSupport.scala#L171-L178\" rel=\"nofollow noreferrer\">this code</a> from spark sql as a reference.</p>\n\n<p>The INT96 binary encoding is split into 2 parts:\nFirst 8 bytes are nanoseconds since midnight\nLast 4 bytes is <a href=\"https://en.wikipedia.org/wiki/Julian_day\" rel=\"nofollow noreferrer\">Julian day</a></p>\n\n<pre><code>String value = \"2019-02-13 13:35:05\";\n\nfinal long NANOS_PER_HOUR = TimeUnit.HOURS.toNanos(1);\nfinal long NANOS_PER_MINUTE = TimeUnit.MINUTES.toNanos(1);\nfinal long NANOS_PER_SECOND = TimeUnit.SECONDS.toNanos(1);\n\n// Parse date\nSimpleDateFormat parser = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");\nCalendar cal = Calendar.getInstance(TimeZone.getTimeZone(\"UTC\"));\ncal.setTime(parser.parse(value));\n\n// Calculate Julian days and nanoseconds in the day\nLocalDate dt = LocalDate.of(cal.get(Calendar.YEAR), cal.get(Calendar.MONTH)+1, cal.get(Calendar.DAY_OF_MONTH));\nint julianDays = (int) JulianFields.JULIAN_DAY.getFrom(dt);\nlong nanos = (cal.get(Calendar.HOUR_OF_DAY) * NANOS_PER_HOUR)\n        + (cal.get(Calendar.MINUTE) * NANOS_PER_MINUTE)\n        + (cal.get(Calendar.SECOND) * NANOS_PER_SECOND);\n\n// Write INT96 timestamp\nbyte[] timestampBuffer = new byte[12];\nByteBuffer buf = ByteBuffer.wrap(timestampBuffer);\nbuf.order(ByteOrder.LITTLE_ENDIAN).putLong(nanos).putInt(julianDays);\n\n// This is the properly encoded INT96 timestamp\nBinary tsValue = Binary.fromReusedByteArray(timestampBuffer);\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17064862,"reputation":186,"user_id":12347336,"display_name":"Shubham Dhingra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672729365,"creation_date":1672729365,"answer_id":74989988,"question_id":54657496,"body_markdown":"For those using `AvroParquetWriter` and want to write INT96 **physical type** you can use\r\n```\r\nfinal Configuration conf = new Configuration();\r\nconf.setStrings(WRITE_FIXED_AS_INT96,  &quot;field_name&quot;);\r\n```\r\nand pass this configuration when building the `AvroParquetWriter`. Your avro schema has to be type `fixed` for `field_name` and type similar to:\r\n```\r\n&quot;type&quot;:[\r\n        &quot;null&quot;,\r\n        {\r\n               &quot;type&quot;:&quot;fixed&quot;,\r\n               &quot;name&quot;:&quot;INT96&quot;,\r\n               &quot;doc&quot;:&quot;INT96 represented as byte[12]&quot;,\r\n               &quot;size&quot;:12\r\n        }\r\n]\r\n```\r\n\r\nFull example: \r\n```\r\nfinal String avroSchemaString = &quot;{\\n&quot; +\r\n        &quot;   \\&quot;type\\&quot;:\\&quot;record\\&quot;,\\n&quot; +\r\n        &quot;   \\&quot;name\\&quot;:\\&quot;userInfo\\&quot;,\\n&quot; +\r\n        &quot;   \\&quot;namespace\\&quot;:\\&quot;my.example\\&quot;,\\n&quot; +\r\n        &quot;   \\&quot;fields\\&quot;:[\\n&quot; +\r\n        &quot;      {\\n&quot; +\r\n        &quot;         \\&quot;name\\&quot;:\\&quot;date_of_birth\\&quot;,\\n&quot; +\r\n        &quot;         \\&quot;type\\&quot;:[\\n&quot; +\r\n        &quot;            \\&quot;null\\&quot;,\\n&quot; +\r\n        &quot;            {\\n&quot; +\r\n        &quot;               \\&quot;type\\&quot;:\\&quot;fixed\\&quot;,\\n&quot; +\r\n        &quot;               \\&quot;name\\&quot;:\\&quot;INT96\\&quot;,\\n&quot; +\r\n        &quot;               \\&quot;doc\\&quot;:\\&quot;INT96 represented as byte[12]\\&quot;,\\n&quot; +\r\n        &quot;               \\&quot;size\\&quot;:12\\n&quot; +\r\n        &quot;            }\\n&quot; +\r\n        &quot;         ]\\n&quot; +\r\n        &quot;      }\\n&quot; +\r\n        &quot;   ]\\n&quot; +\r\n        &quot;}&quot;;\r\nSystem.out.println(&quot;AvroSchema: &quot; + avroSchemaString);\r\n\r\nfinal Schema avroSchema = new Schema.Parser().parse(avroSchemaString);\r\nSystem.out.println(&quot;Parsed AvroSchema: &quot; + avroSchema);\r\n\r\nfinal Path outputPath = new Path(&quot;/tmp/temp.parquet&quot;);\r\nfinal Configuration conf = new Configuration();\r\n// Comment this line and it will write as FIXED_LEN_BYTE_ARRAY of size 12\r\nconf.setStrings(WRITE_FIXED_AS_INT96,  &quot;date_of_birth&quot;);\r\n\r\n\r\nfinal ParquetWriter&lt;GenericData.Record&gt; parquetWriter = AvroParquetWriter.&lt;GenericData\r\n                .Record&gt;builder(outputPath)\r\n        .withSchema(avroSchema)\r\n        .withConf(conf)\r\n        .withCompressionCodec(CompressionCodecName.SNAPPY)\r\n        .withWriteMode(ParquetFileWriter.Mode.OVERWRITE)\r\n        .build();\r\nfinal GenericData.Record record = new GenericData.Record(avroSchema);\r\n\r\n// Convert LocalDate to NanoTime or LocalDateTime to NanoTime\r\nfinal LocalDate dateToday = LocalDate.now();\r\nfinal NanoTime nanoTime = new NanoTime((int)JulianFields.JULIAN_DAY.getFrom(dateToday), 0L);\r\nbyte[] timestampBuffer = nanoTime.toBinary().getBytes();\r\n\r\n// Should be 12\r\nSystem.out.println(timestampBuffer.length);\r\n\r\nGenericData.Fixed fixed = new GenericData.Fixed(avroSchema.getFields().get(0).schema(), timestampBuffer);\r\nrecord.put(&quot;date_of_birth&quot;, fixed);\r\nparquetWriter.write(record);\r\n\r\n// Close the writer to flush records\r\nparquetWriter.close();\r\n```\r\n\r\nIt only works for version `1.12.3` of `parquet-avro`. GAV for that: \r\n```\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.parquet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;parquet-avro&lt;/artifactId&gt;\r\n            &lt;version&gt;1.12.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"How to write TIMESTAMP logical type (INT96) to parquet, using ParquetWriter?","body":"<p>For those using <code>AvroParquetWriter</code> and want to write INT96 <strong>physical type</strong> you can use</p>\n<pre><code>final Configuration conf = new Configuration();\nconf.setStrings(WRITE_FIXED_AS_INT96,  &quot;field_name&quot;);\n</code></pre>\n<p>and pass this configuration when building the <code>AvroParquetWriter</code>. Your avro schema has to be type <code>fixed</code> for <code>field_name</code> and type similar to:</p>\n<pre><code>&quot;type&quot;:[\n        &quot;null&quot;,\n        {\n               &quot;type&quot;:&quot;fixed&quot;,\n               &quot;name&quot;:&quot;INT96&quot;,\n               &quot;doc&quot;:&quot;INT96 represented as byte[12]&quot;,\n               &quot;size&quot;:12\n        }\n]\n</code></pre>\n<p>Full example:</p>\n<pre><code>final String avroSchemaString = &quot;{\\n&quot; +\n        &quot;   \\&quot;type\\&quot;:\\&quot;record\\&quot;,\\n&quot; +\n        &quot;   \\&quot;name\\&quot;:\\&quot;userInfo\\&quot;,\\n&quot; +\n        &quot;   \\&quot;namespace\\&quot;:\\&quot;my.example\\&quot;,\\n&quot; +\n        &quot;   \\&quot;fields\\&quot;:[\\n&quot; +\n        &quot;      {\\n&quot; +\n        &quot;         \\&quot;name\\&quot;:\\&quot;date_of_birth\\&quot;,\\n&quot; +\n        &quot;         \\&quot;type\\&quot;:[\\n&quot; +\n        &quot;            \\&quot;null\\&quot;,\\n&quot; +\n        &quot;            {\\n&quot; +\n        &quot;               \\&quot;type\\&quot;:\\&quot;fixed\\&quot;,\\n&quot; +\n        &quot;               \\&quot;name\\&quot;:\\&quot;INT96\\&quot;,\\n&quot; +\n        &quot;               \\&quot;doc\\&quot;:\\&quot;INT96 represented as byte[12]\\&quot;,\\n&quot; +\n        &quot;               \\&quot;size\\&quot;:12\\n&quot; +\n        &quot;            }\\n&quot; +\n        &quot;         ]\\n&quot; +\n        &quot;      }\\n&quot; +\n        &quot;   ]\\n&quot; +\n        &quot;}&quot;;\nSystem.out.println(&quot;AvroSchema: &quot; + avroSchemaString);\n\nfinal Schema avroSchema = new Schema.Parser().parse(avroSchemaString);\nSystem.out.println(&quot;Parsed AvroSchema: &quot; + avroSchema);\n\nfinal Path outputPath = new Path(&quot;/tmp/temp.parquet&quot;);\nfinal Configuration conf = new Configuration();\n// Comment this line and it will write as FIXED_LEN_BYTE_ARRAY of size 12\nconf.setStrings(WRITE_FIXED_AS_INT96,  &quot;date_of_birth&quot;);\n\n\nfinal ParquetWriter&lt;GenericData.Record&gt; parquetWriter = AvroParquetWriter.&lt;GenericData\n                .Record&gt;builder(outputPath)\n        .withSchema(avroSchema)\n        .withConf(conf)\n        .withCompressionCodec(CompressionCodecName.SNAPPY)\n        .withWriteMode(ParquetFileWriter.Mode.OVERWRITE)\n        .build();\nfinal GenericData.Record record = new GenericData.Record(avroSchema);\n\n// Convert LocalDate to NanoTime or LocalDateTime to NanoTime\nfinal LocalDate dateToday = LocalDate.now();\nfinal NanoTime nanoTime = new NanoTime((int)JulianFields.JULIAN_DAY.getFrom(dateToday), 0L);\nbyte[] timestampBuffer = nanoTime.toBinary().getBytes();\n\n// Should be 12\nSystem.out.println(timestampBuffer.length);\n\nGenericData.Fixed fixed = new GenericData.Fixed(avroSchema.getFields().get(0).schema(), timestampBuffer);\nrecord.put(&quot;date_of_birth&quot;, fixed);\nparquetWriter.write(record);\n\n// Close the writer to flush records\nparquetWriter.close();\n</code></pre>\n<p>It only works for version <code>1.12.3</code> of <code>parquet-avro</code>. GAV for that:</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.apache.parquet&lt;/groupId&gt;\n            &lt;artifactId&gt;parquet-avro&lt;/artifactId&gt;\n            &lt;version&gt;1.12.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":2591971,"reputation":16544,"user_id":2246488,"accept_rate":47,"display_name":"James Wierzba"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25609,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":54679830,"answer_count":3,"score":9,"last_activity_date":1672729365,"creation_date":1550000238,"question_id":54657496,"body_markdown":"I have a tool that uses a [org.apache.parquet.hadoop.ParquetWriter][1] to convert CSV data files to parquet data files.\r\n\r\nCurrently, it only handles `int32`, `double`, and `string`\r\n\r\nI need to support the parquet `timestamp` logical type (annotated as int96), and I am lost on how to do that because I can&#39;t find a precise specification online.\r\n\r\nIt appears this timestamp encoding (int96) is rare and not well supported. I&#39;ve found very little specification details online. [This github README][2] states that:\r\n\r\n&gt; Timestamps saved as an int96 are made up of the nanoseconds in the day\r\n&gt; (first 8 byte) and the Julian day (last 4 bytes).\r\n\r\n\r\n**Specifically:**\r\n\r\n1. Which parquet [Type][3] do I use for the column in [MessageType][4] schema? I assume I should use the primitive type, `PrimitiveTypeName.INT96`, but I&#39;m not sure if there may be a way to specify a logical type?\r\n2. How do I write the data? i.e. In what format do I write the timestamp to the group? For an INT96 timestamp, I assume I must write some binary type?\r\n\r\nHere is a simplified version of my code that demonstrates what I am trying to do. Specifically, take a look at the &quot;TODO&quot; comments, these are the two points in the code that correlate to the questions above.\r\n\r\n```\r\nList&lt;Type&gt; fields = new ArrayList&lt;&gt;();\r\nfields.add(new PrimitiveType(Type.Repetition.OPTIONAL, PrimitiveTypeName.INT32, &quot;int32_col&quot;, null));\r\nfields.add(new PrimitiveType(Type.Repetition.OPTIONAL, PrimitiveTypeName.DOUBLE, &quot;double_col&quot;, null));\r\nfields.add(new PrimitiveType(Type.Repetition.OPTIONAL, PrimitiveTypeName.STRING, &quot;string_col&quot;, null));\r\n\r\n// TODO: \r\n//   Specify the TIMESTAMP type. \r\n//   How? INT96 primitive type? Is there a logical timestamp type I can use w/ MessageType schema?\r\nfields.add(new PrimitiveType(Type.Repetition.OPTIONAL, PrimitiveTypeName.INT96, &quot;timestamp_col&quot;, null)); \r\n\r\nMessageType schema = new MessageType(&quot;input&quot;, fields);\r\n\r\n// initialize writer\r\nConfiguration configuration = new Configuration();\r\nconfiguration.setQuietMode(true);\r\nGroupWriteSupport.setSchema(schema, configuration);\r\nParquetWriter&lt;Group&gt; writer = new ParquetWriter&lt;Group&gt;(\r\n  new Path(&quot;output.parquet&quot;),\r\n  new GroupWriteSupport(),\r\n  CompressionCodecName.SNAPPY,\r\n  ParquetWriter.DEFAULT_BLOCK_SIZE,\r\n  ParquetWriter.DEFAULT_PAGE_SIZE,\r\n  1048576,\r\n  true,\r\n  false,\r\n  ParquetProperties.WriterVersion.PARQUET_1_0,\r\n  configuration\r\n);\r\n\r\n// write CSV data\r\nCSVParser parser = CSVParser.parse(new File(csv), StandardCharsets.UTF_8, CSVFormat.TDF.withQuote(null));\r\nArrayList&lt;String&gt; columns = new ArrayList&lt;&gt;(schemaMap.keySet());\r\nint colIndex;\r\nint rowNum = 0;\r\nfor (CSVRecord csvRecord : parser) {\r\n  rowNum ++;\r\n  Group group = f.newGroup();\r\n  colIndex = 0;\r\n  for (String record : csvRecord) {\r\n    if (record == null || record.isEmpty() || record.equals( &quot;NULL&quot;)) {\r\n      colIndex++;\r\n      continue;\r\n    }\r\n\r\n    \r\n    record = record.trim();\r\n    String type = schemaMap.get(columns.get(colIndex)).get(&quot;type&quot;).toString();\r\n    MessageTypeConverter.addTypeValueToGroup(type, record, group, colIndex++);\r\n\r\n    switch (colIndex) {\r\n      case 0: // int32\r\n        group.add(colIndex, Integer.parseInt(record));\r\n        break;\r\n      case 1: // double\r\n        group.add(colIndex, Double.parseDouble(record));\r\n        break;\r\n      case 2: // string\r\n        group.add(colIndex, record);\r\n        break;\r\n      case 3:\r\n        // TODO: convert CSV string value to TIMESTAMP type (how?)\r\n        throw new NotImplementedException();\r\n    }\r\n  }\r\n  writer.write(group);\r\n}\r\nwriter.close();\r\n```\r\n\r\n\r\n  [1]: https://github.com/apache/parquet-mr/blob/master/parquet-hadoop/src/main/java/org/apache/parquet/hadoop/ParquetWriter.java\r\n  [2]: https://github.com/xhochy/parquet-format/blob/cb4727767823ae201fd567f67825cc22834c20e9/LogicalTypes.md#int96-timestamps-also-called-impala_timestamp\r\n  [3]: https://github.com/apache/parquet-mr/blob/master/parquet-column/src/main/java/org/apache/parquet/schema/Type.java\r\n  [4]: https://github.com/apache/parquet-mr/blob/master/parquet-column/src/main/java/org/apache/parquet/schema/MessageType.java","title":"How to write TIMESTAMP logical type (INT96) to parquet, using ParquetWriter?","body":"<p>I have a tool that uses a <a href=\"https://github.com/apache/parquet-mr/blob/master/parquet-hadoop/src/main/java/org/apache/parquet/hadoop/ParquetWriter.java\" rel=\"noreferrer\">org.apache.parquet.hadoop.ParquetWriter</a> to convert CSV data files to parquet data files.</p>\n\n<p>Currently, it only handles <code>int32</code>, <code>double</code>, and <code>string</code></p>\n\n<p>I need to support the parquet <code>timestamp</code> logical type (annotated as int96), and I am lost on how to do that because I can't find a precise specification online.</p>\n\n<p>It appears this timestamp encoding (int96) is rare and not well supported. I've found very little specification details online. <a href=\"https://github.com/xhochy/parquet-format/blob/cb4727767823ae201fd567f67825cc22834c20e9/LogicalTypes.md#int96-timestamps-also-called-impala_timestamp\" rel=\"noreferrer\">This github README</a> states that:</p>\n\n<blockquote>\n  <p>Timestamps saved as an int96 are made up of the nanoseconds in the day\n  (first 8 byte) and the Julian day (last 4 bytes).</p>\n</blockquote>\n\n<p><strong>Specifically:</strong></p>\n\n<ol>\n<li>Which parquet <a href=\"https://github.com/apache/parquet-mr/blob/master/parquet-column/src/main/java/org/apache/parquet/schema/Type.java\" rel=\"noreferrer\">Type</a> do I use for the column in <a href=\"https://github.com/apache/parquet-mr/blob/master/parquet-column/src/main/java/org/apache/parquet/schema/MessageType.java\" rel=\"noreferrer\">MessageType</a> schema? I assume I should use the primitive type, <code>PrimitiveTypeName.INT96</code>, but I'm not sure if there may be a way to specify a logical type?</li>\n<li>How do I write the data? i.e. In what format do I write the timestamp to the group? For an INT96 timestamp, I assume I must write some binary type?</li>\n</ol>\n\n<p>Here is a simplified version of my code that demonstrates what I am trying to do. Specifically, take a look at the \"TODO\" comments, these are the two points in the code that correlate to the questions above.</p>\n\n<pre><code>List&lt;Type&gt; fields = new ArrayList&lt;&gt;();\nfields.add(new PrimitiveType(Type.Repetition.OPTIONAL, PrimitiveTypeName.INT32, \"int32_col\", null));\nfields.add(new PrimitiveType(Type.Repetition.OPTIONAL, PrimitiveTypeName.DOUBLE, \"double_col\", null));\nfields.add(new PrimitiveType(Type.Repetition.OPTIONAL, PrimitiveTypeName.STRING, \"string_col\", null));\n\n// TODO: \n//   Specify the TIMESTAMP type. \n//   How? INT96 primitive type? Is there a logical timestamp type I can use w/ MessageType schema?\nfields.add(new PrimitiveType(Type.Repetition.OPTIONAL, PrimitiveTypeName.INT96, \"timestamp_col\", null)); \n\nMessageType schema = new MessageType(\"input\", fields);\n\n// initialize writer\nConfiguration configuration = new Configuration();\nconfiguration.setQuietMode(true);\nGroupWriteSupport.setSchema(schema, configuration);\nParquetWriter&lt;Group&gt; writer = new ParquetWriter&lt;Group&gt;(\n  new Path(\"output.parquet\"),\n  new GroupWriteSupport(),\n  CompressionCodecName.SNAPPY,\n  ParquetWriter.DEFAULT_BLOCK_SIZE,\n  ParquetWriter.DEFAULT_PAGE_SIZE,\n  1048576,\n  true,\n  false,\n  ParquetProperties.WriterVersion.PARQUET_1_0,\n  configuration\n);\n\n// write CSV data\nCSVParser parser = CSVParser.parse(new File(csv), StandardCharsets.UTF_8, CSVFormat.TDF.withQuote(null));\nArrayList&lt;String&gt; columns = new ArrayList&lt;&gt;(schemaMap.keySet());\nint colIndex;\nint rowNum = 0;\nfor (CSVRecord csvRecord : parser) {\n  rowNum ++;\n  Group group = f.newGroup();\n  colIndex = 0;\n  for (String record : csvRecord) {\n    if (record == null || record.isEmpty() || record.equals( \"NULL\")) {\n      colIndex++;\n      continue;\n    }\n\n\n    record = record.trim();\n    String type = schemaMap.get(columns.get(colIndex)).get(\"type\").toString();\n    MessageTypeConverter.addTypeValueToGroup(type, record, group, colIndex++);\n\n    switch (colIndex) {\n      case 0: // int32\n        group.add(colIndex, Integer.parseInt(record));\n        break;\n      case 1: // double\n        group.add(colIndex, Double.parseDouble(record));\n        break;\n      case 2: // string\n        group.add(colIndex, record);\n        break;\n      case 3:\n        // TODO: convert CSV string value to TIMESTAMP type (how?)\n        throw new NotImplementedException();\n    }\n  }\n  writer.write(group);\n}\nwriter.close();\n</code></pre>\n"},{"tags":["java","parsing","generics"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1672729234,"post_id":74989955,"comment_id":132334897,"body_markdown":"`&amp;` means &quot;and&quot; not &quot;or&quot;","body":"<code>&amp;</code> means &quot;and&quot; not &quot;or&quot;"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1672729634,"post_id":74989955,"comment_id":132334978,"body_markdown":"What&#39;s the point of `T` in this pseudocode? What does it do that `Object` could not?","body":"What&#39;s the point of <code>T</code> in this pseudocode? What does it do that <code>Object</code> could not?"},{"owner":{"account_id":27095221,"reputation":3,"user_id":20642519,"display_name":"Jenny R"},"score":0,"creation_date":1672729674,"post_id":74989955,"comment_id":132334986,"body_markdown":"I think for generics &amp; was used for [multiple bounds](https://docs.oracle.com/javase/tutorial/java/generics/bounded.html)?","body":"I think for generics &amp; was used for <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/bounded.html\" rel=\"nofollow noreferrer\">multiple bounds</a>?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1672729726,"post_id":74989955,"comment_id":132335002,"body_markdown":"Multiple bounds means &quot;extends A and B&quot; not &quot;extends A or B&quot;","body":"Multiple bounds means &quot;extends A and B&quot; not &quot;extends A or B&quot;"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1672729753,"post_id":74989955,"comment_id":132335005,"body_markdown":"Having a return type that could be a String or a List or a Map doesn&#39;t work they way you intend. How would the compiler know what type to assign it to? It can&#39;t as it doesn&#39;t know the value, so all it knows is that an `Object` would be returned - and that&#39;s the only return type you can have in that method. - Suppose that method _would_ be possible: how would the compiler know the following is wrong? `String parsed = parse (&quot;[{foo1=bar1}, {foo2=bar2}]&quot;);`","body":"Having a return type that could be a String or a List or a Map doesn&#39;t work they way you intend. How would the compiler know what type to assign it to? It can&#39;t as it doesn&#39;t know the value, so all it knows is that an <code>Object</code> would be returned - and that&#39;s the only return type you can have in that method. - Suppose that method <i>would</i> be possible: how would the compiler know the following is wrong? <code>String parsed = parse (&quot;[{foo1=bar1}, {foo2=bar2}]&quot;);</code>"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1672730080,"post_id":74989955,"comment_id":132335073,"body_markdown":"As for the `&amp;`: as shmosel already stated that means &quot;and&quot;. Additionally, only interfaces are allowed after the `&amp;` so using `String &amp; ArrayList` would not be possible. Why? Because Java doesn&#39;t support multiple inheritance so no class could ever extend both `String` and `ArrayList`. You could, however, do something like this: `T extends Collection&lt;X&gt; &amp; Comparable&lt;X&gt;` to state &quot;the return type is a collection of X that also implements the `Comparable` interface&quot;. That&#39;s what multiple bounds are used for.","body":"As for the <code>&amp;</code>: as shmosel already stated that means &quot;and&quot;. Additionally, only interfaces are allowed after the <code>&amp;</code> so using <code>String &amp; ArrayList</code> would not be possible. Why? Because Java doesn&#39;t support multiple inheritance so no class could ever extend both <code>String</code> and <code>ArrayList</code>. You could, however, do something like this: <code>T extends Collection&lt;X&gt; &amp; Comparable&lt;X&gt;</code> to state &quot;the return type is a collection of X that also implements the <code>Comparable</code> interface&quot;. That&#39;s what multiple bounds are used for."},{"owner":{"account_id":27095221,"reputation":3,"user_id":20642519,"display_name":"Jenny R"},"score":0,"creation_date":1672730537,"post_id":74989955,"comment_id":132335177,"body_markdown":"Thanks Thomas. The String comes from a fileReader which loads a yaml. I turned each field back to String to support Macro insertion, and then was unable to revert it back to the old type...\n\nAs someone coming from python, who&#39;s used to messy types and handy methods like eval, I felt pretty awkward about how to turn them back into their original String/List/Map type. Do you have any tips on that?","body":"Thanks Thomas. The String comes from a fileReader which loads a yaml. I turned each field back to String to support Macro insertion, and then was unable to revert it back to the old type...  As someone coming from python, who&#39;s used to messy types and handy methods like eval, I felt pretty awkward about how to turn them back into their original String/List/Map type. Do you have any tips on that?"},{"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"score":0,"creation_date":1672750878,"post_id":74989955,"comment_id":132341283,"body_markdown":"If you can commit to supplying a valid JSON then you can easily achieve this with the Jackson Library and JSON subtypes\nhttps://stackoverflow.com/a/74891785/12302982\n\nOtherwise you will have to develop your own parsing library for your non standard inputs. You will still need to bind the return to some sort of type or just return object and cast the object to whatever you need later on. Alternatively make your parser call the method that needs this data instead of calling the parser from the method.","body":"If you can commit to supplying a valid JSON then you can easily achieve this with the Jackson Library and JSON subtypes <a href=\"https://stackoverflow.com/a/74891785/12302982\">stackoverflow.com/a/74891785/12302982</a>  Otherwise you will have to develop your own parsing library for your non standard inputs. You will still need to bind the return to some sort of type or just return object and cast the object to whatever you need later on. Alternatively make your parser call the method that needs this data instead of calling the parser from the method."}],"owner":{"account_id":27095221,"reputation":3,"user_id":20642519,"display_name":"Jenny R"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672729083,"creation_date":1672729083,"question_id":74989955,"body_markdown":"Sorry for this noob Java question\r\n\r\n---\r\n\r\nI am trying to write a parser for the String representation of an Object of type T\r\n\r\nT could be\r\n\r\n- String\r\n- ArrayList\\&lt;T\\&gt;\r\n- LinkedHashMap\\&lt;String, T\\&gt;\r\n\r\nI have used `toString()` to convert it into a String, example strings are like\r\n\r\n```\r\n\r\n&quot;a&quot;  \r\n&quot;{foo=bar}&quot;  \r\n&quot;[foo, bar]&quot;  \r\n&quot;[{foo1=bar1}, {foo2=bar2}]&quot;\r\n&quot;{a=[a1, a2], b=b1, c={key:val}}&quot;\r\n```\r\n\r\nBecause the parsed result could be of various type, I am trying to make the parser return a generic type\r\n\r\nI tried something like\r\n\r\n```\r\n\r\nprivate &lt;T extends String &amp; LinkedHashMap&lt;String, T&gt; &amp; ArrayList&lt;T&gt;&gt; T parse(String s)\r\nthrows ParseException {\r\n\r\n    if (s.charAt(0) != &#39;{&#39; &amp;&amp; s.charAt(0) != &#39;[&#39;) {\r\n      return s;\r\n    } else if (s.charAt(0) == &#39;{&#39;) {\r\n      LinkedHashMap&lt;String, T&gt; res = new LinkedHashMap&lt;&gt;();\r\n      for (String entry : s.substring(1, s.length() - 1).split(&quot;, &quot;)) {\r\n        String[] data = entry.split(&quot;=&quot;);\r\n        res.put(data[0], parse(data[1]));\r\n      }\r\n      return res;\r\n    } else if (s.charAt(0) == &#39;[&#39;) {\r\n      ArrayList&lt;T&gt; res = new ArrayList&lt;&gt;();\r\n      for (String data : s.substring(1, s.length() - 1).split(&quot;, &quot;)) {\r\n        res.add(parse(data));\r\n      }\r\n      return res;\r\n    } else {\r\n      throw new ParseException(...);\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd got errors like\r\n\r\n```\r\n\r\nincompatible types:\r\n   String cannot be converted to T\r\n   LinkedHashMap&lt;String,T&gt; cannot be converted to T\r\n   ArrayList&lt;T&gt; cannot be converted to T\r\n```\r\n\r\nHow do I make it work?\r\nThanks for the help in advance!","title":"How to create a method that returns generics with incompatible bounds?","body":"<p>Sorry for this noob Java question</p>\n<hr />\n<p>I am trying to write a parser for the String representation of an Object of type T</p>\n<p>T could be</p>\n<ul>\n<li>String</li>\n<li>ArrayList&lt;T&gt;</li>\n<li>LinkedHashMap&lt;String, T&gt;</li>\n</ul>\n<p>I have used <code>toString()</code> to convert it into a String, example strings are like</p>\n<pre><code>\n&quot;a&quot;  \n&quot;{foo=bar}&quot;  \n&quot;[foo, bar]&quot;  \n&quot;[{foo1=bar1}, {foo2=bar2}]&quot;\n&quot;{a=[a1, a2], b=b1, c={key:val}}&quot;\n</code></pre>\n<p>Because the parsed result could be of various type, I am trying to make the parser return a generic type</p>\n<p>I tried something like</p>\n<pre><code>\nprivate &lt;T extends String &amp; LinkedHashMap&lt;String, T&gt; &amp; ArrayList&lt;T&gt;&gt; T parse(String s)\nthrows ParseException {\n\n    if (s.charAt(0) != '{' &amp;&amp; s.charAt(0) != '[') {\n      return s;\n    } else if (s.charAt(0) == '{') {\n      LinkedHashMap&lt;String, T&gt; res = new LinkedHashMap&lt;&gt;();\n      for (String entry : s.substring(1, s.length() - 1).split(&quot;, &quot;)) {\n        String[] data = entry.split(&quot;=&quot;);\n        res.put(data[0], parse(data[1]));\n      }\n      return res;\n    } else if (s.charAt(0) == '[') {\n      ArrayList&lt;T&gt; res = new ArrayList&lt;&gt;();\n      for (String data : s.substring(1, s.length() - 1).split(&quot;, &quot;)) {\n        res.add(parse(data));\n      }\n      return res;\n    } else {\n      throw new ParseException(...);\n    }\n\n}\n</code></pre>\n<p>And got errors like</p>\n<pre><code>\nincompatible types:\n   String cannot be converted to T\n   LinkedHashMap&lt;String,T&gt; cannot be converted to T\n   ArrayList&lt;T&gt; cannot be converted to T\n</code></pre>\n<p>How do I make it work?\nThanks for the help in advance!</p>\n"},{"tags":["java","selenium","xpath","selenium-webdriver","web-scraping"],"answers":[{"tags":[],"owner":{"account_id":4725054,"reputation":16161,"user_id":3821981,"accept_rate":62,"display_name":"Saifur"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1424026249,"creation_date":1424025505,"answer_id":28529653,"question_id":28529577,"body_markdown":"You want to specify that like the following:\r\n\r\n    //td[contains(@class,&#39;deletion&#39;) or contains(@class,&#39;addition&#39;)]\r\n\r\nor\r\n\r\n    //td[contains(@class,&#39;blob-code blob-code-addition&#39;) or contains(@class,&#39;blob-code blob-code-deletion&#39;)]\r\n\r\n**If you want to do a `tag` independent search then you can simply use**\r\n\r\n    //*[contains(@class,&#39;blob-code blob-code-addition&#39;) or contains(@class,&#39;blob-code blob-code-deletion&#39;)]\r\n\r\nFrom your answer it looks like you are trying to concatenate two different `xpath`s\r\n\r\n**However, `contians()` is not mandatory here. You also can do without this**\r\n\r\n    //*[(@class=&#39;blob-code blob-code-addition&#39;) or (@class=&#39;blob-code blob-code-deletion&#39;)]","title":"Specifying multiple conditions in xpath","body":"<p>You want to specify that like the following:</p>\n\n<pre><code>//td[contains(@class,'deletion') or contains(@class,'addition')]\n</code></pre>\n\n<p>or</p>\n\n<pre><code>//td[contains(@class,'blob-code blob-code-addition') or contains(@class,'blob-code blob-code-deletion')]\n</code></pre>\n\n<p><strong>If you want to do a <code>tag</code> independent search then you can simply use</strong></p>\n\n<pre><code>//*[contains(@class,'blob-code blob-code-addition') or contains(@class,'blob-code blob-code-deletion')]\n</code></pre>\n\n<p>From your answer it looks like you are trying to concatenate two different <code>xpath</code>s</p>\n\n<p><strong>However, <code>contians()</code> is not mandatory here. You also can do without this</strong></p>\n\n<pre><code>//*[(@class='blob-code blob-code-addition') or (@class='blob-code blob-code-deletion')]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10726280,"reputation":67,"user_id":7893703,"display_name":"Anil Jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521710369,"creation_date":1521709405,"answer_id":49424432,"question_id":28529577,"body_markdown":"using pom: \r\n`@FindBy(xpath =&quot;//span[contains(@class,&#39;vui-menuitem-label-text&#39;) and normalize-space(.) = &#39;Clone&#39;]&quot;)`","title":"Specifying multiple conditions in xpath","body":"<p>using pom: \n<code>@FindBy(xpath =\"//span[contains(@class,'vui-menuitem-label-text') and normalize-space(.) = 'Clone']\")</code></p>\n"},{"tags":[],"owner":{"account_id":7527385,"reputation":2083,"user_id":5717031,"accept_rate":17,"display_name":"Mike ASP"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1580963662,"creation_date":1580963662,"answer_id":60087796,"question_id":28529577,"body_markdown":"what works for me is below expression **using &quot;|&quot; character** inside my expression-\r\n\r\nBy element = driver.findElement(By.xpath(&quot;//button[@clas=&#39;xyz&#39;] | //button[@clas=&#39;abc&#39;]&quot;))\r\n\r\nI used above expression for JAVA + Selenium + Maven project","title":"Specifying multiple conditions in xpath","body":"<p>what works for me is below expression <strong>using \"|\" character</strong> inside my expression-</p>\n\n<p>By element = driver.findElement(By.xpath(\"//button[@clas='xyz'] | //button[@clas='abc']\"))</p>\n\n<p>I used above expression for JAVA + Selenium + Maven project</p>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612392068,"creation_date":1612392068,"answer_id":66036801,"question_id":28529577,"body_markdown":"To select all the tags with:\r\n\r\n- `&lt;td class=&quot;blob-code blob-code-addition&quot;&gt;`\r\n- `&lt;td class=&quot;blob-code blob-code-deletion&quot;&gt;`\r\n\r\nYou can use either of the following [Locator Strategies](https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890):\r\n\r\n- Using _xpath_ through `class` attribute with _or_ clause:\r\n\r\n\t  //td[@class=&#39;blob-code blob-code-addition&#39; or @class=&#39;blob-code blob-code-deletion&#39;]\r\n\t\r\n- Using _xpath_ through single `class` attribute with _or_ clause:\r\n\r\n\t  //td[contains(@class,&#39;blob-code-addition&#39;) or contains(@class,&#39;blob-code-deletion&#39;)]\r\n\r\n- Using _xpath_ through partial `class` attribute with _or_ clause:\r\n\r\n\t  //td[contains(@class,&#39;addition&#39;) or contains(@class,&#39;deletion&#39;)]","title":"Specifying multiple conditions in xpath","body":"<p>To select all the tags with:</p>\n<ul>\n<li><code>&lt;td class=&quot;blob-code blob-code-addition&quot;&gt;</code></li>\n<li><code>&lt;td class=&quot;blob-code blob-code-deletion&quot;&gt;</code></li>\n</ul>\n<p>You can use either of the following <a href=\"https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890\">Locator Strategies</a>:</p>\n<ul>\n<li><p>Using <em>xpath</em> through <code>class</code> attribute with <em>or</em> clause:</p>\n<pre><code>//td[@class='blob-code blob-code-addition' or @class='blob-code blob-code-deletion']\n</code></pre>\n</li>\n<li><p>Using <em>xpath</em> through single <code>class</code> attribute with <em>or</em> clause:</p>\n<pre><code>//td[contains(@class,'blob-code-addition') or contains(@class,'blob-code-deletion')]\n</code></pre>\n</li>\n<li><p>Using <em>xpath</em> through partial <code>class</code> attribute with <em>or</em> clause:</p>\n<pre><code>//td[contains(@class,'addition') or contains(@class,'deletion')]\n</code></pre>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":25780504,"reputation":31,"user_id":19526203,"display_name":"Sharvik Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672728921,"creation_date":1672728921,"answer_id":74989926,"question_id":28529577,"body_markdown":"For writing Multiple Xpath in one element selenium\r\n\r\n    driver.find_elements(By.XPATH, &#39;//div[@class=&quot;any-content&quot;]//p|//h3|//figure&#39;)\r\n\r\nYou can write many tags by using &quot;|&quot; modulo.\r\n\r\n ","title":"Specifying multiple conditions in xpath","body":"<p>For writing Multiple Xpath in one element selenium</p>\n<pre><code>driver.find_elements(By.XPATH, '//div[@class=&quot;any-content&quot;]//p|//h3|//figure')\n</code></pre>\n<p>You can write many tags by using &quot;|&quot; modulo.</p>\n"}],"owner":{"account_id":5003297,"reputation":2108,"user_id":4021611,"accept_rate":71,"display_name":"Zack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29751,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":5,"score":6,"last_activity_date":1672728921,"creation_date":1424025106,"question_id":28529577,"body_markdown":"I want to select all the tags with `&lt;td class=&#39;blob-code blob-code-addition&#39;&gt; and &lt;td class=&#39;blob-code blob-code-deletion&#39;&gt;` . So I am trying to include `or` condition here between the two predicates. It does not work. However, if I include only one of the two classes it works . What is the problem here? Something is wrong with the syntax.\r\n\r\n\r\n    By getChanges = By.xpath(&quot;//td[@class=&#39;blob-code blob-code-addition&#39;] or  //td[@class=&#39;blob-code blob-code-deletion&#39;]&quot;);","title":"Specifying multiple conditions in xpath","body":"<p>I want to select all the tags with <code>&lt;td class='blob-code blob-code-addition'&gt; and &lt;td class='blob-code blob-code-deletion'&gt;</code> . So I am trying to include <code>or</code> condition here between the two predicates. It does not work. However, if I include only one of the two classes it works . What is the problem here? Something is wrong with the syntax.</p>\n\n<pre><code>By getChanges = By.xpath(\"//td[@class='blob-code blob-code-addition'] or  //td[@class='blob-code blob-code-deletion']\");\n</code></pre>\n"},{"tags":["java","docker","memory-management","rx-java2","micronaut"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1672721245,"post_id":74989107,"comment_id":132333745,"body_markdown":"Please read: [Can I ask only one question per post?](https://meta.stackexchange.com/questions/222735/can-i-ask-only-one-question-per-post)","body":"Please read: <a href=\"https://meta.stackexchange.com/questions/222735/can-i-ask-only-one-question-per-post\">Can I ask only one question per post?</a>"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1672721299,"post_id":74989107,"comment_id":132333749,"body_markdown":"&quot;*How can I check what all is contributing to this memory usage.*&quot; - Jump into the container, locate the process, analyze the memory pages. This it the only way to see with 100% certainty what is going on, although this might be time consuming","body":"&quot;<i>How can I check what all is contributing to this memory usage.</i>&quot; - Jump into the container, locate the process, analyze the memory pages. This it the only way to see with 100% certainty what is going on, although this might be time consuming"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1672721361,"post_id":74989107,"comment_id":132333765,"body_markdown":"&quot;*On prometheus we are using container_memory_usage_bytes metrics*&quot; - As far as I know, micronaut is mp-compatible. There are more powerful metrics with mp-metrics; we should be able to get metrics for the different memory areas of the JVM. This might be worth exploring.","body":"&quot;<i>On prometheus we are using container_memory_usage_bytes metrics</i>&quot; - As far as I know, micronaut is mp-compatible. There are more powerful metrics with mp-metrics; we should be able to get metrics for the different memory areas of the JVM. This might be worth exploring."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1672721487,"post_id":74989107,"comment_id":132333780,"body_markdown":"&quot;*can container go beyond the allocated memory limit 512M as I have seen few instances in the past on the same porometheus metrics.*&quot; - If the memory limit for the container is set to 512M, then no. k8s will enforce the container memory limit. If the pod exceeds the limit, it will be killed.","body":"&quot;<i>can container go beyond the allocated memory limit 512M as I have seen few instances in the past on the same porometheus metrics.</i>&quot; - If the memory limit for the container is set to 512M, then no. k8s will enforce the container memory limit. If the pod exceeds the limit, it will be killed."},{"owner":{"account_id":1223005,"reputation":1348,"user_id":1189254,"accept_rate":64,"display_name":"Manish"},"score":0,"creation_date":1672722358,"post_id":74989107,"comment_id":132333892,"body_markdown":"@Turing85 removed the multiple questions","body":"@Turing85 removed the multiple questions"}],"owner":{"account_id":1223005,"reputation":1348,"user_id":1189254,"accept_rate":64,"display_name":"Manish"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":294,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672728800,"creation_date":1672721045,"question_id":74989107,"body_markdown":"I am running a RxJava-Micronaut with application and sqlite database inside the container. This application is having a scheduled job which process half millions string records from database (it calls other api in the batch of 200 records during that process) . We are loading all these records in one shot using RxJava Flowable and using BackPressure Drop Strategy. There is no OutOfMemoryError.\r\n\r\nI am trying to understand memory consumption by container. Container memory limit has been set to 512M.\r\n\r\nMy Docker file is having below JVM params\r\n\r\n    EXPOSE 8080\r\n    CMD java -Dcom.sun.management.jmxremote -Xms200m -Xmx235m -XX:+UseG1GC -XX:MaxGCPauseMillis=100 -XX:+HeapDumpOnOutOfMemoryError -XX:+ExitOnOutOfMemoryError -XX:HeapDumpPath=/var/data/heapdump.hprof -Dmicronaut.environments=${CONFIG_ENV} -XX:+PrintCommandLineFlags -jar myapp.jar\r\n\r\nHere I have Jvm min and max to 200M and 235M respectively.\r\n\r\nWhat here I am looking is to understand all components which is contributing to container memory consumption.\r\n\r\n 1. When I check the `docker stats` for the container, it shows memory usage around 450M out of 512 even if the schedule job inside docker is not running. How can I check what all is contributing to this memory usage.\r\n     [![enter image description here][1]][1]\r\n\r\n\r\nAs suggested I have checked inside the container and found java process is consuming that much memory (439M)\r\n\r\n[![enter image description here][2]][2]\r\n\r\nHow to investigate further here. I believe heap dump will show details or memory occupied in heap which in my case max is 235M. What else might be contributing to 437M? How can I check that ?\r\n\r\nThanks\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pgxah.jpg\r\n  [2]: https://i.stack.imgur.com/hdtwo.png","title":"How to analyze memory consumption when running application inside container","body":"<p>I am running a RxJava-Micronaut with application and sqlite database inside the container. This application is having a scheduled job which process half millions string records from database (it calls other api in the batch of 200 records during that process) . We are loading all these records in one shot using RxJava Flowable and using BackPressure Drop Strategy. There is no OutOfMemoryError.</p>\n<p>I am trying to understand memory consumption by container. Container memory limit has been set to 512M.</p>\n<p>My Docker file is having below JVM params</p>\n<pre><code>EXPOSE 8080\nCMD java -Dcom.sun.management.jmxremote -Xms200m -Xmx235m -XX:+UseG1GC -XX:MaxGCPauseMillis=100 -XX:+HeapDumpOnOutOfMemoryError -XX:+ExitOnOutOfMemoryError -XX:HeapDumpPath=/var/data/heapdump.hprof -Dmicronaut.environments=${CONFIG_ENV} -XX:+PrintCommandLineFlags -jar myapp.jar\n</code></pre>\n<p>Here I have Jvm min and max to 200M and 235M respectively.</p>\n<p>What here I am looking is to understand all components which is contributing to container memory consumption.</p>\n<ol>\n<li>When I check the <code>docker stats</code> for the container, it shows memory usage around 450M out of 512 even if the schedule job inside docker is not running. How can I check what all is contributing to this memory usage.\n<a href=\"https://i.stack.imgur.com/pgxah.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pgxah.jpg\" alt=\"enter image description here\" /></a></li>\n</ol>\n<p>As suggested I have checked inside the container and found java process is consuming that much memory (439M)</p>\n<p><a href=\"https://i.stack.imgur.com/hdtwo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hdtwo.png\" alt=\"enter image description here\" /></a></p>\n<p>How to investigate further here. I believe heap dump will show details or memory occupied in heap which in my case max is 235M. What else might be contributing to 437M? How can I check that ?</p>\n<p>Thanks</p>\n"},{"tags":["java","spring-boot","spring-webflux"],"comments":[{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1672411676,"post_id":74961348,"comment_id":132285506,"body_markdown":"Check Reactor 3 Reference Guide - Handling Errors https://projectreactor.io/docs/core/release/reference/#which.errors","body":"Check Reactor 3 Reference Guide - Handling Errors <a href=\"https://projectreactor.io/docs/core/release/reference/#which.errors\" rel=\"nofollow noreferrer\">projectreactor.io/docs/core/release/reference/#which.errors</a>"}],"answers":[{"tags":[],"owner":{"account_id":9906484,"reputation":193,"user_id":7334855,"display_name":"Murtaza Hasan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672728264,"creation_date":1672728264,"answer_id":74989834,"question_id":74961348,"body_markdown":"After some digging, found at that there are two important concepts to understand before being able to handle this problem. \r\n\r\n- Reactive pipeline assembly stage\r\n- Reactive pipeline subscription stage\r\n\r\nIn simpler terms,\r\n\r\n- **Assembly Stage** is when the reactive pipeline is being built and initialised but no subscriber has yet subscribed, hence no records are flowing through it. \r\n\r\n- **Subscription Stage** is when the reactive pipeline has been successfully built and subscribed. This is the stage where the actual records flow through the pipeline. \r\n\r\nIf an exception occurs at Assembly stage (as in the above example), it will not be caught by any of the error handlers such as `doOnError`, `onErrorContinue`, `onErrorResume`, etc. However, if an exception occurs during the subscription stage, that&#39;ll be wrapped as a Error Mono and be handle-able via aforementioned handlers. \r\n\r\nIdeally, `fetchInfoFromRemoteHost()` should not perform any non-reactive operations and should only return a pipeline that gets executed when subscribed. This way, we&#39;ll not have to handle the Assembly stage runtime exceptions. \r\n\r\nAdditionally, it is dirty but if we really want to handle a Assembly stage exception, we can wrap it in a simple try/catch. ","title":"How to catch and handle runtime exception in reactive java","body":"<p>After some digging, found at that there are two important concepts to understand before being able to handle this problem.</p>\n<ul>\n<li>Reactive pipeline assembly stage</li>\n<li>Reactive pipeline subscription stage</li>\n</ul>\n<p>In simpler terms,</p>\n<ul>\n<li><p><strong>Assembly Stage</strong> is when the reactive pipeline is being built and initialised but no subscriber has yet subscribed, hence no records are flowing through it.</p>\n</li>\n<li><p><strong>Subscription Stage</strong> is when the reactive pipeline has been successfully built and subscribed. This is the stage where the actual records flow through the pipeline.</p>\n</li>\n</ul>\n<p>If an exception occurs at Assembly stage (as in the above example), it will not be caught by any of the error handlers such as <code>doOnError</code>, <code>onErrorContinue</code>, <code>onErrorResume</code>, etc. However, if an exception occurs during the subscription stage, that'll be wrapped as a Error Mono and be handle-able via aforementioned handlers.</p>\n<p>Ideally, <code>fetchInfoFromRemoteHost()</code> should not perform any non-reactive operations and should only return a pipeline that gets executed when subscribed. This way, we'll not have to handle the Assembly stage runtime exceptions.</p>\n<p>Additionally, it is dirty but if we really want to handle a Assembly stage exception, we can wrap it in a simple try/catch.</p>\n"}],"owner":{"account_id":9906484,"reputation":193,"user_id":7334855,"display_name":"Murtaza Hasan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":400,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672728264,"creation_date":1672401947,"question_id":74961348,"body_markdown":"I am new to reactive java with some basic knowledge. I am working on fixing a code piece where, \r\n\r\n    remoteHelper.fetchInfoFromRemoteHost(authToken)\r\n    .flatMap(response -&gt; {\r\n       //Process the response\r\n     })\r\n\r\nThe `fetchInfoFromRemoteHost` method either returns a valid Mono&lt;RemoteResponse&gt; or else can throw any runtime exception. I cannot change the method as it comes from a library. \r\n\r\nHow do I handle the case when this method throws a runtime exception? Cause I want to catch the runtime exception, wrap in a custom exception and rethrow or else process the valid response. In pseudo code, I want to do something like: \r\n\r\n    remoteHelper.fetchInfoFromRemoteHost(authToken)\r\n    .onError(e -&gt; Mono.error(new CustomException(e))\r\n    .flatMap(response -&gt; {\r\n      //Process the response\r\n    })","title":"How to catch and handle runtime exception in reactive java","body":"<p>I am new to reactive java with some basic knowledge. I am working on fixing a code piece where,</p>\n<pre><code>remoteHelper.fetchInfoFromRemoteHost(authToken)\n.flatMap(response -&gt; {\n   //Process the response\n })\n</code></pre>\n<p>The <code>fetchInfoFromRemoteHost</code> method either returns a valid Mono or else can throw any runtime exception. I cannot change the method as it comes from a library.</p>\n<p>How do I handle the case when this method throws a runtime exception? Cause I want to catch the runtime exception, wrap in a custom exception and rethrow or else process the valid response. In pseudo code, I want to do something like:</p>\n<pre><code>remoteHelper.fetchInfoFromRemoteHost(authToken)\n.onError(e -&gt; Mono.error(new CustomException(e))\n.flatMap(response -&gt; {\n  //Process the response\n})\n</code></pre>\n"},{"tags":["javascript","java","android","node.js","react-native"],"comments":[{"owner":{"account_id":189966,"reputation":1571,"user_id":4826364,"display_name":"Trevor"},"score":1,"creation_date":1574265461,"post_id":58952564,"comment_id":104172383,"body_markdown":"What operating system are you using? I found my issue was caused by file permissions inside the android build folders - no idea what happened but on my Windows 10 machine I had to make sure I started all my apps (Android Studio, VS Code, Windows Command) with elevated rights (Run as administrator).","body":"What operating system are you using? I found my issue was caused by file permissions inside the android build folders - no idea what happened but on my Windows 10 machine I had to make sure I started all my apps (Android Studio, VS Code, Windows Command) with elevated rights (Run as administrator)."},{"owner":{"account_id":15724293,"reputation":792,"user_id":11346397,"display_name":"yashatreya"},"score":0,"creation_date":1574265536,"post_id":58952564,"comment_id":104172424,"body_markdown":"I’m using MacOS","body":"I’m using MacOS"},{"owner":{"account_id":189966,"reputation":1571,"user_id":4826364,"display_name":"Trevor"},"score":0,"creation_date":1574333513,"post_id":58952564,"comment_id":104199836,"body_markdown":"I recreated the project using the CLI and it started working :-(","body":"I recreated the project using the CLI and it started working :-("},{"owner":{"account_id":15724293,"reputation":792,"user_id":11346397,"display_name":"yashatreya"},"score":0,"creation_date":1574333717,"post_id":58952564,"comment_id":104199956,"body_markdown":"@TahirKhalid Meaning you started a whole new project using react-native init? Can you please elaborate a bit, thanks","body":"@TahirKhalid Meaning you started a whole new project using react-native init? Can you please elaborate a bit, thanks"},{"owner":{"account_id":189966,"reputation":1571,"user_id":4826364,"display_name":"Trevor"},"score":0,"creation_date":1574631034,"post_id":58952564,"comment_id":104290301,"body_markdown":"Yes I recreated the project but this time I made sure permissions were correct. I would use the MacOS console and chmod the folders and files to ensure correct read/write access","body":"Yes I recreated the project but this time I made sure permissions were correct. I would use the MacOS console and chmod the folders and files to ensure correct read/write access"},{"owner":{"account_id":57152,"reputation":11299,"user_id":171168,"accept_rate":68,"display_name":"pasine"},"score":0,"creation_date":1574769189,"post_id":58952564,"comment_id":104340827,"body_markdown":"I think this bug report seems related. https://github.com/react-native-community/cli/issues/863","body":"I think this bug report seems related. <a href=\"https://github.com/react-native-community/cli/issues/863\" rel=\"nofollow noreferrer\">github.com/react-native-community/cli/issues/863</a>"}],"answers":[{"tags":[],"owner":{"account_id":14415505,"reputation":824,"user_id":10413070,"display_name":"Ali Mohammad"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1579777682,"creation_date":1574351609,"answer_id":58978876,"question_id":58952564,"body_markdown":"I think this problem is only in the newer version (0.61) I had the same issue and I just used the older version  (0.60.0) \r\n\r\n     npx react-native init AwesomeProject --version 0.60.0\r\n\r\n","title":"Error: Unable to determine the current character, it is not a string, number, array, or object in react-native for android","body":"<p>I think this problem is only in the newer version (0.61) I had the same issue and I just used the older version  (0.60.0) </p>\n\n<pre><code> npx react-native init AwesomeProject --version 0.60.0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8570757,"reputation":2614,"user_id":6421759,"accept_rate":57,"display_name":"Faustino Gagneten"},"down_vote_count":0,"up_vote_count":59,"is_accepted":true,"score":59,"last_activity_date":1583936696,"creation_date":1577501074,"answer_id":59507720,"question_id":58952564,"body_markdown":"**SOLUTION 1** (worked for me)\r\n\r\nThe solution for me was removing the following line\r\n\r\n    apply from: file(&quot;../../node_modules/@react-native-community/cli-platform-android/native_modules.gradle&quot;); applyNativeModulesAppBuildGradle(project)\r\n\r\nBe sure to remove it everywhere. I had this line in **build.gradle (app)** and also in **settings.gradle**.\r\n\r\nAfter that, run again **npx react-native run-android** the console will display the real error, fix the error and put back the lines you had removed.\r\n\r\nIn my case the error happened because I have been using an older Node version and the second time It happened I needed to sync my project again\r\n\r\n----------------\r\n**SOLUTION 2**\r\n\r\nDelete the files it was finding error as &quot;The current character read is &#39;E&#39; with an int value of 69&quot;\r\n\r\nDeleting \r\n\r\n    app\\build\\intermediates\\signing_config\\debug\\out\\signing-config.json\r\n\r\nworked for others too.\r\n\r\n----------------\r\n**SOLUTION 3**\r\n\r\nUpdate the [@react-native-community/cli][1] to the latest version.\r\n\r\n**Good coding!**\r\n\r\n\r\n  [1]: https://github.com/react-native-community/cli#updating-the-cli","title":"Error: Unable to determine the current character, it is not a string, number, array, or object in react-native for android","body":"<p><strong>SOLUTION 1</strong> (worked for me)</p>\n\n<p>The solution for me was removing the following line</p>\n\n<pre><code>apply from: file(\"../../node_modules/@react-native-community/cli-platform-android/native_modules.gradle\"); applyNativeModulesAppBuildGradle(project)\n</code></pre>\n\n<p>Be sure to remove it everywhere. I had this line in <strong>build.gradle (app)</strong> and also in <strong>settings.gradle</strong>.</p>\n\n<p>After that, run again <strong>npx react-native run-android</strong> the console will display the real error, fix the error and put back the lines you had removed.</p>\n\n<p>In my case the error happened because I have been using an older Node version and the second time It happened I needed to sync my project again</p>\n\n<hr>\n\n<p><strong>SOLUTION 2</strong></p>\n\n<p>Delete the files it was finding error as \"The current character read is 'E' with an int value of 69\"</p>\n\n<p>Deleting </p>\n\n<pre><code>app\\build\\intermediates\\signing_config\\debug\\out\\signing-config.json\n</code></pre>\n\n<p>worked for others too.</p>\n\n<hr>\n\n<p><strong>SOLUTION 3</strong></p>\n\n<p>Update the <a href=\"https://github.com/react-native-community/cli#updating-the-cli\" rel=\"noreferrer\">@react-native-community/cli</a> to the latest version.</p>\n\n<p><strong>Good coding!</strong></p>\n"},{"tags":[],"owner":{"account_id":9622515,"reputation":124,"user_id":7143246,"display_name":"lucas augustus"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1672727984,"creation_date":1580334689,"answer_id":59976133,"question_id":58952564,"body_markdown":"Just removed the build folder inside android and go to android folder and then in powershell typed `./gradlew clean` and then  `cd..` =&gt; `npx react-native run-android`","title":"Error: Unable to determine the current character, it is not a string, number, array, or object in react-native for android","body":"<p>Just removed the build folder inside android and go to android folder and then in powershell typed <code>./gradlew clean</code> and then  <code>cd..</code> =&gt; <code>npx react-native run-android</code></p>\n"},{"tags":[],"owner":{"account_id":1696023,"reputation":360,"user_id":1557383,"accept_rate":50,"display_name":"vinny"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1581414478,"creation_date":1581414478,"answer_id":60165998,"question_id":58952564,"body_markdown":"Please ensure the AndroidManifest.xml data is in proper quotes &quot;&quot; not “”. This usually happens when we are configuring the firebase and copy pasting the dependencies.","title":"Error: Unable to determine the current character, it is not a string, number, array, or object in react-native for android","body":"<p>Please ensure the AndroidManifest.xml data is in proper quotes \"\" not “”. This usually happens when we are configuring the firebase and copy pasting the dependencies.</p>\n"},{"tags":[],"owner":{"account_id":3157152,"reputation":1259,"user_id":2669306,"display_name":"k26dr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1591078456,"creation_date":1591078456,"answer_id":62145909,"question_id":58952564,"body_markdown":"Deleting the `node_modules` folder and running `npm install` again worked for me","title":"Error: Unable to determine the current character, it is not a string, number, array, or object in react-native for android","body":"<p>Deleting the <code>node_modules</code> folder and running <code>npm install</code> again worked for me</p>\n"},{"tags":[],"owner":{"account_id":18441605,"reputation":11,"user_id":13434093,"display_name":"Pawan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591285560,"creation_date":1591283324,"answer_id":62197983,"question_id":58952564,"body_markdown":"Follow the steps below in project folder\r\n\r\n1. `cd android`\r\n2.  `./gradlew clean`\r\n3. `cd ..`\r\n4. `npm install`\r\n5. `react-native run-android`","title":"Error: Unable to determine the current character, it is not a string, number, array, or object in react-native for android","body":"<p>Follow the steps below in project folder</p>\n\n<ol>\n<li><code>cd android</code></li>\n<li><code>./gradlew clean</code></li>\n<li><code>cd ..</code></li>\n<li><code>npm install</code></li>\n<li><code>react-native run-android</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":11978186,"reputation":957,"user_id":8764754,"display_name":"Moses Gitau "},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1592285591,"creation_date":1592285591,"answer_id":62401542,"question_id":58952564,"body_markdown":"Deleting `android/app/release` worked for me.","title":"Error: Unable to determine the current character, it is not a string, number, array, or object in react-native for android","body":"<p>Deleting <code>android/app/release</code> worked for me.</p>\n"},{"tags":[],"owner":{"account_id":7217470,"reputation":61,"user_id":5509360,"display_name":"Shawon Barua"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593945900,"creation_date":1593945900,"answer_id":62739653,"question_id":58952564,"body_markdown":"At first, you should try closing the emulator. In windows, when I tried to build with an emulator running this error occurred.","title":"Error: Unable to determine the current character, it is not a string, number, array, or object in react-native for android","body":"<p>At first, you should try closing the emulator. In windows, when I tried to build with an emulator running this error occurred.</p>\n"},{"tags":[],"owner":{"account_id":18693912,"reputation":693,"user_id":13627661,"display_name":"Mitesh K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612866117,"creation_date":1612866117,"answer_id":66117027,"question_id":58952564,"body_markdown":"Maybe your npm (node) server is starting.\r\nif the server is starting close it.","title":"Error: Unable to determine the current character, it is not a string, number, array, or object in react-native for android","body":"<p>Maybe your npm (node) server is starting.\nif the server is starting close it.</p>\n"},{"tags":[],"owner":{"account_id":17381279,"reputation":99,"user_id":12593437,"display_name":"ductridev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624347383,"creation_date":1624347383,"answer_id":68079352,"question_id":58952564,"body_markdown":"Deleting `node_modules` folder and running `npm install` again, it work for me!","title":"Error: Unable to determine the current character, it is not a string, number, array, or object in react-native for android","body":"<p>Deleting <code>node_modules</code> folder and running <code>npm install</code> again, it work for me!</p>\n"},{"tags":[],"owner":{"account_id":19350964,"reputation":11,"user_id":14148408,"display_name":"Payyavula Balanagaraju"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626234554,"creation_date":1626187714,"answer_id":68364688,"question_id":58952564,"body_markdown":"Check your `androidmanifest.xml` there are some issue will be there in that file..\r\n \r\nIn my case, I edited my `androidmanifest.xml` that&#39;s why I am getting that error and resolved that error by placing before edited code of `androidmanifest.xml`.\r\n\r\nthank you:)","title":"Error: Unable to determine the current character, it is not a string, number, array, or object in react-native for android","body":"<p>Check your <code>androidmanifest.xml</code> there are some issue will be there in that file..</p>\n<p>In my case, I edited my <code>androidmanifest.xml</code> that's why I am getting that error and resolved that error by placing before edited code of <code>androidmanifest.xml</code>.</p>\n<p>thank you:)</p>\n"},{"tags":[],"owner":{"account_id":10786,"reputation":18872,"user_id":20520,"accept_rate":89,"display_name":"Diomidis Spinellis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633544220,"creation_date":1633544220,"answer_id":69470778,"question_id":58952564,"body_markdown":"For me, under Cygwin, the problem turned out to be a symbolic link named `app` in the application&#39;s top level directory (above `android`, beside `node_modules`), which was pointing to the full path where it was residing (e.g. `/cygdrive/c/files/app`). It got created around the time I started the build. After deleting it, the problem was solved.","title":"Error: Unable to determine the current character, it is not a string, number, array, or object in react-native for android","body":"<p>For me, under Cygwin, the problem turned out to be a symbolic link named <code>app</code> in the application's top level directory (above <code>android</code>, beside <code>node_modules</code>), which was pointing to the full path where it was residing (e.g. <code>/cygdrive/c/files/app</code>). It got created around the time I started the build. After deleting it, the problem was solved.</p>\n"},{"tags":[],"owner":{"account_id":12215683,"reputation":598,"user_id":8916217,"display_name":"Sher Mi"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1647171908,"creation_date":1647171908,"answer_id":71456419,"question_id":58952564,"body_markdown":"That worked for me:\r\nInside my_flavor/AndroidManifest.xml, inside manifest tag just add package=&quot;com.my_package_name&quot;:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.my_package_name&quot; // &lt;&lt;added\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    &lt;uses-permission\r\n...\r\n&lt;/manifest&gt;\r\n\r\n```","title":"Error: Unable to determine the current character, it is not a string, number, array, or object in react-native for android","body":"<p>That worked for me:\nInside my_flavor/AndroidManifest.xml, inside manifest tag just add package=&quot;com.my_package_name&quot;:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.my_package_name&quot; // &lt;&lt;added\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n    &lt;uses-permission\n...\n&lt;/manifest&gt;\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11086384,"reputation":1,"user_id":8139924,"display_name":"Rog&#233;rio do Carmo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669299474,"creation_date":1669299435,"answer_id":74562166,"question_id":58952564,"body_markdown":"For the problem was that my AndroidManifest had erros. There were two &quot;aplication&quot; tags. By fixing the Manifest I was able to solved this issue.","title":"Error: Unable to determine the current character, it is not a string, number, array, or object in react-native for android","body":"<p>For the problem was that my AndroidManifest had erros. There were two &quot;aplication&quot; tags. By fixing the Manifest I was able to solved this issue.</p>\n"}],"owner":{"account_id":15724293,"reputation":792,"user_id":11346397,"display_name":"yashatreya"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54916,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":59507720,"answer_count":14,"score":27,"last_activity_date":1672727984,"creation_date":1574247039,"question_id":58952564,"body_markdown":"Whenever I run **react-native run-android** while keeping the emulator running, I get this error. **react-native run-ios** wroks completely fine.\r\n```\r\nError: Command failed: ./gradlew app:installDebug -PreactNativeDevServerPort=8081\r\n:ReactNative:Failed to parse React Native CLI configuration: groovy.json.JsonException: Unable to determine the current character, it is not a string, number, array, or object\r\n\r\nThe current character read is &#39;E&#39; with an int value of 69\r\nUnable to determine the current character, it is not a string, number, array, or object\r\nline number 1\r\nindex number 0\r\nError: Invalid attribute nameLine: 16Column: 18Char: .    at error (/Users/yashatreya/Desktop/Realyze/Realyze/node_modules/sax/lib/sax.js:651:10)    at strictFail (/Users/yashatreya/Desktop/Realyze/Realyze/node_modules/sax/lib/sax.js:677:7)    at SAXParser.write (/Users/yashatreya/Desktop/Realyze/Realyze/node_modules/sax/lib/sax.js:1313:13)    at new XmlDocument (/Users/yashatreya/Desktop/Realyze/Realyze/node_modules/xmldoc/lib/xmldoc.js:261:15)    at readManifest (/Users/yashatreya/Desktop/Realyze/Realyze/node_modules/@react-native-community/cli-platform-android/build/config/readManifest.js:38:10)    at Object.projectConfig (/Users/yashatreya/Desktop/Realyze/Realyze/node_modules/@react-native-community/cli-platform-android/build/config/index.js:59:46)    at Object.get project [as project] (/Users/yashatreya/Desktop/Realyze/Realyze/node_modules/react-native/node_modules/@react-native-community/cli/build/tools/config/index.js:114:50)    at /Users/yashatreya/Desktop/Realyze/Realyze/node_modules/react-native/node_modules/@react-native-community/cli/build/commands/config/config.js:8:452    at Array.forEach (&lt;anonymous&gt;)    at _objectSpread (/Users/yashatreya/Desktop/Realyze/Realyze/node_modules/react-native/node_modules/@react-native-community/cli/build/commands/config/config.js:8:392)\r\n^\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* Where:\r\nScript &#39;/Users/yashatreya/Desktop/Realyze/Realyze/node_modules/@react-native-community/cli-platform-android/native_modules.gradle&#39; line: 201\r\n\r\n* What went wrong:\r\nA problem occurred evaluating script.\r\n&gt; Failed to parse React Native CLI configuration. Expected running &#39;npx --quiet --no-install react-native config&#39; command from &#39;/Users/yashatreya/Desktop/Realyze/Realyze&#39; directory to output valid JSON, but it didn&#39;t. This may be caused by npx resolving to a legacy global react-native binary. Please make sure to uninstall any global &#39;react-native&#39; binaries: &#39;npm uninstall -g react-native react-native-cli&#39; and try again\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\n```\r\nAs indicated in the error message, I tried running `npm uninstall -g react-native react-native-cli` but it didn’t work.\r\n\r\nInfo about my environment:\r\n```\r\nSystem:\r\n    OS: macOS 10.15\r\n    CPU: (4) x64 Intel(R) Core(TM) i5-7360U CPU @ 2.30GHz\r\n    Memory: 29.68 MB / 8.00 GB\r\n    Shell: 3.2.57 - /bin/bash\r\n  Binaries:\r\n    Node: 12.13.0 - /usr/local/bin/node\r\n    Yarn: 1.19.1 - /usr/local/bin/yarn\r\n    npm: 6.12.0 - /usr/local/bin/npm\r\n    Watchman: 4.9.0 - /usr/local/bin/watchman\r\n  SDKs:\r\n    iOS SDK:\r\n      Platforms: iOS 13.0, DriverKit 19.0, macOS 10.15, tvOS 13.0, watchOS 6.0\r\n  IDEs:\r\n    Android Studio: 3.5 AI-191.8026.42.35.5977832\r\n    Xcode: 11.0/11A420a - /usr/bin/xcodebuild\r\n  npmPackages:\r\n    react: 16.9.0 =&gt; 16.9.0 \r\n    react-native: ^0.61.4 =&gt; 0.61.4 \r\n  npmGlobalPackages:\r\n    react-native-cli: 2.0.1\r\n```\r\nandroid/app/build.gradle below:\r\n\r\n```\r\napply plugin: &quot;com.android.application&quot;\r\n\r\nimport com.android.build.OutputFile\r\nproject.ext.react = [\r\n    entryFile: &quot;index.js&quot;,\r\n    enableHermes: false,  // clean and rebuild if changing\r\n]\r\n\r\napply from: &quot;../../node_modules/react-native/react.gradle&quot;\r\n\r\ndef enableSeparateBuildPerCPUArchitecture = false\r\ndef enableProguardInReleaseBuilds = false\r\n\r\ndef jscFlavor = &#39;org.webkit:android-jsc:+&#39; \r\n\r\ndef enableHermes = project.ext.react.get(&quot;enableHermes&quot;, false);\r\n\r\nandroid {\r\n    compileSdkVersion rootProject.ext.compileSdkVersion\r\n\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.realyze&quot;\r\n        minSdkVersion 21 \r\n        targetSdkVersion rootProject.ext.targetSdkVersion\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n        multiDexEnabled true\r\n\r\n    }\r\n    // rootProject.ext.minSdkVersion\r\n    splits {\r\n        abi {\r\n            reset()\r\n            enable enableSeparateBuildPerCPUArchitecture\r\n            universalApk false  // If true, also generate a universal APK\r\n            include &quot;armeabi-v7a&quot;, &quot;x86&quot;, &quot;arm64-v8a&quot;, &quot;x86_64&quot;\r\n        }\r\n    }\r\n    signingConfigs {\r\n        debug {\r\n            storeFile file(&#39;debug.keystore&#39;)\r\n            storePassword &#39;android&#39;\r\n            keyAlias &#39;androiddebugkey&#39;\r\n            keyPassword &#39;android&#39;\r\n        }\r\n    }\r\n    buildTypes {\r\n        debug {\r\n            signingConfig signingConfigs.debug\r\n        }\r\n        release {\r\n            // Caution! In production, you need to generate your own keystore file.\r\n            // see https://facebook.github.io/react-native/docs/signed-apk-android.\r\n            signingConfig signingConfigs.debug\r\n            minifyEnabled enableProguardInReleaseBuilds\r\n            proguardFiles getDefaultProguardFile(&quot;proguard-android.txt&quot;), &quot;proguard-rules.pro&quot;\r\n        }\r\n    }\r\n    // applicationVariants are e.g. debug, release\r\n    applicationVariants.all { variant -&gt;\r\n        variant.outputs.each { output -&gt;\r\n            // For each separate APK per architecture, set a unique version code as described here:\r\n            // https://developer.android.com/studio/build/configure-apk-splits.html\r\n            def versionCodes = [&quot;armeabi-v7a&quot;: 1, &quot;x86&quot;: 2, &quot;arm64-v8a&quot;: 3, &quot;x86_64&quot;: 4]\r\n            def abi = output.getFilter(OutputFile.ABI)\r\n            if (abi != null) {  // null for the universal-debug, universal-release variants\r\n                output.versionCodeOverride =\r\n                        versionCodes.get(abi) * 1048576 + defaultConfig.versionCode\r\n            }\r\n\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation project(&#39;:react-native-push-notification&#39;)\r\n    implementation project(&#39;:react-native-sound&#39;)\r\n    implementation project(&#39;:react-native-audio&#39;)\r\n    implementation &#39;com.android.support:multidex:2.0.1&#39;\r\n    implementation project(&#39;:react-native-gesture-handler&#39;)\r\n    implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])\r\n    implementation &quot;com.facebook.react:react-native:+&quot;  // From node_modules\r\n    implementation &#39;androidx.appcompat:appcompat:1.1.0-rc01&#39;\r\n    implementation &#39;androidx.swiperefreshlayout:swiperefreshlayout:1.1.0-alpha02&#39;\r\n    implementation &#39;com.google.firebase:firebase-analytics:17.2.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-auth:19.1.0&#39;\r\n    implementation project(path: &quot;:@react-native-firebase_auth&quot;)\r\n    implementation project(path: &quot;:@react-native-firebase_messaging&quot;)\r\n    implementation project(path: &quot;:@react-native-firebase_database&quot;)\r\n    implementation project(&#39;:react-native-datetimepicker&#39;)\r\n    implementation project(path: &quot;:@react-native-firebase_firestore&quot;)\r\n    implementation project(path: &quot;:@react-native-firebase_functions&quot;)\r\n}\r\n\r\n    if (enableHermes) {\r\n        def hermesPath = &quot;../../node_modules/hermes-engine/android/&quot;;\r\n        debugImplementation files(hermesPath + &quot;hermes-debug.aar&quot;)\r\n        releaseImplementation files(hermesPath + &quot;hermes-release.aar&quot;)\r\n    } else {\r\n        implementation jscFlavor\r\n    }\r\n// }\r\n\r\n// Run this once to be able to run the application with BUCK\r\n// puts all compile dependencies into folder libs for BUCK to use\r\ntask copyDownloadableDepsToLibs(type: Copy) {\r\n    from configurations.compile\r\n    into &#39;libs&#39;\r\n}\r\n\r\napply from: file(&quot;../../node_modules/@react-native-community/cli-platform-android/native_modules.gradle&quot;); applyNativeModulesAppBuildGradle(project)\r\napply plugin: &#39;com.google.gms.google-services&#39;\r\n```\r\n\r\nandroid/build.gradle below : \r\n\r\n```\r\n\r\nbuildscript {\r\n    ext {\r\n        buildToolsVersion = &quot;28.0.3&quot;\r\n        minSdkVersion = 16\r\n        compileSdkVersion = 28\r\n        targetSdkVersion = 28\r\n    }\r\n    repositories {\r\n        google()\r\n        jcenter()\r\n    }\r\n    dependencies {\r\n        classpath &quot;com.android.tools.build:gradle:3.4.2&quot;\r\n        classpath &#39;com.google.gms:google-services:4.3.2&#39;\r\n    }\r\n}\r\n\r\nallprojects {\r\n    repositories {\r\n        mavenLocal()\r\n        maven {\r\n            // All of React Native (JS, Obj-C sources, Android binaries) is installed from npm\r\n            url(&quot;$rootDir/../node_modules/react-native/android&quot;)\r\n        }\r\n        maven {\r\n            // Android JSC is installed from npm\r\n            url(&quot;$rootDir/../node_modules/jsc-android/dist&quot;)\r\n        }\r\n\r\n        google()\r\n        jcenter()\r\n        maven { url &#39;https://jitpack.io&#39; }\r\n    }\r\n}\r\n```\r\nInitially I was getting this error: https://stackoverflow.com/questions/58892712/react-native-build-error-could-not-find-method-implementation-for-arguments but now I am getting the above.\r\n","title":"Error: Unable to determine the current character, it is not a string, number, array, or object in react-native for android","body":"<p>Whenever I run <strong>react-native run-android</strong> while keeping the emulator running, I get this error. <strong>react-native run-ios</strong> wroks completely fine.</p>\n\n<pre><code>Error: Command failed: ./gradlew app:installDebug -PreactNativeDevServerPort=8081\n:ReactNative:Failed to parse React Native CLI configuration: groovy.json.JsonException: Unable to determine the current character, it is not a string, number, array, or object\n\nThe current character read is 'E' with an int value of 69\nUnable to determine the current character, it is not a string, number, array, or object\nline number 1\nindex number 0\nError: Invalid attribute nameLine: 16Column: 18Char: .    at error (/Users/yashatreya/Desktop/Realyze/Realyze/node_modules/sax/lib/sax.js:651:10)    at strictFail (/Users/yashatreya/Desktop/Realyze/Realyze/node_modules/sax/lib/sax.js:677:7)    at SAXParser.write (/Users/yashatreya/Desktop/Realyze/Realyze/node_modules/sax/lib/sax.js:1313:13)    at new XmlDocument (/Users/yashatreya/Desktop/Realyze/Realyze/node_modules/xmldoc/lib/xmldoc.js:261:15)    at readManifest (/Users/yashatreya/Desktop/Realyze/Realyze/node_modules/@react-native-community/cli-platform-android/build/config/readManifest.js:38:10)    at Object.projectConfig (/Users/yashatreya/Desktop/Realyze/Realyze/node_modules/@react-native-community/cli-platform-android/build/config/index.js:59:46)    at Object.get project [as project] (/Users/yashatreya/Desktop/Realyze/Realyze/node_modules/react-native/node_modules/@react-native-community/cli/build/tools/config/index.js:114:50)    at /Users/yashatreya/Desktop/Realyze/Realyze/node_modules/react-native/node_modules/@react-native-community/cli/build/commands/config/config.js:8:452    at Array.forEach (&lt;anonymous&gt;)    at _objectSpread (/Users/yashatreya/Desktop/Realyze/Realyze/node_modules/react-native/node_modules/@react-native-community/cli/build/commands/config/config.js:8:392)\n^\n\nFAILURE: Build failed with an exception.\n\n* Where:\nScript '/Users/yashatreya/Desktop/Realyze/Realyze/node_modules/@react-native-community/cli-platform-android/native_modules.gradle' line: 201\n\n* What went wrong:\nA problem occurred evaluating script.\n&gt; Failed to parse React Native CLI configuration. Expected running 'npx --quiet --no-install react-native config' command from '/Users/yashatreya/Desktop/Realyze/Realyze' directory to output valid JSON, but it didn't. This may be caused by npx resolving to a legacy global react-native binary. Please make sure to uninstall any global 'react-native' binaries: 'npm uninstall -g react-native react-native-cli' and try again\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\n</code></pre>\n\n<p>As indicated in the error message, I tried running <code>npm uninstall -g react-native react-native-cli</code> but it didn’t work.</p>\n\n<p>Info about my environment:</p>\n\n<pre><code>System:\n    OS: macOS 10.15\n    CPU: (4) x64 Intel(R) Core(TM) i5-7360U CPU @ 2.30GHz\n    Memory: 29.68 MB / 8.00 GB\n    Shell: 3.2.57 - /bin/bash\n  Binaries:\n    Node: 12.13.0 - /usr/local/bin/node\n    Yarn: 1.19.1 - /usr/local/bin/yarn\n    npm: 6.12.0 - /usr/local/bin/npm\n    Watchman: 4.9.0 - /usr/local/bin/watchman\n  SDKs:\n    iOS SDK:\n      Platforms: iOS 13.0, DriverKit 19.0, macOS 10.15, tvOS 13.0, watchOS 6.0\n  IDEs:\n    Android Studio: 3.5 AI-191.8026.42.35.5977832\n    Xcode: 11.0/11A420a - /usr/bin/xcodebuild\n  npmPackages:\n    react: 16.9.0 =&gt; 16.9.0 \n    react-native: ^0.61.4 =&gt; 0.61.4 \n  npmGlobalPackages:\n    react-native-cli: 2.0.1\n</code></pre>\n\n<p>android/app/build.gradle below:</p>\n\n<pre><code>apply plugin: \"com.android.application\"\n\nimport com.android.build.OutputFile\nproject.ext.react = [\n    entryFile: \"index.js\",\n    enableHermes: false,  // clean and rebuild if changing\n]\n\napply from: \"../../node_modules/react-native/react.gradle\"\n\ndef enableSeparateBuildPerCPUArchitecture = false\ndef enableProguardInReleaseBuilds = false\n\ndef jscFlavor = 'org.webkit:android-jsc:+' \n\ndef enableHermes = project.ext.react.get(\"enableHermes\", false);\n\nandroid {\n    compileSdkVersion rootProject.ext.compileSdkVersion\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    defaultConfig {\n        applicationId \"com.realyze\"\n        minSdkVersion 21 \n        targetSdkVersion rootProject.ext.targetSdkVersion\n        versionCode 1\n        versionName \"1.0\"\n        multiDexEnabled true\n\n    }\n    // rootProject.ext.minSdkVersion\n    splits {\n        abi {\n            reset()\n            enable enableSeparateBuildPerCPUArchitecture\n            universalApk false  // If true, also generate a universal APK\n            include \"armeabi-v7a\", \"x86\", \"arm64-v8a\", \"x86_64\"\n        }\n    }\n    signingConfigs {\n        debug {\n            storeFile file('debug.keystore')\n            storePassword 'android'\n            keyAlias 'androiddebugkey'\n            keyPassword 'android'\n        }\n    }\n    buildTypes {\n        debug {\n            signingConfig signingConfigs.debug\n        }\n        release {\n            // Caution! In production, you need to generate your own keystore file.\n            // see https://facebook.github.io/react-native/docs/signed-apk-android.\n            signingConfig signingConfigs.debug\n            minifyEnabled enableProguardInReleaseBuilds\n            proguardFiles getDefaultProguardFile(\"proguard-android.txt\"), \"proguard-rules.pro\"\n        }\n    }\n    // applicationVariants are e.g. debug, release\n    applicationVariants.all { variant -&gt;\n        variant.outputs.each { output -&gt;\n            // For each separate APK per architecture, set a unique version code as described here:\n            // https://developer.android.com/studio/build/configure-apk-splits.html\n            def versionCodes = [\"armeabi-v7a\": 1, \"x86\": 2, \"arm64-v8a\": 3, \"x86_64\": 4]\n            def abi = output.getFilter(OutputFile.ABI)\n            if (abi != null) {  // null for the universal-debug, universal-release variants\n                output.versionCodeOverride =\n                        versionCodes.get(abi) * 1048576 + defaultConfig.versionCode\n            }\n\n        }\n    }\n}\n\ndependencies {\n    implementation project(':react-native-push-notification')\n    implementation project(':react-native-sound')\n    implementation project(':react-native-audio')\n    implementation 'com.android.support:multidex:2.0.1'\n    implementation project(':react-native-gesture-handler')\n    implementation fileTree(dir: \"libs\", include: [\"*.jar\"])\n    implementation \"com.facebook.react:react-native:+\"  // From node_modules\n    implementation 'androidx.appcompat:appcompat:1.1.0-rc01'\n    implementation 'androidx.swiperefreshlayout:swiperefreshlayout:1.1.0-alpha02'\n    implementation 'com.google.firebase:firebase-analytics:17.2.0'\n    implementation 'com.google.firebase:firebase-auth:19.1.0'\n    implementation project(path: \":@react-native-firebase_auth\")\n    implementation project(path: \":@react-native-firebase_messaging\")\n    implementation project(path: \":@react-native-firebase_database\")\n    implementation project(':react-native-datetimepicker')\n    implementation project(path: \":@react-native-firebase_firestore\")\n    implementation project(path: \":@react-native-firebase_functions\")\n}\n\n    if (enableHermes) {\n        def hermesPath = \"../../node_modules/hermes-engine/android/\";\n        debugImplementation files(hermesPath + \"hermes-debug.aar\")\n        releaseImplementation files(hermesPath + \"hermes-release.aar\")\n    } else {\n        implementation jscFlavor\n    }\n// }\n\n// Run this once to be able to run the application with BUCK\n// puts all compile dependencies into folder libs for BUCK to use\ntask copyDownloadableDepsToLibs(type: Copy) {\n    from configurations.compile\n    into 'libs'\n}\n\napply from: file(\"../../node_modules/@react-native-community/cli-platform-android/native_modules.gradle\"); applyNativeModulesAppBuildGradle(project)\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n\n<p>android/build.gradle below : </p>\n\n<pre><code>\nbuildscript {\n    ext {\n        buildToolsVersion = \"28.0.3\"\n        minSdkVersion = 16\n        compileSdkVersion = 28\n        targetSdkVersion = 28\n    }\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n        classpath \"com.android.tools.build:gradle:3.4.2\"\n        classpath 'com.google.gms:google-services:4.3.2'\n    }\n}\n\nallprojects {\n    repositories {\n        mavenLocal()\n        maven {\n            // All of React Native (JS, Obj-C sources, Android binaries) is installed from npm\n            url(\"$rootDir/../node_modules/react-native/android\")\n        }\n        maven {\n            // Android JSC is installed from npm\n            url(\"$rootDir/../node_modules/jsc-android/dist\")\n        }\n\n        google()\n        jcenter()\n        maven { url 'https://jitpack.io' }\n    }\n}\n</code></pre>\n\n<p>Initially I was getting this error: <a href=\"https://stackoverflow.com/questions/58892712/react-native-build-error-could-not-find-method-implementation-for-arguments\">react-native build error: Could not find method implementation() for arguments [jscFlavor] on project &#39;:app&#39; of type org.gradle.api.Project</a> but now I am getting the above.</p>\n"},{"tags":["java","spring-boot","optimizely","featuretoggle"],"comments":[{"owner":{"account_id":5823420,"reputation":785,"user_id":6656833,"display_name":"Pavel"},"score":0,"creation_date":1672728184,"post_id":74989780,"comment_id":132334728,"body_markdown":"It&#39;s not clear what are you trying to achieve. What exactly is an audience?","body":"It&#39;s not clear what are you trying to achieve. What exactly is an audience?"},{"owner":{"account_id":3418957,"reputation":1176,"user_id":4029174,"accept_rate":100,"display_name":"bananas"},"score":0,"creation_date":1672728199,"post_id":74989780,"comment_id":132334730,"body_markdown":"What you tried so far","body":"What you tried so far"},{"owner":{"account_id":7702276,"reputation":149,"user_id":6244382,"accept_rate":80,"display_name":"Sia"},"score":0,"creation_date":1672754676,"post_id":74989780,"comment_id":132342496,"body_markdown":"@Pavel https://docs.developers.optimizely.com/full-stack/docs/target-audiences","body":"@Pavel <a href=\"https://docs.developers.optimizely.com/full-stack/docs/target-audiences\" rel=\"nofollow noreferrer\">docs.developers.optimizely.com/full-stack/docs/target-audien&zwnj;&#8203;ces</a>"}],"owner":{"account_id":7702276,"reputation":149,"user_id":6244382,"accept_rate":80,"display_name":"Sia"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672727843,"creation_date":1672727843,"question_id":74989780,"body_markdown":"There is a requirement for updating audiences, we searched a lot, and apparently, there is no such feature in the java SDK.\r\n\r\nThe requirement is that there is a micro-service that notifies us to include a new audience in an already existing feature flag (we want to roll out a feature in our backends by cities) and we need to add the new audience programmatically to the audiences whenever the other micro-service tell us. This is not an A/B test or an experiment it is actually a rollout plan.\r\nHow should we achieve this?","title":"Updating Audiences in the Optimizely using the SDK","body":"<p>There is a requirement for updating audiences, we searched a lot, and apparently, there is no such feature in the java SDK.</p>\n<p>The requirement is that there is a micro-service that notifies us to include a new audience in an already existing feature flag (we want to roll out a feature in our backends by cities) and we need to add the new audience programmatically to the audiences whenever the other micro-service tell us. This is not an A/B test or an experiment it is actually a rollout plan.\nHow should we achieve this?</p>\n"},{"tags":["java","flutter","dart","crash"],"comments":[{"owner":{"account_id":16737430,"reputation":2604,"user_id":12098106,"display_name":"Dabbel"},"score":0,"creation_date":1658788542,"post_id":72999960,"comment_id":129134326,"body_markdown":"This is the relevant issue: https://github.com/flutter/flutter/issues/105903","body":"This is the relevant issue: <a href=\"https://github.com/flutter/flutter/issues/105903\" rel=\"nofollow noreferrer\">github.com/flutter/flutter/issues/105903</a>"}],"answers":[{"tags":[],"owner":{"account_id":12323039,"reputation":161,"user_id":8991875,"display_name":"Carlton Foster"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659007760,"creation_date":1659007346,"answer_id":73152046,"question_id":72999960,"body_markdown":"@NdegwaJulius Thank you. This fixed my issue! You don&#39;t even have to add ndk filter.\r\nDo the following in order:\r\n\r\n1) flutter channel beta\r\n2) flutter upgrade 3.1.0\r\n3) flutter clean\r\n4) flutter build appbundle --release\r\n\r\nNOTE:\r\ndefaultConfig {\r\n\r\napplicationId &quot;com.company.name&quot;\r\n\r\nminSdkVersion 21\r\n\r\ntargetSdkVersion 31\r\n\r\nversionCode flutterVersionCode.toInteger()\r\n\r\nversionName flutterVersionName\r\n\r\nmultiDexEnabled true\r\n\r\n}","title":"Please Interpret the Google Play Pre-launch Crashes and ANRs Report Details","body":"<p>@NdegwaJulius Thank you. This fixed my issue! You don't even have to add ndk filter.\nDo the following in order:</p>\n<ol>\n<li>flutter channel beta</li>\n<li>flutter upgrade 3.1.0</li>\n<li>flutter clean</li>\n<li>flutter build appbundle --release</li>\n</ol>\n<p>NOTE:\ndefaultConfig {</p>\n<p>applicationId &quot;com.company.name&quot;</p>\n<p>minSdkVersion 21</p>\n<p>targetSdkVersion 31</p>\n<p>versionCode flutterVersionCode.toInteger()</p>\n<p>versionName flutterVersionName</p>\n<p>multiDexEnabled true</p>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":923404,"reputation":7408,"user_id":954643,"accept_rate":80,"display_name":"qix"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1672727799,"creation_date":1672727799,"answer_id":74989772,"question_id":72999960,"body_markdown":"I think you have a typo in your description of the `Google Pixel 2 (virtual)` device used by the playstore, as your `dalvik.system.PathClassLoader` shows various `x86` apk/libs in the path lists, and I&#39;ve also seen this myself in the Play Store, but that it shows `x86` for the ABI used by the virtual Pixel 2.\r\n\r\nBasically **the problem is that Flutter does not support the x86 (32 bit) architecture**: https://docs.flutter.dev/deployment/android#what-are-the-supported-target-architectures, which stems in part from Dart compiler limitations (https://github.com/flutter/flutter/issues/9253). And even devices that try to do some sort of NDK Translation to run 64 bit apps on 32 bit devices may crash. Debug builds may work because Flutter &quot;supports running the app compiled just in time (JIT) on this architecture&quot;, which is probably what you experienced. **You can ignore this particular report and still publish your app.** But if the prelaunch crash report bothers people, you can also try explicitly adding `abiFilters` to your app&#39;s build.gradle restricting things as suggested in various more-or-less duplicate [issues such as this][1], so Play Store testing doesn&#39;t try to run on the old arch: \r\n```\r\nandroid {\r\n    defaultConfig {\r\n        ndk {\r\n           abiFilters &#39;armeabi-v7a&#39;, &#39;arm64-v8a&#39;, &#39;x86_64&#39;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nFor more info see https://github.com/flutter/flutter/issues/37396#issuecomment-1207203921: \r\n\r\n&gt; Flutter does support x86 64 bit release builds compiled ahead of time\r\n&gt; (AOT).\r\n&gt; \r\n&gt; Flutter does NOT support x86 32 bit release builds compiled ahead of\r\n&gt; time, only supports running the app compiled just in time (JIT) on\r\n&gt; this architecture. This means, you cannot generate a Flutter release\r\n&gt; build targeting an x86 32 bit device, but you can still run debug\r\n&gt; builds on them.\r\n&gt; \r\n&gt; It is very important to mention that this issue is for x86 32 bits.\r\n&gt; x86 64 bit is perfectly fine.\r\n&gt; \r\n&gt; Thankfully, Android devices that run on an x86 32 bit CPUs are almost\r\n&gt; non-existent. However, Google Play uses an emulator image using x86 32\r\n&gt; bit architecture to perform the Pre-launch reports.\r\n&gt; \r\n&gt; The Android OS tries to run an x86 64 bit in an x86 32 bit device by\r\n&gt; doing a native-level translation, which eventually crashes.\r\n&gt; \r\n&gt; This issue does NOT prevent you from publishing your app, you can\r\n&gt; ignore the pre-launch report and publish your app to production.\r\n&gt; \r\n&gt; However, I don&#39;t believe Google Play is 100% at fault here. Instead,\r\n&gt; the issue is in the Android OS and their NDK Translation mechanism to\r\n&gt; run 64 bit apps on 32 bit devices, which is the root of the problem\r\n&gt; here.\r\n\r\n\r\n  [1]: https://github.com/flutter/flutter/issues/32756#issuecomment-753464874","title":"Please Interpret the Google Play Pre-launch Crashes and ANRs Report Details","body":"<p>I think you have a typo in your description of the <code>Google Pixel 2 (virtual)</code> device used by the playstore, as your <code>dalvik.system.PathClassLoader</code> shows various <code>x86</code> apk/libs in the path lists, and I've also seen this myself in the Play Store, but that it shows <code>x86</code> for the ABI used by the virtual Pixel 2.</p>\n<p>Basically <strong>the problem is that Flutter does not support the x86 (32 bit) architecture</strong>: <a href=\"https://docs.flutter.dev/deployment/android#what-are-the-supported-target-architectures\" rel=\"noreferrer\">https://docs.flutter.dev/deployment/android#what-are-the-supported-target-architectures</a>, which stems in part from Dart compiler limitations (<a href=\"https://github.com/flutter/flutter/issues/9253\" rel=\"noreferrer\">https://github.com/flutter/flutter/issues/9253</a>). And even devices that try to do some sort of NDK Translation to run 64 bit apps on 32 bit devices may crash. Debug builds may work because Flutter &quot;supports running the app compiled just in time (JIT) on this architecture&quot;, which is probably what you experienced. <strong>You can ignore this particular report and still publish your app.</strong> But if the prelaunch crash report bothers people, you can also try explicitly adding <code>abiFilters</code> to your app's build.gradle restricting things as suggested in various more-or-less duplicate <a href=\"https://github.com/flutter/flutter/issues/32756#issuecomment-753464874\" rel=\"noreferrer\">issues such as this</a>, so Play Store testing doesn't try to run on the old arch:</p>\n<pre><code>android {\n    defaultConfig {\n        ndk {\n           abiFilters 'armeabi-v7a', 'arm64-v8a', 'x86_64'\n        }\n    }\n}\n</code></pre>\n<p>For more info see <a href=\"https://github.com/flutter/flutter/issues/37396#issuecomment-1207203921\" rel=\"noreferrer\">https://github.com/flutter/flutter/issues/37396#issuecomment-1207203921</a>:</p>\n<blockquote>\n<p>Flutter does support x86 64 bit release builds compiled ahead of time\n(AOT).</p>\n<p>Flutter does NOT support x86 32 bit release builds compiled ahead of\ntime, only supports running the app compiled just in time (JIT) on\nthis architecture. This means, you cannot generate a Flutter release\nbuild targeting an x86 32 bit device, but you can still run debug\nbuilds on them.</p>\n<p>It is very important to mention that this issue is for x86 32 bits.\nx86 64 bit is perfectly fine.</p>\n<p>Thankfully, Android devices that run on an x86 32 bit CPUs are almost\nnon-existent. However, Google Play uses an emulator image using x86 32\nbit architecture to perform the Pre-launch reports.</p>\n<p>The Android OS tries to run an x86 64 bit in an x86 32 bit device by\ndoing a native-level translation, which eventually crashes.</p>\n<p>This issue does NOT prevent you from publishing your app, you can\nignore the pre-launch report and publish your app to production.</p>\n<p>However, I don't believe Google Play is 100% at fault here. Instead,\nthe issue is in the Android OS and their NDK Translation mechanism to\nrun 64 bit apps on 32 bit devices, which is the root of the problem\nhere.</p>\n</blockquote>\n"}],"owner":{"account_id":12323039,"reputation":161,"user_id":8991875,"display_name":"Carlton Foster"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1656,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1672727799,"creation_date":1657922261,"question_id":72999960,"body_markdown":"I use VSCode to code my Flutter App. I deployed it to Google Play Store, but the pre-launch report shows that it is crashing on a special device:\r\nGoogle Pixel 2 (virtual), 1080x1920, Android 9 (SDK 28), armeabi, en_US\r\nI configured that device and tested it, and it did not crash.  I don&#39;t understand the report. I need help to relate the report with the Dart/Flutter code.  Here is the report. Please help!!\r\n\r\n    FATAL EXCEPTION: main\r\n    Process: com.outafire.myevents, PID: 6669\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.outafire.myevents/com.outafire.myevents.MainActivity}: java.lang.RuntimeException: java.util.concurrent.ExecutionException: java.lang.UnsatisfiedLinkError: dalvik.system.PathClassLoader[DexPathList[[zip file &quot;/system/framework/android.test.runner.jar&quot;, zip file &quot;/system/framework/org.apache.http.legacy.boot.jar&quot;, zip file &quot;/system/framework/android.test.mock.jar&quot;, zip file &quot;/data/app/androidx.test.tools.crawler-xZ2vnr4Jb8_kw2Er9oP3ag==/base.apk&quot;, zip file &quot;/data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/base.apk&quot;, zip file &quot;/data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.en.apk&quot;, zip file &quot;/data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.x86.apk&quot;, zip file &quot;/data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.xxhdpi.apk&quot;],nativeLibraryDirectories=[/data/app/androidx.test.tools.crawler-xZ2vnr4Jb8_kw2Er9oP3ag==/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/lib/x86, /data/app/androidx.test.tools.crawler-xZ2vnr4Jb8_kw2Er9oP3ag==/base.apk!/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/base.apk!/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.en.apk!/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.x86.apk!/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.xxhdpi.apk!/lib/x86, /system/lib, /system/vendor/lib]]] couldn&#39;t find &quot;libflutter.so&quot;\r\n    \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2913)\r\n    \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3048)\r\n    \tat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)\r\n    \tat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\r\n    \tat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\r\n    \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1808)\r\n    \tat android.os.Handler.dispatchMessage(Handler.java:106)\r\n    \tat android.os.Looper.loop(Looper.java:193)\r\n    \tat android.app.ActivityThread.main(ActivityThread.java:6669)\r\n    \tat java.lang.reflect.Method.invoke(Native Method)\r\n    \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\r\n    \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\r\n    Caused by: java.lang.RuntimeException: java.util.concurrent.ExecutionException: java.lang.UnsatisfiedLinkError: dalvik.system.PathClassLoader[DexPathList[[zip file &quot;/system/framework/android.test.runner.jar&quot;, zip file &quot;/system/framework/org.apache.http.legacy.boot.jar&quot;, zip file &quot;/system/framework/android.test.mock.jar&quot;, zip file &quot;/data/app/androidx.test.tools.crawler-xZ2vnr4Jb8_kw2Er9oP3ag==/base.apk&quot;, zip file &quot;/data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/base.apk&quot;, zip file &quot;/data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.en.apk&quot;, zip file &quot;/data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.x86.apk&quot;, zip file &quot;/data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.xxhdpi.apk&quot;],nativeLibraryDirectories=[/data/app/androidx.test.tools.crawler-xZ2vnr4Jb8_kw2Er9oP3ag==/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/lib/x86, /data/app/androidx.test.tools.crawler-xZ2vnr4Jb8_kw2Er9oP3ag==/base.apk!/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/base.apk!/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.en.apk!/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.x86.apk!/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.xxhdpi.apk!/lib/x86, /system/lib, /system/vendor/lib]]] couldn&#39;t find &quot;libflutter.so&quot;\r\n    \tat x6.f.g(Unknown Source:457)\r\n    \tat io.flutter.embedding.engine.a.&lt;init&gt;(Unknown Source:184)\r\n    \tat io.flutter.embedding.engine.a.&lt;init&gt;(Unknown Source:12)\r\n    \tat io.flutter.embedding.android.e.G(Unknown Source:106)\r\n    \tat io.flutter.embedding.android.e.p(Unknown Source:7)\r\n    \tat io.flutter.embedding.android.d.onCreate(Unknown Source:13)\r\n    \tat android.app.Activity.performCreate(Activity.java:7136)\r\n    \tat android.app.Activity.performCreate(Activity.java:7127)\r\n    \tat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1271)\r\n    \tat androidx.test.runner.MonitoringInstrumentation.callActivityOnCreate(MonitoringInstrumentation.java:2)\r\n    \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2893)\r\n    \t... 11 more\r\n    Caused by: java.util.concurrent.ExecutionException: java.lang.UnsatisfiedLinkError: dalvik.system.PathClassLoader[DexPathList[[zip file &quot;/system/framework/android.test.runner.jar&quot;, zip file &quot;/system/framework/org.apache.http.legacy.boot.jar&quot;, zip file &quot;/system/framework/android.test.mock.jar&quot;, zip file &quot;/data/app/androidx.test.tools.crawler-xZ2vnr4Jb8_kw2Er9oP3ag==/base.apk&quot;, zip file &quot;/data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/base.apk&quot;, zip file &quot;/data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.en.apk&quot;, zip file &quot;/data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.x86.apk&quot;, zip file &quot;/data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.xxhdpi.apk&quot;],nativeLibraryDirectories=[/data/app/androidx.test.tools.crawler-xZ2vnr4Jb8_kw2Er9oP3ag==/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/lib/x86, /data/app/androidx.test.tools.crawler-xZ2vnr4Jb8_kw2Er9oP3ag==/base.apk!/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/base.apk!/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.en.apk!/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.x86.apk!/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.xxhdpi.apk!/lib/x86, /system/lib, /system/vendor/lib]]] couldn&#39;t find &quot;libflutter.so&quot;\r\n    \tat java.util.concurrent.FutureTask.report(FutureTask.java:123)\r\n    \tat java.util.concurrent.FutureTask.get(FutureTask.java:193)\r\n    \tat x6.f.g(Unknown Source:28)\r\n    \t... 21 more\r\n    Caused by: java.lang.UnsatisfiedLinkError: dalvik.system.PathClassLoader[DexPathList[[zip file &quot;/system/framework/android.test.runner.jar&quot;, zip file &quot;/system/framework/org.apache.http.legacy.boot.jar&quot;, zip file &quot;/system/framework/android.test.mock.jar&quot;, zip file &quot;/data/app/androidx.test.tools.crawler-xZ2vnr4Jb8_kw2Er9oP3ag==/base.apk&quot;, zip file &quot;/data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/base.apk&quot;, zip file &quot;/data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.en.apk&quot;, zip file &quot;/data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.x86.apk&quot;, zip file &quot;/data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.xxhdpi.apk&quot;],nativeLibraryDirectories=[/data/app/androidx.test.tools.crawler-xZ2vnr4Jb8_kw2Er9oP3ag==/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/lib/x86, /data/app/androidx.test.tools.crawler-xZ2vnr4Jb8_kw2Er9oP3ag==/base.apk!/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/base.apk!/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.en.apk!/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.x86.apk!/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.xxhdpi.apk!/lib/x86, /system/lib, /system/vendor/lib]]] couldn&#39;t find &quot;libflutter.so&quot;\r\n    \tat java.lang.Runtime.loadLibrary0(Runtime.java:1012)\r\n    \tat java.lang.System.loadLibrary(System.java:1669)\r\n    \tat io.flutter.embedding.engine.FlutterJNI.loadLibrary(Unknown Source:13)\r\n    \tat x6.f$a.b(Unknown Source:18)\r\n    \tat x6.f$a.call(Unknown Source:0)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\n    \tat java.lang.Thread.run(Thread.java:764)","title":"Please Interpret the Google Play Pre-launch Crashes and ANRs Report Details","body":"<p>I use VSCode to code my Flutter App. I deployed it to Google Play Store, but the pre-launch report shows that it is crashing on a special device:\nGoogle Pixel 2 (virtual), 1080x1920, Android 9 (SDK 28), armeabi, en_US\nI configured that device and tested it, and it did not crash.  I don't understand the report. I need help to relate the report with the Dart/Flutter code.  Here is the report. Please help!!</p>\n<pre><code>FATAL EXCEPTION: main\nProcess: com.outafire.myevents, PID: 6669\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.outafire.myevents/com.outafire.myevents.MainActivity}: java.lang.RuntimeException: java.util.concurrent.ExecutionException: java.lang.UnsatisfiedLinkError: dalvik.system.PathClassLoader[DexPathList[[zip file &quot;/system/framework/android.test.runner.jar&quot;, zip file &quot;/system/framework/org.apache.http.legacy.boot.jar&quot;, zip file &quot;/system/framework/android.test.mock.jar&quot;, zip file &quot;/data/app/androidx.test.tools.crawler-xZ2vnr4Jb8_kw2Er9oP3ag==/base.apk&quot;, zip file &quot;/data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/base.apk&quot;, zip file &quot;/data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.en.apk&quot;, zip file &quot;/data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.x86.apk&quot;, zip file &quot;/data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.xxhdpi.apk&quot;],nativeLibraryDirectories=[/data/app/androidx.test.tools.crawler-xZ2vnr4Jb8_kw2Er9oP3ag==/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/lib/x86, /data/app/androidx.test.tools.crawler-xZ2vnr4Jb8_kw2Er9oP3ag==/base.apk!/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/base.apk!/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.en.apk!/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.x86.apk!/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.xxhdpi.apk!/lib/x86, /system/lib, /system/vendor/lib]]] couldn't find &quot;libflutter.so&quot;\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2913)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3048)\n    at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)\n    at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\n    at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1808)\n    at android.os.Handler.dispatchMessage(Handler.java:106)\n    at android.os.Looper.loop(Looper.java:193)\n    at android.app.ActivityThread.main(ActivityThread.java:6669)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\nCaused by: java.lang.RuntimeException: java.util.concurrent.ExecutionException: java.lang.UnsatisfiedLinkError: dalvik.system.PathClassLoader[DexPathList[[zip file &quot;/system/framework/android.test.runner.jar&quot;, zip file &quot;/system/framework/org.apache.http.legacy.boot.jar&quot;, zip file &quot;/system/framework/android.test.mock.jar&quot;, zip file &quot;/data/app/androidx.test.tools.crawler-xZ2vnr4Jb8_kw2Er9oP3ag==/base.apk&quot;, zip file &quot;/data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/base.apk&quot;, zip file &quot;/data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.en.apk&quot;, zip file &quot;/data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.x86.apk&quot;, zip file &quot;/data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.xxhdpi.apk&quot;],nativeLibraryDirectories=[/data/app/androidx.test.tools.crawler-xZ2vnr4Jb8_kw2Er9oP3ag==/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/lib/x86, /data/app/androidx.test.tools.crawler-xZ2vnr4Jb8_kw2Er9oP3ag==/base.apk!/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/base.apk!/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.en.apk!/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.x86.apk!/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.xxhdpi.apk!/lib/x86, /system/lib, /system/vendor/lib]]] couldn't find &quot;libflutter.so&quot;\n    at x6.f.g(Unknown Source:457)\n    at io.flutter.embedding.engine.a.&lt;init&gt;(Unknown Source:184)\n    at io.flutter.embedding.engine.a.&lt;init&gt;(Unknown Source:12)\n    at io.flutter.embedding.android.e.G(Unknown Source:106)\n    at io.flutter.embedding.android.e.p(Unknown Source:7)\n    at io.flutter.embedding.android.d.onCreate(Unknown Source:13)\n    at android.app.Activity.performCreate(Activity.java:7136)\n    at android.app.Activity.performCreate(Activity.java:7127)\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1271)\n    at androidx.test.runner.MonitoringInstrumentation.callActivityOnCreate(MonitoringInstrumentation.java:2)\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2893)\n    ... 11 more\nCaused by: java.util.concurrent.ExecutionException: java.lang.UnsatisfiedLinkError: dalvik.system.PathClassLoader[DexPathList[[zip file &quot;/system/framework/android.test.runner.jar&quot;, zip file &quot;/system/framework/org.apache.http.legacy.boot.jar&quot;, zip file &quot;/system/framework/android.test.mock.jar&quot;, zip file &quot;/data/app/androidx.test.tools.crawler-xZ2vnr4Jb8_kw2Er9oP3ag==/base.apk&quot;, zip file &quot;/data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/base.apk&quot;, zip file &quot;/data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.en.apk&quot;, zip file &quot;/data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.x86.apk&quot;, zip file &quot;/data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.xxhdpi.apk&quot;],nativeLibraryDirectories=[/data/app/androidx.test.tools.crawler-xZ2vnr4Jb8_kw2Er9oP3ag==/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/lib/x86, /data/app/androidx.test.tools.crawler-xZ2vnr4Jb8_kw2Er9oP3ag==/base.apk!/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/base.apk!/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.en.apk!/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.x86.apk!/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.xxhdpi.apk!/lib/x86, /system/lib, /system/vendor/lib]]] couldn't find &quot;libflutter.so&quot;\n    at java.util.concurrent.FutureTask.report(FutureTask.java:123)\n    at java.util.concurrent.FutureTask.get(FutureTask.java:193)\n    at x6.f.g(Unknown Source:28)\n    ... 21 more\nCaused by: java.lang.UnsatisfiedLinkError: dalvik.system.PathClassLoader[DexPathList[[zip file &quot;/system/framework/android.test.runner.jar&quot;, zip file &quot;/system/framework/org.apache.http.legacy.boot.jar&quot;, zip file &quot;/system/framework/android.test.mock.jar&quot;, zip file &quot;/data/app/androidx.test.tools.crawler-xZ2vnr4Jb8_kw2Er9oP3ag==/base.apk&quot;, zip file &quot;/data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/base.apk&quot;, zip file &quot;/data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.en.apk&quot;, zip file &quot;/data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.x86.apk&quot;, zip file &quot;/data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.xxhdpi.apk&quot;],nativeLibraryDirectories=[/data/app/androidx.test.tools.crawler-xZ2vnr4Jb8_kw2Er9oP3ag==/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/lib/x86, /data/app/androidx.test.tools.crawler-xZ2vnr4Jb8_kw2Er9oP3ag==/base.apk!/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/base.apk!/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.en.apk!/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.x86.apk!/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.xxhdpi.apk!/lib/x86, /system/lib, /system/vendor/lib]]] couldn't find &quot;libflutter.so&quot;\n    at java.lang.Runtime.loadLibrary0(Runtime.java:1012)\n    at java.lang.System.loadLibrary(System.java:1669)\n    at io.flutter.embedding.engine.FlutterJNI.loadLibrary(Unknown Source:13)\n    at x6.f$a.b(Unknown Source:18)\n    at x6.f$a.call(Unknown Source:0)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n    at java.lang.Thread.run(Thread.java:764)\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver","selenium-chromedriver","selenium-java"],"comments":[{"owner":{"account_id":10404380,"reputation":2588,"user_id":7671727,"display_name":"AbiSaran"},"score":0,"creation_date":1672059025,"post_id":74919432,"comment_id":132214107,"body_markdown":"You are trying to access some element after the browser closed, that&#39;s what the error says. Post your full code.","body":"You are trying to access some element after the browser closed, that&#39;s what the error says. Post your full code."}],"answers":[{"tags":[],"owner":{"account_id":26831533,"reputation":1,"user_id":20419423,"display_name":"rajeshs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672056680,"creation_date":1672056680,"answer_id":74920163,"question_id":74919432,"body_markdown":"Adding a throws declaration for InterruptedException is necessary. If that is already added, then the error could be caused by the flow of the script. Depending on the wait for 2 seconds, the element may not be available.","title":"Adding a Thread.sleep in my Selenium scripts is breaking the execution","body":"<p>Adding a throws declaration for InterruptedException is necessary. If that is already added, then the error could be caused by the flow of the script. Depending on the wait for 2 seconds, the element may not be available.</p>\n"},{"tags":[],"owner":{"account_id":22542267,"reputation":11,"user_id":16732700,"display_name":"Fouzan Jafri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672727315,"creation_date":1672727315,"answer_id":74989730,"question_id":74919432,"body_markdown":"It may be happing but it we have implicit wait and explicit wait.. Lets use explicit wait instead of thread.sleep.\r\n\r\n\tWebDriverWait wait = new WebDriverWait(driver, 30);\r\n    driver.get(&quot;&lt;ApplicationURL&gt;&quot;);\r\n    WebElement element = driver.findElement(By.xpath(&quot;&lt;some button to click&gt;&quot;));\r\n    wait..until(ExpectedConditions.visibilityOf(element));\r\n    element.click();\r\n","title":"Adding a Thread.sleep in my Selenium scripts is breaking the execution","body":"<p>It may be happing but it we have implicit wait and explicit wait.. Lets use explicit wait instead of thread.sleep.</p>\n<pre><code>WebDriverWait wait = new WebDriverWait(driver, 30);\ndriver.get(&quot;&lt;ApplicationURL&gt;&quot;);\nWebElement element = driver.findElement(By.xpath(&quot;&lt;some button to click&gt;&quot;));\nwait..until(ExpectedConditions.visibilityOf(element));\nelement.click();\n</code></pre>\n"}],"owner":{"account_id":3000434,"reputation":21,"user_id":2546036,"accept_rate":75,"display_name":"Vinay Sagar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":358,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1672727315,"creation_date":1672050732,"question_id":74919432,"body_markdown":"It&#39;s a simple Selenium script where I am launching a URL and performing a couple of Click actions.\r\nWhen I put a Thread.sleep(2000) between any of these few steps, execution breaks and I get an exception as shown below.\r\n\r\nDec 26, 2022 3:55:35 PM org.openqa.selenium.support.ui.ExpectedConditions findElement\r\nWARNING: WebDriverException thrown by findElement(By.xpath: //button[text()=&#39;Continue&#39;])\r\norg.openqa.selenium.NoSuchWindowException: no such window: target window already closed\r\nfrom unknown error: web view not found\r\n\r\nIf I remove the Thread.sleep step, Its proceeding forward.\r\nCan someone help me understand why is Thread.sleep causing this issue and how to resolve this ?\r\n\r\nBelow is the code:\r\n\r\n        WebDriverManager.chromedriver().setup();\r\n\t\tChromeOptions options = new ChromeOptions();\r\n\t\toptions.addArguments(&quot;start-maximized&quot;);\r\n\t\toptions.addArguments(&quot;enable-automation&quot;);\r\n\t\toptions.addArguments(&quot;--no-sandbox&quot;);\r\n\t\toptions.addArguments(&quot;--disable-infobars&quot;);\r\n\t\toptions.addArguments(&quot;--disable-dev-shm-usage&quot;);\r\n\t\toptions.addArguments(&quot;--disable-browser-side-navigation&quot;);\r\n\t\toptions.addArguments(&quot;--disable-gpu&quot;);\r\n\t\tdriver = new ChromeDriver(options);\r\n\t\tdriver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);\r\n\t\twait = new WebDriverWait(driver, 30)\r\n\t\t\r\n\t\tdriver.get(&quot;&lt;ApplicationURL&gt;&quot;);\r\n\t\tThread.sleep(2000);\r\n\t\tdriver.findElement(By.xpath(&quot;&lt;some button to click&gt;&quot;)).click();\r\n\r\n\r\nObservation:\r\nThis issue is occurring when trying CHROME browser only and that too on MAC alone.\r\nOn Windows, this works fine.\r\nFYI, \r\nChrome browser version: 108.0.5359.124\r\nChromeDriver version: 108.0.5359.71\r\nMAC OS version : Monterey 12.6.2\r\nJava version : 1.8.0_352\r\nSelenium version : 3.11.0","title":"Adding a Thread.sleep in my Selenium scripts is breaking the execution","body":"<p>It's a simple Selenium script where I am launching a URL and performing a couple of Click actions.\nWhen I put a Thread.sleep(2000) between any of these few steps, execution breaks and I get an exception as shown below.</p>\n<p>Dec 26, 2022 3:55:35 PM org.openqa.selenium.support.ui.ExpectedConditions findElement\nWARNING: WebDriverException thrown by findElement(By.xpath: //button[text()='Continue'])\norg.openqa.selenium.NoSuchWindowException: no such window: target window already closed\nfrom unknown error: web view not found</p>\n<p>If I remove the Thread.sleep step, Its proceeding forward.\nCan someone help me understand why is Thread.sleep causing this issue and how to resolve this ?</p>\n<p>Below is the code:</p>\n<pre><code>    WebDriverManager.chromedriver().setup();\n    ChromeOptions options = new ChromeOptions();\n    options.addArguments(&quot;start-maximized&quot;);\n    options.addArguments(&quot;enable-automation&quot;);\n    options.addArguments(&quot;--no-sandbox&quot;);\n    options.addArguments(&quot;--disable-infobars&quot;);\n    options.addArguments(&quot;--disable-dev-shm-usage&quot;);\n    options.addArguments(&quot;--disable-browser-side-navigation&quot;);\n    options.addArguments(&quot;--disable-gpu&quot;);\n    driver = new ChromeDriver(options);\n    driver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);\n    wait = new WebDriverWait(driver, 30)\n    \n    driver.get(&quot;&lt;ApplicationURL&gt;&quot;);\n    Thread.sleep(2000);\n    driver.findElement(By.xpath(&quot;&lt;some button to click&gt;&quot;)).click();\n</code></pre>\n<p>Observation:\nThis issue is occurring when trying CHROME browser only and that too on MAC alone.\nOn Windows, this works fine.\nFYI,\nChrome browser version: 108.0.5359.124\nChromeDriver version: 108.0.5359.71\nMAC OS version : Monterey 12.6.2\nJava version : 1.8.0_352\nSelenium version : 3.11.0</p>\n"},{"tags":["java","xslt","apache-fop"],"comments":[{"owner":{"account_id":5103278,"reputation":7584,"user_id":4092205,"display_name":"Tony Graham"},"score":2,"creation_date":1668680616,"post_id":74465638,"comment_id":131466916,"body_markdown":"Can you add the FO markup corresponding to your sample image? For those of us that don&#39;t read Arabic, can you also fake an image of what it should look like?","body":"Can you add the FO markup corresponding to your sample image? For those of us that don&#39;t read Arabic, can you also fake an image of what it should look like?"},{"owner":{"account_id":5624664,"reputation":3721,"user_id":4453460,"display_name":"lfurini"},"score":0,"creation_date":1668694422,"post_id":74465638,"comment_id":131472238,"body_markdown":"I think the `lang=&quot;ar&quot;` attribute must be in the FO file, not in the configuration file.","body":"I think the <code>lang=&quot;ar&quot;</code> attribute must be in the FO file, not in the configuration file."}],"answers":[{"tags":[],"owner":{"account_id":9193288,"reputation":144,"user_id":6832970,"display_name":"mshehata"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672727298,"creation_date":1672727298,"answer_id":74989727,"question_id":74465638,"body_markdown":"refrence to https://xmlgraphics.apache.org/fop/2.0/complexscripts.html\r\nIt was solved by adding script=&quot;arab&quot; to the root tag like:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n     &lt;fo:root script=&quot;arab&quot;&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"apache Fop separated arabic charcters","body":"<p>refrence to <a href=\"https://xmlgraphics.apache.org/fop/2.0/complexscripts.html\" rel=\"nofollow noreferrer\">https://xmlgraphics.apache.org/fop/2.0/complexscripts.html</a>\nIt was solved by adding script=&quot;arab&quot; to the root tag like:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code> &lt;fo:root script=\"arab\"&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":9193288,"reputation":144,"user_id":6832970,"display_name":"mshehata"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1672727298,"creation_date":1668624160,"question_id":74465638,"body_markdown":"I am trying to generate PDF from xml using apache Fop,\r\nIt works fine with english but while i try to disply arabic text the characters are separated as shown in the Image\r\n\r\n[![enter image description here](https://i.stack.imgur.com/cg3bV.png)](https://i.stack.imgur.com/cg3bV.png)\r\n\r\n1- I tried with 2.1, 2.5 and latest stable apache Fop version  2.6 \r\n\r\n2- I embded the font in Fop config file \r\n\r\n3- I enabled complex-scripts\r\n\r\n4- I tried with different fonts \r\n\r\nbut it didn&#39;t solve the issue \r\nI attached Apache Fop configuration file below\r\n\r\n```\r\n&lt;fop version=&quot;1.0&quot;&gt;\r\n\t&lt;complex-scripts disabled=&quot;false&quot; /&gt;\r\n\t&lt;renderers lang=&quot;ar&quot;&gt;\r\n\t\t&lt;renderer mime=&quot;application/pdf&quot;&gt;\r\n\t\t\t&lt;fonts&gt;\r\n\t\t\t\t&lt;font kerning=&quot;yes&quot; embed-url=&quot;src/main/resources/fonts/trado.ttf&quot; embedding-mode=&quot;auto&quot; encoding=&quot;UTF-8&quot;&gt;\r\n\t\t\t\t\t&lt;font-triplet name=&quot;trado-ar-font&quot; style=&quot;normal&quot; weight=&quot;normal&quot; /&gt;\r\n\t\t\t\t&lt;/font&gt;\r\n\t\t\t&lt;/fonts&gt;\r\n\t\t&lt;/renderer&gt;\r\n\t&lt;/renderers&gt;\r\n&lt;/fop&gt;\r\n```\r\nI also checked:\r\nhttps://stackoverflow.com/questions/49532386/xsl-fo-displaying-arabic-characters and \r\nhttps://stackoverflow.com/questions/65309548/fop-arabic-letter-spacing\r\n \r\nbut there is nothing worked with me \r\nappriciate any support please","title":"apache Fop separated arabic charcters","body":"<p>I am trying to generate PDF from xml using apache Fop,\nIt works fine with english but while i try to disply arabic text the characters are separated as shown in the Image</p>\n<p><a href=\"https://i.stack.imgur.com/cg3bV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cg3bV.png\" alt=\"enter image description here\" /></a></p>\n<p>1- I tried with 2.1, 2.5 and latest stable apache Fop version  2.6</p>\n<p>2- I embded the font in Fop config file</p>\n<p>3- I enabled complex-scripts</p>\n<p>4- I tried with different fonts</p>\n<p>but it didn't solve the issue\nI attached Apache Fop configuration file below</p>\n<pre><code>&lt;fop version=&quot;1.0&quot;&gt;\n    &lt;complex-scripts disabled=&quot;false&quot; /&gt;\n    &lt;renderers lang=&quot;ar&quot;&gt;\n        &lt;renderer mime=&quot;application/pdf&quot;&gt;\n            &lt;fonts&gt;\n                &lt;font kerning=&quot;yes&quot; embed-url=&quot;src/main/resources/fonts/trado.ttf&quot; embedding-mode=&quot;auto&quot; encoding=&quot;UTF-8&quot;&gt;\n                    &lt;font-triplet name=&quot;trado-ar-font&quot; style=&quot;normal&quot; weight=&quot;normal&quot; /&gt;\n                &lt;/font&gt;\n            &lt;/fonts&gt;\n        &lt;/renderer&gt;\n    &lt;/renderers&gt;\n&lt;/fop&gt;\n</code></pre>\n<p>I also checked:\n<a href=\"https://stackoverflow.com/questions/49532386/xsl-fo-displaying-arabic-characters\">XSL-FO: displaying Arabic characters</a> and\n<a href=\"https://stackoverflow.com/questions/65309548/fop-arabic-letter-spacing\">FOP Arabic letter spacing</a></p>\n<p>but there is nothing worked with me\nappriciate any support please</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-security"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1672731199,"post_id":74989491,"comment_id":132335308,"body_markdown":"You clearly have 3 methods with the same name (and returning `void` from an `@Bean` method doesn&#39;t make sense). Looks like you took an old configuration class and tried to shoehorn that into the new Spring Security configuration.","body":"You clearly have 3 methods with the same name (and returning <code>void</code> from an <code>@Bean</code> method doesn&#39;t make sense). Looks like you took an old configuration class and tried to shoehorn that into the new Spring Security configuration."},{"owner":{"account_id":27183059,"reputation":11,"user_id":20717961,"display_name":"Sohaib"},"score":0,"creation_date":1672785142,"post_id":74989491,"comment_id":132351411,"body_markdown":"@M.Deinum Thanks for the feedback! I am following an older tutorial, yes. In your opinion, where is the best place I can learn about the new configuration classes for authentication?","body":"@M.Deinum Thanks for the feedback! I am following an older tutorial, yes. In your opinion, where is the best place I can learn about the new configuration classes for authentication?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1672817018,"post_id":74989491,"comment_id":132356143,"body_markdown":"The Spring Security documentation and blog posts around the 5.7 and 6.0 releases of Spring Security.","body":"The Spring Security documentation and blog posts around the 5.7 and 6.0 releases of Spring Security."}],"answers":[{"tags":[],"owner":{"account_id":95581,"reputation":10145,"user_id":260229,"accept_rate":50,"display_name":"Mahmoud"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1672726642,"creation_date":1672726642,"answer_id":74989657,"question_id":74989491,"body_markdown":"In your `SecurityConfig.java`, I believe there are 2 problems:\r\n\r\n1. A bean with the name `configure` will almost certainly conflict with something. It should have a different name like `securityOAuth2filter`.\r\n1. You should return `http.build()` which is a `SecurityFilterChain` and not `void`.","title":"org.springframework.beans.factory.parsing.BeanDefinitionParsingException Error","body":"<p>In your <code>SecurityConfig.java</code>, I believe there are 2 problems:</p>\n<ol>\n<li>A bean with the name <code>configure</code> will almost certainly conflict with something. It should have a different name like <code>securityOAuth2filter</code>.</li>\n<li>You should return <code>http.build()</code> which is a <code>SecurityFilterChain</code> and not <code>void</code>.</li>\n</ol>\n"}],"owner":{"account_id":27183059,"reputation":11,"user_id":20717961,"display_name":"Sohaib"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1210,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1672726642,"creation_date":1672725230,"question_id":74989491,"body_markdown":"I am creating a project that functions like an ecommerce website, but I keep getting the error mentioned in the title. I assumed that the error was happening because I have three configure() methods in my SecurityConfig, so I tried making the method names unique, but that did not solve the issue. The following is the error I am getting, and after that is my code:\r\n\r\n````\r\norg.springframework.beans.factory.parsing.BeanDefinitionParsingException: Configuration problem: @Configuration class &#39;SecurityConfig&#39; contains overloaded @Bean methods with name &#39;configure&#39;. Use unique method names for separate bean definitions (with individual conditions etc) or switch &#39;@Configuration.enforceUniqueMethods&#39; to &#39;false&#39;.\r\nOffending resource: class path resource [com/ecommerce/website/configuration/SecurityConfig.class]\r\n\tat org.springframework.beans.factory.parsing.FailFastProblemReporter.error(FailFastProblemReporter.java:72) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.context.annotation.ConfigurationClass.validate(ConfigurationClass.java:233) ~[spring-context-6.0.2.jar:6.0.2]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.validate(ConfigurationClassParser.java:206) ~[spring-context-6.0.2.jar:6.0.2]\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:398) ~[spring-context-6.0.2.jar:6.0.2]\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:283) ~[spring-context-6.0.2.jar:6.0.2]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:344) ~[spring-context-6.0.2.jar:6.0.2]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:115) ~[spring-context-6.0.2.jar:6.0.2]\r\n\tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:745) ~[spring-context-6.0.2.jar:6.0.2]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:565) ~[spring-context-6.0.2.jar:6.0.2]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.0.jar:3.0.0]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.0.jar:3.0.0]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.0.jar:3.0.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.0.jar:3.0.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.0.jar:3.0.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.0.jar:3.0.0]\r\n\tat com.ecommerce.website.EcommerceWebsiteApplication.main(EcommerceWebsiteApplication.java:26) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.0.jar:3.0.0]\r\n````\r\n\r\nMain class\r\n````\r\npackage com.ecommerce.website;\r\n\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\r\nimport org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration;\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n\r\nimport com.ecommerce.website.controller.AdminController;\r\nimport com.ecommerce.website.repository.CategoryRepository;\r\nimport com.ecommerce.website.service.CategoryService;\r\n\r\n\r\n/**This is the main class. It allows the user to run the project */\r\n@SpringBootApplication(exclude = { SecurityAutoConfiguration.class })\r\n@ComponentScan\r\npublic class EcommerceWebsiteApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(EcommerceWebsiteApplication.class, args);\r\n\t}\r\n\r\n}\r\n````\r\n\r\nRole POJO\r\n````\r\npackage com.ecommerce.website.model;\r\n\r\nimport java.util.List;\r\n\r\nimport jakarta.persistence.*;\r\nimport jakarta.validation.constraints.NotEmpty;\r\n\r\n//Class to represent a role\r\n@Entity\r\n@Table(name = &quot;roles&quot;)\r\npublic class Role {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\tprivate Integer id; \r\n\t\r\n\t@Column(nullable = false, unique = true)\r\n\t@NotEmpty\r\n\tprivate String name; \r\n\t\r\n    //Referencing users\r\n\t@ManyToMany(mappedBy = &quot;roles&quot;)\r\n\tprivate List&lt;User&gt; users;\r\n \r\n\tpublic Integer getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(Integer id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\r\n\tpublic List&lt;User&gt; getUsers() {\r\n\t\treturn users;\r\n\t}\r\n\r\n\tpublic void setUsers(List&lt;User&gt; users) {\r\n\t\tthis.users = users;\r\n\t}\r\n\t\r\n\t\r\n}\r\n````\r\n\r\nUser POJO\r\n````\r\npackage com.ecommerce.website.model;\r\n\r\nimport java.util.List;\r\n\r\nimport jakarta.persistence.*;\r\nimport jakarta.validation.constraints.Email;\r\nimport jakarta.validation.constraints.NotEmpty;\r\n\r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\npublic class User {\r\n\t\r\n\t//id for each user \r\n\t//The @GeneratedValue annotation is to configure the way of increment of the specified column (field)\r\n\t//GenerationType.AUTO picks an appropriate strategy for the particular database \r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\tprivate Integer id; \r\n\t\r\n\t//Field to hold first name \r\n\t//@NotEmpty means that the field cannot be null or empty\r\n\t@NotEmpty\r\n\t@Column(nullable = false)\r\n\tprivate String firstName;\r\n\t\r\n\tprivate String lastName; \r\n\t\r\n\t//Field to hold email \r\n\t//@Column maps to email column in table; it is not nullable and has to be unique \r\n\t//@NotEmpty means that the field cannot be null or empty\r\n\t//@Email shows message if email is invalid \r\n\t@Column(nullable = false, unique = true)\r\n\t@NotEmpty\r\n\t@Email(message = &quot;{errors.invalid_email}&quot;)\r\n\tprivate String email; \r\n\t\r\n\t//Field to hold password \r\n\tprivate String password;\r\n\t\r\n\t//Creating list to reference and hold roles (admin and user)\r\n\t//This is @ManyToMany because one user can have many roles and one role can have many users \r\n\t//Cascade applies the same operation to related entities\r\n\t\t//????CascadeType.MERGE says if entity is merged, related entity is also merged\r\n\t//Eager FetchType will receive all data \r\n\t//@JoinTable is used to reference join table, which provides mapping between two tables\r\n\t\t//It has foreign keys for each table to define the mapping relationship \r\n\t\t//In this case, &quot;user_role&quot; is the name of the join table\r\n\t\t//&quot;USER_ID&quot; and &quot;ROLE_ID&quot; refer to those columns in the join table\r\n\t\t//Application looks at above columns and uses info to find relationship between users and roles \r\n\t\t//We are defining relationship in User class, so Role is on the inverse/other side \r\n\t@ManyToMany(cascade = CascadeType.MERGE, fetch = FetchType.EAGER)\r\n\t@JoinTable(\r\n\t\t\tname = &quot;user_role&quot;,\r\n\t\t\tjoinColumns = {@JoinColumn(name = &quot;USER_ID&quot;, referencedColumnName = &quot;ID&quot;)},\r\n\t\t\t\t\tinverseJoinColumns = {@JoinColumn (name = &quot;ROLE_ID&quot;, referencedColumnName = &quot;ID&quot;)}\r\n\t)\r\n\tprivate List&lt;Role&gt; roles;\r\n\t\r\n\t\r\n\t\r\n\tpublic User() {\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic User(User user) {\r\n\t\tsuper();\r\n\t\tthis.firstName = user.getFirstName();\r\n\t\tthis.lastName = user.getLastName();\r\n\t\tthis.email = user.getEmail();\r\n\t\tthis.password = user.getPassword();\r\n\t\tthis.roles = user.getRoles();\r\n\t}\r\n\r\n\tpublic Integer getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(Integer id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getFirstName() {\r\n\t\treturn firstName;\r\n\t}\r\n\r\n\tpublic void setFirstName(String firstName) {\r\n\t\tthis.firstName = firstName;\r\n\t}\r\n\r\n\tpublic String getLastName() {\r\n\t\treturn lastName;\r\n\t}\r\n\r\n\tpublic void setLastName(String lastName) {\r\n\t\tthis.lastName = lastName;\r\n\t}\r\n\r\n\tpublic String getEmail() {\r\n\t\treturn email;\r\n\t}\r\n\r\n\tpublic void setEmail(String email) {\r\n\t\tthis.email = email;\r\n\t}\r\n\r\n\tpublic String getPassword() {\r\n\t\treturn password;\r\n\t}\r\n\r\n\tpublic void setPassword(String password) {\r\n\t\tthis.password = password;\r\n\t}\r\n\r\n\tpublic List&lt;Role&gt; getRoles() {\r\n\t\treturn roles;\r\n\t}\r\n\r\n\tpublic void setRoles(List&lt;Role&gt; roles) {\r\n\t\tthis.roles = roles;\r\n\t} \r\n\t\r\n}\r\n````\r\n\r\n\r\nRoleRepository\r\n````\r\npackage com.ecommerce.website.repository;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\n\r\nimport com.ecommerce.website.model.Role;\r\n\r\npublic interface RoleRepository extends JpaRepository&lt;Role, Integer&gt;{\r\n\r\n}\r\n````\r\n\r\n````\r\npackage com.ecommerce.website.repository;\r\n\r\nimport java.util.Optional;\r\n\r\nimport org.springframework.data.domain.Example;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\n\r\nimport com.ecommerce.website.model.User;\r\n\r\npublic interface UserRepository extends JpaRepository&lt;User, Integer&gt; {\r\n\r\n    //Method to find user by email (optional because user may not be found)\r\n\tOptional&lt;User&gt; findUserByEmail(String email); \r\n}\r\n````\r\n\r\nLoginController\r\n````\r\npackage com.ecommerce.website.controller;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\n\r\nimport com.ecommerce.website.repository.RoleRepository;\r\nimport com.ecommerce.website.repository.UserRepository;\r\n\r\n@Controller\r\npublic class LoginController {\r\n    \r\n    //Injecting dependencies \r\n\t@Autowired\r\n\tprivate BCryptPasswordEncoder bCryptPasswordEncoder;\r\n\t\r\n\t@Autowired\r\n\tUserRepository userRepository;\r\n\t\r\n\t@Autowired\r\n\tRoleRepository roleRepository;\r\n\t\r\n    //Mappings to return login and register pages \r\n\t@GetMapping(&quot;/login&quot;)\r\n\tpublic String login() {\r\n\t\treturn &quot;login&quot;;\r\n\t}\r\n\t\r\n\t@GetMapping(&quot;/register&quot;)\r\n\tpublic String registerGet() {\r\n\t\treturn &quot;register&quot;;\r\n\t}\r\n}\r\n````\r\n\r\nCustomUserDetailService\r\n````\r\npackage com.ecommerce.website.service;\r\n\r\nimport java.util.Optional;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport com.ecommerce.website.model.CustomUserDetail;\r\nimport com.ecommerce.website.model.User;\r\nimport com.ecommerce.website.repository.UserRepository;\r\n\r\n@Service\r\npublic class CustomUserDetailService implements UserDetailsService {\r\n\r\n    //Injecting dependency \r\n\t@Autowired\r\n\tUserRepository userRepository;\r\n\t\r\n    //Method to find a user by their email \r\n\t@Override\r\n\tpublic UserDetails loadUserByUsername(String email) throws UsernameNotFoundException {\r\n\t\tOptional&lt;User&gt; user = userRepository.findUserByEmail(email);\r\n\t\tuser.orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User not found&quot;));\r\n\t\treturn user.map(CustomUserDetail::new).get();\r\n\t}\r\n\r\n}\r\n````\r\n\r\nCustomUserDetail\r\n````\r\npackage com.ecommerce.website.model;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Collection;\r\nimport java.util.List;\r\n\r\nimport org.springframework.security.core.GrantedAuthority;\r\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\n\r\n/**This class connects the User model with UserDetails, which provides core user information. \r\n * This class extends User so that it can use methods from that class like .getUsername() and .getPassword() */\r\npublic class CustomUserDetail extends User implements UserDetails {\r\n\t\r\n\t//Creating constructor to get username and password of user \r\n\tpublic CustomUserDetail(User user) {\r\n\t\t\r\n\t\t//Calling super() so that parent can pass in the user object\r\n\t\tsuper(user);\r\n\t}\r\n\r\n\t//This method returns the authorities (roles) that a user has \r\n\t//@return authorityList because a user can have multiple roles\r\n\t@Override\r\n\tpublic Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n\t\t\r\n\t\t//List to hold users authorities (roles)\r\n\t\t\t//Holds type GrantedAuthority, which represents an authority granted to an Authentication object\r\n\t\tList&lt;GrantedAuthority&gt; authorityList = new ArrayList&lt;&gt;();\r\n\t\t\r\n\t\t//Calling super to get each roles that a user has \r\n\t\t//Putting those roles into the list \r\n\t\t//Converting roles to SimpleGrantedAuthority so that they can be added to list\r\n\t\tsuper.getRoles().forEach(role -&gt; {\r\n\t\t\tauthorityList.add(new SimpleGrantedAuthority(role.getName()));\r\n\t\t\r\n\t\t});\r\n\t\t\r\n\t\treturn authorityList; \r\n\t\t\r\n\t}\r\n\r\n    //Method to get username and password\r\n\t@Override\r\n\tpublic String getUsername() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn super.getEmail();\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic String getPassword() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn super.getPassword();\r\n\t}\r\n\r\n    //More methods about user \r\n\t@Override\r\n\tpublic boolean isAccountNonExpired() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn true;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean isAccountNonLocked() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn true;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean isCredentialsNonExpired() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn true;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean isEnabled() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn true;\r\n\t}\r\n\r\n}\r\n````\r\n\r\nSecurityConfig\r\n````\r\npackage com.ecommerce.website.configuration;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.builders.WebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\r\n\r\nimport com.ecommerce.website.service.CustomUserDetailService;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n\t\r\n\t//Injecting dependencies \r\n\t@Autowired\r\n\tGoogleOAuth2SuccessHandler googleOAuth2SuccessHandler;\r\n\t\r\n\t@Autowired\r\n\tCustomUserDetailService customUserDetailService;\r\n\t\r\n\t//Method to allow and restrict access for certain users \r\n    @Bean\r\n    public void configure(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeHttpRequests()\r\n                .requestMatchers(&quot;/&quot;, &quot;/shop/**&quot;, &quot;/register&quot;, &quot;/h2-console/**&quot;).permitAll()\r\n                .requestMatchers(&quot;/admin/**&quot;).hasRole(&quot;ADMIN&quot;)\r\n                .anyRequest()\r\n                .authenticated()\r\n                .and()\r\n                .formLogin()\r\n                .loginPage(&quot;/login&quot;)\r\n                .permitAll()\r\n                .failureUrl(&quot;/login?error=true&quot;)\r\n                .defaultSuccessUrl(&quot;/&quot;)\r\n                .usernameParameter(&quot;email&quot;)\r\n                .passwordParameter(&quot;password&quot;)\r\n                .and()\r\n                .oauth2Login()\r\n                .loginPage(&quot;/login&quot;)\r\n                .successHandler(googleOAuth2SuccessHandler)\r\n                .and()\r\n                .logout()\r\n                .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\r\n                .logoutSuccessUrl(&quot;/login&quot;)\r\n                .invalidateHttpSession(true)\r\n                .deleteCookies(&quot;JSESSIONID&quot;)\r\n                .and()\r\n                .exceptionHandling()\r\n                .and()\r\n                .csrf()\r\n                .disable();\r\n        \r\n        http.headers().frameOptions().disable();\r\n    }\r\n    \r\n    //Strong hashing function to encoder \r\n    @Bean\r\n    public BCryptPasswordEncoder bCryptPasswordEncoder () {\r\n    \t\r\n    \treturn new BCryptPasswordEncoder();\r\n    }\r\n    \r\n    //Method for authentication \r\n    @Bean\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n    \tauth.userDetailsService(customUserDetailService);\r\n    }\r\n    \r\n    //Method that restricts the website from accessing certain folders \r\n    @Bean\r\n    protected void configure(WebSecurity web) throws Exception {\r\n    \tweb.ignoring().requestMatchers(&quot;/resources/**&quot;, &quot;/static/**&quot;, &quot;/images/**&quot;, &quot;/productImages/**&quot;, &quot;/css/**&quot;, &quot;/js/**&quot;);   \r\n    }\r\n    \r\n}\r\n````\r\n\r\nGoogleOAuth2SuccessHandler\r\n````\r\npackage com.ecommerce.website.configuration;\r\n\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport org.apache.http.client.RedirectStrategy;\r\nimport org.springframework.security.web.DefaultRedirectStrategy;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.security.core.Authentication;\r\nimport org.springframework.security.oauth2.client.authentication.OAuth2AuthenticationToken;\r\nimport org.springframework.security.web.authentication.AuthenticationSuccessHandler;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport com.ecommerce.website.model.Role;\r\nimport com.ecommerce.website.model.User;\r\nimport com.ecommerce.website.repository.RoleRepository;\r\nimport com.ecommerce.website.repository.UserRepository;\r\n\r\nimport jakarta.servlet.ServletException;\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport jakarta.servlet.http.HttpServletResponse;\r\n\r\n@Component\r\npublic class GoogleOAuth2SuccessHandler implements AuthenticationSuccessHandler {\r\n\r\n\t//Injecting dependencies \r\n\t@Autowired\r\n\tRoleRepository roleRepository;\r\n\t\r\n\t@Autowired\r\n\tUserRepository userRepository;\r\n\t\r\n\t//RedirectStrategy variable to redirect HTTP requests if needed \r\n\tprivate RedirectStrategy redirectStrategy = (RedirectStrategy) new DefaultRedirectStrategy();\r\n\r\n\t@Override\r\n\tpublic void onAuthenticationSuccess(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse,\r\n\t\t\tAuthentication authentication) throws IOException, ServletException {\r\n\t\t\r\n\t\t//Token to represent OAuth2AuthenticationToken\r\n\t\tOAuth2AuthenticationToken token = (OAuth2AuthenticationToken) authentication; \r\n\t\t\r\n\t\t//Getting email \r\n\t\tString email = token.getPrincipal().getAttributes().get(&quot;email&quot;).toString(); \r\n\t\t\r\n\t\t//If loop to find user by email \r\n\t\tif(userRepository.findUserByEmail(email).isPresent()) {\r\n\t\t\t\r\n\t\t}\r\n\t\t//Else block for if user is not found \r\n\t\telse {\r\n\t\t\t//Creating user, setting its info, and saving it \r\n\t\t\tUser user = new User();\r\n\t\t\tuser.setFirstName(token.getPrincipal().getAttributes().get(&quot;given_name&quot;).toString());\r\n\t\t\tuser.setLastName(token.getPrincipal().getAttributes().get(&quot;family_name&quot;).toString());\r\n\t\t\tuser.setEmail(email);\r\n\t\t\tList&lt;Role&gt; roles = new ArrayList&lt;&gt;();\r\n\t\t\troles.add(roleRepository.findById(2).get());\r\n\t\t\tuser.setRoles(roles);\r\n\t\t\tuserRepository.save(user);\r\n\t\t}\r\n\t\t\r\n\t\t//Redirecting HTTP request \r\n\t\t((DefaultRedirectStrategy) redirectStrategy).sendRedirect(httpServletRequest, httpServletResponse, &quot;/&quot;); \r\n\t}\r\n\t\r\n\t\r\n}\r\n````","title":"org.springframework.beans.factory.parsing.BeanDefinitionParsingException Error","body":"<p>I am creating a project that functions like an ecommerce website, but I keep getting the error mentioned in the title. I assumed that the error was happening because I have three configure() methods in my SecurityConfig, so I tried making the method names unique, but that did not solve the issue. The following is the error I am getting, and after that is my code:</p>\n<pre><code>org.springframework.beans.factory.parsing.BeanDefinitionParsingException: Configuration problem: @Configuration class 'SecurityConfig' contains overloaded @Bean methods with name 'configure'. Use unique method names for separate bean definitions (with individual conditions etc) or switch '@Configuration.enforceUniqueMethods' to 'false'.\nOffending resource: class path resource [com/ecommerce/website/configuration/SecurityConfig.class]\n    at org.springframework.beans.factory.parsing.FailFastProblemReporter.error(FailFastProblemReporter.java:72) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.context.annotation.ConfigurationClass.validate(ConfigurationClass.java:233) ~[spring-context-6.0.2.jar:6.0.2]\n    at org.springframework.context.annotation.ConfigurationClassParser.validate(ConfigurationClassParser.java:206) ~[spring-context-6.0.2.jar:6.0.2]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:398) ~[spring-context-6.0.2.jar:6.0.2]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:283) ~[spring-context-6.0.2.jar:6.0.2]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:344) ~[spring-context-6.0.2.jar:6.0.2]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:115) ~[spring-context-6.0.2.jar:6.0.2]\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:745) ~[spring-context-6.0.2.jar:6.0.2]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:565) ~[spring-context-6.0.2.jar:6.0.2]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.0.jar:3.0.0]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.0.jar:3.0.0]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.0.jar:3.0.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.0.jar:3.0.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.0.jar:3.0.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.0.jar:3.0.0]\n    at com.ecommerce.website.EcommerceWebsiteApplication.main(EcommerceWebsiteApplication.java:26) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.0.jar:3.0.0]\n</code></pre>\n<p>Main class</p>\n<pre><code>package com.ecommerce.website;\n\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\nimport org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\n\nimport com.ecommerce.website.controller.AdminController;\nimport com.ecommerce.website.repository.CategoryRepository;\nimport com.ecommerce.website.service.CategoryService;\n\n\n/**This is the main class. It allows the user to run the project */\n@SpringBootApplication(exclude = { SecurityAutoConfiguration.class })\n@ComponentScan\npublic class EcommerceWebsiteApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(EcommerceWebsiteApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>Role POJO</p>\n<pre><code>package com.ecommerce.website.model;\n\nimport java.util.List;\n\nimport jakarta.persistence.*;\nimport jakarta.validation.constraints.NotEmpty;\n\n//Class to represent a role\n@Entity\n@Table(name = &quot;roles&quot;)\npublic class Role {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Integer id; \n    \n    @Column(nullable = false, unique = true)\n    @NotEmpty\n    private String name; \n    \n    //Referencing users\n    @ManyToMany(mappedBy = &quot;roles&quot;)\n    private List&lt;User&gt; users;\n \n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public List&lt;User&gt; getUsers() {\n        return users;\n    }\n\n    public void setUsers(List&lt;User&gt; users) {\n        this.users = users;\n    }\n    \n    \n}\n</code></pre>\n<p>User POJO</p>\n<pre><code>package com.ecommerce.website.model;\n\nimport java.util.List;\n\nimport jakarta.persistence.*;\nimport jakarta.validation.constraints.Email;\nimport jakarta.validation.constraints.NotEmpty;\n\n@Entity\n@Table(name = &quot;users&quot;)\npublic class User {\n    \n    //id for each user \n    //The @GeneratedValue annotation is to configure the way of increment of the specified column (field)\n    //GenerationType.AUTO picks an appropriate strategy for the particular database \n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Integer id; \n    \n    //Field to hold first name \n    //@NotEmpty means that the field cannot be null or empty\n    @NotEmpty\n    @Column(nullable = false)\n    private String firstName;\n    \n    private String lastName; \n    \n    //Field to hold email \n    //@Column maps to email column in table; it is not nullable and has to be unique \n    //@NotEmpty means that the field cannot be null or empty\n    //@Email shows message if email is invalid \n    @Column(nullable = false, unique = true)\n    @NotEmpty\n    @Email(message = &quot;{errors.invalid_email}&quot;)\n    private String email; \n    \n    //Field to hold password \n    private String password;\n    \n    //Creating list to reference and hold roles (admin and user)\n    //This is @ManyToMany because one user can have many roles and one role can have many users \n    //Cascade applies the same operation to related entities\n        //????CascadeType.MERGE says if entity is merged, related entity is also merged\n    //Eager FetchType will receive all data \n    //@JoinTable is used to reference join table, which provides mapping between two tables\n        //It has foreign keys for each table to define the mapping relationship \n        //In this case, &quot;user_role&quot; is the name of the join table\n        //&quot;USER_ID&quot; and &quot;ROLE_ID&quot; refer to those columns in the join table\n        //Application looks at above columns and uses info to find relationship between users and roles \n        //We are defining relationship in User class, so Role is on the inverse/other side \n    @ManyToMany(cascade = CascadeType.MERGE, fetch = FetchType.EAGER)\n    @JoinTable(\n            name = &quot;user_role&quot;,\n            joinColumns = {@JoinColumn(name = &quot;USER_ID&quot;, referencedColumnName = &quot;ID&quot;)},\n                    inverseJoinColumns = {@JoinColumn (name = &quot;ROLE_ID&quot;, referencedColumnName = &quot;ID&quot;)}\n    )\n    private List&lt;Role&gt; roles;\n    \n    \n    \n    public User() {\n        \n    }\n    \n    public User(User user) {\n        super();\n        this.firstName = user.getFirstName();\n        this.lastName = user.getLastName();\n        this.email = user.getEmail();\n        this.password = user.getPassword();\n        this.roles = user.getRoles();\n    }\n\n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public List&lt;Role&gt; getRoles() {\n        return roles;\n    }\n\n    public void setRoles(List&lt;Role&gt; roles) {\n        this.roles = roles;\n    } \n    \n}\n</code></pre>\n<p>RoleRepository</p>\n<pre><code>package com.ecommerce.website.repository;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\n\nimport com.ecommerce.website.model.Role;\n\npublic interface RoleRepository extends JpaRepository&lt;Role, Integer&gt;{\n\n}\n</code></pre>\n<pre><code>package com.ecommerce.website.repository;\n\nimport java.util.Optional;\n\nimport org.springframework.data.domain.Example;\nimport org.springframework.data.jpa.repository.JpaRepository;\n\nimport com.ecommerce.website.model.User;\n\npublic interface UserRepository extends JpaRepository&lt;User, Integer&gt; {\n\n    //Method to find user by email (optional because user may not be found)\n    Optional&lt;User&gt; findUserByEmail(String email); \n}\n</code></pre>\n<p>LoginController</p>\n<pre><code>package com.ecommerce.website.controller;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.GetMapping;\n\nimport com.ecommerce.website.repository.RoleRepository;\nimport com.ecommerce.website.repository.UserRepository;\n\n@Controller\npublic class LoginController {\n    \n    //Injecting dependencies \n    @Autowired\n    private BCryptPasswordEncoder bCryptPasswordEncoder;\n    \n    @Autowired\n    UserRepository userRepository;\n    \n    @Autowired\n    RoleRepository roleRepository;\n    \n    //Mappings to return login and register pages \n    @GetMapping(&quot;/login&quot;)\n    public String login() {\n        return &quot;login&quot;;\n    }\n    \n    @GetMapping(&quot;/register&quot;)\n    public String registerGet() {\n        return &quot;register&quot;;\n    }\n}\n</code></pre>\n<p>CustomUserDetailService</p>\n<pre><code>package com.ecommerce.website.service;\n\nimport java.util.Optional;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.stereotype.Service;\n\nimport com.ecommerce.website.model.CustomUserDetail;\nimport com.ecommerce.website.model.User;\nimport com.ecommerce.website.repository.UserRepository;\n\n@Service\npublic class CustomUserDetailService implements UserDetailsService {\n\n    //Injecting dependency \n    @Autowired\n    UserRepository userRepository;\n    \n    //Method to find a user by their email \n    @Override\n    public UserDetails loadUserByUsername(String email) throws UsernameNotFoundException {\n        Optional&lt;User&gt; user = userRepository.findUserByEmail(email);\n        user.orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User not found&quot;));\n        return user.map(CustomUserDetail::new).get();\n    }\n\n}\n</code></pre>\n<p>CustomUserDetail</p>\n<pre><code>package com.ecommerce.website.model;\n\nimport java.util.ArrayList;\nimport java.util.Collection;\nimport java.util.List;\n\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.core.userdetails.UserDetails;\n\n/**This class connects the User model with UserDetails, which provides core user information. \n * This class extends User so that it can use methods from that class like .getUsername() and .getPassword() */\npublic class CustomUserDetail extends User implements UserDetails {\n    \n    //Creating constructor to get username and password of user \n    public CustomUserDetail(User user) {\n        \n        //Calling super() so that parent can pass in the user object\n        super(user);\n    }\n\n    //This method returns the authorities (roles) that a user has \n    //@return authorityList because a user can have multiple roles\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        \n        //List to hold users authorities (roles)\n            //Holds type GrantedAuthority, which represents an authority granted to an Authentication object\n        List&lt;GrantedAuthority&gt; authorityList = new ArrayList&lt;&gt;();\n        \n        //Calling super to get each roles that a user has \n        //Putting those roles into the list \n        //Converting roles to SimpleGrantedAuthority so that they can be added to list\n        super.getRoles().forEach(role -&gt; {\n            authorityList.add(new SimpleGrantedAuthority(role.getName()));\n        \n        });\n        \n        return authorityList; \n        \n    }\n\n    //Method to get username and password\n    @Override\n    public String getUsername() {\n        // TODO Auto-generated method stub\n        return super.getEmail();\n    }\n    \n    @Override\n    public String getPassword() {\n        // TODO Auto-generated method stub\n        return super.getPassword();\n    }\n\n    //More methods about user \n    @Override\n    public boolean isAccountNonExpired() {\n        // TODO Auto-generated method stub\n        return true;\n    }\n\n    @Override\n    public boolean isAccountNonLocked() {\n        // TODO Auto-generated method stub\n        return true;\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired() {\n        // TODO Auto-generated method stub\n        return true;\n    }\n\n    @Override\n    public boolean isEnabled() {\n        // TODO Auto-generated method stub\n        return true;\n    }\n\n}\n</code></pre>\n<p>SecurityConfig</p>\n<pre><code>package com.ecommerce.website.configuration;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.builders.WebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\n\nimport com.ecommerce.website.service.CustomUserDetailService;\n\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n    \n    //Injecting dependencies \n    @Autowired\n    GoogleOAuth2SuccessHandler googleOAuth2SuccessHandler;\n    \n    @Autowired\n    CustomUserDetailService customUserDetailService;\n    \n    //Method to allow and restrict access for certain users \n    @Bean\n    public void configure(HttpSecurity http) throws Exception {\n        http\n                .authorizeHttpRequests()\n                .requestMatchers(&quot;/&quot;, &quot;/shop/**&quot;, &quot;/register&quot;, &quot;/h2-console/**&quot;).permitAll()\n                .requestMatchers(&quot;/admin/**&quot;).hasRole(&quot;ADMIN&quot;)\n                .anyRequest()\n                .authenticated()\n                .and()\n                .formLogin()\n                .loginPage(&quot;/login&quot;)\n                .permitAll()\n                .failureUrl(&quot;/login?error=true&quot;)\n                .defaultSuccessUrl(&quot;/&quot;)\n                .usernameParameter(&quot;email&quot;)\n                .passwordParameter(&quot;password&quot;)\n                .and()\n                .oauth2Login()\n                .loginPage(&quot;/login&quot;)\n                .successHandler(googleOAuth2SuccessHandler)\n                .and()\n                .logout()\n                .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\n                .logoutSuccessUrl(&quot;/login&quot;)\n                .invalidateHttpSession(true)\n                .deleteCookies(&quot;JSESSIONID&quot;)\n                .and()\n                .exceptionHandling()\n                .and()\n                .csrf()\n                .disable();\n        \n        http.headers().frameOptions().disable();\n    }\n    \n    //Strong hashing function to encoder \n    @Bean\n    public BCryptPasswordEncoder bCryptPasswordEncoder () {\n        \n        return new BCryptPasswordEncoder();\n    }\n    \n    //Method for authentication \n    @Bean\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(customUserDetailService);\n    }\n    \n    //Method that restricts the website from accessing certain folders \n    @Bean\n    protected void configure(WebSecurity web) throws Exception {\n        web.ignoring().requestMatchers(&quot;/resources/**&quot;, &quot;/static/**&quot;, &quot;/images/**&quot;, &quot;/productImages/**&quot;, &quot;/css/**&quot;, &quot;/js/**&quot;);   \n    }\n    \n}\n</code></pre>\n<p>GoogleOAuth2SuccessHandler</p>\n<pre><code>package com.ecommerce.website.configuration;\n\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport org.apache.http.client.RedirectStrategy;\nimport org.springframework.security.web.DefaultRedirectStrategy;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.oauth2.client.authentication.OAuth2AuthenticationToken;\nimport org.springframework.security.web.authentication.AuthenticationSuccessHandler;\nimport org.springframework.stereotype.Component;\n\nimport com.ecommerce.website.model.Role;\nimport com.ecommerce.website.model.User;\nimport com.ecommerce.website.repository.RoleRepository;\nimport com.ecommerce.website.repository.UserRepository;\n\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\n\n@Component\npublic class GoogleOAuth2SuccessHandler implements AuthenticationSuccessHandler {\n\n    //Injecting dependencies \n    @Autowired\n    RoleRepository roleRepository;\n    \n    @Autowired\n    UserRepository userRepository;\n    \n    //RedirectStrategy variable to redirect HTTP requests if needed \n    private RedirectStrategy redirectStrategy = (RedirectStrategy) new DefaultRedirectStrategy();\n\n    @Override\n    public void onAuthenticationSuccess(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse,\n            Authentication authentication) throws IOException, ServletException {\n        \n        //Token to represent OAuth2AuthenticationToken\n        OAuth2AuthenticationToken token = (OAuth2AuthenticationToken) authentication; \n        \n        //Getting email \n        String email = token.getPrincipal().getAttributes().get(&quot;email&quot;).toString(); \n        \n        //If loop to find user by email \n        if(userRepository.findUserByEmail(email).isPresent()) {\n            \n        }\n        //Else block for if user is not found \n        else {\n            //Creating user, setting its info, and saving it \n            User user = new User();\n            user.setFirstName(token.getPrincipal().getAttributes().get(&quot;given_name&quot;).toString());\n            user.setLastName(token.getPrincipal().getAttributes().get(&quot;family_name&quot;).toString());\n            user.setEmail(email);\n            List&lt;Role&gt; roles = new ArrayList&lt;&gt;();\n            roles.add(roleRepository.findById(2).get());\n            user.setRoles(roles);\n            userRepository.save(user);\n        }\n        \n        //Redirecting HTTP request \n        ((DefaultRedirectStrategy) redirectStrategy).sendRedirect(httpServletRequest, httpServletResponse, &quot;/&quot;); \n    }\n    \n    \n}\n</code></pre>\n"},{"tags":["java","css","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":24379947,"reputation":303,"user_id":18311683,"display_name":"Josh Heaps"},"score":0,"creation_date":1672337453,"post_id":74937081,"comment_id":132271479,"body_markdown":"What do you want it to be a percentage of? Window height or monitor height?","body":"What do you want it to be a percentage of? Window height or monitor height?"},{"owner":{"account_id":23903746,"reputation":1,"user_id":17901587,"display_name":"Poseidon Greek"},"score":0,"creation_date":1672427385,"post_id":74937081,"comment_id":132289450,"body_markdown":"Window height means view screens height?  I don&#39;t know about this question, let me try to explain this. I need the components height when it&#39;s opened in full screen mode like calendar and for some text area fields.","body":"Window height means view screens height?  I don&#39;t know about this question, let me try to explain this. I need the components height when it&#39;s opened in full screen mode like calendar and for some text area fields."}],"answers":[{"tags":[],"owner":{"account_id":9225412,"reputation":347,"user_id":6853384,"display_name":"Sadha Nanda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672213115,"creation_date":1672213115,"answer_id":74937486,"question_id":74937081,"body_markdown":"you mean you want to replace px with %?\r\nif yes then use string replace method","title":"How to validate the height of the element in % value in selenium using Java","body":"<p>you mean you want to replace px with %?\nif yes then use string replace method</p>\n"},{"tags":[],"owner":{"account_id":24379947,"reputation":303,"user_id":18311683,"display_name":"Josh Heaps"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672339354,"creation_date":1672339354,"answer_id":74954929,"question_id":74937081,"body_markdown":"Something like this will get the percentage of the element in relation to the height of the window:\r\n\r\n```\r\ndouble heightPercentage = element.getCssValue(&quot;height&quot;) / driver.Manage().Window.Size.Height;\r\n```","title":"How to validate the height of the element in % value in selenium using Java","body":"<p>Something like this will get the percentage of the element in relation to the height of the window:</p>\n<pre><code>double heightPercentage = element.getCssValue(&quot;height&quot;) / driver.Manage().Window.Size.Height;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22542267,"reputation":11,"user_id":16732700,"display_name":"Fouzan Jafri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672726089,"creation_date":1672723568,"answer_id":74989326,"question_id":74937081,"body_markdown":"This&#39;ll help i guess:\r\n\r\n1.\r\n        int hei = driver.manage().window().getSize().getHeight();\r\n                            int pxtopercen = (int) (hei*6.25);\r\n\r\n\r\n2.    \r\n\t\tdriver.manage().window().getSize().getHeight();","title":"How to validate the height of the element in % value in selenium using Java","body":"<p>This'll help i guess:</p>\n<p>1.\nint hei = driver.manage().window().getSize().getHeight();\nint pxtopercen = (int) (hei*6.25);</p>\n<p>2.<br />\ndriver.manage().window().getSize().getHeight();</p>\n"}],"owner":{"account_id":23903746,"reputation":1,"user_id":17901587,"display_name":"Poseidon Greek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1672726089,"creation_date":1672210110,"question_id":74937081,"body_markdown":"I got the height of the element in px values by using:\r\n```element.getCssValue(&quot;height&quot;)```\r\n\r\nBut by using this, i got the height as:\r\n**Height: 560px**\r\n\r\nBut I need to get the height as: \r\n**Height: 100%**\r\nOr like **Height: 50%**","title":"How to validate the height of the element in % value in selenium using Java","body":"<p>I got the height of the element in px values by using:\n<code>element.getCssValue(&quot;height&quot;)</code></p>\n<p>But by using this, i got the height as:\n<strong>Height: 560px</strong></p>\n<p>But I need to get the height as:\n<strong>Height: 100%</strong>\nOr like <strong>Height: 50%</strong></p>\n"},{"tags":["java","build.gradle","testng"],"comments":[{"owner":{"account_id":346350,"reputation":14221,"user_id":679824,"accept_rate":40,"display_name":"Krishnan Mahadevan"},"score":0,"creation_date":1672725004,"post_id":74926607,"comment_id":132334221,"body_markdown":"Can you please pload a sample project into github, edit your question and add a link to the project in your question that we can use to reproduce the problem ?","body":"Can you please pload a sample project into github, edit your question and add a link to the project in your question that we can use to reproduce the problem ?"},{"owner":{"account_id":3855110,"reputation":39,"user_id":3194257,"display_name":"user3194257"},"score":0,"creation_date":1702278102,"post_id":74926607,"comment_id":136872153,"body_markdown":"@before was not invoking by default,this was solved by adding alwaysrun=true ,  in testng","body":"@before was not invoking by default,this was solved by adding alwaysrun=true ,  in testng"}],"owner":{"account_id":3855110,"reputation":39,"user_id":3194257,"display_name":"user3194257"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672724940,"creation_date":1672125389,"question_id":74926607,"body_markdown":"when `gradle clean test -P testGroups=&quot;test&quot;` cmd is used to run tests which has `test` in groups. I get null pointer exception not sure what is wrong,  can someone help here i am stuck for days here\r\n\r\n\r\n    FAILED: BotAttributesTest\r\n    java.lang.NullPointerException\r\n    \tat sanityTests.BotAttributesTest.BotAttributesTest(BotAttributesTest.java:29)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \t\r\n    \r\n    \r\n    it fails at logger line not sure why?\r\n    \r\n    logger declaration below\r\n    \r\n      public ExtentSparkReporter htmlReporter;\r\n         public static ExtentReports extent;\r\n         public  ExtentTest logger;\r\n         public static WebDriver  wd;\r\n    \r\n        @BeforeMethod\r\n        public void logger(Method testMethod){\r\n            logger = extent.createTest(testMethod.getName());\r\n    \r\n            WebDriverManager.chromedriver().setup();","title":"when gradle testNG groups cmd is triggered it shows null pointer","body":"<p>when <code>gradle clean test -P testGroups=&quot;test&quot;</code> cmd is used to run tests which has <code>test</code> in groups. I get null pointer exception not sure what is wrong,  can someone help here i am stuck for days here</p>\n<pre><code>FAILED: BotAttributesTest\njava.lang.NullPointerException\n    at sanityTests.BotAttributesTest.BotAttributesTest(BotAttributesTest.java:29)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    \n\n\nit fails at logger line not sure why?\n\nlogger declaration below\n\n  public ExtentSparkReporter htmlReporter;\n     public static ExtentReports extent;\n     public  ExtentTest logger;\n     public static WebDriver  wd;\n\n    @BeforeMethod\n    public void logger(Method testMethod){\n        logger = extent.createTest(testMethod.getName());\n\n        WebDriverManager.chromedriver().setup();\n</code></pre>\n"},{"tags":["java","selenium","cucumber"],"answers":[{"tags":[],"owner":{"account_id":16955059,"reputation":268,"user_id":12263669,"display_name":"KILLtheWEEZEL"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672173434,"creation_date":1672173434,"answer_id":74933926,"question_id":74933238,"body_markdown":"driver.close() kills the session if there is only one browser open\r\nhttps://www.browserstack.com/guide/close-browser-in-selenium\r\n\r\nYou will need to create a new session after closing the original driver.","title":"Getting org.openqa.selenium.NoSuchSessionException: invalid session id error in Cucumber feature","body":"<p>driver.close() kills the session if there is only one browser open\n<a href=\"https://www.browserstack.com/guide/close-browser-in-selenium\" rel=\"nofollow noreferrer\">https://www.browserstack.com/guide/close-browser-in-selenium</a></p>\n<p>You will need to create a new session after closing the original driver.</p>\n"}],"owner":{"account_id":26647701,"reputation":55,"user_id":20262433,"display_name":"Pratik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74933926,"answer_count":1,"score":0,"last_activity_date":1672724863,"creation_date":1672167940,"question_id":74933238,"body_markdown":"I am using Selenium+Cucumber+TestNG and I am trying to close and open a new browser in between my feature. That is my requirement as there is no logout feature present in my application. Below is my code.\r\n\r\n \r\n\r\n    @Regression @Recall\r\n      Scenario: Validate workflow with Recall from Closed tab\r\n        Given User launch the &quot;MISToolkit&quot; application on browser\r\n        When &quot;approver&quot; logs in to application\r\n        Then &quot;MISToolKit&quot; page should appear\r\n        Then User navigates to &quot;ResearchTicketDashboard&quot; page\r\n        Then User navigates to WorkQueue on Research Ticket Dashboard Page\r\n     And I &quot;close&quot; the browser for logging in as another analyst\r\n        When User launch the &quot;MISToolkit&quot; application on browser\r\n        When &quot;analyst&quot; logs in to application\r\n\r\nBelow is the step definition for And I &quot;close&quot; the browser for logging in as another analyst.\r\n\r\n    @Then(&quot;I {string} the browser for logging in as another analyst&quot;)\r\n    \tpublic void closeTheSessionForLoggingInAsOtherAnalyst(String mode) {\r\n    \t\tresearchTicketDashboardPage.clearBrowserStorage(mode);\r\n    \r\n    \t}\r\n\r\nAnd inside the clearBrowserStorage method I am trying to close the browser and open it again.\r\n\r\n     driver.close();\r\n     Base.initializeBrowserSetup();\r\nI am getting following error.\r\n\r\n \r\n\r\n    When User launch the &quot;MISToolkit&quot; application on browser           # stepDefinitions.LoginPageStepDefinitions.userLaunchTheApplicationOnBrowser(java.lang.String)\r\n          org.openqa.selenium.NoSuchSessionException: invalid session id\r\n\r\nAm I missing something here? ","title":"Getting org.openqa.selenium.NoSuchSessionException: invalid session id error in Cucumber feature","body":"<p>I am using Selenium+Cucumber+TestNG and I am trying to close and open a new browser in between my feature. That is my requirement as there is no logout feature present in my application. Below is my code.</p>\n<pre><code>@Regression @Recall\n  Scenario: Validate workflow with Recall from Closed tab\n    Given User launch the &quot;MISToolkit&quot; application on browser\n    When &quot;approver&quot; logs in to application\n    Then &quot;MISToolKit&quot; page should appear\n    Then User navigates to &quot;ResearchTicketDashboard&quot; page\n    Then User navigates to WorkQueue on Research Ticket Dashboard Page\n And I &quot;close&quot; the browser for logging in as another analyst\n    When User launch the &quot;MISToolkit&quot; application on browser\n    When &quot;analyst&quot; logs in to application\n</code></pre>\n<p>Below is the step definition for And I &quot;close&quot; the browser for logging in as another analyst.</p>\n<pre><code>@Then(&quot;I {string} the browser for logging in as another analyst&quot;)\n    public void closeTheSessionForLoggingInAsOtherAnalyst(String mode) {\n        researchTicketDashboardPage.clearBrowserStorage(mode);\n\n    }\n</code></pre>\n<p>And inside the clearBrowserStorage method I am trying to close the browser and open it again.</p>\n<pre><code> driver.close();\n Base.initializeBrowserSetup();\n</code></pre>\n<p>I am getting following error.</p>\n<pre><code>When User launch the &quot;MISToolkit&quot; application on browser           # stepDefinitions.LoginPageStepDefinitions.userLaunchTheApplicationOnBrowser(java.lang.String)\n      org.openqa.selenium.NoSuchSessionException: invalid session id\n</code></pre>\n<p>Am I missing something here?</p>\n"},{"tags":["java","selenium","testing","automation"],"answers":[{"tags":[],"owner":{"account_id":20087954,"reputation":423,"user_id":14729128,"display_name":"Maria"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672261049,"creation_date":1672261049,"answer_id":74944928,"question_id":74938243,"body_markdown":"I think you should read about static fields first to get clear picture about this thing. \r\nAnyway, static variables can be accessed by calling with the class name **ClassName.VariableName.**\r\n\r\n*Add.reportV1* in your case. Btw in your example *reportV1* is not initialized yet, fyi.","title":"How to get string value from another class using selenium and testng in java","body":"<p>I think you should read about static fields first to get clear picture about this thing.\nAnyway, static variables can be accessed by calling with the class name <strong>ClassName.VariableName.</strong></p>\n<p><em>Add.reportV1</em> in your case. Btw in your example <em>reportV1</em> is not initialized yet, fyi.</p>\n"}],"owner":{"account_id":25985595,"reputation":3,"user_id":19698621,"display_name":"Michael"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74944928,"answer_count":1,"score":0,"last_activity_date":1672724844,"creation_date":1672218082,"question_id":74938243,"body_markdown":"I am trying to get the value of string in the first class and use it to another class. Below is my code :\r\n\r\n```\r\npublic class Add extends driver {\r\n\tpublic static String reportV1;\r\n\r\n\t@Test\r\n\tpublic String export() throws InterruptedException, IOException {\r\n\r\n\r\n// Report Name\r\n\t\tWebElement report1 = wait.until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(&quot;#nReportName&quot;)));\r\n\t\treportV1 = report1.getAttribute(&quot;value&quot;);\r\n\t\tif (reportV1.equals(reportV)) {\r\n\t\t\tSystem.out.println(&quot; PASSED - Report Name: &quot; + reportV1);\r\n\t\t} else {\r\n\t\t\tSystem.out.println(&quot; FAILED - Report Name: &quot; + reportV1);\r\n\t\t\tsoft.assertTrue(false);\r\n\t\t}\r\nsoft.assertAll();\r\nreturn reportV1;\r\n```\r\n\r\nI&#39;m new to java, so can someone help me to get the value of string?\r\n\r\nThank you in advance.\r\n","title":"How to get string value from another class using selenium and testng in java","body":"<p>I am trying to get the value of string in the first class and use it to another class. Below is my code :</p>\n<pre><code>public class Add extends driver {\n    public static String reportV1;\n\n    @Test\n    public String export() throws InterruptedException, IOException {\n\n\n// Report Name\n        WebElement report1 = wait.until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(&quot;#nReportName&quot;)));\n        reportV1 = report1.getAttribute(&quot;value&quot;);\n        if (reportV1.equals(reportV)) {\n            System.out.println(&quot; PASSED - Report Name: &quot; + reportV1);\n        } else {\n            System.out.println(&quot; FAILED - Report Name: &quot; + reportV1);\n            soft.assertTrue(false);\n        }\nsoft.assertAll();\nreturn reportV1;\n</code></pre>\n<p>I'm new to java, so can someone help me to get the value of string?</p>\n<p>Thank you in advance.</p>\n"},{"tags":["java","logging","config","quarkus","smallrye"],"answers":[{"tags":[],"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672724714,"creation_date":1672724714,"answer_id":74989443,"question_id":74981218,"body_markdown":"An extension **cannot** override runtime configuration values, it **can** however set a **default** value using `io.quarkus.deployment.builditem.RunTimeConfigurationDefaultBuildItem`","title":"How to overwrite config in a Quarkus extension","body":"<p>An extension <strong>cannot</strong> override runtime configuration values, it <strong>can</strong> however set a <strong>default</strong> value using <code>io.quarkus.deployment.builditem.RunTimeConfigurationDefaultBuildItem</code></p>\n"}],"owner":{"account_id":25554283,"reputation":65,"user_id":19338129,"display_name":"Sof42lxca"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":297,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74989443,"answer_count":1,"score":1,"last_activity_date":1672724714,"creation_date":1672654935,"question_id":74981218,"body_markdown":"Is there a way to overwrite a configuration in a Quarkus extension with a hard-coded value?\r\n\r\nWhat I&#39;m trying to do: I am creating a custom Quarkus extension for JSON logging, based on quarkus-logging-json but with additional (non static) fields. I reuse some classes from the extension&#39;s runtime library, so it is a Maven dependency of the runtime module of the extension (and the deployment also needs to be declared as a dependency to my deployment module, because the quarkus extension plugin checks this). \r\nIt seems to work fine, except that I now have 2 formatters, and the following line is logged: \r\n\r\n    LogManager error of type GENERIC_FAILURE: Multiple console formatters were activated\r\n\r\nI would like to disable the quarkus-logging-json extension completely by hard-coding these values: \r\n\r\n    quarkus.console.json.enable=false \r\n    quarkus.file.json.enable=false. \r\n\r\nIs there a way to do this?\r\n\r\nThank you.\r\n","title":"How to overwrite config in a Quarkus extension","body":"<p>Is there a way to overwrite a configuration in a Quarkus extension with a hard-coded value?</p>\n<p>What I'm trying to do: I am creating a custom Quarkus extension for JSON logging, based on quarkus-logging-json but with additional (non static) fields. I reuse some classes from the extension's runtime library, so it is a Maven dependency of the runtime module of the extension (and the deployment also needs to be declared as a dependency to my deployment module, because the quarkus extension plugin checks this).\nIt seems to work fine, except that I now have 2 formatters, and the following line is logged:</p>\n<pre><code>LogManager error of type GENERIC_FAILURE: Multiple console formatters were activated\n</code></pre>\n<p>I would like to disable the quarkus-logging-json extension completely by hard-coding these values:</p>\n<pre><code>quarkus.console.json.enable=false \nquarkus.file.json.enable=false. \n</code></pre>\n<p>Is there a way to do this?</p>\n<p>Thank you.</p>\n"},{"tags":["java","design-patterns","strategy-pattern"],"owner":{"account_id":11527325,"reputation":87,"user_id":8447375,"display_name":"Sanj. K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672724507,"creation_date":1672724507,"question_id":74989423,"body_markdown":"I am implementing the Snakes and Ladders game. Where Game is one class which has Board, Dice, Players and 2 strategies - Winning Strategy and EndGameStrategy.\r\nDifferent implementations of EndGameStrategy can be - \r\n\r\n 1. If one player wins, the game ends - OnePlayerWonGameEndStrategy\r\n 2. If only 1 player remains at last, the game ends - OnlyOnePlayerLeftGameEndStrategy\r\n\r\nThe Game model looks as below: \r\n```\r\n@Builder\r\n@Getter\r\npublic class Game {\r\n    private Board board;\r\n    private Queue&lt;Player&gt; players;\r\n    private List&lt;Dice&gt; dices;\r\n    private final int MAX_BOARD_SIZE = 1000;\r\n    private final int MAX_NUMBER_OF_PLAYERS = 10;\r\n    private final int MAX_NUMBER_OF_DICE = 5;\r\n    private int totalPlayers;\r\n    private GameEndStrategy gameEndStrategy;\r\n    private WinningStrategy winningStrategy;\r\n    private Queue&lt;Player&gt;leaderBoard;\r\n}\r\n```\r\nThe Client initializes strategies using builder.\r\n```\r\nGame game = Game.Builder()\r\n\t\t\t\t.setBoard(board)\r\n\t\t\t\t.setPlayers(playerList)\r\n\t\t\t\t.setDices(diceList)\r\n\t\t\t\t.setGameEndStrategy(new OnlyOnePlayerLeftGameEndStrategy())\r\n\t\t\t\t.build();\r\n```\r\nOne of the implementation of GameEndStrategy is OnlyOneplayerLeftGameEndStrategy\r\n\r\n```\r\npublic class OnlyOnePlayerLeftGameEndStrategy implements GameEndStrategy{\r\n    @Override\r\n    public Boolean isGameEnd(int activePlayers, int totalPlayers) {\r\n        return activePlayers == 1;\r\n    }\r\n}\r\n```\r\nOther implementation is when the first player wins, the game ends\r\n```\r\npublic class OnePlayerWonGameEndStrategy implements GameEndStrategy{\r\n    @Override\r\n    public Boolean isGameEnd(int activePlayers, int totalPlayers) {\r\n        return totalPlayers - activePlayers == 1;\r\n    }\r\n}\r\n```\r\nThe client uses the strategy as follows:\r\n```\r\nwhile(!game.getGameEndStrategy().isGameEnd(game.getPlayers().size(), game.getTotalPlayers())) {\r\n\t\\\\Game logic (Player throws dice, new position is checked\r\n}\r\n```\r\nHere as parameters of isGameEnd method, should I pass the context class i.e the Game instance as the param? because, \r\n**OnlyOnePlayerLeftGameEndStrategy** would only need the activePlayers number to check if one one player is left. But, **OnePlayerWonGameEndStartegy** needs both totalPlayers and activePlayers as params to check if one player has won. Also there could be another strategy in future which would need more params.\r\nSo how should we handle changing params? How should we implement the strategy pattern here in this Snakes and Ladders usecase?","title":"Is passing context class attributes as parameters to a strategy method (when the strategy is itself a part of the context) correct?","body":"<p>I am implementing the Snakes and Ladders game. Where Game is one class which has Board, Dice, Players and 2 strategies - Winning Strategy and EndGameStrategy.\nDifferent implementations of EndGameStrategy can be -</p>\n<ol>\n<li>If one player wins, the game ends - OnePlayerWonGameEndStrategy</li>\n<li>If only 1 player remains at last, the game ends - OnlyOnePlayerLeftGameEndStrategy</li>\n</ol>\n<p>The Game model looks as below:</p>\n<pre><code>@Builder\n@Getter\npublic class Game {\n    private Board board;\n    private Queue&lt;Player&gt; players;\n    private List&lt;Dice&gt; dices;\n    private final int MAX_BOARD_SIZE = 1000;\n    private final int MAX_NUMBER_OF_PLAYERS = 10;\n    private final int MAX_NUMBER_OF_DICE = 5;\n    private int totalPlayers;\n    private GameEndStrategy gameEndStrategy;\n    private WinningStrategy winningStrategy;\n    private Queue&lt;Player&gt;leaderBoard;\n}\n</code></pre>\n<p>The Client initializes strategies using builder.</p>\n<pre><code>Game game = Game.Builder()\n                .setBoard(board)\n                .setPlayers(playerList)\n                .setDices(diceList)\n                .setGameEndStrategy(new OnlyOnePlayerLeftGameEndStrategy())\n                .build();\n</code></pre>\n<p>One of the implementation of GameEndStrategy is OnlyOneplayerLeftGameEndStrategy</p>\n<pre><code>public class OnlyOnePlayerLeftGameEndStrategy implements GameEndStrategy{\n    @Override\n    public Boolean isGameEnd(int activePlayers, int totalPlayers) {\n        return activePlayers == 1;\n    }\n}\n</code></pre>\n<p>Other implementation is when the first player wins, the game ends</p>\n<pre><code>public class OnePlayerWonGameEndStrategy implements GameEndStrategy{\n    @Override\n    public Boolean isGameEnd(int activePlayers, int totalPlayers) {\n        return totalPlayers - activePlayers == 1;\n    }\n}\n</code></pre>\n<p>The client uses the strategy as follows:</p>\n<pre><code>while(!game.getGameEndStrategy().isGameEnd(game.getPlayers().size(), game.getTotalPlayers())) {\n    \\\\Game logic (Player throws dice, new position is checked\n}\n</code></pre>\n<p>Here as parameters of isGameEnd method, should I pass the context class i.e the Game instance as the param? because,\n<strong>OnlyOnePlayerLeftGameEndStrategy</strong> would only need the activePlayers number to check if one one player is left. But, <strong>OnePlayerWonGameEndStartegy</strong> needs both totalPlayers and activePlayers as params to check if one player has won. Also there could be another strategy in future which would need more params.\nSo how should we handle changing params? How should we implement the strategy pattern here in this Snakes and Ladders usecase?</p>\n"},{"tags":["java","hazelcast"],"owner":{"account_id":27337922,"reputation":11,"user_id":20849054,"display_name":"Deepak_M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672724304,"creation_date":1672724304,"question_id":74989399,"body_markdown":"```\r\n     Config hz = new Config();\r\n     hz.setProperty(&quot;hazelcast.rest.enbld&quot;, &quot;true&quot;);\r\n     hz.getGroupConfig().setName(&quot;abc&quot;);\r\n     hz.getGroupConfig().setPassword(&quot;def&quot;);\r\n\r\n```\r\nwhat is the alternate of the above code while converting the hazelcast from 3.x.x to 5.x.x","title":"what is the alternate of the above code while migrating the hazelcast from 3.x.x to 5.x.x?","body":"<pre><code>     Config hz = new Config();\n     hz.setProperty(&quot;hazelcast.rest.enbld&quot;, &quot;true&quot;);\n     hz.getGroupConfig().setName(&quot;abc&quot;);\n     hz.getGroupConfig().setPassword(&quot;def&quot;);\n\n</code></pre>\n<p>what is the alternate of the above code while converting the hazelcast from 3.x.x to 5.x.x</p>\n"},{"tags":["java","spring-boot","stripe-payments"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":2,"creation_date":1672707701,"post_id":74988057,"comment_id":132332108,"body_markdown":"The error is very clear.  You are creating a PaymentMethod.  That is the wrong thing.  You need to create a PaymentIntent.","body":"The error is very clear.  You are creating a PaymentMethod.  That is the wrong thing.  You need to create a PaymentIntent."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1672759816,"post_id":74988057,"comment_id":132344288,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":20509645,"reputation":41,"user_id":15051712,"display_name":"Prasad Jagtap"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672723688,"creation_date":1672723688,"answer_id":74989335,"question_id":74988057,"body_markdown":"First of all you need to create payment intent and once you generate payment intent you will get a **client_secrete** in the response, this means your payment is ready for the attempt of collecting payment you can have option of setting use client SDK to true or false.\r\n\r\n    Stripe.apiKey = &quot;your_stripe_secrete_key&quot;;\r\n    \r\n    List&lt;Object&gt; paymentMethodTypes =\r\n      new ArrayList&lt;&gt;();\r\n    paymentMethodTypes.add(&quot;card&quot;);\r\n    Map&lt;String, Object&gt; params = new HashMap&lt;&gt;();\r\n    params.put(&quot;amount&quot;, whatever_amount_you_want_to_charge);\r\n    params.put(&quot;currency&quot;, &quot;currency_abv&quot; //ex- usd, inr, aud, etc);\r\n    params.put(\r\n      &quot;payment_method_types&quot;,\r\n      paymentMethodTypes\r\n    );\r\n    \r\n    PaymentIntent paymentIntent =\r\n      PaymentIntent.create(params);\r\n\r\nHere you have to perform another operation called confirming that payment intent earlier you have created, obliviously it has all the information so you just have to specify payment method, authenticate and confirm payment intent (before confirming stripe provides options to modify that payment intent).\r\n\r\n**From backend**\r\n\r\n    Stripe.apiKey = &quot;your_stripe_secrete_key&quot;;\r\n    \r\n   \r\n    PaymentIntent paymentIntent =\r\n      PaymentIntent.retrieve(\r\n        &quot;payment_intent_id&quot;\r\n      );\r\n    \r\n    Map&lt;String, Object&gt; params = new HashMap&lt;&gt;();\r\n    params.put(&quot;payment_method&quot;, &quot;pm_card_visa&quot;);\r\n    \r\n    PaymentIntent updatedPaymentIntent =\r\n      paymentIntent.confirm(params);\r\n\r\n**From frontend**\r\n\r\n\r\n    stripe\r\n      .confirmCardPayment(&#39;{PAYMENT_INTENT_CLIENT_SECRET}&#39;, {\r\n        payment_method: {\r\n          card: cardElement,\r\n          billing_details: {\r\n            name: &#39;name&#39;,\r\n          },\r\n        },\r\n      })\r\n      .then(function(result) {\r\n        // Handle result.error or result.paymentIntent\r\n      });\r\n\r\nStripe will use client SDK and your client secrete which you have earlier generated from payment intent to make a payment so this will try to collect payment, remember if you are using any 3D secured card to make payment you have confirm that payment using OTP or any authentication provided by respective bank or else your payment intent will go in the mode of **require_confirmation** state \r\n\r\n**For reference**\r\n\r\nhttps://stripe.com/docs/api/payment_intents/create#create_payment_intent\r\n\r\nhttps://stripe.com/docs/js/payment_intents/payment_method#confirm_payment_intent_payment_method\r\n\r\nhttps://stripe.com/docs/api/payment_intents/confirm#confirm_payment_intent","title":"Make a payment via stripe in spring boot","body":"<p>First of all you need to create payment intent and once you generate payment intent you will get a <strong>client_secrete</strong> in the response, this means your payment is ready for the attempt of collecting payment you can have option of setting use client SDK to true or false.</p>\n<pre><code>Stripe.apiKey = &quot;your_stripe_secrete_key&quot;;\n\nList&lt;Object&gt; paymentMethodTypes =\n  new ArrayList&lt;&gt;();\npaymentMethodTypes.add(&quot;card&quot;);\nMap&lt;String, Object&gt; params = new HashMap&lt;&gt;();\nparams.put(&quot;amount&quot;, whatever_amount_you_want_to_charge);\nparams.put(&quot;currency&quot;, &quot;currency_abv&quot; //ex- usd, inr, aud, etc);\nparams.put(\n  &quot;payment_method_types&quot;,\n  paymentMethodTypes\n);\n\nPaymentIntent paymentIntent =\n  PaymentIntent.create(params);\n</code></pre>\n<p>Here you have to perform another operation called confirming that payment intent earlier you have created, obliviously it has all the information so you just have to specify payment method, authenticate and confirm payment intent (before confirming stripe provides options to modify that payment intent).</p>\n<p><strong>From backend</strong></p>\n<pre><code>Stripe.apiKey = &quot;your_stripe_secrete_key&quot;;\n\n\nPaymentIntent paymentIntent =\n  PaymentIntent.retrieve(\n    &quot;payment_intent_id&quot;\n  );\n\nMap&lt;String, Object&gt; params = new HashMap&lt;&gt;();\nparams.put(&quot;payment_method&quot;, &quot;pm_card_visa&quot;);\n\nPaymentIntent updatedPaymentIntent =\n  paymentIntent.confirm(params);\n</code></pre>\n<p><strong>From frontend</strong></p>\n<pre><code>stripe\n  .confirmCardPayment('{PAYMENT_INTENT_CLIENT_SECRET}', {\n    payment_method: {\n      card: cardElement,\n      billing_details: {\n        name: 'name',\n      },\n    },\n  })\n  .then(function(result) {\n    // Handle result.error or result.paymentIntent\n  });\n</code></pre>\n<p>Stripe will use client SDK and your client secrete which you have earlier generated from payment intent to make a payment so this will try to collect payment, remember if you are using any 3D secured card to make payment you have confirm that payment using OTP or any authentication provided by respective bank or else your payment intent will go in the mode of <strong>require_confirmation</strong> state</p>\n<p><strong>For reference</strong></p>\n<p><a href=\"https://stripe.com/docs/api/payment_intents/create#create_payment_intent\" rel=\"nofollow noreferrer\">https://stripe.com/docs/api/payment_intents/create#create_payment_intent</a></p>\n<p><a href=\"https://stripe.com/docs/js/payment_intents/payment_method#confirm_payment_intent_payment_method\" rel=\"nofollow noreferrer\">https://stripe.com/docs/js/payment_intents/payment_method#confirm_payment_intent_payment_method</a></p>\n<p><a href=\"https://stripe.com/docs/api/payment_intents/confirm#confirm_payment_intent\" rel=\"nofollow noreferrer\">https://stripe.com/docs/api/payment_intents/confirm#confirm_payment_intent</a></p>\n"}],"owner":{"account_id":19950197,"reputation":1,"user_id":20915108,"display_name":"Subhan Pugh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":776,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1672723688,"creation_date":1672704154,"question_id":74988057,"body_markdown":"I want to make a &quot;payment&quot; type form, because the &quot;card&quot; does not fit because it is in one line. I&#39;m trying to get data from a form, create a token to make a payment. But I get the error &quot;You cannot create a charge with a PaymentMethod. Use the Payment Intents API instead.; request-id: req_9AYqRwPYg7MPdU&quot;. How can it be solved? Thank you.\r\n\r\n```\r\n&lt;form id=&quot;payment-form&quot; method=&quot;post&quot;&gt;\r\n   &lt;input id=&quot;api-key&quot; type=&quot;hidden&quot; value=&quot;${stripePublicKey}&quot;&gt;\r\n   &lt;div class=&quot;form-group mb-3&quot;&gt;\r\n       &lt;div class=&quot;w-100&quot; id=&quot;card-element&quot;&gt;\r\n           &lt;!-- A Stripe Element will be inserted here. --&gt;\r\n       &lt;/div&gt;\r\n   &lt;/div&gt;\r\n   &lt;button class=&quot;btn w-100 btn-success mt-4&quot; type=&quot;submit&quot; id=&quot;submitButton&quot;&gt;Pay $230&lt;/button&gt;\r\n&lt;/form&gt;\r\n&lt;script&gt;\r\n    const stripe = Stripe($(&#39;#api-key&#39;).val());\r\n    const payment = stripe.elements({clientSecret:&#39;${client_secret}&#39;}).create(&#39;payment&#39;);\r\n    payment.mount(&#39;#card-element&#39;);\r\n\r\n    payment.addEventListener(&#39;change&#39;, function (event) {\r\n        $(&#39;#card-errors&#39;).text(event.error ? event.error.message : &#39;&#39;);\r\n    });\r\n\r\n    $(&#39;#payment-form&#39;).on(&#39;submit&#39;, async function (e) {\r\n        e.preventDefault();\r\n        const { paymentMethod, error } = await stripe.createPaymentMethod(\r\n            &#39;payment&#39;,\r\n            payment,\r\n            { billing_details: { email: &#39;${customer.email}&#39; } }\r\n        );\r\n        if (error) {\r\n            alert(error);\r\n        } else {\r\n            const token = paymentMethod.id;\r\n            const email = &#39;${customer.email}&#39;;\r\n            $.post(\r\n                &quot;/payment/create-charge&quot;,\r\n                {email: email, token: token},\r\n                function (data) {\r\n                    alert(data.details);\r\n                }, &#39;json&#39;);\r\n        }\r\n    });\r\n&lt;/script&gt;\r\n```\r\n\r\n```\r\n@PostMapping(&quot;/create-charge&quot;)\r\npublic @ResponseBody StripeResponse createCharge(String email, String token) {\r\n    if (token == null) {\r\n        return new StripeResponse(false, &quot;Stripe payment token is missing. please try again later.&quot;);\r\n    }\r\n    String chargeId = stripeService.createCharge(email, token, 999);// 9.99 usd\r\n    if (chargeId == null) {\r\n        return new StripeResponse(false, &quot;An error accurred while trying to charge.&quot;);\r\n    }\r\n    return new StripeResponse(true, &quot;Success your charge id is &quot; + chargeId);\r\n}\r\n```\r\n\r\n```\r\n@Override\r\npublic String createCharge(String email, String token, int amount) {\r\n    String chargeId = null;\r\n    try {\r\n        Stripe.apiKey = API_SECRET_KEY;\r\n        Map&lt;String, Object&gt; chargeParams = new HashMap&lt;&gt;();\r\n        chargeParams.put(&quot;description&quot;, &quot;Charge for &quot; + email);\r\n        chargeParams.put(&quot;currency&quot;, &quot;usd&quot;);\r\n        chargeParams.put(&quot;amount&quot;, amount);\r\n        chargeParams.put(&quot;source&quot;, token);\r\n        Charge charge = Charge.create(chargeParams);\r\n        chargeId = charge.getId();\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n    return chargeId;\r\n}\r\n```\r\n\r\n\r\nI was trying to get a token with this code, it was going into the catch block and returning &quot;{ }&quot; to the console\r\n```\r\nstripe.createToken(payment).then((result) =&gt; {\r\n    // The code does not go here\r\n}).catch((error) =&gt; {\r\n    console.error(error); // Displays &quot;{ }&quot; in console\r\n});\r\n```","title":"Make a payment via stripe in spring boot","body":"<p>I want to make a &quot;payment&quot; type form, because the &quot;card&quot; does not fit because it is in one line. I'm trying to get data from a form, create a token to make a payment. But I get the error &quot;You cannot create a charge with a PaymentMethod. Use the Payment Intents API instead.; request-id: req_9AYqRwPYg7MPdU&quot;. How can it be solved? Thank you.</p>\n<pre><code>&lt;form id=&quot;payment-form&quot; method=&quot;post&quot;&gt;\n   &lt;input id=&quot;api-key&quot; type=&quot;hidden&quot; value=&quot;${stripePublicKey}&quot;&gt;\n   &lt;div class=&quot;form-group mb-3&quot;&gt;\n       &lt;div class=&quot;w-100&quot; id=&quot;card-element&quot;&gt;\n           &lt;!-- A Stripe Element will be inserted here. --&gt;\n       &lt;/div&gt;\n   &lt;/div&gt;\n   &lt;button class=&quot;btn w-100 btn-success mt-4&quot; type=&quot;submit&quot; id=&quot;submitButton&quot;&gt;Pay $230&lt;/button&gt;\n&lt;/form&gt;\n&lt;script&gt;\n    const stripe = Stripe($('#api-key').val());\n    const payment = stripe.elements({clientSecret:'${client_secret}'}).create('payment');\n    payment.mount('#card-element');\n\n    payment.addEventListener('change', function (event) {\n        $('#card-errors').text(event.error ? event.error.message : '');\n    });\n\n    $('#payment-form').on('submit', async function (e) {\n        e.preventDefault();\n        const { paymentMethod, error } = await stripe.createPaymentMethod(\n            'payment',\n            payment,\n            { billing_details: { email: '${customer.email}' } }\n        );\n        if (error) {\n            alert(error);\n        } else {\n            const token = paymentMethod.id;\n            const email = '${customer.email}';\n            $.post(\n                &quot;/payment/create-charge&quot;,\n                {email: email, token: token},\n                function (data) {\n                    alert(data.details);\n                }, 'json');\n        }\n    });\n&lt;/script&gt;\n</code></pre>\n<pre><code>@PostMapping(&quot;/create-charge&quot;)\npublic @ResponseBody StripeResponse createCharge(String email, String token) {\n    if (token == null) {\n        return new StripeResponse(false, &quot;Stripe payment token is missing. please try again later.&quot;);\n    }\n    String chargeId = stripeService.createCharge(email, token, 999);// 9.99 usd\n    if (chargeId == null) {\n        return new StripeResponse(false, &quot;An error accurred while trying to charge.&quot;);\n    }\n    return new StripeResponse(true, &quot;Success your charge id is &quot; + chargeId);\n}\n</code></pre>\n<pre><code>@Override\npublic String createCharge(String email, String token, int amount) {\n    String chargeId = null;\n    try {\n        Stripe.apiKey = API_SECRET_KEY;\n        Map&lt;String, Object&gt; chargeParams = new HashMap&lt;&gt;();\n        chargeParams.put(&quot;description&quot;, &quot;Charge for &quot; + email);\n        chargeParams.put(&quot;currency&quot;, &quot;usd&quot;);\n        chargeParams.put(&quot;amount&quot;, amount);\n        chargeParams.put(&quot;source&quot;, token);\n        Charge charge = Charge.create(chargeParams);\n        chargeId = charge.getId();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return chargeId;\n}\n</code></pre>\n<p>I was trying to get a token with this code, it was going into the catch block and returning &quot;{ }&quot; to the console</p>\n<pre><code>stripe.createToken(payment).then((result) =&gt; {\n    // The code does not go here\n}).catch((error) =&gt; {\n    console.error(error); // Displays &quot;{ }&quot; in console\n});\n</code></pre>\n"},{"tags":["java","lambda","annotations","java-9"],"comments":[{"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"score":0,"creation_date":1501162026,"post_id":44646915,"comment_id":77665566,"body_markdown":"One important difference between these two constructs is that a anonymous class still is a declaration of a class. A lambda expression don&#39;t create a new class (or not necessarily, if it does that is an implementation detail). I have the impression that annotations are only ever allowed on *declarations*. Are annotations ever allowed on *expressions*?","body":"One important difference between these two constructs is that a anonymous class still is a declaration of a class. A lambda expression don&#39;t create a new class (or not necessarily, if it does that is an implementation detail). I have the impression that annotations are only ever allowed on <i>declarations</i>. Are annotations ever allowed on <i>expressions</i>?"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1497945801,"creation_date":1497945801,"answer_id":44647260,"question_id":44646915,"body_markdown":"According to the [What&#39;s new in Oracle JDK 9][1] page, No.  This has not changed in Java 9.\r\n\r\nOf course, that is not definitive, but the JLS for Java 9 has not been released yet.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/whatsnew/toc.htm","title":"Will it be possible to annotate lambda expression in Java 9?","body":"<p>According to the <a href=\"https://docs.oracle.com/javase/9/whatsnew/toc.htm\" rel=\"noreferrer\">What's new in Oracle JDK 9</a> page, No.  This has not changed in Java 9.</p>\n\n<p>Of course, that is not definitive, but the JLS for Java 9 has not been released yet.</p>\n"},{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1497984509,"creation_date":1497973422,"answer_id":44657553,"question_id":44646915,"body_markdown":"it&#39;s interesting that they do annotate the inner class that &quot;represents&quot; the lambda expression in `InnerClassLambdaMetafactory.spinInnerClass` via :\r\n\r\n\r\n\r\n     mv.visitAnnotation(&quot;Ljava/lang/invoke/LambdaForm$Hidden;&quot;, true)\r\n\r\nBut that is annotating a class obviously, not a lambda per-se. \r\n\r\nAnnotating a lambda would require changes to the `invokedynamic` and implicitly the `LambdaMetafactory` as far as I can see - and what would happen when invokedynamic would *not* create a class for the lambda, but *something else*, what would happen to those annotations?","title":"Will it be possible to annotate lambda expression in Java 9?","body":"<p>it's interesting that they do annotate the inner class that \"represents\" the lambda expression in <code>InnerClassLambdaMetafactory.spinInnerClass</code> via :</p>\n\n<pre><code> mv.visitAnnotation(\"Ljava/lang/invoke/LambdaForm$Hidden;\", true)\n</code></pre>\n\n<p>But that is annotating a class obviously, not a lambda per-se. </p>\n\n<p>Annotating a lambda would require changes to the <code>invokedynamic</code> and implicitly the <code>LambdaMetafactory</code> as far as I can see - and what would happen when invokedynamic would <em>not</em> create a class for the lambda, but <em>something else</em>, what would happen to those annotations?</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1672722275,"creation_date":1497983666,"answer_id":44660639,"question_id":44646915,"body_markdown":"The existence of a Stack Overflow question is not sufficient to indicate that such a feature is planned, not even that someone is ever *considering* it.\r\n\r\nIf you look at the [list of JEPs](http://openjdk.java.net/jeps/0), you will see that there is no such JEP, not even in a draft state, suggesting such a feature.\r\n\r\nAlso, if you look at the current state of Java&#160;9’s [`LambdaMetafactory`](http://download.java.net/java/jdk9/docs/api/?java/lang/invoke/LambdaMetafactory.html), you will see that no change has been made to support passing the meta information that would be necessary to generate a runtime class with recorded annotation data.\r\n\r\nThere seems to be some desire to add plenty of meta-information to what actually should be a small piece of throw-away code, but I doubt that the language designer will follow it. Lambda expressions are meant to define a function which encapsulates *behavior*, not an alternative way to describe an anonymous class. The long term evolution will rather lead to lambda expression implementations which are even less of an ordinary class.\r\n","title":"Will it be possible to annotate lambda expression in Java 9?","body":"<p>The existence of a Stack Overflow question is not sufficient to indicate that such a feature is planned, not even that someone is ever <em>considering</em> it.</p>\n<p>If you look at the <a href=\"http://openjdk.java.net/jeps/0\" rel=\"nofollow noreferrer\">list of JEPs</a>, you will see that there is no such JEP, not even in a draft state, suggesting such a feature.</p>\n<p>Also, if you look at the current state of Java 9’s <a href=\"http://download.java.net/java/jdk9/docs/api/?java/lang/invoke/LambdaMetafactory.html\" rel=\"nofollow noreferrer\"><code>LambdaMetafactory</code></a>, you will see that no change has been made to support passing the meta information that would be necessary to generate a runtime class with recorded annotation data.</p>\n<p>There seems to be some desire to add plenty of meta-information to what actually should be a small piece of throw-away code, but I doubt that the language designer will follow it. Lambda expressions are meant to define a function which encapsulates <em>behavior</em>, not an alternative way to describe an anonymous class. The long term evolution will rather lead to lambda expression implementations which are even less of an ordinary class.</p>\n"}],"owner":{"account_id":3514618,"reputation":12090,"user_id":2938364,"accept_rate":88,"display_name":"Markus Weninger"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2959,"favorite_count":0,"down_vote_count":1,"up_vote_count":22,"accepted_answer_id":44660639,"answer_count":3,"score":21,"last_activity_date":1672722275,"creation_date":1497944799,"question_id":44646915,"body_markdown":"[This question](https://stackoverflow.com/questions/22375891/annotating-the-functional-interface-of-a-lambda-expression) is now over 3 years old and specifically addressed Java 8, with the accepted answer also citing the [Java SE 8 Final Specification](http://download.oracle.com/otndocs/jcp/java_se-8-fr-eval-spec/index.html).\r\n\r\nI would be interested if something regarding this question will change in Java 9: Is there any way to annotate a lambda expression similar to annotating a corresponding anonymous class?\r\n\r\n---\r\n\r\n**Example:**\r\n\r\nAnnotation:\r\n\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target(ElementType.TYPE_USE)\r\n    public @interface MyTypeAnnotation {\r\n        public String value();\r\n    }\r\n\r\nWorking annotation of anonymous class:\r\n\r\n    Consumer&lt;String&gt; consumer = new @MyTypeAnnotation(&quot;Hello &quot;) Consumer&lt;String&gt;() {\r\n        @Override\r\n        public void accept(String str) {\r\n            System.out.println(str);\r\n        }\r\n    };\r\n\r\nAnnotating a lamba expression, currently not working in Java 8:\r\n\r\n    Consumer&lt;String&gt; myAnnotatedConsumer = @MyTypeAnnotation(&quot;Hello&quot;) (p -&gt; System.out.println(p));","title":"Will it be possible to annotate lambda expression in Java 9?","body":"<p><a href=\"https://stackoverflow.com/questions/22375891/annotating-the-functional-interface-of-a-lambda-expression\">This question</a> is now over 3 years old and specifically addressed Java 8, with the accepted answer also citing the <a href=\"http://download.oracle.com/otndocs/jcp/java_se-8-fr-eval-spec/index.html\" rel=\"noreferrer\">Java SE 8 Final Specification</a>.</p>\n\n<p>I would be interested if something regarding this question will change in Java 9: Is there any way to annotate a lambda expression similar to annotating a corresponding anonymous class?</p>\n\n<hr>\n\n<p><strong>Example:</strong></p>\n\n<p>Annotation:</p>\n\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.TYPE_USE)\npublic @interface MyTypeAnnotation {\n    public String value();\n}\n</code></pre>\n\n<p>Working annotation of anonymous class:</p>\n\n<pre><code>Consumer&lt;String&gt; consumer = new @MyTypeAnnotation(\"Hello \") Consumer&lt;String&gt;() {\n    @Override\n    public void accept(String str) {\n        System.out.println(str);\n    }\n};\n</code></pre>\n\n<p>Annotating a lamba expression, currently not working in Java 8:</p>\n\n<pre><code>Consumer&lt;String&gt; myAnnotatedConsumer = @MyTypeAnnotation(\"Hello\") (p -&gt; System.out.println(p));\n</code></pre>\n"},{"tags":["java","open-telemetry"],"comments":[{"owner":{"account_id":4077251,"reputation":26290,"user_id":3348604,"display_name":"Jan Garaj"},"score":0,"creation_date":1672736788,"post_id":74989183,"comment_id":132336789,"body_markdown":"Pls provide reproducible example (e.g. used otel collector config, ...).","body":"Pls provide reproducible example (e.g. used otel collector config, ...)."},{"owner":{"account_id":14245148,"reputation":949,"user_id":10582056,"display_name":"ahrooran"},"score":0,"creation_date":1672737639,"post_id":74989183,"comment_id":132337037,"body_markdown":"@JanGaraj the code used is already in that medium article. I have not changed anything and hence for brevity did not add the codes. Please check that article for otel collector config.","body":"@JanGaraj the code used is already in that medium article. I have not changed anything and hence for brevity did not add the codes. Please check that article for otel collector config."},{"owner":{"account_id":14245148,"reputation":949,"user_id":10582056,"display_name":"ahrooran"},"score":0,"creation_date":1672738154,"post_id":74989183,"comment_id":132337197,"body_markdown":"Please refer to this where I have added my partially working configuration: https://stackoverflow.com/questions/74991374/promethrus-is-not-reading-otel-data","body":"Please refer to this where I have added my partially working configuration: <a href=\"https://stackoverflow.com/questions/74991374/promethrus-is-not-reading-otel-data\" title=\"promethrus is not reading otel data\">stackoverflow.com/questions/74991374/&hellip;</a>"}],"owner":{"account_id":14245148,"reputation":949,"user_id":10582056,"display_name":"ahrooran"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1672738464,"answer_count":0,"score":0,"last_activity_date":1672721994,"creation_date":1672721994,"question_id":74989183,"body_markdown":"I have followed all the steps mentioned in this medium article: https://medium.com/@guilospanck/telemetry-with-opentelemetry-prometheus-and-jaeger-46a2d9dec86b\r\n\r\nMy application is supposed to send trace data to collector and collector is supposed to send them to jaeger and prometheus.\r\n[![enter image description here][1]][1]\r\n\r\nHowever I am unable to send any traces to the collector. My tracer.properties file has following config:\r\n\r\n    # debugging\r\n    #otel.javaagent.debug=true\r\n    \r\n    #prod\r\n    otel.traces.exporter=otlp,logging\r\n    otel.metrics.exporter=otlp,logging\r\n    otel.logs.exporter=none\r\n    otel.service.name=service1\r\n    #otel.exporter.jaeger.endpoint=http://localhost:14278\r\n    #otel.exporter.jaeger.timeout=10000\r\n    #otel.propagators=jaeger\r\n    otel.exporter.otlp.traces.endpoint=http://localhost:14278\r\n    otel.exporter.otlp.metrics.endpoint=http://localhost:14278\r\n    otel.exporter.otlp.traces.protocol=grpc\r\n    otel.exporter.otlp.metrics.protocol=grpc\r\n\r\nWhenever I try to send data I get following error:\r\n\r\n    [otel.javaagent 2023-01-03 10:27:00:271 +0530] [http-nio-8081-exec-2] INFO io.opentelemetry.exporter.logging.LoggingSpanExporter - &#39;/&#39; : ee593fc59976ce74468789cae3dc67d9 6b6a159470d9545b SERVER [tracer: io.opentelemetry.tomcat-10.0:1.20.2-alpha] AttributesMap{data={net.sock.host.addr=127.0.0.1, http.user_agent=Java/17.0.5, http.route=/, http.method=GET, http.scheme=http, net.host.name=localhost, net.transport=ip_tcp, http.status_code=200, net.host.port=8081, http.target=/, net.sock.peer.addr=127.0.0.1, http.flavor=1.1, http.response_content_length=134, thread.name=http-nio-8081-exec-2, thread.id=26, net.sock.peer.port=61816}, capacity=128, totalAddedValues=16}\r\n    [otel.javaagent 2023-01-03 10:27:04:689 +0530] [OkHttp http://localhost:14278/...] ERROR io.opentelemetry.exporter.internal.grpc.OkHttpGrpcExporter - Failed to export spans. The request could not be executed. Full error message: FRAME_SIZE_ERROR: 4740180\r\n\r\nIn the medium article author tries to connect a go application but here I try to connect a java application. Other than that there is no change in both of our setup.\r\n\r\nI am able to connect directly with jaeger-all-in-one and get trace data (check commented out config in tracer.properties). Issue is connecting via collector\r\n\r\n  [1]: https://i.stack.imgur.com/dhQnw.png","title":"Connecting otel agent with otel collector","body":"<p>I have followed all the steps mentioned in this medium article: <a href=\"https://medium.com/@guilospanck/telemetry-with-opentelemetry-prometheus-and-jaeger-46a2d9dec86b\" rel=\"nofollow noreferrer\">https://medium.com/@guilospanck/telemetry-with-opentelemetry-prometheus-and-jaeger-46a2d9dec86b</a></p>\n<p>My application is supposed to send trace data to collector and collector is supposed to send them to jaeger and prometheus.\n<a href=\"https://i.stack.imgur.com/dhQnw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dhQnw.png\" alt=\"enter image description here\" /></a></p>\n<p>However I am unable to send any traces to the collector. My tracer.properties file has following config:</p>\n<pre><code># debugging\n#otel.javaagent.debug=true\n\n#prod\notel.traces.exporter=otlp,logging\notel.metrics.exporter=otlp,logging\notel.logs.exporter=none\notel.service.name=service1\n#otel.exporter.jaeger.endpoint=http://localhost:14278\n#otel.exporter.jaeger.timeout=10000\n#otel.propagators=jaeger\notel.exporter.otlp.traces.endpoint=http://localhost:14278\notel.exporter.otlp.metrics.endpoint=http://localhost:14278\notel.exporter.otlp.traces.protocol=grpc\notel.exporter.otlp.metrics.protocol=grpc\n</code></pre>\n<p>Whenever I try to send data I get following error:</p>\n<pre><code>[otel.javaagent 2023-01-03 10:27:00:271 +0530] [http-nio-8081-exec-2] INFO io.opentelemetry.exporter.logging.LoggingSpanExporter - '/' : ee593fc59976ce74468789cae3dc67d9 6b6a159470d9545b SERVER [tracer: io.opentelemetry.tomcat-10.0:1.20.2-alpha] AttributesMap{data={net.sock.host.addr=127.0.0.1, http.user_agent=Java/17.0.5, http.route=/, http.method=GET, http.scheme=http, net.host.name=localhost, net.transport=ip_tcp, http.status_code=200, net.host.port=8081, http.target=/, net.sock.peer.addr=127.0.0.1, http.flavor=1.1, http.response_content_length=134, thread.name=http-nio-8081-exec-2, thread.id=26, net.sock.peer.port=61816}, capacity=128, totalAddedValues=16}\n[otel.javaagent 2023-01-03 10:27:04:689 +0530] [OkHttp http://localhost:14278/...] ERROR io.opentelemetry.exporter.internal.grpc.OkHttpGrpcExporter - Failed to export spans. The request could not be executed. Full error message: FRAME_SIZE_ERROR: 4740180\n</code></pre>\n<p>In the medium article author tries to connect a go application but here I try to connect a java application. Other than that there is no change in both of our setup.</p>\n<p>I am able to connect directly with jaeger-all-in-one and get trace data (check commented out config in tracer.properties). Issue is connecting via collector</p>\n"},{"tags":["java","android","android-studio","admob","interstitial"],"comments":[{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1669791949,"post_id":74623868,"comment_id":131720769,"body_markdown":"1. Dismiss the dialog in `onAdLoaded`. 2. You are not using `mInterstitialAd.show(activity)` on the loaded Interstitial. 3. There is no `startActivity` but a `finish` in `onAdDismissedFullScreenContent` which will finish the current activity.","body":"1. Dismiss the dialog in <code>onAdLoaded</code>. 2. You are not using <code>mInterstitialAd.show(activity)</code> on the loaded Interstitial. 3. There is no <code>startActivity</code> but a <code>finish</code> in <code>onAdDismissedFullScreenContent</code> which will finish the current activity."},{"owner":{"account_id":27094829,"reputation":1,"user_id":20642163,"display_name":"user20642163"},"score":0,"creation_date":1669795365,"post_id":74623868,"comment_id":131721687,"body_markdown":"I have implemented all the above but now the app crashes immediately i click the button.","body":"I have implemented all the above but now the app crashes immediately i click the button."},{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1669800148,"post_id":74623868,"comment_id":131723151,"body_markdown":"Can you trying using `mInterstitialAd.show(StartActivity.this);` after you&#39;ve set the `setFullScreenContentCallback`? And also post the crash stacktrace.","body":"Can you trying using <code>mInterstitialAd.show(StartActivity.this);</code> after you&#39;ve set the <code>setFullScreenContentCallback</code>? And also post the crash stacktrace."}],"answers":[{"tags":[],"owner":{"account_id":25931969,"reputation":398,"user_id":19652887,"display_name":"M Ashhal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669792167,"creation_date":1669792167,"answer_id":74624003,"question_id":74623868,"body_markdown":"You are not dismissing your progress dialog upon `onAdDismissedFullScreenContent`\r\n\r\n```java\r\n@Override\r\n  public void onAdDismissedFullScreenContent() {\r\n  // Called when ad is dismissed.\r\n  // Set the ad reference to null so you don&#39;t show the ad a second time.\r\n  pd.dismiss()\r\n  mInterstitialAd = null;\r\n  StartActivity.this.finish();\r\n}\r\n```\r\n\r\n**Always remember to handle dialog states, or it can cause window leaks.**","title":"Activity is stuck on process dialog and wont go to the next page","body":"<p>You are not dismissing your progress dialog upon <code>onAdDismissedFullScreenContent</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\n  public void onAdDismissedFullScreenContent() {\n  // Called when ad is dismissed.\n  // Set the ad reference to null so you don't show the ad a second time.\n  pd.dismiss()\n  mInterstitialAd = null;\n  StartActivity.this.finish();\n}\n</code></pre>\n<p><strong>Always remember to handle dialog states, or it can cause window leaks.</strong></p>\n"},{"tags":[],"owner":{"account_id":13909160,"reputation":76,"user_id":10042809,"display_name":"Fahad Bin Asif"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669799377,"creation_date":1669795577,"answer_id":74624572,"question_id":74623868,"body_markdown":"Start Activity before `finish()` is called &lt;br/&gt;\r\n\r\n    @Override                               \r\n        public void onAdDismissedFullScreenContent() {\r\n            // Called when ad is dismissed.\r\n            // Set the ad reference to null so you don&#39;t show the ad a second time.\r\n            pd.dismiss()\r\n            mInterstitialAd = null;\r\n            startActivity(new Intent(StartActivity.this, NextActivity.class));\r\n            StartActivity.this.finish();\r\n            \r\n    \r\n    } \r\n\r\n   ","title":"Activity is stuck on process dialog and wont go to the next page","body":"<p>Start Activity before <code>finish()</code> is called <br/></p>\n<pre><code>@Override                               \n    public void onAdDismissedFullScreenContent() {\n        // Called when ad is dismissed.\n        // Set the ad reference to null so you don't show the ad a second time.\n        pd.dismiss()\n        mInterstitialAd = null;\n        startActivity(new Intent(StartActivity.this, NextActivity.class));\n        StartActivity.this.finish();\n        \n\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":13736277,"reputation":404,"user_id":9912464,"display_name":"Gouranga Das"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672721622,"creation_date":1672721622,"answer_id":74989155,"question_id":74623868,"body_markdown":"You should dismiss the dialog if the interstitial fails to load or show.\r\n\r\n````\r\n\r\nprivate void openNextPage(ProgressDialog pd){\r\n    pd.dismiss();\r\n    mInterstitialAd = null;\r\n    startActivity(new Intent(StartActivity.this, MainActivity.class));\r\n    StartActivity.this.finish();\r\n}\r\n````\r\n\r\n````\r\n        AdRequest adRequest = new AdRequest.Builder().build();\r\n\r\n        InterstitialAd.load(StartActivity.this,\r\n                StartActivity.this.getString(R.string.main_inter),\r\n                adRequest, new InterstitialAdLoadCallback() {\r\n                    @Override\r\n                    public void onAdLoaded(@NonNull InterstitialAd interstitialAd) {\r\n                        // The mInterstitialAd reference will be null until\r\n                        // an ad is loaded.\r\n                        // Don&#39;t dismiss dialog here as we are going to show interstitials now\r\n\r\n                        mInterstitialAd = interstitialAd;\r\n                        mInterstitialAd.setFullScreenContentCallback(new FullScreenContentCallback() {\r\n                            @Override\r\n                            public void onAdClicked() {\r\n                                // Called when a click is recorded for an ad.\r\n                            }\r\n\r\n                            @Override\r\n                            public void onAdDismissedFullScreenContent() {\r\n                                // Called when ad is dismissed.\r\n                                openNextPage(pd);\r\n                            }\r\n\r\n                            @Override\r\n                            public void onAdFailedToShowFullScreenContent(AdError adError) {\r\n                                // Called when ad fails to show.\r\n                                openNextPage(pd);\r\n                            }\r\n\r\n                            @Override\r\n                            public void onAdImpression() {\r\n                                // Called when an impression is recorded for an ad.\r\n                            }\r\n\r\n                            @Override\r\n                            public void onAdShowedFullScreenContent() {\r\n                                // Called when ad is shown.\r\n                            }\r\n                        });\r\n\r\n                        mInterstitialAd.show(StartActivity.this);\r\n                    }\r\n\r\n                    @Override\r\n                    public void onAdFailedToLoad(@NonNull LoadAdError loadAdError) {\r\n                        // Handle the error\r\n                        openNextPage(pd);\r\n                    }\r\n                });\r\n````","title":"Activity is stuck on process dialog and wont go to the next page","body":"<p>You should dismiss the dialog if the interstitial fails to load or show.</p>\n<pre><code>\nprivate void openNextPage(ProgressDialog pd){\n    pd.dismiss();\n    mInterstitialAd = null;\n    startActivity(new Intent(StartActivity.this, MainActivity.class));\n    StartActivity.this.finish();\n}\n</code></pre>\n<pre><code>        AdRequest adRequest = new AdRequest.Builder().build();\n\n        InterstitialAd.load(StartActivity.this,\n                StartActivity.this.getString(R.string.main_inter),\n                adRequest, new InterstitialAdLoadCallback() {\n                    @Override\n                    public void onAdLoaded(@NonNull InterstitialAd interstitialAd) {\n                        // The mInterstitialAd reference will be null until\n                        // an ad is loaded.\n                        // Don't dismiss dialog here as we are going to show interstitials now\n\n                        mInterstitialAd = interstitialAd;\n                        mInterstitialAd.setFullScreenContentCallback(new FullScreenContentCallback() {\n                            @Override\n                            public void onAdClicked() {\n                                // Called when a click is recorded for an ad.\n                            }\n\n                            @Override\n                            public void onAdDismissedFullScreenContent() {\n                                // Called when ad is dismissed.\n                                openNextPage(pd);\n                            }\n\n                            @Override\n                            public void onAdFailedToShowFullScreenContent(AdError adError) {\n                                // Called when ad fails to show.\n                                openNextPage(pd);\n                            }\n\n                            @Override\n                            public void onAdImpression() {\n                                // Called when an impression is recorded for an ad.\n                            }\n\n                            @Override\n                            public void onAdShowedFullScreenContent() {\n                                // Called when ad is shown.\n                            }\n                        });\n\n                        mInterstitialAd.show(StartActivity.this);\n                    }\n\n                    @Override\n                    public void onAdFailedToLoad(@NonNull LoadAdError loadAdError) {\n                        // Handle the error\n                        openNextPage(pd);\n                    }\n                });\n</code></pre>\n"}],"owner":{"account_id":27094829,"reputation":1,"user_id":20642163,"display_name":"user20642163"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1672721622,"creation_date":1669791281,"question_id":74623868,"body_markdown":"So i recently updated my code with the latest admob SDK and dependencies.\r\nit is supposed to show an interstitial ad before going to the next page.\r\nupon running it the StartActivity is stuck on process dialog and wont go to the next page.\r\nhere is the code\r\n\r\n\r\n```\r\n\r\n                //Start Here\r\n                AdRequest adRequest = new AdRequest.Builder().build();\r\n\r\n                InterstitialAd.load(StartActivity.this,StartActivity.this.getString(R.string.main_inter), adRequest,\r\n                        new InterstitialAdLoadCallback() {\r\n                            @Override\r\n                            public void onAdLoaded(@NonNull InterstitialAd interstitialAd) {\r\n                                // The mInterstitialAd reference will be null until\r\n                                // an ad is loaded.\r\n                                pd.dismiss();\r\n\r\n                                mInterstitialAd = interstitialAd;\r\n                                mInterstitialAd.show(StartActivity.this);\r\n                                mInterstitialAd.setFullScreenContentCallback(new FullScreenContentCallback(){\r\n                                    @Override\r\n                                    public void onAdClicked() {\r\n                                        // Called when a click is recorded for an ad.\r\n                                    }\r\n\r\n                                    @Override\r\n                                    public void onAdDismissedFullScreenContent() {\r\n                                        // Called when ad is dismissed.\r\n                                        // Set the ad reference to null so you don&#39;t show the ad a second time.\r\n\r\n                                        pd.dismiss();\r\n                                        mInterstitialAd = null;\r\n                                        startActivity(new Intent(StartActivity.this, MainActivity.class));\r\n                                        StartActivity.this.finish();\r\n                                    }\r\n\r\n                                    @Override\r\n                                    public void onAdFailedToShowFullScreenContent(AdError adError) {\r\n                                        // Called when ad fails to show.\r\n                                        mInterstitialAd = null;\r\n                                    }\r\n\r\n                                    @Override\r\n                                    public void onAdImpression() {\r\n                                        // Called when an impression is recorded for an ad.\r\n                                    }\r\n\r\n                                    @Override\r\n                                    public void onAdShowedFullScreenContent() {\r\n                                        // Called when ad is shown.\r\n                                    }\r\n                                });\r\n                            }\r\n\r\n                            @Override\r\n                            public void onAdFailedToLoad(@NonNull LoadAdError loadAdError) {\r\n                                // Handle the error\r\n                                mInterstitialAd = null;\r\n                            }\r\n                        });\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n}\r\n\r\n","title":"Activity is stuck on process dialog and wont go to the next page","body":"<p>So i recently updated my code with the latest admob SDK and dependencies.\nit is supposed to show an interstitial ad before going to the next page.\nupon running it the StartActivity is stuck on process dialog and wont go to the next page.\nhere is the code</p>\n<pre><code>\n                //Start Here\n                AdRequest adRequest = new AdRequest.Builder().build();\n\n                InterstitialAd.load(StartActivity.this,StartActivity.this.getString(R.string.main_inter), adRequest,\n                        new InterstitialAdLoadCallback() {\n                            @Override\n                            public void onAdLoaded(@NonNull InterstitialAd interstitialAd) {\n                                // The mInterstitialAd reference will be null until\n                                // an ad is loaded.\n                                pd.dismiss();\n\n                                mInterstitialAd = interstitialAd;\n                                mInterstitialAd.show(StartActivity.this);\n                                mInterstitialAd.setFullScreenContentCallback(new FullScreenContentCallback(){\n                                    @Override\n                                    public void onAdClicked() {\n                                        // Called when a click is recorded for an ad.\n                                    }\n\n                                    @Override\n                                    public void onAdDismissedFullScreenContent() {\n                                        // Called when ad is dismissed.\n                                        // Set the ad reference to null so you don't show the ad a second time.\n\n                                        pd.dismiss();\n                                        mInterstitialAd = null;\n                                        startActivity(new Intent(StartActivity.this, MainActivity.class));\n                                        StartActivity.this.finish();\n                                    }\n\n                                    @Override\n                                    public void onAdFailedToShowFullScreenContent(AdError adError) {\n                                        // Called when ad fails to show.\n                                        mInterstitialAd = null;\n                                    }\n\n                                    @Override\n                                    public void onAdImpression() {\n                                        // Called when an impression is recorded for an ad.\n                                    }\n\n                                    @Override\n                                    public void onAdShowedFullScreenContent() {\n                                        // Called when ad is shown.\n                                    }\n                                });\n                            }\n\n                            @Override\n                            public void onAdFailedToLoad(@NonNull LoadAdError loadAdError) {\n                                // Handle the error\n                                mInterstitialAd = null;\n                            }\n                        });\n            }\n        });\n\n\n    }\n}\n\n</code></pre>\n"},{"tags":["java","spring-boot","itext7"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1672738890,"post_id":74989120,"comment_id":132337439,"body_markdown":"*...but the output that I am getting is &quot;Please refer the below image&quot;* I doubt that. For one thing, it&#39;s not proper English, so is unlikely to appear from a major API like iText","body":"<i>...but the output that I am getting is &quot;Please refer the below image&quot;</i> I doubt that. For one thing, it&#39;s not proper English, so is unlikely to appear from a major API like iText"},{"owner":{"account_id":345916,"reputation":461,"user_id":679116,"display_name":"S_G"},"score":0,"creation_date":1672914286,"post_id":74989120,"comment_id":132381977,"body_markdown":"Indian language rendering are not supported in iText 5 version. If you want to render any Indian language, then iText 7 has a module called pdfCalligraph which is the closed source product. Refer this link https://itextpdf.com/products/itext-7/pdfcalligraph","body":"Indian language rendering are not supported in iText 5 version. If you want to render any Indian language, then iText 7 has a module called pdfCalligraph which is the closed source product. Refer this link <a href=\"https://itextpdf.com/products/itext-7/pdfcalligraph\" rel=\"nofollow noreferrer\">itextpdf.com/products/itext-7/pdfcalligraph</a>"}],"owner":{"account_id":23042361,"reputation":23,"user_id":17160365,"display_name":"lakshman Kommula"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":274,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1672721359,"creation_date":1672721219,"question_id":74989120,"body_markdown":"I am creating a small Bilingual application in Telugu and English languages using Java and Spring Boot. Here, I have to generate Pdf both Telugu and English Languages. So, I am Generating a pdf Using itext Library. This pdf has both Telugu and English Languages. but, The problem is English is appearing Properly in the PDF but Telugu Language is not displaying properly\r\n\r\nI&#39;ve tried with multiple **.ttf telugu fonts**. but the telugu text is not displaying properly.\r\n\r\nexample: the Telugu text that I want to show is **వ్యవసాయ శాఖ**\r\nbut the output that I am getting is &quot;Please refer the below image&quot;\r\n\r\n[![output in pdf][1]][1]\r\n\r\nSo, anyone Please guide me to solve this issue. Thank You.\r\n\r\nBelow I am Attching the Code Please, check.\r\n\r\n1.Code\r\n\r\n```java\r\npublic class samplepdf {\r\n\t\r\n\tpublic void export(HttpServletRequest request, HttpServletResponse response)\r\n\t\t\t\t\tthrows DocumentException, ParseException, java.io.IOException, SAXException, ParserConfigurationException\r\n\t{\r\n\t\t\r\n\t\tByteArrayOutputStream baos = null;\r\n\t\tbaos = new ByteArrayOutputStream();\r\n\r\n\t\t//Create Document\r\n\t\tDocument doc  = new Document();\r\n\t\t\r\n\t\t//Pass 2 things ---&gt; What to render &amp; where to render\r\n\t\tPdfWriter instance2 = PdfWriter.getInstance(doc, response.getOutputStream());\r\n\r\n\r\n\t\tParagraph bottom = new Paragraph();\r\n\t\tbottom.add(Chunk.NEWLINE);\r\n\t\tbottom.setAlignment(Element.ALIGN_BOTTOM);\r\n\t\tbottom.setAlignment(Element.ALIGN_CENTER);\r\n\r\n\t\t//Open the document to start the work\r\n\t\tdoc.open();\r\n\t\t \r\n\t\t  Paragraph  paragraph2 = new Paragraph();\r\n\t\t  //String fontpath = request.getServletContext().getRealPath(&quot;/static/TeluguFonts/NotoSansTelugu-Light.ttf&quot;);\r\n\t\t  //String fontpath = request.getServletContext().getRealPath(&quot;/static/TeluguFonts/Chathura Light.ttf&quot;);\r\n\t\t  //String fontpath = request.getServletContext().getRealPath(&quot;/static/TeluguFonts/Gidugu.ttf&quot;);\r\n\t\t  //String fontpath = request.getServletContext().getRealPath(&quot;/static/TeluguFonts/akshar.ttf&quot;);\r\n\t\t  //String fontpath = request.getServletContext().getRealPath(&quot;/static/TeluguFonts/gautami.ttf&quot;);\r\n\t\t  //String fontpath = request.getServletContext().getRealPath(&quot;/static/TeluguFonts/Chathura Light.ttf&quot;);\r\n\t\t  String fontpath = request.getServletContext().getRealPath(&quot;/static/TeluguFonts/NotoSansTelugu-VariableFont.ttf&quot;);\r\n\t\t  BaseFont bf_cjk1 = BaseFont.createFont(fontpath, BaseFont.IDENTITY_H, BaseFont.EMBEDDED);\r\n\t\t  Font cjk1 = new Font(bf_cjk1, 12,Font.NORMAL);\r\n\t\t  paragraph2.setFont(cjk1);\r\n\t\t  paragraph2.add(Chunk.NEWLINE);\r\n\t\t  paragraph2.add(&quot;వ్యవసాయ శాఖ&quot;);\r\n\t\t  paragraph2.add(Chunk.NEWLINE);\r\n\t\t  paragraph2.add(Chunk.NEWLINE);\r\n\t\t  doc.add(paragraph2);\r\n\t\t  \r\n\t\t//Here, Closing the document.\r\n\t\t\tdoc.close();\r\n\t\t\ttry {\r\n\t\t\t\tServletOutputStream os = response.getOutputStream();\r\n\t\t\t\tos.flush();\r\n\t\t\t\tos.close();\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/gtptd.png","title":"Telugu Text is not displaying properly in itext generated pdf","body":"<p>I am creating a small Bilingual application in Telugu and English languages using Java and Spring Boot. Here, I have to generate Pdf both Telugu and English Languages. So, I am Generating a pdf Using itext Library. This pdf has both Telugu and English Languages. but, The problem is English is appearing Properly in the PDF but Telugu Language is not displaying properly</p>\n<p>I've tried with multiple <strong>.ttf telugu fonts</strong>. but the telugu text is not displaying properly.</p>\n<p>example: the Telugu text that I want to show is <strong>వ్యవసాయ శాఖ</strong>\nbut the output that I am getting is &quot;Please refer the below image&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/gtptd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gtptd.png\" alt=\"output in pdf\" /></a></p>\n<p>So, anyone Please guide me to solve this issue. Thank You.</p>\n<p>Below I am Attching the Code Please, check.</p>\n<p>1.Code</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class samplepdf {\n    \n    public void export(HttpServletRequest request, HttpServletResponse response)\n                    throws DocumentException, ParseException, java.io.IOException, SAXException, ParserConfigurationException\n    {\n        \n        ByteArrayOutputStream baos = null;\n        baos = new ByteArrayOutputStream();\n\n        //Create Document\n        Document doc  = new Document();\n        \n        //Pass 2 things ---&gt; What to render &amp; where to render\n        PdfWriter instance2 = PdfWriter.getInstance(doc, response.getOutputStream());\n\n\n        Paragraph bottom = new Paragraph();\n        bottom.add(Chunk.NEWLINE);\n        bottom.setAlignment(Element.ALIGN_BOTTOM);\n        bottom.setAlignment(Element.ALIGN_CENTER);\n\n        //Open the document to start the work\n        doc.open();\n         \n          Paragraph  paragraph2 = new Paragraph();\n          //String fontpath = request.getServletContext().getRealPath(&quot;/static/TeluguFonts/NotoSansTelugu-Light.ttf&quot;);\n          //String fontpath = request.getServletContext().getRealPath(&quot;/static/TeluguFonts/Chathura Light.ttf&quot;);\n          //String fontpath = request.getServletContext().getRealPath(&quot;/static/TeluguFonts/Gidugu.ttf&quot;);\n          //String fontpath = request.getServletContext().getRealPath(&quot;/static/TeluguFonts/akshar.ttf&quot;);\n          //String fontpath = request.getServletContext().getRealPath(&quot;/static/TeluguFonts/gautami.ttf&quot;);\n          //String fontpath = request.getServletContext().getRealPath(&quot;/static/TeluguFonts/Chathura Light.ttf&quot;);\n          String fontpath = request.getServletContext().getRealPath(&quot;/static/TeluguFonts/NotoSansTelugu-VariableFont.ttf&quot;);\n          BaseFont bf_cjk1 = BaseFont.createFont(fontpath, BaseFont.IDENTITY_H, BaseFont.EMBEDDED);\n          Font cjk1 = new Font(bf_cjk1, 12,Font.NORMAL);\n          paragraph2.setFont(cjk1);\n          paragraph2.add(Chunk.NEWLINE);\n          paragraph2.add(&quot;వ్యవసాయ శాఖ&quot;);\n          paragraph2.add(Chunk.NEWLINE);\n          paragraph2.add(Chunk.NEWLINE);\n          doc.add(paragraph2);\n          \n        //Here, Closing the document.\n            doc.close();\n            try {\n                ServletOutputStream os = response.getOutputStream();\n                os.flush();\n                os.close();\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","public-key-encryption","session-keys"],"owner":{"account_id":18613909,"reputation":53,"user_id":13565633,"display_name":"Shiv Shrivas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672721072,"creation_date":1672721072,"question_id":74989110,"body_markdown":"I got this description for SKey block in documentation for generating XML request \r\n\r\n&gt; Element: Skey (mandatory): **Value of this element is base-64 encoded\r\n&gt; value of encrypted 256-bit AES session key. Session key must be\r\n&gt; dynamically generated for every transaction (session key must not be\r\n&gt; reused) and must not be stored anywhere except in memory. See next\r\n&gt; chapter for encryption details**.\r\n&gt; \r\n&gt; Attributes: ci – **(mandatory) Public key certificate identifier using\r\n&gt; which “skey” was encrypted. UIDAI may have multiple public keys in\r\n&gt; field at the same time. Value of this attribute is the certificate\r\n&gt; expiration date in the format “YYYYMMDD”. Expiry date of the\r\n&gt; certificate can be obtained from the certificate itself**\r\n\r\n\r\n\r\nAnd I want something like this:-\r\n\r\n            A00&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;Auth xmlns=&quot;http://www.uidai.gov.in/authentication/uid-auth-request/2.0&quot; ac=&quot;public&quot; lk=&quot;Mssshhhhhhhhhhhhhhhhhhhhhhhhsssssssssssfff&quot; rc=&quot;Y&quot; sa=&quot;public&quot; tid=&quot;&quot; txn=&quot;AuthDemoClient:PUBLIC:20180601103742966&quot; uid=&quot;1111111111111111&quot; ver=&quot;2.5&quot;&gt;&lt;Uses bio=&quot;n&quot; otp=&quot;n&quot; pa=&quot;n&quot; pfa=&quot;n&quot; pi=&quot;y&quot; pin=&quot;n&quot;/&gt;&lt;Meta dc=&quot;&quot; dpId=&quot;&quot; mc=&quot;&quot; mi=&quot;&quot; rdsId=&quot;&quot; rdsVer=&quot;&quot;/&gt;\r\n    \r\n        &lt;Skey ci=&quot;20201030&quot;&gt;lrsFAH8bGjpEetiMEb7AFQBBOZeP0I6L21nY7weKKYE0/SakC7E6jlQXjNtSCH8IISIb3EorbdwsCWFGq9z/TILQs0JmB15fKAopTZx6/mNkGjuTLk1t6tjTValJxXmWq8/F8IHcjuM70yWwwMmuwJRuxZPOkoFFjSBUqFVkSVKtBYQobTUEWL7i/PEyMIQyDRfQy/SMTdYDqFQStnBQofvBcj0UbUT2I9g0+2VEwwFKuiZZ8KEuYvy+SE9YvnOncARtqxp1jveeyPkpuA2QymiDnpfcV/mjBnqCHdeVBHM1tB3YIUCtO9rNHqfUP13iI0eWRwQeYrsKctRDmLkB0g==&lt;/Skey&gt;\r\n    \r\n        &lt;Data type=&quot;X&quot;&gt;MjAxOC0wNi0wMVQxMDozNzo0MRq5ZwZTA2ddEuSXZNj5oofGkQ01abbLy0+3SGV6CbrRFSRb8Ve/6a+IOxAE5Zswij3GYebGAw4XeXAOI88Vxd2zxO//ZFq6loq5o0TbSIRg/oBJ7hpa5J2P20nGeMKsaygSvmsY9M3DFTAcjy3Dkq5RalwW+zELM58l9VgyQXhTVO0fqzgH2XNrYPsBfSpfI1Uwx4t1OCjhdyJJWnDG8c3JADzbA4smISjw//K38qUumUjIaRClwnx61xdj0992hwTN7fNK5iDkN78g8NppKQz+mY/zMJRPjJAJK6Ead+ioiwMquPVAfwdHS7hUC5XIqXSKYjpyd3soeM0kkS81d3vrnUuFFmkJp/Q==&lt;/Data&gt;\r\n    \r\n    &lt;Hmac&gt;9nkUcE3nYbs22zXa9zX0PAUn0hNG3lo/vKfEy3x5ELeHUfXpXcR3y92x1ZEmM5K0&lt;/Hmac&gt;\r\n    \r\n    &lt;Signature xmlns=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;&lt;SignedInfo&gt;&lt;CanonicalizationMethod Algorithm=&quot;http://www.w3.org/TR/2001/REC-xml-c14n-20010315&quot;/&gt;&lt;SignatureMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1&quot;/&gt;&lt;Reference URI=&quot;&quot;&gt;&lt;Transforms&gt;&lt;Transform Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#enveloped-signature&quot;/&gt;&lt;/Transforms&gt;&lt;DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot;/&gt;&lt;DigestValue&gt;NMemaHgaMX0aO51Mbq1jKsOsCG0=&lt;/DigestValue&gt;&lt;/Reference&gt;&lt;/SignedInfo&gt;&lt;SignatureValue&gt;izR4i53yCpzlO3AVcgtmSj87H5AzEya4NZTGwPe3Pq3wPOgtwvXsHVzM4GBoo/8MaDzyJpYxstXmcmdZvcd2ljCg0byJ4hOZepd7w0OYbudDICD5wVObaLGGcWJm5mIoeusy/3rOf/SIF/UxUUNe/9Ao4IBKuAq7iAuE2+B7vECeGfeDNEBtqgrKByAHAMoz6tV0QeeShfPFIvuEWXuMSzaJGDspGSy6sn/ktgYm7kNLqELklFjmJQUSbJ/S9BO3Z2O6gXVGa+/A7vBkHGwfBOo7fOA9sqjHLWG3VjfKU4x/Qpl2Nlwqo36UH1PuoV40sPsKLYWJvmzPA3ldjeNywA==&lt;/SignatureValue&gt;&lt;KeyInfo&gt;&lt;X509Data&gt;&lt;X509SubjectName&gt;CN=DS NSDL E GOVERNANCE INFRASTRUCTURE LIMITED 3,2.5.4.51=#133331535420464c4f4f522054494d455320544f574552204b414d414c41204d494c4c5320434f4d504f554e44205342204d415247,STREET=MUMBAI,ST=MAHARASHTRA,2.5.4.17=#1306343030303133,OU=PAN TIN AND UID OPERATIONS,O=NSDL E GOVERNANCE INFRASTRUCTURE LIMITED,C=IN&lt;/X509SubjectName&gt;&lt;X509Certificate&gt;MIIGIjCCBQqgAwIBAgIEANgp4jANBgkqhkiG9w0BAQsFADCBkzELMAkGA1UEBhMCSU4xKjAoBgNVBAoTIWVNdWRocmEgQ29uc3VtZXIgU2VydmljZXMgTGltaXRlZDEdMBsGA1UECxMUQ2VydGlmeWluZyBBdXRob3JpdHkxOTA3BgNVBAMTMGUtTXVkaHJhIFN1YiBDQSBDbGFzcyAyIGZvciBEb2N1bWVudCBTaWduZXIgMjAxNDAeFw0xNzA2MjMxMTUzMTVaFw0xOTA2MjMxMTUzMTVaMIIBEzELMAkGA1UEBhMCSU4xMTAvBgNVBAoTKE5TREwgRSBHT1ZFUk5BTkNFIElORlJBU1RSVUNUVVJFIExJTUlURUQxIzAhBgNVBAsTGlBBTiBUSU4gQU5EIFVJRCBPUEVSQVRJT05TMQ8wDQYDVQQREwY0MDAwMTMxFDASBgNVBAgTC01BSEFSQVNIVFJBMQ8wDQYDVQQJEwZNVU1CQUkxPDA6BgNVBDMTMzFTVCBGTE9PUiBUSU1FUyBUT1dFUiBLQU1BTEEgTUlMTFMgQ09NUE9VTkQgU0IgTUFSRzE2MDQGA1UEAxMtRFMgTlNETCBFIEdPVkVSTkFOQ0UgSU5GUkFTVFJVQ1RVUkUgTElNSVRFRCAzMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA0o9vohWZ3ztI9ea8D/zUEUBRq6c82BE7sFmr1hNMeuGSJQFf39ceesRtGUzlUYVWXcU23P8sVZ5419CHh7ApFzUXaLD72i/2d5FFI0n3iRlTQec9PEUHyrvOCVDpqBhbnrO/EHBqRluUQJTQUtMu5mhPNFV7IIJMTEAsUhCL9adZXXQK9NeK0foRr29Oq7VdEGfSeLzHIibpQmhNPh89oJXqu0cmbNSW4J4i2GmwHQpmsmHaSQcgh4mgVrykO64pAKXPreAPipDHQM1l/e5hilYlWfLHxhC5ObTCTcydQ218IVulFOFhdQt7xVV61TOmoTC2elhWbDqoLJBVU5mBfQIDAQABo4IB+TCCAfUwEwYDVR0jBAwwCoAITaZEyKbiAAgwHQYDVR0OBBYEFGzNaT6D2SoleAtlGlS4gBsQvo3qMA4GA1UdDwEB/wQEAwIGwDAcBgNVHREEFTATgRFISVRFTk1ATlNETC5DTy5JTjCB0gYDVR0gBIHKMIHHMC0GBmCCZGQCAjAjMCEGCCsGAQUFBwICMBUaE0NsYXNzIDIgQ2VydGlmaWNhdGUwRAYGYIJkZAoBMDowOAYIKwYBBQUHAgIwLBoqT3JnYW5pc2F0aW9uYWwgRG9jdW1lbnQgU2lnbmVyIENlcnRpZmljYXRlMFAGB2CCZGQBCAIwRTBDBggrBgEFBQcCARY3aHR0cDovL3d3dy5lLW11ZGhyYS5jb20vcmVwb3NpdG9yeS9jcHMvZS1NdWRocmFfQ1BTLnBkZjB3BggrBgEFBQcBAQRrMGkwJAYIKwYBBQUHMAGGGGh0dHA6Ly9vY3NwLmUtbXVkaHJhLmNvbTBBBggrBgEFBQcwAoY1aHR0cDovL3d3dy5lLW11ZGhyYS5jb20vcmVwb3NpdG9yeS9jYWNlcnRzL2RvY2NsMi5jcnQwQwYDVR0fBDwwOjA4oDagNIYyaHR0cDovL3d3dy5lLW11ZGhyYS5jb20vcmVwb3NpdG9yeS9jcmxzL2RvY2NsMi5jcmwwDQYJKoZIhvcNAQELBQADggEBALp9E7tM/HvtM+FEfaHdBn5MqL2WLf/GuuMH02ULbIDLQQNK+R4ivuFXLAqU5hbgtr9Yi1oRlfA5iTVDfxKLW6nGF3aSzNihgwhNP69/WM0TozxwYzCxMAVMGPGY+wUuLxWo67RybDCmQCaeG/RXM7FzfKtX8E99g9pBwjw23dc3kGIUqnWUqTEXjauYwz/7XDO2PWJw7F+PPeOrrxC2gA0F6jCT24bZjoF32eLCgXFcE5tIBMhM8WnUR3Pfex8mw5sctuUi8WFkgbLVrIBGuRDebMmr2/k2+D/O4tyTSbdl8YIV4MtHvMIUHnD0Z691Tjwj109A6h0AtuJAXvOm7FE=&lt;/X509Certificate&gt;&lt;/X509Data&gt;&lt;/KeyInfo&gt;&lt;/Signature&gt;\r\n    &lt;/Auth&gt;","title":"How to create session key on behalf or public key identifier","body":"<p>I got this description for SKey block in documentation for generating XML request</p>\n<blockquote>\n<p>Element: Skey (mandatory): <strong>Value of this element is base-64 encoded\nvalue of encrypted 256-bit AES session key. Session key must be\ndynamically generated for every transaction (session key must not be\nreused) and must not be stored anywhere except in memory. See next\nchapter for encryption details</strong>.</p>\n<p>Attributes: ci – <strong>(mandatory) Public key certificate identifier using\nwhich “skey” was encrypted. UIDAI may have multiple public keys in\nfield at the same time. Value of this attribute is the certificate\nexpiration date in the format “YYYYMMDD”. Expiry date of the\ncertificate can be obtained from the certificate itself</strong></p>\n</blockquote>\n<p>And I want something like this:-</p>\n<pre><code>        A00&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;Auth xmlns=&quot;http://www.uidai.gov.in/authentication/uid-auth-request/2.0&quot; ac=&quot;public&quot; lk=&quot;Mssshhhhhhhhhhhhhhhhhhhhhhhhsssssssssssfff&quot; rc=&quot;Y&quot; sa=&quot;public&quot; tid=&quot;&quot; txn=&quot;AuthDemoClient:PUBLIC:20180601103742966&quot; uid=&quot;1111111111111111&quot; ver=&quot;2.5&quot;&gt;&lt;Uses bio=&quot;n&quot; otp=&quot;n&quot; pa=&quot;n&quot; pfa=&quot;n&quot; pi=&quot;y&quot; pin=&quot;n&quot;/&gt;&lt;Meta dc=&quot;&quot; dpId=&quot;&quot; mc=&quot;&quot; mi=&quot;&quot; rdsId=&quot;&quot; rdsVer=&quot;&quot;/&gt;\n\n    &lt;Skey ci=&quot;20201030&quot;&gt;lrsFAH8bGjpEetiMEb7AFQBBOZeP0I6L21nY7weKKYE0/SakC7E6jlQXjNtSCH8IISIb3EorbdwsCWFGq9z/TILQs0JmB15fKAopTZx6/mNkGjuTLk1t6tjTValJxXmWq8/F8IHcjuM70yWwwMmuwJRuxZPOkoFFjSBUqFVkSVKtBYQobTUEWL7i/PEyMIQyDRfQy/SMTdYDqFQStnBQofvBcj0UbUT2I9g0+2VEwwFKuiZZ8KEuYvy+SE9YvnOncARtqxp1jveeyPkpuA2QymiDnpfcV/mjBnqCHdeVBHM1tB3YIUCtO9rNHqfUP13iI0eWRwQeYrsKctRDmLkB0g==&lt;/Skey&gt;\n\n    &lt;Data type=&quot;X&quot;&gt;MjAxOC0wNi0wMVQxMDozNzo0MRq5ZwZTA2ddEuSXZNj5oofGkQ01abbLy0+3SGV6CbrRFSRb8Ve/6a+IOxAE5Zswij3GYebGAw4XeXAOI88Vxd2zxO//ZFq6loq5o0TbSIRg/oBJ7hpa5J2P20nGeMKsaygSvmsY9M3DFTAcjy3Dkq5RalwW+zELM58l9VgyQXhTVO0fqzgH2XNrYPsBfSpfI1Uwx4t1OCjhdyJJWnDG8c3JADzbA4smISjw//K38qUumUjIaRClwnx61xdj0992hwTN7fNK5iDkN78g8NppKQz+mY/zMJRPjJAJK6Ead+ioiwMquPVAfwdHS7hUC5XIqXSKYjpyd3soeM0kkS81d3vrnUuFFmkJp/Q==&lt;/Data&gt;\n\n&lt;Hmac&gt;9nkUcE3nYbs22zXa9zX0PAUn0hNG3lo/vKfEy3x5ELeHUfXpXcR3y92x1ZEmM5K0&lt;/Hmac&gt;\n\n&lt;Signature xmlns=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;&lt;SignedInfo&gt;&lt;CanonicalizationMethod Algorithm=&quot;http://www.w3.org/TR/2001/REC-xml-c14n-20010315&quot;/&gt;&lt;SignatureMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1&quot;/&gt;&lt;Reference URI=&quot;&quot;&gt;&lt;Transforms&gt;&lt;Transform Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#enveloped-signature&quot;/&gt;&lt;/Transforms&gt;&lt;DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot;/&gt;&lt;DigestValue&gt;NMemaHgaMX0aO51Mbq1jKsOsCG0=&lt;/DigestValue&gt;&lt;/Reference&gt;&lt;/SignedInfo&gt;&lt;SignatureValue&gt;izR4i53yCpzlO3AVcgtmSj87H5AzEya4NZTGwPe3Pq3wPOgtwvXsHVzM4GBoo/8MaDzyJpYxstXmcmdZvcd2ljCg0byJ4hOZepd7w0OYbudDICD5wVObaLGGcWJm5mIoeusy/3rOf/SIF/UxUUNe/9Ao4IBKuAq7iAuE2+B7vECeGfeDNEBtqgrKByAHAMoz6tV0QeeShfPFIvuEWXuMSzaJGDspGSy6sn/ktgYm7kNLqELklFjmJQUSbJ/S9BO3Z2O6gXVGa+/A7vBkHGwfBOo7fOA9sqjHLWG3VjfKU4x/Qpl2Nlwqo36UH1PuoV40sPsKLYWJvmzPA3ldjeNywA==&lt;/SignatureValue&gt;&lt;KeyInfo&gt;&lt;X509Data&gt;&lt;X509SubjectName&gt;CN=DS NSDL E GOVERNANCE INFRASTRUCTURE LIMITED 3,2.5.4.51=#133331535420464c4f4f522054494d455320544f574552204b414d414c41204d494c4c5320434f4d504f554e44205342204d415247,STREET=MUMBAI,ST=MAHARASHTRA,2.5.4.17=#1306343030303133,OU=PAN TIN AND UID OPERATIONS,O=NSDL E GOVERNANCE INFRASTRUCTURE LIMITED,C=IN&lt;/X509SubjectName&gt;&lt;X509Certificate&gt;MIIGIjCCBQqgAwIBAgIEANgp4jANBgkqhkiG9w0BAQsFADCBkzELMAkGA1UEBhMCSU4xKjAoBgNVBAoTIWVNdWRocmEgQ29uc3VtZXIgU2VydmljZXMgTGltaXRlZDEdMBsGA1UECxMUQ2VydGlmeWluZyBBdXRob3JpdHkxOTA3BgNVBAMTMGUtTXVkaHJhIFN1YiBDQSBDbGFzcyAyIGZvciBEb2N1bWVudCBTaWduZXIgMjAxNDAeFw0xNzA2MjMxMTUzMTVaFw0xOTA2MjMxMTUzMTVaMIIBEzELMAkGA1UEBhMCSU4xMTAvBgNVBAoTKE5TREwgRSBHT1ZFUk5BTkNFIElORlJBU1RSVUNUVVJFIExJTUlURUQxIzAhBgNVBAsTGlBBTiBUSU4gQU5EIFVJRCBPUEVSQVRJT05TMQ8wDQYDVQQREwY0MDAwMTMxFDASBgNVBAgTC01BSEFSQVNIVFJBMQ8wDQYDVQQJEwZNVU1CQUkxPDA6BgNVBDMTMzFTVCBGTE9PUiBUSU1FUyBUT1dFUiBLQU1BTEEgTUlMTFMgQ09NUE9VTkQgU0IgTUFSRzE2MDQGA1UEAxMtRFMgTlNETCBFIEdPVkVSTkFOQ0UgSU5GUkFTVFJVQ1RVUkUgTElNSVRFRCAzMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA0o9vohWZ3ztI9ea8D/zUEUBRq6c82BE7sFmr1hNMeuGSJQFf39ceesRtGUzlUYVWXcU23P8sVZ5419CHh7ApFzUXaLD72i/2d5FFI0n3iRlTQec9PEUHyrvOCVDpqBhbnrO/EHBqRluUQJTQUtMu5mhPNFV7IIJMTEAsUhCL9adZXXQK9NeK0foRr29Oq7VdEGfSeLzHIibpQmhNPh89oJXqu0cmbNSW4J4i2GmwHQpmsmHaSQcgh4mgVrykO64pAKXPreAPipDHQM1l/e5hilYlWfLHxhC5ObTCTcydQ218IVulFOFhdQt7xVV61TOmoTC2elhWbDqoLJBVU5mBfQIDAQABo4IB+TCCAfUwEwYDVR0jBAwwCoAITaZEyKbiAAgwHQYDVR0OBBYEFGzNaT6D2SoleAtlGlS4gBsQvo3qMA4GA1UdDwEB/wQEAwIGwDAcBgNVHREEFTATgRFISVRFTk1ATlNETC5DTy5JTjCB0gYDVR0gBIHKMIHHMC0GBmCCZGQCAjAjMCEGCCsGAQUFBwICMBUaE0NsYXNzIDIgQ2VydGlmaWNhdGUwRAYGYIJkZAoBMDowOAYIKwYBBQUHAgIwLBoqT3JnYW5pc2F0aW9uYWwgRG9jdW1lbnQgU2lnbmVyIENlcnRpZmljYXRlMFAGB2CCZGQBCAIwRTBDBggrBgEFBQcCARY3aHR0cDovL3d3dy5lLW11ZGhyYS5jb20vcmVwb3NpdG9yeS9jcHMvZS1NdWRocmFfQ1BTLnBkZjB3BggrBgEFBQcBAQRrMGkwJAYIKwYBBQUHMAGGGGh0dHA6Ly9vY3NwLmUtbXVkaHJhLmNvbTBBBggrBgEFBQcwAoY1aHR0cDovL3d3dy5lLW11ZGhyYS5jb20vcmVwb3NpdG9yeS9jYWNlcnRzL2RvY2NsMi5jcnQwQwYDVR0fBDwwOjA4oDagNIYyaHR0cDovL3d3dy5lLW11ZGhyYS5jb20vcmVwb3NpdG9yeS9jcmxzL2RvY2NsMi5jcmwwDQYJKoZIhvcNAQELBQADggEBALp9E7tM/HvtM+FEfaHdBn5MqL2WLf/GuuMH02ULbIDLQQNK+R4ivuFXLAqU5hbgtr9Yi1oRlfA5iTVDfxKLW6nGF3aSzNihgwhNP69/WM0TozxwYzCxMAVMGPGY+wUuLxWo67RybDCmQCaeG/RXM7FzfKtX8E99g9pBwjw23dc3kGIUqnWUqTEXjauYwz/7XDO2PWJw7F+PPeOrrxC2gA0F6jCT24bZjoF32eLCgXFcE5tIBMhM8WnUR3Pfex8mw5sctuUi8WFkgbLVrIBGuRDebMmr2/k2+D/O4tyTSbdl8YIV4MtHvMIUHnD0Z691Tjwj109A6h0AtuJAXvOm7FE=&lt;/X509Certificate&gt;&lt;/X509Data&gt;&lt;/KeyInfo&gt;&lt;/Signature&gt;\n&lt;/Auth&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":165546,"reputation":18964,"user_id":389099,"accept_rate":88,"display_name":"guido"},"score":2,"creation_date":1499418144,"post_id":44966687,"comment_id":76908377,"body_markdown":"you are calling `nextInt` on the scanner instance, but `+` is not","body":"you are calling <code>nextInt</code> on the scanner instance, but <code>+</code> is not"},{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":1,"creation_date":1499421853,"post_id":44966687,"comment_id":76910914,"body_markdown":"Please try to use real words here - &quot;you&quot; is not harder to type than &quot;u&quot;. This makes posts readable for a wide audience, including people whose first language is not English. Thanks!","body":"Please try to use real words here - &quot;you&quot; is not harder to type than &quot;u&quot;. This makes posts readable for a wide audience, including people whose first language is not English. Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":9941182,"reputation":1,"user_id":7357749,"display_name":"LeXcution"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1499418736,"creation_date":1499418553,"answer_id":44966864,"question_id":44966687,"body_markdown":"  \r\n    if (a.nextInt()==&#39;+&#39;){\r\n        float result = x + y;\r\n        System.out.println(&quot;result: &quot; + result);\r\n    }\r\n\r\na.nextInt() expect an &quot;int&quot;, but you&#39;re passing to it a char.\r\nYou have two possibilities.\r\n\r\n1. Create another scanner which will take &quot;char&quot;\r\n2. Use the method &quot;next()&quot;. Like this : a.next(); \r\nIn the second case, use .equals(&quot;your operation&quot;), cause you can&#39;t compare strings with &quot;==&quot;. \r\n\r\n\r\n ","title":"Why does my code not work (diary code)?","body":"<pre><code>if (a.nextInt()=='+'){\n    float result = x + y;\n    System.out.println(\"result: \" + result);\n}\n</code></pre>\n\n<p>a.nextInt() expect an \"int\", but you're passing to it a char.\nYou have two possibilities.</p>\n\n<ol>\n<li>Create another scanner which will take \"char\"</li>\n<li>Use the method \"next()\". Like this : a.next(); \nIn the second case, use .equals(\"your operation\"), cause you can't compare strings with \"==\". </li>\n</ol>\n"},{"tags":[],"owner":{"account_id":10432364,"reputation":1044,"user_id":7691803,"accept_rate":79,"display_name":"Bharat"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1499418732,"creation_date":1499418732,"answer_id":44966934,"question_id":44966687,"body_markdown":"You are using a.nextInt() which is used for taking integer as input. Just use a.next().charAt(0) instead of that. This is working\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Taschenrechner {\r\n        public static void calculator() {\r\n            Scanner a = new Scanner(System.in);\r\n            System.out.println(&quot;Give me the 2 numbers first: &quot;);\r\n            int x = a.nextInt();\r\n            int y = a.nextInt();\r\n            System.out.println(&quot;Now give me the operation (+,-,*,/): &quot;);\r\n            if (a.next().charAt(0) == &#39;+&#39;) {\r\n                float result = x + y;\r\n                System.out.println(&quot;result: &quot; + result);\r\n            } else if (a.next().charAt(0) == &#39;-&#39;) {\r\n                float result = x - y;\r\n                System.out.println(&quot;result: &quot; + result);\r\n            } else if (a.next().charAt(0) == &#39;*&#39;) {\r\n                float result = x * y;\r\n                System.out.println(&quot;result: &quot; + result);\r\n            } else {\r\n                float result = x / y;\r\n                System.out.println(&quot;result: &quot; + result);\r\n            }\r\n            a.close();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            calculator();\r\n        }\r\n    }","title":"Why does my code not work (diary code)?","body":"<p>You are using a.nextInt() which is used for taking integer as input. Just use a.next().charAt(0) instead of that. This is working</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class Taschenrechner {\n    public static void calculator() {\n        Scanner a = new Scanner(System.in);\n        System.out.println(\"Give me the 2 numbers first: \");\n        int x = a.nextInt();\n        int y = a.nextInt();\n        System.out.println(\"Now give me the operation (+,-,*,/): \");\n        if (a.next().charAt(0) == '+') {\n            float result = x + y;\n            System.out.println(\"result: \" + result);\n        } else if (a.next().charAt(0) == '-') {\n            float result = x - y;\n            System.out.println(\"result: \" + result);\n        } else if (a.next().charAt(0) == '*') {\n            float result = x * y;\n            System.out.println(\"result: \" + result);\n        } else {\n            float result = x / y;\n            System.out.println(\"result: \" + result);\n        }\n        a.close();\n    }\n\n    public static void main(String[] args) {\n        calculator();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6014409,"reputation":15624,"user_id":4723795,"accept_rate":82,"display_name":"xenteros"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1499418932,"creation_date":1499418932,"answer_id":44967000,"question_id":44966687,"body_markdown":"    Give me the 2 numbers first: \r\n    1\r\n    2\r\n    Now give me the operation (+,-,*,/): \r\n    +\r\n    Exception in thread &quot;main&quot; java.util.InputMismatchException\r\n        at java.util.Scanner.throwFor(Unknown Source)\r\n        at java.util.Scanner.next(Unknown Source)\r\n        at java.util.Scanner.nextInt(Unknown Source)\r\n        at java.util.Scanner.nextInt(Unknown Source)\r\n        at Taschenrechner.Operationen(Taschenrechner.java:10)\r\n        at Taschenrechner.main(Taschenrechner.java:30)\r\n\r\nMeans:\r\n\r\nAfter inputting `+` there was an `Exception` thrown. It&#39;s `InputMismatchException`. It was thrown in (...) `Scanner#nextInt` in Taschenrechrer.java in line 30.\r\n\r\nIn the provided code, there are also three different problems. One is that you should distinguish between `&quot;x&quot;` and `&#39;&#39;`. The first one is a `String`, the other is a `char`.\r\n\r\nThe other one is the fact, that you probably expect floating division instead of integer, so you have to add `1.0` before dividing. Otherwise, the result will always be an integer.\r\n\r\nBut the most important one is the fact, that scanner is associated with the input stream. A stream is something that floats and can&#39;t fall back. This means, that you have to read the input once and then compare what it is. Calling `a.next()` three times will cause scanner reading 3 different inputs.\r\n\r\n    public class Taschenrechner {\r\n    \r\n        public static void calculator(){\r\n            Scanner a = new Scanner(System.in);\r\n            System.out.println(&quot;Give me the 2 numbers first: &quot;);\r\n            int x = a.nextInt();\r\n            int y = a.nextInt();\r\n            System.out.println(&quot;Now give me the operation (+,-,*,/): &quot;);\r\n            String op = a.next();\r\n            if (op.equals(&quot;+&quot;){\r\n                float result = x + y;\r\n                System.out.println(&quot;result: &quot; + result);\r\n            }\r\n            else if (op.equals(&quot;-&quot;)){\r\n                float result = x - y;\r\n                System.out.println(&quot;result: &quot; + result);\r\n            }\r\n            else if (op.equals(&quot;*&quot;)){\r\n                float result = x * y;\r\n                System.out.println(&quot;result: &quot; + result);\r\n            }\r\n            else{\r\n                float result = 1.0 * x / y;\r\n                System.out.println(&quot;result: &quot; + result);\r\n                }\r\n            a.close();\r\n            }\r\n        \r\n            public static void main(String []args) {\r\n                calculator();\r\n            }\r\n    \r\n    }\r\n\r\n","title":"Why does my code not work (diary code)?","body":"<pre><code>Give me the 2 numbers first: \n1\n2\nNow give me the operation (+,-,*,/): \n+\nException in thread \"main\" java.util.InputMismatchException\n    at java.util.Scanner.throwFor(Unknown Source)\n    at java.util.Scanner.next(Unknown Source)\n    at java.util.Scanner.nextInt(Unknown Source)\n    at java.util.Scanner.nextInt(Unknown Source)\n    at Taschenrechner.Operationen(Taschenrechner.java:10)\n    at Taschenrechner.main(Taschenrechner.java:30)\n</code></pre>\n\n<p>Means:</p>\n\n<p>After inputting <code>+</code> there was an <code>Exception</code> thrown. It's <code>InputMismatchException</code>. It was thrown in (...) <code>Scanner#nextInt</code> in Taschenrechrer.java in line 30.</p>\n\n<p>In the provided code, there are also three different problems. One is that you should distinguish between <code>\"x\"</code> and <code>''</code>. The first one is a <code>String</code>, the other is a <code>char</code>.</p>\n\n<p>The other one is the fact, that you probably expect floating division instead of integer, so you have to add <code>1.0</code> before dividing. Otherwise, the result will always be an integer.</p>\n\n<p>But the most important one is the fact, that scanner is associated with the input stream. A stream is something that floats and can't fall back. This means, that you have to read the input once and then compare what it is. Calling <code>a.next()</code> three times will cause scanner reading 3 different inputs.</p>\n\n<pre><code>public class Taschenrechner {\n\n    public static void calculator(){\n        Scanner a = new Scanner(System.in);\n        System.out.println(\"Give me the 2 numbers first: \");\n        int x = a.nextInt();\n        int y = a.nextInt();\n        System.out.println(\"Now give me the operation (+,-,*,/): \");\n        String op = a.next();\n        if (op.equals(\"+\"){\n            float result = x + y;\n            System.out.println(\"result: \" + result);\n        }\n        else if (op.equals(\"-\")){\n            float result = x - y;\n            System.out.println(\"result: \" + result);\n        }\n        else if (op.equals(\"*\")){\n            float result = x * y;\n            System.out.println(\"result: \" + result);\n        }\n        else{\n            float result = 1.0 * x / y;\n            System.out.println(\"result: \" + result);\n            }\n        a.close();\n        }\n\n        public static void main(String []args) {\n            calculator();\n        }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7975266,"reputation":1848,"user_id":6018655,"accept_rate":100,"display_name":"Cristian Ramon-Cortes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1499419003,"creation_date":1499419003,"answer_id":44967031,"question_id":44966687,"body_markdown":"First of all, when you are reading the operation sign you need to read it as an String since it is not an Integer. \r\nMoreover, when comparing Strings you should use the `equals` method.\r\nFinally, when performing the division you should cast one of the operands to float to obtain a float result (otherwise you will obtain the casted division - int -).\r\n\r\nThis said, your code should look like:\r\n\r\n    import java.util.Scanner;\r\n    \r\n    \r\n    public class Taschenrechner {\r\n    \r\n        public static void calculator() {\r\n            Scanner input = new Scanner(System.in);\r\n            // Read input numbers\r\n            System.out.println(&quot;Give me the 2 numbers first: &quot;);\r\n            int x = input.nextInt();\r\n            int y = input.nextInt();\r\n    \r\n            // Read operation\r\n            System.out.println(&quot;Now give me the operation (+,-,*,/): &quot;);\r\n            String operation = input.next();\r\n    \r\n            // Perform operation\r\n            float result = 0;\r\n            if (operation.equals(&quot;+&quot;)) {\r\n                result = x + y;\r\n            } else if (operation.equals(&quot;-&quot;)) {\r\n                result = x - y;\r\n            } else if (operation.equals(&quot;*&quot;)) {\r\n                result = x * y;\r\n            } else if (operation.equals(&quot;/&quot;)) {\r\n                // Add float casting to one of the operands to obtain a float result\r\n                result = x / ((float) y);\r\n            } else {\r\n                System.err.println(&quot;ERROR: Unrecognised operation &quot; + operation);\r\n            }\r\n    \r\n            // Print result\r\n            System.out.println(&quot;Result: &quot; + result);\r\n    \r\n            // Close scanner\r\n            input.close();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            calculator();\r\n        }\r\n    }\r\n\r\nNotice that:\r\n\r\n- I have moved the result print to the end of the function since you are duplicating code.\r\n- I have added an else case for the operations that are not supported.\r\n- The Strings are compared using the `equals` method.\r\n- If you want you can change the `if`, `if-else`, `else` by a `switch-case`.","title":"Why does my code not work (diary code)?","body":"<p>First of all, when you are reading the operation sign you need to read it as an String since it is not an Integer. \nMoreover, when comparing Strings you should use the <code>equals</code> method.\nFinally, when performing the division you should cast one of the operands to float to obtain a float result (otherwise you will obtain the casted division - int -).</p>\n\n<p>This said, your code should look like:</p>\n\n<pre><code>import java.util.Scanner;\n\n\npublic class Taschenrechner {\n\n    public static void calculator() {\n        Scanner input = new Scanner(System.in);\n        // Read input numbers\n        System.out.println(\"Give me the 2 numbers first: \");\n        int x = input.nextInt();\n        int y = input.nextInt();\n\n        // Read operation\n        System.out.println(\"Now give me the operation (+,-,*,/): \");\n        String operation = input.next();\n\n        // Perform operation\n        float result = 0;\n        if (operation.equals(\"+\")) {\n            result = x + y;\n        } else if (operation.equals(\"-\")) {\n            result = x - y;\n        } else if (operation.equals(\"*\")) {\n            result = x * y;\n        } else if (operation.equals(\"/\")) {\n            // Add float casting to one of the operands to obtain a float result\n            result = x / ((float) y);\n        } else {\n            System.err.println(\"ERROR: Unrecognised operation \" + operation);\n        }\n\n        // Print result\n        System.out.println(\"Result: \" + result);\n\n        // Close scanner\n        input.close();\n    }\n\n    public static void main(String[] args) {\n        calculator();\n    }\n}\n</code></pre>\n\n<p>Notice that:</p>\n\n<ul>\n<li>I have moved the result print to the end of the function since you are duplicating code.</li>\n<li>I have added an else case for the operations that are not supported.</li>\n<li>The Strings are compared using the <code>equals</code> method.</li>\n<li>If you want you can change the <code>if</code>, <code>if-else</code>, <code>else</code> by a <code>switch-case</code>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":10701797,"reputation":187,"user_id":7876875,"display_name":"kevin"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1672720164,"creation_date":1499419310,"answer_id":44967138,"question_id":44966687,"body_markdown":"In your code have 2 problem\r\n\r\n 1. when input mathematics must string not Integer\r\n 2. When compare mathematics, must using character &quot; not using &#39;. Because character &quot; have meaning string and &#39; just meaning character\r\n\r\nSo, please try this code below\r\n\r\n    public static void calculator(){\r\n        Scanner a = new Scanner(System.in);\r\n        System.out.println(&quot;Give me the 2 numbers first: &quot;);\r\n        int x = a.nextInt();\r\n        int y = a.nextInt();\r\n        System.out.println(&quot;Now give me the operation (+,-,*,/): &quot;);\r\n        a.nextLine();\r\n        String b = a.next();\r\n        if (b.equals(&quot;+&quot;)){\r\n            float result = x + y;\r\n            System.out.println(&quot;result: &quot; + result);\r\n        }\r\n        else if (b.equals(&quot;-&quot;)){\r\n            float result = x - y;\r\n            System.out.println(&quot;result: &quot; + result);\r\n        }\r\n        else if (b.equals(&quot;*&quot;)){\r\n            float result = x * y;\r\n            System.out.println(&quot;result: &quot; + result);\r\n        }\r\n        else{\r\n            float result = x / y;\r\n            System.out.println(&quot;result: &quot; + result);\r\n            }\r\n        a.close();\r\n        }","title":"Why does my code not work (diary code)?","body":"<p>In your code have 2 problem</p>\n<ol>\n<li>when input mathematics must string not Integer</li>\n<li>When compare mathematics, must using character &quot; not using '. Because character &quot; have meaning string and ' just meaning character</li>\n</ol>\n<p>So, please try this code below</p>\n<pre><code>public static void calculator(){\n    Scanner a = new Scanner(System.in);\n    System.out.println(&quot;Give me the 2 numbers first: &quot;);\n    int x = a.nextInt();\n    int y = a.nextInt();\n    System.out.println(&quot;Now give me the operation (+,-,*,/): &quot;);\n    a.nextLine();\n    String b = a.next();\n    if (b.equals(&quot;+&quot;)){\n        float result = x + y;\n        System.out.println(&quot;result: &quot; + result);\n    }\n    else if (b.equals(&quot;-&quot;)){\n        float result = x - y;\n        System.out.println(&quot;result: &quot; + result);\n    }\n    else if (b.equals(&quot;*&quot;)){\n        float result = x * y;\n        System.out.println(&quot;result: &quot; + result);\n    }\n    else{\n        float result = x / y;\n        System.out.println(&quot;result: &quot; + result);\n        }\n    a.close();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2063259,"reputation":12403,"user_id":1839360,"display_name":"Yan Khonski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1499419823,"creation_date":1499419427,"answer_id":44967180,"question_id":44966687,"body_markdown":"I will go through your code and suggest some refactoring.\r\n\r\n\t if (a.nextInt()==&#39;+&#39;){\r\n\t\t\tfloat result = x + y;\r\n\t\t\tSystem.out.println(&quot;result: &quot; + result);\r\n\t\t}\r\n\t\telse if (a.nextInt()==&#39;-&#39;){\r\n\t\t\tfloat result = x - y;\r\n\t\t\tSystem.out.println(&quot;result: &quot; + result);\r\n\t\t}\r\n\t\telse if (a.nextInt()==&#39;*&#39;){\r\n\t\t\tfloat result = x * y;\r\n\t\t\tSystem.out.println(&quot;result: &quot; + result);\r\n\t\t}\r\n\t\telse{\r\n\t\t\tfloat result = x / y;\r\n\t\t\tSystem.out.println(&quot;result: &quot; + result);\r\n\t\t\t}\r\n\t\ta.close();\r\n    }\r\n\r\nYou read operation each time if it is not equal to what you coded. So if user wants to enter opearation **-**, they have to enter first time operation different from **+**, and then **-**.\r\n\r\nSecond, it is a good practice to move hardcoded constants into private static fields (or public static if they are used in other classes).\r\n\r\nInstead of if-else, prefer to use switch (for primitives, strings, enums) - better style and performance (JVM optimizes switch).\r\n\r\n\r\n\r\nThis is how I would code this\r\n\r\nTaschenrechner \r\n\r\n    public class Taschenrechner {\r\n\r\n\t\tprivate static final char ADD = &#39;+&#39;;\r\n\t\tprivate static final char SUB = &#39;-&#39;;\r\n\t\tprivate static final char MUL = &#39;*&#39;;\r\n\t\tprivate static final char DIV = &#39;/&#39;;\r\n\r\n\r\n\t\tpublic static void calculate() {\r\n\t\t\tScanner reader = new Scanner(System.in);\r\n\t\t\tSystem.out.println(&quot;Give me the 2 numbers first: &quot;);\r\n\t\t\tint x = reader.nextInt();\r\n\t\t\tint y = reader.nextInt();\r\n\t\t\tSystem.out.println(&quot;Now give me the operation (+,-,*,/): &quot;);\r\n\t\t\tfinal char operation = reader.next(&quot;.&quot;).charAt(0); //See explanation bellow.\r\n\t\t\tfloat result = calculateResult(x, y, operation);\r\n\t\t\tSystem.out.println(&quot;result: &quot; + result);\r\n\t\t\treader.close();\r\n\t\t}\r\n\r\n\t\tprivate static float calculateResult(float x, float y, char operation) {\r\n\t\t\tswitch (operation) {\r\n\t\t\t\tcase ADD:\r\n\t\t\t\t\treturn x + y;\r\n\r\n\t\t\t\tcase DIV:\r\n\t\t\t\t\treturn x / y;\r\n\r\n\t\t\t\tcase SUB:\r\n\t\t\t\t\treturn x - y;\r\n\r\n\t\t\t\tcase MUL:\r\n\t\t\t\t\treturn x * y;\r\n\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tthrow new UnsupportedOperationException(operation + &quot; is not suported.&quot;); //Terminate the program with an error. Read about exception handling to understand when it can be used.\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tcalculate();\r\n\t\t}\r\n\t}\r\n\r\n`final char operation = reader.next(&quot;.&quot;).charAt(0);` \r\nI want to read only one character.\r\nhttps://stackoverflow.com/a/13942707/4587961\r\n\r\nI also renamed method `calculator` into `calculate`. I am a big fan of **Clean Code** practices. Methods&#39; names are verbs, while classes names are nouns.","title":"Why does my code not work (diary code)?","body":"<p>I will go through your code and suggest some refactoring.</p>\n\n<pre><code> if (a.nextInt()=='+'){\n        float result = x + y;\n        System.out.println(\"result: \" + result);\n    }\n    else if (a.nextInt()=='-'){\n        float result = x - y;\n        System.out.println(\"result: \" + result);\n    }\n    else if (a.nextInt()=='*'){\n        float result = x * y;\n        System.out.println(\"result: \" + result);\n    }\n    else{\n        float result = x / y;\n        System.out.println(\"result: \" + result);\n        }\n    a.close();\n}\n</code></pre>\n\n<p>You read operation each time if it is not equal to what you coded. So if user wants to enter opearation <strong>-</strong>, they have to enter first time operation different from <strong>+</strong>, and then <strong>-</strong>.</p>\n\n<p>Second, it is a good practice to move hardcoded constants into private static fields (or public static if they are used in other classes).</p>\n\n<p>Instead of if-else, prefer to use switch (for primitives, strings, enums) - better style and performance (JVM optimizes switch).</p>\n\n<p>This is how I would code this</p>\n\n<p>Taschenrechner </p>\n\n<pre><code>public class Taschenrechner {\n\n    private static final char ADD = '+';\n    private static final char SUB = '-';\n    private static final char MUL = '*';\n    private static final char DIV = '/';\n\n\n    public static void calculate() {\n        Scanner reader = new Scanner(System.in);\n        System.out.println(\"Give me the 2 numbers first: \");\n        int x = reader.nextInt();\n        int y = reader.nextInt();\n        System.out.println(\"Now give me the operation (+,-,*,/): \");\n        final char operation = reader.next(\".\").charAt(0); //See explanation bellow.\n        float result = calculateResult(x, y, operation);\n        System.out.println(\"result: \" + result);\n        reader.close();\n    }\n\n    private static float calculateResult(float x, float y, char operation) {\n        switch (operation) {\n            case ADD:\n                return x + y;\n\n            case DIV:\n                return x / y;\n\n            case SUB:\n                return x - y;\n\n            case MUL:\n                return x * y;\n\n            default:\n                throw new UnsupportedOperationException(operation + \" is not suported.\"); //Terminate the program with an error. Read about exception handling to understand when it can be used.\n        }\n    }\n\n    public static void main(String[] args) {\n        calculate();\n    }\n}\n</code></pre>\n\n<p><code>final char operation = reader.next(\".\").charAt(0);</code> \nI want to read only one character.\n<a href=\"https://stackoverflow.com/a/13942707/4587961\">https://stackoverflow.com/a/13942707/4587961</a></p>\n\n<p>I also renamed method <code>calculator</code> into <code>calculate</code>. I am a big fan of <strong>Clean Code</strong> practices. Methods' names are verbs, while classes names are nouns.</p>\n"},{"tags":[],"owner":{"account_id":4265759,"reputation":279,"user_id":3488928,"display_name":"Ashish Lohia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499424856,"creation_date":1499424856,"answer_id":44969034,"question_id":44966687,"body_markdown":"To get the mathematical operators you have used nextInt.\r\n\r\na.nextInt()==&#39;+&#39;\r\n\r\nThis is the cause of the problem.\r\nAlso, use switch to make the code more robust and readable.","title":"Why does my code not work (diary code)?","body":"<p>To get the mathematical operators you have used nextInt.</p>\n\n<p>a.nextInt()=='+'</p>\n\n<p>This is the cause of the problem.\nAlso, use switch to make the code more robust and readable.</p>\n"},{"tags":[],"owner":{"account_id":8284971,"reputation":412,"user_id":6228349,"accept_rate":75,"display_name":"Pavan Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499426648,"creation_date":1499426648,"answer_id":44969569,"question_id":44966687,"body_markdown":"it will work\r\n\r\n    public static void calculator() {\r\n        Scanner a = new Scanner(System.in);\r\n        System.out.println(&quot;Give me the 2 numbers first: &quot;);\r\n        int x = a.nextInt();\r\n        int y = a.nextInt();\r\n\r\n        System.out.println(&quot;Now give me the operation (+,-,*,/): &quot;);\r\n        String choice = a.next();\r\n        if (choice.equals(&quot;+&quot;)) {\r\n            float result = x + y;\r\n            System.out.println(&quot;result: &quot; + result);\r\n        }\r\n        if (choice.equals(&quot;-&quot;)) {\r\n            float result = x - y;\r\n            System.out.println(&quot;result: &quot; + result);\r\n        }\r\n        if (choice.equals(&quot;*&quot;)) {\r\n            float result = x * y;\r\n            System.out.println(&quot;result: &quot; + result);\r\n        }\r\n        if (choice.equals(&quot;/&quot;)) {\r\n            float result = x / y;\r\n            System.out.println(&quot;result: &quot; + result);\r\n        }\r\n        a.close();\r\n    }","title":"Why does my code not work (diary code)?","body":"<p>it will work</p>\n\n<pre><code>public static void calculator() {\n    Scanner a = new Scanner(System.in);\n    System.out.println(\"Give me the 2 numbers first: \");\n    int x = a.nextInt();\n    int y = a.nextInt();\n\n    System.out.println(\"Now give me the operation (+,-,*,/): \");\n    String choice = a.next();\n    if (choice.equals(\"+\")) {\n        float result = x + y;\n        System.out.println(\"result: \" + result);\n    }\n    if (choice.equals(\"-\")) {\n        float result = x - y;\n        System.out.println(\"result: \" + result);\n    }\n    if (choice.equals(\"*\")) {\n        float result = x * y;\n        System.out.println(\"result: \" + result);\n    }\n    if (choice.equals(\"/\")) {\n        float result = x / y;\n        System.out.println(\"result: \" + result);\n    }\n    a.close();\n}\n</code></pre>\n"}],"owner":{"account_id":10751147,"reputation":45,"user_id":7910558,"display_name":"SlimE"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":197,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":8,"score":0,"last_activity_date":1672720164,"creation_date":1499418022,"question_id":44966687,"body_markdown":"This is a code of a diary. I want the user to write something in the diary and this is gonna be the first page and gonna be put in a list. After writing enter the next page should be started and he writes something in the next page etc.\r\nI get errors over and over and I don&#39;t know why. After writing &quot;enter&quot; I get errors. I am new to java and all in all programming/coding (if it&#39;s the same). Sorry if it&#39;s a really dumb question i&#39;m asking :/\r\nThank you for every advice. I am thankful for everything because I want to learn as much as I can for my university which would be in 1 year.\r\n\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Scanner;\r\n\r\n\r\n    public class NotizbuchKlasse{\r\n\t    public static void Pages(){\r\n\t\t    System.out.println(&quot;Tag 1 : Write something in your diary.&quot;);\r\n\t\t    System.out.println(&quot;Write enter if you are done writing.&quot;);\r\n\t\t    ArrayList&lt;String&gt; List = new ArrayList&lt;String&gt;();\r\n\t\t    String ListInList;\r\n\t\t    Scanner write;\r\n\t\t    do{\r\n\t\t\t    write = new Scanner(System.in);\r\n\t\t\t    ListInList = write.next();}\r\n\t\t    while (! ListInList.equals(&quot;enter&quot;));\r\n\t\t    System.out.println(&quot;This is now your page. Your page is gonna be \r\n            created after writing something new.&quot;);\r\n\t        String y = ListInList;\r\n\t        List.add(y);\r\n\t\t    write.close();\r\n\t\t    Pages();\t\t\r\n\t    }\r\n    public static void main(String[]Args){\r\n\t    Pages();\r\n    }\r\n    }\r\n\r\n    day 1 : Write something in your diary.\r\n    Write enter if you are done writing.\r\n    hello diary\r\n    enter\r\n    This is now your page. Your page is gonna be created after writing something \r\n    new.\r\n    Exception in thread &quot;main&quot; day 1 : Write something in your diary.\r\n    Write enter if you are done writing.\r\n    java.util.NoSuchElementException\r\n\t    at java.util.Scanner.throwFor(Unknown Source)\r\n\t    at java.util.Scanner.next(Unknown Source)\r\n\t    at NotizbuchKlasse.Pages(NotizbuchKlasse.java:14)\r\n\t    at NotizbuchKlasse.Pages(NotizbuchKlasse.java:20)\r\n\t    at NotizbuchKlasse.main(NotizbuchKlasse.java:38)","title":"Why does my code not work (diary code)?","body":"<p>This is a code of a diary. I want the user to write something in the diary and this is gonna be the first page and gonna be put in a list. After writing enter the next page should be started and he writes something in the next page etc.\nI get errors over and over and I don't know why. After writing \"enter\" I get errors. I am new to java and all in all programming/coding (if it's the same). Sorry if it's a really dumb question i'm asking :/\nThank you for every advice. I am thankful for everything because I want to learn as much as I can for my university which would be in 1 year.</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Scanner;\n\n\npublic class NotizbuchKlasse{\n    public static void Pages(){\n        System.out.println(\"Tag 1 : Write something in your diary.\");\n        System.out.println(\"Write enter if you are done writing.\");\n        ArrayList&lt;String&gt; List = new ArrayList&lt;String&gt;();\n        String ListInList;\n        Scanner write;\n        do{\n            write = new Scanner(System.in);\n            ListInList = write.next();}\n        while (! ListInList.equals(\"enter\"));\n        System.out.println(\"This is now your page. Your page is gonna be \n        created after writing something new.\");\n        String y = ListInList;\n        List.add(y);\n        write.close();\n        Pages();        \n    }\npublic static void main(String[]Args){\n    Pages();\n}\n}\n\nday 1 : Write something in your diary.\nWrite enter if you are done writing.\nhello diary\nenter\nThis is now your page. Your page is gonna be created after writing something \nnew.\nException in thread \"main\" day 1 : Write something in your diary.\nWrite enter if you are done writing.\njava.util.NoSuchElementException\n    at java.util.Scanner.throwFor(Unknown Source)\n    at java.util.Scanner.next(Unknown Source)\n    at NotizbuchKlasse.Pages(NotizbuchKlasse.java:14)\n    at NotizbuchKlasse.Pages(NotizbuchKlasse.java:20)\n    at NotizbuchKlasse.main(NotizbuchKlasse.java:38)\n</code></pre>\n"},{"tags":["java","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":23871468,"reputation":142,"user_id":17873105,"display_name":"Biswajit Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672719084,"creation_date":1672719084,"answer_id":74988976,"question_id":74988600,"body_markdown":"You need to set the property of webdriver like below, and you can use get instead of `driver.get(&quot;http://www.facebook.com&quot;);` \r\n\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    public class TestChrome {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;path of the exe file\\\\chromedriver.exe&quot;);\r\n    \r\n            // Initialize browser\r\n            WebDriver driver = new ChromeDriver();\r\n    \r\n            // Open facebook\r\n            driver.get(&quot;http://www.facebook.com&quot;);\r\n    \r\n            // Maximize browser\r\n    \r\n            driver.manage().window().maximize();\r\n    \r\n        }\r\n    \r\n    }","title":"org.openqa.selenium.WebDriverException: unknown error: net::ERR_CONNECTION_REFUSED","body":"<p>You need to set the property of webdriver like below, and you can use get instead of <code>driver.get(&quot;http://www.facebook.com&quot;);</code></p>\n<pre><code>import org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\npublic class TestChrome {\n\n    public static void main(String[] args) {\n\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;path of the exe file\\\\chromedriver.exe&quot;);\n\n        // Initialize browser\n        WebDriver driver = new ChromeDriver();\n\n        // Open facebook\n        driver.get(&quot;http://www.facebook.com&quot;);\n\n        // Maximize browser\n\n        driver.manage().window().maximize();\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":15317118,"reputation":37,"user_id":11050709,"display_name":"Marcelo Oliveira"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":620,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672719084,"creation_date":1672713137,"question_id":74988600,"body_markdown":"When I try to run my project using Selenium and Java, I am getting this error and I do not know how to solve it. This is happening on VSCode and the SO is Windows 11.\r\n\r\n```\r\norg.openqa.selenium.WebDriverException: unknown error: net::ERR_CONNECTION_REFUSED\r\n  (Session info: chrome=108.0.5359.125)\r\nBuild info: version: &#39;3.141.59&#39;, revision: &#39;e82be7d358&#39;, time: &#39;2018-11-14T08:17:03&#39;\r\n```\r\n\r\nThis is the code I created:\r\n\r\n```\r\nWebDriver browser = new ChromeDriver();\r\nbrowser.navigate().to(&quot;http://localhost:8080/leiloes&quot;);\r\nbrowser.quit();\r\n```\r\n\r\nI appreciate your help.\r\n\r\nMarcelo","title":"org.openqa.selenium.WebDriverException: unknown error: net::ERR_CONNECTION_REFUSED","body":"<p>When I try to run my project using Selenium and Java, I am getting this error and I do not know how to solve it. This is happening on VSCode and the SO is Windows 11.</p>\n<pre><code>org.openqa.selenium.WebDriverException: unknown error: net::ERR_CONNECTION_REFUSED\n  (Session info: chrome=108.0.5359.125)\nBuild info: version: '3.141.59', revision: 'e82be7d358', time: '2018-11-14T08:17:03'\n</code></pre>\n<p>This is the code I created:</p>\n<pre><code>WebDriver browser = new ChromeDriver();\nbrowser.navigate().to(&quot;http://localhost:8080/leiloes&quot;);\nbrowser.quit();\n</code></pre>\n<p>I appreciate your help.</p>\n<p>Marcelo</p>\n"},{"tags":["java","android","android-studio","android-manifest"],"comments":[{"owner":{"account_id":15714451,"reputation":184,"user_id":20839582,"display_name":"sajidjuneja"},"score":0,"creation_date":1672718872,"post_id":74988729,"comment_id":132333410,"body_markdown":"Have checked whether mipmap/ic_launcher is there?","body":"Have checked whether mipmap/ic_launcher is there?"}],"answers":[{"tags":[],"owner":{"account_id":15435030,"reputation":536,"user_id":11135366,"display_name":"Bhojaviya Sagar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672718864,"creation_date":1672718864,"answer_id":74988962,"question_id":74988729,"body_markdown":"when you create your image assets make sure you choose main mode.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uHkwj.png","title":"Android resource linking failed","body":"<p>when you create your image assets make sure you choose main mode.</p>\n<p><a href=\"https://i.stack.imgur.com/uHkwj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uHkwj.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":27416722,"reputation":1,"user_id":20915768,"display_name":"Fajri Aulia Rachmandha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1510,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672718864,"creation_date":1672715332,"question_id":74988729,"body_markdown":"I need to generate app bundle, but the error say :\r\n\r\n\r\n```\r\nExecution failed for task &#39;:app:processReleaseResources&#39;.\r\n&gt; A failure occurred while executing com.android.build.gradle.internal.res.LinkApplicationAndroidResourcesTask$TaskAction\r\n   &gt; Android resource linking failed\r\n     C:\\Users\\fajri\\AndroidStudioProjects\\Assessment\\app\\build\\intermediates\\packaged_manifests\\release\\AndroidManifest.xml:36: error: resource mipmap/ic_launcher (aka com.si20b.assessment:mipmap/ic_launcher) not found.\r\n     C:\\Users\\fajri\\AndroidStudioProjects\\Assessment\\app\\build\\intermediates\\packaged_manifests\\release\\AndroidManifest.xml:36: error: resource mipmap/ic_launcher_round (aka com.si20b.assessment:mipmap/ic_launcher_round) not found.\r\n     error: failed processing manifest.\r\n```\r\n\r\ni already put my icon in my android project\r\n","title":"Android resource linking failed","body":"<p>I need to generate app bundle, but the error say :</p>\n<pre><code>Execution failed for task ':app:processReleaseResources'.\n&gt; A failure occurred while executing com.android.build.gradle.internal.res.LinkApplicationAndroidResourcesTask$TaskAction\n   &gt; Android resource linking failed\n     C:\\Users\\fajri\\AndroidStudioProjects\\Assessment\\app\\build\\intermediates\\packaged_manifests\\release\\AndroidManifest.xml:36: error: resource mipmap/ic_launcher (aka com.si20b.assessment:mipmap/ic_launcher) not found.\n     C:\\Users\\fajri\\AndroidStudioProjects\\Assessment\\app\\build\\intermediates\\packaged_manifests\\release\\AndroidManifest.xml:36: error: resource mipmap/ic_launcher_round (aka com.si20b.assessment:mipmap/ic_launcher_round) not found.\n     error: failed processing manifest.\n</code></pre>\n<p>i already put my icon in my android project</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9232,"page":760,"page_size":100}
