{"items":[{"tags":["java","ssh","kerberos","jsch","gssapi"],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1676632815,"creation_date":1676632815,"answer_id":75483633,"question_id":75483088,"body_markdown":"JSch has Kerberos authentication enabled by default (what is a [frequent cause of problems](https://stackoverflow.com/q/29669459/850848)).\r\n\r\nSo you should not need to do anything special to use it in JSch. Just try to login with username only.","title":"Does anyone implemented JSch using Kerberos/GASAPI-based authentication","body":"<p>JSch has Kerberos authentication enabled by default (what is a <a href=\"https://stackoverflow.com/q/29669459/850848\">frequent cause of problems</a>).</p>\n<p>So you should not need to do anything special to use it in JSch. Just try to login with username only.</p>\n"}],"owner":{"account_id":7131339,"reputation":81,"user_id":5452438,"display_name":"Chandru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1676634820,"creation_date":1676629888,"question_id":75483088,"body_markdown":"As we are in corporate environment and with basic configuration changes, SSH Kerberos working seamlessly in OpenSSH\r\n\r\n    SSH -K server@domain.com\r\n\r\nSince default Kerberos setup didn&#39;t work, we have installed MIT Kerberos and generated ktab files for the application uses. \r\n\r\nHowever we are not aware how to setup Kerberos settings and properties for JSch. Password based authentication is working fine. But not sure how to implement the **gssapi-with-mic**. Any pointers or suggestion would be grateful. \r\n\r\n\r\nhttps://stackoverflow.com/questions/65250299/jsch-connection-with-kerberos\r\n\r\n[![Kerberos Configuration][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/i0Wor.png\r\n\r\n&gt; How to create these files with valid the values and explanation would\r\n&gt; be grateful. \r\n&gt; \r\n&gt; JSch is here for more than a decade, I don&#39;t see any single workable\r\n&gt; sample with Kerberos/GSSAPI authentication online. If anyone\r\n&gt; successfully implemented, kindly let me know.\r\n\r\n","title":"Does anyone implemented JSch using Kerberos/GASAPI-based authentication","body":"<p>As we are in corporate environment and with basic configuration changes, SSH Kerberos working seamlessly in OpenSSH</p>\n<pre><code>SSH -K server@domain.com\n</code></pre>\n<p>Since default Kerberos setup didn't work, we have installed MIT Kerberos and generated ktab files for the application uses.</p>\n<p>However we are not aware how to setup Kerberos settings and properties for JSch. Password based authentication is working fine. But not sure how to implement the <strong>gssapi-with-mic</strong>. Any pointers or suggestion would be grateful.</p>\n<p><a href=\"https://stackoverflow.com/questions/65250299/jsch-connection-with-kerberos\">Jsch connection with Kerberos</a></p>\n<p><a href=\"https://i.stack.imgur.com/i0Wor.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/i0Wor.png\" alt=\"Kerberos Configuration\" /></a></p>\n<blockquote>\n<p>How to create these files with valid the values and explanation would\nbe grateful.</p>\n<p>JSch is here for more than a decade, I don't see any single workable\nsample with Kerberos/GSSAPI authentication online. If anyone\nsuccessfully implemented, kindly let me know.</p>\n</blockquote>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1676653342,"post_id":75483843,"comment_id":133187112,"body_markdown":"findById doesn&#39;t return json, it should return entity instances. So if you are querying for a &#39;B&#39; instance by a particular ID value, you should get a B instance back that only has properties aAttribute, bAttribute, and id. If you are not - what exactly are you getting back? What is in the database row for the ID you are querying, and what is the SQL issued?","body":"findById doesn&#39;t return json, it should return entity instances. So if you are querying for a &#39;B&#39; instance by a particular ID value, you should get a B instance back that only has properties aAttribute, bAttribute, and id. If you are not - what exactly are you getting back? What is in the database row for the ID you are querying, and what is the SQL issued?"},{"owner":{"account_id":9981674,"reputation":42,"user_id":7384417,"display_name":"amit kumar"},"score":0,"creation_date":1676966033,"post_id":75483843,"comment_id":133238046,"body_markdown":"It is returning an instance of B entity. But instead of bAttribute, it is returning cAttribute which is part of the C entity.  bAttribute and cAttribute represent jsonb column of the B and C entity respectively. SQL issued by hibernate is for the B entity and nothing is relatable for the C entity. In the DB, data is properly inserted for B and C, there is no mismatch.","body":"It is returning an instance of B entity. But instead of bAttribute, it is returning cAttribute which is part of the C entity.  bAttribute and cAttribute represent jsonb column of the B and C entity respectively. SQL issued by hibernate is for the B entity and nothing is relatable for the C entity. In the DB, data is properly inserted for B and C, there is no mismatch."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1676992896,"post_id":75483843,"comment_id":133246559,"body_markdown":"Step it back - how can anything be returning &#39;cAttribute&#39; if it isn&#39;t in a physical B entity? Either you are getting B entity instance objects back that can only have B properties (and from its parent A), or you are getting C entity instances back. Are you maybe confusing JPA with JSON serialization (Jackson) inheritance issues? Show maybe what you are seeing exactly and include SQL queries and results as I don&#39;t see what you can be seeing.","body":"Step it back - how can anything be returning &#39;cAttribute&#39; if it isn&#39;t in a physical B entity? Either you are getting B entity instance objects back that can only have B properties (and from its parent A), or you are getting C entity instances back. Are you maybe confusing JPA with JSON serialization (Jackson) inheritance issues? Show maybe what you are seeing exactly and include SQL queries and results as I don&#39;t see what you can be seeing."}],"owner":{"account_id":9981674,"reputation":42,"user_id":7384417,"display_name":"amit kumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676634008,"creation_date":1676634008,"question_id":75483843,"body_markdown":"Problem \r\nI have created three entities with the strategy InheritanceType.JOINED. \r\nParent entity looks like this:\r\n```\r\n\r\n@Entity\r\n@Inheritance(strategy = InheritanceType.JOINED)\r\npublic class A&lt;E extends AJsonContent&gt;  extends AbstractDomainJsonEntity&lt;E, String&gt; {\r\n\r\n  @Id\r\n  @GeneratedValue(generator = &quot;uuid2&quot;)\r\n  @GenericGenerator(name = &quot;uuid2&quot;, strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\r\n  @NotNull(groups = OnUpdate.class)\r\n  @Null(groups = OnCreate.class)\r\n  @Column(name = &quot;a_id&quot;, columnDefinition = &quot;VARCHAR(255)&quot;)\r\n  @JsonProperty(&quot;aId&quot;)\r\n  @Schema(description = &quot;This attribute indicates unique id of OriginationJsonApplication&quot;)\r\n  private String id;\r\n\r\n  private String aAttribute;\r\n}\r\n```\r\nFirst child is:\r\n```\r\n@Entity\r\npublic class B extends A&lt;BAttribute&gt; {\r\n\r\n  private String bAttribute;\r\n}\r\n```\r\nSecond child is:\r\n\r\n```\r\n@Entity\r\npublic class C extends A&lt;CAttribute&gt; {\r\n\r\n  private String cAttribute;\r\n}\r\n```\r\nHere parent has a column of jsonb type whose type is being passed by child entities using generics argument  A&lt;E extends AJsonContent&gt; and argument should of subtype  AJsonContent.\r\n\r\nNow, when bRepository.findById() is called, it returns an instance of B with jsonb column  CAttribute instead of BAttribute.\r\n\r\nWhen I removed C entity completely, then it is working fine. But when it B and C are both together it fetches the wrong jsonb column for B entity.\r\n","title":"Table with @Inheritance(strategy = InheritanceType.JOINED) strategy fetching wrong column of Jsonb type","body":"<p>Problem\nI have created three entities with the strategy InheritanceType.JOINED.\nParent entity looks like this:</p>\n<pre><code>\n@Entity\n@Inheritance(strategy = InheritanceType.JOINED)\npublic class A&lt;E extends AJsonContent&gt;  extends AbstractDomainJsonEntity&lt;E, String&gt; {\n\n  @Id\n  @GeneratedValue(generator = &quot;uuid2&quot;)\n  @GenericGenerator(name = &quot;uuid2&quot;, strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\n  @NotNull(groups = OnUpdate.class)\n  @Null(groups = OnCreate.class)\n  @Column(name = &quot;a_id&quot;, columnDefinition = &quot;VARCHAR(255)&quot;)\n  @JsonProperty(&quot;aId&quot;)\n  @Schema(description = &quot;This attribute indicates unique id of OriginationJsonApplication&quot;)\n  private String id;\n\n  private String aAttribute;\n}\n</code></pre>\n<p>First child is:</p>\n<pre><code>@Entity\npublic class B extends A&lt;BAttribute&gt; {\n\n  private String bAttribute;\n}\n</code></pre>\n<p>Second child is:</p>\n<pre><code>@Entity\npublic class C extends A&lt;CAttribute&gt; {\n\n  private String cAttribute;\n}\n</code></pre>\n<p>Here parent has a column of jsonb type whose type is being passed by child entities using generics argument  A and argument should of subtype  AJsonContent.</p>\n<p>Now, when bRepository.findById() is called, it returns an instance of B with jsonb column  CAttribute instead of BAttribute.</p>\n<p>When I removed C entity completely, then it is working fine. But when it B and C are both together it fetches the wrong jsonb column for B entity.</p>\n"},{"tags":["java","eclipse","structure","directory"],"comments":[{"owner":{"account_id":3768354,"reputation":7981,"user_id":3131203,"accept_rate":50,"display_name":"keshlam"},"score":0,"creation_date":1393691199,"post_id":22116913,"comment_id":33552621,"body_markdown":"Show us exactly what you&#39;re doing. Odds are that your &quot;normal path&quot; is incorrect.","body":"Show us exactly what you&#39;re doing. Odds are that your &quot;normal path&quot; is incorrect."},{"owner":{"account_id":2613265,"reputation":5567,"user_id":2262972,"accept_rate":84,"display_name":"SamTebbs33"},"score":1,"creation_date":1393691215,"post_id":22116913,"comment_id":33552632,"body_markdown":"What do you mean by load the image? Use it from within your code or viewing it outside your program?","body":"What do you mean by load the image? Use it from within your code or viewing it outside your program?"},{"owner":{"account_id":1212966,"reputation":1590,"user_id":1181162,"accept_rate":75,"display_name":"Vince"},"score":0,"creation_date":1393691324,"post_id":22116913,"comment_id":33552679,"body_markdown":"And also refresh/clean your project, maybe Eclipse does not know your image is there.","body":"And also refresh/clean your project, maybe Eclipse does not know your image is there."}],"answers":[{"tags":[],"owner":{"account_id":3963224,"reputation":9906,"user_id":3269852,"display_name":"Sanjeev"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1393692849,"creation_date":1393692849,"answer_id":22117293,"question_id":22116913,"body_markdown":"This is happening because your `Resources` folder is created as a `&quot;source folder&quot;`. So it is displaying subfolders as a package structure. Define your `Resources` folder as a normal folder using `&quot;New -&gt; Folder&quot;`","title":"Why does Eclipse not allow me to create sub folders correctly?","body":"<p>This is happening because your <code>Resources</code> folder is created as a <code>\"source folder\"</code>. So it is displaying subfolders as a package structure. Define your <code>Resources</code> folder as a normal folder using <code>\"New -&gt; Folder\"</code></p>\n"},{"tags":[],"owner":{"account_id":271636,"reputation":303,"user_id":3129992,"display_name":"XelaNimed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676633800,"creation_date":1676633800,"answer_id":75483802,"question_id":22116913,"body_markdown":"The solution proposed by [Sanjeev][1] (use the context menu item &quot;New&quot;-&gt;&quot;Folder&quot; in resource folder) does not work for me in Eclipse 2022-12 (4.26.0).\r\nI found that to display folders instead of packages, you need to set the Excluded filter as a pattern `**`. To do this, in the &quot;Java Build Path&quot; select the &quot;Excluded&quot; item in the properties of the resources folder, then click on the &quot;Edit&quot; button and in the window that appears add the &quot;**&quot; pattern to the &quot;Exclusion patterns&quot;.\r\n\r\n[![Add exclusion pattern to resource folder][2]][2]\r\n\r\n[![Resource subfolders as packages][3]][3] [![Resource subfolders as folder][4]][4]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/22117293/3129992\r\n  [2]: https://i.stack.imgur.com/dkTd5.png\r\n  [3]: https://i.stack.imgur.com/Ah7xA.png\r\n  [4]: https://i.stack.imgur.com/1CQ8a.png","title":"Why does Eclipse not allow me to create sub folders correctly?","body":"<p>The solution proposed by <a href=\"https://stackoverflow.com/a/22117293/3129992\">Sanjeev</a> (use the context menu item &quot;New&quot;-&gt;&quot;Folder&quot; in resource folder) does not work for me in Eclipse 2022-12 (4.26.0).\nI found that to display folders instead of packages, you need to set the Excluded filter as a pattern <code>**</code>. To do this, in the &quot;Java Build Path&quot; select the &quot;Excluded&quot; item in the properties of the resources folder, then click on the &quot;Edit&quot; button and in the window that appears add the &quot;**&quot; pattern to the &quot;Exclusion patterns&quot;.</p>\n<p><a href=\"https://i.stack.imgur.com/dkTd5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dkTd5.png\" alt=\"Add exclusion pattern to resource folder\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/Ah7xA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ah7xA.png\" alt=\"Resource subfolders as packages\" /></a> <a href=\"https://i.stack.imgur.com/1CQ8a.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1CQ8a.png\" alt=\"Resource subfolders as folder\" /></a></p>\n"}],"owner":{"account_id":4103993,"reputation":53,"user_id":3368646,"display_name":"user3368646"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4042,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":22117293,"answer_count":2,"score":5,"last_activity_date":1676633800,"creation_date":1393690970,"question_id":22116913,"body_markdown":"When I&#39;m trying to create a folder structure in my Resources folder, Eclipse messes it up. \r\n\r\nFor example I have an image stored in `/Resources/Graphics/SomeFolder/example.gif` \r\n\r\nIn the `Package/Project Explorer` I have then an empty package `Graphics` and a different package called `Graphics.SomeFolder`. Now I can&#39;t load the image when I try to access is with the normal path.\r\n\r\n\r\n For clarification I created this folder structure `\\Resources\\graphics\\images\\subfolder\\image.gif` and this is what Eclipse makes of it:\r\n\r\n[![Screenshot][1]][1]  \n&lt;sub&gt;(source: [666kb.com](http://666kb.com/i/cm9j1lc3n76biybxp.gif))&lt;/sub&gt;  \n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fWTit.gif","title":"Why does Eclipse not allow me to create sub folders correctly?","body":"<p>When I'm trying to create a folder structure in my Resources folder, Eclipse messes it up. </p>\n\n<p>For example I have an image stored in <code>/Resources/Graphics/SomeFolder/example.gif</code> </p>\n\n<p>In the <code>Package/Project Explorer</code> I have then an empty package <code>Graphics</code> and a different package called <code>Graphics.SomeFolder</code>. Now I can't load the image when I try to access is with the normal path.</p>\n\n<p>For clarification I created this folder structure <code>\\Resources\\graphics\\images\\subfolder\\image.gif</code> and this is what Eclipse makes of it:</p>\n\n<p><a href=\"https://i.stack.imgur.com/fWTit.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fWTit.gif\" alt=\"Screenshot\"></a><br>\n<sub>(source: <a href=\"http://666kb.com/i/cm9j1lc3n76biybxp.gif\" rel=\"nofollow noreferrer\">666kb.com</a>)</sub>  </p>\n"},{"tags":["java","csv","opencsv","csvreader"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1676633235,"post_id":75483373,"comment_id":133181070,"body_markdown":"Example [right here](https://opencsv.sourceforge.net/apidocs/com/opencsv/CSVParserBuilder.html)","body":"Example <a href=\"https://opencsv.sourceforge.net/apidocs/com/opencsv/CSVParserBuilder.html\" rel=\"nofollow noreferrer\">right here</a>"}],"answers":[{"tags":[],"owner":{"account_id":9579337,"reputation":341,"user_id":7114363,"display_name":"Stratos K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676633722,"creation_date":1676633722,"answer_id":75483791,"question_id":75483373,"body_markdown":"With [g00se][1]&#39;s help, please see below the correct code:\r\n\r\n```\r\npublic class TestMain {\r\n    public static void parseTsv(String filePath) throws Exception {\r\n        try (CSVReader reader = new CSVReaderBuilder(new InputStreamReader(Objects.requireNonNull(TestMain.class.getResourceAsStream(filePath))))\r\n                .withCSVParser(new CSVParserBuilder().withSeparator(&#39;\\t&#39;).build())\r\n                .build()) {\r\n            String[] line;\r\n            while ((line = reader.readNext()) != null) {\r\n                System.out.println(line[0] + &quot; &quot; + line[1]);\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            parseTsv(&quot;path-to-tsv-file&quot;);\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/16376827/g00se","title":"Change delimiter in OpenCSV CSVReader","body":"<p>With <a href=\"https://stackoverflow.com/users/16376827/g00se\">g00se</a>'s help, please see below the correct code:</p>\n<pre><code>public class TestMain {\n    public static void parseTsv(String filePath) throws Exception {\n        try (CSVReader reader = new CSVReaderBuilder(new InputStreamReader(Objects.requireNonNull(TestMain.class.getResourceAsStream(filePath))))\n                .withCSVParser(new CSVParserBuilder().withSeparator('\\t').build())\n                .build()) {\n            String[] line;\n            while ((line = reader.readNext()) != null) {\n                System.out.println(line[0] + &quot; &quot; + line[1]);\n            }\n        }\n    }\n\n    public static void main(String[] args) {\n        try {\n            parseTsv(&quot;path-to-tsv-file&quot;);\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9579337,"reputation":341,"user_id":7114363,"display_name":"Stratos K"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":489,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676633722,"creation_date":1676631346,"question_id":75483373,"body_markdown":"I have the following piece of code which reads a CSV file.\r\n\r\n```\r\npublic class TestMain {\r\n    public static void parseTsv(String filePath) throws Exception {\r\n        try (CSVReader reader = new CSVReader(new InputStreamReader(Objects.requireNonNull(TestMain.class.getResourceAsStream(filePath))))) {\r\n            String[] line;\r\n            while ((line = reader.readNext()) != null) {\r\n                System.out.println(line[0] + &quot; &quot; + line[1]);\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            parseTsv(&quot;path-to-tsv-file&quot;);\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n```\r\nAnd I want to modify the delimiter so that it can read tsv files (tab-separated). Any help would be greatly appreciated!","title":"Change delimiter in OpenCSV CSVReader","body":"<p>I have the following piece of code which reads a CSV file.</p>\n<pre><code>public class TestMain {\n    public static void parseTsv(String filePath) throws Exception {\n        try (CSVReader reader = new CSVReader(new InputStreamReader(Objects.requireNonNull(TestMain.class.getResourceAsStream(filePath))))) {\n            String[] line;\n            while ((line = reader.readNext()) != null) {\n                System.out.println(line[0] + &quot; &quot; + line[1]);\n            }\n        }\n    }\n\n    public static void main(String[] args) {\n        try {\n            parseTsv(&quot;path-to-tsv-file&quot;);\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<p>And I want to modify the delimiter so that it can read tsv files (tab-separated). Any help would be greatly appreciated!</p>\n"},{"tags":["java","command-line","entity","dao"],"comments":[{"owner":{"account_id":95151,"reputation":14008,"user_id":259310,"accept_rate":25,"display_name":"Kilian Foth"},"score":0,"creation_date":1305186653,"post_id":5972659,"comment_id":6894772,"body_markdown":"Since the task is so small and well-defined, of course there are little tools which do exactly that. And many huge, expensive tools have an option/program/wizard to do the same. But I&#39;ve found that coming up with 30-50 lines of Perl is in fact much faster than finding the one tool that does it exactly the way you want. Since your colleagues already can&#39;t agree on tools, maybe writing your own tiny, adaptable script is the way to go.","body":"Since the task is so small and well-defined, of course there are little tools which do exactly that. And many huge, expensive tools have an option/program/wizard to do the same. But I&#39;ve found that coming up with 30-50 lines of Perl is in fact much faster than finding the one tool that does it exactly the way you want. Since your colleagues already can&#39;t agree on tools, maybe writing your own tiny, adaptable script is the way to go."}],"answers":[{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1305167182,"creation_date":1305167182,"answer_id":5972700,"question_id":5972659,"body_markdown":"Try Hibernate&#39;s hbm2ddl:\r\n\r\nhttp://docs.jboss.org/hibernate/core/3.3/reference/en/html/session-configuration.html\r\n\r\nLook for the `hibernate.hbm2ddl.auto` parameter.  It has a create option.\r\n\r\n","title":"Is there any command line tool that can generate Java entity classes from db (NOT Netbeans or Eclipse wizard)","body":"<p>Try Hibernate's hbm2ddl:</p>\n\n<p><a href=\"http://docs.jboss.org/hibernate/core/3.3/reference/en/html/session-configuration.html\" rel=\"nofollow\">http://docs.jboss.org/hibernate/core/3.3/reference/en/html/session-configuration.html</a></p>\n\n<p>Look for the <code>hibernate.hbm2ddl.auto</code> parameter.  It has a create option.</p>\n"},{"tags":[],"owner":{"account_id":5277974,"reputation":655,"user_id":4214215,"display_name":"rlopez"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1449795782,"creation_date":1417799672,"answer_id":27321252,"question_id":5972659,"body_markdown":"For **Eclipse users**, you should use an **Eclipse plugin** like &quot;Telosys Tools&quot; (http://marketplace.eclipse.org/content/telosys-tools )\r\n\r\nIt does what you want : connect to a database, retrieve the schema and \r\ngenerate any kind of source files like JPA entities\r\nSee tutorials : https://sites.google.com/site/telosystutorial/ \r\n\r\nJPA templates are here : https://github.com/telosys-tools/persistence-jpa-TT210-R2 ","title":"Is there any command line tool that can generate Java entity classes from db (NOT Netbeans or Eclipse wizard)","body":"<p>For <strong>Eclipse users</strong>, you should use an <strong>Eclipse plugin</strong> like \"Telosys Tools\" (<a href=\"http://marketplace.eclipse.org/content/telosys-tools\" rel=\"nofollow\">http://marketplace.eclipse.org/content/telosys-tools</a> )</p>\n\n<p>It does what you want : connect to a database, retrieve the schema and \ngenerate any kind of source files like JPA entities\nSee tutorials : <a href=\"https://sites.google.com/site/telosystutorial/\" rel=\"nofollow\">https://sites.google.com/site/telosystutorial/</a> </p>\n\n<p>JPA templates are here : <a href=\"https://github.com/telosys-tools/persistence-jpa-TT210-R2\" rel=\"nofollow\">https://github.com/telosys-tools/persistence-jpa-TT210-R2</a> </p>\n"},{"tags":[],"owner":{"account_id":5162992,"reputation":253,"user_id":4134019,"display_name":"Yevgeny Krasik"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1428822842,"creation_date":1428508988,"answer_id":29519703,"question_id":5972659,"body_markdown":"I found myself in a similar situation, and after searching around for quite a while, the only tool I found that supports this from the **command line** is [Apache OpenJPA][1].\r\n\r\nIt takes a bit of configuration to get it to work, but it seems to do the job.\r\nIt works like this:\r\n\r\n 1. Create a .xml file from your existing DB schema using the [Schema Tool][2].\r\n 2. Optionally edit the generated xml to your liking (I run this whole process through a Gradle task, so I used Groovy to delete some unwanted tables from the schema)\r\n 3. Generate JPA entity classes from the .xml using the Reverse Mapping Tool (don&#39;t have enough reputation to post more then 2 links, sorry). This tool can also take an optional customizer class that you can use to further customize the generated code.\r\n\r\nEven though the documentation for these tools states that it is enough to have a properties.xml file on your classpath to make them work, for me they only worked when I explicitly pointed them to a file with the &#39;-properties&#39; arg.\r\n\r\nAnd here are some code snippets to save anyone reading this some time. This was tested with OpenJPA 2.3.0:\r\n\r\n**Generate schema xml** (from a MSSQL DB in my case, hence the driver is on the classpath):\r\n\r\n    java -cp openjpa-all-2.3.0.jar;sqljdbc4.jar org.apache.openjpa.jdbc.schema.SchemaTool -properties openjpa.xml -action reflect -file schema.xml\r\n\r\n**Generate entities from xml**:\r\n\r\n    java -cp openjpa-all-2.3.0.jar org.apache.openjpa.jdbc.meta.ReverseMappingTool -properties openjpa.xml -metadata none -annotations true -nullableAsObject true -useGenericCollections true -pkg {your package} -directory {output directory} schema.xml\r\n\r\n**Sample openjpa.xml** (Again, for a MSSQL DB):\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;persistence xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; version=&quot;1.0&quot;&gt;\r\n      &lt;persistence-unit name=&quot;Gaya STG&quot;&gt;\r\n        &lt;properties&gt;\r\n          &lt;property name=&quot;openjpa.ConnectionURL&quot; value=&quot;jdbc:sqlserver://{ip}&quot;/&gt;\r\n          &lt;property name=&quot;openjpa.ConnectionDriverName&quot; value=&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;/&gt;\r\n          &lt;property name=&quot;openjpa.ConnectionUserName&quot; value=&quot;{username}&quot;/&gt;\r\n          &lt;property name=&quot;openjpa.ConnectionPassword&quot; value=&quot;{pass}&quot;/&gt;\r\n          &lt;property name=&quot;openjpa.Log&quot; value=&quot;DefaultLevel=WARN, Tool=INFO&quot;/&gt;\r\n        &lt;/properties&gt;\r\n      &lt;/persistence-unit&gt;\r\n    &lt;/persistence&gt;\r\n\r\n**Sample build.gradle file that contains all the above as tasks** (Again, for a MSSQL DB):\r\n\r\n    import java.util.regex.Pattern\r\n\r\n    apply plugin: &#39;java&#39;\r\n\r\n    dependencies {\r\n        compile &quot;org.apache.openjpa:openjpa-all:2.3.0&quot;\r\n        compile &quot;sqljdbc4:sqljdbc4:sqljdbc4&quot;\r\n    }\r\n\r\n    task cleanSchemaXml(type: Delete) {\r\n        delete file(&quot;schema.xml&quot;)\r\n    }\r\n\r\n    task generateSchemaXml(type: JavaExec, dependsOn: cleanSchemaXml) {\r\n        classpath = configurations.compile\r\n        main = &quot;org.apache.openjpa.jdbc.schema.SchemaTool&quot;\r\n        args &quot;-properties&quot;, getPropertiesFile(),\r\n             &quot;-action&quot;, &quot;reflect&quot;,\r\n             &quot;-file&quot;, &quot;schema.xml&quot;\r\n\r\n        doFirst {\r\n            println &quot;Generating schema.xml...&quot;\r\n        }\r\n\r\n        doLast {\r\n            println &quot;Done generating schema.xml.&quot;\r\n            println &quot;Updating schema.xml...&quot;\r\n            updateSchema()\r\n            println &quot;Done updating schema.xml.&quot;\r\n        }\r\n    }\r\n\r\n    task cleanEntities(type: Delete) {\r\n        delete fileTree(dir: &quot;{path/to/your/entities}&quot;)\r\n    }\r\n\r\n    task generateEntities(type: JavaExec, dependsOn: [cleanEntities, clean,  generateSchemaXml, jar]) {\r\n        classpath = files(configurations.compile, jar.archivePath)  // Add this module&#39;s jar to the executed classpath, so we can use the EntityCustomizer (which is assumed to be in this module).\r\n        main = &quot;org.apache.openjpa.jdbc.meta.ReverseMappingTool&quot;\r\n        args &quot;-metadata&quot;, &quot;none&quot;,\r\n             &quot;-annotations&quot;, &quot;true&quot;,\r\n             &quot;-nullableAsObject&quot;, &quot;true&quot;,\r\n             &quot;-useGenericCollections&quot;, &quot;true&quot;,\r\n             &quot;-properties&quot;, getPropertiesFile(),\r\n    //        &quot;-customizerClass&quot;, &quot;{path.to.your.EntityCustomizer}&quot;,\r\n             &quot;-directory&quot;, &quot;{path/to/your/entities}&quot;,\r\n             &quot;-pkg&quot;, &quot;{your.entity.package}&quot;,\r\n             &quot;schema.xml&quot;\r\n\r\n        doFirst {\r\n            println &quot;Generating entity classes from schema.xml...&quot;\r\n        }\r\n\r\n        doLast {\r\n            println &quot;Done generating entity classes.&quot;\r\n        }\r\n    }\r\n\r\n    private String getPropertiesFile() {\r\n        // File is read directly from the file-system, will not work from a Jar.\r\n        return file(&quot;src/main/resources/openjpa.xml&quot;).getAbsolutePath()\r\n    }\r\n\r\n    private void updateSchema() {\r\n        // Only this schema will be kept.\r\n        final def schemasToKeep = [&#39;dbo&#39;]\r\n\r\n        // These tables will be removed from the .xml\r\n        final def tablesToRemove = [\r\n            &#39;ReplicationMonitor&#39;, &#39;DDLEvents&#39;, &#39;AuditTrail&#39;, &#39;AuditTrailErrorLog&#39;, &#39;sysdiagrams&#39;, &#39;table_relations&#39;,\r\n            &#39;tasks_queue&#39;, &#39;tasks_queue_archive&#39;,\r\n            &#39;.*history&#39;    // Remove all tables ending with &#39;history&#39;.\r\n        ].collect { Pattern.compile(it) }\r\n\r\n        final File xmlFile = file(&#39;schema.xml&#39;)\r\n\r\n        // Read xml.\r\n        final def xml = new XmlParser().parse(xmlFile)\r\n\r\n        // Remove all unnecessary schemas.\r\n        filterSchemas(xml, schemasToKeep)\r\n\r\n        // Remove all unnecessary tables.\r\n        filterTables(xml, tablesToRemove)\r\n\r\n        // Save updated xml file.\r\n        new XmlNodePrinter(new PrintWriter(new FileWriter(xmlFile))).print(xml)\r\n    }\r\n\r\n    private void filterSchemas(Node xml, List&lt;String&gt; schemasToKeep) {\r\n        final List&lt;Node&gt; removedSchemas = []\r\n        xml.each { schema -&gt;\r\n            final String name = schema.@name\r\n            if (!schemasToKeep.contains(name)) {\r\n                println(&quot;Removing schema: $name&quot;)\r\n                removedSchemas += schema\r\n            }\r\n        }\r\n        removedSchemas.each { xml.remove(it) }\r\n    }\r\n\r\n    private void filterTables(Node xml, List&lt;Pattern&gt; tablesToRemove) {\r\n        xml.each { schema -&gt;\r\n            final List&lt;Node&gt; removedTables = []\r\n            schema.each { table -&gt;\r\n                final String name = table.@name\r\n                if (tablesToRemove.any { it.matcher(name).matches() }) {\r\n                    println(&quot;Removing table: $name&quot;)\r\n                    removedTables += table\r\n                }\r\n            }\r\n            removedTables.each { schema.remove(it) }\r\n        }\r\n    }\r\n\r\n  [1]: http://openjpa.apache.org/\r\n  [2]: http://openjpa.apache.org/builds/1.2.3/apache-openjpa/docs/ref_guide_schema_schematool.html","title":"Is there any command line tool that can generate Java entity classes from db (NOT Netbeans or Eclipse wizard)","body":"<p>I found myself in a similar situation, and after searching around for quite a while, the only tool I found that supports this from the <strong>command line</strong> is <a href=\"http://openjpa.apache.org/\" rel=\"noreferrer\">Apache OpenJPA</a>.</p>\n\n<p>It takes a bit of configuration to get it to work, but it seems to do the job.\nIt works like this:</p>\n\n<ol>\n<li>Create a .xml file from your existing DB schema using the <a href=\"http://openjpa.apache.org/builds/1.2.3/apache-openjpa/docs/ref_guide_schema_schematool.html\" rel=\"noreferrer\">Schema Tool</a>.</li>\n<li>Optionally edit the generated xml to your liking (I run this whole process through a Gradle task, so I used Groovy to delete some unwanted tables from the schema)</li>\n<li>Generate JPA entity classes from the .xml using the Reverse Mapping Tool (don't have enough reputation to post more then 2 links, sorry). This tool can also take an optional customizer class that you can use to further customize the generated code.</li>\n</ol>\n\n<p>Even though the documentation for these tools states that it is enough to have a properties.xml file on your classpath to make them work, for me they only worked when I explicitly pointed them to a file with the '-properties' arg.</p>\n\n<p>And here are some code snippets to save anyone reading this some time. This was tested with OpenJPA 2.3.0:</p>\n\n<p><strong>Generate schema xml</strong> (from a MSSQL DB in my case, hence the driver is on the classpath):</p>\n\n<pre><code>java -cp openjpa-all-2.3.0.jar;sqljdbc4.jar org.apache.openjpa.jdbc.schema.SchemaTool -properties openjpa.xml -action reflect -file schema.xml\n</code></pre>\n\n<p><strong>Generate entities from xml</strong>:</p>\n\n<pre><code>java -cp openjpa-all-2.3.0.jar org.apache.openjpa.jdbc.meta.ReverseMappingTool -properties openjpa.xml -metadata none -annotations true -nullableAsObject true -useGenericCollections true -pkg {your package} -directory {output directory} schema.xml\n</code></pre>\n\n<p><strong>Sample openjpa.xml</strong> (Again, for a MSSQL DB):</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;persistence xmlns=\"http://java.sun.com/xml/ns/persistence\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" version=\"1.0\"&gt;\n  &lt;persistence-unit name=\"Gaya STG\"&gt;\n    &lt;properties&gt;\n      &lt;property name=\"openjpa.ConnectionURL\" value=\"jdbc:sqlserver://{ip}\"/&gt;\n      &lt;property name=\"openjpa.ConnectionDriverName\" value=\"com.microsoft.sqlserver.jdbc.SQLServerDriver\"/&gt;\n      &lt;property name=\"openjpa.ConnectionUserName\" value=\"{username}\"/&gt;\n      &lt;property name=\"openjpa.ConnectionPassword\" value=\"{pass}\"/&gt;\n      &lt;property name=\"openjpa.Log\" value=\"DefaultLevel=WARN, Tool=INFO\"/&gt;\n    &lt;/properties&gt;\n  &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n\n<p><strong>Sample build.gradle file that contains all the above as tasks</strong> (Again, for a MSSQL DB):</p>\n\n<pre><code>import java.util.regex.Pattern\n\napply plugin: 'java'\n\ndependencies {\n    compile \"org.apache.openjpa:openjpa-all:2.3.0\"\n    compile \"sqljdbc4:sqljdbc4:sqljdbc4\"\n}\n\ntask cleanSchemaXml(type: Delete) {\n    delete file(\"schema.xml\")\n}\n\ntask generateSchemaXml(type: JavaExec, dependsOn: cleanSchemaXml) {\n    classpath = configurations.compile\n    main = \"org.apache.openjpa.jdbc.schema.SchemaTool\"\n    args \"-properties\", getPropertiesFile(),\n         \"-action\", \"reflect\",\n         \"-file\", \"schema.xml\"\n\n    doFirst {\n        println \"Generating schema.xml...\"\n    }\n\n    doLast {\n        println \"Done generating schema.xml.\"\n        println \"Updating schema.xml...\"\n        updateSchema()\n        println \"Done updating schema.xml.\"\n    }\n}\n\ntask cleanEntities(type: Delete) {\n    delete fileTree(dir: \"{path/to/your/entities}\")\n}\n\ntask generateEntities(type: JavaExec, dependsOn: [cleanEntities, clean,  generateSchemaXml, jar]) {\n    classpath = files(configurations.compile, jar.archivePath)  // Add this module's jar to the executed classpath, so we can use the EntityCustomizer (which is assumed to be in this module).\n    main = \"org.apache.openjpa.jdbc.meta.ReverseMappingTool\"\n    args \"-metadata\", \"none\",\n         \"-annotations\", \"true\",\n         \"-nullableAsObject\", \"true\",\n         \"-useGenericCollections\", \"true\",\n         \"-properties\", getPropertiesFile(),\n//        \"-customizerClass\", \"{path.to.your.EntityCustomizer}\",\n         \"-directory\", \"{path/to/your/entities}\",\n         \"-pkg\", \"{your.entity.package}\",\n         \"schema.xml\"\n\n    doFirst {\n        println \"Generating entity classes from schema.xml...\"\n    }\n\n    doLast {\n        println \"Done generating entity classes.\"\n    }\n}\n\nprivate String getPropertiesFile() {\n    // File is read directly from the file-system, will not work from a Jar.\n    return file(\"src/main/resources/openjpa.xml\").getAbsolutePath()\n}\n\nprivate void updateSchema() {\n    // Only this schema will be kept.\n    final def schemasToKeep = ['dbo']\n\n    // These tables will be removed from the .xml\n    final def tablesToRemove = [\n        'ReplicationMonitor', 'DDLEvents', 'AuditTrail', 'AuditTrailErrorLog', 'sysdiagrams', 'table_relations',\n        'tasks_queue', 'tasks_queue_archive',\n        '.*history'    // Remove all tables ending with 'history'.\n    ].collect { Pattern.compile(it) }\n\n    final File xmlFile = file('schema.xml')\n\n    // Read xml.\n    final def xml = new XmlParser().parse(xmlFile)\n\n    // Remove all unnecessary schemas.\n    filterSchemas(xml, schemasToKeep)\n\n    // Remove all unnecessary tables.\n    filterTables(xml, tablesToRemove)\n\n    // Save updated xml file.\n    new XmlNodePrinter(new PrintWriter(new FileWriter(xmlFile))).print(xml)\n}\n\nprivate void filterSchemas(Node xml, List&lt;String&gt; schemasToKeep) {\n    final List&lt;Node&gt; removedSchemas = []\n    xml.each { schema -&gt;\n        final String name = schema.@name\n        if (!schemasToKeep.contains(name)) {\n            println(\"Removing schema: $name\")\n            removedSchemas += schema\n        }\n    }\n    removedSchemas.each { xml.remove(it) }\n}\n\nprivate void filterTables(Node xml, List&lt;Pattern&gt; tablesToRemove) {\n    xml.each { schema -&gt;\n        final List&lt;Node&gt; removedTables = []\n        schema.each { table -&gt;\n            final String name = table.@name\n            if (tablesToRemove.any { it.matcher(name).matches() }) {\n                println(\"Removing table: $name\")\n                removedTables += table\n            }\n        }\n        removedTables.each { schema.remove(it) }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2360942,"reputation":2352,"user_id":2067631,"display_name":"lgu"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1676633590,"creation_date":1518622256,"answer_id":48790773,"question_id":5972659,"body_markdown":"You can use the CLI (Command Line Interface) version of the **Telosys Code Generator** \r\n\r\nSee https://www.telosys.org/cli.html  \r\n\r\nDocumentation :  https://doc.telosys.org/\r\n\r\nThis tool can be used in association with any kind of IDE \r\n","title":"Is there any command line tool that can generate Java entity classes from db (NOT Netbeans or Eclipse wizard)","body":"<p>You can use the CLI (Command Line Interface) version of the <strong>Telosys Code Generator</strong></p>\n<p>See <a href=\"https://www.telosys.org/cli.html\" rel=\"nofollow noreferrer\">https://www.telosys.org/cli.html</a></p>\n<p>Documentation :  <a href=\"https://doc.telosys.org/\" rel=\"nofollow noreferrer\">https://doc.telosys.org/</a></p>\n<p>This tool can be used in association with any kind of IDE</p>\n"}],"owner":{"account_id":130402,"reputation":395,"user_id":329639,"accept_rate":50,"display_name":"N. Q. P"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6681,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":4,"score":15,"last_activity_date":1676633590,"creation_date":1305166466,"question_id":5972659,"body_markdown":"I used to use Netbeans wizard (version 6.7.1) to generate entity classes from database. Now I want to look for an independent tool (script, command line tool...) that can do the same task, because some developers in my team use Eclipse instead of Netbeans, or Netbeans but of different version (ie 6.9.1 or 7.0...), and those IDE generate entity classes in different ways. \r\n\r\nUp to now I haven&#39;t found any independent tool like that. Maybe I have missed something. If you know one, please tell me. I appreciate that so much.\r\n\r\n","title":"Is there any command line tool that can generate Java entity classes from db (NOT Netbeans or Eclipse wizard)","body":"<p>I used to use Netbeans wizard (version 6.7.1) to generate entity classes from database. Now I want to look for an independent tool (script, command line tool...) that can do the same task, because some developers in my team use Eclipse instead of Netbeans, or Netbeans but of different version (ie 6.9.1 or 7.0...), and those IDE generate entity classes in different ways. </p>\n\n<p>Up to now I haven't found any independent tool like that. Maybe I have missed something. If you know one, please tell me. I appreciate that so much.</p>\n"},{"tags":["java","spring-boot","okta"],"comments":[{"owner":{"account_id":3979621,"reputation":2003,"user_id":3281886,"accept_rate":60,"display_name":"Philipp Grigoryev"},"score":0,"creation_date":1676469333,"post_id":75459753,"comment_id":133142529,"body_markdown":"Do you mind to show the resulting request (without authorization header)? It might help to figure what&#39;s wrong with it. If you are doing that in Postman you should be able just get a cURL command for your request","body":"Do you mind to show the resulting request (without authorization header)? It might help to figure what&#39;s wrong with it. If you are doing that in Postman you should be able just get a cURL command for your request"},{"owner":{"account_id":27792788,"reputation":11,"user_id":21218914,"display_name":"Leon Winter"},"score":0,"creation_date":1676470144,"post_id":75459753,"comment_id":133142821,"body_markdown":"curl --location &#39;https://dev-61814681.okta.com/oauth2/default/v1/token&#39; \\\n--header &#39;accept: application/json&#39; \\\n--header &#39;cache-control: no-cache&#39; \\\n--header &#39;content-type: application/x-www-form-urlencoded&#39; \\\n--header &#39;Authorization: Basic MG9h[...]OQ==&#39; \\\n--header &#39;Cookie: DT=DI1tM8NGUbgTbO9pYl_O16rEA; JSESSIONID=C1CEE3CAB5B197C225A8928586850E9E; t=default&#39; \\\n--data-urlencode &#39;grant_type=client_credentials&#39; \\\n--data-urlencode &#39;scope=MyDefault&#39;","body":"curl --location &#39;<a href=\"https://dev-61814681.okta.com/oauth2/default/v1/token\" rel=\"nofollow noreferrer\">dev-61814681.okta.com/oauth2/default/v1/token</a>&#39; \\ --header &#39;accept: application/json&#39; \\ --header &#39;cache-control: no-cache&#39; \\ --header &#39;content-type: application/x-www-form-urlencoded&#39; \\ --header &#39;Authorization: Basic MG9h[...]OQ==&#39; \\ --header &#39;Cookie: DT=DI1tM8NGUbgTbO9pYl_O16rEA; JSESSIONID=C1CEE3CAB5B197C225A8928586850E9E; t=default&#39; \\ --data-urlencode &#39;grant_type=client_credentials&#39; \\ --data-urlencode &#39;scope=MyDefault&#39;"},{"owner":{"account_id":27792788,"reputation":11,"user_id":21218914,"display_name":"Leon Winter"},"score":0,"creation_date":1676470179,"post_id":75459753,"comment_id":133142833,"body_markdown":"&lt;html&gt;\n&lt;head&gt;&lt;title&gt;400 Bad Request&lt;/title&gt;&lt;/head&gt;\n&lt;body&gt;\n&lt;center&gt;&lt;h1&gt;400 Bad Request&lt;/h1&gt;&lt;/center&gt;\n&lt;/body&gt;\n&lt;/html&gt;","body":"&lt;html&gt; &lt;head&gt;&lt;title&gt;400 Bad Request&lt;/title&gt;&lt;/head&gt; &lt;body&gt; &lt;center&gt;&lt;h1&gt;400 Bad Request&lt;/h1&gt;&lt;/center&gt; &lt;/body&gt; &lt;/html&gt;"}],"answers":[{"tags":[],"owner":{"account_id":12926276,"reputation":742,"user_id":9346879,"display_name":"Kreetchy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676463964,"creation_date":1676463964,"answer_id":75459779,"question_id":75459753,"body_markdown":"It should be `grant-type` instead of what you wrote (grand-type).\r\n\r\nAlso, make sure you have defined the &quot;MyDefault&quot; scope in your Okta API app and that it has the necessary permissions for your client to access the endpoints it requires.\r\n\r\nHopefully the typo fixes the issue in this case.","title":"Not able to get an access token for my okta api service via postman","body":"<p>It should be <code>grant-type</code> instead of what you wrote (grand-type).</p>\n<p>Also, make sure you have defined the &quot;MyDefault&quot; scope in your Okta API app and that it has the necessary permissions for your client to access the endpoints it requires.</p>\n<p>Hopefully the typo fixes the issue in this case.</p>\n"},{"tags":[],"owner":{"account_id":27792788,"reputation":11,"user_id":21218914,"display_name":"Leon Winter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676472891,"creation_date":1676472891,"answer_id":75461605,"question_id":75459753,"body_markdown":"I was able to solve my problem by doing the following:\r\n\r\nI took the cURL pictured at &lt;https://developer.okta.com/docs/guides/implement-grant-type/clientcreds/main/#request-for-token&gt;\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAfter that I inserted my Okta domain, added my authorization (client id and client secret written in the same line seperated by &#39;:&#39; and encoded as base64) and updated the scope from customScope to my own custom scope.\r\n\r\nI imported all of that into postman by pressing the import button and inserting the raw text.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/t8int.png\r\n  [2]: https://i.stack.imgur.com/xriPa.png\r\n\r\nNow everithing works fine.","title":"Not able to get an access token for my okta api service via postman","body":"<p>I was able to solve my problem by doing the following:</p>\n<p>I took the cURL pictured at <a href=\"https://developer.okta.com/docs/guides/implement-grant-type/clientcreds/main/#request-for-token\" rel=\"nofollow noreferrer\">https://developer.okta.com/docs/guides/implement-grant-type/clientcreds/main/#request-for-token</a></p>\n<p><a href=\"https://i.stack.imgur.com/xriPa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xriPa.png\" alt=\"enter image description here\" /></a></p>\n<p>After that I inserted my Okta domain, added my authorization (client id and client secret written in the same line seperated by ':' and encoded as base64) and updated the scope from customScope to my own custom scope.</p>\n<p>I imported all of that into postman by pressing the import button and inserting the raw text.</p>\n<p><a href=\"https://i.stack.imgur.com/t8int.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/t8int.png\" alt=\"enter image description here\" /></a></p>\n<p>Now everithing works fine.</p>\n"}],"owner":{"account_id":27792788,"reputation":11,"user_id":21218914,"display_name":"Leon Winter"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":957,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75461605,"answer_count":2,"score":1,"last_activity_date":1676633575,"creation_date":1676463796,"question_id":75459753,"body_markdown":"I&#39;m writing a spring boot backend in java which endpoints are secured by okta.&lt;br/&gt;\r\nThe application uses the okta api service app integration since only the frontend and never a user is retreiving data from it.\r\n\r\nTo get a valid access token from the okta api I followed these steps: &lt;https://developer.okta.com/docs/guides/implement-grant-type/clientcreds/main/#request-for-token&gt;\r\n\r\nSadly all my attempts result in an error.\r\n\r\nMy postman configuration:\r\n\r\nOkta api endpoint:&lt;br/&gt;\r\n&lt;https://dev-61814681.okta.com/oauth2/default/v1/token&gt;\r\n\r\nAuthentication method:&lt;br/&gt;\r\nBasic auth with client id as username and client secret as password&lt;br/&gt;\r\n\r\nHeaders:&lt;br/&gt;\r\n```\r\naccept = application/json\r\ncache-control = no-cache\r\ncontent-type = application/x-www-form-urlencoded\r\n```\r\n\r\nBody:&lt;br/&gt;\r\n```\r\ngrant-type = client_credentials\r\nscope = MyDefault\r\n```\r\n\r\nThe response:\r\n400 bad request\r\n\r\nIt would be nice if someone could push me in the right direction with this one.","title":"Not able to get an access token for my okta api service via postman","body":"<p>I'm writing a spring boot backend in java which endpoints are secured by okta.<br/>\nThe application uses the okta api service app integration since only the frontend and never a user is retreiving data from it.</p>\n<p>To get a valid access token from the okta api I followed these steps: <a href=\"https://developer.okta.com/docs/guides/implement-grant-type/clientcreds/main/#request-for-token\" rel=\"nofollow noreferrer\">https://developer.okta.com/docs/guides/implement-grant-type/clientcreds/main/#request-for-token</a></p>\n<p>Sadly all my attempts result in an error.</p>\n<p>My postman configuration:</p>\n<p>Okta api endpoint:<br/>\n<a href=\"https://dev-61814681.okta.com/oauth2/default/v1/token\" rel=\"nofollow noreferrer\">https://dev-61814681.okta.com/oauth2/default/v1/token</a></p>\n<p>Authentication method:<br/>\nBasic auth with client id as username and client secret as password<br/></p>\n<p>Headers:<br/></p>\n<pre><code>accept = application/json\ncache-control = no-cache\ncontent-type = application/x-www-form-urlencoded\n</code></pre>\n<p>Body:<br/></p>\n<pre><code>grant-type = client_credentials\nscope = MyDefault\n</code></pre>\n<p>The response:\n400 bad request</p>\n<p>It would be nice if someone could push me in the right direction with this one.</p>\n"},{"tags":["java","android","android-relativelayout","android-glide"],"owner":{"account_id":7099472,"reputation":361,"user_id":5431673,"accept_rate":40,"display_name":"God Usopp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676633528,"creation_date":1676611726,"question_id":75480563,"body_markdown":"I have been trying to use Glide to apply a blur transformation to the background image of a RelativeLayout. The Request options and transition don&#39;t seem to apply properly to this SimpleTarget. I know this is now deprecated but they still don&#39;t apply to a CustomTarget or Target. Do I need to specify these somewhere else? I have found threads with other people who have had this problem but an answer isn&#39;t provided.\r\n```\r\nRequestOptions ro;\r\n        if(settings.getBoolean(&quot;bgOptions&quot;, true))\r\n            ro = requestOptionsTransparent;\r\n        else\r\n            ro = requestOptionsBlur;\r\n        Glide.with(getApplicationContext()).load(getResources().getDrawable(R.drawable.splash)).transition(withCrossFade(2000)).apply(ro).override(screenWidth, screenHeight).diskCacheStrategy(DiskCacheStrategy.NONE).skipMemoryCache(true).centerCrop().into(new SimpleTarget&lt;Drawable&gt;() {\r\n            @Override\r\n            public void onResourceReady(Drawable resource, Transition&lt;? super Drawable&gt; transition) {\r\n                rL.setBackground(resource);\r\n            }\r\n        });\r\n```\r\n\r\n```\r\nRequestOptions requestOptionsTransparent = new RequestOptions();\r\nRequestOptions requestOptionsBlur = new RequestOptions().transform(new BlurTransformation(22, 3));\r\n```\r\n\r\nInstead, this always shows the same image that it would if &quot;bgOptions&quot; is transparent. The image isn&#39;t blurred if &quot;bgOptions&quot; is false. ","title":"Does Glide have issues with applying transitions or transformations on a SimpleTarget, CustomTarget, or Target?","body":"<p>I have been trying to use Glide to apply a blur transformation to the background image of a RelativeLayout. The Request options and transition don't seem to apply properly to this SimpleTarget. I know this is now deprecated but they still don't apply to a CustomTarget or Target. Do I need to specify these somewhere else? I have found threads with other people who have had this problem but an answer isn't provided.</p>\n<pre><code>RequestOptions ro;\n        if(settings.getBoolean(&quot;bgOptions&quot;, true))\n            ro = requestOptionsTransparent;\n        else\n            ro = requestOptionsBlur;\n        Glide.with(getApplicationContext()).load(getResources().getDrawable(R.drawable.splash)).transition(withCrossFade(2000)).apply(ro).override(screenWidth, screenHeight).diskCacheStrategy(DiskCacheStrategy.NONE).skipMemoryCache(true).centerCrop().into(new SimpleTarget&lt;Drawable&gt;() {\n            @Override\n            public void onResourceReady(Drawable resource, Transition&lt;? super Drawable&gt; transition) {\n                rL.setBackground(resource);\n            }\n        });\n</code></pre>\n<pre><code>RequestOptions requestOptionsTransparent = new RequestOptions();\nRequestOptions requestOptionsBlur = new RequestOptions().transform(new BlurTransformation(22, 3));\n</code></pre>\n<p>Instead, this always shows the same image that it would if &quot;bgOptions&quot; is transparent. The image isn't blurred if &quot;bgOptions&quot; is false.</p>\n"},{"tags":["java","spring","spring-boot","rest"],"comments":[{"owner":{"account_id":3958776,"reputation":898,"user_id":3266467,"accept_rate":100,"display_name":"Sebastian"},"score":1,"creation_date":1676542735,"post_id":75470694,"comment_id":133159413,"body_markdown":"Could you add the stacktrace from the error?","body":"Could you add the stacktrace from the error?"},{"owner":{"account_id":18810786,"reputation":556,"user_id":13719014,"display_name":"Innomight"},"score":0,"creation_date":1676543503,"post_id":75470694,"comment_id":133159696,"body_markdown":"@Sebastian https://filetransfer.io/data-package/iDvzEIpi#link here is the stacktrace","body":"@Sebastian <a href=\"https://filetransfer.io/data-package/iDvzEIpi#link\" rel=\"nofollow noreferrer\">filetransfer.io/data-package/iDvzEIpi#link</a> here is the stacktrace"},{"owner":{"account_id":3004867,"reputation":715,"user_id":2549581,"accept_rate":0,"display_name":"vs_lala"},"score":1,"creation_date":1676551870,"post_id":75470694,"comment_id":133162111,"body_markdown":"UserList is immutable under `UserServiceImpl`. Create list using `new ArrayList&lt;&gt;();`","body":"UserList is immutable under <code>UserServiceImpl</code>. Create list using <code>new ArrayList&lt;&gt;();</code>"}],"answers":[{"tags":[],"owner":{"account_id":6715571,"reputation":4013,"user_id":5177506,"display_name":"hunter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676546312,"creation_date":1676546312,"answer_id":75471504,"question_id":75470694,"body_markdown":"Stack trace has all the information you are looking for. `UserServiceImple.addUser` tries to add an object to the `userList` . but `userList` is an immutable list. so it throws exception. code flows to &quot;catch&quot; block and it returns 500 with newly created object.","title":"Internal Server Error on Post Request Spring Boot [Java]","body":"<p>Stack trace has all the information you are looking for. <code>UserServiceImple.addUser</code> tries to add an object to the <code>userList</code> . but <code>userList</code> is an immutable list. so it throws exception. code flows to &quot;catch&quot; block and it returns 500 with newly created object.</p>\n"},{"tags":[],"owner":{"account_id":18135565,"reputation":21,"user_id":13190150,"display_name":"Ahmed Eldeeb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676547044,"creation_date":1676547044,"answer_id":75471641,"question_id":75470694,"body_markdown":"In my opinion That&#39;s happens because \r\nwhen U use List.of it equals to \r\n**Collections.unmodifiableList** so it will throw an exception as Its Immutable.","title":"Internal Server Error on Post Request Spring Boot [Java]","body":"<p>In my opinion That's happens because\nwhen U use List.of it equals to\n<strong>Collections.unmodifiableList</strong> so it will throw an exception as Its Immutable.</p>\n"}],"owner":{"account_id":18810786,"reputation":556,"user_id":13719014,"display_name":"Innomight"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":279,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75471504,"answer_count":2,"score":0,"last_activity_date":1676633243,"creation_date":1676542196,"question_id":75470694,"body_markdown":"I am trying to send a post request to add an User object to the list of users (no database).\r\ngetUser, getAllUsers Api endpoints are working fine and giving desired results.\r\n\r\nWhen I send a Post request with User, it is always giving 500 Internal Server Error.\r\n\r\nI have also printed out the User and data is fine.\r\n\r\nBelow is my code - \r\n\r\nUser Entity (User.java) -\r\n\r\n    public class User {\r\n    \r\n    \t\r\n    \tprivate Integer userId;\r\n    \t\r\n    \tprivate String name;\r\n    \tprivate String email;\r\n    \t\r\n    \tprivate Account account;\r\n\r\nGetters and Setters along with constructors are also there.\r\n\r\nMy User Service and its implementation - \r\n\r\nUserService.java - \r\n\r\n    @Service\r\n    public interface UserService {\r\n    \tpublic User getUser(Integer userId);\r\n    \tpublic List&lt;User&gt; getAllUsers();\r\n    \t&lt;T&gt; ResponseEntity&lt;T&gt; deleteUser(Integer userId);\r\n    \t&lt;T&gt; ResponseEntity&lt;User&gt; addUser(User user);\r\n    \t\r\n    }\r\n\r\nUserServiceImpl.java\r\n\r\n    @Service\r\n    public class UserServiceImpl implements UserService{\r\n    \tList&lt;User&gt; userList = List.of(\r\n    \t\t\tnew User(1311, &quot;Vaibhav Shrivastava&quot;, &quot;innomightmail@gmail.com&quot;),\r\n    \t\t\tnew User(1312, &quot;Varun Shrivastava&quot;, &quot;varun@gmail.com&quot;),\r\n    \t\t\tnew User(1313, &quot;Rajesh Shrivastava&quot;, &quot;rajesh@gmail.com&quot;)\r\n    \t\t);\r\n    \t\r\n    \t@Override\r\n    \tpublic User getUser(Integer id) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tSystem.out.println(this.userList.stream().filter(user -&gt; user.getUserId().equals(id)).findAny().orElse(null));\r\n    \t\treturn this.userList.stream().filter(user -&gt; user.getUserId().equals(id)).findAny().orElse(null);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic List&lt;User&gt; getAllUsers() {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn userList;\r\n    \t}\r\n    \r\n    \t\r\n    \t@Override\r\n    \tpublic &lt;T&gt; ResponseEntity&lt;User&gt; addUser(User user) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t\tuserList.add(user);\r\n    \t\treturn new ResponseEntity&lt;User&gt;((User)user, HttpStatus.OK);\r\n    \t\t\r\n    \t}\r\n\r\nController (UserController.java) -\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/user&quot;)\r\n    public class UserController {\r\n    \t\r\n\t@Autowired\r\n\tprivate UserService userService;\r\n\t\r\n\t@Autowired\r\n\tprivate RestTemplate restTemplate;\r\n\t\r\n\t@GetMapping(&quot;/{userId}&quot;)\r\n\tpublic User getUser(@PathVariable(&quot;userId&quot;) Integer userId) {\r\n\t\tUser user = this.userService.getUser(userId);\r\n\t\tAccount account = this.restTemplate.getForObject(&quot;http://account-service/account/user/&quot; + user.getUserId(), Account.class);\r\n\t\t\r\n\t\tuser.setAccount(account);\r\n\t\t\r\n\t\treturn user;\r\n\t\t\r\n\t}\r\n\t\r\n\t@GetMapping(&quot;/all-users&quot;)\r\n\tpublic List&lt;User&gt; getAllUsers(){\r\n\t\treturn this.userService.getAllUsers();\r\n\t}\r\n\t\r\n\t@PostMapping(&quot;/add-user&quot;)\r\n\tpublic ResponseEntity&lt;Object&gt; addUser(@RequestBody User user) {\r\n\t\ttry {\r\n\t\t\t  User newUser = new User(user.getUserId(), user.getName(), user.getEmail());\r\n\t\t      this.userService.addUser(newUser);\r\n\t\t      return new ResponseEntity&lt;&gt;(user, HttpStatus.CREATED);\r\n\t\t    } catch (Exception e) {\r\n\t\t      User newUser = new User(user.getUserId(), user.getName(), user.getEmail());\r\n\t\t      return new ResponseEntity&lt;&gt;(newUser, HttpStatus.INTERNAL_SERVER_ERROR);\r\n\t\t    }\r\n\t\t\r\n\t}\r\n\r\n**getUser and getAllUsers are working fine (dont get confused by account in getUser that is my another microservice)**\r\n\r\nWhen I am sending Post request using postman -\r\n\r\n    {\r\n        &quot;userId&quot;: 1314,\r\n        &quot;name&quot;: &quot;James&quot;,\r\n        &quot;email&quot;: &quot;james@gmail.com&quot;\r\n    }\r\n\r\n\r\nI am getting response - \r\n500 Internal server error and User object which I wanted to check so I printed it out - \r\n\r\n    {\r\n        &quot;userId&quot;: 1314,\r\n        &quot;name&quot;: &quot;Kavita Shrivastava&quot;,\r\n        &quot;email&quot;: &quot;kavita@gmail.com&quot;,\r\n        &quot;account&quot;: null\r\n    }\r\n\r\nI do not know why I am getting Internal server error. \r\n\r\n**The request should add the new User to the list in UserServiceImpl.**\r\n\r\n","title":"Internal Server Error on Post Request Spring Boot [Java]","body":"<p>I am trying to send a post request to add an User object to the list of users (no database).\ngetUser, getAllUsers Api endpoints are working fine and giving desired results.</p>\n<p>When I send a Post request with User, it is always giving 500 Internal Server Error.</p>\n<p>I have also printed out the User and data is fine.</p>\n<p>Below is my code -</p>\n<p>User Entity (User.java) -</p>\n<pre><code>public class User {\n\n    \n    private Integer userId;\n    \n    private String name;\n    private String email;\n    \n    private Account account;\n</code></pre>\n<p>Getters and Setters along with constructors are also there.</p>\n<p>My User Service and its implementation -</p>\n<p>UserService.java -</p>\n<pre><code>@Service\npublic interface UserService {\n    public User getUser(Integer userId);\n    public List&lt;User&gt; getAllUsers();\n    &lt;T&gt; ResponseEntity&lt;T&gt; deleteUser(Integer userId);\n    &lt;T&gt; ResponseEntity&lt;User&gt; addUser(User user);\n    \n}\n</code></pre>\n<p>UserServiceImpl.java</p>\n<pre><code>@Service\npublic class UserServiceImpl implements UserService{\n    List&lt;User&gt; userList = List.of(\n            new User(1311, &quot;Vaibhav Shrivastava&quot;, &quot;innomightmail@gmail.com&quot;),\n            new User(1312, &quot;Varun Shrivastava&quot;, &quot;varun@gmail.com&quot;),\n            new User(1313, &quot;Rajesh Shrivastava&quot;, &quot;rajesh@gmail.com&quot;)\n        );\n    \n    @Override\n    public User getUser(Integer id) {\n        // TODO Auto-generated method stub\n        System.out.println(this.userList.stream().filter(user -&gt; user.getUserId().equals(id)).findAny().orElse(null));\n        return this.userList.stream().filter(user -&gt; user.getUserId().equals(id)).findAny().orElse(null);\n    }\n\n    @Override\n    public List&lt;User&gt; getAllUsers() {\n        // TODO Auto-generated method stub\n        return userList;\n    }\n\n    \n    @Override\n    public &lt;T&gt; ResponseEntity&lt;User&gt; addUser(User user) {\n        // TODO Auto-generated method stub\n        \n        userList.add(user);\n        return new ResponseEntity&lt;User&gt;((User)user, HttpStatus.OK);\n        \n    }\n</code></pre>\n<p>Controller (UserController.java) -</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/user&quot;)\npublic class UserController {\n    \n@Autowired\nprivate UserService userService;\n\n@Autowired\nprivate RestTemplate restTemplate;\n\n@GetMapping(&quot;/{userId}&quot;)\npublic User getUser(@PathVariable(&quot;userId&quot;) Integer userId) {\n    User user = this.userService.getUser(userId);\n    Account account = this.restTemplate.getForObject(&quot;http://account-service/account/user/&quot; + user.getUserId(), Account.class);\n    \n    user.setAccount(account);\n    \n    return user;\n    \n}\n\n@GetMapping(&quot;/all-users&quot;)\npublic List&lt;User&gt; getAllUsers(){\n    return this.userService.getAllUsers();\n}\n\n@PostMapping(&quot;/add-user&quot;)\npublic ResponseEntity&lt;Object&gt; addUser(@RequestBody User user) {\n    try {\n          User newUser = new User(user.getUserId(), user.getName(), user.getEmail());\n          this.userService.addUser(newUser);\n          return new ResponseEntity&lt;&gt;(user, HttpStatus.CREATED);\n        } catch (Exception e) {\n          User newUser = new User(user.getUserId(), user.getName(), user.getEmail());\n          return new ResponseEntity&lt;&gt;(newUser, HttpStatus.INTERNAL_SERVER_ERROR);\n        }\n    \n}\n</code></pre>\n<p><strong>getUser and getAllUsers are working fine (dont get confused by account in getUser that is my another microservice)</strong></p>\n<p>When I am sending Post request using postman -</p>\n<pre><code>{\n    &quot;userId&quot;: 1314,\n    &quot;name&quot;: &quot;James&quot;,\n    &quot;email&quot;: &quot;james@gmail.com&quot;\n}\n</code></pre>\n<p>I am getting response -\n500 Internal server error and User object which I wanted to check so I printed it out -</p>\n<pre><code>{\n    &quot;userId&quot;: 1314,\n    &quot;name&quot;: &quot;Kavita Shrivastava&quot;,\n    &quot;email&quot;: &quot;kavita@gmail.com&quot;,\n    &quot;account&quot;: null\n}\n</code></pre>\n<p>I do not know why I am getting Internal server error.</p>\n<p><strong>The request should add the new User to the list in UserServiceImpl.</strong></p>\n"},{"tags":["java","xml","hibernate","orm","jaxb"],"answers":[{"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676632990,"creation_date":1676632990,"answer_id":75483663,"question_id":75482435,"body_markdown":"JPA has no generator, there is no way of doing this.\r\n\r\nIt is never a good idea to mix data transfer objects (DTOs) together.\r\n\r\nYour SOAP XML generated classes should only be used for the external API (SOAP DTOs).\r\n\r\nYour application model should manage the persistence separately (JPA DTOs).\r\n\r\nDoing it this way allows you to later change the API and the application model independently of each other.\r\n\r\nIt also allows you to easily add another API, e.g. REST and use REST DTOs for that (typically JSON).","title":"Create Java stub from Hibernate ORM file","body":"<p>JPA has no generator, there is no way of doing this.</p>\n<p>It is never a good idea to mix data transfer objects (DTOs) together.</p>\n<p>Your SOAP XML generated classes should only be used for the external API (SOAP DTOs).</p>\n<p>Your application model should manage the persistence separately (JPA DTOs).</p>\n<p>Doing it this way allows you to later change the API and the application model independently of each other.</p>\n<p>It also allows you to easily add another API, e.g. REST and use REST DTOs for that (typically JSON).</p>\n"}],"owner":{"account_id":27810263,"reputation":1,"user_id":21232790,"display_name":"Aditya Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676632990,"creation_date":1676626339,"question_id":75482435,"body_markdown":"Is there any jar which which will help me to create Java files from an existing hibernate orm-xml file?\r\nLike we have an avro utility to convert (avsc) to .java files.\r\nWe have orm files and want to move toward Entity classes with annotations rather than using the orm files.\r\n\r\nI tried converting xml- xsd and then using jaxb over it but failed.","title":"Create Java stub from Hibernate ORM file","body":"<p>Is there any jar which which will help me to create Java files from an existing hibernate orm-xml file?\nLike we have an avro utility to convert (avsc) to .java files.\nWe have orm files and want to move toward Entity classes with annotations rather than using the orm files.</p>\n<p>I tried converting xml- xsd and then using jaxb over it but failed.</p>\n"},{"tags":["java","git","gradle","groovy","grgit"],"answers":[{"tags":[],"owner":{"account_id":6414270,"reputation":495,"user_id":6923507,"accept_rate":0,"display_name":"Adnan Abdul Khaliq"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676632971,"creation_date":1676632971,"answer_id":75483659,"question_id":75372342,"body_markdown":"Ok i have achieved this by:\r\n\r\n    grgit.push(refsOrSpecs: [&quot;refs/heads/master&quot;: &quot;refs/heads/master&quot; ],tags:true) \r\n\r\ndoes the trick push to remote master branch only.","title":"Gradle Grgit : push to a specific remote branch","body":"<p>Ok i have achieved this by:</p>\n<pre><code>grgit.push(refsOrSpecs: [&quot;refs/heads/master&quot;: &quot;refs/heads/master&quot; ],tags:true) \n</code></pre>\n<p>does the trick push to remote master branch only.</p>\n"}],"owner":{"account_id":6414270,"reputation":495,"user_id":6923507,"accept_rate":0,"display_name":"Adnan Abdul Khaliq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75483659,"answer_count":1,"score":0,"last_activity_date":1676632971,"creation_date":1675767172,"question_id":75372342,"body_markdown":"I am trying to push the local changes on the master branch to the remote master branch using this library for gradle https://ajoberstar.org/grgit/main/grgit-push.html:\r\n\r\n    grgit.push(remote:&quot;master&quot;,tag:true)\r\n\r\nIt complains and i get this exception `org.eclipse.jgit.errors.NoRemoteRepositoryException master not found` how is that possible as master branch does exist at remote.\r\n\r\nI even tried the following:\r\n\r\n    grgit.push(remote:&quot;refs/heads/master&quot;,tags:true)\r\n    grgit.push(remote:&quot;refs/remotes/origin/master&quot;,tags:true)\r\n\r\nwith no luck and same exception occurred as above.\r\n\r\nBut when i try with:\r\n\r\n    grgit.push(branch:all,tags:true)\r\n\r\nthat works but it pushes to all the branches at remote but that what i don&#39;t want. My requirement is to push to the specific branch. Like just master branch only. \r\n","title":"Gradle Grgit : push to a specific remote branch","body":"<p>I am trying to push the local changes on the master branch to the remote master branch using this library for gradle <a href=\"https://ajoberstar.org/grgit/main/grgit-push.html\" rel=\"nofollow noreferrer\">https://ajoberstar.org/grgit/main/grgit-push.html</a>:</p>\n<pre><code>grgit.push(remote:&quot;master&quot;,tag:true)\n</code></pre>\n<p>It complains and i get this exception <code>org.eclipse.jgit.errors.NoRemoteRepositoryException master not found</code> how is that possible as master branch does exist at remote.</p>\n<p>I even tried the following:</p>\n<pre><code>grgit.push(remote:&quot;refs/heads/master&quot;,tags:true)\ngrgit.push(remote:&quot;refs/remotes/origin/master&quot;,tags:true)\n</code></pre>\n<p>with no luck and same exception occurred as above.</p>\n<p>But when i try with:</p>\n<pre><code>grgit.push(branch:all,tags:true)\n</code></pre>\n<p>that works but it pushes to all the branches at remote but that what i don't want. My requirement is to push to the specific branch. Like just master branch only.</p>\n"},{"tags":["java","buffer","netty","handler","decoding"],"answers":[{"tags":[],"owner":{"account_id":484415,"reputation":63,"user_id":900073,"display_name":"Junyong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671006471,"creation_date":1671006471,"answer_id":74795407,"question_id":74689384,"body_markdown":"The usual way to serialize an array is to first record the length of the array, and then serialize the elements one by one\r\nI&#39;m not sure if you meant to ask this, hope this helps\r\n\r\n    package com.ljy.netty.codec;\r\n    \r\n    import java.util.Arrays;\r\n    \r\n    /**\r\n     * Using big-endian byte ordering, reference to the Bits class of the java library\r\n     */\r\n    public class IntArrayCodecExample {\r\n    \r\n        public static byte[] encode(int[] ia) {\r\n            byte[] bytes = new byte[ia.length * 4 + 4];\r\n            writeInt(bytes, 0, ia.length);\r\n            for (int i = 0; i &lt; ia.length; i++) {\r\n                writeInt(bytes, (i + 1) * 4, ia[i]);\r\n            }\r\n    \r\n            return bytes;\r\n        }\r\n    \r\n        public static int[] decode(byte[] bytes) {\r\n            int length = readInt(bytes, 0);\r\n            int[] ia = new int[length];\r\n            int offset = 4;\r\n            while(offset &lt; bytes.length) {\r\n                ia[offset / 4 - 1] = readInt(bytes, offset);\r\n                offset += 4;\r\n            }\r\n    \r\n            return ia;\r\n        }\r\n    \r\n    \r\n        private static void writeInt(byte[] bytes, int offset, int val) {\r\n            bytes[offset + 3] = (byte) (val       );\r\n            bytes[offset + 2] = (byte) (val &gt;&gt;&gt;  8);\r\n            bytes[offset + 1] = (byte) (val &gt;&gt;&gt; 16);\r\n            bytes[offset    ] = (byte) (val &gt;&gt;&gt; 24);\r\n        }\r\n    \r\n        private static int readInt(byte[] b, int off) {\r\n            return ((b[off + 3] &amp; 0xFF)      ) +\r\n                    ((b[off + 2] &amp; 0xFF) &lt;&lt;  8) +\r\n                    ((b[off + 1] &amp; 0xFF) &lt;&lt; 16) +\r\n                    ((b[off    ]       ) &lt;&lt; 24);\r\n        }\r\n    \r\n    \r\n    \r\n        public static void main(String[] args) {\r\n            int[] ia = new int[]{1, 3, 2, 4, 5};\r\n            System.out.println(Arrays.toString(decode(encode(ia))));\r\n        }\r\n    }\r\n    ","title":"Do I have to set buffer sizes accordingly to the size of the payload in netty?","body":"<p>The usual way to serialize an array is to first record the length of the array, and then serialize the elements one by one\nI'm not sure if you meant to ask this, hope this helps</p>\n<pre><code>package com.ljy.netty.codec;\n\nimport java.util.Arrays;\n\n/**\n * Using big-endian byte ordering, reference to the Bits class of the java library\n */\npublic class IntArrayCodecExample {\n\n    public static byte[] encode(int[] ia) {\n        byte[] bytes = new byte[ia.length * 4 + 4];\n        writeInt(bytes, 0, ia.length);\n        for (int i = 0; i &lt; ia.length; i++) {\n            writeInt(bytes, (i + 1) * 4, ia[i]);\n        }\n\n        return bytes;\n    }\n\n    public static int[] decode(byte[] bytes) {\n        int length = readInt(bytes, 0);\n        int[] ia = new int[length];\n        int offset = 4;\n        while(offset &lt; bytes.length) {\n            ia[offset / 4 - 1] = readInt(bytes, offset);\n            offset += 4;\n        }\n\n        return ia;\n    }\n\n\n    private static void writeInt(byte[] bytes, int offset, int val) {\n        bytes[offset + 3] = (byte) (val       );\n        bytes[offset + 2] = (byte) (val &gt;&gt;&gt;  8);\n        bytes[offset + 1] = (byte) (val &gt;&gt;&gt; 16);\n        bytes[offset    ] = (byte) (val &gt;&gt;&gt; 24);\n    }\n\n    private static int readInt(byte[] b, int off) {\n        return ((b[off + 3] &amp; 0xFF)      ) +\n                ((b[off + 2] &amp; 0xFF) &lt;&lt;  8) +\n                ((b[off + 1] &amp; 0xFF) &lt;&lt; 16) +\n                ((b[off    ]       ) &lt;&lt; 24);\n    }\n\n\n\n    public static void main(String[] args) {\n        int[] ia = new int[]{1, 3, 2, 4, 5};\n        System.out.println(Arrays.toString(decode(encode(ia))));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2375368,"reputation":4423,"user_id":2078908,"display_name":"ursa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676632928,"creation_date":1676632928,"answer_id":75483652,"question_id":74689384,"body_markdown":"If you work with relatively small objects and have enough memory to handle all requests by simple serialisation `(dto, allocator) -&gt; ByteBuf`, then enjoy this simplicity:\r\n\r\n    val size = calculateSerializedSize(dto)\r\n    val buf = ctx.alloc().buffer(size)\r\n    serialize(dto, buf)\r\n    ctx.write(buf)\r\n\r\nHowever if you work with large or even huge objects, then you need to consider using `io.netty.handler.stream.ChunkedInput&lt;ByteBuf&gt;`. See for example how huge files are downstreamed with `io.netty.handler.stream.ChunkedFile`:\r\n\r\n    pipeline.addLast(new ChunkedWriteHandler());\r\n    pipeline.addLast(new YourHandler());\r\n\r\n    ...\r\n\r\n    // YourHandler\r\n    ctx.write(new YourCustomDtoChunkedInput(dto, ctx.alloc()))","title":"Do I have to set buffer sizes accordingly to the size of the payload in netty?","body":"<p>If you work with relatively small objects and have enough memory to handle all requests by simple serialisation <code>(dto, allocator) -&gt; ByteBuf</code>, then enjoy this simplicity:</p>\n<pre><code>val size = calculateSerializedSize(dto)\nval buf = ctx.alloc().buffer(size)\nserialize(dto, buf)\nctx.write(buf)\n</code></pre>\n<p>However if you work with large or even huge objects, then you need to consider using <code>io.netty.handler.stream.ChunkedInput&lt;ByteBuf&gt;</code>. See for example how huge files are downstreamed with <code>io.netty.handler.stream.ChunkedFile</code>:</p>\n<pre><code>pipeline.addLast(new ChunkedWriteHandler());\npipeline.addLast(new YourHandler());\n\n...\n\n// YourHandler\nctx.write(new YourCustomDtoChunkedInput(dto, ctx.alloc()))\n</code></pre>\n"}],"owner":{"account_id":16783330,"reputation":15,"user_id":12132971,"display_name":"TraversingOnTarget"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74795407,"answer_count":2,"score":0,"last_activity_date":1676632928,"creation_date":1670248799,"question_id":74689384,"body_markdown":"I read the netty.io tutorial for netty 4.1 and the object echo example from GitHub, but they did not go into detail about buffer size when sending objects that vary in size. \r\n\r\nLet&#39;s assume I want to send an object that contains one int[] and one float[]. It&#39;s a DTO, so it&#39;s just constructor and getters. \r\n\r\nHow do I decide on a buffer size? I can&#39;t seem to find any answer, so I&#39;m assuming it&#39;s a stupid question. But what to Google for to understand where I went off on this? I&#39;m fairly new to networking in general.\r\n\r\nI know that I need to add a decoder- and encoderHandlers to the respective channel pipelines, but I don&#39;t know how to implement them with varying sizes in objects in mind. I know about the classes ObjectDecoder and ObjectEncoder, but I don&#39;t know how big I should make the buffer because the arrays inside the DTO get created dynamically.\r\n","title":"Do I have to set buffer sizes accordingly to the size of the payload in netty?","body":"<p>I read the netty.io tutorial for netty 4.1 and the object echo example from GitHub, but they did not go into detail about buffer size when sending objects that vary in size.</p>\n<p>Let's assume I want to send an object that contains one int[] and one float[]. It's a DTO, so it's just constructor and getters.</p>\n<p>How do I decide on a buffer size? I can't seem to find any answer, so I'm assuming it's a stupid question. But what to Google for to understand where I went off on this? I'm fairly new to networking in general.</p>\n<p>I know that I need to add a decoder- and encoderHandlers to the respective channel pipelines, but I don't know how to implement them with varying sizes in objects in mind. I know about the classes ObjectDecoder and ObjectEncoder, but I don't know how big I should make the buffer because the arrays inside the DTO get created dynamically.</p>\n"},{"tags":["java","spring-boot","unit-testing","mockito","junit5"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1588237352,"post_id":61519138,"comment_id":108823710,"body_markdown":"You are missing a dependency hence the error. Please add your `pom.xml` as generally these kind of errors come from wrong dependencies in your `pom.xml` or trying to work around the Sprign Boot starters.","body":"You are missing a dependency hence the error. Please add your <code>pom.xml</code> as generally these kind of errors come from wrong dependencies in your <code>pom.xml</code> or trying to work around the Sprign Boot starters."}],"answers":[{"tags":[],"owner":{"account_id":8206242,"reputation":1370,"user_id":6175872,"display_name":"PatrickChen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588237351,"creation_date":1588237351,"answer_id":61519687,"question_id":61519138,"body_markdown":"Need to check your dependencies, if this [mockito-all][1] is including in the test resources. \r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.mockito/mockito-all/1.9.5","title":"Mockito don&#39;t work MockitoSessionLogger DefFoundError","body":"<p>Need to check your dependencies, if this <a href=\"https://mvnrepository.com/artifact/org.mockito/mockito-all/1.9.5\" rel=\"nofollow noreferrer\">mockito-all</a> is including in the test resources. </p>\n"},{"tags":[],"owner":{"account_id":2023601,"reputation":2330,"user_id":1809221,"accept_rate":83,"display_name":"Manu Zi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1610442104,"creation_date":1610442104,"answer_id":65680788,"question_id":61519138,"body_markdown":"I recommend to add the `mockito-core` dependency (https://mvnrepository.com/artifact/org.mockito/mockito-core).\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n        &lt;version&gt;3.7.0&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nThe `mockito-all` dependency mentioned in another answer was last updated in 2015.","title":"Mockito don&#39;t work MockitoSessionLogger DefFoundError","body":"<p>I recommend to add the <code>mockito-core</code> dependency (<a href=\"https://mvnrepository.com/artifact/org.mockito/mockito-core\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.mockito/mockito-core</a>).</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n    &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n    &lt;version&gt;3.7.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The <code>mockito-all</code> dependency mentioned in another answer was last updated in 2015.</p>\n"},{"tags":[],"owner":{"account_id":8714272,"reputation":158,"user_id":6519469,"display_name":"mi_mo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676632873,"creation_date":1676632873,"answer_id":75483644,"question_id":61519138,"body_markdown":"I had this issue, my issue was solved by adding `mockito-core` and also `mockito-junit-jupiter` beside each other in my dependencies:\r\n\r\n\r\n         &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n            &lt;version&gt;5.1.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;","title":"Mockito don&#39;t work MockitoSessionLogger DefFoundError","body":"<p>I had this issue, my issue was solved by adding <code>mockito-core</code> and also <code>mockito-junit-jupiter</code> beside each other in my dependencies:</p>\n<pre><code>     &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n        &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n        &lt;version&gt;5.1.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n        &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\n        &lt;version&gt;4.0.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":8685922,"reputation":13,"user_id":6500359,"display_name":"mev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7136,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1676632873,"creation_date":1588235541,"question_id":61519138,"body_markdown":"My tests in Spring project work well until I did something and in my WebMvcTest, MockMvc started simply to be null. In Service tests where I need to mock my repository this exception is thrown:\r\n\r\n    \r\n    java.lang.NoClassDefFoundError: org/mockito/session/MockitoSessionLogger\r\n    at java.base/java.lang.Class.getDeclaredConstructors0(Native Method)\r\n    \tat java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3215)\r\n    \tat java.base/java.lang.Class.getConstructor0(Class.java:3420)\r\n    \tat java.base/java.lang.Class.getDeclaredConstructor(Class.java:2631)\r\n    \tat org.junit.platform.commons.util.ReflectionUtils.newInstance(ReflectionUtils.java:475)\r\n    \tat org.junit.jupiter.engine.extension.MutableExtensionRegistry.registerExtension(MutableExtensionRegistry.java:182)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1510)\r\n    \tat org.junit.jupiter.engine.extension.MutableExtensionRegistry.createRegistryFrom(MutableExtensionRegistry.java:123)\r\n    \tat org.junit.jupiter.engine.descriptor.ExtensionUtils.populateNewExtensionRegistryFromExtendWithAnnotation(ExtensionUtils.java:77)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.prepare(ClassBasedTestDescriptor.java:142)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.prepare(ClassBasedTestDescriptor.java:77)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$1(NodeTestTask.java:107)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:107)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:75)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1510)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:229)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:197)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:211)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:191)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)\r\n    \tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\r\n    \tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:230)\r\n    \tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:58)\r\n    Caused by: java.lang.ClassNotFoundException: org.mockito.session.MockitoSessionLogger\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:602)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n    \t... 37 more\r\n\r\n","title":"Mockito don&#39;t work MockitoSessionLogger DefFoundError","body":"<p>My tests in Spring project work well until I did something and in my WebMvcTest, MockMvc started simply to be null. In Service tests where I need to mock my repository this exception is thrown:</p>\n\n<pre><code>java.lang.NoClassDefFoundError: org/mockito/session/MockitoSessionLogger\nat java.base/java.lang.Class.getDeclaredConstructors0(Native Method)\n    at java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3215)\n    at java.base/java.lang.Class.getConstructor0(Class.java:3420)\n    at java.base/java.lang.Class.getDeclaredConstructor(Class.java:2631)\n    at org.junit.platform.commons.util.ReflectionUtils.newInstance(ReflectionUtils.java:475)\n    at org.junit.jupiter.engine.extension.MutableExtensionRegistry.registerExtension(MutableExtensionRegistry.java:182)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1510)\n    at org.junit.jupiter.engine.extension.MutableExtensionRegistry.createRegistryFrom(MutableExtensionRegistry.java:123)\n    at org.junit.jupiter.engine.descriptor.ExtensionUtils.populateNewExtensionRegistryFromExtendWithAnnotation(ExtensionUtils.java:77)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.prepare(ClassBasedTestDescriptor.java:142)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.prepare(ClassBasedTestDescriptor.java:77)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$1(NodeTestTask.java:107)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:107)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:75)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1510)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:229)\n    at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:197)\n    at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:211)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:191)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:230)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:58)\nCaused by: java.lang.ClassNotFoundException: org.mockito.session.MockitoSessionLogger\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:602)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    ... 37 more\n</code></pre>\n"},{"tags":["java","intellij-idea","javadoc"],"comments":[{"owner":{"account_id":49385,"reputation":93759,"user_id":147024,"display_name":"yole"},"score":0,"creation_date":1423166742,"post_id":28352832,"comment_id":45049783,"body_markdown":"Do you have any non-bundled plugins installed?","body":"Do you have any non-bundled plugins installed?"},{"owner":{"account_id":3503445,"reputation":560,"user_id":2929589,"accept_rate":83,"display_name":"CrypticStorm"},"score":1,"creation_date":1423166989,"post_id":28352832,"comment_id":45049921,"body_markdown":"Yes, the issue was probably with the markdown plugin since * is uses as an opening and closing tag. Completely forgot about plugins since I had so few.","body":"Yes, the issue was probably with the markdown plugin since * is uses as an opening and closing tag. Completely forgot about plugins since I had so few."}],"answers":[{"tags":[],"owner":{"account_id":4685839,"reputation":96,"user_id":3793266,"display_name":"Landa"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1424212449,"creation_date":1424212449,"answer_id":28572446,"question_id":28352832,"body_markdown":"Did removing the markdown plugin work?\r\nBecause I had the same problem and I can reliable cause it by activating the plugin for [gauge version 0.0.3](https://github.com/getgauge/Intellij-Plugin).\r\n\r\nAny other plugin doesn&#39;t make a jot of difference.","title":"IntelliJ Javadoc adding an additional asterisk every line","body":"<p>Did removing the markdown plugin work?\nBecause I had the same problem and I can reliable cause it by activating the plugin for <a href=\"https://github.com/getgauge/Intellij-Plugin\">gauge version 0.0.3</a>.</p>\n\n<p>Any other plugin doesn't make a jot of difference.</p>\n"}],"owner":{"account_id":3503445,"reputation":560,"user_id":2929589,"accept_rate":83,"display_name":"CrypticStorm"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":727,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":28572446,"answer_count":1,"score":5,"last_activity_date":1676632638,"creation_date":1423166007,"question_id":28352832,"body_markdown":"I&#39;m having an obscure bug with IntelliJ javadoc formatting. Whenever I create a javadocor add a new line, it is adding a second asterisk after my cursor which is very annoying to deal with.\r\n\r\nHere&#39;s a gif of what happens when I try to write javadocs: http://gyazo.com/4f8cf0727e545715afe02658a08edbe1","title":"IntelliJ Javadoc adding an additional asterisk every line","body":"<p>I'm having an obscure bug with IntelliJ javadoc formatting. Whenever I create a javadocor add a new line, it is adding a second asterisk after my cursor which is very annoying to deal with.</p>\n\n<p>Here's a gif of what happens when I try to write javadocs: <a href=\"http://gyazo.com/4f8cf0727e545715afe02658a08edbe1\">http://gyazo.com/4f8cf0727e545715afe02658a08edbe1</a></p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":161943,"reputation":22096,"user_id":383087,"accept_rate":89,"display_name":"Evgeni Dimitrov"},"down_vote_count":1,"up_vote_count":58,"is_accepted":true,"score":57,"last_activity_date":1676632216,"creation_date":1491398444,"answer_id":43232480,"question_id":43232021,"body_markdown":"```properties\r\nspring.datasource.url = [url]\r\nspring.datasource.username = [username]\r\nspring.datasource.password = [password]\r\nspring.datasource.driverClassName = oracle.jdbc.OracleDriver\r\n```\r\n    \r\n    @Bean\r\n    @ConfigurationProperties(prefix=&quot;spring.datasource&quot;)\r\n    public DataSource dataSource() {\r\n        return new DataSource();\r\n    }\r\n\r\nHere the DataSource class has properties url, username, password, driverClassName, so spring boot maps them to the created object.  \r\n\r\nExample of the DataSource class:\r\n\r\n    public class DataSource {\r\n      \tprivate String url;\r\n       \tprivate String driverClassName;\r\n       \tprivate String username;\r\n       \tprivate String password;\r\n        //getters &amp; setters, etc.\r\n    }\r\n\r\nIn other words this has the same effect as if you initialize some bean with stereotype annotations(@Component, @Service, etc.) \r\ne.g.\r\n\r\n    @Component\r\n    @ConfigurationProperties(prefix=&quot;spring.datasource&quot;)\r\n    public class DataSource {\r\n        private String url;\r\n       \tprivate String driverClassName;\r\n       \tprivate String username;\r\n       \tprivate String password;\r\n        //getters &amp; setters, etc.\r\n    }\r\n\r\n","title":"Using `@ConfigurationProperties` annotation on `@Bean` Method","body":"<pre><code>spring.datasource.url = [url]\nspring.datasource.username = [username]\nspring.datasource.password = [password]\nspring.datasource.driverClassName = oracle.jdbc.OracleDriver\n</code></pre>\n<pre><code>@Bean\n@ConfigurationProperties(prefix=&quot;spring.datasource&quot;)\npublic DataSource dataSource() {\n    return new DataSource();\n}\n</code></pre>\n<p>Here the DataSource class has properties url, username, password, driverClassName, so spring boot maps them to the created object.</p>\n<p>Example of the DataSource class:</p>\n<pre><code>public class DataSource {\n    private String url;\n    private String driverClassName;\n    private String username;\n    private String password;\n    //getters &amp; setters, etc.\n}\n</code></pre>\n<p>In other words this has the same effect as if you initialize some bean with stereotype annotations(@Component, @Service, etc.)\ne.g.</p>\n<pre><code>@Component\n@ConfigurationProperties(prefix=&quot;spring.datasource&quot;)\npublic class DataSource {\n    private String url;\n    private String driverClassName;\n    private String username;\n    private String password;\n    //getters &amp; setters, etc.\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9177295,"reputation":11910,"user_id":6856342,"display_name":"宏杰李"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1540180497,"creation_date":1540180497,"answer_id":52922200,"question_id":43232021,"body_markdown":"[24.8.1 Third-party Configuration][1]\r\n\r\nAs well as using `@ConfigurationProperties` to annotate a class, you can also use it on public `@Bean` methods. Doing so can be particularly useful when you want to bind properties to third-party components that are outside of your control.\r\n\r\nTo configure a bean from the Environment properties, add `@ConfigurationProperties` to its bean registration, as shown in the following example:\r\n\r\n    @ConfigurationProperties(prefix = &quot;another&quot;)\r\n    @Bean\r\n    public AnotherComponent anotherComponent() {\r\n    \t...\r\n    }\r\n\r\nAny property defined with the another prefix is mapped onto that AnotherComponent bean in manner similar to the preceding AcmeProperties example.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config-3rd-party-configuration","title":"Using `@ConfigurationProperties` annotation on `@Bean` Method","body":"<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config-3rd-party-configuration\" rel=\"nofollow noreferrer\">24.8.1 Third-party Configuration</a></p>\n\n<p>As well as using <code>@ConfigurationProperties</code> to annotate a class, you can also use it on public <code>@Bean</code> methods. Doing so can be particularly useful when you want to bind properties to third-party components that are outside of your control.</p>\n\n<p>To configure a bean from the Environment properties, add <code>@ConfigurationProperties</code> to its bean registration, as shown in the following example:</p>\n\n<pre><code>@ConfigurationProperties(prefix = \"another\")\n@Bean\npublic AnotherComponent anotherComponent() {\n    ...\n}\n</code></pre>\n\n<p>Any property defined with the another prefix is mapped onto that AnotherComponent bean in manner similar to the preceding AcmeProperties example.</p>\n"},{"tags":[],"owner":{"account_id":444523,"reputation":929,"user_id":836376,"accept_rate":77,"display_name":"KevinBui"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1542793717,"creation_date":1542793717,"answer_id":53409267,"question_id":43232021,"body_markdown":"You can use @ConfigurationProperties as below\r\n\r\n**Entity Model**\r\n\r\n    public class MY_ENTITY {\r\n        private String prop1;\r\n        private String prop2;\r\n        // setter &amp; getter &amp; toString()\r\n    }\r\n\r\n**Bean Method**\r\n\r\n    @Configuration\r\n    public class MyClass {\r\n    \r\n        @Bean\r\n        @ConfigurationProperties(prefix = &quot;my.entity&quot;)\r\n        public MY_ENTITY getContract() {\r\n            return new MY_ENTITY()\r\n                    .setProp1(&quot;prop1111111&quot;)\r\n                    .setProp2(&quot;prop2222222&quot;)\r\n                    ;\r\n        }\r\n    \r\n        @Bean(name = &quot;contract2&quot;)\r\n        @ConfigurationProperties(prefix = &quot;my.entity2&quot;)\r\n        public MY_ENTITY getContract2() {\r\n            return new MY_ENTITY()\r\n                    .setProp1(&quot;prop1111.2222&quot;)\r\n                    .setProp2(&quot;prop2222.222&quot;)\r\n                    ;\r\n        }\r\n    }\r\n\r\n**application.properties**\r\n\r\n    my.entity.prop1=2120180023\r\n    my.entity.prop2=CUSTOMER_NAME111\r\n    \r\n    my.entity2.prop1=9994494949\r\n    my.entity2.prop2=CUSTOMER_NAME222\r\n\r\n**SpringBootApplication**\r\n\r\n    @SpringBootApplication\r\n    public class DemoApplication implements CommandLineRunner {\r\n    \r\n        @Autowired\r\n        @Qualifier(&quot;contract2&quot;)\r\n        private MY_ENTITY myEntity;\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            SpringApplication.run(DemoApplication.class, args);\r\n        }\r\n    \r\n        @Override\r\n        public void run(String... args) throws Exception {\r\n            System.out.println(myEntity);\r\n        }\r\n    }","title":"Using `@ConfigurationProperties` annotation on `@Bean` Method","body":"<p>You can use @ConfigurationProperties as below</p>\n\n<p><strong>Entity Model</strong></p>\n\n<pre><code>public class MY_ENTITY {\n    private String prop1;\n    private String prop2;\n    // setter &amp; getter &amp; toString()\n}\n</code></pre>\n\n<p><strong>Bean Method</strong></p>\n\n<pre><code>@Configuration\npublic class MyClass {\n\n    @Bean\n    @ConfigurationProperties(prefix = \"my.entity\")\n    public MY_ENTITY getContract() {\n        return new MY_ENTITY()\n                .setProp1(\"prop1111111\")\n                .setProp2(\"prop2222222\")\n                ;\n    }\n\n    @Bean(name = \"contract2\")\n    @ConfigurationProperties(prefix = \"my.entity2\")\n    public MY_ENTITY getContract2() {\n        return new MY_ENTITY()\n                .setProp1(\"prop1111.2222\")\n                .setProp2(\"prop2222.222\")\n                ;\n    }\n}\n</code></pre>\n\n<p><strong>application.properties</strong></p>\n\n<pre><code>my.entity.prop1=2120180023\nmy.entity.prop2=CUSTOMER_NAME111\n\nmy.entity2.prop1=9994494949\nmy.entity2.prop2=CUSTOMER_NAME222\n</code></pre>\n\n<p><strong>SpringBootApplication</strong></p>\n\n<pre><code>@SpringBootApplication\npublic class DemoApplication implements CommandLineRunner {\n\n    @Autowired\n    @Qualifier(\"contract2\")\n    private MY_ENTITY myEntity;\n\n    public static void main(String[] args) throws Exception {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n    @Override\n    public void run(String... args) throws Exception {\n        System.out.println(myEntity);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16519167,"reputation":1779,"user_id":11935809,"display_name":"Michael Ushakov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586872550,"creation_date":1586872550,"answer_id":61209437,"question_id":43232021,"body_markdown":"I found following solution: i.e. we have in application yaml couple of section and we are interesting in appConfig:\r\n\r\n      appConfig:\r\n      version: 1.0_alpha\r\n      environment: ${spring.profiles}\r\n      dbDriver: ${spring.datasource.driver-class-name}\r\n      dbUrl: ${spring.datasource.url}\r\n      keyCloak:\r\n          serverOne:\r\n              host: http://xx.xx.xxx.xxx:8080\r\n              baseUrl: ${appConfig.keyCloak.serverOne.host}/auth/realms/master\r\n              clientId: api-service-agent\r\n              clientSecret: f00955443-d123-4cfe-90d3-e3ff3b214aaffe\r\n              serviceUsername: service-user\r\n              servicePassword: 1234567890\r\n          serverTwo:\r\n              host: http://xx.xxx.xxx.xxx:8080\r\n              baseUrl: ${appConfig.keyCloak.serverTwo.host}/auth/realms/wissance\r\n              clientId: api-service-agent\r\n              clientSecret: a20ddf0-56fa-4991-85bc-114377eeffddcc\r\n              serviceUsername: service-user\r\n              servicePassword: 1234567890\r\n          using: \r\n              baseUrl: ${appConfig.keyCloak.serverTwo.baseUrl}\r\n              clientId: ${appConfig.keyCloak.serverTwo.clientId}\r\n              clientSecret: ${appConfig.keyCloak.serverTwo.clientSecret}\r\n              serviceUsername: ${appConfig.keyCloak.serverTwo.serviceUsername}\r\n              servicePassword: ${appConfig.keyCloak.serverTwo.servicePassword}\r\n\r\nWe would like to split common settings and using KeyCloak settings, so i implemented following scheme:\r\n\r\nI make following KeyCloakConfig class (without @ConfigurationProperties annotation) to store using authentication server settings:\r\n\r\n    @Configuration\r\n    public class KeyCloakConfig {\r\n    \r\n\t\tpublic KeyCloakConfig(){\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tpublic KeyCloakConfig(String baseUrl, String clientId, String clientSecret, String username, String password) {\r\n\t\t\tthis.baseUrl = baseUrl;\r\n\t\t\tthis.clientId = clientId;\r\n\t\t\tthis.clientSecret = clientSecret;\r\n\t\t\tthis.username = username;\r\n\t\t\tthis.password = password;\r\n\t\t}\r\n\t\t\r\n\t\tpublic String getBaseUrl(){\r\n\t\t\treturn baseUrl;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void setBaseUrl(String baseUrl){\r\n\t\t\tthis.baseUrl = baseUrl;\r\n\t\t}\r\n\t\t\r\n\t\tpublic String getClientId(){\r\n\t\t\treturn clientId;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void setClientId(String clientId){\r\n\t\t\tthis.clientId = clientId;\r\n\t\t}\r\n\t\t\r\n\t\tpublic String getClientSecret(){\r\n\t\t\treturn clientSecret;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void setClientSecret(String clientSecret){\r\n\t\t\tthis.clientSecret = clientSecret;\r\n\t\t}\r\n\t\t\r\n\t\tpublic String getUsername(){\r\n\t\t\treturn username;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void setUsername(String username){\r\n\t\t\tthis.username = username;\r\n\t\t}\r\n\t\t\r\n\t\tpublic String getPassword(){\r\n\t\t\treturn password;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void setPassword(String password){\r\n\t\t\tthis.password = password;\r\n\t\t}\r\n\t\t\r\n\t\t@Value(&quot;${appConfig.keyCloak.using.baseUrl}&quot;)\r\n\t\tprivate String baseUrl;\r\n\t\t\r\n\t\t@Value(&quot;${appConfig.keyCloak.using.clientId}&quot;)\r\n\t\tprivate String clientId;\r\n\t\t\r\n\t\t@Value(&quot;${appConfig.keyCloak.using.clientSecret}&quot;)\r\n\t\tprivate String clientSecret;\r\n\t\t\r\n\t\t@Value(&quot;${appConfig.keyCloak.using.serviceUsername}&quot;)\r\n\t\tprivate String username;\r\n\t\t\r\n\t\t@Value(&quot;${appConfig.keyCloak.using.servicePassword}&quot;)\r\n\t\tprivate String password;\r\n    }\r\n\r\nand AppConfig class that holds common settings like version, environment using DB driver &amp; url and also KeyCloakConfig as property:\r\n\r\n    @Configuration\r\n    @EnableConfigurationProperties\r\n    @ConfigurationProperties\r\n    public class AppConfig {\r\n    \r\n    public AppConfig(){\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tpublic AppConfig(String apiVersion, String environment, String databaseDriver, String databaseUrl){\r\n\t\t\tthis.apiVersion = apiVersion;\r\n\t\t\tthis.environment = environment;\r\n\t\t\tthis.databaseDriver = databaseDriver;\r\n\t\t\tthis.databaseUrl = databaseUrl;\r\n\t\t}\r\n\t\t\r\n\t\tpublic String getEnvironment(){\r\n\t\t\treturn environment;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void setEnvironment(String environment) {\r\n\t\t\tthis.environment = environment;\r\n\t\t}\r\n\t\t\r\n\t\tpublic String getDatabaseDriver(){\r\n\t\t\treturn databaseDriver;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void setDatabaseDriver(String databaseDriver) {\r\n\t\t\tthis.databaseDriver = databaseDriver;\r\n\t\t}\r\n\t\t\r\n\t\tpublic String getDatabaseUrl(){\r\n\t\t\treturn databaseUrl;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void setDatabaseUrl(String databaseUrl) {\r\n\t\t\tthis.databaseUrl = databaseUrl;\r\n\t\t}\r\n\t\t\r\n\t\tpublic String getApiVersion(){\r\n\t\t\treturn apiVersion;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void setApiVersion(String apiVersion) {\r\n\t\t\tthis.apiVersion = apiVersion;\r\n\t\t}\r\n\t\t\r\n\t\tpublic KeyCloakConfig getKeyCloakConfig(){\r\n\t\t\treturn keyCloakConfig;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void setKeyCloakConfig(KeyCloakConfig keyCloakConfig){\r\n\t\t\tthis.keyCloakConfig = keyCloakConfig;\r\n\t\t}\r\n\t\t\r\n\t\t@Value(&quot;${appConfig.version}&quot;)\r\n\t\tprivate String apiVersion;\r\n\t\t\r\n\t\t@Value(&quot;${appConfig.environment}&quot;)\r\n\t\tprivate String environment;\r\n\t\t\r\n\t\t@Value(&quot;${appConfig.dbDriver}&quot;)\r\n\t\tprivate String databaseDriver;\r\n\t\t\r\n\t\t@Value(&quot;${appConfig.dbUrl}&quot;)\r\n\t\tprivate String databaseUrl;\r\n\t\t\r\n\t\t@Autowired\r\n\t\tprivate KeyCloakConfig keyCloakConfig;\r\n    }\r\n\r\n","title":"Using `@ConfigurationProperties` annotation on `@Bean` Method","body":"<p>I found following solution: i.e. we have in application yaml couple of section and we are interesting in appConfig:</p>\n\n<pre><code>  appConfig:\n  version: 1.0_alpha\n  environment: ${spring.profiles}\n  dbDriver: ${spring.datasource.driver-class-name}\n  dbUrl: ${spring.datasource.url}\n  keyCloak:\n      serverOne:\n          host: http://xx.xx.xxx.xxx:8080\n          baseUrl: ${appConfig.keyCloak.serverOne.host}/auth/realms/master\n          clientId: api-service-agent\n          clientSecret: f00955443-d123-4cfe-90d3-e3ff3b214aaffe\n          serviceUsername: service-user\n          servicePassword: 1234567890\n      serverTwo:\n          host: http://xx.xxx.xxx.xxx:8080\n          baseUrl: ${appConfig.keyCloak.serverTwo.host}/auth/realms/wissance\n          clientId: api-service-agent\n          clientSecret: a20ddf0-56fa-4991-85bc-114377eeffddcc\n          serviceUsername: service-user\n          servicePassword: 1234567890\n      using: \n          baseUrl: ${appConfig.keyCloak.serverTwo.baseUrl}\n          clientId: ${appConfig.keyCloak.serverTwo.clientId}\n          clientSecret: ${appConfig.keyCloak.serverTwo.clientSecret}\n          serviceUsername: ${appConfig.keyCloak.serverTwo.serviceUsername}\n          servicePassword: ${appConfig.keyCloak.serverTwo.servicePassword}\n</code></pre>\n\n<p>We would like to split common settings and using KeyCloak settings, so i implemented following scheme:</p>\n\n<p>I make following KeyCloakConfig class (without @ConfigurationProperties annotation) to store using authentication server settings:</p>\n\n<pre><code>@Configuration\npublic class KeyCloakConfig {\n\n    public KeyCloakConfig(){\n\n    }\n\n    public KeyCloakConfig(String baseUrl, String clientId, String clientSecret, String username, String password) {\n        this.baseUrl = baseUrl;\n        this.clientId = clientId;\n        this.clientSecret = clientSecret;\n        this.username = username;\n        this.password = password;\n    }\n\n    public String getBaseUrl(){\n        return baseUrl;\n    }\n\n    public void setBaseUrl(String baseUrl){\n        this.baseUrl = baseUrl;\n    }\n\n    public String getClientId(){\n        return clientId;\n    }\n\n    public void setClientId(String clientId){\n        this.clientId = clientId;\n    }\n\n    public String getClientSecret(){\n        return clientSecret;\n    }\n\n    public void setClientSecret(String clientSecret){\n        this.clientSecret = clientSecret;\n    }\n\n    public String getUsername(){\n        return username;\n    }\n\n    public void setUsername(String username){\n        this.username = username;\n    }\n\n    public String getPassword(){\n        return password;\n    }\n\n    public void setPassword(String password){\n        this.password = password;\n    }\n\n    @Value(\"${appConfig.keyCloak.using.baseUrl}\")\n    private String baseUrl;\n\n    @Value(\"${appConfig.keyCloak.using.clientId}\")\n    private String clientId;\n\n    @Value(\"${appConfig.keyCloak.using.clientSecret}\")\n    private String clientSecret;\n\n    @Value(\"${appConfig.keyCloak.using.serviceUsername}\")\n    private String username;\n\n    @Value(\"${appConfig.keyCloak.using.servicePassword}\")\n    private String password;\n}\n</code></pre>\n\n<p>and AppConfig class that holds common settings like version, environment using DB driver &amp; url and also KeyCloakConfig as property:</p>\n\n<pre><code>@Configuration\n@EnableConfigurationProperties\n@ConfigurationProperties\npublic class AppConfig {\n\npublic AppConfig(){\n\n    }\n\n    public AppConfig(String apiVersion, String environment, String databaseDriver, String databaseUrl){\n        this.apiVersion = apiVersion;\n        this.environment = environment;\n        this.databaseDriver = databaseDriver;\n        this.databaseUrl = databaseUrl;\n    }\n\n    public String getEnvironment(){\n        return environment;\n    }\n\n    public void setEnvironment(String environment) {\n        this.environment = environment;\n    }\n\n    public String getDatabaseDriver(){\n        return databaseDriver;\n    }\n\n    public void setDatabaseDriver(String databaseDriver) {\n        this.databaseDriver = databaseDriver;\n    }\n\n    public String getDatabaseUrl(){\n        return databaseUrl;\n    }\n\n    public void setDatabaseUrl(String databaseUrl) {\n        this.databaseUrl = databaseUrl;\n    }\n\n    public String getApiVersion(){\n        return apiVersion;\n    }\n\n    public void setApiVersion(String apiVersion) {\n        this.apiVersion = apiVersion;\n    }\n\n    public KeyCloakConfig getKeyCloakConfig(){\n        return keyCloakConfig;\n    }\n\n    public void setKeyCloakConfig(KeyCloakConfig keyCloakConfig){\n        this.keyCloakConfig = keyCloakConfig;\n    }\n\n    @Value(\"${appConfig.version}\")\n    private String apiVersion;\n\n    @Value(\"${appConfig.environment}\")\n    private String environment;\n\n    @Value(\"${appConfig.dbDriver}\")\n    private String databaseDriver;\n\n    @Value(\"${appConfig.dbUrl}\")\n    private String databaseUrl;\n\n    @Autowired\n    private KeyCloakConfig keyCloakConfig;\n}\n</code></pre>\n"}],"owner":{"account_id":2218936,"reputation":1780,"user_id":1958893,"accept_rate":76,"display_name":"tmj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37315,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"accepted_answer_id":43232480,"answer_count":4,"score":39,"last_activity_date":1676632216,"creation_date":1491397269,"question_id":43232021,"body_markdown":"Could someone give a MWE of how to use the `@ConfigurationProperties` annotation directly on a `@Bean` method?\r\n\r\nI have seen countless examples of it being used on class definitions - but no examples yet for `@Bean` methods. \r\n\r\nTo quote the [documentation](https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/context/properties/ConfigurationProperties.html):\r\n\r\n+ Add this to a class definition or **a `@Bean` method**\r\n+ @Target(value={TYPE,**METHOD**})\r\n\r\nSo, I think there is a possibility and an intended use as well - but unluckily I am unable to figure it out.","title":"Using `@ConfigurationProperties` annotation on `@Bean` Method","body":"<p>Could someone give a MWE of how to use the <code>@ConfigurationProperties</code> annotation directly on a <code>@Bean</code> method?</p>\n\n<p>I have seen countless examples of it being used on class definitions - but no examples yet for <code>@Bean</code> methods. </p>\n\n<p>To quote the <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/context/properties/ConfigurationProperties.html\" rel=\"noreferrer\">documentation</a>:</p>\n\n<ul>\n<li>Add this to a class definition or <strong>a <code>@Bean</code> method</strong></li>\n<li>@Target(value={TYPE,<strong>METHOD</strong>})</li>\n</ul>\n\n<p>So, I think there is a possibility and an intended use as well - but unluckily I am unable to figure it out.</p>\n"},{"tags":["java","spring","spring-boot","properties"],"comments":[{"owner":{"account_id":9173276,"reputation":608,"user_id":6819920,"display_name":"PiNaKa30"},"score":0,"creation_date":1676631210,"post_id":75483110,"comment_id":133180562,"body_markdown":"That&#39;s because Spring will create all the beans for dependency injection before the main() method is executed. So, the exception is thrown even before the code is reached.","body":"That&#39;s because Spring will create all the beans for dependency injection before the main() method is executed. So, the exception is thrown even before the code is reached."}],"owner":{"account_id":2238936,"reputation":1737,"user_id":1974494,"accept_rate":43,"display_name":"martin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676632005,"creation_date":1676630029,"question_id":75483110,"body_markdown":"I&#39;m writing Spring Boot 3.0.2 application. \r\n\r\nMy application using external yaml config file:\r\n```bash\r\njava -jar app.jar --spring.config.import=&quot;file:///config.yml&quot;\r\n# or \r\njava -jar -Dspring.config.import=&quot;file:///config.yml&quot; app.jar\r\n```\r\n\r\nIf I forget to start app with `spring.config.import` argument, it crash with error:\r\n```java\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;hostingController&#39;: Unsatisfied dependency expressed through field &#39;hostingService&#39;: Error creating bean with name &#39;hostingService&#39;: Unsatisfied dependency expressed through field &#39;appConf&#39;: Error creating bean with name &#39;appConf&#39;: Injection of autowired dependencies failed\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:712)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:692)\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:481)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1397)\r\n```\r\nit&#39;s logical. But is there any way how to set custom error message? This exception looks terrible for my users. I want to add some information on how to fix it.\r\n\r\nI tried:\r\n```\r\npackage net.example.app;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration;\r\n\r\n@SpringBootApplication(\r\n\t\tproxyBeanMethods = false,\r\n\t\texclude=SpringDataWebAutoConfiguration.class,\r\n\t\tscanBasePackages=&quot;net.example.app&quot;)\r\npublic class MyApplication {\r\n\tprivate static Logger log = LoggerFactory.getLogger(MyApplication.class);\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\t\r\n\t\tboolean springConf = false;\r\n\t\tfor (String a : args) {\r\n\t\t\tif (a.contains(&quot;--spring.config.location&quot;)) {\r\n\t\t\t\tspringConf = true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (! springConf) {\r\n\t\t\tlog.error(&quot;Missing &#39;--spring.config.import&#39; argument.&quot;);\r\n\t\t}\r\n\r\n\t\tSpringApplication.run(MyApplication.class, args);\r\n\t}\r\n}\r\n```\r\nbut it doesn&#39;t work.","title":"Spring: set custom error message for missing &quot;--spring.config.location&quot; argument","body":"<p>I'm writing Spring Boot 3.0.2 application.</p>\n<p>My application using external yaml config file:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java -jar app.jar --spring.config.import=&quot;file:///config.yml&quot;\n# or \njava -jar -Dspring.config.import=&quot;file:///config.yml&quot; app.jar\n</code></pre>\n<p>If I forget to start app with <code>spring.config.import</code> argument, it crash with error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'hostingController': Unsatisfied dependency expressed through field 'hostingService': Error creating bean with name 'hostingService': Unsatisfied dependency expressed through field 'appConf': Error creating bean with name 'appConf': Injection of autowired dependencies failed\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:712)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:692)\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:481)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1397)\n</code></pre>\n<p>it's logical. But is there any way how to set custom error message? This exception looks terrible for my users. I want to add some information on how to fix it.</p>\n<p>I tried:</p>\n<pre><code>package net.example.app;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration;\n\n@SpringBootApplication(\n        proxyBeanMethods = false,\n        exclude=SpringDataWebAutoConfiguration.class,\n        scanBasePackages=&quot;net.example.app&quot;)\npublic class MyApplication {\n    private static Logger log = LoggerFactory.getLogger(MyApplication.class);\n\n    public static void main(String[] args) throws Exception {\n        \n        boolean springConf = false;\n        for (String a : args) {\n            if (a.contains(&quot;--spring.config.location&quot;)) {\n                springConf = true;\n            }\n        }\n\n        if (! springConf) {\n            log.error(&quot;Missing '--spring.config.import' argument.&quot;);\n        }\n\n        SpringApplication.run(MyApplication.class, args);\n    }\n}\n</code></pre>\n<p>but it doesn't work.</p>\n"},{"tags":["java","memory-leaks","leakcanary"],"owner":{"account_id":20954869,"reputation":3,"user_id":15395645,"display_name":"&#195;ss&#227;ss&#238;&#241;"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676631992,"creation_date":1676623554,"question_id":75481998,"body_markdown":"I still don&#39;t how to ask in stack but I hope you guys can understand my problem , I have been struggling to solve this leak that happens to me , I have a splash fragment that its only job is to show a video and then replaces with starting page fragment , but when it replaces with starting page fragment **I get this leak\r\n\r\n\r\n     ┬───\r\n        │ GC Root: Global variable in native code\r\n        │\r\n        ├─ java.util.HashMap instance\r\n        │    Leaking: NO (MainMenu↓ is not leaking)\r\n        │    ↓ HashMap[&quot;act&quot;]\r\n        ├─ com.phoehood.games.mafiastory.activities.MainMenu instance\r\n        │    Leaking: NO (Activity#mDestroyed is false)\r\n        │    mApplication instance of android.app.Application\r\n        │    mBase instance of androidx.appcompat.view.ContextThemeWrapper\r\n        │    ↓ MainMenu.fragment\r\n        │               ~~~~~~~~\r\n        ╰→ com.phoehood.games.mafiastory.fragments.Splash instance\r\n        ​     Leaking: YES (ObjectWatcher was watching this because com.phoehood.games.mafiastory.fragments.Splash received\r\n        ​     Fragment#onDestroy() callback and Fragment#mFragmentManager is null)\r\n        ​     Retaining ٢٫٤ kB in 83 objects\r\n        ​     key = b6f24425-36ab-45fa-920e-4e11216bbf03\r\n        ​     watchDurationMillis = 194425\r\n        ​     retainedDurationMillis = 189425**\r\n\r\n**here is my code of splash fragment **\r\n\r\n\r\n`\r\npublic class Splash extends Fragment {\r\n\r\n    private VideoView videoView;\r\n    private View view;\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        view = inflater.inflate(R.layout.splash, container, false);\r\n\r\n\r\n        videoView = view.findViewById(R.id.video);\r\n\r\n\r\n        videoView.setVideoURI(Uri.parse(&quot;android.resource://&quot; + view.getContext().getPackageName() + &quot;/&quot; + R.raw.splash));\r\n\r\n        videoView.start();\r\n\r\n        videoView.setOnCompletionListener(mp -&gt; ReplaceDelay.replaceFragment(new StartingPage(), R.anim.fade_in, R.anim.fade_out,\r\n                0, 0, getParentFragmentManager()));\r\n\r\n        return view;\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onDestroyView() {\r\n        super.onDestroyView();\r\n\r\n        videoView = null;\r\n        view = null;\r\n\r\n    }\r\n}\r\n`\r\n\r\n\r\n\r\n**And this is my startin page fragment**\r\n\r\n\r\n` private RecyclerView recyclerView;\r\n    private Button exit;\r\n    private View view;\r\n    \r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n\r\n\r\n       view = inflater.inflate(R.layout.starting_page, container, false);\r\n\r\n        this.findViewById();\r\n\r\n        this.settingOnClick();\r\n\r\n        ReplaceDelay.ads(view);\r\n\r\n        settingRecyclerView();\r\n\r\n        return view;\r\n    }\r\n\r\n\r\n    private void findViewById() {\r\n\r\n        recyclerView = view.findViewById(R.id.buttonsRecycler);\r\n        exit = view.findViewById(R.id.exit);\r\n\r\n    }\r\n\r\n\r\n    private void settingOnClick() {\r\n\r\n        exit.setOnClickListener(v -&gt; {\r\n\r\n            new Dialogs(requireContext(), 2, false);\r\n            Sounds.playSound(4);\r\n\r\n        });\r\n\r\n    }\r\n\r\n    private void settingRecyclerView() {\r\n\r\n        ArrayList&lt;String&gt; arrayList = new ArrayList&lt;&gt;();\r\n\r\n        arrayList.add(getResources().getString(R.string.play));\r\n        arrayList.add(getResources().getString(R.string.explain));\r\n        arrayList.add(getResources().getString(R.string.about_us));\r\n\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(getContext()));\r\n        recyclerView.setHasFixedSize(true);\r\n        recyclerView.setLayoutAnimation(AnimationUtils.loadLayoutAnimation(getContext(), R.anim.layout_fade_in));\r\n        recyclerView.setAdapter(new ButtonsAdapter(arrayList , getContext()));\r\n\r\n    }\r\n\r\n\r\n\r\n    @Override\r\n    public void onResume() {\r\n        super.onResume();\r\n\r\n        recyclerView.setClickable(false);\r\n        exit.setClickable(false);\r\n\r\n        new Handler().postDelayed(() -&gt; {\r\n\r\n            recyclerView.setClickable(true);\r\n            exit.setClickable(true);\r\n\r\n        }, 220);\r\n\r\n        ReplaceDelay.showHideButtons(requireActivity() , false);\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onDestroyView() {\r\n        super.onDestroyView();\r\n\r\n        recyclerView = null;\r\n        exit = null;\r\n        view = null;\r\n    }`\r\n\r\n\r\n\r\n\r\n\r\n**and not to forget the activity class that holds the fragments**\r\n\r\n    private ImageView musicBtn, languageBtn;\r\n    private long mLastClickTime = 0;\r\n    public static  boolean isOn = true;\r\n    private MainMenuMethods mainMenuMethods;\r\n    private Fragment fragment;\r\n    private boolean isInterrupted = false;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        getApplication().setTheme(R.style.Theme_MafiaTheNarratorStory);\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.main_menu);\r\n\r\n        getSupportFragmentManager().beginTransaction()\r\n                .replace(R.id.fragment, new Splash())\r\n                .commit();\r\n\r\n\r\n        this.initializeComponents();\r\n\r\n\r\n        this.findingViewByID();\r\n\r\n\r\n        this.settingOnClick();\r\n\r\n\r\n        new Thread(this).start();\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    private void initializeComponents() {\r\n\r\n        mainMenuMethods = new MainMenuMethods(this);\r\n        BackgroundMusic.playMusic(this);\r\n        isOn = mainMenuMethods.checkIsOn();\r\n        BackgroundMusic.setMuted(!isOn);\r\n\r\n\r\n    }\r\n\r\n\r\n    private void findingViewByID() {\r\n\r\n        languageBtn = findViewById(R.id.language);\r\n        musicBtn = findViewById(R.id.volume);\r\n        mainMenuMethods.musicConditions(musicBtn);\r\n\r\n    }\r\n\r\n\r\n    private void settingOnClick() {\r\n\r\n        musicBtn.setOnClickListener(this);\r\n        languageBtn.setOnClickListener(this);\r\n\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    public void run() {\r\n\r\n        if (!isInterrupted) {\r\n            Sounds.initSounds(this);\r\n            Sounds.loadSounds(this);\r\n        }\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onClick(View v) {\r\n\r\n        int getID = v.getId();\r\n\r\n        if (getID == R.id.volume) {\r\n\r\n            MainMenuMethods.musicStatus(musicBtn, isOn);\r\n            isOn = !isOn;\r\n            MainMenuMethods.saveMusicState(isOn);\r\n            return;\r\n\r\n        }\r\n\r\n\r\n        if (SystemClock.elapsedRealtime() - mLastClickTime &lt; 800) return;\r\n        mLastClickTime = SystemClock.elapsedRealtime();\r\n\r\n        new Dialogs( this, 3, false);\r\n        Sounds.playSound(4);\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n\r\n        new InvisibleUI(MainMenu.this);\r\n        loadLanguage();\r\n\r\n        fragment = getSupportFragmentManager().findFragmentById(R.id.fragment);\r\n\r\n        if (fragment instanceof Playing) {\r\n            BackgroundMusic.setMuted(true);\r\n            return;\r\n        }\r\n\r\n        BackgroundMusic.setMuted(!isOn);\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onPause() {\r\n        super.onPause();\r\n\r\n        BackgroundMusic.setMuted(true);\r\n\r\n        fragment = getSupportFragmentManager().findFragmentById(R.id.fragment);\r\n\r\n        if (fragment instanceof Splash) {\r\n            finishAndRemoveTask();\r\n        }\r\n    }\r\n\r\n\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n\r\n        fragment = getSupportFragmentManager().findFragmentById(R.id.fragment);\r\n\r\n        if (fragment instanceof StartingPage) {\r\n\r\n            Sounds.playSound(4);\r\n            new Dialogs(this, 2, false);\r\n            return;\r\n\r\n        }\r\n        if (fragment instanceof Playing) {\r\n\r\n            Sounds.playSound(4);\r\n            new Dialogs(this, 5, false);\r\n            return;\r\n\r\n        }\r\n        if (fragment instanceof Splash) {\r\n\r\n            finishAndRemoveTask();\r\n            return;\r\n\r\n        }\r\n\r\n        if (fragment instanceof ExplainStory) {\r\n\r\n            ReplaceDelay.replaceFragment(new StartingPage(), R.anim.enter_from_left, R.anim.exit_to_right,\r\n                    R.anim.enter_from_right, R.anim.exit_to_left, getSupportFragmentManager());\r\n\r\n            return;\r\n\r\n        }\r\n\r\n        Sounds.playSound(2);\r\n        ReplaceDelay.replaceFragment(new StartingPage(), R.anim.enter_from_left, R.anim.exit_to_right,\r\n                R.anim.enter_from_right, R.anim.exit_to_left, getSupportFragmentManager());\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n\r\n        Sounds.cleanup();\r\n        isInterrupted = true;\r\n        musicBtn = null;\r\n        languageBtn = null;\r\n        mainMenuMethods = null;\r\n        mLastClickTime = 0;\r\n        fragment = null;\r\n\r\n    }`\r\n\r\n\r\nI hope you gusys can help me , I will be appriciated thanks :)\r\n\r\n\r\n\r\n\r\n\r\n\r\nI have tried to set all views to null but the same leak happens and I looked for it and I did not find a solution and I forgot to add the replaceFragment method \r\n\r\n` public static void replaceFragment(Fragment fragment, int firstAnim, int secondAnim, int thirdAnim, int fourthAnim, FragmentManager fragmentManager) {\r\n\r\n        fragmentManager.beginTransaction()\r\n                .setCustomAnimations(firstAnim, secondAnim, thirdAnim, fourthAnim)\r\n                .replace(R.id.fragment, fragment)\r\n                .commit();\r\n\r\n    }`\r\n\r\nThanks\r\n\r\n\r\n\r\n","title":"Fragment leaks whenever I replace it with a new fragment in android studio (Java) leak canary","body":"<p>I still don't how to ask in stack but I hope you guys can understand my problem , I have been struggling to solve this leak that happens to me , I have a splash fragment that its only job is to show a video and then replaces with starting page fragment , but when it replaces with starting page fragment **I get this leak</p>\n<pre><code> ┬───\n    │ GC Root: Global variable in native code\n    │\n    ├─ java.util.HashMap instance\n    │    Leaking: NO (MainMenu↓ is not leaking)\n    │    ↓ HashMap[&quot;act&quot;]\n    ├─ com.phoehood.games.mafiastory.activities.MainMenu instance\n    │    Leaking: NO (Activity#mDestroyed is false)\n    │    mApplication instance of android.app.Application\n    │    mBase instance of androidx.appcompat.view.ContextThemeWrapper\n    │    ↓ MainMenu.fragment\n    │               ~~~~~~~~\n    ╰→ com.phoehood.games.mafiastory.fragments.Splash instance\n    ​     Leaking: YES (ObjectWatcher was watching this because com.phoehood.games.mafiastory.fragments.Splash received\n    ​     Fragment#onDestroy() callback and Fragment#mFragmentManager is null)\n    ​     Retaining ٢٫٤ kB in 83 objects\n    ​     key = b6f24425-36ab-45fa-920e-4e11216bbf03\n    ​     watchDurationMillis = 194425\n    ​     retainedDurationMillis = 189425**\n</code></pre>\n<p>**here is my code of splash fragment **</p>\n<p>`\npublic class Splash extends Fragment {</p>\n<pre><code>private VideoView videoView;\nprivate View view;\n\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\n    view = inflater.inflate(R.layout.splash, container, false);\n\n\n    videoView = view.findViewById(R.id.video);\n\n\n    videoView.setVideoURI(Uri.parse(&quot;android.resource://&quot; + view.getContext().getPackageName() + &quot;/&quot; + R.raw.splash));\n\n    videoView.start();\n\n    videoView.setOnCompletionListener(mp -&gt; ReplaceDelay.replaceFragment(new StartingPage(), R.anim.fade_in, R.anim.fade_out,\n            0, 0, getParentFragmentManager()));\n\n    return view;\n\n}\n\n\n@Override\npublic void onDestroyView() {\n    super.onDestroyView();\n\n    videoView = null;\n    view = null;\n\n}\n</code></pre>\n<p>}\n`</p>\n<p><strong>And this is my startin page fragment</strong></p>\n<p>` private RecyclerView recyclerView;\nprivate Button exit;\nprivate View view;</p>\n<pre><code>@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\n\n\n   view = inflater.inflate(R.layout.starting_page, container, false);\n\n    this.findViewById();\n\n    this.settingOnClick();\n\n    ReplaceDelay.ads(view);\n\n    settingRecyclerView();\n\n    return view;\n}\n\n\nprivate void findViewById() {\n\n    recyclerView = view.findViewById(R.id.buttonsRecycler);\n    exit = view.findViewById(R.id.exit);\n\n}\n\n\nprivate void settingOnClick() {\n\n    exit.setOnClickListener(v -&gt; {\n\n        new Dialogs(requireContext(), 2, false);\n        Sounds.playSound(4);\n\n    });\n\n}\n\nprivate void settingRecyclerView() {\n\n    ArrayList&lt;String&gt; arrayList = new ArrayList&lt;&gt;();\n\n    arrayList.add(getResources().getString(R.string.play));\n    arrayList.add(getResources().getString(R.string.explain));\n    arrayList.add(getResources().getString(R.string.about_us));\n\n    recyclerView.setLayoutManager(new LinearLayoutManager(getContext()));\n    recyclerView.setHasFixedSize(true);\n    recyclerView.setLayoutAnimation(AnimationUtils.loadLayoutAnimation(getContext(), R.anim.layout_fade_in));\n    recyclerView.setAdapter(new ButtonsAdapter(arrayList , getContext()));\n\n}\n\n\n\n@Override\npublic void onResume() {\n    super.onResume();\n\n    recyclerView.setClickable(false);\n    exit.setClickable(false);\n\n    new Handler().postDelayed(() -&gt; {\n\n        recyclerView.setClickable(true);\n        exit.setClickable(true);\n\n    }, 220);\n\n    ReplaceDelay.showHideButtons(requireActivity() , false);\n\n}\n\n\n@Override\npublic void onDestroyView() {\n    super.onDestroyView();\n\n    recyclerView = null;\n    exit = null;\n    view = null;\n}`\n</code></pre>\n<p><strong>and not to forget the activity class that holds the fragments</strong></p>\n<pre><code>private ImageView musicBtn, languageBtn;\nprivate long mLastClickTime = 0;\npublic static  boolean isOn = true;\nprivate MainMenuMethods mainMenuMethods;\nprivate Fragment fragment;\nprivate boolean isInterrupted = false;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    getApplication().setTheme(R.style.Theme_MafiaTheNarratorStory);\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.main_menu);\n\n    getSupportFragmentManager().beginTransaction()\n            .replace(R.id.fragment, new Splash())\n            .commit();\n\n\n    this.initializeComponents();\n\n\n    this.findingViewByID();\n\n\n    this.settingOnClick();\n\n\n    new Thread(this).start();\n\n}\n\n\n\n\n\nprivate void initializeComponents() {\n\n    mainMenuMethods = new MainMenuMethods(this);\n    BackgroundMusic.playMusic(this);\n    isOn = mainMenuMethods.checkIsOn();\n    BackgroundMusic.setMuted(!isOn);\n\n\n}\n\n\nprivate void findingViewByID() {\n\n    languageBtn = findViewById(R.id.language);\n    musicBtn = findViewById(R.id.volume);\n    mainMenuMethods.musicConditions(musicBtn);\n\n}\n\n\nprivate void settingOnClick() {\n\n    musicBtn.setOnClickListener(this);\n    languageBtn.setOnClickListener(this);\n\n\n}\n\n\n@Override\npublic void run() {\n\n    if (!isInterrupted) {\n        Sounds.initSounds(this);\n        Sounds.loadSounds(this);\n    }\n}\n\n\n@Override\npublic void onClick(View v) {\n\n    int getID = v.getId();\n\n    if (getID == R.id.volume) {\n\n        MainMenuMethods.musicStatus(musicBtn, isOn);\n        isOn = !isOn;\n        MainMenuMethods.saveMusicState(isOn);\n        return;\n\n    }\n\n\n    if (SystemClock.elapsedRealtime() - mLastClickTime &lt; 800) return;\n    mLastClickTime = SystemClock.elapsedRealtime();\n\n    new Dialogs( this, 3, false);\n    Sounds.playSound(4);\n\n}\n\n\n@Override\nprotected void onResume() {\n    super.onResume();\n\n    new InvisibleUI(MainMenu.this);\n    loadLanguage();\n\n    fragment = getSupportFragmentManager().findFragmentById(R.id.fragment);\n\n    if (fragment instanceof Playing) {\n        BackgroundMusic.setMuted(true);\n        return;\n    }\n\n    BackgroundMusic.setMuted(!isOn);\n\n}\n\n\n@Override\nprotected void onPause() {\n    super.onPause();\n\n    BackgroundMusic.setMuted(true);\n\n    fragment = getSupportFragmentManager().findFragmentById(R.id.fragment);\n\n    if (fragment instanceof Splash) {\n        finishAndRemoveTask();\n    }\n}\n\n\n\n@Override\npublic void onBackPressed() {\n\n    fragment = getSupportFragmentManager().findFragmentById(R.id.fragment);\n\n    if (fragment instanceof StartingPage) {\n\n        Sounds.playSound(4);\n        new Dialogs(this, 2, false);\n        return;\n\n    }\n    if (fragment instanceof Playing) {\n\n        Sounds.playSound(4);\n        new Dialogs(this, 5, false);\n        return;\n\n    }\n    if (fragment instanceof Splash) {\n\n        finishAndRemoveTask();\n        return;\n\n    }\n\n    if (fragment instanceof ExplainStory) {\n\n        ReplaceDelay.replaceFragment(new StartingPage(), R.anim.enter_from_left, R.anim.exit_to_right,\n                R.anim.enter_from_right, R.anim.exit_to_left, getSupportFragmentManager());\n\n        return;\n\n    }\n\n    Sounds.playSound(2);\n    ReplaceDelay.replaceFragment(new StartingPage(), R.anim.enter_from_left, R.anim.exit_to_right,\n            R.anim.enter_from_right, R.anim.exit_to_left, getSupportFragmentManager());\n\n}\n\n\n@Override\nprotected void onDestroy() {\n    super.onDestroy();\n\n    Sounds.cleanup();\n    isInterrupted = true;\n    musicBtn = null;\n    languageBtn = null;\n    mainMenuMethods = null;\n    mLastClickTime = 0;\n    fragment = null;\n\n}`\n</code></pre>\n<p>I hope you gusys can help me , I will be appriciated thanks :)</p>\n<p>I have tried to set all views to null but the same leak happens and I looked for it and I did not find a solution and I forgot to add the replaceFragment method</p>\n<p>` public static void replaceFragment(Fragment fragment, int firstAnim, int secondAnim, int thirdAnim, int fourthAnim, FragmentManager fragmentManager) {</p>\n<pre><code>    fragmentManager.beginTransaction()\n            .setCustomAnimations(firstAnim, secondAnim, thirdAnim, fourthAnim)\n            .replace(R.id.fragment, fragment)\n            .commit();\n\n}`\n</code></pre>\n<p>Thanks</p>\n"},{"tags":["java","amazon-web-services","ssl","ssl-certificate"],"answers":[{"tags":[],"owner":{"account_id":10122130,"reputation":1238,"user_id":7478712,"accept_rate":80,"display_name":"Ognjen Mišić"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1592902289,"creation_date":1592902289,"answer_id":62530876,"question_id":62509454,"body_markdown":"So I figured out what was wrong: not having any sort of custom truststore defined for my jboss meant that the AWS SDK pulled the regular cacerts truststore from `$JAVA_HOME/lib/security/cacerts`. Defining my own truststore (which lacked all the certificates from the cacerts truststore) - meant that AWS SDK had nowhere to fetch the regular certificates.\r\n\r\nSo to solve it: I imported my `rds-ca-2019-root.pem` into the above mentioned cacerts file and linked that as my server truststore in my standalone.xml. ","title":"AWS Java SDK SSL Certificates","body":"<p>So I figured out what was wrong: not having any sort of custom truststore defined for my jboss meant that the AWS SDK pulled the regular cacerts truststore from <code>$JAVA_HOME/lib/security/cacerts</code>. Defining my own truststore (which lacked all the certificates from the cacerts truststore) - meant that AWS SDK had nowhere to fetch the regular certificates.</p>\n<p>So to solve it: I imported my <code>rds-ca-2019-root.pem</code> into the above mentioned cacerts file and linked that as my server truststore in my standalone.xml.</p>\n"},{"tags":[],"owner":{"account_id":3875313,"reputation":1501,"user_id":3209508,"accept_rate":74,"display_name":"Asanka sanjaya"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1676631736,"creation_date":1634213329,"answer_id":69570438,"question_id":62509454,"body_markdown":"Ognjen&#39;s answer helped me to troubleshoot this issue. I had same problem and the issue was due to AWS SDK using custom truststore that I built for RDS connection. I had specified the custom truststore by setting `javax.net.ssl.trustStore` parameter explicitly.\r\n\r\n**The solution I applied:**\r\nI used the script in [this][1] documentation to import the `rds-combined-ca-bundle.pem` into the `$JAVA_HOME/lib/security/cacerts` (You may find this `cacerts` file inside the `jre/lib/security` folder if you have the JDK installed.). Then I removed the `javax.net.ssl.trustStore` setting that I had. Then java started using the default `cacerts` file and now all is good.\r\n\r\nThe default password for java default truststore is `changeit`. \r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/documentdb/latest/developerguide/connect_programmatically.html","title":"AWS Java SDK SSL Certificates","body":"<p>Ognjen's answer helped me to troubleshoot this issue. I had same problem and the issue was due to AWS SDK using custom truststore that I built for RDS connection. I had specified the custom truststore by setting <code>javax.net.ssl.trustStore</code> parameter explicitly.</p>\n<p><strong>The solution I applied:</strong>\nI used the script in <a href=\"https://docs.aws.amazon.com/documentdb/latest/developerguide/connect_programmatically.html\" rel=\"nofollow noreferrer\">this</a> documentation to import the <code>rds-combined-ca-bundle.pem</code> into the <code>$JAVA_HOME/lib/security/cacerts</code> (You may find this <code>cacerts</code> file inside the <code>jre/lib/security</code> folder if you have the JDK installed.). Then I removed the <code>javax.net.ssl.trustStore</code> setting that I had. Then java started using the default <code>cacerts</code> file and now all is good.</p>\n<p>The default password for java default truststore is <code>changeit</code>.</p>\n"},{"tags":[],"owner":{"account_id":3965245,"reputation":4105,"user_id":3271406,"accept_rate":25,"display_name":"lu_ko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637847804,"creation_date":1637765206,"answer_id":70098146,"question_id":62509454,"body_markdown":"Ognjen and Asanka propose to use the same truststore for whole application (or application server) that is not suitable in some cases. But AWS Java SDK provides ``ApacheHttpClientConfig`` via ``ClientConfiguration`` to affect Apache HTTP client, e.g.:\r\n\r\n```\r\nimport com.amazonaws.ApacheHttpClientConfig;\r\nimport com.amazonaws.ClientConfiguration;\r\nimport com.amazonaws.http.conn.ssl.SdkTLSSocketFactory;\r\nimport com.amazonaws.services.s3.AmazonS3;\r\nimport com.amazonaws.services.s3.AmazonS3ClientBuilder;\r\nimport javax.net.ssl.HostnameVerifier;\r\nimport javax.net.ssl.SSLContext;\r\nimport org.apache.http.conn.socket.ConnectionSocketFactory;\r\n\r\nSSLContext myContext = ...\r\nHostnameVerifier myVerifier = ...\r\n\r\nConnectionSocketFactory factory = new SdkTLSSocketFactory(myContext, myVerifier);\r\n\r\nClientConfiguration clientConfiguration = new ClientConfiguration();\r\nclientConfiguration.getApacheHttpClientConfig().setSslSocketFactory(factory);\r\n\r\nAmazonS3 s3client = AmazonS3ClientBuilder.standard()\r\n    .withClientConfiguration(clientConfiguration)\r\n    .build();\r\n```\r\n\r\nEdit: See also [StackOverflow question #47913449][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/47913449","title":"AWS Java SDK SSL Certificates","body":"<p>Ognjen and Asanka propose to use the same truststore for whole application (or application server) that is not suitable in some cases. But AWS Java SDK provides <code>ApacheHttpClientConfig</code> via <code>ClientConfiguration</code> to affect Apache HTTP client, e.g.:</p>\n<pre><code>import com.amazonaws.ApacheHttpClientConfig;\nimport com.amazonaws.ClientConfiguration;\nimport com.amazonaws.http.conn.ssl.SdkTLSSocketFactory;\nimport com.amazonaws.services.s3.AmazonS3;\nimport com.amazonaws.services.s3.AmazonS3ClientBuilder;\nimport javax.net.ssl.HostnameVerifier;\nimport javax.net.ssl.SSLContext;\nimport org.apache.http.conn.socket.ConnectionSocketFactory;\n\nSSLContext myContext = ...\nHostnameVerifier myVerifier = ...\n\nConnectionSocketFactory factory = new SdkTLSSocketFactory(myContext, myVerifier);\n\nClientConfiguration clientConfiguration = new ClientConfiguration();\nclientConfiguration.getApacheHttpClientConfig().setSslSocketFactory(factory);\n\nAmazonS3 s3client = AmazonS3ClientBuilder.standard()\n    .withClientConfiguration(clientConfiguration)\n    .build();\n</code></pre>\n<p>Edit: See also <a href=\"https://stackoverflow.com/questions/47913449\">StackOverflow question #47913449</a>.</p>\n"}],"owner":{"account_id":10122130,"reputation":1238,"user_id":7478712,"accept_rate":80,"display_name":"Ognjen Mišić"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9362,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":62530876,"answer_count":3,"score":5,"last_activity_date":1676631736,"creation_date":1592811106,"question_id":62509454,"body_markdown":"I have a JBoss AS7 connecting to AWS and specifically to S3 over the AWS SDK for Java, I have the access and secret keys, and everything runs fine. I use the S3 for various file sharing.\r\n\r\nThe JBoss&#39; datasource connects to AWS RDS. I&#39;ve enabled SSL encryption for the datasource - I have the `rds-ca-2019-root.pem` in my truststore configured in my standalone.xml, and my RDS datasource connects and verifies the SSL with no problem.\r\nHowever, when I try to connect to S3 over the SDK (when the truststore with the RDS cert is enabled), I get the following exception:\r\n\r\n```Caused by: com.amazonaws.SdkClientException: Unable to execute HTTP request: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target```\r\n\r\nSo, no truststore enabled: I can connect to S3 through SDK just fine. When I enable the truststore with the RDS certificate: my SDK -&gt; S3 connection breaks. \r\n\r\nI can&#39;t figure out what certificate I need to add to the truststore so that the SDK can work, or do I need to configure the SDK to use TLS somehow?","title":"AWS Java SDK SSL Certificates","body":"<p>I have a JBoss AS7 connecting to AWS and specifically to S3 over the AWS SDK for Java, I have the access and secret keys, and everything runs fine. I use the S3 for various file sharing.</p>\n<p>The JBoss' datasource connects to AWS RDS. I've enabled SSL encryption for the datasource - I have the <code>rds-ca-2019-root.pem</code> in my truststore configured in my standalone.xml, and my RDS datasource connects and verifies the SSL with no problem.\nHowever, when I try to connect to S3 over the SDK (when the truststore with the RDS cert is enabled), I get the following exception:</p>\n<p><code>Caused by: com.amazonaws.SdkClientException: Unable to execute HTTP request: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target</code></p>\n<p>So, no truststore enabled: I can connect to S3 through SDK just fine. When I enable the truststore with the RDS certificate: my SDK -&gt; S3 connection breaks.</p>\n<p>I can't figure out what certificate I need to add to the truststore so that the SDK can work, or do I need to configure the SDK to use TLS somehow?</p>\n"},{"tags":["java","reflection","constructor"],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1431428426,"creation_date":1431428426,"answer_id":30188873,"question_id":30188805,"body_markdown":"You&#39;re calling the first of the two constructors without argument. But how can you be sure that the first constructor in the array is the one without argument, and not the one expecting a String?\r\n\r\nYou can&#39;t, because [the javadoc][1] says:\r\n\r\n&gt; The elements in the array returned are not sorted and are not in any particular order.\r\n\r\nIf you want a reference to the no-argument constructor of the class, you should call\r\n  \r\n    cl.getDeclaredConstructor();\r\n\r\nIf you want a reference to the constructor taking a STring as argument, you should call\r\n  \r\n    cl.getDeclaredConstructor(String.class);\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html#getDeclaredConstructors%28%29","title":"reflection newinstance constructor java wrong number of arguments","body":"<p>You're calling the first of the two constructors without argument. But how can you be sure that the first constructor in the array is the one without argument, and not the one expecting a String?</p>\n\n<p>You can't, because <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html#getDeclaredConstructors%28%29\" rel=\"noreferrer\">the javadoc</a> says:</p>\n\n<blockquote>\n  <p>The elements in the array returned are not sorted and are not in any particular order.</p>\n</blockquote>\n\n<p>If you want a reference to the no-argument constructor of the class, you should call</p>\n\n<pre><code>cl.getDeclaredConstructor();\n</code></pre>\n\n<p>If you want a reference to the constructor taking a STring as argument, you should call</p>\n\n<pre><code>cl.getDeclaredConstructor(String.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13356416,"reputation":372,"user_id":9639790,"display_name":"shreeramaute"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676631426,"creation_date":1676631426,"answer_id":75483388,"question_id":30188805,"body_markdown":"&gt; the &quot;wrong number of arguments&quot; error on call of newInstance() appears till Java 10, which is resolved in Java 11 onwards.\r\n\r\n@JBNizet solution is right, I would like to add to it, you can get array of constructors, loop through each constructor, add a conditional check for parameter counts as per your need and do the respective configurations as follows:\r\n\r\n    Constructor&lt;?&gt;[] constructors = cl.getDeclaredConstructors();\r\n    try {\r\n          for( Constructor construct : constructors){\r\n              if (construct.getParameterCount() == 0) {\r\n               p1 = (PrintClass) construct.newInstance(null); \r\n              }\r\n              p2 = (PrintClass) construct.newInstance(&quot;this is not PrintClass&quot;);\r\n          }\r\n          p1.print();\r\n          p2.print();\r\n        } catch (InstantiationException | IllegalAccessException | IllegalArgumentException | InvocationTargetException e) {\r\n            e.printStackTrace();\r\n        }","title":"reflection newinstance constructor java wrong number of arguments","body":"<blockquote>\n<p>the &quot;wrong number of arguments&quot; error on call of newInstance() appears till Java 10, which is resolved in Java 11 onwards.</p>\n</blockquote>\n<p>@JBNizet solution is right, I would like to add to it, you can get array of constructors, loop through each constructor, add a conditional check for parameter counts as per your need and do the respective configurations as follows:</p>\n<pre><code>Constructor&lt;?&gt;[] constructors = cl.getDeclaredConstructors();\ntry {\n      for( Constructor construct : constructors){\n          if (construct.getParameterCount() == 0) {\n           p1 = (PrintClass) construct.newInstance(null); \n          }\n          p2 = (PrintClass) construct.newInstance(&quot;this is not PrintClass&quot;);\n      }\n      p1.print();\n      p2.print();\n    } catch (InstantiationException | IllegalAccessException | IllegalArgumentException | InvocationTargetException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n"}],"owner":{"account_id":1730192,"reputation":333,"user_id":1583951,"accept_rate":53,"display_name":"zoro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4981,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":30188873,"answer_count":2,"score":1,"last_activity_date":1676631426,"creation_date":1431428219,"question_id":30188805,"body_markdown":"\r\nI am learning Reflection in Java, and trying to make an example of Constructor. But there is a problem: &quot;wrong number of arguments&quot;.\r\nSearching through google and stackoverflow, I cannot find the same problem as I am currently facing. \r\ncan anyone please help me to understand the problem, thank you so much.\r\nThis is my codes:\r\n\r\n    \tpublic static void main(String[] args) {\r\n\t\tPrintClass f = new PrintClass();\r\n\t\tClass cl = f.getClass();\r\n\t\tConstructor&lt;?&gt; constructor[] = cl.getDeclaredConstructors(); // cl.getDeclaredConstructors() also won&#39;t work...\r\n\r\n\t\tf.field1 = 3;\r\n\t\tPrintClass p1 = null;\r\n\t\tPrintClass p2 = null;\r\n\r\n\t\ttry {\r\n\t\t\tp1 = (PrintClass) constructor[0].newInstance(); // constructor[0].newInstance((Object[])args) also won&#39;t work...\r\n\t\t\tp2 = (PrintClass) constructor[1].newInstance(&quot;this is not PrintClass-------&quot;);\r\n\r\n\t\t\tp1.print();\r\n\t\t\tp2.print();\r\n\r\n\t\t} catch (InstantiationException | IllegalAccessException\r\n\t\t\t\t| IllegalArgumentException | InvocationTargetException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t    }\r\n    }\r\n\r\n    class PrintClass {\r\n\tString s = &quot;this is PrintClass...&quot;;\r\n\tint field1;\r\n\r\n\tpublic PrintClass(String s) {\r\n\t\tthis.s = s;\r\n\t}\r\n\r\n\tpublic PrintClass() {\r\n\t}\r\n\r\n\tpublic void print() {\r\n\t\tSystem.out.println(s);\r\n\t}\r\n}\r\n\r\nand this is the error\r\n\r\n    java.lang.IllegalArgumentException: wrong number of arguments\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\r\n\tat java.lang.reflect.Constructor.newInstance(Unknown Source)\r\n\tat reflection.MainClass.main(MainClass.java:18)\r\nAgain, thank you so much for helping me understand the problem. :)","title":"reflection newinstance constructor java wrong number of arguments","body":"<p>I am learning Reflection in Java, and trying to make an example of Constructor. But there is a problem: \"wrong number of arguments\".\nSearching through google and stackoverflow, I cannot find the same problem as I am currently facing. \ncan anyone please help me to understand the problem, thank you so much.\nThis is my codes:</p>\n\n<pre><code>    public static void main(String[] args) {\n    PrintClass f = new PrintClass();\n    Class cl = f.getClass();\n    Constructor&lt;?&gt; constructor[] = cl.getDeclaredConstructors(); // cl.getDeclaredConstructors() also won't work...\n\n    f.field1 = 3;\n    PrintClass p1 = null;\n    PrintClass p2 = null;\n\n    try {\n        p1 = (PrintClass) constructor[0].newInstance(); // constructor[0].newInstance((Object[])args) also won't work...\n        p2 = (PrintClass) constructor[1].newInstance(\"this is not PrintClass-------\");\n\n        p1.print();\n        p2.print();\n\n    } catch (InstantiationException | IllegalAccessException\n            | IllegalArgumentException | InvocationTargetException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n\n    }\n}\n\nclass PrintClass {\nString s = \"this is PrintClass...\";\nint field1;\n\npublic PrintClass(String s) {\n    this.s = s;\n}\n\npublic PrintClass() {\n}\n\npublic void print() {\n    System.out.println(s);\n}\n</code></pre>\n\n<p>}</p>\n\n<p>and this is the error</p>\n\n<pre><code>java.lang.IllegalArgumentException: wrong number of arguments\nat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\nat sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\nat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\nat java.lang.reflect.Constructor.newInstance(Unknown Source)\nat reflection.MainClass.main(MainClass.java:18)\n</code></pre>\n\n<p>Again, thank you so much for helping me understand the problem. :)</p>\n"},{"tags":["java","apache-kafka","reactor-kafka"],"comments":[{"owner":{"account_id":18562970,"reputation":392,"user_id":13526580,"display_name":"Jessica Vasey"},"score":1,"creation_date":1674848564,"post_id":75261805,"comment_id":132808475,"body_markdown":"Why would you need 60 consumers? What&#39;s the logic behind this. Increasing the number of partitions increases the throughput but also has some downfalls such as increased downtime when there is a new leader election.\n\nYou currently have 3 partitions and if there are 60 consumers then majority of those consumers will be inactive. Usually you should have as many consumers as partitions","body":"Why would you need 60 consumers? What&#39;s the logic behind this. Increasing the number of partitions increases the throughput but also has some downfalls such as increased downtime when there is a new leader election.  You currently have 3 partitions and if there are 60 consumers then majority of those consumers will be inactive. Usually you should have as many consumers as partitions"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674877402,"creation_date":1674870727,"answer_id":75264876,"question_id":75261805,"body_markdown":"&gt; since the topic has only three partitions, that at any time, 57 other consumers will be wasted?\r\n\r\nYes. That&#39;s how Kafka consumer API works. The framework you use around it isn&#39;t relevant. \r\n\r\n&gt; benefits from scaling up the number of containers when the number of partitions is low\r\n\r\nYou need to separate the event processing (saving to a reposistory) from the actual consumption / poll loop. For example, push transformed events onto a non-blocking, external queue / external API, without waiting for a response. Then setup an autoscaler on that API endpoint. ","title":"Reactor Kafka - Bottleneck if the number of consumer is greater than the number of partition","body":"<blockquote>\n<p>since the topic has only three partitions, that at any time, 57 other consumers will be wasted?</p>\n</blockquote>\n<p>Yes. That's how Kafka consumer API works. The framework you use around it isn't relevant.</p>\n<blockquote>\n<p>benefits from scaling up the number of containers when the number of partitions is low</p>\n</blockquote>\n<p>You need to separate the event processing (saving to a reposistory) from the actual consumption / poll loop. For example, push transformed events onto a non-blocking, external queue / external API, without waiting for a response. Then setup an autoscaler on that API endpoint.</p>\n"},{"tags":[],"owner":{"account_id":9083183,"reputation":172,"user_id":7366323,"display_name":"Aritra Sur Roy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674882657,"creation_date":1674882657,"answer_id":75265516,"question_id":75261805,"body_markdown":"&gt; Does it mean, since the topic has only three partitions, that at any time, 57 other consumers will be wasted?\r\n\r\nYes. For a single consumer group you can have as many concurrent consumers as the number of partitions.\r\n\r\n&gt; How to benefit from scaling up the number of containers when the number of partitions is low please?\r\n\r\nYou might try to register each of those containers in different consumer groups of number of partitions. That will work. But as mentioned by @OneCricketeer you should have a separate event processing pipeline. That would be the best approach if you don&#39;t want to process the same event multiple times.\r\n","title":"Reactor Kafka - Bottleneck if the number of consumer is greater than the number of partition","body":"<blockquote>\n<p>Does it mean, since the topic has only three partitions, that at any time, 57 other consumers will be wasted?</p>\n</blockquote>\n<p>Yes. For a single consumer group you can have as many concurrent consumers as the number of partitions.</p>\n<blockquote>\n<p>How to benefit from scaling up the number of containers when the number of partitions is low please?</p>\n</blockquote>\n<p>You might try to register each of those containers in different consumer groups of number of partitions. That will work. But as mentioned by @OneCricketeer you should have a separate event processing pipeline. That would be the best approach if you don't want to process the same event multiple times.</p>\n"}],"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676631350,"creation_date":1674842757,"question_id":75261805,"body_markdown":"Is the number of partitions is a bottleneck to performance if the number of kafka consumer is (much) greater than the number of partitions?\r\n\r\nLet&#39;s say I have a topic named the-topic with only three partitions.\r\n\r\nNow, I have this below app in order to consume from the topic:\r\n\r\n```\r\n@Service\r\npublic class MyConsumer implements CommandLineRunner {\r\n\r\n    @Autowired\r\n    private KafkaReceiver&lt;String, String&gt; kafkaReceiver;\r\n\r\n\r\n    @Override\r\n    public void run(String... args) {\r\n        myConsumer().subscribe();\r\n    }\r\n\r\n    public Flux&lt;String&gt; myConsumer() {\r\n        return kafkaReceiver.receive()\r\n                .flatMap(oneMessage -&gt; consume(oneMessage))\r\n                .doOnNext(abc -&gt; System.out.println(&quot;successfully consumed {}={}&quot; + abc))\r\n                .doOnError(throwable -&gt; System.out.println(&quot;something bad happened while consuming : {}&quot; + throwable.getMessage()));\r\n    }\r\n\r\n    private Mono&lt;String&gt; consume(ConsumerRecord&lt;String, String&gt; oneMessage) {\r\n        // this first line is a heavy in memory computation which transforms the incoming message to a data to be saved.\r\n        // it is very intensive computation, but has been tested NON BLOCKING by different tools, and takes 1 second :D\r\n        String transformedStringCPUIntensiveNonButNonBLocking = transformDataNonBlockingWithIntensiveOperation(oneMessage);\r\n        //then, just saved the correct transformed data into any REACTIVE repository :)\r\n        return myReactiveRepository.save(transformedStringCPUIntensiveNonButNonBLocking);\r\n    }\r\n\r\n}\r\n```\r\n\r\nI dockerized the app and deploy in Kubernetes.\r\n\r\nWith cloud providers, I am able to easily deploy 60 of those containers, 60 of those apps.\r\n\r\nAnd suppose for the sake of this question, each of my app are super resilient, never crashes.\r\n\r\nDoes it mean, since the topic has only three partitions, that at any time, 57 other consumers will be wasted?\r\n\r\nHow to benefit from scaling up the number of containers when the number of partitions is low?\r\n","title":"Reactor Kafka - Bottleneck if the number of consumer is greater than the number of partition","body":"<p>Is the number of partitions is a bottleneck to performance if the number of kafka consumer is (much) greater than the number of partitions?</p>\n<p>Let's say I have a topic named the-topic with only three partitions.</p>\n<p>Now, I have this below app in order to consume from the topic:</p>\n<pre><code>@Service\npublic class MyConsumer implements CommandLineRunner {\n\n    @Autowired\n    private KafkaReceiver&lt;String, String&gt; kafkaReceiver;\n\n\n    @Override\n    public void run(String... args) {\n        myConsumer().subscribe();\n    }\n\n    public Flux&lt;String&gt; myConsumer() {\n        return kafkaReceiver.receive()\n                .flatMap(oneMessage -&gt; consume(oneMessage))\n                .doOnNext(abc -&gt; System.out.println(&quot;successfully consumed {}={}&quot; + abc))\n                .doOnError(throwable -&gt; System.out.println(&quot;something bad happened while consuming : {}&quot; + throwable.getMessage()));\n    }\n\n    private Mono&lt;String&gt; consume(ConsumerRecord&lt;String, String&gt; oneMessage) {\n        // this first line is a heavy in memory computation which transforms the incoming message to a data to be saved.\n        // it is very intensive computation, but has been tested NON BLOCKING by different tools, and takes 1 second :D\n        String transformedStringCPUIntensiveNonButNonBLocking = transformDataNonBlockingWithIntensiveOperation(oneMessage);\n        //then, just saved the correct transformed data into any REACTIVE repository :)\n        return myReactiveRepository.save(transformedStringCPUIntensiveNonButNonBLocking);\n    }\n\n}\n</code></pre>\n<p>I dockerized the app and deploy in Kubernetes.</p>\n<p>With cloud providers, I am able to easily deploy 60 of those containers, 60 of those apps.</p>\n<p>And suppose for the sake of this question, each of my app are super resilient, never crashes.</p>\n<p>Does it mean, since the topic has only three partitions, that at any time, 57 other consumers will be wasted?</p>\n<p>How to benefit from scaling up the number of containers when the number of partitions is low?</p>\n"},{"tags":["java","kubernetes","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1675175872,"post_id":75298622,"comment_id":132869187,"body_markdown":"Try it out and measure. There is no easy answer as it all depends on the available resources, how well your code is written. So the only thing to do is measure it.","body":"Try it out and measure. There is no easy answer as it all depends on the available resources, how well your code is written. So the only thing to do is measure it."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1675230405,"post_id":75298622,"comment_id":132881470,"body_markdown":"You probably don&#39;t need to multiply memory. 3 cores should be able to distribute threads in parallel. As mentioned, measure your app heap space for memory, though","body":"You probably don&#39;t need to multiply memory. 3 cores should be able to distribute threads in parallel. As mentioned, measure your app heap space for memory, though"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675230601,"creation_date":1675230601,"answer_id":75306124,"question_id":75298622,"body_markdown":"The difference is high availability.\r\n\r\nIf you have any one pod, consuming all three partitions, and it stops, then you need additional config in k8s to have a RestartPolicy.\r\n\r\nAlternatively, have a ReplicaSet with a maxContainers of 3, and then Kafka Consumer API can rebalance when any one of them starts/stops.\r\n\r\nYou can also look into KEDA to autoscale based on consumer lag. ","title":"Difference between 3 apps setConcurrency(1) vs 1 app setConcurrency(3)","body":"<p>The difference is high availability.</p>\n<p>If you have any one pod, consuming all three partitions, and it stops, then you need additional config in k8s to have a RestartPolicy.</p>\n<p>Alternatively, have a ReplicaSet with a maxContainers of 3, and then Kafka Consumer API can rebalance when any one of them starts/stops.</p>\n<p>You can also look into KEDA to autoscale based on consumer lag.</p>\n"}],"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1675787006,"accepted_answer_id":75306124,"answer_count":1,"score":-2,"last_activity_date":1676631304,"creation_date":1675175147,"question_id":75298622,"body_markdown":"I have a question regarding Kafka concurrency with Spring Kafka. I have one Kafka topic ```theimportanttopic``` where many messages are being sent over it. Hard fact, this Kafka topic has three partitions. (Calling them theimportanttopic-0 theimportanttopic-1 theimportanttopic-2)\r\n\r\nIt is known Kafka does not allow multiple consumers from one same group to consume messages from one same partition. I.e, no two consumers within one same group can consume from theimportanttopic-0.\r\n\r\nMy Spring Kafka application code is as follow:\r\n\r\n```java\r\n@Configuration\r\nclass KafkaConsumerConfig {\r\n\r\n    @Bean\r\n    public Map&lt;String, Object&gt; consumerConfigs() {\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;mykafka.com:9092&quot;);\r\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        return props;\r\n    }\r\n\r\n    @Bean\r\n    public ConsumerFactory&lt;String, String&gt; consumerFactory() {\r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(consumerConfigs());\r\n    }\r\n\r\n    @Bean\r\n    public KafkaListenerContainerFactory&lt;ConcurrentMessageListenerContainer&lt;String, String&gt;&gt; kafkaListenerContainerFactory() {\r\n        ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        factory.setConsumerFactory(consumerFactory());\r\n        factory.setConcurrency(1); //HERE\r\n        return factory;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n@Component\r\nclass KafkaListenersExample {\r\n\r\n    Logger LOG = LoggerFactory.getLogger(KafkaListenersExample.class);\r\n\r\n    @KafkaListener(topics = &quot;theimportanttopic&quot;, groupId = &quot;uniquegroup&quot;)\r\n    void listener(String data) {\r\n        LOG.info(data);\r\n        doSomethingImportantWithTheData(data);\r\n    }\r\n}\r\n```\r\n\r\nWith that, I am having a hard time understanding the difference between the two constructs:\r\n\r\nSuppose this application is already dockerized and a cloud environment is ready for use.\r\n\r\nDesign number 1: this application, since it is in a container deployed on the cloud, like Kubernetes, spin up three instances of it.\r\nBy definition, I will have three of those &quot;apps&quot; and each one of the app will consume from one out of the three partition.\r\n\r\n```none\r\nkubectl get pods\r\nmy-app-AaAaAaAaAa-AaAaA\r\nmy-app-BbBbBbBbBb-BbBbB\r\nmy-app-CcCcCcCcCc-CcCcC\r\n```\r\n(and hypothetically, my-app-AaAaAaAaAa-AaAaA consumes theimportanttopic-0, my-app-BbBbBbBbBb-BbBbB theimportanttopic-1, my-app-CcCcCcCcCc-CcCcCtheimportanttopic-2)\r\n\r\n\r\nDesign number 2:\r\nOn the other hand, I can have one, and only one of this app my-app in container, set the concurrency to 3. (same code as above, just one line change)\r\n\r\n```java\r\n@Bean\r\npublic KafkaListenerContainerFactory&lt;ConcurrentMessageListenerContainer&lt;String, String&gt;&gt; kafkaListenerContainerFactory() {\r\n    ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory =\r\n            new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n    factory.setConsumerFactory(consumerFactory());\r\n    factory.setConcurrency(3);\r\n    return factory;\r\n}\r\n```\r\n\r\nWhat are the differences between the two designs please?\r\n\r\nWhich one is preferred and why please?\r\n\r\nThis is not an opinion based question. What is the performance, the cost, the pros and cons between design number 1 and design number 2?\r\n\r\n","title":"Difference between 3 apps setConcurrency(1) vs 1 app setConcurrency(3)","body":"<p>I have a question regarding Kafka concurrency with Spring Kafka. I have one Kafka topic <code>theimportanttopic</code> where many messages are being sent over it. Hard fact, this Kafka topic has three partitions. (Calling them theimportanttopic-0 theimportanttopic-1 theimportanttopic-2)</p>\n<p>It is known Kafka does not allow multiple consumers from one same group to consume messages from one same partition. I.e, no two consumers within one same group can consume from theimportanttopic-0.</p>\n<p>My Spring Kafka application code is as follow:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\nclass KafkaConsumerConfig {\n\n    @Bean\n    public Map&lt;String, Object&gt; consumerConfigs() {\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;mykafka.com:9092&quot;);\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        return props;\n    }\n\n    @Bean\n    public ConsumerFactory&lt;String, String&gt; consumerFactory() {\n        return new DefaultKafkaConsumerFactory&lt;&gt;(consumerConfigs());\n    }\n\n    @Bean\n    public KafkaListenerContainerFactory&lt;ConcurrentMessageListenerContainer&lt;String, String&gt;&gt; kafkaListenerContainerFactory() {\n        ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.setConsumerFactory(consumerFactory());\n        factory.setConcurrency(1); //HERE\n        return factory;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\nclass KafkaListenersExample {\n\n    Logger LOG = LoggerFactory.getLogger(KafkaListenersExample.class);\n\n    @KafkaListener(topics = &quot;theimportanttopic&quot;, groupId = &quot;uniquegroup&quot;)\n    void listener(String data) {\n        LOG.info(data);\n        doSomethingImportantWithTheData(data);\n    }\n}\n</code></pre>\n<p>With that, I am having a hard time understanding the difference between the two constructs:</p>\n<p>Suppose this application is already dockerized and a cloud environment is ready for use.</p>\n<p>Design number 1: this application, since it is in a container deployed on the cloud, like Kubernetes, spin up three instances of it.\nBy definition, I will have three of those &quot;apps&quot; and each one of the app will consume from one out of the three partition.</p>\n<pre class=\"lang-none prettyprint-override\"><code>kubectl get pods\nmy-app-AaAaAaAaAa-AaAaA\nmy-app-BbBbBbBbBb-BbBbB\nmy-app-CcCcCcCcCc-CcCcC\n</code></pre>\n<p>(and hypothetically, my-app-AaAaAaAaAa-AaAaA consumes theimportanttopic-0, my-app-BbBbBbBbBb-BbBbB theimportanttopic-1, my-app-CcCcCcCcCc-CcCcCtheimportanttopic-2)</p>\n<p>Design number 2:\nOn the other hand, I can have one, and only one of this app my-app in container, set the concurrency to 3. (same code as above, just one line change)</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic KafkaListenerContainerFactory&lt;ConcurrentMessageListenerContainer&lt;String, String&gt;&gt; kafkaListenerContainerFactory() {\n    ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory =\n            new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n    factory.setConsumerFactory(consumerFactory());\n    factory.setConcurrency(3);\n    return factory;\n}\n</code></pre>\n<p>What are the differences between the two designs please?</p>\n<p>Which one is preferred and why please?</p>\n<p>This is not an opinion based question. What is the performance, the cost, the pros and cons between design number 1 and design number 2?</p>\n"},{"tags":["java","selenium-webdriver","arraylist","selenium-chromedriver","selenium-firefoxdriver"],"answers":[{"tags":[],"owner":{"account_id":27773545,"reputation":26,"user_id":21203373,"display_name":"furkan bi&#231;err"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676631293,"creation_date":1676292572,"answer_id":75436118,"question_id":75435929,"body_markdown":"Here are two Methods, and then you can use `tabnumber` for switching tabs\r\n\r\n    public void switchTab(int tabNumber){\r\n\r\n        driver.switchTo().window(listTabs().get(tabNumber));\r\n    }\r\n\r\n    public List&lt;String&gt; listTabs(){\r\n        List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n        for (String window: driver.getWindowHandles()){\r\n            list.add(window);\r\n        }\r\n        return list;\r\n    }","title":"Unable to work in second tab using java selenium","body":"<p>Here are two Methods, and then you can use <code>tabnumber</code> for switching tabs</p>\n<pre><code>public void switchTab(int tabNumber){\n\n    driver.switchTo().window(listTabs().get(tabNumber));\n}\n\npublic List&lt;String&gt; listTabs(){\n    List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n    for (String window: driver.getWindowHandles()){\n        list.add(window);\n    }\n    return list;\n}\n</code></pre>\n"}],"owner":{"account_id":23766170,"reputation":21,"user_id":17780910,"display_name":"Bug Hunter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676631293,"creation_date":1676291591,"question_id":75435929,"body_markdown":"I am registering on a website and for OTP and signup link I am using yopmail so I have to toggle between two tabs everything is working fine but when I switch to second window using any browser webdriver is not focussing on the second tab and giving error as array index out of bounds I have triedit on both chrome and firefox browsers but still getting the same error   \r\n\r\n\r\n\r\n\r\n    package Stripetesting;\r\n    import org.openqa.selenium.*;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.openqa.selenium.firefox.FirefoxDriver;\r\n    import org.openqa.selenium.interactions.Actions;\r\n    \r\n    import java.awt.*;\r\n    import java.awt.event.KeyEvent;\r\n    import java.util.ArrayList;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    public class Plansinfirefox {\r\n        public static void main(String[] args) throws InterruptedException, AWTException {\r\n            System.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;/home/gt51022/Downloads/geckodriver-v0.32.0-linux64/geckodriver&quot;);\r\n            WebDriver driver = new FirefoxDriver();\r\n            String windowHandle = driver.getWindowHandle();\r\n            driver.get(&quot;https://app.ai/&quot;);\r\n            driver.navigate().forward();\r\n            driver.manage().window().maximize();\r\n            driver.navigate().forward();\r\n            Thread.sleep(4000);\r\n            driver.findElement(By.xpath(&quot;//*[@id=\\&quot;formBasicEmail\\&quot;]&quot;)).sendKeys(&quot;wond@yopmail.com&quot;);\r\n            Thread.sleep(2000);\r\n            driver.findElement(By.name(&quot;password&quot;)).sendKeys(&quot;Qwerty@1&quot;);\r\n            driver.manage().timeouts().implicitlyWait(7, TimeUnit.SECONDS);\r\n            driver.navigate().forward();\r\n            driver.findElement(By.className(&quot;checkmark&quot;)).click();\r\n            driver.manage().timeouts().implicitlyWait(7, TimeUnit.SECONDS);\r\n            driver.findElement(By.xpath(&quot;//*[@id=\\&quot;root\\&quot;]/div/div[2]/div/div/div[1]/div/div/form/button&quot;)).click();\r\n            driver.navigate().forward();\r\n            Thread.sleep(4000);\r\n            driver.findElement(By.xpath(&quot;/html/body/div/div/div[1]/ul/li[2]/a&quot;)).click();\r\n            Thread.sleep(4000);\r\n            // Selecting the team from here //\r\n            driver.findElement(By.xpath(&quot;/html/body/div/div[2]/div[2]/div[3]/div/div/div[2]/div&quot;)).click();\r\n            driver.navigate().forward();\r\n            Thread.sleep(4000);\r\n            // Clicking on add new team member //\r\n            driver.findElement(By.xpath(&quot;/html/body/div/div/div[2]/div[2]/div[1]/div[2]/button&quot;)).click();\r\n            Thread.sleep(1000);\r\n            ArrayList&lt;String&gt; tabs3 = new ArrayList&lt;String&gt;(driver.getWindowHandles());\r\n            driver.switchTo().newWindow(WindowType.TAB);\r\n            // Generating random email //\r\n            driver.get(&quot;http://www.yopmail.com&quot;);\r\n            // Clicking on random email generator //\r\n            driver.findElement(By.xpath(&quot;/html/body/div/div[2]/main/div[3]/div/div[2]/div/a[1]/div[2]/h3&quot;)).click();\r\n            Thread.sleep(4000);\r\n            // Clicking on copy to clipboard //\r\n            WebElement copytoclipboard  = driver.findElement(By.xpath(&quot;(//span[@class=\\&quot;notmobile\\&quot;])[2]&quot;));\r\n            Actions actions = new Actions(driver);\r\n            actions.click(copytoclipboard).doubleClick().perform();\r\n            // navigating to main window //\r\n            driver.switchTo().window(windowHandle);\r\n            Thread.sleep(4000);\r\n            driver.findElement(By.xpath(&quot;//*[@id=\\&quot;formPlaintextEmail\\&quot;]&quot;)).sendKeys(Keys.LEFT_CONTROL,&quot;v&quot;);\r\n            // Selecting the role from here //\r\n            driver.navigate().forward();driver.findElement(By.xpath(&quot;/html/body/div[3]/div/div/form/div[2]/div[2]/div/div/div[1]/input[1]&quot;)).click();\r\n           driver.navigate().forward();\r\n            Thread.sleep(4000);\r\n            // Selecting the permissions from here //\r\n            driver.findElement(By.xpath(&quot;//a[@id=\\&quot;basic-typeahead-multiple-item-16\\&quot;]&quot;)).click();\r\n            Thread.sleep(2000);\r\n            //driver.findElement(By.xpath(&quot;(//span)[22]&quot;)).click();\r\n            driver.findElement(By.xpath(&quot;//button[@id=\\&quot;teams\\&quot;]&quot;)).click();\r\n            driver.navigate().forward();\r\n            Thread.sleep(2000);\r\n            driver.findElement(By.xpath(&quot;/html/body/div[3]/div/div/form/div[2]/div[3]/div/div/div/div/div/span[1]&quot;)).click();\r\n            Thread.sleep(2000);\r\n            driver.navigate().forward();\r\n            driver.findElement(By.xpath(&quot;/html/body/div[3]/div/div/form/div[2]/div[3]/div/div/button&quot;)).click();\r\n            driver.findElement(By.xpath(&quot;//button[@class=\\&quot;btn btn-primary\\&quot;]&quot;)).click();\r\n            Thread.sleep(2000);\r\n            driver.manage().deleteAllCookies();\r\n            // If you want to sign out //\r\n            driver.findElement(By.xpath(&quot;//img[@class=\\&quot;rounded-circle\\&quot;]&quot;)).click();\r\n            driver.findElement(By.xpath(&quot;//a[@href=\\&quot;#\\&quot;]&quot;)).click();\r\n            Thread.sleep(4000);\r\n            // Opening new browser so commenting this code //\r\n            //driver.switchTo().newWindow(WindowType.WINDOW);\r\n            // User has received invitation //\r\n            System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;/home/gt51022/Downloads/chromedriver_linux64/chromedriver&quot;);\r\n            driver = new ChromeDriver();\r\n            driver.get(&quot;http://www.yopmail.com&quot;);\r\n            driver.findElement(By.xpath(&quot;//*[@id=\\&quot;login\\&quot;]&quot;)).sendKeys(Keys.LEFT_CONTROL,&quot;v&quot;); //replace the test email\r\n            //driver.get(&quot;http://www.yopmail.com&quot;);\r\n            driver.findElement(By.xpath(&quot;/html/body/div[1]/div[2]/main/div[3]/div/div[1]/div[2]/div/div/form/div/div/div[4]/button/i\\n&quot;)).click();\r\n            Thread.sleep(2000);\r\n            driver.manage().window().maximize();\r\n            driver.switchTo().frame(&quot;ifmail&quot;);\r\n            driver.findElement(By.linkText(&quot;http://app.ambaram.ai/signup&quot;)).click();\r\n            driver.switchTo().window(tabs3.get(2));\r\n            driver.switchTo().activeElement();\r\n            driver.navigate().forward();\r\n            Thread.sleep(2000);\r\n            driver.findElement(By.className(&quot;form-control&quot;)).sendKeys(&quot;buyer&quot;);\r\n            driver.navigate().forward();\r\n            Thread.sleep(2000);\r\n            driver.findElement(By.xpath(&quot;/html/body/div/div/div[2]/div/div[1]/div/div/form/div[2]/input&quot;)).sendKeys(Keys.LEFT_CONTROL,&quot;v&quot;);\r\n            Thread.sleep(1000);\r\n            driver.findElement(By.className(&quot;checkmark&quot;)).click();\r\n            Thread.sleep(1000);\r\n            driver.findElement(By.xpath(&quot;//*[@id=\\&quot;root\\&quot;]/div/div[2]/div/div[1]/div/div/form/button&quot;)).click();\r\n            //driver.findElement(By.xpath(&quot;/html/body/div/div/div[2]/div/div/div[1]/div/div/p/a&quot;)).click();\r\n            driver.navigate().forward();\r\n            /*Thread.sleep(4000);\r\n            // Commenting this code for usage checking //\r\n            driver.findElement(By.xpath(&quot;//*[@id=\\&quot;fullName\\&quot;]&quot;)).sendKeys(&quot;Bestfit&quot;);\r\n            driver.navigate().forward();\r\n            driver.findElement(By.name(&quot;email&quot;)).sendKeys(&quot;Second@yopmail.com&quot;);\r\n            driver.navigate().forward();\r\n            driver.findElement(By.className(&quot;checkmark&quot;)).click();\r\n            driver.findElement(By.xpath(&quot;//*[@id=\\&quot;root\\&quot;]/div/div[2]/div/div[1]/div/div/form/button&quot;)).click();\r\n            //perform other operations.\r\n            // Stopping the robot class as we have tab already opened //\r\n            /*Robot r = new Robot();\r\n            r.keyPress(KeyEvent.VK_CONTROL);\r\n            r.keyPress(KeyEvent.VK_T);\r\n            r.keyRelease(KeyEvent.VK_CONTROL);\r\n            r.keyRelease(KeyEvent.VK_T);*/\r\n            driver.switchTo().window(tabs3.get(1));\r\n            //driver.get(&quot;http://www.yopmail.com&quot;);\r\n            Thread.sleep(4000);\r\n            driver.navigate().refresh();\r\n            Thread.sleep(4000);\r\n            //driver.findElement(By.xpath(&quot;//*[@id=\\&quot;login\\&quot;]&quot;)).sendKeys(&quot;nu&quot;); //replace the test email\r\n            //driver.findElement(By.xpath(&quot;/html/body/div[1]/div[2]/main/div[3]/div/div[1]/div[2]/div/div/form/div/div/div[4]/button/i\\n&quot;)).click();\r\n            driver.switchTo().frame(&quot;ifmail&quot;);\r\n            driver.manage().timeouts().implicitlyWait(5, TimeUnit.SECONDS);\r\n            String strCode = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;mail\\&quot;]/div/table/tbody/tr[3]/td/table/tbody/tr[1]/td/table/tbody/tr[5]/td/span&quot;)).getText(); //replace the locator for verification code\r\n            System.out.println(&quot;----------------&quot;);\r\n            System.out.println(strCode);\r\n            System.out.println(&quot;----------------&quot;);\r\n            //Actions actions = new Actions(driver);\r\n            actions.sendKeys(Keys.chord(Keys.LEFT_CONTROL, &quot;c&quot;)).build().perform();\r\n            driver.switchTo().window(tabs3.get(2));\r\n            //driver.manage().timeouts().implicitlyWait(60,TimeUnit.SECONDS);\r\n            driver.navigate().forward();\r\n            driver.findElement(By.id(&quot;code1&quot;)).sendKeys(strCode);\r\n            driver.manage().timeouts().implicitlyWait(5, TimeUnit.SECONDS);\r\n            int i;\r\n            for (i = 1; i &lt;= 6; i++) {\r\n                driver.navigate().forward();\r\n                driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\r\n                driver.findElement(By.xpath(&quot;//button[@class=\\&quot;otp btn btn-primary\\&quot;]&quot;)).click();\r\n                driver.navigate().forward();\r\n                driver.findElement(By.xpath(&quot;//input[@name=\\&quot;newPassword\\&quot;]&quot;)).sendKeys(&quot;Qwert@1&quot;);\r\n                driver.navigate().forward();\r\n                driver.findElement(By.xpath(&quot;//input[@name=\\&quot;comfirmNewPass\\&quot;] &quot;)).sendKeys(&quot;Qwert@1&quot;);\r\n                driver.navigate().forward();\r\n                driver.findElement(By.xpath(&quot;//button[@class=\\&quot;otp btn btn-primary\\&quot;]&quot;)).click();\r\n                driver.navigate().forward();\r\n                driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\r\n                driver.findElement(By.name(&quot;email&quot;)).sendKeys(Keys.LEFT_CONTROL,&quot;v&quot;);\r\n                driver.navigate().forward();\r\n                driver.findElement(By.name(&quot;password&quot;)).sendKeys(&quot;Qwert@1&quot;);\r\n                driver.navigate().forward();\r\n                driver.findElement(By.xpath(&quot;//span[@class=\\&quot;checkmark\\&quot;]&quot;)).click();\r\n                driver.navigate().forward();\r\n                driver.findElement(By.xpath(&quot;//button[@class=\\&quot;btn btn-primary\\&quot;]&quot;)).click();\r\n                Thread.sleep(2000);\r\n                driver.findElement(By.xpath(&quot;(//span[@class=\\&quot;toggleHide\\&quot;])[2]&quot;)).click();\r\n                // User click on joining a team //\r\n                Thread.sleep(4000);\r\n                driver.findElement(By.xpath(&quot;/html/body/div/div/div[2]/div[2]/div[2]/span/div/button&quot;)).click();\r\n                //New Team Creation //\r\n                /*driver.findElement(By.xpath(&quot;(//span[@class=\\&quot;toggleHide\\&quot;])[2]&quot;)).click();\r\n                Thread.sleep(2000);\r\n                driver.findElement(By.xpath(&quot;//button[@class=\\&quot;NewUserWrap secondaryBtn\\&quot;]&quot;)).click();\r\n                Thread.sleep(2000);\r\n                driver.findElement(By.name(&quot;teamLogo&quot;)).sendKeys(&quot;/home/gt51022/Downloads/Wallpapers/Good.jpg&quot;);\r\n                Thread.sleep(2000);\r\n                driver.findElement(By.name(&quot;name&quot;)).sendKeys(&quot;Creaters&quot;);\r\n                Thread.sleep(2000);\r\n                driver.findElement(By.xpath(&quot;//textarea[@name=\\&quot;description\\&quot;]&quot;)).sendKeys(&quot;Of good time&quot;);\r\n                Thread.sleep(4000);\r\n                driver.findElement(By.xpath(&quot;/html/body/div[3]/div/div/form/div[3]/button[2]&quot;)).click();*/\r\n                // Changing the profile photo here //\r\n                Thread.sleep(1000);\r\n                driver.findElement(By.xpath(&quot;//img[@class=\\&quot;rounded-circle\\&quot;]&quot;)).click();\r\n                Thread.sleep(1000);\r\n                driver.findElement(By.xpath(&quot;/html/body/div/div[2]/div[2]/header/div/div[3]/div[3]/div/div/a[1]&quot;)).click();\r\n                Thread.sleep(1000);\r\n                WebElement elementLocator = driver.findElement(By.name(&quot;profilePicture&quot;));\r\n                actions.click(driver.findElement(By.name(&quot;profilePicture&quot;)));\r\n                //actions.moveToElement(elementLocator).click().perform();\r\n                driver.findElement(By.name(&quot;profilePicture&quot;)).sendKeys(&quot;/home/gt51022/Downloads/ca-times.brightspotcdn.jpeg&quot;);\r\n                //driver.findElement(By.name(&quot;profilePicture&quot;)).sendKeys(&quot;/home/gt8201/Downloads/Kolkata.jpeg&quot;);\r\n                driver.findElement(By.xpath(&quot;//button[@class=\\&quot;activateBtn btn btn-primary\\&quot;]&quot;)).click();\r\n                //driver.findElement(By.xpath(&quot;/html/body/div/div[2]/div[1]/ul/li[1]/a&quot;)).click();\r\n                Thread.sleep(2000);\r\n                actions.click(driver.findElement(By.name(&quot;profilePicture&quot;)));\r\n            }\r\n            // Navigating back to the dashboard //\r\n            driver.findElement(By.xpath(&quot;//span[@class=\\&quot;toggleHide\\&quot;]&quot;)).click();\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Unable to work in second tab using java selenium","body":"<p>I am registering on a website and for OTP and signup link I am using yopmail so I have to toggle between two tabs everything is working fine but when I switch to second window using any browser webdriver is not focussing on the second tab and giving error as array index out of bounds I have triedit on both chrome and firefox browsers but still getting the same error</p>\n<pre><code>package Stripetesting;\nimport org.openqa.selenium.*;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.firefox.FirefoxDriver;\nimport org.openqa.selenium.interactions.Actions;\n\nimport java.awt.*;\nimport java.awt.event.KeyEvent;\nimport java.util.ArrayList;\nimport java.util.concurrent.TimeUnit;\n\npublic class Plansinfirefox {\n    public static void main(String[] args) throws InterruptedException, AWTException {\n        System.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;/home/gt51022/Downloads/geckodriver-v0.32.0-linux64/geckodriver&quot;);\n        WebDriver driver = new FirefoxDriver();\n        String windowHandle = driver.getWindowHandle();\n        driver.get(&quot;https://app.ai/&quot;);\n        driver.navigate().forward();\n        driver.manage().window().maximize();\n        driver.navigate().forward();\n        Thread.sleep(4000);\n        driver.findElement(By.xpath(&quot;//*[@id=\\&quot;formBasicEmail\\&quot;]&quot;)).sendKeys(&quot;wond@yopmail.com&quot;);\n        Thread.sleep(2000);\n        driver.findElement(By.name(&quot;password&quot;)).sendKeys(&quot;Qwerty@1&quot;);\n        driver.manage().timeouts().implicitlyWait(7, TimeUnit.SECONDS);\n        driver.navigate().forward();\n        driver.findElement(By.className(&quot;checkmark&quot;)).click();\n        driver.manage().timeouts().implicitlyWait(7, TimeUnit.SECONDS);\n        driver.findElement(By.xpath(&quot;//*[@id=\\&quot;root\\&quot;]/div/div[2]/div/div/div[1]/div/div/form/button&quot;)).click();\n        driver.navigate().forward();\n        Thread.sleep(4000);\n        driver.findElement(By.xpath(&quot;/html/body/div/div/div[1]/ul/li[2]/a&quot;)).click();\n        Thread.sleep(4000);\n        // Selecting the team from here //\n        driver.findElement(By.xpath(&quot;/html/body/div/div[2]/div[2]/div[3]/div/div/div[2]/div&quot;)).click();\n        driver.navigate().forward();\n        Thread.sleep(4000);\n        // Clicking on add new team member //\n        driver.findElement(By.xpath(&quot;/html/body/div/div/div[2]/div[2]/div[1]/div[2]/button&quot;)).click();\n        Thread.sleep(1000);\n        ArrayList&lt;String&gt; tabs3 = new ArrayList&lt;String&gt;(driver.getWindowHandles());\n        driver.switchTo().newWindow(WindowType.TAB);\n        // Generating random email //\n        driver.get(&quot;http://www.yopmail.com&quot;);\n        // Clicking on random email generator //\n        driver.findElement(By.xpath(&quot;/html/body/div/div[2]/main/div[3]/div/div[2]/div/a[1]/div[2]/h3&quot;)).click();\n        Thread.sleep(4000);\n        // Clicking on copy to clipboard //\n        WebElement copytoclipboard  = driver.findElement(By.xpath(&quot;(//span[@class=\\&quot;notmobile\\&quot;])[2]&quot;));\n        Actions actions = new Actions(driver);\n        actions.click(copytoclipboard).doubleClick().perform();\n        // navigating to main window //\n        driver.switchTo().window(windowHandle);\n        Thread.sleep(4000);\n        driver.findElement(By.xpath(&quot;//*[@id=\\&quot;formPlaintextEmail\\&quot;]&quot;)).sendKeys(Keys.LEFT_CONTROL,&quot;v&quot;);\n        // Selecting the role from here //\n        driver.navigate().forward();driver.findElement(By.xpath(&quot;/html/body/div[3]/div/div/form/div[2]/div[2]/div/div/div[1]/input[1]&quot;)).click();\n       driver.navigate().forward();\n        Thread.sleep(4000);\n        // Selecting the permissions from here //\n        driver.findElement(By.xpath(&quot;//a[@id=\\&quot;basic-typeahead-multiple-item-16\\&quot;]&quot;)).click();\n        Thread.sleep(2000);\n        //driver.findElement(By.xpath(&quot;(//span)[22]&quot;)).click();\n        driver.findElement(By.xpath(&quot;//button[@id=\\&quot;teams\\&quot;]&quot;)).click();\n        driver.navigate().forward();\n        Thread.sleep(2000);\n        driver.findElement(By.xpath(&quot;/html/body/div[3]/div/div/form/div[2]/div[3]/div/div/div/div/div/span[1]&quot;)).click();\n        Thread.sleep(2000);\n        driver.navigate().forward();\n        driver.findElement(By.xpath(&quot;/html/body/div[3]/div/div/form/div[2]/div[3]/div/div/button&quot;)).click();\n        driver.findElement(By.xpath(&quot;//button[@class=\\&quot;btn btn-primary\\&quot;]&quot;)).click();\n        Thread.sleep(2000);\n        driver.manage().deleteAllCookies();\n        // If you want to sign out //\n        driver.findElement(By.xpath(&quot;//img[@class=\\&quot;rounded-circle\\&quot;]&quot;)).click();\n        driver.findElement(By.xpath(&quot;//a[@href=\\&quot;#\\&quot;]&quot;)).click();\n        Thread.sleep(4000);\n        // Opening new browser so commenting this code //\n        //driver.switchTo().newWindow(WindowType.WINDOW);\n        // User has received invitation //\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;/home/gt51022/Downloads/chromedriver_linux64/chromedriver&quot;);\n        driver = new ChromeDriver();\n        driver.get(&quot;http://www.yopmail.com&quot;);\n        driver.findElement(By.xpath(&quot;//*[@id=\\&quot;login\\&quot;]&quot;)).sendKeys(Keys.LEFT_CONTROL,&quot;v&quot;); //replace the test email\n        //driver.get(&quot;http://www.yopmail.com&quot;);\n        driver.findElement(By.xpath(&quot;/html/body/div[1]/div[2]/main/div[3]/div/div[1]/div[2]/div/div/form/div/div/div[4]/button/i\\n&quot;)).click();\n        Thread.sleep(2000);\n        driver.manage().window().maximize();\n        driver.switchTo().frame(&quot;ifmail&quot;);\n        driver.findElement(By.linkText(&quot;http://app.ambaram.ai/signup&quot;)).click();\n        driver.switchTo().window(tabs3.get(2));\n        driver.switchTo().activeElement();\n        driver.navigate().forward();\n        Thread.sleep(2000);\n        driver.findElement(By.className(&quot;form-control&quot;)).sendKeys(&quot;buyer&quot;);\n        driver.navigate().forward();\n        Thread.sleep(2000);\n        driver.findElement(By.xpath(&quot;/html/body/div/div/div[2]/div/div[1]/div/div/form/div[2]/input&quot;)).sendKeys(Keys.LEFT_CONTROL,&quot;v&quot;);\n        Thread.sleep(1000);\n        driver.findElement(By.className(&quot;checkmark&quot;)).click();\n        Thread.sleep(1000);\n        driver.findElement(By.xpath(&quot;//*[@id=\\&quot;root\\&quot;]/div/div[2]/div/div[1]/div/div/form/button&quot;)).click();\n        //driver.findElement(By.xpath(&quot;/html/body/div/div/div[2]/div/div/div[1]/div/div/p/a&quot;)).click();\n        driver.navigate().forward();\n        /*Thread.sleep(4000);\n        // Commenting this code for usage checking //\n        driver.findElement(By.xpath(&quot;//*[@id=\\&quot;fullName\\&quot;]&quot;)).sendKeys(&quot;Bestfit&quot;);\n        driver.navigate().forward();\n        driver.findElement(By.name(&quot;email&quot;)).sendKeys(&quot;Second@yopmail.com&quot;);\n        driver.navigate().forward();\n        driver.findElement(By.className(&quot;checkmark&quot;)).click();\n        driver.findElement(By.xpath(&quot;//*[@id=\\&quot;root\\&quot;]/div/div[2]/div/div[1]/div/div/form/button&quot;)).click();\n        //perform other operations.\n        // Stopping the robot class as we have tab already opened //\n        /*Robot r = new Robot();\n        r.keyPress(KeyEvent.VK_CONTROL);\n        r.keyPress(KeyEvent.VK_T);\n        r.keyRelease(KeyEvent.VK_CONTROL);\n        r.keyRelease(KeyEvent.VK_T);*/\n        driver.switchTo().window(tabs3.get(1));\n        //driver.get(&quot;http://www.yopmail.com&quot;);\n        Thread.sleep(4000);\n        driver.navigate().refresh();\n        Thread.sleep(4000);\n        //driver.findElement(By.xpath(&quot;//*[@id=\\&quot;login\\&quot;]&quot;)).sendKeys(&quot;nu&quot;); //replace the test email\n        //driver.findElement(By.xpath(&quot;/html/body/div[1]/div[2]/main/div[3]/div/div[1]/div[2]/div/div/form/div/div/div[4]/button/i\\n&quot;)).click();\n        driver.switchTo().frame(&quot;ifmail&quot;);\n        driver.manage().timeouts().implicitlyWait(5, TimeUnit.SECONDS);\n        String strCode = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;mail\\&quot;]/div/table/tbody/tr[3]/td/table/tbody/tr[1]/td/table/tbody/tr[5]/td/span&quot;)).getText(); //replace the locator for verification code\n        System.out.println(&quot;----------------&quot;);\n        System.out.println(strCode);\n        System.out.println(&quot;----------------&quot;);\n        //Actions actions = new Actions(driver);\n        actions.sendKeys(Keys.chord(Keys.LEFT_CONTROL, &quot;c&quot;)).build().perform();\n        driver.switchTo().window(tabs3.get(2));\n        //driver.manage().timeouts().implicitlyWait(60,TimeUnit.SECONDS);\n        driver.navigate().forward();\n        driver.findElement(By.id(&quot;code1&quot;)).sendKeys(strCode);\n        driver.manage().timeouts().implicitlyWait(5, TimeUnit.SECONDS);\n        int i;\n        for (i = 1; i &lt;= 6; i++) {\n            driver.navigate().forward();\n            driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\n            driver.findElement(By.xpath(&quot;//button[@class=\\&quot;otp btn btn-primary\\&quot;]&quot;)).click();\n            driver.navigate().forward();\n            driver.findElement(By.xpath(&quot;//input[@name=\\&quot;newPassword\\&quot;]&quot;)).sendKeys(&quot;Qwert@1&quot;);\n            driver.navigate().forward();\n            driver.findElement(By.xpath(&quot;//input[@name=\\&quot;comfirmNewPass\\&quot;] &quot;)).sendKeys(&quot;Qwert@1&quot;);\n            driver.navigate().forward();\n            driver.findElement(By.xpath(&quot;//button[@class=\\&quot;otp btn btn-primary\\&quot;]&quot;)).click();\n            driver.navigate().forward();\n            driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\n            driver.findElement(By.name(&quot;email&quot;)).sendKeys(Keys.LEFT_CONTROL,&quot;v&quot;);\n            driver.navigate().forward();\n            driver.findElement(By.name(&quot;password&quot;)).sendKeys(&quot;Qwert@1&quot;);\n            driver.navigate().forward();\n            driver.findElement(By.xpath(&quot;//span[@class=\\&quot;checkmark\\&quot;]&quot;)).click();\n            driver.navigate().forward();\n            driver.findElement(By.xpath(&quot;//button[@class=\\&quot;btn btn-primary\\&quot;]&quot;)).click();\n            Thread.sleep(2000);\n            driver.findElement(By.xpath(&quot;(//span[@class=\\&quot;toggleHide\\&quot;])[2]&quot;)).click();\n            // User click on joining a team //\n            Thread.sleep(4000);\n            driver.findElement(By.xpath(&quot;/html/body/div/div/div[2]/div[2]/div[2]/span/div/button&quot;)).click();\n            //New Team Creation //\n            /*driver.findElement(By.xpath(&quot;(//span[@class=\\&quot;toggleHide\\&quot;])[2]&quot;)).click();\n            Thread.sleep(2000);\n            driver.findElement(By.xpath(&quot;//button[@class=\\&quot;NewUserWrap secondaryBtn\\&quot;]&quot;)).click();\n            Thread.sleep(2000);\n            driver.findElement(By.name(&quot;teamLogo&quot;)).sendKeys(&quot;/home/gt51022/Downloads/Wallpapers/Good.jpg&quot;);\n            Thread.sleep(2000);\n            driver.findElement(By.name(&quot;name&quot;)).sendKeys(&quot;Creaters&quot;);\n            Thread.sleep(2000);\n            driver.findElement(By.xpath(&quot;//textarea[@name=\\&quot;description\\&quot;]&quot;)).sendKeys(&quot;Of good time&quot;);\n            Thread.sleep(4000);\n            driver.findElement(By.xpath(&quot;/html/body/div[3]/div/div/form/div[3]/button[2]&quot;)).click();*/\n            // Changing the profile photo here //\n            Thread.sleep(1000);\n            driver.findElement(By.xpath(&quot;//img[@class=\\&quot;rounded-circle\\&quot;]&quot;)).click();\n            Thread.sleep(1000);\n            driver.findElement(By.xpath(&quot;/html/body/div/div[2]/div[2]/header/div/div[3]/div[3]/div/div/a[1]&quot;)).click();\n            Thread.sleep(1000);\n            WebElement elementLocator = driver.findElement(By.name(&quot;profilePicture&quot;));\n            actions.click(driver.findElement(By.name(&quot;profilePicture&quot;)));\n            //actions.moveToElement(elementLocator).click().perform();\n            driver.findElement(By.name(&quot;profilePicture&quot;)).sendKeys(&quot;/home/gt51022/Downloads/ca-times.brightspotcdn.jpeg&quot;);\n            //driver.findElement(By.name(&quot;profilePicture&quot;)).sendKeys(&quot;/home/gt8201/Downloads/Kolkata.jpeg&quot;);\n            driver.findElement(By.xpath(&quot;//button[@class=\\&quot;activateBtn btn btn-primary\\&quot;]&quot;)).click();\n            //driver.findElement(By.xpath(&quot;/html/body/div/div[2]/div[1]/ul/li[1]/a&quot;)).click();\n            Thread.sleep(2000);\n            actions.click(driver.findElement(By.name(&quot;profilePicture&quot;)));\n        }\n        // Navigating back to the dashboard //\n        driver.findElement(By.xpath(&quot;//span[@class=\\&quot;toggleHide\\&quot;]&quot;)).click();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","undertow"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1676638558,"post_id":75483360,"comment_id":133182604,"body_markdown":"Look at the message. You are creating an additional directory which, by definition almost, does not exist.","body":"Look at the message. You are creating an additional directory which, by definition almost, does not exist."},{"owner":{"account_id":4931096,"reputation":77,"user_id":3970855,"accept_rate":50,"display_name":"Najeeba Saidalavi"},"score":0,"creation_date":1676887478,"post_id":75483360,"comment_id":133221256,"body_markdown":"@g00se any idea from where it is being created or how I can control the creation? For me it is created automatically when I start the application, but I don&#39;t know why it is not working in production.","body":"@g00se any idea from where it is being created or how I can control the creation? For me it is created automatically when I start the application, but I don&#39;t know why it is not working in production."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1676896356,"post_id":75483360,"comment_id":133223675,"body_markdown":"`FilenameUtils.getExtension(multipartFile.getOriginalFilename()));` Debug the value of that separately and let us know. Also this debug: *System.out.println(&quot;File Path &quot;+file.getAbsolutePath());* comes in the wrong place, as an attempt (failing) has already been made by then","body":"<code>FilenameUtils.getExtension(multipartFile.getOriginalFilename&zwnj;&#8203;()));</code> Debug the value of that separately and let us know. Also this debug: <i>System.out.println(&quot;File Path &quot;+file.getAbsolutePath());</i> comes in the wrong place, as an attempt (failing) has already been made by then"}],"owner":{"account_id":4931096,"reputation":77,"user_id":3970855,"accept_rate":50,"display_name":"Najeeba Saidalavi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":624,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676631288,"creation_date":1676631288,"question_id":75483360,"body_markdown":"I am new to using undertow and I have an issue when uploading files in  my spring boot application. This is happening in production only, it is working fine in my local system and staging environment (all Linux servers). This is the code:\r\n\r\n    public static String uploadFile(MultipartFile multipartFile, Long partnerId) throws Exception {\r\n        if (multipartFile == null || multipartFile.isEmpty())\r\n            return null;\r\n        File file = new File(System.getProperty(&quot;java.io.tmpdir&quot;) + &quot;/&quot; + UUID.randomUUID() + &quot;.&quot;\r\n            + FilenameUtils.getExtension(multipartFile.getOriginalFilename()));\r\n        multipartFile.transferTo(file);\r\n        System.out.println(&quot;File Path &quot;+file.getAbsolutePath());\r\n        return uploadFile(file, partnerId);\r\n    }\r\n\r\nThe error is:\r\n\r\n    Java.lang.RuntimeException: java.nio.file.NoSuchFileException: /tmp/undertow.3862881763240028662.4010/undertow3870310975240593973upload\r\n\tat io.undertow.server.handlers.form.MultiPartParserDefinition$MultiPartUploadHandler.beginPart(MultiPartParserDefinition.java:261)\r\n\tat io.undertow.util.MultipartParser$ParseState.headerName(MultipartParser.java:208)\r\n\tat io.undertow.util.MultipartParser$ParseState.parse(MultipartParser.java:123)\r\n\tat io.undertow.server.handlers.form.MultiPartParserDefinition$MultiPartUploadHandler.parseBlocking(MultiPartParserDefinition.java:232)\r\n\tat io.undertow.servlet.spec.HttpServletRequestImpl.parseFormData(HttpServletRequestImpl.java:835)\r\n\tat io.undertow.servlet.spec.HttpServletRequestImpl.getParameter(HttpServletRequestImpl.java:714)\r\n\tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:85)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n\tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:114)\r\n\tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:104)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n\tat io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\r\n\tat io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\r\n\tat io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\r\n\tat io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\r\n\tat io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\r\n\tat io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)\r\n\tat io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\r\n\tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n\tat io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\r\n\tat io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\r\n\tat io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\r\n\tat io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\r\n\tat io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\r\n\tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n\tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n\tat io.undertow.servlet.handlers.SessionRestoringHandler.handleRequest(SessionRestoringHandler.java:119)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)\r\n\tat io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\r\n\tat io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)\r\n\tat io.undertow.server.Connectors.executeRootHandler(Connectors.java:376)\r\n\tat io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:750)\r\n    Caused by: java.nio.file.NoSuchFileException: /tmp/undertow.3862881763240028662.4010/undertow3870310975240593973upload\r\n\tat sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)\r\n\tat sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)\r\n\tat sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)\r\n\tat sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)\r\n\tat java.nio.file.Files.newByteChannel(Files.java:361)\r\n\tat java.nio.file.Files.createFile(Files.java:632)\r\n\tat java.nio.file.TempFileHelper.create(TempFileHelper.java:138)\r\n\tat java.nio.file.TempFileHelper.createTempFile(TempFileHelper.java:161)\r\n\tat java.nio.file.Files.createTempFile(Files.java:852)\r\n\tat io.undertow.server.handlers.form.MultiPartParserDefinition$MultiPartUploadHandler.beginPart(MultiPartParserDefinition.java:254)\r\n\r\n\r\nI can see the /tmp/undertow folders created in the staging environment:[![enter image description here][1]][1]\r\n\r\nBut the /tmp folder in production is empty after deployment. The file permissions etc for both servers are same. Any help here is appreciated.Thanks!\r\n\r\n  [1]: https://i.stack.imgur.com/PaUFw.png","title":"Undertow java.nio.file.NoSuchFileException when saving a file","body":"<p>I am new to using undertow and I have an issue when uploading files in  my spring boot application. This is happening in production only, it is working fine in my local system and staging environment (all Linux servers). This is the code:</p>\n<pre><code>public static String uploadFile(MultipartFile multipartFile, Long partnerId) throws Exception {\n    if (multipartFile == null || multipartFile.isEmpty())\n        return null;\n    File file = new File(System.getProperty(&quot;java.io.tmpdir&quot;) + &quot;/&quot; + UUID.randomUUID() + &quot;.&quot;\n        + FilenameUtils.getExtension(multipartFile.getOriginalFilename()));\n    multipartFile.transferTo(file);\n    System.out.println(&quot;File Path &quot;+file.getAbsolutePath());\n    return uploadFile(file, partnerId);\n}\n</code></pre>\n<p>The error is:</p>\n<pre><code>Java.lang.RuntimeException: java.nio.file.NoSuchFileException: /tmp/undertow.3862881763240028662.4010/undertow3870310975240593973upload\nat io.undertow.server.handlers.form.MultiPartParserDefinition$MultiPartUploadHandler.beginPart(MultiPartParserDefinition.java:261)\nat io.undertow.util.MultipartParser$ParseState.headerName(MultipartParser.java:208)\nat io.undertow.util.MultipartParser$ParseState.parse(MultipartParser.java:123)\nat io.undertow.server.handlers.form.MultiPartParserDefinition$MultiPartUploadHandler.parseBlocking(MultiPartParserDefinition.java:232)\nat io.undertow.servlet.spec.HttpServletRequestImpl.parseFormData(HttpServletRequestImpl.java:835)\nat io.undertow.servlet.spec.HttpServletRequestImpl.getParameter(HttpServletRequestImpl.java:714)\nat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:85)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\nat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\nat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\nat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:114)\nat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:104)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\nat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\nat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\nat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\nat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\nat io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\nat io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\nat io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\nat io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\nat io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\nat io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)\nat io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\nat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\nat io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\nat io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\nat io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\nat io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\nat io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\nat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\nat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\nat io.undertow.servlet.handlers.SessionRestoringHandler.handleRequest(SessionRestoringHandler.java:119)\nat io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)\nat io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)\nat io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)\nat io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)\nat io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\nat io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\nat io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)\nat io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)\nat io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)\nat io.undertow.server.Connectors.executeRootHandler(Connectors.java:376)\nat io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\nat java.lang.Thread.run(Thread.java:750)\nCaused by: java.nio.file.NoSuchFileException: /tmp/undertow.3862881763240028662.4010/undertow3870310975240593973upload\nat sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)\nat sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)\nat sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)\nat sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)\nat java.nio.file.Files.newByteChannel(Files.java:361)\nat java.nio.file.Files.createFile(Files.java:632)\nat java.nio.file.TempFileHelper.create(TempFileHelper.java:138)\nat java.nio.file.TempFileHelper.createTempFile(TempFileHelper.java:161)\nat java.nio.file.Files.createTempFile(Files.java:852)\nat io.undertow.server.handlers.form.MultiPartParserDefinition$MultiPartUploadHandler.beginPart(MultiPartParserDefinition.java:254)\n</code></pre>\n<p>I can see the /tmp/undertow folders created in the staging environment:<a href=\"https://i.stack.imgur.com/PaUFw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PaUFw.png\" alt=\"enter image description here\" /></a></p>\n<p>But the /tmp folder in production is empty after deployment. The file permissions etc for both servers are same. Any help here is appreciated.Thanks!</p>\n"},{"tags":["java","apache-kafka","spring-kafka","reactor-kafka"],"comments":[{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":0,"creation_date":1675838283,"post_id":75382084,"comment_id":133011832,"body_markdown":"have you tried delaySubscription() ?","body":"have you tried delaySubscription() ?"},{"owner":{"account_id":19663187,"reputation":383,"user_id":14394219,"display_name":"artiomi"},"score":0,"creation_date":1675840484,"post_id":75382084,"comment_id":133012241,"body_markdown":"You can try to raise a custom event when `@PostConstruct` is done; annotate `myConsumer` with `@EventListener`. So the consumption will start only on PostConstruct end","body":"You can try to raise a custom event when <code>@PostConstruct</code> is done; annotate <code>myConsumer</code> with <code>@EventListener</code>. So the consumption will start only on PostConstruct end"}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675865198,"creation_date":1675865198,"answer_id":75386932,"question_id":75382084,"body_markdown":"You should not `subscribe()` to the flux in a post construct method. Instead, implement `SmartLifecycle` and subscribe in `start()`.\r\n\r\nOr use an event listener and only subscribe after the context is refreshed.\r\n\r\nThat way, all beans will be fully wired up before you start to receive the records.","title":"Delay the start of message consumption","body":"<p>You should not <code>subscribe()</code> to the flux in a post construct method. Instead, implement <code>SmartLifecycle</code> and subscribe in <code>start()</code>.</p>\n<p>Or use an event listener and only subscribe after the context is refreshed.</p>\n<p>That way, all beans will be fully wired up before you start to receive the records.</p>\n"}],"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75386932,"answer_count":1,"score":-1,"last_activity_date":1676631254,"creation_date":1675837821,"question_id":75382084,"body_markdown":"I have a very simple Reactor Kafka consumer.\r\n\r\nHowever, in order for the message to be handled properly, couple of @Postconstruct should be executed beforehand.\r\n\r\nThe @Postconstruct will initialize some objects in memory, prepare data, etc...\r\n\r\nIf the messages start being consumed, but the @Postconstruct is not complete, the message handling will fail for sure.\r\n\r\nThe @Postconstruct needs some time to complete, roughly 3ish seconds.\r\nWhat I tried:\r\nTherefore, currently, in my code, I would just handle the messages, and for the first 3ish seconds, all messages processing will fail, and I would put the failed messages in another topic.\r\n\r\nAt some point, after the 3ish seconds, the @Postconstruct is complete, the messages are being processed normally, happy.\r\n\r\nHowever, I found this very redundant, I have another topic and another job which existence is just here to re process the messages failed within those 3 seconds.\r\n\r\nIs there a simpler way, to tell Reactor Kafka to only start consuming, only once the @Postconstruct is complete (maybe by sending some signal within the app), or maybe even just to wait 3ish seconds?\r\n\r\nSo far, I tried this:\r\n\r\n```\r\n  public Flux&lt;String&gt; myConsumer() {\r\n        return KafkaReceiver\r\n                .create(receiverOptions)\r\n                .receive()\r\n                .delayUntil(a -&gt; Mono.delay(Duration.ofSeconds(4)))\r\n                .flatMap((oneMessage) -&gt;\r\n                        Mono.deferContextual(contextView -&gt; {\r\n                            var scope = ContextSnapshot.setAllThreadLocalsFrom(contextView);\r\n                            try (scope) {\r\n                                return consume(oneMessage);\r\n                            }\r\n                        }), 500)\r\n                .name(&quot;greeting.call&quot;)\t\t//1\r\n                .tag(&quot;latency&quot;, &quot;low&quot;)\t//2\r\n                .tap(Micrometer.observation(observationRegistry));\r\n```\r\n\r\nHowever, it is not doing what I expect, it is just delaying.","title":"Delay the start of message consumption","body":"<p>I have a very simple Reactor Kafka consumer.</p>\n<p>However, in order for the message to be handled properly, couple of @Postconstruct should be executed beforehand.</p>\n<p>The @Postconstruct will initialize some objects in memory, prepare data, etc...</p>\n<p>If the messages start being consumed, but the @Postconstruct is not complete, the message handling will fail for sure.</p>\n<p>The @Postconstruct needs some time to complete, roughly 3ish seconds.\nWhat I tried:\nTherefore, currently, in my code, I would just handle the messages, and for the first 3ish seconds, all messages processing will fail, and I would put the failed messages in another topic.</p>\n<p>At some point, after the 3ish seconds, the @Postconstruct is complete, the messages are being processed normally, happy.</p>\n<p>However, I found this very redundant, I have another topic and another job which existence is just here to re process the messages failed within those 3 seconds.</p>\n<p>Is there a simpler way, to tell Reactor Kafka to only start consuming, only once the @Postconstruct is complete (maybe by sending some signal within the app), or maybe even just to wait 3ish seconds?</p>\n<p>So far, I tried this:</p>\n<pre><code>  public Flux&lt;String&gt; myConsumer() {\n        return KafkaReceiver\n                .create(receiverOptions)\n                .receive()\n                .delayUntil(a -&gt; Mono.delay(Duration.ofSeconds(4)))\n                .flatMap((oneMessage) -&gt;\n                        Mono.deferContextual(contextView -&gt; {\n                            var scope = ContextSnapshot.setAllThreadLocalsFrom(contextView);\n                            try (scope) {\n                                return consume(oneMessage);\n                            }\n                        }), 500)\n                .name(&quot;greeting.call&quot;)      //1\n                .tag(&quot;latency&quot;, &quot;low&quot;)  //2\n                .tap(Micrometer.observation(observationRegistry));\n</code></pre>\n<p>However, it is not doing what I expect, it is just delaying.</p>\n"},{"tags":["java","servlet-filters","rest-assured"],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1557409988,"creation_date":1557409988,"answer_id":56061018,"question_id":56060668,"body_markdown":"MockMvc is an infrastructure to test your controllers and not the full web container.\r\n\r\nIf you want to have the filters working you have to add it.\r\nThis would look something like:\r\n\r\n    @Autowired\r\n    private WebApplicationContext wac;\r\n\r\n    private MockMvc mockMvc;\r\n\r\n    @Before\r\n    public void setUp() {\r\n       Collection&lt;Filter&gt; filterCollection = wac.getBeansOfType(Filter.class).values();\r\n       Filter[] filters = filterCollection.toArray(new Filter[filterCollection.size()]);\r\n       mockMvc = MockMvcBuilders.webAppContextSetup(wac).addFilters(filters).build();\r\n    }","title":"Can I test servlet filters with REST Assured?","body":"<p>MockMvc is an infrastructure to test your controllers and not the full web container.</p>\n\n<p>If you want to have the filters working you have to add it.\nThis would look something like:</p>\n\n<pre><code>@Autowired\nprivate WebApplicationContext wac;\n\nprivate MockMvc mockMvc;\n\n@Before\npublic void setUp() {\n   Collection&lt;Filter&gt; filterCollection = wac.getBeansOfType(Filter.class).values();\n   Filter[] filters = filterCollection.toArray(new Filter[filterCollection.size()]);\n   mockMvc = MockMvcBuilders.webAppContextSetup(wac).addFilters(filters).build();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7734155,"reputation":66,"user_id":5856251,"display_name":"andreu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676630878,"creation_date":1676630878,"answer_id":75483274,"question_id":56060668,"body_markdown":"You can do it as this:\r\n\r\n```java\r\nStandaloneMockMvcBuilder builder = MockMvcBuilders.standaloneSetup(yourController);\r\nbuilder.addFilters(new YourFilter());\r\nRestAssuredMockMvc.standaloneSetup(builder);\r\n```","title":"Can I test servlet filters with REST Assured?","body":"<p>You can do it as this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>StandaloneMockMvcBuilder builder = MockMvcBuilders.standaloneSetup(yourController);\nbuilder.addFilters(new YourFilter());\nRestAssuredMockMvc.standaloneSetup(builder);\n</code></pre>\n"}],"owner":{"account_id":18581,"reputation":1143,"user_id":42685,"accept_rate":85,"display_name":"Hugh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1159,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":56061018,"answer_count":2,"score":1,"last_activity_date":1676630878,"creation_date":1557408911,"question_id":56060668,"body_markdown":"I have a Spring Boot MVC app with a `@WebFilter` that adds a custom header to every response. It works fine when I actually run the app, but I&#39;m a little surprised that the filter doesn&#39;t run during my REST Assured test.\r\n\r\nThere&#39;s nothing fancy in my test; it basically reduces to\r\n\r\n```\r\nRestAssuredMockMvc.standaloneSetup(new MyController());\r\nboolean headerExists = given().when().get().headers().hasHeaderWithName(&quot;my-header&quot;);\r\n```\r\n\r\nIs this expected? Should I be doing something extra to set up the filter chain?","title":"Can I test servlet filters with REST Assured?","body":"<p>I have a Spring Boot MVC app with a <code>@WebFilter</code> that adds a custom header to every response. It works fine when I actually run the app, but I'm a little surprised that the filter doesn't run during my REST Assured test.</p>\n\n<p>There's nothing fancy in my test; it basically reduces to</p>\n\n<pre><code>RestAssuredMockMvc.standaloneSetup(new MyController());\nboolean headerExists = given().when().get().headers().hasHeaderWithName(\"my-header\");\n</code></pre>\n\n<p>Is this expected? Should I be doing something extra to set up the filter chain?</p>\n"},{"tags":["java","docx4j"],"answers":[{"tags":[],"owner":{"account_id":30580,"reputation":15467,"user_id":1031689,"accept_rate":67,"display_name":"JasonPlutext"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676614088,"creation_date":1676614088,"answer_id":75480776,"question_id":75467390,"body_markdown":"From your deps you are using MOXy, not JAXB-ReferenceImpl.  Not that this should matter.\r\n\r\nLooks like you are calling Docx4J.toPDF\r\n\r\nThis should be fixed at https://github.com/plutext/docx4j/blob/VERSION_8_3_9/docx4j-core/src/main/java/org/docx4j/convert/out/FopReflective.java\r\n\r\nI guess your problem will go away if you remove the old:\r\n\r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\r\n  &lt;artifactId&gt;docx4j-MOXy-JAXBContext&lt;/artifactId&gt;\r\n  &lt;version&gt;3.3.6&lt;/version&gt;\r\n  &lt;scope&gt;compile&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nSee also https://stackoverflow.com/questions/71595802/docx4j-docx-to-image-convertion","title":"Docx4j - Docx to PDF convertion; you must invoke FORendererApacheFOP.getFOUserAgent error","body":"<p>From your deps you are using MOXy, not JAXB-ReferenceImpl.  Not that this should matter.</p>\n<p>Looks like you are calling Docx4J.toPDF</p>\n<p>This should be fixed at <a href=\"https://github.com/plutext/docx4j/blob/VERSION_8_3_9/docx4j-core/src/main/java/org/docx4j/convert/out/FopReflective.java\" rel=\"nofollow noreferrer\">https://github.com/plutext/docx4j/blob/VERSION_8_3_9/docx4j-core/src/main/java/org/docx4j/convert/out/FopReflective.java</a></p>\n<p>I guess your problem will go away if you remove the old:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\n  &lt;artifactId&gt;docx4j-MOXy-JAXBContext&lt;/artifactId&gt;\n  &lt;version&gt;3.3.6&lt;/version&gt;\n  &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>See also <a href=\"https://stackoverflow.com/questions/71595802/docx4j-docx-to-image-convertion\">Docx4j - Docx to Image convertion</a></p>\n"}],"owner":{"account_id":4247429,"reputation":85,"user_id":3475675,"accept_rate":75,"display_name":"Wisdom Ekene"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":490,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676630757,"creation_date":1676516163,"question_id":75467390,"body_markdown":"We want to convert docx to pdf using **docx4j-JAXB-MOXy 8.3.9** and **docx4j-export-fo 8.3.9**, but we are hitting the following error;\r\n\r\n    org.docx4j.openpackaging.exceptions.Docx4JException: Exception exporting package\r\n\tat org.docx4j.convert.out.common.AbstractExporter.export(AbstractExporter.java:109)\r\n\tat org.docx4j.Docx4J.toFO(Docx4J.java:597)\r\n\tat org.docx4j.Docx4J.toPDF(Docx4J.java:612)\r\n\r\n    Caused by: org.docx4j.openpackaging.exceptions.Docx4JException: You must invoke FORendererApacheFOP.getFOUserAgent\r\n\tat org.docx4j.convert.out.fo.renderers.FORendererApacheFOP.render(FORendererApacheFOP.java:124)\r\n\tat org.docx4j.convert.out.fo.AbstractFOExporter.postprocess(AbstractFOExporter.java:168)\r\n\tat org.docx4j.convert.out.fo.AbstractFOExporter.postprocess(AbstractFOExporter.java:47)\r\n\tat org.docx4j.convert.out.common.AbstractExporter.export(AbstractExporter.java:82)\r\n\t... 76 more\r\n\r\nOur maven dependencies are as follows:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n      &lt;version&gt;2.3.1&lt;/version&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n      &lt;version&gt;2.3.1&lt;/version&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;docx4j-JAXB-MOXy&lt;/artifactId&gt;\r\n      &lt;version&gt;8.3.9&lt;/version&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;docx4j-MOXy-JAXBContext&lt;/artifactId&gt;\r\n      &lt;version&gt;3.3.6&lt;/version&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;docx4j-export-fo&lt;/artifactId&gt;\r\n      &lt;version&gt;8.3.9&lt;/version&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nPlease help!!!","title":"Docx4j - Docx to PDF convertion; you must invoke FORendererApacheFOP.getFOUserAgent error","body":"<p>We want to convert docx to pdf using <strong>docx4j-JAXB-MOXy 8.3.9</strong> and <strong>docx4j-export-fo 8.3.9</strong>, but we are hitting the following error;</p>\n<pre><code>org.docx4j.openpackaging.exceptions.Docx4JException: Exception exporting package\nat org.docx4j.convert.out.common.AbstractExporter.export(AbstractExporter.java:109)\nat org.docx4j.Docx4J.toFO(Docx4J.java:597)\nat org.docx4j.Docx4J.toPDF(Docx4J.java:612)\n\nCaused by: org.docx4j.openpackaging.exceptions.Docx4JException: You must invoke FORendererApacheFOP.getFOUserAgent\nat org.docx4j.convert.out.fo.renderers.FORendererApacheFOP.render(FORendererApacheFOP.java:124)\nat org.docx4j.convert.out.fo.AbstractFOExporter.postprocess(AbstractFOExporter.java:168)\nat org.docx4j.convert.out.fo.AbstractFOExporter.postprocess(AbstractFOExporter.java:47)\nat org.docx4j.convert.out.common.AbstractExporter.export(AbstractExporter.java:82)\n... 76 more\n</code></pre>\n<p>Our maven dependencies are as follows:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n  &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n  &lt;version&gt;2.3.1&lt;/version&gt;\n  &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n  &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n  &lt;version&gt;2.3.1&lt;/version&gt;\n  &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\n  &lt;artifactId&gt;docx4j-JAXB-MOXy&lt;/artifactId&gt;\n  &lt;version&gt;8.3.9&lt;/version&gt;\n  &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\n  &lt;artifactId&gt;docx4j-MOXy-JAXBContext&lt;/artifactId&gt;\n  &lt;version&gt;3.3.6&lt;/version&gt;\n  &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\n  &lt;artifactId&gt;docx4j-export-fo&lt;/artifactId&gt;\n  &lt;version&gt;8.3.9&lt;/version&gt;\n  &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Please help!!!</p>\n"},{"tags":["java","jooq"],"comments":[{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1676574571,"post_id":75473406,"comment_id":133169587,"body_markdown":"What RDBMS are you using?","body":"What RDBMS are you using?"},{"owner":{"account_id":3137113,"reputation":3,"user_id":2653412,"display_name":"khushboo"},"score":0,"creation_date":1676575541,"post_id":75473406,"comment_id":133169842,"body_markdown":"MySQL for both the databases","body":"MySQL for both the databases"},{"owner":{"account_id":3137113,"reputation":3,"user_id":2653412,"display_name":"khushboo"},"score":0,"creation_date":1676614243,"post_id":75473406,"comment_id":133176354,"body_markdown":"Hi, Lukas, thanks for responding on my query. Please let me know if there are some more details needed from my end. I am kind of stuck in this issue and wanted to know whether it&#39;s possible to use join with multiple contexts?","body":"Hi, Lukas, thanks for responding on my query. Please let me know if there are some more details needed from my end. I am kind of stuck in this issue and wanted to know whether it&#39;s possible to use join with multiple contexts?"}],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676630415,"creation_date":1676630415,"answer_id":75483179,"question_id":75473406,"body_markdown":"I&#39;m assuming that the reason for you to have two distinct `DSLContext` instances is because you have separate JDBC `Connection` instances, and you&#39;re connecting to separate database instances. To my knowledge, it isn&#39;t possible to use [Oracle style database links or PostgreSQL style foreign data wrappers in MySQL][1], so you cannot join between the two tables in a single query. You&#39;ll have to run both queries separately, and join the data in the client, e.g.:\r\n\r\n```java\r\nResult&lt;?&gt; r1 = ctx1.select(..).from(..).where(..).fetch();\r\nResult&lt;?&gt; r2 = ctx2.select(..).from(..).where(\r\n    CORRELATION.ID.in(r1.getValues(...))).fetch();\r\n```\r\n\r\nOf course, it may well be that there isn&#39;t really a need for two separate `DSLContext` instances, if the two databases are on the same server, but you didn&#39;t specify those details. In any case, jOOQ can&#39;t do that for you.\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/1565993/521799","title":"Getting error while implementing joins on multiple DSL contexts from different databases in jooq","body":"<p>I'm assuming that the reason for you to have two distinct <code>DSLContext</code> instances is because you have separate JDBC <code>Connection</code> instances, and you're connecting to separate database instances. To my knowledge, it isn't possible to use <a href=\"https://stackoverflow.com/q/1565993/521799\">Oracle style database links or PostgreSQL style foreign data wrappers in MySQL</a>, so you cannot join between the two tables in a single query. You'll have to run both queries separately, and join the data in the client, e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Result&lt;?&gt; r1 = ctx1.select(..).from(..).where(..).fetch();\nResult&lt;?&gt; r2 = ctx2.select(..).from(..).where(\n    CORRELATION.ID.in(r1.getValues(...))).fetch();\n</code></pre>\n<p>Of course, it may well be that there isn't really a need for two separate <code>DSLContext</code> instances, if the two databases are on the same server, but you didn't specify those details. In any case, jOOQ can't do that for you.</p>\n"}],"owner":{"account_id":3137113,"reputation":3,"user_id":2653412,"display_name":"khushboo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75483179,"answer_count":1,"score":0,"last_activity_date":1676630415,"creation_date":1676556399,"question_id":75473406,"body_markdown":"I want to execute one query having joins with the tables related to different DSLCONTEXT which are related to different databases.Below is the example of what I am trying to do :\r\n```\r\nDSLContext ctx1;\r\nDSLContext ctx2;\r\nVal findDetails= ctx1.select(table1(**from ctx1**). innerjoin(table2)(**from ctx2**).on(table2.column.eq(table1.column)).asTable();\r\n```\r\nWhile executing the above query getting table2 doesn&#39;t exist.\r\n\r\nI am expecting to use something like ctx2. Table2 inside the query. \r\n\r\n","title":"Getting error while implementing joins on multiple DSL contexts from different databases in jooq","body":"<p>I want to execute one query having joins with the tables related to different DSLCONTEXT which are related to different databases.Below is the example of what I am trying to do :</p>\n<pre><code>DSLContext ctx1;\nDSLContext ctx2;\nVal findDetails= ctx1.select(table1(**from ctx1**). innerjoin(table2)(**from ctx2**).on(table2.column.eq(table1.column)).asTable();\n</code></pre>\n<p>While executing the above query getting table2 doesn't exist.</p>\n<p>I am expecting to use something like ctx2. Table2 inside the query.</p>\n"},{"tags":["java","android","android-studio","android-recyclerview","android-cardview"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676633835,"post_id":75481904,"comment_id":133181238,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":17181427,"reputation":51,"user_id":12436797,"display_name":"Ishant Chauhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676623346,"creation_date":1676623346,"answer_id":75481971,"question_id":75481904,"body_markdown":"Simply add an image view inside a card view\r\n\r\n```xml\r\n&lt;CardView\r\n   android:width=&quot;wrap_content&quot;\r\n   android:height=&quot;wrap_content&quot;\r\n   app:cardElevation=&quot;2dp&quot;&gt; \r\n  &lt;ImageView\r\n     android:width=&quot;300dp&quot;\r\n     android:height=&quot;300dp&quot;\r\n     src=&quot;yourImgFile&quot; /&gt;\r\n&lt;/CardView&gt;\r\n```\r\n\r\nAnd the image reference you provided, you can nest this code in another CardView element containing a Linear Layout with horizontal orientation i.e\r\n\r\n```xml\r\n&lt;CardView\r\n   android:width=&quot;match_parent&quot;\r\n   android:height=&quot;wrap_content&quot;\r\n   app:cardElevation=&quot;2dp&quot;&gt; \r\n  &lt;LinearLayout\r\n     android:width=&quot;match_parent&quot;\r\n     android:height=&quot;wrap_content&quot;\r\n     android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n&lt;CardView\r\n   android:width=&quot;wrap_content&quot;\r\n   android:height=&quot;wrap_content&quot;\r\n   app:cardElevation=&quot;2dp&quot;&gt; \r\n  &lt;ImageView\r\n     android:width=&quot;300dp&quot;\r\n     android:height=&quot;300dp&quot;\r\n     src=&quot;yourImgFile&quot; /&gt;\r\n&lt;/CardView&gt;\r\n\r\n\r\n&lt;CardView\r\n   android:width=&quot;wrap_content&quot;\r\n   android:height=&quot;wrap_content&quot;\r\n   app:cardElevation=&quot;2dp&quot;&gt; \r\n  &lt;ImageView\r\n     android:width=&quot;300dp&quot;\r\n     android:height=&quot;300dp&quot;\r\n     src=&quot;yourImgFile&quot; /&gt;\r\n&lt;/CardView&gt;\r\n\r\n\r\n&lt;CardView\r\n   android:width=&quot;wrap_content&quot;\r\n   android:height=&quot;wrap_content&quot;\r\n   app:cardElevation=&quot;2dp&quot;&gt; \r\n  &lt;ImageView\r\n     android:width=&quot;300dp&quot;\r\n     android:height=&quot;300dp&quot;\r\n     src=&quot;yourImgFile&quot; /&gt;\r\n&lt;/CardView&gt;\r\n\r\n\r\n  &lt;/LinearLayout&gt;\r\n&lt;/CardView&gt;\r\n```","title":"RecyclerView and CradView in Android Studio","body":"<p>Simply add an image view inside a card view</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;CardView\n   android:width=&quot;wrap_content&quot;\n   android:height=&quot;wrap_content&quot;\n   app:cardElevation=&quot;2dp&quot;&gt; \n  &lt;ImageView\n     android:width=&quot;300dp&quot;\n     android:height=&quot;300dp&quot;\n     src=&quot;yourImgFile&quot; /&gt;\n&lt;/CardView&gt;\n</code></pre>\n<p>And the image reference you provided, you can nest this code in another CardView element containing a Linear Layout with horizontal orientation i.e</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;CardView\n   android:width=&quot;match_parent&quot;\n   android:height=&quot;wrap_content&quot;\n   app:cardElevation=&quot;2dp&quot;&gt; \n  &lt;LinearLayout\n     android:width=&quot;match_parent&quot;\n     android:height=&quot;wrap_content&quot;\n     android:orientation=&quot;horizontal&quot;&gt;\n\n&lt;CardView\n   android:width=&quot;wrap_content&quot;\n   android:height=&quot;wrap_content&quot;\n   app:cardElevation=&quot;2dp&quot;&gt; \n  &lt;ImageView\n     android:width=&quot;300dp&quot;\n     android:height=&quot;300dp&quot;\n     src=&quot;yourImgFile&quot; /&gt;\n&lt;/CardView&gt;\n\n\n&lt;CardView\n   android:width=&quot;wrap_content&quot;\n   android:height=&quot;wrap_content&quot;\n   app:cardElevation=&quot;2dp&quot;&gt; \n  &lt;ImageView\n     android:width=&quot;300dp&quot;\n     android:height=&quot;300dp&quot;\n     src=&quot;yourImgFile&quot; /&gt;\n&lt;/CardView&gt;\n\n\n&lt;CardView\n   android:width=&quot;wrap_content&quot;\n   android:height=&quot;wrap_content&quot;\n   app:cardElevation=&quot;2dp&quot;&gt; \n  &lt;ImageView\n     android:width=&quot;300dp&quot;\n     android:height=&quot;300dp&quot;\n     src=&quot;yourImgFile&quot; /&gt;\n&lt;/CardView&gt;\n\n\n  &lt;/LinearLayout&gt;\n&lt;/CardView&gt;\n</code></pre>\n"}],"owner":{"account_id":24270649,"reputation":1,"user_id":18218770,"display_name":"ei8ht"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676629866,"creation_date":1676622938,"question_id":75481904,"body_markdown":"I want to development an app that contains the following images.\r\n[enter image description here](https://i.stack.imgur.com/UEmgn.png)\r\n\r\nand I don&#39;t know how to do that with CardView\r\n\r\nHow to create a CardView that can be added like the image?","title":"RecyclerView and CradView in Android Studio","body":"<p>I want to development an app that contains the following images.\n<a href=\"https://i.stack.imgur.com/UEmgn.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>and I don't know how to do that with CardView</p>\n<p>How to create a CardView that can be added like the image?</p>\n"},{"tags":["java","intellij-idea","lambda","intellij-14"],"answers":[{"tags":[],"owner":{"account_id":322516,"reputation":121953,"user_id":641955,"accept_rate":72,"display_name":"janos"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1444480464,"creation_date":1444480464,"answer_id":33054046,"question_id":33053891,"body_markdown":"It looks like your IntelliJ or your project is not setup to use Java 8.\r\n\r\n1. Open **Project Structure**\r\n2. Look into **Project Settings | Project**, the value of **Project SDK** should be 1.8\r\n3. Look into **Platform Settings | SDK**, there should be 1.8 listed\r\n\r\nIt should look something like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/jaAE9.png","title":"IntelliJ IDEA not supporting Lambda?","body":"<p>It looks like your IntelliJ or your project is not setup to use Java 8.</p>\n\n<ol>\n<li>Open <strong>Project Structure</strong></li>\n<li>Look into <strong>Project Settings | Project</strong>, the value of <strong>Project SDK</strong> should be 1.8</li>\n<li>Look into <strong>Platform Settings | SDK</strong>, there should be 1.8 listed</li>\n</ol>\n\n<p>It should look something like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/jaAE9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jaAE9.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":5056706,"reputation":4366,"user_id":4059755,"display_name":"uwolfer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1444485694,"creation_date":1444485694,"answer_id":33054793,"question_id":33053891,"body_markdown":"You need to change the &quot;Project language level&quot; to &quot;8 - Lambdas, type annotations etc.&quot;. You can find this option in &quot;Project Settings&quot; -&gt; &quot;Project&quot;","title":"IntelliJ IDEA not supporting Lambda?","body":"<p>You need to change the \"Project language level\" to \"8 - Lambdas, type annotations etc.\". You can find this option in \"Project Settings\" -> \"Project\"</p>\n"},{"tags":[],"owner":{"account_id":6285476,"reputation":1340,"user_id":5008698,"accept_rate":29,"display_name":"rigby"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560944098,"creation_date":1560944098,"answer_id":56666761,"question_id":33053891,"body_markdown":"In addition to the answers above look into you pom.xml file. Source and target should be 1.8 or higher. e.g.\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n      &lt;/properties&gt;","title":"IntelliJ IDEA not supporting Lambda?","body":"<p>In addition to the answers above look into you pom.xml file. Source and target should be 1.8 or higher. e.g.</p>\n\n<pre><code>&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8663633,"reputation":24,"user_id":6485025,"display_name":"Daniel Tanque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676629811,"creation_date":1676033270,"answer_id":75411356,"question_id":33053891,"body_markdown":"I&#39;m using Java 17, got the same error, the solution for me was to specify the entity when declaring as Optional, like this:\r\n\r\n    Optional&lt;User&gt; findUserById(Long userId);\r\n\r\n\r\nBecause you want to receive a certain type, but also can be null or undefined.","title":"IntelliJ IDEA not supporting Lambda?","body":"<p>I'm using Java 17, got the same error, the solution for me was to specify the entity when declaring as Optional, like this:</p>\n<pre><code>Optional&lt;User&gt; findUserById(Long userId);\n</code></pre>\n<p>Because you want to receive a certain type, but also can be null or undefined.</p>\n"}],"owner":{"account_id":3217427,"reputation":895,"user_id":2715720,"accept_rate":82,"display_name":"rala"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7366,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":33054046,"answer_count":4,"score":0,"last_activity_date":1676629811,"creation_date":1444479436,"question_id":33053891,"body_markdown":"I&#39;m working with this tutorial which uses lambda expressions.\r\n\r\n[Spring Boot - Bookmarks][1]\r\n\r\n\r\nBut IntelliJ says always: `cannot resolve method(&lt;lambda expression&gt;)`.\r\n\r\nWhat do I have to check?\r\n\r\n    this.accountRepository.findByUsername(userId).orElseThrow(() -&gt; new UserNotFoundException(userId));\r\n\r\n  [1]: http://spring.io/guides/tutorials/bookmarks/","title":"IntelliJ IDEA not supporting Lambda?","body":"<p>I'm working with this tutorial which uses lambda expressions.</p>\n\n<p><a href=\"http://spring.io/guides/tutorials/bookmarks/\" rel=\"nofollow\">Spring Boot - Bookmarks</a></p>\n\n<p>But IntelliJ says always: <code>cannot resolve method(&lt;lambda expression&gt;)</code>.</p>\n\n<p>What do I have to check?</p>\n\n<pre><code>this.accountRepository.findByUsername(userId).orElseThrow(() -&gt; new UserNotFoundException(userId));\n</code></pre>\n"},{"tags":["java","date","datetime","timestamp"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1676617414,"post_id":75480975,"comment_id":133176852,"body_markdown":"Have a look at the Javadocs https://docs.oracle.com/javase/8/docs/api/java/util/Date.html#toString-- and you will see that it is doing exactly what it says it will do.  Try searching for ways to format a Java Date.","body":"Have a look at the Javadocs <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Date.html#toString--\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/&hellip;</a> and you will see that it is doing exactly what it says it will do.  Try searching for ways to format a Java Date."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1676617620,"post_id":75480975,"comment_id":133176886,"body_markdown":"As has been said many many times on Stack Overflow, both `Date` classes are terribly flawed, and are now legacy. They were supplanted years ago by the modern *java.time* classes defined in JSR 310. For a date-only value, use `LocalDate` class.","body":"As has been said many many times on Stack Overflow, both <code>Date</code> classes are terribly flawed, and are now legacy. They were supplanted years ago by the modern <i>java.time</i> classes defined in JSR 310. For a date-only value, use <code>LocalDate</code> class."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1676617631,"post_id":75480975,"comment_id":133176887,"body_markdown":"Your input string complies with ISO 8601 standard used by default when parsing/generating strings in *java.time*. So simply parse: `LocalDate.parse( &quot;2024-02-10&quot; )`. To generate such a string: `myLocalDate.toString()`.","body":"Your input string complies with ISO 8601 standard used by default when parsing/generating strings in <i>java.time</i>. So simply parse: <code>LocalDate.parse( &quot;2024-02-10&quot; )</code>. To generate such a string: <code>myLocalDate.toString()</code>."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1676617799,"post_id":75480975,"comment_id":133176917,"body_markdown":"Tip: In the Java ecosystem, you have your choice of many good JSON processing frameworks. I suggest you use one. See: [*JSON in Java*](https://www.baeldung.com/java-json) by Eugen Paraschiv on Baeldung.com.","body":"Tip: In the Java ecosystem, you have your choice of many good JSON processing frameworks. I suggest you use one. See: <a href=\"https://www.baeldung.com/java-json\" rel=\"nofollow noreferrer\"><i>JSON in Java</i></a> by Eugen Paraschiv on Baeldung.com."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1676618967,"post_id":75480975,"comment_id":133177171,"body_markdown":"Use `LocalDate` and use for example [jackson-modules-java8](https://github.com/FasterXML/jackson-modules-java8) and get exactly that format, which is also recommended. What you are seeing is the result of the `toString` method of the outdated `java.util.Date` class; you neither want that class nor that format.","body":"Use <code>LocalDate</code> and use for example <a href=\"https://github.com/FasterXML/jackson-modules-java8\" rel=\"nofollow noreferrer\">jackson-modules-java8</a> and get exactly that format, which is also recommended. What you are seeing is the result of the <code>toString</code> method of the outdated <code>java.util.Date</code> class; you neither want that class nor that format."},{"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1676619370,"post_id":75480975,"comment_id":133177264,"body_markdown":"You&#39;re expecting the `Date` object to remember that it should be printed in a specific format, but it doesn&#39;t work like that. A `Date` object does not have a format by itself; it&#39;s just a date and time value. To print it in a specific format, you&#39;d have to use a `SimpleDateFormat` object.","body":"You&#39;re expecting the <code>Date</code> object to remember that it should be printed in a specific format, but it doesn&#39;t work like that. A <code>Date</code> object does not have a format by itself; it&#39;s just a date and time value. To print it in a specific format, you&#39;d have to use a <code>SimpleDateFormat</code> object."}],"answers":[{"tags":[],"owner":{"account_id":4863301,"reputation":312,"user_id":3922336,"accept_rate":0,"display_name":"umesh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676629567,"creation_date":1676629567,"answer_id":75483025,"question_id":75480975,"body_markdown":"Since I was trying to save/parse the object in Google Web Toolkit (GWT) so SimpleDateFormat was creating issue, as GWT doesn&#39;t supports SimpleDateFormat.\r\n\r\nBut below worked for me \r\n\r\n    import com.google.gwt.i18n.shared.DateTimeFormat;\r\n    import com.google.gwt.i18n.shared.DefaultDateTimeFormatInfo;\r\n    String pattern = &quot;yyyy-MM-dd&quot;; /*your pattern here*/ \r\n\tDefaultDateTimeFormatInfo info = new DefaultDateTimeFormatInfo();\r\n\tDateTimeFormat df = new DateTimeFormat(pattern, info) {};\r\n    df.format(expiryDate)\r\n\r\nOutput :-\r\n\r\n    {&quot;id&quot;:123,&quot;expiryDate&quot; : &quot;2024-02-10&quot;}","title":"Unable to store Date in a specific format in database","body":"<p>Since I was trying to save/parse the object in Google Web Toolkit (GWT) so SimpleDateFormat was creating issue, as GWT doesn't supports SimpleDateFormat.</p>\n<p>But below worked for me</p>\n<pre><code>import com.google.gwt.i18n.shared.DateTimeFormat;\nimport com.google.gwt.i18n.shared.DefaultDateTimeFormatInfo;\nString pattern = &quot;yyyy-MM-dd&quot;; /*your pattern here*/ \nDefaultDateTimeFormatInfo info = new DefaultDateTimeFormatInfo();\nDateTimeFormat df = new DateTimeFormat(pattern, info) {};\ndf.format(expiryDate)\n</code></pre>\n<p>Output :-</p>\n<pre><code>{&quot;id&quot;:123,&quot;expiryDate&quot; : &quot;2024-02-10&quot;}\n</code></pre>\n"}],"owner":{"account_id":4863301,"reputation":312,"user_id":3922336,"accept_rate":0,"display_name":"umesh"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676629567,"creation_date":1676616170,"question_id":75480975,"body_markdown":"reading json data from database, and converting it into a object in java.\r\n\r\n    Data in Database :- {&quot;id&quot;:123,&quot;expiryDate&quot;:&quot;2024-02-10&quot;}\r\n\r\nNOTE :- I am trying to use this data in **Google Web Toolkit (GWT)**\r\n\r\nconverting above data using object mapper.\r\nObject consuming above json TestJson.java \r\n\r\n\r\n     Class TestJson {\r\n     private Long id,\r\n     private Date expiryDate;\r\n     public Long getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(Long id) {\r\n\t\tthis.id= id;\r\n\t}\r\n\r\n    public Date getExpiryDate() {\r\n\t\treturn expiryDate;\r\n\t}\r\n\r\n\tpublic void setExpiryDate(Date expiryDate) {\r\n\t\tthis.expiryDate = expiryDate;\r\n\t}\r\n    public String toJSONString() {\r\n         return &quot;{&quot; +\r\n                    &quot;\\&quot;id\\&quot; : \\&quot;&quot; + id + &quot;\\&quot;,&quot; +\r\n                    &quot;\\&quot;expiryDate\\&quot; : \\&quot;&quot; + expiryDate + &quot;\\&quot;}&quot;;\r\n    }\r\n    }\r\n\r\nWhen the Json data is converted then the value of &quot;Expiry Date&quot; is &quot;Sat Feb 10 05:30:00 IST 2024&quot;.\r\nBut I want it in the same format as it is in JSON.","title":"Unable to store Date in a specific format in database","body":"<p>reading json data from database, and converting it into a object in java.</p>\n<pre><code>Data in Database :- {&quot;id&quot;:123,&quot;expiryDate&quot;:&quot;2024-02-10&quot;}\n</code></pre>\n<p>NOTE :- I am trying to use this data in <strong>Google Web Toolkit (GWT)</strong></p>\n<p>converting above data using object mapper.\nObject consuming above json TestJson.java</p>\n<pre><code> Class TestJson {\n private Long id,\n private Date expiryDate;\n public Long getId() {\n    return id;\n}\n\npublic void setId(Long id) {\n    this.id= id;\n}\n\npublic Date getExpiryDate() {\n    return expiryDate;\n}\n\npublic void setExpiryDate(Date expiryDate) {\n    this.expiryDate = expiryDate;\n}\npublic String toJSONString() {\n     return &quot;{&quot; +\n                &quot;\\&quot;id\\&quot; : \\&quot;&quot; + id + &quot;\\&quot;,&quot; +\n                &quot;\\&quot;expiryDate\\&quot; : \\&quot;&quot; + expiryDate + &quot;\\&quot;}&quot;;\n}\n}\n</code></pre>\n<p>When the Json data is converted then the value of &quot;Expiry Date&quot; is &quot;Sat Feb 10 05:30:00 IST 2024&quot;.\nBut I want it in the same format as it is in JSON.</p>\n"},{"tags":["java","android","api","android-studio","retrofit"],"comments":[{"owner":{"account_id":2113491,"reputation":536,"user_id":6854117,"accept_rate":72,"display_name":"Moeez"},"score":0,"creation_date":1676611726,"post_id":75480540,"comment_id":133176016,"body_markdown":"What error you got while executing it?","body":"What error you got while executing it?"},{"owner":{"account_id":27380375,"reputation":31,"user_id":20885073,"display_name":"Jaivik Kotadiya"},"score":0,"creation_date":1676612694,"post_id":75480540,"comment_id":133176152,"body_markdown":"Onclick is not giving any response and error it&#39;s not performing any task","body":"Onclick is not giving any response and error it&#39;s not performing any task"},{"owner":{"account_id":2113491,"reputation":536,"user_id":6854117,"accept_rate":72,"display_name":"Moeez"},"score":0,"creation_date":1676612923,"post_id":75480540,"comment_id":133176181,"body_markdown":"did you debug it?","body":"did you debug it?"},{"owner":{"account_id":27380375,"reputation":31,"user_id":20885073,"display_name":"Jaivik Kotadiya"},"score":0,"creation_date":1676613273,"post_id":75480540,"comment_id":133176226,"body_markdown":"Yes and it shows no error","body":"Yes and it shows no error"},{"owner":{"account_id":2113491,"reputation":536,"user_id":6854117,"accept_rate":72,"display_name":"Moeez"},"score":0,"creation_date":1676613394,"post_id":75480540,"comment_id":133176238,"body_markdown":"How did you debug it ?","body":"How did you debug it ?"},{"owner":{"account_id":27380375,"reputation":31,"user_id":20885073,"display_name":"Jaivik Kotadiya"},"score":0,"creation_date":1676613603,"post_id":75480540,"comment_id":133176268,"body_markdown":"With debug option android debugger","body":"With debug option android debugger"},{"owner":{"account_id":2113491,"reputation":536,"user_id":6854117,"accept_rate":72,"display_name":"Moeez"},"score":0,"creation_date":1676613956,"post_id":75480540,"comment_id":133176314,"body_markdown":"It always shows some error on any other information. Add a breakpoint on which it should show a response and then check the log window as you are using Retrofit.","body":"It always shows some error on any other information. Add a breakpoint on which it should show a response and then check the log window as you are using Retrofit."},{"owner":{"account_id":6506209,"reputation":697,"user_id":5035015,"accept_rate":50,"display_name":"Kishor Ramani"},"score":0,"creation_date":1676615628,"post_id":75480540,"comment_id":133176555,"body_markdown":"Have you checked whether this API is working in postman or not? Are you testing in mobile or emulator? Also, check whether are you on the same network or not?","body":"Have you checked whether this API is working in postman or not? Are you testing in mobile or emulator? Also, check whether are you on the same network or not?"},{"owner":{"account_id":2113491,"reputation":536,"user_id":6854117,"accept_rate":72,"display_name":"Moeez"},"score":0,"creation_date":1676615714,"post_id":75480540,"comment_id":133176568,"body_markdown":"Share the structure of sending request.","body":"Share the structure of sending request."},{"owner":{"account_id":27380375,"reputation":31,"user_id":20885073,"display_name":"Jaivik Kotadiya"},"score":0,"creation_date":1676617144,"post_id":75480540,"comment_id":133176806,"body_markdown":"@KishorRamani it&#39;s working fine in postman and emulator, only problem i face when i try to run on mobile","body":"@KishorRamani it&#39;s working fine in postman and emulator, only problem i face when i try to run on mobile"},{"owner":{"account_id":6506209,"reputation":697,"user_id":5035015,"accept_rate":50,"display_name":"Kishor Ramani"},"score":0,"creation_date":1676617851,"post_id":75480540,"comment_id":133176926,"body_markdown":"@JaivikKotadiya try this solution https://stackoverflow.com/a/53984915/5035015","body":"@JaivikKotadiya try this solution <a href=\"https://stackoverflow.com/a/53984915/5035015\">stackoverflow.com/a/53984915/5035015</a>"}],"answers":[{"tags":[],"owner":{"account_id":6506209,"reputation":697,"user_id":5035015,"accept_rate":50,"display_name":"Kishor Ramani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676629218,"creation_date":1676629218,"answer_id":75482969,"question_id":75480540,"body_markdown":"refer to this answer for a solution\r\nhttps://stackoverflow.com/a/53984915/5035015\r\n\r\nfor more information regarding Network security configuration, refer to the below link\r\nhttps://developer.android.com/training/articles/security-config","title":"Unable to call api using retrofit in android","body":"<p>refer to this answer for a solution\n<a href=\"https://stackoverflow.com/a/53984915/5035015\">https://stackoverflow.com/a/53984915/5035015</a></p>\n<p>for more information regarding Network security configuration, refer to the below link\n<a href=\"https://developer.android.com/training/articles/security-config\" rel=\"nofollow noreferrer\">https://developer.android.com/training/articles/security-config</a></p>\n"}],"owner":{"account_id":27380375,"reputation":31,"user_id":20885073,"display_name":"Jaivik Kotadiya"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":355,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676629218,"creation_date":1676611538,"question_id":75480540,"body_markdown":"Earlier i was able to call api using this code and but now it is not working\r\nI&#39;m not sure that what went wrong so if you can help it will be great.\r\ni have uploaded my code files of circulareNotice.java,api.java and Retrofitclient.java\r\ncheck the code and let me know that what is error and also solution of that error.\r\n\r\n\r\n**circularNotice.java** \r\n```\r\npackage com.example.college_connect_faculty;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.RequiresApi;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.text.Editable;\r\nimport android.text.TextWatcher;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.view.textclassifier.ConversationActions;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.FirebaseApp;\r\nimport com.google.firebase.messaging.FirebaseMessaging;\r\nimport com.google.firebase.messaging.RemoteMessage;\r\nimport java.io.IOException;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport okhttp3.ResponseBody;\r\nimport retrofit2.Call;\r\nimport retrofit2.Callback;\r\nimport retrofit2.Response;\r\n\r\npublic class circularNotice extends AppCompatActivity {\r\n    EditText noticetxt,noticeTitle;\r\n    Button noticeBtn;\r\n    TextView stringLength;\r\n    String topic = &quot;com.example.college_connect_faculty&quot;;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        FirebaseApp.initializeApp(this);\r\n\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_circular_notice);\r\n\r\n        FirebaseMessaging.getInstance().subscribeToTopic(&quot;all&quot;);\r\n        noticetxt = findViewById(R.id.noticetxt);\r\n        noticeBtn = findViewById(R.id.noticeBtn);\r\n        stringLength = findViewById(R.id.stringLength);\r\n        noticeTitle = findViewById(R.id.noticeTitle);\r\n        noticetxt.addTextChangedListener(new TextWatcher() {\r\n            @Override\r\n            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void afterTextChanged(Editable editable) {\r\n                String s = noticetxt.getText().toString();\r\n                int l = s.length();\r\n                stringLength.setText(String.valueOf(l));\r\n\r\n            }\r\n        });\r\n\r\n        noticeBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                    String notice = noticetxt.getText().toString();\r\n                    String title = noticeTitle.getText().toString();\r\n                    try {\r\n\r\n\r\n                        Call&lt;ResponseBody&gt; call = RetrofitClient.getInstance().getApi().noticeUpload(notice, title);\r\n                        call.enqueue(new Callback&lt;ResponseBody&gt;() {\r\n                            @RequiresApi(api = Build.VERSION_CODES.Q)\r\n                            @Override\r\n                            public void onResponse(Call&lt;ResponseBody&gt; call, Response&lt;ResponseBody&gt; response) {\r\n                                try {\r\n                                    String s = response.body().string();\r\n                                    Toast.makeText(circularNotice.this, s, Toast.LENGTH_SHORT).show();\r\n\r\n                                    FcmNotificationsSender notificationsSender = new FcmNotificationsSender(&quot;/topics/all&quot;,\r\n                                            title, notice, getApplicationContext(), circularNotice.this);\r\n                                    notificationsSender.SendNotifications();\r\n                                    FirebaseMessaging firebaseMessaging = FirebaseMessaging.getInstance();\r\n\r\n                                } catch (IOException e) {\r\n                                    e.printStackTrace();\r\n                                }\r\n                            }\r\n\r\n                            @Override\r\n                            public void onFailure(Call&lt;ResponseBody&gt; call, Throwable t) {\r\n\r\n                            }\r\n                        });\r\n                    }catch (Exception e){\r\n                        Toast.makeText(circularNotice.this,e.getMessage().toString(),Toast.LENGTH_SHORT).show();\r\n                    }\r\n\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n**api.java** \r\n\r\n```\r\npackage com.example.college_connect_faculty;\r\n\r\nimport java.util.TreeMap;\r\n\r\nimport okhttp3.MultipartBody;\r\nimport okhttp3.RequestBody;\r\nimport okhttp3.ResponseBody;\r\nimport retrofit2.Call;\r\nimport retrofit2.http.Field;\r\nimport retrofit2.http.FormUrlEncoded;\r\nimport retrofit2.http.Multipart;\r\nimport retrofit2.http.POST;\r\nimport retrofit2.http.Part;\r\n\r\npublic interface api {\r\n\r\n    @FormUrlEncoded\r\n    @POST(&quot;uploadSubjects.php&quot;)\r\n    Call&lt;ResponseBody&gt;uploadSubject(\r\n            @Field(&quot;semester&quot;) String semester,\r\n            @Field(&quot;branch&quot;) String branch,\r\n            @Field(&quot;subject&quot;)String subject\r\n            );\r\n    @FormUrlEncoded\r\n    @POST(&quot;showSubjects.php&quot;)\r\n    Call&lt;ResultSubject&gt; showSubject(\r\n            @Field(&quot;semester&quot;) String semester,\r\n            @Field(&quot;branch&quot;) String branch\r\n    );\r\n    @Multipart\r\n    @POST(&quot;filesUpload.php&quot;)\r\n    Call&lt;ResponseBody&gt; fileUpload(\r\n            @Part MultipartBody.Part fileName,\r\n            @Part(&quot;branch&quot;) RequestBody branch,\r\n            @Part(&quot;semester&quot;) RequestBody semester,\r\n            @Part(&quot;subject&quot;) RequestBody subject\r\n\r\n    );\r\n\r\n    @FormUrlEncoded\r\n    @POST(&quot;noticeUpload.php&quot;)\r\n    Call&lt;ResponseBody&gt; noticeUpload(\r\n                    @Field(&quot;notice&quot;) String notice,\r\n                    @Field(&quot;title&quot;) String title\r\n    );\r\n}\r\n\r\n```\r\n\r\n**Retrofitclient.java**\r\n\r\n```\r\npackage com.example.college_connect_faculty;\r\n\r\nimport android.content.Context;\r\n\r\nimport retrofit2.Retrofit;\r\nimport retrofit2.converter.gson.GsonConverterFactory;\r\n\r\npublic class RetrofitClient {\r\n    static Context context;\r\n\r\n\r\n    final String BASE_URL = &quot;http://192.168.153.223/college_connect/&quot;;\r\n    private static RetrofitClient mInstance;\r\n    Retrofit retrofit;\r\n\r\n    RetrofitClient(){\r\n        retrofit = new Retrofit.Builder()\r\n                .baseUrl(BASE_URL)\r\n                .addConverterFactory(GsonConverterFactory.create())\r\n                .build();\r\n    }\r\n    public static synchronized RetrofitClient getInstance(){\r\n        if (mInstance==null){\r\n            mInstance = new RetrofitClient();\r\n        }\r\n        return mInstance;\r\n    }\r\n\r\n    public api getApi(){\r\n        return retrofit.create(api.class);\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n\r\ni have checked my ipv4. No problems in it","title":"Unable to call api using retrofit in android","body":"<p>Earlier i was able to call api using this code and but now it is not working\nI'm not sure that what went wrong so if you can help it will be great.\ni have uploaded my code files of circulareNotice.java,api.java and Retrofitclient.java\ncheck the code and let me know that what is error and also solution of that error.</p>\n<p><strong>circularNotice.java</strong></p>\n<pre><code>package com.example.college_connect_faculty;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.RequiresApi;\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.text.Editable;\nimport android.text.TextWatcher;\nimport android.util.Log;\nimport android.view.View;\nimport android.view.textclassifier.ConversationActions;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.TextView;\nimport android.widget.Toast;\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.Task;\nimport com.google.firebase.FirebaseApp;\nimport com.google.firebase.messaging.FirebaseMessaging;\nimport com.google.firebase.messaging.RemoteMessage;\nimport java.io.IOException;\nimport java.util.HashMap;\nimport java.util.Map;\nimport okhttp3.ResponseBody;\nimport retrofit2.Call;\nimport retrofit2.Callback;\nimport retrofit2.Response;\n\npublic class circularNotice extends AppCompatActivity {\n    EditText noticetxt,noticeTitle;\n    Button noticeBtn;\n    TextView stringLength;\n    String topic = &quot;com.example.college_connect_faculty&quot;;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        FirebaseApp.initializeApp(this);\n\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_circular_notice);\n\n        FirebaseMessaging.getInstance().subscribeToTopic(&quot;all&quot;);\n        noticetxt = findViewById(R.id.noticetxt);\n        noticeBtn = findViewById(R.id.noticeBtn);\n        stringLength = findViewById(R.id.stringLength);\n        noticeTitle = findViewById(R.id.noticeTitle);\n        noticetxt.addTextChangedListener(new TextWatcher() {\n            @Override\n            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n\n            }\n\n            @Override\n            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n\n            }\n\n            @Override\n            public void afterTextChanged(Editable editable) {\n                String s = noticetxt.getText().toString();\n                int l = s.length();\n                stringLength.setText(String.valueOf(l));\n\n            }\n        });\n\n        noticeBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                    String notice = noticetxt.getText().toString();\n                    String title = noticeTitle.getText().toString();\n                    try {\n\n\n                        Call&lt;ResponseBody&gt; call = RetrofitClient.getInstance().getApi().noticeUpload(notice, title);\n                        call.enqueue(new Callback&lt;ResponseBody&gt;() {\n                            @RequiresApi(api = Build.VERSION_CODES.Q)\n                            @Override\n                            public void onResponse(Call&lt;ResponseBody&gt; call, Response&lt;ResponseBody&gt; response) {\n                                try {\n                                    String s = response.body().string();\n                                    Toast.makeText(circularNotice.this, s, Toast.LENGTH_SHORT).show();\n\n                                    FcmNotificationsSender notificationsSender = new FcmNotificationsSender(&quot;/topics/all&quot;,\n                                            title, notice, getApplicationContext(), circularNotice.this);\n                                    notificationsSender.SendNotifications();\n                                    FirebaseMessaging firebaseMessaging = FirebaseMessaging.getInstance();\n\n                                } catch (IOException e) {\n                                    e.printStackTrace();\n                                }\n                            }\n\n                            @Override\n                            public void onFailure(Call&lt;ResponseBody&gt; call, Throwable t) {\n\n                            }\n                        });\n                    }catch (Exception e){\n                        Toast.makeText(circularNotice.this,e.getMessage().toString(),Toast.LENGTH_SHORT).show();\n                    }\n\n            }\n        });\n    }\n}\n</code></pre>\n<p><strong>api.java</strong></p>\n<pre><code>package com.example.college_connect_faculty;\n\nimport java.util.TreeMap;\n\nimport okhttp3.MultipartBody;\nimport okhttp3.RequestBody;\nimport okhttp3.ResponseBody;\nimport retrofit2.Call;\nimport retrofit2.http.Field;\nimport retrofit2.http.FormUrlEncoded;\nimport retrofit2.http.Multipart;\nimport retrofit2.http.POST;\nimport retrofit2.http.Part;\n\npublic interface api {\n\n    @FormUrlEncoded\n    @POST(&quot;uploadSubjects.php&quot;)\n    Call&lt;ResponseBody&gt;uploadSubject(\n            @Field(&quot;semester&quot;) String semester,\n            @Field(&quot;branch&quot;) String branch,\n            @Field(&quot;subject&quot;)String subject\n            );\n    @FormUrlEncoded\n    @POST(&quot;showSubjects.php&quot;)\n    Call&lt;ResultSubject&gt; showSubject(\n            @Field(&quot;semester&quot;) String semester,\n            @Field(&quot;branch&quot;) String branch\n    );\n    @Multipart\n    @POST(&quot;filesUpload.php&quot;)\n    Call&lt;ResponseBody&gt; fileUpload(\n            @Part MultipartBody.Part fileName,\n            @Part(&quot;branch&quot;) RequestBody branch,\n            @Part(&quot;semester&quot;) RequestBody semester,\n            @Part(&quot;subject&quot;) RequestBody subject\n\n    );\n\n    @FormUrlEncoded\n    @POST(&quot;noticeUpload.php&quot;)\n    Call&lt;ResponseBody&gt; noticeUpload(\n                    @Field(&quot;notice&quot;) String notice,\n                    @Field(&quot;title&quot;) String title\n    );\n}\n\n</code></pre>\n<p><strong>Retrofitclient.java</strong></p>\n<pre><code>package com.example.college_connect_faculty;\n\nimport android.content.Context;\n\nimport retrofit2.Retrofit;\nimport retrofit2.converter.gson.GsonConverterFactory;\n\npublic class RetrofitClient {\n    static Context context;\n\n\n    final String BASE_URL = &quot;http://192.168.153.223/college_connect/&quot;;\n    private static RetrofitClient mInstance;\n    Retrofit retrofit;\n\n    RetrofitClient(){\n        retrofit = new Retrofit.Builder()\n                .baseUrl(BASE_URL)\n                .addConverterFactory(GsonConverterFactory.create())\n                .build();\n    }\n    public static synchronized RetrofitClient getInstance(){\n        if (mInstance==null){\n            mInstance = new RetrofitClient();\n        }\n        return mInstance;\n    }\n\n    public api getApi(){\n        return retrofit.create(api.class);\n    }\n\n}\n\n</code></pre>\n<p>i have checked my ipv4. No problems in it</p>\n"},{"tags":["java","state","refactoring"],"comments":[{"owner":{"account_id":20013102,"reputation":641,"user_id":14669745,"display_name":"Pawan.Java"},"score":0,"creation_date":1676620462,"post_id":75481371,"comment_id":133177513,"body_markdown":"Mutation refers to changing the internal state of the class. Try making use of final variables to prevent re-initialization or final methods to prevent overriding and final class to prevent class being inherited.","body":"Mutation refers to changing the internal state of the class. Try making use of final variables to prevent re-initialization or final methods to prevent overriding and final class to prevent class being inherited."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1676620761,"post_id":75481371,"comment_id":133177587,"body_markdown":"So, you want to make the class stateless/immutable? Do i understand correct?","body":"So, you want to make the class stateless/immutable? Do i understand correct?"}],"answers":[{"tags":[],"owner":{"account_id":9843309,"reputation":1992,"user_id":7291698,"display_name":"user7291698"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676629190,"creation_date":1676627346,"answer_id":75482617,"question_id":75481371,"body_markdown":"If you want to make your class immutable, this is an option:\r\n\r\n    class ImmutableContainer {\r\n    \tfinal int capacity;\r\n    \tfinal String name;\r\n    \t\t\t   \r\n    \tpublic ImmutableContainer(int capacity, String name) {\r\n    \t\tthis.capacity = capacity;\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \t\t\t   \r\n    \tpublic int getCapacity() {\r\n    \t\treturn capacity;\r\n    \t}\r\n\r\n    \tpublic ImmutableContainer consumeContainer(int numberOfUnits) {\r\n    \t\treturn new ImmutableContainer(this.capacity - numberOfUnits, name);\r\n    \t}\r\n    }\r\n\r\nOr, even simpler, as a record:\r\n\t\r\n\r\n    record ImmutableContainer(int capacity, String name) {\r\n\r\n\t\tpublic ImmutableContainer consumeContainer(int numberOfUnits) {\r\n\t\t\treturn new ImmutableContainer(this.capacity - numberOfUnits, name);\r\n\t\t}\r\n\t}","title":"Refactor a stateful class","body":"<p>If you want to make your class immutable, this is an option:</p>\n<pre><code>class ImmutableContainer {\n    final int capacity;\n    final String name;\n               \n    public ImmutableContainer(int capacity, String name) {\n        this.capacity = capacity;\n        this.name = name;\n    }\n               \n    public int getCapacity() {\n        return capacity;\n    }\n\n    public ImmutableContainer consumeContainer(int numberOfUnits) {\n        return new ImmutableContainer(this.capacity - numberOfUnits, name);\n    }\n}\n</code></pre>\n<p>Or, even simpler, as a record:</p>\n<pre><code>record ImmutableContainer(int capacity, String name) {\n\n    public ImmutableContainer consumeContainer(int numberOfUnits) {\n        return new ImmutableContainer(this.capacity - numberOfUnits, name);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5260590,"reputation":210,"user_id":4202236,"display_name":"user4202236"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75482617,"answer_count":1,"score":1,"last_activity_date":1676629190,"creation_date":1676619452,"question_id":75481371,"body_markdown":"I have a stateful class in java\r\n\r\n    class Container {\r\n       int capacity;\r\n       String name;\r\n       \r\n       public int getCapacity() {\r\n            return capacity;\r\n       }\r\n       public void consumeContainer(int numberOfUnits) {\r\n            this.capacity = this.capacity - numberOfUnits;\r\n       }\r\n    }\r\n\r\n\r\nI am looking for options to refactor this so I don&#39;t have to mutate the class everytime the container is consumed. Can the experts throw in ideas on how to do that? \r\n\r\nThanks","title":"Refactor a stateful class","body":"<p>I have a stateful class in java</p>\n<pre><code>class Container {\n   int capacity;\n   String name;\n   \n   public int getCapacity() {\n        return capacity;\n   }\n   public void consumeContainer(int numberOfUnits) {\n        this.capacity = this.capacity - numberOfUnits;\n   }\n}\n</code></pre>\n<p>I am looking for options to refactor this so I don't have to mutate the class everytime the container is consumed. Can the experts throw in ideas on how to do that?</p>\n<p>Thanks</p>\n"},{"tags":["python","java","eclipse"],"owner":{"account_id":16995474,"reputation":21,"user_id":12294014,"display_name":"Mirna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676629129,"creation_date":1676628892,"question_id":75482905,"body_markdown":"I&#39;d like to create a function to add EObject. Previously I&#39;ve created a function to check it.\r\n\r\n```\r\nimport sys\r\ndef get_by_query_nam(e_obj, query_name, cls = None):\r\n    e_object_class = getattr(sys.modules[&quot;__main__&quot;], &quot;EObject&quot;)\r\n    return JavaList(getSBQuery(e_obj.get_java_object(), query_name), e_object_class)\r\n```\r\n\r\nthis works as expected (using getName() to have the value name)\r\n\r\nNow with the value from function  &quot;get_by_query_name&quot; I want to add another value to it. \r\nThanks !","title":"how to add Eobject","body":"<p>I'd like to create a function to add EObject. Previously I've created a function to check it.</p>\n<pre><code>import sys\ndef get_by_query_nam(e_obj, query_name, cls = None):\n    e_object_class = getattr(sys.modules[&quot;__main__&quot;], &quot;EObject&quot;)\n    return JavaList(getSBQuery(e_obj.get_java_object(), query_name), e_object_class)\n</code></pre>\n<p>this works as expected (using getName() to have the value name)</p>\n<p>Now with the value from function  &quot;get_by_query_name&quot; I want to add another value to it.\nThanks !</p>\n"},{"tags":["java","junit"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1676630075,"post_id":75482941,"comment_id":133180234,"body_markdown":"Add both directories to the classpath","body":"Add both directories to the classpath"}],"owner":{"account_id":4153704,"reputation":549,"user_id":3405484,"display_name":"Abdelghani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676629110,"creation_date":1676629110,"question_id":75482941,"body_markdown":"I have a project where test source files are in target/test-classes and source files are in target/classes.\r\n[![enter image description here][1]][1]\r\n\r\nI want to run the tests in command line. I use this command :\r\n\r\n&gt; java -cp &quot;target/test-classes:target/dependency/*&quot; org.junit.runner.JUnitCore com.java.MyClassTest\r\n\r\nBut this rises an error because Junit cant find com.java.MyClass (which is tested by com.java.MyClassTest).\r\n\r\n&gt; There was 1 failure:\r\n&gt; 1) initializationError(org.junit.runner.JUnitCommandLineParseResult)\r\n\r\n&gt; java.lang.IllegalArgumentException: Could not find class [com.java.MyClassTest]\r\n\r\nSo I try :\r\n\r\n&gt; java -cp &quot;target/classes:target/dependency/*&quot; org.junit.runner.JUnitCore com.java.MyClassTest\r\n\r\nBut then Junit cant find com.java.MyClassTest :\r\n\r\n&gt; There was 1 failure:\r\n&gt; 1) initializationError(com.java.MyClassTest)\r\n\r\n&gt; java.lang.NoClassDefFoundError: Lcom.java.MyClass;\r\n\r\nDo you know how to solve this whithout moving classes and/or using Maven?\r\n\r\nThank you in advance,\r\nAbdelghani\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3BXxA.png","title":"Running Java test in command line : test class files in a different directory than source files","body":"<p>I have a project where test source files are in target/test-classes and source files are in target/classes.\n<a href=\"https://i.stack.imgur.com/3BXxA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3BXxA.png\" alt=\"enter image description here\" /></a></p>\n<p>I want to run the tests in command line. I use this command :</p>\n<blockquote>\n<p>java -cp &quot;target/test-classes:target/dependency/*&quot; org.junit.runner.JUnitCore com.java.MyClassTest</p>\n</blockquote>\n<p>But this rises an error because Junit cant find com.java.MyClass (which is tested by com.java.MyClassTest).</p>\n<blockquote>\n<p>There was 1 failure:</p>\n<ol>\n<li>initializationError(org.junit.runner.JUnitCommandLineParseResult)</li>\n</ol>\n</blockquote>\n<blockquote>\n<p>java.lang.IllegalArgumentException: Could not find class [com.java.MyClassTest]</p>\n</blockquote>\n<p>So I try :</p>\n<blockquote>\n<p>java -cp &quot;target/classes:target/dependency/*&quot; org.junit.runner.JUnitCore com.java.MyClassTest</p>\n</blockquote>\n<p>But then Junit cant find com.java.MyClassTest :</p>\n<blockquote>\n<p>There was 1 failure:</p>\n<ol>\n<li>initializationError(com.java.MyClassTest)</li>\n</ol>\n</blockquote>\n<blockquote>\n<p>java.lang.NoClassDefFoundError: Lcom.java.MyClass;</p>\n</blockquote>\n<p>Do you know how to solve this whithout moving classes and/or using Maven?</p>\n<p>Thank you in advance,\nAbdelghani</p>\n"},{"tags":["java","apache-spark","apache-kafka","kafka-consumer-api"],"comments":[{"owner":{"account_id":16883509,"reputation":16760,"user_id":12208910,"display_name":"Michael Heil"},"score":1,"creation_date":1611164943,"post_id":65813055,"comment_id":116365562,"body_markdown":"are you sending data into the topic after you run this structured streaming job or have you already written data in the topic and after that starting this job? Also, have you tried deleting your checkpointLocation folder?","body":"are you sending data into the topic after you run this structured streaming job or have you already written data in the topic and after that starting this job? Also, have you tried deleting your checkpointLocation folder?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1611204537,"post_id":65813055,"comment_id":116377038,"body_markdown":"Based on the output, 128 is the latest offset. If you want existing data to be processed, you&#39;ll need another option to do so","body":"Based on the output, 128 is the latest offset. If you want existing data to be processed, you&#39;ll need another option to do so"},{"owner":{"account_id":8001212,"reputation":263,"user_id":6035977,"display_name":"Corram"},"score":0,"creation_date":1611218623,"post_id":65813055,"comment_id":116381120,"body_markdown":"Hi mike and OneCricketeer. I&#39;ve checked and removed the output folder (including checkpoints) of the application as well as deleting all Kafka and Zookeeper data. Then I started the services anew, but the problem still persists.","body":"Hi mike and OneCricketeer. I&#39;ve checked and removed the output folder (including checkpoints) of the application as well as deleting all Kafka and Zookeeper data. Then I started the services anew, but the problem still persists."}],"answers":[{"tags":[],"owner":{"account_id":8001212,"reputation":263,"user_id":6035977,"display_name":"Corram"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1614240948,"creation_date":1614240948,"answer_id":66364713,"question_id":65813055,"body_markdown":"As it turns out, this behaviour of seeking and resetting is perfectly desirable in case that one does not read to the topic from beginning, but from latest offset. The pipeline then only reads new data that gets sent to the Kafka topic whilst it is running and since no new data was sent, the infinite loop of seeking (new data) and resetting (to latest offset).\r\n\r\nBottom line, just read from beginning or send new data and the problem is solved.","title":"Infinite loop of Resetting offset and seeking for LATEST offset","body":"<p>As it turns out, this behaviour of seeking and resetting is perfectly desirable in case that one does not read to the topic from beginning, but from latest offset. The pipeline then only reads new data that gets sent to the Kafka topic whilst it is running and since no new data was sent, the infinite loop of seeking (new data) and resetting (to latest offset).</p>\n<p>Bottom line, just read from beginning or send new data and the problem is solved.</p>\n"},{"tags":[],"owner":{"account_id":1165941,"reputation":53,"user_id":1144256,"display_name":"Sitarama Chekuri"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1624907224,"creation_date":1624907224,"answer_id":68168826,"question_id":65813055,"body_markdown":"I had to avoid this by setting log config:\r\n```\r\nlog4j.logger.org.apache.kafka.clients.consumer.internals.SubscriptionState=WARN\r\n```\r\nAlthough this is expected behavior, it seems unnecessary to log &#39;Seeking to LATEST offset&#39; message every few milliseconds. It obscures all other application logs in the log file. This issue becomes even more concerning when consuming from topics that are not very active all the time. Better if it was just at DEBUG level instead of INFO.","title":"Infinite loop of Resetting offset and seeking for LATEST offset","body":"<p>I had to avoid this by setting log config:</p>\n<pre><code>log4j.logger.org.apache.kafka.clients.consumer.internals.SubscriptionState=WARN\n</code></pre>\n<p>Although this is expected behavior, it seems unnecessary to log 'Seeking to LATEST offset' message every few milliseconds. It obscures all other application logs in the log file. This issue becomes even more concerning when consuming from topics that are not very active all the time. Better if it was just at DEBUG level instead of INFO.</p>\n"},{"tags":[],"owner":{"account_id":294508,"reputation":4953,"user_id":598444,"accept_rate":67,"display_name":"WarFox"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676628974,"creation_date":1676628488,"answer_id":75482816,"question_id":65813055,"body_markdown":"Assuming this is just because of verbose logging from Kafka Consumers [SubscriptionState](https://github.com/apache/kafka/blob/trunk/clients/src/main/java/org/apache/kafka/clients/consumer/internals/SubscriptionState.java#LL390)\r\n\r\nIf you are using Spark 3.3.x with log4j2 setup (default), then the following might work for you\r\n\r\nAdd the following snippet to your `$SPARK_HOME/conf/log4j2.properties`\r\n\r\n\r\n```\r\n# Settings to quiet Kafka consumer logs that is too verbose\r\nlogger.kafkaConsumer.name = org.apache.kafka.clients.consumer\r\nlogger.kafkaConsumer.level = warn\r\n\r\n```\r\n","title":"Infinite loop of Resetting offset and seeking for LATEST offset","body":"<p>Assuming this is just because of verbose logging from Kafka Consumers <a href=\"https://github.com/apache/kafka/blob/trunk/clients/src/main/java/org/apache/kafka/clients/consumer/internals/SubscriptionState.java#LL390\" rel=\"nofollow noreferrer\">SubscriptionState</a></p>\n<p>If you are using Spark 3.3.x with log4j2 setup (default), then the following might work for you</p>\n<p>Add the following snippet to your <code>$SPARK_HOME/conf/log4j2.properties</code></p>\n<pre><code># Settings to quiet Kafka consumer logs that is too verbose\nlogger.kafkaConsumer.name = org.apache.kafka.clients.consumer\nlogger.kafkaConsumer.level = warn\n\n</code></pre>\n"}],"owner":{"account_id":8001212,"reputation":263,"user_id":6035977,"display_name":"Corram"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3374,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1676628974,"creation_date":1611158275,"question_id":65813055,"body_markdown":"I am trying to execute a simple spark structured streaming application which for now does not do much expect for pulling from a local Kafka cluster and writing to local file system. The code looks as follows:\r\n```\r\n    private static final String TARGET_PATH = &quot;orchestration/target/myfolder/&quot;;\r\n\r\n    private static final String BOOTSTRAP_SERVER = &quot;localhost:9092&quot;;\r\n    private static final String KAFKA_TOPIC = &quot;twitter_aapl2&quot;;\r\n\r\n    public static void main(String[] args) throws TimeoutException, StreamingQueryException {\r\n\r\n        SparkSession spark = SparkSession.builder().master(&quot;local[*]&quot;).appName(&quot;spark app&quot;).getOrCreate();\r\n\r\n        Dataset&lt;Row&gt; df = spark.readStream().format(&quot;kafka&quot;)\r\n                .option(&quot;kafka.bootstrap.servers&quot;, BOOTSTRAP_SERVER)\r\n                .option(&quot;subscribe&quot;, KAFKA_TOPIC)\r\n                .load();\r\n\r\n        StreamingQuery query = df.writeStream()\r\n                .outputMode(&quot;append&quot;)\r\n                .format(&quot;parquet&quot;)\r\n                .option(&quot;path&quot;, TARGET_PATH + &quot;data/&quot;)\r\n                .option(&quot;checkpointLocation&quot;, TARGET_PATH + &quot;checkpoints/&quot;)\r\n                .start();\r\n        query.awaitTermination();\r\n\r\n\r\n```\r\n\r\nBut on execution I get the following output and my data ain&#39;t really getting processed.\r\n```\r\n21/01/20 16:54:08 INFO SubscriptionState: [Consumer clientId=consumer-spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0-1, groupId=spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0] Resetting offset for partition twitter_aapl2-0 to offset 128.\r\n21/01/20 16:54:08 INFO SubscriptionState: [Consumer clientId=consumer-spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0-1, groupId=spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0] Seeking to LATEST offset of partition twitter_aapl2-0\r\n21/01/20 16:54:08 INFO SubscriptionState: [Consumer clientId=consumer-spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0-1, groupId=spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0] Resetting offset for partition twitter_aapl2-0 to offset 128.\r\n21/01/20 16:54:08 INFO SubscriptionState: [Consumer clientId=consumer-spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0-1, groupId=spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0] Seeking to LATEST offset of partition twitter_aapl2-0\r\n21/01/20 16:54:08 INFO SubscriptionState: [Consumer clientId=consumer-spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0-1, groupId=spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0] Resetting offset for partition twitter_aapl2-0 to offset 128.\r\n21/01/20 16:54:08 INFO SubscriptionState: [Consumer clientId=consumer-spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0-1, groupId=spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0] Seeking to LATEST offset of partition twitter_aapl2-0\r\n21/01/20 16:54:08 INFO SubscriptionState: [Consumer clientId=consumer-spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0-1, groupId=spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0] Resetting offset for partition twitter_aapl2-0 to offset 128.\r\n21/01/20 16:54:08 INFO SubscriptionState: [Consumer clientId=consumer-spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0-1, groupId=spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0] Seeking to LATEST offset of partition twitter_aapl2-0\r\n21/01/20 16:54:08 INFO SubscriptionState: [Consumer clientId=consumer-spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0-1, groupId=spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0] Resetting offset for partition twitter_aapl2-0 to offset 128.\r\n21/01/20 16:54:08 INFO SubscriptionState: [Consumer clientId=consumer-spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0-1, groupId=spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0] Seeking to LATEST offset of partition twitter_aapl2-0\r\n21/01/20 16:54:08 INFO SubscriptionState: [Consumer clientId=consumer-spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0-1, groupId=spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0] Resetting offset for partition twitter_aapl2-0 to offset 128.\r\n```\r\n\r\nHow can I fix this?","title":"Infinite loop of Resetting offset and seeking for LATEST offset","body":"<p>I am trying to execute a simple spark structured streaming application which for now does not do much expect for pulling from a local Kafka cluster and writing to local file system. The code looks as follows:</p>\n<pre><code>    private static final String TARGET_PATH = &quot;orchestration/target/myfolder/&quot;;\n\n    private static final String BOOTSTRAP_SERVER = &quot;localhost:9092&quot;;\n    private static final String KAFKA_TOPIC = &quot;twitter_aapl2&quot;;\n\n    public static void main(String[] args) throws TimeoutException, StreamingQueryException {\n\n        SparkSession spark = SparkSession.builder().master(&quot;local[*]&quot;).appName(&quot;spark app&quot;).getOrCreate();\n\n        Dataset&lt;Row&gt; df = spark.readStream().format(&quot;kafka&quot;)\n                .option(&quot;kafka.bootstrap.servers&quot;, BOOTSTRAP_SERVER)\n                .option(&quot;subscribe&quot;, KAFKA_TOPIC)\n                .load();\n\n        StreamingQuery query = df.writeStream()\n                .outputMode(&quot;append&quot;)\n                .format(&quot;parquet&quot;)\n                .option(&quot;path&quot;, TARGET_PATH + &quot;data/&quot;)\n                .option(&quot;checkpointLocation&quot;, TARGET_PATH + &quot;checkpoints/&quot;)\n                .start();\n        query.awaitTermination();\n\n\n</code></pre>\n<p>But on execution I get the following output and my data ain't really getting processed.</p>\n<pre><code>21/01/20 16:54:08 INFO SubscriptionState: [Consumer clientId=consumer-spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0-1, groupId=spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0] Resetting offset for partition twitter_aapl2-0 to offset 128.\n21/01/20 16:54:08 INFO SubscriptionState: [Consumer clientId=consumer-spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0-1, groupId=spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0] Seeking to LATEST offset of partition twitter_aapl2-0\n21/01/20 16:54:08 INFO SubscriptionState: [Consumer clientId=consumer-spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0-1, groupId=spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0] Resetting offset for partition twitter_aapl2-0 to offset 128.\n21/01/20 16:54:08 INFO SubscriptionState: [Consumer clientId=consumer-spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0-1, groupId=spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0] Seeking to LATEST offset of partition twitter_aapl2-0\n21/01/20 16:54:08 INFO SubscriptionState: [Consumer clientId=consumer-spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0-1, groupId=spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0] Resetting offset for partition twitter_aapl2-0 to offset 128.\n21/01/20 16:54:08 INFO SubscriptionState: [Consumer clientId=consumer-spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0-1, groupId=spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0] Seeking to LATEST offset of partition twitter_aapl2-0\n21/01/20 16:54:08 INFO SubscriptionState: [Consumer clientId=consumer-spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0-1, groupId=spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0] Resetting offset for partition twitter_aapl2-0 to offset 128.\n21/01/20 16:54:08 INFO SubscriptionState: [Consumer clientId=consumer-spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0-1, groupId=spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0] Seeking to LATEST offset of partition twitter_aapl2-0\n21/01/20 16:54:08 INFO SubscriptionState: [Consumer clientId=consumer-spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0-1, groupId=spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0] Resetting offset for partition twitter_aapl2-0 to offset 128.\n21/01/20 16:54:08 INFO SubscriptionState: [Consumer clientId=consumer-spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0-1, groupId=spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0] Seeking to LATEST offset of partition twitter_aapl2-0\n21/01/20 16:54:08 INFO SubscriptionState: [Consumer clientId=consumer-spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0-1, groupId=spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0] Resetting offset for partition twitter_aapl2-0 to offset 128.\n</code></pre>\n<p>How can I fix this?</p>\n"},{"tags":["java","spring-boot","tomcat","virtualhost"],"owner":{"account_id":1102829,"reputation":925,"user_id":1094850,"accept_rate":74,"display_name":"coderunner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676628937,"creation_date":1676628937,"question_id":75482913,"body_markdown":"**Use case:** We are trying to host dev and test environment of our spring boot application on an aws instance. Config used is Ubuntu 20.04, tomcat 9.0.7 and open jdk 11.\r\nWe have configured profiles for specific environments and properties files for each profile (viz. Dev, Test, Prod).&lt;br/&gt;\r\n\r\nVirtual hosts have been added to tomcats ```server.xml``` file as below.\r\n\r\n``` \r\n&lt;Host name=&quot;devbty.transp.in&quot;  appBase=&quot;webappbackend&quot; unpackWARs=&quot;true&quot; autoDeploy=&quot;true&quot;&gt;\r\n            \r\n        &lt;!-- Access log processes all example.\r\n             Documentation at: /docs/config/valve.html\r\n             Note: The pattern used is equivalent to using pattern=&quot;common&quot; --&gt;\r\n        &lt;Valve className=&quot;org.apache.catalina.valves.AccessLogValve&quot; directory=&quot;logs&quot;\r\n               prefix=&quot;dev_bty_access_log&quot; suffix=&quot;.txt&quot;\r\n               pattern=&quot;%h %l %u %t &amp;quot;%r&amp;quot; %s %b&quot; /&gt;\r\n\r\n&lt;/Host&gt;\r\n\t\r\n&lt;Host name=&quot;testbty.transp.in&quot;  appBase=&quot;webappbackendtest&quot; unpackWARs=&quot;true&quot; autoDeploy=&quot;true&quot;&gt;\r\n\r\n        &lt;!-- Access log processes all example.\r\n             Documentation at: /docs/config/valve.html\r\n             Note: The pattern used is equivalent to using pattern=&quot;common&quot; --&gt;\r\n        &lt;Valve className=&quot;org.apache.catalina.valves.AccessLogValve&quot; directory=&quot;logs&quot;\r\n               prefix=&quot;test_bty_access_log&quot; suffix=&quot;.txt&quot;\r\n               pattern=&quot;%h %l %u %t &amp;quot;%r&amp;quot; %s %b&quot; /&gt;\r\n\r\n&lt;/Host&gt;\r\n```\r\nAppbase directories are created in ```/opt/tomcat/``` directory. After deployment tomcat initializes only one(dev) app and the second one(test) is extracted from the WAR and present inside the appbase directory but not initialized. After hitting the respective URL&#39;s the output is as below.&lt;br/&gt;\r\n**Dev**&lt;br/&gt;\r\n[![enter image description here][1]][1]&lt;br/&gt;\r\n**Test**&lt;br/&gt;\r\n[![enter image description here][2]][2]&lt;br/&gt;\r\nDev is accessible whereas test is not.&lt;br/&gt;\r\n\r\nThe logs too show similar story. Here&#39;s a snippet from the ```catalina.out```. &lt;br/&gt;\r\n```\r\n :: Spring Boot ::                (v2.7.6)\r\n\r\n2023-02-17 07:39:59.644  INFO 19257 --- [           main] in.bilty.Application                : Starting Application using Java 11.0.17 on ip-20-0-2-81 with PID 19257 (/opt/tomcat/webappbackend/ROOT/WEB-INF/classes started by root in /)\r\n2023-02-17 07:39:59.656  INFO 19257 --- [           main] in.bilty.Application                : The following 1 profile is active: &quot;Dev&quot;\r\n2023-02-17 07:40:01.860  INFO 19257 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2023-02-17 07:40:02.065  INFO 19257 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 188 ms. Found 14 JPA repository interfaces.\r\n17-Feb-2023 07:40:02.929 INFO [main] org.apache.catalina.core.ApplicationContext.log Initializing Spring embedded WebApplicationContext\r\n2023-02-17 07:40:02.929  INFO 19257 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initi\r\n```\r\nIt however finds 2 applications on the classpath &lt;br/&gt;\r\n```\r\n17-Feb-2023 07:39:58.354 INFO [main] org.apache.catalina.core.ApplicationContext.log 2 Spring WebApplicationInitializers detected on classpath\r\n```\r\nIt says that the app is deployed which is correct as the WAR file is extracted and content is present in the appbase directory. &lt;br/&gt; \r\n```\r\n17-Feb-2023 07:40:12.931 INFO [main] org.apache.catalina.startup.HostConfig.deployWAR Deploying web application archive [/opt/tomcat/webappbackendtest/ROOT.war]\r\n17-Feb-2023 07:40:15.800 INFO [main] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\n17-Feb-2023 07:40:15.812 INFO [main] org.apache.catalina.core.ApplicationContext.log 1 Spring WebApplicationInitializers detected on classpath\r\n17-Feb-2023 07:40:15.852 INFO [main] org.apache.catalina.startup.HostConfig.deployWAR Deployment of web application archive [/opt/tomcat/webappbackendtest/ROOT.war] has finished in [2,921] ms\r\n```\r\n\r\nNot able to debug why only one app is deployed and not the other and no specific error message present in the logs. What can be missing?\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MmB8I.png\r\n  [2]: https://i.stack.imgur.com/XrQoM.png","title":"Tomcat failing to initialize multiple spring boot applications","body":"<p><strong>Use case:</strong> We are trying to host dev and test environment of our spring boot application on an aws instance. Config used is Ubuntu 20.04, tomcat 9.0.7 and open jdk 11.\nWe have configured profiles for specific environments and properties files for each profile (viz. Dev, Test, Prod).<br/></p>\n<p>Virtual hosts have been added to tomcats <code>server.xml</code> file as below.</p>\n<pre><code>&lt;Host name=&quot;devbty.transp.in&quot;  appBase=&quot;webappbackend&quot; unpackWARs=&quot;true&quot; autoDeploy=&quot;true&quot;&gt;\n            \n        &lt;!-- Access log processes all example.\n             Documentation at: /docs/config/valve.html\n             Note: The pattern used is equivalent to using pattern=&quot;common&quot; --&gt;\n        &lt;Valve className=&quot;org.apache.catalina.valves.AccessLogValve&quot; directory=&quot;logs&quot;\n               prefix=&quot;dev_bty_access_log&quot; suffix=&quot;.txt&quot;\n               pattern=&quot;%h %l %u %t &amp;quot;%r&amp;quot; %s %b&quot; /&gt;\n\n&lt;/Host&gt;\n    \n&lt;Host name=&quot;testbty.transp.in&quot;  appBase=&quot;webappbackendtest&quot; unpackWARs=&quot;true&quot; autoDeploy=&quot;true&quot;&gt;\n\n        &lt;!-- Access log processes all example.\n             Documentation at: /docs/config/valve.html\n             Note: The pattern used is equivalent to using pattern=&quot;common&quot; --&gt;\n        &lt;Valve className=&quot;org.apache.catalina.valves.AccessLogValve&quot; directory=&quot;logs&quot;\n               prefix=&quot;test_bty_access_log&quot; suffix=&quot;.txt&quot;\n               pattern=&quot;%h %l %u %t &amp;quot;%r&amp;quot; %s %b&quot; /&gt;\n\n&lt;/Host&gt;\n</code></pre>\n<p>Appbase directories are created in <code>/opt/tomcat/</code> directory. After deployment tomcat initializes only one(dev) app and the second one(test) is extracted from the WAR and present inside the appbase directory but not initialized. After hitting the respective URL's the output is as below.<br/>\n<strong>Dev</strong><br/>\n<a href=\"https://i.stack.imgur.com/MmB8I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MmB8I.png\" alt=\"enter image description here\" /></a><br/>\n<strong>Test</strong><br/>\n<a href=\"https://i.stack.imgur.com/XrQoM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XrQoM.png\" alt=\"enter image description here\" /></a><br/>\nDev is accessible whereas test is not.<br/></p>\n<p>The logs too show similar story. Here's a snippet from the <code>catalina.out</code>. <br/></p>\n<pre><code> :: Spring Boot ::                (v2.7.6)\n\n2023-02-17 07:39:59.644  INFO 19257 --- [           main] in.bilty.Application                : Starting Application using Java 11.0.17 on ip-20-0-2-81 with PID 19257 (/opt/tomcat/webappbackend/ROOT/WEB-INF/classes started by root in /)\n2023-02-17 07:39:59.656  INFO 19257 --- [           main] in.bilty.Application                : The following 1 profile is active: &quot;Dev&quot;\n2023-02-17 07:40:01.860  INFO 19257 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-02-17 07:40:02.065  INFO 19257 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 188 ms. Found 14 JPA repository interfaces.\n17-Feb-2023 07:40:02.929 INFO [main] org.apache.catalina.core.ApplicationContext.log Initializing Spring embedded WebApplicationContext\n2023-02-17 07:40:02.929  INFO 19257 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initi\n</code></pre>\n<p>It however finds 2 applications on the classpath <br/></p>\n<pre><code>17-Feb-2023 07:39:58.354 INFO [main] org.apache.catalina.core.ApplicationContext.log 2 Spring WebApplicationInitializers detected on classpath\n</code></pre>\n<p>It says that the app is deployed which is correct as the WAR file is extracted and content is present in the appbase directory. <br/></p>\n<pre><code>17-Feb-2023 07:40:12.931 INFO [main] org.apache.catalina.startup.HostConfig.deployWAR Deploying web application archive [/opt/tomcat/webappbackendtest/ROOT.war]\n17-Feb-2023 07:40:15.800 INFO [main] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\n17-Feb-2023 07:40:15.812 INFO [main] org.apache.catalina.core.ApplicationContext.log 1 Spring WebApplicationInitializers detected on classpath\n17-Feb-2023 07:40:15.852 INFO [main] org.apache.catalina.startup.HostConfig.deployWAR Deployment of web application archive [/opt/tomcat/webappbackendtest/ROOT.war] has finished in [2,921] ms\n</code></pre>\n<p>Not able to debug why only one app is deployed and not the other and no specific error message present in the logs. What can be missing?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1676566231,"post_id":75474420,"comment_id":133167078,"body_markdown":"Why not just use the Jmeter supplied from maven central, and setting the scope as `provided` to not include it in the final build? Forcing maven to use local jarfiles basically breaks the entire purpose of maven.","body":"Why not just use the Jmeter supplied from maven central, and setting the scope as <code>provided</code> to not include it in the final build? Forcing maven to use local jarfiles basically breaks the entire purpose of maven."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1676567775,"post_id":75474420,"comment_id":133167554,"body_markdown":"If you are trying to execute a jar, apart setting permissions as executable as a file property  (not usually needed if another program executes the java.exe or java.bin or java) you need to edit the manifest.mf in theMETA-INF folder of the .jar file to specify the Main-Class:     see the SDK docs  https://docs.oracle.com/javase/8/docs/technotes/guides/jar/jar.html     and   how to in the java tutorial   (program entry point) https://docs.oracle.com/javase/tutorial/deployment/jar/appman.html","body":"If you are trying to execute a jar, apart setting permissions as executable as a file property  (not usually needed if another program executes the java.exe or java.bin or java) you need to edit the manifest.mf in theMETA-INF folder of the .jar file to specify the Main-Class:     see the SDK docs  <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/jar/jar.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/technotes/guides/jar/jar.html</a>     and   how to in the java tutorial   (program entry point) <a href=\"https://docs.oracle.com/javase/tutorial/deployment/jar/appman.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/deployment/jar/appman.html</a>"}],"owner":{"account_id":19035995,"reputation":3,"user_id":13897088,"display_name":"Keydam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676628735,"creation_date":1676561192,"question_id":75474420,"body_markdown":"I&#39;m not really a developper but I need a tool and I&#39;m willing to improve myself .. be kind with my code please ..\r\n\r\nI&#39;m trying to write a jar tool, but whenever I&#39;m packaging it in a jar with Maven, my main class is never found .. I don&#39;t know what I&#39;m doing wrong \r\n\r\nHere is my java code\r\n\r\n```\r\npackage com.github.keydam.addprometheuslistener;\r\n\r\nimport java.io.File;\r\nimport java.io.IOException;\r\n\r\nimport org.apache.jmeter.engine.StandardJMeterEngine;\r\nimport org.apache.jmeter.save.SaveService;\r\nimport org.apache.jmeter.util.JMeterUtils;\r\nimport org.apache.jorphan.collections.HashTree;\r\n\r\nimport picocli.CommandLine;\r\nimport picocli.CommandLine.Command;\r\nimport picocli.CommandLine.Option;\r\n\r\n@Command\r\npublic class addPrometheusListener implements Runnable {\r\n    @Option(names = { &quot;-f&quot;, &quot;--file&quot; }, required = true, description = &quot;JMX file&quot;) \r\n    public static File jmxFile;\r\n\r\n    public void run() {\r\n        // Test de l&#39;existence du fichier\r\n        boolean jmxFileExists = jmxFile.exists();\r\n\r\n        if (jmxFileExists) {\r\n            // Positionnement de JMETER_HOME\r\n            String jmeterHome = &quot;C:\\\\Users\\\\xxxxxx\\\\Documents\\\\Outils\\\\Jmeter\\\\5.5&quot;;\r\n\r\n            // Initialisation de Jmeter\r\n            try {\r\n                StandardJMeterEngine jmeter = new StandardJMeterEngine();\r\n                JMeterUtils.setJMeterHome(jmeterHome);\r\n                JMeterUtils.loadJMeterProperties(jmeterHome + &quot;/bin/jmeter.properties&quot;);\r\n                SaveService.loadProperties();\r\n            } catch (IOException e) {\r\n                System.out.println(e);\r\n            }\r\n\r\n            // Chargement du fichier\r\n            try {\r\n                HashTree testPlanTree = SaveService.loadTree(jmxFile);\r\n            } catch (IOException e) {\r\n                System.out.println(e);\r\n            }\r\n\r\n        } else {\r\n            System.out.println(&quot;Error : file &#39;&quot; + jmxFile + &quot;&#39; does not exist&quot;);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        int exitCode = new CommandLine(new addPrometheusListener()).execute(args);\r\n        System.exit(exitCode); \r\n    }\r\n}\r\n```\r\n\r\nAnd here is my pom.xml file\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;!--&lt;packaging&gt;jar&lt;/packaging&gt;--&gt;\r\n\r\n  &lt;groupId&gt;com.github.keydam.addprometheuslistener&lt;/groupId&gt;\r\n  &lt;artifactId&gt;addPrometheusListener&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0&lt;/version&gt;\r\n  &lt;name&gt;addPrometheusListener&lt;/name&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\r\n    &lt;jmeter.version&gt;5.5&lt;/jmeter.version&gt;\r\n    &lt;jmeter.path&gt;C:/Users/xxxxxx/Documents/Outils/Jmeter/5.5&lt;/jmeter.path&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.jmeter&lt;/groupId&gt;\r\n        &lt;artifactId&gt;ApacheJMeter_core&lt;/artifactId&gt;\r\n        &lt;version&gt;${jmeter.version}&lt;/version&gt;\r\n        &lt;scope&gt;system&lt;/scope&gt;\r\n        &lt;systemPath&gt;${jmeter.path}/lib/ext/ApacheJMeter_core.jar&lt;/systemPath&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.jmeter&lt;/groupId&gt;\r\n        &lt;artifactId&gt;ApacheJMeter_java&lt;/artifactId&gt;\r\n        &lt;version&gt;${jmeter.version}&lt;/version&gt;\r\n        &lt;scope&gt;system&lt;/scope&gt;\r\n        &lt;systemPath&gt;${jmeter.path}/lib/ext/ApacheJMeter_java.jar&lt;/systemPath&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jorphan&lt;/artifactId&gt;\r\n        &lt;version&gt;${jmeter.version}&lt;/version&gt;\r\n        &lt;scope&gt;system&lt;/scope&gt;\r\n        &lt;systemPath&gt;${jmeter.path}/lib/jorphan.jar&lt;/systemPath&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;info.picocli&lt;/groupId&gt;\r\n        &lt;artifactId&gt;picocli&lt;/artifactId&gt;\r\n        &lt;version&gt;4.7.1&lt;/version&gt;\r\n        &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.3.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;archive&gt;\r\n            &lt;manifest&gt;\r\n              &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n              &lt;mainClass&gt;com.github.keydam.addprometheuslistener.addPrometheusListener&lt;/mainClass&gt;\r\n            &lt;/manifest&gt;\r\n            &lt;manifestEntries&gt;\r\n              &lt;Class-Path&gt;${jmeter.path}&lt;/Class-Path&gt;\r\n            &lt;/manifestEntries&gt;\r\n          &lt;/archive&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;default-jar&lt;/id&gt;\r\n            &lt;phase&gt;none&lt;/phase&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.4.2&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;archive&gt;\r\n            &lt;manifest&gt;\r\n              &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n              &lt;mainClass&gt;com.github.keydam.addprometheuslistener.addPrometheusListener&lt;/mainClass&gt;\r\n            &lt;/manifest&gt;\r\n            &lt;manifestEntries&gt;\r\n              &lt;Class-Path&gt;${jmeter.path}/lib/ext/ApacheJMeter_core.jar ${jmeter.path}/lib/ext/ApacheJMeter_java.jar ${jmeter.path}/lib/jorphan.jar&lt;/Class-Path&gt;\r\n            &lt;/manifestEntries&gt;\r\n          &lt;/archive&gt;\r\n          &lt;descriptorRefs&gt;\r\n            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n          &lt;/descriptorRefs&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;make-assembly&lt;/id&gt;\r\n            &lt;phase&gt;package&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;single&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\nI dont need the Jmeter jar to be in the package because they will be available on the system this code might run ..\r\nWhat am I missing or doing wrong ? My main class is never found when I try to execute my jar\r\n\r\nWell I tried a lot of debug, and the only thing I noticed is when I comment the manifestEntries section I dont have this problem anymore, but I&#39;m missing the Jmeter libraries .. which seems normal.","title":"Main class not found when adding jar to classPath","body":"<p>I'm not really a developper but I need a tool and I'm willing to improve myself .. be kind with my code please ..</p>\n<p>I'm trying to write a jar tool, but whenever I'm packaging it in a jar with Maven, my main class is never found .. I don't know what I'm doing wrong</p>\n<p>Here is my java code</p>\n<pre><code>package com.github.keydam.addprometheuslistener;\n\nimport java.io.File;\nimport java.io.IOException;\n\nimport org.apache.jmeter.engine.StandardJMeterEngine;\nimport org.apache.jmeter.save.SaveService;\nimport org.apache.jmeter.util.JMeterUtils;\nimport org.apache.jorphan.collections.HashTree;\n\nimport picocli.CommandLine;\nimport picocli.CommandLine.Command;\nimport picocli.CommandLine.Option;\n\n@Command\npublic class addPrometheusListener implements Runnable {\n    @Option(names = { &quot;-f&quot;, &quot;--file&quot; }, required = true, description = &quot;JMX file&quot;) \n    public static File jmxFile;\n\n    public void run() {\n        // Test de l'existence du fichier\n        boolean jmxFileExists = jmxFile.exists();\n\n        if (jmxFileExists) {\n            // Positionnement de JMETER_HOME\n            String jmeterHome = &quot;C:\\\\Users\\\\xxxxxx\\\\Documents\\\\Outils\\\\Jmeter\\\\5.5&quot;;\n\n            // Initialisation de Jmeter\n            try {\n                StandardJMeterEngine jmeter = new StandardJMeterEngine();\n                JMeterUtils.setJMeterHome(jmeterHome);\n                JMeterUtils.loadJMeterProperties(jmeterHome + &quot;/bin/jmeter.properties&quot;);\n                SaveService.loadProperties();\n            } catch (IOException e) {\n                System.out.println(e);\n            }\n\n            // Chargement du fichier\n            try {\n                HashTree testPlanTree = SaveService.loadTree(jmxFile);\n            } catch (IOException e) {\n                System.out.println(e);\n            }\n\n        } else {\n            System.out.println(&quot;Error : file '&quot; + jmxFile + &quot;' does not exist&quot;);\n        }\n    }\n\n    public static void main(String[] args) {\n        int exitCode = new CommandLine(new addPrometheusListener()).execute(args);\n        System.exit(exitCode); \n    }\n}\n</code></pre>\n<p>And here is my pom.xml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;!--&lt;packaging&gt;jar&lt;/packaging&gt;--&gt;\n\n  &lt;groupId&gt;com.github.keydam.addprometheuslistener&lt;/groupId&gt;\n  &lt;artifactId&gt;addPrometheusListener&lt;/artifactId&gt;\n  &lt;version&gt;1.0&lt;/version&gt;\n  &lt;name&gt;addPrometheusListener&lt;/name&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\n    &lt;jmeter.version&gt;5.5&lt;/jmeter.version&gt;\n    &lt;jmeter.path&gt;C:/Users/xxxxxx/Documents/Outils/Jmeter/5.5&lt;/jmeter.path&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.jmeter&lt;/groupId&gt;\n        &lt;artifactId&gt;ApacheJMeter_core&lt;/artifactId&gt;\n        &lt;version&gt;${jmeter.version}&lt;/version&gt;\n        &lt;scope&gt;system&lt;/scope&gt;\n        &lt;systemPath&gt;${jmeter.path}/lib/ext/ApacheJMeter_core.jar&lt;/systemPath&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.jmeter&lt;/groupId&gt;\n        &lt;artifactId&gt;ApacheJMeter_java&lt;/artifactId&gt;\n        &lt;version&gt;${jmeter.version}&lt;/version&gt;\n        &lt;scope&gt;system&lt;/scope&gt;\n        &lt;systemPath&gt;${jmeter.path}/lib/ext/ApacheJMeter_java.jar&lt;/systemPath&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache&lt;/groupId&gt;\n        &lt;artifactId&gt;jorphan&lt;/artifactId&gt;\n        &lt;version&gt;${jmeter.version}&lt;/version&gt;\n        &lt;scope&gt;system&lt;/scope&gt;\n        &lt;systemPath&gt;${jmeter.path}/lib/jorphan.jar&lt;/systemPath&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;info.picocli&lt;/groupId&gt;\n        &lt;artifactId&gt;picocli&lt;/artifactId&gt;\n        &lt;version&gt;4.7.1&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.3.0&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;archive&gt;\n            &lt;manifest&gt;\n              &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n              &lt;mainClass&gt;com.github.keydam.addprometheuslistener.addPrometheusListener&lt;/mainClass&gt;\n            &lt;/manifest&gt;\n            &lt;manifestEntries&gt;\n              &lt;Class-Path&gt;${jmeter.path}&lt;/Class-Path&gt;\n            &lt;/manifestEntries&gt;\n          &lt;/archive&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;default-jar&lt;/id&gt;\n            &lt;phase&gt;none&lt;/phase&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.4.2&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;archive&gt;\n            &lt;manifest&gt;\n              &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n              &lt;mainClass&gt;com.github.keydam.addprometheuslistener.addPrometheusListener&lt;/mainClass&gt;\n            &lt;/manifest&gt;\n            &lt;manifestEntries&gt;\n              &lt;Class-Path&gt;${jmeter.path}/lib/ext/ApacheJMeter_core.jar ${jmeter.path}/lib/ext/ApacheJMeter_java.jar ${jmeter.path}/lib/jorphan.jar&lt;/Class-Path&gt;\n            &lt;/manifestEntries&gt;\n          &lt;/archive&gt;\n          &lt;descriptorRefs&gt;\n            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n          &lt;/descriptorRefs&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;make-assembly&lt;/id&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;single&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I dont need the Jmeter jar to be in the package because they will be available on the system this code might run ..\nWhat am I missing or doing wrong ? My main class is never found when I try to execute my jar</p>\n<p>Well I tried a lot of debug, and the only thing I noticed is when I comment the manifestEntries section I dont have this problem anymore, but I'm missing the Jmeter libraries .. which seems normal.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":27509564,"reputation":50,"user_id":20991732,"display_name":"fabi80v"},"score":0,"creation_date":1676623952,"post_id":75481834,"comment_id":133178432,"body_markdown":"Yes I tried this and then I got this result: [{art=2, lz_min=24, lz_max=36, faktor=null, zinssatz=0.5, kondnr=84}]","body":"Yes I tried this and then I got this result: [{art=2, lz_min=24, lz_max=36, faktor=null, zinssatz=0.5, kondnr=84}]"},{"owner":{"account_id":27509564,"reputation":50,"user_id":20991732,"display_name":"fabi80v"},"score":0,"creation_date":1676626432,"post_id":75481834,"comment_id":133179157,"body_markdown":"Hey, yes I am very new to java. I am learning it atm and thought I could get a quick answer with this post","body":"Hey, yes I am very new to java. I am learning it atm and thought I could get a quick answer with this post"}],"answers":[{"tags":[],"owner":{"account_id":9843309,"reputation":1992,"user_id":7291698,"display_name":"user7291698"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676628473,"creation_date":1676625982,"answer_id":75482378,"question_id":75481834,"body_markdown":"It seems to be a nested map. Have you tried the following:\r\n\r\n    ((HashMap)mymap.get(&quot;varten&quot;)).get(&quot;zinssatz&quot;);\r\n\r\nOr, if you&#39;re not sure if `varten` is really a `HashMap`, you can try the following to get the type:\r\n\r\n    System.out.println(mymap.get(&quot;varten&quot;).getClass());\r\n\r\n\r\n\r\n**Update**\r\n\r\nIf `varten` is a `HashMap` stored inside an `ArrayList`, try the following:\r\n\r\n    ((HashMap)((ArrayList)mymap.get(&quot;varten&quot;)).get(0)).get(&quot;zinssatz&quot;);\r\n\r\n...which is the same as:\r\n\t\t\r\n\r\n    List list = (ArrayList) mymap.get(&quot;varten&quot;);\r\n    Map map = (HashMap) list.get(0);\r\n    Object zinssatz = map.get(&quot;zinssatz&quot;);","title":"How do I get the value of a dictionary that contains a list of dictionaries in java?","body":"<p>It seems to be a nested map. Have you tried the following:</p>\n<pre><code>((HashMap)mymap.get(&quot;varten&quot;)).get(&quot;zinssatz&quot;);\n</code></pre>\n<p>Or, if you're not sure if <code>varten</code> is really a <code>HashMap</code>, you can try the following to get the type:</p>\n<pre><code>System.out.println(mymap.get(&quot;varten&quot;).getClass());\n</code></pre>\n<p><strong>Update</strong></p>\n<p>If <code>varten</code> is a <code>HashMap</code> stored inside an <code>ArrayList</code>, try the following:</p>\n<pre><code>((HashMap)((ArrayList)mymap.get(&quot;varten&quot;)).get(0)).get(&quot;zinssatz&quot;);\n</code></pre>\n<p>...which is the same as:</p>\n<pre><code>List list = (ArrayList) mymap.get(&quot;varten&quot;);\nMap map = (HashMap) list.get(0);\nObject zinssatz = map.get(&quot;zinssatz&quot;);\n</code></pre>\n"}],"owner":{"account_id":27509564,"reputation":50,"user_id":20991732,"display_name":"fabi80v"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75482378,"answer_count":1,"score":1,"last_activity_date":1676628473,"creation_date":1676622485,"question_id":75481834,"body_markdown":"I am working on a programm in Java which contains a part where I get a couple of information from my Python Server. It is a Hashmap that looks like this: \r\n\r\n```\r\n{hid=null, art=CWE, produktgruppe=23, objekt=K&#252;che, betrag=714.989990234375, iban=DE0212, id=2812, varten=[{art=2, lz_min=24, lz_max=36, faktor=null, zinssatz=0.5, kondnr=84}], status=979}\r\n```\r\nHow can I get the value of the key &quot;zinssatz&quot;.\r\n\r\n\r\n\r\nI tried it with \r\n\r\n```\r\nmymap.get(&quot;zinssatz&quot;);\r\n```\r\nBut that always returns zero. Which is probably because it can&#39;t find the key inside my hashmap because it is build like a &quot;Dictionary with a list of dictionaries&quot; inside it. \r\nThanks for your help. ","title":"How do I get the value of a dictionary that contains a list of dictionaries in java?","body":"<p>I am working on a programm in Java which contains a part where I get a couple of information from my Python Server. It is a Hashmap that looks like this:</p>\n<pre><code>{hid=null, art=CWE, produktgruppe=23, objekt=Küche, betrag=714.989990234375, iban=DE0212, id=2812, varten=[{art=2, lz_min=24, lz_max=36, faktor=null, zinssatz=0.5, kondnr=84}], status=979}\n</code></pre>\n<p>How can I get the value of the key &quot;zinssatz&quot;.</p>\n<p>I tried it with</p>\n<pre><code>mymap.get(&quot;zinssatz&quot;);\n</code></pre>\n<p>But that always returns zero. Which is probably because it can't find the key inside my hashmap because it is build like a &quot;Dictionary with a list of dictionaries&quot; inside it.\nThanks for your help.</p>\n"},{"tags":["java","android","permissions","usb-mass-storage"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1676546826,"post_id":75470482,"comment_id":133160651,"body_markdown":"You did not tell what you tried programmatically. And... you do not need any permission to begin with.","body":"You did not tell what you tried programmatically. And... you do not need any permission to begin with."}],"owner":{"account_id":27801154,"reputation":1,"user_id":21225585,"display_name":"user21225585"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676628457,"creation_date":1676541071,"question_id":75470482,"body_markdown":"First time using stack overflow.\r\n\r\n\r\n\r\nI am creating an application that reads and plays videos from a USB SSD.\r\n\r\nI was able to get the file path using wireless debugging but could not access the file.I&#39;m thinking I can&#39;t access it because I don&#39;t have permissions.\r\n\r\nWhen accessing the SSD with a file manager app, the default file manager app started with a permission dialog.\r\n\r\nDefault file manager app Dialog:\r\n[![Default file manager app Dialog][1]][1]\r\n\r\nDefault File manager app Button:\r\n[![Default File manager app Button][2]][2]\r\n\r\nFile manager app:\r\n[![File manager app][3]][3]\r\n\r\nI tried many other things but it didn&#39;t work.\r\nI think it can be done with this method, but I don&#39;t know how to do it with special permissions, so please help.\r\n\r\nthank you.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QFTYj.jpg\r\n  [2]: https://i.stack.imgur.com/wRsBZ.jpg\r\n  [3]: https://i.stack.imgur.com/L6JVK.jpg","title":"I want to get permission for a USB connected SSD in Android Studio","body":"<p>First time using stack overflow.</p>\n<p>I am creating an application that reads and plays videos from a USB SSD.</p>\n<p>I was able to get the file path using wireless debugging but could not access the file.I'm thinking I can't access it because I don't have permissions.</p>\n<p>When accessing the SSD with a file manager app, the default file manager app started with a permission dialog.</p>\n<p>Default file manager app Dialog:\n<a href=\"https://i.stack.imgur.com/QFTYj.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QFTYj.jpg\" alt=\"Default file manager app Dialog\" /></a></p>\n<p>Default File manager app Button:\n<a href=\"https://i.stack.imgur.com/wRsBZ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wRsBZ.jpg\" alt=\"Default File manager app Button\" /></a></p>\n<p>File manager app:\n<a href=\"https://i.stack.imgur.com/L6JVK.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L6JVK.jpg\" alt=\"File manager app\" /></a></p>\n<p>I tried many other things but it didn't work.\nI think it can be done with this method, but I don't know how to do it with special permissions, so please help.</p>\n<p>thank you.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1676626855,"post_id":75482482,"comment_id":133179277,"body_markdown":"[A &quot;why&quot; question like this is inherently unanswerable.](https://meta.stackoverflow.com/a/323382/5133585) Please edit to clarify what you mean by &quot;why&quot;. For example, what behaviour did you expect the code to produce instead?","body":"<a href=\"https://meta.stackoverflow.com/a/323382/5133585\">A &quot;why&quot; question like this is inherently unanswerable.</a> Please edit to clarify what you mean by &quot;why&quot;. For example, what behaviour did you expect the code to produce instead?"},{"owner":{"account_id":8958875,"reputation":3265,"user_id":6682274,"accept_rate":25,"display_name":"Sudhir Ojha"},"score":0,"creation_date":1676626893,"post_id":75482482,"comment_id":133179291,"body_markdown":"Once assigned, `final` variables cannot be modified","body":"Once assigned, <code>final</code> variables cannot be modified"},{"owner":{"account_id":10309761,"reputation":944,"user_id":7605967,"display_name":"Keshavram Kuduwa"},"score":0,"creation_date":1676627132,"post_id":75482482,"comment_id":133179360,"body_markdown":"@Sweeper Elaborated my Question.","body":"@Sweeper Elaborated my Question."}],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1676627721,"creation_date":1676627195,"answer_id":75482588,"question_id":75482482,"body_markdown":"**tl;dr:** When we reach the catch-block the try-block has failed, but we don&#39;t know *where* it failed. It might have failed before, during or after assigning to the variable. Therefore the compiler can&#39;t allow a possible re-assignment to a `final` variable.\r\n\r\n**Long answer:** A `final` variable has to be assigned *exactly* once before it can be read. Not less (i.e. never assigned), not more (i.e. assigned twice). Exactly once.\r\n\r\nFor this reason the following code is trivially wrong:\r\n\r\n    final String someString;\r\n    someString = &quot;Hello&quot;;\r\n    someString = &quot;World&quot;;\r\n\r\nThe second assignment will result in a compile time error, since `someString` was definitely already assigned.\r\n\r\nNow let&#39;s look at this code:\r\n\r\n    final String someString;\r\n    try {\r\n      callSomeMethod();\r\n      someString = &quot;Hello&quot;;\r\n      callSomeOtherMethod();\r\n    } catch (Exception e) {\r\n      someString = &quot;World&quot;;\r\n    }\r\n\r\nNow we&#39;ve run into a problem: the compiler can&#39;t know when the exception that causes the catch-block to be executed is thrown: it could be thrown in `callSomeMethod()` or in `callSomeOtherMethod()` (or through some miraculous internal problem even when trying to assign the constant).\r\n\r\nSo the compiler simply doesn&#39;t know if `someString` will have been already been assigned to inside the catch-block or not (and both options would theoretically be possible at runtime!). If the variable had been assigned, then the assignment has to be a compile time error. If it wasn&#39;t it would be fine. But since static analysis can&#39;t tell you which one it is, the compiler has to mark the whole assignment as an error.\r\n\r\nNow in theory in some corner cases the compiler *could theoretically* know that a variable was definitely assigned in the `try` block, even when an exception occurs. Specifically if it&#39;s the first action and it can prove that the assignment action can not throw an exception. But if that&#39;s the case, then the programmer can just trivially move that assignment *out* of the try-block and avoid the whole problem. That&#39;s *probably* why no such rule exists in the JLS.","title":"Why is it not possible to initialize a final variable in a catch block?","body":"<p><strong>tl;dr:</strong> When we reach the catch-block the try-block has failed, but we don't know <em>where</em> it failed. It might have failed before, during or after assigning to the variable. Therefore the compiler can't allow a possible re-assignment to a <code>final</code> variable.</p>\n<p><strong>Long answer:</strong> A <code>final</code> variable has to be assigned <em>exactly</em> once before it can be read. Not less (i.e. never assigned), not more (i.e. assigned twice). Exactly once.</p>\n<p>For this reason the following code is trivially wrong:</p>\n<pre><code>final String someString;\nsomeString = &quot;Hello&quot;;\nsomeString = &quot;World&quot;;\n</code></pre>\n<p>The second assignment will result in a compile time error, since <code>someString</code> was definitely already assigned.</p>\n<p>Now let's look at this code:</p>\n<pre><code>final String someString;\ntry {\n  callSomeMethod();\n  someString = &quot;Hello&quot;;\n  callSomeOtherMethod();\n} catch (Exception e) {\n  someString = &quot;World&quot;;\n}\n</code></pre>\n<p>Now we've run into a problem: the compiler can't know when the exception that causes the catch-block to be executed is thrown: it could be thrown in <code>callSomeMethod()</code> or in <code>callSomeOtherMethod()</code> (or through some miraculous internal problem even when trying to assign the constant).</p>\n<p>So the compiler simply doesn't know if <code>someString</code> will have been already been assigned to inside the catch-block or not (and both options would theoretically be possible at runtime!). If the variable had been assigned, then the assignment has to be a compile time error. If it wasn't it would be fine. But since static analysis can't tell you which one it is, the compiler has to mark the whole assignment as an error.</p>\n<p>Now in theory in some corner cases the compiler <em>could theoretically</em> know that a variable was definitely assigned in the <code>try</code> block, even when an exception occurs. Specifically if it's the first action and it can prove that the assignment action can not throw an exception. But if that's the case, then the programmer can just trivially move that assignment <em>out</em> of the try-block and avoid the whole problem. That's <em>probably</em> why no such rule exists in the JLS.</p>\n"},{"tags":[],"owner":{"account_id":24910774,"reputation":1,"user_id":18780356,"display_name":"SCASTELLANO6044"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676628454,"creation_date":1676628454,"answer_id":75482805,"question_id":75482482,"body_markdown":"In Java, a final variable is a variable that is initialized once and cannot be reassigned. The reason why it is not possible to initialize a final variable in a catch block is that the catch block is only executed when an exception is thrown, and the Java compiler cannot guarantee that the initialization will always happen.","title":"Why is it not possible to initialize a final variable in a catch block?","body":"<p>In Java, a final variable is a variable that is initialized once and cannot be reassigned. The reason why it is not possible to initialize a final variable in a catch block is that the catch block is only executed when an exception is thrown, and the Java compiler cannot guarantee that the initialization will always happen.</p>\n"}],"owner":{"account_id":10309761,"reputation":944,"user_id":7605967,"display_name":"Keshavram Kuduwa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75482588,"answer_count":2,"score":0,"last_activity_date":1676628454,"creation_date":1676626585,"question_id":75482482,"body_markdown":"## Case Study 1 ##\r\n```java\r\n    final String someString = &quot;Hello World&quot;;\r\n    try {\r\n      someString = &quot;Hello&quot;;\r\n    } catch (RuntimeException e) {\r\n      someString = &quot;World&quot;;\r\n    }\r\n```\r\nIf we compile this code, we get two errors:\r\n&gt; Cannot assign a value to final variable &#39;someString&#39; // Line 3\r\n\r\n&gt; Cannot assign a value to final variable &#39;someString&#39; // Line 5\r\n\r\nThis, I understand. It&#39;s a final variable, you&#39;ve already assigned a reference to it, and you cannot change it anymore. Nice.\r\n\r\n## Case Study 2 ##\r\n```java\r\n    final String someString;\r\n    try {\r\n      someString = &quot;Hello&quot;;\r\n    } catch (RuntimeException e) {\r\n      someString = &quot;World&quot;;\r\n    }\r\n```\r\nIf we compile this code, we get only one error:\r\n&gt; Variable &#39;someString&#39; might already have been assigned to // Line 5\r\n\r\nThis, I don&#39;t understand. We are allowed to initialize in the try block. Still, if something fails, even before the actual initialization is done, we&#39;re not allowed to initialize the final variable in the catch block.\r\n\r\nWhy is that so? I was expecting we could initialize the variable in the catch block as the `try` block failed anyways. ","title":"Why is it not possible to initialize a final variable in a catch block?","body":"<h2>Case Study 1</h2>\n<pre class=\"lang-java prettyprint-override\"><code>    final String someString = &quot;Hello World&quot;;\n    try {\n      someString = &quot;Hello&quot;;\n    } catch (RuntimeException e) {\n      someString = &quot;World&quot;;\n    }\n</code></pre>\n<p>If we compile this code, we get two errors:</p>\n<blockquote>\n<p>Cannot assign a value to final variable 'someString' // Line 3</p>\n</blockquote>\n<blockquote>\n<p>Cannot assign a value to final variable 'someString' // Line 5</p>\n</blockquote>\n<p>This, I understand. It's a final variable, you've already assigned a reference to it, and you cannot change it anymore. Nice.</p>\n<h2>Case Study 2</h2>\n<pre class=\"lang-java prettyprint-override\"><code>    final String someString;\n    try {\n      someString = &quot;Hello&quot;;\n    } catch (RuntimeException e) {\n      someString = &quot;World&quot;;\n    }\n</code></pre>\n<p>If we compile this code, we get only one error:</p>\n<blockquote>\n<p>Variable 'someString' might already have been assigned to // Line 5</p>\n</blockquote>\n<p>This, I don't understand. We are allowed to initialize in the try block. Still, if something fails, even before the actual initialization is done, we're not allowed to initialize the final variable in the catch block.</p>\n<p>Why is that so? I was expecting we could initialize the variable in the catch block as the <code>try</code> block failed anyways.</p>\n"},{"tags":["java","reflection","rest-assured","java-17"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1676608551,"post_id":75480243,"comment_id":133175590,"body_markdown":"I love [guessing](https://github.com/rest-assured/rest-assured/wiki/GettingStarted#java-9).","body":"I love <a href=\"https://github.com/rest-assured/rest-assured/wiki/GettingStarted#java-9\" rel=\"nofollow noreferrer\">guessing</a>."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1676608568,"post_id":75480243,"comment_id":133175594,"body_markdown":"For some explanation of the error, see [How to solve InaccessibleObjectException (&quot;Unable to make {member} accessible: module {A} does not &#39;opens {package}&#39; to {B}&quot;) on Java 9?](https://stackoverflow.com/q/41265266/6395627).","body":"For some explanation of the error, see <a href=\"https://stackoverflow.com/q/41265266/6395627\">How to solve InaccessibleObjectException (&quot;Unable to make {member} accessible: module {A} does not &#39;opens {package}&#39; to {B}&quot;) on Java 9?</a>."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1676609323,"post_id":75480243,"comment_id":133175691,"body_markdown":"@ElliottFrisch That talks about split packages. The error the OP has is not about split packages. Or am I missing something?","body":"@ElliottFrisch That talks about split packages. The error the OP has is not about split packages. Or am I missing something?"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1676610000,"post_id":75480243,"comment_id":133175776,"body_markdown":"@Slaw We have no idea how OP is packaging their code or even what version of restassured OP is using; hence **guessing**. But *module java.base does not &quot;opens java.lang&quot; to unnamed module* implies modules. Modules are Java 9+. And that note is labeled &quot;java 9+&quot;","body":"@Slaw We have no idea how OP is packaging their code or even what version of restassured OP is using; hence <b>guessing</b>. But <i>module java.base does not &quot;opens java.lang&quot; to unnamed module</i> implies modules. Modules are Java 9+. And that note is labeled &quot;java 9+&quot;"}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1676628401,"creation_date":1676628401,"answer_id":75482795,"question_id":75480243,"body_markdown":"This is a fundamental problem of Groovy.\r\n\r\nGroovy is a dynamic language, using Reflection to access members, and it calls `setAccessible(true)` on all of them.\r\n\r\nIt wasn’t meant to work that way but has been implemented this way to fix access from closures to private members with the collateral damage of ignoring `private` everywhere. See\r\n\r\n  - https://stackoverflow.com/q/7852370/2711488\r\n\r\n  - https://stackoverflow.com/q/2834700/2711488\r\n\r\nThe constructor `String(char[],int,int,java.lang.Void)` does not even exist in older Java versions, so this is not the case of an old program relying on it, but instead, the Groovy runtime tries to cache all members of the class and is calling `setAccessible(true)` in advance, as we can deduce from the stacktrace\r\n\r\n```lang-none\r\n    at org.codehaus.groovy.reflection.CachedClass.getConstructors(CachedClass.java:268)\r\n    at groovy.lang.MetaClassImpl.&lt;init&gt;(MetaClassImpl.java:218)\r\n    at groovy.lang.MetaClassImpl.&lt;init&gt;(MetaClassImpl.java:228)\r\n    at groovy.lang.MetaClassRegistry$MetaClassCreationHandle.createNormalMetaClass(MetaClassRegistry.java:171)\r\n    at groovy.lang.MetaClassRegistry$MetaClassCreationHandle.createWithCustomLookup(MetaClassRegistry.java:161)\r\n    at groovy.lang.MetaClassRegistry$MetaClassCreationHandle.create(MetaClassRegistry.java:144)\r\n```\r\nNote the name part `MetaClass` suggesting per-class processing and the plural in the method name `getConstructors` suggesting that it tries to get *all* constructors.\r\n\r\nSince you are not even trying to access a member of class `String` in the posted code, it seems that it is already enough to use/reference a type to trigger the initialization of the meta information.\r\n\r\n---\r\n\r\nFor ordinary Java software, we would suggest to identify the places where the software is accessing internals, then include a specific `--add-opens` option as a temporary work-around, and rewrite the specific part to not access internals on the long term.\r\n\r\nHowever, for Groovy, you’d have to add such an option for *every* package the script is using, with no option to rewrite the code to get rid the issue eventually.\r\n\r\nWhich does not imply that there can’t be truly problematic parts, accessing internals, perhaps accidentally. It’s just that you can’t tell them apart from legitimate uses of the classes.\r\n\r\nIt’s unlikely that a behavior lasting since 2007 gets fixed or that such a fix could be done without breaking things at other places, i.e. the unintended accesses mentioned above or even *intended* ones, as some people consider this a feature.","title":"Why does my rest-assured code not work after moving to JDK 17","body":"<p>This is a fundamental problem of Groovy.</p>\n<p>Groovy is a dynamic language, using Reflection to access members, and it calls <code>setAccessible(true)</code> on all of them.</p>\n<p>It wasn’t meant to work that way but has been implemented this way to fix access from closures to private members with the collateral damage of ignoring <code>private</code> everywhere. See</p>\n<ul>\n<li><p><a href=\"https://stackoverflow.com/q/7852370/2711488\">Private method in groovy is not private</a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/q/2834700/2711488\">groovy call private method in Java super class</a></p>\n</li>\n</ul>\n<p>The constructor <code>String(char[],int,int,java.lang.Void)</code> does not even exist in older Java versions, so this is not the case of an old program relying on it, but instead, the Groovy runtime tries to cache all members of the class and is calling <code>setAccessible(true)</code> in advance, as we can deduce from the stacktrace</p>\n<pre class=\"lang-none prettyprint-override\"><code>    at org.codehaus.groovy.reflection.CachedClass.getConstructors(CachedClass.java:268)\n    at groovy.lang.MetaClassImpl.&lt;init&gt;(MetaClassImpl.java:218)\n    at groovy.lang.MetaClassImpl.&lt;init&gt;(MetaClassImpl.java:228)\n    at groovy.lang.MetaClassRegistry$MetaClassCreationHandle.createNormalMetaClass(MetaClassRegistry.java:171)\n    at groovy.lang.MetaClassRegistry$MetaClassCreationHandle.createWithCustomLookup(MetaClassRegistry.java:161)\n    at groovy.lang.MetaClassRegistry$MetaClassCreationHandle.create(MetaClassRegistry.java:144)\n</code></pre>\n<p>Note the name part <code>MetaClass</code> suggesting per-class processing and the plural in the method name <code>getConstructors</code> suggesting that it tries to get <em>all</em> constructors.</p>\n<p>Since you are not even trying to access a member of class <code>String</code> in the posted code, it seems that it is already enough to use/reference a type to trigger the initialization of the meta information.</p>\n<hr />\n<p>For ordinary Java software, we would suggest to identify the places where the software is accessing internals, then include a specific <code>--add-opens</code> option as a temporary work-around, and rewrite the specific part to not access internals on the long term.</p>\n<p>However, for Groovy, you’d have to add such an option for <em>every</em> package the script is using, with no option to rewrite the code to get rid the issue eventually.</p>\n<p>Which does not imply that there can’t be truly problematic parts, accessing internals, perhaps accidentally. It’s just that you can’t tell them apart from legitimate uses of the classes.</p>\n<p>It’s unlikely that a behavior lasting since 2007 gets fixed or that such a fix could be done without breaking things at other places, i.e. the unintended accesses mentioned above or even <em>intended</em> ones, as some people consider this a feature.</p>\n"}],"owner":{"account_id":20531258,"reputation":13,"user_id":15068444,"display_name":"Dhiraj Shetty"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1504,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75482795,"answer_count":1,"score":1,"last_activity_date":1676628401,"creation_date":1676607957,"question_id":75480243,"body_markdown":"We are building REST API with tests. The API runs perfectly and we don&#39;t have any issue with it. The errors we am getting are in the testing part.\r\n\r\nThe tests uses Rest Assured library. We have to use JDK 17 as an organization level choice.\r\n\r\nWe are facing a challenge in running our REST Assured Tests after updating to JDK 17. Perhaps it has something to do with reflection not being permitted in JDK 17\r\n\r\n\r\nWe are getting java.lang.ExceptionInInitializerError for following lines of code\r\n\r\n        RestAssured.baseURI = Constants.BASE_URI;\r\n\r\n        RestAssured.port = Constants.PORT;\r\n\r\n        RestAssured.basePath = Constants.BASE_PATH;\r\n\r\nDo you have any advice/solution/work-arounds. We cannot use a different version of Java since this is an organization level choice.\r\n\r\n\r\n\r\nWe setting the baseURI, port and basePath for all the tests using the code shared above. It was working earlier, but after we moved to JDK 17 there seems to be a problem.\r\n\r\n```lang-none\r\njava.lang.ExceptionInInitializerError\r\n\tat io.restassured.builder.RequestSpecBuilder.&lt;init&gt;(RequestSpecBuilder.java:79)\r\n\tat com.teamcenter.services.strong.utils.TestBase.createRequestSpecification(TestBase.java:99)\r\n\tat com.teamcenter.services.strong.utils.TestBase.createRequestSpecification(TestBase.java:82)\r\n\tat com.teamcenter.services.strong.utils.TestBase.setUp(TestBase.java:116)\r\n\tat com.teamcenter.services.strong.IncludeRuleTest.setUp(IncludeRuleTest.java:36)\r\n\tat junit.framework.TestCase.runBare(TestCase.java:140)\r\n\tat junit.framework.TestResult$1.protect(TestResult.java:122)\r\n\tat junit.framework.TestResult.runProtected(TestResult.java:142)\r\n\tat junit.framework.TestResult.run(TestResult.java:125)\r\n\tat junit.framework.TestCase.run(TestCase.java:130)\r\n\tat junit.framework.TestSuite.runTest(TestSuite.java:241)\r\n\tat junit.framework.TestSuite.run(TestSuite.java:236)\r\n\tat org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:90)\r\n\tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:93)\r\n\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\r\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make java.lang.String(char[],int,int,java.lang.Void) accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @3cda1055\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n\tat java.base/java.lang.reflect.Constructor.checkCanSetAccessible(Constructor.java:188)\r\n\tat java.base/java.lang.reflect.Constructor.setAccessible(Constructor.java:181)\r\n\tat org.codehaus.groovy.reflection.CachedConstructor$1.run(CachedConstructor.java:44)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:318)\r\n\tat org.codehaus.groovy.reflection.CachedConstructor.&lt;init&gt;(CachedConstructor.java:42)\r\n\tat org.codehaus.groovy.reflection.CachedClass$2.initValue(CachedClass.java:79)\r\n\tat org.codehaus.groovy.reflection.CachedClass$2.initValue(CachedClass.java:69)\r\n\tat org.codehaus.groovy.util.LazyReference.getLocked(LazyReference.java:49)\r\n\tat org.codehaus.groovy.util.LazyReference.get(LazyReference.java:36)\r\n\tat org.codehaus.groovy.reflection.CachedClass.getConstructors(CachedClass.java:268)\r\n\tat groovy.lang.MetaClassImpl.&lt;init&gt;(MetaClassImpl.java:218)\r\n\tat groovy.lang.MetaClassImpl.&lt;init&gt;(MetaClassImpl.java:228)\r\n\tat groovy.lang.MetaClassRegistry$MetaClassCreationHandle.createNormalMetaClass(MetaClassRegistry.java:171)\r\n\tat groovy.lang.MetaClassRegistry$MetaClassCreationHandle.createWithCustomLookup(MetaClassRegistry.java:161)\r\n\tat groovy.lang.MetaClassRegistry$MetaClassCreationHandle.create(MetaClassRegistry.java:144)\r\n\tat org.codehaus.groovy.reflection.ClassInfo.getMetaClassUnderLock(ClassInfo.java:253)\r\n\tat org.codehaus.groovy.reflection.ClassInfo.getMetaClass(ClassInfo.java:285)\r\n\tat org.codehaus.groovy.reflection.ClassInfo.getMetaClass(ClassInfo.java:295)\r\n\tat org.codehaus.groovy.runtime.metaclass.MetaClassRegistryImpl.getMetaClass(MetaClassRegistryImpl.java:261)\r\n\tat org.codehaus.groovy.runtime.InvokerHelper.getMetaClass(InvokerHelper.java:873)\r\n\tat org.codehaus.groovy.runtime.callsite.CallSiteArray.createPojoSite(CallSiteArray.java:125)\r\n\tat org.codehaus.groovy.runtime.callsite.CallSiteArray.createCallSite(CallSiteArray.java:166)\r\n\tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:48)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:113)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)\r\n\tat io.restassured.internal.RequestSpecificationImpl.&lt;clinit&gt;(RequestSpecificationImpl.groovy:86)\r\n\t... 19 more\r\n```\r\n ","title":"Why does my rest-assured code not work after moving to JDK 17","body":"<p>We are building REST API with tests. The API runs perfectly and we don't have any issue with it. The errors we am getting are in the testing part.</p>\n<p>The tests uses Rest Assured library. We have to use JDK 17 as an organization level choice.</p>\n<p>We are facing a challenge in running our REST Assured Tests after updating to JDK 17. Perhaps it has something to do with reflection not being permitted in JDK 17</p>\n<p>We are getting java.lang.ExceptionInInitializerError for following lines of code</p>\n<pre><code>    RestAssured.baseURI = Constants.BASE_URI;\n\n    RestAssured.port = Constants.PORT;\n\n    RestAssured.basePath = Constants.BASE_PATH;\n</code></pre>\n<p>Do you have any advice/solution/work-arounds. We cannot use a different version of Java since this is an organization level choice.</p>\n<p>We setting the baseURI, port and basePath for all the tests using the code shared above. It was working earlier, but after we moved to JDK 17 there seems to be a problem.</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.ExceptionInInitializerError\n    at io.restassured.builder.RequestSpecBuilder.&lt;init&gt;(RequestSpecBuilder.java:79)\n    at com.teamcenter.services.strong.utils.TestBase.createRequestSpecification(TestBase.java:99)\n    at com.teamcenter.services.strong.utils.TestBase.createRequestSpecification(TestBase.java:82)\n    at com.teamcenter.services.strong.utils.TestBase.setUp(TestBase.java:116)\n    at com.teamcenter.services.strong.IncludeRuleTest.setUp(IncludeRuleTest.java:36)\n    at junit.framework.TestCase.runBare(TestCase.java:140)\n    at junit.framework.TestResult$1.protect(TestResult.java:122)\n    at junit.framework.TestResult.runProtected(TestResult.java:142)\n    at junit.framework.TestResult.run(TestResult.java:125)\n    at junit.framework.TestCase.run(TestCase.java:130)\n    at junit.framework.TestSuite.runTest(TestSuite.java:241)\n    at junit.framework.TestSuite.run(TestSuite.java:236)\n    at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:90)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:93)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make java.lang.String(char[],int,int,java.lang.Void) accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @3cda1055\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n    at java.base/java.lang.reflect.Constructor.checkCanSetAccessible(Constructor.java:188)\n    at java.base/java.lang.reflect.Constructor.setAccessible(Constructor.java:181)\n    at org.codehaus.groovy.reflection.CachedConstructor$1.run(CachedConstructor.java:44)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:318)\n    at org.codehaus.groovy.reflection.CachedConstructor.&lt;init&gt;(CachedConstructor.java:42)\n    at org.codehaus.groovy.reflection.CachedClass$2.initValue(CachedClass.java:79)\n    at org.codehaus.groovy.reflection.CachedClass$2.initValue(CachedClass.java:69)\n    at org.codehaus.groovy.util.LazyReference.getLocked(LazyReference.java:49)\n    at org.codehaus.groovy.util.LazyReference.get(LazyReference.java:36)\n    at org.codehaus.groovy.reflection.CachedClass.getConstructors(CachedClass.java:268)\n    at groovy.lang.MetaClassImpl.&lt;init&gt;(MetaClassImpl.java:218)\n    at groovy.lang.MetaClassImpl.&lt;init&gt;(MetaClassImpl.java:228)\n    at groovy.lang.MetaClassRegistry$MetaClassCreationHandle.createNormalMetaClass(MetaClassRegistry.java:171)\n    at groovy.lang.MetaClassRegistry$MetaClassCreationHandle.createWithCustomLookup(MetaClassRegistry.java:161)\n    at groovy.lang.MetaClassRegistry$MetaClassCreationHandle.create(MetaClassRegistry.java:144)\n    at org.codehaus.groovy.reflection.ClassInfo.getMetaClassUnderLock(ClassInfo.java:253)\n    at org.codehaus.groovy.reflection.ClassInfo.getMetaClass(ClassInfo.java:285)\n    at org.codehaus.groovy.reflection.ClassInfo.getMetaClass(ClassInfo.java:295)\n    at org.codehaus.groovy.runtime.metaclass.MetaClassRegistryImpl.getMetaClass(MetaClassRegistryImpl.java:261)\n    at org.codehaus.groovy.runtime.InvokerHelper.getMetaClass(InvokerHelper.java:873)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.createPojoSite(CallSiteArray.java:125)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.createCallSite(CallSiteArray.java:166)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:48)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:113)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)\n    at io.restassured.internal.RequestSpecificationImpl.&lt;clinit&gt;(RequestSpecificationImpl.groovy:86)\n    ... 19 more\n</code></pre>\n"},{"tags":["java","methods","parameters","game-engine","dice"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1676628454,"post_id":75482770,"comment_id":133179764,"body_markdown":"`resetDiceCup( int doublets, int numOfDoublets);` remove those two `int`s from the call (only there, not in the method declaration).","body":"<code>resetDiceCup( int doublets, int numOfDoublets);</code> remove those two <code>int</code>s from the call (only there, not in the method declaration)."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1676628500,"post_id":75482770,"comment_id":133179776,"body_markdown":"Also, you should declare them (and give them a value) inside your `startGame` method.","body":"Also, you should declare them (and give them a value) inside your <code>startGame</code> method."}],"owner":{"account_id":23162146,"reputation":1,"user_id":17262638,"display_name":"Alice333"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676628285,"creation_date":1676628285,"question_id":75482770,"body_markdown":"I am creating a Dice Game as a project in IntelliJ with Java and right now I have a method in the Game class, where I want to reset the Dice Cup in the beginning of the game. Therefore, I have created a method called resetDiceCup() and a method called startGame().\r\nRight now, I am getting the error &quot;Identifier expected&quot; in startGame() and I think it has something to do with the parameters I use in resetDiceCup().\r\nIs there any way to fix this?\r\n \r\n\r\n    public class Game{\r\n\r\n    public void startGame() {\r\n\r\n\r\n        resetDiceCup( int doublets, int numOfDoublets);\r\n        System.out.println(&quot;Willkommen zu diesem W&#252;rfelspiel. Los geht&#180;s!&quot;);\r\n        String[] playerNames = Print.multipleAnswers(&quot;Please insert the name of a player.&quot;);\r\n    \r\n        player = new Player[playerNames.length];\r\n        for (int i = 0; i &lt; playerNames.length; i++)\r\n        {\r\n            player[i] = new Player(playerNames[i]);\r\n        }\r\n        }\r\n\r\n    //to &quot;refresh&quot; the DiceCup before every new game\r\n    public void resetDiceCup(int doublets, int numOfDoublets) {\r\n\r\n\r\n        int[] result = new int[numOfDices]; //amout of dices in the game as chosen by players\r\n        sum = 0;\r\n        doublets = 0;\r\n        numOfDoublets = 0;\r\n        sumWithDoublets = 0;\r\n\r\n    }\r\n}\r\n","title":"How to access a method with parameters?","body":"<p>I am creating a Dice Game as a project in IntelliJ with Java and right now I have a method in the Game class, where I want to reset the Dice Cup in the beginning of the game. Therefore, I have created a method called resetDiceCup() and a method called startGame().\nRight now, I am getting the error &quot;Identifier expected&quot; in startGame() and I think it has something to do with the parameters I use in resetDiceCup().\nIs there any way to fix this?</p>\n<pre><code>public class Game{\n\npublic void startGame() {\n\n\n    resetDiceCup( int doublets, int numOfDoublets);\n    System.out.println(&quot;Willkommen zu diesem Würfelspiel. Los geht´s!&quot;);\n    String[] playerNames = Print.multipleAnswers(&quot;Please insert the name of a player.&quot;);\n\n    player = new Player[playerNames.length];\n    for (int i = 0; i &lt; playerNames.length; i++)\n    {\n        player[i] = new Player(playerNames[i]);\n    }\n    }\n\n//to &quot;refresh&quot; the DiceCup before every new game\npublic void resetDiceCup(int doublets, int numOfDoublets) {\n\n\n    int[] result = new int[numOfDices]; //amout of dices in the game as chosen by players\n    sum = 0;\n    doublets = 0;\n    numOfDoublets = 0;\n    sumWithDoublets = 0;\n\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","spring-boot","netflix-eureka","netflix-zuul"],"owner":{"account_id":20955943,"reputation":69,"user_id":15396449,"display_name":"77jt777"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":389,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676627568,"creation_date":1649771387,"question_id":71843905,"body_markdown":"For a couple of days I am trying to resolve the ,,Forwarding error - Load balancer does not have available server for client&quot; error. Even though this is a common problem with configuring Eureka server and Zuul I cannot find a solution for my problem. There were couple of possibilities to resolve my problem, but none of them seems to work. What I found on the internet and what I&#39;ve tried:\r\n\r\n1. First solution was that @EnableEurekaClient was absent, but I got this annotation from the begining.\r\n\r\n2. Second solution was with setting ribbon timeouts, but despite of setting the ribbon and hystrix timeouts it still didnt work out.\r\n\r\n3. Third solution that I&#39;ve found was that fetch-registry was set to false, but also this time I&#39;ve got it set on true.\r\n\r\n4. Last solution was that someone had spring-cloud-netflix-eureka-client dependency instead of spring-cloud-starter-netflix-eureka-client which provides the ribbon. But unfortunetely that wasn&#39;t the case either.\r\n\r\nI really don&#39;t know what can be wrong, so I ask for help. Moreover when I configured FeignClients on my client microservices they communicated with themself using Eureka without any problem. What I mean by that is that I could send a request from one microservice to another by using for example this url: http://microservice-name/api/v1/... so I guess the problem is with ZUUL.\r\n\r\nI think worth mentioning is that I use Spring Security and HTTPS self certificate, but I don&#39;t think that it&#39;s the case, because when I configure ZUUL module .yml file to &quot;discover&quot; microservices based on their url, everything works just fine.\r\n\r\n## There is full stack trace of the problem ##\r\nI pasted full stack trace on pastebin because it was too long for here. Here&#39;s the link [pastebin-full-stacktrace][1].\r\n\r\nThese are main 2 lines from stacktrace:\r\n\r\n    com.netflix.zuul.exception.ZuulException: Forwarding error\r\n    Caused by: com.netflix.client.ClientException: Load balancer does not have available server for client: book-module\r\n\r\n\r\n\r\n## There is my ZUUL microservice .yml file with ZUUL and eureka configuration  ##\r\n\r\n    spring:\r\n      data:\r\n        mongodb:\r\n          uri: \r\n          database: users_db\r\n      application:\r\n        name: API-Gateway\r\n      mail:\r\n        host: smtp.mailtrap.io\r\n        port: 2525\r\n        username: \r\n        password: \r\n        protocol: smtp\r\n    \r\n    server:\r\n      port: 8443\r\n      ssl:\r\n        key-store: classpath:https-springboot.jks\r\n        key-store-password: password\r\n        key-store-type: JKS\r\n        key-alias: https-springboot\r\n        key-password: password\r\n    \r\n    app:\r\n      security:\r\n        secretKey: 942P43hf2bnfrepqaskJfsj09fq2JFdeEKAFDMKmfl2FD\r\n        expirationTime: 600\r\n    \r\n    eureka:\r\n      client:\r\n        fetch-registry: true\r\n        register-with-eureka: false\r\n        service-url:\r\n          default-zone: http://localhost:8761/eureka/\r\n      instance:\r\n        hostname: localhost\r\n    \r\n    zuul:\r\n      host:\r\n        connect-timeout-millis: 600000\r\n        socket-timeout-millis: 600000\r\n      ignored-services: &#39;*&#39;\r\n      prefix: /api/v1\r\n      routes:\r\n        author-module:\r\n    #      url: http://localhost:8081\r\n          path: /authors/**\r\n          service-id: author-module\r\n        book-module:\r\n    #      url: http://localhost:8082\r\n          path: /books/**\r\n          service-id: book-module\r\n        user-module:\r\n    #      url: http://localhost:8083\r\n          path: /users/**\r\n          service-id: user-module\r\n    \r\n    springdoc:\r\n      swagger-ui:\r\n        path: &quot;/v3/api-docs/index.html&quot;\r\n        disable-swagger-default-url: true\r\n    \r\n    hystrix:\r\n      command:\r\n        default:\r\n          execution:\r\n            isolation:\r\n              thread:\r\n                timeoutInMilliseconds: 150000\r\n    \r\n    ribbon:\r\n      ConnectTimeout: 6000\r\n      ReadTimeout: 6000\r\n      eureka:\r\n        enabled: true\r\n    \r\n    logging:\r\n      level:\r\n        web: TRACE\r\n        org.springframework:\r\n          web: TRACE\r\n\r\n## There are it&#39;s dependencies ##\r\n\r\n        \t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.6.4&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;Auth-module&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;Auth-module&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n    \t\t&lt;spring-cloud.version&gt;2021.0.1&lt;/spring-cloud.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-netflix-zuul&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.2.10.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.11.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.11.2&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.6.6&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;dependencyManagement&gt;\r\n    \t\t&lt;dependencies&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t&lt;/dependencies&gt;\r\n    \t&lt;/dependencyManagement&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\n\r\n## There is my example microservice module configuration that I&#39;am trying to connect with ##\r\n\r\n        spring:\r\n      data:\r\n        mongodb:\r\n          uri: \r\n          database: authors_db\r\n      application:\r\n        name: author-module\r\n    \r\n    eureka:\r\n      client:\r\n        fetch-registry: true\r\n        register-with-eureka: true\r\n        service-url:\r\n          default-zone: http://localhost:8761/eureka/\r\n      instance:\r\n        hostname: localhost\r\n    \r\n    server:\r\n      port: 8081\r\n    \r\n    logging:\r\n      level:\r\n        web: TRACE\r\n        org.springframework:\r\n          web: TRACE\r\n\r\n## There are it&#39;s dependencies ##\r\n\r\n        \t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.6.4&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;Author-module&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;Author-module&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n    \t\t&lt;spring-cloud.version&gt;2021.0.0&lt;/spring-cloud.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.6.6&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;dependencyManagement&gt;\r\n    \t\t&lt;dependencies&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t&lt;/dependencies&gt;\r\n    \t&lt;/dependencyManagement&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\nPlease help, I really don&#39;t know what to do more.\r\n\r\n  [1]: https://pastebin.com/M2nuaSiH","title":"Cannot find solution for ,,Load balancer does not have available server for client&quot; with Zuul","body":"<p>For a couple of days I am trying to resolve the ,,Forwarding error - Load balancer does not have available server for client&quot; error. Even though this is a common problem with configuring Eureka server and Zuul I cannot find a solution for my problem. There were couple of possibilities to resolve my problem, but none of them seems to work. What I found on the internet and what I've tried:</p>\n<ol>\n<li><p>First solution was that @EnableEurekaClient was absent, but I got this annotation from the begining.</p>\n</li>\n<li><p>Second solution was with setting ribbon timeouts, but despite of setting the ribbon and hystrix timeouts it still didnt work out.</p>\n</li>\n<li><p>Third solution that I've found was that fetch-registry was set to false, but also this time I've got it set on true.</p>\n</li>\n<li><p>Last solution was that someone had spring-cloud-netflix-eureka-client dependency instead of spring-cloud-starter-netflix-eureka-client which provides the ribbon. But unfortunetely that wasn't the case either.</p>\n</li>\n</ol>\n<p>I really don't know what can be wrong, so I ask for help. Moreover when I configured FeignClients on my client microservices they communicated with themself using Eureka without any problem. What I mean by that is that I could send a request from one microservice to another by using for example this url: http://microservice-name/api/v1/... so I guess the problem is with ZUUL.</p>\n<p>I think worth mentioning is that I use Spring Security and HTTPS self certificate, but I don't think that it's the case, because when I configure ZUUL module .yml file to &quot;discover&quot; microservices based on their url, everything works just fine.</p>\n<h2>There is full stack trace of the problem</h2>\n<p>I pasted full stack trace on pastebin because it was too long for here. Here's the link <a href=\"https://pastebin.com/M2nuaSiH\" rel=\"nofollow noreferrer\">pastebin-full-stacktrace</a>.</p>\n<p>These are main 2 lines from stacktrace:</p>\n<pre><code>com.netflix.zuul.exception.ZuulException: Forwarding error\nCaused by: com.netflix.client.ClientException: Load balancer does not have available server for client: book-module\n</code></pre>\n<h2>There is my ZUUL microservice .yml file with ZUUL and eureka configuration</h2>\n<pre><code>spring:\n  data:\n    mongodb:\n      uri: \n      database: users_db\n  application:\n    name: API-Gateway\n  mail:\n    host: smtp.mailtrap.io\n    port: 2525\n    username: \n    password: \n    protocol: smtp\n\nserver:\n  port: 8443\n  ssl:\n    key-store: classpath:https-springboot.jks\n    key-store-password: password\n    key-store-type: JKS\n    key-alias: https-springboot\n    key-password: password\n\napp:\n  security:\n    secretKey: 942P43hf2bnfrepqaskJfsj09fq2JFdeEKAFDMKmfl2FD\n    expirationTime: 600\n\neureka:\n  client:\n    fetch-registry: true\n    register-with-eureka: false\n    service-url:\n      default-zone: http://localhost:8761/eureka/\n  instance:\n    hostname: localhost\n\nzuul:\n  host:\n    connect-timeout-millis: 600000\n    socket-timeout-millis: 600000\n  ignored-services: '*'\n  prefix: /api/v1\n  routes:\n    author-module:\n#      url: http://localhost:8081\n      path: /authors/**\n      service-id: author-module\n    book-module:\n#      url: http://localhost:8082\n      path: /books/**\n      service-id: book-module\n    user-module:\n#      url: http://localhost:8083\n      path: /users/**\n      service-id: user-module\n\nspringdoc:\n  swagger-ui:\n    path: &quot;/v3/api-docs/index.html&quot;\n    disable-swagger-default-url: true\n\nhystrix:\n  command:\n    default:\n      execution:\n        isolation:\n          thread:\n            timeoutInMilliseconds: 150000\n\nribbon:\n  ConnectTimeout: 6000\n  ReadTimeout: 6000\n  eureka:\n    enabled: true\n\nlogging:\n  level:\n    web: TRACE\n    org.springframework:\n      web: TRACE\n</code></pre>\n<h2>There are it's dependencies</h2>\n<pre><code>        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;Auth-module&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Auth-module&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2021.0.1&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n            &lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\n            &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-netflix-zuul&lt;/artifactId&gt;\n            &lt;version&gt;2.2.10.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\n            &lt;version&gt;0.11.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\n            &lt;version&gt;0.11.2&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.6.6&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<h2>There is my example microservice module configuration that I'am trying to connect with</h2>\n<pre><code>    spring:\n  data:\n    mongodb:\n      uri: \n      database: authors_db\n  application:\n    name: author-module\n\neureka:\n  client:\n    fetch-registry: true\n    register-with-eureka: true\n    service-url:\n      default-zone: http://localhost:8761/eureka/\n  instance:\n    hostname: localhost\n\nserver:\n  port: 8081\n\nlogging:\n  level:\n    web: TRACE\n    org.springframework:\n      web: TRACE\n</code></pre>\n<h2>There are it's dependencies</h2>\n<pre><code>        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;Author-module&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Author-module&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2021.0.0&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n            &lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.6.6&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\n            &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Please help, I really don't know what to do more.</p>\n"},{"tags":["java","oop","deserialization","distributed-system"],"comments":[{"owner":{"account_id":1604752,"reputation":3710,"user_id":1485064,"accept_rate":74,"display_name":"Mikkel L&#248;kke"},"score":0,"creation_date":1676628164,"post_id":75482646,"comment_id":133179676,"body_markdown":"Which format are you trying to Serialize/Deserialize it to/from? Also, where do you plan on storing the serialized output, if you cannot use an OutputStream? Your DateTime (JodaTime?) might also be variable length. What have you tried?\n\n I don&#39;t understand this question at all.","body":"Which format are you trying to Serialize/Deserialize it to/from? Also, where do you plan on storing the serialized output, if you cannot use an OutputStream? Your DateTime (JodaTime?) might also be variable length. What have you tried?   I don&#39;t understand this question at all."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":2,"creation_date":1676628255,"post_id":75482646,"comment_id":133179704,"body_markdown":"In my opinion using Java object serialization for a network protocol is a bad idea as it always serializes data and the code (-&gt; possible security problem, unnecessary lare size of transmitted objects). Use a serialization to JSON e.,g. using Jackson or Guava to (de)serialize network data.","body":"In my opinion using Java object serialization for a network protocol is a bad idea as it always serializes data and the code (-&gt; possible security problem, unnecessary lare size of transmitted objects). Use a serialization to JSON e.,g. using Jackson or Guava to (de)serialize network data."},{"owner":{"account_id":27282870,"reputation":39,"user_id":20802513,"display_name":"tayron.vikranth"},"score":0,"creation_date":1676629928,"post_id":75482646,"comment_id":133180173,"body_markdown":"@MikkelL&#248;kke The whole project is done in Java, so big endian format. The serialized output will be stored in a buffer array. The DateTime class is a custom class that takes in year, month, day, hour and minutes all as integers.","body":"@MikkelL&#248;kke The whole project is done in Java, so big endian format. The serialized output will be stored in a buffer array. The DateTime class is a custom class that takes in year, month, day, hour and minutes all as integers."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":3,"creation_date":1676630283,"post_id":75482646,"comment_id":133180307,"body_markdown":"To serialize variable length data you can do what many binary serialisation formats do: they first write the length of the data and then the data itself.","body":"To serialize variable length data you can do what many binary serialisation formats do: they first write the length of the data and then the data itself."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1676637566,"post_id":75482646,"comment_id":133182294,"body_markdown":"@ThomasKl&#228;ger *To serialize variable length data you can do what many binary serialisation formats do: they first write the length of the data and then the data itself.* That&#39;s going to be tricky if using `OutputStream` is not allowed ;)","body":"@ThomasKl&#228;ger <i>To serialize variable length data you can do what many binary serialisation formats do: they first write the length of the data and then the data itself.</i> That&#39;s going to be tricky if using <code>OutputStream</code> is not allowed ;)"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1676639140,"post_id":75482646,"comment_id":133182765,"body_markdown":"@g00se if it&#39;s possible to write `int`s  into some kind of output buffer (be it a byte array or whatever) the it should also possible to write a length (in the form of an `int`) and a number of characters (also in the form of `int`s) into the same output buffer :)","body":"@g00se if it&#39;s possible to write <code>int</code>s  into some kind of output buffer (be it a byte array or whatever) the it should also possible to write a length (in the form of an <code>int</code>) and a number of characters (also in the form of <code>int</code>s) into the same output buffer :)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1676639735,"post_id":75482646,"comment_id":133182949,"body_markdown":"@ThomasKl&#228;ger But how is that buffer going to get from A to B without an `OutputStream`?","body":"@ThomasKl&#228;ger But how is that buffer going to get from A to B without an <code>OutputStream</code>?"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1676639929,"post_id":75482646,"comment_id":133183008,"body_markdown":"@g00se not my problem - the OP seems to know some way because apparently the OP has some way to serialize / deserialize the other fields. My comment is only about an idea how to extend that existing serialization / deserialization to accomodate for variable length strings, not for how the solve the complete problem.","body":"@g00se not my problem - the OP seems to know some way because apparently the OP has some way to serialize / deserialize the other fields. My comment is only about an idea how to extend that existing serialization / deserialization to accomodate for variable length strings, not for how the solve the complete problem."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1676640110,"post_id":75482646,"comment_id":133183062,"body_markdown":"@g00se for example, the OP could use a `ByteBuffer` to create the serialized data and then use in-memory-sharing between processes to give another process access to the bytes. Or the task could to create a `List&lt;Integer&gt;` that contains the serialized data and to take such a `List&lt;Integer&gt;` to reconstruct the object - transfering the data would then be handled by outside code.","body":"@g00se for example, the OP could use a <code>ByteBuffer</code> to create the serialized data and then use in-memory-sharing between processes to give another process access to the bytes. Or the task could to create a <code>List&lt;Integer&gt;</code> that contains the serialized data and to take such a <code>List&lt;Integer&gt;</code> to reconstruct the object - transfering the data would then be handled by outside code."}],"owner":{"account_id":27282870,"reputation":39,"user_id":20802513,"display_name":"tayron.vikranth"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676627528,"creation_date":1676627528,"question_id":75482646,"body_markdown":"I am implementing a distributed flight booking system using Java and I have a class Flight.\r\n\r\nFlight.java\r\n```\r\npublic class Flight {\r\n    private int flightId;\r\n    private DateTime departureTime;\r\n    private float airfare;\r\n    private int seatAvailability;\r\n    private String source;\r\n    private String destination;\r\n\r\n    /**\r\n     * Constructor\r\n     * @param flightId\r\n     * @param departureTime\r\n     * @param airfare\r\n     * @param seatAvailability\r\n     * @param source\r\n     * @param destination\r\n     */\r\n    public Flight(int flightId, DateTime departureTime, float airfare, int seatAvailability, String source, String destination) {\r\n        this.flightId = flightId;\r\n        this.departureTime = departureTime;\r\n        this.airfare = airfare;\r\n        this.seatAvailability = seatAvailability;\r\n        this.source = source;\r\n        this.destination = destination;\r\n    }\r\n\r\n    //getters and setters\r\n```\r\n\r\nThe source and destination fields are variable length strings. For this project, we are not allowed to use Java object serialization facilities and input/output stream classes in Java. How do I deserialize the source and destination fields?","title":"Java how to deserialize object of a class that contains a variable length string?","body":"<p>I am implementing a distributed flight booking system using Java and I have a class Flight.</p>\n<p>Flight.java</p>\n<pre><code>public class Flight {\n    private int flightId;\n    private DateTime departureTime;\n    private float airfare;\n    private int seatAvailability;\n    private String source;\n    private String destination;\n\n    /**\n     * Constructor\n     * @param flightId\n     * @param departureTime\n     * @param airfare\n     * @param seatAvailability\n     * @param source\n     * @param destination\n     */\n    public Flight(int flightId, DateTime departureTime, float airfare, int seatAvailability, String source, String destination) {\n        this.flightId = flightId;\n        this.departureTime = departureTime;\n        this.airfare = airfare;\n        this.seatAvailability = seatAvailability;\n        this.source = source;\n        this.destination = destination;\n    }\n\n    //getters and setters\n</code></pre>\n<p>The source and destination fields are variable length strings. For this project, we are not allowed to use Java object serialization facilities and input/output stream classes in Java. How do I deserialize the source and destination fields?</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":4996271,"reputation":971,"user_id":4108345,"accept_rate":61,"display_name":"Harsh Kanakhara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676627389,"creation_date":1676627389,"answer_id":75482625,"question_id":75482132,"body_markdown":"Found a solution. Removed authenticationprovider from SecurityConfiguration class I have created.\r\n\r\nMade changes in my SessionTokenFilter class\r\n\r\n    @Component\r\n    @Slf4j\r\n    public class SessionTokenFilter extends OncePerRequestFilter {\r\n    \t\r\n    \t@Autowired\r\n    \tprivate AuthenticationProvider authenticationProvider;\r\n    \t\r\n        @Override\r\n        protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\r\n                throws ServletException, IOException {\r\n        \tlog.info(&quot;Inside session filter&quot;);\r\n            String sessionToken = request.getHeader(&quot;session-token&quot;);\r\n            log.info(&quot;Session token &quot; + sessionToken);\r\n            if (sessionToken != null) {\r\n            \tUsernamePasswordAuthenticationToken authentication = new UsernamePasswordAuthenticationToken(sessionToken, &quot;Pwd&quot;);\r\n            \tSecurityContext context = SecurityContextHolder.createEmptyContext();\r\n    \t\t\tcontext.setAuthentication(authenticationProvider.authenticate(authentication));\r\n    \t\t\tSecurityContextHolder.setContext(context);\r\n            }\r\n            filterChain.doFilter(request, response);\r\n        }\r\n    }","title":"Implement custom Authentication, AuthenticationFilter and AuthenticationProvider in Spring Security","body":"<p>Found a solution. Removed authenticationprovider from SecurityConfiguration class I have created.</p>\n<p>Made changes in my SessionTokenFilter class</p>\n<pre><code>@Component\n@Slf4j\npublic class SessionTokenFilter extends OncePerRequestFilter {\n    \n    @Autowired\n    private AuthenticationProvider authenticationProvider;\n    \n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\n            throws ServletException, IOException {\n        log.info(&quot;Inside session filter&quot;);\n        String sessionToken = request.getHeader(&quot;session-token&quot;);\n        log.info(&quot;Session token &quot; + sessionToken);\n        if (sessionToken != null) {\n            UsernamePasswordAuthenticationToken authentication = new UsernamePasswordAuthenticationToken(sessionToken, &quot;Pwd&quot;);\n            SecurityContext context = SecurityContextHolder.createEmptyContext();\n            context.setAuthentication(authenticationProvider.authenticate(authentication));\n            SecurityContextHolder.setContext(context);\n        }\n        filterChain.doFilter(request, response);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4996271,"reputation":971,"user_id":4108345,"accept_rate":61,"display_name":"Harsh Kanakhara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":640,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676627389,"creation_date":1676624399,"question_id":75482132,"body_markdown":"The objective is to get a session token from the header in my custom authentication filter. Build my custom authentication object where I can pass the session token as a name. This custom authentication object will be passed to my custom authentication provider class, where I want to build an authentication object if the session token is valid.\r\n\r\nCustom Authentication object\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class AuthenticationObject implements Authentication{\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \tprivate String name;\r\n    \tprivate Collection&lt;? extends GrantedAuthority&gt; authorities;\r\n    \tprivate Object credentials;\r\n    \tprivate Object details;\r\n    \tprivate Object principal;\r\n    \tprivate boolean authenticated;\r\n    }\r\n\r\nCustom Filter to get token from the header and build Authentication object for passing it to AuthenticationProvider\r\n\r\n    @Component\r\n    @Slf4j\r\n    public class SessionTokenFilter extends OncePerRequestFilter {\r\n    \t\r\n        @Override\r\n        protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\r\n                throws ServletException, IOException {\r\n        \tlog.info(&quot;Inside session filter&quot;);\r\n            String sessionToken = request.getHeader(&quot;session-token&quot;);\r\n            log.info(&quot;Session token &quot; + sessionToken);\r\n            if (sessionToken != null) {\r\n            \tAuthenticationObject authentication = new AuthenticationObject();\r\n            \tauthentication.setName(sessionToken);\r\n                SecurityContextHolder.createEmptyContext().setAuthentication(authentication);\r\n            }\r\n            filterChain.doFilter(request, response);\r\n        }\r\n    }\r\n\r\nCustom AuthenticationProvider to validate session token and pass Authentication object\r\n\r\n    @Service\r\n    @Slf4j\r\n    public class SessionAuthenticationProvider implements AuthenticationProvider{\r\n    \r\n    \t@Override\r\n    \tpublic Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n    \t\tlog.info(&quot;Authentication token &quot; + authentication.getName());\r\n    \t\tAuthenticationObject authenticationObject = new AuthenticationObject();\r\n\t\t    authenticationObject.setName(&quot;Harsh&quot;);\r\n\t\t    authenticationObject.setAuthenticated(true);\r\n\t\t    authenticationObject.setAuthorities(Collections.&lt;GrantedAuthority&gt;emptyList());\r\n\t\t    return authenticationObject;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean supports(Class&lt;?&gt; authentication) {\r\n    \t\treturn AutenticationObject.class.isAssignableFrom(authentication);\r\n    \t}\r\n    }\r\n\r\nConfiguring SecurityFilterChain to secure all my API endpoints and invoking my custom filter. Injecting my custom AuthenticationProvider implementation inside AuthenticationManager.\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfiguration {\r\n    \r\n    \t@Autowired\r\n    \tprivate SessionTokenFilter sessionTokenFilter;\r\n    \t\r\n    \t@Autowired\r\n    \tprivate SessionAuthenticationProvider authenticationProvider;\r\n    \r\n    \t@Bean\r\n    \tprotected SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n    \t\thttp.csrf().disable().authorizeHttpRequests().anyRequest().authenticated().and()\r\n    \t\t\t\t.addFilterBefore(sessionTokenFilter, UsernamePasswordAuthenticationFilter.class);\r\n    \t\treturn http.build();\r\n    \t}\r\n    \r\n    \t@Bean\r\n        public AuthenticationManager authManager(HttpSecurity http) throws Exception {\r\n            AuthenticationManagerBuilder authenticationManagerBuilder = \r\n                http.getSharedObject(AuthenticationManagerBuilder.class);\r\n            authenticationManagerBuilder.authenticationProvider(authenticationProvider);\r\n            return authenticationManagerBuilder.build();\r\n        }\r\n    }\r\n\r\nWhen I try to invoke any API endpoint I get 403. Below is the trace log of spring security classes\r\n\r\n\r\n    2023-02-17 14:10:22.254[0;39m [32mDEBUG[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Securing GET /api/contenteditor/feed/5\r\n    [2m2023-02-17 14:10:22.254[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking DisableEncodeUrlFilter (1/12)\r\n    [2m2023-02-17 14:10:22.254[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking WebAsyncManagerIntegrationFilter (2/12)\r\n    [2m2023-02-17 14:10:22.254[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking SecurityContextPersistenceFilter (3/12)\r\n    [2m2023-02-17 14:10:22.254[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mw.c.HttpSessionSecurityContextRepository[0;39m [2m:[0;39m Did not find SecurityContext in HttpSession 83FA8B6A615DD9898C33EF9B98BCC479 using the SPRING_SECURITY_CONTEXT session attribute\r\n    [2m2023-02-17 14:10:22.254[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mw.c.HttpSessionSecurityContextRepository[0;39m [2m:[0;39m Created SecurityContextImpl [Null authentication]\r\n    [2m2023-02-17 14:10:22.254[0;39m [32mDEBUG[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36ms.s.w.c.SecurityContextPersistenceFilter[0;39m [2m:[0;39m Set SecurityContextHolder to empty SecurityContext\r\n    [2m2023-02-17 14:10:22.254[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking HeaderWriterFilter (4/12)\r\n    [2m2023-02-17 14:10:22.254[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking LogoutFilter (5/12)\r\n    [2m2023-02-17 14:10:22.254[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.s.w.a.logout.LogoutFilter           [0;39m [2m:[0;39m Did not match request to Or [Ant [pattern=&#39;/logout&#39;, GET], Ant [pattern=&#39;/logout&#39;, POST], Ant [pattern=&#39;/logout&#39;, PUT], Ant [pattern=&#39;/logout&#39;, DELETE]]\r\n    [2m2023-02-17 14:10:22.254[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking SessionTokenFilter (6/12)\r\n    [2m2023-02-17 14:10:22.254[0;39m [32m INFO[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mc.w.presto.security.SessionTokenFilter  [0;39m [2m:[0;39m Inside session filter\r\n    [2m2023-02-17 14:10:22.255[0;39m [32m INFO[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mc.w.presto.security.SessionTokenFilter  [0;39m [2m:[0;39m Session token 12345\r\n    [2m2023-02-17 14:10:22.256[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking RequestCacheAwareFilter (7/12)\r\n    [2m2023-02-17 14:10:22.256[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.s.w.s.HttpSessionRequestCache       [0;39m [2m:[0;39m Removing DefaultSavedRequest from session if present\r\n    [2m2023-02-17 14:10:22.256[0;39m [32mDEBUG[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.s.w.s.HttpSessionRequestCache       [0;39m [2m:[0;39m Loaded matching saved request http://localhost:6060/presto-boot/api/contenteditor/feed/5\r\n    [2m2023-02-17 14:10:22.257[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking SecurityContextHolderAwareRequestFilter (8/12)\r\n    [2m2023-02-17 14:10:22.257[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking AnonymousAuthenticationFilter (9/12)\r\n    [2m2023-02-17 14:10:22.257[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.s.w.a.AnonymousAuthenticationFilter [0;39m [2m:[0;39m Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=83FA8B6A615DD9898C33EF9B98BCC479], Granted Authorities=[ROLE_ANONYMOUS]]\r\n    [2m2023-02-17 14:10:22.257[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking SessionManagementFilter (10/12)\r\n    [2m2023-02-17 14:10:22.257[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking ExceptionTranslationFilter (11/12)\r\n    [2m2023-02-17 14:10:22.257[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking AuthorizationFilter (12/12)\r\n    [2m2023-02-17 14:10:22.257[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mestMatcherDelegatingAuthorizationManager[0;39m [2m:[0;39m Authorizing SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.savedrequest.SavedRequestAwareWrapper@6aa7ef6a]\r\n    [2m2023-02-17 14:10:22.257[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mestMatcherDelegatingAuthorizationManager[0;39m [2m:[0;39m Checking authorization on SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.savedrequest.SavedRequestAwareWrapper@6aa7ef6a] using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6e9866e6\r\n    [2m2023-02-17 14:10:22.260[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.s.w.a.ExceptionTranslationFilter    [0;39m [2m:[0;39m Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=83FA8B6A615DD9898C33EF9B98BCC479], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied\r\n    \r\n    org.springframework.security.access.AccessDeniedException: Access Denied\r\n    \tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:94) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n    \tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n    \tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n    \tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n    \tat com.wf.presto.security.SessionTokenFilter.doFilterInternal(SessionTokenFilter.java:31) ~[classes/:na]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.24.jar:5.3.24]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.24.jar:5.3.24]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n    \tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.24.jar:5.3.24]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n    \tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.24.jar:5.3.24]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.24.jar:5.3.24]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.24.jar:5.3.24]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.24.jar:5.3.24]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.24.jar:5.3.24]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.24.jar:5.3.24]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.24.jar:5.3.24]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.24.jar:5.3.24]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.24.jar:5.3.24]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\r\n    \r\n    [2m2023-02-17 14:10:22.260[0;39m [32mDEBUG[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.s.w.s.HttpSessionRequestCache       [0;39m [2m:[0;39m Saved request http://localhost:6060/presto-boot/api/contenteditor/feed/5 to session\r\n    [2m2023-02-17 14:10:22.260[0;39m [32mDEBUG[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.s.w.a.Http403ForbiddenEntryPoint    [0;39m [2m:[0;39m Pre-authenticated entry point called. Rejecting access\r\n    [2m2023-02-17 14:10:22.260[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.s.w.header.writers.HstsHeaderWriter [0;39m [2m:[0;39m Not injecting HSTS header since it did not match request to [Is Secure]\r\n    [2m2023-02-17 14:10:22.260[0;39m [32mDEBUG[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mw.c.HttpSessionSecurityContextRepository[0;39m [2m:[0;39m Did not store empty SecurityContext\r\n    [2m2023-02-17 14:10:22.260[0;39m [32mDEBUG[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mw.c.HttpSessionSecurityContextRepository[0;39m [2m:[0;39m Did not store empty SecurityContext\r\n    [2m2023-02-17 14:10:22.260[0;39m [32mDEBUG[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36ms.s.w.c.SecurityContextPersistenceFilter[0;39m [2m:[0;39m Cleared SecurityContextHolder to complete request\r\n    [2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4ae2b686, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4b15617a, org.springframework.security.web.context.SecurityContextPersistenceFilter@37cbe1e9, org.springframework.security.web.header.HeaderWriterFilter@2b6c24bf, org.springframework.security.web.authentication.logout.LogoutFilter@1632f898, com.wf.presto.security.SessionTokenFilter@b4e0b59, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6a05b84a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@20862069, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@ccfc0c1, org.springframework.security.web.session.SessionManagementFilter@4b82b88a, org.springframework.security.web.access.ExceptionTranslationFilter@46736c06, org.springframework.security.web.access.intercept.AuthorizationFilter@40a632cb]] (1/1)\r\n    [2m2023-02-17 14:10:22.261[0;39m [32mDEBUG[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Securing GET /error\r\n    [2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking DisableEncodeUrlFilter (1/12)\r\n    [2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking WebAsyncManagerIntegrationFilter (2/12)\r\n    [2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking SecurityContextPersistenceFilter (3/12)\r\n    [2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mw.c.HttpSessionSecurityContextRepository[0;39m [2m:[0;39m Did not find SecurityContext in HttpSession 83FA8B6A615DD9898C33EF9B98BCC479 using the SPRING_SECURITY_CONTEXT session attribute\r\n    [2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mw.c.HttpSessionSecurityContextRepository[0;39m [2m:[0;39m Created SecurityContextImpl [Null authentication]\r\n    [2m2023-02-17 14:10:22.261[0;39m [32mDEBUG[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36ms.s.w.c.SecurityContextPersistenceFilter[0;39m [2m:[0;39m Set SecurityContextHolder to empty SecurityContext\r\n    [2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking HeaderWriterFilter (4/12)\r\n    [2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking LogoutFilter (5/12)\r\n    [2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.s.w.a.logout.LogoutFilter           [0;39m [2m:[0;39m Did not match request to Or [Ant [pattern=&#39;/logout&#39;, GET], Ant [pattern=&#39;/logout&#39;, POST], Ant [pattern=&#39;/logout&#39;, PUT], Ant [pattern=&#39;/logout&#39;, DELETE]]\r\n    [2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking SessionTokenFilter (6/12)\r\n    [2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking RequestCacheAwareFilter (7/12)\r\n    [2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.s.w.s.HttpSessionRequestCache       [0;39m [2m:[0;39m Did not match request /error to the saved one DefaultSavedRequest [http://localhost:6060/presto-boot/api/contenteditor/feed/5]\r\n    [2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking SecurityContextHolderAwareRequestFilter (8/12)\r\n    [2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking AnonymousAuthenticationFilter (9/12)\r\n    [2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.s.w.a.AnonymousAuthenticationFilter [0;39m [2m:[0;39m Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=83FA8B6A615DD9898C33EF9B98BCC479], Granted Authorities=[ROLE_ANONYMOUS]]\r\n    [2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking SessionManagementFilter (10/12)\r\n    [2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking ExceptionTranslationFilter (11/12)\r\n    [2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking AuthorizationFilter (12/12)\r\n    [2m2023-02-17 14:10:22.261[0;39m [32mDEBUG[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Secured GET /error\r\n    [2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mestMatcherDelegatingAuthorizationManager[0;39m [2m:[0;39m Authorizing org.springframework.security.web.FilterInvocation$DummyRequest@4f725109\r\n    [2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mestMatcherDelegatingAuthorizationManager[0;39m [2m:[0;39m Checking authorization on org.springframework.security.web.FilterInvocation$DummyRequest@4f725109 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6e9866e6\r\n    [2m2023-02-17 14:10:22.261[0;39m [32mDEBUG[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mw.c.HttpSessionSecurityContextRepository[0;39m [2m:[0;39m Did not store anonymous SecurityContext\r\n    [2m2023-02-17 14:10:22.261[0;39m [32mDEBUG[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mw.c.HttpSessionSecurityContextRepository[0;39m [2m:[0;39m Did not store anonymous SecurityContext\r\n    [2m2023-02-17 14:10:22.261[0;39m [32mDEBUG[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36ms.s.w.c.SecurityContextPersistenceFilter[0;39m [2m:[0;39m Cleared SecurityContextHolder to complete request\r\n\r\n","title":"Implement custom Authentication, AuthenticationFilter and AuthenticationProvider in Spring Security","body":"<p>The objective is to get a session token from the header in my custom authentication filter. Build my custom authentication object where I can pass the session token as a name. This custom authentication object will be passed to my custom authentication provider class, where I want to build an authentication object if the session token is valid.</p>\n<p>Custom Authentication object</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class AuthenticationObject implements Authentication{\n\n    private static final long serialVersionUID = 1L;\n    private String name;\n    private Collection&lt;? extends GrantedAuthority&gt; authorities;\n    private Object credentials;\n    private Object details;\n    private Object principal;\n    private boolean authenticated;\n}\n</code></pre>\n<p>Custom Filter to get token from the header and build Authentication object for passing it to AuthenticationProvider</p>\n<pre><code>@Component\n@Slf4j\npublic class SessionTokenFilter extends OncePerRequestFilter {\n    \n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\n            throws ServletException, IOException {\n        log.info(&quot;Inside session filter&quot;);\n        String sessionToken = request.getHeader(&quot;session-token&quot;);\n        log.info(&quot;Session token &quot; + sessionToken);\n        if (sessionToken != null) {\n            AuthenticationObject authentication = new AuthenticationObject();\n            authentication.setName(sessionToken);\n            SecurityContextHolder.createEmptyContext().setAuthentication(authentication);\n        }\n        filterChain.doFilter(request, response);\n    }\n}\n</code></pre>\n<p>Custom AuthenticationProvider to validate session token and pass Authentication object</p>\n<pre><code>@Service\n@Slf4j\npublic class SessionAuthenticationProvider implements AuthenticationProvider{\n\n    @Override\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n        log.info(&quot;Authentication token &quot; + authentication.getName());\n        AuthenticationObject authenticationObject = new AuthenticationObject();\n        authenticationObject.setName(&quot;Harsh&quot;);\n        authenticationObject.setAuthenticated(true);\n        authenticationObject.setAuthorities(Collections.&lt;GrantedAuthority&gt;emptyList());\n        return authenticationObject;\n    }\n\n    @Override\n    public boolean supports(Class&lt;?&gt; authentication) {\n        return AutenticationObject.class.isAssignableFrom(authentication);\n    }\n}\n</code></pre>\n<p>Configuring SecurityFilterChain to secure all my API endpoints and invoking my custom filter. Injecting my custom AuthenticationProvider implementation inside AuthenticationManager.</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfiguration {\n\n    @Autowired\n    private SessionTokenFilter sessionTokenFilter;\n    \n    @Autowired\n    private SessionAuthenticationProvider authenticationProvider;\n\n    @Bean\n    protected SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.csrf().disable().authorizeHttpRequests().anyRequest().authenticated().and()\n                .addFilterBefore(sessionTokenFilter, UsernamePasswordAuthenticationFilter.class);\n        return http.build();\n    }\n\n    @Bean\n    public AuthenticationManager authManager(HttpSecurity http) throws Exception {\n        AuthenticationManagerBuilder authenticationManagerBuilder = \n            http.getSharedObject(AuthenticationManagerBuilder.class);\n        authenticationManagerBuilder.authenticationProvider(authenticationProvider);\n        return authenticationManagerBuilder.build();\n    }\n}\n</code></pre>\n<p>When I try to invoke any API endpoint I get 403. Below is the trace log of spring security classes</p>\n<pre><code>2023-02-17 14:10:22.254[0;39m [32mDEBUG[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Securing GET /api/contenteditor/feed/5\n[2m2023-02-17 14:10:22.254[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking DisableEncodeUrlFilter (1/12)\n[2m2023-02-17 14:10:22.254[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking WebAsyncManagerIntegrationFilter (2/12)\n[2m2023-02-17 14:10:22.254[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking SecurityContextPersistenceFilter (3/12)\n[2m2023-02-17 14:10:22.254[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mw.c.HttpSessionSecurityContextRepository[0;39m [2m:[0;39m Did not find SecurityContext in HttpSession 83FA8B6A615DD9898C33EF9B98BCC479 using the SPRING_SECURITY_CONTEXT session attribute\n[2m2023-02-17 14:10:22.254[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mw.c.HttpSessionSecurityContextRepository[0;39m [2m:[0;39m Created SecurityContextImpl [Null authentication]\n[2m2023-02-17 14:10:22.254[0;39m [32mDEBUG[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36ms.s.w.c.SecurityContextPersistenceFilter[0;39m [2m:[0;39m Set SecurityContextHolder to empty SecurityContext\n[2m2023-02-17 14:10:22.254[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking HeaderWriterFilter (4/12)\n[2m2023-02-17 14:10:22.254[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking LogoutFilter (5/12)\n[2m2023-02-17 14:10:22.254[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.s.w.a.logout.LogoutFilter           [0;39m [2m:[0;39m Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]\n[2m2023-02-17 14:10:22.254[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking SessionTokenFilter (6/12)\n[2m2023-02-17 14:10:22.254[0;39m [32m INFO[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mc.w.presto.security.SessionTokenFilter  [0;39m [2m:[0;39m Inside session filter\n[2m2023-02-17 14:10:22.255[0;39m [32m INFO[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mc.w.presto.security.SessionTokenFilter  [0;39m [2m:[0;39m Session token 12345\n[2m2023-02-17 14:10:22.256[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking RequestCacheAwareFilter (7/12)\n[2m2023-02-17 14:10:22.256[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.s.w.s.HttpSessionRequestCache       [0;39m [2m:[0;39m Removing DefaultSavedRequest from session if present\n[2m2023-02-17 14:10:22.256[0;39m [32mDEBUG[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.s.w.s.HttpSessionRequestCache       [0;39m [2m:[0;39m Loaded matching saved request http://localhost:6060/presto-boot/api/contenteditor/feed/5\n[2m2023-02-17 14:10:22.257[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking SecurityContextHolderAwareRequestFilter (8/12)\n[2m2023-02-17 14:10:22.257[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking AnonymousAuthenticationFilter (9/12)\n[2m2023-02-17 14:10:22.257[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.s.w.a.AnonymousAuthenticationFilter [0;39m [2m:[0;39m Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=83FA8B6A615DD9898C33EF9B98BCC479], Granted Authorities=[ROLE_ANONYMOUS]]\n[2m2023-02-17 14:10:22.257[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking SessionManagementFilter (10/12)\n[2m2023-02-17 14:10:22.257[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking ExceptionTranslationFilter (11/12)\n[2m2023-02-17 14:10:22.257[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking AuthorizationFilter (12/12)\n[2m2023-02-17 14:10:22.257[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mestMatcherDelegatingAuthorizationManager[0;39m [2m:[0;39m Authorizing SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.savedrequest.SavedRequestAwareWrapper@6aa7ef6a]\n[2m2023-02-17 14:10:22.257[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mestMatcherDelegatingAuthorizationManager[0;39m [2m:[0;39m Checking authorization on SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.savedrequest.SavedRequestAwareWrapper@6aa7ef6a] using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6e9866e6\n[2m2023-02-17 14:10:22.260[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.s.w.a.ExceptionTranslationFilter    [0;39m [2m:[0;39m Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=83FA8B6A615DD9898C33EF9B98BCC479], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied\n\norg.springframework.security.access.AccessDeniedException: Access Denied\n    at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:94) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at com.wf.presto.security.SessionTokenFilter.doFilterInternal(SessionTokenFilter.java:31) ~[classes/:na]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.24.jar:5.3.24]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.24.jar:5.3.24]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.24.jar:5.3.24]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.24.jar:5.3.24]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.24.jar:5.3.24]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.24.jar:5.3.24]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.24.jar:5.3.24]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.24.jar:5.3.24]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.24.jar:5.3.24]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.24.jar:5.3.24]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.24.jar:5.3.24]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.24.jar:5.3.24]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\n\n[2m2023-02-17 14:10:22.260[0;39m [32mDEBUG[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.s.w.s.HttpSessionRequestCache       [0;39m [2m:[0;39m Saved request http://localhost:6060/presto-boot/api/contenteditor/feed/5 to session\n[2m2023-02-17 14:10:22.260[0;39m [32mDEBUG[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.s.w.a.Http403ForbiddenEntryPoint    [0;39m [2m:[0;39m Pre-authenticated entry point called. Rejecting access\n[2m2023-02-17 14:10:22.260[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.s.w.header.writers.HstsHeaderWriter [0;39m [2m:[0;39m Not injecting HSTS header since it did not match request to [Is Secure]\n[2m2023-02-17 14:10:22.260[0;39m [32mDEBUG[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mw.c.HttpSessionSecurityContextRepository[0;39m [2m:[0;39m Did not store empty SecurityContext\n[2m2023-02-17 14:10:22.260[0;39m [32mDEBUG[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mw.c.HttpSessionSecurityContextRepository[0;39m [2m:[0;39m Did not store empty SecurityContext\n[2m2023-02-17 14:10:22.260[0;39m [32mDEBUG[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36ms.s.w.c.SecurityContextPersistenceFilter[0;39m [2m:[0;39m Cleared SecurityContextHolder to complete request\n[2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4ae2b686, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4b15617a, org.springframework.security.web.context.SecurityContextPersistenceFilter@37cbe1e9, org.springframework.security.web.header.HeaderWriterFilter@2b6c24bf, org.springframework.security.web.authentication.logout.LogoutFilter@1632f898, com.wf.presto.security.SessionTokenFilter@b4e0b59, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6a05b84a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@20862069, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@ccfc0c1, org.springframework.security.web.session.SessionManagementFilter@4b82b88a, org.springframework.security.web.access.ExceptionTranslationFilter@46736c06, org.springframework.security.web.access.intercept.AuthorizationFilter@40a632cb]] (1/1)\n[2m2023-02-17 14:10:22.261[0;39m [32mDEBUG[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Securing GET /error\n[2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking DisableEncodeUrlFilter (1/12)\n[2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking WebAsyncManagerIntegrationFilter (2/12)\n[2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking SecurityContextPersistenceFilter (3/12)\n[2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mw.c.HttpSessionSecurityContextRepository[0;39m [2m:[0;39m Did not find SecurityContext in HttpSession 83FA8B6A615DD9898C33EF9B98BCC479 using the SPRING_SECURITY_CONTEXT session attribute\n[2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mw.c.HttpSessionSecurityContextRepository[0;39m [2m:[0;39m Created SecurityContextImpl [Null authentication]\n[2m2023-02-17 14:10:22.261[0;39m [32mDEBUG[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36ms.s.w.c.SecurityContextPersistenceFilter[0;39m [2m:[0;39m Set SecurityContextHolder to empty SecurityContext\n[2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking HeaderWriterFilter (4/12)\n[2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking LogoutFilter (5/12)\n[2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.s.w.a.logout.LogoutFilter           [0;39m [2m:[0;39m Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]\n[2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking SessionTokenFilter (6/12)\n[2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking RequestCacheAwareFilter (7/12)\n[2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.s.w.s.HttpSessionRequestCache       [0;39m [2m:[0;39m Did not match request /error to the saved one DefaultSavedRequest [http://localhost:6060/presto-boot/api/contenteditor/feed/5]\n[2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking SecurityContextHolderAwareRequestFilter (8/12)\n[2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking AnonymousAuthenticationFilter (9/12)\n[2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.s.w.a.AnonymousAuthenticationFilter [0;39m [2m:[0;39m Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=83FA8B6A615DD9898C33EF9B98BCC479], Granted Authorities=[ROLE_ANONYMOUS]]\n[2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking SessionManagementFilter (10/12)\n[2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking ExceptionTranslationFilter (11/12)\n[2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking AuthorizationFilter (12/12)\n[2m2023-02-17 14:10:22.261[0;39m [32mDEBUG[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Secured GET /error\n[2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mestMatcherDelegatingAuthorizationManager[0;39m [2m:[0;39m Authorizing org.springframework.security.web.FilterInvocation$DummyRequest@4f725109\n[2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mestMatcherDelegatingAuthorizationManager[0;39m [2m:[0;39m Checking authorization on org.springframework.security.web.FilterInvocation$DummyRequest@4f725109 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6e9866e6\n[2m2023-02-17 14:10:22.261[0;39m [32mDEBUG[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mw.c.HttpSessionSecurityContextRepository[0;39m [2m:[0;39m Did not store anonymous SecurityContext\n[2m2023-02-17 14:10:22.261[0;39m [32mDEBUG[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mw.c.HttpSessionSecurityContextRepository[0;39m [2m:[0;39m Did not store anonymous SecurityContext\n[2m2023-02-17 14:10:22.261[0;39m [32mDEBUG[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36ms.s.w.c.SecurityContextPersistenceFilter[0;39m [2m:[0;39m Cleared SecurityContextHolder to complete request\n</code></pre>\n"},{"tags":["java","spring-boot","byte","jakarta-mail","email-attachments"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1676638012,"post_id":75482600,"comment_id":133182427,"body_markdown":"*ByteArrayDataSource imageDataSource = new ByteArrayDataSource(decodedString, &quot;image/png&quot;);* Why would an image&#39;s data be base64-encoded *into a string*?","body":"<i>ByteArrayDataSource imageDataSource = new ByteArrayDataSource(decodedString, &quot;image/png&quot;);</i> Why would an image&#39;s data be base64-encoded <i>into a string</i>?"}],"owner":{"account_id":22310428,"reputation":55,"user_id":20916403,"display_name":"rose pauline"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676627248,"creation_date":1676627248,"question_id":75482600,"body_markdown":"When replying in java mail with .html, .csv and .PHP files as attachment getting the below error,\r\nResolved [org.springframework.http.converter.HttpMessageNotReadableException: \r\nJSON parse error: Cannot deserialize value of type `byte[]` from String\r\n\r\nBelow I have added the java code,\r\n\r\n```\r\n\tDocument document = Jsoup.parse(email.getBody());\r\n\t\t\t\tElements images = document.getElementsByTag(&quot;img&quot;);\r\n\t\t\t\tBodyPart messageBodyPart = new MimeBodyPart();\r\n\t\t\t\tif (images.isEmpty() == false) {\r\n\t\t\t\t\tMimeMultipart multipart = new MimeMultipart(&quot;related&quot;);\r\n\t\t\t\t\tfor (org.jsoup.nodes.Element image : images) {\r\n\t\t\t\t\t\tString cid = ContentIdGenerator.getContentId();\r\n\t\t\t\t\t\tString src = image.attr(&quot;src&quot;);\r\n\t\t\t\t\t\tString[] base64string = src.split(&quot;,&quot;);\r\n\t\t\t\t\t\tString[] datatype = src.split(&quot;;&quot;);\r\n\t\t\t\t\t\timage.attr(&quot;src&quot;, &quot;cid:&quot; + cid);\r\n\t\t\t\t\t\tbase64array.add(base64string[1]);\r\n\t\t\t\t\t\tcidarray.add(cid);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tmessageBodyPart.setContent(document.toString(), &quot;text/html; charset=UTF-8&quot;);\r\n\t\t\t\t\tmultipart.addBodyPart(messageBodyPart);\r\n\t\t\t\t\tif (base64array.isEmpty() == false) {\r\n\t\t\t\t\t\tif (base64array.size() &gt; 1) {\r\n\t\t\t\t\t\t\tfor (int i = 0; i &lt; base64array.size(); ++i) {\r\n\t\t\t\t\t\t\t\tmessageBodyPart = new MimeBodyPart();\r\n\t\t\t\t\t\t\t\tbyte[] decodedString = Base64.getDecoder()\r\n\t\t\t\t\t\t\t\t\t\t.decode(new String(base64array.get(i)).getBytes(&quot;UTF-8&quot;));\r\n\t\t\t\t\t\t\t\tByteArrayDataSource imageDataSource = new ByteArrayDataSource(decodedString,\r\n\t\t\t\t\t\t\t\t\t\t&quot;image/png&quot;);\r\n\r\n\t\t\t\t\t\t\t\tmessageBodyPart.setDataHandler(new DataHandler(imageDataSource));\r\n\t\t\t\t\t\t\t\t((MimeBodyPart) messageBodyPart).setContentID(&quot;&lt;&quot; + cidarray.get(i) + &quot;&gt;&quot;);\r\n\t\t\t\t\t\t\t\tmessageBodyPart.setHeader(&quot;Content-ID&quot;, &quot;&lt;&quot; + cidarray.get(i) + &quot;&gt;&quot;);\r\n\t\t\t\t\t\t\t\tmessageBodyPart.setDisposition(Part.INLINE);\r\n\t\t\t\t\t\t\t\tmultipart.addBodyPart(messageBodyPart);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tmessageBodyPart = new MimeBodyPart();\r\n\t\t\t\t\t\t\tbyte[] decodedString = Base64.getDecoder()\r\n\t\t\t\t\t\t\t\t\t.decode(new String(base64array.get(0)).getBytes(&quot;UTF-8&quot;));\r\n\t\t\t\t\t\t\tByteArrayDataSource imageDataSource = new ByteArrayDataSource(decodedString, &quot;image/png&quot;);\r\n\t\t\t\t\t\t\tmessageBodyPart.setDataHandler(new DataHandler(imageDataSource));\r\n\t\t\t\t\t\t\t((MimeBodyPart) messageBodyPart).setContentID(&quot;&lt;&quot; + cidarray.get(0) + &quot;&gt;&quot;);\r\n\t\t\t\t\t\t\tmessageBodyPart.setHeader(&quot;Content-ID&quot;, &quot;&lt;&quot; + cidarray.get(0) + &quot;&gt;&quot;);\r\n\t\t\t\t\t\t\tmessageBodyPart.setDisposition(Part.INLINE);\r\n\t\t\t\t\t\t\tmultipart.addBodyPart(messageBodyPart);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor (MultipleAttachment file1 : email.getMultipleAttachment()) {\r\n\t\t\t\t\t\tMimeBodyPart attachPart = new MimeBodyPart();\r\n\t\t\t\t\t\tByteArrayDataSource DataSource = new ByteArrayDataSource(file1.getFileByte(),\r\n\t\t\t\t\t\t\t\tfile1.getFileType());\r\n\t\t\t\t\t\tattachPart.setDataHandler(new DataHandler(DataSource));\r\n\t\t\t\t\t\t// attachPart.setContent(file1.getFileByte(), file1.getFileType());\r\n\t\t\t\t\t\tattachPart.setFileName(file1.getFileName());\r\n\t\t\t\t\t\tattachPart.setDisposition(Part.ATTACHMENT);\r\n\t\t\t\t\t\tmultipart.addBodyPart(attachPart);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tmultipart.addBodyPart(messageBodyPart);\r\n\t\t\t\t\tmessage2.setContent(multipart, &quot;text/html; charset=UTF-8&quot;);\r\n\t\t\t\t}\r\n```\r\n","title":"JSON parse error: Cannot deserialize value of type `byte[]` from String for java mail reply with attachment","body":"<p>When replying in java mail with .html, .csv and .PHP files as attachment getting the below error,\nResolved [org.springframework.http.converter.HttpMessageNotReadableException:\nJSON parse error: Cannot deserialize value of type <code>byte[]</code> from String</p>\n<p>Below I have added the java code,</p>\n<pre><code>    Document document = Jsoup.parse(email.getBody());\n                Elements images = document.getElementsByTag(&quot;img&quot;);\n                BodyPart messageBodyPart = new MimeBodyPart();\n                if (images.isEmpty() == false) {\n                    MimeMultipart multipart = new MimeMultipart(&quot;related&quot;);\n                    for (org.jsoup.nodes.Element image : images) {\n                        String cid = ContentIdGenerator.getContentId();\n                        String src = image.attr(&quot;src&quot;);\n                        String[] base64string = src.split(&quot;,&quot;);\n                        String[] datatype = src.split(&quot;;&quot;);\n                        image.attr(&quot;src&quot;, &quot;cid:&quot; + cid);\n                        base64array.add(base64string[1]);\n                        cidarray.add(cid);\n                    }\n                    messageBodyPart.setContent(document.toString(), &quot;text/html; charset=UTF-8&quot;);\n                    multipart.addBodyPart(messageBodyPart);\n                    if (base64array.isEmpty() == false) {\n                        if (base64array.size() &gt; 1) {\n                            for (int i = 0; i &lt; base64array.size(); ++i) {\n                                messageBodyPart = new MimeBodyPart();\n                                byte[] decodedString = Base64.getDecoder()\n                                        .decode(new String(base64array.get(i)).getBytes(&quot;UTF-8&quot;));\n                                ByteArrayDataSource imageDataSource = new ByteArrayDataSource(decodedString,\n                                        &quot;image/png&quot;);\n\n                                messageBodyPart.setDataHandler(new DataHandler(imageDataSource));\n                                ((MimeBodyPart) messageBodyPart).setContentID(&quot;&lt;&quot; + cidarray.get(i) + &quot;&gt;&quot;);\n                                messageBodyPart.setHeader(&quot;Content-ID&quot;, &quot;&lt;&quot; + cidarray.get(i) + &quot;&gt;&quot;);\n                                messageBodyPart.setDisposition(Part.INLINE);\n                                multipart.addBodyPart(messageBodyPart);\n                            }\n                        } else {\n                            messageBodyPart = new MimeBodyPart();\n                            byte[] decodedString = Base64.getDecoder()\n                                    .decode(new String(base64array.get(0)).getBytes(&quot;UTF-8&quot;));\n                            ByteArrayDataSource imageDataSource = new ByteArrayDataSource(decodedString, &quot;image/png&quot;);\n                            messageBodyPart.setDataHandler(new DataHandler(imageDataSource));\n                            ((MimeBodyPart) messageBodyPart).setContentID(&quot;&lt;&quot; + cidarray.get(0) + &quot;&gt;&quot;);\n                            messageBodyPart.setHeader(&quot;Content-ID&quot;, &quot;&lt;&quot; + cidarray.get(0) + &quot;&gt;&quot;);\n                            messageBodyPart.setDisposition(Part.INLINE);\n                            multipart.addBodyPart(messageBodyPart);\n                        }\n                    }\n                    for (MultipleAttachment file1 : email.getMultipleAttachment()) {\n                        MimeBodyPart attachPart = new MimeBodyPart();\n                        ByteArrayDataSource DataSource = new ByteArrayDataSource(file1.getFileByte(),\n                                file1.getFileType());\n                        attachPart.setDataHandler(new DataHandler(DataSource));\n                        // attachPart.setContent(file1.getFileByte(), file1.getFileType());\n                        attachPart.setFileName(file1.getFileName());\n                        attachPart.setDisposition(Part.ATTACHMENT);\n                        multipart.addBodyPart(attachPart);\n                    }\n                    multipart.addBodyPart(messageBodyPart);\n                    message2.setContent(multipart, &quot;text/html; charset=UTF-8&quot;);\n                }\n</code></pre>\n"},{"tags":["java","spring-boot","logback"],"answers":[{"tags":[],"owner":{"account_id":25866694,"reputation":191,"user_id":19598245,"display_name":"Phil Ku"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676626927,"creation_date":1676626927,"answer_id":75482544,"question_id":71880439,"body_markdown":"Correct me if I am wrong, I believe you want the DEBUG level in DEBUG-FILE, and only the INFO level in FILE.\r\n\r\nTry putting the DEBUG level **above** the INFO level logs in your Logback.xml, and adding `additivity=&quot;false&quot;` in DEBUG level. You may remove `additivity=&quot;true&quot;` in INFO level.\r\n\r\n\r\n    \r\n    &lt;!-- Debug Application Log Level --&gt;\r\n    &lt;logger name=&quot;com.example.app&quot; level=&quot;DEBUG&quot; additivity=&quot;false&quot;&gt;\r\n        &lt;appender-ref ref=&quot;DEBUG-FILE&quot; /&gt;\r\n    &lt;/logger&gt;\r\n\r\n    &lt;!-- User Friendly Application Logs --&gt;\r\n    &lt;logger name=&quot;com.example.app&quot; level=&quot;INFO&quot;&gt;\r\n        &lt;appender-ref ref=&quot;FILE&quot; /&gt;\r\n    &lt;/logger&gt;\r\n    \r\n    &lt;!-- Console Root Log Level --&gt;\r\n    &lt;root level=&quot;INFO&quot;&gt;\r\n        &lt;appender-ref ref=&quot;Console&quot; /&gt;\r\n    &lt;/root&gt;","title":"Logback.xml Same Package Log Different Level","body":"<p>Correct me if I am wrong, I believe you want the DEBUG level in DEBUG-FILE, and only the INFO level in FILE.</p>\n<p>Try putting the DEBUG level <strong>above</strong> the INFO level logs in your Logback.xml, and adding <code>additivity=&quot;false&quot;</code> in DEBUG level. You may remove <code>additivity=&quot;true&quot;</code> in INFO level.</p>\n<pre><code>&lt;!-- Debug Application Log Level --&gt;\n&lt;logger name=&quot;com.example.app&quot; level=&quot;DEBUG&quot; additivity=&quot;false&quot;&gt;\n    &lt;appender-ref ref=&quot;DEBUG-FILE&quot; /&gt;\n&lt;/logger&gt;\n\n&lt;!-- User Friendly Application Logs --&gt;\n&lt;logger name=&quot;com.example.app&quot; level=&quot;INFO&quot;&gt;\n    &lt;appender-ref ref=&quot;FILE&quot; /&gt;\n&lt;/logger&gt;\n\n&lt;!-- Console Root Log Level --&gt;\n&lt;root level=&quot;INFO&quot;&gt;\n    &lt;appender-ref ref=&quot;Console&quot; /&gt;\n&lt;/root&gt;\n</code></pre>\n"}],"owner":{"account_id":20145130,"reputation":13,"user_id":14773844,"display_name":"Muhammet Bolat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":250,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676626927,"creation_date":1650000619,"question_id":71880439,"body_markdown":"I am using Slf4 for logging. I want to create two log file for the same package. INFO level log and DEBUG level log. I tried to implement like that\r\n\r\n    enter code here\r\n    &lt;!-- User Friendly Application Logs --&gt;\r\n    &lt;logger name=&quot;com.example.app&quot; level=&quot;INFO&quot; additivity=&quot;true&quot;&gt;\r\n        &lt;appender-ref ref=&quot;FILE&quot; /&gt;\r\n    &lt;/logger&gt;\r\n\r\n    &lt;!-- Debug Application Log Level --&gt;\r\n    &lt;logger name=&quot;com.example.app&quot; level=&quot;DEBUG&quot;&gt;\r\n        &lt;appender-ref ref=&quot;DEBUG-FILE&quot; /&gt;\r\n    &lt;/logger&gt;\r\n\r\n    &lt;!-- Console Root Log Level --&gt;\r\n    &lt;root level=&quot;INFO&quot;&gt;\r\n        &lt;appender-ref ref=&quot;Console&quot; /&gt;\r\n    &lt;/root&gt;\r\n\r\n\r\n\r\nI am missing a point because, I can see DEBUG level for all files. When I remove logger for debug, I never see the debug log in the ref=&quot;FILE&quot;. \r\n\r\nThanks in advance.\r\n","title":"Logback.xml Same Package Log Different Level","body":"<p>I am using Slf4 for logging. I want to create two log file for the same package. INFO level log and DEBUG level log. I tried to implement like that</p>\n<pre><code>enter code here\n&lt;!-- User Friendly Application Logs --&gt;\n&lt;logger name=&quot;com.example.app&quot; level=&quot;INFO&quot; additivity=&quot;true&quot;&gt;\n    &lt;appender-ref ref=&quot;FILE&quot; /&gt;\n&lt;/logger&gt;\n\n&lt;!-- Debug Application Log Level --&gt;\n&lt;logger name=&quot;com.example.app&quot; level=&quot;DEBUG&quot;&gt;\n    &lt;appender-ref ref=&quot;DEBUG-FILE&quot; /&gt;\n&lt;/logger&gt;\n\n&lt;!-- Console Root Log Level --&gt;\n&lt;root level=&quot;INFO&quot;&gt;\n    &lt;appender-ref ref=&quot;Console&quot; /&gt;\n&lt;/root&gt;\n</code></pre>\n<p>I am missing a point because, I can see DEBUG level for all files. When I remove logger for debug, I never see the debug log in the ref=&quot;FILE&quot;.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","postgresql","jdbc","postgresql-11","ref-cursor"],"comments":[{"owner":{"display_name":"user330315"},"score":0,"creation_date":1676619843,"post_id":75481206,"comment_id":133177364,"body_markdown":"This would be so much easier if you use a set-returning function instead of a procedure. Then it&#39;s as simple as running `select * from pr_sampleuser()`","body":"This would be so much easier if you use a set-returning function instead of a procedure. Then it&#39;s as simple as running <code>select * from pr_sampleuser()</code>"},{"owner":{"account_id":21215832,"reputation":4327,"user_id":15603477,"display_name":"jian"},"score":0,"creation_date":1676620927,"post_id":75481206,"comment_id":133177632,"body_markdown":"does this post (https://stackoverflow.com/questions/15671636/testing-postgresql-functions-that-consume-and-return-refcursor/15675036#15675036) answer your question...","body":"does this post (<a href=\"https://stackoverflow.com/questions/15671636/testing-postgresql-functions-that-consume-and-return-refcursor/15675036#15675036\" title=\"testing postgresql functions that consume and return refcursor\">stackoverflow.com/questions/15671636/&hellip;</a>) answer your question..."},{"owner":{"account_id":8363885,"reputation":163,"user_id":6281255,"display_name":"Ashu"},"score":0,"creation_date":1676623837,"post_id":75481206,"comment_id":133178400,"body_markdown":"@a_horse_with_no_name: sry but i am not looking for workrounds, consider that aspect that procedure is already created for you, i am asking for how to access it correctly using JDBC.\nJian: The post you have mentioned is about stored proc creation and calling it, i am looking forward to access the data through JDBC driver and it this is the best way to read the data.","body":"@a_horse_with_no_name: sry but i am not looking for workrounds, consider that aspect that procedure is already created for you, i am asking for how to access it correctly using JDBC. Jian: The post you have mentioned is about stored proc creation and calling it, i am looking forward to access the data through JDBC driver and it this is the best way to read the data."},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1676623894,"post_id":75481206,"comment_id":133178416,"body_markdown":"Well, a procedure is the wrong thing to use, if a result set should be returned. Using a function is not a &quot;workaround&quot;, it&#39;s the correct solution to the problem here.","body":"Well, a procedure is the wrong thing to use, if a result set should be returned. Using a function is not a &quot;workaround&quot;, it&#39;s the correct solution to the problem here."},{"owner":{"account_id":8363885,"reputation":163,"user_id":6281255,"display_name":"Ashu"},"score":0,"creation_date":1676624185,"post_id":75481206,"comment_id":133178492,"body_markdown":"@a_horse_with_no_name: See thats another aspect, but the procedures have already been created and i believe its not wrong as per https://www.enterprisedb.com/docs/jdbc_connector/latest/08_advanced_jdbc_connector_functionality/04_using_ref_cursors_with_java/","body":"@a_horse_with_no_name: See thats another aspect, but the procedures have already been created and i believe its not wrong as per <a href=\"https://www.enterprisedb.com/docs/jdbc_connector/latest/08_advanced_jdbc_connector_functionality/04_using_ref_cursors_with_java/\" rel=\"nofollow noreferrer\">enterprisedb.com/docs/jdbc_connector/latest/&hellip;</a>"},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1676626592,"post_id":75481206,"comment_id":133179205,"body_markdown":"Does it work? If so, this seems to be the correct solution, and then I am unsure why you&#39;re asking this question...","body":"Does it work? If so, this seems to be the correct solution, and then I am unsure why you&#39;re asking this question..."},{"owner":{"account_id":8363885,"reputation":163,"user_id":6281255,"display_name":"Ashu"},"score":0,"creation_date":1676627127,"post_id":75481206,"comment_id":133179358,"body_markdown":"@MarkRotteveel: yes this solution works, my concern was around why we need to use cs.setObject(2,null); Is it that for referenceCursors we need to set the value of 2nd parameter to null or if there is any better way of doing this?","body":"@MarkRotteveel: yes this solution works, my concern was around why we need to use cs.setObject(2,null); Is it that for referenceCursors we need to set the value of 2nd parameter to null or if there is any better way of doing this?"},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1676635274,"post_id":75481206,"comment_id":133181650,"body_markdown":"You need to set it because you declared the argument of the stored procedure as INOUT. Consider declaring it only OUT, then you shouldn&#39;t need to set it.","body":"You need to set it because you declared the argument of the stored procedure as INOUT. Consider declaring it only OUT, then you shouldn&#39;t need to set it."},{"owner":{"account_id":8363885,"reputation":163,"user_id":6281255,"display_name":"Ashu"},"score":0,"creation_date":1676815335,"post_id":75481206,"comment_id":133209135,"body_markdown":"@MarkRotteveel: That is true, just that PostGres13 doesn&#39;t support Out Parameters, i think they are available only with PostGres version 14 , https://www.dbi-services.com/blog/postgresql-14-will-support-out-parameters-for-procedures/","body":"@MarkRotteveel: That is true, just that PostGres13 doesn&#39;t support Out Parameters, i think they are available only with PostGres version 14 , <a href=\"https://www.dbi-services.com/blog/postgresql-14-will-support-out-parameters-for-procedures/\" rel=\"nofollow noreferrer\">dbi-services.com/blog/&hellip;</a>"}],"owner":{"account_id":8363885,"reputation":163,"user_id":6281255,"display_name":"Ashu"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":375,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676626547,"creation_date":1676618278,"question_id":75481206,"body_markdown":"I need some suggestion on how to get the data through PostgreSQL JDBC driver from stored procedures using reference cursors.\r\n\r\nSince PostgreSQL 11, it supports stored procedures with `create procedure` command instead of `create function`.\r\n\r\nI have a scenario in which I want to fetch data from a stored procedure using a reference cursor.\r\n\r\nMy stored procedure SQL looks like as shown below\r\n\r\n```sql\r\nCREATE OR REPLACE PROCEDURE public.pr_sampleuser(\r\n\tp_firstuser character varying,\r\n\tINOUT p_qusers refcursor)\r\nLANGUAGE &#39;plpgsql&#39;\r\nAS $BODY$\r\n\r\nBEGIN\r\n   OPEN p_qusers FOR\r\n   SELECT first_name,last_name,address\r\n   FROM public.test_user\r\n   WHERE UPPER(first_name) = UPPER(p_firstuser);\r\nEND; \r\n$BODY$;\r\n```\r\n\r\nWhen we want to fetch the data using the JDBC driver, the first thing we need to add to the connection string is `escapeSyntaxCallMode=call`.\r\n\r\nFollowing is the code-snippet that I am using to fetch the data,\r\n\r\n```java\r\ntry {\r\n    Properties props = new Properties();\r\n    props.setProperty(&quot;escapeSyntaxCallMode&quot;, &quot;call&quot;);\r\n    Connection conn = DriverManager.getConnection(url,props);\r\n    String storedProc = &quot;{call public.pr_sampleuser(?,?)}&quot;;\r\n    CallableStatement cs = conn.prepareCall(storedProc);\r\n    cs.setString(1,&quot;Umesh&quot;);\r\n    cs.setObject(2,null);\r\n    cs.registerOutParameter(2,Types.REF_CURSOR);\r\n    conn.setAutoCommit(false);\r\n\r\n    // run StoredProcedure\r\n    cs.execute();\r\n\r\n    // get refcursor and convert it to ResultSet\r\n    ResultSet resultSet = (ResultSet) cs.getObject(2);\r\n    while (resultSet.next()) {\r\n        String firstName = resultSet.getString(&quot;first_name&quot;);\r\n        String lastname = resultSet.getString(&quot;last_name&quot;);\r\n        String address = resultSet.getString(&quot;address&quot;);\r\n\r\n        System.out.println(firstName);\r\n        System.out.println(lastname);\r\n        System.out.println(address);\r\n    }\r\n} catch (SQLException e) {\r\n    System.err.format(&quot;SQL State: %s\\n%s&quot;, e.getSQLState(), e.getMessage());\r\n    e.printStackTrace();\r\n} catch (Exception e) {\r\n    e.printStackTrace();\r\n}\r\n```\r\n\r\nIn this I am passing the second parameter as null using \r\n\r\n```java\r\ncs.setObject(2,null);\r\n```\r\n\r\nI wanted to check if this is the correct way to fetch or if there is any better way to get the data.\r\n","title":"Correct way of calling reference cursors in PostgreSQL 11 and above using JDBC driver","body":"<p>I need some suggestion on how to get the data through PostgreSQL JDBC driver from stored procedures using reference cursors.</p>\n<p>Since PostgreSQL 11, it supports stored procedures with <code>create procedure</code> command instead of <code>create function</code>.</p>\n<p>I have a scenario in which I want to fetch data from a stored procedure using a reference cursor.</p>\n<p>My stored procedure SQL looks like as shown below</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE OR REPLACE PROCEDURE public.pr_sampleuser(\n    p_firstuser character varying,\n    INOUT p_qusers refcursor)\nLANGUAGE 'plpgsql'\nAS $BODY$\n\nBEGIN\n   OPEN p_qusers FOR\n   SELECT first_name,last_name,address\n   FROM public.test_user\n   WHERE UPPER(first_name) = UPPER(p_firstuser);\nEND; \n$BODY$;\n</code></pre>\n<p>When we want to fetch the data using the JDBC driver, the first thing we need to add to the connection string is <code>escapeSyntaxCallMode=call</code>.</p>\n<p>Following is the code-snippet that I am using to fetch the data,</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    Properties props = new Properties();\n    props.setProperty(&quot;escapeSyntaxCallMode&quot;, &quot;call&quot;);\n    Connection conn = DriverManager.getConnection(url,props);\n    String storedProc = &quot;{call public.pr_sampleuser(?,?)}&quot;;\n    CallableStatement cs = conn.prepareCall(storedProc);\n    cs.setString(1,&quot;Umesh&quot;);\n    cs.setObject(2,null);\n    cs.registerOutParameter(2,Types.REF_CURSOR);\n    conn.setAutoCommit(false);\n\n    // run StoredProcedure\n    cs.execute();\n\n    // get refcursor and convert it to ResultSet\n    ResultSet resultSet = (ResultSet) cs.getObject(2);\n    while (resultSet.next()) {\n        String firstName = resultSet.getString(&quot;first_name&quot;);\n        String lastname = resultSet.getString(&quot;last_name&quot;);\n        String address = resultSet.getString(&quot;address&quot;);\n\n        System.out.println(firstName);\n        System.out.println(lastname);\n        System.out.println(address);\n    }\n} catch (SQLException e) {\n    System.err.format(&quot;SQL State: %s\\n%s&quot;, e.getSQLState(), e.getMessage());\n    e.printStackTrace();\n} catch (Exception e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>In this I am passing the second parameter as null using</p>\n<pre class=\"lang-java prettyprint-override\"><code>cs.setObject(2,null);\n</code></pre>\n<p>I wanted to check if this is the correct way to fetch or if there is any better way to get the data.</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":4739783,"reputation":612575,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":2,"creation_date":1676624754,"post_id":75482059,"comment_id":133178671,"body_markdown":"What about https://ideone.com/P1m10a? What is your targeted Java version?","body":"What about <a href=\"https://ideone.com/P1m10a\" rel=\"nofollow noreferrer\">ideone.com/P1m10a</a>? What is your targeted Java version?"}],"answers":[{"tags":[],"owner":{"account_id":17451557,"reputation":76,"user_id":12651435,"display_name":"Rasmus Kirvesm&#228;ki"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1676625418,"creation_date":1676625418,"answer_id":75482292,"question_id":75482059,"body_markdown":"It seems like Java&#39;s Matcher checks your string size when it initializes, and doesn&#39;t go past that. You are inserting to the string, which makes it longer. The matcher doesn&#39;t check that far.\r\n\r\nA quick, though slow, fix is to re-initialize the matcher every time.\r\n```\r\nStringBuilder text = new StringBuilder(&quot;Hel2o peo7ple it is ou6r wo3rld gu4ys&quot;);\r\nPattern pattern = Pattern.compile(&quot;[a-z]\\\\d&quot;);\r\nMatcher matcher = pattern.matcher(text);\r\n        \r\nwhile (matcher.find()) {\r\n    int startWord = matcher.start();\r\n    int numLetters = Integer.parseInt(text.substring(startWord + 1, startWord + 2));\r\n    text.deleteCharAt(startWord + 1);\r\n    for (int i = 0; i &lt; numLetters - 1; ++i) {\r\n        text.insert(startWord + 1, text.charAt(startWord));\r\n    }\r\n            \r\n    matcher = pattern.matcher(text);\r\n}\r\nSystem.out.println(text);\r\n```\r\nA faster approach would find the numbers, calculate the string length and then manually construct the string using the found numbers.","title":"regex doesn&#39;t find last word in my string","body":"<p>It seems like Java's Matcher checks your string size when it initializes, and doesn't go past that. You are inserting to the string, which makes it longer. The matcher doesn't check that far.</p>\n<p>A quick, though slow, fix is to re-initialize the matcher every time.</p>\n<pre><code>StringBuilder text = new StringBuilder(&quot;Hel2o peo7ple it is ou6r wo3rld gu4ys&quot;);\nPattern pattern = Pattern.compile(&quot;[a-z]\\\\d&quot;);\nMatcher matcher = pattern.matcher(text);\n        \nwhile (matcher.find()) {\n    int startWord = matcher.start();\n    int numLetters = Integer.parseInt(text.substring(startWord + 1, startWord + 2));\n    text.deleteCharAt(startWord + 1);\n    for (int i = 0; i &lt; numLetters - 1; ++i) {\n        text.insert(startWord + 1, text.charAt(startWord));\n    }\n            \n    matcher = pattern.matcher(text);\n}\nSystem.out.println(text);\n</code></pre>\n<p>A faster approach would find the numbers, calculate the string length and then manually construct the string using the found numbers.</p>\n"},{"tags":[],"owner":{"account_id":24910774,"reputation":1,"user_id":18780356,"display_name":"SCASTELLANO6044"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676626443,"creation_date":1676626443,"answer_id":75482450,"question_id":75482059,"body_markdown":"The issue is probably that the matcher is only finding the pattern [a-z]\\\\d, which matches a single letter followed by a digit, but it is not finding the last word &quot;gu4ys&quot; because it doesn&#39;t match that pattern.\r\n\r\nTo fix this, you can modify the regular expression to include an optional group that matches any remaining letters at the end of the text. \r\n\r\nTry this regex and please let me know if it worked :)\r\n&quot;[a-z]\\\\d|[a-z]+&quot;\r\n","title":"regex doesn&#39;t find last word in my string","body":"<p>The issue is probably that the matcher is only finding the pattern [a-z]\\d, which matches a single letter followed by a digit, but it is not finding the last word &quot;gu4ys&quot; because it doesn't match that pattern.</p>\n<p>To fix this, you can modify the regular expression to include an optional group that matches any remaining letters at the end of the text.</p>\n<p>Try this regex and please let me know if it worked :)\n&quot;[a-z]\\d|[a-z]+&quot;</p>\n"}],"owner":{"account_id":27809969,"reputation":23,"user_id":21232548,"display_name":"Timur"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75482292,"answer_count":2,"score":2,"last_activity_date":1676626443,"creation_date":1676623936,"question_id":75482059,"body_markdown":"I have a regular expression [a-z]\\\\d to unpack the text witch is compressed by simple rule\r\nhellowoooorld  -&gt; hel2owo4rld\r\nSo now i have to unpack my text and it doesn&#39;t work correctly. It can&#39;t find last word in my String\r\nit always like skip gu4ys\r\n\r\n```\r\nStringBuilder text = new StringBuilder(&quot;Hel2o peo7ple it is ou6r wo3rld gu4ys&quot;);\r\n        Pattern pattern = Pattern.compile(&quot;[a-z]\\\\d&quot;);\r\n        Matcher matcher = pattern.matcher(text);\r\n        while (matcher.find()) {\r\n            System.out.println(matcher.group());\r\n            int startWord = matcher.start();\r\n            int numLetters = Integer.parseInt(text.substring(startWord + 1, startWord + 2));\r\n            text.deleteCharAt(startWord + 1);\r\n            for (int i = 0; i &lt; numLetters - 1; ++i) {\r\n                text.insert(startWord + 1, text.charAt(startWord));\r\n            }\r\n        }\r\n        System.out.println(text);\r\n```\r\n\r\n\r\n\r\nResult is : Hello peooooooople it is ouuuuuur wooorld gu4ys\r\nI expect this : Hello peooooooople it is ouuuuuur wooorld guuuuys\r\nI can&#39;t understand why it doesn&#39;t work all is simple ","title":"regex doesn&#39;t find last word in my string","body":"<p>I have a regular expression [a-z]\\d to unpack the text witch is compressed by simple rule\nhellowoooorld  -&gt; hel2owo4rld\nSo now i have to unpack my text and it doesn't work correctly. It can't find last word in my String\nit always like skip gu4ys</p>\n<pre><code>StringBuilder text = new StringBuilder(&quot;Hel2o peo7ple it is ou6r wo3rld gu4ys&quot;);\n        Pattern pattern = Pattern.compile(&quot;[a-z]\\\\d&quot;);\n        Matcher matcher = pattern.matcher(text);\n        while (matcher.find()) {\n            System.out.println(matcher.group());\n            int startWord = matcher.start();\n            int numLetters = Integer.parseInt(text.substring(startWord + 1, startWord + 2));\n            text.deleteCharAt(startWord + 1);\n            for (int i = 0; i &lt; numLetters - 1; ++i) {\n                text.insert(startWord + 1, text.charAt(startWord));\n            }\n        }\n        System.out.println(text);\n</code></pre>\n<p>Result is : Hello peooooooople it is ouuuuuur wooorld gu4ys\nI expect this : Hello peooooooople it is ouuuuuur wooorld guuuuys\nI can't understand why it doesn't work all is simple</p>\n"},{"tags":["java","android","android-studio","java-8","android-studio-2.1"],"comments":[{"owner":{"account_id":1017805,"reputation":2367,"user_id":1028958,"accept_rate":75,"display_name":"Stephen J"},"score":0,"creation_date":1472621817,"post_id":38066957,"comment_id":65819556,"body_markdown":"My path has User 1 and Program Files, basically the answer here: http://stackoverflow.com/questions/34199642/cannot-update-jdk-location-in-android-studio \nI had to remove spaces from both the JDK and the SDK, not just the JDK. So basically copied/pasted dir","body":"My path has User 1 and Program Files, basically the answer here: <a href=\"http://stackoverflow.com/questions/34199642/cannot-update-jdk-location-in-android-studio\" title=\"cannot update jdk location in android studio\">stackoverflow.com/questions/34199642/&hellip;</a>  I had to remove spaces from both the JDK and the SDK, not just the JDK. So basically copied/pasted dir"}],"answers":[{"tags":[],"owner":{"account_id":895708,"reputation":7032,"user_id":933050,"accept_rate":65,"display_name":"Asim"},"down_vote_count":1,"up_vote_count":37,"is_accepted":true,"score":36,"last_activity_date":1470731163,"creation_date":1467088784,"answer_id":38067170,"question_id":38066957,"body_markdown":"Figured it out after looking at a few files inside the Android studio settings directory.\r\n\r\nIf you&#39;ve been upgrading your Android Studio and importing settings from previous installations, this might happen (it might also happen with a fresh installation).\r\n\r\nSolution:\r\n\r\n 1. Go to wherever your Android Studio config folder is located (usually at $HOME/.AndroidStudio2.1/confg).\r\n 2. Open the **Options** folder and delete the file **jdk.table.xml** (keep a backup just in case)\r\n 3. Restart Android Studio\r\n\r\nThis fixed the issue for me. The newly created jdk.table.xml will have updated java8 values (which it most probably fetches from the JDK_HOME environment variable).\r\n\r\n","title":"Android Studio JDK location changes back to 1.7 every time it is updated to 1.8 path","body":"<p>Figured it out after looking at a few files inside the Android studio settings directory.</p>\n\n<p>If you've been upgrading your Android Studio and importing settings from previous installations, this might happen (it might also happen with a fresh installation).</p>\n\n<p>Solution:</p>\n\n<ol>\n<li>Go to wherever your Android Studio config folder is located (usually at $HOME/.AndroidStudio2.1/confg).</li>\n<li>Open the <strong>Options</strong> folder and delete the file <strong>jdk.table.xml</strong> (keep a backup just in case)</li>\n<li>Restart Android Studio</li>\n</ol>\n\n<p>This fixed the issue for me. The newly created jdk.table.xml will have updated java8 values (which it most probably fetches from the JDK_HOME environment variable).</p>\n"},{"tags":[],"owner":{"account_id":7557346,"reputation":73,"user_id":6672894,"display_name":"Mr. El"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1475109568,"creation_date":1475109568,"answer_id":39759648,"question_id":38066957,"body_markdown":"What you want to do after deleting the xml file is NOT to close android studio before doing this. Because when android boots back up again it will check its referral settings and say &quot;oh this user may have deleted the table of the jdk, but he still had 1.7 selected by default.&quot;\r\n\r\nNo, when you delete the table file keep studio open. Then select 1.8 so that way it will save the reference settings back to the table. You might not have to restart either since the table xml file is not a currently running file since its in the own users profile folder and not in program files.","title":"Android Studio JDK location changes back to 1.7 every time it is updated to 1.8 path","body":"<p>What you want to do after deleting the xml file is NOT to close android studio before doing this. Because when android boots back up again it will check its referral settings and say \"oh this user may have deleted the table of the jdk, but he still had 1.7 selected by default.\"</p>\n\n<p>No, when you delete the table file keep studio open. Then select 1.8 so that way it will save the reference settings back to the table. You might not have to restart either since the table xml file is not a currently running file since its in the own users profile folder and not in program files.</p>\n"},{"tags":[],"owner":{"account_id":8858672,"reputation":1,"user_id":6615578,"display_name":"HARSH TYAGI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1483154663,"creation_date":1482430746,"answer_id":41289476,"question_id":38066957,"body_markdown":"**follow these steps:(the steps are for windows; reach the same directories in case of other operating systems)**\r\n\r\n**Step 1:** Press &quot;Win + R&quot;, type in &quot;%userprofile%&quot; and press enter.\r\n\r\n**Step 2:** Go to the Android Studio folder which will be in the following format - &quot;.AndroidStudio2.2&quot; (the version may vary)\r\n\r\n**Step 3:** Go to the &quot;config\\options&quot; folder.\r\n\r\n**Step 4:** Make a copy of `jdk.table.xml` at desktop and Delete `jdk.table.xml` . (Do it while the android studio is still running)\r\n\r\n**Step 5:** In android Studio -Go to &quot;File-&gt; Project Structure&quot; and select the correct jdk path.\r\n\r\n\r\n**IF STEP 4 and STEP 5 do not solve the problem, follow these steps::**\r\n\r\n**Step 4&#39;:** Open `jdk.table.xml` in notepad.\r\n\r\n**Step 5&#39;:** Find all the words including jdk version - for eg. find &quot;1.8.0_45&quot;\r\n\r\n**Step 6&#39;:** Replace the words found; with your current jdk version . For eg. change &quot;1.8.0_45&quot; to &quot;1.8.0_111&quot; (make sure you replace all the fields containing the version number)\r\n\r\n**Step 7&#39;:** Save the `jdk.table.xml` file\r\n\r\n**Step 8&#39;:** Restart android studio.\r\n\r\nThis will definitely solve the issue.\r\n\r\n**PS: JDK should be installed and the path should be set.**","title":"Android Studio JDK location changes back to 1.7 every time it is updated to 1.8 path","body":"<p><strong>follow these steps:(the steps are for windows; reach the same directories in case of other operating systems)</strong></p>\n\n<p><strong>Step 1:</strong> Press \"Win + R\", type in \"%userprofile%\" and press enter.</p>\n\n<p><strong>Step 2:</strong> Go to the Android Studio folder which will be in the following format - \".AndroidStudio2.2\" (the version may vary)</p>\n\n<p><strong>Step 3:</strong> Go to the \"config\\options\" folder.</p>\n\n<p><strong>Step 4:</strong> Make a copy of <code>jdk.table.xml</code> at desktop and Delete <code>jdk.table.xml</code> . (Do it while the android studio is still running)</p>\n\n<p><strong>Step 5:</strong> In android Studio -Go to \"File-> Project Structure\" and select the correct jdk path.</p>\n\n<p><strong>IF STEP 4 and STEP 5 do not solve the problem, follow these steps::</strong></p>\n\n<p><strong>Step 4':</strong> Open <code>jdk.table.xml</code> in notepad.</p>\n\n<p><strong>Step 5':</strong> Find all the words including jdk version - for eg. find \"1.8.0_45\"</p>\n\n<p><strong>Step 6':</strong> Replace the words found; with your current jdk version . For eg. change \"1.8.0_45\" to \"1.8.0_111\" (make sure you replace all the fields containing the version number)</p>\n\n<p><strong>Step 7':</strong> Save the <code>jdk.table.xml</code> file</p>\n\n<p><strong>Step 8':</strong> Restart android studio.</p>\n\n<p>This will definitely solve the issue.</p>\n\n<p><strong>PS: JDK should be installed and the path should be set.</strong></p>\n"},{"tags":[],"owner":{"account_id":5143607,"reputation":2038,"user_id":4120180,"accept_rate":95,"display_name":"Stav Bodik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1483868750,"creation_date":1483868750,"answer_id":41531367,"question_id":38066957,"body_markdown":"1. close android studio \n\n2. go to :\n\nC:\\Users\\WINDOW_USER_NAME\\AndroidStudio2.1\\config\\options\n\nopen jdk.table.xml\n\n3. replace all with your JDK version , in my case replaced all with :\n\n   C:/Program Files/Java/jdk1.8.0_101\n\n4. re-open android-studio\n\n5. Sync","title":"Android Studio JDK location changes back to 1.7 every time it is updated to 1.8 path","body":"<ol>\n<li><p>close android studio</p>\n</li>\n<li><p>go to :</p>\n</li>\n</ol>\n<p>C:\\Users\\WINDOW_USER_NAME\\AndroidStudio2.1\\config\\options</p>\n<p>open jdk.table.xml</p>\n<ol start=\"3\">\n<li><p>replace all with your JDK version , in my case replaced all with :</p>\n<p>C:/Program Files/Java/jdk1.8.0_101</p>\n</li>\n<li><p>re-open android-studio</p>\n</li>\n<li><p>Sync</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1025144,"reputation":1831,"user_id":1034622,"accept_rate":62,"display_name":"Pablo Chvx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510093086,"creation_date":1510093086,"answer_id":47168354,"question_id":38066957,"body_markdown":"Only this answer work out for me:\r\nhttps://stackoverflow.com/a/34199964/1034622\r\n\r\nBoth, the android SDK and the JDK folders must not contain spaces.\r\n","title":"Android Studio JDK location changes back to 1.7 every time it is updated to 1.8 path","body":"<p>Only this answer work out for me:\n<a href=\"https://stackoverflow.com/a/34199964/1034622\">https://stackoverflow.com/a/34199964/1034622</a></p>\n\n<p>Both, the android SDK and the JDK folders must not contain spaces.</p>\n"},{"tags":[],"owner":{"account_id":128422,"reputation":1597,"user_id":326242,"display_name":"Andrew Koster"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562637852,"creation_date":1562637852,"answer_id":56944456,"question_id":38066957,"body_markdown":"1) Add this to your app build.gradle (inside the android element)\r\n\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n\r\nI copied this from https://stackoverflow.com/a/51032051/326242 . Credit goes to the person who posted that (https://stackoverflow.com/users/2910520/matpag), but the correct answer isn&#39;t posted anywhere on this question.","title":"Android Studio JDK location changes back to 1.7 every time it is updated to 1.8 path","body":"<p>1) Add this to your app build.gradle (inside the android element)</p>\n\n<pre><code>compileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n}\n</code></pre>\n\n<p>I copied this from <a href=\"https://stackoverflow.com/a/51032051/326242\">https://stackoverflow.com/a/51032051/326242</a> . Credit goes to the person who posted that (<a href=\"https://stackoverflow.com/users/2910520/matpag\">https://stackoverflow.com/users/2910520/matpag</a>), but the correct answer isn't posted anywhere on this question.</p>\n"},{"tags":[],"owner":{"account_id":15998873,"reputation":61,"user_id":11546127,"display_name":"Chrisbin Sunny"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676625883,"creation_date":1676625883,"answer_id":75482365,"question_id":38066957,"body_markdown":"# 2023 Update\r\nI was trying to update from VERSION 1.8 to VERSION 11. Went through the answers here and found none working. I couldn&#39;t find the file at the specified location. The file has been changed in the newer releases.\r\n\r\n\r\n## New Solution:\r\n\r\n**Step 1:** Open the Android Studio and keep it open.\r\n\r\n**Step 2:**\r\nGo to the location given below:\r\n\r\n    C:\\Users\\{username}\\AppData\\Roaming\\Google\\AndroidStudio2022.1\\options\r\n\r\nor press `Win + R` and enter the following:\r\n\r\n    %userprofile%\\AppData\\Roaming\\Google\\AndroidStudio2022.1\\options\r\nYour latest version of Android Studio might be different.\r\n\r\n**Step 3:** Delete the file `jdk.table.xml` from the options folder.\r\n\r\n**Step 4:** Change the Gradle JDK to the new JDK in the settings, so that the Studio can save the new path in the file. (Important: Else Studio assigns JDK from it&#39;s memory)\r\n\r\n**Step 5:** Restart Android Studio.\r\n\r\nThis fixed the issue for me. The newly created `jdk.table.xml` will have the updated JDK values.","title":"Android Studio JDK location changes back to 1.7 every time it is updated to 1.8 path","body":"<h1>2023 Update</h1>\n<p>I was trying to update from VERSION 1.8 to VERSION 11. Went through the answers here and found none working. I couldn't find the file at the specified location. The file has been changed in the newer releases.</p>\n<h2>New Solution:</h2>\n<p><strong>Step 1:</strong> Open the Android Studio and keep it open.</p>\n<p><strong>Step 2:</strong>\nGo to the location given below:</p>\n<pre><code>C:\\Users\\{username}\\AppData\\Roaming\\Google\\AndroidStudio2022.1\\options\n</code></pre>\n<p>or press <code>Win + R</code> and enter the following:</p>\n<pre><code>%userprofile%\\AppData\\Roaming\\Google\\AndroidStudio2022.1\\options\n</code></pre>\n<p>Your latest version of Android Studio might be different.</p>\n<p><strong>Step 3:</strong> Delete the file <code>jdk.table.xml</code> from the options folder.</p>\n<p><strong>Step 4:</strong> Change the Gradle JDK to the new JDK in the settings, so that the Studio can save the new path in the file. (Important: Else Studio assigns JDK from it's memory)</p>\n<p><strong>Step 5:</strong> Restart Android Studio.</p>\n<p>This fixed the issue for me. The newly created <code>jdk.table.xml</code> will have the updated JDK values.</p>\n"}],"owner":{"account_id":895708,"reputation":7032,"user_id":933050,"accept_rate":65,"display_name":"Asim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9813,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":38067170,"answer_count":7,"score":19,"last_activity_date":1676625883,"creation_date":1467087329,"question_id":38066957,"body_markdown":"I recently installed jdk 1.8 u92 after Android Studio said it is needed for api24 builds. However, I&#39;ve run into this issue now.\r\n\r\nI looked at some other solutions and uninstalled jdk 1.7, added environment variables for JDK_HOME, JAVA_HOME, and JAVA8_HOME. The problem still persists.\r\n\r\nEvery time I try to build the app, gradle sync fails and Android studio asks me to **Choose a valid JDK directory**. I then go to **Project Structure =&gt; JDK Location** and update it to the 1.8 folder. Trying to build again gives the same error and when I check the Project Structure, the path is set back to the old JDK 1.7 automatically.\r\n\r\nIs there any fix for this issue?","title":"Android Studio JDK location changes back to 1.7 every time it is updated to 1.8 path","body":"<p>I recently installed jdk 1.8 u92 after Android Studio said it is needed for api24 builds. However, I've run into this issue now.</p>\n\n<p>I looked at some other solutions and uninstalled jdk 1.7, added environment variables for JDK_HOME, JAVA_HOME, and JAVA8_HOME. The problem still persists.</p>\n\n<p>Every time I try to build the app, gradle sync fails and Android studio asks me to <strong>Choose a valid JDK directory</strong>. I then go to <strong>Project Structure => JDK Location</strong> and update it to the 1.8 folder. Trying to build again gives the same error and when I check the Project Structure, the path is set back to the old JDK 1.7 automatically.</p>\n\n<p>Is there any fix for this issue?</p>\n"},{"tags":["java","class","listview","intellij-idea","javafx"],"comments":[{"owner":{"account_id":3938593,"reputation":233,"user_id":3254023,"display_name":"Calfa"},"score":0,"creation_date":1676625111,"post_id":75482109,"comment_id":133178773,"body_markdown":"I&#39;m not very familiar with JavaFX, but what I do in this cases os to pass the content of the listview to the other controller by creating a &quot;setup&quot; (or whatever you want to call it) method. So just before I load the scene, I get its controller and call the setup method and pass whatever I will need there (in your case, the content of the listview). Hope it helps!","body":"I&#39;m not very familiar with JavaFX, but what I do in this cases os to pass the content of the listview to the other controller by creating a &quot;setup&quot; (or whatever you want to call it) method. So just before I load the scene, I get its controller and call the setup method and pass whatever I will need there (in your case, the content of the listview). Hope it helps!"}],"answers":[{"tags":[],"owner":{"account_id":19179,"reputation":4543,"user_id":44715,"accept_rate":81,"display_name":"Riho"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1676625345,"creation_date":1676625345,"answer_id":75482277,"question_id":75482109,"body_markdown":"I don&#39;t see anywhere where you are declaring listtaking:\r\n\r\n    listtaking = new ListView&lt;Items&gt;();\r\n    \r\nMaybe that&#39;s an issue. ","title":"How to access elements of a Listview from another class?","body":"<p>I don't see anywhere where you are declaring listtaking:</p>\n<pre><code>listtaking = new ListView&lt;Items&gt;();\n</code></pre>\n<p>Maybe that's an issue.</p>\n"}],"owner":{"account_id":24893754,"reputation":9,"user_id":18765296,"display_name":"Cristian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1676631083,"answer_count":1,"score":-1,"last_activity_date":1676625345,"creation_date":1676624276,"question_id":75482109,"body_markdown":"I want to gather what&#39;s in one listview. Write that information to a file. Read the file and display it&#39;s contents back into another listview. Currently I am struggling with accessing a listview in another class to be able to iterate through it and write to a file. Listview &quot;temp&quot; is returning null.\r\n\r\n    public void writeToFile(String file, Controller controller) throws IOException {\r\n            FileWriter fw = new FileWriter(file, true);\r\n            BufferedWriter bw = new BufferedWriter(fw);\r\n            ListView&lt;Items&gt; temp = controller.getListtaking();\r\n            System.out.print(temp);\r\n            for (int i = 0; i &lt; temp.getItems().size(); i++) {\r\n                bw.write(temp.getItems().get(i) + &quot;,\\r&quot;);\r\n            }\r\n            bw.write(totalorder+ &quot;\\r&quot;);\r\n            bw.write(&quot;;\\r&quot;);\r\n            bw.close();\r\n        } \r\n           // This is one class\r\n\r\n    Controller controller;\r\n        public ListView&lt;Items&gt; getListtaking() {\r\n           return listtaking;\r\n        }\r\n        public void OrderIn(ActionEvent actionEvent) throws IOException {\r\n            Orders orderin = new Orders(total);\r\n            totalorder = total;\r\n            System.out.println(orderin.totalcost);\r\n            System.out.println(orderin);\r\n            System.out.println(listtaking.getItems());\r\n            listcurrent.getItems().add(orderin);\r\n            listorder = listtaking;\r\n            String FileName = String.valueOf(Orders.ordernumber);\r\n            new File(FileName + &quot;.txt&quot;);\r\n            ObservableList&lt;Items&gt; myList = listtaking.getItems();\r\n            for (Items i : myList) {\r\n                i.writeToFile(FileName,controller);\r\n            }\r\n            listtaking.getItems().clear(); // This is another class\r\n`","title":"How to access elements of a Listview from another class?","body":"<p>I want to gather what's in one listview. Write that information to a file. Read the file and display it's contents back into another listview. Currently I am struggling with accessing a listview in another class to be able to iterate through it and write to a file. Listview &quot;temp&quot; is returning null.</p>\n<pre><code>public void writeToFile(String file, Controller controller) throws IOException {\n        FileWriter fw = new FileWriter(file, true);\n        BufferedWriter bw = new BufferedWriter(fw);\n        ListView&lt;Items&gt; temp = controller.getListtaking();\n        System.out.print(temp);\n        for (int i = 0; i &lt; temp.getItems().size(); i++) {\n            bw.write(temp.getItems().get(i) + &quot;,\\r&quot;);\n        }\n        bw.write(totalorder+ &quot;\\r&quot;);\n        bw.write(&quot;;\\r&quot;);\n        bw.close();\n    } \n       // This is one class\n\nController controller;\n    public ListView&lt;Items&gt; getListtaking() {\n       return listtaking;\n    }\n    public void OrderIn(ActionEvent actionEvent) throws IOException {\n        Orders orderin = new Orders(total);\n        totalorder = total;\n        System.out.println(orderin.totalcost);\n        System.out.println(orderin);\n        System.out.println(listtaking.getItems());\n        listcurrent.getItems().add(orderin);\n        listorder = listtaking;\n        String FileName = String.valueOf(Orders.ordernumber);\n        new File(FileName + &quot;.txt&quot;);\n        ObservableList&lt;Items&gt; myList = listtaking.getItems();\n        for (Items i : myList) {\n            i.writeToFile(FileName,controller);\n        }\n        listtaking.getItems().clear(); // This is another class\n</code></pre>\n<p>`</p>\n"},{"tags":["java","string","string-pool"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1676621112,"post_id":75481243,"comment_id":133177689,"body_markdown":"Please see my answer to this: https://stackoverflow.com/questions/35226642","body":"Please see my answer to this: <a href=\"https://stackoverflow.com/questions/35226642\">stackoverflow.com/questions/35226642</a>"}],"answers":[{"tags":[],"owner":{"account_id":19680594,"reputation":149,"user_id":14407807,"display_name":"Farha Mansuri"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676619604,"creation_date":1676619604,"answer_id":75481393,"question_id":75481243,"body_markdown":"String a = &quot;hello&quot;; &lt;br&gt; \r\nJVM will create one string in the string pool. (FIRST STRING IN POOL)\r\n\r\nNow, here comes the tricky part&gt; &lt;br&gt;\r\nb = a + &quot;bye&quot;;\r\n\r\nInternally + operator uses StringBuffer for concatenating strings. &lt;br&gt;\r\nString b= new StringBuilder(a).append(&quot;bye&quot;).toString(); &lt;br&gt;(The toString() method of StringBuilder is returning a new String which will be definitely in the Heap since it is created with new String(...). So &quot;bye&quot; will be SECOND STRING IN POOL.)\r\n\r\nNow, \r\nb=&quot;hellobye&quot; (&quot;hellobye&quot; will be THIRD STRING IN POOL)","title":"How many Strings are formed?","body":"<p>String a = &quot;hello&quot;; <br>\nJVM will create one string in the string pool. (FIRST STRING IN POOL)</p>\n<p>Now, here comes the tricky part&gt; <br>\nb = a + &quot;bye&quot;;</p>\n<p>Internally + operator uses StringBuffer for concatenating strings. <br>\nString b= new StringBuilder(a).append(&quot;bye&quot;).toString(); <br>(The toString() method of StringBuilder is returning a new String which will be definitely in the Heap since it is created with new String(...). So &quot;bye&quot; will be SECOND STRING IN POOL.)</p>\n<p>Now,\nb=&quot;hellobye&quot; (&quot;hellobye&quot; will be THIRD STRING IN POOL)</p>\n"},{"tags":[],"owner":{"account_id":13093531,"reputation":11,"user_id":9460150,"display_name":"Pankaj Yadav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676619645,"creation_date":1676619645,"answer_id":75481402,"question_id":75481243,"body_markdown":" - First string &quot;hello&quot; is created and added to the string pool.\r\n - Next, the String &quot;Bye&quot; is created and added to the string pool.\r\n - The concatenation of a and &quot;Bye&quot; results in a new String &quot;helloBye&quot;, \r\n   which is also added to the string pool.\r\n - A total of 3 Strings will be created in the pool: &quot;hello&quot;, &quot;Bye&quot;,\r\n   and &quot;helloBye&quot;.\r\n\r\nWhen you create a new StringBuilder and append a string to it, the resulting string will not be added to the string pool. Instead, a new String object will be created in the heap memory to represent the combined string.\r\n\r\nSo, the code new StringBuilder(a).append(&quot;bye&quot;) will create one new String object in the heap memory to represent the combined string and one string in pool for &quot;a&quot;. ","title":"How many Strings are formed?","body":"<ul>\n<li>First string &quot;hello&quot; is created and added to the string pool.</li>\n<li>Next, the String &quot;Bye&quot; is created and added to the string pool.</li>\n<li>The concatenation of a and &quot;Bye&quot; results in a new String &quot;helloBye&quot;,\nwhich is also added to the string pool.</li>\n<li>A total of 3 Strings will be created in the pool: &quot;hello&quot;, &quot;Bye&quot;,\nand &quot;helloBye&quot;.</li>\n</ul>\n<p>When you create a new StringBuilder and append a string to it, the resulting string will not be added to the string pool. Instead, a new String object will be created in the heap memory to represent the combined string.</p>\n<p>So, the code new StringBuilder(a).append(&quot;bye&quot;) will create one new String object in the heap memory to represent the combined string and one string in pool for &quot;a&quot;.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676625132,"creation_date":1676624719,"answer_id":75482179,"question_id":75481243,"body_markdown":"The only part of your question that can be answered with complete certainty is this:\r\n\r\n&gt;  Does append method create the appending strings in the string pool?\r\n\r\nThe answer is No.  The result of a string concatenation that is not a *constant expression* is not placed in the string pool.  At least not in any implementation of mainstream Java to date.  However, there is no specification that actually guarantees this.\r\n\r\nThere are a couple of reasons why we don&#39;t know **for sure** how many strings are &quot;formed&quot;.\r\n\r\n  1.  We don&#39;t know when the `String` objects corresponding to the literals are actually created.  In some Java implementation they will be created (and interned) when the code is loaded.  In others, the string creation could occur the first time this code is run.\r\n\r\n  2.  We don&#39;t know whether one or both of those literals are used by another class ... and hence whether this code is &quot;forming&quot; them.\r\n\r\n  3.  Depending on the Java implementation, interning a string (to put it in the string pool) may result in a new `String` object being created.  So you might get a scenario where two `String` objects get &quot;formed&quot; for each literal.\r\n\r\nIn short there is enough ambiguity that we cannot be 100% sure of the precise number of strings that are created during the execution of that code.\r\n\r\nDoes it matter that we don&#39;t know for sure?\r\n\r\nFrankly, no.  It should make zero difference to the way that you write your code&lt;sup&gt;1&lt;/sup&gt;.  Let the Java compiler and runtime take care of it ... and use a recent version of Java to get the benefit of the work they have done on optimizing this.\r\n\r\n&lt;sup&gt;1 - But it is still wise to avoid string concatenation loops.   I don&#39;t know if they can be optimized.&lt;/sup&gt;\r\n\r\n-------------------\r\n\r\nIn your commented version you wrote:\r\n\r\n    String a = &quot;hello&quot;;     // hello is created in string pool\r\n    String b = a + &quot;bye&quot;;   // new StringBuilder(a).append(&quot;bye&quot;) \r\n\r\nBoth of those comments are questionable:\r\n\r\n - The &quot;hello is created in string pool&quot; comment is questionable for reasons that I gave above.\r\n\r\n - The `new StringBuilder(a).append(&quot;bye&quot;)` pseudo-code is questionable because that is an implementation detail.  In Java 9 and later, expressions that involve string concatenations are translated to a `invokedynamic` bytecode.  The JIT compiler generates native instructions directly.  See https://stackoverflow.com/questions/40267601 for more information.\r\n\r\n","title":"How many Strings are formed?","body":"<p>The only part of your question that can be answered with complete certainty is this:</p>\n<blockquote>\n<p>Does append method create the appending strings in the string pool?</p>\n</blockquote>\n<p>The answer is No.  The result of a string concatenation that is not a <em>constant expression</em> is not placed in the string pool.  At least not in any implementation of mainstream Java to date.  However, there is no specification that actually guarantees this.</p>\n<p>There are a couple of reasons why we don't know <strong>for sure</strong> how many strings are &quot;formed&quot;.</p>\n<ol>\n<li><p>We don't know when the <code>String</code> objects corresponding to the literals are actually created.  In some Java implementation they will be created (and interned) when the code is loaded.  In others, the string creation could occur the first time this code is run.</p>\n</li>\n<li><p>We don't know whether one or both of those literals are used by another class ... and hence whether this code is &quot;forming&quot; them.</p>\n</li>\n<li><p>Depending on the Java implementation, interning a string (to put it in the string pool) may result in a new <code>String</code> object being created.  So you might get a scenario where two <code>String</code> objects get &quot;formed&quot; for each literal.</p>\n</li>\n</ol>\n<p>In short there is enough ambiguity that we cannot be 100% sure of the precise number of strings that are created during the execution of that code.</p>\n<p>Does it matter that we don't know for sure?</p>\n<p>Frankly, no.  It should make zero difference to the way that you write your code<sup>1</sup>.  Let the Java compiler and runtime take care of it ... and use a recent version of Java to get the benefit of the work they have done on optimizing this.</p>\n<p><sup>1 - But it is still wise to avoid string concatenation loops.   I don't know if they can be optimized.</sup></p>\n<hr />\n<p>In your commented version you wrote:</p>\n<pre><code>String a = &quot;hello&quot;;     // hello is created in string pool\nString b = a + &quot;bye&quot;;   // new StringBuilder(a).append(&quot;bye&quot;) \n</code></pre>\n<p>Both of those comments are questionable:</p>\n<ul>\n<li><p>The &quot;hello is created in string pool&quot; comment is questionable for reasons that I gave above.</p>\n</li>\n<li><p>The <code>new StringBuilder(a).append(&quot;bye&quot;)</code> pseudo-code is questionable because that is an implementation detail.  In Java 9 and later, expressions that involve string concatenations are translated to a <code>invokedynamic</code> bytecode.  The JIT compiler generates native instructions directly.  See <a href=\"https://stackoverflow.com/questions/40267601\">How much does Java optimize string concatenation with +?</a> for more information.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":16883170,"reputation":11,"user_id":12208647,"display_name":"Joshua Samuel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1676626329,"answer_count":3,"score":-1,"last_activity_date":1676625132,"creation_date":1676618617,"question_id":75481243,"body_markdown":"```\r\nString a=&quot;hello&quot;;\r\nString b=a+&quot;Bye&quot;;\r\n```\r\nHow many Strings are formed?\r\n\r\nFrom my understanding of Java. \r\nWhat happens in this code is:\r\n```\r\nString a=&quot;hello&quot;; // hello is created in string pool\r\nString b=a+&quot;bye&quot;; // new StringBuilder(a).append(&quot;bye&quot;) \r\n```\r\nSo totally 2 strings are to be created, right?\r\n```\r\n1.Hello\r\n2.HelloBye (In the Heap)\r\n```\r\nOr does Java create 3?\r\n```\r\n1.Hello\r\n2.Bye\r\n3.HelloBye\r\n```\r\nIf this is the case, does append method create the appending strings in the string pool?","title":"How many Strings are formed?","body":"<pre><code>String a=&quot;hello&quot;;\nString b=a+&quot;Bye&quot;;\n</code></pre>\n<p>How many Strings are formed?</p>\n<p>From my understanding of Java.\nWhat happens in this code is:</p>\n<pre><code>String a=&quot;hello&quot;; // hello is created in string pool\nString b=a+&quot;bye&quot;; // new StringBuilder(a).append(&quot;bye&quot;) \n</code></pre>\n<p>So totally 2 strings are to be created, right?</p>\n<pre><code>1.Hello\n2.HelloBye (In the Heap)\n</code></pre>\n<p>Or does Java create 3?</p>\n<pre><code>1.Hello\n2.Bye\n3.HelloBye\n</code></pre>\n<p>If this is the case, does append method create the appending strings in the string pool?</p>\n"},{"tags":["java","spring","spring-boot","logging","logback"],"comments":[{"owner":{"account_id":114737,"reputation":1746,"user_id":3719412,"display_name":"cool"},"score":0,"creation_date":1676634096,"post_id":75482031,"comment_id":133181319,"body_markdown":"What is the reason to create a separate log file for each request that is rather strange?","body":"What is the reason to create a separate log file for each request that is rather strange?"},{"owner":{"account_id":20026709,"reputation":351,"user_id":14680375,"display_name":"BlackC"},"score":0,"creation_date":1676704464,"post_id":75482031,"comment_id":133194919,"body_markdown":"There is not need to creating a log for each request. Add a request id that is only for each  request . By request id you can filter logs that belong specify request.","body":"There is not need to creating a log for each request. Add a request id that is only for each  request . By request id you can filter logs that belong specify request."},{"owner":{"account_id":27485249,"reputation":11,"user_id":20971616,"display_name":"EV Experience"},"score":0,"creation_date":1676875156,"post_id":75482031,"comment_id":133218260,"body_markdown":"Reason behind this is to generate 1 log file for each batch that we are going to process with one request.","body":"Reason behind this is to generate 1 log file for each batch that we are going to process with one request."}],"owner":{"account_id":27485249,"reputation":11,"user_id":20971616,"display_name":"EV Experience"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":599,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676623749,"creation_date":1676623749,"question_id":75482031,"body_markdown":"With respect to my spring boot app below is my logback spring xml file\r\n\r\n```\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE configuration&gt;\r\n&lt;configuration&gt;\r\n\r\n    &lt;springProperty scope=&quot;context&quot; name=&quot;app_name&quot; source=&quot;spring.application.name&quot;/&gt;\r\n    &lt;springProperty scope=&quot;context&quot; name=&quot;environment&quot; source=&quot;param_env&quot; defaultValue=&quot;default_env&quot;/&gt;\r\n    &lt;springProperty scope=&quot;context&quot; name=&quot;tenant&quot; source=&quot;param_tenant&quot; defaultValue=&quot;default_tenant&quot;/&gt;\r\n\r\n    &lt;property name=&quot;GENERIC_PATTERN&quot;\r\n              value=&quot;[%date{ISO8601}] [%p] [%t] [%c{2}] %4L | %m%n&quot;/&gt;\r\n    &lt;property name=&quot;CONSOLE_LOG_PATTERN&quot; value=&quot;$GENERIC_PATTERN&quot;/&gt;\r\n    &lt;property name=&quot;CHARSET&quot; value=&quot;UTF-8&quot;/&gt;\r\n\r\n    &lt;property name=&quot;LOG_DIR&quot;\r\n              value=&quot;logs/${tenantname:-${tenant}}/${envname:-${environment}}/${param_gslogname:-${app_name}}&quot;/&gt;\r\n\r\n    &lt;logger name=&quot;org.springframework&quot; level=&quot;INFO&quot;/&gt;\r\n    &lt;logger name=&quot;org.springframework.web&quot; level=&quot;INFO&quot;/&gt;\r\n    &lt;logger name=&quot;org.gs&quot; level=&quot;INFO&quot;/&gt;\r\n    &lt;logger name=&quot;com.gs&quot; level=&quot;INFO&quot;/&gt;\r\n    &lt;logger name=&quot;liquibase&quot; level=&quot;FINE&quot;/&gt;\r\n    &lt;logger name=&quot;org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor&quot;\r\n            level=&quot;INFO&quot;/&gt;\r\n\r\n    &lt;logger name=&quot;org.springframework.security&quot; level=&quot;INFO&quot;/&gt;\r\n    &lt;logger name=&quot;org.hibernate&quot; level=&quot;INFO&quot;/&gt;\r\n\r\n    &lt;!-- Auto configuration report--&gt;\r\n    &lt;logger name=&quot;org.springframework.boot.autoconfigure&quot; level=&quot;DEBUG&quot;/&gt;\r\n    &lt;logger name=&quot;org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener&quot;\r\n            level=&quot;TRACE&quot;/&gt;\r\n\r\n    &lt;springProfile name=&quot;local,component-test,component-test-security,scheduler-test&quot;&gt;\r\n\r\n        &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n            &lt;encoder&gt;\r\n                &lt;charset&gt;${CHARSET}&lt;/charset&gt;\r\n                &lt;pattern&gt;${GENERIC_PATTERN}&lt;/pattern&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n\r\n        &lt;logger name=&quot;zuul.web.request.logger&quot; level=&quot;DEBUG&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\r\n        &lt;/logger&gt;\r\n\r\n        &lt;root level=&quot;INFO&quot;&gt;\r\n            &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\r\n        &lt;/root&gt;\r\n\r\n    &lt;/springProfile&gt;\r\n\r\n    &lt;!-- logging configuration for NOT LOCAL profile --&gt;\r\n    &lt;springProfile name=&quot;local, dev, test, uat, preprod, prod, perf&quot;&gt;\r\n        &lt;appender name=&quot;FILE-THREAD&quot; class=&quot;ch.qos.logback.classic.sift.SiftingAppender&quot;&gt;\r\n        &lt;!-- This is MDC value --&gt;\r\n        &lt;!-- We will assign a value to &#39;logFileName&#39; via Java code --&gt;\r\n        &lt;discriminator&gt;\r\n            &lt;key&gt;logFileName&lt;/key&gt;\r\n            &lt;defaultValue&gt;head0&lt;/defaultValue&gt;\r\n        &lt;/discriminator&gt;\r\n\r\n        &lt;sift&gt;\r\n            &lt;!-- A standard RollingFileAppender, the log file is based on &#39;logFileName&#39; at runtime  --&gt;\r\n            &lt;appender name=&quot;FILE-${logFileName}&quot;\r\n                      class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n                &lt;file&gt;/Users/${logFileName}.log&lt;/file&gt;\r\n\r\n                &lt;encoder class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\r\n                    &lt;Pattern&gt;\r\n                        %d{yyyy-MM-dd HH:mm:ss} %mdc [%thread] %level %logger{35} - %msg%n\r\n                    &lt;/Pattern&gt;\r\n                &lt;/encoder&gt;\r\n\r\n                &lt;rollingPolicy\r\n                        class=&quot;ch.qos.logback.core.rolling.FixedWindowRollingPolicy&quot;&gt;\r\n                    &lt;FileNamePattern&gt;/Users/${logFileName}.%i.log.zip\r\n                    &lt;/FileNamePattern&gt;\r\n                    &lt;MinIndex&gt;1&lt;/MinIndex&gt;\r\n                    &lt;MaxIndex&gt;10&lt;/MaxIndex&gt;\r\n                &lt;/rollingPolicy&gt;\r\n\r\n                &lt;triggeringPolicy\r\n                        class=&quot;ch.qos.logback.core.rolling.SizeBasedTriggeringPolicy&quot;&gt;\r\n                    &lt;MaxFileSize&gt;10MB&lt;/MaxFileSize&gt;\r\n                &lt;/triggeringPolicy&gt;\r\n\r\n            &lt;/appender&gt;\r\n\r\n \r\n        &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n            &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\r\n                &lt;Pattern&gt;\r\n                    %-5level %logger{36} - %msg%n\r\n                &lt;/Pattern&gt;\r\n            &lt;/layout&gt;\r\n        &lt;/appender&gt;\r\n\r\n        &lt;logger name=&quot;com.dt.rdk.factory.data.deploy&quot; level=&quot;debug&quot;\r\n                additivity=&quot;false&quot;&gt;\r\n            &lt;appender-ref ref=&quot;FILE-THREAD&quot; /&gt;\r\n            &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n        &lt;/logger&gt;\r\n\r\n        &lt;root level=&quot;error&quot;&gt;\r\n            &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n        &lt;/root&gt;\r\n        &lt;root level=&quot;INFO&quot;&gt;\r\n            &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\r\n            &lt;appender-ref ref=&quot;FILE-THREAD&quot;/&gt;\r\n \r\n        &lt;/root&gt;\r\n\r\n    &lt;/springProfile&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nAnd below is the tried approach that I have implemented to create the log file per thread so I am considering this same as creating log file for every request since these are similar so.\r\n\r\nbelow is my code which I have implemented :\r\n\r\n```\r\npublic class Head implements Runnable {\r\n\r\n\tstatic Logger logger = LoggerFactory.getLogger(Head.class);\r\n\r\n\tprivate String name;\r\n\t\r\n\t@Override\r\n\tpublic void run() {\r\n\r\n\t\tMDC.put(&quot;logFileName&quot;, getName());\r\n\r\n\t\tlogger.info(&quot;batch get request recieved&quot;);\r\n\r\n\t\t//remember remove this\r\n\t\tMDC.remove(&quot;logFileName&quot;);\r\n\r\n\t}\r\n\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n```\r\npublic class DataApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(DataApplication.class, args);\r\n    }\r\n\r\n    @Bean\r\n    ApplicationRunner applicationRunner(\r\n    ) {\r\n        ThreadPoolExecutor threadPools = (ThreadPoolExecutor) Executors.newFixedThreadPool(10);\r\n        int count = 1;\r\n        while(count&lt;=10){\r\n            Head head = new Head();\r\n            head.setName(&quot;head-&quot; + count);\r\n            threadPools.execute(head);\r\n            count++;\r\n        }\r\n        return args -&gt; {\r\n             \r\n            System.out.println(&quot;something&quot;);\r\n\r\n\r\n        };\r\n    }\r\n}\r\n```\r\n\r\nI am able to generate the log file for each thread as shown below\r\n\r\n[enter image description here][1]\r\n\r\n\r\n\r\n\r\nI have tried this approach to generate the file and I am sure with this we can generate file for each request as well with the help of descriminator \r\n\r\nbut\r\n\r\n **my issue is how will I be able to put lot of logs messages inside these log files for each request? Since my application has lot of logs messages, so any good approach to implement this ?**\r\n \r\nAlso my issue is how can I put multiple descriminator for implementing this \r\n\r\nI was wondering how would I be able to transfer the logs between logback and the java code more frequently that too with creating logs for each new request and for old request it should write to same old log only.\r\n\r\n```\r\n  &lt;discriminator&gt;\r\n            &lt;key&gt;logFileName&lt;/key&gt;\r\n            &lt;defaultValue&gt;head0&lt;/defaultValue&gt;\r\n  &lt;/discriminator&gt;\r\n```\r\n\r\nAny example or github code would be highly appreciated.\r\n\r\nthank you so much\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TTIGl.png","title":"Creating log file for each request in spring boot using logback xml file","body":"<p>With respect to my spring boot app below is my logback spring xml file</p>\n<pre><code>\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE configuration&gt;\n&lt;configuration&gt;\n\n    &lt;springProperty scope=&quot;context&quot; name=&quot;app_name&quot; source=&quot;spring.application.name&quot;/&gt;\n    &lt;springProperty scope=&quot;context&quot; name=&quot;environment&quot; source=&quot;param_env&quot; defaultValue=&quot;default_env&quot;/&gt;\n    &lt;springProperty scope=&quot;context&quot; name=&quot;tenant&quot; source=&quot;param_tenant&quot; defaultValue=&quot;default_tenant&quot;/&gt;\n\n    &lt;property name=&quot;GENERIC_PATTERN&quot;\n              value=&quot;[%date{ISO8601}] [%p] [%t] [%c{2}] %4L | %m%n&quot;/&gt;\n    &lt;property name=&quot;CONSOLE_LOG_PATTERN&quot; value=&quot;$GENERIC_PATTERN&quot;/&gt;\n    &lt;property name=&quot;CHARSET&quot; value=&quot;UTF-8&quot;/&gt;\n\n    &lt;property name=&quot;LOG_DIR&quot;\n              value=&quot;logs/${tenantname:-${tenant}}/${envname:-${environment}}/${param_gslogname:-${app_name}}&quot;/&gt;\n\n    &lt;logger name=&quot;org.springframework&quot; level=&quot;INFO&quot;/&gt;\n    &lt;logger name=&quot;org.springframework.web&quot; level=&quot;INFO&quot;/&gt;\n    &lt;logger name=&quot;org.gs&quot; level=&quot;INFO&quot;/&gt;\n    &lt;logger name=&quot;com.gs&quot; level=&quot;INFO&quot;/&gt;\n    &lt;logger name=&quot;liquibase&quot; level=&quot;FINE&quot;/&gt;\n    &lt;logger name=&quot;org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor&quot;\n            level=&quot;INFO&quot;/&gt;\n\n    &lt;logger name=&quot;org.springframework.security&quot; level=&quot;INFO&quot;/&gt;\n    &lt;logger name=&quot;org.hibernate&quot; level=&quot;INFO&quot;/&gt;\n\n    &lt;!-- Auto configuration report--&gt;\n    &lt;logger name=&quot;org.springframework.boot.autoconfigure&quot; level=&quot;DEBUG&quot;/&gt;\n    &lt;logger name=&quot;org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener&quot;\n            level=&quot;TRACE&quot;/&gt;\n\n    &lt;springProfile name=&quot;local,component-test,component-test-security,scheduler-test&quot;&gt;\n\n        &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n            &lt;encoder&gt;\n                &lt;charset&gt;${CHARSET}&lt;/charset&gt;\n                &lt;pattern&gt;${GENERIC_PATTERN}&lt;/pattern&gt;\n            &lt;/encoder&gt;\n        &lt;/appender&gt;\n\n        &lt;logger name=&quot;zuul.web.request.logger&quot; level=&quot;DEBUG&quot; additivity=&quot;false&quot;&gt;\n            &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\n        &lt;/logger&gt;\n\n        &lt;root level=&quot;INFO&quot;&gt;\n            &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\n        &lt;/root&gt;\n\n    &lt;/springProfile&gt;\n\n    &lt;!-- logging configuration for NOT LOCAL profile --&gt;\n    &lt;springProfile name=&quot;local, dev, test, uat, preprod, prod, perf&quot;&gt;\n        &lt;appender name=&quot;FILE-THREAD&quot; class=&quot;ch.qos.logback.classic.sift.SiftingAppender&quot;&gt;\n        &lt;!-- This is MDC value --&gt;\n        &lt;!-- We will assign a value to 'logFileName' via Java code --&gt;\n        &lt;discriminator&gt;\n            &lt;key&gt;logFileName&lt;/key&gt;\n            &lt;defaultValue&gt;head0&lt;/defaultValue&gt;\n        &lt;/discriminator&gt;\n\n        &lt;sift&gt;\n            &lt;!-- A standard RollingFileAppender, the log file is based on 'logFileName' at runtime  --&gt;\n            &lt;appender name=&quot;FILE-${logFileName}&quot;\n                      class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n                &lt;file&gt;/Users/${logFileName}.log&lt;/file&gt;\n\n                &lt;encoder class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\n                    &lt;Pattern&gt;\n                        %d{yyyy-MM-dd HH:mm:ss} %mdc [%thread] %level %logger{35} - %msg%n\n                    &lt;/Pattern&gt;\n                &lt;/encoder&gt;\n\n                &lt;rollingPolicy\n                        class=&quot;ch.qos.logback.core.rolling.FixedWindowRollingPolicy&quot;&gt;\n                    &lt;FileNamePattern&gt;/Users/${logFileName}.%i.log.zip\n                    &lt;/FileNamePattern&gt;\n                    &lt;MinIndex&gt;1&lt;/MinIndex&gt;\n                    &lt;MaxIndex&gt;10&lt;/MaxIndex&gt;\n                &lt;/rollingPolicy&gt;\n\n                &lt;triggeringPolicy\n                        class=&quot;ch.qos.logback.core.rolling.SizeBasedTriggeringPolicy&quot;&gt;\n                    &lt;MaxFileSize&gt;10MB&lt;/MaxFileSize&gt;\n                &lt;/triggeringPolicy&gt;\n\n            &lt;/appender&gt;\n\n \n        &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n            &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\n                &lt;Pattern&gt;\n                    %-5level %logger{36} - %msg%n\n                &lt;/Pattern&gt;\n            &lt;/layout&gt;\n        &lt;/appender&gt;\n\n        &lt;logger name=&quot;com.dt.rdk.factory.data.deploy&quot; level=&quot;debug&quot;\n                additivity=&quot;false&quot;&gt;\n            &lt;appender-ref ref=&quot;FILE-THREAD&quot; /&gt;\n            &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\n        &lt;/logger&gt;\n\n        &lt;root level=&quot;error&quot;&gt;\n            &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\n        &lt;/root&gt;\n        &lt;root level=&quot;INFO&quot;&gt;\n            &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\n            &lt;appender-ref ref=&quot;FILE-THREAD&quot;/&gt;\n \n        &lt;/root&gt;\n\n    &lt;/springProfile&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>And below is the tried approach that I have implemented to create the log file per thread so I am considering this same as creating log file for every request since these are similar so.</p>\n<p>below is my code which I have implemented :</p>\n<pre><code>public class Head implements Runnable {\n\n    static Logger logger = LoggerFactory.getLogger(Head.class);\n\n    private String name;\n    \n    @Override\n    public void run() {\n\n        MDC.put(&quot;logFileName&quot;, getName());\n\n        logger.info(&quot;batch get request recieved&quot;);\n\n        //remember remove this\n        MDC.remove(&quot;logFileName&quot;);\n\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n}\n\n</code></pre>\n<pre><code>public class DataApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DataApplication.class, args);\n    }\n\n    @Bean\n    ApplicationRunner applicationRunner(\n    ) {\n        ThreadPoolExecutor threadPools = (ThreadPoolExecutor) Executors.newFixedThreadPool(10);\n        int count = 1;\n        while(count&lt;=10){\n            Head head = new Head();\n            head.setName(&quot;head-&quot; + count);\n            threadPools.execute(head);\n            count++;\n        }\n        return args -&gt; {\n             \n            System.out.println(&quot;something&quot;);\n\n\n        };\n    }\n}\n</code></pre>\n<p>I am able to generate the log file for each thread as shown below</p>\n<p><a href=\"https://i.stack.imgur.com/TTIGl.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I have tried this approach to generate the file and I am sure with this we can generate file for each request as well with the help of descriminator</p>\n<p>but</p>\n<p><strong>my issue is how will I be able to put lot of logs messages inside these log files for each request? Since my application has lot of logs messages, so any good approach to implement this ?</strong></p>\n<p>Also my issue is how can I put multiple descriminator for implementing this</p>\n<p>I was wondering how would I be able to transfer the logs between logback and the java code more frequently that too with creating logs for each new request and for old request it should write to same old log only.</p>\n<pre><code>  &lt;discriminator&gt;\n            &lt;key&gt;logFileName&lt;/key&gt;\n            &lt;defaultValue&gt;head0&lt;/defaultValue&gt;\n  &lt;/discriminator&gt;\n</code></pre>\n<p>Any example or github code would be highly appreciated.</p>\n<p>thank you so much</p>\n"},{"tags":["java","spring-boot","gradle"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1676623687,"post_id":75481670,"comment_id":133178356,"body_markdown":"The term you&#39;re looking for, for Spring and Spring Boot, is profiles.","body":"The term you&#39;re looking for, for Spring and Spring Boot, is profiles."},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1676624411,"post_id":75481670,"comment_id":133178562,"body_markdown":"Does this answer your question? [Maven profiles equivalent of Gradle](https://stackoverflow.com/questions/40659986/maven-profiles-equivalent-of-gradle)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/40659986/maven-profiles-equivalent-of-gradle\">Maven profiles equivalent of Gradle</a>"},{"owner":{"account_id":12939238,"reputation":39,"user_id":21232216,"display_name":"lorenzo cavalieri"},"score":0,"creation_date":1676625863,"post_id":75481670,"comment_id":133178976,"body_markdown":"Ok, I tried to use the yaml option but it doesn&#39;t work, I saw the various comments on this post and no, I expressed myself badly sorry for wasting your time delete this post thanks again","body":"Ok, I tried to use the yaml option but it doesn&#39;t work, I saw the various comments on this post and no, I expressed myself badly sorry for wasting your time delete this post thanks again"}],"answers":[{"tags":[],"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676623670,"creation_date":1676622692,"answer_id":75481862,"question_id":75481670,"body_markdown":"With Spring Boot, you can add properties to your application by adding an file named `application.yaml` to your resources folder (src/resources/). In addition you can add properties through `application-{profile}.yaml` to add properties only for given Spring profiles. For instance `application-test.yaml` would only be read if &quot;test&quot; is an active profile. When booting up the application, Spring will first read `application.yaml`, then any profile-specific YAML-files, such that any overlapping properties are replaced.\r\n\r\nThere are several approaches to injecting the property. A simple solution is to add a field to your component annotated with `@Value(&quot;${PATH})` and replace PATH with the property&#39;s path in the YAML.","title":"How to use environment variables on a Spring Boot and Gradle application?","body":"<p>With Spring Boot, you can add properties to your application by adding an file named <code>application.yaml</code> to your resources folder (src/resources/). In addition you can add properties through <code>application-{profile}.yaml</code> to add properties only for given Spring profiles. For instance <code>application-test.yaml</code> would only be read if &quot;test&quot; is an active profile. When booting up the application, Spring will first read <code>application.yaml</code>, then any profile-specific YAML-files, such that any overlapping properties are replaced.</p>\n<p>There are several approaches to injecting the property. A simple solution is to add a field to your component annotated with <code>@Value(&quot;${PATH})</code> and replace PATH with the property's path in the YAML.</p>\n"}],"owner":{"account_id":12939238,"reputation":39,"user_id":21232216,"display_name":"lorenzo cavalieri"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":362,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676623670,"creation_date":1676621511,"question_id":75481670,"body_markdown":"I explain my problem;\r\n\r\nI have a web app developed using Vue.js and Spring Boot, this application working a PDF sheet and saves the file that is generated by Java, I use two lines of code to separate my development part from the production part (I leave you the 2 lines of code like this you understand the concept well)\r\n\r\n`FileReader leggoFile = new FileReader(System.getProperty(&quot;user.dir&quot;) + &quot;/temp/webapps/foolder/foolder/file.pdf&quot;); `\r\n\r\n`//   FileReader leggoFile = new FileReader(System.getProperty(&quot;catalina.base&quot;) + &quot;/temp/webapps/foolder/foolder/file.pdf&quot;);`\r\n\r\nThis whole application is built using the &quot;bootWar gradle plugin&quot; which returns me a .war which I will then upload to a Tomcat server;\r\n\r\nMy goal is this:\r\nI would like to set a single environment variable so that if I want to build the project I don&#39;t have to comment/uncomment that line for example:\r\n\r\n`FileReader leggoFile = new FileReader({{variableEnvironment}} + &quot;/temp/webapps/foolder/foolder/file.pdf&quot;)`\r\n\r\nmy question is this:\r\nHow dp Gradle and Spring Boot handle environments? Is there a way to separate environments? Is this possible or should I start thinking differently?\r\n\r\nI tried to search on something but unfortunately I was tied to the problem that I don&#39;t understand how the .war file is generated through the BootWar Gradle plugin, also searching on the internet I understood that environment Gradle and environment Spring are two separate things but in general even if I know the line of code is wrong in the beginning my question is always the same:\r\n\r\nHow are environment variables handled in Spring and Gradle?","title":"How to use environment variables on a Spring Boot and Gradle application?","body":"<p>I explain my problem;</p>\n<p>I have a web app developed using Vue.js and Spring Boot, this application working a PDF sheet and saves the file that is generated by Java, I use two lines of code to separate my development part from the production part (I leave you the 2 lines of code like this you understand the concept well)</p>\n<p><code>FileReader leggoFile = new FileReader(System.getProperty(&quot;user.dir&quot;) + &quot;/temp/webapps/foolder/foolder/file.pdf&quot;); </code></p>\n<p><code>//   FileReader leggoFile = new FileReader(System.getProperty(&quot;catalina.base&quot;) + &quot;/temp/webapps/foolder/foolder/file.pdf&quot;);</code></p>\n<p>This whole application is built using the &quot;bootWar gradle plugin&quot; which returns me a .war which I will then upload to a Tomcat server;</p>\n<p>My goal is this:\nI would like to set a single environment variable so that if I want to build the project I don't have to comment/uncomment that line for example:</p>\n<p><code>FileReader leggoFile = new FileReader({{variableEnvironment}} + &quot;/temp/webapps/foolder/foolder/file.pdf&quot;)</code></p>\n<p>my question is this:\nHow dp Gradle and Spring Boot handle environments? Is there a way to separate environments? Is this possible or should I start thinking differently?</p>\n<p>I tried to search on something but unfortunately I was tied to the problem that I don't understand how the .war file is generated through the BootWar Gradle plugin, also searching on the internet I understood that environment Gradle and environment Spring are two separate things but in general even if I know the line of code is wrong in the beginning my question is always the same:</p>\n<p>How are environment variables handled in Spring and Gradle?</p>\n"},{"tags":["java","database","hibernate","jdbc","odbc"],"answers":[{"tags":[],"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1676623648,"creation_date":1315000149,"answer_id":7289552,"question_id":7289121,"body_markdown":"**1)**\r\nODBC doesn&#39;t have &#39;driver types&#39; as java does. The main difference (and why Java has driver types) is that some drivers require native extensions which are not portable across different OSs/Architectures.\r\n\r\nFor example a JDBC driver type 1, has pure native bindings. So if you you have something running on Windows using this driver, you can&#39;t take you app and deploy it to linux as there is a binary incompatibility.\r\n\r\nA JDBC Driver type 4 is on the other side of the scale, and it&#39;s purely written in java, so it can run on any platform that can run a JVM, without the need of a service that translates calls (which is the case with Type 3 drivers).\r\n\r\nSo Type 1 is pure native, Type 4 is pure java, with different shades in the middle.\r\n\r\n**2)** You need to check the DB vendor driver. Can you say which DB you&#39;re using?\r\n\r\n**3)** LOB fields &quot;should&quot; work, but it depends on the driver too, it might have some odd limitations such as &quot;the driver cannot handle Lob fields larger than 4k).\r\n\r\n\r\nMy suggestion is to question the decision to use ODBC because of the following reasons:\r\n\r\n* Taken from the oracle site: *The JDBC-ODBC Bridge driver is recommended for use in prototyping efforts and for cases where no other JDBC technology-based driver exists*\r\n* from Wikipedia: *Compared to other driver types it&#39;s slow*\r\n* And you&#39;ll find similar comments on the other database-vendor websites, as the JDBC drivers have evolved *A LOT* in the last 12 (or more) years.\r\n* You are writing java, not VB.Net\r\n","title":"Using Hibernate via an ODBC connection","body":"<p><strong>1)</strong>\nODBC doesn't have 'driver types' as java does. The main difference (and why Java has driver types) is that some drivers require native extensions which are not portable across different OSs/Architectures.</p>\n<p>For example a JDBC driver type 1, has pure native bindings. So if you you have something running on Windows using this driver, you can't take you app and deploy it to linux as there is a binary incompatibility.</p>\n<p>A JDBC Driver type 4 is on the other side of the scale, and it's purely written in java, so it can run on any platform that can run a JVM, without the need of a service that translates calls (which is the case with Type 3 drivers).</p>\n<p>So Type 1 is pure native, Type 4 is pure java, with different shades in the middle.</p>\n<p><strong>2)</strong> You need to check the DB vendor driver. Can you say which DB you're using?</p>\n<p><strong>3)</strong> LOB fields &quot;should&quot; work, but it depends on the driver too, it might have some odd limitations such as &quot;the driver cannot handle Lob fields larger than 4k).</p>\n<p>My suggestion is to question the decision to use ODBC because of the following reasons:</p>\n<ul>\n<li>Taken from the oracle site: <em>The JDBC-ODBC Bridge driver is recommended for use in prototyping efforts and for cases where no other JDBC technology-based driver exists</em></li>\n<li>from Wikipedia: <em>Compared to other driver types it's slow</em></li>\n<li>And you'll find similar comments on the other database-vendor websites, as the JDBC drivers have evolved <em>A LOT</em> in the last 12 (or more) years.</li>\n<li>You are writing java, not VB.Net</li>\n</ul>\n"}],"owner":{"account_id":110346,"reputation":3589,"user_id":292023,"accept_rate":95,"display_name":"Ryan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4098,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":7289552,"answer_count":1,"score":1,"last_activity_date":1676623648,"creation_date":1314996881,"question_id":7289121,"body_markdown":"I need to use Hibernate over an ODBC connection (not my decision) and would like to know the caveats of doing so (if it is even possible?).  I have done some research and am slightly confused, hoping someone can clarify some points.  It seems as if I&#39;ll need to use a JDBC-ODBC bridge?\r\n\r\n[Wiki - JDBC/ODBC Bridge][1]\r\n  \r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/JDBC_driver#Type_1_Driver_-_JDBC-ODBC_bridge\r\n\r\n\r\n1.  This page is filled with different JDBC &quot;types&quot; (1-4).  From what I can understand, the implementation specific details of the driver increase with the type version?  ie. a type 1 ODBC driver can not support the same functions that a type 4 driver can?  It seems like an ODBC driver can not go past 1, whereas a JDBC driver (can) get to 4?\r\n\r\n2.  If the destination database has their own ODBC driver, what level of support is required to work?  Should I look through documentation to see if level 1, level N, etc. calls exist?\r\n\r\n3.  Similar to the above question, how can I ensure that LOB fields are going to work / break?  Does a level or certain SQL functions need to be implemented in the ODBC driver? \r\n\r\nUnfortunately I am at a bit of a disconnect in understanding what is required from hibernate, as I can find no documentation as to what it needs.  An explanation and/or documentation would be great.","title":"Using Hibernate via an ODBC connection","body":"<p>I need to use Hibernate over an ODBC connection (not my decision) and would like to know the caveats of doing so (if it is even possible?).  I have done some research and am slightly confused, hoping someone can clarify some points.  It seems as if I'll need to use a JDBC-ODBC bridge?</p>\n\n<p><a href=\"http://en.wikipedia.org/wiki/JDBC_driver#Type_1_Driver_-_JDBC-ODBC_bridge\" rel=\"nofollow\">Wiki - JDBC/ODBC Bridge</a></p>\n\n<ol>\n<li><p>This page is filled with different JDBC \"types\" (1-4).  From what I can understand, the implementation specific details of the driver increase with the type version?  ie. a type 1 ODBC driver can not support the same functions that a type 4 driver can?  It seems like an ODBC driver can not go past 1, whereas a JDBC driver (can) get to 4?</p></li>\n<li><p>If the destination database has their own ODBC driver, what level of support is required to work?  Should I look through documentation to see if level 1, level N, etc. calls exist?</p></li>\n<li><p>Similar to the above question, how can I ensure that LOB fields are going to work / break?  Does a level or certain SQL functions need to be implemented in the ODBC driver? </p></li>\n</ol>\n\n<p>Unfortunately I am at a bit of a disconnect in understanding what is required from hibernate, as I can find no documentation as to what it needs.  An explanation and/or documentation would be great.</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":16657935,"reputation":834,"user_id":13927534,"display_name":"Miss Skooter"},"score":0,"creation_date":1676623699,"post_id":75481992,"comment_id":133178358,"body_markdown":"Does this answer your question? [Parsing JSON in Java without knowing JSON format](https://stackoverflow.com/questions/19760138/parsing-json-in-java-without-knowing-json-format)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/19760138/parsing-json-in-java-without-knowing-json-format\">Parsing JSON in Java without knowing JSON format</a>"}],"owner":{"account_id":6912303,"reputation":135,"user_id":5307695,"display_name":"ashish gupta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676623505,"creation_date":1676623505,"question_id":75481992,"body_markdown":"I am consuming a Rest API and I am getting multiple Json structure as the API response for different-different use cases.\r\n\r\nso, below are the 3 Json format structure.\r\n\r\n    1. \r\n    {\r\n      &quot;error&quot;:&quot;ash&quot;,\r\n      &quot;error_description&quot; : &quot;gupta&quot;,\r\n      &quot;id&quot;:&quot;123&quot;\r\n    }\r\n    \r\n    2.\r\n    &quot;service_response&quot;:[\r\n       {\r\n          &quot;message&quot;:&quot;column&quot;,\r\n          &quot;errorCode&quot;:&quot;Invalid_code&quot;\r\n       }\r\n    ]\r\n    \r\n    3. {\r\n      &quot;id&quot;:&quot;ash&quot;,\r\n      &quot;success&quot; : &quot;gupta&quot;,\r\n      &quot;errors&quot;:[]\r\n    }\r\n\r\n\r\nI am not able to write the code for different - different Json structure. I am getting parsing exception because I have handled one response. but the problem is how can we identify that which response structure we have to parse.","title":"Handle multiple json response in java","body":"<p>I am consuming a Rest API and I am getting multiple Json structure as the API response for different-different use cases.</p>\n<p>so, below are the 3 Json format structure.</p>\n<pre><code>1. \n{\n  &quot;error&quot;:&quot;ash&quot;,\n  &quot;error_description&quot; : &quot;gupta&quot;,\n  &quot;id&quot;:&quot;123&quot;\n}\n\n2.\n&quot;service_response&quot;:[\n   {\n      &quot;message&quot;:&quot;column&quot;,\n      &quot;errorCode&quot;:&quot;Invalid_code&quot;\n   }\n]\n\n3. {\n  &quot;id&quot;:&quot;ash&quot;,\n  &quot;success&quot; : &quot;gupta&quot;,\n  &quot;errors&quot;:[]\n}\n</code></pre>\n<p>I am not able to write the code for different - different Json structure. I am getting parsing exception because I have handled one response. but the problem is how can we identify that which response structure we have to parse.</p>\n"},{"tags":["java","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1676580858,"post_id":75475170,"comment_id":133171224,"body_markdown":"https://devdojo.com/ketonemaniac/reactor-onerrorcontinue-vs-onerrorresume","body":"<a href=\"https://devdojo.com/ketonemaniac/reactor-onerrorcontinue-vs-onerrorresume\" rel=\"nofollow noreferrer\">devdojo.com/ketonemaniac/&hellip;</a>"}],"owner":{"account_id":3446101,"reputation":11345,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676623500,"creation_date":1676564634,"question_id":75475170,"body_markdown":"I cannot understand how [`Flux.onErrorContinue()`][1] works. Based on https://stackoverflow.com/q/69510106/2886891 I created a similar example to understand it better, but I am lost.\r\n\r\nEspecially weird is the interference between [`onErrorContinue()`][1] and [`thenReturn()`][2].\r\n\r\nI have the following code:\r\n\r\n``` lang-java\r\nimport org.junit.jupiter.api.Test;\r\nimport reactor.core.publisher.Flux;\r\nimport reactor.core.publisher.Mono;\r\n\r\nclass OnErrorContinueTest {\r\n    @Test\r\n    void testOnErrorContinue() {\r\n        Flux.range(1, 3)\r\n                .doOnNext(n -&gt; System.out.println(&quot;Main-1: &quot; + n))\r\n                .flatMap(this::processElement)\r\n                .doOnNext(n -&gt; System.out.println(&quot;Main-2: &quot; + n)) // Why does onErrorContinue recovers that line, if it is after?\r\n                .onErrorContinue((ex, o) -&gt; System.err.println(&quot;    Error processing &quot; + o + &quot; - &quot; + ex.getMessage()))\r\n                .doOnNext(n -&gt; System.out.println(&quot;Main-3: &quot; + n))\r\n                .subscribe();\r\n    }\r\n\r\n    @Test\r\n    void testOnErrorResume() {\r\n        Flux.range(1, 3)\r\n                .doOnNext(n -&gt; System.out.println(&quot;Main-1: &quot; + n))\r\n                .flatMap(n -&gt; this.processElement(n)\r\n                        .doOnError(ex -&gt; System.err.println(&quot;    Error processing &quot; + n + &quot; - &quot; + ex.getMessage()))\r\n                        .onErrorResume(e -&gt; Mono.empty()))\r\n                .doOnNext(n -&gt; System.out.println(&quot;Main-2: &quot; + n))\r\n                .subscribe();\r\n    }\r\n\r\n    Mono&lt;Integer&gt; processElement(Integer i) {\r\n        return Mono.just(i)\r\n                .doOnNext(n -&gt; System.out.println(&quot;    Process-1: &quot; + n))\r\n                .doOnNext(n -&gt; {\r\n                    if (n == 2) {\r\n                        throw new RuntimeException(&quot;Forcing exception for &quot; + n);\r\n                    }\r\n                })\r\n                .doOnNext(n -&gt; System.out.println(&quot;    Process-2: &quot; + n))\r\n                .thenReturn(i) // Why does onErrorContinue recovers everything after that line?\r\n                .doOnNext(n -&gt; System.out.println(&quot;    Process-3: &quot; + n))\r\n                ;\r\n    }\r\n}\r\n```\r\n\r\n`testOnErrorResume()` produces exactly what I would expect:\r\n\r\n```none\r\nMain-1: 1\r\n    Process-1: 1\r\n    Process-2: 1\r\n    Process-3: 1\r\nMain-2: 1\r\nMain-1: 2\r\n    Process-1: 2\r\n    Error while processing 2 - Forcing exception for 2\r\nMain-1: 3\r\n    Process-1: 3\r\n    Process-2: 3\r\n    Process-3: 3\r\nMain-2: 3\r\n```\r\n\r\nHowever, `testOnErrorContinue()` produces:\r\n\r\n```none\r\nMain-1: 1\r\n    Process-1: 1\r\n    Process-2: 1\r\n    Process-3: 1\r\nMain-2: 1\r\nMain-3: 1\r\nMain-1: 2\r\n    Process-1: 2\r\n    Error while processing 2 - Forcing exception for 2\r\n    Process-3: 2     -- UNEXPECTED - WHY IS THIS PRINTED?\r\nMain-2: 2            -- UNEXPECTED - WHY IS THIS PRINTED?\r\nMain-3: 2\r\nMain-1: 3\r\n    Process-1: 3\r\n    Process-2: 3\r\n    Process-3: 3\r\nMain-2: 3\r\nMain-3: 3\r\n```\r\n\r\nMy doubts:\r\n\r\n1. Why does `onErrorContinue()` recover inside the `processElement()` method? It seems like `thenReturn()` has something to do with it, but cannot understand how, because the [`thenReturn()`s documentation][2] states\r\n\r\n    &gt; On an error in the original `Mono`, the error signal is propagated instead.\r\n\r\n2. Why does `onErrorContinue()` recover before it is called? Why is the code `System.out.println(&quot;Main-2: &quot; + n)` executed?\r\n\r\n\r\n  [1]: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#onErrorContinue-java.util.function.BiConsumer-\r\n  [2]: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#thenReturn-V-","title":"Interference between onErrorResume() and thenReturn()","body":"<p>I cannot understand how <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#onErrorContinue-java.util.function.BiConsumer-\" rel=\"nofollow noreferrer\"><code>Flux.onErrorContinue()</code></a> works. Based on <a href=\"https://stackoverflow.com/q/69510106/2886891\">Does Reactor onErrorContinue operator let the original sequence continue?</a> I created a similar example to understand it better, but I am lost.</p>\n<p>Especially weird is the interference between <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#onErrorContinue-java.util.function.BiConsumer-\" rel=\"nofollow noreferrer\"><code>onErrorContinue()</code></a> and <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#thenReturn-V-\" rel=\"nofollow noreferrer\"><code>thenReturn()</code></a>.</p>\n<p>I have the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.jupiter.api.Test;\nimport reactor.core.publisher.Flux;\nimport reactor.core.publisher.Mono;\n\nclass OnErrorContinueTest {\n    @Test\n    void testOnErrorContinue() {\n        Flux.range(1, 3)\n                .doOnNext(n -&gt; System.out.println(&quot;Main-1: &quot; + n))\n                .flatMap(this::processElement)\n                .doOnNext(n -&gt; System.out.println(&quot;Main-2: &quot; + n)) // Why does onErrorContinue recovers that line, if it is after?\n                .onErrorContinue((ex, o) -&gt; System.err.println(&quot;    Error processing &quot; + o + &quot; - &quot; + ex.getMessage()))\n                .doOnNext(n -&gt; System.out.println(&quot;Main-3: &quot; + n))\n                .subscribe();\n    }\n\n    @Test\n    void testOnErrorResume() {\n        Flux.range(1, 3)\n                .doOnNext(n -&gt; System.out.println(&quot;Main-1: &quot; + n))\n                .flatMap(n -&gt; this.processElement(n)\n                        .doOnError(ex -&gt; System.err.println(&quot;    Error processing &quot; + n + &quot; - &quot; + ex.getMessage()))\n                        .onErrorResume(e -&gt; Mono.empty()))\n                .doOnNext(n -&gt; System.out.println(&quot;Main-2: &quot; + n))\n                .subscribe();\n    }\n\n    Mono&lt;Integer&gt; processElement(Integer i) {\n        return Mono.just(i)\n                .doOnNext(n -&gt; System.out.println(&quot;    Process-1: &quot; + n))\n                .doOnNext(n -&gt; {\n                    if (n == 2) {\n                        throw new RuntimeException(&quot;Forcing exception for &quot; + n);\n                    }\n                })\n                .doOnNext(n -&gt; System.out.println(&quot;    Process-2: &quot; + n))\n                .thenReturn(i) // Why does onErrorContinue recovers everything after that line?\n                .doOnNext(n -&gt; System.out.println(&quot;    Process-3: &quot; + n))\n                ;\n    }\n}\n</code></pre>\n<p><code>testOnErrorResume()</code> produces exactly what I would expect:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Main-1: 1\n    Process-1: 1\n    Process-2: 1\n    Process-3: 1\nMain-2: 1\nMain-1: 2\n    Process-1: 2\n    Error while processing 2 - Forcing exception for 2\nMain-1: 3\n    Process-1: 3\n    Process-2: 3\n    Process-3: 3\nMain-2: 3\n</code></pre>\n<p>However, <code>testOnErrorContinue()</code> produces:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Main-1: 1\n    Process-1: 1\n    Process-2: 1\n    Process-3: 1\nMain-2: 1\nMain-3: 1\nMain-1: 2\n    Process-1: 2\n    Error while processing 2 - Forcing exception for 2\n    Process-3: 2     -- UNEXPECTED - WHY IS THIS PRINTED?\nMain-2: 2            -- UNEXPECTED - WHY IS THIS PRINTED?\nMain-3: 2\nMain-1: 3\n    Process-1: 3\n    Process-2: 3\n    Process-3: 3\nMain-2: 3\nMain-3: 3\n</code></pre>\n<p>My doubts:</p>\n<ol>\n<li><p>Why does <code>onErrorContinue()</code> recover inside the <code>processElement()</code> method? It seems like <code>thenReturn()</code> has something to do with it, but cannot understand how, because the <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#thenReturn-V-\" rel=\"nofollow noreferrer\"><code>thenReturn()</code>s documentation</a> states</p>\n<blockquote>\n<p>On an error in the original <code>Mono</code>, the error signal is propagated instead.</p>\n</blockquote>\n</li>\n<li><p>Why does <code>onErrorContinue()</code> recover before it is called? Why is the code <code>System.out.println(&quot;Main-2: &quot; + n)</code> executed?</p>\n</li>\n</ol>\n"},{"tags":["java","spring-boot","spring-data-jpa","jparepository"],"comments":[{"owner":{"account_id":19028482,"reputation":939,"user_id":13891083,"display_name":"InspectorGadget"},"score":1,"creation_date":1676614316,"post_id":75480769,"comment_id":133176361,"body_markdown":"Are you sure there is a record exists in db with your search criteria?","body":"Are you sure there is a record exists in db with your search criteria?"},{"owner":{"account_id":19028482,"reputation":939,"user_id":13891083,"display_name":"InspectorGadget"},"score":1,"creation_date":1676614434,"post_id":75480769,"comment_id":133176385,"body_markdown":"Try adding constructor, getter and setter to your entity","body":"Try adding constructor, getter and setter to your entity"},{"owner":{"account_id":22149354,"reputation":347,"user_id":16398144,"display_name":"ASIF KAIF"},"score":0,"creation_date":1676614659,"post_id":75480769,"comment_id":133176420,"body_markdown":"Yes, when passing hardcoded string, its working, but when passing itemcode variable, its returning null, even though i am getting value in the variable","body":"Yes, when passing hardcoded string, its working, but when passing itemcode variable, its returning null, even though i am getting value in the variable"},{"owner":{"account_id":295859,"reputation":13588,"user_id":600486,"accept_rate":80,"display_name":"blurfus"},"score":0,"creation_date":1676614793,"post_id":75480769,"comment_id":133176442,"body_markdown":"so are you sure the record exists in the DB with the variable value?","body":"so are you sure the record exists in the DB with the variable value?"},{"owner":{"account_id":22149354,"reputation":347,"user_id":16398144,"display_name":"ASIF KAIF"},"score":0,"creation_date":1676614918,"post_id":75480769,"comment_id":133176462,"body_markdown":"Yes, i am getting it when passing Hard coded value,\nSystem.out.println(itemcode);\nSystem.out.println(this.stockRepository.findByItemcode(itemcode));\n\t\tSystem.out.println(this.stockRepository.findByItemcode(&quot;SU1020M&quot;));\nResult:\n SU1020M\nnull\nStock(id=1, category=suit, itemcode=SU1020M, imageUrl=null, purchasedPrice=100, purchasedQuantity=10, availableQuantity=10, mrp=1000, soldPrice=null)","body":"Yes, i am getting it when passing Hard coded value, System.out.println(itemcode); System.out.println(this.stockRepository.findByItemcode(itemc&zwnj;&#8203;ode)); \t\tSystem.out.println(this.stockRepository.findByItemcode(&quot;SU&zwnj;&#8203;1020M&quot;)); Result:  SU1020M null Stock(id=1, category=suit, itemcode=SU1020M, imageUrl=null, purchasedPrice=100, purchasedQuantity=10, availableQuantity=10, mrp=1000, soldPrice=null)"}],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676623099,"creation_date":1676623099,"answer_id":75481928,"question_id":75480769,"body_markdown":"If, as you seem to say in the comments, this works with a literal but does not work with a variable containing the same value, then the two actually do not contain the same value.\r\n\r\nThe difference could be whitespace (space characters, line feed, carriage return, tab) or non printable characters (ctrl-some-letter) or possibly different encodings of a String. For example the leter &#220; may be created as an actual &#220; or by (U plus &#168;) in Unicode.\r\n\r\nUse a debugger to examine the value of the variable and to compare it to the literal value.","title":"Find a record by Column value is not working using JpaRepository in Spring Boot","body":"<p>If, as you seem to say in the comments, this works with a literal but does not work with a variable containing the same value, then the two actually do not contain the same value.</p>\n<p>The difference could be whitespace (space characters, line feed, carriage return, tab) or non printable characters (ctrl-some-letter) or possibly different encodings of a String. For example the leter Ü may be created as an actual Ü or by (U plus ¨) in Unicode.</p>\n<p>Use a debugger to examine the value of the variable and to compare it to the literal value.</p>\n"}],"owner":{"account_id":22149354,"reputation":347,"user_id":16398144,"display_name":"ASIF KAIF"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75481928,"answer_count":1,"score":0,"last_activity_date":1676623314,"creation_date":1676613969,"question_id":75480769,"body_markdown":"I want to fetch a record by its itemcode value. I&#39;m getting null value.\r\n\r\nEntity\r\n```jav a\r\n@Data\r\n@Entity\r\npublic class Stock {\t\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n\tprivate Long id; \r\n\tprivate String  itemcode;\r\n\tprivate Integer mrp;\r\n}\r\n```\r\nRepository\r\n```java\r\npublic interface StockRepository extends JpaRepository&lt;Stock, Long&gt; {\t\r\n\tpublic Stock findByItemcode(String itemcode);\r\n}\r\n```\r\n```\r\npublic void getStockByItemcode(String itemcode) {\t\r\n\tthis.stockRepository.findByItemcode(itemcode);\t\t\r\n}\r\n```\r\n\r\n\r\n","title":"Find a record by Column value is not working using JpaRepository in Spring Boot","body":"<p>I want to fetch a record by its itemcode value. I'm getting null value.</p>\n<p>Entity</p>\n<pre><code>@Data\n@Entity\npublic class Stock {    \n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private Long id; \n    private String  itemcode;\n    private Integer mrp;\n}\n</code></pre>\n<p>Repository</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface StockRepository extends JpaRepository&lt;Stock, Long&gt; {   \n    public Stock findByItemcode(String itemcode);\n}\n</code></pre>\n<pre><code>public void getStockByItemcode(String itemcode) {   \n    this.stockRepository.findByItemcode(itemcode);      \n}\n</code></pre>\n"},{"tags":["java","compiler-errors","casting","type-conversion"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1676622485,"post_id":75481761,"comment_id":133178018,"body_markdown":"try casting the int to a byte","body":"try casting the int to a byte"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1676639129,"post_id":75481761,"comment_id":133182757,"body_markdown":"Simple explanation: The statement `b = a;` is not assigning a LITERAL to `b`.  So the section of the book that talks about assigning LITERALS does not apply to that statement.  The book is correct.","body":"Simple explanation: The statement <code>b = a;</code> is not assigning a LITERAL to <code>b</code>.  So the section of the book that talks about assigning LITERALS does not apply to that statement.  The book is correct."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1676639306,"post_id":75481761,"comment_id":133182820,"body_markdown":"I recommend that you read this self-answered question that I wrote on this topic: https://stackoverflow.com/questions/51632152","body":"I recommend that you read this self-answered question that I wrote on this topic: <a href=\"https://stackoverflow.com/questions/51632152\">stackoverflow.com/questions/51632152</a>"}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676623033,"creation_date":1676622645,"answer_id":75481855,"question_id":75481761,"body_markdown":"&gt; It says integer literals are successfully converted to byte or short\r\n\r\n`b=a` doesn&#39;t involve an integer literal.\r\n\r\nAn integer literal is something like `10` or `16`: an actual number that appears in the source code.\r\n\r\n`b=10` would work, because `10` is an int literal.\r\n\r\nActually, it&#39;s a bit more general than only working with int literals: you can make this assignment with any compile-time constant value.\r\n\r\nFor example, if you were to make `a` `final`, it would work, because then `a` would be a compile-time constant value, and essentially could then be replaced by the int literal `10` wherever it is used.\r\n\r\nNote that the definition of &quot;compile time constant&quot; is quite strict: it has to be a literal, or a final variable initialized with a compile-time constant value.\r\n\r\n- Declaring a non-final variable and never changing its value doesn&#39;t make it compile-time constant: you have to tell the compiler that its value _can&#39;t_ change via final.\r\n- Declaring a variable as final doesn&#39;t make it a compile-time constant either: the value you assign it has to be a compile-time constant too.","title":"Automatic Type Conversion in java","body":"<blockquote>\n<p>It says integer literals are successfully converted to byte or short</p>\n</blockquote>\n<p><code>b=a</code> doesn't involve an integer literal.</p>\n<p>An integer literal is something like <code>10</code> or <code>16</code>: an actual number that appears in the source code.</p>\n<p><code>b=10</code> would work, because <code>10</code> is an int literal.</p>\n<p>Actually, it's a bit more general than only working with int literals: you can make this assignment with any compile-time constant value.</p>\n<p>For example, if you were to make <code>a</code> <code>final</code>, it would work, because then <code>a</code> would be a compile-time constant value, and essentially could then be replaced by the int literal <code>10</code> wherever it is used.</p>\n<p>Note that the definition of &quot;compile time constant&quot; is quite strict: it has to be a literal, or a final variable initialized with a compile-time constant value.</p>\n<ul>\n<li>Declaring a non-final variable and never changing its value doesn't make it compile-time constant: you have to tell the compiler that its value <em>can't</em> change via final.</li>\n<li>Declaring a variable as final doesn't make it a compile-time constant either: the value you assign it has to be a compile-time constant too.</li>\n</ul>\n"}],"owner":{"account_id":27809756,"reputation":1,"user_id":21232373,"display_name":"rakthi kumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676623033,"creation_date":1676622079,"question_id":75481761,"body_markdown":"I have a doubt regarding type conversion between numeric values. Below is a snapshot from the book java complete reference. It says integer literals are successfully converted to byte or short provided the range of the value defined fits into the range of byte/short. However, when I try to run the following program it throws an error. Kindly clarify. Thanks.\r\n[book](https://i.stack.imgur.com/m2Ene.png)\r\n```\r\nimport java.util.Scanner;\r\nclass Test{\r\n public static void main(String args[])\r\n {   int a=10;\r\n     byte b=16;\r\n     b=a;\r\n     System.out.println(b);\r\n }}\r\n/tmp/IQOgFrykLL/Test.java:12: error: incompatible types: possible lossy conversion from int to byte\r\nb=a;\r\n^1 error\r\n\r\n```\r\n\r\n\r\n","title":"Automatic Type Conversion in java","body":"<p>I have a doubt regarding type conversion between numeric values. Below is a snapshot from the book java complete reference. It says integer literals are successfully converted to byte or short provided the range of the value defined fits into the range of byte/short. However, when I try to run the following program it throws an error. Kindly clarify. Thanks.\n<a href=\"https://i.stack.imgur.com/m2Ene.png\" rel=\"nofollow noreferrer\">book</a></p>\n<pre><code>import java.util.Scanner;\nclass Test{\n public static void main(String args[])\n {   int a=10;\n     byte b=16;\n     b=a;\n     System.out.println(b);\n }}\n/tmp/IQOgFrykLL/Test.java:12: error: incompatible types: possible lossy conversion from int to byte\nb=a;\n^1 error\n\n</code></pre>\n"},{"tags":["java","session","tomcat8"],"comments":[{"owner":{"account_id":19108217,"reputation":105,"user_id":13954829,"display_name":"Zeko"},"score":0,"creation_date":1676623374,"post_id":75481916,"comment_id":133178271,"body_markdown":"&quot;I need to develop 2 backend applications both running on the same parent domain, the two services will need to share the sessions (login to A means user is logged into B and same for logout).&quot;, If it&#39;s about authentication why not just use SAML ?","body":"&quot;I need to develop 2 backend applications both running on the same parent domain, the two services will need to share the sessions (login to A means user is logged into B and same for logout).&quot;, If it&#39;s about authentication why not just use SAML ?"},{"owner":{"account_id":5455516,"reputation":203,"user_id":4339077,"accept_rate":42,"display_name":"Nitesh"},"score":0,"creation_date":1676623978,"post_id":75481916,"comment_id":133178436,"body_markdown":"we get &quot;SAML&quot; response from our IDP server and use that to persist the session with HttpSession in tomcat, it is not just about &quot;authenticating one&quot;, it is about the session persistence (so called sticky sessions)? \nNormally, other cleaner solution would be to have a &quot;reverse-proxy&quot; in front, but that will mean a big rewrite of the existing security code","body":"we get &quot;SAML&quot; response from our IDP server and use that to persist the session with HttpSession in tomcat, it is not just about &quot;authenticating one&quot;, it is about the session persistence (so called sticky sessions)?  Normally, other cleaner solution would be to have a &quot;reverse-proxy&quot; in front, but that will mean a big rewrite of the existing security code"}],"owner":{"account_id":5455516,"reputation":203,"user_id":4339077,"accept_rate":42,"display_name":"Nitesh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676623025,"creation_date":1676623025,"question_id":75481916,"body_markdown":"I need to develop 2 backend applications both running on the same parent domain, the two services will need to share the sessions (login to A means user is logged into B and same for logout).\r\n\r\nFor now, I plan to host them in same tomcat but in different contexts (2 war files) to have complete isolation (main reason being that two services will be developed by different squads and we do not want any dependency for releases and two services may also have different performance requirements in the long term).\r\n\r\n\r\nIn our current architecture only with one service, we use &quot;Session cookie&quot; and HttpSession to do the session management, authentication logic is in a Servlet filter.\r\nSince the two backend apps share the same domain, I should be able to use the &quot;same session cookie&quot;, based on my tests, I can see that browser is sending cookie to both the services.\r\n\r\nTo enable session sharing, following the answer from another question (https://stackoverflow.com/questions/9436736/sharing-session-data-between-contexts-in-tomcat), I tried the following in context.xml of tomcat:\r\n\r\n&lt;Context sessionCookiePath=&quot;/&quot;&gt;\r\n\r\n    &lt;Valve className=&quot;org.apache.catalina.valves.PersistentValve&quot;/&gt;\r\n    &lt;Manager className=&quot;org.apache.catalina.session.PersistentManager&quot;&gt;\r\n        &lt;Store className=&quot;org.apache.catalina.session.FileStore&quot; directory=&quot;${catalina.base}/temp/sessions&quot;/&gt;\r\n    &lt;/Manager&gt;\r\n\r\n    ...\r\n\r\n&lt;/Context&gt;\r\n\r\nThe above trick did the job for login, tomcat re-used the session from ServiceA for ServiceB.\r\nI could also see that session was persisted on the desk (I eventually plan to move to REDIS).\r\nBut after I logout using the URL of service A (https://example.com/serviceA/logout), I&#39;m logged out from serviceA, but I noticed that I could still access end points of serviceB and tomcat session was still there on the disk.\r\nAfter I logged out specifically from serviceB https://example.com/serviceB/logout, I was properly logged out from ServiceB.\r\n\r\nThis is what, I do in the logout handling:\r\n\r\n        HttpSession session = request.getSession(false);\r\n        if (session != null) {\r\n            // Invalidate the cookies\r\n            Cookie[] cookieArray = request.getCookies();\r\n            if (cookieArray != null)\r\n            {\r\n                for (Cookie c : cookieArray) {\r\n                    c.setMaxAge(0);\r\n                    response.addCookie(c);\r\n                }\r\n            }\r\n            // Invalidate the session\r\n            session.invalidate();\r\n      }\r\n\r\nI&#39;m totally confused, am I in the right direction? How is it possible that if tomcat is sharing the same session, logout isn&#39;t propagated to the other context?\r\n\r\n","title":"Sharing tomcat session across two contexts in the same domain","body":"<p>I need to develop 2 backend applications both running on the same parent domain, the two services will need to share the sessions (login to A means user is logged into B and same for logout).</p>\n<p>For now, I plan to host them in same tomcat but in different contexts (2 war files) to have complete isolation (main reason being that two services will be developed by different squads and we do not want any dependency for releases and two services may also have different performance requirements in the long term).</p>\n<p>In our current architecture only with one service, we use &quot;Session cookie&quot; and HttpSession to do the session management, authentication logic is in a Servlet filter.\nSince the two backend apps share the same domain, I should be able to use the &quot;same session cookie&quot;, based on my tests, I can see that browser is sending cookie to both the services.</p>\n<p>To enable session sharing, following the answer from another question (<a href=\"https://stackoverflow.com/questions/9436736/sharing-session-data-between-contexts-in-tomcat\">Sharing session data between contexts in Tomcat</a>), I tried the following in context.xml of tomcat:</p>\n\n<pre><code>&lt;Valve className=&quot;org.apache.catalina.valves.PersistentValve&quot;/&gt;\n&lt;Manager className=&quot;org.apache.catalina.session.PersistentManager&quot;&gt;\n    &lt;Store className=&quot;org.apache.catalina.session.FileStore&quot; directory=&quot;${catalina.base}/temp/sessions&quot;/&gt;\n&lt;/Manager&gt;\n\n...\n</code></pre>\n\n<p>The above trick did the job for login, tomcat re-used the session from ServiceA for ServiceB.\nI could also see that session was persisted on the desk (I eventually plan to move to REDIS).\nBut after I logout using the URL of service A (<a href=\"https://example.com/serviceA/logout\" rel=\"nofollow noreferrer\">https://example.com/serviceA/logout</a>), I'm logged out from serviceA, but I noticed that I could still access end points of serviceB and tomcat session was still there on the disk.\nAfter I logged out specifically from serviceB <a href=\"https://example.com/serviceB/logout\" rel=\"nofollow noreferrer\">https://example.com/serviceB/logout</a>, I was properly logged out from ServiceB.</p>\n<p>This is what, I do in the logout handling:</p>\n<pre><code>    HttpSession session = request.getSession(false);\n    if (session != null) {\n        // Invalidate the cookies\n        Cookie[] cookieArray = request.getCookies();\n        if (cookieArray != null)\n        {\n            for (Cookie c : cookieArray) {\n                c.setMaxAge(0);\n                response.addCookie(c);\n            }\n        }\n        // Invalidate the session\n        session.invalidate();\n  }\n</code></pre>\n<p>I'm totally confused, am I in the right direction? How is it possible that if tomcat is sharing the same session, logout isn't propagated to the other context?</p>\n"},{"tags":["java","bean-validation","validationexception"],"answers":[{"tags":[],"owner":{"account_id":11839320,"reputation":1846,"user_id":8663643,"display_name":"Nitesh Tosniwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676619933,"creation_date":1676617867,"answer_id":75481158,"question_id":75481108,"body_markdown":"In order to get your custom exception and message, you can catch the `ValidationException` thrown by the validation framework and extract your custom exception and message from it.\r\n\r\nSomething like this should work.\r\n```java\r\npublic class CustomValidator implements ConstraintValidator&lt;CustomClass, CharSequence&gt; {\r\n\r\n    @Override\r\n    public void initialize(CustomClass annota) {\r\n        try {\r\n            // code\r\n        } catch (ValidationException e) {\r\n            /* if an exception is thrown in the initialize method, the validation framework will not execute the isValid method. */\r\n            throw new CustomException(&quot;validation error&quot;, e);\r\n        } catch (Exception e) {\r\n            throw new CustomException(&quot;custom error&quot;, e);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public boolean isValid(CharSequence value, ConstraintValidatorContext context) {\r\n        try {\r\n            // validation logic\r\n            return true;\r\n        } catch (CustomException e) {\r\n            // catch and rethrow your custom exception\r\n            throw e;\r\n        } catch (ValidationException e) {\r\n            // catch and extract your custom exception and message\r\n            Throwable cause = e.getCause();\r\n            if (cause instanceof CustomException) {\r\n                CustomException customException = (CustomException) cause;\r\n                String message = customException.getMessage();\r\n                // do something with customException and message\r\n            }\r\n            throw e;\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nthe `isValid` method is the main method used by the validation framework to determine if an object is valid or not, and it is necessary to implement it in order to define the validation logic. Even if an exception is thrown in the initialize method, the `isValid` method is still necessary and will be executed for valid objects.","title":"How to overwrite custom exception over ValidationException?","body":"<p>In order to get your custom exception and message, you can catch the <code>ValidationException</code> thrown by the validation framework and extract your custom exception and message from it.</p>\n<p>Something like this should work.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomValidator implements ConstraintValidator&lt;CustomClass, CharSequence&gt; {\n\n    @Override\n    public void initialize(CustomClass annota) {\n        try {\n            // code\n        } catch (ValidationException e) {\n            /* if an exception is thrown in the initialize method, the validation framework will not execute the isValid method. */\n            throw new CustomException(&quot;validation error&quot;, e);\n        } catch (Exception e) {\n            throw new CustomException(&quot;custom error&quot;, e);\n        }\n    }\n\n    @Override\n    public boolean isValid(CharSequence value, ConstraintValidatorContext context) {\n        try {\n            // validation logic\n            return true;\n        } catch (CustomException e) {\n            // catch and rethrow your custom exception\n            throw e;\n        } catch (ValidationException e) {\n            // catch and extract your custom exception and message\n            Throwable cause = e.getCause();\n            if (cause instanceof CustomException) {\n                CustomException customException = (CustomException) cause;\n                String message = customException.getMessage();\n                // do something with customException and message\n            }\n            throw e;\n        }\n    }\n\n}\n</code></pre>\n<p>the <code>isValid</code> method is the main method used by the validation framework to determine if an object is valid or not, and it is necessary to implement it in order to define the validation logic. Even if an exception is thrown in the initialize method, the <code>isValid</code> method is still necessary and will be executed for valid objects.</p>\n"},{"tags":[],"owner":{"account_id":6366204,"reputation":2197,"user_id":4940126,"display_name":"mark_o"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676622767,"creation_date":1676622767,"answer_id":75481876,"question_id":75481108,"body_markdown":"That is expected behaviour for the validator. If you want to get other exception type then `ValidationException`, you can throw `ConstraintDeclarationException` out of your init method, which was somewhat designed to be used when the constraint declaration is wrong. Any other exceptions are wrapped into `ValidationException`, where a cause would be a thrown exception. So you could catch `ValidationException` in a place you are calling the validator and it&#39;s failing and then access your exception/message through `getCause()`. Something along next lines:\r\n\r\n    try {\r\n    \tvalidator.validate( object );\r\n    }\r\n    catch (ValidationException e) {\r\n    \tThrowable cause = e.getCause(); // &lt;- your CustomException\r\n    }\r\n\r\n\r\nIdeally, your initialize method should not throw any exceptions. The same is for the `isValid` - instead of throwing an exception, return `false` and a custom message explaining what failed:\r\n\r\n    @Override\r\n    public boolean isValid(CharSequence object, ConstraintValidatorContext constraintContext) {\r\n    \tif ( object == null ) {\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \tboolean isValid = true;\r\n    \ttry {\r\n    \t\t// some potentially failing logic:\r\n    \t}\r\n    \tcatch (Exception e) {\r\n    \t\tisValid = false;\r\n    \t\tconstraintContext.disableDefaultConstraintViolation();\r\n    \t\tconstraintContext.buildConstraintViolationWithTemplate(\r\n    \t\t\t\t\t\te.getMessage()\r\n    \t\t\t\t)\r\n    \t\t\t\t.addConstraintViolation();\r\n    \t}\r\n    \treturn isValid;\r\n    }","title":"How to overwrite custom exception over ValidationException?","body":"<p>That is expected behaviour for the validator. If you want to get other exception type then <code>ValidationException</code>, you can throw <code>ConstraintDeclarationException</code> out of your init method, which was somewhat designed to be used when the constraint declaration is wrong. Any other exceptions are wrapped into <code>ValidationException</code>, where a cause would be a thrown exception. So you could catch <code>ValidationException</code> in a place you are calling the validator and it's failing and then access your exception/message through <code>getCause()</code>. Something along next lines:</p>\n<pre><code>try {\n    validator.validate( object );\n}\ncatch (ValidationException e) {\n    Throwable cause = e.getCause(); // &lt;- your CustomException\n}\n</code></pre>\n<p>Ideally, your initialize method should not throw any exceptions. The same is for the <code>isValid</code> - instead of throwing an exception, return <code>false</code> and a custom message explaining what failed:</p>\n<pre><code>@Override\npublic boolean isValid(CharSequence object, ConstraintValidatorContext constraintContext) {\n    if ( object == null ) {\n        return true;\n    }\n\n    boolean isValid = true;\n    try {\n        // some potentially failing logic:\n    }\n    catch (Exception e) {\n        isValid = false;\n        constraintContext.disableDefaultConstraintViolation();\n        constraintContext.buildConstraintViolationWithTemplate(\n                        e.getMessage()\n                )\n                .addConstraintViolation();\n    }\n    return isValid;\n}\n</code></pre>\n"}],"owner":{"account_id":5537532,"reputation":4584,"user_id":4395287,"accept_rate":44,"display_name":"Jack jdeoel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":513,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1676622767,"creation_date":1676617507,"question_id":75481108,"body_markdown":"I have written some logic and custom validation in Validator initialize method.\r\nBut when exception occurs , custom exception was thrown but override by ValidationException\r\n\r\n&gt; eg. HV000032: Unable to initialize ........\r\n\r\n    \r\n    public class CustomValidator implements ConstraintValidator&lt;CustomClass, CharSequence&gt; {\r\n    @Override\r\n    public void initialize(CustomClass annota) {\r\n       try {\r\n          //code\r\n       } catch (Exception e) {\r\n          throw new CustomException(&quot;custom error &quot;, e); &lt;-- this exception is override by javax.validation.ValidationException...\r\n       }\r\n    }\r\n\r\nI want to get my custom exception and message . How can I implement that ...","title":"How to overwrite custom exception over ValidationException?","body":"<p>I have written some logic and custom validation in Validator initialize method.\nBut when exception occurs , custom exception was thrown but override by ValidationException</p>\n<blockquote>\n<p>eg. HV000032: Unable to initialize ........</p>\n</blockquote>\n<pre><code>public class CustomValidator implements ConstraintValidator&lt;CustomClass, CharSequence&gt; {\n@Override\npublic void initialize(CustomClass annota) {\n   try {\n      //code\n   } catch (Exception e) {\n      throw new CustomException(&quot;custom error &quot;, e); &lt;-- this exception is override by javax.validation.ValidationException...\n   }\n}\n</code></pre>\n<p>I want to get my custom exception and message . How can I implement that ...</p>\n"},{"tags":["java","schema","pom.xml","axiom"],"owner":{"account_id":27809711,"reputation":1,"user_id":21232335,"display_name":"ashe william"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676622059,"creation_date":1676622059,"question_id":75481755,"body_markdown":"I am trying to use Axiom to validate the pom file, but found that except the project can be verified successfully, the rest of the nodes have reported errors\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;artifactId&gt;library&lt;/artifactId&gt;\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;avro-maven-plugin&lt;/artifactId&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;configuration&gt;\r\n              &lt;outputDirectory&gt;${project.basedir}/src/main/java/&lt;/outputDirectory&gt;\r\n              &lt;sourceDirectory&gt;${project.basedir}/src/main/avro/&lt;/sourceDirectory&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;schema&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n        &lt;groupId&gt;org.apache.avro&lt;/groupId&gt;\r\n        &lt;version&gt;1.11.1&lt;/version&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n          &lt;source&gt;1.8&lt;/source&gt;\r\n          &lt;target&gt;1.8&lt;/target&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;/plugin&gt;\r\n\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n  &lt;dependencies&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;artifactId&gt;axiom-api&lt;/artifactId&gt;\r\n      &lt;groupId&gt;org.apache.ws.commons.axiom&lt;/groupId&gt;\r\n      &lt;version&gt;1.4.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;artifactId&gt;axiom-impl&lt;/artifactId&gt;\r\n      &lt;groupId&gt;org.apache.ws.commons.axiom&lt;/groupId&gt;\r\n      &lt;scope&gt;runtime&lt;/scope&gt;\r\n      &lt;version&gt;1.4.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n  &lt;/dependencies&gt;\r\n  &lt;groupId&gt;org.test&lt;/groupId&gt;\r\n\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;name&gt;library&lt;/name&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;junit.version&gt;5.8.2&lt;/junit.version&gt;\r\n    &lt;logback.version&gt;1.2.3&lt;/logback.version&gt;\r\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nhere&#39;s my code\r\n```java\r\n  @Test\r\n  public void commonValidate() throws JaxenException, SAXException, FileNotFoundException {\r\n    OMXMLParserWrapper parser = OMXMLBuilderFactory.createOMBuilder(\r\n        new FileInputStream(&quot;pom.xml&quot;));\r\n    AXIOMXPath xpath = new AXIOMXPath(&quot;//*&quot;);\r\n    List&lt;OMElement&gt; elements = xpath.selectNodes(parser.getDocumentElement());\r\n    SchemaFactory schemaFactory = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);\r\n    StreamSource schemaSource = new StreamSource(new File(&quot;maven-4.0.0.xsd&quot;));\r\n    Schema schema = schemaFactory.newSchema(schemaSource);\r\n    Validator validator = schema.newValidator();\r\n    \r\n    for (OMElement element : elements) {\r\n      try {\r\n        validator.validate(element.getSAXSource(true));\r\n        System.out.printf(&quot;Pom element: %s is valid\\n&quot;, element.getQName());\r\n      } catch (SAXException e) {\r\n        //e.printStackTrace();\r\n        System.out.println(&quot;Pom element is not valid: &quot; + e.getMessage());\r\n      } catch (IOException e) {\r\n        e.printStackTrace();\r\n        System.out.println(&quot;Error reading pom element: &quot; + e.getMessage());\r\n      }\r\n    }\r\n  }\r\n```\r\n\r\nthe xsd file: https://maven.apache.org/xsd/maven-4.0.0.xsd\r\n\r\n\r\nThis is the log printed on the console\r\n```\r\nPom element: {http://maven.apache.org/POM/4.0.0}project is valid\r\nPom element is not valid: cvc-elt.1.a: Cannot find the declaration of element &#39;modelVersion&#39;.\r\nPom element is not valid: cvc-elt.1.a: Cannot find the declaration of element &#39;artifactId&#39;.\r\nPom element is not valid: cvc-elt.1.a: Cannot find the declaration of element &#39;build&#39;.\r\nPom element is not valid: cvc-elt.1.a: Cannot find the declaration of element &#39;plugins&#39;.\r\nPom element is not valid: cvc-elt.1.a: Cannot find the declaration of element &#39;plugin&#39;.\r\nPom element is not valid: cvc-elt.1.a: Cannot find the declaration of element &#39;artifactId&#39;.\r\n...\r\n```\r\nOnly the first node is verified, and the rest of the nodes are thrown SAXException.\r\n","title":"axiom cvc-elt.1.a, only first node validated","body":"<p>I am trying to use Axiom to validate the pom file, but found that except the project can be verified successfully, the rest of the nodes have reported errors</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;artifactId&gt;library&lt;/artifactId&gt;\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;avro-maven-plugin&lt;/artifactId&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;configuration&gt;\n              &lt;outputDirectory&gt;${project.basedir}/src/main/java/&lt;/outputDirectory&gt;\n              &lt;sourceDirectory&gt;${project.basedir}/src/main/avro/&lt;/sourceDirectory&gt;\n            &lt;/configuration&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;schema&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;phase&gt;generate-sources&lt;/phase&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;groupId&gt;org.apache.avro&lt;/groupId&gt;\n        &lt;version&gt;1.11.1&lt;/version&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;1.8&lt;/source&gt;\n          &lt;target&gt;1.8&lt;/target&gt;\n        &lt;/configuration&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;/plugin&gt;\n\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n  &lt;dependencies&gt;\n\n    &lt;dependency&gt;\n      &lt;artifactId&gt;axiom-api&lt;/artifactId&gt;\n      &lt;groupId&gt;org.apache.ws.commons.axiom&lt;/groupId&gt;\n      &lt;version&gt;1.4.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;artifactId&gt;axiom-impl&lt;/artifactId&gt;\n      &lt;groupId&gt;org.apache.ws.commons.axiom&lt;/groupId&gt;\n      &lt;scope&gt;runtime&lt;/scope&gt;\n      &lt;version&gt;1.4.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n  &lt;/dependencies&gt;\n  &lt;groupId&gt;org.test&lt;/groupId&gt;\n\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;name&gt;library&lt;/name&gt;\n\n  &lt;properties&gt;\n    &lt;junit.version&gt;5.8.2&lt;/junit.version&gt;\n    &lt;logback.version&gt;1.2.3&lt;/logback.version&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n  &lt;/properties&gt;\n\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n&lt;/project&gt;\n\n</code></pre>\n<p>here's my code</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @Test\n  public void commonValidate() throws JaxenException, SAXException, FileNotFoundException {\n    OMXMLParserWrapper parser = OMXMLBuilderFactory.createOMBuilder(\n        new FileInputStream(&quot;pom.xml&quot;));\n    AXIOMXPath xpath = new AXIOMXPath(&quot;//*&quot;);\n    List&lt;OMElement&gt; elements = xpath.selectNodes(parser.getDocumentElement());\n    SchemaFactory schemaFactory = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);\n    StreamSource schemaSource = new StreamSource(new File(&quot;maven-4.0.0.xsd&quot;));\n    Schema schema = schemaFactory.newSchema(schemaSource);\n    Validator validator = schema.newValidator();\n    \n    for (OMElement element : elements) {\n      try {\n        validator.validate(element.getSAXSource(true));\n        System.out.printf(&quot;Pom element: %s is valid\\n&quot;, element.getQName());\n      } catch (SAXException e) {\n        //e.printStackTrace();\n        System.out.println(&quot;Pom element is not valid: &quot; + e.getMessage());\n      } catch (IOException e) {\n        e.printStackTrace();\n        System.out.println(&quot;Error reading pom element: &quot; + e.getMessage());\n      }\n    }\n  }\n</code></pre>\n<p>the xsd file: <a href=\"https://maven.apache.org/xsd/maven-4.0.0.xsd\" rel=\"nofollow noreferrer\">https://maven.apache.org/xsd/maven-4.0.0.xsd</a></p>\n<p>This is the log printed on the console</p>\n<pre><code>Pom element: {http://maven.apache.org/POM/4.0.0}project is valid\nPom element is not valid: cvc-elt.1.a: Cannot find the declaration of element 'modelVersion'.\nPom element is not valid: cvc-elt.1.a: Cannot find the declaration of element 'artifactId'.\nPom element is not valid: cvc-elt.1.a: Cannot find the declaration of element 'build'.\nPom element is not valid: cvc-elt.1.a: Cannot find the declaration of element 'plugins'.\nPom element is not valid: cvc-elt.1.a: Cannot find the declaration of element 'plugin'.\nPom element is not valid: cvc-elt.1.a: Cannot find the declaration of element 'artifactId'.\n...\n</code></pre>\n<p>Only the first node is verified, and the rest of the nodes are thrown SAXException.</p>\n"},{"tags":["java","spring","spring-boot","tomcat","deployment"],"answers":[{"tags":[],"owner":{"account_id":25764457,"reputation":21,"user_id":19514762,"display_name":"Wanjalize"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676579784,"creation_date":1676579784,"answer_id":75477667,"question_id":75477563,"body_markdown":"I thought Spring Boot came with a pre-installed web server, so there is no need to use this method. Why don&#39;t you use the current method which supports auto deployment of your application?","title":"Tomcat does not unpack spring boot application","body":"<p>I thought Spring Boot came with a pre-installed web server, so there is no need to use this method. Why don't you use the current method which supports auto deployment of your application?</p>\n"},{"tags":[],"owner":{"account_id":27797446,"reputation":28,"user_id":21222571,"display_name":"Learner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676583897,"creation_date":1676583271,"answer_id":75478161,"question_id":75477563,"body_markdown":"Please follow below.\r\n\r\n - Rename your war file at location webapps from web-0.0.1-SNAPSHOT.war to web.war\r\n - restart tomcat.\r\n - open url (http://localhost:8080/web) in browser.\r\n","title":"Tomcat does not unpack spring boot application","body":"<p>Please follow below.</p>\n<ul>\n<li>Rename your war file at location webapps from web-0.0.1-SNAPSHOT.war to web.war</li>\n<li>restart tomcat.</li>\n<li>open url (http://localhost:8080/web) in browser.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2460120,"reputation":58,"user_id":2144466,"display_name":"Stian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676621329,"creation_date":1676583283,"answer_id":75478163,"question_id":75477563,"body_markdown":"An Spring Boot application is a ready to run jar file which contains tomcat/jetty and can be run with `java -jar &lt;your app&gt;.jar`.\r\nWhen you want to run an application in tomcat you should build a `.war` file.\r\n\r\n======================================\r\n\r\nAs found here: https://stackoverflow.com/a/27905557/2144466\r\n\r\nDid you follow this guide: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto.traditional-deployment\r\n\r\nand do you have a class which extends `SpringBootServletInitializer` andd overwrites the `configure` method:\r\n`\r\n@SpringBootApplication\r\npublic class MyApplication extends SpringBootServletInitializer {\r\n\r\n    @Override\r\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n        return application.sources(MyApplication.class);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(MyApplication.class, args);\r\n    }\r\n`\r\n","title":"Tomcat does not unpack spring boot application","body":"<p>An Spring Boot application is a ready to run jar file which contains tomcat/jetty and can be run with <code>java -jar &lt;your app&gt;.jar</code>.\nWhen you want to run an application in tomcat you should build a <code>.war</code> file.</p>\n<p>======================================</p>\n<p>As found here: <a href=\"https://stackoverflow.com/a/27905557/2144466\">https://stackoverflow.com/a/27905557/2144466</a></p>\n<p>Did you follow this guide: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto.traditional-deployment\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto.traditional-deployment</a></p>\n<p>and do you have a class which extends <code>SpringBootServletInitializer</code> andd overwrites the <code>configure</code> method:\n`\n@SpringBootApplication\npublic class MyApplication extends SpringBootServletInitializer {</p>\n<pre><code>@Override\nprotected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n    return application.sources(MyApplication.class);\n}\n\npublic static void main(String[] args) {\n    SpringApplication.run(MyApplication.class, args);\n}\n</code></pre>\n<p>`</p>\n"},{"tags":[],"owner":{"account_id":26301723,"reputation":1,"user_id":20207123,"display_name":"Paulo In&#225;cio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676597287,"creation_date":1676597287,"answer_id":75479458,"question_id":75477563,"body_markdown":"I managed to solve the problem.\r\n\r\nApparently it was version incompatibility between spring, tomcat and java, by adjusting the system variables I can deploy both java 11 and java 17 applications.\r\n\r\nEven though I managed to find a solution, I thank the friends above for dedicating their time to trying to solve my problem.","title":"Tomcat does not unpack spring boot application","body":"<p>I managed to solve the problem.</p>\n<p>Apparently it was version incompatibility between spring, tomcat and java, by adjusting the system variables I can deploy both java 11 and java 17 applications.</p>\n<p>Even though I managed to find a solution, I thank the friends above for dedicating their time to trying to solve my problem.</p>\n"}],"owner":{"account_id":26301723,"reputation":1,"user_id":20207123,"display_name":"Paulo In&#225;cio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1676621329,"creation_date":1676579122,"question_id":75477563,"body_markdown":"thank you for your attention in reading my problem;\r\n\r\nI&#39;m trying to deploy a spring boot application but when I put it in the tomcat webapps folder it doesn&#39;t load my application, does anyone know what could be happening?\r\n\r\nI already tried to run several versions of java changing the system variables, I used several versions of tomcat but none unzip the application\r\n\r\nI&#39;m using java version 17\r\nand version apache-tomcat-9.0.71\r\n\r\n[Log Tomcat](https://i.stack.imgur.com/53sUS.png)\r\n\r\n[Tomcat Past](https://i.stack.imgur.com/3WeUR.png)","title":"Tomcat does not unpack spring boot application","body":"<p>thank you for your attention in reading my problem;</p>\n<p>I'm trying to deploy a spring boot application but when I put it in the tomcat webapps folder it doesn't load my application, does anyone know what could be happening?</p>\n<p>I already tried to run several versions of java changing the system variables, I used several versions of tomcat but none unzip the application</p>\n<p>I'm using java version 17\nand version apache-tomcat-9.0.71</p>\n<p><a href=\"https://i.stack.imgur.com/53sUS.png\" rel=\"nofollow noreferrer\">Log Tomcat</a></p>\n<p><a href=\"https://i.stack.imgur.com/3WeUR.png\" rel=\"nofollow noreferrer\">Tomcat Past</a></p>\n"},{"tags":["java","sql","spring","hibernate","recursion"],"comments":[{"owner":{"account_id":53229,"reputation":144049,"user_id":159145,"accept_rate":56,"display_name":"Dai"},"score":0,"creation_date":1676588633,"post_id":75478756,"comment_id":133173002,"body_markdown":"Why does it have to be recursive?","body":"Why does it have to be recursive?"},{"owner":{"account_id":27746768,"reputation":1,"user_id":21182101,"display_name":"Rubin"},"score":0,"creation_date":1676620689,"post_id":75478756,"comment_id":133177576,"body_markdown":"can do this and not recursively","body":"can do this and not recursively"}],"owner":{"account_id":27746768,"reputation":1,"user_id":21182101,"display_name":"Rubin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676620830,"creation_date":1676588469,"question_id":75478756,"body_markdown":"\r\n```\r\n    public void copyFolderStructure(UUID original, UUID newParent) {\r\n        User user = userService.getCurrentUser().get();\r\n        Document document = documentService.getById(original);\r\n        UUID newUuid = UUID.randomUUID();\r\n        document.setId(newUuid);\r\n        Document newDocPar = documentService.getById(newParent);\r\n\r\n        System.out.println(newDocPar);\r\n\r\n        document.setParent(newDocPar);\r\n        document.setCreatedBy(user.getLogin());\r\n        document.setLastModifiedBy(user.getLogin());\r\n        String directory = user.getLogin();\r\n        String destPath = directory + File.separator + UUID.randomUUID();\r\n        document.setPath(destPath);\r\n\r\n        Document newDocId = documentService.save(document);\r\n\r\n        List&lt;Document&gt; documents = documentService.getAllByParent(documentService.getById(original));\r\n\r\n        for(Document doc: documents) {\r\n            if(doc.getRecordType() == RecordType.Folder) {\r\n                copyFolderStructure(doc.getId(),newDocId.getId());\r\n            } else {\r\n                doc.setId(UUID.randomUUID());\r\n                doc.setParent(documentService.getById(newDocId.getId()));\r\n                doc.setCreatedBy(user.getLogin());\r\n                doc.setLastModifiedBy(user.getLogin());\r\n                String dir = user.getLogin();\r\n                String Path = directory + File.separator + UUID.randomUUID();\r\n                doc.setPath(Path);\r\n                documentService.save(doc);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n```\r\nhow i can write a recursive function with this entity in java to copy a structure with new id and parents id\r\nI try to obtain a copy of structure for example I have a Folder1 that contains Folder2, Folder3 file1 , and Folder3 containts file2 and file3 i need to obtain a copy in db with new id and parents id for this structure or biggest\r\nat the moment this function don&#39;t work correctly, if you know can do this non recursively","title":"I have a table in database that have id,name, createdBy, type(folder or file) parentId that is a join with id","body":"<pre><code>    public void copyFolderStructure(UUID original, UUID newParent) {\n        User user = userService.getCurrentUser().get();\n        Document document = documentService.getById(original);\n        UUID newUuid = UUID.randomUUID();\n        document.setId(newUuid);\n        Document newDocPar = documentService.getById(newParent);\n\n        System.out.println(newDocPar);\n\n        document.setParent(newDocPar);\n        document.setCreatedBy(user.getLogin());\n        document.setLastModifiedBy(user.getLogin());\n        String directory = user.getLogin();\n        String destPath = directory + File.separator + UUID.randomUUID();\n        document.setPath(destPath);\n\n        Document newDocId = documentService.save(document);\n\n        List&lt;Document&gt; documents = documentService.getAllByParent(documentService.getById(original));\n\n        for(Document doc: documents) {\n            if(doc.getRecordType() == RecordType.Folder) {\n                copyFolderStructure(doc.getId(),newDocId.getId());\n            } else {\n                doc.setId(UUID.randomUUID());\n                doc.setParent(documentService.getById(newDocId.getId()));\n                doc.setCreatedBy(user.getLogin());\n                doc.setLastModifiedBy(user.getLogin());\n                String dir = user.getLogin();\n                String Path = directory + File.separator + UUID.randomUUID();\n                doc.setPath(Path);\n                documentService.save(doc);\n            }\n        }\n\n    }\n\n</code></pre>\n<p>how i can write a recursive function with this entity in java to copy a structure with new id and parents id\nI try to obtain a copy of structure for example I have a Folder1 that contains Folder2, Folder3 file1 , and Folder3 containts file2 and file3 i need to obtain a copy in db with new id and parents id for this structure or biggest\nat the moment this function don't work correctly, if you know can do this non recursively</p>\n"},{"tags":["java","multithreading"],"owner":{"account_id":27714344,"reputation":9,"user_id":21156377,"display_name":"nupur_s"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1676413936,"answer_count":0,"score":0,"last_activity_date":1676620606,"creation_date":1675779086,"question_id":75374537,"body_markdown":"I was trying to implement the printing of even and odd numbers using two threads problem, not sure if we can put intrinsic locks over a static field of another class, please let me know if this is wrong. But I am getting IllegalMonitorStateException at the notify() method call.\r\nThe solution to the question asked in the following link - https://stackoverflow.com/questions/7126550/java-wait-and-notify-illegalmonitorstateexception , says to use an synchronized block to own the object&#39;s monitor, which I have already done. Still it&#39;s not working. As for using the Integer variale, since I am using the Integer wrapper here, it should have worked fine since I am actually instantiating the object for the Integer class : reference. for this : https://stackoverflow.com/questions/69634451/are-wrapper-classes-considered-objects-or-are-they-just-class-java.\r\nFrom this I suppose I should be able to acquire and release lock on the Integer variable. Please help me understand what&#39;s going wring in my code.\r\n\r\nHere&#39;s is the code that I tried :\r\n\r\n    public class PrintOddAndEvenNumbers {\r\n\r\n    public static volatile Integer count = 0;\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Thread t1 = new Thread(new PrintOddNumbers());\r\n        Thread t2 = new Thread(new PrintEvenNumbers());\r\n\r\n        t2.start();\r\n        t1.start();\r\n\r\n    }\r\n    }\r\n    \r\n    public class PrintEvenNumbers implements Runnable {\r\n\r\n\r\n    @Override\r\n    public void run() {\r\n\r\n        synchronized (PrintOddAndEvenNumbers.count) {\r\n            while (PrintOddAndEvenNumbers.count &lt; 10) {\r\n\r\n                try {\r\n                    while (PrintOddAndEvenNumbers.count % 2 == 1) {\r\n                        wait();\r\n                    }\r\n                } catch (InterruptedException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n\r\n                System.out.println(&quot;printing even number : &quot; + PrintOddAndEvenNumbers.count);\r\n                PrintOddAndEvenNumbers.count++;\r\n                notify();\r\n\r\n            }\r\n        }\r\n\r\n    }\r\n    }\r\n\r\n    public class PrintOddNumbers implements Runnable {\r\n\r\n\r\n    @Override\r\n    public void run() {\r\n\r\n        synchronized (PrintOddAndEvenNumbers.count) {\r\n            while (PrintOddAndEvenNumbers.count &lt; 10) {\r\n                    try {\r\n                        while (PrintOddAndEvenNumbers.count % 2 == 0) {\r\n                            wait();\r\n                        }\r\n                    } catch (InterruptedException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n\r\n                    System.out.println(&quot;printing odd number : &quot; + PrintOddAndEvenNumbers.count);\r\n                    PrintOddAndEvenNumbers.count++;\r\n                    notify();\r\n\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n\r\nAppreciate the help. \r\n","title":"getting IllegalMonitorStateException exception for notify() method call","body":"<p>I was trying to implement the printing of even and odd numbers using two threads problem, not sure if we can put intrinsic locks over a static field of another class, please let me know if this is wrong. But I am getting IllegalMonitorStateException at the notify() method call.\nThe solution to the question asked in the following link - <a href=\"https://stackoverflow.com/questions/7126550/java-wait-and-notify-illegalmonitorstateexception\">Java Wait and Notify: IllegalMonitorStateException</a> , says to use an synchronized block to own the object's monitor, which I have already done. Still it's not working. As for using the Integer variale, since I am using the Integer wrapper here, it should have worked fine since I am actually instantiating the object for the Integer class : reference. for this : <a href=\"https://stackoverflow.com/questions/69634451/are-wrapper-classes-considered-objects-or-are-they-just-class-java\">Are Wrapper Classes considered Objects? Or are they just Class? (JAVA)</a>.\nFrom this I suppose I should be able to acquire and release lock on the Integer variable. Please help me understand what's going wring in my code.</p>\n<p>Here's is the code that I tried :</p>\n<pre><code>public class PrintOddAndEvenNumbers {\n\npublic static volatile Integer count = 0;\n\npublic static void main(String[] args) {\n\n    Thread t1 = new Thread(new PrintOddNumbers());\n    Thread t2 = new Thread(new PrintEvenNumbers());\n\n    t2.start();\n    t1.start();\n\n}\n}\n\npublic class PrintEvenNumbers implements Runnable {\n\n\n@Override\npublic void run() {\n\n    synchronized (PrintOddAndEvenNumbers.count) {\n        while (PrintOddAndEvenNumbers.count &lt; 10) {\n\n            try {\n                while (PrintOddAndEvenNumbers.count % 2 == 1) {\n                    wait();\n                }\n            } catch (InterruptedException e) {\n                throw new RuntimeException(e);\n            }\n\n            System.out.println(&quot;printing even number : &quot; + PrintOddAndEvenNumbers.count);\n            PrintOddAndEvenNumbers.count++;\n            notify();\n\n        }\n    }\n\n}\n}\n\npublic class PrintOddNumbers implements Runnable {\n\n\n@Override\npublic void run() {\n\n    synchronized (PrintOddAndEvenNumbers.count) {\n        while (PrintOddAndEvenNumbers.count &lt; 10) {\n                try {\n                    while (PrintOddAndEvenNumbers.count % 2 == 0) {\n                        wait();\n                    }\n                } catch (InterruptedException e) {\n                    throw new RuntimeException(e);\n                }\n\n                System.out.println(&quot;printing odd number : &quot; + PrintOddAndEvenNumbers.count);\n                PrintOddAndEvenNumbers.count++;\n                notify();\n\n            }\n        }\n    }\n\n}\n</code></pre>\n<p>Appreciate the help.</p>\n"},{"tags":["java","operating-system","jvm"],"comments":[{"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"score":0,"creation_date":1676554744,"post_id":75470191,"comment_id":133163003,"body_markdown":"Can you clarify what you mean and how you intend to use this info? Do you mean virtual memory or physical memory? &quot;is allowed&quot; by whom? JVM does not differ from any other process in the OS wrt. memory limits.","body":"Can you clarify what you mean and how you intend to use this info? Do you mean virtual memory or physical memory? &quot;is allowed&quot; by whom? JVM does not differ from any other process in the OS wrt. memory limits."},{"owner":{"account_id":1674243,"reputation":10043,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"score":0,"creation_date":1676618717,"post_id":75470191,"comment_id":133177110,"body_markdown":"Thanks for your reply. First of all, probably yeah - it&#39;s a good point to be specific about the *type* of the memory, so I&#39;ve edited my question accordingly. Example: I started some java app, as `java -jar myjarfile.jar` and it is running. What if it consumes more and more.. occupies more and more RAM memory? is there any limit OS will impose or it/OS will give out the space of memory as much as needed? if there is also some peculiarity with respect to virtual (that is heap - I guess?) memory, I would love to hear that as well. Thanks in advance.","body":"Thanks for your reply. First of all, probably yeah - it&#39;s a good point to be specific about the <i>type</i> of the memory, so I&#39;ve edited my question accordingly. Example: I started some java app, as <code>java -jar myjarfile.jar</code> and it is running. What if it consumes more and more.. occupies more and more RAM memory? is there any limit OS will impose or it/OS will give out the space of memory as much as needed? if there is also some peculiarity with respect to virtual (that is heap - I guess?) memory, I would love to hear that as well. Thanks in advance."},{"owner":{"account_id":1674243,"reputation":10043,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"score":0,"creation_date":1676619085,"post_id":75470191,"comment_id":133177197,"body_markdown":"About *how I intend to use* - do not have a specific aim right now, but I think I may find this information useful.. if, let&#39;s say, something crashes due to some low-level memory related issue.. at least, I will have a chance to know whether Java takes enough memory it needs or not.","body":"About <i>how I intend to use</i> - do not have a specific aim right now, but I think I may find this information useful.. if, let&#39;s say, something crashes due to some low-level memory related issue.. at least, I will have a chance to know whether Java takes enough memory it needs or not."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1676620854,"post_id":75470191,"comment_id":133177616,"body_markdown":"Well the possibility exists.  For example, one of the ways to limit (virtual) memory usage is `ulimit` and a process can find our what its virtual memory ulimit is.  Of course, you won&#39;t find out if the OS will *be able to* give a process the memory it asks for ... until it asks for it.  The ulimit is a limit not a commitment.  Hence, knowing your JVM processes ulimit is not particularly useful.","body":"Well the possibility exists.  For example, one of the ways to limit (virtual) memory usage is <code>ulimit</code> and a process can find our what its virtual memory ulimit is.  Of course, you won&#39;t find out if the OS will <i>be able to</i> give a process the memory it asks for ... until it asks for it.  The ulimit is a limit not a commitment.  Hence, knowing your JVM processes ulimit is not particularly useful."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1676849209,"post_id":75470191,"comment_id":133215141,"body_markdown":"Another way that (Linux) memory is limited is using cgroup process memory and swap limits.  The same caveats apply as for ulimit.  In addition cgroups limits are on a group of processes not (say) just your JVM process.  And then there are the physical limits of how much RAM you have and how much space on the swap device(s).","body":"Another way that (Linux) memory is limited is using cgroup process memory and swap limits.  The same caveats apply as for ulimit.  In addition cgroups limits are on a group of processes not (say) just your JVM process.  And then there are the physical limits of how much RAM you have and how much space on the swap device(s)."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1676849284,"post_id":75470191,"comment_id":133215152,"body_markdown":"In short ... the *general* answer is that this is not practical on (for example) Linux.","body":"In short ... the <i>general</i> answer is that this is not practical on (for example) Linux."}],"owner":{"account_id":1674243,"reputation":10043,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676620435,"creation_date":1676539646,"question_id":75470191,"body_markdown":"Is there a way to know what is an upper limit (i.e. maximum size) of a physical memory (RAM), that JVM instance (i.e. any Java process) is allowed to obtain from the OS it runs on?\r\n\r\nIs it unlimited and Java will take as much as it needs during runtime or there is some limitation (predefined/pre-calculated size of memory) OS imposes on what size of memory it will possibly allocate to java, at most?\r\n\r\nIf there is, I understand, that it &lt;strike&gt;will&lt;/strike&gt; may be different for different Operating Systems, but my question refers to whether there is such a possibility at all or not.","title":"Is there a way to determine how much memory JVM is allowed to obtain from the underlying OS?","body":"<p>Is there a way to know what is an upper limit (i.e. maximum size) of a physical memory (RAM), that JVM instance (i.e. any Java process) is allowed to obtain from the OS it runs on?</p>\n<p>Is it unlimited and Java will take as much as it needs during runtime or there is some limitation (predefined/pre-calculated size of memory) OS imposes on what size of memory it will possibly allocate to java, at most?</p>\n<p>If there is, I understand, that it <strike>will</strike> may be different for different Operating Systems, but my question refers to whether there is such a possibility at all or not.</p>\n"},{"tags":["java","sonarqube","sonarqube-4.5","sonarqube-web"],"comments":[{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1458464793,"post_id":36111476,"comment_id":59865010,"body_markdown":"Does the other class import this one?","body":"Does the other class import this one?"},{"owner":{"account_id":412450,"reputation":6101,"user_id":785523,"accept_rate":87,"display_name":"tuk"},"score":0,"creation_date":1458464981,"post_id":36111476,"comment_id":59865054,"body_markdown":"No it does not import.","body":"No it does not import."}],"answers":[{"tags":[],"owner":{"account_id":3148809,"reputation":22476,"user_id":2662707,"display_name":"G. Ann - SonarSource Team"},"down_vote_count":1,"up_vote_count":38,"is_accepted":true,"score":37,"last_activity_date":1551085105,"creation_date":1458562927,"answer_id":36130915,"question_id":36111476,"body_markdown":"The Duplicate Blocks rule raises issues at the file level. So it&#39;s not trying to tell you that your import statement is duplicated, but that somewhere in the file is a duplicate block. If you&#39;ll scroll down, you should see a vertical yellow/orange bar in the left margin. It marks the duplicate block. Click on the bar to get details of where the block is duplicated.\r\n\r\n**EDIT** In more recent versions the duplication marker is brown or gray.","title":"Duplicated block of Code in Sonar for import statements in Java","body":"<p>The Duplicate Blocks rule raises issues at the file level. So it's not trying to tell you that your import statement is duplicated, but that somewhere in the file is a duplicate block. If you'll scroll down, you should see a vertical yellow/orange bar in the left margin. It marks the duplicate block. Click on the bar to get details of where the block is duplicated.</p>\n\n<p><strong>EDIT</strong> In more recent versions the duplication marker is brown or gray.</p>\n"},{"tags":[],"owner":{"account_id":2554816,"reputation":435,"user_id":11596889,"display_name":"Carlos Cruz"},"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1584462913,"creation_date":1584462913,"answer_id":60726538,"question_id":36111476,"body_markdown":"You have to look (scroll down) your code. There will be a duplication marker in brown/gray like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/J6arm.png","title":"Duplicated block of Code in Sonar for import statements in Java","body":"<p>You have to look (scroll down) your code. There will be a duplication marker in brown/gray like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/J6arm.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/J6arm.png\" alt=\"enter image description here\"></a></p>\n"}],"owner":{"account_id":412450,"reputation":6101,"user_id":785523,"accept_rate":87,"display_name":"tuk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82821,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":36130915,"answer_count":2,"score":22,"last_activity_date":1676620261,"creation_date":1458460870,"question_id":36111476,"body_markdown":"In Sonar 4.5.6 (with default settings) I am seeing `Duplicated Blocks` message as \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nMy java code for which I am getting the message is like below:-\r\n\r\n    package com.jabong.orchestratorservice.adapter.order.endpoints;\r\n    \r\n    import com.jabong.orchestratorservice.adapter.order.request.UpdateOrderStatusReadyShipRequest;\r\n    \r\n    public class UpdateOrderReadyShipEndPoint extends BaseOrderEndPoint {\r\n        private final static String API_NAME = &quot;setStatusToReadyToShip&quot;;\r\n    \r\n        @Override\r\n        public String getSourceEndPoint() {\r\n    \treturn new StringBuilder(&quot;direct:&quot;).append(API_NAME).toString();\r\n        }\r\n    \r\n        @Override\r\n        public String getDestinationEndPoint() {\r\n    \treturn new StringBuilder(&quot;bean:orderHelper?method=&quot;).append(API_NAME).toString();\r\n        }\r\n    \r\n        @Override\r\n        protected String getName() {\r\n    \treturn API_NAME;\r\n        }\r\n    \r\n        @Override\r\n        protected String getApiInputClassName() {\r\n    \treturn UpdateOrderStatusReadyShipRequest.class.getName();\r\n        }\r\n    }\r\n\r\n\r\n`UpdateOrderStatusReadyShipRequest` also does not import `UpdateOrderReadyShipEndPoint`\r\n\r\n    package com.jabong.orchestratorservice.adapter.order.request;\r\n    \r\n    public class UpdateOrderStatusReadyShipRequest extends BaseOrderRequest {\r\n\r\nCan some let me know what does this mean?\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/AFn8H.png\r\n\r\n","title":"Duplicated block of Code in Sonar for import statements in Java","body":"<p>In Sonar 4.5.6 (with default settings) I am seeing <code>Duplicated Blocks</code> message as </p>\n\n<p><a href=\"https://i.stack.imgur.com/AFn8H.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/AFn8H.png\" alt=\"enter image description here\"></a></p>\n\n<p>My java code for which I am getting the message is like below:-</p>\n\n<pre><code>package com.jabong.orchestratorservice.adapter.order.endpoints;\n\nimport com.jabong.orchestratorservice.adapter.order.request.UpdateOrderStatusReadyShipRequest;\n\npublic class UpdateOrderReadyShipEndPoint extends BaseOrderEndPoint {\n    private final static String API_NAME = \"setStatusToReadyToShip\";\n\n    @Override\n    public String getSourceEndPoint() {\n    return new StringBuilder(\"direct:\").append(API_NAME).toString();\n    }\n\n    @Override\n    public String getDestinationEndPoint() {\n    return new StringBuilder(\"bean:orderHelper?method=\").append(API_NAME).toString();\n    }\n\n    @Override\n    protected String getName() {\n    return API_NAME;\n    }\n\n    @Override\n    protected String getApiInputClassName() {\n    return UpdateOrderStatusReadyShipRequest.class.getName();\n    }\n}\n</code></pre>\n\n<p><code>UpdateOrderStatusReadyShipRequest</code> also does not import <code>UpdateOrderReadyShipEndPoint</code></p>\n\n<pre><code>package com.jabong.orchestratorservice.adapter.order.request;\n\npublic class UpdateOrderStatusReadyShipRequest extends BaseOrderRequest {\n</code></pre>\n\n<p>Can some let me know what does this mean?</p>\n"},{"tags":["java","rest-assured","linkedhashmap"],"answers":[{"tags":[],"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676617554,"creation_date":1676617554,"answer_id":75481116,"question_id":75480686,"body_markdown":"You just need change it to `List&lt;String&gt;`\r\n\r\n```java\r\nbody.put(&quot;ABC&quot;, Arrays.asList(&quot;XYZ&quot;));\r\n```","title":"When using Rest Assured, if I send a post request to summit data to server, how can I write &quot;ABC&quot;:[&quot;XYZ&quot;] this value in LinkedHashmap","body":"<p>You just need change it to <code>List&lt;String&gt;</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>body.put(&quot;ABC&quot;, Arrays.asList(&quot;XYZ&quot;));\n</code></pre>\n"}],"owner":{"account_id":27808710,"reputation":21,"user_id":21231501,"display_name":"Deepali Sinha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75481116,"answer_count":1,"score":0,"last_activity_date":1676620199,"creation_date":1676612917,"question_id":75480686,"body_markdown":"Request body is:-\r\n\r\n```\r\n{\r\n&quot;request&quot;:\r\n{\r\n  &quot;body&quot;: \r\n{\r\n    &quot;ABC&quot;:[&quot;XYZ&quot;],\r\n    &quot;PASSWORD&quot;: &quot;password&quot;\r\n  }\r\n}\r\n```\r\n\r\nMY CODE:-\r\n\r\nI am getting error in response because the ABC value is going in string format\r\n\r\n        Map body = new LinkedHashMap(6);\r\n        body.put(&quot;ABC&quot;,&quot;XYZ&quot;);\r\n        body.put(&quot;PASSWORD&quot;,&quot;password&quot;);\r\n\r\nwhat is the correct way to write this request body using LinkedHashMap in restAssured\r\n\r\n &quot;ABC&quot;:[&quot;XYZ&quot;],","title":"When using Rest Assured, if I send a post request to summit data to server, how can I write &quot;ABC&quot;:[&quot;XYZ&quot;] this value in LinkedHashmap","body":"<p>Request body is:-</p>\n<pre><code>{\n&quot;request&quot;:\n{\n  &quot;body&quot;: \n{\n    &quot;ABC&quot;:[&quot;XYZ&quot;],\n    &quot;PASSWORD&quot;: &quot;password&quot;\n  }\n}\n</code></pre>\n<p>MY CODE:-</p>\n<p>I am getting error in response because the ABC value is going in string format</p>\n<pre><code>    Map body = new LinkedHashMap(6);\n    body.put(&quot;ABC&quot;,&quot;XYZ&quot;);\n    body.put(&quot;PASSWORD&quot;,&quot;password&quot;);\n</code></pre>\n<p>what is the correct way to write this request body using LinkedHashMap in restAssured</p>\n<p>&quot;ABC&quot;:[&quot;XYZ&quot;],</p>\n"},{"tags":["java","sonarqube","sonarqube-scan"],"comments":[{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":0,"creation_date":1676670965,"post_id":75471199,"comment_id":133191537,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":23523602,"reputation":121,"user_id":17570426,"display_name":"davyioner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676545926,"creation_date":1676545926,"answer_id":75471425,"question_id":75471199,"body_markdown":"The scanner fails if it can’t find a HEAD reference when running a scan with git. Can you try commit something and try this again? Alternatively, if there is no HEAD, just specify -Dsonar.scm.disabled=true.\r\n\r\nSource: https://community.sonarsource.com/t/nullpointerexception-when-running-scan/15598/4","title":"Sonar Scanner null pointer error while run sonar-scanner.bat file","body":"<p>The scanner fails if it can’t find a HEAD reference when running a scan with git. Can you try commit something and try this again? Alternatively, if there is no HEAD, just specify -Dsonar.scm.disabled=true.</p>\n<p>Source: <a href=\"https://community.sonarsource.com/t/nullpointerexception-when-running-scan/15598/4\" rel=\"nofollow noreferrer\">https://community.sonarsource.com/t/nullpointerexception-when-running-scan/15598/4</a></p>\n"}],"owner":{"account_id":14221763,"reputation":1,"user_id":10273819,"display_name":"Nidhi Singh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":237,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1676620117,"creation_date":1676544706,"question_id":75471199,"body_markdown":"I am getting null pointer exception after executing sonar-scanner.bat file in windows terminal for java mutliple  application. I added path in sonar-scanner\r\n\r\n\r\n&gt; INFO: EXECUTION FAILURE INFO:\r\n&gt; ------------------------------------------------------------------------ INFO: Total time: 25.283s INFO: Final Memory: 15M/57M INFO:\r\n&gt; ------------------------------------------------------------------------ ERROR: Error during SonarScanner execution\r\n&gt; java.lang.NullPointerException\r\n&gt;         at org.sonarsource.scm.git.GitScmProviderBefore77.revisionId(GitScmProviderBefore77.java:173)\r\n&gt;         at org.sonar.scanner.scm.ScmRevisionImpl.get(ScmRevisionImpl.java:62)\r\n&gt;         at org.sonar.scanner.report.MetadataPublisher.addScmInformation(MetadataPublisher.java:153)\r\n&gt;         at org.sonar.scanner.report.MetadataPublisher.publish(MetadataPublisher.java:105)\r\n&gt;         at org.sonar.scanner.report.ReportPublisher.generateReportFile(ReportPublisher.java:152)\r\n&gt;         at org.sonar.scanner.report.ReportPublisher.execute(ReportPublisher.java:138)\r\n&gt;         at org.sonar.scanner.scan.ProjectScanContainer.doAfterStart(ProjectScanContainer.java:366)\r\n&gt;         at org.sonar.core.platform.ComponentContainer.startComponents(ComponentContainer.java:136)\r\n&gt;         at org.sonar.core.platform.ComponentContainer.execute(ComponentContainer.java:122)\r\n&gt;         at org.sonar.scanner.bootstrap.GlobalContainer.doAfterStart(GlobalContainer.java:141)\r\n&gt;         at org.sonar.core.platform.ComponentContainer.startComponents(ComponentContainer.java:136)\r\n&gt;         at org.sonar.core.platform.ComponentContainer.execute(ComponentContainer.java:122)\r\n&gt;         at org.sonar.batch.bootstrapper.Batch.doExecute(Batch.java:73)\r\n&gt;         at org.sonar.batch.bootstrapper.Batch.execute(Batch.java:67)\r\n&gt;         at org.sonarsource.scanner.api.internal.batch.BatchIsolatedLauncher.execute(BatchIsolatedLauncher.java:46)\r\n&gt;         at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\r\n&gt; Method)\r\n&gt;         at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown\r\n&gt; Source)\r\n&gt;         at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown\r\n&gt; Source)\r\n&gt;         at java.base/java.lang.reflect.Method.invoke(Unknown Source)\r\n&gt;         at org.sonarsource.scanner.api.internal.IsolatedLauncherProxy.invoke(IsolatedLauncherProxy.java:60)\r\n&gt;         at com.sun.proxy.$Proxy0.execute(Unknown Source)\r\n&gt;         at org.sonarsource.scanner.api.EmbeddedScanner.doExecute(EmbeddedScanner.java:189)\r\n&gt;         at org.sonarsource.scanner.api.EmbeddedScanner.execute(EmbeddedScanner.java:138)\r\n&gt;         at org.sonarsource.scanner.cli.Main.execute(Main.java:126)\r\n&gt;         at org.sonarsource.scanner.cli.Main.execute(Main.java:81)\r\n&gt;         at org.sonarsource.scanner.cli.Main.main(Main.java:62) ERROR: ERROR: Re-run SonarScanner using the -X switch to enable full debug\r\n&gt; logging.\r\n\r\n\r\nI am using below given version of sonarqube and sonarscanner.\r\nsonarqube-7.8\r\nsonar-scanner-cli-4.8.0.2856-windows\r\n\r\nI  am trying to get the testing report for my application in SonarQube(localhost :9000).\r\n\r\n\r\nAny help is appreciated, and if there is more information needed I will  provide it.\r\n\r\nThanks.","title":"Sonar Scanner null pointer error while run sonar-scanner.bat file","body":"<p>I am getting null pointer exception after executing sonar-scanner.bat file in windows terminal for java mutliple  application. I added path in sonar-scanner</p>\n<blockquote>\n<p>INFO: EXECUTION FAILURE INFO:\n------------------------------------------------------------------------ INFO: Total time: 25.283s INFO: Final Memory: 15M/57M INFO:\n------------------------------------------------------------------------ ERROR: Error during SonarScanner execution\njava.lang.NullPointerException\nat org.sonarsource.scm.git.GitScmProviderBefore77.revisionId(GitScmProviderBefore77.java:173)\nat org.sonar.scanner.scm.ScmRevisionImpl.get(ScmRevisionImpl.java:62)\nat org.sonar.scanner.report.MetadataPublisher.addScmInformation(MetadataPublisher.java:153)\nat org.sonar.scanner.report.MetadataPublisher.publish(MetadataPublisher.java:105)\nat org.sonar.scanner.report.ReportPublisher.generateReportFile(ReportPublisher.java:152)\nat org.sonar.scanner.report.ReportPublisher.execute(ReportPublisher.java:138)\nat org.sonar.scanner.scan.ProjectScanContainer.doAfterStart(ProjectScanContainer.java:366)\nat org.sonar.core.platform.ComponentContainer.startComponents(ComponentContainer.java:136)\nat org.sonar.core.platform.ComponentContainer.execute(ComponentContainer.java:122)\nat org.sonar.scanner.bootstrap.GlobalContainer.doAfterStart(GlobalContainer.java:141)\nat org.sonar.core.platform.ComponentContainer.startComponents(ComponentContainer.java:136)\nat org.sonar.core.platform.ComponentContainer.execute(ComponentContainer.java:122)\nat org.sonar.batch.bootstrapper.Batch.doExecute(Batch.java:73)\nat org.sonar.batch.bootstrapper.Batch.execute(Batch.java:67)\nat org.sonarsource.scanner.api.internal.batch.BatchIsolatedLauncher.execute(BatchIsolatedLauncher.java:46)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\nMethod)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown\nSource)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown\nSource)\nat java.base/java.lang.reflect.Method.invoke(Unknown Source)\nat org.sonarsource.scanner.api.internal.IsolatedLauncherProxy.invoke(IsolatedLauncherProxy.java:60)\nat com.sun.proxy.$Proxy0.execute(Unknown Source)\nat org.sonarsource.scanner.api.EmbeddedScanner.doExecute(EmbeddedScanner.java:189)\nat org.sonarsource.scanner.api.EmbeddedScanner.execute(EmbeddedScanner.java:138)\nat org.sonarsource.scanner.cli.Main.execute(Main.java:126)\nat org.sonarsource.scanner.cli.Main.execute(Main.java:81)\nat org.sonarsource.scanner.cli.Main.main(Main.java:62) ERROR: ERROR: Re-run SonarScanner using the -X switch to enable full debug\nlogging.</p>\n</blockquote>\n<p>I am using below given version of sonarqube and sonarscanner.\nsonarqube-7.8\nsonar-scanner-cli-4.8.0.2856-windows</p>\n<p>I  am trying to get the testing report for my application in SonarQube(localhost :9000).</p>\n<p>Any help is appreciated, and if there is more information needed I will  provide it.</p>\n<p>Thanks.</p>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":4153318,"reputation":19445,"user_id":3405171,"display_name":"v.ladynev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1462288432,"creation_date":1462284213,"answer_id":37006444,"question_id":37006384,"body_markdown":"Please, put `hibernate.cfg.xml` in the root of `src` folder.\r\n\r\nAnd use\r\n\r\n    &lt;mapping resource=&quot;HibernateExposed/Person.hbm.xml&quot;/&gt;\r\n\r\nHibernate loads all those files using `ClassLoader.getResourceAsStream(resourcePath)`  `resourcePath` — is the path to the file\r\n\r\n`ClassLoader` tries to get access to the files in the root of `bin` or `build` folder in the IDE, or root of `jar`, or root of `war/WEB-INF/classes/` for web-applications. Those all are the root of the class path. \r\n\r\n`bin` is a folder where Eclipse compiles your files. The root of `src` folder is compiled to the root of `bin` folder. You can check it.\r\n\r\nFor an example\r\n\r\n`configure(&quot;hibernate.cfg.xml&quot;)` — `bin/hibernate.cfg.xml` `configure(&quot;xxx/hibernate.cfg.xml&quot;)` — `bin/xxx/hibernate.cfg.xml`\r\n\r\n     &lt;mapping resource=&quot;HibernateExposed/Person.hbm.xml&quot;/&gt;\r\n\r\ncorresponds `bin/HibernateExposed/Person.hbm.xml`\r\n\r\nA path should be without the leading `/` for a `ClassLoader`. Hibernate tries to delete the leading `/`. \r\n\r\nA path like this is valid too\r\n\r\n    &lt;mapping resource=&quot;/HibernateExposed/Person.hbm.xml&quot;/&gt;\r\n\r\n**Update**  \r\n\r\nYou can specify path to the `hibernate.cfg.xml`, if you don&#39;t want to have it in the root\r\n\r\n`new Configuration().configure(&quot;HibernateExposed/hibernate.cfg.xml&quot;)`\r\n\r\nif you use\r\n\r\n`new Configuration().configure()`\r\n\r\nit should be in the root of the class path. ","title":"org.hibernate.boot.MappingNotFoundException: Mapping (RESOURCE) not found","body":"<p>Please, put <code>hibernate.cfg.xml</code> in the root of <code>src</code> folder.</p>\n\n<p>And use</p>\n\n<pre><code>&lt;mapping resource=\"HibernateExposed/Person.hbm.xml\"/&gt;\n</code></pre>\n\n<p>Hibernate loads all those files using <code>ClassLoader.getResourceAsStream(resourcePath)</code>  <code>resourcePath</code> — is the path to the file</p>\n\n<p><code>ClassLoader</code> tries to get access to the files in the root of <code>bin</code> or <code>build</code> folder in the IDE, or root of <code>jar</code>, or root of <code>war/WEB-INF/classes/</code> for web-applications. Those all are the root of the class path. </p>\n\n<p><code>bin</code> is a folder where Eclipse compiles your files. The root of <code>src</code> folder is compiled to the root of <code>bin</code> folder. You can check it.</p>\n\n<p>For an example</p>\n\n<p><code>configure(\"hibernate.cfg.xml\")</code> — <code>bin/hibernate.cfg.xml</code> <code>configure(\"xxx/hibernate.cfg.xml\")</code> — <code>bin/xxx/hibernate.cfg.xml</code></p>\n\n<pre><code> &lt;mapping resource=\"HibernateExposed/Person.hbm.xml\"/&gt;\n</code></pre>\n\n<p>corresponds <code>bin/HibernateExposed/Person.hbm.xml</code></p>\n\n<p>A path should be without the leading <code>/</code> for a <code>ClassLoader</code>. Hibernate tries to delete the leading <code>/</code>. </p>\n\n<p>A path like this is valid too</p>\n\n<pre><code>&lt;mapping resource=\"/HibernateExposed/Person.hbm.xml\"/&gt;\n</code></pre>\n\n<p><strong>Update</strong>  </p>\n\n<p>You can specify path to the <code>hibernate.cfg.xml</code>, if you don't want to have it in the root</p>\n\n<p><code>new Configuration().configure(\"HibernateExposed/hibernate.cfg.xml\")</code></p>\n\n<p>if you use</p>\n\n<p><code>new Configuration().configure()</code></p>\n\n<p>it should be in the root of the class path. </p>\n"},{"tags":[],"owner":{"account_id":25402002,"reputation":1,"user_id":19211317,"display_name":"Harshana Jayaweera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676619694,"creation_date":1676356139,"answer_id":75444187,"question_id":37006384,"body_markdown":"none of this worked for me, then I tried this:-\r\n\r\n(replace this method in FactoryConfiguration singleton Class)\r\n\r\n    private FactoryConfiguration() {\r\n            Configuration configuration = new Configuration().configure(&quot;hibernate.cfg.xml&quot;).addAnnotatedClass(***Class Name***.class);\r\n            sessionFactory = configuration.buildSessionFactory();\r\n        }","title":"org.hibernate.boot.MappingNotFoundException: Mapping (RESOURCE) not found","body":"<p>none of this worked for me, then I tried this:-</p>\n<p>(replace this method in FactoryConfiguration singleton Class)</p>\n<pre><code>private FactoryConfiguration() {\n        Configuration configuration = new Configuration().configure(&quot;hibernate.cfg.xml&quot;).addAnnotatedClass(***Class Name***.class);\n        sessionFactory = configuration.buildSessionFactory();\n    }\n</code></pre>\n"}],"owner":{"account_id":4126198,"reputation":187,"user_id":3385275,"accept_rate":80,"display_name":"rahulv21"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10691,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":37006444,"answer_count":2,"score":3,"last_activity_date":1676619694,"creation_date":1462284071,"question_id":37006384,"body_markdown":"I have been trying my hand to implement hibernate using a small example.\r\n\r\nBelow is my hibernate.config.xml\r\n\r\n    &lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;\r\n    &lt;!DOCTYPE hibernate-configuration PUBLIC\r\n    &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\r\n    &quot;http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd&quot;&gt;\r\n\t&lt;hibernate-configuration&gt;\r\n\t&lt;session-factory&gt;\r\n\t&lt;property name=&quot;connection.driver_class&quot;&gt;\r\n\tcom.mysql.jdbc.Driver\r\n\t&lt;/property&gt;\r\n\t&lt;property name=&quot;connection.url&quot;&gt;\r\n\tjdbc:mysql://localhost:3306/abc\r\n\t&lt;/property&gt;\r\n\t&lt;property name=&quot;connection.username&quot;&gt;root&lt;/property&gt;\r\n\t&lt;property name=&quot;connection.password&quot;&gt;&lt;/property&gt;\r\n\t&lt;property name=&quot;dialect&quot;&gt;\r\n\torg.hibernate.dialect.MySQLDialect\r\n\t&lt;/property&gt;\r\n\t&lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n\t&lt;mapping\r\n\tresource=&quot;HibernateExample/src/HibernateExposed/Resource/Person.hbm.xml&quot;/&gt;\r\n\t&lt;/session-factory&gt;\r\n\t&lt;/hibernate-configuration&gt;\r\n\r\nWhen running the code I am getting error org.hibernate.boot.MappingNotFoundException: Mapping (RESOURCE) not found.\r\n\r\nI tried replacing mapping as below\r\n\r\n    &lt;mapping\r\n\tresource=&quot;Resource/Person.hbm.xml&quot;/&gt;\r\n\r\nand also tried to keep the mapping xml at same location as hibernate.config.xml.\r\n\r\n    &lt;mapping\r\n\tresource=&quot;Person.hbm.xml&quot;/&gt;\r\n\r\nUnder none of above mentioned cases, code can find my Person.hbm.xml.\r\n\r\nMy folder structure looks as below\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI looked at all other answers for this error on Stackoverflow but none of the approaches resolved this issue. Any help is highly appreciated. Also, is there any approach to debug this further to granular level?\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/KnNcP.png","title":"org.hibernate.boot.MappingNotFoundException: Mapping (RESOURCE) not found","body":"<p>I have been trying my hand to implement hibernate using a small example.</p>\n\n<p>Below is my hibernate.config.xml</p>\n\n<pre><code>&lt;?xml version='1.0' encoding='utf-8'?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC\n\"-//Hibernate/Hibernate Configuration DTD 3.0//EN\"\n\"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd\"&gt;\n&lt;hibernate-configuration&gt;\n&lt;session-factory&gt;\n&lt;property name=\"connection.driver_class\"&gt;\ncom.mysql.jdbc.Driver\n&lt;/property&gt;\n&lt;property name=\"connection.url\"&gt;\njdbc:mysql://localhost:3306/abc\n&lt;/property&gt;\n&lt;property name=\"connection.username\"&gt;root&lt;/property&gt;\n&lt;property name=\"connection.password\"&gt;&lt;/property&gt;\n&lt;property name=\"dialect\"&gt;\norg.hibernate.dialect.MySQLDialect\n&lt;/property&gt;\n&lt;property name=\"show_sql\"&gt;true&lt;/property&gt;\n&lt;mapping\nresource=\"HibernateExample/src/HibernateExposed/Resource/Person.hbm.xml\"/&gt;\n&lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n\n<p>When running the code I am getting error org.hibernate.boot.MappingNotFoundException: Mapping (RESOURCE) not found.</p>\n\n<p>I tried replacing mapping as below</p>\n\n<pre><code>&lt;mapping\nresource=\"Resource/Person.hbm.xml\"/&gt;\n</code></pre>\n\n<p>and also tried to keep the mapping xml at same location as hibernate.config.xml.</p>\n\n<pre><code>&lt;mapping\nresource=\"Person.hbm.xml\"/&gt;\n</code></pre>\n\n<p>Under none of above mentioned cases, code can find my Person.hbm.xml.</p>\n\n<p>My folder structure looks as below</p>\n\n<p><a href=\"https://i.stack.imgur.com/KnNcP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KnNcP.png\" alt=\"enter image description here\"></a></p>\n\n<p>I looked at all other answers for this error on Stackoverflow but none of the approaches resolved this issue. Any help is highly appreciated. Also, is there any approach to debug this further to granular level?</p>\n"},{"tags":["java","character","extract"],"comments":[{"owner":{"account_id":295859,"reputation":13588,"user_id":600486,"accept_rate":80,"display_name":"blurfus"},"score":1,"creation_date":1676614915,"post_id":75480573,"comment_id":133176460,"body_markdown":"Please show your code with what you have tried already in a [mre] - Also read the [ask] page for tips on how to improve this questions.  Welcome to [so] - Take the [tour]  (and earn a badge while at it)","body":"Please show your code with what you have tried already in a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> - Also read the <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> page for tips on how to improve this questions.  Welcome to <a href=\"https://stackoverflow.com\">Stack Overflow</a> - Take the <a href=\"https://stackoverflow.com/tour\">tour</a>  (and earn a badge while at it)"},{"owner":{"account_id":18077995,"reputation":13,"user_id":21197729,"display_name":"RONNY"},"score":0,"creation_date":1676625022,"post_id":75480573,"comment_id":133178752,"body_markdown":"Will definitely work on the way to ask question thanking you for pointing it out would read it clearly and update my question","body":"Will definitely work on the way to ask question thanking you for pointing it out would read it clearly and update my question"},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1676627757,"post_id":75480573,"comment_id":133179541,"body_markdown":"Note that sometimes accented characters are represented using the base character plus a &quot;combining diacritic&quot;  so à might be &#39;a&#39; and U+0300 (combining grave diacritc). You can use `java.text.Normalizer` to deal with this.","body":"Note that sometimes accented characters are represented using the base character plus a &quot;combining diacritic&quot;  so à might be &#39;a&#39; and U+0300 (combining grave diacritc). You can use <code>java.text.Normalizer</code> to deal with this."}],"answers":[{"tags":[],"owner":{"account_id":4561654,"reputation":3050,"user_id":3703819,"display_name":"dey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676619587,"creation_date":1676618270,"answer_id":75481205,"question_id":75480573,"body_markdown":"If you want to match word that contains the accent letter you need to go with something like:\r\n\r\n```\r\n[a-zA-Z&#224;-&#252;&#192;-&#220;]*[&#224;-&#252;&#192;-&#220;][a-zA-Z&#224;-&#252;&#192;-&#220;]*\r\n```\r\n\r\nexplenation:\r\n\r\n- `[a-zA-Z&#224;-&#252;&#192;-&#220;]*` - this will match all the accent and not accent letters (so we can have other accent/non-accent letters in our word) - the star `*` modifier is here to match zero or more letters\r\n- `[&#224;-&#252;&#192;-&#220;]` - this will match exactly one accent letter - to force matching only the words with an accent\r\n","title":"Extract and Print only accent characters through regular expression in JAVA","body":"<p>If you want to match word that contains the accent letter you need to go with something like:</p>\n<pre><code>[a-zA-Zà-üÀ-Ü]*[à-üÀ-Ü][a-zA-Zà-üÀ-Ü]*\n</code></pre>\n<p>explenation:</p>\n<ul>\n<li><code>[a-zA-Zà-üÀ-Ü]*</code> - this will match all the accent and not accent letters (so we can have other accent/non-accent letters in our word) - the star <code>*</code> modifier is here to match zero or more letters</li>\n<li><code>[à-üÀ-Ü]</code> - this will match exactly one accent letter - to force matching only the words with an accent</li>\n</ul>\n"}],"owner":{"account_id":18077995,"reputation":13,"user_id":21197729,"display_name":"RONNY"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75481205,"answer_count":1,"score":1,"last_activity_date":1676619587,"creation_date":1676611807,"question_id":75480573,"body_markdown":"Been trying to extract only accent characters[a particular word] from a multiple text files in a folder.\r\nDon&#39;t want to remove or convert accent characters to normal characters but print only those characters which are accent in multiple text files and mixed files which has both accent[words] and normal characters. in JAVA\r\n\r\n\r\n**only to extract all accent specific words.\r\n**\r\nafter searching and exploring for a while this a link below is a type of one solution, similar regex but doesn&#39;t work as required also select null values and normal characters. \r\nhttps://stackoverflow.com/questions/51732439/regex-accented-characters-for-special-field\r\n\r\nanother solution found for that is ([a-zA-Z]|[&#224;-&#252;]|[&#192;-&#220;])\r\nit selects each letter separately not feasible as it not word specific and also selects both normal and accent.","title":"Extract and Print only accent characters through regular expression in JAVA","body":"<p>Been trying to extract only accent characters[a particular word] from a multiple text files in a folder.\nDon't want to remove or convert accent characters to normal characters but print only those characters which are accent in multiple text files and mixed files which has both accent[words] and normal characters. in JAVA</p>\n<p>**only to extract all accent specific words.\n**\nafter searching and exploring for a while this a link below is a type of one solution, similar regex but doesn't work as required also select null values and normal characters.\n<a href=\"https://stackoverflow.com/questions/51732439/regex-accented-characters-for-special-field\">Regex accented Characters for special field</a></p>\n<p>another solution found for that is ([a-zA-Z]|[à-ü]|[À-Ü])\nit selects each letter separately not feasible as it not word specific and also selects both normal and accent.</p>\n"},{"tags":["java","json","curl","url","httpsurlconnection"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":2,"creation_date":1676237555,"post_id":75430267,"comment_id":133092506,"body_markdown":"What do you want to do with that huge lump of data? Just print it to the screen? You probably can&#39;t load it into memory as a whole as long as you don&#39;t modify the JVM settings for heap size, but depending on your needs, maybe you don&#39;t need to...","body":"What do you want to do with that huge lump of data? Just print it to the screen? You probably can&#39;t load it into memory as a whole as long as you don&#39;t modify the JVM settings for heap size, but depending on your needs, maybe you don&#39;t need to..."},{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":3,"creation_date":1676237585,"post_id":75430267,"comment_id":133092516,"body_markdown":"To start with, don&#39;t use a line-oriented method when there are no lines in the input.  You can just use read() on the InputStream, in convenient buffer-loads.  I&#39;d also try and avoid building the entire 300M-char string (=600M bytes as UTF-16).","body":"To start with, don&#39;t use a line-oriented method when there are no lines in the input.  You can just use read() on the InputStream, in convenient buffer-loads.  I&#39;d also try and avoid building the entire 300M-char string (=600M bytes as UTF-16)."},{"owner":{"account_id":4651914,"reputation":13,"user_id":3768575,"display_name":"Daniel Vaughn"},"score":0,"creation_date":1676259593,"post_id":75430267,"comment_id":133094940,"body_markdown":"@cyberbrain I want to save it as a file then parse the file for an offline database. I would like to get my application to do this so the user doesn&#39;t have to download it themselves. I already have a way to parse the file so I need a way to get the file.","body":"@cyberbrain I want to save it as a file then parse the file for an offline database. I would like to get my application to do this so the user doesn&#39;t have to download it themselves. I already have a way to parse the file so I need a way to get the file."},{"owner":{"account_id":13179806,"reputation":91,"user_id":21197077,"display_name":"gneginskiy"},"score":0,"creation_date":1676282815,"post_id":75430267,"comment_id":133099091,"body_markdown":"https://stackoverflow.com/a/25045224/21197077 this might be helpful","body":"<a href=\"https://stackoverflow.com/a/25045224/21197077\">stackoverflow.com/a/25045224/21197077</a> this might be helpful"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1676364820,"post_id":75430267,"comment_id":133117306,"body_markdown":"FYI: you&#39;re not doing yourself many favors by staying on a  9 year old Java version that has reached its EOL last year in order to stay on an IDE release version from 7 years ago. Eclipse is free and JDK installations are free. Get the latest Eclipse and a recent JDK.","body":"FYI: you&#39;re not doing yourself many favors by staying on a  9 year old Java version that has reached its EOL last year in order to stay on an IDE release version from 7 years ago. Eclipse is free and JDK installations are free. Get the latest Eclipse and a recent JDK."}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676361487,"creation_date":1676302092,"answer_id":75437930,"question_id":75430267,"body_markdown":"There is no need to use byte-&gt;character conversion with `BufferedReader` just to make a copy. Instead copy the content directly to a file using Java NIO [Files.copy][1], and then use the output file for any further processing:\r\n\r\n    Path file = Path.of(&quot;big.json&quot;); \r\n    // Older JDK use Paths.get(&quot;filename&quot;)\r\n    Files.copy(conn.getInputStream(), file);\r\n    System.out.println(&quot;Saved &quot;+Files.size(file)+&quot; bytes to &quot;+file);\r\n\r\nWhich should print:\r\n\r\n    Saved 313144388 bytes to big.json\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/nio/file/Files.html#copy(java.io.InputStream,java.nio.file.Path,java.nio.file.CopyOption...)","title":"How to read url with ~300 MB of json text","body":"<p>There is no need to use byte-&gt;character conversion with <code>BufferedReader</code> just to make a copy. Instead copy the content directly to a file using Java NIO <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/nio/file/Files.html#copy(java.io.InputStream,java.nio.file.Path,java.nio.file.CopyOption...)\" rel=\"nofollow noreferrer\">Files.copy</a>, and then use the output file for any further processing:</p>\n<pre><code>Path file = Path.of(&quot;big.json&quot;); \n// Older JDK use Paths.get(&quot;filename&quot;)\nFiles.copy(conn.getInputStream(), file);\nSystem.out.println(&quot;Saved &quot;+Files.size(file)+&quot; bytes to &quot;+file);\n</code></pre>\n<p>Which should print:</p>\n<pre><code>Saved 313144388 bytes to big.json\n</code></pre>\n"}],"owner":{"account_id":4651914,"reputation":13,"user_id":3768575,"display_name":"Daniel Vaughn"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676619463,"creation_date":1676236992,"question_id":75430267,"body_markdown":"I&#39;m trying to read the text from https://mtgjson.com/api/v5/AllPrintings.json. I have tried with this code:\r\n\r\n```\r\nurl = new URL(&quot;https://mtgjson.com/api/v5/AllPrintings.json&quot;);\r\nconn = (HttpsURLConnection) url.openConnection();\r\n\r\nBufferedReader in = new BufferedReader(new InputStreamReader(conn.getInputStream())); // error here\r\n\r\nString inputLine;\r\nStringBuffer content = new StringBuffer();\r\nwhile ((inputLine = in.readLine()) != null) {\r\n    content.append(inputLine);\r\n}\r\nSystem.out.println(content);\r\n```\r\nI keep getting IOException with the BufferedReader (conn.getInputStream()). The text from the url does not contain a new line character. How can I read this data?\r\n\r\n(Edit)  \r\nI&#39;m using Java 1.8 with Apache NetBeans 16. I&#39;m sticking with 1.8 so I can also use Eclipse Neon3.\r\n\r\nError:  \r\n```\r\njava.io.IOException: Server returned HTTP response code: 403 for URL: https://mtgjson.com/api/v5/AllPrintings.json\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1894)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1492)\r\n\tat sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:263)\r\n\tat tests.MtgJson.main(MtgJson.java:44)\r\n```\r\n\r\nI&#39;ve also been trying ProcessBuilder with curl and it&#39;s giving better results but curl stops after about a minute. Curl continues if I terminate the program inside Netbeans but doesn&#39;t always finish creating the file contents. I shouldn&#39;t have to stop my program for curl to continue. Is there something I&#39;m missing for curl to work?\r\n\r\n```\r\nString command = &quot;curl --keepalive-time 5 https://mtgjson.com/api/v5/AllPrintings.json&quot;;\r\nProcessBuilder pb = new ProcessBuilder(command.split(&quot; &quot;));\r\npb.redirectOutput(new File(&quot;AllPrintings.json&quot;));\r\nProcess process = pb.start();\r\n// use while() or process.waitfor();\r\nwhile(process.isAlive())\r\n    Thread.sleep(1000);\r\nprocess.destroy();\r\n```\r\n\r\nAnswer (since I can&#39;t post one):  \r\n```\r\nString command = &quot;curl https://mtgjson.com/api/v5/AllPrintings.json&quot;;\r\nProcessBuilder pb = new ProcessBuilder(command.split(&quot; &quot;));\r\n\r\npb.inheritIO(); // keep the program from hanging\r\npb.redirectOutput(new File(&quot;AllPrintings.json&quot;));\r\n\r\nProcess process = pb.start();\r\nprocess.waitFor(); // waiting for the process to terminate.\r\n```\r\n\r\nThe complete file is created without hanging then the program will close. Curl outputs info to the console and must be consumed [(found here)](https://www.reddit.com/r/learnjava/comments/i6zfj3/comment/g0z0wbq/?utm_source=share&amp;utm_medium=web2x&amp;context=3).","title":"How to read url with ~300 MB of json text","body":"<p>I'm trying to read the text from <a href=\"https://mtgjson.com/api/v5/AllPrintings.json\" rel=\"nofollow noreferrer\">https://mtgjson.com/api/v5/AllPrintings.json</a>. I have tried with this code:</p>\n<pre><code>url = new URL(&quot;https://mtgjson.com/api/v5/AllPrintings.json&quot;);\nconn = (HttpsURLConnection) url.openConnection();\n\nBufferedReader in = new BufferedReader(new InputStreamReader(conn.getInputStream())); // error here\n\nString inputLine;\nStringBuffer content = new StringBuffer();\nwhile ((inputLine = in.readLine()) != null) {\n    content.append(inputLine);\n}\nSystem.out.println(content);\n</code></pre>\n<p>I keep getting IOException with the BufferedReader (conn.getInputStream()). The text from the url does not contain a new line character. How can I read this data?</p>\n<p>(Edit)<br />\nI'm using Java 1.8 with Apache NetBeans 16. I'm sticking with 1.8 so I can also use Eclipse Neon3.</p>\n<p>Error:</p>\n<pre><code>java.io.IOException: Server returned HTTP response code: 403 for URL: https://mtgjson.com/api/v5/AllPrintings.json\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1894)\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1492)\n    at sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:263)\n    at tests.MtgJson.main(MtgJson.java:44)\n</code></pre>\n<p>I've also been trying ProcessBuilder with curl and it's giving better results but curl stops after about a minute. Curl continues if I terminate the program inside Netbeans but doesn't always finish creating the file contents. I shouldn't have to stop my program for curl to continue. Is there something I'm missing for curl to work?</p>\n<pre><code>String command = &quot;curl --keepalive-time 5 https://mtgjson.com/api/v5/AllPrintings.json&quot;;\nProcessBuilder pb = new ProcessBuilder(command.split(&quot; &quot;));\npb.redirectOutput(new File(&quot;AllPrintings.json&quot;));\nProcess process = pb.start();\n// use while() or process.waitfor();\nwhile(process.isAlive())\n    Thread.sleep(1000);\nprocess.destroy();\n</code></pre>\n<p>Answer (since I can't post one):</p>\n<pre><code>String command = &quot;curl https://mtgjson.com/api/v5/AllPrintings.json&quot;;\nProcessBuilder pb = new ProcessBuilder(command.split(&quot; &quot;));\n\npb.inheritIO(); // keep the program from hanging\npb.redirectOutput(new File(&quot;AllPrintings.json&quot;));\n\nProcess process = pb.start();\nprocess.waitFor(); // waiting for the process to terminate.\n</code></pre>\n<p>The complete file is created without hanging then the program will close. Curl outputs info to the console and must be consumed <a href=\"https://www.reddit.com/r/learnjava/comments/i6zfj3/comment/g0z0wbq/?utm_source=share&amp;utm_medium=web2x&amp;context=3\" rel=\"nofollow noreferrer\">(found here)</a>.</p>\n"},{"tags":["java","jtextfield","netbeans-8","jdatechooser"],"comments":[{"owner":{"account_id":73745,"reputation":20493,"user_id":212211,"accept_rate":89,"display_name":"ring bearer"},"score":1,"creation_date":1437403145,"post_id":31519036,"comment_id":50999827,"body_markdown":"What exactly you mean by &quot;it doesn&#39;t work&quot; ? Can you share the output you got so far? May be you just need to do `p. getYears()`, `p. getMonths()` etc.","body":"What exactly you mean by &quot;it doesn&#39;t work&quot; ? Can you share the output you got so far? May be you just need to do <code>p. getYears()</code>, <code>p. getMonths()</code> etc."},{"owner":{"account_id":3480889,"reputation":17,"user_id":2912977,"accept_rate":62,"display_name":"Sam"},"score":0,"creation_date":1437407016,"post_id":31519036,"comment_id":51002679,"body_markdown":"i wrote age.setText(p.getyears) and i got &quot;incompatible types:it can not be converted to string&quot;","body":"i wrote age.setText(p.getyears) and i got &quot;incompatible types:it can not be converted to string&quot;"},{"owner":{"account_id":73745,"reputation":20493,"user_id":212211,"accept_rate":89,"display_name":"ring bearer"},"score":0,"creation_date":1437407523,"post_id":31519036,"comment_id":51003015,"body_markdown":"`getYears()` returns `int` and you need to place a `String` type in text field. So use `String.valueOf(p.getYears());`","body":"<code>getYears()</code> returns <code>int</code> and you need to place a <code>String</code> type in text field. So use <code>String.valueOf(p.getYears());</code>"},{"owner":{"account_id":3480889,"reputation":17,"user_id":2912977,"accept_rate":62,"display_name":"Sam"},"score":0,"creation_date":1437410236,"post_id":31519036,"comment_id":51004651,"body_markdown":"age.setText(String.valueOf(p.getYears()));  not working unfortunately :/","body":"age.setText(String.valueOf(p.getYears()));  not working unfortunately :/"},{"owner":{"account_id":73745,"reputation":20493,"user_id":212211,"accept_rate":89,"display_name":"ring bearer"},"score":0,"creation_date":1437445105,"post_id":31519036,"comment_id":51019632,"body_markdown":"Any error or observations to share?","body":"Any error or observations to share?"}],"answers":[{"tags":[],"owner":{"account_id":4248417,"reputation":243,"user_id":3476329,"accept_rate":70,"display_name":"Roshan Shahukhal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1437457389,"creation_date":1437457389,"answer_id":31531208,"question_id":31519036,"body_markdown":"Solution to your problem using joda-time :\r\n \r\n    DateTime birthDate = new DateTime(1990, 1, 15, 0, 0, 0, 0);\r\n    DateTime now = new DateTime();\r\n    Period period = new Period(birthDate, now);\r\n    int years = period.getYears();\r\n    System.out.println(years);\r\n\r\nThis will give you the difference you required !","title":"select date from jdatechooser and automatically diplay age in a Textfield","body":"<p>Solution to your problem using joda-time :</p>\n\n<pre><code>DateTime birthDate = new DateTime(1990, 1, 15, 0, 0, 0, 0);\nDateTime now = new DateTime();\nPeriod period = new Period(birthDate, now);\nint years = period.getYears();\nSystem.out.println(years);\n</code></pre>\n\n<p>This will give you the difference you required !</p>\n"},{"tags":[],"owner":{"account_id":3480889,"reputation":17,"user_id":2912977,"accept_rate":62,"display_name":"Sam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1437584789,"creation_date":1437584789,"answer_id":31569641,"question_id":31519036,"body_markdown":"finally after long hours i got the solution, thanks everybody for helping me.Here is my code that works perfectly  :\r\n\r\n    DateTime start = new DateTime(datenaiss_chooz.getDate());\r\n    Years h = Years.yearsBetween(start, new DateTime()); \r\n    StringBuilder b = new StringBuilder();\r\n    b.append(h.getYears());\r\n    String str = b.toString();\r\n    if ( h.getYears()==0)\r\n    age.setText(&quot;&quot;); \r\n    else\r\n    age.setText(str+&quot; &quot;+&quot;ans&quot;);","title":"select date from jdatechooser and automatically diplay age in a Textfield","body":"<p>finally after long hours i got the solution, thanks everybody for helping me.Here is my code that works perfectly  :</p>\n\n<pre><code>DateTime start = new DateTime(datenaiss_chooz.getDate());\nYears h = Years.yearsBetween(start, new DateTime()); \nStringBuilder b = new StringBuilder();\nb.append(h.getYears());\nString str = b.toString();\nif ( h.getYears()==0)\nage.setText(\"\"); \nelse\nage.setText(str+\" \"+\"ans\");\n</code></pre>\n"}],"owner":{"account_id":3480889,"reputation":17,"user_id":2912977,"accept_rate":62,"display_name":"Sam"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2329,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":31569641,"answer_count":2,"score":1,"last_activity_date":1676619213,"creation_date":1437402285,"question_id":31519036,"body_markdown":"i&#39;m trying to get the selected date from Jdatechooser and display the age corresponding to the date in a Textfield, i saw all the threads discussing this problem but it doesn&quot;t work for me.here is my code:\r\n\r\n     private void datenaiss_choozPropertyChange(java.beans.PropertyChangeEvent evt) {                                               \r\n        Date date = (Date) datenaiss_chooz.getDate(); \r\n    LocalDate ld = date.toInstant().atZone(ZoneId.systemDefault()).toLocalDate();\r\n    Period p =Period.between(ld, LocalDate.now());\r\n    age.setText(p);\r\n\r\n\r\n    }              \r\n  \r\n   ","title":"select date from jdatechooser and automatically diplay age in a Textfield","body":"<p>i'm trying to get the selected date from Jdatechooser and display the age corresponding to the date in a Textfield, i saw all the threads discussing this problem but it doesn\"t work for me.here is my code:</p>\n\n<pre><code> private void datenaiss_choozPropertyChange(java.beans.PropertyChangeEvent evt) {                                               \n    Date date = (Date) datenaiss_chooz.getDate(); \nLocalDate ld = date.toInstant().atZone(ZoneId.systemDefault()).toLocalDate();\nPeriod p =Period.between(ld, LocalDate.now());\nage.setText(p);\n\n\n}              \n</code></pre>\n"},{"tags":["java","jaxb"],"answers":[{"tags":[],"owner":{"account_id":172198,"reputation":5240,"user_id":628006,"accept_rate":90,"display_name":"р&#252;ффп"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655377197,"creation_date":1655377197,"answer_id":72644757,"question_id":69562925,"body_markdown":"On my side I have to change my pom.xml config with:\r\n\r\n```xml\r\n&lt;!-- JAXB --&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n\t&lt;scope&gt;compile&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nby changing the original scope of the `jaxb-runtime` from `runtime` to `compile` and then in my code I have something like: \r\n\r\n```java\r\nif (cdata) {\r\n\tmarshaller.setProperty(CharacterEscapeHandler.class.getName(),\r\n\t\t\tnew CharacterEscapeHandler() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void escape(char[] ac, int i, int j, boolean flag, Writer writer) throws IOException {\r\n\t\t\t\t\t// some code here\r\n\t\t\t\t\twriter.write(ac, i, j);\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t});\r\n}\r\n```\r\n\r\nand I still have the sonar alert that I am using \r\n\r\n\timport com.sun.xml.bind.marshaller.CharacterEscapeHandler;\r\n\t\r\nin my imports, but I did not found a better way doing it with java &gt;= 11 (currently working in Java 17).\r\n\r\n\r\n\r\n\t\t","title":"JAXB Marshaller cannot set property for CharacterEscapeHandler","body":"<p>On my side I have to change my pom.xml config with:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- JAXB --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>by changing the original scope of the <code>jaxb-runtime</code> from <code>runtime</code> to <code>compile</code> and then in my code I have something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (cdata) {\n    marshaller.setProperty(CharacterEscapeHandler.class.getName(),\n            new CharacterEscapeHandler() {\n                @Override\n                public void escape(char[] ac, int i, int j, boolean flag, Writer writer) throws IOException {\n                    // some code here\n                    writer.write(ac, i, j);\n                    \n                }\n            });\n}\n</code></pre>\n<p>and I still have the sonar alert that I am using</p>\n<pre><code>import com.sun.xml.bind.marshaller.CharacterEscapeHandler;\n</code></pre>\n<p>in my imports, but I did not found a better way doing it with java &gt;= 11 (currently working in Java 17).</p>\n"},{"tags":[],"owner":{"account_id":11769961,"reputation":31,"user_id":8613276,"display_name":"Tushar Sugandhi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1676618860,"creation_date":1676618860,"answer_id":75481284,"question_id":69562925,"body_markdown":"Updating marshaller property key from ```com.sun.xml.internal.bind.marshaller.CharacterEscapeHandler``` to ```org.glassfish.jaxb.characterEscapeHandler``` may resolve the issue for new JAXB glassfish implementation. Worked for Java 17.\r\n\r\n```\r\nmarshaller.setProperty(&quot;org.glassfish.jaxb.characterEscapeHandler&quot;, new NoEscapeHandler());\r\n```\r\n\r\n","title":"JAXB Marshaller cannot set property for CharacterEscapeHandler","body":"<p>Updating marshaller property key from <code>com.sun.xml.internal.bind.marshaller.CharacterEscapeHandler</code> to <code>org.glassfish.jaxb.characterEscapeHandler</code> may resolve the issue for new JAXB glassfish implementation. Worked for Java 17.</p>\n<pre><code>marshaller.setProperty(&quot;org.glassfish.jaxb.characterEscapeHandler&quot;, new NoEscapeHandler());\n</code></pre>\n"}],"owner":{"account_id":1835763,"reputation":1908,"user_id":1666206,"accept_rate":67,"display_name":"tjholmes66"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2359,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72644757,"answer_count":2,"score":1,"last_activity_date":1676618860,"creation_date":1634163049,"question_id":69562925,"body_markdown":"We have a non-Spring application running with JDK 11.  In our pom.xml file we have the following:\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.3&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.3&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.3&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nWe have code to to a Marshalling of a java object to xml as follows:\r\n\r\n    Marshaller marshaller = JAXBContext.newInstance(Ratings.class).createMarshaller();\r\n    marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\r\n    marshaller.setProperty(Marshaller.JAXB_NO_NAMESPACE_SCHEMA_LOCATION, schemaLocation);\r\n    marshaller.setProperty(CharacterEscapeHandler.class.getName(), \r\n                            new CDATACharacterEscapeHandler());\r\n            \r\n    StringWriter writer = new StringWriter();\r\n    marshaller.marshal(ratings, writer);        \r\n    return writer.toString();\r\n\r\nThe code fails when we try to set the CharacterEscapeHandler.  We get the following error:\r\n\r\n    Caused by: javax.xml.bind.PropertyException: name: \r\n    com.mycode.server.utils.CDATACharacterEscapeHandler value: \r\n    com.mycode.server.utils.CDATACharacterEscapeHandler@74921b67\r\n\tat javax.xml.bind.helpers.AbstractMarshallerImpl.setProperty\r\n    (AbstractMarshallerImpl.java:343)\r\n\tat com.sun.xml.bind.v2.runtime.MarshallerImpl.setProperty\r\n    (MarshallerImpl.java:516)\r\n\r\nI can tell you about our custom CDATACharacterEscapeHandler as follows:\r\n\r\n    // this is the only class that I could find with this name.\r\n    //  even when I pull in com.sun.xml.bind.jaxb-core 2.3.0\r\n    import org.glassfish.jaxb.core.marshaller.CharacterEscapeHandler;\r\n\r\n    public class CDATACharacterEscapeHandler implements CharacterEscapeHandler  {\r\n        @Override\r\n        public void escape(char[] ch, int start, int length, boolean isAttVal, Writer writer) throws IOException\r\n        {\r\n          ...\r\n        }\r\n    }\r\n\r\nYou can see that our CDATACharacterEscapeHandler extends a standard CharacterEscapeHandler.\r\n\r\nI&#39;ve spent about 5 hours research between StackOveflow and the Internet in general.   I have been to the JAXB official site.  And I know I have tried a lot of things such as:\r\n\r\n    marshaller.setProperty(CDATACharacterEscapeHandler.class.getName(), new CDATACharacterEscapeHandler());\r\n\r\n    marshaller.setProperty(&quot;com.sun.xml.bind.characterEscapeHandler&quot;, new CDATACharacterEscapeHandler());\r\n\r\nAnd nothing seems to work.  I one point I tried moving to the latest 3.0.2 versions of code, and that also did not work.   It made more of a hassle because the java.xml.bind package was changed to jakarta.xml.bind and I didn&#39;t want to update all our code at this time.   That can be another effort later.\r\n\r\nI have bookmarked other questions on Stackoverflow where someone got answers, and I tried those efforts, but nothing here seemed to work.\r\n","title":"JAXB Marshaller cannot set property for CharacterEscapeHandler","body":"<p>We have a non-Spring application running with JDK 11.  In our pom.xml file we have the following:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n    &lt;version&gt;2.3.3&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\n    &lt;version&gt;2.3.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n    &lt;version&gt;2.3.3&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n    &lt;version&gt;2.3.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>We have code to to a Marshalling of a java object to xml as follows:</p>\n<pre><code>Marshaller marshaller = JAXBContext.newInstance(Ratings.class).createMarshaller();\nmarshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\nmarshaller.setProperty(Marshaller.JAXB_NO_NAMESPACE_SCHEMA_LOCATION, schemaLocation);\nmarshaller.setProperty(CharacterEscapeHandler.class.getName(), \n                        new CDATACharacterEscapeHandler());\n        \nStringWriter writer = new StringWriter();\nmarshaller.marshal(ratings, writer);        \nreturn writer.toString();\n</code></pre>\n<p>The code fails when we try to set the CharacterEscapeHandler.  We get the following error:</p>\n<pre><code>Caused by: javax.xml.bind.PropertyException: name: \ncom.mycode.server.utils.CDATACharacterEscapeHandler value: \ncom.mycode.server.utils.CDATACharacterEscapeHandler@74921b67\nat javax.xml.bind.helpers.AbstractMarshallerImpl.setProperty\n(AbstractMarshallerImpl.java:343)\nat com.sun.xml.bind.v2.runtime.MarshallerImpl.setProperty\n(MarshallerImpl.java:516)\n</code></pre>\n<p>I can tell you about our custom CDATACharacterEscapeHandler as follows:</p>\n<pre><code>// this is the only class that I could find with this name.\n//  even when I pull in com.sun.xml.bind.jaxb-core 2.3.0\nimport org.glassfish.jaxb.core.marshaller.CharacterEscapeHandler;\n\npublic class CDATACharacterEscapeHandler implements CharacterEscapeHandler  {\n    @Override\n    public void escape(char[] ch, int start, int length, boolean isAttVal, Writer writer) throws IOException\n    {\n      ...\n    }\n}\n</code></pre>\n<p>You can see that our CDATACharacterEscapeHandler extends a standard CharacterEscapeHandler.</p>\n<p>I've spent about 5 hours research between StackOveflow and the Internet in general.   I have been to the JAXB official site.  And I know I have tried a lot of things such as:</p>\n<pre><code>marshaller.setProperty(CDATACharacterEscapeHandler.class.getName(), new CDATACharacterEscapeHandler());\n\nmarshaller.setProperty(&quot;com.sun.xml.bind.characterEscapeHandler&quot;, new CDATACharacterEscapeHandler());\n</code></pre>\n<p>And nothing seems to work.  I one point I tried moving to the latest 3.0.2 versions of code, and that also did not work.   It made more of a hassle because the java.xml.bind package was changed to jakarta.xml.bind and I didn't want to update all our code at this time.   That can be another effort later.</p>\n<p>I have bookmarked other questions on Stackoverflow where someone got answers, and I tried those efforts, but nothing here seemed to work.</p>\n"},{"tags":["java","multithreading","threadpool","executorservice","threadpoolexecutor"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1676616622,"post_id":75480679,"comment_id":133176711,"body_markdown":"You&#39;re using an `ArrayBlockingQueue` with a capacity of `1`. My guess is that if you add enough tasks fast enough, the queue is actually reaching capacity after the maximum number of threads have been created (thus no new thread can be started to take pressure off the queue). In other words, something [similar to the problem in this other Q&amp;A](https://stackoverflow.com/q/72701282/6395627).","body":"You&#39;re using an <code>ArrayBlockingQueue</code> with a capacity of <code>1</code>. My guess is that if you add enough tasks fast enough, the queue is actually reaching capacity after the maximum number of threads have been created (thus no new thread can be started to take pressure off the queue). In other words, something <a href=\"https://stackoverflow.com/q/72701282/6395627\">similar to the problem in this other Q&amp;A</a>."}],"owner":{"account_id":22287193,"reputation":11,"user_id":16514637,"display_name":"Mounika"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":946,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676618821,"creation_date":1676612803,"question_id":75480679,"body_markdown":"I created the following executor using ThreadPoolExecutor\r\n\r\n\r\n```\r\n        try {\r\n\r\n            GZIPInputStream gzipIS = new GZIPInputStream(new FileInputStream(&quot;filePath&quot;));\r\n            BufferedReader reader = new BufferedReader(new InputStreamReader(gzipIS, Charset.forName(&quot;UTF-8&quot;)));\r\n            String line = null;\r\n            while ((line = reader.readLine()) != null) {\r\n                executor.execute(new ParallelScan(line));\r\n            }\r\n        } catch (Exception e) {\r\n            System.out.printf(&quot;\\nException == &quot; + e);\r\n        }\r\n```\r\n\r\n\r\n```\r\n        executor = new ThreadPoolExecutor(\r\n            4, 10, 10000000, TimeUnit.MINUTES,\r\n            new ArrayBlockingQueue&lt;Runnable&gt;(1));\r\n```\r\n\r\nMax pool size as 10. But still it&#39;s failing when active threads count is 0. It is failing with below error\r\n\r\n\r\n```\r\njava.util.concurrent.RejectedExecutionException: java.util.concurrent.ThreadPoolExecutor@33990a0c[Running, pool size = 10, active threads = 0, queued tasks = 0, completed tasks = 23]\r\n```\r\n\r\n\r\n\r\n\r\nThere are two reasons why execute would throw a RejectedExecutionException\r\n1. \r\n1. The queue is full and you cannot add any more threads\r\n1. The ThreadPool has been shut down\r\n\r\nBut it&#39;s not the case in my scenario. Neither queue is full nor ThreadPool has been shut down.\r\n\r\nWhat could be the reason for above error.","title":"ThreadPoolExecutor Rejected Execution Exception","body":"<p>I created the following executor using ThreadPoolExecutor</p>\n<pre><code>        try {\n\n            GZIPInputStream gzipIS = new GZIPInputStream(new FileInputStream(&quot;filePath&quot;));\n            BufferedReader reader = new BufferedReader(new InputStreamReader(gzipIS, Charset.forName(&quot;UTF-8&quot;)));\n            String line = null;\n            while ((line = reader.readLine()) != null) {\n                executor.execute(new ParallelScan(line));\n            }\n        } catch (Exception e) {\n            System.out.printf(&quot;\\nException == &quot; + e);\n        }\n</code></pre>\n<pre><code>        executor = new ThreadPoolExecutor(\n            4, 10, 10000000, TimeUnit.MINUTES,\n            new ArrayBlockingQueue&lt;Runnable&gt;(1));\n</code></pre>\n<p>Max pool size as 10. But still it's failing when active threads count is 0. It is failing with below error</p>\n<pre><code>java.util.concurrent.RejectedExecutionException: java.util.concurrent.ThreadPoolExecutor@33990a0c[Running, pool size = 10, active threads = 0, queued tasks = 0, completed tasks = 23]\n</code></pre>\n<p>There are two reasons why execute would throw a RejectedExecutionException\n1.</p>\n<ol>\n<li>The queue is full and you cannot add any more threads</li>\n<li>The ThreadPool has been shut down</li>\n</ol>\n<p>But it's not the case in my scenario. Neither queue is full nor ThreadPool has been shut down.</p>\n<p>What could be the reason for above error.</p>\n"},{"tags":["java","jpa","hashcode","premature-optimization"],"comments":[{"owner":{"account_id":244572,"reputation":2040,"user_id":2266682,"accept_rate":75,"display_name":"Aqeel Ashiq"},"score":2,"creation_date":1676523256,"post_id":75467974,"comment_id":133154977,"body_markdown":"Without knowing, what do you need it for, it sure  sounds like premature optmization.","body":"Without knowing, what do you need it for, it sure  sounds like premature optmization."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1676618545,"creation_date":1676528158,"answer_id":75468492,"question_id":75467974,"body_markdown":"&gt; 1. Can I cache the value of the `getClass().hashCode()`?\r\n\r\nYou can, but ...\r\n\r\n&gt; 2. Is there any possibility of the value being changed while running in a JVM?\r\n\r\nNo possibility.  The class of a Java object cannot change, and the hashcode of a Java `Class` object (which is the result type for `getClass()`) cannot change.\r\n\r\n&gt; 3. Is this premature optimization?\r\n\r\nProbably yes&lt;sup&gt;1&lt;/sup&gt;. \r\n\r\nHowever, using the hashcode of the object&#39;s class as the hashcode of an object is **a very bad idea** from a performance perspective.   \r\n\r\nDoing that means that all instances of the class (e.g. `Some`) will have the same hashcode&lt;sup&gt;2&lt;/sup&gt;.  That will lead to a bazillion hash collisions, and make most `HashSet` and `HashMap` operations `O(N)` or `O(logN)` (depending on your Java version) rather than `O(1)`.\r\n\r\n-------------\r\n\r\n&lt;sup&gt;1 - I am assuming you have not done a bunch of performance analysis that you haven&#39;t told us about.  If you *had* already done the analysis, then maybe this is not a premature optimization.&lt;br&gt;\r\n2 - I am assuming that the `Some::hashCode` method is not overridden to something more sensible by concrete subclasses of `Some`.&lt;/sup&gt;","title":"Can I cache getClass.hashCode()?","body":"<blockquote>\n<ol>\n<li>Can I cache the value of the <code>getClass().hashCode()</code>?</li>\n</ol>\n</blockquote>\n<p>You can, but ...</p>\n<blockquote>\n<ol start=\"2\">\n<li>Is there any possibility of the value being changed while running in a JVM?</li>\n</ol>\n</blockquote>\n<p>No possibility.  The class of a Java object cannot change, and the hashcode of a Java <code>Class</code> object (which is the result type for <code>getClass()</code>) cannot change.</p>\n<blockquote>\n<ol start=\"3\">\n<li>Is this premature optimization?</li>\n</ol>\n</blockquote>\n<p>Probably yes<sup>1</sup>.</p>\n<p>However, using the hashcode of the object's class as the hashcode of an object is <strong>a very bad idea</strong> from a performance perspective.</p>\n<p>Doing that means that all instances of the class (e.g. <code>Some</code>) will have the same hashcode<sup>2</sup>.  That will lead to a bazillion hash collisions, and make most <code>HashSet</code> and <code>HashMap</code> operations <code>O(N)</code> or <code>O(logN)</code> (depending on your Java version) rather than <code>O(1)</code>.</p>\n<hr />\n<p><sup>1 - I am assuming you have not done a bunch of performance analysis that you haven't told us about.  If you <em>had</em> already done the analysis, then maybe this is not a premature optimization.<br>\n2 - I am assuming that the <code>Some::hashCode</code> method is not overridden to something more sensible by concrete subclasses of <code>Some</code>.</sup></p>\n"},{"tags":[],"owner":{"account_id":244572,"reputation":2040,"user_id":2266682,"accept_rate":75,"display_name":"Aqeel Ashiq"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676615995,"creation_date":1676615995,"answer_id":75480958,"question_id":75467974,"body_markdown":"Stephen C&#39;s answer is a good answer. However, for the sake of completeness, I feel the need to add to that, that if a class is loaded by, let&#39;s say, two different class loaders, then for that class `getClass().hashcode()` will return two different values.\r\n\r\nFor verifying that, I wrote a program and loaded a class with System class loader, and then with my own custom class loader. Both return different `hashcode()`:\r\n\r\nFirst the code for Custom class loader I copied from https://www.digitalocean.com/community/tutorials/java-classloader:\r\n\r\n    package com.journaldev.classloader;\r\n    \r\n    import java.io.DataInputStream;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    \r\n    /**\r\n     * Our Custom ClassLoader to load the classes. Any class in the\r\n     * com.journaldev package will be loaded using this ClassLoader.\r\n     * For other classes, it will delegate the request to its Parent\r\n     * ClassLoader.\r\n     */\r\n    public class CCLoader extends ClassLoader {\r\n    \r\n      /**\r\n       * This constructor is used to set the parent ClassLoader\r\n       */\r\n      public CCLoader(ClassLoader parent) {\r\n        super(parent);\r\n      }\r\n    \r\n      /**\r\n       * Loads the class from the file system. The class file should be located in\r\n       * the file system. The name should be relative to get the file location\r\n       *\r\n       * @param name Fully Classified name of the class, for example, com.journaldev.Foo\r\n       */\r\n      private Class getClass(String name) throws ClassNotFoundException {\r\n        String file = name.replace(&#39;.&#39;, File.separatorChar) + &quot;.class&quot;;\r\n        byte[] b = null;\r\n        try {\r\n          // This loads the byte code data from the file\r\n          b = loadClassFileData(file);\r\n          // defineClass is inherited from the ClassLoader class\r\n          // that converts byte array into a Class. defineClass is Final\r\n          // so we cannot override it\r\n          Class c = defineClass(name, b, 0, b.length);\r\n          resolveClass(c);\r\n          return c;\r\n        } catch (IOException e) {\r\n          e.printStackTrace();\r\n          return null;\r\n        }\r\n      }\r\n    \r\n      /**\r\n       * Every request for a class passes through this method. If the class is in\r\n       * com.journaldev package, we will use this classloader or else delegate the\r\n       * request to parent classloader.\r\n       *\r\n       * @param name Full class name\r\n       */\r\n      @Override\r\n      public Class loadClass(String name) throws ClassNotFoundException {\r\n        if (name.startsWith(&quot;com.journaldev.&quot;)) {\r\n          return getClass(name);\r\n        }\r\n        return super.loadClass(name);\r\n      }\r\n    \r\n      /**\r\n       * Reads the file (.class) into a byte array. The file should be\r\n       * accessible as a resource and make sure that it&#39;s not in Classpath to avoid\r\n       * any confusion.\r\n       *\r\n       * @param name Filename\r\n       * @return Byte array read from the file\r\n       * @throws IOException if an exception comes in reading the file\r\n       */\r\n      private byte[] loadClassFileData(String name) throws IOException {\r\n        InputStream stream = getClass().getClassLoader().getResourceAsStream(\r\n            name);\r\n        int size = stream.available();\r\n        byte buff[] = new byte[size];\r\n        DataInputStream in = new DataInputStream(stream);\r\n        in.readFully(buff);\r\n        in.close();\r\n        return buff;\r\n      }\r\n    }\r\n\r\nThen the `Test` class and main method which we will use for loading the `Test` class with different class loaders:\r\n\r\n\r\n    package com.journaldev.test;\r\n    \r\n    import com.journaldev.classloader.CCLoader;\r\n    \r\n    public class Test {\r\n    \r\n      public static void main(String[] args) throws Exception {\r\n        System.out.println(new CCLoader(ClassLoader.getSystemClassLoader())\r\n            .loadClass(Test.class.getCanonicalName()).hashCode());\r\n        System.out.println(ClassLoader.getSystemClassLoader()\r\n            .loadClass(Test.class.getCanonicalName()).hashCode());\r\n      }\r\n    }\r\n\r\nOutput shows different hashcodes for the same class loaded with different Class Loaders:\r\n\r\n    1554547125\r\n    1072591677","title":"Can I cache getClass.hashCode()?","body":"<p>Stephen C's answer is a good answer. However, for the sake of completeness, I feel the need to add to that, that if a class is loaded by, let's say, two different class loaders, then for that class <code>getClass().hashcode()</code> will return two different values.</p>\n<p>For verifying that, I wrote a program and loaded a class with System class loader, and then with my own custom class loader. Both return different <code>hashcode()</code>:</p>\n<p>First the code for Custom class loader I copied from <a href=\"https://www.digitalocean.com/community/tutorials/java-classloader\" rel=\"nofollow noreferrer\">https://www.digitalocean.com/community/tutorials/java-classloader</a>:</p>\n<pre><code>package com.journaldev.classloader;\n\nimport java.io.DataInputStream;\nimport java.io.File;\nimport java.io.IOException;\nimport java.io.InputStream;\n\n/**\n * Our Custom ClassLoader to load the classes. Any class in the\n * com.journaldev package will be loaded using this ClassLoader.\n * For other classes, it will delegate the request to its Parent\n * ClassLoader.\n */\npublic class CCLoader extends ClassLoader {\n\n  /**\n   * This constructor is used to set the parent ClassLoader\n   */\n  public CCLoader(ClassLoader parent) {\n    super(parent);\n  }\n\n  /**\n   * Loads the class from the file system. The class file should be located in\n   * the file system. The name should be relative to get the file location\n   *\n   * @param name Fully Classified name of the class, for example, com.journaldev.Foo\n   */\n  private Class getClass(String name) throws ClassNotFoundException {\n    String file = name.replace('.', File.separatorChar) + &quot;.class&quot;;\n    byte[] b = null;\n    try {\n      // This loads the byte code data from the file\n      b = loadClassFileData(file);\n      // defineClass is inherited from the ClassLoader class\n      // that converts byte array into a Class. defineClass is Final\n      // so we cannot override it\n      Class c = defineClass(name, b, 0, b.length);\n      resolveClass(c);\n      return c;\n    } catch (IOException e) {\n      e.printStackTrace();\n      return null;\n    }\n  }\n\n  /**\n   * Every request for a class passes through this method. If the class is in\n   * com.journaldev package, we will use this classloader or else delegate the\n   * request to parent classloader.\n   *\n   * @param name Full class name\n   */\n  @Override\n  public Class loadClass(String name) throws ClassNotFoundException {\n    if (name.startsWith(&quot;com.journaldev.&quot;)) {\n      return getClass(name);\n    }\n    return super.loadClass(name);\n  }\n\n  /**\n   * Reads the file (.class) into a byte array. The file should be\n   * accessible as a resource and make sure that it's not in Classpath to avoid\n   * any confusion.\n   *\n   * @param name Filename\n   * @return Byte array read from the file\n   * @throws IOException if an exception comes in reading the file\n   */\n  private byte[] loadClassFileData(String name) throws IOException {\n    InputStream stream = getClass().getClassLoader().getResourceAsStream(\n        name);\n    int size = stream.available();\n    byte buff[] = new byte[size];\n    DataInputStream in = new DataInputStream(stream);\n    in.readFully(buff);\n    in.close();\n    return buff;\n  }\n}\n</code></pre>\n<p>Then the <code>Test</code> class and main method which we will use for loading the <code>Test</code> class with different class loaders:</p>\n<pre><code>package com.journaldev.test;\n\nimport com.journaldev.classloader.CCLoader;\n\npublic class Test {\n\n  public static void main(String[] args) throws Exception {\n    System.out.println(new CCLoader(ClassLoader.getSystemClassLoader())\n        .loadClass(Test.class.getCanonicalName()).hashCode());\n    System.out.println(ClassLoader.getSystemClassLoader()\n        .loadClass(Test.class.getCanonicalName()).hashCode());\n  }\n}\n</code></pre>\n<p>Output shows different hashcodes for the same class loaded with different Class Loaders:</p>\n<pre><code>1554547125\n1072591677\n</code></pre>\n"}],"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75468492,"answer_count":2,"score":1,"last_activity_date":1676618545,"creation_date":1676522995,"question_id":75467974,"body_markdown":"Whatever the reason, I have the following `hashCode` implemented in my abstract class.\r\n\r\n```\r\n@MappedSuperclass\r\nabstract Some {\r\n\r\n    @Override\r\n    public boolean equals(final Object obj) {\r\n        // ...\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return getClass().hashCode(); // TODO: cache, maybe?\r\n    }\r\n}\r\n```\r\n\r\n  1. Can I cache the value of the `getClass().hashCode()`?\r\n  2. Is there any possibility of the value being changed while running in a JVM?\r\n  3. Is this some kind of the premature optimization shit? ","title":"Can I cache getClass.hashCode()?","body":"<p>Whatever the reason, I have the following <code>hashCode</code> implemented in my abstract class.</p>\n<pre><code>@MappedSuperclass\nabstract Some {\n\n    @Override\n    public boolean equals(final Object obj) {\n        // ...\n    }\n\n    @Override\n    public int hashCode() {\n        return getClass().hashCode(); // TODO: cache, maybe?\n    }\n}\n</code></pre>\n<ol>\n<li>Can I cache the value of the <code>getClass().hashCode()</code>?</li>\n<li>Is there any possibility of the value being changed while running in a JVM?</li>\n<li>Is this some kind of the premature optimization shit?</li>\n</ol>\n"},{"tags":["java","apache-spark","apache-spark-sql","apache-spark-dataset"],"comments":[{"owner":{"account_id":3221623,"reputation":3136,"user_id":2718939,"display_name":"Ronak Jain"},"score":0,"creation_date":1676616013,"post_id":75480420,"comment_id":133176624,"body_markdown":"Hi Sankar, I&#39;ve added my answer in scala, let me know if you need pyspark or Java eqvivalent","body":"Hi Sankar, I&#39;ve added my answer in scala, let me know if you need pyspark or Java eqvivalent"}],"answers":[{"tags":[],"owner":{"account_id":3221623,"reputation":3136,"user_id":2718939,"display_name":"Ronak Jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676615921,"creation_date":1676615921,"answer_id":75480943,"question_id":75480420,"body_markdown":"This would work:\r\n\r\n    df.alias(&quot;t1&quot;).join(df.alias(&quot;t2&quot;), (col(&quot;t1.id&quot;)===col(&quot;t2.id&quot;)) &amp;&amp; (col(&quot;t1.value&quot;)===col(&quot;t2.value&quot;).*(-1)), &quot;left&quot;)\r\n    .withColumn(&quot;Flag&quot;, when(col(&quot;t2.id&quot;).isNull, &quot;false&quot;).otherwise(&quot;true&quot;))\r\n    .select(&quot;t1.*&quot;, &quot;Flag&quot;)\r\n    .show()\r\n\r\nInput:\r\n\r\n[![Input][1]][1]\r\n\r\nOutput:\r\n\r\n[![Output][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eNQDG.png\r\n  [2]: https://i.stack.imgur.com/cOgWN.png","title":"Spark - Find rows with same ID but values with opposite sign","body":"<p>This would work:</p>\n<pre><code>df.alias(&quot;t1&quot;).join(df.alias(&quot;t2&quot;), (col(&quot;t1.id&quot;)===col(&quot;t2.id&quot;)) &amp;&amp; (col(&quot;t1.value&quot;)===col(&quot;t2.value&quot;).*(-1)), &quot;left&quot;)\n.withColumn(&quot;Flag&quot;, when(col(&quot;t2.id&quot;).isNull, &quot;false&quot;).otherwise(&quot;true&quot;))\n.select(&quot;t1.*&quot;, &quot;Flag&quot;)\n.show()\n</code></pre>\n<p>Input:</p>\n<p><a href=\"https://i.stack.imgur.com/eNQDG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eNQDG.png\" alt=\"Input\" /></a></p>\n<p>Output:</p>\n<p><a href=\"https://i.stack.imgur.com/cOgWN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cOgWN.png\" alt=\"Output\" /></a></p>\n"}],"owner":{"account_id":11745650,"reputation":809,"user_id":8596503,"display_name":"sanketd617"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676615921,"creation_date":1676610150,"question_id":75480420,"body_markdown":"I have a spark dataset with 2 columns - id &amp; value.\r\n\r\nIt may have some values with same id but values with opposite sign (same absolute value). For example,\r\n\r\n\r\n| id | value |\r\n| -------- | -------- |\r\n| a   | 5   |\r\n| b   | 10   |\r\n| a   | -5   |\r\n| b   | 10   |\r\n| a   | 5   |\r\n| b   | 10   |\r\n| a   | -5   |\r\n| b   | 5   |\r\n| a   | 5   |\r\n| b   | 1   |\r\n\r\nMy use-case is to flag all such pairs of rows where ID is same but one value is positive and the other is negative (but absolute value is same). For example:\r\n\r\n| id | value | flag |\r\n| -------- | -------- |\r\n| a   | 5   | true |\r\n| b   | 10   | true\r\n| a   | -5   | true | \r\n| b   | -10   | true | \r\n| a   | 5   | true |\r\n| b   | 10   | false |\r\n| a   | -5   | true |\r\n| b   | 5   | false |\r\n| a   | 5   | false |\r\n| b   | 1   | false |\r\n\r\nPlease note that one positive value must be paired with at most one other negative value and vice versa.\r\n\r\n\r\nI came across a solution in SQL (might need some modifications but the idea is similar): https://stackoverflow.com/questions/49030474/need-to-display-records-which-has-positive-and-negative-value\r\n\r\nBut since I’m new to spark, I’m not able to convert it into an equivalent spark code. Any help would be highly appreciated.\r\n\r\nThanks!","title":"Spark - Find rows with same ID but values with opposite sign","body":"<p>I have a spark dataset with 2 columns - id &amp; value.</p>\n<p>It may have some values with same id but values with opposite sign (same absolute value). For example,</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>id</th>\n<th>value</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>a</td>\n<td>5</td>\n</tr>\n<tr>\n<td>b</td>\n<td>10</td>\n</tr>\n<tr>\n<td>a</td>\n<td>-5</td>\n</tr>\n<tr>\n<td>b</td>\n<td>10</td>\n</tr>\n<tr>\n<td>a</td>\n<td>5</td>\n</tr>\n<tr>\n<td>b</td>\n<td>10</td>\n</tr>\n<tr>\n<td>a</td>\n<td>-5</td>\n</tr>\n<tr>\n<td>b</td>\n<td>5</td>\n</tr>\n<tr>\n<td>a</td>\n<td>5</td>\n</tr>\n<tr>\n<td>b</td>\n<td>1</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>My use-case is to flag all such pairs of rows where ID is same but one value is positive and the other is negative (but absolute value is same). For example:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>id</th>\n<th>value</th>\n<th>flag</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>a</td>\n<td>5</td>\n<td>true</td>\n</tr>\n<tr>\n<td>b</td>\n<td>10</td>\n<td>true</td>\n</tr>\n<tr>\n<td>a</td>\n<td>-5</td>\n<td>true</td>\n</tr>\n<tr>\n<td>b</td>\n<td>-10</td>\n<td>true</td>\n</tr>\n<tr>\n<td>a</td>\n<td>5</td>\n<td>true</td>\n</tr>\n<tr>\n<td>b</td>\n<td>10</td>\n<td>false</td>\n</tr>\n<tr>\n<td>a</td>\n<td>-5</td>\n<td>true</td>\n</tr>\n<tr>\n<td>b</td>\n<td>5</td>\n<td>false</td>\n</tr>\n<tr>\n<td>a</td>\n<td>5</td>\n<td>false</td>\n</tr>\n<tr>\n<td>b</td>\n<td>1</td>\n<td>false</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Please note that one positive value must be paired with at most one other negative value and vice versa.</p>\n<p>I came across a solution in SQL (might need some modifications but the idea is similar): <a href=\"https://stackoverflow.com/questions/49030474/need-to-display-records-which-has-positive-and-negative-value\">Need to display records which has positive and negative value</a></p>\n<p>But since I’m new to spark, I’m not able to convert it into an equivalent spark code. Any help would be highly appreciated.</p>\n<p>Thanks!</p>\n"},{"tags":["java","amazon-web-services","aws-sdk","aws-sts"],"comments":[{"owner":{"account_id":3044579,"reputation":83,"user_id":2580609,"display_name":"shred22"},"score":0,"creation_date":1632972544,"post_id":69335077,"comment_id":122638856,"body_markdown":"For anyone facing the same issue .. I managed to resolve this issue .. I had to do set the Proxy configuration on StsClient and it started working fine ..","body":"For anyone facing the same issue .. I managed to resolve this issue .. I had to do set the Proxy configuration on StsClient and it started working fine .."}],"answers":[{"tags":[],"owner":{"account_id":15063137,"reputation":21,"user_id":10871196,"display_name":"Akshay Verma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676615880,"creation_date":1676614248,"answer_id":75480790,"question_id":69335077,"body_markdown":"As mentioned in the comment, software.amazon.awssdk.http.apache.ProxyConfiguration (ProxyConfiguration.Builder) can be used for this purpose or one another possible way is to set proxy settings at JVM level. Using -Dhttp.proxyHost and -Dhttp.proxyPort system properties.","title":"AWS Java V2 SDK failing with connect timed out while getting token from STS service behind corporate proxy","body":"<p>As mentioned in the comment, software.amazon.awssdk.http.apache.ProxyConfiguration (ProxyConfiguration.Builder) can be used for this purpose or one another possible way is to set proxy settings at JVM level. Using -Dhttp.proxyHost and -Dhttp.proxyPort system properties.</p>\n"}],"owner":{"account_id":3044579,"reputation":83,"user_id":2580609,"display_name":"shred22"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4250,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1676615880,"creation_date":1632660490,"question_id":69335077,"body_markdown":"I am trying to get AWS SDK V2 setup on my project I want to use the DynamoDbAsyncClient from the V2 SDK.\r\n\r\nMy AWS Configuration is as below:\r\n\r\n```\r\n@Configuration\r\npublic class AwsSdkV2Configuration {\r\n\r\n    private static final String SESSION = &quot;ddb_access&quot;;\r\n    @Value(&quot;${amazon.aws.role:}&quot;)\r\n    private String amazonAWSRole;\r\n    @Value(&quot;${amazon.aws.accesskey:}&quot;)\r\n    private String amazonAWSAccessKey;\r\n    @Value(&quot;${amazon.aws.secretkey:}&quot;)\r\n    private String amazonAWSSecretKey;\r\n\r\n    @Bean\r\n    public AwsCredentialsProvider amazonAWSCredentialsProviderV2() {\r\n\r\n        Region region = Region.EU_WEST_1;\r\n        AwsBasicCredentials awsCreds = AwsBasicCredentials.create(\r\n                amazonAWSAccessKey,\r\n                amazonAWSSecretKey);\r\n        StaticCredentialsProvider credentialsProvider = StaticCredentialsProvider.create(awsCreds);\r\n       StsClient stsClient = StsClient.builder()\r\n                .region(region)\r\n                .credentialsProvider(credentialsProvider)\r\n                .build();\r\n       \r\n        return StsAssumeRoleCredentialsProvider\r\n                .builder()\r\n                .refreshRequest(AssumeRoleRequest.builder()\r\n                        .roleArn(amazonAWSRole)\r\n                        .roleSessionName(&quot;aws_sdk_v2_access&quot;)\r\n                        .build())\r\n                .stsClient(stsClient)\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    public DynamoDbAsyncClient dynamoDbAsyncClient(AwsCredentialsProvider amazonAWSCredentialsProviderV2) {\r\n\r\n        return DynamoDbAsyncClient.builder()\r\n                .region(Region.EU_WEST_1)\r\n                .credentialsProvider(amazonAWSCredentialsProviderV2)\r\n                .build();\r\n    }\r\n\r\n}\r\n```\r\n\r\nand my DynamoDb service class is as below:\r\n\r\n```\r\n@Service\r\n@AllArgsConstructor\r\npublic class DynamoDbV2Service {\r\n\r\n    private final DynamoDbAsyncClient dynamoDbAsyncClient;\r\n\r\n    public void saveActivation() {\r\n        Map&lt;String,AttributeValue&gt; itemKey = new HashMap&lt;&gt;();\r\n\r\n        String keyVal = UUID.randomUUID().toString();\r\n        String key = &quot;id&quot;;\r\n        itemKey.put(key, AttributeValue.builder().s(keyVal).build());\r\n\r\n        Map&lt;String,AttributeValue&gt; itemValues = new HashMap&lt;&gt;();\r\n\r\n        // Add all content to the table\r\n        itemValues.put(key, AttributeValue.builder().s(keyVal).build());\r\n        itemValues.put(&quot;ref&quot;, AttributeValue.builder().s(&quot;REf123&quot;).build());\r\n        itemValues.put(&quot;id&quot;, AttributeValue.builder().s(&quot;id&quot;).build());\r\n        itemValues.put(&quot;uid&quot;, AttributeValue.builder().s(&quot;uid123&quot;).build());\r\n\r\n        PutItemRequest request = PutItemRequest.builder()\r\n                .tableName(&quot;dd-table-1&quot;)\r\n                .item(itemValues)\r\n                .build();\r\n\r\n        try {\r\n            dynamoDbAsyncClient.putItem(request).get();\r\n            log.info(&quot;dd-table-1 was successfully updated&quot;);\r\n\r\n        } catch (ResourceNotFoundException e) {\r\n           log.error(&quot;Error: The Amazon DynamoDB table \\&quot;%s\\&quot; can&#39;t be found.\\n&quot;, DDTable.class.getName());\r\n            log.error(&quot;Be sure that it exists and that you&#39;ve typed its name correctly!&quot;);\r\n\r\n        } catch (DynamoDbException e) {\r\n            log.error(e.getMessage());\r\n\r\n        } catch (ExecutionException e) {\r\n            e.printStackTrace();\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n        log.info(&quot;Done!&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nThe exception I get when I do  putItem:\r\n\r\n```\r\njava.util.concurrent.ExecutionException: software.amazon.awssdk.core.exception.SdkClientException: Unable to execute HTTP request: Connect to sts.eu-west-1.amazonaws.com:443 [sts.eu-west-1.amazonaws.com/54.239.37.73] failed: connect timed out\r\n\tat java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:357)\r\n\tat java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1908)\r\n\tat com.aws.service.DynamoDbV2Service.saveActivation(DynamoDbV2Service.java:47)\r\n\tat com.aws.controller.DdbController.handleActivationV2(DdbController.java:167)\r\n\tat com.aws.controller.DdbController$$FastClassBySpringCGLIB$$848d2f04.invoke(&lt;generated&gt;)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:120)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)\r\n\tat com.aws.controller.DdbController$$EnhancerBySpringCGLIB$$f1cbe856.handleActivationV2(&lt;generated&gt;)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:634)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:92)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:209)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:109)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1594)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: software.amazon.awssdk.core.exception.SdkClientException: Unable to execute HTTP request: Connect to sts.eu-west-1.amazonaws.com:443 [sts.eu-west-1.amazonaws.com/54.239.37.73] failed: connect timed out\r\n\tat software.amazon.awssdk.core.exception.SdkClientException$BuilderImpl.build(SdkClientException.java:98)\r\n\tat software.amazon.awssdk.core.exception.SdkClientException.create(SdkClientException.java:43)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.utils.RetryableStageHelper.setLastException(RetryableStageHelper.java:204)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:82)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:56)\r\n\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.executeWithTimer(ApiCallTimeoutTrackingStage.java:80)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:60)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:42)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:48)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:31)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:37)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:26)\r\n\tat software.amazon.awssdk.core.internal.http.AmazonSyncHttpClient$RequestExecutionBuilderImpl.execute(AmazonSyncHttpClient.java:193)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.invoke(BaseSyncClientHandler.java:103)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.doExecute(BaseSyncClientHandler.java:167)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.lambda$execute$1(BaseSyncClientHandler.java:82)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.measureApiCallSuccess(BaseSyncClientHandler.java:175)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.execute(BaseSyncClientHandler.java:76)\r\n\tat software.amazon.awssdk.core.client.handler.SdkSyncClientHandler.execute(SdkSyncClientHandler.java:45)\r\n\tat software.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler.execute(AwsSyncClientHandler.java:56)\r\n\tat software.amazon.awssdk.services.sts.DefaultStsClient.assumeRole(DefaultStsClient.java:260)\r\n\tat software.amazon.awssdk.services.sts.auth.StsAssumeRoleCredentialsProvider.getUpdatedCredentials(StsAssumeRoleCredentialsProvider.java:67)\r\n\tat software.amazon.awssdk.services.sts.auth.StsCredentialsProvider.updateSessionCredentials(StsCredentialsProvider.java:80)\r\n\tat software.amazon.awssdk.utils.cache.CachedSupplier.refreshCache(CachedSupplier.java:132)\r\n\tat software.amazon.awssdk.utils.cache.CachedSupplier.get(CachedSupplier.java:89)\r\n\tat software.amazon.awssdk.services.sts.auth.StsCredentialsProvider.resolveCredentials(StsCredentialsProvider.java:91)\r\n\tat software.amazon.awssdk.services.sts.auth.StsAssumeRoleCredentialsProvider.resolveCredentials(StsAssumeRoleCredentialsProvider.java:41)\r\n\tat software.amazon.awssdk.awscore.internal.AwsExecutionContextBuilder.resolveCredentials(AwsExecutionContextBuilder.java:165)\r\n\tat software.amazon.awssdk.awscore.internal.AwsExecutionContextBuilder.invokeInterceptorsAndCreateExecutionContext(AwsExecutionContextBuilder.java:102)\r\n\tat software.amazon.awssdk.awscore.client.handler.AwsAsyncClientHandler.invokeInterceptorsAndCreateExecutionContext(AwsAsyncClientHandler.java:65)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseAsyncClientHandler.lambda$execute$1(BaseAsyncClientHandler.java:77)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseAsyncClientHandler.measureApiCallSuccess(BaseAsyncClientHandler.java:282)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseAsyncClientHandler.execute(BaseAsyncClientHandler.java:75)\r\n\tat software.amazon.awssdk.awscore.client.handler.AwsAsyncClientHandler.execute(AwsAsyncClientHandler.java:52)\r\n\tat software.amazon.awssdk.services.dynamodb.DefaultDynamoDbAsyncClient.putItem(DefaultDynamoDbAsyncClient.java:4198)\r\n\t... 76 more\r\nCaused by: org.apache.http.conn.ConnectTimeoutException: Connect to sts.eu-west-1.amazonaws.com:443 [sts.eu-west-1.amazonaws.com/54.239.37.73] failed: connect timed out\r\n\tat org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:151)\r\n\tat org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat software.amazon.awssdk.http.apache.internal.conn.ClientConnectionManagerFactory$Handler.invoke(ClientConnectionManagerFactory.java:80)\r\n\tat com.sun.proxy.$Proxy143.connect(Unknown Source)\r\n\tat org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)\r\n\tat org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\r\n\tat org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)\r\n\tat org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\r\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\r\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)\r\n\tat software.amazon.awssdk.http.apache.internal.impl.ApacheSdkHttpClient.execute(ApacheSdkHttpClient.java:72)\r\n\tat software.amazon.awssdk.http.apache.ApacheHttpClient.execute(ApacheHttpClient.java:253)\r\n\tat software.amazon.awssdk.http.apache.ApacheHttpClient.access$500(ApacheHttpClient.java:106)\r\n\tat software.amazon.awssdk.http.apache.ApacheHttpClient$1.call(ApacheHttpClient.java:232)\r\n\tat software.amazon.awssdk.http.apache.ApacheHttpClient$1.call(ApacheHttpClient.java:229)\r\n\tat software.amazon.awssdk.core.internal.util.MetricUtils.measureDurationUnsafe(MetricUtils.java:64)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.MakeHttpRequestStage.executeHttpRequest(MakeHttpRequestStage.java:76)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.MakeHttpRequestStage.execute(MakeHttpRequestStage.java:55)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.MakeHttpRequestStage.execute(MakeHttpRequestStage.java:39)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:73)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:42)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:78)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:40)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:50)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:80)\r\n\t... 112 more\r\nCaused by: java.net.SocketTimeoutException: connect timed out\r\n\tat java.net.PlainSocketImpl.socketConnect(Native Method)\r\n\tat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\r\n\tat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\r\n\tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\r\n\tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\r\n\tat java.net.Socket.connect(Socket.java:607)\r\n\tat org.apache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:368)\r\n\tat software.amazon.awssdk.http.apache.internal.conn.SdkTlsSocketFactory.connectSocket(SdkTlsSocketFactory.java:113)\r\n\tat org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)\r\n\t... 145 more\r\n26-09-2021 18:14:22.346 [http-nio-8082-exec-1] INFO  c.w.w.i.p.r.s.DynamoDbV2Service.saveActivation ,\r\n                    correlationId=unknown, loggedInUserId=unknown  , Done!\r\n\r\n```\r\n\r\n\r\nPS: I am executing this behind a corporate proxy and I have tried providing the proxy configuration as well while retrieving the STS token but that didnt worked out either.\r\n\r\nAny help will be greatly appreciated. Thanks..!","title":"AWS Java V2 SDK failing with connect timed out while getting token from STS service behind corporate proxy","body":"<p>I am trying to get AWS SDK V2 setup on my project I want to use the DynamoDbAsyncClient from the V2 SDK.</p>\n<p>My AWS Configuration is as below:</p>\n<pre><code>@Configuration\npublic class AwsSdkV2Configuration {\n\n    private static final String SESSION = &quot;ddb_access&quot;;\n    @Value(&quot;${amazon.aws.role:}&quot;)\n    private String amazonAWSRole;\n    @Value(&quot;${amazon.aws.accesskey:}&quot;)\n    private String amazonAWSAccessKey;\n    @Value(&quot;${amazon.aws.secretkey:}&quot;)\n    private String amazonAWSSecretKey;\n\n    @Bean\n    public AwsCredentialsProvider amazonAWSCredentialsProviderV2() {\n\n        Region region = Region.EU_WEST_1;\n        AwsBasicCredentials awsCreds = AwsBasicCredentials.create(\n                amazonAWSAccessKey,\n                amazonAWSSecretKey);\n        StaticCredentialsProvider credentialsProvider = StaticCredentialsProvider.create(awsCreds);\n       StsClient stsClient = StsClient.builder()\n                .region(region)\n                .credentialsProvider(credentialsProvider)\n                .build();\n       \n        return StsAssumeRoleCredentialsProvider\n                .builder()\n                .refreshRequest(AssumeRoleRequest.builder()\n                        .roleArn(amazonAWSRole)\n                        .roleSessionName(&quot;aws_sdk_v2_access&quot;)\n                        .build())\n                .stsClient(stsClient)\n                .build();\n    }\n\n    @Bean\n    public DynamoDbAsyncClient dynamoDbAsyncClient(AwsCredentialsProvider amazonAWSCredentialsProviderV2) {\n\n        return DynamoDbAsyncClient.builder()\n                .region(Region.EU_WEST_1)\n                .credentialsProvider(amazonAWSCredentialsProviderV2)\n                .build();\n    }\n\n}\n</code></pre>\n<p>and my DynamoDb service class is as below:</p>\n<pre><code>@Service\n@AllArgsConstructor\npublic class DynamoDbV2Service {\n\n    private final DynamoDbAsyncClient dynamoDbAsyncClient;\n\n    public void saveActivation() {\n        Map&lt;String,AttributeValue&gt; itemKey = new HashMap&lt;&gt;();\n\n        String keyVal = UUID.randomUUID().toString();\n        String key = &quot;id&quot;;\n        itemKey.put(key, AttributeValue.builder().s(keyVal).build());\n\n        Map&lt;String,AttributeValue&gt; itemValues = new HashMap&lt;&gt;();\n\n        // Add all content to the table\n        itemValues.put(key, AttributeValue.builder().s(keyVal).build());\n        itemValues.put(&quot;ref&quot;, AttributeValue.builder().s(&quot;REf123&quot;).build());\n        itemValues.put(&quot;id&quot;, AttributeValue.builder().s(&quot;id&quot;).build());\n        itemValues.put(&quot;uid&quot;, AttributeValue.builder().s(&quot;uid123&quot;).build());\n\n        PutItemRequest request = PutItemRequest.builder()\n                .tableName(&quot;dd-table-1&quot;)\n                .item(itemValues)\n                .build();\n\n        try {\n            dynamoDbAsyncClient.putItem(request).get();\n            log.info(&quot;dd-table-1 was successfully updated&quot;);\n\n        } catch (ResourceNotFoundException e) {\n           log.error(&quot;Error: The Amazon DynamoDB table \\&quot;%s\\&quot; can't be found.\\n&quot;, DDTable.class.getName());\n            log.error(&quot;Be sure that it exists and that you've typed its name correctly!&quot;);\n\n        } catch (DynamoDbException e) {\n            log.error(e.getMessage());\n\n        } catch (ExecutionException e) {\n            e.printStackTrace();\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        log.info(&quot;Done!&quot;);\n    }\n}\n\n</code></pre>\n<p>The exception I get when I do  putItem:</p>\n<pre><code>java.util.concurrent.ExecutionException: software.amazon.awssdk.core.exception.SdkClientException: Unable to execute HTTP request: Connect to sts.eu-west-1.amazonaws.com:443 [sts.eu-west-1.amazonaws.com/54.239.37.73] failed: connect timed out\n    at java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:357)\n    at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1908)\n    at com.aws.service.DynamoDbV2Service.saveActivation(DynamoDbV2Service.java:47)\n    at com.aws.controller.DdbController.handleActivationV2(DdbController.java:167)\n    at com.aws.controller.DdbController$$FastClassBySpringCGLIB$$848d2f04.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n    at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:120)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)\n    at com.aws.controller.DdbController$$EnhancerBySpringCGLIB$$f1cbe856.handleActivationV2(&lt;generated&gt;)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:92)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:209)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:109)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1594)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: software.amazon.awssdk.core.exception.SdkClientException: Unable to execute HTTP request: Connect to sts.eu-west-1.amazonaws.com:443 [sts.eu-west-1.amazonaws.com/54.239.37.73] failed: connect timed out\n    at software.amazon.awssdk.core.exception.SdkClientException$BuilderImpl.build(SdkClientException.java:98)\n    at software.amazon.awssdk.core.exception.SdkClientException.create(SdkClientException.java:43)\n    at software.amazon.awssdk.core.internal.http.pipeline.stages.utils.RetryableStageHelper.setLastException(RetryableStageHelper.java:204)\n    at software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:82)\n    at software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:36)\n    at software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\n    at software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:56)\n    at software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:36)\n    at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.executeWithTimer(ApiCallTimeoutTrackingStage.java:80)\n    at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:60)\n    at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:42)\n    at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:48)\n    at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:31)\n    at software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\n    at software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\n    at software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:37)\n    at software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:26)\n    at software.amazon.awssdk.core.internal.http.AmazonSyncHttpClient$RequestExecutionBuilderImpl.execute(AmazonSyncHttpClient.java:193)\n    at software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.invoke(BaseSyncClientHandler.java:103)\n    at software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.doExecute(BaseSyncClientHandler.java:167)\n    at software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.lambda$execute$1(BaseSyncClientHandler.java:82)\n    at software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.measureApiCallSuccess(BaseSyncClientHandler.java:175)\n    at software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.execute(BaseSyncClientHandler.java:76)\n    at software.amazon.awssdk.core.client.handler.SdkSyncClientHandler.execute(SdkSyncClientHandler.java:45)\n    at software.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler.execute(AwsSyncClientHandler.java:56)\n    at software.amazon.awssdk.services.sts.DefaultStsClient.assumeRole(DefaultStsClient.java:260)\n    at software.amazon.awssdk.services.sts.auth.StsAssumeRoleCredentialsProvider.getUpdatedCredentials(StsAssumeRoleCredentialsProvider.java:67)\n    at software.amazon.awssdk.services.sts.auth.StsCredentialsProvider.updateSessionCredentials(StsCredentialsProvider.java:80)\n    at software.amazon.awssdk.utils.cache.CachedSupplier.refreshCache(CachedSupplier.java:132)\n    at software.amazon.awssdk.utils.cache.CachedSupplier.get(CachedSupplier.java:89)\n    at software.amazon.awssdk.services.sts.auth.StsCredentialsProvider.resolveCredentials(StsCredentialsProvider.java:91)\n    at software.amazon.awssdk.services.sts.auth.StsAssumeRoleCredentialsProvider.resolveCredentials(StsAssumeRoleCredentialsProvider.java:41)\n    at software.amazon.awssdk.awscore.internal.AwsExecutionContextBuilder.resolveCredentials(AwsExecutionContextBuilder.java:165)\n    at software.amazon.awssdk.awscore.internal.AwsExecutionContextBuilder.invokeInterceptorsAndCreateExecutionContext(AwsExecutionContextBuilder.java:102)\n    at software.amazon.awssdk.awscore.client.handler.AwsAsyncClientHandler.invokeInterceptorsAndCreateExecutionContext(AwsAsyncClientHandler.java:65)\n    at software.amazon.awssdk.core.internal.handler.BaseAsyncClientHandler.lambda$execute$1(BaseAsyncClientHandler.java:77)\n    at software.amazon.awssdk.core.internal.handler.BaseAsyncClientHandler.measureApiCallSuccess(BaseAsyncClientHandler.java:282)\n    at software.amazon.awssdk.core.internal.handler.BaseAsyncClientHandler.execute(BaseAsyncClientHandler.java:75)\n    at software.amazon.awssdk.awscore.client.handler.AwsAsyncClientHandler.execute(AwsAsyncClientHandler.java:52)\n    at software.amazon.awssdk.services.dynamodb.DefaultDynamoDbAsyncClient.putItem(DefaultDynamoDbAsyncClient.java:4198)\n    ... 76 more\nCaused by: org.apache.http.conn.ConnectTimeoutException: Connect to sts.eu-west-1.amazonaws.com:443 [sts.eu-west-1.amazonaws.com/54.239.37.73] failed: connect timed out\n    at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:151)\n    at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at software.amazon.awssdk.http.apache.internal.conn.ClientConnectionManagerFactory$Handler.invoke(ClientConnectionManagerFactory.java:80)\n    at com.sun.proxy.$Proxy143.connect(Unknown Source)\n    at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)\n    at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\n    at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)\n    at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)\n    at software.amazon.awssdk.http.apache.internal.impl.ApacheSdkHttpClient.execute(ApacheSdkHttpClient.java:72)\n    at software.amazon.awssdk.http.apache.ApacheHttpClient.execute(ApacheHttpClient.java:253)\n    at software.amazon.awssdk.http.apache.ApacheHttpClient.access$500(ApacheHttpClient.java:106)\n    at software.amazon.awssdk.http.apache.ApacheHttpClient$1.call(ApacheHttpClient.java:232)\n    at software.amazon.awssdk.http.apache.ApacheHttpClient$1.call(ApacheHttpClient.java:229)\n    at software.amazon.awssdk.core.internal.util.MetricUtils.measureDurationUnsafe(MetricUtils.java:64)\n    at software.amazon.awssdk.core.internal.http.pipeline.stages.MakeHttpRequestStage.executeHttpRequest(MakeHttpRequestStage.java:76)\n    at software.amazon.awssdk.core.internal.http.pipeline.stages.MakeHttpRequestStage.execute(MakeHttpRequestStage.java:55)\n    at software.amazon.awssdk.core.internal.http.pipeline.stages.MakeHttpRequestStage.execute(MakeHttpRequestStage.java:39)\n    at software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\n    at software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\n    at software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\n    at software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\n    at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:73)\n    at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:42)\n    at software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:78)\n    at software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:40)\n    at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:50)\n    at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:36)\n    at software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:80)\n    ... 112 more\nCaused by: java.net.SocketTimeoutException: connect timed out\n    at java.net.PlainSocketImpl.socketConnect(Native Method)\n    at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\n    at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\n    at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\n    at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\n    at java.net.Socket.connect(Socket.java:607)\n    at org.apache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:368)\n    at software.amazon.awssdk.http.apache.internal.conn.SdkTlsSocketFactory.connectSocket(SdkTlsSocketFactory.java:113)\n    at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)\n    ... 145 more\n26-09-2021 18:14:22.346 [http-nio-8082-exec-1] INFO  c.w.w.i.p.r.s.DynamoDbV2Service.saveActivation ,\n                    correlationId=unknown, loggedInUserId=unknown  , Done!\n\n</code></pre>\n<p>PS: I am executing this behind a corporate proxy and I have tried providing the proxy configuration as well while retrieving the STS token but that didnt worked out either.</p>\n<p>Any help will be greatly appreciated. Thanks..!</p>\n"},{"tags":["java","design-patterns","strategy-pattern"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":4,"creation_date":1627343996,"post_id":68537465,"comment_id":121125945,"body_markdown":"Design patterns are not _goals_, they are _shorthand for common designs_. Is this project a school assignment or for real-world use?","body":"Design patterns are not <i>goals</i>, they are <i>shorthand for common designs</i>. Is this project a school assignment or for real-world use?"},{"owner":{"account_id":21894444,"reputation":15,"user_id":16180903,"display_name":"Kaa"},"score":0,"creation_date":1627344134,"post_id":68537465,"comment_id":121125968,"body_markdown":"@chrylis-cautiouslyoptimistic- just a school assignment, we are trying to apply what we learnt so far by creating this real estate system","body":"@chrylis-cautiouslyoptimistic- just a school assignment, we are trying to apply what we learnt so far by creating this real estate system"},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":2,"creation_date":1627344487,"post_id":68537465,"comment_id":121126012,"body_markdown":"The Strategy and Facade patterns are not alternatives to each other.  It is plausible that a program might use both.  Nor is there generally a single correct answer to how to design a program or which design patterns might be useful in it.","body":"The Strategy and Facade patterns are not alternatives to each other.  It is plausible that a program might use both.  Nor is there generally a single correct answer to how to design a program or which design patterns might be useful in it."},{"owner":{"account_id":21894444,"reputation":15,"user_id":16180903,"display_name":"Kaa"},"score":0,"creation_date":1627344991,"post_id":68537465,"comment_id":121126094,"body_markdown":"@JohnBollinger Ohh, I see, so is it safe to say is that it is the one who is coding the program who would decide how a certain design pattern would be useful for their program?","body":"@JohnBollinger Ohh, I see, so is it safe to say is that it is the one who is coding the program who would decide how a certain design pattern would be useful for their program?"},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1627344993,"post_id":68537465,"comment_id":121126095,"body_markdown":"With that said, (1) your code looks more like an implementation of the Command pattern than of the Strategy pattern; (2) I don&#39;t see what is supposed to be gained by all that.  You&#39;ve written fifty-ish lines of code just to avoid using class `SystemAdmin` directly?","body":"With that said, (1) your code looks more like an implementation of the Command pattern than of the Strategy pattern; (2) I don&#39;t see what is supposed to be gained by all that.  You&#39;ve written fifty-ish lines of code just to avoid using class <code>SystemAdmin</code> directly?"},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":1,"creation_date":1627345098,"post_id":68537465,"comment_id":121126110,"body_markdown":"@Kaa, yes, more or less.  One uses design patterns to serve a particular purpose, not just for the sake of using them.  That does not mean that multiple people can&#39;t all have input on design decisions, but implementing more patterns does not magically make your program better, and there are usually different approaches that use different suites of patterns.","body":"@Kaa, yes, more or less.  One uses design patterns to serve a particular purpose, not just for the sake of using them.  That does not mean that multiple people can&#39;t all have input on design decisions, but implementing more patterns does not magically make your program better, and there are usually different approaches that use different suites of patterns."},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":3,"creation_date":1627345254,"post_id":68537465,"comment_id":121126129,"body_markdown":"Good rule of thumb: don&#39;t even *THINK* about using &quot;design patterns&quot; until you&#39;re ready to *SIMPLIFY* your design.  You&#39;re putting the horse before the cart ... and your code is unnecessarily complex as a result...","body":"Good rule of thumb: don&#39;t even <i>THINK</i> about using &quot;design patterns&quot; until you&#39;re ready to <i>SIMPLIFY</i> your design.  You&#39;re putting the horse before the cart ... and your code is unnecessarily complex as a result..."},{"owner":{"account_id":21894444,"reputation":15,"user_id":16180903,"display_name":"Kaa"},"score":0,"creation_date":1627345384,"post_id":68537465,"comment_id":121126146,"body_markdown":"Thank you, to clarify those are not written in the same .java file, I wrote them on different .java because that is what is taught or rather demonstrated to us. I will check on the command pattern that you mentioned.","body":"Thank you, to clarify those are not written in the same .java file, I wrote them on different .java because that is what is taught or rather demonstrated to us. I will check on the command pattern that you mentioned."}],"answers":[{"tags":[],"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1627344727,"creation_date":1627344727,"answer_id":68537564,"question_id":68537465,"body_markdown":"Q: When should I use a &quot;Strategy&quot; pattern?\r\n\r\n&gt; https://refactoring.guru/design-patterns/strategy\r\n&gt; \r\n&gt; Use the Strategy pattern when you want to use different variants of an\r\n&gt; algorithm within an object and be able to switch from one algorithm to\r\n&gt; another during runtime.\r\n\r\nSo in this case, you&#39;re not &quot;wrong&quot; to choose a &quot;Strategy&quot; pattern\r\n\r\nQ: [Is] what we did was the right implementation of Strategy pattern?\r\n\r\n&gt; * Declare the strategy interface common to all variants of the algorithm.\r\n&gt; \r\n&gt; * One by one, extract all algorithms into their own classes. They should all implement the strategy interface.\r\n\r\nSo yes, you have implemented it correctly.\r\n\r\nQ: So what about &quot;Facade&quot;?\r\n\r\nAs John Bollinger correctly said:\r\n\r\n&gt; The Strategy and Facade patterns are not alternatives to each other. It\r\n&gt; is plausible that a program might use both. Nor is there generally a\r\n&gt; single correct answer to how to design a program or which design\r\n&gt; patterns might be useful in it.\r\n\r\n","title":"When to use strategy or facade?","body":"<p>Q: When should I use a &quot;Strategy&quot; pattern?</p>\n<blockquote>\n<p><a href=\"https://refactoring.guru/design-patterns/strategy\" rel=\"nofollow noreferrer\">https://refactoring.guru/design-patterns/strategy</a></p>\n<p>Use the Strategy pattern when you want to use different variants of an\nalgorithm within an object and be able to switch from one algorithm to\nanother during runtime.</p>\n</blockquote>\n<p>So in this case, you're not &quot;wrong&quot; to choose a &quot;Strategy&quot; pattern</p>\n<p>Q: [Is] what we did was the right implementation of Strategy pattern?</p>\n<blockquote>\n<ul>\n<li><p>Declare the strategy interface common to all variants of the algorithm.</p>\n</li>\n<li><p>One by one, extract all algorithms into their own classes. They should all implement the strategy interface.</p>\n</li>\n</ul>\n</blockquote>\n<p>So yes, you have implemented it correctly.</p>\n<p>Q: So what about &quot;Facade&quot;?</p>\n<p>As John Bollinger correctly said:</p>\n<blockquote>\n<p>The Strategy and Facade patterns are not alternatives to each other. It\nis plausible that a program might use both. Nor is there generally a\nsingle correct answer to how to design a program or which design\npatterns might be useful in it.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1948547,"reputation":3575,"user_id":1753177,"accept_rate":68,"display_name":"lambodar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676615390,"creation_date":1676440830,"answer_id":75456002,"question_id":68537465,"body_markdown":"For that you have to understand the difference between structural vs behavioural patter.\r\n\r\n**Structural pattern (Facade):**\r\nStructural patterns are concerned with how classes and objects are composed to form larger structures. You can remember it as **compile time** decisions.\r\n\r\nEg: Your use case will come under facade pattern as the button are fixed and your focus is mostly defining the class structure; you can call it as early binding. \r\n\r\n**Behavioural pattern (Strategy):**\r\nBehavioural patterns are concerted with algorithms and the assignment of responsibilities between objects. You can remember it as **run time** decisions.\r\n\r\nEg: Payment gateway, there are many way of doing payment viz internet banking, card, UPI etc. Based on the option user choose on runtime, the top level interface is delegating to corresponding implementation.\r\n\r\n**Note:** Designing patterns is all about precision based on use case and there is no right or wrong answers.\r\n\r\n","title":"When to use strategy or facade?","body":"<p>For that you have to understand the difference between structural vs behavioural patter.</p>\n<p><strong>Structural pattern (Facade):</strong>\nStructural patterns are concerned with how classes and objects are composed to form larger structures. You can remember it as <strong>compile time</strong> decisions.</p>\n<p>Eg: Your use case will come under facade pattern as the button are fixed and your focus is mostly defining the class structure; you can call it as early binding.</p>\n<p><strong>Behavioural pattern (Strategy):</strong>\nBehavioural patterns are concerted with algorithms and the assignment of responsibilities between objects. You can remember it as <strong>run time</strong> decisions.</p>\n<p>Eg: Payment gateway, there are many way of doing payment viz internet banking, card, UPI etc. Based on the option user choose on runtime, the top level interface is delegating to corresponding implementation.</p>\n<p><strong>Note:</strong> Designing patterns is all about precision based on use case and there is no right or wrong answers.</p>\n"}],"owner":{"account_id":21894444,"reputation":15,"user_id":16180903,"display_name":"Kaa"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2068,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":68537564,"answer_count":2,"score":1,"last_activity_date":1676615390,"creation_date":1627343581,"question_id":68537465,"body_markdown":"So me and my group is working on this real estate program (school assignment), we are troubled if we used misused Strategy pattern, and should use Facade instead. I am writing codes for CRUD of database, I used Strategy pattern to call those CRUD methods (add,delete,update) from the jform. We are still starting to learn different design patterns, so we would like to as help if this is a correct implementation.\r\n\r\nThis is my code for Strategy Pattern\r\n\r\n    public interface methods {\r\n        public void doOperation(int id, String type, int area, String address, String listingStatus);\r\n    }\r\n    \r\n    public class methodUse {\r\n        private methods method;\r\n    \r\n        public methodUse(methods method) {\r\n            this.method = method;\r\n        }\r\n        \r\n        public void executeMethod(int id, String type, int area, String address, String listingStatus){\r\n             method.doOperation(id, type, area, address, listingStatus);\r\n        }\r\n    }\r\n    \r\n    public class methodUpdate implements methods{\r\n        private SystemAdmin systemAdmin = new SystemAdmin();\r\n    \r\n        @Override\r\n        public void doOperation(int id, String type, int area, String address, String listingStatus) {\r\n            systemAdmin.updatePropertyListing(id, listingStatus);\r\n        \r\n        }\r\n    }\r\n    \r\n    public class methodDelete implements methods{\r\n       private SystemAdmin systemAdmin = new SystemAdmin();\r\n    \r\n    \r\n        @Override\r\n        public void doOperation(int id, String type, int area, String address, String listingStatus) {\r\n          systemAdmin.deleteListing(id);\r\n        }\r\n    }\r\n    \r\n    public class methodAdd implements methods{\r\n        private SystemAdmin systemAdmin = new SystemAdmin();\r\n    \r\n        @Override\r\n        public void doOperation(int id, String type, int area, String address, String listingStatus) {\r\n            systemAdmin.addListing(id, type, area, address, listingStatus);\r\n        }\r\n        \r\n    }\r\n\r\nThe classes are called on the jform every time the specific button is clicked, ex. add button executes strategy add.\r\n\r\nI would like to ask you all if what we did was the right implementation of Strategy pattern. ","title":"When to use strategy or facade?","body":"<p>So me and my group is working on this real estate program (school assignment), we are troubled if we used misused Strategy pattern, and should use Facade instead. I am writing codes for CRUD of database, I used Strategy pattern to call those CRUD methods (add,delete,update) from the jform. We are still starting to learn different design patterns, so we would like to as help if this is a correct implementation.</p>\n<p>This is my code for Strategy Pattern</p>\n<pre><code>public interface methods {\n    public void doOperation(int id, String type, int area, String address, String listingStatus);\n}\n\npublic class methodUse {\n    private methods method;\n\n    public methodUse(methods method) {\n        this.method = method;\n    }\n    \n    public void executeMethod(int id, String type, int area, String address, String listingStatus){\n         method.doOperation(id, type, area, address, listingStatus);\n    }\n}\n\npublic class methodUpdate implements methods{\n    private SystemAdmin systemAdmin = new SystemAdmin();\n\n    @Override\n    public void doOperation(int id, String type, int area, String address, String listingStatus) {\n        systemAdmin.updatePropertyListing(id, listingStatus);\n    \n    }\n}\n\npublic class methodDelete implements methods{\n   private SystemAdmin systemAdmin = new SystemAdmin();\n\n\n    @Override\n    public void doOperation(int id, String type, int area, String address, String listingStatus) {\n      systemAdmin.deleteListing(id);\n    }\n}\n\npublic class methodAdd implements methods{\n    private SystemAdmin systemAdmin = new SystemAdmin();\n\n    @Override\n    public void doOperation(int id, String type, int area, String address, String listingStatus) {\n        systemAdmin.addListing(id, type, area, address, listingStatus);\n    }\n    \n}\n</code></pre>\n<p>The classes are called on the jform every time the specific button is clicked, ex. add button executes strategy add.</p>\n<p>I would like to ask you all if what we did was the right implementation of Strategy pattern.</p>\n"},{"tags":["java","spring-boot","docker","unit-testing","intellij-idea"],"comments":[{"owner":{"account_id":24725,"reputation":54586,"user_id":63074,"accept_rate":55,"display_name":"Mike Dinescu"},"score":0,"creation_date":1676531122,"post_id":75468808,"comment_id":133156159,"body_markdown":"This could be due to a different version of a class being used locally than what is being used in your pipeline. You&#39;d need to provide more details about how dependencies are pulled into the class path in your project. Focus especially on the package where the missing class is supposed to be defined.","body":"This could be due to a different version of a class being used locally than what is being used in your pipeline. You&#39;d need to provide more details about how dependencies are pulled into the class path in your project. Focus especially on the package where the missing class is supposed to be defined."},{"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"score":0,"creation_date":1676531641,"post_id":75468808,"comment_id":133156275,"body_markdown":"Also do have a look on this Caused by: java.lang.IllegalStateException: Could not find a valid Docker environment. Please see logs and check configuration , regarding ClassDefNotFound , it seems, it is trying to find a class which does not exist, expand your dependencies to see if the class exist in the package within that dependency , if there are multiple dependencies, it seems, a dependency is considered which does not have that class","body":"Also do have a look on this Caused by: java.lang.IllegalStateException: Could not find a valid Docker environment. Please see logs and check configuration , regarding ClassDefNotFound , it seems, it is trying to find a class which does not exist, expand your dependencies to see if the class exist in the package within that dependency , if there are multiple dependencies, it seems, a dependency is considered which does not have that class"}],"answers":[{"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676531558,"creation_date":1676531558,"answer_id":75468896,"question_id":75468808,"body_markdown":"The answer is in your stack trace: `Could not find a valid Docker environment. Please see logs and check configuration`.\r\n\r\nThe class not found is misleading, it is attempting to create the instance but the native code in the constructor is failing, so it considers it a NoClassDefFoundError error. Errors indicate that there are JVM problems, in this case the foreign JNI code is failing.\r\n\r\nMake sure that you have docker installed and that your user has all the required rights to start a test container.","title":"My unit tests suddenly failed with &quot;ClassNotFound&quot; error","body":"<p>The answer is in your stack trace: <code>Could not find a valid Docker environment. Please see logs and check configuration</code>.</p>\n<p>The class not found is misleading, it is attempting to create the instance but the native code in the constructor is failing, so it considers it a NoClassDefFoundError error. Errors indicate that there are JVM problems, in this case the foreign JNI code is failing.</p>\n<p>Make sure that you have docker installed and that your user has all the required rights to start a test container.</p>\n"},{"tags":[],"owner":{"account_id":3546793,"reputation":1587,"user_id":2962555,"accept_rate":44,"display_name":"Laodao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676614794,"creation_date":1676614794,"answer_id":75480843,"question_id":75468808,"body_markdown":"I bet Bill&#39;s answer must be correct in most cases. However, for my case, I did have Docker started. The issue is somehow my jdk was suddenly updated from 1.8 to 11. Not sure how did that happen. But once I reinstall 1.8 and set it as my java_home, everything works fine. ","title":"My unit tests suddenly failed with &quot;ClassNotFound&quot; error","body":"<p>I bet Bill's answer must be correct in most cases. However, for my case, I did have Docker started. The issue is somehow my jdk was suddenly updated from 1.8 to 11. Not sure how did that happen. But once I reinstall 1.8 and set it as my java_home, everything works fine.</p>\n"}],"owner":{"account_id":3546793,"reputation":1587,"user_id":2962555,"accept_rate":44,"display_name":"Laodao"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676614794,"creation_date":1676530885,"question_id":75468808,"body_markdown":"My code unit tests suddenly failed to run with errors &quot;ClassNotFound&quot;. When I ran them in IntelliJ, I got the errors below:\r\n\r\n    java.lang.ExceptionInInitializerError\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\r\n    \tat org.junit.platform.commons.util.ReflectionUtils.newInstance(ReflectionUtils.java:513)\r\n    \tat org.junit.jupiter.engine.execution.ConstructorInvocation.proceed(ConstructorInvocation.java:56)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n    \tat org.junit.jupiter.api.extension.InvocationInterceptor.interceptTestClassConstructor(InvocationInterceptor.java:72)\r\n    \tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n    \tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n    \tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:77)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestClassConstructor(ClassBasedTestDescriptor.java:342)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateTestClass(ClassBasedTestDescriptor.java:289)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateTestClass(ClassTestDescriptor.java:79)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:267)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$2(ClassBasedTestDescriptor.java:259)\r\n    \tat java.base/java.util.Optional.orElseGet(Optional.java:369)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$3(ClassBasedTestDescriptor.java:258)\r\n    \tat org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:101)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:100)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:65)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$1(NodeTestTask.java:111)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:111)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:79)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\r\n    \tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n    \tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n    \tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n    \tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n    Caused by: java.lang.IllegalStateException: Could not find a valid Docker environment. Please see logs and check configuration\r\n    \tat org.testcontainers.dockerclient.DockerClientProviderStrategy.lambda$getFirstValidStrategy$7(DockerClientProviderStrategy.java:215)\r\n    \tat java.base/java.util.Optional.orElseThrow(Optional.java:408)\r\n    \tat org.testcontainers.dockerclient.DockerClientProviderStrategy.getFirstValidStrategy(DockerClientProviderStrategy.java:207)\r\n    \tat org.testcontainers.DockerClientFactory.getOrInitializeStrategy(DockerClientFactory.java:136)\r\n    \tat org.testcontainers.DockerClientFactory.client(DockerClientFactory.java:178)\r\n    \tat org.testcontainers.LazyDockerClient.getDockerClient(LazyDockerClient.java:14)\r\n    \tat org.testcontainers.LazyDockerClient.authConfig(LazyDockerClient.java:12)\r\n    \tat org.testcontainers.containers.GenericContainer.start(GenericContainer.java:310)\r\n    \tat com.chanllenge.serviceclientbase.test.SimulatorContainer.&lt;init&gt;(SimulatorContainer.java:23)\r\n    \tat com.chanllenge.serviceclientbase.test.SimulatorContainer.&lt;init&gt;(SimulatorContainer.java:13)\r\n    \tat com.chanllenge.devices.client.DevicesConfiguration_DefaultClientTest.&lt;clinit&gt;(DevicesConfiguration_DefaultClientTest.java:12)\r\n    \t... 67 more\r\n    \r\n    \r\n    java.lang.NoClassDefFoundError: Could not initialize class com.chanllenge.devices.client.DevicesConfiguration_DefaultClientTest\r\n    \r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\r\n    \tat org.junit.platform.commons.util.ReflectionUtils.newInstance(ReflectionUtils.java:513)\r\n    \tat org.junit.jupiter.engine.execution.ConstructorInvocation.proceed(ConstructorInvocation.java:56)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n    \tat org.junit.jupiter.api.extension.InvocationInterceptor.interceptTestClassConstructor(InvocationInterceptor.java:72)\r\n    \tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n    \tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n    \tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:77)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestClassConstructor(ClassBasedTestDescriptor.java:342)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateTestClass(ClassBasedTestDescriptor.java:289)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateTestClass(ClassTestDescriptor.java:79)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:267)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$2(ClassBasedTestDescriptor.java:259)\r\n    \tat java.base/java.util.Optional.orElseGet(Optional.java:369)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$3(ClassBasedTestDescriptor.java:258)\r\n    \tat org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:101)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:100)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:65)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$1(NodeTestTask.java:111)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:111)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:79)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\r\n    \tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n    \tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n    \tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n    \tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n    \r\n    \r\n    java.lang.NoClassDefFoundError: Could not initialize class com.chanllenge.devices.client.DevicesConfiguration_DefaultClientTest\r\n    \r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\r\n    \tat org.junit.platform.commons.util.ReflectionUtils.newInstance(ReflectionUtils.java:513)\r\n    \tat org.junit.jupiter.engine.execution.ConstructorInvocation.proceed(ConstructorInvocation.java:56)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n    \tat org.junit.jupiter.api.extension.InvocationInterceptor.interceptTestClassConstructor(InvocationInterceptor.java:72)\r\n    \tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n    \tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n    \tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:77)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestClassConstructor(ClassBasedTestDescriptor.java:342)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateTestClass(ClassBasedTestDescriptor.java:289)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateTestClass(ClassTestDescriptor.java:79)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:267)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$2(ClassBasedTestDescriptor.java:259)\r\n    \tat java.base/java.util.Optional.orElseGet(Optional.java:369)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$3(ClassBasedTestDescriptor.java:258)\r\n    \tat org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:101)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:100)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:65)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$1(NodeTestTask.java:111)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:111)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:79)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\r\n    \tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n    \tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n    \tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n    \tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n\r\n\r\nNote that the unit tests were successfully run in the pipeline. Just suddenly stop working on my local machine. Any clue? ","title":"My unit tests suddenly failed with &quot;ClassNotFound&quot; error","body":"<p>My code unit tests suddenly failed to run with errors &quot;ClassNotFound&quot;. When I ran them in IntelliJ, I got the errors below:</p>\n<pre><code>java.lang.ExceptionInInitializerError\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\n    at org.junit.platform.commons.util.ReflectionUtils.newInstance(ReflectionUtils.java:513)\n    at org.junit.jupiter.engine.execution.ConstructorInvocation.proceed(ConstructorInvocation.java:56)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.api.extension.InvocationInterceptor.interceptTestClassConstructor(InvocationInterceptor.java:72)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:77)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestClassConstructor(ClassBasedTestDescriptor.java:342)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateTestClass(ClassBasedTestDescriptor.java:289)\n    at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateTestClass(ClassTestDescriptor.java:79)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:267)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$2(ClassBasedTestDescriptor.java:259)\n    at java.base/java.util.Optional.orElseGet(Optional.java:369)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$3(ClassBasedTestDescriptor.java:258)\n    at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:101)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:100)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:65)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$1(NodeTestTask.java:111)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:111)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:79)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\nCaused by: java.lang.IllegalStateException: Could not find a valid Docker environment. Please see logs and check configuration\n    at org.testcontainers.dockerclient.DockerClientProviderStrategy.lambda$getFirstValidStrategy$7(DockerClientProviderStrategy.java:215)\n    at java.base/java.util.Optional.orElseThrow(Optional.java:408)\n    at org.testcontainers.dockerclient.DockerClientProviderStrategy.getFirstValidStrategy(DockerClientProviderStrategy.java:207)\n    at org.testcontainers.DockerClientFactory.getOrInitializeStrategy(DockerClientFactory.java:136)\n    at org.testcontainers.DockerClientFactory.client(DockerClientFactory.java:178)\n    at org.testcontainers.LazyDockerClient.getDockerClient(LazyDockerClient.java:14)\n    at org.testcontainers.LazyDockerClient.authConfig(LazyDockerClient.java:12)\n    at org.testcontainers.containers.GenericContainer.start(GenericContainer.java:310)\n    at com.chanllenge.serviceclientbase.test.SimulatorContainer.&lt;init&gt;(SimulatorContainer.java:23)\n    at com.chanllenge.serviceclientbase.test.SimulatorContainer.&lt;init&gt;(SimulatorContainer.java:13)\n    at com.chanllenge.devices.client.DevicesConfiguration_DefaultClientTest.&lt;clinit&gt;(DevicesConfiguration_DefaultClientTest.java:12)\n    ... 67 more\n\n\njava.lang.NoClassDefFoundError: Could not initialize class com.chanllenge.devices.client.DevicesConfiguration_DefaultClientTest\n\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\n    at org.junit.platform.commons.util.ReflectionUtils.newInstance(ReflectionUtils.java:513)\n    at org.junit.jupiter.engine.execution.ConstructorInvocation.proceed(ConstructorInvocation.java:56)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.api.extension.InvocationInterceptor.interceptTestClassConstructor(InvocationInterceptor.java:72)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:77)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestClassConstructor(ClassBasedTestDescriptor.java:342)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateTestClass(ClassBasedTestDescriptor.java:289)\n    at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateTestClass(ClassTestDescriptor.java:79)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:267)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$2(ClassBasedTestDescriptor.java:259)\n    at java.base/java.util.Optional.orElseGet(Optional.java:369)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$3(ClassBasedTestDescriptor.java:258)\n    at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:101)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:100)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:65)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$1(NodeTestTask.java:111)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:111)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:79)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n\n\njava.lang.NoClassDefFoundError: Could not initialize class com.chanllenge.devices.client.DevicesConfiguration_DefaultClientTest\n\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\n    at org.junit.platform.commons.util.ReflectionUtils.newInstance(ReflectionUtils.java:513)\n    at org.junit.jupiter.engine.execution.ConstructorInvocation.proceed(ConstructorInvocation.java:56)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.api.extension.InvocationInterceptor.interceptTestClassConstructor(InvocationInterceptor.java:72)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:77)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestClassConstructor(ClassBasedTestDescriptor.java:342)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateTestClass(ClassBasedTestDescriptor.java:289)\n    at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateTestClass(ClassTestDescriptor.java:79)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:267)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$2(ClassBasedTestDescriptor.java:259)\n    at java.base/java.util.Optional.orElseGet(Optional.java:369)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$3(ClassBasedTestDescriptor.java:258)\n    at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:101)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:100)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:65)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$1(NodeTestTask.java:111)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:111)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:79)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n</code></pre>\n<p>Note that the unit tests were successfully run in the pipeline. Just suddenly stop working on my local machine. Any clue?</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":7504849,"reputation":454,"user_id":5701750,"display_name":"rockar06"},"score":0,"creation_date":1676611220,"post_id":75480090,"comment_id":133175952,"body_markdown":"Can you share the whole stacktrace you got from the logcat?","body":"Can you share the whole stacktrace you got from the logcat?"},{"owner":{"account_id":27728397,"reputation":1,"user_id":21167437,"display_name":"BoomFlame"},"score":0,"creation_date":1676613804,"post_id":75480090,"comment_id":133176298,"body_markdown":"@rockar06 There is everything pertaining to the pid","body":"@rockar06 There is everything pertaining to the pid"},{"owner":{"account_id":1244990,"reputation":1982,"user_id":1206645,"display_name":"Tharaka Devinda"},"score":0,"creation_date":1676614063,"post_id":75480090,"comment_id":133176329,"body_markdown":"The data you have provided is not enough to drill into any conclusive solution.","body":"The data you have provided is not enough to drill into any conclusive solution."},{"owner":{"account_id":27728397,"reputation":1,"user_id":21167437,"display_name":"BoomFlame"},"score":0,"creation_date":1676614427,"post_id":75480090,"comment_id":133176382,"body_markdown":"@TharakaDevinda Then what is enough data, I don&#39;t know what the issue is pertaining to, I can tell which thread it is in, but without knowing even if their is a way to find the specific error I can&#39;t do anything","body":"@TharakaDevinda Then what is enough data, I don&#39;t know what the issue is pertaining to, I can tell which thread it is in, but without knowing even if their is a way to find the specific error I can&#39;t do anything"}],"owner":{"account_id":27728397,"reputation":1,"user_id":21167437,"display_name":"BoomFlame"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676613776,"creation_date":1676605632,"question_id":75480090,"body_markdown":"Some errors that I get through android studio look like this:\r\n~~~\r\n2023-02-17 00:57:35.696  5030-5030  ViewRootIm...nActivity] pid-5030                             I  ViewPostIme pointer 1\r\n2023-02-17 00:57:35.703  5030-5030  System.out              pid-5030                             I  connect send\r\n2023-02-17 00:57:35.705  5030-8851  System.out              pid-5030                             I  attempting connection\r\n2023-02-17 00:57:35.705  5030-8851  System.out              pid-5030                             I  Socket created\r\n2023-02-17 00:57:35.707  5030-8851  AndroidRuntime          pid-5030                             E  FATAL EXCEPTION: Thread-4\r\n                                                                                                    Process: com.example.porte, PID: 5030\r\n~~~\r\n(Specifically AndroidRuntime)\r\n\r\nIs there any documentation anywhere to find out what kind of error this is?","title":"Android Studio AndroidRunTime Fatal Exception Error","body":"<p>Some errors that I get through android studio look like this:</p>\n<pre><code>2023-02-17 00:57:35.696  5030-5030  ViewRootIm...nActivity] pid-5030                             I  ViewPostIme pointer 1\n2023-02-17 00:57:35.703  5030-5030  System.out              pid-5030                             I  connect send\n2023-02-17 00:57:35.705  5030-8851  System.out              pid-5030                             I  attempting connection\n2023-02-17 00:57:35.705  5030-8851  System.out              pid-5030                             I  Socket created\n2023-02-17 00:57:35.707  5030-8851  AndroidRuntime          pid-5030                             E  FATAL EXCEPTION: Thread-4\n                                                                                                    Process: com.example.porte, PID: 5030\n</code></pre>\n<p>(Specifically AndroidRuntime)</p>\n<p>Is there any documentation anywhere to find out what kind of error this is?</p>\n"},{"tags":["java","spring","spring-boot","selenium","cucumber"],"comments":[{"owner":{"account_id":4617916,"reputation":107677,"user_id":3744182,"display_name":"dbc"},"score":0,"creation_date":1639638009,"post_id":70374848,"comment_id":124401116,"body_markdown":"You are using `StepDefinition.configurationProperties` before you assign it, so the value is `null`.  You must assign it to something before using it.  See [What is a NullPointerException, and how do I fix it?](https://stackoverflow.com/q/218384/3744182).","body":"You are using <code>StepDefinition.configurationProperties</code> before you assign it, so the value is <code>null</code>.  You must assign it to something before using it.  See <a href=\"https://stackoverflow.com/q/218384/3744182\">What is a NullPointerException, and how do I fix it?</a>."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1639638737,"post_id":70374848,"comment_id":124401287,"body_markdown":"You are only using `@ContextConfiguration` not `@RunWith(SpringRunner.class)` or `@ExtendsWith(SpringExtension)` depending on which JUnit version you are using. So no autowiring will take place as no spring is involved.","body":"You are only using <code>@ContextConfiguration</code> not <code>@RunWith(SpringRunner.class)</code> or <code>@ExtendsWith(SpringExtension)</code> depending on which JUnit version you are using. So no autowiring will take place as no spring is involved."},{"owner":{"account_id":4642086,"reputation":23628,"user_id":3761628,"accept_rate":88,"display_name":"eol"},"score":0,"creation_date":1639644729,"post_id":70374848,"comment_id":124403101,"body_markdown":"Have a look at https://www.baeldung.com/cucumber-spring-integration","body":"Have a look at <a href=\"https://www.baeldung.com/cucumber-spring-integration\" rel=\"nofollow noreferrer\">baeldung.com/cucumber-spring-integration</a>"}],"answers":[{"tags":[],"owner":{"account_id":6789876,"reputation":94,"user_id":11846177,"display_name":"laurentiurad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676612907,"creation_date":1676612907,"answer_id":75480685,"question_id":70374848,"body_markdown":"You are using spring cucumber for info cukes, in combination with cucumber io latest release. Make sure you change spring cucumber with the one from Cucumber.io. ","title":"Getting NullPointerException under @Before annotation inside method where initializing objects","body":"<p>You are using spring cucumber for info cukes, in combination with cucumber io latest release. Make sure you change spring cucumber with the one from Cucumber.io.</p>\n"}],"owner":{"account_id":23662103,"reputation":1,"user_id":17690032,"display_name":"dkreminskyi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676612907,"creation_date":1639636763,"question_id":70374848,"body_markdown":"**Hello stackoverflow community, I have been trying to solve this one for many hours to no result, please give me an idea what that might be. If someone interested here is a full [project][1]. Trying to run this test, but keep getting NullPointerException.**    \r\n\r\nTest ignored.\r\n\r\nTest ignored.\r\n\r\nTest ignored.\r\n\r\nTest ignored.\r\nFailure in before hook:StepDefinition.initializeObjects()\r\nMessage: java.lang.NullPointerException: Cannot invoke &quot;automation.utils.ConfigurationProperties.getBrowser()&quot; because &quot;this.configurationProperties&quot; is null\r\n\tat automation.glue.StepDefinition.initializeObjects(StepDefinition.java:35)\r\n\r\n    package automation.glue;\r\n    \r\n    import automation.config.AutomationFrameworkConfiguration;\r\n    import automation.drivers.DriverSingleton;\r\n    import automation.pages.CheckoutPage;\r\n    import automation.pages.HomePage;\r\n    import automation.pages.SignInPage;\r\n    import automation.utils.ConfigurationProperties;\r\n    import automation.utils.Constants;\r\n    import cucumber.api.java.Before;\r\n    import cucumber.api.java.en.And;\r\n    import cucumber.api.java.en.Given;\r\n    import cucumber.api.java.en.Then;\r\n    import cucumber.api.java.en.When;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.test.context.ContextConfiguration;\r\n    \r\n    import static org.junit.Assert.assertEquals;\r\n    \r\n    @ContextConfiguration(classes = AutomationFrameworkConfiguration.class)\r\n    public class StepDefinition {\r\n        private WebDriver driver;\r\n        private HomePage homePage;\r\n        private SignInPage signInPage;\r\n        private CheckoutPage checkoutPage;\r\n    \r\n    \r\n        @Autowired\r\n        ConfigurationProperties configurationProperties;\r\n    \r\n    \r\n        @Before\r\n        public void initializeObjects(){\r\n            DriverSingleton.getInstance(configurationProperties.getBrowser());\r\n            homePage = new HomePage();\r\n            signInPage = new SignInPage();\r\n            checkoutPage = new CheckoutPage();\r\n        }\r\n    \r\n        @Given(&quot;^I go to the Website&quot;)\r\n        public void i_go_to_the_Website(){\r\n           // FrameworkProperties frameworkProperties = new FrameworkProperties();\r\n           // DriverSingleton.getInstance(frameworkProperties.getProperty(&quot;browser&quot;));\r\n            driver = DriverSingleton.getDriver();\r\n            driver.get(Constants.URL);\r\n        }\r\n    \r\n        @When(&quot;^I click on Sign In button&quot;)\r\n        public void i_click_on_sign_in_button(){\r\n           // HomePage homePage = new HomePage();\r\n            homePage.clickSignIn();\r\n        }\r\n    \r\n        @And(&quot;^I specify my credentials and click Login&quot;)\r\n        public void i_specify_my_credentials_and_click_login(){\r\n           // SignInPage signInPage = new SignInPage();\r\n           // ConfigurationProperties configurationProperties = new ConfigurationProperties();\r\n            signInPage.logIn(configurationProperties.getEmail(), configurationProperties.getPassword());\r\n        }\r\n    \r\n        @Then(&quot;^I can log into the website&quot;)\r\n        public void i_can_log_into_the_website(){\r\n           // HomePage homePage = new HomePage();\r\n           // ConfigurationProperties configurationProperties = new ConfigurationProperties();\r\n            assertEquals(configurationProperties.getUsername(), homePage.getUserName());\r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\n\r\n**Compiler points to ConfigurationProperties class, but I can&#39;t find anything wrong with it.**\r\n\r\n    \r\n\r\n    package automation.utils;\r\n    \r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.context.annotation.PropertySource;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    @PropertySource(&quot;framework.properties&quot;)\r\n    public class ConfigurationProperties {\r\n    \r\n        @Value(&quot;${browser}&quot;)\r\n        private String browser;\r\n    \r\n        @Value(&quot;${email}&quot;)\r\n        private String email;\r\n    \r\n        @Value(&quot;${password}&quot;)\r\n        private String password;\r\n    \r\n        @Value(&quot;${user}&quot;)\r\n        private String username;\r\n    \r\n        public String getBrowser() {return browser;}\r\n    \r\n    \r\n        public String getEmail() {return email;}\r\n    \r\n    \r\n        public String getPassword() {return password;}\r\n    \r\n    \r\n        public String getUsername() {return username;}\r\n    \r\n    }\r\n\r\n\r\n\r\n**Here&#39;s all I have inside framework.properties file:**\r\n\r\n     browser=Chrome\r\n     email=laurentiu.raducu@gmail.com\r\n     password=MTIzNDU2\r\n     user=Laurentiu Raducu\r\n\r\n**RunTests class looks rather simple too:**\r\n\r\n\r\n    import cucumber.api.CucumberOptions;\r\n    import cucumber.api.junit.Cucumber;\r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    \r\n    @RunWith(Cucumber.class)\r\n    @CucumberOptions(\r\n            plugin = {&quot;pretty&quot;, &quot;html:target/cucumber-reports&quot;},\r\n            features = &quot;src/main/resources/features&quot;\r\n    )\r\n    public class RunTests {\r\n        @Test\r\n        public void tests(){}\r\n\r\nAny ideas are welcomed. Thanks\r\n\r\n\r\n  [1]: https://www.dropbox.com/sh/cnidko13t2l1a3h/AACjI-WRRSmPyMq5t_ZVIeFSa?dl=0","title":"Getting NullPointerException under @Before annotation inside method where initializing objects","body":"<p><strong>Hello stackoverflow community, I have been trying to solve this one for many hours to no result, please give me an idea what that might be. If someone interested here is a full <a href=\"https://www.dropbox.com/sh/cnidko13t2l1a3h/AACjI-WRRSmPyMq5t_ZVIeFSa?dl=0\" rel=\"nofollow noreferrer\">project</a>. Trying to run this test, but keep getting NullPointerException.</strong></p>\n<p>Test ignored.</p>\n<p>Test ignored.</p>\n<p>Test ignored.</p>\n<p>Test ignored.\nFailure in before hook:StepDefinition.initializeObjects()\nMessage: java.lang.NullPointerException: Cannot invoke &quot;automation.utils.ConfigurationProperties.getBrowser()&quot; because &quot;this.configurationProperties&quot; is null\nat automation.glue.StepDefinition.initializeObjects(StepDefinition.java:35)</p>\n<pre><code>package automation.glue;\n\nimport automation.config.AutomationFrameworkConfiguration;\nimport automation.drivers.DriverSingleton;\nimport automation.pages.CheckoutPage;\nimport automation.pages.HomePage;\nimport automation.pages.SignInPage;\nimport automation.utils.ConfigurationProperties;\nimport automation.utils.Constants;\nimport cucumber.api.java.Before;\nimport cucumber.api.java.en.And;\nimport cucumber.api.java.en.Given;\nimport cucumber.api.java.en.Then;\nimport cucumber.api.java.en.When;\nimport org.openqa.selenium.WebDriver;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.test.context.ContextConfiguration;\n\nimport static org.junit.Assert.assertEquals;\n\n@ContextConfiguration(classes = AutomationFrameworkConfiguration.class)\npublic class StepDefinition {\n    private WebDriver driver;\n    private HomePage homePage;\n    private SignInPage signInPage;\n    private CheckoutPage checkoutPage;\n\n\n    @Autowired\n    ConfigurationProperties configurationProperties;\n\n\n    @Before\n    public void initializeObjects(){\n        DriverSingleton.getInstance(configurationProperties.getBrowser());\n        homePage = new HomePage();\n        signInPage = new SignInPage();\n        checkoutPage = new CheckoutPage();\n    }\n\n    @Given(&quot;^I go to the Website&quot;)\n    public void i_go_to_the_Website(){\n       // FrameworkProperties frameworkProperties = new FrameworkProperties();\n       // DriverSingleton.getInstance(frameworkProperties.getProperty(&quot;browser&quot;));\n        driver = DriverSingleton.getDriver();\n        driver.get(Constants.URL);\n    }\n\n    @When(&quot;^I click on Sign In button&quot;)\n    public void i_click_on_sign_in_button(){\n       // HomePage homePage = new HomePage();\n        homePage.clickSignIn();\n    }\n\n    @And(&quot;^I specify my credentials and click Login&quot;)\n    public void i_specify_my_credentials_and_click_login(){\n       // SignInPage signInPage = new SignInPage();\n       // ConfigurationProperties configurationProperties = new ConfigurationProperties();\n        signInPage.logIn(configurationProperties.getEmail(), configurationProperties.getPassword());\n    }\n\n    @Then(&quot;^I can log into the website&quot;)\n    public void i_can_log_into_the_website(){\n       // HomePage homePage = new HomePage();\n       // ConfigurationProperties configurationProperties = new ConfigurationProperties();\n        assertEquals(configurationProperties.getUsername(), homePage.getUserName());\n    }\n\n}\n</code></pre>\n<p><strong>Compiler points to ConfigurationProperties class, but I can't find anything wrong with it.</strong></p>\n<pre><code>package automation.utils;\n\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.PropertySource;\nimport org.springframework.stereotype.Component;\n\n@Component\n@PropertySource(&quot;framework.properties&quot;)\npublic class ConfigurationProperties {\n\n    @Value(&quot;${browser}&quot;)\n    private String browser;\n\n    @Value(&quot;${email}&quot;)\n    private String email;\n\n    @Value(&quot;${password}&quot;)\n    private String password;\n\n    @Value(&quot;${user}&quot;)\n    private String username;\n\n    public String getBrowser() {return browser;}\n\n\n    public String getEmail() {return email;}\n\n\n    public String getPassword() {return password;}\n\n\n    public String getUsername() {return username;}\n\n}\n</code></pre>\n<p><strong>Here's all I have inside framework.properties file:</strong></p>\n<pre><code> browser=Chrome\n email=laurentiu.raducu@gmail.com\n password=MTIzNDU2\n user=Laurentiu Raducu\n</code></pre>\n<p><strong>RunTests class looks rather simple too:</strong></p>\n<pre><code>import cucumber.api.CucumberOptions;\nimport cucumber.api.junit.Cucumber;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\n\n@RunWith(Cucumber.class)\n@CucumberOptions(\n        plugin = {&quot;pretty&quot;, &quot;html:target/cucumber-reports&quot;},\n        features = &quot;src/main/resources/features&quot;\n)\npublic class RunTests {\n    @Test\n    public void tests(){}\n</code></pre>\n<p>Any ideas are welcomed. Thanks</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":3,"creation_date":1629183175,"post_id":68812594,"comment_id":121612151,"body_markdown":"Are those really all the dependencies? Remove the `javax.validation` dependency that is already part of the `spring-boot-starter-validation` one. The `@NotNull` on your parameter in the method simply won&#39;t work (requires additional work). the one in your model (assuming it is `User`) should work.","body":"Are those really all the dependencies? Remove the <code>javax.validation</code> dependency that is already part of the <code>spring-boot-starter-validation</code> one. The <code>@NotNull</code> on your parameter in the method simply won&#39;t work (requires additional work). the one in your model (assuming it is <code>User</code>) should work."},{"owner":{"account_id":21083132,"reputation":3230,"user_id":15496965,"display_name":"Henning"},"score":1,"creation_date":1629188645,"post_id":68812594,"comment_id":121614153,"body_markdown":"Is your controller annotated with `@Validated`?","body":"Is your controller annotated with <code>@Validated</code>?"},{"owner":{"account_id":2928802,"reputation":1845,"user_id":2509595,"accept_rate":38,"display_name":"Tom Bunting"},"score":0,"creation_date":1635517441,"post_id":68812594,"comment_id":123327498,"body_markdown":"We are experiencing the same - SpringBoot 2.5.5 + Java 11.. validation annotations being ignored and can&#39;t see why..","body":"We are experiencing the same - SpringBoot 2.5.5 + Java 11.. validation annotations being ignored and can&#39;t see why.."}],"answers":[{"tags":[],"owner":{"account_id":6282937,"reputation":13,"user_id":4883280,"display_name":"Ali mjz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667546323,"creation_date":1667546323,"answer_id":74313435,"question_id":68812594,"body_markdown":"I had the same issue, but I could not find out the reason. the only solution was to use older JDK. I change to JDK1.8, and it is working fine.","title":"Validation beans are not working in Java 11 and spring boot 2.5.3","body":"<p>I had the same issue, but I could not find out the reason. the only solution was to use older JDK. I change to JDK1.8, and it is working fine.</p>\n"},{"tags":[],"owner":{"account_id":26853328,"reputation":1,"user_id":20437951,"display_name":"Pranav Jaiswal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667975727,"creation_date":1667807141,"answer_id":74343384,"question_id":68812594,"body_markdown":"I had the same error. I excluded &#39;hibernate-validator&#39; dependency which was coming from some other dependency (you can see this by the dependency tree) and Added these 2 dependencies and it worked fine.\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n    &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n    &lt;version&gt;6.0.13.Final&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Validation beans are not working in Java 11 and spring boot 2.5.3","body":"<p>I had the same error. I excluded 'hibernate-validator' dependency which was coming from some other dependency (you can see this by the dependency tree) and Added these 2 dependencies and it worked fine.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n    &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n    &lt;version&gt;2.0.1.Final&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n    &lt;version&gt;6.0.13.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"display_name":"user14800407"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4174,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1676611711,"creation_date":1629181774,"question_id":68812594,"body_markdown":"Hello after spending hours reading stackoverflow answers and trying to find the answer, I&#39;m still unable to find out why validators such as `NotNull` and `NotBlank` are not working in java. I can still send post requests with a blank name. The project is on Java 11 and Spring boot starter v2.5.3. Thank you very much in advance if you are able to figure it out, I feel I must buy you an ice cream :&#39;)\r\n\r\nIn my model:\r\n\r\n    import javax.validation.constraints.NotBlank;\r\n\r\n    @NotBlank\r\n    private final String name;\r\n\r\nIn my controller:\r\n\r\n    import javax.validation.Valid;\r\n    import javax.validation.constraints.NotNull;\r\n\r\n        @PostMapping(path=&quot;add&quot;)\r\n        public void addUser(@Valid @NotNull @RequestBody User user) {\r\n            //Request body takes the data taken and converts it into a User\r\n            userService.addUser(user);\r\n        }\r\n    \r\n        @PutMapping(path=&quot;user/{id}&quot;)\r\n        public void updateUser(@PathVariable(&quot;id&quot;) UUID id, @Valid @NotNull @RequestBody User userToUpdate) {\r\n            userService.updateUser(id, userToUpdate);\r\n        }\r\n\r\n\r\nIn my dependencies in `pom.xml`:\r\n\r\n        &lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n\r\n","title":"Validation beans are not working in Java 11 and spring boot 2.5.3","body":"<p>Hello after spending hours reading stackoverflow answers and trying to find the answer, I'm still unable to find out why validators such as <code>NotNull</code> and <code>NotBlank</code> are not working in java. I can still send post requests with a blank name. The project is on Java 11 and Spring boot starter v2.5.3. Thank you very much in advance if you are able to figure it out, I feel I must buy you an ice cream :')</p>\n<p>In my model:</p>\n<pre><code>import javax.validation.constraints.NotBlank;\n\n@NotBlank\nprivate final String name;\n</code></pre>\n<p>In my controller:</p>\n<pre><code>import javax.validation.Valid;\nimport javax.validation.constraints.NotNull;\n\n    @PostMapping(path=&quot;add&quot;)\n    public void addUser(@Valid @NotNull @RequestBody User user) {\n        //Request body takes the data taken and converts it into a User\n        userService.addUser(user);\n    }\n\n    @PutMapping(path=&quot;user/{id}&quot;)\n    public void updateUser(@PathVariable(&quot;id&quot;) UUID id, @Valid @NotNull @RequestBody User userToUpdate) {\n        userService.updateUser(id, userToUpdate);\n    }\n</code></pre>\n<p>In my dependencies in <code>pom.xml</code>:</p>\n<pre><code>    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","android","flutter","dart","android-layout"],"comments":[{"owner":{"account_id":2600198,"reputation":24052,"user_id":2252830,"display_name":"pskink"},"score":0,"creation_date":1634355370,"post_id":69592405,"comment_id":123008055,"body_markdown":"`ListTile`s have fixed height so that hitting them is easy - you cannot reduce that height, the docs for `ListTile` says: *&quot;A single fixed-height row that typically contains some text as well as a leading or trailing icon.&quot;*","body":"<code>ListTile</code>s have fixed height so that hitting them is easy - you cannot reduce that height, the docs for <code>ListTile</code> says: <i>&quot;A single fixed-height row that typically contains some text as well as a leading or trailing icon.&quot;</i>"},{"owner":{"account_id":18474140,"reputation":1,"user_id":13458162,"display_name":"Godwin Alexander Ekainu"},"score":0,"creation_date":1634355660,"post_id":69592405,"comment_id":123008079,"body_markdown":"so whats a better way of soving this then?","body":"so whats a better way of soving this then?"},{"owner":{"account_id":2600198,"reputation":24052,"user_id":2252830,"display_name":"pskink"},"score":0,"creation_date":1634355844,"post_id":69592405,"comment_id":123008093,"body_markdown":"go to [CheckboxListTile](https://api.flutter.dev/flutter/material/CheckboxListTile-class.html) documentation and find `CheckboxListTile isn&#39;t exactly what I want` section","body":"go to <a href=\"https://api.flutter.dev/flutter/material/CheckboxListTile-class.html\" rel=\"nofollow noreferrer\">CheckboxListTile</a> documentation and find <code>CheckboxListTile isn&#39;t exactly what I want</code> section"}],"answers":[{"tags":[],"owner":{"account_id":5373501,"reputation":6127,"user_id":4281239,"accept_rate":45,"display_name":"AADProgramming"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634366271,"creation_date":1634366271,"answer_id":69593298,"question_id":69592405,"body_markdown":"As mentioned in the comment by @pskink the `CheckboxListTile` is like fixed height component with only `contentPadding` to adjust the space around the content and not else can be controlled.\r\n\r\nHowever, You can increase the size of the font of  your Text widget to provide a better UI - Below is the screen shot of how it would look with font size of 28.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lJQ7k.png","title":"How do I reduce spaces between checkboxListTile","body":"<p>As mentioned in the comment by @pskink the <code>CheckboxListTile</code> is like fixed height component with only <code>contentPadding</code> to adjust the space around the content and not else can be controlled.</p>\n<p>However, You can increase the size of the font of  your Text widget to provide a better UI - Below is the screen shot of how it would look with font size of 28.</p>\n<p><a href=\"https://i.stack.imgur.com/lJQ7k.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lJQ7k.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":18474140,"reputation":1,"user_id":13458162,"display_name":"Godwin Alexander Ekainu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1676611664,"creation_date":1634354800,"question_id":69592405,"body_markdown":"I have an array of strings i map through to use as the labels different Checkbox using a CheckboxListTile Widget but i need to reduce the space inbetween these checkboxs.\r\n\r\n```class CheckBoxInListview extends StatefulWidget {\r\n  @override\r\n  _CheckBoxInListviewState createState() =&gt; _CheckBoxInListviewState();\r\n}\r\n\r\nclass _CheckBoxInListviewState extends State&lt;CheckBoxInListview&gt; {\r\n  // bool _isChecked = false;\r\n\r\n Map&lt;String,bool&gt; _texts = {\r\n    &quot;InduceSmile.com&quot;: false,\r\n    &quot;google.com&quot;: false,\r\n    &quot;youtube.com&quot;: false,\r\n    &quot;yahoo.com&quot;: false,\r\n };\r\n  @override\r\n  Widget build(BuildContext context) {\r\nreturn  Column(\r\n          \r\n          children: _texts.keys.map((text) =&gt; Theme(\r\n            data: ThemeData(\r\n\r\n                    checkboxTheme: CheckboxThemeData(\r\n                      visualDensity: VisualDensity.compact,\r\n                        shape: RoundedRectangleBorder(\r\n                            borderRadius: BorderRadius.only(topLeft: Radius.circular(4),topRight: Radius.circular(4),bottomLeft: Radius.circular(4),bottomRight: Radius.circular(4))))),\r\n            child: CheckboxListTile(\r\n              controlAffinity: ListTileControlAffinity.leading,\r\n              title: Transform.translate(offset: Offset(-15,0),\r\n              child: Text(text,style: TextStyle(fontSize: 13),),\r\n              ),\r\n               value: _texts[text],\r\n                  onChanged: (val) {\r\n                  setState(() {\r\n                   _texts[text] = val;\r\n            \r\n                });\r\n              },\r\n            ),\r\n          )).toList(),\r\n  );\r\n  }\r\n}\r\n```\r\n\r\nthis is the result of my code\r\n[here is the picture(result of the code above)][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Qtcvy.png","title":"How do I reduce spaces between checkboxListTile","body":"<p>I have an array of strings i map through to use as the labels different Checkbox using a CheckboxListTile Widget but i need to reduce the space inbetween these checkboxs.</p>\n<pre><code>  @override\n  _CheckBoxInListviewState createState() =&gt; _CheckBoxInListviewState();\n}\n\nclass _CheckBoxInListviewState extends State&lt;CheckBoxInListview&gt; {\n  // bool _isChecked = false;\n\n Map&lt;String,bool&gt; _texts = {\n    &quot;InduceSmile.com&quot;: false,\n    &quot;google.com&quot;: false,\n    &quot;youtube.com&quot;: false,\n    &quot;yahoo.com&quot;: false,\n };\n  @override\n  Widget build(BuildContext context) {\nreturn  Column(\n          \n          children: _texts.keys.map((text) =&gt; Theme(\n            data: ThemeData(\n\n                    checkboxTheme: CheckboxThemeData(\n                      visualDensity: VisualDensity.compact,\n                        shape: RoundedRectangleBorder(\n                            borderRadius: BorderRadius.only(topLeft: Radius.circular(4),topRight: Radius.circular(4),bottomLeft: Radius.circular(4),bottomRight: Radius.circular(4))))),\n            child: CheckboxListTile(\n              controlAffinity: ListTileControlAffinity.leading,\n              title: Transform.translate(offset: Offset(-15,0),\n              child: Text(text,style: TextStyle(fontSize: 13),),\n              ),\n               value: _texts[text],\n                  onChanged: (val) {\n                  setState(() {\n                   _texts[text] = val;\n            \n                });\n              },\n            ),\n          )).toList(),\n  );\n  }\n}\n</code></pre>\n<p>this is the result of my code\n<a href=\"https://i.stack.imgur.com/Qtcvy.png\" rel=\"nofollow noreferrer\">here is the picture(result of the code above)</a></p>\n"},{"tags":["java","android","runtime-error","android-toolbar","logcat"],"owner":{"account_id":13957511,"reputation":1,"user_id":10079454,"display_name":"Abir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676611630,"creation_date":1676576722,"question_id":75477198,"body_markdown":"I went through a code where `setSupportActionBar(toolbar)` method was used without object of AppCompatActivity class. But when I went on implementing some code, I found it rejecting the way.  It is important to use it as the toolbar I am passing as parameter to the above mentioned function is of type `androidx.appcompat.widget.toolbar`.\r\n\r\nAfter implementing it, there is no compile time error, but facing error when starting the emulator:\r\n\r\n&gt; &quot;Caused by: java.lang.NullPointerException: Attempt to invoke virtual\r\n&gt; method &#39;void\r\n&gt; androidx.appcompat.app.AppCompatActivity.setSupportActionBar(androidx.appcompat.widget.Toolbar)&#39;\r\n&gt; on a null object reference&#39;.","title":"Is AppCompatActivity object required for calling setSupportActionBar() method?","body":"<p>I went through a code where <code>setSupportActionBar(toolbar)</code> method was used without object of AppCompatActivity class. But when I went on implementing some code, I found it rejecting the way.  It is important to use it as the toolbar I am passing as parameter to the above mentioned function is of type <code>androidx.appcompat.widget.toolbar</code>.</p>\n<p>After implementing it, there is no compile time error, but facing error when starting the emulator:</p>\n<blockquote>\n<p>&quot;Caused by: java.lang.NullPointerException: Attempt to invoke virtual\nmethod 'void\nandroidx.appcompat.app.AppCompatActivity.setSupportActionBar(androidx.appcompat.widget.Toolbar)'\non a null object reference'.</p>\n</blockquote>\n"},{"tags":["java","html","css","jsp"],"comments":[{"owner":{"account_id":295859,"reputation":13588,"user_id":600486,"accept_rate":80,"display_name":"blurfus"},"score":0,"creation_date":1676611220,"post_id":75480458,"comment_id":133175953,"body_markdown":"what do you want to happen when the button is clicked?  you should include it in the `getMenu(...)` method - (not another `&lt;% java code %&gt;`) - I think it should be JavaScript that handles the button click (Java code will not run there)","body":"what do you want to happen when the button is clicked?  you should include it in the <code>getMenu(...)</code> method - (not another <code>&lt;% java code %&gt;</code>) - I think it should be JavaScript that handles the button click (Java code will not run there)"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1676611405,"post_id":75480458,"comment_id":133175984,"body_markdown":"**I think it should be JavaScript that handles the button click (Java code will not run there)**","body":"<b>I think it should be JavaScript that handles the button click (Java code will not run there)</b>"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1676611532,"post_id":75480458,"comment_id":133175995,"body_markdown":"The way that you are doing it is wrong.  Get the data before displaying the JSP.  Put into the request or session.  Use JSTL to loop and construct the HTML in the JSP.  Use Javascript to handle actions on HTML elements","body":"The way that you are doing it is wrong.  Get the data before displaying the JSP.  Put into the request or session.  Use JSTL to loop and construct the HTML in the JSP.  Use Javascript to handle actions on HTML elements"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1676824801,"post_id":75480458,"comment_id":133210797,"body_markdown":"The `&lt;button&gt;` is not a JSP tag. So it can&#39;t execute a Java `&lt;%%&gt;` code. Better you remove it at all.","body":"The <code>&lt;button&gt;</code> is not a JSP tag. So it can&#39;t execute a Java <code>&lt;%%&gt;</code> code. Better you remove it at all."}],"answers":[{"tags":[],"owner":{"account_id":295859,"reputation":13588,"user_id":600486,"accept_rate":80,"display_name":"blurfus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676611480,"creation_date":1676611480,"answer_id":75480535,"question_id":75480458,"body_markdown":"I think you can define a JavaScript function, like:\r\n\r\n    function handleButtonClick(){\r\n       alert( &quot;btn clicked&quot;);\r\n    }\r\n\r\nand then add the name of your function in the JSP, similar to this:\r\n\r\n    ...\r\n    &quot;&lt;button onClick =&#39;handleButtonClick()&#39;&gt;&quot;+\r\n    &quot;  &lt;span class=\\&quot;menu-item-name\\&quot;&gt;&quot;+rs.getString(1)+&quot;&lt;/span&gt;&lt;br/&gt;&quot;+ \r\n    &quot;  &lt;span class=\\&quot;menu-item-price\\&quot;&gt;&#163;&quot;+rs.getString(2)+&quot;&lt;/span&gt;&lt;br/&gt;&quot;+ \r\n    &quot;&lt;/button&gt;&quot;+\r\n    ...\r\n\r\nHaving said that, this is very old-school and outdated way of building dynamic web pages.  If you are doing it just to learn, it&#39;s ok but I would not recommend building anything other than a hobby page with this approach as there are much better ways to do it today.    \r\n\r\nFor example, do not embed HTML in your Java code.  Build the HTML in the JSP and add the dynamic parts with JSTL tags (as suggested in the comments)","title":"jsp buttons through out.println","body":"<p>I think you can define a JavaScript function, like:</p>\n<pre><code>function handleButtonClick(){\n   alert( &quot;btn clicked&quot;);\n}\n</code></pre>\n<p>and then add the name of your function in the JSP, similar to this:</p>\n<pre><code>...\n&quot;&lt;button onClick ='handleButtonClick()'&gt;&quot;+\n&quot;  &lt;span class=\\&quot;menu-item-name\\&quot;&gt;&quot;+rs.getString(1)+&quot;&lt;/span&gt;&lt;br/&gt;&quot;+ \n&quot;  &lt;span class=\\&quot;menu-item-price\\&quot;&gt;£&quot;+rs.getString(2)+&quot;&lt;/span&gt;&lt;br/&gt;&quot;+ \n&quot;&lt;/button&gt;&quot;+\n...\n</code></pre>\n<p>Having said that, this is very old-school and outdated way of building dynamic web pages.  If you are doing it just to learn, it's ok but I would not recommend building anything other than a hobby page with this approach as there are much better ways to do it today.</p>\n<p>For example, do not embed HTML in your Java code.  Build the HTML in the JSP and add the dynamic parts with JSTL tags (as suggested in the comments)</p>\n"}],"owner":{"account_id":18081168,"reputation":1,"user_id":13143286,"display_name":"Leo Nguyen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1676611480,"creation_date":1676610627,"question_id":75480458,"body_markdown":"I have a jsp file and using java i am adding html code to it through the use of out.println\r\n\r\nthere is a &lt;button onclick = &lt;% ( java function )%&gt;   &lt;/button&gt;\r\n\r\nhowever when running button shows and everything just doesnt run java code\r\n\r\n\r\n\r\nbut when adding button code directly to jsp without using out.println works.\r\n\r\n\r\n(this is not possible to add the html code directly to jsp file. \r\n\r\nive tried using the &lt;% %&gt; tag for inputting in java\r\ntried to use javascript but couldnt use function( p1) cause p1 is in the form of java string and vice versa\r\njsp file:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n        \t&lt;div class=&quot;container&quot;&gt;\r\n        \t&lt;div class=&quot;menu&quot;&gt;\r\n        \t\t&lt;h2 class=&quot;menu-group-heading&quot;&gt;pizza&lt;/h2&gt;\r\n        \t\t&lt;div class=&quot;menu-group&quot;&gt;\r\n        \t\t\t&lt;%\r\n        \t\t\tout.println(Menu.getMenu(&quot;Pizza&quot;));\r\n        \t\t\t%&gt;\r\n        \t\t&lt;/div&gt;\r\n        \t&lt;/div&gt;\r\n        &lt;/div&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n    public String getMenu(String Category) throws SQLException, IOException, ClassNotFoundException {\r\n    \tConnection connection = Database.connectToDatabase();\r\n    \tStatement st = connection.createStatement();\r\n    \tString sql = &quot;SELECT Name, Cost &quot; +\r\n    \t\t\t\t &quot;FROM MenuTable &quot; +\r\n    \t\t\t\t &quot;WHERE category = &#39;&quot; + Category + &quot;&#39;;&quot;;\r\n    \t//&lt;% Order.inputIntoCtable(\\&quot;&quot;+rs.getString(0)+&quot;\\&quot;, 1);\r\n    \tResultSet rs = st.executeQuery(sql);\r\n    \tString categoryMenu = &quot;&quot;;\r\n    \twhile (rs.next()) {\r\n    \t\tcategoryMenu += &quot;&lt;div class=\\&quot;menu-item\\&quot;&gt;&quot;+ &quot;\\n&quot;+\r\n    \t                &quot;&lt;div class=\\&quot;menu-item-text\\&quot;&gt;&quot;+ &quot;\\n&quot;+\r\n    \t                    &quot;&lt;h3 class=\\&quot;menu-item-heading\\&quot;&gt;&quot;+ &quot;\\n&quot;+\r\n    \t                    &quot;&lt;button onClick = &lt;% THE JAVA CODE %&gt;&quot;+\r\n    \t                        &quot;&lt;span class=\\&quot;menu-item-name\\&quot;&gt;&quot;+rs.getString(1)+&quot;&lt;/span&gt;&quot;+ &quot;\\n&quot;+\r\n    \t                        &quot;&lt;span class=\\&quot;menu-item-price\\&quot;&gt;&#163;&quot;+rs.getString(2)+&quot;&lt;/span&gt;&quot;+ &quot;\\n&quot;+\r\n    \t                     &quot;&lt;/button&gt;&quot;+\r\n    \t                    &quot;&lt;/h3&gt;&quot;+ &quot;\\n&quot;+\r\n    \t                &quot;&lt;/div&gt;&quot;+ &quot;\\n&quot;+\r\n    \t            &quot;&lt;/div&gt;&quot; +&quot;\\n&quot;;\r\n    \t}\r\n    \t\r\n    \treturn categoryMenu;\r\n    }\r\n\r\n","title":"jsp buttons through out.println","body":"<p>I have a jsp file and using java i am adding html code to it through the use of out.println</p>\n<p>there is a &lt;button onclick = &lt;% ( java function )%&gt;   </p>\n<p>however when running button shows and everything just doesnt run java code</p>\n<p>but when adding button code directly to jsp without using out.println works.</p>\n<p>(this is not possible to add the html code directly to jsp file.</p>\n<p>ive tried using the &lt;% %&gt; tag for inputting in java\ntried to use javascript but couldnt use function( p1) cause p1 is in the form of java string and vice versa\njsp file:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>        &lt;div class=\"container\"&gt;\n        &lt;div class=\"menu\"&gt;\n            &lt;h2 class=\"menu-group-heading\"&gt;pizza&lt;/h2&gt;\n            &lt;div class=\"menu-group\"&gt;\n                &lt;%\n                out.println(Menu.getMenu(\"Pizza\"));\n                %&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<pre><code>public String getMenu(String Category) throws SQLException, IOException, ClassNotFoundException {\n    Connection connection = Database.connectToDatabase();\n    Statement st = connection.createStatement();\n    String sql = &quot;SELECT Name, Cost &quot; +\n                 &quot;FROM MenuTable &quot; +\n                 &quot;WHERE category = '&quot; + Category + &quot;';&quot;;\n    //&lt;% Order.inputIntoCtable(\\&quot;&quot;+rs.getString(0)+&quot;\\&quot;, 1);\n    ResultSet rs = st.executeQuery(sql);\n    String categoryMenu = &quot;&quot;;\n    while (rs.next()) {\n        categoryMenu += &quot;&lt;div class=\\&quot;menu-item\\&quot;&gt;&quot;+ &quot;\\n&quot;+\n                    &quot;&lt;div class=\\&quot;menu-item-text\\&quot;&gt;&quot;+ &quot;\\n&quot;+\n                        &quot;&lt;h3 class=\\&quot;menu-item-heading\\&quot;&gt;&quot;+ &quot;\\n&quot;+\n                        &quot;&lt;button onClick = &lt;% THE JAVA CODE %&gt;&quot;+\n                            &quot;&lt;span class=\\&quot;menu-item-name\\&quot;&gt;&quot;+rs.getString(1)+&quot;&lt;/span&gt;&quot;+ &quot;\\n&quot;+\n                            &quot;&lt;span class=\\&quot;menu-item-price\\&quot;&gt;£&quot;+rs.getString(2)+&quot;&lt;/span&gt;&quot;+ &quot;\\n&quot;+\n                         &quot;&lt;/button&gt;&quot;+\n                        &quot;&lt;/h3&gt;&quot;+ &quot;\\n&quot;+\n                    &quot;&lt;/div&gt;&quot;+ &quot;\\n&quot;+\n                &quot;&lt;/div&gt;&quot; +&quot;\\n&quot;;\n    }\n    \n    return categoryMenu;\n}\n</code></pre>\n"},{"tags":["java","apache-karaf","apache-unomi"],"owner":{"account_id":27808614,"reputation":1,"user_id":21231420,"display_name":"Saurav Yadav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676610486,"creation_date":1676610486,"question_id":75480448,"body_markdown":"We have a requirement to integrate Unomi with multiple websites somewhere like 2000 (each website having its own rules, profiles and scores).\r\n\r\nI want to know is there any limit on the number of rules/profiles/scores that can be created in Unomi? \r\n\r\nI looked into Unomi Documentation and online, however I couldn&#39;t find any related reference on Unomi documentation.","title":"How many rules/profiles/scores can we create in Apache Unomi?","body":"<p>We have a requirement to integrate Unomi with multiple websites somewhere like 2000 (each website having its own rules, profiles and scores).</p>\n<p>I want to know is there any limit on the number of rules/profiles/scores that can be created in Unomi?</p>\n<p>I looked into Unomi Documentation and online, however I couldn't find any related reference on Unomi documentation.</p>\n"},{"tags":["java","yaml","hyperledger-fabric"],"answers":[{"tags":[],"owner":{"account_id":2857705,"reputation":21,"user_id":13691495,"display_name":"kori2000"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594035957,"creation_date":1594035957,"answer_id":62755387,"question_id":59136530,"body_markdown":"we had the same issue here, solution:\r\n\r\n - Delete the channel entry in your `connection.yaml` \r\n - Restart your client application\r\n - Done.\r\n\r\nHope that might work out.","title":"Connecting to Hyperledger Fabric network from Java SDK fails","body":"<p>we had the same issue here, solution:</p>\n<ul>\n<li>Delete the channel entry in your <code>connection.yaml</code></li>\n<li>Restart your client application</li>\n<li>Done.</li>\n</ul>\n<p>Hope that might work out.</p>\n"}],"owner":{"account_id":15775551,"reputation":31,"user_id":11383405,"display_name":"Riccardo Fiorini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":853,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676609478,"creation_date":1575281107,"question_id":59136530,"body_markdown":"I am currently developing an HF network based on two nodes on different physical machines, each one representing an organization. I can execute all the commands of my chaincode from the CLI, but I would like to connect to a channel and invoke transactions from the organization&#39;s applications. A problem arises when invoking ```gateway.getNetwork(&quot;mychannel&quot;);```:\r\n```Channel by the name mychannel already exists```.\r\n\r\nThe channel already exists, of course, since the network is up and running (I manage channel creation from CLI). However, I am not trying to instantiate any channel here, I am just trying to connect to an existing one...or am I doing something wrong?\r\nBelow an extract of the Java code from the app, the error output that I am getting and part of the connection.yaml file for the gateway.\r\n\r\nJava code:\r\n\r\n```\r\n...\r\nPath networkConfigPath = Paths.get(&quot;/home/rfiorini/work/src/github.com/hyperledger/fabric-samples/fabric-multi-network/connection.yaml&quot;);\r\n\r\nGateway.Builder builder = Gateway.createBuilder();\r\nbuilder.identity(wallet, &quot;Admin@org1.example.com&quot;).networkConfig(networkConfigPath).discovery(true);\r\n\r\n// create a gateway connection\r\ntry (Gateway gateway = builder.connect()) {\r\n\r\n// get the network and chaincode\r\nNetwork network = gateway.getNetwork(&quot;mychannel&quot;);\r\n...\r\n```\r\n\r\nError output:\r\n\r\n```\r\norg.hyperledger.fabric.gateway.GatewayRuntimeException: org.hyperledger.fabric.sdk.exception.InvalidArgumentException: Channel by the name mychannel already exists\r\n        at org.hyperledger.fabric.gateway.impl.GatewayImpl.getNetwork(GatewayImpl.java:278)\r\n        at org.example.ClientApp.main(ClientApp.java:33)\r\n        at org.example.ClientTest.testApp(ClientTest.java:12)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\r\n        at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n        at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\r\n        at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n        at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\r\n        at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\r\n        at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\r\n        at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n        at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n        at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n        at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n        at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n        at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n        at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)\r\n        at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)\r\n        at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)\r\n        at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)\r\n        at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)\r\n        at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)\r\n        at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)\r\nCaused by: org.hyperledger.fabric.sdk.exception.InvalidArgumentException: Channel by the name mychannel already exists\r\n        at org.hyperledger.fabric.sdk.HFClient.newChannel(HFClient.java:181)\r\n        at org.hyperledger.fabric.gateway.impl.GatewayImpl.getNetwork(GatewayImpl.java:270)\r\n        ... 31 more\r\n```\r\n\r\nconnection.yaml:\r\n\r\n```\r\nclient:\r\n    organization: Org1\r\n    connection:\r\n        timeout:\r\n            peer:\r\n                endorser: &#39;300&#39;\r\n            orderer: &#39;300&#39;\r\n\r\nchannels:\r\n  mychannel:\r\n    orderers:\r\n      - orderer0.example.com\r\n\r\n    peers:\r\n      peer0.org1.example.com:\r\n      peer1.org1.example.com:\r\n      peer0.org2.example.com:\r\n      peer1.org2.example.com:\r\n\r\norganizations:\r\n  Org1:\r\n    mspid: Org1MSP\r\n\r\n    peers:\r\n      - peer0.org1.example.com\r\n      - peer1.org1.example.com\r\n\r\n  Org2:\r\n    mspid: Org2MSP\r\n\r\n    peers:\r\n      - peer0.org2.example.com\r\n      - peer1.org2.example.com\r\n\r\norderers:\r\n  orderer0.example.com:\r\n    url: grpc://localhost:7050\r\n\r\n    grpcOptions:\r\n      ssl-target-name-override: orderer.example.com\r\n\r\npeers:\r\n  peer0.org1.example.com:\r\n    url: grpc://localhost:7051\r\n\r\n    grpcOptions:\r\n      ssl-target-name-override: peer0.org1.example.com\r\n      request-timeout: 120001\r\n\r\n  peer1.org1.example.com:\r\n    url: grpc://localhost:8051\r\n\r\n    grpcOptions:\r\n      ssl-target-name-override: peer1.org1.example.com\r\n      request-timeout: 120001\r\n\r\n  peer1.org2.example.com:\r\n    url: grpc://10.5.16.104:8051\r\n\r\n    grpcOptions:\r\n      ssl-target-name-override: peer1.org2.example.com\r\n      request-timeout: 120001\r\n\r\n  peer0.org2.example.com:\r\n    url: grpc://10.5.16.104:7051\r\n\r\n    grpcOptions:\r\n      ssl-target-name-override: peer0.org2.example.com\r\n      request-timeout: 120001\r\n```","title":"Connecting to Hyperledger Fabric network from Java SDK fails","body":"<p>I am currently developing an HF network based on two nodes on different physical machines, each one representing an organization. I can execute all the commands of my chaincode from the CLI, but I would like to connect to a channel and invoke transactions from the organization's applications. A problem arises when invoking <code>gateway.getNetwork(\"mychannel\");</code>:\n<code>Channel by the name mychannel already exists</code>.</p>\n\n<p>The channel already exists, of course, since the network is up and running (I manage channel creation from CLI). However, I am not trying to instantiate any channel here, I am just trying to connect to an existing one...or am I doing something wrong?\nBelow an extract of the Java code from the app, the error output that I am getting and part of the connection.yaml file for the gateway.</p>\n\n<p>Java code:</p>\n\n<pre><code>...\nPath networkConfigPath = Paths.get(\"/home/rfiorini/work/src/github.com/hyperledger/fabric-samples/fabric-multi-network/connection.yaml\");\n\nGateway.Builder builder = Gateway.createBuilder();\nbuilder.identity(wallet, \"Admin@org1.example.com\").networkConfig(networkConfigPath).discovery(true);\n\n// create a gateway connection\ntry (Gateway gateway = builder.connect()) {\n\n// get the network and chaincode\nNetwork network = gateway.getNetwork(\"mychannel\");\n...\n</code></pre>\n\n<p>Error output:</p>\n\n<pre><code>org.hyperledger.fabric.gateway.GatewayRuntimeException: org.hyperledger.fabric.sdk.exception.InvalidArgumentException: Channel by the name mychannel already exists\n        at org.hyperledger.fabric.gateway.impl.GatewayImpl.getNetwork(GatewayImpl.java:278)\n        at org.example.ClientApp.main(ClientApp.java:33)\n        at org.example.ClientTest.testApp(ClientTest.java:12)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n        at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n        at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n        at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n        at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n        at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\n        at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\n        at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n        at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n        at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n        at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n        at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n        at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n        at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)\n        at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)\n        at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)\n        at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)\n        at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)\n        at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)\n        at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)\nCaused by: org.hyperledger.fabric.sdk.exception.InvalidArgumentException: Channel by the name mychannel already exists\n        at org.hyperledger.fabric.sdk.HFClient.newChannel(HFClient.java:181)\n        at org.hyperledger.fabric.gateway.impl.GatewayImpl.getNetwork(GatewayImpl.java:270)\n        ... 31 more\n</code></pre>\n\n<p>connection.yaml:</p>\n\n<pre><code>client:\n    organization: Org1\n    connection:\n        timeout:\n            peer:\n                endorser: '300'\n            orderer: '300'\n\nchannels:\n  mychannel:\n    orderers:\n      - orderer0.example.com\n\n    peers:\n      peer0.org1.example.com:\n      peer1.org1.example.com:\n      peer0.org2.example.com:\n      peer1.org2.example.com:\n\norganizations:\n  Org1:\n    mspid: Org1MSP\n\n    peers:\n      - peer0.org1.example.com\n      - peer1.org1.example.com\n\n  Org2:\n    mspid: Org2MSP\n\n    peers:\n      - peer0.org2.example.com\n      - peer1.org2.example.com\n\norderers:\n  orderer0.example.com:\n    url: grpc://localhost:7050\n\n    grpcOptions:\n      ssl-target-name-override: orderer.example.com\n\npeers:\n  peer0.org1.example.com:\n    url: grpc://localhost:7051\n\n    grpcOptions:\n      ssl-target-name-override: peer0.org1.example.com\n      request-timeout: 120001\n\n  peer1.org1.example.com:\n    url: grpc://localhost:8051\n\n    grpcOptions:\n      ssl-target-name-override: peer1.org1.example.com\n      request-timeout: 120001\n\n  peer1.org2.example.com:\n    url: grpc://10.5.16.104:8051\n\n    grpcOptions:\n      ssl-target-name-override: peer1.org2.example.com\n      request-timeout: 120001\n\n  peer0.org2.example.com:\n    url: grpc://10.5.16.104:7051\n\n    grpcOptions:\n      ssl-target-name-override: peer0.org2.example.com\n      request-timeout: 120001\n</code></pre>\n"},{"tags":["java","rest-assured","rest"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":1,"creation_date":1596990384,"post_id":63328713,"comment_id":111982512,"body_markdown":"Check if the server provides a way, like passing `limit=10` or such in the URL. If not, just stop reading after 10 JSON objects.","body":"Check if the server provides a way, like passing <code>limit=10</code> or such in the URL. If not, just stop reading after 10 JSON objects."}],"answers":[{"tags":[],"owner":{"account_id":16807537,"reputation":207,"user_id":12151306,"display_name":"Steven Diamante"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596990707,"creation_date":1596990707,"answer_id":63328815,"question_id":63328713,"body_markdown":"Pagination is your best bet for this. So you could pass in some query params to the API call like limit and pageNumber. For example, GET /users?limit=10&amp;page=1 will get you the first 10. If you are using Spring and a database on the backend. Spring Data JPA has pagination built in and it&#39;s fairly easy to use. ","title":"How do i limit the number of array elements retrieved by a GET request (REST API JAVA)","body":"<p>Pagination is your best bet for this. So you could pass in some query params to the API call like limit and pageNumber. For example, GET /users?limit=10&amp;page=1 will get you the first 10. If you are using Spring and a database on the backend. Spring Data JPA has pagination built in and it's fairly easy to use.</p>\n"},{"tags":[],"owner":{"account_id":27808494,"reputation":1,"user_id":21231332,"display_name":"Mangalam Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676609043,"creation_date":1676609043,"answer_id":75480329,"question_id":63328713,"body_markdown":"You can use pagination to apply for the limit and page number.\r\nYou can make a fetch request like =&gt; fetch(`${url}/_limit=10&amp;_page=1`)\r\nand this will fetch you your desired output","title":"How do i limit the number of array elements retrieved by a GET request (REST API JAVA)","body":"<p>You can use pagination to apply for the limit and page number.\nYou can make a fetch request like =&gt; fetch(<code>${url}/_limit=10&amp;_page=1</code>)\nand this will fetch you your desired output</p>\n"}],"owner":{"account_id":19260135,"reputation":1,"user_id":14076210,"display_name":"Sam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676609043,"creation_date":1596990102,"question_id":63328713,"body_markdown":"Supposedly, My API retrieves JSON having around 100 ids and its respective values.\r\n\r\nHow do i limit it to first 10 ids with its values?\r\n\r\nIs there any JAVA code to limit this?\r\n\r\n[\r\n  {\r\n    &quot;id&quot;: 1,\r\n    &quot;name&quot;: &quot;Leanne Graham&quot;,\r\n    &quot;username&quot;: &quot;Bret&quot;,\r\n    &quot;email&quot;: &quot;Sincere@april.biz&quot;,\r\n    &quot;address&quot;: {\r\n      &quot;street&quot;: &quot;Kulas Light&quot;,\r\n      &quot;suite&quot;: &quot;Apt. 556&quot;,\r\n      &quot;city&quot;: &quot;Gwenborough&quot;,\r\n      &quot;zipcode&quot;: &quot;92998-3874&quot;,\r\n      &quot;geo&quot;: {\r\n        &quot;lat&quot;: &quot;-37.3159&quot;,\r\n        &quot;lng&quot;: &quot;81.1496&quot;\r\n      }\r\n    },\r\n    &quot;phone&quot;: &quot;1-770-736-8031 x56442&quot;,\r\n    &quot;website&quot;: &quot;hildegard.org&quot;,\r\n    &quot;company&quot;: {\r\n      &quot;name&quot;: &quot;Romaguera-Crona&quot;,\r\n      &quot;catchPhrase&quot;: &quot;Multi-layered client-server neural-net&quot;,\r\n      &quot;bs&quot;: &quot;harness real-time e-markets&quot;\r\n    }\r\n  },\r\n\r\n  {\r\n    &quot;id&quot;: 2,\r\n    &quot;name&quot;: &quot;Ervin Howell&quot;,\r\n    &quot;username&quot;: &quot;Antonette&quot;,\r\n    &quot;email&quot;: &quot;Shanna@melissa.tv&quot;,\r\n    &quot;address&quot;: {\r\n      &quot;street&quot;: &quot;Victor Plains&quot;,\r\n      &quot;suite&quot;: &quot;Suite 879&quot;,\r\n      &quot;city&quot;: &quot;Wisokyburgh&quot;,\r\n      &quot;zipcode&quot;: &quot;90566-7771&quot;,\r\n      &quot;geo&quot;: {\r\n        &quot;lat&quot;: &quot;-43.9509&quot;,\r\n        &quot;lng&quot;: &quot;-34.4618&quot;\r\n      }\r\n    },\r\n    &quot;phone&quot;: &quot;010-692-6593 x09125&quot;,\r\n    &quot;website&quot;: &quot;anastasia.net&quot;,\r\n    &quot;company&quot;: {\r\n      &quot;name&quot;: &quot;Deckow-Crist&quot;,\r\n      &quot;catchPhrase&quot;: &quot;Proactive didactic contingency&quot;,\r\n      &quot;bs&quot;: &quot;synergize scalable supply-chains&quot;\r\n    }\r\n  },\r\n  \r\n  ..... &quot;id&quot;:100, ...","title":"How do i limit the number of array elements retrieved by a GET request (REST API JAVA)","body":"<p>Supposedly, My API retrieves JSON having around 100 ids and its respective values.</p>\n<p>How do i limit it to first 10 ids with its values?</p>\n<p>Is there any JAVA code to limit this?</p>\n<p>[\n{\n&quot;id&quot;: 1,\n&quot;name&quot;: &quot;Leanne Graham&quot;,\n&quot;username&quot;: &quot;Bret&quot;,\n&quot;email&quot;: &quot;Sincere@april.biz&quot;,\n&quot;address&quot;: {\n&quot;street&quot;: &quot;Kulas Light&quot;,\n&quot;suite&quot;: &quot;Apt. 556&quot;,\n&quot;city&quot;: &quot;Gwenborough&quot;,\n&quot;zipcode&quot;: &quot;92998-3874&quot;,\n&quot;geo&quot;: {\n&quot;lat&quot;: &quot;-37.3159&quot;,\n&quot;lng&quot;: &quot;81.1496&quot;\n}\n},\n&quot;phone&quot;: &quot;1-770-736-8031 x56442&quot;,\n&quot;website&quot;: &quot;hildegard.org&quot;,\n&quot;company&quot;: {\n&quot;name&quot;: &quot;Romaguera-Crona&quot;,\n&quot;catchPhrase&quot;: &quot;Multi-layered client-server neural-net&quot;,\n&quot;bs&quot;: &quot;harness real-time e-markets&quot;\n}\n},</p>\n<p>{\n&quot;id&quot;: 2,\n&quot;name&quot;: &quot;Ervin Howell&quot;,\n&quot;username&quot;: &quot;Antonette&quot;,\n&quot;email&quot;: &quot;Shanna@melissa.tv&quot;,\n&quot;address&quot;: {\n&quot;street&quot;: &quot;Victor Plains&quot;,\n&quot;suite&quot;: &quot;Suite 879&quot;,\n&quot;city&quot;: &quot;Wisokyburgh&quot;,\n&quot;zipcode&quot;: &quot;90566-7771&quot;,\n&quot;geo&quot;: {\n&quot;lat&quot;: &quot;-43.9509&quot;,\n&quot;lng&quot;: &quot;-34.4618&quot;\n}\n},\n&quot;phone&quot;: &quot;010-692-6593 x09125&quot;,\n&quot;website&quot;: &quot;anastasia.net&quot;,\n&quot;company&quot;: {\n&quot;name&quot;: &quot;Deckow-Crist&quot;,\n&quot;catchPhrase&quot;: &quot;Proactive didactic contingency&quot;,\n&quot;bs&quot;: &quot;synergize scalable supply-chains&quot;\n}\n},</p>\n<p>..... &quot;id&quot;:100, ...</p>\n"},{"tags":["java","mysql"],"owner":{"account_id":27808279,"reputation":1,"user_id":21231168,"display_name":"tzimea"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676609102,"answer_count":0,"score":0,"last_activity_date":1676609020,"creation_date":1676608833,"question_id":75480311,"body_markdown":"I am currently working on a java application. when users register for the application their info is saved in mysql database. when i run it on my computer everything is fine, but when its run on a different computer the user isnt able to register cause of &quot;Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)&quot;. idk how to fix it \r\nanything would be helpful\r\n\r\nfrom what ive searched up its because i havent allowed for remote access to the db but idk how to allow that \r\n","title":"Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES) on other computers","body":"<p>I am currently working on a java application. when users register for the application their info is saved in mysql database. when i run it on my computer everything is fine, but when its run on a different computer the user isnt able to register cause of &quot;Access denied for user 'root'@'localhost' (using password: YES)&quot;. idk how to fix it\nanything would be helpful</p>\n<p>from what ive searched up its because i havent allowed for remote access to the db but idk how to allow that</p>\n"},{"tags":["java","spring-boot","micrometer-tracing"],"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676608386,"creation_date":1676604717,"question_id":75480021,"body_markdown":"I use an injected `brave.Tracing` that comes with Spring Cloud Sleuth to build the GRPC tracing interceptor like this...\r\n\r\n```java\r\npublic GrpcServer(\r\n      final Set&lt;BindableService&gt; grpcServices,\r\n      final Tracing tracing,\r\n      @Value(&quot;${grpc.port:50000}&quot;) int port) {\r\n    final var interceptor = GrpcTracing.create(tracing).newServerInterceptor();\r\n    var b = ServerBuilder.forPort(port).executor(executor);\r\n    grpcServices.forEach(b::addService);\r\n    log.info(&quot;{} listening on {}&quot;, &quot;server&quot;, port);\r\n\r\n    this.healthStatusManager = new HealthStatusManager();\r\n    this.server =\r\n        b.addService(ProtoReflectionService.newInstance())\r\n            .addService(healthStatusManager.getHealthService())\r\n            .intercept(interceptor)\r\n            .build();\r\n}\r\n```\r\n\r\nBut since Spring Boot 3.0 no longer comes with Sleuth, I don&#39;t have the `brave.Tracing` available anymore.  How do I get it back?","title":"Where can I get brace.Tracing with a non-standard server Spring Boot 3.0 application?","body":"<p>I use an injected <code>brave.Tracing</code> that comes with Spring Cloud Sleuth to build the GRPC tracing interceptor like this...</p>\n<pre class=\"lang-java prettyprint-override\"><code>public GrpcServer(\n      final Set&lt;BindableService&gt; grpcServices,\n      final Tracing tracing,\n      @Value(&quot;${grpc.port:50000}&quot;) int port) {\n    final var interceptor = GrpcTracing.create(tracing).newServerInterceptor();\n    var b = ServerBuilder.forPort(port).executor(executor);\n    grpcServices.forEach(b::addService);\n    log.info(&quot;{} listening on {}&quot;, &quot;server&quot;, port);\n\n    this.healthStatusManager = new HealthStatusManager();\n    this.server =\n        b.addService(ProtoReflectionService.newInstance())\n            .addService(healthStatusManager.getHealthService())\n            .intercept(interceptor)\n            .build();\n}\n</code></pre>\n<p>But since Spring Boot 3.0 no longer comes with Sleuth, I don't have the <code>brave.Tracing</code> available anymore.  How do I get it back?</p>\n"},{"tags":["java","android-emulator","qemu"],"owner":{"account_id":27808370,"reputation":1,"user_id":21231240,"display_name":"hithere"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676608270,"creation_date":1676608270,"question_id":75480271,"body_markdown":"I am trying to port Limbo Emulator for Android 33. It keeps crashing at this line:\r\n\r\n```\r\nPendingIntent pi = PendingIntent.getActivity(service.getApplicationContext(), 0, intent,\r\n                PendingIntent.FLAG_UPDATE_CURRENT);\r\n```\r\nFrom this block\r\n\r\n```\r\nprivate void setUpAsForeground(String text) {\r\n        if (MachineController.getInstance().getMachine() == null) {\r\n            Log.w(TAG, &quot;No Machine selected&quot;);\r\n            return;\r\n        }\r\n        Intent intent = new Intent(service.getApplicationContext(), Config.clientClass);\r\n        PendingIntent pi = PendingIntent.getActivity(service.getApplicationContext(), 0, intent,\r\n                PendingIntent.FLAG_UPDATE_CURRENT);\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            NotificationChannel chan = new NotificationChannel(Config.notificationChannelID, Config.notificationChannelName, NotificationManager.IMPORTANCE_NONE);\r\n            NotificationManager notifService = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\r\n            notifService.createNotificationChannel(chan);\r\n            builder = new NotificationCompat.Builder(service, Config.notificationChannelID);\r\n        } else\r\n            builder = new NotificationCompat.Builder(service, &quot;&quot;);\r\n        mNotification = builder.setContentIntent(pi).setContentTitle(getString(R.string.app_name)).setContentText(text)\r\n                .setSmallIcon(R.drawable.limbo)\r\n                .setLargeIcon(BitmapFactory.decodeResource(service.getResources(), R.drawable.limbo)).build();\r\n        mNotification.tickerText = text;\r\n        mNotification.flags |= Notification.FLAG_ONGOING_EVENT;\r\n        service.startForeground(notifID, mNotification);\r\n    }\r\n```\r\nfrom this file:\r\n[MachineService.java](https://github.com/limboemu/limbo/blob/master/limbo-android-lib/src/main/java/com/max2idea/android/limbo/machine/MachineService.java)\r\n\r\nI got it to kinda work by changing:\r\n```\r\nPendingIntent pi = PendingIntent.getActivity(service.getApplicationContext(), 0, intent,\r\n                PendingIntent.FLAG_UPDATE_CURRENT);\r\n```\r\nTo:\r\n```\r\nPendingIntent pi = PendingIntent.getActivity(service.getApplicationContext(), 0, intent,\r\n                PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_IMMUTABLE);\r\n```\r\nThe BIOS Screen Opens but, when I add an ISO or qcow2 it crashes. This makes me think its a storage issue and not a Intent Issue... can anybody help me please?\r\n\r\nHere is the original project I&#39;m trying to port:\r\n[Limbo](https://github.com/limboemu/limbo)","title":"Limbo for Android 33","body":"<p>I am trying to port Limbo Emulator for Android 33. It keeps crashing at this line:</p>\n<pre><code>PendingIntent pi = PendingIntent.getActivity(service.getApplicationContext(), 0, intent,\n                PendingIntent.FLAG_UPDATE_CURRENT);\n</code></pre>\n<p>From this block</p>\n<pre><code>private void setUpAsForeground(String text) {\n        if (MachineController.getInstance().getMachine() == null) {\n            Log.w(TAG, &quot;No Machine selected&quot;);\n            return;\n        }\n        Intent intent = new Intent(service.getApplicationContext(), Config.clientClass);\n        PendingIntent pi = PendingIntent.getActivity(service.getApplicationContext(), 0, intent,\n                PendingIntent.FLAG_UPDATE_CURRENT);\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            NotificationChannel chan = new NotificationChannel(Config.notificationChannelID, Config.notificationChannelName, NotificationManager.IMPORTANCE_NONE);\n            NotificationManager notifService = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n            notifService.createNotificationChannel(chan);\n            builder = new NotificationCompat.Builder(service, Config.notificationChannelID);\n        } else\n            builder = new NotificationCompat.Builder(service, &quot;&quot;);\n        mNotification = builder.setContentIntent(pi).setContentTitle(getString(R.string.app_name)).setContentText(text)\n                .setSmallIcon(R.drawable.limbo)\n                .setLargeIcon(BitmapFactory.decodeResource(service.getResources(), R.drawable.limbo)).build();\n        mNotification.tickerText = text;\n        mNotification.flags |= Notification.FLAG_ONGOING_EVENT;\n        service.startForeground(notifID, mNotification);\n    }\n</code></pre>\n<p>from this file:\n<a href=\"https://github.com/limboemu/limbo/blob/master/limbo-android-lib/src/main/java/com/max2idea/android/limbo/machine/MachineService.java\" rel=\"nofollow noreferrer\">MachineService.java</a></p>\n<p>I got it to kinda work by changing:</p>\n<pre><code>PendingIntent pi = PendingIntent.getActivity(service.getApplicationContext(), 0, intent,\n                PendingIntent.FLAG_UPDATE_CURRENT);\n</code></pre>\n<p>To:</p>\n<pre><code>PendingIntent pi = PendingIntent.getActivity(service.getApplicationContext(), 0, intent,\n                PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_IMMUTABLE);\n</code></pre>\n<p>The BIOS Screen Opens but, when I add an ISO or qcow2 it crashes. This makes me think its a storage issue and not a Intent Issue... can anybody help me please?</p>\n<p>Here is the original project I'm trying to port:\n<a href=\"https://github.com/limboemu/limbo\" rel=\"nofollow noreferrer\">Limbo</a></p>\n"},{"tags":["java","database","jdbi","jdbi3"],"answers":[{"tags":[],"owner":{"account_id":16935487,"reputation":313,"user_id":12248597,"display_name":"EzyHoo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676607410,"creation_date":1676607410,"answer_id":75480191,"question_id":74750315,"body_markdown":"You will need @Nested annotation for PaCategory\r\n\r\n````\r\n@Nested\r\nprivate PaCategory paCategory;\r\n````","title":"JDBI can not auto map for my class when i use mapToBean","body":"<p>You will need @Nested annotation for PaCategory</p>\n<pre><code>@Nested\nprivate PaCategory paCategory;\n</code></pre>\n"}],"owner":{"account_id":26640597,"reputation":1,"user_id":20256352,"display_name":"Dương Thanh Phụng"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676607410,"creation_date":1670645466,"question_id":74750315,"body_markdown":"I have Category and PaCategory\r\n\r\n```\r\npublic class Category implements Serializable {\r\n    private int categoryId;\r\n    private int paCategoryId;\r\n    private String name;\r\n\r\n    private PaCategory paCategory;\r\n\r\n    public Category() {\r\n    }\r\n    \r\n    //getter and setter\r\n}\r\n```\r\n\r\n\r\n```\r\npublic class PaCategory implements Serializable {\r\n    private int paCategoryId;\r\n    private String pname;\r\n\r\n    public PaCategory() {\r\n    }\r\n\r\n    //getter and setter\r\n}\r\n```\r\n\r\nMain\r\n\r\n```\r\nList&lt;Category&gt; categories = JDBIConnector.get().withHandle(handle -&gt; {\r\n    return handle.createQuery(&quot;SELECT c.category_id,c.name,pa.pa_category_id,pa.name pname FROM category c join pa_category pa on pa.pa_category_id =c.pa_category_id WHERE category_id=2&quot;).mapToBean(Category.class).list();\r\n});\r\nSystem.out.println(categories);\r\n```\r\n\r\npaCategory is null\r\n\r\n&gt; [Category{categoryId=2, paCategoryId=1, name=&#39;Gia dụng&#39;, paCategory=null}]\r\n\r\nBut I would like a PaCategory and its value.\r\n","title":"JDBI can not auto map for my class when i use mapToBean","body":"<p>I have Category and PaCategory</p>\n<pre><code>public class Category implements Serializable {\n    private int categoryId;\n    private int paCategoryId;\n    private String name;\n\n    private PaCategory paCategory;\n\n    public Category() {\n    }\n    \n    //getter and setter\n}\n</code></pre>\n<pre><code>public class PaCategory implements Serializable {\n    private int paCategoryId;\n    private String pname;\n\n    public PaCategory() {\n    }\n\n    //getter and setter\n}\n</code></pre>\n<p>Main</p>\n<pre><code>List&lt;Category&gt; categories = JDBIConnector.get().withHandle(handle -&gt; {\n    return handle.createQuery(&quot;SELECT c.category_id,c.name,pa.pa_category_id,pa.name pname FROM category c join pa_category pa on pa.pa_category_id =c.pa_category_id WHERE category_id=2&quot;).mapToBean(Category.class).list();\n});\nSystem.out.println(categories);\n</code></pre>\n<p>paCategory is null</p>\n<blockquote>\n<p>[Category{categoryId=2, paCategoryId=1, name='Gia dụng', paCategory=null}]</p>\n</blockquote>\n<p>But I would like a PaCategory and its value.</p>\n"},{"tags":["java","spring","spring-boot","cookies","spring-cloud-gateway"],"owner":{"account_id":16038445,"reputation":63,"user_id":11575493,"display_name":"LucyEly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676606346,"creation_date":1676588897,"question_id":75478805,"body_markdown":"I am new to Spring Cloud Gateway and I am struggling to debug a 404. The current gateway flow has our web app sending an HTTP request to our Gateway with a SESSION Cookie value. It takes this cookie value and sends it to micro-service A and micro-service b to have them both authenticate the request. Then once the request is authenticated it makes a request again to micro-service A to obtain the data that requested. This request fails instantly at micro service A with the following error `org.springframework.web.serverlet.PageNotFound: No mapping for SES ION=&lt;session cookie value&gt;`. It seems that somewhere in the flow the HTTP Request from Spring Cloud Gateway to micro-service A changes from a GET request to the cookie value. Has anyone ran into this before or know how I could debug this?\r\n\r\nThe Filter:\r\n```\r\n\r\n    @Component  \r\n    public class Filter {  \r\n      \r\n        private final AuthFilter authFilter;  \r\n      \r\n        public Filter(final AuthFilter authFilter) {  \r\n            this.authFilter = authFilter;  \r\n            filters =  \r\n                    f -&gt;  \r\n                            f.filter(authFilter)  \r\n                                    .rewritePath(          \r\n    \t\t\t\t\t\t\t                    &quot;/api/v1/(?&lt;segment&gt;.*)&quot;,  \r\n    \t\t                                         &quot;/${segment}&quot;\r\n    \t\t                                    )  \r\n        }  \r\n    }\r\n\r\n```\r\n\r\n    @Component  \r\n    @RequiredArgsConstructor  \r\n    public class AuthFilter implements GatewayFilter {  \r\n      \r\n        @Override  \r\n        public Mono&lt;Void&gt; filter(final ServerWebExchange exchange, final GatewayFilterChain chain) {  \r\n    \t\t// user validation request\r\n    \t\t// just a rest template get and checks for a 200\r\n    \t\t\r\n    \t\t// permission check\r\n    \t\t// just a rest template post and checks for a 200 and the response is not null\r\n    \r\n    \t\t// requests pass both auth checks\r\n    \t\treturn chain.filter(exchange);\r\n        }\r\n\r\nI am unsure what other code I can provide as in the other micro-service it does not reach any of our code. Thanks for any help in advance\r\n","title":"Spring Cloud Gateway Requests Get Turned into the Cookie Value instead of GET","body":"<p>I am new to Spring Cloud Gateway and I am struggling to debug a 404. The current gateway flow has our web app sending an HTTP request to our Gateway with a SESSION Cookie value. It takes this cookie value and sends it to micro-service A and micro-service b to have them both authenticate the request. Then once the request is authenticated it makes a request again to micro-service A to obtain the data that requested. This request fails instantly at micro service A with the following error <code>org.springframework.web.serverlet.PageNotFound: No mapping for SES ION=&lt;session cookie value&gt;</code>. It seems that somewhere in the flow the HTTP Request from Spring Cloud Gateway to micro-service A changes from a GET request to the cookie value. Has anyone ran into this before or know how I could debug this?</p>\n<p>The Filter:</p>\n<pre><code>\n    @Component  \n    public class Filter {  \n      \n        private final AuthFilter authFilter;  \n      \n        public Filter(final AuthFilter authFilter) {  \n            this.authFilter = authFilter;  \n            filters =  \n                    f -&gt;  \n                            f.filter(authFilter)  \n                                    .rewritePath(          \n                                                    &quot;/api/v1/(?&lt;segment&gt;.*)&quot;,  \n                                                     &quot;/${segment}&quot;\n                                                )  \n        }  \n    }\n\n</code></pre>\n<pre><code>@Component  \n@RequiredArgsConstructor  \npublic class AuthFilter implements GatewayFilter {  \n  \n    @Override  \n    public Mono&lt;Void&gt; filter(final ServerWebExchange exchange, final GatewayFilterChain chain) {  \n        // user validation request\n        // just a rest template get and checks for a 200\n        \n        // permission check\n        // just a rest template post and checks for a 200 and the response is not null\n\n        // requests pass both auth checks\n        return chain.filter(exchange);\n    }\n</code></pre>\n<p>I am unsure what other code I can provide as in the other micro-service it does not reach any of our code. Thanks for any help in advance</p>\n"},{"tags":["javascript","java","spring-boot","vue.js","multipartform-data"],"owner":{"account_id":18831576,"reputation":11,"user_id":13735259,"display_name":"omar kamal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676606120,"creation_date":1676606120,"question_id":75480124,"body_markdown":"I am having a problem I hope u can help me with it. I am working on this project with Spring boot and Vuejs. I am supposed to print 3 unrelated different parts in the app without the printing dialog. and I am working with 3 different printers for each part of the app. I can&#39;t find a way to do that in the frontend because the browser doesn&#39;t allow that, So I thought of doing that through the backend So the first idea came to me is to convert the html element that I should print to pdf to do so I used html2pdf plugin to extract the file and then send it to the backend as multipartfile and in the backend I will use the printerjob class to do the printing. I used in the backend pdfbox (attached a code I used to work with the multipart file to be able to print it) but things didn&#39;t work out right. I go that error -&gt; Error: End-of-File, expected line. which show that the file is empty. Now I don&#39;t know what I am doing wrong and don&#39;t have much experience with java to make it work. So if anyone can help me\r\n\r\n\r\nthis is the frontend part with converting the html to pdf\r\n\r\n```\r\n   let that = this;\r\n\r\n      html2pdf()\r\n        .set({\r\n          filename: &quot;test.pdf&quot;,\r\n          margin: 4,\r\n          jsPDF: {\r\n            orientation: &quot;portrait&quot;,\r\n          },\r\n        })\r\n        .from(document.getElementById(&quot;voucher-body&quot;))\r\n        .toPdf()\r\n        .output(&quot;datauristring&quot;)\r\n        .then(function(pdfAsString) {\r\n          const file = new File([pdfAsString], &quot;voucher-body&quot;, {\r\n            type: &quot;application/pdf&quot;,\r\n            lastModified: new Date().getTime(),\r\n          });\r\n\r\n          console.log(file);\r\n          const reader = new FileReader();\r\n          reader.readAsText(file);\r\n          reader.onload = () =&gt; console.log(reader.result);\r\n\r\n          const formData = new FormData();\r\n          formData.append(&quot;data&quot;, file);\r\n\r\n          that.printForm({\r\n            eventId: that.event.id,\r\n            doctorId: that.doctor.id,\r\n            type: &quot;voucher&quot;,\r\n            formFile: formData,\r\n          });\r\n        });\r\n```\r\n\r\nAnd this is the method to handle printing the multipart file in spring\r\n\r\n`\r\n   \r\n```\r\n PDDocument document = PDDocument.load(file.getInputStream());\r\n        PrinterJob job = PrinterJob.getPrinterJob();\r\n        job.setJobName(file.getOriginalFilename());\r\n//\r\n        for (PrintService ps : PrinterJob.lookupPrintServices()) {\r\n            String psName = ps.toString();\r\n            // 选用指定打印机\r\n            if (psName.equals(&quot;XP-80C (copy 1)&quot;)) {\r\n                job.setPrintService(ps);\r\n                break;\r\n            }\r\n        }\r\n//\r\n        job.setPageable(new PDFPageable(document));\r\n\r\n        Paper paper = new Paper();\r\n        // 设置打印纸张大小\r\n        paper.setSize(598,842); // 1/72 inch\r\n        // 设置打印位置 坐标\r\n        paper.setImageableArea(0, 0, paper.getWidth(), paper.getHeight()); // no margins\r\n        // custom page format\r\n        PageFormat pageFormat = new PageFormat();\r\n        pageFormat.setPaper(paper);\r\n        // override the page format\r\n        Book book = new Book();\r\n        // append all pages 设置一些属性 是否缩放 打印张数等\r\n        book.append(new PDFPrintable(document, Scaling.ACTUAL_SIZE), pageFormat, 1);\r\n        job.setPageable(book);\r\n        // 开始打印\r\n        job.print();`\r\n```\r\n\r\n","title":"Printing from different printers without printing dialog using Vue and Spring","body":"<p>I am having a problem I hope u can help me with it. I am working on this project with Spring boot and Vuejs. I am supposed to print 3 unrelated different parts in the app without the printing dialog. and I am working with 3 different printers for each part of the app. I can't find a way to do that in the frontend because the browser doesn't allow that, So I thought of doing that through the backend So the first idea came to me is to convert the html element that I should print to pdf to do so I used html2pdf plugin to extract the file and then send it to the backend as multipartfile and in the backend I will use the printerjob class to do the printing. I used in the backend pdfbox (attached a code I used to work with the multipart file to be able to print it) but things didn't work out right. I go that error -&gt; Error: End-of-File, expected line. which show that the file is empty. Now I don't know what I am doing wrong and don't have much experience with java to make it work. So if anyone can help me</p>\n<p>this is the frontend part with converting the html to pdf</p>\n<pre><code>   let that = this;\n\n      html2pdf()\n        .set({\n          filename: &quot;test.pdf&quot;,\n          margin: 4,\n          jsPDF: {\n            orientation: &quot;portrait&quot;,\n          },\n        })\n        .from(document.getElementById(&quot;voucher-body&quot;))\n        .toPdf()\n        .output(&quot;datauristring&quot;)\n        .then(function(pdfAsString) {\n          const file = new File([pdfAsString], &quot;voucher-body&quot;, {\n            type: &quot;application/pdf&quot;,\n            lastModified: new Date().getTime(),\n          });\n\n          console.log(file);\n          const reader = new FileReader();\n          reader.readAsText(file);\n          reader.onload = () =&gt; console.log(reader.result);\n\n          const formData = new FormData();\n          formData.append(&quot;data&quot;, file);\n\n          that.printForm({\n            eventId: that.event.id,\n            doctorId: that.doctor.id,\n            type: &quot;voucher&quot;,\n            formFile: formData,\n          });\n        });\n</code></pre>\n<p>And this is the method to handle printing the multipart file in spring</p>\n<p>`</p>\n<pre><code> PDDocument document = PDDocument.load(file.getInputStream());\n        PrinterJob job = PrinterJob.getPrinterJob();\n        job.setJobName(file.getOriginalFilename());\n//\n        for (PrintService ps : PrinterJob.lookupPrintServices()) {\n            String psName = ps.toString();\n            // 选用指定打印机\n            if (psName.equals(&quot;XP-80C (copy 1)&quot;)) {\n                job.setPrintService(ps);\n                break;\n            }\n        }\n//\n        job.setPageable(new PDFPageable(document));\n\n        Paper paper = new Paper();\n        // 设置打印纸张大小\n        paper.setSize(598,842); // 1/72 inch\n        // 设置打印位置 坐标\n        paper.setImageableArea(0, 0, paper.getWidth(), paper.getHeight()); // no margins\n        // custom page format\n        PageFormat pageFormat = new PageFormat();\n        pageFormat.setPaper(paper);\n        // override the page format\n        Book book = new Book();\n        // append all pages 设置一些属性 是否缩放 打印张数等\n        book.append(new PDFPrintable(document, Scaling.ACTUAL_SIZE), pageFormat, 1);\n        job.setPageable(book);\n        // 开始打印\n        job.print();`\n</code></pre>\n"},{"tags":["java","android","json","rest"],"answers":[{"tags":[],"owner":{"account_id":1962,"reputation":16528,"user_id":2700,"accept_rate":89,"display_name":"James L"},"down_vote_count":0,"up_vote_count":337,"is_accepted":true,"score":337,"last_activity_date":1585029759,"creation_date":1302114041,"answer_id":5571130,"question_id":5571092,"body_markdown":"Most people are using gson : [check this][1]\r\n\r\n    Gson gson = new Gson();\r\n    String json = gson.toJson(myObj);\r\n\r\n\r\n  [1]: https://github.com/google/gson","title":"Convert object to JSON in Android","body":"<p>Most people are using gson : <a href=\"https://github.com/google/gson\" rel=\"noreferrer\">check this</a></p>\n\n<pre><code>Gson gson = new Gson();\nString json = gson.toJson(myObj);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":420891,"reputation":11018,"user_id":798818,"accept_rate":91,"display_name":"Mob"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1323352343,"creation_date":1323352343,"answer_id":8432004,"question_id":5571092,"body_markdown":"As of Android 3.0 (API Level 11) Android has a more recent and improved JSON Parser.\r\n\r\nhttp://developer.android.com/reference/android/util/JsonReader.html \r\n\r\n&gt; Reads a JSON (RFC 4627) encoded value as a stream of tokens. This\r\n&gt; stream includes both literal values (strings, numbers, booleans, and\r\n&gt; nulls) as well as the begin and end delimiters of objects and arrays.\r\n&gt; The tokens are traversed in depth-first order, the same order that\r\n&gt; they appear in the JSON document. Within JSON objects, name/value\r\n&gt; pairs are represented by a single token.","title":"Convert object to JSON in Android","body":"<p>As of Android 3.0 (API Level 11) Android has a more recent and improved JSON Parser.</p>\n\n<p><a href=\"http://developer.android.com/reference/android/util/JsonReader.html\" rel=\"nofollow\">http://developer.android.com/reference/android/util/JsonReader.html</a> </p>\n\n<blockquote>\n  <p>Reads a JSON (RFC 4627) encoded value as a stream of tokens. This\n  stream includes both literal values (strings, numbers, booleans, and\n  nulls) as well as the begin and end delimiters of objects and arrays.\n  The tokens are traversed in depth-first order, the same order that\n  they appear in the JSON document. Within JSON objects, name/value\n  pairs are represented by a single token.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":484277,"reputation":2874,"user_id":899850,"display_name":"ingyesid"},"down_vote_count":3,"up_vote_count":67,"is_accepted":false,"score":64,"last_activity_date":1350962489,"creation_date":1349398413,"answer_id":12738097,"question_id":5571092,"body_markdown":"    \r\n\r\n    public class Producto {\r\n\t\r\n\tint idProducto;\r\n\tString nombre;\r\n\tDouble precio;\r\n\t\r\n\t\r\n\t\r\n\tpublic Producto(int idProducto, String nombre, Double precio) {\r\n\t\t\r\n\t\tthis.idProducto = idProducto;\r\n\t\tthis.nombre = nombre;\r\n\t\tthis.precio = precio;\r\n\t\t\r\n\t}\r\n\tpublic int getIdProducto() {\r\n\t\treturn idProducto;\r\n\t}\r\n\tpublic void setIdProducto(int idProducto) {\r\n\t\tthis.idProducto = idProducto;\r\n\t}\r\n\tpublic String getNombre() {\r\n\t\treturn nombre;\r\n\t}\r\n\tpublic void setNombre(String nombre) {\r\n\t\tthis.nombre = nombre;\r\n\t}\r\n\tpublic Double getPrecio() {\r\n\t\treturn precio;\r\n\t}\r\n\tpublic void setPrecio(Double precio) {\r\n\t\tthis.precio = precio;\r\n\t}\r\n\r\n    public String toJSON(){\r\n\t\t\r\n\t\tJSONObject jsonObject= new JSONObject();\r\n\t\ttry {\r\n\t\t\tjsonObject.put(&quot;id&quot;, getIdProducto());\r\n\t\t\tjsonObject.put(&quot;nombre&quot;, getNombre());\r\n\t\t\tjsonObject.put(&quot;precio&quot;, getPrecio());\r\n\t\t\t\r\n\t\t\treturn jsonObject.toString();\r\n\t\t} catch (JSONException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t\treturn &quot;&quot;;\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t","title":"Convert object to JSON in Android","body":"<pre><code>public class Producto {\n\nint idProducto;\nString nombre;\nDouble precio;\n\n\n\npublic Producto(int idProducto, String nombre, Double precio) {\n\n    this.idProducto = idProducto;\n    this.nombre = nombre;\n    this.precio = precio;\n\n}\npublic int getIdProducto() {\n    return idProducto;\n}\npublic void setIdProducto(int idProducto) {\n    this.idProducto = idProducto;\n}\npublic String getNombre() {\n    return nombre;\n}\npublic void setNombre(String nombre) {\n    this.nombre = nombre;\n}\npublic Double getPrecio() {\n    return precio;\n}\npublic void setPrecio(Double precio) {\n    this.precio = precio;\n}\n\npublic String toJSON(){\n\n    JSONObject jsonObject= new JSONObject();\n    try {\n        jsonObject.put(\"id\", getIdProducto());\n        jsonObject.put(\"nombre\", getNombre());\n        jsonObject.put(\"precio\", getPrecio());\n\n        return jsonObject.toString();\n    } catch (JSONException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n        return \"\";\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":56980,"reputation":9928,"user_id":170664,"accept_rate":48,"display_name":"Saeed Zarinfam"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1396953285,"creation_date":1396953285,"answer_id":22934415,"question_id":5571092,"body_markdown":"[Spring for Android][1] do this using RestTemplate easily:\r\n\r\n    final String url = &quot;http://192.168.1.50:9000/greeting&quot;;\r\n    RestTemplate restTemplate = new RestTemplate();\r\n    restTemplate.getMessageConverters().add(new MappingJackson2HttpMessageConverter());\r\n    Greeting greeting = restTemplate.getForObject(url, Greeting.class);\r\n\r\n  [1]: http://projects.spring.io/spring-android/","title":"Convert object to JSON in Android","body":"<p><a href=\"http://projects.spring.io/spring-android/\" rel=\"nofollow\">Spring for Android</a> do this using RestTemplate easily:</p>\n\n<pre><code>final String url = \"http://192.168.1.50:9000/greeting\";\nRestTemplate restTemplate = new RestTemplate();\nrestTemplate.getMessageConverters().add(new MappingJackson2HttpMessageConverter());\nGreeting greeting = restTemplate.getForObject(url, Greeting.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":242113,"reputation":52552,"user_id":513413,"accept_rate":74,"display_name":"Hesam"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1477206144,"creation_date":1477206144,"answer_id":40200420,"question_id":5571092,"body_markdown":"Might be better choice:\r\n\r\n    @Override\r\n    public String toString() {\r\n        return new GsonBuilder().create().toJson(this, Producto.class);\r\n    }","title":"Convert object to JSON in Android","body":"<p>Might be better choice:</p>\n\n<pre><code>@Override\npublic String toString() {\n    return new GsonBuilder().create().toJson(this, Producto.class);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3552080,"reputation":487,"user_id":2966714,"display_name":"Faxon Lander Montenegro"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1655825577,"creation_date":1583340749,"answer_id":60531041,"question_id":5571092,"body_markdown":"download the library Gradle:\r\n\r\n    implementation &#39;com.google.code.gson:gson:2.9.0&#39;\r\n\r\nTo use the library in a method.\r\n\r\n    Gson gson = new Gson();\r\n\r\n    //transform a java object to json\r\n    System.out.println(&quot;json =&quot; + gson.toJson(Object.class).toString());\r\n\r\n    //Transform a json to java object\r\n    String json = string_json;\r\n    List&lt;Object&gt; lstObject = gson.fromJson(json_ string, Object.class);","title":"Convert object to JSON in Android","body":"<p>download the library Gradle:</p>\n<pre><code>implementation 'com.google.code.gson:gson:2.9.0'\n</code></pre>\n<p>To use the library in a method.</p>\n<pre><code>Gson gson = new Gson();\n\n//transform a java object to json\nSystem.out.println(&quot;json =&quot; + gson.toJson(Object.class).toString());\n\n//Transform a json to java object\nString json = string_json;\nList&lt;Object&gt; lstObject = gson.fromJson(json_ string, Object.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9543906,"reputation":1239,"user_id":7090806,"display_name":"Rahul Mishra"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1657868237,"creation_date":1657868237,"answer_id":72990115,"question_id":5571092,"body_markdown":"The **Kotlin** way\r\n\r\n    val json = Gson().toJson(myObj)","title":"Convert object to JSON in Android","body":"<p>The <strong>Kotlin</strong> way</p>\n<pre><code>val json = Gson().toJson(myObj)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5350815,"reputation":4694,"user_id":4264996,"accept_rate":0,"display_name":"madhu527"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676606120,"creation_date":1676606120,"answer_id":75480125,"question_id":5571092,"body_markdown":"Anyway, you know this  \r\n\r\n    Gson gson = new Gson();\r\n    String json = gson.toJson(yourModelClassReference);\r\n       \r\n\r\nYou might have forget to add **@Expose** \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YpQCF.png","title":"Convert object to JSON in Android","body":"<p>Anyway, you know this</p>\n<pre><code>Gson gson = new Gson();\nString json = gson.toJson(yourModelClassReference);\n   \n</code></pre>\n<p>You might have forget to add <strong>@Expose</strong></p>\n<p><a href=\"https://i.stack.imgur.com/YpQCF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YpQCF.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":58404,"reputation":16263,"user_id":174868,"accept_rate":96,"display_name":"Thizzer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189269,"favorite_count":0,"down_vote_count":0,"up_vote_count":168,"accepted_answer_id":5571130,"answer_count":8,"score":168,"last_activity_date":1676606120,"creation_date":1302113881,"question_id":5571092,"body_markdown":"Is there a simple method to convert any object to JSON in Android?","title":"Convert object to JSON in Android","body":"<p>Is there a simple method to convert any object to JSON in Android?</p>\n"},{"tags":["java","list","hashmap","java-stream"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1676605255,"post_id":75479974,"comment_id":133175185,"body_markdown":"Please edit the question to include your code, and explain exactly what problem you are having with it.","body":"Please edit the question to include your code, and explain exactly what problem you are having with it."}],"answers":[{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676606091,"creation_date":1676605726,"answer_id":75480096,"question_id":75479974,"body_markdown":"You don&#39;t need streams, just a simple `for` loop that walks down each chain:\r\n\r\n    Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n    for (String chain : list) {\r\n        Map&lt;String, Object&gt; current = map;\r\n        for (String node : chain.split(&quot;-&gt;&quot;)) {\r\n            current = (Map&lt;String, Object&gt;)current.computeIfAbsent(node, n -&gt; new HashMap&lt;&gt;());\r\n        }\r\n    }\r\n\r\nIf you want to avoid the unchecked cast warnings, you can define a self-referential map like this (assuming you don&#39;t plan to mix in additional value types):\r\n\r\n    class NestingMap extends HashMap&lt;String, NestingMap&gt; {}\r\n\r\n[**Ideone Demo**][1]\r\n\r\n\r\n  [1]: https://ideone.com/tXRG1k","title":"List manipulation and conversion in Java","body":"<p>You don't need streams, just a simple <code>for</code> loop that walks down each chain:</p>\n<pre><code>Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\nfor (String chain : list) {\n    Map&lt;String, Object&gt; current = map;\n    for (String node : chain.split(&quot;-&gt;&quot;)) {\n        current = (Map&lt;String, Object&gt;)current.computeIfAbsent(node, n -&gt; new HashMap&lt;&gt;());\n    }\n}\n</code></pre>\n<p>If you want to avoid the unchecked cast warnings, you can define a self-referential map like this (assuming you don't plan to mix in additional value types):</p>\n<pre><code>class NestingMap extends HashMap&lt;String, NestingMap&gt; {}\n</code></pre>\n<p><a href=\"https://ideone.com/tXRG1k\" rel=\"nofollow noreferrer\"><strong>Ideone Demo</strong></a></p>\n"}],"owner":{"account_id":27773740,"reputation":3,"user_id":21203536,"display_name":"Lee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75480096,"answer_count":1,"score":0,"last_activity_date":1676606091,"creation_date":1676604144,"question_id":75479974,"body_markdown":"I have an input list like:  \r\n`var list = Arrays.asList(&quot;etc-&gt;hosts&quot;, &quot;etc-&gt;dockers-&gt;ssl-&gt;certs&quot;, &quot;root&quot;);`  \r\n\r\nAnd I am trying to convert it into nested map:  \r\n`{etc={dockers={ssl={certs={}}}, hosts={}}, root={}}`\r\n\r\n\r\n\r\nI tried to split the key from input list with dot i.e. &#39;-&gt;&#39; and tried to iterate over to construct a map: Map&lt;String, Map&gt;.  \r\nTried`.groupingBy()` `.computeIfAbsent()` `.stream().map().filter().collect()`, both of them failed.","title":"List manipulation and conversion in Java","body":"<p>I have an input list like:<br />\n<code>var list = Arrays.asList(&quot;etc-&gt;hosts&quot;, &quot;etc-&gt;dockers-&gt;ssl-&gt;certs&quot;, &quot;root&quot;);</code></p>\n<p>And I am trying to convert it into nested map:<br />\n<code>{etc={dockers={ssl={certs={}}}, hosts={}}, root={}}</code></p>\n<p>I tried to split the key from input list with dot i.e. '-&gt;' and tried to iterate over to construct a map: Map&lt;String, Map&gt;.<br />\nTried<code>.groupingBy()</code> <code>.computeIfAbsent()</code> <code>.stream().map().filter().collect()</code>, both of them failed.</p>\n"},{"tags":["java","email","gmail","sendgrid"],"answers":[{"tags":[],"owner":{"account_id":2296144,"reputation":739,"user_id":2017536,"accept_rate":62,"display_name":"Mumzee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1579006011,"creation_date":1579006011,"answer_id":59734089,"question_id":59562879,"body_markdown":"As suggested by this answer https://stackoverflow.com/a/29205203/2017536\r\nHere is how this problem can be solved using javax.mail package\r\n\r\n    @Autowired\r\n    private JavaMailSender mailSender;\r\n    \r\n     private void sendMail(String to, String subject, String bodyPlainText, String bodyHtml, String contentId, String base64Image) {\r\n        try {\r\n            MimeMessage message = mailSender.createMimeMessage();\r\n            message.setSubject(subject);\r\n            message.setFrom(new InternetAddress(from));\r\n            message.setRecipient(Message.RecipientType.TO, new InternetAddress(to));\r\n\r\n            MimeBodyPart textPart = new MimeBodyPart();\r\n            textPart.setContent(bodyPlainText, &quot;text/plain; charset=UTF-8&quot;);\r\n\r\n            MimeBodyPart htmlPart = new MimeBodyPart();\r\n            htmlPart.setContent(bodyHtml, &quot;text/html; charset=UTF-8&quot;);\r\n            \r\n            Multipart multiPart = new MimeMultipart(&quot;alternative&quot;);\r\n            \r\n            // create a new imagePart and add it to multipart so that the image is inline attached in the email\r\n            byte[] rawImage = Base64.getDecoder().decode(base64Image);\r\n            BodyPart imagePart = new MimeBodyPart();\r\n            ByteArrayDataSource imageDataSource = new ByteArrayDataSource(rawImage,&quot;image/png&quot;);\r\n            \r\n            imagePart.setDataHandler(new DataHandler(imageDataSource));\r\n            imagePart.setHeader(&quot;Content-ID&quot;, &quot;&lt;qrImage&gt;&quot;);\r\n            imagePart.setFileName(&quot;someFileName.png&quot;);\r\n            \r\n            multiPart.addBodyPart(imagePart);\r\n            multiPart.addBodyPart(textPart);\r\n            multiPart.addBodyPart(htmlPart);\r\n\r\n            message.setContent(multiPart);\r\n            \r\n            mailSender.send(message);\r\n        } catch (MessagingException exception) {\r\n            //log error\r\n        }\r\n    }\r\n    \r\nAnd in your html template you should have `&lt;img src=&quot;cid:qrImage&quot; alt=&quot;qr code&quot;&gt;`","title":"How to display QR code of a string in gmail","body":"<p>As suggested by this answer <a href=\"https://stackoverflow.com/a/29205203/2017536\">https://stackoverflow.com/a/29205203/2017536</a>\nHere is how this problem can be solved using javax.mail package</p>\n\n<pre><code>@Autowired\nprivate JavaMailSender mailSender;\n\n private void sendMail(String to, String subject, String bodyPlainText, String bodyHtml, String contentId, String base64Image) {\n    try {\n        MimeMessage message = mailSender.createMimeMessage();\n        message.setSubject(subject);\n        message.setFrom(new InternetAddress(from));\n        message.setRecipient(Message.RecipientType.TO, new InternetAddress(to));\n\n        MimeBodyPart textPart = new MimeBodyPart();\n        textPart.setContent(bodyPlainText, \"text/plain; charset=UTF-8\");\n\n        MimeBodyPart htmlPart = new MimeBodyPart();\n        htmlPart.setContent(bodyHtml, \"text/html; charset=UTF-8\");\n\n        Multipart multiPart = new MimeMultipart(\"alternative\");\n\n        // create a new imagePart and add it to multipart so that the image is inline attached in the email\n        byte[] rawImage = Base64.getDecoder().decode(base64Image);\n        BodyPart imagePart = new MimeBodyPart();\n        ByteArrayDataSource imageDataSource = new ByteArrayDataSource(rawImage,\"image/png\");\n\n        imagePart.setDataHandler(new DataHandler(imageDataSource));\n        imagePart.setHeader(\"Content-ID\", \"&lt;qrImage&gt;\");\n        imagePart.setFileName(\"someFileName.png\");\n\n        multiPart.addBodyPart(imagePart);\n        multiPart.addBodyPart(textPart);\n        multiPart.addBodyPart(htmlPart);\n\n        message.setContent(multiPart);\n\n        mailSender.send(message);\n    } catch (MessagingException exception) {\n        //log error\n    }\n}\n</code></pre>\n\n<p>And in your html template you should have <code>&lt;img src=\"cid:qrImage\" alt=\"qr code\"&gt;</code></p>\n"},{"tags":[],"owner":{"account_id":27808247,"reputation":1,"user_id":21231137,"display_name":"Felipe Zucco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676605709,"creation_date":1676605709,"answer_id":75480094,"question_id":59562879,"body_markdown":"I ran into this situation some time ago and was able to handle it using an API that returns an image/png content type.\r\nTry this link https://goqr.me/api/, it will help you.\r\nExample:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;img src=&quot;https://api.qrserver.com/v1/create-qr-code/?size=150x150&amp;data=MYTEST&quot; width=&quot;150&quot; /&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nIf you need use sensitive data, you need to encrypt it.","title":"How to display QR code of a string in gmail","body":"<p>I ran into this situation some time ago and was able to handle it using an API that returns an image/png content type.\nTry this link <a href=\"https://goqr.me/api/\" rel=\"nofollow noreferrer\">https://goqr.me/api/</a>, it will help you.\nExample:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;img src=\"https://api.qrserver.com/v1/create-qr-code/?size=150x150&amp;data=MYTEST\" width=\"150\" /&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>If you need use sensitive data, you need to encrypt it.</p>\n"}],"owner":{"account_id":2296144,"reputation":739,"user_id":2017536,"accept_rate":62,"display_name":"Mumzee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3596,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":59734089,"answer_count":2,"score":1,"last_activity_date":1676605709,"creation_date":1577965767,"question_id":59562879,"body_markdown":"I have an HTML template with `&lt;img&gt;` tag to display a QR code representation of a user ID, for that I simply used DATA URL technique `src=&quot;data:image/png;base64, base64String` as suggested by **https://sendgrid.com/blog/embedding-images-emails-facts/** under the section **Inline Embedding (Base64 Encoding)**.\r\n\r\nThis is working in outlook, but there seems to be a problem for Gmail. What is the best way to display this QR code in email clients, especially in Gmail. Note that, I do not have an actual image file as the QR is generated from the user ID, at most I just have the byte array representing the QR image. \r\n\r\nI am using sendgrid to send the emails.","title":"How to display QR code of a string in gmail","body":"<p>I have an HTML template with <code>&lt;img&gt;</code> tag to display a QR code representation of a user ID, for that I simply used DATA URL technique <code>src=\"data:image/png;base64, base64String</code> as suggested by <strong><a href=\"https://sendgrid.com/blog/embedding-images-emails-facts/\" rel=\"nofollow noreferrer\">https://sendgrid.com/blog/embedding-images-emails-facts/</a></strong> under the section <strong>Inline Embedding (Base64 Encoding)</strong>.</p>\n\n<p>This is working in outlook, but there seems to be a problem for Gmail. What is the best way to display this QR code in email clients, especially in Gmail. Note that, I do not have an actual image file as the QR is generated from the user ID, at most I just have the byte array representing the QR image. </p>\n\n<p>I am using sendgrid to send the emails.</p>\n"},{"tags":["java","xml","opensaml"],"owner":{"account_id":7631210,"reputation":360,"user_id":7370915,"display_name":"erik p"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":314,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1676605000,"creation_date":1675861120,"question_id":75386160,"body_markdown":"I am looking at the OpenSAML SP SSO implementation over at https://github.com/rasmusson/OpenSAML-sample-code/tree/main/opensaml4-webprofile-demo.\r\n\r\nAs a part of this the author declares a parser pool method which is assigned to the XMLObjectProviderRegistry. However, I cannot seem to find any documentation on what is actually happening in the parserpool method. I was hoping for an explanation of each line to better understand why the BasicParserPool is set up the way that it is.\r\n\r\n1. What is a ParserPool in this context? \r\n2. What do the builders in a pool do? Is this for concurrency?\r\n3. What does it mean that the pool is coalescing?\r\n4. What does it mean that the pool &quot;expands entity references&quot;, what is an entity reference?\r\n5. What does it mean to be XincludeAware?\r\n6. What are the features being added?\r\n\r\nI was only able to find the following documentation, but it does not seem to address the above questions in a fulfilling manner: \r\n\r\nhttps://javadoc.io/static/org.opensaml/xmltooling/1.4.4/org/opensaml/xml/parse/BasicParserPool.html\r\n\r\n\r\n````\r\npublic void init(FilterConfig filterConfig) throws ServletException {\r\n\t\tJavaCryptoValidationInitializer javaCryptoValidationInitializer = new JavaCryptoValidationInitializer();\r\n\t\ttry {\r\n\t\t\tjavaCryptoValidationInitializer.init();\r\n\r\n\t\t\tfor (Provider jceProvider : Security.getProviders()) {\r\n\t\t\t\tlogger.info(jceProvider.getInfo());\r\n\t\t\t}\r\n\r\n\t\t\tXMLObjectProviderRegistry registry = new XMLObjectProviderRegistry();\r\n\t\t\tConfigurationService.register(XMLObjectProviderRegistry.class, registry);\r\n\r\n\t\t\tregistry.setParserPool(getParserPool());\r\n\r\n\t\t\tlogger.info(&quot;Initializing&quot;);\r\n\t\t\tInitializationService.initialize();\r\n\t\t} catch (InitializationException e) {\r\n\t\t\tthrow new RuntimeException(&quot;Initialization failed&quot;);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static ParserPool getParserPool() {\r\n\t\tBasicParserPool parserPool = new BasicParserPool();\r\n\t\tparserPool.setMaxPoolSize(100);\r\n\t\tparserPool.setCoalescing(true);\r\n\t\tparserPool.setIgnoreComments(true);\r\n\t\tparserPool.setIgnoreElementContentWhitespace(true);\r\n\t\tparserPool.setNamespaceAware(true);\r\n\t\tparserPool.setExpandEntityReferences(false);\r\n\t\tparserPool.setXincludeAware(false);\r\n\r\n\t\tfinal Map&lt;String, Boolean&gt; features = new HashMap&lt;String, Boolean&gt;();\r\n\t\tfeatures.put(&quot;http://xml.org/sax/features/external-general-entities&quot;, Boolean.FALSE);\r\n\t\tfeatures.put(&quot;http://xml.org/sax/features/external-parameter-entities&quot;, Boolean.FALSE);\r\n\t\tfeatures.put(&quot;http://apache.org/xml/features/disallow-doctype-decl&quot;, Boolean.TRUE);\r\n\t\tfeatures.put(&quot;http://apache.org/xml/features/validation/schema/normalized-value&quot;, Boolean.FALSE);\r\n\t\tfeatures.put(&quot;http://javax.xml.XMLConstants/feature/secure-processing&quot;, Boolean.TRUE);\r\n\r\n\t\tparserPool.setBuilderFeatures(features);\r\n\r\n\t\tparserPool.setBuilderAttributes(new HashMap&lt;String, Object&gt;());\r\n\r\n\t\ttry {\r\n\t\t\tparserPool.initialize();\r\n\t\t} catch (ComponentInitializationException e) {\r\n\t\t\tlogger.error(e.getMessage(), e);\r\n\t\t}\r\n\r\n\t\treturn parserPool;\r\n\t}\r\n````","title":"OpenSAML BasicParserPool","body":"<p>I am looking at the OpenSAML SP SSO implementation over at <a href=\"https://github.com/rasmusson/OpenSAML-sample-code/tree/main/opensaml4-webprofile-demo\" rel=\"nofollow noreferrer\">https://github.com/rasmusson/OpenSAML-sample-code/tree/main/opensaml4-webprofile-demo</a>.</p>\n<p>As a part of this the author declares a parser pool method which is assigned to the XMLObjectProviderRegistry. However, I cannot seem to find any documentation on what is actually happening in the parserpool method. I was hoping for an explanation of each line to better understand why the BasicParserPool is set up the way that it is.</p>\n<ol>\n<li>What is a ParserPool in this context?</li>\n<li>What do the builders in a pool do? Is this for concurrency?</li>\n<li>What does it mean that the pool is coalescing?</li>\n<li>What does it mean that the pool &quot;expands entity references&quot;, what is an entity reference?</li>\n<li>What does it mean to be XincludeAware?</li>\n<li>What are the features being added?</li>\n</ol>\n<p>I was only able to find the following documentation, but it does not seem to address the above questions in a fulfilling manner:</p>\n<p><a href=\"https://javadoc.io/static/org.opensaml/xmltooling/1.4.4/org/opensaml/xml/parse/BasicParserPool.html\" rel=\"nofollow noreferrer\">https://javadoc.io/static/org.opensaml/xmltooling/1.4.4/org/opensaml/xml/parse/BasicParserPool.html</a></p>\n<pre><code>public void init(FilterConfig filterConfig) throws ServletException {\n        JavaCryptoValidationInitializer javaCryptoValidationInitializer = new JavaCryptoValidationInitializer();\n        try {\n            javaCryptoValidationInitializer.init();\n\n            for (Provider jceProvider : Security.getProviders()) {\n                logger.info(jceProvider.getInfo());\n            }\n\n            XMLObjectProviderRegistry registry = new XMLObjectProviderRegistry();\n            ConfigurationService.register(XMLObjectProviderRegistry.class, registry);\n\n            registry.setParserPool(getParserPool());\n\n            logger.info(&quot;Initializing&quot;);\n            InitializationService.initialize();\n        } catch (InitializationException e) {\n            throw new RuntimeException(&quot;Initialization failed&quot;);\n        }\n    }\n\n    private static ParserPool getParserPool() {\n        BasicParserPool parserPool = new BasicParserPool();\n        parserPool.setMaxPoolSize(100);\n        parserPool.setCoalescing(true);\n        parserPool.setIgnoreComments(true);\n        parserPool.setIgnoreElementContentWhitespace(true);\n        parserPool.setNamespaceAware(true);\n        parserPool.setExpandEntityReferences(false);\n        parserPool.setXincludeAware(false);\n\n        final Map&lt;String, Boolean&gt; features = new HashMap&lt;String, Boolean&gt;();\n        features.put(&quot;http://xml.org/sax/features/external-general-entities&quot;, Boolean.FALSE);\n        features.put(&quot;http://xml.org/sax/features/external-parameter-entities&quot;, Boolean.FALSE);\n        features.put(&quot;http://apache.org/xml/features/disallow-doctype-decl&quot;, Boolean.TRUE);\n        features.put(&quot;http://apache.org/xml/features/validation/schema/normalized-value&quot;, Boolean.FALSE);\n        features.put(&quot;http://javax.xml.XMLConstants/feature/secure-processing&quot;, Boolean.TRUE);\n\n        parserPool.setBuilderFeatures(features);\n\n        parserPool.setBuilderAttributes(new HashMap&lt;String, Object&gt;());\n\n        try {\n            parserPool.initialize();\n        } catch (ComponentInitializationException e) {\n            logger.error(e.getMessage(), e);\n        }\n\n        return parserPool;\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","ssl","tomcat","https"],"answers":[{"tags":[],"owner":{"account_id":18346052,"reputation":11,"user_id":13361223,"display_name":"Tina"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676604883,"creation_date":1676604883,"answer_id":75480029,"question_id":75456950,"body_markdown":"I&#39;d already rule out the problem is not related to SpringBoot any version with the help of offical GitHub team of SpringBoot.\r\n\r\nI focus on the problem maybe is the PKCS12 type of keystore.p.12 file may cause the Tomcat thread failed problem (TIMEOUT) due to the Chrome or OS updates after 2023/01/01.\r\nSuddenly, I found a phase on https://whatsmychaincert.com/ mention about\r\n\r\n&gt; You do not need to include the root certificate in the certificate\r\n&gt; chain that you serve, since clients already have the root certificate\r\n&gt; in their trust stores. Including the root is inefficient since it\r\n&gt; increases the size of the SSL handshake.\r\n\r\nAfter the trial of remove root cert. during the generation of PKCS12 type of keystore.p12 file it works. The SpringBoot API do not have any timeout anymore.\r\n\r\nI guess there may have changes on Chrome or OS during the SSL handshake after 2023/01/01. If there have overhead during SSL handshake. The thread of Tomcat will dead after the first time successful API calls. Because we do not change SpringBoot version, Tomcat version and cert. before 2023/01/01. The only changes is Chrome or OS updates.\r\n\r\nThank you very much from offical GitHub team of SpringBoot help to let me clarify the problem where is and solved.","title":"Got http calls ERR_TIMED_OUT (TIMEOUT) on Spring Boot 2.4.x to 2.7.x when enable SSL (https)","body":"<p>I'd already rule out the problem is not related to SpringBoot any version with the help of offical GitHub team of SpringBoot.</p>\n<p>I focus on the problem maybe is the PKCS12 type of keystore.p.12 file may cause the Tomcat thread failed problem (TIMEOUT) due to the Chrome or OS updates after 2023/01/01.\nSuddenly, I found a phase on <a href=\"https://whatsmychaincert.com/\" rel=\"nofollow noreferrer\">https://whatsmychaincert.com/</a> mention about</p>\n<blockquote>\n<p>You do not need to include the root certificate in the certificate\nchain that you serve, since clients already have the root certificate\nin their trust stores. Including the root is inefficient since it\nincreases the size of the SSL handshake.</p>\n</blockquote>\n<p>After the trial of remove root cert. during the generation of PKCS12 type of keystore.p12 file it works. The SpringBoot API do not have any timeout anymore.</p>\n<p>I guess there may have changes on Chrome or OS during the SSL handshake after 2023/01/01. If there have overhead during SSL handshake. The thread of Tomcat will dead after the first time successful API calls. Because we do not change SpringBoot version, Tomcat version and cert. before 2023/01/01. The only changes is Chrome or OS updates.</p>\n<p>Thank you very much from offical GitHub team of SpringBoot help to let me clarify the problem where is and solved.</p>\n"}],"owner":{"account_id":18346052,"reputation":11,"user_id":13361223,"display_name":"Tina"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":335,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676604883,"creation_date":1676448256,"question_id":75456950,"body_markdown":"I have an API server which built with Spring Boot 2.4.x on public domain and public IP which serve APIs running several years normal.\r\n\r\nAfter 2023-01-01, user reports front-end web fails to call API after 30 seconds of the first API calls. (The first API call is successfully)\r\n\r\nWe tried use other RESTful client software to call API and get same result. It&#39;s not the front-end web problem.\r\n\r\nWe trace the error with Chrome developer mode (DevTools) - Network tab, get (failed) net::ERR_TIMED_OUT in status field.\r\n\r\nWe do not change any our code, any SpringBoot version and settings or OS updates in server side in two months before 2023-01-01.\r\n\r\nWe guess it may cause by browser or OS updates of client side. But it cannot solve by retaining the old version of browser or OS.\r\n\r\nWe guess it may Tomcat version or SpringBoot version is not compatible with current browser or OS.\r\n\r\n※ no proxy server between client and server\r\n\r\nIt&#39;s a huge modification difference when upgrading to Tomcat 10 and/or SpringBoot 3.x above.\r\n\r\nSo we try to upgrade to the SpringBoot 2.7.x but it remains occurs when enable SSL (https).\r\n\r\nWe tried the status is stable http calls without ERR_TIMED_OUT when SSL (https) is not set in any version of SpringBoot/Tomcat.\r\n\r\nDid anyone face the same problem?\r\n\r\nEnvironment: Spring Boot 2.4.2 (Tomcat 9.0.43) and 2.7.8 (Tomcat 9.0.71) which is the latest version of Spring Boot 2.7.x) have same problem\r\n\r\nSettings in properties file: (SSL setup section in properties file, and the SSL (https) is successfully on)\r\n[It&#39;s also the only difference between stable status and ERR_TIMED_OUT status]\r\n```\r\nserver.port=8081\r\nserver.ssl.enabled=true\r\nserver.ssl.key-store=classpath:keystore.p12\r\nserver.ssl.key-store-password={my_key_store_password}\r\nserver.ssl.key-store-type=PKCS12\r\nserver.ssl.key-alias={my_alias}\r\n```\r\n\r\nBefore the logging DEBUG mode enabled, the SpringBoot console or log file do not have any log when ERR_TIMED_OUT occurs.\r\nIt means that the http call connection do not send to SpringBoot API service, the connection eaten by Tomcat.\r\n\r\nAfter we setup the logging DEBUG mode enabled, we got the log when ERR_TIMED_OUT occurs as below:\r\n```\r\n2023-02-15 05:41:53,658 DEBUG [https-jsse-nio-8081-exec-2] Http11Processor : Socket: [org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper@523bac8a:org.apache.tomcat.util.net.SecureNioChannel@3326d48e:java.nio.channels.SocketChannel[connected local=/{my_server_ip}::8081 remote=/{my_client_ip}:55823]], Status in: [CONNECT_FAIL], State out: [CLOSED]\r\n2023-02-15 05:41:53,658 DEBUG [https-jsse-nio-8081-exec-2] LimitLatch : Counting down[https-jsse-nio-8081-exec-2] latch=1\r\n2023-02-15 05:41:53,658 DEBUG [https-jsse-nio-8081-exec-2] NioEndpoint : Calling [org.apache.tomcat.util.net.NioEndpoint@3e576e09].closeSocket([org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper@523bac8a:org.apache.tomcat.util.net.SecureNioChannel@3326d48e:java.nio.channels.SocketChannel[connected local=/{my_server_ip}:8081 remote=/{my_client_ip}:55823]])\r\n```\r\n\r\nThe weird part is this error situation is only happen when we add the ssl settings as I described above.\r\n\r\n**UPDATES:**\r\nI prepare a test-apis project to demo this problem, it only use the sample code from [spring.io] https://spring.io/guides/gs/rest-service/ without any other settings or dependencies to re-produce this problem.\r\nAll you need to do is generate a PKCS12 type of keystore.p12 file of some domain name put at /test-apis/src/main/resources folder to test it\r\nThe sample code is put on GitHub  https://github.com/tinalin314159/test-apis\r\nI think this is not simply the Tomcat problem and I cannot re-produce it without SpringBoot package with just only Tomcat.\r\n\r\nThe way I generate the PKCS12 type of keystore.p12 :\r\nopenssl pkcs12 -export -in fullchain.pem -inkey privatekey.pem -out keystore.p12 -name tomcat -CAfile chain.pem -caname root","title":"Got http calls ERR_TIMED_OUT (TIMEOUT) on Spring Boot 2.4.x to 2.7.x when enable SSL (https)","body":"<p>I have an API server which built with Spring Boot 2.4.x on public domain and public IP which serve APIs running several years normal.</p>\n<p>After 2023-01-01, user reports front-end web fails to call API after 30 seconds of the first API calls. (The first API call is successfully)</p>\n<p>We tried use other RESTful client software to call API and get same result. It's not the front-end web problem.</p>\n<p>We trace the error with Chrome developer mode (DevTools) - Network tab, get (failed) net::ERR_TIMED_OUT in status field.</p>\n<p>We do not change any our code, any SpringBoot version and settings or OS updates in server side in two months before 2023-01-01.</p>\n<p>We guess it may cause by browser or OS updates of client side. But it cannot solve by retaining the old version of browser or OS.</p>\n<p>We guess it may Tomcat version or SpringBoot version is not compatible with current browser or OS.</p>\n<p>※ no proxy server between client and server</p>\n<p>It's a huge modification difference when upgrading to Tomcat 10 and/or SpringBoot 3.x above.</p>\n<p>So we try to upgrade to the SpringBoot 2.7.x but it remains occurs when enable SSL (https).</p>\n<p>We tried the status is stable http calls without ERR_TIMED_OUT when SSL (https) is not set in any version of SpringBoot/Tomcat.</p>\n<p>Did anyone face the same problem?</p>\n<p>Environment: Spring Boot 2.4.2 (Tomcat 9.0.43) and 2.7.8 (Tomcat 9.0.71) which is the latest version of Spring Boot 2.7.x) have same problem</p>\n<p>Settings in properties file: (SSL setup section in properties file, and the SSL (https) is successfully on)\n[It's also the only difference between stable status and ERR_TIMED_OUT status]</p>\n<pre><code>server.port=8081\nserver.ssl.enabled=true\nserver.ssl.key-store=classpath:keystore.p12\nserver.ssl.key-store-password={my_key_store_password}\nserver.ssl.key-store-type=PKCS12\nserver.ssl.key-alias={my_alias}\n</code></pre>\n<p>Before the logging DEBUG mode enabled, the SpringBoot console or log file do not have any log when ERR_TIMED_OUT occurs.\nIt means that the http call connection do not send to SpringBoot API service, the connection eaten by Tomcat.</p>\n<p>After we setup the logging DEBUG mode enabled, we got the log when ERR_TIMED_OUT occurs as below:</p>\n<pre><code>2023-02-15 05:41:53,658 DEBUG [https-jsse-nio-8081-exec-2] Http11Processor : Socket: [org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper@523bac8a:org.apache.tomcat.util.net.SecureNioChannel@3326d48e:java.nio.channels.SocketChannel[connected local=/{my_server_ip}::8081 remote=/{my_client_ip}:55823]], Status in: [CONNECT_FAIL], State out: [CLOSED]\n2023-02-15 05:41:53,658 DEBUG [https-jsse-nio-8081-exec-2] LimitLatch : Counting down[https-jsse-nio-8081-exec-2] latch=1\n2023-02-15 05:41:53,658 DEBUG [https-jsse-nio-8081-exec-2] NioEndpoint : Calling [org.apache.tomcat.util.net.NioEndpoint@3e576e09].closeSocket([org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper@523bac8a:org.apache.tomcat.util.net.SecureNioChannel@3326d48e:java.nio.channels.SocketChannel[connected local=/{my_server_ip}:8081 remote=/{my_client_ip}:55823]])\n</code></pre>\n<p>The weird part is this error situation is only happen when we add the ssl settings as I described above.</p>\n<p><strong>UPDATES:</strong>\nI prepare a test-apis project to demo this problem, it only use the sample code from [spring.io] <a href=\"https://spring.io/guides/gs/rest-service/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/rest-service/</a> without any other settings or dependencies to re-produce this problem.\nAll you need to do is generate a PKCS12 type of keystore.p12 file of some domain name put at /test-apis/src/main/resources folder to test it\nThe sample code is put on GitHub  <a href=\"https://github.com/tinalin314159/test-apis\" rel=\"nofollow noreferrer\">https://github.com/tinalin314159/test-apis</a>\nI think this is not simply the Tomcat problem and I cannot re-produce it without SpringBoot package with just only Tomcat.</p>\n<p>The way I generate the PKCS12 type of keystore.p12 :\nopenssl pkcs12 -export -in fullchain.pem -inkey privatekey.pem -out keystore.p12 -name tomcat -CAfile chain.pem -caname root</p>\n"},{"tags":["java","rest","csv","get","jersey"],"comments":[{"owner":{"account_id":14429279,"reputation":130,"user_id":10423076,"display_name":"Govil Kumar"},"score":0,"creation_date":1676605671,"post_id":75479329,"comment_id":133175234,"body_markdown":"https://stackoverflow.com/questions/52118550/generate-a-csv-file-using-jersey-restful-webservice - check this answer","body":"<a href=\"https://stackoverflow.com/questions/52118550/generate-a-csv-file-using-jersey-restful-webservice\" title=\"generate a csv file using jersey restful webservice\">stackoverflow.com/questions/52118550/&hellip;</a> - check this answer"}],"owner":{"account_id":1614036,"reputation":113,"user_id":21223808,"display_name":"ivan_drago"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676604594,"creation_date":1676595418,"question_id":75479329,"body_markdown":"I have Jersey endpoint that is attempting to create a CSV file and return it via GET; however, all these attempts end up with the same result - the ok status (200) is returned but no file.\r\n\r\n```\r\n    @GET\r\n    @Path(&quot;/research&quot;)\r\n    @Produces(MediaType.TEXT_PLAIN)\r\n    public Response dumpAllResearchAndSupportData() {\r\n        QuickDumpBuilderService dumpBuilderService = getQuickDumpService();\r\n\r\n        List&lt;DevelopmentProposal&gt; researchOtherProposals = dumpBuilderService.getAllResearchRecords();\r\n\r\n        String csvLocation = dumpBuilderService.buildCSV(researchOtherProposals);\r\n\r\n        File file = new File(csvLocation);\r\n        String filename = &quot;reserach_&quot; + UUID.randomUUID().toString() + &quot;.csv&quot;;\r\n        return Response.ok(file, MediaType.TEXT_PLAIN).header(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + filename).build();\r\n    }\r\n```\r\nMy CSV file is properly created, but it fails to be returned along with the response.\r\nNotice above, I&#39;m writing the CSV to a temporary location in my tomcat folder and then passing the path to that file back and then attempting to read that from the location here.  \r\n\r\n\r\n\r\nAnother attempt with the same result where instead of writing the CSV to temp location, I&#39;m just trying to write the `ByteArrayOutputStream` to the response object.\r\n\r\n```\r\n    @GET\r\n    @Path(&quot;/research&quot;)\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    public Response dumpAllResearchAndSupportData() {\r\n        QuickDumpBuilderService dumpBuilderService = getQuickDumpService();\r\n        // Step 1.  Retrieve all research and other proposals\r\n        List&lt;DevelopmentProposal&gt; researchOtherProposals = dumpBuilderService.getAllResearchRecords();\r\n        // Step 2.  Create CSV File\r\n        ByteArrayOutputStream csvBaos = dumpBuilderService.buildCSV(researchOtherProposals);\r\n        // Step 3.  Create spreadsheet\r\n        ByteArrayOutputStream excelBaos = dumpBuilderService.createExcelSpreadsheet(csvBaos, servlet);\r\n        // Step 4.  Return spreadsheet\r\n        Response.ResponseBuilder response = Response.ok(excelBaos);\r\n        return response.build();\r\n```\r\nAnother attempt where I added this &quot;writer&quot; into the response.  This attempt generated an error that a &quot;MessageBodyWriter for the ByteArrayStream was not found.&quot;  That prompted the attempt below.\r\n```\r\n    @GET\r\n    @Path(&quot;/research&quot;)\r\n    @Produces(MediaType.TEXT_PLAIN)\r\n    public Response dumpAllResearchAndSupportData() {\r\n        ....\r\n        // Step 4.  Return spreadsheet\r\n        return Response.ok(getOut(csvBaos.toByteArray())).build();\r\n    }\r\n\r\n    private StreamingOutput getOut(final byte[] csvBytes) {\r\n        return new StreamingOutput() {\r\n            @Override\r\n            public void write(OutputStream out) throws IOException, WebApplicationException {\r\n                out.write(csvBytes);\r\n                out.flush();\r\n            }\r\n        };\r\n    }\r\n```\r\n\r\nI&#39;ve looked at the following similar answers, and I&#39;ve attempted all of them with no success.\r\nNot sure what I&#39;m doing wrong - I suspect that it&#39;s something to do with how I setup my endpoint and defer to the Java REST API experts here. \r\n\r\nhttps://stackoverflow.com/questions/33244766/file-download-save-from-a-jersey-rest-api-call-using-angularjs-file-is-attache\r\n\r\nhttps://stackoverflow.com/questions/21876286/download-csv-file-via-rest\r\n\r\nhttps://stackoverflow.com/questions/29637151/jersey-streamingoutput-as-response-entity\r\n\r\nThanks for your help.","title":"Response returning status but not data","body":"<p>I have Jersey endpoint that is attempting to create a CSV file and return it via GET; however, all these attempts end up with the same result - the ok status (200) is returned but no file.</p>\n<pre><code>    @GET\n    @Path(&quot;/research&quot;)\n    @Produces(MediaType.TEXT_PLAIN)\n    public Response dumpAllResearchAndSupportData() {\n        QuickDumpBuilderService dumpBuilderService = getQuickDumpService();\n\n        List&lt;DevelopmentProposal&gt; researchOtherProposals = dumpBuilderService.getAllResearchRecords();\n\n        String csvLocation = dumpBuilderService.buildCSV(researchOtherProposals);\n\n        File file = new File(csvLocation);\n        String filename = &quot;reserach_&quot; + UUID.randomUUID().toString() + &quot;.csv&quot;;\n        return Response.ok(file, MediaType.TEXT_PLAIN).header(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + filename).build();\n    }\n</code></pre>\n<p>My CSV file is properly created, but it fails to be returned along with the response.\nNotice above, I'm writing the CSV to a temporary location in my tomcat folder and then passing the path to that file back and then attempting to read that from the location here.</p>\n<p>Another attempt with the same result where instead of writing the CSV to temp location, I'm just trying to write the <code>ByteArrayOutputStream</code> to the response object.</p>\n<pre><code>    @GET\n    @Path(&quot;/research&quot;)\n    @Produces(MediaType.APPLICATION_JSON)\n    public Response dumpAllResearchAndSupportData() {\n        QuickDumpBuilderService dumpBuilderService = getQuickDumpService();\n        // Step 1.  Retrieve all research and other proposals\n        List&lt;DevelopmentProposal&gt; researchOtherProposals = dumpBuilderService.getAllResearchRecords();\n        // Step 2.  Create CSV File\n        ByteArrayOutputStream csvBaos = dumpBuilderService.buildCSV(researchOtherProposals);\n        // Step 3.  Create spreadsheet\n        ByteArrayOutputStream excelBaos = dumpBuilderService.createExcelSpreadsheet(csvBaos, servlet);\n        // Step 4.  Return spreadsheet\n        Response.ResponseBuilder response = Response.ok(excelBaos);\n        return response.build();\n</code></pre>\n<p>Another attempt where I added this &quot;writer&quot; into the response.  This attempt generated an error that a &quot;MessageBodyWriter for the ByteArrayStream was not found.&quot;  That prompted the attempt below.</p>\n<pre><code>    @GET\n    @Path(&quot;/research&quot;)\n    @Produces(MediaType.TEXT_PLAIN)\n    public Response dumpAllResearchAndSupportData() {\n        ....\n        // Step 4.  Return spreadsheet\n        return Response.ok(getOut(csvBaos.toByteArray())).build();\n    }\n\n    private StreamingOutput getOut(final byte[] csvBytes) {\n        return new StreamingOutput() {\n            @Override\n            public void write(OutputStream out) throws IOException, WebApplicationException {\n                out.write(csvBytes);\n                out.flush();\n            }\n        };\n    }\n</code></pre>\n<p>I've looked at the following similar answers, and I've attempted all of them with no success.\nNot sure what I'm doing wrong - I suspect that it's something to do with how I setup my endpoint and defer to the Java REST API experts here.</p>\n<p><a href=\"https://stackoverflow.com/questions/33244766/file-download-save-from-a-jersey-rest-api-call-using-angularjs-file-is-attache\">File download/save from a Jersey rest api call using ANGULARJS . file is attached with response as &quot;Content-Disposition&quot;</a></p>\n<p><a href=\"https://stackoverflow.com/questions/21876286/download-csv-file-via-rest\">Download CSV file via Rest</a></p>\n<p><a href=\"https://stackoverflow.com/questions/29637151/jersey-streamingoutput-as-response-entity\">jersey - StreamingOutput as Response entity</a></p>\n<p>Thanks for your help.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9352,"page":640,"page_size":100}
