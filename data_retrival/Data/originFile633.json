{"items":[{"tags":["java","spring-boot","maven","jacoco","jacoco-maven-plugin"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1676908616,"post_id":75511279,"comment_id":133227399,"body_markdown":"Thanks for the edit. That plugin invocation is only doing the report. How are you doing instrumentation? Via java agent at runtime? Are you sure you&#39;re actually collecting coverage in those 3rd party packages?","body":"Thanks for the edit. That plugin invocation is only doing the report. How are you doing instrumentation? Via java agent at runtime? Are you sure you&#39;re actually collecting coverage in those 3rd party packages?"}],"owner":{"account_id":14652260,"reputation":137,"user_id":11233282,"display_name":"ArthurS"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676907914,"creation_date":1676907375,"question_id":75511279,"body_markdown":"I have two different spring boot microfrontends, I am running Jacoco Maven Plugin in both projects, it generates one &quot;jacoco-ut&quot; folder with the report in both projects. Is there any way to generate just one covering both projects? I tried to use the &quot;include&quot; tag on pom.xml pointing to the other microfrontend, which is a dependency but it did not work: \r\n\r\n    &lt;plugin&gt;\r\n       &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n       &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n         &lt;executions&gt;\r\n            &lt;execution&gt;\r\n              &lt;id&gt;jacoco-report-aggregate&lt;/id&gt;\r\n              &lt;phase&gt;test&lt;/phase&gt;\r\n              &lt;goals&gt;\r\n                 &lt;goal&gt;report-aggregate&lt;/goal&gt;\r\n              &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n         &lt;/executions&gt;\r\n        &lt;configuration&gt;\r\n           &lt;includes&gt;  \r\n          &lt;include&gt;com/company/packgePath/package/**/*.class&lt;/include&gt;     \r\n           &lt;/includes&gt;\r\n        &lt;/configuration&gt;\r\n\r\n","title":"How to include a external package to Jacoco Maven Plugin report","body":"<p>I have two different spring boot microfrontends, I am running Jacoco Maven Plugin in both projects, it generates one &quot;jacoco-ut&quot; folder with the report in both projects. Is there any way to generate just one covering both projects? I tried to use the &quot;include&quot; tag on pom.xml pointing to the other microfrontend, which is a dependency but it did not work:</p>\n<pre><code>&lt;plugin&gt;\n   &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n   &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n     &lt;executions&gt;\n        &lt;execution&gt;\n          &lt;id&gt;jacoco-report-aggregate&lt;/id&gt;\n          &lt;phase&gt;test&lt;/phase&gt;\n          &lt;goals&gt;\n             &lt;goal&gt;report-aggregate&lt;/goal&gt;\n          &lt;/goals&gt;\n        &lt;/execution&gt;\n     &lt;/executions&gt;\n    &lt;configuration&gt;\n       &lt;includes&gt;  \n      &lt;include&gt;com/company/packgePath/package/**/*.class&lt;/include&gt;     \n       &lt;/includes&gt;\n    &lt;/configuration&gt;\n</code></pre>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":3352721,"reputation":1057,"user_id":2816429,"display_name":"HariHaravelan"},"score":0,"creation_date":1676906065,"post_id":75510738,"comment_id":133226616,"body_markdown":"How do you want your `optionList` to be?","body":"How do you want your <code>optionList</code> to be?"}],"answers":[{"tags":[],"owner":{"account_id":1595031,"reputation":1442,"user_id":1477418,"display_name":"Islam Elbanna"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676905013,"creation_date":1676905013,"answer_id":75510846,"question_id":75510738,"body_markdown":"There is no `.stream()` over Array, you need to use `Arrays.stream`\r\n\r\n```java\r\nDemoResponse[] response = (BaseClient.getResponse().as(DemoResponse[].class));\r\nList&lt;String&gt; optionlList  =\r\n            Arrays.stream(response).map(res -&gt; res.option.toString()).collect(Collectors.toList());\r\n\r\n```","title":"Is there a way to filter an array and collect multiple JSON nodes into a Java list?","body":"<p>There is no <code>.stream()</code> over Array, you need to use <code>Arrays.stream</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>DemoResponse[] response = (BaseClient.getResponse().as(DemoResponse[].class));\nList&lt;String&gt; optionlList  =\n            Arrays.stream(response).map(res -&gt; res.option.toString()).collect(Collectors.toList());\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3352721,"reputation":1057,"user_id":2816429,"display_name":"HariHaravelan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676906263,"creation_date":1676906263,"answer_id":75511061,"question_id":75510738,"body_markdown":"You can do like below, stream through the `response` array and `flatMap` the option and collect to a single list   \r\n  \r\n\r\n            DemoResponse[] response = (BaseClient.getResponse().as(DemoResponse[].class));\r\n    \r\n            List&lt;String&gt; optionList = Arrays.stream(response)\r\n                    .flatMap(demoResponse -&gt; demoResponse.getOption().stream())\r\n                    .map(Object::toString)\r\n                    .collect(Collectors.toList());\r\n\r\n\r\nYour `optionList` would be \r\n\r\n    [MAJOR, {name=testOne, id=1111, demolId=demoid-1}, {name=testTwo, id=2222, demoId=demoid-3}, {name=testThree, id=3333, demolId=demo-2}, {name=sampleA, id=4444}, {name=runA, id=eaf7d6a5-2038-45a0-9f06-6410694e5354, demoId=demolid-1}, york, tampa]\r\n\r\n","title":"Is there a way to filter an array and collect multiple JSON nodes into a Java list?","body":"<p>You can do like below, stream through the <code>response</code> array and <code>flatMap</code> the option and collect to a single list</p>\n<pre><code>        DemoResponse[] response = (BaseClient.getResponse().as(DemoResponse[].class));\n\n        List&lt;String&gt; optionList = Arrays.stream(response)\n                .flatMap(demoResponse -&gt; demoResponse.getOption().stream())\n                .map(Object::toString)\n                .collect(Collectors.toList());\n</code></pre>\n<p>Your <code>optionList</code> would be</p>\n<pre><code>[MAJOR, {name=testOne, id=1111, demolId=demoid-1}, {name=testTwo, id=2222, demoId=demoid-3}, {name=testThree, id=3333, demolId=demo-2}, {name=sampleA, id=4444}, {name=runA, id=eaf7d6a5-2038-45a0-9f06-6410694e5354, demoId=demolid-1}, york, tampa]\n</code></pre>\n"}],"owner":{"account_id":25318030,"reputation":25,"user_id":19139804,"display_name":"matt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75510846,"answer_count":2,"score":0,"last_activity_date":1676907353,"creation_date":1676904399,"question_id":75510738,"body_markdown":"I have this JSON API response list:\r\n\r\n    [\r\n        {\r\n            &quot;id&quot;: &quot;demoType&quot;,\r\n            &quot;label&quot;: &quot;Demo Type&quot;,\r\n            &quot;option&quot;: [\r\n                &quot;MAJOR&quot;\r\n            ]\r\n        },\r\n        {\r\n            &quot;id&quot;: &quot;test&quot;,\r\n            &quot;label&quot;: &quot;test&quot;,\r\n            &quot;option&quot;: [\r\n                {\r\n                    &quot;name&quot;: &quot;testOne&quot;,\r\n                    &quot;id&quot;: &quot;1111&quot;,\r\n                    &quot;demolId&quot;: &quot;demoid-1&quot;\r\n                },\r\n                {\r\n                    &quot;name&quot;: &quot;testTwo&quot;,\r\n                    &quot;id&quot;: &quot;2222&quot;,\r\n                    &quot;demoId&quot;: &quot;demoid-3&quot;\r\n                },\r\n                {\r\n                    &quot;name&quot;: &quot;testThree&quot;,\r\n                    &quot;id&quot;: &quot;3333&quot;,\r\n                    &quot;demolId&quot;: &quot;demo-2&quot;\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            &quot;id&quot;: &quot;sampleType&quot;,\r\n            &quot;label&quot;: &quot;sample&quot;,\r\n            &quot;option&quot;: [\r\n                {\r\n                    &quot;name&quot;: &quot;sampleA&quot;,\r\n                    &quot;id&quot;: &quot;4444&quot;\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            &quot;id&quot;: &quot;runType&quot;,\r\n            &quot;label&quot;: &quot;run one&quot;,\r\n            &quot;option&quot;: [\r\n                {\r\n                    &quot;name&quot;: &quot;runA&quot;,\r\n                    &quot;id&quot;: &quot;eaf7d6a5-2038-45a0-9f06-6410694e5354&quot;,\r\n                    &quot;demoId&quot;: &quot;demolid-1&quot;\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            &quot;id&quot;: &quot;city&quot;,\r\n            &quot;label&quot;: &quot;City&quot;,\r\n            &quot;option&quot;: [\r\n                &quot;york&quot;,\r\n                &quot;tampa&quot;\r\n            ]\r\n        }\r\n\r\n]\r\n\r\nI have a corresponding responseDTO:\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class DemoResponse {\r\n      public String id;\r\n      public String label;\r\n      public ArrayList&lt;Object&gt; option;\r\n    }\r\n\r\nThe API response has got a property called `option`, which appears multiple times in a nested list. What I want to achieve is to collect the values of all the options properties to a list.\r\n\r\nI tried like this:\r\n\r\n    DemoResponse[] response = (BaseClient.getResponse().as(DemoResponse[].class));\r\n    List&lt;String&gt; optionlList  =\r\n                response.stream().map(newList -&gt; newdList.toString()).collect(Collectors.toList());\r\n    \r\n`stream` could not be compiled. I am convinced that what I am doing is obviously wrong, but I am not sure how to achieve what I want which is to get all the values of the option fields in the API response and collect them into a list.","title":"Is there a way to filter an array and collect multiple JSON nodes into a Java list?","body":"<p>I have this JSON API response list:</p>\n<pre><code>[\n    {\n        &quot;id&quot;: &quot;demoType&quot;,\n        &quot;label&quot;: &quot;Demo Type&quot;,\n        &quot;option&quot;: [\n            &quot;MAJOR&quot;\n        ]\n    },\n    {\n        &quot;id&quot;: &quot;test&quot;,\n        &quot;label&quot;: &quot;test&quot;,\n        &quot;option&quot;: [\n            {\n                &quot;name&quot;: &quot;testOne&quot;,\n                &quot;id&quot;: &quot;1111&quot;,\n                &quot;demolId&quot;: &quot;demoid-1&quot;\n            },\n            {\n                &quot;name&quot;: &quot;testTwo&quot;,\n                &quot;id&quot;: &quot;2222&quot;,\n                &quot;demoId&quot;: &quot;demoid-3&quot;\n            },\n            {\n                &quot;name&quot;: &quot;testThree&quot;,\n                &quot;id&quot;: &quot;3333&quot;,\n                &quot;demolId&quot;: &quot;demo-2&quot;\n            }\n        ]\n    },\n    {\n        &quot;id&quot;: &quot;sampleType&quot;,\n        &quot;label&quot;: &quot;sample&quot;,\n        &quot;option&quot;: [\n            {\n                &quot;name&quot;: &quot;sampleA&quot;,\n                &quot;id&quot;: &quot;4444&quot;\n            }\n        ]\n    },\n    {\n        &quot;id&quot;: &quot;runType&quot;,\n        &quot;label&quot;: &quot;run one&quot;,\n        &quot;option&quot;: [\n            {\n                &quot;name&quot;: &quot;runA&quot;,\n                &quot;id&quot;: &quot;eaf7d6a5-2038-45a0-9f06-6410694e5354&quot;,\n                &quot;demoId&quot;: &quot;demolid-1&quot;\n            }\n        ]\n    },\n    {\n        &quot;id&quot;: &quot;city&quot;,\n        &quot;label&quot;: &quot;City&quot;,\n        &quot;option&quot;: [\n            &quot;york&quot;,\n            &quot;tampa&quot;\n        ]\n    }\n</code></pre>\n<p>]</p>\n<p>I have a corresponding responseDTO:</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class DemoResponse {\n  public String id;\n  public String label;\n  public ArrayList&lt;Object&gt; option;\n}\n</code></pre>\n<p>The API response has got a property called <code>option</code>, which appears multiple times in a nested list. What I want to achieve is to collect the values of all the options properties to a list.</p>\n<p>I tried like this:</p>\n<pre><code>DemoResponse[] response = (BaseClient.getResponse().as(DemoResponse[].class));\nList&lt;String&gt; optionlList  =\n            response.stream().map(newList -&gt; newdList.toString()).collect(Collectors.toList());\n</code></pre>\n<p><code>stream</code> could not be compiled. I am convinced that what I am doing is obviously wrong, but I am not sure how to achieve what I want which is to get all the values of the option fields in the API response and collect them into a list.</p>\n"},{"tags":["java","spring","junit","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676907352,"creation_date":1676907352,"answer_id":75511275,"question_id":75479309,"body_markdown":"When you do not specify a paging query provider, the builder will try to determine a suitable one from the meta-data of your data source. Since you are using a mocked database, you need to mock the call to `getConnection()`.  Otherwise, you have to use a stub database for tests (like an embedded H2 or HSQL).\r\n\r\nIf you know what datasource you will be using, the best way is to specify its paging query provider implementation in your builder. Here is an example if you use H2:\r\n\r\n```\r\n@Configuration\r\npublic class RelatorioReader {\r\n\r\n    @Bean(&quot;relatorioreader&quot;)\r\n    @StepScope\r\n    public ItemReader&lt;Relatorio&gt; relatorioItemReader(\r\n        @Qualifier(&quot;dataSource&quot;) DataSource dataSource,\r\n        @Value(&quot;#{jobParameters[dateParam]}&quot;) String dateParam) {\r\n\r\n        return new JdbcPagingItemReaderBuilder&lt;Relatorio&gt;()\r\n                    .name(&quot;relatorioDiario&quot;)\r\n                    .dataSource(dataSource)\r\n                    .selectClause(&quot;SELET * &quot;)\r\n                    .fromClause(&quot;FROM myTable &quot;)\r\n                    .whereClause(&quot; WHERE date = :dateParam&quot;)\r\n                    .parameterValues(Collections.singletonMap(&quot;dateParam&quot;, dateParam))\r\n                    .sortKeys(Collections.singletonMap(&quot;ID&quot;, Order.ASCENDING))\r\n                    .rowMapper(new RelatorioMapper())\r\n                    .queryProvider(new H2PagingQueryProvider())\r\n                    .build();\r\n    }\r\n}\r\n```","title":"How to test JdbcPagingItemReaderBuilder with Junit","body":"<p>When you do not specify a paging query provider, the builder will try to determine a suitable one from the meta-data of your data source. Since you are using a mocked database, you need to mock the call to <code>getConnection()</code>.  Otherwise, you have to use a stub database for tests (like an embedded H2 or HSQL).</p>\n<p>If you know what datasource you will be using, the best way is to specify its paging query provider implementation in your builder. Here is an example if you use H2:</p>\n<pre><code>@Configuration\npublic class RelatorioReader {\n\n    @Bean(&quot;relatorioreader&quot;)\n    @StepScope\n    public ItemReader&lt;Relatorio&gt; relatorioItemReader(\n        @Qualifier(&quot;dataSource&quot;) DataSource dataSource,\n        @Value(&quot;#{jobParameters[dateParam]}&quot;) String dateParam) {\n\n        return new JdbcPagingItemReaderBuilder&lt;Relatorio&gt;()\n                    .name(&quot;relatorioDiario&quot;)\n                    .dataSource(dataSource)\n                    .selectClause(&quot;SELET * &quot;)\n                    .fromClause(&quot;FROM myTable &quot;)\n                    .whereClause(&quot; WHERE date = :dateParam&quot;)\n                    .parameterValues(Collections.singletonMap(&quot;dateParam&quot;, dateParam))\n                    .sortKeys(Collections.singletonMap(&quot;ID&quot;, Order.ASCENDING))\n                    .rowMapper(new RelatorioMapper())\n                    .queryProvider(new H2PagingQueryProvider())\n                    .build();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4661584,"reputation":276,"user_id":3884452,"accept_rate":80,"display_name":"Erico Souza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":250,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676907352,"creation_date":1676595006,"question_id":75479309,"body_markdown":"I&#39;m creating a spring-batch application, and I&#39;m having trouble creating a unit test class with junit that tests my reader that uses **JdbcPaginItemReaderBuilder**.\r\n\r\nReader Code:\r\n\r\n```\r\n@Configuration\r\npublic class RelatorioReader {\r\n\r\n    @Bean(&quot;relatorioreader&quot;)\r\n    @StepScope\r\n    public ItemReader&lt;Relatorio&gt; relatorioItemReader(\r\n        @Qualifier(&quot;dataSource&quot;) DataSource dataSource,\r\n        @Value(&quot;#{jobParameters[dateParam]}&quot;) String dateParam) {\r\n\r\n        return new JdbcPagingItemReaderBuilder&lt;Relatorio&gt;()\r\n                    .name(&quot;relatorioDiario&quot;)\r\n                    .dataSource(dataSource)\r\n                    .selectClause(&quot;SELET * &quot;)\r\n                    .fromClause(&quot;FROM myTable &quot;)\r\n                    .whereClause(&quot; WHERE date = :dateParam&quot;)\r\n                    .parameterValues(Collections.singletonMap(&quot;dateParam&quot;, dateParam))\r\n                    .sortKeys(Collections.singletonMap(&quot;ID&quot;, Order.ASCENDING))\r\n                    .rowMapper(new RelatorioMapper())\r\n                    .build();\r\n    }\r\n}\r\n```\r\n\r\nJunit Code\r\n\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\npublic class RelatorioReaderTest {\r\n\r\n    @InjectMocks\r\n    RelatorioReader reader;\r\n\r\n    @Mock\r\n    DataSource dataSource;\r\n\r\n    @Test\r\n    public void test_itemReader() {\r\n        ItemReader&lt;Relatorio&gt; itemReader = reader.relatorioItemReader(dataSource, &quot;2023-02-16&quot;);\r\n\r\n        assertNotNull(itemReader);\r\n    }\r\n}\r\n```\r\n\r\nException when running Junit:\r\n\r\n```\r\njava.lang.IllegalArgumentException: Unable to determine PagingQueryProvider type\r\n    at org.springframework.batch.item.database.builder.JdbcPagingItemReaderBuilder.determineQueryProvider(JdbcPagingItemReaderBuilder.java:383)\r\n    at org.springframework.batch.item.database.builder.JdbcPagingItemReaderBuilder.build(JdbcPagingItemReaderBuilder.java:335)\r\n    at com.erico.relatorio.item.reader.RelatorioReader.relatorioItemReader(RelatorioReader.java:34)\r\n    at com.erico.relatorio.item.reader.RelatorioReaderTest.test_itemReader(RelatorioReaderTest.java:27)\r\n    ...\r\nCaused by: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta-data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection: DataSource returned null from getConnection(): dataSource\r\n    at ...\r\nCaused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection: DataSource returned null from getConnection(): dataSource\r\n    at ...\r\n```\r\n","title":"How to test JdbcPagingItemReaderBuilder with Junit","body":"<p>I'm creating a spring-batch application, and I'm having trouble creating a unit test class with junit that tests my reader that uses <strong>JdbcPaginItemReaderBuilder</strong>.</p>\n<p>Reader Code:</p>\n<pre><code>@Configuration\npublic class RelatorioReader {\n\n    @Bean(&quot;relatorioreader&quot;)\n    @StepScope\n    public ItemReader&lt;Relatorio&gt; relatorioItemReader(\n        @Qualifier(&quot;dataSource&quot;) DataSource dataSource,\n        @Value(&quot;#{jobParameters[dateParam]}&quot;) String dateParam) {\n\n        return new JdbcPagingItemReaderBuilder&lt;Relatorio&gt;()\n                    .name(&quot;relatorioDiario&quot;)\n                    .dataSource(dataSource)\n                    .selectClause(&quot;SELET * &quot;)\n                    .fromClause(&quot;FROM myTable &quot;)\n                    .whereClause(&quot; WHERE date = :dateParam&quot;)\n                    .parameterValues(Collections.singletonMap(&quot;dateParam&quot;, dateParam))\n                    .sortKeys(Collections.singletonMap(&quot;ID&quot;, Order.ASCENDING))\n                    .rowMapper(new RelatorioMapper())\n                    .build();\n    }\n}\n</code></pre>\n<p>Junit Code</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\npublic class RelatorioReaderTest {\n\n    @InjectMocks\n    RelatorioReader reader;\n\n    @Mock\n    DataSource dataSource;\n\n    @Test\n    public void test_itemReader() {\n        ItemReader&lt;Relatorio&gt; itemReader = reader.relatorioItemReader(dataSource, &quot;2023-02-16&quot;);\n\n        assertNotNull(itemReader);\n    }\n}\n</code></pre>\n<p>Exception when running Junit:</p>\n<pre><code>java.lang.IllegalArgumentException: Unable to determine PagingQueryProvider type\n    at org.springframework.batch.item.database.builder.JdbcPagingItemReaderBuilder.determineQueryProvider(JdbcPagingItemReaderBuilder.java:383)\n    at org.springframework.batch.item.database.builder.JdbcPagingItemReaderBuilder.build(JdbcPagingItemReaderBuilder.java:335)\n    at com.erico.relatorio.item.reader.RelatorioReader.relatorioItemReader(RelatorioReader.java:34)\n    at com.erico.relatorio.item.reader.RelatorioReaderTest.test_itemReader(RelatorioReaderTest.java:27)\n    ...\nCaused by: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta-data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection: DataSource returned null from getConnection(): dataSource\n    at ...\nCaused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection: DataSource returned null from getConnection(): dataSource\n    at ...\n</code></pre>\n"},{"tags":["java","maven","jira-rest-api","jira-integration"],"comments":[{"owner":{"display_name":"user2858650"},"score":1,"creation_date":1676656770,"post_id":75487269,"comment_id":133188184,"body_markdown":"The error message is telling you that dependency com.atlassian.platform:platform:pom:3.1.7 cannot be found for some reason. What I typically do in these situations is manually go to the Artifactory repository and confirm the artifact exists. If it does then you know you either have a pom entry error or a corrupted local artifact. Then you can address as needed. For future reference, whenever you get these Maven build errors, drop the error into your web browser search function, remove the references to the specific artifact name/group/version and run a search. You should get a lot of hits.","body":"The error message is telling you that dependency com.atlassian.platform:platform:pom:3.1.7 cannot be found for some reason. What I typically do in these situations is manually go to the Artifactory repository and confirm the artifact exists. If it does then you know you either have a pom entry error or a corrupted local artifact. Then you can address as needed. For future reference, whenever you get these Maven build errors, drop the error into your web browser search function, remove the references to the specific artifact name/group/version and run a search. You should get a lot of hits."},{"owner":{"account_id":27542652,"reputation":80,"user_id":21019142,"display_name":"Selenium Lover"},"score":0,"creation_date":1676698743,"post_id":75487269,"comment_id":133194409,"body_markdown":"Checked that com.atlassian.platform:platform:pom:3.1.7 not exist in the maven_dev repo. but does this exist in the maven repo? so i can request my tem to add this into maven_dev","body":"Checked that com.atlassian.platform:platform:pom:3.1.7 not exist in the maven_dev repo. but does this exist in the maven repo? so i can request my tem to add this into maven_dev"}],"owner":{"account_id":27542652,"reputation":80,"user_id":21019142,"display_name":"Selenium Lover"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676907260,"creation_date":1676653588,"question_id":75487269,"body_markdown":"The below dependency was already existing in our organization repository and it was removed for some reasons\r\n\r\nLater I changed the repository as below and updated it with new repository  which has this dependency 5.2.0\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.atlassian.jira&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jira-rest-java-client-app&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;5.2.0&lt;/version&gt;\r\n\t\t&lt;exclusions&gt;\r\n\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n\t\t\t&lt;/exclusion&gt;\r\n\t\t&lt;/exclusions&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\r\nThe repository updated as below\r\n\r\n\t&lt;repositories&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;central&lt;/id&gt;\r\n\t\t\t&lt;name&gt;maven_dev&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://artifactory.organization.site/artifactory/maven_dev&lt;/url&gt;\r\n\t\t&lt;/repository&gt;\r\n\t&lt;/repositories&gt;\r\n\r\nWhen I build project after these changes am getting the below error\r\n````\r\nCould not resolve dependencies for project testngframeworkLibrary:PETERTESTNG:jar:3.16: Failed to collect dependencies at com.atlassian.jira:jira-rest-java-client-app:jar:5.2.0: Failed to read artifact descriptor for com.atlassian.jira:jira-rest-java-client-app:jar:5.2.0: Failure to find com.atlassian.platform:platform:pom:3.1.7 in https://artifactory.organization.site/artifactory/maven_dev was cached in the local repository, resolution will not be reattempted until the update interval of org-maven_dev has elapsed or updates are forced -&gt; [Help 1]\r\n````","title":"Maven Build Failure for artifact ID jira-rest-java-client-app","body":"<p>The below dependency was already existing in our organization repository and it was removed for some reasons</p>\n<p>Later I changed the repository as below and updated it with new repository  which has this dependency 5.2.0</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.atlassian.jira&lt;/groupId&gt;\n    &lt;artifactId&gt;jira-rest-java-client-app&lt;/artifactId&gt;\n    &lt;version&gt;5.2.0&lt;/version&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The repository updated as below</p>\n<pre><code>&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;central&lt;/id&gt;\n        &lt;name&gt;maven_dev&lt;/name&gt;\n        &lt;url&gt;https://artifactory.organization.site/artifactory/maven_dev&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n</code></pre>\n<p>When I build project after these changes am getting the below error</p>\n<pre><code>Could not resolve dependencies for project testngframeworkLibrary:PETERTESTNG:jar:3.16: Failed to collect dependencies at com.atlassian.jira:jira-rest-java-client-app:jar:5.2.0: Failed to read artifact descriptor for com.atlassian.jira:jira-rest-java-client-app:jar:5.2.0: Failure to find com.atlassian.platform:platform:pom:3.1.7 in https://artifactory.organization.site/artifactory/maven_dev was cached in the local repository, resolution will not be reattempted until the update interval of org-maven_dev has elapsed or updates are forced -&gt; [Help 1]\n</code></pre>\n"},{"tags":["java","date","datetime","time","jodatime"],"comments":[{"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":2,"creation_date":1256724038,"post_id":1636038,"comment_id":1505316,"body_markdown":"good question... `DateTime` could use a `rollForwardTo(...)` method","body":"good question... <code>DateTime</code> could use a <code>rollForwardTo(...)</code> method"},{"owner":{"account_id":123612,"reputation":48061,"user_id":318174,"accept_rate":71,"display_name":"Adam Gent"},"score":0,"creation_date":1342580541,"post_id":1636038,"comment_id":15248288,"body_markdown":"@skaffman See my generic rollForward answer. Its not super duper tested but seems to work for me.","body":"@skaffman See my generic rollForward answer. Its not super duper tested but seems to work for me."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1429385884,"post_id":1636038,"comment_id":47578363,"body_markdown":"Actually, java.time is *not* necessarily better that [Joda-Time](http://www.joda.org/joda-time/). Each has features the other lacks. For example, java.time lacks the [`Interval`](http://www.joda.org/joda-time/apidocs/org/joda/time/Interval.html) class found in Joda-Time. So use each for its strengths. You can mix and match within a project. Just be careful with your `import` statements as a few of their classes share the same name.","body":"Actually, java.time is <i>not</i> necessarily better that <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Joda-Time</a>. Each has features the other lacks. For example, java.time lacks the <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/Interval.html\" rel=\"nofollow noreferrer\"><code>Interval</code></a> class found in Joda-Time. So use each for its strengths. You can mix and match within a project. Just be careful with your <code>import</code> statements as a few of their classes share the same name."},{"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1666386703,"post_id":1636038,"comment_id":130933404,"body_markdown":"The equivalent question, but for Java time instead of Joda-Time: https://stackoverflow.com/q/21242809/1108305","body":"The equivalent question, but for Java time instead of Joda-Time: <a href=\"https://stackoverflow.com/q/21242809/1108305\">stackoverflow.com/q/21242809/1108305</a>"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1676923989,"post_id":1636038,"comment_id":133231418,"body_markdown":"To update [my Comment above](https://stackoverflow.com/questions/1636038/time-how-to-get-the-next-friday/75511018#comment47578363_1636038): I have changed my advice. You should migrate away from *Joda-Time* as soon as is convenient. That project is in maintenance mode, with no further feature work to be done. To regain some of the features present in *Joda-Time* but missing in *java.time*, add the [*ThreeTen-Extra*](https://www.threeten.org/threeten-extra/index.html) library to your project. For example, that library offers classes for `Interval` and `LocalDateRange`.","body":"To update <a href=\"https://stackoverflow.com/questions/1636038/time-how-to-get-the-next-friday/75511018#comment47578363_1636038\">my Comment above</a>: I have changed my advice. You should migrate away from <i>Joda-Time</i> as soon as is convenient. That project is in maintenance mode, with no further feature work to be done. To regain some of the features present in <i>Joda-Time</i> but missing in <i>java.time</i>, add the <a href=\"https://www.threeten.org/threeten-extra/index.html\" rel=\"nofollow noreferrer\"><i>ThreeTen-Extra</i></a> library to your project. For example, that library offers classes for <code>Interval</code> and <code>LocalDateRange</code>."}],"answers":[{"tags":[],"owner":{"account_id":19115,"reputation":29081,"user_id":44523,"accept_rate":95,"display_name":"Esko"},"down_vote_count":0,"up_vote_count":52,"is_accepted":false,"score":52,"last_activity_date":1383852853,"creation_date":1256723764,"answer_id":1636213,"question_id":1636038,"body_markdown":"It&#39;s possible to do it in a much easier to read way:\r\n\r\n    if (d.getDayOfWeek() &lt; DateTimeConstants.FRIDAY) {\r\n        return d.withDayOfWeek(DateTimeConstants.FRIDAY));\r\n    } else if (d.getDayOfWeek() == DateTimeConstants.FRIDAY) {\r\n        // almost useless branch, could be merged with the one above\r\n        return d;\r\n    } else {\r\n        return d.plusWeeks(1).withDayOfWeek(DateTimeConstants.FRIDAY));\r\n    }\r\n\r\n\r\nor in a bit shorter form\r\n\r\n    private LocalDate calcNextFriday(LocalDate d) {    \r\n    \tif (d.getDayOfWeek() &lt; DateTimeConstants.FRIDAY) {\r\n    \t\td = d.withDayOfWeek(DateTimeConstants.FRIDAY));\r\n    \t} else {\r\n    \t\td = d.plusWeeks(1).withDayOfWeek(DateTimeConstants.FRIDAY));\r\n    \t}    \r\n    \treturn d; // note that there&#39;s a possibility original object is returned\r\n    }\r\n\r\nor even shorter\r\n\r\n    private LocalDate calcNextFriday(LocalDate d) {\r\n    \tif (d.getDayOfWeek() &gt;= DateTimeConstants.FRIDAY) {\r\n    \t\td = d.plusWeeks(1);\r\n    \t}\r\n    \treturn d.withDayOfWeek(DateTimeConstants.FRIDAY);\r\n    }\r\n\r\n\r\n*PS. I didn&#39;t test the actual code! :)*","title":"Time: How to get the next friday?","body":"<p>It's possible to do it in a much easier to read way:</p>\n\n<pre><code>if (d.getDayOfWeek() &lt; DateTimeConstants.FRIDAY) {\n    return d.withDayOfWeek(DateTimeConstants.FRIDAY));\n} else if (d.getDayOfWeek() == DateTimeConstants.FRIDAY) {\n    // almost useless branch, could be merged with the one above\n    return d;\n} else {\n    return d.plusWeeks(1).withDayOfWeek(DateTimeConstants.FRIDAY));\n}\n</code></pre>\n\n<p>or in a bit shorter form</p>\n\n<pre><code>private LocalDate calcNextFriday(LocalDate d) {    \n    if (d.getDayOfWeek() &lt; DateTimeConstants.FRIDAY) {\n        d = d.withDayOfWeek(DateTimeConstants.FRIDAY));\n    } else {\n        d = d.plusWeeks(1).withDayOfWeek(DateTimeConstants.FRIDAY));\n    }    \n    return d; // note that there's a possibility original object is returned\n}\n</code></pre>\n\n<p>or even shorter</p>\n\n<pre><code>private LocalDate calcNextFriday(LocalDate d) {\n    if (d.getDayOfWeek() &gt;= DateTimeConstants.FRIDAY) {\n        d = d.plusWeeks(1);\n    }\n    return d.withDayOfWeek(DateTimeConstants.FRIDAY);\n}\n</code></pre>\n\n<p><em>PS. I didn't test the actual code! :)</em></p>\n"},{"tags":[],"owner":{"account_id":38931,"reputation":32526,"user_id":112079,"display_name":"fvu"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1256724404,"creation_date":1256724404,"answer_id":1636269,"question_id":1636038,"body_markdown":"Your code in 1 line\r\n\r\n    private LocalDate calcNextFriday3(LocalDate d) {\r\n        return d.isBefore(d.dayOfWeek().setCopy(5))?d.dayOfWeek().setCopy(5):d.plusWeeks(1).dayOfWeek().setCopy(5);\r\n    }\r\n\r\nAlternative approach\r\n\r\n    private LocalDate calcNextDay(LocalDate d, int weekday) {\r\n        return (d.getDayOfWeek() &lt; weekday)?d.withDayOfWeek(weekday):d.plusWeeks(1).withDayOfWeek(weekday);\r\n    }\r\n\r\n\r\n    private LocalDate calcNextFriday2(LocalDate d) {\r\n        return calcNextDay(d,DateTimeConstants.FRIDAY);\r\n    }\r\n\r\nsomewhat tested ;-)\r\n","title":"Time: How to get the next friday?","body":"<p>Your code in 1 line</p>\n\n<pre><code>private LocalDate calcNextFriday3(LocalDate d) {\n    return d.isBefore(d.dayOfWeek().setCopy(5))?d.dayOfWeek().setCopy(5):d.plusWeeks(1).dayOfWeek().setCopy(5);\n}\n</code></pre>\n\n<p>Alternative approach</p>\n\n<pre><code>private LocalDate calcNextDay(LocalDate d, int weekday) {\n    return (d.getDayOfWeek() &lt; weekday)?d.withDayOfWeek(weekday):d.plusWeeks(1).withDayOfWeek(weekday);\n}\n\n\nprivate LocalDate calcNextFriday2(LocalDate d) {\n    return calcNextDay(d,DateTimeConstants.FRIDAY);\n}\n</code></pre>\n\n<p>somewhat tested ;-)</p>\n"},{"tags":[],"owner":{"account_id":123612,"reputation":48061,"user_id":318174,"accept_rate":71,"display_name":"Adam Gent"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1342581223,"creation_date":1342580499,"answer_id":11533693,"question_id":1636038,"body_markdown":"I just wasted like 30 minutes trying to figure this out myself but I needed to generically roll forward.\r\n\r\nAnyway here is my solution:\r\n\r\n    public static DateTime rollForwardWith(ReadableInstant now, AbstractPartial lp) {\r\n        DateTime dt = lp.toDateTime(now);\r\n        while (dt.isBefore(now)) {\r\n            dt = dt.withFieldAdded(lp.getFieldTypes()[0].getRangeDurationType(), 1);\r\n        }\r\n        return dt;\r\n    }\r\n\r\nNow you just need to make a Partial (which LocalDate is) for the day of the week.  \r\n\r\n    Partial().with(DateTimeFieldType.dayOfWeek(), DateTimeConstants.FRIDAY); \r\n\r\nNow whatever the most significant field is of the partial will be +1 if the current date is after it (now).\r\n\r\nThat is if you make a partial with March 2012 it will create a new datetime of March 2013 or &lt;.","title":"Time: How to get the next friday?","body":"<p>I just wasted like 30 minutes trying to figure this out myself but I needed to generically roll forward.</p>\n\n<p>Anyway here is my solution:</p>\n\n<pre><code>public static DateTime rollForwardWith(ReadableInstant now, AbstractPartial lp) {\n    DateTime dt = lp.toDateTime(now);\n    while (dt.isBefore(now)) {\n        dt = dt.withFieldAdded(lp.getFieldTypes()[0].getRangeDurationType(), 1);\n    }\n    return dt;\n}\n</code></pre>\n\n<p>Now you just need to make a Partial (which LocalDate is) for the day of the week.  </p>\n\n<pre><code>Partial().with(DateTimeFieldType.dayOfWeek(), DateTimeConstants.FRIDAY); \n</code></pre>\n\n<p>Now whatever the most significant field is of the partial will be +1 if the current date is after it (now).</p>\n\n<p>That is if you make a partial with March 2012 it will create a new datetime of March 2013 or &lt;.</p>\n"},{"tags":[],"owner":{"account_id":108117,"reputation":9982,"user_id":287138,"accept_rate":82,"display_name":"Stefan Haberl"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1412590691,"creation_date":1412590691,"answer_id":26214173,"question_id":1636038,"body_markdown":"counting bytes @fvu answer can be shortened even further to:\r\n\r\n    private LocalDate calcNextFriday(LocalDate d) {\r\n      return d.plusWeeks(d.getDayOfWeek() &lt; DateTimeConstants.FRIDAY ? 0 : 1).withDayOfWeek(DateTimeConstants.FRIDAY);\r\n    }","title":"Time: How to get the next friday?","body":"<p>counting bytes @fvu answer can be shortened even further to:</p>\n\n<pre><code>private LocalDate calcNextFriday(LocalDate d) {\n  return d.plusWeeks(d.getDayOfWeek() &lt; DateTimeConstants.FRIDAY ? 0 : 1).withDayOfWeek(DateTimeConstants.FRIDAY);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":63956,"reputation":10936,"user_id":189058,"accept_rate":83,"display_name":"michael.kebe"},"down_vote_count":0,"up_vote_count":123,"is_accepted":true,"score":123,"last_activity_date":1467246660,"creation_date":1426164806,"answer_id":29010338,"question_id":1636038,"body_markdown":"# java.time\r\n\r\nWith the [java.time][1] framework built into Java 8 and later ([Tutorial][2]) you can use [`TemporalAdjusters`](https://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalAdjusters.html) to get [next][3] or [previous][4] [day-of-week][5].\r\n\r\n    private LocalDate calcNextFriday(LocalDate d) {\r\n\t  return d.with(TemporalAdjusters.next(DayOfWeek.FRIDAY));\r\n    }\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\r\n  [2]: http://docs.oracle.com/javase/tutorial/datetime/TOC.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalAdjusters.html#next-java.time.DayOfWeek-\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalAdjusters.html#previous-java.time.DayOfWeek-\r\n  [5]: http://docs.oracle.com/javase/8/docs/api/java/time/DayOfWeek.html","title":"Time: How to get the next friday?","body":"<h1>java.time</h1>\n\n<p>With the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\">java.time</a> framework built into Java 8 and later (<a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\">Tutorial</a>) you can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalAdjusters.html\"><code>TemporalAdjusters</code></a> to get <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalAdjusters.html#next-java.time.DayOfWeek-\">next</a> or <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalAdjusters.html#previous-java.time.DayOfWeek-\">previous</a> <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/DayOfWeek.html\">day-of-week</a>.</p>\n\n<pre><code>private LocalDate calcNextFriday(LocalDate d) {\n  return d.with(TemporalAdjusters.next(DayOfWeek.FRIDAY));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3776250,"reputation":75,"user_id":3137020,"display_name":"dinesh pazani"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1524588930,"creation_date":1434439191,"answer_id":30861158,"question_id":1636038,"body_markdown":"\timport java.util.Calendar;\r\n\r\n    private Calendar getNextweekOfDay(int weekOfDay) {\r\n        Calendar today = Calendar.getInstance();\r\n        int dayOfWeek = today.get(Calendar.DAY_OF_WEEK);\r\n        int daysUntilNextWeekOfDay = weekOfDay - dayOfWeek;\r\n        if (daysUntilNextWeekOfDay == 0) daysUntilNextWeekOfDay = 7;\r\n        Calendar nextWeekOfDay = (Calendar)today.clone();\r\n        nextWeekOfDay.add(Calendar.DAY_OF_WEEK, daysUntilNextWeekOfDay);\r\n        return nextWeekOfDay;\r\n    }\r\n\t\r\n\t// set alarm for next Friday 9am\r\n\tpublic void setAlarm() {\r\n        Calendar calAlarm = getNextweekOfDay(Calendar.FRIDAY);\r\n        calAlarm.set(Calendar.HOUR_OF_DAY, 9);//9am\r\n        calAlarm.set(Calendar.MINUTE, 0);\r\n        calAlarm.set(Calendar.SECOND, 0);\r\n        scheduleAlarm(calAlarm);// this is my own method to schedule a pendingIntent\r\n    }","title":"Time: How to get the next friday?","body":"<pre><code>import java.util.Calendar;\n\nprivate Calendar getNextweekOfDay(int weekOfDay) {\n    Calendar today = Calendar.getInstance();\n    int dayOfWeek = today.get(Calendar.DAY_OF_WEEK);\n    int daysUntilNextWeekOfDay = weekOfDay - dayOfWeek;\n    if (daysUntilNextWeekOfDay == 0) daysUntilNextWeekOfDay = 7;\n    Calendar nextWeekOfDay = (Calendar)today.clone();\n    nextWeekOfDay.add(Calendar.DAY_OF_WEEK, daysUntilNextWeekOfDay);\n    return nextWeekOfDay;\n}\n\n// set alarm for next Friday 9am\npublic void setAlarm() {\n    Calendar calAlarm = getNextweekOfDay(Calendar.FRIDAY);\n    calAlarm.set(Calendar.HOUR_OF_DAY, 9);//9am\n    calAlarm.set(Calendar.MINUTE, 0);\n    calAlarm.set(Calendar.SECOND, 0);\n    scheduleAlarm(calAlarm);// this is my own method to schedule a pendingIntent\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":245024,"reputation":177,"user_id":1937041,"display_name":"Breton F."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544196442,"creation_date":1542850769,"answer_id":53422758,"question_id":1636038,"body_markdown":"A simple modulo based solution which should work with most of former java versions in case you are not allowed to upgrade your java version to java8 or onwards or to use a standard java date library as jodatime\r\n\r\n Number of days to add to your date is given by this formula :\r\n\r\n   (7 + Calendar.FRIDAY - yourDateAsCalendar.get(Calendar.DAY_OF_WEEK)) % 7\r\n\r\nNote also this can be generalized for any week day by changing the static field Calendar.FRIDAY to your given weekday. Some snippet code below\r\n\r\n   \r\n\r\n    public static void main(String[] args) {\r\n\t\tfor (int i = 0; i &lt; 15; i++) {\r\n\t\t\t\r\n\t\t\tCalendar cur = Calendar.getInstance();\r\n\t\t\tcur.add(Calendar.DAY_OF_MONTH, i);\r\n\t\t\t\r\n\t\t\tCalendar friday = Calendar.getInstance();\r\n\t\t\tfriday.setTime(cur.getTime());\r\n\t\t\tfriday.add(Calendar.DAY_OF_MONTH, (7 + Calendar.FRIDAY - cur.get(Calendar.DAY_OF_WEEK)) % 7);\r\n\t\t\t\r\n\t\t\tSystem.out.println(MessageFormat.format(&quot;Date {0} -&gt; {1} &quot;, cur.getTime(),  friday.getTime()));\r\n\t\t}\r\n\t}\r\n\r\n  ","title":"Time: How to get the next friday?","body":"<p>A simple modulo based solution which should work with most of former java versions in case you are not allowed to upgrade your java version to java8 or onwards or to use a standard java date library as jodatime</p>\n\n<p>Number of days to add to your date is given by this formula :</p>\n\n<p>(7 + Calendar.FRIDAY - yourDateAsCalendar.get(Calendar.DAY_OF_WEEK)) % 7</p>\n\n<p>Note also this can be generalized for any week day by changing the static field Calendar.FRIDAY to your given weekday. Some snippet code below</p>\n\n<pre><code>public static void main(String[] args) {\n    for (int i = 0; i &lt; 15; i++) {\n\n        Calendar cur = Calendar.getInstance();\n        cur.add(Calendar.DAY_OF_MONTH, i);\n\n        Calendar friday = Calendar.getInstance();\n        friday.setTime(cur.getTime());\n        friday.add(Calendar.DAY_OF_MONTH, (7 + Calendar.FRIDAY - cur.get(Calendar.DAY_OF_WEEK)) % 7);\n\n        System.out.println(MessageFormat.format(\"Date {0} -&gt; {1} \", cur.getTime(),  friday.getTime()));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7619751,"reputation":6003,"user_id":5778099,"accept_rate":53,"display_name":"Nestor Milyaev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615208551,"creation_date":1615204637,"answer_id":66529440,"question_id":1636038,"body_markdown":"Here&#39;s an alternative way of doing it, without using any other classes/APIs outside LocalDate.\r\n\r\n         LocalDate nextFriday = (d.plusWeeks(1).withDayOfWeek(5).minusDays(7).isAfter(d)) \r\n                                ? d.plusWeeks(1).withDayOfWeek(5)\r\n                                : d.withDayOfWeek(5);","title":"Time: How to get the next friday?","body":"<p>Here's an alternative way of doing it, without using any other classes/APIs outside LocalDate.</p>\n<pre><code>     LocalDate nextFriday = (d.plusWeeks(1).withDayOfWeek(5).minusDays(7).isAfter(d)) \n                            ? d.plusWeeks(1).withDayOfWeek(5)\n                            : d.withDayOfWeek(5);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":234754,"reputation":5730,"user_id":501113,"accept_rate":90,"display_name":"chaotic3quilibrium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676905906,"creation_date":1676905906,"answer_id":75511018,"question_id":1636038,"body_markdown":"Using [Joda-Time][1] 2.12.2, below is a pure function which will find the next/prior [Day of the Week][2] as a `LocalDate` using [ISO8601 constants][3].\r\n\r\nParameters:\r\n\r\n - `localDate`: the anchor date\r\n - `isoDayOfWeek`: the specific Day of the Week desired\r\n   - the weekday number, [from 1 through 7][3]\r\n   - beginning with Monday and ending with Sunday\r\n - `howManyWeeksOut`: how far forward/backward to offset in weeks, with 0 meaning closest \r\n - `isPast`: when `true`, offset backwards in time, otherwise offset forwards\r\n - `isExcludingToday`: when `true` and `isoDayOfWeek` is equal to `localDate.getDayOfWeek()`, offset forward/backwards a full week from `localDate`\r\n\r\n\r\n```java\r\nimport org.joda.time.LocalDate;\r\n\r\npublic static LocalDate toDayOfWeek(\r\n    LocalDate localDate,\r\n    int isoDayOfWeek,\r\n    int howManyWeeksOut,\r\n    boolean isPast,\r\n    boolean isExcludingToday\r\n) {\r\n  var localDateDayOfWeek = localDate.getDayOfWeek();\r\n  if ((localDateDayOfWeek == isoDayOfWeek) &amp;&amp; !isExcludingToday &amp;&amp; (howManyWeeksOut == 0)) {\r\n    return localDate;\r\n  }\r\n  var daysUntilIsoDayOfWeek =\r\n      isoDayOfWeek + ((isoDayOfWeek &lt; localDateDayOfWeek) ? 7 : 0) - localDateDayOfWeek;\r\n  var weeksOffset =\r\n      7 * (howManyWeeksOut + ((daysUntilIsoDayOfWeek == 0) &amp;&amp; isExcludingToday ? 1 : 0));\r\n\r\n  return (!isPast)\r\n      ? localDate.plusDays(daysUntilIsoDayOfWeek + weeksOffset)\r\n      : localDate.minusDays(((daysUntilIsoDayOfWeek != 0) ? (7 - daysUntilIsoDayOfWeek) : 0) + weeksOffset);\r\n}\r\n```\r\n\r\n\r\n  [1]: https://www.joda.org/joda-time/apidocs/index.html?overview-summary.html\r\n  [2]: https://www.joda.org/joda-time/apidocs/org/joda/time/LocalDate.html#getDayOfWeek--\r\n  [3]: https://en.wikipedia.org/wiki/ISO_8601#Week_dates","title":"Time: How to get the next friday?","body":"<p>Using <a href=\"https://www.joda.org/joda-time/apidocs/index.html?overview-summary.html\" rel=\"nofollow noreferrer\">Joda-Time</a> 2.12.2, below is a pure function which will find the next/prior <a href=\"https://www.joda.org/joda-time/apidocs/org/joda/time/LocalDate.html#getDayOfWeek--\" rel=\"nofollow noreferrer\">Day of the Week</a> as a <code>LocalDate</code> using <a href=\"https://en.wikipedia.org/wiki/ISO_8601#Week_dates\" rel=\"nofollow noreferrer\">ISO8601 constants</a>.</p>\n<p>Parameters:</p>\n<ul>\n<li><code>localDate</code>: the anchor date</li>\n<li><code>isoDayOfWeek</code>: the specific Day of the Week desired\n<ul>\n<li>the weekday number, <a href=\"https://en.wikipedia.org/wiki/ISO_8601#Week_dates\" rel=\"nofollow noreferrer\">from 1 through 7</a></li>\n<li>beginning with Monday and ending with Sunday</li>\n</ul>\n</li>\n<li><code>howManyWeeksOut</code>: how far forward/backward to offset in weeks, with 0 meaning closest</li>\n<li><code>isPast</code>: when <code>true</code>, offset backwards in time, otherwise offset forwards</li>\n<li><code>isExcludingToday</code>: when <code>true</code> and <code>isoDayOfWeek</code> is equal to <code>localDate.getDayOfWeek()</code>, offset forward/backwards a full week from <code>localDate</code></li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>import org.joda.time.LocalDate;\n\npublic static LocalDate toDayOfWeek(\n    LocalDate localDate,\n    int isoDayOfWeek,\n    int howManyWeeksOut,\n    boolean isPast,\n    boolean isExcludingToday\n) {\n  var localDateDayOfWeek = localDate.getDayOfWeek();\n  if ((localDateDayOfWeek == isoDayOfWeek) &amp;&amp; !isExcludingToday &amp;&amp; (howManyWeeksOut == 0)) {\n    return localDate;\n  }\n  var daysUntilIsoDayOfWeek =\n      isoDayOfWeek + ((isoDayOfWeek &lt; localDateDayOfWeek) ? 7 : 0) - localDateDayOfWeek;\n  var weeksOffset =\n      7 * (howManyWeeksOut + ((daysUntilIsoDayOfWeek == 0) &amp;&amp; isExcludingToday ? 1 : 0));\n\n  return (!isPast)\n      ? localDate.plusDays(daysUntilIsoDayOfWeek + weeksOffset)\n      : localDate.minusDays(((daysUntilIsoDayOfWeek != 0) ? (7 - daysUntilIsoDayOfWeek) : 0) + weeksOffset);\n}\n</code></pre>\n"}],"owner":{"account_id":63956,"reputation":10936,"user_id":189058,"accept_rate":83,"display_name":"michael.kebe"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46728,"favorite_count":0,"down_vote_count":0,"up_vote_count":77,"accepted_answer_id":29010338,"answer_count":9,"score":77,"last_activity_date":1676905906,"creation_date":1256721373,"question_id":1636038,"body_markdown":"How can I get the next friday with the [Joda-Time][1] API.\r\n\r\nThe [`LocalDate`][2] of today is `today`. It looks to me you have to decide whever you are before or after the friday of the current week. See this method:\r\n\r\n\tprivate LocalDate calcNextFriday(LocalDate d) {\r\n\t\tLocalDate friday = d.dayOfWeek().setCopy(5);\r\n\t\tif (d.isBefore(friday)) {\r\n\t\t\treturn d.dayOfWeek().setCopy(5);\r\n\t\t} else {\r\n\t\t\treturn d.plusWeeks(1).dayOfWeek().setCopy(5);\r\n\t\t}\r\n\t}\r\n\r\nIs it possible to do it shorter or with a oneliner?\r\n\r\n&lt;strike&gt;PS: Please don&#39;t advise me using JDKs date/time stuff. Joda-Time is a much better API.&lt;/strike&gt;\r\n\r\nJava 8 introduces [java.time][3] package ([Tutorial][4]) which is even better.\r\n\r\n\r\n  [1]: http://www.joda.org/joda-time/\r\n  [2]: http://www.joda.org/joda-time/apidocs/org/joda/time/LocalDate.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\r\n  [4]: https://docs.oracle.com/javase/tutorial/datetime/","title":"Time: How to get the next friday?","body":"<p>How can I get the next friday with the <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-Time</a> API.</p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/LocalDate.html\" rel=\"noreferrer\"><code>LocalDate</code></a> of today is <code>today</code>. It looks to me you have to decide whever you are before or after the friday of the current week. See this method:</p>\n\n<pre><code>private LocalDate calcNextFriday(LocalDate d) {\n    LocalDate friday = d.dayOfWeek().setCopy(5);\n    if (d.isBefore(friday)) {\n        return d.dayOfWeek().setCopy(5);\n    } else {\n        return d.plusWeeks(1).dayOfWeek().setCopy(5);\n    }\n}\n</code></pre>\n\n<p>Is it possible to do it shorter or with a oneliner?</p>\n\n<p><strike>PS: Please don't advise me using JDKs date/time stuff. Joda-Time is a much better API.</strike></p>\n\n<p>Java 8 introduces <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> package (<a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"noreferrer\">Tutorial</a>) which is even better.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1605721187,"post_id":64898249,"comment_id":114740375,"body_markdown":"Looks like you have a `module-info.java` making this a &#39;modular&#39; project which doesn&#39;t match what your course wants. Delete the module-info.java to make the project a non-modular Java project.","body":"Looks like you have a <code>module-info.java</code> making this a &#39;modular&#39; project which doesn&#39;t match what your course wants. Delete the module-info.java to make the project a non-modular Java project."}],"answers":[{"tags":[],"owner":{"account_id":16645821,"reputation":149,"user_id":12030165,"display_name":"Daniel Boehm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1605722254,"creation_date":1605721599,"answer_id":64898499,"question_id":64898249,"body_markdown":"Seems a &quot;*modul-info.java&quot; related*&quot; topic.\r\n\r\nSuggestion:\r\n\r\n - Restart Ecclipse and/or delete projects \r\n - Create a new project and when creating a new project do NOT select &quot;module-info.java&quot;\r\n - Create a package e.g. hellloworld (package.de.helloworld.chapter01)\r\n - In this package right click and create a java class (here HelloWorld)\r\n - Run this project as Java application \r\n\r\nthis should work. \r\n\r\n\r\nYou need also the main statement, you included this? :-) \r\n\r\n    package de.helloworld.chapter01;\r\n    \r\n    public class HelloWorld {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\tSystem.out.println(&quot;Hello World&quot;);\r\n    \t\t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Java - Eclipe IDE error - Error occurred during initialization of boot layer","body":"<p>Seems a &quot;<em>modul-info.java&quot; related</em>&quot; topic.</p>\n<p>Suggestion:</p>\n<ul>\n<li>Restart Ecclipse and/or delete projects</li>\n<li>Create a new project and when creating a new project do NOT select &quot;module-info.java&quot;</li>\n<li>Create a package e.g. hellloworld (package.de.helloworld.chapter01)</li>\n<li>In this package right click and create a java class (here HelloWorld)</li>\n<li>Run this project as Java application</li>\n</ul>\n<p>this should work.</p>\n<p>You need also the main statement, you included this? :-)</p>\n<pre><code>package de.helloworld.chapter01;\n\npublic class HelloWorld {\n\n    public static void main(String[] args) {\n            System.out.println(&quot;Hello World&quot;);\n            \n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9088961,"reputation":1,"user_id":6765728,"display_name":"Abdul Sidibe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657816164,"creation_date":1657816164,"answer_id":72983805,"question_id":64898249,"body_markdown":"I had the same problem. I had class in default package. I deleted the class and moved it in to a new package. That fixed problem for me.","title":"Java - Eclipe IDE error - Error occurred during initialization of boot layer","body":"<p>I had the same problem. I had class in default package. I deleted the class and moved it in to a new package. That fixed problem for me.</p>\n"},{"tags":[],"owner":{"account_id":16617272,"reputation":1,"user_id":12008536,"display_name":"Jonah Ougo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676905684,"creation_date":1676905684,"answer_id":75510979,"question_id":64898249,"body_markdown":"The following steps solved it for me;\r\n\r\n 1. Right-click on your project and select &#39;Properties&#39; at the bottom.\r\n 2. Select &#39;Java Build Path&#39; and navigate to the &#39;Libraries&#39; tab. Remove\r\n    existing libraries.\r\n 3. Add a new library by clicking on &#39;Add Library&#39; from the menu on the right. \r\n    Select &#39;JRE System Library&#39; and click &#39;Next&#39;.\r\n 4. Under &#39;System Library&#39; select &#39;Execution Environment&#39; and click\r\n    &#39;Finish&#39;. Apply all changes &amp; close.\r\n 5. Run your program now.","title":"Java - Eclipe IDE error - Error occurred during initialization of boot layer","body":"<p>The following steps solved it for me;</p>\n<ol>\n<li>Right-click on your project and select 'Properties' at the bottom.</li>\n<li>Select 'Java Build Path' and navigate to the 'Libraries' tab. Remove\nexisting libraries.</li>\n<li>Add a new library by clicking on 'Add Library' from the menu on the right.\nSelect 'JRE System Library' and click 'Next'.</li>\n<li>Under 'System Library' select 'Execution Environment' and click\n'Finish'. Apply all changes &amp; close.</li>\n<li>Run your program now.</li>\n</ol>\n"}],"owner":{"account_id":19818957,"reputation":45,"user_id":14515988,"display_name":"Anouar Seljouki"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2426,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1676905684,"creation_date":1605720734,"question_id":64898249,"body_markdown":"I am using Eclipse for the first time, I just finished installing it, I typed the code below as instructed by my online course: \r\n\r\n    System.out.println(&quot;Hello World&quot;); \r\n\r\nand I got the error below : \r\n\r\nError occurred during initialization of boot layer\r\njava.lang.module.FindException: Error reading module: C:\\Users\\seljouki\\eclipse-workspace\\MyFirstProject\\bin\r\nCaused by: java.lang.module.InvalidModuleDescriptorException: MyClass.class found in top-level directory (unnamed package not allowed in module)\r\n","title":"Java - Eclipe IDE error - Error occurred during initialization of boot layer","body":"<p>I am using Eclipse for the first time, I just finished installing it, I typed the code below as instructed by my online course:</p>\n<pre><code>System.out.println(&quot;Hello World&quot;); \n</code></pre>\n<p>and I got the error below :</p>\n<p>Error occurred during initialization of boot layer\njava.lang.module.FindException: Error reading module: C:\\Users\\seljouki\\eclipse-workspace\\MyFirstProject\\bin\nCaused by: java.lang.module.InvalidModuleDescriptorException: MyClass.class found in top-level directory (unnamed package not allowed in module)</p>\n"},{"tags":["java","spring","transactions","spring-aop","propagation"],"owner":{"account_id":18062525,"reputation":3,"user_id":13129676,"display_name":"theUnbrakableDiamond"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676905068,"creation_date":1676894252,"question_id":75508971,"body_markdown":"I have a method annotated with `@Transactional` that calls a second method annotated with `@Transactional(propagation=Propagation.REQUIRES_NEW)`, which in turn calls a third method annotated with `@Transactional`. If the third method throws an exception and it is caught and suppressed in the second method, the transaction from the first method will be rolled back. However, if the third method does not have the `@Transactional` annotation, only the transaction from the second method will be rolled back. Why  `@Transactional` affect on transaction from first method instead of new transaction from second? \r\n\r\n``` java\r\n@Service\r\nclass FirstClass {\r\n\r\n    private final SecondClass secondClass;\r\n\r\n    @Transactional\r\n    public void firstMethod() {\r\n        //... some code\r\n        secondClass.secondMethod();\r\n        //... some code\r\n    }\r\n}\r\n\r\n@Service\r\nclass SecondClass {\r\n\r\n    private final ThirdClass thirdClass;\r\n\r\n\r\n    @Transactional(Propagation.REQUIRES_NEW)\r\n    public void secondMethod() {\r\n        //... some code\r\n        try {\r\n            thirdClass.thirdMethod();\r\n            //... some code\r\n        }catch (Exception e){\r\n\r\n        }\r\n    }\r\n}\r\n\r\n@Service\r\nclass ThirdClass {\r\n\r\n    @Transactional // this transaction \r\n    public void thirdMethod() {\r\n        throw new RuntimeException();\r\n    }\r\n\r\n}\r\n```\r\n\r\nif we rewrite third method by this way: \r\n\r\n```\r\n@Service\r\nclass ThirdClass {\r\n\r\n    public void thirdMethod() {\r\n        throw new RuntimeException();\r\n    }\r\n\r\n}\r\n```\r\n\r\nIn this scenario, the first transaction will not be rolled back.\r\n","title":"If an exception occurs within a nested Transaction with the propagation REQUIRED_NEW, the Spring framework will perform a rollback of the transaction","body":"<p>I have a method annotated with <code>@Transactional</code> that calls a second method annotated with <code>@Transactional(propagation=Propagation.REQUIRES_NEW)</code>, which in turn calls a third method annotated with <code>@Transactional</code>. If the third method throws an exception and it is caught and suppressed in the second method, the transaction from the first method will be rolled back. However, if the third method does not have the <code>@Transactional</code> annotation, only the transaction from the second method will be rolled back. Why  <code>@Transactional</code> affect on transaction from first method instead of new transaction from second?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\nclass FirstClass {\n\n    private final SecondClass secondClass;\n\n    @Transactional\n    public void firstMethod() {\n        //... some code\n        secondClass.secondMethod();\n        //... some code\n    }\n}\n\n@Service\nclass SecondClass {\n\n    private final ThirdClass thirdClass;\n\n\n    @Transactional(Propagation.REQUIRES_NEW)\n    public void secondMethod() {\n        //... some code\n        try {\n            thirdClass.thirdMethod();\n            //... some code\n        }catch (Exception e){\n\n        }\n    }\n}\n\n@Service\nclass ThirdClass {\n\n    @Transactional // this transaction \n    public void thirdMethod() {\n        throw new RuntimeException();\n    }\n\n}\n</code></pre>\n<p>if we rewrite third method by this way:</p>\n<pre><code>@Service\nclass ThirdClass {\n\n    public void thirdMethod() {\n        throw new RuntimeException();\n    }\n\n}\n</code></pre>\n<p>In this scenario, the first transaction will not be rolled back.</p>\n"},{"tags":["java","spring","jpa","jdbctemplate","spring-jdbc"],"comments":[{"owner":{"account_id":163861,"reputation":5455,"user_id":386268,"accept_rate":95,"display_name":"Eldad Mor"},"score":2,"creation_date":1293884193,"post_id":4573975,"comment_id":5019926,"body_markdown":"One additional factor you&#39;d want to consider is standardization.","body":"One additional factor you&#39;d want to consider is standardization."}],"answers":[{"tags":[],"owner":{"account_id":92092,"reputation":21904,"user_id":252552,"accept_rate":81,"display_name":"Timo Westk&#228;mper"},"down_vote_count":1,"up_vote_count":171,"is_accepted":true,"score":170,"last_activity_date":1293886697,"creation_date":1293886697,"answer_id":4574118,"question_id":4573975,"body_markdown":"Use Spring JdbcTemplate if you don&#39;t want to access your database schema via a domain model. Using JdbcTemplate you are using a lower level access, with more flexibility, but probably also more boilerplate.\r\n\r\nSpring JdbcTemplate can be more easily used with exotic database schemas and a stored procedure focus. Using JPA you need to make sure that database schema maps correctly to the domain model.\r\n\r\nBoth technologies need developers knowing relational databases, SQL and transactions. With JPA you get more hidden complexity though.\r\n\r\nJPA is to my knowledge more easily pluggable to data caching layers, since the object oriented focus makes cache entry identification, update and invalidation easier.\r\n\r\nYou can fine tune JdbcTemplate based backends better, but there is for most cases more code involved.\r\n\r\nSome other aspect to consider is that although with JPA you get a domain model for your database schema you will often need to use additional DTO classes. Using JdbcTemplate you can directly operate with DTO classes.","title":"JPA vs Spring JdbcTemplate","body":"<p>Use Spring JdbcTemplate if you don't want to access your database schema via a domain model. Using JdbcTemplate you are using a lower level access, with more flexibility, but probably also more boilerplate.</p>\n\n<p>Spring JdbcTemplate can be more easily used with exotic database schemas and a stored procedure focus. Using JPA you need to make sure that database schema maps correctly to the domain model.</p>\n\n<p>Both technologies need developers knowing relational databases, SQL and transactions. With JPA you get more hidden complexity though.</p>\n\n<p>JPA is to my knowledge more easily pluggable to data caching layers, since the object oriented focus makes cache entry identification, update and invalidation easier.</p>\n\n<p>You can fine tune JdbcTemplate based backends better, but there is for most cases more code involved.</p>\n\n<p>Some other aspect to consider is that although with JPA you get a domain model for your database schema you will often need to use additional DTO classes. Using JdbcTemplate you can directly operate with DTO classes.</p>\n"},{"tags":[],"owner":{"account_id":116580,"reputation":118703,"user_id":305644,"accept_rate":75,"display_name":"hvgotcodes"},"down_vote_count":0,"up_vote_count":57,"is_accepted":false,"score":57,"last_activity_date":1480202736,"creation_date":1293892310,"answer_id":4574355,"question_id":4573975,"body_markdown":"I agree with @Timo.  The only other insight I would add/expand upon is that ORM has different semantics from pure sql access to your data.\r\n\r\nThe point of ORM is to abstract away the fact that your data is in a DB at all, as much as possible.  When you use ORM properly, all persistence operations are dealt with in one (hopefully) thin layer.  Your model objects will have little to no persistence code; the fact that you are using ORM should be invisible to your model.\r\n\r\nBecause of this, ORM is very good at making your life easy for certain types of operations, namely simple CRUD operations.  You can load your model objects, present them, update them, delete them quite easily.  It makes your life easier because when you access your data, you get model objects back, on which you can write business logic.  If you use JDBC, you will have to &#39;hydrate&#39; your object instances from the data, which can be complicated and error-prone.\r\n\r\nORM is not always the best choice.  JPA is a tool for a job, if the tool is not sufficient for the job you will want to find a better tool.  For example, I had a scenario where I had to copy an entire object graph and save a new copy of those objects.  If I had used ORM (like I tried to do), I had to load all the objects out of the DB, then copy them, then save the new objects.  I took way too long.\r\n\r\nThe better solution was simply to use jdbc based operations and &#39;insert via select&#39; sql calls to create the new rows.  It was fast, the code was simpler. \r\n\r\nThe other thing to consider is that you are comfortable with JDBC, and have deadlines, you don&#39;t have to jump on the ORM bandwagon.  The Spring JdbcTemplate classes are extremely powerful and helpful.  Sometimes the best tool for the job is the one you know.  You should familiarize yourself with ORM, but not necessarily for a project with high expectations.  There is a lot to learn and its not trivial -- really you are trading one set of complexities with another in the choice to use jdbc vs orm.  \r\n","title":"JPA vs Spring JdbcTemplate","body":"<p>I agree with @Timo.  The only other insight I would add/expand upon is that ORM has different semantics from pure sql access to your data.</p>\n\n<p>The point of ORM is to abstract away the fact that your data is in a DB at all, as much as possible.  When you use ORM properly, all persistence operations are dealt with in one (hopefully) thin layer.  Your model objects will have little to no persistence code; the fact that you are using ORM should be invisible to your model.</p>\n\n<p>Because of this, ORM is very good at making your life easy for certain types of operations, namely simple CRUD operations.  You can load your model objects, present them, update them, delete them quite easily.  It makes your life easier because when you access your data, you get model objects back, on which you can write business logic.  If you use JDBC, you will have to 'hydrate' your object instances from the data, which can be complicated and error-prone.</p>\n\n<p>ORM is not always the best choice.  JPA is a tool for a job, if the tool is not sufficient for the job you will want to find a better tool.  For example, I had a scenario where I had to copy an entire object graph and save a new copy of those objects.  If I had used ORM (like I tried to do), I had to load all the objects out of the DB, then copy them, then save the new objects.  I took way too long.</p>\n\n<p>The better solution was simply to use jdbc based operations and 'insert via select' sql calls to create the new rows.  It was fast, the code was simpler. </p>\n\n<p>The other thing to consider is that you are comfortable with JDBC, and have deadlines, you don't have to jump on the ORM bandwagon.  The Spring JdbcTemplate classes are extremely powerful and helpful.  Sometimes the best tool for the job is the one you know.  You should familiarize yourself with ORM, but not necessarily for a project with high expectations.  There is a lot to learn and its not trivial -- really you are trading one set of complexities with another in the choice to use jdbc vs orm.  </p>\n"},{"tags":[],"owner":{"account_id":250135,"reputation":2497,"user_id":526664,"accept_rate":54,"display_name":"Jason"},"down_vote_count":0,"up_vote_count":99,"is_accepted":false,"score":99,"last_activity_date":1676905025,"creation_date":1311731375,"answer_id":6838617,"question_id":4573975,"body_markdown":"I&#39;m a bit late to this post, but I tend to use JdbcTemplate over ORM.  I know SQL (pretty well) and really don&#39;t want to be &quot;abstracted&quot; away from my DB.  I find most of the time, my apps are using DB views where I push most business logic up to.  I have properly layered DAOs that have JdbcTemplate implementations.  It feels &quot;clean&quot; and most boilerplate code is hidden by JdbcTemplate (and it&#39;s online documentation seems MUCH better then ORM stuff).  The limited time I&#39;ve used something like Hibernate, I found when it worked, it save me some time...but when it wasn&#39;t working properly, it cost me days of &quot;WTF&quot; debugging.  I&#39;ve never had to spend more then 20 minutes debugging JdbcTemplate DAO impls.  I think the key, as others noted, is how comfortable you are with SQL / Schema Design\r\n\r\nEDIT in 2023 - it&#39;s been a LONG time since I posted this original answer.  Tools around ORM have come a LONG way.  Spring Data and JPA are now standard and have sensible defaults.  I have come to appreciate having compilation safety when writing SQL.  I don&#39;t think it&#39;s a matter of wrong or right....they are both tools you should have in your tool belt","title":"JPA vs Spring JdbcTemplate","body":"<p>I'm a bit late to this post, but I tend to use JdbcTemplate over ORM.  I know SQL (pretty well) and really don't want to be &quot;abstracted&quot; away from my DB.  I find most of the time, my apps are using DB views where I push most business logic up to.  I have properly layered DAOs that have JdbcTemplate implementations.  It feels &quot;clean&quot; and most boilerplate code is hidden by JdbcTemplate (and it's online documentation seems MUCH better then ORM stuff).  The limited time I've used something like Hibernate, I found when it worked, it save me some time...but when it wasn't working properly, it cost me days of &quot;WTF&quot; debugging.  I've never had to spend more then 20 minutes debugging JdbcTemplate DAO impls.  I think the key, as others noted, is how comfortable you are with SQL / Schema Design</p>\n<p>EDIT in 2023 - it's been a LONG time since I posted this original answer.  Tools around ORM have come a LONG way.  Spring Data and JPA are now standard and have sensible defaults.  I have come to appreciate having compilation safety when writing SQL.  I don't think it's a matter of wrong or right....they are both tools you should have in your tool belt</p>\n"},{"tags":[],"owner":{"account_id":195439,"reputation":60906,"user_id":438319,"accept_rate":73,"display_name":"ams"},"down_vote_count":0,"up_vote_count":46,"is_accepted":false,"score":46,"last_activity_date":1580532225,"creation_date":1355525842,"answer_id":13887402,"question_id":4573975,"body_markdown":"It is not mentioned in the other answers but it is fine to use both. In my App I use JPA and JdbcTemplate, for crud type operations I use JPA but for reporting or where it is easier I use jdbcTemplate. \r\n\r\n    @Repository\r\n    public class FooRepository\r\n    {\r\n    \t@PersistenceContext\r\n    \tprivate EntityManager entityManager;\r\n    \r\n    \t@Autowired(required = true)\r\n    \tprivate JdbcTemplate jdbcTemplate;\r\n           \r\n        public void saveFoo(Foo foo)\r\n        {\r\n             this.entityManager.persist(foo);\r\n        }\r\n\r\n        public List&lt;SomeReportPojo&gt; getSomeReport()\r\n        {\r\n             return this.jdbcTemplate.queryForList(&quot;SELECT .. &quot;,SomeProjectPojo.class); \r\n        }\r\n    }\r\n\r\nThe great thing about Spring is that the exception translation from JPA exceptions to spring Dao exception hierarchy works with both JPA and jdbcTemplate. So use JPA when it makes sense and jdbcTemplate when it makes sense.","title":"JPA vs Spring JdbcTemplate","body":"<p>It is not mentioned in the other answers but it is fine to use both. In my App I use JPA and JdbcTemplate, for crud type operations I use JPA but for reporting or where it is easier I use jdbcTemplate. </p>\n\n<pre><code>@Repository\npublic class FooRepository\n{\n    @PersistenceContext\n    private EntityManager entityManager;\n\n    @Autowired(required = true)\n    private JdbcTemplate jdbcTemplate;\n\n    public void saveFoo(Foo foo)\n    {\n         this.entityManager.persist(foo);\n    }\n\n    public List&lt;SomeReportPojo&gt; getSomeReport()\n    {\n         return this.jdbcTemplate.queryForList(\"SELECT .. \",SomeProjectPojo.class); \n    }\n}\n</code></pre>\n\n<p>The great thing about Spring is that the exception translation from JPA exceptions to spring Dao exception hierarchy works with both JPA and jdbcTemplate. So use JPA when it makes sense and jdbcTemplate when it makes sense.</p>\n"},{"tags":[],"owner":{"account_id":3768313,"reputation":59,"user_id":3131171,"display_name":"user3131171"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1393045195,"creation_date":1393045195,"answer_id":21949916,"question_id":4573975,"body_markdown":"At work we use Hibernate JDBCTemplate because it has more flexibility. It also has better performance than JPA because you are not &quot;loading&quot; a lot of unnecessary data into your app.  \r\nIn the JDBCTemplate case, your SQL skills go a long way in giving you exactly what you need at the right speed.","title":"JPA vs Spring JdbcTemplate","body":"<p>At work we use Hibernate JDBCTemplate because it has more flexibility. It also has better performance than JPA because you are not \"loading\" a lot of unnecessary data into your app.<br>\nIn the JDBCTemplate case, your SQL skills go a long way in giving you exactly what you need at the right speed.</p>\n"}],"owner":{"account_id":75366,"reputation":16993,"user_id":216222,"display_name":"aem999"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104933,"favorite_count":0,"down_vote_count":1,"up_vote_count":109,"closed_date":1578675347,"accepted_answer_id":4574118,"answer_count":5,"score":108,"last_activity_date":1676905025,"creation_date":1293883104,"question_id":4573975,"body_markdown":"For a new project is JPA always the recommended tool for handling relational data or are there scenarios where Spring JdbcTemplate is a better choice? Some factors to consider in your response:\r\n\r\n - new database schema vs pre-existing schema and tables\r\n - level of developer expertise\r\n - ease with which can integrate with a data caching layer\r\n - performance\r\n - any other relevant factors to consider?\r\n\r\n \r\n\r\n\r\n\r\n","title":"JPA vs Spring JdbcTemplate","body":"<p>For a new project is JPA always the recommended tool for handling relational data or are there scenarios where Spring JdbcTemplate is a better choice? Some factors to consider in your response:</p>\n\n<ul>\n<li>new database schema vs pre-existing schema and tables</li>\n<li>level of developer expertise</li>\n<li>ease with which can integrate with a data caching layer</li>\n<li>performance</li>\n<li>any other relevant factors to consider?</li>\n</ul>\n"},{"tags":["java","pact"],"owner":{"account_id":19703482,"reputation":11,"user_id":14425727,"display_name":"Yucel C."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":471,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676904895,"creation_date":1646165615,"question_id":71314140,"body_markdown":"I&#39;m trying to write a simple pact test but I always get connection refused when I call the endpoint in runTest. It looks like PactProviderRuleMk2 can&#39;t do its job right.\r\n\r\n    public class ConsumerTestCurrencyExchange {\r\n\r\n\t@Rule\r\n\tpublic PactProviderRuleMk2 mockProvider = new PactProviderRuleMk2(&quot;forexService&quot;, &quot;localhost&quot;, 8003, this);\r\n\r\n\t@Pact(consumer = &quot;forexServiceClient&quot;)\r\n\tpublic RequestResponsePact createPact(PactDslWithProvider builder) {\r\n\t\tMap&lt;String, String&gt; headers = new HashMap&lt;String, String&gt;();\r\n\t\theaders.put(&quot;Content-Type&quot;, &quot;application/json;charset=UTF-8&quot;);\r\n\r\n\t\treturn builder\r\n\t\t\t\t.given(&quot;Test 1 For Currency Exchange&quot;)\r\n\t\t\t\t\t.uponReceiving(&quot;Pact JVM example Pact interaction&quot;)\r\n\t\t\t\t\t.path(&quot;/api/currency-exchange/from/USD/to/EUR&quot;)\r\n\t\t\t\t\t.method(&quot;GET&quot;)\r\n\t\t\t\t\t.headers(headers)\r\n\t\t\t\t.willRespondWith()\r\n\t\t\t\t\t.status(200)\r\n\t\t\t\t\t.headers(headers)\r\n\t\t\t\t\t.body(new PactDslJsonBody().stringType(&quot;conversionMultiple&quot;, &quot;2&quot;).asBody())\r\n\t\t\t\t.toPact();\r\n\t}\r\n\r\n\t@Test\r\n\t@PactVerification()\r\n\tpublic void runTest() throws IOException, JSONException {\r\n\t\tSystem.setProperty(&quot;pact.rootDir&quot;, &quot;../pacts&quot;);\r\n\t\t\r\n        // Connection refused here\r\n\t\tHttpResponse response = Request.Get(&quot;http://localhost:8003/api/currency-exchange/from/USD/to/EUR&quot;).execute().returnResponse();\r\n\t\t\r\n\t\t\r\n\t\tString json = EntityUtils.toString(response.getEntity());\r\n\t\tJSONObject jsonObject = new JSONObject(json);\r\n\t\tString conversionMultiple = jsonObject.get(&quot;conversionMultiple&quot;).toString();\r\n\r\n\t\tassertEquals(conversionMultiple, &quot;2&quot;);\r\n\t}}\r\n\r\n\r\n\r\nHere is the stack trace:\r\n\r\n    org.apache.http.conn.HttpHostConnectException: Connect to localhost:8003 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect\r\n\tat org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)\r\n\tat org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)\r\n\tat org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)\r\n\tat org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\r\n\tat org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)\r\n\tat org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)\r\n\tat org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\r\n\tat org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\r\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\r\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)\r\n\tat org.apache.http.client.fluent.Request.internalExecute(Request.java:173)\r\n\tat org.apache.http.client.fluent.Request.execute(Request.java:177)\r\n\r\nDependency:(I tried different versions but the result is same)\r\n\r\n    \t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;au.com.dius&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;pact-jvm-consumer-junit_2.12&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.5.10&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;","title":"Pact Consumer Test Connection Refused","body":"<p>I'm trying to write a simple pact test but I always get connection refused when I call the endpoint in runTest. It looks like PactProviderRuleMk2 can't do its job right.</p>\n<pre><code>public class ConsumerTestCurrencyExchange {\n\n@Rule\npublic PactProviderRuleMk2 mockProvider = new PactProviderRuleMk2(&quot;forexService&quot;, &quot;localhost&quot;, 8003, this);\n\n@Pact(consumer = &quot;forexServiceClient&quot;)\npublic RequestResponsePact createPact(PactDslWithProvider builder) {\n    Map&lt;String, String&gt; headers = new HashMap&lt;String, String&gt;();\n    headers.put(&quot;Content-Type&quot;, &quot;application/json;charset=UTF-8&quot;);\n\n    return builder\n            .given(&quot;Test 1 For Currency Exchange&quot;)\n                .uponReceiving(&quot;Pact JVM example Pact interaction&quot;)\n                .path(&quot;/api/currency-exchange/from/USD/to/EUR&quot;)\n                .method(&quot;GET&quot;)\n                .headers(headers)\n            .willRespondWith()\n                .status(200)\n                .headers(headers)\n                .body(new PactDslJsonBody().stringType(&quot;conversionMultiple&quot;, &quot;2&quot;).asBody())\n            .toPact();\n}\n\n@Test\n@PactVerification()\npublic void runTest() throws IOException, JSONException {\n    System.setProperty(&quot;pact.rootDir&quot;, &quot;../pacts&quot;);\n    \n    // Connection refused here\n    HttpResponse response = Request.Get(&quot;http://localhost:8003/api/currency-exchange/from/USD/to/EUR&quot;).execute().returnResponse();\n    \n    \n    String json = EntityUtils.toString(response.getEntity());\n    JSONObject jsonObject = new JSONObject(json);\n    String conversionMultiple = jsonObject.get(&quot;conversionMultiple&quot;).toString();\n\n    assertEquals(conversionMultiple, &quot;2&quot;);\n}}\n</code></pre>\n<p>Here is the stack trace:</p>\n<pre><code>org.apache.http.conn.HttpHostConnectException: Connect to localhost:8003 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect\nat org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)\nat org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)\nat org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)\nat org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\nat org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)\nat org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)\nat org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\nat org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\nat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\nat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)\nat org.apache.http.client.fluent.Request.internalExecute(Request.java:173)\nat org.apache.http.client.fluent.Request.execute(Request.java:177)\n</code></pre>\n<p>Dependency:(I tried different versions but the result is same)</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;au.com.dius&lt;/groupId&gt;\n        &lt;artifactId&gt;pact-jvm-consumer-junit_2.12&lt;/artifactId&gt;\n        &lt;version&gt;3.5.10&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":27805595,"reputation":23,"user_id":21236434,"display_name":"PewPew01"},"score":0,"creation_date":1676855711,"post_id":75504469,"comment_id":133215927,"body_markdown":"But please, answering this be patient, im kinda new to Java and Android and some short and simple explanation may just confuse me:)","body":"But please, answering this be patient, im kinda new to Java and Android and some short and simple explanation may just confuse me:)"},{"owner":{"account_id":24083930,"reputation":107,"user_id":18058213,"display_name":"Dilshad"},"score":0,"creation_date":1676867144,"post_id":75504469,"comment_id":133217208,"body_markdown":"what is the error message you see in log","body":"what is the error message you see in log"},{"owner":{"account_id":27805595,"reputation":23,"user_id":21236434,"display_name":"PewPew01"},"score":0,"creation_date":1676899347,"post_id":75504469,"comment_id":133224496,"body_markdown":"Null exception i guess","body":"Null exception i guess"},{"owner":{"account_id":24083930,"reputation":107,"user_id":18058213,"display_name":"Dilshad"},"score":0,"creation_date":1676902018,"post_id":75504469,"comment_id":133225317,"body_markdown":"guess?, sir please copy paste the error you see in Logcat","body":"guess?, sir please copy paste the error you see in Logcat"},{"owner":{"account_id":27805595,"reputation":23,"user_id":21236434,"display_name":"PewPew01"},"score":0,"creation_date":1676903782,"post_id":75504469,"comment_id":133225909,"body_markdown":"Was from phone, sorry. There is actual log item:\n`java.lang.SecurityException: Permission Denial: opening provider com.android.providers.media.MediaDocumentsProvider from ProcessRecord{ae0c997 11188:com.example.myapplication/u0a121} (pid=11188, uid=10121) requires that you obtain access using ACTION_OPEN_DOCUMENT or related APIs`\n\nSeems to be permission problem. Trying to work around, but still the same. \n\nInteresting thing - when i create my object first time and access virtual machine item (screenshot) - it works fine and opens on all entities, but on reload it crashes while try to open","body":"Was from phone, sorry. There is actual log item: <code>java.lang.SecurityException: Permission Denial: opening provider com.android.providers.media.MediaDocumentsProvider from ProcessRecord{ae0c997 11188:com.example.myapplication&#47;u0a121} (pid=11188, uid=10121) requires that you obtain access using ACTION_OPEN_DOCUMENT or related APIs</code>  Seems to be permission problem. Trying to work around, but still the same.   Interesting thing - when i create my object first time and access virtual machine item (screenshot) - it works fine and opens on all entities, but on reload it crashes while try to open"},{"owner":{"account_id":24083930,"reputation":107,"user_id":18058213,"display_name":"Dilshad"},"score":0,"creation_date":1676904655,"post_id":75504469,"comment_id":133226206,"body_markdown":"check out https://stackoverflow.com/questions/46916992/having-trouble-implementing-action-open-document-to-my-project","body":"check out <a href=\"https://stackoverflow.com/questions/46916992/having-trouble-implementing-action-open-document-to-my-project\" title=\"having trouble implementing action open document to my project\">stackoverflow.com/questions/46916992/&hellip;</a>"},{"owner":{"account_id":27805595,"reputation":23,"user_id":21236434,"display_name":"PewPew01"},"score":0,"creation_date":1676906060,"post_id":75504469,"comment_id":133226613,"body_markdown":"@Dilshad \nI&#39;ve checked this question and the solution were so close, but when i paste code it not works (some of the entities are cannot be loaded as classes, etc.). \n\nIm not understanding what intent is, what context is, etc. I&#39;m few days in android developement and trying to do some very common things, that becomes huge mess. \n\nHow do i ask user to give permissions? Is there any simple solution? Like for example when you first open an app - it asks for 5-6 permissions needed. Maybe you know the solution? Please :)","body":"@Dilshad  I&#39;ve checked this question and the solution were so close, but when i paste code it not works (some of the entities are cannot be loaded as classes, etc.).   Im not understanding what intent is, what context is, etc. I&#39;m few days in android developement and trying to do some very common things, that becomes huge mess.   How do i ask user to give permissions? Is there any simple solution? Like for example when you first open an app - it asks for 5-6 permissions needed. Maybe you know the solution? Please :)"},{"owner":{"account_id":24083930,"reputation":107,"user_id":18058213,"display_name":"Dilshad"},"score":0,"creation_date":1677033773,"post_id":75504469,"comment_id":133256207,"body_markdown":"if you are a beginner i would say you should move to Kotlin instead of Java and write UI in Jetpack Compose","body":"if you are a beginner i would say you should move to Kotlin instead of Java and write UI in Jetpack Compose"},{"owner":{"account_id":27805595,"reputation":23,"user_id":21236434,"display_name":"PewPew01"},"score":0,"creation_date":1677072661,"post_id":75504469,"comment_id":133264855,"body_markdown":"@Dilshad Kotlin have like 5% of the Java support. Java is widely represented in internet, every of my issues are already appear somewhere and solved. Kotlin has nothing of that. But thanks for advice.","body":"@Dilshad Kotlin have like 5% of the Java support. Java is widely represented in internet, every of my issues are already appear somewhere and solved. Kotlin has nothing of that. But thanks for advice."},{"owner":{"account_id":24083930,"reputation":107,"user_id":18058213,"display_name":"Dilshad"},"score":0,"creation_date":1677129504,"post_id":75504469,"comment_id":133277883,"body_markdown":"sorry for discussing off-topic from your question. Java is just older but Kotlin is way functional for android. I never felt lack of resources in internet for Kotlin in my journey. there is nothing wrong using java for android but your gonna miss lot of things especially writing UI in Compose and KMM.","body":"sorry for discussing off-topic from your question. Java is just older but Kotlin is way functional for android. I never felt lack of resources in internet for Kotlin in my journey. there is nothing wrong using java for android but your gonna miss lot of things especially writing UI in Compose and KMM."}],"owner":{"account_id":27805595,"reputation":23,"user_id":21236434,"display_name":"PewPew01"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":294,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676904874,"creation_date":1676855615,"question_id":75504469,"body_markdown":"Im trying to do the next:\r\n1. Find image from device and add it to programm (done!)\r\n2. Store image URI to string and save it to .txt file (done!)\r\n3. Extract URI from .txt file (done!)\r\n4. Open a dialog window to show the image on click - and there is a problem - i&#39;ve tryied everything i found on google and stack overflow - both methods does not work - drawable returns no image (drawable = null), and setImageURI crashes the application.\r\nDebugger shows something like that:\r\n\r\n`content://com.android.providers.media.documents/document/image%3A31`\r\n\r\ncode:\r\n```\r\n\r\npublic Dialog onCreateDialog(Bundle savedInstanceState) {\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());\r\n        LayoutInflater inflater = getActivity().getLayoutInflater();\r\n        View view = inflater.inflate(R.layout.pop_up_add_item, null);\r\n        final Button btn=view.findViewById(R.id.test);\r\n        imgg=view.findViewById(R.id.img);\r\n        String str_tooltip=getArguments().getString(&quot;Entity&quot;);\r\n        String main_str=getArguments().getString(&quot;Original&quot;);\r\n        String str_adress=getArguments().getString(&quot;Uri&quot;);\r\n        Uri uri = Uri.parse(str_adress);\r\n\r\n        //imgg.setI(uri);\r\n\r\n\r\n        if (str_adress!=null &amp; str_adress.length()&gt;0) {\r\n            final Uri uri1 = Uri.parse(str_adress);\r\n            //final String path = uri.getPath();\r\n            //File drawableFile = new     File(getApplicationContext().getFilesDir().getAbsolutePath()+&quot;/into11.png&quot;);\r\n            //final Drawable drawable = Drawable.createFromPath(path);\r\n\r\n            imgg.setImageURI(uri);\r\n\r\n        } \r\n```\r\n\r\n\r\nIs there any solution on this? Probably common problem? \r\n\r\n**UPDATE**\r\n\r\nAfter tried all the available options eventually (thanks to sir @Dilshad) i&#39;ve found that the trouble is caused by `java.lang.SecurityException: Permission Denial: opening provider com.android.providers.media.MediaDocumentsProvider from ProcessRecord{1a24ed9 11931:com.example.myapplication/u0a121} (pid=11931, uid=10121) requires that you obtain access using ACTION_OPEN_DOCUMENT or related APIs` --&gt; Permission issue. \r\n\r\nSo, trying to solve it i added:\r\n```\r\n &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; tools:ignore=&quot;ScopedStorage&quot;/&gt;\r\n```\r\nin AndroidManifest\r\n\r\nand \r\n`int result = ContextCompat.checkSelfPermission(takeThis, android.Manifest.permission.READ_EXTERNAL_STORAGE);`\r\nin the place in the code where the access begins.\r\n\r\nBut till the moment problem is not solved. \r\n","title":"Java.lang.SecurityException: Permission Denial - how to solve?","body":"<p>Im trying to do the next:</p>\n<ol>\n<li>Find image from device and add it to programm (done!)</li>\n<li>Store image URI to string and save it to .txt file (done!)</li>\n<li>Extract URI from .txt file (done!)</li>\n<li>Open a dialog window to show the image on click - and there is a problem - i've tryied everything i found on google and stack overflow - both methods does not work - drawable returns no image (drawable = null), and setImageURI crashes the application.\nDebugger shows something like that:</li>\n</ol>\n<p><code>content://com.android.providers.media.documents/document/image%3A31</code></p>\n<p>code:</p>\n<pre><code>\npublic Dialog onCreateDialog(Bundle savedInstanceState) {\n        AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());\n        LayoutInflater inflater = getActivity().getLayoutInflater();\n        View view = inflater.inflate(R.layout.pop_up_add_item, null);\n        final Button btn=view.findViewById(R.id.test);\n        imgg=view.findViewById(R.id.img);\n        String str_tooltip=getArguments().getString(&quot;Entity&quot;);\n        String main_str=getArguments().getString(&quot;Original&quot;);\n        String str_adress=getArguments().getString(&quot;Uri&quot;);\n        Uri uri = Uri.parse(str_adress);\n\n        //imgg.setI(uri);\n\n\n        if (str_adress!=null &amp; str_adress.length()&gt;0) {\n            final Uri uri1 = Uri.parse(str_adress);\n            //final String path = uri.getPath();\n            //File drawableFile = new     File(getApplicationContext().getFilesDir().getAbsolutePath()+&quot;/into11.png&quot;);\n            //final Drawable drawable = Drawable.createFromPath(path);\n\n            imgg.setImageURI(uri);\n\n        } \n</code></pre>\n<p>Is there any solution on this? Probably common problem?</p>\n<p><strong>UPDATE</strong></p>\n<p>After tried all the available options eventually (thanks to sir @Dilshad) i've found that the trouble is caused by <code>java.lang.SecurityException: Permission Denial: opening provider com.android.providers.media.MediaDocumentsProvider from ProcessRecord{1a24ed9 11931:com.example.myapplication/u0a121} (pid=11931, uid=10121) requires that you obtain access using ACTION_OPEN_DOCUMENT or related APIs</code> --&gt; Permission issue.</p>\n<p>So, trying to solve it i added:</p>\n<pre><code> &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; tools:ignore=&quot;ScopedStorage&quot;/&gt;\n</code></pre>\n<p>in AndroidManifest</p>\n<p>and\n<code>int result = ContextCompat.checkSelfPermission(takeThis, android.Manifest.permission.READ_EXTERNAL_STORAGE);</code>\nin the place in the code where the access begins.</p>\n<p>But till the moment problem is not solved.</p>\n"},{"tags":["java","spring","jackson","quarkus","jsonb-api"],"answers":[{"tags":[],"owner":{"account_id":23718674,"reputation":11,"user_id":17739504,"display_name":"Matteo Aliffi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640167740,"creation_date":1640167740,"answer_id":70447343,"question_id":63726364,"body_markdown":"Quarkus supports usage of JsonViews to manage the serialization/deserialization of request/response.\r\n\r\n(Just to let you know, sadly it&#39;s not supported (yet) by smallry-openapi implementation, so even if the serialization would work, you&#39;ll still see the full model in swagger.)\r\n\r\nAn example of usage, taken from official guide https://quarkus.io/guides/resteasy-reactive#jsonview-support:\r\n\r\nJAX-RS methods can be annotated with `@JsonView` in order to customize the serialization of the returned POJO, on a per method-basis. This is best explained with an example.\r\n\r\nA typical use of `@JsonView` is to hide certain fields on certain methods. In that vein, lets define two views:\r\n\r\n```java\r\npublic class Views {\r\n\r\n    public static class Public {\r\n    }\r\n\r\n    public static class Private extends Public {\r\n    }\r\n}\r\n```\r\nLets assume we have the User POJO on which we want to hide some field during serialization. A simple example of this is:\r\n\r\n```java\r\npublic class User {\r\n\r\n    @JsonView(Views.Private.class)\r\n    public int id;\r\n\r\n    @JsonView(Views.Public.class)\r\n    public String name;\r\n}\r\n```\r\nDepending on the JAX-RS method that returns this user, we might want to exclude the id field from serialization - for example you might want an insecure method to not expose this field. The way we can achieve that in RESTEasy Reactive is shown in the following example:\r\n\r\n```java\r\n@JsonView(Views.Public.class)\r\n@GET\r\n@Path(&quot;/public&quot;)\r\npublic User userPublic() {\r\n    return testUser();\r\n}\r\n\r\n@JsonView(Views.Private.class)\r\n@GET\r\n@Path(&quot;/private&quot;)\r\npublic User userPrivate() {\r\n    return testUser();\r\n}\r\n```\r\nWhen the result the userPublic method is serialized, the id field will not be contained in the response as the Public view does not include it. The result of userPrivate however will include the id as expected when serialized.\r\n\r\n","title":"Is there an equivalent of Jackson + Spring&#39;s `@JsonView` using Quarkus + JSONB?","body":"<p>Quarkus supports usage of JsonViews to manage the serialization/deserialization of request/response.</p>\n<p>(Just to let you know, sadly it's not supported (yet) by smallry-openapi implementation, so even if the serialization would work, you'll still see the full model in swagger.)</p>\n<p>An example of usage, taken from official guide <a href=\"https://quarkus.io/guides/resteasy-reactive#jsonview-support\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/resteasy-reactive#jsonview-support</a>:</p>\n<p>JAX-RS methods can be annotated with <code>@JsonView</code> in order to customize the serialization of the returned POJO, on a per method-basis. This is best explained with an example.</p>\n<p>A typical use of <code>@JsonView</code> is to hide certain fields on certain methods. In that vein, lets define two views:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Views {\n\n    public static class Public {\n    }\n\n    public static class Private extends Public {\n    }\n}\n</code></pre>\n<p>Lets assume we have the User POJO on which we want to hide some field during serialization. A simple example of this is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class User {\n\n    @JsonView(Views.Private.class)\n    public int id;\n\n    @JsonView(Views.Public.class)\n    public String name;\n}\n</code></pre>\n<p>Depending on the JAX-RS method that returns this user, we might want to exclude the id field from serialization - for example you might want an insecure method to not expose this field. The way we can achieve that in RESTEasy Reactive is shown in the following example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonView(Views.Public.class)\n@GET\n@Path(&quot;/public&quot;)\npublic User userPublic() {\n    return testUser();\n}\n\n@JsonView(Views.Private.class)\n@GET\n@Path(&quot;/private&quot;)\npublic User userPrivate() {\n    return testUser();\n}\n</code></pre>\n<p>When the result the userPublic method is serialized, the id field will not be contained in the response as the Public view does not include it. The result of userPrivate however will include the id as expected when serialized.</p>\n"},{"tags":[],"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676904270,"creation_date":1676904270,"answer_id":75510718,"question_id":63726364,"body_markdown":"Have you checked `@JsonbVisibility` or &quot;Jsonb adapter&quot; part in \r\n https://javaee.github.io/jsonb-spec/users-guide.html  annotation from Jsonb? I am afraid maybe there isn&#39;t a solution in Jsonb yet like `@JsonView` in Jackson. Jsonb adapter is configuration at bean level(you choose the Jsonb instance when you (de)serialize), not at view level.  ","title":"Is there an equivalent of Jackson + Spring&#39;s `@JsonView` using Quarkus + JSONB?","body":"<p>Have you checked <code>@JsonbVisibility</code> or &quot;Jsonb adapter&quot; part in\n<a href=\"https://javaee.github.io/jsonb-spec/users-guide.html\" rel=\"nofollow noreferrer\">https://javaee.github.io/jsonb-spec/users-guide.html</a>  annotation from Jsonb? I am afraid maybe there isn't a solution in Jsonb yet like <code>@JsonView</code> in Jackson. Jsonb adapter is configuration at bean level(you choose the Jsonb instance when you (de)serialize), not at view level.</p>\n"}],"owner":{"account_id":1096096,"reputation":745,"user_id":1089668,"accept_rate":60,"display_name":"zambotn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":535,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75510718,"answer_count":2,"score":1,"last_activity_date":1676904270,"creation_date":1599145246,"question_id":63726364,"body_markdown":"I&#39;m playing with Quarkus and trying to build a CRUD REST application; I&#39;m trying to get 2 endpoints returning 2 different views of the same entities. Here is an example on how I would have done in Spring + Jackson:\r\n\r\n    @Entity\r\n    public class Car{\r\n      public String model;\r\n      @ManyToOne( fetch = FetchType.LAZY, cascade = {CascadeType.ALL})\r\n      public Owner owner;\r\n      // [...]\r\n    }\r\n    \r\n    @Entity\r\n    public class Owner{\r\n      public String name;\r\n      // [...]\r\n    }\r\n\r\n**Here it is the important part:** now if I were using Jackson I would have create a `CarView` class:\r\n\r\n    public class CarView {\r\n      public static class Public {};\r\n      public static class Private extends Public {};\r\n    }\r\n\r\nAnd with that I would have annotated `Car.model` with `@JsonView(CarView.Public.class)` and `Car.owner` with `@JsonView(CarView.Private.class)` and then just annotate with the same annotations my methods in the REST controller in order to tell Jackson which view I want to use:\r\n\r\n    @RequestMapping(&quot;/car/{id}&quot;)\r\n    @JsonView(CarView.Public.class)\r\n    public Car getPublic(@PathVariable int id) { /*...*/ }\r\n    \r\n    @RequestMapping(&quot;/car/private/{id}&quot;)\r\n    @JsonView(CarView.Private.class)\r\n    public Car getPrivate(@PathVariable int id) { /*...*/ }\r\n\r\nCan I accomplish the same result using Quarkus &amp; JSON-B?","title":"Is there an equivalent of Jackson + Spring&#39;s `@JsonView` using Quarkus + JSONB?","body":"<p>I'm playing with Quarkus and trying to build a CRUD REST application; I'm trying to get 2 endpoints returning 2 different views of the same entities. Here is an example on how I would have done in Spring + Jackson:</p>\n<pre><code>@Entity\npublic class Car{\n  public String model;\n  @ManyToOne( fetch = FetchType.LAZY, cascade = {CascadeType.ALL})\n  public Owner owner;\n  // [...]\n}\n\n@Entity\npublic class Owner{\n  public String name;\n  // [...]\n}\n</code></pre>\n<p><strong>Here it is the important part:</strong> now if I were using Jackson I would have create a <code>CarView</code> class:</p>\n<pre><code>public class CarView {\n  public static class Public {};\n  public static class Private extends Public {};\n}\n</code></pre>\n<p>And with that I would have annotated <code>Car.model</code> with <code>@JsonView(CarView.Public.class)</code> and <code>Car.owner</code> with <code>@JsonView(CarView.Private.class)</code> and then just annotate with the same annotations my methods in the REST controller in order to tell Jackson which view I want to use:</p>\n<pre><code>@RequestMapping(&quot;/car/{id}&quot;)\n@JsonView(CarView.Public.class)\npublic Car getPublic(@PathVariable int id) { /*...*/ }\n\n@RequestMapping(&quot;/car/private/{id}&quot;)\n@JsonView(CarView.Private.class)\npublic Car getPrivate(@PathVariable int id) { /*...*/ }\n</code></pre>\n<p>Can I accomplish the same result using Quarkus &amp; JSON-B?</p>\n"},{"tags":["java","spring","runtime-error","vaadin","jrebel"],"comments":[{"owner":{"account_id":19520479,"reputation":76,"user_id":14282486,"display_name":"Jonathan"},"score":0,"creation_date":1676905247,"post_id":75510698,"comment_id":133226391,"body_markdown":"Have you tried running in in another IDE like Eclipse? And what happens if you reinstall Intellij?","body":"Have you tried running in in another IDE like Eclipse? And what happens if you reinstall Intellij?"},{"owner":{"account_id":3837378,"reputation":35463,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1676905992,"post_id":75510698,"comment_id":133226595,"body_markdown":"What _exactly_ do you mean by &quot;web program&quot;.  Are you talking about code\nthat resides usually in the frontend folder (e.g. js/ts/...) or code on\nthe JVM side (e.g. java/...)? What build tool are you using, how do you\nrecompile.  Have you tried removing elements of the equation?  What\nhappens when you compile/run the application from the CLI (outside of\nIDEA)?  Does the used build tool allow to ramp up logging (e.g. `gradle\n-d` shows excessive debug logging). When you say you _looked_ at the\nchanges in git, have you actually tried to `git bisect`?","body":"What <i>exactly</i> do you mean by &quot;web program&quot;.  Are you talking about code that resides usually in the frontend folder (e.g. js/ts/...) or code on the JVM side (e.g. java/...)? What build tool are you using, how do you recompile.  Have you tried removing elements of the equation?  What happens when you compile/run the application from the CLI (outside of IDEA)?  Does the used build tool allow to ramp up logging (e.g. <code>gradle -d</code> shows excessive debug logging). When you say you <i>looked</i> at the changes in git, have you actually tried to <code>git bisect</code>?"},{"owner":{"account_id":27518510,"reputation":91,"user_id":20999057,"display_name":"Ji Lin"},"score":0,"creation_date":1676961092,"post_id":75510698,"comment_id":133236997,"body_markdown":"Im using Vaadin to build web programs without javascript or HTML, moreover only with java. Vaadin automatically compiles the code from java in javascript and HTML, so i only have to code on the JVM side. I use JRebel to build the program, but if i deactivate it, it also doesnt work. I already tried to remove all changes since the last commit, but it still doesnt work.","body":"Im using Vaadin to build web programs without javascript or HTML, moreover only with java. Vaadin automatically compiles the code from java in javascript and HTML, so i only have to code on the JVM side. I use JRebel to build the program, but if i deactivate it, it also doesnt work. I already tried to remove all changes since the last commit, but it still doesnt work."}],"owner":{"account_id":27518510,"reputation":91,"user_id":20999057,"display_name":"Ji Lin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1676904114,"creation_date":1676904114,"question_id":75510698,"body_markdown":"Im using Intellij, Vaadin, Spring and JRebel.\r\n\r\nI didnt made any changes on my program, but since today my program doesnt work normal anymore. If i try to make any code changes through IntelliJ, normally, JRebel is going to refresh the Website automatically, but since today there is no refresh anymore. If i try to restart the Program, the Website looks just the same like before the code changes, i dont know why, but dont matter what i change, even if i delete all the code and restart the program, its working, but only with the older version and without any changes.\r\nI already tried to delete the &quot;generated&quot; and &quot;node_modules&quot; file, restart the PC, invalidating the caches, restarting the IDE or using the program without JRebel, but no matter what i do, i dont get any changes on the webprogramm, it seems like the file is frozen and Intellij doenst do any code changes to it, if i change the code.\r\nI updated IntelliJ to the newest version, but it still doesnt work and i dont have any idea now.\r\n\r\nSome Weird things happened:&lt;br&gt;\r\nIf i change the code, so there is an Error in the code and i recompile and restart the program, the terminal doesnt show any error.&lt;br&gt;\r\nIf i delete the generated and the node_modules file and restart the program, then oddly, all code changes are applied, but only one time. If i try to make any code changes, there is no change at all, only if i delete the files.&lt;br&gt;\r\nIf i make code changes and save them and then restart the pc, there is no change after restart the programm, like the program is locked on a special version and any code change on it, even when saving, doesnt get applied.\r\n\r\nDoes anybody have the same problem or any idea how i can fix this?\r\nI use git and looked up, if i made any changes, which can impair the program, but i dindt find any.\r\n","title":"Changes in Intellij doesnt have any affect on the web program","body":"<p>Im using Intellij, Vaadin, Spring and JRebel.</p>\n<p>I didnt made any changes on my program, but since today my program doesnt work normal anymore. If i try to make any code changes through IntelliJ, normally, JRebel is going to refresh the Website automatically, but since today there is no refresh anymore. If i try to restart the Program, the Website looks just the same like before the code changes, i dont know why, but dont matter what i change, even if i delete all the code and restart the program, its working, but only with the older version and without any changes.\nI already tried to delete the &quot;generated&quot; and &quot;node_modules&quot; file, restart the PC, invalidating the caches, restarting the IDE or using the program without JRebel, but no matter what i do, i dont get any changes on the webprogramm, it seems like the file is frozen and Intellij doenst do any code changes to it, if i change the code.\nI updated IntelliJ to the newest version, but it still doesnt work and i dont have any idea now.</p>\n<p>Some Weird things happened:<br>\nIf i change the code, so there is an Error in the code and i recompile and restart the program, the terminal doesnt show any error.<br>\nIf i delete the generated and the node_modules file and restart the program, then oddly, all code changes are applied, but only one time. If i try to make any code changes, there is no change at all, only if i delete the files.<br>\nIf i make code changes and save them and then restart the pc, there is no change after restart the programm, like the program is locked on a special version and any code change on it, even when saving, doesnt get applied.</p>\n<p>Does anybody have the same problem or any idea how i can fix this?\nI use git and looked up, if i made any changes, which can impair the program, but i dindt find any.</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1676904262,"post_id":75510686,"comment_id":133226066,"body_markdown":"Nope. https://www.jetbrains.com/help/idea/working-with-the-ide-features-from-command-line.html#arguments Absolute path only","body":"Nope. <a href=\"https://www.jetbrains.com/help/idea/working-with-the-ide-features-from-command-line.html#arguments\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/&hellip;</a> Absolute path only"},{"owner":{"account_id":27560193,"reputation":491,"user_id":21033369,"display_name":"LJ replica"},"score":0,"creation_date":1676949763,"post_id":75510686,"comment_id":133235490,"body_markdown":"No, you may try the [Searching Everywhere](https://www.jetbrains.com/help/idea/searching-everywhere.html) in IDEA for your use case. @Michael Relative path should be ok here too (e.g. `idea64.exe sample.txt`).","body":"No, you may try the <a href=\"https://www.jetbrains.com/help/idea/searching-everywhere.html\" rel=\"nofollow noreferrer\">Searching Everywhere</a> in IDEA for your use case. @Michael Relative path should be ok here too (e.g. <code>idea64.exe sample.txt</code>)."},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1676968072,"post_id":75510686,"comment_id":133238568,"body_markdown":"@LJreplica He specifically wants from the command line so linking to a feature that&#39;s unrelated to the command line is not helpful","body":"@LJreplica He specifically wants from the command line so linking to a feature that&#39;s unrelated to the command line is not helpful"}],"owner":{"account_id":321078,"reputation":15468,"user_id":639687,"accept_rate":69,"display_name":"czerny"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676904013,"creation_date":1676904013,"question_id":75510686,"body_markdown":"Is it possible to open a Java source file in IntelliJ Idea from command line by its class name (simple or qualified) as part of already opened project?\r\n\r\nWhen `idea64.exe --help` is run, following dialog pops up:\r\n\r\n[![Idea command line options popup][1]][1]\r\n\r\nIt doesn&#39;t mention any option for opening by a class name.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DTtpw.png","title":"How to open a Java file by a class name from command line?","body":"<p>Is it possible to open a Java source file in IntelliJ Idea from command line by its class name (simple or qualified) as part of already opened project?</p>\n<p>When <code>idea64.exe --help</code> is run, following dialog pops up:</p>\n<p><a href=\"https://i.stack.imgur.com/DTtpw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DTtpw.png\" alt=\"Idea command line options popup\" /></a></p>\n<p>It doesn't mention any option for opening by a class name.</p>\n"},{"tags":["java","spring","spring-boot","oauth-2.0"],"owner":{"account_id":22565756,"reputation":185,"user_id":16752809,"display_name":"gs97ahn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676903883,"creation_date":1676903883,"question_id":75510650,"body_markdown":"Currently, the client team will be implemting Apple&#39;s OAuth Login and receive the OAuth token(I think Apple uses the naming &quot;Identity Token&quot;). With this token, I need to authenticate the token from Apple&#39;s server and receive information about this token in JSON.\r\n\r\nI want to know if there is a way to send a Apple OAuth token to a specific URL and authenticate it like how I implemented it for Google OAuth which is below.\r\n\r\n```java\r\n    public String verifyGoogle(String token) {\r\n\r\n        if (token == null || token.equals(&quot;&quot;))\r\n            throw new CustomException(TOKEN_REQUIRED_FAIL);\r\n\r\n        String googleUrl = &quot;https://www.googleapis.com/oauth2/v3/userinfo&quot;;\r\n        String authId = null;\r\n        try {\r\n            URL url = new URL(googleUrl);\r\n\r\n            HttpsURLConnection http = (HttpsURLConnection) url.openConnection();\r\n            http.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\r\n            http.setRequestProperty(&quot;Authorization&quot;, token);\r\n            http.setRequestMethod(&quot;GET&quot;);\r\n            http.connect();\r\n\r\n            if (http.getResponseCode() != 200)\r\n                throw new CustomException(OAUTH_FAIL);\r\n\r\n            StringBuilder sb = new StringBuilder();\r\n            InputStreamReader in = new InputStreamReader(http.getInputStream(), StandardCharsets.UTF_8);\r\n            BufferedReader br = new BufferedReader(in);\r\n            String line = null;\r\n            while((line = br.readLine()) != null) {\r\n                sb.append(line).append(&quot;\\n&quot;);\r\n            }\r\n\r\n            JSONParser parser = new JSONParser();\r\n            JSONObject jsonObject = (JSONObject) parser.parse(sb.toString());\r\n            authId = jsonObject.get(&quot;sub&quot;).toString();\r\n\r\n            http.disconnect();\r\n\r\n        }catch (IOException | ParseException e) {\r\n            throw new CustomException(SERVER_ERROR);\r\n        }\r\n        return authId;\r\n    }\r\n```","title":"Is there a way to authorize and receive info of an Apple&#39;s OAuth token from Spring Boot?","body":"<p>Currently, the client team will be implemting Apple's OAuth Login and receive the OAuth token(I think Apple uses the naming &quot;Identity Token&quot;). With this token, I need to authenticate the token from Apple's server and receive information about this token in JSON.</p>\n<p>I want to know if there is a way to send a Apple OAuth token to a specific URL and authenticate it like how I implemented it for Google OAuth which is below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public String verifyGoogle(String token) {\n\n        if (token == null || token.equals(&quot;&quot;))\n            throw new CustomException(TOKEN_REQUIRED_FAIL);\n\n        String googleUrl = &quot;https://www.googleapis.com/oauth2/v3/userinfo&quot;;\n        String authId = null;\n        try {\n            URL url = new URL(googleUrl);\n\n            HttpsURLConnection http = (HttpsURLConnection) url.openConnection();\n            http.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\n            http.setRequestProperty(&quot;Authorization&quot;, token);\n            http.setRequestMethod(&quot;GET&quot;);\n            http.connect();\n\n            if (http.getResponseCode() != 200)\n                throw new CustomException(OAUTH_FAIL);\n\n            StringBuilder sb = new StringBuilder();\n            InputStreamReader in = new InputStreamReader(http.getInputStream(), StandardCharsets.UTF_8);\n            BufferedReader br = new BufferedReader(in);\n            String line = null;\n            while((line = br.readLine()) != null) {\n                sb.append(line).append(&quot;\\n&quot;);\n            }\n\n            JSONParser parser = new JSONParser();\n            JSONObject jsonObject = (JSONObject) parser.parse(sb.toString());\n            authId = jsonObject.get(&quot;sub&quot;).toString();\n\n            http.disconnect();\n\n        }catch (IOException | ParseException e) {\n            throw new CustomException(SERVER_ERROR);\n        }\n        return authId;\n    }\n</code></pre>\n"},{"tags":["java","json"],"answers":[{"tags":[],"owner":{"account_id":4629453,"reputation":1655,"user_id":3752374,"accept_rate":50,"display_name":"dguay"},"down_vote_count":0,"up_vote_count":73,"is_accepted":false,"score":73,"last_activity_date":1445260982,"creation_date":1445260982,"answer_id":33215597,"question_id":33215539,"body_markdown":"Seems like you can&#39;t iterate through `JSONArray` with a `for each`. You can loop through your `JSONArray` like this:\r\n\r\n    for (int i=0; i &lt; arr.length(); i++) {\r\n        arr.getJSONObject(i);\r\n    }\r\n\r\n[Source](https://stackoverflow.com/questions/4784874/is-it-possible-to-iterate-through-jsonarray)","title":"Foreach with JSONArray and JSONObject","body":"<p>Seems like you can't iterate through <code>JSONArray</code> with a <code>for each</code>. You can loop through your <code>JSONArray</code> like this:</p>\n\n<pre><code>for (int i=0; i &lt; arr.length(); i++) {\n    arr.getJSONObject(i);\n}\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/questions/4784874/is-it-possible-to-iterate-through-jsonarray\">Source</a></p>\n"},{"tags":[],"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"down_vote_count":0,"up_vote_count":52,"is_accepted":true,"score":52,"last_activity_date":1445261529,"creation_date":1445261529,"answer_id":33215802,"question_id":33215539,"body_markdown":"Apparently, `org.json.simple.JSONArray` implements a *raw* Iterator. This means that each element is considered to be an `Object`. You can try to cast:\r\n\r\n    for(Object o: arr){\r\n        if ( o instanceof JSONObject ) {\r\n            parse((JSONObject)o);\r\n        }\r\n    }\r\n\r\nThis is how things were done back in Java 1.4 and earlier.","title":"Foreach with JSONArray and JSONObject","body":"<p>Apparently, <code>org.json.simple.JSONArray</code> implements a <em>raw</em> Iterator. This means that each element is considered to be an <code>Object</code>. You can try to cast:</p>\n\n<pre><code>for(Object o: arr){\n    if ( o instanceof JSONObject ) {\n        parse((JSONObject)o);\n    }\n}\n</code></pre>\n\n<p>This is how things were done back in Java 1.4 and earlier.</p>\n"},{"tags":[],"owner":{"account_id":1013194,"reputation":6637,"user_id":1025328,"accept_rate":89,"display_name":"Prasad Khode"},"down_vote_count":2,"up_vote_count":41,"is_accepted":false,"score":39,"last_activity_date":1576909466,"creation_date":1482840724,"answer_id":41344980,"question_id":33215539,"body_markdown":"Make sure you are using this org.json:\r\nhttps://mvnrepository.com/artifact/org.json/json\r\n\r\nif you are using Java 8 then you can use\r\n\r\n    import org.json.JSONArray;\r\n    import org.json.JSONObject;\r\n\r\n    JSONArray array = ...;\r\n    \r\n    array.forEach(item -&gt; {\r\n        JSONObject obj = (JSONObject) item;\r\n        parse(obj);\r\n    });\r\n\r\n\r\n**Just added a simple test to prove that it works:**\r\n\r\nAdd the following dependency into your `pom.xml` file (To prove that it works, I have used the old jar which was there when I have posted this answer)\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n        &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n        &lt;version&gt;20160810&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd the simple test code snippet will be:\r\n\r\n    import org.json.JSONArray;\r\n    import org.json.JSONObject;\r\n    \r\n    public class Test {\r\n        public static void main(String args[]) {\r\n            JSONArray array = new JSONArray();\r\n    \r\n            JSONObject object = new JSONObject();\r\n            object.put(&quot;key1&quot;, &quot;value1&quot;);\r\n    \r\n            array.put(object);\r\n    \r\n            array.forEach(item -&gt; {\r\n                System.out.println(item.toString());\r\n            });\r\n        }\r\n    }\r\n\r\noutput:\r\n\r\n    {&quot;key1&quot;:&quot;value1&quot;}","title":"Foreach with JSONArray and JSONObject","body":"<p>Make sure you are using this org.json:\n<a href=\"https://mvnrepository.com/artifact/org.json/json\" rel=\"noreferrer\">https://mvnrepository.com/artifact/org.json/json</a></p>\n\n<p>if you are using Java 8 then you can use</p>\n\n<pre><code>import org.json.JSONArray;\nimport org.json.JSONObject;\n\nJSONArray array = ...;\n\narray.forEach(item -&gt; {\n    JSONObject obj = (JSONObject) item;\n    parse(obj);\n});\n</code></pre>\n\n<p><strong>Just added a simple test to prove that it works:</strong></p>\n\n<p>Add the following dependency into your <code>pom.xml</code> file (To prove that it works, I have used the old jar which was there when I have posted this answer)</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.json&lt;/groupId&gt;\n    &lt;artifactId&gt;json&lt;/artifactId&gt;\n    &lt;version&gt;20160810&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>And the simple test code snippet will be:</p>\n\n<pre><code>import org.json.JSONArray;\nimport org.json.JSONObject;\n\npublic class Test {\n    public static void main(String args[]) {\n        JSONArray array = new JSONArray();\n\n        JSONObject object = new JSONObject();\n        object.put(\"key1\", \"value1\");\n\n        array.put(object);\n\n        array.forEach(item -&gt; {\n            System.out.println(item.toString());\n        });\n    }\n}\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>{\"key1\":\"value1\"}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21889654,"reputation":168,"user_id":16176812,"display_name":"Sivaraman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659947725,"creation_date":1626023688,"answer_id":68338418,"question_id":33215539,"body_markdown":"* Inside the ***for*** loop, you can simply typecast `Object` to `JSONObject` and access the values.\r\n\r\nEg:\r\n   \r\n\r\n        JSONArray myJSONArray = [...Some JSONObjects Here...];\r\n\r\n        for (Object myObject : myJSONArray) {\r\n\r\n            //If you want to get JSONObject\r\n            JSONObject myJSONObject = (JSONObject) myObject;\r\n\r\n            //If you want to access JSONObject&#39;s values\r\n            long number     = myJSONObject.getLong(&quot;myNum&quot;);\r\n            String myString = myJSONObject.getString(&quot;myStr&quot;);\r\n        }\r\n\r\n    ","title":"Foreach with JSONArray and JSONObject","body":"<ul>\n<li>Inside the <em><strong>for</strong></em> loop, you can simply typecast <code>Object</code> to <code>JSONObject</code> and access the values.</li>\n</ul>\n<p>Eg:</p>\n<pre><code>    JSONArray myJSONArray = [...Some JSONObjects Here...];\n\n    for (Object myObject : myJSONArray) {\n\n        //If you want to get JSONObject\n        JSONObject myJSONObject = (JSONObject) myObject;\n\n        //If you want to access JSONObject's values\n        long number     = myJSONObject.getLong(&quot;myNum&quot;);\n        String myString = myJSONObject.getString(&quot;myStr&quot;);\n    }\n</code></pre>\n"}],"owner":{"account_id":2997882,"reputation":10322,"user_id":2544036,"accept_rate":78,"display_name":"Jacobian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":249803,"favorite_count":0,"down_vote_count":0,"up_vote_count":47,"accepted_answer_id":33215802,"answer_count":4,"score":47,"last_activity_date":1676903833,"creation_date":1445260797,"question_id":33215539,"body_markdown":"I&#39;m using `org.json.simple.JSONArray` and `org.json.simple.JSONObject`. I know that these two classes `JSONArray` and `JSONObject` are incompatible, but still I want to do quite a natural thing - I want to for-each over `JSONArray` parsing at each iteration step one `JSONObject` (nested inside that `JSONArray`). I try to do it like so:\r\n\r\n    JSONArray arr = ...; // &lt;-- got by some procedure\r\n    for(JSONObject o: arr){\r\n        parse(o);\r\n    }\r\n\r\nWhen I try to compile this code, indeed I get &quot;incompatible types&quot; error, even though it looks so natural. So, my question is what is the best way to iterate through `JSONArray`?","title":"Foreach with JSONArray and JSONObject","body":"<p>I'm using <code>org.json.simple.JSONArray</code> and <code>org.json.simple.JSONObject</code>. I know that these two classes <code>JSONArray</code> and <code>JSONObject</code> are incompatible, but still I want to do quite a natural thing - I want to for-each over <code>JSONArray</code> parsing at each iteration step one <code>JSONObject</code> (nested inside that <code>JSONArray</code>). I try to do it like so:</p>\n\n<pre><code>JSONArray arr = ...; // &lt;-- got by some procedure\nfor(JSONObject o: arr){\n    parse(o);\n}\n</code></pre>\n\n<p>When I try to compile this code, indeed I get \"incompatible types\" error, even though it looks so natural. So, my question is what is the best way to iterate through <code>JSONArray</code>?</p>\n"},{"tags":["javascript","java","automation","selenium-chromedriver","webautomation"],"answers":[{"tags":[],"owner":{"account_id":21435240,"reputation":36,"user_id":15790813,"display_name":"TheDarven"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676903796,"creation_date":1676903796,"answer_id":75510633,"question_id":75424574,"body_markdown":"If you try to select the radio button, you should use the following code :\r\n\r\n    WebElement rvbtn = driver.findElement(By.name(&quot;inputValue&quot;));\r\n    rvbtn.click();\r\n\r\nYou used the **value** attribute instead of the **name** attribute inside your **By.name** selector.\r\n","title":"Select element by id from the dom, using Java., the element tag is not visible on the inspect","body":"<p>If you try to select the radio button, you should use the following code :</p>\n<pre><code>WebElement rvbtn = driver.findElement(By.name(&quot;inputValue&quot;));\nrvbtn.click();\n</code></pre>\n<p>You used the <strong>value</strong> attribute instead of the <strong>name</strong> attribute inside your <strong>By.name</strong> selector.</p>\n"}],"owner":{"account_id":27763915,"reputation":1,"user_id":21195714,"display_name":"Paras Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676903796,"creation_date":1676168973,"question_id":75424574,"body_markdown":"[1]:https://i.stack.imgur.com/jRVYt.png\r\n\r\n![1]\r\n\r\n\r\n\r\nI tried the below code but the button wasn&#39;t selected.\r\n\r\n    WebElement rvbtn = driver.findElement(By.name(&quot;rv&quot;));\r\n    rvbtn.click();","title":"Select element by id from the dom, using Java., the element tag is not visible on the inspect","body":"<p><img src=\"https://i.stack.imgur.com/jRVYt.png\" alt=\"1\" /></p>\n<p>I tried the below code but the button wasn't selected.</p>\n<pre><code>WebElement rvbtn = driver.findElement(By.name(&quot;rv&quot;));\nrvbtn.click();\n</code></pre>\n"},{"tags":["java","spring-boot","liquibase"],"comments":[{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1676904131,"post_id":75510595,"comment_id":133226027,"body_markdown":"Where on the filesystem is your `db-changelog-master.xml` file and how are you running the application?\n\nA [minimal, reproducible example](/help/mcve) would make this question much easier to answer.","body":"Where on the filesystem is your <code>db-changelog-master.xml</code> file and how are you running the application?  A <a href=\"/help/mcve\">minimal, reproducible example</a> would make this question much easier to answer."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1676904388,"post_id":75510595,"comment_id":133226112,"body_markdown":"@AndyWilkinson db-changelog-master.xml is under db/changelog","body":"@AndyWilkinson db-changelog-master.xml is under db/changelog"},{"owner":{"account_id":21083132,"reputation":3230,"user_id":15496965,"display_name":"Henning"},"score":0,"creation_date":1676933852,"post_id":75510595,"comment_id":133233521,"body_markdown":"Does this answer your question? [changelog directory not found after spring boot 3 upgrade](https://stackoverflow.com/questions/75059387/changelog-directory-not-found-after-spring-boot-3-upgrade)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/75059387/changelog-directory-not-found-after-spring-boot-3-upgrade\">changelog directory not found after spring boot 3 upgrade</a>"},{"owner":{"account_id":881640,"reputation":4624,"user_id":266254,"accept_rate":47,"display_name":"bilak"},"score":0,"creation_date":1676966789,"post_id":75510595,"comment_id":133238215,"body_markdown":"which version of liquibase and which version of spring-boot are you using? Maybe you should use `spring.liquibase.change-log`. In your yaml you are missing the `spring` prefix.","body":"which version of liquibase and which version of spring-boot are you using? Maybe you should use <code>spring.liquibase.change-log</code>. In your yaml you are missing the <code>spring</code> prefix."}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":991,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676903635,"creation_date":1676903635,"question_id":75510595,"body_markdown":"I have a problem about detecting db.changelog-master.xml in Spring Boot app through Liquibase.\r\n\r\nWhen I run the app, I get this issue shown below.\r\n\r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Liquibase failed to start because no changelog could be found at &#39;classpath:/db/changelog/db.changelog-master.yaml&#39;.\r\n    \r\n    Action:\r\n    \r\n    Make sure a Liquibase changelog is present at the configured path.\r\n\r\n\r\nHere is my **application.yaml** file shown below.\r\n\r\n    liquibase:\r\n      enabled: true\r\n      change-log=classpath: /db/changelog/db.changelog-master.xml\r\n\r\nHere is my **db.changelog-master.xml** shown below\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;databaseChangeLog xmlns=&quot;http://www.liquibase.org/xml/ns/dbchangelog&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://www.liquibase.org/xml/ns/dbchangelog\r\n    http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.8.xsd&quot;&gt;\r\n    \r\n        &lt;include file=&quot;/db/changelog/changes/a.xml&quot; relativeToChangelogFile=&quot;true&quot;/&gt;\r\n        &lt;include file=&quot;/db/changelog/changes/b.xml&quot; relativeToChangelogFile=&quot;true&quot;/&gt;\r\n        ...\r\n    \r\n    &lt;/databaseChangeLog&gt;\r\n\r\nHow can I fix the issue?\r\n","title":"Cannot detect liquibase log file -Liquibase failed to start because no changelog could be found at &#39;classpath:/db/changelog/db.changelog-master.yaml&#39;","body":"<p>I have a problem about detecting db.changelog-master.xml in Spring Boot app through Liquibase.</p>\n<p>When I run the app, I get this issue shown below.</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nLiquibase failed to start because no changelog could be found at 'classpath:/db/changelog/db.changelog-master.yaml'.\n\nAction:\n\nMake sure a Liquibase changelog is present at the configured path.\n</code></pre>\n<p>Here is my <strong>application.yaml</strong> file shown below.</p>\n<pre><code>liquibase:\n  enabled: true\n  change-log=classpath: /db/changelog/db.changelog-master.xml\n</code></pre>\n<p>Here is my <strong>db.changelog-master.xml</strong> shown below</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;databaseChangeLog xmlns=&quot;http://www.liquibase.org/xml/ns/dbchangelog&quot;\nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://www.liquibase.org/xml/ns/dbchangelog\nhttp://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.8.xsd&quot;&gt;\n\n    &lt;include file=&quot;/db/changelog/changes/a.xml&quot; relativeToChangelogFile=&quot;true&quot;/&gt;\n    &lt;include file=&quot;/db/changelog/changes/b.xml&quot; relativeToChangelogFile=&quot;true&quot;/&gt;\n    ...\n\n&lt;/databaseChangeLog&gt;\n</code></pre>\n<p>How can I fix the issue?</p>\n"},{"tags":["java","unix","file-io","posix"],"answers":[{"tags":[],"owner":{"account_id":31142,"reputation":28734,"user_id":85306,"accept_rate":94,"display_name":"Jherico"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1260905757,"creation_date":1260905757,"answer_id":1909826,"question_id":1909623,"body_markdown":"Looks like you&#39;ve pretty much covered all the bases.  When I started reading your question my first thought was JDK 7 or JNI.  Without knowing anything about the change pattern on these files you might also look into some sort of persistent cache of the information in question, like an embedded DB.  You could also look at some other access method besides NFS, like a custom web service that provides bulk file information from a remote host.","title":"Unix stat()/lstat() for Java","body":"<p>Looks like you've pretty much covered all the bases.  When I started reading your question my first thought was JDK 7 or JNI.  Without knowing anything about the change pattern on these files you might also look into some sort of persistent cache of the information in question, like an embedded DB.  You could also look at some other access method besides NFS, like a custom web service that provides bulk file information from a remote host.</p>\n"},{"tags":[],"owner":{"account_id":811068,"reputation":11,"user_id":818120,"display_name":"DavidP"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1309207969,"creation_date":1309207969,"answer_id":6498817,"question_id":1909623,"body_markdown":"Yes, stat() is under all the calls and libraries.  It is a latency problem.  However, you can do many stat() at once, as there are many NFS server daemons to support your connections, using threads unless someone has an asynchronous stat() up their sleeve!  If you could get on the host, like with ssh, stat() would be much cheaper.  You could even write a tcp service to stream in paths and stream out stat().  Unfortunately, access to the NFS server is hard or impossible, as it may only have admin accounts, be a Hitachi SAN or something.","title":"Unix stat()/lstat() for Java","body":"<p>Yes, stat() is under all the calls and libraries.  It is a latency problem.  However, you can do many stat() at once, as there are many NFS server daemons to support your connections, using threads unless someone has an asynchronous stat() up their sleeve!  If you could get on the host, like with ssh, stat() would be much cheaper.  You could even write a tcp service to stream in paths and stream out stat().  Unfortunately, access to the NFS server is hard or impossible, as it may only have admin accounts, be a Hitachi SAN or something.</p>\n"},{"tags":[],"owner":{"account_id":3568486,"reputation":4276,"user_id":2979435,"accept_rate":42,"display_name":"deFreitas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676903564,"creation_date":1676903235,"answer_id":75510500,"question_id":1909623,"body_markdown":"&gt; Each one of these calls triggers a stat() call, and for my purposes stat()s are considered expensive: I&#39;m trying to scan billions of files in parallel on hundreds of hosts, and (to a first approximation) the only way to access these files is via NFS, often against filer clusters where stat() under load may take half a second.\r\n\r\nThere&#39;s no much to do here, linux provides an interface which only accepts one file descriptor at time.\r\n\r\n&gt; Is there a &quot;right&quot; way to do this, such that I end up just doing a single lstat() call and accessing the members of the struct stat?  .... got a couple of suggested JNI/JNA implementations. One is gone and the other is questionably maintained (e.g., no downloads, just an hg repository).\r\n\r\nCall a c function using JNA is very straightforward, a wrapper library may be not necessary, bellow a snippet to make a call to `stat` or `lstat` syscall, [see my complete answer for more details](https://stackoverflow.com/a/75503656/2979435):\r\n\r\n    // wont call lstat c function directly \r\n    // cause stat and lstat aren&#39;t available at libc 2.31-\r\n    public interface Stats extends Library {\r\n    \r\n      Stats INSTANCE = Native.loadLibrary(Platform.C_LIBRARY_NAME, Stats.class);\r\n    \r\n      int syscall(int number, Object... args);\r\n    \r\n      default int doStat(String pathname, Stat statbuf){\r\n        return this.syscall(4, pathname, statbuf);\r\n      }\r\n    \r\n      default int doLstat(String pathname, Stat statbuf){\r\n        return this.syscall(6, pathname, statbuf);\r\n      }\r\n    }","title":"Unix stat()/lstat() for Java","body":"<blockquote>\n<p>Each one of these calls triggers a stat() call, and for my purposes stat()s are considered expensive: I'm trying to scan billions of files in parallel on hundreds of hosts, and (to a first approximation) the only way to access these files is via NFS, often against filer clusters where stat() under load may take half a second.</p>\n</blockquote>\n<p>There's no much to do here, linux provides an interface which only accepts one file descriptor at time.</p>\n<blockquote>\n<p>Is there a &quot;right&quot; way to do this, such that I end up just doing a single lstat() call and accessing the members of the struct stat?  .... got a couple of suggested JNI/JNA implementations. One is gone and the other is questionably maintained (e.g., no downloads, just an hg repository).</p>\n</blockquote>\n<p>Call a c function using JNA is very straightforward, a wrapper library may be not necessary, bellow a snippet to make a call to <code>stat</code> or <code>lstat</code> syscall, <a href=\"https://stackoverflow.com/a/75503656/2979435\">see my complete answer for more details</a>:</p>\n<pre><code>// wont call lstat c function directly \n// cause stat and lstat aren't available at libc 2.31-\npublic interface Stats extends Library {\n\n  Stats INSTANCE = Native.loadLibrary(Platform.C_LIBRARY_NAME, Stats.class);\n\n  int syscall(int number, Object... args);\n\n  default int doStat(String pathname, Stat statbuf){\n    return this.syscall(4, pathname, statbuf);\n  }\n\n  default int doLstat(String pathname, Stat statbuf){\n    return this.syscall(6, pathname, statbuf);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":70105,"reputation":83,"user_id":203626,"display_name":"Aaron D. Ball"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8698,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":1909826,"answer_count":3,"score":7,"last_activity_date":1676903564,"creation_date":1260903912,"question_id":1909623,"body_markdown":"Suppose I want to get several of a file&#39;s properties (owner, size, permissions, times) as returned by the lstat() system call.  One way to do this in Java is to create a java.io.File object and do calls like length(), lastModified(), etc. on it.  I have two problems so far:\r\n\r\n1. Each one of these calls triggers a stat() call, and for my purposes stat()s are considered expensive:  I&#39;m trying to scan billions of files in parallel on hundreds of hosts, and (to a first approximation) the only way to access these files is via NFS, often against filer clusters where stat() under load may take half a second. \r\n\r\n2. The call isn&#39;t lstat(), it&#39;s typically stat() (which follows symlinks) or fstat64() (which opens the file and may trigger a write operation to record the access time).\r\n\r\nIs there a &quot;right&quot; way to do this, such that I end up just doing a single lstat() call and accessing the members of the struct stat?  What I have found so far from Googling:\r\n\r\n- JDK 7 will have the &lt;a href=&quot;http://openjdk.java.net/projects/nio/javadoc/java/nio/file/attribute/package-summary.html&quot;&gt;PosixFileAttributes&lt;/a&gt; interface in java.nio.file with everything I want (but I&#39;d rather not be running nightly builds of my JDK if I can avoid it).\r\n\r\n- I can roll my own interface with JNI or JNA (but I&#39;d rather not if there&#39;s an existing one).\r\n\r\nA &lt;a href=&quot;https://stackoverflow.com/questions/1088113/is-there-a-java-library-of-unix-functions&quot;&gt;previous similar question&lt;/a&gt; got a couple of suggested JNI/JNA implementations.  One is gone and the other is questionably maintained (e.g., no downloads, just an hg repository).\r\n\r\nAre there any better options out there?","title":"Unix stat()/lstat() for Java","body":"<p>Suppose I want to get several of a file's properties (owner, size, permissions, times) as returned by the lstat() system call.  One way to do this in Java is to create a java.io.File object and do calls like length(), lastModified(), etc. on it.  I have two problems so far:</p>\n\n<ol>\n<li><p>Each one of these calls triggers a stat() call, and for my purposes stat()s are considered expensive:  I'm trying to scan billions of files in parallel on hundreds of hosts, and (to a first approximation) the only way to access these files is via NFS, often against filer clusters where stat() under load may take half a second. </p></li>\n<li><p>The call isn't lstat(), it's typically stat() (which follows symlinks) or fstat64() (which opens the file and may trigger a write operation to record the access time).</p></li>\n</ol>\n\n<p>Is there a \"right\" way to do this, such that I end up just doing a single lstat() call and accessing the members of the struct stat?  What I have found so far from Googling:</p>\n\n<ul>\n<li><p>JDK 7 will have the <a href=\"http://openjdk.java.net/projects/nio/javadoc/java/nio/file/attribute/package-summary.html\" rel=\"nofollow noreferrer\">PosixFileAttributes</a> interface in java.nio.file with everything I want (but I'd rather not be running nightly builds of my JDK if I can avoid it).</p></li>\n<li><p>I can roll my own interface with JNI or JNA (but I'd rather not if there's an existing one).</p></li>\n</ul>\n\n<p>A <a href=\"https://stackoverflow.com/questions/1088113/is-there-a-java-library-of-unix-functions\">previous similar question</a> got a couple of suggested JNI/JNA implementations.  One is gone and the other is questionably maintained (e.g., no downloads, just an hg repository).</p>\n\n<p>Are there any better options out there?</p>\n"},{"tags":["java","microsoft-graph-api"],"answers":[{"tags":[],"owner":{"account_id":23997029,"reputation":589,"user_id":17982436,"display_name":"Mehtab Siddique"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676903407,"creation_date":1676903407,"answer_id":75510544,"question_id":75471040,"body_markdown":"After granting the permission , some permissions need to be granted admin consent in the azure portal as seen in the screenshot below:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/glCZc.png\r\n\r\nYou need to ask the administrator for granting the permissions.","title":"app-auth in MS Graph Api does not work in msgraph-training-java","body":"<p>After granting the permission , some permissions need to be granted admin consent in the azure portal as seen in the screenshot below:</p>\n<p><a href=\"https://i.stack.imgur.com/glCZc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/glCZc.png\" alt=\"enter image description here\" /></a></p>\n<p>You need to ask the administrator for granting the permissions.</p>\n"}],"owner":{"display_name":"user12429628"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75510544,"answer_count":1,"score":0,"last_activity_date":1676903407,"creation_date":1676543901,"question_id":75471040,"body_markdown":"I want to learn MS Graph Api for Java and I&#39;m compiling and running the app-auth example in msgraph training java.\r\n\r\nDisplaying the access token works fine but displaying the user list fails.\r\n\r\nThe readme says, when configuring the application permisions I should select &quot;Grant admin consent for...&quot; but there is no such an option. I still get an error:\r\n\r\n&quot;Error message: Insufficient privileges to complete the operation.&quot;\r\n\r\nbut I have granted all permissions in the Mail Section and User Section of MS Graph\r\n\r\n","title":"app-auth in MS Graph Api does not work in msgraph-training-java","body":"<p>I want to learn MS Graph Api for Java and I'm compiling and running the app-auth example in msgraph training java.</p>\n<p>Displaying the access token works fine but displaying the user list fails.</p>\n<p>The readme says, when configuring the application permisions I should select &quot;Grant admin consent for...&quot; but there is no such an option. I still get an error:</p>\n<p>&quot;Error message: Insufficient privileges to complete the operation.&quot;</p>\n<p>but I have granted all permissions in the Mail Section and User Section of MS Graph</p>\n"},{"tags":["java","math","decimal","rounding","decimalformat"],"comments":[{"owner":{"account_id":6179310,"reputation":2644,"user_id":4815321,"display_name":"mr mcwolf"},"score":1,"creation_date":1676442563,"post_id":75456112,"comment_id":133135409,"body_markdown":"[read the documentation](https://docs.oracle.com/javase/7/docs/api/java/text/DecimalFormat.html)","body":"<a href=\"https://docs.oracle.com/javase/7/docs/api/java/text/DecimalFormat.html\" rel=\"nofollow noreferrer\">read the documentation</a>"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1676453692,"post_id":75456112,"comment_id":133137930,"body_markdown":"For your example, `17.751` does not round to `17.76` did you mean `17.7551`? As pointed out in a comment below. `input` is not exactly `17.755` it is the closest value that double can represent. `17.75499...` if you want better accuracy there is [BigDecimal](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/math/BigDecimal.html). eg `new BigDecimal(&quot;17.755&quot;);` That way you&#39;ll be rounding what you expect.","body":"For your example, <code>17.751</code> does not round to <code>17.76</code> did you mean <code>17.7551</code>? As pointed out in a comment below. <code>input</code> is not exactly <code>17.755</code> it is the closest value that double can represent. <code>17.75499...</code> if you want better accuracy there is <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/math/BigDecimal.html\" rel=\"nofollow noreferrer\">BigDecimal</a>. eg <code>new BigDecimal(&quot;17.755&quot;);</code> That way you&#39;ll be rounding what you expect."},{"owner":{"account_id":2908204,"reputation":1283,"user_id":2493020,"accept_rate":67,"display_name":"Abdul Mohsin"},"score":0,"creation_date":1676793863,"post_id":75456112,"comment_id":133206206,"body_markdown":"Sorry @matt the input was 17.7551 , ive corrected that in the description also","body":"Sorry @matt the input was 17.7551 , ive corrected that in the description also"},{"owner":{"account_id":27811565,"reputation":11,"user_id":21233858,"display_name":"bardia dorry"},"score":0,"creation_date":1676804126,"post_id":75456112,"comment_id":133207553,"body_markdown":"you can change rounding mode if you need ceiling : https://stackoverflow.com/questions/153724/how-to-round-a-number-to-n-decimal-places-in-java","body":"you can change rounding mode if you need ceiling : <a href=\"https://stackoverflow.com/questions/153724/how-to-round-a-number-to-n-decimal-places-in-java\" title=\"how to round a number to n decimal places in java\">stackoverflow.com/questions/153724/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676902491,"creation_date":1676901817,"answer_id":75510225,"question_id":75456112,"body_markdown":"First of, your final value is a `Double` **it does not have 2 digits!** When you do Double.valueOf it will become the *closest representable value*. If you actually want two digits in Java then you need to use [BigDecimal](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/math/BigDecimal.html) which actually stores base 10 floating point representations.\r\n\r\nThe trick is, the value you are using is not what you think it is.\r\n\r\n    double d = 17.755;\r\n\r\nJava doubles are power of 2 exponent, so a number that appears to be an exact value in decimal, has a repeating representation in float. That means it needs to be truncated and the closest value is used. \r\n\r\n    jshell&gt; double d = 17.755;\r\n    d ==&gt; 17.755\r\n    \r\n    jshell&gt; var x = new BigDecimal(d);\r\n    x ==&gt; 17.754999999999999005240169935859739780426025390625\r\n    \r\n    jshell&gt; var y = new BigDecimal(&quot;17.755&quot;);\r\n    y ==&gt; 17.755\r\n\r\nNow you can see that `x` which is an exact representation of `d` is actually less than `17.755` so when you round it it goes **down**.\r\n\r\n`y` on the other hand is exactly 17.755 and will round according the the rules you apply.\r\n\r\n    jshell&gt; System.out.printf(&quot;%.2f\\n&quot;, y);\r\n    17.76\r\n\r\n    jshell&gt; System.out.printf(&quot;%.2f\\n&quot;, x);\r\n    17.75\r\n","title":"Java - DecimalFormat not rounding off to 2 digits","body":"<p>First of, your final value is a <code>Double</code> <strong>it does not have 2 digits!</strong> When you do Double.valueOf it will become the <em>closest representable value</em>. If you actually want two digits in Java then you need to use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/math/BigDecimal.html\" rel=\"nofollow noreferrer\">BigDecimal</a> which actually stores base 10 floating point representations.</p>\n<p>The trick is, the value you are using is not what you think it is.</p>\n<pre><code>double d = 17.755;\n</code></pre>\n<p>Java doubles are power of 2 exponent, so a number that appears to be an exact value in decimal, has a repeating representation in float. That means it needs to be truncated and the closest value is used.</p>\n<pre><code>jshell&gt; double d = 17.755;\nd ==&gt; 17.755\n\njshell&gt; var x = new BigDecimal(d);\nx ==&gt; 17.754999999999999005240169935859739780426025390625\n\njshell&gt; var y = new BigDecimal(&quot;17.755&quot;);\ny ==&gt; 17.755\n</code></pre>\n<p>Now you can see that <code>x</code> which is an exact representation of <code>d</code> is actually less than <code>17.755</code> so when you round it it goes <strong>down</strong>.</p>\n<p><code>y</code> on the other hand is exactly 17.755 and will round according the the rules you apply.</p>\n<pre><code>jshell&gt; System.out.printf(&quot;%.2f\\n&quot;, y);\n17.76\n\njshell&gt; System.out.printf(&quot;%.2f\\n&quot;, x);\n17.75\n</code></pre>\n"}],"owner":{"account_id":2908204,"reputation":1283,"user_id":2493020,"accept_rate":67,"display_name":"Abdul Mohsin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676902491,"creation_date":1676441830,"question_id":75456112,"body_markdown":"I want to round off the numbers to 2 digits only, have written the below code:\r\n\r\n    Double input = 17.755;\r\n    DecimalFormat twoDigitDecimalFormat = new DecimalFormat(&quot;0.00&quot;);\r\n    Double output = Double.valueOf(twoDigitDecimalFormat.format(input));\r\n\r\nI was expecting output should be `17.76` but it is giving me `17.75` only, for all the other cases it is working perfectly fine, but only this number is not working, if I add one more digit in the input, say `17.7551` then it will roundoff to `17.76`","title":"Java - DecimalFormat not rounding off to 2 digits","body":"<p>I want to round off the numbers to 2 digits only, have written the below code:</p>\n<pre><code>Double input = 17.755;\nDecimalFormat twoDigitDecimalFormat = new DecimalFormat(&quot;0.00&quot;);\nDouble output = Double.valueOf(twoDigitDecimalFormat.format(input));\n</code></pre>\n<p>I was expecting output should be <code>17.76</code> but it is giving me <code>17.75</code> only, for all the other cases it is working perfectly fine, but only this number is not working, if I add one more digit in the input, say <code>17.7551</code> then it will roundoff to <code>17.76</code></p>\n"},{"tags":["java","scala","generics","gatling","scala-java-interop"],"comments":[{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":0,"creation_date":1676627051,"post_id":75446830,"comment_id":133179336,"body_markdown":"What are your Scala version, Java version, Gatling version?","body":"What are your Scala version, Java version, Gatling version?"},{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":0,"creation_date":1676628044,"post_id":75446830,"comment_id":133179631,"body_markdown":"How is variable `myFeeder` defined?","body":"How is variable <code>myFeeder</code> defined?"}],"answers":[{"tags":[],"owner":{"account_id":6852429,"reputation":6319,"user_id":5269205,"display_name":"St&#233;phane LANDELLE"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676373757,"creation_date":1676373757,"answer_id":75447105,"question_id":75446830,"body_markdown":"Disclaimer: Gatling&#39;s author here\r\n\r\n&gt; is there better way to utilise scala Gatling api in java?\r\n\r\nDon&#39;t. Gatling&#39;s Java DSL wasn&#39;t built with interoperability with the Scala DSL in mind. In particular, `asScala()` is an internal.\r\n\r\nGo with either one or the other, but don&#39;t mix them together.","title":"invoking scala generic classes from java looses generic info","body":"<p>Disclaimer: Gatling's author here</p>\n<blockquote>\n<p>is there better way to utilise scala Gatling api in java?</p>\n</blockquote>\n<p>Don't. Gatling's Java DSL wasn't built with interoperability with the Scala DSL in mind. In particular, <code>asScala()</code> is an internal.</p>\n<p>Go with either one or the other, but don't mix them together.</p>\n"}],"owner":{"account_id":1149855,"reputation":317,"user_id":1131796,"accept_rate":62,"display_name":"Oleksii Pylypchuk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676902382,"creation_date":1676372170,"question_id":75446830,"body_markdown":"trying to use in java class defined in scala library. \r\nDefinition:\r\n```\r\nfinal class ScenarioBuilder(...) extends StructureBuilder[ScenarioBuilder]\r\ntrait StructureBuilder[B &lt;: StructureBuilder[B]] extends Execs[B] with Feeds[B]\r\n```\r\nyes, it is Gatling.\r\n\r\nmy java code:\r\n```\r\n    public ScenarioBuilder callMyApi(ScenarioBuilder in) {\r\n        return in.feed(myFeeder.asScala())\r\n                .exec(addCookie(Cookie(&quot;key&quot;, &quot;value&quot;)).asScala())\r\n                .exec( http(&quot;my api call&quot;)\r\n                    .get(&quot;/api&quot;).asScala());\r\n    }\r\n```\r\n\r\nIdea finds this code correct, but whenever i try to compile it i get this errors:\r\n```\r\nsymbol:   method exec(io.gatling.core.action.builder.ActionBuilder)\r\nlocation: class java.lang.Object\r\nor\r\njava: incompatible types: java.lang.Object cannot be converted to io.gatling.core.structure.ScenarioBuilder\r\n```\r\n\r\nin other words methods ```B feed(...)``` from ```Feeds[B]``` and ```B exec(...)``` from ```Execs[B]``` always return Object and i would expect ```B``` to be ```ScenarioBuilder``` \r\n\r\nthe only way to compile and run this code i came up with is this:\r\n```\r\n    public ScenarioBuilder callMyApi(ScenarioBuilder in) {\r\n        StructureBuilder&lt;ScenarioBuilder&gt; sb = in;\r\n        sb = (StructureBuilder&lt;ScenarioBuilder&gt;) sb.feed(myFeeder.asScala())\r\n                .exec(addCookie(Cookie(&quot;key&quot;, &quot;value&quot;)).asScala());\r\n        return (ScenarioBuilder) sb.exec( http(&quot;my api call&quot;)\r\n                    .get(&quot;/api&quot;).asScala());\r\n    }\r\n```\r\nand it looks disgusting \r\n\r\nquestions:\r\n- why does java misses generic info from scala classes?\r\n- is there better way to utilise scala Gatling api in java?\r\n- why does IDE finds the first variant correct and compiler does not?\r\n\r\nyes, i know there&#39;s java api in Gatling though by some reason method make is defined like this:\r\n\r\n```\r\n  public ScenarioBuilder make(\r\n      Function&lt;io.gatling.core.structure.ScenarioBuilder, io.gatling.core.structure.ScenarioBuilder&gt;\r\n          f) {\r\n    return new ScenarioBuilder(f.apply(wrapped));\r\n  }\r\n```\r\nand to me it is very open question  why it is defined this way.\r\n\r\nthanks in advance\r\n\r\nUPD:\r\njava- 1.8, scala- 2.11.8\r\n```\r\nmyFeeder  = listFeeder(Arrays.asList(\r\n                Collections.singletonMap(&quot;items&quot;, Arrays.asList(&quot;Item 1&quot;, &quot;Item 2&quot;))\r\n)).circular()\r\n```\r\n\r\nGatling version - 3.9.0 though the question not about Gatling itself it is mostly about calling scala code with generics from java. \r\n\r\nBy some reason javac does not see generic info in scala classes, and i wonder why.\r\n\r\nAs to Gatling i&#39;ve solved the issue by proper API usage, long story short don&#39;t use ```make``` methods for construction scenario from different steps ```exec(ChainBuilder)``` is the choice.\r\n\r\n","title":"invoking scala generic classes from java looses generic info","body":"<p>trying to use in java class defined in scala library.\nDefinition:</p>\n<pre><code>final class ScenarioBuilder(...) extends StructureBuilder[ScenarioBuilder]\ntrait StructureBuilder[B &lt;: StructureBuilder[B]] extends Execs[B] with Feeds[B]\n</code></pre>\n<p>yes, it is Gatling.</p>\n<p>my java code:</p>\n<pre><code>    public ScenarioBuilder callMyApi(ScenarioBuilder in) {\n        return in.feed(myFeeder.asScala())\n                .exec(addCookie(Cookie(&quot;key&quot;, &quot;value&quot;)).asScala())\n                .exec( http(&quot;my api call&quot;)\n                    .get(&quot;/api&quot;).asScala());\n    }\n</code></pre>\n<p>Idea finds this code correct, but whenever i try to compile it i get this errors:</p>\n<pre><code>symbol:   method exec(io.gatling.core.action.builder.ActionBuilder)\nlocation: class java.lang.Object\nor\njava: incompatible types: java.lang.Object cannot be converted to io.gatling.core.structure.ScenarioBuilder\n</code></pre>\n<p>in other words methods <code>B feed(...)</code> from <code>Feeds[B]</code> and <code>B exec(...)</code> from <code>Execs[B]</code> always return Object and i would expect <code>B</code> to be <code>ScenarioBuilder</code></p>\n<p>the only way to compile and run this code i came up with is this:</p>\n<pre><code>    public ScenarioBuilder callMyApi(ScenarioBuilder in) {\n        StructureBuilder&lt;ScenarioBuilder&gt; sb = in;\n        sb = (StructureBuilder&lt;ScenarioBuilder&gt;) sb.feed(myFeeder.asScala())\n                .exec(addCookie(Cookie(&quot;key&quot;, &quot;value&quot;)).asScala());\n        return (ScenarioBuilder) sb.exec( http(&quot;my api call&quot;)\n                    .get(&quot;/api&quot;).asScala());\n    }\n</code></pre>\n<p>and it looks disgusting</p>\n<p>questions:</p>\n<ul>\n<li>why does java misses generic info from scala classes?</li>\n<li>is there better way to utilise scala Gatling api in java?</li>\n<li>why does IDE finds the first variant correct and compiler does not?</li>\n</ul>\n<p>yes, i know there's java api in Gatling though by some reason method make is defined like this:</p>\n<pre><code>  public ScenarioBuilder make(\n      Function&lt;io.gatling.core.structure.ScenarioBuilder, io.gatling.core.structure.ScenarioBuilder&gt;\n          f) {\n    return new ScenarioBuilder(f.apply(wrapped));\n  }\n</code></pre>\n<p>and to me it is very open question  why it is defined this way.</p>\n<p>thanks in advance</p>\n<p>UPD:\njava- 1.8, scala- 2.11.8</p>\n<pre><code>myFeeder  = listFeeder(Arrays.asList(\n                Collections.singletonMap(&quot;items&quot;, Arrays.asList(&quot;Item 1&quot;, &quot;Item 2&quot;))\n)).circular()\n</code></pre>\n<p>Gatling version - 3.9.0 though the question not about Gatling itself it is mostly about calling scala code with generics from java.</p>\n<p>By some reason javac does not see generic info in scala classes, and i wonder why.</p>\n<p>As to Gatling i've solved the issue by proper API usage, long story short don't use <code>make</code> methods for construction scenario from different steps <code>exec(ChainBuilder)</code> is the choice.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":17622138,"reputation":78,"user_id":12787850,"display_name":"Dayton Rumbold"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676902070,"creation_date":1614722420,"answer_id":66447784,"question_id":66447662,"body_markdown":"It sounds like you want something like this... \r\n\r\n    \\---folder\r\n        |   file1.txt\r\n        |   file2.txt\r\n        |\r\n        \\---subfolder\r\n                file3.txt\r\n                file4.txt\r\n\r\nTo print... \r\n\r\n    folder\\file1.txt\r\n    folder\\file2.txt\r\n    folder\\subfolder\\file3.txt\r\n    folder\\subfolder\\file4.txt\r\n\r\nIf that assumption is right, one solution is to try using `java.nio.file.Files.walk(Path)`.\r\n\r\n    \r\n    Files.walk(Paths.get(&quot;folder&quot;))\r\n            .filter(Files::isRegularFile)\r\n            .forEach(System.out::println);//print out the files in all directories from root\r\n\r\n`Files.walk(path)` can return those subfolder files by walking the file tree rooted at the start file given.","title":"How to list directory items from a directory java","body":"<p>It sounds like you want something like this...</p>\n<pre><code>\\---folder\n    |   file1.txt\n    |   file2.txt\n    |\n    \\---subfolder\n            file3.txt\n            file4.txt\n</code></pre>\n<p>To print...</p>\n<pre><code>folder\\file1.txt\nfolder\\file2.txt\nfolder\\subfolder\\file3.txt\nfolder\\subfolder\\file4.txt\n</code></pre>\n<p>If that assumption is right, one solution is to try using <code>java.nio.file.Files.walk(Path)</code>.</p>\n<pre><code>Files.walk(Paths.get(&quot;folder&quot;))\n        .filter(Files::isRegularFile)\n        .forEach(System.out::println);//print out the files in all directories from root\n</code></pre>\n<p><code>Files.walk(path)</code> can return those subfolder files by walking the file tree rooted at the start file given.</p>\n"}],"owner":{"account_id":18429956,"reputation":29,"user_id":13425353,"display_name":"Massin_NYC"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1614723343,"accepted_answer_id":66447784,"answer_count":1,"score":1,"last_activity_date":1676902070,"creation_date":1614721774,"question_id":66447662,"body_markdown":"I am building a program where the input is a directory path and the output should show all files in this path, **including the files from a directory, which are in the given path.** For example: *Input:* **C:** *Output:* **C:/Directory1** and **C:/Directory1/file1.pdf.**\r\n\r\n    static string Directory = sc.next();\r\n    static File folder = new File(Directory);\r\n    static File[]listofFiles = folder.listFiles();\r\n\r\n    public static void ListOfFilesInADirectory (final File folder) {\r\n    for (int i = 0; i &lt; listofFiles.length; i++) { \r\n    \t\t\t  if (listofFiles[i].isFile()) {\t\t   \r\n    \t\t\t    System.out.println(&quot;File &quot; + listofFiles[i].getName());\r\n    \t\t\t  } else if (listofFiles[i].isDirectory()) { \r\n    \t\t\t    System.out.println(&quot;Directory &quot; + listofFiles[i].getName());\r\n    \t\t\t  }\r\n    \t\t\t}\r\n    \t}\r\n\r\nThe code above is the code for the input of the directory and the output of all the files in this directory, but not them in a folder, of this directory. How can I show the files in folders of the director too?\r\n","title":"How to list directory items from a directory java","body":"<p>I am building a program where the input is a directory path and the output should show all files in this path, <strong>including the files from a directory, which are in the given path.</strong> For example: <em>Input:</em> <strong>C:</strong> <em>Output:</em> <strong>C:/Directory1</strong> and <strong>C:/Directory1/file1.pdf.</strong></p>\n<pre><code>static string Directory = sc.next();\nstatic File folder = new File(Directory);\nstatic File[]listofFiles = folder.listFiles();\n\npublic static void ListOfFilesInADirectory (final File folder) {\nfor (int i = 0; i &lt; listofFiles.length; i++) { \n              if (listofFiles[i].isFile()) {           \n                System.out.println(&quot;File &quot; + listofFiles[i].getName());\n              } else if (listofFiles[i].isDirectory()) { \n                System.out.println(&quot;Directory &quot; + listofFiles[i].getName());\n              }\n            }\n    }\n</code></pre>\n<p>The code above is the code for the input of the directory and the output of all the files in this directory, but not them in a folder, of this directory. How can I show the files in folders of the director too?</p>\n"},{"tags":["java","spring","mongodb"],"owner":{"account_id":1771524,"reputation":380,"user_id":1616194,"accept_rate":80,"display_name":"Maxim VA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676901456,"creation_date":1676901456,"question_id":75510157,"body_markdown":"Issue: I have fields in a MongoDB that need to map to a property of type Date (java.util) in a POJO (new POJO for existing documents), but the db has values of type String and Date for the same field.\r\n\r\nAs far as i can tell, i can use a Converter for that, this is what i have:\r\n\r\n```java\r\n@ReadingConverter\r\npublic class StringToDateConverter implements Converter&lt;String, Date&gt; {\r\n  private static final String DATE_PATTERN = &quot;yyyy-MM-dd&quot;;\r\n  private static final String DATE_PATTERN_SECONDS = &quot;yyyy-MM-dd HH:mm:ss&quot;;\r\n\r\n\r\n  @Override\r\n  public Date convert(String source) {\r\n    try {\r\n      // First attempt is to try and parse the date with the provided patterns\r\n      return DateUtils.parseDateStrictly(source, DATE_PATTERN, DATE_PATTERN_SECONDS);\r\n    } catch (ParseException parseException) {\r\n      try {\r\n        // If that doesn&#39;t work, next up is trying to parse it as an ISO_INSTANT (e.g. 2018-03-14T14:34:56.705Z)\r\n        TemporalAccessor temporalAccessor = DateTimeFormatter.ISO_INSTANT.parse(source);\r\n        return Date.from(Instant.from(temporalAccessor));\r\n      } catch (DateTimeParseException dateTimeParseException) {\r\n        // The date cannot be parsed with the given patterns and isn&#39;t a valid ISO_INSTANT\r\n        String message = &quot;&#39;&quot; + source + &quot;&#39; could not be parsed as a date from one of the supported formats: &#39;&quot; + DATE_PATTERN +\r\n          &quot;&#39;, &#39;&quot; + DATE_PATTERN_SECONDS + &quot;&#39; and &#39;yyyy-MM-ddTHH:mm:ss.SSSZ&#39;&quot;;\r\n        return null;\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThen i register this converter with a mongoTemplate:\r\n```java\r\nthis.mongoTemplate = new MongoTemplate(mongoClient, &quot;database-name&quot;);\r\n    MappingMongoConverter converter = (MappingMongoConverter) mongoTemplate.getConverter();\r\n    converter.setCustomConversions(\r\n      new MongoCustomConversions(\r\n        Arrays.asList(\r\n          new StringToDateConverter()\r\n        )\r\n      )\r\n    );\r\n    converter.afterPropertiesSet();\r\n```\r\n\r\nWhen i view the converters in the mongoTemplate like so ``mongoTemplate.getConverter().getCustomConversions();`` i can see the custom converter.\r\n[![enter image description here][1]][1]\r\n\r\nHowever, when i try to read from the db, the convert function of the converter is never called and i keep getting this error: ``Decoding &#39;someDate&#39; errored with: readStartDocument can only be called when CurrentBSONType is DOCUMENT, not when CurrentBSONType is STRING``\r\n\r\n```java\r\nMongoCollection&lt;PojoClassName&gt; collection = mongoTemplate.getCollection(&quot;collection-name&quot;).withDocumentClass(PojoClassName.class);\r\n```\r\n\r\nShould i register the custom converter another way, or am i missing something obvious here?\r\n\r\nI&#39;m using spring-boot-starter-parent 2.7.8 and mongodb java driver 4.8.2\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VAHgw.png","title":"Is it possible to use custom conversions with a mongo collection for a specific POJO","body":"<p>Issue: I have fields in a MongoDB that need to map to a property of type Date (java.util) in a POJO (new POJO for existing documents), but the db has values of type String and Date for the same field.</p>\n<p>As far as i can tell, i can use a Converter for that, this is what i have:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ReadingConverter\npublic class StringToDateConverter implements Converter&lt;String, Date&gt; {\n  private static final String DATE_PATTERN = &quot;yyyy-MM-dd&quot;;\n  private static final String DATE_PATTERN_SECONDS = &quot;yyyy-MM-dd HH:mm:ss&quot;;\n\n\n  @Override\n  public Date convert(String source) {\n    try {\n      // First attempt is to try and parse the date with the provided patterns\n      return DateUtils.parseDateStrictly(source, DATE_PATTERN, DATE_PATTERN_SECONDS);\n    } catch (ParseException parseException) {\n      try {\n        // If that doesn't work, next up is trying to parse it as an ISO_INSTANT (e.g. 2018-03-14T14:34:56.705Z)\n        TemporalAccessor temporalAccessor = DateTimeFormatter.ISO_INSTANT.parse(source);\n        return Date.from(Instant.from(temporalAccessor));\n      } catch (DateTimeParseException dateTimeParseException) {\n        // The date cannot be parsed with the given patterns and isn't a valid ISO_INSTANT\n        String message = &quot;'&quot; + source + &quot;' could not be parsed as a date from one of the supported formats: '&quot; + DATE_PATTERN +\n          &quot;', '&quot; + DATE_PATTERN_SECONDS + &quot;' and 'yyyy-MM-ddTHH:mm:ss.SSSZ'&quot;;\n        return null;\n      }\n    }\n  }\n}\n</code></pre>\n<p>Then i register this converter with a mongoTemplate:</p>\n<pre class=\"lang-java prettyprint-override\"><code>this.mongoTemplate = new MongoTemplate(mongoClient, &quot;database-name&quot;);\n    MappingMongoConverter converter = (MappingMongoConverter) mongoTemplate.getConverter();\n    converter.setCustomConversions(\n      new MongoCustomConversions(\n        Arrays.asList(\n          new StringToDateConverter()\n        )\n      )\n    );\n    converter.afterPropertiesSet();\n</code></pre>\n<p>When i view the converters in the mongoTemplate like so <code>mongoTemplate.getConverter().getCustomConversions();</code> i can see the custom converter.\n<a href=\"https://i.stack.imgur.com/VAHgw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VAHgw.png\" alt=\"enter image description here\" /></a></p>\n<p>However, when i try to read from the db, the convert function of the converter is never called and i keep getting this error: <code>Decoding 'someDate' errored with: readStartDocument can only be called when CurrentBSONType is DOCUMENT, not when CurrentBSONType is STRING</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>MongoCollection&lt;PojoClassName&gt; collection = mongoTemplate.getCollection(&quot;collection-name&quot;).withDocumentClass(PojoClassName.class);\n</code></pre>\n<p>Should i register the custom converter another way, or am i missing something obvious here?</p>\n<p>I'm using spring-boot-starter-parent 2.7.8 and mongodb java driver 4.8.2</p>\n"},{"tags":["java","spring","websocket","stomp"],"owner":{"account_id":27400247,"reputation":1,"user_id":20901785,"display_name":"Julian Weghaupt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676901205,"creation_date":1676901170,"question_id":75510115,"body_markdown":"I want to implement a simple lobby function in a webapplication of mine using Stomp-websockets.\r\n\r\nThe basic idea is this:\r\n- When somebody tries to create a lobby, a lobby is created by the server and they try to subscribe to a topic with that lobbyId.\r\n- If the creation of the lobby is not possible, i want to reject the subscription.\r\n\r\nIs Spring Security with Authorization the only way to handle this, or is there simpler way to approach this?\r\n\r\nI am already using an eventlistener to receive SessionsubscribeEvents and am accessing the Session Id via the event, but how can i get the Session with the accessed Id?\r\n\r\n\r\n","title":"Handling Stompsessions in Spring","body":"<p>I want to implement a simple lobby function in a webapplication of mine using Stomp-websockets.</p>\n<p>The basic idea is this:</p>\n<ul>\n<li>When somebody tries to create a lobby, a lobby is created by the server and they try to subscribe to a topic with that lobbyId.</li>\n<li>If the creation of the lobby is not possible, i want to reject the subscription.</li>\n</ul>\n<p>Is Spring Security with Authorization the only way to handle this, or is there simpler way to approach this?</p>\n<p>I am already using an eventlistener to receive SessionsubscribeEvents and am accessing the Session Id via the event, but how can i get the Session with the accessed Id?</p>\n"},{"tags":["java","spring","filter","spring-security"],"comments":[{"owner":{"account_id":2324765,"reputation":3694,"user_id":2039546,"display_name":"smail Y."},"score":0,"creation_date":1676903394,"post_id":75507756,"comment_id":133225752,"body_markdown":"Does this answer your question? [How can I access the H2-console while using Spring Security (Spring Boot 3.0.2)?](https://stackoverflow.com/questions/75367159/how-can-i-access-the-h2-console-while-using-spring-security-spring-boot-3-0-2)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/75367159/how-can-i-access-the-h2-console-while-using-spring-security-spring-boot-3-0-2\">How can I access the H2-console while using Spring Security (Spring Boot 3.0.2)?</a>"}],"answers":[{"tags":[],"owner":{"account_id":3130088,"reputation":43207,"user_id":2648077,"accept_rate":80,"display_name":"Alireza Fattahi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1676900977,"creation_date":1676900977,"answer_id":75510076,"question_id":75507756,"body_markdown":"The problem is at `webSecurityCustomizer`\r\n\r\nThe `requestMatchers` should be set to `AntPathRequestMatcher` not the default `MvcRequestMatcher`\r\n\r\n    @Bean\r\n    WebSecurityCustomizer webSecurityCustomizer() {\r\n        return web -&gt; web.ignoring().requestMatchers(\r\n                           new AntPathRequestMatcher(&quot;/h2-console/**&quot;)\r\n                        );\r\n    }","title":"Spring Security 6 SecurityFilterChain precedence WebSecurityCustomizer","body":"<p>The problem is at <code>webSecurityCustomizer</code></p>\n<p>The <code>requestMatchers</code> should be set to <code>AntPathRequestMatcher</code> not the default <code>MvcRequestMatcher</code></p>\n<pre><code>@Bean\nWebSecurityCustomizer webSecurityCustomizer() {\n    return web -&gt; web.ignoring().requestMatchers(\n                       new AntPathRequestMatcher(&quot;/h2-console/**&quot;)\n                    );\n}\n</code></pre>\n"}],"owner":{"account_id":3130088,"reputation":43207,"user_id":2648077,"accept_rate":80,"display_name":"Alireza Fattahi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3359,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75510076,"answer_count":1,"score":1,"last_activity_date":1676900977,"creation_date":1676887084,"question_id":75507756,"body_markdown":"In spring security 6 I have configured the `securityFilterChain` as below:\r\n\r\n    @Bean\r\n    SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n    \r\n        http.csrf()\r\n            .disable()\r\n            .cors()\r\n            .and()\r\n            .exceptionHandling()\r\n            .authenticationEntryPoint(new HttpStatusEntryPoint(HttpStatus.UNAUTHORIZED))\r\n            .and()\r\n            .sessionManagement()\r\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n            .and()\r\n            .authorizeHttpRequests(\r\n            \t\tauthorize -&gt; authorize\r\n            \t\t\t.requestMatchers(HttpMethod.OPTIONS).permitAll()\r\n            \t\t\t.requestMatchers(HttpMethod.GET,&quot;/articles/feed&quot;).authenticated()\r\n            \t\t\t.requestMatchers(HttpMethod.POST, &quot;/users&quot;,  &quot;/users/login&quot;).permitAll()\r\n            \t\t\t.requestMatchers(HttpMethod.GET, &quot;/articles/**&quot;, &quot;/profiles/**&quot;, &quot;/tags&quot;).permitAll()\r\n    \t\t\t        .anyRequest().authenticated()\r\n    \t\t\t        )\r\n            .addFilterBefore(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class);\r\n            return http.build();\r\n      }\r\n\r\nTo enable `h2-console` I have add this:\r\n\r\n\t@Bean\r\n\tpublic WebSecurityCustomizer webSecurityCustomizer() {\r\n\t\treturn (web) -&gt; web.ignoring().requestMatchers(&quot;/h2-console/**&quot;);\r\n\t}\r\n\r\nHowever I find that the configurations in `SecurityFilterChain` are precedence the configurations which I set in `WebSecurityCustomizer`. For example the `jwtRequestFilter` is still lunched for `/h2-console/**` urls\r\n\r\nI can configure `/h2-console/*` in filter chain, But I want to know if there are other ways.","title":"Spring Security 6 SecurityFilterChain precedence WebSecurityCustomizer","body":"<p>In spring security 6 I have configured the <code>securityFilterChain</code> as below:</p>\n<pre><code>@Bean\nSecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n\n    http.csrf()\n        .disable()\n        .cors()\n        .and()\n        .exceptionHandling()\n        .authenticationEntryPoint(new HttpStatusEntryPoint(HttpStatus.UNAUTHORIZED))\n        .and()\n        .sessionManagement()\n        .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n        .and()\n        .authorizeHttpRequests(\n                authorize -&gt; authorize\n                    .requestMatchers(HttpMethod.OPTIONS).permitAll()\n                    .requestMatchers(HttpMethod.GET,&quot;/articles/feed&quot;).authenticated()\n                    .requestMatchers(HttpMethod.POST, &quot;/users&quot;,  &quot;/users/login&quot;).permitAll()\n                    .requestMatchers(HttpMethod.GET, &quot;/articles/**&quot;, &quot;/profiles/**&quot;, &quot;/tags&quot;).permitAll()\n                    .anyRequest().authenticated()\n                    )\n        .addFilterBefore(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class);\n        return http.build();\n  }\n</code></pre>\n<p>To enable <code>h2-console</code> I have add this:</p>\n<pre><code>@Bean\npublic WebSecurityCustomizer webSecurityCustomizer() {\n    return (web) -&gt; web.ignoring().requestMatchers(&quot;/h2-console/**&quot;);\n}\n</code></pre>\n<p>However I find that the configurations in <code>SecurityFilterChain</code> are precedence the configurations which I set in <code>WebSecurityCustomizer</code>. For example the <code>jwtRequestFilter</code> is still lunched for <code>/h2-console/**</code> urls</p>\n<p>I can configure <code>/h2-console/*</code> in filter chain, But I want to know if there are other ways.</p>\n"},{"tags":["java","android","sqlite","encoding","utf-8"],"comments":[{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":5,"creation_date":1509128664,"post_id":46981216,"comment_id":80910018,"body_markdown":"There is no foolproof way to determine character encoding from the encoded character data alone.  There are heuristic approaches that even a cursory web search should have turned up, but the usual mechanism is to rely on the encoding to be specified separately from the content.","body":"There is no foolproof way to determine character encoding from the encoded character data alone.  There are heuristic approaches that even a cursory web search should have turned up, but the usual mechanism is to rely on the encoding to be specified separately from the content."},{"owner":{"account_id":11849195,"reputation":109,"user_id":8670974,"display_name":"sdfbhg"},"score":0,"creation_date":1509128788,"post_id":46981216,"comment_id":80910074,"body_markdown":"Usually the encoding is specified by whomever inserted the data or separately from the content","body":"Usually the encoding is specified by whomever inserted the data or separately from the content"},{"owner":{"account_id":11935718,"reputation":21,"user_id":8734277,"display_name":"Kevin Giediel"},"score":0,"creation_date":1509129241,"post_id":46981216,"comment_id":80910284,"body_markdown":"that&#39;s true, however the problem is: my users are going to edit the file, if they edit with windows notepad and save it, it&#39;ll always get the encoding as &quot;ISO-8859-1&quot;. The original file encoding is &quot;UTF-8&quot;.","body":"that&#39;s true, however the problem is: my users are going to edit the file, if they edit with windows notepad and save it, it&#39;ll always get the encoding as &quot;ISO-8859-1&quot;. The original file encoding is &quot;UTF-8&quot;."},{"owner":{"account_id":1877557,"reputation":5688,"user_id":1698431,"accept_rate":75,"display_name":"lenz"},"score":1,"creation_date":1509130865,"post_id":46981216,"comment_id":80910972,"body_markdown":"I suggest you look for an encoding guessing library. Validating UTF-8 is pretty straight-forward, but when it comes Notepad and friends, you will get whatever 8-bit encoding is suitable for the user&#39;s localisation  eg. Polish `` can&#39;t be represented in ISO-8859-1. And for distinguishing different ISO-8859-_X_ encodings, you need statistics of character distributions in different languages.","body":"I suggest you look for an encoding guessing library. Validating UTF-8 is pretty straight-forward, but when it comes Notepad and friends, you will get whatever 8-bit encoding is suitable for the user&#39;s localisation  eg. Polish <code></code> can&#39;t be represented in ISO-8859-1. And for distinguishing different ISO-8859-<i>X</i> encodings, you need statistics of character distributions in different languages."},{"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"score":0,"creation_date":1509138021,"post_id":46981216,"comment_id":80914111,"body_markdown":"Isn&#39;t ISO-8859-1 a full subset of UTF-8?  I would recommend just assuming UTF-8 instead of trying to calculate if the file is ISO-8859-1 or UTF-8.  The issue arises if the uploaded file&#39;s encoding is either Windows-1252 or ISO-8859-X.  In the cases of Windows-1252, I have written converters that look for the microsoft control characters and then either translate them to a more ascii based character or the proper UTF-8 characters.  For ISO-8859-X issues, er, you&#39;re on your own.  Sorry.","body":"Isn&#39;t ISO-8859-1 a full subset of UTF-8?  I would recommend just assuming UTF-8 instead of trying to calculate if the file is ISO-8859-1 or UTF-8.  The issue arises if the uploaded file&#39;s encoding is either Windows-1252 or ISO-8859-X.  In the cases of Windows-1252, I have written converters that look for the microsoft control characters and then either translate them to a more ascii based character or the proper UTF-8 characters.  For ISO-8859-X issues, er, you&#39;re on your own.  Sorry."},{"owner":{"account_id":108321,"reputation":88297,"user_id":287586,"accept_rate":80,"display_name":"dan04"},"score":1,"creation_date":1509146046,"post_id":46981216,"comment_id":80916552,"body_markdown":"@hooknc: *US-ASCII* is a subset of UTF-8.  ISO-8859-1 is a subset in terms of character repertoire, but *not* in terms of encoded bytes.","body":"@hooknc: <i>US-ASCII</i> is a subset of UTF-8.  ISO-8859-1 is a subset in terms of character repertoire, but <i>not</i> in terms of encoded bytes."},{"owner":{"account_id":2567288,"reputation":20405,"user_id":2226988,"display_name":"Tom Blodget"},"score":0,"creation_date":1509297022,"post_id":46981216,"comment_id":80952380,"body_markdown":"You can&#39;t edit a text file without knowing which encoding to read it with and how to save back with the same, and which character set the encoding is for so as to avoid characters that aren&#39;t supported. Can you provide a template in a format that: explains it or influences the editors to default to the right thing or helps detect that the user inappropriately switched the encoding?","body":"You can&#39;t edit a text file without knowing which encoding to read it with and how to save back with the same, and which character set the encoding is for so as to avoid characters that aren&#39;t supported. Can you provide a template in a format that: explains it or influences the editors to default to the right thing or helps detect that the user inappropriately switched the encoding?"}],"answers":[{"tags":[],"owner":{"account_id":11935718,"reputation":21,"user_id":8734277,"display_name":"Kevin Giediel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676900881,"creation_date":1509391026,"answer_id":47022705,"question_id":46981216,"body_markdown":"I resolved the problem with the lib universal chardet.\r\nIt&#39;s working fine as expected.\r\n\r\n\tFileInputStream fIn  = new FileInputStream(myFile);\r\n\tbyte[] buf = new byte[4096];\r\n\tUniversalDetector detector = new UniversalDetector(null);\r\n\tint nread;\r\n\twhile ((nread = fIn.read(buf)) &gt; 0 &amp;&amp; !detector.isDone()) {\r\n\t\tdetector.handleData(buf, 0, nread);\r\n\t}\r\n\tdetector.dataEnd();\r\n\tString encoding = detector.getDetectedCharset();\r\n\tString chartsetName = null;\r\n\tif (encoding.equalsIgnoreCase(&quot;WINDOWS-1252&quot;)){\r\n\t\tchartsetName = &quot;ISO-8859-1&quot;;\r\n\t}\r\n\tif (encoding.equalsIgnoreCase(&quot;UTF-8&quot;)){\r\n\t\tchartsetName = &quot;UTF-8&quot;;\r\n\t}\r\n\r\n\tBufferedReader myReader = new BufferedReader(new InputStreamReader(fIn, chartsetName));","title":"java how to distinguish a file encoding ISO-8859-1 and UTF-8?","body":"<p>I resolved the problem with the lib universal chardet.\nIt's working fine as expected.</p>\n<pre><code>FileInputStream fIn  = new FileInputStream(myFile);\nbyte[] buf = new byte[4096];\nUniversalDetector detector = new UniversalDetector(null);\nint nread;\nwhile ((nread = fIn.read(buf)) &gt; 0 &amp;&amp; !detector.isDone()) {\n    detector.handleData(buf, 0, nread);\n}\ndetector.dataEnd();\nString encoding = detector.getDetectedCharset();\nString chartsetName = null;\nif (encoding.equalsIgnoreCase(&quot;WINDOWS-1252&quot;)){\n    chartsetName = &quot;ISO-8859-1&quot;;\n}\nif (encoding.equalsIgnoreCase(&quot;UTF-8&quot;)){\n    chartsetName = &quot;UTF-8&quot;;\n}\n\nBufferedReader myReader = new BufferedReader(new InputStreamReader(fIn, chartsetName));\n</code></pre>\n"}],"owner":{"account_id":11935718,"reputation":21,"user_id":8734277,"display_name":"Kevin Giediel"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3016,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":47022705,"answer_count":1,"score":1,"last_activity_date":1676900881,"creation_date":1509128265,"question_id":46981216,"body_markdown":"I have an Android Aplication that reads a file with SQL script to insert data into a SQLite DB.\r\nHowever I need to know the exatly encoding of this file, I have an EditText that reads information from SQLite, and if the encoding is not right, it&#39;ll be shown as invalid characters like &quot;?&quot; instead of characters like &quot;&#231;, &#237;, &#227;&quot;.\r\n\r\nI have the following code:\r\n\r\n    FileInputStream fIn  = new FileInputStream(myFile);\r\n    BufferedReader myReader = new BufferedReader(new InputStreamReader(fIn, &quot;ISO-8859-1&quot;));\r\n\tString aDataRow;\r\n\twhile ((aDataRow = myReader.readLine()) != null) {\r\n\t\tif(!aDataRow.isEmpty()){\r\n\t\t\tString[] querys = aDataRow.split(&quot;;&quot;);\r\n\t\t\tCollections.addAll(querysParaExecutar, querys);\r\n\t\t}\r\n\t}\r\n\tmyReader.close();\r\n\r\n------\r\nthis works for &quot;ISO-8859-1&quot; encoding, and works for UTF-8 if I set to &quot;UTF-8&quot; as a charset. I need to programatically detect the charset encoding (UTF-8 or ISO-8859-1) and apply the correct one to my code.\r\nIs there a simple way to do that?","title":"java how to distinguish a file encoding ISO-8859-1 and UTF-8?","body":"<p>I have an Android Aplication that reads a file with SQL script to insert data into a SQLite DB.\nHowever I need to know the exatly encoding of this file, I have an EditText that reads information from SQLite, and if the encoding is not right, it'll be shown as invalid characters like \"?\" instead of characters like \", , \".</p>\n\n<p>I have the following code:</p>\n\n<pre><code>FileInputStream fIn  = new FileInputStream(myFile);\nBufferedReader myReader = new BufferedReader(new InputStreamReader(fIn, \"ISO-8859-1\"));\nString aDataRow;\nwhile ((aDataRow = myReader.readLine()) != null) {\n    if(!aDataRow.isEmpty()){\n        String[] querys = aDataRow.split(\";\");\n        Collections.addAll(querysParaExecutar, querys);\n    }\n}\nmyReader.close();\n</code></pre>\n\n<hr>\n\n<p>this works for \"ISO-8859-1\" encoding, and works for UTF-8 if I set to \"UTF-8\" as a charset. I need to programatically detect the charset encoding (UTF-8 or ISO-8859-1) and apply the correct one to my code.\nIs there a simple way to do that?</p>\n"},{"tags":["java","postgresql","spring-batch","mybatis","connection-pooling"],"comments":[{"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1676888937,"post_id":75507960,"comment_id":133221652,"body_markdown":"Do your jobs also create some threats on their own?","body":"Do your jobs also create some threats on their own?"},{"owner":{"account_id":7626458,"reputation":125,"user_id":5782763,"display_name":"guchuan"},"score":0,"creation_date":1676889184,"post_id":75507960,"comment_id":133221738,"body_markdown":"thanks for the response, and no, no nested threads nor transactions found in jobs","body":"thanks for the response, and no, no nested threads nor transactions found in jobs"},{"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1676889736,"post_id":75507960,"comment_id":133221921,"body_markdown":"Do your jobs run for a long while?","body":"Do your jobs run for a long while?"},{"owner":{"account_id":7626458,"reputation":125,"user_id":5782763,"display_name":"guchuan"},"score":0,"creation_date":1676889919,"post_id":75507960,"comment_id":133221962,"body_markdown":"jobs are completed by 60~120 seconds, and data-source property `maxWaitMillis` is set to `128000`","body":"jobs are completed by 60~120 seconds, and data-source property <code>maxWaitMillis</code> is set to <code>128000</code>"},{"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1676891140,"post_id":75507960,"comment_id":133222280,"body_markdown":"Is it possible that sometimes they take a longer time to complete? 128000 is only slightly greater than 120 seconds. So, if sometimes they take 128 seconds, then it could be a timeout issue.","body":"Is it possible that sometimes they take a longer time to complete? 128000 is only slightly greater than 120 seconds. So, if sometimes they take 128 seconds, then it could be a timeout issue."},{"owner":{"account_id":7626458,"reputation":125,"user_id":5782763,"display_name":"guchuan"},"score":0,"creation_date":1676891698,"post_id":75507960,"comment_id":133222424,"body_markdown":"with a job like the sample code, does 1 job use 3 connections ? ( 1 connection for each step using transaction-manager)\n1 thought a connection was returned to the pool whenever it is committed or rollbacked, so 1 job uses 1 connection as a result.","body":"with a job like the sample code, does 1 job use 3 connections ? ( 1 connection for each step using transaction-manager) 1 thought a connection was returned to the pool whenever it is committed or rollbacked, so 1 job uses 1 connection as a result."}],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676900846,"creation_date":1676900846,"answer_id":75510050,"question_id":75507960,"body_markdown":"The number of database connections used in a step depends on a number of parameters, including the type of the step (single-threaded or multi-threaded), as well as the type of item reader (for example the jdbc cursor item reader opens a single connection, while the jdbc paging item reader opens a connection per page). The type of the reader is not described in your question, and without the full stack trace of the error, it is impossible to know the root cause of your issue.\r\n\r\nThe best way to answer your question is by enabling debug logs for the `org.springframework.jdbc` package.","title":"Could not open JDBC for transaction with Spring Batch","body":"<p>The number of database connections used in a step depends on a number of parameters, including the type of the step (single-threaded or multi-threaded), as well as the type of item reader (for example the jdbc cursor item reader opens a single connection, while the jdbc paging item reader opens a connection per page). The type of the reader is not described in your question, and without the full stack trace of the error, it is impossible to know the root cause of your issue.</p>\n<p>The best way to answer your question is by enabling debug logs for the <code>org.springframework.jdbc</code> package.</p>\n"}],"owner":{"account_id":7626458,"reputation":125,"user_id":5782763,"display_name":"guchuan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":401,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676900846,"creation_date":1676888261,"question_id":75507960,"body_markdown":"Sorry for the poor English, but I hope someone can help me.\r\n\r\nI am facing a \r\n`Could not open JDBC for transaction`\r\nerror caused by `org.springframework.jdbc.datasource.DataSourceTransactionManager` with SpringBatch.\r\n\r\nI have a job defined in xml that looks like this\r\n```xml\r\n&lt;batch:job id=&quot;chunkJob&quot; job-repository=&quot;jobRepository&quot;&gt;\r\n    &lt;batch:step id=&quot;chunkJob.step01&quot;&gt;\r\n        &lt;batch:tasklet transaction-manager=&quot;jobTransactionManager&quot;&gt;\r\n            &lt;batch:chunk reader=&quot;reader1&quot;\r\n                         processor=&quot;processor1&quot;\r\n                         writer=&quot;writer1&quot;\r\n                         commit-interval=&quot;1&quot; /&gt;\r\n        &lt;/batch:tasklet&gt;\r\n    &lt;/batch:step&gt;\r\n    &lt;batch:step id=&quot;chunkJob.step02&quot;&gt;\r\n        &lt;batch:tasklet transaction-manager=&quot;jobTransactionManager&quot;&gt;\r\n            &lt;batch:chunk reader=&quot;reader2&quot;\r\n                         processor=&quot;processor2&quot;\r\n                         writer=&quot;writer2&quot;\r\n                         commit-interval=&quot;1&quot; /&gt;\r\n        &lt;/batch:tasklet&gt;\r\n    &lt;/batch:step&gt;\r\n    &lt;batch:step id=&quot;chunkJob.step03&quot;&gt;\r\n        &lt;batch:tasklet transaction-manager=&quot;jobTransactionManager&quot;&gt;\r\n            &lt;batch:chunk reader=&quot;reader3&quot;\r\n                         processor=&quot;processor3&quot;\r\n                         writer=&quot;writer3&quot;\r\n                         commit-interval=&quot;1&quot; /&gt;\r\n        &lt;/batch:tasklet&gt;\r\n    &lt;/batch:step&gt;\r\n&lt;/batch:job&gt;\r\n\r\n```\r\n\r\nJava process is running untill I shut it down by my will, and job runs when I trigger it to run. And I set it to use multiple java thread to run several jobs at the same time.\r\n\r\n`jobTransactionManager` is using `org.apache.commons.dbcp2.BasicDataSource`, database is postgresql, and number of max connection set for pool is `10`.\r\n\r\nThe error came up when 4 job ran on the same time, but the error won&#39;t reproduce every time 4 job runs together.\r\nI was expecting the jdbc-connection to be returned every time the batch-step is completed(committed or rollbacked), so the number of connections that 1 job uses is 1, but since this error came up, I am bit confused.\r\n\r\nCan anyone help me understand how and when the jdbc connection is returned to the pool ?","title":"Could not open JDBC for transaction with Spring Batch","body":"<p>Sorry for the poor English, but I hope someone can help me.</p>\n<p>I am facing a\n<code>Could not open JDBC for transaction</code>\nerror caused by <code>org.springframework.jdbc.datasource.DataSourceTransactionManager</code> with SpringBatch.</p>\n<p>I have a job defined in xml that looks like this</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;batch:job id=&quot;chunkJob&quot; job-repository=&quot;jobRepository&quot;&gt;\n    &lt;batch:step id=&quot;chunkJob.step01&quot;&gt;\n        &lt;batch:tasklet transaction-manager=&quot;jobTransactionManager&quot;&gt;\n            &lt;batch:chunk reader=&quot;reader1&quot;\n                         processor=&quot;processor1&quot;\n                         writer=&quot;writer1&quot;\n                         commit-interval=&quot;1&quot; /&gt;\n        &lt;/batch:tasklet&gt;\n    &lt;/batch:step&gt;\n    &lt;batch:step id=&quot;chunkJob.step02&quot;&gt;\n        &lt;batch:tasklet transaction-manager=&quot;jobTransactionManager&quot;&gt;\n            &lt;batch:chunk reader=&quot;reader2&quot;\n                         processor=&quot;processor2&quot;\n                         writer=&quot;writer2&quot;\n                         commit-interval=&quot;1&quot; /&gt;\n        &lt;/batch:tasklet&gt;\n    &lt;/batch:step&gt;\n    &lt;batch:step id=&quot;chunkJob.step03&quot;&gt;\n        &lt;batch:tasklet transaction-manager=&quot;jobTransactionManager&quot;&gt;\n            &lt;batch:chunk reader=&quot;reader3&quot;\n                         processor=&quot;processor3&quot;\n                         writer=&quot;writer3&quot;\n                         commit-interval=&quot;1&quot; /&gt;\n        &lt;/batch:tasklet&gt;\n    &lt;/batch:step&gt;\n&lt;/batch:job&gt;\n\n</code></pre>\n<p>Java process is running untill I shut it down by my will, and job runs when I trigger it to run. And I set it to use multiple java thread to run several jobs at the same time.</p>\n<p><code>jobTransactionManager</code> is using <code>org.apache.commons.dbcp2.BasicDataSource</code>, database is postgresql, and number of max connection set for pool is <code>10</code>.</p>\n<p>The error came up when 4 job ran on the same time, but the error won't reproduce every time 4 job runs together.\nI was expecting the jdbc-connection to be returned every time the batch-step is completed(committed or rollbacked), so the number of connections that 1 job uses is 1, but since this error came up, I am bit confused.</p>\n<p>Can anyone help me understand how and when the jdbc connection is returned to the pool ?</p>\n"},{"tags":["java","delimiter"],"comments":[{"owner":{"account_id":13773045,"reputation":717,"user_id":9939999,"display_name":"Raj"},"score":3,"creation_date":1536571426,"post_id":52254657,"comment_id":91456757,"body_markdown":"Can you share your code?","body":"Can you share your code?"},{"owner":{"account_id":10995975,"reputation":2305,"user_id":8078178,"display_name":"Ramesh"},"score":0,"creation_date":1536571451,"post_id":52254657,"comment_id":91456775,"body_markdown":"Please come up with a code that you have tried.","body":"Please come up with a code that you have tried."},{"owner":{"account_id":2818342,"reputation":299848,"user_id":2422776,"display_name":"Mureinik"},"score":1,"creation_date":1536571461,"post_id":52254657,"comment_id":91456783,"body_markdown":"How are you reading those values? If you don&#39;t share your code, no one will be able to answer this question.","body":"How are you reading those values? If you don&#39;t share your code, no one will be able to answer this question."},{"owner":{"account_id":2513781,"reputation":1109,"user_id":2185630,"display_name":"dbl"},"score":0,"creation_date":1536571518,"post_id":52254657,"comment_id":91456817,"body_markdown":"Are you using a notebook and a pen to process all those entries?","body":"Are you using a notebook and a pen to process all those entries?"},{"owner":{"account_id":14316670,"reputation":3,"user_id":10341267,"display_name":"Joel Miller"},"score":0,"creation_date":1536664287,"post_id":52254657,"comment_id":91496370,"body_markdown":"Hey everyone, my bad I just noticed how I didnt include the code I used. It was basically using Scanner scan = new Scanner (System.in); so since the default delimeter is a white space, whatever the first value is (14 in this case) will be stored correct?","body":"Hey everyone, my bad I just noticed how I didnt include the code I used. It was basically using Scanner scan = new Scanner (System.in); so since the default delimeter is a white space, whatever the first value is (14 in this case) will be stored correct?"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1536574863,"creation_date":1536574863,"answer_id":52255668,"question_id":52254657,"body_markdown":"Assuming you&#39;re talking about `java.util.Scanner`, the default delimiter is whitespace. Therefore, if you enter &quot;14 45 20 16&quot; on the command line and then pressed the enter key, the `nextInt` or `next` call on the scanner instance would return 14. If you then call `nextInt` on scanner again, you get no prompting; that would immediately return 45. Another 2 calls would return respectively 20 and 16. If you then call `nextInt` a fifth time, that call would wait until you typed something.\r\n","title":"On the subject of delimiters","body":"<p>Assuming you're talking about <code>java.util.Scanner</code>, the default delimiter is whitespace. Therefore, if you enter \"14 45 20 16\" on the command line and then pressed the enter key, the <code>nextInt</code> or <code>next</code> call on the scanner instance would return 14. If you then call <code>nextInt</code> on scanner again, you get no prompting; that would immediately return 45. Another 2 calls would return respectively 20 and 16. If you then call <code>nextInt</code> a fifth time, that call would wait until you typed something.</p>\n"}],"owner":{"account_id":14316670,"reputation":3,"user_id":10341267,"display_name":"Joel Miller"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"accepted_answer_id":52255668,"answer_count":1,"score":-5,"last_activity_date":1676900815,"creation_date":1536571342,"question_id":52254657,"body_markdown":"Im new to Java and was just wondering , with the default delimiter, what will be the value of age? (Note i enter the values when prompted and then end with a enter key) \r\n\r\nEnter Age: 14 45 20 16 (then press enter key) \r\n\r\nWhat is the value of age( 14? 16? 14452016?) and why?","title":"On the subject of delimiters","body":"<p>Im new to Java and was just wondering , with the default delimiter, what will be the value of age? (Note i enter the values when prompted and then end with a enter key)</p>\n<p>Enter Age: 14 45 20 16 (then press enter key)</p>\n<p>What is the value of age( 14? 16? 14452016?) and why?</p>\n"},{"tags":["java","arrays","string"],"comments":[{"owner":{"account_id":3970780,"reputation":2667,"user_id":3275441,"accept_rate":75,"display_name":"Milgo"},"score":0,"creation_date":1602829990,"post_id":64384014,"comment_id":113848820,"body_markdown":"Please add a [Minimal Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example) and your complete stack trace.","body":"Please add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">Minimal Reproducible Example</a> and your complete stack trace."},{"owner":{"account_id":1631680,"reputation":17783,"user_id":1506071,"accept_rate":68,"display_name":"Pradeep Simha"},"score":0,"creation_date":1602829994,"post_id":64384014,"comment_id":113848824,"body_markdown":"What type is `pictures`? I think it&#39;s a custom type and don&#39;t have method `append`  so getting error.","body":"What type is <code>pictures</code>? I think it&#39;s a custom type and don&#39;t have method <code>append</code>  so getting error."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1602830216,"post_id":64384014,"comment_id":113848905,"body_markdown":"I think `pictures` is a `String[]`. And a `String` doesn&#39;t have an `append` method.","body":"I think <code>pictures</code> is a <code>String[]</code>. And a <code>String</code> doesn&#39;t have an <code>append</code> method."}],"answers":[{"tags":[],"owner":{"account_id":10341526,"reputation":284,"user_id":13157036,"display_name":"CodingNinja"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1602833117,"creation_date":1602830946,"answer_id":64384206,"question_id":64384014,"body_markdown":"You can simplify this without using `.append`. Use a `for` loop to print a row of asterisks, which should be the length of the string plus 2(1 extra for each side). To get the length of the string use `.length()`Then print an asterisk before and after the string using\r\n\r\n `System.out.println(&quot;*&quot; + string + &quot;*&quot;);`\r\n\r\nand print the same row of asterisks as in the first part.\r\n\r\n\r\nThe same goes for printing an array of strings, just use a for loop to print each value with  `System.out.println(&quot;*&quot; + string[i] + &quot;*&quot;);` then follow it with the same row of asterisks used for the top border.\r\n\r\n---\r\nEdit: After reading your question again closely I think you wanted the result stored in a new array. I started writing an example code and couldn&#39;t help but write the whole thing:\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tString text [] = {&quot;abc&quot;, &quot;def&quot;, &quot;ghi&quot;, &quot;jkl&quot;};\r\n\t    String framedString [] = {&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;}; //java arrays are fixed in size, \r\n                                                         //so I had to define 6 blank values\r\n\t    String asterisks = &quot;**&quot;;\r\n\t    int lineCounter = 0;\r\n\t    \r\n\t    for (int i = 0; i &lt; text[1].length(); i++) { //creates string of asterisks\r\n\t    \tasterisks = asterisks + &quot;*&quot;;\r\n\t    }\r\n\t    \r\n    \tframedString[lineCounter] = asterisks; //first value becomes asterisk string\r\n    \t\r\n    \tfor (int j = 0; j &lt; text.length; j++) { //adds an asterisk before and after each string of &quot;text&quot; and stores it in &quot;framedString&quot;\r\n    \t\tlineCounter = j+1;\r\n    \t\tframedString[lineCounter] = &quot;*&quot; + text[j] + &quot;*&quot;;\r\n    \t}\r\n    \t\r\n    \tframedString[lineCounter+1] = asterisks; // last value becomes asterisk string as well\r\n    \t\r\n    \tfor (int k = 0; k &lt; framedString.length; k++) { //prints the result\r\n    \t\tSystem.out.println(framedString[k]);\r\n    \t}   \t\r\n\t}","title":"Given a rectangular matrix of characters, add a border of asterisks(*) to it","body":"<p>You can simplify this without using <code>.append</code>. Use a <code>for</code> loop to print a row of asterisks, which should be the length of the string plus 2(1 extra for each side). To get the length of the string use <code>.length()</code>Then print an asterisk before and after the string using</p>\n<p><code>System.out.println(&quot;*&quot; + string + &quot;*&quot;);</code></p>\n<p>and print the same row of asterisks as in the first part.</p>\n<p>The same goes for printing an array of strings, just use a for loop to print each value with  <code>System.out.println(&quot;*&quot; + string[i] + &quot;*&quot;);</code> then follow it with the same row of asterisks used for the top border.</p>\n<hr />\n<p>Edit: After reading your question again closely I think you wanted the result stored in a new array. I started writing an example code and couldn't help but write the whole thing:</p>\n<pre><code>public static void main(String[] args) {\n    String text [] = {&quot;abc&quot;, &quot;def&quot;, &quot;ghi&quot;, &quot;jkl&quot;};\n    String framedString [] = {&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;}; //java arrays are fixed in size, \n                                                     //so I had to define 6 blank values\n    String asterisks = &quot;**&quot;;\n    int lineCounter = 0;\n    \n    for (int i = 0; i &lt; text[1].length(); i++) { //creates string of asterisks\n        asterisks = asterisks + &quot;*&quot;;\n    }\n    \n    framedString[lineCounter] = asterisks; //first value becomes asterisk string\n    \n    for (int j = 0; j &lt; text.length; j++) { //adds an asterisk before and after each string of &quot;text&quot; and stores it in &quot;framedString&quot;\n        lineCounter = j+1;\n        framedString[lineCounter] = &quot;*&quot; + text[j] + &quot;*&quot;;\n    }\n    \n    framedString[lineCounter+1] = asterisks; // last value becomes asterisk string as well\n    \n    for (int k = 0; k &lt; framedString.length; k++) { //prints the result\n        System.out.println(framedString[k]);\n    }       \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4346080,"reputation":1073,"user_id":3547985,"accept_rate":71,"display_name":"Mahesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618455863,"creation_date":1618455863,"answer_id":67101708,"question_id":64384014,"body_markdown":"    String[] addBorder(String[] picture) {\r\n    final int additionalCount = 2;\r\n    int elementLength = picture[0].length() + additionalCount;  // first element length which used to determine howmany * required.\r\n    int loopLength = picture.length + additionalCount; // extra two iteration for loop to add *** at the begining and end of array.\r\n    \r\n    String [] output = new String[loopLength];\r\n    \r\n    String border = &quot;&quot;;\r\n    for( int i = 1; i &lt;= elementLength; i++){\r\n        border += &quot;*&quot;;\r\n    }\r\n    \r\n    for (int i = 0; i &lt; loopLength; i++){\r\n        if(i == 0){\r\n            output[i] = border;\r\n        } else if(i == loopLength-1){\r\n             output[i] = border;\r\n        } else {\r\n            String s = &quot;*&quot;+picture[i-1]+&quot;*&quot;;\r\n            output[i] = s;\r\n        }\r\n    }\r\n    return output;\r\n}","title":"Given a rectangular matrix of characters, add a border of asterisks(*) to it","body":"<pre><code>String[] addBorder(String[] picture) {\nfinal int additionalCount = 2;\nint elementLength = picture[0].length() + additionalCount;  // first element length which used to determine howmany * required.\nint loopLength = picture.length + additionalCount; // extra two iteration for loop to add *** at the begining and end of array.\n\nString [] output = new String[loopLength];\n\nString border = &quot;&quot;;\nfor( int i = 1; i &lt;= elementLength; i++){\n    border += &quot;*&quot;;\n}\n\nfor (int i = 0; i &lt; loopLength; i++){\n    if(i == 0){\n        output[i] = border;\n    } else if(i == loopLength-1){\n         output[i] = border;\n    } else {\n        String s = &quot;*&quot;+picture[i-1]+&quot;*&quot;;\n        output[i] = s;\n    }\n}\nreturn output;\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":16708376,"reputation":41,"user_id":12076269,"display_name":"Raja Shaiyan Azad Khan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626601605,"creation_date":1626601605,"answer_id":68427891,"question_id":64384014,"body_markdown":"This solution can be broken down into 3 simple steps, 1st is to add the list of * at the top of the array, 2nd to add the * at the start and end of the element in the picture array by looping via the elements of the array and the last part is to add the list of * to the bottom of the array as the length of the last element of the array.\r\n\r\n```\r\nlet picture =  [&quot;abc&quot;, &quot;ded&quot;]; \r\n\r\nfunction addBorder(picture) {\r\n //adding the * on the top of the picture array as equal to the lenght of the top element of the array.\r\n let top = &#39;*&#39;.repeat(picture[0].length);\r\n picture.unshift(top);\r\n\r\n //looping through the array and concat the * at the end and the start of the array\r\n for(let i = 0; i &lt; picture.length; i++){\r\n     picture[i] = picture[i] + &#39;*&#39;;\r\n     picture[i] = &#39;*&#39; + picture[i];\r\n }\r\n\r\n //adding the * on the bottom of the picture array as equal to the lenght of the last element of the array.\r\n let bottom = &#39;*&#39;.repeat(picture[1].length);\r\n picture.push(bottom);\r\n \r\n return picture;\r\n}\r\n\r\n```","title":"Given a rectangular matrix of characters, add a border of asterisks(*) to it","body":"<p>This solution can be broken down into 3 simple steps, 1st is to add the list of * at the top of the array, 2nd to add the * at the start and end of the element in the picture array by looping via the elements of the array and the last part is to add the list of * to the bottom of the array as the length of the last element of the array.</p>\n<pre><code>let picture =  [&quot;abc&quot;, &quot;ded&quot;]; \n\nfunction addBorder(picture) {\n //adding the * on the top of the picture array as equal to the lenght of the top element of the array.\n let top = '*'.repeat(picture[0].length);\n picture.unshift(top);\n\n //looping through the array and concat the * at the end and the start of the array\n for(let i = 0; i &lt; picture.length; i++){\n     picture[i] = picture[i] + '*';\n     picture[i] = '*' + picture[i];\n }\n\n //adding the * on the bottom of the picture array as equal to the lenght of the last element of the array.\n let bottom = '*'.repeat(picture[1].length);\n picture.push(bottom);\n \n return picture;\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22460112,"reputation":1,"user_id":16662174,"display_name":"eduestralop"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633115533,"creation_date":1633115533,"answer_id":69410969,"question_id":64384014,"body_markdown":"```\r\nfunction addBorder(picture) {\r\n  let maxlength = 0\r\n  for (let i=0;i&lt;picture.length;i++){\r\n    if(picture[i].length&gt;maxlength){\r\n      maxlength= picture[i].length\r\n    }\r\n  }\r\n  let border = &quot;*&quot;.repeat(maxlength+2);\r\n  let resultArr =[border,border]\r\nfor (let i=0;i&lt;picture.length;i++){\r\n    resultArr.splice(i+1,0,&quot;\\*&quot;+picture[i]+&quot;\\*&quot;)\r\n} return resultArr\r\n}\r\n```","title":"Given a rectangular matrix of characters, add a border of asterisks(*) to it","body":"<pre><code>function addBorder(picture) {\n  let maxlength = 0\n  for (let i=0;i&lt;picture.length;i++){\n    if(picture[i].length&gt;maxlength){\n      maxlength= picture[i].length\n    }\n  }\n  let border = &quot;*&quot;.repeat(maxlength+2);\n  let resultArr =[border,border]\nfor (let i=0;i&lt;picture.length;i++){\n    resultArr.splice(i+1,0,&quot;\\*&quot;+picture[i]+&quot;\\*&quot;)\n} return resultArr\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13751015,"reputation":1,"user_id":9923100,"display_name":"jimibilibob"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650319165,"creation_date":1650319165,"answer_id":71917508,"question_id":64384014,"body_markdown":"    function solution(picture) {\r\n    const verticalBorder = &#39;*&#39;.repeat(picture[0].length);\r\n    picture.unshift(verticalBorder);\r\n    picture.push(verticalBorder);\r\n    return picture.map( (el) =&gt; &#39;*&#39; + el + &#39;*&#39; );\r\n}","title":"Given a rectangular matrix of characters, add a border of asterisks(*) to it","body":"<pre><code>function solution(picture) {\nconst verticalBorder = '*'.repeat(picture[0].length);\npicture.unshift(verticalBorder);\npicture.push(verticalBorder);\nreturn picture.map( (el) =&gt; '*' + el + '*' );\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":9584721,"reputation":21,"user_id":7117949,"display_name":"Md Monirul Islam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670315955,"creation_date":1670315955,"answer_id":74699509,"question_id":64384014,"body_markdown":"    function addBorder(picture) {\r\n      const wall = &quot;*&quot;.repeat(picture[0].length + 2);\r\n    \r\n      picture.unshift(wall);\r\n      picture.push(wall);\r\n    \r\n      for (let i = 1; i &lt; picture.length - 1; i++) {\r\n        picture[i] = `*${picture[i]}*`;\r\n      }\r\n      return picture;\r\n    }\r\n    \r\n    console.log(addBorder([&quot;abc&quot;, &quot;def&quot;, &quot;ghi&quot;]));\r\n\r\n","title":"Given a rectangular matrix of characters, add a border of asterisks(*) to it","body":"<pre><code>function addBorder(picture) {\n  const wall = &quot;*&quot;.repeat(picture[0].length + 2);\n\n  picture.unshift(wall);\n  picture.push(wall);\n\n  for (let i = 1; i &lt; picture.length - 1; i++) {\n    picture[i] = `*${picture[i]}*`;\n  }\n  return picture;\n}\n\nconsole.log(addBorder([&quot;abc&quot;, &quot;def&quot;, &quot;ghi&quot;]));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9915175,"reputation":1,"user_id":15214722,"display_name":"Mujahi Dul Islam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676900118,"creation_date":1676900118,"answer_id":75509932,"question_id":64384014,"body_markdown":"    function solution(picture) {\r\n        let len=picture[0].length;\r\n        let toReturnArray=[];\r\n        toReturnArray[0]=&#39;*&#39;.repeat(len+2);\r\n        for(let i=0;i&lt;picture.length;i++){\r\n            toReturnArray.push(`${&#39;*&#39;+picture[i]+&#39;*&#39;}`);\r\n        }\r\n        toReturnArray.push(toReturnArray[0]);\r\n        return toReturnArray;\r\n    }","title":"Given a rectangular matrix of characters, add a border of asterisks(*) to it","body":"<pre><code>function solution(picture) {\n    let len=picture[0].length;\n    let toReturnArray=[];\n    toReturnArray[0]='*'.repeat(len+2);\n    for(let i=0;i&lt;picture.length;i++){\n        toReturnArray.push(`${'*'+picture[i]+'*'}`);\n    }\n    toReturnArray.push(toReturnArray[0]);\n    return toReturnArray;\n}\n</code></pre>\n"}],"owner":{"account_id":10692006,"reputation":93,"user_id":7870548,"display_name":"Shivangi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6884,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":7,"score":0,"last_activity_date":1676900118,"creation_date":1602829865,"question_id":64384014,"body_markdown":"Example\r\nFor\r\n\r\n```\r\npicture = [&quot;abc&quot;,\r\n           &quot;ded&quot;]\r\n```\r\n\r\nthe output should be\r\n\r\n```\r\naddBorder(picture) = [&quot;*****&quot;,\r\n                      &quot;*abc*&quot;,\r\n                      &quot;*ded*&quot;,\r\n                      &quot;*****&quot;]\r\n```\r\n\r\nI tried to another array and append the &#39;*&#39; ith elements\r\n\r\n    for (int i=0; i&lt;arrlen+2; i++)\r\n        if(i==0 || i==arrlen+1){\r\n            for(int j = 0; j&lt;len+2; j++)\r\n                pictures[i] = pictures[i].append(&quot;*&quot;)\r\n\r\nand\r\n\r\n    else {\r\n            for(int j = 0; j&lt;len+2; j++)\r\n                if(j==0 || i==len+1)\r\n                    pictures[i] = pictures[i].append(&quot;*&quot;);\r\n\r\nBut it says &quot;cannot find symbol&quot; at the .append()","title":"Given a rectangular matrix of characters, add a border of asterisks(*) to it","body":"<p>Example\nFor</p>\n<pre><code>picture = [&quot;abc&quot;,\n           &quot;ded&quot;]\n</code></pre>\n<p>the output should be</p>\n<pre><code>addBorder(picture) = [&quot;*****&quot;,\n                      &quot;*abc*&quot;,\n                      &quot;*ded*&quot;,\n                      &quot;*****&quot;]\n</code></pre>\n<p>I tried to another array and append the '*' ith elements</p>\n<pre><code>for (int i=0; i&lt;arrlen+2; i++)\n    if(i==0 || i==arrlen+1){\n        for(int j = 0; j&lt;len+2; j++)\n            pictures[i] = pictures[i].append(&quot;*&quot;)\n</code></pre>\n<p>and</p>\n<pre><code>else {\n        for(int j = 0; j&lt;len+2; j++)\n            if(j==0 || i==len+1)\n                pictures[i] = pictures[i].append(&quot;*&quot;);\n</code></pre>\n<p>But it says &quot;cannot find symbol&quot; at the .append()</p>\n"},{"tags":["java","android","android-studio","gradle"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1676899572,"post_id":75250208,"comment_id":133224563,"body_markdown":"Please do not change your question in a way that it is asking something completely different if there are already answers to it. It is no problem if one of your questions is a duplicate. In case you have a new question, please ask it as a separate question.","body":"Please do not change your question in a way that it is asking something completely different if there are already answers to it. It is no problem if one of your questions is a duplicate. In case you have a new question, please ask it as a separate question."},{"owner":{"account_id":19064277,"reputation":37,"user_id":13919672,"display_name":"Kastor438"},"score":0,"creation_date":1677268429,"post_id":75250208,"comment_id":133311036,"body_markdown":"@dan1st It is a problem. I can&#39;t ask new question until I satisfy the issue of the this duplicate. The question is a duplicate as I acknowledged a while ago. I can&#39;t edit the question to no loner be a duplicate, meaning I can not satisfy what Stackoverflow wants me to do to be allowed to ask new questions. If I can&#39;t edit this question to not be a duplicate, and I can&#39;t post until I do make this question a non-duplicate question, what am I supposed to do?","body":"@dan1st It is a problem. I can&#39;t ask new question until I satisfy the issue of the this duplicate. The question is a duplicate as I acknowledged a while ago. I can&#39;t edit the question to no loner be a duplicate, meaning I can not satisfy what Stackoverflow wants me to do to be allowed to ask new questions. If I can&#39;t edit this question to not be a duplicate, and I can&#39;t post until I do make this question a non-duplicate question, what am I supposed to do?"}],"answers":[{"tags":[],"owner":{"account_id":10587710,"reputation":2772,"user_id":7799462,"display_name":"Halil Ozel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674765274,"creation_date":1674765274,"answer_id":75251375,"question_id":75250208,"body_markdown":"You must change Gradle JDK version to `11`.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ao3Cn.png","title":"How can I change my Java Runtime version to a more updated version?","body":"<p>You must change Gradle JDK version to <code>11</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/ao3Cn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ao3Cn.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":19064277,"reputation":37,"user_id":13919672,"display_name":"Kastor438"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1674837805,"answer_count":1,"score":0,"last_activity_date":1676899604,"creation_date":1674757559,"question_id":75250208,"body_markdown":"I am receiving the following error when trying to sync gradle files in Android Studio:\r\n```none\r\nA problem occurred configuring root project &#39;Test&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:classpath&#39;.\r\n   &gt; Could not resolve com.android.tools.build:gradle:7.4.0.\r\n     Required by:\r\n         project : &gt; com.android.application:com.android.application.gradle.plugin:7.4.0\r\n         project : &gt; com.android.library:com.android.library.gradle.plugin:7.4.0\r\n      &gt; No matching variant of com.android.tools.build:gradle:7.4.0 was found. The consumer was configured to find a runtime of a library compatible with Java 8, packaged as a jar, and its dependencies declared externally, as well as attribute &#39;org.gradle.plugin.api-version&#39; with value &#39;7.6&#39; but:\r\n          - Variant &#39;apiElements&#39; capability com.android.tools.build:gradle:7.4.0 declares a library, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares an API of a component compatible with Java 11 and the consumer needed a runtime of a component compatible with Java 8\r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.6&#39;)\r\n          - Variant &#39;javadocElements&#39; capability com.android.tools.build:gradle:7.4.0 declares a runtime of a component, and its dependencies declared externally:\r\n              - Incompatible because this component declares documentation and the consumer needed a library\r\n              - Other compatible attributes:\r\n                  - Doesn&#39;t say anything about its target Java version (required compatibility with Java 8)\r\n                  - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.6&#39;)\r\n          - Variant &#39;runtimeElements&#39; capability com.android.tools.build:gradle:7.4.0 declares a runtime of a library, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares a component compatible with Java 11 and the consumer needed a component compatible with Java 8\r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.6&#39;)\r\n          - Variant &#39;sourcesElements&#39; capability com.android.tools.build:gradle:7.4.0 declares a runtime of a component, and its dependencies declared externally:\r\n              - Incompatible because this component declares documentation and the consumer needed a library\r\n              - Other compatible attributes:\r\n                  - Doesn&#39;t say anything about its target Java version (required compatibility with Java 8)\r\n                  - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.6&#39;)\r\n```\r\nWhich seems to point out that I am using a Java runtime of version 8, and require it to be set to version 11.\r\n\r\nHow do I stop this error and change my Java runtime version?\r\n\r\nIs version 11 also an outdated version of Java runtime?\r\n\r\nWhat are the downfalls of using an outdated version?","title":"How can I change my Java Runtime version to a more updated version?","body":"<p>I am receiving the following error when trying to sync gradle files in Android Studio:</p>\n<pre class=\"lang-none prettyprint-override\"><code>A problem occurred configuring root project 'Test'.\n&gt; Could not resolve all files for configuration ':classpath'.\n   &gt; Could not resolve com.android.tools.build:gradle:7.4.0.\n     Required by:\n         project : &gt; com.android.application:com.android.application.gradle.plugin:7.4.0\n         project : &gt; com.android.library:com.android.library.gradle.plugin:7.4.0\n      &gt; No matching variant of com.android.tools.build:gradle:7.4.0 was found. The consumer was configured to find a runtime of a library compatible with Java 8, packaged as a jar, and its dependencies declared externally, as well as attribute 'org.gradle.plugin.api-version' with value '7.6' but:\n          - Variant 'apiElements' capability com.android.tools.build:gradle:7.4.0 declares a library, packaged as a jar, and its dependencies declared externally:\n              - Incompatible because this component declares an API of a component compatible with Java 11 and the consumer needed a runtime of a component compatible with Java 8\n              - Other compatible attribute:\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '7.6')\n          - Variant 'javadocElements' capability com.android.tools.build:gradle:7.4.0 declares a runtime of a component, and its dependencies declared externally:\n              - Incompatible because this component declares documentation and the consumer needed a library\n              - Other compatible attributes:\n                  - Doesn't say anything about its target Java version (required compatibility with Java 8)\n                  - Doesn't say anything about its elements (required them packaged as a jar)\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '7.6')\n          - Variant 'runtimeElements' capability com.android.tools.build:gradle:7.4.0 declares a runtime of a library, packaged as a jar, and its dependencies declared externally:\n              - Incompatible because this component declares a component compatible with Java 11 and the consumer needed a component compatible with Java 8\n              - Other compatible attribute:\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '7.6')\n          - Variant 'sourcesElements' capability com.android.tools.build:gradle:7.4.0 declares a runtime of a component, and its dependencies declared externally:\n              - Incompatible because this component declares documentation and the consumer needed a library\n              - Other compatible attributes:\n                  - Doesn't say anything about its target Java version (required compatibility with Java 8)\n                  - Doesn't say anything about its elements (required them packaged as a jar)\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '7.6')\n</code></pre>\n<p>Which seems to point out that I am using a Java runtime of version 8, and require it to be set to version 11.</p>\n<p>How do I stop this error and change my Java runtime version?</p>\n<p>Is version 11 also an outdated version of Java runtime?</p>\n<p>What are the downfalls of using an outdated version?</p>\n"},{"tags":["java","azure-active-directory","jwt","digital-signature","verify"],"comments":[{"owner":{"account_id":1826174,"reputation":55261,"user_id":1658906,"accept_rate":100,"display_name":"juunas"},"score":0,"creation_date":1676896401,"post_id":75509214,"comment_id":133223688,"body_markdown":"How are you acquiring the token? What scope(s) are you using? Note that if it is an MS Graph API token, you won&#39;t be able to validate it. Make sure you use a scope defined in your app registration under Expose an API.","body":"How are you acquiring the token? What scope(s) are you using? Note that if it is an MS Graph API token, you won&#39;t be able to validate it. Make sure you use a scope defined in your app registration under Expose an API."},{"owner":{"account_id":1012668,"reputation":512,"user_id":1024886,"accept_rate":43,"display_name":"Burak Dal"},"score":0,"creation_date":1676897718,"post_id":75509214,"comment_id":133224049,"body_markdown":"Mobile app gets token, then send a request to backend. some information is like that:\n{\n  &quot;issuer&quot;: [&quot;https://sts.windows.net/XXXXXXXX/&quot;], // one of // &#39;iss&#39; claim\n  &quot;tenant&quot;: &quot;XXXXXXXXXX&quot;, // &#39;tid&#39; claim\n  &quot;client&quot;: &quot;XXXXXXXXXXXXXX&quot;, // &#39;appid&#39; claim\n  &quot;audience&quot;: &quot;XXXXXXXXXXXXXX&quot;, // &#39;aud&#39; claim\n  &quot;scope&quot;: &quot;openid&quot; // &#39;scp&#39; claim contains array of the whitespace-separated scopes\n}\n\nhttps://learn.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-implicit-grant-flow#prefer-the-auth-code-flow\nmobile app uses this","body":"Mobile app gets token, then send a request to backend. some information is like that: {   &quot;issuer&quot;: [&quot;<a href=\"https://sts.windows.net/XXXXXXXX/&quot;]\" rel=\"nofollow noreferrer\">sts.windows.net/XXXXXXXX/&quot;]</a>, // one of // &#39;iss&#39; claim   &quot;tenant&quot;: &quot;XXXXXXXXXX&quot;, // &#39;tid&#39; claim   &quot;client&quot;: &quot;XXXXXXXXXXXXXX&quot;, // &#39;appid&#39; claim   &quot;audience&quot;: &quot;XXXXXXXXXXXXXX&quot;, // &#39;aud&#39; claim   &quot;scope&quot;: &quot;openid&quot; // &#39;scp&#39; claim contains array of the whitespace-separated scopes }  <a href=\"https://learn.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-implicit-grant-flow#prefer-the-auth-code-flow\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/azure/active-directory/develop/&hellip;</a> mobile app uses this"},{"owner":{"account_id":1826174,"reputation":55261,"user_id":1658906,"accept_rate":100,"display_name":"juunas"},"score":0,"creation_date":1676897902,"post_id":75509214,"comment_id":133224112,"body_markdown":"Are the scopes like openid or User.Read or are they scopes that you have defined in Expose an API page?","body":"Are the scopes like openid or User.Read or are they scopes that you have defined in Expose an API page?"},{"owner":{"account_id":1012668,"reputation":512,"user_id":1024886,"accept_rate":43,"display_name":"Burak Dal"},"score":0,"creation_date":1676897977,"post_id":75509214,"comment_id":133224129,"body_markdown":"scope is openid and flow is like that: https://learn.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-implicit-grant-flow#prefer-the-auth-code-flow","body":"scope is openid and flow is like that: <a href=\"https://learn.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-implicit-grant-flow#prefer-the-auth-code-flow\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/azure/active-directory/develop/&hellip;</a>"},{"owner":{"account_id":1826174,"reputation":55261,"user_id":1658906,"accept_rate":100,"display_name":"juunas"},"score":0,"creation_date":1676898369,"post_id":75509214,"comment_id":133224243,"body_markdown":"That&#39;s the ID token then. You need an access token.","body":"That&#39;s the ID token then. You need an access token."},{"owner":{"account_id":1012668,"reputation":512,"user_id":1024886,"accept_rate":43,"display_name":"Burak Dal"},"score":0,"creation_date":1676898484,"post_id":75509214,"comment_id":133224266,"body_markdown":"I have an access token,  I am trying to verify the bearer token.  I tried to share other information, not the token.","body":"I have an access token,  I am trying to verify the bearer token.  I tried to share other information, not the token."},{"owner":{"account_id":1826174,"reputation":55261,"user_id":1658906,"accept_rate":100,"display_name":"juunas"},"score":0,"creation_date":1676899405,"post_id":75509214,"comment_id":133224516,"body_markdown":"Or hmm, maybe I did in fact say that wrong. If the scope is openid, it is not correct for your API anyway. You need to use a scope you defined in your app registration when acquiring the access token.","body":"Or hmm, maybe I did in fact say that wrong. If the scope is openid, it is not correct for your API anyway. You need to use a scope you defined in your app registration when acquiring the access token."},{"owner":{"account_id":1012668,"reputation":512,"user_id":1024886,"accept_rate":43,"display_name":"Burak Dal"},"score":0,"creation_date":1676905157,"post_id":75509214,"comment_id":133226362,"body_markdown":"Can&#39;t I write my own JWT parse and verify method for a token created with scope openid?","body":"Can&#39;t I write my own JWT parse and verify method for a token created with scope openid?"}],"owner":{"account_id":1012668,"reputation":512,"user_id":1024886,"accept_rate":43,"display_name":"Burak Dal"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":343,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676899597,"creation_date":1676895677,"question_id":75509214,"body_markdown":"I am developing a Backend code for a company to log in to our application in Login with Azure Ad User. I have to be able to make a JWT Verify. \r\n\r\nI read too many posts. I&#39;m trying to use the AUTH0 library. I have tried a lot, but still &quot;com.auth Where do I make mistakes? \r\n\r\n```   \r\n       try {\r\n            String token = &quot;your-token-here&quot;; // set real token\r\n            String tenant_id = &quot;your-tenant_id&quot;; // set tenant id\r\n            String jwkSetUri = &quot;https://login.microsoftonline.com/&quot; + tenant_id + &quot;/discovery/v2.0/keys&quot;;\r\n            DecodedJWT decodedJWT = JWT.decode(token);\r\n            JwkProvider jwkProvider = null;\r\n\r\n            jwkProvider = new UrlJwkProvider(new URL(jwkSetUri));\r\n\r\n            Jwk jwk = jwkProvider.get(decodedJWT.getKeyId());\r\n            Algorithm algorithm = Algorithm.RSA256((RSAPublicKey) jwk.getPublicKey(), null);\r\n            JWTVerifier verifier = JWT.require(algorithm)\r\n                    .withIssuer(&quot;https://login.microsoftonline.com/&quot; + tenant_id + &quot;/v2.0&quot;)\r\n                    .build();\r\n            DecodedJWT verifiedJWT = verifier.verify(token);\r\n            // do something with the verified JWT\r\n            System.out.println(&quot;Jwt is valid: &quot; + verifiedJWT);\r\n        } catch (MalformedURLException e) {\r\n            throw new RuntimeException(e);\r\n        } catch (InvalidPublicKeyException e) {\r\n            throw new RuntimeException(e);\r\n        } catch (JwkException e) {\r\n            throw new RuntimeException(e);\r\n        } \r\n\r\n```\r\n\r\nError:\r\n\r\n``` \r\nException in thread &quot;main&quot; com.auth0.jwt.exceptions.SignatureVerificationException: The Token&#39;s Signature resulted invalid when verified using the Algorithm: SHA256withRSA\r\n\tat com.auth0.jwt.algorithms.RSAAlgorithm.verify(RSAAlgorithm.java:51)\r\n\tat com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:463)\r\n\tat com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:445)\r\n\tat com.wheelme.client.App.main(App.java:31)\r\n\r\n```\r\n\r\nMobile app gets token, then send a request to backend. some information I have outside of token is like that: \r\n\r\n``` \r\n\r\n{ &quot;issuer&quot;: [&quot;sts.windows.net/XXXXXXXX/&quot;], // one of // &#39;iss&#39; claim \r\n&quot;tenant&quot;: &quot;XXXXXXXXXX&quot;, // &#39;tid&#39; claim \r\n&quot;client&quot;: &quot;XXXXXXXXXXXXXX&quot;, // &#39;appid&#39; claim &quot;audience&quot;: \r\n&quot;XXXXXXXXXXXXXX&quot;, // &#39;aud&#39; claim \r\n&quot;scope&quot;: &quot;openid&quot; // &#39;scp&#39; claim contains array of the whitespace-separated scopes }\r\n\r\n``` \r\n\r\n\r\nMobile uses this to get token:\r\n\r\nhttps://learn.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-implicit-grant-flow#prefer-the-auth-code-flow\r\n\r\n\r\nHow can I fix this code?","title":"Can not verify JWT token of Azure AD with openid scope in java","body":"<p>I am developing a Backend code for a company to log in to our application in Login with Azure Ad User. I have to be able to make a JWT Verify.</p>\n<p>I read too many posts. I'm trying to use the AUTH0 library. I have tried a lot, but still &quot;com.auth Where do I make mistakes?</p>\n<pre><code>       try {\n            String token = &quot;your-token-here&quot;; // set real token\n            String tenant_id = &quot;your-tenant_id&quot;; // set tenant id\n            String jwkSetUri = &quot;https://login.microsoftonline.com/&quot; + tenant_id + &quot;/discovery/v2.0/keys&quot;;\n            DecodedJWT decodedJWT = JWT.decode(token);\n            JwkProvider jwkProvider = null;\n\n            jwkProvider = new UrlJwkProvider(new URL(jwkSetUri));\n\n            Jwk jwk = jwkProvider.get(decodedJWT.getKeyId());\n            Algorithm algorithm = Algorithm.RSA256((RSAPublicKey) jwk.getPublicKey(), null);\n            JWTVerifier verifier = JWT.require(algorithm)\n                    .withIssuer(&quot;https://login.microsoftonline.com/&quot; + tenant_id + &quot;/v2.0&quot;)\n                    .build();\n            DecodedJWT verifiedJWT = verifier.verify(token);\n            // do something with the verified JWT\n            System.out.println(&quot;Jwt is valid: &quot; + verifiedJWT);\n        } catch (MalformedURLException e) {\n            throw new RuntimeException(e);\n        } catch (InvalidPublicKeyException e) {\n            throw new RuntimeException(e);\n        } catch (JwkException e) {\n            throw new RuntimeException(e);\n        } \n\n</code></pre>\n<p>Error:</p>\n<pre><code>Exception in thread &quot;main&quot; com.auth0.jwt.exceptions.SignatureVerificationException: The Token's Signature resulted invalid when verified using the Algorithm: SHA256withRSA\n    at com.auth0.jwt.algorithms.RSAAlgorithm.verify(RSAAlgorithm.java:51)\n    at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:463)\n    at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:445)\n    at com.wheelme.client.App.main(App.java:31)\n\n</code></pre>\n<p>Mobile app gets token, then send a request to backend. some information I have outside of token is like that:</p>\n<pre><code>\n{ &quot;issuer&quot;: [&quot;sts.windows.net/XXXXXXXX/&quot;], // one of // 'iss' claim \n&quot;tenant&quot;: &quot;XXXXXXXXXX&quot;, // 'tid' claim \n&quot;client&quot;: &quot;XXXXXXXXXXXXXX&quot;, // 'appid' claim &quot;audience&quot;: \n&quot;XXXXXXXXXXXXXX&quot;, // 'aud' claim \n&quot;scope&quot;: &quot;openid&quot; // 'scp' claim contains array of the whitespace-separated scopes }\n\n</code></pre>\n<p>Mobile uses this to get token:</p>\n<p><a href=\"https://learn.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-implicit-grant-flow#prefer-the-auth-code-flow\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-implicit-grant-flow#prefer-the-auth-code-flow</a></p>\n<p>How can I fix this code?</p>\n"},{"tags":["java","maven","netbeans","pom.xml"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":1,"creation_date":1676893794,"post_id":75508745,"comment_id":133222975,"body_markdown":"What is the purpose of this? Sounds strange.","body":"What is the purpose of this? Sounds strange."}],"owner":{"account_id":26509400,"reputation":7,"user_id":20144973,"display_name":"JavascriptNewbie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676899557,"creation_date":1676892832,"question_id":75508745,"body_markdown":"I have a Netbeans 16 Maven project with package like that com.abc.mypackage. I tested ok with my java Test file (contain main class) that have the main class on the mypakage folder. Now I want to put the test file (CountryTest.java) on the root folder, that means same folder with src folder and pom.xml. I tried but it not successfully. (I used one jar plugin to build jar file with outside library and I dont want to change it)\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;com.abc&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mypackage&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0&lt;/version&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n            &lt;exec.mainClass&gt;CountryTest&lt;/exec.mainClass&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n        &lt;!--  Gson: Java to JSON conversion --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n          &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n          &lt;version&gt;2.10.1&lt;/version&gt;\r\n          &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n         &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n            &lt;groupId&gt;com.jolira&lt;/groupId&gt;\r\n            &lt;artifactId&gt;onejar-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.4&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;mainClass&gt;CountryTest&lt;/mainClass&gt;\r\n                  &lt;onejarVersion&gt;0.97&lt;/onejarVersion&gt;\r\n                  &lt;attachToBuild&gt;true&lt;/attachToBuild&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;one-jar&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nCan you help me with this file (pom.xml). It BUILD SUCCESS but when I run: java -jar target/mypackage-1.0.one-jar.jar it said that \r\n\r\n    Exception in thread &quot;main&quot; java.lang.ClassNotFoundException: CountryTest\r\n            at com.simontuffs.onejar.JarClassLoader.findClass(JarClassLoader.java:713)\r\n            at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587)\r\n            at com.simontuffs.onejar.JarClassLoader.loadClass(JarClassLoader.java:630)\r\n            at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n            at com.simontuffs.onejar.Boot.run(Boot.java:334)\r\n            at com.simontuffs.onejar.Boot.main(Boot.java:166)\r\n\r\nIn CoutryTest.java I already imported like that:\r\n\r\n    import com.abc.mypackage.File1;\r\n    import com.abc.mypackage.File2;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    public class CountryTest {public static void main(String[] args)\r\n          throws Exception {....}}\r\n\r\nIf I put the test file on \\src\\main\\java, it run successful, but how can I put it to same level with source file (\\src\\)?","title":"How to eidted pom.xml to put file contains Main class on root folder?","body":"<p>I have a Netbeans 16 Maven project with package like that com.abc.mypackage. I tested ok with my java Test file (contain main class) that have the main class on the mypakage folder. Now I want to put the test file (CountryTest.java) on the root folder, that means same folder with src folder and pom.xml. I tried but it not successfully. (I used one jar plugin to build jar file with outside library and I dont want to change it)</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.abc&lt;/groupId&gt;\n    &lt;artifactId&gt;mypackage&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;exec.mainClass&gt;CountryTest&lt;/exec.mainClass&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n    &lt;!--  Gson: Java to JSON conversion --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n      &lt;artifactId&gt;gson&lt;/artifactId&gt;\n      &lt;version&gt;2.10.1&lt;/version&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;build&gt;\n     &lt;plugins&gt;\n        &lt;plugin&gt;\n        &lt;groupId&gt;com.jolira&lt;/groupId&gt;\n        &lt;artifactId&gt;onejar-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.4.4&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;configuration&gt;\n              &lt;mainClass&gt;CountryTest&lt;/mainClass&gt;\n              &lt;onejarVersion&gt;0.97&lt;/onejarVersion&gt;\n              &lt;attachToBuild&gt;true&lt;/attachToBuild&gt;\n            &lt;/configuration&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;one-jar&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Can you help me with this file (pom.xml). It BUILD SUCCESS but when I run: java -jar target/mypackage-1.0.one-jar.jar it said that</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.ClassNotFoundException: CountryTest\n        at com.simontuffs.onejar.JarClassLoader.findClass(JarClassLoader.java:713)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587)\n        at com.simontuffs.onejar.JarClassLoader.loadClass(JarClassLoader.java:630)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n        at com.simontuffs.onejar.Boot.run(Boot.java:334)\n        at com.simontuffs.onejar.Boot.main(Boot.java:166)\n</code></pre>\n<p>In CoutryTest.java I already imported like that:</p>\n<pre><code>import com.abc.mypackage.File1;\nimport com.abc.mypackage.File2;\nimport java.util.Collections;\nimport java.util.List;\npublic class CountryTest {public static void main(String[] args)\n      throws Exception {....}}\n</code></pre>\n<p>If I put the test file on \\src\\main\\java, it run successful, but how can I put it to same level with source file (\\src)?</p>\n"},{"tags":["java","synchronized"],"comments":[{"owner":{"account_id":243084,"reputation":31440,"user_id":515034,"accept_rate":59,"display_name":"Abimaran Kugathasan"},"score":0,"creation_date":1397734016,"post_id":23131810,"comment_id":35365473,"body_markdown":"What do you mean by variable? You mean primitive variable?","body":"What do you mean by variable? You mean primitive variable?"},{"owner":{"account_id":4342004,"reputation":163,"user_id":3545021,"accept_rate":36,"display_name":"PTech"},"score":0,"creation_date":1397736151,"post_id":23131810,"comment_id":35366839,"body_markdown":"@Kugathasan Abimaran. - Yes I mean primitive variable. like int, float etc.      e.g. synchronize int a","body":"@Kugathasan Abimaran. - Yes I mean primitive variable. like int, float etc.      e.g. synchronize int a"}],"answers":[{"tags":[],"owner":{"account_id":2149234,"reputation":2245,"user_id":1906108,"accept_rate":100,"display_name":"D&#225;vid Szab&#243;"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1397733881,"creation_date":1397733881,"answer_id":23131843,"question_id":23131810,"body_markdown":"You can synchronize a variable too.\r\n\r\n    synchronized(myvariable) {\r\n    .......\r\n    }\r\n\r\nAlso you should check the &#39;volatile&#39; keyword.\r\nhttp://en.wikipedia.org/wiki/Volatile_variable#In_Java","title":"Why is the synchronize keyword restricted to non primitive fields only?","body":"<p>You can synchronize a variable too.</p>\n\n<pre><code>synchronized(myvariable) {\n.......\n}\n</code></pre>\n\n<p>Also you should check the 'volatile' keyword.\n<a href=\"http://en.wikipedia.org/wiki/Volatile_variable#In_Java\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Volatile_variable#In_Java</a></p>\n"},{"tags":[],"owner":{"account_id":3948755,"reputation":2180,"user_id":3260147,"accept_rate":50,"display_name":"Niraj Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1397734039,"creation_date":1397734039,"answer_id":23131901,"question_id":23131810,"body_markdown":"you mean to say you need to synchronize operations on variable ? like you want to protect operation on variable e.g. increment,decrement ? java has atomic API like `java.util.concurrent.AtomicBoolean` etc..\r\n\r\n\r\nBenefits of using Atomic Concurrency classes is that we dont need to worry about synchronization at each and every place we are dealing with integers and its assumed to be more efficient that synchronization which involves locking resources.","title":"Why is the synchronize keyword restricted to non primitive fields only?","body":"<p>you mean to say you need to synchronize operations on variable ? like you want to protect operation on variable e.g. increment,decrement ? java has atomic API like <code>java.util.concurrent.AtomicBoolean</code> etc..</p>\n\n<p>Benefits of using Atomic Concurrency classes is that we dont need to worry about synchronization at each and every place we are dealing with integers and its assumed to be more efficient that synchronization which involves locking resources.</p>\n"},{"tags":[],"owner":{"account_id":3971851,"reputation":1056,"user_id":3276247,"accept_rate":46,"display_name":"user3276247"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1397734095,"creation_date":1397734095,"answer_id":23131919,"question_id":23131810,"body_markdown":"Variable in itself does not stand on its own. It needs a class to have some context. That&#39;s why the lock is on the class or the object and not on the variable.","title":"Why is the synchronize keyword restricted to non primitive fields only?","body":"<p>Variable in itself does not stand on its own. It needs a class to have some context. That's why the lock is on the class or the object and not on the variable.</p>\n"},{"tags":[],"owner":{"account_id":3200622,"reputation":5051,"user_id":2702730,"accept_rate":81,"display_name":"senseiwu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1397734847,"creation_date":1397734847,"answer_id":23132171,"question_id":23131810,"body_markdown":"I suppose by **variable**, you meant class fields. But this is not how synchronization works in Java.\r\n\r\nThe aim of `synchronized` block or method is to prevent multiple threads changing the state of a class variable at the same time. Synchronization in `Java`works by owning a lock - if you have synchronized method, you are using an intrinsic lock of the object, otherwise you have to supply a lock. If fields were to be declared as `synchronized`, that would more or less force all the methods in that class that uses the field to work in a synchronized way by owning the lock and this would be bad for performance.\r\n\r\nIf you are looking for synchronization guarantees at field level without having to synchronize methods, consider using [Atomic variables][1] like `java.util.concurrent.atomic.AtomicInteger`\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/essential/concurrency/atomicvars.html","title":"Why is the synchronize keyword restricted to non primitive fields only?","body":"<p>I suppose by <strong>variable</strong>, you meant class fields. But this is not how synchronization works in Java.</p>\n\n<p>The aim of <code>synchronized</code> block or method is to prevent multiple threads changing the state of a class variable at the same time. Synchronization in <code>Java</code>works by owning a lock - if you have synchronized method, you are using an intrinsic lock of the object, otherwise you have to supply a lock. If fields were to be declared as <code>synchronized</code>, that would more or less force all the methods in that class that uses the field to work in a synchronized way by owning the lock and this would be bad for performance.</p>\n\n<p>If you are looking for synchronization guarantees at field level without having to synchronize methods, consider using <a href=\"http://docs.oracle.com/javase/tutorial/essential/concurrency/atomicvars.html\" rel=\"nofollow\">Atomic variables</a> like <code>java.util.concurrent.atomic.AtomicInteger</code></p>\n"},{"tags":[],"owner":{"account_id":2375368,"reputation":4423,"user_id":2078908,"display_name":"ursa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676891652,"creation_date":1676891652,"answer_id":75508537,"question_id":23131810,"body_markdown":"Restriction to use reference-typed objects as `synchronized(..)` argument comes from the idea of encapsulation, when you and only you control who and how can access your `lock` (ref or value).\r\n\r\nImagine the case when you want to take a lock on value-typed (primitive) lock `int x = 5`, then inside `synchronized` block another lock on `int y = 0`. In the same time other part of your project (or 3-rd party library) also takes these locks in opposite order - first `int a = 0`, then `int b = 5`.\r\n\r\nResult? Deadlock. Why? Because of lack of encapsulation - you can&#39;t control visibility of value-typed (primitive) variables. They always are public, by nature.","title":"Why is the synchronize keyword restricted to non primitive fields only?","body":"<p>Restriction to use reference-typed objects as <code>synchronized(..)</code> argument comes from the idea of encapsulation, when you and only you control who and how can access your <code>lock</code> (ref or value).</p>\n<p>Imagine the case when you want to take a lock on value-typed (primitive) lock <code>int x = 5</code>, then inside <code>synchronized</code> block another lock on <code>int y = 0</code>. In the same time other part of your project (or 3-rd party library) also takes these locks in opposite order - first <code>int a = 0</code>, then <code>int b = 5</code>.</p>\n<p>Result? Deadlock. Why? Because of lack of encapsulation - you can't control visibility of value-typed (primitive) variables. They always are public, by nature.</p>\n"}],"owner":{"account_id":4342004,"reputation":163,"user_id":3545021,"accept_rate":36,"display_name":"PTech"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4031,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":23131919,"answer_count":5,"score":3,"last_activity_date":1676899469,"creation_date":1397733778,"question_id":23131810,"body_markdown":"In java there is a `synchronize` keyword that is used to avoid multiple thread access to a method or some block of code at some point.\r\n\r\nMy question is why cant the `synchronize` keyword be used with primitive variables? I know that java does not permit this. But what is the logic as to why this isnt permitted since all variables in java are `Object`s including primitive types like `int`,`float` etc.\r\n\r\n\r\ne.g.   \r\n\r\n    int a=1;\r\n    synchronized(a){}//why is this forbidden ","title":"Why is the synchronize keyword restricted to non primitive fields only?","body":"<p>In java there is a <code>synchronize</code> keyword that is used to avoid multiple thread access to a method or some block of code at some point.</p>\n<p>My question is why cant the <code>synchronize</code> keyword be used with primitive variables? I know that java does not permit this. But what is the logic as to why this isnt permitted since all variables in java are <code>Object</code>s including primitive types like <code>int</code>,<code>float</code> etc.</p>\n<p>e.g.</p>\n<pre><code>int a=1;\nsynchronized(a){}//why is this forbidden \n</code></pre>\n"},{"tags":["java","spring","spring-boot","interceptor","thread-local"],"comments":[{"owner":{"account_id":153343,"reputation":1086,"user_id":368532,"accept_rate":70,"display_name":"Boris"},"score":0,"creation_date":1676844019,"post_id":75500904,"comment_id":133214396,"body_markdown":"Do you maybe use async or any similar tool that makes your service visiting another thread?","body":"Do you maybe use async or any similar tool that makes your service visiting another thread?"},{"owner":{"account_id":12875245,"reputation":547,"user_id":9312181,"display_name":"tusharRawat"},"score":0,"creation_date":1676887775,"post_id":75500904,"comment_id":133221336,"body_markdown":"some calls to downstream are async where this is being used. Like they are being called in a different thread.","body":"some calls to downstream are async where this is being used. Like they are being called in a different thread."},{"owner":{"account_id":12875245,"reputation":547,"user_id":9312181,"display_name":"tusharRawat"},"score":0,"creation_date":1676887800,"post_id":75500904,"comment_id":133221343,"body_markdown":"But to cover those cases I have also added ```InheritableThreadLocal```","body":"But to cover those cases I have also added <code>InheritableThreadLocal</code>"},{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1676891629,"post_id":75500904,"comment_id":133222408,"body_markdown":"Try a normal servlet filter instead. The getRequestURI() is not immutable but your code assumes so.","body":"Try a normal servlet filter instead. The getRequestURI() is not immutable but your code assumes so."},{"owner":{"account_id":12875245,"reputation":547,"user_id":9312181,"display_name":"tusharRawat"},"score":0,"creation_date":1676894392,"post_id":75500904,"comment_id":133223142,"body_markdown":"@BalusC, How filter is better then interceptor here. ```getRequestURI()``` is to skip this logic in ```/health``` endpoints. I think that&#39;s Irrelevant.","body":"@BalusC, How filter is better then interceptor here. <code>getRequestURI()</code> is to skip this logic in <code>&#47;health</code> endpoints. I think that&#39;s Irrelevant."},{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1676894513,"post_id":75500904,"comment_id":133223178,"body_markdown":"With a filter you don&#39;t need to check getRequestURI() twice so you eliminate the risk that it&#39;s modified in the meanwhile (e.g. by a forward or a custom request wrapper etc). You can put the creation and destroy of threadlocal in a try-finally in a single method block which is way much more robust.","body":"With a filter you don&#39;t need to check getRequestURI() twice so you eliminate the risk that it&#39;s modified in the meanwhile (e.g. by a forward or a custom request wrapper etc). You can put the creation and destroy of threadlocal in a try-finally in a single method block which is way much more robust."},{"owner":{"account_id":12875245,"reputation":547,"user_id":9312181,"display_name":"tusharRawat"},"score":0,"creation_date":1676895589,"post_id":75500904,"comment_id":133223462,"body_markdown":"Got it. but even if it get&#39;s changed in postHandle call. It will clear the ThreadLocal by calling remove, which won&#39;t do anything as it&#39;s never got set right ?","body":"Got it. but even if it get&#39;s changed in postHandle call. It will clear the ThreadLocal by calling remove, which won&#39;t do anything as it&#39;s never got set right ?"},{"owner":{"account_id":12875245,"reputation":547,"user_id":9312181,"display_name":"tusharRawat"},"score":0,"creation_date":1676896031,"post_id":75500904,"comment_id":133223571,"body_markdown":"@BalusC, I don&#39;t see a condition here. Where values set by on request thread in ThreadLocal gets accessed by other request thread and values removed by one request thread will be removed for other request thread as well.","body":"@BalusC, I don&#39;t see a condition here. Where values set by on request thread in ThreadLocal gets accessed by other request thread and values removed by one request thread will be removed for other request thread as well."},{"owner":{"account_id":12875245,"reputation":547,"user_id":9312181,"display_name":"tusharRawat"},"score":0,"creation_date":1676899778,"post_id":75500904,"comment_id":133224622,"body_markdown":"@BalusC, I am using @Async in service class, Is that possible that context information is not being passed to the thread which is executing, even after using  ```InheritableThreadLocal```","body":"@BalusC, I am using @Async in service class, Is that possible that context information is not being passed to the thread which is executing, even after using  <code>InheritableThreadLocal</code>"}],"owner":{"account_id":12875245,"reputation":547,"user_id":9312181,"display_name":"tusharRawat"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":440,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676899435,"creation_date":1676817717,"question_id":75500904,"body_markdown":"```ThreadLocal``` in being set in ```HandlerInterceptor``` for each **request**, but sometimes it is returning **null** instead of the expected value, when accessing in the service layer. \r\n\r\nAs stated by docs **ThreadLocal** objects are **thread safe** and are local to a single request thread. So even if multiple requests are setting/clearing it, it will only get set/cleared for that particular request thread and not impact the request threads.\r\n\r\nBut 1-2 times(**not able to reproduce now, even with lot of logging statements**) in debug mode, I encounter that the ```ThreadLocal``` to be null in the service layer(thus got a **NullPointerException**), even though it should not be as it&#39;s being set in the ```HandlerInceptor``` which always hits first before the controller layer in spring-boot.\r\n\r\n&gt; Is below **ThreadLocal** code really thread-safe, when multiple request threads access it simultaneously.\r\n\r\nIs it possible that **Interceptor** is executed in one **Thread** and controller executes in another thread and somehow controller thread executes first before interceptor sets the values in **ThreadLocal**. \r\n\r\nCode :\r\n\r\n**ThreadLocal.class**\r\n    \r\n    @Component\r\n    public class ThreadLocalUtil {\r\n    \r\n        private static final ThreadLocal&lt;ConstantsConfig&gt; constantsConfig = new InheritableThreadLocal&lt;&gt;();\r\n    \r\n        public static ConstantsConfig getConstantsConfig() {\r\n            return constantsConfig.get();\r\n        }\r\n    \r\n        public static void setConstantsConfig(ConstantsConfig config) {\r\n            constantsConfig.set(config);\r\n        }\r\n    \r\n        public static void clearConstantsConfig() {\r\n            constantsConfig.remove();\r\n        }\r\n    }\r\n\r\n\r\n**HandlerInceptor.class**\r\n\r\n    public class RequestInterceptor implements HandlerInterceptor {\r\n\r\n    @Override\r\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\r\n        if (request.getRequestURI().equals(&quot;/health&quot;)) {\r\n            return true;\r\n        }\r\n        // we are always setting ThreadLocal, before accessing it in service layer.\r\n        setConstants(request);\r\n        logThreadLocal();\r\n        return true;\r\n    }\r\n\r\n    private void setConstants(HttpServletRequest request) {          \r\n         ThreadLocalUtil.setConstantsConfig(BeanUtil.getBean(ImplConstantsConfig.class))\r\n    }\r\n\r\n    @Override\r\n    public void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView)\r\n            throws Exception {\r\n        if (request.getRequestURI().equals(&quot;/health&quot;)) {\r\n            return;\r\n        }\r\n    \r\n        ThreadLocalUtil.clearConstantsConfig();\r\n    }\r\n\r\nAccessorService.class\r\n\r\n    // accessed in multiple service classes for 1 request/response cycle.\r\n    ThreadLocalUtil.getConstantsConfig().getProperty1()\r\n    ThreadLocalUtil.getConstantsConfig().getProperty2()\r\n\r\n\r\n\r\n\r\n","title":"ThreadLocal is returning null, even after being set in HandlerInterceptor","body":"<p><code>ThreadLocal</code> in being set in <code>HandlerInterceptor</code> for each <strong>request</strong>, but sometimes it is returning <strong>null</strong> instead of the expected value, when accessing in the service layer.</p>\n<p>As stated by docs <strong>ThreadLocal</strong> objects are <strong>thread safe</strong> and are local to a single request thread. So even if multiple requests are setting/clearing it, it will only get set/cleared for that particular request thread and not impact the request threads.</p>\n<p>But 1-2 times(<strong>not able to reproduce now, even with lot of logging statements</strong>) in debug mode, I encounter that the <code>ThreadLocal</code> to be null in the service layer(thus got a <strong>NullPointerException</strong>), even though it should not be as it's being set in the <code>HandlerInceptor</code> which always hits first before the controller layer in spring-boot.</p>\n<blockquote>\n<p>Is below <strong>ThreadLocal</strong> code really thread-safe, when multiple request threads access it simultaneously.</p>\n</blockquote>\n<p>Is it possible that <strong>Interceptor</strong> is executed in one <strong>Thread</strong> and controller executes in another thread and somehow controller thread executes first before interceptor sets the values in <strong>ThreadLocal</strong>.</p>\n<p>Code :</p>\n<p><strong>ThreadLocal.class</strong></p>\n<pre><code>@Component\npublic class ThreadLocalUtil {\n\n    private static final ThreadLocal&lt;ConstantsConfig&gt; constantsConfig = new InheritableThreadLocal&lt;&gt;();\n\n    public static ConstantsConfig getConstantsConfig() {\n        return constantsConfig.get();\n    }\n\n    public static void setConstantsConfig(ConstantsConfig config) {\n        constantsConfig.set(config);\n    }\n\n    public static void clearConstantsConfig() {\n        constantsConfig.remove();\n    }\n}\n</code></pre>\n<p><strong>HandlerInceptor.class</strong></p>\n<pre><code>public class RequestInterceptor implements HandlerInterceptor {\n\n@Override\npublic boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\n    if (request.getRequestURI().equals(&quot;/health&quot;)) {\n        return true;\n    }\n    // we are always setting ThreadLocal, before accessing it in service layer.\n    setConstants(request);\n    logThreadLocal();\n    return true;\n}\n\nprivate void setConstants(HttpServletRequest request) {          \n     ThreadLocalUtil.setConstantsConfig(BeanUtil.getBean(ImplConstantsConfig.class))\n}\n\n@Override\npublic void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView)\n        throws Exception {\n    if (request.getRequestURI().equals(&quot;/health&quot;)) {\n        return;\n    }\n\n    ThreadLocalUtil.clearConstantsConfig();\n}\n</code></pre>\n<p>AccessorService.class</p>\n<pre><code>// accessed in multiple service classes for 1 request/response cycle.\nThreadLocalUtil.getConstantsConfig().getProperty1()\nThreadLocalUtil.getConstantsConfig().getProperty2()\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1676899155,"post_id":75509728,"comment_id":133224445,"body_markdown":"It will simply not work. Annotations are static metadata. Next to that `@Pattern` isn&#39;t a spring annotation and as such not handled by SPring so no variable substition, if any, is available. So in short it won&#39;t work.","body":"It will simply not work. Annotations are static metadata. Next to that <code>@Pattern</code> isn&#39;t a spring annotation and as such not handled by SPring so no variable substition, if any, is available. So in short it won&#39;t work."}],"owner":{"account_id":15489786,"reputation":11,"user_id":11174627,"display_name":"Pratik Malani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":454,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676898987,"creation_date":1676898987,"question_id":75509728,"body_markdown":"Not able to read regular expressions from application.properties file when using @Pattern annotation in Spring Boot 3.0.1\r\n\r\nTrying to use the same steps given in\r\nhttps://stackoverflow.com/questions/59581979/how-to-read-the-regex-pattern-from-property-file-in-spring-boot\r\n\r\nBut after following the steps getting below error\r\n\r\n\r\n```\r\n`Caused by: java.lang.IllegalArgumentException: HV000022: Invalid regular expression.\r\nat org.hibernate.validator.internal.constraintvalidators.bv.PatternValidator.initialize(PatternValidator.java:43)\r\nat org.hibernate.validator.internal.constraintvalidators.bv.PatternValidator.initialize(PatternValidator.java:24)\r\nat org.hibernate.validator.internal.engine.constraintvalidation.AbstractConstraintValidatorManagerImpl.initializeValidator(AbstractConstraintValidatorManagerImpl.java:142)\r\n... 14 more\r\nCaused by: java.util.regex.PatternSyntaxException: Illegal repetition near index 2\r\n${my.regex.charOrNumber}\r\n^\r\nat java.base/java.util.regex.Pattern.error(Pattern.java:2028)\r\nat java.base/java.util.regex.Pattern.closure(Pattern.java:3309)\r\nat java.base/java.util.regex.Pattern.sequence(Pattern.java:2214)\r\nat java.base/java.util.regex.Pattern.expr(Pattern.java:2069)\r\nat java.base/java.util.regex.Pattern.compile(Pattern.java:1783)\r\nat java.base/java.util.regex.Pattern.\\&lt;init\\&gt;(Pattern.java:1430)\r\nat java.base/java.util.regex.Pattern.compile(Pattern.java:1095)\r\nat org.hibernate.validator.internal.constraintvalidators.bv.PatternValidator.initialize(PatternValidator.java:40)`\r\n```\r\n","title":"Read regexp from application.properties file in spring boot 3.0.1 using @pattern","body":"<p>Not able to read regular expressions from application.properties file when using @Pattern annotation in Spring Boot 3.0.1</p>\n<p>Trying to use the same steps given in\n<a href=\"https://stackoverflow.com/questions/59581979/how-to-read-the-regex-pattern-from-property-file-in-spring-boot\">How to read the regex pattern from property file in spring boot</a></p>\n<p>But after following the steps getting below error</p>\n<pre><code>`Caused by: java.lang.IllegalArgumentException: HV000022: Invalid regular expression.\nat org.hibernate.validator.internal.constraintvalidators.bv.PatternValidator.initialize(PatternValidator.java:43)\nat org.hibernate.validator.internal.constraintvalidators.bv.PatternValidator.initialize(PatternValidator.java:24)\nat org.hibernate.validator.internal.engine.constraintvalidation.AbstractConstraintValidatorManagerImpl.initializeValidator(AbstractConstraintValidatorManagerImpl.java:142)\n... 14 more\nCaused by: java.util.regex.PatternSyntaxException: Illegal repetition near index 2\n${my.regex.charOrNumber}\n^\nat java.base/java.util.regex.Pattern.error(Pattern.java:2028)\nat java.base/java.util.regex.Pattern.closure(Pattern.java:3309)\nat java.base/java.util.regex.Pattern.sequence(Pattern.java:2214)\nat java.base/java.util.regex.Pattern.expr(Pattern.java:2069)\nat java.base/java.util.regex.Pattern.compile(Pattern.java:1783)\nat java.base/java.util.regex.Pattern.\\&lt;init\\&gt;(Pattern.java:1430)\nat java.base/java.util.regex.Pattern.compile(Pattern.java:1095)\nat org.hibernate.validator.internal.constraintvalidators.bv.PatternValidator.initialize(PatternValidator.java:40)`\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1676864960,"post_id":75504947,"comment_id":133216958,"body_markdown":"`System.out.println(Arrays.stream(input).mapToObj(d -&gt; String.format(&quot;%3.2f&quot;, d)).collect(Collectors.joining(&quot;, &quot;)));`","body":"<code>System.out.println(Arrays.stream(input).mapToObj(d -&gt; String.format(&quot;%3.2f&quot;, d)).collect(Collectors.joining(&quot;, &quot;)));</code>"},{"owner":{"account_id":3558883,"reputation":1652,"user_id":2971851,"accept_rate":100,"display_name":"Steven Chou"},"score":2,"creation_date":1676867517,"post_id":75504947,"comment_id":133217261,"body_markdown":"@HovercraftFullOfEels Arrays.stream is not supporting a float array.","body":"@HovercraftFullOfEels Arrays.stream is not supporting a float array."},{"owner":{"account_id":11829073,"reputation":76,"user_id":8656297,"display_name":"Dupeyrat Kevin"},"score":0,"creation_date":1676892703,"post_id":75504947,"comment_id":133222688,"body_markdown":"A simple research can maybe help you : https://stackoverflow.com/questions/37987051/how-to-concatenate-a-string-with-the-new-1-8-stream-api#37987434. You will need to box your float primitive and convert your array to a stream first","body":"A simple research can maybe help you : <a href=\"https://stackoverflow.com/questions/37987051/how-to-concatenate-a-string-with-the-new-1-8-stream-api#37987434\" title=\"how to concatenate a string with the new 1 8 stream api%2337987434\">stackoverflow.com/questions/37987051/&hellip;</a>. You will need to box your float primitive and convert your array to a stream first"}],"answers":[{"tags":[],"owner":{"account_id":27832003,"reputation":11,"user_id":21250236,"display_name":"RMDragonheart"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676893470,"creation_date":1676893470,"answer_id":75508848,"question_id":75504947,"body_markdown":"I think that those two options would be acceptable if you extract the logic to sperate method and name it properly.\r\n```\r\n    // Option 1\r\n    float[] input = new float[] {1.0f, 0.95f, 0.11f};\r\n    var stringArray = Arrays.toString(input);\r\n    stringArray = stringArray.substring(1, stringArray.length() - 1);\r\n    stringArray = stringArray.replaceAll(&quot; &quot;, &quot;&quot;);\r\n    System.out.println(stringArray);\r\n    // Result: 1.0,0.95,0.11\r\n\r\n    // Option 2\r\n    var stringBuilder = new StringBuilder();\r\n    for (var value : input) {\r\n      stringBuilder.append(value).append(&quot;,&quot;);\r\n    }\r\n    stringBuilder.setLength(stringBuilder.length() - 1);\r\n    System.out.println(stringBuilder);\r\n    // Result: 1.0,0.95,0.11\r\n```","title":"How to convert a float array to a string concatenated by comma","body":"<p>I think that those two options would be acceptable if you extract the logic to sperate method and name it properly.</p>\n<pre><code>    // Option 1\n    float[] input = new float[] {1.0f, 0.95f, 0.11f};\n    var stringArray = Arrays.toString(input);\n    stringArray = stringArray.substring(1, stringArray.length() - 1);\n    stringArray = stringArray.replaceAll(&quot; &quot;, &quot;&quot;);\n    System.out.println(stringArray);\n    // Result: 1.0,0.95,0.11\n\n    // Option 2\n    var stringBuilder = new StringBuilder();\n    for (var value : input) {\n      stringBuilder.append(value).append(&quot;,&quot;);\n    }\n    stringBuilder.setLength(stringBuilder.length() - 1);\n    System.out.println(stringBuilder);\n    // Result: 1.0,0.95,0.11\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3558883,"reputation":1652,"user_id":2971851,"accept_rate":100,"display_name":"Steven Chou"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676898598,"creation_date":1676898036,"answer_id":75509572,"question_id":75504947,"body_markdown":"I figured out a close answer:\r\n\r\n    float[] input = new float[]{1.0f, 0.95f, 0.11f};\r\n\r\n    // output: 1.0,0.95,0.11\r\n    System.out.println(\r\n            IntStream.range(0, input.length)\r\n                    .mapToObj(i -&gt; String.valueOf(input[i]))\r\n                    .collect(Collectors.joining(&quot;,&quot;))\r\n    );\r\n\r\nThe idea is to use the `IntStream` to create an array index first, then map to each array element.","title":"How to convert a float array to a string concatenated by comma","body":"<p>I figured out a close answer:</p>\n<pre><code>float[] input = new float[]{1.0f, 0.95f, 0.11f};\n\n// output: 1.0,0.95,0.11\nSystem.out.println(\n        IntStream.range(0, input.length)\n                .mapToObj(i -&gt; String.valueOf(input[i]))\n                .collect(Collectors.joining(&quot;,&quot;))\n);\n</code></pre>\n<p>The idea is to use the <code>IntStream</code> to create an array index first, then map to each array element.</p>\n"}],"owner":{"account_id":3558883,"reputation":1652,"user_id":2971851,"accept_rate":100,"display_name":"Steven Chou"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":277,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75509572,"answer_count":2,"score":0,"last_activity_date":1676898598,"creation_date":1676862699,"question_id":75504947,"body_markdown":"As the title, is there any clean Java syntax that supports converting a float array to a string concatenated by comma?\r\n\r\nI tried searching for Java stream, but it does not support float array well.\r\n\r\n\r\n\r\n    // input: \r\n    float[] input = new float[]{1.0f, 0.95f, 0.11f};\r\n\r\n    // expected output: \r\n    &quot;1.0,0.95,0.11&quot;\r\n\r\nUpdate:\r\nOf course, there are many approaches, I can even use a simple loop to do it. But compared to `String.join()` for String or Java Stream for `double[]`, I would like to know if there&#39;s one for `float[]`.","title":"How to convert a float array to a string concatenated by comma","body":"<p>As the title, is there any clean Java syntax that supports converting a float array to a string concatenated by comma?</p>\n<p>I tried searching for Java stream, but it does not support float array well.</p>\n<pre><code>// input: \nfloat[] input = new float[]{1.0f, 0.95f, 0.11f};\n\n// expected output: \n&quot;1.0,0.95,0.11&quot;\n</code></pre>\n<p>Update:\nOf course, there are many approaches, I can even use a simple loop to do it. But compared to <code>String.join()</code> for String or Java Stream for <code>double[]</code>, I would like to know if there's one for <code>float[]</code>.</p>\n"},{"tags":["java","spring-boot","junit","ldap","spring-boot-test"],"comments":[{"owner":{"account_id":1239958,"reputation":39014,"user_id":1202807,"display_name":"Gabriel Luci"},"score":0,"creation_date":1677002471,"post_id":75509233,"comment_id":133249589,"body_markdown":"Is that the complete error message? It seems like the last part of it is missing.","body":"Is that the complete error message? It seems like the last part of it is missing."}],"owner":{"account_id":484819,"reputation":5634,"user_id":900743,"accept_rate":64,"display_name":"Peter"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676898356,"creation_date":1676895756,"question_id":75509233,"body_markdown":"I have followed this guide https://memorynotfound.com/spring-ldap-object-directory-mapping-odm-configuration-example/ and tried to write unit tests for it. I have implemented tests in both spring-ldap-test and zapodot but regardless what I do I get the follwing error when performing a search on in the implementation against the embedded server:\r\n\r\n    LDAP: error code 32 - Unable to perform the search because base entry &#39;ou=Users,dc=memorynotfound,dc=com&#39;\r\n\r\nIn tests I&#39;ve use base as &quot;dc=memorynotfound,dc=com&quot;\r\n\r\nWhat could possibly be wrong? Against a real LDAP-server I get a similar error.","title":"LDAP unit test is failing","body":"<p>I have followed this guide <a href=\"https://memorynotfound.com/spring-ldap-object-directory-mapping-odm-configuration-example/\" rel=\"nofollow noreferrer\">https://memorynotfound.com/spring-ldap-object-directory-mapping-odm-configuration-example/</a> and tried to write unit tests for it. I have implemented tests in both spring-ldap-test and zapodot but regardless what I do I get the follwing error when performing a search on in the implementation against the embedded server:</p>\n<pre><code>LDAP: error code 32 - Unable to perform the search because base entry 'ou=Users,dc=memorynotfound,dc=com'\n</code></pre>\n<p>In tests I've use base as &quot;dc=memorynotfound,dc=com&quot;</p>\n<p>What could possibly be wrong? Against a real LDAP-server I get a similar error.</p>\n"},{"tags":["java","rounding"],"comments":[{"owner":{"account_id":4663157,"reputation":15204,"user_id":3776927,"display_name":"derpirscher"},"score":0,"creation_date":1676820257,"post_id":75501044,"comment_id":133210043,"body_markdown":"`n^(1/x)` is the same as the `x-th root of n`. So for this special requirement, you can just iterate over `i = 1.. z` and calculate `i^x` until `i^x  &gt; n`. Then your result is `i-1`","body":"<code>n^(1&#47;x)</code> is the same as the <code>x-th root of n</code>. So for this special requirement, you can just iterate over <code>i = 1.. z</code> and calculate <code>i^x</code> until <code>i^x  &gt; n</code>. Then your result is <code>i-1</code>"},{"owner":{"account_id":208121,"reputation":225,"user_id":458407,"display_name":"J&#233;r&#244;me JEAN-CHARLES"},"score":0,"creation_date":1676830998,"post_id":75501044,"comment_id":133212049,"body_markdown":"@derpirscher The loop is much to slow.","body":"@derpirscher The loop is much to slow."},{"owner":{"account_id":208121,"reputation":225,"user_id":458407,"display_name":"J&#233;r&#244;me JEAN-CHARLES"},"score":0,"creation_date":1676838398,"post_id":75501044,"comment_id":133213418,"body_markdown":"@user16320675 ULP not OK : See modification I have add a floorULP() in code : it does not work ( ok with 125= 5^3 but NOT with 24389=29^3","body":"@user16320675 ULP not OK : See modification I have add a floorULP() in code : it does not work ( ok with 125= 5^3 but NOT with 24389=29^3"},{"owner":{"account_id":208121,"reputation":225,"user_id":458407,"display_name":"J&#233;r&#244;me JEAN-CHARLES"},"score":0,"creation_date":1676898147,"post_id":75501044,"comment_id":133224185,"body_markdown":"Here is a one line function that works  :given arguments (in,exp ) the function will      :       return  new BigDecimal(Math.pow(in,1.0/exp),MathContext.DECIMAL32.).longValue();  //     Note: DECIMAL64 as any precision out of [7,15] does not work why ??","body":"Here is a one line function that works  :given arguments (in,exp ) the function will      :       return  new BigDecimal(Math.pow(in,1.0/exp),MathContext.DECIMAL32.).long&zwnj;&#8203;Value();  //     Note: DECIMAL64 as any precision out of [7,15] does not work why ??"}],"owner":{"account_id":208121,"reputation":225,"user_id":458407,"display_name":"J&#233;r&#244;me JEAN-CHARLES"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676898336,"creation_date":1676818922,"question_id":75501044,"body_markdown":"How should I write this function. Argument **in** is in [2,2^60] and **exp** in [2,60].\r\nQUEST1 : How to avoid the MESSY test ? I could not make it with Big decimal.This is like an exponential version of the old classic bug ( 1 multiply by 3 then divided by 3 is not always 1). \r\nQUEST2 : How to code it if in  is much bigger ( 2^90)\r\nSee code below. If needed I can post the code that test it all.\r\n```\r\n/** @param in input \r\n  * @param exp exponent &gt;=2 \r\n  * @return floor[in^(1/exp)] */\r\npublic static long floorOk1( final long in , final int exp) {  \r\n\tfinal long ret = (long) Math.floor(Math.pow(in,1.0/exp));\r\n\tif ( Math.pow(ret+1,exp) &lt;= in ) CORRECTIONS++; // add 1 needed \r\n\t\treturn  ( Math.pow(ret+1,exp) &lt;=in ) ? ret+1L: ret ;   \r\n}\r\n// All OK floorBAD(25 ,2)=5 = floorULP(25 ,2)    \r\n// floorULP(125,3)=5 OK ,BUT floorBAD(125,3)=4 (must be 5 as 5^3=125)  \r\n// floorULP(24389,3)=28 and  floorBAD(24389,3)=28  BOTH WRONG (should be 29 as  29^3= 24389 ) \r\n/**  (24389,3)-&gt;28 is WRONG should be 29 ,  BUT ( 125/3)=5 ok */ \r\npublic static long floorULP( final long in , final int exp) { \r\n\tfinal double val = Math.pow(in,1.0/exp) ;\r\n\treturn (long) ( Math.floor(val+Math.ulp(val))); \r\n} \r\n/** Arguments (125/3) and (24389,3) -&gt; WRONG results: 1 less than expected. */ \r\n\tpublic static long floorBAD( final long in , final int exp) { return (long) Math.floor(Math.pow(in,1.0/exp)); } \r\n\r\n\t/** Args(in,exp)= (125  ,3) ==&gt; floorBAD is wrong but floorULP is OK \r\n\t *  Args(in,exp)= (24389,3) ==&gt; floorBAD is wrong AND  floorULP also WRONG \r\n\t *  NOTE : WE HAVE 5^3= 125 ; 29^3= 24389  **/\r\n\tpublic static void smallDifferenceTest() { \r\n\t\tSystem.out.println(&quot; floorOk1(25,2)    =&quot; + floorOk1(25 ,2)   + &quot; == BAD(25   ,2)=&quot; + floorBAD(25 ,2)   + &quot; Ok=&quot; + (floorBAD(25 ,2)==floorOk1(25 ,2)) ) ;\r\n\t\tSystem.out.println(&quot; floorOk1(25,2)    =&quot; + floorOk1(25 ,2)   + &quot; == ULP(25   ,2)=&quot; + floorULP(25 ,2)   + &quot; Ok=&quot; + (floorULP(25 ,2)==floorOk1(25 ,2)) ) ;\r\n\r\n\t\tSystem.out.println(&quot; floorOk1(125,3)   =&quot; + floorOk1(125,3)   + &quot; != BAD(125  ,3)=&quot; + floorBAD(125,3)   + &quot; Ok=&quot; + (floorBAD(125,3)==floorOk1(125,3)) ) ;\r\n\t\tSystem.out.println(&quot; floorOk1(125,3)   =&quot; + floorOk1(125,3)   + &quot; == ULP(125  ,3)=&quot; + floorULP(125,3)   + &quot; Ok=&quot; + (floorULP(125,3)==floorOk1(125,3)) ) ;\r\n\r\n\t\tSystem.out.println(&quot; floorOk1(24389,3) =&quot; + floorOk1(24389,3) + &quot; != ULP(24389,3)=&quot; + floorULP(24389,3) + &quot; Ok=&quot; + (floorULP(24389,3)==floorOk1(24389,3)) ) ; ;\r\n\t\tSystem.out.println(&quot; floorOk1(24389,3) =&quot; + floorOk1(24389,3) + &quot; != BAD(24389,3)=&quot; + floorBAD(24389,3) + &quot; Ok=&quot; + (floorBAD(24389,3)==floorOk1(24389,3)) ) ; ;\r\n\t}\r\n/*\r\nTests result are: \r\n floorOk1(25,2)    =5 == BAD(25   ,2)=5 Ok=true\r\n floorOk1(25,2)    =5 == ULP(25   ,2)=5 Ok=true\r\n floorOk1(125,3)   =5 != BAD(125  ,3)=4 Ok=false\r\n floorOk1(125,3)   =5 == ULP(125  ,3)=5 Ok=true\r\n floorOk1(24389,3) =29 != ULP(24389,3)=28 Ok=false\r\n floorOk1(24389,3) =29 != BAD(24389,3)=28 Ok=false\r\n*/\t\r\n\r\n```\r\n\r\nI mainly tried BigDecimal as an alternative found one solution:\r\n\r\n```\r\npublic static long floorDEC( final long in , final int exp)\t{ \r\n return new BigDecimal(Math.pow(in,1.0/exp),MathContext.DECIMAL32).longValue();\r\n\t} \r\n\r\n```","title":"Proper code in Java to calculate floor(n^(1/exp)). WIth n and exp both integers","body":"<p>How should I write this function. Argument <strong>in</strong> is in [2,2^60] and <strong>exp</strong> in [2,60].\nQUEST1 : How to avoid the MESSY test ? I could not make it with Big decimal.This is like an exponential version of the old classic bug ( 1 multiply by 3 then divided by 3 is not always 1).\nQUEST2 : How to code it if in  is much bigger ( 2^90)\nSee code below. If needed I can post the code that test it all.</p>\n<pre><code>/** @param in input \n  * @param exp exponent &gt;=2 \n  * @return floor[in^(1/exp)] */\npublic static long floorOk1( final long in , final int exp) {  \n    final long ret = (long) Math.floor(Math.pow(in,1.0/exp));\n    if ( Math.pow(ret+1,exp) &lt;= in ) CORRECTIONS++; // add 1 needed \n        return  ( Math.pow(ret+1,exp) &lt;=in ) ? ret+1L: ret ;   \n}\n// All OK floorBAD(25 ,2)=5 = floorULP(25 ,2)    \n// floorULP(125,3)=5 OK ,BUT floorBAD(125,3)=4 (must be 5 as 5^3=125)  \n// floorULP(24389,3)=28 and  floorBAD(24389,3)=28  BOTH WRONG (should be 29 as  29^3= 24389 ) \n/**  (24389,3)-&gt;28 is WRONG should be 29 ,  BUT ( 125/3)=5 ok */ \npublic static long floorULP( final long in , final int exp) { \n    final double val = Math.pow(in,1.0/exp) ;\n    return (long) ( Math.floor(val+Math.ulp(val))); \n} \n/** Arguments (125/3) and (24389,3) -&gt; WRONG results: 1 less than expected. */ \n    public static long floorBAD( final long in , final int exp) { return (long) Math.floor(Math.pow(in,1.0/exp)); } \n\n    /** Args(in,exp)= (125  ,3) ==&gt; floorBAD is wrong but floorULP is OK \n     *  Args(in,exp)= (24389,3) ==&gt; floorBAD is wrong AND  floorULP also WRONG \n     *  NOTE : WE HAVE 5^3= 125 ; 29^3= 24389  **/\n    public static void smallDifferenceTest() { \n        System.out.println(&quot; floorOk1(25,2)    =&quot; + floorOk1(25 ,2)   + &quot; == BAD(25   ,2)=&quot; + floorBAD(25 ,2)   + &quot; Ok=&quot; + (floorBAD(25 ,2)==floorOk1(25 ,2)) ) ;\n        System.out.println(&quot; floorOk1(25,2)    =&quot; + floorOk1(25 ,2)   + &quot; == ULP(25   ,2)=&quot; + floorULP(25 ,2)   + &quot; Ok=&quot; + (floorULP(25 ,2)==floorOk1(25 ,2)) ) ;\n\n        System.out.println(&quot; floorOk1(125,3)   =&quot; + floorOk1(125,3)   + &quot; != BAD(125  ,3)=&quot; + floorBAD(125,3)   + &quot; Ok=&quot; + (floorBAD(125,3)==floorOk1(125,3)) ) ;\n        System.out.println(&quot; floorOk1(125,3)   =&quot; + floorOk1(125,3)   + &quot; == ULP(125  ,3)=&quot; + floorULP(125,3)   + &quot; Ok=&quot; + (floorULP(125,3)==floorOk1(125,3)) ) ;\n\n        System.out.println(&quot; floorOk1(24389,3) =&quot; + floorOk1(24389,3) + &quot; != ULP(24389,3)=&quot; + floorULP(24389,3) + &quot; Ok=&quot; + (floorULP(24389,3)==floorOk1(24389,3)) ) ; ;\n        System.out.println(&quot; floorOk1(24389,3) =&quot; + floorOk1(24389,3) + &quot; != BAD(24389,3)=&quot; + floorBAD(24389,3) + &quot; Ok=&quot; + (floorBAD(24389,3)==floorOk1(24389,3)) ) ; ;\n    }\n/*\nTests result are: \n floorOk1(25,2)    =5 == BAD(25   ,2)=5 Ok=true\n floorOk1(25,2)    =5 == ULP(25   ,2)=5 Ok=true\n floorOk1(125,3)   =5 != BAD(125  ,3)=4 Ok=false\n floorOk1(125,3)   =5 == ULP(125  ,3)=5 Ok=true\n floorOk1(24389,3) =29 != ULP(24389,3)=28 Ok=false\n floorOk1(24389,3) =29 != BAD(24389,3)=28 Ok=false\n*/  \n\n</code></pre>\n<p>I mainly tried BigDecimal as an alternative found one solution:</p>\n<pre><code>public static long floorDEC( final long in , final int exp) { \n return new BigDecimal(Math.pow(in,1.0/exp),MathContext.DECIMAL32).longValue();\n    } \n\n</code></pre>\n"},{"tags":["java","kotlin","generics","covariance","contravariance"],"comments":[{"owner":{"account_id":2338104,"reputation":9101,"user_id":2049986,"accept_rate":89,"display_name":"Jacob van Lingen"},"score":1,"creation_date":1692291935,"post_id":75509417,"comment_id":135606731,"body_markdown":"As both answers indicate &quot;Java doesnt support declaration-site variance like Kotlin does&quot;. Notice [JEP-300](https://openjdk.org/jeps/300) proposes it, so maybe in a distant future...","body":"As both answers indicate &quot;Java doesnt support declaration-site variance like Kotlin does&quot;. Notice <a href=\"https://openjdk.org/jeps/300\" rel=\"nofollow noreferrer\">JEP-300</a> proposes it, so maybe in a distant future..."}],"answers":[{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1676897957,"creation_date":1676897957,"answer_id":75509557,"question_id":75509417,"body_markdown":"Java doesnt support declaration-site variance like Kotlin does. It only supports use-site variance. In other words, variance can only be used on variable and parameter types, not in class/interface definitions.\r\n\r\nSo in Java, you would specify your interface and class definitions without variance, and every time you need variance, you would declare the variable with it. \r\n\r\nCovariance uses `? extends`, and contravariance use `? super`, for example:\r\n\r\n```java\r\nBox&lt;? extends Number&gt; numberBox = new BoxImpl(1);\r\n","title":"What is Java&#39;s equivalent to Kotlin&#39;s covariant and contra-variant modifiers?","body":"<p>Java doesnt support declaration-site variance like Kotlin does. It only supports use-site variance. In other words, variance can only be used on variable and parameter types, not in class/interface definitions.</p>\n<p>So in Java, you would specify your interface and class definitions without variance, and every time you need variance, you would declare the variable with it.</p>\n<p>Covariance uses <code>? extends</code>, and contravariance use <code>? super</code>, for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Box&lt;? extends Number&gt; numberBox = new BoxImpl(1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1676898282,"creation_date":1676898282,"answer_id":75509612,"question_id":75509417,"body_markdown":"Java doesn&#39;t have declaration-site variance like Kotlin does. That is, you cannot specify the variance of a type when you *declare* it. However, it does have use-site variance - you *can* specify the variance when you *use* a type, as the type of a variable, for example.\r\n\r\nFor example,\r\n\r\n    // Kotlin\r\n    var foo: SomeGenericType&lt;out T&gt;\r\n    var bar: SomeGenericType&lt;in T&gt;\r\n\r\nis similar to:\r\n\r\n    // Java\r\n    SomeGenericType&lt;? extends T&gt; foo;\r\n    SomeGenericType&lt;? super T&gt; bar;\r\n\r\n(The mnemonic for this is [PECS][1].)\r\n\r\nA crucial difference though, is that you can pass `null`s into methods of the Java `bar` variable,\r\n\r\n    bar.someMethod(null);\r\n\r\nBut you cannot pass anything into the Kotlin `bar` - it literally takes `Nothing`!\r\n\r\nIf you are trying to use a generic type from Java in your Kotlin code, I think you&#39;d have to make it `@UnsafeVariance` to suppress the compiler error for now.\r\n\r\n    // Of course, only do this if you are sure that Box is covariant!\r\n    data class BoxImpl&lt;out T : SomeType&gt;(private val item: T) : Box&lt;@UnsafeVariance T&gt;\r\n\r\nThere are also discussions about adding the ability to annotate Java type parameters so that the Kotlin compiler knows about their variance. See [this](https://youtrack.jetbrains.com/issue/KT-41062/Allow-Java-classes-to-specify-declaration-site-variance) and [this](https://github.com/jspecify/jspecify/issues/72). Hopefully we can get that some day in the future. Though this doesn&#39;t change the fact that there is no declaration-site variance in Java.\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2723397/what-is-pecs-producer-extends-consumer-super","title":"What is Java&#39;s equivalent to Kotlin&#39;s covariant and contra-variant modifiers?","body":"<p>Java doesn't have declaration-site variance like Kotlin does. That is, you cannot specify the variance of a type when you <em>declare</em> it. However, it does have use-site variance - you <em>can</em> specify the variance when you <em>use</em> a type, as the type of a variable, for example.</p>\n<p>For example,</p>\n<pre><code>// Kotlin\nvar foo: SomeGenericType&lt;out T&gt;\nvar bar: SomeGenericType&lt;in T&gt;\n</code></pre>\n<p>is similar to:</p>\n<pre><code>// Java\nSomeGenericType&lt;? extends T&gt; foo;\nSomeGenericType&lt;? super T&gt; bar;\n</code></pre>\n<p>(The mnemonic for this is <a href=\"https://stackoverflow.com/questions/2723397/what-is-pecs-producer-extends-consumer-super\">PECS</a>.)</p>\n<p>A crucial difference though, is that you can pass <code>null</code>s into methods of the Java <code>bar</code> variable,</p>\n<pre><code>bar.someMethod(null);\n</code></pre>\n<p>But you cannot pass anything into the Kotlin <code>bar</code> - it literally takes <code>Nothing</code>!</p>\n<p>If you are trying to use a generic type from Java in your Kotlin code, I think you'd have to make it <code>@UnsafeVariance</code> to suppress the compiler error for now.</p>\n<pre><code>// Of course, only do this if you are sure that Box is covariant!\ndata class BoxImpl&lt;out T : SomeType&gt;(private val item: T) : Box&lt;@UnsafeVariance T&gt;\n</code></pre>\n<p>There are also discussions about adding the ability to annotate Java type parameters so that the Kotlin compiler knows about their variance. See <a href=\"https://youtrack.jetbrains.com/issue/KT-41062/Allow-Java-classes-to-specify-declaration-site-variance\" rel=\"nofollow noreferrer\">this</a> and <a href=\"https://github.com/jspecify/jspecify/issues/72\" rel=\"nofollow noreferrer\">this</a>. Hopefully we can get that some day in the future. Though this doesn't change the fact that there is no declaration-site variance in Java.</p>\n"}],"owner":{"account_id":1023984,"reputation":40599,"user_id":1033686,"accept_rate":97,"display_name":"Matthew Layton"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75509612,"answer_count":2,"score":1,"last_activity_date":1676898282,"creation_date":1676896919,"question_id":75509417,"body_markdown":"Consider the following Kotlin interface:\r\n\r\n```kotlin\r\ninterface Box&lt;out T : SomeType&gt; {\r\n    val item: T\r\n}\r\n```\r\n\r\nImplementing this with Kotlin would look something like this:\r\n\r\n```kotlin\r\ndata class BoxImpl&lt;out T : SomeType&gt;(override val item: T) : Box&lt;T&gt;\r\n```\r\n\r\nNow I want to convert that interface to Java:\r\n\r\n```java\r\npublic interface Box&lt;T extends SomeType&gt; {\r\n    T getItem();\r\n}\r\n```\r\n\r\nBut implementing this in Kotlin causes a problem:\r\n```\r\ndata class BoxImpl&lt;out T : SomeType&gt;(private val item: T) : Box&lt;T&gt; {\r\n\r\n    override fun getItem(): T {\r\n        return item\r\n    }\r\n}\r\n```\r\n\r\nThe problem is that the Kotlin compiler complains that `T` is **invariant** on the Java interface, but **covariant** on the implementation.\r\n\r\nSo, how do you specify `out` (covariant) variance in Java?\r\n\r\nAdditionally, how would you specify `in` (contra-variant) variance?","title":"What is Java&#39;s equivalent to Kotlin&#39;s covariant and contra-variant modifiers?","body":"<p>Consider the following Kotlin interface:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>interface Box&lt;out T : SomeType&gt; {\n    val item: T\n}\n</code></pre>\n<p>Implementing this with Kotlin would look something like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>data class BoxImpl&lt;out T : SomeType&gt;(override val item: T) : Box&lt;T&gt;\n</code></pre>\n<p>Now I want to convert that interface to Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface Box&lt;T extends SomeType&gt; {\n    T getItem();\n}\n</code></pre>\n<p>But implementing this in Kotlin causes a problem:</p>\n<pre><code>data class BoxImpl&lt;out T : SomeType&gt;(private val item: T) : Box&lt;T&gt; {\n\n    override fun getItem(): T {\n        return item\n    }\n}\n</code></pre>\n<p>The problem is that the Kotlin compiler complains that <code>T</code> is <strong>invariant</strong> on the Java interface, but <strong>covariant</strong> on the implementation.</p>\n<p>So, how do you specify <code>out</code> (covariant) variance in Java?</p>\n<p>Additionally, how would you specify <code>in</code> (contra-variant) variance?</p>\n"},{"tags":["java","algorithm","nodes","a-star","euclidean-distance"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1676826675,"post_id":75501885,"comment_id":133211211,"body_markdown":"Yes, in the sense that the euclidean path has an equivalent manhattan path, so there is always a pair. But no in the sense that there are way more equally valid manhattan paths if each step has the same weight than the single on you&#39;re showing here.","body":"Yes, in the sense that the euclidean path has an equivalent manhattan path, so there is always a pair. But no in the sense that there are way more equally valid manhattan paths if each step has the same weight than the single on you&#39;re showing here."},{"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"score":2,"creation_date":1676826803,"post_id":75501885,"comment_id":133211241,"body_markdown":"It&#39;s possible and expected to at least happen *sometimes* (you can make trivial maps that force that to happen), checking whether it should happen for this specific grid would be a bit of work..","body":"It&#39;s possible and expected to at least happen <i>sometimes</i> (you can make trivial maps that force that to happen), checking whether it should happen for this specific grid would be a bit of work.."},{"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"score":1,"creation_date":1676828543,"post_id":75501885,"comment_id":133211553,"body_markdown":"No, those results don&#39;t make sense.  You used the same heuristic both times.","body":"No, those results don&#39;t make sense.  You used the same heuristic both times."}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676897752,"creation_date":1676897752,"answer_id":75509529,"question_id":75501885,"body_markdown":"In the example grid, the shortest paths have a length that is equal to the Manhattan distance between start and finish, and this is even true for most cells in your grid: the shortest path from those cells to the finish has the Manhattan distance from that cell to the finish. That means that with the Manhattan heuristic function, competing alternatives will often have the same total cost (i.e. 14) and whether or not the priority queue delivers the nodes in the same order as for the other, Euclidean distance heuristic, depends on how such ties are broken.\r\n\r\n**However**, the sequence of explored nodes you have given for the Euclidean distance heuristic cannot be right:\r\n\r\nFor instance, cells (0,5) and (3,3) don&#39;t appear in the expected order.\r\n\r\nHere are the relevant cost values for these two cells:\r\n\r\n| cell  | steps made from (0,0) | Euclidean to (4,10) | total cost (priority)\r\n|:-----:|:---------------------:|:-------------------:|:----------:\r\n| (0,5) |         5             |      6.403 -&gt; 6     |  5 + 6 = 11\r\n| (3,3) |         6             |      7.071 -&gt; 7     |  6 + 7 = 13\r\n\r\nSo clearly, (0, 5) should be pulled from the priority queue before (3, 3), yet in your sequence you have (3, 3) coming before (0, 5). This means something is wrong in your algorithm.\r\n\r\n","title":"Is it logical for Manhattan and Euclidean heuristics to check the same nodes?","body":"<p>In the example grid, the shortest paths have a length that is equal to the Manhattan distance between start and finish, and this is even true for most cells in your grid: the shortest path from those cells to the finish has the Manhattan distance from that cell to the finish. That means that with the Manhattan heuristic function, competing alternatives will often have the same total cost (i.e. 14) and whether or not the priority queue delivers the nodes in the same order as for the other, Euclidean distance heuristic, depends on how such ties are broken.</p>\n<p><strong>However</strong>, the sequence of explored nodes you have given for the Euclidean distance heuristic cannot be right:</p>\n<p>For instance, cells (0,5) and (3,3) don't appear in the expected order.</p>\n<p>Here are the relevant cost values for these two cells:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: center;\">cell</th>\n<th style=\"text-align: center;\">steps made from (0,0)</th>\n<th style=\"text-align: center;\">Euclidean to (4,10)</th>\n<th style=\"text-align: center;\">total cost (priority)</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: center;\">(0,5)</td>\n<td style=\"text-align: center;\">5</td>\n<td style=\"text-align: center;\">6.403 -&gt; 6</td>\n<td style=\"text-align: center;\">5 + 6 = 11</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">(3,3)</td>\n<td style=\"text-align: center;\">6</td>\n<td style=\"text-align: center;\">7.071 -&gt; 7</td>\n<td style=\"text-align: center;\">6 + 7 = 13</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>So clearly, (0, 5) should be pulled from the priority queue before (3, 3), yet in your sequence you have (3, 3) coming before (0, 5). This means something is wrong in your algorithm.</p>\n"}],"owner":{"account_id":19678378,"reputation":661,"user_id":14405992,"display_name":"Chris Costa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75509529,"answer_count":1,"score":1,"last_activity_date":1676897752,"creation_date":1676826326,"question_id":75501885,"body_markdown":"So I have created an app where I have to find the shortest route from ``startPos`` to ``endPos`` using the A* algorithm. I have approached this problem with the 2 most common heuristics:\r\n\r\n **1. Manhattan Distance**\r\n\r\n **2. Euclidean Distance**\r\n\r\nNot only both of them give me the same path but they both explore the same nodes. Does it make sense?\r\n\r\nMy functions for calculating the distances:\r\n\r\n```\r\npublic static int manhattanDistance(int row1, int col1, int row2, int col2) {\r\n    return Math.abs(row1 - row2) + Math.abs(col1 - col2);\r\n} \r\n```\r\n\r\n```\r\npublic static int euclideanDistance(int row1, int col1, int row2, int col2) {\r\n    int dx = col2 - col1;\r\n    int dy = row2 - row1;\r\n    return (int) Math.sqrt(dx * dx + dy * dy);\r\n}\r\n```\r\nAn example is when I have the grid:\r\n```\r\nS0000001000\r\n11001000010\r\n00000000000\r\n00100000001\r\n0000010100E\r\n```\r\nwith starting position ``S = (0.0)`` and ending position ``E = (4,10)``\r\n\r\nAfter executing the algorithm I get the results:\r\n```\r\nCalculating result using Manhattan Distance.\r\nNodes explored (33): (0, 0) (0, 1) (0, 2) (0, 3) (1, 2) (1, 3) (2, 2) (2, 3) (0, 4) (3, 3) (0, 5) (4, 3) (1, 5) (3, 4) (1, 6) (3, 5) (2, 6) (1, 7) (2, 7) (1, 8) (3, 6) (3, 7) (2, 8) (3, 8) (2, 9) (4, 8) (2, 10) (4, 9) (0, 8) (2, 1) (0, 9) (3, 1) (4, 1)\r\nPath: (0, 0) (0, 1) (0, 2) (0, 3) (0, 4) (0, 5) (1, 5) (1, 6) (2, 6) (2, 7) (3, 7) (3, 8) (4, 8) (4, 9) (4, 10)\r\n\r\nCalculating result using Euclidean Distance.\r\nNodes explored (33): (0, 0) (0, 1) (0, 2) (0, 3) (1, 2) (1, 3) (2, 2) (2, 3) (0, 4) (3, 3) (0, 5) (4, 3) (1, 5) (3, 4) (1, 6) (3, 5) (2, 6) (1, 7) (2, 7) (1, 8) (3, 6) (3, 7) (2, 8) (3, 8) (2, 9) (4, 8) (2, 10) (4, 9) (0, 8) (2, 1) (0, 9) (3, 1) (4, 1)\r\nPath: (0, 0) (0, 1) (0, 2) (0, 3) (0, 4) (0, 5) (1, 5) (1, 6) (2, 6) (2, 7) (3, 7) (3, 8) (4, 8) (4, 9) (4, 10)\r\n```\r\nAs we can see not only the path is the same but the nodes are the same explored in the same order. Should it be like this? Does it make sense to be like this? Is it always going to be like this for all scenarios?","title":"Is it logical for Manhattan and Euclidean heuristics to check the same nodes?","body":"<p>So I have created an app where I have to find the shortest route from <code>startPos</code> to <code>endPos</code> using the A* algorithm. I have approached this problem with the 2 most common heuristics:</p>\n<p><strong>1. Manhattan Distance</strong></p>\n<p><strong>2. Euclidean Distance</strong></p>\n<p>Not only both of them give me the same path but they both explore the same nodes. Does it make sense?</p>\n<p>My functions for calculating the distances:</p>\n<pre><code>public static int manhattanDistance(int row1, int col1, int row2, int col2) {\n    return Math.abs(row1 - row2) + Math.abs(col1 - col2);\n} \n</code></pre>\n<pre><code>public static int euclideanDistance(int row1, int col1, int row2, int col2) {\n    int dx = col2 - col1;\n    int dy = row2 - row1;\n    return (int) Math.sqrt(dx * dx + dy * dy);\n}\n</code></pre>\n<p>An example is when I have the grid:</p>\n<pre><code>S0000001000\n11001000010\n00000000000\n00100000001\n0000010100E\n</code></pre>\n<p>with starting position <code>S = (0.0)</code> and ending position <code>E = (4,10)</code></p>\n<p>After executing the algorithm I get the results:</p>\n<pre><code>Calculating result using Manhattan Distance.\nNodes explored (33): (0, 0) (0, 1) (0, 2) (0, 3) (1, 2) (1, 3) (2, 2) (2, 3) (0, 4) (3, 3) (0, 5) (4, 3) (1, 5) (3, 4) (1, 6) (3, 5) (2, 6) (1, 7) (2, 7) (1, 8) (3, 6) (3, 7) (2, 8) (3, 8) (2, 9) (4, 8) (2, 10) (4, 9) (0, 8) (2, 1) (0, 9) (3, 1) (4, 1)\nPath: (0, 0) (0, 1) (0, 2) (0, 3) (0, 4) (0, 5) (1, 5) (1, 6) (2, 6) (2, 7) (3, 7) (3, 8) (4, 8) (4, 9) (4, 10)\n\nCalculating result using Euclidean Distance.\nNodes explored (33): (0, 0) (0, 1) (0, 2) (0, 3) (1, 2) (1, 3) (2, 2) (2, 3) (0, 4) (3, 3) (0, 5) (4, 3) (1, 5) (3, 4) (1, 6) (3, 5) (2, 6) (1, 7) (2, 7) (1, 8) (3, 6) (3, 7) (2, 8) (3, 8) (2, 9) (4, 8) (2, 10) (4, 9) (0, 8) (2, 1) (0, 9) (3, 1) (4, 1)\nPath: (0, 0) (0, 1) (0, 2) (0, 3) (0, 4) (0, 5) (1, 5) (1, 6) (2, 6) (2, 7) (3, 7) (3, 8) (4, 8) (4, 9) (4, 10)\n</code></pre>\n<p>As we can see not only the path is the same but the nodes are the same explored in the same order. Should it be like this? Does it make sense to be like this? Is it always going to be like this for all scenarios?</p>\n"},{"tags":["java","spring-boot","maven","pom.xml"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1676898043,"post_id":75509497,"comment_id":133224155,"body_markdown":"As stated in the other question no you don&#39;t need to exclude it! The exclude in the plugin section is a totally different one then the one from the dependencies section! It is needed here because lombok is a provided dependency, by default those aren&#39;t included. However with a Spring BOot application those are included in the fat-jar. For lombok that isn&#39;t needed hence the exclude in the plugin section as to not include it in the resulting jar.","body":"As stated in the other question no you don&#39;t need to exclude it! The exclude in the plugin section is a totally different one then the one from the dependencies section! It is needed here because lombok is a provided dependency, by default those aren&#39;t included. However with a Spring BOot application those are included in the fat-jar. For lombok that isn&#39;t needed hence the exclude in the plugin section as to not include it in the resulting jar."},{"owner":{"display_name":"user21099360"},"score":0,"creation_date":1676898880,"post_id":75509497,"comment_id":133224365,"body_markdown":"@M.Deinum Thanks for reply. **1.** Do you mean that in order to remove a transitive dependency (for example when adding Lombok separately and it is also included in Spring), I just need to specify the version that I added in the `&lt;properties&gt;` tags as shown above, right?","body":"@M.Deinum Thanks for reply. <b>1.</b> Do you mean that in order to remove a transitive dependency (for example when adding Lombok separately and it is also included in Spring), I just need to specify the version that I added in the <code>&lt;properties&gt;</code> tags as shown above, right?"},{"owner":{"display_name":"user21099360"},"score":0,"creation_date":1676898983,"post_id":75509497,"comment_id":133224394,"body_markdown":"**2.** In this scene, do I need to remove `&lt;exclude&gt;` part only or all the `&lt;plugin&gt;` part for `lombok` (shown above) above from pom.xml?","body":"<b>2.</b> In this scene, do I need to remove <code>&lt;exclude&gt;</code> part only or all the <code>&lt;plugin&gt;</code> part for <code>lombok</code> (shown above) above from pom.xml?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1676899426,"post_id":75509497,"comment_id":133224525,"body_markdown":"I strongly suggest you first start to learn how maven works. As you are mixing a lot of, unrelated, things together. 1. No, 2 No. Read my comment again.","body":"I strongly suggest you first start to learn how maven works. As you are mixing a lot of, unrelated, things together. 1. No, 2 No. Read my comment again."},{"owner":{"display_name":"user21099360"},"score":0,"creation_date":1676899567,"post_id":75509497,"comment_id":133224559,"body_markdown":"Which one is unrelated? Did not you suggest to me that defining version using &lt;properties&gt; tag instead of excluding the transitive reference?","body":"Which one is unrelated? Did not you suggest to me that defining version using &lt;properties&gt; tag instead of excluding the transitive reference?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1676900173,"post_id":75509497,"comment_id":133224752,"body_markdown":"That is what I suggested and you should do, hence I don&#39;t get the gist of this question as that is more or less asking the same. The exclude you mention is for dependencies, the exclude here is for something entirely different. That are different beast. You also need to exclude it for a totally different reason.","body":"That is what I suggested and you should do, hence I don&#39;t get the gist of this question as that is more or less asking the same. The exclude you mention is for dependencies, the exclude here is for something entirely different. That are different beast. You also need to exclude it for a totally different reason."},{"owner":{"display_name":"user21099360"},"score":0,"creation_date":1676900420,"post_id":75509497,"comment_id":133224824,"body_markdown":"Yes, I followed your suggestion. But I think excluding snakeyaml or lombox fom Spring when adding them as dependencies are the same, what is the difference? If you clarify us, there will be no confusion. After that I can also read, but at first it seems to be useful to clarify some points you mentioned.","body":"Yes, I followed your suggestion. But I think excluding snakeyaml or lombox fom Spring when adding them as dependencies are the same, what is the difference? If you clarify us, there will be no confusion. After that I can also read, but at first it seems to be useful to clarify some points you mentioned."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1676900605,"post_id":75509497,"comment_id":133224882,"body_markdown":"No they aren&#39;t the same not even close. And as mentioned twice before en exclude in the dependencies section is different then the exclude here for the spring-boot-maven-plugin as I already explained in my first comment.","body":"No they aren&#39;t the same not even close. And as mentioned twice before en exclude in the dependencies section is different then the exclude here for the spring-boot-maven-plugin as I already explained in my first comment."},{"owner":{"display_name":"user21099360"},"score":0,"creation_date":1676903098,"post_id":75509497,"comment_id":133225655,"body_markdown":"I think the problem with your explanations is not posting an example code and generally try to explain by words. But even if they are generally useful, unexperienced developers cannot get benefit from those unless you provide an example code. Instead of posting several comments, I think you would give an example part of pom.xml and show clearly the difference :)","body":"I think the problem with your explanations is not posting an example code and generally try to explain by words. But even if they are generally useful, unexperienced developers cannot get benefit from those unless you provide an example code. Instead of posting several comments, I think you would give an example part of pom.xml and show clearly the difference :)"}],"owner":{"display_name":"user21099360"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676897524,"creation_date":1676897524,"question_id":75509497,"body_markdown":"I use lombok in my project and I realized the following `&lt;exclude&gt;` part in my pom.xml:\r\n\r\n\r\n```\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    &lt;configuration&gt;\r\n        &lt;excludes&gt;\r\n            &lt;exclude&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;/exclude&gt;\r\n        &lt;/excludes&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nI just add the lombok dependency and did not add this block. Is this something that lombok is also available and when I add it explicitly, it is excluded by adding this block automatically to the pom.xml? \r\n\r\nIf it is the case, should I use this approach (adding `&lt;excludes&gt;` block for the related library) when I use a different version for transitive dependencies e.g. `snakeyaml` ? Or should I just add the properties as shown below and override the transitive dependency version? \r\n\r\n```\r\n&lt;properties&gt;\r\n    &lt;snakeyaml.version&gt;1.33&lt;/snakeyaml.version&gt;\r\n&lt;/properties&gt;\r\n```","title":"Excluding lombok from pom.xml in Spring Boot?","body":"<p>I use lombok in my project and I realized the following <code>&lt;exclude&gt;</code> part in my pom.xml:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;excludes&gt;\n            &lt;exclude&gt;\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;/exclude&gt;\n        &lt;/excludes&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>I just add the lombok dependency and did not add this block. Is this something that lombok is also available and when I add it explicitly, it is excluded by adding this block automatically to the pom.xml?</p>\n<p>If it is the case, should I use this approach (adding <code>&lt;excludes&gt;</code> block for the related library) when I use a different version for transitive dependencies e.g. <code>snakeyaml</code> ? Or should I just add the properties as shown below and override the transitive dependency version?</p>\n<pre><code>&lt;properties&gt;\n    &lt;snakeyaml.version&gt;1.33&lt;/snakeyaml.version&gt;\n&lt;/properties&gt;\n</code></pre>\n"},{"tags":["java","spring","jvm","graalvm","spring-native"],"answers":[{"tags":[],"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1676896985,"creation_date":1676675993,"answer_id":75490057,"question_id":75489897,"body_markdown":"First of all, you should know what a JRE (Java runtime environment) is. Basically, it includes everything required to run Java applications that are already built. A [JDK (Java Development Kit)][1] is a superset of a JRE, adding the tools for developing Java applications.\r\n\r\nWith [`jlink`][2], you can create JRE images. This means you are creating a Java installation that is capable of running your Java program. This can be done in a way so it only contains the necessary modules. [`jpackage`][3] allows you to create an installer for such a JRE.\r\n\r\nOn the other hand, a native image is a version of your code that&#39;s compiled and optimized for a specific target platform. Typically, it&#39;s a single executable file that runs your code. When [creating a native image][4], it takes your application and converts (compiles) it to a platform specific executable (unlike `jlink` which creates a JRE that is able run your &quot;normal&quot; JAR).\r\n\r\nNative-image does not generate a JAR but an ELF/EXE file which can be executed on your device without a Java installation while `jlink` just creates a (minimal) Java installation capable of running your application.\r\n\r\nIt should be noted that native-image comes with a few limitations. For example, remote class loading is not possible and if you use [Reflection][5], you [need to specify what to reflectively access at compile-time](https://docs.oracle.com/en/graalvm/enterprise/21/docs/reference-manual/native-image/Reflection/).\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/technotes/guides/\r\n  [2]: https://openjdk.org/jeps/282\r\n  [3]: https://openjdk.org/jeps/392\r\n  [4]: https://www.graalvm.org/22.0/reference-manual/native-image/\r\n  [5]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/reflect/package-summary.html","title":"Difference between Java custom JRE and Java native image","body":"<p>First of all, you should know what a JRE (Java runtime environment) is. Basically, it includes everything required to run Java applications that are already built. A <a href=\"https://docs.oracle.com/javase/7/docs/technotes/guides/\" rel=\"nofollow noreferrer\">JDK (Java Development Kit)</a> is a superset of a JRE, adding the tools for developing Java applications.</p>\n<p>With <a href=\"https://openjdk.org/jeps/282\" rel=\"nofollow noreferrer\"><code>jlink</code></a>, you can create JRE images. This means you are creating a Java installation that is capable of running your Java program. This can be done in a way so it only contains the necessary modules. <a href=\"https://openjdk.org/jeps/392\" rel=\"nofollow noreferrer\"><code>jpackage</code></a> allows you to create an installer for such a JRE.</p>\n<p>On the other hand, a native image is a version of your code that's compiled and optimized for a specific target platform. Typically, it's a single executable file that runs your code. When <a href=\"https://www.graalvm.org/22.0/reference-manual/native-image/\" rel=\"nofollow noreferrer\">creating a native image</a>, it takes your application and converts (compiles) it to a platform specific executable (unlike <code>jlink</code> which creates a JRE that is able run your &quot;normal&quot; JAR).</p>\n<p>Native-image does not generate a JAR but an ELF/EXE file which can be executed on your device without a Java installation while <code>jlink</code> just creates a (minimal) Java installation capable of running your application.</p>\n<p>It should be noted that native-image comes with a few limitations. For example, remote class loading is not possible and if you use <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/reflect/package-summary.html\" rel=\"nofollow noreferrer\">Reflection</a>, you <a href=\"https://docs.oracle.com/en/graalvm/enterprise/21/docs/reference-manual/native-image/Reflection/\" rel=\"nofollow noreferrer\">need to specify what to reflectively access at compile-time</a>.</p>\n"}],"owner":{"account_id":27815181,"reputation":11,"user_id":21236733,"display_name":"MRoose"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":344,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676896985,"creation_date":1676674043,"question_id":75489897,"body_markdown":"In addition to developing classic services on Spring Boot, I want to know Java with it environment better.\r\nWhen I began to study portability, I came across such concepts as custom JRE (jlink, jmods) and native image (GraalVM, Liberica NIC).\r\n\r\nAs I understand :\r\n\r\n- Custom JRE for creating distribution folder with executable file. In folder only necessary dependencies. It arrived in Java 9\r\n- Native image for creating executable all in one JAR\r\n\r\nWhich of them should be used in which cases?  \r\n","title":"Difference between Java custom JRE and Java native image","body":"<p>In addition to developing classic services on Spring Boot, I want to know Java with it environment better.\nWhen I began to study portability, I came across such concepts as custom JRE (jlink, jmods) and native image (GraalVM, Liberica NIC).</p>\n<p>As I understand :</p>\n<ul>\n<li>Custom JRE for creating distribution folder with executable file. In folder only necessary dependencies. It arrived in Java 9</li>\n<li>Native image for creating executable all in one JAR</li>\n</ul>\n<p>Which of them should be used in which cases?</p>\n"},{"tags":["java","flutter","encryption","aes"],"comments":[{"owner":{"account_id":5624889,"reputation":754,"user_id":4453627,"display_name":"CbL"},"score":0,"creation_date":1615031272,"post_id":66504628,"comment_id":117568973,"body_markdown":"Do you mean you want to encrypt the data with java and  then decrypt with dart (in flutter)? Can you elaborate more about your question?","body":"Do you mean you want to encrypt the data with java and  then decrypt with dart (in flutter)? Can you elaborate more about your question?"},{"owner":{"account_id":20885262,"reputation":1,"user_id":15342010,"display_name":"saeed hooshmand"},"score":0,"creation_date":1615178210,"post_id":66504628,"comment_id":117601697,"body_markdown":"@CbL  yes , please help  me","body":"@CbL  yes , please help  me"}],"owner":{"account_id":20885262,"reputation":1,"user_id":15342010,"display_name":"saeed hooshmand"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676896938,"creation_date":1615026223,"question_id":66504628,"body_markdown":"I have some code for encryption data in **java** with **salt** and **key**\r\n\r\n    Encryption.Builder builder = new Encryption.Builder()\r\n            .setIv(new byte[16])\r\n            .setKey(&quot;encry&quot;)\r\n            .setSalt(salt)\r\n            .setKeyLength(128)\r\n            .setKeyAlgorithm(&quot;AES&quot;)\r\n            .setCharsetName(&quot;UTF8&quot;)\r\n            .setIterationCount(16)//65536\r\n            .setDigestAlgorithm(&quot;SHA1&quot;)\r\n            .setBase64Mode(Base64.DEFAULT)\r\n            .setAlgorithm(&quot;AES/CBC/PKCS5Padding&quot;)\r\n            .setSecureRandomAlgorithm(&quot;SHA1PRNG&quot;)\r\n            .setSecretKeyType(&quot;PBKDF2WithHmacSHA1&quot;);\r\n\r\n   \r\n      Encryption encryption = builder.build();\r\n      System.out.println(&quot;decryptedEnc = &quot; + enc);\r\n      String decrypt = encryption.decryptOrNull(&quot;9iLnZQjN2aZoCs04lkWw3HX2xb6io8ouND7VhhfeIYsKhUCjPHgThL3IeIiEPBmpwGkAKoIFvJidsa3rancHJoYy2e3ipj5zw+e2L7va5qA=&quot;);\r\n      System.out.println(&quot;decrypted = &quot; + decrypt);\r\n      return decrypt;\r\n\r\n\r\nand I decrypt data to flutter , But I can&#39;t found answer this question\r\n\r\n\r\nplease help me\r\n\r\n\r\ntnx a lot ","title":"I went AES encryption in java convert and use to flutter","body":"<p>I have some code for encryption data in <strong>java</strong> with <strong>salt</strong> and <strong>key</strong></p>\n<pre><code>Encryption.Builder builder = new Encryption.Builder()\n        .setIv(new byte[16])\n        .setKey(&quot;encry&quot;)\n        .setSalt(salt)\n        .setKeyLength(128)\n        .setKeyAlgorithm(&quot;AES&quot;)\n        .setCharsetName(&quot;UTF8&quot;)\n        .setIterationCount(16)//65536\n        .setDigestAlgorithm(&quot;SHA1&quot;)\n        .setBase64Mode(Base64.DEFAULT)\n        .setAlgorithm(&quot;AES/CBC/PKCS5Padding&quot;)\n        .setSecureRandomAlgorithm(&quot;SHA1PRNG&quot;)\n        .setSecretKeyType(&quot;PBKDF2WithHmacSHA1&quot;);\n\n\n  Encryption encryption = builder.build();\n  System.out.println(&quot;decryptedEnc = &quot; + enc);\n  String decrypt = encryption.decryptOrNull(&quot;9iLnZQjN2aZoCs04lkWw3HX2xb6io8ouND7VhhfeIYsKhUCjPHgThL3IeIiEPBmpwGkAKoIFvJidsa3rancHJoYy2e3ipj5zw+e2L7va5qA=&quot;);\n  System.out.println(&quot;decrypted = &quot; + decrypt);\n  return decrypt;\n</code></pre>\n<p>and I decrypt data to flutter , But I can't found answer this question</p>\n<p>please help me</p>\n<p>tnx a lot</p>\n"},{"tags":["javascript","java","xml","jenkins","ant"],"answers":[{"tags":[],"owner":{"account_id":13171843,"reputation":15,"user_id":9513895,"display_name":"man like dave"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676896901,"creation_date":1676536904,"answer_id":75469682,"question_id":75467256,"body_markdown":"using the suggestion below fixed the error.\r\n\r\ni.e.\r\n```javascript\r\nvar Zip = org.apache.tools.ant.taskdefs.Zip;\r\n```\r\n\r\nhttps://stackoverflow.com/questions/22503100/java-8-javascript-engine-backwards-compatibility\r\n","title":"Cannot load ZipFileSet in Ant","body":"<p>using the suggestion below fixed the error.</p>\n<p>i.e.</p>\n<pre class=\"lang-js prettyprint-override\"><code>var Zip = org.apache.tools.ant.taskdefs.Zip;\n</code></pre>\n<p><a href=\"https://stackoverflow.com/questions/22503100/java-8-javascript-engine-backwards-compatibility\">Java 8 Javascript Engine backwards compatibility</a></p>\n"}],"owner":{"account_id":13171843,"reputation":15,"user_id":9513895,"display_name":"man like dave"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75469682,"answer_count":1,"score":0,"last_activity_date":1676896901,"creation_date":1676514534,"question_id":75467256,"body_markdown":"i get a typeerror when executing the below in my ant deploy.xml file, any idea what&#39;s wrong?\r\nThis worked about two weeks ago\r\n \r\n**command**:ant -f deploy.xml\r\n\r\n**ant version**: 1.9.4\r\n\r\n**error**:*javax.script.ScriptException: TypeError: Cannot load script from Packages.org.apache.tools.ant.types.ZipFileSet* \r\n```\r\n&lt;script language=&quot;javascript&quot;&gt;&lt;![CDATA[\r\n\t     var version = java.lang.System.getProperty(&quot;java.version&quot;);\r\n         if ( version.startsWith(&quot;1.8.0&quot;)) {\r\n             load(Packages.org.apache.tools.ant.types.ZipFileSet);\r\n             load(Packages.org.apache.tools.ant.taskdefs.Zip);\r\n         } else {\r\n             importClass(Packages.org.apache.tools.ant.types.ZipFileSet);\r\n             importClass(Packages.org.apache.tools.ant.taskdefs.Zip);\r\n\t\t }\r\n         ]]&gt;\r\n&lt;/script&gt;\r\n```","title":"Cannot load ZipFileSet in Ant","body":"<p>i get a typeerror when executing the below in my ant deploy.xml file, any idea what's wrong?\nThis worked about two weeks ago</p>\n<p><strong>command</strong>:ant -f deploy.xml</p>\n<p><strong>ant version</strong>: 1.9.4</p>\n<p><strong>error</strong>:<em>javax.script.ScriptException: TypeError: Cannot load script from Packages.org.apache.tools.ant.types.ZipFileSet</em></p>\n<pre><code>&lt;script language=&quot;javascript&quot;&gt;&lt;![CDATA[\n         var version = java.lang.System.getProperty(&quot;java.version&quot;);\n         if ( version.startsWith(&quot;1.8.0&quot;)) {\n             load(Packages.org.apache.tools.ant.types.ZipFileSet);\n             load(Packages.org.apache.tools.ant.taskdefs.Zip);\n         } else {\n             importClass(Packages.org.apache.tools.ant.types.ZipFileSet);\n             importClass(Packages.org.apache.tools.ant.taskdefs.Zip);\n         }\n         ]]&gt;\n&lt;/script&gt;\n</code></pre>\n"},{"tags":["java","multithreading","semaphore","executorservice","java.util.concurrent"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1676893674,"post_id":75508858,"comment_id":133222928,"body_markdown":"Inter- or intra-process? Doesn&#39;t a `synchronized` block work already? How are you using the semaphore inside `MyTask`?","body":"Inter- or intra-process? Doesn&#39;t a <code>synchronized</code> block work already? How are you using the semaphore inside <code>MyTask</code>?"},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1676893789,"post_id":75508858,"comment_id":133222973,"body_markdown":"If the method that opens and closes the file is synchronized, you shouldn&#39;t have this issue","body":"If the method that opens and closes the file is synchronized, you shouldn&#39;t have this issue"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":5,"creation_date":1676894369,"post_id":75508858,"comment_id":133223135,"body_markdown":"Show us the code that manipulates the data and where you acquire the semaphore. It&#39;s very easy to write threaded code wrong. For example if you protect individual steps in your process by semaphore but not the relevant sequences *together*, then it&#39;s easy to get the problems you describe.","body":"Show us the code that manipulates the data and where you acquire the semaphore. It&#39;s very easy to write threaded code wrong. For example if you protect individual steps in your process by semaphore but not the relevant sequences <i>together</i>, then it&#39;s easy to get the problems you describe."},{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":0,"creation_date":1677037369,"post_id":75508858,"comment_id":133256657,"body_markdown":"needs more code.. what is `MyTask`?","body":"needs more code.. what is <code>MyTask</code>?"}],"owner":{"account_id":25568793,"reputation":1,"user_id":19349509,"display_name":"Eswari Sekar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676896792,"creation_date":1676893508,"question_id":75508858,"body_markdown":"I&#39;m creating dynamic threads as shown below \r\n```\r\nExecutorService service = Executors.newFixedThreadPool(brnchCount);\r\nSemaphore smp = new Semaphore(1);\r\nfor (Object o : list) {\r\nservice.submit(new MyTask(o, projectId, serverConfigFilePath, path, packName, executeParam, smp));\r\n}\r\nservice.shutdown();\r\n```\r\n\r\nEach call has to access a json file and update data to the same. As all threads are accessing the same file, its throwing exception and corrupting the file.\r\n\r\n\r\nI tried using the &#39;Semaphore&#39; to acquire the method which manipulates the file. Still m getting the same error.\r\nHow can all the threads read and write the json without any exception ?","title":"When a thread is reading a json file, how to make sure all other threads are in wait in java?","body":"<p>I'm creating dynamic threads as shown below</p>\n<pre><code>ExecutorService service = Executors.newFixedThreadPool(brnchCount);\nSemaphore smp = new Semaphore(1);\nfor (Object o : list) {\nservice.submit(new MyTask(o, projectId, serverConfigFilePath, path, packName, executeParam, smp));\n}\nservice.shutdown();\n</code></pre>\n<p>Each call has to access a json file and update data to the same. As all threads are accessing the same file, its throwing exception and corrupting the file.</p>\n<p>I tried using the 'Semaphore' to acquire the method which manipulates the file. Still m getting the same error.\nHow can all the threads read and write the json without any exception ?</p>\n"},{"tags":["java","tomcat","jackrabbit"],"comments":[{"owner":{"account_id":1688160,"reputation":22605,"user_id":1551022,"accept_rate":89,"display_name":"Jops"},"score":0,"creation_date":1676899172,"post_id":75509141,"comment_id":133224452,"body_markdown":"Your issue is likely due to missing dependencies only, double check your classpath.","body":"Your issue is likely due to missing dependencies only, double check your classpath."},{"owner":{"account_id":4468997,"reputation":1,"user_id":3635771,"display_name":"user3635771"},"score":0,"creation_date":1676901594,"post_id":75509141,"comment_id":133225182,"body_markdown":"But how do i know which dependency is missing?","body":"But how do i know which dependency is missing?"},{"owner":{"account_id":1688160,"reputation":22605,"user_id":1551022,"accept_rate":89,"display_name":"Jops"},"score":0,"creation_date":1676904235,"post_id":75509141,"comment_id":133226059,"body_markdown":"This missing class should be in jackrabbit-core.xxx.jar. Check your classpath closely that it references this jar correctly, or has the right permissions to access this jar.","body":"This missing class should be in jackrabbit-core.xxx.jar. Check your classpath closely that it references this jar correctly, or has the right permissions to access this jar."}],"owner":{"account_id":4468997,"reputation":1,"user_id":3635771,"display_name":"user3635771"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676896786,"creation_date":1676895254,"question_id":75509141,"body_markdown":"I have a problem where i do not get any further by googling or researching in any other way. I am new to web applications in general but not new to coding. I apologize in advance should this be a stupid question. \r\n\r\nI am trying to create a test instance from a repository and when i try opening the app i keep on receiving the following error. \r\n\r\n\r\n```\r\nHTTP Status 500  Internal Server Error\r\nType Exception Report\r\n\r\nMessage Servlet.init() for servlet [dispatcher] threw exception\r\n\r\nDescription The server encountered an unexpected condition that prevented it from fulfilling the request.\r\n\r\nException\r\n\r\njavax.servlet.ServletException: Servlet.init() for servlet [dispatcher] threw exception\r\n\torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n\torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:688)\r\n\torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n\torg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:375)\r\n\torg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\torg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\r\n\torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1594)\r\n\torg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tjava.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tjava.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tjava.base/java.lang.Thread.run(Thread.java:829)\r\n\r\nRoot Cause\r\n\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;jackrabbitRepository&#39; defined in de.undermuffin.config.ServletContextConfiguration: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.jcr.Repository]: Factory method &#39;jackrabbitRepository&#39; threw exception; nested exception is java.lang.NoClassDefFoundError: Could not initialize class org.apache.jackrabbit.commons.query.QueryObjectModelBuilderRegistry\r\n\torg.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:599)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1123)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1018)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:510)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n\torg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1192)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1116)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1014)\r\n\torg.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:813)\r\n\torg.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:741)\r\n\torg.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:185)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1143)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1046)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:510)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n\torg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1192)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1116)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1014)\r\n\torg.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:545)\r\n\torg.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)\r\n\torg.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:331)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1214)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:543)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n\torg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:772)\r\n\torg.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:838)\r\n\torg.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:537)\r\n\torg.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:667)\r\n\torg.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:539)\r\n\torg.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:493)\r\n\torg.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:136)\r\n\tjavax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n\torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n\torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:688)\r\n\torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n\torg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:375)\r\n\torg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\torg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\r\n\torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1594)\r\n\torg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tjava.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tjava.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tjava.base/java.lang.Thread.run(Thread.java:829)\r\nRoot Cause\r\n\r\norg.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.jcr.Repository]: Factory method &#39;jackrabbitRepository&#39; threw exception; nested exception is java.lang.NoClassDefFoundError: Could not initialize class org.apache.jackrabbit.commons.query.QueryObjectModelBuilderRegistry\r\n\torg.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189)\r\n\torg.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1123)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1018)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:510)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n\torg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1192)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1116)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1014)\r\n\torg.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:813)\r\n\torg.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:741)\r\n\torg.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:185)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1143)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1046)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:510)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n\torg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1192)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1116)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1014)\r\n\torg.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:545)\r\n\torg.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)\r\n\torg.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:331)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1214)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:543)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n\torg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:772)\r\n\torg.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:838)\r\n\torg.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:537)\r\n\torg.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:667)\r\n\torg.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:539)\r\n\torg.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:493)\r\n\torg.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:136)\r\n\tjavax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n\torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n\torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:688)\r\n\torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n\torg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:375)\r\n\torg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\torg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\r\n\torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1594)\r\n\torg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tjava.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tjava.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tjava.base/java.lang.Thread.run(Thread.java:829)\r\nRoot Cause\r\n\r\njava.lang.NoClassDefFoundError: Could not initialize class org.apache.jackrabbit.commons.query.QueryObjectModelBuilderRegistry\r\n\torg.apache.jackrabbit.core.query.QOMQueryFactory.getSupportedLanguages(QOMQueryFactory.java:61)\r\n\torg.apache.jackrabbit.core.query.CompoundQueryFactory.createQuery(CompoundQueryFactory.java:66)\r\n\torg.apache.jackrabbit.core.query.QueryManagerImpl$2.perform(QueryManagerImpl.java:95)\r\n\torg.apache.jackrabbit.core.query.QueryManagerImpl$2.perform(QueryManagerImpl.java:91)\r\n\torg.apache.jackrabbit.core.session.SessionState.perform(SessionState.java:216)\r\n\torg.apache.jackrabbit.core.query.QueryManagerImpl.perform(QueryManagerImpl.java:197)\r\n\torg.apache.jackrabbit.core.query.QueryManagerImpl.createQuery(QueryManagerImpl.java:91)\r\n\torg.apache.jackrabbit.core.security.user.IndexNodeResolver.buildQuery(IndexNodeResolver.java:195)\r\n\torg.apache.jackrabbit.core.security.user.IndexNodeResolver.buildQuery(IndexNodeResolver.java:144)\r\n\torg.apache.jackrabbit.core.security.user.IndexNodeResolver.findNode(IndexNodeResolver.java:72)\r\n\torg.apache.jackrabbit.core.security.user.UserManagerImpl.getAuthorizable(UserManagerImpl.java:486)\r\n\torg.apache.jackrabbit.core.security.user.UserManagerImpl.setPrincipal(UserManagerImpl.java:717)\r\n\torg.apache.jackrabbit.core.security.user.UserManagerImpl.createUser(UserManagerImpl.java:578)\r\n\torg.apache.jackrabbit.core.security.user.UserManagerImpl.createUser(UserManagerImpl.java:562)\r\n\torg.apache.jackrabbit.core.security.user.UserManagerImpl.createAdmin(UserManagerImpl.java:1006)\r\n\torg.apache.jackrabbit.core.security.user.UserManagerImpl.getAuthorizable(UserManagerImpl.java:447)\r\n\torg.apache.jackrabbit.core.DefaultSecurityManager.createSystemUsers(DefaultSecurityManager.java:609)\r\n\torg.apache.jackrabbit.core.DefaultSecurityManager.init(DefaultSecurityManager.java:205)\r\n\torg.apache.jackrabbit.core.RepositoryImpl.initSecurityManager(RepositoryImpl.java:473)\r\n\torg.apache.jackrabbit.core.RepositoryImpl.&lt;init&gt;(RepositoryImpl.java:332)\r\n\torg.apache.jackrabbit.core.RepositoryImpl.create(RepositoryImpl.java:615)\r\n\torg.apache.jackrabbit.core.jndi.BindableRepository.createRepository(BindableRepository.java:141)\r\n\torg.apache.jackrabbit.core.jndi.BindableRepository.init(BindableRepository.java:117)\r\n\torg.apache.jackrabbit.core.jndi.BindableRepository.&lt;init&gt;(BindableRepository.java:106)\r\n\torg.apache.jackrabbit.core.jndi.BindableRepositoryFactory.getObjectInstance(BindableRepositoryFactory.java:52)\r\n\torg.apache.naming.factory.FactoryBase.getObjectInstance(FactoryBase.java:96)\r\n\tjava.naming/javax.naming.spi.NamingManager.getObjectInstance(NamingManager.java:341)\r\n\torg.apache.naming.NamingContext.lookup(NamingContext.java:857)\r\n\torg.apache.naming.NamingContext.lookup(NamingContext.java:160)\r\n\torg.apache.naming.NamingContext.lookup(NamingContext.java:843)\r\n\torg.apache.naming.NamingContext.lookup(NamingContext.java:174)\r\n\tde.undermuffin.config.ServletContextConfiguration.jackrabbitRepository(ServletContextConfiguration.java:259)\r\n\tde.undermuffin.config.ServletContextConfiguration$$EnhancerBySpringCGLIB$$7d5aba94.CGLIB$jackrabbitRepository$21(&lt;generated&gt;)\r\n\tde.undermuffin.config.ServletContextConfiguration$$EnhancerBySpringCGLIB$$7d5aba94$$FastClassBySpringCGLIB$$be193171.invoke(&lt;generated&gt;)\r\n\torg.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228)\r\n\torg.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:318)\r\n\tde.undermuffin.config.ServletContextConfiguration$$EnhancerBySpringCGLIB$$7d5aba94.jackrabbitRepository(&lt;generated&gt;)\r\n\tjava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tjava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tjava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tjava.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\torg.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162)\r\n\torg.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1123)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1018)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:510)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n\torg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1192)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1116)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1014)\r\n\torg.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:813)\r\n\torg.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:741)\r\n\torg.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:185)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1143)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1046)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:510)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n\torg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1192)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1116)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1014)\r\n\torg.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:545)\r\n\torg.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)\r\n\torg.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:331)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1214)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:543)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n\torg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:772)\r\n\torg.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:838)\r\n\torg.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:537)\r\n\torg.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:667)\r\n\torg.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:539)\r\n\torg.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:493)\r\n\torg.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:136)\r\n\tjavax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n\torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n\torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:688)\r\n\torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n\torg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:375)\r\n\torg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\torg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\r\n\torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1594)\r\n\torg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tjava.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tjava.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tjava.base/java.lang.Thread.run(Thread.java:829)\r\nNote The full stack trace of the root cause is available in the server logs.\r\n\r\nApache Tomcat/9.0.31 (Ubuntu)\r\n```\r\n\r\n\r\nI tried to reasearch the error but i am unsure what is missing and where to add something to the code.","title":"Problem starting java app with jackrabbit spring etc","body":"<p>I have a problem where i do not get any further by googling or researching in any other way. I am new to web applications in general but not new to coding. I apologize in advance should this be a stupid question.</p>\n<p>I am trying to create a test instance from a repository and when i try opening the app i keep on receiving the following error.</p>\n<pre><code>HTTP Status 500  Internal Server Error\nType Exception Report\n\nMessage Servlet.init() for servlet [dispatcher] threw exception\n\nDescription The server encountered an unexpected condition that prevented it from fulfilling the request.\n\nException\n\njavax.servlet.ServletException: Servlet.init() for servlet [dispatcher] threw exception\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:688)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n    org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:375)\n    org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1594)\n    org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.base/java.lang.Thread.run(Thread.java:829)\n\nRoot Cause\n\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jackrabbitRepository' defined in de.undermuffin.config.ServletContextConfiguration: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.jcr.Repository]: Factory method 'jackrabbitRepository' threw exception; nested exception is java.lang.NoClassDefFoundError: Could not initialize class org.apache.jackrabbit.commons.query.QueryObjectModelBuilderRegistry\n    org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:599)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1123)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1018)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:510)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\n    org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n    org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n    org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1192)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1116)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1014)\n    org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:813)\n    org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:741)\n    org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:185)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1143)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1046)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:510)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\n    org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n    org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n    org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1192)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1116)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1014)\n    org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:545)\n    org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)\n    org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:331)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1214)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:543)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\n    org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n    org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n    org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:772)\n    org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:838)\n    org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:537)\n    org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:667)\n    org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:539)\n    org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:493)\n    org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:136)\n    javax.servlet.GenericServlet.init(GenericServlet.java:158)\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:688)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n    org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:375)\n    org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1594)\n    org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.base/java.lang.Thread.run(Thread.java:829)\nRoot Cause\n\norg.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.jcr.Repository]: Factory method 'jackrabbitRepository' threw exception; nested exception is java.lang.NoClassDefFoundError: Could not initialize class org.apache.jackrabbit.commons.query.QueryObjectModelBuilderRegistry\n    org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189)\n    org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1123)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1018)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:510)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\n    org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n    org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n    org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1192)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1116)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1014)\n    org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:813)\n    org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:741)\n    org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:185)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1143)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1046)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:510)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\n    org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n    org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n    org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1192)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1116)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1014)\n    org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:545)\n    org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)\n    org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:331)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1214)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:543)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\n    org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n    org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n    org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:772)\n    org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:838)\n    org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:537)\n    org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:667)\n    org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:539)\n    org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:493)\n    org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:136)\n    javax.servlet.GenericServlet.init(GenericServlet.java:158)\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:688)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n    org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:375)\n    org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1594)\n    org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.base/java.lang.Thread.run(Thread.java:829)\nRoot Cause\n\njava.lang.NoClassDefFoundError: Could not initialize class org.apache.jackrabbit.commons.query.QueryObjectModelBuilderRegistry\n    org.apache.jackrabbit.core.query.QOMQueryFactory.getSupportedLanguages(QOMQueryFactory.java:61)\n    org.apache.jackrabbit.core.query.CompoundQueryFactory.createQuery(CompoundQueryFactory.java:66)\n    org.apache.jackrabbit.core.query.QueryManagerImpl$2.perform(QueryManagerImpl.java:95)\n    org.apache.jackrabbit.core.query.QueryManagerImpl$2.perform(QueryManagerImpl.java:91)\n    org.apache.jackrabbit.core.session.SessionState.perform(SessionState.java:216)\n    org.apache.jackrabbit.core.query.QueryManagerImpl.perform(QueryManagerImpl.java:197)\n    org.apache.jackrabbit.core.query.QueryManagerImpl.createQuery(QueryManagerImpl.java:91)\n    org.apache.jackrabbit.core.security.user.IndexNodeResolver.buildQuery(IndexNodeResolver.java:195)\n    org.apache.jackrabbit.core.security.user.IndexNodeResolver.buildQuery(IndexNodeResolver.java:144)\n    org.apache.jackrabbit.core.security.user.IndexNodeResolver.findNode(IndexNodeResolver.java:72)\n    org.apache.jackrabbit.core.security.user.UserManagerImpl.getAuthorizable(UserManagerImpl.java:486)\n    org.apache.jackrabbit.core.security.user.UserManagerImpl.setPrincipal(UserManagerImpl.java:717)\n    org.apache.jackrabbit.core.security.user.UserManagerImpl.createUser(UserManagerImpl.java:578)\n    org.apache.jackrabbit.core.security.user.UserManagerImpl.createUser(UserManagerImpl.java:562)\n    org.apache.jackrabbit.core.security.user.UserManagerImpl.createAdmin(UserManagerImpl.java:1006)\n    org.apache.jackrabbit.core.security.user.UserManagerImpl.getAuthorizable(UserManagerImpl.java:447)\n    org.apache.jackrabbit.core.DefaultSecurityManager.createSystemUsers(DefaultSecurityManager.java:609)\n    org.apache.jackrabbit.core.DefaultSecurityManager.init(DefaultSecurityManager.java:205)\n    org.apache.jackrabbit.core.RepositoryImpl.initSecurityManager(RepositoryImpl.java:473)\n    org.apache.jackrabbit.core.RepositoryImpl.&lt;init&gt;(RepositoryImpl.java:332)\n    org.apache.jackrabbit.core.RepositoryImpl.create(RepositoryImpl.java:615)\n    org.apache.jackrabbit.core.jndi.BindableRepository.createRepository(BindableRepository.java:141)\n    org.apache.jackrabbit.core.jndi.BindableRepository.init(BindableRepository.java:117)\n    org.apache.jackrabbit.core.jndi.BindableRepository.&lt;init&gt;(BindableRepository.java:106)\n    org.apache.jackrabbit.core.jndi.BindableRepositoryFactory.getObjectInstance(BindableRepositoryFactory.java:52)\n    org.apache.naming.factory.FactoryBase.getObjectInstance(FactoryBase.java:96)\n    java.naming/javax.naming.spi.NamingManager.getObjectInstance(NamingManager.java:341)\n    org.apache.naming.NamingContext.lookup(NamingContext.java:857)\n    org.apache.naming.NamingContext.lookup(NamingContext.java:160)\n    org.apache.naming.NamingContext.lookup(NamingContext.java:843)\n    org.apache.naming.NamingContext.lookup(NamingContext.java:174)\n    de.undermuffin.config.ServletContextConfiguration.jackrabbitRepository(ServletContextConfiguration.java:259)\n    de.undermuffin.config.ServletContextConfiguration$$EnhancerBySpringCGLIB$$7d5aba94.CGLIB$jackrabbitRepository$21(&lt;generated&gt;)\n    de.undermuffin.config.ServletContextConfiguration$$EnhancerBySpringCGLIB$$7d5aba94$$FastClassBySpringCGLIB$$be193171.invoke(&lt;generated&gt;)\n    org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228)\n    org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:318)\n    de.undermuffin.config.ServletContextConfiguration$$EnhancerBySpringCGLIB$$7d5aba94.jackrabbitRepository(&lt;generated&gt;)\n    java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162)\n    org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1123)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1018)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:510)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\n    org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n    org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n    org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1192)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1116)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1014)\n    org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:813)\n    org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:741)\n    org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:185)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1143)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1046)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:510)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\n    org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n    org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n    org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1192)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1116)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1014)\n    org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:545)\n    org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)\n    org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:331)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1214)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:543)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\n    org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n    org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n    org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:772)\n    org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:838)\n    org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:537)\n    org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:667)\n    org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:539)\n    org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:493)\n    org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:136)\n    javax.servlet.GenericServlet.init(GenericServlet.java:158)\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:688)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n    org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:375)\n    org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1594)\n    org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.base/java.lang.Thread.run(Thread.java:829)\nNote The full stack trace of the root cause is available in the server logs.\n\nApache Tomcat/9.0.31 (Ubuntu)\n</code></pre>\n<p>I tried to reasearch the error but i am unsure what is missing and where to add something to the code.</p>\n"},{"tags":["java","postgresql","hibernate","jpa"],"comments":[{"owner":{"display_name":"user330315"},"score":0,"creation_date":1676889624,"post_id":75508109,"comment_id":133221874,"body_markdown":"&quot;*with fooDate as a VARCHAR*&quot; - Why, oh Why? **Never**, ever store timestamp values in `varchar` columns. The column should be defined as `timestamptz` in the database. You aren&#39;t using `String` in Java either, so why use the wrong data type in the database?","body":"&quot;<i>with fooDate as a VARCHAR</i>&quot; - Why, oh Why? <b>Never</b>, ever store timestamp values in <code>varchar</code> columns. The column should be defined as <code>timestamptz</code> in the database. You aren&#39;t using <code>String</code> in Java either, so why use the wrong data type in the database?"},{"owner":{"account_id":2898866,"reputation":167,"user_id":2486070,"accept_rate":20,"display_name":"Arthur Saint-Genis"},"score":0,"creation_date":1676892157,"post_id":75508109,"comment_id":133222537,"body_markdown":"Because a database is not capable of handling offset correctly, timestamptz only store utc value","body":"Because a database is not capable of handling offset correctly, timestamptz only store utc value"},{"owner":{"display_name":"user330315"},"score":1,"creation_date":1676892676,"post_id":75508109,"comment_id":133222681,"body_markdown":"Yes, and `timestamptz` will be converted to the local time zone of the database client. But if you don&#39;t want an automatic conversion. Use a `timestamp` column and store the &quot;original&quot; time zone in a second column.","body":"Yes, and <code>timestamptz</code> will be converted to the local time zone of the database client. But if you don&#39;t want an automatic conversion. Use a <code>timestamp</code> column and store the &quot;original&quot; time zone in a second column."}],"answers":[{"tags":[],"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676896761,"creation_date":1676895134,"answer_id":75509123,"question_id":75508109,"body_markdown":"In Hibernate 6 you can use `cast(f.fooDate as LocalDateTime)` or `cast(f.fooDate as Timestamp)` to convert a string representation of a datetime to a timestamp. This _should_ work if the database understands the string representation that you have used to encode the offset datetime.\r\n\r\n(You might also try `cast(f.fooDate as OffsetDateTime)`, though this doesn&#39;t really work especially well on MySQL or PostgreSQL.)\r\n\r\nOn the other hand, it will _not_ work if your `AttributeConverter` encodes the offset datetime to some format you invented that the database doesn&#39;t understand.\r\n\r\nIn that case, you would need to:\r\n\r\n1. figure out a SQL expression that parses your offset data time format, perhaps by writing a SQL function and exporting it to the database, and\r\n2. register that as a custom HQL function using a `FunctionContributor`.","title":"Comparing string and OffsetDateTime in JPA / postgresQL","body":"<p>In Hibernate 6 you can use <code>cast(f.fooDate as LocalDateTime)</code> or <code>cast(f.fooDate as Timestamp)</code> to convert a string representation of a datetime to a timestamp. This <em>should</em> work if the database understands the string representation that you have used to encode the offset datetime.</p>\n<p>(You might also try <code>cast(f.fooDate as OffsetDateTime)</code>, though this doesn't really work especially well on MySQL or PostgreSQL.)</p>\n<p>On the other hand, it will <em>not</em> work if your <code>AttributeConverter</code> encodes the offset datetime to some format you invented that the database doesn't understand.</p>\n<p>In that case, you would need to:</p>\n<ol>\n<li>figure out a SQL expression that parses your offset data time format, perhaps by writing a SQL function and exporting it to the database, and</li>\n<li>register that as a custom HQL function using a <code>FunctionContributor</code>.</li>\n</ol>\n"}],"owner":{"account_id":2898866,"reputation":167,"user_id":2486070,"accept_rate":20,"display_name":"Arthur Saint-Genis"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":332,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75509123,"answer_count":1,"score":0,"last_activity_date":1676896761,"creation_date":1676889161,"question_id":75508109,"body_markdown":"I am migrating a codebase from mysql to postgresQL.\r\n\r\nI have an entity \r\n\r\n    public class FooEntity implements Serializable {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id;\r\n\r\n    @Column(nullable = false)\r\n    @Convert(converter = DateTimeConverter.class)\r\n    private OffsetDateTime fooDate;\r\n\r\nThe entity is stored in a foo table with fooDate as a VARCHAR. the DateTimeConverter make the conversion between string / offsetDateTime.\r\n\r\nI have a SQL request doing :\r\n\r\n\r\n            @Query(&quot;&quot;&quot;SELECT f.id as id,\r\n            f.fooDate as fooDate,\r\n            FROM FooEntity f\r\n            WHERE (:fooDate IS NULL OR f.fooDate &gt;= :fooDate)&quot;&quot;&quot;)\r\n    Page&lt;Map&lt;String, Object&gt;&gt; findAllByFooDate(Pageable pageable, OffSetDateTime fooDate);\r\n\r\nMy first issue was that if mysql have no issue with fooDate parameter being an OffsetDateTime, postgresQL will complain that the parameter is an unknown type. \r\n\r\nFirst solution was to convert OffsetDateTime to a String in the method signature. works well for postgresQL, but now I have an hibernate issue that complain that f.fooDate &gt;= :fooDate are not the same type.\r\n\r\nHow can I handle properly that issue ?\r\n\r\n","title":"Comparing string and OffsetDateTime in JPA / postgresQL","body":"<p>I am migrating a codebase from mysql to postgresQL.</p>\n<p>I have an entity</p>\n<pre><code>public class FooEntity implements Serializable {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Integer id;\n\n@Column(nullable = false)\n@Convert(converter = DateTimeConverter.class)\nprivate OffsetDateTime fooDate;\n</code></pre>\n<p>The entity is stored in a foo table with fooDate as a VARCHAR. the DateTimeConverter make the conversion between string / offsetDateTime.</p>\n<p>I have a SQL request doing :</p>\n<pre><code>        @Query(&quot;&quot;&quot;SELECT f.id as id,\n        f.fooDate as fooDate,\n        FROM FooEntity f\n        WHERE (:fooDate IS NULL OR f.fooDate &gt;= :fooDate)&quot;&quot;&quot;)\nPage&lt;Map&lt;String, Object&gt;&gt; findAllByFooDate(Pageable pageable, OffSetDateTime fooDate);\n</code></pre>\n<p>My first issue was that if mysql have no issue with fooDate parameter being an OffsetDateTime, postgresQL will complain that the parameter is an unknown type.</p>\n<p>First solution was to convert OffsetDateTime to a String in the method signature. works well for postgresQL, but now I have an hibernate issue that complain that f.fooDate &gt;= :fooDate are not the same type.</p>\n<p>How can I handle properly that issue ?</p>\n"},{"tags":["java","android","gluon-mobile","graalvm-native-image","gluonfx"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1676904480,"post_id":75509367,"comment_id":133226145,"body_markdown":"I took a look at the Android module, `BrowserService`, and it appears to handle URI/Web browser. Android has its own rules for [dealing with storage](https://developer.android.com/training/data-storage) which means that [the issue you commented on](https://github.com/gluonhq/attach/issues/242) is still open.","body":"I took a look at the Android module, <code>BrowserService</code>, and it appears to handle URI/Web browser. Android has its own rules for <a href=\"https://developer.android.com/training/data-storage\" rel=\"nofollow noreferrer\">dealing with storage</a> which means that <a href=\"https://github.com/gluonhq/attach/issues/242\" rel=\"nofollow noreferrer\">the issue you commented on</a> is still open."},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":1,"creation_date":1676908984,"post_id":75509367,"comment_id":133227523,"body_markdown":"BrowserService is not for file access, indeed. However, StorageService deals with private and public folders.","body":"BrowserService is not for file access, indeed. However, StorageService deals with private and public folders."},{"owner":{"account_id":5686961,"reputation":631,"user_id":4496194,"accept_rate":75,"display_name":"taranion"},"score":0,"creation_date":1676909644,"post_id":75509367,"comment_id":133227721,"body_markdown":"@Jos&#233;Pereda I can access the files via StorageService just fine.\nBut I want to present the user the system file browser with a given directory. Is there another possibility to do this, if not with the BrowserService?","body":"@Jos&#233;Pereda I can access the files via StorageService just fine. But I want to present the user the system file browser with a given directory. Is there another possibility to do this, if not with the BrowserService?"},{"owner":{"account_id":5686961,"reputation":631,"user_id":4496194,"accept_rate":75,"display_name":"taranion"},"score":0,"creation_date":1676909723,"post_id":75509367,"comment_id":133227753,"body_markdown":"@MorrisonChang Oh, by the way ... I just worked around that issue today. I&#39;ll add a comment.","body":"@MorrisonChang Oh, by the way ... I just worked around that issue today. I&#39;ll add a comment."},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":1,"creation_date":1676910011,"post_id":75509367,"comment_id":133227832,"body_markdown":"For a FileChooser, you will need something like this: https://github.com/gluonhq/attach/pull/283. Since that hasn&#39;t been integrated into Attach, you could give it a try as part of [AttachExtended](https://github.com/gluonhq/attachextended).","body":"For a FileChooser, you will need something like this: <a href=\"https://github.com/gluonhq/attach/pull/283\" rel=\"nofollow noreferrer\">github.com/gluonhq/attach/pull/283</a>. Since that hasn&#39;t been integrated into Attach, you could give it a try as part of <a href=\"https://github.com/gluonhq/attachextended\" rel=\"nofollow noreferrer\">AttachExtended</a>."},{"owner":{"account_id":5686961,"reputation":631,"user_id":4496194,"accept_rate":75,"display_name":"taranion"},"score":0,"creation_date":1676910677,"post_id":75509367,"comment_id":133228008,"body_markdown":"@Jos&#233;Pereda At least on Linux and Windows there is a difference between a FileChooser and a FileBrowser. The FileChooser is used to present the user an option to select one or more files that are later processed in the application.\nThe FileBrowser is simply an application to navigate the filesystem and view directory contents.\nI want to open a FileBrowser to a log or a data directory of my application.\n\nBut I agree: If the BrowserService does not support file-URLs on all plattforms, there is corrently no Attach service that allows that.","body":"@Jos&#233;Pereda At least on Linux and Windows there is a difference between a FileChooser and a FileBrowser. The FileChooser is used to present the user an option to select one or more files that are later processed in the application. The FileBrowser is simply an application to navigate the filesystem and view directory contents. I want to open a FileBrowser to a log or a data directory of my application.  But I agree: If the BrowserService does not support file-URLs on all plattforms, there is corrently no Attach service that allows that."}],"owner":{"account_id":5686961,"reputation":631,"user_id":4496194,"accept_rate":75,"display_name":"taranion"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676896612,"creation_date":1676896612,"question_id":75509367,"body_markdown":"Writing JavaFX applications for Android, using GraalVM and gluon-maven-plugin:\r\n\r\nI am trying to open a file system location using Gluon Attach (4.0.17-SNAPSHOT) ``BrowserService`` with a ``file:`` URL. That works fine on desktop systems, but fails on Android (13)\r\n\r\n```java\r\njava.io.IOException: Error launching url file:/storage/emulated/0/Documents/CommLink6/logs\r\n \tat com.gluonhq.attach.browser.impl.AndroidBrowserService.launchExternalBrowser(AndroidBrowserService.java:57)\r\n \tat de.rpgframework.eden.client.jfx.EdenClientApplication.lambda$openFile$10(EdenClientApplication.java:799)\r\n```\r\nI tried ``file:/`` and ``file:///``\r\n\r\nJudging from the [source code][1] it fails in a native function.\r\n\r\nEither I am doing something wrong with the file-URL or the BrowserService is not a good choice to open file locations - but I am not aware of another options that works platform independently.\r\n\r\nCan anyone help?\r\n\r\n\r\n  [1]: https://github.com/gluonhq/attach/blob/master/modules/browser/src/main/java/com/gluonhq/attach/browser/impl/AndroidBrowserService.java","title":"Gluon Attach - open file system browser on Android","body":"<p>Writing JavaFX applications for Android, using GraalVM and gluon-maven-plugin:</p>\n<p>I am trying to open a file system location using Gluon Attach (4.0.17-SNAPSHOT) <code>BrowserService</code> with a <code>file:</code> URL. That works fine on desktop systems, but fails on Android (13)</p>\n<pre class=\"lang-java prettyprint-override\"><code>java.io.IOException: Error launching url file:/storage/emulated/0/Documents/CommLink6/logs\n    at com.gluonhq.attach.browser.impl.AndroidBrowserService.launchExternalBrowser(AndroidBrowserService.java:57)\n    at de.rpgframework.eden.client.jfx.EdenClientApplication.lambda$openFile$10(EdenClientApplication.java:799)\n</code></pre>\n<p>I tried <code>file:/</code> and <code>file:///</code></p>\n<p>Judging from the <a href=\"https://github.com/gluonhq/attach/blob/master/modules/browser/src/main/java/com/gluonhq/attach/browser/impl/AndroidBrowserService.java\" rel=\"nofollow noreferrer\">source code</a> it fails in a native function.</p>\n<p>Either I am doing something wrong with the file-URL or the BrowserService is not a good choice to open file locations - but I am not aware of another options that works platform independently.</p>\n<p>Can anyone help?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":2,"creation_date":1676909149,"post_id":75509365,"comment_id":133227580,"body_markdown":"Use a [Zip File System Provider](https://docs.oracle.com/javase/8/docs/technotes/guides/io/fsp/zipfilesystemprovider.html) in conjunction with [java.nio.file.Files#walkl()](https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#walk-java.nio.file.Path-java.nio.file.FileVisitOption...-) and copy each file individually and change the folder name on the fly.","body":"Use a <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/io/fsp/zipfilesystemprovider.html\" rel=\"nofollow noreferrer\">Zip File System Provider</a> in conjunction with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#walk-java.nio.file.Path-java.nio.file.FileVisitOption...-\" rel=\"nofollow noreferrer\">java.nio.file.Files#walkl()</a> and copy each file individually and change the folder name on the fly."}],"owner":{"account_id":3282603,"reputation":241,"user_id":2762835,"accept_rate":17,"display_name":"Kalava"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676896601,"creation_date":1676896601,"question_id":75509365,"body_markdown":"I want to rename non empty folder in a zip file using java. The Files.move only copies folder without its children/content. How to rename folder along with its contents in a zip file?\r\n\r\n","title":"Rename non empty folder inside zip file using java","body":"<p>I want to rename non empty folder in a zip file using java. The Files.move only copies folder without its children/content. How to rename folder along with its contents in a zip file?</p>\n"},{"tags":["java","junit5","junit-jupiter"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1676889282,"post_id":75508103,"comment_id":133221770,"body_markdown":"Wild guess no `@ExtendWith(MockitoExtension.class)` on your test or using the wrong `@Test` (the one from JUnit4 instead of JUnit5). But as you posted only a partial snippet instead of the **full test** this is impossible to know.","body":"Wild guess no <code>@ExtendWith(MockitoExtension.class)</code> on your test or using the wrong <code>@Test</code> (the one from JUnit4 instead of JUnit5). But as you posted only a partial snippet instead of the <b>full test</b> this is impossible to know."},{"owner":{"account_id":3091246,"reputation":1242,"user_id":2617281,"accept_rate":88,"display_name":"Michi-2142"},"score":0,"creation_date":1676889836,"post_id":75508103,"comment_id":133221942,"body_markdown":"@M.Deinum Added more details to the question.","body":"@M.Deinum Added more details to the question."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1676890823,"post_id":75508103,"comment_id":133222195,"body_markdown":"I would expect the stack trace to give you a strong clue as to why you are getting NPE.","body":"I would expect the stack trace to give you a strong clue as to why you are getting NPE."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1676891234,"post_id":75508103,"comment_id":133222309,"body_markdown":"I would start by upgrade Mockito. 4.0.0 is a bit dated, I would at least try 4.11 or even switch to the 5.x releases. It is still not the full test case as I would expect some additional imports.","body":"I would start by upgrade Mockito. 4.0.0 is a bit dated, I would at least try 4.11 or even switch to the 5.x releases. It is still not the full test case as I would expect some additional imports."},{"owner":{"account_id":1174921,"reputation":1613,"user_id":1151144,"accept_rate":79,"display_name":"Dale"},"score":0,"creation_date":1676891473,"post_id":75508103,"comment_id":133222376,"body_markdown":"Your code should catch NPE and rethrow it as your type of exception.  Either that or if you get a NPE in your service have it throw your Exception type.","body":"Your code should catch NPE and rethrow it as your type of exception.  Either that or if you get a NPE in your service have it throw your Exception type."},{"owner":{"account_id":3091246,"reputation":1242,"user_id":2617281,"accept_rate":88,"display_name":"Michi-2142"},"score":0,"creation_date":1676894408,"post_id":75508103,"comment_id":133223145,"body_markdown":"@M.Deinum Upgrading to 4.11 gives me detailed log, thank you!","body":"@M.Deinum Upgrading to 4.11 gives me detailed log, thank you!"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1676897615,"post_id":75508103,"comment_id":133224013,"body_markdown":"Why `@Spy`? You are not spying on any calls nor stubbing calls","body":"Why <code>@Spy</code>? You are not spying on any calls nor stubbing calls"}],"answers":[{"tags":[],"owner":{"account_id":13075799,"reputation":117,"user_id":9696968,"display_name":"schlin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676896243,"creation_date":1676892459,"answer_id":75508684,"question_id":75508103,"body_markdown":"the problem is the `@InjectMocks` and `@Spy` annotation. Using them together does not make sense (as discussed [in this stackoverflow post][1]). Creating the class by hand solves the `NullPointerException` and the test runs successfully\r\n\r\n    import org.junit.jupiter.api.Test;\r\n    import org.junit.jupiter.api.extension.ExtendWith;\r\n    import org.mockito.InjectMocks;\r\n    import org.mockito.Mockito;\r\n    import org.mockito.Spy;\r\n    import org.mockito.junit.jupiter.MockitoExtension;\r\n\r\n    import static \r\n    org.junit.jupiter.api.Assertions.assertThrows;\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    public class MyServiceTest {\r\n       MyService myServiceToTest;\r\n\r\n       @Test\r\n       public void invoke_ShouldThrow_MyCustomException() {\r\n          MyService myServiceToTest = new MyService();\r\n          assertThrows(MyCustomException.class, () -&gt; {\r\n            myServiceToTest.invoke(null);\r\n          });\r\n       }\r\n    }  \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/38567326/is-it-discouraged-to-use-spy-and-injectmocks-on-the-same-field#:~:text=%40Spy%20and%20%40InjectMocks%20cannot%20be,them%20to%20the%20same%20object.","title":"JUnit 5 and Mockito assertThrows() raises NullPointerException instead of original","body":"<p>the problem is the <code>@InjectMocks</code> and <code>@Spy</code> annotation. Using them together does not make sense (as discussed <a href=\"https://stackoverflow.com/questions/38567326/is-it-discouraged-to-use-spy-and-injectmocks-on-the-same-field#:%7E:text=%40Spy%20and%20%40InjectMocks%20cannot%20be,them%20to%20the%20same%20object.\">in this stackoverflow post</a>). Creating the class by hand solves the <code>NullPointerException</code> and the test runs successfully</p>\n<pre><code>import org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mockito;\nimport org.mockito.Spy;\nimport org.mockito.junit.jupiter.MockitoExtension;\n\nimport static \norg.junit.jupiter.api.Assertions.assertThrows;\n\n@ExtendWith(MockitoExtension.class)\npublic class MyServiceTest {\n   MyService myServiceToTest;\n\n   @Test\n   public void invoke_ShouldThrow_MyCustomException() {\n      MyService myServiceToTest = new MyService();\n      assertThrows(MyCustomException.class, () -&gt; {\n        myServiceToTest.invoke(null);\n      });\n   }\n}  \n</code></pre>\n"}],"owner":{"account_id":3091246,"reputation":1242,"user_id":2617281,"accept_rate":88,"display_name":"Michi-2142"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":541,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75508684,"answer_count":1,"score":0,"last_activity_date":1676896243,"creation_date":1676889138,"question_id":75508103,"body_markdown":"I want to test a method which should throw a exception of type `MyCustomException`. This is an example of my class `MyService`.\r\n\r\n    public class MyService {\r\n\t    public void invoke(InvocationContext ctx) throws MyCustomException{\r\n\t\t    if(ctx == null) {\r\n\t\t        throw new MyCustomException(&quot;Parameter ctx must not be null.&quot;);\r\n            }\r\n\t    }\r\n    }\r\n\r\nI would like to test, whether method throws `MyCustomException` if I pass a null value with the `assertThrows()`.\r\n\r\n\r\n    import org.junit.jupiter.api.Test;\r\n    import org.junit.jupiter.api.extension.ExtendWith;\r\n    import org.mockito.InjectMocks;\r\n    import org.mockito.Mockito;\r\n    import org.mockito.Spy;\r\n    import org.mockito.junit.jupiter.MockitoExtension;\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    public class AxwApplicationTest {\r\n        @Spy\r\n\t    @InjectMocks\r\n\t    MyService myServiceToTest;\r\n\t\r\n\t    @Test\r\n\t    public void invoke_ShouldThrow_MyCustomException() {\r\n\t\t    assertThrows(MyCustomException.class, () -&gt; {\r\n\t\t\t    myServiceToTest.invoke(null);\r\n\t\t    });\r\n\t    }\r\n    }\r\nSomehow the exception is thrown but ends up as `NullPointerException` and I don&#39;t know how to solve it. The `assertThrows` gives my following error:\r\n\r\n    java.lang.AssertionError: unexpected exception type thrown; expected:&lt;com.myproject.MyCustomException&gt; but was:&lt;java.lang.NullPointerException&gt;\r\n\r\n\r\nMaven dependencies:\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n\t&lt;version&gt;5.9.2&lt;/version&gt;\r\n\t&lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n\t&lt;version&gt;4.0.0&lt;/version&gt;\r\n\t&lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\r\n\t&lt;version&gt;4.0.0&lt;/version&gt;\r\n\t&lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\r\n\t&lt;version&gt;4.0.0&lt;/version&gt;\r\n\t&lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```","title":"JUnit 5 and Mockito assertThrows() raises NullPointerException instead of original","body":"<p>I want to test a method which should throw a exception of type <code>MyCustomException</code>. This is an example of my class <code>MyService</code>.</p>\n<pre><code>public class MyService {\n    public void invoke(InvocationContext ctx) throws MyCustomException{\n        if(ctx == null) {\n            throw new MyCustomException(&quot;Parameter ctx must not be null.&quot;);\n        }\n    }\n}\n</code></pre>\n<p>I would like to test, whether method throws <code>MyCustomException</code> if I pass a null value with the <code>assertThrows()</code>.</p>\n<pre><code>import org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mockito;\nimport org.mockito.Spy;\nimport org.mockito.junit.jupiter.MockitoExtension;\n\n@ExtendWith(MockitoExtension.class)\npublic class AxwApplicationTest {\n    @Spy\n    @InjectMocks\n    MyService myServiceToTest;\n\n    @Test\n    public void invoke_ShouldThrow_MyCustomException() {\n        assertThrows(MyCustomException.class, () -&gt; {\n            myServiceToTest.invoke(null);\n        });\n    }\n}\n</code></pre>\n<p>Somehow the exception is thrown but ends up as <code>NullPointerException</code> and I don't know how to solve it. The <code>assertThrows</code> gives my following error:</p>\n<pre><code>java.lang.AssertionError: unexpected exception type thrown; expected:&lt;com.myproject.MyCustomException&gt; but was:&lt;java.lang.NullPointerException&gt;\n</code></pre>\n<p>Maven dependencies:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n    &lt;version&gt;5.9.2&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n    &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n    &lt;version&gt;4.0.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n    &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\n    &lt;version&gt;4.0.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n    &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\n    &lt;version&gt;4.0.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1676775063,"post_id":75497676,"comment_id":133204684,"body_markdown":"&quot;Format&quot; the text BEFORE you apply it to the field, I&#39;d start with the prefix you want to use a `static String`, get the last 4 characters from the text and simple combine them together","body":"&quot;Format&quot; the text BEFORE you apply it to the field, I&#39;d start with the prefix you want to use a <code>static String</code>, get the last 4 characters from the text and simple combine them together"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1676776366,"post_id":75497676,"comment_id":133204771,"body_markdown":"I&#39;m not sure that makes sense (to me).  Why would you mask the input in such away?  How would the user possibly verify what they&#39;ve input.  I get masking it as output, but input seems .... weird","body":"I&#39;m not sure that makes sense (to me).  Why would you mask the input in such away?  How would the user possibly verify what they&#39;ve input.  I get masking it as output, but input seems .... weird"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1676824242,"post_id":75497676,"comment_id":133210692,"body_markdown":"please describe the _exact_ behaviour you want to achieve: simple masking after input might require a different approach that masking during input.","body":"please describe the <i>exact</i> behaviour you want to achieve: simple masking after input might require a different approach that masking during input."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1676824464,"post_id":75497676,"comment_id":133210722,"body_markdown":"@MadProgrammer while I - as a user - hate a ux that doesn&#39;t show my input, there are examples f.i. in mobile and/or browser contexts where only the currently typed char is shown and then is (animatedly, OMG ;) is hidden, the more user-friendly variants having an eye picture that re-shows the input when clicked.","body":"@MadProgrammer while I - as a user - hate a ux that doesn&#39;t show my input, there are examples f.i. in mobile and/or browser contexts where only the currently typed char is shown and then is (animatedly, OMG ;) is hidden, the more user-friendly variants having an eye picture that re-shows the input when clicked."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1676839006,"post_id":75497676,"comment_id":133213543,"body_markdown":"@kleopatra I don&#39;t know what you&#39;ve been buying, but I&#39;ve never seen it - I &quot;might&quot; consider a on focus lost state, but not while the user is typing","body":"@kleopatra I don&#39;t know what you&#39;ve been buying, but I&#39;ve never seen it - I &quot;might&quot; consider a on focus lost state, but not while the user is typing"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1676893485,"post_id":75497676,"comment_id":133222872,"body_markdown":"@MadProgrammer don&#39;t know what you mean by _buying_ (all my apps are free, neither stolen nor bought &lt;g&gt;) but you are right: I should come up with an example .. will do next time I stumble across it (my memory isn&#39;t as crisp as it used to be ;)","body":"@MadProgrammer don&#39;t know what you mean by <i>buying</i> (all my apps are free, neither stolen nor bought &lt;g&gt;) but you are right: I should come up with an example .. will do next time I stumble across it (my memory isn&#39;t as crisp as it used to be ;)"}],"answers":[{"tags":[],"owner":{"account_id":24252734,"reputation":31,"user_id":18203551,"display_name":"Muhammad Ismail"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676821566,"creation_date":1676778746,"answer_id":75497878,"question_id":75497676,"body_markdown":"\r\n\r\n    String number = &quot;6235761255231456&quot;;\r\n    String mask = number.replaceAll(&quot;\\\\d(?=\\\\d{4})&quot;, &quot;X&quot;);\r\n    System.out.println(mask);\r\n    \r\n    OutPut:\r\n    XXXXXXXXXXXX1456\r\n\r\nhere replace we are using replaceAll method which will take regular expression as parameter and and will replace every digit with X except last four digit the following regular expression is accepting all except last 4 digit.\r\n \r\n","title":"Java text field for credit card number only showing last 4 digits","body":"<pre><code>String number = &quot;6235761255231456&quot;;\nString mask = number.replaceAll(&quot;\\\\d(?=\\\\d{4})&quot;, &quot;X&quot;);\nSystem.out.println(mask);\n\nOutPut:\nXXXXXXXXXXXX1456\n</code></pre>\n<p>here replace we are using replaceAll method which will take regular expression as parameter and and will replace every digit with X except last four digit the following regular expression is accepting all except last 4 digit.</p>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676796354,"creation_date":1676796354,"answer_id":75498947,"question_id":75497676,"body_markdown":"A [`JFormattedTextField`][1] has a *formatter factory*. I looked at the code of the default *formatter factory* &amp;ndash; which is class `DefaultFormatterFactory` &amp;ndash; and tried to adapt it to your requirements.\r\n\r\nThat class defines several *formatter* classes: one for when the `JFormattedTextField` is in *edit* mode, i.e. it has the keyboard focus and another for *display* mode, i.e. when the `JFormattedTextField` does **not** have keyboard focus.\r\n\r\nIn the below code I created a `CreditCardFormatterFactory` class as well as a `CreditCardEditFormatter` class and a `CreditCardDisplayFormatter` class.\r\n\r\nNote that I may have misunderstood your requirements, so the below code may not be exactly what you require but I would like to think that it is good enough for you to be able to adapt it to your exact requirements.\r\n```java\r\nimport java.awt.BorderLayout;\r\nimport java.awt.EventQueue;\r\nimport java.text.ParseException;\r\n\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFormattedTextField;\r\nimport javax.swing.JFormattedTextField.AbstractFormatter;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JPanel;\r\n\r\npublic class FtfTest {\r\n    private void buildAndDisplayGui() {\r\n        JFrame frame = new JFrame();\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.add(createFormattedTextField(), BorderLayout.PAGE_START);\r\n        frame.add(createButton(), BorderLayout.PAGE_END);\r\n        frame.pack();\r\n        frame.setLocationByPlatform(true);\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    private JPanel createFormattedTextField() {\r\n        JPanel panel = new JPanel();\r\n        JLabel label = new JLabel(&quot;Credit Card Number&quot;);\r\n        panel.add(label);\r\n        JFormattedTextField creditCardFormattedTextField = new JFormattedTextField(\r\n                                                                 new CreditCardFormatterFactory());\r\n        creditCardFormattedTextField.setColumns(16);\r\n        panel.add(creditCardFormattedTextField);\r\n        return panel;\r\n    }\r\n\r\n    private JPanel createButton() {\r\n        JPanel panel = new JPanel();\r\n        JButton button = new JButton(&quot;Exit&quot;);\r\n        button.addActionListener(e -&gt; System.exit(0));\r\n        panel.add(button);\r\n        return panel;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        EventQueue.invokeLater(() -&gt; new FtfTest().buildAndDisplayGui());\r\n    }\r\n}\r\n\r\nclass CreditCardFormatterFactory extends JFormattedTextField.AbstractFormatterFactory {\r\n\r\n    /** {@code JFormattedTextField.AbstractFormatter} to use for display. */\r\n    private JFormattedTextField.AbstractFormatter displayFormat;\r\n\r\n    /** {@code JFormattedTextField.AbstractFormatter} to use for editing. */\r\n    private JFormattedTextField.AbstractFormatter editFormat;\r\n\r\n    /** {@code JFormattedTextField.AbstractFormatter} to use if the value is null. */\r\n    private JFormattedTextField.AbstractFormatter nullFormat;\r\n\r\n    public CreditCardFormatterFactory() {\r\n        displayFormat = new CreditCardDisplayFormatter();\r\n        editFormat = new CreditCardEditFormatter();\r\n    }\r\n\r\n    @Override\r\n    public AbstractFormatter getFormatter(JFormattedTextField ftf) {\r\n        JFormattedTextField.AbstractFormatter format = null;\r\n        if (ftf != null) {\r\n            if (ftf.hasFocus()) {\r\n                format = getEditFormatter();\r\n            }\r\n            else {\r\n                format = getDisplayFormatter();\r\n            }\r\n        }\r\n        return format;\r\n    }\r\n\r\n    public JFormattedTextField.AbstractFormatter getDisplayFormatter() {\r\n        return displayFormat;\r\n    }\r\n\r\n    public JFormattedTextField.AbstractFormatter getEditFormatter() {\r\n        return editFormat;\r\n    }\r\n\r\n    public JFormattedTextField.AbstractFormatter getNullFormatter() {\r\n        return nullFormat;\r\n    }\r\n}\r\n\r\nclass CreditCardDisplayFormatter extends JFormattedTextField.AbstractFormatter {\r\n\r\n    @Override\r\n    public Object stringToValue(String text) throws ParseException {\r\n        System.out.printf(&quot;CreditCardDisplayFormatter.stringToValue( ^%s^ )%n&quot;, text);\r\n        return text;\r\n    }\r\n\r\n    @Override\r\n    public String valueToString(Object value) throws ParseException {\r\n        System.out.printf(&quot;CreditCardDisplayFormatter.valueToString( ^%s^ )%n&quot;,\r\n                          String.valueOf(value));\r\n        String str = value == null ? &quot;&quot; : value.toString();\r\n        if (str.length() &gt; 0) {\r\n            if (str.length() &gt; 12) {\r\n                str = &quot;XXXXXXXXXXXX&quot; + str.substring(12);\r\n            }\r\n            else {\r\n                str = str.replaceAll(&quot;\\\\d&quot;, &quot;X&quot;);\r\n            }\r\n        }\r\n        return str;\r\n    }\r\n}\r\n\r\nclass CreditCardEditFormatter extends JFormattedTextField.AbstractFormatter {\r\n\r\n    @Override\r\n    public Object stringToValue(String text) throws ParseException {\r\n        System.out.printf(&quot;CreditCardEditFormatter.stringToValue( ^%s^ )%n&quot;, text);\r\n        return text;\r\n    }\r\n\r\n    @Override\r\n    public String valueToString(Object value) throws ParseException {\r\n        System.out.printf(&quot;CreditCardEditFormatter.valueToString( ^%s^ )%n&quot;,\r\n                          String.valueOf(value));\r\n        return value == null ? null : value.toString();\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/uiswing/components/formattedtextfield.html","title":"Java text field for credit card number only showing last 4 digits","body":"<p>A <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/formattedtextfield.html\" rel=\"nofollow noreferrer\"><code>JFormattedTextField</code></a> has a <em>formatter factory</em>. I looked at the code of the default <em>formatter factory</em>  which is class <code>DefaultFormatterFactory</code>  and tried to adapt it to your requirements.</p>\n<p>That class defines several <em>formatter</em> classes: one for when the <code>JFormattedTextField</code> is in <em>edit</em> mode, i.e. it has the keyboard focus and another for <em>display</em> mode, i.e. when the <code>JFormattedTextField</code> does <strong>not</strong> have keyboard focus.</p>\n<p>In the below code I created a <code>CreditCardFormatterFactory</code> class as well as a <code>CreditCardEditFormatter</code> class and a <code>CreditCardDisplayFormatter</code> class.</p>\n<p>Note that I may have misunderstood your requirements, so the below code may not be exactly what you require but I would like to think that it is good enough for you to be able to adapt it to your exact requirements.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.BorderLayout;\nimport java.awt.EventQueue;\nimport java.text.ParseException;\n\nimport javax.swing.JButton;\nimport javax.swing.JFormattedTextField;\nimport javax.swing.JFormattedTextField.AbstractFormatter;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\n\npublic class FtfTest {\n    private void buildAndDisplayGui() {\n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add(createFormattedTextField(), BorderLayout.PAGE_START);\n        frame.add(createButton(), BorderLayout.PAGE_END);\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    private JPanel createFormattedTextField() {\n        JPanel panel = new JPanel();\n        JLabel label = new JLabel(&quot;Credit Card Number&quot;);\n        panel.add(label);\n        JFormattedTextField creditCardFormattedTextField = new JFormattedTextField(\n                                                                 new CreditCardFormatterFactory());\n        creditCardFormattedTextField.setColumns(16);\n        panel.add(creditCardFormattedTextField);\n        return panel;\n    }\n\n    private JPanel createButton() {\n        JPanel panel = new JPanel();\n        JButton button = new JButton(&quot;Exit&quot;);\n        button.addActionListener(e -&gt; System.exit(0));\n        panel.add(button);\n        return panel;\n    }\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(() -&gt; new FtfTest().buildAndDisplayGui());\n    }\n}\n\nclass CreditCardFormatterFactory extends JFormattedTextField.AbstractFormatterFactory {\n\n    /** {@code JFormattedTextField.AbstractFormatter} to use for display. */\n    private JFormattedTextField.AbstractFormatter displayFormat;\n\n    /** {@code JFormattedTextField.AbstractFormatter} to use for editing. */\n    private JFormattedTextField.AbstractFormatter editFormat;\n\n    /** {@code JFormattedTextField.AbstractFormatter} to use if the value is null. */\n    private JFormattedTextField.AbstractFormatter nullFormat;\n\n    public CreditCardFormatterFactory() {\n        displayFormat = new CreditCardDisplayFormatter();\n        editFormat = new CreditCardEditFormatter();\n    }\n\n    @Override\n    public AbstractFormatter getFormatter(JFormattedTextField ftf) {\n        JFormattedTextField.AbstractFormatter format = null;\n        if (ftf != null) {\n            if (ftf.hasFocus()) {\n                format = getEditFormatter();\n            }\n            else {\n                format = getDisplayFormatter();\n            }\n        }\n        return format;\n    }\n\n    public JFormattedTextField.AbstractFormatter getDisplayFormatter() {\n        return displayFormat;\n    }\n\n    public JFormattedTextField.AbstractFormatter getEditFormatter() {\n        return editFormat;\n    }\n\n    public JFormattedTextField.AbstractFormatter getNullFormatter() {\n        return nullFormat;\n    }\n}\n\nclass CreditCardDisplayFormatter extends JFormattedTextField.AbstractFormatter {\n\n    @Override\n    public Object stringToValue(String text) throws ParseException {\n        System.out.printf(&quot;CreditCardDisplayFormatter.stringToValue( ^%s^ )%n&quot;, text);\n        return text;\n    }\n\n    @Override\n    public String valueToString(Object value) throws ParseException {\n        System.out.printf(&quot;CreditCardDisplayFormatter.valueToString( ^%s^ )%n&quot;,\n                          String.valueOf(value));\n        String str = value == null ? &quot;&quot; : value.toString();\n        if (str.length() &gt; 0) {\n            if (str.length() &gt; 12) {\n                str = &quot;XXXXXXXXXXXX&quot; + str.substring(12);\n            }\n            else {\n                str = str.replaceAll(&quot;\\\\d&quot;, &quot;X&quot;);\n            }\n        }\n        return str;\n    }\n}\n\nclass CreditCardEditFormatter extends JFormattedTextField.AbstractFormatter {\n\n    @Override\n    public Object stringToValue(String text) throws ParseException {\n        System.out.printf(&quot;CreditCardEditFormatter.stringToValue( ^%s^ )%n&quot;, text);\n        return text;\n    }\n\n    @Override\n    public String valueToString(Object value) throws ParseException {\n        System.out.printf(&quot;CreditCardEditFormatter.valueToString( ^%s^ )%n&quot;,\n                          String.valueOf(value));\n        return value == null ? null : value.toString();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27661692,"reputation":11,"user_id":21114373,"display_name":"cstjmn"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":351,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1676896069,"creation_date":1676774440,"question_id":75497676,"body_markdown":"I have to do a supermarket app in Java for a class, one of the many requirements is that when a purchase is being made it asks for the credit/debit card data, and when the user fills the credit card number field it only displays the last four digits, something like XXXXXXXXXXXX1456\r\n\r\nI am using Java Swing for the GUI and I have tried to use the formatted field, the password field and a normal field and I can&#180;t seem to find a way to make it only display the last four digits when is being filled.","title":"Java text field for credit card number only showing last 4 digits","body":"<p>I have to do a supermarket app in Java for a class, one of the many requirements is that when a purchase is being made it asks for the credit/debit card data, and when the user fills the credit card number field it only displays the last four digits, something like XXXXXXXXXXXX1456</p>\n<p>I am using Java Swing for the GUI and I have tried to use the formatted field, the password field and a normal field and I cant seem to find a way to make it only display the last four digits when is being filled.</p>\n"},{"tags":["java","json","jaxb"],"comments":[{"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":2,"creation_date":1287051169,"post_id":3916123,"comment_id":4195715,"body_markdown":"&quot;using JAXB to convert the POJO&#39;s to JSON&quot;.... how?","body":"&quot;using JAXB to convert the POJO&#39;s to JSON&quot;.... how?"}],"answers":[{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":2,"up_vote_count":58,"is_accepted":true,"score":56,"last_activity_date":1676895439,"creation_date":1286896543,"answer_id":3916165,"question_id":3916123,"body_markdown":"The first example from your question,\r\n\r\n&gt; ```javascript\r\n&gt; foos: [\r\n&gt;     foo: { ... },\r\n&gt;     foo: { ... }\r\n&gt; ]\r\n&gt; ```\r\n\r\nis in invalid syntax. You cannot have object properties inside a plain array. \r\n\r\nThe second example from your question,\r\n\r\n&gt; ```javascript\r\n&gt; foos: [\r\n&gt;     { ... },\r\n&gt;     { ... }\r\n&gt; ]\r\n&gt; ```\r\n\r\nis right although it is not *strict* JSON. It&#39;s a *relaxed* form of JSON wherein quotes in string keys are omitted.\r\n\r\nFollowing is the correct one when you want to obey *strict* JSON:\r\n\r\n```javascript\r\n&quot;foos&quot;: [\r\n    { ... },\r\n    { ... }\r\n]\r\n```\r\n\r\n[This &quot;Mastering JSON&quot; tutorial by Patrick Hunlock][1], may help to learn about JSON and [this site][2] may help to validate JSON.\r\n\r\n\r\n  [1]: http://web.archive.org/web/20180919022127/http://index-of.es/JS/Mastering_JSON_(JavaScript_Object_Notation).pdf\r\n  [2]: https://www.jsonlint.com/","title":"JSON Structure for List of Objects","body":"<p>The first example from your question,</p>\n<blockquote>\n<pre class=\"lang-js prettyprint-override\"><code>foos: [\n    foo: { ... },\n    foo: { ... }\n]\n</code></pre>\n</blockquote>\n<p>is in invalid syntax. You cannot have object properties inside a plain array.</p>\n<p>The second example from your question,</p>\n<blockquote>\n<pre class=\"lang-js prettyprint-override\"><code>foos: [\n    { ... },\n    { ... }\n]\n</code></pre>\n</blockquote>\n<p>is right although it is not <em>strict</em> JSON. It's a <em>relaxed</em> form of JSON wherein quotes in string keys are omitted.</p>\n<p>Following is the correct one when you want to obey <em>strict</em> JSON:</p>\n<pre class=\"lang-js prettyprint-override\"><code>&quot;foos&quot;: [\n    { ... },\n    { ... }\n]\n</code></pre>\n<p><a href=\"http://web.archive.org/web/20180919022127/http://index-of.es/JS/Mastering_JSON_(JavaScript_Object_Notation).pdf\" rel=\"nofollow noreferrer\">This &quot;Mastering JSON&quot; tutorial by Patrick Hunlock</a>, may help to learn about JSON and <a href=\"https://www.jsonlint.com/\" rel=\"nofollow noreferrer\">this site</a> may help to validate JSON.</p>\n"},{"tags":[],"owner":{"account_id":30940,"reputation":243131,"user_id":84651,"accept_rate":75,"display_name":"Justin Niessner"},"down_vote_count":0,"up_vote_count":116,"is_accepted":false,"score":116,"last_activity_date":1586609364,"creation_date":1286896571,"answer_id":3916173,"question_id":3916123,"body_markdown":"The second is almost correct:\r\n\r\n    {\r\n        &quot;foos&quot; : [{\r\n            &quot;prop1&quot;:&quot;value1&quot;,\r\n            &quot;prop2&quot;:&quot;value2&quot;\r\n        }, {\r\n            &quot;prop1&quot;:&quot;value3&quot;, \r\n            &quot;prop2&quot;:&quot;value4&quot;\r\n        }]\r\n    }","title":"JSON Structure for List of Objects","body":"<p>The second is almost correct:</p>\n\n<pre><code>{\n    \"foos\" : [{\n        \"prop1\":\"value1\",\n        \"prop2\":\"value2\"\n    }, {\n        \"prop1\":\"value3\", \n        \"prop2\":\"value4\"\n    }]\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7731306,"reputation":1871,"user_id":5854349,"display_name":"Timothy Kanski"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1485565029,"creation_date":1485565029,"answer_id":41905330,"question_id":3916123,"body_markdown":"As others mentioned, Justin&#39;s answer was close, but not quite right.  I tested this using Visual Studio&#39;s &quot;Paste JSON as C# Classes&quot;\r\n\r\n    {\r\n        &quot;foos&quot; : [\r\n            {\r\n                &quot;prop1&quot;:&quot;value1&quot;,\r\n                &quot;prop2&quot;:&quot;value2&quot;\r\n            },\r\n            {\r\n                &quot;prop1&quot;:&quot;value3&quot;, \r\n                &quot;prop2&quot;:&quot;value4&quot;\r\n            }\r\n        ]\r\n    }","title":"JSON Structure for List of Objects","body":"<p>As others mentioned, Justin's answer was close, but not quite right.  I tested this using Visual Studio's \"Paste JSON as C# Classes\"</p>\n\n<pre><code>{\n    \"foos\" : [\n        {\n            \"prop1\":\"value1\",\n            \"prop2\":\"value2\"\n        },\n        {\n            \"prop1\":\"value3\", \n            \"prop2\":\"value4\"\n        }\n    ]\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4611231,"reputation":21,"user_id":3739283,"display_name":"user3739283"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669956108,"creation_date":1669956108,"answer_id":74650989,"question_id":3916123,"body_markdown":"1) I use jsonformatter page to test the json validator.\r\n2) try to use jsonwhatever\r\n\r\nexample:\r\n``` \r\nlist_a = func_generator_of_objects()\r\n\r\njson_string = jsonwhatever(&#39;foos&#39;,list_a)\r\n```","title":"JSON Structure for List of Objects","body":"<ol>\n<li>I use jsonformatter page to test the json validator.</li>\n<li>try to use jsonwhatever</li>\n</ol>\n<p>example:</p>\n<pre><code>list_a = func_generator_of_objects()\n\njson_string = jsonwhatever('foos',list_a)\n</code></pre>\n"}],"owner":{"account_id":64695,"reputation":5754,"user_id":190857,"accept_rate":88,"display_name":"Vanchinathan Chandrasekaran"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":466078,"favorite_count":0,"down_vote_count":0,"up_vote_count":93,"accepted_answer_id":3916165,"answer_count":4,"score":93,"last_activity_date":1676895439,"creation_date":1286896290,"question_id":3916123,"body_markdown":"I would like to know, whats the right structure for a list of objects in JSON.\r\n\r\nWe are using JAXB to convert the POJO&#39;s to JSON.\r\n\r\nHere is the choices, Please direct me what is right.\r\n\r\n    foos: [\r\n                 foo:{..},\r\n                 foo:{..}\r\n          ]\r\n\r\nor \r\n\r\n       foos : [\r\n               {...},\r\n               {...}\r\n              ]\r\n\r\nIf the first structure is right, what is the JAXB annotation I should use to get the structure right.\r\n","title":"JSON Structure for List of Objects","body":"<p>I would like to know, whats the right structure for a list of objects in JSON.</p>\n\n<p>We are using JAXB to convert the POJO's to JSON.</p>\n\n<p>Here is the choices, Please direct me what is right.</p>\n\n<pre><code>foos: [\n             foo:{..},\n             foo:{..}\n      ]\n</code></pre>\n\n<p>or </p>\n\n<pre><code>   foos : [\n           {...},\n           {...}\n          ]\n</code></pre>\n\n<p>If the first structure is right, what is the JAXB annotation I should use to get the structure right.</p>\n"},{"tags":["java","android","algorithm","math","circuit-diagram"],"comments":[{"owner":{"account_id":16537587,"reputation":486,"user_id":11949116,"display_name":"Abdo21"},"score":1,"creation_date":1676848280,"post_id":75503919,"comment_id":133215027,"body_markdown":"@m0skit0 Thank you for your response. This is not a homework question. I am designing a circuit drawing tool for Android, and I have been stuck on this point. I have tried to come up with a solution on my own, but I am having difficulty figuring out the best approach. Any help or suggestions would be greatly appreciated. Thank you.","body":"@m0skit0 Thank you for your response. This is not a homework question. I am designing a circuit drawing tool for Android, and I have been stuck on this point. I have tried to come up with a solution on my own, but I am having difficulty figuring out the best approach. Any help or suggestions would be greatly appreciated. Thank you."},{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1676849075,"post_id":75503919,"comment_id":133215128,"body_markdown":"@Abdo21 Please review &quot;the intersection of two lines&quot; and realize that the &quot;circuits&quot; are actually rectangles. Otherwise show code of what you have tried. Do start with the simplest cases first before tackling the others.","body":"@Abdo21 Please review &quot;the intersection of two lines&quot; and realize that the &quot;circuits&quot; are actually rectangles. Otherwise show code of what you have tried. Do start with the simplest cases first before tackling the others."},{"owner":{"account_id":16537587,"reputation":486,"user_id":11949116,"display_name":"Abdo21"},"score":1,"creation_date":1676849700,"post_id":75503919,"comment_id":133215206,"body_markdown":"@MorrisonChang Thank you for your response. I appreciate your suggestion, but I don&#39;t think this problem is the same as the problem of the intersection of two lines. In this case, we have two points (the source and target) and need to compute the corner point based on the orientation of the components. The orientation of the component determines which side of the rectangle we need to connect. Unfortunately, I have not been able to come up with a solution on my own. Any help or suggestions would be greatly appreciated. Thank you.","body":"@MorrisonChang Thank you for your response. I appreciate your suggestion, but I don&#39;t think this problem is the same as the problem of the intersection of two lines. In this case, we have two points (the source and target) and need to compute the corner point based on the orientation of the components. The orientation of the component determines which side of the rectangle we need to connect. Unfortunately, I have not been able to come up with a solution on my own. Any help or suggestions would be greatly appreciated. Thank you."},{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1676850534,"post_id":75503919,"comment_id":133215303,"body_markdown":"The first row is a line intersection problem. The second and third rows are rotating the projection rectangles (not the circuit image) where the intersection occurs with additional rules like not going through the circuit.","body":"The first row is a line intersection problem. The second and third rows are rotating the projection rectangles (not the circuit image) where the intersection occurs with additional rules like not going through the circuit."},{"owner":{"account_id":16537587,"reputation":486,"user_id":11949116,"display_name":"Abdo21"},"score":0,"creation_date":1676851117,"post_id":75503919,"comment_id":133215375,"body_markdown":"@MorrisonChang I agree that I could use brute force to solve this problem with if-else statements for each case, but I was hoping to find a more optimal solution. As I am designing a circuit drawing tool for Android, it&#39;s important to me that the solution is efficient. Thank you.","body":"@MorrisonChang I agree that I could use brute force to solve this problem with if-else statements for each case, but I was hoping to find a more optimal solution. As I am designing a circuit drawing tool for Android, it&#39;s important to me that the solution is efficient. Thank you."},{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1676852210,"post_id":75503919,"comment_id":133215498,"body_markdown":"If you are doing every second fine, but in that case the connections should be cached/part of your display pipeline. If you are trying to optimize hundreds of &quot;circuits&quot; in various combinations, I&#39;m not sure if Android is an appropriate platform.","body":"If you are doing every second fine, but in that case the connections should be cached/part of your display pipeline. If you are trying to optimize hundreds of &quot;circuits&quot; in various combinations, I&#39;m not sure if Android is an appropriate platform."},{"owner":{"account_id":16537587,"reputation":486,"user_id":11949116,"display_name":"Abdo21"},"score":0,"creation_date":1676853094,"post_id":75503919,"comment_id":133215612,"body_markdown":"@MorrisonChang The circuits that I intend to draw are relatively small and not very complex, I will try the brute force method and see if it performs well. Thank you again for your help!","body":"@MorrisonChang The circuits that I intend to draw are relatively small and not very complex, I will try the brute force method and see if it performs well. Thank you again for your help!"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1676853849,"post_id":75503919,"comment_id":133215711,"body_markdown":"I think there&#39;ll be cases where there&#39;s no good solution.  For example, what if the components are facing in opposite directions, with the connection points overlapping?","body":"I think there&#39;ll be cases where there&#39;s no good solution.  For example, what if the components are facing in opposite directions, with the connection points overlapping?"}],"answers":[{"tags":[],"owner":{"account_id":2460360,"reputation":64577,"user_id":2144669,"display_name":"David Eisenstat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676895240,"creation_date":1676853770,"answer_id":75504359,"question_id":75503919,"body_markdown":"Horizontal/vertical isnt enough  we need to know which side of the\r\ncomponent the connection point is on. Also Im not sure how you want to\r\nhandle connection points on opposite sides.\r\n\r\nFor the cases youve shown, the answer will be either (source.x,\r\ntarget.y) or (target.x, source.y). If (for example) the source point is\r\non the right side of its component, then (target.x, source.y) is vetoed\r\nif target.x \\&lt; source.x or preferred if source.x \\&lt; target.x; (source.x,\r\ntarget.y) is a middling option. The other seven cases (three source\r\ndirections and four target directions) are symmetric. We demand an\r\noption that is not vetoed, and should choose one that is preferred if\r\npossible.\r\n\r\nLets assume that (source.dx, source.dy) and (target.dx, target.dy) give\r\nthe coordinates of their respective connection points relative to the\r\ncenter of the component (so using the usual mathematical coordinate\r\nsystem with positive dx pointing right and positive dy pointing up, (dx,\r\ndy) = (1, 0) is right, and (dx, dy) = (0, 1) is up, etc.). The generic\r\ncondition for a component is, a point (x, y) is\r\nvetoed/preferred/middling if component.dx \\* (x - component.x) +\r\ncomponent.dy \\* (y - component.y) is less than/greater than/equal to\r\nzero respectively. If we let vetoed be -2 points, preferred be 1\r\npoint, and middling be 0 points, we can add up the scores for both\r\ncandidate points and take the max.\r\n","title":"How can I compute the corner point for connecting two circuit components?","body":"<p>Horizontal/vertical isnt enough  we need to know which side of the\ncomponent the connection point is on. Also Im not sure how you want to\nhandle connection points on opposite sides.</p>\n<p>For the cases youve shown, the answer will be either (source.x,\ntarget.y) or (target.x, source.y). If (for example) the source point is\non the right side of its component, then (target.x, source.y) is vetoed\nif target.x &lt; source.x or preferred if source.x &lt; target.x; (source.x,\ntarget.y) is a middling option. The other seven cases (three source\ndirections and four target directions) are symmetric. We demand an\noption that is not vetoed, and should choose one that is preferred if\npossible.</p>\n<p>Lets assume that (source.dx, source.dy) and (target.dx, target.dy) give\nthe coordinates of their respective connection points relative to the\ncenter of the component (so using the usual mathematical coordinate\nsystem with positive dx pointing right and positive dy pointing up, (dx,\ndy) = (1, 0) is right, and (dx, dy) = (0, 1) is up, etc.). The generic\ncondition for a component is, a point (x, y) is\nvetoed/preferred/middling if component.dx * (x - component.x) +\ncomponent.dy * (y - component.y) is less than/greater than/equal to\nzero respectively. If we let vetoed be -2 points, preferred be 1\npoint, and middling be 0 points, we can add up the scores for both\ncandidate points and take the max.</p>\n"}],"owner":{"account_id":16537587,"reputation":486,"user_id":11949116,"display_name":"Abdo21"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75504359,"answer_count":1,"score":1,"last_activity_date":1676895240,"creation_date":1676846819,"question_id":75503919,"body_markdown":"I have a source component and a target component and I want to calculate the corner point where they will be connected. I am implementing a method that takes the source and target points and their orientations (either horizontal or vertical) as inputs. Here is the skeleton of the method:\r\n\r\n    private final static int HORIZONTAL = 0;\r\n    private final static int VERTICAL = 1;\r\n    \r\n    private PointF computeCornerPoint(PointF sourcePoint, int sourceComponentOrientation, PointF targetPoint, int targetComponentOrientation) {\r\n        PointF cornerPoint = new PointF();\r\n    \r\n        // TODO: Calculate the corner point here\r\n    \r\n        return cornerPoint;\r\n    }\r\n\r\n\r\nI have created a diagram that shows all the possible cases. In the diagram, the green points are the source and target points, and the red point is the corner point that I want to compute.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAlso, note that this problem is symmetric, so the source and target components can be swapped, and the diagram I provided only shows one case.\r\n\r\nIn Android, the x-coordinate increases from left to right, and the y-coordinate increases from top to bottom.\r\n\r\nCan you suggest an algorithm or a solution to compute the corner point for all these cases?\r\n\r\nAdditionally, please let me know if there is any information missing that would be helpful in solving this problem.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Nhbsh.png","title":"How can I compute the corner point for connecting two circuit components?","body":"<p>I have a source component and a target component and I want to calculate the corner point where they will be connected. I am implementing a method that takes the source and target points and their orientations (either horizontal or vertical) as inputs. Here is the skeleton of the method:</p>\n<pre><code>private final static int HORIZONTAL = 0;\nprivate final static int VERTICAL = 1;\n\nprivate PointF computeCornerPoint(PointF sourcePoint, int sourceComponentOrientation, PointF targetPoint, int targetComponentOrientation) {\n    PointF cornerPoint = new PointF();\n\n    // TODO: Calculate the corner point here\n\n    return cornerPoint;\n}\n</code></pre>\n<p>I have created a diagram that shows all the possible cases. In the diagram, the green points are the source and target points, and the red point is the corner point that I want to compute.</p>\n<p><a href=\"https://i.stack.imgur.com/Nhbsh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Nhbsh.png\" alt=\"enter image description here\" /></a></p>\n<p>Also, note that this problem is symmetric, so the source and target components can be swapped, and the diagram I provided only shows one case.</p>\n<p>In Android, the x-coordinate increases from left to right, and the y-coordinate increases from top to bottom.</p>\n<p>Can you suggest an algorithm or a solution to compute the corner point for all these cases?</p>\n<p>Additionally, please let me know if there is any information missing that would be helpful in solving this problem.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1676870910,"post_id":75505303,"comment_id":133217654,"body_markdown":"JPA: https://stackoverflow.com/questions/59628543/jpa-specification-to-filter-entries-based-on-a-key-in-the-jsonb-map and Native query: https://stackoverflow.com/questions/54006818/how-to-filter-jsonb-array-elements","body":"JPA: <a href=\"https://stackoverflow.com/questions/59628543/jpa-specification-to-filter-entries-based-on-a-key-in-the-jsonb-map\" title=\"jpa specification to filter entries based on a key in the jsonb map\">stackoverflow.com/questions/59628543/&hellip;</a> and Native query: <a href=\"https://stackoverflow.com/questions/54006818/how-to-filter-jsonb-array-elements\" title=\"how to filter jsonb array elements\">stackoverflow.com/questions/54006818/&hellip;</a>"}],"owner":{"account_id":14248845,"reputation":444,"user_id":11435260,"display_name":"AbrA"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676895192,"creation_date":1676867714,"question_id":75505303,"body_markdown":"I stored a data in jsonb column:\r\n\r\n    @Entity\r\n    public class Car {\r\n        @Id\r\n        private Long id;\r\n\r\n        @Type(type = &quot;jsonb&quot;)\r\n        private Data data;\r\n    }\r\n Example of structure\r\n\r\n    {\r\n        &quot;id&quot;: 1,\r\n        &quot;car&quot;: &quot;mersedes&quot;,\r\n        &quot;count&quot;: 100,\r\n        &quot;stores&quot; : [{\r\n            &quot;city&quot;: &quot;LA&quot;,\r\n            &quot;country&quot;: &quot;USA&quot;,\r\n            &quot;brands&quot;: [{\r\n                &quot;name&quot;: &quot;CLS&quot;,\r\n                &quot;count&quot;: 14\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;C-class&quot;,\r\n                &quot;count&quot;: 17\r\n            }]\r\n        }]\r\n    }\r\n\r\na file takes more than 700mB of memory and I don&#39;t want to load all the data into RAM, I need to get data only by filters, for example get only CLS model. can this be done with jpa specification?  \r\n  \r\nAnd if I want to getting only adderesses how to ignore brands?\r\nhow to get from the original json like this:\r\n\r\n     { \r\n          &quot;stores&quot; : [{\r\n            &quot;city&quot;: &quot;LA&quot;,\r\n            &quot;country&quot;: &quot;USA&quot;\r\n          ]}\r\n     }","title":"JSONB and JPA. extract data by filter","body":"<p>I stored a data in jsonb column:</p>\n<pre><code>@Entity\npublic class Car {\n    @Id\n    private Long id;\n\n    @Type(type = &quot;jsonb&quot;)\n    private Data data;\n}\n</code></pre>\n<p>Example of structure</p>\n<pre><code>{\n    &quot;id&quot;: 1,\n    &quot;car&quot;: &quot;mersedes&quot;,\n    &quot;count&quot;: 100,\n    &quot;stores&quot; : [{\n        &quot;city&quot;: &quot;LA&quot;,\n        &quot;country&quot;: &quot;USA&quot;,\n        &quot;brands&quot;: [{\n            &quot;name&quot;: &quot;CLS&quot;,\n            &quot;count&quot;: 14\n        },\n        {\n            &quot;name&quot;: &quot;C-class&quot;,\n            &quot;count&quot;: 17\n        }]\n    }]\n}\n</code></pre>\n<p>a file takes more than 700mB of memory and I don't want to load all the data into RAM, I need to get data only by filters, for example get only CLS model. can this be done with jpa specification?</p>\n<p>And if I want to getting only adderesses how to ignore brands?\nhow to get from the original json like this:</p>\n<pre><code> { \n      &quot;stores&quot; : [{\n        &quot;city&quot;: &quot;LA&quot;,\n        &quot;country&quot;: &quot;USA&quot;\n      ]}\n }\n</code></pre>\n"},{"tags":["java","arrays","fibonacci"],"answers":[{"tags":[],"owner":{"display_name":"user4668606"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1434325381,"creation_date":1434325381,"answer_id":30835685,"question_id":30835626,"body_markdown":"Use a `Scanner`, or some `InputStreamReader` to read the input from the console. `Scanner` would be used in this way:\r\n\r\n    Scanner scanner = new Scanner(System.in);\r\n    if(scanner.hasNextInt())\r\n        int someInt = scanner.nextInt();\r\n\r\nAnother option would be to use some reader like this:\r\n\r\n    BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n\r\nand parse the required data from the output of the reader. Using `Scanner` will be simpler in most cases though.","title":"Java Fibonacci series","body":"<p>Use a <code>Scanner</code>, or some <code>InputStreamReader</code> to read the input from the console. <code>Scanner</code> would be used in this way:</p>\n\n<pre><code>Scanner scanner = new Scanner(System.in);\nif(scanner.hasNextInt())\n    int someInt = scanner.nextInt();\n</code></pre>\n\n<p>Another option would be to use some reader like this:</p>\n\n<pre><code>BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n</code></pre>\n\n<p>and parse the required data from the output of the reader. Using <code>Scanner</code> will be simpler in most cases though.</p>\n"},{"tags":[],"owner":{"account_id":4310479,"reputation":2204,"user_id":4854861,"display_name":"Ritesh  Karwa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676890269,"creation_date":1434325733,"answer_id":30835718,"question_id":30835626,"body_markdown":"    \r\n**Here you go :**\r\n\r\n   \r\n\r\n     public class TestProgram {\r\n    \r\n    \tpublic static void main(String a[]) {\r\n    \r\n    \t\tScanner reader = new Scanner(System.in);\r\n    \t\tprintFibonacciSeries();\r\n    \t\tSystem.out.println(&quot;&quot;);\r\n    \t\tSystem.out.println(&quot;Fibonacci Series, Enter the number in the series of 30 you want to see&quot;);\r\n    \t\tint num = reader.nextInt();\r\n    \t\tint febCount = 30;\r\n    \t\tint[] feb = new int[febCount];\r\n    \t\tfeb[0] = 0;\r\n    \t\tfeb[1] = 1;\r\n    \t\tfor (int i = 2; i &lt; febCount; i++) {\r\n    \t\t\tfeb[i] = feb[i - 1] + feb[i - 2];\r\n\r\n    \t\t\tif (i == num) {\r\n    \t\t\t\tSystem.out.print(feb[i] + &quot; &quot;);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static void printFibonacciSeries() {\r\n    \r\n    \t\tint febCount = 31;\r\n    \t\tint[] feb = new int[febCount];\r\n    \t\tfeb[0] = 0;\r\n    \t\tfeb[1] = 1;\r\n    \t\tfor (int i = 2; i &lt; febCount; i++) {\r\n    \t\t\tfeb[i] = feb[i - 1] + feb[i - 2];\r\n    \t\t\tSystem.out.print(feb[i] + &quot; &quot;);\r\n    \r\n    \t\t}\r\n    \t}\r\n    \r\n    }","title":"Java Fibonacci series","body":"<p><strong>Here you go :</strong></p>\n<pre><code> public class TestProgram {\n\n    public static void main(String a[]) {\n\n        Scanner reader = new Scanner(System.in);\n        printFibonacciSeries();\n        System.out.println(&quot;&quot;);\n        System.out.println(&quot;Fibonacci Series, Enter the number in the series of 30 you want to see&quot;);\n        int num = reader.nextInt();\n        int febCount = 30;\n        int[] feb = new int[febCount];\n        feb[0] = 0;\n        feb[1] = 1;\n        for (int i = 2; i &lt; febCount; i++) {\n            feb[i] = feb[i - 1] + feb[i - 2];\n\n            if (i == num) {\n                System.out.print(feb[i] + &quot; &quot;);\n            }\n        }\n    }\n\n    public static void printFibonacciSeries() {\n\n        int febCount = 31;\n        int[] feb = new int[febCount];\n        feb[0] = 0;\n        feb[1] = 1;\n        for (int i = 2; i &lt; febCount; i++) {\n            feb[i] = feb[i - 1] + feb[i - 2];\n            System.out.print(feb[i] + &quot; &quot;);\n\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11041541,"reputation":1,"user_id":8109253,"display_name":"IronFist"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496555255,"creation_date":1496554246,"answer_id":44351052,"question_id":30835626,"body_markdown":"    public class Fibonacci_series  // upto less than a given number\r\n    {\r\n        public static void main(long n)\r\n        {\r\n            long a=0, b=1, c=0;\r\n            while (c&lt;n)\r\n            {\r\n                a=b;\r\n                b=c;\r\n                System.out.print(c+&quot;, &quot;);\r\n                c=a+b;\r\n            }\r\n            System.out.print(&quot;....&quot;);\r\n        }\r\n    }","title":"Java Fibonacci series","body":"<pre><code>public class Fibonacci_series  // upto less than a given number\n{\n    public static void main(long n)\n    {\n        long a=0, b=1, c=0;\n        while (c&lt;n)\n        {\n            a=b;\n            b=c;\n            System.out.print(c+\", \");\n            c=a+b;\n        }\n        System.out.print(\"....\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676895069,"creation_date":1676890737,"answer_id":75508390,"question_id":30835626,"body_markdown":"You could use a command line argument and read it from the main method args:\r\n\r\n    public class MyFibonacci {\r\n        public static void main(String a[]) throws NumberFormatException {\r\n             int febCount = Integer.parseInt(a[0]);\r\n\r\nthen call it with\r\n\r\n    java MyFibonacci 30\r\n\r\nOr pass it in the &#39;VM options&#39; input in an IntelliJ run configuration\r\n","title":"Java Fibonacci series","body":"<p>You could use a command line argument and read it from the main method args:</p>\n<pre><code>public class MyFibonacci {\n    public static void main(String a[]) throws NumberFormatException {\n         int febCount = Integer.parseInt(a[0]);\n</code></pre>\n<p>then call it with</p>\n<pre><code>java MyFibonacci 30\n</code></pre>\n<p>Or pass it in the 'VM options' input in an IntelliJ run configuration</p>\n"}],"owner":{"account_id":5830934,"reputation":45,"user_id":4595448,"display_name":"Billy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":976,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1676895069,"creation_date":1434324635,"question_id":30835626,"body_markdown":"What would be the next step in order to ask the user which of the numbers in this series of 30 he wants to see and prompts for an integer input - a number between 1 and 30 (inclusive)?\r\n\r\nSo if the user wants to see the fifth (5th) number of the Fibonacci series the user would input the integer 5 in response to the prompt.\r\n\r\n    public class MyFibonacci {\r\n        public static void main(String a[]) {\r\n             int febCount = 30;\r\n             int[] feb = new int[febCount];\r\n             feb[0] = 0;\r\n             feb[1] = 1;\r\n             for(int i=2; i &lt; febCount; i++) {\r\n                 feb[i] = feb[i-1] + feb[i-2];\r\n             }\r\n     \r\n             for(int i=0; i&lt; febCount; i++) {\r\n                     System.out.print(feb[i] + &quot; &quot;);\r\n             }\r\n        }\r\n    }   \r\n\r\n \r\n","title":"Java Fibonacci series","body":"<p>What would be the next step in order to ask the user which of the numbers in this series of 30 he wants to see and prompts for an integer input - a number between 1 and 30 (inclusive)?</p>\n\n<p>So if the user wants to see the fifth (5th) number of the Fibonacci series the user would input the integer 5 in response to the prompt.</p>\n\n<pre><code>public class MyFibonacci {\n    public static void main(String a[]) {\n         int febCount = 30;\n         int[] feb = new int[febCount];\n         feb[0] = 0;\n         feb[1] = 1;\n         for(int i=2; i &lt; febCount; i++) {\n             feb[i] = feb[i-1] + feb[i-2];\n         }\n\n         for(int i=0; i&lt; febCount; i++) {\n                 System.out.print(feb[i] + \" \");\n         }\n    }\n}   \n</code></pre>\n"},{"tags":["java","testing","mockito"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1676881595,"post_id":75506775,"comment_id":133219675,"body_markdown":"It can not be done by mockito. You have to refactor your code or change to powermockito","body":"It can not be done by mockito. You have to refactor your code or change to powermockito"},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1676882609,"post_id":75506775,"comment_id":133219932,"body_markdown":"Please improve your question by showing us your attempt and what failed.","body":"Please improve your question by showing us your attempt and what failed."},{"owner":{"account_id":27830309,"reputation":1,"user_id":21248874,"display_name":"piyush bansal"},"score":0,"creation_date":1676883504,"post_id":75506775,"comment_id":133220159,"body_markdown":"Updated code. I am unable to verify the commented line of test case","body":"Updated code. I am unable to verify the commented line of test case"}],"answers":[{"tags":[],"owner":{"account_id":26816655,"reputation":77,"user_id":20406553,"display_name":"jetbrain_icin icin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676881330,"creation_date":1676881330,"answer_id":75506800,"question_id":75506775,"body_markdown":" Mockito framework can be used to mock the creation of the B object by mocking the behavior of the constructor;\r\n\r\n    B mockB = Mockito.mock(B.class);\r\n\r\n    Mockito.whenNew(B.class).withNoArguments().thenReturn(mockB);\r\n\r\n    yourObject.methodA();\r\n\r\n    Mockito.verify(yourObject).methodC(mockB);\r\n","title":"Mocking a new object inside another method testing","body":"<p>Mockito framework can be used to mock the creation of the B object by mocking the behavior of the constructor;</p>\n<pre><code>B mockB = Mockito.mock(B.class);\n\nMockito.whenNew(B.class).withNoArguments().thenReturn(mockB);\n\nyourObject.methodA();\n\nMockito.verify(yourObject).methodC(mockB);\n</code></pre>\n"}],"owner":{"account_id":27830309,"reputation":1,"user_id":21248874,"display_name":"piyush bansal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1050,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1676894620,"creation_date":1676881133,"question_id":75506775,"body_markdown":"I have a class which contains method like \r\n\r\n```java\r\nprivate MqttWrapper createNewMqttWrapperInstance(EdamsCell deviceCell) {\r\n    MqttWrapper mqttWrapper = new MqttWrapper();\r\n    MqttClientConnectionManager mqttClientConnectionManager = context.getMqttClientConnectionManager();\r\n    MqttClientConnection mqttClientConnection = mqttClientConnectionManager.getMqttClientConnection(mqttWrapper);\r\n\r\n    setMqttWrapperProperties(mqttWrapper, AWSIotConnectionStatus.CONNECTED);\r\n    log.info(&quot;New instance of MqttWrapper created for device cell {}&quot;, deviceCell);\r\n\r\n    return mqttWrapper;\r\n}\r\n```\r\n\r\nMy test method is \r\n```java\r\ntry(MockedConstruction mocked = mockConstruction(MqttWrapper.class, (mock, context) -&gt; {})){\r\n    mockMethodCalls();\r\n    doReturn(mqttClientConnection).when(mqttClientConnectionManager).getMqttClientConnection(); -&gt;I am not able to control this as there in code a new object is passed. \r\n    mqttWrapperFactoryImpl = spy(new MqttWrapperFactoryImpl(context));\r\n    outputMqttWrapper = mqttWrapperFactoryImpl.getMqttWrapperForSiteId(SITE_ID);\r\n\r\n    assertEquals(expectedMqttWrapper, outputMqttWrapper);\r\n    \r\n    // verify(mqttClientConnectionManager, times(1)).getMqttClientConnection(IOT_ENDPOINT, deviceResponseListener,\r\n    //         CELL, new MqttWrapper());\r\n    verify(mqttClientConnectionManager, times(1)).getMqttClientConnection( sample);\r\n    verifyNoMoreInteractions(mqttClientConnectionManager);\r\n}\r\n```\r\n\r\nI want to mock this b object creation so that I can control the methodC and verify the same after assertion. I dont want to use PowerMockito.\r\n\r\nI can&#39;t control the invocation method also, neither I am able to verify the test calling.\r\nI tried MockitoConstruction but was unable to do so. ","title":"Mocking a new object inside another method testing","body":"<p>I have a class which contains method like</p>\n<pre class=\"lang-java prettyprint-override\"><code>private MqttWrapper createNewMqttWrapperInstance(EdamsCell deviceCell) {\n    MqttWrapper mqttWrapper = new MqttWrapper();\n    MqttClientConnectionManager mqttClientConnectionManager = context.getMqttClientConnectionManager();\n    MqttClientConnection mqttClientConnection = mqttClientConnectionManager.getMqttClientConnection(mqttWrapper);\n\n    setMqttWrapperProperties(mqttWrapper, AWSIotConnectionStatus.CONNECTED);\n    log.info(&quot;New instance of MqttWrapper created for device cell {}&quot;, deviceCell);\n\n    return mqttWrapper;\n}\n</code></pre>\n<p>My test method is</p>\n<pre class=\"lang-java prettyprint-override\"><code>try(MockedConstruction mocked = mockConstruction(MqttWrapper.class, (mock, context) -&gt; {})){\n    mockMethodCalls();\n    doReturn(mqttClientConnection).when(mqttClientConnectionManager).getMqttClientConnection(); -&gt;I am not able to control this as there in code a new object is passed. \n    mqttWrapperFactoryImpl = spy(new MqttWrapperFactoryImpl(context));\n    outputMqttWrapper = mqttWrapperFactoryImpl.getMqttWrapperForSiteId(SITE_ID);\n\n    assertEquals(expectedMqttWrapper, outputMqttWrapper);\n    \n    // verify(mqttClientConnectionManager, times(1)).getMqttClientConnection(IOT_ENDPOINT, deviceResponseListener,\n    //         CELL, new MqttWrapper());\n    verify(mqttClientConnectionManager, times(1)).getMqttClientConnection( sample);\n    verifyNoMoreInteractions(mqttClientConnectionManager);\n}\n</code></pre>\n<p>I want to mock this b object creation so that I can control the methodC and verify the same after assertion. I dont want to use PowerMockito.</p>\n<p>I can't control the invocation method also, neither I am able to verify the test calling.\nI tried MockitoConstruction but was unable to do so.</p>\n"},{"tags":["java","spring-boot","junit5","graalvm-native-image","embedded-kafka"],"comments":[{"owner":{"account_id":13870433,"reputation":86,"user_id":10013726,"display_name":"Ankur Sharma"},"score":0,"creation_date":1676894983,"post_id":75509030,"comment_id":133223292,"body_markdown":"Not sure about any connection between Kafka and GraalVM. Question is how is your setup? Are you using a kafka on your local machine? and what port you are giving when using Embedded Kafka? Because the way I see it, it should not be same when both embedded and actual kafka cluster is on same machine.","body":"Not sure about any connection between Kafka and GraalVM. Question is how is your setup? Are you using a kafka on your local machine? and what port you are giving when using Embedded Kafka? Because the way I see it, it should not be same when both embedded and actual kafka cluster is on same machine."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676922416,"post_id":75509030,"comment_id":133231069,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":8943569,"reputation":1,"user_id":6671793,"display_name":"Mohammadreza Mirali"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676894610,"creation_date":1676894610,"question_id":75509030,"body_markdown":"I want to use EmbeddedKafka with GraalVM using Spring boot in tests. When I run the test it goes to idle and Waiting until the timeout happens. Is there any idea how to use them together? \r\n\r\nWhen I run the test it goes to idle and Waiting until the timeout happens.","title":"EmbeddedKafka and GraalVM in Springboot tests","body":"<p>I want to use EmbeddedKafka with GraalVM using Spring boot in tests. When I run the test it goes to idle and Waiting until the timeout happens. Is there any idea how to use them together?</p>\n<p>When I run the test it goes to idle and Waiting until the timeout happens.</p>\n"},{"tags":["java","spring","spring-security","oauth"],"owner":{"account_id":1571567,"reputation":2442,"user_id":1459161,"accept_rate":95,"display_name":"glethien"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676893764,"creation_date":1676884911,"question_id":75507349,"body_markdown":"Good morning.\r\nWe are developing an application which needs access to the internet for reaching the OAuth2.0 server. The problem is, that the configuration of the cloud blocks all internet access, which is not handled by a proxy. For authentication with the proxy we are provided with some credentials. Using the newest Spring boot version and the newest version of Spring Security, the whole team (hobby devs, and free / hobby project, nothing commercial) has no idea on how to setup the SpringSecurityOAuthFilterChain to make all OAuth calls using the proxy with credentials.\r\n\r\nHere is our current FilterChain\r\n\r\n        http //\r\n                .authorizeHttpRequests() //\r\n                .requestMatchers(PAGE_AUTH_SSO_LOGIN, PAGE_AUTH_ERROR, LOGIN_OAUTH2_CALLBACK_URL,\r\n                        AuthenticationUtils.FAILURE_OAUTH_LOGIN_CALLBACK,\r\n                        SpringConstants.ACTUATOR_HEALTH_URL).permitAll() //\r\n                .anyRequest().authenticated() //\r\n                .and() //\r\n                .oauth2Login() //\r\n                    .loginPage(PAGE_AUTH_SSO_LOGIN)//\r\n                    .successHandler((request, response, authentication) -&gt; //\r\n                            response.sendRedirect(SUCCESSFUL_OAUTH_LOGIN_CALLBACK)) //\r\n                    .failureHandler((request, response, authentication) -&gt; //\r\n                            response.sendRedirect(AuthenticationUtils.FAILURE_OAUTH_LOGIN_CALLBACK)) //\r\n                .and() //\r\n                .logout() //\r\n                .logoutUrl(LOGOUT_URL) //\r\n                .logoutSuccessUrl(\r\n                        &quot;/oauth2/authorization/logout?redirect_uri=http://localhost:8090/page/auth/ssoLogin.xhtml&quot;) //\r\n                .clearAuthentication(true) //\r\n                .invalidateHttpSession(true) //\r\n                .deleteCookies(JSESSIONID) //\r\n                .and() //\r\n                .csrf().disable();\r\n\r\nSetting the parameters for the JVM did not work. Can someone give us a hint or a working example on how to solve this problem?\r\n\r\nVersion of spring boot and spring boot security 3.0.1\r\nVersion of spring-boot-starter-oauth2-client: 3.0.1","title":"Spring OAuth2 with Proxy using Credentials","body":"<p>Good morning.\nWe are developing an application which needs access to the internet for reaching the OAuth2.0 server. The problem is, that the configuration of the cloud blocks all internet access, which is not handled by a proxy. For authentication with the proxy we are provided with some credentials. Using the newest Spring boot version and the newest version of Spring Security, the whole team (hobby devs, and free / hobby project, nothing commercial) has no idea on how to setup the SpringSecurityOAuthFilterChain to make all OAuth calls using the proxy with credentials.</p>\n<p>Here is our current FilterChain</p>\n<pre><code>    http //\n            .authorizeHttpRequests() //\n            .requestMatchers(PAGE_AUTH_SSO_LOGIN, PAGE_AUTH_ERROR, LOGIN_OAUTH2_CALLBACK_URL,\n                    AuthenticationUtils.FAILURE_OAUTH_LOGIN_CALLBACK,\n                    SpringConstants.ACTUATOR_HEALTH_URL).permitAll() //\n            .anyRequest().authenticated() //\n            .and() //\n            .oauth2Login() //\n                .loginPage(PAGE_AUTH_SSO_LOGIN)//\n                .successHandler((request, response, authentication) -&gt; //\n                        response.sendRedirect(SUCCESSFUL_OAUTH_LOGIN_CALLBACK)) //\n                .failureHandler((request, response, authentication) -&gt; //\n                        response.sendRedirect(AuthenticationUtils.FAILURE_OAUTH_LOGIN_CALLBACK)) //\n            .and() //\n            .logout() //\n            .logoutUrl(LOGOUT_URL) //\n            .logoutSuccessUrl(\n                    &quot;/oauth2/authorization/logout?redirect_uri=http://localhost:8090/page/auth/ssoLogin.xhtml&quot;) //\n            .clearAuthentication(true) //\n            .invalidateHttpSession(true) //\n            .deleteCookies(JSESSIONID) //\n            .and() //\n            .csrf().disable();\n</code></pre>\n<p>Setting the parameters for the JVM did not work. Can someone give us a hint or a working example on how to solve this problem?</p>\n<p>Version of spring boot and spring boot security 3.0.1\nVersion of spring-boot-starter-oauth2-client: 3.0.1</p>\n"},{"tags":["java","email","jakarta-mail","email-bounces"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1676893478,"post_id":75506337,"comment_id":133222870,"body_markdown":"You need to **parse** the parts of the DSN with JakartaMail, instead of just printing out the stream of the message.","body":"You need to <b>parse</b> the parts of the DSN with JakartaMail, instead of just printing out the stream of the message."}],"owner":{"account_id":22310428,"reputation":55,"user_id":20916403,"display_name":"rose pauline"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1676893344,"creation_date":1676877943,"question_id":75506337,"body_markdown":"How to remove the highlighted content as in below image? While reading bounced emails with java mail API.\r\n\r\n**Image(Highlighted content to be removed)**\r\n\r\n[![Image](https://i.stack.imgur.com/uKvDc.png)](https://i.stack.imgur.com/uKvDc.png)\r\n\r\n**Code**\r\n```\r\nif (message.isMimeType(&quot;multipart/report&quot;)) {\r\n\tSystem.out.println(&quot;inputstream:::&quot; + message.getInputStream());\r\n\tStringWriter writer = new StringWriter();\r\n\tIOUtils.copy(message.getInputStream(), writer);\r\n\tSystem.out.println(&quot;Content inputstream: &quot; + writer.toString());\r\n\tresult = writer.toString();\r\n\tSystem.out.println(&quot;resultlast:::&quot; + result);\r\n\t\r\n\tresult = result.replaceAll(&quot;(\\n)&quot;, &quot;&lt;br&gt;&quot;);\r\n\tSystem.out.println(&quot;result--br::&quot;+result);\r\n}\r\n```\r\n","title":"While reading bounced emails in java mail API, how to remove the highlighted content as in below image?","body":"<p>How to remove the highlighted content as in below image? While reading bounced emails with java mail API.</p>\n<p><strong>Image(Highlighted content to be removed)</strong></p>\n<p><a href=\"https://i.stack.imgur.com/uKvDc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uKvDc.png\" alt=\"Image\" /></a></p>\n<p><strong>Code</strong></p>\n<pre><code>if (message.isMimeType(&quot;multipart/report&quot;)) {\n    System.out.println(&quot;inputstream:::&quot; + message.getInputStream());\n    StringWriter writer = new StringWriter();\n    IOUtils.copy(message.getInputStream(), writer);\n    System.out.println(&quot;Content inputstream: &quot; + writer.toString());\n    result = writer.toString();\n    System.out.println(&quot;resultlast:::&quot; + result);\n    \n    result = result.replaceAll(&quot;(\\n)&quot;, &quot;&lt;br&gt;&quot;);\n    System.out.println(&quot;result--br::&quot;+result);\n}\n</code></pre>\n"},{"tags":["java","kotlin","spring-mvc","openapi-generator"],"comments":[{"owner":{"account_id":39252,"reputation":89802,"user_id":113116,"display_name":"Helen"},"score":1,"creation_date":1676705329,"post_id":75486623,"comment_id":133194987,"body_markdown":"The resulting spec is not valid, it&#39;s supposed to be `type: string`. This looks like a bug in the library that generates an OpenAPI spec from the source code.","body":"The resulting spec is not valid, it&#39;s supposed to be <code>type: string</code>. This looks like a bug in the library that generates an OpenAPI spec from the source code."}],"answers":[{"tags":[],"owner":{"account_id":16344760,"reputation":105,"user_id":11804812,"display_name":"fiftyone_51"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676893318,"creation_date":1676893318,"answer_id":75508829,"question_id":75486623,"body_markdown":"The annotation based approach that I showed in my question does not seem to generate a valid OpenApi spec with `springdoc-openapi:1.6.13`. The type of the field `identifier` needs to be String, as Helen mentioned in the comments.\r\n\r\nI was able to solve the issue by creating the Schema for this particular class manually, using a `GlobalOpenApiCustomizer` Bean:\r\n\r\n```lang-kotlin\r\n@Bean\r\nfun myDtoCustomizer(): GlobalOpenApiCustomizer {\r\n    val firstEnum = StringSchema()\r\n    firstEnum.description = &quot;First Enum&quot;\r\n    MyFirstEnum.values().forEach { firstEnum.addEnumItem(it.name) }\r\n\r\n    val secondEnum = StringSchema()\r\n    secondEnum.description = &quot;Second Enum&quot;\r\n    MySecondEnum.values().forEach { secondEnum.addEnumItem(it.name) }\r\n\r\n    return GlobalOpenApiCustomizer {\r\n        it.components.schemas[MyDto::class.simpleName] = ObjectSchema()\r\n            .addProperty(\r\n                MyDto::identifier.name,\r\n                StringSchema().oneOf(\r\n                    listOf(\r\n                        firstEnum,\r\n                        secondEnum\r\n                    )\r\n                )\r\n            )\r\n            .addProperty(MyDto::someOtherField.name, StringSchema())\r\n    }\r\n}\r\n```\r\n\r\nWhich in turn produces the following Spec:\r\n\r\n```lang-json\r\n&quot;MyDto&quot;: {\r\n    &quot;type&quot;: &quot;object&quot;,\r\n    &quot;properties&quot;: {\r\n        &quot;identifier&quot;: {\r\n            &quot;type&quot;: &quot;string&quot;,\r\n            &quot;oneOf&quot;: [{\r\n                    &quot;type&quot;: &quot;string&quot;,\r\n                    &quot;description&quot;: &quot;First Enum&quot;,\r\n                    &quot;enum&quot;: [\r\n                        &quot;FirstEnumValue1&quot;,\r\n                        &quot;FirstEnumValue2&quot;,\r\n                        &quot;FirstEnumValue3&quot;\r\n                    ]\r\n                }, {\r\n                    &quot;type&quot;: &quot;string&quot;,\r\n                    &quot;description&quot;: &quot;Second Enum&quot;,\r\n                    &quot;enum&quot;: [\r\n                        &quot;SecondEnumValue1&quot;,\r\n                        &quot;SecondEnumValue2&quot;,\r\n                        &quot;SecondEnumValue3&quot;\r\n                    ]\r\n                }\r\n            ]\r\n        },\r\n        &quot;someOtherField&quot;: {\r\n            &quot;type&quot;: &quot;string&quot;\r\n        }\r\n    }\r\n}\r\n```","title":"OpenApi specification generator - Supply values from multiple Enum classes for a String field","body":"<p>The annotation based approach that I showed in my question does not seem to generate a valid OpenApi spec with <code>springdoc-openapi:1.6.13</code>. The type of the field <code>identifier</code> needs to be String, as Helen mentioned in the comments.</p>\n<p>I was able to solve the issue by creating the Schema for this particular class manually, using a <code>GlobalOpenApiCustomizer</code> Bean:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Bean\nfun myDtoCustomizer(): GlobalOpenApiCustomizer {\n    val firstEnum = StringSchema()\n    firstEnum.description = &quot;First Enum&quot;\n    MyFirstEnum.values().forEach { firstEnum.addEnumItem(it.name) }\n\n    val secondEnum = StringSchema()\n    secondEnum.description = &quot;Second Enum&quot;\n    MySecondEnum.values().forEach { secondEnum.addEnumItem(it.name) }\n\n    return GlobalOpenApiCustomizer {\n        it.components.schemas[MyDto::class.simpleName] = ObjectSchema()\n            .addProperty(\n                MyDto::identifier.name,\n                StringSchema().oneOf(\n                    listOf(\n                        firstEnum,\n                        secondEnum\n                    )\n                )\n            )\n            .addProperty(MyDto::someOtherField.name, StringSchema())\n    }\n}\n</code></pre>\n<p>Which in turn produces the following Spec:</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;MyDto&quot;: {\n    &quot;type&quot;: &quot;object&quot;,\n    &quot;properties&quot;: {\n        &quot;identifier&quot;: {\n            &quot;type&quot;: &quot;string&quot;,\n            &quot;oneOf&quot;: [{\n                    &quot;type&quot;: &quot;string&quot;,\n                    &quot;description&quot;: &quot;First Enum&quot;,\n                    &quot;enum&quot;: [\n                        &quot;FirstEnumValue1&quot;,\n                        &quot;FirstEnumValue2&quot;,\n                        &quot;FirstEnumValue3&quot;\n                    ]\n                }, {\n                    &quot;type&quot;: &quot;string&quot;,\n                    &quot;description&quot;: &quot;Second Enum&quot;,\n                    &quot;enum&quot;: [\n                        &quot;SecondEnumValue1&quot;,\n                        &quot;SecondEnumValue2&quot;,\n                        &quot;SecondEnumValue3&quot;\n                    ]\n                }\n            ]\n        },\n        &quot;someOtherField&quot;: {\n            &quot;type&quot;: &quot;string&quot;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16344760,"reputation":105,"user_id":11804812,"display_name":"fiftyone_51"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":283,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676893318,"creation_date":1676649899,"question_id":75486623,"body_markdown":"I&#39;m writing a Spring Boot application in Kotlin, and I&#39;m currently struggling to generate a specification for a DTO class that has a backing field of the type `String`, which I want to then later parse into one of two enum classes in the adapter layer.\r\n\r\n\r\nI&#39;ve tried the following approach using the `oneOf` Annotation value, which seemed like it does what I want:\r\n```lang-kotlin\r\ndata class MyDto(\r\n    @Schema(\r\n        type = &quot;string&quot;,\r\n        oneOf = [MyFirstEnum::class, MySecondEnum::class]\r\n    )\r\n    val identifier: String,\r\n    val someOtherField: String\r\n) {\r\n    fun transform() { ... } // this will use the string identifier to pick the correct enum type later\r\n}\r\n```\r\n\r\n\r\nWhich results in the following OpenApi Spec:\r\n\r\n```lang-json\r\n&quot;MyDto&quot;: {\r\n    &quot;required&quot;: [\r\n        &quot;someOtherField&quot;,\r\n        &quot;identifier&quot;\r\n    ],\r\n    &quot;type&quot;: &quot;object&quot;,\r\n    &quot;properties&quot;: {\r\n        &quot;identifier&quot;: {\r\n            &quot;type&quot;: &quot;object&quot;,    // &lt;--- this should be string\r\n            &quot;oneOf&quot;: [{\r\n                    &quot;type&quot;: &quot;string&quot;,\r\n                    &quot;enum&quot;: [\r\n                        &quot;FirstEnumValue1&quot;,\r\n                        &quot;FirstEnumValue2&quot;,\r\n                        &quot;FirstEnumValue3&quot;\r\n                    ]\r\n                }, {\r\n                    &quot;type&quot;: &quot;string&quot;,\r\n                    &quot;enum&quot;: [\r\n                        &quot;SecondEnumValue1&quot;,\r\n                        &quot;SecondEnumValue2&quot;,\r\n                        &quot;SecondEnumValue3&quot;\r\n                    ]\r\n                }\r\n            ]\r\n        },\r\n        &quot;someOtherField&quot;: {\r\n            &quot;type&quot;: &quot;string&quot;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAs you can see, the enum constants are (I think) correctly inlined into the specification, but the `type` annotation on the field, which I set to `string` is bypassed, resulting in an `object` type, which I suppose is incorrect in this case.\r\n\r\nMy questions are:\r\n* Is my current code and the resulting spec valid with the `object` declaration instead of `string`?\r\n* Is there a better way to embed the enum values into the spec?\r\n\r\n**Edited to add:** I&#39;m using Spring Boot v2.7.8 in combination with `springdoc-openapi` v1.6.13 to automatically generate the OpenApi Spec.","title":"OpenApi specification generator - Supply values from multiple Enum classes for a String field","body":"<p>I'm writing a Spring Boot application in Kotlin, and I'm currently struggling to generate a specification for a DTO class that has a backing field of the type <code>String</code>, which I want to then later parse into one of two enum classes in the adapter layer.</p>\n<p>I've tried the following approach using the <code>oneOf</code> Annotation value, which seemed like it does what I want:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>data class MyDto(\n    @Schema(\n        type = &quot;string&quot;,\n        oneOf = [MyFirstEnum::class, MySecondEnum::class]\n    )\n    val identifier: String,\n    val someOtherField: String\n) {\n    fun transform() { ... } // this will use the string identifier to pick the correct enum type later\n}\n</code></pre>\n<p>Which results in the following OpenApi Spec:</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;MyDto&quot;: {\n    &quot;required&quot;: [\n        &quot;someOtherField&quot;,\n        &quot;identifier&quot;\n    ],\n    &quot;type&quot;: &quot;object&quot;,\n    &quot;properties&quot;: {\n        &quot;identifier&quot;: {\n            &quot;type&quot;: &quot;object&quot;,    // &lt;--- this should be string\n            &quot;oneOf&quot;: [{\n                    &quot;type&quot;: &quot;string&quot;,\n                    &quot;enum&quot;: [\n                        &quot;FirstEnumValue1&quot;,\n                        &quot;FirstEnumValue2&quot;,\n                        &quot;FirstEnumValue3&quot;\n                    ]\n                }, {\n                    &quot;type&quot;: &quot;string&quot;,\n                    &quot;enum&quot;: [\n                        &quot;SecondEnumValue1&quot;,\n                        &quot;SecondEnumValue2&quot;,\n                        &quot;SecondEnumValue3&quot;\n                    ]\n                }\n            ]\n        },\n        &quot;someOtherField&quot;: {\n            &quot;type&quot;: &quot;string&quot;\n        }\n    }\n}\n</code></pre>\n<p>As you can see, the enum constants are (I think) correctly inlined into the specification, but the <code>type</code> annotation on the field, which I set to <code>string</code> is bypassed, resulting in an <code>object</code> type, which I suppose is incorrect in this case.</p>\n<p>My questions are:</p>\n<ul>\n<li>Is my current code and the resulting spec valid with the <code>object</code> declaration instead of <code>string</code>?</li>\n<li>Is there a better way to embed the enum values into the spec?</li>\n</ul>\n<p><strong>Edited to add:</strong> I'm using Spring Boot v2.7.8 in combination with <code>springdoc-openapi</code> v1.6.13 to automatically generate the OpenApi Spec.</p>\n"},{"tags":["java","swing","imageicon","hidpi"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1676818332,"post_id":75500826,"comment_id":133209709,"body_markdown":"Try using a jlabel constructor with inageicon and setsize() and setminimumsize() and setmaximumsize() on the jlabel.","body":"Try using a jlabel constructor with inageicon and setsize() and setminimumsize() and setmaximumsize() on the jlabel."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1676819717,"post_id":75500826,"comment_id":133209950,"body_markdown":"*I have a JLabel with an icon which I do NOT want to scale* - check out: https://stackoverflow.com/a/65742492/131872 for an Icon that won&#39;t scale.","body":"<i>I have a JLabel with an icon which I do NOT want to scale</i> - check out: <a href=\"https://stackoverflow.com/a/65742492/131872\">stackoverflow.com/a/65742492/131872</a> for an Icon that won&#39;t scale."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1676824644,"post_id":75500826,"comment_id":133210762,"body_markdown":"[mcve] please ..","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please .."},{"owner":{"account_id":13485616,"reputation":469,"user_id":9729513,"display_name":"Pat"},"score":0,"creation_date":1676892066,"post_id":75500826,"comment_id":133222521,"body_markdown":"My bad! When I initially tried with the BaseMultiResolutionImage, I was literally using _the same file_ ! I think the image files themselves need to have increase size for corresponding resolution! i.e. my 100% resolution image file is at 108x83. The image file size to use on a 175% resolution should be of 189x145. So now, the images are no longer fuzzy ;)\n\nHOWEVER, I am running into another issue where the 175% is not blurry, BUT it is not smooth.. it is kinda choppy. An antialiasing problem or something ? I&#39;ve updated question to show this...","body":"My bad! When I initially tried with the BaseMultiResolutionImage, I was literally using <i>the same file</i> ! I think the image files themselves need to have increase size for corresponding resolution! i.e. my 100% resolution image file is at 108x83. The image file size to use on a 175% resolution should be of 189x145. So now, the images are no longer fuzzy ;)  HOWEVER, I am running into another issue where the 175% is not blurry, BUT it is not smooth.. it is kinda choppy. An antialiasing problem or something ? I&#39;ve updated question to show this..."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1677253874,"post_id":75500826,"comment_id":133307358,"body_markdown":"Kinda difficult to explain this but the upscaling of the image information on simple geometric shape such as that would seem ok and be a little scratchy above 150 percent. If it had been a true colour 24 bit photograph  image it would show severe quality degradation. Why not make the image (redraw new file) at the largest percent resolution and downscale in your method from the large master image.","body":"Kinda difficult to explain this but the upscaling of the image information on simple geometric shape such as that would seem ok and be a little scratchy above 150 percent. If it had been a true colour 24 bit photograph  image it would show severe quality degradation. Why not make the image (redraw new file) at the largest percent resolution and downscale in your method from the large master image."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1677254040,"post_id":75500826,"comment_id":133307405,"body_markdown":"If you are using core image package, choose resize algorithm constant field value SMOOTH","body":"If you are using core image package, choose resize algorithm constant field value SMOOTH"},{"owner":{"account_id":13485616,"reputation":469,"user_id":9729513,"display_name":"Pat"},"score":0,"creation_date":1677320512,"post_id":75500826,"comment_id":133317270,"body_markdown":"Sorry Samuel. I don&#39;t understand... &quot;redraw new file.. and downscale from that&quot; ?? Nor do I understand the using of core image package. Either way, I&#39;ve submitted a new question on Stack that demos this problem with full working code and images: https://stackoverflow.com/questions/75564701/misunderstanding-or-usage-of-basemultiresolutionimage-upscaled-images-are-scra\n\nHope you, or someone else can shed a light on this... it&#39;s annoying me and find this problem stupid to deal with :( Thank you.","body":"Sorry Samuel. I don&#39;t understand... &quot;redraw new file.. and downscale from that&quot; ?? Nor do I understand the using of core image package. Either way, I&#39;ve submitted a new question on Stack that demos this problem with full working code and images: <a href=\"https://stackoverflow.com/questions/75564701/misunderstanding-or-usage-of-basemultiresolutionimage-upscaled-images-are-scra\" title=\"misunderstanding or usage of basemultiresolutionimage upscaled images are scra\">stackoverflow.com/questions/75564701/&hellip;</a>  Hope you, or someone else can shed a light on this... it&#39;s annoying me and find this problem stupid to deal with :( Thank you."}],"owner":{"account_id":13485616,"reputation":469,"user_id":9729513,"display_name":"Pat"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1676893085,"creation_date":1676816933,"question_id":75500826,"body_markdown":"I know they are quite a few forums that kinda talks about this, but my problem is that I have a JLabel with an icon which I do NOT want to scale when resolution is &lt;&gt; 100% ! I.e. (sorry, in french):\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nInitially, I set my JLabel icon with something like:\r\n\r\n```java\r\nlblImage.setIcon( getNoteIcon() );\r\n\r\n//...\r\n\r\nImageIcon getNoteIcon(){\r\n\treturn new ImageIcon( getClass().getResource(&#39;path/to/file.png&#39;) );\r\n}\r\n```\r\n\r\nThis results are that my image displays blurry when HiDPI resolution is set to higher than 100%. Examples:\r\n\r\nAt 100%:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAnd at 150%:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nYou can see that the music note image is fuzzier in the 150% resolution.\r\n\r\nWhat I want: I DO NOT want it to up or downscale the image! I want to keep the original size, unless I can provide different image sizes for various resolutions.\r\n\r\nThat being said, I looked and tried to use the BaseMultiResolutionImage class to deal with resolutions, passing along an array of the &quot;same size image&quot;, but I get the same results when I change the resolution. This is the code I tried :\r\n\r\n```java\r\nImageIcon getNoteIcon(){\r\n\tList&lt;Image&gt; imgList = new ArrayList&lt;Image&gt;();\r\n\r\n\t/* all images are width = 108 height = 83 */\r\n\timgList.add(ImageIO.read(new File(&#39;path/to/file.png&#39;))); // 100%\r\n\timgList.add(ImageIO.read(new File(&#39;path/to/file.png&#39;))); // 125%\r\n\timgList.add(ImageIO.read(new File(&#39;path/to/file.png&#39;))); // 150%\r\n\timgList.add(ImageIO.read(new File(&#39;path/to/file.png&#39;))); // 175%\r\n\timgList.add(ImageIO.read(new File(&#39;path/to/file.png&#39;))); // 200%\r\n\r\n\tBaseMultiResolutionImage multiResolutionImage = new BaseMultiResolutionImage(imgList.toArray(new Image[0]));\r\n\r\n\treturn new ImageIcon(\r\n\t\tmultiResolutionImage\r\n\t);\r\n}\r\n```\r\n\r\nI don&#39;t understand what I&#39;m doing wrong, or if I&#39;m even using `BaseMultiResolutionImage` correctly. Finally, if I do manage say to give 3 different images for 3 resolutions, (i.e. 100, 125, 150%), is there a way to tell it the &quot;default&quot; one to use when I do not have an image for a given resolution (i.e. 200%) ? \r\n\r\nCan anyone shed a light on all of this? Seems like a lot of confusion on my end just to get an image to NOT scale in my window...\r\n\r\nMuch thanks!\r\nPat\r\n\r\n-----------\r\n***UPDATE AFTER &quot;PROPER&quot; USE OF BaseMultiResolutionImage:***\r\n\r\n```java\r\ntry {\r\n\tList&lt;Image&gt; imgList = new ArrayList&lt;Image&gt;();\r\n\r\n\timgList.add(ImageIO.read(getClass().getResource(&quot;images/notes/hidpi_100/file.png&quot;))); // 100% - 108x83\r\n\timgList.add(ImageIO.read(getClass().getResource(&quot;images/notes/hidpi_125/file.png&quot;))); // 125% - 135x104\r\n\timgList.add(ImageIO.read(getClass().getResource(&quot;images/notes/hidpi_150/file.png&quot;))); // 150% - 162x124\r\n\timgList.add(ImageIO.read(getClass().getResource(&quot;images/notes/hidpi_175/file.png&quot;))); // 175% - 189x145\r\n\timgList.add(ImageIO.read(getClass().getResource(&quot;images/notes/hidpi_200/file.png&quot;))); // 200% - 216x166\r\n\r\n\tBaseMultiResolutionImage multiResolutionImage = new BaseMultiResolutionImage(imgList.toArray(new Image[0]));\r\n\tImageIcon icon = new ImageIcon(multiResolutionImage);\r\n\r\n\treturn icon;\r\n}\r\ncatch(IOException ex){\r\n\tex.printStackTrace();\r\n\treturn null;\r\n}\r\n```\r\n\r\nOn screen font DPI set to 175% in Windows, this results in:\r\n\r\n**Before using BaseMultiResolutionImage**\r\n\r\n[![enter image description here][4]][4]\r\n\r\n**After using BaseMultiResolutionImage**\r\n\r\n[![enter image description here][5]][5]\r\n\r\nHere is a comparison of what I get (left), with the actual image file it&#39;s supposed to show on the right hand side (mind you Paint doesn&#39;t take into account background transparency):\r\n\r\n[![enter image description here][6]][6]\r\n\r\nAny ideas as to why this &quot;choppy&quot; image is showing? What am I missing ?\r\n\r\nThanks again.\r\nPat\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xD6uH.png\r\n  [2]: https://i.stack.imgur.com/PX4jw.png\r\n  [3]: https://i.stack.imgur.com/m3zKg.png\r\n  [4]: https://i.stack.imgur.com/gVDLt.png\r\n  [5]: https://i.stack.imgur.com/B8qoK.png\r\n  [6]: https://i.stack.imgur.com/qTgE3.png","title":"Swing JLabel icon: use same image for all resolutions","body":"<p>I know they are quite a few forums that kinda talks about this, but my problem is that I have a JLabel with an icon which I do NOT want to scale when resolution is &lt;&gt; 100% ! I.e. (sorry, in french):</p>\n<p><a href=\"https://i.stack.imgur.com/xD6uH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xD6uH.png\" alt=\"enter image description here\" /></a></p>\n<p>Initially, I set my JLabel icon with something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>lblImage.setIcon( getNoteIcon() );\n\n//...\n\nImageIcon getNoteIcon(){\n    return new ImageIcon( getClass().getResource('path/to/file.png') );\n}\n</code></pre>\n<p>This results are that my image displays blurry when HiDPI resolution is set to higher than 100%. Examples:</p>\n<p>At 100%:</p>\n<p><a href=\"https://i.stack.imgur.com/PX4jw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PX4jw.png\" alt=\"enter image description here\" /></a></p>\n<p>And at 150%:</p>\n<p><a href=\"https://i.stack.imgur.com/m3zKg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/m3zKg.png\" alt=\"enter image description here\" /></a></p>\n<p>You can see that the music note image is fuzzier in the 150% resolution.</p>\n<p>What I want: I DO NOT want it to up or downscale the image! I want to keep the original size, unless I can provide different image sizes for various resolutions.</p>\n<p>That being said, I looked and tried to use the BaseMultiResolutionImage class to deal with resolutions, passing along an array of the &quot;same size image&quot;, but I get the same results when I change the resolution. This is the code I tried :</p>\n<pre class=\"lang-java prettyprint-override\"><code>ImageIcon getNoteIcon(){\n    List&lt;Image&gt; imgList = new ArrayList&lt;Image&gt;();\n\n    /* all images are width = 108 height = 83 */\n    imgList.add(ImageIO.read(new File('path/to/file.png'))); // 100%\n    imgList.add(ImageIO.read(new File('path/to/file.png'))); // 125%\n    imgList.add(ImageIO.read(new File('path/to/file.png'))); // 150%\n    imgList.add(ImageIO.read(new File('path/to/file.png'))); // 175%\n    imgList.add(ImageIO.read(new File('path/to/file.png'))); // 200%\n\n    BaseMultiResolutionImage multiResolutionImage = new BaseMultiResolutionImage(imgList.toArray(new Image[0]));\n\n    return new ImageIcon(\n        multiResolutionImage\n    );\n}\n</code></pre>\n<p>I don't understand what I'm doing wrong, or if I'm even using <code>BaseMultiResolutionImage</code> correctly. Finally, if I do manage say to give 3 different images for 3 resolutions, (i.e. 100, 125, 150%), is there a way to tell it the &quot;default&quot; one to use when I do not have an image for a given resolution (i.e. 200%) ?</p>\n<p>Can anyone shed a light on all of this? Seems like a lot of confusion on my end just to get an image to NOT scale in my window...</p>\n<p>Much thanks!\nPat</p>\n<hr />\n<p><em><strong>UPDATE AFTER &quot;PROPER&quot; USE OF BaseMultiResolutionImage:</strong></em></p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    List&lt;Image&gt; imgList = new ArrayList&lt;Image&gt;();\n\n    imgList.add(ImageIO.read(getClass().getResource(&quot;images/notes/hidpi_100/file.png&quot;))); // 100% - 108x83\n    imgList.add(ImageIO.read(getClass().getResource(&quot;images/notes/hidpi_125/file.png&quot;))); // 125% - 135x104\n    imgList.add(ImageIO.read(getClass().getResource(&quot;images/notes/hidpi_150/file.png&quot;))); // 150% - 162x124\n    imgList.add(ImageIO.read(getClass().getResource(&quot;images/notes/hidpi_175/file.png&quot;))); // 175% - 189x145\n    imgList.add(ImageIO.read(getClass().getResource(&quot;images/notes/hidpi_200/file.png&quot;))); // 200% - 216x166\n\n    BaseMultiResolutionImage multiResolutionImage = new BaseMultiResolutionImage(imgList.toArray(new Image[0]));\n    ImageIcon icon = new ImageIcon(multiResolutionImage);\n\n    return icon;\n}\ncatch(IOException ex){\n    ex.printStackTrace();\n    return null;\n}\n</code></pre>\n<p>On screen font DPI set to 175% in Windows, this results in:</p>\n<p><strong>Before using BaseMultiResolutionImage</strong></p>\n<p><a href=\"https://i.stack.imgur.com/gVDLt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gVDLt.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>After using BaseMultiResolutionImage</strong></p>\n<p><a href=\"https://i.stack.imgur.com/B8qoK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/B8qoK.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is a comparison of what I get (left), with the actual image file it's supposed to show on the right hand side (mind you Paint doesn't take into account background transparency):</p>\n<p><a href=\"https://i.stack.imgur.com/qTgE3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qTgE3.png\" alt=\"enter image description here\" /></a></p>\n<p>Any ideas as to why this &quot;choppy&quot; image is showing? What am I missing ?</p>\n<p>Thanks again.\nPat</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676872441,"creation_date":1676872441,"answer_id":75505711,"question_id":75505637,"body_markdown":"Use a dot for the &quot;any character&quot; part:\r\n\r\n    str = str.replaceAll(&quot;&#167;.&quot;, &quot;&quot;);\r\n","title":"Replace letter after specified character (including specified character) (all instances) java String","body":"<p>Use a dot for the &quot;any character&quot; part:</p>\n<pre><code>str = str.replaceAll(&quot;.&quot;, &quot;&quot;);\n</code></pre>\n"}],"owner":{"account_id":24271990,"reputation":1,"user_id":18219863,"display_name":"Programmer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1676892996,"creation_date":1676871781,"question_id":75505637,"body_markdown":"I want to replace every &quot;&#167;&quot; and the character after it with nothing.\r\n\r\nExample:\r\n\r\n&quot;&#167;a&#167;b Text&quot;\r\n\r\nGoes to:\r\n\r\n&quot; Text&quot;\r\n\r\n&#167;a turns to nothing because there is the character &#167;. Same with &#167;b.\r\n\r\nHow would I go about doing this?\r\n\r\nI know about String.replaceAll(), but since the second character can be anything, I&#39;m not sure how I would get rid of it.\r\n","title":"Replace letter after specified character (including specified character) (all instances) java String","body":"<p>I want to replace every &quot;&quot; and the character after it with nothing.</p>\n<p>Example:</p>\n<p>&quot;ab Text&quot;</p>\n<p>Goes to:</p>\n<p>&quot; Text&quot;</p>\n<p>a turns to nothing because there is the character . Same with b.</p>\n<p>How would I go about doing this?</p>\n<p>I know about String.replaceAll(), but since the second character can be anything, I'm not sure how I would get rid of it.</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-data"],"answers":[{"tags":[],"owner":{"account_id":11829073,"reputation":76,"user_id":8656297,"display_name":"Dupeyrat Kevin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676892981,"creation_date":1676892981,"answer_id":75508766,"question_id":75508448,"body_markdown":"You will need to map your Entity object to your DTO.\r\n\r\nFor this, you can use Mapstruct : https://www.baeldung.com/mapstruct\r\n\r\nWith spring data you can fetch your data with stream structure and then map your object before returning it.","title":"How to update list of entites by List of dtos in spring boot, data JPA?","body":"<p>You will need to map your Entity object to your DTO.</p>\n<p>For this, you can use Mapstruct : <a href=\"https://www.baeldung.com/mapstruct\" rel=\"nofollow noreferrer\">https://www.baeldung.com/mapstruct</a></p>\n<p>With spring data you can fetch your data with stream structure and then map your object before returning it.</p>\n"}],"owner":{"account_id":6645589,"reputation":602,"user_id":5129821,"accept_rate":91,"display_name":"Dasun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":644,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676892981,"creation_date":1676891118,"question_id":75508448,"body_markdown":"I just want to know that is there best way to update list of entities which return by id that can update with list of DTO?. For example, I will fetch List of entities by its ID like this.\r\n\r\n**My requirement is, If supplierId return list of List&lt;SupSupplierProduct&gt; then update it is product ID, else insert new record.**\r\n\r\n    List&lt;SupSupplierProduct&gt; list1 = supSupplierProductRepository.findAllBySupplierId(supplierId);\r\n\r\nI want to update this list with DTO list, `List&lt;SupplierConfigurationResponse&gt; dto`\r\n\r\nEntity is\r\n\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Data\r\n    @Entity\r\n    @Table(name = &quot;sup_supplier_product&quot;)\r\n    public class SupSupplierProduct extends BaseDTO {\r\n    \r\n    \t@Id\r\n    \t@GenericGenerator(name = &quot;generator&quot;, strategy = &quot;guid&quot;, parameters = {})\r\n    \t@GeneratedValue(generator = &quot;generator&quot;)\r\n    \t@Column(name = &quot;id&quot;, columnDefinition = &quot;uniqueidentifier&quot;)\r\n    \tprivate String id;\r\n    \t@Column(name = &quot;supplier_id&quot;)\r\n    \tprivate String supplierId;\r\n    \t@Column(name = &quot;prod_id&quot;)\r\n    \tprivate String prodId;\r\n    \r\n    }\r\n\r\nDTO is,\r\n\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Data\r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    public class SupplierConfigurationResponse extends BaseDTO {\r\n    \r\n    \tprivate String prodId;\r\n    \t\r\n    }\r\n\r\n\r\nWhat I have tried it to get the support of modelMapper. But final output is not what I want.\r\n\r\n    Type listType = new TypeToken&lt;List&lt;SupSupplierProduct&gt;&gt;(){}.getType();\r\n    \t\tList&lt;SupSupplierProduct&gt; postDtoList = modelMapper.map(dto,listType);","title":"How to update list of entites by List of dtos in spring boot, data JPA?","body":"<p>I just want to know that is there best way to update list of entities which return by id that can update with list of DTO?. For example, I will fetch List of entities by its ID like this.</p>\n<p><strong>My requirement is, If supplierId return list of List then update it is product ID, else insert new record.</strong></p>\n<pre><code>List&lt;SupSupplierProduct&gt; list1 = supSupplierProductRepository.findAllBySupplierId(supplierId);\n</code></pre>\n<p>I want to update this list with DTO list, <code>List&lt;SupplierConfigurationResponse&gt; dto</code></p>\n<p>Entity is</p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\n@Data\n@Entity\n@Table(name = &quot;sup_supplier_product&quot;)\npublic class SupSupplierProduct extends BaseDTO {\n\n    @Id\n    @GenericGenerator(name = &quot;generator&quot;, strategy = &quot;guid&quot;, parameters = {})\n    @GeneratedValue(generator = &quot;generator&quot;)\n    @Column(name = &quot;id&quot;, columnDefinition = &quot;uniqueidentifier&quot;)\n    private String id;\n    @Column(name = &quot;supplier_id&quot;)\n    private String supplierId;\n    @Column(name = &quot;prod_id&quot;)\n    private String prodId;\n\n}\n</code></pre>\n<p>DTO is,</p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\n@Data\n@JsonInclude(JsonInclude.Include.NON_NULL)\npublic class SupplierConfigurationResponse extends BaseDTO {\n\n    private String prodId;\n    \n}\n</code></pre>\n<p>What I have tried it to get the support of modelMapper. But final output is not what I want.</p>\n<pre><code>Type listType = new TypeToken&lt;List&lt;SupSupplierProduct&gt;&gt;(){}.getType();\n        List&lt;SupSupplierProduct&gt; postDtoList = modelMapper.map(dto,listType);\n</code></pre>\n"},{"tags":["java","playframework","ebean"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676951751,"post_id":75508760,"comment_id":133235703,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":15702282,"reputation":3,"user_id":11330076,"display_name":"Philips"},"score":0,"creation_date":1676967676,"post_id":75508760,"comment_id":133238453,"body_markdown":"I am trying to use `DBApi dbApi` but only can select `dbApi.getDatabase(&quot;xxx&quot;)`one of the databases defined on application.conf. It is not possible to add a new one","body":"I am trying to use <code>DBApi dbApi</code> but only can select <code>dbApi.getDatabase(&quot;xxx&quot;)</code>one of the databases defined on application.conf. It is not possible to add a new one"}],"owner":{"account_id":15702282,"reputation":3,"user_id":11330076,"display_name":"Philips"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676892941,"creation_date":1676892941,"question_id":75508760,"body_markdown":"In the play documentation we can find how configure a database connection in the application.conf file such as\r\n\r\n\r\n```\r\ndefault.driver=org.postgresql.Driver\r\ndefault.url=&quot;jdbc:postgresql://urlConnection&quot;\r\ndefault.user=yourUser\r\ndefault.password=&quot;yourPassword&quot;\r\n\r\nebean.default = [&quot;models.*&quot;]\r\n```\r\n\r\n\r\nbut I need to create different connections depending on the configuration of each account (each account has in its configuration the information for the connection to the database)\r\n\r\nSo in the default database I have the accounts and their configuration and, on the other hand, in other databases I have the rest of data.\r\n\r\nHow could I create the rest of the connections to the databases and make them work in the same way as the default database? Being dynamic, I cannot include them in the application.conf\r\n\r\nThe idea would be to create the databases as database + accountId and have them cached or somehow to not have to connect again if there is already a connection with that name","title":"Dynamic databases in play framework","body":"<p>In the play documentation we can find how configure a database connection in the application.conf file such as</p>\n<pre><code>default.driver=org.postgresql.Driver\ndefault.url=&quot;jdbc:postgresql://urlConnection&quot;\ndefault.user=yourUser\ndefault.password=&quot;yourPassword&quot;\n\nebean.default = [&quot;models.*&quot;]\n</code></pre>\n<p>but I need to create different connections depending on the configuration of each account (each account has in its configuration the information for the connection to the database)</p>\n<p>So in the default database I have the accounts and their configuration and, on the other hand, in other databases I have the rest of data.</p>\n<p>How could I create the rest of the connections to the databases and make them work in the same way as the default database? Being dynamic, I cannot include them in the application.conf</p>\n<p>The idea would be to create the databases as database + accountId and have them cached or somehow to not have to connect again if there is already a connection with that name</p>\n"},{"tags":["java","authentication","digital-signature","pkcs#11","sunpkcs11"],"comments":[{"owner":{"account_id":11403526,"reputation":573,"user_id":8359730,"accept_rate":89,"display_name":"Botea Florin"},"score":0,"creation_date":1579375812,"post_id":52115798,"comment_id":105748403,"body_markdown":"can you please tell me how you managed to get the sun.security.pkcs11.SunPKCS11 class? mine is missing... thanks!","body":"can you please tell me how you managed to get the sun.security.pkcs11.SunPKCS11 class? mine is missing... thanks!"}],"answers":[{"tags":[],"owner":{"account_id":10643264,"reputation":1321,"user_id":7837563,"display_name":"Rmahajan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1535721522,"creation_date":1535721522,"answer_id":52116333,"question_id":52115798,"body_markdown":"I believe you missing login bit.\r\n\r\n`providerPKCS11.login(null, YourCallbackHandler)`\r\n","title":"PKCS#11 Signature with iText &amp; eTPKCS11.dll &amp; SunPKCS11 Provider","body":"<p>I believe you missing login bit.</p>\n\n<p><code>providerPKCS11.login(null, YourCallbackHandler)</code></p>\n"}],"owner":{"account_id":3116225,"reputation":41,"user_id":2636920,"display_name":"Hynex"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2476,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1676892930,"creation_date":1535719615,"question_id":52115798,"body_markdown":"I have problems when trying to make signature using SunPKCS11 Provider linked to eTPKCS11.dll. Even with iText signDetached, also when trying simple Signature, I always get &quot;Exception in thread &quot;main&quot; java.security.ProviderException: sun.security.pkcs11.wrapper.PKCS11Exception: CKR_USER_NOT_LOGGED_IN&quot;.\r\n\r\nI succesfully obtain PK, the authentication is done by callback which returns directly password for token. It seems like token needs another auth process for signature?\r\n\r\nThe device is SafeNet eToken 5110, running on Win7 64bit...\r\n\r\nThanks a lot!\r\n\r\n\tpublic class Main {\r\n\r\n\t\tpublic static Properties properties = new Properties();\r\n\r\n\t\tpublic static void main(String args[]) throws IOException, GeneralSecurityException, DocumentException\r\n\t        {\r\n\t\t    String userFile = &quot;E:/plain.pdf&quot;;\r\n\t    \tString userFile_signed = &quot;E:/plain-tsig.pdf&quot;;\r\n\t\t    \r\n\t\t    String pkcs11Config = &quot;name=eToken\\nlibrary=C:\\\\Windows\\\\System32\\\\eTPKCS11.dll\\nshowInfo=true&quot;;\r\n\t    \tjava.io.ByteArrayInputStream pkcs11ConfigStream = new java.io.ByteArrayInputStream(pkcs11Config.getBytes());\r\n\t    \tsun.security.pkcs11.SunPKCS11 providerPKCS11 = new sun.security.pkcs11.SunPKCS11(pkcs11ConfigStream);\r\n\t\t\r\n\t\t    java.security.Security.addProvider(providerPKCS11);\r\n\t    \tString pin = &quot;PIN-1234&quot;;\r\n\t    \r\n\t    \tKeyStore.CallbackHandlerProtection chp = new KeyStore.CallbackHandlerProtection(new MyGuiCallbackHandler() {});\r\n\t    \tKeyStore.Builder builder = KeyStore.Builder.newInstance(&quot;PKCS11&quot;, null, chp);\r\n\t    \r\n\t\t    KeyStore keyStore = builder.getKeyStore();\r\n\t    \tjava.util.Enumeration&lt;String&gt; aliases = keyStore.aliases();\r\n\t    \tString alias = null;\r\n\t    \twhile (aliases.hasMoreElements()) {\r\n\t\t        alias = aliases.nextElement();\r\n\t    \t    System.out.println(alias);\r\n\t    \t}\r\n\t    \tSystem.out.println(providerPKCS11.getName());\r\n\t    \tPrivateKey pk = (PrivateKey) keyStore.getKey(alias, null);\r\n\t    \r\n\t    \r\n\t    \tCertificate[] chain = keyStore.getCertificateChain(alias);\r\n\t        OcspClient ocspClient = new OcspClientBouncyCastle();\r\n\t        TSAClient tsaClient = null;\r\n\t        for (int i = 0; i &lt; chain.length; i++) {\r\n\t            X509Certificate cert = (X509Certificate)chain[i];\r\n\t            String tsaUrl = CertificateUtil.getTSAURL(cert);\r\n\t            if (tsaUrl != null) {\r\n\t                tsaClient = new TSAClientBouncyCastle(tsaUrl);\r\n\t                break;\r\n\t            }\r\n\t        }\r\n\t        List&lt;CrlClient&gt; crlList = new ArrayList&lt;CrlClient&gt;();\r\n\t        crlList.add(new CrlClientOnline(chain));\r\n\t        Main t = new Main();\r\n\t        System.out.println(providerPKCS11.getServices().toString());\r\n\t        \r\n\t        Signature signer = Signature.getInstance(&quot;SHA256withRSA&quot;, keyStore.getProvider());\r\n\t        signer.initSign(pk);\r\n\t        String data = &quot;Hello world......&quot;;\r\n\t        signer.update(data.getBytes()); \r\n\t        byte[] signedData = signer.sign();        \r\n\t        System.out.println(signedData.toString());\r\n\t        \r\n\t        providerPKCS11.logout();\r\n\t}\r\n\r\n\t    private static abstract class MyGuiCallbackHandler implements CallbackHandler {\r\n\r\n\t        public MyGuiCallbackHandler() {\r\n\t            System.out.println(&quot;Sending PIN from callback...&quot;);\r\n\t        }\r\n\t        \r\n\t        public void handle(Callback[] callbacks) throws IOException, UnsupportedCallbackException {\r\n\t            for (int i = 0; i &lt; callbacks.length; i++) {\r\n\t                PasswordCallback pc = (PasswordCallback) callbacks[i];\r\n\t                String pin = &quot;PIN-1234&quot;;\r\n\t                pc.setPassword(pin.toCharArray());\r\n\t            }\r\n\t        }\r\n\t}\r\n\r\n\t}\r\n\r\nAnd the result:\r\n\r\n    run:\r\n    SunPKCS11 loading ---DummyConfig-1---\r\n    sunpkcs11: Initializing PKCS#11 library C:\\Windows\\System32\\eTPKCS11.dll\r\n    Information for provider SunPKCS11-eToken\r\n    Library info:\r\n      cryptokiVersion: 2.20\r\n      manufacturerID: SafeNet, Inc.                   \r\n      flags: 0\r\n      libraryDescription: SafeNet eToken PKCS#11          \r\n      libraryVersion: 10.04\r\n    All slots: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13\r\n    Slots with tokens: 0\r\n    Slot info for slot 0:\r\n      slotDescription: AKS ifdh 0                                                      \r\n      manufacturerID: SafeNet, Inc.                   \r\n      flags: CKF_TOKEN_PRESENT | CKF_REMOVABLE_DEVICE | CKF_HW_SLOT\r\n      hardwareVersion: 1.00\r\n      firmwareVersion: 0.00\r\n    Token info for token in slot 0:\r\n      label: ****               \r\n      manufacturerID: Gemalto                         \r\n      model: ID Prime MD     \r\n      serialNumber: ****\r\n      flags: CKF_RNG | CKF_LOGIN_REQUIRED | CKF_USER_PIN_INITIALIZED | CKF_DUAL_CRYPTO_OPERATIONS | CKF_TOKEN_INITIALIZED\r\n      ulMaxSessionCount: CK_EFFECTIVELY_INFINITE\r\n      ulSessionCount: 0\r\n      ulMaxRwSessionCount: CK_EFFECTIVELY_INFINITE\r\n      ulRwSessionCount: 0\r\n      ulMaxPinLen: 16\r\n      ulMinPinLen: 4\r\n      ulTotalPublicMemory: 32768\r\n      ulFreePublicMemory: 25882\r\n      ulTotalPrivateMemory: 32768\r\n      ulFreePrivateMemory: 25882\r\n      hardwareVersion: 16.00\r\n      firmwareVersion: 16.01\r\n    ...\r\n    PKCS#11 Provider -&gt;SunPKCS11-eToken using library C:\\Windows\\System32\\eTPKCS11.dll\r\n    Sending PIN from callback\r\n    sunpkcs11: login succeeded\r\n    iSignum 00000000-000000\r\n    ...\r\n    Exception in thread &quot;main&quot; java.security.ProviderException: sun.security.pkcs11.wrapper.PKCS11Exception: CKR_USER_NOT_LOGGED_IN\r\n    \tat sun.security.pkcs11.P11Signature.engineSign(P11Signature.java:591)\r\n    \tat java.security.Signature$Delegate.engineSign(Signature.java:1207)\r\n    \tat java.security.Signature.sign(Signature.java:579)\r\n    \tat TSTgo.Main.main(Main.java:146)\r\n    Caused by: sun.security.pkcs11.wrapper.PKCS11Exception: CKR_USER_NOT_LOGGED_IN\r\n    \tat sun.security.pkcs11.wrapper.PKCS11.C_SignFinal(Native Method)\r\n    \tat sun.security.pkcs11.P11Signature.engineSign(P11Signature.java:553)\r\n    \t... 3 more\r\n\r\n","title":"PKCS#11 Signature with iText &amp; eTPKCS11.dll &amp; SunPKCS11 Provider","body":"<p>I have problems when trying to make signature using SunPKCS11 Provider linked to eTPKCS11.dll. Even with iText signDetached, also when trying simple Signature, I always get \"Exception in thread \"main\" java.security.ProviderException: sun.security.pkcs11.wrapper.PKCS11Exception: CKR_USER_NOT_LOGGED_IN\".</p>\n\n<p>I succesfully obtain PK, the authentication is done by callback which returns directly password for token. It seems like token needs another auth process for signature?</p>\n\n<p>The device is SafeNet eToken 5110, running on Win7 64bit...</p>\n\n<p>Thanks a lot!</p>\n\n<pre><code>public class Main {\n\n    public static Properties properties = new Properties();\n\n    public static void main(String args[]) throws IOException, GeneralSecurityException, DocumentException\n        {\n        String userFile = \"E:/plain.pdf\";\n        String userFile_signed = \"E:/plain-tsig.pdf\";\n\n        String pkcs11Config = \"name=eToken\\nlibrary=C:\\\\Windows\\\\System32\\\\eTPKCS11.dll\\nshowInfo=true\";\n        java.io.ByteArrayInputStream pkcs11ConfigStream = new java.io.ByteArrayInputStream(pkcs11Config.getBytes());\n        sun.security.pkcs11.SunPKCS11 providerPKCS11 = new sun.security.pkcs11.SunPKCS11(pkcs11ConfigStream);\n\n        java.security.Security.addProvider(providerPKCS11);\n        String pin = \"PIN-1234\";\n\n        KeyStore.CallbackHandlerProtection chp = new KeyStore.CallbackHandlerProtection(new MyGuiCallbackHandler() {});\n        KeyStore.Builder builder = KeyStore.Builder.newInstance(\"PKCS11\", null, chp);\n\n        KeyStore keyStore = builder.getKeyStore();\n        java.util.Enumeration&lt;String&gt; aliases = keyStore.aliases();\n        String alias = null;\n        while (aliases.hasMoreElements()) {\n            alias = aliases.nextElement();\n            System.out.println(alias);\n        }\n        System.out.println(providerPKCS11.getName());\n        PrivateKey pk = (PrivateKey) keyStore.getKey(alias, null);\n\n\n        Certificate[] chain = keyStore.getCertificateChain(alias);\n        OcspClient ocspClient = new OcspClientBouncyCastle();\n        TSAClient tsaClient = null;\n        for (int i = 0; i &lt; chain.length; i++) {\n            X509Certificate cert = (X509Certificate)chain[i];\n            String tsaUrl = CertificateUtil.getTSAURL(cert);\n            if (tsaUrl != null) {\n                tsaClient = new TSAClientBouncyCastle(tsaUrl);\n                break;\n            }\n        }\n        List&lt;CrlClient&gt; crlList = new ArrayList&lt;CrlClient&gt;();\n        crlList.add(new CrlClientOnline(chain));\n        Main t = new Main();\n        System.out.println(providerPKCS11.getServices().toString());\n\n        Signature signer = Signature.getInstance(\"SHA256withRSA\", keyStore.getProvider());\n        signer.initSign(pk);\n        String data = \"Hello world......\";\n        signer.update(data.getBytes()); \n        byte[] signedData = signer.sign();        \n        System.out.println(signedData.toString());\n\n        providerPKCS11.logout();\n}\n\n    private static abstract class MyGuiCallbackHandler implements CallbackHandler {\n\n        public MyGuiCallbackHandler() {\n            System.out.println(\"Sending PIN from callback...\");\n        }\n\n        public void handle(Callback[] callbacks) throws IOException, UnsupportedCallbackException {\n            for (int i = 0; i &lt; callbacks.length; i++) {\n                PasswordCallback pc = (PasswordCallback) callbacks[i];\n                String pin = \"PIN-1234\";\n                pc.setPassword(pin.toCharArray());\n            }\n        }\n}\n\n}\n</code></pre>\n\n<p>And the result:</p>\n\n<pre><code>run:\nSunPKCS11 loading ---DummyConfig-1---\nsunpkcs11: Initializing PKCS#11 library C:\\Windows\\System32\\eTPKCS11.dll\nInformation for provider SunPKCS11-eToken\nLibrary info:\n  cryptokiVersion: 2.20\n  manufacturerID: SafeNet, Inc.                   \n  flags: 0\n  libraryDescription: SafeNet eToken PKCS#11          \n  libraryVersion: 10.04\nAll slots: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13\nSlots with tokens: 0\nSlot info for slot 0:\n  slotDescription: AKS ifdh 0                                                      \n  manufacturerID: SafeNet, Inc.                   \n  flags: CKF_TOKEN_PRESENT | CKF_REMOVABLE_DEVICE | CKF_HW_SLOT\n  hardwareVersion: 1.00\n  firmwareVersion: 0.00\nToken info for token in slot 0:\n  label: ****               \n  manufacturerID: Gemalto                         \n  model: ID Prime MD     \n  serialNumber: ****\n  flags: CKF_RNG | CKF_LOGIN_REQUIRED | CKF_USER_PIN_INITIALIZED | CKF_DUAL_CRYPTO_OPERATIONS | CKF_TOKEN_INITIALIZED\n  ulMaxSessionCount: CK_EFFECTIVELY_INFINITE\n  ulSessionCount: 0\n  ulMaxRwSessionCount: CK_EFFECTIVELY_INFINITE\n  ulRwSessionCount: 0\n  ulMaxPinLen: 16\n  ulMinPinLen: 4\n  ulTotalPublicMemory: 32768\n  ulFreePublicMemory: 25882\n  ulTotalPrivateMemory: 32768\n  ulFreePrivateMemory: 25882\n  hardwareVersion: 16.00\n  firmwareVersion: 16.01\n...\nPKCS#11 Provider -&gt;SunPKCS11-eToken using library C:\\Windows\\System32\\eTPKCS11.dll\nSending PIN from callback\nsunpkcs11: login succeeded\niSignum 00000000-000000\n...\nException in thread \"main\" java.security.ProviderException: sun.security.pkcs11.wrapper.PKCS11Exception: CKR_USER_NOT_LOGGED_IN\n    at sun.security.pkcs11.P11Signature.engineSign(P11Signature.java:591)\n    at java.security.Signature$Delegate.engineSign(Signature.java:1207)\n    at java.security.Signature.sign(Signature.java:579)\n    at TSTgo.Main.main(Main.java:146)\nCaused by: sun.security.pkcs11.wrapper.PKCS11Exception: CKR_USER_NOT_LOGGED_IN\n    at sun.security.pkcs11.wrapper.PKCS11.C_SignFinal(Native Method)\n    at sun.security.pkcs11.P11Signature.engineSign(P11Signature.java:553)\n    ... 3 more\n</code></pre>\n"},{"tags":["java","xml","maven","automation"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":3,"creation_date":1676657886,"post_id":75487832,"comment_id":133188489,"body_markdown":"(&quot;is&quot;+is) doesn&#39;t look like the correct parameter.  Why not just (is)?","body":"(&quot;is&quot;+is) doesn&#39;t look like the correct parameter.  Why not just (is)?"},{"owner":{"account_id":22926491,"reputation":1,"user_id":17061462,"display_name":"rgw"},"score":0,"creation_date":1676658110,"post_id":75487832,"comment_id":133188553,"body_markdown":"The code works on a different machine, with an older jdk version. That&#39;s why I think it&#39;s a pom issue that needs to be updated. I just cant find it.","body":"The code works on a different machine, with an older jdk version. That&#39;s why I think it&#39;s a pom issue that needs to be updated. I just cant find it."},{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":1,"creation_date":1676659674,"post_id":75487832,"comment_id":133188971,"body_markdown":"What does &quot;breaking on line 166&quot; mean? Add full details. However as pcalkins points out you are passing in String &quot;is=org.xml.sax.InputSource@7fc7ed31&quot; not an InputSource.","body":"What does &quot;breaking on line 166&quot; mean? Add full details. However as pcalkins points out you are passing in String &quot;is=org.xml.sax.InputSource@7fc7ed31&quot; not an InputSource."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1676660938,"post_id":75487832,"comment_id":133189262,"body_markdown":"It is possible that DocumentBuilder was removed from later versions of Java... but if that were the case, you&#39;d have IDE errors on line 160.  It&#39;s also possible that DocumentBuilder&#39;s parse method changed (or &quot;Document&quot; type) in later versions, but still that argument looks wrong.  Seems like you&#39;d want to pass in the stream.  Your POM includes 2 different libraries for XML though... I&#39;d remove those so you use Java&#39;s XML parser.","body":"It is possible that DocumentBuilder was removed from later versions of Java... but if that were the case, you&#39;d have IDE errors on line 160.  It&#39;s also possible that DocumentBuilder&#39;s parse method changed (or &quot;Document&quot; type) in later versions, but still that argument looks wrong.  Seems like you&#39;d want to pass in the stream.  Your POM includes 2 different libraries for XML though... I&#39;d remove those so you use Java&#39;s XML parser."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1676661202,"post_id":75487832,"comment_id":133189335,"body_markdown":"If the version of Java you are using doesn&#39;t include an XML parser, go with 1 library for XML parsing otherwise you may have namespace issues.","body":"If the version of Java you are using doesn&#39;t include an XML parser, go with 1 library for XML parsing otherwise you may have namespace issues."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1676667122,"post_id":75487832,"comment_id":133190778,"body_markdown":"`The code keeps breaking on line 166` this is not very descriptive, can you please post your stack trace or whatever error message","body":"<code>The code keeps breaking on line 166</code> this is not very descriptive, can you please post your stack trace or whatever error message"}],"answers":[{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676678935,"creation_date":1676678935,"answer_id":75490301,"question_id":75487832,"body_markdown":"If that&#39;s your POM file, then your code is breaking because it&#39;s not well-formed XML, for example it has a `&lt;/dependencies&gt;` end tag with no corresponding start tag.\r\n\r\nHowever, because you haven&#39;t given any error messages or other diagnostics, we can only guess. [I can only think that you omitted the diagnostics because they didn&#39;t help you. That doesn&#39;t mean they won&#39;t help someone else.]","title":"How to fix the dependencies in order to parse an XML file?","body":"<p>If that's your POM file, then your code is breaking because it's not well-formed XML, for example it has a <code>&lt;/dependencies&gt;</code> end tag with no corresponding start tag.</p>\n<p>However, because you haven't given any error messages or other diagnostics, we can only guess. [I can only think that you omitted the diagnostics because they didn't help you. That doesn't mean they won't help someone else.]</p>\n"}],"owner":{"account_id":22926491,"reputation":1,"user_id":17061462,"display_name":"rgw"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676892804,"creation_date":1676657131,"question_id":75487832,"body_markdown":"I have searched stackoverflow on how to fix this, but nothing fixes it.\r\n\r\nThe code keeps breaking on line 166. I believe it has something to do with my pom file, but I cant figure out how to fix it.\r\n\r\n```\r\n160    \t\tDocumentBuilder db = DocumentBuilderFactory.newInstance().newDocumentBuilder();\r\n161    \t\tSystem.out.println(&quot;DB is&quot;+db);\r\nDB isorg.apache.xerces.jaxp.DocumentBuilderImpl@763334fe\r\n\r\n162    \t\tInputSource is = new InputSource();\r\n163    \t\tSystem.out.println(&quot;is= &quot;+is);\r\nis= org.xml.sax.InputSource@7fc7ed31\r\n\r\n164    \t\tis.setCharacterStream(new StringReader(strXMLResponse));\r\n165    \t\tSystem.out.println(&quot;strXMLResponse&quot; + strXMLResponse);\r\nstrXMLResponse\r\n\r\n166    \t\tDocument doc = db.parse(&quot;is&quot;+is);\r\n167    \t\tSystem.out.println(&quot;doc&quot;+doc);\r\n\r\n168    \t\tnodes = doc.getElementsByTagName(&quot;Value&quot;);\r\n169    \t\tSystem.out.println(&quot;node&quot;+nodes);\r\n```\r\n\r\nThis is my pom file: I&#39;m using jdk 17.0.4.1. Java\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;1.5.0-b01&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n      \r\n        &lt;dependency&gt;\t\t\t\t\r\n             &lt;groupId&gt;junit&lt;/groupId&gt;\t\t\t\t\t\t\t\t\r\n             &lt;artifactId&gt;junit&lt;/artifactId&gt;\t\t\t\t\t\t\t\t\r\n             &lt;version&gt;3.8.1&lt;/version&gt;\t\t\t\t\t\t\t\t\r\n             &lt;scope&gt;test&lt;/scope&gt;\t\t\t\t\t\t\t\t\r\n        &lt;/dependency&gt;\r\n\t  &lt;dependency&gt;\r\n\t\t  &lt;groupId&gt;jakarta.xml.ws&lt;/groupId&gt;\r\n\t\t  &lt;artifactId&gt;jakarta.xml.ws-api&lt;/artifactId&gt;\r\n\t\t  &lt;version&gt;4.0.0&lt;/version&gt;\r\n\t  &lt;/dependency&gt;\r\n\t  &lt;dependency&gt;\r\n\t\t  &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n\t\t  &lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\r\n\t\t  &lt;version&gt;4.0.0&lt;/version&gt;\r\n\t\t  &lt;scope&gt;runtime&lt;/scope&gt;\r\n\t  &lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n  \t&lt;properties&gt;\r\n    &lt;target.dir&gt;target2&lt;/target.dir&gt;\r\n  &lt;/properties&gt;\r\n&lt;/project&gt;\r\n\r\n\r\nI have changed the pom dependencies and import statements. I have looked in stackoverflow to find the answer, but nothing works.","title":"How to fix the dependencies in order to parse an XML file?","body":"<p>I have searched stackoverflow on how to fix this, but nothing fixes it.</p>\n<p>The code keeps breaking on line 166. I believe it has something to do with my pom file, but I cant figure out how to fix it.</p>\n<pre><code>160         DocumentBuilder db = DocumentBuilderFactory.newInstance().newDocumentBuilder();\n161         System.out.println(&quot;DB is&quot;+db);\nDB isorg.apache.xerces.jaxp.DocumentBuilderImpl@763334fe\n\n162         InputSource is = new InputSource();\n163         System.out.println(&quot;is= &quot;+is);\nis= org.xml.sax.InputSource@7fc7ed31\n\n164         is.setCharacterStream(new StringReader(strXMLResponse));\n165         System.out.println(&quot;strXMLResponse&quot; + strXMLResponse);\nstrXMLResponse\n\n166         Document doc = db.parse(&quot;is&quot;+is);\n167         System.out.println(&quot;doc&quot;+doc);\n\n168         nodes = doc.getElementsByTagName(&quot;Value&quot;);\n169         System.out.println(&quot;node&quot;+nodes);\n</code></pre>\n<p>This is my pom file: I'm using jdk 17.0.4.1. Java</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n        &lt;artifactId&gt;mail&lt;/artifactId&gt;\n        &lt;version&gt;1.5.0-b01&lt;/version&gt;\n    &lt;/dependency&gt;\n  \n    &lt;dependency&gt;                \n         &lt;groupId&gt;junit&lt;/groupId&gt;                               \n         &lt;artifactId&gt;junit&lt;/artifactId&gt;                             \n         &lt;version&gt;3.8.1&lt;/version&gt;                               \n         &lt;scope&gt;test&lt;/scope&gt;                                \n    &lt;/dependency&gt;\n  &lt;dependency&gt;\n      &lt;groupId&gt;jakarta.xml.ws&lt;/groupId&gt;\n      &lt;artifactId&gt;jakarta.xml.ws-api&lt;/artifactId&gt;\n      &lt;version&gt;4.0.0&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n      &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n      &lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\n      &lt;version&gt;4.0.0&lt;/version&gt;\n      &lt;scope&gt;runtime&lt;/scope&gt;\n  &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;properties&gt;\n&lt;target.dir&gt;target2&lt;/target.dir&gt;\n</code></pre>\n  \n\n<p>I have changed the pom dependencies and import statements. I have looked in stackoverflow to find the answer, but nothing works.</p>\n"},{"tags":["java","spring-boot","maven","intellij-idea","jar"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1676893084,"post_id":75508729,"comment_id":133222778,"body_markdown":"Check that the file didn&#39;t get corrupted in the process of transferring it.  For example, use a checksum tool to  generate (say) SHA256 checksums of the JAR file copies on both machines and then compare them.","body":"Check that the file didn&#39;t get corrupted in the process of transferring it.  For example, use a checksum tool to  generate (say) SHA256 checksums of the JAR file copies on both machines and then compare them."},{"owner":{"account_id":27832064,"reputation":1,"user_id":21250291,"display_name":"manatale"},"score":1,"creation_date":1676893688,"post_id":75508729,"comment_id":133222939,"body_markdown":"I use WinSCP for transferring it. Executing the command to generate checksums I get two different values, however it seems strange for me because I had always used this program for my releases.","body":"I use WinSCP for transferring it. Executing the command to generate checksums I get two different values, however it seems strange for me because I had always used this program for my releases."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1676894252,"post_id":75508729,"comment_id":133223105,"body_markdown":"confirm that WinSCP is transferring in binary mode (and be sure it is transferring to the correct destination)","body":"confirm that WinSCP is transferring in binary mode (and be sure it is transferring to the correct destination)"}],"owner":{"account_id":27832064,"reputation":1,"user_id":21250291,"display_name":"manatale"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":807,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676892740,"creation_date":1676892740,"question_id":75508729,"body_markdown":"I have an Intellij Maven project. The program runs both in the IDE and jar file on my local machine. But when I run jar file on another machine I get &quot;Invalid or corrupt jar file&quot;. The java version on my two machines is 1.8.303 and the project is built with 1.8.302.\r\n\r\n\r\n\r\nSince this error is so generic I have no idea what to go on. Any idea on this?","title":"Invalid or corrupt jar file","body":"<p>I have an Intellij Maven project. The program runs both in the IDE and jar file on my local machine. But when I run jar file on another machine I get &quot;Invalid or corrupt jar file&quot;. The java version on my two machines is 1.8.303 and the project is built with 1.8.302.</p>\n<p>Since this error is so generic I have no idea what to go on. Any idea on this?</p>\n"},{"tags":["java","android","kotlin","location"],"answers":[{"tags":[],"owner":{"account_id":23477736,"reputation":56,"user_id":17530303,"display_name":"Sahil Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676892638,"creation_date":1676892638,"answer_id":75508717,"question_id":75461895,"body_markdown":"I fixed this issue by changing  **&quot;AutomaticLocationWorker&quot;** to **&quot;AutomaticLocationBackgroundService:LifecycleService()&quot;** or change worker to lifecycleService.\r\n\r\n private var fusedLocationProviderClient: FusedLocationProviderClient? = null\r\n\r\n\r\n```\r\n    private val locationUpdatePendingIntent: PendingIntent by lazy {\r\n        val intent = Intent(this, LocationUpdatesBroadcastReceiver::class.java)\r\n        intent.action = LocationUpdatesBroadcastReceiver.ACTION_PROCESS_UPDATES\r\n        PendingIntent.getBroadcast(this, 0, intent,  PendingIntent.FLAG_MUTABLE)\r\n    }\r\n```\r\n\r\n\r\n```\r\n  fusedLocationProviderClient?.requestLocationUpdates(\r\n            mLocationRequest,\r\n            locationUpdatePendingIntent\r\n        )\r\n```\r\n\r\n## LocationUpdatesBroadcastReceiver\r\n\r\n```\r\n\r\nclass LocationUpdatesBroadcastReceiver: BroadcastReceiver() {\r\n    private  val TAG = &quot;LocationUpdatesBroadcas&quot;;\r\n    override fun onReceive(context: Context?, intent: Intent?) {\r\n        Log.d(TAG, &quot;onReceive() context:$context, intent:$intent&quot;)\r\n\r\n        if (intent?.action == ACTION_PROCESS_UPDATES) {\r\n\r\n            // Checks for location availability changes.\r\n            LocationAvailability.extractLocationAvailability(intent)?.let { locationAvailability -&gt;\r\n                if (!locationAvailability.isLocationAvailable) {\r\n                    Log.d(TAG, &quot;Location services are no longer available!&quot;)\r\n                }\r\n            }\r\n\r\n            LocationResult.extractResult(intent)?.let { locationResult -&gt;\r\n                Log.e(TAG, &quot;onReceive: lastLocation ${locationResult.locations.size}&quot;, )\r\n                if(locationResult.lastLocation != null){\r\n                    ShareLocationToAutomaticWorker.INSTANCE?.reciveLocation(locationResult.lastLocation!!)\r\n                }\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    companion object {\r\n        const val ACTION_PROCESS_UPDATES =\r\n            &quot;com.commuteoptm.bcos.background_services.action.&quot; +\r\n                    &quot;PROCESS_UPDATES&quot;\r\n    }\r\n\r\n    interface UpdatedLocation{\r\n        fun onLocationUpdate(location: Location)\r\n    }\r\n}\r\n```\r\n\r\n## ShareLocationToAutomaticWorker\r\n\r\n```\r\nclass ShareLocationToAutomaticWorker(var updateLocation: LocationUpdatesBroadcastReceiver.UpdatedLocation){\r\n    private  val TAG = &quot;LocationUpdatesBroadcas&quot;\r\n\r\n    fun reciveLocation( location:Location){\r\n        Log.e(TAG, &quot;reciveLocation:--- ${location} &quot; )\r\n        updateLocation.onLocationUpdate(location)\r\n    }\r\n\r\n\r\n    companion object {\r\n        var INSTANCE: ShareLocationToAutomaticWorker? = null\r\n\r\n        fun getInstance(updateLocation: LocationUpdatesBroadcastReceiver.UpdatedLocation): ShareLocationToAutomaticWorker {\r\n            return INSTANCE ?: synchronized(this) {\r\n                INSTANCE ?: ShareLocationToAutomaticWorker(\r\n                    updateLocation )\r\n                    .also { INSTANCE = it }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n","title":"Android location Update not working when app is on background","body":"<p>I fixed this issue by changing  <strong>&quot;AutomaticLocationWorker&quot;</strong> to <strong>&quot;AutomaticLocationBackgroundService:LifecycleService()&quot;</strong> or change worker to lifecycleService.</p>\n<p>private var fusedLocationProviderClient: FusedLocationProviderClient? = null</p>\n<pre><code>    private val locationUpdatePendingIntent: PendingIntent by lazy {\n        val intent = Intent(this, LocationUpdatesBroadcastReceiver::class.java)\n        intent.action = LocationUpdatesBroadcastReceiver.ACTION_PROCESS_UPDATES\n        PendingIntent.getBroadcast(this, 0, intent,  PendingIntent.FLAG_MUTABLE)\n    }\n</code></pre>\n<pre><code>  fusedLocationProviderClient?.requestLocationUpdates(\n            mLocationRequest,\n            locationUpdatePendingIntent\n        )\n</code></pre>\n<h2>LocationUpdatesBroadcastReceiver</h2>\n<pre><code>\nclass LocationUpdatesBroadcastReceiver: BroadcastReceiver() {\n    private  val TAG = &quot;LocationUpdatesBroadcas&quot;;\n    override fun onReceive(context: Context?, intent: Intent?) {\n        Log.d(TAG, &quot;onReceive() context:$context, intent:$intent&quot;)\n\n        if (intent?.action == ACTION_PROCESS_UPDATES) {\n\n            // Checks for location availability changes.\n            LocationAvailability.extractLocationAvailability(intent)?.let { locationAvailability -&gt;\n                if (!locationAvailability.isLocationAvailable) {\n                    Log.d(TAG, &quot;Location services are no longer available!&quot;)\n                }\n            }\n\n            LocationResult.extractResult(intent)?.let { locationResult -&gt;\n                Log.e(TAG, &quot;onReceive: lastLocation ${locationResult.locations.size}&quot;, )\n                if(locationResult.lastLocation != null){\n                    ShareLocationToAutomaticWorker.INSTANCE?.reciveLocation(locationResult.lastLocation!!)\n                }\n\n            }\n        }\n    }\n\n    companion object {\n        const val ACTION_PROCESS_UPDATES =\n            &quot;com.commuteoptm.bcos.background_services.action.&quot; +\n                    &quot;PROCESS_UPDATES&quot;\n    }\n\n    interface UpdatedLocation{\n        fun onLocationUpdate(location: Location)\n    }\n}\n</code></pre>\n<h2>ShareLocationToAutomaticWorker</h2>\n<pre><code>class ShareLocationToAutomaticWorker(var updateLocation: LocationUpdatesBroadcastReceiver.UpdatedLocation){\n    private  val TAG = &quot;LocationUpdatesBroadcas&quot;\n\n    fun reciveLocation( location:Location){\n        Log.e(TAG, &quot;reciveLocation:--- ${location} &quot; )\n        updateLocation.onLocationUpdate(location)\n    }\n\n\n    companion object {\n        var INSTANCE: ShareLocationToAutomaticWorker? = null\n\n        fun getInstance(updateLocation: LocationUpdatesBroadcastReceiver.UpdatedLocation): ShareLocationToAutomaticWorker {\n            return INSTANCE ?: synchronized(this) {\n                INSTANCE ?: ShareLocationToAutomaticWorker(\n                    updateLocation )\n                    .also { INSTANCE = it }\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23477736,"reputation":56,"user_id":17530303,"display_name":"Sahil Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":719,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75508717,"answer_count":1,"score":1,"last_activity_date":1676892638,"creation_date":1676474338,"question_id":75461895,"body_markdown":"Android 12 Location updates not working when app is on background. and work fine when app is on forground.\r\n\r\nI also &quot;allow all time&quot; permission for for location. Acc to docs after this location updates start work on background. but in my case it stop updates when app is on foreground.\r\n\r\n## locationUpdatePendingIntent\r\n\r\n        private val locationUpdatePendingIntent: PendingIntent by lazy {\r\n        val intent = Intent(context, LocationUpdatesBroadcastReceiver::class.java)\r\n        intent.action = LocationUpdatesBroadcastReceiver.ACTION_PROCESS_UPDATES\r\n        PendingIntent.getBroadcast(context, 0, intent,  PendingIntent.FLAG_MUTABLE)\r\n    }\r\n\r\n\r\nFirstly I use Location Request. inside Automatic Workmanager\r\n\r\n```\r\nval mLocationRequest = LocationRequest.Builder(Priority.PRIORITY_HIGH_ACCURACY, 0L)\r\n    .setWaitForAccurateLocation(false)\r\n\r\n    .build()\r\nif (ActivityCompat.checkSelfPermission(\r\n        context.applicationContext,\r\n        Manifest.permission.ACCESS_FINE_LOCATION\r\n    ) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(\r\n        context,\r\n        Manifest.permission.ACCESS_COARSE_LOCATION\r\n    ) != PackageManager.PERMISSION_GRANTED\r\n) {\r\n    return Result.success();\r\n}\r\nfusedLocationProviderClient?.requestLocationUpdates(\r\n    mLocationRequest,\r\n    locationUpdatePendingIntent\r\n)\r\n```\r\n\r\nthen listen to location updates used inside  Automatic Workmanager\r\n\r\n```\r\n```\r\n\r\n```\r\noverride fun onLocationUpdate(location: Location) {\r\n    val executor: ExecutorService = Executors.newSingleThreadExecutor()\r\n\r\n    executor.execute {\r\n        lastLocation = location\r\n        updateLocation()\r\n    }\r\n}\r\n```\r\n\r\nLocation update broadcast (in this location update)\r\n\r\n```\r\n\r\nimport android.content.BroadcastReceiver\r\nimport android.content.Context\r\nimport android.content.Intent\r\nimport android.location.Location\r\nimport android.util.Log\r\nimport com.google.android.gms.location.LocationAvailability\r\nimport com.google.android.gms.location.LocationResult\r\n\r\n\r\nclass LocationUpdatesBroadcastReceiver: BroadcastReceiver() {\r\n    private  val TAG = &quot;LocationUpdatesBroadcas&quot;;\r\n    override fun onReceive(context: Context?, intent: Intent?) {\r\n        Log.d(TAG, &quot;onReceive() context:$context, intent:$intent&quot;)\r\n\r\n        if (intent?.action == ACTION_PROCESS_UPDATES) {\r\n\r\n            // Checks for location availability changes.\r\n            LocationAvailability.extractLocationAvailability(intent)?.let { locationAvailability -&gt;\r\n                if (!locationAvailability.isLocationAvailable) {\r\n                    Log.d(TAG, &quot;Location services are no longer available!&quot;)\r\n                }\r\n            }\r\n\r\n            LocationResult.extractResult(intent)?.let { locationResult -&gt;\r\n                Log.e(TAG, &quot;onReceive: lastLocation ${locationResult.locations.size}&quot;, )\r\n                if(locationResult.lastLocation != null){\r\n                    ShareLocationToAutomaticWorker.INSTANCE?.reciveLocation(locationResult.lastLocation!!)\r\n                }\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    companion object {\r\n        const val ACTION_PROCESS_UPDATES =\r\n            &quot;action.&quot; +\r\n                    &quot;PROCESS_UPDATES&quot;\r\n    }\r\n\r\n    interface UpdatedLocation{\r\n        fun onLocationUpdate(location: Location)\r\n    }\r\n}\r\n\r\nclass ShareLocationToAutomaticWorker(var updateLocation: LocationUpdatesBroadcastReceiver.UpdatedLocation){\r\n    private  val TAG = &quot;LocationUpdatesBroadcas&quot;\r\n\r\n    fun reciveLocation( location:Location){\r\n        Log.e(TAG, &quot;reciveLocation:--- ${location} &quot; )\r\n        updateLocation.onLocationUpdate(location)\r\n    }\r\n\r\n\r\n    companion object {\r\n        var INSTANCE: ShareLocationToAutomaticWorker? = null\r\n\r\n        fun getInstance(updateLocation: LocationUpdatesBroadcastReceiver.UpdatedLocation): ShareLocationToAutomaticWorker {\r\n            return INSTANCE ?: synchronized(this) {\r\n                INSTANCE ?: ShareLocationToAutomaticWorker(\r\n                    updateLocation )\r\n                    .also { INSTANCE = it }\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"Android location Update not working when app is on background","body":"<p>Android 12 Location updates not working when app is on background. and work fine when app is on forground.</p>\n<p>I also &quot;allow all time&quot; permission for for location. Acc to docs after this location updates start work on background. but in my case it stop updates when app is on foreground.</p>\n<h2>locationUpdatePendingIntent</h2>\n<pre><code>    private val locationUpdatePendingIntent: PendingIntent by lazy {\n    val intent = Intent(context, LocationUpdatesBroadcastReceiver::class.java)\n    intent.action = LocationUpdatesBroadcastReceiver.ACTION_PROCESS_UPDATES\n    PendingIntent.getBroadcast(context, 0, intent,  PendingIntent.FLAG_MUTABLE)\n}\n</code></pre>\n<p>Firstly I use Location Request. inside Automatic Workmanager</p>\n<pre><code>val mLocationRequest = LocationRequest.Builder(Priority.PRIORITY_HIGH_ACCURACY, 0L)\n    .setWaitForAccurateLocation(false)\n\n    .build()\nif (ActivityCompat.checkSelfPermission(\n        context.applicationContext,\n        Manifest.permission.ACCESS_FINE_LOCATION\n    ) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(\n        context,\n        Manifest.permission.ACCESS_COARSE_LOCATION\n    ) != PackageManager.PERMISSION_GRANTED\n) {\n    return Result.success();\n}\nfusedLocationProviderClient?.requestLocationUpdates(\n    mLocationRequest,\n    locationUpdatePendingIntent\n)\n</code></pre>\n<p>then listen to location updates used inside  Automatic Workmanager</p>\n<pre><code></code></pre>\n<pre><code>override fun onLocationUpdate(location: Location) {\n    val executor: ExecutorService = Executors.newSingleThreadExecutor()\n\n    executor.execute {\n        lastLocation = location\n        updateLocation()\n    }\n}\n</code></pre>\n<p>Location update broadcast (in this location update)</p>\n<pre><code>\nimport android.content.BroadcastReceiver\nimport android.content.Context\nimport android.content.Intent\nimport android.location.Location\nimport android.util.Log\nimport com.google.android.gms.location.LocationAvailability\nimport com.google.android.gms.location.LocationResult\n\n\nclass LocationUpdatesBroadcastReceiver: BroadcastReceiver() {\n    private  val TAG = &quot;LocationUpdatesBroadcas&quot;;\n    override fun onReceive(context: Context?, intent: Intent?) {\n        Log.d(TAG, &quot;onReceive() context:$context, intent:$intent&quot;)\n\n        if (intent?.action == ACTION_PROCESS_UPDATES) {\n\n            // Checks for location availability changes.\n            LocationAvailability.extractLocationAvailability(intent)?.let { locationAvailability -&gt;\n                if (!locationAvailability.isLocationAvailable) {\n                    Log.d(TAG, &quot;Location services are no longer available!&quot;)\n                }\n            }\n\n            LocationResult.extractResult(intent)?.let { locationResult -&gt;\n                Log.e(TAG, &quot;onReceive: lastLocation ${locationResult.locations.size}&quot;, )\n                if(locationResult.lastLocation != null){\n                    ShareLocationToAutomaticWorker.INSTANCE?.reciveLocation(locationResult.lastLocation!!)\n                }\n\n            }\n        }\n    }\n\n    companion object {\n        const val ACTION_PROCESS_UPDATES =\n            &quot;action.&quot; +\n                    &quot;PROCESS_UPDATES&quot;\n    }\n\n    interface UpdatedLocation{\n        fun onLocationUpdate(location: Location)\n    }\n}\n\nclass ShareLocationToAutomaticWorker(var updateLocation: LocationUpdatesBroadcastReceiver.UpdatedLocation){\n    private  val TAG = &quot;LocationUpdatesBroadcas&quot;\n\n    fun reciveLocation( location:Location){\n        Log.e(TAG, &quot;reciveLocation:--- ${location} &quot; )\n        updateLocation.onLocationUpdate(location)\n    }\n\n\n    companion object {\n        var INSTANCE: ShareLocationToAutomaticWorker? = null\n\n        fun getInstance(updateLocation: LocationUpdatesBroadcastReceiver.UpdatedLocation): ShareLocationToAutomaticWorker {\n            return INSTANCE ?: synchronized(this) {\n                INSTANCE ?: ShareLocationToAutomaticWorker(\n                    updateLocation )\n                    .also { INSTANCE = it }\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","hibernate","gwt","jboss"],"comments":[{"owner":{"account_id":68965,"reputation":3142,"user_id":200924,"accept_rate":74,"display_name":"Timmo"},"score":1,"creation_date":1297256133,"post_id":4945057,"comment_id":5514694,"body_markdown":"Can u provide full stack trace?","body":"Can u provide full stack trace?"},{"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"score":0,"creation_date":1297256148,"post_id":4945057,"comment_id":5514698,"body_markdown":"java.lang.reflect.InvocationTargetException is a generic exception, which can have many causes. Please post a full stack trace, without it it&#39;s unlikely we&#39;ll be able to help.","body":"java.lang.reflect.InvocationTargetException is a generic exception, which can have many causes. Please post a full stack trace, without it it&#39;s unlikely we&#39;ll be able to help."},{"owner":{"account_id":40784,"reputation":7745,"user_id":118268,"accept_rate":84,"display_name":"KevinS"},"score":0,"creation_date":1297256224,"post_id":4945057,"comment_id":5514715,"body_markdown":"Can you post the stack trace? There is usually a root cause in the trace.","body":"Can you post the stack trace? There is usually a root cause in the trace."},{"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"score":0,"creation_date":1297256228,"post_id":4945057,"comment_id":5514717,"body_markdown":"`InvocationTargetException` is thrown whenever a method or constructor invoked via reflection throws an exception. You need to get the cause of the `InvocationTargetException` to see why your call failed.","body":"<code>InvocationTargetException</code> is thrown whenever a method or constructor invoked via reflection throws an exception. You need to get the cause of the <code>InvocationTargetException</code> to see why your call failed."},{"owner":{"account_id":73935,"reputation":1879,"user_id":212678,"accept_rate":92,"display_name":"Ashfak Balooch"},"score":0,"creation_date":1297257001,"post_id":4945057,"comment_id":5514919,"body_markdown":"I have include stacktrace. Please help,","body":"I have include stacktrace. Please help,"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1297257163,"post_id":4945057,"comment_id":5514965,"body_markdown":"You have a `NullPointerException` in `DocumentAction.saveDocument()` at line 161. Something on that line de-references a `null` reference. Fix that!","body":"You have a <code>NullPointerException</code> in <code>DocumentAction.saveDocument()</code> at line 161. Something on that line de-references a <code>null</code> reference. Fix that!"}],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1297256123,"creation_date":1297256123,"answer_id":4945123,"question_id":4945057,"body_markdown":"[`InvocationTargetException`][1] doesn&#39;t in any way automatically imply two different classes with the same name in two different packages (in fact, I&#39;ve got a hard time imagining how that situation could lead to that exception).\r\n\r\nAn `InvocationTargetException` is simply the result when a method invoked through reflection throws an exception on its own.\r\n\r\nDo you have access to the stack trace? It should print both the location of the reflection call (near the top) and the actual exception thrown by the invoked code (near the bottom).\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/lang/reflect/InvocationTargetException.html","title":"threw an unexpected exception: java.lang.reflect.InvocationTargetException","body":"<p><a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/reflect/InvocationTargetException.html\" rel=\"nofollow\"><code>InvocationTargetException</code></a> doesn't in any way automatically imply two different classes with the same name in two different packages (in fact, I've got a hard time imagining how that situation could lead to that exception).</p>\n\n<p>An <code>InvocationTargetException</code> is simply the result when a method invoked through reflection throws an exception on its own.</p>\n\n<p>Do you have access to the stack trace? It should print both the location of the reflection call (near the top) and the actual exception thrown by the invoked code (near the bottom).</p>\n"},{"tags":[],"owner":{"account_id":300096,"reputation":4173,"user_id":607050,"display_name":"BobV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1297257934,"creation_date":1297257934,"answer_id":4945462,"question_id":4945057,"body_markdown":"The last bit of the stack trace looks relevant here:\r\n\r\n    Caused by: java.lang.NullPointerException\r\n    at com.proj.server.actions.configuration.DocumentAction.saveDocument(DocumentAction.java:161)\r\n\r\nThe exception that you&#39;re describing usually manifests as an `IncompatibleClassChangeError` or even more strangely as `Foo.class != Foo.class`when multiple ClassLoaders are involved.","title":"threw an unexpected exception: java.lang.reflect.InvocationTargetException","body":"<p>The last bit of the stack trace looks relevant here:</p>\n\n<pre><code>Caused by: java.lang.NullPointerException\nat com.proj.server.actions.configuration.DocumentAction.saveDocument(DocumentAction.java:161)\n</code></pre>\n\n<p>The exception that you're describing usually manifests as an <code>IncompatibleClassChangeError</code> or even more strangely as <code>Foo.class != Foo.class</code>when multiple ClassLoaders are involved.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1297258088,"creation_date":1297258088,"answer_id":4945488,"question_id":4945057,"body_markdown":"As @Joachim&#39;s answer says, `InvocationTargetException` is thrown when a method that is called using `Method.invoke(...)` throws a checked exception.  The actual exception is wrapped in an `InvocationTargetException` which is then thrown.\r\n\r\nIn this particular case, the stacktrace tells us that original exception was a `NullPointerException` thrown at &quot;DocumentAction.java:161&quot;.  Track down and fix the cause of that exception.\r\n\r\n-------------------------\r\n\r\nI don&#39;t see any evidence that this has anything to do with different versions of some class.  I&#39;d treat it as a normal NPE to start with, and try to figure where the `null` is coming from.","title":"threw an unexpected exception: java.lang.reflect.InvocationTargetException","body":"<p>As @Joachim's answer says, <code>InvocationTargetException</code> is thrown when a method that is called using <code>Method.invoke(...)</code> throws a checked exception.  The actual exception is wrapped in an <code>InvocationTargetException</code> which is then thrown.</p>\n\n<p>In this particular case, the stacktrace tells us that original exception was a <code>NullPointerException</code> thrown at \"DocumentAction.java:161\".  Track down and fix the cause of that exception.</p>\n\n<hr>\n\n<p>I don't see any evidence that this has anything to do with different versions of some class.  I'd treat it as a normal NPE to start with, and try to figure where the <code>null</code> is coming from.</p>\n"},{"tags":[],"owner":{"account_id":269597,"reputation":14829,"user_id":559026,"accept_rate":93,"display_name":"Hardik Mishra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1301315201,"creation_date":1301315201,"answer_id":5458952,"question_id":4945057,"body_markdown":"Try to deploy the code on `jboss-5.0.0.GA`\r\n\r\nHope it helps","title":"threw an unexpected exception: java.lang.reflect.InvocationTargetException","body":"<p>Try to deploy the code on <code>jboss-5.0.0.GA</code></p>\n\n<p>Hope it helps</p>\n"},{"tags":[],"owner":{"account_id":9260360,"reputation":1,"user_id":6877675,"display_name":"user6877675"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676892468,"creation_date":1676526612,"answer_id":75468318,"question_id":4945057,"body_markdown":"I removed Bundle-Activator from plug-in, and it solved the problem.\r\n\r\n```\r\nBundle-Activator: exploitation.presentation.ExploitationEditorPlugin$Implementation\r\n```\r\n","title":"threw an unexpected exception: java.lang.reflect.InvocationTargetException","body":"<p>I removed Bundle-Activator from plug-in, and it solved the problem.</p>\n<pre><code>Bundle-Activator: exploitation.presentation.ExploitationEditorPlugin$Implementation\n</code></pre>\n"}],"owner":{"account_id":73935,"reputation":1879,"user_id":212678,"accept_rate":92,"display_name":"Ashfak Balooch"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14224,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":5458952,"answer_count":5,"score":1,"last_activity_date":1676892468,"creation_date":1297255803,"question_id":4945057,"body_markdown":"I am working on GWT-Hibernate application, my application works perfectly on integrated GWT environment and even on external server tomcat. I need to deploy my application on JBoss V 6.0. I am able to successfully deploy my application on JBoss and able to run until on point of execution. At particular button click application threw an unexpected exception: `java.lang.reflect.InvocationTargetException`\r\n\r\nNormally &quot;java.lang.reflect.InvocationTargetException&quot; occurs when java compiler finds 2 different classes with same name in 2 different packages. when you are importing both classes at a time and when you are trying to create object of that class it throws &quot;`java.lang.reflect.InvocationTargetException`&quot; exception. \r\n\r\nNow I am not able to figure out where compiler is finds my two different class! Is there any method available so that I can know the exact location (i.e Physical path) where it finds the two different path, So that I can remove the bad one.\r\n\r\nAny help would be appreciated.\r\n\r\nThanking You,\r\n\r\nRegards,\r\n\r\nEDIT : \r\n\r\n    ERROR [org.apache.catalina.core.ContainerBase.[jboss.web].[localhost].[/myProj]] (http-127.0.0.1-8080-4) Exception while dispatching incoming RPC call: com.google.gwt.user.server.rpc.UnexpectedException: Service method &#39;public com.proj.client.beans.domain.common.transaction.Document com.proj.server.actions.configuration.DocumentAction.saveDocument(com.proj.client.beans.domain.common.transaction.Document,java.lang.Long)&#39; threw an unexpected exception: java.lang.reflect.InvocationTargetException\r\n    \tat com.google.gwt.user.server.rpc.RPC.encodeResponseForFailure(RPC.java:378) [:]\r\n    \tat com.google.gwt.user.server.rpc.RPC.encodeResponseForFailure(RPC.java:361) [:]\r\n    \tat com.google.gwt.user.server.rpc.RPC.encodeResponseForFailure(RPC.java:329) [:]\r\n    \tat com.googlcode.strut2gwtplugin.interceptor.GWTServlet.processCall(GWTServlet.java:138) [:]\r\n    \tat com.google.gwt.user.server.rpc.RemoteServiceServlet.processPost(RemoteServiceServlet.java:224) [:]\r\n    \tat com.google.gwt.user.server.rpc.AbstractRemoteServiceServlet.doPost(AbstractRemoteServiceServlet.java:62) [:]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:754) [:1.0.0.Final]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:847) [:1.0.0.Final]\r\n    \tat com.googlcode.strut2gwtplugin.interceptor.GWTInterceptor.intercept(GWTInterceptor.java:49) [:]\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224) [:]\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223) [:]\r\n    \tat com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455) [:]\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221) [:]\r\n    \tat com.proj.server.LoginInterceptor.intercept(LoginInterceptor.java:37) [:]\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224) [:]\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223) [:]\r\n    \tat com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455) [:]\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221) [:]\r\n    \tat org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:50) [:]\r\n    \tat org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:504) [:]\r\n    \tat org.apache.struts2.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:422) [:]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:274) [:6.0.0.Final]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:242) [:6.0.0.Final]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:275) [:6.0.0.Final]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191) [:6.0.0.Final]\r\n    \tat org.jboss.web.tomcat.security.SecurityAssociationValve.invoke(SecurityAssociationValve.java:181) [:6.0.0.Final]\r\n    \tat org.jboss.modcluster.catalina.CatalinaContext$RequestListenerValve.event(CatalinaContext.java:285) [:1.1.0.Final]\r\n    \tat org.jboss.modcluster.catalina.CatalinaContext$RequestListenerValve.invoke(CatalinaContext.java:261) [:1.1.0.Final]\r\n    \tat org.jboss.web.tomcat.security.JaccContextValve.invoke(JaccContextValve.java:88) [:6.0.0.Final]\r\n    \tat org.jboss.web.tomcat.security.SecurityContextEstablishmentValve.invoke(SecurityContextEstablishmentValve.java:100) [:6.0.0.Final]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127) [:6.0.0.Final]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102) [:6.0.0.Final]\r\n    \tat org.jboss.web.tomcat.service.jca.CachedConnectionValve.invoke(CachedConnectionValve.java:158) [:6.0.0.Final]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109) [:6.0.0.Final]\r\n    \tat org.jboss.web.tomcat.service.request.ActiveRequestResponseCacheValve.invoke(ActiveRequestResponseCacheValve.java:53) [:6.0.0.Final]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:362) [:6.0.0.Final]\r\n    \tat org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:877) [:6.0.0.Final]\r\n    \tat org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:654) [:6.0.0.Final]\r\n    \tat org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:951) [:6.0.0.Final]\r\n    \tat java.lang.Thread.run(Thread.java:662) [:1.6.0_23]\r\n    Caused by: java.lang.reflect.InvocationTargetException\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [:1.6.0_23]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) [:1.6.0_23]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) [:1.6.0_23]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:597) [:1.6.0_23]\r\n    \tat com.googlcode.strut2gwtplugin.interceptor.GWTServlet.processCall(GWTServlet.java:127) [:]\r\n    \t... 36 more\r\n    Caused by: java.lang.NullPointerException\r\n    \tat com.proj.server.actions.configuration.DocumentAction.saveDocument(DocumentAction.java:161) [:]\r\n    \t... 41 more\r\n\r\n","title":"threw an unexpected exception: java.lang.reflect.InvocationTargetException","body":"<p>I am working on GWT-Hibernate application, my application works perfectly on integrated GWT environment and even on external server tomcat. I need to deploy my application on JBoss V 6.0. I am able to successfully deploy my application on JBoss and able to run until on point of execution. At particular button click application threw an unexpected exception: <code>java.lang.reflect.InvocationTargetException</code></p>\n\n<p>Normally \"java.lang.reflect.InvocationTargetException\" occurs when java compiler finds 2 different classes with same name in 2 different packages. when you are importing both classes at a time and when you are trying to create object of that class it throws \"<code>java.lang.reflect.InvocationTargetException</code>\" exception. </p>\n\n<p>Now I am not able to figure out where compiler is finds my two different class! Is there any method available so that I can know the exact location (i.e Physical path) where it finds the two different path, So that I can remove the bad one.</p>\n\n<p>Any help would be appreciated.</p>\n\n<p>Thanking You,</p>\n\n<p>Regards,</p>\n\n<p>EDIT : </p>\n\n<pre><code>ERROR [org.apache.catalina.core.ContainerBase.[jboss.web].[localhost].[/myProj]] (http-127.0.0.1-8080-4) Exception while dispatching incoming RPC call: com.google.gwt.user.server.rpc.UnexpectedException: Service method 'public com.proj.client.beans.domain.common.transaction.Document com.proj.server.actions.configuration.DocumentAction.saveDocument(com.proj.client.beans.domain.common.transaction.Document,java.lang.Long)' threw an unexpected exception: java.lang.reflect.InvocationTargetException\n    at com.google.gwt.user.server.rpc.RPC.encodeResponseForFailure(RPC.java:378) [:]\n    at com.google.gwt.user.server.rpc.RPC.encodeResponseForFailure(RPC.java:361) [:]\n    at com.google.gwt.user.server.rpc.RPC.encodeResponseForFailure(RPC.java:329) [:]\n    at com.googlcode.strut2gwtplugin.interceptor.GWTServlet.processCall(GWTServlet.java:138) [:]\n    at com.google.gwt.user.server.rpc.RemoteServiceServlet.processPost(RemoteServiceServlet.java:224) [:]\n    at com.google.gwt.user.server.rpc.AbstractRemoteServiceServlet.doPost(AbstractRemoteServiceServlet.java:62) [:]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:754) [:1.0.0.Final]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:847) [:1.0.0.Final]\n    at com.googlcode.strut2gwtplugin.interceptor.GWTInterceptor.intercept(GWTInterceptor.java:49) [:]\n    at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224) [:]\n    at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223) [:]\n    at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455) [:]\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221) [:]\n    at com.proj.server.LoginInterceptor.intercept(LoginInterceptor.java:37) [:]\n    at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224) [:]\n    at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223) [:]\n    at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455) [:]\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221) [:]\n    at org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:50) [:]\n    at org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:504) [:]\n    at org.apache.struts2.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:422) [:]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:274) [:6.0.0.Final]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:242) [:6.0.0.Final]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:275) [:6.0.0.Final]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191) [:6.0.0.Final]\n    at org.jboss.web.tomcat.security.SecurityAssociationValve.invoke(SecurityAssociationValve.java:181) [:6.0.0.Final]\n    at org.jboss.modcluster.catalina.CatalinaContext$RequestListenerValve.event(CatalinaContext.java:285) [:1.1.0.Final]\n    at org.jboss.modcluster.catalina.CatalinaContext$RequestListenerValve.invoke(CatalinaContext.java:261) [:1.1.0.Final]\n    at org.jboss.web.tomcat.security.JaccContextValve.invoke(JaccContextValve.java:88) [:6.0.0.Final]\n    at org.jboss.web.tomcat.security.SecurityContextEstablishmentValve.invoke(SecurityContextEstablishmentValve.java:100) [:6.0.0.Final]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127) [:6.0.0.Final]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102) [:6.0.0.Final]\n    at org.jboss.web.tomcat.service.jca.CachedConnectionValve.invoke(CachedConnectionValve.java:158) [:6.0.0.Final]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109) [:6.0.0.Final]\n    at org.jboss.web.tomcat.service.request.ActiveRequestResponseCacheValve.invoke(ActiveRequestResponseCacheValve.java:53) [:6.0.0.Final]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:362) [:6.0.0.Final]\n    at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:877) [:6.0.0.Final]\n    at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:654) [:6.0.0.Final]\n    at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:951) [:6.0.0.Final]\n    at java.lang.Thread.run(Thread.java:662) [:1.6.0_23]\nCaused by: java.lang.reflect.InvocationTargetException\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [:1.6.0_23]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) [:1.6.0_23]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) [:1.6.0_23]\n    at java.lang.reflect.Method.invoke(Method.java:597) [:1.6.0_23]\n    at com.googlcode.strut2gwtplugin.interceptor.GWTServlet.processCall(GWTServlet.java:127) [:]\n    ... 36 more\nCaused by: java.lang.NullPointerException\n    at com.proj.server.actions.configuration.DocumentAction.saveDocument(DocumentAction.java:161) [:]\n    ... 41 more\n</code></pre>\n"},{"tags":["java","spring","hibernate","maven"],"comments":[{"owner":{"account_id":2270349,"reputation":1219,"user_id":1997949,"accept_rate":83,"display_name":"Michael"},"score":0,"creation_date":1384811042,"post_id":20058386,"comment_id":29877735,"body_markdown":"Are you building with maven in Eclipse?","body":"Are you building with maven in Eclipse?"},{"owner":{"account_id":2270349,"reputation":1219,"user_id":1997949,"accept_rate":83,"display_name":"Michael"},"score":0,"creation_date":1384811534,"post_id":20058386,"comment_id":29877991,"body_markdown":"If this is the case, I don&#39;t see a reason for you to download Jars. Maven takes care for that for you.","body":"If this is the case, I don&#39;t see a reason for you to download Jars. Maven takes care for that for you."},{"owner":{"account_id":2270349,"reputation":1219,"user_id":1997949,"accept_rate":83,"display_name":"Michael"},"score":0,"creation_date":1384812007,"post_id":20058386,"comment_id":29878257,"body_markdown":"What version of Eclipse are you using?","body":"What version of Eclipse are you using?"},{"owner":{"account_id":4198810,"reputation":570,"user_id":3439504,"display_name":"BoatCode"},"score":1,"creation_date":1400187425,"post_id":20058386,"comment_id":36397183,"body_markdown":"I just had a similar problem (hibernate 3.3.2.GA, not the entitymanager) and noticed mvnrepository.com lists the binary file as being 0bytes... which would explain why it seems to be missing from my project.","body":"I just had a similar problem (hibernate 3.3.2.GA, not the entitymanager) and noticed mvnrepository.com lists the binary file as being 0bytes... which would explain why it seems to be missing from my project."}],"answers":[{"tags":[],"owner":{"account_id":369969,"reputation":21500,"user_id":717630,"display_name":"grepit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1384810972,"creation_date":1384810972,"answer_id":20058552,"question_id":20058386,"body_markdown":"You may have downloaded the hibernate as you described but it may have been the incorrect version. Anyways, make sure you change  pom.xml file, where you are defining hibernate-entitymanager to look like below lines. (because that&#39;s the exact version it will look for)\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n    \t&lt;version&gt;3.3.2.GA&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"artifact missing: org.hibernate:hibernate-entitymanager:jar:3.3.2.ga","body":"<p>You may have downloaded the hibernate as you described but it may have been the incorrect version. Anyways, make sure you change  pom.xml file, where you are defining hibernate-entitymanager to look like below lines. (because that's the exact version it will look for)</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n    &lt;version&gt;3.3.2.GA&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":104911,"reputation":119202,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1676892214,"creation_date":1384811045,"answer_id":20058576,"question_id":20058386,"body_markdown":"Maven will download the required jars form the maven central repository automatically.\r\n\r\nBut I have not found `org.hibernate:hibernate-entitymanager:jar:3.3.2.ga` at [maven central][1] but instead one with Version `3.3.2.GA` with upper case GA! :\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n      &lt;version&gt;3.3.2.GA&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n---\r\n\r\nOn windows you while have an other problem (because the windows file system does not distinguish between upper case and lower case file names): You will need to delete a directory:\r\n\r\n    %USERPROFILE%\\.m2\\repository\\org\\hibernate\\hibernate-entitymanager\\3.3.2.ga\\\r\n\r\ndelete this directory and the try again eclipse update maven dependencies.\r\n\r\n  [1]: http://search.maven.org/","title":"artifact missing: org.hibernate:hibernate-entitymanager:jar:3.3.2.ga","body":"<p>Maven will download the required jars form the maven central repository automatically.</p>\n<p>But I have not found <code>org.hibernate:hibernate-entitymanager:jar:3.3.2.ga</code> at <a href=\"http://search.maven.org/\" rel=\"nofollow noreferrer\">maven central</a> but instead one with Version <code>3.3.2.GA</code> with upper case GA! :</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n  &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n  &lt;version&gt;3.3.2.GA&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<hr />\n<p>On windows you while have an other problem (because the windows file system does not distinguish between upper case and lower case file names): You will need to delete a directory:</p>\n<pre><code>%USERPROFILE%\\.m2\\repository\\org\\hibernate\\hibernate-entitymanager\\3.3.2.ga\\\n</code></pre>\n<p>delete this directory and the try again eclipse update maven dependencies.</p>\n"},{"tags":[],"owner":{"account_id":2270349,"reputation":1219,"user_id":1997949,"accept_rate":83,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1384813998,"creation_date":1384812625,"answer_id":20059018,"question_id":20058386,"body_markdown":"You need to set the default builder in your project to be maven.\r\n\r\nTo do so, right click on your project and select `Properties` (or select the project and press the alt+enter keys on your keyboard)\r\n\r\nIn the dialog, on the left, select `Builders`.\r\n\r\nOn the right, select the `Maven Project Builder`, and using the `Up` button on the right advance it to the top of the list.\r\n\r\nClick `Ok` and you are done.\r\n\r\n**EDIT:**\r\n\r\nTo fix the issue that you&#39;ve described, you&#39;ll need to go to the root folder of your application. Find the following two files: `.project` and `.classpath`\r\n\r\nYou will need to edit them, so exit eclipse and back those files up.\r\n\r\nIn `.project`, change the following lines:\r\n\r\n 1. In the build command that relates to maven, change the value of the `name` tag to: org.eclipse.m2e.core.maven2Builder\r\n 2. In `nature`, change it to: org.eclipse.m2e.core.maven2Nature\r\n\r\nIn `.classpath`, change the following lines:\r\n\r\n 1. `&lt;classpathentry kind=&quot;con&quot; path=&quot;org.maven.ide.eclipse.MAVEN2_CLASSPATH_CONTAINER&quot;/&gt;` to `&lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.m2e.MAVEN2_CLASSPATH_CONTAINER&quot;/&gt;`\r\n\r\nHope it helps.\r\n\r\n","title":"artifact missing: org.hibernate:hibernate-entitymanager:jar:3.3.2.ga","body":"<p>You need to set the default builder in your project to be maven.</p>\n\n<p>To do so, right click on your project and select <code>Properties</code> (or select the project and press the alt+enter keys on your keyboard)</p>\n\n<p>In the dialog, on the left, select <code>Builders</code>.</p>\n\n<p>On the right, select the <code>Maven Project Builder</code>, and using the <code>Up</code> button on the right advance it to the top of the list.</p>\n\n<p>Click <code>Ok</code> and you are done.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>To fix the issue that you've described, you'll need to go to the root folder of your application. Find the following two files: <code>.project</code> and <code>.classpath</code></p>\n\n<p>You will need to edit them, so exit eclipse and back those files up.</p>\n\n<p>In <code>.project</code>, change the following lines:</p>\n\n<ol>\n<li>In the build command that relates to maven, change the value of the <code>name</code> tag to: org.eclipse.m2e.core.maven2Builder</li>\n<li>In <code>nature</code>, change it to: org.eclipse.m2e.core.maven2Nature</li>\n</ol>\n\n<p>In <code>.classpath</code>, change the following lines:</p>\n\n<ol>\n<li><code>&lt;classpathentry kind=\"con\" path=\"org.maven.ide.eclipse.MAVEN2_CLASSPATH_CONTAINER\"/&gt;</code> to <code>&lt;classpathentry kind=\"con\" path=\"org.eclipse.m2e.MAVEN2_CLASSPATH_CONTAINER\"/&gt;</code></li>\n</ol>\n\n<p>Hope it helps.</p>\n"}],"owner":{"account_id":426537,"reputation":9134,"user_id":807797,"accept_rate":72,"display_name":"CodeMed"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12902,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1676892214,"creation_date":1384810374,"question_id":20058386,"body_markdown":"I am relatively new to Spring and maven, and am just revisiting both of them for the first time in a couple months.  I am encountering the following error in pom.xml when I try to run code from &lt;a href=&quot;http://viralpatel.net/blogs/tutorial-save-get-blob-object-spring-3-mvc-hibernate/&quot;&gt; this tutorial&lt;/a&gt;:  \r\n  \r\n    Missing artifact: org.hibernate:hibernate-entitymanager:jar:3.3.2.ga  \r\n  \r\nDoes this mean that I have to download and install an additional jar?  I am pretty sure that I downloaded hibernate with spring, and this is supported by the fact that the spring pet clinic sample application runs fine on my system when launched from eclipse on tomcat server.  \r\n  \r\nI have done google searches for this error message, and have tried many of the suggestions, but they have not fixed the problem on my machine. How can I get past this error message?  \r\n  \r\n---------------------------------------------------------------------------------------------  \r\nEDIT/ANSWER?  \r\n---------------------------------------------------------------------------------------------  \r\n  \r\nI dug into the directory structure of the project, and found another copy of pom.xml which did not throw the error.  It actually used the syntax 3.3.2.ga, so I do not think that case was the problem.  The new pom.xml file was located deep in the target/m2e-wtp/web-resources/META-INF/Maven/MavenWeb/MavenWeb/ subdirectory.  When I moved this new pom.xml to the root directory, the error message went away, even though the syntax of the &lt;dependency&gt;&lt;/dependency&gt; node was still:  \r\n  \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n        &lt;version&gt;3.3.2.ga&lt;/version&gt;\r\n    &lt;/dependency&gt;  \r\n  \r\nFor the moment, this question is answered, at least until I try to run it later.  Let me think about how to give credit for the work people did on this while still leaving the answer clear to people who find this on the search engines.  ","title":"artifact missing: org.hibernate:hibernate-entitymanager:jar:3.3.2.ga","body":"<p>I am relatively new to Spring and maven, and am just revisiting both of them for the first time in a couple months.  I am encountering the following error in pom.xml when I try to run code from <a href=\"http://viralpatel.net/blogs/tutorial-save-get-blob-object-spring-3-mvc-hibernate/\" rel=\"noreferrer\"> this tutorial</a>:  </p>\n\n<pre><code>Missing artifact: org.hibernate:hibernate-entitymanager:jar:3.3.2.ga  \n</code></pre>\n\n<p>Does this mean that I have to download and install an additional jar?  I am pretty sure that I downloaded hibernate with spring, and this is supported by the fact that the spring pet clinic sample application runs fine on my system when launched from eclipse on tomcat server.  </p>\n\n<p>I have done google searches for this error message, and have tried many of the suggestions, but they have not fixed the problem on my machine. How can I get past this error message?  </p>\n\n<hr>\n\n<h2>EDIT/ANSWER?</h2>\n\n<p>I dug into the directory structure of the project, and found another copy of pom.xml which did not throw the error.  It actually used the syntax 3.3.2.ga, so I do not think that case was the problem.  The new pom.xml file was located deep in the target/m2e-wtp/web-resources/META-INF/Maven/MavenWeb/MavenWeb/ subdirectory.  When I moved this new pom.xml to the root directory, the error message went away, even though the syntax of the  node was still:  </p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n    &lt;version&gt;3.3.2.ga&lt;/version&gt;\n&lt;/dependency&gt;  \n</code></pre>\n\n<p>For the moment, this question is answered, at least until I try to run it later.  Let me think about how to give credit for the work people did on this while still leaving the answer clear to people who find this on the search engines.  </p>\n"},{"tags":["java","python","repr"],"answers":[{"tags":[],"owner":{"account_id":22779,"reputation":129011,"user_id":56541,"accept_rate":81,"display_name":"David Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1251519786,"creation_date":1251519786,"answer_id":1350443,"question_id":1350397,"body_markdown":"If you&#39;re only going to be using this on strings, in a pinch you could just write a method that goes through the string and replaces special characters (for whatever definition of &quot;special&quot; you want) with their escape codes. That&#39;s what I would do. (I did a quick search and nothing came up on Google, so it might be faster to just write the method than to hunt for an existing implementation)","title":"Java equivalent of Python repr()?","body":"<p>If you're only going to be using this on strings, in a pinch you could just write a method that goes through the string and replaces special characters (for whatever definition of \"special\" you want) with their escape codes. That's what I would do. (I did a quick search and nothing came up on Google, so it might be faster to just write the method than to hunt for an existing implementation)</p>\n"},{"tags":[],"owner":{"account_id":30387,"reputation":62460,"user_id":82865,"accept_rate":71,"display_name":"Jonathan Holloway"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1251522653,"creation_date":1251522653,"answer_id":1350529,"question_id":1350397,"body_markdown":"This will do it, but it&#39;s a bit of a hack, it uses [StringUtils][1] and **replaceEach** from Common Lang to achieve a simple replace:\r\n\r\n    String hello = &quot;hello\\n\\tworld\\n\\n\\t&quot;;       \r\n            String replaced = StringUtils.replaceEach(hello, new String[] {&quot;\\n&quot;, &quot;\\t&quot;, &quot;\\r&quot;, &quot;\\f&quot;}, \r\n            \t\t                                         new String[] {&quot;\\\\n&quot;, &quot;\\\\t&quot;, &quot;\\\\r&quot;, &quot;\\\\f&quot;});\r\n            System.out.println(&quot;Replaced &quot; + replaced);\r\n\r\n\r\n  [1]: http://commons.apache.org/lang/api-2.4/org/apache/commons/lang/StringUtils.html","title":"Java equivalent of Python repr()?","body":"<p>This will do it, but it's a bit of a hack, it uses <a href=\"http://commons.apache.org/lang/api-2.4/org/apache/commons/lang/StringUtils.html\" rel=\"nofollow noreferrer\">StringUtils</a> and <strong>replaceEach</strong> from Common Lang to achieve a simple replace:</p>\n\n<pre><code>String hello = \"hello\\n\\tworld\\n\\n\\t\";       \n        String replaced = StringUtils.replaceEach(hello, new String[] {\"\\n\", \"\\t\", \"\\r\", \"\\f\"}, \n                                                         new String[] {\"\\\\n\", \"\\\\t\", \"\\\\r\", \"\\\\f\"});\n        System.out.println(\"Replaced \" + replaced);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":31622,"reputation":120341,"user_id":86989,"display_name":"newacct"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1251533210,"creation_date":1251533210,"answer_id":1350820,"question_id":1350397,"body_markdown":"If there were such a method, it would make writing quines in Java really easy, because it would solve the problem of escaping the quotes. Seeing as the simplest quines in Java all require manually inserting the quote character manually with its character code, it is unlikely that such a method exists.","title":"Java equivalent of Python repr()?","body":"<p>If there were such a method, it would make writing quines in Java really easy, because it would solve the problem of escaping the quotes. Seeing as the simplest quines in Java all require manually inserting the quote character manually with its character code, it is unlikely that such a method exists.</p>\n"},{"tags":[],"owner":{"account_id":45949,"reputation":1954,"user_id":135644,"accept_rate":100,"display_name":"Nico"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1251546100,"creation_date":1251546100,"answer_id":1351230,"question_id":1350397,"body_markdown":"don&#39;t think there&#39;s a specific method -- but this&#39;ll solve it without commons lang:\r\n\r\n    \r\n    public class test {\r\n\r\n    public test() throws Exception {\r\n        byte[] hello = &quot;hello\\n\\tworld\\n\\n\\t&quot;.getBytes();\r\n        System.out.println(new String(hexToByte(stringToHex(hello).replaceAll(&quot;0a&quot;, &quot;5c6e&quot;)\r\n                                                                  .replaceAll(&quot;09&quot;, &quot;5c74&quot;))));\r\n    }\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        new test();\r\n    }\r\n\r\n    public static String stringToHex(byte[] b) throws Exception {\r\n        String result = &quot;&quot;;\r\n        for (int i = 0; i &lt; b.length; i++) {\r\n            result += Integer.toString((b[i] &amp; 0xff) + 0x100, 16).substring(1);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    public static byte[] hexToByte(String s) {\r\n        int len = s.length();\r\n        byte[] data = new byte[len / 2];\r\n        for (int i = 0; i &lt; len; i += 2) {\r\n            data[i / 2] = (byte) ((Character.digit(s.charAt(i), 16) &lt;&lt; 4) + Character.digit(s.charAt(i + 1), 16));\r\n        }\r\n        return data;\r\n    }\r\n}","title":"Java equivalent of Python repr()?","body":"<p>don't think there's a specific method -- but this'll solve it without commons lang:</p>\n\n<pre><code>public class test {\n\npublic test() throws Exception {\n    byte[] hello = \"hello\\n\\tworld\\n\\n\\t\".getBytes();\n    System.out.println(new String(hexToByte(stringToHex(hello).replaceAll(\"0a\", \"5c6e\")\n                                                              .replaceAll(\"09\", \"5c74\"))));\n}\n\npublic static void main(String[] args) throws Exception {\n    new test();\n}\n\npublic static String stringToHex(byte[] b) throws Exception {\n    String result = \"\";\n    for (int i = 0; i &lt; b.length; i++) {\n        result += Integer.toString((b[i] &amp; 0xff) + 0x100, 16).substring(1);\n    }\n    return result;\n}\n\npublic static byte[] hexToByte(String s) {\n    int len = s.length();\n    byte[] data = new byte[len / 2];\n    for (int i = 0; i &lt; len; i += 2) {\n        data[i / 2] = (byte) ((Character.digit(s.charAt(i), 16) &lt;&lt; 4) + Character.digit(s.charAt(i + 1), 16));\n    }\n    return data;\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":47598,"reputation":30707,"user_id":141081,"display_name":"Dirk"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1251568170,"creation_date":1251568170,"answer_id":1351973,"question_id":1350397,"body_markdown":"In some projects, I use the following helper function to accomplish something akin to Python&#39;s *repr* for strings:\r\n\r\n    private static final char CONTROL_LIMIT = &#39; &#39;;\r\n    private static final char PRINTABLE_LIMIT = &#39;\\u007e&#39;;\r\n    private static final char[] HEX_DIGITS = new char[] { &#39;0&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39;, &#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;, &#39;f&#39; };\r\n\r\n    public static String toPrintableRepresentation(String source) {\r\n        \r\n        if( source == null ) return null;\r\n        else {\r\n            \r\n            final StringBuilder sb = new StringBuilder();\r\n            final int limit = source.length();\r\n            char[] hexbuf = null;\r\n            \r\n            int pointer = 0;\r\n            \r\n            sb.append(&#39;&quot;&#39;);\r\n            \r\n            while( pointer &lt; limit ) {\r\n                \r\n                int ch = source.charAt(pointer++);\r\n                \r\n                switch( ch ) {\r\n                \r\n                case &#39;\\0&#39;: sb.append(&quot;\\\\0&quot;); break;\r\n                case &#39;\\t&#39;: sb.append(&quot;\\\\t&quot;); break;\r\n                case &#39;\\n&#39;: sb.append(&quot;\\\\n&quot;); break;\r\n                case &#39;\\r&#39;: sb.append(&quot;\\\\r&quot;); break;\r\n                case &#39;\\&quot;&#39;: sb.append(&quot;\\\\\\&quot;&quot;); break;\r\n                case &#39;\\\\&#39;: sb.append(&quot;\\\\\\\\&quot;); break;\r\n                \r\n                default:\r\n                    if( CONTROL_LIMIT &lt;= ch &amp;&amp; ch &lt;= PRINTABLE_LIMIT ) sb.append((char)ch);\r\n                    else {\r\n                        \r\n                        sb.append(&quot;\\\\u&quot;);\r\n                        \r\n                        if( hexbuf == null ) \r\n                            hexbuf = new char[4];\r\n                        \r\n                        for( int offs = 4; offs &gt; 0; ) {\r\n                         \r\n                            hexbuf[--offs] = HEX_DIGITS[ch &amp; 0xf];\r\n                            ch &gt;&gt;&gt;= 4; \r\n                        }\r\n                        \r\n                        sb.append(hexbuf, 0, 4);\r\n                    }\r\n                }\r\n            }\r\n            \r\n            return sb.append(&#39;&quot;&#39;).toString();\r\n        }\r\n    }\r\n\r\nIts main advantage over many of the other solutions given here is, that it does not filter only a limited set of non-printable characters (like those *replace*-based solutions), but simply all non-printable ASCII characters. Some of it could have been written slightly nicer, but it actually does its job...\r\n\r\nNote, that like the Python function, this one will surround the string with quotes. If you do not want that, you will have to eliminate the *append(&#39;&quot;&#39;)* calls before and after the *while* loop.","title":"Java equivalent of Python repr()?","body":"<p>In some projects, I use the following helper function to accomplish something akin to Python's <em>repr</em> for strings:</p>\n\n<pre><code>private static final char CONTROL_LIMIT = ' ';\nprivate static final char PRINTABLE_LIMIT = '\\u007e';\nprivate static final char[] HEX_DIGITS = new char[] { '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f' };\n\npublic static String toPrintableRepresentation(String source) {\n\n    if( source == null ) return null;\n    else {\n\n        final StringBuilder sb = new StringBuilder();\n        final int limit = source.length();\n        char[] hexbuf = null;\n\n        int pointer = 0;\n\n        sb.append('\"');\n\n        while( pointer &lt; limit ) {\n\n            int ch = source.charAt(pointer++);\n\n            switch( ch ) {\n\n            case '\\0': sb.append(\"\\\\0\"); break;\n            case '\\t': sb.append(\"\\\\t\"); break;\n            case '\\n': sb.append(\"\\\\n\"); break;\n            case '\\r': sb.append(\"\\\\r\"); break;\n            case '\\\"': sb.append(\"\\\\\\\"\"); break;\n            case '\\\\': sb.append(\"\\\\\\\\\"); break;\n\n            default:\n                if( CONTROL_LIMIT &lt;= ch &amp;&amp; ch &lt;= PRINTABLE_LIMIT ) sb.append((char)ch);\n                else {\n\n                    sb.append(\"\\\\u\");\n\n                    if( hexbuf == null ) \n                        hexbuf = new char[4];\n\n                    for( int offs = 4; offs &gt; 0; ) {\n\n                        hexbuf[--offs] = HEX_DIGITS[ch &amp; 0xf];\n                        ch &gt;&gt;&gt;= 4; \n                    }\n\n                    sb.append(hexbuf, 0, 4);\n                }\n            }\n        }\n\n        return sb.append('\"').toString();\n    }\n}\n</code></pre>\n\n<p>Its main advantage over many of the other solutions given here is, that it does not filter only a limited set of non-printable characters (like those <em>replace</em>-based solutions), but simply all non-printable ASCII characters. Some of it could have been written slightly nicer, but it actually does its job...</p>\n\n<p>Note, that like the Python function, this one will surround the string with quotes. If you do not want that, you will have to eliminate the <em>append('\"')</em> calls before and after the <em>while</em> loop.</p>\n"},{"tags":[],"owner":{"account_id":26832,"reputation":41489,"user_id":70170,"accept_rate":95,"display_name":"Jason R. Coombs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1251580136,"creation_date":1251580136,"answer_id":1352380,"question_id":1350397,"body_markdown":"It appears that Jython already does this. You could, in theory, include the Jython jar, startup an interpreter, and actually run repr(object) on the object in question.  Probably more overhead than you want, but does exactly what you describe.\r\n\r\nIf you want to embed the Jython interpreter in your application, consider http://wiki.python.org/jython/JythonFaq/EmbeddingJython .","title":"Java equivalent of Python repr()?","body":"<p>It appears that Jython already does this. You could, in theory, include the Jython jar, startup an interpreter, and actually run repr(object) on the object in question.  Probably more overhead than you want, but does exactly what you describe.</p>\n\n<p>If you want to embed the Jython interpreter in your application, consider <a href=\"http://wiki.python.org/jython/JythonFaq/EmbeddingJython\" rel=\"nofollow noreferrer\">http://wiki.python.org/jython/JythonFaq/EmbeddingJython</a> .</p>\n"},{"tags":[],"owner":{"account_id":3286109,"reputation":14045,"user_id":2765603,"accept_rate":90,"display_name":"llogiq"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1378826517,"creation_date":1378826517,"answer_id":18722866,"question_id":1350397,"body_markdown":"Java has no repr-Function, but [repr][1] has got you covered (Full disclosure: I am the author of repr).\r\n\r\n\r\n  [1]: http://repr.sf.net","title":"Java equivalent of Python repr()?","body":"<p>Java has no repr-Function, but <a href=\"http://repr.sf.net\" rel=\"noreferrer\">repr</a> has got you covered (Full disclosure: I am the author of repr).</p>\n"},{"tags":[],"owner":{"account_id":94130,"reputation":4483,"user_id":257169,"accept_rate":67,"display_name":"amoe"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1676892023,"creation_date":1401462031,"answer_id":23957629,"question_id":1350397,"body_markdown":"Use the static method [`escapeJava`][1] from the [`StringEscapeUtils`][1] class in [Apache Commons Text][2].\r\n\r\n    String repr = &quot;\\&quot;&quot; + StringEscapeUtils.escapeJava(myString) + &quot;\\&quot;&quot;;\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-text/apidocs/index.html\r\n  [2]: https://commons.apache.org/proper/commons-text/","title":"Java equivalent of Python repr()?","body":"<p>Use the static method <a href=\"https://commons.apache.org/proper/commons-text/apidocs/index.html\" rel=\"nofollow noreferrer\"><code>escapeJava</code></a> from the <a href=\"https://commons.apache.org/proper/commons-text/apidocs/index.html\" rel=\"nofollow noreferrer\"><code>StringEscapeUtils</code></a> class in <a href=\"https://commons.apache.org/proper/commons-text/\" rel=\"nofollow noreferrer\">Apache Commons Text</a>.</p>\n<pre><code>String repr = &quot;\\&quot;&quot; + StringEscapeUtils.escapeJava(myString) + &quot;\\&quot;&quot;;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1098359,"reputation":8264,"user_id":1091453,"display_name":"Cwt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1440838364,"creation_date":1440838364,"answer_id":32284299,"question_id":1350397,"body_markdown":"In case you are using **Groovy**, it provides a similar [`StringEscapeUtils` class][1] as Apache Commons Lang:\r\n\r\n    StringEscapeUtils.escapeJava(&quot;foo\\n\\tbar&quot;)\r\n\r\n\r\n[1]: http://docs.groovy-lang.org/latest/html/api/groovy/json/StringEscapeUtils.html#escapeJava(java.lang.String)","title":"Java equivalent of Python repr()?","body":"<p>In case you are using <strong>Groovy</strong>, it provides a similar <a href=\"http://docs.groovy-lang.org/latest/html/api/groovy/json/StringEscapeUtils.html#escapeJava(java.lang.String)\" rel=\"nofollow\"><code>StringEscapeUtils</code> class</a> as Apache Commons Lang:</p>\n\n<pre><code>StringEscapeUtils.escapeJava(\"foo\\n\\tbar\")\n</code></pre>\n"}],"owner":{"account_id":55119,"reputation":389,"user_id":165039,"display_name":"Ian Dalton"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9392,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"answer_count":9,"score":27,"last_activity_date":1676892023,"creation_date":1251517933,"question_id":1350397,"body_markdown":"Is there a Java method that works like Python&#39;s repr? For example, assuming the function were named repr,\r\n\r\n    &quot;foo\\n\\tbar&quot;.repr()\r\n\r\nwould return\r\n\r\n&lt;pre&gt;&quot;foo\\n\\tbar&quot;&lt;/pre&gt;\r\n\r\nnot\r\n\r\n&lt;pre&gt;foo\r\n        bar&lt;/pre&gt; \r\n\r\nas toString does.","title":"Java equivalent of Python repr()?","body":"<p>Is there a Java method that works like Python's repr? For example, assuming the function were named repr,</p>\n\n<pre><code>\"foo\\n\\tbar\".repr()\n</code></pre>\n\n<p>would return</p>\n\n<pre>\"foo\\n\\tbar\"</pre>\n\n<p>not</p>\n\n<pre>foo\n        bar</pre> \n\n<p>as toString does.</p>\n"},{"tags":["java","python-3.x","pytest","aws-codebuild","allure"],"answers":[{"tags":[],"owner":{"account_id":8036564,"reputation":67,"user_id":6059486,"display_name":"S_G"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676565245,"creation_date":1676565245,"answer_id":75475296,"question_id":75449759,"body_markdown":"Its working fine now. Closing this question. \r\n(Installing allure-pytest-bdd-temp using pip instead of using requirements.txt solved this problem)","title":"Failed to run allure generate command . ERROR :ClassNotFoundException io.qameta.allure-result.CommandLine","body":"<p>Its working fine now. Closing this question.\n(Installing allure-pytest-bdd-temp using pip instead of using requirements.txt solved this problem)</p>\n"}],"owner":{"account_id":8036564,"reputation":67,"user_id":6059486,"display_name":"S_G"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676891993,"creation_date":1676387267,"question_id":75449759,"body_markdown":"I am facing the below error while running the allure generate command for my pytest testsuite.\r\n\r\nError:\r\n======\r\n\r\n&gt; Error: Could not find or load main class io.qameta.allure-result.CommandLine\r\nCaused by: java.lang.ClassNotFoundException: io.qameta.allure-result.CommandLine\r\n\r\n\r\nsetup:\r\n======\r\n&gt;Machine: Amazon linux 2 machine\r\n\r\n&gt;Running command echo $JAVA_HOME \r\n/usr/lib/jvm/java-11-amazon-corretto.x86_64\r\n\r\n`echo $PATH has &#39;/usr/lib/jvm/java-11-amazon-corretto.x86_64/bin&#39;`\r\n\r\nPlease let me know how to correct it. It will be a greate help. Blocked because of this since many days. ","title":"Failed to run allure generate command . ERROR :ClassNotFoundException io.qameta.allure-result.CommandLine","body":"<p>I am facing the below error while running the allure generate command for my pytest testsuite.</p>\n<h1>Error:</h1>\n<blockquote>\n<p>Error: Could not find or load main class io.qameta.allure-result.CommandLine\nCaused by: java.lang.ClassNotFoundException: io.qameta.allure-result.CommandLine</p>\n</blockquote>\n<h1>setup:</h1>\n<blockquote>\n<p>Machine: Amazon linux 2 machine</p>\n</blockquote>\n<blockquote>\n<p>Running command echo $JAVA_HOME\n/usr/lib/jvm/java-11-amazon-corretto.x86_64</p>\n</blockquote>\n<p><code>echo $PATH has '/usr/lib/jvm/java-11-amazon-corretto.x86_64/bin'</code></p>\n<p>Please let me know how to correct it. It will be a greate help. Blocked because of this since many days.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":3747484,"reputation":3573,"user_id":3115822,"display_name":"Borja"},"score":0,"creation_date":1676881870,"post_id":75504756,"comment_id":133219742,"body_markdown":"Please do not post images of code, copy your code into the question with block code format:   https://stackoverflow.com/help/how-to-ask","body":"Please do not post images of code, copy your code into the question with block code format:   <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"},{"owner":{"account_id":27828634,"reputation":1,"user_id":21247499,"display_name":"Hendril Mendes"},"score":0,"creation_date":1676891975,"post_id":75504756,"comment_id":133222497,"body_markdown":"Thanks friend, I made the correction, first time using stackoverflow","body":"Thanks friend, I made the correction, first time using stackoverflow"}],"owner":{"account_id":27828634,"reputation":1,"user_id":21247499,"display_name":"Hendril Mendes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676891924,"creation_date":1676860042,"question_id":75504756,"body_markdown":"I was using traditional searchview, but I decided to use the material searchview (Google), but I am not able to apply the old rule that I used using webview.\r\n\r\n\r\nThis is my code I was using:\r\n\r\n    @SuppressLint(&quot;RestrictedApi&quot;)\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n\r\n        getMenuInflater().inflate(R.menu.main, menu);\r\n        if(menu instanceof MenuBuilder){\r\n\r\n            MenuBuilder menuBuilder = (MenuBuilder) menu;\r\n            menuBuilder.setOptionalIconsVisible(true);\r\n        }\r\n\r\n        MenuItem searchItem = menu.findItem(R.id.search);\r\n        final SearchView searchViewAndroidActionBar = (SearchView) MenuItemCompat.getActionView(searchItem);\r\n        searchViewAndroidActionBar.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\r\n            @Override\r\n            public boolean onQueryTextSubmit(String query) {\r\n                searchViewAndroidActionBar.clearFocus();\r\n\r\n                view.loadUrl(&quot;https://br-androidtech.blogspot.com/search?q=&quot;+query);\r\n                return false;\r\n            }\r\n\r\n            @Override\r\n            public boolean onQueryTextChange(String newText) {\r\n\r\n                return false;\r\n            }\r\n        });\r\n\r\n        return super.onCreateOptionsMenu(menu);\r\n    }\r\n\r\n\r\nThis is the layout scheme:\r\n\r\n    &lt;com.google.android.material.appbar.AppBarLayout\r\n        android:id=&quot;@+id/appBarLayout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:theme=&quot;@style/AppTheme.AppBarOverlay&quot;&gt;\r\n\r\n        &lt;com.google.android.material.appbar.MaterialToolbar\r\n            android:id=&quot;@+id/toolbar&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_gravity=&quot;center_horizontal&quot;\r\n            android:background=&quot;?attr/colorPrimary&quot;\r\n            app:popupTheme=&quot;@style/AppTheme.PopupOverlay&quot;\r\n            app:titleCentered=&quot;true&quot;&gt;\r\n\r\n            &lt;com.google.android.material.search.SearchBar\r\n                android:id=&quot;@+id/searchBar&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:hint=&quot;@string/app_name&quot;\r\n                android:theme=&quot;@style/Platform.MaterialComponents.Light&quot;/&gt;\r\n\r\n        &lt;/com.google.android.material.appbar.MaterialToolbar&gt;\r\n\r\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n\r\n    &lt;com.google.android.material.search.SearchView\r\n        android:id=&quot;@+id/search&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:hint=&quot;@string/search&quot;\r\n        app:layout_anchor=&quot;@id/searchBar&quot;&gt;\r\n    &lt;/com.google.android.material.search.SearchView&gt;\r\n\r\nCan anybody help me?\r\n\r\nSorry for my bad English...","title":"Material SearchView get url query","body":"<p>I was using traditional searchview, but I decided to use the material searchview (Google), but I am not able to apply the old rule that I used using webview.</p>\n<p>This is my code I was using:</p>\n<pre><code>@SuppressLint(&quot;RestrictedApi&quot;)\n@Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n\n    getMenuInflater().inflate(R.menu.main, menu);\n    if(menu instanceof MenuBuilder){\n\n        MenuBuilder menuBuilder = (MenuBuilder) menu;\n        menuBuilder.setOptionalIconsVisible(true);\n    }\n\n    MenuItem searchItem = menu.findItem(R.id.search);\n    final SearchView searchViewAndroidActionBar = (SearchView) MenuItemCompat.getActionView(searchItem);\n    searchViewAndroidActionBar.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\n        @Override\n        public boolean onQueryTextSubmit(String query) {\n            searchViewAndroidActionBar.clearFocus();\n\n            view.loadUrl(&quot;https://br-androidtech.blogspot.com/search?q=&quot;+query);\n            return false;\n        }\n\n        @Override\n        public boolean onQueryTextChange(String newText) {\n\n            return false;\n        }\n    });\n\n    return super.onCreateOptionsMenu(menu);\n}\n</code></pre>\n<p>This is the layout scheme:</p>\n<pre><code>&lt;com.google.android.material.appbar.AppBarLayout\n    android:id=&quot;@+id/appBarLayout&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:theme=&quot;@style/AppTheme.AppBarOverlay&quot;&gt;\n\n    &lt;com.google.android.material.appbar.MaterialToolbar\n        android:id=&quot;@+id/toolbar&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_gravity=&quot;center_horizontal&quot;\n        android:background=&quot;?attr/colorPrimary&quot;\n        app:popupTheme=&quot;@style/AppTheme.PopupOverlay&quot;\n        app:titleCentered=&quot;true&quot;&gt;\n\n        &lt;com.google.android.material.search.SearchBar\n            android:id=&quot;@+id/searchBar&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:hint=&quot;@string/app_name&quot;\n            android:theme=&quot;@style/Platform.MaterialComponents.Light&quot;/&gt;\n\n    &lt;/com.google.android.material.appbar.MaterialToolbar&gt;\n\n&lt;/com.google.android.material.appbar.AppBarLayout&gt;\n\n&lt;com.google.android.material.search.SearchView\n    android:id=&quot;@+id/search&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:hint=&quot;@string/search&quot;\n    app:layout_anchor=&quot;@id/searchBar&quot;&gt;\n&lt;/com.google.android.material.search.SearchView&gt;\n</code></pre>\n<p>Can anybody help me?</p>\n<p>Sorry for my bad English...</p>\n"},{"tags":["java","testing","cucumber","retrofit2","web-api-testing"],"answers":[{"tags":[],"owner":{"account_id":10383571,"reputation":321,"user_id":7657462,"display_name":"Bhoomi Vaghasiya"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1676891830,"creation_date":1587649395,"answer_id":61388749,"question_id":61385824,"body_markdown":"To add bearer token in retrofit, you have to create a class that implements `Interceptor` \r\n\r\n    public class TokenInterceptor implements Interceptor{\r\n\r\n        @Override\r\n        public Response intercept(Chain chain) throws IOException {\r\n       \r\n           //rewrite the request to add bearer token\r\n            Request newRequest=chain.request().newBuilder()\r\n                    .header(&quot;Authorization&quot;,&quot;Bearer &quot;+ yourtokenvalue)\r\n                    .build();\r\n\r\n            return chain.proceed(newRequest);\r\n        }\r\n    }\r\n\r\nNow add your Interceptor class in OKHttpClient object and add that obejct in Retrofit object:\r\n\r\n    TokenInterceptor interceptor=new TokenInterceptor();\r\n\r\n    OkHttpClient client = new OkHttpClient.Builder()\r\n                .addInterceptor(interceptor)\r\n                .build();\r\n    \r\n    Retrofit retrofit = new Retrofit.Builder()\r\n                .client(client)\r\n                .baseUrl(&quot;add your url here&quot;)\r\n                .addConverterFactory(JacksonConverterFactory.create())\r\n                .build();\r\n\r\n","title":"How to add bearer token to retrofit request in Java","body":"<p>To add bearer token in retrofit, you have to create a class that implements <code>Interceptor</code></p>\n<pre><code>public class TokenInterceptor implements Interceptor{\n\n    @Override\n    public Response intercept(Chain chain) throws IOException {\n   \n       //rewrite the request to add bearer token\n        Request newRequest=chain.request().newBuilder()\n                .header(&quot;Authorization&quot;,&quot;Bearer &quot;+ yourtokenvalue)\n                .build();\n\n        return chain.proceed(newRequest);\n    }\n}\n</code></pre>\n<p>Now add your Interceptor class in OKHttpClient object and add that obejct in Retrofit object:</p>\n<pre><code>TokenInterceptor interceptor=new TokenInterceptor();\n\nOkHttpClient client = new OkHttpClient.Builder()\n            .addInterceptor(interceptor)\n            .build();\n\nRetrofit retrofit = new Retrofit.Builder()\n            .client(client)\n            .baseUrl(&quot;add your url here&quot;)\n            .addConverterFactory(JacksonConverterFactory.create())\n            .build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11629820,"reputation":116,"user_id":8518427,"display_name":"Ramanand Prajapati"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1607575807,"creation_date":1607575807,"answer_id":65228670,"question_id":61385824,"body_markdown":"these three class will be your final setup for all types of call \r\n\r\n&gt; for first call(Login) you do not need to pass token and after login pass jwt as bearer token to authenticate after authentication do not need to pass \r\n\r\n    public class ApiUtils {\r\n    private static  final String BASE_URL=&quot;https://abcd.abcd.com/&quot;;\r\n    public ApiUtils() {\r\n    }\r\n\r\n    public static API getApiService(String token){\r\n        return RetrofitClient.getClient(BASE_URL,token).create(API.class);\r\n    }}\r\n\r\n2.Using ApiUtils.getapiService you can get the client ,pass jwt or bearer token\r\n\r\n    public class RetrofitClient {\r\n    public static Retrofit retrofit=null;\r\n    public static Retrofit getClient(String baseUrl, String token){\r\n        HttpLoggingInterceptor interceptor = new HttpLoggingInterceptor();\r\n        interceptor.setLevel(HttpLoggingInterceptor.Level.BODY);\r\n        OkHttpClient client = new OkHttpClient.Builder()\r\n                .readTimeout(60,TimeUnit.SECONDS)\r\n                .connectTimeout(60,TimeUnit.SECONDS)\r\n                .addInterceptor(interceptor)\r\n                .addInterceptor(new Interceptor() {\r\n            @NotNull\r\n            @Override\r\n            public Response intercept(@NotNull Chain chain) throws IOException {\r\n                Request request=chain.request().newBuilder()\r\n                        .addHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + token)\r\n                        .build();\r\n                return chain.proceed(request);\r\n            }\r\n        }).build();\r\n        if(retrofit==null||token!=null){\r\n            retrofit= new Retrofit.Builder()\r\n                    .baseUrl(baseUrl)\r\n                    .client(client)\r\n                    .addConverterFactory(GsonConverterFactory.create())\r\n                    .build();\r\n        }\r\n        return retrofit;\r\n    }}\r\n3 In this Interface you can create methods for get or post requests\r\n\r\n    public interface API {\r\n\r\n    @POST(&quot;/Api/Authentication/Login&quot;)\r\n    Call&lt;JsonObject&gt; login(@Body Model userdata);\r\n\r\n    @POST(&quot;/api/Authentication/ValidateSession&quot;)\r\n    Call&lt;JsonObject&gt; validateSession(@Body MyToken myToken);\r\n\r\n    @POST(&quot;/api/master/abcd&quot;)\r\n    Call&lt;JsonObject&gt; phoneDir(@Body JsonObject jsonObject);\r\n\r\n    @Multipart\r\n    @POST(&quot;/api/dash/UploadProfilePic&quot;)\r\n    Call&lt;JsonObject&gt; uploadProfile(@Part MultipartBody.Part part);\r\n\r\n    @FormUrlEncoded\r\n    @POST(&quot;/api/dashboard/RulesAndPolicies&quot;)\r\n    Call&lt;JsonObject&gt; rulesAndProcess(@Field(&quot;ct&quot;) int city);\r\n\r\n    @FormUrlEncoded\r\n    @POST(&quot;/api/dashboard/RulesAndPolicies&quot;)\r\n    Call&lt;JsonObject&gt; rulesAndProcess(\r\n            @Field(&quot;city&quot;) int city,\r\n            @Field(&quot;department&quot;) String department,\r\n            @Field(&quot;ctype&quot;) String ctype\r\n    );\r\n\r\n\r\n","title":"How to add bearer token to retrofit request in Java","body":"<p>these three class will be your final setup for all types of call</p>\n<blockquote>\n<p>for first call(Login) you do not need to pass token and after login pass jwt as bearer token to authenticate after authentication do not need to pass</p>\n</blockquote>\n<pre><code>public class ApiUtils {\nprivate static  final String BASE_URL=&quot;https://abcd.abcd.com/&quot;;\npublic ApiUtils() {\n}\n\npublic static API getApiService(String token){\n    return RetrofitClient.getClient(BASE_URL,token).create(API.class);\n}}\n</code></pre>\n<p>2.Using ApiUtils.getapiService you can get the client ,pass jwt or bearer token</p>\n<pre><code>public class RetrofitClient {\npublic static Retrofit retrofit=null;\npublic static Retrofit getClient(String baseUrl, String token){\n    HttpLoggingInterceptor interceptor = new HttpLoggingInterceptor();\n    interceptor.setLevel(HttpLoggingInterceptor.Level.BODY);\n    OkHttpClient client = new OkHttpClient.Builder()\n            .readTimeout(60,TimeUnit.SECONDS)\n            .connectTimeout(60,TimeUnit.SECONDS)\n            .addInterceptor(interceptor)\n            .addInterceptor(new Interceptor() {\n        @NotNull\n        @Override\n        public Response intercept(@NotNull Chain chain) throws IOException {\n            Request request=chain.request().newBuilder()\n                    .addHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + token)\n                    .build();\n            return chain.proceed(request);\n        }\n    }).build();\n    if(retrofit==null||token!=null){\n        retrofit= new Retrofit.Builder()\n                .baseUrl(baseUrl)\n                .client(client)\n                .addConverterFactory(GsonConverterFactory.create())\n                .build();\n    }\n    return retrofit;\n}}\n</code></pre>\n<p>3 In this Interface you can create methods for get or post requests</p>\n<pre><code>public interface API {\n\n@POST(&quot;/Api/Authentication/Login&quot;)\nCall&lt;JsonObject&gt; login(@Body Model userdata);\n\n@POST(&quot;/api/Authentication/ValidateSession&quot;)\nCall&lt;JsonObject&gt; validateSession(@Body MyToken myToken);\n\n@POST(&quot;/api/master/abcd&quot;)\nCall&lt;JsonObject&gt; phoneDir(@Body JsonObject jsonObject);\n\n@Multipart\n@POST(&quot;/api/dash/UploadProfilePic&quot;)\nCall&lt;JsonObject&gt; uploadProfile(@Part MultipartBody.Part part);\n\n@FormUrlEncoded\n@POST(&quot;/api/dashboard/RulesAndPolicies&quot;)\nCall&lt;JsonObject&gt; rulesAndProcess(@Field(&quot;ct&quot;) int city);\n\n@FormUrlEncoded\n@POST(&quot;/api/dashboard/RulesAndPolicies&quot;)\nCall&lt;JsonObject&gt; rulesAndProcess(\n        @Field(&quot;city&quot;) int city,\n        @Field(&quot;department&quot;) String department,\n        @Field(&quot;ctype&quot;) String ctype\n);\n</code></pre>\n"}],"owner":{"account_id":14369882,"reputation":255,"user_id":10379923,"display_name":"FearghalQA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15957,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":61388749,"answer_count":2,"score":9,"last_activity_date":1676891830,"creation_date":1587640259,"question_id":61385824,"body_markdown":"Hi Im trying to add a bearer token to a retrofit call in java, but i cant seem to pass it.\r\n\r\nCurrently Im logging in with one method and this creates a bearer token and im trying to add the token to the Get Call, but its just returning a 401 error, have I added the token to the call correctly?\r\n\r\n    @GET(&quot;diagnosis/configuration&quot;)\r\n    Call&lt;ResponseBody&gt; getFavourites (@Query(&quot;favourite&quot;) Boolean fave,@Header(&quot;Bearer Token&quot;) String authHeader);\r\n\r\n    @POST(&quot;auth/login&quot;)\r\n    Call&lt;LoginResponse&gt; postLogin (@Body LoginCredentialsBody body);\r\n\r\n\r\n\r\n    public class LoginApiStepDefinition extends TestBaseFix {\r\n\r\n    Retrofit retrofit = super.buildRetrofit(super.buildOkHttpClient());\r\n    RetrofitCallsLogin call = retrofit.create(RetrofitCallsLogin.class);\r\n    RetrofitCallsGetFavourites favecall = retrofit.create(RetrofitCallsGetFavourites.class);\r\n\r\n    private Response&lt;LoginResponse&gt; responseBody;\r\n    private String favouritesResponseBody;\r\n\r\n\r\n    String usernameValue;\r\n    String passwordValue;\r\n\r\n\r\n    @And(&quot;I login with {string} and {string} to return login token&quot;)\r\n    public void iLoginWithAndToReturnLoginToken(String username, String password) throws Exception {\r\n\r\n        LoginApi(username, password);\r\n\r\n    }\r\n\r\n\r\n    public String LoginApi(String username, String password) throws Exception {\r\n\r\n\r\n        usernameValue = username;\r\n        passwordValue = password;\r\n\r\n        //gets fixture ids for the dates\r\n        LoginCredentialsBody login = new LoginCredentialsBody();\r\n        login.setPassword(passwordValue);\r\n        login.setUsername(usernameValue);\r\n        String responseBody = call.postLogin(login).execute().body().toString();\r\n        String requiredString = responseBody.substring(responseBody.indexOf(&quot;=&quot;) + 1, responseBody.indexOf(&quot;,&quot;));\r\n\r\n\r\n        System.out.println(requiredString);\r\n\r\n\r\n        return token;\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n    @Then(&quot;I get the list of favourites with {string} and {string}&quot;)\r\n    public void iGetTheListOfFavouritesWithAnd(String username, String password) throws Exception {\r\n\r\n        String favouritesResponseBody = favecall.getFavourites(true, LoginApi(username, password)).execute().body().toString();\r\n        System.out.println(favouritesResponseBody);\r\n    }\r\n}\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YRQMl.jpg","title":"How to add bearer token to retrofit request in Java","body":"<p>Hi Im trying to add a bearer token to a retrofit call in java, but i cant seem to pass it.</p>\n\n<p>Currently Im logging in with one method and this creates a bearer token and im trying to add the token to the Get Call, but its just returning a 401 error, have I added the token to the call correctly?</p>\n\n<pre><code>@GET(\"diagnosis/configuration\")\nCall&lt;ResponseBody&gt; getFavourites (@Query(\"favourite\") Boolean fave,@Header(\"Bearer Token\") String authHeader);\n\n@POST(\"auth/login\")\nCall&lt;LoginResponse&gt; postLogin (@Body LoginCredentialsBody body);\n\n\n\npublic class LoginApiStepDefinition extends TestBaseFix {\n\nRetrofit retrofit = super.buildRetrofit(super.buildOkHttpClient());\nRetrofitCallsLogin call = retrofit.create(RetrofitCallsLogin.class);\nRetrofitCallsGetFavourites favecall = retrofit.create(RetrofitCallsGetFavourites.class);\n\nprivate Response&lt;LoginResponse&gt; responseBody;\nprivate String favouritesResponseBody;\n\n\nString usernameValue;\nString passwordValue;\n\n\n@And(\"I login with {string} and {string} to return login token\")\npublic void iLoginWithAndToReturnLoginToken(String username, String password) throws Exception {\n\n    LoginApi(username, password);\n\n}\n\n\npublic String LoginApi(String username, String password) throws Exception {\n\n\n    usernameValue = username;\n    passwordValue = password;\n\n    //gets fixture ids for the dates\n    LoginCredentialsBody login = new LoginCredentialsBody();\n    login.setPassword(passwordValue);\n    login.setUsername(usernameValue);\n    String responseBody = call.postLogin(login).execute().body().toString();\n    String requiredString = responseBody.substring(responseBody.indexOf(\"=\") + 1, responseBody.indexOf(\",\"));\n\n\n    System.out.println(requiredString);\n\n\n    return token;\n\n\n}\n\n\n\n@Then(\"I get the list of favourites with {string} and {string}\")\npublic void iGetTheListOfFavouritesWithAnd(String username, String password) throws Exception {\n\n    String favouritesResponseBody = favecall.getFavourites(true, LoginApi(username, password)).execute().body().toString();\n    System.out.println(favouritesResponseBody);\n}\n</code></pre>\n\n<p>}</p>\n\n<p><a href=\"https://i.stack.imgur.com/YRQMl.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/YRQMl.jpg\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","spring","spring-boot","caching","jackson-databind"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1676891319,"post_id":75508461,"comment_id":133222331,"body_markdown":"Don&#39;t use `@Cacheable` to cache database entities, integrate that with your JPA provider through the 2nd level cache instead. Unrelated (slightly) don&#39;t use `@Data` with JPA as it will generate an equals/hashCode that isn&#39;t suitable for JPA/managed entities.","body":"Don&#39;t use <code>@Cacheable</code> to cache database entities, integrate that with your JPA provider through the 2nd level cache instead. Unrelated (slightly) don&#39;t use <code>@Data</code> with JPA as it will generate an equals/hashCode that isn&#39;t suitable for JPA/managed entities."},{"owner":{"account_id":7558513,"reputation":759,"user_id":5737088,"accept_rate":83,"display_name":"Draaksward"},"score":0,"creation_date":1676892056,"post_id":75508461,"comment_id":133222519,"body_markdown":"@M.Deinum could you please point me to an article on that approach? Google made me believe that `@Cacheable` was the way.","body":"@M.Deinum could you please point me to an article on that approach? Google made me believe that <code>@Cacheable</code> was the way."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1676896023,"post_id":75508461,"comment_id":133223569,"body_markdown":"Assuming you are using HIbernate I suggest a read on the 2nd level caching and how to enable and configure it especially for Redis (as I have no idea how to to that).","body":"Assuming you are using HIbernate I suggest a read on the 2nd level caching and how to enable and configure it especially for Redis (as I have no idea how to to that)."}],"owner":{"account_id":7558513,"reputation":759,"user_id":5737088,"accept_rate":83,"display_name":"Draaksward"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":817,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676891187,"creation_date":1676891187,"question_id":75508461,"body_markdown":"Using spring boot latest with jpa + caching. For caching used Redis.\r\n\r\n`pom` looks like this:\r\n```\r\n   &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nI&#39;m storing a history record in cache, which has the next structure:\r\n```\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\n@Data\r\n@Entity\r\n@Table(name = &quot;entity1&quot;)\r\n@ToString\r\npublic class Entity1 implements Serializable {\r\n\r\n    @Id\r\n    @Builder.Default\r\n    private String id = UUID.randomUUID().toString();\r\n\r\n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.EAGER, mappedBy = &quot;parentId&quot;)\r\n    @Builder.Default\r\n    private List&lt;Entity1Entry&gt; history = new ArrayList&lt;&gt;();\r\n\r\n    @Temporal(TemporalType.TIMESTAMP)\r\n    @Builder.Default\r\n    private Date created = new Date();\r\n\r\n    @Temporal(TemporalType.TIMESTAMP)\r\n    @Builder.Default\r\n    private Date updated = new Date();\r\n}\r\n\r\n```\r\n\r\nDecided to try if I could change things from `Serializable` to JSON and got stuck at that.\r\n\r\nMy config: \r\n\r\n```\r\n@Configuration\r\npublic class RedisConfig {\r\n\r\n \r\n        @Bean\r\n    public CacheManager redisCacheManager(@Value(&quot;${spring.cache.ttl}&quot;) Integer ttl,\r\n                                          RedisConnectionFactory redisConnectionFactory) {\r\n        RedisCacheManager cacheManager =  RedisCacheManager.RedisCacheManagerBuilder\r\n                .fromConnectionFactory(redisConnectionFactory)\r\n                .cacheDefaults(\r\n                        RedisCacheConfiguration.defaultCacheConfig()\r\n                                .entryTtl(Duration.ofDays(ttl))\r\n//                                .serializeValuesWith(getJsonSerializer())\r\n                                .disableCachingNullValues()\r\n                )\r\n                .transactionAware()\r\n                .build();\r\n        return cacheManager;\r\n\r\n    }\r\n    @Bean\r\n    public RedisCacheConfiguration defaultCacheConfig() {\r\n        return RedisCacheConfiguration.defaultCacheConfig()\r\n                .serializeKeysWith(RedisSerializationContext.SerializationPair.fromSerializer(new StringRedisSerializer()))\r\n//                .serializeValuesWith(getJsonSerializer())\r\n                .entryTtl(Duration.ofDays(7))\r\n                ;\r\n    }\r\n\r\n    private RedisSerializationContext.SerializationPair getJsonSerializer() {\r\n        GenericJackson2JsonRedisSerializer jsonRedisSerializer = genericJackson2JsonRedisSerializer();\r\n        return RedisSerializationContext.SerializationPair.fromSerializer(jsonRedisSerializer);\r\n    }\r\n\r\n    private GenericJackson2JsonRedisSerializer genericJackson2JsonRedisSerializer() {\r\n        ObjectMapper objectMapper = objectMapper();\r\n        return new GenericJackson2JsonRedisSerializer(objectMapper);\r\n    }\r\n\r\n\r\n    private ObjectMapper objectMapper() {\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        objectMapper.enable(JsonGenerator.Feature.IGNORE_UNKNOWN);\r\n        objectMapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\r\n        objectMapper.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL, JsonTypeInfo.As.PROPERTY);\r\n\r\n        objectMapper.registerModule(new Hibernate5Module());\r\n        return objectMapper;\r\n    }\r\n}\r\n```\r\n\r\nIgnore the commented out parts to be commented out - it been a 3 hour fight so far, so I&#39;m trying everything.\r\n\r\nThe problem I&#39;m getting is that I can&#39;t read the record from `@Cacheable`, always failing with a `Could not read JSON: No session` when trying to read the `Entity1` with its list entity.\r\n\r\nAny ideas?","title":"Spring Boot Cache Redis + Jackson. Serialize value as JSON. Cannot read - no session","body":"<p>Using spring boot latest with jpa + caching. For caching used Redis.</p>\n<p><code>pom</code> looks like this:</p>\n<pre><code>   &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I'm storing a history record in cache, which has the next structure:</p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n@Data\n@Entity\n@Table(name = &quot;entity1&quot;)\n@ToString\npublic class Entity1 implements Serializable {\n\n    @Id\n    @Builder.Default\n    private String id = UUID.randomUUID().toString();\n\n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.EAGER, mappedBy = &quot;parentId&quot;)\n    @Builder.Default\n    private List&lt;Entity1Entry&gt; history = new ArrayList&lt;&gt;();\n\n    @Temporal(TemporalType.TIMESTAMP)\n    @Builder.Default\n    private Date created = new Date();\n\n    @Temporal(TemporalType.TIMESTAMP)\n    @Builder.Default\n    private Date updated = new Date();\n}\n\n</code></pre>\n<p>Decided to try if I could change things from <code>Serializable</code> to JSON and got stuck at that.</p>\n<p>My config:</p>\n<pre><code>@Configuration\npublic class RedisConfig {\n\n \n        @Bean\n    public CacheManager redisCacheManager(@Value(&quot;${spring.cache.ttl}&quot;) Integer ttl,\n                                          RedisConnectionFactory redisConnectionFactory) {\n        RedisCacheManager cacheManager =  RedisCacheManager.RedisCacheManagerBuilder\n                .fromConnectionFactory(redisConnectionFactory)\n                .cacheDefaults(\n                        RedisCacheConfiguration.defaultCacheConfig()\n                                .entryTtl(Duration.ofDays(ttl))\n//                                .serializeValuesWith(getJsonSerializer())\n                                .disableCachingNullValues()\n                )\n                .transactionAware()\n                .build();\n        return cacheManager;\n\n    }\n    @Bean\n    public RedisCacheConfiguration defaultCacheConfig() {\n        return RedisCacheConfiguration.defaultCacheConfig()\n                .serializeKeysWith(RedisSerializationContext.SerializationPair.fromSerializer(new StringRedisSerializer()))\n//                .serializeValuesWith(getJsonSerializer())\n                .entryTtl(Duration.ofDays(7))\n                ;\n    }\n\n    private RedisSerializationContext.SerializationPair getJsonSerializer() {\n        GenericJackson2JsonRedisSerializer jsonRedisSerializer = genericJackson2JsonRedisSerializer();\n        return RedisSerializationContext.SerializationPair.fromSerializer(jsonRedisSerializer);\n    }\n\n    private GenericJackson2JsonRedisSerializer genericJackson2JsonRedisSerializer() {\n        ObjectMapper objectMapper = objectMapper();\n        return new GenericJackson2JsonRedisSerializer(objectMapper);\n    }\n\n\n    private ObjectMapper objectMapper() {\n        ObjectMapper objectMapper = new ObjectMapper();\n        objectMapper.enable(JsonGenerator.Feature.IGNORE_UNKNOWN);\n        objectMapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\n        objectMapper.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL, JsonTypeInfo.As.PROPERTY);\n\n        objectMapper.registerModule(new Hibernate5Module());\n        return objectMapper;\n    }\n}\n</code></pre>\n<p>Ignore the commented out parts to be commented out - it been a 3 hour fight so far, so I'm trying everything.</p>\n<p>The problem I'm getting is that I can't read the record from <code>@Cacheable</code>, always failing with a <code>Could not read JSON: No session</code> when trying to read the <code>Entity1</code> with its list entity.</p>\n<p>Any ideas?</p>\n"},{"tags":["java","android","arrays","api","object"],"answers":[{"tags":[],"owner":{"account_id":15641040,"reputation":11,"user_id":11284376,"display_name":"Raghubeer singh virk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652175239,"creation_date":1652175239,"answer_id":72183921,"question_id":72016332,"body_markdown":"Since your MRData is main JSONObject and you are trying to fetch &quot;Drivers&quot; child array from &quot;DriverTable&quot; object, you have to get &quot;DriverTable&quot; first from your JSON response.\r\n \r\nMRData\r\n   -DriverTable\r\n       -Drivers\r\n\r\nTry following Code:\r\n\r\n    JSONObject driverTable = response.getJSONObject(&quot;DriverTable&quot;);\r\n    JSONArray jsonArray = driverTable.getJSONArray(&quot;Drivers&quot;);\r\n    \r\n    for (int i = 0; i &lt; jsonArray.length(); i++) {\r\n    \tJSONObject driver = jsonArray.getJSONObject(i);\r\n    \tString firstName = driver.getString(&quot;givenName&quot;);\r\n    \tString lastName = driver.getString(&quot;familyName&quot;);\r\n    \tString nationality = driver.getString(&quot;nationality&quot;);\r\n    \r\n    \tmTextViewResult.append(firstName + &quot;, &quot; + lastName + &quot;, &quot; + nationality + &quot;\\n\\n&quot;);\r\n    }","title":"Accessing a JSON array inside of a JSON object in Android Studio","body":"<p>Since your MRData is main JSONObject and you are trying to fetch &quot;Drivers&quot; child array from &quot;DriverTable&quot; object, you have to get &quot;DriverTable&quot; first from your JSON response.</p>\n<p>MRData\n-DriverTable\n-Drivers</p>\n<p>Try following Code:</p>\n<pre><code>JSONObject driverTable = response.getJSONObject(&quot;DriverTable&quot;);\nJSONArray jsonArray = driverTable.getJSONArray(&quot;Drivers&quot;);\n\nfor (int i = 0; i &lt; jsonArray.length(); i++) {\n    JSONObject driver = jsonArray.getJSONObject(i);\n    String firstName = driver.getString(&quot;givenName&quot;);\n    String lastName = driver.getString(&quot;familyName&quot;);\n    String nationality = driver.getString(&quot;nationality&quot;);\n\n    mTextViewResult.append(firstName + &quot;, &quot; + lastName + &quot;, &quot; + nationality + &quot;\\n\\n&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7362405,"reputation":21,"user_id":8348350,"display_name":"Akin Wilderman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676891117,"creation_date":1676887264,"answer_id":75507789,"question_id":72016332,"body_markdown":"The following should work.\r\n\r\n    try{\r\n        JSONArray jsonArray = response.getJSONArray(&quot;DriverTable&quot;);\r\n        for(int i = 0; i &lt; jsonArray.length(); i++){\r\n            JSONObject driverTable = jsonArray.getJSONObject(i);\r\n            JSONObject driver = driverTable.getJSONObject(&quot;Drivers&quot;);\r\n            String firstName = driver.getString(&quot;givenName&quot;);\r\n            String lastName = driver.getString(&quot;familyName&quot;);\r\n            String nationality = driver.getString(&quot;nationality&quot;);\r\n\r\n            /// other codes\r\n            }\r\n    }\r\n    ","title":"Accessing a JSON array inside of a JSON object in Android Studio","body":"<p>The following should work.</p>\n<pre><code>try{\n    JSONArray jsonArray = response.getJSONArray(&quot;DriverTable&quot;);\n    for(int i = 0; i &lt; jsonArray.length(); i++){\n        JSONObject driverTable = jsonArray.getJSONObject(i);\n        JSONObject driver = driverTable.getJSONObject(&quot;Drivers&quot;);\n        String firstName = driver.getString(&quot;givenName&quot;);\n        String lastName = driver.getString(&quot;familyName&quot;);\n        String nationality = driver.getString(&quot;nationality&quot;);\n\n        /// other codes\n        }\n}\n</code></pre>\n"}],"owner":{"account_id":7234313,"reputation":19,"user_id":5520098,"display_name":"sammysahrd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676891117,"creation_date":1650985681,"question_id":72016332,"body_markdown":"I am testing my knowledge and ability with android studio and API&#39;s, I have been using volley and I have come across a little problem.\r\n\r\nThe API I have been using is the Ergast F1 API, this is the exact link I am using\r\n\r\n&lt;https://ergast.com/api/f1/2019/drivers.json&gt;\r\n\r\nI think my problem is that I am trying to access the array &#39;Drivers&#39; but nothing seems to be working, I think this might be because it is inside the &#39;DriverTables&#39; object, I may be completely wrong, like I say I am only learning.\r\n\r\nThis is my code here, any help is greatly appreciated\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    private TextView mTextViewResult;\r\n    private RequestQueue mQueue;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        mTextViewResult = findViewById(R.id.textViewResult);\r\n        Button buttonParse = findViewById(R.id.parse);\r\n\r\n        mQueue = Volley.newRequestQueue(this);\r\n        buttonParse.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                jsonParse();\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    private void jsonParse() {\r\n\r\n        String url = &quot;https://ergast.com/api/f1/2019/drivers.json&quot;;\r\n        JsonObjectRequest request = new JsonObjectRequest(Request.Method.GET, url, null,\r\n            response - &gt; {\r\n                try {\r\n                    JSONArray jsonArray = response.getJSONArray(&quot;Drivers&quot;);\r\n\r\n                    for (int i = 0; i &lt; jsonArray.length(); i++) {\r\n                        JSONObject driver = jsonArray.getJSONObject(i);\r\n\r\n                        String firstName = driver.getString(&quot;givenName&quot;);\r\n                        String lastName = driver.getString(&quot;familyName&quot;);\r\n                        String nationality = driver.getString(&quot;nationality&quot;);\r\n\r\n                        mTextViewResult.append(firstName + &quot;, &quot; + lastName + &quot;, &quot; + nationality + &quot;\\n\\n&quot;);\r\n\r\n\r\n                    }\r\n                } catch (JSONException e) {\r\n                    e.printStackTrace();\r\n                }\r\n\r\n            },\r\n            error - &gt; error.printStackTrace());\r\n\r\n        mQueue.add(request);\r\n\r\n    }\r\n}\r\n\r\n","title":"Accessing a JSON array inside of a JSON object in Android Studio","body":"<p>I am testing my knowledge and ability with android studio and API's, I have been using volley and I have come across a little problem.</p>\n<p>The API I have been using is the Ergast F1 API, this is the exact link I am using</p>\n<p><a href=\"https://ergast.com/api/f1/2019/drivers.json\" rel=\"nofollow noreferrer\">https://ergast.com/api/f1/2019/drivers.json</a></p>\n<p>I think my problem is that I am trying to access the array 'Drivers' but nothing seems to be working, I think this might be because it is inside the 'DriverTables' object, I may be completely wrong, like I say I am only learning.</p>\n<p>This is my code here, any help is greatly appreciated</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\nprivate TextView mTextViewResult;\nprivate RequestQueue mQueue;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    mTextViewResult = findViewById(R.id.textViewResult);\n    Button buttonParse = findViewById(R.id.parse);\n\n    mQueue = Volley.newRequestQueue(this);\n    buttonParse.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            jsonParse();\n        }\n    });\n\n}\n\nprivate void jsonParse() {\n\n    String url = &quot;https://ergast.com/api/f1/2019/drivers.json&quot;;\n    JsonObjectRequest request = new JsonObjectRequest(Request.Method.GET, url, null,\n        response - &gt; {\n            try {\n                JSONArray jsonArray = response.getJSONArray(&quot;Drivers&quot;);\n\n                for (int i = 0; i &lt; jsonArray.length(); i++) {\n                    JSONObject driver = jsonArray.getJSONObject(i);\n\n                    String firstName = driver.getString(&quot;givenName&quot;);\n                    String lastName = driver.getString(&quot;familyName&quot;);\n                    String nationality = driver.getString(&quot;nationality&quot;);\n\n                    mTextViewResult.append(firstName + &quot;, &quot; + lastName + &quot;, &quot; + nationality + &quot;\\n\\n&quot;);\n\n\n                }\n            } catch (JSONException e) {\n                e.printStackTrace();\n            }\n\n        },\n        error - &gt; error.printStackTrace());\n\n    mQueue.add(request);\n\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","object","actionlistener","keylistener","pong"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1676885331,"post_id":75507361,"comment_id":133220624,"body_markdown":"You never add the keylistener to the object","body":"You never add the keylistener to the object"},{"owner":{"account_id":27830917,"reputation":13,"user_id":21249359,"display_name":"Jon Doe"},"score":0,"creation_date":1676885875,"post_id":75507361,"comment_id":133220774,"body_markdown":"@Jens you mean in the board class? that has no effect on the code really it was just there to try and maybe see if it worked.","body":"@Jens you mean in the board class? that has no effect on the code really it was just there to try and maybe see if it worked."}],"answers":[{"tags":[],"owner":{"account_id":19680594,"reputation":149,"user_id":14407807,"display_name":"Farha Mansuri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676890955,"creation_date":1676890621,"answer_id":75508364,"question_id":75507361,"body_markdown":"You have just wrote the method names. You need to register action/key listener to a particular swing component which you want to listen. &lt;br&gt;\r\nSuppose if your JComponent is JButton named btnPlayer you need to register the action performed event like : &lt;br&gt;\r\n    `private void btnPlayerActionPerformed(java.awt.event.ActionEvent e) {.... ` &lt;br&gt;\r\n`...}`\r\n&lt;br&gt;\r\nYou can add action listener from swing design. Right click on the JComponent -&gt; Events -&gt; ActionPerformed. &lt;br&gt;\r\nIt will register click event for the component. Adding events through the properties is a better option.","title":"Java cannot get action/key listener to work","body":"<p>You have just wrote the method names. You need to register action/key listener to a particular swing component which you want to listen. <br>\nSuppose if your JComponent is JButton named btnPlayer you need to register the action performed event like : <br>\n<code>private void btnPlayerActionPerformed(java.awt.event.ActionEvent e) {.... </code> <br>\n<code>...}</code>\n<br>\nYou can add action listener from swing design. Right click on the JComponent -&gt; Events -&gt; ActionPerformed. <br>\nIt will register click event for the component. Adding events through the properties is a better option.</p>\n"}],"owner":{"account_id":27830917,"reputation":13,"user_id":21249359,"display_name":"Jon Doe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75508364,"answer_count":1,"score":1,"last_activity_date":1676890955,"creation_date":1676884962,"question_id":75507361,"body_markdown":"I am coding a Java pong game I am stuck on how to get the player paddle to move. I for some reason cannot get the program to notice the key inputs. \r\n\r\n\r\n```\r\nimport java.awt.Component;\r\n\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFrame;\r\n\r\npublic class Pong {\r\n\r\n\t Board board = new Board();  \r\n\r\n\r\n\t\r\n\tpublic void frame() {\r\n\t   \t JFrame b = new JFrame(&quot;Pong&quot;);\r\n     \t b.setSize(905,705);\r\n     \t b.setLocation(300,60);\r\n     \t b.setResizable(false);\r\n       \t b.setVisible(true);\r\n      \t b.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);    \t  \r\n      \t b.add(board);\r\n\r\n      \t \r\n\r\n\t}\r\n\r\n\tpublic static  void main(String[] args) {\r\n\t\tPong start = new Pong();\r\n\t\tstart.frame();\r\n\r\n\r\n\r\n\r\n\r\n\t}\r\n\r\n\r\n}\r\n```\r\n\r\nThe board class\r\n\r\n```\r\npublic class Board extends JPanel{\r\n\t   public int playerScore = 0;\r\n\t   public int opponentScore = 0;\r\n\t   Player player = new Player();\r\n\t   int test = 1;\r\n\t   private Timer timer;\r\n\t   private int time = 100;{\r\n          timer = new Timer(time, player);\r\n          timer.start();\r\n\t\t}\r\n\t   public void paint(Graphics g) {\r\n\t\t   Graphics2D g2d = (Graphics2D) g;\r\n\r\n\t\t   board(g);\r\n\t\t   g.setColor(Color.WHITE);\r\n\t\t  // player.playerGenerate();\r\n\t\t   g2d.fill(player.player);\r\n\t\t    g.fillRect(30, test, 20, 20);\r\n\t\t    player.paint(g);\r\n\t\t    control();\r\n\t\r\n\t\t  //repaint();\r\n\t\t   }\r\n\t\t   \r\n\t   \r\n\r\n\t   \r\n\t   public void board(Graphics g) {\r\n\t\t   Graphics2D g2d = (Graphics2D) g;\r\n\t\t   \r\n\t\t\tg.setColor(Color.black);\r\n\t\t    g.fillRect(0, 0, 900, 900);\r\n\t\t    Stroke stroke1 = new BasicStroke(4f);\r\n\t\t    \r\n\t\t    g2d.setColor(Color.white);\r\n\t\t    g2d.setStroke(stroke1);\r\n\t\t     \r\n\t\t    g2d.drawRect(20, 50, 850, 600);\r\n\t\t    g2d.setColor(Color.white);\r\n\t\t    \r\n\t\t    float[] dashingPattern2 = {10f, 4f};\r\n\t\t    Stroke stroke2 = new BasicStroke(4f, BasicStroke.CAP_BUTT,\r\n\t\t            BasicStroke.JOIN_MITER, 1.0f, dashingPattern2, 0.0f);\r\n\t\t     \r\n\t\t    g2d.setStroke(stroke2);\r\n\t\t    g2d.drawLine(435, 50, 435, 650);\r\n\t\t    g.setFont(new Font(&quot;arial&quot;,Font.PLAIN,30));\r\n\t\t    g.drawString(&quot;&quot;+playerScore, 20, 35);\r\n\t\t    g.drawString(&quot;&quot;+opponentScore, 855, 35);\r\n\t\t  \r\n\r\n\r\n\t   }\r\n\t   \r\n\t   public void control() {\r\n\t\t   if (player.down == true) {\r\n\t\t\t   \r\n\t\t\t   player.playerYpos = player.playerYpos = player.playerYpos -10;\r\n\t\t\t   repaint();\r\n\r\n\t\t   \r\n\t\t   }\r\n\t   }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\nAnd finally the player class. \r\n\r\n```\r\n\r\npublic class Player extends JPanel  implements KeyListener,ActionListener{\r\n\t//Board theBoard = new Board();\t   \r\n\r\n\tpublic boolean down = false;\r\n\tpublic boolean up = false;\r\n\tpublic int playerXpos = 45;\r\n\tpublic int playerYpos = 300;\r\n\tpublic int playerWidth = 15;\r\n\tpublic int playerHeight = 80;\r\n\tRectangle player = new Rectangle(playerXpos,playerYpos,playerWidth,playerHeight);\r\n\t\r\n\r\n\t// Board theBoard = new Board();\r\n\tpublic void playerGenerate() {\r\n\t\tplayerXpos = 45;\r\n\t\tplayerYpos = 300;\r\n\t\tplayerWidth = 15;\r\n\t\tplayerHeight = 80;\r\n\t\t\r\n\t//Rectangle\tr = new Rectangle(playerXpos,playerYpos,playerWidth,playerHeight);\r\n\t}\r\n\t\r\n\r\n\r\n\t@Override\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\tif (down) {\r\n\t\t\t\t\r\n\t\t\t\tdown = true;\r\n\r\n\t\t\t\tif(up != true) {\r\n\t\t\t\t\tdown = true;\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tup = true;\r\n\t\t\t\t\tdown = false;\r\n\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (up) {\r\n\t\t\t\t\r\n\t\t\t\tup = true;\r\n\r\n\t\t\t\tif(down != true) {\r\n\t\t\t\t\tup = true;\r\n\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tup = false;\r\n\t\t\t\t\tdown = true;\r\n\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void keyTyped(KeyEvent e) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void keyPressed(KeyEvent e) {\r\n\t\tif(e.getKeyCode() == KeyEvent.VK_UP) {\r\n\r\n\t\t\tfor(int r = playerYpos;r &gt;=0;r--) {\r\n\t\t\t\tif(r==0) {\r\n\t\t\t\t\tplayerYpos = playerYpos -20;\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\telse {\r\n\t\t\t\t\tplayerYpos = \tplayerYpos -1 ;\r\n\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif(playerYpos &lt; 50){\r\n\t\t\t\t\tplayerYpos = 50;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\t//repaint();\r\n\t\t\t\r\n\t\t}\r\n\t\tif(e.getKeyCode() == KeyEvent.VK_DOWN) {\r\n\r\n\t\t\tfor(int r = playerYpos;r &gt;=0;r--) {\r\n\t\t\t\tif(r==0) {\r\n\t\t\t\t\tplayerYpos = playerYpos +20;\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\telse {\r\n\t\t\t\t\tplayerYpos = \tplayerYpos -1 ;\r\n\t\t\t\t\tSystem.out.print(&quot;down&quot;);\r\n\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif(playerYpos &gt; 800){\r\n\t\t\t\t\tplayerYpos = 800;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\t//repaint();\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\r\n\t@Override\r\n\tpublic void keyReleased(KeyEvent e) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n}\r\n```\r\n\r\nI tried googling around and looked at code that went with a similar approach of implementing action/key listener in the player/paddle class. I assume there is something minor and small I am just not seeing. ","title":"Java cannot get action/key listener to work","body":"<p>I am coding a Java pong game I am stuck on how to get the player paddle to move. I for some reason cannot get the program to notice the key inputs.</p>\n<pre><code>import java.awt.Component;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\n\npublic class Pong {\n\n     Board board = new Board();  \n\n\n    \n    public void frame() {\n         JFrame b = new JFrame(&quot;Pong&quot;);\n         b.setSize(905,705);\n         b.setLocation(300,60);\n         b.setResizable(false);\n         b.setVisible(true);\n         b.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);        \n         b.add(board);\n\n         \n\n    }\n\n    public static  void main(String[] args) {\n        Pong start = new Pong();\n        start.frame();\n\n\n\n\n\n    }\n\n\n}\n</code></pre>\n<p>The board class</p>\n<pre><code>public class Board extends JPanel{\n       public int playerScore = 0;\n       public int opponentScore = 0;\n       Player player = new Player();\n       int test = 1;\n       private Timer timer;\n       private int time = 100;{\n          timer = new Timer(time, player);\n          timer.start();\n        }\n       public void paint(Graphics g) {\n           Graphics2D g2d = (Graphics2D) g;\n\n           board(g);\n           g.setColor(Color.WHITE);\n          // player.playerGenerate();\n           g2d.fill(player.player);\n            g.fillRect(30, test, 20, 20);\n            player.paint(g);\n            control();\n    \n          //repaint();\n           }\n           \n       \n\n       \n       public void board(Graphics g) {\n           Graphics2D g2d = (Graphics2D) g;\n           \n            g.setColor(Color.black);\n            g.fillRect(0, 0, 900, 900);\n            Stroke stroke1 = new BasicStroke(4f);\n            \n            g2d.setColor(Color.white);\n            g2d.setStroke(stroke1);\n             \n            g2d.drawRect(20, 50, 850, 600);\n            g2d.setColor(Color.white);\n            \n            float[] dashingPattern2 = {10f, 4f};\n            Stroke stroke2 = new BasicStroke(4f, BasicStroke.CAP_BUTT,\n                    BasicStroke.JOIN_MITER, 1.0f, dashingPattern2, 0.0f);\n             \n            g2d.setStroke(stroke2);\n            g2d.drawLine(435, 50, 435, 650);\n            g.setFont(new Font(&quot;arial&quot;,Font.PLAIN,30));\n            g.drawString(&quot;&quot;+playerScore, 20, 35);\n            g.drawString(&quot;&quot;+opponentScore, 855, 35);\n          \n\n\n       }\n       \n       public void control() {\n           if (player.down == true) {\n               \n               player.playerYpos = player.playerYpos = player.playerYpos -10;\n               repaint();\n\n           \n           }\n       }\n}\n</code></pre>\n<p>And finally the player class.</p>\n<pre><code>\npublic class Player extends JPanel  implements KeyListener,ActionListener{\n    //Board theBoard = new Board();    \n\n    public boolean down = false;\n    public boolean up = false;\n    public int playerXpos = 45;\n    public int playerYpos = 300;\n    public int playerWidth = 15;\n    public int playerHeight = 80;\n    Rectangle player = new Rectangle(playerXpos,playerYpos,playerWidth,playerHeight);\n    \n\n    // Board theBoard = new Board();\n    public void playerGenerate() {\n        playerXpos = 45;\n        playerYpos = 300;\n        playerWidth = 15;\n        playerHeight = 80;\n        \n    //Rectangle r = new Rectangle(playerXpos,playerYpos,playerWidth,playerHeight);\n    }\n    \n\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n            if (down) {\n                \n                down = true;\n\n                if(up != true) {\n                    down = true;\n                }\n                else\n                {\n                    up = true;\n                    down = false;\n                \n                    \n                }\n\n            }\n            \n            if (up) {\n                \n                up = true;\n\n                if(down != true) {\n                    up = true;\n\n                }\n                else\n                {\n                    up = false;\n                    down = true;\n                \n                    \n                }\n\n            }\n    }\n\n    @Override\n    public void keyTyped(KeyEvent e) {\n        // TODO Auto-generated method stub\n        \n    }\n\n    @Override\n    public void keyPressed(KeyEvent e) {\n        if(e.getKeyCode() == KeyEvent.VK_UP) {\n\n            for(int r = playerYpos;r &gt;=0;r--) {\n                if(r==0) {\n                    playerYpos = playerYpos -20;\n                    \n                }\n                \n                else {\n                    playerYpos =    playerYpos -1 ;\n\n                }\n                \n                if(playerYpos &lt; 50){\n                    playerYpos = 50;\n                }\n            }\n                //repaint();\n            \n        }\n        if(e.getKeyCode() == KeyEvent.VK_DOWN) {\n\n            for(int r = playerYpos;r &gt;=0;r--) {\n                if(r==0) {\n                    playerYpos = playerYpos +20;\n                    \n                }\n                \n                else {\n                    playerYpos =    playerYpos -1 ;\n                    System.out.print(&quot;down&quot;);\n\n                }\n                \n                if(playerYpos &gt; 800){\n                    playerYpos = 800;\n                }\n            }\n                //repaint();\n            }\n        }\n    \n\n    @Override\n    public void keyReleased(KeyEvent e) {\n        // TODO Auto-generated method stub\n        \n    }\n}\n</code></pre>\n<p>I tried googling around and looked at code that went with a similar approach of implementing action/key listener in the player/paddle class. I assume there is something minor and small I am just not seeing.</p>\n"},{"tags":["java","android","android-studio","widget","remoteview"],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676844314,"creation_date":1676844314,"answer_id":75503754,"question_id":75503599,"body_markdown":"The ability to affect things like that was only added in API Level 31 (Android 12), with methods like [`setViewLayoutHeight()`](https://developer.android.com/reference/android/widget/RemoteViews.html?hl=en#setViewLayoutHeight(int,%20float,%20int)). So, one option would be to set your `minSdk` to be 31 and live with a smaller user base for a while.\r\n\r\nOr:\r\n\r\n- For a complex UI, you might consider rendering a `Bitmap` inside your app, then showing that `Bitmap` in an `ImageView` in the app widget (with the `Bitmap` served via a `ContentProvider`). This is annoying, but it gives you ultimate flexibility.\r\n\r\n- Another possibility is to have a bunch of different layout resources, where you encode a range of desired weights, the use the desired one in the `RemoteViews` when you go to update it. If you keep consistent widget IDs, the rest of your code should not need to change much.\r\n\r\n- You have the question tagged as [tag:java]. If you eventually learn Kotlin, you could see if Glance has some more flexibility. Glance uses Jetpack Compose to create app widgets (and Wear OS tiles).\r\n\r\n","title":"Programmatically set a percentage height to LinearLayout in a Widget&#39;s RemoteViews","body":"<p>The ability to affect things like that was only added in API Level 31 (Android 12), with methods like <a href=\"https://developer.android.com/reference/android/widget/RemoteViews.html?hl=en#setViewLayoutHeight(int,%20float,%20int)\" rel=\"nofollow noreferrer\"><code>setViewLayoutHeight()</code></a>. So, one option would be to set your <code>minSdk</code> to be 31 and live with a smaller user base for a while.</p>\n<p>Or:</p>\n<ul>\n<li><p>For a complex UI, you might consider rendering a <code>Bitmap</code> inside your app, then showing that <code>Bitmap</code> in an <code>ImageView</code> in the app widget (with the <code>Bitmap</code> served via a <code>ContentProvider</code>). This is annoying, but it gives you ultimate flexibility.</p>\n</li>\n<li><p>Another possibility is to have a bunch of different layout resources, where you encode a range of desired weights, the use the desired one in the <code>RemoteViews</code> when you go to update it. If you keep consistent widget IDs, the rest of your code should not need to change much.</p>\n</li>\n<li><p>You have the question tagged as <a href=\"/questions/tagged/java\" class=\"post-tag\" title=\"show questions tagged &#39;java&#39;\" aria-label=\"show questions tagged &#39;java&#39;\" rel=\"tag\" aria-labelledby=\"java-container\">java</a>. If you eventually learn Kotlin, you could see if Glance has some more flexibility. Glance uses Jetpack Compose to create app widgets (and Wear OS tiles).</p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":18895937,"reputation":54,"user_id":13785124,"display_name":"Djoxy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676890521,"creation_date":1676890521,"answer_id":75508343,"question_id":75503599,"body_markdown":"Use directly :\r\nview.setViewLayoutHeightDimen(your layoutId, int heightDimen)\r\n","title":"Programmatically set a percentage height to LinearLayout in a Widget&#39;s RemoteViews","body":"<p>Use directly :\nview.setViewLayoutHeightDimen(your layoutId, int heightDimen)</p>\n"}],"owner":{"account_id":8443343,"reputation":1247,"user_id":6334991,"accept_rate":92,"display_name":"Kevin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75503754,"answer_count":2,"score":1,"last_activity_date":1676890521,"creation_date":1676842222,"question_id":75503599,"body_markdown":"I want to create a widget with graphs which represent a percentage increase in stock value for certain assets. I was able to create an overview of graphs with each graph having a percentage height by putting two `LinearLayout`s in a container `LinearLayout`. The bottom `LinearLayout` is the graph and the top `LinearLayout` is the spacer which gets a certain `layout_weight`. This way I can reduce the size of the other container using percentages. (if the spacer has a `layout_weight` of `0.4`, then the graph is 60% high).\r\n\r\nThe current state of the widget is (I wanted to handle negative values in red afterwards, but no need to continue if I can&#39;t figure out how to percentually size the graphs) :\r\n\r\n[![An example of the current state of the widget.][1]][1]\r\n\r\nI chose this approach because I can&#39;t use `ConstraintLayout` in `RemoteViews`. Everything seemed to work nicely, but when I wanted to programmatically change the size of the spacer based on data from the api (so the sizes of the graphs truly match the percentage increase of the stock value), I wasn&#39;t able to. There is, as far as I could see, no way to change the `layout_weight` of a `LinearLayout` in a `RemoteView` in java.\r\n\r\nI then thought maybe my last hope would be to find the container - which contains all the graphs - its height by using `findViewById`, but that&#39;s also not possible with `RemoteViews`. I then would&#39;ve seen the container&#39;s height as `100%` and then set the height of the other `LinearLayout`s according to that size. 60% would be 0.6 times the height I fetched from the container. But that, I&#39;m afraid, is also not possible.\r\n\r\nSo I actually have no clue how to programmatically find out how high a `LinearLayout` is or how I can change the size of a `LinearLayout` percentually. It seems like I always already need to know the sizes of the containers which will be used in the widget? Which is kind of annoying as the content varies and it needs to be rendered differently based on the ratio of each gain of each asset.\r\n\r\nAm I missing a certain way to approach this? I can&#39;t seem to find much more on the Android Developers documentation... Cheers!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/P75r4.png","title":"Programmatically set a percentage height to LinearLayout in a Widget&#39;s RemoteViews","body":"<p>I want to create a widget with graphs which represent a percentage increase in stock value for certain assets. I was able to create an overview of graphs with each graph having a percentage height by putting two <code>LinearLayout</code>s in a container <code>LinearLayout</code>. The bottom <code>LinearLayout</code> is the graph and the top <code>LinearLayout</code> is the spacer which gets a certain <code>layout_weight</code>. This way I can reduce the size of the other container using percentages. (if the spacer has a <code>layout_weight</code> of <code>0.4</code>, then the graph is 60% high).</p>\n<p>The current state of the widget is (I wanted to handle negative values in red afterwards, but no need to continue if I can't figure out how to percentually size the graphs) :</p>\n<p><a href=\"https://i.stack.imgur.com/P75r4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P75r4.png\" alt=\"An example of the current state of the widget.\" /></a></p>\n<p>I chose this approach because I can't use <code>ConstraintLayout</code> in <code>RemoteViews</code>. Everything seemed to work nicely, but when I wanted to programmatically change the size of the spacer based on data from the api (so the sizes of the graphs truly match the percentage increase of the stock value), I wasn't able to. There is, as far as I could see, no way to change the <code>layout_weight</code> of a <code>LinearLayout</code> in a <code>RemoteView</code> in java.</p>\n<p>I then thought maybe my last hope would be to find the container - which contains all the graphs - its height by using <code>findViewById</code>, but that's also not possible with <code>RemoteViews</code>. I then would've seen the container's height as <code>100%</code> and then set the height of the other <code>LinearLayout</code>s according to that size. 60% would be 0.6 times the height I fetched from the container. But that, I'm afraid, is also not possible.</p>\n<p>So I actually have no clue how to programmatically find out how high a <code>LinearLayout</code> is or how I can change the size of a <code>LinearLayout</code> percentually. It seems like I always already need to know the sizes of the containers which will be used in the widget? Which is kind of annoying as the content varies and it needs to be rendered differently based on the ratio of each gain of each asset.</p>\n<p>Am I missing a certain way to approach this? I can't seem to find much more on the Android Developers documentation... Cheers!</p>\n"},{"tags":["java","android","sqlite","android-room"],"answers":[{"tags":[],"owner":{"account_id":4844922,"reputation":1188,"user_id":3908814,"display_name":"Bejond"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1523698424,"creation_date":1523698424,"answer_id":49830000,"question_id":49829672,"body_markdown":"Each time you save a model, you need to search database for if it exists. The search condition(s) should be remarkable, which can locate unique message. Here you can use messageId as search condition. If it exists, update it. If not, create new message and insert it.","title":"How to avoid duplicate data entry in a table in Room Db?","body":"<p>Each time you save a model, you need to search database for if it exists. The search condition(s) should be remarkable, which can locate unique message. Here you can use messageId as search condition. If it exists, update it. If not, create new message and insert it.</p>\n"},{"tags":[],"owner":{"account_id":9751997,"reputation":1069,"user_id":7229971,"accept_rate":25,"display_name":"KuLdip PaTel"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1569296449,"creation_date":1523698491,"answer_id":49830013,"question_id":49829672,"body_markdown":"you have to change your Entity class like this\r\n\r\n**In Java**\r\n    \r\n    @Entity(tableName = &quot;chat_message_table&quot;, indices = @Index(value = {&quot;messageId&quot;}, unique = true))\r\n    public class Message {\r\n    ...\r\n    }\r\n\r\n**In Kotlin**\r\n\r\n   \r\n\r\n    @Entity(tableName = &quot;chat_message_table&quot;, indices = [Index(value = [&quot;messageId&quot;], unique = true)])\r\n    data class Message(@ColumnInfo(name = &quot;messageId&quot;) val messageId: String) {\r\n     @PrimaryKey(autoGenerate = true)\r\n     var _Id: Int = 0\r\n     ...\r\n     }\r\n\r\n","title":"How to avoid duplicate data entry in a table in Room Db?","body":"<p>you have to change your Entity class like this</p>\n\n<p><strong>In Java</strong></p>\n\n<pre><code>@Entity(tableName = \"chat_message_table\", indices = @Index(value = {\"messageId\"}, unique = true))\npublic class Message {\n...\n}\n</code></pre>\n\n<p><strong>In Kotlin</strong></p>\n\n<pre><code>@Entity(tableName = \"chat_message_table\", indices = [Index(value = [\"messageId\"], unique = true)])\ndata class Message(@ColumnInfo(name = \"messageId\") val messageId: String) {\n @PrimaryKey(autoGenerate = true)\n var _Id: Int = 0\n ...\n }\n</code></pre>\n"}],"owner":{"account_id":3685172,"reputation":539,"user_id":3069074,"display_name":"Ravi Rajput"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6782,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":49830013,"answer_count":2,"score":8,"last_activity_date":1676890513,"creation_date":1523696224,"question_id":49829672,"body_markdown":"I am using RoomDb to store the messages in the device using room database. Each Message contain a unique Id which is generated when storing message on a server. \r\nWhen a message is downloaded and stored in a Room database and again if I try to download the message it again gets downloaded and saved to room db.\r\n\r\nI tried using replace strategy, but still it doesnt works \r\n\r\n     @Insert(onConflict = OnConflictStrategy.REPLACE)\r\n        void saveMessage(ArrayList&lt;Message&gt; messages);\r\n\r\nThe above code is supposed to replace the existing message, but its not doing so.\r\n\r\nMessage model looks like this.\r\n\r\n    public class Message {\r\n    \r\n        @Exclude\r\n        @PrimaryKey(autoGenerate = true)\r\n        public long _id;\r\n    \r\n        @Exclude\r\n        @ColumnInfo(name = &quot;messageId&quot;)\r\n        public String id;\r\n    \r\n        @Exclude\r\n        public boolean outbox;\r\n        @Exclude\r\n        public boolean pending;\r\n    \r\n        @Exclude\r\n        public boolean draft;\r\n    \r\n        @Exclude\r\n        @ColumnInfo(typeAffinity = ColumnInfo.BLOB)\r\n        public byte[] thumbnail;\r\n        @Exclude\r\n        public boolean downloaded;\r\n        @Exclude\r\n        public boolean seen;\r\n        @Exclude\r\n        public boolean liked;\r\n        @Exclude\r\n        public boolean disliked;\r\n        @Exclude\r\n        public String path;     // Local attachment path\r\n    \r\n        @Exclude\r\n        public String localFilePath; //Local attachment file path\r\n    \r\n        public String title;\r\n        public String body;\r\n        public String type;\r\n        public String image;\r\n        public String file;\r\n        public String audio;\r\n        public String video;\r\n    \r\n      \r\n    }","title":"How to avoid duplicate data entry in a table in Room Db?","body":"<p>I am using RoomDb to store the messages in the device using room database. Each Message contain a unique Id which is generated when storing message on a server. \nWhen a message is downloaded and stored in a Room database and again if I try to download the message it again gets downloaded and saved to room db.</p>\n\n<p>I tried using replace strategy, but still it doesnt works </p>\n\n<pre><code> @Insert(onConflict = OnConflictStrategy.REPLACE)\n    void saveMessage(ArrayList&lt;Message&gt; messages);\n</code></pre>\n\n<p>The above code is supposed to replace the existing message, but its not doing so.</p>\n\n<p>Message model looks like this.</p>\n\n<pre><code>public class Message {\n\n    @Exclude\n    @PrimaryKey(autoGenerate = true)\n    public long _id;\n\n    @Exclude\n    @ColumnInfo(name = \"messageId\")\n    public String id;\n\n    @Exclude\n    public boolean outbox;\n    @Exclude\n    public boolean pending;\n\n    @Exclude\n    public boolean draft;\n\n    @Exclude\n    @ColumnInfo(typeAffinity = ColumnInfo.BLOB)\n    public byte[] thumbnail;\n    @Exclude\n    public boolean downloaded;\n    @Exclude\n    public boolean seen;\n    @Exclude\n    public boolean liked;\n    @Exclude\n    public boolean disliked;\n    @Exclude\n    public String path;     // Local attachment path\n\n    @Exclude\n    public String localFilePath; //Local attachment file path\n\n    public String title;\n    public String body;\n    public String type;\n    public String image;\n    public String file;\n    public String audio;\n    public String video;\n\n\n}\n</code></pre>\n"},{"tags":["java","sql","sequence","derby"],"answers":[{"tags":[],"owner":{"display_name":"user330315"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1303297111,"creation_date":1303297111,"answer_id":5729176,"question_id":5729063,"body_markdown":"Use NEXT VALUE FOR as documented in the manual:\r\n\r\nhttp://db.apache.org/derby/docs/10.7/ref/rrefsqljnextvaluefor.html#rrefsqljnextvaluefor","title":"How to use SEQUENCE in Apache Derby?","body":"<p>Use NEXT VALUE FOR as documented in the manual:</p>\n\n<p><a href=\"http://db.apache.org/derby/docs/10.7/ref/rrefsqljnextvaluefor.html#rrefsqljnextvaluefor\" rel=\"nofollow\">http://db.apache.org/derby/docs/10.7/ref/rrefsqljnextvaluefor.html#rrefsqljnextvaluefor</a></p>\n"},{"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1303297140,"creation_date":1303297140,"answer_id":5729182,"question_id":5729063,"body_markdown":"Apache Derby Doc says: [Use a NEXT VALUE FOR expression][1]\r\n\r\nShould be something like\r\n\r\n    SELECT NEXT VALUE FOR SAMPLE_SEQ;\r\n\r\n\r\n  [1]: http://db.apache.org/derby/docs/10.6/ref/rrefsqljnextvaluefor.html#rrefsqljnextvaluefor","title":"How to use SEQUENCE in Apache Derby?","body":"<p>Apache Derby Doc says: <a href=\"http://db.apache.org/derby/docs/10.6/ref/rrefsqljnextvaluefor.html#rrefsqljnextvaluefor\" rel=\"noreferrer\">Use a NEXT VALUE FOR expression</a></p>\n\n<p>Should be something like</p>\n\n<pre><code>SELECT NEXT VALUE FOR SAMPLE_SEQ;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":302911,"reputation":19,"user_id":611544,"display_name":"user611544"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1305603911,"creation_date":1305603911,"answer_id":6026018,"question_id":5729063,"body_markdown":"To get the current value of the sequence the following SQL should be executed:\r\n\r\n    SELECT CURRENTVALUE FROM SYS.SYSSEQUENCES WHERE SEQUENCENAME=&#39;SAMPLE_SEQ&#39;\r\n","title":"How to use SEQUENCE in Apache Derby?","body":"<p>To get the current value of the sequence the following SQL should be executed:</p>\n\n<pre><code>SELECT CURRENTVALUE FROM SYS.SYSSEQUENCES WHERE SEQUENCENAME='SAMPLE_SEQ'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":262886,"reputation":1526,"user_id":548073,"accept_rate":69,"display_name":"sola"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1373537667,"creation_date":1373537667,"answer_id":17590752,"question_id":5729063,"body_markdown":"In the SQL command prompt, you can query the next value with this statement:\r\n\r\n    values NEXT VALUE FOR &lt;sequence_name&gt;\r\n\r\nThis will work as an expression embedded into an INSERT statement. E.g.:\r\n\r\n    INSERT INTO &lt;table_name&gt; (IDFIELD) VALUES (NEXT VALUE FOR &lt;sequence_name&gt;)\r\n\r\n\r\n","title":"How to use SEQUENCE in Apache Derby?","body":"<p>In the SQL command prompt, you can query the next value with this statement:</p>\n\n<pre><code>values NEXT VALUE FOR &lt;sequence_name&gt;\n</code></pre>\n\n<p>This will work as an expression embedded into an INSERT statement. E.g.:</p>\n\n<pre><code>INSERT INTO &lt;table_name&gt; (IDFIELD) VALUES (NEXT VALUE FOR &lt;sequence_name&gt;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4669744,"reputation":1072,"user_id":3781816,"display_name":"ankurrc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1518124457,"creation_date":1446124927,"answer_id":33415438,"question_id":5729063,"body_markdown":"In case you want to fetch the &#39;current value&#39; from the &#39;sequence&#39;:\r\n\r\n - **values ( next value for &lt;*sequence*&gt; )** \r\n\r\nSame in Java using JDBC:\r\n\r\n    ResultSet rs = conn.prepareStatement(&quot;values (next value for &lt;sequence&gt;)&quot;).executeQuery();\r\n    rs.next();\r\n    int seqValue = rs.getInt(1);\r\n\r\nSource:\r\n[Derby-user-mailing list archive][1]\r\n\r\n\r\n  [1]: http://mail-archives.apache.org/mod_mbox/db-derby-user/201201.mbox/%3CCA+fW5=cLnOOOtxt0-cQp2pdHBo=3Z8dhfXd3L16=EikgVPRfsg@mail.gmail.com%3E","title":"How to use SEQUENCE in Apache Derby?","body":"<p>In case you want to fetch the 'current value' from the 'sequence':</p>\n\n<ul>\n<li><strong>values ( next value for &lt;<em>sequence</em>> )</strong> </li>\n</ul>\n\n<p>Same in Java using JDBC:</p>\n\n<pre><code>ResultSet rs = conn.prepareStatement(\"values (next value for &lt;sequence&gt;)\").executeQuery();\nrs.next();\nint seqValue = rs.getInt(1);\n</code></pre>\n\n<p>Source:\n<a href=\"http://mail-archives.apache.org/mod_mbox/db-derby-user/201201.mbox/%3CCA+fW5=cLnOOOtxt0-cQp2pdHBo=3Z8dhfXd3L16=EikgVPRfsg@mail.gmail.com%3E\" rel=\"nofollow noreferrer\">Derby-user-mailing list archive</a></p>\n"},{"tags":[],"owner":{"account_id":1536969,"reputation":1409,"user_id":1432734,"display_name":"Adam Gawne-Cain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676890427,"creation_date":1676890427,"answer_id":75508318,"question_id":5729063,"body_markdown":"The following SQL returns the next value of a SEQUENCE in Derby:\r\n\r\n    select next value for SAMPLE_SEQ from (values 1) t\r\n\r\nThe part &quot;(values 1) t&quot; makes a table with 1 row and 1 column, which then gets substituted with the next value from the sequence.   In Oracle you can use the standard DUAL table, and in other databases you can execute SELECT without a table.","title":"How to use SEQUENCE in Apache Derby?","body":"<p>The following SQL returns the next value of a SEQUENCE in Derby:</p>\n<pre><code>select next value for SAMPLE_SEQ from (values 1) t\n</code></pre>\n<p>The part &quot;(values 1) t&quot; makes a table with 1 row and 1 column, which then gets substituted with the next value from the sequence.   In Oracle you can use the standard DUAL table, and in other databases you can execute SELECT without a table.</p>\n"}],"owner":{"account_id":28814,"reputation":5771,"user_id":77278,"accept_rate":79,"display_name":"Tomasz Bachowicz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18707,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"accepted_answer_id":5729182,"answer_count":6,"score":9,"last_activity_date":1676890427,"creation_date":1303296524,"question_id":5729063,"body_markdown":"I&#39;d like to use SEQUENCE support in Apache Derby 10.7. I&#39;ve created the sequence with the following statement:\r\n    \r\n    CREATE SEQUENCE SAMPLE_SEQ AS INT MAXVALUE 999999 CYCLE;\r\n\r\nHow can I select next/current value from the `SAMPLE_SEQ`? Could you please help me out with the query?","title":"How to use SEQUENCE in Apache Derby?","body":"<p>I'd like to use SEQUENCE support in Apache Derby 10.7. I've created the sequence with the following statement:</p>\n\n<pre><code>CREATE SEQUENCE SAMPLE_SEQ AS INT MAXVALUE 999999 CYCLE;\n</code></pre>\n\n<p>How can I select next/current value from the <code>SAMPLE_SEQ</code>? Could you please help me out with the query?</p>\n"},{"tags":["java","android","firebase","firebase-authentication","firebase-cloud-messaging"],"answers":[{"tags":[],"owner":{"account_id":426109,"reputation":302012,"user_id":807126,"display_name":"Doug Stevenson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1594227225,"creation_date":1594227225,"answer_id":62799754,"question_id":62799685,"body_markdown":"Firebase Cloud Messaging tokens are unique to the **device**, not the **user**.  It doesn&#39;t know anything about Firebase Auth users, and Firebase Auth doesn&#39;t know anything about FCM device tokens.\r\n\r\nYou will need to store a mapping of users to their device tokens.  Since a user could be using multiple devices, your data structure should allow for multiple tokens for each user.  Then, your backend code should query for those tokens and send the message to each one of them (if that&#39;s what your users want).\r\n","title":"How to get Firebase token of current user","body":"<p>Firebase Cloud Messaging tokens are unique to the <strong>device</strong>, not the <strong>user</strong>.  It doesn't know anything about Firebase Auth users, and Firebase Auth doesn't know anything about FCM device tokens.</p>\n<p>You will need to store a mapping of users to their device tokens.  Since a user could be using multiple devices, your data structure should allow for multiple tokens for each user.  Then, your backend code should query for those tokens and send the message to each one of them (if that's what your users want).</p>\n"},{"tags":[],"owner":{"account_id":15789451,"reputation":317,"user_id":11393117,"display_name":"Malindu Sasanga"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1647571876,"creation_date":1647571876,"answer_id":71521971,"question_id":62799685,"body_markdown":"You can get the current user id using this code.\r\n\r\n`FirebaseAuth.getInstance().getCurrentUser().getUid();`","title":"How to get Firebase token of current user","body":"<p>You can get the current user id using this code.</p>\n<p><code>FirebaseAuth.getInstance().getCurrentUser().getUid();</code></p>\n"},{"tags":[],"owner":{"account_id":9313381,"reputation":860,"user_id":6914403,"display_name":"Jithin Jude"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676890159,"creation_date":1676890159,"answer_id":75508277,"question_id":62799685,"body_markdown":"New token can be get from onNewToken of FirebaseMessagingService class.    \r\n\r\n    @Override\r\n            public void onNewToken(String token) {\r\n                super.onNewToken(token);\r\n            }","title":"How to get Firebase token of current user","body":"<p>New token can be get from onNewToken of FirebaseMessagingService class.</p>\n<pre><code>@Override\n        public void onNewToken(String token) {\n            super.onNewToken(token);\n        }\n</code></pre>\n"}],"owner":{"account_id":14399843,"reputation":112,"user_id":11495009,"display_name":"Agent smith 2.0"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2872,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":62799754,"answer_count":3,"score":5,"last_activity_date":1676890159,"creation_date":1594227021,"question_id":62799685,"body_markdown":"I&#39;m buildning an app where a logged in user can invite another user through pressing a button, so then the invited user will get a push notification. My idea is that if I can save the token for each user in the database, then when a user presses the &quot;invite button&quot; it will find that users token in the database and after that I will somehow use it to send a notification to that user. I don&#39;t know if there is a better way of doing it, but I didn&#39;t find anything else on it so that is my current plan.\r\n\r\nNow I have run into some issues regarding how to save the token to the database. I want to do save it to the database whenever a user creates an account or the token changes. \r\n\r\n````\r\npublic class RegisterActivity extends AppCompatActivity {\r\n\r\n    private FirebaseAuth mAuth;\r\n\r\n    String username;\r\n    String password;\r\n    String age;\r\n    String email;\r\n    \r\n    DatabaseReference mRootRef = FirebaseDatabase.getInstance().getReference();\r\n    DatabaseReference mRootPlayerBaseRef = mRootRef.child(&quot;Players&quot;);\r\n\r\n    private static final String TAG = &quot;EmailPassword&quot;;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_register);\r\n\r\n        // [START initialize_auth]\r\n        // Initialize Firebase Authentication\r\n        mAuth = FirebaseAuth.getInstance();\r\n        // [END initialize_auth]\r\n    }\r\n\r\n\r\n    private void updateUI() {\r\n        Intent mainIntent = new Intent(RegisterActivity.this, LoginActivity.class);\r\n        mainIntent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n        mainIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n        startActivity(mainIntent);\r\n        overridePendingTransition(android.R.anim.fade_in, android.R.anim.fade_out);\r\n    }\r\n\r\n    public void checkValues(View view) {\r\n        final EditText userEdit = (EditText) findViewById(R.id.username_field);\r\n        username = userEdit.getText().toString();\r\n        final EditText emailEdit = (EditText) findViewById(R.id.email_field);\r\n        email = emailEdit.getText().toString();\r\n        final EditText passwordEdit = (EditText) findViewById(R.id.password_field);\r\n        password = passwordEdit.getText().toString();\r\n        final EditText ageEdit = (EditText) findViewById(R.id.age_field);\r\n        age = ageEdit.getText().toString();\r\n\r\n\r\n        if (username.equals(&quot;&quot;) || email.equals(&quot;&quot;) || password.equals(&quot;&quot;) || age.equals(&quot;&quot;)){\r\n            Toast.makeText(RegisterActivity.this, &quot;Please fill in all information&quot;, Toast.LENGTH_LONG).show();\r\n            return;}\r\n\r\n        if (username.length() &lt; 4){\r\n            Toast.makeText(RegisterActivity.this, &quot;Username has to be at least 4 characters&quot;, Toast.LENGTH_LONG).show();\r\n            return;\r\n        }\r\n\r\n        if (Integer.parseInt(age) &lt; 5 || Integer.parseInt(age) &gt; 120){\r\n            Toast.makeText(RegisterActivity.this, &quot;Enter a valid age&quot;, Toast.LENGTH_LONG).show();\r\n            return;\r\n        }\r\n\r\n        //last thing to check is if username already exists\r\n        checkUsedUsername(username);\r\n\r\n    }\r\n\r\n    public void login(View view) {\r\n        Intent mainIntent = new Intent(RegisterActivity.this, LoginActivity.class);\r\n        startActivity(mainIntent);\r\n        overridePendingTransition(android.R.anim.fade_in, android.R.anim.fade_out);\r\n    }\r\n\r\n    public void checkUsedUsername(final String username){\r\n        mRootPlayerBaseRef.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                //check if username exist otherwise create account\r\n                for (DataSnapshot data: dataSnapshot.getChildren()) {\r\n                    if (username.equals(data.child(&quot;username&quot;).getValue())){\r\n                        Toast.makeText(RegisterActivity.this, &quot;Username already taken&quot;, Toast.LENGTH_LONG).show();\r\n                        return;}\r\n                }\r\n                createAccount();\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError databaseError) {\r\n                Toast.makeText(RegisterActivity.this, &quot;Error&quot;, Toast.LENGTH_SHORT).show();\r\n                Toast.makeText(RegisterActivity.this, databaseError.getMessage(), Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }\r\n\r\n    private void createAccount(){\r\n        // [START create_user_with_email], built in function which checks if user can be created and insert it into auth database\r\n        mAuth.createUserWithEmailAndPassword(email, password)\r\n                .addOnCompleteListener(this, new OnCompleteListener&lt;AuthResult&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                        //if this was successful the user will now be in the database\r\n                        if (task.isSuccessful()) {\r\n                            //fetch the user\r\n                            FirebaseUser user = mAuth.getCurrentUser();\r\n\r\n                            //this set the created users getDisplayName() = username\r\n                            UserProfileChangeRequest profileUpdates = new UserProfileChangeRequest.Builder()\r\n                                    .setDisplayName(username).build();\r\n                            assert user != null;\r\n                            user.updateProfile(profileUpdates);\r\n\r\n                            //Here I would like to get the token so I can save it when a user is created\r\n\r\n                            //get unique user id\r\n                            String userID = user.getUid();\r\n                            //create the user that will be inserted into the database\r\n                            Player newPlayer = new Player(username, age, email);\r\n                            //adding child(userID) will make we don&#180;t replace previous user and actually insert new user, it becomes the key\r\n                            mRootPlayerBaseRef.child(userID).setValue(newPlayer);\r\n\r\n                            Toast.makeText(RegisterActivity.this, &quot;Account was created successfully&quot;, Toast.LENGTH_LONG).show();\r\n                            updateUI();\r\n                        } else {\r\n                            try\r\n                            {\r\n                                throw Objects.requireNonNull(task.getException());\r\n                            }\r\n                            // if user enters wrong email.\r\n                            catch (FirebaseAuthWeakPasswordException weakPassword)\r\n                            {\r\n                                Log.d(TAG, &quot;onComplete: weak_password&quot;);\r\n                                Toast.makeText(RegisterActivity.this, &quot;Password to weak&quot;, Toast.LENGTH_LONG).show();\r\n                            }\r\n                            // if user enters wrong password.\r\n                            catch (FirebaseAuthInvalidCredentialsException malformedEmail)\r\n                            {\r\n                                Log.d(TAG, &quot;onComplete: malformed_email&quot;);\r\n                                Toast.makeText(RegisterActivity.this, &quot;Wrong email&quot;, Toast.LENGTH_LONG).show();\r\n                            }\r\n                            catch (FirebaseAuthUserCollisionException existEmail)\r\n                            {\r\n                                Log.d(TAG, &quot;onComplete: exist_email&quot;);\r\n                                Toast.makeText(RegisterActivity.this, &quot;Email already exists&quot;, Toast.LENGTH_LONG).show();\r\n                            }\r\n                            catch (Exception e)\r\n                            {\r\n                                Toast.makeText(RegisterActivity.this, &quot;Error&quot;, Toast.LENGTH_SHORT).show();\r\n                                Toast.makeText(RegisterActivity.this, &quot;Please try again&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        }\r\n\r\n                    }\r\n                });\r\n        // [END create_user_with_email]\r\n    }\r\n}\r\n````\r\n\r\n\r\n````\r\npublic class MessagingService extends FirebaseMessagingService {\r\n\r\n    @Override\r\n    public void onNewToken(String s) {\r\n        super.onNewToken(s);\r\n        Log.d(&quot;NEW_TOKEN&quot;,s); //here we get the token so we can communicate with the database\r\n    }\r\n\r\n    //does not work as &quot;Method does not override method from its superclass&quot;\r\n    @Override\r\n    public void onTokenRefresh() {\r\n        super.onTokenRefresh();\r\n\r\n    }\r\n}\r\n````\r\n\r\nWhat I want to do is to save the token in the user in the database together with the other variables such as username, age, etc. \r\n\r\nI was hoping there would be something like this to get the token, but it doesn&#39;t seem that way: \r\n   \r\n    FirebaseAuth.getInstance().getCurrentUser().getIdToken(true) //this does not work\r\n\r\nSo what I&#39;m really asking is how do I get the current token for the user?\r\n","title":"How to get Firebase token of current user","body":"<p>I'm buildning an app where a logged in user can invite another user through pressing a button, so then the invited user will get a push notification. My idea is that if I can save the token for each user in the database, then when a user presses the &quot;invite button&quot; it will find that users token in the database and after that I will somehow use it to send a notification to that user. I don't know if there is a better way of doing it, but I didn't find anything else on it so that is my current plan.</p>\n<p>Now I have run into some issues regarding how to save the token to the database. I want to do save it to the database whenever a user creates an account or the token changes.</p>\n<pre><code>public class RegisterActivity extends AppCompatActivity {\n\n    private FirebaseAuth mAuth;\n\n    String username;\n    String password;\n    String age;\n    String email;\n    \n    DatabaseReference mRootRef = FirebaseDatabase.getInstance().getReference();\n    DatabaseReference mRootPlayerBaseRef = mRootRef.child(&quot;Players&quot;);\n\n    private static final String TAG = &quot;EmailPassword&quot;;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_register);\n\n        // [START initialize_auth]\n        // Initialize Firebase Authentication\n        mAuth = FirebaseAuth.getInstance();\n        // [END initialize_auth]\n    }\n\n\n    private void updateUI() {\n        Intent mainIntent = new Intent(RegisterActivity.this, LoginActivity.class);\n        mainIntent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK);\n        mainIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n        startActivity(mainIntent);\n        overridePendingTransition(android.R.anim.fade_in, android.R.anim.fade_out);\n    }\n\n    public void checkValues(View view) {\n        final EditText userEdit = (EditText) findViewById(R.id.username_field);\n        username = userEdit.getText().toString();\n        final EditText emailEdit = (EditText) findViewById(R.id.email_field);\n        email = emailEdit.getText().toString();\n        final EditText passwordEdit = (EditText) findViewById(R.id.password_field);\n        password = passwordEdit.getText().toString();\n        final EditText ageEdit = (EditText) findViewById(R.id.age_field);\n        age = ageEdit.getText().toString();\n\n\n        if (username.equals(&quot;&quot;) || email.equals(&quot;&quot;) || password.equals(&quot;&quot;) || age.equals(&quot;&quot;)){\n            Toast.makeText(RegisterActivity.this, &quot;Please fill in all information&quot;, Toast.LENGTH_LONG).show();\n            return;}\n\n        if (username.length() &lt; 4){\n            Toast.makeText(RegisterActivity.this, &quot;Username has to be at least 4 characters&quot;, Toast.LENGTH_LONG).show();\n            return;\n        }\n\n        if (Integer.parseInt(age) &lt; 5 || Integer.parseInt(age) &gt; 120){\n            Toast.makeText(RegisterActivity.this, &quot;Enter a valid age&quot;, Toast.LENGTH_LONG).show();\n            return;\n        }\n\n        //last thing to check is if username already exists\n        checkUsedUsername(username);\n\n    }\n\n    public void login(View view) {\n        Intent mainIntent = new Intent(RegisterActivity.this, LoginActivity.class);\n        startActivity(mainIntent);\n        overridePendingTransition(android.R.anim.fade_in, android.R.anim.fade_out);\n    }\n\n    public void checkUsedUsername(final String username){\n        mRootPlayerBaseRef.addListenerForSingleValueEvent(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n                //check if username exist otherwise create account\n                for (DataSnapshot data: dataSnapshot.getChildren()) {\n                    if (username.equals(data.child(&quot;username&quot;).getValue())){\n                        Toast.makeText(RegisterActivity.this, &quot;Username already taken&quot;, Toast.LENGTH_LONG).show();\n                        return;}\n                }\n                createAccount();\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError databaseError) {\n                Toast.makeText(RegisterActivity.this, &quot;Error&quot;, Toast.LENGTH_SHORT).show();\n                Toast.makeText(RegisterActivity.this, databaseError.getMessage(), Toast.LENGTH_SHORT).show();\n            }\n        });\n    }\n\n    private void createAccount(){\n        // [START create_user_with_email], built in function which checks if user can be created and insert it into auth database\n        mAuth.createUserWithEmailAndPassword(email, password)\n                .addOnCompleteListener(this, new OnCompleteListener&lt;AuthResult&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                        //if this was successful the user will now be in the database\n                        if (task.isSuccessful()) {\n                            //fetch the user\n                            FirebaseUser user = mAuth.getCurrentUser();\n\n                            //this set the created users getDisplayName() = username\n                            UserProfileChangeRequest profileUpdates = new UserProfileChangeRequest.Builder()\n                                    .setDisplayName(username).build();\n                            assert user != null;\n                            user.updateProfile(profileUpdates);\n\n                            //Here I would like to get the token so I can save it when a user is created\n\n                            //get unique user id\n                            String userID = user.getUid();\n                            //create the user that will be inserted into the database\n                            Player newPlayer = new Player(username, age, email);\n                            //adding child(userID) will make we dont replace previous user and actually insert new user, it becomes the key\n                            mRootPlayerBaseRef.child(userID).setValue(newPlayer);\n\n                            Toast.makeText(RegisterActivity.this, &quot;Account was created successfully&quot;, Toast.LENGTH_LONG).show();\n                            updateUI();\n                        } else {\n                            try\n                            {\n                                throw Objects.requireNonNull(task.getException());\n                            }\n                            // if user enters wrong email.\n                            catch (FirebaseAuthWeakPasswordException weakPassword)\n                            {\n                                Log.d(TAG, &quot;onComplete: weak_password&quot;);\n                                Toast.makeText(RegisterActivity.this, &quot;Password to weak&quot;, Toast.LENGTH_LONG).show();\n                            }\n                            // if user enters wrong password.\n                            catch (FirebaseAuthInvalidCredentialsException malformedEmail)\n                            {\n                                Log.d(TAG, &quot;onComplete: malformed_email&quot;);\n                                Toast.makeText(RegisterActivity.this, &quot;Wrong email&quot;, Toast.LENGTH_LONG).show();\n                            }\n                            catch (FirebaseAuthUserCollisionException existEmail)\n                            {\n                                Log.d(TAG, &quot;onComplete: exist_email&quot;);\n                                Toast.makeText(RegisterActivity.this, &quot;Email already exists&quot;, Toast.LENGTH_LONG).show();\n                            }\n                            catch (Exception e)\n                            {\n                                Toast.makeText(RegisterActivity.this, &quot;Error&quot;, Toast.LENGTH_SHORT).show();\n                                Toast.makeText(RegisterActivity.this, &quot;Please try again&quot;, Toast.LENGTH_SHORT).show();\n                            }\n                        }\n\n                    }\n                });\n        // [END create_user_with_email]\n    }\n}\n</code></pre>\n<pre><code>public class MessagingService extends FirebaseMessagingService {\n\n    @Override\n    public void onNewToken(String s) {\n        super.onNewToken(s);\n        Log.d(&quot;NEW_TOKEN&quot;,s); //here we get the token so we can communicate with the database\n    }\n\n    //does not work as &quot;Method does not override method from its superclass&quot;\n    @Override\n    public void onTokenRefresh() {\n        super.onTokenRefresh();\n\n    }\n}\n</code></pre>\n<p>What I want to do is to save the token in the user in the database together with the other variables such as username, age, etc.</p>\n<p>I was hoping there would be something like this to get the token, but it doesn't seem that way:</p>\n<pre><code>FirebaseAuth.getInstance().getCurrentUser().getIdToken(true) //this does not work\n</code></pre>\n<p>So what I'm really asking is how do I get the current token for the user?</p>\n"},{"tags":["java","encryption","dart","aes","pkcs#7"],"comments":[{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1568220229,"post_id":57892036,"comment_id":102208470,"body_markdown":"The IV that was used for the encryption is required for the decryption. The IV doesn&#39;t need to be kept secret and is usually prepended to the ciphertext. \nThe data are then Base64 encoded together. On the decryption side, after Base64 decoding, both parts are separated again. By the way: It is also common&#180;\nto generate the IV explicitly, e.g. [here](https://stackoverflow.com/a/29267873/9014097).","body":"The IV that was used for the encryption is required for the decryption. The IV doesn&#39;t need to be kept secret and is usually prepended to the ciphertext.  The data are then Base64 encoded together. On the decryption side, after Base64 decoding, both parts are separated again. By the way: It is also common&#180; to generate the IV explicitly, e.g. <a href=\"https://stackoverflow.com/a/29267873/9014097\">here</a>."},{"owner":{"account_id":1330451,"reputation":14745,"user_id":1274485,"accept_rate":71,"display_name":"Yann39"},"score":0,"creation_date":1568270233,"post_id":57892036,"comment_id":102222445,"body_markdown":"But the IV should be [pseudo]random generated right ? The Cipher is supposed to generate it so I trusted Java on this point. If I explicitly use `SecureRandom` as stated in the link you provided, still how would I get it on Dart side for decryption ?","body":"But the IV should be [pseudo]random generated right ? The Cipher is supposed to generate it so I trusted Java on this point. If I explicitly use <code>SecureRandom</code> as stated in the link you provided, still how would I get it on Dart side for decryption ?"},{"owner":{"account_id":1330451,"reputation":14745,"user_id":1274485,"accept_rate":71,"display_name":"Yann39"},"score":0,"creation_date":1568271893,"post_id":57892036,"comment_id":102223120,"body_markdown":"OK I just saw that I can pass it as 3rd parameter of the cipher initialization, so I added `new IvParameterSpec(&quot;ThisIVisAmazing!&quot;.getBytes(StandardCharsets.UTF_8))` to the `cipher.init` method, then on Dart side I now use `final iv = encrypt.IV.fromUtf8(&quot;ThisIVisAmazing!&quot;);` and finally get the right decrypted string :) Maybe just wondering if using hardcoded key and IV is a good practice ? BTW you can post your comment as an answer I would be happy to accept it.","body":"OK I just saw that I can pass it as 3rd parameter of the cipher initialization, so I added <code>new IvParameterSpec(&quot;ThisIVisAmazing!&quot;.getBytes(StandardCharsets&zwnj;&#8203;.UTF_8))</code> to the <code>cipher.init</code> method, then on Dart side I now use <code>final iv = encrypt.IV.fromUtf8(&quot;ThisIVisAmazing!&quot;);</code> and finally get the right decrypted string :) Maybe just wondering if using hardcoded key and IV is a good practice ? BTW you can post your comment as an answer I would be happy to accept it."},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1568309686,"post_id":57892036,"comment_id":102243130,"body_markdown":"Be careful: It would be the wrong approach to hardcode the IV on both sides. The IV is generated on the encryption-side, passed to the decryption-side together with the ciphertext, and used there for decryption, i.e. the IV is not fixed, but rather dynamic, see my answer.","body":"Be careful: It would be the wrong approach to hardcode the IV on both sides. The IV is generated on the encryption-side, passed to the decryption-side together with the ciphertext, and used there for decryption, i.e. the IV is not fixed, but rather dynamic, see my answer."},{"owner":{"account_id":8441706,"reputation":872,"user_id":6333971,"display_name":"Bhavin Patel"},"score":0,"creation_date":1597387692,"post_id":57892036,"comment_id":112121318,"body_markdown":"can you please share final code of dart?","body":"can you please share final code of dart?"},{"owner":{"account_id":1330451,"reputation":14745,"user_id":1274485,"accept_rate":71,"display_name":"Yann39"},"score":0,"creation_date":1597391790,"post_id":57892036,"comment_id":112122964,"body_markdown":"Sure, I posted it as an answer as it is too long for a comment. Best.","body":"Sure, I posted it as an answer as it is too long for a comment. Best."}],"answers":[{"tags":[],"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1568309386,"creation_date":1568309386,"answer_id":57911838,"question_id":57892036,"body_markdown":"- Two things must be taken into account:\r\n \r\n 1) For decryption, the IV used for encryption is required. \r\n \r\n 2) For security reasons, a new IV must be randomly generated for each encryption so that no IV is used more than once with the same key, [here][1]. \r\n\r\n\r\n  \r\n Therfore, the IV must be passed from the encryption-side to the decryption-side. This doesn&#39;t happen automatically, but has to be implemented.\r\n\r\n- One possibility is to concatenate the byte-arrays of IV and ciphertext. Usually the IV is placed before the ciphertext and the result is Base64-encoded (if required), e.g. in Java: \r\n\r\n        // Concatenate IV and ciphertext\r\n        byte[] iv = ...\r\n        byte[] ciphertext = ...\r\n        byte[] ivAndCiphertext = new byte[iv.length + ciphertext.length];\r\n        System.arraycopy(iv, 0, ivAndCiphertext, 0, iv.length);\r\n        System.arraycopy(ciphertext, 0, ivAndCiphertext, iv.length, ciphertext.length);\r\n        // If required: Base64-encoding\r\n\r\n This data is transmitted to the decryption-side, which separates both parts after Base64-decoding. In the case of AES-CBC, the IV is 16 bytes long, so the first 16 bytes represent the IV and the rest the ciphertext. The IV doesn&#39;t need to be encrypted because it isn&#39;t secret. \r\n\r\n Specifically for your case this means that you have to concatenate IV and ciphertext on the Java-side and to Base64-encode the result. On the Dart-side you have to Base64-decode first and then both parts, IV and ciphertext, can be separated and used for the following decryption.\r\n\r\n- There are two ways to generate the IV before encryption: Implicit generation by the [`Cipher`][2]-instance as in your example or explicit generation e.g. via [SecureRandom][3]. Both alternatives are discussed [here][4]. If the IV is generated implicitly (via the `Cipher`-instance), then this IV must be determined via the `Cipher`-instance, since it is later required for decryption:\r\n\r\n        // Determine IV from cipher for later decryption\r\n\t    byte[] iv = cipher.getParameters().getParameterSpec(IvParameterSpec.class).getIV();\r\n \r\n If the IV is determined explicitly (e.g. using `SecureRandom`), it must be passed to the `Cipher`-instance so that it will be used in the running encryption. This is done using an [`IvParameterSpec`][5].\r\n\r\n\t    // Assign IV to cipher so that it is used for current encryption\r\n        byte[] iv = ...\r\n        IvParameterSpec ivParameterSpec = new IvParameterSpec(iv);\r\n        cipher.init(Cipher.ENCRYPT_MODE, secretkeySpec, ivParameterSpec);\r\n\r\n- A hard-coded key is in general not good practice (except for testing purposes perhaps). However, the topic of key generation/management is outside the scope of this answer. There are already a lot of questions and answers on this subject. If your question is not covered by these answers, please post a new question. A hard-coded IV doesn&#39;t occur within the above architecture and should only be used for testing purposes.  \r\n\r\n\r\n--------------\r\n\r\n[1]: https://stackoverflow.com/questions/9049789/aes-encryption-key-versus-iv\r\n[2]: https://docs.oracle.com/en/java/javase/12/docs/api/java.base/javax/crypto/Cipher.html\r\n[3]: https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/security/SecureRandom.html\r\n[4]: https://stackoverflow.com/a/29267873/9014097\r\n[5]: https://docs.oracle.com/en/java/javase/12/docs/api/java.base/javax/crypto/spec/IvParameterSpec.html\r\n","title":"Decrypt a Java AES encoded String in Dart","body":"<ul>\n<li><p>Two things must be taken into account:</p>\n\n<p>1) For decryption, the IV used for encryption is required. </p>\n\n<p>2) For security reasons, a new IV must be randomly generated for each encryption so that no IV is used more than once with the same key, <a href=\"https://stackoverflow.com/questions/9049789/aes-encryption-key-versus-iv\">here</a>. </p>\n\n<p>Therfore, the IV must be passed from the encryption-side to the decryption-side. This doesn't happen automatically, but has to be implemented.</p></li>\n<li><p>One possibility is to concatenate the byte-arrays of IV and ciphertext. Usually the IV is placed before the ciphertext and the result is Base64-encoded (if required), e.g. in Java: </p>\n\n<pre><code>// Concatenate IV and ciphertext\nbyte[] iv = ...\nbyte[] ciphertext = ...\nbyte[] ivAndCiphertext = new byte[iv.length + ciphertext.length];\nSystem.arraycopy(iv, 0, ivAndCiphertext, 0, iv.length);\nSystem.arraycopy(ciphertext, 0, ivAndCiphertext, iv.length, ciphertext.length);\n// If required: Base64-encoding\n</code></pre>\n\n<p>This data is transmitted to the decryption-side, which separates both parts after Base64-decoding. In the case of AES-CBC, the IV is 16 bytes long, so the first 16 bytes represent the IV and the rest the ciphertext. The IV doesn't need to be encrypted because it isn't secret. </p>\n\n<p>Specifically for your case this means that you have to concatenate IV and ciphertext on the Java-side and to Base64-encode the result. On the Dart-side you have to Base64-decode first and then both parts, IV and ciphertext, can be separated and used for the following decryption.</p></li>\n<li><p>There are two ways to generate the IV before encryption: Implicit generation by the <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/javax/crypto/Cipher.html\" rel=\"nofollow noreferrer\"><code>Cipher</code></a>-instance as in your example or explicit generation e.g. via <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/security/SecureRandom.html\" rel=\"nofollow noreferrer\">SecureRandom</a>. Both alternatives are discussed <a href=\"https://stackoverflow.com/a/29267873/9014097\">here</a>. If the IV is generated implicitly (via the <code>Cipher</code>-instance), then this IV must be determined via the <code>Cipher</code>-instance, since it is later required for decryption:</p>\n\n<pre><code>// Determine IV from cipher for later decryption\nbyte[] iv = cipher.getParameters().getParameterSpec(IvParameterSpec.class).getIV();\n</code></pre>\n\n<p>If the IV is determined explicitly (e.g. using <code>SecureRandom</code>), it must be passed to the <code>Cipher</code>-instance so that it will be used in the running encryption. This is done using an <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/javax/crypto/spec/IvParameterSpec.html\" rel=\"nofollow noreferrer\"><code>IvParameterSpec</code></a>.</p>\n\n<pre><code>// Assign IV to cipher so that it is used for current encryption\nbyte[] iv = ...\nIvParameterSpec ivParameterSpec = new IvParameterSpec(iv);\ncipher.init(Cipher.ENCRYPT_MODE, secretkeySpec, ivParameterSpec);\n</code></pre></li>\n<li><p>A hard-coded key is in general not good practice (except for testing purposes perhaps). However, the topic of key generation/management is outside the scope of this answer. There are already a lot of questions and answers on this subject. If your question is not covered by these answers, please post a new question. A hard-coded IV doesn't occur within the above architecture and should only be used for testing purposes.  </p></li>\n</ul>\n\n<hr>\n"},{"tags":[],"owner":{"account_id":1330451,"reputation":14745,"user_id":1274485,"accept_rate":71,"display_name":"Yann39"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597391762,"creation_date":1597391762,"answer_id":63408788,"question_id":57892036,"body_markdown":"If it can help someone, here is the code I ended up with, in dart (it uses the `encrypt` package) :\r\n\r\n```dart\r\n/// Decode the specified QR code encrypted string\r\nstatic String decodeQrCode(String encryptedString) {\r\n  try {\r\n    // pad the encrypted base64 string with &#39;=&#39; characters until length matches a multiple of 4\r\n    final int toPad = encryptedString.length % 4;\r\n    if (toPad != 0) {\r\n      encryptedString = encryptedString.padRight(encryptedString.length + toPad, &quot;=&quot;);\r\n    }\r\n\r\n    // get first 16 bytes which is the initialization vector\r\n    final iv = encrypt.IV(Uint8List.fromList(base64Decode(encryptedString).getRange(0, 16).toList()));\r\n\r\n    // get cipher bytes (without initialization vector)\r\n    final encrypt.Encrypted encrypted = encrypt.Encrypted(Uint8List.fromList(\r\n        base64Decode(encryptedString).getRange(16, base64Decode(encryptedString).length).toList()));\r\n\r\n    // decrypt the string using the key and the initialization vector\r\n    final key = encrypt.Key.fromUtf8(YOUR_KEY);\r\n    final encrypter = encrypt.Encrypter(encrypt.AES(key, mode: encrypt.AESMode.cbc, padding: &quot;PKCS7&quot;));\r\n    return encrypter.decrypt(encrypted, iv: iv);\r\n  } catch (e) {\r\n    _log.severe(&quot;Error while decoding QR code : $e&quot;);\r\n    return null;\r\n  }\r\n}\r\n```","title":"Decrypt a Java AES encoded String in Dart","body":"<p>If it can help someone, here is the code I ended up with, in dart (it uses the <code>encrypt</code> package) :</p>\n<pre class=\"lang-dart prettyprint-override\"><code>/// Decode the specified QR code encrypted string\nstatic String decodeQrCode(String encryptedString) {\n  try {\n    // pad the encrypted base64 string with '=' characters until length matches a multiple of 4\n    final int toPad = encryptedString.length % 4;\n    if (toPad != 0) {\n      encryptedString = encryptedString.padRight(encryptedString.length + toPad, &quot;=&quot;);\n    }\n\n    // get first 16 bytes which is the initialization vector\n    final iv = encrypt.IV(Uint8List.fromList(base64Decode(encryptedString).getRange(0, 16).toList()));\n\n    // get cipher bytes (without initialization vector)\n    final encrypt.Encrypted encrypted = encrypt.Encrypted(Uint8List.fromList(\n        base64Decode(encryptedString).getRange(16, base64Decode(encryptedString).length).toList()));\n\n    // decrypt the string using the key and the initialization vector\n    final key = encrypt.Key.fromUtf8(YOUR_KEY);\n    final encrypter = encrypt.Encrypter(encrypt.AES(key, mode: encrypt.AESMode.cbc, padding: &quot;PKCS7&quot;));\n    return encrypter.decrypt(encrypted, iv: iv);\n  } catch (e) {\n    _log.severe(&quot;Error while decoding QR code : $e&quot;);\n    return null;\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":1330451,"reputation":14745,"user_id":1274485,"accept_rate":71,"display_name":"Yann39"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2007,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":57911838,"answer_count":2,"score":1,"last_activity_date":1676890085,"creation_date":1568214360,"question_id":57892036,"body_markdown":"I need to decrypt an AES (PKCS#7) encoded string in my Flutter mobile application.\r\n\r\nThe string is got from a QR Code, which has been generated from a Java application and contains the AES encoded String.\r\n\r\nThe Java encoding :\r\n\r\n```java\r\nimport java.security.Security;\r\nimport java.nio.charset.StandardCharsets;\r\nimport javax.crypto.Cipher;\r\nimport javax.crypto.spec.SecretKeySpec;\r\nimport org.apache.commons.codec.binary.Base64;\r\nimport org.bouncycastle.jce.provider.BouncyCastleProvider;\r\n\r\npublic class MyClass {\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n         String toEncode = &quot;firstname.lastname@mycompany.com;12&quot;;\r\n         String encoded = pleaseEncodeMe(toEncode);\r\n         System.out.println(encoded);\r\n     }\r\n         \r\n     private static String pleaseEncodeMe(String plainText) throws Exception {\r\n         Security.addProvider(new BouncyCastleProvider());\r\n         final String encryptionAlgorithm = &quot;AES/CBC/PKCS7PADDING&quot;;\r\n         final String encryptionKey = &quot;WHatAnAWEsoMeKey&quot;;\r\n         final SecretKeySpec keySpecification = new SecretKeySpec(encryptionKey.getBytes(StandardCharsets.UTF_8), encryptionAlgorithm);\r\n         final Cipher cipher = Cipher.getInstance(encryptionAlgorithm, &quot;BC&quot;);\r\n         cipher.init(Cipher.ENCRYPT_MODE, keySpecification);\r\n         final byte[] encryptedBytes = cipher.doFinal(plainText.getBytes());\r\n         return Base64.encodeBase64URLSafeString(encryptedBytes);\r\n    }\r\n        \r\n}\r\n```\r\n\r\nOutput : `AIRTEuNmSuQtYuysv93w3w83kJJ6sg7kaU7XzA8xrAjOp-lKYPp1brtDAPbhSJmT`\r\n\r\nThe Dart decoding :\r\n\r\n```dart\r\nvoid main() {\r\n    print(decodeMeOrDie(&quot;AIRTEuNmSuQtYuysv93w3w83kJJ6sg7kaU7XzA8xrAjOp-lKYPp1brtDAPbhSJmT&quot;));\r\n}\r\n    \r\nString decodeMeOrDie(String encryptedString) {\r\n    final key = Key.fromUtf8(&quot;WHatAnAWEsoMeKey&quot;);\r\n    final iv = IV.fromLength(16);\r\n    final encrypter = Encrypter(AES(key, mode: AESMode.cbc, padding: &quot;PKCS7&quot;));\r\n    return encrypter.decrypt64(encryptedString, iv: iv);\r\n}\r\n``` \r\n\r\nOutput : `Y\u001B\u0018=X\u0014R\f&quot;Qme@mycompany.com;12`\r\n\r\nYou can see that only a part of the string is decoded.\r\n\r\n","title":"Decrypt a Java AES encoded String in Dart","body":"<p>I need to decrypt an AES (PKCS#7) encoded string in my Flutter mobile application.</p>\n\n<p>The string is got from a QR Code, which has been generated from a Java application and contains the AES encoded String.</p>\n\n<p>The Java encoding :</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import java.security.Security;\nimport java.nio.charset.StandardCharsets;\nimport javax.crypto.Cipher;\nimport javax.crypto.spec.SecretKeySpec;\nimport org.apache.commons.codec.binary.Base64;\nimport org.bouncycastle.jce.provider.BouncyCastleProvider;\n\npublic class MyClass {\n\n     public static void main(String[] args) throws Exception {\n         String toEncode = \"firstname.lastname@mycompany.com;12\";\n         String encoded = pleaseEncodeMe(toEncode);\n         System.out.println(encoded);\n     }\n\n     private static String pleaseEncodeMe(String plainText) throws Exception {\n         Security.addProvider(new BouncyCastleProvider());\n         final String encryptionAlgorithm = \"AES/CBC/PKCS7PADDING\";\n         final String encryptionKey = \"WHatAnAWEsoMeKey\";\n         final SecretKeySpec keySpecification = new SecretKeySpec(encryptionKey.getBytes(StandardCharsets.UTF_8), encryptionAlgorithm);\n         final Cipher cipher = Cipher.getInstance(encryptionAlgorithm, \"BC\");\n         cipher.init(Cipher.ENCRYPT_MODE, keySpecification);\n         final byte[] encryptedBytes = cipher.doFinal(plainText.getBytes());\n         return Base64.encodeBase64URLSafeString(encryptedBytes);\n    }\n\n}\n</code></pre>\n\n<p>Output : <code>AIRTEuNmSuQtYuysv93w3w83kJJ6sg7kaU7XzA8xrAjOp-lKYPp1brtDAPbhSJmT</code></p>\n\n<p>The Dart decoding :</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>void main() {\n    print(decodeMeOrDie(\"AIRTEuNmSuQtYuysv93w3w83kJJ6sg7kaU7XzA8xrAjOp-lKYPp1brtDAPbhSJmT\"));\n}\n\nString decodeMeOrDie(String encryptedString) {\n    final key = Key.fromUtf8(\"WHatAnAWEsoMeKey\");\n    final iv = IV.fromLength(16);\n    final encrypter = Encrypter(AES(key, mode: AESMode.cbc, padding: \"PKCS7\"));\n    return encrypter.decrypt64(encryptedString, iv: iv);\n}\n</code></pre>\n\n<p>Output : <code>Y=XR\f\"Qme@mycompany.com;12</code></p>\n\n<p>You can see that only a part of the string is decoded.</p>\n"},{"tags":["java","spring","tomcat","intellij-idea","ant"],"answers":[{"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676889886,"creation_date":1676888172,"answer_id":75507945,"question_id":75507284,"body_markdown":"To achieve what you want you need to substitute the jar file with embedded tomcat (I guess this is `org.apache.tomcat.embed:tomcat-embed-core`). Please follow these steps:\r\n\r\n1) First of all you need to build the jar from sources that you&#39;ve modified locally by running e.g. `mvn clean install`. This would install the jar built locally into your local maven repository. Pay attention, that in order to distinguish your build from the rest you need to specify your custom version in pom.xml of Tomcat sources (e.g. you specify `9.0.0-my-custom-build`)\r\n2) As soon as your custom build is now in m2 it can be used by your main application. In `&lt;dependencyManagement&gt;` section of your pom.xml you need to specify this:\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n  &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\r\n  &lt;version&gt;9.0.0-my-custom-build&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nThis declaration forces maven to use tomcat of your custom version i. e. `9.0.0-my-custom-build`.\r\n\r\n3) Build your application and run it. At debug time you&#39;ll be able to see and debug your changes.\r\n\r\nP.S. No matter what is your building system, the clue is the same: jar built from modified sources must substitute the default one in classpath of your application.","title":"How to debug Tomcat source code with an application which uses embedded tomcat server?","body":"<p>To achieve what you want you need to substitute the jar file with embedded tomcat (I guess this is <code>org.apache.tomcat.embed:tomcat-embed-core</code>). Please follow these steps:</p>\n<ol>\n<li>First of all you need to build the jar from sources that you've modified locally by running e.g. <code>mvn clean install</code>. This would install the jar built locally into your local maven repository. Pay attention, that in order to distinguish your build from the rest you need to specify your custom version in pom.xml of Tomcat sources (e.g. you specify <code>9.0.0-my-custom-build</code>)</li>\n<li>As soon as your custom build is now in m2 it can be used by your main application. In <code>&lt;dependencyManagement&gt;</code> section of your pom.xml you need to specify this:</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n  &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\n  &lt;version&gt;9.0.0-my-custom-build&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>This declaration forces maven to use tomcat of your custom version i. e. <code>9.0.0-my-custom-build</code>.</p>\n<ol start=\"3\">\n<li>Build your application and run it. At debug time you'll be able to see and debug your changes.</li>\n</ol>\n<p>P.S. No matter what is your building system, the clue is the same: jar built from modified sources must substitute the default one in classpath of your application.</p>\n"}],"owner":{"account_id":16882330,"reputation":327,"user_id":12208032,"display_name":"RoshiDil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676889886,"creation_date":1676884487,"question_id":75507284,"body_markdown":"I am working with a full-stack application(JSP and Java,Spring based). It is having an **embedded tomcat server**. Suppose I made some changes in the ***tomcat source code*** relevant to the embedded tomcat server(same tomcat version) which I use in my application.\r\n\r\nI need to **debug the tomcat source code** *when upping my application with the embedded tomcat server*.\r\n\r\nIs there any way to achieve this?\r\n\r\nNote: I use Apache ANT as the build tool.","title":"How to debug Tomcat source code with an application which uses embedded tomcat server?","body":"<p>I am working with a full-stack application(JSP and Java,Spring based). It is having an <strong>embedded tomcat server</strong>. Suppose I made some changes in the <em><strong>tomcat source code</strong></em> relevant to the embedded tomcat server(same tomcat version) which I use in my application.</p>\n<p>I need to <strong>debug the tomcat source code</strong> <em>when upping my application with the embedded tomcat server</em>.</p>\n<p>Is there any way to achieve this?</p>\n<p>Note: I use Apache ANT as the build tool.</p>\n"},{"tags":["java","sonarqube","spotbugs"],"owner":{"account_id":19900305,"reputation":23,"user_id":14580439,"display_name":"hilal saim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676889861,"creation_date":1676889861,"question_id":75508232,"body_markdown":"  \r\nIn the SpotBugs Bug Report, it shows a warning in the following line of java code. Is it possible to fix this without Defensive copying?\r\n\r\n\r\nError code is &quot;EI_EXPOSE_REP2&quot;:\r\n(KafkaTemplate) may expose internal representation by storing an externally mutable object into Common.template\r\n\r\n\r\nCode is below \r\n```\r\npublic Message(KafkaTemplate&lt;String, String&gt; template) {\r\n    this.template = template;\r\n  }\r\n```\r\n\r\n\r\n I tried to solve it like below. but this affects test codes. So is there any other solution for this warning?\r\n\r\n\r\n```\r\n public Message(final KafkaTemplate&lt;String, String&gt; template) {\r\n    this.template = new KafkaTemplate&lt;&gt;(template.getProducerFactory());\r\n  }\r\n```\r\n","title":"EI_EXPOSE_REP2 , (KafkaTemplate) may expose internal representation by storing an externally mutable object into Common.template","body":"<p>In the SpotBugs Bug Report, it shows a warning in the following line of java code. Is it possible to fix this without Defensive copying?</p>\n<p>Error code is &quot;EI_EXPOSE_REP2&quot;:\n(KafkaTemplate) may expose internal representation by storing an externally mutable object into Common.template</p>\n<p>Code is below</p>\n<pre><code>public Message(KafkaTemplate&lt;String, String&gt; template) {\n    this.template = template;\n  }\n</code></pre>\n<p>I tried to solve it like below. but this affects test codes. So is there any other solution for this warning?</p>\n<pre><code> public Message(final KafkaTemplate&lt;String, String&gt; template) {\n    this.template = new KafkaTemplate&lt;&gt;(template.getProducerFactory());\n  }\n</code></pre>\n"},{"tags":["java","aws-cdk"],"answers":[{"tags":[],"owner":{"account_id":341185,"reputation":16364,"user_id":671639,"accept_rate":69,"display_name":"BetaRide"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676889487,"creation_date":1676889487,"answer_id":75508170,"question_id":75506708,"body_markdown":"After reading the error message one more time I noticed, that the `homeDirectoryMappings()` method accepts a `List` of `HomeDirectoryMapEntryProperty` instances. So there&#39;s actually no need for a `IResolvable`.\r\n\r\nSo the correct code lookes like this:\r\n\r\n        CfnUser user1 = CfnUser.Builder.create(this, &quot;user1 &quot;)\r\n            .userName(&quot;user1 &quot;)\r\n            .serverId(transferServer.getAttrServerId())\r\n            .homeDirectoryType(&quot;LOGICAL&quot;)\r\n            .homeDirectoryMappings(List.of(new HomeDirectoryMapEntryProperty.Builder()\r\n                .entry(&quot;/&quot;)\r\n                .target(&quot;/s3-bucket/home/${transfer:UserName}&quot;)\r\n                .build())\r\n            )\r\n            .role(dlRole.getRoleArn())\r\n            .build();\r\n ","title":"How can I set a literal JSON value in AWS CDK with Java?","body":"<p>After reading the error message one more time I noticed, that the <code>homeDirectoryMappings()</code> method accepts a <code>List</code> of <code>HomeDirectoryMapEntryProperty</code> instances. So there's actually no need for a <code>IResolvable</code>.</p>\n<p>So the correct code lookes like this:</p>\n<pre><code>    CfnUser user1 = CfnUser.Builder.create(this, &quot;user1 &quot;)\n        .userName(&quot;user1 &quot;)\n        .serverId(transferServer.getAttrServerId())\n        .homeDirectoryType(&quot;LOGICAL&quot;)\n        .homeDirectoryMappings(List.of(new HomeDirectoryMapEntryProperty.Builder()\n            .entry(&quot;/&quot;)\n            .target(&quot;/s3-bucket/home/${transfer:UserName}&quot;)\n            .build())\n        )\n        .role(dlRole.getRoleArn())\n        .build();\n</code></pre>\n"}],"owner":{"account_id":341185,"reputation":16364,"user_id":671639,"accept_rate":69,"display_name":"BetaRide"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676889487,"creation_date":1676880638,"question_id":75506708,"body_markdown":"I have to set a literal JSON value to define the home directory mapping of a user in Java based CDK definition:\r\n\r\n        CfnUser user1 = CfnUser.Builder.create(this, &quot;user1 &quot;)\r\n            .userName(&quot;user1&quot;)\r\n            .serverId(transferServer.getAttrServerId())\r\n            .homeDirectoryType(&quot;PATH&quot;)\r\n            .homeDirectory(&quot;/path/to/home&quot;)\r\n            .homeDirectoryMappings(List.of(&quot;Entry:/&quot;, &quot;Target:/path/to/home&quot;))\r\n            .role(role.getRoleArn())\r\n            .build();\r\n\r\nThe above code fails, because the `List` passed to `homeDirectoryMappings()` is not a `software.amazon.awscdk.IResolvable`. Somehow I have to create a `IResolvable` which represents this JSON:\r\n\r\n    [\r\n       {\r\n          &quot;Entry&quot;:&quot;/&quot;,\r\n          &quot;Target&quot;:&quot;/bucket3/customized-reports/&quot;\r\n       }\r\n    ]\r\n\r\nI searched throuth the implementations of `IResolvable` but cannot find a suitable class.\r\n\r\nSo how can I pass a JSON literal to a method that takes a `IResolvable`?\r\n","title":"How can I set a literal JSON value in AWS CDK with Java?","body":"<p>I have to set a literal JSON value to define the home directory mapping of a user in Java based CDK definition:</p>\n<pre><code>    CfnUser user1 = CfnUser.Builder.create(this, &quot;user1 &quot;)\n        .userName(&quot;user1&quot;)\n        .serverId(transferServer.getAttrServerId())\n        .homeDirectoryType(&quot;PATH&quot;)\n        .homeDirectory(&quot;/path/to/home&quot;)\n        .homeDirectoryMappings(List.of(&quot;Entry:/&quot;, &quot;Target:/path/to/home&quot;))\n        .role(role.getRoleArn())\n        .build();\n</code></pre>\n<p>The above code fails, because the <code>List</code> passed to <code>homeDirectoryMappings()</code> is not a <code>software.amazon.awscdk.IResolvable</code>. Somehow I have to create a <code>IResolvable</code> which represents this JSON:</p>\n<pre><code>[\n   {\n      &quot;Entry&quot;:&quot;/&quot;,\n      &quot;Target&quot;:&quot;/bucket3/customized-reports/&quot;\n   }\n]\n</code></pre>\n<p>I searched throuth the implementations of <code>IResolvable</code> but cannot find a suitable class.</p>\n<p>So how can I pass a JSON literal to a method that takes a <code>IResolvable</code>?</p>\n"},{"tags":["java","spring-ldap"],"comments":[{"owner":{"account_id":4402256,"reputation":1849,"user_id":3587555,"display_name":"vkg"},"score":0,"creation_date":1400205075,"post_id":23689964,"comment_id":36403036,"body_markdown":"Is it a must for you to use Spring?","body":"Is it a must for you to use Spring?"}],"answers":[{"tags":[],"owner":{"account_id":953800,"reputation":1593,"user_id":979467,"accept_rate":58,"display_name":"Quantum_Entanglement"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1400260555,"creation_date":1400260555,"answer_id":23701042,"question_id":23689964,"body_markdown":"It turns out I just needed to include everything in the distinguished name(including the organization unit). Using \r\n\r\n    contextSource.setBase(...);\r\n\r\nfor some reason did not work. After making that correction all was fine.\r\n\r\n    contextSource.setUserDn(&quot;cn=john,ou=Users,dc=testathon,dc=net&quot;);","title":"javax.naming.AuthenticationException: [LDAP: error code 49 - Invalid Credentials]","body":"<p>It turns out I just needed to include everything in the distinguished name(including the organization unit). Using </p>\n\n<pre><code>contextSource.setBase(...);\n</code></pre>\n\n<p>for some reason did not work. After making that correction all was fine.</p>\n\n<pre><code>contextSource.setUserDn(\"cn=john,ou=Users,dc=testathon,dc=net\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5432270,"reputation":197,"user_id":4322745,"display_name":"Cui Qing"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676889474,"creation_date":1676889474,"answer_id":75508165,"question_id":23689964,"body_markdown":"    contextSource.setUserDn();\r\n\r\n may be for ldap manage user.\r\nSo it should be  `&quot;cn=john,ou=Users,dc=testathon,dc=net&quot;`\r\n And `contextSource.setBase(...);` is for later use like `template.list(...)`","title":"javax.naming.AuthenticationException: [LDAP: error code 49 - Invalid Credentials]","body":"<pre><code>contextSource.setUserDn();\n</code></pre>\n<p>may be for ldap manage user.\nSo it should be  <code>&quot;cn=john,ou=Users,dc=testathon,dc=net&quot;</code>\nAnd <code>contextSource.setBase(...);</code> is for later use like <code>template.list(...)</code></p>\n"}],"owner":{"account_id":953800,"reputation":1593,"user_id":979467,"accept_rate":58,"display_name":"Quantum_Entanglement"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48268,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":23701042,"answer_count":2,"score":13,"last_activity_date":1676889474,"creation_date":1400194067,"question_id":23689964,"body_markdown":"I&#39;m new to ldap and I was trying what I thought was a trivial example to test the spring ldap module with an ldap instance that someone had already setup for testing.\r\n\r\nDetails about the ldap instance that I am using can be found here: \r\nhttp://blog.stuartlewis.com/2008/07/07/test-ldap-service/comment-page-3/\r\n\r\nI&#39;ve used an ldap browser/admin tool (Softerra LDAP Admin) and I can access the directory without any issues.\r\n\r\nWhen I try it using java and spring-ldap (2.0.1) I get the Authentication Exception mentioned above. Before setting up my own ldap instance to try and troubleshoot this further I wanted to check here in case someone with more experience could point out something obvious that I missed.  \r\n\r\n\r\nBelow is the code I am using:\r\n\r\n    import org.springframework.ldap.core.LdapTemplate;\r\n    import org.springframework.ldap.core.support.LdapContextSource;\r\n\r\n    import java.util.List;\r\n\r\n    public class LdapTest {\r\n\r\n\r\n    public List&lt;String&gt; getListing() {\r\n\r\n        LdapTemplate template = getTemplate();\r\n\r\n        List&lt;String&gt; children = template.list(&quot;dc=testathon,dc=net&quot;);\r\n\r\n       return children;\r\n    }\r\n\r\n\r\n    private LdapTemplate getTemplate(){\r\n\r\n        LdapContextSource contextSource = new LdapContextSource();\r\n        contextSource.setUrl(&quot;ldap://ldap.testathon.net:389&quot;);\r\n        contextSource.setUserDn(&quot;cn=john&quot;);\r\n        contextSource.setPassword(&quot;john&quot;);\r\n\r\n        try {\r\n            contextSource.afterPropertiesSet();\r\n        } catch (Exception ex) {\r\n            ex.printStackTrace();\r\n        }\r\n\r\n\r\n        LdapTemplate template = new LdapTemplate();\r\n\r\n        template.setContextSource(contextSource);\r\n\r\n        return template;\r\n\r\n    }\r\n\r\n\r\n    public static void main(String[] args){\r\n\r\n\r\n        LdapTest sClient = new LdapTest();\r\n        List&lt;String&gt; children = sClient.getListing();\r\n\r\n        for  (String child :children) {\r\n            System.out.println(child);\r\n        }\r\n\r\n    }\r\n\r\n    }\r\n\r\nStack trace:\r\n\r\n    Exception in thread &quot;main&quot; org.springframework.ldap.AuthenticationException: [LDAP: error code 49 - Invalid Credentials]; nested exception is javax.naming.AuthenticationException: [LDAP: error code 49 - Invalid Credentials]\r\n\tat org.springframework.ldap.support.LdapUtils.convertLdapException(LdapUtils.java:191)\r\n\tat org.springframework.ldap.core.support.AbstractContextSource.createContext(AbstractContextSource.java:356)\r\n\tat org.springframework.ldap.core.support.AbstractContextSource.doGetContext(AbstractContextSource.java:140)\r\n\r\n\r\n","title":"javax.naming.AuthenticationException: [LDAP: error code 49 - Invalid Credentials]","body":"<p>I'm new to ldap and I was trying what I thought was a trivial example to test the spring ldap module with an ldap instance that someone had already setup for testing.</p>\n\n<p>Details about the ldap instance that I am using can be found here: \n<a href=\"http://blog.stuartlewis.com/2008/07/07/test-ldap-service/comment-page-3/\" rel=\"noreferrer\">http://blog.stuartlewis.com/2008/07/07/test-ldap-service/comment-page-3/</a></p>\n\n<p>I've used an ldap browser/admin tool (Softerra LDAP Admin) and I can access the directory without any issues.</p>\n\n<p>When I try it using java and spring-ldap (2.0.1) I get the Authentication Exception mentioned above. Before setting up my own ldap instance to try and troubleshoot this further I wanted to check here in case someone with more experience could point out something obvious that I missed.  </p>\n\n<p>Below is the code I am using:</p>\n\n<pre><code>import org.springframework.ldap.core.LdapTemplate;\nimport org.springframework.ldap.core.support.LdapContextSource;\n\nimport java.util.List;\n\npublic class LdapTest {\n\n\npublic List&lt;String&gt; getListing() {\n\n    LdapTemplate template = getTemplate();\n\n    List&lt;String&gt; children = template.list(\"dc=testathon,dc=net\");\n\n   return children;\n}\n\n\nprivate LdapTemplate getTemplate(){\n\n    LdapContextSource contextSource = new LdapContextSource();\n    contextSource.setUrl(\"ldap://ldap.testathon.net:389\");\n    contextSource.setUserDn(\"cn=john\");\n    contextSource.setPassword(\"john\");\n\n    try {\n        contextSource.afterPropertiesSet();\n    } catch (Exception ex) {\n        ex.printStackTrace();\n    }\n\n\n    LdapTemplate template = new LdapTemplate();\n\n    template.setContextSource(contextSource);\n\n    return template;\n\n}\n\n\npublic static void main(String[] args){\n\n\n    LdapTest sClient = new LdapTest();\n    List&lt;String&gt; children = sClient.getListing();\n\n    for  (String child :children) {\n        System.out.println(child);\n    }\n\n}\n\n}\n</code></pre>\n\n<p>Stack trace:</p>\n\n<pre><code>Exception in thread \"main\" org.springframework.ldap.AuthenticationException: [LDAP: error code 49 - Invalid Credentials]; nested exception is javax.naming.AuthenticationException: [LDAP: error code 49 - Invalid Credentials]\nat org.springframework.ldap.support.LdapUtils.convertLdapException(LdapUtils.java:191)\nat org.springframework.ldap.core.support.AbstractContextSource.createContext(AbstractContextSource.java:356)\nat org.springframework.ldap.core.support.AbstractContextSource.doGetContext(AbstractContextSource.java:140)\n</code></pre>\n"},{"tags":["java","android","xml","gwt","libgdx"],"answers":[{"tags":[],"owner":{"account_id":3883582,"reputation":32684,"user_id":3215527,"accept_rate":40,"display_name":"wero"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1445952608,"creation_date":1445952608,"answer_id":33369337,"question_id":33369089,"body_markdown":"Eclipse tries to validate the XML using the referenced DTD:\r\n\r\nWhen you open this DTD you get\r\n\r\n    Source code for the GWT project has moved to https://gwt.googlesource.com\r\n\r\n    The file you&#39;re looking for can be now found at\r\n    https://gwt.googlesource.com/gwt/+/master/./distro-source/core/src/gwt-module.dtd\r\n    (if it&#39;s not been deleted or renamed since then.)\r\n\r\nObviously this is no valid DTD and therefore Eclipse gives an error.\r\n\r\nThe solution seems simple: Use the new URL for the DTD in your XML\r\n\r\n    &lt;!DOCTYPE module PUBLIC &quot;-//Google Inc.//DTD Google Web Toolkit trunk//EN&quot; &quot;https://gwt.googlesource.com/gwt/+/master/distro-source/core/src/gwt-module.dtd&quot;&gt;\r\n\r\nUnfortunately this URL returns a HTML representation of the repository file and Eclipse will complain again.\r\nAlso \r\n\r\n    https://gwt.googlesource.com/gwt/+/master/distro-source/core/src/gwt-module.dtd?format=TEXT \r\n\r\ndoesn&#39;t seem to work correctly.\r\n\r\nYou could then create a local version of the DTD and change the doctype declaration in the XML accordingly or simple remove the doctype declaration if validation is not essential.","title":"The markup declarations must be well-formed","body":"<p>Eclipse tries to validate the XML using the referenced DTD:</p>\n\n<p>When you open this DTD you get</p>\n\n<pre><code>Source code for the GWT project has moved to https://gwt.googlesource.com\n\nThe file you're looking for can be now found at\nhttps://gwt.googlesource.com/gwt/+/master/./distro-source/core/src/gwt-module.dtd\n(if it's not been deleted or renamed since then.)\n</code></pre>\n\n<p>Obviously this is no valid DTD and therefore Eclipse gives an error.</p>\n\n<p>The solution seems simple: Use the new URL for the DTD in your XML</p>\n\n<pre><code>&lt;!DOCTYPE module PUBLIC \"-//Google Inc.//DTD Google Web Toolkit trunk//EN\" \"https://gwt.googlesource.com/gwt/+/master/distro-source/core/src/gwt-module.dtd\"&gt;\n</code></pre>\n\n<p>Unfortunately this URL returns a HTML representation of the repository file and Eclipse will complain again.\nAlso </p>\n\n<pre><code>https://gwt.googlesource.com/gwt/+/master/distro-source/core/src/gwt-module.dtd?format=TEXT \n</code></pre>\n\n<p>doesn't seem to work correctly.</p>\n\n<p>You could then create a local version of the DTD and change the doctype declaration in the XML accordingly or simple remove the doctype declaration if validation is not essential.</p>\n"},{"tags":[],"owner":{"account_id":8328960,"reputation":157,"user_id":6258088,"display_name":"Vlad Troyan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676889016,"creation_date":1676889016,"answer_id":75508084,"question_id":33369089,"body_markdown":"In my case simple protocol change helped **http** -&gt; **https**","title":"The markup declarations must be well-formed","body":"<p>In my case simple protocol change helped <strong>http</strong> -&gt; <strong>https</strong></p>\n"}],"owner":{"account_id":5760459,"reputation":574,"user_id":4547068,"accept_rate":93,"display_name":"Daniel Roca Lopez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2950,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":33369337,"answer_count":2,"score":0,"last_activity_date":1676889016,"creation_date":1445951879,"question_id":33369089,"body_markdown":"I&#39;m using libgdx to build a game and suddenly, I opened eclipse and it says \r\n\r\nThe markup declarations contained or pointed to by the document type declaration must be well-formed\r\n\r\non this xml: /Tower Conquest-core/src/TowerConquest.gwt.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE module PUBLIC &quot;-//Google Inc.//DTD Google Web Toolkit trunk//EN&quot; &quot;http://google-web-toolkit.googlecode.com/svn/trunk/distro-source/core/src/gwt-module.dtd&quot;&gt;\r\n    &lt;module&gt;\r\n    \t&lt;source path=&quot;noxer/games/ballons&quot; /&gt;\r\n    &lt;/module&gt;\r\n\r\nthe project builds anyway and it works but the error keeps there. I tried deleting file and writting it back but it keeps saying there&#39;s an error","title":"The markup declarations must be well-formed","body":"<p>I'm using libgdx to build a game and suddenly, I opened eclipse and it says </p>\n\n<p>The markup declarations contained or pointed to by the document type declaration must be well-formed</p>\n\n<p>on this xml: /Tower Conquest-core/src/TowerConquest.gwt.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE module PUBLIC \"-//Google Inc.//DTD Google Web Toolkit trunk//EN\" \"http://google-web-toolkit.googlecode.com/svn/trunk/distro-source/core/src/gwt-module.dtd\"&gt;\n&lt;module&gt;\n    &lt;source path=\"noxer/games/ballons\" /&gt;\n&lt;/module&gt;\n</code></pre>\n\n<p>the project builds anyway and it works but the error keeps there. I tried deleting file and writting it back but it keeps saying there's an error</p>\n"},{"tags":["java","constructor-reference"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":3,"creation_date":1676540101,"post_id":75470235,"comment_id":133158584,"body_markdown":"I&#39;m surprised it outputs anything since it doesn&#39;t compile. `Dog::new` is a reference to the `Dog` constructor, not a `Dog`, so you can&#39;t assign it to a `Dog` variable. Do you maybe still have an older version that you compiled before and still run?","body":"I&#39;m surprised it outputs anything since it doesn&#39;t compile. <code>Dog::new</code> is a reference to the <code>Dog</code> constructor, not a <code>Dog</code>, so you can&#39;t assign it to a <code>Dog</code> variable. Do you maybe still have an older version that you compiled before and still run?"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1676540303,"post_id":75470235,"comment_id":133158660,"body_markdown":"@daniu OP is not assigning `Dog::new` to a `Dog` variable though, but an `Animal`, which does compile.","body":"@daniu OP is not assigning <code>Dog::new</code> to a <code>Dog</code> variable though, but an <code>Animal</code>, which does compile."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":2,"creation_date":1676540402,"post_id":75470235,"comment_id":133158684,"body_markdown":"`Dog::new` is a method reference. It does not call the constructor. `new Dog()` calls the constructor. The line is equivalent to `Animal animal = () -&gt; new Dog();`","body":"<code>Dog::new</code> is a method reference. It does not call the constructor. <code>new Dog()</code> calls the constructor. The line is equivalent to <code>Animal animal = () -&gt; new Dog();</code>"},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1676540725,"post_id":75470235,"comment_id":133158791,"body_markdown":"@Sweeper you&#39;re right, it does compile and run, but I&#39;m somewhat surprised even though I do understand why. I was going to write an answer but knittl ninja&#39;d me.","body":"@Sweeper you&#39;re right, it does compile and run, but I&#39;m somewhat surprised even though I do understand why. I was going to write an answer but knittl ninja&#39;d me."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1676540824,"post_id":75470235,"comment_id":133158821,"body_markdown":"You basically created a new anonymous class instance of `Animal` and implemented `eat()` to call `new Dog()`. That&#39;s what the method reference is doing. Add another method to `Animal` and you&#39;ll see the compiler complaining about functional interfaces not allowed to have more than one method. Replace `Dog::new` with `new Dog()` to fix your issue.","body":"You basically created a new anonymous class instance of <code>Animal</code> and implemented <code>eat()</code> to call <code>new Dog()</code>. That&#39;s what the method reference is doing. Add another method to <code>Animal</code> and you&#39;ll see the compiler complaining about functional interfaces not allowed to have more than one method. Replace <code>Dog::new</code> with <code>new Dog()</code> to fix your issue."}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1676888958,"creation_date":1676540736,"answer_id":75470429,"question_id":75470235,"body_markdown":"`Animal` is a functional interface with a single method `void eat()` (void return, no parameters)  also known as _SAM type_ (single abstract method).\r\n\r\nIt is structurally identical to the `java.util.Runnable` interface (`interface Runnable { void run(); }`). Your code could as well be written as:\r\n\r\n```\r\nfinal Runnable runnable = Dog::new;\r\nrunnable.run(); // calls the constructor\r\n```\r\n\r\n\r\nYou can assign it any lambda or method reference with zero arguments and no return value, e.g. `() -&gt; {}`.\r\n\r\n`Dog::new` is a method reference and equivalent to the lambda `() -&gt; { new Dog(); }`. If you look closely, you will notice that this lambda does not return anything. It constructs a new Dog instance and then forgets about it again.\r\n\r\nAssigning a method reference or a lambda to a variable does not execute it (yet). You have to explicitly invoke the lambda by calling the named method from your interface.\r\n\r\nNow, your `animal` is an instance of your `Animal` interface and got assigned a method reference which can then be invoked later. `animal.eat()` invokes the assigned method reference, calling the constructor.\r\n\r\nIf you want your variable `animal` to hold a `Dog` instance and then invoke the `eat` method on it, call the constructor directly: `Animal animal = new Dog();`\r\n\r\nThe &quot;problem&quot; is the signature of your `eat` method, because it is equivalent to `Runnable#run` and allows assigning any &quot;empty&quot; action.\r\n\r\nLambdas and method references were introduced with Java 8. In Java versions before, you had to create an anonymous class to achieve the same behavior:\r\n\r\n```\r\nfinal Animal animal = new Animal() {\r\n  @Override public void eat() {\r\n    new Dog();\r\n  }\r\n};\r\nanimal.eat(); // calls &quot;eat&quot; of the anonymous instance, which in turn calls the constructor; does NOT call `Dog#eat`\r\n```","title":"Why doesn&#39;t it output &#39;dog eat&#39;","body":"<p><code>Animal</code> is a functional interface with a single method <code>void eat()</code> (void return, no parameters)  also known as <em>SAM type</em> (single abstract method).</p>\n<p>It is structurally identical to the <code>java.util.Runnable</code> interface (<code>interface Runnable { void run(); }</code>). Your code could as well be written as:</p>\n<pre><code>final Runnable runnable = Dog::new;\nrunnable.run(); // calls the constructor\n</code></pre>\n<p>You can assign it any lambda or method reference with zero arguments and no return value, e.g. <code>() -&gt; {}</code>.</p>\n<p><code>Dog::new</code> is a method reference and equivalent to the lambda <code>() -&gt; { new Dog(); }</code>. If you look closely, you will notice that this lambda does not return anything. It constructs a new Dog instance and then forgets about it again.</p>\n<p>Assigning a method reference or a lambda to a variable does not execute it (yet). You have to explicitly invoke the lambda by calling the named method from your interface.</p>\n<p>Now, your <code>animal</code> is an instance of your <code>Animal</code> interface and got assigned a method reference which can then be invoked later. <code>animal.eat()</code> invokes the assigned method reference, calling the constructor.</p>\n<p>If you want your variable <code>animal</code> to hold a <code>Dog</code> instance and then invoke the <code>eat</code> method on it, call the constructor directly: <code>Animal animal = new Dog();</code></p>\n<p>The &quot;problem&quot; is the signature of your <code>eat</code> method, because it is equivalent to <code>Runnable#run</code> and allows assigning any &quot;empty&quot; action.</p>\n<p>Lambdas and method references were introduced with Java 8. In Java versions before, you had to create an anonymous class to achieve the same behavior:</p>\n<pre><code>final Animal animal = new Animal() {\n  @Override public void eat() {\n    new Dog();\n  }\n};\nanimal.eat(); // calls &quot;eat&quot; of the anonymous instance, which in turn calls the constructor; does NOT call `Dog#eat`\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676541150,"creation_date":1676541150,"answer_id":75470499,"question_id":75470235,"body_markdown":"`Animal` is an interface with a single abstract method, `eat`. This method does not take any parameters and does not return anything. Because of this, it can represent any function that takes no parameters. For example:\r\n\r\n    Animal foo = () -&gt; System.out.println(&quot;foo&quot;);\r\n\r\nNow if I call `foo.eat()`, it will run the code in the lambda, which prints &quot;foo&quot;.\r\n\r\nI can also use a method reference instead of a lambda:\r\n\r\n    Animal foo = SomeClass::someStaticMethod;\r\n\r\nNow `foo.eat()` will run the parameterless method called `someStaticMethod` located in `SomeClass`.\r\n\r\nNotice that this works in exactly the same way as using the built-in [`Runnable`][1] interface and called its `run` method. Yours is just called `Animal` and `eat`, rather than `Runnable` and `run`.\r\n\r\nSo by the same logic, using a constructor reference of `Dog` will invoke the constructor of `Dog`.\r\n\r\n    Animal foo = Dog::new;\r\n    Runnable bar = Dog::new;\r\n\r\n    // these two lines do the same thing:\r\n    foo.eat();\r\n    bar.run();\r\n\r\nWould you still have the confusion if you have written the code with `Runnable` instead?\r\n\r\nNote that the fact that `Dog` implements `Animal` does not matter here. `Dog` implements `Animal` just means that you can do:\r\n\r\n    Animal animal = new Dog();\r\n\r\nwhich has a completely different meaning. If at this point I do `animal.eat()`, then it will output what you expect - &quot;dog eat&quot;.\r\n\r\nAlternatively, you could also make a method reference to a newly-created `Dog`&#39;s `eat` method for it to output &quot;dog eat&quot;:\r\n\r\n    Animal animal = new Dog()::eat;\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Runnable.html","title":"Why doesn&#39;t it output &#39;dog eat&#39;","body":"<p><code>Animal</code> is an interface with a single abstract method, <code>eat</code>. This method does not take any parameters and does not return anything. Because of this, it can represent any function that takes no parameters. For example:</p>\n<pre><code>Animal foo = () -&gt; System.out.println(&quot;foo&quot;);\n</code></pre>\n<p>Now if I call <code>foo.eat()</code>, it will run the code in the lambda, which prints &quot;foo&quot;.</p>\n<p>I can also use a method reference instead of a lambda:</p>\n<pre><code>Animal foo = SomeClass::someStaticMethod;\n</code></pre>\n<p>Now <code>foo.eat()</code> will run the parameterless method called <code>someStaticMethod</code> located in <code>SomeClass</code>.</p>\n<p>Notice that this works in exactly the same way as using the built-in <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Runnable.html\" rel=\"nofollow noreferrer\"><code>Runnable</code></a> interface and called its <code>run</code> method. Yours is just called <code>Animal</code> and <code>eat</code>, rather than <code>Runnable</code> and <code>run</code>.</p>\n<p>So by the same logic, using a constructor reference of <code>Dog</code> will invoke the constructor of <code>Dog</code>.</p>\n<pre><code>Animal foo = Dog::new;\nRunnable bar = Dog::new;\n\n// these two lines do the same thing:\nfoo.eat();\nbar.run();\n</code></pre>\n<p>Would you still have the confusion if you have written the code with <code>Runnable</code> instead?</p>\n<p>Note that the fact that <code>Dog</code> implements <code>Animal</code> does not matter here. <code>Dog</code> implements <code>Animal</code> just means that you can do:</p>\n<pre><code>Animal animal = new Dog();\n</code></pre>\n<p>which has a completely different meaning. If at this point I do <code>animal.eat()</code>, then it will output what you expect - &quot;dog eat&quot;.</p>\n<p>Alternatively, you could also make a method reference to a newly-created <code>Dog</code>'s <code>eat</code> method for it to output &quot;dog eat&quot;:</p>\n<pre><code>Animal animal = new Dog()::eat;\n</code></pre>\n"}],"owner":{"account_id":27801114,"reputation":71,"user_id":21225554,"display_name":"vozrr"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":2,"up_vote_count":7,"accepted_answer_id":75470429,"answer_count":2,"score":5,"last_activity_date":1676888958,"creation_date":1676539826,"question_id":75470235,"body_markdown":"code like this\r\n\r\n```\r\npublic class LambdaTest {\r\n    public static void main(String[] args) {\r\n        final Animal animal = Dog::new;\r\n        animal.eat();\r\n    }\r\n}\r\n\r\n@FunctionalInterface\r\ninterface Animal {\r\n    void eat();\r\n}\r\n\r\nclass Dog implements Animal {\r\n\r\n    public Dog() {\r\n        System.out.println(&quot;dog init.&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void eat() {\r\n        System.out.println(&quot;dog eat&quot;);\r\n    }\r\n```\r\nWhen I ran this code, &quot;dog init.&quot; was printed to the console, but &quot;dog eat&quot; was not. Why is that? Can someone tell me the reason?\r\n\r\n\r\nI expected &quot;dog init&quot; and &quot;dog eat&quot; to be printed, but only &quot;dog init&quot; was printed. Additionally, I&#39;m puzzled as to why there was no error when `Animal animal = Dog::new;`.","title":"Why doesn&#39;t it output &#39;dog eat&#39;","body":"<p>code like this</p>\n<pre><code>public class LambdaTest {\n    public static void main(String[] args) {\n        final Animal animal = Dog::new;\n        animal.eat();\n    }\n}\n\n@FunctionalInterface\ninterface Animal {\n    void eat();\n}\n\nclass Dog implements Animal {\n\n    public Dog() {\n        System.out.println(&quot;dog init.&quot;);\n    }\n\n    @Override\n    public void eat() {\n        System.out.println(&quot;dog eat&quot;);\n    }\n</code></pre>\n<p>When I ran this code, &quot;dog init.&quot; was printed to the console, but &quot;dog eat&quot; was not. Why is that? Can someone tell me the reason?</p>\n<p>I expected &quot;dog init&quot; and &quot;dog eat&quot; to be printed, but only &quot;dog init&quot; was printed. Additionally, I'm puzzled as to why there was no error when <code>Animal animal = Dog::new;</code>.</p>\n"},{"tags":["java","android","windows","flutter"],"comments":[{"owner":{"account_id":12444201,"reputation":1,"user_id":9060968,"display_name":"wani"},"score":0,"creation_date":1689598637,"post_id":75508025,"comment_id":135231816,"body_markdown":"I have not yet gotten any solution for this","body":"I have not yet gotten any solution for this"}],"owner":{"account_id":12444201,"reputation":1,"user_id":9060968,"display_name":"wani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676889073,"answer_count":0,"score":0,"last_activity_date":1676888642,"creation_date":1676888642,"question_id":75508025,"body_markdown":"Installing fresh flutter to getstarted then encounter this error\r\n \r\nRunning and fresh installation of flutter \r\nrun &quot; flutter doctor --android-licenses&quot;\r\n\r\n flutter doctor --android-licenses\r\njava.lang.UnsupportedClassVersionError: com/android/prefs/AndroidLocationsProvider has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java \r\n```\r\nRuntime only recognizes class file versions up to 52.0\r\n        at java.lang.ClassLoader.defineClass1(Native Method)\r\n        at java.lang.ClassLoader.defineClass(ClassLoader.java:757)\r\n        at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n        at java.net.URLClassLoader.defineClass(URLClassLoader.java:468)\r\n        at java.net.URLClassLoader.access$100(URLClassLoader.java:74)\r\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:369)\r\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:363)\r\n        at java.security.AccessController.doPrivileged(Native Method)\r\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:362)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:419)\r\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:352)\r\n        at java.lang.Class.getDeclaredMethods0(Native Method)\r\n        at java.lang.Class.privateGetDeclaredMethods(Class.java:2701)\r\n        at java.lang.Class.privateGetMethodRecursive(Class.java:3048)\r\n        at java.lang.Class.getMethod0(Class.java:3018)\r\n        at java.lang.Class.getMethod(Class.java:1784)\r\n        at sun.launcher.LauncherHelper.validateMainClass(LauncherHelper.java:544)\r\n        at sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:526)\r\nError: A JNI error has occurred, please check your installation and try again\r\nException in thread &quot;main&quot;\r\n```\r\n","title":"java lang Unsupported Class Version Error","body":"<p>Installing fresh flutter to getstarted then encounter this error</p>\n<p>Running and fresh installation of flutter\nrun &quot; flutter doctor --android-licenses&quot;</p>\n<p>flutter doctor --android-licenses\njava.lang.UnsupportedClassVersionError: com/android/prefs/AndroidLocationsProvider has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java</p>\n<pre><code>Runtime only recognizes class file versions up to 52.0\n        at java.lang.ClassLoader.defineClass1(Native Method)\n        at java.lang.ClassLoader.defineClass(ClassLoader.java:757)\n        at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n        at java.net.URLClassLoader.defineClass(URLClassLoader.java:468)\n        at java.net.URLClassLoader.access$100(URLClassLoader.java:74)\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:369)\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:363)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:362)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:419)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:352)\n        at java.lang.Class.getDeclaredMethods0(Native Method)\n        at java.lang.Class.privateGetDeclaredMethods(Class.java:2701)\n        at java.lang.Class.privateGetMethodRecursive(Class.java:3048)\n        at java.lang.Class.getMethod0(Class.java:3018)\n        at java.lang.Class.getMethod(Class.java:1784)\n        at sun.launcher.LauncherHelper.validateMainClass(LauncherHelper.java:544)\n        at sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:526)\nError: A JNI error has occurred, please check your installation and try again\nException in thread &quot;main&quot;\n</code></pre>\n"},{"tags":["java","email-attachments","amazon-ses"],"owner":{"account_id":27826076,"reputation":21,"user_id":21245484,"display_name":"anonymous beak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1676888640,"creation_date":1676825181,"question_id":75501735,"body_markdown":"Say I made a template in AWS simple email service,\r\nI&#39;m able to send emails just fine (as long as I provide all the necessary fields).\r\nNow I want to add an attachment to the email -&gt; A pdf file of the original email sent.\r\n\r\nHow would one go about that?\r\nI was hoping Simple Email Service has this functionality built in.\r\n\r\nOtherwise, do I need to make a new template that has an attachments field and send the new template ?\r\n\r\n\r\n\r\nI looked here: https://stackoverflow.com/questions/11098285/sending-email-with-attachment-using-amazon-ses \r\nand it seemed like quite a pain to do..\r\nIn addition, I&#39;m using Java but any solution / help in any language will be appreciated!\r\n\r\nthanks.\r\n\r\nupdate: the PDF file needs to be regenerated each time with different information.\r\n\r\nanyone?","title":"send pdf attachment in amazon ses of the current sent template","body":"<p>Say I made a template in AWS simple email service,\nI'm able to send emails just fine (as long as I provide all the necessary fields).\nNow I want to add an attachment to the email -&gt; A pdf file of the original email sent.</p>\n<p>How would one go about that?\nI was hoping Simple Email Service has this functionality built in.</p>\n<p>Otherwise, do I need to make a new template that has an attachments field and send the new template ?</p>\n<p>I looked here: <a href=\"https://stackoverflow.com/questions/11098285/sending-email-with-attachment-using-amazon-ses\">Sending email with attachment using amazon SES</a>\nand it seemed like quite a pain to do..\nIn addition, I'm using Java but any solution / help in any language will be appreciated!</p>\n<p>thanks.</p>\n<p>update: the PDF file needs to be regenerated each time with different information.</p>\n<p>anyone?</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1676889218,"post_id":75508024,"comment_id":133221748,"body_markdown":"Always. As when retrieving an object JPA (regardless of which implementation) will construct a new instance using the default no-args constructor. Even hibernate does this. It is even in the JPA specification that a no-args constructor for entities is required. The fact tha tyou don&#39;t provide one because you have one with arguments doesn&#39;t mean you shouldn&#39;t add one (it can be package private or private as Hibernate can invoke that as well).","body":"Always. As when retrieving an object JPA (regardless of which implementation) will construct a new instance using the default no-args constructor. Even hibernate does this. It is even in the JPA specification that a no-args constructor for entities is required. The fact tha tyou don&#39;t provide one because you have one with arguments doesn&#39;t mean you shouldn&#39;t add one (it can be package private or private as Hibernate can invoke that as well)."},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1676890321,"post_id":75508024,"comment_id":133222079,"body_markdown":"[why do not read official documentation?](https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#entity-pojo). JPA req: **The entity class must have a public or protected no-argument constructor. It may define additional constructors as well**. HBN req: **The entity class must have a no-argument constructor, which may be public, protected or package visibility. It may define additional constructors as well**","body":"<a href=\"https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#entity-pojo\" rel=\"nofollow noreferrer\">why do not read official documentation?</a>. JPA req: <b>The entity class must have a public or protected no-argument constructor. It may define additional constructors as well</b>. HBN req: <b>The entity class must have a no-argument constructor, which may be public, protected or package visibility. It may define additional constructors as well</b>"}],"owner":{"account_id":27593137,"reputation":51,"user_id":21059880,"display_name":"Alok Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1676888634,"creation_date":1676888634,"question_id":75508024,"body_markdown":"I observe that while saving an entity in database using Hibernate, even if I don&#39;t provide a parameter less constructor (there is a parameter constructor provided by me so default constructor can&#39;t be provided), it works. But while using the operation delete, it throws an exception that Default constructor is not present. (No default constructor for entity:  : com.hibernate.demo.entity.Instructor)\r\n\r\nI want to ask in which cases is a parameter less constructor necessary for Hibernate. When is it invoked during a delete operation?\r\n\r\nI follwed this question which has some varying answers\r\nhttps://stackoverflow.com/questions/2935826/why-does-hibernate-require-no-argument-constructor","title":"In hibernate, when is a parameterless constructor invoked?","body":"<p>I observe that while saving an entity in database using Hibernate, even if I don't provide a parameter less constructor (there is a parameter constructor provided by me so default constructor can't be provided), it works. But while using the operation delete, it throws an exception that Default constructor is not present. (No default constructor for entity:  : com.hibernate.demo.entity.Instructor)</p>\n<p>I want to ask in which cases is a parameter less constructor necessary for Hibernate. When is it invoked during a delete operation?</p>\n<p>I follwed this question which has some varying answers\n<a href=\"https://stackoverflow.com/questions/2935826/why-does-hibernate-require-no-argument-constructor\">Why does Hibernate require no argument constructor?</a></p>\n"},{"tags":["java","json","apache-camel","out-of-memory"],"comments":[{"owner":{"account_id":8459510,"reputation":363,"user_id":6345724,"accept_rate":83,"display_name":"dank8"},"score":0,"creation_date":1676898096,"post_id":75507976,"comment_id":133224170,"body_markdown":"This may be related: [jsonpath to split messages](https://stackoverflow.com/a/54248063)","body":"This may be related: <a href=\"https://stackoverflow.com/a/54248063\">jsonpath to split messages</a>"},{"owner":{"account_id":92137,"reputation":584,"user_id":252642,"display_name":"Marcanpilami"},"score":0,"creation_date":1676911614,"post_id":75507976,"comment_id":133228263,"body_markdown":"@dank8 thanks but that answer is about splitting the input file, not merging the results inside one file as in my issue.","body":"@dank8 thanks but that answer is about splitting the input file, not merging the results inside one file as in my issue."},{"owner":{"account_id":4034876,"reputation":1557,"user_id":3319725,"display_name":"AnatolyG"},"score":0,"creation_date":1677088274,"post_id":75507976,"comment_id":133270131,"body_markdown":"I&#39;d suggest to take a look at https://stackoverflow.com/questions/67501221/modify-and-re-write-key-from-json-file/67502489#67502489 https://stackoverflow.com/questions/66678062/apply-a-mask-on-a-json-to-keep-only-mandatory-data/66708567#66708567  A small change is required to read more than one file and to tune up their modification/transformation if required","body":"I&#39;d suggest to take a look at <a href=\"https://stackoverflow.com/questions/67501221/modify-and-re-write-key-from-json-file/67502489#67502489\" title=\"modify and re write key from json file\">stackoverflow.com/questions/67501221/&hellip;</a> <a href=\"https://stackoverflow.com/questions/66678062/apply-a-mask-on-a-json-to-keep-only-mandatory-data/66708567#66708567\" title=\"apply a mask on a json to keep only mandatory data\">stackoverflow.com/questions/66678062/&hellip;</a>  A small change is required to read more than one file and to tune up their modification/transformation if required"},{"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"score":1,"creation_date":1679781275,"post_id":75507976,"comment_id":133783111,"body_markdown":"jsonpath does not support streaming in their library - there is a github issue about it, but the project is not very active.","body":"jsonpath does not support streaming in their library - there is a github issue about it, but the project is not very active."}],"owner":{"account_id":92137,"reputation":584,"user_id":252642,"display_name":"Marcanpilami"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676888371,"creation_date":1676888371,"question_id":75507976,"body_markdown":"I&#39;m trying to process a very huge list of items from a JSON file and store the resulting result list as another JSON file. But I cannot comprehend how I should do this without loading everything in memory (and the memory constraint is capital in this issue).\r\n\r\nIn plain Java, this would be like:\r\n* load a buffer from the input file (a simple `[ {item1}, {item2} ]`list) and parse it (with a streaming parser)\r\n* for all items in buffer call the **unitary** processing service in a loop\r\n* for all results add to the writer buffer for the output JSON file\r\n* loop until done\r\n* close JSON writer (and write end of list inside file).\r\n\r\nCamel seems to have a streaming service for reading (actually I&#39;m not even sure it works - the jsonpath seems to loads everything in memory too... but that another issue), but it seems I cannot merge the results without having everything in memory before the actual write.\r\n\r\nMy first attempt, with an aggregator associated to the split - in this case the result file is OK, but everything is clearly loaded into memory so OOM:\r\n```xml\r\n    &lt;route&gt;\r\n        &lt;from uri=&quot;file:/mytestdirectory/?fileName=input.json&quot; /&gt;\r\n        &lt;split streaming=&quot;true&quot; aggregationStrategy=&quot;#class:com.MyListAggregator&quot;&gt;\r\n            &lt;jsonpath writeAsString=&quot;true&quot;&gt;$[*]&lt;/jsonpath&gt;\r\n\r\n            &lt;unmarshal&gt;\r\n                &lt;json unmarshalType=&quot;com.something.InputItem&quot;\r\n                    namingStrategy=&quot;UPPER_CAMEL_CASE&quot;&gt;&lt;/json&gt;\r\n            &lt;/unmarshal&gt;\r\n\r\n            &lt;bean beanType=&quot;com.something.Processor&quot;\r\n                method=&quot;doSomething&quot; /&gt;\r\n        &lt;/split&gt;\r\n\r\n        &lt;marshal&gt;\r\n            &lt;json namingStrategy=&quot;LOWER_CAMEL_CASE&quot; useList=&quot;true&quot; /&gt;\r\n        &lt;/marshal&gt;\r\n        &lt;to uri=&quot;file:/temp/to.json&quot;&gt;&lt;/to&gt;\r\n    &lt;/route&gt;\r\n```\r\n\r\nAnother attempt, writing the file from inside the split loop. In this case the resulting file is not a valid JSON list - it is just all items one after each other.\r\n```xml\r\n    &lt;route&gt;\r\n        &lt;from uri=&quot;file:/mytestdirectory/?fileName=input.json&quot; /&gt;\r\n        &lt;split streaming=&quot;true&quot;&gt;\r\n            &lt;jsonpath writeAsString=&quot;true&quot;&gt;$[*]&lt;/jsonpath&gt;\r\n\r\n            &lt;unmarshal&gt;\r\n                &lt;json unmarshalType=&quot;com.something.InputItem&quot;\r\n                    namingStrategy=&quot;UPPER_CAMEL_CASE&quot;&gt;&lt;/json&gt;\r\n            &lt;/unmarshal&gt;\r\n\r\n            &lt;bean beanType=&quot;com.something.Processor&quot;\r\n                method=&quot;doSomething&quot; /&gt;\r\n\r\n            &lt;marshal&gt;\r\n                &lt;json namingStrategy=&quot;LOWER_CAMEL_CASE&quot; useList=&quot;true&quot; /&gt;\r\n            &lt;/marshal&gt;\r\n\r\n            &lt;to uri=&quot;file:file:/temp/to.json?fileExist=append&quot;&gt;&lt;/to&gt;\r\n        &lt;/split&gt;\r\n    &lt;/route&gt;\r\n```\r\n\r\n\r\nSo how can I do what I want with Camel ? As this is a basic integration need for integration batch processing I&#39;m sure there is something somewhere I&#39;m missing as I&#39;m very new to Camel...\r\n","title":"Write a huge JSON list file after split with Camel without OOM","body":"<p>I'm trying to process a very huge list of items from a JSON file and store the resulting result list as another JSON file. But I cannot comprehend how I should do this without loading everything in memory (and the memory constraint is capital in this issue).</p>\n<p>In plain Java, this would be like:</p>\n<ul>\n<li>load a buffer from the input file (a simple <code>[ {item1}, {item2} ]</code>list) and parse it (with a streaming parser)</li>\n<li>for all items in buffer call the <strong>unitary</strong> processing service in a loop</li>\n<li>for all results add to the writer buffer for the output JSON file</li>\n<li>loop until done</li>\n<li>close JSON writer (and write end of list inside file).</li>\n</ul>\n<p>Camel seems to have a streaming service for reading (actually I'm not even sure it works - the jsonpath seems to loads everything in memory too... but that another issue), but it seems I cannot merge the results without having everything in memory before the actual write.</p>\n<p>My first attempt, with an aggregator associated to the split - in this case the result file is OK, but everything is clearly loaded into memory so OOM:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;route&gt;\n        &lt;from uri=&quot;file:/mytestdirectory/?fileName=input.json&quot; /&gt;\n        &lt;split streaming=&quot;true&quot; aggregationStrategy=&quot;#class:com.MyListAggregator&quot;&gt;\n            &lt;jsonpath writeAsString=&quot;true&quot;&gt;$[*]&lt;/jsonpath&gt;\n\n            &lt;unmarshal&gt;\n                &lt;json unmarshalType=&quot;com.something.InputItem&quot;\n                    namingStrategy=&quot;UPPER_CAMEL_CASE&quot;&gt;&lt;/json&gt;\n            &lt;/unmarshal&gt;\n\n            &lt;bean beanType=&quot;com.something.Processor&quot;\n                method=&quot;doSomething&quot; /&gt;\n        &lt;/split&gt;\n\n        &lt;marshal&gt;\n            &lt;json namingStrategy=&quot;LOWER_CAMEL_CASE&quot; useList=&quot;true&quot; /&gt;\n        &lt;/marshal&gt;\n        &lt;to uri=&quot;file:/temp/to.json&quot;&gt;&lt;/to&gt;\n    &lt;/route&gt;\n</code></pre>\n<p>Another attempt, writing the file from inside the split loop. In this case the resulting file is not a valid JSON list - it is just all items one after each other.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;route&gt;\n        &lt;from uri=&quot;file:/mytestdirectory/?fileName=input.json&quot; /&gt;\n        &lt;split streaming=&quot;true&quot;&gt;\n            &lt;jsonpath writeAsString=&quot;true&quot;&gt;$[*]&lt;/jsonpath&gt;\n\n            &lt;unmarshal&gt;\n                &lt;json unmarshalType=&quot;com.something.InputItem&quot;\n                    namingStrategy=&quot;UPPER_CAMEL_CASE&quot;&gt;&lt;/json&gt;\n            &lt;/unmarshal&gt;\n\n            &lt;bean beanType=&quot;com.something.Processor&quot;\n                method=&quot;doSomething&quot; /&gt;\n\n            &lt;marshal&gt;\n                &lt;json namingStrategy=&quot;LOWER_CAMEL_CASE&quot; useList=&quot;true&quot; /&gt;\n            &lt;/marshal&gt;\n\n            &lt;to uri=&quot;file:file:/temp/to.json?fileExist=append&quot;&gt;&lt;/to&gt;\n        &lt;/split&gt;\n    &lt;/route&gt;\n</code></pre>\n<p>So how can I do what I want with Camel ? As this is a basic integration need for integration batch processing I'm sure there is something somewhere I'm missing as I'm very new to Camel...</p>\n"},{"tags":["java","spring","mockmvc"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1676881966,"post_id":75505189,"comment_id":133219765,"body_markdown":"Your test wouldn&#39;t even run as you are missing dependencies, also remove the `@Validated` from the controller class, that doesn&#39;t do what you think it does.","body":"Your test wouldn&#39;t even run as you are missing dependencies, also remove the <code>@Validated</code> from the controller class, that doesn&#39;t do what you think it does."},{"owner":{"account_id":27791137,"reputation":1,"user_id":21217550,"display_name":"Simba"},"score":0,"creation_date":1676887746,"post_id":75505189,"comment_id":133221330,"body_markdown":"I deleted all and wrote slowly and carefully again, then I got 201 response. thanks for your advice!","body":"I deleted all and wrote slowly and carefully again, then I got 201 response. thanks for your advice!"}],"owner":{"account_id":27791137,"reputation":1,"user_id":21217550,"display_name":"Simba"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676888357,"creation_date":1676866027,"question_id":75505189,"body_markdown":"```java\r\nimport com.google.gson.Gson;\r\nimport org.junit.jupiter.api.DisplayName;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\r\nimport org.springframework.boot.test.mock.mockito.MockBean;\r\nimport org.springframework.data.jpa.mapping.JpaMetamodelMappingContext;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.test.web.servlet.MockMvc;\r\nimport org.springframework.test.web.servlet.ResultActions;\r\nimport preproject.underdog.answer.dto.answer.AnswerPostDto;\r\n\r\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.post;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\r\n\r\n@WebMvcTest(value = AnswerController.class)\r\n//@AutoConfigureRestDocs\r\n@MockBean(JpaMetamodelMappingContext.class)\r\npublic class AnswerController {\r\n\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n\r\n    @Autowired\r\n    private Gson gson;\r\n\r\n    @Test\r\n    @DisplayName(&quot;   &quot;)\r\n    void postAnswer() throws Exception {\r\n        AnswerPostDto post = new AnswerPostDto(&quot;&quot;, 1L, 1L);\r\n        String content = gson.toJson(post);\r\n\r\n        ResultActions actions =\r\n                mockMvc.perform(\r\n                        post(&quot;/answers&quot;)\r\n                                .accept(MediaType.APPLICATION_JSON)\r\n                                .contentType(MediaType.APPLICATION_JSON)\r\n                                .content(content)\r\n                );\r\n\r\n        actions\r\n                .andExpect(status().isCreated());\r\n}\r\n```\r\n\r\n```java\r\nimport lombok.RequiredArgsConstructor;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.validation.annotation.Validated;\r\nimport org.springframework.web.bind.annotation.*;\r\nimport preproject.underdog.answer.dto.answer.AnswerPostDto;\r\nimport preproject.underdog.answer.dto.answer.AnswerRespDto;\r\nimport preproject.underdog.answer.mapper.AnswerMapper;\r\nimport preproject.underdog.answer.service.AnswerService;\r\n\r\nimport javax.validation.Valid;\r\nimport java.time.LocalDateTime;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/answers&quot;)\r\n@Validated\r\n@RequiredArgsConstructor\r\npublic class AnswerController {\r\n\r\n    private final AnswerService answerService;\r\n    private final AnswerMapper answerMapper;\r\n\r\n    @PostMapping\r\n    public ResponseEntity postAnswer(@Valid @RequestBody AnswerPostDto answerPostDto) {\r\n\r\n        AnswerRespDto answerRespDto = new AnswerRespDto(1L,&quot;&quot;,1L,1L,1L,  LocalDateTime.of(2023, 4, 3, 3, 3, 0),LocalDateTime.of(2023, 4, 3, 3, 3, 0));\r\n\r\n        return new ResponseEntity&lt;&gt;(answerRespDto, HttpStatus.CREATED);\r\n    }\r\n```\r\n\r\nHere&#39;s my codes first,\r\n\r\nI tried make Rest Docs first, but I faced a lot of errors, so I just started to try pass the MockMVC test first.\r\n\r\nSo I gotta got 201 response from that, but I only got 404 error\r\n\r\nhere&#39;s my log.\r\n-\r\n```\r\nMockHttpServletRequest:\r\nHTTP Method = POST\r\nRequest URI = /answers\r\nParameters = {}\r\nHeaders = [Content-Type:&quot;application/json;charset=UTF-8&quot;, Accept:&quot;application/json&quot;, Content-Length:&quot;49&quot;]\r\nBody = {&quot;content&quot;:&quot;&quot;,&quot;userId&quot;:1,&quot;questionId&quot;:1}\r\nSession Attrs = {}\r\n\r\nHandler:\r\nType = org.springframework.web.servlet.resource.ResourceHttpRequestHandler\r\n\r\nAsync:\r\nAsync started = false\r\nAsync result = null\r\n\r\nResolved Exception:\r\nType = null\r\n\r\nModelAndView:\r\nView name = null\r\nView = null\r\nModel = null\r\n\r\nFlashMap:\r\nAttributes = null\r\n\r\nMockHttpServletResponse:\r\nStatus = 404\r\nError message = null\r\nHeaders = [Vary:&quot;Origin&quot;, &quot;Access-Control-Request-Method&quot;, &quot;Access-Control-Request-Headers&quot;]\r\nContent type = null\r\nBody =\r\nForwarded URL = null\r\nRedirected URL = null\r\nCookies = []\r\n```\r\n\r\n```java\r\n@PostMapping\r\npublic ResponseEntity postAnswer(@Valid @RequestBody AnswerPostDto answerPostDto) {\r\nreturn new ResponseEntity&lt;&gt;(HttpStatus.CREATED);\r\n}\r\n```\r\n\r\nI even tried to changed the code to get only 201 response like this\r\n\r\nbut it still gave me 404 error\r\n\r\nWhat should I do?? thanks\r\n","title":"MockMVC test Status expected:&lt;201&gt; but was:&lt;404&gt;","body":"<pre class=\"lang-java prettyprint-override\"><code>import com.google.gson.Gson;\nimport org.junit.jupiter.api.DisplayName;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\nimport org.springframework.boot.test.mock.mockito.MockBean;\nimport org.springframework.data.jpa.mapping.JpaMetamodelMappingContext;\nimport org.springframework.http.MediaType;\nimport org.springframework.test.web.servlet.MockMvc;\nimport org.springframework.test.web.servlet.ResultActions;\nimport preproject.underdog.answer.dto.answer.AnswerPostDto;\n\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.post;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\n\n@WebMvcTest(value = AnswerController.class)\n//@AutoConfigureRestDocs\n@MockBean(JpaMetamodelMappingContext.class)\npublic class AnswerController {\n\n    @Autowired\n    private MockMvc mockMvc;\n\n    @Autowired\n    private Gson gson;\n\n    @Test\n    @DisplayName(&quot;   &quot;)\n    void postAnswer() throws Exception {\n        AnswerPostDto post = new AnswerPostDto(&quot;&quot;, 1L, 1L);\n        String content = gson.toJson(post);\n\n        ResultActions actions =\n                mockMvc.perform(\n                        post(&quot;/answers&quot;)\n                                .accept(MediaType.APPLICATION_JSON)\n                                .contentType(MediaType.APPLICATION_JSON)\n                                .content(content)\n                );\n\n        actions\n                .andExpect(status().isCreated());\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import lombok.RequiredArgsConstructor;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.validation.annotation.Validated;\nimport org.springframework.web.bind.annotation.*;\nimport preproject.underdog.answer.dto.answer.AnswerPostDto;\nimport preproject.underdog.answer.dto.answer.AnswerRespDto;\nimport preproject.underdog.answer.mapper.AnswerMapper;\nimport preproject.underdog.answer.service.AnswerService;\n\nimport javax.validation.Valid;\nimport java.time.LocalDateTime;\n\n@RestController\n@RequestMapping(&quot;/answers&quot;)\n@Validated\n@RequiredArgsConstructor\npublic class AnswerController {\n\n    private final AnswerService answerService;\n    private final AnswerMapper answerMapper;\n\n    @PostMapping\n    public ResponseEntity postAnswer(@Valid @RequestBody AnswerPostDto answerPostDto) {\n\n        AnswerRespDto answerRespDto = new AnswerRespDto(1L,&quot;&quot;,1L,1L,1L,  LocalDateTime.of(2023, 4, 3, 3, 3, 0),LocalDateTime.of(2023, 4, 3, 3, 3, 0));\n\n        return new ResponseEntity&lt;&gt;(answerRespDto, HttpStatus.CREATED);\n    }\n</code></pre>\n<p>Here's my codes first,</p>\n<p>I tried make Rest Docs first, but I faced a lot of errors, so I just started to try pass the MockMVC test first.</p>\n<p>So I gotta got 201 response from that, but I only got 404 error</p>\n<h2>here's my log.</h2>\n<pre><code>MockHttpServletRequest:\nHTTP Method = POST\nRequest URI = /answers\nParameters = {}\nHeaders = [Content-Type:&quot;application/json;charset=UTF-8&quot;, Accept:&quot;application/json&quot;, Content-Length:&quot;49&quot;]\nBody = {&quot;content&quot;:&quot;&quot;,&quot;userId&quot;:1,&quot;questionId&quot;:1}\nSession Attrs = {}\n\nHandler:\nType = org.springframework.web.servlet.resource.ResourceHttpRequestHandler\n\nAsync:\nAsync started = false\nAsync result = null\n\nResolved Exception:\nType = null\n\nModelAndView:\nView name = null\nView = null\nModel = null\n\nFlashMap:\nAttributes = null\n\nMockHttpServletResponse:\nStatus = 404\nError message = null\nHeaders = [Vary:&quot;Origin&quot;, &quot;Access-Control-Request-Method&quot;, &quot;Access-Control-Request-Headers&quot;]\nContent type = null\nBody =\nForwarded URL = null\nRedirected URL = null\nCookies = []\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping\npublic ResponseEntity postAnswer(@Valid @RequestBody AnswerPostDto answerPostDto) {\nreturn new ResponseEntity&lt;&gt;(HttpStatus.CREATED);\n}\n</code></pre>\n<p>I even tried to changed the code to get only 201 response like this</p>\n<p>but it still gave me 404 error</p>\n<p>What should I do?? thanks</p>\n"},{"tags":["java","android","signalr","signalr.client"],"comments":[{"owner":{"account_id":14651144,"reputation":3334,"user_id":10581132,"display_name":"Kiril1512"},"score":0,"creation_date":1600169777,"post_id":63900805,"comment_id":112997322,"body_markdown":"Have you tried assign the received variables to your variables before using them? Like `myLat = lat`","body":"Have you tried assign the received variables to your variables before using them? Like <code>myLat = lat</code>"},{"owner":{"account_id":16896622,"reputation":75,"user_id":12219002,"display_name":"Addy"},"score":0,"creation_date":1600169953,"post_id":63900805,"comment_id":112997398,"body_markdown":"@Kiril1512 I try to give this variables to my function but it not work. Let me check by giving these variables values to my define variables.","body":"@Kiril1512 I try to give this variables to my function but it not work. Let me check by giving these variables values to my define variables."},{"owner":{"account_id":16896622,"reputation":75,"user_id":12219002,"display_name":"Addy"},"score":0,"creation_date":1600172137,"post_id":63900805,"comment_id":112998377,"body_markdown":"@Kiril1512 please check my updated question from last, i use your suggestion but still i face the problem","body":"@Kiril1512 please check my updated question from last, i use your suggestion but still i face the problem"}],"answers":[{"tags":[],"owner":{"account_id":11166583,"reputation":1442,"user_id":8195076,"display_name":"Wowo Ot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612777127,"creation_date":1612777127,"answer_id":66099083,"question_id":63900805,"body_markdown":"This Problem is because of the `UI Thread` not `Signalr`, you can try this code \r\n\r\n                hubConnection.on(&quot;ReceiveTxt&quot;,(txt)-&gt; {\r\n                Activity activity = (Activity) context;\r\n                activity.runOnUiThread(new Runnable() {\r\n                    public void run() {\r\n                        Toast.makeText(context, &quot;-&gt;&gt;&gt; :&quot; + txt, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n            }, String.class);\r\n\r\nIf you are in an `Activity` use this\r\n\r\n    hubConnection.on(&quot;ReceiveTxt&quot;,(txt)-&gt; {\r\n            this.runOnUiThread(new Runnable() {\r\n                public void run() {\r\n                    Toast.makeText(this, &quot;-&gt;&gt;&gt; :&quot; + txt, Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n        }, String.class);","title":"SignalR java client hubConnection.on() method not trigger any method after receiving data","body":"<p>This Problem is because of the <code>UI Thread</code> not <code>Signalr</code>, you can try this code</p>\n<pre><code>            hubConnection.on(&quot;ReceiveTxt&quot;,(txt)-&gt; {\n            Activity activity = (Activity) context;\n            activity.runOnUiThread(new Runnable() {\n                public void run() {\n                    Toast.makeText(context, &quot;-&gt;&gt;&gt; :&quot; + txt, Toast.LENGTH_SHORT).show();\n                }\n            });\n        }, String.class);\n</code></pre>\n<p>If you are in an <code>Activity</code> use this</p>\n<pre><code>hubConnection.on(&quot;ReceiveTxt&quot;,(txt)-&gt; {\n        this.runOnUiThread(new Runnable() {\n            public void run() {\n                Toast.makeText(this, &quot;-&gt;&gt;&gt; :&quot; + txt, Toast.LENGTH_SHORT).show();\n            }\n        });\n    }, String.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17420642,"reputation":21,"user_id":12626265,"display_name":"Mohsen Barzgar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676888355,"creation_date":1676888355,"answer_id":75507973,"question_id":63900805,"body_markdown":"[**Call client methods from hub**][1]\r\n\r\nUse hubConnection.on to define methods on the client that the hub can call. Define the methods **after building** but **before starting** the connection.\r\n\r\nexample:\r\n\r\n    hubConnection = HubConnectionBuilder.create(&quot;http://www.example.com&quot;).build();\r\n\r\n    hubConnection.on(&quot;ReceiveLocation&quot;, (lat, lng) -&gt; {\r\n        Log.i(&quot;dataCheck&quot;, &quot;-&gt; &quot;+Double.parseDouble(lat));\r\n        Log.i(&quot;dataCheck&quot;, &quot;-&gt; &quot;+Double.parseDouble(lng));\r\n        if(hubConnection.getConnectionState() == HubConnectionState.DISCONNECTED)\r\n            hubConnection.start();\r\n\r\n    }, String.class, String.class);\r\n\r\n\r\n    hubConnection.start();\r\n\r\n&gt; **Note**:\r\nIf you do not know the type of data sent from the server to the client, use **Object.class**.\r\n\r\nUse this method if you want to toast or have changes in UI:\r\n\r\n    hubConnection.on(&quot;ReceiveLocation&quot;, (data) -&gt; {\r\n            this.runOnUiThread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    Toast.makeText(MainActivity.this, data.toString(), Toast.LENGTH_SHORT).show();\r\n                    txtPath.setText(data.toString());\r\n                }\r\n            });\r\n    },Object.class);\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/aspnet/core/signalr/java-client?view=aspnetcore-7.0#call-client-methods-from-hub","title":"SignalR java client hubConnection.on() method not trigger any method after receiving data","body":"<p><a href=\"https://learn.microsoft.com/en-us/aspnet/core/signalr/java-client?view=aspnetcore-7.0#call-client-methods-from-hub\" rel=\"nofollow noreferrer\"><strong>Call client methods from hub</strong></a></p>\n<p>Use hubConnection.on to define methods on the client that the hub can call. Define the methods <strong>after building</strong> but <strong>before starting</strong> the connection.</p>\n<p>example:</p>\n<pre><code>hubConnection = HubConnectionBuilder.create(&quot;http://www.example.com&quot;).build();\n\nhubConnection.on(&quot;ReceiveLocation&quot;, (lat, lng) -&gt; {\n    Log.i(&quot;dataCheck&quot;, &quot;-&gt; &quot;+Double.parseDouble(lat));\n    Log.i(&quot;dataCheck&quot;, &quot;-&gt; &quot;+Double.parseDouble(lng));\n    if(hubConnection.getConnectionState() == HubConnectionState.DISCONNECTED)\n        hubConnection.start();\n\n}, String.class, String.class);\n\n\nhubConnection.start();\n</code></pre>\n<blockquote>\n<p><strong>Note</strong>:\nIf you do not know the type of data sent from the server to the client, use <strong>Object.class</strong>.</p>\n</blockquote>\n<p>Use this method if you want to toast or have changes in UI:</p>\n<pre><code>hubConnection.on(&quot;ReceiveLocation&quot;, (data) -&gt; {\n        this.runOnUiThread(new Runnable() {\n            @Override\n            public void run() {\n                Toast.makeText(MainActivity.this, data.toString(), Toast.LENGTH_SHORT).show();\n                txtPath.setText(data.toString());\n            }\n        });\n},Object.class);\n</code></pre>\n"}],"owner":{"account_id":16896622,"reputation":75,"user_id":12219002,"display_name":"Addy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1668,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676888355,"creation_date":1600169084,"question_id":63900805,"body_markdown":"I use SignalR in my android app to receive real time data. When my &quot;hubConnection.on()&quot; method start it receive data successfully but inside this method it not allow me to use that data. Like when i write code like this : \r\n\r\n       hubConnection = HubConnectionBuilder.create(&quot;http://www.example.com&quot;).build();\r\n\r\n        hubConnection.start();\r\n\r\n        hubConnection.on(&quot;ReceiveLocation&quot;, (lat, lng) -&gt; {\r\n\r\n            Log.i(&quot;dataCheck&quot;, &quot;-&gt; &quot;+Double.parseDouble(lat));\r\n            Log.i(&quot;dataCheck&quot;, &quot;-&gt; &quot;+Double.parseDouble(lng));\r\n            if(hubConnection.getConnectionState() == HubConnectionState.DISCONNECTED)\r\n                hubConnection.start();\r\n\r\n        }, String.class, String.class);\r\n\r\nThe this above case data receive successfully and also print in Log. \r\n\r\nBut when i try use this &quot;lat&quot; , &quot;lng&quot; variables, like i try to show a toast with &quot;lat&quot; value, data not receive this method and also toast not show on screen. Like i use code like this:\r\n\r\n            hubConnection = HubConnectionBuilder.create(&quot;http://www.example.com&quot;).build();\r\n\r\n        hubConnection.start();\r\n\r\n        hubConnection.on(&quot;ReceiveLocation&quot;, (lat, lng) -&gt; {\r\n\r\n\r\n            Toast.makeText(OrderTrackingActivity.this, &quot;-&gt;&gt;&gt;&quot;+Double.parseDouble(lat), Toast.LENGTH_SHORT).show();\r\n\r\n\r\n            Log.i(&quot;dataCheck&quot;, &quot;-&gt; &quot;+Double.parseDouble(lat));\r\n            Log.i(&quot;dataCheck&quot;, &quot;-&gt; &quot;+Double.parseDouble(lng));\r\n            if(hubConnection.getConnectionState() == HubConnectionState.DISCONNECTED)\r\n                hubConnection.start();\r\n\r\n        }, String.class, String.class);\r\n\r\nIn this 2nd code the data not receive and toast not show. Please suggest me the possible solutions to solve this problem. I need to use this coming data.\r\n\r\nFollow a suggestion i try to store the value of &quot;lat&quot;, &quot;lng&quot; (variables of .on() funtion) into my own define variables and then pass these my variables to my function name &quot;myFuntion&quot; like this :\r\n\r\n     hubConnection.on(&quot;ReceiveLocation&quot;, (lat, lng) -&gt; {\r\n\r\n            varbl1 = lat;\r\n            varbl2 = lng;\r\n        Log.i(&quot;dataCheck&quot;, &quot;-&gt; &quot;+Double.parseDouble(lat));\r\n        Log.i(&quot;dataCheck&quot;, &quot;-&gt; &quot;+Double.parseDouble(lng));\r\n\r\n        myFuntion(varbl1 , varbl2);\r\n\r\n        if(hubConnection.getConnectionState() == HubConnectionState.DISCONNECTED)\r\n            hubConnection.start();\r\n\r\n    }, String.class, String.class);\r\n\r\n\r\nThen in &quot;myFuntion&quot; i Log the values and successfully values print but still when i use that values either show in Toast or do something else the signalR &quot;hubConnection.on()&quot; funtion stop working. Here is my &quot;myFuntion&quot; method code:\r\n\r\n     public void myFuntion(String value, String value2){\r\n       \r\n        Toast.makeText(this, &quot;&quot;+value, Toast.LENGTH_SHORT).show();\r\n    \r\n    }\r\n\r\n ","title":"SignalR java client hubConnection.on() method not trigger any method after receiving data","body":"<p>I use SignalR in my android app to receive real time data. When my &quot;hubConnection.on()&quot; method start it receive data successfully but inside this method it not allow me to use that data. Like when i write code like this :</p>\n<pre><code>   hubConnection = HubConnectionBuilder.create(&quot;http://www.example.com&quot;).build();\n\n    hubConnection.start();\n\n    hubConnection.on(&quot;ReceiveLocation&quot;, (lat, lng) -&gt; {\n\n        Log.i(&quot;dataCheck&quot;, &quot;-&gt; &quot;+Double.parseDouble(lat));\n        Log.i(&quot;dataCheck&quot;, &quot;-&gt; &quot;+Double.parseDouble(lng));\n        if(hubConnection.getConnectionState() == HubConnectionState.DISCONNECTED)\n            hubConnection.start();\n\n    }, String.class, String.class);\n</code></pre>\n<p>The this above case data receive successfully and also print in Log.</p>\n<p>But when i try use this &quot;lat&quot; , &quot;lng&quot; variables, like i try to show a toast with &quot;lat&quot; value, data not receive this method and also toast not show on screen. Like i use code like this:</p>\n<pre><code>        hubConnection = HubConnectionBuilder.create(&quot;http://www.example.com&quot;).build();\n\n    hubConnection.start();\n\n    hubConnection.on(&quot;ReceiveLocation&quot;, (lat, lng) -&gt; {\n\n\n        Toast.makeText(OrderTrackingActivity.this, &quot;-&gt;&gt;&gt;&quot;+Double.parseDouble(lat), Toast.LENGTH_SHORT).show();\n\n\n        Log.i(&quot;dataCheck&quot;, &quot;-&gt; &quot;+Double.parseDouble(lat));\n        Log.i(&quot;dataCheck&quot;, &quot;-&gt; &quot;+Double.parseDouble(lng));\n        if(hubConnection.getConnectionState() == HubConnectionState.DISCONNECTED)\n            hubConnection.start();\n\n    }, String.class, String.class);\n</code></pre>\n<p>In this 2nd code the data not receive and toast not show. Please suggest me the possible solutions to solve this problem. I need to use this coming data.</p>\n<p>Follow a suggestion i try to store the value of &quot;lat&quot;, &quot;lng&quot; (variables of .on() funtion) into my own define variables and then pass these my variables to my function name &quot;myFuntion&quot; like this :</p>\n<pre><code> hubConnection.on(&quot;ReceiveLocation&quot;, (lat, lng) -&gt; {\n\n        varbl1 = lat;\n        varbl2 = lng;\n    Log.i(&quot;dataCheck&quot;, &quot;-&gt; &quot;+Double.parseDouble(lat));\n    Log.i(&quot;dataCheck&quot;, &quot;-&gt; &quot;+Double.parseDouble(lng));\n\n    myFuntion(varbl1 , varbl2);\n\n    if(hubConnection.getConnectionState() == HubConnectionState.DISCONNECTED)\n        hubConnection.start();\n\n}, String.class, String.class);\n</code></pre>\n<p>Then in &quot;myFuntion&quot; i Log the values and successfully values print but still when i use that values either show in Toast or do something else the signalR &quot;hubConnection.on()&quot; funtion stop working. Here is my &quot;myFuntion&quot; method code:</p>\n<pre><code> public void myFuntion(String value, String value2){\n   \n    Toast.makeText(this, &quot;&quot;+value, Toast.LENGTH_SHORT).show();\n\n}\n</code></pre>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":109059,"reputation":20712,"user_id":289171,"accept_rate":100,"display_name":"CoolBeans"},"score":1,"creation_date":1344796609,"post_id":11924736,"comment_id":15880076,"body_markdown":"You can do `ctrl+shift+o` and eclipse will add the necessary imports. From your error it looks like you are missing the jar containing `BinarySearch` class in the build path.","body":"You can do <code>ctrl+shift+o</code> and eclipse will add the necessary imports. From your error it looks like you are missing the jar containing <code>BinarySearch</code> class in the build path."},{"owner":{"account_id":402486,"reputation":1560,"user_id":769677,"accept_rate":64,"display_name":"Adrian B"},"score":3,"creation_date":1345756873,"post_id":11924736,"comment_id":16171853,"body_markdown":"I have the same problem... with the same algs4.jar :))","body":"I have the same problem... with the same algs4.jar :))"}],"answers":[{"tags":[],"owner":{"account_id":1270084,"reputation":5416,"user_id":1226605,"accept_rate":86,"display_name":"devang"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1344797081,"creation_date":1344797081,"answer_id":11924822,"question_id":11924736,"body_markdown":"I am not sure, I did not try this. Some interpretations though.\r\n\r\nIs this a standard library or someone created it by himself and gave you? \r\n\r\nThe problem is class `BinarySearch` is in `default` package. You will not be able to import it. If this library is created by you, or by any of your friend, you need to ask your friend to move all classes from default package to a good namespace and then re-create the jar.\r\n\r\nIf class is accessible, `ctr + shift + o` should import the class.","title":"How to use classes in Referenced Libraries in Eclipse","body":"<p>I am not sure, I did not try this. Some interpretations though.</p>\n\n<p>Is this a standard library or someone created it by himself and gave you? </p>\n\n<p>The problem is class <code>BinarySearch</code> is in <code>default</code> package. You will not be able to import it. If this library is created by you, or by any of your friend, you need to ask your friend to move all classes from default package to a good namespace and then re-create the jar.</p>\n\n<p>If class is accessible, <code>ctr + shift + o</code> should import the class.</p>\n"},{"tags":[],"owner":{"account_id":2165659,"reputation":889,"user_id":1918822,"accept_rate":40,"display_name":"MrHopko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1379954299,"creation_date":1379954299,"answer_id":18964477,"question_id":11924736,"body_markdown":"Note that the classes in the jar files are all contained in the default package.\r\n\r\nIf your classes are then contained in a package then they will not be directly accessible.\r\n\r\nI submit this answer because I am taking the algorithms course to which these jar files belong and this was the specific cause of my program not working. ","title":"How to use classes in Referenced Libraries in Eclipse","body":"<p>Note that the classes in the jar files are all contained in the default package.</p>\n\n<p>If your classes are then contained in a package then they will not be directly accessible.</p>\n\n<p>I submit this answer because I am taking the algorithms course to which these jar files belong and this was the specific cause of my program not working. </p>\n"},{"tags":[],"owner":{"account_id":2473846,"reputation":331,"user_id":2154947,"display_name":"Kristin Peterson"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1391912358,"creation_date":1391912358,"answer_id":21654418,"question_id":11924736,"body_markdown":"I am taking an [Algorithms][1] class via Coursera that utilizes the algs4.jar reference library.  \r\n\r\n**The Problem:**\r\n\r\nThe issue you are having is that the reference library is located in the default package and the source in which you are accessing the reference library is not.\r\n\r\n**The Solution**\r\n\r\nAll classes in your project need to be in the default package, otherwise the reference libraries (which are located in the default package) will not be recognized.  Your project classes need to be in the src directory and you should not declare a package at the beginning of your .java files. Additionally you also need to make sure you&#39;ve [added the reference libraries to your build path][2].\r\n\r\n\r\n  [1]: https://www.coursera.org/course/algs4partI\r\n  [2]: http://www.wikihow.com/Add-JARs-to-Project-Build-Paths-in-Eclipse-%28Java%29","title":"How to use classes in Referenced Libraries in Eclipse","body":"<p>I am taking an <a href=\"https://www.coursera.org/course/algs4partI\">Algorithms</a> class via Coursera that utilizes the algs4.jar reference library.  </p>\n\n<p><strong>The Problem:</strong></p>\n\n<p>The issue you are having is that the reference library is located in the default package and the source in which you are accessing the reference library is not.</p>\n\n<p><strong>The Solution</strong></p>\n\n<p>All classes in your project need to be in the default package, otherwise the reference libraries (which are located in the default package) will not be recognized.  Your project classes need to be in the src directory and you should not declare a package at the beginning of your .java files. Additionally you also need to make sure you've <a href=\"http://www.wikihow.com/Add-JARs-to-Project-Build-Paths-in-Eclipse-%28Java%29\">added the reference libraries to your build path</a>.</p>\n"},{"tags":[],"owner":{"account_id":2793439,"reputation":19,"user_id":2403197,"display_name":"Rex911"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1405700902,"creation_date":1405539745,"answer_id":24789306,"question_id":11924736,"body_markdown":"If you want to import the classes, you need to download the packaged version of the library. See the Q&amp;A section at the bottom of this webpage.\nhttp://introcs.cs.princeton.edu/java/stdlib/\n\n&gt; Q. If I use a named package to structure my code, the compiler can no longer access the libraries in stdlib.jar. Why not?\n&gt;\n&gt; A. The libraries in stdlib.jar are in the &quot;default&quot; package. In Java, you can&#39;t access classes in the default package from a named package. If you need to use our libraries with a named package, you can use the packaged version stdlib-package.jar.","title":"How to use classes in Referenced Libraries in Eclipse","body":"<p>If you want to import the classes, you need to download the packaged version of the library. See the Q&amp;A section at the bottom of this webpage.\n<a href=\"http://introcs.cs.princeton.edu/java/stdlib/\" rel=\"nofollow noreferrer\">http://introcs.cs.princeton.edu/java/stdlib/</a></p>\n<blockquote>\n<p>Q. If I use a named package to structure my code, the compiler can no longer access the libraries in stdlib.jar. Why not?</p>\n<p>A. The libraries in stdlib.jar are in the &quot;default&quot; package. In Java, you can't access classes in the default package from a named package. If you need to use our libraries with a named package, you can use the packaged version stdlib-package.jar.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1769203,"reputation":8965,"user_id":1614378,"accept_rate":55,"display_name":"devops"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1405702351,"creation_date":1405702351,"answer_id":24830165,"question_id":11924736,"body_markdown":"Firstly, BinarySearch can not be created (private Constructor). Use the static Method `BinarySearch.rank(int key, int[] array)`\r\n\r\nSecondly you can access BinarySearch only from **default package**\r\n\r\nThirdly what about `Arrays.binarySearch(array, key)` ?","title":"How to use classes in Referenced Libraries in Eclipse","body":"<p>Firstly, BinarySearch can not be created (private Constructor). Use the static Method <code>BinarySearch.rank(int key, int[] array)</code></p>\n\n<p>Secondly you can access BinarySearch only from <strong>default package</strong></p>\n\n<p>Thirdly what about <code>Arrays.binarySearch(array, key)</code> ?</p>\n"},{"tags":[],"owner":{"account_id":22179694,"reputation":11,"user_id":16423599,"display_name":"gprem062"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676888253,"creation_date":1676888253,"answer_id":75507958,"question_id":11924736,"body_markdown":"Just delete module_info.java file and the referenced libraries are accessible instantly","title":"How to use classes in Referenced Libraries in Eclipse","body":"<p>Just delete module_info.java file and the referenced libraries are accessible instantly</p>\n"}],"owner":{"account_id":944980,"reputation":4806,"user_id":972381,"display_name":"jeffstern"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28232,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":6,"score":6,"last_activity_date":1676888253,"creation_date":1344796517,"question_id":11924736,"body_markdown":"I have imported the algs4.jar file as a referenced library as seen above. All seems to be fine but I can&#39;t seem to use or access any of the classes in the library.\r\n\r\nIs there an import statement I&#39;m missing?\r\n\r\nImage reference:\r\n\r\n&lt;img src=&quot;http://i.stack.imgur.com/tRvEu.png&quot;&gt;\r\n\r\nNote how I&#39;m trying to use `BinarySearch` from the referenced library but it is not offering me an option to use or import it.","title":"How to use classes in Referenced Libraries in Eclipse","body":"<p>I have imported the algs4.jar file as a referenced library as seen above. All seems to be fine but I can't seem to use or access any of the classes in the library.</p>\n\n<p>Is there an import statement I'm missing?</p>\n\n<p>Image reference:</p>\n\n<p><img src=\"https://i.stack.imgur.com/tRvEu.png\"></p>\n\n<p>Note how I'm trying to use <code>BinarySearch</code> from the referenced library but it is not offering me an option to use or import it.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1202806,"reputation":23213,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"score":0,"creation_date":1567678738,"post_id":57803198,"comment_id":102038306,"body_markdown":"Do not forget to `sc.close()`.","body":"Do not forget to <code>sc.close()</code>."},{"owner":{"display_name":"user11745382"},"score":0,"creation_date":1567679649,"post_id":57803198,"comment_id":102038742,"body_markdown":"Oh yes.. I forgot to close the Scanner object! oops..","body":"Oh yes.. I forgot to close the Scanner object! oops.."},{"owner":{"account_id":11696353,"reputation":567,"user_id":8562954,"display_name":"Erdal Dogan"},"score":0,"creation_date":1567680769,"post_id":57803198,"comment_id":102039368,"body_markdown":"I&#39;d use an array with size of 10, indexes from 0 to 9. Then, I would iterate over the digits of the number and assign True/1 to corresponding index of value of the digit in the array e.g. Number is: 6541234. For first digit I would make 6th(array[5]). element of my array True, then I would continue over the digits and print &#39;not unique&#39; message as I see a &#39;already True&#39; in the array.","body":"I&#39;d use an array with size of 10, indexes from 0 to 9. Then, I would iterate over the digits of the number and assign True/1 to corresponding index of value of the digit in the array e.g. Number is: 6541234. For first digit I would make 6th(array[5]). element of my array True, then I would continue over the digits and print &#39;not unique&#39; message as I see a &#39;already True&#39; in the array."}],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1567678509,"creation_date":1567678509,"answer_id":57803241,"question_id":57803198,"body_markdown":"Your code will always find &quot;duplicate&quot; characters when `i == j`.\r\n\r\nYou should change the indices of the loop in order not to compare a character to itself:\r\n\r\n    for(int i=0;i&lt;num.length();i++) {\r\n        for(int j=i+1;j&lt;num.length();j++) {\r\n            if(num.charAt(i)==num.charAt(j))\r\n                ...\r\n\r\nBesides, you should only output the &quot;...is a Unique number.&quot; message after you are done with the outer loop.","title":"Checking whether a number is an Unique number or not","body":"<p>Your code will always find \"duplicate\" characters when <code>i == j</code>.</p>\n\n<p>You should change the indices of the loop in order not to compare a character to itself:</p>\n\n<pre><code>for(int i=0;i&lt;num.length();i++) {\n    for(int j=i+1;j&lt;num.length();j++) {\n        if(num.charAt(i)==num.charAt(j))\n            ...\n</code></pre>\n\n<p>Besides, you should only output the \"...is a Unique number.\" message after you are done with the outer loop.</p>\n"},{"tags":[],"owner":{"account_id":8122679,"reputation":199,"user_id":6118822,"display_name":"Akash jain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1567682845,"creation_date":1567682845,"answer_id":57804474,"question_id":57803198,"body_markdown":"Lets assume , length of input number to be 10 and &quot;i&quot; has reached the value of 5 in the for loop.\r\n\r\nNow &quot;j&quot; will have the values 0 to 9. \r\n\r\nSo when &quot;j&quot; is equal to 5 , the if condition becomes true as you are comparing the digit at 5th position with itself (which is always true).\r\n\r\n - If you add i != j condition , it will fix the issue :-\r\n\r\n``` if(num.charAt(i)==num.charAt(j) and i != j) ```\r\n\r\n - Alternatively, you can modify the loop for j to start from i + 1 so\r\n   that there are no overlaps.\r\n\r\n```for(int j=i+1;j&lt;num.length();j++) ```\r\n\r\nThe second option is much better as it will reduce the number of comparisons from (n*n)\r\nto (n * (n - 1))/2) , where n is the number of digits in the input number.\r\n","title":"Checking whether a number is an Unique number or not","body":"<p>Lets assume , length of input number to be 10 and \"i\" has reached the value of 5 in the for loop.</p>\n\n<p>Now \"j\" will have the values 0 to 9. </p>\n\n<p>So when \"j\" is equal to 5 , the if condition becomes true as you are comparing the digit at 5th position with itself (which is always true).</p>\n\n<ul>\n<li>If you add i != j condition , it will fix the issue :-</li>\n</ul>\n\n<p><code>if(num.charAt(i)==num.charAt(j) and i != j)</code></p>\n\n<ul>\n<li>Alternatively, you can modify the loop for j to start from i + 1 so\nthat there are no overlaps.</li>\n</ul>\n\n<p><code>for(int j=i+1;j&lt;num.length();j++)</code></p>\n\n<p>The second option is much better as it will reduce the number of comparisons from (n*n)\nto (n * (n - 1))/2) , where n is the number of digits in the input number.</p>\n"},{"tags":[],"owner":{"account_id":10316998,"reputation":3839,"user_id":7611028,"accept_rate":60,"display_name":"thibsc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1567683294,"creation_date":1567682929,"answer_id":57804495,"question_id":57803198,"body_markdown":"A possible solution is to use [`Stream`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html) to convert your [`String`](https://docs.oracle.com/javase/8/docs/api/java/lang/String.html) in a [`Set`](https://docs.oracle.com/javase/8/docs/api/java/util/Set.html) of char, then if the size of the set is the same as the length of your string, it is unique:\r\n\r\n    Scanner sc = new Scanner(System.in);\r\n\tSystem.out.println(&quot;Enter the number to be checked: &quot;);\r\n\tString num = sc.nextLine();\r\n\t\t\r\n\tboolean unique = Stream.of(num.split(&quot;&quot;))\r\n        .map(s -&gt; new String(s))\r\n        .collect(Collectors.toSet()).size() == num.length();\r\n    // With &quot;1234&quot; -&gt; print true\r\n    // With &quot;12342&quot; -&gt; print false\r\n\tSystem.out.println(unique);","title":"Checking whether a number is an Unique number or not","body":"<p>A possible solution is to use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html\" rel=\"nofollow noreferrer\"><code>Stream</code></a> to convert your <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html\" rel=\"nofollow noreferrer\"><code>String</code></a> in a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Set.html\" rel=\"nofollow noreferrer\"><code>Set</code></a> of char, then if the size of the set is the same as the length of your string, it is unique:</p>\n\n<pre><code>Scanner sc = new Scanner(System.in);\nSystem.out.println(\"Enter the number to be checked: \");\nString num = sc.nextLine();\n\nboolean unique = Stream.of(num.split(\"\"))\n    .map(s -&gt; new String(s))\n    .collect(Collectors.toSet()).size() == num.length();\n// With \"1234\" -&gt; print true\n// With \"12342\" -&gt; print false\nSystem.out.println(unique);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9671656,"reputation":2721,"user_id":7176382,"display_name":"Shubhendu Pramanik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567683369,"creation_date":1567683369,"answer_id":57804627,"question_id":57803198,"body_markdown":"You can use below short and handy approach:\r\n\r\n        String a = &quot;123452&quot;;\r\n\r\n        String[] split = a.split(&quot;&quot;);\r\n        List&lt;String&gt; list = Arrays.asList(a.split(&quot;&quot;));\r\n        Set&lt;String&gt; set = new HashSet&lt;&gt;(list);\r\n\r\n        System.out.println(&quot;Unique: &quot; + (list.size() == set.size()));","title":"Checking whether a number is an Unique number or not","body":"<p>You can use below short and handy approach:</p>\n\n<pre><code>    String a = \"123452\";\n\n    String[] split = a.split(\"\");\n    List&lt;String&gt; list = Arrays.asList(a.split(\"\"));\n    Set&lt;String&gt; set = new HashSet&lt;&gt;(list);\n\n    System.out.println(\"Unique: \" + (list.size() == set.size()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27831510,"reputation":1,"user_id":21249833,"display_name":"Sarth Sarode"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676888250,"creation_date":1676888250,"answer_id":75507957,"question_id":57803198,"body_markdown":"    import java.util.*;\r\n\r\n    public class spnum\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            Scanner sc = new Scanner(System.in);\r\n            System.out.println(&quot;Enter a number: &quot;);\r\n            String num = sc.next();\r\n            int ctr = 0;\r\n            boolean isNumUnique = true;\r\n            for(int i = 0; i &lt; num.length(); i++)\r\n            {\r\n                for(int j = 0; j &lt; num.length(); j++)\r\n                {\r\n                    if(num.charAt(i) == num.charAt(j))\r\n                    {\r\n                        ctr++;\r\n                    }\r\n                }\r\n                if(ctr &gt; 1)\r\n                {\r\n                    isNumUnique = false;\r\n                }\r\n                ctr = 0;\r\n            }\r\n\r\n            if(isNumUnique == true)\r\n            {\r\n                System.out.println(&quot;Number is a unique number&quot;);\r\n            }\r\n            else\r\n            {\r\n                System.out.println(&quot;Number is not a unique number&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nthis code would give the right answer","title":"Checking whether a number is an Unique number or not","body":"<pre><code>import java.util.*;\n\npublic class spnum\n{\n    public static void main(String[] args)\n    {\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;Enter a number: &quot;);\n        String num = sc.next();\n        int ctr = 0;\n        boolean isNumUnique = true;\n        for(int i = 0; i &lt; num.length(); i++)\n        {\n            for(int j = 0; j &lt; num.length(); j++)\n            {\n                if(num.charAt(i) == num.charAt(j))\n                {\n                    ctr++;\n                }\n            }\n            if(ctr &gt; 1)\n            {\n                isNumUnique = false;\n            }\n            ctr = 0;\n        }\n\n        if(isNumUnique == true)\n        {\n            System.out.println(&quot;Number is a unique number&quot;);\n        }\n        else\n        {\n            System.out.println(&quot;Number is not a unique number&quot;);\n        }\n    }\n}\n</code></pre>\n<p>this code would give the right answer</p>\n"}],"owner":{"display_name":"user11745382"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":621,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":5,"score":2,"last_activity_date":1676888250,"creation_date":1567678336,"question_id":57803198,"body_markdown":"I have written a program to check if a number is an Unique number.\r\n[A Unique number is a number with no repeating digits and no leading zeros.]\r\n\r\nI have written the following code:\r\n\r\n        Scanner sc=new Scanner(System.in)\r\n\r\n        System.out.println(&quot;Enter the number to be checked: &quot;);\r\n        String num=sc.nextLine();\r\n\r\n        if(num.charAt(0)!=&#39;0&#39;)\r\n        {   \r\n            Outer:\r\n            for(int i=0;i&lt;num.length();i++)\r\n            {\r\n                for(int j=0;j&lt;num.length();j++)\r\n                {\r\n                    if(num.charAt(i)==num.charAt(j))\r\n                    {\r\n                        System.out.println(&quot;No, &quot;+num+&quot; is not a Unique number.&quot;);\r\n                        break Outer;\r\n                    }\r\n                }\r\n                if(i==num.length()-1)\r\n                {\r\n                    System.out.println(&quot;Yes, &quot;+num+&quot; is a Unique number.&quot;);\r\n                }\r\n            }\r\n        }\r\n        else\r\n            System.out.println(&quot;No, &quot;+num+&quot; is not a Unique number as it has leading zeros.&quot;);\r\n\r\nThe problem is that is shows any number as NOT Unique, even 12345.\r\nI would like to know where I have gone wrong.","title":"Checking whether a number is an Unique number or not","body":"<p>I have written a program to check if a number is an Unique number.\n[A Unique number is a number with no repeating digits and no leading zeros.]</p>\n\n<p>I have written the following code:</p>\n\n<pre><code>    Scanner sc=new Scanner(System.in)\n\n    System.out.println(\"Enter the number to be checked: \");\n    String num=sc.nextLine();\n\n    if(num.charAt(0)!='0')\n    {   \n        Outer:\n        for(int i=0;i&lt;num.length();i++)\n        {\n            for(int j=0;j&lt;num.length();j++)\n            {\n                if(num.charAt(i)==num.charAt(j))\n                {\n                    System.out.println(\"No, \"+num+\" is not a Unique number.\");\n                    break Outer;\n                }\n            }\n            if(i==num.length()-1)\n            {\n                System.out.println(\"Yes, \"+num+\" is a Unique number.\");\n            }\n        }\n    }\n    else\n        System.out.println(\"No, \"+num+\" is not a Unique number as it has leading zeros.\");\n</code></pre>\n\n<p>The problem is that is shows any number as NOT Unique, even 12345.\nI would like to know where I have gone wrong.</p>\n"},{"tags":["java","multithreading","java-8","thread-safety","threadpool"],"answers":[{"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676888234,"creation_date":1666407417,"answer_id":74160773,"question_id":74121272,"body_markdown":"This code doesn&#39;t maintain any mapping from a tenant to a thread pool, there&#39;s only one static reference to a `ThreadPoolExecutor`. Each time `initiateCherwellMoveThreadPool` is called, any existing executor will be replaced with a new one, and the existing one isn&#39;t shut down, so it will leak resources. As a result, this will execute tasks from multiple tenants in the same thread pool.\r\n\r\nThis code is also not thread safe. It&#39;s possible (if unlikely) that a thread could schedule a task on a newly-created executor, or even shut it down, before `setRejectedExecutionHandler` is called.\r\n\r\nIf you need a separate executor per tenant, this will need to be implemented. A good option might be to use a [`ConcurrentHashMap`](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentHashMap.html) with `customerId` keys and `ThreadPoolExecutor` values, for example (logging omitted for brevity):\r\n\r\n```java\r\npublic class MoveToCherwellThreadPool {\r\n    public static ConcurrentMap&lt;String, ThreadPoolExecutor&gt; cherwellMoveThreadPoolExecutors = new ConcurrentHashMap&lt;&gt;();\r\n\r\n    public static ThreadPoolExecutor getCherwellMoveThreadPool(String customerId) {\r\n        return cherwellMoveThreadPoolExecutors.computeIfAbsent(customerId, id -&gt; {\r\n            BlockingQueue&lt;Runnable&gt; q = new LinkedBlockingQueue&lt;Runnable&gt;(100000);\r\n            ThreadPoolExecutor executor = new ThreadPoolExecutor(10, 20, 20, TimeUnit.SECONDS, q);\r\n            executor.setRejectedExecutionHandler(new RejectedExecutionHandler() { /*...*/ });\r\n            return executor;\r\n        });\r\n    }\r\n\r\n    public static List&lt;Runnable&gt; stopCherwellMoveTheadPool(String customerId) {\r\n        if (cherwellMoveThreadPoolExecutors.containsKey(customerId)) {\r\n            return cherwellMoveThreadPoolExecutors.get(customerId).shutdownNow();\r\n        }\r\n        return Collections.emptyList();\r\n    }\r\n\r\n}\r\n```\r\n\r\nThis can be used like this:\r\n\r\n    CompletableFuture&lt;?&gt; future = CompletableFuture.runAsync(relationshipThread,\r\n        MoveToCherwellThreadPool.getCherwellMoveThreadPool(customerId));\r\n\r\n\r\nIt&#39;s also important to realise that calling [`shutdownNow`](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadPoolExecutor.html#shutdownNow--) can only _attempt_ to cancel currently executing tasks, and &quot;does not wait for actively executing tasks to terminate&quot;:\r\n\r\n&gt; This implementation cancels tasks via [`Thread.interrupt()`](https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html#interrupt--), so any task that fails to respond to interrupts may never terminate.\r\n\r\nThe code implementing `CherwellRelationshipMoveThread` isn&#39;t shown, so this may or may not be the case.","title":"Terminate threads in a thread pool for Multiple Tenant","body":"<p>This code doesn't maintain any mapping from a tenant to a thread pool, there's only one static reference to a <code>ThreadPoolExecutor</code>. Each time <code>initiateCherwellMoveThreadPool</code> is called, any existing executor will be replaced with a new one, and the existing one isn't shut down, so it will leak resources. As a result, this will execute tasks from multiple tenants in the same thread pool.</p>\n<p>This code is also not thread safe. It's possible (if unlikely) that a thread could schedule a task on a newly-created executor, or even shut it down, before <code>setRejectedExecutionHandler</code> is called.</p>\n<p>If you need a separate executor per tenant, this will need to be implemented. A good option might be to use a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentHashMap.html\" rel=\"nofollow noreferrer\"><code>ConcurrentHashMap</code></a> with <code>customerId</code> keys and <code>ThreadPoolExecutor</code> values, for example (logging omitted for brevity):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MoveToCherwellThreadPool {\n    public static ConcurrentMap&lt;String, ThreadPoolExecutor&gt; cherwellMoveThreadPoolExecutors = new ConcurrentHashMap&lt;&gt;();\n\n    public static ThreadPoolExecutor getCherwellMoveThreadPool(String customerId) {\n        return cherwellMoveThreadPoolExecutors.computeIfAbsent(customerId, id -&gt; {\n            BlockingQueue&lt;Runnable&gt; q = new LinkedBlockingQueue&lt;Runnable&gt;(100000);\n            ThreadPoolExecutor executor = new ThreadPoolExecutor(10, 20, 20, TimeUnit.SECONDS, q);\n            executor.setRejectedExecutionHandler(new RejectedExecutionHandler() { /*...*/ });\n            return executor;\n        });\n    }\n\n    public static List&lt;Runnable&gt; stopCherwellMoveTheadPool(String customerId) {\n        if (cherwellMoveThreadPoolExecutors.containsKey(customerId)) {\n            return cherwellMoveThreadPoolExecutors.get(customerId).shutdownNow();\n        }\n        return Collections.emptyList();\n    }\n\n}\n</code></pre>\n<p>This can be used like this:</p>\n<pre><code>CompletableFuture&lt;?&gt; future = CompletableFuture.runAsync(relationshipThread,\n    MoveToCherwellThreadPool.getCherwellMoveThreadPool(customerId));\n</code></pre>\n<p>It's also important to realise that calling <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadPoolExecutor.html#shutdownNow--\" rel=\"nofollow noreferrer\"><code>shutdownNow</code></a> can only <em>attempt</em> to cancel currently executing tasks, and &quot;does not wait for actively executing tasks to terminate&quot;:</p>\n<blockquote>\n<p>This implementation cancels tasks via <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html#interrupt--\" rel=\"nofollow noreferrer\"><code>Thread.interrupt()</code></a>, so any task that fails to respond to interrupts may never terminate.</p>\n</blockquote>\n<p>The code implementing <code>CherwellRelationshipMoveThread</code> isn't shown, so this may or may not be the case.</p>\n"}],"owner":{"account_id":10255085,"reputation":21,"user_id":7568153,"display_name":"Sanjay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74160773,"answer_count":1,"score":0,"last_activity_date":1676888234,"creation_date":1666163726,"question_id":74121272,"body_markdown":"I&#39;m creating a Threadpool as shown below for a job.\r\n````\r\npublic class MoveToCherwellThreadPool {\r\n\r\npublic static ThreadPoolExecutor cherwellMoveThreadPoolExecutor = null;\r\nprivate static EMLogger logger = EMLogger.getLogger();\r\nprivate static final String CLASSNAME = &quot;MoveToCherwellThreadPool&quot;;\r\n\r\n\tpublic static void initiateCherwellMoveThreadPool() {\r\n\t\tBlockingQueue&lt;Runnable&gt; q = new LinkedBlockingQueue&lt;Runnable&gt;(100000);\r\n\t\tcherwellMoveThreadPoolExecutor = new ThreadPoolExecutor(10,20, 20, TimeUnit.SECONDS, q);\r\n\t\tcherwellMoveThreadPoolExecutor.setRejectedExecutionHandler(new RejectedExecutionHandler() {\r\n            @Override\r\n            public void rejectedExecution(Runnable r,\r\n                    ThreadPoolExecutor executor) {\r\n                logger.logDebug(CLASSNAME,&quot;Rejected task cherwellMoveThreadPoolExecutor Active tasks : &quot; + cherwellMoveThreadPoolExecutor.getActiveCount() + &quot;, &quot; + &quot;cherwellMoveThreadPoolExecutor Completed tasks : &quot; + cherwellMoveThreadPoolExecutor.getCompletedTaskCount()+&quot; Waiting for a second !! &quot;);\r\n                try {\r\n                    Thread.sleep(1000);\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                executor.execute(r);\r\n            }\r\n        });\r\n\t}\r\n\t\r\n}\r\n````\r\n\r\nI&#39;m using this during a process running for multiple customers. For each customer new threadpool will be initialized and threads will be running.\r\nBelow is the code where I&#39;m using the threadpool.\r\n\r\n````\r\nfor (Object[] objects : relationshipList) {\r\n\t\t\t\t\t\tCherwellRelationshipMoveThread relationshipThread = new CherwellRelationshipMoveThread(objects,\r\n\t\t\t\t\t\t\t\tthis.customerId, sb, credential,mainCIId,moveUniqueId,this.startTime);\r\n\t\t\t\t\t\tCompletableFuture&lt;?&gt; future = CompletableFuture.runAsync(relationshipThread,\r\n\t\t\t\t\t\t\t\tMoveToCherwellThreadPool.cherwellMoveThreadPoolExecutor);\r\n\t\t\t\t\t\tcrelationshipList.add(future);\r\n\t\t\t\t}\r\n\t\t\t\tcrelationshipList.forEach(CompletableFuture::join);\r\n````\r\n\r\nThis thread will be created for multiple customers. I&#39;m giving an option to terminate this job in UI. On click of stop process I need to stop/kill only the threads running for that particular customer and other customer&#39;s thread shouldn&#39;t be harmed and should be keep running.\r\n\r\n\r\nOn click of stop process from UI I&#39;m calling a service where inside the service my code will be\r\n````\r\nMoveToCherwellThreadPool.cherwellMoveThreadPoolExecutor.shutdownNow();\r\n\r\n````\r\nI&#39;m calling shutdownNow() on the ThreadPoolExecutor. \r\n\r\nThis is killing all the threads of all the customers. I don&#39;t want to kill all the customers process, but only for the customer where I&#39;ll click on stop process.\r\n","title":"Terminate threads in a thread pool for Multiple Tenant","body":"<p>I'm creating a Threadpool as shown below for a job.</p>\n<pre><code>public class MoveToCherwellThreadPool {\n\npublic static ThreadPoolExecutor cherwellMoveThreadPoolExecutor = null;\nprivate static EMLogger logger = EMLogger.getLogger();\nprivate static final String CLASSNAME = &quot;MoveToCherwellThreadPool&quot;;\n\n    public static void initiateCherwellMoveThreadPool() {\n        BlockingQueue&lt;Runnable&gt; q = new LinkedBlockingQueue&lt;Runnable&gt;(100000);\n        cherwellMoveThreadPoolExecutor = new ThreadPoolExecutor(10,20, 20, TimeUnit.SECONDS, q);\n        cherwellMoveThreadPoolExecutor.setRejectedExecutionHandler(new RejectedExecutionHandler() {\n            @Override\n            public void rejectedExecution(Runnable r,\n                    ThreadPoolExecutor executor) {\n                logger.logDebug(CLASSNAME,&quot;Rejected task cherwellMoveThreadPoolExecutor Active tasks : &quot; + cherwellMoveThreadPoolExecutor.getActiveCount() + &quot;, &quot; + &quot;cherwellMoveThreadPoolExecutor Completed tasks : &quot; + cherwellMoveThreadPoolExecutor.getCompletedTaskCount()+&quot; Waiting for a second !! &quot;);\n                try {\n                    Thread.sleep(1000);\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n                executor.execute(r);\n            }\n        });\n    }\n    \n}\n</code></pre>\n<p>I'm using this during a process running for multiple customers. For each customer new threadpool will be initialized and threads will be running.\nBelow is the code where I'm using the threadpool.</p>\n<pre><code>for (Object[] objects : relationshipList) {\n                        CherwellRelationshipMoveThread relationshipThread = new CherwellRelationshipMoveThread(objects,\n                                this.customerId, sb, credential,mainCIId,moveUniqueId,this.startTime);\n                        CompletableFuture&lt;?&gt; future = CompletableFuture.runAsync(relationshipThread,\n                                MoveToCherwellThreadPool.cherwellMoveThreadPoolExecutor);\n                        crelationshipList.add(future);\n                }\n                crelationshipList.forEach(CompletableFuture::join);\n</code></pre>\n<p>This thread will be created for multiple customers. I'm giving an option to terminate this job in UI. On click of stop process I need to stop/kill only the threads running for that particular customer and other customer's thread shouldn't be harmed and should be keep running.</p>\n<p>On click of stop process from UI I'm calling a service where inside the service my code will be</p>\n<pre><code>MoveToCherwellThreadPool.cherwellMoveThreadPoolExecutor.shutdownNow();\n\n</code></pre>\n<p>I'm calling shutdownNow() on the ThreadPoolExecutor.</p>\n<p>This is killing all the threads of all the customers. I don't want to kill all the customers process, but only for the customer where I'll click on stop process.</p>\n"},{"tags":["java","eclipse","web.xml"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":3,"creation_date":1676886380,"post_id":75507520,"comment_id":133220930,"body_markdown":"Looks like a spell-check. Is it actually causing a problem?","body":"Looks like a spell-check. Is it actually causing a problem?"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":2,"creation_date":1676887998,"post_id":75507520,"comment_id":133221400,"body_markdown":"Seems that an empty URL pattern is pointless: https://stackoverflow.com/questions/74070202/empty-string-for-url-mapping-is-not-working-in-web-xml - I would recommend to report that as a bug to the repository owners","body":"Seems that an empty URL pattern is pointless: <a href=\"https://stackoverflow.com/questions/74070202/empty-string-for-url-mapping-is-not-working-in-web-xml\" title=\"empty string for url mapping is not working in web xml\">stackoverflow.com/questions/74070202/&hellip;</a> - I would recommend to report that as a bug to the repository owners"},{"owner":{"account_id":15521380,"reputation":151,"user_id":11197483,"display_name":"ab.it.gcp"},"score":0,"creation_date":1676888031,"post_id":75507520,"comment_id":133221404,"body_markdown":"Yes the spell-check didn&#39;t cause the issue. I have updated the question to reflect the actual error which is present even after disabling spell-check","body":"Yes the spell-check didn&#39;t cause the issue. I have updated the question to reflect the actual error which is present even after disabling spell-check"},{"owner":{"account_id":15521380,"reputation":151,"user_id":11197483,"display_name":"ab.it.gcp"},"score":0,"creation_date":1676888764,"post_id":75507520,"comment_id":133221606,"body_markdown":"@ThomasKl&#228;ger - Any guidance on how can I reach out to the repository owners?","body":"@ThomasKl&#228;ger - Any guidance on how can I reach out to the repository owners?"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1676889862,"post_id":75507520,"comment_id":133221951,"body_markdown":"When you open the github link in a browser you will see a tab &quot;Issues&quot; and when you open that tab it contains a button &quot;New Issue&quot;. The issue list doesn&#39;t contain a related issue so IMHO it is legit to create a new issue for this problem.","body":"When you open the github link in a browser you will see a tab &quot;Issues&quot; and when you open that tab it contains a button &quot;New Issue&quot;. The issue list doesn&#39;t contain a related issue so IMHO it is legit to create a new issue for this problem."}],"answers":[{"tags":[],"owner":{"account_id":18895937,"reputation":54,"user_id":13785124,"display_name":"Djoxy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676886571,"creation_date":1676886571,"answer_id":75507663,"question_id":75507520,"body_markdown":"Try disable spell checking go to: Window -&gt; Preferences, choose General, Editors, Text Editors, Spelling and disable spell checking.","title":"Error - The URL Mapping &quot;&quot; is invalid | Eclipse | web.xml","body":"<p>Try disable spell checking go to: Window -&gt; Preferences, choose General, Editors, Text Editors, Spelling and disable spell checking.</p>\n"}],"owner":{"account_id":15521380,"reputation":151,"user_id":11197483,"display_name":"ab.it.gcp"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1676887965,"creation_date":1676885827,"question_id":75507520,"body_markdown":"I have cloned a maven project from GIT in Eclipse - https://github.com/Microsoft/Partner-Center-DotNet-Samples.git\r\n\r\nAnd the validation error says - The URL Mapping &quot;&quot; is invalid.\r\n\r\nScreenshot: [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/be4yb.jpg\r\n\r\nPlease advise on the resolution.","title":"Error - The URL Mapping &quot;&quot; is invalid | Eclipse | web.xml","body":"<p>I have cloned a maven project from GIT in Eclipse - <a href=\"https://github.com/Microsoft/Partner-Center-DotNet-Samples.git\" rel=\"nofollow noreferrer\">https://github.com/Microsoft/Partner-Center-DotNet-Samples.git</a></p>\n<p>And the validation error says - The URL Mapping &quot;&quot; is invalid.</p>\n<p>Screenshot: <a href=\"https://i.stack.imgur.com/be4yb.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/be4yb.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Please advise on the resolution.</p>\n"},{"tags":["java","spring-boot","mapping","converters","modelmapper"],"answers":[{"tags":[],"owner":{"account_id":19081633,"reputation":3,"user_id":13933698,"display_name":"FrenchCornichon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676887918,"creation_date":1676887918,"answer_id":75507896,"question_id":75506927,"body_markdown":"From my exp&#233;rience, this is my suggestion. You have 1 entity and 1 entityDTO.\r\nYou make a constructor of entity that takes in parameter the entity DTO. Then you make a constructor for entityDTO that takes in parameter an entity. \r\nFinnaly, you create a mapper class for a given element that will use the 2 constructors to generate what you need. Here is an exemple :\r\n\r\n\r\n\r\nEntity.java : \r\n\r\n        @Entity\r\n        @Getter\r\n        @Setter\r\n        @NoArgsConstructor\r\n        @Table(name=&quot;entity&quot;)\r\n        public class Entity{\r\n            @Id\r\n           \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n            private Long id_entity;\r\n    \r\n            @Column(name = &quot;name&quot;)\r\n            private String name;\r\n            \r\n        public Entity(EntityDTO entityDTO){\r\n           this.setId_entity(entityDTO.getId_entity())\r\n           this.setName(entityDTO.getName())\r\n        }\r\n       }\r\n\r\nEntityDTO.java :\r\n\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    public class EntityDTO{\r\n        private Long id_entity;\r\n        private String name;\r\n    \r\n       public EntityDTO(Entity entity){\r\n          this.setId_Entity(entity.getId_entity())\r\n          this.setName(entity.getName())\r\n       }\r\n    \r\n    }\r\n\r\nEntityMapper.java :\r\n\r\n        @Component\r\n        public class EntityMapper{\r\n            public EntityDTO toDto(Entity entity){\r\n                return new EntityDTO(entity);\r\n            }\r\n          \r\n            public Entity toEntity(EntityDTO entityDTO){\r\n                return new Entity(entityDTO);\r\n            }\r\n    }\r\n\r\nThese anotations are from lombok library, used for time saving :\r\n\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n\r\nThen you can just make requests to Database to get entities, and place the flow of answers through the mapper to convert them to EntityDTO and send them to where ever you need. In your controller :\r\n\r\n    @Autowired\r\n    EntityMapper mapper;\r\n\r\nIn your functions, you can return :\r\n\r\n    service.getEntities().stream.map(mapper::toDTO).collect(Collectors.toList();","title":"Mapping Entity &lt;-&gt; DTO using a generic solution with ModelMapper or Converter?","body":"<p>From my exprience, this is my suggestion. You have 1 entity and 1 entityDTO.\nYou make a constructor of entity that takes in parameter the entity DTO. Then you make a constructor for entityDTO that takes in parameter an entity.\nFinnaly, you create a mapper class for a given element that will use the 2 constructors to generate what you need. Here is an exemple :</p>\n<p>Entity.java :</p>\n<pre><code>    @Entity\n    @Getter\n    @Setter\n    @NoArgsConstructor\n    @Table(name=&quot;entity&quot;)\n    public class Entity{\n        @Id\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\n        private Long id_entity;\n\n        @Column(name = &quot;name&quot;)\n        private String name;\n        \n    public Entity(EntityDTO entityDTO){\n       this.setId_entity(entityDTO.getId_entity())\n       this.setName(entityDTO.getName())\n    }\n   }\n</code></pre>\n<p>EntityDTO.java :</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\npublic class EntityDTO{\n    private Long id_entity;\n    private String name;\n\n   public EntityDTO(Entity entity){\n      this.setId_Entity(entity.getId_entity())\n      this.setName(entity.getName())\n   }\n\n}\n</code></pre>\n<p>EntityMapper.java :</p>\n<pre><code>    @Component\n    public class EntityMapper{\n        public EntityDTO toDto(Entity entity){\n            return new EntityDTO(entity);\n        }\n      \n        public Entity toEntity(EntityDTO entityDTO){\n            return new Entity(entityDTO);\n        }\n}\n</code></pre>\n<p>These anotations are from lombok library, used for time saving :</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n</code></pre>\n<p>Then you can just make requests to Database to get entities, and place the flow of answers through the mapper to convert them to EntityDTO and send them to where ever you need. In your controller :</p>\n<pre><code>@Autowired\nEntityMapper mapper;\n</code></pre>\n<p>In your functions, you can return :</p>\n<pre><code>service.getEntities().stream.map(mapper::toDTO).collect(Collectors.toList();\n</code></pre>\n"}],"owner":{"display_name":"user21099360"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":639,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676887918,"creation_date":1676882175,"question_id":75506927,"body_markdown":"In my Spring boot apps, I use a custom class for mapping from entity to dto or vice versa. On the other hand, I know there are some better options e.g. ModelMapper or Converter class.\r\n\r\nAfter my searches, I have seen some good examples as shown below:\r\n\r\n[Automatically Mapping DTO to Entity on Spring Boot APIs](https://auth0.com/blog/automatically-mapping-dto-to-entity-on-spring-boot-apis/)\r\n\r\nIt sounds good, but as I have no previous experience, I wanted to be clarified about some points before proceeding. Could you help me please?\r\n\r\n**1.** Is that solution is a proper ModelMapper example and can I also apply that approach for mapping entity to DTO?\r\n\r\n**2.** What about implementing Converter interface without using a 3rd party library? Can I also build a generic mechanism using Converter interface?\r\n\r\nNote: I also considered using MapStruct or JMapper, but ModelMapper sounds easier to use and for this reason I decided to use ModelMapper. But if you have some suggestion that clearly shows one of them has more advantegous, feel free to share your suggestions. I could also consider to use it. \r\n\r\nAny help would be appreciated.","title":"Mapping Entity &lt;-&gt; DTO using a generic solution with ModelMapper or Converter?","body":"<p>In my Spring boot apps, I use a custom class for mapping from entity to dto or vice versa. On the other hand, I know there are some better options e.g. ModelMapper or Converter class.</p>\n<p>After my searches, I have seen some good examples as shown below:</p>\n<p><a href=\"https://auth0.com/blog/automatically-mapping-dto-to-entity-on-spring-boot-apis/\" rel=\"nofollow noreferrer\">Automatically Mapping DTO to Entity on Spring Boot APIs</a></p>\n<p>It sounds good, but as I have no previous experience, I wanted to be clarified about some points before proceeding. Could you help me please?</p>\n<p><strong>1.</strong> Is that solution is a proper ModelMapper example and can I also apply that approach for mapping entity to DTO?</p>\n<p><strong>2.</strong> What about implementing Converter interface without using a 3rd party library? Can I also build a generic mechanism using Converter interface?</p>\n<p>Note: I also considered using MapStruct or JMapper, but ModelMapper sounds easier to use and for this reason I decided to use ModelMapper. But if you have some suggestion that clearly shows one of them has more advantegous, feel free to share your suggestions. I could also consider to use it.</p>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","redis"],"comments":[{"owner":{"account_id":7027398,"reputation":21375,"user_id":5384363,"accept_rate":64,"display_name":"for_stack"},"score":4,"creation_date":1568042527,"post_id":29203717,"comment_id":102140099,"body_markdown":"4 years past, and now, you can use the [redis-protobuf](https://github.com/sewenew/redis-protobuf) module to save nested data structures to Redis. *Disclaimer*: I&#39;m the author of this module.","body":"4 years past, and now, you can use the <a href=\"https://github.com/sewenew/redis-protobuf\" rel=\"nofollow noreferrer\">redis-protobuf</a> module to save nested data structures to Redis. <i>Disclaimer</i>: I&#39;m the author of this module."},{"owner":{"account_id":3404868,"reputation":3924,"user_id":2856202,"accept_rate":50,"display_name":"daparic"},"score":0,"creation_date":1605084593,"post_id":29203717,"comment_id":114541231,"body_markdown":"@for_stack this is all well and good. How do we do this customization in redislabs deployments?","body":"@for_stack this is all well and good. How do we do this customization in redislabs deployments?"},{"owner":{"account_id":7027398,"reputation":21375,"user_id":5384363,"accept_rate":64,"display_name":"for_stack"},"score":0,"creation_date":1605088023,"post_id":29203717,"comment_id":114542614,"body_markdown":"@eigenfield Sorry, but I&#39;m not familiar with redislabs deployments, but I think you can simply build the module, and config it with `loadmodule` configuration. Also you can ask @Itamar Haber for help. I&#39;m sure his advice will be very helpful :)","body":"@eigenfield Sorry, but I&#39;m not familiar with redislabs deployments, but I think you can simply build the module, and config it with <code>loadmodule</code> configuration. Also you can ask @Itamar Haber for help. I&#39;m sure his advice will be very helpful :)"}],"answers":[{"tags":[],"owner":{"account_id":1099357,"reputation":47932,"user_id":3160475,"display_name":"Itamar Haber"},"down_vote_count":0,"up_vote_count":37,"is_accepted":true,"score":37,"last_activity_date":1427092545,"creation_date":1427092545,"answer_id":29204442,"question_id":29203717,"body_markdown":"Redis&#39; data structures cannot be nested inside other data structures, so storing a List inside a Hash is not possible. Instead, use different keys for your servers&#39; CPU values (e.g. `server1:cpu`).","title":"Redis storing list inside hash","body":"<p>Redis' data structures cannot be nested inside other data structures, so storing a List inside a Hash is not possible. Instead, use different keys for your servers' CPU values (e.g. <code>server1:cpu</code>).</p>\n"},{"tags":[],"owner":{"account_id":399098,"reputation":10373,"user_id":764206,"display_name":"Nikita Koksharov"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1676887801,"creation_date":1474987849,"answer_id":39727810,"question_id":29203717,"body_markdown":"It&#39;s possible to do this with [Redisson](https://redisson.org) framework. It allows to store a reference to Redis object in another Redis object though special reference objects which handled by Redisson. \r\n\r\nSo your task could be solved using List inside Map:\r\n\r\n    RMap&lt;String, RList&lt;Option&gt;&gt; settings = redisson.getMap(&quot;settings&quot;);\r\n\r\n    RList&lt;Option&gt; options1 = redisson.getList(&quot;settings_server1_option&quot;);\r\n    options1.add(new Option(&quot;name&quot;, &quot;s1&quot;));\r\n    options1.add(new Option(&quot;cpu&quot;, &quot;80&quot;));\r\n    settings.put(&quot;server1&quot;, options1);\r\n\r\n    RList&lt;Option&gt; options2 = redisson.getList(&quot;settings_server2_option&quot;);\r\n    options2.add(new Option(&quot;name&quot;, &quot;s2&quot;));\r\n    options2.add(new Option(&quot;cpu&quot;, &quot;40&quot;));\r\n    settings.put(&quot;server2&quot;, options2);\r\n\r\n    // read it\r\n    RList&lt;Option&gt; options2Value = settings.get(&quot;server2&quot;);\r\n\r\nOr using Map inside Map:\r\n\r\n    RMap&lt;String, RMap&lt;String, String&gt;&gt; settings = redisson.getMap(&quot;settings&quot;);\r\n\r\n    RMap&lt;String, String&gt; options1 = redisson.getMap(&quot;settings_server1_option&quot;);\r\n    options1.put(&quot;name&quot;, &quot;s1&quot;);\r\n    options1.put(&quot;cpu&quot;, &quot;80&quot;);\r\n    settings.put(&quot;server1&quot;, options1);\r\n\r\n    RMap&lt;String, String&gt; options2 = redisson.getMap(&quot;settings_server2_option&quot;);\r\n    options2.put(&quot;name&quot;, &quot;s2&quot;);\r\n    options2.put(&quot;cpu&quot;, &quot;40&quot;);\r\n    settings.put(&quot;server2&quot;, options1);\r\n\r\n    // read it\r\n    RMap&lt;String, String&gt; options2Value = settings.get(&quot;server2&quot;);\r\n\r\nDiclamer: I&#39;m a developer of Redisson","title":"Redis storing list inside hash","body":"<p>It's possible to do this with <a href=\"https://redisson.org\" rel=\"nofollow noreferrer\">Redisson</a> framework. It allows to store a reference to Redis object in another Redis object though special reference objects which handled by Redisson.</p>\n<p>So your task could be solved using List inside Map:</p>\n<pre><code>RMap&lt;String, RList&lt;Option&gt;&gt; settings = redisson.getMap(&quot;settings&quot;);\n\nRList&lt;Option&gt; options1 = redisson.getList(&quot;settings_server1_option&quot;);\noptions1.add(new Option(&quot;name&quot;, &quot;s1&quot;));\noptions1.add(new Option(&quot;cpu&quot;, &quot;80&quot;));\nsettings.put(&quot;server1&quot;, options1);\n\nRList&lt;Option&gt; options2 = redisson.getList(&quot;settings_server2_option&quot;);\noptions2.add(new Option(&quot;name&quot;, &quot;s2&quot;));\noptions2.add(new Option(&quot;cpu&quot;, &quot;40&quot;));\nsettings.put(&quot;server2&quot;, options2);\n\n// read it\nRList&lt;Option&gt; options2Value = settings.get(&quot;server2&quot;);\n</code></pre>\n<p>Or using Map inside Map:</p>\n<pre><code>RMap&lt;String, RMap&lt;String, String&gt;&gt; settings = redisson.getMap(&quot;settings&quot;);\n\nRMap&lt;String, String&gt; options1 = redisson.getMap(&quot;settings_server1_option&quot;);\noptions1.put(&quot;name&quot;, &quot;s1&quot;);\noptions1.put(&quot;cpu&quot;, &quot;80&quot;);\nsettings.put(&quot;server1&quot;, options1);\n\nRMap&lt;String, String&gt; options2 = redisson.getMap(&quot;settings_server2_option&quot;);\noptions2.put(&quot;name&quot;, &quot;s2&quot;);\noptions2.put(&quot;cpu&quot;, &quot;40&quot;);\nsettings.put(&quot;server2&quot;, options1);\n\n// read it\nRMap&lt;String, String&gt; options2Value = settings.get(&quot;server2&quot;);\n</code></pre>\n<p>Diclamer: I'm a developer of Redisson</p>\n"},{"tags":[],"owner":{"account_id":15559739,"reputation":111,"user_id":11225142,"display_name":"Mohankumar M"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1620148944,"creation_date":1620148944,"answer_id":67389358,"question_id":29203717,"body_markdown":"You can encode/stringify push the data, while pulling data you can decode/parse the data.\r\n\r\n&gt; Encode -&gt; Decode\r\n\r\n&gt; Stringify -&gt; Parse","title":"Redis storing list inside hash","body":"<p>You can encode/stringify push the data, while pulling data you can decode/parse the data.</p>\n<blockquote>\n<p>Encode -&gt; Decode</p>\n</blockquote>\n<blockquote>\n<p>Stringify -&gt; Parse</p>\n</blockquote>\n"}],"owner":{"account_id":1120839,"reputation":687,"user_id":1109178,"accept_rate":25,"display_name":"Shabin Hashim"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30215,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"accepted_answer_id":29204442,"answer_count":3,"score":33,"last_activity_date":1676887801,"creation_date":1427087963,"question_id":29203717,"body_markdown":"I have to store some machine details in redis. As there are many different machines i am planning to use the below structure\r\n\r\n    server1 =&gt; {name =&gt; s1, cpu=&gt;80}\r\n    server2 =&gt; {name =&gt; s2, cpu=&gt;40}\r\n\r\nI need to store more than one value against the key CPU. Also i need to maintain only the last 10 values in the list of values against cpu\r\n\r\n1) How can i store a list against the key inside the hash?\r\n\r\n2) I read about ltrim. But it accepts a key. How can i do a ltrim for key cpu inside server1?\r\n\r\nI am using jedis.","title":"Redis storing list inside hash","body":"<p>I have to store some machine details in redis. As there are many different machines i am planning to use the below structure</p>\n\n<pre><code>server1 =&gt; {name =&gt; s1, cpu=&gt;80}\nserver2 =&gt; {name =&gt; s2, cpu=&gt;40}\n</code></pre>\n\n<p>I need to store more than one value against the key CPU. Also i need to maintain only the last 10 values in the list of values against cpu</p>\n\n<p>1) How can i store a list against the key inside the hash?</p>\n\n<p>2) I read about ltrim. But it accepts a key. How can i do a ltrim for key cpu inside server1?</p>\n\n<p>I am using jedis.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9359,"page":633,"page_size":100}
