{"items":[{"tags":["java","multithreading","junit5"],"comments":[{"owner":{"account_id":11008792,"reputation":176,"user_id":8086910,"display_name":"Pam Stums"},"score":2,"creation_date":1659640316,"post_id":73241137,"comment_id":129348718,"body_markdown":"I would &quot;unit test&quot; the code that runs the &quot;runnable&quot; instead.","body":"I would &quot;unit test&quot; the code that runs the &quot;runnable&quot; instead."},{"owner":{"account_id":11008792,"reputation":176,"user_id":8086910,"display_name":"Pam Stums"},"score":0,"creation_date":1659640384,"post_id":73241137,"comment_id":129348740,"body_markdown":"Or, if there is a &quot;side effect&quot; to the exception that you can detect, then you can assert that side effect status instead.  For example, if due to the exception some variable becomes null..  you can asset that in your test.","body":"Or, if there is a &quot;side effect&quot; to the exception that you can detect, then you can assert that side effect status instead.  For example, if due to the exception some variable becomes null..  you can asset that in your test."},{"owner":{"account_id":1637870,"reputation":553,"user_id":1510874,"display_name":"asbachb"},"score":0,"creation_date":1659640498,"post_id":73241137,"comment_id":129348765,"body_markdown":"From your example it does not seem to bring any benefit in adding another layer of compexity by using an `ExecutorService` instead of just running the `Runnable` on it&#39;s own.","body":"From your example it does not seem to bring any benefit in adding another layer of compexity by using an <code>ExecutorService</code> instead of just running the <code>Runnable</code> on it&#39;s own."},{"owner":{"account_id":1888343,"reputation":176607,"user_id":1707091,"display_name":"rgettman"},"score":1,"creation_date":1659640737,"post_id":73241137,"comment_id":129348839,"body_markdown":"[How to catch an Exception from a thread](https://stackoverflow.com/questions/6546193/how-to-catch-an-exception-from-a-thread)","body":"<a href=\"https://stackoverflow.com/questions/6546193/how-to-catch-an-exception-from-a-thread\">How to catch an Exception from a thread</a>"}],"owner":{"account_id":16746116,"reputation":129,"user_id":15317405,"display_name":"jlaufer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":354,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659641282,"creation_date":1659640089,"question_id":73241137,"body_markdown":"I am using AssertThrows to test for an exception thrown in a thread. I know an exception is thrown since the exception message shows before the AssertionFail message.\r\n\r\n\r\n    \r\n    import java.util.concurrent.ExecutorService; \r\n    import java.util.concurrent.Executors;\r\n    import org.junit.jupiter.api.Assertions; \r\n    import org.junit.jupiter.api.Test;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            ExecutorService pool = Executors.newFixedThreadPool(1);\r\n            SingleThread thread = new SingleThread();\r\n            pool.execute(thread);//Thread 1 (in real application there are several)\r\n        } \r\n    }\r\n    \r\n    class SingleThread implements Runnable{\r\n        @Override\r\n        public void run() {\r\n            throw new NullPointerException();\r\n        } \r\n    }\r\n    \r\n    class Testing{\r\n        @Test\r\n        public void SingleThreadTest() {\r\n            SingleThread testClass = new SingleThread();\r\n            ExecutorService executor = Executors.newCachedThreadPool();\r\n            executor.execute(testClass);\r\n            Assertions.assertThrows(NullPointerException.class, () -&gt; executor.execute(testClass));\r\n        } \r\n    }\r\n\r\nIt appears that JUnit does not see the exception since it is not thrown on the main thread. Is it possible for JUnit detect the exception in this situation? \r\n\r\n","title":"JUnit 5 assertThrows not catching exception on seperate thread","body":"<p>I am using AssertThrows to test for an exception thrown in a thread. I know an exception is thrown since the exception message shows before the AssertionFail message.</p>\n<pre><code>import java.util.concurrent.ExecutorService; \nimport java.util.concurrent.Executors;\nimport org.junit.jupiter.api.Assertions; \nimport org.junit.jupiter.api.Test;\n\npublic class Main {\n    public static void main(String[] args) {\n        ExecutorService pool = Executors.newFixedThreadPool(1);\n        SingleThread thread = new SingleThread();\n        pool.execute(thread);//Thread 1 (in real application there are several)\n    } \n}\n\nclass SingleThread implements Runnable{\n    @Override\n    public void run() {\n        throw new NullPointerException();\n    } \n}\n\nclass Testing{\n    @Test\n    public void SingleThreadTest() {\n        SingleThread testClass = new SingleThread();\n        ExecutorService executor = Executors.newCachedThreadPool();\n        executor.execute(testClass);\n        Assertions.assertThrows(NullPointerException.class, () -&gt; executor.execute(testClass));\n    } \n}\n</code></pre>\n<p>It appears that JUnit does not see the exception since it is not thrown on the main thread. Is it possible for JUnit detect the exception in this situation?</p>\n"},{"tags":["java","algorithm","aes","padding","aes-gcm"],"comments":[{"owner":{"account_id":3046198,"reputation":2670,"user_id":2581783,"display_name":"Rene M."},"score":1,"creation_date":1436194074,"post_id":31248777,"comment_id":50495003,"body_markdown":"Padding describes how blocks in the chain are aligned and filled up to match the expected block size. The JRE can run with different security provider. The Oracle SDK includes his own very low secure USA pleasant Oracle Security Provider. I dont know which Security Prodiver is default in IBM SDK. Best practice is to include your own security provider when working with different JREs Providers, like BouncyCastle.  Or use the Security provider of the target system on dev system, like when you develop for android where OpenSSl Security Provider is Default. Hope that helps","body":"Padding describes how blocks in the chain are aligned and filled up to match the expected block size. The JRE can run with different security provider. The Oracle SDK includes his own very low secure USA pleasant Oracle Security Provider. I dont know which Security Prodiver is default in IBM SDK. Best practice is to include your own security provider when working with different JREs Providers, like BouncyCastle.  Or use the Security provider of the target system on dev system, like when you develop for android where OpenSSl Security Provider is Default. Hope that helps"},{"owner":{"account_id":3046198,"reputation":2670,"user_id":2581783,"display_name":"Rene M."},"score":1,"creation_date":1436194141,"post_id":31248777,"comment_id":50495061,"body_markdown":"This is best Security Provider I know: https://www.bouncycastle.org/java.html","body":"This is best Security Provider I know: <a href=\"https://www.bouncycastle.org/java.html\" rel=\"nofollow noreferrer\">bouncycastle.org/java.html</a>"},{"owner":{"account_id":467264,"reputation":1915,"user_id":872501,"accept_rate":53,"display_name":"C.c"},"score":0,"creation_date":1436195287,"post_id":31248777,"comment_id":50495902,"body_markdown":"Thanks for reply, I need do not introduce 3rd libs. so I need use JDK build-in provider. like SUNJCE, but in IBM sdk, I guess it provide its own provider, but however, my question is, do &quot;AES/GCM/PKCS5Padding&quot; is legal value? I did not found any example use PKCS5Padding in GCM and even http://isaacyang1988.googlecode.com/svn/trunk/Crypt/src/org/bouncycastle/jce/provider/test/AESTest.java this article have test case like that it is not right pattern","body":"Thanks for reply, I need do not introduce 3rd libs. so I need use JDK build-in provider. like SUNJCE, but in IBM sdk, I guess it provide its own provider, but however, my question is, do &quot;AES/GCM/PKCS5Padding&quot; is legal value? I did not found any example use PKCS5Padding in GCM and even <a href=\"http://isaacyang1988.googlecode.com/svn/trunk/Crypt/src/org/bouncycastle/jce/provider/test/AESTest.java\" rel=\"nofollow noreferrer\">isaacyang1988.googlecode.com/svn/trunk/Crypt/src/org/&hellip;</a> this article have test case like that it is not right pattern"},{"owner":{"account_id":3046198,"reputation":2670,"user_id":2581783,"display_name":"Rene M."},"score":0,"creation_date":1436195458,"post_id":31248777,"comment_id":50496029,"body_markdown":"Look at answer from Artjom. Otherwise write a program that inspects the default security provider of your jre and print out possible values for your desired algorithm. Select values which exist on both side and you are fine","body":"Look at answer from Artjom. Otherwise write a program that inspects the default security provider of your jre and print out possible values for your desired algorithm. Select values which exist on both side and you are fine"}],"answers":[{"tags":[],"owner":{"account_id":2033317,"reputation":61286,"user_id":1816580,"display_name":"Artjom B."},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1659640944,"creation_date":1436194941,"answer_id":31249214,"question_id":31248777,"body_markdown":"GCM is a streaming mode which means that the ciphertext is only as long as the plaintext (not including authentication tag). GCM doesn&#39;t require a padding. This means that the PKCS5Padding version is actually only a synonym for NoPadding for convenience during programming. \r\n\r\nSome providers don&#39;t have this strange mode. Java has pluggable cryptographic providers and basically all JRE distributions have a default cryptographic provider which may have different cipher strings and defaults than those of other providers.\r\n\r\nThere are cases where padding the plaintext makes sense. For example, you can hide the length of the actual plaintext by appending a random length PKCS5Padding.\r\n","title":"Can PKCS5Padding be in AES/GCM mode?","body":"<p>GCM is a streaming mode which means that the ciphertext is only as long as the plaintext (not including authentication tag). GCM doesn't require a padding. This means that the PKCS5Padding version is actually only a synonym for NoPadding for convenience during programming.</p>\n<p>Some providers don't have this strange mode. Java has pluggable cryptographic providers and basically all JRE distributions have a default cryptographic provider which may have different cipher strings and defaults than those of other providers.</p>\n<p>There are cases where padding the plaintext makes sense. For example, you can hide the length of the actual plaintext by appending a random length PKCS5Padding.</p>\n"}],"owner":{"account_id":467264,"reputation":1915,"user_id":872501,"accept_rate":53,"display_name":"C.c"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17638,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":1,"score":15,"last_activity_date":1659640944,"creation_date":1436193701,"question_id":31248777,"body_markdown":"What&#39;s the padding mode for AES/GCM? I understood it can be NoPadding, as in ECB mode it can be PKCS5Padding, how about in GCM mode? in JCE interface, we need provide &quot;algorithm/mode/padding&quot; ([Reference][1]). \r\n\r\nSo I used the following code to get the instance and it works in JDK but failed in IBM SDK which says \r\n\r\n&gt; cannot find provider for supporting AES/GCM/PKCS5Padding\r\n\r\n     Cipher.getInstance(&quot;AES/GCM/PKCS5Padding&quot;);\r\n\r\nWhat&#39;s real use case for padding?\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/javax/crypto/Cipher.html","title":"Can PKCS5Padding be in AES/GCM mode?","body":"<p>What's the padding mode for AES/GCM? I understood it can be NoPadding, as in ECB mode it can be PKCS5Padding, how about in GCM mode? in JCE interface, we need provide \"algorithm/mode/padding\" (<a href=\"https://docs.oracle.com/javase/8/docs/api/javax/crypto/Cipher.html\" rel=\"noreferrer\">Reference</a>). </p>\n\n<p>So I used the following code to get the instance and it works in JDK but failed in IBM SDK which says </p>\n\n<blockquote>\n  <p>cannot find provider for supporting AES/GCM/PKCS5Padding</p>\n</blockquote>\n\n<pre><code> Cipher.getInstance(\"AES/GCM/PKCS5Padding\");\n</code></pre>\n\n<p>What's real use case for padding?</p>\n"},{"tags":["java","list","count","stream","monthcalendar"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":2,"creation_date":1659623986,"post_id":73237788,"comment_id":129343234,"body_markdown":"Does this answer your question? [Combine array of dates and sum values per month in Java](https://stackoverflow.com/questions/32480926/combine-array-of-dates-and-sum-values-per-month-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/32480926/combine-array-of-dates-and-sum-values-per-month-in-java\">Combine array of dates and sum values per month in Java</a>"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1659624349,"post_id":73237788,"comment_id":129343357,"body_markdown":"@PM77-1 [That question](https://stackoverflow.com/q/32480926/642706) is quite similar. But this Question here wants only a count of each month’s occurrence count, woh no extraneous number to sum. So I think this Question deserves its own solution.","body":"@PM77-1 <a href=\"https://stackoverflow.com/q/32480926/642706\">That question</a> is quite similar. But this Question here wants only a count of each month’s occurrence count, woh no extraneous number to sum. So I think this Question deserves its own solution."}],"answers":[{"tags":[],"owner":{"account_id":18184236,"reputation":48,"user_id":13231334,"display_name":"ProbablyNotKai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659624444,"creation_date":1659624444,"answer_id":73237954,"question_id":73237788,"body_markdown":"I wrote up a process to allow you to get your desired goal using Streams and Lambdas.\r\n1. Parse your dates into an Array of LocalDates.\r\n2. Define a Predicate for your criteria.\r\n3. Filter your Stream using your Predicate and get the count().\r\n\r\n    \tString[] dates = { &quot;2021-07-01&quot;, &quot;2021-08-20&quot;, &quot;2021-08-25&quot;, &quot;2021-09-05&quot;, &quot;2022-01-06&quot;, &quot;2022-06-07&quot; };\r\n\t\tLocalDate[] localDates = new LocalDate[dates.length];\r\n\r\n\t\tfor(int i = 0; i &lt; dates.length; i++){\r\n\t\t\tlocalDates[i] = LocalDate.parse(dates[i]);\r\n\t\t}\r\n\r\n\t\tPredicate&lt;LocalDate&gt; month = localDate -&gt; localDate.getMonth().equals(Month.AUGUST);\r\n\r\n\t\tlong count = Arrays.stream(localDates).filter(month).count();","title":"How to get number of occurrences of a month from a list of dates in java","body":"<p>I wrote up a process to allow you to get your desired goal using Streams and Lambdas.</p>\n<ol>\n<li><p>Parse your dates into an Array of LocalDates.</p>\n</li>\n<li><p>Define a Predicate for your criteria.</p>\n</li>\n<li><p>Filter your Stream using your Predicate and get the count().</p>\n<pre><code> String[] dates = { &quot;2021-07-01&quot;, &quot;2021-08-20&quot;, &quot;2021-08-25&quot;, &quot;2021-09-05&quot;, &quot;2022-01-06&quot;, &quot;2022-06-07&quot; };\n LocalDate[] localDates = new LocalDate[dates.length];\n\n for(int i = 0; i &lt; dates.length; i++){\n     localDates[i] = LocalDate.parse(dates[i]);\n }\n\n Predicate&lt;LocalDate&gt; month = localDate -&gt; localDate.getMonth().equals(Month.AUGUST);\n\n long count = Arrays.stream(localDates).filter(month).count();\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659640651,"creation_date":1659624751,"answer_id":73238048,"question_id":73237788,"body_markdown":"# tl;dr\r\n\r\n    List\r\n    .of( &quot;2021-07-01&quot;, &quot;2021-08-20&quot;, &quot;2021-08-25&quot;, &quot;2021-09-05&quot;, &quot;2022-01-06&quot;, &quot;2022-06-07&quot; )\r\n    .stream()\r\n    .map( input -&gt; LocalDate.parse( input ) )      // Parse each element as a `LocalDate` object, for a new stream.\r\n    .collect(\r\n        Collectors.groupingBy( date -&gt; \r\n                       YearMonth :: from ,         // Extract a `YearMonth` from each `LocalDate` as the key.\r\n                       Collectors.counting()       // Count occurrences.\r\n        )\r\n    )                                              // Return a `Map`.\r\n\r\n# Details\r\n\r\nMake example data.\r\n\r\n```java\r\nList&lt; String &gt; inputs = List.of( &quot;2021-07-01&quot;, &quot;2021-08-20&quot;, &quot;2021-08-25&quot;, &quot;2021-09-05&quot;, &quot;2022-01-06&quot;, &quot;2022-06-07&quot; );\r\n```\r\n\r\nMake a stream of those inputs. Parse each element as a `LocalDate` object, for a new stream. Produce a key-value `Map &lt; YearMonth , Integer &gt;` object by extracting a [`YearMonth`][1] from each `LocalDate` as the key, and summing one as a count of occurrences for the value.  \r\n\r\n```java\r\nMap&lt; YearMonth , Integer &gt; monthCounts = \r\n    inputs\r\n        .stream()\r\n        .map( input -&gt; LocalDate.parse( input ) )      // Parse each element as a `LocalDate` object, for a new stream.\r\n        .collect(\r\n            Collectors.groupingBy( date -&gt; \r\n                           YearMonth :: from  ,        // Extract a `YearMonth` from each `LocalDate` as the key.\r\n                           Collectors.counting()       // Count occurrences.\r\n            )\r\n        )                                              // Return a `Map`.\r\n;\r\n```\r\n\r\nSee this [code run live at Ideone.com][2].\r\n\r\n&gt; {2021-09=1, 2021-08=2, 2021-07=1, 2022-06=1, 2022-01=1}\r\n\r\n## Sort by year-month: `NavigableMap` \r\n\r\nYou might want to keep the entries in your resulting map sorted by the `YearMonth` keys. If so:\r\n\r\n - Change your declared map type from `Map` to [`NavigableMap`][3] interface. \r\n - Add an argument for [`TreeMap :: new`][4] to instantiate an objecting implementing `NavigableMap`. \r\n\r\n```java\r\nNavigableMap &lt; YearMonth, Long &gt; monthCounts =\r\n        inputs\r\n                .stream()\r\n                .map( input -&gt; LocalDate.parse( input ) )\r\n                .collect(\r\n                        Collectors.groupingBy(\r\n                                YearMonth :: from ,\r\n                                TreeMap::new,\r\n                                Collectors.counting()\r\n                        )\r\n                );\r\n```\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/YearMonth.html\r\n  [2]: https://ideone.com/37D6y6\r\n  [3]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/NavigableMap.html\r\n  [4]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/TreeMap.html","title":"How to get number of occurrences of a month from a list of dates in java","body":"<h1>tl;dr</h1>\n<pre><code>List\n.of( &quot;2021-07-01&quot;, &quot;2021-08-20&quot;, &quot;2021-08-25&quot;, &quot;2021-09-05&quot;, &quot;2022-01-06&quot;, &quot;2022-06-07&quot; )\n.stream()\n.map( input -&gt; LocalDate.parse( input ) )      // Parse each element as a `LocalDate` object, for a new stream.\n.collect(\n    Collectors.groupingBy( date -&gt; \n                   YearMonth :: from ,         // Extract a `YearMonth` from each `LocalDate` as the key.\n                   Collectors.counting()       // Count occurrences.\n    )\n)                                              // Return a `Map`.\n</code></pre>\n<h1>Details</h1>\n<p>Make example data.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt; String &gt; inputs = List.of( &quot;2021-07-01&quot;, &quot;2021-08-20&quot;, &quot;2021-08-25&quot;, &quot;2021-09-05&quot;, &quot;2022-01-06&quot;, &quot;2022-06-07&quot; );\n</code></pre>\n<p>Make a stream of those inputs. Parse each element as a <code>LocalDate</code> object, for a new stream. Produce a key-value <code>Map &lt; YearMonth , Integer &gt;</code> object by extracting a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/YearMonth.html\" rel=\"nofollow noreferrer\"><code>YearMonth</code></a> from each <code>LocalDate</code> as the key, and summing one as a count of occurrences for the value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt; YearMonth , Integer &gt; monthCounts = \n    inputs\n        .stream()\n        .map( input -&gt; LocalDate.parse( input ) )      // Parse each element as a `LocalDate` object, for a new stream.\n        .collect(\n            Collectors.groupingBy( date -&gt; \n                           YearMonth :: from  ,        // Extract a `YearMonth` from each `LocalDate` as the key.\n                           Collectors.counting()       // Count occurrences.\n            )\n        )                                              // Return a `Map`.\n;\n</code></pre>\n<p>See this <a href=\"https://ideone.com/37D6y6\" rel=\"nofollow noreferrer\">code run live at Ideone.com</a>.</p>\n<blockquote>\n<p>{2021-09=1, 2021-08=2, 2021-07=1, 2022-06=1, 2022-01=1}</p>\n</blockquote>\n<h2>Sort by year-month: <code>NavigableMap</code></h2>\n<p>You might want to keep the entries in your resulting map sorted by the <code>YearMonth</code> keys. If so:</p>\n<ul>\n<li>Change your declared map type from <code>Map</code> to <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/NavigableMap.html\" rel=\"nofollow noreferrer\"><code>NavigableMap</code></a> interface.</li>\n<li>Add an argument for <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/TreeMap.html\" rel=\"nofollow noreferrer\"><code>TreeMap :: new</code></a> to instantiate an objecting implementing <code>NavigableMap</code>.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>NavigableMap &lt; YearMonth, Long &gt; monthCounts =\n        inputs\n                .stream()\n                .map( input -&gt; LocalDate.parse( input ) )\n                .collect(\n                        Collectors.groupingBy(\n                                YearMonth :: from ,\n                                TreeMap::new,\n                                Collectors.counting()\n                        )\n                );\n</code></pre>\n"}],"owner":{"account_id":25978239,"reputation":11,"user_id":19692392,"display_name":"Suprita"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":294,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1659640651,"creation_date":1659623702,"question_id":73237788,"body_markdown":"Java : I have a list of String which holds Date column data from database.\r\nI want the count of each month .\r\n\r\nSay I have data :\r\n2021-07-01\r\n2021-08-20\r\n2021-08-25\r\n2021-09-05\r\n2022-01-06\r\n2022-06-07\r\n\r\nI want to retrieve value 1 for July,2 for August, 1 for September, 1 for January, 1 for June .\r\n\r\nHow can I use stream API to achieve this? Or any other method to retrieve vthis data","title":"How to get number of occurrences of a month from a list of dates in java","body":"<p>Java : I have a list of String which holds Date column data from database.\nI want the count of each month .</p>\n<p>Say I have data :\n2021-07-01\n2021-08-20\n2021-08-25\n2021-09-05\n2022-01-06\n2022-06-07</p>\n<p>I want to retrieve value 1 for July,2 for August, 1 for September, 1 for January, 1 for June .</p>\n<p>How can I use stream API to achieve this? Or any other method to retrieve vthis data</p>\n"},{"tags":["java","spring","spring-data-jpa"],"comments":[{"owner":{"account_id":1564273,"reputation":1454,"user_id":1453413,"display_name":"HoRn"},"score":0,"creation_date":1658600781,"post_id":73088254,"comment_id":129093914,"body_markdown":"Follow [ask] please","body":"Follow <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> please"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1659640097,"post_id":73088254,"comment_id":129348666,"body_markdown":"`User` is only a single object, it cannot hold multiple values","body":"<code>User</code> is only a single object, it cannot hold multiple values"}],"answers":[{"tags":[],"owner":{"account_id":3175510,"reputation":2055,"user_id":2683501,"accept_rate":82,"display_name":"pL4Gu33"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658556049,"creation_date":1658556049,"answer_id":73088405,"question_id":73088254,"body_markdown":"Your repo assume only ONE entry `User getAllContacts();`.\r\nYou load all contacts, you need a list of user ... `List&lt;User&gt; getAllContacts()`\r\n\r\nHint: Your repo can also inherit from [CRUD Repo][1]. There you have some methods out of the box.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/data-commons/docs/current/api/org/springframework/data/repository/CrudRepository.html","title":"How to return all the contacts which are all saved in DB?","body":"<p>Your repo assume only ONE entry <code>User getAllContacts();</code>.\nYou load all contacts, you need a list of user ... <code>List&lt;User&gt; getAllContacts()</code></p>\n<p>Hint: Your repo can also inherit from <a href=\"https://docs.spring.io/spring-data/data-commons/docs/current/api/org/springframework/data/repository/CrudRepository.html\" rel=\"nofollow noreferrer\">CRUD Repo</a>. There you have some methods out of the box.</p>\n"},{"tags":[],"owner":{"account_id":25780380,"reputation":259,"user_id":19526090,"display_name":"Sandip Gadade"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659640099,"creation_date":1659639896,"answer_id":73241115,"question_id":73088254,"body_markdown":"You have get list of Contacts e.g \r\n\r\n    public List&lt;Contact&gt; getAllContact(){\r\n    }\r\n\r\nIn My Case i get book entity\r\n\r\n**Book.java**\r\n\r\n    @Entity\r\n    @Table(name = &quot;books&quot;)\r\n    public class Book {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private int id;\r\n        private String bookname;\r\n        @OneToOne(cascade = CascadeType.ALL)\r\n        @JsonManagedReference\r\n        private Author author;\r\n    }\r\n**BookDao.java**\r\n\r\n    public interface BookDao extends CrudRepository&lt;Book, Integer&gt; {\r\n        public Book findById(int id);\r\n    }\r\n\r\n**BookService.java**\r\n\r\n    @Component\r\n    public class BookService {\r\n    \r\n        @Autowired\r\n        private BookRepository bookRepository;\r\n    \r\n        //get all lists\r\n        public List&lt;Book&gt; getAllBooks(){\r\n            List&lt;Book&gt; list = (List&lt;Book&gt;) this.bookRepository.findAll();\r\n            return list;\r\n        }\r\n    \r\n        //get book by id\r\n        public Book getBookById(int id){\r\n            Book book = this.bookRepository.findById(id);\r\n            return book;\r\n        }\r\n    }\r\n\r\n**BookController.java**\r\n\r\n    @RestController\r\n    // @RequestMapping(&quot;/books&quot;)\r\n    public class BookController {\r\n    \r\n        @Autowired\r\n        private BookService bookService;\r\n    \r\n        //get all books handler\r\n        @GetMapping(&quot;/books&quot;)\r\n        public List&lt;Book&gt; getBook(){\r\n           List&lt;Book&gt; list =  this.bookService.getAllBooks();\r\n        }\r\n    }","title":"How to return all the contacts which are all saved in DB?","body":"<p>You have get list of Contacts e.g</p>\n<pre><code>public List&lt;Contact&gt; getAllContact(){\n}\n</code></pre>\n<p>In My Case i get book entity</p>\n<p><strong>Book.java</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;books&quot;)\npublic class Book {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    private String bookname;\n    @OneToOne(cascade = CascadeType.ALL)\n    @JsonManagedReference\n    private Author author;\n}\n</code></pre>\n<p><strong>BookDao.java</strong></p>\n<pre><code>public interface BookDao extends CrudRepository&lt;Book, Integer&gt; {\n    public Book findById(int id);\n}\n</code></pre>\n<p><strong>BookService.java</strong></p>\n<pre><code>@Component\npublic class BookService {\n\n    @Autowired\n    private BookRepository bookRepository;\n\n    //get all lists\n    public List&lt;Book&gt; getAllBooks(){\n        List&lt;Book&gt; list = (List&lt;Book&gt;) this.bookRepository.findAll();\n        return list;\n    }\n\n    //get book by id\n    public Book getBookById(int id){\n        Book book = this.bookRepository.findById(id);\n        return book;\n    }\n}\n</code></pre>\n<p><strong>BookController.java</strong></p>\n<pre><code>@RestController\n// @RequestMapping(&quot;/books&quot;)\npublic class BookController {\n\n    @Autowired\n    private BookService bookService;\n\n    //get all books handler\n    @GetMapping(&quot;/books&quot;)\n    public List&lt;Book&gt; getBook(){\n       List&lt;Book&gt; list =  this.bookService.getAllBooks();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24609015,"reputation":11,"user_id":18510860,"display_name":"Mo Javeed"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1659640099,"creation_date":1658554024,"question_id":73088254,"body_markdown":"I have created a contact-saving app. I am not able to return all the contacts that are all saved in DB, the query did not return a unique result: 2\r\n\r\nMy Controller\r\n```\r\npublic ModelAndView getAllContacts() {\r\n\tModelAndView mav = new ModelAndView(&quot;getAllUser.jsp&quot;);\r\n\tUser user = userda.getAllContacts();\r\n\tmav.addObject(user);\r\n\treturn mav;\r\n```\r\nMy JPA Repository\r\n```\r\n@Query(value =&quot;SELECT * from USER&quot;, nativeQuery = true)\r\nUser getAllContacts();\r\n```\r\nModel class\r\n```\r\n@Entity(name = &quot;USER&quot;)\r\n@Table(name = &quot;USER&quot;)\r\npublic class User {\r\n\r\n\t@Id\r\n\tprivate long id;\r\n\tprivate String name;\r\n\r\n\tpublic String toString() {\r\n\t\treturn &quot;Person Name is &quot; + &quot; : &quot; + name + &quot; and &quot; + &quot; Mobile Number is &quot; + &quot; : &quot; + id;\r\n\t}\r\n\r\n\tpublic long getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(long id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n}\r\n```\r\n","title":"How to return all the contacts which are all saved in DB?","body":"<p>I have created a contact-saving app. I am not able to return all the contacts that are all saved in DB, the query did not return a unique result: 2</p>\n<p>My Controller</p>\n<pre><code>public ModelAndView getAllContacts() {\n    ModelAndView mav = new ModelAndView(&quot;getAllUser.jsp&quot;);\n    User user = userda.getAllContacts();\n    mav.addObject(user);\n    return mav;\n</code></pre>\n<p>My JPA Repository</p>\n<pre><code>@Query(value =&quot;SELECT * from USER&quot;, nativeQuery = true)\nUser getAllContacts();\n</code></pre>\n<p>Model class</p>\n<pre><code>@Entity(name = &quot;USER&quot;)\n@Table(name = &quot;USER&quot;)\npublic class User {\n\n    @Id\n    private long id;\n    private String name;\n\n    public String toString() {\n        return &quot;Person Name is &quot; + &quot; : &quot; + name + &quot; and &quot; + &quot; Mobile Number is &quot; + &quot; : &quot; + id;\n    }\n\n    public long getId() {\n        return id;\n    }\n\n    public void setId(long id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n}\n</code></pre>\n"},{"tags":["java","eclipse","excel","apache","libraries"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1459406246,"post_id":36322294,"comment_id":60274269,"body_markdown":"Your link points to the sources download. That ZIP does not contain any JARs. You should download from https://poi.apache.org/download.html the `poi-bin-3.14.zip. And you will need **all** those JARs in the class path. At the moment it lacks the `poi-ooxml-3.14-20160307.jar`. And for difference HSSF XSSF read https://poi.apache.org/spreadsheet/index.html. Good to read also: https://poi.apache.org/spreadsheet/quick-guide.html","body":"Your link points to the sources download. That ZIP does not contain any JARs. You should download from <a href=\"https://poi.apache.org/download.html\" rel=\"nofollow noreferrer\">poi.apache.org/download.html</a> the <code>poi-bin-3.14.zip. And you will need **all** those JARs in the class path. At the moment it lacks the </code>poi-ooxml-3.14-20160307.jar`. And for difference HSSF XSSF read <a href=\"https://poi.apache.org/spreadsheet/index.html\" rel=\"nofollow noreferrer\">poi.apache.org/spreadsheet/index.html</a>. Good to read also: <a href=\"https://poi.apache.org/spreadsheet/quick-guide.html\" rel=\"nofollow noreferrer\">poi.apache.org/spreadsheet/quick-guide.html</a>"},{"owner":{"account_id":5236454,"reputation":3,"user_id":4184865,"display_name":"Shawn"},"score":0,"creation_date":1459407665,"post_id":36322294,"comment_id":60275101,"body_markdown":"It appears to be working. Thanks for the help! I will check out those links. Also if you wouldn&#39;t mind asking a minor question, What&#39;s the difference between the src build and the bin build?","body":"It appears to be working. Thanks for the help! I will check out those links. Also if you wouldn&#39;t mind asking a minor question, What&#39;s the difference between the src build and the bin build?"},{"owner":{"account_id":5236454,"reputation":3,"user_id":4184865,"display_name":"Shawn"},"score":0,"creation_date":1459407852,"post_id":36322294,"comment_id":60275212,"body_markdown":"Also could you add an &quot;answer&quot; so I can up mark it xD","body":"Also could you add an &quot;answer&quot; so I can up mark it xD"}],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1459412976,"creation_date":1459412976,"answer_id":36328060,"question_id":36322294,"body_markdown":"Your link points to the sources download. That ZIP does not contain any JARs. You should download from https://poi.apache.org/download.html the `poi-bin-3.14.zip`. And you will need **all** those JARs in the class path. At the moment it lacks the `poi-ooxml-3.14-20160307.jar`. \r\n\r\nFor difference HSSF XSSF read https://poi.apache.org/spreadsheet/index.html. \r\n\r\nGood to read also: https://poi.apache.org/spreadsheet/quick-guide.html\r\n\r\nFor the difference between the src build and the bin build:\r\n\r\nThe src build is thought for programmers who need the source codes of the apache poi objects. For example if they will fork their own POI project from this. It contains only *.java files, not compiled *.class files or *.jar archives. So with this you must self compile the *.java files and create the *.jar archives.\r\n\r\nSince it contains a build.xml also, maybe your Eclipse has used this and compiled and jared automatically. But this is only a guess since I do not use Eclipse.\r\n\r\nProgrammers who only need to use the apache poi objects should download the bin builds. They contain pre compiled classes in jar archives.","title":"Import Causing Syntax Errors Eclipse","body":"<p>Your link points to the sources download. That ZIP does not contain any JARs. You should download from <a href=\"https://poi.apache.org/download.html\" rel=\"nofollow\">https://poi.apache.org/download.html</a> the <code>poi-bin-3.14.zip</code>. And you will need <strong>all</strong> those JARs in the class path. At the moment it lacks the <code>poi-ooxml-3.14-20160307.jar</code>. </p>\n\n<p>For difference HSSF XSSF read <a href=\"https://poi.apache.org/spreadsheet/index.html\" rel=\"nofollow\">https://poi.apache.org/spreadsheet/index.html</a>. </p>\n\n<p>Good to read also: <a href=\"https://poi.apache.org/spreadsheet/quick-guide.html\" rel=\"nofollow\">https://poi.apache.org/spreadsheet/quick-guide.html</a></p>\n\n<p>For the difference between the src build and the bin build:</p>\n\n<p>The src build is thought for programmers who need the source codes of the apache poi objects. For example if they will fork their own POI project from this. It contains only *.java files, not compiled *.class files or *.jar archives. So with this you must self compile the *.java files and create the *.jar archives.</p>\n\n<p>Since it contains a build.xml also, maybe your Eclipse has used this and compiled and jared automatically. But this is only a guess since I do not use Eclipse.</p>\n\n<p>Programmers who only need to use the apache poi objects should download the bin builds. They contain pre compiled classes in jar archives.</p>\n"}],"owner":{"account_id":5236454,"reputation":3,"user_id":4184865,"display_name":"Shawn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1211,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":36328060,"answer_count":1,"score":0,"last_activity_date":1659639715,"creation_date":1459385075,"question_id":36322294,"body_markdown":"I have added the external jar that is contained in this zip: http://www.apache.org/dyn/closer.lua/poi/release/src/poi-src-3.14.zip (First link) to my Eclipse Java Project. I want to be able to create and modify existing excel files, so I create a new XSSFWorkBook object. When I click the import tooltip under the XSSFWookBook object it imports: &quot;org.apache.poi.xssf.usermodel.XSSFWorkbook&quot;. After that has been added I get a syntax error underlining &quot;org.apache.poi.xssf&quot;, The import org.apache.poi.xssf cannot be resolved.\r\n\r\nFor some reason in the Referenced Libraries tab there&#39;s not actually a &quot;xssf&quot; file that exists, but for some reason Eclipse decided to import it.\r\n[Image of my Eclipse Window][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/3M3d2.png\r\n\r\nHow do I fix the syntax errors occuring when I import XSSFWookBook and why would Eclipse import a package that doesn&#39;t appear to exist?\r\n\r\nAlso I noticed there was a HSSF folder which I&#39;ve been told is similar to XSSF but is outdated compared to it. If anyone could answer any of my questions or clarify the difference between HSSF and XSSF excel files I would be very grateful.","title":"Import Causing Syntax Errors Eclipse","body":"<p>I have added the external jar that is contained in this zip: <a href=\"http://www.apache.org/dyn/closer.lua/poi/release/src/poi-src-3.14.zip\" rel=\"nofollow noreferrer\">http://www.apache.org/dyn/closer.lua/poi/release/src/poi-src-3.14.zip</a> (First link) to my Eclipse Java Project. I want to be able to create and modify existing excel files, so I create a new XSSFWorkBook object. When I click the import tooltip under the XSSFWookBook object it imports: &quot;org.apache.poi.xssf.usermodel.XSSFWorkbook&quot;. After that has been added I get a syntax error underlining &quot;org.apache.poi.xssf&quot;, The import org.apache.poi.xssf cannot be resolved.</p>\n<p>For some reason in the Referenced Libraries tab there's not actually a &quot;xssf&quot; file that exists, but for some reason Eclipse decided to import it.\n<a href=\"https://i.stack.imgur.com/3M3d2.png\" rel=\"nofollow noreferrer\">Image of my Eclipse Window</a></p>\n<p>How do I fix the syntax errors occuring when I import XSSFWookBook and why would Eclipse import a package that doesn't appear to exist?</p>\n<p>Also I noticed there was a HSSF folder which I've been told is similar to XSSF but is outdated compared to it. If anyone could answer any of my questions or clarify the difference between HSSF and XSSF excel files I would be very grateful.</p>\n"},{"tags":["java","android","android-livedata","android-mvvm"],"comments":[{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1659168539,"post_id":73170857,"comment_id":129233039,"body_markdown":"*I don&#39;t understand how I would do it in Java*... Ain&#39;t it already in Java? For sorting in view model; what is your data source, a database or a network? If first you can sort them in the database query. Is there anything wrong with that?","body":"<i>I don&#39;t understand how I would do it in Java</i>... Ain&#39;t it already in Java? For sorting in view model; what is your data source, a database or a network? If first you can sort them in the database query. Is there anything wrong with that?"},{"owner":{"account_id":24580690,"reputation":33,"user_id":18485872,"display_name":"Iam Me"},"score":0,"creation_date":1659618401,"post_id":73170857,"comment_id":129340917,"body_markdown":"My code is in Java, the the solution I referenced in the link above is in Kotlin. I&#39;m using Retrofit to make my api calls. Is this sortable? Call&lt;ArrayList&lt;Titles&gt;&gt; getTitles(@Query(&quot;tags&quot;) String show_tag)","body":"My code is in Java, the the solution I referenced in the link above is in Kotlin. I&#39;m using Retrofit to make my api calls. Is this sortable? Call&lt;ArrayList&lt;Titles&gt;&gt; getTitles(@Query(&quot;tags&quot;) String show_tag)"}],"answers":[{"tags":[],"owner":{"account_id":14549133,"reputation":525,"user_id":10508565,"display_name":"Mieczkoni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659180679,"creation_date":1659180679,"answer_id":73175223,"question_id":73170857,"body_markdown":"Just use the [LiveData Transformations][1]. In your case it could be something like this:\r\n\r\n    public LiveData&lt;List&lt;Titles&gt;&gt; getTitlesListLiveData()\r\n    {\r\n        return Transformations.map( repository.getTitlesLiveData(), titles -&gt;\r\n                titles.sort(Comparator.comparing(Titles::getSeasonNumber).thenComparing(Titles::getEpisodeNumber))\r\n        );\r\n    }\r\n\r\nAlso you don&#39;t have to set the adapter every time the data changes:\r\n\r\n    binding.rvTitles.setAdapter(ShowTitlesAdapter);\r\nYou can set it once, for example in the onCreate (when in Activity) or in onCreateView (when in Fragment). Then when the data changes you just call the `setShowTitlesList` to change the data in adapter\r\n\r\n  [1]: https://developer.android.com/topic/libraries/architecture/livedata#transform_livedata","title":"How to sort MutableLiveData ArrayList in ViewModel?","body":"<p>Just use the <a href=\"https://developer.android.com/topic/libraries/architecture/livedata#transform_livedata\" rel=\"nofollow noreferrer\">LiveData Transformations</a>. In your case it could be something like this:</p>\n<pre><code>public LiveData&lt;List&lt;Titles&gt;&gt; getTitlesListLiveData()\n{\n    return Transformations.map( repository.getTitlesLiveData(), titles -&gt;\n            titles.sort(Comparator.comparing(Titles::getSeasonNumber).thenComparing(Titles::getEpisodeNumber))\n    );\n}\n</code></pre>\n<p>Also you don't have to set the adapter every time the data changes:</p>\n<pre><code>binding.rvTitles.setAdapter(ShowTitlesAdapter);\n</code></pre>\n<p>You can set it once, for example in the onCreate (when in Activity) or in onCreateView (when in Fragment). Then when the data changes you just call the <code>setShowTitlesList</code> to change the data in adapter</p>\n"}],"owner":{"account_id":24580690,"reputation":33,"user_id":18485872,"display_name":"Iam Me"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":416,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659639627,"creation_date":1659127606,"question_id":73170857,"body_markdown":"I have an Android app (Java) that makes an api call for shows. After the shows are returned, I need to filter the show arraylist by season &amp; then by episode. I&#39;m currently sorting the list in my fragment because I haven&#39;t found a good solution on how to do this in my viewmodel. \r\n\r\nThis is my call in my vm:\r\n\r\n    public MutableLiveData&lt;ArrayList&lt;Titles&gt;&gt; getTitlesListLiveData(){\r\n        return repository.getTitlesLiveData();\r\n    } \r\n\r\nAnd this is how I&#39;m sorting it in my fragment:\r\n\r\n        titlesViewModel.titlesListLiveData.observe(getViewLifecycleOwner(), titles -&gt; {\r\n\r\n            for (Titles title : titles) {\r\n                titlesList.add(title);\r\n            }\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\r\n                titlesList.sort(Comparator.comparing(Titles::getSeasonNumber).thenComparing(Titles::getEpisodeNumber));\r\n            }\r\n            binding.rvTitles.setAdapter(ShowTitlesAdapter);            \r\n            ShowTitlesAdapter.setShowTitlesList(titlesList);\r\n\r\n        });\r\n        titlesViewModel.getAllTitles(ShowTag);\r\n\r\nI find [this][1] but I don&#39;t understand how I would do it in Java or in my viewmodel. Can anyone help?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/61242377/how-to-sort-mutablelivedatalistbook\r\n\r\nUPDATE:\r\nI tried doing this in my ViewModel &amp; it does not work:\r\n\r\n    public LiveData&lt;List&lt;String&gt;&gt; seasonsListLiveData;\r\n    \r\n    seasonsListLiveData = Transformations.switchMap(titlesListLiveData, titles-&gt; titles.sort(Comparator.comparing(Titles::getSeasonNumber).thenComparing(Titles::getEpisodeNumber));\r\n\r\nThe error I get: Required type:\r\nLiveData\r\n&lt;List&lt;String&gt;&gt;\r\nProvided:\r\nLiveData\r\n&lt;Object&gt;\r\nno instance(s) of type variable(s) Y exist so that void conforms to LiveData&lt;Y&gt;\r\n\r\nAlso tried using Transformations.map() &amp; received the same error.","title":"How to sort MutableLiveData ArrayList in ViewModel?","body":"<p>I have an Android app (Java) that makes an api call for shows. After the shows are returned, I need to filter the show arraylist by season &amp; then by episode. I'm currently sorting the list in my fragment because I haven't found a good solution on how to do this in my viewmodel.</p>\n<p>This is my call in my vm:</p>\n<pre><code>public MutableLiveData&lt;ArrayList&lt;Titles&gt;&gt; getTitlesListLiveData(){\n    return repository.getTitlesLiveData();\n} \n</code></pre>\n<p>And this is how I'm sorting it in my fragment:</p>\n<pre><code>    titlesViewModel.titlesListLiveData.observe(getViewLifecycleOwner(), titles -&gt; {\n\n        for (Titles title : titles) {\n            titlesList.add(title);\n        }\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\n            titlesList.sort(Comparator.comparing(Titles::getSeasonNumber).thenComparing(Titles::getEpisodeNumber));\n        }\n        binding.rvTitles.setAdapter(ShowTitlesAdapter);            \n        ShowTitlesAdapter.setShowTitlesList(titlesList);\n\n    });\n    titlesViewModel.getAllTitles(ShowTag);\n</code></pre>\n<p>I find <a href=\"https://stackoverflow.com/questions/61242377/how-to-sort-mutablelivedatalistbook\">this</a> but I don't understand how I would do it in Java or in my viewmodel. Can anyone help?</p>\n<p>UPDATE:\nI tried doing this in my ViewModel &amp; it does not work:</p>\n<pre><code>public LiveData&lt;List&lt;String&gt;&gt; seasonsListLiveData;\n\nseasonsListLiveData = Transformations.switchMap(titlesListLiveData, titles-&gt; titles.sort(Comparator.comparing(Titles::getSeasonNumber).thenComparing(Titles::getEpisodeNumber));\n</code></pre>\n<p>The error I get: Required type:\nLiveData\n&lt;List&gt;\nProvided:\nLiveData\n\nno instance(s) of type variable(s) Y exist so that void conforms to LiveData</p>\n<p>Also tried using Transformations.map() &amp; received the same error.</p>\n"},{"tags":["java","collections","sortedset"],"comments":[{"owner":{"account_id":21083379,"reputation":1444,"user_id":15497141,"display_name":"JRose"},"score":1,"creation_date":1659636199,"post_id":73240311,"comment_id":129347535,"body_markdown":"I may have misread this, but I think they conclude it has a complexity of O(log n)","body":"I may have misread this, but I think they conclude it has a complexity of O(log n)"}],"answers":[{"tags":[],"owner":{"account_id":26377,"reputation":352187,"user_id":68587,"accept_rate":95,"display_name":"John Kugelman"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1659639016,"creation_date":1659636430,"answer_id":73240507,"question_id":73240311,"body_markdown":"I presume you&#39;ve seen the [`first`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/SortedSet.html#first()) and [`last`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/SortedSet.html#last()) methods:\r\n\r\n&gt; ```\r\n&gt; E first()\r\n&gt; ```\r\n&gt; Returns the first (lowest) element currently in this set.\r\n&gt; ```\r\n&gt; E last()\r\n&gt; ```\r\n&gt; Returns the last (highest) element currently in this set.\r\n\r\nThe Java API docs don&#39;t say what their Big-O performance is. They could conceivably be *O*(1). `SortedSet` is an interface, so it depends on the concrete implementation you use.\r\n\r\n#### Tree set\r\n\r\n`SortedSet`s are usually `TreeSet`s, so in practice they are *O*(log *n*).\r\n\r\n`TreeSet` leverages `TreeMap`, and `TreeMap` doesn&#39;t cache the first and last nodes. When you call `first` or `last`, or create an iterator, it starts at the root and traverses down and left (or down and right) to find the target node. That takes O(log *n*) time.\r\n\r\nSee the [OpenJDK source](https://github.com/openjdk/jdk/blob/3ba317167d24b6ed478418a2abae9042ab2764f1/src/java.base/share/classes/java/util/TreeMap.java#L2440):\r\n\r\n```\r\n/**\r\n * Returns the first Entry in the TreeMap (according to the TreeMap&#39;s\r\n * key-sort function).  Returns null if the TreeMap is empty.\r\n */\r\nfinal Entry&lt;K,V&gt; getFirstEntry() {\r\n    Entry&lt;K,V&gt; p = root;\r\n    if (p != null)\r\n        while (p.left != null)\r\n            p = p.left;\r\n    return p;\r\n}\r\n\r\n/**\r\n * Returns the last Entry in the TreeMap (according to the TreeMap&#39;s\r\n * key-sort function).  Returns null if the TreeMap is empty.\r\n */\r\nfinal Entry&lt;K,V&gt; getLastEntry() {\r\n    Entry&lt;K,V&gt; p = root;\r\n    if (p != null)\r\n        while (p.right != null)\r\n            p = p.right;\r\n    return p;\r\n}\r\n```\r\n\r\nPractically speaking, *O*(log *n*) is pretty close to *O*(1). In a sorted set with a million elements it would only take 20 traversals to find the first/last node (log&lt;sub&gt;2&lt;/sub&gt; 1,000,000 ≈ 20).\r\n\r\n\r\n#### Heap or priority queue\r\n\r\nIf you want true *O*(1) performance then a heap—i.e., a [`PriorityQueue`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/PriorityQueue.html)—is a better data structure than a tree. A heap doesn&#39;t maintain the entire set of elements in sorted order. Yet you can always get the head element in *O*(1) time. Removing the head takes *O*(log *n*) time, after which the new head is available for instant lookup.\r\n\r\n\r\n#### Skip list\r\n\r\nThere is also a lesser used [`ConcurrentSkipListSet`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ConcurrentSkipListSet.html) class. Per [Wikipedia](https://en.wikipedia.org/wiki/Skip_list):\r\n\r\n&gt; A skip list is a probabilistic data structure that allows *O*(log *n*) search complexity as well as *O*(log *n*) insertion complexity within an ordered sequence of *n* elements. Thus it can get the best features of a sorted array (for searching) while maintaining a linked list-like structure that allows insertion, which is not possible with a static array.\r\n\r\nFinding the *first* element is *O*(1). There&#39;s a loop but it only loops more than once if it needs to clean up nodes that have been marked for deletion. It returns immediately when it doesn&#39;t have any deletions to process. See the [OpenJDK source](https://github.com/openjdk/jdk/blob/fd9ac6216111063968675ced5d032310447d5206/src/java.base/share/classes/java/util/concurrent/ConcurrentSkipListMap.java#L824):\r\n\r\n```\r\n/**\r\n * Gets first valid node, unlinking deleted nodes if encountered.\r\n * @return first node or null if empty\r\n */\r\nfinal Node&lt;K,V&gt; findFirst() {\r\n    Node&lt;K,V&gt; b, n;\r\n    if ((b = baseHead()) != null) {\r\n        while ((n = b.next) != null) {\r\n            if (n.val == null)\r\n                unlinkNode(b, n);\r\n            else\r\n                return n;\r\n        }\r\n    }\r\n    return null;\r\n}\r\n```\r\n\r\nFinding the *last* element, on the other hand, is... um... not *O*(1).\r\n\r\n```\r\n/**\r\n * Specialized version of find to get last valid node.\r\n * @return last node or null if empty\r\n */\r\nfinal Node&lt;K,V&gt; findLast() {\r\n    outer: for (;;) {\r\n        Index&lt;K,V&gt; q; Node&lt;K,V&gt; b;\r\n        VarHandle.acquireFence();\r\n        if ((q = head) == null)\r\n            break;\r\n        for (Index&lt;K,V&gt; r, d;;) {\r\n            while ((r = q.right) != null) {\r\n                Node&lt;K,V&gt; p;\r\n                if ((p = r.node) == null || p.val == null)\r\n                    RIGHT.compareAndSet(q, r, r.right);\r\n                else\r\n                    q = r;\r\n            }\r\n            if ((d = q.down) != null)\r\n                q = d;\r\n            else {\r\n                b = q.node;\r\n                break;\r\n            }\r\n        }\r\n        if (b != null) {\r\n            for (;;) {\r\n                Node&lt;K,V&gt; n;\r\n                if ((n = b.next) == null) {\r\n                    if (b.key == null) // empty\r\n                        break outer;\r\n                    else\r\n                        return b;\r\n                }\r\n                else if (n.key == null)\r\n                    break;\r\n                else if (n.val == null)\r\n                    unlinkNode(b, n);\r\n                else\r\n                    b = n;\r\n            }\r\n        }\r\n    }\r\n    return null;\r\n}\r\n```","title":"Java SortedSet Implementation that allows you to get smallest/largest element in O(1)","body":"<p>I presume you've seen the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/SortedSet.html#first()\" rel=\"noreferrer\"><code>first</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/SortedSet.html#last()\" rel=\"noreferrer\"><code>last</code></a> methods:</p>\n<blockquote>\n<pre><code>E first()\n</code></pre>\n<p>Returns the first (lowest) element currently in this set.</p>\n<pre><code>E last()\n</code></pre>\n<p>Returns the last (highest) element currently in this set.</p>\n</blockquote>\n<p>The Java API docs don't say what their Big-O performance is. They could conceivably be <em>O</em>(1). <code>SortedSet</code> is an interface, so it depends on the concrete implementation you use.</p>\n<h4>Tree set</h4>\n<p><code>SortedSet</code>s are usually <code>TreeSet</code>s, so in practice they are <em>O</em>(log <em>n</em>).</p>\n<p><code>TreeSet</code> leverages <code>TreeMap</code>, and <code>TreeMap</code> doesn't cache the first and last nodes. When you call <code>first</code> or <code>last</code>, or create an iterator, it starts at the root and traverses down and left (or down and right) to find the target node. That takes O(log <em>n</em>) time.</p>\n<p>See the <a href=\"https://github.com/openjdk/jdk/blob/3ba317167d24b6ed478418a2abae9042ab2764f1/src/java.base/share/classes/java/util/TreeMap.java#L2440\" rel=\"noreferrer\">OpenJDK source</a>:</p>\n<pre><code>/**\n * Returns the first Entry in the TreeMap (according to the TreeMap's\n * key-sort function).  Returns null if the TreeMap is empty.\n */\nfinal Entry&lt;K,V&gt; getFirstEntry() {\n    Entry&lt;K,V&gt; p = root;\n    if (p != null)\n        while (p.left != null)\n            p = p.left;\n    return p;\n}\n\n/**\n * Returns the last Entry in the TreeMap (according to the TreeMap's\n * key-sort function).  Returns null if the TreeMap is empty.\n */\nfinal Entry&lt;K,V&gt; getLastEntry() {\n    Entry&lt;K,V&gt; p = root;\n    if (p != null)\n        while (p.right != null)\n            p = p.right;\n    return p;\n}\n</code></pre>\n<p>Practically speaking, <em>O</em>(log <em>n</em>) is pretty close to <em>O</em>(1). In a sorted set with a million elements it would only take 20 traversals to find the first/last node (log<sub>2</sub> 1,000,000 ≈ 20).</p>\n<h4>Heap or priority queue</h4>\n<p>If you want true <em>O</em>(1) performance then a heap—i.e., a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/PriorityQueue.html\" rel=\"noreferrer\"><code>PriorityQueue</code></a>—is a better data structure than a tree. A heap doesn't maintain the entire set of elements in sorted order. Yet you can always get the head element in <em>O</em>(1) time. Removing the head takes <em>O</em>(log <em>n</em>) time, after which the new head is available for instant lookup.</p>\n<h4>Skip list</h4>\n<p>There is also a lesser used <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ConcurrentSkipListSet.html\" rel=\"noreferrer\"><code>ConcurrentSkipListSet</code></a> class. Per <a href=\"https://en.wikipedia.org/wiki/Skip_list\" rel=\"noreferrer\">Wikipedia</a>:</p>\n<blockquote>\n<p>A skip list is a probabilistic data structure that allows <em>O</em>(log <em>n</em>) search complexity as well as <em>O</em>(log <em>n</em>) insertion complexity within an ordered sequence of <em>n</em> elements. Thus it can get the best features of a sorted array (for searching) while maintaining a linked list-like structure that allows insertion, which is not possible with a static array.</p>\n</blockquote>\n<p>Finding the <em>first</em> element is <em>O</em>(1). There's a loop but it only loops more than once if it needs to clean up nodes that have been marked for deletion. It returns immediately when it doesn't have any deletions to process. See the <a href=\"https://github.com/openjdk/jdk/blob/fd9ac6216111063968675ced5d032310447d5206/src/java.base/share/classes/java/util/concurrent/ConcurrentSkipListMap.java#L824\" rel=\"noreferrer\">OpenJDK source</a>:</p>\n<pre><code>/**\n * Gets first valid node, unlinking deleted nodes if encountered.\n * @return first node or null if empty\n */\nfinal Node&lt;K,V&gt; findFirst() {\n    Node&lt;K,V&gt; b, n;\n    if ((b = baseHead()) != null) {\n        while ((n = b.next) != null) {\n            if (n.val == null)\n                unlinkNode(b, n);\n            else\n                return n;\n        }\n    }\n    return null;\n}\n</code></pre>\n<p>Finding the <em>last</em> element, on the other hand, is... um... not <em>O</em>(1).</p>\n<pre><code>/**\n * Specialized version of find to get last valid node.\n * @return last node or null if empty\n */\nfinal Node&lt;K,V&gt; findLast() {\n    outer: for (;;) {\n        Index&lt;K,V&gt; q; Node&lt;K,V&gt; b;\n        VarHandle.acquireFence();\n        if ((q = head) == null)\n            break;\n        for (Index&lt;K,V&gt; r, d;;) {\n            while ((r = q.right) != null) {\n                Node&lt;K,V&gt; p;\n                if ((p = r.node) == null || p.val == null)\n                    RIGHT.compareAndSet(q, r, r.right);\n                else\n                    q = r;\n            }\n            if ((d = q.down) != null)\n                q = d;\n            else {\n                b = q.node;\n                break;\n            }\n        }\n        if (b != null) {\n            for (;;) {\n                Node&lt;K,V&gt; n;\n                if ((n = b.next) == null) {\n                    if (b.key == null) // empty\n                        break outer;\n                    else\n                        return b;\n                }\n                else if (n.key == null)\n                    break;\n                else if (n.val == null)\n                    unlinkNode(b, n);\n                else\n                    b = n;\n            }\n        }\n    }\n    return null;\n}\n</code></pre>\n"}],"owner":{"account_id":4401323,"reputation":2073,"user_id":3586940,"display_name":"Hisham Hijjawi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":476,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73240507,"answer_count":1,"score":0,"last_activity_date":1659639016,"creation_date":1659635475,"question_id":73240311,"body_markdown":"is there a sorted set implementation that allows one to get the first element in O(1)? C++&#39;s std::set can do this, so I don&#39;t see why we can&#39;t do this in Java. Thanks!","title":"Java SortedSet Implementation that allows you to get smallest/largest element in O(1)","body":"<p>is there a sorted set implementation that allows one to get the first element in O(1)? C++'s std::set can do this, so I don't see why we can't do this in Java. Thanks!</p>\n"},{"tags":["java","eclipse","pdf","jasper-reports","javabeans"],"answers":[{"tags":[],"owner":{"account_id":325803,"reputation":975,"user_id":647213,"display_name":"abstraktor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565091954,"creation_date":1565091954,"answer_id":57375354,"question_id":55614917,"body_markdown":"Let me use the terms of the example image where we are iterating over _Countries_, foreach which we iterate over each _City_, for which we iterate over each _Place_.\r\n\r\nIt looks to me that your inner-most iteration (_Places_ in the example image) needs to be an iteration per _City_. Thus, your subreport needs to be a subtable, ranging over all three columns.\r\n\r\n﻿[![enter image description here][1]][1]\r\n\r\nThis feels like a hacky way to do this though. Adding an iteration is a lot of clicking (or typing if working on XML directly). And the layouting only happens locally, so that the column widths of the places column of one _city_ are potentially different for another _city_. See the golden lines with the pink arrows.\r\n\r\n﻿[![enter image description here][2]][2]\r\n\r\n\r\nI am currently facing the same challenge. The only way to fix this that I came up with was to make these columns have fixed widths.\r\n\r\n  [1]: https://i.stack.imgur.com/JdLmZ.png\r\n  [2]: https://i.stack.imgur.com/lk1ol.png","title":"How to generate table with 3 nested list in java beans using jasper report?","body":"<p>Let me use the terms of the example image where we are iterating over <em>Countries</em>, foreach which we iterate over each <em>City</em>, for which we iterate over each <em>Place</em>.</p>\n\n<p>It looks to me that your inner-most iteration (<em>Places</em> in the example image) needs to be an iteration per <em>City</em>. Thus, your subreport needs to be a subtable, ranging over all three columns.</p>\n\n<p>﻿<a href=\"https://i.stack.imgur.com/JdLmZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JdLmZ.png\" alt=\"enter image description here\"></a></p>\n\n<p>This feels like a hacky way to do this though. Adding an iteration is a lot of clicking (or typing if working on XML directly). And the layouting only happens locally, so that the column widths of the places column of one <em>city</em> are potentially different for another <em>city</em>. See the golden lines with the pink arrows.</p>\n\n<p>﻿<a href=\"https://i.stack.imgur.com/lk1ol.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lk1ol.png\" alt=\"enter image description here\"></a></p>\n\n<p>I am currently facing the same challenge. The only way to fix this that I came up with was to make these columns have fixed widths.</p>\n"}],"owner":{"account_id":6223287,"reputation":54,"user_id":4842347,"display_name":"FARHAN MIRZA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1893,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1659638066,"creation_date":1554906090,"question_id":55614917,"body_markdown":"I am creating a table in jasper report with 3 nested lists and I successfully created the table till the 2nd list but for the 3rd list, it is not working. is there any way to do this? I am using sub-report for 2nd list.\r\n\r\n// Java code\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tString outFile = &quot;Report.pdf&quot;;\r\n\r\n\t\tUtil util = new Util();\r\n\t\t\r\n\t\t/* Create Vscs */\r\n\t\t\r\n\t\t\r\n\t\t/* Create Categories */\r\n\t\t\r\n\t\tList&lt;Category&gt; catogeries = new ArrayList&lt;Category&gt;();\r\n\t\tint randomLength = util.getNewRandomNumber();\r\n\t\tSystem.out.println(&quot;***************************&quot;);\r\n\t\tSystem.out.println(&quot;Total Categories Length &quot;+randomLength);\r\n\t\tfor (int i = 0; i &lt; randomLength; i++) {\r\n\t\t\t\r\n\t\t\tList&lt;Vsc&gt; Vscs = new ArrayList&lt;Vsc&gt;();\r\n\r\n\t\t\tint vscLength = util.getNewRandomNumber();\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;***************************&quot;);\r\n\t\t\tSystem.out.println(&quot;Total VSCs Length &quot;+vscLength);\r\n\t\t\tfor (int j = 0; j &lt; vscLength; j++) {\r\n\t\t\t\tInteger id = util.getNewRandomNumber();\r\n\t\t\t\tString temp = util.getNewRandomString();\r\n\t\t\t\tVscs.add(new Vsc(id, temp, temp, temp, id.toString(), id.toString(), id.toString()));\r\n\t\t\t}\r\n\t\t\tSystem.out.println(Vscs);\r\n\t\t\tString temp = util.getNewRandomString();\r\n\t\t\tcatogeries.add(new Category(temp, Vscs));\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println(catogeries);\r\n\t\t/* Convert List to JRBeanCollectionDataSource */\r\n\t\tJRBeanCollectionDataSource CategoriesJRBean = new JRBeanCollectionDataSource(\r\n\t\t\t\tcatogeries);\r\n\r\n\t\t/* Map to hold Jasper report Parameters */\r\n\t\tMap&lt;String, Object&gt; parameters = new HashMap&lt;String, Object&gt;();\r\n\t\tparameters.put(&quot;CategoryDataSource&quot;, CategoriesJRBean);\r\n\r\n\t\t/* Using compiled version(.jasper) of Jasper report to generate PDF */\r\n\r\n\t\ttry {\r\n\t\t\t\r\n\t\t\t/* Using compiled version(.jasper) of Jasper report to generate PDF */\r\n\t\t\tJasperPrint jasperPrint = JasperFillManager.fillReport(\r\n\t\t\t\t\t&quot;template.jasper&quot;, parameters, CategoriesJRBean);\r\n\t\t\t\r\n\t\t\t/* outputStream to create PDF */\r\n\r\n\t\t\tOutputStream outStream = new FileOutputStream(new File(outFile));\r\n\t\t\t\r\n\t\t\t/* Write content to PDF file */\r\n\t\t\t\r\n\t\t\tJasperExportManager.exportReportToPdfStream(jasperPrint, outStream);\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;File Generated&quot;);\r\n\r\n\t\t} catch (JRException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (FileNotFoundException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n// jasper report main file code\r\n\r\n\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t&lt;!-- Created with Jaspersoft Studio version 6.6.0.final using JasperReports Library version 6.6.0  --&gt;\r\n\t&lt;jasperReport xmlns=&quot;http://jasperreports.sourceforge.net/jasperreports&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd&quot; name=&quot;template&quot; pageWidth=&quot;595&quot; pageHeight=&quot;842&quot; columnWidth=&quot;555&quot; leftMargin=&quot;20&quot; rightMargin=&quot;20&quot; topMargin=&quot;20&quot; bottomMargin=&quot;20&quot; uuid=&quot;1e86ce9a-f7ec-493e-bb1c-193fda92340b&quot;&gt;\r\n\t\t&lt;property name=&quot;com.jaspersoft.studio.data.defaultdataadapter&quot; value=&quot;One Empty Record&quot;/&gt;\r\n\t\t&lt;style name=&quot;Table_TH&quot; mode=&quot;Opaque&quot; backcolor=&quot;#F0F8FF&quot;&gt;\r\n\t\t\t&lt;box&gt;\r\n\t\t\t\t&lt;pen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t&lt;topPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t&lt;leftPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t&lt;bottomPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t&lt;rightPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t&lt;/box&gt;\r\n\t\t&lt;/style&gt;\r\n\t\t&lt;style name=&quot;Table_CH&quot; mode=&quot;Opaque&quot; backcolor=&quot;#BFE1FF&quot;&gt;\r\n\t\t\t&lt;box&gt;\r\n\t\t\t\t&lt;pen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t&lt;topPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t&lt;leftPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t&lt;bottomPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t&lt;rightPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t&lt;/box&gt;\r\n\t\t&lt;/style&gt;\r\n\t\t&lt;style name=&quot;Table_TD&quot; mode=&quot;Opaque&quot; backcolor=&quot;#FFFFFF&quot;&gt;\r\n\t\t\t&lt;box&gt;\r\n\t\t\t\t&lt;pen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t&lt;topPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t&lt;leftPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t&lt;bottomPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t&lt;rightPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t&lt;/box&gt;\r\n\t\t&lt;/style&gt;\r\n\t\t&lt;style name=&quot;Table 1_TH&quot; mode=&quot;Opaque&quot; backcolor=&quot;#F0F8FF&quot;&gt;\r\n\t\t\t&lt;box&gt;\r\n\t\t\t\t&lt;pen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t&lt;topPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t&lt;leftPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t&lt;bottomPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t&lt;rightPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t&lt;/box&gt;\r\n\t\t&lt;/style&gt;\r\n\t\t&lt;style name=&quot;Table 1_CH&quot; mode=&quot;Opaque&quot; backcolor=&quot;#BFE1FF&quot;&gt;\r\n\t\t\t&lt;box&gt;\r\n\t\t\t\t&lt;pen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t&lt;topPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t&lt;leftPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t&lt;bottomPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t&lt;rightPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t&lt;/box&gt;\r\n\t\t&lt;/style&gt;\r\n\t\t&lt;style name=&quot;Table 1_TD&quot; mode=&quot;Opaque&quot; backcolor=&quot;#FFFFFF&quot;&gt;\r\n\t\t\t&lt;box&gt;\r\n\t\t\t\t&lt;pen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t&lt;topPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t&lt;leftPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t&lt;bottomPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t&lt;rightPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t&lt;/box&gt;\r\n\t\t&lt;/style&gt;\r\n\t\t&lt;subDataset name=&quot;CategoryDataset&quot; uuid=&quot;3cc9e312-e929-4940-aff6-d8d83e24b723&quot;&gt;\r\n\t\t\t&lt;property name=&quot;com.jaspersoft.studio.data.defaultdataadapter&quot; value=&quot;One Empty Record&quot;/&gt;\r\n\t\t\t&lt;queryString&gt;\r\n\t\t\t\t&lt;![CDATA[]]&gt;\r\n\t\t\t&lt;/queryString&gt;\r\n\t\t\t&lt;field name=&quot;name&quot; class=&quot;java.lang.String&quot;/&gt;\r\n\t\t\t&lt;field name=&quot;vscs&quot; class=&quot;java.util.List&quot;/&gt;\r\n\t\t&lt;/subDataset&gt;\r\n\t\t&lt;parameter name=&quot;CategoryDataSource&quot; class=&quot;net.sf.jasperreports.engine.data.JRBeanCollectionDataSource&quot;/&gt;\r\n\t\t&lt;queryString&gt;\r\n\t\t\t&lt;![CDATA[]]&gt;\r\n\t\t&lt;/queryString&gt;\r\n\t\t&lt;field name=&quot;name&quot; class=&quot;java.lang.String&quot;/&gt;\r\n\t\t&lt;field name=&quot;vscs&quot; class=&quot;java.util.List&quot;/&gt;\r\n\t\t&lt;background&gt;\r\n\t\t\t&lt;band splitType=&quot;Stretch&quot;/&gt;\r\n\t\t&lt;/background&gt;\r\n\t\t&lt;detail&gt;\r\n\t\t\t&lt;band height=&quot;408&quot;&gt;\r\n\t\t\t\t&lt;componentElement&gt;\r\n\t\t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;550&quot; height=&quot;180&quot; uuid=&quot;26266d16-7d14-4cee-9fbf-c9d1ae5f037c&quot;&gt;\r\n\t\t\t\t\t\t&lt;property name=&quot;com.jaspersoft.studio.layout&quot; value=&quot;com.jaspersoft.studio.editor.layout.VerticalRowLayout&quot;/&gt;\r\n\t\t\t\t\t\t&lt;property name=&quot;com.jaspersoft.studio.table.style.table_header&quot; value=&quot;Table_TH&quot;/&gt;\r\n\t\t\t\t\t\t&lt;property name=&quot;com.jaspersoft.studio.table.style.column_header&quot; value=&quot;Table_CH&quot;/&gt;\r\n\t\t\t\t\t\t&lt;property name=&quot;com.jaspersoft.studio.table.style.detail&quot; value=&quot;Table_TD&quot;/&gt;\r\n\t\t\t\t\t&lt;/reportElement&gt;\r\n\t\t\t\t\t&lt;jr:table xmlns:jr=&quot;http://jasperreports.sourceforge.net/jasperreports/components&quot; xsi:schemaLocation=&quot;http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd&quot;&gt;\r\n\t\t\t\t\t\t&lt;datasetRun subDataset=&quot;CategoryDataset&quot; uuid=&quot;f21c7634-7f14-4267-97b7-517d83b2ca3a&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;dataSourceExpression&gt;&lt;![CDATA[$P{CategoryDataSource}]]&gt;&lt;/dataSourceExpression&gt;\r\n\t\t\t\t\t\t&lt;/datasetRun&gt;\r\n\t\t\t\t\t\t&lt;jr:column width=&quot;60&quot; uuid=&quot;a34069ec-2184-4c0b-8b2d-f9276778ab61&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;property name=&quot;com.jaspersoft.studio.components.table.model.column.name&quot; value=&quot;Column1&quot;/&gt;\r\n\t\t\t\t\t\t\t&lt;jr:tableHeader style=&quot;Table_TH&quot; height=&quot;40&quot; rowSpan=&quot;1&quot;&gt;\r\n\t\t\t\t\t\t\t\t&lt;staticText&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;60&quot; height=&quot;40&quot; uuid=&quot;e0d53137-91bf-4314-80be-726bc23897b5&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;text&gt;&lt;![CDATA[Category]]&gt;&lt;/text&gt;\r\n\t\t\t\t\t\t\t\t&lt;/staticText&gt;\r\n\t\t\t\t\t\t\t&lt;/jr:tableHeader&gt;\r\n\t\t\t\t\t\t\t&lt;jr:detailCell style=&quot;Table_TD&quot; height=&quot;50&quot;&gt;\r\n\t\t\t\t\t\t\t\t&lt;textField&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;60&quot; height=&quot;50&quot; uuid=&quot;4b3bef69-ea8f-43d9-b99d-a1360e280479&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$F{name}]]&gt;&lt;/textFieldExpression&gt;\r\n\t\t\t\t\t\t\t\t&lt;/textField&gt;\r\n\t\t\t\t\t\t\t&lt;/jr:detailCell&gt;\r\n\t\t\t\t\t\t&lt;/jr:column&gt;\r\n\t\t\t\t\t\t&lt;jr:column width=&quot;50&quot; uuid=&quot;2e1524b4-9536-482d-b62c-5754432a9637&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;property name=&quot;com.jaspersoft.studio.components.table.model.column.name&quot; value=&quot;Column2&quot;/&gt;\r\n\t\t\t\t\t\t\t&lt;jr:tableHeader style=&quot;Table_TH&quot; height=&quot;40&quot; rowSpan=&quot;1&quot;&gt;\r\n\t\t\t\t\t\t\t\t&lt;staticText&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;50&quot; height=&quot;40&quot; uuid=&quot;d4623cd9-e0d6-415f-ad25-8b7a64a96f36&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;text&gt;&lt;![CDATA[VSC Code]]&gt;&lt;/text&gt;\r\n\t\t\t\t\t\t\t\t&lt;/staticText&gt;\r\n\t\t\t\t\t\t\t&lt;/jr:tableHeader&gt;\r\n\t\t\t\t\t\t\t&lt;jr:detailCell style=&quot;Table_TD&quot; height=&quot;50&quot;&gt;\r\n\t\t\t\t\t\t\t\t&lt;subreport&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;50&quot; height=&quot;50&quot; uuid=&quot;f07c137e-f8dd-4ffd-94c7-f699d54ae171&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;dataSourceExpression&gt;&lt;![CDATA[new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource($F{vscs})]]&gt;&lt;/dataSourceExpression&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;subreportExpression&gt;&lt;![CDATA[&quot;testreport.jasper&quot;]]&gt;&lt;/subreportExpression&gt;\r\n\t\t\t\t\t\t\t\t&lt;/subreport&gt;\r\n\t\t\t\t\t\t\t&lt;/jr:detailCell&gt;\r\n\t\t\t\t\t\t&lt;/jr:column&gt;\r\n\t\t\t\t\t\t&lt;jr:column width=&quot;80&quot; uuid=&quot;5af871b9-e5dd-4339-b849-0d86f184ac44&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;property name=&quot;com.jaspersoft.studio.components.table.model.column.name&quot; value=&quot;Column3&quot;/&gt;\r\n\t\t\t\t\t\t\t&lt;jr:tableHeader style=&quot;Table_TH&quot; height=&quot;40&quot; rowSpan=&quot;1&quot;&gt;\r\n\t\t\t\t\t\t\t\t&lt;staticText&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;80&quot; height=&quot;40&quot; uuid=&quot;85742d12-174a-4cc8-9634-5da9a2562e52&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;text&gt;&lt;![CDATA[Item]]&gt;&lt;/text&gt;\r\n\t\t\t\t\t\t\t\t&lt;/staticText&gt;\r\n\t\t\t\t\t\t\t&lt;/jr:tableHeader&gt;\r\n\t\t\t\t\t\t\t&lt;jr:detailCell style=&quot;Table_TD&quot; height=&quot;50&quot;&gt;\r\n\t\t\t\t\t\t\t\t&lt;subreport&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;80&quot; height=&quot;50&quot; uuid=&quot;f3ae48d0-b447-4e53-97d3-3cec524e31b5&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;dataSourceExpression&gt;&lt;![CDATA[new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource($F{vscs})]]&gt;&lt;/dataSourceExpression&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;subreportExpression&gt;&lt;![CDATA[&quot;VscItem.jasper&quot;]]&gt;&lt;/subreportExpression&gt;\r\n\t\t\t\t\t\t\t\t&lt;/subreport&gt;\r\n\t\t\t\t\t\t\t&lt;/jr:detailCell&gt;\r\n\t\t\t\t\t\t&lt;/jr:column&gt;\r\n\t\t\t\t\t\t&lt;jr:column width=&quot;70&quot; uuid=&quot;47b5cc43-a32f-493f-9b84-35caf34c57fa&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;property name=&quot;com.jaspersoft.studio.components.table.model.column.name&quot; value=&quot;Column4&quot;/&gt;\r\n\t\t\t\t\t\t\t&lt;jr:tableHeader style=&quot;Table_TH&quot; height=&quot;40&quot; rowSpan=&quot;1&quot;&gt;\r\n\t\t\t\t\t\t\t\t&lt;staticText&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;70&quot; height=&quot;40&quot; uuid=&quot;fed179b7-c0e5-43e3-a789-54e125c3ed75&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;text&gt;&lt;![CDATA[Description]]&gt;&lt;/text&gt;\r\n\t\t\t\t\t\t\t\t&lt;/staticText&gt;\r\n\t\t\t\t\t\t\t&lt;/jr:tableHeader&gt;\r\n\t\t\t\t\t\t\t&lt;jr:detailCell style=&quot;Table_TD&quot; height=&quot;50&quot;&gt;\r\n\t\t\t\t\t\t\t\t&lt;subreport&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;70&quot; height=&quot;50&quot; uuid=&quot;0193c06f-fbf7-4428-9e40-109b8cdcc89c&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;dataSourceExpression&gt;&lt;![CDATA[new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource($F{vscs})]]&gt;&lt;/dataSourceExpression&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;subreportExpression&gt;&lt;![CDATA[&quot;VscDesc.jasper&quot;]]&gt;&lt;/subreportExpression&gt;\r\n\t\t\t\t\t\t\t\t&lt;/subreport&gt;\r\n\t\t\t\t\t\t\t&lt;/jr:detailCell&gt;\r\n\t\t\t\t\t\t&lt;/jr:column&gt;\r\n\t\t\t\t\t\t&lt;jr:column width=&quot;80&quot; uuid=&quot;9852409d-8381-401e-bc68-014b1ffb6803&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;property name=&quot;com.jaspersoft.studio.components.table.model.column.name&quot; value=&quot;Column5&quot;/&gt;\r\n\t\t\t\t\t\t\t&lt;jr:tableHeader style=&quot;Table_TH&quot; height=&quot;40&quot; rowSpan=&quot;1&quot;&gt;\r\n\t\t\t\t\t\t\t\t&lt;staticText&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;80&quot; height=&quot;40&quot; uuid=&quot;83b37e89-0ee3-41ed-bd06-4c60c5c7359b&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;text&gt;&lt;![CDATA[Unit]]&gt;&lt;/text&gt;\r\n\t\t\t\t\t\t\t\t&lt;/staticText&gt;\r\n\t\t\t\t\t\t\t&lt;/jr:tableHeader&gt;\r\n\t\t\t\t\t\t\t&lt;jr:detailCell style=&quot;Table_TD&quot; height=&quot;50&quot;&gt;\r\n\t\t\t\t\t\t\t\t&lt;subreport&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;80&quot; height=&quot;50&quot; uuid=&quot;0781127c-0fb4-4226-a688-9147eb37ba40&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;dataSourceExpression&gt;&lt;![CDATA[new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource($F{vscs})]]&gt;&lt;/dataSourceExpression&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;subreportExpression&gt;&lt;![CDATA[&quot;VscUnit.jasper&quot;]]&gt;&lt;/subreportExpression&gt;\r\n\t\t\t\t\t\t\t\t&lt;/subreport&gt;\r\n\t\t\t\t\t\t\t&lt;/jr:detailCell&gt;\r\n\t\t\t\t\t\t&lt;/jr:column&gt;\r\n\t\t\t\t\t\t&lt;jr:column width=&quot;50&quot; uuid=&quot;f794b140-1b69-43a3-9e35-8d96408193b8&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;property name=&quot;com.jaspersoft.studio.components.table.model.column.name&quot; value=&quot;Column6&quot;/&gt;\r\n\t\t\t\t\t\t\t&lt;jr:tableHeader style=&quot;Table_TH&quot; height=&quot;40&quot; rowSpan=&quot;1&quot;&gt;\r\n\t\t\t\t\t\t\t\t&lt;staticText&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;50&quot; height=&quot;40&quot; uuid=&quot;e88c6f68-4328-487a-892d-a1ded1d40c37&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;text&gt;&lt;![CDATA[Approx. Unit Cost (USD)]]&gt;&lt;/text&gt;\r\n\t\t\t\t\t\t\t\t&lt;/staticText&gt;\r\n\t\t\t\t\t\t\t&lt;/jr:tableHeader&gt;\r\n\t\t\t\t\t\t\t&lt;jr:detailCell style=&quot;Table_TD&quot; height=&quot;50&quot;&gt;\r\n\t\t\t\t\t\t\t\t&lt;subreport&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;50&quot; height=&quot;50&quot; uuid=&quot;7adf0000-1972-47cc-a1fa-1972ef237cac&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;dataSourceExpression&gt;&lt;![CDATA[new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource($F{vscs})]]&gt;&lt;/dataSourceExpression&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;subreportExpression&gt;&lt;![CDATA[&quot;VscApproxUnitCost.jasper&quot;]]&gt;&lt;/subreportExpression&gt;\r\n\t\t\t\t\t\t\t\t&lt;/subreport&gt;\r\n\t\t\t\t\t\t\t&lt;/jr:detailCell&gt;\r\n\t\t\t\t\t\t&lt;/jr:column&gt;\r\n\t\t\t\t\t\t&lt;jr:column width=&quot;70&quot; uuid=&quot;bfcb8fc6-07ac-4343-9ffd-637cd52d09c2&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;property name=&quot;com.jaspersoft.studio.components.table.model.column.name&quot; value=&quot;Column7&quot;/&gt;\r\n\t\t\t\t\t\t\t&lt;jr:tableHeader style=&quot;Table_TH&quot; height=&quot;40&quot; rowSpan=&quot;1&quot;&gt;\r\n\t\t\t\t\t\t\t\t&lt;staticText&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;70&quot; height=&quot;40&quot; uuid=&quot;3d49b022-0ab1-44b8-9276-8c1cf6df98b0&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;text&gt;&lt;![CDATA[PHY. INV.]]&gt;&lt;/text&gt;\r\n\t\t\t\t\t\t\t\t&lt;/staticText&gt;\r\n\t\t\t\t\t\t\t&lt;/jr:tableHeader&gt;\r\n\t\t\t\t\t\t\t&lt;jr:detailCell style=&quot;Table_TD&quot; height=&quot;50&quot;&gt;\r\n\t\t\t\t\t\t\t\t&lt;subreport&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;70&quot; height=&quot;50&quot; uuid=&quot;6c8a56b6-1c04-4651-9eb8-7b75e441a576&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;dataSourceExpression&gt;&lt;![CDATA[new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource($F{vscs})]]&gt;&lt;/dataSourceExpression&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;subreportExpression&gt;&lt;![CDATA[&quot;VscPhyInv.jasper&quot;]]&gt;&lt;/subreportExpression&gt;\r\n\t\t\t\t\t\t\t\t&lt;/subreport&gt;\r\n\t\t\t\t\t\t\t&lt;/jr:detailCell&gt;\r\n\t\t\t\t\t\t&lt;/jr:column&gt;\r\n\t\t\t\t\t\t&lt;jr:column width=&quot;60&quot; uuid=&quot;341a99c2-ff27-446d-a758-5a4bc3a1134c&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;property name=&quot;com.jaspersoft.studio.components.table.model.column.name&quot; value=&quot;Column8&quot;/&gt;\r\n\t\t\t\t\t\t\t&lt;jr:tableHeader style=&quot;Table_TH&quot; height=&quot;40&quot; rowSpan=&quot;1&quot;&gt;\r\n\t\t\t\t\t\t\t\t&lt;staticText&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;60&quot; height=&quot;40&quot; uuid=&quot;f83fb9c8-c6da-4e8b-b8ed-6c5021c64925&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;text&gt;&lt;![CDATA[REQ.QTY]]&gt;&lt;/text&gt;\r\n\t\t\t\t\t\t\t\t&lt;/staticText&gt;\r\n\t\t\t\t\t\t\t&lt;/jr:tableHeader&gt;\r\n\t\t\t\t\t\t\t&lt;jr:detailCell style=&quot;Table_TD&quot; height=&quot;50&quot;&gt;\r\n\t\t\t\t\t\t\t\t&lt;subreport&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;60&quot; height=&quot;50&quot; uuid=&quot;14363048-9a16-4be9-badf-d72af940c385&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;dataSourceExpression&gt;&lt;![CDATA[new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource($F{vscs})]]&gt;&lt;/dataSourceExpression&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;subreportExpression&gt;&lt;![CDATA[&quot;VscReqQty.jasper&quot;]]&gt;&lt;/subreportExpression&gt;\r\n\t\t\t\t\t\t\t\t&lt;/subreport&gt;\r\n\t\t\t\t\t\t\t&lt;/jr:detailCell&gt;\r\n\t\t\t\t\t\t&lt;/jr:column&gt;\r\n\t\t\t\t\t&lt;/jr:table&gt;\r\n\t\t\t\t&lt;/componentElement&gt;\r\n\t\t\t&lt;/band&gt;\r\n\t\t&lt;/detail&gt;\r\n\t&lt;/jasperReport&gt;\r\n\r\n\r\nThe output which I am getting after running the code.\r\n\r\nactual output\r\n\r\n[![enter image description here][1]][1]\r\n\r\nexpected output\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThank you\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xHIJ2.jpg\r\n  [2]: https://i.stack.imgur.com/gae97.jpg","title":"How to generate table with 3 nested list in java beans using jasper report?","body":"<p>I am creating a table in jasper report with 3 nested lists and I successfully created the table till the 2nd list but for the 3rd list, it is not working. is there any way to do this? I am using sub-report for 2nd list.</p>\n\n<p>// Java code</p>\n\n<pre><code>public static void main(String[] args) {\n    String outFile = \"Report.pdf\";\n\n    Util util = new Util();\n\n    /* Create Vscs */\n\n\n    /* Create Categories */\n\n    List&lt;Category&gt; catogeries = new ArrayList&lt;Category&gt;();\n    int randomLength = util.getNewRandomNumber();\n    System.out.println(\"***************************\");\n    System.out.println(\"Total Categories Length \"+randomLength);\n    for (int i = 0; i &lt; randomLength; i++) {\n\n        List&lt;Vsc&gt; Vscs = new ArrayList&lt;Vsc&gt;();\n\n        int vscLength = util.getNewRandomNumber();\n\n        System.out.println(\"***************************\");\n        System.out.println(\"Total VSCs Length \"+vscLength);\n        for (int j = 0; j &lt; vscLength; j++) {\n            Integer id = util.getNewRandomNumber();\n            String temp = util.getNewRandomString();\n            Vscs.add(new Vsc(id, temp, temp, temp, id.toString(), id.toString(), id.toString()));\n        }\n        System.out.println(Vscs);\n        String temp = util.getNewRandomString();\n        catogeries.add(new Category(temp, Vscs));\n    }\n\n    System.out.println(catogeries);\n    /* Convert List to JRBeanCollectionDataSource */\n    JRBeanCollectionDataSource CategoriesJRBean = new JRBeanCollectionDataSource(\n            catogeries);\n\n    /* Map to hold Jasper report Parameters */\n    Map&lt;String, Object&gt; parameters = new HashMap&lt;String, Object&gt;();\n    parameters.put(\"CategoryDataSource\", CategoriesJRBean);\n\n    /* Using compiled version(.jasper) of Jasper report to generate PDF */\n\n    try {\n\n        /* Using compiled version(.jasper) of Jasper report to generate PDF */\n        JasperPrint jasperPrint = JasperFillManager.fillReport(\n                \"template.jasper\", parameters, CategoriesJRBean);\n\n        /* outputStream to create PDF */\n\n        OutputStream outStream = new FileOutputStream(new File(outFile));\n\n        /* Write content to PDF file */\n\n        JasperExportManager.exportReportToPdfStream(jasperPrint, outStream);\n\n        System.out.println(\"File Generated\");\n\n    } catch (JRException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    } catch (FileNotFoundException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n\n}\n</code></pre>\n\n<p>// jasper report main file code</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!-- Created with Jaspersoft Studio version 6.6.0.final using JasperReports Library version 6.6.0  --&gt;\n&lt;jasperReport xmlns=\"http://jasperreports.sourceforge.net/jasperreports\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd\" name=\"template\" pageWidth=\"595\" pageHeight=\"842\" columnWidth=\"555\" leftMargin=\"20\" rightMargin=\"20\" topMargin=\"20\" bottomMargin=\"20\" uuid=\"1e86ce9a-f7ec-493e-bb1c-193fda92340b\"&gt;\n    &lt;property name=\"com.jaspersoft.studio.data.defaultdataadapter\" value=\"One Empty Record\"/&gt;\n    &lt;style name=\"Table_TH\" mode=\"Opaque\" backcolor=\"#F0F8FF\"&gt;\n        &lt;box&gt;\n            &lt;pen lineWidth=\"0.5\" lineColor=\"#000000\"/&gt;\n            &lt;topPen lineWidth=\"0.5\" lineColor=\"#000000\"/&gt;\n            &lt;leftPen lineWidth=\"0.5\" lineColor=\"#000000\"/&gt;\n            &lt;bottomPen lineWidth=\"0.5\" lineColor=\"#000000\"/&gt;\n            &lt;rightPen lineWidth=\"0.5\" lineColor=\"#000000\"/&gt;\n        &lt;/box&gt;\n    &lt;/style&gt;\n    &lt;style name=\"Table_CH\" mode=\"Opaque\" backcolor=\"#BFE1FF\"&gt;\n        &lt;box&gt;\n            &lt;pen lineWidth=\"0.5\" lineColor=\"#000000\"/&gt;\n            &lt;topPen lineWidth=\"0.5\" lineColor=\"#000000\"/&gt;\n            &lt;leftPen lineWidth=\"0.5\" lineColor=\"#000000\"/&gt;\n            &lt;bottomPen lineWidth=\"0.5\" lineColor=\"#000000\"/&gt;\n            &lt;rightPen lineWidth=\"0.5\" lineColor=\"#000000\"/&gt;\n        &lt;/box&gt;\n    &lt;/style&gt;\n    &lt;style name=\"Table_TD\" mode=\"Opaque\" backcolor=\"#FFFFFF\"&gt;\n        &lt;box&gt;\n            &lt;pen lineWidth=\"0.5\" lineColor=\"#000000\"/&gt;\n            &lt;topPen lineWidth=\"0.5\" lineColor=\"#000000\"/&gt;\n            &lt;leftPen lineWidth=\"0.5\" lineColor=\"#000000\"/&gt;\n            &lt;bottomPen lineWidth=\"0.5\" lineColor=\"#000000\"/&gt;\n            &lt;rightPen lineWidth=\"0.5\" lineColor=\"#000000\"/&gt;\n        &lt;/box&gt;\n    &lt;/style&gt;\n    &lt;style name=\"Table 1_TH\" mode=\"Opaque\" backcolor=\"#F0F8FF\"&gt;\n        &lt;box&gt;\n            &lt;pen lineWidth=\"0.5\" lineColor=\"#000000\"/&gt;\n            &lt;topPen lineWidth=\"0.5\" lineColor=\"#000000\"/&gt;\n            &lt;leftPen lineWidth=\"0.5\" lineColor=\"#000000\"/&gt;\n            &lt;bottomPen lineWidth=\"0.5\" lineColor=\"#000000\"/&gt;\n            &lt;rightPen lineWidth=\"0.5\" lineColor=\"#000000\"/&gt;\n        &lt;/box&gt;\n    &lt;/style&gt;\n    &lt;style name=\"Table 1_CH\" mode=\"Opaque\" backcolor=\"#BFE1FF\"&gt;\n        &lt;box&gt;\n            &lt;pen lineWidth=\"0.5\" lineColor=\"#000000\"/&gt;\n            &lt;topPen lineWidth=\"0.5\" lineColor=\"#000000\"/&gt;\n            &lt;leftPen lineWidth=\"0.5\" lineColor=\"#000000\"/&gt;\n            &lt;bottomPen lineWidth=\"0.5\" lineColor=\"#000000\"/&gt;\n            &lt;rightPen lineWidth=\"0.5\" lineColor=\"#000000\"/&gt;\n        &lt;/box&gt;\n    &lt;/style&gt;\n    &lt;style name=\"Table 1_TD\" mode=\"Opaque\" backcolor=\"#FFFFFF\"&gt;\n        &lt;box&gt;\n            &lt;pen lineWidth=\"0.5\" lineColor=\"#000000\"/&gt;\n            &lt;topPen lineWidth=\"0.5\" lineColor=\"#000000\"/&gt;\n            &lt;leftPen lineWidth=\"0.5\" lineColor=\"#000000\"/&gt;\n            &lt;bottomPen lineWidth=\"0.5\" lineColor=\"#000000\"/&gt;\n            &lt;rightPen lineWidth=\"0.5\" lineColor=\"#000000\"/&gt;\n        &lt;/box&gt;\n    &lt;/style&gt;\n    &lt;subDataset name=\"CategoryDataset\" uuid=\"3cc9e312-e929-4940-aff6-d8d83e24b723\"&gt;\n        &lt;property name=\"com.jaspersoft.studio.data.defaultdataadapter\" value=\"One Empty Record\"/&gt;\n        &lt;queryString&gt;\n            &lt;![CDATA[]]&gt;\n        &lt;/queryString&gt;\n        &lt;field name=\"name\" class=\"java.lang.String\"/&gt;\n        &lt;field name=\"vscs\" class=\"java.util.List\"/&gt;\n    &lt;/subDataset&gt;\n    &lt;parameter name=\"CategoryDataSource\" class=\"net.sf.jasperreports.engine.data.JRBeanCollectionDataSource\"/&gt;\n    &lt;queryString&gt;\n        &lt;![CDATA[]]&gt;\n    &lt;/queryString&gt;\n    &lt;field name=\"name\" class=\"java.lang.String\"/&gt;\n    &lt;field name=\"vscs\" class=\"java.util.List\"/&gt;\n    &lt;background&gt;\n        &lt;band splitType=\"Stretch\"/&gt;\n    &lt;/background&gt;\n    &lt;detail&gt;\n        &lt;band height=\"408\"&gt;\n            &lt;componentElement&gt;\n                &lt;reportElement x=\"0\" y=\"0\" width=\"550\" height=\"180\" uuid=\"26266d16-7d14-4cee-9fbf-c9d1ae5f037c\"&gt;\n                    &lt;property name=\"com.jaspersoft.studio.layout\" value=\"com.jaspersoft.studio.editor.layout.VerticalRowLayout\"/&gt;\n                    &lt;property name=\"com.jaspersoft.studio.table.style.table_header\" value=\"Table_TH\"/&gt;\n                    &lt;property name=\"com.jaspersoft.studio.table.style.column_header\" value=\"Table_CH\"/&gt;\n                    &lt;property name=\"com.jaspersoft.studio.table.style.detail\" value=\"Table_TD\"/&gt;\n                &lt;/reportElement&gt;\n                &lt;jr:table xmlns:jr=\"http://jasperreports.sourceforge.net/jasperreports/components\" xsi:schemaLocation=\"http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd\"&gt;\n                    &lt;datasetRun subDataset=\"CategoryDataset\" uuid=\"f21c7634-7f14-4267-97b7-517d83b2ca3a\"&gt;\n                        &lt;dataSourceExpression&gt;&lt;![CDATA[$P{CategoryDataSource}]]&gt;&lt;/dataSourceExpression&gt;\n                    &lt;/datasetRun&gt;\n                    &lt;jr:column width=\"60\" uuid=\"a34069ec-2184-4c0b-8b2d-f9276778ab61\"&gt;\n                        &lt;property name=\"com.jaspersoft.studio.components.table.model.column.name\" value=\"Column1\"/&gt;\n                        &lt;jr:tableHeader style=\"Table_TH\" height=\"40\" rowSpan=\"1\"&gt;\n                            &lt;staticText&gt;\n                                &lt;reportElement x=\"0\" y=\"0\" width=\"60\" height=\"40\" uuid=\"e0d53137-91bf-4314-80be-726bc23897b5\"/&gt;\n                                &lt;text&gt;&lt;![CDATA[Category]]&gt;&lt;/text&gt;\n                            &lt;/staticText&gt;\n                        &lt;/jr:tableHeader&gt;\n                        &lt;jr:detailCell style=\"Table_TD\" height=\"50\"&gt;\n                            &lt;textField&gt;\n                                &lt;reportElement x=\"0\" y=\"0\" width=\"60\" height=\"50\" uuid=\"4b3bef69-ea8f-43d9-b99d-a1360e280479\"/&gt;\n                                &lt;textFieldExpression&gt;&lt;![CDATA[$F{name}]]&gt;&lt;/textFieldExpression&gt;\n                            &lt;/textField&gt;\n                        &lt;/jr:detailCell&gt;\n                    &lt;/jr:column&gt;\n                    &lt;jr:column width=\"50\" uuid=\"2e1524b4-9536-482d-b62c-5754432a9637\"&gt;\n                        &lt;property name=\"com.jaspersoft.studio.components.table.model.column.name\" value=\"Column2\"/&gt;\n                        &lt;jr:tableHeader style=\"Table_TH\" height=\"40\" rowSpan=\"1\"&gt;\n                            &lt;staticText&gt;\n                                &lt;reportElement x=\"0\" y=\"0\" width=\"50\" height=\"40\" uuid=\"d4623cd9-e0d6-415f-ad25-8b7a64a96f36\"/&gt;\n                                &lt;text&gt;&lt;![CDATA[VSC Code]]&gt;&lt;/text&gt;\n                            &lt;/staticText&gt;\n                        &lt;/jr:tableHeader&gt;\n                        &lt;jr:detailCell style=\"Table_TD\" height=\"50\"&gt;\n                            &lt;subreport&gt;\n                                &lt;reportElement x=\"0\" y=\"0\" width=\"50\" height=\"50\" uuid=\"f07c137e-f8dd-4ffd-94c7-f699d54ae171\"/&gt;\n                                &lt;dataSourceExpression&gt;&lt;![CDATA[new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource($F{vscs})]]&gt;&lt;/dataSourceExpression&gt;\n                                &lt;subreportExpression&gt;&lt;![CDATA[\"testreport.jasper\"]]&gt;&lt;/subreportExpression&gt;\n                            &lt;/subreport&gt;\n                        &lt;/jr:detailCell&gt;\n                    &lt;/jr:column&gt;\n                    &lt;jr:column width=\"80\" uuid=\"5af871b9-e5dd-4339-b849-0d86f184ac44\"&gt;\n                        &lt;property name=\"com.jaspersoft.studio.components.table.model.column.name\" value=\"Column3\"/&gt;\n                        &lt;jr:tableHeader style=\"Table_TH\" height=\"40\" rowSpan=\"1\"&gt;\n                            &lt;staticText&gt;\n                                &lt;reportElement x=\"0\" y=\"0\" width=\"80\" height=\"40\" uuid=\"85742d12-174a-4cc8-9634-5da9a2562e52\"/&gt;\n                                &lt;text&gt;&lt;![CDATA[Item]]&gt;&lt;/text&gt;\n                            &lt;/staticText&gt;\n                        &lt;/jr:tableHeader&gt;\n                        &lt;jr:detailCell style=\"Table_TD\" height=\"50\"&gt;\n                            &lt;subreport&gt;\n                                &lt;reportElement x=\"0\" y=\"0\" width=\"80\" height=\"50\" uuid=\"f3ae48d0-b447-4e53-97d3-3cec524e31b5\"/&gt;\n                                &lt;dataSourceExpression&gt;&lt;![CDATA[new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource($F{vscs})]]&gt;&lt;/dataSourceExpression&gt;\n                                &lt;subreportExpression&gt;&lt;![CDATA[\"VscItem.jasper\"]]&gt;&lt;/subreportExpression&gt;\n                            &lt;/subreport&gt;\n                        &lt;/jr:detailCell&gt;\n                    &lt;/jr:column&gt;\n                    &lt;jr:column width=\"70\" uuid=\"47b5cc43-a32f-493f-9b84-35caf34c57fa\"&gt;\n                        &lt;property name=\"com.jaspersoft.studio.components.table.model.column.name\" value=\"Column4\"/&gt;\n                        &lt;jr:tableHeader style=\"Table_TH\" height=\"40\" rowSpan=\"1\"&gt;\n                            &lt;staticText&gt;\n                                &lt;reportElement x=\"0\" y=\"0\" width=\"70\" height=\"40\" uuid=\"fed179b7-c0e5-43e3-a789-54e125c3ed75\"/&gt;\n                                &lt;text&gt;&lt;![CDATA[Description]]&gt;&lt;/text&gt;\n                            &lt;/staticText&gt;\n                        &lt;/jr:tableHeader&gt;\n                        &lt;jr:detailCell style=\"Table_TD\" height=\"50\"&gt;\n                            &lt;subreport&gt;\n                                &lt;reportElement x=\"0\" y=\"0\" width=\"70\" height=\"50\" uuid=\"0193c06f-fbf7-4428-9e40-109b8cdcc89c\"/&gt;\n                                &lt;dataSourceExpression&gt;&lt;![CDATA[new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource($F{vscs})]]&gt;&lt;/dataSourceExpression&gt;\n                                &lt;subreportExpression&gt;&lt;![CDATA[\"VscDesc.jasper\"]]&gt;&lt;/subreportExpression&gt;\n                            &lt;/subreport&gt;\n                        &lt;/jr:detailCell&gt;\n                    &lt;/jr:column&gt;\n                    &lt;jr:column width=\"80\" uuid=\"9852409d-8381-401e-bc68-014b1ffb6803\"&gt;\n                        &lt;property name=\"com.jaspersoft.studio.components.table.model.column.name\" value=\"Column5\"/&gt;\n                        &lt;jr:tableHeader style=\"Table_TH\" height=\"40\" rowSpan=\"1\"&gt;\n                            &lt;staticText&gt;\n                                &lt;reportElement x=\"0\" y=\"0\" width=\"80\" height=\"40\" uuid=\"83b37e89-0ee3-41ed-bd06-4c60c5c7359b\"/&gt;\n                                &lt;text&gt;&lt;![CDATA[Unit]]&gt;&lt;/text&gt;\n                            &lt;/staticText&gt;\n                        &lt;/jr:tableHeader&gt;\n                        &lt;jr:detailCell style=\"Table_TD\" height=\"50\"&gt;\n                            &lt;subreport&gt;\n                                &lt;reportElement x=\"0\" y=\"0\" width=\"80\" height=\"50\" uuid=\"0781127c-0fb4-4226-a688-9147eb37ba40\"/&gt;\n                                &lt;dataSourceExpression&gt;&lt;![CDATA[new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource($F{vscs})]]&gt;&lt;/dataSourceExpression&gt;\n                                &lt;subreportExpression&gt;&lt;![CDATA[\"VscUnit.jasper\"]]&gt;&lt;/subreportExpression&gt;\n                            &lt;/subreport&gt;\n                        &lt;/jr:detailCell&gt;\n                    &lt;/jr:column&gt;\n                    &lt;jr:column width=\"50\" uuid=\"f794b140-1b69-43a3-9e35-8d96408193b8\"&gt;\n                        &lt;property name=\"com.jaspersoft.studio.components.table.model.column.name\" value=\"Column6\"/&gt;\n                        &lt;jr:tableHeader style=\"Table_TH\" height=\"40\" rowSpan=\"1\"&gt;\n                            &lt;staticText&gt;\n                                &lt;reportElement x=\"0\" y=\"0\" width=\"50\" height=\"40\" uuid=\"e88c6f68-4328-487a-892d-a1ded1d40c37\"/&gt;\n                                &lt;text&gt;&lt;![CDATA[Approx. Unit Cost (USD)]]&gt;&lt;/text&gt;\n                            &lt;/staticText&gt;\n                        &lt;/jr:tableHeader&gt;\n                        &lt;jr:detailCell style=\"Table_TD\" height=\"50\"&gt;\n                            &lt;subreport&gt;\n                                &lt;reportElement x=\"0\" y=\"0\" width=\"50\" height=\"50\" uuid=\"7adf0000-1972-47cc-a1fa-1972ef237cac\"/&gt;\n                                &lt;dataSourceExpression&gt;&lt;![CDATA[new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource($F{vscs})]]&gt;&lt;/dataSourceExpression&gt;\n                                &lt;subreportExpression&gt;&lt;![CDATA[\"VscApproxUnitCost.jasper\"]]&gt;&lt;/subreportExpression&gt;\n                            &lt;/subreport&gt;\n                        &lt;/jr:detailCell&gt;\n                    &lt;/jr:column&gt;\n                    &lt;jr:column width=\"70\" uuid=\"bfcb8fc6-07ac-4343-9ffd-637cd52d09c2\"&gt;\n                        &lt;property name=\"com.jaspersoft.studio.components.table.model.column.name\" value=\"Column7\"/&gt;\n                        &lt;jr:tableHeader style=\"Table_TH\" height=\"40\" rowSpan=\"1\"&gt;\n                            &lt;staticText&gt;\n                                &lt;reportElement x=\"0\" y=\"0\" width=\"70\" height=\"40\" uuid=\"3d49b022-0ab1-44b8-9276-8c1cf6df98b0\"/&gt;\n                                &lt;text&gt;&lt;![CDATA[PHY. INV.]]&gt;&lt;/text&gt;\n                            &lt;/staticText&gt;\n                        &lt;/jr:tableHeader&gt;\n                        &lt;jr:detailCell style=\"Table_TD\" height=\"50\"&gt;\n                            &lt;subreport&gt;\n                                &lt;reportElement x=\"0\" y=\"0\" width=\"70\" height=\"50\" uuid=\"6c8a56b6-1c04-4651-9eb8-7b75e441a576\"/&gt;\n                                &lt;dataSourceExpression&gt;&lt;![CDATA[new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource($F{vscs})]]&gt;&lt;/dataSourceExpression&gt;\n                                &lt;subreportExpression&gt;&lt;![CDATA[\"VscPhyInv.jasper\"]]&gt;&lt;/subreportExpression&gt;\n                            &lt;/subreport&gt;\n                        &lt;/jr:detailCell&gt;\n                    &lt;/jr:column&gt;\n                    &lt;jr:column width=\"60\" uuid=\"341a99c2-ff27-446d-a758-5a4bc3a1134c\"&gt;\n                        &lt;property name=\"com.jaspersoft.studio.components.table.model.column.name\" value=\"Column8\"/&gt;\n                        &lt;jr:tableHeader style=\"Table_TH\" height=\"40\" rowSpan=\"1\"&gt;\n                            &lt;staticText&gt;\n                                &lt;reportElement x=\"0\" y=\"0\" width=\"60\" height=\"40\" uuid=\"f83fb9c8-c6da-4e8b-b8ed-6c5021c64925\"/&gt;\n                                &lt;text&gt;&lt;![CDATA[REQ.QTY]]&gt;&lt;/text&gt;\n                            &lt;/staticText&gt;\n                        &lt;/jr:tableHeader&gt;\n                        &lt;jr:detailCell style=\"Table_TD\" height=\"50\"&gt;\n                            &lt;subreport&gt;\n                                &lt;reportElement x=\"0\" y=\"0\" width=\"60\" height=\"50\" uuid=\"14363048-9a16-4be9-badf-d72af940c385\"/&gt;\n                                &lt;dataSourceExpression&gt;&lt;![CDATA[new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource($F{vscs})]]&gt;&lt;/dataSourceExpression&gt;\n                                &lt;subreportExpression&gt;&lt;![CDATA[\"VscReqQty.jasper\"]]&gt;&lt;/subreportExpression&gt;\n                            &lt;/subreport&gt;\n                        &lt;/jr:detailCell&gt;\n                    &lt;/jr:column&gt;\n                &lt;/jr:table&gt;\n            &lt;/componentElement&gt;\n        &lt;/band&gt;\n    &lt;/detail&gt;\n&lt;/jasperReport&gt;\n</code></pre>\n\n<p>The output which I am getting after running the code.</p>\n\n<p>actual output</p>\n\n<p><a href=\"https://i.stack.imgur.com/xHIJ2.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xHIJ2.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>expected output</p>\n\n<p><a href=\"https://i.stack.imgur.com/gae97.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gae97.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Thank you</p>\n"},{"tags":["java","spring","spring-boot","maven"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1618381969,"post_id":67081638,"comment_id":118581025,"body_markdown":"Spring Boot 2.4 switch to Junit5 and thus excluded, most of, the junit4 stuff. If you want to run your Junit4 tests with JUnit5 you will need some additional dependencies (and then you don&#39;t need to modify the surefire plugin). Or move your tests to JUnit5 instead of JUnit4. This is even mentioned in the [upgrade guide](https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.4-Release-Notes#junit-5s-vintage-engine-removed-from-spring-boot-starter-test). So for the next upgrade, please read the upgrade guide instead of blindly upgrading dependencies.","body":"Spring Boot 2.4 switch to Junit5 and thus excluded, most of, the junit4 stuff. If you want to run your Junit4 tests with JUnit5 you will need some additional dependencies (and then you don&#39;t need to modify the surefire plugin). Or move your tests to JUnit5 instead of JUnit4. This is even mentioned in the <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.4-Release-Notes#junit-5s-vintage-engine-removed-from-spring-boot-starter-test\" rel=\"nofollow noreferrer\">upgrade guide</a>. So for the next upgrade, please read the upgrade guide instead of blindly upgrading dependencies."},{"owner":{"account_id":9797098,"reputation":582,"user_id":7259705,"display_name":"Jonathan Hagen"},"score":0,"creation_date":1618401774,"post_id":67081638,"comment_id":118589346,"body_markdown":"Thanks! I didn&#39;t know there was upgrade guide. I appreciate for providing me the link and I will make sure to read it from now on.","body":"Thanks! I didn&#39;t know there was upgrade guide. I appreciate for providing me the link and I will make sure to read it from now on."}],"answers":[{"tags":[],"owner":{"account_id":2660590,"reputation":125,"user_id":2300390,"display_name":"Carlos Marmolejo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659637760,"creation_date":1659637760,"answer_id":73240735,"question_id":67081638,"body_markdown":"In my case I had this dependency, pointing to an specific version:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-platform-commons&lt;/artifactId&gt;\r\n            &lt;version&gt;{version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nIt worked after removing the version:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-platform-commons&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n","title":"spring boot version update: test not running (maven surefire)","body":"<p>In my case I had this dependency, pointing to an specific version:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-platform-commons&lt;/artifactId&gt;\n        &lt;version&gt;{version}&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>It worked after removing the version:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-platform-commons&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":9797098,"reputation":582,"user_id":7259705,"display_name":"Jonathan Hagen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":865,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659637760,"creation_date":1618344172,"question_id":67081638,"body_markdown":"I updated spring version from 2.3.4.RELEASE to 2.4.4 and all of my tests are not running. I found the solution to make it work, but I am not sure why.\r\n\r\nI got this from other people&#39;s spring version update. However, I am not sure what this plug in (specially configuration) means and why tests were not running when updated to 2.4.4 and why it is running when I added this plug-in..\r\n\r\nI am pretty new to spring and maven, so any answer would help me.","title":"spring boot version update: test not running (maven surefire)","body":"<p>I updated spring version from 2.3.4.RELEASE to 2.4.4 and all of my tests are not running. I found the solution to make it work, but I am not sure why.</p>\n<p>I got this from other people's spring version update. However, I am not sure what this plug in (specially configuration) means and why tests were not running when updated to 2.4.4 and why it is running when I added this plug-in..</p>\n<p>I am pretty new to spring and maven, so any answer would help me.</p>\n"},{"tags":["java","spring","spring-boot","maven","tomcat7"],"comments":[{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":0,"creation_date":1631926070,"post_id":69227461,"comment_id":122363189,"body_markdown":"Have you seen [java.lang.ClassNotFoundException: javax.servlet.http.HttpSessionIdListener](https://stackoverflow.com/q/36196086/1744774) already?","body":"Have you seen <a href=\"https://stackoverflow.com/q/36196086/1744774\">java.lang.ClassNotFoundException: javax.servlet.http.HttpSessionIdListener</a> already?"},{"owner":{"account_id":6597362,"reputation":385,"user_id":5096681,"accept_rate":52,"display_name":"TwoDent"},"score":1,"creation_date":1632179519,"post_id":69227461,"comment_id":122418507,"body_markdown":"Yes I saw that ... What I did in the end is to turn that small aplication into a normal JSP Webapp without Spring Boot. Is working fine.","body":"Yes I saw that ... What I did in the end is to turn that small aplication into a normal JSP Webapp without Spring Boot. Is working fine."}],"owner":{"account_id":6597362,"reputation":385,"user_id":5096681,"accept_rate":52,"display_name":"TwoDent"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659637573,"creation_date":1631899913,"question_id":69227461,"body_markdown":"I&#39;m trying to deploy a Spring Boot application (.WAR file) in a Tomcat 7.0.76 server, and I&#39;m getting the below exception:\r\n\r\n    Sep 17, 2021 5:17:32 PM org.apache.catalina.startup.HostConfig deployWAR\r\n    INFO: Deploying web application archive /var/lib/tomcat/webapps/visualizer.war\r\n    Sep 17, 2021 5:17:33 PM org.apache.catalina.startup.TldConfig execute\r\n    INFO: At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\n    Sep 17, 2021 5:17:35 PM org.apache.catalina.core.ContainerBase addChildInternal\r\n    SEVERE: ContainerBase.addChild: start: \r\n    org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/visualizer]]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:162)\r\n    \tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:899)\r\n    \tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:875)\r\n    \tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:652)\r\n    \tat org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1092)\r\n    \tat org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:560)\r\n    \tat org.apache.catalina.startup.HostConfig.check(HostConfig.java:1779)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:301)\r\n    \tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\r\n    \tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\r\n    \tat org.apache.catalina.manager.ManagerServlet.check(ManagerServlet.java:1506)\r\n    \tat org.apache.catalina.manager.HTMLManagerServlet.upload(HTMLManagerServlet.java:285)\r\n    \tat org.apache.catalina.manager.HTMLManagerServlet.doPost(HTMLManagerServlet.java:205)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:650)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:731)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n    \tat org.apache.catalina.filters.CsrfPreventionFilter.doFilter(CsrfPreventionFilter.java:136)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n    \tat org.apache.catalina.filters.SetCharacterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:108)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:218)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:110)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:607)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:169)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)\r\n    \tat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:962)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:445)\r\n    \tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1091)\r\n    \tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:637)\r\n    \tat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:316)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Caused by: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is java.lang.NoClassDefFoundError: javax/servlet/http/HttpSessionIdListener\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577)\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:338)\r\n    \tat org.springframework.boot.web.servlet.support.SpringBootServletInitializer.run(SpringBootServletInitializer.java:175)\r\n    \tat org.springframework.boot.web.servlet.support.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:155)\r\n    \tat org.springframework.boot.web.servlet.support.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:97)\r\n    \tat org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:174)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5632)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\r\n    \t... 44 more\r\n    Caused by: java.lang.NoClassDefFoundError: javax/servlet/http/HttpSessionIdListener\r\n    \tat org.springframework.boot.web.servlet.ServletListenerRegistrationBean.&lt;clinit&gt;(ServletListenerRegistrationBean.java:68)\r\n    \tat org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:156)\r\n    \tat org.springframework.boot.web.servlet.ServletContextInitializerBeans.&lt;init&gt;(ServletContextInitializerBeans.java:87)\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:260)\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:234)\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:191)\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160)\r\n    \t... 55 more\r\n    Caused by: java.lang.ClassNotFoundException: javax.servlet.http.HttpSessionIdListener\r\n    \tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1892)\r\n    \tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1735)\r\n    \t... 62 more\r\n\r\nI tried many solutions suggested by this site, also I followed this guide [Packaging Executable Jar and War files][1] and this: [How to do a Traditional .WAR deployment][2] but with no luck. Also, I don&#39;t want to move to another Tomcat Version.\r\n\r\nThis is my pom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven- \r\n    4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.5.4&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.test&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;visualizer&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;name&gt;visualizer&lt;/name&gt;\r\n\t&lt;description&gt;Test Visualizer&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n        &lt;!-- Need this to compile JSP --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.el&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.el-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2.4&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n        \t\t\t&lt;mainClass&gt;com.test.visualizer.VisualizerApplication&lt;/mainClass&gt;\r\n    \t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\nMy web.xml doesn&#39;t contains nothing relevant:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app version=&quot;3.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web- \r\n    app_3_0.xsd&quot;\r\n\txmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;&gt;\r\n\t\r\n    &lt;display-name&gt;Visualizer Spring Boot App&lt;/display-name&gt;\r\n  \r\n    &lt;servlet&gt;\r\n      &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n      &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n      &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    &lt;/servlet&gt;\r\n\r\n    &lt;servlet-mapping&gt;\r\n      &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n      &lt;url-pattern&gt;/visualizer&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n\r\n  &lt;/web-app&gt;\r\n\r\nWhat I should do.\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/2.2.6.RELEASE/reference/html/build-tool-plugins.html#build-tool-plugins-maven-packaging\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.traditional-deployment","title":"java.lang.NoClassDefFoundError (HttpSessionIdListener) when trying to deploy a spring boot .war in Tomcat 7","body":"<p>I'm trying to deploy a Spring Boot application (.WAR file) in a Tomcat 7.0.76 server, and I'm getting the below exception:</p>\n<pre><code>Sep 17, 2021 5:17:32 PM org.apache.catalina.startup.HostConfig deployWAR\nINFO: Deploying web application archive /var/lib/tomcat/webapps/visualizer.war\nSep 17, 2021 5:17:33 PM org.apache.catalina.startup.TldConfig execute\nINFO: At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\nSep 17, 2021 5:17:35 PM org.apache.catalina.core.ContainerBase addChildInternal\nSEVERE: ContainerBase.addChild: start: \norg.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/visualizer]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:162)\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:899)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:875)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:652)\n    at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1092)\n    at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:560)\n    at org.apache.catalina.startup.HostConfig.check(HostConfig.java:1779)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:301)\n    at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\n    at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\n    at org.apache.catalina.manager.ManagerServlet.check(ManagerServlet.java:1506)\n    at org.apache.catalina.manager.HTMLManagerServlet.upload(HTMLManagerServlet.java:285)\n    at org.apache.catalina.manager.HTMLManagerServlet.doPost(HTMLManagerServlet.java:205)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:650)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:731)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\n    at org.apache.catalina.filters.CsrfPreventionFilter.doFilter(CsrfPreventionFilter.java:136)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\n    at org.apache.catalina.filters.SetCharacterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:108)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:218)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:110)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:607)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:169)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)\n    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:962)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:445)\n    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1091)\n    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:637)\n    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:316)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is java.lang.NoClassDefFoundError: javax/servlet/http/HttpSessionIdListener\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:338)\n    at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.run(SpringBootServletInitializer.java:175)\n    at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:155)\n    at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:97)\n    at org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:174)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5632)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\n    ... 44 more\nCaused by: java.lang.NoClassDefFoundError: javax/servlet/http/HttpSessionIdListener\n    at org.springframework.boot.web.servlet.ServletListenerRegistrationBean.&lt;clinit&gt;(ServletListenerRegistrationBean.java:68)\n    at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:156)\n    at org.springframework.boot.web.servlet.ServletContextInitializerBeans.&lt;init&gt;(ServletContextInitializerBeans.java:87)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:260)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:234)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:191)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160)\n    ... 55 more\nCaused by: java.lang.ClassNotFoundException: javax.servlet.http.HttpSessionIdListener\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1892)\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1735)\n    ... 62 more\n</code></pre>\n<p>I tried many solutions suggested by this site, also I followed this guide <a href=\"https://docs.spring.io/spring-boot/docs/2.2.6.RELEASE/reference/html/build-tool-plugins.html#build-tool-plugins-maven-packaging\" rel=\"nofollow noreferrer\">Packaging Executable Jar and War files</a> and this: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.traditional-deployment\" rel=\"nofollow noreferrer\">How to do a Traditional .WAR deployment</a> but with no luck. Also, I don't want to move to another Tomcat Version.</p>\n<p>This is my pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven- \n4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.5.4&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n&lt;groupId&gt;com.test&lt;/groupId&gt;\n&lt;artifactId&gt;visualizer&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;war&lt;/packaging&gt;\n&lt;name&gt;visualizer&lt;/name&gt;\n&lt;description&gt;Test Visualizer&lt;/description&gt;\n&lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n     &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Need this to compile JSP --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n        &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\n        &lt;version&gt;2.2&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.el&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.el-api&lt;/artifactId&gt;\n        &lt;version&gt;2.2.4&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n        &lt;version&gt;1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;mainClass&gt;com.test.visualizer.VisualizerApplication&lt;/mainClass&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>My web.xml doesn't contains nothing relevant:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app version=&quot;3.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web- \napp_3_0.xsd&quot;\nxmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;&gt;\n\n&lt;display-name&gt;Visualizer Spring Boot App&lt;/display-name&gt;\n\n&lt;servlet&gt;\n  &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n  &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n  &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n\n&lt;servlet-mapping&gt;\n  &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n  &lt;url-pattern&gt;/visualizer&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n  \n<p>What I should do.</p>\n"},{"tags":["java","redis"],"comments":[{"owner":{"account_id":2739457,"reputation":7470,"user_id":2361308,"accept_rate":71,"display_name":"Hearen"},"score":1,"creation_date":1534405657,"post_id":51871913,"comment_id":90695527,"body_markdown":"**perfect solution** what&#39;s the problem of your solution?","body":"<b>perfect solution</b> what&#39;s the problem of your solution?"},{"owner":{"account_id":14164589,"reputation":81,"user_id":10232865,"display_name":"YuJia"},"score":0,"creation_date":1534405787,"post_id":51871913,"comment_id":90695594,"body_markdown":"i think it not the best the way to solve it;","body":"i think it not the best the way to solve it;"},{"owner":{"account_id":2103622,"reputation":26956,"user_id":1870555,"accept_rate":75,"display_name":"christopher"},"score":0,"creation_date":1534406188,"post_id":51871913,"comment_id":90695786,"body_markdown":"Well there are some logical components you need, in order to put a TTL on a message. The first is the current time and the second is the time you would like it to expire, which you have got. My only recommendation would be to move that logic into an appropriately named method (`getExpiry`).","body":"Well there are some logical components you need, in order to put a TTL on a message. The first is the current time and the second is the time you would like it to expire, which you have got. My only recommendation would be to move that logic into an appropriately named method (<code>getExpiry</code>)."},{"owner":{"account_id":7027398,"reputation":21375,"user_id":5384363,"accept_rate":64,"display_name":"for_stack"},"score":1,"creation_date":1534406469,"post_id":51871913,"comment_id":90695933,"body_markdown":"You need `EXPIREAT`. Check [this](https://stackoverflow.com/questions/51131212/expire-redis-cache-key-at-particular-hours-rather-than-duration/51137153#51137153)","body":"You need <code>EXPIREAT</code>. Check <a href=\"https://stackoverflow.com/questions/51131212/expire-redis-cache-key-at-particular-hours-rather-than-duration/51137153#51137153\">this</a>"}],"answers":[{"tags":[],"owner":{"account_id":14164589,"reputation":81,"user_id":10232865,"display_name":"YuJia"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1659637157,"creation_date":1534406659,"answer_id":51872364,"question_id":51871913,"body_markdown":"Thanks for your help, I got it. Redis has an &quot;EXPIREAT&quot; command, which can be used like this in Java:\r\n\r\n\r\n    redisTemplate.opsForValue().set(&quot;aKey&quot;,&quot;aValue&quot;);\r\n    redisTemplate.expireAt(&quot;aKey&quot;,Date.from(LocalDateTime.now().with(LocalTime.MAX).atZone(ZoneId.systemDefault()).toInstant()));","title":"How to make redis expire at an exact time in java?","body":"<p>Thanks for your help, I got it. Redis has an &quot;EXPIREAT&quot; command, which can be used like this in Java:</p>\n<pre><code>redisTemplate.opsForValue().set(&quot;aKey&quot;,&quot;aValue&quot;);\nredisTemplate.expireAt(&quot;aKey&quot;,Date.from(LocalDateTime.now().with(LocalTime.MAX).atZone(ZoneId.systemDefault()).toInstant()));\n</code></pre>\n"}],"owner":{"account_id":14164589,"reputation":81,"user_id":10232865,"display_name":"YuJia"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2839,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":51872364,"answer_count":1,"score":2,"last_activity_date":1659637157,"creation_date":1534405007,"question_id":51871913,"body_markdown":"example: I want make redis string &quot;aKey&quot;:&quot;aValue&quot;  expired at a future time(2018.08.17 00:00, now is 2018.08.16 12:00),\r\nthis is my solution:\r\n\r\n    long expireTime = Date.from(LocalDateTime.now().with(LocalTime.MAX).atZone(ZoneId.systemDefault()).toInstant()).getTime() - Date.from(LocalDateTime.now().atZone(ZoneId.systemDefault()).toInstant()).getTime();\r\n    redisTemplate.opsForValue().set(&quot;aKey&quot;,&quot;aValue&quot;,expireTime, TimeUnit.SECONDS);\r\n\r\nI want a perfect solution.","title":"How to make redis expire at an exact time in java?","body":"<p>example: I want make redis string \"aKey\":\"aValue\"  expired at a future time(2018.08.17 00:00, now is 2018.08.16 12:00),\nthis is my solution:</p>\n\n<pre><code>long expireTime = Date.from(LocalDateTime.now().with(LocalTime.MAX).atZone(ZoneId.systemDefault()).toInstant()).getTime() - Date.from(LocalDateTime.now().atZone(ZoneId.systemDefault()).toInstant()).getTime();\nredisTemplate.opsForValue().set(\"aKey\",\"aValue\",expireTime, TimeUnit.SECONDS);\n</code></pre>\n\n<p>I want a perfect solution.</p>\n"},{"tags":["java","circuit-breaker","resilience4j"],"comments":[{"owner":{"account_id":1564273,"reputation":1454,"user_id":1453413,"display_name":"HoRn"},"score":0,"creation_date":1658260014,"post_id":73035190,"comment_id":129006475,"body_markdown":"Please follow [ask], not forgetting about grammar, too","body":"Please follow <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>, not forgetting about grammar, too"},{"owner":{"account_id":15910041,"reputation":592,"user_id":11480221,"display_name":"AddeusExMachina"},"score":0,"creation_date":1658742037,"post_id":73035190,"comment_id":129117793,"body_markdown":"It doesn&#39;t seem the yml file is well indented. Moreover, where exactly is the exception launched in your test?","body":"It doesn&#39;t seem the yml file is well indented. Moreover, where exactly is the exception launched in your test?"},{"owner":{"account_id":18984426,"reputation":418,"user_id":13855094,"display_name":"Krithick S"},"score":0,"creation_date":1669559101,"post_id":73035190,"comment_id":131663723,"body_markdown":"The fallback method should accept an argument of type Exception. Your fallback method signature should be updated as `public void ContactsServiceDown(String val, Exception e)`","body":"The fallback method should accept an argument of type Exception. Your fallback method signature should be updated as <code>public void ContactsServiceDown(String val, Exception e)</code>"}],"owner":{"account_id":25843333,"reputation":11,"user_id":19578574,"display_name":"Vivekann"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659636997,"creation_date":1658226206,"question_id":73035190,"body_markdown":"I have a custom yml file configuration that holds the configs needed for the circuit breaker implemented in resilience4j.\r\n```\r\nresilience4j:\r\ncircuitbreaker:\r\ninstances:\r\nserviceA:\r\neventConsumerBufferSize: 3\r\nfailureRateThreshold: 50\r\nminimumNumberOfCalls: 2\r\nautomaticTransitionFromOpenToHalfOpenEnabled: true\r\nwaitDurationInOpenState: 5s\r\npermittedNumberOfCallsInHalfOpenState: 3\r\nslidingWindowSize: 10\r\nslidingWindowType: TIME_BASED\r\n```\r\nThe method that invokes the custom config file mentioned above:\r\n```\r\n@Override\r\n@CircuitBreaker(name = &quot;serviceA&quot;, fallbackMethod = &quot;ContactsServiceDown&quot;)\r\npublic void runCommands(String val) {\r\n    //code logic\r\n}\r\npublic void ContactsServiceDown() {\r\n\r\n    System.out.println(&quot;service down&quot;);\r\n}\r\n```\r\nI have created a test method that calls `runCommands` and throws an exception whenever it is invoked which executes more than 25 times, but I am not getting a hit in the fallback method. Is there any possible way we can read the values from resilance4J.yml file?","title":"Reading the values from a custom yml file which hold resilience4j configration","body":"<p>I have a custom yml file configuration that holds the configs needed for the circuit breaker implemented in resilience4j.</p>\n<pre><code>resilience4j:\ncircuitbreaker:\ninstances:\nserviceA:\neventConsumerBufferSize: 3\nfailureRateThreshold: 50\nminimumNumberOfCalls: 2\nautomaticTransitionFromOpenToHalfOpenEnabled: true\nwaitDurationInOpenState: 5s\npermittedNumberOfCallsInHalfOpenState: 3\nslidingWindowSize: 10\nslidingWindowType: TIME_BASED\n</code></pre>\n<p>The method that invokes the custom config file mentioned above:</p>\n<pre><code>@Override\n@CircuitBreaker(name = &quot;serviceA&quot;, fallbackMethod = &quot;ContactsServiceDown&quot;)\npublic void runCommands(String val) {\n    //code logic\n}\npublic void ContactsServiceDown() {\n\n    System.out.println(&quot;service down&quot;);\n}\n</code></pre>\n<p>I have created a test method that calls <code>runCommands</code> and throws an exception whenever it is invoked which executes more than 25 times, but I am not getting a hit in the fallback method. Is there any possible way we can read the values from resilance4J.yml file?</p>\n"},{"tags":["java","algorithm"],"answers":[{"tags":[],"owner":{"account_id":12931984,"reputation":7896,"user_id":9350720,"display_name":"Abhinav Mathur"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659623640,"creation_date":1659622439,"answer_id":73237471,"question_id":73237170,"body_markdown":"1. Create a max heap/priority queue of size `k`.\r\n2. Use a nested loop to iterate over all possible differences.\r\n3. For each difference between consecutive elements, push the difference to the heap if `heap.max &gt; difference`\r\n\r\n`O(n^2)` for iteration, `O(n^2 logk)` for heap.  \r\nTotal time complexity: `O(n^2 logk)`  \r\nTotal space complexity: `O(k)` (for heap)\r\n\r\nIn your approach, you&#39;ve sorted the list of all `n^2` differences, so that has a complexity of `O(n^2 logn)`. ","title":"Find pairs with least difference","body":"<ol>\n<li>Create a max heap/priority queue of size <code>k</code>.</li>\n<li>Use a nested loop to iterate over all possible differences.</li>\n<li>For each difference between consecutive elements, push the difference to the heap if <code>heap.max &gt; difference</code></li>\n</ol>\n<p><code>O(n^2)</code> for iteration, <code>O(n^2 logk)</code> for heap.<br />\nTotal time complexity: <code>O(n^2 logk)</code><br />\nTotal space complexity: <code>O(k)</code> (for heap)</p>\n<p>In your approach, you've sorted the list of all <code>n^2</code> differences, so that has a complexity of <code>O(n^2 logn)</code>.</p>\n"},{"tags":[],"owner":{"account_id":286249,"reputation":43941,"user_id":585411,"accept_rate":60,"display_name":"btilly"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659623709,"creation_date":1659623709,"answer_id":73237789,"question_id":73237170,"body_markdown":"Here is a Python solution.  It is somewhat similar to what was already suggested, except that putting values back into the heap allows non-adjacent differences to also be discovered.\r\n\r\nTranslation to Java left as an exercise for the reader.\r\n\r\n    import heapq\r\n    def closest_differences (elements, limit=None):\r\n        e = sorted(elements)\r\n        best = []\r\n        for i in range(len(elements)-1):\r\n            best.append((e[i+1] - e[i], i, i+1))\r\n    \r\n        heapq.heapify(best)\r\n        yielded = 0\r\n        while 0 &lt; len(best):\r\n            value, i, j = heapq.heappop(best)\r\n            yield value\r\n            yielded += 1\r\n            if limit is not None and limit &lt;= yielded:\r\n                break\r\n            if j+1 &lt; len(e):\r\n                heapq.heappush(best, (e[j+1] - e[i], i, j+1))\r\n    \r\n    \r\n    for d in closest_differences([3, 1, 3, 5], 3):\r\n        print(d)","title":"Find pairs with least difference","body":"<p>Here is a Python solution.  It is somewhat similar to what was already suggested, except that putting values back into the heap allows non-adjacent differences to also be discovered.</p>\n<p>Translation to Java left as an exercise for the reader.</p>\n<pre><code>import heapq\ndef closest_differences (elements, limit=None):\n    e = sorted(elements)\n    best = []\n    for i in range(len(elements)-1):\n        best.append((e[i+1] - e[i], i, i+1))\n\n    heapq.heapify(best)\n    yielded = 0\n    while 0 &lt; len(best):\n        value, i, j = heapq.heappop(best)\n        yield value\n        yielded += 1\n        if limit is not None and limit &lt;= yielded:\n            break\n        if j+1 &lt; len(e):\n            heapq.heappush(best, (e[j+1] - e[i], i, j+1))\n\n\nfor d in closest_differences([3, 1, 3, 5], 3):\n    print(d)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20164858,"reputation":604,"user_id":14789065,"display_name":"wLui155"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659634446,"creation_date":1659634446,"answer_id":73240136,"question_id":73237170,"body_markdown":"Here&#39;s an outline of another approach, which avoids the use of a priority queue.\r\n\r\nReformulating the question, we&#39;d like to find the smallest `k` differences in an array `A`, and write it to an output array `R`. Let `count_pairs(arr, d)` be a placeholder function that tells us how many pairs in an array `arr` have a difference less than/equal to `d`. Let `N` be the length of `A`.\r\n\r\n1. Sort `A`. Let `B` be the sorted array.\r\n2. Compute difference `d &gt; 0` where `count_pairs(B, d) &lt; k` and `count_pairs(B, d + 1) &gt;= k`. Note `count_pairs(B, 0) &gt;= k` indicates you could just let `R` be an array of `k` zeroes. `d` can be found via binary search from 0 to the difference of the largest and smallest elements in `A`.\r\n3. After finding `d`, pick out the pairs whose difference is less than/equal to `d`. Write their differences to `R`.\r\n4. Fill up the remaining slots in `R` with `d + 1`; there should be exactly `k - count_pairs(B, d)` remaining slots.\r\n\r\nObservations\r\n- `count_pairs()` can be implemented in `O(N * log(N))` time via binary search if the input array is sorted. Don&#39;t think this can be improved by much.\r\n- If you implement `3.` using binary search (similar to what&#39;s done for `count_pairs()`) the time complexity *should* be `O(N * log(N) + count_pairs(B, d))`. \r\n- If `R` needs to be in sorted order, you&#39;ll have to sort `R` before returning it, since `3.` won&#39;t guarantee this - only that all values are smaller than/equal to `d`.\r\n\r\nSo, the overall time complexity of each step is as follows:\r\n1. Sorting - `O(N * log(N))`\r\n2. Searching for `d` - `O(log(max(A) - min(A)) * N * log(N))`\r\n3. Fill in the smallest values - `O(N * log(N) + count_pairs(B, d))`\r\n4. Fill in the remaining values of `d + 1` - `O(k - count_pairs(B, d))`\r\n\r\nI suspect that `2.` will likely be the bottleneck and would be curious to see how well this approach compares to the priority queue one on actual data.","title":"Find pairs with least difference","body":"<p>Here's an outline of another approach, which avoids the use of a priority queue.</p>\n<p>Reformulating the question, we'd like to find the smallest <code>k</code> differences in an array <code>A</code>, and write it to an output array <code>R</code>. Let <code>count_pairs(arr, d)</code> be a placeholder function that tells us how many pairs in an array <code>arr</code> have a difference less than/equal to <code>d</code>. Let <code>N</code> be the length of <code>A</code>.</p>\n<ol>\n<li>Sort <code>A</code>. Let <code>B</code> be the sorted array.</li>\n<li>Compute difference <code>d &gt; 0</code> where <code>count_pairs(B, d) &lt; k</code> and <code>count_pairs(B, d + 1) &gt;= k</code>. Note <code>count_pairs(B, 0) &gt;= k</code> indicates you could just let <code>R</code> be an array of <code>k</code> zeroes. <code>d</code> can be found via binary search from 0 to the difference of the largest and smallest elements in <code>A</code>.</li>\n<li>After finding <code>d</code>, pick out the pairs whose difference is less than/equal to <code>d</code>. Write their differences to <code>R</code>.</li>\n<li>Fill up the remaining slots in <code>R</code> with <code>d + 1</code>; there should be exactly <code>k - count_pairs(B, d)</code> remaining slots.</li>\n</ol>\n<p>Observations</p>\n<ul>\n<li><code>count_pairs()</code> can be implemented in <code>O(N * log(N))</code> time via binary search if the input array is sorted. Don't think this can be improved by much.</li>\n<li>If you implement <code>3.</code> using binary search (similar to what's done for <code>count_pairs()</code>) the time complexity <em>should</em> be <code>O(N * log(N) + count_pairs(B, d))</code>.</li>\n<li>If <code>R</code> needs to be in sorted order, you'll have to sort <code>R</code> before returning it, since <code>3.</code> won't guarantee this - only that all values are smaller than/equal to <code>d</code>.</li>\n</ul>\n<p>So, the overall time complexity of each step is as follows:</p>\n<ol>\n<li>Sorting - <code>O(N * log(N))</code></li>\n<li>Searching for <code>d</code> - <code>O(log(max(A) - min(A)) * N * log(N))</code></li>\n<li>Fill in the smallest values - <code>O(N * log(N) + count_pairs(B, d))</code></li>\n<li>Fill in the remaining values of <code>d + 1</code> - <code>O(k - count_pairs(B, d))</code></li>\n</ol>\n<p>I suspect that <code>2.</code> will likely be the bottleneck and would be curious to see how well this approach compares to the priority queue one on actual data.</p>\n"}],"owner":{"account_id":3837342,"reputation":6111,"user_id":3181365,"accept_rate":70,"display_name":"learner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":277,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":73237789,"answer_count":3,"score":1,"last_activity_date":1659636908,"creation_date":1659621213,"question_id":73237170,"body_markdown":"I have an array of numbers `3,1,3,5` and a number k with the value `3`. I want to find pairs whose absolute adjacent difference between them is the smallest. Find k such pairs.\r\n\r\nAll possible pairs are :\r\n\r\n    |3 - 1| = 2\r\n    |3 - 3| = 0\r\n    |3 - 5| = 2\r\n    |1 - 3| = 2\r\n    |1 - 5| = 4\r\n    |3 - 5| = 2\r\n\r\n    For smallest k = 3 values are [0,2,2] is the required answer\r\n\r\nMy approach:\r\n\r\n    public static List&lt;Integer&gt; process(List&lt;Integer&gt; list, int k) {\r\n    \tint n = list.size();\r\n    \tList&lt;Integer&gt; all = new ArrayList&lt;&gt;();\r\n    \tCollections.sort(list);\r\n    \tfor(int i=0; i&lt;n; i++) {\r\n    \t\tfor(int j=i+1; j&lt;n; j++) {\r\n    \t\t\tall.add(list.get(j) - list.get(i));\r\n    \t\t}\r\n    \t}\r\n    \tCollections.sort(all);\r\n    \tList&lt;Integer&gt; answer = new ArrayList&lt;&gt;();\r\n    \tfor(int i=0; i&lt;k; i++) {\r\n    \t\tanswer.add(all.get(i));\r\n    \t}\r\n    \t\r\n    \treturn answer;\r\n    }\r\n\r\nHere I am trying to get all possible pairs and then get the smallest values. so time complexity is more for this program. How to reduce time complexity for this task.\r\n\r\n\r\n","title":"Find pairs with least difference","body":"<p>I have an array of numbers <code>3,1,3,5</code> and a number k with the value <code>3</code>. I want to find pairs whose absolute adjacent difference between them is the smallest. Find k such pairs.</p>\n<p>All possible pairs are :</p>\n<pre><code>|3 - 1| = 2\n|3 - 3| = 0\n|3 - 5| = 2\n|1 - 3| = 2\n|1 - 5| = 4\n|3 - 5| = 2\n\nFor smallest k = 3 values are [0,2,2] is the required answer\n</code></pre>\n<p>My approach:</p>\n<pre><code>public static List&lt;Integer&gt; process(List&lt;Integer&gt; list, int k) {\n    int n = list.size();\n    List&lt;Integer&gt; all = new ArrayList&lt;&gt;();\n    Collections.sort(list);\n    for(int i=0; i&lt;n; i++) {\n        for(int j=i+1; j&lt;n; j++) {\n            all.add(list.get(j) - list.get(i));\n        }\n    }\n    Collections.sort(all);\n    List&lt;Integer&gt; answer = new ArrayList&lt;&gt;();\n    for(int i=0; i&lt;k; i++) {\n        answer.add(all.get(i));\n    }\n    \n    return answer;\n}\n</code></pre>\n<p>Here I am trying to get all possible pairs and then get the smallest values. so time complexity is more for this program. How to reduce time complexity for this task.</p>\n"},{"tags":["java","xml","soap"],"comments":[{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1659637324,"post_id":73240566,"comment_id":129347824,"body_markdown":"Which http client are you using? https://hc.apache.org/httpcomponents-client-4.5.x/logging.html","body":"Which http client are you using? <a href=\"https://hc.apache.org/httpcomponents-client-4.5.x/logging.html\" rel=\"nofollow noreferrer\">hc.apache.org/httpcomponents-client-4.5.x/logging.html</a>"},{"owner":{"account_id":3992545,"reputation":2558,"user_id":3290977,"accept_rate":91,"display_name":"Karlo A. L&#243;pez"},"score":0,"creation_date":1659637714,"post_id":73240566,"comment_id":129347936,"body_markdown":"Not sure. All imports are coming from `org.ksoap2`","body":"Not sure. All imports are coming from <code>org.ksoap2</code>"},{"owner":{"account_id":3992545,"reputation":2558,"user_id":3290977,"accept_rate":91,"display_name":"Karlo A. L&#243;pez"},"score":0,"creation_date":1659637744,"post_id":73240566,"comment_id":129347953,"body_markdown":"Call is made from `HttpTransportSE` object @LMC","body":"Call is made from <code>HttpTransportSE</code> object @LMC"},{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":1,"creation_date":1659638091,"post_id":73240566,"comment_id":129348048,"body_markdown":"https://stackoverflow.com/a/4574997/2834978","body":"<a href=\"https://stackoverflow.com/a/4574997/2834978\">stackoverflow.com/a/4574997/2834978</a>"}],"owner":{"account_id":3992545,"reputation":2558,"user_id":3290977,"accept_rate":91,"display_name":"Karlo A. L&#243;pez"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659636764,"creation_date":1659636764,"question_id":73240566,"body_markdown":"I&#39;m debugging an old Java Android code which makes some SOAP API calls, but I&#39;m having a hard time looking at the request body content as a string (maybe printing it to the console) so I can replicate this request on other languages.\r\n\r\nThe java code looks something like this:\r\n\r\n    String NAMESPACE = &quot;http://tempuri.org/&quot;;\r\n            //String URL = servidor + &quot;&quot;;\r\n            String URL = servidor + &quot;&quot;;\r\n    \r\n            String METHOD_NAME = &quot;&quot;;\r\n            String SOAP_ACTION = &quot;&quot;;\r\n    \r\n            SoapObject request = new SoapObject(NAMESPACE, METHOD_NAME);\r\n    \r\n            request.addProperty(&quot;key&quot;, key);\r\n            request.addProperty(&quot;dev&quot;, dev);\r\n            request.addProperty(&quot;mac&quot;, mac);\r\n            request.addProperty(&quot;x&quot;, x);\r\n            request.addProperty(&quot;y&quot;, y);\r\n            request.addProperty(&quot;user&quot;, user);\r\n            request.addProperty(&quot;pass&quot;, pass);\r\n    \r\n            SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);\r\n            envelope.dotNet = true;\r\n    \r\n            envelope.setOutputSoapObject(request);\r\n            HttpTransportSE transporte = new HttpTransportSE(URL);\r\n\r\nI&#39;ve tried printing `request` and `envelope` objects as strings but it really does not shows me what I want. I&#39;m expecting a XML string so I can replicate in other places....\r\n\r\n    Log.v(&quot;Karlo&quot;,envelope.toString());\r\n    Log.v(&quot;Karlo&quot;,request.toString());","title":"How to see SOAP request XML body on Java as a string?","body":"<p>I'm debugging an old Java Android code which makes some SOAP API calls, but I'm having a hard time looking at the request body content as a string (maybe printing it to the console) so I can replicate this request on other languages.</p>\n<p>The java code looks something like this:</p>\n<pre><code>String NAMESPACE = &quot;http://tempuri.org/&quot;;\n        //String URL = servidor + &quot;&quot;;\n        String URL = servidor + &quot;&quot;;\n\n        String METHOD_NAME = &quot;&quot;;\n        String SOAP_ACTION = &quot;&quot;;\n\n        SoapObject request = new SoapObject(NAMESPACE, METHOD_NAME);\n\n        request.addProperty(&quot;key&quot;, key);\n        request.addProperty(&quot;dev&quot;, dev);\n        request.addProperty(&quot;mac&quot;, mac);\n        request.addProperty(&quot;x&quot;, x);\n        request.addProperty(&quot;y&quot;, y);\n        request.addProperty(&quot;user&quot;, user);\n        request.addProperty(&quot;pass&quot;, pass);\n\n        SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);\n        envelope.dotNet = true;\n\n        envelope.setOutputSoapObject(request);\n        HttpTransportSE transporte = new HttpTransportSE(URL);\n</code></pre>\n<p>I've tried printing <code>request</code> and <code>envelope</code> objects as strings but it really does not shows me what I want. I'm expecting a XML string so I can replicate in other places....</p>\n<pre><code>Log.v(&quot;Karlo&quot;,envelope.toString());\nLog.v(&quot;Karlo&quot;,request.toString());\n</code></pre>\n"},{"tags":["java","multithreading","synchronized"],"comments":[{"owner":{"account_id":1427775,"reputation":11535,"user_id":1350869,"display_name":"Frank Pavageau"},"score":0,"creation_date":1347827704,"post_id":12450402,"comment_id":16743015,"body_markdown":"Do you have a finite (and reasonably small) number of possible parameters? If so, you can use Tudor&#39;s solution and pre-populate a Map of locks.","body":"Do you have a finite (and reasonably small) number of possible parameters? If so, you can use Tudor&#39;s solution and pre-populate a Map of locks."},{"owner":{"account_id":43980,"reputation":22154,"user_id":128812,"display_name":"gpeche"},"score":0,"creation_date":1347827937,"post_id":12450402,"comment_id":16743058,"body_markdown":"@Frank Pavageau It can work for any number of parameters, just &quot;intern&quot; them (not using `String.intern()`!!!!) and then synchronize on the interned representation.","body":"@Frank Pavageau It can work for any number of parameters, just &quot;intern&quot; them (not using <code>String.intern()</code>!!!!) and then synchronize on the interned representation."},{"owner":{"account_id":1427775,"reputation":11535,"user_id":1350869,"display_name":"Frank Pavageau"},"score":1,"creation_date":1347829538,"post_id":12450402,"comment_id":16743357,"body_markdown":"@gpeche Yes, but that&#39;s not apparent from the answer, hence my question so the answer can be refined if needed. I would have suggested a look at Guava&#39;s Striped&lt;Lock&gt;, then.","body":"@gpeche Yes, but that&#39;s not apparent from the answer, hence my question so the answer can be refined if needed. I would have suggested a look at Guava&#39;s Striped&lt;Lock&gt;, then."},{"owner":{"account_id":1244574,"reputation":13277,"user_id":1206301,"accept_rate":10,"display_name":"Alexei Kaigorodov"},"score":0,"creation_date":1347854136,"post_id":12450402,"comment_id":16746852,"body_markdown":"What is the reason to synchronize in such a way? Strings are immutable and need not synchronization. Apparently there exists some set of mutable objects which you care of. Why not to synchronize on them directly?","body":"What is the reason to synchronize in such a way? Strings are immutable and need not synchronization. Apparently there exists some set of mutable objects which you care of. Why not to synchronize on them directly?"},{"owner":{"account_id":426969,"reputation":61751,"user_id":808486,"accept_rate":100,"display_name":"Tudor"},"score":0,"creation_date":1347973352,"post_id":12450402,"comment_id":16785590,"body_markdown":"So each thread will call the method with a different `name` value? Can multiple threads ever call the method with the same `name` in this scenario?","body":"So each thread will call the method with a different <code>name</code> value? Can multiple threads ever call the method with the same <code>name</code> in this scenario?"},{"owner":{"account_id":367804,"reputation":10671,"user_id":714211,"accept_rate":72,"display_name":"Doua Beri"},"score":0,"creation_date":1347973959,"post_id":12450402,"comment_id":16785882,"body_markdown":"@Tudor yes. that&#39;s where the problem comes from. if sometimes 2 or more threads call this method with the same name value , I want only one of them to execute the code, and the others(the ones who call the method with the same name) to be on hold until the first thread finish the job. This rule doesn&#39;t apply if the thread is calling the method with a different name, in which case the thread will just execute the code.","body":"@Tudor yes. that&#39;s where the problem comes from. if sometimes 2 or more threads call this method with the same name value , I want only one of them to execute the code, and the others(the ones who call the method with the same name) to be on hold until the first thread finish the job. This rule doesn&#39;t apply if the thread is calling the method with a different name, in which case the thread will just execute the code."},{"owner":{"account_id":426969,"reputation":61751,"user_id":808486,"accept_rate":100,"display_name":"Tudor"},"score":0,"creation_date":1347975075,"post_id":12450402,"comment_id":16786432,"body_markdown":"There could be a simpler alternative. Remove the map completely and call `intern()` on each name before synchronizing: `synchronized(name.intern())`. This will use a global pool of strings (similar to the original map solution in fact) so two threads coming in with the same interned string will have to wait for each other.","body":"There could be a simpler alternative. Remove the map completely and call <code>intern()</code> on each name before synchronizing: <code>synchronized(name.intern())</code>. This will use a global pool of strings (similar to the original map solution in fact) so two threads coming in with the same interned string will have to wait for each other."},{"owner":{"account_id":367804,"reputation":10671,"user_id":714211,"accept_rate":72,"display_name":"Doua Beri"},"score":0,"creation_date":1347975586,"post_id":12450402,"comment_id":16786643,"body_markdown":"@Tudor Thanks for you answer. Doing a little research on String.intern() being thread-safe or not I came to the conclusion that is thread-safe: http://www.java.net/node/669133  and http://stackoverflow.com/questions/12450402/java-synchronizing-based-on-a-parameter#comment16786022_12450402  so synchronized(name.intern()) might not block other threads.","body":"@Tudor Thanks for you answer. Doing a little research on String.intern() being thread-safe or not I came to the conclusion that is thread-safe: <a href=\"http://www.java.net/node/669133\" rel=\"nofollow noreferrer\">java.net/node/669133</a>  and <a href=\"http://stackoverflow.com/questions/12450402/java-synchronizing-based-on-a-parameter#comment16786022_12450402\" title=\"java synchronizing based on a parameter%23comment16786022_12450402\">stackoverflow.com/questions/12450402/&hellip;</a>  so synchronized(name.intern()) might not block other threads."},{"owner":{"account_id":426969,"reputation":61751,"user_id":808486,"accept_rate":100,"display_name":"Tudor"},"score":0,"creation_date":1347975666,"post_id":12450402,"comment_id":16786678,"body_markdown":"Wait I don&#39;t get what you&#39;re saying. If `String.intern` is thread-safe that means you can safely use it in your scenario, since there is no danger of two threads picking up two different instances with the same string literal. Btw, your second link points to this question.","body":"Wait I don&#39;t get what you&#39;re saying. If <code>String.intern</code> is thread-safe that means you can safely use it in your scenario, since there is no danger of two threads picking up two different instances with the same string literal. Btw, your second link points to this question."},{"owner":{"account_id":367804,"reputation":10671,"user_id":714211,"accept_rate":72,"display_name":"Doua Beri"},"score":0,"creation_date":1347976668,"post_id":12450402,"comment_id":16787182,"body_markdown":"if `String.intern()` is thread-safe than wouldn&#39;t `synchronized(name.intern())` will be executed by 2 threads with the same name value in the same time?  Sorry about the second link. here is the good link: http://stackoverflow.com/questions/9294134/how-do-internd-strings-behave-between-different-threads-and-classloarders","body":"if <code>String.intern()</code> is thread-safe than wouldn&#39;t <code>synchronized(name.intern())</code> will be executed by 2 threads with the same name value in the same time?  Sorry about the second link. here is the good link: <a href=\"http://stackoverflow.com/questions/9294134/how-do-internd-strings-behave-between-different-threads-and-classloarders\" title=\"how do internd strings behave between different threads and classloarders\">stackoverflow.com/questions/9294134/&hellip;</a>"},{"owner":{"account_id":426969,"reputation":61751,"user_id":808486,"accept_rate":100,"display_name":"Tudor"},"score":0,"creation_date":1347978078,"post_id":12450402,"comment_id":16787850,"body_markdown":"No, if it&#39;s thread safe it means that if two threads call it at the same time with the same string in `name` both of them will receive the exact same result from `String.intern(name)`, meaning they will use the same lock, so only one can get through.","body":"No, if it&#39;s thread safe it means that if two threads call it at the same time with the same string in <code>name</code> both of them will receive the exact same result from <code>String.intern(name)</code>, meaning they will use the same lock, so only one can get through."}],"answers":[{"tags":[],"owner":{"account_id":426969,"reputation":61751,"user_id":808486,"accept_rate":100,"display_name":"Tudor"},"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1347827026,"creation_date":1347827026,"answer_id":12450424,"question_id":12450402,"body_markdown":"Use a map to associate strings with lock objects:\r\n\r\n    Map&lt;String, Object&gt; locks = new HashMap&lt;String, Object&gt;();\r\n    locks.put(&quot;a&quot;, new Object());\r\n    locks.put(&quot;b&quot;, new Object());\r\n    // etc.\r\n\r\nthen:\r\n\r\n    public void doSomething(String name){\r\n        synchronized(locks.get(name)) {\r\n            // ...\r\n        }\r\n    }\r\n\r\n","title":"Java synchronizing based on a parameter (named mutex/lock)","body":"<p>Use a map to associate strings with lock objects:</p>\n\n<pre><code>Map&lt;String, Object&gt; locks = new HashMap&lt;String, Object&gt;();\nlocks.put(\"a\", new Object());\nlocks.put(\"b\", new Object());\n// etc.\n</code></pre>\n\n<p>then:</p>\n\n<pre><code>public void doSomething(String name){\n    synchronized(locks.get(name)) {\n        // ...\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":227884,"reputation":1354,"user_id":489818,"accept_rate":62,"display_name":"Njax3SmmM2x2a0Zf7Hpd"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1405514366,"creation_date":1405514366,"answer_id":24781019,"question_id":12450402,"body_markdown":"Check out this framework. Seems you&#39;re looking for something like this.\r\n\r\n    public class WeatherServiceProxy {\r\n    ...\r\n    private final KeyLockManager lockManager = KeyLockManagers.newManager();\r\n    \r\n    public void updateWeatherData(String cityName, Date samplingTime, float temperature) {\r\n            lockManager.executeLocked(cityName, new LockCallback() {\r\n                    public void doInLock() {\r\n                            delegate.updateWeatherData(cityName, samplingTime, temperature);\r\n                    }\r\n            });\r\n    }\r\n\r\nhttps://code.google.com/p/jkeylockmanager/","title":"Java synchronizing based on a parameter (named mutex/lock)","body":"<p>Check out this framework. Seems you're looking for something like this.</p>\n\n<pre><code>public class WeatherServiceProxy {\n...\nprivate final KeyLockManager lockManager = KeyLockManagers.newManager();\n\npublic void updateWeatherData(String cityName, Date samplingTime, float temperature) {\n        lockManager.executeLocked(cityName, new LockCallback() {\n                public void doInLock() {\n                        delegate.updateWeatherData(cityName, samplingTime, temperature);\n                }\n        });\n}\n</code></pre>\n\n<p><a href=\"https://code.google.com/p/jkeylockmanager/\" rel=\"nofollow\">https://code.google.com/p/jkeylockmanager/</a></p>\n"},{"tags":[],"owner":{"account_id":361630,"reputation":3255,"user_id":704335,"accept_rate":50,"display_name":"Timmos"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1458028670,"creation_date":1423150188,"answer_id":28347825,"question_id":12450402,"body_markdown":"The answer of Tudor is fine, but it&#39;s static and not scalable. My solution is dynamic and scalable, but it goes with increased complexity in the implementation. The outside world can use this class just like using a `Lock`, as this class implements the interface. You get an instance of a parameterized lock by the factory method `getCanonicalParameterLock`.\r\n\r\n    package lock;\r\n\r\n    import java.lang.ref.Reference;\r\n    import java.lang.ref.WeakReference;\r\n    import java.util.Map;\r\n    import java.util.WeakHashMap;\r\n    import java.util.concurrent.TimeUnit;\r\n    import java.util.concurrent.locks.Condition;\r\n    import java.util.concurrent.locks.Lock;\r\n    import java.util.concurrent.locks.ReentrantLock;\r\n    \r\n    public final class ParameterLock implements Lock {\r\n        \r\n        /** Holds a WeakKeyLockPair for each parameter. The mapping may be deleted upon garbage collection\r\n         * if the canonical key is not strongly referenced anymore (by the threads using the Lock). */\r\n        private static final Map&lt;Object, WeakKeyLockPair&gt; locks = new WeakHashMap&lt;&gt;();\r\n        \r\n        private final Object key;\r\n        private final Lock lock;\r\n        \r\n        private ParameterLock (Object key, Lock lock) {\r\n            this.key = key;\r\n            this.lock = lock;\r\n        }\r\n            \r\n        private static final class WeakKeyLockPair {\r\n            /** The weakly-referenced parameter. If it were strongly referenced, the entries of\r\n             * the lock Map would never be garbage collected, causing a memory leak. */\r\n            private final Reference&lt;Object&gt; param;\r\n            /** The actual lock object on which threads will synchronize. */\r\n            private final Lock lock;\r\n            \r\n            private WeakKeyLockPair (Object param, Lock lock) {\r\n                this.param = new WeakReference&lt;&gt;(param);\r\n                this.lock = lock;\r\n            }\r\n        }\r\n            \r\n        public static Lock getCanonicalParameterLock (Object param) {\r\n            Object canonical = null;\r\n            Lock lock = null;\r\n            \r\n            synchronized (locks) {\r\n                WeakKeyLockPair pair = locks.get(param);            \r\n                if (pair != null) {                \r\n                    canonical = pair.param.get(); // could return null!\r\n                }\r\n                if (canonical == null) { // no such entry or the reference was cleared in the meantime                \r\n                    canonical = param; // the first thread (the current thread) delivers the new canonical key\r\n                    pair = new WeakKeyLockPair(canonical, new ReentrantLock());\r\n                    locks.put(canonical, pair);\r\n                }\r\n            }\r\n            \r\n            // the canonical key is strongly referenced now...\r\n            lock = locks.get(canonical).lock; // ...so this is guaranteed not to return null\r\n            // ... but the key must be kept strongly referenced after this method returns,\r\n            // so wrap it in the Lock implementation, which a thread of course needs\r\n            // to be able to synchronize. This enforces a thread to have a strong reference\r\n            // to the key, while it isn&#39;t aware of it (as this method declares to return a \r\n            // Lock rather than a ParameterLock).\r\n            return new ParameterLock(canonical, lock);               \r\n        }\r\n    \r\n        @Override\r\n        public void lock() {\r\n            lock.lock();\r\n        }\r\n    \r\n        @Override\r\n        public void lockInterruptibly() throws InterruptedException {\r\n            lock.lockInterruptibly();\r\n        }\r\n    \r\n        @Override\r\n        public boolean tryLock() {\r\n            return lock.tryLock();\r\n        }\r\n    \r\n        @Override\r\n        public boolean tryLock(long time, TimeUnit unit) throws InterruptedException {\r\n            return lock.tryLock(time, unit);\r\n        }\r\n    \r\n        @Override\r\n        public void unlock() {\r\n            lock.unlock();\r\n        }\r\n    \r\n        @Override\r\n        public Condition newCondition() {\r\n            return lock.newCondition();\r\n        }\r\n    }\r\n            \r\nOf course you&#39;d need a canonical key for a given parameter, otherwise threads would not be synchronized as they would be using a different Lock. Canonicalization is the equivalent of the internalization of Strings in Tudor&#39;s solution. Where `String.intern()` is itself thread-safe, my &#39;canonical pool&#39; is not, so I need extra synchronization on the WeakHashMap.\r\n\r\nThis solution works for any type of Object. However, make sure to implement `equals` and `hashCode` correctly in custom classes, because if not, threading issues will arise as multiple threads could be using different Lock objects to synchronize on!\r\n\r\nThe choice for a WeakHashMap is explained by the ease of memory management it brings. How else could one know that no thread is using a particular Lock anymore? And if this could be known, how could you safely delete the entry out of the Map? You would need to synchronize upon deletion, because you have a race condition between an arriving thread wanting to use the Lock, and the action of deleting the Lock from the Map. All these things are just solved by using weak references, so the VM does the work for you, and this simplifies the implementation a lot. If you inspected the API of WeakReference, you would find that relying on weak references is thread-safe.\r\n\r\nNow inspect this test program (you need to run it from inside the ParameterLock class, due to private visibility of some fields):\r\n\r\n    public static void main(String[] args) {\r\n        Runnable run1 = new Runnable() {\r\n            \r\n            @Override\r\n            public void run() {\r\n                sync(new Integer(5));\r\n                System.gc();\r\n            }\r\n        };\r\n        Runnable run2 = new Runnable() {\r\n            \r\n            @Override\r\n            public void run() {\r\n                sync(new Integer(5));\r\n                System.gc();\r\n            }\r\n        };\r\n        Thread t1 = new Thread(run1);\r\n        Thread t2 = new Thread(run2);\r\n        \r\n        t1.start();\r\n        t2.start();\r\n        \r\n        try {\r\n            t1.join();\r\n            t2.join();\r\n            while (locks.size() != 0) {\r\n                System.gc();\r\n                System.out.println(locks);\r\n            }\r\n            System.out.println(&quot;FINISHED!&quot;);\r\n        } catch (InterruptedException ex) {\r\n            // those threads won&#39;t be interrupted\r\n        }\r\n    }\r\n    \r\n    private static void sync (Object param) {\r\n        Lock lock = ParameterLock.getCanonicalParameterLock(param);\r\n        lock.lock();\r\n        try {\r\n            System.out.println(&quot;Thread=&quot;+Thread.currentThread().getName()+&quot;, lock=&quot; + ((ParameterLock) lock).lock);\r\n            // do some work while having the lock\r\n        } finally {\r\n            lock.unlock();\r\n        }        \r\n    }\r\n\r\nChances are very high that you would see that both threads are using the same lock object, and so they are synchronized. Example output:\r\n\r\n    Thread=Thread-0, lock=java.util.concurrent.locks.ReentrantLock@8965fb[Locked by thread Thread-0]\r\n    Thread=Thread-1, lock=java.util.concurrent.locks.ReentrantLock@8965fb[Locked by thread Thread-1]\r\n    FINISHED!\r\n\r\nHowever, with some chance it might be that the 2 threads do not overlap in execution, and therefore it is not required that they use the same lock. You could easily enforce this behavior in debugging mode by setting breakpoints at the right locations, forcing the first or second thread to stop wherever necessary. You will also notice that after the Garbage Collection on the main thread, the WeakHashMap will be cleared, which is of course correct, as the main thread waited for both worker threads to finish their job by calling `Thread.join()` before calling the garbage collector. This indeed means that no strong reference to the (Parameter)Lock can exist anymore inside a worker thread, so the reference can be cleared from the weak hashmap. If another thread now wants to synchronize on the same parameter, a new Lock will be created in the synchronized part in `getCanonicalParameterLock`.\r\n\r\nNow repeat the test with any pair that has the same canonical representation (= they are equal, so `a.equals(b)`), and see that it still works:\r\n \r\n    sync(&quot;a&quot;);\r\n    sync(new String(&quot;a&quot;))\r\n\r\n    sync(new Boolean(true));\r\n    sync(new Boolean(true));\r\n\r\netc.\r\n\r\nBasically, this class offers you the following functionality:\r\n\r\n - Parameterized synchronization\r\n - Encapsulated memory management\r\n - The ability to work with any type of object (under the condition that `equals` and `hashCode` is implemented properly)\r\n - Implements the Lock interface\r\n\r\nThis Lock implementation has been tested by modifying an ArrayList concurrently with 10 threads iterating 1000 times, doing this: adding 2 items, then deleting the last found list entry by iterating the full list. A lock is requested per iteration, so in total 10*1000 locks will be requested. No ConcurrentModificationException was thrown, and after all worker threads have finished the total amount of items was 10*1000. On every single modification, a lock was requested by calling `ParameterLock.getCanonicalParameterLock(new String(&quot;a&quot;))`, so a new parameter object is used to test the correctness of the canonicalization.\r\n\r\nPlease note that you shouldn&#39;t be using String literals and primitive types for parameters. As String literals are automatically interned, they always have a strong reference, and so if the first thread arrives with a String literal for its parameter then the lock pool will never be freed from the entry, which is a memory leak. The same story goes for autoboxing primitives: e.g. Integer has a caching mechanism that will reuse existing Integer objects during the process of autoboxing, also causing a strong reference to exist. Addressing this, however, this is a different story.","title":"Java synchronizing based on a parameter (named mutex/lock)","body":"<p>The answer of Tudor is fine, but it's static and not scalable. My solution is dynamic and scalable, but it goes with increased complexity in the implementation. The outside world can use this class just like using a <code>Lock</code>, as this class implements the interface. You get an instance of a parameterized lock by the factory method <code>getCanonicalParameterLock</code>.</p>\n\n<pre><code>package lock;\n\nimport java.lang.ref.Reference;\nimport java.lang.ref.WeakReference;\nimport java.util.Map;\nimport java.util.WeakHashMap;\nimport java.util.concurrent.TimeUnit;\nimport java.util.concurrent.locks.Condition;\nimport java.util.concurrent.locks.Lock;\nimport java.util.concurrent.locks.ReentrantLock;\n\npublic final class ParameterLock implements Lock {\n\n    /** Holds a WeakKeyLockPair for each parameter. The mapping may be deleted upon garbage collection\n     * if the canonical key is not strongly referenced anymore (by the threads using the Lock). */\n    private static final Map&lt;Object, WeakKeyLockPair&gt; locks = new WeakHashMap&lt;&gt;();\n\n    private final Object key;\n    private final Lock lock;\n\n    private ParameterLock (Object key, Lock lock) {\n        this.key = key;\n        this.lock = lock;\n    }\n\n    private static final class WeakKeyLockPair {\n        /** The weakly-referenced parameter. If it were strongly referenced, the entries of\n         * the lock Map would never be garbage collected, causing a memory leak. */\n        private final Reference&lt;Object&gt; param;\n        /** The actual lock object on which threads will synchronize. */\n        private final Lock lock;\n\n        private WeakKeyLockPair (Object param, Lock lock) {\n            this.param = new WeakReference&lt;&gt;(param);\n            this.lock = lock;\n        }\n    }\n\n    public static Lock getCanonicalParameterLock (Object param) {\n        Object canonical = null;\n        Lock lock = null;\n\n        synchronized (locks) {\n            WeakKeyLockPair pair = locks.get(param);            \n            if (pair != null) {                \n                canonical = pair.param.get(); // could return null!\n            }\n            if (canonical == null) { // no such entry or the reference was cleared in the meantime                \n                canonical = param; // the first thread (the current thread) delivers the new canonical key\n                pair = new WeakKeyLockPair(canonical, new ReentrantLock());\n                locks.put(canonical, pair);\n            }\n        }\n\n        // the canonical key is strongly referenced now...\n        lock = locks.get(canonical).lock; // ...so this is guaranteed not to return null\n        // ... but the key must be kept strongly referenced after this method returns,\n        // so wrap it in the Lock implementation, which a thread of course needs\n        // to be able to synchronize. This enforces a thread to have a strong reference\n        // to the key, while it isn't aware of it (as this method declares to return a \n        // Lock rather than a ParameterLock).\n        return new ParameterLock(canonical, lock);               \n    }\n\n    @Override\n    public void lock() {\n        lock.lock();\n    }\n\n    @Override\n    public void lockInterruptibly() throws InterruptedException {\n        lock.lockInterruptibly();\n    }\n\n    @Override\n    public boolean tryLock() {\n        return lock.tryLock();\n    }\n\n    @Override\n    public boolean tryLock(long time, TimeUnit unit) throws InterruptedException {\n        return lock.tryLock(time, unit);\n    }\n\n    @Override\n    public void unlock() {\n        lock.unlock();\n    }\n\n    @Override\n    public Condition newCondition() {\n        return lock.newCondition();\n    }\n}\n</code></pre>\n\n<p>Of course you'd need a canonical key for a given parameter, otherwise threads would not be synchronized as they would be using a different Lock. Canonicalization is the equivalent of the internalization of Strings in Tudor's solution. Where <code>String.intern()</code> is itself thread-safe, my 'canonical pool' is not, so I need extra synchronization on the WeakHashMap.</p>\n\n<p>This solution works for any type of Object. However, make sure to implement <code>equals</code> and <code>hashCode</code> correctly in custom classes, because if not, threading issues will arise as multiple threads could be using different Lock objects to synchronize on!</p>\n\n<p>The choice for a WeakHashMap is explained by the ease of memory management it brings. How else could one know that no thread is using a particular Lock anymore? And if this could be known, how could you safely delete the entry out of the Map? You would need to synchronize upon deletion, because you have a race condition between an arriving thread wanting to use the Lock, and the action of deleting the Lock from the Map. All these things are just solved by using weak references, so the VM does the work for you, and this simplifies the implementation a lot. If you inspected the API of WeakReference, you would find that relying on weak references is thread-safe.</p>\n\n<p>Now inspect this test program (you need to run it from inside the ParameterLock class, due to private visibility of some fields):</p>\n\n<pre><code>public static void main(String[] args) {\n    Runnable run1 = new Runnable() {\n\n        @Override\n        public void run() {\n            sync(new Integer(5));\n            System.gc();\n        }\n    };\n    Runnable run2 = new Runnable() {\n\n        @Override\n        public void run() {\n            sync(new Integer(5));\n            System.gc();\n        }\n    };\n    Thread t1 = new Thread(run1);\n    Thread t2 = new Thread(run2);\n\n    t1.start();\n    t2.start();\n\n    try {\n        t1.join();\n        t2.join();\n        while (locks.size() != 0) {\n            System.gc();\n            System.out.println(locks);\n        }\n        System.out.println(\"FINISHED!\");\n    } catch (InterruptedException ex) {\n        // those threads won't be interrupted\n    }\n}\n\nprivate static void sync (Object param) {\n    Lock lock = ParameterLock.getCanonicalParameterLock(param);\n    lock.lock();\n    try {\n        System.out.println(\"Thread=\"+Thread.currentThread().getName()+\", lock=\" + ((ParameterLock) lock).lock);\n        // do some work while having the lock\n    } finally {\n        lock.unlock();\n    }        \n}\n</code></pre>\n\n<p>Chances are very high that you would see that both threads are using the same lock object, and so they are synchronized. Example output:</p>\n\n<pre><code>Thread=Thread-0, lock=java.util.concurrent.locks.ReentrantLock@8965fb[Locked by thread Thread-0]\nThread=Thread-1, lock=java.util.concurrent.locks.ReentrantLock@8965fb[Locked by thread Thread-1]\nFINISHED!\n</code></pre>\n\n<p>However, with some chance it might be that the 2 threads do not overlap in execution, and therefore it is not required that they use the same lock. You could easily enforce this behavior in debugging mode by setting breakpoints at the right locations, forcing the first or second thread to stop wherever necessary. You will also notice that after the Garbage Collection on the main thread, the WeakHashMap will be cleared, which is of course correct, as the main thread waited for both worker threads to finish their job by calling <code>Thread.join()</code> before calling the garbage collector. This indeed means that no strong reference to the (Parameter)Lock can exist anymore inside a worker thread, so the reference can be cleared from the weak hashmap. If another thread now wants to synchronize on the same parameter, a new Lock will be created in the synchronized part in <code>getCanonicalParameterLock</code>.</p>\n\n<p>Now repeat the test with any pair that has the same canonical representation (= they are equal, so <code>a.equals(b)</code>), and see that it still works:</p>\n\n<pre><code>sync(\"a\");\nsync(new String(\"a\"))\n\nsync(new Boolean(true));\nsync(new Boolean(true));\n</code></pre>\n\n<p>etc.</p>\n\n<p>Basically, this class offers you the following functionality:</p>\n\n<ul>\n<li>Parameterized synchronization</li>\n<li>Encapsulated memory management</li>\n<li>The ability to work with any type of object (under the condition that <code>equals</code> and <code>hashCode</code> is implemented properly)</li>\n<li>Implements the Lock interface</li>\n</ul>\n\n<p>This Lock implementation has been tested by modifying an ArrayList concurrently with 10 threads iterating 1000 times, doing this: adding 2 items, then deleting the last found list entry by iterating the full list. A lock is requested per iteration, so in total 10*1000 locks will be requested. No ConcurrentModificationException was thrown, and after all worker threads have finished the total amount of items was 10*1000. On every single modification, a lock was requested by calling <code>ParameterLock.getCanonicalParameterLock(new String(\"a\"))</code>, so a new parameter object is used to test the correctness of the canonicalization.</p>\n\n<p>Please note that you shouldn't be using String literals and primitive types for parameters. As String literals are automatically interned, they always have a strong reference, and so if the first thread arrives with a String literal for its parameter then the lock pool will never be freed from the entry, which is a memory leak. The same story goes for autoboxing primitives: e.g. Integer has a caching mechanism that will reuse existing Integer objects during the process of autoboxing, also causing a strong reference to exist. Addressing this, however, this is a different story.</p>\n"},{"tags":[],"owner":{"account_id":1215286,"reputation":7830,"user_id":1183010,"accept_rate":80,"display_name":"R. Oosterholt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1424946192,"creation_date":1424946192,"answer_id":28739831,"question_id":12450402,"body_markdown":"I&#39;ve created a tokenProvider based on the [IdMutexProvider](http://illegalargumentexception.blogspot.nl/2008/04/java-synchronizing-on-transient-id.html) of McDowell.\r\nThe manager uses a `WeakHashMap` which takes care of cleaning up unused locks.\r\n\r\nYou could find my implementation [here](https://stackoverflow.com/a/28723518/1183010).","title":"Java synchronizing based on a parameter (named mutex/lock)","body":"<p>I've created a tokenProvider based on the <a href=\"http://illegalargumentexception.blogspot.nl/2008/04/java-synchronizing-on-transient-id.html\" rel=\"nofollow noreferrer\">IdMutexProvider</a> of McDowell.\nThe manager uses a <code>WeakHashMap</code> which takes care of cleaning up unused locks.</p>\n\n<p>You could find my implementation <a href=\"https://stackoverflow.com/a/28723518/1183010\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":1477271,"reputation":602,"user_id":1387372,"display_name":"JamesP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1475744376,"creation_date":1475744376,"answer_id":39891798,"question_id":12450402,"body_markdown":"I&#39;ve used a cache to store lock objects. The my cache will expire objects after a period, which really only needs to be longer that the time it takes the synchronized process to run\r\n\r\n`\r\n\r\n    import com.google.common.cache.Cache;\r\n    import com.google.common.cache.CacheBuilder;\r\n    \r\n    ...\r\n    \r\n    private final Cache&lt;String, Object&gt; mediapackageLockCache = CacheBuilder.newBuilder().expireAfterWrite(DEFAULT_CACHE_EXPIRE, TimeUnit.SECONDS).build();\r\n    \r\n    ...\r\n    \r\n    public void doSomething(foo) {\r\n        Object lock = mediapackageLockCache.getIfPresent(foo.toSting());\r\n        if (lock == null) {\r\n            lock = new Object();\r\n            mediapackageLockCache.put(foo.toString(), lock);\r\n        }\r\n    \r\n        synchronized(lock) {\r\n            // execute code on foo\r\n            ...\r\n        }\r\n    }\r\n\r\n`","title":"Java synchronizing based on a parameter (named mutex/lock)","body":"<p>I've used a cache to store lock objects. The my cache will expire objects after a period, which really only needs to be longer that the time it takes the synchronized process to run</p>\n\n<p>`</p>\n\n<pre><code>import com.google.common.cache.Cache;\nimport com.google.common.cache.CacheBuilder;\n\n...\n\nprivate final Cache&lt;String, Object&gt; mediapackageLockCache = CacheBuilder.newBuilder().expireAfterWrite(DEFAULT_CACHE_EXPIRE, TimeUnit.SECONDS).build();\n\n...\n\npublic void doSomething(foo) {\n    Object lock = mediapackageLockCache.getIfPresent(foo.toSting());\n    if (lock == null) {\n        lock = new Object();\n        mediapackageLockCache.put(foo.toString(), lock);\n    }\n\n    synchronized(lock) {\n        // execute code on foo\n        ...\n    }\n}\n</code></pre>\n\n<p>`</p>\n"},{"tags":[],"owner":{"account_id":3063678,"reputation":1961,"user_id":2595847,"accept_rate":57,"display_name":"Thomas Stubbe"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1501241352,"creation_date":1501241352,"answer_id":45372369,"question_id":12450402,"body_markdown":"I&#39;ve found a proper answer through another stackoverflow question: https://stackoverflow.com/questions/11124539/how-to-acquire-a-lock-by-a-key\r\n\r\nI copied the answer here:\r\n\r\nGuava has something like this being released in 13.0; you can get it out of HEAD if you like.\r\n\r\nStriped&lt;Lock&gt; more or less allocates a specific number of locks, and then assigns strings to locks based on their hash code. The API looks more or less like\r\n\r\n    Striped&lt;Lock&gt; locks = Striped.lock(stripes);\r\n    Lock l = locks.get(string);\r\n    l.lock();\r\n    try {\r\n      // do stuff \r\n    } finally {\r\n      l.unlock();\r\n    }\r\n\r\nMore or less, the controllable number of stripes lets you trade concurrency against memory usage, because allocating a full lock for each string key can get expensive; essentially, you only get lock contention when you get hash collisions, which are (predictably) rare.","title":"Java synchronizing based on a parameter (named mutex/lock)","body":"<p>I've found a proper answer through another stackoverflow question: <a href=\"https://stackoverflow.com/questions/11124539/how-to-acquire-a-lock-by-a-key\">How to acquire a lock by a key</a></p>\n\n<p>I copied the answer here:</p>\n\n<p>Guava has something like this being released in 13.0; you can get it out of HEAD if you like.</p>\n\n<p>Striped more or less allocates a specific number of locks, and then assigns strings to locks based on their hash code. The API looks more or less like</p>\n\n<pre><code>Striped&lt;Lock&gt; locks = Striped.lock(stripes);\nLock l = locks.get(string);\nl.lock();\ntry {\n  // do stuff \n} finally {\n  l.unlock();\n}\n</code></pre>\n\n<p>More or less, the controllable number of stripes lets you trade concurrency against memory usage, because allocating a full lock for each string key can get expensive; essentially, you only get lock contention when you get hash collisions, which are (predictably) rare.</p>\n"},{"tags":[],"owner":{"account_id":2909707,"reputation":11,"user_id":2494253,"display_name":"Tom Petrillo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508571112,"creation_date":1508568549,"answer_id":46860786,"question_id":12450402,"body_markdown":"I have a much simpler, scalable implementation akin to @timmons post taking advantage of guavas `LoadingCache` with `weakValues`.  You will want to read the help files on &quot;equality&quot; to understand the suggestion I have made.\r\n\r\nDefine the following weakValued cache.\r\n\r\n    private final LoadingCache&lt;String,String&gt; syncStrings = CacheBuilder.newBuilder().weakValues().build(new CacheLoader&lt;String, String&gt;() {\r\n\t\tpublic String load(String x) throws ExecutionException {\r\n\t\t\treturn new String(x);\r\n\t\t}\r\n\t});\r\n\r\n    public void doSomething(String x) {\r\n          x = syncStrings.get(x);\r\n          synchronized(x) {\r\n              ..... // whatever it is you want to do\r\n          }\r\n    }\r\n\r\nNow! As a result of the JVM, we do not have to worry that the cache is growing too large, it only holds the cached strings as long as necessary and the garbage manager/guava does the heavy lifting.","title":"Java synchronizing based on a parameter (named mutex/lock)","body":"<p>I have a much simpler, scalable implementation akin to @timmons post taking advantage of guavas <code>LoadingCache</code> with <code>weakValues</code>.  You will want to read the help files on \"equality\" to understand the suggestion I have made.</p>\n\n<p>Define the following weakValued cache.</p>\n\n<pre><code>private final LoadingCache&lt;String,String&gt; syncStrings = CacheBuilder.newBuilder().weakValues().build(new CacheLoader&lt;String, String&gt;() {\n    public String load(String x) throws ExecutionException {\n        return new String(x);\n    }\n});\n\npublic void doSomething(String x) {\n      x = syncStrings.get(x);\n      synchronized(x) {\n          ..... // whatever it is you want to do\n      }\n}\n</code></pre>\n\n<p>Now! As a result of the JVM, we do not have to worry that the cache is growing too large, it only holds the cached strings as long as necessary and the garbage manager/guava does the heavy lifting.</p>\n"},{"tags":[],"owner":{"account_id":2030610,"reputation":11614,"user_id":1814420,"accept_rate":59,"display_name":"Triet Doan"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1553800884,"creation_date":1553800555,"answer_id":55405291,"question_id":12450402,"body_markdown":"## TL;DR:\r\nI use [ConcurrentReferenceHashMap][1] from the Spring Framework. Please check the code below.\r\n\r\n---\r\n\r\nAlthough this thread is old, it is still interesting. Therefore, I would like to share my approach with Spring Framework.\r\n\r\nWhat we are trying to implement is called **named mutex/lock**. As suggested by [Tudor&#39;s answer][2], the idea is to have a `Map` to store the lock name and the lock object. The code will look like below (I copy it from his answer):\r\n```Java\r\nMap&lt;String, Object&gt; locks = new HashMap&lt;String, Object&gt;();\r\nlocks.put(&quot;a&quot;, new Object());\r\nlocks.put(&quot;b&quot;, new Object());\r\n```\r\nHowever, this approach has 2 drawbacks:\r\n\r\n 1. The OP already pointed out the first one: how to synchronize the access to the `locks` hash map?\r\n 2. How to remove some locks which are not necessary anymore? Otherwise, the `locks` hash map will keep growing.\r\n\r\nThe first problem can be solved by using [ConcurrentHashMap][3]. For the second problem, we have 2 options: manually check and remove locks from the map, or somehow let the garbage collector knows which locks are no longer used and the GC will remove them. I will go with the second way.\r\n\r\nWhen we use `HashMap`, or `ConcurrentHashMap`, it creates strong references. To implement the solution discussed above, weak references should be used instead (to understand what is a strong/weak reference, please refer to [this article][4] or [this post][5]).\r\n\r\n---\r\n\r\nSo, I use [ConcurrentReferenceHashMap][1] from the Spring Framework. As described in the documentation:\r\n\r\n&gt; A `ConcurrentHashMap` that uses soft or weak references for both keys\r\n&gt; and values.\r\n\r\n&gt; This class can be used as an alternative to\r\n&gt; `Collections.synchronizedMap(new WeakHashMap&lt;K, Reference&lt;V&gt;&gt;())` in\r\n&gt; order to support better performance when accessed concurrently. This\r\n&gt; implementation follows the same design constraints as\r\n&gt; `ConcurrentHashMap` with the exception that null values and null keys\r\n&gt; are supported.\r\n\r\nHere is my code. The `MutexFactory` manages all the locks with `&lt;K&gt;` is the type of the key.\r\n```Java\r\n@Component\r\npublic class MutexFactory&lt;K&gt; {\r\n\r\n    private ConcurrentReferenceHashMap&lt;K, Object&gt; map;\r\n\r\n    public MutexFactory() {\r\n        this.map = new ConcurrentReferenceHashMap&lt;&gt;();\r\n    }\r\n\r\n    public Object getMutex(K key) {\r\n        return this.map.compute(key, (k, v) -&gt; v == null ? new Object() : v);\r\n    }\r\n}\r\n```\r\n\r\nUsage:\r\n```Java\r\n@Autowired\r\nprivate MutexFactory&lt;String&gt; mutexFactory;\r\n\r\npublic void doSomething(String name){\r\n    synchronized(mutexFactory.getMutex(name)) {\r\n        // ...\r\n    }\r\n}\r\n```\r\n\r\nUnit test (this test uses the [awaitility][6] library for some methods, e.g. `await()`, `atMost()`, `until()`):\r\n```Java\r\npublic class MutexFactoryTests {\r\n    private final int THREAD_COUNT = 16;\r\n\r\n    @Test\r\n    public void singleKeyTest() {\r\n        MutexFactory&lt;String&gt; mutexFactory = new MutexFactory&lt;&gt;();\r\n        String id = UUID.randomUUID().toString();\r\n        final int[] count = {0};\r\n\r\n        IntStream.range(0, THREAD_COUNT)\r\n                .parallel()\r\n                .forEach(i -&gt; {\r\n                    synchronized (mutexFactory.getMutex(id)) {\r\n                        count[0]++;\r\n                    }\r\n                });\r\n        await().atMost(5, TimeUnit.SECONDS)\r\n                .until(() -&gt; count[0] == THREAD_COUNT);\r\n        Assert.assertEquals(count[0], THREAD_COUNT);\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/ConcurrentReferenceHashMap.html\r\n  [2]: https://stackoverflow.com/a/12450424/1814420\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentHashMap.html\r\n  [4]: https://community.oracle.com/blogs/enicholas/2006/05/04/understanding-weak-references\r\n  [5]: https://stackoverflow.com/questions/9809074/java-difference-between-strong-soft-weak-phantom-reference\r\n  [6]: https://github.com/awaitility/awaitility","title":"Java synchronizing based on a parameter (named mutex/lock)","body":"<h2>TL;DR:</h2>\n\n<p>I use <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/ConcurrentReferenceHashMap.html\" rel=\"noreferrer\">ConcurrentReferenceHashMap</a> from the Spring Framework. Please check the code below.</p>\n\n<hr>\n\n<p>Although this thread is old, it is still interesting. Therefore, I would like to share my approach with Spring Framework.</p>\n\n<p>What we are trying to implement is called <strong>named mutex/lock</strong>. As suggested by <a href=\"https://stackoverflow.com/a/12450424/1814420\">Tudor's answer</a>, the idea is to have a <code>Map</code> to store the lock name and the lock object. The code will look like below (I copy it from his answer):</p>\n\n<pre><code>Map&lt;String, Object&gt; locks = new HashMap&lt;String, Object&gt;();\nlocks.put(\"a\", new Object());\nlocks.put(\"b\", new Object());\n</code></pre>\n\n<p>However, this approach has 2 drawbacks:</p>\n\n<ol>\n<li>The OP already pointed out the first one: how to synchronize the access to the <code>locks</code> hash map?</li>\n<li>How to remove some locks which are not necessary anymore? Otherwise, the <code>locks</code> hash map will keep growing.</li>\n</ol>\n\n<p>The first problem can be solved by using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentHashMap.html\" rel=\"noreferrer\">ConcurrentHashMap</a>. For the second problem, we have 2 options: manually check and remove locks from the map, or somehow let the garbage collector knows which locks are no longer used and the GC will remove them. I will go with the second way.</p>\n\n<p>When we use <code>HashMap</code>, or <code>ConcurrentHashMap</code>, it creates strong references. To implement the solution discussed above, weak references should be used instead (to understand what is a strong/weak reference, please refer to <a href=\"https://community.oracle.com/blogs/enicholas/2006/05/04/understanding-weak-references\" rel=\"noreferrer\">this article</a> or <a href=\"https://stackoverflow.com/questions/9809074/java-difference-between-strong-soft-weak-phantom-reference\">this post</a>).</p>\n\n<hr>\n\n<p>So, I use <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/ConcurrentReferenceHashMap.html\" rel=\"noreferrer\">ConcurrentReferenceHashMap</a> from the Spring Framework. As described in the documentation:</p>\n\n<blockquote>\n  <p>A <code>ConcurrentHashMap</code> that uses soft or weak references for both keys\n  and values.</p>\n  \n  <p>This class can be used as an alternative to\n  <code>Collections.synchronizedMap(new WeakHashMap&lt;K, Reference&lt;V&gt;&gt;())</code> in\n  order to support better performance when accessed concurrently. This\n  implementation follows the same design constraints as\n  <code>ConcurrentHashMap</code> with the exception that null values and null keys\n  are supported.</p>\n</blockquote>\n\n<p>Here is my code. The <code>MutexFactory</code> manages all the locks with <code>&lt;K&gt;</code> is the type of the key.</p>\n\n<pre><code>@Component\npublic class MutexFactory&lt;K&gt; {\n\n    private ConcurrentReferenceHashMap&lt;K, Object&gt; map;\n\n    public MutexFactory() {\n        this.map = new ConcurrentReferenceHashMap&lt;&gt;();\n    }\n\n    public Object getMutex(K key) {\n        return this.map.compute(key, (k, v) -&gt; v == null ? new Object() : v);\n    }\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>@Autowired\nprivate MutexFactory&lt;String&gt; mutexFactory;\n\npublic void doSomething(String name){\n    synchronized(mutexFactory.getMutex(name)) {\n        // ...\n    }\n}\n</code></pre>\n\n<p>Unit test (this test uses the <a href=\"https://github.com/awaitility/awaitility\" rel=\"noreferrer\">awaitility</a> library for some methods, e.g. <code>await()</code>, <code>atMost()</code>, <code>until()</code>):</p>\n\n<pre><code>public class MutexFactoryTests {\n    private final int THREAD_COUNT = 16;\n\n    @Test\n    public void singleKeyTest() {\n        MutexFactory&lt;String&gt; mutexFactory = new MutexFactory&lt;&gt;();\n        String id = UUID.randomUUID().toString();\n        final int[] count = {0};\n\n        IntStream.range(0, THREAD_COUNT)\n                .parallel()\n                .forEach(i -&gt; {\n                    synchronized (mutexFactory.getMutex(id)) {\n                        count[0]++;\n                    }\n                });\n        await().atMost(5, TimeUnit.SECONDS)\n                .until(() -&gt; count[0] == THREAD_COUNT);\n        Assert.assertEquals(count[0], THREAD_COUNT);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12262431,"reputation":11,"user_id":8949741,"display_name":"N Sharma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659636691,"creation_date":1659636580,"answer_id":73240529,"question_id":12450402,"body_markdown":"Just extending on to [Triet Doan&#39;s answer][1], we also need to take care of if the MutexFactory can be used at multiple places, as with currently suggested code we will end up with same MutexFactory at all places of its usage.\r\nFor example:-\r\n\r\n    @Autowired\r\n    MutexFactory&lt;CustomObject1&gt; mutexFactory1;\r\n    \r\n    @Autowired\r\n    MutexFactory&lt;CustomObject2&gt; mutexFactory2;\r\n\r\nBoth **mutexFactory1** &amp; **mutexFactory2** will refer to the same instance of factory even if their type differs, this is due to the fact that a single instance of MutexFactory is created by spring during application startup and same is used for both **mutexFactory1** &amp; **mutexFactory2**.\r\n\r\nSo here is the extra ***Scope*** annotation that needs to be put in to avoid above case-\r\n\r\n    @Component\r\n    @Scope(ConfigurableBeanFactory.SCOPE_PROTOTYPE)\r\n    public class MutexFactory&lt;K&gt; {\r\n\r\n    private ConcurrentReferenceHashMap&lt;K, Object&gt; map;\r\n\r\n    public MutexFactory() {\r\n        this.map = new ConcurrentReferenceHashMap&lt;&gt;();\r\n    }\r\n\r\n    public Object getMutex(K key) {\r\n        return this.map.compute(key, (k, v) -&gt; v == null ? new Object() : v);\r\n    }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/55405291/8949741","title":"Java synchronizing based on a parameter (named mutex/lock)","body":"<p>Just extending on to <a href=\"https://stackoverflow.com/a/55405291/8949741\">Triet Doan's answer</a>, we also need to take care of if the MutexFactory can be used at multiple places, as with currently suggested code we will end up with same MutexFactory at all places of its usage.\nFor example:-</p>\n<pre><code>@Autowired\nMutexFactory&lt;CustomObject1&gt; mutexFactory1;\n\n@Autowired\nMutexFactory&lt;CustomObject2&gt; mutexFactory2;\n</code></pre>\n<p>Both <strong>mutexFactory1</strong> &amp; <strong>mutexFactory2</strong> will refer to the same instance of factory even if their type differs, this is due to the fact that a single instance of MutexFactory is created by spring during application startup and same is used for both <strong>mutexFactory1</strong> &amp; <strong>mutexFactory2</strong>.</p>\n<p>So here is the extra <em><strong>Scope</strong></em> annotation that needs to be put in to avoid above case-</p>\n<pre><code>@Component\n@Scope(ConfigurableBeanFactory.SCOPE_PROTOTYPE)\npublic class MutexFactory&lt;K&gt; {\n\nprivate ConcurrentReferenceHashMap&lt;K, Object&gt; map;\n\npublic MutexFactory() {\n    this.map = new ConcurrentReferenceHashMap&lt;&gt;();\n}\n\npublic Object getMutex(K key) {\n    return this.map.compute(key, (k, v) -&gt; v == null ? new Object() : v);\n}\n}\n</code></pre>\n"}],"owner":{"account_id":367804,"reputation":10671,"user_id":714211,"accept_rate":72,"display_name":"Doua Beri"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23796,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":12450424,"answer_count":9,"score":38,"last_activity_date":1659636691,"creation_date":1347826836,"question_id":12450402,"body_markdown":"I&#39;m looking for a way to synchronize a method based on the parameter it receives, something like this:\r\n\r\n    public synchronized void doSomething(name){\r\n    //some code\r\n    }\r\n\r\nI want the method `doSomething` to be synchronized based on the `name` parameter like this:\r\n\r\nThread 1: doSomething(&quot;a&quot;);\r\n\r\nThread 2: doSomething(&quot;b&quot;);\r\n\r\nThread 3: doSomething(&quot;c&quot;);\r\n\r\nThread 4: doSomething(&quot;a&quot;);\r\n\r\nThread 1 , Thread 2 and Thread 3 will execute the code without being synchronized , but Thread 4 will wait until Thread 1 has finished the code because it has the same &quot;a&quot; value.\r\n\r\n\r\nThanks\r\n\r\n\r\n\r\n\r\n**UPDATE**\r\n\r\nBased on Tudor explanation I think I&#39;m facing another problem:\r\nhere is a sample of the new code:\r\n\r\n    private HashMap locks=new HashMap();\r\n    public void doSomething(String name){\r\n        locks.put(name,new Object());\r\n        synchronized(locks.get(name)) {\r\n            // ...\r\n        }\r\n        locks.remove(name);\r\n    }\r\n\r\nThe reason why I don&#39;t populate the locks map is because name can have any value.\r\n\r\nBased on the sample above , the problem can appear when adding / deleting values from the hashmap by multiple threads in the same time, since HashMap is not thread-safe.\r\n\r\nSo my question is if I make the `HashMap` a `ConcurrentHashMap` which is thread safe, will the synchronized block stop other threads from accessing locks.get(name) ??\r\n","title":"Java synchronizing based on a parameter (named mutex/lock)","body":"<p>I'm looking for a way to synchronize a method based on the parameter it receives, something like this:</p>\n\n<pre><code>public synchronized void doSomething(name){\n//some code\n}\n</code></pre>\n\n<p>I want the method <code>doSomething</code> to be synchronized based on the <code>name</code> parameter like this:</p>\n\n<p>Thread 1: doSomething(\"a\");</p>\n\n<p>Thread 2: doSomething(\"b\");</p>\n\n<p>Thread 3: doSomething(\"c\");</p>\n\n<p>Thread 4: doSomething(\"a\");</p>\n\n<p>Thread 1 , Thread 2 and Thread 3 will execute the code without being synchronized , but Thread 4 will wait until Thread 1 has finished the code because it has the same \"a\" value.</p>\n\n<p>Thanks</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Based on Tudor explanation I think I'm facing another problem:\nhere is a sample of the new code:</p>\n\n<pre><code>private HashMap locks=new HashMap();\npublic void doSomething(String name){\n    locks.put(name,new Object());\n    synchronized(locks.get(name)) {\n        // ...\n    }\n    locks.remove(name);\n}\n</code></pre>\n\n<p>The reason why I don't populate the locks map is because name can have any value.</p>\n\n<p>Based on the sample above , the problem can appear when adding / deleting values from the hashmap by multiple threads in the same time, since HashMap is not thread-safe.</p>\n\n<p>So my question is if I make the <code>HashMap</code> a <code>ConcurrentHashMap</code> which is thread safe, will the synchronized block stop other threads from accessing locks.get(name) ??</p>\n"},{"tags":["java","opencv","contour"],"answers":[{"tags":[],"owner":{"account_id":5478073,"reputation":1,"user_id":4355518,"display_name":"Alexander Borisenko"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1418820701,"creation_date":1418819476,"answer_id":27525709,"question_id":27082222,"body_markdown":"I know the answer, play with values of:\r\n\r\n\tScalar lowerThreshold = new Scalar (h1, s1, v1);\r\n\tScalar upperThreshold = new Scalar (h2, s2, v2);\r\n","title":"OpenCV drawContours issue","body":"<p>I know the answer, play with values of:</p>\n\n<pre><code>Scalar lowerThreshold = new Scalar (h1, s1, v1);\nScalar upperThreshold = new Scalar (h2, s2, v2);\n</code></pre>\n"}],"owner":{"account_id":5094398,"reputation":1,"user_id":4086297,"display_name":"Charizard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":636,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659636629,"creation_date":1416688376,"question_id":27082222,"body_markdown":"I&#39;m using OpenCV (Java) with Eclipse Luna. I&#39;m having an issue with the drawContours method.\r\nThe code has no errors, but when I go to run it the image loads, but there are no visible countours.    \r\nImage class:\r\n\r\n\r\n\r\n\r\n\r\n\r\n\tpublic static void main(String[] args){\r\n\t\tSystem.loadLibrary(Core.NATIVE_LIBRARY_NAME);\r\n\t\tMat m = Highgui.imread(&quot;C:/Users/MyName/Desktop/shapes.png&quot;, Highgui.CV_LOAD_IMAGE_COLOR);\r\n\t\tMat hsv = new Mat();\r\n\t\tMat mask = new Mat();\r\n\t\tMat dilmask = new Mat();\r\n\t\tMat fin = new Mat();\r\n\t\tScalar color = new Scalar(239, 117, 94);\r\n\t\tList&lt;MatOfPoint&gt; contours = new ArrayList&lt;MatOfPoint&gt;();\r\n\t\tImgproc.cvtColor(m, hsv, Imgproc.COLOR_RGB2HSV);\r\n\t\tnew LoadImage(&quot;C:/Users/MyName/Desktop/shapes2.png&quot;, m);\r\n\t\tScalar lowerThreshold = new Scalar ( 120, 100, 100 );\r\n\t\tScalar upperThreshold = new Scalar ( 179, 255, 255 );\r\n\t\tCore.inRange (hsv, lowerThreshold , upperThreshold, mask);\r\n\t\tImgproc.dilate ( mask, dilmask, new Mat() );\r\n\t\tImgproc.findContours(dilmask, contours, new Mat(), Imgproc.RETR_LIST, Imgproc.CHAIN_APPROX_SIMPLE);\r\n\t\t//Imgproc.drawContours(fin, contours, -1, color, 0);\r\n\t\t for ( int contourIdx=0; contourIdx &lt; contours.size(); contourIdx++ )\r\n\t\t  {\r\n\t\t     if(contours.size()&gt;10)  // Minimum size allowed for consideration\r\n\t\t     { \r\n\t\t         Imgproc.drawContours ( fin, contours, contourIdx, color, 3);\r\n\t\t     }\r\n\t\t  }\r\n\t\t//Highgui.imwrite(&quot;C:/Users/MyName/Desktop/shapes2.png&quot;, fin);\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t}\r\n \r\n}\r\n\r\nLoadImage class (not really important, just makes a frame to display the image):    \r\n\r\n    public class LoadImage extends JFrame{\r\n\tpublic LoadImage(String imgStr,Mat m)\r\n\t{\r\n\tHighgui.imwrite(imgStr,m);\r\n\tJFrame frame = new JFrame(&quot;My GUI&quot;);\r\n\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t \r\n\tframe.setResizable(true);\r\n\tframe.setLocationRelativeTo(null);\r\n\t \r\n\t// Inserts the image icon\r\n\tImageIcon image = new ImageIcon(imgStr);\r\n\tframe.setSize(image.getIconWidth()+10,image.getIconHeight()+35);\r\n\t// Draw the Image data into the BufferedImage\r\n\tJLabel label1 = new JLabel(&quot; &quot;, image, JLabel.CENTER);\r\n\tframe.getContentPane().add(label1);\r\n\t \r\n\tframe.validate();\r\n\tframe.setVisible(true);}\r\n\t \r\n\t  \r\n\t \r\n\t}\r\n[Input image][1]\r\n\r\nIt&#39;s probably a simple fix, but I can&#39;t find anything about it.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PbJR0.jpg","title":"OpenCV drawContours issue","body":"<p>I'm using OpenCV (Java) with Eclipse Luna. I'm having an issue with the drawContours method.\nThe code has no errors, but when I go to run it the image loads, but there are no visible countours.<br>\nImage class:</p>\n\n<pre><code>public static void main(String[] args){\n    System.loadLibrary(Core.NATIVE_LIBRARY_NAME);\n    Mat m = Highgui.imread(\"C:/Users/MyName/Desktop/shapes.png\", Highgui.CV_LOAD_IMAGE_COLOR);\n    Mat hsv = new Mat();\n    Mat mask = new Mat();\n    Mat dilmask = new Mat();\n    Mat fin = new Mat();\n    Scalar color = new Scalar(239, 117, 94);\n    List&lt;MatOfPoint&gt; contours = new ArrayList&lt;MatOfPoint&gt;();\n    Imgproc.cvtColor(m, hsv, Imgproc.COLOR_RGB2HSV);\n    new LoadImage(\"C:/Users/MyName/Desktop/shapes2.png\", m);\n    Scalar lowerThreshold = new Scalar ( 120, 100, 100 );\n    Scalar upperThreshold = new Scalar ( 179, 255, 255 );\n    Core.inRange (hsv, lowerThreshold , upperThreshold, mask);\n    Imgproc.dilate ( mask, dilmask, new Mat() );\n    Imgproc.findContours(dilmask, contours, new Mat(), Imgproc.RETR_LIST, Imgproc.CHAIN_APPROX_SIMPLE);\n    //Imgproc.drawContours(fin, contours, -1, color, 0);\n     for ( int contourIdx=0; contourIdx &lt; contours.size(); contourIdx++ )\n      {\n         if(contours.size()&gt;10)  // Minimum size allowed for consideration\n         { \n             Imgproc.drawContours ( fin, contours, contourIdx, color, 3);\n         }\n      }\n    //Highgui.imwrite(\"C:/Users/MyName/Desktop/shapes2.png\", fin);\n\n\n\n}\n</code></pre>\n\n<p>}</p>\n\n<p>LoadImage class (not really important, just makes a frame to display the image):    </p>\n\n<pre><code>public class LoadImage extends JFrame{\npublic LoadImage(String imgStr,Mat m)\n{\nHighgui.imwrite(imgStr,m);\nJFrame frame = new JFrame(\"My GUI\");\nframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\nframe.setResizable(true);\nframe.setLocationRelativeTo(null);\n\n// Inserts the image icon\nImageIcon image = new ImageIcon(imgStr);\nframe.setSize(image.getIconWidth()+10,image.getIconHeight()+35);\n// Draw the Image data into the BufferedImage\nJLabel label1 = new JLabel(\" \", image, JLabel.CENTER);\nframe.getContentPane().add(label1);\n\nframe.validate();\nframe.setVisible(true);}\n\n\n\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/PbJR0.jpg\" rel=\"nofollow\">Input image</a></p>\n\n<p>It's probably a simple fix, but I can't find anything about it.</p>\n"},{"tags":["java","docker","kubernetes","jenkins","istio"],"owner":{"account_id":13460317,"reputation":69,"user_id":9712595,"display_name":"Vetements"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":807,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659636478,"creation_date":1659636478,"question_id":73240515,"body_markdown":"racking my brain trying to figure out an issue with Jenkins getting a connection refusal when trying to connect to slave nodes \r\n\r\n```\r\nINFO: Using /home/jenkins/agent/remoting as a remoting work directory\r\nAug 02, 2022 7:34:18 AM org.jenkinsci.remoting.engine.WorkDirManager setupLogging\r\nINFO: Both error and output logs will be printed to /home/jenkins/agent/remoting\r\nAug 02, 2022 7:34:18 AM hudson.remoting.jnlp.Main$CuiListener status\r\nINFO: Locating server among [http://&lt;jenkins-url&gt;.com/]\r\nAug 02, 2022 7:34:18 AM hudson.remoting.jnlp.Main$CuiListener error\r\nSEVERE: Failed to connect to http://&lt;jenkins-url&gt;.com/tcpSlaveAgentListener/: Connection refused (Connection refused)\r\njava.io.IOException: Failed to connect to http://&lt;jenkins-url&gt;.com/tcpSlaveAgentListener/: Connection refused (Connection refused)\r\n at org.jenkinsci.remoting.engine.JnlpAgentEndpointResolver.resolve(JnlpAgentEndpointResolver.java:214)\r\n at hudson.remoting.Engine.innerRun(Engine.java:724)\r\n at hudson.remoting.Engine.run(Engine.java:540)\r\nCaused by: java.net.ConnectException: Connection refused (Connection refused)\r\n at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\r\n at java.base/java.net.AbstractPlainSocketImpl.doConnect(Unknown Source)\r\n at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(Unknown Source)\r\n at java.base/java.net.AbstractPlainSocketImpl.connect(Unknown Source)\r\n at java.base/java.net.Socket.connect(Unknown Source)\r\n at java.base/sun.net.NetworkClient.doConnect(Unknown Source)\r\n at java.base/sun.net.www.http.HttpClient.openServer(Unknown Source)\r\n at java.base/sun.net.www.http.HttpClient.openServer(Unknown Source)\r\n at java.base/sun.net.www.http.HttpClient.&lt;init&gt;(Unknown Source)\r\n at java.base/sun.net.www.http.HttpClient.New(Unknown Source)\r\n at java.base/sun.net.www.http.HttpClient.New(Unknown Source)\r\n at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(Unknown Source)\r\n at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(Unknown Source)\r\n at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(Unknown Source)\r\n at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(Unknown Source)\r\n at org.jenkinsci.remoting.engine.JnlpAgentEndpointResolver.resolve(JnlpAgentEndpointResolver.java:211)\r\n ... 2 more\r\n```\r\n\r\nURL and Tunnel are both configured per https://github.com/jenkinsci/docker/issues/788\r\n\r\n![config](https://i.stack.imgur.com/V033T.jpg)\r\n\r\n\r\nWhat I suspect\r\n-----------------\r\n\r\nPer https://github.com/jenkinsci/docker-inbound-agent/issues/146 the issue may be related to envoy proxy taking time to set things up and JNLP container fails before set up is complete\r\n\r\n\r\nPossible Solutions\r\n-----------------\r\n\r\n* Custom JNLP image with some retry logic and longer timeout?\r\n\r\n\r\nAnyone have any insight to what is causing the connection refusal or where to poke around to get more information\r\n\r\n\r\nreferenced github links from this question:\r\nhttps://stackoverflow.com/questions/65643684/jenkins-on-kubernetes-jnlp-failed-to-connect-to-jenkins-example-de50000\r\n","title":"JNLP Issues when connecting Jenkins to workers - Connection Refusal","body":"<p>racking my brain trying to figure out an issue with Jenkins getting a connection refusal when trying to connect to slave nodes</p>\n<pre><code>INFO: Using /home/jenkins/agent/remoting as a remoting work directory\nAug 02, 2022 7:34:18 AM org.jenkinsci.remoting.engine.WorkDirManager setupLogging\nINFO: Both error and output logs will be printed to /home/jenkins/agent/remoting\nAug 02, 2022 7:34:18 AM hudson.remoting.jnlp.Main$CuiListener status\nINFO: Locating server among [http://&lt;jenkins-url&gt;.com/]\nAug 02, 2022 7:34:18 AM hudson.remoting.jnlp.Main$CuiListener error\nSEVERE: Failed to connect to http://&lt;jenkins-url&gt;.com/tcpSlaveAgentListener/: Connection refused (Connection refused)\njava.io.IOException: Failed to connect to http://&lt;jenkins-url&gt;.com/tcpSlaveAgentListener/: Connection refused (Connection refused)\n at org.jenkinsci.remoting.engine.JnlpAgentEndpointResolver.resolve(JnlpAgentEndpointResolver.java:214)\n at hudson.remoting.Engine.innerRun(Engine.java:724)\n at hudson.remoting.Engine.run(Engine.java:540)\nCaused by: java.net.ConnectException: Connection refused (Connection refused)\n at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\n at java.base/java.net.AbstractPlainSocketImpl.doConnect(Unknown Source)\n at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(Unknown Source)\n at java.base/java.net.AbstractPlainSocketImpl.connect(Unknown Source)\n at java.base/java.net.Socket.connect(Unknown Source)\n at java.base/sun.net.NetworkClient.doConnect(Unknown Source)\n at java.base/sun.net.www.http.HttpClient.openServer(Unknown Source)\n at java.base/sun.net.www.http.HttpClient.openServer(Unknown Source)\n at java.base/sun.net.www.http.HttpClient.&lt;init&gt;(Unknown Source)\n at java.base/sun.net.www.http.HttpClient.New(Unknown Source)\n at java.base/sun.net.www.http.HttpClient.New(Unknown Source)\n at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(Unknown Source)\n at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(Unknown Source)\n at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(Unknown Source)\n at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(Unknown Source)\n at org.jenkinsci.remoting.engine.JnlpAgentEndpointResolver.resolve(JnlpAgentEndpointResolver.java:211)\n ... 2 more\n</code></pre>\n<p>URL and Tunnel are both configured per <a href=\"https://github.com/jenkinsci/docker/issues/788\" rel=\"nofollow noreferrer\">https://github.com/jenkinsci/docker/issues/788</a></p>\n<p><img src=\"https://i.stack.imgur.com/V033T.jpg\" alt=\"config\" /></p>\n<h2>What I suspect</h2>\n<p>Per <a href=\"https://github.com/jenkinsci/docker-inbound-agent/issues/146\" rel=\"nofollow noreferrer\">https://github.com/jenkinsci/docker-inbound-agent/issues/146</a> the issue may be related to envoy proxy taking time to set things up and JNLP container fails before set up is complete</p>\n<h2>Possible Solutions</h2>\n<ul>\n<li>Custom JNLP image with some retry logic and longer timeout?</li>\n</ul>\n<p>Anyone have any insight to what is causing the connection refusal or where to poke around to get more information</p>\n<p>referenced github links from this question:\n<a href=\"https://stackoverflow.com/questions/65643684/jenkins-on-kubernetes-jnlp-failed-to-connect-to-jenkins-example-de50000\">Jenkins on Kubernetes JNLP Failed to connect to jenkins.example.de:50000</a></p>\n"},{"tags":["java","android","android-videoview"],"comments":[{"owner":{"account_id":16445373,"reputation":613,"user_id":11880323,"display_name":"cmak"},"score":0,"creation_date":1659434840,"post_id":73205583,"comment_id":129288677,"body_markdown":"Nowadays it&#39;s better to use ExoPlayer, only use VideoView if you want to setup something quickly.","body":"Nowadays it&#39;s better to use ExoPlayer, only use VideoView if you want to setup something quickly."},{"owner":{"account_id":19885834,"reputation":173,"user_id":14568825,"display_name":"Aisha Kumari"},"score":0,"creation_date":1659435055,"post_id":73205583,"comment_id":129288739,"body_markdown":"yes I know exoplayer is better but I can&#39;t understand after setting an uri to videoView why it dosen&#39;t play? @cmak","body":"yes I know exoplayer is better but I can&#39;t understand after setting an uri to videoView why it dosen&#39;t play? @cmak"},{"owner":{"account_id":16445373,"reputation":613,"user_id":11880323,"display_name":"cmak"},"score":0,"creation_date":1659435667,"post_id":73205583,"comment_id":129288961,"body_markdown":"@AishaKumari if you&#39;re targeting new android APIs you&#39;ll have to use Scoped Storage or get the manage files permission","body":"@AishaKumari if you&#39;re targeting new android APIs you&#39;ll have to use Scoped Storage or get the manage files permission"},{"owner":{"account_id":19885834,"reputation":173,"user_id":14568825,"display_name":"Aisha Kumari"},"score":0,"creation_date":1659435912,"post_id":73205583,"comment_id":129289055,"body_markdown":"can you please show me an example, if you can @cmak","body":"can you please show me an example, if you can @cmak"}],"answers":[{"tags":[],"owner":{"account_id":16445373,"reputation":613,"user_id":11880323,"display_name":"cmak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659636420,"creation_date":1659636420,"answer_id":73240505,"question_id":73205583,"body_markdown":"With scoped storage (required from API 30) you can&#39;t access files directly unless you request the `MANAGE_EXTERNAL_STORAGE` (on Google Play you need to request it to Google).\r\n\r\nThe new way is to use the file uri. You can try those ways:\r\n\r\n 1. Ask the user to select the file.\r\n```\r\nprivate final ActivityResultLauncher&lt;String[]&gt; openDoc =\r\n    registerForActivityResult(new ActivityResultContracts.OpenDocument(),\r\n      new ActivityResultCallback&lt;Uri&gt;() {\r\n        @Override\r\n        public void onActivityResult(Uri uri) {\r\n          // use uri\r\n        }\r\n      });\r\n```\r\n\r\nCall it with:\r\n\r\n```\r\n// Use the mimetype you want (optional). Like &quot;text/plain&quot;\r\nopenDoc.launch(new String[]{&quot;text/plain&quot;});\r\n```\r\n\r\nRead more [here][1]\r\n\r\n 2. Get the Media file uri with MediaStore\r\n\r\nRead more [here][2]\r\n\r\nYou&#39;ll also need the `READ_EXTERNAL_STORAGE` permission if the file was not created by your app.\r\n\r\n  [1]: https://developer.android.com/training/data-storage/shared/documents-files#java\r\n  [2]: https://developer.android.com/training/data-storage/shared/media\r\n","title":"Can&#39;t play video in videoview android studio?","body":"<p>With scoped storage (required from API 30) you can't access files directly unless you request the <code>MANAGE_EXTERNAL_STORAGE</code> (on Google Play you need to request it to Google).</p>\n<p>The new way is to use the file uri. You can try those ways:</p>\n<ol>\n<li>Ask the user to select the file.</li>\n</ol>\n<pre><code>private final ActivityResultLauncher&lt;String[]&gt; openDoc =\n    registerForActivityResult(new ActivityResultContracts.OpenDocument(),\n      new ActivityResultCallback&lt;Uri&gt;() {\n        @Override\n        public void onActivityResult(Uri uri) {\n          // use uri\n        }\n      });\n</code></pre>\n<p>Call it with:</p>\n<pre><code>// Use the mimetype you want (optional). Like &quot;text/plain&quot;\nopenDoc.launch(new String[]{&quot;text/plain&quot;});\n</code></pre>\n<p>Read more <a href=\"https://developer.android.com/training/data-storage/shared/documents-files#java\" rel=\"nofollow noreferrer\">here</a></p>\n<ol start=\"2\">\n<li>Get the Media file uri with MediaStore</li>\n</ol>\n<p>Read more <a href=\"https://developer.android.com/training/data-storage/shared/media\" rel=\"nofollow noreferrer\">here</a></p>\n<p>You'll also need the <code>READ_EXTERNAL_STORAGE</code> permission if the file was not created by your app.</p>\n"}],"owner":{"account_id":19885834,"reputation":173,"user_id":14568825,"display_name":"Aisha Kumari"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":696,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73240505,"answer_count":1,"score":0,"last_activity_date":1659636420,"creation_date":1659434415,"question_id":73205583,"body_markdown":"I know that there is too many solutions were given, but I can&#39;t get the exact solution. My problem is that I have picked one video from internal storage device and after picking video then I have converted to String and set the video to videoView but then also it shows that &quot;Can&#39;t play this video&quot; in videoView.\r\n\r\ncan anyone please help me to find out the solution :(\r\n\r\nhere is my code\r\n\r\n          File file = new File(Environment.getExternalStorageDirectory().getAbsolutePath()+&quot;/Download/videos.mp4&quot;);\r\n        Log.d(&quot;video&quot;,&quot;&quot;+file);\r\n        if (file.exists()) {\r\n            Uri uri = Uri.fromFile(file);\r\n            String video = String.valueOf(uri);\r\n            Log.d(&quot;video&quot;,&quot;&quot;+uri);\r\n            videoView.setMediaController(new MediaController(this));\r\n            videoView.setVideoURI(Uri.parse(video));\r\n            videoView.requestFocus();\r\n            videoView.start();\r\n        }else {\r\n            Toast.makeText(this, &quot;No video found&quot;, Toast.LENGTH_SHORT).show();\r\n        }","title":"Can&#39;t play video in videoview android studio?","body":"<p>I know that there is too many solutions were given, but I can't get the exact solution. My problem is that I have picked one video from internal storage device and after picking video then I have converted to String and set the video to videoView but then also it shows that &quot;Can't play this video&quot; in videoView.</p>\n<p>can anyone please help me to find out the solution :(</p>\n<p>here is my code</p>\n<pre><code>      File file = new File(Environment.getExternalStorageDirectory().getAbsolutePath()+&quot;/Download/videos.mp4&quot;);\n    Log.d(&quot;video&quot;,&quot;&quot;+file);\n    if (file.exists()) {\n        Uri uri = Uri.fromFile(file);\n        String video = String.valueOf(uri);\n        Log.d(&quot;video&quot;,&quot;&quot;+uri);\n        videoView.setMediaController(new MediaController(this));\n        videoView.setVideoURI(Uri.parse(video));\n        videoView.requestFocus();\n        videoView.start();\n    }else {\n        Toast.makeText(this, &quot;No video found&quot;, Toast.LENGTH_SHORT).show();\n    }\n</code></pre>\n"},{"tags":["java","opencv","contour","android"],"comments":[{"owner":{"account_id":3662575,"reputation":22463,"user_id":3051961,"accept_rate":17,"display_name":"ZdaR"},"score":0,"creation_date":1470295640,"post_id":38759925,"comment_id":64893917,"body_markdown":"Yes it is surely possible, can you define more precisely what do you mean by largest contour ? Do you wish to find the contour with largest area (white pixels) or you just need the contour with maximum area of it&#39;s  `boundingRect()`.","body":"Yes it is surely possible, can you define more precisely what do you mean by largest contour ? Do you wish to find the contour with largest area (white pixels) or you just need the contour with maximum area of it&#39;s  <code>boundingRect()</code>."},{"owner":{"account_id":8880169,"reputation":85,"user_id":6630629,"display_name":"Bagus W"},"score":0,"creation_date":1470324067,"post_id":38759925,"comment_id":64914183,"body_markdown":"@ZadR i want to show the biggest of bounding box. hopefully u can help me. sory,but im new at this.","body":"@ZadR i want to show the biggest of bounding box. hopefully u can help me. sory,but im new at this."}],"answers":[{"tags":[],"owner":{"account_id":7564773,"reputation":1664,"user_id":5740834,"accept_rate":100,"display_name":"Dainius Šaltenis"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1470306082,"creation_date":1470306082,"answer_id":38764701,"question_id":38759925,"body_markdown":"With function `Imgproc.contourArea` you can just simply find the areas of all of your contours and the contour with the largest area would simply be the largest one.\r\n\r\nCode to draw the largest contour would be like this:\r\n\r\n    double maxVal = 0;\r\n    int maxValIdx = 0;\r\n    for (int contourIdx = 0; contourIdx &lt; contours.size(); contourIdx++)\r\n    {\r\n        double contourArea = Imgproc.contourArea(contours.get(contourIdx));\r\n        if (maxVal &lt; contourArea)\r\n        {\r\n            maxVal = contourArea;\r\n            maxValIdx = contourIdx;\r\n        }\r\n    }\r\n\r\n    Imgproc.drawContours(mRgba, contours, maxValIdx, new Scalar(0,255,0), 5);","title":"how to find largest contour in java opencv","body":"<p>With function <code>Imgproc.contourArea</code> you can just simply find the areas of all of your contours and the contour with the largest area would simply be the largest one.</p>\n\n<p>Code to draw the largest contour would be like this:</p>\n\n<pre><code>double maxVal = 0;\nint maxValIdx = 0;\nfor (int contourIdx = 0; contourIdx &lt; contours.size(); contourIdx++)\n{\n    double contourArea = Imgproc.contourArea(contours.get(contourIdx));\n    if (maxVal &lt; contourArea)\n    {\n        maxVal = contourArea;\n        maxValIdx = contourIdx;\n    }\n}\n\nImgproc.drawContours(mRgba, contours, maxValIdx, new Scalar(0,255,0), 5);\n</code></pre>\n"}],"owner":{"account_id":8880169,"reputation":85,"user_id":6630629,"display_name":"Bagus W"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8580,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":38764701,"answer_count":1,"score":5,"last_activity_date":1659636068,"creation_date":1470292010,"question_id":38759925,"body_markdown":"I have used find contours and boundingrect and display it at my project. then I want to find the largest contours and display it. Is this possible? I am newbie to OpenCV java lang.\r\n\r\nheres my code so far:\r\n\r\n    \r\n    @Override\r\n    public void onCameraViewStarted(int width, int height) {\r\n        mRgba = new Mat(height, width, CvType.CV_8UC4);\r\n        mHsv = new Mat(height,width,CvType.CV_8UC3);\r\n        hierarchy = new Mat();\r\n        mHsvMask = new Mat();\r\n        mDilated = new Mat();\r\n        mEroded = new Mat();\r\n    }\r\n\r\n    @Override\r\n    public void onCameraViewStopped() {\r\n        mRgba.release();\r\n        mHsv.release();\r\n        mHsvMask.release();\r\n        mDilated.release();\r\n        hierarchy.release();\r\n\r\n    }\r\n\r\n    @Override\r\n    public Mat onCameraFrame(CameraBridgeViewBase.CvCameraViewFrame inputFrame) {\r\n\r\n        mRgba =inputFrame.rgba();\r\n        contours = new ArrayList&lt;MatOfPoint&gt;();\r\n        hierarchy =new Mat();\r\n        mHsv = new Mat();\r\n        mHsvMask =new Mat();\r\n\r\n        Imgproc.cvtColor(mRgba, mHsv, Imgproc.COLOR_RGB2HSV);\r\n\r\n        Scalar lowerThreshold = new Scalar ( 0, 0, 0 ); // Blue color – lower hsv values\r\n        Scalar upperThreshold = new Scalar ( 179, 255, 10 ); // Blue color – higher hsv values\r\n        Core.inRange ( mHsv, lowerThreshold , upperThreshold, mHsvMask );\r\n         \r\n         //just some filter\r\n       //Imgproc.dilate ( mHsvMask, mDilated, new Mat() );\r\n        //Imgproc.erode(mDilated,mEroded,new Mat());\r\n\r\n\r\n        Imgproc.findContours(mHsvMask, contours, hierarchy, Imgproc.RETR_TREE, Imgproc.CHAIN_APPROX_SIMPLE);\r\n\r\n        for ( int contourIdx=0; contourIdx &lt; contours.size(); contourIdx++ )\r\n        {\r\n            //Minimun size allowed for consideration\r\n            MatOfPoint2f approxCurve = new MatOfPoint2f();\r\n            MatOfPoint2f contour2f = new MatOfPoint2f(contours.get(contourIdx).toArray());\r\n\r\n          //Processing on mMOP2f1 which is in type MatOfPoint2f\r\n            double approxDistance = Imgproc.arcLength(contour2f,true)*0.02;\r\n            Imgproc.approxPolyDP(contour2f,approxCurve,approxDistance,true);\r\n\r\n            //convert to MatofPoint\r\n            MatOfPoint point = new MatOfPoint(approxCurve.toArray());\r\n\r\n            //get boundingrect from contour\r\n            Rect rect = Imgproc.boundingRect(point);\r\n\r\n            Imgproc.rectangle(mRgba,new Point(rect.x, rect.y), new Point(rect.x + rect.width, rect.y + rect.height), new Scalar(255, 0, 0, 255),3);\r\n            //bisa Imgproc.rectangle(mRgba, rect.tl(), rect.br(), new Scalar(255, 0, 0),1, 8,0);\r\n\r\n\r\n            //show contour kontur\r\n            if(Imgproc.contourArea(contours.get(contourIdx))&gt;100) {\r\n                Imgproc.drawContours(mRgba, contours, contourIdx, new Scalar(0,255,0), 5);\r\n            }\r\n        }\r\n        return mRgba;\r\n\r\n\r\nHopefully, someone has some experience in this. Thanks..\r\n\r\n","title":"how to find largest contour in java opencv","body":"<p>I have used find contours and boundingrect and display it at my project. then I want to find the largest contours and display it. Is this possible? I am newbie to OpenCV java lang.</p>\n\n<p>heres my code so far:</p>\n\n<pre><code>@Override\npublic void onCameraViewStarted(int width, int height) {\n    mRgba = new Mat(height, width, CvType.CV_8UC4);\n    mHsv = new Mat(height,width,CvType.CV_8UC3);\n    hierarchy = new Mat();\n    mHsvMask = new Mat();\n    mDilated = new Mat();\n    mEroded = new Mat();\n}\n\n@Override\npublic void onCameraViewStopped() {\n    mRgba.release();\n    mHsv.release();\n    mHsvMask.release();\n    mDilated.release();\n    hierarchy.release();\n\n}\n\n@Override\npublic Mat onCameraFrame(CameraBridgeViewBase.CvCameraViewFrame inputFrame) {\n\n    mRgba =inputFrame.rgba();\n    contours = new ArrayList&lt;MatOfPoint&gt;();\n    hierarchy =new Mat();\n    mHsv = new Mat();\n    mHsvMask =new Mat();\n\n    Imgproc.cvtColor(mRgba, mHsv, Imgproc.COLOR_RGB2HSV);\n\n    Scalar lowerThreshold = new Scalar ( 0, 0, 0 ); // Blue color – lower hsv values\n    Scalar upperThreshold = new Scalar ( 179, 255, 10 ); // Blue color – higher hsv values\n    Core.inRange ( mHsv, lowerThreshold , upperThreshold, mHsvMask );\n\n     //just some filter\n   //Imgproc.dilate ( mHsvMask, mDilated, new Mat() );\n    //Imgproc.erode(mDilated,mEroded,new Mat());\n\n\n    Imgproc.findContours(mHsvMask, contours, hierarchy, Imgproc.RETR_TREE, Imgproc.CHAIN_APPROX_SIMPLE);\n\n    for ( int contourIdx=0; contourIdx &lt; contours.size(); contourIdx++ )\n    {\n        //Minimun size allowed for consideration\n        MatOfPoint2f approxCurve = new MatOfPoint2f();\n        MatOfPoint2f contour2f = new MatOfPoint2f(contours.get(contourIdx).toArray());\n\n      //Processing on mMOP2f1 which is in type MatOfPoint2f\n        double approxDistance = Imgproc.arcLength(contour2f,true)*0.02;\n        Imgproc.approxPolyDP(contour2f,approxCurve,approxDistance,true);\n\n        //convert to MatofPoint\n        MatOfPoint point = new MatOfPoint(approxCurve.toArray());\n\n        //get boundingrect from contour\n        Rect rect = Imgproc.boundingRect(point);\n\n        Imgproc.rectangle(mRgba,new Point(rect.x, rect.y), new Point(rect.x + rect.width, rect.y + rect.height), new Scalar(255, 0, 0, 255),3);\n        //bisa Imgproc.rectangle(mRgba, rect.tl(), rect.br(), new Scalar(255, 0, 0),1, 8,0);\n\n\n        //show contour kontur\n        if(Imgproc.contourArea(contours.get(contourIdx))&gt;100) {\n            Imgproc.drawContours(mRgba, contours, contourIdx, new Scalar(0,255,0), 5);\n        }\n    }\n    return mRgba;\n</code></pre>\n\n<p>Hopefully, someone has some experience in this. Thanks..</p>\n"},{"tags":["java","opencv","contour","android"],"comments":[{"owner":{"display_name":"user5766922"},"score":0,"creation_date":1473091350,"post_id":38621031,"comment_id":65999708,"body_markdown":"You can learn about open cv from some books which you can get from http://www.filtrlink.com and search for opencv in the search box","body":"You can learn about open cv from some books which you can get from <a href=\"http://www.filtrlink.com\" rel=\"nofollow noreferrer\">filtrlink.com</a> and search for opencv in the search box"}],"answers":[{"tags":[],"owner":{"display_name":"user5766922"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1469879792,"creation_date":1469879792,"answer_id":38673660,"question_id":38621031,"body_markdown":"Use the area concept \r\n\r\n     if(Imgproc.contourArea(contours.get(contourIdx))&gt;100) {\r\n                 Imgproc.drawContours(mRgba, contours, contourIdx, new Scalar(Math.random() * 255, Math.random() * 255, Math.random() * 255), 1, 8, hierarchy, 0, new Point());\r\n             }","title":"OpenCV : Contour Detection Android contourldx problems","body":"<p>Use the area concept </p>\n\n<pre><code> if(Imgproc.contourArea(contours.get(contourIdx))&gt;100) {\n             Imgproc.drawContours(mRgba, contours, contourIdx, new Scalar(Math.random() * 255, Math.random() * 255, Math.random() * 255), 1, 8, hierarchy, 0, new Point());\n         }\n</code></pre>\n"}],"owner":{"account_id":8880169,"reputation":85,"user_id":6630629,"display_name":"Bagus W"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":618,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":38673660,"answer_count":1,"score":1,"last_activity_date":1659636031,"creation_date":1469645625,"question_id":38621031,"body_markdown":"I am able to detect the Contour in an image using C++. However, I want to convert it in Android using java lang. So, i make it using android studio.\r\n(partly because I am a JAVA newbie)\r\n\r\nThen i found some problems, When i run it, i had a error problems with this code : \r\n\r\n&gt; if(contours[contourIdx].size()&gt;100)\r\n\r\nin this main program.\r\n\r\n     @Override\r\n        public void onCameraViewStarted(int width, int height) {\r\n            mRgba = new Mat(height, width, CvType.CV_8UC4);\r\n            mHsv = new Mat(height,width,CvType.CV_8UC3);\r\n            hierarchy = new Mat();\r\n            mHsvMask = new Mat();\r\n            mDilated = new Mat(height, width, CvType.CV_8UC4);\r\n        }\r\n    @Override\r\n    public void onCameraViewStopped() {\r\n        mRgba.release();\r\n        mHsv.release();\r\n        mHsvMask.release();\r\n        mDilated.release();\r\n        hierarchy.release();\r\n\r\n    }\r\n\r\n    @Override\r\n    public Mat onCameraFrame(CameraBridgeViewBase.CvCameraViewFrame inputFrame) {\r\n        mRgba =inputFrame.rgba();\r\n        mHsv = new Mat();\r\n\r\n        Imgproc.cvtColor(mRgba, mHsv, Imgproc.COLOR_RGB2HSV, 3);\r\n        hierarchy.release();\r\n        Scalar lowerThreshold = new Scalar ( 120, 100, 100 ); \r\n        Scalar upperThreshold = new Scalar ( 179, 255, 255 ); \r\n        Core.inRange ( mHsv, lowerThreshold , upperThreshold, mHsvMask );\r\n\r\n        Imgproc.dilate ( mHsvMask, mDilated, new Mat() );\r\n        Imgproc.findContours(mDilated, contours, hierarchy, Imgproc.RETR_LIST, Imgproc.CHAIN_APPROX_SIMPLE);\r\n\r\n        for ( int contourIdx=0; contourIdx &lt; contours.size(); contourIdx++ )\r\n        {\r\n            if(contours[contourIdx].size()&gt;100)  // Minimum size allowed for consideration\r\n            {\r\n                Imgproc.drawContours ( mRgba, contours, contourIdx, new Scalar(0,255,0) , -5);\r\n            }\r\n        }\r\n        return mRgba;\r\n    }\r\n    }\r\n\r\n\r\nHopefully, someone has some experience in this. Thanks..","title":"OpenCV : Contour Detection Android contourldx problems","body":"<p>I am able to detect the Contour in an image using C++. However, I want to convert it in Android using java lang. So, i make it using android studio.\n(partly because I am a JAVA newbie)</p>\n\n<p>Then i found some problems, When i run it, i had a error problems with this code : </p>\n\n<blockquote>\n  <p>if(contours[contourIdx].size()>100)</p>\n</blockquote>\n\n<p>in this main program.</p>\n\n<pre><code> @Override\n    public void onCameraViewStarted(int width, int height) {\n        mRgba = new Mat(height, width, CvType.CV_8UC4);\n        mHsv = new Mat(height,width,CvType.CV_8UC3);\n        hierarchy = new Mat();\n        mHsvMask = new Mat();\n        mDilated = new Mat(height, width, CvType.CV_8UC4);\n    }\n@Override\npublic void onCameraViewStopped() {\n    mRgba.release();\n    mHsv.release();\n    mHsvMask.release();\n    mDilated.release();\n    hierarchy.release();\n\n}\n\n@Override\npublic Mat onCameraFrame(CameraBridgeViewBase.CvCameraViewFrame inputFrame) {\n    mRgba =inputFrame.rgba();\n    mHsv = new Mat();\n\n    Imgproc.cvtColor(mRgba, mHsv, Imgproc.COLOR_RGB2HSV, 3);\n    hierarchy.release();\n    Scalar lowerThreshold = new Scalar ( 120, 100, 100 ); \n    Scalar upperThreshold = new Scalar ( 179, 255, 255 ); \n    Core.inRange ( mHsv, lowerThreshold , upperThreshold, mHsvMask );\n\n    Imgproc.dilate ( mHsvMask, mDilated, new Mat() );\n    Imgproc.findContours(mDilated, contours, hierarchy, Imgproc.RETR_LIST, Imgproc.CHAIN_APPROX_SIMPLE);\n\n    for ( int contourIdx=0; contourIdx &lt; contours.size(); contourIdx++ )\n    {\n        if(contours[contourIdx].size()&gt;100)  // Minimum size allowed for consideration\n        {\n            Imgproc.drawContours ( mRgba, contours, contourIdx, new Scalar(0,255,0) , -5);\n        }\n    }\n    return mRgba;\n}\n}\n</code></pre>\n\n<p>Hopefully, someone has some experience in this. Thanks..</p>\n"},{"tags":["java","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1548919740,"creation_date":1548919740,"answer_id":54455376,"question_id":54442415,"body_markdown":"&gt; I&#39;d like to know if there is a way to configure a PagingQueryProvider without a sort key.\r\n\r\nNo, this is not possible. The `sortKey` is mandatory to build the SQL statement. Here is an excerpt from the [reference documentation](https://docs.spring.io/spring-batch/4.1.x/reference/html/readersAndWriters.html#JdbcPagingItemReader):\r\n\r\n\r\n&gt; The SqlPagingQueryProviderFactoryBean requires that you specify a select clause and a from clause. You can also provide an optional where clause. These clauses and **the required sortKey** are used to build an SQL statement.","title":"Spring Batch: How to configure PagingQueryProvider without a SortKeys","body":"<blockquote>\n  <p>I'd like to know if there is a way to configure a PagingQueryProvider without a sort key.</p>\n</blockquote>\n\n<p>No, this is not possible. The <code>sortKey</code> is mandatory to build the SQL statement. Here is an excerpt from the <a href=\"https://docs.spring.io/spring-batch/4.1.x/reference/html/readersAndWriters.html#JdbcPagingItemReader\" rel=\"nofollow noreferrer\">reference documentation</a>:</p>\n\n<blockquote>\n  <p>The SqlPagingQueryProviderFactoryBean requires that you specify a select clause and a from clause. You can also provide an optional where clause. These clauses and <strong>the required sortKey</strong> are used to build an SQL statement.</p>\n</blockquote>\n"}],"owner":{"account_id":8071249,"reputation":58,"user_id":6083947,"display_name":"bbahaida"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5117,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":54455376,"answer_count":1,"score":2,"last_activity_date":1659635571,"creation_date":1548857103,"question_id":54442415,"body_markdown":"I&#39;m trying to configure a JdbcPagingItemReader bean and I don&#39;t know exactly the names of the columns in the table so I&#39;d like to know if there is a way to configure a PagingQueryProvider without a sort key. \r\n\r\n    @Bean\r\n    public JdbcPagingItemReader&lt;Map&lt;String, Object&gt;&gt; pagingItemReader(DataSource dataSource){\r\n        JdbcPagingItemReader&lt;Map&lt;String, Object&gt;&gt; itemReader = new JdbcPagingItemReader&lt;&gt;();\r\n        itemReader.setDataSource(dataSource);\r\n        itemReader.setQueryProvider(queryProvider());\r\n        itemReader.setPageSize(1000);\r\n\r\n        itemReader.setRowMapper(BatchConfiguration::rowMapper);\r\n\r\n        return itemReader;\r\n    }\r\n\r\n\r\n    /* This configuration throws the exception\r\n     * &#39;java.lang.IllegalArgumentException: sortKey must be specified&#39;\r\n     */\r\n    private MySqlPagingQueryProvider queryProvider(){\r\n        MySqlPagingQueryProvider queryProvider = new MySqlPagingQueryProvider();\r\n        queryProvider.setSelectClause(&quot;SELECT *&quot;);\r\n        queryProvider.setFromClause(&quot;FROM &quot;+ clientTableName);\r\n        \r\n        return queryProvider;\r\n    }","title":"Spring Batch: How to configure PagingQueryProvider without a SortKeys","body":"<p>I'm trying to configure a JdbcPagingItemReader bean and I don't know exactly the names of the columns in the table so I'd like to know if there is a way to configure a PagingQueryProvider without a sort key. </p>\n\n<pre><code>@Bean\npublic JdbcPagingItemReader&lt;Map&lt;String, Object&gt;&gt; pagingItemReader(DataSource dataSource){\n    JdbcPagingItemReader&lt;Map&lt;String, Object&gt;&gt; itemReader = new JdbcPagingItemReader&lt;&gt;();\n    itemReader.setDataSource(dataSource);\n    itemReader.setQueryProvider(queryProvider());\n    itemReader.setPageSize(1000);\n\n    itemReader.setRowMapper(BatchConfiguration::rowMapper);\n\n    return itemReader;\n}\n\n\n/* This configuration throws the exception\n * 'java.lang.IllegalArgumentException: sortKey must be specified'\n */\nprivate MySqlPagingQueryProvider queryProvider(){\n    MySqlPagingQueryProvider queryProvider = new MySqlPagingQueryProvider();\n    queryProvider.setSelectClause(\"SELECT *\");\n    queryProvider.setFromClause(\"FROM \"+ clientTableName);\n\n    return queryProvider;\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","kotlin","resttemplate"],"comments":[{"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"score":1,"creation_date":1659612827,"post_id":73235190,"comment_id":129338753,"body_markdown":"You are sending your body as a String (arrayNode.joinToString()) and that&#39;s why you see quotes","body":"You are sending your body as a String (arrayNode.joinToString()) and that&#39;s why you see quotes"}],"answers":[{"tags":[],"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659635396,"creation_date":1659615214,"answer_id":73235768,"question_id":73235190,"body_markdown":"In the comments I explained the reason why you see quotes in your request body.   \r\nHere is the code you can use to send body without quotes:\r\n\r\n      Map&lt;String, List&gt; req = new HashMap&lt;&gt;();\r\n                List list = new ArrayList&lt;&gt;();\r\n                list.add(1);\r\n                list.add(124);\r\n                list.add(&quot;A&quot;);\r\n                req.put(&quot;params&quot;, list);\r\n                HttpEntity&lt;Map&gt; request = new HttpEntity&lt;&gt;(req, headers);        \r\n                ResponseEntity&lt;String&gt; result = restTemplate.postForEntity(uri, request, String.class);\r\n\r\nUsing this code, your request body should look like this:\r\n\r\n    &quot;params&quot;: [1, 124, &quot;ABC&quot;]","title":"Spring Rest Template remove quotes from request body in array","body":"<p>In the comments I explained the reason why you see quotes in your request body.<br />\nHere is the code you can use to send body without quotes:</p>\n<pre><code>  Map&lt;String, List&gt; req = new HashMap&lt;&gt;();\n            List list = new ArrayList&lt;&gt;();\n            list.add(1);\n            list.add(124);\n            list.add(&quot;A&quot;);\n            req.put(&quot;params&quot;, list);\n            HttpEntity&lt;Map&gt; request = new HttpEntity&lt;&gt;(req, headers);        \n            ResponseEntity&lt;String&gt; result = restTemplate.postForEntity(uri, request, String.class);\n</code></pre>\n<p>Using this code, your request body should look like this:</p>\n<pre><code>&quot;params&quot;: [1, 124, &quot;ABC&quot;]\n</code></pre>\n"}],"owner":{"account_id":11384536,"reputation":127,"user_id":8346472,"accept_rate":0,"display_name":"J.Doe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":335,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73235768,"answer_count":1,"score":0,"last_activity_date":1659635396,"creation_date":1659612676,"question_id":73235190,"body_markdown":"I would like to send request with request body:\r\n```\r\n{\r\n&quot;params&quot;: [1, 124, &quot;ABC&quot;]\r\n}\r\n```\r\nMy code:\r\n```\r\n        val headers = HttpHeaders()\r\n        headers.contentType = MediaType.APPLICATION_JSON\r\n\r\n        val arrayNode = JsonArray()\r\n        arrayNode.add(1)\r\n        arrayNode.add(124)\r\n        arrayNode.add(&quot;ABC&quot;)\r\n        val map: MultiValueMap&lt;String, String&gt; = LinkedMultiValueMap()\r\n        map.add(&quot;params&quot;, arrayNode.joinToString())\r\n\r\n        val request = HttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt;(map, headers)\r\n\r\n        val response = restTemplate.postForEntity(\r\n            URL,\r\n            request,\r\n            String::class.java\r\n        )\r\n        return response.body\r\n```\r\n\r\nbut its generate request body:\r\n```\r\nRequest body: {&quot;params&quot;:[&quot;1, 124, \\&quot;A\\&quot;&quot;]}\r\n```\r\n\r\nIs there any way to send request without quotes?","title":"Spring Rest Template remove quotes from request body in array","body":"<p>I would like to send request with request body:</p>\n<pre><code>{\n&quot;params&quot;: [1, 124, &quot;ABC&quot;]\n}\n</code></pre>\n<p>My code:</p>\n<pre><code>        val headers = HttpHeaders()\n        headers.contentType = MediaType.APPLICATION_JSON\n\n        val arrayNode = JsonArray()\n        arrayNode.add(1)\n        arrayNode.add(124)\n        arrayNode.add(&quot;ABC&quot;)\n        val map: MultiValueMap&lt;String, String&gt; = LinkedMultiValueMap()\n        map.add(&quot;params&quot;, arrayNode.joinToString())\n\n        val request = HttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt;(map, headers)\n\n        val response = restTemplate.postForEntity(\n            URL,\n            request,\n            String::class.java\n        )\n        return response.body\n</code></pre>\n<p>but its generate request body:</p>\n<pre><code>Request body: {&quot;params&quot;:[&quot;1, 124, \\&quot;A\\&quot;&quot;]}\n</code></pre>\n<p>Is there any way to send request without quotes?</p>\n"},{"tags":["java","spring-boot","file","jar"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":8,"creation_date":1641389328,"post_id":70593561,"comment_id":124791505,"body_markdown":"The error isn&#39;t wrong. It isn&#39;t a `java.util.File` as it isn&#39;t a physical file on the file system it is part of a jar. You can use the `InputStream` (and should) to read it regardless of the location. There is an `OPCPackage.open` method which takes an `Inputstream`.","body":"The error isn&#39;t wrong. It isn&#39;t a <code>java.util.File</code> as it isn&#39;t a physical file on the file system it is part of a jar. You can use the <code>InputStream</code> (and should) to read it regardless of the location. There is an <code>OPCPackage.open</code> method which takes an <code>Inputstream</code>."},{"owner":{"account_id":22424740,"reputation":321,"user_id":16631531,"display_name":"joni"},"score":1,"creation_date":1641453493,"post_id":70593561,"comment_id":124809525,"body_markdown":"No, that was not the problem. However, I have solved it now. I changed my code line to the following:\n\n `code`XWPFDocument doc = new XWPFDocument(OPCPackage.open(getClass().getResourceAsStream(&quot;/assets/OPTIONS_&quot; + jubilar1.getJubiLanguage().toUpperCase() + &quot;.docx&quot;))); `code`\n\n\nI removed ResourceUtils.getFile() and used instead getClass().getResourceAsStream(). Then you can also do it without classpath:.","body":"No, that was not the problem. However, I have solved it now. I changed my code line to the following:   <code>code</code>XWPFDocument doc = new XWPFDocument(OPCPackage.open(getClass().getResourceAsStream(&zwnj;&#8203;&quot;/assets/OPTIONS_&quot; + jubilar1.getJubiLanguage().toUpperCase() + &quot;.docx&quot;))); <code>code</code>   I removed ResourceUtils.getFile() and used instead getClass().getResourceAsStream(). Then you can also do it without classpath:."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":3,"creation_date":1641454017,"post_id":70593561,"comment_id":124809669,"body_markdown":"So yes it was the problem, as you are now using an `InputStream` as I suggested. The problem was (and always has been) the `getFile` stuff. What I suggest to do is don&#39;t use what you have now but rather do a `new ClassPathResource(your location).getInputStream())` instead, it is easier, or even use a `ResourceLoader` (a Spring interface you can inject) and then use the path you had an again use `getInputStream()`.","body":"So yes it was the problem, as you are now using an <code>InputStream</code> as I suggested. The problem was (and always has been) the <code>getFile</code> stuff. What I suggest to do is don&#39;t use what you have now but rather do a <code>new ClassPathResource(your location).getInputStream())</code> instead, it is easier, or even use a <code>ResourceLoader</code> (a Spring interface you can inject) and then use the path you had an again use <code>getInputStream()</code>."}],"answers":[{"tags":[],"owner":{"account_id":22424740,"reputation":321,"user_id":16631531,"display_name":"joni"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1641458443,"creation_date":1641458443,"answer_id":70604475,"question_id":70593561,"body_markdown":"So yes it was the problem, as you are now using an InputStream as I suggested. The problem was (and always has been) the getFile stuff. What I suggest to do is don&#39;t use what you have now but rather do a new ClassPathResource(your location).getInputStream()) instead, it is easier, or even use a ResourceLoader (a Spring interface you can inject) and then use the path you had an again use getInputStream(). – \r\n","title":"Cannot be resolved to absolute file path because it does not reside in the file system","body":"<p>So yes it was the problem, as you are now using an InputStream as I suggested. The problem was (and always has been) the getFile stuff. What I suggest to do is don't use what you have now but rather do a new ClassPathResource(your location).getInputStream()) instead, it is easier, or even use a ResourceLoader (a Spring interface you can inject) and then use the path you had an again use getInputStream(). –</p>\n"},{"tags":[],"owner":{"account_id":11360299,"reputation":95,"user_id":8328637,"display_name":"Ricky Vene"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659635237,"creation_date":1659635075,"answer_id":73240238,"question_id":70593561,"body_markdown":"This works for me.\r\n```\r\n\t\tString strJson = null;\r\n\t\tClassPathResource classPathResource = new ClassPathResource(&quot;json/data.json&quot;);\r\n\t\ttry {\r\n\t\t\tbyte[] binaryData = FileCopyUtils.copyToByteArray(classPathResource.getInputStream());\r\n\t\t\tstrJson = new String(binaryData, StandardCharsets.UTF_8);\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n```\r\n","title":"Cannot be resolved to absolute file path because it does not reside in the file system","body":"<p>This works for me.</p>\n<pre><code>        String strJson = null;\n        ClassPathResource classPathResource = new ClassPathResource(&quot;json/data.json&quot;);\n        try {\n            byte[] binaryData = FileCopyUtils.copyToByteArray(classPathResource.getInputStream());\n            strJson = new String(binaryData, StandardCharsets.UTF_8);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n</code></pre>\n"}],"owner":{"account_id":22424740,"reputation":321,"user_id":16631531,"display_name":"joni"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39483,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":70604475,"answer_count":2,"score":18,"last_activity_date":1659635237,"creation_date":1641388775,"question_id":70593561,"body_markdown":"**My Code:** \r\n\r\n    XWPFDocument doc = new XWPFDocument(OPCPackage.open(ResourceUtils.getFile(&quot;classpath:assets/OPTIONS_&quot; + jubilar1.getJubiLanguage().toUpperCase() + &quot;.docx&quot;)));\r\n\r\nI have already tried instead of .getFile(), extractJarFileFromURL or resource.getInputStream() but all this does not work. When I package my project and run it as a jar file and it tries to open the following file it always returns the following message. \r\n\r\n**Error:**\r\n\r\n&gt; java.io.FileNotFoundException: class path resource [assets/OPTIONS_DE.\r\n&gt; docx] cannot be resolved to absolute file path because it does not\r\n&gt; reside in the file system:\r\n&gt; jar:file:/home/tkf6y/IdeaProjects/hrapps/backend/target/backend-3.0.0.jar!/BOOT-INF/classes!/assets/OPTIONS_EN.docx\r\n\r\n\r\n\r\n","title":"Cannot be resolved to absolute file path because it does not reside in the file system","body":"<p><strong>My Code:</strong></p>\n<pre><code>XWPFDocument doc = new XWPFDocument(OPCPackage.open(ResourceUtils.getFile(&quot;classpath:assets/OPTIONS_&quot; + jubilar1.getJubiLanguage().toUpperCase() + &quot;.docx&quot;)));\n</code></pre>\n<p>I have already tried instead of .getFile(), extractJarFileFromURL or resource.getInputStream() but all this does not work. When I package my project and run it as a jar file and it tries to open the following file it always returns the following message.</p>\n<p><strong>Error:</strong></p>\n<blockquote>\n<p>java.io.FileNotFoundException: class path resource [assets/OPTIONS_DE.\ndocx] cannot be resolved to absolute file path because it does not\nreside in the file system:\njar:file:/home/tkf6y/IdeaProjects/hrapps/backend/target/backend-3.0.0.jar!/BOOT-INF/classes!/assets/OPTIONS_EN.docx</p>\n</blockquote>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":1,"creation_date":1471847751,"post_id":39072641,"comment_id":65493445,"body_markdown":"&quot;writing own logic&quot; in this case is the fastest way to achieve the goal. It&#39;s only 3 lines ...","body":"&quot;writing own logic&quot; in this case is the fastest way to achieve the goal. It&#39;s only 3 lines ..."},{"owner":{"account_id":79673,"reputation":40911,"user_id":225757,"accept_rate":72,"display_name":"Roland Illig"},"score":0,"creation_date":1471848531,"post_id":39072641,"comment_id":65493862,"body_markdown":"You forgot to tell _why_ you want the strings written in this way. Do you need to generate Java code, or JavaScript code, or a CSV file?","body":"You forgot to tell <i>why</i> you want the strings written in this way. Do you need to generate Java code, or JavaScript code, or a CSV file?"},{"owner":{"account_id":9052937,"reputation":421,"user_id":6742255,"accept_rate":46,"display_name":"Kathiresa"},"score":1,"creation_date":1471848635,"post_id":39072641,"comment_id":65493915,"body_markdown":"I need to pass them in a mongo DB query when using $in operator","body":"I need to pass them in a mongo DB query when using $in operator"}],"answers":[{"tags":[],"owner":{"account_id":1924671,"reputation":94541,"user_id":1735406,"accept_rate":95,"display_name":"Maroun"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1471849286,"creation_date":1471847845,"answer_id":39072721,"question_id":39072641,"body_markdown":"Simply by using [`join`](https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#join-java.lang.CharSequence-java.lang.CharSequence...-):\r\n\r\nDocs example:\r\n\r\n     String message = String.join(&quot;-&quot;, &quot;Java&quot;, &quot;is&quot;, &quot;cool&quot;);\r\n     // message returned is: &quot;Java-is-cool&quot;\r\n\r\nYou can do something like:\r\n\r\n    List&lt;String&gt; list = Arrays.asList(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;);\r\n    res = String.join(&quot;,&quot;, list).replaceAll(&quot;([^,]+)&quot;, &quot;\\&quot;$1\\&quot;&quot;);\r\n\r\n`replaceAll` accepts a regex that catches everything that&#39;s not &quot;,&quot; (your delimiter), and surrounds it with double quotes.\r\n\r\n\r\nIf your input contains a comma, you can first iterate on the arraylist and add quotes to each element, and only then use `join`.","title":"How to add double quotes automatically, converting list of strings as comma separated value","body":"<p>Simply by using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#join-java.lang.CharSequence-java.lang.CharSequence...-\" rel=\"nofollow\"><code>join</code></a>:</p>\n\n<p>Docs example:</p>\n\n<pre><code> String message = String.join(\"-\", \"Java\", \"is\", \"cool\");\n // message returned is: \"Java-is-cool\"\n</code></pre>\n\n<p>You can do something like:</p>\n\n<pre><code>List&lt;String&gt; list = Arrays.asList(\"one\", \"two\", \"three\");\nres = String.join(\",\", list).replaceAll(\"([^,]+)\", \"\\\"$1\\\"\");\n</code></pre>\n\n<p><code>replaceAll</code> accepts a regex that catches everything that's not \",\" (your delimiter), and surrounds it with double quotes.</p>\n\n<p>If your input contains a comma, you can first iterate on the arraylist and add quotes to each element, and only then use <code>join</code>.</p>\n"},{"tags":[],"owner":{"account_id":79673,"reputation":40911,"user_id":225757,"accept_rate":72,"display_name":"Roland Illig"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1471848375,"creation_date":1471848375,"answer_id":39072858,"question_id":39072641,"body_markdown":"    String joined = s.stream()\r\n        .map(plain -&gt; &#39;&quot;&#39; + StringEscapeUtils.escapeJava(plain) + &#39;&quot;&#39;)\r\n        .collect(Collectors.joining(&quot;, &quot;));\r\n\r\nThe idea is to first convert each of the strings to a properly quoted representation and then join them.\r\n\r\nYou have to decide for yourself which escaping function to use. And just in case you are generating a CSV file, you should really use some `CsvWriter` class.","title":"How to add double quotes automatically, converting list of strings as comma separated value","body":"<pre><code>String joined = s.stream()\n    .map(plain -&gt; '\"' + StringEscapeUtils.escapeJava(plain) + '\"')\n    .collect(Collectors.joining(\", \"));\n</code></pre>\n\n<p>The idea is to first convert each of the strings to a properly quoted representation and then join them.</p>\n\n<p>You have to decide for yourself which escaping function to use. And just in case you are generating a CSV file, you should really use some <code>CsvWriter</code> class.</p>\n"},{"tags":[],"owner":{"account_id":2269226,"reputation":22774,"user_id":1997093,"accept_rate":100,"display_name":"akash"},"down_vote_count":1,"up_vote_count":19,"is_accepted":true,"score":18,"last_activity_date":1471855513,"creation_date":1471848424,"answer_id":39072878,"question_id":39072641,"body_markdown":"You can do it in two steps with `StringUtils` only,\n\n    List&lt;String&gt; s = new ArrayList&lt;&gt;();\n    s.add(&quot;one&quot;);\n    s.add(&quot;two&quot;);\n    s.add(&quot;three&quot;);\n    \n    String step1 = StringUtils.join(s, &quot;\\&quot;, \\&quot;&quot;);// Join with &quot;, &quot;\n    String step2 = StringUtils.wrap(step1, &quot;\\&quot;&quot;);// Wrap step1 with &quot;\n    \n    System.out.println(step2);\n\nOutput,\n\n    &quot;one&quot;, &quot;two&quot;, &quot;three&quot;\n\n\n----------\n\n# **BUT**\n\n&gt; *I need to pass them in a mongo DB query when using $in operator*\n\nFor `mongodb` query you don&#39;t need to build it this way, specifically in case of `$in` you can query documents in following way,\n\n    BasicDBObject yourInQuery = new BasicDBObject();\n    yourInQuery.put(&quot;in_column&quot;, new BasicDBObject(&quot;$in&quot;, yourList));\n    DBCursor cursor = collection.find(yourInQuery);\n\nPlease read more about this in following link,\n\n - [Find or Query Data with Java Driver](https://docs.mongodb.com/getting-started/java/query/)","title":"How to add double quotes automatically, converting list of strings as comma separated value","body":"<p>You can do it in two steps with <code>StringUtils</code> only,</p>\n<pre><code>List&lt;String&gt; s = new ArrayList&lt;&gt;();\ns.add(&quot;one&quot;);\ns.add(&quot;two&quot;);\ns.add(&quot;three&quot;);\n\nString step1 = StringUtils.join(s, &quot;\\&quot;, \\&quot;&quot;);// Join with &quot;, &quot;\nString step2 = StringUtils.wrap(step1, &quot;\\&quot;&quot;);// Wrap step1 with &quot;\n\nSystem.out.println(step2);\n</code></pre>\n<p>Output,</p>\n<pre><code>&quot;one&quot;, &quot;two&quot;, &quot;three&quot;\n</code></pre>\n<hr />\n<h1><strong>BUT</strong></h1>\n<blockquote>\n<p><em>I need to pass them in a mongo DB query when using $in operator</em></p>\n</blockquote>\n<p>For <code>mongodb</code> query you don't need to build it this way, specifically in case of <code>$in</code> you can query documents in following way,</p>\n<pre><code>BasicDBObject yourInQuery = new BasicDBObject();\nyourInQuery.put(&quot;in_column&quot;, new BasicDBObject(&quot;$in&quot;, yourList));\nDBCursor cursor = collection.find(yourInQuery);\n</code></pre>\n<p>Please read more about this in following link,</p>\n<ul>\n<li><a href=\"https://docs.mongodb.com/getting-started/java/query/\" rel=\"noreferrer\">Find or Query Data with Java Driver</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2452403,"reputation":144,"user_id":2138350,"display_name":"Samir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599245434,"creation_date":1599245434,"answer_id":63746609,"question_id":39072641,"body_markdown":"Combining the first two answers:\r\n\r\n```\r\nvar s = new ArrayList&lt;String&gt;();\r\ns.add(&quot;one&quot;);\r\ns.add(&quot;two&quot;);\r\ns.add(&quot;three&quot;);\r\n\r\nvar resultString = s.stream()\r\n                    .map(s -&gt; StringUtils.wrap(s, &quot;\\&quot;&quot;)\r\n                    .collect(Collectors.joining(&quot;, &quot;));\r\n```\r\n\r\nNote: this uses Java 8 and apache commons.","title":"How to add double quotes automatically, converting list of strings as comma separated value","body":"<p>Combining the first two answers:</p>\n<pre><code>var s = new ArrayList&lt;String&gt;();\ns.add(&quot;one&quot;);\ns.add(&quot;two&quot;);\ns.add(&quot;three&quot;);\n\nvar resultString = s.stream()\n                    .map(s -&gt; StringUtils.wrap(s, &quot;\\&quot;&quot;)\n                    .collect(Collectors.joining(&quot;, &quot;));\n</code></pre>\n<p>Note: this uses Java 8 and apache commons.</p>\n"},{"tags":[],"owner":{"account_id":14076486,"reputation":229,"user_id":10168584,"display_name":"Jose"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642679959,"creation_date":1642679959,"answer_id":70785848,"question_id":39072641,"body_markdown":"You can solve it using **Java 8** without any third-party utility.\r\n   \r\n\r\n    String csvWithQuotes = s.stream().collect(Collectors.joining(&quot;\\&quot;,\\&quot;&quot;, &quot;\\&quot;&quot;, &quot;\\&quot;&quot;));\r\n\r\nThe logic used here is to use **&quot;,&quot;** as the separator and then prefix and suffix it with quotes.","title":"How to add double quotes automatically, converting list of strings as comma separated value","body":"<p>You can solve it using <strong>Java 8</strong> without any third-party utility.</p>\n<pre><code>String csvWithQuotes = s.stream().collect(Collectors.joining(&quot;\\&quot;,\\&quot;&quot;, &quot;\\&quot;&quot;, &quot;\\&quot;&quot;));\n</code></pre>\n<p>The logic used here is to use <strong>&quot;,&quot;</strong> as the separator and then prefix and suffix it with quotes.</p>\n"},{"tags":[],"owner":{"account_id":4764104,"reputation":9906,"user_id":3850730,"accept_rate":83,"display_name":"Sabir Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659634715,"creation_date":1659634715,"answer_id":73240184,"question_id":39072641,"body_markdown":"The old way..put this utility method , \r\n\r\n     private static final String DOUBLE_QUOTE_ESCAPED = &quot;\\&quot;&quot;;\r\n        public static final String SYMBOL_COMMA = &quot;,&quot;;\r\n        \r\n        public static String joinWithDoubleQuotedElements(List&lt;String&gt; s, String joinSymbol) {\r\n        \tStringBuilder builder = new StringBuilder();\r\n        \tint count = 1;\r\n        \tfor (String val : s) {\r\n        \t    builder.append(DOUBLE_QUOTE_ESCAPED).append(val).append(DOUBLE_QUOTE_ESCAPED);\r\n        \t    if (count != s.size()) {\r\n        \t\tbuilder.append(joinSymbol);\r\n        \t    }\r\n        \t    ++count;\r\n        \t}\r\n        \treturn builder.toString();\r\n            }\r\n\r\nCall to `joinWithDoubleQuotedElements(s, SYMBOL_COMMA)` will give you desired result. ","title":"How to add double quotes automatically, converting list of strings as comma separated value","body":"<p>The old way..put this utility method ,</p>\n<pre><code> private static final String DOUBLE_QUOTE_ESCAPED = &quot;\\&quot;&quot;;\n    public static final String SYMBOL_COMMA = &quot;,&quot;;\n    \n    public static String joinWithDoubleQuotedElements(List&lt;String&gt; s, String joinSymbol) {\n        StringBuilder builder = new StringBuilder();\n        int count = 1;\n        for (String val : s) {\n            builder.append(DOUBLE_QUOTE_ESCAPED).append(val).append(DOUBLE_QUOTE_ESCAPED);\n            if (count != s.size()) {\n            builder.append(joinSymbol);\n            }\n            ++count;\n        }\n        return builder.toString();\n        }\n</code></pre>\n<p>Call to <code>joinWithDoubleQuotedElements(s, SYMBOL_COMMA)</code> will give you desired result.</p>\n"}],"owner":{"account_id":9052937,"reputation":421,"user_id":6742255,"accept_rate":46,"display_name":"Kathiresa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22292,"favorite_count":0,"down_vote_count":1,"up_vote_count":17,"accepted_answer_id":39072878,"answer_count":6,"score":16,"last_activity_date":1659634715,"creation_date":1471847495,"question_id":39072641,"body_markdown":"Assume that I have a list of Strings.\r\n\r\n    List&lt;String&gt; s = new ArrayList&lt;&gt;();\r\n    s.add(&quot;one&quot;);\r\n    s.add(&quot;two&quot;);\r\n    s.add(&quot;three&quot;);\r\n\r\nWhen I use `StringUtils.join(&quot;,&quot;, s)` it gives me the result as\r\n\r\n    &quot;one, two, three&quot;\r\n\r\nWhereas I need the output as \r\n\r\n    &quot;one&quot;,&quot;two&quot;,&quot;three&quot;\r\n\r\nWe don&#39;t like to use Guava utility as the project is not in active state. \r\n\r\nIs it possible via Apache Commons utility?\r\n\r\nHow can I achieve this via utility instead of writing my own logic to do the same?","title":"How to add double quotes automatically, converting list of strings as comma separated value","body":"<p>Assume that I have a list of Strings.</p>\n\n<pre><code>List&lt;String&gt; s = new ArrayList&lt;&gt;();\ns.add(\"one\");\ns.add(\"two\");\ns.add(\"three\");\n</code></pre>\n\n<p>When I use <code>StringUtils.join(\",\", s)</code> it gives me the result as</p>\n\n<pre><code>\"one, two, three\"\n</code></pre>\n\n<p>Whereas I need the output as </p>\n\n<pre><code>\"one\",\"two\",\"three\"\n</code></pre>\n\n<p>We don't like to use Guava utility as the project is not in active state. </p>\n\n<p>Is it possible via Apache Commons utility?</p>\n\n<p>How can I achieve this via utility instead of writing my own logic to do the same?</p>\n"},{"tags":["java","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":16864974,"reputation":56,"user_id":12194876,"display_name":"Noble"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659634534,"creation_date":1659634534,"answer_id":73240155,"question_id":73171531,"body_markdown":"You don&#39;t have to keep the same method name &quot;configure&quot; for both the beans. Any custom method name is allowed, the return type &quot;SecurityFilterChain&quot; needs to be same.\r\nPlease refer https://docs.spring.io/spring-security/reference/5.7.0-M2/servlet/configuration/java.html#_multiple_httpsecurity","title":"Configure two spring security filters based on path","body":"<p>You don't have to keep the same method name &quot;configure&quot; for both the beans. Any custom method name is allowed, the return type &quot;SecurityFilterChain&quot; needs to be same.\nPlease refer <a href=\"https://docs.spring.io/spring-security/reference/5.7.0-M2/servlet/configuration/java.html#_multiple_httpsecurity\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/reference/5.7.0-M2/servlet/configuration/java.html#_multiple_httpsecurity</a></p>\n"}],"owner":{"account_id":21918271,"reputation":83,"user_id":16201869,"display_name":"Alf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1021,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73240155,"answer_count":1,"score":0,"last_activity_date":1659634534,"creation_date":1659133662,"question_id":73171531,"body_markdown":"In my application there are two authentication options that take effect depending on the path. All endpoints under the API path are authenticated via a simple token. All others via OAuth2.\r\n\r\nIn the past, I had two classes that both extended the WebSecurityConfigurerAdapter. Shortened versions of the classes similar to https://stackoverflow.com/a/60283968 :\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\n@Order(Ordered.HIGHEST_PRECEDENCE)\r\npublic class ApiEndpointConfig extends WebSecurityConfigurerAdapter {\r\n  @Override\r\n  protected void configure(HttpSecurity http) throws Exception {\r\n    http\r\n\t  .requestMatchers().antMatchers(API + &quot;/**&quot;)\r\n\t  .and()\r\n\t  // authentication for token based authentication\r\n\t  .authenticationProvider(tokenAuthProvider)\r\n\t  .addFilterBefore(tokenAuthFilter, BasicAuthenticationFilter.class);\r\n  }\r\n}\r\n```\r\n\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class OAuth2EndpointConfig extends WebSecurityConfigurerAdapter {\r\n  @Override\r\n  protected void configure(HttpSecurity http) throws Exception {\r\n    http // all non api requests handled here\r\n      .oauth2Login()\r\n      .tokenEndpoint().accessTokenResponseClient(oAuth2AccessTokenResponseClient())\r\n      .and()\r\n      .userInfoEndpoint().userService(oAuth2UserService());\r\n  }\r\n}\r\n```\r\n---\r\nIn Spring Security 5.7.0-M2 the `WebSecurityConfigurerAdapter` has been deprecated. Therefore I would like to replace this configuration now with a component-based configuration. As recommended here: https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter . This is the point at which I currently fail.\r\n\r\nSimply replacing the existing methods with configuration beans of the SecurityFilterChain leads to duplicates.\r\n```java\r\n@Bean\r\nprotected SecurityFilterChain configure(HttpSecurity http) throws Exception {\r\n  return http [...] .build();\r\n}\r\n```\r\n`The bean &#39;configure&#39; [...] could not be registered. A bean with that name has already been defined [...]`\r\n\r\nBy changing the annotations, I have only managed, at best, to have one configuration take effect. I can&#39;t merge the configurations because they have very different strategies. How would I configure two different filters by path after the deprecation of the adapter?","title":"Configure two spring security filters based on path","body":"<p>In my application there are two authentication options that take effect depending on the path. All endpoints under the API path are authenticated via a simple token. All others via OAuth2.</p>\n<p>In the past, I had two classes that both extended the WebSecurityConfigurerAdapter. Shortened versions of the classes similar to <a href=\"https://stackoverflow.com/a/60283968\">https://stackoverflow.com/a/60283968</a> :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\n@Order(Ordered.HIGHEST_PRECEDENCE)\npublic class ApiEndpointConfig extends WebSecurityConfigurerAdapter {\n  @Override\n  protected void configure(HttpSecurity http) throws Exception {\n    http\n      .requestMatchers().antMatchers(API + &quot;/**&quot;)\n      .and()\n      // authentication for token based authentication\n      .authenticationProvider(tokenAuthProvider)\n      .addFilterBefore(tokenAuthFilter, BasicAuthenticationFilter.class);\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\npublic class OAuth2EndpointConfig extends WebSecurityConfigurerAdapter {\n  @Override\n  protected void configure(HttpSecurity http) throws Exception {\n    http // all non api requests handled here\n      .oauth2Login()\n      .tokenEndpoint().accessTokenResponseClient(oAuth2AccessTokenResponseClient())\n      .and()\n      .userInfoEndpoint().userService(oAuth2UserService());\n  }\n}\n</code></pre>\n<hr />\n<p>In Spring Security 5.7.0-M2 the <code>WebSecurityConfigurerAdapter</code> has been deprecated. Therefore I would like to replace this configuration now with a component-based configuration. As recommended here: <a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\" rel=\"nofollow noreferrer\">https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter</a> . This is the point at which I currently fail.</p>\n<p>Simply replacing the existing methods with configuration beans of the SecurityFilterChain leads to duplicates.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\nprotected SecurityFilterChain configure(HttpSecurity http) throws Exception {\n  return http [...] .build();\n}\n</code></pre>\n<p><code>The bean 'configure' [...] could not be registered. A bean with that name has already been defined [...]</code></p>\n<p>By changing the annotations, I have only managed, at best, to have one configuration take effect. I can't merge the configurations because they have very different strategies. How would I configure two different filters by path after the deprecation of the adapter?</p>\n"},{"tags":["java","scripting"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1659631193,"post_id":73239473,"comment_id":129346071,"body_markdown":"Considering they&#39;ll have to write something in some sort of programming language anyway, have you considered [groovy](http://www.groovy-lang.org/)?","body":"Considering they&#39;ll have to write something in some sort of programming language anyway, have you considered <a href=\"http://www.groovy-lang.org/\" rel=\"nofollow noreferrer\">groovy</a>?"},{"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"score":0,"creation_date":1659632952,"post_id":73239473,"comment_id":129346650,"body_markdown":"Sounds like you want to support *plug-ins*. There are many ways to support plug-ins. One example is using OSGi modules.","body":"Sounds like you want to support <i>plug-ins</i>. There are many ways to support plug-ins. One example is using OSGi modules."},{"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"score":0,"creation_date":1659634230,"post_id":73239473,"comment_id":129346992,"body_markdown":"Duplicate of [Developing application with plug-in support in Java](https://stackoverflow.com/questions/32205773/])?","body":"Duplicate of <a href=\"https://stackoverflow.com/questions/32205773/%5D\">Developing application with plug-in support in Java</a>?"}],"answers":[{"tags":[],"owner":{"account_id":11008792,"reputation":176,"user_id":8086910,"display_name":"Pam Stums"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659633890,"creation_date":1659633421,"answer_id":73239950,"question_id":73239473,"body_markdown":"The best match for this requirement I know is Java&#39;s [Reflection.][1]\r\n\r\nYour calculator should define an interface that anyone can implement.\r\nThe implementation class can be later placed in your calculator classpath so it can detect it at runtime and instantiate it using reflection.\r\n\r\nAs the implementation classes all implements the known interface, you can cast the instance to that interface and execute the known method.\r\n\r\nThis way you get to run external code, unknown to the calculator which can be added dynamically.\r\n\r\nSo the steps are:\r\n1. Define an interface e.g: \r\n\r\n    public interface CalculatorExecutable { \r\n        void runMe(); \r\n    }\r\n\r\n2. Others can write classes that implement this interface.\r\n\r\n    public class MyOp implements CalculatorExecutable {\r\n        public void runMe() {\r\n            /* any implementation here */ \r\n        } \r\n    }\r\n\r\n3. As you mentioned, you can read all the class names from a directory you designate, simply read all the files in that directory and filter for only those files with .class extension  \r\n\r\n4. After you instantiate with Class.forName( classNameGoesHere );  you can cast to your interface and execute your &quot;runMe&quot; method.\r\n\r\n  [1]: https://www.oracle.com/technical-resources/articles/java/javareflection.html\r\n\r\n\r\n\r\n\r\n\r\n","title":"Lightweight scripting support in Java","body":"<p>The best match for this requirement I know is Java's <a href=\"https://www.oracle.com/technical-resources/articles/java/javareflection.html\" rel=\"nofollow noreferrer\">Reflection.</a></p>\n<p>Your calculator should define an interface that anyone can implement.\nThe implementation class can be later placed in your calculator classpath so it can detect it at runtime and instantiate it using reflection.</p>\n<p>As the implementation classes all implements the known interface, you can cast the instance to that interface and execute the known method.</p>\n<p>This way you get to run external code, unknown to the calculator which can be added dynamically.</p>\n<p>So the steps are:</p>\n<ol>\n<li><p>Define an interface e.g:</p>\n<p>public interface CalculatorExecutable {\nvoid runMe();\n}</p>\n</li>\n<li><p>Others can write classes that implement this interface.</p>\n<p>public class MyOp implements CalculatorExecutable {\npublic void runMe() {\n/* any implementation here */\n}\n}</p>\n</li>\n<li><p>As you mentioned, you can read all the class names from a directory you designate, simply read all the files in that directory and filter for only those files with .class extension</p>\n</li>\n<li><p>After you instantiate with Class.forName( classNameGoesHere );  you can cast to your interface and execute your &quot;runMe&quot; method.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":13132920,"reputation":101,"user_id":9486920,"display_name":"Amit_dash_234"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659633890,"creation_date":1659631037,"question_id":73239473,"body_markdown":"I was wondering if it&#39;s possible to have some sort of scripting in Java that can hook text files stored outside and have them imported into the application as a class object. \r\n\r\nSome context : I&#39;m developing a scientific calculator that supports custom functions and operations, while this functionality is available to programmers as they can easily just implement the necessary interface and deal with it. however I recently received the request to add a new feature where the general users should be able to write their own custom functions/operations or both and the app should be able to interpret them and have them imported into its list of functions.\r\n\r\nI was initially planning on allowing the users to just be able to write a plain text file and store it in a specific folder, and the app will be able to load this text files as an input stream, I was going for a string token parsing sort of approach but I have no idea how will I make this work or how will I go about converting them into objects(implenting those necessary interfaces), if anyone can hint me on how such a thing would be accomplished or if it&#39;s even possible. \r\n\r\nAnd no code to show for now.","title":"Lightweight scripting support in Java","body":"<p>I was wondering if it's possible to have some sort of scripting in Java that can hook text files stored outside and have them imported into the application as a class object.</p>\n<p>Some context : I'm developing a scientific calculator that supports custom functions and operations, while this functionality is available to programmers as they can easily just implement the necessary interface and deal with it. however I recently received the request to add a new feature where the general users should be able to write their own custom functions/operations or both and the app should be able to interpret them and have them imported into its list of functions.</p>\n<p>I was initially planning on allowing the users to just be able to write a plain text file and store it in a specific folder, and the app will be able to load this text files as an input stream, I was going for a string token parsing sort of approach but I have no idea how will I make this work or how will I go about converting them into objects(implenting those necessary interfaces), if anyone can hint me on how such a thing would be accomplished or if it's even possible.</p>\n<p>And no code to show for now.</p>\n"},{"tags":["java","spring","spring-boot"],"owner":{"account_id":13177851,"reputation":557,"user_id":9518232,"display_name":"Euklios"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":0,"score":9,"last_activity_date":1659633473,"creation_date":1659632881,"question_id":73239839,"body_markdown":"I&#39;m attempting to create a custom implementation of `java.nio.FileSystem` for an existing Application.\r\nThe implementation itself seems to work correctly within its context.\r\nHowever, the parent Application doesn&#39;t load my implementation via regular ClassPath but via an additional URLClassLoader.\r\nTherefore, the implementation is currently only availabel via `ServiceLoader.load(FileSystemProvider.class, specificClassLoaderOfMyCode)` but it will not be used via APIs like `java.nio.Files`.\r\n\r\nI can modify the parent application but cannot remove the intermediate ClassLoader.\r\nI do have access to the parent ServiceLoader and the child&#39;s ServiceLoader.\r\nMy goal is to get all implementations from the child and put them into the parent&#39;s ServiceLoader.\r\nThe Application itself is written in Spring, and the parent&#39;s ClassLoader is, therefore, the default Spring ClassLoader.\r\n\r\nThe only way I can see is to use reflection in order to modify the internal cache and force the implementation into it, but `java.base` doesn&#39;t open the relevant class.\r\nTherefore, I&#39;m not allowed to access the private fields of ServiceLoader.\r\nI could add the relevant flags, but I&#39;d like to avoid this approach.\r\n\r\nIs there any alternative to dynamically add an implementation to a ServiceLoader, that is not known to the ClassLoader (not present in `META-INF/services`)?","title":"Register SPI dynamically at runtime","body":"<p>I'm attempting to create a custom implementation of <code>java.nio.FileSystem</code> for an existing Application.\nThe implementation itself seems to work correctly within its context.\nHowever, the parent Application doesn't load my implementation via regular ClassPath but via an additional URLClassLoader.\nTherefore, the implementation is currently only availabel via <code>ServiceLoader.load(FileSystemProvider.class, specificClassLoaderOfMyCode)</code> but it will not be used via APIs like <code>java.nio.Files</code>.</p>\n<p>I can modify the parent application but cannot remove the intermediate ClassLoader.\nI do have access to the parent ServiceLoader and the child's ServiceLoader.\nMy goal is to get all implementations from the child and put them into the parent's ServiceLoader.\nThe Application itself is written in Spring, and the parent's ClassLoader is, therefore, the default Spring ClassLoader.</p>\n<p>The only way I can see is to use reflection in order to modify the internal cache and force the implementation into it, but <code>java.base</code> doesn't open the relevant class.\nTherefore, I'm not allowed to access the private fields of ServiceLoader.\nI could add the relevant flags, but I'd like to avoid this approach.</p>\n<p>Is there any alternative to dynamically add an implementation to a ServiceLoader, that is not known to the ClassLoader (not present in <code>META-INF/services</code>)?</p>\n"},{"tags":["java","oracle","hibernate"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1659632628,"post_id":73239592,"comment_id":129346548,"body_markdown":"When mentioning the data type of a column, mention the database engine as well. Data types and their names vary widely across databases.","body":"When mentioning the data type of a column, mention the database engine as well. Data types and their names vary widely across databases."},{"owner":{"account_id":2435943,"reputation":1275,"user_id":2125853,"accept_rate":77,"display_name":"user2125853"},"score":0,"creation_date":1659632818,"post_id":73239592,"comment_id":129346599,"body_markdown":"The question had mentioned Oracle TIMESTAMP. Not sure more specific information was needed.","body":"The question had mentioned Oracle TIMESTAMP. Not sure more specific information was needed."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1659632932,"post_id":73239592,"comment_id":129346641,"body_markdown":"I hadn’t noticed the mention in the title. I’ll add a tag for you.","body":"I hadn’t noticed the mention in the title. I’ll add a tag for you."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659632376,"creation_date":1659631829,"answer_id":73239628,"question_id":73239592,"body_markdown":"[Microseconds][1] within the second. So, it was 94.7% done with the second second in the 27th minute, etc. Yes, `j.u.Date` stores up to milliseconds. In fact, it&#39;s not a date at all, it stores an instant in time (which cannot be turned into a date unless we know exactly in which timezone we are).\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Microsecond","title":"Can java.util.Date store fraction of second when taken from an Oracle TIMESTAMP field?","body":"<p><a href=\"https://en.wikipedia.org/wiki/Microsecond\" rel=\"nofollow noreferrer\">Microseconds</a> within the second. So, it was 94.7% done with the second second in the 27th minute, etc. Yes, <code>j.u.Date</code> stores up to milliseconds. In fact, it's not a date at all, it stores an instant in time (which cannot be turned into a date unless we know exactly in which timezone we are).</p>\n"}],"owner":{"account_id":2435943,"reputation":1275,"user_id":2125853,"accept_rate":77,"display_name":"user2125853"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":73239628,"answer_count":1,"score":-2,"last_activity_date":1659633329,"creation_date":1659631652,"question_id":73239592,"body_markdown":"The code I am looking at fetches a database row as a Hibernate entity object.  One of the fields is a TIMESTAMP(6) in Oracle database. \r\n\r\nFrom the code it looks like it is returned as java.util.Date.  When I print the variable I see the following:\r\n\r\n    DATE: &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; 2022-08-04 10:27:02.947073\r\n\r\nCan anyone explain what is the fraction after the seconds field? \r\n\r\n  ","title":"Can java.util.Date store fraction of second when taken from an Oracle TIMESTAMP field?","body":"<p>The code I am looking at fetches a database row as a Hibernate entity object.  One of the fields is a TIMESTAMP(6) in Oracle database.</p>\n<p>From the code it looks like it is returned as java.util.Date.  When I print the variable I see the following:</p>\n<pre><code>DATE: &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; 2022-08-04 10:27:02.947073\n</code></pre>\n<p>Can anyone explain what is the fraction after the seconds field?</p>\n"},{"tags":["java","sql","stored-procedures","hashmap"],"comments":[{"owner":{"account_id":4564696,"reputation":43122,"user_id":3706016,"display_name":"jarlh"},"score":0,"creation_date":1659643465,"post_id":73239884,"comment_id":129349613,"body_markdown":"Which dbms are you using? The above code doesn&#39;t look like SQL at all.","body":"Which dbms are you using? The above code doesn&#39;t look like SQL at all."},{"owner":{"account_id":3539984,"reputation":706,"user_id":2957362,"display_name":"Arul Suju"},"score":0,"creation_date":1659690326,"post_id":73239884,"comment_id":129359093,"body_markdown":"Hi i am using callableStatement.setClob(1,(Clob)capitalCities ) statement to persist in db via stored procedure","body":"Hi i am using callableStatement.setClob(1,(Clob)capitalCities ) statement to persist in db via stored procedure"}],"owner":{"account_id":3539984,"reputation":706,"user_id":2957362,"display_name":"Arul Suju"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659633080,"creation_date":1659633080,"question_id":73239884,"body_markdown":"is there any way to cast HashMap to persist as CLOB in database\r\n let say we have\r\nHashMap&lt;String, String&gt; capitalCities = new HashMap&lt;String, String&gt;();\r\n\r\n    // Add keys and values (Country, City)\r\n    capitalCities.put(&quot;England&quot;, &quot;London&quot;);\r\n    capitalCities.put(&quot;Germany&quot;, &quot;Berlin&quot;);\r\n    capitalCities.put(&quot;Norway&quot;, &quot;Oslo&quot;);\r\n    capitalCities.put(&quot;USA&quot;, &quot;Washington DC&quot;);\r\n\r\ni want to pass this Hasmap as a CLOB in Database via Stored Procedure\r\n\r\neg\r\ncallableStatement.setClob(1,(Clob)capitalCities ) - its not working\r\n\r\nis there any workaround ?\r\n\r\n\r\n","title":"HashMap cannot be cast to java.sql.Clob","body":"<p>is there any way to cast HashMap to persist as CLOB in database\nlet say we have\nHashMap&lt;String, String&gt; capitalCities = new HashMap&lt;String, String&gt;();</p>\n<pre><code>// Add keys and values (Country, City)\ncapitalCities.put(&quot;England&quot;, &quot;London&quot;);\ncapitalCities.put(&quot;Germany&quot;, &quot;Berlin&quot;);\ncapitalCities.put(&quot;Norway&quot;, &quot;Oslo&quot;);\ncapitalCities.put(&quot;USA&quot;, &quot;Washington DC&quot;);\n</code></pre>\n<p>i want to pass this Hasmap as a CLOB in Database via Stored Procedure</p>\n<p>eg\ncallableStatement.setClob(1,(Clob)capitalCities ) - its not working</p>\n<p>is there any workaround ?</p>\n"},{"tags":["java","spring","spring-mvc","spring-data"],"answers":[{"tags":[],"owner":{"account_id":11008792,"reputation":176,"user_id":8086910,"display_name":"Pam Stums"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659632573,"creation_date":1659632573,"answer_id":73239779,"question_id":73239657,"body_markdown":"My way is using a request class.  \r\nThe advantage is you can change the params without changing the method signature both for the controller and the service (assuming you pass that request object to the service as well).\r\nExample of a Controller method:\r\n\r\n    public UserDataResponse getUserData(@RequestBody UserDataRequest userDataRequest) \r\n\r\n\r\nWhere UserDataRequest is a simple class with getters and setters.\r\n\r\n    class UserDataRequest {\r\n      private String paramA;\r\n      private String paramB;\r\n    \r\n      public String getParamA() {\r\n        return paramA;\r\n      }\r\n    }\r\n\r\netc.\r\n","title":"Is there a better way to provide filtering feature through REST API?","body":"<p>My way is using a request class.<br />\nThe advantage is you can change the params without changing the method signature both for the controller and the service (assuming you pass that request object to the service as well).\nExample of a Controller method:</p>\n<pre><code>public UserDataResponse getUserData(@RequestBody UserDataRequest userDataRequest) \n</code></pre>\n<p>Where UserDataRequest is a simple class with getters and setters.</p>\n<pre><code>class UserDataRequest {\n  private String paramA;\n  private String paramB;\n\n  public String getParamA() {\n    return paramA;\n  }\n}\n</code></pre>\n<p>etc.</p>\n"},{"tags":[],"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659632627,"creation_date":1659632627,"answer_id":73239792,"question_id":73239657,"body_markdown":"Spring MVC can take a `Pageable` (or a `Sort`) as a controller parameter directly, and Spring Data can accept one as a query parameter.","title":"Is there a better way to provide filtering feature through REST API?","body":"<p>Spring MVC can take a <code>Pageable</code> (or a <code>Sort</code>) as a controller parameter directly, and Spring Data can accept one as a query parameter.</p>\n"}],"owner":{"account_id":10309761,"reputation":944,"user_id":7605967,"display_name":"Keshavram Kuduwa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1659632639,"creation_date":1659631979,"question_id":73239657,"body_markdown":"```java\r\n  @GetMapping\r\n  public ResponseEntity&lt;Page&lt;CsatSurveyModel&gt;&gt; getAllSurveys(\r\n      @RequestParam(required = false) String teamName,\r\n      @RequestParam(required = false) String customerName,\r\n      @RequestParam(required = false) Integer year,\r\n      @RequestParam(defaultValue = &quot;id&quot;) String orderBy,\r\n      @RequestParam(defaultValue = &quot;DESC&quot;) Direction direction,\r\n      @RequestParam(defaultValue = AppConstant.DEFAULT_PAGE) int page,\r\n      @RequestParam(defaultValue = AppConstant.DEFAULT_PAGE_SIZE) int size) {\r\n    Sort sort = Sort.by(direction, orderBy);\r\n    Pageable pageRequest = PageRequest.of(page, size, sort);\r\n\r\n    Specification&lt;CsatSurvey&gt; csatSurveySpecification = Specification.where(null);\r\n\r\n    if (Objects.nonNull(teamName)) {\r\n      csatSurveySpecification = csatSurveySpecification.and(CsatSurvey.teamNameSpec(teamName));\r\n    }\r\n    if (Objects.nonNull(customerName)) {\r\n      csatSurveySpecification =\r\n          csatSurveySpecification.and(CsatSurvey.customerNameSpec(customerName));\r\n    }\r\n    if (Objects.nonNull(year)) {\r\n      csatSurveySpecification = csatSurveySpecification.and(CsatSurvey.yearSpec(year));\r\n    }\r\n\r\n    UserModel loggedInUser = sessionUtils.getLoggedInUser();\r\n    List&lt;Team&gt; teams =\r\n        UserRole.ADMIN.equals(loggedInUser.getRole())\r\n            ? Collections.emptyList()\r\n            : loggedInUser.getTeams();\r\n    Page&lt;CsatSurveyModel&gt; csatSurveyModels =\r\n        csatService.getAllSurveysForTeams(teams, csatSurveySpecification, pageRequest);\r\n    return ResponseEntity.ok(csatSurveyModels);\r\n  }\r\n```\r\n\r\nThe first three parameters are used for filtering purposes with specifications. The rest is for page requests. I was wondering if there&#39;s a better way to do this. There&#39;s a lot of code in the controller, and even if I want to move the processing to the service layer, the method would have to accept a long list of parameters, which I don&#39;t want to do. Although this method only accepts seven parameters, there are other routes that accept more than ten parameters.\r\n\r\nI understand that one way is to accept all these params as `Map&lt;String, String&gt;`, but isn&#39;t it a bit tedious to process that?","title":"Is there a better way to provide filtering feature through REST API?","body":"<pre class=\"lang-java prettyprint-override\"><code>  @GetMapping\n  public ResponseEntity&lt;Page&lt;CsatSurveyModel&gt;&gt; getAllSurveys(\n      @RequestParam(required = false) String teamName,\n      @RequestParam(required = false) String customerName,\n      @RequestParam(required = false) Integer year,\n      @RequestParam(defaultValue = &quot;id&quot;) String orderBy,\n      @RequestParam(defaultValue = &quot;DESC&quot;) Direction direction,\n      @RequestParam(defaultValue = AppConstant.DEFAULT_PAGE) int page,\n      @RequestParam(defaultValue = AppConstant.DEFAULT_PAGE_SIZE) int size) {\n    Sort sort = Sort.by(direction, orderBy);\n    Pageable pageRequest = PageRequest.of(page, size, sort);\n\n    Specification&lt;CsatSurvey&gt; csatSurveySpecification = Specification.where(null);\n\n    if (Objects.nonNull(teamName)) {\n      csatSurveySpecification = csatSurveySpecification.and(CsatSurvey.teamNameSpec(teamName));\n    }\n    if (Objects.nonNull(customerName)) {\n      csatSurveySpecification =\n          csatSurveySpecification.and(CsatSurvey.customerNameSpec(customerName));\n    }\n    if (Objects.nonNull(year)) {\n      csatSurveySpecification = csatSurveySpecification.and(CsatSurvey.yearSpec(year));\n    }\n\n    UserModel loggedInUser = sessionUtils.getLoggedInUser();\n    List&lt;Team&gt; teams =\n        UserRole.ADMIN.equals(loggedInUser.getRole())\n            ? Collections.emptyList()\n            : loggedInUser.getTeams();\n    Page&lt;CsatSurveyModel&gt; csatSurveyModels =\n        csatService.getAllSurveysForTeams(teams, csatSurveySpecification, pageRequest);\n    return ResponseEntity.ok(csatSurveyModels);\n  }\n</code></pre>\n<p>The first three parameters are used for filtering purposes with specifications. The rest is for page requests. I was wondering if there's a better way to do this. There's a lot of code in the controller, and even if I want to move the processing to the service layer, the method would have to accept a long list of parameters, which I don't want to do. Although this method only accepts seven parameters, there are other routes that accept more than ten parameters.</p>\n<p>I understand that one way is to accept all these params as <code>Map&lt;String, String&gt;</code>, but isn't it a bit tedious to process that?</p>\n"},{"tags":["java","tesseract","tess4j"],"comments":[{"owner":{"account_id":1564273,"reputation":1454,"user_id":1453413,"display_name":"HoRn"},"score":0,"creation_date":1659597703,"post_id":73231413,"comment_id":129333394,"body_markdown":"This question needs details. Provide an example, please. See [ask]","body":"This question needs details. Provide an example, please. See <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>"},{"owner":{"account_id":2149218,"reputation":3060,"user_id":1906094,"accept_rate":73,"display_name":"Batu.Khan"},"score":0,"creation_date":1659599631,"post_id":73231413,"comment_id":129334018,"body_markdown":"Have you checked this post? https://stackoverflow.com/questions/19894890/tess4j-invalid-memory-access","body":"Have you checked this post? <a href=\"https://stackoverflow.com/questions/19894890/tess4j-invalid-memory-access\" title=\"tess4j invalid memory access\">stackoverflow.com/questions/19894890/&hellip;</a>"},{"owner":{"account_id":18761713,"reputation":11,"user_id":13680544,"display_name":"Jay"},"score":0,"creation_date":1659601511,"post_id":73231413,"comment_id":129334693,"body_markdown":"@Batu.Khan I set the datapath but It doesn&#39;t work","body":"@Batu.Khan I set the datapath but It doesn&#39;t work"}],"answers":[{"tags":[],"owner":{"account_id":18761713,"reputation":11,"user_id":13680544,"display_name":"Jay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659632635,"creation_date":1659632635,"answer_id":73239793,"question_id":73231413,"body_markdown":"I have solved my issue. In file pom.xml, I changed from:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;net.sourceforge.tess4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;tess4j&lt;/artifactId&gt;\r\n      &lt;version&gt;4.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nto \r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;net.sourceforge.tess4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;tess4j&lt;/artifactId&gt;\r\n      &lt;version&gt;5.3.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Tesseract: Error when read non-English text on image","body":"<p>I have solved my issue. In file pom.xml, I changed from:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;net.sourceforge.tess4j&lt;/groupId&gt;\n  &lt;artifactId&gt;tess4j&lt;/artifactId&gt;\n  &lt;version&gt;4.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>to</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;net.sourceforge.tess4j&lt;/groupId&gt;\n  &lt;artifactId&gt;tess4j&lt;/artifactId&gt;\n  &lt;version&gt;5.3.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":18761713,"reputation":11,"user_id":13680544,"display_name":"Jay"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":316,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73239793,"answer_count":1,"score":0,"last_activity_date":1659632635,"creation_date":1659595615,"question_id":73231413,"body_markdown":"I am extracting non-English text from image(bill) by using Tesseract\r\n\r\nBut I met an Error when I executed function doOCR(BufferedImage var1) (No error if set English language) : \r\n\r\n    contains_unichar_id(unichar_id):Error:Assert failed:in file c:\\projects\\github\\tesseract-ocr\\src\\ccutil\\unicharset.h, line 511\r\n    Exception in thread &quot;main&quot; java.lang.Error: Invalid memory access\r\n    \tat com.sun.jna.Native.invokePointer(Native Method)\r\n    \tat com.sun.jna.Function.invokePointer(Function.java:470)\r\n    \tat com.sun.jna.Function.invoke(Function.java:404)\r\n    \tat com.sun.jna.Function.invoke(Function.java:315)\r\n    \tat com.sun.jna.Library$Handler.invoke(Library.java:212)\r\n    \tat com.sun.proxy.$Proxy0.TessBaseAPIGetUTF8Text(Unknown Source)\r\n    \tat net.sourceforge.tess4j.Tesseract.getOCRText(Tesseract.java:433)\r\n    \tat net.sourceforge.tess4j.Tesseract.doOCR(Tesseract.java:288)\r\n    \tat net.sourceforge.tess4j.Tesseract.doOCR(Tesseract.java:260)\r\n    \tat net.sourceforge.tess4j.Tesseract.doOCR(Tesseract.java:241)\r\nMy code:\r\n\r\n    ITesseract iT = new Tesseract();\r\n    iT.setLanguage(LANGUAGE);\r\n    iT.setDatapath(System.getenv(&quot;TESSDATA_PREFIX&quot;));\r\n    try {\r\n      return iT.doOCR(bufferedImage);\r\n    } catch (Exception e) {\r\n      e.getMessage();\r\n      return &quot;Error while reading image&quot;;\r\n    }\r\n\r\nSome bills can extract successfully. But with some special cases, I faced that error.\r\n","title":"Tesseract: Error when read non-English text on image","body":"<p>I am extracting non-English text from image(bill) by using Tesseract</p>\n<p>But I met an Error when I executed function doOCR(BufferedImage var1) (No error if set English language) :</p>\n<pre><code>contains_unichar_id(unichar_id):Error:Assert failed:in file c:\\projects\\github\\tesseract-ocr\\src\\ccutil\\unicharset.h, line 511\nException in thread &quot;main&quot; java.lang.Error: Invalid memory access\n    at com.sun.jna.Native.invokePointer(Native Method)\n    at com.sun.jna.Function.invokePointer(Function.java:470)\n    at com.sun.jna.Function.invoke(Function.java:404)\n    at com.sun.jna.Function.invoke(Function.java:315)\n    at com.sun.jna.Library$Handler.invoke(Library.java:212)\n    at com.sun.proxy.$Proxy0.TessBaseAPIGetUTF8Text(Unknown Source)\n    at net.sourceforge.tess4j.Tesseract.getOCRText(Tesseract.java:433)\n    at net.sourceforge.tess4j.Tesseract.doOCR(Tesseract.java:288)\n    at net.sourceforge.tess4j.Tesseract.doOCR(Tesseract.java:260)\n    at net.sourceforge.tess4j.Tesseract.doOCR(Tesseract.java:241)\n</code></pre>\n<p>My code:</p>\n<pre><code>ITesseract iT = new Tesseract();\niT.setLanguage(LANGUAGE);\niT.setDatapath(System.getenv(&quot;TESSDATA_PREFIX&quot;));\ntry {\n  return iT.doOCR(bufferedImage);\n} catch (Exception e) {\n  e.getMessage();\n  return &quot;Error while reading image&quot;;\n}\n</code></pre>\n<p>Some bills can extract successfully. But with some special cases, I faced that error.</p>\n"},{"tags":["java","qt","electron","applet","tauri"],"comments":[{"owner":{"account_id":20907575,"reputation":5943,"user_id":15359157,"display_name":"code"},"score":0,"creation_date":1660020785,"post_id":73239079,"comment_id":129427559,"body_markdown":"You probably know, but Applets have been deprecated long, long, long ago.","body":"You probably know, but Applets have been deprecated long, long, long ago."},{"owner":{"account_id":2726017,"reputation":9934,"user_id":2351052,"accept_rate":81,"display_name":"Plastic"},"score":0,"creation_date":1660048492,"post_id":73239079,"comment_id":129436191,"body_markdown":"I do know. Unfortunately we have had to implement some sort of gradual transition. And I was looking for a way to make the two worlds coexist, even if only temporarily.","body":"I do know. Unfortunately we have had to implement some sort of gradual transition. And I was looking for a way to make the two worlds coexist, even if only temporarily."}],"answers":[{"tags":[],"owner":{"account_id":1643431,"reputation":851,"user_id":1515454,"display_name":"alexp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659630070,"creation_date":1659630070,"answer_id":73239266,"question_id":73239079,"body_markdown":"You might consider using CheerpJ: A fully Web based technology designed to run unmodified Java applications (including GUIs) on any modern browser.\r\n\r\nhttps://leaningtech.com/cheerpj/\r\n\r\nBeside running the whole application or applet as it currently is, you can also use the JavaScript interoperability API to build a pure HTML5 Web app on top of the existing Java code.\r\n\r\nhttps://docs.leaningtech.com/cheerpj/Runtime-API#cjresolvecall--cjresolvenew\r\n\r\nFull disclosure: I am lead dev of CheerpJ and CTO of Leaning Technologies","title":"Embed a Java applet in a Web Project","body":"<p>You might consider using CheerpJ: A fully Web based technology designed to run unmodified Java applications (including GUIs) on any modern browser.</p>\n<p><a href=\"https://leaningtech.com/cheerpj/\" rel=\"nofollow noreferrer\">https://leaningtech.com/cheerpj/</a></p>\n<p>Beside running the whole application or applet as it currently is, you can also use the JavaScript interoperability API to build a pure HTML5 Web app on top of the existing Java code.</p>\n<p><a href=\"https://docs.leaningtech.com/cheerpj/Runtime-API#cjresolvecall--cjresolvenew\" rel=\"nofollow noreferrer\">https://docs.leaningtech.com/cheerpj/Runtime-API#cjresolvecall--cjresolvenew</a></p>\n<p>Full disclosure: I am lead dev of CheerpJ and CTO of Leaning Technologies</p>\n"}],"owner":{"account_id":2726017,"reputation":9934,"user_id":2351052,"accept_rate":81,"display_name":"Plastic"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659632021,"creation_date":1659629264,"question_id":73239079,"body_markdown":"The company I work for has one of their main products written in Java, it is an applet made up of numerous sub programs.\r\nOur goal would be to develop an alternative GUI to the current Java using Web technologies and build it to be cross-platform. The applet is very large and it is therefore necessary to implement this transformation gradually.\r\n\r\nTo achieve this we would like to gradually replace the individual applet programs with their corresponding HTML/CSS/Javascript version.\r\n\r\nIs there a &quot;container&quot; (so far I have taken into consideration Electron, Qt and, the new kid in town, Tauri) or a stack of technologies that allows you to start a Java applet within it?","title":"Embed a Java applet in a Web Project","body":"<p>The company I work for has one of their main products written in Java, it is an applet made up of numerous sub programs.\nOur goal would be to develop an alternative GUI to the current Java using Web technologies and build it to be cross-platform. The applet is very large and it is therefore necessary to implement this transformation gradually.</p>\n<p>To achieve this we would like to gradually replace the individual applet programs with their corresponding HTML/CSS/Javascript version.</p>\n<p>Is there a &quot;container&quot; (so far I have taken into consideration Electron, Qt and, the new kid in town, Tauri) or a stack of technologies that allows you to start a Java applet within it?</p>\n"},{"tags":["java","swagger-2.0","swagger-codegen"],"owner":{"account_id":17113942,"reputation":623,"user_id":12383992,"display_name":"dbrewster"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":334,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1659631863,"creation_date":1659630980,"question_id":73239462,"body_markdown":"I am working on a project that uses Swagger 2.0 to generate an API interface which is then implemented in production code. There is a problem with a parameter that comes from the header.\r\n\r\nThere are 2 desired behaviors -\r\n\r\n 1. If a value is provided and does not match the enum, it should throw an error\r\n 2. If no value is provided, it should be given the default value of &#39;English&#39;\r\n\r\nHere is the code -\r\n\r\n```\r\nparameters:\r\n  language:\r\n    in: header\r\n    name: language\r\n    description: language the request will be processed in\r\n    type: string\r\n    default: English\r\n    enum: [English, Spanish, German, French]\r\n    required: false\r\n```\r\n\r\nHowever, the API accepts any value and does not provide a default value. \r\n\r\nThe generated code does not give any hint that it should be an enum. It does show the default value but did not provide it when I performed an integration test. \r\n\r\n```\r\n@ApiParam(value = &quot;language the request will be processed in&quot; , defaultValue=&quot;English&quot;) @RequestHeader(value=&quot;language&quot;, required=false) String language);\r\n```\r\n\r\nI found other similiar questions on here but no answers -\r\nhttps://stackoverflow.com/questions/51879170/swagger-does-not-validate-enum-query-parameter","title":"swagger 2.0 not validating enum in header","body":"<p>I am working on a project that uses Swagger 2.0 to generate an API interface which is then implemented in production code. There is a problem with a parameter that comes from the header.</p>\n<p>There are 2 desired behaviors -</p>\n<ol>\n<li>If a value is provided and does not match the enum, it should throw an error</li>\n<li>If no value is provided, it should be given the default value of 'English'</li>\n</ol>\n<p>Here is the code -</p>\n<pre><code>parameters:\n  language:\n    in: header\n    name: language\n    description: language the request will be processed in\n    type: string\n    default: English\n    enum: [English, Spanish, German, French]\n    required: false\n</code></pre>\n<p>However, the API accepts any value and does not provide a default value.</p>\n<p>The generated code does not give any hint that it should be an enum. It does show the default value but did not provide it when I performed an integration test.</p>\n<pre><code>@ApiParam(value = &quot;language the request will be processed in&quot; , defaultValue=&quot;English&quot;) @RequestHeader(value=&quot;language&quot;, required=false) String language);\n</code></pre>\n<p>I found other similiar questions on here but no answers -\n<a href=\"https://stackoverflow.com/questions/51879170/swagger-does-not-validate-enum-query-parameter\">Swagger does not validate enum query parameter</a></p>\n"},{"tags":["java","spring","spring-boot","maven","message"],"answers":[{"tags":[],"owner":{"account_id":6921189,"reputation":1490,"user_id":5313817,"display_name":"Rishal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659631564,"creation_date":1659631564,"answer_id":73239575,"question_id":73239322,"body_markdown":"Change your `MessageSource` Bean as per below example.\r\n\r\n    @Bean\r\n    public MessageSource messageSource() {\r\n        ReloadableResourceBundleMessageSource messageSource\r\n                = new ReloadableResourceBundleMessageSource();\r\n        messageSource.setBasenames(\r\n                &quot;classpath:messages/test&quot;\r\n        );\r\n        messageSource.setDefaultEncoding(&quot;UTF-8&quot;);\r\n        return messageSource;\r\n    }","title":"NoSuchMessageException: No message found under code &#39;xxxxxx&#39; for locale &#39;en&#39;","body":"<p>Change your <code>MessageSource</code> Bean as per below example.</p>\n<pre><code>@Bean\npublic MessageSource messageSource() {\n    ReloadableResourceBundleMessageSource messageSource\n            = new ReloadableResourceBundleMessageSource();\n    messageSource.setBasenames(\n            &quot;classpath:messages/test&quot;\n    );\n    messageSource.setDefaultEncoding(&quot;UTF-8&quot;);\n    return messageSource;\n}\n</code></pre>\n"}],"owner":{"account_id":13335294,"reputation":13,"user_id":12371982,"display_name":"Taufiq Naziruddin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":579,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1659631564,"creation_date":1659630290,"question_id":73239322,"body_markdown":"I am testing the `MessageSource` in `SpringBoot`.  I am getting the following error.  I am trying the latest version of spring boot (3.0.0-M4) and I am not able to figure what has changed.  The code presented here worked in previous versions.  Please help me here.\r\n\r\n**Here is the error:**\r\n\r\n```\r\norg.springframework.context.NoSuchMessageException: No message found under code &#39;text1&#39; for locale &#39;en&#39;..\r\n```\r\nI created a maven project in eclipse using SpringBoot initializer with spring starter web and spring starter validation dependencies.\r\n\r\n**Here is my project structure:**\r\n\r\n[![image-1][1]][1]\r\n\r\n**Here is the pom file**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.0-M4&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.test&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;validation&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;ERP-1&lt;/name&gt;\r\n\t&lt;description&gt;FBH ERP&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\t&lt;repositories&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Milestones&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n\t\t\t&lt;snapshots&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/snapshots&gt;\r\n\t\t&lt;/repository&gt;\r\n\t&lt;/repositories&gt;\r\n\t&lt;pluginRepositories&gt;\r\n\t\t&lt;pluginRepository&gt;\r\n\t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Milestones&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n\t\t\t&lt;snapshots&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/snapshots&gt;\r\n\t\t&lt;/pluginRepository&gt;\r\n\t&lt;/pluginRepositories&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nHere are my classes\r\n```\r\n\r\n@Configuration\r\n@Service\r\npublic class AppConfiguration {\r\n\r\n    @Bean\r\n    public MessageSource messageSource() {\r\n        ReloadableResourceBundleMessageSource messageSource\r\n                = new ReloadableResourceBundleMessageSource();\r\n        messageSource.setBasenames(\r\n                &quot;classpath:/messages/test.properties&quot;\r\n        );\r\n        messageSource.setDefaultEncoding(&quot;UTF-8&quot;);\r\n        return messageSource;\r\n    }\r\n\r\n}\r\n\r\n\r\n@RestController\r\npublic class TestController {\r\n\t@Autowired\r\n\t private  MessageSource messageSource;\r\n\t\r\n\t\r\n\t@GetMapping(&quot;/test&quot;)\r\n\tpublic ResponseEntity&lt;String&gt;  tryme() {\r\n\t\tSystem.out.println(messageSource.getMessage(&quot;text1&quot;,null,Locale.ENGLISH));\r\n\t\tString body = &quot;welcome&quot;;\r\n\t\treturn  ResponseEntity.ok(body);\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\t@ResponseStatus(HttpStatus.BAD_REQUEST)\r\n    @ExceptionHandler(MethodArgumentNotValidException.class)\r\n    public Map&lt;String, String&gt; handleValidationExceptions(MethodArgumentNotValidException ex) {\r\n        Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();\r\n        ex.getBindingResult().getAllErrors().forEach((error) -&gt; {\r\n            String fieldName = ((FieldError) error).getField();\r\n            String errorMessage = error.getDefaultMessage();\r\n            errors.put(fieldName, errorMessage);\r\n        });\r\n        return errors;\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n@SpringBootApplication\r\npublic class TestApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(TestApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\nHere is the complete stacktrace of the error.\r\n\r\n\r\n\r\n\r\n\r\n\r\n```\r\norg.springframework.context.NoSuchMessageException: No message found under code &#39;userexists&#39; for locale &#39;en&#39;.\r\n\tat org.springframework.context.support.AbstractMessageSource.getMessage(AbstractMessageSource.java:161) ~[spring-context-6.0.0-M5.jar:6.0.0-M5]\r\n\tat com.test.valid.controller.TestController.tryme(TestController.java:28) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-6.0.0-M5.jar:6.0.0-M5]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-6.0.0-M5.jar:6.0.0-M5]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-6.0.0-M5.jar:6.0.0-M5]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-6.0.0-M5.jar:6.0.0-M5]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-6.0.0-M5.jar:6.0.0-M5]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.0-M5.jar:6.0.0-M5]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-6.0.0-M5.jar:6.0.0-M5]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:960) ~[spring-webmvc-6.0.0-M5.jar:6.0.0-M5]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003) ~[spring-webmvc-6.0.0-M5.jar:6.0.0-M5]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:895) ~[spring-webmvc-6.0.0-M5.jar:6.0.0-M5]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:668) ~[tomcat-embed-core-10.0.22.jar:5.0.0]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:880) ~[spring-webmvc-6.0.0-M5.jar:6.0.0-M5]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:777) ~[tomcat-embed-core-10.0.22.jar:5.0.0]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223) ~[tomcat-embed-core-10.0.22.jar:10.0.22]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.0.22.jar:10.0.22]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-10.0.22.jar:10.0.22]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.0.22.jar:10.0.22]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.0.22.jar:10.0.22]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.0-M5.jar:6.0.0-M5]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.0-M5.jar:6.0.0-M5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.0.22.jar:10.0.22]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.0.22.jar:10.0.22]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.0-M5.jar:6.0.0-M5]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.0-M5.jar:6.0.0-M5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.0.22.jar:10.0.22]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.0.22.jar:10.0.22]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.0-M5.jar:6.0.0-M5]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.0-M5.jar:6.0.0-M5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.0.22.jar:10.0.22]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.0.22.jar:10.0.22]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-10.0.22.jar:10.0.22]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-10.0.22.jar:10.0.22]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) ~[tomcat-embed-core-10.0.22.jar:10.0.22]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119) ~[tomcat-embed-core-10.0.22.jar:10.0.22]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-10.0.22.jar:10.0.22]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-10.0.22.jar:10.0.22]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:356) ~[tomcat-embed-core-10.0.22.jar:10.0.22]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.0.22.jar:10.0.22]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-10.0.22.jar:10.0.22]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:867) ~[tomcat-embed-core-10.0.22.jar:10.0.22]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1760) ~[tomcat-embed-core-10.0.22.jar:10.0.22]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-10.0.22.jar:10.0.22]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.0.22.jar:10.0.22]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.0.22.jar:10.0.22]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.0.22.jar:10.0.22]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n\r\n\r\n\t\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AKBq1.png","title":"NoSuchMessageException: No message found under code &#39;xxxxxx&#39; for locale &#39;en&#39;","body":"<p>I am testing the <code>MessageSource</code> in <code>SpringBoot</code>.  I am getting the following error.  I am trying the latest version of spring boot (3.0.0-M4) and I am not able to figure what has changed.  The code presented here worked in previous versions.  Please help me here.</p>\n<p><strong>Here is the error:</strong></p>\n<pre><code>org.springframework.context.NoSuchMessageException: No message found under code 'text1' for locale 'en'..\n</code></pre>\n<p>I created a maven project in eclipse using SpringBoot initializer with spring starter web and spring starter validation dependencies.</p>\n<p><strong>Here is my project structure:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/AKBq1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AKBq1.png\" alt=\"image-1\" /></a></p>\n<p><strong>Here is the pom file</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0-M4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.test&lt;/groupId&gt;\n    &lt;artifactId&gt;validation&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;ERP-1&lt;/name&gt;\n    &lt;description&gt;FBH ERP&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Here are my classes</p>\n<pre><code>\n@Configuration\n@Service\npublic class AppConfiguration {\n\n    @Bean\n    public MessageSource messageSource() {\n        ReloadableResourceBundleMessageSource messageSource\n                = new ReloadableResourceBundleMessageSource();\n        messageSource.setBasenames(\n                &quot;classpath:/messages/test.properties&quot;\n        );\n        messageSource.setDefaultEncoding(&quot;UTF-8&quot;);\n        return messageSource;\n    }\n\n}\n\n\n@RestController\npublic class TestController {\n    @Autowired\n     private  MessageSource messageSource;\n    \n    \n    @GetMapping(&quot;/test&quot;)\n    public ResponseEntity&lt;String&gt;  tryme() {\n        System.out.println(messageSource.getMessage(&quot;text1&quot;,null,Locale.ENGLISH));\n        String body = &quot;welcome&quot;;\n        return  ResponseEntity.ok(body);\n    }\n    \n    \n    \n    @ResponseStatus(HttpStatus.BAD_REQUEST)\n    @ExceptionHandler(MethodArgumentNotValidException.class)\n    public Map&lt;String, String&gt; handleValidationExceptions(MethodArgumentNotValidException ex) {\n        Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();\n        ex.getBindingResult().getAllErrors().forEach((error) -&gt; {\n            String fieldName = ((FieldError) error).getField();\n            String errorMessage = error.getDefaultMessage();\n            errors.put(fieldName, errorMessage);\n        });\n        return errors;\n    }\n}\n\n\n\n\n@SpringBootApplication\npublic class TestApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(TestApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>Here is the complete stacktrace of the error.</p>\n<pre><code>org.springframework.context.NoSuchMessageException: No message found under code 'userexists' for locale 'en'.\n    at org.springframework.context.support.AbstractMessageSource.getMessage(AbstractMessageSource.java:161) ~[spring-context-6.0.0-M5.jar:6.0.0-M5]\n    at com.test.valid.controller.TestController.tryme(TestController.java:28) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-6.0.0-M5.jar:6.0.0-M5]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-6.0.0-M5.jar:6.0.0-M5]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-6.0.0-M5.jar:6.0.0-M5]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-6.0.0-M5.jar:6.0.0-M5]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-6.0.0-M5.jar:6.0.0-M5]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.0-M5.jar:6.0.0-M5]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-6.0.0-M5.jar:6.0.0-M5]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:960) ~[spring-webmvc-6.0.0-M5.jar:6.0.0-M5]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003) ~[spring-webmvc-6.0.0-M5.jar:6.0.0-M5]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:895) ~[spring-webmvc-6.0.0-M5.jar:6.0.0-M5]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:668) ~[tomcat-embed-core-10.0.22.jar:5.0.0]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:880) ~[spring-webmvc-6.0.0-M5.jar:6.0.0-M5]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:777) ~[tomcat-embed-core-10.0.22.jar:5.0.0]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223) ~[tomcat-embed-core-10.0.22.jar:10.0.22]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.0.22.jar:10.0.22]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-10.0.22.jar:10.0.22]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.0.22.jar:10.0.22]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.0.22.jar:10.0.22]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.0-M5.jar:6.0.0-M5]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.0-M5.jar:6.0.0-M5]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.0.22.jar:10.0.22]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.0.22.jar:10.0.22]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.0-M5.jar:6.0.0-M5]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.0-M5.jar:6.0.0-M5]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.0.22.jar:10.0.22]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.0.22.jar:10.0.22]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.0-M5.jar:6.0.0-M5]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.0-M5.jar:6.0.0-M5]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.0.22.jar:10.0.22]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.0.22.jar:10.0.22]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-10.0.22.jar:10.0.22]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-10.0.22.jar:10.0.22]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) ~[tomcat-embed-core-10.0.22.jar:10.0.22]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119) ~[tomcat-embed-core-10.0.22.jar:10.0.22]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-10.0.22.jar:10.0.22]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-10.0.22.jar:10.0.22]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:356) ~[tomcat-embed-core-10.0.22.jar:10.0.22]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.0.22.jar:10.0.22]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-10.0.22.jar:10.0.22]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:867) ~[tomcat-embed-core-10.0.22.jar:10.0.22]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1760) ~[tomcat-embed-core-10.0.22.jar:10.0.22]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-10.0.22.jar:10.0.22]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.0.22.jar:10.0.22]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.0.22.jar:10.0.22]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.0.22.jar:10.0.22]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n\n\n    \n</code></pre>\n"},{"tags":["java","multithreading","audio","memory","lag"],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659467265,"creation_date":1659467265,"answer_id":73212572,"question_id":73212352,"body_markdown":"That is a truly enormous background music file. \r\n\r\n&gt; I have created a separate thread to run the music and I thought that would help as threads shouldn&#39;t affect each other&#39;s performance due to separate stack memory.\r\n\r\nYes, threads have separate stack memory.  But your music isn&#39;t going into stack memory, it&#39;s going to the heap, and the heap is common to the whole JVM -- every thread is going to be using the same heap.  (How else could threads access each other&#39;s variables?)\r\n\r\nYou have correctly identified the solution, to break up the background music into smaller parts and load only one or two parts at once.","title":"Large .WAV file is causing my Java game to lag","body":"<p>That is a truly enormous background music file.</p>\n<blockquote>\n<p>I have created a separate thread to run the music and I thought that would help as threads shouldn't affect each other's performance due to separate stack memory.</p>\n</blockquote>\n<p>Yes, threads have separate stack memory.  But your music isn't going into stack memory, it's going to the heap, and the heap is common to the whole JVM -- every thread is going to be using the same heap.  (How else could threads access each other's variables?)</p>\n<p>You have correctly identified the solution, to break up the background music into smaller parts and load only one or two parts at once.</p>\n"},{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659469351,"creation_date":1659469351,"answer_id":73212926,"question_id":73212352,"body_markdown":"WAV usually is non-compressed PCM audio data. Your 650 MB is similar to an audio CD, which typically holds one hour of music. If you compress that using MP3 (or even better as OGG), you might roughly get down to 65 MB while keeping an acceptable quality.\r\n\r\nI am not sure whether those 65 MB would be sufficiently small to simply play - but then you could still break it down into different tracks and decide which one to play based on game events.","title":"Large .WAV file is causing my Java game to lag","body":"<p>WAV usually is non-compressed PCM audio data. Your 650 MB is similar to an audio CD, which typically holds one hour of music. If you compress that using MP3 (or even better as OGG), you might roughly get down to 65 MB while keeping an acceptable quality.</p>\n<p>I am not sure whether those 65 MB would be sufficiently small to simply play - but then you could still break it down into different tracks and decide which one to play based on game events.</p>\n"},{"tags":[],"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659631369,"creation_date":1659631369,"answer_id":73239540,"question_id":73212352,"body_markdown":"The `javax.sounds.sampled.Clip` is meant for relatively short sounds that can be held in memory and are likely to be replayed. For a file that is large, you should use `javax.sounds.sampled.SourceDataLine` for playback. This interface is for streaming sounds that are read progressively. In this case, you should use an `AudioInputStream` to read the file and progressively hand off buffer arraysto the `SourceDataLine.write` method.\r\n\r\nA `while` loop is commmon for reading and writing in this scenario, and this loop is usually placed in its own thread. There is an example of audio play back using a `SourceDataLine` in the [javasound tag wiki][1]. A weakness of this example is that it doesn&#39;t put the while loop in its own thread, so the program flow will get tied up for the duration of the playback. You&#39;ll have to write code to manage that.\r\n\r\nYou might be unaware that the `Clip` is designed to be loaded and opened only once, and held in memory ready for repeated play backs. Loading and opening prior to each play can add latency that serves no purpose. Also, when a `Clip` is played, it&#39;s a fire-and-forget type situation. The playback code is automatically launched in its own (daemon) thread. Wrapping `Clip` playback in an additional thread is a dubious use of resources.\r\n\r\n  [1]: https://stackoverflow.com/tags/javasound/info","title":"Large .WAV file is causing my Java game to lag","body":"<p>The <code>javax.sounds.sampled.Clip</code> is meant for relatively short sounds that can be held in memory and are likely to be replayed. For a file that is large, you should use <code>javax.sounds.sampled.SourceDataLine</code> for playback. This interface is for streaming sounds that are read progressively. In this case, you should use an <code>AudioInputStream</code> to read the file and progressively hand off buffer arraysto the <code>SourceDataLine.write</code> method.</p>\n<p>A <code>while</code> loop is commmon for reading and writing in this scenario, and this loop is usually placed in its own thread. There is an example of audio play back using a <code>SourceDataLine</code> in the <a href=\"https://stackoverflow.com/tags/javasound/info\">javasound tag wiki</a>. A weakness of this example is that it doesn't put the while loop in its own thread, so the program flow will get tied up for the duration of the playback. You'll have to write code to manage that.</p>\n<p>You might be unaware that the <code>Clip</code> is designed to be loaded and opened only once, and held in memory ready for repeated play backs. Loading and opening prior to each play can add latency that serves no purpose. Also, when a <code>Clip</code> is played, it's a fire-and-forget type situation. The playback code is automatically launched in its own (daemon) thread. Wrapping <code>Clip</code> playback in an additional thread is a dubious use of resources.</p>\n"}],"owner":{"account_id":20214980,"reputation":1,"user_id":14826085,"display_name":"Bartosz J&#243;źwicki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1659631369,"creation_date":1659466040,"question_id":73212352,"body_markdown":"I am trying to write a game in Java to learn more about the language. I have recently added sounds and it was working fine until I added background music .WAV (605MB). I have created a separate thread to run the music and I thought that would help as threads shouldn&#39;t affect each other&#39;s performance due to separate stack memory. I am fairly new to Java so I would appreciate any suggestions. I can cut the file into smaller pieces and loop through them (the game doesn&#39;t lag with smaller .WAV files) but I am curious why one thread is affected by another and what could I do differently. I&#39;ve read that depending on the file size Java allocates resources to different locations, could that mean something? Please find snippets of code where I define Sound Class to read the file and thread definitions.\r\n\r\n    \r\n    public class Sound {\r\n\r\n\tClip clip;\r\n\tURL soundURL[] = new URL[30]; // store file path\r\n\t\r\n\tSound() {\r\n\t\tsoundURL[0] = getClass().getResource(&quot;/sound/BlueBoyAdventure.wav&quot;);\r\n\t\tsoundURL[1] = getClass().getResource(&quot;/sound/coin.wav&quot;);\r\n\t\tsoundURL[2] = getClass().getResource(&quot;/sound/powerup.wav&quot;);\r\n\t\tsoundURL[3] = getClass().getResource(&quot;/sound/unlock.wav&quot;);\r\n\t\tsoundURL[4] = getClass().getResource(&quot;/sound/fanfare.wav&quot;);\r\n\t\tsoundURL[5] = getClass().getResource(&quot;/sound/ChurchTemplarsMusic.wav&quot;);\r\n\t\tsoundURL[6] = getClass().getResource(&quot;/sound/FantasyMusic.wav&quot;);\r\n\t\tsoundURL[7] = getClass().getResource(&quot;/sound/DevilEyes.wav&quot;);\r\n\t}\r\n\t\r\n\tpublic void setFile(int i) {\r\n\t\t\r\n\t\ttry {\r\n\t\t\t\r\n\t\t\tAudioInputStream ais = AudioSystem.getAudioInputStream(soundURL[i]);\r\n\t\t\tclip = AudioSystem.getClip();\r\n\t\t\tclip.open(ais);\r\n\t\t\t\r\n\t\t\t\r\n\t\t}catch(Exception e) {\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic void play() {\r\n\t\t\r\n\t\tclip.start();\r\n\t}\r\n\t\r\n\tpublic void loop() {\r\n\t\t\r\n\t\tclip.loop(Clip.LOOP_CONTINUOUSLY);\r\n\t}\r\n\t\r\n\tpublic void stop() {\r\n\t\t\r\n\t\tclip.stop();\r\n\t\t\r\n\t}\r\n    }\r\n\r\nFirst thread (gameEngine):\r\n  \r\n\tpublic void run() {\r\n\t\t\r\n\t\tdouble drawInterval = 1000000000/FPS;\r\n\t    double delta = 0;\r\n\t\tlong lastTime = System.nanoTime();\r\n\t\tlong currentTime;\r\n\t\tlong timer = 0;\r\n\t\tint drawCount = 0;\r\n\t\t\r\n\t\twhile(gameThread != null) \r\n\t\t{\r\n\t\t\t\r\n\t\t\tcurrentTime = System.nanoTime();\r\n\t\t\t\r\n\t\t\tdelta += (currentTime - lastTime) / drawInterval;\r\n\t\t\ttimer += (currentTime - lastTime);\r\n\t\t\tlastTime = currentTime;\r\n\t\t\t\r\n\t\t\tif(delta &gt;= 1) {\r\n\t\t\tupdate();\r\n\t\t\trepaint();\r\n\t\t\tdelta--;\r\n\t\t\tdrawCount++;\r\n\t\t\t}\r\n\t\t\tif(timer &gt;= 1000000000) {\r\n\t\t\t\tSystem.out.println(&quot;FPS:&quot; + drawCount + &quot; : &quot; + Thread.currentThread().getName());\r\n\t\t\t\tdrawCount = 0;\r\n\t\t\t\ttimer = 0;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nSecond thread dedicated to music:\r\n\r\n    public class SecondThread implements Runnable {\r\n\r\n\tThread musicThread;\r\n\t\r\n\t//SOUND\r\n\tSound sound = new Sound();\r\n\r\n\t  \r\n\t  public void startMusicThread() {\r\n\t\t\t\r\n\t\t\tmusicThread = new Thread(this);\r\n\t\t\tmusicThread.setName(&quot;Music&quot;);\r\n\t\t\tmusicThread.start();\r\n\t\t \r\n\t  }\r\n  \r\n\t@Override\r\n\tpublic void run() {\r\n\r\n\t\t    sound.setFile(7);\r\n\t\t\tsound.play();\r\n\t\t\tsound.loop();\t\t\r\n\t}\r\n\r\nand this is where I call threads:\r\n\r\n\r\n    public static void main(String[] args) {\r\n\r\n        GamePanel gamePanel = new GamePanel();\r\n        SecondThread secondThread = new SecondThread();\r\n\r\n        gamePanel.startGameThread();\r\n        secondThread.startMusicThread();\r\n\r\n\r\n\t}","title":"Large .WAV file is causing my Java game to lag","body":"<p>I am trying to write a game in Java to learn more about the language. I have recently added sounds and it was working fine until I added background music .WAV (605MB). I have created a separate thread to run the music and I thought that would help as threads shouldn't affect each other's performance due to separate stack memory. I am fairly new to Java so I would appreciate any suggestions. I can cut the file into smaller pieces and loop through them (the game doesn't lag with smaller .WAV files) but I am curious why one thread is affected by another and what could I do differently. I've read that depending on the file size Java allocates resources to different locations, could that mean something? Please find snippets of code where I define Sound Class to read the file and thread definitions.</p>\n<pre><code>public class Sound {\n\nClip clip;\nURL soundURL[] = new URL[30]; // store file path\n\nSound() {\n    soundURL[0] = getClass().getResource(&quot;/sound/BlueBoyAdventure.wav&quot;);\n    soundURL[1] = getClass().getResource(&quot;/sound/coin.wav&quot;);\n    soundURL[2] = getClass().getResource(&quot;/sound/powerup.wav&quot;);\n    soundURL[3] = getClass().getResource(&quot;/sound/unlock.wav&quot;);\n    soundURL[4] = getClass().getResource(&quot;/sound/fanfare.wav&quot;);\n    soundURL[5] = getClass().getResource(&quot;/sound/ChurchTemplarsMusic.wav&quot;);\n    soundURL[6] = getClass().getResource(&quot;/sound/FantasyMusic.wav&quot;);\n    soundURL[7] = getClass().getResource(&quot;/sound/DevilEyes.wav&quot;);\n}\n\npublic void setFile(int i) {\n    \n    try {\n        \n        AudioInputStream ais = AudioSystem.getAudioInputStream(soundURL[i]);\n        clip = AudioSystem.getClip();\n        clip.open(ais);\n        \n        \n    }catch(Exception e) {\n        \n    }\n}\n\npublic void play() {\n    \n    clip.start();\n}\n\npublic void loop() {\n    \n    clip.loop(Clip.LOOP_CONTINUOUSLY);\n}\n\npublic void stop() {\n    \n    clip.stop();\n    \n}\n}\n</code></pre>\n<p>First thread (gameEngine):</p>\n<pre><code>public void run() {\n    \n    double drawInterval = 1000000000/FPS;\n    double delta = 0;\n    long lastTime = System.nanoTime();\n    long currentTime;\n    long timer = 0;\n    int drawCount = 0;\n    \n    while(gameThread != null) \n    {\n        \n        currentTime = System.nanoTime();\n        \n        delta += (currentTime - lastTime) / drawInterval;\n        timer += (currentTime - lastTime);\n        lastTime = currentTime;\n        \n        if(delta &gt;= 1) {\n        update();\n        repaint();\n        delta--;\n        drawCount++;\n        }\n        if(timer &gt;= 1000000000) {\n            System.out.println(&quot;FPS:&quot; + drawCount + &quot; : &quot; + Thread.currentThread().getName());\n            drawCount = 0;\n            timer = 0;\n        }\n    }\n}\n</code></pre>\n<p>Second thread dedicated to music:</p>\n<pre><code>public class SecondThread implements Runnable {\n\nThread musicThread;\n\n//SOUND\nSound sound = new Sound();\n\n  \n  public void startMusicThread() {\n        \n        musicThread = new Thread(this);\n        musicThread.setName(&quot;Music&quot;);\n        musicThread.start();\n     \n  }\n\n@Override\npublic void run() {\n\n        sound.setFile(7);\n        sound.play();\n        sound.loop();       \n}\n</code></pre>\n<p>and this is where I call threads:</p>\n<pre><code>public static void main(String[] args) {\n\n    GamePanel gamePanel = new GamePanel();\n    SecondThread secondThread = new SecondThread();\n\n    gamePanel.startGameThread();\n    secondThread.startMusicThread();\n\n\n}\n</code></pre>\n"},{"tags":["java","mysql","docker","playframework","docker-swarm"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659631367,"creation_date":1659631367,"answer_id":73239538,"question_id":73238938,"body_markdown":"Your MySQL container appears to have been killed, so the other apps cannot connect to it. And your other containers are dying with 137 exit codes, indicating your Docker settings do not have enough memory to run all the containers. Go into the Docker Desktop preferences and give it more memory, then try again. ","title":"Error starting local server through docker","body":"<p>Your MySQL container appears to have been killed, so the other apps cannot connect to it. And your other containers are dying with 137 exit codes, indicating your Docker settings do not have enough memory to run all the containers. Go into the Docker Desktop preferences and give it more memory, then try again.</p>\n"}],"owner":{"account_id":23821482,"reputation":75,"user_id":19183105,"display_name":"Nazariy Dmytryshyn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":327,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659631367,"creation_date":1659628653,"question_id":73238938,"body_markdown":" I try to run the server locally according to this instruction, https://github.com/Backendless/BackendlessPro, but the following errors appear:\r\n\r\n    bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | 15:46:40.634 [ERROR] c.b.u.j.ExceptionLogInterceptor |main|  Error during SQL query execution.\r\n        bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\r\n        bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | \r\n        bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n        bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | \tat com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)\r\n        bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | \tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)\r\n        bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | \tat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:829)\r\n        bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | \tat com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:449)\r\n        bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | \tat com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:242)\r\n        bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | \tat com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)\r\n        bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | \tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)\r\n        bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | \tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:189)\r\n        bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | \tat com.backendless.waiting.MySQLWaiter.waitForMainDB(MySQLWaiter.java:37)\r\n        bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | \tat com.backendless.waiting.MySQLWaiter.waitForAccessibility(MySQLWaiter.java:23)\r\n        bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | \tat com.backendless.inject.config.WaiterInjectorConfig.configure(WaiterInjectorConfig.java:22)\r\n        bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | \tat com.google.inject.AbstractModule.configure(AbstractModule.java:61)\r\n        bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | \tat com.google.inject.spi.Elements$RecordingBinder.install(Elements.java:347)\r\n        bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | \tat com.google.inject.spi.Elements.getElements(Elements.java:104)\r\n        bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | \tat com.google.inject.util.Modules$OverrideModule.configure(Modules.java:214)\r\n        bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | \tat com.google.inject.AbstractModule.configure(AbstractModule.java:61)\r\n        bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | \tat com.google.inject.spi.Elements$RecordingBinder.install(Elements.java:347)\r\n        bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | \tat com.google.inject.spi.Elements.getElements(Elements.java:104)\r\n        bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | \tat com.google.inject.internal.InjectorShell$Builder.build(InjectorShell.java:137)\r\n        bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | \tat com.google.inject.internal.InternalInjectorCreator.build(InternalInjectorCreator.java:105)\r\n        bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | \tat com.google.inject.Guice.createInjector(Guice.java:87)\r\n        bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | \tat com.google.inject.Guice.createInjector(Guice.java:78)\r\n        bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | \tat play.api.inject.guice.GuiceBuilder.injector(GuiceInjectorBuilder.scala:200)\r\n        bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | \tat play.inject.guice.GuiceBuilder.injector(GuiceBuilder.java:211)\r\n        bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | \tat play.inject.guice.GuiceApplicationBuilder.build(GuiceApplicationBuilder.java:121)\r\n        bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | \tat play.inject.guice.GuiceApplicationLoader.load(GuiceApplicationLoader.java:32)\r\n        bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | \tat play.api.ApplicationLoader$JavaApplicationLoaderAdapter$1.load(ApplicationLoader.scala:181)\r\n        bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | \tat play.core.server.ProdServerStart$.start(ProdServerStart.scala:53)\r\n        bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | \tat play.core.server.ProdServerStart$.main(ProdServerStart.scala:29)\r\n        bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | \tat play.core.server.ProdServerStart.main(ProdServerStart.scala)\r\n        bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\r\n        bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | \r\n        bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n        bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | \tat jdk.internal.reflect.GeneratedConstructorAccessor19.newInstance(Unknown Source)\r\n        bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n        bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\r\n        bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | \tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)\r\n        bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | \tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)\r\n        bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | \tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)\r\n        bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | \tat com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)\r\n        bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | \tat com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)\r\n        bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | \tat com.mysql.cj.NativeSession.connect(NativeSession.java:120)\r\n        bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | \tat com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:949)\r\n        bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | \tat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:819)\r\n        bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | \t... 27 common frames omitted\r\n        bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | Caused by: java.net.UnknownHostException: bl-mysql\r\n        bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | \tat java.base/java.net.InetAddress$CachedAddresses.get(InetAddress.java:797)\r\n        bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | \tat java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1509)\r\n        bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | \tat java.base/java.net.InetAddress.getAllByName(InetAddress.java:1368)\r\n        bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | \tat java.base/java.net.InetAddress.getAllByName(InetAddress.java:1302)\r\n        bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | \tat com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:133)\r\n        bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | \tat com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)\r\n        bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | \t... 30 common frames omitted\r\n        bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | 15:46:40.639 [INFO] WaiterService |main|  SQL database &#39;main_backendless&#39; is not accessible. Error message: Communications link failure\r\n        bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | \r\n        bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.. Waiting for 3000 millis before retry...\r\n        a840@MacBook-Pro-840 scripts % \r\n\r\nI will provide the logs of the process launch, there are many errors, but I do not understand them, I will be glad if someone can help.\r\n\r\n    ID                          NAME                              IMAGE                                                                                                            NODE             DESIRED STATE   CURRENT STATE              ERROR                                                                                                                                                                     PORTS\r\n    mfr7ozmci73cxze5388heu46a   bl-swarm_bl-coderunner-java.1     backendless/bl-coderunner-java:6.6.3.7@sha256:0e3920f996cd900e4723b2e95c017ef05f5717f902aa7a9320f128d21abda939   docker-desktop   Running         Running 12 minutes ago                                                                                                                                                                               \r\n    q9w9u924m8uqmi2nnmgs1lul4   bl-swarm_bl-coderunner-js.1       backendless/bl-coderunner-js:6.6.3.7@sha256:775fb7cf9af8154ae690b74ad2ef0aa3d68e226bdd4dc1079b8b64733622855b     docker-desktop   Running         Running 12 minutes ago                                                                                                                                                                               \r\n    s5s7d8k3emldknske84v5wb02    \\_ bl-swarm_bl-coderunner-js.1   backendless/bl-coderunner-js:6.6.3.7@sha256:775fb7cf9af8154ae690b74ad2ef0aa3d68e226bdd4dc1079b8b64733622855b     docker-desktop   Shutdown        Complete 12 minutes ago                                                                                                                                                                              \r\n    lx0x94nzost6k2h6vtr8j8f82    \\_ bl-swarm_bl-coderunner-js.1   backendless/bl-coderunner-js:6.6.3.7@sha256:775fb7cf9af8154ae690b74ad2ef0aa3d68e226bdd4dc1079b8b64733622855b     docker-desktop   Shutdown        Failed 14 minutes ago      &quot;task: non-zero exit (137): dockerexec: unhealthy container&quot;                                                                                                              \r\n    hqr09wwgurcvy8z7tvtxxrlvw   bl-swarm_bl-config-loader.1       backendless/bl-config-loader:6.6.3.7@sha256:5bfa3253298dbe34073fde36fa310a714862fdd27d34d4233c594f534826a793     docker-desktop   Shutdown        Complete 13 minutes ago                                                                                                                                                                              \r\n    r4uelf7gj0lhlkk1mtms81vzs   bl-swarm_bl-consul.1              consul:1.1.0@sha256:681fa1f035a7f32310d9133eefec0d0a389f09440831fd6aea818d4c0a461c95                             docker-desktop   Running         Running 14 minutes ago                                                                                                                                                                               \r\n    o2ntv0b42abc7yu9vepvvpb67   bl-swarm_bl-hazelcast.1           backendless/bl-hazelcast:6.6.3.7@sha256:0781d47a9d6b7186e9d24ffbeb4be70abd3079aa2a03bdb7142cd7c2b54414c9         docker-desktop   Running         Running 10 minutes ago                                                                                                                                                                               \r\n    55afhj7l4qffvxgjb4p92nop6    \\_ bl-swarm_bl-hazelcast.1       backendless/bl-hazelcast:6.6.3.7@sha256:0781d47a9d6b7186e9d24ffbeb4be70abd3079aa2a03bdb7142cd7c2b54414c9         docker-desktop   Shutdown        Failed 12 minutes ago      &quot;task: non-zero exit (137): dockerexec: unhealthy container&quot;                                                                                                              \r\n    hdx0gov78wy6302k02dm5wlwa   bl-swarm_bl-mongo.1               mongo:4@sha256:5417e3110b5a905241261ceadeac7c9a53d7c0596b4bf808d1d4e2433b9e6716                                  docker-desktop   Running         Running 12 minutes ago                                                                                                                                                                               \r\n    rokeivzougmxxo9uqrcqfglys   bl-swarm_bl-mysql.1               mysql/mysql-server:8.0@sha256:e30a0320f2e3c7b7ee18ab903986ada6eb1ce8e5ef29941b36ec331fae5f10b2                   docker-desktop   Running         Preparing 59 seconds ago                                                                                                                                                                             \r\n    wkjhyxkq9a9ddhaszlz3jf3yr    \\_ bl-swarm_bl-mysql.1           mysql/mysql-server:8.0@sha256:e30a0320f2e3c7b7ee18ab903986ada6eb1ce8e5ef29941b36ec331fae5f10b2                   docker-desktop   Shutdown        Failed 59 seconds ago      &quot;unhealthy container shutdown failed: cannot stop container: bl-swarm_bl-mysql.1.wkjhyxkq9a9ddhaszlz3jf3yr: tried to kill container, but did not receive an exit event&quot;   \r\n    y20s8zi6ln52ykqv3upa38841    \\_ bl-swarm_bl-mysql.1           mysql/mysql-server:8.0@sha256:e30a0320f2e3c7b7ee18ab903986ada6eb1ce8e5ef29941b36ec331fae5f10b2                   docker-desktop   Shutdown        Failed 3 minutes ago       &quot;task: non-zero exit (1)&quot;                                                                                                                                                 \r\n    s58is3flbio7pzxhsnvsjle0j    \\_ bl-swarm_bl-mysql.1           mysql/mysql-server:8.0@sha256:e30a0320f2e3c7b7ee18ab903986ada6eb1ce8e5ef29941b36ec331fae5f10b2                   docker-desktop   Shutdown        Failed 3 minutes ago       &quot;task: non-zero exit (1)&quot;                                                                                                                                                 \r\n    l6ffodd7kxdsahb6n7as3bb2g    \\_ bl-swarm_bl-mysql.1           mysql/mysql-server:8.0@sha256:e30a0320f2e3c7b7ee18ab903986ada6eb1ce8e5ef29941b36ec331fae5f10b2                   docker-desktop   Shutdown        Failed 3 minutes ago       &quot;task: non-zero exit (1)&quot;                                                                                                                                                 \r\n    xsnbcjzh2qgd37h2zo4nnjsnn   bl-swarm_bl-redis-debug.1         redis:4@sha256:2e03fdd159f4a08d2165ca1c92adde438ae4e3e6b0f74322ce013a78ee81c88d                                  docker-desktop   Running         Running 13 minutes ago                                                                                                                                                                               \r\n    gw01p0n8bnpnvh80uatuapcqr   bl-swarm_bl-redis.1               redis:4@sha256:2e03fdd159f4a08d2165ca1c92adde438ae4e3e6b0f74322ce013a78ee81c88d                                  docker-desktop   Running         Running 13 minutes ago                                                                                                                                                                               \r\n    uxontpct0rucfypcw49d41kcl   bl-swarm_bl-rt-server.1           backendless/bl-rt-server:6.6.3.7@sha256:d602e78c7844308cbe052569cb626894154f94081ed0a84748f013b9459eb81f         docker-desktop   Running         Running 11 minutes ago                                                                                                                                                                               \r\n    jcm8ma3g04lrylabgy65ydnxk    \\_ bl-swarm_bl-rt-server.1       backendless/bl-rt-server:6.6.3.7@sha256:d602e78c7844308cbe052569cb626894154f94081ed0a84748f013b9459eb81f         docker-desktop   Shutdown        Failed 11 minutes ago      &quot;task: non-zero exit (137): dockerexec: unhealthy container&quot;                                                                                                              \r\n    os0wghihvjvdyinbodp2nfliq    \\_ bl-swarm_bl-rt-server.1       backendless/bl-rt-server:6.6.3.7@sha256:d602e78c7844308cbe052569cb626894154f94081ed0a84748f013b9459eb81f         docker-desktop   Shutdown        Complete 13 minutes ago                                                                                                                                                                              \r\n    0ucyw3q6buiw0ng0t54tg7rd7    \\_ bl-swarm_bl-rt-server.1       backendless/bl-rt-server:6.6.3.7@sha256:d602e78c7844308cbe052569cb626894154f94081ed0a84748f013b9459eb81f         docker-desktop   Shutdown        Failed 15 minutes ago      &quot;task: non-zero exit (137): dockerexec: unhealthy container&quot;                                                                                                              \r\n    x3dtqazlczfg7jsjh1ifa3lhb   bl-swarm_bl-server.1              backendless/bl-server:6.6.3.7@sha256:c29351a272b6e5e0b1240aa0d3ca8f512eb7ef4bd52e7137b161b8be521fbba2            docker-desktop   Running         Starting 3 minutes ago                                                                                                                                                                               \r\n    tod8u2icjwt10h590e70474bw    \\_ bl-swarm_bl-server.1          backendless/bl-server:6.6.3.7@sha256:c29351a272b6e5e0b1240aa0d3ca8f512eb7ef4bd52e7137b161b8be521fbba2            docker-desktop   Shutdown        Failed 3 minutes ago       &quot;task: non-zero exit (137): dockerexec: unhealthy container&quot;                                                                                                              \r\n    bwkjgneq2q0a92esjcdwerrf6    \\_ bl-swarm_bl-server.1          backendless/bl-server:6.6.3.7@sha256:c29351a272b6e5e0b1240aa0d3ca8f512eb7ef4bd52e7137b161b8be521fbba2            docker-desktop   Shutdown        Failed 7 minutes ago       &quot;task: non-zero exit (137): dockerexec: unhealthy container&quot;                                                                                                              \r\n    ovn9pi3rymy5yfp9q67bg8zsv    \\_ bl-swarm_bl-server.1          backendless/bl-server:6.6.3.7@sha256:c29351a272b6e5e0b1240aa0d3ca8f512eb7ef4bd52e7137b161b8be521fbba2            docker-desktop   Shutdown        Failed 11 minutes ago      &quot;task: non-zero exit (137): dockerexec: unhealthy container&quot;                                                                                                              \r\n    l2echsjo803fjjogmpd0ik38q   bl-swarm_bl-taskman.1             backendless/bl-server:6.6.3.7@sha256:c29351a272b6e5e0b1240aa0d3ca8f512eb7ef4bd52e7137b161b8be521fbba2            docker-desktop   Running         Running 16 minutes ago                                                                                                                                                                               \r\n    ps2b41pde9afcfkziwu12h0lh   bl-swarm_bl-upgrade.1             backendless/bl-upgrade:6.6.3.7@sha256:4ea21a1a1a3555cced54088e598a91ae7a982bd55bd376e2b8c24c315d7addf6           docker-desktop   Running         Running 16 minutes ago                                                                                                                                                                               \r\n    q9asqe4gtcr5sra7p930znlqw   bl-swarm_bl-web-console.1         backendless/bl-web-console:6.6.3.7@sha256:2c3bc6b8a5f19e4e09662049cd40cdb48dd4c519686879fa8bdedb30cb07fa28       docker-desktop   Running         Running 7 minutes ago                                                                                                                                                                                \r\n    y6xp8n5qvni7ineunwu1hmzcy    \\_ bl-swarm_bl-web-console.1     backendless/bl-web-console:6.6.3.7@sha256:2c3bc6b8a5f19e4e09662049cd40cdb48dd4c519686879fa8bdedb30cb07fa28       docker-desktop   Shutdown        Failed 8 minutes ago       &quot;task: non-zero exit (137): dockerexec: unhealthy container&quot;                                                                                                              \r\n    hu61em11ssndynph6umfx9nge    \\_ bl-swarm_bl-web-console.1     backendless/bl-web-console:6.6.3.7@sha256:2c3bc6b8a5f19e4e09662049cd40cdb48dd4c519686879fa8bdedb30cb07fa28       docker-desktop   Shutdown        Failed 10 minutes ago      &quot;task: non-zero exit (137): dockerexec: unhealthy container&quot;                                                                                                              \r\n    qb8yi2bx1000bina0rp0sgw9i    \\_ bl-swarm_bl-web-console.1     backendless/bl-web-console:6.6.3.7@sha256:2c3bc6b8a5f19e4e09662049cd40cdb48dd4c519686879fa8bdedb30cb07fa28       docker-desktop   Shutdown        Failed 11 minutes ago      &quot;task: non-zero exit (137): dockerexec: unhealthy container&quot;                                                                                                              \r\n    n43oc9btvhahv9cyfc98sh6wt    \\_ bl-swarm_bl-web-console.1     backendless/bl-web-console:6.6.3.7@sha256:2c3bc6b8a5f19e4e09662049cd40cdb48dd4c519686879fa8bdedb30cb07fa28       docker-desktop   Shutdown        Failed 13 minutes ago      &quot;task: non-zero exit (137): dockerexec: unhealthy container&quot;  \r\n\r\n Do you have any ideas?\r\nOperating system MacOs Monterey 12.3.1","title":"Error starting local server through docker","body":"<p>I try to run the server locally according to this instruction, <a href=\"https://github.com/Backendless/BackendlessPro\" rel=\"nofollow noreferrer\">https://github.com/Backendless/BackendlessPro</a>, but the following errors appear:</p>\n<pre><code>bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | 15:46:40.634 [ERROR] c.b.u.j.ExceptionLogInterceptor |main|  Error during SQL query execution.\n    bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\n    bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | \n    bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n    bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    |   at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)\n    bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    |   at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)\n    bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    |   at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:829)\n    bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    |   at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:449)\n    bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    |   at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:242)\n    bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    |   at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)\n    bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    |   at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)\n    bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    |   at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:189)\n    bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    |   at com.backendless.waiting.MySQLWaiter.waitForMainDB(MySQLWaiter.java:37)\n    bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    |   at com.backendless.waiting.MySQLWaiter.waitForAccessibility(MySQLWaiter.java:23)\n    bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    |   at com.backendless.inject.config.WaiterInjectorConfig.configure(WaiterInjectorConfig.java:22)\n    bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    |   at com.google.inject.AbstractModule.configure(AbstractModule.java:61)\n    bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    |   at com.google.inject.spi.Elements$RecordingBinder.install(Elements.java:347)\n    bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    |   at com.google.inject.spi.Elements.getElements(Elements.java:104)\n    bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    |   at com.google.inject.util.Modules$OverrideModule.configure(Modules.java:214)\n    bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    |   at com.google.inject.AbstractModule.configure(AbstractModule.java:61)\n    bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    |   at com.google.inject.spi.Elements$RecordingBinder.install(Elements.java:347)\n    bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    |   at com.google.inject.spi.Elements.getElements(Elements.java:104)\n    bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    |   at com.google.inject.internal.InjectorShell$Builder.build(InjectorShell.java:137)\n    bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    |   at com.google.inject.internal.InternalInjectorCreator.build(InternalInjectorCreator.java:105)\n    bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    |   at com.google.inject.Guice.createInjector(Guice.java:87)\n    bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    |   at com.google.inject.Guice.createInjector(Guice.java:78)\n    bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    |   at play.api.inject.guice.GuiceBuilder.injector(GuiceInjectorBuilder.scala:200)\n    bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    |   at play.inject.guice.GuiceBuilder.injector(GuiceBuilder.java:211)\n    bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    |   at play.inject.guice.GuiceApplicationBuilder.build(GuiceApplicationBuilder.java:121)\n    bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    |   at play.inject.guice.GuiceApplicationLoader.load(GuiceApplicationLoader.java:32)\n    bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    |   at play.api.ApplicationLoader$JavaApplicationLoaderAdapter$1.load(ApplicationLoader.scala:181)\n    bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    |   at play.core.server.ProdServerStart$.start(ProdServerStart.scala:53)\n    bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    |   at play.core.server.ProdServerStart$.main(ProdServerStart.scala:29)\n    bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    |   at play.core.server.ProdServerStart.main(ProdServerStart.scala)\n    bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\n    bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | \n    bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n    bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    |   at jdk.internal.reflect.GeneratedConstructorAccessor19.newInstance(Unknown Source)\n    bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    |   at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    |   at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\n    bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    |   at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)\n    bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    |   at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)\n    bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    |   at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)\n    bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    |   at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)\n    bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    |   at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)\n    bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    |   at com.mysql.cj.NativeSession.connect(NativeSession.java:120)\n    bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    |   at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:949)\n    bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    |   at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:819)\n    bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    |   ... 27 common frames omitted\n    bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | Caused by: java.net.UnknownHostException: bl-mysql\n    bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    |   at java.base/java.net.InetAddress$CachedAddresses.get(InetAddress.java:797)\n    bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    |   at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1509)\n    bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    |   at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1368)\n    bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    |   at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1302)\n    bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    |   at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:133)\n    bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    |   at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)\n    bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    |   ... 30 common frames omitted\n    bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | 15:46:40.639 [INFO] WaiterService |main|  SQL database 'main_backendless' is not accessible. Error message: Communications link failure\n    bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | \n    bl-swarm_bl-server.1.tod8u2icjwt1@docker-desktop    | The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.. Waiting for 3000 millis before retry...\n    a840@MacBook-Pro-840 scripts % \n</code></pre>\n<p>I will provide the logs of the process launch, there are many errors, but I do not understand them, I will be glad if someone can help.</p>\n<pre><code>ID                          NAME                              IMAGE                                                                                                            NODE             DESIRED STATE   CURRENT STATE              ERROR                                                                                                                                                                     PORTS\nmfr7ozmci73cxze5388heu46a   bl-swarm_bl-coderunner-java.1     backendless/bl-coderunner-java:6.6.3.7@sha256:0e3920f996cd900e4723b2e95c017ef05f5717f902aa7a9320f128d21abda939   docker-desktop   Running         Running 12 minutes ago                                                                                                                                                                               \nq9w9u924m8uqmi2nnmgs1lul4   bl-swarm_bl-coderunner-js.1       backendless/bl-coderunner-js:6.6.3.7@sha256:775fb7cf9af8154ae690b74ad2ef0aa3d68e226bdd4dc1079b8b64733622855b     docker-desktop   Running         Running 12 minutes ago                                                                                                                                                                               \ns5s7d8k3emldknske84v5wb02    \\_ bl-swarm_bl-coderunner-js.1   backendless/bl-coderunner-js:6.6.3.7@sha256:775fb7cf9af8154ae690b74ad2ef0aa3d68e226bdd4dc1079b8b64733622855b     docker-desktop   Shutdown        Complete 12 minutes ago                                                                                                                                                                              \nlx0x94nzost6k2h6vtr8j8f82    \\_ bl-swarm_bl-coderunner-js.1   backendless/bl-coderunner-js:6.6.3.7@sha256:775fb7cf9af8154ae690b74ad2ef0aa3d68e226bdd4dc1079b8b64733622855b     docker-desktop   Shutdown        Failed 14 minutes ago      &quot;task: non-zero exit (137): dockerexec: unhealthy container&quot;                                                                                                              \nhqr09wwgurcvy8z7tvtxxrlvw   bl-swarm_bl-config-loader.1       backendless/bl-config-loader:6.6.3.7@sha256:5bfa3253298dbe34073fde36fa310a714862fdd27d34d4233c594f534826a793     docker-desktop   Shutdown        Complete 13 minutes ago                                                                                                                                                                              \nr4uelf7gj0lhlkk1mtms81vzs   bl-swarm_bl-consul.1              consul:1.1.0@sha256:681fa1f035a7f32310d9133eefec0d0a389f09440831fd6aea818d4c0a461c95                             docker-desktop   Running         Running 14 minutes ago                                                                                                                                                                               \no2ntv0b42abc7yu9vepvvpb67   bl-swarm_bl-hazelcast.1           backendless/bl-hazelcast:6.6.3.7@sha256:0781d47a9d6b7186e9d24ffbeb4be70abd3079aa2a03bdb7142cd7c2b54414c9         docker-desktop   Running         Running 10 minutes ago                                                                                                                                                                               \n55afhj7l4qffvxgjb4p92nop6    \\_ bl-swarm_bl-hazelcast.1       backendless/bl-hazelcast:6.6.3.7@sha256:0781d47a9d6b7186e9d24ffbeb4be70abd3079aa2a03bdb7142cd7c2b54414c9         docker-desktop   Shutdown        Failed 12 minutes ago      &quot;task: non-zero exit (137): dockerexec: unhealthy container&quot;                                                                                                              \nhdx0gov78wy6302k02dm5wlwa   bl-swarm_bl-mongo.1               mongo:4@sha256:5417e3110b5a905241261ceadeac7c9a53d7c0596b4bf808d1d4e2433b9e6716                                  docker-desktop   Running         Running 12 minutes ago                                                                                                                                                                               \nrokeivzougmxxo9uqrcqfglys   bl-swarm_bl-mysql.1               mysql/mysql-server:8.0@sha256:e30a0320f2e3c7b7ee18ab903986ada6eb1ce8e5ef29941b36ec331fae5f10b2                   docker-desktop   Running         Preparing 59 seconds ago                                                                                                                                                                             \nwkjhyxkq9a9ddhaszlz3jf3yr    \\_ bl-swarm_bl-mysql.1           mysql/mysql-server:8.0@sha256:e30a0320f2e3c7b7ee18ab903986ada6eb1ce8e5ef29941b36ec331fae5f10b2                   docker-desktop   Shutdown        Failed 59 seconds ago      &quot;unhealthy container shutdown failed: cannot stop container: bl-swarm_bl-mysql.1.wkjhyxkq9a9ddhaszlz3jf3yr: tried to kill container, but did not receive an exit event&quot;   \ny20s8zi6ln52ykqv3upa38841    \\_ bl-swarm_bl-mysql.1           mysql/mysql-server:8.0@sha256:e30a0320f2e3c7b7ee18ab903986ada6eb1ce8e5ef29941b36ec331fae5f10b2                   docker-desktop   Shutdown        Failed 3 minutes ago       &quot;task: non-zero exit (1)&quot;                                                                                                                                                 \ns58is3flbio7pzxhsnvsjle0j    \\_ bl-swarm_bl-mysql.1           mysql/mysql-server:8.0@sha256:e30a0320f2e3c7b7ee18ab903986ada6eb1ce8e5ef29941b36ec331fae5f10b2                   docker-desktop   Shutdown        Failed 3 minutes ago       &quot;task: non-zero exit (1)&quot;                                                                                                                                                 \nl6ffodd7kxdsahb6n7as3bb2g    \\_ bl-swarm_bl-mysql.1           mysql/mysql-server:8.0@sha256:e30a0320f2e3c7b7ee18ab903986ada6eb1ce8e5ef29941b36ec331fae5f10b2                   docker-desktop   Shutdown        Failed 3 minutes ago       &quot;task: non-zero exit (1)&quot;                                                                                                                                                 \nxsnbcjzh2qgd37h2zo4nnjsnn   bl-swarm_bl-redis-debug.1         redis:4@sha256:2e03fdd159f4a08d2165ca1c92adde438ae4e3e6b0f74322ce013a78ee81c88d                                  docker-desktop   Running         Running 13 minutes ago                                                                                                                                                                               \ngw01p0n8bnpnvh80uatuapcqr   bl-swarm_bl-redis.1               redis:4@sha256:2e03fdd159f4a08d2165ca1c92adde438ae4e3e6b0f74322ce013a78ee81c88d                                  docker-desktop   Running         Running 13 minutes ago                                                                                                                                                                               \nuxontpct0rucfypcw49d41kcl   bl-swarm_bl-rt-server.1           backendless/bl-rt-server:6.6.3.7@sha256:d602e78c7844308cbe052569cb626894154f94081ed0a84748f013b9459eb81f         docker-desktop   Running         Running 11 minutes ago                                                                                                                                                                               \njcm8ma3g04lrylabgy65ydnxk    \\_ bl-swarm_bl-rt-server.1       backendless/bl-rt-server:6.6.3.7@sha256:d602e78c7844308cbe052569cb626894154f94081ed0a84748f013b9459eb81f         docker-desktop   Shutdown        Failed 11 minutes ago      &quot;task: non-zero exit (137): dockerexec: unhealthy container&quot;                                                                                                              \nos0wghihvjvdyinbodp2nfliq    \\_ bl-swarm_bl-rt-server.1       backendless/bl-rt-server:6.6.3.7@sha256:d602e78c7844308cbe052569cb626894154f94081ed0a84748f013b9459eb81f         docker-desktop   Shutdown        Complete 13 minutes ago                                                                                                                                                                              \n0ucyw3q6buiw0ng0t54tg7rd7    \\_ bl-swarm_bl-rt-server.1       backendless/bl-rt-server:6.6.3.7@sha256:d602e78c7844308cbe052569cb626894154f94081ed0a84748f013b9459eb81f         docker-desktop   Shutdown        Failed 15 minutes ago      &quot;task: non-zero exit (137): dockerexec: unhealthy container&quot;                                                                                                              \nx3dtqazlczfg7jsjh1ifa3lhb   bl-swarm_bl-server.1              backendless/bl-server:6.6.3.7@sha256:c29351a272b6e5e0b1240aa0d3ca8f512eb7ef4bd52e7137b161b8be521fbba2            docker-desktop   Running         Starting 3 minutes ago                                                                                                                                                                               \ntod8u2icjwt10h590e70474bw    \\_ bl-swarm_bl-server.1          backendless/bl-server:6.6.3.7@sha256:c29351a272b6e5e0b1240aa0d3ca8f512eb7ef4bd52e7137b161b8be521fbba2            docker-desktop   Shutdown        Failed 3 minutes ago       &quot;task: non-zero exit (137): dockerexec: unhealthy container&quot;                                                                                                              \nbwkjgneq2q0a92esjcdwerrf6    \\_ bl-swarm_bl-server.1          backendless/bl-server:6.6.3.7@sha256:c29351a272b6e5e0b1240aa0d3ca8f512eb7ef4bd52e7137b161b8be521fbba2            docker-desktop   Shutdown        Failed 7 minutes ago       &quot;task: non-zero exit (137): dockerexec: unhealthy container&quot;                                                                                                              \novn9pi3rymy5yfp9q67bg8zsv    \\_ bl-swarm_bl-server.1          backendless/bl-server:6.6.3.7@sha256:c29351a272b6e5e0b1240aa0d3ca8f512eb7ef4bd52e7137b161b8be521fbba2            docker-desktop   Shutdown        Failed 11 minutes ago      &quot;task: non-zero exit (137): dockerexec: unhealthy container&quot;                                                                                                              \nl2echsjo803fjjogmpd0ik38q   bl-swarm_bl-taskman.1             backendless/bl-server:6.6.3.7@sha256:c29351a272b6e5e0b1240aa0d3ca8f512eb7ef4bd52e7137b161b8be521fbba2            docker-desktop   Running         Running 16 minutes ago                                                                                                                                                                               \nps2b41pde9afcfkziwu12h0lh   bl-swarm_bl-upgrade.1             backendless/bl-upgrade:6.6.3.7@sha256:4ea21a1a1a3555cced54088e598a91ae7a982bd55bd376e2b8c24c315d7addf6           docker-desktop   Running         Running 16 minutes ago                                                                                                                                                                               \nq9asqe4gtcr5sra7p930znlqw   bl-swarm_bl-web-console.1         backendless/bl-web-console:6.6.3.7@sha256:2c3bc6b8a5f19e4e09662049cd40cdb48dd4c519686879fa8bdedb30cb07fa28       docker-desktop   Running         Running 7 minutes ago                                                                                                                                                                                \ny6xp8n5qvni7ineunwu1hmzcy    \\_ bl-swarm_bl-web-console.1     backendless/bl-web-console:6.6.3.7@sha256:2c3bc6b8a5f19e4e09662049cd40cdb48dd4c519686879fa8bdedb30cb07fa28       docker-desktop   Shutdown        Failed 8 minutes ago       &quot;task: non-zero exit (137): dockerexec: unhealthy container&quot;                                                                                                              \nhu61em11ssndynph6umfx9nge    \\_ bl-swarm_bl-web-console.1     backendless/bl-web-console:6.6.3.7@sha256:2c3bc6b8a5f19e4e09662049cd40cdb48dd4c519686879fa8bdedb30cb07fa28       docker-desktop   Shutdown        Failed 10 minutes ago      &quot;task: non-zero exit (137): dockerexec: unhealthy container&quot;                                                                                                              \nqb8yi2bx1000bina0rp0sgw9i    \\_ bl-swarm_bl-web-console.1     backendless/bl-web-console:6.6.3.7@sha256:2c3bc6b8a5f19e4e09662049cd40cdb48dd4c519686879fa8bdedb30cb07fa28       docker-desktop   Shutdown        Failed 11 minutes ago      &quot;task: non-zero exit (137): dockerexec: unhealthy container&quot;                                                                                                              \nn43oc9btvhahv9cyfc98sh6wt    \\_ bl-swarm_bl-web-console.1     backendless/bl-web-console:6.6.3.7@sha256:2c3bc6b8a5f19e4e09662049cd40cdb48dd4c519686879fa8bdedb30cb07fa28       docker-desktop   Shutdown        Failed 13 minutes ago      &quot;task: non-zero exit (137): dockerexec: unhealthy container&quot;  \n</code></pre>\n<p>Do you have any ideas?\nOperating system MacOs Monterey 12.3.1</p>\n"},{"tags":["java","spring-boot","yaml"],"comments":[{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1659631711,"post_id":73238974,"comment_id":129346251,"body_markdown":"The question is more subtle than it first appears. The `child` node contains keys that have different types of structure. Can you show a class or classes that represents the structure you desire?","body":"The question is more subtle than it first appears. The <code>child</code> node contains keys that have different types of structure. Can you show a class or classes that represents the structure you desire?"}],"answers":[{"tags":[],"owner":{"account_id":11619749,"reputation":171,"user_id":8511385,"display_name":"Deepesh Dagar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659630816,"creation_date":1659630816,"answer_id":73239430,"question_id":73238974,"body_markdown":"The map in yml can be created like this \r\n\r\n    parentkey:\r\n     child:\r\n       123:\r\n        key2:\r\n         subkey: value1\r\n        key3:\r\n         subkey1: value2\r\n         subkey3: value3\r\n        key4:\r\n         subkey4: value4\r\n       234:\r\n        key2:\r\n         subkey: value5\r\n        key3:\r\n         subkey1: value6\r\n         subkey3: value7\r\n        key4:\r\n         subkey4: value8\r\n\r\nThis can be read the same way Map&lt;String, Object&gt; child where keys will be 123 and 234. ","title":"How to construct Map with values in application.yml file","body":"<p>The map in yml can be created like this</p>\n<pre><code>parentkey:\n child:\n   123:\n    key2:\n     subkey: value1\n    key3:\n     subkey1: value2\n     subkey3: value3\n    key4:\n     subkey4: value4\n   234:\n    key2:\n     subkey: value5\n    key3:\n     subkey1: value6\n     subkey3: value7\n    key4:\n     subkey4: value8\n</code></pre>\n<p>This can be read the same way Map&lt;String, Object&gt; child where keys will be 123 and 234.</p>\n"},{"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659631215,"creation_date":1659631215,"answer_id":73239503,"question_id":73238974,"body_markdown":"Spring can translate YAML into a variety of object types, including user-defined classes as well as things like `List&lt;&gt;` and `Map&lt;&gt;`. It is also recursive; it can translate nested objects into other types.\r\n\r\nKnowing that, you can define an `@ConfigurationProperties` class that contains a `Map&lt;&gt;` and Spring will automatically create the objects to populate your map as long as it can figure out how to translate the key and value types.\r\n\r\nFor example, using a properties class like this:\r\n\r\n```java\r\n@Component\r\n@ConfigurationProperties(prefix = &quot;parentkey&quot;)\r\npublic class MyConfigProps {\r\n    private Map&lt;String, String&gt; children;\r\n\r\n    // getters and setters\r\n}\r\n```\r\n\r\nThis YAML will populate an instance of that class:\r\n\r\n```yaml\r\nparentkey:\r\n  children:\r\n    - key1: 123\r\n    - key2: abc\r\n```\r\n----\r\nIn the question it looks like the children nodes are not all of the same type; some are simple integer or string values, some have nested children themselves. So you&#39;ll have to tweak my example to match the actual structure you need to support. But since Spring can translate arbitrarily nested structures/objects, almost anything is possible. \r\n","title":"How to construct Map with values in application.yml file","body":"<p>Spring can translate YAML into a variety of object types, including user-defined classes as well as things like <code>List&lt;&gt;</code> and <code>Map&lt;&gt;</code>. It is also recursive; it can translate nested objects into other types.</p>\n<p>Knowing that, you can define an <code>@ConfigurationProperties</code> class that contains a <code>Map&lt;&gt;</code> and Spring will automatically create the objects to populate your map as long as it can figure out how to translate the key and value types.</p>\n<p>For example, using a properties class like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@ConfigurationProperties(prefix = &quot;parentkey&quot;)\npublic class MyConfigProps {\n    private Map&lt;String, String&gt; children;\n\n    // getters and setters\n}\n</code></pre>\n<p>This YAML will populate an instance of that class:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>parentkey:\n  children:\n    - key1: 123\n    - key2: abc\n</code></pre>\n<hr />\n<p>In the question it looks like the children nodes are not all of the same type; some are simple integer or string values, some have nested children themselves. So you'll have to tweak my example to match the actual structure you need to support. But since Spring can translate arbitrarily nested structures/objects, almost anything is possible.</p>\n"}],"owner":{"account_id":2413879,"reputation":239,"user_id":2108383,"accept_rate":0,"display_name":"user2108383"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1659631215,"creation_date":1659628787,"question_id":73238974,"body_markdown":"How to construct map with values in application.yml file, I was able to create a list of Objects but I&#39;m looking for how can I construct Map \r\n\r\nHere is my application.ymal file\r\n\r\n    parentkey:\r\n      child:\r\n        - key1: 123\r\n          key2:\r\n            subkey: value1\r\n          key3:\r\n            subkey1: value2\r\n            subkey3: value3\r\n          key4:\r\n            subkey4: value4\r\n        - key1: 123\r\n          key2:\r\n            subkey: value5\r\n          key3:\r\n            subkey1: value6\r\n            subkey3: value7\r\n          key4:\r\n            subkey4: value8\r\n\r\nand I created my like this: \r\n\r\n    @Configuration\r\n    @ConfigurationProperties(&quot;parentkey&quot;)\r\n    public class ConfigurationTest {\r\n     private List&lt;Configuration&gt; child;\r\n    }\r\n\r\nnow in my ConfigurationTest class can I get Map with key as value of key1 and value as Object contains key2 to ke4\r\n\r\nif yes, how Can I construct my application.ymal file","title":"How to construct Map with values in application.yml file","body":"<p>How to construct map with values in application.yml file, I was able to create a list of Objects but I'm looking for how can I construct Map</p>\n<p>Here is my application.ymal file</p>\n<pre><code>parentkey:\n  child:\n    - key1: 123\n      key2:\n        subkey: value1\n      key3:\n        subkey1: value2\n        subkey3: value3\n      key4:\n        subkey4: value4\n    - key1: 123\n      key2:\n        subkey: value5\n      key3:\n        subkey1: value6\n        subkey3: value7\n      key4:\n        subkey4: value8\n</code></pre>\n<p>and I created my like this:</p>\n<pre><code>@Configuration\n@ConfigurationProperties(&quot;parentkey&quot;)\npublic class ConfigurationTest {\n private List&lt;Configuration&gt; child;\n}\n</code></pre>\n<p>now in my ConfigurationTest class can I get Map with key as value of key1 and value as Object contains key2 to ke4</p>\n<p>if yes, how Can I construct my application.ymal file</p>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":14433236,"reputation":96,"user_id":10425988,"display_name":"Arturr300"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659630932,"creation_date":1659630932,"answer_id":73239452,"question_id":73238921,"body_markdown":"My solution:\r\n\r\n```\r\nObjectDetector.ObjectDetectorOptions.Builder optionsBuilder =\r\n    ObjectDetector.ObjectDetectorOptions.builder().\r\n    setScoreThreshold(threshold).\r\n    setMaxResults(maxResults);\r\n```","title":"Android tensorflow set Max results","body":"<p>My solution:</p>\n<pre><code>ObjectDetector.ObjectDetectorOptions.Builder optionsBuilder =\n    ObjectDetector.ObjectDetectorOptions.builder().\n    setScoreThreshold(threshold).\n    setMaxResults(maxResults);\n</code></pre>\n"}],"owner":{"account_id":25294386,"reputation":29,"user_id":19119811,"display_name":"sanju"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659630932,"creation_date":1659628607,"question_id":73238921,"body_markdown":"\r\nThe code for kotlin \r\n```\r\nval optionsBuilder =\r\n  ObjectDetector.ObjectDetectorOptions.builder()\r\n    .setScoreThreshold(threshold)\r\n    .setMaxResults(maxResults)\r\n```\r\nHow to do the same in java \r\n\r\nRefer: \r\n\r\nhttps://github.com/tensorflow/examples/tree/66f60ebc3dd2e8527b7bbbb280fe0657d54f20f4/lite/examples/object_detection/android/app/src/main/java/org/tensorflow/lite/examples/detection\r\n","title":"Android tensorflow set Max results","body":"<p>The code for kotlin</p>\n<pre><code>val optionsBuilder =\n  ObjectDetector.ObjectDetectorOptions.builder()\n    .setScoreThreshold(threshold)\n    .setMaxResults(maxResults)\n</code></pre>\n<p>How to do the same in java</p>\n<p>Refer:</p>\n<p><a href=\"https://github.com/tensorflow/examples/tree/66f60ebc3dd2e8527b7bbbb280fe0657d54f20f4/lite/examples/object_detection/android/app/src/main/java/org/tensorflow/lite/examples/detection\" rel=\"nofollow noreferrer\">https://github.com/tensorflow/examples/tree/66f60ebc3dd2e8527b7bbbb280fe0657d54f20f4/lite/examples/object_detection/android/app/src/main/java/org/tensorflow/lite/examples/detection</a></p>\n"},{"tags":["java","kotlin","gradle","groovy","gradle-plugin"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1659633106,"post_id":73239374,"comment_id":129346696,"body_markdown":"I would be somewhat surprised if this were possible.","body":"I would be somewhat surprised if this were possible."},{"owner":{"account_id":12488260,"reputation":9978,"user_id":9090751,"display_name":"Mafor"},"score":0,"creation_date":1659717176,"post_id":73239374,"comment_id":129368890,"body_markdown":"I guess you should be able to achive this by creating some kind of a Groovy wrapper around your plugin. But not with Kotlin alone.","body":"I guess you should be able to achive this by creating some kind of a Groovy wrapper around your plugin. But not with Kotlin alone."}],"owner":{"account_id":2458036,"reputation":3222,"user_id":2142728,"accept_rate":56,"display_name":"caeus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659630547,"creation_date":1659630547,"question_id":73239374,"body_markdown":"I&#39;m writing a Gradle plugin using Kotlin.\r\n\r\nThis plugin will, however, be used using the groovy dsl.\r\n\r\nOne of the things I want to achieve is to have a block that works similar to the `dependencies` block. That block somehow translates statements like:\r\n`testImplementation &quot;some:library:1&quot;` to `add(&quot;testImplementation&quot;,&quot;some:library:1&quot;)`.\r\n\r\nso I assume `testImplementation`, `implementation`, `api` and others, are just methods that exist dynamically in the `dependencies` block delegate.\r\n\r\nHow can I achieve a similar behavior when writing plugins using either Java or Kotlin?","title":"Groovy dynamic methods, from Java (or any other JVM language)... how?","body":"<p>I'm writing a Gradle plugin using Kotlin.</p>\n<p>This plugin will, however, be used using the groovy dsl.</p>\n<p>One of the things I want to achieve is to have a block that works similar to the <code>dependencies</code> block. That block somehow translates statements like:\n<code>testImplementation &quot;some:library:1&quot;</code> to <code>add(&quot;testImplementation&quot;,&quot;some:library:1&quot;)</code>.</p>\n<p>so I assume <code>testImplementation</code>, <code>implementation</code>, <code>api</code> and others, are just methods that exist dynamically in the <code>dependencies</code> block delegate.</p>\n<p>How can I achieve a similar behavior when writing plugins using either Java or Kotlin?</p>\n"},{"tags":["java","android","rx-java","rx-android","rx-java2"],"answers":[{"tags":[],"owner":{"account_id":4716867,"reputation":1582,"user_id":3815805,"display_name":"Petr Kub&#225;č"},"down_vote_count":4,"up_vote_count":139,"is_accepted":false,"score":135,"last_activity_date":1499510369,"creation_date":1499510369,"answer_id":44985270,"question_id":44984730,"body_markdown":"SubscribeOn specify the Scheduler on which an Observable will operate.\r\nObserveOn specify the Scheduler on which an observer will observe this Observable.\r\n\r\nSo basically SubscribeOn is mostly subscribed (executed) on a background thread ( you do not want to block the UI thread while waiting for the observable) and also in ObserveOn you want to observe the result on a main thread...\r\n\r\nIf you are familiar with AsyncTask then SubscribeOn is similar to doInBackground method and ObserveOn to onPostExecute...","title":"Rxandroid What&#39;s the difference between SubscribeOn and ObserveOn","body":"<p>SubscribeOn specify the Scheduler on which an Observable will operate.\nObserveOn specify the Scheduler on which an observer will observe this Observable.</p>\n\n<p>So basically SubscribeOn is mostly subscribed (executed) on a background thread ( you do not want to block the UI thread while waiting for the observable) and also in ObserveOn you want to observe the result on a main thread...</p>\n\n<p>If you are familiar with AsyncTask then SubscribeOn is similar to doInBackground method and ObserveOn to onPostExecute...</p>\n"},{"tags":[],"owner":{"account_id":9945900,"reputation":3598,"user_id":8164116,"display_name":"Daksh Gargas"},"down_vote_count":0,"up_vote_count":86,"is_accepted":true,"score":86,"last_activity_date":1659629823,"creation_date":1522323308,"answer_id":49555019,"question_id":44984730,"body_markdown":"In case you find the [above answer][1] full of jargons: \r\n\r\n**tl;dr**\r\n\r\n     Observable.just(&quot;Some string&quot;)                 \r\n               .map(str -&gt; str.length())              \r\n               .observeOn(Schedulers.computation())   \r\n               .map(length -&gt; 2 * length)   \r\n               .observeOn(AndroidSchedulers.mainThread())\r\n               .subscribeOn(Schedulers.io())\r\n               .subscribe(---)\r\n\r\n&gt; Observe an observable... perform the map function in an **IO** thread (since we are `&quot;subscribingOn&quot;` that thread)... now switch to a **Computation Thread** and perform `map(length -&gt; 2 * length)` function... and finally make sure you Observe the output on (`observeOn()`) **Main** thread.\r\n\r\n\r\n**Anyway**,\r\n\r\n`observeOn()` simply changes the thread of all operators further **Downstream**. People usually have this *misconception* that `observeOn` also acts as *upstream*, but it doesn&#39;t.\r\n\r\nThe below example will explain it better...\r\n\r\n    Observable.just(&quot;Some string&quot;)                  // UI\r\n           .map(str -&gt; str.length())               // UI\r\n           .observeOn(Schedulers.computation())   // Changing the thread\r\n           .map(length -&gt; 2 * length)            // Computation\r\n           .subscribe(---)                       // Computation\r\n\r\n`subscribeOn()` only **influences** the thread which is going to be used when Observable is going to get subscribed to and it will stay on it downstream.\r\n\r\n    Observable.just(&quot;Some String&quot;)              // Computation\r\n      .map(str -&gt; str.length())                // Computation\r\n      .map(length -&gt; 2 * length)              // Computation\r\n      .subscribeOn(Schedulers.computation()) // -- changing the thread\r\n      .subscribe(number -&gt; Log.d(&quot;&quot;, &quot;Number &quot; + number)); // Computation\r\n\r\n    \r\n\r\n&gt;**Position does not matter (`subscribeOn()`**)\r\n\r\nWhy? \r\nBecause it *affects* only the time of subscription.\r\n\r\n&gt; **Methods that obey the contact with `subscribeOn`**\r\n\r\n-&gt; Basic example : `Observable.create`\r\n\r\nAll the work specified inside the `create` body will run on the thread specified in `subscribeOn`.\r\n\r\nAnother example: `Observable.just`,`Observable.from` or `Observable.range`\r\n\r\n**Note:** All those methods accept values, so do not use blocking methods to create those values, as subscribeOn won&#39;t affect it.\r\n\r\nIf you want to use blocking functions, use\r\n\r\n **`Observable.defer(() -&gt; Obervable.just(blockingMenthod())));`**\r\n\r\n&gt; Important Fact: \r\n\r\nsubscribeOn does not work with `Subjects`\r\n\r\n&gt; Multiple `subscribeOn`:\r\n\r\nIf there are multiple instances of `subscribeOn` in the stream, only the **first** one has a practical effect.\r\n\r\n&gt; Subscribe &amp; `subscribeOn`\r\n\r\nPeople think that `subscribeOn` has something to do with `Observable.subscribe`, but it doesn&#39;t have anything special to do with it.\r\n *It only affects the subscription phase*.\r\n\r\n\r\nSource : Tomek Polański ([Medium][2])\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/44985270/8164116\r\n  [2]: https://medium.com/upday-devs/rxjava-subscribeon-vs-observeon-9af518ded53a","title":"Rxandroid What&#39;s the difference between SubscribeOn and ObserveOn","body":"<p>In case you find the <a href=\"https://stackoverflow.com/a/44985270/8164116\">above answer</a> full of jargons:</p>\n<p><strong>tl;dr</strong></p>\n<pre><code> Observable.just(&quot;Some string&quot;)                 \n           .map(str -&gt; str.length())              \n           .observeOn(Schedulers.computation())   \n           .map(length -&gt; 2 * length)   \n           .observeOn(AndroidSchedulers.mainThread())\n           .subscribeOn(Schedulers.io())\n           .subscribe(---)\n</code></pre>\n<blockquote>\n<p>Observe an observable... perform the map function in an <strong>IO</strong> thread (since we are <code>&quot;subscribingOn&quot;</code> that thread)... now switch to a <strong>Computation Thread</strong> and perform <code>map(length -&gt; 2 * length)</code> function... and finally make sure you Observe the output on (<code>observeOn()</code>) <strong>Main</strong> thread.</p>\n</blockquote>\n<p><strong>Anyway</strong>,</p>\n<p><code>observeOn()</code> simply changes the thread of all operators further <strong>Downstream</strong>. People usually have this <em>misconception</em> that <code>observeOn</code> also acts as <em>upstream</em>, but it doesn't.</p>\n<p>The below example will explain it better...</p>\n<pre><code>Observable.just(&quot;Some string&quot;)                  // UI\n       .map(str -&gt; str.length())               // UI\n       .observeOn(Schedulers.computation())   // Changing the thread\n       .map(length -&gt; 2 * length)            // Computation\n       .subscribe(---)                       // Computation\n</code></pre>\n<p><code>subscribeOn()</code> only <strong>influences</strong> the thread which is going to be used when Observable is going to get subscribed to and it will stay on it downstream.</p>\n<pre><code>Observable.just(&quot;Some String&quot;)              // Computation\n  .map(str -&gt; str.length())                // Computation\n  .map(length -&gt; 2 * length)              // Computation\n  .subscribeOn(Schedulers.computation()) // -- changing the thread\n  .subscribe(number -&gt; Log.d(&quot;&quot;, &quot;Number &quot; + number)); // Computation\n</code></pre>\n<blockquote>\n<p><strong>Position does not matter (<code>subscribeOn()</code></strong>)</p>\n</blockquote>\n<p>Why?\nBecause it <em>affects</em> only the time of subscription.</p>\n<blockquote>\n<p><strong>Methods that obey the contact with <code>subscribeOn</code></strong></p>\n</blockquote>\n<p>-&gt; Basic example : <code>Observable.create</code></p>\n<p>All the work specified inside the <code>create</code> body will run on the thread specified in <code>subscribeOn</code>.</p>\n<p>Another example: <code>Observable.just</code>,<code>Observable.from</code> or <code>Observable.range</code></p>\n<p><strong>Note:</strong> All those methods accept values, so do not use blocking methods to create those values, as subscribeOn won't affect it.</p>\n<p>If you want to use blocking functions, use</p>\n<p><strong><code>Observable.defer(() -&gt; Obervable.just(blockingMenthod())));</code></strong></p>\n<blockquote>\n<p>Important Fact:</p>\n</blockquote>\n<p>subscribeOn does not work with <code>Subjects</code></p>\n<blockquote>\n<p>Multiple <code>subscribeOn</code>:</p>\n</blockquote>\n<p>If there are multiple instances of <code>subscribeOn</code> in the stream, only the <strong>first</strong> one has a practical effect.</p>\n<blockquote>\n<p>Subscribe &amp; <code>subscribeOn</code></p>\n</blockquote>\n<p>People think that <code>subscribeOn</code> has something to do with <code>Observable.subscribe</code>, but it doesn't have anything special to do with it.\n<em>It only affects the subscription phase</em>.</p>\n<p>Source : Tomek Polański (<a href=\"https://medium.com/upday-devs/rxjava-subscribeon-vs-observeon-9af518ded53a\" rel=\"noreferrer\">Medium</a>)</p>\n"},{"tags":[],"owner":{"account_id":1022648,"reputation":33896,"user_id":1032613,"accept_rate":84,"display_name":"WSBT"},"down_vote_count":0,"up_vote_count":72,"is_accepted":false,"score":72,"last_activity_date":1542822485,"creation_date":1542764796,"answer_id":53404202,"question_id":44984730,"body_markdown":"# Summary #\n* Use `observeOn` to set threads for **callbacks** &quot;further down the stream (below it)&quot;, such as code blocks inside `doOnNext` or `map`.\n* Use `subscribeOn` to set threads for **initializations** &quot;upstream (above it)&quot;, such as `doOnSubscribe`, `Observable.just` or `Observable.create`.\n* Both methods can be called multiple times, with each call overwriting previous ones. **Position matters.**\n\n----\n\nLet&#39;s walk through this topic with an example: we want to find the length of the string &quot;user1032613&quot;. This is not an easy task for computers, so it&#39;s only natural that we perform the intense calculation in a background thread, to avoid freezing the app.\n\n# observeOn #\n\nWe can call `observeOn` as many times as we like, and it controls which thread all **callbacks below it** will run. It&#39;s easy to use, and works just as you&#39;d expect.\n\nFor example, we will show a progress bar on the main UI thread, then do intensive/blocking operations in another thread, then come back to the main UI thread to update the result:\n\n        Observable.just(&quot;user1032613&quot;)\n\n                .observeOn(mainThread) // set thread for operation 1\n                .doOnNext {\n                    /* operation 1 */\n                    print(&quot;display progress bar&quot;)\n                    progressBar.visibility = View.VISIBLE\n                }\n\n                .observeOn(backThread) // set thread for operation 2 and 3\n                .map {\n                    /* operation 2 */\n                    print(&quot;calculating&quot;)\n                    Thread.sleep(5000)\n                    it.length\n                }\n\n                .doOnNext {\n                    /* operation 3 */\n                    print(&quot;finished calculating&quot;)\n                }\n\n                .observeOn(mainThread) // set thread for operation 4\n                .doOnNext {\n                    /* operation 4 */\n                    print(&quot;hide progress bar and display result&quot;)\n                    progressBar.visibility = View.GONE\n                    resultTextView.text = &quot;There&#39;re $it characters!&quot;\n                }\n\n                .subscribe()\n\nIn the above example, `/* operation 1 */` is ran in the `mainThread` because we set it using `observeOn(mainThread)` on the line right above it; then we switch to `backThread` by calling `observeOn` again, so `/* operation 2 */` will run there. Because we didn&#39;t change it before chaining `/* operation 3 */`, it will run in the back thread as well, just like `/* operation 2 */`; finally we call `observeOn(mainThread)` again, to make sure `/* operation 4 */` updates the UI from the main thread.\n\n# subscribeOn #\n\nSo we&#39;ve learned `observeOn` sets threads for subsequent callbacks. What else are we missing? Well, the `Observable` itself, and its methods such as `just()`, `create()`, `subscribe()` and so on, are also code that needs to be executed. This is how objects are passed along the stream. We use `subscribeOn` to set threads for code related to `Observable` itself.\n\nIf we remove all the callbacks (controlled by `observeOn` discussed earlier), we are left with the &quot;skeleton code&quot; that will, by default, run on whichever thread the code is written in (probably main thread):\n\n        Observable.just(&quot;user1032613&quot;)\n                .observeOn(mainThread)\n                .doOnNext {\n                }\n                .observeOn(backThread)\n                .map {\n                }\n                .doOnNext {\n                }\n                .observeOn(mainThread)\n                .doOnNext {\n                }\n                .subscribe()\n\nIf we aren&#39;t happy about this empty skeleton code running on main thread, we can use `subscribeOn` to change it. For example, maybe the first line `Observable.just(&quot;user1032613&quot;)` isn&#39;t as simple as creating a stream from my user name - maybe it&#39;s a string from the Internet, or perhaps you are using `doOnSubscribe` for some other intensive operations. In that case, you can call `subscribeOn(backThread)` to put some of the code in another thread.\n\n### Where to put `subscribeOn` ###\nAt the time of writing this answer, there are some misconceptions saying &quot;only call it once&quot;, &quot;position does not matter&quot;, and &quot;if you call it multiple times, only the first time counts&quot;. After lots of researches and experiments, it turns out `subscribeOn` can be usefully called multiple times.\n\nBecause `Observable` uses [Builder Pattern][1] (fancy name for &quot;chaining methods one after another&quot;), `subscribeOn` is applied in reverse order. Therefore, this method sets the thread for **code above it**, exactly the opposite of `observeOn`.\n\nWe can experiment this using `doOnSubscribe` method. This method is triggered on the subscription event, and it runs on the thread set by `subscribeOn`:\n\n        Observable.just(&quot;user1032613&quot;)\n                .doOnSubscribe {\n                    print(&quot;#3 running on main thread&quot;)\n                }\n                .subscribeOn(mainThread) // set thread for #3 and just()\n                .doOnNext {\n                }\n                .map {\n                }\n                .doOnSubscribe {\n                    print(&quot;#2 running on back thread&quot;)\n                }\n                .doOnNext {\n                }\n                .subscribeOn(backThread) // set thread for #2 above\n                .doOnNext {\n                }\n                .doOnSubscribe {\n                    print(&quot;#1 running on default thread&quot;)\n                }\n                .subscribe()\n\nIt might be easier to follow the logic, if you read the above example *from bottom to top*, just like how Builder Pattern executes the code.\n\nIn this example, the first line `Observable.just(&quot;user1032613&quot;)` is run in the same thread as `print(&quot;#3&quot;)` because there are no more `subscribeOn` in-between them. This creates the illusion of &quot;only the first call matters&quot; for people who only care about code inside `just()` or `create()`. This [quickly falls apart once you start doing more][2].\n\n---\n\n### Footnote: ###\nThreads and `print()` functions in the examples are defined, for brevity, as follows:\n\n    val mainThread = AndroidSchedulers.mainThread()\n    val backThread = Schedulers.computation()\n    private fun print(msg: String) = Log.i(&quot;&quot;, &quot;${Thread.currentThread().name}: $msg&quot;)\n\n\n\n\n  [1]: https://en.wikipedia.org/wiki/Builder_pattern\n  [2]: https://github.com/ReactiveX/RxJava/issues/5459","title":"Rxandroid What&#39;s the difference between SubscribeOn and ObserveOn","body":"<h1>Summary</h1>\n<ul>\n<li>Use <code>observeOn</code> to set threads for <strong>callbacks</strong> &quot;further down the stream (below it)&quot;, such as code blocks inside <code>doOnNext</code> or <code>map</code>.</li>\n<li>Use <code>subscribeOn</code> to set threads for <strong>initializations</strong> &quot;upstream (above it)&quot;, such as <code>doOnSubscribe</code>, <code>Observable.just</code> or <code>Observable.create</code>.</li>\n<li>Both methods can be called multiple times, with each call overwriting previous ones. <strong>Position matters.</strong></li>\n</ul>\n<hr />\n<p>Let's walk through this topic with an example: we want to find the length of the string &quot;user1032613&quot;. This is not an easy task for computers, so it's only natural that we perform the intense calculation in a background thread, to avoid freezing the app.</p>\n<h1>observeOn</h1>\n<p>We can call <code>observeOn</code> as many times as we like, and it controls which thread all <strong>callbacks below it</strong> will run. It's easy to use, and works just as you'd expect.</p>\n<p>For example, we will show a progress bar on the main UI thread, then do intensive/blocking operations in another thread, then come back to the main UI thread to update the result:</p>\n<pre><code>    Observable.just(&quot;user1032613&quot;)\n\n            .observeOn(mainThread) // set thread for operation 1\n            .doOnNext {\n                /* operation 1 */\n                print(&quot;display progress bar&quot;)\n                progressBar.visibility = View.VISIBLE\n            }\n\n            .observeOn(backThread) // set thread for operation 2 and 3\n            .map {\n                /* operation 2 */\n                print(&quot;calculating&quot;)\n                Thread.sleep(5000)\n                it.length\n            }\n\n            .doOnNext {\n                /* operation 3 */\n                print(&quot;finished calculating&quot;)\n            }\n\n            .observeOn(mainThread) // set thread for operation 4\n            .doOnNext {\n                /* operation 4 */\n                print(&quot;hide progress bar and display result&quot;)\n                progressBar.visibility = View.GONE\n                resultTextView.text = &quot;There're $it characters!&quot;\n            }\n\n            .subscribe()\n</code></pre>\n<p>In the above example, <code>/* operation 1 */</code> is ran in the <code>mainThread</code> because we set it using <code>observeOn(mainThread)</code> on the line right above it; then we switch to <code>backThread</code> by calling <code>observeOn</code> again, so <code>/* operation 2 */</code> will run there. Because we didn't change it before chaining <code>/* operation 3 */</code>, it will run in the back thread as well, just like <code>/* operation 2 */</code>; finally we call <code>observeOn(mainThread)</code> again, to make sure <code>/* operation 4 */</code> updates the UI from the main thread.</p>\n<h1>subscribeOn</h1>\n<p>So we've learned <code>observeOn</code> sets threads for subsequent callbacks. What else are we missing? Well, the <code>Observable</code> itself, and its methods such as <code>just()</code>, <code>create()</code>, <code>subscribe()</code> and so on, are also code that needs to be executed. This is how objects are passed along the stream. We use <code>subscribeOn</code> to set threads for code related to <code>Observable</code> itself.</p>\n<p>If we remove all the callbacks (controlled by <code>observeOn</code> discussed earlier), we are left with the &quot;skeleton code&quot; that will, by default, run on whichever thread the code is written in (probably main thread):</p>\n<pre><code>    Observable.just(&quot;user1032613&quot;)\n            .observeOn(mainThread)\n            .doOnNext {\n            }\n            .observeOn(backThread)\n            .map {\n            }\n            .doOnNext {\n            }\n            .observeOn(mainThread)\n            .doOnNext {\n            }\n            .subscribe()\n</code></pre>\n<p>If we aren't happy about this empty skeleton code running on main thread, we can use <code>subscribeOn</code> to change it. For example, maybe the first line <code>Observable.just(&quot;user1032613&quot;)</code> isn't as simple as creating a stream from my user name - maybe it's a string from the Internet, or perhaps you are using <code>doOnSubscribe</code> for some other intensive operations. In that case, you can call <code>subscribeOn(backThread)</code> to put some of the code in another thread.</p>\n<h3>Where to put <code>subscribeOn</code></h3>\n<p>At the time of writing this answer, there are some misconceptions saying &quot;only call it once&quot;, &quot;position does not matter&quot;, and &quot;if you call it multiple times, only the first time counts&quot;. After lots of researches and experiments, it turns out <code>subscribeOn</code> can be usefully called multiple times.</p>\n<p>Because <code>Observable</code> uses <a href=\"https://en.wikipedia.org/wiki/Builder_pattern\" rel=\"noreferrer\">Builder Pattern</a> (fancy name for &quot;chaining methods one after another&quot;), <code>subscribeOn</code> is applied in reverse order. Therefore, this method sets the thread for <strong>code above it</strong>, exactly the opposite of <code>observeOn</code>.</p>\n<p>We can experiment this using <code>doOnSubscribe</code> method. This method is triggered on the subscription event, and it runs on the thread set by <code>subscribeOn</code>:</p>\n<pre><code>    Observable.just(&quot;user1032613&quot;)\n            .doOnSubscribe {\n                print(&quot;#3 running on main thread&quot;)\n            }\n            .subscribeOn(mainThread) // set thread for #3 and just()\n            .doOnNext {\n            }\n            .map {\n            }\n            .doOnSubscribe {\n                print(&quot;#2 running on back thread&quot;)\n            }\n            .doOnNext {\n            }\n            .subscribeOn(backThread) // set thread for #2 above\n            .doOnNext {\n            }\n            .doOnSubscribe {\n                print(&quot;#1 running on default thread&quot;)\n            }\n            .subscribe()\n</code></pre>\n<p>It might be easier to follow the logic, if you read the above example <em>from bottom to top</em>, just like how Builder Pattern executes the code.</p>\n<p>In this example, the first line <code>Observable.just(&quot;user1032613&quot;)</code> is run in the same thread as <code>print(&quot;#3&quot;)</code> because there are no more <code>subscribeOn</code> in-between them. This creates the illusion of &quot;only the first call matters&quot; for people who only care about code inside <code>just()</code> or <code>create()</code>. This <a href=\"https://github.com/ReactiveX/RxJava/issues/5459\" rel=\"noreferrer\">quickly falls apart once you start doing more</a>.</p>\n<hr />\n<h3>Footnote:</h3>\n<p>Threads and <code>print()</code> functions in the examples are defined, for brevity, as follows:</p>\n<pre><code>val mainThread = AndroidSchedulers.mainThread()\nval backThread = Schedulers.computation()\nprivate fun print(msg: String) = Log.i(&quot;&quot;, &quot;${Thread.currentThread().name}: $msg&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":125163,"reputation":2985,"user_id":320761,"display_name":"Lukasz Frankowski"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1558548420,"creation_date":1558548420,"answer_id":56262617,"question_id":44984730,"body_markdown":"If someone finds rx java description hard to understand (as me for example), here is pure java explanation:\r\n\r\n### subscribeOn()\r\n\r\n```java\r\nObservable.just(&quot;something&quot;)\r\n  .subscribeOn(Schedulers.newThread())\r\n  .subscribe(...);\r\n```\r\n\r\nIs equivalent of:\r\n\r\n```java\r\nObservable observable = Observable.just(&quot;something&quot;);\r\nnew Thread(() -&gt; observable.subscribe(...)).start();\r\n```\r\n\r\nBecause `Observable` emits values on `subscribe()` and here `subscribe()` goes in the separate thread, the values are also emitted in the same thread as `subscribe()`. This is why it works &quot;upstream&quot; (influences the thread for the previous operations) and &quot;downstream&quot;.\r\n\r\n### observeOn()\r\n\r\n```java\r\nObservable.just(&quot;something&quot;)\r\n  .observeOn(Schedulers.newThread())\r\n  .subscribe(...);\r\n```\r\n\r\nIs equivalent of:\r\n\r\n```java\r\nObservable observable = Observable.just(&quot;something&quot;)\r\n  .subscribe(it -&gt; new Thread(() -&gt; ...).start());\r\n```\r\n\r\nHere `Observable` emits values in the main thread, only the listener method is executed in the separate thread.","title":"Rxandroid What&#39;s the difference between SubscribeOn and ObserveOn","body":"<p>If someone finds rx java description hard to understand (as me for example), here is pure java explanation:</p>\n\n<h3>subscribeOn()</h3>\n\n<pre class=\"lang-java prettyprint-override\"><code>Observable.just(\"something\")\n  .subscribeOn(Schedulers.newThread())\n  .subscribe(...);\n</code></pre>\n\n<p>Is equivalent of:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Observable observable = Observable.just(\"something\");\nnew Thread(() -&gt; observable.subscribe(...)).start();\n</code></pre>\n\n<p>Because <code>Observable</code> emits values on <code>subscribe()</code> and here <code>subscribe()</code> goes in the separate thread, the values are also emitted in the same thread as <code>subscribe()</code>. This is why it works \"upstream\" (influences the thread for the previous operations) and \"downstream\".</p>\n\n<h3>observeOn()</h3>\n\n<pre class=\"lang-java prettyprint-override\"><code>Observable.just(\"something\")\n  .observeOn(Schedulers.newThread())\n  .subscribe(...);\n</code></pre>\n\n<p>Is equivalent of:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Observable observable = Observable.just(\"something\")\n  .subscribe(it -&gt; new Thread(() -&gt; ...).start());\n</code></pre>\n\n<p>Here <code>Observable</code> emits values in the main thread, only the listener method is executed in the separate thread.</p>\n"},{"tags":[],"owner":{"account_id":453392,"reputation":3421,"user_id":850347,"accept_rate":86,"display_name":"Stanley Ko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1601621861,"creation_date":1601621861,"answer_id":64167307,"question_id":44984730,"body_markdown":"This answer is nothing new, I just want to clarify a little bit more.\r\n\r\n1. Let&#39;s assume that we have two threads. \r\n\r\n        val pool1 = Executors.newCachedThreadPool { runnable -&gt; Thread(runnable, &quot;Thread 1&quot;) }\r\n        val pool2 = Executors.newCachedThreadPool { runnable -&gt; Thread(runnable, &quot;Thread 2&quot;) }\r\n\r\n&lt;br&gt;\r\n\r\n2. As the answers described, `observeOn` will set `Downstream`, and `subscribeOn` will set `Upstream`. But what if both of them was used? For check this, I added logs line by line.\r\n\r\n       Observable.just(&quot;what if use both&quot;)\r\n        .doOnSubscribe { Log.d(&quot;Thread&quot;, &quot;both, doOnSubscribe A &quot; + Thread.currentThread().name) }\r\n        .doOnNext { Log.d(&quot;Thread&quot;, &quot;both, doOnNext A &quot; + Thread.currentThread().name) }\r\n        .map {\r\n            Log.d(&quot;Thread&quot;, &quot;both, map A &quot; + Thread.currentThread().name)\r\n            it + &quot; A&quot;\r\n        }\r\n        \r\n        // observeOn\r\n        .observeOn(Schedulers.from(pool1)) \r\n\r\n        .doOnSubscribe { Log.d(&quot;Thread&quot;, &quot;both, doOnSubscribe B &quot; + Thread.currentThread().name) }\r\n        .doOnNext { Log.d(&quot;Thread&quot;, &quot;both, doOnNext B &quot; + Thread.currentThread().name) }\r\n        .map {\r\n            Log.d(&quot;Thread&quot;, &quot;both, map B &quot; + Thread.currentThread().name)\r\n            it + &quot; B&quot;\r\n        }\r\n\r\n        // subscribeOn\r\n        .subscribeOn(Schedulers.from(pool2)) \r\n\r\n        .doOnSubscribe { Log.d(&quot;Thread&quot;, &quot;both, doOnSubscribe C &quot; + Thread.currentThread().name) }\r\n        .doOnNext { Log.d(&quot;Thread&quot;, &quot;both, doOnNext C &quot; + Thread.currentThread().name) }\r\n        .map {\r\n           Log.d(&quot;Thread&quot;, &quot;both, map C &quot; + Thread.currentThread().name)\r\n           it + &quot; C&quot;\r\n         }\r\n\r\n        // observeOn main\r\n        .observeOn(AndroidSchedulers.mainThread())\r\n        .doOnNext { Log.d(&quot;Thread&quot;, &quot;main &quot; + Thread.currentThread().name) }\r\n        .subscribe(\r\n            { result -&gt; Log.d(&quot;Thread&quot;, &quot;main subscribe &quot; + Thread.currentThread().name)}\r\n            , { error -&gt; {} }\r\n            )\r\n\r\n\r\nThe result is:\r\n\r\n    both, doOnSubscribe C main\r\n    both, doOnSubscribe A Thread 2\r\n    both, doOnSubscribe B Thread 2\r\n\r\n    both, doOnNext A Thread 2\r\n    both, map A Thread 2\r\n\r\n    both, doOnNext B Thread 1\r\n    both, map B Thread 1\r\n\r\n    both, doOnNext C Thread 1\r\n    both, map C Thread 1\r\n\r\n    main main\r\n    main subscribe main\r\n    result: what if use both A B C\r\n\r\nAs you can see, `doOnSubscribe` called first, from bottom to top. That means `subscribe` has priority over other operators, so the first thread which handles first code was **Thread 2**. \r\n\r\nAnd then other operators was called, line by line. After `observeOn`, thread was changed to `Thread 1`. Then, just before calling `subscribe`, `observeOn` was called again, for change thread to main thread. (Don&#39;t care about AndroidSchedulers, it is just a kind of scheduler)\r\n\r\n\r\n**TL;DR;**\r\n\r\n- First path, `subscribeOn` called first, from bottom to top.\r\n- Second path, `observeOn` called, from top to bottom, along with other codes.\r\n- Behavior was same on both RxJava2 and RxJava3","title":"Rxandroid What&#39;s the difference between SubscribeOn and ObserveOn","body":"<p>This answer is nothing new, I just want to clarify a little bit more.</p>\n<ol>\n<li><p>Let's assume that we have two threads.</p>\n<pre><code> val pool1 = Executors.newCachedThreadPool { runnable -&gt; Thread(runnable, &quot;Thread 1&quot;) }\n val pool2 = Executors.newCachedThreadPool { runnable -&gt; Thread(runnable, &quot;Thread 2&quot;) }\n</code></pre>\n</li>\n</ol>\n<br>\n<ol start=\"2\">\n<li><p>As the answers described, <code>observeOn</code> will set <code>Downstream</code>, and <code>subscribeOn</code> will set <code>Upstream</code>. But what if both of them was used? For check this, I added logs line by line.</p>\n<pre><code>Observable.just(&quot;what if use both&quot;)\n .doOnSubscribe { Log.d(&quot;Thread&quot;, &quot;both, doOnSubscribe A &quot; + Thread.currentThread().name) }\n .doOnNext { Log.d(&quot;Thread&quot;, &quot;both, doOnNext A &quot; + Thread.currentThread().name) }\n .map {\n     Log.d(&quot;Thread&quot;, &quot;both, map A &quot; + Thread.currentThread().name)\n     it + &quot; A&quot;\n }\n\n // observeOn\n .observeOn(Schedulers.from(pool1)) \n\n .doOnSubscribe { Log.d(&quot;Thread&quot;, &quot;both, doOnSubscribe B &quot; + Thread.currentThread().name) }\n .doOnNext { Log.d(&quot;Thread&quot;, &quot;both, doOnNext B &quot; + Thread.currentThread().name) }\n .map {\n     Log.d(&quot;Thread&quot;, &quot;both, map B &quot; + Thread.currentThread().name)\n     it + &quot; B&quot;\n }\n\n // subscribeOn\n .subscribeOn(Schedulers.from(pool2)) \n\n .doOnSubscribe { Log.d(&quot;Thread&quot;, &quot;both, doOnSubscribe C &quot; + Thread.currentThread().name) }\n .doOnNext { Log.d(&quot;Thread&quot;, &quot;both, doOnNext C &quot; + Thread.currentThread().name) }\n .map {\n    Log.d(&quot;Thread&quot;, &quot;both, map C &quot; + Thread.currentThread().name)\n    it + &quot; C&quot;\n  }\n\n // observeOn main\n .observeOn(AndroidSchedulers.mainThread())\n .doOnNext { Log.d(&quot;Thread&quot;, &quot;main &quot; + Thread.currentThread().name) }\n .subscribe(\n     { result -&gt; Log.d(&quot;Thread&quot;, &quot;main subscribe &quot; + Thread.currentThread().name)}\n     , { error -&gt; {} }\n     )\n</code></pre>\n</li>\n</ol>\n<p>The result is:</p>\n<pre><code>both, doOnSubscribe C main\nboth, doOnSubscribe A Thread 2\nboth, doOnSubscribe B Thread 2\n\nboth, doOnNext A Thread 2\nboth, map A Thread 2\n\nboth, doOnNext B Thread 1\nboth, map B Thread 1\n\nboth, doOnNext C Thread 1\nboth, map C Thread 1\n\nmain main\nmain subscribe main\nresult: what if use both A B C\n</code></pre>\n<p>As you can see, <code>doOnSubscribe</code> called first, from bottom to top. That means <code>subscribe</code> has priority over other operators, so the first thread which handles first code was <strong>Thread 2</strong>.</p>\n<p>And then other operators was called, line by line. After <code>observeOn</code>, thread was changed to <code>Thread 1</code>. Then, just before calling <code>subscribe</code>, <code>observeOn</code> was called again, for change thread to main thread. (Don't care about AndroidSchedulers, it is just a kind of scheduler)</p>\n<p><strong>TL;DR;</strong></p>\n<ul>\n<li>First path, <code>subscribeOn</code> called first, from bottom to top.</li>\n<li>Second path, <code>observeOn</code> called, from top to bottom, along with other codes.</li>\n<li>Behavior was same on both RxJava2 and RxJava3</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":9145391,"reputation":866,"user_id":6801819,"display_name":"Gapmeister66"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1627392858,"creation_date":1627392858,"answer_id":68545880,"question_id":44984730,"body_markdown":"When you subscribe to an observable, a flow starts that works its way up to the top of chain and then back down again. The subscribe part is relevant to the upward chaining and the observe part is relevant to the downward chaining.\r\n\r\nOnce the top of the chain is reached, the subscription phase has essentially completed. Events start to be emitted and the downward chain of maps, filters etc are invoked.\r\n\r\nSubscribeOn influences **subscription** calls above its placement, for example doOnSubscribe.\r\n\r\nObserveOn influences **observation** calls below its placement, for example, doOnNext, map, flatmap etc.\r\n\r\nBoth will change the thread that is used to continue the flow either upward or downward.\r\n\r\n    import io.reactivex.Observable;\r\n    import io.reactivex.schedulers.Schedulers;\r\n    \r\n    import java.util.concurrent.CountDownLatch;\r\n\r\n    public class SubscribeVsObserveOn {\r\n\r\n        public static void main(String[] args) throws InterruptedException {\r\n\r\n            System.out.println(&quot;Ordinal 0: &quot; + Thread.currentThread().getName());\r\n\r\n            final CountDownLatch latch = new CountDownLatch(1);\r\n\r\n            Observable\r\n                .just(&quot;a regular string.&quot;)\r\n                .doOnSubscribe(disposable -&gt;\r\n                    System.out.println(&quot;Ordinal 2: &quot; + Thread.currentThread().getName()))\r\n                .subscribeOn(Schedulers.newThread())\r\n                .observeOn(Schedulers.newThread())\r\n                .doOnNext(s -&gt;\r\n                    System.out.println(&quot;Ordinal 3: &quot; + Thread.currentThread().getName()))\r\n                .map(s -&gt; s)\r\n                .doOnSubscribe(disposable -&gt;\r\n                    System.out.println(&quot;Ordinal 1: &quot; + Thread.currentThread().getName()))\r\n                .subscribeOn(Schedulers.newThread())\r\n                .observeOn(Schedulers.newThread())\r\n                .doOnNext(s -&gt;\r\n                    System.out.println(&quot;Ordinal 4: &quot; + Thread.currentThread().getName()))\r\n                .map(s -&gt; s)\r\n                .subscribe(s -&gt; latch.countDown());\r\n\r\n            latch.await();\r\n        }\r\n    }\r\n\r\n\r\nHere is the output:\r\n\r\n    Ordinal 0: main\r\n    Ordinal 1: RxNewThreadScheduler-1\r\n    Ordinal 2: RxNewThreadScheduler-2\r\n    Ordinal 3: RxNewThreadScheduler-3\r\n    Ordinal 4: RxNewThreadScheduler-4\r\n","title":"Rxandroid What&#39;s the difference between SubscribeOn and ObserveOn","body":"<p>When you subscribe to an observable, a flow starts that works its way up to the top of chain and then back down again. The subscribe part is relevant to the upward chaining and the observe part is relevant to the downward chaining.</p>\n<p>Once the top of the chain is reached, the subscription phase has essentially completed. Events start to be emitted and the downward chain of maps, filters etc are invoked.</p>\n<p>SubscribeOn influences <strong>subscription</strong> calls above its placement, for example doOnSubscribe.</p>\n<p>ObserveOn influences <strong>observation</strong> calls below its placement, for example, doOnNext, map, flatmap etc.</p>\n<p>Both will change the thread that is used to continue the flow either upward or downward.</p>\n<pre><code>import io.reactivex.Observable;\nimport io.reactivex.schedulers.Schedulers;\n\nimport java.util.concurrent.CountDownLatch;\n\npublic class SubscribeVsObserveOn {\n\n    public static void main(String[] args) throws InterruptedException {\n\n        System.out.println(&quot;Ordinal 0: &quot; + Thread.currentThread().getName());\n\n        final CountDownLatch latch = new CountDownLatch(1);\n\n        Observable\n            .just(&quot;a regular string.&quot;)\n            .doOnSubscribe(disposable -&gt;\n                System.out.println(&quot;Ordinal 2: &quot; + Thread.currentThread().getName()))\n            .subscribeOn(Schedulers.newThread())\n            .observeOn(Schedulers.newThread())\n            .doOnNext(s -&gt;\n                System.out.println(&quot;Ordinal 3: &quot; + Thread.currentThread().getName()))\n            .map(s -&gt; s)\n            .doOnSubscribe(disposable -&gt;\n                System.out.println(&quot;Ordinal 1: &quot; + Thread.currentThread().getName()))\n            .subscribeOn(Schedulers.newThread())\n            .observeOn(Schedulers.newThread())\n            .doOnNext(s -&gt;\n                System.out.println(&quot;Ordinal 4: &quot; + Thread.currentThread().getName()))\n            .map(s -&gt; s)\n            .subscribe(s -&gt; latch.countDown());\n\n        latch.await();\n    }\n}\n</code></pre>\n<p>Here is the output:</p>\n<pre><code>Ordinal 0: main\nOrdinal 1: RxNewThreadScheduler-1\nOrdinal 2: RxNewThreadScheduler-2\nOrdinal 3: RxNewThreadScheduler-3\nOrdinal 4: RxNewThreadScheduler-4\n</code></pre>\n"}],"owner":{"account_id":2834251,"reputation":1928,"user_id":2435179,"accept_rate":78,"display_name":"Rathore"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36951,"favorite_count":0,"down_vote_count":0,"up_vote_count":104,"accepted_answer_id":49555019,"answer_count":6,"score":104,"last_activity_date":1659629823,"creation_date":1499506863,"question_id":44984730,"body_markdown":"I am just learning Rx-java and Rxandroid2 and I am just confused what is the major difference between in SubscribeOn and ObserveOn.","title":"Rxandroid What&#39;s the difference between SubscribeOn and ObserveOn","body":"<p>I am just learning Rx-java and Rxandroid2 and I am just confused what is the major difference between in SubscribeOn and ObserveOn.</p>\n"},{"tags":["java","file","path","java-6"],"comments":[{"owner":{"account_id":96837,"reputation":94466,"user_id":263004,"accept_rate":96,"display_name":"Vivin Paliath"},"score":0,"creation_date":1363734329,"post_id":15512200,"comment_id":21968132,"body_markdown":"Haev you looked at the API documentation?","body":"Haev you looked at the API documentation?"},{"owner":{"account_id":1534251,"reputation":6232,"user_id":1430705,"accept_rate":72,"display_name":"Karlovsky120"},"score":0,"creation_date":1363734447,"post_id":15512200,"comment_id":21968184,"body_markdown":"Yes, I saw the resolve and resolveSibling methods, but that didn&#39;t exactly convert from file (or string) to path, but rather concated it in a way.","body":"Yes, I saw the resolve and resolveSibling methods, but that didn&#39;t exactly convert from file (or string) to path, but rather concated it in a way."},{"owner":{"account_id":347037,"reputation":79658,"user_id":680925,"display_name":"Perception"},"score":1,"creation_date":1363734450,"post_id":15512200,"comment_id":21968187,"body_markdown":"Here is the [documentation](http://docs.oracle.com/javase/7/docs/api/java/io/File.html#toPath()) @VivinPaliath is alluding too.","body":"Here is the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/File.html#toPath()\" rel=\"nofollow noreferrer\">documentation</a> @VivinPaliath is alluding too."},{"owner":{"account_id":1534251,"reputation":6232,"user_id":1430705,"accept_rate":72,"display_name":"Karlovsky120"},"score":1,"creation_date":1490742617,"post_id":15512200,"comment_id":73246050,"body_markdown":"It amazes me how the stupidest question possible (I mean, come on, it was in the documentation, short google search would have answered it) is netting me the most points on the site. :D","body":"It amazes me how the stupidest question possible (I mean, come on, it was in the documentation, short google search would have answered it) is netting me the most points on the site. :D"},{"owner":{"account_id":7172249,"reputation":8197,"user_id":5479362,"accept_rate":48,"display_name":"9ilsdx 9rvj 0lo"},"score":2,"creation_date":1512045978,"post_id":15512200,"comment_id":82104368,"body_markdown":"@Karlovsky120 it shouldn&#39;t amaze you if you would try to google it yourself ;)","body":"@Karlovsky120 it shouldn&#39;t amaze you if you would try to google it yourself ;)"}],"answers":[{"tags":[],"owner":{"account_id":96837,"reputation":94466,"user_id":263004,"accept_rate":96,"display_name":"Vivin Paliath"},"down_vote_count":0,"up_vote_count":340,"is_accepted":true,"score":340,"last_activity_date":1469641524,"creation_date":1363734496,"answer_id":15512246,"question_id":15512200,"body_markdown":"Yes, you can get it from the [`File`](http://docs.oracle.com/javase/7/docs/api/java/io/File.html) object by using [`File.toPath()`](http://docs.oracle.com/javase/7/docs/api/java/io/File.html#toPath()). Keep in mind that this is only for Java 7+. Java versions 6 and below do not have it.","title":"Get java.nio.file.Path object from java.io.File","body":"<p>Yes, you can get it from the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/File.html\" rel=\"noreferrer\"><code>File</code></a> object by using <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/File.html#toPath()\" rel=\"noreferrer\"><code>File.toPath()</code></a>. Keep in mind that this is only for Java 7+. Java versions 6 and below do not have it.</p>\n"},{"tags":[],"owner":{"account_id":50566,"reputation":9545,"user_id":150884,"accept_rate":83,"display_name":"hertzsprung"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1363734504,"creation_date":1363734504,"answer_id":15512250,"question_id":15512200,"body_markdown":"You likely want [`File.toPath()`][1].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/io/File.html#toPath%28%29","title":"Get java.nio.file.Path object from java.io.File","body":"<p>You likely want <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/File.html#toPath%28%29\" rel=\"noreferrer\"><code>File.toPath()</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":378962,"reputation":15657,"user_id":732016,"accept_rate":83,"display_name":"wchargin"},"down_vote_count":1,"up_vote_count":35,"is_accepted":false,"score":34,"last_activity_date":1363734577,"creation_date":1363734577,"answer_id":15512257,"question_id":15512200,"body_markdown":"From [the documentation](http://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html):\r\n\r\n&gt; Paths associated with the default `provider` are generally interoperable\r\n&gt; with the `java.io.File` class. Paths created by other providers are\r\n&gt; unlikely to be interoperable with the abstract path names represented\r\n&gt; by `java.io.File`. **The `toPath` method may be used to obtain a Path from\r\n&gt; the abstract path name represented by a java.io.File object.** The\r\n&gt; resulting Path can be used to operate on the same file as the\r\n&gt; `java.io.File` object. **In addition, the `toFile` method is useful to\r\n&gt; construct a `File` from the `String` representation of a `Path`.**\r\n\r\n(emphasis mine)\r\n\r\nSo, for [`toFile`](http://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html#toFile()):\r\n\r\n&gt; Returns a `File` object representing this path.\r\n\r\nAnd [`toPath`](http://docs.oracle.com/javase/7/docs/api/java/io/File.html#toPath()):\r\n&gt; Returns a `java.nio.file.Path` object constructed from the this abstract path.","title":"Get java.nio.file.Path object from java.io.File","body":"<p>From <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html\">the documentation</a>:</p>\n\n<blockquote>\n  <p>Paths associated with the default <code>provider</code> are generally interoperable\n  with the <code>java.io.File</code> class. Paths created by other providers are\n  unlikely to be interoperable with the abstract path names represented\n  by <code>java.io.File</code>. <strong>The <code>toPath</code> method may be used to obtain a Path from\n  the abstract path name represented by a java.io.File object.</strong> The\n  resulting Path can be used to operate on the same file as the\n  <code>java.io.File</code> object. <strong>In addition, the <code>toFile</code> method is useful to\n  construct a <code>File</code> from the <code>String</code> representation of a <code>Path</code>.</strong></p>\n</blockquote>\n\n<p>(emphasis mine)</p>\n\n<p>So, for <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html#toFile%28%29\"><code>toFile</code></a>:</p>\n\n<blockquote>\n  <p>Returns a <code>File</code> object representing this path.</p>\n</blockquote>\n\n<p>And <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/File.html#toPath%28%29\"><code>toPath</code></a>:</p>\n\n<blockquote>\n  <p>Returns a <code>java.nio.file.Path</code> object constructed from the this abstract path.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":8198120,"reputation":111,"user_id":6170242,"display_name":"dArtagnon"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1460006446,"creation_date":1460006446,"answer_id":36467318,"question_id":15512200,"body_markdown":"As many have suggested, JRE v1.7 and above has File.toPath();\r\n\r\n    File yourFile = ...;\r\n    Path yourPath = yourFile.toPath();\r\n\r\nOn Oracle&#39;s [jdk 1.7 documentation][1] which is also mentioned in other posts above, the following equivalent code is described in the description for toPath() method, which may work for JRE v1.6;\r\n\r\n    File yourFile = ...;\r\n    Path yourPath = FileSystems.getDefault().getPath(yourFile.getPath());\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/io/File.html#toPath%28%29","title":"Get java.nio.file.Path object from java.io.File","body":"<p>As many have suggested, JRE v1.7 and above has File.toPath();</p>\n\n<pre><code>File yourFile = ...;\nPath yourPath = yourFile.toPath();\n</code></pre>\n\n<p>On Oracle's <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/File.html#toPath%28%29\" rel=\"noreferrer\">jdk 1.7 documentation</a> which is also mentioned in other posts above, the following equivalent code is described in the description for toPath() method, which may work for JRE v1.6;</p>\n\n<pre><code>File yourFile = ...;\nPath yourPath = FileSystems.getDefault().getPath(yourFile.getPath());\n</code></pre>\n"}],"owner":{"account_id":1534251,"reputation":6232,"user_id":1430705,"accept_rate":72,"display_name":"Karlovsky120"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168299,"favorite_count":0,"down_vote_count":0,"up_vote_count":257,"accepted_answer_id":15512246,"answer_count":4,"score":257,"last_activity_date":1659629119,"creation_date":1363734297,"question_id":15512200,"body_markdown":"Is it possible to get a Path object from a `java.io.File`?\r\n\r\nI know you can convert a path to a file using `toFile()` method, but I couldn&#39;t find the opposite conversion. Is there a way to do this in Java 6 or lower?\r\n","title":"Get java.nio.file.Path object from java.io.File","body":"<p>Is it possible to get a Path object from a <code>java.io.File</code>?</p>\n\n<p>I know you can convert a path to a file using <code>toFile()</code> method, but I couldn't find the opposite conversion. Is there a way to do this in Java 6 or lower?</p>\n"},{"tags":["java","maven","maven-shade-plugin"],"answers":[{"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1404387197,"creation_date":1404387197,"answer_id":24552618,"question_id":23563857,"body_markdown":"Of course, there is a plugin for this task, the [`build-helper-maven-plugin`][1].\r\n\r\n\r\n  [1]: http://mojo.codehaus.org/build-helper-maven-plugin/","title":"Including a synthetic file as javadoc artifact in a Maven build","body":"<p>Of course, there is a plugin for this task, the <a href=\"http://mojo.codehaus.org/build-helper-maven-plugin/\" rel=\"nofollow\"><code>build-helper-maven-plugin</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":2471887,"reputation":1379,"user_id":2153535,"display_name":"Tristan Tarrant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659628791,"creation_date":1659628791,"answer_id":73238975,"question_id":23563857,"body_markdown":"We use something like the following to attach the javadoc produced by the unshaded module into the shaded module\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n        &lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;attach&lt;/id&gt;\r\n                &lt;phase&gt;package&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;attach-artifact&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                   &lt;artifacts&gt;\r\n                      &lt;artifact&gt;\r\n                          &lt;file&gt;../unshaded-module/target/unshaded-module-${project.version}-javadoc.jar&lt;/file&gt;\r\n                          &lt;type&gt;jar&lt;/type&gt;\r\n                          &lt;classifier&gt;javadoc&lt;/classifier&gt;\r\n                      &lt;/artifact&gt;\r\n                   &lt;/artifacts&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n     &lt;/plugin&gt;","title":"Including a synthetic file as javadoc artifact in a Maven build","body":"<p>We use something like the following to attach the javadoc produced by the unshaded module into the shaded module</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;attach&lt;/id&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;attach-artifact&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n               &lt;artifacts&gt;\n                  &lt;artifact&gt;\n                      &lt;file&gt;../unshaded-module/target/unshaded-module-${project.version}-javadoc.jar&lt;/file&gt;\n                      &lt;type&gt;jar&lt;/type&gt;\n                      &lt;classifier&gt;javadoc&lt;/classifier&gt;\n                  &lt;/artifact&gt;\n               &lt;/artifacts&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":705,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":24552618,"answer_count":2,"score":2,"last_activity_date":1659628791,"creation_date":1399636113,"question_id":23563857,"body_markdown":"I am building a multimodule project with Maven where one module represents the shaded version of the other module:\r\n\r\n&gt; parent  \r\n&gt; |- base   \r\n&gt; |- base-shaded\r\n\r\nThe `base` module contains all my source files but with dependencies I want to import into my own namespace. This shaded module is described by my `base-shaded` module which basically only contains a POM which configures a dependency on `base` and the Maven Shade plugin.\r\n\r\nThis works fine. The Shade plugin includes all the dependencies and creates a shaded artifact, including a source artifact. However, I am missing a `javadoc` artifact which is not created by the Shade plugin. Therefore, I attempted to copy the `base` module&#39;s javadoc artifact. However, the `release:release` goal ignores these artifacts which prevents me to deploying to Maven Central. Still, I managed to include copy these files and include them in install target.\r\n\r\nIs there a canonical way of including a non-assembled file in a build? I start to think that I might be the wrong approach.\r\n\r\nHere is the plugin configuration of my `base-shaded` POM. Sorry that it is so much, but in the end, it is Maven XML:\r\n\r\n        &lt;!-- Shade dependencies --&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;${version.plugin.shade}&lt;/version&gt;\r\n          &lt;executions&gt;\r\n            &lt;execution&gt;\r\n              &lt;phase&gt;package&lt;/phase&gt;\r\n              &lt;goals&gt;\r\n                &lt;goal&gt;shade&lt;/goal&gt;\r\n              &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n            &lt;shadedArtifactAttached&gt;false&lt;/shadedArtifactAttached&gt;\r\n            &lt;createDependencyReducedPom&gt;true&lt;/createDependencyReducedPom&gt;\r\n            &lt;dependencyReducedPomLocation&gt;\r\n              ${project.build.directory}/dependency-reduced-pom.xml\r\n            &lt;/dependencyReducedPomLocation&gt;\r\n            &lt;createSourcesJar&gt;true&lt;/createSourcesJar&gt;\r\n            &lt;shadeSourcesContent&gt;true&lt;/shadeSourcesContent&gt;\r\n            &lt;relocations&gt;\r\n              &lt;relocation&gt;\r\n                &lt;pattern&gt;${shade.source}&lt;/pattern&gt;\r\n                &lt;shadedPattern&gt;${shade.target}&lt;/shadedPattern&gt;\r\n              &lt;/relocation&gt;\r\n            &lt;/relocations&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n      &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n    &lt;!-- Copy dependency version&#39;s javadoc artifacts --&gt;\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;com.github.goldin&lt;/groupId&gt;\r\n      &lt;artifactId&gt;copy-maven-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;${version.plugin.copy}&lt;/version&gt;\r\n      &lt;executions&gt;\r\n        &lt;execution&gt;\r\n          &lt;phase&gt;package&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;copy&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;resources&gt;\r\n                &lt;resource&gt;\r\n                  &lt;targetPath&gt;${project.build.directory}&lt;/targetPath&gt;\r\n                  &lt;file&gt;\r\n                    ${project.basedir}/../base/target/base-${project.version}-javadoc.jar\r\n                  &lt;/file&gt;\r\n                  &lt;destFileName&gt;base-${project.version}-javadoc.jar&lt;/destFileName&gt;\r\n                &lt;/resource&gt;\r\n              &lt;resource&gt;\r\n                &lt;targetPath&gt;${project.build.directory}&lt;/targetPath&gt;\r\n                &lt;file&gt;\r\n                  ${project.basedir}/../base/target/base-${project.version}-javadoc.jar.asc\r\n                &lt;/file&gt;\r\n                &lt;destFileName&gt;base-shaded-${project.version}-javadoc.jar.asc&lt;/destFileName&gt;\r\n              &lt;/resource&gt;\r\n            &lt;/resources&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n      &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n    &lt;!-- Because the javadoc files are copied manually, they must be installed manually as well --&gt;\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n      &lt;executions&gt;\r\n        &lt;execution&gt;\r\n          &lt;id&gt;install-javadoc&lt;/id&gt;\r\n          &lt;phase&gt;install&lt;/phase&gt;\r\n          &lt;goals&gt;\r\n            &lt;goal&gt;install-file&lt;/goal&gt;\r\n          &lt;/goals&gt;\r\n          &lt;configuration&gt;\r\n            &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\r\n            &lt;artifactId&gt;${project.artifactId}&lt;/artifactId&gt;\r\n            &lt;version&gt;${project.version}&lt;/version&gt;\r\n            &lt;packaging&gt;jar&lt;/packaging&gt;\r\n            &lt;classifier&gt;javadoc&lt;/classifier&gt;\r\n            &lt;file&gt;${build.directory}/base-shaded-${project.version}-javadoc.jar&lt;/file&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n        &lt;execution&gt;\r\n          &lt;id&gt;install-javadoc-asc&lt;/id&gt;\r\n          &lt;phase&gt;install&lt;/phase&gt;\r\n          &lt;goals&gt;\r\n            &lt;goal&gt;install-file&lt;/goal&gt;\r\n          &lt;/goals&gt;\r\n          &lt;configuration&gt;\r\n            &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\r\n            &lt;artifactId&gt;${project.artifactId}&lt;/artifactId&gt;\r\n            &lt;version&gt;${project.version}&lt;/version&gt;\r\n            &lt;packaging&gt;jar.asc&lt;/packaging&gt;\r\n            &lt;classifier&gt;javadoc&lt;/classifier&gt;\r\n            &lt;file&gt;${build.directory}/base-shaded-${project.version}-javadoc.jar.asc&lt;/file&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n      &lt;/executions&gt;\r\n    &lt;/plugin&gt;","title":"Including a synthetic file as javadoc artifact in a Maven build","body":"<p>I am building a multimodule project with Maven where one module represents the shaded version of the other module:</p>\n\n<blockquote>\n  <p>parent<br>\n  |- base<br>\n  |- base-shaded</p>\n</blockquote>\n\n<p>The <code>base</code> module contains all my source files but with dependencies I want to import into my own namespace. This shaded module is described by my <code>base-shaded</code> module which basically only contains a POM which configures a dependency on <code>base</code> and the Maven Shade plugin.</p>\n\n<p>This works fine. The Shade plugin includes all the dependencies and creates a shaded artifact, including a source artifact. However, I am missing a <code>javadoc</code> artifact which is not created by the Shade plugin. Therefore, I attempted to copy the <code>base</code> module's javadoc artifact. However, the <code>release:release</code> goal ignores these artifacts which prevents me to deploying to Maven Central. Still, I managed to include copy these files and include them in install target.</p>\n\n<p>Is there a canonical way of including a non-assembled file in a build? I start to think that I might be the wrong approach.</p>\n\n<p>Here is the plugin configuration of my <code>base-shaded</code> POM. Sorry that it is so much, but in the end, it is Maven XML:</p>\n\n<pre><code>    &lt;!-- Shade dependencies --&gt;\n    &lt;plugin&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n      &lt;version&gt;${version.plugin.shade}&lt;/version&gt;\n      &lt;executions&gt;\n        &lt;execution&gt;\n          &lt;phase&gt;package&lt;/phase&gt;\n          &lt;goals&gt;\n            &lt;goal&gt;shade&lt;/goal&gt;\n          &lt;/goals&gt;\n        &lt;configuration&gt;\n        &lt;shadedArtifactAttached&gt;false&lt;/shadedArtifactAttached&gt;\n        &lt;createDependencyReducedPom&gt;true&lt;/createDependencyReducedPom&gt;\n        &lt;dependencyReducedPomLocation&gt;\n          ${project.build.directory}/dependency-reduced-pom.xml\n        &lt;/dependencyReducedPomLocation&gt;\n        &lt;createSourcesJar&gt;true&lt;/createSourcesJar&gt;\n        &lt;shadeSourcesContent&gt;true&lt;/shadeSourcesContent&gt;\n        &lt;relocations&gt;\n          &lt;relocation&gt;\n            &lt;pattern&gt;${shade.source}&lt;/pattern&gt;\n            &lt;shadedPattern&gt;${shade.target}&lt;/shadedPattern&gt;\n          &lt;/relocation&gt;\n        &lt;/relocations&gt;\n      &lt;/configuration&gt;\n    &lt;/execution&gt;\n  &lt;/executions&gt;\n&lt;/plugin&gt;\n&lt;!-- Copy dependency version's javadoc artifacts --&gt;\n&lt;plugin&gt;\n  &lt;groupId&gt;com.github.goldin&lt;/groupId&gt;\n  &lt;artifactId&gt;copy-maven-plugin&lt;/artifactId&gt;\n  &lt;version&gt;${version.plugin.copy}&lt;/version&gt;\n  &lt;executions&gt;\n    &lt;execution&gt;\n      &lt;phase&gt;package&lt;/phase&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;copy&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n          &lt;resources&gt;\n            &lt;resource&gt;\n              &lt;targetPath&gt;${project.build.directory}&lt;/targetPath&gt;\n              &lt;file&gt;\n                ${project.basedir}/../base/target/base-${project.version}-javadoc.jar\n              &lt;/file&gt;\n              &lt;destFileName&gt;base-${project.version}-javadoc.jar&lt;/destFileName&gt;\n            &lt;/resource&gt;\n          &lt;resource&gt;\n            &lt;targetPath&gt;${project.build.directory}&lt;/targetPath&gt;\n            &lt;file&gt;\n              ${project.basedir}/../base/target/base-${project.version}-javadoc.jar.asc\n            &lt;/file&gt;\n            &lt;destFileName&gt;base-shaded-${project.version}-javadoc.jar.asc&lt;/destFileName&gt;\n          &lt;/resource&gt;\n        &lt;/resources&gt;\n      &lt;/configuration&gt;\n    &lt;/execution&gt;\n  &lt;/executions&gt;\n&lt;/plugin&gt;\n&lt;!-- Because the javadoc files are copied manually, they must be installed manually as well --&gt;\n&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n  &lt;executions&gt;\n    &lt;execution&gt;\n      &lt;id&gt;install-javadoc&lt;/id&gt;\n      &lt;phase&gt;install&lt;/phase&gt;\n      &lt;goals&gt;\n        &lt;goal&gt;install-file&lt;/goal&gt;\n      &lt;/goals&gt;\n      &lt;configuration&gt;\n        &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\n        &lt;artifactId&gt;${project.artifactId}&lt;/artifactId&gt;\n        &lt;version&gt;${project.version}&lt;/version&gt;\n        &lt;packaging&gt;jar&lt;/packaging&gt;\n        &lt;classifier&gt;javadoc&lt;/classifier&gt;\n        &lt;file&gt;${build.directory}/base-shaded-${project.version}-javadoc.jar&lt;/file&gt;\n      &lt;/configuration&gt;\n    &lt;/execution&gt;\n    &lt;execution&gt;\n      &lt;id&gt;install-javadoc-asc&lt;/id&gt;\n      &lt;phase&gt;install&lt;/phase&gt;\n      &lt;goals&gt;\n        &lt;goal&gt;install-file&lt;/goal&gt;\n      &lt;/goals&gt;\n      &lt;configuration&gt;\n        &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\n        &lt;artifactId&gt;${project.artifactId}&lt;/artifactId&gt;\n        &lt;version&gt;${project.version}&lt;/version&gt;\n        &lt;packaging&gt;jar.asc&lt;/packaging&gt;\n        &lt;classifier&gt;javadoc&lt;/classifier&gt;\n        &lt;file&gt;${build.directory}/base-shaded-${project.version}-javadoc.jar.asc&lt;/file&gt;\n      &lt;/configuration&gt;\n    &lt;/execution&gt;\n  &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","android","android-listview","ftp-client"],"comments":[{"owner":{"account_id":310184,"reputation":123280,"user_id":623041,"accept_rate":81,"display_name":"eggyal"},"score":1,"creation_date":1390636292,"post_id":21348008,"comment_id":32186707,"body_markdown":"Assuming that your `FTPClient` class is `org.apache.commons.net.ftp.FTPClient`, then the [`listFiles()`](http://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html#listFiles%28%29) method (without any arguments) returns a file listing for the *current working directory*, which can be discovered (if not known) via [`printWorkingDirectory ()`](http://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html#printWorkingDirectory%28%29).","body":"Assuming that your <code>FTPClient</code> class is <code>org.apache.commons.net.ftp.FTPClient</code>, then the <a href=\"http://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html#listFiles%28%29\" rel=\"nofollow noreferrer\"><code>listFiles()</code></a> method (without any arguments) returns a file listing for the <i>current working directory</i>, which can be discovered (if not known) via <a href=\"http://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html#printWorkingDirectory%28%29\" rel=\"nofollow noreferrer\"><code>printWorkingDirectory ()</code></a>."}],"answers":[{"tags":[],"owner":{"account_id":464537,"reputation":4252,"user_id":868121,"display_name":"Ted Bigham"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1390636153,"creation_date":1390636153,"answer_id":21348088,"question_id":21348008,"body_markdown":"The path is in the client, not the files.\r\n\r\n    String path = clients.printWorkingDirectory()","title":"How can one get a file&#39;s path from an ftp server?","body":"<p>The path is in the client, not the files.</p>\n\n<pre><code>String path = clients.printWorkingDirectory()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3908498,"reputation":61,"user_id":3234495,"display_name":"Inci Duzenli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1390642878,"creation_date":1390642878,"answer_id":21348924,"question_id":21348008,"body_markdown":"Below code finds that all files path in any folder on ftp server. \r\nftpPath is likes that &quot;ftpserver/folder&quot;. List&lt;string&gt; contains paths of all files in folder.\r\n\r\n    public List&lt;string&gt; GetFilesPath(string ftpPath)\r\n            {\r\n            FtpWebRequest request;\r\n            string FtpServerPath = ftpPath;\r\n            List&lt;string&gt; filePathList=new List&lt;string&gt;();\r\n         \r\n            try\r\n            {\r\n                request = WebRequest.Create(new Uri(FtpServerPath)) as FtpWebRequest;\r\n                request.Method = WebRequestMethods.Ftp.ListDirectoryDetails;            \r\n                request.UseBinary = true;\r\n                request.UsePassive = true;\r\n                request.KeepAlive = true;\r\n                request.Credentials = new NetworkCredential(&quot;ftpuser&quot;, &quot;ftpPassword&quot;);\r\n                request.ConnectionGroupName = &quot;group&quot;;\r\n                Stream rs = (Stream)request.GetResponse().GetResponseStream();\r\n\r\n                StreamReader sr = new StreamReader(rs);\r\n                string strList = sr.ReadToEnd();\r\n                string[] lines = null;\r\n\r\n                if (strList.Contains(&quot;\\r\\n&quot;))\r\n                {\r\n                    lines = strList.Split(new string[] { &quot;\\r\\n&quot; }, StringSplitOptions.None);\r\n                }\r\n                else if (strList.Contains(&quot;\\n&quot;))\r\n                {\r\n                    lines = strList.Split(new string[] { &quot;\\n&quot; }, StringSplitOptions.None);\r\n                }\r\n\r\n                if (lines == null || lines.Length == 0)\r\n                   return null;\r\n                else{\r\n\r\n                    foreach (string line in lines)\r\n                    {\r\n                        if (line.Length == 0)\r\n                            continue;\r\n                       \r\n                        int x=line.LastIndexOf(&#39; &#39;);\r\n                        int len = line.Length;\r\n                        var str = line.Substring( (x+1), (len - x - 1));\r\n                        var filePath = FtpServerPath+&quot;/&quot;+str;\r\n                        filePathList.Add(filePath);\r\n                    }\r\n\r\n            }\r\n            catch (Exception ex)\r\n            {\r\n                MessageBox.Show(&quot;Error: &quot; + ex.Message);\r\n            }\r\n        }","title":"How can one get a file&#39;s path from an ftp server?","body":"<p>Below code finds that all files path in any folder on ftp server. \nftpPath is likes that \"ftpserver/folder\". List contains paths of all files in folder.</p>\n\n<pre><code>public List&lt;string&gt; GetFilesPath(string ftpPath)\n        {\n        FtpWebRequest request;\n        string FtpServerPath = ftpPath;\n        List&lt;string&gt; filePathList=new List&lt;string&gt;();\n\n        try\n        {\n            request = WebRequest.Create(new Uri(FtpServerPath)) as FtpWebRequest;\n            request.Method = WebRequestMethods.Ftp.ListDirectoryDetails;            \n            request.UseBinary = true;\n            request.UsePassive = true;\n            request.KeepAlive = true;\n            request.Credentials = new NetworkCredential(\"ftpuser\", \"ftpPassword\");\n            request.ConnectionGroupName = \"group\";\n            Stream rs = (Stream)request.GetResponse().GetResponseStream();\n\n            StreamReader sr = new StreamReader(rs);\n            string strList = sr.ReadToEnd();\n            string[] lines = null;\n\n            if (strList.Contains(\"\\r\\n\"))\n            {\n                lines = strList.Split(new string[] { \"\\r\\n\" }, StringSplitOptions.None);\n            }\n            else if (strList.Contains(\"\\n\"))\n            {\n                lines = strList.Split(new string[] { \"\\n\" }, StringSplitOptions.None);\n            }\n\n            if (lines == null || lines.Length == 0)\n               return null;\n            else{\n\n                foreach (string line in lines)\n                {\n                    if (line.Length == 0)\n                        continue;\n\n                    int x=line.LastIndexOf(' ');\n                    int len = line.Length;\n                    var str = line.Substring( (x+1), (len - x - 1));\n                    var filePath = FtpServerPath+\"/\"+str;\n                    filePathList.Add(filePath);\n                }\n\n        }\n        catch (Exception ex)\n        {\n            MessageBox.Show(\"Error: \" + ex.Message);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17850963,"reputation":27,"user_id":12966727,"display_name":"TheUnborn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659628598,"creation_date":1659628598,"answer_id":73238917,"question_id":21348008,"body_markdown":"if you want specific path\r\n\r\n    client.changeWorkingDirectory(PathName) eg client.changeWorkingDirectory(folder1/folder2) where folder 2 is inside folder 1\r\n            System.out.println(client.printWorkingDirectory)\r\n\r\nprintWorkingDirectory gives the current path","title":"How can one get a file&#39;s path from an ftp server?","body":"<p>if you want specific path</p>\n<pre><code>client.changeWorkingDirectory(PathName) eg client.changeWorkingDirectory(folder1/folder2) where folder 2 is inside folder 1\n        System.out.println(client.printWorkingDirectory)\n</code></pre>\n<p>printWorkingDirectory gives the current path</p>\n"}],"owner":{"account_id":3894108,"reputation":1,"user_id":3223600,"display_name":"user3223600"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11069,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1659628598,"creation_date":1390635536,"question_id":21348008,"body_markdown":"This code gets the file name, but I want to get the file path:\r\n\r\n     private List &lt;String&gt; checkFiles(FTPClient clients){\r\n      \tList &lt;String&gt; it = new ArrayList &lt;String&gt;();\r\n    \ttry {  \r\n        \r\n            FTPFile[] ftpFiles = clients.listFiles();  \r\n            int length = ftpFiles.length;  \r\n            for (int i = 0; i &lt; length; i++) {  \r\n              String name = ftpFiles[i].getName();  \r\n              Calendar date = ftpFiles[i].getTimestamp();\r\n              Log.v(&quot;aasd&quot;, name );\r\n              it.add (name);\r\n\r\n            }  \r\n          } catch(Exception e) {  \r\n            e.printStackTrace();  \r\n          }\r\n\t\treturn it ;      \r\n      }\r\n    ","title":"How can one get a file&#39;s path from an ftp server?","body":"<p>This code gets the file name, but I want to get the file path:</p>\n\n<pre><code> private List &lt;String&gt; checkFiles(FTPClient clients){\n    List &lt;String&gt; it = new ArrayList &lt;String&gt;();\n    try {  \n\n        FTPFile[] ftpFiles = clients.listFiles();  \n        int length = ftpFiles.length;  \n        for (int i = 0; i &lt; length; i++) {  \n          String name = ftpFiles[i].getName();  \n          Calendar date = ftpFiles[i].getTimestamp();\n          Log.v(\"aasd\", name );\n          it.add (name);\n\n        }  \n      } catch(Exception e) {  \n        e.printStackTrace();  \n      }\n    return it ;      \n  }\n</code></pre>\n"},{"tags":["java","gmail","gmail-api"],"comments":[{"owner":{"account_id":1049806,"reputation":552,"user_id":1054014,"display_name":"Hinotori"},"score":0,"creation_date":1455745135,"post_id":28026099,"comment_id":58632156,"body_markdown":"remove the setFormat?","body":"remove the setFormat?"},{"owner":{"account_id":4693631,"reputation":647,"user_id":3799110,"display_name":"zypherman"},"score":0,"creation_date":1506014403,"post_id":28026099,"comment_id":79659799,"body_markdown":"The reason this particular version does not work is that the raw field is null on purpose. If you look at the api docs here. https://developers.google.com/gmail/api/v1/reference/users/messages/get.\nThe &quot;full&quot; format does not use the raw field.","body":"The reason this particular version does not work is that the raw field is null on purpose. If you look at the api docs here. <a href=\"https://developers.google.com/gmail/api/v1/reference/users/messages/get\" rel=\"nofollow noreferrer\">developers.google.com/gmail/api/v1/reference/users/messages/&zwnj;&#8203;get</a>. The &quot;full&quot; format does not use the raw field."}],"answers":[{"tags":[],"owner":{"account_id":4444053,"reputation":109284,"user_id":3617886,"accept_rate":100,"display_name":"Tholle"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1421751417,"creation_date":1421751417,"answer_id":28043575,"question_id":28026099,"body_markdown":"To get the data from your gmailMessage, you can use gmailMessage.payload.parts[0].body.data. If you want to decode it into readable text, you can do the following:\r\n\r\n    import org.apache.commons.codec.binary.Base64;\r\n    import org.apache.commons.codec.binary.StringUtils;\r\n\r\n    System.out.println(StringUtils.newStringUtf8(Base64.decodeBase64(gmailMessage.payload.parts[0].body.data)));\r\n","title":"How to get full message body in Gmail?","body":"<p>To get the data from your gmailMessage, you can use gmailMessage.payload.parts[0].body.data. If you want to decode it into readable text, you can do the following:</p>\n\n<pre><code>import org.apache.commons.codec.binary.Base64;\nimport org.apache.commons.codec.binary.StringUtils;\n\nSystem.out.println(StringUtils.newStringUtf8(Base64.decodeBase64(gmailMessage.payload.parts[0].body.data)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1049806,"reputation":552,"user_id":1054014,"display_name":"Hinotori"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1455744822,"creation_date":1455744822,"answer_id":35468218,"question_id":28026099,"body_markdown":"I tried this way, since message.getPayload().getBody().getParts() was always null\r\n\r\n    import com.google.api.client.repackaged.org.apache.commons.codec.binary.Base64;\r\n    import com.google.api.client.repackaged.org.apache.commons.codec.binary.StringUtils;\r\n\r\n(...)\r\n\r\n    Message message = service.users().messages().get(user, m.getId()).execute();\r\n    MessagePart part = message.getPayload();\r\n    System.out.println(StringUtils.newStringUtf8(Base64.decodeBase64(part.getBody().getData())));\r\n\r\nAnd the result is pure HTML String","title":"How to get full message body in Gmail?","body":"<p>I tried this way, since message.getPayload().getBody().getParts() was always null</p>\n\n<pre><code>import com.google.api.client.repackaged.org.apache.commons.codec.binary.Base64;\nimport com.google.api.client.repackaged.org.apache.commons.codec.binary.StringUtils;\n</code></pre>\n\n<p>(...)</p>\n\n<pre><code>Message message = service.users().messages().get(user, m.getId()).execute();\nMessagePart part = message.getPayload();\nSystem.out.println(StringUtils.newStringUtf8(Base64.decodeBase64(part.getBody().getData())));\n</code></pre>\n\n<p>And the result is pure HTML String</p>\n"},{"tags":[],"owner":{"account_id":1816332,"reputation":175,"user_id":1651342,"accept_rate":80,"display_name":"Yury Staravoitau"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1464377299,"creation_date":1464377299,"answer_id":37490978,"question_id":28026099,"body_markdown":"I found more interesting way how to resolve a full body message (and not only body):\r\n\r\n    System.out.println(StringUtils.newStringUtf8(   Base64.decodeBase64 (message.getRaw())));\r\n\r\n","title":"How to get full message body in Gmail?","body":"<p>I found more interesting way how to resolve a full body message (and not only body):</p>\n\n<pre><code>System.out.println(StringUtils.newStringUtf8(   Base64.decodeBase64 (message.getRaw())));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3568374,"reputation":176,"user_id":2979347,"display_name":"Henk"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1565293572,"creation_date":1470657930,"answer_id":38828761,"question_id":28026099,"body_markdown":"If you have the message (com.google.api.services.gmail.model.Message) you could use the following methods: \r\n\r\n    public String getContent(Message message) {\r\n        StringBuilder stringBuilder = new StringBuilder();\r\n        try {\r\n            getPlainTextFromMessageParts(message.getPayload().getParts(), stringBuilder);\r\n            byte[] bodyBytes = Base64.decodeBase64(stringBuilder.toString());\r\n            String text = new String(bodyBytes, StandardCharsets.UTF_8);\r\n            return text;\r\n        } catch (UnsupportedEncodingException e) {\r\n            logger.error(&quot;UnsupportedEncoding: &quot; + e.toString());\r\n            return message.getSnippet();\r\n        }\r\n    }\r\n\r\n    private void getPlainTextFromMessageParts(List&lt;MessagePart&gt; messageParts, StringBuilder stringBuilder) {\r\n        for (MessagePart messagePart : messageParts) {\r\n            if (messagePart.getMimeType().equals(&quot;text/plain&quot;)) {\r\n                stringBuilder.append(messagePart.getBody().getData());\r\n            }\r\n\r\n            if (messagePart.getParts() != null) {\r\n                getPlainTextFromMessageParts(messagePart.getParts(), stringBuilder);\r\n            }\r\n        }\r\n    }\r\n\r\nIt combines all message parts with the mimeType &quot;text/plain&quot; and returns it as one string. ","title":"How to get full message body in Gmail?","body":"<p>If you have the message (com.google.api.services.gmail.model.Message) you could use the following methods: </p>\n\n<pre><code>public String getContent(Message message) {\n    StringBuilder stringBuilder = new StringBuilder();\n    try {\n        getPlainTextFromMessageParts(message.getPayload().getParts(), stringBuilder);\n        byte[] bodyBytes = Base64.decodeBase64(stringBuilder.toString());\n        String text = new String(bodyBytes, StandardCharsets.UTF_8);\n        return text;\n    } catch (UnsupportedEncodingException e) {\n        logger.error(\"UnsupportedEncoding: \" + e.toString());\n        return message.getSnippet();\n    }\n}\n\nprivate void getPlainTextFromMessageParts(List&lt;MessagePart&gt; messageParts, StringBuilder stringBuilder) {\n    for (MessagePart messagePart : messageParts) {\n        if (messagePart.getMimeType().equals(\"text/plain\")) {\n            stringBuilder.append(messagePart.getBody().getData());\n        }\n\n        if (messagePart.getParts() != null) {\n            getPlainTextFromMessageParts(messagePart.getParts(), stringBuilder);\n        }\n    }\n}\n</code></pre>\n\n<p>It combines all message parts with the mimeType \"text/plain\" and returns it as one string. </p>\n"},{"tags":[],"owner":{"account_id":3150070,"reputation":10126,"user_id":2663692,"accept_rate":32,"display_name":"Tal Avissar"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1497779218,"creation_date":1497779218,"answer_id":44613729,"question_id":28026099,"body_markdown":" here is the solution in c# code gmail API v1 to read the email body content:\r\n\r\n  \r\n\r\n      var request = _gmailService.Users.Messages.Get(&quot;me&quot;, mail.Id);\r\n                    request.Format = UsersResource.MessagesResource.GetRequest.FormatEnum.Full;\r\n\r\nand to solve the data error\r\n\r\n     var res = message.Payload.Body.Data.Replace(&quot;-&quot;, &quot;+&quot;).Replace(&quot;_&quot;, &quot;/&quot;);\r\n     byte[] bodyBytes = Convert.FromBase64String(res);\r\n    \r\n                 \r\n     string val = Encoding.UTF8.GetString(bodyBytes);\r\n    \r\n         ","title":"How to get full message body in Gmail?","body":"<p>here is the solution in c# code gmail API v1 to read the email body content:</p>\n\n<pre><code>  var request = _gmailService.Users.Messages.Get(\"me\", mail.Id);\n                request.Format = UsersResource.MessagesResource.GetRequest.FormatEnum.Full;\n</code></pre>\n\n<p>and to solve the data error</p>\n\n<pre><code> var res = message.Payload.Body.Data.Replace(\"-\", \"+\").Replace(\"_\", \"/\");\n byte[] bodyBytes = Convert.FromBase64String(res);\n\n\n string val = Encoding.UTF8.GetString(bodyBytes);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2855957,"reputation":1,"user_id":2452231,"display_name":"Tomasz TJ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520935736,"creation_date":1520933767,"answer_id":49252671,"question_id":28026099,"body_markdown":"Base on the @Tholle comment I&#39;ve made something like that\r\n\r\n    Message message = service.users().messages()\r\n            .get(user, messageHolder.getId()).execute();\r\n    \r\n    System.out.println(StringUtils.newStringUtf8(Base64.decodeBase64(\r\n            message.getPayload().getParts().get(0).getBody().getData())));","title":"How to get full message body in Gmail?","body":"<p>Base on the @Tholle comment I've made something like that</p>\n\n<pre><code>Message message = service.users().messages()\n        .get(user, messageHolder.getId()).execute();\n\nSystem.out.println(StringUtils.newStringUtf8(Base64.decodeBase64(\n        message.getPayload().getParts().get(0).getBody().getData())));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":54655,"reputation":374,"user_id":163589,"accept_rate":40,"display_name":"Zaheer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1550511408,"creation_date":1550511408,"answer_id":54752599,"question_id":28026099,"body_markdown":"When we get full message. The message body is inside Parts.\r\n\r\nThis is an example in which message headers (Date, From, To and Subject) are displayed and Message Body as a plain text is displayed. Parts in Payload returns both type of messages (plain text and formatted text). I was interested in Plain text.\r\n\r\n    Message msg = service.users().messages().get(user, message.getId()).setFormat(&quot;full&quot;).execute();\r\n    // Displaying Message Header Information\r\n    for (MessagePartHeader header : msg.getPayload().getHeaders()) {\r\n      if (header.getName().contains(&quot;Date&quot;) || header.getName().contains(&quot;From&quot;) || header.getName().contains(&quot;To&quot;)\r\n          || header.getName().contains(&quot;Subject&quot;))\r\n        System.out.println(header.getName() + &quot;:&quot; + header.getValue());\r\n    }\r\n    // Displaying Message Body as a Plain Text\r\n    for (MessagePart msgPart : msg.getPayload().getParts()) {\r\n      if (msgPart.getMimeType().contains(&quot;text/plain&quot;))\r\n        System.out.println(new String(Base64.decodeBase64(msgPart.getBody().getData())));\r\n    }","title":"How to get full message body in Gmail?","body":"<p>When we get full message. The message body is inside Parts.</p>\n\n<p>This is an example in which message headers (Date, From, To and Subject) are displayed and Message Body as a plain text is displayed. Parts in Payload returns both type of messages (plain text and formatted text). I was interested in Plain text.</p>\n\n<pre><code>Message msg = service.users().messages().get(user, message.getId()).setFormat(\"full\").execute();\n// Displaying Message Header Information\nfor (MessagePartHeader header : msg.getPayload().getHeaders()) {\n  if (header.getName().contains(\"Date\") || header.getName().contains(\"From\") || header.getName().contains(\"To\")\n      || header.getName().contains(\"Subject\"))\n    System.out.println(header.getName() + \":\" + header.getValue());\n}\n// Displaying Message Body as a Plain Text\nfor (MessagePart msgPart : msg.getPayload().getParts()) {\n  if (msgPart.getMimeType().contains(\"text/plain\"))\n    System.out.println(new String(Base64.decodeBase64(msgPart.getBody().getData())));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23632029,"reputation":1,"user_id":17663609,"display_name":"Roman Kovař&#237;k"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639568203,"creation_date":1639568203,"answer_id":70363009,"question_id":28026099,"body_markdown":"There is a method to decode the body:\r\n\r\n    final String body = new String(message.getPayload().getParts().get(0).getBody().decodeData());\r\n\r\n","title":"How to get full message body in Gmail?","body":"<p>There is a method to decode the body:</p>\n<pre><code>final String body = new String(message.getPayload().getParts().get(0).getBody().decodeData());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18216320,"reputation":1,"user_id":13257945,"display_name":"Akshat Mathur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659628365,"creation_date":1659628247,"answer_id":73238826,"question_id":28026099,"body_markdown":"    Message message = service.users().messages().get(user, messageId).execute();\r\n        \r\n    //Print email body\r\n    List&lt;MessagePart&gt; parts = message.getPayload().getParts();\r\n    String data = parts.get(0).getBody().getData();\r\n    String body = new String(BaseEncoding.base64Url().decode(data));","title":"How to get full message body in Gmail?","body":"<pre><code>Message message = service.users().messages().get(user, messageId).execute();\n    \n//Print email body\nList&lt;MessagePart&gt; parts = message.getPayload().getParts();\nString data = parts.get(0).getBody().getData();\nString body = new String(BaseEncoding.base64Url().decode(data));\n</code></pre>\n"}],"owner":{"account_id":4459981,"reputation":1077,"user_id":3629171,"accept_rate":38,"display_name":"somebody"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31559,"favorite_count":0,"down_vote_count":1,"up_vote_count":20,"answer_count":9,"score":19,"last_activity_date":1659628365,"creation_date":1421675166,"question_id":28026099,"body_markdown":"I want to get full message body. So I try:\r\n\r\n    Message gmailMessage = service.users().messages().get(&quot;me&quot;, messageId).setFormat(&quot;full&quot;).execute();\r\n\r\nThat to get body, I try:\r\n\r\n    gmailMessage.getPayload().getBody().getData()\r\n\r\nbut result always `null`. How to get full message body?","title":"How to get full message body in Gmail?","body":"<p>I want to get full message body. So I try:</p>\n\n<pre><code>Message gmailMessage = service.users().messages().get(\"me\", messageId).setFormat(\"full\").execute();\n</code></pre>\n\n<p>That to get body, I try:</p>\n\n<pre><code>gmailMessage.getPayload().getBody().getData()\n</code></pre>\n\n<p>but result always <code>null</code>. How to get full message body?</p>\n"},{"tags":["java","windows","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1659622814,"post_id":73237406,"comment_id":129342731,"body_markdown":"`FileSystemView` is a Swing class. Is this a Swing application or a JavaFX application? Doesn&#39;t the code that actually gives you the list of drives (i.e. `File.listRoots()`) work anyway?","body":"<code>FileSystemView</code> is a Swing class. Is this a Swing application or a JavaFX application? Doesn&#39;t the code that actually gives you the list of drives (i.e. <code>File.listRoots()</code>) work anyway?"},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":1,"creation_date":1659622974,"post_id":73237406,"comment_id":129342803,"body_markdown":"To use FileSystemView simply add the import `import javax.swing.filechooser.FileSystemView;` it is part of the standard jre/jdk. Are you using a lite JDK?","body":"To use FileSystemView simply add the import <code>import javax.swing.filechooser.FileSystemView;</code> it is part of the standard jre/jdk. Are you using a lite JDK?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1659623118,"post_id":73237406,"comment_id":129342865,"body_markdown":"@sorifiend It&#39;s part of the standard JDK, but it&#39;s in a separate module (`java.desktop`), so the OP would need to require that module. But it&#39;s not a good idea to mix Swing and JavaFX unless absolutely necessary.","body":"@sorifiend It&#39;s part of the standard JDK, but it&#39;s in a separate module (<code>java.desktop</code>), so the OP would need to require that module. But it&#39;s not a good idea to mix Swing and JavaFX unless absolutely necessary."},{"owner":{"account_id":20588925,"reputation":61,"user_id":15113111,"display_name":"Thomas Basile"},"score":0,"creation_date":1659623651,"post_id":73237406,"comment_id":129343100,"body_markdown":"Hi, first of all thank you both for replying. It&#39;s a JavaFX project but if it&#39;s not a good idea to mix JavaFX and Swing, is there a solution that doesn&#39;t require Swing to be mixed with JavaFX?","body":"Hi, first of all thank you both for replying. It&#39;s a JavaFX project but if it&#39;s not a good idea to mix JavaFX and Swing, is there a solution that doesn&#39;t require Swing to be mixed with JavaFX?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1659623805,"post_id":73237406,"comment_id":129343163,"body_markdown":"I&#39;m not on Windows (and all of this is highly platform-dependent), so I can&#39;t test this out, but consider using the `java.nio.file` API (which is in the base module). You can do `FileSystem fs = FileSystems.getDefault();` and then, e.g. `fs.getRootDirectories().forEach(System.out::println);` or `fs.getFileStores().forEach(store -&gt; System.out.println(store.name()+&quot; : &quot;+store.type()));` The `FileStore` class has lots of other useful information about the underlying storage (usable space, available space, etc.). See the docs.","body":"I&#39;m not on Windows (and all of this is highly platform-dependent), so I can&#39;t test this out, but consider using the <code>java.nio.file</code> API (which is in the base module). You can do <code>FileSystem fs = FileSystems.getDefault();</code> and then, e.g. <code>fs.getRootDirectories().forEach(System.out::println);</code> or <code>fs.getFileStores().forEach(store -&gt; System.out.println(store.name()+&quot; : &quot;+store.type()));</code> The <code>FileStore</code> class has lots of other useful information about the underlying storage (usable space, available space, etc.). See the docs."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1659623958,"post_id":73237406,"comment_id":129343217,"body_markdown":"*&quot;is there a solution that doesn&#39;t require Swing to be mixed with JavaFX&quot;*. Maybe I&#39;m missing something, but doesn&#39;t `File.getRoots()` give you what you need anyway?","body":"<i>&quot;is there a solution that doesn&#39;t require Swing to be mixed with JavaFX&quot;</i>. Maybe I&#39;m missing something, but doesn&#39;t <code>File.getRoots()</code> give you what you need anyway?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1659624475,"post_id":73237406,"comment_id":129343401,"body_markdown":"Reopening because the linked Q/A is *very* old (more than 12 years) and relies on an additional module (albeit one that is a `javafx.base` dependency). I think there are ways to achieve this without that dependency.","body":"Reopening because the linked Q/A is <i>very</i> old (more than 12 years) and relies on an additional module (albeit one that is a <code>javafx.base</code> dependency). I think there are ways to achieve this without that dependency."}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1659628043,"creation_date":1659625347,"answer_id":73238176,"question_id":73237406,"body_markdown":"This is not tested, because I don&#39;t have access to a Windows system, but a solution that does not introduce a dependency on the Swing class `FileSystemView` is to use the `java.nio.file` API. \r\n\r\nYou can get a list of all root directories from the file system with:\r\n\r\n    FileSystem fs = FileSystems.getDefault();\r\n    for (Path root : fs.getRootDirectories()) {\r\n        // ...\r\n    }\r\n\r\nYou can find the underlying file store for each root directory using `Files.getFileStore(...)` and then query the file store for whatever you need:\r\n\r\n    FileSystem fs = FileSystems.getDefault();\r\n    for (Path root : fs.getRootDirectories()) {\r\n        FileStore store = Files.getFileStore(root);\r\n        System.out.printf(&quot;Root: %s; File Store: %s; Total space: %d; Type: %s%n&quot;,\r\n            root, store.name(), store.getTotalSpace(), store.type());\r\n    }\r\n\r\n---\r\n\r\nIf you don&#39;t mind the additional dependency, add\r\n\r\n    requires java.desktop ;\r\n\r\nto your `module-info.java` and then import `FileSystemView` with\r\n\r\n    import javax.swing.filechooser.FileSystemView ;","title":"How to list drives (HDD, USB, SD, CD/DVD) in Java?","body":"<p>This is not tested, because I don't have access to a Windows system, but a solution that does not introduce a dependency on the Swing class <code>FileSystemView</code> is to use the <code>java.nio.file</code> API.</p>\n<p>You can get a list of all root directories from the file system with:</p>\n<pre><code>FileSystem fs = FileSystems.getDefault();\nfor (Path root : fs.getRootDirectories()) {\n    // ...\n}\n</code></pre>\n<p>You can find the underlying file store for each root directory using <code>Files.getFileStore(...)</code> and then query the file store for whatever you need:</p>\n<pre><code>FileSystem fs = FileSystems.getDefault();\nfor (Path root : fs.getRootDirectories()) {\n    FileStore store = Files.getFileStore(root);\n    System.out.printf(&quot;Root: %s; File Store: %s; Total space: %d; Type: %s%n&quot;,\n        root, store.name(), store.getTotalSpace(), store.type());\n}\n</code></pre>\n<hr />\n<p>If you don't mind the additional dependency, add</p>\n<pre><code>requires java.desktop ;\n</code></pre>\n<p>to your <code>module-info.java</code> and then import <code>FileSystemView</code> with</p>\n<pre><code>import javax.swing.filechooser.FileSystemView ;\n</code></pre>\n"}],"owner":{"account_id":20588925,"reputation":61,"user_id":15113111,"display_name":"Thomas Basile"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":249,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659628043,"creation_date":1659622220,"question_id":73237406,"body_markdown":"i&#39;m trying to get a list of currently plugged storage drives on Windows using Java.\r\n\r\nHere&#39;s the code snippet i&#39;ve found on another question here on StackOverflow:\r\n\r\n    File[] paths;\r\n    FileSystemView fsv = FileSystemView.getFileSystemView();\r\n    \r\n    // returns pathnames for files and directory\r\n    paths = File.listRoots();\r\n    \r\n    // for each pathname in pathname array\r\n    for(File path:paths)\r\n    {\r\n        // prints file and directory paths\r\n        System.out.println(&quot;Drive Name: &quot;+path);\r\n        System.out.println(&quot;Description: &quot;+fsv.getSystemTypeDescription(path));\r\n    }\r\n\r\nThe problem is actually that i&#39;m not able to use FileSystemView somehow and i can&#39;t import it&#39;s library as well...\r\nCould it be because i&#39;m using JavaFX?\r\nIs there any possible solution to this problem?\r\n\r\nThank you in advance!","title":"How to list drives (HDD, USB, SD, CD/DVD) in Java?","body":"<p>i'm trying to get a list of currently plugged storage drives on Windows using Java.</p>\n<p>Here's the code snippet i've found on another question here on StackOverflow:</p>\n<pre><code>File[] paths;\nFileSystemView fsv = FileSystemView.getFileSystemView();\n\n// returns pathnames for files and directory\npaths = File.listRoots();\n\n// for each pathname in pathname array\nfor(File path:paths)\n{\n    // prints file and directory paths\n    System.out.println(&quot;Drive Name: &quot;+path);\n    System.out.println(&quot;Description: &quot;+fsv.getSystemTypeDescription(path));\n}\n</code></pre>\n<p>The problem is actually that i'm not able to use FileSystemView somehow and i can't import it's library as well...\nCould it be because i'm using JavaFX?\nIs there any possible solution to this problem?</p>\n<p>Thank you in advance!</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api"],"answers":[{"tags":[],"owner":{"account_id":84677,"reputation":16500,"user_id":236528,"accept_rate":100,"display_name":"mjuarez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659627914,"creation_date":1659627914,"answer_id":73238760,"question_id":73238364,"body_markdown":"Based on the info you posted, a couple of things that immediately come to mind:\r\n* The first screenshot shows a lag of 182, which means the consumer either was not running, or it has some weird configuration that made it stop consuming.  Was it possible one of the brokers was down when the consumer stopped consuming?\r\n* On restart, the consumer finally consumed all the remaining messages, because it now shows lag of 0.  This is correct, expected Kafka behavior.\r\n* Make sure that the consumer group name is not changing between restarts.  Some clients default to &quot;randomized&quot; customer group names, which works as long as the consumer is not restarted.","title":"kafka Consumer Reading Previous Records","body":"<p>Based on the info you posted, a couple of things that immediately come to mind:</p>\n<ul>\n<li>The first screenshot shows a lag of 182, which means the consumer either was not running, or it has some weird configuration that made it stop consuming.  Was it possible one of the brokers was down when the consumer stopped consuming?</li>\n<li>On restart, the consumer finally consumed all the remaining messages, because it now shows lag of 0.  This is correct, expected Kafka behavior.</li>\n<li>Make sure that the consumer group name is not changing between restarts.  Some clients default to &quot;randomized&quot; customer group names, which works as long as the consumer is not restarted.</li>\n</ul>\n"}],"owner":{"account_id":8363529,"reputation":215,"user_id":6281005,"accept_rate":0,"display_name":"Faheem Sultan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659627914,"creation_date":1659626144,"question_id":73238364,"body_markdown":"i am facing a problem with my kafka consumer. i have two kafka brokers running with replication factor 2 for the topic. everytime a broker restarts and if i restart my consumer service, it starts to read records which it has already read. e.g. before i restarted the consumer this was the state. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nand consumer was sitting idle not receiving any messages as it has read all of them.\r\ni restart my consumer, and all of a sudden it starts receiving messages which it has processed previously and here is the offset situation now.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n\r\nalso what is this LOG-END-OFFSET and LAG, looks like these are something to consider here.\r\nnote that it only happens when 1 of the broker gets restarted due to kubernetes shifting it to another node.\r\n\r\nthis is the topic configuration\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/p3kBr.png\r\n  [2]: https://i.stack.imgur.com/Lbvvl.png\r\n  [3]: https://i.stack.imgur.com/ynhvh.png","title":"kafka Consumer Reading Previous Records","body":"<p>i am facing a problem with my kafka consumer. i have two kafka brokers running with replication factor 2 for the topic. everytime a broker restarts and if i restart my consumer service, it starts to read records which it has already read. e.g. before i restarted the consumer this was the state.</p>\n<p><a href=\"https://i.stack.imgur.com/p3kBr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/p3kBr.png\" alt=\"enter image description here\" /></a></p>\n<p>and consumer was sitting idle not receiving any messages as it has read all of them.\ni restart my consumer, and all of a sudden it starts receiving messages which it has processed previously and here is the offset situation now.</p>\n<p><a href=\"https://i.stack.imgur.com/Lbvvl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Lbvvl.png\" alt=\"enter image description here\" /></a></p>\n<p>also what is this LOG-END-OFFSET and LAG, looks like these are something to consider here.\nnote that it only happens when 1 of the broker gets restarted due to kubernetes shifting it to another node.</p>\n<p>this is the topic configuration</p>\n<p><a href=\"https://i.stack.imgur.com/ynhvh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ynhvh.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","android-studio","unity-game-engine","unityads"],"comments":[{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":0,"creation_date":1659639312,"post_id":73238200,"comment_id":129348427,"body_markdown":"What&#39;s the question exactly?","body":"What&#39;s the question exactly?"},{"owner":{"account_id":21764545,"reputation":11,"user_id":16068643,"display_name":"Hooksta93"},"score":0,"creation_date":1659655098,"post_id":73238200,"comment_id":129352212,"body_markdown":"How can I avoid this error ?","body":"How can I avoid this error ?"}],"answers":[{"tags":[],"owner":{"account_id":14276891,"reputation":81,"user_id":10312671,"display_name":"Ahmed Mutahar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659627725,"creation_date":1659627725,"answer_id":73238722,"question_id":73238200,"body_markdown":"You only need the first line \r\n`implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;, &#39;*.aar&#39;])`\r\n\r\nand make sure you update your gradle version to 7.x.x\r\n\r\nfile -&gt; Project Structure \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5j5GF.png","title":"Duplicate Unity Ads Library in android studio","body":"<p>You only need the first line\n<code>implementation fileTree(dir: 'libs', include: ['*.jar', '*.aar'])</code></p>\n<p>and make sure you update your gradle version to 7.x.x</p>\n<p>file -&gt; Project Structure</p>\n<p><a href=\"https://i.stack.imgur.com/5j5GF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5j5GF.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":21764545,"reputation":11,"user_id":16068643,"display_name":"Hooksta93"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":350,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659627725,"creation_date":1659625423,"question_id":73238200,"body_markdown":"I am using unity3d in my android studio project and need to import the unity ads aar file into my project. To do so I added the following lines and the unity-ads.aar to the libs folder : \r\n\r\n```\r\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;, &#39;*.aar&#39;])\r\n    implementation files(&#39;libs/unity-ads.aar&#39;)\r\n```\r\n\r\nI get the following error when I compile the project : \r\n\r\n```\r\nDuplicate class com.unity3d.ads.BuildConfig found in modules jetified-unity-ads-4.2.1-runtime (com.unity3d.ads:unity-ads:4.2.1) and jetified-unity-ads-runtime (unity-ads.aar)\r\n````\r\n\r\nIf I delete these lines and the unity-ads.aar file all the classes from unity3d aren&#39;t recogonized and I get errors. \r\n\r\nI don&#39;t understand why the classes are duplicated and how I can resolve this issue. ","title":"Duplicate Unity Ads Library in android studio","body":"<p>I am using unity3d in my android studio project and need to import the unity ads aar file into my project. To do so I added the following lines and the unity-ads.aar to the libs folder :</p>\n<pre><code>    implementation fileTree(dir: 'libs', include: ['*.jar', '*.aar'])\n    implementation files('libs/unity-ads.aar')\n</code></pre>\n<p>I get the following error when I compile the project :</p>\n<pre><code>Duplicate class com.unity3d.ads.BuildConfig found in modules jetified-unity-ads-4.2.1-runtime (com.unity3d.ads:unity-ads:4.2.1) and jetified-unity-ads-runtime (unity-ads.aar)\n</code></pre>\n<p>If I delete these lines and the unity-ads.aar file all the classes from unity3d aren't recogonized and I get errors.</p>\n<p>I don't understand why the classes are duplicated and how I can resolve this issue.</p>\n"},{"tags":["java","mysql","prepared-statement"],"comments":[{"owner":{"account_id":15648493,"reputation":106,"user_id":11290282,"display_name":"Christian"},"score":0,"creation_date":1659626378,"post_id":73238369,"comment_id":129344198,"body_markdown":"Maybe you need to add quotation marks: `String sql = &quot;Select * From dusuario Where nome_usuario= &#39;?&#39; and senha_usuario= &#39;?&#39;&quot;;`","body":"Maybe you need to add quotation marks: <code>String sql = &quot;Select * From dusuario Where nome_usuario= &#39;?&#39; and senha_usuario= &#39;?&#39;&quot;;</code>"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1659626447,"post_id":73238369,"comment_id":129344220,"body_markdown":"@Christian that would defeat part of the purpose of using prepared statements.","body":"@Christian that would defeat part of the purpose of using prepared statements."},{"owner":{"account_id":15648493,"reputation":106,"user_id":11290282,"display_name":"Christian"},"score":0,"creation_date":1659626850,"post_id":73238369,"comment_id":129344409,"body_markdown":"@FedericoklezCulloca: Of course, you are right.","body":"@FedericoklezCulloca: Of course, you are right."}],"answers":[{"tags":[],"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659627272,"creation_date":1659627272,"answer_id":73238630,"question_id":73238369,"body_markdown":"When using prepared statements you need to call [`executeQuery`](https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/PreparedStatement.html#executeQuery()) without passing any parameter, so\r\n\r\n    ResultSet resultado = pstm.executeQuery(); \r\n\r\nAs per the [documentation](https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/Statement.html#executeQuery(java.lang.String)) of the parametrized version:\r\n\r\n&gt;  **Note**:This method cannot be called on a `PreparedStatement` or `CallableStatement`.","title":"java.sql.SQLSyntaxErrorException: Youhave an error in your SQL syntax; check the manual that corresponds to your MariaDB server version","body":"<p>When using prepared statements you need to call <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/PreparedStatement.html#executeQuery()\" rel=\"nofollow noreferrer\"><code>executeQuery</code></a> without passing any parameter, so</p>\n<pre><code>ResultSet resultado = pstm.executeQuery(); \n</code></pre>\n<p>As per the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/Statement.html#executeQuery(java.lang.String)\" rel=\"nofollow noreferrer\">documentation</a> of the parametrized version:</p>\n<blockquote>\n<p><strong>Note</strong>:This method cannot be called on a <code>PreparedStatement</code> or <code>CallableStatement</code>.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":20861191,"reputation":26,"user_id":15323390,"display_name":"Nakulan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659627534,"creation_date":1659627534,"answer_id":73238687,"question_id":73238369,"body_markdown":"     ResultSet resultado = pstm.executeQuery(sql);\r\nIn the above line you doesn&#39;t need to pass `sql` String again as it is already assign to the `pstm` object and the values are updated using `setString()` \r\n\r\nSo, the line can ne rewritted as \r\n\r\n    ResultSet resultado = pstm.executeQuery();","title":"java.sql.SQLSyntaxErrorException: Youhave an error in your SQL syntax; check the manual that corresponds to your MariaDB server version","body":"<pre><code> ResultSet resultado = pstm.executeQuery(sql);\n</code></pre>\n<p>In the above line you doesn't need to pass <code>sql</code> String again as it is already assign to the <code>pstm</code> object and the values are updated using <code>setString()</code></p>\n<p>So, the line can ne rewritted as</p>\n<pre><code>ResultSet resultado = pstm.executeQuery();\n</code></pre>\n"}],"owner":{"account_id":25978557,"reputation":13,"user_id":19692669,"display_name":"GollumInsane"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8189,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73238687,"answer_count":2,"score":1,"last_activity_date":1659627534,"creation_date":1659626159,"question_id":73238369,"body_markdown":"I use MySQL, why MariaDB in the error message? I have tried replacing the parameters `? by known values and it worked. The problem is in the\r\n &quot;?&quot; as a placeholder for parameters 1 and 2 in the code\r\n \r\n\r\n\t\t\r\n\r\n    try {\r\n    \t\t\t\r\n\r\n                 //THE ISSUE IS HERE!\r\n    \t\t\tString sql = &quot;Select * From dusuario Where nome_usuario= ? and senha_usuario= ?&quot;; \r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\tPreparedStatement pstm = conn.prepareStatement(sql);\r\n    \t\t\t\r\n\r\n    \t\t\t\r\n    \t\t\tpstm.setString(1, usuarioDTO.getNome_usuario()); \r\n    \t\t\tpstm.setString(2, usuarioDTO.getSenha_usuario()); \r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\tResultSet resultado = pstm.executeQuery(sql);\r\n    \t\t\t\r\n    \t\t\treturn resultado;\r\n    \t\t\t\r\n    \t\t} catch (SQLException erro) {\r\n    \t\t\tJOptionPane.showMessageDialog(null, &quot;Erro na classe UsuarioDao: &quot;+ erro);\r\n    \t\t\t\r\n    \t\t\treturn null; ","title":"java.sql.SQLSyntaxErrorException: Youhave an error in your SQL syntax; check the manual that corresponds to your MariaDB server version","body":"<p>I use MySQL, why MariaDB in the error message? I have tried replacing the parameters `? by known values and it worked. The problem is in the\n&quot;?&quot; as a placeholder for parameters 1 and 2 in the code</p>\n<pre><code>try {\n            \n\n             //THE ISSUE IS HERE!\n            String sql = &quot;Select * From dusuario Where nome_usuario= ? and senha_usuario= ?&quot;; \n            \n            \n            PreparedStatement pstm = conn.prepareStatement(sql);\n            \n\n            \n            pstm.setString(1, usuarioDTO.getNome_usuario()); \n            pstm.setString(2, usuarioDTO.getSenha_usuario()); \n            \n            \n            ResultSet resultado = pstm.executeQuery(sql);\n            \n            return resultado;\n            \n        } catch (SQLException erro) {\n            JOptionPane.showMessageDialog(null, &quot;Erro na classe UsuarioDao: &quot;+ erro);\n            \n            return null; \n</code></pre>\n"},{"tags":["java","spring","firebase","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":40277,"reputation":5675,"user_id":116712,"accept_rate":40,"display_name":"pablochan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1470318807,"creation_date":1470318807,"answer_id":38769339,"question_id":38769244,"body_markdown":"No. Firebase offers hosting for static assets only.","title":"Is it possible to host Java Spring application over Firebase hosting?","body":"<p>No. Firebase offers hosting for static assets only.</p>\n"},{"tags":[],"owner":{"account_id":4793155,"reputation":6314,"user_id":3871754,"accept_rate":68,"display_name":"Kamil Nękanowicz"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1476360148,"creation_date":1476360148,"answer_id":40020462,"question_id":38769244,"body_markdown":"It is possible. Use Google App Engine an environment for running application code in the cloud; Platform as a service (PaaS).\r\n\r\nBelow is description how make to make basic example.\r\n\r\nIn the this tutorial, you&#39;ll learn how to:\r\nCreate a backend service running on App Engine using Android Studio.\r\nConnect the backend service to your data in Firebase.\r\n\r\n\r\nThe sample app stores a to-do list in Firebase, which automatically synchronizes the data across devices, and then uses backend logic running on App Engine to send out daily reminder emails:\r\n\r\nhttps://cloud.google.com/solutions/mobile/firebase-app-engine-android-studio\r\n\r\nBy connecting App Engine to a Firebase database, you can perform complex logic on data without having to manage synchronization and updates; Firebase handles that for you.","title":"Is it possible to host Java Spring application over Firebase hosting?","body":"<p>It is possible. Use Google App Engine an environment for running application code in the cloud; Platform as a service (PaaS).</p>\n\n<p>Below is description how make to make basic example.</p>\n\n<p>In the this tutorial, you'll learn how to:\nCreate a backend service running on App Engine using Android Studio.\nConnect the backend service to your data in Firebase.</p>\n\n<p>The sample app stores a to-do list in Firebase, which automatically synchronizes the data across devices, and then uses backend logic running on App Engine to send out daily reminder emails:</p>\n\n<p><a href=\"https://cloud.google.com/solutions/mobile/firebase-app-engine-android-studio\" rel=\"noreferrer\">https://cloud.google.com/solutions/mobile/firebase-app-engine-android-studio</a></p>\n\n<p>By connecting App Engine to a Firebase database, you can perform complex logic on data without having to manage synchronization and updates; Firebase handles that for you.</p>\n"},{"tags":[],"owner":{"account_id":12297750,"reputation":34,"user_id":8972817,"display_name":"Eviner Santos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659626829,"creation_date":1659626829,"answer_id":73238528,"question_id":38769244,"body_markdown":"The [Google Cloud Run][1] seems is most suitable for what you want.\r\n&lt;br&gt;Consider to check the documentation and pricing. Like firebase, cloud run also has a free tier that can help you develop your app with no costs.\r\n&lt;br&gt;The cloud run supports several programming languages including Java. \r\nOnce created the service you can try to connect to your firebase project...\r\n\r\n[Cloud Run Java Documentation][2]\r\n\r\n\r\n  [1]: https://cloud.google.com/run/\r\n  [2]: https://cloud.google.com/run/docs/quickstarts/build-and-deploy/deploy-java-service","title":"Is it possible to host Java Spring application over Firebase hosting?","body":"<p>The <a href=\"https://cloud.google.com/run/\" rel=\"nofollow noreferrer\">Google Cloud Run</a> seems is most suitable for what you want.\n<br>Consider to check the documentation and pricing. Like firebase, cloud run also has a free tier that can help you develop your app with no costs.\n<br>The cloud run supports several programming languages including Java.\nOnce created the service you can try to connect to your firebase project...</p>\n<p><a href=\"https://cloud.google.com/run/docs/quickstarts/build-and-deploy/deploy-java-service\" rel=\"nofollow noreferrer\">Cloud Run Java Documentation</a></p>\n"}],"owner":{"account_id":5053213,"reputation":1650,"user_id":4057143,"accept_rate":46,"display_name":"Ankit Maheshwari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16590,"favorite_count":0,"down_vote_count":1,"up_vote_count":11,"answer_count":3,"score":10,"last_activity_date":1659626829,"creation_date":1470318600,"question_id":38769244,"body_markdown":"I am seeking information about using Firebase (as database) for Java. Is this possible along with hosting of Java (using Spring framework) project over Firebase hosting.","title":"Is it possible to host Java Spring application over Firebase hosting?","body":"<p>I am seeking information about using Firebase (as database) for Java. Is this possible along with hosting of Java (using Spring framework) project over Firebase hosting.</p>\n"},{"tags":["java","http","parsing","multipartform-data","multipartentity"],"answers":[{"tags":[],"owner":{"account_id":2059179,"reputation":3294,"user_id":1836202,"accept_rate":77,"display_name":"Linus"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1353489284,"creation_date":1353489284,"answer_id":13489843,"question_id":13457503,"body_markdown":"Example code using deprecated constructor:\r\n\r\n    import java.io.ByteArrayInputStream;\r\n    \r\n    import org.apache.commons.fileupload.MultipartStream;\r\n    \r\n    public class MultipartTest {\r\n    \r\n        // Lines should end with CRLF\r\n        public static final String MULTIPART_BODY =\r\n                &quot;Content-Type: multipart/form-data; boundary=--AaB03x\\r\\n&quot;\r\n                + &quot;\\r\\n&quot;\r\n                + &quot;----AaB03x\\r\\n&quot;\r\n                + &quot;Content-Disposition: form-data; name=\\&quot;submit-name\\&quot;\\r\\n&quot;\r\n                + &quot;\\r\\n&quot;\r\n                + &quot;Larry\\r\\n&quot;\r\n                + &quot;----AaB03x\\r\\n&quot;\r\n                + &quot;Content-Disposition: form-data; name=\\&quot;files\\&quot;; filename=\\&quot;file1.txt\\&quot;\\r\\n&quot;\r\n                + &quot;Content-Type: text/plain\\r\\n&quot;\r\n                + &quot;\\r\\n&quot;\r\n                + &quot;HELLO WORLD!\\r\\n&quot;\r\n                + &quot;----AaB03x--\\r\\n&quot;;\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n    \r\n            byte[] boundary = &quot;--AaB03x&quot;.getBytes();\r\n    \r\n            ByteArrayInputStream content = new ByteArrayInputStream(MULTIPART_BODY.getBytes());\r\n    \r\n            @SuppressWarnings(&quot;deprecation&quot;)\r\n            MultipartStream multipartStream =\r\n                    new MultipartStream(content, boundary);\r\n    \r\n            boolean nextPart = multipartStream.skipPreamble();\r\n            while (nextPart) {\r\n                String header = multipartStream.readHeaders();\r\n                System.out.println(&quot;&quot;);\r\n                System.out.println(&quot;Headers:&quot;);\r\n                System.out.println(header);\r\n                System.out.println(&quot;Body:&quot;);\r\n                multipartStream.readBodyData(System.out);\r\n                System.out.println(&quot;&quot;);\r\n                nextPart = multipartStream.readBoundary();\r\n            }\r\n        }\r\n    }","title":"Library and examples of parsing multipart/form-data from inputstream","body":"<p>Example code using deprecated constructor:</p>\n\n<pre><code>import java.io.ByteArrayInputStream;\n\nimport org.apache.commons.fileupload.MultipartStream;\n\npublic class MultipartTest {\n\n    // Lines should end with CRLF\n    public static final String MULTIPART_BODY =\n            \"Content-Type: multipart/form-data; boundary=--AaB03x\\r\\n\"\n            + \"\\r\\n\"\n            + \"----AaB03x\\r\\n\"\n            + \"Content-Disposition: form-data; name=\\\"submit-name\\\"\\r\\n\"\n            + \"\\r\\n\"\n            + \"Larry\\r\\n\"\n            + \"----AaB03x\\r\\n\"\n            + \"Content-Disposition: form-data; name=\\\"files\\\"; filename=\\\"file1.txt\\\"\\r\\n\"\n            + \"Content-Type: text/plain\\r\\n\"\n            + \"\\r\\n\"\n            + \"HELLO WORLD!\\r\\n\"\n            + \"----AaB03x--\\r\\n\";\n\n    public static void main(String[] args) throws Exception {\n\n        byte[] boundary = \"--AaB03x\".getBytes();\n\n        ByteArrayInputStream content = new ByteArrayInputStream(MULTIPART_BODY.getBytes());\n\n        @SuppressWarnings(\"deprecation\")\n        MultipartStream multipartStream =\n                new MultipartStream(content, boundary);\n\n        boolean nextPart = multipartStream.skipPreamble();\n        while (nextPart) {\n            String header = multipartStream.readHeaders();\n            System.out.println(\"\");\n            System.out.println(\"Headers:\");\n            System.out.println(header);\n            System.out.println(\"Body:\");\n            multipartStream.readBodyData(System.out);\n            System.out.println(\"\");\n            nextPart = multipartStream.readBoundary();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2081811,"reputation":83,"user_id":1853665,"accept_rate":40,"display_name":"user1853665"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1569355295,"creation_date":1499349653,"answer_id":44951110,"question_id":13457503,"body_markdown":"Example code without using deprecated methods.\r\n\r\n    import com.google.common.net.MediaType;\r\n    import org.apache.commons.fileupload.RequestContext;\r\n\r\n    import java.io.ByteArrayInputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.nio.charset.Charset;\r\n\r\n    public class SimpleRequestContext implements RequestContext {\r\n        private final Charset charset;\r\n        private final MediaType contentType;\r\n        private final byte[] content;\r\n\r\n        public SimpleRequestContext(Charset charset, MediaType contentType, byte[] content) {\r\n            this.charset = charset;\r\n            this.contentType = contentType;\r\n            this.content = content;\r\n        }\r\n\r\n        public String getCharacterEncoding() {\r\n            return charset.displayName();\r\n        }\r\n\r\n        public String getContentType() {\r\n            return contentType.toString();\r\n        }\r\n\r\n        @Deprecated\r\n        public int getContentLength() {\r\n            return content.length;\r\n        }\r\n\r\n        public InputStream getInputStream() throws IOException {\r\n            return new ByteArrayInputStream(content);\r\n        }\r\n    }\r\n\r\n    {\r\n      ...\r\n      Charset encoding = UTF_8;\r\n      RequestContext requestContext = new SimpleRequestContext(encoding, contentType, body.getBytes());\r\n      FileUploadBase fileUploadBase = new PortletFileUpload();\r\n      FileItemFactory fileItemFactory = new DiskFileItemFactory();\r\n      fileUploadBase.setFileItemFactory(fileItemFactory);\r\n      fileUploadBase.setHeaderEncoding(encoding.displayName());\r\n      List&lt;FileItem&gt; fileItems = fileUploadBase.parseRequest(requestContext);\r\n      ...\r\n    }","title":"Library and examples of parsing multipart/form-data from inputstream","body":"<p>Example code without using deprecated methods.</p>\n\n<pre><code>import com.google.common.net.MediaType;\nimport org.apache.commons.fileupload.RequestContext;\n\nimport java.io.ByteArrayInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.nio.charset.Charset;\n\npublic class SimpleRequestContext implements RequestContext {\n    private final Charset charset;\n    private final MediaType contentType;\n    private final byte[] content;\n\n    public SimpleRequestContext(Charset charset, MediaType contentType, byte[] content) {\n        this.charset = charset;\n        this.contentType = contentType;\n        this.content = content;\n    }\n\n    public String getCharacterEncoding() {\n        return charset.displayName();\n    }\n\n    public String getContentType() {\n        return contentType.toString();\n    }\n\n    @Deprecated\n    public int getContentLength() {\n        return content.length;\n    }\n\n    public InputStream getInputStream() throws IOException {\n        return new ByteArrayInputStream(content);\n    }\n}\n\n{\n  ...\n  Charset encoding = UTF_8;\n  RequestContext requestContext = new SimpleRequestContext(encoding, contentType, body.getBytes());\n  FileUploadBase fileUploadBase = new PortletFileUpload();\n  FileItemFactory fileItemFactory = new DiskFileItemFactory();\n  fileUploadBase.setFileItemFactory(fileItemFactory);\n  fileUploadBase.setHeaderEncoding(encoding.displayName());\n  List&lt;FileItem&gt; fileItems = fileUploadBase.parseRequest(requestContext);\n  ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8718999,"reputation":519,"user_id":6522707,"display_name":"Daniel F"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1593359266,"creation_date":1593359266,"answer_id":62624820,"question_id":13457503,"body_markdown":"I wanted a solution that worked from Azure functions with everything being in-memory and no reliance on the servlet or portal apis. So I wrote one:\r\n\r\n    package my.package;\r\n\r\n    import java.io.ByteArrayInputStream;\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.OutputStream;\r\n    import java.io.UnsupportedEncodingException;\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n\r\n    import org.apache.commons.fileupload.FileItem;\r\n    import org.apache.commons.fileupload.FileItemFactory;\r\n    import org.apache.commons.fileupload.FileItemHeaders;\r\n    import org.apache.commons.fileupload.FileUpload;\r\n    import org.apache.commons.fileupload.FileUploadException;\r\n    import org.apache.commons.fileupload.ParameterParser;\r\n    import org.apache.commons.fileupload.UploadContext;\r\n\r\n    public class MultipartParser {\r\n      private static class SimpleContext implements UploadContext {\r\n        private final byte[] request;\r\n        private final String contentType;\r\n\r\n        private SimpleContext(byte[] requestBody, String contentTypeHeader) {\r\n            this.request = requestBody;\r\n            this.contentType = contentTypeHeader;\r\n        }\r\n\r\n        @Override\r\n        public long contentLength() {\r\n            return request.length;\r\n        }\r\n\r\n        @Override\r\n        public String getCharacterEncoding() {\r\n            // The &#39;Content-Type&#39; header may look like:\r\n            // multipart/form-data; charset=UTF-8; boundary=&quot;xxxx&quot;\r\n            // in which case we can extract the charset, otherwise,\r\n            // just default to UTF-8.\r\n            ParameterParser parser = new ParameterParser();\r\n            parser.setLowerCaseNames(true);\r\n            String charset = parser.parse(contentType, &#39;;&#39;).get(&quot;charset&quot;);\r\n            return charset != null ? charset : &quot;UTF-8&quot;;\r\n        }\r\n\r\n        @Override\r\n        public int getContentLength() {\r\n            return request.length;\r\n        }\r\n\r\n        @Override\r\n        public String getContentType() {\r\n            return contentType;\r\n        }\r\n\r\n        @Override\r\n        public InputStream getInputStream() throws IOException {\r\n            return new ByteArrayInputStream(request);\r\n        }\r\n      }\r\n\r\n      /**\r\n       * A form field which stores the field or file data completely in\r\n       * memory. Will be limited by the maximum size of\r\n       * a byte array (about 2GB).\r\n       */\r\n      private static class MemoryFileItem implements FileItem {\r\n        private String fieldName;\r\n        private String fileName;\r\n        private String contentType;\r\n        private boolean isFormField;\r\n        private FileItemHeaders headers;\r\n        private final ByteArrayOutputStream os = new ByteArrayOutputStream();\r\n\r\n        public MemoryFileItem(String fieldName, String contentType, boolean isFormField, String fileName) {\r\n            this.fieldName = fieldName;\r\n            this.contentType = contentType;\r\n            this.isFormField = isFormField;\r\n            this.fileName = fileName;\r\n        }\r\n\r\n        @Override\r\n        public void delete() {\r\n        }\r\n\r\n        /**\r\n         * Not cached, so only call once.\r\n         */\r\n        @Override\r\n        public byte[] get() {\r\n            return os.toByteArray();\r\n        }\r\n\r\n        @Override\r\n        public String getContentType() {\r\n            return contentType;\r\n        }\r\n\r\n        @Override\r\n        public String getFieldName() {\r\n            return fieldName;\r\n        }\r\n\r\n        @Override\r\n        public InputStream getInputStream() throws IOException {\r\n            return new ByteArrayInputStream(get());\r\n        }\r\n\r\n        @Override\r\n        public String getName() {\r\n            return fileName;\r\n        }\r\n\r\n        @Override\r\n        public OutputStream getOutputStream() throws IOException {\r\n            return os;\r\n        }\r\n\r\n        @Override\r\n        public long getSize() {\r\n            return os.size();\r\n        }\r\n\r\n        @Override\r\n        public String getString() {\r\n            return new String(get(), StandardCharsets.UTF_8);\r\n        }\r\n\r\n        @Override\r\n        public String getString(String encoding) throws UnsupportedEncodingException {\r\n            return new String(get(), encoding);\r\n        }\r\n\r\n        @Override\r\n        public boolean isFormField() {\r\n            return isFormField;\r\n        }\r\n\r\n        @Override\r\n        public boolean isInMemory() {\r\n            return true;\r\n        }\r\n\r\n        @Override\r\n        public void setFieldName(String name) {\r\n            fieldName = name;\r\n        }\r\n\r\n        @Override\r\n        public void setFormField(boolean state) {\r\n            isFormField = state;\r\n        }\r\n\r\n        @Override\r\n        public void write(File file) throws Exception {\r\n        }\r\n\r\n        @Override\r\n        public FileItemHeaders getHeaders() {\r\n            return headers;\r\n        }\r\n\r\n        @Override\r\n        public void setHeaders(FileItemHeaders headers) {\r\n            this.headers = headers;\r\n        }\r\n      }\r\n\r\n      private static class MemoryFileItemFactory implements FileItemFactory {\r\n        @Override\r\n        public FileItem createItem(String fieldName, String contentType, boolean isFormField, String fileName) {\r\n            return new MemoryFileItem(fieldName, contentType, isFormField, fileName);\r\n        }\r\n      }\r\n\r\n      /**\r\n       * Assumes the request body really is multipart/form-data.\r\n       * Given the binary request body and the Content-Type header value,\r\n       * attempts to parse fields into a map from field name to list\r\n       * of FileItem objects.\r\n       * \r\n       * Everything is stored in memory and an individual item will only be limited\r\n       * by the maximum size of a byte array (about 2GB). It is recommended that the\r\n       * user sets a limit on maximum upload request size. Doing this will obviously\r\n       * differ by environment.\r\n       *\r\n       * Example:\r\n       *   &lt;code&gt;\r\n       *   var fields = MultipartParser.parseRequest(requestBody, contentTypeHeader);\r\n       *   String firstName = fields.get(&quot;firstname&quot;).get(0).getString();\r\n       *   byte[] profilePic = fields.get(&quot;picture&quot;).get(0).get();\r\n       *   &lt;/code&gt;\r\n       *\r\n       * @param requestBody The binary request body\r\n       * @param contentTypeHeader The string value of the Content-Type header.\r\n       * @return a map, with each entry having one or more values for that named field.\r\n       * @throws FileUploadException\r\n       */\r\n      public static Map&lt;String, List&lt;FileItem&gt;&gt; parseRequest(byte[] requestBody, String contentTypeHeader)\r\n            throws FileUploadException {\r\n        FileUpload fileUpload = new FileUpload(new MemoryFileItemFactory());\r\n        return fileUpload.parseParameterMap(new SimpleContext(requestBody, contentTypeHeader));\r\n      }\r\n    }\r\n\r\nAnd a sample use with Azure functions:\r\n\r\n    public class Function {\r\n      @FunctionName(&quot;doSomethingWithBinaryFile&quot;)\r\n      public HttpResponseMessage run(\r\n            @HttpTrigger(\r\n                name = &quot;req&quot;,\r\n                methods = {HttpMethod.POST},\r\n                authLevel = AuthorizationLevel.ANONYMOUS)\r\n                HttpRequestMessage&lt;byte[]&gt; request,\r\n            final ExecutionContext context) throws IOException, FileUploadException {\r\n        Logger logger = context.getLogger();\r\n        byte[] body = request.getBody();\r\n        String contentTypeHeader = request.getHeaders().get(&quot;content-type&quot;);\r\n        byte[] fileBytes = MultipartParser.parseRequest(body, contentTypeHeader).get(&quot;file&quot;).get(0).get();\r\n\r\n        return request.createResponseBuilder(HttpStatus.OK).body(\r\n            transformBytesForExample(fileBytes)).build();\r\n      }\r\n    }","title":"Library and examples of parsing multipart/form-data from inputstream","body":"<p>I wanted a solution that worked from Azure functions with everything being in-memory and no reliance on the servlet or portal apis. So I wrote one:</p>\n<pre><code>package my.package;\n\nimport java.io.ByteArrayInputStream;\nimport java.io.ByteArrayOutputStream;\nimport java.io.File;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.io.UnsupportedEncodingException;\nimport java.nio.charset.StandardCharsets;\nimport java.util.List;\nimport java.util.Map;\n\nimport org.apache.commons.fileupload.FileItem;\nimport org.apache.commons.fileupload.FileItemFactory;\nimport org.apache.commons.fileupload.FileItemHeaders;\nimport org.apache.commons.fileupload.FileUpload;\nimport org.apache.commons.fileupload.FileUploadException;\nimport org.apache.commons.fileupload.ParameterParser;\nimport org.apache.commons.fileupload.UploadContext;\n\npublic class MultipartParser {\n  private static class SimpleContext implements UploadContext {\n    private final byte[] request;\n    private final String contentType;\n\n    private SimpleContext(byte[] requestBody, String contentTypeHeader) {\n        this.request = requestBody;\n        this.contentType = contentTypeHeader;\n    }\n\n    @Override\n    public long contentLength() {\n        return request.length;\n    }\n\n    @Override\n    public String getCharacterEncoding() {\n        // The 'Content-Type' header may look like:\n        // multipart/form-data; charset=UTF-8; boundary=&quot;xxxx&quot;\n        // in which case we can extract the charset, otherwise,\n        // just default to UTF-8.\n        ParameterParser parser = new ParameterParser();\n        parser.setLowerCaseNames(true);\n        String charset = parser.parse(contentType, ';').get(&quot;charset&quot;);\n        return charset != null ? charset : &quot;UTF-8&quot;;\n    }\n\n    @Override\n    public int getContentLength() {\n        return request.length;\n    }\n\n    @Override\n    public String getContentType() {\n        return contentType;\n    }\n\n    @Override\n    public InputStream getInputStream() throws IOException {\n        return new ByteArrayInputStream(request);\n    }\n  }\n\n  /**\n   * A form field which stores the field or file data completely in\n   * memory. Will be limited by the maximum size of\n   * a byte array (about 2GB).\n   */\n  private static class MemoryFileItem implements FileItem {\n    private String fieldName;\n    private String fileName;\n    private String contentType;\n    private boolean isFormField;\n    private FileItemHeaders headers;\n    private final ByteArrayOutputStream os = new ByteArrayOutputStream();\n\n    public MemoryFileItem(String fieldName, String contentType, boolean isFormField, String fileName) {\n        this.fieldName = fieldName;\n        this.contentType = contentType;\n        this.isFormField = isFormField;\n        this.fileName = fileName;\n    }\n\n    @Override\n    public void delete() {\n    }\n\n    /**\n     * Not cached, so only call once.\n     */\n    @Override\n    public byte[] get() {\n        return os.toByteArray();\n    }\n\n    @Override\n    public String getContentType() {\n        return contentType;\n    }\n\n    @Override\n    public String getFieldName() {\n        return fieldName;\n    }\n\n    @Override\n    public InputStream getInputStream() throws IOException {\n        return new ByteArrayInputStream(get());\n    }\n\n    @Override\n    public String getName() {\n        return fileName;\n    }\n\n    @Override\n    public OutputStream getOutputStream() throws IOException {\n        return os;\n    }\n\n    @Override\n    public long getSize() {\n        return os.size();\n    }\n\n    @Override\n    public String getString() {\n        return new String(get(), StandardCharsets.UTF_8);\n    }\n\n    @Override\n    public String getString(String encoding) throws UnsupportedEncodingException {\n        return new String(get(), encoding);\n    }\n\n    @Override\n    public boolean isFormField() {\n        return isFormField;\n    }\n\n    @Override\n    public boolean isInMemory() {\n        return true;\n    }\n\n    @Override\n    public void setFieldName(String name) {\n        fieldName = name;\n    }\n\n    @Override\n    public void setFormField(boolean state) {\n        isFormField = state;\n    }\n\n    @Override\n    public void write(File file) throws Exception {\n    }\n\n    @Override\n    public FileItemHeaders getHeaders() {\n        return headers;\n    }\n\n    @Override\n    public void setHeaders(FileItemHeaders headers) {\n        this.headers = headers;\n    }\n  }\n\n  private static class MemoryFileItemFactory implements FileItemFactory {\n    @Override\n    public FileItem createItem(String fieldName, String contentType, boolean isFormField, String fileName) {\n        return new MemoryFileItem(fieldName, contentType, isFormField, fileName);\n    }\n  }\n\n  /**\n   * Assumes the request body really is multipart/form-data.\n   * Given the binary request body and the Content-Type header value,\n   * attempts to parse fields into a map from field name to list\n   * of FileItem objects.\n   * \n   * Everything is stored in memory and an individual item will only be limited\n   * by the maximum size of a byte array (about 2GB). It is recommended that the\n   * user sets a limit on maximum upload request size. Doing this will obviously\n   * differ by environment.\n   *\n   * Example:\n   *   &lt;code&gt;\n   *   var fields = MultipartParser.parseRequest(requestBody, contentTypeHeader);\n   *   String firstName = fields.get(&quot;firstname&quot;).get(0).getString();\n   *   byte[] profilePic = fields.get(&quot;picture&quot;).get(0).get();\n   *   &lt;/code&gt;\n   *\n   * @param requestBody The binary request body\n   * @param contentTypeHeader The string value of the Content-Type header.\n   * @return a map, with each entry having one or more values for that named field.\n   * @throws FileUploadException\n   */\n  public static Map&lt;String, List&lt;FileItem&gt;&gt; parseRequest(byte[] requestBody, String contentTypeHeader)\n        throws FileUploadException {\n    FileUpload fileUpload = new FileUpload(new MemoryFileItemFactory());\n    return fileUpload.parseParameterMap(new SimpleContext(requestBody, contentTypeHeader));\n  }\n}\n</code></pre>\n<p>And a sample use with Azure functions:</p>\n<pre><code>public class Function {\n  @FunctionName(&quot;doSomethingWithBinaryFile&quot;)\n  public HttpResponseMessage run(\n        @HttpTrigger(\n            name = &quot;req&quot;,\n            methods = {HttpMethod.POST},\n            authLevel = AuthorizationLevel.ANONYMOUS)\n            HttpRequestMessage&lt;byte[]&gt; request,\n        final ExecutionContext context) throws IOException, FileUploadException {\n    Logger logger = context.getLogger();\n    byte[] body = request.getBody();\n    String contentTypeHeader = request.getHeaders().get(&quot;content-type&quot;);\n    byte[] fileBytes = MultipartParser.parseRequest(body, contentTypeHeader).get(&quot;file&quot;).get(0).get();\n\n    return request.createResponseBuilder(HttpStatus.OK).body(\n        transformBytesForExample(fileBytes)).build();\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":2059179,"reputation":3294,"user_id":1836202,"accept_rate":77,"display_name":"Linus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42326,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":3,"score":14,"last_activity_date":1659626714,"creation_date":1353340809,"question_id":13457503,"body_markdown":"The response to one kind of HTTP request I send is a multipart/form-data looks something like:\r\n\r\n    --------boundary123\r\n    Content-Disposition: form-data; name=&quot;json&quot;\r\n    Content-Type: application/json\r\n    \r\n    {&quot;some&quot;:&quot;json&quot;}\r\n    --------boundary123\r\n    Content-Disposition: form-data; name=&quot;bin&quot;\r\n    Content-Type: application/octet-stream\r\n    \r\n    &lt;file data&gt;\r\n    \r\n    --------boundary123\r\n\r\nI&#39;ve been using apache to send and receive the HTTP requests, but I can&#39;t seem to find an easy way to use it to parse the above for easy access of the form fields.\r\n\r\nI would prefer not to reinvent the wheel, so I&#39;m looking for a library that allows me to do something similar to:\r\n\r\n    MultipartEntity multipart = new MultipartEntity(inputStream);\r\n    InputStream bin = multipart.get(&quot;bin&quot;);\r\n\r\nAny suggestions?\r\n\r\n\r\n","title":"Library and examples of parsing multipart/form-data from inputstream","body":"<p>The response to one kind of HTTP request I send is a multipart/form-data looks something like:</p>\n\n<pre><code>--------boundary123\nContent-Disposition: form-data; name=\"json\"\nContent-Type: application/json\n\n{\"some\":\"json\"}\n--------boundary123\nContent-Disposition: form-data; name=\"bin\"\nContent-Type: application/octet-stream\n\n&lt;file data&gt;\n\n--------boundary123\n</code></pre>\n\n<p>I've been using apache to send and receive the HTTP requests, but I can't seem to find an easy way to use it to parse the above for easy access of the form fields.</p>\n\n<p>I would prefer not to reinvent the wheel, so I'm looking for a library that allows me to do something similar to:</p>\n\n<pre><code>MultipartEntity multipart = new MultipartEntity(inputStream);\nInputStream bin = multipart.get(\"bin\");\n</code></pre>\n\n<p>Any suggestions?</p>\n"},{"tags":["java","logging","log4j2","solaris-10"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1659627015,"post_id":73238327,"comment_id":129344490,"body_markdown":"Looks like `StringBuilder.append(null)` is not supported in your JDK. What JDK version are you using on Solaris 10?","body":"Looks like <code>StringBuilder.append(null)</code> is not supported in your JDK. What JDK version are you using on Solaris 10?"},{"owner":{"account_id":5243095,"reputation":1,"user_id":4189620,"display_name":"Giovane Kauer"},"score":0,"creation_date":1659688029,"post_id":73238327,"comment_id":129358308,"body_markdown":"Hi @PiotrP.Karwasz checking the JDK version was jdk1.8.0_231\nDo you know the minimum JDK version compatible with this? I try to recreate the solaris enviroment in a dev machine, but with jdk1.8.0_241 in that new machine it works properly, But to change the version in a production server I need to show the documentation to the manager team...","body":"Hi @PiotrP.Karwasz checking the JDK version was jdk1.8.0_231 Do you know the minimum JDK version compatible with this? I try to recreate the solaris enviroment in a dev machine, but with jdk1.8.0_241 in that new machine it works properly, But to change the version in a production server I need to show the documentation to the manager team..."}],"owner":{"account_id":5243095,"reputation":1,"user_id":4189620,"display_name":"Giovane Kauer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":363,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659626010,"creation_date":1659626010,"question_id":73238327,"body_markdown":"I have one app running in an old server Solaris 10.\r\nIn this server, after migrate log4j1 to log4j2 we start to get an error while start the app.\r\n\r\n```\r\n2022-08-04 15:02:52,994 main DEBUG Stopped org.apache.logging.log4j.core.config.DefaultConfiguration@4cf777e8 OK\r\n2022-08-04 15:02:53,051 main DEBUG Registering MBean org.apache.logging.log4j2:type=3d4eac69\r\n2022-08-04 15:02:53,053 main DEBUG Registering MBean org.apache.logging.log4j2:type=3d4eac69,component=StatusLogger\r\n2022-08-04 15:02:53,055 main DEBUG Registering MBean org.apache.logging.log4j2:type=3d4eac69,component=ContextSelector\r\n2022-08-04 15:02:53,056 main DEBUG Registering MBean org.apache.logging.log4j2:type=3d4eac69,component=Loggers,name=com.infineon.logicload\r\n2022-08-04 15:02:53,056 main DEBUG Registering MBean org.apache.logging.log4j2:type=3d4eac69,component=Loggers,name=\r\n2022-08-04 15:02:53,057 main DEBUG Registering MBean org.apache.logging.log4j2:type=3d4eac69,component=Appenders,name=AFile\r\n2022-08-04 15:02:53,058 main DEBUG Registering MBean org.apache.logging.log4j2:type=3d4eac69,component=Appenders,name=errorAppender\r\n2022-08-04 15:02:53,058 main DEBUG Registering MBean org.apache.logging.log4j2:type=3d4eac69,component=Appenders,name=AConsole\r\nException in thread &quot;main&quot; java.lang.ExceptionInInitializerError\r\nCaused by: java.lang.NullPointerException\r\n        at java.lang.System.arraycopy(Native Method)\r\n        at java.lang.String.getChars(String.java:826)\r\n        at java.lang.AbstractStringBuilder.append(AbstractStringBuilder.java:449)\r\n        at java.lang.StringBuilder.append(StringBuilder.java:136)\r\n        at org.apache.logging.log4j.util.StringBuilders.appendSpecificTypes(StringBuilders.java:79)\r\n        at org.apache.logging.log4j.message.ParameterFormatter.appendSpecialTypes(ParameterFormatter.java:484)\r\n        at org.apache.logging.log4j.message.ParameterFormatter.recursiveDeepToString(ParameterFormatter.java:473)\r\n        at org.apache.logging.log4j.message.ParameterFormatter.recursiveDeepToString(ParameterFormatter.java:448)\r\n        at org.apache.logging.log4j.message.ParameterFormatter.formatMessage2(ParameterFormatter.java:191)\r\n        at org.apache.logging.log4j.message.ParameterizedMessage.formatTo(ParameterizedMessage.java:227)\r\n        at org.apache.logging.log4j.message.ParameterizedMessage.getFormattedMessage(ParameterizedMessage.java:203)\r\n        at org.apache.logging.log4j.message.ParameterizedNoReferenceMessageFactory.newMessage(ParameterizedNoReferenceMessageFactory.java:105)\r\n        at org.apache.logging.log4j.message.AbstractMessageFactory.newMessage(AbstractMessageFactory.java:91)\r\n        at org.apache.logging.log4j.spi.AbstractLogger.logMessage(AbstractLogger.java:2051)\r\n        at org.apache.logging.log4j.spi.AbstractLogger.logIfEnabled(AbstractLogger.java:1923)\r\n        at org.apache.logging.log4j.spi.AbstractLogger.debug(AbstractLogger.java:468)\r\n        at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:700)\r\n        at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:711)\r\n        at org.apache.logging.log4j.core.LoggerContext.start(LoggerContext.java:253)\r\n        at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:155)\r\n        at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:47)\r\n        at org.apache.logging.log4j.LogManager.getContext(LogManager.java:196)\r\n        at org.apache.logging.log4j.LogManager.getLogger(LogManager.java:599)\r\n        at com.infineon.logicload.LogicLoad.&lt;clinit&gt;(LogicLoad.java:55)\r\n```\r\n\r\nIn this app we set the logger properties using the java arguments\r\n```\r\nlog4j2.configurationFile=&quot;cfg/logger.properties&quot;\r\n```\r\n\r\nas we can see in the firsts lines of the log, the configuration file was loaded correctly.\r\n\r\nRunning in a linux server, our development machine, this error not ocour, and the log files is like this:\r\n```\r\n2022-08-03 16:45:51,495 main DEBUG Stopped org.apache.logging.log4j.core.config.DefaultConfiguration@2353b3e6 OK\r\n2022-08-03 16:45:51,575 main DEBUG Registering MBean org.apache.logging.log4j2:type=55054057\r\n2022-08-03 16:45:51,577 main DEBUG Registering MBean org.apache.logging.log4j2:type=55054057,component=StatusLogger\r\n2022-08-03 16:45:51,578 main DEBUG Registering MBean org.apache.logging.log4j2:type=55054057,component=ContextSelector\r\n2022-08-03 16:45:51,578 main DEBUG Registering MBean org.apache.logging.log4j2:type=55054057,component=Loggers,name=com.infineon.logicload\r\n2022-08-03 16:45:51,579 main DEBUG Registering MBean org.apache.logging.log4j2:type=55054057,component=Loggers,name=\r\n2022-08-03 16:45:51,579 main DEBUG Registering MBean org.apache.logging.log4j2:type=55054057,component=Appenders,name=AFile\r\n2022-08-03 16:45:51,580 main DEBUG Registering MBean org.apache.logging.log4j2:type=55054057,component=Appenders,name=errorAppender\r\n2022-08-03 16:45:51,581 main DEBUG Registering MBean org.apache.logging.log4j2:type=55054057,component=Appenders,name=AConsole\r\n2022-08-03 16:45:51,582 main DEBUG Reconfiguration complete for context[name=55054057] at URI /workspaces/ebsprep-logicload/app/cfg/logger.properties (org.apache.logging.log4j.core.LoggerContext@4e268090) with optional ClassLoader: null\r\n2022-08-03 16:45:51,583 main DEBUG Shutdown hook enabled. Registering a new one.\r\n2022-08-03 16:45:51,583 main DEBUG LoggerContext[name=55054057, org.apache.logging.log4j.core.LoggerContext@4e268090] started OK.\r\n```\r\n\r\nI already check the java, ant and libs versions, but I can&#39;t find any significant diference that can impact my application.\r\n\r\nI need ideas of what I can tray to solve this issue...\r\n","title":"LOG4J2 LogManager nullpointer exception on startup app","body":"<p>I have one app running in an old server Solaris 10.\nIn this server, after migrate log4j1 to log4j2 we start to get an error while start the app.</p>\n<pre><code>2022-08-04 15:02:52,994 main DEBUG Stopped org.apache.logging.log4j.core.config.DefaultConfiguration@4cf777e8 OK\n2022-08-04 15:02:53,051 main DEBUG Registering MBean org.apache.logging.log4j2:type=3d4eac69\n2022-08-04 15:02:53,053 main DEBUG Registering MBean org.apache.logging.log4j2:type=3d4eac69,component=StatusLogger\n2022-08-04 15:02:53,055 main DEBUG Registering MBean org.apache.logging.log4j2:type=3d4eac69,component=ContextSelector\n2022-08-04 15:02:53,056 main DEBUG Registering MBean org.apache.logging.log4j2:type=3d4eac69,component=Loggers,name=com.infineon.logicload\n2022-08-04 15:02:53,056 main DEBUG Registering MBean org.apache.logging.log4j2:type=3d4eac69,component=Loggers,name=\n2022-08-04 15:02:53,057 main DEBUG Registering MBean org.apache.logging.log4j2:type=3d4eac69,component=Appenders,name=AFile\n2022-08-04 15:02:53,058 main DEBUG Registering MBean org.apache.logging.log4j2:type=3d4eac69,component=Appenders,name=errorAppender\n2022-08-04 15:02:53,058 main DEBUG Registering MBean org.apache.logging.log4j2:type=3d4eac69,component=Appenders,name=AConsole\nException in thread &quot;main&quot; java.lang.ExceptionInInitializerError\nCaused by: java.lang.NullPointerException\n        at java.lang.System.arraycopy(Native Method)\n        at java.lang.String.getChars(String.java:826)\n        at java.lang.AbstractStringBuilder.append(AbstractStringBuilder.java:449)\n        at java.lang.StringBuilder.append(StringBuilder.java:136)\n        at org.apache.logging.log4j.util.StringBuilders.appendSpecificTypes(StringBuilders.java:79)\n        at org.apache.logging.log4j.message.ParameterFormatter.appendSpecialTypes(ParameterFormatter.java:484)\n        at org.apache.logging.log4j.message.ParameterFormatter.recursiveDeepToString(ParameterFormatter.java:473)\n        at org.apache.logging.log4j.message.ParameterFormatter.recursiveDeepToString(ParameterFormatter.java:448)\n        at org.apache.logging.log4j.message.ParameterFormatter.formatMessage2(ParameterFormatter.java:191)\n        at org.apache.logging.log4j.message.ParameterizedMessage.formatTo(ParameterizedMessage.java:227)\n        at org.apache.logging.log4j.message.ParameterizedMessage.getFormattedMessage(ParameterizedMessage.java:203)\n        at org.apache.logging.log4j.message.ParameterizedNoReferenceMessageFactory.newMessage(ParameterizedNoReferenceMessageFactory.java:105)\n        at org.apache.logging.log4j.message.AbstractMessageFactory.newMessage(AbstractMessageFactory.java:91)\n        at org.apache.logging.log4j.spi.AbstractLogger.logMessage(AbstractLogger.java:2051)\n        at org.apache.logging.log4j.spi.AbstractLogger.logIfEnabled(AbstractLogger.java:1923)\n        at org.apache.logging.log4j.spi.AbstractLogger.debug(AbstractLogger.java:468)\n        at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:700)\n        at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:711)\n        at org.apache.logging.log4j.core.LoggerContext.start(LoggerContext.java:253)\n        at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:155)\n        at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:47)\n        at org.apache.logging.log4j.LogManager.getContext(LogManager.java:196)\n        at org.apache.logging.log4j.LogManager.getLogger(LogManager.java:599)\n        at com.infineon.logicload.LogicLoad.&lt;clinit&gt;(LogicLoad.java:55)\n</code></pre>\n<p>In this app we set the logger properties using the java arguments</p>\n<pre><code>log4j2.configurationFile=&quot;cfg/logger.properties&quot;\n</code></pre>\n<p>as we can see in the firsts lines of the log, the configuration file was loaded correctly.</p>\n<p>Running in a linux server, our development machine, this error not ocour, and the log files is like this:</p>\n<pre><code>2022-08-03 16:45:51,495 main DEBUG Stopped org.apache.logging.log4j.core.config.DefaultConfiguration@2353b3e6 OK\n2022-08-03 16:45:51,575 main DEBUG Registering MBean org.apache.logging.log4j2:type=55054057\n2022-08-03 16:45:51,577 main DEBUG Registering MBean org.apache.logging.log4j2:type=55054057,component=StatusLogger\n2022-08-03 16:45:51,578 main DEBUG Registering MBean org.apache.logging.log4j2:type=55054057,component=ContextSelector\n2022-08-03 16:45:51,578 main DEBUG Registering MBean org.apache.logging.log4j2:type=55054057,component=Loggers,name=com.infineon.logicload\n2022-08-03 16:45:51,579 main DEBUG Registering MBean org.apache.logging.log4j2:type=55054057,component=Loggers,name=\n2022-08-03 16:45:51,579 main DEBUG Registering MBean org.apache.logging.log4j2:type=55054057,component=Appenders,name=AFile\n2022-08-03 16:45:51,580 main DEBUG Registering MBean org.apache.logging.log4j2:type=55054057,component=Appenders,name=errorAppender\n2022-08-03 16:45:51,581 main DEBUG Registering MBean org.apache.logging.log4j2:type=55054057,component=Appenders,name=AConsole\n2022-08-03 16:45:51,582 main DEBUG Reconfiguration complete for context[name=55054057] at URI /workspaces/ebsprep-logicload/app/cfg/logger.properties (org.apache.logging.log4j.core.LoggerContext@4e268090) with optional ClassLoader: null\n2022-08-03 16:45:51,583 main DEBUG Shutdown hook enabled. Registering a new one.\n2022-08-03 16:45:51,583 main DEBUG LoggerContext[name=55054057, org.apache.logging.log4j.core.LoggerContext@4e268090] started OK.\n</code></pre>\n<p>I already check the java, ant and libs versions, but I can't find any significant diference that can impact my application.</p>\n<p>I need ideas of what I can tray to solve this issue...</p>\n"},{"tags":["java","amazon-sqs","spring-jms"],"comments":[{"owner":{"account_id":58377,"reputation":247890,"user_id":174777,"display_name":"John Rotenstein"},"score":0,"creation_date":1626435491,"post_id":68408192,"comment_id":120898349,"body_markdown":"Are you sure you don&#39;t want to use the AWS SDK for java instead of JMS? It seems to call the same thing anyway.","body":"Are you sure you don&#39;t want to use the AWS SDK for java instead of JMS? It seems to call the same thing anyway."},{"owner":{"account_id":12425782,"reputation":8911,"user_id":9050514,"display_name":"deadshot"},"score":0,"creation_date":1626435662,"post_id":68408192,"comment_id":120898417,"body_markdown":"@JohnRotenstein I am also using activemq that&#39;s why I&#39;m using `JmsTemplate`","body":"@JohnRotenstein I am also using activemq that&#39;s why I&#39;m using <code>JmsTemplate</code>"},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1626439447,"post_id":68408192,"comment_id":120900036,"body_markdown":"FWIW, a [queue](https://en.wikipedia.org/wiki/Queue_(abstract_data_type)) by definition is FIFO so saying &quot;fifo queue&quot; is redundant.","body":"FWIW, a <a href=\"https://en.wikipedia.org/wiki/Queue_(abstract_data_type)\" rel=\"nofollow noreferrer\">queue</a> by definition is FIFO so saying &quot;fifo queue&quot; is redundant."},{"owner":{"account_id":6526295,"reputation":776,"user_id":5048942,"display_name":"Jayanth"},"score":0,"creation_date":1659445483,"post_id":68408192,"comment_id":129292546,"body_markdown":"hi @deadshot, could you please help me how you solved this ? I am facing the same issue ... PFB my sample code,                                                                                                                        attributes.put(&quot;MessageGroupId&quot;, &quot;groupID&quot;);  attributes.put(&quot;JMSXGroupID&quot;, &quot;groupID&quot;);                                      \n       Message message = new Message()\n    \t\t\t.withBody(&quot;Hi there&quot;)\n    \t\t\t.withAttributes(attributes);","body":"hi @deadshot, could you please help me how you solved this ? I am facing the same issue ... PFB my sample code,                                                                                                                        attributes.put(&quot;MessageGroupId&quot;, &quot;groupID&quot;);  attributes.put(&quot;JMSXGroupID&quot;, &quot;groupID&quot;);                                              Message message = new Message()     \t\t\t.withBody(&quot;Hi there&quot;)     \t\t\t.withAttributes(attributes);"},{"owner":{"account_id":12425782,"reputation":8911,"user_id":9050514,"display_name":"deadshot"},"score":0,"creation_date":1659446519,"post_id":68408192,"comment_id":129293023,"body_markdown":"@Jayanth try `message.setStringProperty(&quot;JMSXGroupID&quot;, &quot;1&quot;)` it will work","body":"@Jayanth try <code>message.setStringProperty(&quot;JMSXGroupID&quot;, &quot;1&quot;)</code> it will work"},{"owner":{"account_id":6526295,"reputation":776,"user_id":5048942,"display_name":"Jayanth"},"score":0,"creation_date":1659446763,"post_id":68408192,"comment_id":129293128,"body_markdown":"@deadshot, i dont see the method setStringProperty for message. I am using com.amazonaws.services.sqs.model.Message. Is this right ?","body":"@deadshot, i dont see the method setStringProperty for message. I am using com.amazonaws.services.sqs.model.Message. Is this right ?"},{"owner":{"account_id":12425782,"reputation":8911,"user_id":9050514,"display_name":"deadshot"},"score":1,"creation_date":1659447325,"post_id":68408192,"comment_id":129293336,"body_markdown":"@Jayanth I have used `jms.Message` try with this","body":"@Jayanth I have used <code>jms.Message</code> try with this"}],"answers":[{"tags":[],"owner":{"account_id":1155134,"reputation":13311,"user_id":1135954,"accept_rate":68,"display_name":"mtk"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1626607981,"creation_date":1626607981,"answer_id":68428646,"question_id":68408192,"body_markdown":"From [aws documentation](https://docs.amazonaws.cn/en_us/AWSSimpleQueueService/latest/SQSDeveloperGuide/supported-implementations.html#jms-defined-headers-reserved-properties), you need to set `JMSXGroupID` in header or property\r\n\r\n&gt;  JMSXGroupID (required for FIFO queues, not allowed for standard queues)\r\n\r\nAlso, have a look at the [key terms](https://docs.amazonaws.cn/en_us/AWSSimpleQueueService/latest/SQSDeveloperGuide/FIFO-key-terms.html), you might also need a de-duplication id.","title":"How to add MessageGroupId parameter to message?","body":"<p>From <a href=\"https://docs.amazonaws.cn/en_us/AWSSimpleQueueService/latest/SQSDeveloperGuide/supported-implementations.html#jms-defined-headers-reserved-properties\" rel=\"nofollow noreferrer\">aws documentation</a>, you need to set <code>JMSXGroupID</code> in header or property</p>\n<blockquote>\n<p>JMSXGroupID (required for FIFO queues, not allowed for standard queues)</p>\n</blockquote>\n<p>Also, have a look at the <a href=\"https://docs.amazonaws.cn/en_us/AWSSimpleQueueService/latest/SQSDeveloperGuide/FIFO-key-terms.html\" rel=\"nofollow noreferrer\">key terms</a>, you might also need a de-duplication id.</p>\n"},{"tags":[],"owner":{"account_id":6526295,"reputation":776,"user_id":5048942,"display_name":"Jayanth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659625989,"creation_date":1659625989,"answer_id":73238325,"question_id":68408192,"body_markdown":"Adding the Java code for mtk Solution.\r\n\r\n    import com.amazonaws.services.sqs.AmazonSQSAsync;\r\n    import com.amazonaws.services.sqs.model.SendMessageRequest;\r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    \r\n        @Autowired\r\n        private AmazonSQSAsync awsAsync;\r\n        \r\n        @Autowired\r\n        ObjectMapper objectMapper;\r\n        \t\r\n        @Value(&quot;${aws.sqs.endpoint}&quot;) \r\n        private String endpoint;  // fifo queue https url\r\n        \r\n        public void method(CustomClass obj){\r\n        awsAsync.sendMessageAsync(new SendMessageRequest(endpoint, objectMapper.writeValueAsString(obj))\r\n            \t\t\t\t\t\t\t  .withMessageGroupId(&quot;aws-sqs-group&quot;));\r\n        }\r\n\r\n\r\n   \r\n\r\n Maven dependencies used :\r\n    \r\n   \r\n\r\n     &lt;dependency&gt;\r\n        \t&lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\r\n        \t&lt;version&gt;${1.12.190}&lt;/version&gt;\r\n     \t&lt;/dependency&gt;\r\n\t\t\t","title":"How to add MessageGroupId parameter to message?","body":"<p>Adding the Java code for mtk Solution.</p>\n<pre><code>import com.amazonaws.services.sqs.AmazonSQSAsync;\nimport com.amazonaws.services.sqs.model.SendMessageRequest;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\n    @Autowired\n    private AmazonSQSAsync awsAsync;\n    \n    @Autowired\n    ObjectMapper objectMapper;\n        \n    @Value(&quot;${aws.sqs.endpoint}&quot;) \n    private String endpoint;  // fifo queue https url\n    \n    public void method(CustomClass obj){\n    awsAsync.sendMessageAsync(new SendMessageRequest(endpoint, objectMapper.writeValueAsString(obj))\n                                      .withMessageGroupId(&quot;aws-sqs-group&quot;));\n    }\n</code></pre>\n<p>Maven dependencies used :</p>\n<pre><code> &lt;dependency&gt;\n        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n        &lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\n        &lt;version&gt;${1.12.190}&lt;/version&gt;\n    &lt;/dependency&gt;\n        \n</code></pre>\n"}],"owner":{"account_id":12425782,"reputation":8911,"user_id":9050514,"display_name":"deadshot"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2666,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":68428646,"answer_count":2,"score":4,"last_activity_date":1659625989,"creation_date":1626434630,"question_id":68408192,"body_markdown":"I am trying to send message to AwsSQS fifo queue using `JmsTemplate`.\r\n\r\n**Code:**\r\n```\r\nMessage message = new Message().withBody(&quot;Hi&quot;);\r\njmsTemplate.convertAndSend(message);\r\n```\r\nWhen I run the above code I&#39;m getting the error \r\n```\r\nCaused by: com.amazonaws.services.sqs.model.AmazonSQSException: The request must contain the parameter MessageGroupId. (Service: AmazonSQS; Status Code: 400; Error Code: MissingParameter; Request ID: 94f6257b-0f2e-5e3d-9469-7c1066d45816; Proxy: null)\r\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.handleErrorResponse(AmazonHttpClient.java:1819) ~[aws-java-sdk-core-1.12.24.jar:na]\r\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.handleServiceErrorResponse(AmazonHttpClient.java:1403) ~[aws-java-sdk-core-1.12.24.jar:na]\r\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeOneRequest(AmazonHttpClient.java:1372) ~[aws-java-sdk-core-1.12.24.jar:na]\r\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeHelper(AmazonHttpClient.java:1145) ~[aws-java-sdk-core-1.12.24.jar:na]\r\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.doExecute(AmazonHttpClient.java:802) ~[aws-java-sdk-core-1.12.24.jar:na]\r\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeWithTimer(AmazonHttpClient.java:770) ~[aws-java-sdk-core-1.12.24.jar:na]\r\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.execute(AmazonHttpClient.java:744) ~[aws-java-sdk-core-1.12.24.jar:na]\r\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.access$500(AmazonHttpClient.java:704) ~[aws-java-sdk-core-1.12.24.jar:na]\r\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutionBuilderImpl.execute(AmazonHttpClient.java:686) ~[aws-java-sdk-core-1.12.24.jar:na]\r\n\tat com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:550) ~[aws-java-sdk-core-1.12.24.jar:na]\r\n\tat com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:530) ~[aws-java-sdk-core-1.12.24.jar:na]\r\n\tat com.amazonaws.services.sqs.AmazonSQSClient.doInvoke(AmazonSQSClient.java:2271) ~[aws-java-sdk-sqs-1.12.24.jar:na]\r\n\tat com.amazonaws.services.sqs.AmazonSQSClient.invoke(AmazonSQSClient.java:2238) ~[aws-java-sdk-sqs-1.12.24.jar:na]\r\n\tat com.amazonaws.services.sqs.AmazonSQSClient.invoke(AmazonSQSClient.java:2227) ~[aws-java-sdk-sqs-1.12.24.jar:na]\r\n\tat com.amazonaws.services.sqs.AmazonSQSClient.executeSendMessage(AmazonSQSClient.java:1817) ~[aws-java-sdk-sqs-1.12.24.jar:na]\r\n\tat com.amazonaws.services.sqs.AmazonSQSClient.sendMessage(AmazonSQSClient.java:1786) ~[aws-java-sdk-sqs-1.12.24.jar:na]\r\n\tat com.amazon.sqs.javamessaging.AmazonSQSMessagingClientWrapper.sendMessage(AmazonSQSMessagingClientWrapper.java:202) ~[amazon-sqs-java-messaging-lib-1.0.8.jar:na]\r\n\t... 16 common frames omitted\r\n\r\n```\r\nI have tried adding `MessageGroupId` like this but this is also not working\r\n```\r\nMessage message = new Message().withBody(&quot;Hi&quot;)\r\n                .withAttributes(Map.of(&quot;MessageGroupId&quot;, &quot;1&quot;));\r\njmsTemplate.convertAndSend(message);\r\n```\r\n\r\nIs there any other way to send message to SQS fifo queue using `JmsTemplate`?","title":"How to add MessageGroupId parameter to message?","body":"<p>I am trying to send message to AwsSQS fifo queue using <code>JmsTemplate</code>.</p>\n<p><strong>Code:</strong></p>\n<pre><code>Message message = new Message().withBody(&quot;Hi&quot;);\njmsTemplate.convertAndSend(message);\n</code></pre>\n<p>When I run the above code I'm getting the error</p>\n<pre><code>Caused by: com.amazonaws.services.sqs.model.AmazonSQSException: The request must contain the parameter MessageGroupId. (Service: AmazonSQS; Status Code: 400; Error Code: MissingParameter; Request ID: 94f6257b-0f2e-5e3d-9469-7c1066d45816; Proxy: null)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.handleErrorResponse(AmazonHttpClient.java:1819) ~[aws-java-sdk-core-1.12.24.jar:na]\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.handleServiceErrorResponse(AmazonHttpClient.java:1403) ~[aws-java-sdk-core-1.12.24.jar:na]\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeOneRequest(AmazonHttpClient.java:1372) ~[aws-java-sdk-core-1.12.24.jar:na]\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeHelper(AmazonHttpClient.java:1145) ~[aws-java-sdk-core-1.12.24.jar:na]\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.doExecute(AmazonHttpClient.java:802) ~[aws-java-sdk-core-1.12.24.jar:na]\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeWithTimer(AmazonHttpClient.java:770) ~[aws-java-sdk-core-1.12.24.jar:na]\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.execute(AmazonHttpClient.java:744) ~[aws-java-sdk-core-1.12.24.jar:na]\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.access$500(AmazonHttpClient.java:704) ~[aws-java-sdk-core-1.12.24.jar:na]\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutionBuilderImpl.execute(AmazonHttpClient.java:686) ~[aws-java-sdk-core-1.12.24.jar:na]\n    at com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:550) ~[aws-java-sdk-core-1.12.24.jar:na]\n    at com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:530) ~[aws-java-sdk-core-1.12.24.jar:na]\n    at com.amazonaws.services.sqs.AmazonSQSClient.doInvoke(AmazonSQSClient.java:2271) ~[aws-java-sdk-sqs-1.12.24.jar:na]\n    at com.amazonaws.services.sqs.AmazonSQSClient.invoke(AmazonSQSClient.java:2238) ~[aws-java-sdk-sqs-1.12.24.jar:na]\n    at com.amazonaws.services.sqs.AmazonSQSClient.invoke(AmazonSQSClient.java:2227) ~[aws-java-sdk-sqs-1.12.24.jar:na]\n    at com.amazonaws.services.sqs.AmazonSQSClient.executeSendMessage(AmazonSQSClient.java:1817) ~[aws-java-sdk-sqs-1.12.24.jar:na]\n    at com.amazonaws.services.sqs.AmazonSQSClient.sendMessage(AmazonSQSClient.java:1786) ~[aws-java-sdk-sqs-1.12.24.jar:na]\n    at com.amazon.sqs.javamessaging.AmazonSQSMessagingClientWrapper.sendMessage(AmazonSQSMessagingClientWrapper.java:202) ~[amazon-sqs-java-messaging-lib-1.0.8.jar:na]\n    ... 16 common frames omitted\n\n</code></pre>\n<p>I have tried adding <code>MessageGroupId</code> like this but this is also not working</p>\n<pre><code>Message message = new Message().withBody(&quot;Hi&quot;)\n                .withAttributes(Map.of(&quot;MessageGroupId&quot;, &quot;1&quot;));\njmsTemplate.convertAndSend(message);\n</code></pre>\n<p>Is there any other way to send message to SQS fifo queue using <code>JmsTemplate</code>?</p>\n"},{"tags":["java","csv","groovy","compare"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1659623199,"post_id":73237598,"comment_id":129342898,"body_markdown":"Add CSV 1 to a `Map` (key=ID, value=UUID), then read CSV and `map.remove(ID);` and you are left with all ID to UUID mappings that are not in CSV 2","body":"Add CSV 1 to a <code>Map</code> (key=ID, value=UUID), then read CSV and <code>map.remove(ID);</code> and you are left with all ID to UUID mappings that are not in CSV 2"},{"owner":{"account_id":19068200,"reputation":113,"user_id":19692198,"display_name":"deewreck"},"score":0,"creation_date":1659623653,"post_id":73237598,"comment_id":129343102,"body_markdown":"XtremeBaumer - thanks for reply, won&#39;t loading everything in memory cause problem as the CSV we are talking about has more then 1million records.","body":"XtremeBaumer - thanks for reply, won&#39;t loading everything in memory cause problem as the CSV we are talking about has more then 1million records."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1659623880,"post_id":73237598,"comment_id":129343185,"body_markdown":"One of the files kinda needs to be read into memory. If you read CSV 2 into a list, you can check while reading CSV 1 if the ID is in the list. If it is not present, you can collect the ID+UUID","body":"One of the files kinda needs to be read into memory. If you read CSV 2 into a list, you can check while reading CSV 1 if the ID is in the list. If it is not present, you can collect the ID+UUID"},{"owner":{"account_id":19068200,"reputation":113,"user_id":19692198,"display_name":"deewreck"},"score":0,"creation_date":1659624170,"post_id":73237598,"comment_id":129343300,"body_markdown":"understood. if you don&#39;t mind, can you provide me some ref where i can check psudocode for the same.","body":"understood. if you don&#39;t mind, can you provide me some ref where i can check psudocode for the same."},{"owner":{"account_id":19068200,"reputation":113,"user_id":19692198,"display_name":"deewreck"},"score":0,"creation_date":1659626047,"post_id":73237598,"comment_id":129344063,"body_markdown":"added my code above, looking for improvements i can do to it.","body":"added my code above, looking for improvements i can do to it."}],"answers":[{"tags":[],"owner":{"account_id":23568015,"reputation":136,"user_id":17608510,"display_name":"John"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659624660,"creation_date":1659624660,"answer_id":73238021,"question_id":73237598,"body_markdown":"There are many ways to solve your problem. I will explain the way I would do it, it is quiet simple and doesn&#39;t need &quot;much&quot; know-how.\r\n\r\nSo at first you should read both CSV files into Java and store them somewhere. I recommend an ArrayList. It is easy to use and based on the size of your data, the datastructure really does not matter.\r\n\r\nSo reading a CSV file could look like this:\r\n\r\n    ArrayList&lt;String&gt; ids = new ArrayList&lt;String&gt;();\r\n        \r\n    try {\r\n        BufferedReader reader = new BufferedReader(new FileReader(filePath));\r\n        \r\n        String line = &quot;&quot;;\r\n        while((line = reader.readLine()) != null) {\r\n            ids.add(line)\r\n        }\r\n    } \r\n    catch (Exception e) {\r\n        System.err.println(&quot;The given input file does not exist, probably wrong  file path!&quot;);\r\n    }\r\n\r\nAfter you did read both .csv files into two different ArrayLists, you store them\r\nboth and should write another method like &quot;findMissingIDs()&quot;.\r\n\r\nIn this method you should take the ArrayList, that stores all existing ID&#39;s, iterate over that and call ArrayList.contains(ArrayList.get(i)). The ArrayList that calls .contains() should be the ArrayList, that does not contain all ID&#39;s, and the ArrayList that calls .get() should be the ArrayList containing all ID&#39;s\r\n\r\nAll in all it could look like this:\r\n\r\n    public void findMissingIDs() {\r\n        ArrayList&lt;String&gt; allIDs = new ArrayList&lt;&gt;();\r\n        ArrayList&lt;String&gt; toCompare = new ArrayList&lt;&gt;();\r\n        \r\n        for (int i = 0; i &lt; allIDs.size(); i++) {\r\n            boolean contains = false;\r\n            \r\n            if (toCompare.contains(allIDs.get(i))) {\r\n                contains = true;\r\n            }\r\n            else {\r\n                contains = false;\r\n            }\r\n            \r\n            // DO SOMETHING BASED ON &quot;contains&quot;.\r\n        }\r\n    }\r\n\r\nThe two ArrayLists should be replaced by the ArrayList holding the information from the .csv file of course","title":"Comparing two CSV files having line by line and print missing id","body":"<p>There are many ways to solve your problem. I will explain the way I would do it, it is quiet simple and doesn't need &quot;much&quot; know-how.</p>\n<p>So at first you should read both CSV files into Java and store them somewhere. I recommend an ArrayList. It is easy to use and based on the size of your data, the datastructure really does not matter.</p>\n<p>So reading a CSV file could look like this:</p>\n<pre><code>ArrayList&lt;String&gt; ids = new ArrayList&lt;String&gt;();\n    \ntry {\n    BufferedReader reader = new BufferedReader(new FileReader(filePath));\n    \n    String line = &quot;&quot;;\n    while((line = reader.readLine()) != null) {\n        ids.add(line)\n    }\n} \ncatch (Exception e) {\n    System.err.println(&quot;The given input file does not exist, probably wrong  file path!&quot;);\n}\n</code></pre>\n<p>After you did read both .csv files into two different ArrayLists, you store them\nboth and should write another method like &quot;findMissingIDs()&quot;.</p>\n<p>In this method you should take the ArrayList, that stores all existing ID's, iterate over that and call ArrayList.contains(ArrayList.get(i)). The ArrayList that calls .contains() should be the ArrayList, that does not contain all ID's, and the ArrayList that calls .get() should be the ArrayList containing all ID's</p>\n<p>All in all it could look like this:</p>\n<pre><code>public void findMissingIDs() {\n    ArrayList&lt;String&gt; allIDs = new ArrayList&lt;&gt;();\n    ArrayList&lt;String&gt; toCompare = new ArrayList&lt;&gt;();\n    \n    for (int i = 0; i &lt; allIDs.size(); i++) {\n        boolean contains = false;\n        \n        if (toCompare.contains(allIDs.get(i))) {\n            contains = true;\n        }\n        else {\n            contains = false;\n        }\n        \n        // DO SOMETHING BASED ON &quot;contains&quot;.\n    }\n}\n</code></pre>\n<p>The two ArrayLists should be replaced by the ArrayList holding the information from the .csv file of course</p>\n"}],"owner":{"account_id":19068200,"reputation":113,"user_id":19692198,"display_name":"deewreck"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73238021,"answer_count":1,"score":0,"last_activity_date":1659625973,"creation_date":1659622943,"question_id":73237598,"body_markdown":"```\r\nCSV 1\r\n______                    \r\n  UUID                               ID\r\n9da0dec2-1f66-4c5b-a859-a07c3bb26705,3101659035262004\r\n04977348-d0a3-4836-8bbc-d46cb3c4f962,3101659036985015\r\ne63440bb-d479-4124-b6a8-2b7335dd5e08,3101659036995887\r\n34f0468e-4685-4637-a455-1814e0813639,3101659037151614\r\n42b06952-13f8-4159-ba02-244ea48ca96d,3101659037418477\r\n0581ee59-f811-4b10-86de-f75a04189c0a,3101659037565062\r\n880201c2-db8f-4859-8fdf-1d398566b4fc,3101659037610684\r\n35a37636-fdb2-40c4-a2c0-5e95dded2d1e,3101659037902182\r\n280907c1-39a2-4b77-8613-66cb739f140d,3101659038153773\r\n\r\n```\r\n```\r\ncsv2\r\n\r\nID\r\n3101659035262004\r\n3101659036995887\r\n3101659037151614\r\n3101659037418477\r\n3101659037565062\r\n3101659037610684\r\n3101659037902182\r\n3101659038153773\r\n```\r\n \r\nNeed to compare CSV1 and CSV2 on the basis of CSV1(ID) and CSV2(ID) and print missing line. all the values in ID are already sorted . I need to get missing UUID against the missing ID in CSV1. I am new to java and trying to solve this but finding it difficult. \r\nany help appreciated.\r\n\r\nEDIT: As per the comments by fellow developers i tried following approach which is still very rough, would like to know the improvments i can make to it\r\n\r\n```\r\nBufferedReader br = new BufferedReader(new FileReader(&quot;/Users/IdeaProjects/extract/csv1.csv&quot;));\r\ndef line =  null;\r\nHashMap&lt;String,String&gt; map = new HashMap&lt;String, String&gt;();\r\n\r\nwhile((line=br.readLine())!=null){\r\n    def str = line.split(&quot;,&quot;);\r\n    for(int i=0;i&lt;str.length;i++){\r\n     //   def arr = str[i].split(&quot;,&quot;);\r\n        map.put(str[1], str[0]);\r\n    }\r\n}\r\n//System.out.println(map);\r\n\r\nBufferedReader br2 = new BufferedReader(new FileReader(&quot;/Users/IdeaProjects/extract/csv2.csv&quot;));\r\n\r\nwhile((line2=br2.readLine())!=null){\r\n    def str2 = line2.split(&quot;,&quot;);\r\n    for(int i=0;i&lt;str2.length;i++){\r\n        //   def arr = str[i].split(&quot;,&quot;);\r\n        map.remove(str2[0])\r\n    }\r\n}\r\n```","title":"Comparing two CSV files having line by line and print missing id","body":"<pre><code>CSV 1\n______                    \n  UUID                               ID\n9da0dec2-1f66-4c5b-a859-a07c3bb26705,3101659035262004\n04977348-d0a3-4836-8bbc-d46cb3c4f962,3101659036985015\ne63440bb-d479-4124-b6a8-2b7335dd5e08,3101659036995887\n34f0468e-4685-4637-a455-1814e0813639,3101659037151614\n42b06952-13f8-4159-ba02-244ea48ca96d,3101659037418477\n0581ee59-f811-4b10-86de-f75a04189c0a,3101659037565062\n880201c2-db8f-4859-8fdf-1d398566b4fc,3101659037610684\n35a37636-fdb2-40c4-a2c0-5e95dded2d1e,3101659037902182\n280907c1-39a2-4b77-8613-66cb739f140d,3101659038153773\n\n</code></pre>\n<pre><code>csv2\n\nID\n3101659035262004\n3101659036995887\n3101659037151614\n3101659037418477\n3101659037565062\n3101659037610684\n3101659037902182\n3101659038153773\n</code></pre>\n<p>Need to compare CSV1 and CSV2 on the basis of CSV1(ID) and CSV2(ID) and print missing line. all the values in ID are already sorted . I need to get missing UUID against the missing ID in CSV1. I am new to java and trying to solve this but finding it difficult.\nany help appreciated.</p>\n<p>EDIT: As per the comments by fellow developers i tried following approach which is still very rough, would like to know the improvments i can make to it</p>\n<pre><code>BufferedReader br = new BufferedReader(new FileReader(&quot;/Users/IdeaProjects/extract/csv1.csv&quot;));\ndef line =  null;\nHashMap&lt;String,String&gt; map = new HashMap&lt;String, String&gt;();\n\nwhile((line=br.readLine())!=null){\n    def str = line.split(&quot;,&quot;);\n    for(int i=0;i&lt;str.length;i++){\n     //   def arr = str[i].split(&quot;,&quot;);\n        map.put(str[1], str[0]);\n    }\n}\n//System.out.println(map);\n\nBufferedReader br2 = new BufferedReader(new FileReader(&quot;/Users/IdeaProjects/extract/csv2.csv&quot;));\n\nwhile((line2=br2.readLine())!=null){\n    def str2 = line2.split(&quot;,&quot;);\n    for(int i=0;i&lt;str2.length;i++){\n        //   def arr = str[i].split(&quot;,&quot;);\n        map.remove(str2[0])\n    }\n}\n</code></pre>\n"},{"tags":["java","logging","log4j"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1659168985,"post_id":73167187,"comment_id":129233113,"body_markdown":"Your application is not using the `log4j.properties` file but a `logger.properties` file and a `logicload.properties` file. The configuration using the first one succeeds and fails for the second one.","body":"Your application is not using the <code>log4j.properties</code> file but a <code>logger.properties</code> file and a <code>logicload.properties</code> file. The configuration using the first one succeeds and fails for the second one."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1659419153,"post_id":73167187,"comment_id":129283668,"body_markdown":"Giovane, as previously stated, the error is in the `logicload.properties` file, can you add it to the question?","body":"Giovane, as previously stated, the error is in the <code>logicload.properties</code> file, can you add it to the question?"},{"owner":{"account_id":5243095,"reputation":1,"user_id":4189620,"display_name":"Giovane Kauer"},"score":0,"creation_date":1659624967,"post_id":73167187,"comment_id":129343644,"body_markdown":"I find the origin of problem, I will put on the principal post to keep documented","body":"I find the origin of problem, I will put on the principal post to keep documented"}],"owner":{"account_id":5243095,"reputation":1,"user_id":4189620,"display_name":"Giovane Kauer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":373,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659625271,"creation_date":1659099638,"question_id":73167187,"body_markdown":"Im migrating a legacy application from log4j1 to log4j2.\r\nBut after update all the usage classes and configurations an error was ocurring when start the aplication\r\n\r\nlogger.properties:\r\n\r\n```\r\nstatus = debug\r\nstrict = true\r\nname= config\r\n\r\nappender.console.type = Console\r\nappender.console.name = AConsole\r\nappender.console.layout.type = PatternLayout\r\nappender.console.layout.pattern = %-5r %-5p [%t] %c{2} - %m%n\r\n\r\nappender.rolling.type = RollingFile\r\nappender.rolling.name = RollingFile\r\nappender.rolling.fileName = log/logicload.log\r\nappender.rolling.filePattern = log/logicload-%d{yyyy-MM-dd}.log\r\nappender.rolling.layout.type = PatternLayout\r\nappender.rolling.layout.pattern = %d %-5p [%t] %-17c{2} (%13F:%L) - %m%n\r\nappender.rolling.policies.type = Policies\r\nappender.rolling.policies.time.type = TimeBasedTriggeringPolicy\r\nappender.rolling.policies.time.interval = 1\r\nappender.rolling.policies.time.modulate = true\r\nappender.rolling.strategy.type = DefaultRolloverStrategy\r\nappender.rolling.strategy.max = 5\r\n\r\nlogger.rolling.name = com.infineon.logicload\r\nlogger.rolling.level = debug\r\nlogger.rolling.additivity = true\r\nlogger.rolling.appenderRef.rolling.ref = RollingFile\r\nlogger.rolling.appenderRef.console.ref = AConsole\r\n\r\nrootLogger.level = debug\r\nrootLogger.appenderRef.stdout.ref = AConsole\r\n```\r\n\r\nError:\r\n```\r\n2022-07-29 12:51:41,174 main DEBUG Appender DefaultConsole-1 stopped with status true\r\n2022-07-29 12:51:41,174 main DEBUG Stopped org.apache.logging.log4j.core.config.DefaultConfiguration@2353b3e6 OK\r\n2022-07-29 12:51:41,253 main DEBUG Registering MBean org.apache.logging.log4j2:type=55054057\r\n2022-07-29 12:51:41,255 main DEBUG Registering MBean org.apache.logging.log4j2:type=55054057,component=StatusLogger\r\n2022-07-29 12:51:41,257 main DEBUG Registering MBean org.apache.logging.log4j2:type=55054057,component=ContextSelector\r\n2022-07-29 12:51:41,259 main DEBUG Registering MBean org.apache.logging.log4j2:type=55054057,component=Loggers,name=com.infineon.logicload\r\n2022-07-29 12:51:41,261 main DEBUG Registering MBean org.apache.logging.log4j2:type=55054057,component=Loggers,name=\r\n2022-07-29 12:51:41,262 main DEBUG Registering MBean org.apache.logging.log4j2:type=55054057,component=Appenders,name=AConsole\r\n2022-07-29 12:51:41,263 main DEBUG Registering MBean org.apache.logging.log4j2:type=55054057,component=Appenders,name=RollingFile\r\n2022-07-29 12:51:41,264 main DEBUG org.apache.logging.log4j.core.util.SystemClock supports precise timestamps.\r\n2022-07-29 12:51:41,264 main DEBUG Reconfiguration complete for context[name=55054057] at URI /workspaces/ebsprep-logicload/app/cfg/logger.properties (org.apache.logging.log4j.core.LoggerContext@4e268090) with optional ClassLoader: null\r\n2022-07-29 12:51:41,265 main DEBUG Shutdown hook enabled. Registering a new one.\r\n2022-07-29 12:51:41,265 main DEBUG LoggerContext[name=55054057, org.apache.logging.log4j.core.LoggerContext@4e268090] started OK.\r\n2022-07-29 12:51:41,271 main DEBUG Reconfiguration started for context[name=55054057] at URI file:/workspaces/ebsprep-logicload/app/cfg/logicload.properties (org.apache.logging.log4j.core.LoggerContext@4e268090) with optional ClassLoader: null\r\n2022-07-29 12:51:41,271 main DEBUG Using configurationFactory org.apache.logging.log4j.core.config.ConfigurationFactory$Factory@1eb5174b\r\nException in thread &quot;main&quot; org.apache.logging.log4j.core.config.ConfigurationException: No name attribute provided for Logger properties\r\n\tat org.apache.logging.log4j.core.config.properties.PropertiesConfigurationBuilder.createLogger(PropertiesConfigurationBuilder.java:264)\r\n\tat org.apache.logging.log4j.core.config.properties.PropertiesConfigurationBuilder.build(PropertiesConfigurationBuilder.java:180)\r\n\tat org.apache.logging.log4j.core.config.properties.PropertiesConfigurationFactory.getConfiguration(PropertiesConfigurationFactory.java:56)\r\n\tat org.apache.logging.log4j.core.config.properties.PropertiesConfigurationFactory.getConfiguration(PropertiesConfigurationFactory.java:35)\r\n\tat org.apache.logging.log4j.core.config.ConfigurationFactory.getConfiguration(ConfigurationFactory.java:304)\r\n\tat org.apache.logging.log4j.core.config.ConfigurationFactory$Factory.getConfiguration(ConfigurationFactory.java:467)\r\n\tat org.apache.logging.log4j.core.config.ConfigurationFactory.getConfiguration(ConfigurationFactory.java:325)\r\n\tat org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:690)\r\n\tat org.apache.logging.log4j.core.LoggerContext.setConfigLocation(LoggerContext.java:679)\r\n\tat com.infineon.logicload.LogicLoad.main(LogicLoad.java:87)\r\n2022-07-29 12:51:41,273 pool-1-thread-1 DEBUG Stopping LoggerContext[name=55054057, org.apache.logging.log4j.core.LoggerContext@4e268090]\r\n\r\n```\r\n\r\nReading the question [link][1] I already try to use the same configurations but the error was the same.\r\n\r\n\r\n**Updated on 08-04-2022**\r\nThe origin of my problem was related to the instalation process of the application.\r\nThis app has a lot of folders created by the instalation process, and in one stepp some old files like the logicload.properties was renamed.\r\n\r\n  [1]: https://stackoverflow.com/questions/56566382/errorno-name-attribute-provided-for-log4j2-properties-customisation","title":"Log4j2 - No name attribute provided for Logger properties","body":"<p>Im migrating a legacy application from log4j1 to log4j2.\nBut after update all the usage classes and configurations an error was ocurring when start the aplication</p>\n<p>logger.properties:</p>\n<pre><code>status = debug\nstrict = true\nname= config\n\nappender.console.type = Console\nappender.console.name = AConsole\nappender.console.layout.type = PatternLayout\nappender.console.layout.pattern = %-5r %-5p [%t] %c{2} - %m%n\n\nappender.rolling.type = RollingFile\nappender.rolling.name = RollingFile\nappender.rolling.fileName = log/logicload.log\nappender.rolling.filePattern = log/logicload-%d{yyyy-MM-dd}.log\nappender.rolling.layout.type = PatternLayout\nappender.rolling.layout.pattern = %d %-5p [%t] %-17c{2} (%13F:%L) - %m%n\nappender.rolling.policies.type = Policies\nappender.rolling.policies.time.type = TimeBasedTriggeringPolicy\nappender.rolling.policies.time.interval = 1\nappender.rolling.policies.time.modulate = true\nappender.rolling.strategy.type = DefaultRolloverStrategy\nappender.rolling.strategy.max = 5\n\nlogger.rolling.name = com.infineon.logicload\nlogger.rolling.level = debug\nlogger.rolling.additivity = true\nlogger.rolling.appenderRef.rolling.ref = RollingFile\nlogger.rolling.appenderRef.console.ref = AConsole\n\nrootLogger.level = debug\nrootLogger.appenderRef.stdout.ref = AConsole\n</code></pre>\n<p>Error:</p>\n<pre><code>2022-07-29 12:51:41,174 main DEBUG Appender DefaultConsole-1 stopped with status true\n2022-07-29 12:51:41,174 main DEBUG Stopped org.apache.logging.log4j.core.config.DefaultConfiguration@2353b3e6 OK\n2022-07-29 12:51:41,253 main DEBUG Registering MBean org.apache.logging.log4j2:type=55054057\n2022-07-29 12:51:41,255 main DEBUG Registering MBean org.apache.logging.log4j2:type=55054057,component=StatusLogger\n2022-07-29 12:51:41,257 main DEBUG Registering MBean org.apache.logging.log4j2:type=55054057,component=ContextSelector\n2022-07-29 12:51:41,259 main DEBUG Registering MBean org.apache.logging.log4j2:type=55054057,component=Loggers,name=com.infineon.logicload\n2022-07-29 12:51:41,261 main DEBUG Registering MBean org.apache.logging.log4j2:type=55054057,component=Loggers,name=\n2022-07-29 12:51:41,262 main DEBUG Registering MBean org.apache.logging.log4j2:type=55054057,component=Appenders,name=AConsole\n2022-07-29 12:51:41,263 main DEBUG Registering MBean org.apache.logging.log4j2:type=55054057,component=Appenders,name=RollingFile\n2022-07-29 12:51:41,264 main DEBUG org.apache.logging.log4j.core.util.SystemClock supports precise timestamps.\n2022-07-29 12:51:41,264 main DEBUG Reconfiguration complete for context[name=55054057] at URI /workspaces/ebsprep-logicload/app/cfg/logger.properties (org.apache.logging.log4j.core.LoggerContext@4e268090) with optional ClassLoader: null\n2022-07-29 12:51:41,265 main DEBUG Shutdown hook enabled. Registering a new one.\n2022-07-29 12:51:41,265 main DEBUG LoggerContext[name=55054057, org.apache.logging.log4j.core.LoggerContext@4e268090] started OK.\n2022-07-29 12:51:41,271 main DEBUG Reconfiguration started for context[name=55054057] at URI file:/workspaces/ebsprep-logicload/app/cfg/logicload.properties (org.apache.logging.log4j.core.LoggerContext@4e268090) with optional ClassLoader: null\n2022-07-29 12:51:41,271 main DEBUG Using configurationFactory org.apache.logging.log4j.core.config.ConfigurationFactory$Factory@1eb5174b\nException in thread &quot;main&quot; org.apache.logging.log4j.core.config.ConfigurationException: No name attribute provided for Logger properties\n    at org.apache.logging.log4j.core.config.properties.PropertiesConfigurationBuilder.createLogger(PropertiesConfigurationBuilder.java:264)\n    at org.apache.logging.log4j.core.config.properties.PropertiesConfigurationBuilder.build(PropertiesConfigurationBuilder.java:180)\n    at org.apache.logging.log4j.core.config.properties.PropertiesConfigurationFactory.getConfiguration(PropertiesConfigurationFactory.java:56)\n    at org.apache.logging.log4j.core.config.properties.PropertiesConfigurationFactory.getConfiguration(PropertiesConfigurationFactory.java:35)\n    at org.apache.logging.log4j.core.config.ConfigurationFactory.getConfiguration(ConfigurationFactory.java:304)\n    at org.apache.logging.log4j.core.config.ConfigurationFactory$Factory.getConfiguration(ConfigurationFactory.java:467)\n    at org.apache.logging.log4j.core.config.ConfigurationFactory.getConfiguration(ConfigurationFactory.java:325)\n    at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:690)\n    at org.apache.logging.log4j.core.LoggerContext.setConfigLocation(LoggerContext.java:679)\n    at com.infineon.logicload.LogicLoad.main(LogicLoad.java:87)\n2022-07-29 12:51:41,273 pool-1-thread-1 DEBUG Stopping LoggerContext[name=55054057, org.apache.logging.log4j.core.LoggerContext@4e268090]\n\n</code></pre>\n<p>Reading the question <a href=\"https://stackoverflow.com/questions/56566382/errorno-name-attribute-provided-for-log4j2-properties-customisation\">link</a> I already try to use the same configurations but the error was the same.</p>\n<p><strong>Updated on 08-04-2022</strong>\nThe origin of my problem was related to the instalation process of the application.\nThis app has a lot of folders created by the instalation process, and in one stepp some old files like the logicload.properties was renamed.</p>\n"},{"tags":["java","vert.x"],"answers":[{"tags":[],"owner":{"account_id":4776333,"reputation":735,"user_id":3859317,"accept_rate":100,"display_name":"Pendula"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1659625269,"creation_date":1659621003,"answer_id":73237121,"question_id":73236717,"body_markdown":"In Vert.x 3 there was method that you could use:\r\n\r\n`Json.decodeValue(result.bodyAsString(), new TypeReference&lt;List&lt;ConditionDTO&gt;&gt;() {});`\r\n\r\nSince in Vert.x 4 this was removed you will need to use specific class DatabindCodec:\r\n`io.vertx.core.json.jackson.DatabindCodec.fromString(result.bodyAsString(), new TypeReference&lt;List&lt;SimpleDTO&gt;&gt;() {})`\r\n\r\nIf you don&#39;t want to use external libraries there is an option to iterate over an jsonArray that you have in body assuming body is something like this:\r\n```js\r\n[{&quot;name&quot;:&quot;Lazar&quot;, &quot;age&quot;:27},{&quot;name&quot;:&quot;Nikola&quot;, &quot;age&quot;:33}]\r\n```\r\n\r\n```java\r\nList&lt;SimpleDTO&gt; list = routingContext.body().asJsonArray()\r\n    .stream()\r\n    .map(json -&gt; Json.decodeValue(json.toString(), SimpleDTO.class))\r\n    .collect(Collectors.toList());\r\n```","title":"Vert.x - Not able to decode json to list of objects","body":"<p>In Vert.x 3 there was method that you could use:</p>\n<p><code>Json.decodeValue(result.bodyAsString(), new TypeReference&lt;List&lt;ConditionDTO&gt;&gt;() {});</code></p>\n<p>Since in Vert.x 4 this was removed you will need to use specific class DatabindCodec:\n<code>io.vertx.core.json.jackson.DatabindCodec.fromString(result.bodyAsString(), new TypeReference&lt;List&lt;SimpleDTO&gt;&gt;() {})</code></p>\n<p>If you don't want to use external libraries there is an option to iterate over an jsonArray that you have in body assuming body is something like this:</p>\n<pre class=\"lang-js prettyprint-override\"><code>[{&quot;name&quot;:&quot;Lazar&quot;, &quot;age&quot;:27},{&quot;name&quot;:&quot;Nikola&quot;, &quot;age&quot;:33}]\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;SimpleDTO&gt; list = routingContext.body().asJsonArray()\n    .stream()\n    .map(json -&gt; Json.decodeValue(json.toString(), SimpleDTO.class))\n    .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":84529,"reputation":4709,"user_id":236227,"accept_rate":55,"display_name":"alessmar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":698,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73237121,"answer_count":1,"score":0,"last_activity_date":1659625269,"creation_date":1659619161,"question_id":73236717,"body_markdown":"I&#39;m using the latest version of Vert.x (4.3.2) and I wrote and handler for a route that serves a POST method.\r\n\r\nBelow my code to convert the JSON  body of that method to a List of objects:\r\n\r\n    Class&lt;List&lt;CartLineItem&gt;&gt; cls = (Class&lt;List&lt;CartLineItem&gt;&gt;)(Object)List.class;\r\n    List&lt;CartLineItem&gt; itemsToAdd = rc.body().asPojo(cls);\r\n\r\nUnforntunately whenever I try to iterate over `itemsToAdd` I get the exception: `java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class com.acme.CartLineItem`. \r\n\r\nHow can I fix this issue without using any other library except Vert.x (I mean .. using Jackson I would provide a TypeReference&lt;List&lt;CartLineItem&gt;&gt; object)?","title":"Vert.x - Not able to decode json to list of objects","body":"<p>I'm using the latest version of Vert.x (4.3.2) and I wrote and handler for a route that serves a POST method.</p>\n<p>Below my code to convert the JSON  body of that method to a List of objects:</p>\n<pre><code>Class&lt;List&lt;CartLineItem&gt;&gt; cls = (Class&lt;List&lt;CartLineItem&gt;&gt;)(Object)List.class;\nList&lt;CartLineItem&gt; itemsToAdd = rc.body().asPojo(cls);\n</code></pre>\n<p>Unforntunately whenever I try to iterate over <code>itemsToAdd</code> I get the exception: <code>java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class com.acme.CartLineItem</code>.</p>\n<p>How can I fix this issue without using any other library except Vert.x (I mean .. using Jackson I would provide a TypeReference&lt;List&gt; object)?</p>\n"},{"tags":["java","cucumber","database-testing"],"answers":[{"tags":[],"owner":{"account_id":3316674,"reputation":197,"user_id":2788885,"accept_rate":0,"display_name":"Pranjal Prakash Srivastava"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1550600154,"creation_date":1550600154,"answer_id":54772557,"question_id":54770304,"body_markdown":"I am able to do it by making some changes in Database connection class and use the methods in my feature file in order to check the database connection.\r\n\r\n    package util;\r\n    \r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n    import java.sql.Statement;\r\n    \r\n    import org.junit.Assert;\r\n    \r\n    public class DatabaseConnection extends DriverFactory {\r\n    \t\r\n    \tReadConfigFile config = new ReadConfigFile();\r\n    \t\r\n    \tpublic static String dbUrl;\t\t\t\t\t\r\n    \tpublic static String username;\t\r\n    \tpublic static String password;\r\n    \tpublic static String database_driver;\r\n    \tConnection con;\r\n    \tStatement stmt;\r\n    \tString query;\r\n    \tResultSet rs;\r\n    \t\r\n    \tpublic DatabaseConnection() {\r\n    \t\tsuper();\r\n    \t}\r\n    \r\n    \tpublic DatabaseConnection createConnection() throws SQLException, ClassNotFoundException {\r\n    \t\tcon = DriverManager.getConnection(config.getUrl(),config.getUsername(),config.getPassword());\r\n    \t\tClass.forName(config.getDatabaseDriver());\t\r\n    \t\treturn new DatabaseConnection();\r\n    \t}\r\n    \t\r\n    \tpublic DatabaseConnection createQuery() throws SQLException {\r\n    \t\tquery = &quot;select * from test where no = 1;&quot;;\r\n    \t    stmt = con.createStatement();\t\r\n    \t    return new DatabaseConnection();\r\n    \t}\r\n    \t\r\n    \tpublic DatabaseConnection executeQuery() throws SQLException {\r\n     \t\trs = stmt.executeQuery(query);\r\n    \t    return new DatabaseConnection();\r\n    \t}\r\n    \t\r\n    \tpublic DatabaseConnection assertRecords(String name) throws SQLException {\r\n    \t\twhile (rs.next()){\r\n        \t\tString myName = rs.getString(2);\t\t\t\t\t\t\t\t        \t\t\t\t\t                               \r\n        \t\tAssert.assertEquals(myName,name);\r\n            }\r\n    \t\treturn new DatabaseConnection();\r\n    \t}\r\n    \t\r\n    \tpublic DatabaseConnection closeConnection() throws SQLException {\r\n    \t\tcon.close();\r\n    \t\treturn new DatabaseConnection();\r\n    \t}\r\n    }\r\n\r\nand then use the methods for the implementation of the steps.\r\n\r\n    package stepDefinitions;\r\n    \r\n    import cucumber.api.java.en.Given;\r\n    import cucumber.api.java.en.Then;\r\n    import cucumber.api.java.en.When;\r\n    import util.DatabaseConnection;\r\n    \r\n    public class TransactionGeneratorTest extends DatabaseConnection {\r\n    \t\r\n    \t@Given(&quot;^I am connected with the database$&quot;)\r\n    \tpublic void i_am_connected_with_the_database() throws Throwable {\r\n    \t\tcreateConnection();\r\n    \t}\r\n    \r\n    \t@When(&quot;^I run the select query$&quot;)\r\n    \tpublic void i_run_the_select_query() throws Throwable {\r\n    \t\tcreateQuery();\r\n    \t\texecuteQuery();\r\n    \t}\t\r\n    \r\n    \t@Then(&quot;^I should see the result as \\&quot;([^\\&quot;]*)\\&quot;$&quot;)\r\n    \tpublic void i_should_see_the_result_as(String name) throws Throwable {\r\n    \t\tassertRecords(name);\r\n    \t}\r\n    }","title":"How we can implement Cucumber test for database testing","body":"<p>I am able to do it by making some changes in Database connection class and use the methods in my feature file in order to check the database connection.</p>\n\n<pre><code>package util;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\n\nimport org.junit.Assert;\n\npublic class DatabaseConnection extends DriverFactory {\n\n    ReadConfigFile config = new ReadConfigFile();\n\n    public static String dbUrl;                 \n    public static String username;  \n    public static String password;\n    public static String database_driver;\n    Connection con;\n    Statement stmt;\n    String query;\n    ResultSet rs;\n\n    public DatabaseConnection() {\n        super();\n    }\n\n    public DatabaseConnection createConnection() throws SQLException, ClassNotFoundException {\n        con = DriverManager.getConnection(config.getUrl(),config.getUsername(),config.getPassword());\n        Class.forName(config.getDatabaseDriver());  \n        return new DatabaseConnection();\n    }\n\n    public DatabaseConnection createQuery() throws SQLException {\n        query = \"select * from test where no = 1;\";\n        stmt = con.createStatement();   \n        return new DatabaseConnection();\n    }\n\n    public DatabaseConnection executeQuery() throws SQLException {\n        rs = stmt.executeQuery(query);\n        return new DatabaseConnection();\n    }\n\n    public DatabaseConnection assertRecords(String name) throws SQLException {\n        while (rs.next()){\n            String myName = rs.getString(2);                                                                                           \n            Assert.assertEquals(myName,name);\n        }\n        return new DatabaseConnection();\n    }\n\n    public DatabaseConnection closeConnection() throws SQLException {\n        con.close();\n        return new DatabaseConnection();\n    }\n}\n</code></pre>\n\n<p>and then use the methods for the implementation of the steps.</p>\n\n<pre><code>package stepDefinitions;\n\nimport cucumber.api.java.en.Given;\nimport cucumber.api.java.en.Then;\nimport cucumber.api.java.en.When;\nimport util.DatabaseConnection;\n\npublic class TransactionGeneratorTest extends DatabaseConnection {\n\n    @Given(\"^I am connected with the database$\")\n    public void i_am_connected_with_the_database() throws Throwable {\n        createConnection();\n    }\n\n    @When(\"^I run the select query$\")\n    public void i_run_the_select_query() throws Throwable {\n        createQuery();\n        executeQuery();\n    }   \n\n    @Then(\"^I should see the result as \\\"([^\\\"]*)\\\"$\")\n    public void i_should_see_the_result_as(String name) throws Throwable {\n        assertRecords(name);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3316674,"reputation":197,"user_id":2788885,"accept_rate":0,"display_name":"Pranjal Prakash Srivastava"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19314,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1659625133,"creation_date":1550591849,"question_id":54770304,"body_markdown":"I am trying to configure Cucumber test for database testing since my application have some rest services and I need to check the database in order to verify the records are updated with proper value.\r\n\r\nI am using Postgres database. I have a feature file listed as below:\r\n\r\n    Feature: API Test\r\n    \r\n    Background: Given I am connected with the database\r\n \t\t \r\n    Scenario: I want to test the database connection \t\t\r\n    When I run the select query \t\t\r\n    Then I should see the result as &quot;Pranjal&quot;\r\n\r\nDatabase Connection class is as follows:\r\n\r\npublic class DatabaseConnection {\r\n\t\r\n\tpublic DatabaseConnection createConnection() throws Exception {\r\n\t\t\r\n\t\ttry {\r\n\t\t\t//Connection URL Syntax: &quot;jdbc:postgresql://ipaddress:portnumber/db_name&quot;\t\t\r\n            String dbUrl = &quot;jdbc:postgresql://localhost:5432/test&quot;;\t\t\t\t\t\r\n\r\n\t\t\t//Database User name\r\n\t\t\tString username = &quot;postgres&quot;;\t\r\n            \r\n\t\t\t//Database Password\r\n\t\t\tString password = &quot;12345678&quot;;\r\n\r\n\t\t\t//Query to Execute\t\t\r\n\t\t\tString query = &quot;select * from test where no = 1;&quot;;\r\n\t\t\t\r\n     \t    //Load PostgreSQL JDBC driver\t\t\r\n\t\t\tClass.forName(&quot;org.postgresql.Driver&quot;);\t\t\t\r\n       \r\n       \t\t//Create Connection to DB\t\t\r\n        \tConnection con = DriverManager.getConnection(dbUrl,username,password);\r\n      \r\n      \t\t//Create Statement Object\t\t\r\n    \t    Statement stmt = con.createStatement();\t\t\t\t\t\r\n   \r\n   \t\t\t// Execute the SQL Query. Store results in ResultSet\t\t\r\n     \t\tResultSet rs = stmt.executeQuery(query);\t\t\t\t\t\t\t\r\n     \r\n     \t\t// While Loop to iterate through all data and print results\t\t\r\n\t\t\twhile (rs.next()){\r\n        \t\tString myName = rs.getString(1);\t\t\t\t\t\t\t\t        \t\t\t\t\t                               \r\n                System.out.println(myName);\t\t\r\n            }\t\t\r\n  \t\t\t\r\n\t\t\t// closing DB Connection\t\t\r\n  \t\t\tcon.close();\r\n\t\t} catch(SQLException e) {\r\n\t\t  e.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t\treturn new DatabaseConnection();\t\t\t\r\n\t}\r\n}\r\n\r\nI have a Runner Class which will going to execute my feature file.\r\n\r\nI want my steps to execute the query and database connection is created as a Background condition..\r\n\r\nIs there a way to achieve this?","title":"How we can implement Cucumber test for database testing","body":"<p>I am trying to configure Cucumber test for database testing since my application have some rest services and I need to check the database in order to verify the records are updated with proper value.</p>\n\n<p>I am using Postgres database. I have a feature file listed as below:</p>\n\n<pre><code>Feature: API Test\n\nBackground: Given I am connected with the database\n\nScenario: I want to test the database connection        \nWhen I run the select query         \nThen I should see the result as \"Pranjal\"\n</code></pre>\n\n<p>Database Connection class is as follows:</p>\n\n<p>public class DatabaseConnection {</p>\n\n<pre><code>public DatabaseConnection createConnection() throws Exception {\n\n    try {\n        //Connection URL Syntax: \"jdbc:postgresql://ipaddress:portnumber/db_name\"       \n        String dbUrl = \"jdbc:postgresql://localhost:5432/test\";                 \n\n        //Database User name\n        String username = \"postgres\";   \n\n        //Database Password\n        String password = \"12345678\";\n\n        //Query to Execute      \n        String query = \"select * from test where no = 1;\";\n\n        //Load PostgreSQL JDBC driver       \n        Class.forName(\"org.postgresql.Driver\");         \n\n        //Create Connection to DB       \n        Connection con = DriverManager.getConnection(dbUrl,username,password);\n\n        //Create Statement Object       \n        Statement stmt = con.createStatement();                 \n\n        // Execute the SQL Query. Store results in ResultSet        \n        ResultSet rs = stmt.executeQuery(query);                            \n\n        // While Loop to iterate through all data and print results     \n        while (rs.next()){\n            String myName = rs.getString(1);                                                                                           \n            System.out.println(myName);     \n        }       \n\n        // closing DB Connection        \n        con.close();\n    } catch(SQLException e) {\n      e.printStackTrace();\n    }\n\n    return new DatabaseConnection();            \n}\n</code></pre>\n\n<p>}</p>\n\n<p>I have a Runner Class which will going to execute my feature file.</p>\n\n<p>I want my steps to execute the query and database connection is created as a Background condition..</p>\n\n<p>Is there a way to achieve this?</p>\n"},{"tags":["java","database","jdbc","jtable"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1659624537,"post_id":73237875,"comment_id":129343440,"body_markdown":"Well, if it doesn&#39;t enter the loop, then because resultset it empty. So something is wrong with the SQL. Do you get an exception?","body":"Well, if it doesn&#39;t enter the loop, then because resultset it empty. So something is wrong with the SQL. Do you get an exception?"},{"owner":{"account_id":23296224,"reputation":1,"user_id":17377597,"display_name":"Youssef Salah Zakaria"},"score":0,"creation_date":1659624622,"post_id":73237875,"comment_id":129343474,"body_markdown":"nope only what i get is oracle.jdbc.oracledriver","body":"nope only what i get is oracle.jdbc.oracledriver"},{"owner":{"account_id":23296224,"reputation":1,"user_id":17377597,"display_name":"Youssef Salah Zakaria"},"score":0,"creation_date":1659624731,"post_id":73237875,"comment_id":129343535,"body_markdown":"just added a picture","body":"just added a picture"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1659624745,"post_id":73237875,"comment_id":129343540,"body_markdown":"`System.out.println(e.getMessage());` don&#39;t do this. Use `e.printStacktrace();` then you will get the proper exception","body":"<code>System.out.println(e.getMessage());</code> don&#39;t do this. Use <code>e.printStacktrace();</code> then you will get the proper exception"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1659624780,"post_id":73237875,"comment_id":129343563,"body_markdown":"I assume that you are not having the proper dependency in your classpath, hence `oracle.jdbc.OracleDriver` can&#39;t be found","body":"I assume that you are not having the proper dependency in your classpath, hence <code>oracle.jdbc.OracleDriver</code> can&#39;t be found"},{"owner":{"account_id":23296224,"reputation":1,"user_id":17377597,"display_name":"Youssef Salah Zakaria"},"score":0,"creation_date":1659625075,"post_id":73237875,"comment_id":129343686,"body_markdown":"hmm maybe i send my properties of the database with a picture of it right now\nand when i tried to change it to print stacktrace it gave me this\n[Ljava.lang.StackTraceElement;@4e73e410","body":"hmm maybe i send my properties of the database with a picture of it right now and when i tried to change it to print stacktrace it gave me this [Ljava.lang.StackTraceElement;@4e73e410"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1659625350,"post_id":73237875,"comment_id":129343797,"body_markdown":"Do you have this: `catch(Exception e) {\n        e.printStackTrace();\n    }`?","body":"Do you have this: <code>catch(Exception e) {         e.printStackTrace();     }</code>?"},{"owner":{"account_id":23296224,"reputation":1,"user_id":17377597,"display_name":"Youssef Salah Zakaria"},"score":0,"creation_date":1659625767,"post_id":73237875,"comment_id":129343939,"body_markdown":"ohh damm i wrote &#39;get&#39; not &#39;print&#39;\nwhen i tried writing it now it tells me void type not allowed here","body":"ohh damm i wrote &#39;get&#39; not &#39;print&#39; when i tried writing it now it tells me void type not allowed here"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1659625960,"post_id":73237875,"comment_id":129344028,"body_markdown":"You are still having `System.out.println` I guess?","body":"You are still having <code>System.out.println</code> I guess?"},{"owner":{"account_id":23296224,"reputation":1,"user_id":17377597,"display_name":"Youssef Salah Zakaria"},"score":0,"creation_date":1659626231,"post_id":73237875,"comment_id":129344129,"body_markdown":"ohh damm i am really stupid \nhere is the report it shows \njava.lang.ClassNotFoundException: oracle.jdbc.OracleDriver\nthere is more but i can&#39;t send all of it how do i fix it?","body":"ohh damm i am really stupid  here is the report it shows  java.lang.ClassNotFoundException: oracle.jdbc.OracleDriver there is more but i can&#39;t send all of it how do i fix it?"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1659626276,"post_id":73237875,"comment_id":129344149,"body_markdown":"Add the required dependency to the classpath","body":"Add the required dependency to the classpath"},{"owner":{"account_id":23296224,"reputation":1,"user_id":17377597,"display_name":"Youssef Salah Zakaria"},"score":0,"creation_date":1659627101,"post_id":73237875,"comment_id":129344534,"body_markdown":"Oracle Thin (3) this is the driver name \nhow do i write it in the forname?","body":"Oracle Thin (3) this is the driver name  how do i write it in the forname?"},{"owner":{"account_id":23296224,"reputation":1,"user_id":17377597,"display_name":"Youssef Salah Zakaria"},"score":0,"creation_date":1659627216,"post_id":73237875,"comment_id":129344583,"body_markdown":"oracle.jdbc.OracleDriver and this is the class name of the database","body":"oracle.jdbc.OracleDriver and this is the class name of the database"}],"owner":{"account_id":23296224,"reputation":1,"user_id":17377597,"display_name":"Youssef Salah Zakaria"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659624878,"creation_date":1659624114,"question_id":73237875,"body_markdown":"I can&#39;t see why this is broken I checked the url and user and password \r\nhere is my database properties\r\n[enter image description here][1]\r\nnothing wrong with the sql\r\n[enter image description here][2]\r\n\r\n    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n                try{\r\n            Class.forName(&quot;oracle.jdbc.OracleDriver&quot;);\r\n            //conneting my database\r\n            Connection con = DriverManager.getConnection(&quot;jdbc:oracle:thin:@localhost:1521:XE&quot;,&quot;system&quot;,&quot;sisidodo30&quot;);\r\n            Statement st = con.createStatement();\r\n            //the sql code\r\n            String sql = &quot;SELECT * FROM \\&quot;SYSTEM\\&quot;.STOCKSTABLEPROJECT&quot;;\r\n            ResultSet rs = st.executeQuery(sql);\r\n            \r\n            while(rs.next()){\r\n                //for some reason it doesn&#39;t get in here\r\n                System.out.println(&quot;i am in the loop&quot;);\r\n                String Name = rs.getString(&quot;NAME&quot;);\r\n                String Price = String.valueOf(rs.getInt(&quot;PRICETODAY&quot;));\r\n                String tbdata[] ={Name,Price};\r\n                DefaultTableModel tblModel =(DefaultTableModel)jTable1.getModel();\r\n                tblModel.addRow(tbdata);\r\n            }\r\n            con.close();\r\n        }\r\n        catch(Exception e) {\r\n            System.out.println(e.getMessage());\r\n        }\r\n    }      \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/G1iNe.png\r\n  [2]: https://i.stack.imgur.com/E6xny.png","title":"why doesn&#39;t it show in Jtable? i am trying to connect my database to my jtable","body":"<p>I can't see why this is broken I checked the url and user and password\nhere is my database properties\n<a href=\"https://i.stack.imgur.com/G1iNe.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nnothing wrong with the sql\n<a href=\"https://i.stack.imgur.com/E6xny.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<pre><code>private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \n            try{\n        Class.forName(&quot;oracle.jdbc.OracleDriver&quot;);\n        //conneting my database\n        Connection con = DriverManager.getConnection(&quot;jdbc:oracle:thin:@localhost:1521:XE&quot;,&quot;system&quot;,&quot;sisidodo30&quot;);\n        Statement st = con.createStatement();\n        //the sql code\n        String sql = &quot;SELECT * FROM \\&quot;SYSTEM\\&quot;.STOCKSTABLEPROJECT&quot;;\n        ResultSet rs = st.executeQuery(sql);\n        \n        while(rs.next()){\n            //for some reason it doesn't get in here\n            System.out.println(&quot;i am in the loop&quot;);\n            String Name = rs.getString(&quot;NAME&quot;);\n            String Price = String.valueOf(rs.getInt(&quot;PRICETODAY&quot;));\n            String tbdata[] ={Name,Price};\n            DefaultTableModel tblModel =(DefaultTableModel)jTable1.getModel();\n            tblModel.addRow(tbdata);\n        }\n        con.close();\n    }\n    catch(Exception e) {\n        System.out.println(e.getMessage());\n    }\n}      \n</code></pre>\n"},{"tags":["java","spring-boot","jpa","spring-transactions"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1659627151,"post_id":73238043,"comment_id":129344554,"body_markdown":"If you have multiple database you don&#39;t need multiple transaction managers but 2PC https://docs.spring.io/spring-boot/docs/current/reference/html/io.html#io.jta","body":"If you have multiple database you don&#39;t need multiple transaction managers but 2PC <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/io.html#io.jta\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a>"},{"owner":{"account_id":24182486,"reputation":91,"user_id":18142927,"display_name":"u4963840"},"score":0,"creation_date":1659681900,"post_id":73238043,"comment_id":129356487,"body_markdown":"What does PC mean in this context?","body":"What does PC mean in this context?"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":1,"creation_date":1659682353,"post_id":73238043,"comment_id":129356602,"body_markdown":"Two phase commit https://en.wikipedia.org/wiki/Two-phase_commit_protocol","body":"Two phase commit <a href=\"https://en.wikipedia.org/wiki/Two-phase_commit_protocol\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Two-phase_commit_protocol</a>"}],"owner":{"account_id":24182486,"reputation":91,"user_id":18142927,"display_name":"u4963840"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":839,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659624736,"creation_date":1659624736,"question_id":73238043,"body_markdown":"I have spring boot app with multiple databases and in services I want to talk to those databases and combine info from 2 of them in the same method.\r\n\r\n```\r\n@Service\r\n@Transactional(&quot;transactionManager1&quot;)\r\npublic class Service1 {\r\n```\r\n\r\n```\r\n@Service\r\n@Transactional(&quot;transactionManager2&quot;)\r\npublic class Service2 {\r\n```\r\n\r\nI have some methods in Service1 that also call methods from Service2 to get some data from other database.\r\n\r\nIt worked fine until I added threading. In Service1 I added `CompletableFuture.supplyAsync(....)` that calls method from Service1 that in turn eventually calls Service2 methods. And at some point it just throws me TransactionException. \r\n\r\n\r\nTo fix this I thought I would manually create transaction before `CompletableFuture.supplyAsync(....)` and commit it afterwards. When I was searching how to do that I got idea from https://stackoverflow.com/questions/35628764/completablefuture-vs-spring-transactions and started writing the following code (I use PlatformTransactionManager instead):\r\n\r\n    @TimeLimiter(name = &quot;method1&quot;)\r\n    public CompletableFuture&lt;Void&gt; method1Async(long arg1) {\r\n        TransactionDefinition txDef = new DefaultTransactionDefinition();\r\n        TransactionStatus txStatus = platformTransactionManager.getTransaction(txDef);\r\n        CompletableFuture&lt;Void&gt; x = null;\r\n        try {\r\n          x = CompletableFuture.supplyAsync(() -&gt; {\r\n              Void y = this.method1(arg1);\r\n              platformTransactionManager.commit(txStatus);\r\n              return y;\r\n            })\r\n            .toCompletableFuture();\r\n        } catch (Exception e){\r\n          platformTransactionManager.rollback(txStatus);\r\n        }\r\n        return x;\r\n    }\r\n\r\n\r\nBut after still getting exception about transaction I realized that since I use  multiple databases I probably need multiple transaction managers. But when I was trying to learn those transaction managers I didn&#39;t notice any way to tell for which database I want it. \r\n\r\nHow Do I create another transaction for transactionManager2?","title":"Spring boot manage multiple transactions","body":"<p>I have spring boot app with multiple databases and in services I want to talk to those databases and combine info from 2 of them in the same method.</p>\n<pre><code>@Service\n@Transactional(&quot;transactionManager1&quot;)\npublic class Service1 {\n</code></pre>\n<pre><code>@Service\n@Transactional(&quot;transactionManager2&quot;)\npublic class Service2 {\n</code></pre>\n<p>I have some methods in Service1 that also call methods from Service2 to get some data from other database.</p>\n<p>It worked fine until I added threading. In Service1 I added <code>CompletableFuture.supplyAsync(....)</code> that calls method from Service1 that in turn eventually calls Service2 methods. And at some point it just throws me TransactionException.</p>\n<p>To fix this I thought I would manually create transaction before <code>CompletableFuture.supplyAsync(....)</code> and commit it afterwards. When I was searching how to do that I got idea from <a href=\"https://stackoverflow.com/questions/35628764/completablefuture-vs-spring-transactions\">CompletableFuture vs Spring Transactions</a> and started writing the following code (I use PlatformTransactionManager instead):</p>\n<pre><code>@TimeLimiter(name = &quot;method1&quot;)\npublic CompletableFuture&lt;Void&gt; method1Async(long arg1) {\n    TransactionDefinition txDef = new DefaultTransactionDefinition();\n    TransactionStatus txStatus = platformTransactionManager.getTransaction(txDef);\n    CompletableFuture&lt;Void&gt; x = null;\n    try {\n      x = CompletableFuture.supplyAsync(() -&gt; {\n          Void y = this.method1(arg1);\n          platformTransactionManager.commit(txStatus);\n          return y;\n        })\n        .toCompletableFuture();\n    } catch (Exception e){\n      platformTransactionManager.rollback(txStatus);\n    }\n    return x;\n}\n</code></pre>\n<p>But after still getting exception about transaction I realized that since I use  multiple databases I probably need multiple transaction managers. But when I was trying to learn those transaction managers I didn't notice any way to tell for which database I want it.</p>\n<p>How Do I create another transaction for transactionManager2?</p>\n"},{"tags":["java","android","firebase","android-viewmodel"],"answers":[{"tags":[],"owner":{"account_id":21333210,"reputation":233,"user_id":15704778,"display_name":"Jonathan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659624656,"creation_date":1659621662,"answer_id":73237276,"question_id":73236501,"body_markdown":"I&#39;m assuming you want to share data between fragments.\r\nOne way to do that is through ViewModels\r\n\r\nSpecifically, you&#39;ll need a view model like this:\r\n```\r\npublic class SharedViewModel extends ViewModel {\r\n    private final MutableLiveData&lt;Item&gt; selected = new MutableLiveData&lt;Item&gt;();\r\n\r\n    public void select(Item item) {\r\n        selected.setValue(item);\r\n    }\r\n\r\n    public LiveData&lt;Item&gt; getSelected() {\r\n        return selected;\r\n    }\r\n}\r\n```\r\n\r\nThen you have your fragments:\r\n```\r\nclass SharedViewModel : ViewModel() {\r\n    val selected = MutableLiveData&lt;Item&gt;()\r\n\r\n    fun select(item: Item) {\r\n        selected.value = item\r\n    }\r\n}\r\n\r\npublic class ListFragment extends Fragment {\r\n    private SharedViewModel model;\r\n\r\n    public void onViewCreated(@NonNull View view, Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n        model = new ViewModelProvider(requireActivity()).get(SharedViewModel.class);\r\n        itemSelector.setOnClickListener(item -&gt; {\r\n            model.select(item);\r\n        });\r\n    }\r\n}\r\n\r\npublic class DetailFragment extends Fragment {\r\n\r\n    public void onViewCreated(@NonNull View view, Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n        SharedViewModel model = new ViewModelProvider(requireActivity()).get(SharedViewModel.class);\r\n        model.getSelected().observe(getViewLifecycleOwner(), item -&gt; {\r\n           // Update the UI.\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nNotice that both fragments retrieve the activity that contains them. That way, when the fragments each get the ViewModelProvider, they receive the same SharedViewModel instance, which is scoped to this activity.\r\n\r\nIf you want to know more about this, refer to: https://developer.android.com/topic/libraries/architecture/viewmodel","title":"How can i share data across multiple fragments in application?","body":"<p>I'm assuming you want to share data between fragments.\nOne way to do that is through ViewModels</p>\n<p>Specifically, you'll need a view model like this:</p>\n<pre><code>public class SharedViewModel extends ViewModel {\n    private final MutableLiveData&lt;Item&gt; selected = new MutableLiveData&lt;Item&gt;();\n\n    public void select(Item item) {\n        selected.setValue(item);\n    }\n\n    public LiveData&lt;Item&gt; getSelected() {\n        return selected;\n    }\n}\n</code></pre>\n<p>Then you have your fragments:</p>\n<pre><code>class SharedViewModel : ViewModel() {\n    val selected = MutableLiveData&lt;Item&gt;()\n\n    fun select(item: Item) {\n        selected.value = item\n    }\n}\n\npublic class ListFragment extends Fragment {\n    private SharedViewModel model;\n\n    public void onViewCreated(@NonNull View view, Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n        model = new ViewModelProvider(requireActivity()).get(SharedViewModel.class);\n        itemSelector.setOnClickListener(item -&gt; {\n            model.select(item);\n        });\n    }\n}\n\npublic class DetailFragment extends Fragment {\n\n    public void onViewCreated(@NonNull View view, Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n        SharedViewModel model = new ViewModelProvider(requireActivity()).get(SharedViewModel.class);\n        model.getSelected().observe(getViewLifecycleOwner(), item -&gt; {\n           // Update the UI.\n        });\n    }\n}\n</code></pre>\n<p>Notice that both fragments retrieve the activity that contains them. That way, when the fragments each get the ViewModelProvider, they receive the same SharedViewModel instance, which is scoped to this activity.</p>\n<p>If you want to know more about this, refer to: <a href=\"https://developer.android.com/topic/libraries/architecture/viewmodel\" rel=\"nofollow noreferrer\">https://developer.android.com/topic/libraries/architecture/viewmodel</a></p>\n"}],"owner":{"account_id":16492194,"reputation":125,"user_id":11915666,"display_name":"Vivek M Fauzdar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":73237276,"answer_count":1,"score":0,"last_activity_date":1659624656,"creation_date":1659618285,"question_id":73236501,"body_markdown":"I am working on an application where i m taking input from users across multiple fragments under same activity, and then i am sending that data to firebase now how can i achieve that using shared viewmodel, if possible please guide me how can i achieve that, I am completely new to android.\r\nThank You","title":"How can i share data across multiple fragments in application?","body":"<p>I am working on an application where i m taking input from users across multiple fragments under same activity, and then i am sending that data to firebase now how can i achieve that using shared viewmodel, if possible please guide me how can i achieve that, I am completely new to android.\nThank You</p>\n"},{"tags":["java","jakarta-ee","web-applications"],"comments":[{"owner":{"account_id":578067,"reputation":10469,"user_id":238444,"accept_rate":57,"display_name":"creativz"},"score":1,"creation_date":1261708684,"post_id":1960280,"comment_id":27691037,"body_markdown":"I&#39;ve read the two threads. But again: In the threads they are only saying &quot;learn Tomcat, JBoss, Hibernate, learn this or that, etc...&quot; Just throwing with words.\nBut I want to know which specific book or tutorial I should lern.\nMaybe there is no such way and I have to learn it &quot;inefficiently&quot; by looking every single word up. I justed hoped to get an advice how to proceede.","body":"I&#39;ve read the two threads. But again: In the threads they are only saying &quot;learn Tomcat, JBoss, Hibernate, learn this or that, etc...&quot; Just throwing with words. But I want to know which specific book or tutorial I should lern. Maybe there is no such way and I have to learn it &quot;inefficiently&quot; by looking every single word up. I justed hoped to get an advice how to proceede."},{"owner":{"account_id":54888,"reputation":101101,"user_id":164299,"accept_rate":99,"display_name":"Rachel"},"score":0,"creation_date":1261713637,"post_id":1960280,"comment_id":1873428,"body_markdown":"Duplicate of : http://stackoverflow.com/questions/1958472…,http://stackoverflow.com/questions/1084591…,http://stackoverflow.com/questions/125160","body":"Duplicate of : <a href=\"http://stackoverflow.com/questions/1958472\">stackoverflow.com/questions/1958472</a>…,<a href=\"http://stackoverflow.com/questions/1084591\">stackoverflow.com/quest&zwnj;&#8203;ions/1084591</a>…,<a href=\"http://stackoverflow.com/questions/125160\">stacko&zwnj;&#8203;verflow.com/question&zwnj;&#8203;s/125160</a>"},{"owner":{"account_id":54888,"reputation":101101,"user_id":164299,"accept_rate":99,"display_name":"Rachel"},"score":1,"creation_date":1261713801,"post_id":1960280,"comment_id":27691038,"body_markdown":"I would recommend you to start with Head First Servlets and JSP provided you have good knowledge of core Java. If you are not comfortable with Java as Programming Language than first you need to get some hands on knowledge on it and than proceed towards Web Application Development.","body":"I would recommend you to start with Head First Servlets and JSP provided you have good knowledge of core Java. If you are not comfortable with Java as Programming Language than first you need to get some hands on knowledge on it and than proceed towards Web Application Development."},{"owner":{"account_id":54888,"reputation":101101,"user_id":164299,"accept_rate":99,"display_name":"Rachel"},"score":0,"creation_date":1261713917,"post_id":1960280,"comment_id":27691039,"body_markdown":"What is the exact thing you want to learn, if you have gone through JSP and Servlets Head First Series than probably you should start with developing some small web application testing your theory knowledge and than you can always do enhancements on it and change framework once you get hang of how to develop web application using Java EE Technologies.","body":"What is the exact thing you want to learn, if you have gone through JSP and Servlets Head First Series than probably you should start with developing some small web application testing your theory knowledge and than you can always do enhancements on it and change framework once you get hang of how to develop web application using Java EE Technologies."},{"owner":{"account_id":26957,"reputation":564361,"user_id":70604,"display_name":"Pascal Thivent"},"score":22,"creation_date":1261714363,"post_id":1960280,"comment_id":1873444,"body_markdown":"Except that all these questions are outdated since Java EE 6 is out...","body":"Except that all these questions are outdated since Java EE 6 is out..."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1261726563,"post_id":1960280,"comment_id":1873753,"body_markdown":"@Pascal - except that most of Java EE 6 will have close parallels with earlier Java EE releases.  So they&#39;ll only be slightly outdated.","body":"@Pascal - except that most of Java EE 6 will have close parallels with earlier Java EE releases.  So they&#39;ll only be slightly outdated."},{"owner":{"account_id":26957,"reputation":564361,"user_id":70604,"display_name":"Pascal Thivent"},"score":4,"creation_date":1261729564,"post_id":1960280,"comment_id":1873826,"body_markdown":"@Stephen Well, I actually think that there is a **big** gap, especially on the web part (with Servlet 3.0 or JSF 2.0 and CDI managed beans).","body":"@Stephen Well, I actually think that there is a <b>big</b> gap, especially on the web part (with Servlet 3.0 or JSF 2.0 and CDI managed beans)."},{"owner":{"account_id":2648876,"reputation":988,"user_id":2740187,"accept_rate":74,"display_name":"jackthehipster"},"score":1,"creation_date":1408697821,"post_id":1960280,"comment_id":39696899,"body_markdown":"Funny how many of high voted general questions like this one are closed as &quot;not constructive&quot;. I&#39;d say they are very constructive, but not easy to answer in a constructive way. They do help to see the bigger picture of what one is doing or should be doing. But it&#39;s nice that they are allowed to stay on SO.","body":"Funny how many of high voted general questions like this one are closed as &quot;not constructive&quot;. I&#39;d say they are very constructive, but not easy to answer in a constructive way. They do help to see the bigger picture of what one is doing or should be doing. But it&#39;s nice that they are allowed to stay on SO."},{"owner":{"account_id":97325,"reputation":62285,"user_id":264052,"accept_rate":66,"display_name":"smwikipedia"},"score":0,"creation_date":1421843396,"post_id":1960280,"comment_id":44514172,"body_markdown":"@jackthehipster totally agree! I always find such questions more valuable than those `specific` questions. It is such questions that make SO different from others.","body":"@jackthehipster totally agree! I always find such questions more valuable than those <code>specific</code> questions. It is such questions that make SO different from others."}],"answers":[{"tags":[],"owner":{"account_id":75807,"reputation":81445,"user_id":217332,"accept_rate":100,"display_name":"danben"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1261711480,"creation_date":1261711480,"answer_id":1960395,"question_id":1960280,"body_markdown":"For Tomcat, read the [manual][1] on the website.  It is very good.  Particularly, the first few chapters on web app organization and deployment, and the chapters on the Servlets API and JSPs.\r\n\r\nFor Spring, the Manning book Spring in Action is very good.  Similarly for Hibernate (the Manning book) but I think Hibernate is mostly outside the scope of webapps.  Your call, though.\r\n\r\nWicket - Manning book also.  But really, just write your front-end code in Javascript.  It will be less painful, IMO.\r\n\r\n\r\n  [1]: http://tomcat.apache.org/tomcat-6.0-doc/index.html","title":"What to learn for making Java web applications in Java EE 6?","body":"<p>For Tomcat, read the <a href=\"http://tomcat.apache.org/tomcat-6.0-doc/index.html\" rel=\"noreferrer\">manual</a> on the website.  It is very good.  Particularly, the first few chapters on web app organization and deployment, and the chapters on the Servlets API and JSPs.</p>\n\n<p>For Spring, the Manning book Spring in Action is very good.  Similarly for Hibernate (the Manning book) but I think Hibernate is mostly outside the scope of webapps.  Your call, though.</p>\n\n<p>Wicket - Manning book also.  But really, just write your front-end code in Javascript.  It will be less painful, IMO.</p>\n"},{"tags":[],"owner":{"account_id":26957,"reputation":564361,"user_id":70604,"display_name":"Pascal Thivent"},"down_vote_count":0,"up_vote_count":175,"is_accepted":true,"score":175,"last_activity_date":1560063164,"creation_date":1261714064,"answer_id":1960447,"question_id":1960280,"body_markdown":"Even if I know that this will be controversial, my advice would be to start with Java EE 6 only. So, grab GlassFish v3 and either get the book [Beginning Java EE 6 Platform with GlassFish 3: From Novice to Professional][1] or follow the [Java EE 6 tutorial][2]. In my opinion, the book (that I&#39;ve started to read so I know what I&#39;m talking about) provides more guidance which might be preferable if &quot;everything&quot; is new for you (it covers both the Java EE platform and its APIs **and** the environment to build, deploy your applications).\r\n\r\nNow, as I said, I can already hear voices saying things like *&quot;Java EE is heavy, use Spring instead, learn Struts or Wicket or Stripes for the presentation layer, learn Hibernate for persistence, or not because I don&#39;t like ORM, use iBatis or straight JDBC instead (you&#39;ll see, it&#39;s cool with Spring, Spring is so cooool), and use Tomcat (and why not Jetty), or JBoss, or just forget all this and go for Grails, and bla bla bla...&quot;*. \r\n\r\nBut I don&#39;t think that this is really helping you and, without mentoring or guidance (and you won&#39;t find a non outdated unique resource covering all combinations), this must sound very confusing for a beginner. \r\n\r\nSo, because I think that Java EE 6 is a big improvement over previous versions of Java EE, because it provides really **nice** standard APIs for all your needs (Servlet 3.0, JSF 2.0, JPA 2.0, EJB 3.1 lite, Bean Validation 1.0, CDI, etc), because these APIs are all more than decent, because there is nothing really wrong in learning them, because this is already a big task, **because you have to start somewhere**, I&#39;d focus on Java EE 6 only and forget the other frameworks for now. More precisely, I&#39;d start with the [Java EE 6 Web Profile][3] (and then add things if you want to go further).\r\n\r\nBy doing this, 1) you&#39;ll get started and you&#39;ll learn brand new things and 2) you&#39;ll give some time to all other frameworks and/or tools to adapt and prove that there is still a need for them. And if there is, it will still be time to experiment the survivors and you&#39;ll be able to understand much better why they exist. \r\n\r\n \r\n\r\n  [1]: https://rads.stackoverflow.com/amzn/click/1430219548\r\n  [2]: https://docs.oracle.com/javaee/6/tutorial/doc/\r\n  [3]: https://www.sun.com/featured-articles/2009-1210/feature/index.jsp#about","title":"What to learn for making Java web applications in Java EE 6?","body":"<p>Even if I know that this will be controversial, my advice would be to start with Java EE 6 only. So, grab GlassFish v3 and either get the book <a href=\"https://rads.stackoverflow.com/amzn/click/1430219548\" rel=\"noreferrer\">Beginning Java EE 6 Platform with GlassFish 3: From Novice to Professional</a> or follow the <a href=\"https://docs.oracle.com/javaee/6/tutorial/doc/\" rel=\"noreferrer\">Java EE 6 tutorial</a>. In my opinion, the book (that I've started to read so I know what I'm talking about) provides more guidance which might be preferable if \"everything\" is new for you (it covers both the Java EE platform and its APIs <strong>and</strong> the environment to build, deploy your applications).</p>\n\n<p>Now, as I said, I can already hear voices saying things like <em>\"Java EE is heavy, use Spring instead, learn Struts or Wicket or Stripes for the presentation layer, learn Hibernate for persistence, or not because I don't like ORM, use iBatis or straight JDBC instead (you'll see, it's cool with Spring, Spring is so cooool), and use Tomcat (and why not Jetty), or JBoss, or just forget all this and go for Grails, and bla bla bla...\"</em>. </p>\n\n<p>But I don't think that this is really helping you and, without mentoring or guidance (and you won't find a non outdated unique resource covering all combinations), this must sound very confusing for a beginner. </p>\n\n<p>So, because I think that Java EE 6 is a big improvement over previous versions of Java EE, because it provides really <strong>nice</strong> standard APIs for all your needs (Servlet 3.0, JSF 2.0, JPA 2.0, EJB 3.1 lite, Bean Validation 1.0, CDI, etc), because these APIs are all more than decent, because there is nothing really wrong in learning them, because this is already a big task, <strong>because you have to start somewhere</strong>, I'd focus on Java EE 6 only and forget the other frameworks for now. More precisely, I'd start with the <a href=\"https://www.sun.com/featured-articles/2009-1210/feature/index.jsp#about\" rel=\"noreferrer\">Java EE 6 Web Profile</a> (and then add things if you want to go further).</p>\n\n<p>By doing this, 1) you'll get started and you'll learn brand new things and 2) you'll give some time to all other frameworks and/or tools to adapt and prove that there is still a need for them. And if there is, it will still be time to experiment the survivors and you'll be able to understand much better why they exist. </p>\n"},{"tags":[],"owner":{"account_id":7795,"reputation":116405,"user_id":13663,"accept_rate":75,"display_name":"Will Hartung"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1358677805,"creation_date":1261722000,"answer_id":1960610,"question_id":1960280,"body_markdown":"Java EE 6 is really amazing. The only problem is that it&#39;s about 2 weeks old, and there is only 1 container currently offering it&#39;s features -- Glassfish.\r\n\r\nI have nothing against Glassfish, I use it all over the place, several production instances, I love the product and the project.\r\n\r\nThat said, the details of Java EE 6 do not translate back to Java EE 5. Some do, many do, but the Web Profile, Servlet 3.0, the new Bean types, JPA 2, etc. Those aren&#39;t there.\r\n\r\nSo, by learning Java EE 6 first, you&#39;re simply constraining yourself to a single container. More are coming, but they&#39;re not here yet.\r\n\r\nTomcat, JBoss, OpenEJB, Glassfish, Jetty, Resin, Geronimo, etc. all work well with the Java EE 5 spec (at least those parts of the spec that they support, Tomcat doesn&#39;t have EJB for example).\r\n\r\nI can&#39;t think of anything in Java EE 5 that wasn&#39;t carried forward to Java EE 6. Java EE 6 made some very old aspects optional, and those you simply wouldn&#39;t learn today anyway. Java EE 6 made some Java EE 5 stuff even easier (packaging notably, EJB Lite for example).\r\n\r\nLearn Java EE 5 now so that you can actually apply what you learn in a variety of environments, rather that learning Java EE 6 now and discovering you may not be able to use much of what you learn.\r\n\r\nNo single book will teach you what you need to know. Servlets, for example, are a nice foundation, but for anything larger than a couple of pages or endpoint, you will want to use one of the many 3rd party frameworks, or JSF, and no book covers the core and then a framework on top of that.\r\n\r\nThe Java EE 5 tutorial is good at getting the foundations down, my major complaint is that they don&#39;t show you the source code. Rather they expect you to just download and run it. It&#39;s not discussed in the tutorial. I&#39;ve found the Head First books to be pretty good.\r\n\r\nFor web programming, raw Servlets are important enough just to understand the request/response cycle but you don&#39;t need a deep understanding to make a leap to a 3rd party framework.\r\n\r\nI&#39;m a big fan of Stripes for an Action framework (vs a component framework), and the single Stripes book available is excellent (making choosing that an easy choice).\r\n\r\nI can&#39;t suggest a Component framework book, and I actually would not recommend one right off. The component frameworks truly bury the HTTP core request/response structures. They bury them for a reason, and they gain value BY burying them, but I believe to be effective you need to have a solid understanding of these concepts early on. That&#39;s why I don&#39;t suggest learning a Component framework first.\r\n\r\nThe JAX-RS REST framework, included in Java EE 6, but readily installable in Java EE 5 or any servlet container, is excellent. Arguably it is what Servlet 3.0 should have been. But I don&#39;t know any books for that.\r\n\r\n","title":"What to learn for making Java web applications in Java EE 6?","body":"<p>Java EE 6 is really amazing. The only problem is that it's about 2 weeks old, and there is only 1 container currently offering it's features -- Glassfish.</p>\n\n<p>I have nothing against Glassfish, I use it all over the place, several production instances, I love the product and the project.</p>\n\n<p>That said, the details of Java EE 6 do not translate back to Java EE 5. Some do, many do, but the Web Profile, Servlet 3.0, the new Bean types, JPA 2, etc. Those aren't there.</p>\n\n<p>So, by learning Java EE 6 first, you're simply constraining yourself to a single container. More are coming, but they're not here yet.</p>\n\n<p>Tomcat, JBoss, OpenEJB, Glassfish, Jetty, Resin, Geronimo, etc. all work well with the Java EE 5 spec (at least those parts of the spec that they support, Tomcat doesn't have EJB for example).</p>\n\n<p>I can't think of anything in Java EE 5 that wasn't carried forward to Java EE 6. Java EE 6 made some very old aspects optional, and those you simply wouldn't learn today anyway. Java EE 6 made some Java EE 5 stuff even easier (packaging notably, EJB Lite for example).</p>\n\n<p>Learn Java EE 5 now so that you can actually apply what you learn in a variety of environments, rather that learning Java EE 6 now and discovering you may not be able to use much of what you learn.</p>\n\n<p>No single book will teach you what you need to know. Servlets, for example, are a nice foundation, but for anything larger than a couple of pages or endpoint, you will want to use one of the many 3rd party frameworks, or JSF, and no book covers the core and then a framework on top of that.</p>\n\n<p>The Java EE 5 tutorial is good at getting the foundations down, my major complaint is that they don't show you the source code. Rather they expect you to just download and run it. It's not discussed in the tutorial. I've found the Head First books to be pretty good.</p>\n\n<p>For web programming, raw Servlets are important enough just to understand the request/response cycle but you don't need a deep understanding to make a leap to a 3rd party framework.</p>\n\n<p>I'm a big fan of Stripes for an Action framework (vs a component framework), and the single Stripes book available is excellent (making choosing that an easy choice).</p>\n\n<p>I can't suggest a Component framework book, and I actually would not recommend one right off. The component frameworks truly bury the HTTP core request/response structures. They bury them for a reason, and they gain value BY burying them, but I believe to be effective you need to have a solid understanding of these concepts early on. That's why I don't suggest learning a Component framework first.</p>\n\n<p>The JAX-RS REST framework, included in Java EE 6, but readily installable in Java EE 5 or any servlet container, is excellent. Arguably it is what Servlet 3.0 should have been. But I don't know any books for that.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":6,"up_vote_count":32,"is_accepted":false,"score":26,"last_activity_date":1659623829,"creation_date":1261727053,"answer_id":1960729,"question_id":1960280,"body_markdown":"My advice&lt;sup&gt;1&lt;/sup&gt; is to stop reading books and start implementing stuff.  In my experience, book learning is poor a substitute for the knowledge you get by actually doing things.\r\n\r\nObviously ... you can come back and do some more reading later.  And you will probably get more from the reading when you do.\r\n\r\n----------\r\n\r\n&lt;sup&gt;1 - Context: this is advice to someone who has just finished reading two books on the topic, and is looking for more books to read.  In practice you need to *balance* reading with doing.&lt;/sup&gt;","title":"What to learn for making Java web applications in Java EE 6?","body":"<p>My advice<sup>1</sup> is to stop reading books and start implementing stuff.  In my experience, book learning is poor a substitute for the knowledge you get by actually doing things.</p>\n<p>Obviously ... you can come back and do some more reading later.  And you will probably get more from the reading when you do.</p>\n<hr />\n<p><sup>1 - Context: this is advice to someone who has just finished reading two books on the topic, and is looking for more books to read.  In practice you need to <em>balance</em> reading with doing.</sup></p>\n"},{"tags":[],"owner":{"account_id":103571,"reputation":2272,"user_id":277329,"accept_rate":73,"display_name":"motiver"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1289450355,"creation_date":1289450355,"answer_id":4151402,"question_id":1960280,"body_markdown":"I won&#39;t comment on other technologies but if you want to learn Hibernate get &quot;Hibernate Made Easy&quot; by Cameron McKenzie(www.hiberbook.com). It is worth every penny. You can finish reading that book in 2 days(literally). it is like a novel and at the end you find yourself dealing with Hibernate like a Semi-Pro.","title":"What to learn for making Java web applications in Java EE 6?","body":"<p>I won't comment on other technologies but if you want to learn Hibernate get \"Hibernate Made Easy\" by Cameron McKenzie(www.hiberbook.com). It is worth every penny. You can finish reading that book in 2 days(literally). it is like a novel and at the end you find yourself dealing with Hibernate like a Semi-Pro.</p>\n"},{"tags":[],"owner":{"account_id":1804433,"reputation":1238,"user_id":1641891,"display_name":"Apeirogon Prime"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1348816442,"creation_date":1348816442,"answer_id":12635298,"question_id":1960280,"body_markdown":"If you just want to create web applications in Java, check out the [Play Framework](http://www.playframework.org/). It is similar to &quot;Ruby on Rails&quot;","title":"What to learn for making Java web applications in Java EE 6?","body":"<p>If you just want to create web applications in Java, check out the <a href=\"http://www.playframework.org/\" rel=\"nofollow\">Play Framework</a>. It is similar to \"Ruby on Rails\"</p>\n"},{"tags":[],"owner":{"account_id":1415830,"reputation":7284,"user_id":1341526,"accept_rate":96,"display_name":"jacktrades"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1367747847,"creation_date":1352751462,"answer_id":13350887,"question_id":1960280,"body_markdown":"[Jpassion][1] provides good videos and material to learn Java EE 6 and other stuff. \r\n\r\nYou should also see applications examples:\r\n\r\n1. [Petstore][2]. Requires Maven, Glassfish recommended. Written by Antonio Goncalves who wrote the mentioned [book][3].\r\n2. JBoss [Ticketmonster][4]. Requires Maven &amp; Jboss [Forge][5]. Deploy in Jboss.\r\n\r\n\r\n  [1]: http://www.jpassion.com/portal/java-ee-6-programming-with-passion/java-ee-6-programming-with-passion\r\n  [2]: https://github.com/agoncal/agoncal-application-petstore-ee6\r\n  [3]: http://www.amazon.com/Beginning-GlassFish-Experts-Voice-Technology/dp/143022889X/ref=sr_1_1?ie=UTF8&amp;qid=1352751754&amp;sr=8-1&amp;keywords=antonio%20goncalves\r\n  [4]: https://github.com/jboss-jdf/ticket-monster\r\n  [5]: http://forge.jboss.com","title":"What to learn for making Java web applications in Java EE 6?","body":"<p><a href=\"http://www.jpassion.com/portal/java-ee-6-programming-with-passion/java-ee-6-programming-with-passion\" rel=\"nofollow noreferrer\">Jpassion</a> provides good videos and material to learn Java EE 6 and other stuff. </p>\n\n<p>You should also see applications examples:</p>\n\n<ol>\n<li><a href=\"https://github.com/agoncal/agoncal-application-petstore-ee6\" rel=\"nofollow noreferrer\">Petstore</a>. Requires Maven, Glassfish recommended. Written by Antonio Goncalves who wrote the mentioned <a href=\"https://rads.stackoverflow.com/amzn/click/com/143022889X\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\">book</a>.</li>\n<li>JBoss <a href=\"https://github.com/jboss-jdf/ticket-monster\" rel=\"nofollow noreferrer\">Ticketmonster</a>. Requires Maven &amp; Jboss <a href=\"http://forge.jboss.com\" rel=\"nofollow noreferrer\">Forge</a>. Deploy in Jboss.</li>\n</ol>\n"}],"owner":{"account_id":578067,"reputation":10469,"user_id":238444,"accept_rate":57,"display_name":"creativz"},"comment_count":9,"delete_vote_count":2,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49423,"favorite_count":0,"down_vote_count":0,"up_vote_count":102,"closed_date":1357936841,"accepted_answer_id":1960447,"answer_count":7,"score":102,"last_activity_date":1659623829,"creation_date":1261707497,"question_id":1960280,"body_markdown":"My goal is to make web applications!\r\n\r\nI finished reading the Books &quot;Headfirst - Java&quot; and &quot;Headfirst - Servlets and JSP&quot;.\r\n\r\nBecause this topic (web applications) is so big and complicated, I would like to ask what I should learn next. I feel overstrained when I read catchwords like Java EE, EJB, JSF, JPA, Glassfish ... but I won&#39;t give up.\r\n\r\nCan anyone please tell me how I should proceed with learning? Should I grab a book like this:\r\n&lt;a href=&quot;http://www.amazon.com/gp/product/1430219548/ref=s9_simp_gw_s0_p14_i1?pf_rd_m=ATVPDKIKX0DER&amp;pf_rd_s=center-2&amp;pf_rd_r=0MXHCV9MK4E3SWGQKKQX&amp;pf_rd_t=101&amp;pf_rd_p=470938631&amp;pf_rd_i=507846&quot;&gt;Beginning Java EE 6 Platform with GlassFish 3: From Novice to Professional&lt;/a&gt; or should I just make some Online tutorials?\r\n\r\nThanks!","title":"What to learn for making Java web applications in Java EE 6?","body":"<p>My goal is to make web applications!</p>\n\n<p>I finished reading the Books \"Headfirst - Java\" and \"Headfirst - Servlets and JSP\".</p>\n\n<p>Because this topic (web applications) is so big and complicated, I would like to ask what I should learn next. I feel overstrained when I read catchwords like Java EE, EJB, JSF, JPA, Glassfish ... but I won't give up.</p>\n\n<p>Can anyone please tell me how I should proceed with learning? Should I grab a book like this:\n<a href=\"https://rads.stackoverflow.com/amzn/click/com/1430219548\" rel=\"noreferrer\" rel=\"nofollow noreferrer\">Beginning Java EE 6 Platform with GlassFish 3: From Novice to Professional</a> or should I just make some Online tutorials?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","kotlin","intellij-idea"],"comments":[{"owner":{"account_id":25977727,"reputation":7,"user_id":19691947,"display_name":"Mohit Joshi"},"score":0,"creation_date":1659711892,"post_id":73237037,"comment_id":129367049,"body_markdown":"If it has been there then it already has been checked, so kindly help something useful.","body":"If it has been there then it already has been checked, so kindly help something useful."}],"answers":[{"tags":[],"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659621881,"creation_date":1659621881,"answer_id":73237336,"question_id":73237037,"body_markdown":"You can create the project using `New Project` option:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3YZqb.png\r\n\r\nand add all the needed dependencies/configurations manually as per https://www.jetbrains.com/help/idea/2020.3/javafx.html .\r\n\r\nWhen creating a project with JavaFX project wizard and selecting Maven/Gradle, the IDE will configure everything automatically. E.g. add JavaFX plugin to the pom.xml/build.gradle, download all the needed dependencies, etc... so that you can launch the project out of the box.","title":"Unable to get intellij option instead just getting maven gradle option only","body":"<p>You can create the project using <code>New Project</code> option:</p>\n<p><a href=\"https://i.stack.imgur.com/3YZqb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3YZqb.png\" alt=\"enter image description here\" /></a></p>\n<p>and add all the needed dependencies/configurations manually as per <a href=\"https://www.jetbrains.com/help/idea/2020.3/javafx.html\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/2020.3/javafx.html</a> .</p>\n<p>When creating a project with JavaFX project wizard and selecting Maven/Gradle, the IDE will configure everything automatically. E.g. add JavaFX plugin to the pom.xml/build.gradle, download all the needed dependencies, etc... so that you can launch the project out of the box.</p>\n"}],"owner":{"account_id":25977727,"reputation":7,"user_id":19691947,"display_name":"Mohit Joshi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":1,"score":-2,"last_activity_date":1659623384,"creation_date":1659620630,"question_id":73237037,"body_markdown":"This is my screenshot where you can find that.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/atG7z.jpg","title":"Unable to get intellij option instead just getting maven gradle option only","body":"<p>This is my screenshot where you can find that.</p>\n<p><a href=\"https://i.stack.imgur.com/atG7z.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/atG7z.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","linux","jenkins","appium","apple-m1"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1659634884,"post_id":73237683,"comment_id":129347186,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":13688997,"reputation":658,"user_id":9877340,"display_name":"kenneth"},"score":0,"creation_date":1660295506,"post_id":73237683,"comment_id":129504040,"body_markdown":"My guess is that Jenkins is installed on Mac OS X on a jenkins user account and not the local account where Appium is installed. Jenkins cannot access programs from another user on Mac. Do you login on SSH with the jenkins user or the local user account? My solution was to have Appium Desktop running on the Mac, then the Jenkins job was able to access the localhost Appium server.","body":"My guess is that Jenkins is installed on Mac OS X on a jenkins user account and not the local account where Appium is installed. Jenkins cannot access programs from another user on Mac. Do you login on SSH with the jenkins user or the local user account? My solution was to have Appium Desktop running on the Mac, then the Jenkins job was able to access the localhost Appium server."},{"owner":{"account_id":18981658,"reputation":1,"user_id":13852926,"display_name":"Yurii"},"score":0,"creation_date":1660397709,"post_id":73237683,"comment_id":129526385,"body_markdown":"I log in with local user account via SSH.\nYes, that is what I&#39;ve done (as a workaround), started appium in the Terminal and left it running.\nThanks for your reply.","body":"I log in with local user account via SSH. Yes, that is what I&#39;ve done (as a workaround), started appium in the Terminal and left it running. Thanks for your reply."}],"owner":{"account_id":18981658,"reputation":1,"user_id":13852926,"display_name":"Yurii"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659623270,"creation_date":1659623270,"question_id":73237683,"body_markdown":"This is what I got when trying to run tests:\r\n```java.io.IOException: Cannot run program &quot;appium&quot;: error=2, No such file or directory```\r\n\r\n```appium -v``` from Jenkins job shows current version, so it CAN see Appium;\r\n\r\nConnecting from another mac via SSH and running tests with the same command works fine as well\r\n\r\nLooks like the issue is in Jenkins master.\r\n\r\nSlave is connected via SSH.\r\n\r\nMaster is running Linux, but I don’t have an access to it, yet.\r\n\r\nAny suggestions are very appreciated.\r\n\r\n","title":"Can&#39;t run Appium programatically on Apple M1 with Java via Jenkins","body":"<p>This is what I got when trying to run tests:\n<code>java.io.IOException: Cannot run program &quot;appium&quot;: error=2, No such file or directory</code></p>\n<p><code>appium -v</code> from Jenkins job shows current version, so it CAN see Appium;</p>\n<p>Connecting from another mac via SSH and running tests with the same command works fine as well</p>\n<p>Looks like the issue is in Jenkins master.</p>\n<p>Slave is connected via SSH.</p>\n<p>Master is running Linux, but I don’t have an access to it, yet.</p>\n<p>Any suggestions are very appreciated.</p>\n"},{"tags":["java","intellij-idea","blobstore"],"answers":[{"tags":[],"owner":{"account_id":16959839,"reputation":1945,"user_id":12267227,"display_name":"Silny ToJa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659623168,"creation_date":1659623168,"answer_id":73237653,"question_id":73232503,"body_markdown":"I hit perfectly the limit of the path length for windows, it threw an error because the path passed to\r\n`UserDefinedFileAttributeView view = getUserDefinedFileAttributeView(file.toPath());` it was too long.\r\n\r\n","title":"Java blobstore method completeMultipartUpload throw null pointer exception for checkNotNull","body":"<p>I hit perfectly the limit of the path length for windows, it threw an error because the path passed to\n<code>UserDefinedFileAttributeView view = getUserDefinedFileAttributeView(file.toPath());</code> it was too long.</p>\n"}],"owner":{"account_id":16959839,"reputation":1945,"user_id":12267227,"display_name":"Silny ToJa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659623168,"creation_date":1659600850,"question_id":73232503,"body_markdown":"I have a problem with saving .csv files by multi parts. In this part of the code:  \r\n\r\n    @Override\r\n    public String completeMultipartUpload(MultipartUpload mpu, List&lt;MultipartPart&gt; parts) {\r\n      ImmutableList.Builder&lt;Blob&gt; blobs = ImmutableList.builder();\r\n      long contentLength = 0;\r\n      Hasher md5Hasher = Hashing.md5().newHasher();\r\n\r\n      for (MultipartPart part : parts) {\r\n         Blob blobPart = getBlob(mpu.containerName(), MULTIPART_PREFIX + mpu.id() + &quot;-&quot; + mpu.blobName() + &quot;-&quot; + part.partNumber());\r\n         contentLength += blobPart.getMetadata().getContentMetadata().getContentLength();\r\n         blobs.add(blobPart);\r\n         md5Hasher.putBytes(BaseEncoding.base16().lowerCase().decode(blobPart.getMetadata().getETag()));\r\n      }\r\n    \r\nThe problem occurs on my computer, the program works for other people. Namely, for a given part of the code, `blobPart.getMetadata().GetETag()` always for the first 9 parts work fine. And for part 10 and each subsequent part does return a null value for ETag, which then causes an error NullPointerException.\r\nAll `List&lt;MultipartPart&gt; parts` are adding in the same way. All have correct property.\r\n\r\nI think it is problem with my Environment. I tried:\r\n* reinstall IntelliJ\r\n* reinstall Java/use a different version\r\n* remove all libraries and install again\r\n\r\nOr maybe something with encoding?\r\nOther people for which it works are from another country, and I can see there is `BaseEncoding.base16()`?\r\n\r\nStackTrace:\r\n\r\n&gt; java.lang.NullPointerException: null\r\n\tat com.google.common.base.Preconditions.checkNotNull(Preconditions.java:878)\r\n\tat com.google.common.io.BaseEncoding$StandardBaseEncoding.trimTrailingPadding(BaseEncoding.java:676)\r\n\tat com.google.common.io.BaseEncoding.decodeChecked(BaseEncoding.java:231)\r\n\tat com.google.common.io.BaseEncoding.decode(BaseEncoding.java:217)\r\n\tat org.jclouds.blobstore.config.LocalBlobStore.completeMultipartUpload(LocalBlobStore.java:843)","title":"Java blobstore method completeMultipartUpload throw null pointer exception for checkNotNull","body":"<p>I have a problem with saving .csv files by multi parts. In this part of the code:</p>\n<pre><code>@Override\npublic String completeMultipartUpload(MultipartUpload mpu, List&lt;MultipartPart&gt; parts) {\n  ImmutableList.Builder&lt;Blob&gt; blobs = ImmutableList.builder();\n  long contentLength = 0;\n  Hasher md5Hasher = Hashing.md5().newHasher();\n\n  for (MultipartPart part : parts) {\n     Blob blobPart = getBlob(mpu.containerName(), MULTIPART_PREFIX + mpu.id() + &quot;-&quot; + mpu.blobName() + &quot;-&quot; + part.partNumber());\n     contentLength += blobPart.getMetadata().getContentMetadata().getContentLength();\n     blobs.add(blobPart);\n     md5Hasher.putBytes(BaseEncoding.base16().lowerCase().decode(blobPart.getMetadata().getETag()));\n  }\n</code></pre>\n<p>The problem occurs on my computer, the program works for other people. Namely, for a given part of the code, <code>blobPart.getMetadata().GetETag()</code> always for the first 9 parts work fine. And for part 10 and each subsequent part does return a null value for ETag, which then causes an error NullPointerException.\nAll <code>List&lt;MultipartPart&gt; parts</code> are adding in the same way. All have correct property.</p>\n<p>I think it is problem with my Environment. I tried:</p>\n<ul>\n<li>reinstall IntelliJ</li>\n<li>reinstall Java/use a different version</li>\n<li>remove all libraries and install again</li>\n</ul>\n<p>Or maybe something with encoding?\nOther people for which it works are from another country, and I can see there is <code>BaseEncoding.base16()</code>?</p>\n<p>StackTrace:</p>\n<blockquote>\n<p>java.lang.NullPointerException: null\nat com.google.common.base.Preconditions.checkNotNull(Preconditions.java:878)\nat com.google.common.io.BaseEncoding$StandardBaseEncoding.trimTrailingPadding(BaseEncoding.java:676)\nat com.google.common.io.BaseEncoding.decodeChecked(BaseEncoding.java:231)\nat com.google.common.io.BaseEncoding.decode(BaseEncoding.java:217)\nat org.jclouds.blobstore.config.LocalBlobStore.completeMultipartUpload(LocalBlobStore.java:843)</p>\n</blockquote>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1659458400,"post_id":73210936,"comment_id":129297833,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":18983511,"reputation":36,"user_id":13854410,"display_name":"Lucas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659622982,"creation_date":1659462706,"answer_id":73211711,"question_id":73210936,"body_markdown":"make sure for when declaring color in your xml file you use\r\n\r\nandroid:textcolor=&quot;@color/white&quot; // for text color\r\nandroid:backgroundTint=&quot;@color/black&quot; // for button background color\r\n\r\n\r\nalso in your activitymain.java\r\nI find it easier declaring your onclicks there\r\n\r\n\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        Button buttonnamegoeshere;\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n\r\n            buttonnamegoeshere = findViewById(R.id.buttonnamegoeshere);\r\n            buttonnamegoeshere.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    //button code goes hereenter code here\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n\r\nHope this helps!\r\n\r\n\r\n","title":"Android studio button has no onclick option error message box","body":"<p>make sure for when declaring color in your xml file you use</p>\n<p>android:textcolor=&quot;@color/white&quot; // for text color\nandroid:backgroundTint=&quot;@color/black&quot; // for button background color</p>\n<p>also in your activitymain.java\nI find it easier declaring your onclicks there</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    Button buttonnamegoeshere;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        buttonnamegoeshere = findViewById(R.id.buttonnamegoeshere);\n        buttonnamegoeshere.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                //button code goes hereenter code here\n            }\n        });\n    }\n}\n</code></pre>\n<p>Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":20013244,"reputation":1040,"user_id":14669853,"display_name":"Cactusroot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659531178,"creation_date":1659463197,"answer_id":73211800,"question_id":73210936,"body_markdown":"Add it via xml.\r\n\r\nYou&#39;ll find your button in there, declare onClick like this:\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/button&quot;\r\n        android:onClick=&quot;doSomething&quot;\r\n        ... /&gt;\r\n\r\nin your `MainActivity.java`:\r\n\r\n    public void doSomething(View v) {\r\n        System.out.println(&quot;Clicked&quot;);\r\n    }\r\n\r\n---\r\n\r\nNevertheless, it&#39;s better style to get the button by id and apply an `OnClickListener`:\r\n\r\n    Button button = findViewById(R.id.button);\r\n    button.setOnClickListener(() -&gt; {\r\n        System.out.println(&quot;Clicked&quot;);\r\n    });\r\n\r\n---\r\n\r\nThe color-error is caused by a missing color in `res/values/colors.xml`.\r\n\r\nYou&#39;ll have to add your color there like this:\r\n\r\n    &lt;resources&gt;\r\n        &lt;color name=&quot;teal_200&quot;&gt;#FF0033&lt;/color&gt;\r\n    &lt;/resources&gt;\r\n","title":"Android studio button has no onclick option error message box","body":"<p>Add it via xml.</p>\n<p>You'll find your button in there, declare onClick like this:</p>\n<pre><code>&lt;Button\n    android:id=&quot;@+id/button&quot;\n    android:onClick=&quot;doSomething&quot;\n    ... /&gt;\n</code></pre>\n<p>in your <code>MainActivity.java</code>:</p>\n<pre><code>public void doSomething(View v) {\n    System.out.println(&quot;Clicked&quot;);\n}\n</code></pre>\n<hr />\n<p>Nevertheless, it's better style to get the button by id and apply an <code>OnClickListener</code>:</p>\n<pre><code>Button button = findViewById(R.id.button);\nbutton.setOnClickListener(() -&gt; {\n    System.out.println(&quot;Clicked&quot;);\n});\n</code></pre>\n<hr />\n<p>The color-error is caused by a missing color in <code>res/values/colors.xml</code>.</p>\n<p>You'll have to add your color there like this:</p>\n<pre><code>&lt;resources&gt;\n    &lt;color name=&quot;teal_200&quot;&gt;#FF0033&lt;/color&gt;\n&lt;/resources&gt;\n</code></pre>\n"}],"owner":{"account_id":25959599,"reputation":1,"user_id":19676430,"display_name":"prasoon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":295,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":2,"score":-3,"last_activity_date":1659622982,"creation_date":1659458359,"question_id":73210936,"body_markdown":"I&#39;m currently learning to make apps in android studio. When I drag a button object into the activity_main.xml,it does not show me the &quot;onclick&quot; option under the &quot;Declare Attributes&quot;.\r\n\r\nThe only error I&#39;m getting is :\r\n\r\n\r\nCouldn&#39;t resolve resource @color/teal_200\r\nI dont think it has anything to do with my problem but still...\r\n\r\nAny help would be appriciated,thank you!","title":"Android studio button has no onclick option error message box","body":"<p>I'm currently learning to make apps in android studio. When I drag a button object into the activity_main.xml,it does not show me the &quot;onclick&quot; option under the &quot;Declare Attributes&quot;.</p>\n<p>The only error I'm getting is :</p>\n<p>Couldn't resolve resource @color/teal_200\nI dont think it has anything to do with my problem but still...</p>\n<p>Any help would be appriciated,thank you!</p>\n"},{"tags":["java","java-11","adoptopenjdk"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1584242837,"post_id":60689292,"comment_id":107375391,"body_markdown":"I like [Corretto](https://docs.aws.amazon.com/corretto/latest/corretto-11-ug/what-is-corretto-11.html), but there are other choices. Sadly, your question boils down to opinion. No one knows which distribution is going to prove &quot;ideal&quot; in all circumstances.","body":"I like <a href=\"https://docs.aws.amazon.com/corretto/latest/corretto-11-ug/what-is-corretto-11.html\" rel=\"nofollow noreferrer\">Corretto</a>, but there are other choices. Sadly, your question boils down to opinion. No one knows which distribution is going to prove &quot;ideal&quot; in all circumstances."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1584245547,"post_id":60689292,"comment_id":107375750,"body_markdown":"If you want a watertight guarantee that you will get all of the Oracle security patches to an LTS JDK, stay with Oracle.  For anything else, you are depending on another vendor to integrate the Oracle-orignated patches in their version.  OTOH, you are also relying on Oracle (or someone else) continuing to create and distribute the patches in the first place.  As Elliott says, any predictions of future vendor behavior are pure opinion.","body":"If you want a watertight guarantee that you will get all of the Oracle security patches to an LTS JDK, stay with Oracle.  For anything else, you are depending on another vendor to integrate the Oracle-orignated patches in their version.  OTOH, you are also relying on Oracle (or someone else) continuing to create and distribute the patches in the first place.  As Elliott says, any predictions of future vendor behavior are pure opinion."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1584245630,"post_id":60689292,"comment_id":107375767,"body_markdown":"(As they say, only two things are certain in the world: death and taxes.)","body":"(As they say, only two things are certain in the world: death and taxes.)"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1659622850,"creation_date":1584250534,"answer_id":60690032,"question_id":60689292,"body_markdown":"# tl;dr\r\n\r\nIf you want the most rapid release of critical security patches, pay for a support plan from a vendor such as Azul systems, BellSoft, Oracle, Pivotal, or Red Hat (IBM). \r\n\r\nTo better understand the current state of the world of Java releases, you *really* should study the document [*Java Is Still Free*](https://medium.com/@javachampions/java-is-still-free-3-0-0-ocrt-2021-bca75c88d23b). Written by the *Java Champions* community of independent Java leaders and experts.\r\n\r\n\r\n# Details\r\n\r\n&gt;With changes in JDK licensing agreement from Oracle, companies are switching to OpenJDK.\r\n\r\nTo be clear here, you may be referring to Oracle changing the terms to their *Oracle JDK* product to require a fee when used in production. That product is still free-of-cost for use in development, testing, and such. \r\n\r\n&gt;My question is - which distribution of the OpenJDK would be a better choice?\r\n\r\nAnswering that depends on the criteria important to you. But you did not mention any criteria other than needing security updates rapidly (more on that below).\r\n\r\n&gt;I am evaluating Oracle Open JDK and AdoptOpenJDK, and they both seems to be an idea choice.. \r\n\r\nBe clear on this: The [OpenJDK][1] project publishes source code only, not builds nor installers. Many vendors provide builds/installers based on the OpenJDK source code. \r\n\r\nOracle is one such vendor, providing three products:\r\n\r\n - *Oracle JDK* — their branded product requiring a fee for production use, with paid support available. \r\n - *jdk.java.net* — a build of OpenJDK without any fees and without any support.\r\n - [*GraalVM*][2] —&#160;a special product, a Java VM and JDK based on HotSpot/OpenJDK, implemented in Java, and supporting additional programming languages and execution modes, like ahead-of-time compilation of Java applications for fast startup and low memory footprint.\r\n\r\nAll three of these are based on OpenJDK source code.  The first and last offer paid support programs. \r\n\r\n**Oracle has publicly declared their intent to keep *Oracle JDK* at feature-parity with OpenJDK**. Oracle sponsors the OpenJDK project as part of that commitment. At the same time, Oracle reserves the right to rapidly release any critical security patch to their paying customers. They will eventually submit such patches to the OpenJDK project. But those submitted patches are likely to take more time to go through the OpenJDK process before being released.\r\n\r\n*AdoptOpenJDK* is another vendor offering builds and installers of the OpenJDK source code base. So, again, any critical security patches may not reach the public free-of-charge as fast as a patch from another vendor to their paying customers.\r\n\r\nHere is a flow chart I made to help guide you in your selection of a vendor for a Java implementation. You have a variety of choices, some with support options.\r\n\r\n\r\n[![Flowchart guiding you in choosing a vendor for a Java 11 implementation][4]][4]\r\n\r\n\r\n&gt;However when it comes to support, Oracle OpenJDK is following a 6 month release cadence without any Long term support, however AdoptOpenJDK has LTS for Java version 8 and 11. \r\n\r\nI believe you are incorrect here. Oracle does maintain LTS updates to their *Oracle JDK* product for both Java 8 and Java 11, for some number of years to the public, and for additional years to their paying customers.\r\n\r\nThe Java community is much more cooperative in working together than you may understand. Every implementation of Java I know of is largely based on the OpenJDK project. The OpenJDK project is supported by Oracle, Apple, IBM, SAP, and possibly others. Amazon, Microsoft, and other companies contribute. The rapid release train and [Long-Term Support (LTS)][5] strategy has been embraced by the entire Java community. \r\n\r\nOracle has [turned over stewardship of the LTS versions 8 and 11 to Red Hat][6], but Oracle continues to support them both. See the [*Oracle Java SE Support Roadmap*](https://www.oracle.com/java/technologies/java-se-support-roadmap.html) for details.\r\n\r\n&gt; So if I switch to Oracle OpenJDK, then I will have to follow the new release cadence to be up to data with security patches \r\n\r\nEvery Java implementation I know of is following along the same release cadence. \r\n\r\n&gt;(I don&#39;t care much about the new features),\r\n\r\nThen you should certainly stick to using only the LTS versions. Currently that would be Java 8 and Java 11. \r\n\r\n&gt;If I switch to AdoptOpenJDK, then I can go with one of their LTS version (11), and expect the new security patches will be applied to this version.\r\n\r\nYou can expect security patches from any vendor providing a Java implementation. The question is how rapidly those patches will arrive to you.\r\n\r\n&gt;My main concern is, I wanted to be up to date with Java security updates \r\n\r\nThen I recommend you purchase a paid support plan from a reliable vendor. You have a choice of several. See the left side of the blue barrel in my diagram above.\r\n\r\nIf you think the chance of critical security vulnerability affecting you specifically is exceedingly low, or that you are likely to be able to mitigate such a vulnerability, then the cost of a support plan may not be worth it to you. In this case, you would wait for a newer free-of-cost release. You may be waiting longer than you would with a paid vendor. \r\n\r\n&gt;after switching to OpenJDK distribution.\r\n\r\nEvery Java implementation I know of being distributed today is based on OpenJDK.\r\n\r\nHere is another graphic listing possible motivations for choosing a particular vendor for your Java implementation. \r\n\r\n[![Motivations in choosing a vendor for Java][7]][7]\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/OpenJDK\r\n  [2]: https://en.wikipedia.org/wiki/GraalVM\r\n  [3]: https://i.stack.imgur.com/qRpa4.png\r\n  [4]: https://i.stack.imgur.com/cQTNP.png\r\n  [5]: https://en.wikipedia.org/wiki/Long-term_support\r\n  [6]: https://www.theserverside.com/news/252461945/Red-Hat-replaces-Oracle-as-OpenJDK-8-OpenJDK-11-steward\r\n  [7]: https://i.stack.imgur.com/o9Laa.png","title":"Security Updates with OpenJDK distribution","body":"<h1>tl;dr</h1>\n<p>If you want the most rapid release of critical security patches, pay for a support plan from a vendor such as Azul systems, BellSoft, Oracle, Pivotal, or Red Hat (IBM).</p>\n<p>To better understand the current state of the world of Java releases, you <em>really</em> should study the document <a href=\"https://medium.com/@javachampions/java-is-still-free-3-0-0-ocrt-2021-bca75c88d23b\" rel=\"nofollow noreferrer\"><em>Java Is Still Free</em></a>. Written by the <em>Java Champions</em> community of independent Java leaders and experts.</p>\n<h1>Details</h1>\n<blockquote>\n<p>With changes in JDK licensing agreement from Oracle, companies are switching to OpenJDK.</p>\n</blockquote>\n<p>To be clear here, you may be referring to Oracle changing the terms to their <em>Oracle JDK</em> product to require a fee when used in production. That product is still free-of-cost for use in development, testing, and such.</p>\n<blockquote>\n<p>My question is - which distribution of the OpenJDK would be a better choice?</p>\n</blockquote>\n<p>Answering that depends on the criteria important to you. But you did not mention any criteria other than needing security updates rapidly (more on that below).</p>\n<blockquote>\n<p>I am evaluating Oracle Open JDK and AdoptOpenJDK, and they both seems to be an idea choice..</p>\n</blockquote>\n<p>Be clear on this: The <a href=\"https://en.wikipedia.org/wiki/OpenJDK\" rel=\"nofollow noreferrer\">OpenJDK</a> project publishes source code only, not builds nor installers. Many vendors provide builds/installers based on the OpenJDK source code.</p>\n<p>Oracle is one such vendor, providing three products:</p>\n<ul>\n<li><em>Oracle JDK</em> — their branded product requiring a fee for production use, with paid support available.</li>\n<li><em>jdk.java.net</em> — a build of OpenJDK without any fees and without any support.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/GraalVM\" rel=\"nofollow noreferrer\"><em>GraalVM</em></a> — a special product, a Java VM and JDK based on HotSpot/OpenJDK, implemented in Java, and supporting additional programming languages and execution modes, like ahead-of-time compilation of Java applications for fast startup and low memory footprint.</li>\n</ul>\n<p>All three of these are based on OpenJDK source code.  The first and last offer paid support programs.</p>\n<p><strong>Oracle has publicly declared their intent to keep <em>Oracle JDK</em> at feature-parity with OpenJDK</strong>. Oracle sponsors the OpenJDK project as part of that commitment. At the same time, Oracle reserves the right to rapidly release any critical security patch to their paying customers. They will eventually submit such patches to the OpenJDK project. But those submitted patches are likely to take more time to go through the OpenJDK process before being released.</p>\n<p><em>AdoptOpenJDK</em> is another vendor offering builds and installers of the OpenJDK source code base. So, again, any critical security patches may not reach the public free-of-charge as fast as a patch from another vendor to their paying customers.</p>\n<p>Here is a flow chart I made to help guide you in your selection of a vendor for a Java implementation. You have a variety of choices, some with support options.</p>\n<p><a href=\"https://i.stack.imgur.com/cQTNP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cQTNP.png\" alt=\"Flowchart guiding you in choosing a vendor for a Java 11 implementation\" /></a></p>\n<blockquote>\n<p>However when it comes to support, Oracle OpenJDK is following a 6 month release cadence without any Long term support, however AdoptOpenJDK has LTS for Java version 8 and 11.</p>\n</blockquote>\n<p>I believe you are incorrect here. Oracle does maintain LTS updates to their <em>Oracle JDK</em> product for both Java 8 and Java 11, for some number of years to the public, and for additional years to their paying customers.</p>\n<p>The Java community is much more cooperative in working together than you may understand. Every implementation of Java I know of is largely based on the OpenJDK project. The OpenJDK project is supported by Oracle, Apple, IBM, SAP, and possibly others. Amazon, Microsoft, and other companies contribute. The rapid release train and <a href=\"https://en.wikipedia.org/wiki/Long-term_support\" rel=\"nofollow noreferrer\">Long-Term Support (LTS)</a> strategy has been embraced by the entire Java community.</p>\n<p>Oracle has <a href=\"https://www.theserverside.com/news/252461945/Red-Hat-replaces-Oracle-as-OpenJDK-8-OpenJDK-11-steward\" rel=\"nofollow noreferrer\">turned over stewardship of the LTS versions 8 and 11 to Red Hat</a>, but Oracle continues to support them both. See the <a href=\"https://www.oracle.com/java/technologies/java-se-support-roadmap.html\" rel=\"nofollow noreferrer\"><em>Oracle Java SE Support Roadmap</em></a> for details.</p>\n<blockquote>\n<p>So if I switch to Oracle OpenJDK, then I will have to follow the new release cadence to be up to data with security patches</p>\n</blockquote>\n<p>Every Java implementation I know of is following along the same release cadence.</p>\n<blockquote>\n<p>(I don't care much about the new features),</p>\n</blockquote>\n<p>Then you should certainly stick to using only the LTS versions. Currently that would be Java 8 and Java 11.</p>\n<blockquote>\n<p>If I switch to AdoptOpenJDK, then I can go with one of their LTS version (11), and expect the new security patches will be applied to this version.</p>\n</blockquote>\n<p>You can expect security patches from any vendor providing a Java implementation. The question is how rapidly those patches will arrive to you.</p>\n<blockquote>\n<p>My main concern is, I wanted to be up to date with Java security updates</p>\n</blockquote>\n<p>Then I recommend you purchase a paid support plan from a reliable vendor. You have a choice of several. See the left side of the blue barrel in my diagram above.</p>\n<p>If you think the chance of critical security vulnerability affecting you specifically is exceedingly low, or that you are likely to be able to mitigate such a vulnerability, then the cost of a support plan may not be worth it to you. In this case, you would wait for a newer free-of-cost release. You may be waiting longer than you would with a paid vendor.</p>\n<blockquote>\n<p>after switching to OpenJDK distribution.</p>\n</blockquote>\n<p>Every Java implementation I know of being distributed today is based on OpenJDK.</p>\n<p>Here is another graphic listing possible motivations for choosing a particular vendor for your Java implementation.</p>\n<p><a href=\"https://i.stack.imgur.com/o9Laa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/o9Laa.png\" alt=\"Motivations in choosing a vendor for Java\" /></a></p>\n"}],"owner":{"account_id":179113,"reputation":5420,"user_id":411540,"accept_rate":78,"display_name":"Vicky"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2164,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"closed_date":1584284271,"accepted_answer_id":60690032,"answer_count":1,"score":3,"last_activity_date":1659622850,"creation_date":1584240572,"question_id":60689292,"body_markdown":"With changes in JDK licensing agreement from Oracle, companies are switching to OpenJDK.\r\n\r\nMy question is - which distribution of the OpenJDK would be a better choice? I am evaluating Oracle Open JDK and AdoptOpenJDK, and they both seems to be an idea choice.. However when it comes to support, Oracle OpenJDK is following a 6 month release cadence without any Long term support, however AdoptOpenJDK has LTS for Java version 8 and 11. So if I switch to Oracle OpenJDK, then I will have to follow the new release cadence to be up to data with security patches (I don&#39;t care much about the new features), however If I switch to AdoptOpenJDK, then I can go with one of their LTS version (11), and expect the new security patches will be applied to this version. My main concern is, I wanted to be up to date with Java security updates after switching to OpenJDK distribution.\r\n\r\nReferences\r\nhttps://www.reddit.com/r/java/comments/9hd97k/openjdk_vs_adoptopenjdk/\r\n\r\nhttps://www.baeldung.com/oracle-jdk-vs-openjdk","title":"Security Updates with OpenJDK distribution","body":"<p>With changes in JDK licensing agreement from Oracle, companies are switching to OpenJDK.</p>\n\n<p>My question is - which distribution of the OpenJDK would be a better choice? I am evaluating Oracle Open JDK and AdoptOpenJDK, and they both seems to be an idea choice.. However when it comes to support, Oracle OpenJDK is following a 6 month release cadence without any Long term support, however AdoptOpenJDK has LTS for Java version 8 and 11. So if I switch to Oracle OpenJDK, then I will have to follow the new release cadence to be up to data with security patches (I don't care much about the new features), however If I switch to AdoptOpenJDK, then I can go with one of their LTS version (11), and expect the new security patches will be applied to this version. My main concern is, I wanted to be up to date with Java security updates after switching to OpenJDK distribution.</p>\n\n<p>References\n<a href=\"https://www.reddit.com/r/java/comments/9hd97k/openjdk_vs_adoptopenjdk/\" rel=\"nofollow noreferrer\">https://www.reddit.com/r/java/comments/9hd97k/openjdk_vs_adoptopenjdk/</a></p>\n\n<p><a href=\"https://www.baeldung.com/oracle-jdk-vs-openjdk\" rel=\"nofollow noreferrer\">https://www.baeldung.com/oracle-jdk-vs-openjdk</a></p>\n"},{"tags":["javascript","java","android","shell","lua"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1605651111,"post_id":64883948,"comment_id":114715753,"body_markdown":"The lua script lacks some code. But do you know what should be done by the missing code?","body":"The lua script lacks some code. But do you know what should be done by the missing code?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1605651186,"post_id":64883948,"comment_id":114715779,"body_markdown":"A normal file explorer app will show the files without reboot. So you can find them.","body":"A normal file explorer app will show the files without reboot. So you can find them."},{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1605651229,"post_id":64883948,"comment_id":114715793,"body_markdown":"Figure out in what environment the Lua script is running (Termux, custom interpreter, rooted device) and then research how to update MediaStore in that environment.","body":"Figure out in what environment the Lua script is running (Termux, custom interpreter, rooted device) and then research how to update MediaStore in that environment."},{"owner":{"account_id":17788649,"reputation":1060,"user_id":12918181,"display_name":"Darius"},"score":0,"creation_date":1605662795,"post_id":64883948,"comment_id":114718691,"body_markdown":"May be it will give you some hints: https://stackoverflow.com/a/14849652/12918181","body":"May be it will give you some hints: <a href=\"https://stackoverflow.com/a/14849652/12918181\">stackoverflow.com/a/14849652/12918181</a>"}],"answers":[{"tags":[],"owner":{"account_id":19968812,"reputation":15,"user_id":14634788,"display_name":"xiaoxiao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605763658,"creation_date":1605763658,"answer_id":64905885,"question_id":64883948,"body_markdown":"Everything depends on you:\r\n\r\n    path = userPath()..&quot;/res/1.mp4&quot;\r\n    os.execute(&quot;am broadcast -a android.intent.action.MEDIA_SCANNER_SCAN_FILE -d file://&quot;..path)","title":"How to update Android MediaStore in time by lua script?","body":"<p>Everything depends on you:</p>\n<pre><code>path = userPath()..&quot;/res/1.mp4&quot;\nos.execute(&quot;am broadcast -a android.intent.action.MEDIA_SCANNER_SCAN_FILE -d file://&quot;..path)\n</code></pre>\n"}],"owner":{"account_id":19968812,"reputation":15,"user_id":14634788,"display_name":"xiaoxiao"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1659622719,"creation_date":1605650255,"question_id":64883948,"body_markdown":"The lua script will download pictures and videos on your Android phone, you need to restart your phone to find it. After searching for related information, I found that it is related to MediaStore, but the lua script code does not know how to write it. can you help me? Thank you","title":"How to update Android MediaStore in time by lua script?","body":"<p>The lua script will download pictures and videos on your Android phone, you need to restart your phone to find it. After searching for related information, I found that it is related to MediaStore, but the lua script code does not know how to write it. can you help me? Thank you</p>\n"},{"tags":["java","html","web"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1659622697,"post_id":73237346,"comment_id":129342672,"body_markdown":"Why use `&#182;` at all? The `textarea` should preserve the line separators while sending it to server (browser may ignore them while presenting it, but they will be there). For now this looks like [XY problem](https://meta.stackexchange.com/q/66377).","body":"Why use <code>&#182;</code> at all? The <code>textarea</code> should preserve the line separators while sending it to server (browser may ignore them while presenting it, but they will be there). For now this looks like <a href=\"https://meta.stackexchange.com/q/66377\">XY problem</a>."},{"owner":{"account_id":8002132,"reputation":91,"user_id":6036601,"accept_rate":25,"display_name":"ibobo"},"score":0,"creation_date":1659623539,"post_id":73237346,"comment_id":129343054,"body_markdown":"the software I use, to generate text with new line you need to use &#182;, then that generated text is used to generate a javascript","body":"the software I use, to generate text with new line you need to use &#182;, then that generated text is used to generate a javascript"}],"answers":[{"tags":[],"owner":{"account_id":8002132,"reputation":91,"user_id":6036601,"accept_rate":25,"display_name":"ibobo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659622246,"creation_date":1659622246,"answer_id":73237414,"question_id":73237346,"body_markdown":"Find out, replace &quot;&#182;&quot; by &quot;\\n&quot;","title":"Simulate Input text in a field with new line","body":"<p>Find out, replace &quot;¶&quot; by &quot;\\n&quot;</p>\n"}],"owner":{"account_id":8002132,"reputation":91,"user_id":6036601,"accept_rate":25,"display_name":"ibobo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659622246,"creation_date":1659621920,"question_id":73237346,"body_markdown":"I add a text in a field of a contact form with this script\r\n \r\n`document.getElementById(&#39;IDtextarea&#39;).value = &#39;Hello &#182; Would you&#39;;`\r\n\r\n\r\nI don&#39;t know how simulate new line ? How can I do it ? ","title":"Simulate Input text in a field with new line","body":"<p>I add a text in a field of a contact form with this script</p>\n<p><code>document.getElementById('IDtextarea').value = 'Hello ¶ Would you';</code></p>\n<p>I don't know how simulate new line ? How can I do it ?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659622229,"creation_date":1659622229,"answer_id":73237408,"question_id":73237351,"body_markdown":"From [the docs](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#whenComplete-java.util.function.BiConsumer-) (emphasis mine)\r\n\r\n&gt;     public CompletableFuture&lt;T&gt; whenComplete(BiConsumer&lt;? super T,? super Throwable&gt; action)\r\n&gt;\r\n&gt; Description copied from interface: `CompletionStage`\r\n&gt;\r\n&gt; Returns a new `CompletionStage` with the same result or exception as this stage, that executes the given action when this stage completes.\r\n&gt;\r\n&gt; When this stage is complete, the given action is invoked with the result (or `null` if none) and the exception (or `null` if none) of this stage as arguments. The returned stage is completed when the action returns. **If the supplied action itself encounters an exception, then the returned stage exceptionally completes with this exception unless this stage also completed exceptionally.**\r\n\r\n`whenComplete` returns a new `CompletableFuture`. `CompletableFuture` keeps track of what exception (if any) has occurred and expects you to deal with it. By ignoring the return value, you&#39;re suppressing the exception.\r\n\r\nTo wait on the result of the future, or throw if it throws, use [`join`](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#join--).\r\n\r\n```\r\nc.whenComplete((unused, throwable) -&gt; {\r\n  System.out.println((5/0));\r\n  throw new RuntimeException(&quot;I am throwing an exception&quot;);\r\n}).join();\r\n```","title":"Exception is not being logged/throwed inside of completable future","body":"<p>From <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#whenComplete-java.util.function.BiConsumer-\" rel=\"nofollow noreferrer\">the docs</a> (emphasis mine)</p>\n<blockquote>\n<pre><code>public CompletableFuture&lt;T&gt; whenComplete(BiConsumer&lt;? super T,? super Throwable&gt; action)\n</code></pre>\n<p>Description copied from interface: <code>CompletionStage</code></p>\n<p>Returns a new <code>CompletionStage</code> with the same result or exception as this stage, that executes the given action when this stage completes.</p>\n<p>When this stage is complete, the given action is invoked with the result (or <code>null</code> if none) and the exception (or <code>null</code> if none) of this stage as arguments. The returned stage is completed when the action returns. <strong>If the supplied action itself encounters an exception, then the returned stage exceptionally completes with this exception unless this stage also completed exceptionally.</strong></p>\n</blockquote>\n<p><code>whenComplete</code> returns a new <code>CompletableFuture</code>. <code>CompletableFuture</code> keeps track of what exception (if any) has occurred and expects you to deal with it. By ignoring the return value, you're suppressing the exception.</p>\n<p>To wait on the result of the future, or throw if it throws, use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#join--\" rel=\"nofollow noreferrer\"><code>join</code></a>.</p>\n<pre><code>c.whenComplete((unused, throwable) -&gt; {\n  System.out.println((5/0));\n  throw new RuntimeException(&quot;I am throwing an exception&quot;);\n}).join();\n</code></pre>\n"}],"owner":{"account_id":19658232,"reputation":87,"user_id":14390355,"display_name":"korallo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73237408,"answer_count":1,"score":1,"last_activity_date":1659622229,"creation_date":1659621963,"question_id":73237351,"body_markdown":"I just realised that exception inside of whenComplete, in completable future is not being logged/throwed. Can someone explain that? How to properly use whenComplete?\r\n\r\n    public static void main(String[] args) {\r\n\r\n        var c =   CompletableFuture.runAsync(() -&gt; {\r\n            System.out.println(&quot;done&quot;);\r\n\r\n        });\r\n\r\n        c.whenComplete((unused, throwable) -&gt; {\r\n\r\n            System.out.println((5/0));\r\n\r\n\r\n            throw new RuntimeException(&quot;I am throwing an exception&quot;);\r\n\r\n\r\n\r\n        });\r\n\r\n        System.out.println(&quot;ok&quot;);\r\n    }\r\n\r\n\r\noutput of this block of code\r\n\r\n\r\ndone  \r\nok","title":"Exception is not being logged/throwed inside of completable future","body":"<p>I just realised that exception inside of whenComplete, in completable future is not being logged/throwed. Can someone explain that? How to properly use whenComplete?</p>\n<pre><code>public static void main(String[] args) {\n\n    var c =   CompletableFuture.runAsync(() -&gt; {\n        System.out.println(&quot;done&quot;);\n\n    });\n\n    c.whenComplete((unused, throwable) -&gt; {\n\n        System.out.println((5/0));\n\n\n        throw new RuntimeException(&quot;I am throwing an exception&quot;);\n\n\n\n    });\n\n    System.out.println(&quot;ok&quot;);\n}\n</code></pre>\n<p>output of this block of code</p>\n<p>done<br />\nok</p>\n"},{"tags":["java","tomcat","heap-memory","eclipse-mat"],"comments":[{"owner":{"account_id":3370948,"reputation":4617,"user_id":2830167,"accept_rate":100,"display_name":"ZhaoGang"},"score":0,"creation_date":1547387837,"post_id":54169195,"comment_id":95167897,"body_markdown":"So you are analyze the heap memory dump for `tomcat`? In your screenshot, the `SystemLogHandler` is used to capture log so IMHO, if you want to kill these `CaptureLog` objects you should stop tomcat logging which is a really bad idea.","body":"So you are analyze the heap memory dump for <code>tomcat</code>? In your screenshot, the <code>SystemLogHandler</code> is used to capture log so IMHO, if you want to kill these <code>CaptureLog</code> objects you should stop tomcat logging which is a really bad idea."},{"owner":{"account_id":2324956,"reputation":969,"user_id":2039693,"accept_rate":50,"display_name":"Ramesh Subramanian"},"score":0,"creation_date":1548334774,"post_id":54169195,"comment_id":95509770,"body_markdown":"You are redirecting system.out and system.err to file or other resource. So that `SystemLogHandler` becomes the top in the MAT.","body":"You are redirecting system.out and system.err to file or other resource. So that <code>SystemLogHandler</code> becomes the top in the MAT."}],"owner":{"account_id":8667034,"reputation":1,"user_id":6487117,"display_name":"Ahasan Al Rabbi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659621745,"creation_date":1547385118,"question_id":54169195,"body_markdown":"I have tried to analyze java heap memory dump with MAT.\r\nThen I found org.apache.tomcat.util.log.CaptureLog objects taking high memory from heap. How do I stop this or disable CaptureLog.\r\n[Mat screenshot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/g77PP.png","title":"How to disable tomcat capture log?","body":"<p>I have tried to analyze java heap memory dump with MAT.\nThen I found org.apache.tomcat.util.log.CaptureLog objects taking high memory from heap. How do I stop this or disable CaptureLog.\n<a href=\"https://i.stack.imgur.com/g77PP.png\" rel=\"nofollow noreferrer\">Mat screenshot</a></p>\n"},{"tags":["java","multithreading"],"answers":[{"tags":[],"owner":{"account_id":6742966,"reputation":713,"user_id":5195552,"display_name":"Diego"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659575614,"creation_date":1659574514,"answer_id":73229264,"question_id":73228917,"body_markdown":"**TL;DR**\r\n\r\nOversimplifying it, when two threads execute computeIfAbsent, just one of them will be successful. The second thread will be blocked until the first one ends. Once it is done, the second thread will now find the key and won&#39;t apply the mapping function.\r\n\r\n----\r\nNow going into detail:\r\n\r\ncomputeIfAbsent is said to be atomic since it uses a mix between synchronization and compare-and-swap mechanisms to search and set values in the map. This ensures that two threads won&#39;t collide when setting a new key, and that is why the documentation ensures that this method will be executed &quot;once at most&quot;.\r\n\r\nIf you take a quick look at computeIfAbsent source code in the JDK you will find the following:\r\n\r\n    synchronized (r) {\r\n                    if (casTabAt(tab, i, null, r)) {\r\n                        binCount = 1;\r\n                        Node&lt;K,V&gt; node = null;\r\n                        try {\r\n                            if ((val = mappingFunction.apply(key)) != null)\r\n                                node = new Node&lt;K,V&gt;(h, key, val);\r\n                        } finally {\r\n                            setTabAt(tab, i, node);\r\n                        }\r\n                    }\r\n                }\r\n\r\nThat snippet will granularly block and try to atomically apply the mapping function.\r\n\r\nIf you want to dig even more on that and you have a good understanding of how HashMaps work and CAS, you can also take a look at a more detailed explanation of the ConcurrentHashMap code here: [https://stackoverflow.com/questions/36562643/concurrenthashmap-in-jdk8-code-explanation][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/36562643/concurrenthashmap-in-jdk8-code-explanation","title":"What does Atomicity imply for cmputeIfAbsent in a concurrent hash map? Atomicity vs. Synchronized","body":"<p><strong>TL;DR</strong></p>\n<p>Oversimplifying it, when two threads execute computeIfAbsent, just one of them will be successful. The second thread will be blocked until the first one ends. Once it is done, the second thread will now find the key and won't apply the mapping function.</p>\n<hr />\n<p>Now going into detail:</p>\n<p>computeIfAbsent is said to be atomic since it uses a mix between synchronization and compare-and-swap mechanisms to search and set values in the map. This ensures that two threads won't collide when setting a new key, and that is why the documentation ensures that this method will be executed &quot;once at most&quot;.</p>\n<p>If you take a quick look at computeIfAbsent source code in the JDK you will find the following:</p>\n<pre><code>synchronized (r) {\n                if (casTabAt(tab, i, null, r)) {\n                    binCount = 1;\n                    Node&lt;K,V&gt; node = null;\n                    try {\n                        if ((val = mappingFunction.apply(key)) != null)\n                            node = new Node&lt;K,V&gt;(h, key, val);\n                    } finally {\n                        setTabAt(tab, i, node);\n                    }\n                }\n            }\n</code></pre>\n<p>That snippet will granularly block and try to atomically apply the mapping function.</p>\n<p>If you want to dig even more on that and you have a good understanding of how HashMaps work and CAS, you can also take a look at a more detailed explanation of the ConcurrentHashMap code here: <a href=\"https://stackoverflow.com/questions/36562643/concurrenthashmap-in-jdk8-code-explanation\">ConcurrentHashmap in JDK8 code explanation</a></p>\n"},{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659621585,"creation_date":1659610309,"answer_id":73234631,"question_id":73228917,"body_markdown":"There are situations where the mapping function could be executed concurrently for different key values so it is important that your mapping function is thread-safe.\r\n\r\nThe `computeIfAbsent` method only guarantees that the mapping function isn&#39;t called simultaneously for the same key value. Also note that a `Map` works by hashing muliple keys into buckets of entries and if `computeIfAbsent(a, mapFunc)` is called at same time as `computeIfAbsent(b, mapFunc)` with pair of keys a+b that map to same sub-table of `ConcurrentHashMap`, then `mapFunc` for each key will be run one after the other and not at same time.\r\n\r\nHowever where the different keys do not resolve to same sub-table within `ConcurrentHashMap` you should expect your mapping function to be called simulaneously by different threads for different key values.\r\n\r\nHere is an example which shows a thread-safe mapping function that detects concurrent callers:\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        ConcurrentHashMap&lt;String, String&gt; map = new ConcurrentHashMap&lt;&gt;(2096, 1.0f);\r\n        AtomicInteger concurrent = new AtomicInteger();\r\n        Function&lt;String, String&gt; mappingFunction = s -&gt; {\r\n            int c = concurrent.incrementAndGet();\r\n            String value = &quot;Value:&quot;+s +&quot; concurrent=&quot;+c+&quot; thread=&quot;+Thread.currentThread().getName();\r\n            if (c != 1)\r\n                System.out.println(&quot;Multiple callers for &quot;+value);\r\n            try { Thread.sleep(50); } catch (InterruptedException ignore) { }\r\n            concurrent.decrementAndGet();\r\n            return value;\r\n        };\r\n        Runnable task = () -&gt; {\r\n            Random r = new Random();\r\n            for (int i = 0; i &lt; 10_000; i++)\r\n                map.computeIfAbsent(String.valueOf(r.nextInt(10240)), mappingFunction);\r\n        };\r\n\r\n        Thread a = new Thread(task, &quot;one&quot;);\r\n\r\n        a.start();\r\n        task.run();\r\n        a.join();\r\n        map.values().stream().limit(32).forEach(System.out::println);\r\n    }\r\n\r\nIf run enough, there will be occasions where the counter inside `mappingFunction` shows that 2 instances are running at same time on the pair of threads.\r\n\r\n**EDIT**\r\n\r\nTo answer your comment about `synchronized (r)`:\r\n\r\nNote that there is infinite `while` loop inside the `computeIfAbsent` which only exits on `break` or `return`, and `mappingFunction.apply(key)` is called in two places:\r\n\r\n1) when the key is the first entry into the sub-table it runs to the `synchronized (r)` block. As the line before declares `Node&lt;K,V&gt; r = new ReservationNode&lt;K,V&gt;()` there is NEVER contention on `r` from different threads, but only one thread successfully enters the `if (casTabAt(...)) { binCount = 1; ... } ` block and returns, other losing threads resume the loop.\r\n\r\n2) when the key is not the first entry into the sub-table it runs to the `synchronized (f)` block which would block all but one threads trying to `computeIfAbsent` for different keys that are hashed to the same sub-table. As each thread enters the block it verifies `f` is unchanged, and if so returns existing or computed new value - otherwise resumes the loop.\r\n","title":"What does Atomicity imply for cmputeIfAbsent in a concurrent hash map? Atomicity vs. Synchronized","body":"<p>There are situations where the mapping function could be executed concurrently for different key values so it is important that your mapping function is thread-safe.</p>\n<p>The <code>computeIfAbsent</code> method only guarantees that the mapping function isn't called simultaneously for the same key value. Also note that a <code>Map</code> works by hashing muliple keys into buckets of entries and if <code>computeIfAbsent(a, mapFunc)</code> is called at same time as <code>computeIfAbsent(b, mapFunc)</code> with pair of keys a+b that map to same sub-table of <code>ConcurrentHashMap</code>, then <code>mapFunc</code> for each key will be run one after the other and not at same time.</p>\n<p>However where the different keys do not resolve to same sub-table within <code>ConcurrentHashMap</code> you should expect your mapping function to be called simulaneously by different threads for different key values.</p>\n<p>Here is an example which shows a thread-safe mapping function that detects concurrent callers:</p>\n<pre><code>public static void main(String[] args) throws InterruptedException {\n    ConcurrentHashMap&lt;String, String&gt; map = new ConcurrentHashMap&lt;&gt;(2096, 1.0f);\n    AtomicInteger concurrent = new AtomicInteger();\n    Function&lt;String, String&gt; mappingFunction = s -&gt; {\n        int c = concurrent.incrementAndGet();\n        String value = &quot;Value:&quot;+s +&quot; concurrent=&quot;+c+&quot; thread=&quot;+Thread.currentThread().getName();\n        if (c != 1)\n            System.out.println(&quot;Multiple callers for &quot;+value);\n        try { Thread.sleep(50); } catch (InterruptedException ignore) { }\n        concurrent.decrementAndGet();\n        return value;\n    };\n    Runnable task = () -&gt; {\n        Random r = new Random();\n        for (int i = 0; i &lt; 10_000; i++)\n            map.computeIfAbsent(String.valueOf(r.nextInt(10240)), mappingFunction);\n    };\n\n    Thread a = new Thread(task, &quot;one&quot;);\n\n    a.start();\n    task.run();\n    a.join();\n    map.values().stream().limit(32).forEach(System.out::println);\n}\n</code></pre>\n<p>If run enough, there will be occasions where the counter inside <code>mappingFunction</code> shows that 2 instances are running at same time on the pair of threads.</p>\n<p><strong>EDIT</strong></p>\n<p>To answer your comment about <code>synchronized (r)</code>:</p>\n<p>Note that there is infinite <code>while</code> loop inside the <code>computeIfAbsent</code> which only exits on <code>break</code> or <code>return</code>, and <code>mappingFunction.apply(key)</code> is called in two places:</p>\n<ol>\n<li><p>when the key is the first entry into the sub-table it runs to the <code>synchronized (r)</code> block. As the line before declares <code>Node&lt;K,V&gt; r = new ReservationNode&lt;K,V&gt;()</code> there is NEVER contention on <code>r</code> from different threads, but only one thread successfully enters the <code>if (casTabAt(...)) { binCount = 1; ... } </code> block and returns, other losing threads resume the loop.</p>\n</li>\n<li><p>when the key is not the first entry into the sub-table it runs to the <code>synchronized (f)</code> block which would block all but one threads trying to <code>computeIfAbsent</code> for different keys that are hashed to the same sub-table. As each thread enters the block it verifies <code>f</code> is unchanged, and if so returns existing or computed new value - otherwise resumes the loop.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":14791149,"reputation":258,"user_id":10682052,"display_name":"Shawn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":73234631,"answer_count":2,"score":5,"last_activity_date":1659621585,"creation_date":1659570018,"question_id":73228917,"body_markdown":"I know there have been many questions around `computeIfAbsent`.  \r\n\r\nSpecifically what I am looking for is to understand the statement around atomicity for a concurrent hash map.\r\n\r\nfrom [the JavaDoc][1]\r\n\r\n&gt; The entire method invocation is performed atomically, so the function is applied at most once per key.\r\n\r\nIf two threads attempt to execute `computeIfAbsent` with different key&#39;s and find that in both cases the map does not contain them, might the resulting executions of the compute if absent function be concurrent? I understand they would not be concurrent in the event that both threads were trying to add the SAME key.\r\n\r\nThe word Atomic is used and it is mentioned that this means applied at most once per key. But there isn&#39;t a specific mention of synchronized behaviour on the method.\r\n\r\nAs a side note, this is relevant to me in that the method called by computeIfAbsent modifies then uses a field of the class in its body.*\r\n\r\nI want to understand if there is a threading concern resulting from two different thread executions of the computeIfAbsent method for the two different keys.\r\n\r\nEssentially do I have to look at something along the lines of synchronizing access to the field variable and its subsequent use within the computeIfAbsent method I call.\r\n\r\n\r\n*( The computeIfAbsent method invoked is the only method which modifies the field.  There is no other invoker of the method outside of the call from the hash map computeIfAbsent method. There is only one instance of the concurrent hash map that calls the computeWithAbsent method that invokes the &quot;atomic&quot; method in question)\r\n\r\nMy field is volatile to avoid potential concerns with atomic visibility.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentHashMap.html#computeIfAbsent-K-java.util.function.Function-","title":"What does Atomicity imply for cmputeIfAbsent in a concurrent hash map? Atomicity vs. Synchronized","body":"<p>I know there have been many questions around <code>computeIfAbsent</code>.</p>\n<p>Specifically what I am looking for is to understand the statement around atomicity for a concurrent hash map.</p>\n<p>from <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentHashMap.html#computeIfAbsent-K-java.util.function.Function-\" rel=\"nofollow noreferrer\">the JavaDoc</a></p>\n<blockquote>\n<p>The entire method invocation is performed atomically, so the function is applied at most once per key.</p>\n</blockquote>\n<p>If two threads attempt to execute <code>computeIfAbsent</code> with different key's and find that in both cases the map does not contain them, might the resulting executions of the compute if absent function be concurrent? I understand they would not be concurrent in the event that both threads were trying to add the SAME key.</p>\n<p>The word Atomic is used and it is mentioned that this means applied at most once per key. But there isn't a specific mention of synchronized behaviour on the method.</p>\n<p>As a side note, this is relevant to me in that the method called by computeIfAbsent modifies then uses a field of the class in its body.*</p>\n<p>I want to understand if there is a threading concern resulting from two different thread executions of the computeIfAbsent method for the two different keys.</p>\n<p>Essentially do I have to look at something along the lines of synchronizing access to the field variable and its subsequent use within the computeIfAbsent method I call.</p>\n<p>*( The computeIfAbsent method invoked is the only method which modifies the field.  There is no other invoker of the method outside of the call from the hash map computeIfAbsent method. There is only one instance of the concurrent hash map that calls the computeWithAbsent method that invokes the &quot;atomic&quot; method in question)</p>\n<p>My field is volatile to avoid potential concerns with atomic visibility.</p>\n"},{"tags":["java","spring","server","javabeans"],"comments":[{"owner":{"account_id":13602652,"reputation":132,"user_id":9812860,"display_name":"bonobo"},"score":0,"creation_date":1659559342,"post_id":73227173,"comment_id":129326162,"body_markdown":"If you want your application to execute some operation as soon as it starts you may find the @PostConstruct annotation helpful?","body":"If you want your application to execute some operation as soon as it starts you may find the @PostConstruct annotation helpful?"},{"owner":{"account_id":22249835,"reputation":1973,"user_id":16482938,"display_name":"j_b"},"score":1,"creation_date":1659559818,"post_id":73227173,"comment_id":129326280,"body_markdown":"Depending on the version of Spring you are using you may be able to use the @DependsOn annotation (https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/DependsOn.html)","body":"Depending on the version of Spring you are using you may be able to use the @DependsOn annotation (<a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/DependsOn.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/javadoc-api/or&zwnj;&#8203;g/&hellip;</a>)"},{"owner":{"account_id":10091943,"reputation":27,"user_id":7458652,"display_name":"Manni"},"score":0,"creation_date":1659581070,"post_id":73227173,"comment_id":129330187,"body_markdown":"@bonobo &#39;@PostConstruct&#39; does not work in this case as it is based upon the life cycle of a specific bean. If any other bean gets loaded before my desired bean, this won&#39;t help.","body":"@bonobo &#39;@PostConstruct&#39; does not work in this case as it is based upon the life cycle of a specific bean. If any other bean gets loaded before my desired bean, this won&#39;t help."},{"owner":{"account_id":10091943,"reputation":27,"user_id":7458652,"display_name":"Manni"},"score":0,"creation_date":1659581397,"post_id":73227173,"comment_id":129330231,"body_markdown":"@j_b Tried using &#39;depends-on&#39;, but it didn&#39;t work for me. That is why I am looking for a way that would make my bean load as the first bean ever.","body":"@j_b Tried using &#39;depends-on&#39;, but it didn&#39;t work for me. That is why I am looking for a way that would make my bean load as the first bean ever."},{"owner":{"account_id":2799515,"reputation":815,"user_id":6647878,"display_name":"Nidhi257"},"score":0,"creation_date":1659582892,"post_id":73227173,"comment_id":129330412,"body_markdown":"try annotation @Priority","body":"try annotation @Priority"},{"owner":{"account_id":12142871,"reputation":97,"user_id":8866086,"display_name":"sjy"},"score":0,"creation_date":1659583872,"post_id":73227173,"comment_id":129330522,"body_markdown":"What about @lazy connection bean @lazy(false) rest of beans lazy","body":"What about @lazy connection bean @lazy(false) rest of beans lazy"},{"owner":{"account_id":10091943,"reputation":27,"user_id":7458652,"display_name":"Manni"},"score":0,"creation_date":1659587802,"post_id":73227173,"comment_id":129331100,"body_markdown":"@Nidhi257 I assume you mean &#39;@Order&#39; annotation. I couldn&#39;t find &#39;@Priority&#39; in any of the spring packages apart from in javax.annotations. But &#39;@Order&#39; is specific for spring boot. Does not work","body":"@Nidhi257 I assume you mean &#39;@Order&#39; annotation. I couldn&#39;t find &#39;@Priority&#39; in any of the spring packages apart from in javax.annotations. But &#39;@Order&#39; is specific for spring boot. Does not work"},{"owner":{"account_id":10091943,"reputation":27,"user_id":7458652,"display_name":"Manni"},"score":0,"creation_date":1659587893,"post_id":73227173,"comment_id":129331109,"body_markdown":"@sjy Tried &#39;lazy-init&#39; in the xml config. Does not work. The only way i am able to make it work is to introduce false dependency by injecting my bean into other beans.","body":"@sjy Tried &#39;lazy-init&#39; in the xml config. Does not work. The only way i am able to make it work is to introduce false dependency by injecting my bean into other beans."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1659590512,"post_id":73227173,"comment_id":129331527,"body_markdown":"`@DependsOn` is the way to go. All the beans using an connection should use `@DepensON(&quot;connection-check-bean&quot;)`. If it didn&#39;t work you didn&#39;t do it properly.","body":"<code>@DependsOn</code> is the way to go. All the beans using an connection should use <code>@DepensON(&quot;connection-check-bean&quot;)</code>. If it didn&#39;t work you didn&#39;t do it properly."},{"owner":{"account_id":10091943,"reputation":27,"user_id":7458652,"display_name":"Manni"},"score":0,"creation_date":1659621485,"post_id":73227173,"comment_id":129342212,"body_markdown":"@M.Deinum My bad. depends-on worked for me, it just that because of some other errors I didn&#39;t notice it. Thanks","body":"@M.Deinum My bad. depends-on worked for me, it just that because of some other errors I didn&#39;t notice it. Thanks"}],"owner":{"account_id":10091943,"reputation":27,"user_id":7458652,"display_name":"Manni"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":613,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659621431,"creation_date":1659556881,"question_id":73227173,"body_markdown":"I have a java application based upon spring and I have a bean that runs some connection test logic during server startup. If the connection test fails, I stop the server. \r\n\r\nI need this bean as the first one to be loaded before any other beans performs some operations using the connection string. \r\n\r\nCan someone help me figure out how I can load this connection test bean as the first bean please. \r\n\r\nWays tried:\r\n- Bean lifecycle hooks such as InitializingBean, init-method, @PostConstruct won&#39;t work as they will get invoked for my specific bean but can&#39;t control what beans gets loaded before my desired bean.\r\n\r\n\r\nUpdate:\r\n- depends-on or @DependsOn worked.\r\n\r\n\r\nThanks","title":"Spring: How to load my bean as the first bean when server startsup","body":"<p>I have a java application based upon spring and I have a bean that runs some connection test logic during server startup. If the connection test fails, I stop the server.</p>\n<p>I need this bean as the first one to be loaded before any other beans performs some operations using the connection string.</p>\n<p>Can someone help me figure out how I can load this connection test bean as the first bean please.</p>\n<p>Ways tried:</p>\n<ul>\n<li>Bean lifecycle hooks such as InitializingBean, init-method, @PostConstruct won't work as they will get invoked for my specific bean but can't control what beans gets loaded before my desired bean.</li>\n</ul>\n<p>Update:</p>\n<ul>\n<li>depends-on or @DependsOn worked.</li>\n</ul>\n<p>Thanks</p>\n"},{"tags":["java","exception","serialization","deserialization"],"answers":[{"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659621361,"creation_date":1659621361,"answer_id":73237210,"question_id":73236810,"body_markdown":"Your 2 `User` classes are not the same, they are in different packages. The exception message is telling you this: `serialization.serialize.User` is a different class than `serialization.deSerialize.User`.\r\n\r\nUsing &quot;default&quot; binary serialization as you are, the class being deserialized into must be the exact same as the original object that was serialized. Even though your 2 `User` classes have the same structure, they are not compatible as far as serialization goes.\r\n\r\nThe simplest solution is to use the same `User` class for both serialization and deserialization. If you _must_ serialize one class and deserialize into a different class, I suggest you use a different form for the serialization, such as JSON. The [Jackson library][1] makes this easy to do, and you can have different classes.\r\n\r\nIt&#39;s also possible you could [override `writeObject()` and `readObject()` methods][2] to achieve this, but I&#39;m not certain it will work with binary serialization.\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson\r\n  [2]: https://www.baeldung.com/java-serialization#3-custom-serialization-in-java","title":"ClassCastException occurs while trying to deserialize the serialized object","body":"<p>Your 2 <code>User</code> classes are not the same, they are in different packages. The exception message is telling you this: <code>serialization.serialize.User</code> is a different class than <code>serialization.deSerialize.User</code>.</p>\n<p>Using &quot;default&quot; binary serialization as you are, the class being deserialized into must be the exact same as the original object that was serialized. Even though your 2 <code>User</code> classes have the same structure, they are not compatible as far as serialization goes.</p>\n<p>The simplest solution is to use the same <code>User</code> class for both serialization and deserialization. If you <em>must</em> serialize one class and deserialize into a different class, I suggest you use a different form for the serialization, such as JSON. The <a href=\"https://github.com/FasterXML/jackson\" rel=\"nofollow noreferrer\">Jackson library</a> makes this easy to do, and you can have different classes.</p>\n<p>It's also possible you could <a href=\"https://www.baeldung.com/java-serialization#3-custom-serialization-in-java\" rel=\"nofollow noreferrer\">override <code>writeObject()</code> and <code>readObject()</code> methods</a> to achieve this, but I'm not certain it will work with binary serialization.</p>\n"}],"owner":{"account_id":19504381,"reputation":624,"user_id":14269736,"display_name":"sravanTG"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":468,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73237210,"answer_count":1,"score":0,"last_activity_date":1659621361,"creation_date":1659619567,"question_id":73236810,"body_markdown":"I am trying to deserialize the object in java and I am receiving this error `[ClassCastException]` constantly. The object is serialized but desrialization is not working.\r\nI think there is no error in code anywhere but don&#39;t know why I am receiving this error. please help.\r\n\r\nserialized object code:\r\nUser class.\r\n```\r\npackage serialization.serialize;\r\n\r\nimport java.io.Serializable;\r\n\r\npublic class User implements Serializable {\r\n    String name;\r\n    String password;\r\n    public void hello(){\r\n        System.out.println(&quot;Hello &quot; + name);\r\n    }\r\n}\r\n```\r\n\r\nserialized object code:\r\nMain class.\r\n```\r\npackage serialization.serialize;\r\n\r\nimport java.io.*;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) throws IOException {\r\n        User user1 = new User();\r\n        user1.name = &quot;harry&quot;;\r\n        user1.password = &quot;123abc&quot;;\r\n\r\n        FileOutputStream fileOut = new FileOutputStream(&quot;User1.ser&quot;);\r\n        ObjectOutputStream out = new ObjectOutputStream(fileOut);\r\n        out.writeObject(user1);\r\n        out.close();\r\n        fileOut.close();\r\n        System.out.println(&quot;Object info saved.&quot;);\r\n    }\r\n}\r\n```\r\nNow the Deserialization code.\r\nUser class.\r\n```\r\npackage serialization.deSerialize;\r\n\r\nimport java.io.Serializable;\r\n\r\npublic class User implements Serializable {\r\n        String name;\r\n        String password;\r\n        public void hello(){\r\n            System.out.println(&quot;Hello &quot; + name);\r\n        }\r\n}\r\n```\r\nMain class.\r\n```\r\npackage serialization.deSerialize;\r\n\r\nimport java.io.*;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) throws IOException, ClassNotFoundException {\r\n        User user1;\r\n        FileInputStream fileIn = new FileInputStream(&quot;C:\\\\Users\\\\tgsra\\\\IdeaProjects\\\\javaBroCode\\\\src\\\\serialization\\\\serialize\\\\User1.ser&quot;);\r\n        ObjectInputStream in = new ObjectInputStream(fileIn);\r\n        user1 = (User)in.readObject();\r\n        in.close();\r\n        fileIn.close();\r\n        System.out.println(user1.name);\r\n        System.out.println(user1.password);\r\n        user1.hello();\r\n    }\r\n}\r\n```\r\nThis is the error i am getting.\r\n```\r\nException in thread &quot;main&quot; java.lang.ClassCastException: class serialization.serialize.User cannot be cast to class serialization.deSerialize.User (serialization.serialize.User and serialization.deSerialize.User are in unnamed module of loader &#39;app&#39;)\r\n\tat serialization.deSerialize.Main.main(Main.java:10)\r\n```\r\n\r\n","title":"ClassCastException occurs while trying to deserialize the serialized object","body":"<p>I am trying to deserialize the object in java and I am receiving this error <code>[ClassCastException]</code> constantly. The object is serialized but desrialization is not working.\nI think there is no error in code anywhere but don't know why I am receiving this error. please help.</p>\n<p>serialized object code:\nUser class.</p>\n<pre><code>package serialization.serialize;\n\nimport java.io.Serializable;\n\npublic class User implements Serializable {\n    String name;\n    String password;\n    public void hello(){\n        System.out.println(&quot;Hello &quot; + name);\n    }\n}\n</code></pre>\n<p>serialized object code:\nMain class.</p>\n<pre><code>package serialization.serialize;\n\nimport java.io.*;\n\npublic class Main {\n    public static void main(String[] args) throws IOException {\n        User user1 = new User();\n        user1.name = &quot;harry&quot;;\n        user1.password = &quot;123abc&quot;;\n\n        FileOutputStream fileOut = new FileOutputStream(&quot;User1.ser&quot;);\n        ObjectOutputStream out = new ObjectOutputStream(fileOut);\n        out.writeObject(user1);\n        out.close();\n        fileOut.close();\n        System.out.println(&quot;Object info saved.&quot;);\n    }\n}\n</code></pre>\n<p>Now the Deserialization code.\nUser class.</p>\n<pre><code>package serialization.deSerialize;\n\nimport java.io.Serializable;\n\npublic class User implements Serializable {\n        String name;\n        String password;\n        public void hello(){\n            System.out.println(&quot;Hello &quot; + name);\n        }\n}\n</code></pre>\n<p>Main class.</p>\n<pre><code>package serialization.deSerialize;\n\nimport java.io.*;\n\npublic class Main {\n    public static void main(String[] args) throws IOException, ClassNotFoundException {\n        User user1;\n        FileInputStream fileIn = new FileInputStream(&quot;C:\\\\Users\\\\tgsra\\\\IdeaProjects\\\\javaBroCode\\\\src\\\\serialization\\\\serialize\\\\User1.ser&quot;);\n        ObjectInputStream in = new ObjectInputStream(fileIn);\n        user1 = (User)in.readObject();\n        in.close();\n        fileIn.close();\n        System.out.println(user1.name);\n        System.out.println(user1.password);\n        user1.hello();\n    }\n}\n</code></pre>\n<p>This is the error i am getting.</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.ClassCastException: class serialization.serialize.User cannot be cast to class serialization.deSerialize.User (serialization.serialize.User and serialization.deSerialize.User are in unnamed module of loader 'app')\n    at serialization.deSerialize.Main.main(Main.java:10)\n</code></pre>\n"},{"tags":["java","recursion","tree","parent-child"],"comments":[{"owner":{"account_id":25962043,"reputation":68,"user_id":19678500,"display_name":"Yellow"},"score":1,"creation_date":1659619416,"post_id":73236650,"comment_id":129341356,"body_markdown":"Question, where does childs[] come from? obj is an array containing all the nodes?","body":"Question, where does childs[] come from? obj is an array containing all the nodes?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1659619929,"post_id":73236650,"comment_id":129341582,"body_markdown":"`I am stuck on how to find out if it&#39;s deletable or not` - Wait, you have a column `deletable` in your DB. Hence, you should know whether a particular object can be deleted by looking at its property.","body":"<code>I am stuck on how to find out if it&#39;s deletable or not</code> - Wait, you have a column <code>deletable</code> in your DB. Hence, you should know whether a particular object can be deleted by looking at its property."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1659620087,"post_id":73236650,"comment_id":129341641,"body_markdown":"In case if you want to verify if information in the `deletable` column is correct, then explain your logic. Do you need to find out whether a particular node has no children?","body":"In case if you want to verify if information in the <code>deletable</code> column is correct, then explain your logic. Do you need to find out whether a particular node has no children?"},{"owner":{"account_id":9315226,"reputation":445,"user_id":6915773,"display_name":"Blaj Bogdan"},"score":0,"creation_date":1659685820,"post_id":73236650,"comment_id":129357613,"body_markdown":"@Yellow, is an array of nodes containing all the node where some may not have any particular link with the chain we need.","body":"@Yellow, is an array of nodes containing all the node where some may not have any particular link with the chain we need."},{"owner":{"account_id":9315226,"reputation":445,"user_id":6915773,"display_name":"Blaj Bogdan"},"score":0,"creation_date":1659685828,"post_id":73236650,"comment_id":129357617,"body_markdown":"@AlexanderIvanchenko I know which are deletable, but a parent may have n Childs and so on.","body":"@AlexanderIvanchenko I know which are deletable, but a parent may have n Childs and so on."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1659688874,"post_id":73236650,"comment_id":129358585,"body_markdown":"`but a parent may have n Childs and so on` - Can you give a more elaborate exploration on what do you need to check, what should be the result (it&#39;s not clear from your pseudocode)?","body":"<code>but a parent may have n Childs and so on</code> - Can you give a more elaborate exploration on what do you need to check, what should be the result (it&#39;s not clear from your pseudocode)?"}],"answers":[{"tags":[],"owner":{"account_id":25962043,"reputation":68,"user_id":19678500,"display_name":"Yellow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659621293,"creation_date":1659620252,"answer_id":73236955,"question_id":73236650,"body_markdown":"I&#39;m not sure about the methods I have available to get the data needed but I was thinking about something like this:\r\n\r\nEdited:\r\n```\r\npublic static void main(String[] args) \r\n{   \r\n    int id; // = some id\r\n    Data1[] objs = getAllData(); //it will also get objects which have no direct link to the id we provided\r\n    boolean canDelete = isDeletable(objs[id-1], objs);\r\n}\r\n\r\npublic static boolean isDeletable(Data1 parent, Data1[] objs) \r\n{\r\n    if(parent.getIdDeletable() == 0)\r\n        return false;\r\n    \r\n    \r\n    int pid = parent.getId();\r\n    for(Data1 o: obj)\r\n    {\r\n        if(o.getParentId() == pid &amp;&amp; !isDeletable(o, objs))\r\n            return false;\r\n    }\r\n    return true;\r\n}\r\n```\r\n\r\nSteps:\r\n\r\n 1. If the parent cannot be deleted return false\r\n 2. Else check every child\r\n 3. If there is a child that cannot be deleted return false\r\n 4. Else return true\r\n\r\nWhich means that the function returns true is the object and its children can be deleted.\r\n","title":"Java arrays of multiple parents and children need to find out if all children of a specified parent are deletable","body":"<p>I'm not sure about the methods I have available to get the data needed but I was thinking about something like this:</p>\n<p>Edited:</p>\n<pre><code>public static void main(String[] args) \n{   \n    int id; // = some id\n    Data1[] objs = getAllData(); //it will also get objects which have no direct link to the id we provided\n    boolean canDelete = isDeletable(objs[id-1], objs);\n}\n\npublic static boolean isDeletable(Data1 parent, Data1[] objs) \n{\n    if(parent.getIdDeletable() == 0)\n        return false;\n    \n    \n    int pid = parent.getId();\n    for(Data1 o: obj)\n    {\n        if(o.getParentId() == pid &amp;&amp; !isDeletable(o, objs))\n            return false;\n    }\n    return true;\n}\n</code></pre>\n<p>Steps:</p>\n<ol>\n<li>If the parent cannot be deleted return false</li>\n<li>Else check every child</li>\n<li>If there is a child that cannot be deleted return false</li>\n<li>Else return true</li>\n</ol>\n<p>Which means that the function returns true is the object and its children can be deleted.</p>\n"}],"owner":{"account_id":9315226,"reputation":445,"user_id":6915773,"display_name":"Blaj Bogdan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659621293,"creation_date":1659618906,"question_id":73236650,"body_markdown":"So I have the following problem. I have a tree in UI and in DB I have data showing which node has which parented, so I lose the direct connection I have in UI. I need to know if every object is deletable or not based if it&#39;s children are.\r\nData1\r\n\r\n    name    id    deletable   parentId\r\n    A       1     1           0   \r\n    B1      2     1           1   \r\n    B2      3     1           1   \r\n    C1      4     0           3   \r\n    C2      5     1           3   \r\n    D1      6     1           5\r\nI get a request to delete a certain ID, I need to verify if I can delete it. The problem is that I don&#39;t have a good method of finding if the Childs all are deletable.\r\n\r\nEx: I get request to delete(id = 3) it won&#39;t be possible as it&#39;s child with id = 4 is not deletable.\r\n\r\nI have options to either do this in SQL or in Java. Was thinking of the following\r\n\r\n    Data1[] obj = getAllData() //it will also get objects which have no direct link to the id we provided\r\n    recursiveMethod(obj, id);\r\n\r\n    recursiveMethod(Data1[] obj, currentParentId) {\r\n         //last node\r\n        if(obj.lenth == 1)\r\n            return obj.getIdDeletable;\r\n        //filter obj for childs having parentId= currentParentId\r\n        childs[] = logic;\r\n        for(Data1 child: childs) {\r\n            recursiveMethod(obj, child.getId)\r\n        } \r\n    }\r\n\r\nThe data U work in backend are arrays&lt;Data1&gt; and I start with the Id of the object I want to delete. I am stuck on how to find out if it&#39;s deletable or not\r\n\r\n\r\n  \r\n","title":"Java arrays of multiple parents and children need to find out if all children of a specified parent are deletable","body":"<p>So I have the following problem. I have a tree in UI and in DB I have data showing which node has which parented, so I lose the direct connection I have in UI. I need to know if every object is deletable or not based if it's children are.\nData1</p>\n<pre><code>name    id    deletable   parentId\nA       1     1           0   \nB1      2     1           1   \nB2      3     1           1   \nC1      4     0           3   \nC2      5     1           3   \nD1      6     1           5\n</code></pre>\n<p>I get a request to delete a certain ID, I need to verify if I can delete it. The problem is that I don't have a good method of finding if the Childs all are deletable.</p>\n<p>Ex: I get request to delete(id = 3) it won't be possible as it's child with id = 4 is not deletable.</p>\n<p>I have options to either do this in SQL or in Java. Was thinking of the following</p>\n<pre><code>Data1[] obj = getAllData() //it will also get objects which have no direct link to the id we provided\nrecursiveMethod(obj, id);\n\nrecursiveMethod(Data1[] obj, currentParentId) {\n     //last node\n    if(obj.lenth == 1)\n        return obj.getIdDeletable;\n    //filter obj for childs having parentId= currentParentId\n    childs[] = logic;\n    for(Data1 child: childs) {\n        recursiveMethod(obj, child.getId)\n    } \n}\n</code></pre>\n<p>The data U work in backend are arrays and I start with the Id of the object I want to delete. I am stuck on how to find out if it's deletable or not</p>\n"},{"tags":["java","autoencoder","deeplearning4j","dimensionality-reduction","dl4j"],"answers":[{"tags":[],"owner":{"account_id":6647858,"reputation":3100,"user_id":5131255,"display_name":"Adam Gibson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659620821,"creation_date":1659620821,"answer_id":73237080,"question_id":73237000,"body_markdown":"I would use the transfer learning api for that. You can freeze layers as well as remove and add new layers. That should help with freezing or adding/removing what you need.\r\n\r\nIn your case with the feed forward you would need to know the the index of the layer(s) to remove to only have the encoder after you&#39;re done training. Some examples can be found here: https://github.com/eclipse/deeplearning4j-examples/tree/master/dl4j-examples/src/main/java/org/deeplearning4j/examples/advanced/features/transferlearning\r\n\r\nFrom the examples repo there here&#39;s a simpler example of setting up a FineTuneConfiguration:\r\n```\r\nComputationGraph vgg16 = (ComputationGraph) zooModel.initPretrained();\r\n        log.info(vgg16.summary());\r\n\r\n        //Decide on a fine tune configuration to use.\r\n        //In cases where there already exists a setting the fine tune setting will\r\n        //  override the setting for all layers that are not &quot;frozen&quot;.\r\n        FineTuneConfiguration fineTuneConf = new FineTuneConfiguration.Builder()\r\n            .updater(new Nesterovs(5e-5))\r\n            .seed(seed)\r\n            .build();\r\n\r\n        //Construct a new model with the intended architecture and print summary\r\n        ComputationGraph vgg16Transfer = new TransferLearning.GraphBuilder(vgg16)\r\n            .fineTuneConfiguration(fineTuneConf)\r\n            .setFeatureExtractor(featureExtractionLayer) //the specified layer and below are &quot;frozen&quot;\r\n            .removeVertexKeepConnections(&quot;predictions&quot;) //replace the functionality of the final vertex\r\n            .addLayer(&quot;predictions&quot;,\r\n                new OutputLayer.Builder(LossFunctions.LossFunction.NEGATIVELOGLIKELIHOOD)\r\n                    .nIn(4096).nOut(numClasses)\r\n                    .weightInit(new NormalDistribution(0,0.2*(2.0/(4096+numClasses)))) //This weight init dist gave better results than Xavier\r\n                    .activation(Activation.SOFTMAX).build(),\r\n                &quot;fc2&quot;)\r\n            .build();\r\n```\r\n\r\nThis is changing a computation graph and only changing the last layer. Note most of the examples are focused on simpler use cases like changing the last layer. Feel free to post more questions if you have them. Hopefully this helps as a starting point.","title":"Autoencoder for dimesionality reduction in DL4J","body":"<p>I would use the transfer learning api for that. You can freeze layers as well as remove and add new layers. That should help with freezing or adding/removing what you need.</p>\n<p>In your case with the feed forward you would need to know the the index of the layer(s) to remove to only have the encoder after you're done training. Some examples can be found here: <a href=\"https://github.com/eclipse/deeplearning4j-examples/tree/master/dl4j-examples/src/main/java/org/deeplearning4j/examples/advanced/features/transferlearning\" rel=\"nofollow noreferrer\">https://github.com/eclipse/deeplearning4j-examples/tree/master/dl4j-examples/src/main/java/org/deeplearning4j/examples/advanced/features/transferlearning</a></p>\n<p>From the examples repo there here's a simpler example of setting up a FineTuneConfiguration:</p>\n<pre><code>ComputationGraph vgg16 = (ComputationGraph) zooModel.initPretrained();\n        log.info(vgg16.summary());\n\n        //Decide on a fine tune configuration to use.\n        //In cases where there already exists a setting the fine tune setting will\n        //  override the setting for all layers that are not &quot;frozen&quot;.\n        FineTuneConfiguration fineTuneConf = new FineTuneConfiguration.Builder()\n            .updater(new Nesterovs(5e-5))\n            .seed(seed)\n            .build();\n\n        //Construct a new model with the intended architecture and print summary\n        ComputationGraph vgg16Transfer = new TransferLearning.GraphBuilder(vgg16)\n            .fineTuneConfiguration(fineTuneConf)\n            .setFeatureExtractor(featureExtractionLayer) //the specified layer and below are &quot;frozen&quot;\n            .removeVertexKeepConnections(&quot;predictions&quot;) //replace the functionality of the final vertex\n            .addLayer(&quot;predictions&quot;,\n                new OutputLayer.Builder(LossFunctions.LossFunction.NEGATIVELOGLIKELIHOOD)\n                    .nIn(4096).nOut(numClasses)\n                    .weightInit(new NormalDistribution(0,0.2*(2.0/(4096+numClasses)))) //This weight init dist gave better results than Xavier\n                    .activation(Activation.SOFTMAX).build(),\n                &quot;fc2&quot;)\n            .build();\n</code></pre>\n<p>This is changing a computation graph and only changing the last layer. Note most of the examples are focused on simpler use cases like changing the last layer. Feel free to post more questions if you have them. Hopefully this helps as a starting point.</p>\n"}],"owner":{"account_id":25977668,"reputation":1,"user_id":19691902,"display_name":"code monkey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1659620821,"creation_date":1659620434,"question_id":73237000,"body_markdown":"I&#39;m trying to write an autoencoder for dimensionality reduction in DL4J, but all the autoencoder examples I can find for DL4J are for outlier detection.\r\n\r\nhttps://deeplearning4j.konduit.ai/v/en-1.0.0-beta6/getting-started/tutorials/basic-autoencoder\r\n\r\nDoes anybody have an example for dimensionality reduction in DL4J or how I can load just the encoding part of the multi layer network for evaluation after the training on the full encoder/decoder stack has been completed?\r\n\r\nAny help or pointers are greatly appreciated.\r\n\r\nThanks\r\n","title":"Autoencoder for dimesionality reduction in DL4J","body":"<p>I'm trying to write an autoencoder for dimensionality reduction in DL4J, but all the autoencoder examples I can find for DL4J are for outlier detection.</p>\n<p><a href=\"https://deeplearning4j.konduit.ai/v/en-1.0.0-beta6/getting-started/tutorials/basic-autoencoder\" rel=\"nofollow noreferrer\">https://deeplearning4j.konduit.ai/v/en-1.0.0-beta6/getting-started/tutorials/basic-autoencoder</a></p>\n<p>Does anybody have an example for dimensionality reduction in DL4J or how I can load just the encoding part of the multi layer network for evaluation after the training on the full encoder/decoder stack has been completed?</p>\n<p>Any help or pointers are greatly appreciated.</p>\n<p>Thanks</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1652421944,"post_id":72219944,"comment_id":127606590,"body_markdown":"I&#39;m afraid that cannot be achieved using your actual database schema.","body":"I&#39;m afraid that cannot be achieved using your actual database schema."},{"owner":{"account_id":17032910,"reputation":41,"user_id":12322670,"display_name":"Muratcan Yıldız"},"score":0,"creation_date":1652441165,"post_id":72219944,"comment_id":127612753,"body_markdown":"What kind of database schema do I need for this?","body":"What kind of database schema do I need for this?"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1652441754,"post_id":72219944,"comment_id":127612974,"body_markdown":"One that has no extra level between the actual data and the primary ID.","body":"One that has no extra level between the actual data and the primary ID."},{"owner":{"account_id":17032910,"reputation":41,"user_id":12322670,"display_name":"Muratcan Yıldız"},"score":0,"creation_date":1659620796,"post_id":72219944,"comment_id":129341925,"body_markdown":"@AlexMamo can you show me an example of this","body":"@AlexMamo can you show me an example of this"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1659621163,"post_id":72219944,"comment_id":129342069,"body_markdown":"Are you allowed to change the database schema?","body":"Are you allowed to change the database schema?"},{"owner":{"account_id":17032910,"reputation":41,"user_id":12322670,"display_name":"Muratcan Yıldız"},"score":0,"creation_date":1659621277,"post_id":72219944,"comment_id":129342113,"body_markdown":"@AlexMamo yes i have this permission","body":"@AlexMamo yes i have this permission"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1659689251,"post_id":72219944,"comment_id":129358711,"body_markdown":"One more question. You need a query to find all messages of the current user or of all users?","body":"One more question. You need a query to find all messages of the current user or of all users?"},{"owner":{"account_id":17032910,"reputation":41,"user_id":12322670,"display_name":"Muratcan Yıldız"},"score":0,"creation_date":1659712100,"post_id":72219944,"comment_id":129367133,"body_markdown":"@AlexMamo yes..","body":"@AlexMamo yes.."}],"owner":{"account_id":17032910,"reputation":41,"user_id":12322670,"display_name":"Muratcan Yıldız"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659620813,"creation_date":1652376821,"question_id":72219944,"body_markdown":"I want to delete the messages of every user before 30 days. When the user enters the application, their own messages are deleted. But I can&#39;t access every user&#39;s messages. I couldn&#39;t find what to write for the query.\r\n\r\n\r\nThis my message db:\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThis my Code to delete messages when the user opens an account :\r\n``` \r\n   mAuth = FirebaseAuth.getInstance();\r\n        currentUserID = mAuth.getCurrentUser().getUid();\r\n        ChatsRef = FirebaseDatabase.getInstance().getReference().child(&quot;message&quot;).child(currentUserID);\r\n     \r\n\r\n long cutoff = new Date().getTime() - TimeUnit.MILLISECONDS.convert(30, TimeUnit.DAYS);\r\n        Query oldItems = ChatsRef.orderByChild(&quot;timestamp&quot;).endAt(cutoff);\r\n        oldItems.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(DataSnapshot snapshot) {\r\n                for (DataSnapshot itemSnapshot: snapshot.getChildren()) {\r\n                    itemSnapshot.getRef().removeValue();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(DatabaseError databaseError) {\r\n                throw databaseError.toException();\r\n            }\r\n        });\r\n\r\n``` \r\nHow can I access the timestamp of each user?\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/b6qyA.jpg\r\n  [2]: https://i.stack.imgur.com/yakgl.jpg","title":"How can I access specific data in Firebase?","body":"<p>I want to delete the messages of every user before 30 days. When the user enters the application, their own messages are deleted. But I can't access every user's messages. I couldn't find what to write for the query.</p>\n<p>This my message db:\n<a href=\"https://i.stack.imgur.com/b6qyA.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b6qyA.jpg\" alt=\"enter image description here\" /></a></p>\n<p>This my Code to delete messages when the user opens an account :</p>\n<pre><code>   mAuth = FirebaseAuth.getInstance();\n        currentUserID = mAuth.getCurrentUser().getUid();\n        ChatsRef = FirebaseDatabase.getInstance().getReference().child(&quot;message&quot;).child(currentUserID);\n     \n\n long cutoff = new Date().getTime() - TimeUnit.MILLISECONDS.convert(30, TimeUnit.DAYS);\n        Query oldItems = ChatsRef.orderByChild(&quot;timestamp&quot;).endAt(cutoff);\n        oldItems.addListenerForSingleValueEvent(new ValueEventListener() {\n            @Override\n            public void onDataChange(DataSnapshot snapshot) {\n                for (DataSnapshot itemSnapshot: snapshot.getChildren()) {\n                    itemSnapshot.getRef().removeValue();\n                }\n            }\n\n            @Override\n            public void onCancelled(DatabaseError databaseError) {\n                throw databaseError.toException();\n            }\n        });\n\n</code></pre>\n<p>How can I access the timestamp of each user?</p>\n"},{"tags":["java","spring","oauth-2.0","webclient"],"owner":{"account_id":4172720,"reputation":195,"user_id":3420116,"display_name":"asyncmind"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659620677,"creation_date":1659615877,"question_id":73235900,"body_markdown":"In a multi-tenancy Spring boot web app (with spring security 5), I need to make http requests to externals services secured by oauth2.\r\n\r\n**Each client using the same app can has multiple oauth2 config depending on external services it can access.**\r\n\r\nThere is how I instantiate my singleton WebClient:\r\n\r\n    OAuth2AuthorizedClientProvider authorizedClientProvider = OAuth2AuthorizedClientProviderBuilder.builder()\r\n    \t\t\t\t.clientCredentials()\r\n    \t\t\t\t.build();\r\n    \t\t\t\t\r\n    OAuth2AuthorizedClientRepository oAuth2AuthorizedClientRepository = new HttpSessionOAuth2AuthorizedClientRepository();\r\n    \r\n    // oAuth2ClientRegistrationDAO is my custom bean implements ClientRegistrationRepository defined below\r\n    DefaultOAuth2AuthorizedClientManager authorizedClientManager = new DefaultOAuth2AuthorizedClientManager(oAuth2ClientRegistrationDAO, oAuth2AuthorizedClientRepository);\r\n    authorizedClientManager.setAuthorizedClientProvider(authorizedClientProvider);\r\n    \r\n    ServletOAuth2AuthorizedClientExchangeFilterFunction filter = new ServletOAuth2AuthorizedClientExchangeFilterFunction(\r\n    \t\t\t\tauthorizedClientManager);\r\n\r\n    // WebClient to be used to communicate thought oauth2 secured webservices\t\t\t\t\r\n    WebClient webClient = WebClient.builder().apply(filter.oauth2Configuration()).build();\r\n\r\nThis is my custom bean implements ClientRegistrationRepository used to provide right Oauth2 parameters depending on registrationId value:\r\n\r\n    @Repository\r\n    public class OAuth2ClientRegistrationDAO implements ClientRegistrationRepository {\r\n    \r\n    \t@Override\r\n    \tpublic ClientRegistration findByRegistrationId(String registrationId) {\r\n    \t\r\n    \t\t// Problem: auth object is NULL! \r\n    \t\tAuthentication auth = SecurityContextHolder.getContext().getAuthentication();\r\n    \t\r\n    \t\tSystem.out.println(auth); // print: null\r\n    \t\r\n    \t\t// TODO get ClientRegistration from right database\r\n    \t\t// (depending logged tenant, fetched from Authentication object) and return them\r\n    \t}\r\n    }\r\n\r\n**The problem is when I do a request like this:**\r\n\r\n    // Here, auth is not null: Ok!\r\n    Authentication auth = SecurityContextHolder.getContext().getAuthentication();\r\n\t\r\n    webClient.get()\r\n    \t.uri(&quot;[External webservice url secured with oauth2]&quot;)\r\n    \t.attributes(\r\n    \t\t\tServerOAuth2AuthorizedClientExchangeFilterFunction\r\n    \t\t\t  .clientRegistrationId(&quot;[registrationId]&quot;))\r\n    \t.retrieve()\r\n    \t.bodyToMono(String.class)\r\n    \t.block();\r\nMy Authentication object of logged user is null into OAuth2ClientRegistrationDAO **because on asynchronous implementation of WebClient, method findByRegistrationId() is called on another thread than this used by Authenticated spring app client**.\r\n\r\nEdit: I found a potential solution using `SecurityContextHolder.setStrategyName(SecurityContextHolder.MODE_INHERITABLETHREADLOCAL);` Authentication context is still present on other thread with this configuration","title":"Authentication object loss into ClientRegistrationRepository.findByRegistrationId() method for WebClient with oauth2 filters","body":"<p>In a multi-tenancy Spring boot web app (with spring security 5), I need to make http requests to externals services secured by oauth2.</p>\n<p><strong>Each client using the same app can has multiple oauth2 config depending on external services it can access.</strong></p>\n<p>There is how I instantiate my singleton WebClient:</p>\n<pre><code>OAuth2AuthorizedClientProvider authorizedClientProvider = OAuth2AuthorizedClientProviderBuilder.builder()\n                .clientCredentials()\n                .build();\n                \nOAuth2AuthorizedClientRepository oAuth2AuthorizedClientRepository = new HttpSessionOAuth2AuthorizedClientRepository();\n\n// oAuth2ClientRegistrationDAO is my custom bean implements ClientRegistrationRepository defined below\nDefaultOAuth2AuthorizedClientManager authorizedClientManager = new DefaultOAuth2AuthorizedClientManager(oAuth2ClientRegistrationDAO, oAuth2AuthorizedClientRepository);\nauthorizedClientManager.setAuthorizedClientProvider(authorizedClientProvider);\n\nServletOAuth2AuthorizedClientExchangeFilterFunction filter = new ServletOAuth2AuthorizedClientExchangeFilterFunction(\n                authorizedClientManager);\n\n// WebClient to be used to communicate thought oauth2 secured webservices               \nWebClient webClient = WebClient.builder().apply(filter.oauth2Configuration()).build();\n</code></pre>\n<p>This is my custom bean implements ClientRegistrationRepository used to provide right Oauth2 parameters depending on registrationId value:</p>\n<pre><code>@Repository\npublic class OAuth2ClientRegistrationDAO implements ClientRegistrationRepository {\n\n    @Override\n    public ClientRegistration findByRegistrationId(String registrationId) {\n    \n        // Problem: auth object is NULL! \n        Authentication auth = SecurityContextHolder.getContext().getAuthentication();\n    \n        System.out.println(auth); // print: null\n    \n        // TODO get ClientRegistration from right database\n        // (depending logged tenant, fetched from Authentication object) and return them\n    }\n}\n</code></pre>\n<p><strong>The problem is when I do a request like this:</strong></p>\n<pre><code>// Here, auth is not null: Ok!\nAuthentication auth = SecurityContextHolder.getContext().getAuthentication();\n\nwebClient.get()\n    .uri(&quot;[External webservice url secured with oauth2]&quot;)\n    .attributes(\n            ServerOAuth2AuthorizedClientExchangeFilterFunction\n              .clientRegistrationId(&quot;[registrationId]&quot;))\n    .retrieve()\n    .bodyToMono(String.class)\n    .block();\n</code></pre>\n<p>My Authentication object of logged user is null into OAuth2ClientRegistrationDAO <strong>because on asynchronous implementation of WebClient, method findByRegistrationId() is called on another thread than this used by Authenticated spring app client</strong>.</p>\n<p>Edit: I found a potential solution using <code>SecurityContextHolder.setStrategyName(SecurityContextHolder.MODE_INHERITABLETHREADLOCAL);</code> Authentication context is still present on other thread with this configuration</p>\n"},{"tags":["java","rounding-error"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1659621695,"post_id":73236995,"comment_id":129342290,"body_markdown":"try printing `new BigDecimal(9999.005).toString()`;  or use `new BigDecimal(&quot;9999.005&quot;)` in your tests - floating point numbers like `double` and `float` (often) are just approximations) (and this kind of question is not exactly new on this site)","body":"try printing <code>new BigDecimal(9999.005).toString()</code>;  or use <code>new BigDecimal(&quot;9999.005&quot;)</code> in your tests - floating point numbers like <code>double</code> and <code>float</code> (often) are just approximations) (and this kind of question is not exactly new on this site)"},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":1,"creation_date":1659621908,"post_id":73236995,"comment_id":129342368,"body_markdown":"Does this answer your question? [How to round 0.745 to 0.75 using BigDecimal.ROUND\\_HALF\\_UP?](https://stackoverflow.com/questions/12460482/how-to-round-0-745-to-0-75-using-bigdecimal-round-half-up) Specifically use a string conversion `new BigDecimal(&quot;9999.005&quot;)` or use the valueOf method to retain precision of the double `new BigDecimal.valueOf(9999.005)`","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/12460482/how-to-round-0-745-to-0-75-using-bigdecimal-round-half-up\">How to round 0.745 to 0.75 using BigDecimal.ROUND_HALF_UP?</a> Specifically use a string conversion <code>new BigDecimal(&quot;9999.005&quot;)</code> or use the valueOf method to retain precision of the double <code>new BigDecimal.valueOf(9999.005)</code>"},{"owner":{"account_id":3291356,"reputation":31,"user_id":2769607,"display_name":"user2769607"},"score":0,"creation_date":1659622677,"post_id":73236995,"comment_id":129342667,"body_markdown":"You both are right. Never knew floats and doubles loses precision. I tried the string values and they round up as expected.","body":"You both are right. Never knew floats and doubles loses precision. I tried the string values and they round up as expected."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1659623409,"post_id":73236995,"comment_id":129343001,"body_markdown":"basically `9999.005` cannot be expressed precisely as `double` (like we cannot write 1/3 precisely as a floating point - needs infinite digits)","body":"basically <code>9999.005</code> cannot be expressed precisely as <code>double</code> (like we cannot write 1/3 precisely as a floating point - needs infinite digits)"}],"owner":{"account_id":3291356,"reputation":31,"user_id":2769607,"display_name":"user2769607"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"closed_date":1659622684,"answer_count":0,"score":3,"last_activity_date":1659620411,"creation_date":1659620411,"question_id":73236995,"body_markdown":"I stumbled across following scenario where how rounding works does not make sense to me.\r\n```\r\nnew BigDecimal(9999.005).setScale(2, RoundingMode.HALF_UP) -- 9999.0\r\nnew BigDecimal(999.005).setScale(2, RoundingMode.HALF_UP) -- 999.0\r\nnew BigDecimal(9.005).setScale(2, RoundingMode.HALF_UP) -- 9.01\r\nMath.round(9999.005*100.00)/100.000 -- 9999.0\r\nMath.round(999.005*100.00)/100.000 -- 999.01\r\nMath.round(9.005*100.00)/100.000 -- 9.01\r\n```\r\nMy understanding is when RoundingMode.HALF_UP is used, it should convert all three values .01 regardless of what is the number before decimal.\r\n\r\nJava documentation - Rounding mode to round towards {@literal &quot;nearest neighbor&quot;}\r\n         * unless both neighbors are equidistant, in which case round up.\r\n         * Behaves as for {@code RoundingMode.UP} if the discarded\r\n         * fraction is &amp;ge; 0.5; otherwise, behaves as for\r\n         * {@code RoundingMode.DOWN}.  Note that this is the rounding\r\n         * mode commonly taught at school.\r\n\r\nAm I wrong in the understanding on how this should work?","title":"Rounding in java shows different result","body":"<p>I stumbled across following scenario where how rounding works does not make sense to me.</p>\n<pre><code>new BigDecimal(9999.005).setScale(2, RoundingMode.HALF_UP) -- 9999.0\nnew BigDecimal(999.005).setScale(2, RoundingMode.HALF_UP) -- 999.0\nnew BigDecimal(9.005).setScale(2, RoundingMode.HALF_UP) -- 9.01\nMath.round(9999.005*100.00)/100.000 -- 9999.0\nMath.round(999.005*100.00)/100.000 -- 999.01\nMath.round(9.005*100.00)/100.000 -- 9.01\n</code></pre>\n<p>My understanding is when RoundingMode.HALF_UP is used, it should convert all three values .01 regardless of what is the number before decimal.</p>\n<p>Java documentation - Rounding mode to round towards {@literal &quot;nearest neighbor&quot;}\n* unless both neighbors are equidistant, in which case round up.\n* Behaves as for {@code RoundingMode.UP} if the discarded\n* fraction is ≥ 0.5; otherwise, behaves as for\n* {@code RoundingMode.DOWN}.  Note that this is the rounding\n* mode commonly taught at school.</p>\n<p>Am I wrong in the understanding on how this should work?</p>\n"},{"tags":["java","spring-boot","facet","hibernate-search","faceted-search"],"comments":[{"owner":{"account_id":4645073,"reputation":1083,"user_id":3763679,"display_name":"Andreas Radauer"},"score":0,"creation_date":1639522968,"post_id":70243614,"comment_id":124369313,"body_markdown":"I implemented my example with Hibernate Search 6. And also with aggregations I don&#39;t know how to achieve my target","body":"I implemented my example with Hibernate Search 6. And also with aggregations I don&#39;t know how to achieve my target"},{"owner":{"account_id":2082352,"reputation":792,"user_id":1854103,"display_name":"Tijkijiki"},"score":1,"creation_date":1640035158,"post_id":70243614,"comment_id":124495618,"body_markdown":"Can you describe current behavior and expected behavior more precisely please?","body":"Can you describe current behavior and expected behavior more precisely please?"},{"owner":{"account_id":4645073,"reputation":1083,"user_id":3763679,"display_name":"Andreas Radauer"},"score":0,"creation_date":1640039058,"post_id":70243614,"comment_id":124496651,"body_markdown":"ok an other Example: I have Jobs\nJava in London, Java in Paris, C# in Paris, Python in Vienna\nThe Facets would look like this\nCity:\nParis, \nLondon, \nVienna, \nLanguages:\nJava, \nC#, \nPython\n\nIf I select java. Facets look like this:\nCity: \nParis, \nLondon,\nLanguages:\nJava  \nBut this is not how for example amazon would show it. Java would not affect the values in the language group. The aggregation should return all possible values of the language group filtered by the city group.","body":"ok an other Example: I have Jobs Java in London, Java in Paris, C# in Paris, Python in Vienna The Facets would look like this City: Paris,  London,  Vienna,  Languages: Java,  C#,  Python  If I select java. Facets look like this: City:  Paris,  London, Languages: Java   But this is not how for example amazon would show it. Java would not affect the values in the language group. The aggregation should return all possible values of the language group filtered by the city group."}],"answers":[{"tags":[],"owner":{"account_id":8974783,"reputation":9445,"user_id":6692043,"display_name":"yrodiere"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659620252,"creation_date":1659620252,"answer_id":73236954,"question_id":70243614,"body_markdown":"There is already an enhancement request about this: https://hibernate.atlassian.net/browse/HSEARCH-713","title":"Selected facet should not filter own group using hibernate search","body":"<p>There is already an enhancement request about this: <a href=\"https://hibernate.atlassian.net/browse/HSEARCH-713\" rel=\"nofollow noreferrer\">https://hibernate.atlassian.net/browse/HSEARCH-713</a></p>\n"}],"owner":{"account_id":4645073,"reputation":1083,"user_id":3763679,"display_name":"Andreas Radauer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":73236954,"answer_count":1,"score":3,"last_activity_date":1659620252,"creation_date":1638784570,"question_id":70243614,"body_markdown":"If I have some Products with color and size.\r\nJeans Blue Size L\r\nJeans Red Size S\r\nT-shirt REd Size S\r\nand so on..\r\n\r\nDoing a facet search using hibernate-search works as quite well. But if I select one of the criteria, I would expect that the values of the own group are not filtered.\r\nfor Example\r\n\r\nColor\r\nRed (2)\r\nBlue (3)\r\n\r\nSize\r\nS (1)\r\nM (2)\r\nL (3)\r\n\r\nIf I selected the red color using something like this\r\n\r\n    fullTextQuery.getFacetManager().getFacetGroup(FACET_COLOR).selectFacets(colorFacet)\r\n\r\nThis selection should influence the overall Results of the Item List and the Result of the Size Facets. But of course I don&#39;t want that the Blue option to vanish. My expected behavior is pretty much how its done on bigger ecommerce sites.\r\nBut in my example the selected color red also changes the own group.\r\n\r\nI’m I missing something?\r\nThis is my example:\r\n\r\n    public SearchResponse search(SearchRequest request)\r\n        {\r\n    \r\n            FullTextEntityManager fullTextEntityManager = Search.getFullTextEntityManager(entityManager);\r\n    \r\n            QueryBuilder queryBuilder =\r\n              fullTextEntityManager.getSearchFactory().buildQueryBuilder().forEntity(Product.class).get();\r\n    \r\n            BooleanJunction bool = queryBuilder.bool().must(queryBuilder.all().createQuery());\r\n    \r\n            FacetingRequest colorFacetRequest = queryBuilder.facet().name(FACET_COLOR).onField(FACET_COLOR)\r\n              .discrete().createFacetingRequest();\r\n    \r\n            FacetingRequest sizeFacetRequest = queryBuilder.facet().name(FACET_SIZE).onField(FACET_SIZE)\r\n              .discrete().createFacetingRequest();\r\n    \r\n            FullTextQuery fullTextQuery = fullTextEntityManager.createFullTextQuery(bool.createQuery(), Product.class);\r\n            fullTextQuery.getFacetManager().enableFaceting(colorFacetRequest);\r\n            fullTextQuery.getFacetManager().enableFaceting(sizeFacetRequest);\r\n    \r\n            if (!StringUtils.isEmpty(request.color))\r\n            {\r\n                fullTextQuery.getFacetManager().getFacets(FACET_COLOR)\r\n                  .stream().filter(f -&gt; f.getValue().equals(request.color)).forEach(found -&gt; {\r\n                      fullTextQuery.getFacetManager().getFacetGroup(FACET_COLOR).selectFacets(found);\r\n                  });\r\n            }\r\n    \r\n            if (!StringUtils.isEmpty(request.size))\r\n            {\r\n                fullTextQuery.getFacetManager().getFacets(FACET_SIZE)\r\n                  .stream().filter(f -&gt; f.getValue().equals(request.size)).forEach(found -&gt; {\r\n                      fullTextQuery.getFacetManager().getFacetGroup(FACET_SIZE).selectFacets(found);\r\n    \r\n                  });\r\n            }\r\n    \r\n            List&lt;SearchFacet&gt; colorFacet = fullTextQuery.getFacetManager().getFacets(FACET_COLOR)\r\n              .stream().map(f -&gt; new SearchFacet(f.getValue(), f.getCount())).collect(Collectors.toList());\r\n            List&lt;SearchFacet&gt; sizeFacet = fullTextQuery.getFacetManager().getFacets(FACET_SIZE)\r\n              .stream().map(f -&gt; new SearchFacet(f.getValue(), f.getCount())).collect(Collectors.toList());\r\n    \r\n            return new SearchResponse(sizeFacet, colorFacet, fullTextQuery.getResultList());\r\n    \r\n        }\r\n\r\ndisabling each group before the getFacets Methods does not seem very clean\r\n\r\nThanks","title":"Selected facet should not filter own group using hibernate search","body":"<p>If I have some Products with color and size.\nJeans Blue Size L\nJeans Red Size S\nT-shirt REd Size S\nand so on..</p>\n<p>Doing a facet search using hibernate-search works as quite well. But if I select one of the criteria, I would expect that the values of the own group are not filtered.\nfor Example</p>\n<p>Color\nRed (2)\nBlue (3)</p>\n<p>Size\nS (1)\nM (2)\nL (3)</p>\n<p>If I selected the red color using something like this</p>\n<pre><code>fullTextQuery.getFacetManager().getFacetGroup(FACET_COLOR).selectFacets(colorFacet)\n</code></pre>\n<p>This selection should influence the overall Results of the Item List and the Result of the Size Facets. But of course I don't want that the Blue option to vanish. My expected behavior is pretty much how its done on bigger ecommerce sites.\nBut in my example the selected color red also changes the own group.</p>\n<p>I’m I missing something?\nThis is my example:</p>\n<pre><code>public SearchResponse search(SearchRequest request)\n    {\n\n        FullTextEntityManager fullTextEntityManager = Search.getFullTextEntityManager(entityManager);\n\n        QueryBuilder queryBuilder =\n          fullTextEntityManager.getSearchFactory().buildQueryBuilder().forEntity(Product.class).get();\n\n        BooleanJunction bool = queryBuilder.bool().must(queryBuilder.all().createQuery());\n\n        FacetingRequest colorFacetRequest = queryBuilder.facet().name(FACET_COLOR).onField(FACET_COLOR)\n          .discrete().createFacetingRequest();\n\n        FacetingRequest sizeFacetRequest = queryBuilder.facet().name(FACET_SIZE).onField(FACET_SIZE)\n          .discrete().createFacetingRequest();\n\n        FullTextQuery fullTextQuery = fullTextEntityManager.createFullTextQuery(bool.createQuery(), Product.class);\n        fullTextQuery.getFacetManager().enableFaceting(colorFacetRequest);\n        fullTextQuery.getFacetManager().enableFaceting(sizeFacetRequest);\n\n        if (!StringUtils.isEmpty(request.color))\n        {\n            fullTextQuery.getFacetManager().getFacets(FACET_COLOR)\n              .stream().filter(f -&gt; f.getValue().equals(request.color)).forEach(found -&gt; {\n                  fullTextQuery.getFacetManager().getFacetGroup(FACET_COLOR).selectFacets(found);\n              });\n        }\n\n        if (!StringUtils.isEmpty(request.size))\n        {\n            fullTextQuery.getFacetManager().getFacets(FACET_SIZE)\n              .stream().filter(f -&gt; f.getValue().equals(request.size)).forEach(found -&gt; {\n                  fullTextQuery.getFacetManager().getFacetGroup(FACET_SIZE).selectFacets(found);\n\n              });\n        }\n\n        List&lt;SearchFacet&gt; colorFacet = fullTextQuery.getFacetManager().getFacets(FACET_COLOR)\n          .stream().map(f -&gt; new SearchFacet(f.getValue(), f.getCount())).collect(Collectors.toList());\n        List&lt;SearchFacet&gt; sizeFacet = fullTextQuery.getFacetManager().getFacets(FACET_SIZE)\n          .stream().map(f -&gt; new SearchFacet(f.getValue(), f.getCount())).collect(Collectors.toList());\n\n        return new SearchResponse(sizeFacet, colorFacet, fullTextQuery.getResultList());\n\n    }\n</code></pre>\n<p>disabling each group before the getFacets Methods does not seem very clean</p>\n<p>Thanks</p>\n"},{"tags":["java","html","api"],"comments":[{"owner":{"account_id":8198,"reputation":176773,"user_id":14637,"accept_rate":88,"display_name":"Thomas"},"score":0,"creation_date":1659619401,"post_id":73236730,"comment_id":129341351,"body_markdown":"Java can read from files or environment variables just as well. Or do you mean it&#39;s a Java**Script** project? Those are _very_ different things.","body":"Java can read from files or environment variables just as well. Or do you mean it&#39;s a Java<b>Script</b> project? Those are <i>very</i> different things."}],"answers":[{"tags":[],"owner":{"display_name":"user19691658"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659620103,"creation_date":1659620103,"answer_id":73236923,"question_id":73236730,"body_markdown":"Since you&#39;re using that key in an HTML tag, hiding it from Git commit won&#39;t make your key safe from public access because anyways on production the key will be publicly accessible since the clients can see HTML code that the server is sending.\r\n\r\nIf you just want to make sure that the key won&#39;t be committed to Git, then I can think of two methods in that case.\r\n\r\n1. Keep the key in a separate file (like the .env that we usually use with nodejs), read the file contents using Java (Since you said Java is used instead of nodejs), and while rendering the webpage simply put that key in the output.\r\n\r\n2. Create a javascript file and keep your key in that script file (assign it to a variable)\r\nAnd then in your HTML file you can simply write a JavaScript code like this:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;script src=&quot;env.js&quot;&gt;&lt;/script&gt;\r\n\r\n    &lt;script&gt;\r\n        var s = document.createElement(&quot;script&quot;);\r\n        s.type = &quot;text/javascript&quot;;\r\n        s.src = &quot;https://maps.googleapis.com/maps/api/js?key=&quot;+myKey+&quot;&amp;callback=initMap&quot;;\r\n        $(&quot;head&quot;).append(s);\r\n    &lt;/script&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nMake sure that you&#39;re creating a variable with the name &quot;myKey&quot; in your env.js file.\r\n\r\nNow you can simply add your env.js file to .gitignore","title":"Hiding API key when committing changes to GitHub","body":"<p>Since you're using that key in an HTML tag, hiding it from Git commit won't make your key safe from public access because anyways on production the key will be publicly accessible since the clients can see HTML code that the server is sending.</p>\n<p>If you just want to make sure that the key won't be committed to Git, then I can think of two methods in that case.</p>\n<ol>\n<li><p>Keep the key in a separate file (like the .env that we usually use with nodejs), read the file contents using Java (Since you said Java is used instead of nodejs), and while rendering the webpage simply put that key in the output.</p>\n</li>\n<li><p>Create a javascript file and keep your key in that script file (assign it to a variable)\nAnd then in your HTML file you can simply write a JavaScript code like this:</p>\n</li>\n</ol>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"env.js\"&gt;&lt;/script&gt;\n\n&lt;script&gt;\n    var s = document.createElement(\"script\");\n    s.type = \"text/javascript\";\n    s.src = \"https://maps.googleapis.com/maps/api/js?key=\"+myKey+\"&amp;callback=initMap\";\n    $(\"head\").append(s);\n&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Make sure that you're creating a variable with the name &quot;myKey&quot; in your env.js file.</p>\n<p>Now you can simply add your env.js file to .gitignore</p>\n"}],"owner":{"account_id":25967801,"reputation":1,"user_id":19683512,"display_name":"ginny100"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1659620103,"creation_date":1659619208,"question_id":73236730,"body_markdown":"I have a Java project which contains an ```index.html``` file. In this html file, I need to access an API key with this line of code:\r\n\r\n    &lt;script src=&quot;https://maps.googleapis.com/maps/api/js?key=ABCDEFGHijklmnopqrst12345&amp;callback=initMap&quot;&gt;&lt;/script&gt;\r\n\r\nI want to commit this file to GitHub, but I do not want to show my API key. However, I cannot achieve this by storing my API key in an ```.env``` file since my project has nothing to do with ```node.js```, it&#39;s just a Java project.\r\n\r\nPlease give me some advice on how I can store my API key within my project and make sure it won&#39;t be committed to GitHub. Thanks in advance.","title":"Hiding API key when committing changes to GitHub","body":"<p>I have a Java project which contains an <code>index.html</code> file. In this html file, I need to access an API key with this line of code:</p>\n<pre><code>&lt;script src=&quot;https://maps.googleapis.com/maps/api/js?key=ABCDEFGHijklmnopqrst12345&amp;callback=initMap&quot;&gt;&lt;/script&gt;\n</code></pre>\n<p>I want to commit this file to GitHub, but I do not want to show my API key. However, I cannot achieve this by storing my API key in an <code>.env</code> file since my project has nothing to do with <code>node.js</code>, it's just a Java project.</p>\n<p>Please give me some advice on how I can store my API key within my project and make sure it won't be committed to GitHub. Thanks in advance.</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1659620132,"post_id":73236878,"comment_id":129341664,"body_markdown":"`Collection&lt;Object&gt;` says it is a collection of Objects, a `Collection&lt;Integer&gt;` is a collection of Integers, which are also Objects. You can add `String` to `Collection&lt;Object&gt;` but not to `Collection&lt;Integer&gt;` Hence, if you want to refer to the fact the Integer are Objects you can say, I have a `Collection&lt;? extends Object&gt;` That way you know `?` is more specific than `Object` but you only need to know they&#39;re Objects. eg. You cannot add a String to it.","body":"<code>Collection&lt;Object&gt;</code> says it is a collection of Objects, a <code>Collection&lt;Integer&gt;</code> is a collection of Integers, which are also Objects. You can add <code>String</code> to <code>Collection&lt;Object&gt;</code> but not to <code>Collection&lt;Integer&gt;</code> Hence, if you want to refer to the fact the Integer are Objects you can say, I have a <code>Collection&lt;? extends Object&gt;</code> That way you know <code>?</code> is more specific than <code>Object</code> but you only need to know they&#39;re Objects. eg. You cannot add a String to it."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1659620255,"post_id":73236878,"comment_id":129341712,"body_markdown":"You can *add* any kind of object into a `Collection&lt;Object&gt;`, but you can only add integers to `Collection&lt;Integer&gt;`, so clearly `Collection&lt;Object&gt;` is not a supertype of `Collection&lt;Integer&gt;`. Now try adding things to `Collection&lt;?&gt;` :)","body":"You can <i>add</i> any kind of object into a <code>Collection&lt;Object&gt;</code>, but you can only add integers to <code>Collection&lt;Integer&gt;</code>, so clearly <code>Collection&lt;Object&gt;</code> is not a supertype of <code>Collection&lt;Integer&gt;</code>. Now try adding things to <code>Collection&lt;?&gt;</code> :)"}],"owner":{"display_name":"user10525734"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1659620125,"answer_count":0,"score":0,"last_activity_date":1659619891,"creation_date":1659619891,"question_id":73236878,"body_markdown":"I`m currently trying to study java generics and I`m trying to understand wilcards .\r\nI was reading java docs and I encountered this information below. Can you please clarify why \r\nCollection&lt;object&gt; is not the supertype of all collections and it is when we use Collection&lt;?&gt;  ?\r\nIs this because , in example , we can pass a collection into a collection ? \r\n\r\nthank you .\r\nThe text from docs is below :\r\n\r\nConsider the problem of writing a routine that prints out all the elements in a collection. Here&#39;s how you might write it in an older version of the language (that is, a pre-5.0 release):\r\n\r\n    void printCollection(Collection c) {\r\n    Iterator i = c.iterator();\r\n    for (k = 0; k &lt; c.size(); k++) {\r\n        System.out.println(i.next());\r\n    }\r\n}\r\nAnd here is a naive attempt at writing it using generics (and the new for loop syntax):\r\n\r\n         void printCollection(Collection&lt;Object&gt; c) {\r\n          for (Object e : c) {\r\n          System.out.println(e);\r\n          }\r\n            }\r\nThe problem is that this new version is much less useful than the old one. Whereas the old code could be called with any kind of collection as a parameter, the new code only takes Collection&lt;Object&gt;, which, as we&#39;ve just demonstrated, is not a supertype of all kinds of collections!\r\n\r\nSo what is the supertype of all kinds of collections? It&#39;s written Collection&lt;?&gt; (pronounced &quot;collection of unknown&quot;), that is, a collection whose element type matches anything. It&#39;s called a wildcard type for obvious reasons. We can write:\r\n\r\n        void printCollection(Collection&lt;?&gt; c) {\r\n         for (Object e : c) {\r\n        System.out.println(e);\r\n        }\r\n      }","title":"Why collection&lt;object&gt; is not the super type of all Collections?","body":"<p>I<code>m currently trying to study java generics and I</code>m trying to understand wilcards .\nI was reading java docs and I encountered this information below. Can you please clarify why\nCollection is not the supertype of all collections and it is when we use Collection&lt;?&gt;  ?\nIs this because , in example , we can pass a collection into a collection ?</p>\n<p>thank you .\nThe text from docs is below :</p>\n<p>Consider the problem of writing a routine that prints out all the elements in a collection. Here's how you might write it in an older version of the language (that is, a pre-5.0 release):</p>\n<pre><code>void printCollection(Collection c) {\nIterator i = c.iterator();\nfor (k = 0; k &lt; c.size(); k++) {\n    System.out.println(i.next());\n}\n</code></pre>\n<p>}\nAnd here is a naive attempt at writing it using generics (and the new for loop syntax):</p>\n<pre><code>     void printCollection(Collection&lt;Object&gt; c) {\n      for (Object e : c) {\n      System.out.println(e);\n      }\n        }\n</code></pre>\n<p>The problem is that this new version is much less useful than the old one. Whereas the old code could be called with any kind of collection as a parameter, the new code only takes Collection, which, as we've just demonstrated, is not a supertype of all kinds of collections!</p>\n<p>So what is the supertype of all kinds of collections? It's written Collection&lt;?&gt; (pronounced &quot;collection of unknown&quot;), that is, a collection whose element type matches anything. It's called a wildcard type for obvious reasons. We can write:</p>\n<pre><code>    void printCollection(Collection&lt;?&gt; c) {\n     for (Object e : c) {\n    System.out.println(e);\n    }\n  }\n</code></pre>\n"},{"tags":["java","spring-boot","spring-mvc","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":24430255,"reputation":88,"user_id":18355295,"display_name":"Stefan Billmaier"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659619485,"creation_date":1659619485,"answer_id":73236791,"question_id":73229134,"body_markdown":"As your screenshot states the type of variable ```e``` is not an OTPException, but an ExecutionException.\r\nThe cause of ExecutionException is an OTPException.\r\n\r\nEither change that ```service.generate(...)``` throws directly an OTPException (and does not wrap it into an ExectionException).\r\nOr change the catch block in your controller to catch ExecutionException and check the cause of the catched exception.","title":"Thymeleaf: Catch exception in controller","body":"<p>As your screenshot states the type of variable <code>e</code> is not an OTPException, but an ExecutionException.\nThe cause of ExecutionException is an OTPException.</p>\n<p>Either change that <code>service.generate(...)</code> throws directly an OTPException (and does not wrap it into an ExectionException).\nOr change the catch block in your controller to catch ExecutionException and check the cause of the catched exception.</p>\n"}],"owner":{"account_id":6070104,"reputation":1839,"user_id":4739210,"accept_rate":0,"display_name":"Aymen Kanzari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1659619485,"creation_date":1659572760,"question_id":73229134,"body_markdown":"I have the below method in the controller that I catch an error inside it\r\n    \r\n    @Controller\r\n    @RequestMapping(&quot;/popup&quot;)\r\n    public class PopupResource {\r\n    \r\n        @GetMapping\r\n        public String popup() {\r\n            try {\r\n                 service.generate(new ExistOTPValidQuery().requestNumber(&quot;test&quot;), Boolean.class).get();\r\n            } catch (OTPException e) {\r\n                  return &quot;user&quot;;\r\n            }\r\n            return &quot;error&quot;;\r\n        }\r\n    }\r\n\r\nI defined the exception\r\n\r\n    @Order(Ordered.HIGHEST_PRECEDENCE)\r\n    @ControllerAdvice()\r\n    public class GlobalExceptionHandler {\r\n    \r\n        @ExceptionHandler(OTPException.class)\r\n        public ResponseEntity&lt;Object&gt; otpException(OTPException ex) {\r\n            return buildResponseEntity(new ApiError(CustomHttpStatus.OTP_REQUEST, new Date(), ex.getMessage()),\r\n                HttpStatus.BAD_REQUEST);\r\n        }\r\n    \r\n        private ResponseEntity&lt;Object&gt; buildResponseEntity(ApiError apiError, HttpStatus status) {\r\n            return new ResponseEntity&lt;&gt;(apiError, status);\r\n        }\r\n        \r\n    }\r\n\r\nThe problem when the service throws the exception `OTPException`, it&#39;s not catched in the controller \r\n\r\n\r\nwhen I put a break point on this catch block, I get the values like in the picture below\r\n\r\n\r\n    catch (Exception e) {\r\n      if (e instanceof OTPException) { //it does not enter here\r\n          return &quot;user&quot;;\r\n      }\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/P5oz8.png","title":"Thymeleaf: Catch exception in controller","body":"<p>I have the below method in the controller that I catch an error inside it</p>\n<pre><code>@Controller\n@RequestMapping(&quot;/popup&quot;)\npublic class PopupResource {\n\n    @GetMapping\n    public String popup() {\n        try {\n             service.generate(new ExistOTPValidQuery().requestNumber(&quot;test&quot;), Boolean.class).get();\n        } catch (OTPException e) {\n              return &quot;user&quot;;\n        }\n        return &quot;error&quot;;\n    }\n}\n</code></pre>\n<p>I defined the exception</p>\n<pre><code>@Order(Ordered.HIGHEST_PRECEDENCE)\n@ControllerAdvice()\npublic class GlobalExceptionHandler {\n\n    @ExceptionHandler(OTPException.class)\n    public ResponseEntity&lt;Object&gt; otpException(OTPException ex) {\n        return buildResponseEntity(new ApiError(CustomHttpStatus.OTP_REQUEST, new Date(), ex.getMessage()),\n            HttpStatus.BAD_REQUEST);\n    }\n\n    private ResponseEntity&lt;Object&gt; buildResponseEntity(ApiError apiError, HttpStatus status) {\n        return new ResponseEntity&lt;&gt;(apiError, status);\n    }\n    \n}\n</code></pre>\n<p>The problem when the service throws the exception <code>OTPException</code>, it's not catched in the controller</p>\n<p>when I put a break point on this catch block, I get the values like in the picture below</p>\n<pre><code>catch (Exception e) {\n  if (e instanceof OTPException) { //it does not enter here\n      return &quot;user&quot;;\n  }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/P5oz8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P5oz8.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":186438,"reputation":11018,"user_id":423823,"display_name":"Zelimir"},"score":0,"creation_date":1296592927,"post_id":4609456,"comment_id":5410724,"body_markdown":"Have you found the way how to resize drawable (Bitmap)?","body":"Have you found the way how to resize drawable (Bitmap)?"},{"owner":{"account_id":896925,"reputation":1592,"user_id":933969,"accept_rate":100,"display_name":"William T. Mallard"},"score":2,"creation_date":1385111662,"post_id":4609456,"comment_id":30017579,"body_markdown":"Way late, but wondering why you weren&#39;t calling `setCompoundDrawables()`?  Intrinsic refers to the original image size in other places within Android, e.g. `Drawable.getIntrinsicHeight()`.","body":"Way late, but wondering why you weren&#39;t calling <code>setCompoundDrawables()</code>?  Intrinsic refers to the original image size in other places within Android, e.g. <code>Drawable.getIntrinsicHeight()</code>."}],"answers":[{"tags":[],"owner":{"account_id":273172,"reputation":45,"user_id":564612,"accept_rate":75,"display_name":"user564612"},"down_vote_count":54,"up_vote_count":7,"is_accepted":false,"score":-47,"last_activity_date":1328016954,"creation_date":1294263950,"answer_id":4609540,"question_id":4609456,"body_markdown":"    Button button = new Button(this);\r\n    Button = (Button) findViewById(R.id.button01);\r\n\r\nUse `Button.setHeight()` or `Button.setWeight()` and set a value.","title":"Set drawable size programmatically","body":"<pre><code>Button button = new Button(this);\nButton = (Button) findViewById(R.id.button01);\n</code></pre>\n\n<p>Use <code>Button.setHeight()</code> or <code>Button.setWeight()</code> and set a value.</p>\n"},{"tags":[],"owner":{"account_id":130475,"reputation":7330,"user_id":329776,"display_name":"jkhouw1"},"down_vote_count":6,"up_vote_count":40,"is_accepted":false,"score":34,"last_activity_date":1328016951,"creation_date":1303007896,"answer_id":5691074,"question_id":4609456,"body_markdown":"Specify the size with `setBounds()`, ie for a 50x50 size use\r\n\r\n    drawable.setBounds(0, 0, 50, 50);\r\n\r\n\r\n\r\n&gt; public void setBounds (int left, int top, int right, int bottom) \r\n","title":"Set drawable size programmatically","body":"<p>Specify the size with <code>setBounds()</code>, ie for a 50x50 size use</p>\n\n<pre><code>drawable.setBounds(0, 0, 50, 50);\n</code></pre>\n\n<blockquote>\n  <p>public void setBounds (int left, int top, int right, int bottom) </p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":221465,"reputation":3582,"user_id":479478,"accept_rate":75,"display_name":"Eric Chen"},"down_vote_count":1,"up_vote_count":178,"is_accepted":false,"score":177,"last_activity_date":1349888377,"creation_date":1325072485,"answer_id":8655456,"question_id":4609456,"body_markdown":"The `setBounds()` method doesn&#39;t work for every type of container (did work for some of my `ImageView`&#39;s, however).\r\n\r\nTry the method below to scale the drawable itself:\r\n\r\n    // Read your drawable from somewhere\r\n    Drawable dr = getResources().getDrawable(R.drawable.somedrawable);\r\n    Bitmap bitmap = ((BitmapDrawable) dr).getBitmap();\r\n    // Scale it to 50 x 50\r\n    Drawable d = new BitmapDrawable(getResources(), Bitmap.createScaledBitmap(bitmap, 50, 50, true));\r\n    // Set your new, scaled drawable &quot;d&quot;","title":"Set drawable size programmatically","body":"<p>The <code>setBounds()</code> method doesn't work for every type of container (did work for some of my <code>ImageView</code>'s, however).</p>\n\n<p>Try the method below to scale the drawable itself:</p>\n\n<pre><code>// Read your drawable from somewhere\nDrawable dr = getResources().getDrawable(R.drawable.somedrawable);\nBitmap bitmap = ((BitmapDrawable) dr).getBitmap();\n// Scale it to 50 x 50\nDrawable d = new BitmapDrawable(getResources(), Bitmap.createScaledBitmap(bitmap, 50, 50, true));\n// Set your new, scaled drawable \"d\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":180740,"reputation":2722,"user_id":414266,"accept_rate":100,"display_name":"Zulaxia"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1331488935,"creation_date":1331488935,"answer_id":9657424,"question_id":4609456,"body_markdown":"You can create a subclass of the view type, and override the onSizeChanged method.\r\n\r\nI wanted to have scaling compound drawables on my text views that didn&#39;t require me to mess around with defining bitmap drawables in xml, etc. and did it this way:\r\n\r\n    public class StatIcon extends TextView {\r\n\r\n\t\tprivate Bitmap mIcon;\r\n\r\n    \tpublic void setIcon(int drawableId) {\r\n\t\tmIcon = BitmapFactory.decodeResource(RIApplication.appResources,\r\n\t\t\t\tdrawableId);\r\n\t\t}\r\n    \r\n    \t@Override\r\n\t\tprotected void onSizeChanged(int w, int h, int oldw, int oldh) {\r\n\t\t\tif ((w &gt; 0) &amp;&amp; (mIcon != null))\r\n\t\t\t\tthis.setCompoundDrawablesWithIntrinsicBounds(\r\n\t\t\t\t\tnull,\r\n\t\t\t\t\tnew BitmapDrawable(Bitmap.createScaledBitmap(mIcon, w, w,\r\n\t\t\t\t\t\t\ttrue)), null, null);\r\n    \r\n\t\t\tsuper.onSizeChanged(w, h, oldw, oldh);\r\n\t\t}\r\n    \r\n    }\r\n\r\n*(Note that I used w twice, not h, as in this case I was putting the icon above the text, and thus the icon shouldn&#39;t have the same height as the text view)*\r\n\r\nThis can be applied to background drawables, or anything else you want to resize relative to your view size. onSizeChanged() is called the first time the View is made, so you don&#39;t need any special cases for initialising the size.","title":"Set drawable size programmatically","body":"<p>You can create a subclass of the view type, and override the onSizeChanged method.</p>\n\n<p>I wanted to have scaling compound drawables on my text views that didn't require me to mess around with defining bitmap drawables in xml, etc. and did it this way:</p>\n\n<pre><code>public class StatIcon extends TextView {\n\n    private Bitmap mIcon;\n\n    public void setIcon(int drawableId) {\n    mIcon = BitmapFactory.decodeResource(RIApplication.appResources,\n            drawableId);\n    }\n\n    @Override\n    protected void onSizeChanged(int w, int h, int oldw, int oldh) {\n        if ((w &gt; 0) &amp;&amp; (mIcon != null))\n            this.setCompoundDrawablesWithIntrinsicBounds(\n                null,\n                new BitmapDrawable(Bitmap.createScaledBitmap(mIcon, w, w,\n                        true)), null, null);\n\n        super.onSizeChanged(w, h, oldw, oldh);\n    }\n\n}\n</code></pre>\n\n<p><em>(Note that I used w twice, not h, as in this case I was putting the icon above the text, and thus the icon shouldn't have the same height as the text view)</em></p>\n\n<p>This can be applied to background drawables, or anything else you want to resize relative to your view size. onSizeChanged() is called the first time the View is made, so you don't need any special cases for initialising the size.</p>\n"},{"tags":[],"owner":{"account_id":141284,"reputation":2245,"user_id":348192,"display_name":"iBog"},"down_vote_count":4,"up_vote_count":18,"is_accepted":false,"score":14,"last_activity_date":1371736129,"creation_date":1371736129,"answer_id":17215366,"question_id":4609456,"body_markdown":"Before apply .setBounds(..) try to convert current Drawable into ScaleDrawable\r\n\r\n    drawable = new ScaleDrawable(drawable, 0, width, height).getDrawable();\r\n\r\nafter that \r\n\r\n    drawable.setBounds(0, 0, width, height);\r\nwill work","title":"Set drawable size programmatically","body":"<p>Before apply .setBounds(..) try to convert current Drawable into ScaleDrawable</p>\n\n<pre><code>drawable = new ScaleDrawable(drawable, 0, width, height).getDrawable();\n</code></pre>\n\n<p>after that </p>\n\n<pre><code>drawable.setBounds(0, 0, width, height);\n</code></pre>\n\n<p>will work</p>\n"},{"tags":[],"owner":{"account_id":1538645,"reputation":742,"user_id":2930101,"accept_rate":52,"display_name":"OneEyeQuestion"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1385861016,"creation_date":1385861016,"answer_id":20307688,"question_id":4609456,"body_markdown":"Use the post method to achieve the desired effect:\r\n\r\n    {your view}.post(new Runnable()\r\n\t\t{\r\n\t\t\t@Override\r\n\t\t\tpublic void run()\r\n\t\t\t{\r\n\t\t\t\tDrawable image = context.getResources().getDrawable({drawable image resource id});\r\n\t\t\t\timage.setBounds(0, 0, {width amount in pixels}, {height amount in pixels});\r\n\t\t\t\t{your view}.setCompoundDrawables(image, null, null, null);\r\n\t\t\t}\r\n\t\t});","title":"Set drawable size programmatically","body":"<p>Use the post method to achieve the desired effect:</p>\n\n<pre><code>{your view}.post(new Runnable()\n    {\n        @Override\n        public void run()\n        {\n            Drawable image = context.getResources().getDrawable({drawable image resource id});\n            image.setBounds(0, 0, {width amount in pixels}, {height amount in pixels});\n            {your view}.setCompoundDrawables(image, null, null, null);\n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7026976,"reputation":382,"user_id":5384043,"accept_rate":14,"display_name":"Androbean Studio"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1464506605,"creation_date":1464506605,"answer_id":37507292,"question_id":4609456,"body_markdown":"Probably a little late. But here is the solution that finally worked for me in every situation.\r\n\r\nThe idea is to create a custom drawable with fixed intrinic size and pass the drawing job on to the original drawable.\r\n\r\n \r\n\r\n    Drawable icon = new ColorDrawable(){\r\n        \tDrawable iconOrig = resolveInfo.loadIcon(packageManager);\r\n        \r\n        \t@Override\r\n        \tpublic void setBounds(int left, int top, int right, int bottom){\r\n        \t\tsuper.setBounds(left, top, right, bottom);//This is needed so that getBounds on this class would work correctly.\r\n        \t\ticonOrig.setBounds(left, top, right, bottom);\r\n        \t}\r\n        \r\n        \t@Override\r\n        \tpublic void draw(Canvas canvas){\r\n        \t\ticonOrig.draw(canvas);\r\n        \t}\r\n        \r\n        \t@Override\r\n        \tpublic int getIntrinsicWidth(){\r\n        \t\treturn  mPlatform.dp2px(30);\r\n        \t}\r\n        \r\n        \t@Override\r\n        \tpublic int getIntrinsicHeight(){\r\n        \t\treturn  mPlatform.dp2px(30);\r\n        \t}\r\n        };","title":"Set drawable size programmatically","body":"<p>Probably a little late. But here is the solution that finally worked for me in every situation.</p>\n\n<p>The idea is to create a custom drawable with fixed intrinic size and pass the drawing job on to the original drawable.</p>\n\n<pre><code>Drawable icon = new ColorDrawable(){\n        Drawable iconOrig = resolveInfo.loadIcon(packageManager);\n\n        @Override\n        public void setBounds(int left, int top, int right, int bottom){\n            super.setBounds(left, top, right, bottom);//This is needed so that getBounds on this class would work correctly.\n            iconOrig.setBounds(left, top, right, bottom);\n        }\n\n        @Override\n        public void draw(Canvas canvas){\n            iconOrig.draw(canvas);\n        }\n\n        @Override\n        public int getIntrinsicWidth(){\n            return  mPlatform.dp2px(30);\n        }\n\n        @Override\n        public int getIntrinsicHeight(){\n            return  mPlatform.dp2px(30);\n        }\n    };\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8590499,"reputation":91,"user_id":6435240,"display_name":"Semih Fatih"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1482668898,"creation_date":1482668196,"answer_id":41321037,"question_id":4609456,"body_markdown":"To use\r\n\r\n    textView.setCompoundDrawablesWithIntrinsicBounds()\r\nYour minSdkVersion should be 17 in build.gradle\r\n\r\n        defaultConfig {\r\n        applicationId &quot;com.example...&quot;\r\n        minSdkVersion 17\r\n        targetSdkVersion 25\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n    }\r\n\r\nTo change drawable size:\r\n\r\n        TextView v = (TextView)findViewById(email);\r\n        Drawable dr = getResources().getDrawable(R.drawable.signup_mail);\r\n        Bitmap bitmap = ((BitmapDrawable) dr).getBitmap();\r\n        Drawable d = new BitmapDrawable(getResources(), Bitmap.createScaledBitmap(bitmap, 80, 80, true));\r\n\r\n        //setCompoundDrawablesWithIntrinsicBounds (image to left, top, right, bottom)\r\n        v.setCompoundDrawablesWithIntrinsicBounds(d,null,null,null);","title":"Set drawable size programmatically","body":"<p>To use</p>\n\n<pre><code>textView.setCompoundDrawablesWithIntrinsicBounds()\n</code></pre>\n\n<p>Your minSdkVersion should be 17 in build.gradle</p>\n\n<pre><code>    defaultConfig {\n    applicationId \"com.example...\"\n    minSdkVersion 17\n    targetSdkVersion 25\n    versionCode 1\n    versionName \"1.0\"\n}\n</code></pre>\n\n<p>To change drawable size:</p>\n\n<pre><code>    TextView v = (TextView)findViewById(email);\n    Drawable dr = getResources().getDrawable(R.drawable.signup_mail);\n    Bitmap bitmap = ((BitmapDrawable) dr).getBitmap();\n    Drawable d = new BitmapDrawable(getResources(), Bitmap.createScaledBitmap(bitmap, 80, 80, true));\n\n    //setCompoundDrawablesWithIntrinsicBounds (image to left, top, right, bottom)\n    v.setCompoundDrawablesWithIntrinsicBounds(d,null,null,null);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5936955,"reputation":7346,"user_id":4669617,"accept_rate":50,"display_name":"ceph3us"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1516013810,"creation_date":1495563312,"answer_id":44142192,"question_id":4609456,"body_markdown":"i didn&#39;t have time to dig why the setBounds() method is not working on bitmap drawable as expected but i have little tweaked @androbean-studio solution to do what setBounds should do...\r\n\r\n    /**\r\n\t * Created by ceph3us on 23.05.17.\r\n\t * file belong to pl.ceph3us.base.android.drawables\r\n\t * this class wraps drawable and forwards draw canvas\r\n\t * on it wrapped instance by using its defined bounds\r\n\t */\r\n\tpublic class WrappedDrawable extends Drawable {\r\n\t\r\n\t\tprivate final Drawable _drawable;\r\n\t\tprotected Drawable getDrawable() {\r\n\t\t\treturn _drawable;\r\n\t\t}\r\n\t\r\n\t\tpublic WrappedDrawable(Drawable drawable) {\r\n\t\t\tsuper();\r\n\t\t\t_drawable = drawable;\r\n\t\t}\r\n\t\r\n\t\t@Override\r\n\t\tpublic void setBounds(int left, int top, int right, int bottom) {\r\n\t    \t//update bounds to get correctly\r\n\t\t    super.setBounds(left, top, right, bottom);\r\n\t\t\tDrawable drawable = getDrawable();\r\n\t\t\tif (drawable != null) {\r\n\t\t\t\tdrawable.setBounds(left, top, right, bottom);\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\t@Override\r\n\t\tpublic void setAlpha(int alpha) {\r\n\t\t\tDrawable drawable = getDrawable();\r\n\t\t\tif (drawable != null) {\r\n\t\t\t\tdrawable.setAlpha(alpha);\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\t@Override\r\n\t\tpublic void setColorFilter(ColorFilter colorFilter) {\r\n\t\t\tDrawable drawable = getDrawable();\r\n\t\t\tif (drawable != null) {\r\n\t\t\t\tdrawable.setColorFilter(colorFilter);\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\t@Override\r\n\t\tpublic int getOpacity() {\r\n\t\t\tDrawable drawable = getDrawable();\r\n\t\t\treturn drawable != null\r\n\t\t\t\t\t? drawable.getOpacity()\r\n\t\t\t\t\t: PixelFormat.UNKNOWN;\r\n\t\t}\r\n\t\r\n\t\t@Override\r\n\t\tpublic void draw(Canvas canvas) {\r\n\t\t\tDrawable drawable = getDrawable();\r\n\t\t\tif (drawable != null) {\r\n\t\t\t\tdrawable.draw(canvas);\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\t@Override\r\n\t\tpublic int getIntrinsicWidth() {\r\n\t\t\tDrawable drawable = getDrawable();\r\n\t\t\treturn drawable != null\r\n\t\t\t\t\t? drawable.getBounds().width()\r\n\t\t\t\t\t: 0;\r\n\t\t}\r\n\t\r\n\t\t@Override\r\n\t\tpublic int getIntrinsicHeight() {\r\n\t\t\tDrawable drawable = getDrawable();\r\n\t\t\treturn drawable != null ?\r\n\t\t\t\t\tdrawable.getBounds().height()\r\n\t\t\t\t\t: 0;\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\nusage:\r\n\r\n    // get huge drawable \r\n\tfinal Drawable drawable = resources.getDrawable(R.drawable.g_logo);\r\n    // create our wrapper   \t\t\r\n    WrappedDrawable wrappedDrawable = new WrappedDrawable(drawable);\r\n    // set bounds on wrapper \r\n\twrappedDrawable.setBounds(0,0,32,32); \r\n    // use wrapped drawable \r\n    Button.setCompoundDrawablesWithIntrinsicBounds(wrappedDrawable ,null, null, null);\r\n\r\nresults\r\n\r\nbefore: [![enter image description here][1]][1]  after: [![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Azt0e.png\r\n  [2]: https://i.stack.imgur.com/hWK6Z.png","title":"Set drawable size programmatically","body":"<p>i didn't have time to dig why the setBounds() method is not working on bitmap drawable as expected but i have little tweaked @androbean-studio solution to do what setBounds should do...</p>\n\n<pre><code>/**\n * Created by ceph3us on 23.05.17.\n * file belong to pl.ceph3us.base.android.drawables\n * this class wraps drawable and forwards draw canvas\n * on it wrapped instance by using its defined bounds\n */\npublic class WrappedDrawable extends Drawable {\n\n    private final Drawable _drawable;\n    protected Drawable getDrawable() {\n        return _drawable;\n    }\n\n    public WrappedDrawable(Drawable drawable) {\n        super();\n        _drawable = drawable;\n    }\n\n    @Override\n    public void setBounds(int left, int top, int right, int bottom) {\n        //update bounds to get correctly\n        super.setBounds(left, top, right, bottom);\n        Drawable drawable = getDrawable();\n        if (drawable != null) {\n            drawable.setBounds(left, top, right, bottom);\n        }\n    }\n\n    @Override\n    public void setAlpha(int alpha) {\n        Drawable drawable = getDrawable();\n        if (drawable != null) {\n            drawable.setAlpha(alpha);\n        }\n    }\n\n    @Override\n    public void setColorFilter(ColorFilter colorFilter) {\n        Drawable drawable = getDrawable();\n        if (drawable != null) {\n            drawable.setColorFilter(colorFilter);\n        }\n    }\n\n    @Override\n    public int getOpacity() {\n        Drawable drawable = getDrawable();\n        return drawable != null\n                ? drawable.getOpacity()\n                : PixelFormat.UNKNOWN;\n    }\n\n    @Override\n    public void draw(Canvas canvas) {\n        Drawable drawable = getDrawable();\n        if (drawable != null) {\n            drawable.draw(canvas);\n        }\n    }\n\n    @Override\n    public int getIntrinsicWidth() {\n        Drawable drawable = getDrawable();\n        return drawable != null\n                ? drawable.getBounds().width()\n                : 0;\n    }\n\n    @Override\n    public int getIntrinsicHeight() {\n        Drawable drawable = getDrawable();\n        return drawable != null ?\n                drawable.getBounds().height()\n                : 0;\n    }\n}\n</code></pre>\n\n<p>usage:</p>\n\n<pre><code>// get huge drawable \nfinal Drawable drawable = resources.getDrawable(R.drawable.g_logo);\n// create our wrapper           \nWrappedDrawable wrappedDrawable = new WrappedDrawable(drawable);\n// set bounds on wrapper \nwrappedDrawable.setBounds(0,0,32,32); \n// use wrapped drawable \nButton.setCompoundDrawablesWithIntrinsicBounds(wrappedDrawable ,null, null, null);\n</code></pre>\n\n<p>results</p>\n\n<p>before: <a href=\"https://i.stack.imgur.com/Azt0e.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Azt0e.png\" alt=\"enter image description here\"></a>  after: <a href=\"https://i.stack.imgur.com/hWK6Z.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/hWK6Z.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":6983920,"reputation":814,"user_id":5355662,"display_name":"Valery Miller"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1524641793,"creation_date":1524641793,"answer_id":50016553,"question_id":4609456,"body_markdown":"You can use LayerDrawable from only one layer and setLayerInset method:\r\n\r\n    \r\n    Drawable[] layers = new Drawable[1];\r\n    layers[0] = application.getResources().getDrawable(R.drawable.you_drawable);\r\n    \r\n    LayerDrawable layerDrawable = new LayerDrawable(layers);\r\n    layerDrawable.setLayerInset(0, 10, 10, 10, 10);\r\n\r\n","title":"Set drawable size programmatically","body":"<p>You can use LayerDrawable from only one layer and setLayerInset method:</p>\n\n<pre><code>Drawable[] layers = new Drawable[1];\nlayers[0] = application.getResources().getDrawable(R.drawable.you_drawable);\n\nLayerDrawable layerDrawable = new LayerDrawable(layers);\nlayerDrawable.setLayerInset(0, 10, 10, 10, 10);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5984797,"reputation":14686,"user_id":5730321,"accept_rate":69,"display_name":"Leo DroidCoder"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1560762245,"creation_date":1560762245,"answer_id":56628075,"question_id":4609456,"body_markdown":"It&#39;s been a while since the question was asked  \r\nbut is still unclear for many how to do this simple thing.\r\n\r\nIt&#39;s pretty simple in that case when you use a Drawable as a compound drawable on a TextView (Button).  \r\n\r\nSo 2 things you have to do:\r\n\r\n1.Set bounds:  \r\n\r\n    drawable.setBounds(left, top, right, bottom)\r\n\r\n2.Set the drawable appropriately (without using of intrinsic bounds): \r\n\r\n    button.setCompoundDrawablesRelative(drawable, null, null, null)\r\n\r\n\r\n\r\n\r\n - No need to use Bitmaps\r\n - No workarounds such as `ScaleDrawable` `ColorDrawable` or `LayerDrawable` (what are definitely created for other purposes)\r\n - No need in custom drawables!\r\n - No workarounds with the `post`\r\n - It&#39;s a native and simple solution, just how Android expects you to do.\r\n\r\n \r\n\r\n\r\n","title":"Set drawable size programmatically","body":"<p>It's been a while since the question was asked<br>\nbut is still unclear for many how to do this simple thing.</p>\n\n<p>It's pretty simple in that case when you use a Drawable as a compound drawable on a TextView (Button).  </p>\n\n<p>So 2 things you have to do:</p>\n\n<p>1.Set bounds:  </p>\n\n<pre><code>drawable.setBounds(left, top, right, bottom)\n</code></pre>\n\n<p>2.Set the drawable appropriately (without using of intrinsic bounds): </p>\n\n<pre><code>button.setCompoundDrawablesRelative(drawable, null, null, null)\n</code></pre>\n\n<ul>\n<li>No need to use Bitmaps</li>\n<li>No workarounds such as <code>ScaleDrawable</code> <code>ColorDrawable</code> or <code>LayerDrawable</code> (what are definitely created for other purposes)</li>\n<li>No need in custom drawables!</li>\n<li>No workarounds with the <code>post</code></li>\n<li>It's a native and simple solution, just how Android expects you to do.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":8229022,"reputation":31,"user_id":6190330,"display_name":"Ilia Petukhov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1565022051,"creation_date":1565022051,"answer_id":57362496,"question_id":4609456,"body_markdown":"jkhouw1 answer is correct one, but it lacks some details, see below:\r\n\r\nIt is much easier for at least API &gt; 21.\r\nAssume that we have VectorDrawable from resources (example code to retrieve it):\r\n\r\n    val iconResource = context.resources.getIdentifier(name, &quot;drawable&quot;, context.packageName)\r\n    val drawable = context.resources.getDrawable(iconResource, null)\r\n\r\nFor that VectorDrawable just set desired size:\r\n\r\n    drawable.setBounds(0, 0, size, size)\r\n\r\nAnd show drawable in button:\r\n\r\n    button.setCompoundDrawables(null, drawable, null, null)\r\n\r\nThat&#39;s it. But note to use setCompoundDrawables (not Intrinsic version)!","title":"Set drawable size programmatically","body":"<p>jkhouw1 answer is correct one, but it lacks some details, see below:</p>\n\n<p>It is much easier for at least API > 21.\nAssume that we have VectorDrawable from resources (example code to retrieve it):</p>\n\n<pre><code>val iconResource = context.resources.getIdentifier(name, \"drawable\", context.packageName)\nval drawable = context.resources.getDrawable(iconResource, null)\n</code></pre>\n\n<p>For that VectorDrawable just set desired size:</p>\n\n<pre><code>drawable.setBounds(0, 0, size, size)\n</code></pre>\n\n<p>And show drawable in button:</p>\n\n<pre><code>button.setCompoundDrawables(null, drawable, null, null)\n</code></pre>\n\n<p>That's it. But note to use setCompoundDrawables (not Intrinsic version)!</p>\n"},{"tags":[],"owner":{"account_id":15388734,"reputation":1,"user_id":11102118,"display_name":"Xiaomei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596708771,"creation_date":1596708771,"answer_id":63281348,"question_id":4609456,"body_markdown":"You can try `button.requestLayout()`. When the background size is changed, it needs to remeasure and layout, but it won&#39;t do it \r\n","title":"Set drawable size programmatically","body":"<p>You can try <code>button.requestLayout()</code>. When the background size is changed, it needs to remeasure and layout, but it won't do it</p>\n"},{"tags":[],"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1597683061,"creation_date":1597683061,"answer_id":63455235,"question_id":4609456,"body_markdown":"Got this working using LayerDrawable:\r\n\r\n```kt\r\nfun getResizedDrawable(drawable: Drawable, scale: Float) =\r\n    LayerDrawable(arrayOf(drawable)).also { it.setLayerSize(0, (drawable.intrinsicWidth * scale).toInt(), (drawable.intrinsicHeight * scale).toInt()) }\r\n\r\nfun getResizedDrawable(drawable: Drawable, scalex: Float, scaleY: Float) =\r\n    LayerDrawable(arrayOf(drawable)).also { it.setLayerSize(0, (drawable.intrinsicWidth * scalex).toInt(), (drawable.intrinsicHeight * scaleY).toInt()) }\r\n\r\nfun getResizedDrawableUsingSpecificSize(drawable: Drawable, newWidth: Int, newHeight: Int) =\r\n    LayerDrawable(arrayOf(drawable)).also { it.setLayerSize(0, newWidth, newHeight) }\r\n```\r\n\r\nExample:\r\n\r\n\r\n```kt\r\nval drawable = AppCompatResources.getDrawable(this, android.R.drawable.sym_def_app_icon)!!\r\nval resizedDrawable = getResizedDrawable(drawable, 3f)\r\ntextView.setCompoundDrawablesWithIntrinsicBounds(resizedDrawable, null, null, null)\r\nimageView.setImageDrawable(resizedDrawable)\r\n```","title":"Set drawable size programmatically","body":"<p>Got this working using LayerDrawable:</p>\n<pre><code>fun getResizedDrawable(drawable: Drawable, scale: Float) =\n    LayerDrawable(arrayOf(drawable)).also { it.setLayerSize(0, (drawable.intrinsicWidth * scale).toInt(), (drawable.intrinsicHeight * scale).toInt()) }\n\nfun getResizedDrawable(drawable: Drawable, scalex: Float, scaleY: Float) =\n    LayerDrawable(arrayOf(drawable)).also { it.setLayerSize(0, (drawable.intrinsicWidth * scalex).toInt(), (drawable.intrinsicHeight * scaleY).toInt()) }\n\nfun getResizedDrawableUsingSpecificSize(drawable: Drawable, newWidth: Int, newHeight: Int) =\n    LayerDrawable(arrayOf(drawable)).also { it.setLayerSize(0, newWidth, newHeight) }\n</code></pre>\n<p>Example:</p>\n<pre><code>val drawable = AppCompatResources.getDrawable(this, android.R.drawable.sym_def_app_icon)!!\nval resizedDrawable = getResizedDrawable(drawable, 3f)\ntextView.setCompoundDrawablesWithIntrinsicBounds(resizedDrawable, null, null, null)\nimageView.setImageDrawable(resizedDrawable)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9717606,"reputation":482,"user_id":7207418,"display_name":"Tidder Jail"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635859152,"creation_date":1635859152,"answer_id":69811181,"question_id":4609456,"body_markdown":"You can create an extension for that if you&#39;re using Kotlin\r\n\r\n```\r\nfun Drawable.resizeTo(context: Context, size: Int) =\r\n    BitmapDrawable(context.resources, toBitmap(size, size))\r\n```","title":"Set drawable size programmatically","body":"<p>You can create an extension for that if you're using Kotlin</p>\n<pre><code>fun Drawable.resizeTo(context: Context, size: Int) =\n    BitmapDrawable(context.resources, toBitmap(size, size))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14050017,"reputation":371,"user_id":10149074,"display_name":"Krzysiulele"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659618846,"creation_date":1659618846,"answer_id":73236629,"question_id":4609456,"body_markdown":"Example of how to scale Drawable by percentage: \r\n\r\n    // If used for TextView, must be set by setCompoundDrawable(...) without intrinsic bounds\r\n    // because already have bounds.\r\n    fun Drawable.setScaledBoundsBy(percent: Float) = apply {\r\n        setBounds(0, 0, intrinsicWidth.times(percent).toInt(), intrinsicHeight.times(percent).toInt())\r\n    }","title":"Set drawable size programmatically","body":"<p>Example of how to scale Drawable by percentage:</p>\n<pre><code>// If used for TextView, must be set by setCompoundDrawable(...) without intrinsic bounds\n// because already have bounds.\nfun Drawable.setScaledBoundsBy(percent: Float) = apply {\n    setBounds(0, 0, intrinsicWidth.times(percent).toInt(), intrinsicHeight.times(percent).toInt())\n}\n</code></pre>\n"}],"owner":{"display_name":"user375566"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":202950,"favorite_count":0,"down_vote_count":0,"up_vote_count":107,"answer_count":16,"score":107,"last_activity_date":1659618846,"creation_date":1294263306,"question_id":4609456,"body_markdown":"The images (icons) come in roughly the same size, but I need to resize them in order for the buttons to remain the same height.\r\n\r\nHow do I do this?\r\n\r\n    Button button = new Button(this);\r\n    button.setText(apiEventObject.getTitle());\r\n    button.setOnClickListener(listener);\r\n    \r\n    /*\r\n     * set clickable id of button to actual event id\r\n     */\r\n    int id = Integer.parseInt(apiEventObject.getId());\r\n    button.setId(id);\r\n    \r\n    button.setLayoutParams(new LayoutParams(\r\n    \t\tandroid.view.ViewGroup.LayoutParams.FILL_PARENT,\r\n    \t\tandroid.view.ViewGroup.LayoutParams.WRAP_CONTENT));\r\n    \r\n    Drawable drawable = LoadImageFromWebOperations(apiSizeObject.getSmall());\r\n    //?resize drawable here? drawable.setBounds(50, 50, 50, 50);\r\n    button.setCompoundDrawablesWithIntrinsicBounds(drawable, null, null, null);","title":"Set drawable size programmatically","body":"<p>The images (icons) come in roughly the same size, but I need to resize them in order for the buttons to remain the same height.</p>\n\n<p>How do I do this?</p>\n\n<pre><code>Button button = new Button(this);\nbutton.setText(apiEventObject.getTitle());\nbutton.setOnClickListener(listener);\n\n/*\n * set clickable id of button to actual event id\n */\nint id = Integer.parseInt(apiEventObject.getId());\nbutton.setId(id);\n\nbutton.setLayoutParams(new LayoutParams(\n        android.view.ViewGroup.LayoutParams.FILL_PARENT,\n        android.view.ViewGroup.LayoutParams.WRAP_CONTENT));\n\nDrawable drawable = LoadImageFromWebOperations(apiSizeObject.getSmall());\n//?resize drawable here? drawable.setBounds(50, 50, 50, 50);\nbutton.setCompoundDrawablesWithIntrinsicBounds(drawable, null, null, null);\n</code></pre>\n"},{"tags":["java","json","maven","dependencies","bazel"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1632990737,"post_id":69386256,"comment_id":122644051,"body_markdown":"Does Bazel use Central repository?","body":"Does Bazel use Central repository?"},{"owner":{"account_id":1543562,"reputation":69,"user_id":1437645,"display_name":"Shatlyk Ashyralyyev"},"score":0,"creation_date":1632990988,"post_id":69386256,"comment_id":122644167,"body_markdown":"Does your WORKSPACE file have maven install setup from `rules_jvm_external`?\n\nAlso, `@maven//:com_googlecode_json-simple` might be `@maven//:com_googlecode_json_simple` instead (all underscores).","body":"Does your WORKSPACE file have maven install setup from <code>rules_jvm_external</code>?  Also, <code>@maven&#47;&#47;:com_googlecode_json-simple</code> might be <code>@maven&#47;&#47;:com_googlecode_json_simple</code> instead (all underscores)."}],"answers":[{"tags":[],"owner":{"account_id":2972033,"reputation":181,"user_id":2523897,"display_name":"mmende"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659618599,"creation_date":1659618599,"answer_id":73236575,"question_id":69386256,"body_markdown":"In your `WORKSPACE` file adjust `maven_install` to include json-simple in artifacts:\r\n\r\n```bazel\r\nload(&quot;@rules_jvm_external//:repositories.bzl&quot;, &quot;rules_jvm_external_deps&quot;)\r\nrules_jvm_external_deps()\r\nload(&quot;@rules_jvm_external//:setup.bzl&quot;, &quot;rules_jvm_external_setup&quot;)\r\nrules_jvm_external_setup()\r\nload(&quot;@rules_jvm_external//:defs.bzl&quot;, &quot;maven_install&quot;)\r\n\r\nmaven_install(\r\n    name = &quot;maven&quot;,\r\n    artifacts = [\r\n        &quot;com.googlecode.json-simple:json-simple:aar:1.1.1&quot;,\r\n    ],\r\n    fetch_sources = True,\r\n    repositories = [\r\n        &quot;https://maven.google.com&quot;,\r\n        &quot;https://repo1.maven.org/maven2&quot;,\r\n    ],\r\n    version_conflict_policy = &quot;pinned&quot;,\r\n)\r\n```\r\n\r\n...the `dep` label in your `BUILD` file should then be `@maven//:com_googlecode_json_simple_json_simple`:\r\n\r\n```bazel\r\njava_fuzz_target_test(\r\n    name = &quot;Test&quot;,\r\n    srcs = [\r\n        &quot;src/main/java/com/examples/Test.java&quot;,\r\n    ],\r\n    tags = [&quot;manual&quot;],\r\n    target_class = &quot;com.example.Test&quot;,\r\n    deps = [\r\n        &quot;@maven//:com_googlecode_json_simple_json_simple&quot;,\r\n    ],\r\n)\r\n```","title":"Maven can&#39;t find JSON dependency","body":"<p>In your <code>WORKSPACE</code> file adjust <code>maven_install</code> to include json-simple in artifacts:</p>\n<pre><code>load(&quot;@rules_jvm_external//:repositories.bzl&quot;, &quot;rules_jvm_external_deps&quot;)\nrules_jvm_external_deps()\nload(&quot;@rules_jvm_external//:setup.bzl&quot;, &quot;rules_jvm_external_setup&quot;)\nrules_jvm_external_setup()\nload(&quot;@rules_jvm_external//:defs.bzl&quot;, &quot;maven_install&quot;)\n\nmaven_install(\n    name = &quot;maven&quot;,\n    artifacts = [\n        &quot;com.googlecode.json-simple:json-simple:aar:1.1.1&quot;,\n    ],\n    fetch_sources = True,\n    repositories = [\n        &quot;https://maven.google.com&quot;,\n        &quot;https://repo1.maven.org/maven2&quot;,\n    ],\n    version_conflict_policy = &quot;pinned&quot;,\n)\n</code></pre>\n<p>...the <code>dep</code> label in your <code>BUILD</code> file should then be <code>@maven//:com_googlecode_json_simple_json_simple</code>:</p>\n<pre><code>java_fuzz_target_test(\n    name = &quot;Test&quot;,\n    srcs = [\n        &quot;src/main/java/com/examples/Test.java&quot;,\n    ],\n    tags = [&quot;manual&quot;],\n    target_class = &quot;com.example.Test&quot;,\n    deps = [\n        &quot;@maven//:com_googlecode_json_simple_json_simple&quot;,\n    ],\n)\n</code></pre>\n"}],"owner":{"account_id":22196460,"reputation":65,"user_id":16437817,"display_name":"seriouslyg0e"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":991,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659618599,"creation_date":1632976930,"question_id":69386256,"body_markdown":"I&#39;m using Bazel to build my Java program, however whenever I try this command I get the following error: \r\n\r\n```bazel run //examples:Test```\r\n\r\n```\r\n/Users/seriouslyg0e/Desktop/jazzer/examples/BUILD.bazel:16:22: no such target &#39;@maven//:com_googlecode_json-simple&#39;: target &#39;com_googlecode_json-simple&#39; not declared in package &#39;&#39; defined by /private/var/tmp/_bazel_seriouslyg0e/e98dbf4629f0c8d44a5082fd7d505b2d/external/maven/BUILD and referenced by &#39;//examples:Test&#39;\r\n```\r\n\r\nI&#39;m trying to use the JSON library here:\r\n\r\nhttps://mvnrepository.com/artifact/com.googlecode.json-simple/json-simple/1.1.1\r\n\r\nand my BAZEL.build file looks like this:\r\n\r\n```\r\njava_fuzz_target_test(\r\n    name = &quot;Test&quot;,\r\n    srcs = [\r\n        &quot;src/main/java/com/examples/Test.java&quot;,\r\n    ],\r\n    tags = [&quot;manual&quot;],\r\n    target_class = &quot;com.example.Test&quot;,\r\n    deps = [\r\n        &quot;@maven//:com_googlecode_json-simple&quot;,\r\n    ],\r\n)\r\n```\r\n\r\nAny ideas why this error is occurring? \r\n\r\nThe packages I&#39;m using in my code are:\r\n\r\n```\r\nimport org.json.simple.JSONObject;\r\nimport org.json.simple.JSONArray;\r\nimport org.json.simple.parser.ParseException;\r\nimport org.json.simple.parser.JSONParser;\r\n```\r\n\r\nThanks! ","title":"Maven can&#39;t find JSON dependency","body":"<p>I'm using Bazel to build my Java program, however whenever I try this command I get the following error:</p>\n<p><code>bazel run //examples:Test</code></p>\n<pre><code>/Users/seriouslyg0e/Desktop/jazzer/examples/BUILD.bazel:16:22: no such target '@maven//:com_googlecode_json-simple': target 'com_googlecode_json-simple' not declared in package '' defined by /private/var/tmp/_bazel_seriouslyg0e/e98dbf4629f0c8d44a5082fd7d505b2d/external/maven/BUILD and referenced by '//examples:Test'\n</code></pre>\n<p>I'm trying to use the JSON library here:</p>\n<p><a href=\"https://mvnrepository.com/artifact/com.googlecode.json-simple/json-simple/1.1.1\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.googlecode.json-simple/json-simple/1.1.1</a></p>\n<p>and my BAZEL.build file looks like this:</p>\n<pre><code>java_fuzz_target_test(\n    name = &quot;Test&quot;,\n    srcs = [\n        &quot;src/main/java/com/examples/Test.java&quot;,\n    ],\n    tags = [&quot;manual&quot;],\n    target_class = &quot;com.example.Test&quot;,\n    deps = [\n        &quot;@maven//:com_googlecode_json-simple&quot;,\n    ],\n)\n</code></pre>\n<p>Any ideas why this error is occurring?</p>\n<p>The packages I'm using in my code are:</p>\n<pre><code>import org.json.simple.JSONObject;\nimport org.json.simple.JSONArray;\nimport org.json.simple.parser.ParseException;\nimport org.json.simple.parser.JSONParser;\n</code></pre>\n<p>Thanks!</p>\n"},{"tags":["java","instrumentation","javassist","javaagents"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1661159927,"post_id":73181365,"comment_id":129696988,"body_markdown":"You are mixing up the injected code and the code that does the injection. You are only injecting some `println` calls and performing a database update within the tranformer. Generally, you should avoid injecting large complex code. Create ordinary utility code, like a method for storing your specific data (i.e. the two strings) into a database and inject only a call to this method.","body":"You are mixing up the injected code and the code that does the injection. You are only injecting some <code>println</code> calls and performing a database update within the tranformer. Generally, you should avoid injecting large complex code. Create ordinary utility code, like a method for storing your specific data (i.e. the two strings) into a database and inject only a call to this method."}],"owner":{"account_id":19708105,"reputation":21,"user_id":14429269,"display_name":"Maheshbabu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":384,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1659618341,"creation_date":1659252110,"question_id":73181365,"body_markdown":"**InterceptingClassTransformer class**\r\n\r\nI want to save method name and class name in database at runtime. \r\n1) I want to save method name and class name. I don&#39;t know how to insert data into database. I want to save only invoked method name and class name. Once I run the java agent it will store all the method names and class names in the database but my requirement is to store when method gets invoked.\r\n       \r\n                         \r\n\r\n                              try {\r\n                \t\t\t\t\tClassPool classPool = scopedClassPoolFactory.create(loader, rootPool,\r\n                \t\t\t\t\t\t\tScopedClassPoolRepositoryImpl.getInstance());\r\n                \t\t\t\t\tCtClass ctClass = classPool.makeClass(new ByteArrayInputStream(classfileBuffer));\r\n                \t\t\t\t\tCtMethod[] methods = ctClass.getDeclaredMethods();\r\n                \t\t\t\t\tInsertMethods m = new InsertMethods();\r\n                \t\t\t\t\tint mid = className.lastIndexOf(&#39;/&#39;) + 1;\r\n                \t\t\t\t\tString finalClsName = className.substring(mid);\r\n                \t\t\t\t\tfor (CtMethod method : methods) {\r\n                \t\t\t\t\t\tfinal StringBuffer buffer = new StringBuffer();\r\n                \t\t\t\t\t\tString methodName = method.getName();\r\n                \t\t\t\t\t\tbuffer.append(&quot;System.err.println(\\&quot;Invoked Class Name: &quot; + finalClsName + &quot; Method Name: &quot;\r\n                \t\t\t\t\t\t\t\t+ methodName + &quot; executed\\&quot; );&quot;);\r\n                \t\t\t\t\t\tmethod.insertBefore(buffer.toString());\r\n                \t\t\t\t\t\tmethod.addLocalVariable(&quot;startTime&quot;, CtClass.longType);\t\r\n                \t\t\t\t\t\tmethod.insertBefore(&quot;startTime = System.nanoTime();&quot;);\r\n                \t\t\t\t\t\tmethod.insertAfter(&quot;System.out.println(\\&quot;Execution Duration &quot;\r\n                \t\t\t\t\t\t\t\t+ &quot;(nano sec): \\&quot;+ (System.nanoTime() - startTime) );&quot;);\r\n                \t\t\t\t\t\tmethod.insertAfter(&quot;System.out.println(\\&quot;Logging using After Method execution\\&quot;);&quot;);\t\t\t\t\t\t\r\n                \t\t\t\t\t\tPreparedStatement st = m.insertData();                \t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t  st.setString(1,finalClsName);\r\n\t\t\t\t\t\t\t\t  st.setString(2,methodName);\r\n\t\t\t\t\t\t\t\t  st.executeUpdate();\r\n\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n                \t\t\t\t\tbyteCode = ctClass.toBytecode();\r\n                \t\t\t\t\tctClass.detach();\r\n                \t\t\t\t} catch (Throwable ex) {\r\n                \t\t\t\t\tlog.log(Level.SEVERE, &quot;Error in transforming the class: &quot; + className, ex);\r\n                \t\t\t\t}\r\n                \t\t\t}\r\n                \r\n                \t\t}\r\n                \t\treturn byteCode;\r\n    }\r\n    \r\n**Jdbc Insert Statement**\r\n    \r\n    Here I am using JDBC to insert data into database.\r\n    `\r\n            //Insert statement Class\r\n            public class InsertMethods {\r\n            \t\r\n            \tpublic PreparedStatement insertData() throws SQLException {\r\n            \t\tConnection con= DBconnection.createNewDBconnection();\r\n            \t\tString q= &quot;insert into method_info(m_key, m_value) values(?,?)&quot;;\r\n            \t\tPreparedStatement st= con.prepareStatement(q);\r\n            \t\treturn st;\r\n            \t\t\r\n            \t}\r\n            \r\n            }\r\n\r\n","title":"How to save method name and class name in database using javassist?","body":"<p><strong>InterceptingClassTransformer class</strong></p>\n<p>I want to save method name and class name in database at runtime.</p>\n<ol>\n<li><p>I want to save method name and class name. I don't know how to insert data into database. I want to save only invoked method name and class name. Once I run the java agent it will store all the method names and class names in the database but my requirement is to store when method gets invoked.</p>\n<pre><code>                       try {\n                             ClassPool classPool = scopedClassPoolFactory.create(loader, rootPool,\n                                     ScopedClassPoolRepositoryImpl.getInstance());\n                             CtClass ctClass = classPool.makeClass(new ByteArrayInputStream(classfileBuffer));\n                             CtMethod[] methods = ctClass.getDeclaredMethods();\n                             InsertMethods m = new InsertMethods();\n                             int mid = className.lastIndexOf('/') + 1;\n                             String finalClsName = className.substring(mid);\n                             for (CtMethod method : methods) {\n                                 final StringBuffer buffer = new StringBuffer();\n                                 String methodName = method.getName();\n                                 buffer.append(&quot;System.err.println(\\&quot;Invoked Class Name: &quot; + finalClsName + &quot; Method Name: &quot;\n                                         + methodName + &quot; executed\\&quot; );&quot;);\n                                 method.insertBefore(buffer.toString());\n                                 method.addLocalVariable(&quot;startTime&quot;, CtClass.longType); \n                                 method.insertBefore(&quot;startTime = System.nanoTime();&quot;);\n                                 method.insertAfter(&quot;System.out.println(\\&quot;Execution Duration &quot;\n                                         + &quot;(nano sec): \\&quot;+ (System.nanoTime() - startTime) );&quot;);\n                                 method.insertAfter(&quot;System.out.println(\\&quot;Logging using After Method execution\\&quot;);&quot;);                        \n                                 PreparedStatement st = m.insertData();                                      \n                           st.setString(1,finalClsName);\n                           st.setString(2,methodName);\n                           st.executeUpdate();\n             }\n             }\n                             byteCode = ctClass.toBytecode();\n                             ctClass.detach();\n                         } catch (Throwable ex) {\n                             log.log(Level.SEVERE, &quot;Error in transforming the class: &quot; + className, ex);\n                         }\n                     }\n\n                 }\n                 return byteCode;\n</code></pre>\n<p>}</p>\n</li>\n</ol>\n<p><strong>Jdbc Insert Statement</strong></p>\n<pre><code>Here I am using JDBC to insert data into database.\n`\n        //Insert statement Class\n        public class InsertMethods {\n            \n            public PreparedStatement insertData() throws SQLException {\n                Connection con= DBconnection.createNewDBconnection();\n                String q= &quot;insert into method_info(m_key, m_value) values(?,?)&quot;;\n                PreparedStatement st= con.prepareStatement(q);\n                return st;\n                \n            }\n        \n        }\n</code></pre>\n"},{"tags":["java","android","android-studio","htmlunit"],"answers":[{"tags":[],"owner":{"account_id":8054049,"reputation":4480,"user_id":6071729,"display_name":"A Farmanbar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1582919016,"creation_date":1582893425,"answer_id":60451867,"question_id":60423257,"body_markdown":"As [hc.apache.org][1] documented:\r\n\r\n`AllowAllHostnameVerifier` Deprecated. (`4.4`) Use `NoopHostnameVerifier`\r\n\r\nIf you  downgrade dependencies&#39;s version to `4.3`(2013~2015) exception will be resolved. \r\n\r\n    implementation &#39;net.sourceforge.htmlunit:htmlunit:2.15&#39;\r\n\r\n\r\n  [1]: https://hc.apache.org","title":"No static field INSTANCE of type Lorg/apache/http/conn/ssl/AllowAllHostnameVerifier when using htmlunit in Android Studio Project","body":"<p>As <a href=\"https://hc.apache.org\" rel=\"nofollow noreferrer\">hc.apache.org</a> documented:</p>\n\n<p><code>AllowAllHostnameVerifier</code> Deprecated. (<code>4.4</code>) Use <code>NoopHostnameVerifier</code></p>\n\n<p>If you  downgrade dependencies's version to <code>4.3</code>(2013~2015) exception will be resolved. </p>\n\n<pre><code>implementation 'net.sourceforge.htmlunit:htmlunit:2.15'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15062152,"reputation":1774,"user_id":13519865,"display_name":"Cyber Avater"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659618023,"creation_date":1659618023,"answer_id":73236428,"question_id":60423257,"body_markdown":"Use the port for android:\r\n\r\nhttps://github.com/HtmlUnit/htmlunit-android\r\n\r\nUse this as the dependency:\r\n```\r\nimplementation(&quot;net.sourceforge.htmlunit:htmlunit-android:2.63.0&quot;)\r\n``` ","title":"No static field INSTANCE of type Lorg/apache/http/conn/ssl/AllowAllHostnameVerifier when using htmlunit in Android Studio Project","body":"<p>Use the port for android:</p>\n<p><a href=\"https://github.com/HtmlUnit/htmlunit-android\" rel=\"nofollow noreferrer\">https://github.com/HtmlUnit/htmlunit-android</a></p>\n<p>Use this as the dependency:</p>\n<pre><code>implementation(&quot;net.sourceforge.htmlunit:htmlunit-android:2.63.0&quot;)\n</code></pre>\n"}],"owner":{"account_id":14628192,"reputation":191,"user_id":10564900,"display_name":"DeborahAnn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10164,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":60451867,"answer_count":2,"score":8,"last_activity_date":1659618023,"creation_date":1582754494,"question_id":60423257,"body_markdown":"I am using htmlunit 2.36.0 in my Android Studio Project. I successfully compiled the apk but I am getting some runtime errors when I try to get a webpage.\r\nBefore, I was getting the following error: \r\n\r\n    java.lang.BootstrapMethodError: Exception from call site\r\n\r\nBut I was able to fix the issue by adding this in the gradle:\r\n\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n\r\n\r\nHowever, now I am facing another error: \r\n\r\n     java.lang.NoSuchFieldError: No static field INSTANCE of type Lorg/apache/http/conn/ssl/AllowAllHostnameVerifier; in class Lorg/apache/http/conn/ssl/AllowAllHostnameVerifier; or its superclasses (declaration of &#39;org.apache.http.conn.ssl.AllowAllHostnameVerifier&#39; appears in /system/framework/framework.jar!classes3.dex)\r\n            at org.apache.http.conn.ssl.SSLConnectionSocketFactory.&lt;clinit&gt;(SSLConnectionSocketFactory.java:151)\r\n            at com.gargoylesoftware.htmlunit.httpclient.HtmlUnitSSLConnectionSocketFactory.buildSSLSocketFactory(HtmlUnitSSLConnectionSocketFactory.java:89)\r\n            at com.gargoylesoftware.htmlunit.HttpWebConnection.configureHttpsScheme(HttpWebConnection.java:635)\r\n            at com.gargoylesoftware.htmlunit.HttpWebConnection.createHttpClientBuilder(HttpWebConnection.java:558)\r\n            at com.gargoylesoftware.htmlunit.HttpWebConnection.getHttpClientBuilder(HttpWebConnection.java:519)\r\n            at com.gargoylesoftware.htmlunit.HttpWebConnection.getResponse(HttpWebConnection.java:171)\r\n            at com.gargoylesoftware.htmlunit.WebClient.loadWebResponseFromWebConnection(WebClient.java:1407)\r\n            at com.gargoylesoftware.htmlunit.WebClient.loadWebResponse(WebClient.java:1326)\r\n            at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:396)\r\n            at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:317)\r\n            at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:469)\r\n            at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:450)\r\n\r\nApparently, there is no static field instance of AllowAllHostnameVerifier in its own class or or its superclasses. I have no idea how to fix this.","title":"No static field INSTANCE of type Lorg/apache/http/conn/ssl/AllowAllHostnameVerifier when using htmlunit in Android Studio Project","body":"<p>I am using htmlunit 2.36.0 in my Android Studio Project. I successfully compiled the apk but I am getting some runtime errors when I try to get a webpage.\nBefore, I was getting the following error: </p>\n\n<pre><code>java.lang.BootstrapMethodError: Exception from call site\n</code></pre>\n\n<p>But I was able to fix the issue by adding this in the gradle:</p>\n\n<pre><code>compileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n}\n</code></pre>\n\n<p>However, now I am facing another error: </p>\n\n<pre><code> java.lang.NoSuchFieldError: No static field INSTANCE of type Lorg/apache/http/conn/ssl/AllowAllHostnameVerifier; in class Lorg/apache/http/conn/ssl/AllowAllHostnameVerifier; or its superclasses (declaration of 'org.apache.http.conn.ssl.AllowAllHostnameVerifier' appears in /system/framework/framework.jar!classes3.dex)\n        at org.apache.http.conn.ssl.SSLConnectionSocketFactory.&lt;clinit&gt;(SSLConnectionSocketFactory.java:151)\n        at com.gargoylesoftware.htmlunit.httpclient.HtmlUnitSSLConnectionSocketFactory.buildSSLSocketFactory(HtmlUnitSSLConnectionSocketFactory.java:89)\n        at com.gargoylesoftware.htmlunit.HttpWebConnection.configureHttpsScheme(HttpWebConnection.java:635)\n        at com.gargoylesoftware.htmlunit.HttpWebConnection.createHttpClientBuilder(HttpWebConnection.java:558)\n        at com.gargoylesoftware.htmlunit.HttpWebConnection.getHttpClientBuilder(HttpWebConnection.java:519)\n        at com.gargoylesoftware.htmlunit.HttpWebConnection.getResponse(HttpWebConnection.java:171)\n        at com.gargoylesoftware.htmlunit.WebClient.loadWebResponseFromWebConnection(WebClient.java:1407)\n        at com.gargoylesoftware.htmlunit.WebClient.loadWebResponse(WebClient.java:1326)\n        at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:396)\n        at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:317)\n        at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:469)\n        at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:450)\n</code></pre>\n\n<p>Apparently, there is no static field instance of AllowAllHostnameVerifier in its own class or or its superclasses. I have no idea how to fix this.</p>\n"},{"tags":["java","postgresql","spring-boot","hibernate","triggers"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1659616751,"post_id":73235971,"comment_id":129340216,"body_markdown":"The trigger should only be executed when the transaction is committed, as that is when the insert is actually happening on the database level. You can test this by adding a delay in the `@Transactional` method and check when the trigger is executed.","body":"The trigger should only be executed when the transaction is committed, as that is when the insert is actually happening on the database level. You can test this by adding a delay in the <code>@Transactional</code> method and check when the trigger is executed."},{"owner":{"account_id":10470529,"reputation":365,"user_id":7718524,"display_name":"Ketan Suthar"},"score":0,"creation_date":1659617206,"post_id":73235971,"comment_id":129340394,"body_markdown":"Hi, @XtremeBaumer thanks for replying. I know it is committed after the method is completed. I checked that a new record was created and the trigger was also hit and the actual ID of the row was printed in logs but why dated were not truncated?","body":"Hi, @XtremeBaumer thanks for replying. I know it is committed after the method is completed. I checked that a new record was created and the trigger was also hit and the actual ID of the row was printed in logs but why dated were not truncated?"}],"answers":[{"tags":[],"owner":{"account_id":2662746,"reputation":11456,"user_id":2302032,"display_name":"Stefanov.sm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659617649,"creation_date":1659617056,"answer_id":73236186,"question_id":73235971,"body_markdown":"The OMR might be updating. Use `BEFORE INSERT OR UPDATE` trigger with this somewhat simpler function (w/o the message) using [date_trunc](https://www.postgresql.org/docs/current/functions-datetime.html#FUNCTIONS-DATETIME-TRUNC):\r\n```sql\r\ncreate or replace function iv_slot_ai() returns trigger language plpgsql as\r\n$body$\r\nbegin\r\n  new.start_time := date_trunc(&#39;minute&#39;, new.start_time);\r\n  new.end_time := date_trunc(&#39;minute&#39;, new.end_time);\r\n  return new;\r\nend;\r\n$body$;","title":"Trigger is not updating current record PostgresSQL when record is inserted from hibernate","body":"<p>The OMR might be updating. Use <code>BEFORE INSERT OR UPDATE</code> trigger with this somewhat simpler function (w/o the message) using <a href=\"https://www.postgresql.org/docs/current/functions-datetime.html#FUNCTIONS-DATETIME-TRUNC\" rel=\"nofollow noreferrer\">date_trunc</a>:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>create or replace function iv_slot_ai() returns trigger language plpgsql as\n$body$\nbegin\n  new.start_time := date_trunc('minute', new.start_time);\n  new.end_time := date_trunc('minute', new.end_time);\n  return new;\nend;\n$body$;\n</code></pre>\n"}],"owner":{"account_id":10470529,"reputation":365,"user_id":7718524,"display_name":"Ketan Suthar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73236186,"answer_count":1,"score":1,"last_activity_date":1659617649,"creation_date":1659616188,"question_id":73235971,"body_markdown":"I have one table which stores interview slots with start and end times below is the table:\r\n\r\n    CREATE TABLE INTERVIEW_SLOT (\r\n        ID SERIAL PRIMARY KEY NOT NULL,\r\n        INTERVIEWER INTEGER REFERENCES USERS(ID) NOT NULL,\r\n        START_TIME TIMESTAMP NOT NULL, -- start time of interview\r\n        END_TIME TIMESTAMP NOT NULL, -- end time of interview\r\n        -- more columns are not necessary for this question\r\n    );\r\n\r\nI have created a trigger which will truncate start and end time to minutes below is the trigger:\r\n\r\n\r\n    CREATE OR REPLACE FUNCTION\r\n    iv_slot_ai() returns trigger AS\r\n    $BODY$\r\n    BEGIN\r\n    raise warning &#39;cleaning start and end time for iv slot for id: %&#39;, new.id;\r\n        update interview_slot set end_time = TO_TIMESTAMP(end_time::text, &#39;YYYY-MM-DD HH24:MI&#39;);\r\n        update interview_slot set start_time = TO_TIMESTAMP(start_time::text, &#39;YYYY-MM-DD HH24:MI&#39;);\r\n    \treturn new;\r\n    END;\r\n    $BODY$\r\n    LANGUAGE plpgsql VOLATILE;\r\n    \r\n    CREATE TRIGGER IV_SLOT_AI AFTER INSERT ON INTERVIEW_SLOT\r\n    FOR EACH ROW\r\n    EXECUTE PROCEDURE iv_slot_ai();\r\n\r\n\r\nWhen I insert a record from psql terminal manually trigger gets hit and updates the inserted record properly.\r\n\r\n     INSERT INTO public.interview_slot(\r\n    interviewer, start_time, end_time, is_booked, created_on, inform_email_timestamp)\r\n    VALUES (388, &#39;2022-08-22 13:00:10.589&#39;, &#39;2022-08-22 13:30:09.589&#39;, &#39;F&#39;, current_date, current_date);\r\n    WARNING:  cleaning start and end time for iv slot for id: 72\r\n    INSERT 0 1\r\n    \r\n    select * from interview_slot order by id desc limit 1;\r\n     id | interviewer |       start_time        |        end_time         |\r\n    ----+-------------+-------------------------+-------------------------+\r\n     72 |         388 | 2022-08-22 13:00:00     | 2022-08-22 13:30:00     |\r\n\r\n\r\n\r\n\r\n\r\nI have a backend application in spring boot with hibernate ORM. When I insert the record from API call, it gets triggered(i have checked in Postgres logs) but the inserted record does not get updated.\r\n\r\nActually, method which saves records is being called from another method that has this `@Transactional()` annotation.\r\n\r\nI have also tried BEFORE trigger but it was also not working.\r\n\r\nCan anyone explain why this is happening and what is the solution?\r\n\r\nIs it because of transactional annotation?\r\n","title":"Trigger is not updating current record PostgresSQL when record is inserted from hibernate","body":"<p>I have one table which stores interview slots with start and end times below is the table:</p>\n<pre><code>CREATE TABLE INTERVIEW_SLOT (\n    ID SERIAL PRIMARY KEY NOT NULL,\n    INTERVIEWER INTEGER REFERENCES USERS(ID) NOT NULL,\n    START_TIME TIMESTAMP NOT NULL, -- start time of interview\n    END_TIME TIMESTAMP NOT NULL, -- end time of interview\n    -- more columns are not necessary for this question\n);\n</code></pre>\n<p>I have created a trigger which will truncate start and end time to minutes below is the trigger:</p>\n<pre><code>CREATE OR REPLACE FUNCTION\niv_slot_ai() returns trigger AS\n$BODY$\nBEGIN\nraise warning 'cleaning start and end time for iv slot for id: %', new.id;\n    update interview_slot set end_time = TO_TIMESTAMP(end_time::text, 'YYYY-MM-DD HH24:MI');\n    update interview_slot set start_time = TO_TIMESTAMP(start_time::text, 'YYYY-MM-DD HH24:MI');\n    return new;\nEND;\n$BODY$\nLANGUAGE plpgsql VOLATILE;\n\nCREATE TRIGGER IV_SLOT_AI AFTER INSERT ON INTERVIEW_SLOT\nFOR EACH ROW\nEXECUTE PROCEDURE iv_slot_ai();\n</code></pre>\n<p>When I insert a record from psql terminal manually trigger gets hit and updates the inserted record properly.</p>\n<pre><code> INSERT INTO public.interview_slot(\ninterviewer, start_time, end_time, is_booked, created_on, inform_email_timestamp)\nVALUES (388, '2022-08-22 13:00:10.589', '2022-08-22 13:30:09.589', 'F', current_date, current_date);\nWARNING:  cleaning start and end time for iv slot for id: 72\nINSERT 0 1\n\nselect * from interview_slot order by id desc limit 1;\n id | interviewer |       start_time        |        end_time         |\n----+-------------+-------------------------+-------------------------+\n 72 |         388 | 2022-08-22 13:00:00     | 2022-08-22 13:30:00     |\n</code></pre>\n<p>I have a backend application in spring boot with hibernate ORM. When I insert the record from API call, it gets triggered(i have checked in Postgres logs) but the inserted record does not get updated.</p>\n<p>Actually, method which saves records is being called from another method that has this <code>@Transactional()</code> annotation.</p>\n<p>I have also tried BEFORE trigger but it was also not working.</p>\n<p>Can anyone explain why this is happening and what is the solution?</p>\n<p>Is it because of transactional annotation?</p>\n"},{"tags":["java","vaadin","vaadin-flow","vaadin-upload"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":1,"creation_date":1659448249,"post_id":73205325,"comment_id":129293734,"body_markdown":"This works for me. What&#39;s the type of the memoryBuffer?","body":"This works for me. What&#39;s the type of the memoryBuffer?"},{"owner":{"account_id":25955900,"reputation":11,"user_id":19673273,"display_name":"Xragg"},"score":0,"creation_date":1659590466,"post_id":73205325,"comment_id":129331515,"body_markdown":"Thanks for your reply. private final MemoryBuffer memoryBuffer = new MemoryBuffer();","body":"Thanks for your reply. private final MemoryBuffer memoryBuffer = new MemoryBuffer();"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1659594127,"post_id":73205325,"comment_id":129332338,"body_markdown":"Just to verify a suspicion: can you please use MultiFileMemoryBuffer and try again?","body":"Just to verify a suspicion: can you please use MultiFileMemoryBuffer and try again?"},{"owner":{"account_id":25955900,"reputation":11,"user_id":19673273,"display_name":"Xragg"},"score":0,"creation_date":1659597405,"post_id":73205325,"comment_id":129333287,"body_markdown":"I tried but I have the same problem: file content is empty byte array.","body":"I tried but I have the same problem: file content is empty byte array."},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1659602498,"post_id":73205325,"comment_id":129335000,"body_markdown":"Can you try with the newest Vaadin version?","body":"Can you try with the newest Vaadin version?"}],"owner":{"account_id":25955900,"reputation":11,"user_id":19673273,"display_name":"Xragg"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659617601,"creation_date":1659433328,"question_id":73205325,"body_markdown":"I am currently facing an issue with the Upload component of Vaadin v22.0.15.\r\n\r\nI want to be able to drag and drop attachments from an Outlook email. It works perfectly if the email has been sent in HTML format.\r\n\r\nIn that case you can see the attachments at the top of the email, just under the subject. When I drag and drop one of those, the file is being correctly loaded in the MemoryBuffer.\r\n\r\n**Example image: email in HTML format**\r\n\r\n[![enter image description here][1]][1]\r\n\r\nMy problem is when the email has been sent in Rich Text Format, in which case the attachments are visible inside the body of the email.\r\n\r\nWhen I try to drag and drop an attachment from an email sent in Rich Text Format the content of the file is not loaded in the MemoryBuffer. I get an empty file with the same name as the attachment.\r\n\r\n**Example image:** \r\n\r\n[![enter image description here][2]][2]\r\n\r\nHere is some code:\r\n\r\n    myUpload.addSucceededListener(event -&gt; {\r\n            try {\r\n                uploadedFileContent = memoryBuffer.getInputStream().readAllBytes(); //this returns an empty byte array when I drag and drop from the email content (as per example image 2)\r\n            } catch (IOException e) {\r\n                LOGGER.error(&quot;File not readable&quot;, e);\r\n            }\r\n        });\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/p83om.png\r\n  [2]: https://i.stack.imgur.com/TjC93.png","title":"Drag and drop an email attachment that is inside the body of the email","body":"<p>I am currently facing an issue with the Upload component of Vaadin v22.0.15.</p>\n<p>I want to be able to drag and drop attachments from an Outlook email. It works perfectly if the email has been sent in HTML format.</p>\n<p>In that case you can see the attachments at the top of the email, just under the subject. When I drag and drop one of those, the file is being correctly loaded in the MemoryBuffer.</p>\n<p><strong>Example image: email in HTML format</strong></p>\n<p><a href=\"https://i.stack.imgur.com/p83om.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/p83om.png\" alt=\"enter image description here\" /></a></p>\n<p>My problem is when the email has been sent in Rich Text Format, in which case the attachments are visible inside the body of the email.</p>\n<p>When I try to drag and drop an attachment from an email sent in Rich Text Format the content of the file is not loaded in the MemoryBuffer. I get an empty file with the same name as the attachment.</p>\n<p><strong>Example image:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/TjC93.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TjC93.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is some code:</p>\n<pre><code>myUpload.addSucceededListener(event -&gt; {\n        try {\n            uploadedFileContent = memoryBuffer.getInputStream().readAllBytes(); //this returns an empty byte array when I drag and drop from the email content (as per example image 2)\n        } catch (IOException e) {\n            LOGGER.error(&quot;File not readable&quot;, e);\n        }\n    });\n</code></pre>\n"},{"tags":["java","cryptography","rsa","private-key","pem"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":3,"creation_date":1599202367,"post_id":63734219,"comment_id":112706329,"body_markdown":"`getKeyPair` doesn&#39;t like _the value null_ which was returned from `readObject` because your PEM data is invalid. **PEM format MUST HAVE LINE BREAKS** (see wikipedia under Privacy-Enhanced Mail) and yours doesn&#39;t. Add them and it works.  BTW, converting `keyPair.getPrivate()` to a CrtSpec and running it back through the KeyFactory is useless; `keyPair.getPrivate()` _already is_ a valid implementation of `RSAPrivateKey`","body":"<code>getKeyPair</code> doesn&#39;t like <i>the value null</i> which was returned from <code>readObject</code> because your PEM data is invalid. <b>PEM format MUST HAVE LINE BREAKS</b> (see wikipedia under Privacy-Enhanced Mail) and yours doesn&#39;t. Add them and it works.  BTW, converting <code>keyPair.getPrivate()</code> to a CrtSpec and running it back through the KeyFactory is useless; <code>keyPair.getPrivate()</code> <i>already is</i> a valid implementation of <code>RSAPrivateKey</code>"}],"answers":[{"tags":[],"owner":{"account_id":14697403,"reputation":1,"user_id":10614423,"display_name":"coding_tim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659617268,"creation_date":1659617268,"answer_id":73236231,"question_id":63734219,"body_markdown":"I had a similar issue and was able to solve it by altering the key from\r\n\r\n    -----BEGIN RSA PRIVATE KEY-----\r\n     .....content here.....\r\n    -----END RSA PRIVATE KEY-----\r\n\r\nto:\r\n\r\n    -----BEGIN EC PRIVATE KEY-----\r\n     .....content here.....\r\n    -----END EC PRIVATE KEY-----\r\n\r\nSince you are working with an RSA instance and not an elliptic curve (EC) this might not be the source of your problems but maybe it helps someone. ","title":"PEMException: unable to convert key pair: null","body":"<p>I had a similar issue and was able to solve it by altering the key from</p>\n<pre><code>-----BEGIN RSA PRIVATE KEY-----\n .....content here.....\n-----END RSA PRIVATE KEY-----\n</code></pre>\n<p>to:</p>\n<pre><code>-----BEGIN EC PRIVATE KEY-----\n .....content here.....\n-----END EC PRIVATE KEY-----\n</code></pre>\n<p>Since you are working with an RSA instance and not an elliptic curve (EC) this might not be the source of your problems but maybe it helps someone.</p>\n"}],"owner":{"account_id":276507,"reputation":16077,"user_id":569976,"accept_rate":68,"display_name":"neubert"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3191,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1659617268,"creation_date":1599188566,"question_id":63734219,"body_markdown":"I&#39;m trying to run the following program:\r\n\r\n```\r\nimport java.security.Security;\r\nimport org.bouncycastle.jce.provider.BouncyCastleProvider;\r\nimport org.bouncycastle.openssl.PEMParser;\r\nimport org.bouncycastle.openssl.jcajce.JcaPEMKeyConverter;\r\nimport org.bouncycastle.openssl.PEMKeyPair;\r\nimport java.security.spec.RSAPrivateCrtKeySpec;\r\nimport java.security.KeyPair;\r\nimport java.security.KeyFactory;\r\nimport java.io.StringReader;\r\nimport javax.crypto.Cipher;\r\nimport java.util.Base64;\r\nimport java.security.interfaces.RSAPrivateKey;\r\n\r\npublic class Test\r\n{\r\n    public static void main(String[] args) throws Exception\r\n    {\r\n        Security.addProvider(new BouncyCastleProvider());\r\n\r\n        String key = &quot;-----BEGIN RSA PRIVATE KEY-----&quot; +\r\n&quot;MIIBOgIBAAJBAKj34GkxFhD90vcNLYLInFEX6Ppy1tPf9Cnzj4p4WGeKLs1Pt8Qu&quot; +\r\n&quot;KUpRKfFLfRYC9AIKjbJTWit+CqvjWYzvQwECAwEAAQJAIJLixBy2qpFoS4DSmoEm&quot; +\r\n&quot;o3qGy0t6z09AIJtH+5OeRV1be+N4cDYJKffGzDa88vQENZiRm0GRq6a+HPGQMd2k&quot; +\r\n&quot;TQIhAKMSvzIBnni7ot/OSie2TmJLY4SwTQAevXysE2RbFDYdAiEBCUEaRQnMnbp7&quot; +\r\n&quot;9mxDXDf6AU0cN/RPBjb9qSHDcWZHGzUCIG2Es59z8ugGrDY+pxLQnwfotadxd+Uy&quot; +\r\n&quot;v/Ow5T0q5gIJAiEAyS4RaI9YG8EWx/2w0T67ZUVAw8eOMB6BIUg0Xcu+3okCIBOs&quot; +\r\n&quot;/5OiPgoTdSy7bcF9IGpSE8ZgGKzgYQVZeN97YE00&quot; +\r\n&quot;-----END RSA PRIVATE KEY-----&quot;;\r\n\r\n        String ciphertext = &quot;L812/9Y8TSpwErlLR6Bz4J3uR/T5YaqtTtB5jxtD1qazGPI5t15V9drWi58colGOZFeCnGKpCrtQWKk4HWRocQ==&quot;;\r\n\r\n        // load the private key\r\n        PEMParser pemParser = new PEMParser(new StringReader(key));\r\n        JcaPEMKeyConverter converter = new JcaPEMKeyConverter().setProvider(&quot;BC&quot;);\r\n        KeyPair keyPair = converter.getKeyPair((PEMKeyPair) pemParser.readObject());\r\n        KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n        RSAPrivateCrtKeySpec privateKeySpec = keyFactory.getKeySpec(keyPair.getPrivate(), RSAPrivateCrtKeySpec.class);\r\n        RSAPrivateKey privateKey = (RSAPrivateKey) keyFactory.generatePrivate(privateKeySpec);\r\n\r\n        // load the ciphertext\r\n        byte[] cipherBytes = Base64.getDecoder().decode(ciphertext);\r\n\r\n        // perform the actual decryption\r\n        Cipher cipher = Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;, &quot;BC&quot;);\r\n        cipher.init(Cipher.DECRYPT_MODE, privateKey);\r\n        byte[] plaintext = cipher.doFinal(cipherBytes);\r\n    }\r\n}\r\n```\r\nIt was able to compile without issue but when I try to run it I get the following error:\r\n\r\n```\r\nException in thread &quot;main&quot; org.bouncycastle.openssl.PEMException: unable to convert key pair: null\r\n        at org.bouncycastle.openssl.jcajce.JcaPEMKeyConverter.getKeyPair(Unknown Source)\r\n        at Test.main(MyTest.java:35)\r\nCaused by: java.lang.NullPointerException\r\n        ... 2 more\r\n```\r\nSo I guess `getKeyPair` doesn&#39;t like `(PEMKeyPair) pemParser.readObject()`. Well that&#39;s what I got from [Get a PrivateKey from a RSA .pem file](https://stackoverflow.com/a/44683080/569976)...","title":"PEMException: unable to convert key pair: null","body":"<p>I'm trying to run the following program:</p>\n<pre><code>import java.security.Security;\nimport org.bouncycastle.jce.provider.BouncyCastleProvider;\nimport org.bouncycastle.openssl.PEMParser;\nimport org.bouncycastle.openssl.jcajce.JcaPEMKeyConverter;\nimport org.bouncycastle.openssl.PEMKeyPair;\nimport java.security.spec.RSAPrivateCrtKeySpec;\nimport java.security.KeyPair;\nimport java.security.KeyFactory;\nimport java.io.StringReader;\nimport javax.crypto.Cipher;\nimport java.util.Base64;\nimport java.security.interfaces.RSAPrivateKey;\n\npublic class Test\n{\n    public static void main(String[] args) throws Exception\n    {\n        Security.addProvider(new BouncyCastleProvider());\n\n        String key = &quot;-----BEGIN RSA PRIVATE KEY-----&quot; +\n&quot;MIIBOgIBAAJBAKj34GkxFhD90vcNLYLInFEX6Ppy1tPf9Cnzj4p4WGeKLs1Pt8Qu&quot; +\n&quot;KUpRKfFLfRYC9AIKjbJTWit+CqvjWYzvQwECAwEAAQJAIJLixBy2qpFoS4DSmoEm&quot; +\n&quot;o3qGy0t6z09AIJtH+5OeRV1be+N4cDYJKffGzDa88vQENZiRm0GRq6a+HPGQMd2k&quot; +\n&quot;TQIhAKMSvzIBnni7ot/OSie2TmJLY4SwTQAevXysE2RbFDYdAiEBCUEaRQnMnbp7&quot; +\n&quot;9mxDXDf6AU0cN/RPBjb9qSHDcWZHGzUCIG2Es59z8ugGrDY+pxLQnwfotadxd+Uy&quot; +\n&quot;v/Ow5T0q5gIJAiEAyS4RaI9YG8EWx/2w0T67ZUVAw8eOMB6BIUg0Xcu+3okCIBOs&quot; +\n&quot;/5OiPgoTdSy7bcF9IGpSE8ZgGKzgYQVZeN97YE00&quot; +\n&quot;-----END RSA PRIVATE KEY-----&quot;;\n\n        String ciphertext = &quot;L812/9Y8TSpwErlLR6Bz4J3uR/T5YaqtTtB5jxtD1qazGPI5t15V9drWi58colGOZFeCnGKpCrtQWKk4HWRocQ==&quot;;\n\n        // load the private key\n        PEMParser pemParser = new PEMParser(new StringReader(key));\n        JcaPEMKeyConverter converter = new JcaPEMKeyConverter().setProvider(&quot;BC&quot;);\n        KeyPair keyPair = converter.getKeyPair((PEMKeyPair) pemParser.readObject());\n        KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\n        RSAPrivateCrtKeySpec privateKeySpec = keyFactory.getKeySpec(keyPair.getPrivate(), RSAPrivateCrtKeySpec.class);\n        RSAPrivateKey privateKey = (RSAPrivateKey) keyFactory.generatePrivate(privateKeySpec);\n\n        // load the ciphertext\n        byte[] cipherBytes = Base64.getDecoder().decode(ciphertext);\n\n        // perform the actual decryption\n        Cipher cipher = Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;, &quot;BC&quot;);\n        cipher.init(Cipher.DECRYPT_MODE, privateKey);\n        byte[] plaintext = cipher.doFinal(cipherBytes);\n    }\n}\n</code></pre>\n<p>It was able to compile without issue but when I try to run it I get the following error:</p>\n<pre><code>Exception in thread &quot;main&quot; org.bouncycastle.openssl.PEMException: unable to convert key pair: null\n        at org.bouncycastle.openssl.jcajce.JcaPEMKeyConverter.getKeyPair(Unknown Source)\n        at Test.main(MyTest.java:35)\nCaused by: java.lang.NullPointerException\n        ... 2 more\n</code></pre>\n<p>So I guess <code>getKeyPair</code> doesn't like <code>(PEMKeyPair) pemParser.readObject()</code>. Well that's what I got from <a href=\"https://stackoverflow.com/a/44683080/569976\">Get a PrivateKey from a RSA .pem file</a>...</p>\n"},{"tags":["java","amazon-s3"],"comments":[{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1659616953,"post_id":73236069,"comment_id":129340289,"body_markdown":"The answer to this question is really up to your application. If the images are a time-lined story and it wouldn&#39;t make sense to upload the 5th image without uploading the 4th, then you should go by sync (so you can wait for success of each image before moving to next). If the order is unimportant, then async would be more efficient and even if you happen to five image 5th loaded without image 4th, you wouldn&#39;t mind.","body":"The answer to this question is really up to your application. If the images are a time-lined story and it wouldn&#39;t make sense to upload the 5th image without uploading the 4th, then you should go by sync (so you can wait for success of each image before moving to next). If the order is unimportant, then async would be more efficient and even if you happen to five image 5th loaded without image 4th, you wouldn&#39;t mind."},{"owner":{"account_id":18380141,"reputation":41,"user_id":13388342,"display_name":"aishu8333"},"score":0,"creation_date":1659617373,"post_id":73236069,"comment_id":129340464,"body_markdown":"Thanks for the response. My application don&#39;t require any order. But it needs the confirmation that images got stored successfully. If all images are stored then it should proceed with next steps.  But my main concern is will it cause any latency","body":"Thanks for the response. My application don&#39;t require any order. But it needs the confirmation that images got stored successfully. If all images are stored then it should proceed with next steps.  But my main concern is will it cause any latency"},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1659617595,"post_id":73236069,"comment_id":129340562,"body_markdown":"I don&#39;t know specifically the Amazon-S3 but generally speaking, if you post a sync request it will be up to the server to release the handle when it&#39;s done whereas if you post the async request, the server will call you back when the result is ready and you can meanwhile do other things. If you need to wait for the confirmation, you can post them asynchronously and then wait for the 10 to have the confirmation callback","body":"I don&#39;t know specifically the Amazon-S3 but generally speaking, if you post a sync request it will be up to the server to release the handle when it&#39;s done whereas if you post the async request, the server will call you back when the result is ready and you can meanwhile do other things. If you need to wait for the confirmation, you can post them asynchronously and then wait for the 10 to have the confirmation callback"}],"owner":{"account_id":18380141,"reputation":41,"user_id":13388342,"display_name":"aishu8333"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659616961,"creation_date":1659616641,"question_id":73236069,"body_markdown":"I have to store maximum 10 images[Each image size is 2 MB] to S3. As S3 cannot store multiple images at once in a single API call, I need to call putObject 10 times sequentially. My question is, do i have to prefer async call or sync ? \r\n\r\nIm assuming that sync will work in this scenario because S3 handles 3500 requests per second &amp; each image size will be 2 MB. So i don&#39;t think i will face latency issues in my application.","title":"What to prefer sync / async S3 when uploading multiple files at once [Java]","body":"<p>I have to store maximum 10 images[Each image size is 2 MB] to S3. As S3 cannot store multiple images at once in a single API call, I need to call putObject 10 times sequentially. My question is, do i have to prefer async call or sync ?</p>\n<p>Im assuming that sync will work in this scenario because S3 handles 3500 requests per second &amp; each image size will be 2 MB. So i don't think i will face latency issues in my application.</p>\n"},{"tags":["java","jdbc"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1659448922,"post_id":73208760,"comment_id":129294058,"body_markdown":"There are some open-source _connection pool_ libraries. Very nice that you are using _try-with-resources_. However also `try (ResultSet find_id = pst.executeQuery()) {` and remove `pst.close();`. Of course above you could have an outer `try (Conncection` and many inner `try (PreparedStatement`. And use `setLong`/`getLong`.","body":"There are some open-source <i>connection pool</i> libraries. Very nice that you are using <i>try-with-resources</i>. However also <code>try (ResultSet find_id = pst.executeQuery()) {</code> and remove <code>pst.close();</code>. Of course above you could have an outer <code>try (Conncection</code> and many inner <code>try (PreparedStatement</code>. And use <code>setLong</code>/<code>getLong</code>."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1659450164,"creation_date":1659450164,"answer_id":73209207,"question_id":73208760,"body_markdown":"Your question boils down to state tracking. Tons of your code across the entire breath of the project will want to do stuff with the DB, and DBs are _fundamentally_ session oriented concepts. Thus, you will need to change your code flow – any code anywhere that needs to do anything with the DB can&#39;t just go: &quot;Eh, fine, I&#39;ll go make a connection then&quot;. It needs to get an existing connection provided to it, because &#39;just make new connections every time&#39; doesn&#39;t work. Not just because that is quite slow, but primarily because transactions are a thing.\r\n\r\nThis is where injection frameworks come in: They are all about having state that needs to exist in loads of places in the project. But, you can also do it &#39;by hand&#39;, so to speak: Pass a `Connection` object around as method parameter.\r\n\r\nYou have a few code smells in this code. These issues are leading you to this question.\r\n\r\n## Exception handling\r\n\r\n&#39;when an exception occurs, print some stuff to a log and just keeps going&#39; is what your code does now. This is, hopefully now obvious given that I put it that way, a really bad idea. A method that _fundamentally_ does DB things _should_ be declared to `throws SQLException`. The entire &#39;code flow&#39; (every method that ends up being called to perform a particular job) needs to be methods that _ALL_ are declared as `throws SQLException`, at which point you can get rid of all your try/catch blocks. You&#39;ll be reducing your code LOC by quite a bit whilst you make the code better! Yay!\r\n\r\nYou want &#39;an exception&#39; to do many things:\r\n\r\n* Stop execution. You don&#39;t want code to continue when you&#39;re in a state you don&#39;t understand. SQLException has a ton of reasons for it, hence, you have no idea what happened. Carrying on is bad. One easy fix is to have the catch block rethrow something (`throw new RuntimeException(&quot;uncaught&quot;, e)` - you should update your IDE templates, this is the correct default catch block content), but even better is to just let the SQLException happen.\r\n* You want to save the relevant info as much as possible: The stack trace, the causal chain, the exact exception type, the message, and any special info that the exception object has - SQLException has lots of this, such as the postgres error state number which is very important, and is not always included in the message.\r\n\r\nJust letting everything throw SQLException does all that - there will be very few places (all the top level calls) where you can write code that deals with it, instead of writing 83951 times `lgr.log(Level.SEVERE)`.\r\n\r\n## Connections are created every time\r\n\r\nYou don&#39;t want to do that - you want the connection to be passed along. In general you want a more robust setup to track transactions. All DB everythings are always in transactional form. Even if you have autocommit true (that&#39;s why it is called &#39;AutoCommit&#39; and not &#39;transactionless&#39;): That just means the DB assumes you meant to `db.commit()` after every query.\r\n\r\nEven read queries are transactional. Imagine a bank that needs to hand out a bank guarantee for buyout by a partnership. To do so, it needs to sum up the balance of every member of the partnership. You could simply do:\r\n\r\n```\r\nint sum = 0;\r\nfor (Partner p : partners) {\r\n  try (var pst = con.prepareStatement(&quot;SELECT balance FROM table2 WHERE id=?&quot;)) {\r\n    ... \r\n    sum += rs.getInteger(1);\r\n  }\r\n}\r\n\r\nreturn sum &gt; requiredGuarantee;\r\n```\r\n\r\nHowever, the above code is __subtly broken__. Imagine that right in the middle of this code, one of the partners transfers a large sum to another partner. You so happen to read the partner transfering the cash out _before_ the transfer, but read the balance of the receiving partner _after_ it. Your code now has the wrong sum! It things the total amount in the accounts of all the partners is much higher than it really is. The bank gives the guarantee, the deal falls through, and the bank just lost 10 million dollars. Oops. Quite the bug, isn&#39;t it?\r\n\r\nThe solution is transactions. And the right transactionlevel. At the right level (SERIALIZABLE is the only level that can do this correctly), if you do all these SELECTs in a single transaction, the above situation __cannot occur__. Postgres will let you query and sum up as normal, and you may indeed get the wrong sum, but the `.commit()` call (and note that in this transaction we have not written anything at all yet!) __will fail__. That&#39;s your cue to start over.\r\n\r\nConnections are at the same level as the transaction: If you want to run 2 transactions simultaneously, you must have 2 connections. A single connection is &#39;in&#39; a transaction. Hence, passing the Connection object around _is_ the same as passing the transaction around, and you must have transactions as the above code shows (imagine that the bank guarantee ends up being represented by INSERTing a new row in the &#39;guarantees&#39; table. You want it all in a single transaction, so that after all that, you `.commit()` and postgres will throw you an exception (and that row you wrote never happened) if the summing wasn&#39;t consistent due to some other transaction having occurred in between that changed the balance of one or more partners.\r\n\r\nThat&#39;s the _only_ correct way to write a &#39;consistent&#39; data model.\r\n\r\nFor certain projects, the cost of consistency is too high. However, unless your name is literally google, you won&#39;t ever get there, and if you must have this, it&#39;s way more complicated than just picking a lower transaction isolation level. So, go for the consistency.\r\n\r\nIt&#39;s up to you if you want `Connection con` to be the first parameter of all your db-based methods, or if you want to create an object and have a field of type &#39;con&#39; (but remember, they HAVE to be closed, so either the code that creates such an object has to use try-with-resources to close that connection, or your class that has a field `Connection con` needs to be `AutoClosable`, and has to be created with try-with-resources!) - or if you want to use an injection framework like spring or dagger or guice.\r\n\r\n## Use an abstraction\r\n\r\nJDBC is primary designed to expose every feature that every relational DB system could possibly have, and to be a consistent &#39;bottom layer&#39;. This means that as an API to directly program an app on, __it&#39;s horrible__. It&#39;s not meant for you.\r\n\r\nUse a library that _was_ meant for such a purpose. It&#39;ll be built _on top_ of JDBC. You&#39;re doing the equivalent of writing direct machine code, effectively. That&#39;s rarely a good idea.\r\n\r\nYou can use JPA (Object Persistence Frameworks) like Hibernate, but that&#39;s a whole new can of worms. If you like SQL, the tools you are looking for are [JOOQ](https://www.jooq.org) or [JDBI](https://www.jdbi.org). These mean your complicated:\r\n\r\n```\r\npst.setObject(1, id);\r\n       \r\n        ResultSet find_next = pst.executeQuery();{\r\n\r\n            while (find_next.next()) {\r\n\r\n                id2 = find_next.getInt(1);\r\n            }\r\n            pst.close();\r\n```\r\n\r\nall turn into simple one-liners.\r\n\r\n## connection pooling\r\n\r\nCreating a connection object is really expensive. It&#39;s an inevitable cost you must pay if you want multiple simultaneous transactions, but you don&#39;t really want to pay it if you have multiple sequential ones. It depends a bit on the DB engine and JDBC driver (some even have a baked-in pooling system, some don&#39;t). But one easy solution is to add a layer of abstraction: Instead of asking the DriverManager to get you a connection, you can ask a connection pooler. It gives you a virtualized connection object that passes through all calls, except for `close()`, which doesn&#39;t _actually_ close the connection, but simply invalidates the virtual object and passes the actual connection back into &#39;the pool&#39;.\r\n\r\nThis is not necessary until you get quite a bit of traffic, but if you want to be fully ready, it&#39;s something you can look at. Libraries like [HikariCP](https://github.com/brettwooldridge/HikariCP) make this easy.\r\n","title":"How to avoid multiple connections for jdbc postgres","body":"<p>Your question boils down to state tracking. Tons of your code across the entire breath of the project will want to do stuff with the DB, and DBs are <em>fundamentally</em> session oriented concepts. Thus, you will need to change your code flow – any code anywhere that needs to do anything with the DB can't just go: &quot;Eh, fine, I'll go make a connection then&quot;. It needs to get an existing connection provided to it, because 'just make new connections every time' doesn't work. Not just because that is quite slow, but primarily because transactions are a thing.</p>\n<p>This is where injection frameworks come in: They are all about having state that needs to exist in loads of places in the project. But, you can also do it 'by hand', so to speak: Pass a <code>Connection</code> object around as method parameter.</p>\n<p>You have a few code smells in this code. These issues are leading you to this question.</p>\n<h2>Exception handling</h2>\n<p>'when an exception occurs, print some stuff to a log and just keeps going' is what your code does now. This is, hopefully now obvious given that I put it that way, a really bad idea. A method that <em>fundamentally</em> does DB things <em>should</em> be declared to <code>throws SQLException</code>. The entire 'code flow' (every method that ends up being called to perform a particular job) needs to be methods that <em>ALL</em> are declared as <code>throws SQLException</code>, at which point you can get rid of all your try/catch blocks. You'll be reducing your code LOC by quite a bit whilst you make the code better! Yay!</p>\n<p>You want 'an exception' to do many things:</p>\n<ul>\n<li>Stop execution. You don't want code to continue when you're in a state you don't understand. SQLException has a ton of reasons for it, hence, you have no idea what happened. Carrying on is bad. One easy fix is to have the catch block rethrow something (<code>throw new RuntimeException(&quot;uncaught&quot;, e)</code> - you should update your IDE templates, this is the correct default catch block content), but even better is to just let the SQLException happen.</li>\n<li>You want to save the relevant info as much as possible: The stack trace, the causal chain, the exact exception type, the message, and any special info that the exception object has - SQLException has lots of this, such as the postgres error state number which is very important, and is not always included in the message.</li>\n</ul>\n<p>Just letting everything throw SQLException does all that - there will be very few places (all the top level calls) where you can write code that deals with it, instead of writing 83951 times <code>lgr.log(Level.SEVERE)</code>.</p>\n<h2>Connections are created every time</h2>\n<p>You don't want to do that - you want the connection to be passed along. In general you want a more robust setup to track transactions. All DB everythings are always in transactional form. Even if you have autocommit true (that's why it is called 'AutoCommit' and not 'transactionless'): That just means the DB assumes you meant to <code>db.commit()</code> after every query.</p>\n<p>Even read queries are transactional. Imagine a bank that needs to hand out a bank guarantee for buyout by a partnership. To do so, it needs to sum up the balance of every member of the partnership. You could simply do:</p>\n<pre><code>int sum = 0;\nfor (Partner p : partners) {\n  try (var pst = con.prepareStatement(&quot;SELECT balance FROM table2 WHERE id=?&quot;)) {\n    ... \n    sum += rs.getInteger(1);\n  }\n}\n\nreturn sum &gt; requiredGuarantee;\n</code></pre>\n<p>However, the above code is <strong>subtly broken</strong>. Imagine that right in the middle of this code, one of the partners transfers a large sum to another partner. You so happen to read the partner transfering the cash out <em>before</em> the transfer, but read the balance of the receiving partner <em>after</em> it. Your code now has the wrong sum! It things the total amount in the accounts of all the partners is much higher than it really is. The bank gives the guarantee, the deal falls through, and the bank just lost 10 million dollars. Oops. Quite the bug, isn't it?</p>\n<p>The solution is transactions. And the right transactionlevel. At the right level (SERIALIZABLE is the only level that can do this correctly), if you do all these SELECTs in a single transaction, the above situation <strong>cannot occur</strong>. Postgres will let you query and sum up as normal, and you may indeed get the wrong sum, but the <code>.commit()</code> call (and note that in this transaction we have not written anything at all yet!) <strong>will fail</strong>. That's your cue to start over.</p>\n<p>Connections are at the same level as the transaction: If you want to run 2 transactions simultaneously, you must have 2 connections. A single connection is 'in' a transaction. Hence, passing the Connection object around <em>is</em> the same as passing the transaction around, and you must have transactions as the above code shows (imagine that the bank guarantee ends up being represented by INSERTing a new row in the 'guarantees' table. You want it all in a single transaction, so that after all that, you <code>.commit()</code> and postgres will throw you an exception (and that row you wrote never happened) if the summing wasn't consistent due to some other transaction having occurred in between that changed the balance of one or more partners.</p>\n<p>That's the <em>only</em> correct way to write a 'consistent' data model.</p>\n<p>For certain projects, the cost of consistency is too high. However, unless your name is literally google, you won't ever get there, and if you must have this, it's way more complicated than just picking a lower transaction isolation level. So, go for the consistency.</p>\n<p>It's up to you if you want <code>Connection con</code> to be the first parameter of all your db-based methods, or if you want to create an object and have a field of type 'con' (but remember, they HAVE to be closed, so either the code that creates such an object has to use try-with-resources to close that connection, or your class that has a field <code>Connection con</code> needs to be <code>AutoClosable</code>, and has to be created with try-with-resources!) - or if you want to use an injection framework like spring or dagger or guice.</p>\n<h2>Use an abstraction</h2>\n<p>JDBC is primary designed to expose every feature that every relational DB system could possibly have, and to be a consistent 'bottom layer'. This means that as an API to directly program an app on, <strong>it's horrible</strong>. It's not meant for you.</p>\n<p>Use a library that <em>was</em> meant for such a purpose. It'll be built <em>on top</em> of JDBC. You're doing the equivalent of writing direct machine code, effectively. That's rarely a good idea.</p>\n<p>You can use JPA (Object Persistence Frameworks) like Hibernate, but that's a whole new can of worms. If you like SQL, the tools you are looking for are <a href=\"https://www.jooq.org\" rel=\"nofollow noreferrer\">JOOQ</a> or <a href=\"https://www.jdbi.org\" rel=\"nofollow noreferrer\">JDBI</a>. These mean your complicated:</p>\n<pre><code>pst.setObject(1, id);\n       \n        ResultSet find_next = pst.executeQuery();{\n\n            while (find_next.next()) {\n\n                id2 = find_next.getInt(1);\n            }\n            pst.close();\n</code></pre>\n<p>all turn into simple one-liners.</p>\n<h2>connection pooling</h2>\n<p>Creating a connection object is really expensive. It's an inevitable cost you must pay if you want multiple simultaneous transactions, but you don't really want to pay it if you have multiple sequential ones. It depends a bit on the DB engine and JDBC driver (some even have a baked-in pooling system, some don't). But one easy solution is to add a layer of abstraction: Instead of asking the DriverManager to get you a connection, you can ask a connection pooler. It gives you a virtualized connection object that passes through all calls, except for <code>close()</code>, which doesn't <em>actually</em> close the connection, but simply invalidates the virtual object and passes the actual connection back into 'the pool'.</p>\n<p>This is not necessary until you get quite a bit of traffic, but if you want to be fully ready, it's something you can look at. Libraries like <a href=\"https://github.com/brettwooldridge/HikariCP\" rel=\"nofollow noreferrer\">HikariCP</a> make this easy.</p>\n"}],"owner":{"account_id":19093368,"reputation":532,"user_id":13943207,"display_name":"stanvooz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":462,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1659616192,"creation_date":1659448268,"question_id":73208760,"body_markdown":"I need to query a PostgreSQL database based upon the result of the previous query. Right now, I have for each query a new `DriverManager` connection and this seems not like the best practise to me (I&#39;m new to Java).\r\n\r\n    public static Integer item(DataModel params) {\r\n\r\n        Psqlcon psql = new Psqlcon();\r\n        \r\n        try (Connection con = DriverManager.getConnection(psql.url, psql.user, psql.password);\r\n             PreparedStatement pst = con.prepareStatement(&quot;SELECT * FROM table1 WHERE var=? &quot;\r\n            pst.setObject(1, params.getID());\r\n           \r\n            ResultSet find_id = pst.executeQuery();{\r\n\r\n                while (find_id.next()) {\r\n\r\n                    id = find_id.getInt(1);\r\n                }\r\n                pst.close();\r\n            }\r\n\r\n        } catch (SQLException ex) {\r\n\r\n            Logger lgr = Logger.getLogger(something.class.getName());\r\n            lgr.log(Level.SEVERE, ex.getMessage(), ex);\r\n        }\r\n\r\n        try (Connection con = DriverManager.getConnection(psql.url, psql.user, psql.password);\r\n                 PreparedStatement pst = con.prepareStatement(&quot;SELECT something FROM table2 WHERE id=? &quot;\r\n                \r\n            pst.setObject(1, id);\r\n           \r\n            ResultSet find_next = pst.executeQuery();{\r\n\r\n                while (find_next.next()) {\r\n\r\n                    id2 = find_next.getInt(1);\r\n                }\r\n                pst.close();\r\n            }\r\n       \r\n            ....on so on\r\n\r\nThis is an oversimplified example. The queries are actually a bit more complex. Wouldn&#39;t it be better to have one `connection` and close only the `prepareStatement`? How do I accomplish to have only one connection?","title":"How to avoid multiple connections for jdbc postgres","body":"<p>I need to query a PostgreSQL database based upon the result of the previous query. Right now, I have for each query a new <code>DriverManager</code> connection and this seems not like the best practise to me (I'm new to Java).</p>\n<pre><code>public static Integer item(DataModel params) {\n\n    Psqlcon psql = new Psqlcon();\n    \n    try (Connection con = DriverManager.getConnection(psql.url, psql.user, psql.password);\n         PreparedStatement pst = con.prepareStatement(&quot;SELECT * FROM table1 WHERE var=? &quot;\n        pst.setObject(1, params.getID());\n       \n        ResultSet find_id = pst.executeQuery();{\n\n            while (find_id.next()) {\n\n                id = find_id.getInt(1);\n            }\n            pst.close();\n        }\n\n    } catch (SQLException ex) {\n\n        Logger lgr = Logger.getLogger(something.class.getName());\n        lgr.log(Level.SEVERE, ex.getMessage(), ex);\n    }\n\n    try (Connection con = DriverManager.getConnection(psql.url, psql.user, psql.password);\n             PreparedStatement pst = con.prepareStatement(&quot;SELECT something FROM table2 WHERE id=? &quot;\n            \n        pst.setObject(1, id);\n       \n        ResultSet find_next = pst.executeQuery();{\n\n            while (find_next.next()) {\n\n                id2 = find_next.getInt(1);\n            }\n            pst.close();\n        }\n   \n        ....on so on\n</code></pre>\n<p>This is an oversimplified example. The queries are actually a bit more complex. Wouldn't it be better to have one <code>connection</code> and close only the <code>prepareStatement</code>? How do I accomplish to have only one connection?</p>\n"},{"tags":["java","jdbc"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":2,"creation_date":1659452321,"post_id":73209155,"comment_id":129295510,"body_markdown":"you are overwriting previous `rset` in catch block - that is the reason.","body":"you are overwriting previous <code>rset</code> in catch block - that is the reason."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1659469939,"post_id":73209155,"comment_id":129301331,"body_markdown":"Your IDE is actually wrong.  ResultSets are a special case.  From [the ResultSet documentation](https://docs.oracle.com/en/java/javase/18/docs/api/java.sql/java/sql/ResultSet.html):  “A ResultSet object is automatically closed when the Statement object that generated it is closed, re-executed, or used to retrieve the next result from a sequence of multiple results.”","body":"Your IDE is actually wrong.  ResultSets are a special case.  From <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.sql/java/sql/ResultSet.html\" rel=\"nofollow noreferrer\">the ResultSet documentation</a>:  “A ResultSet object is automatically closed when the Statement object that generated it is closed, re-executed, or used to retrieve the next result from a sequence of multiple results.”"}],"answers":[{"tags":[],"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1659450726,"creation_date":1659450726,"answer_id":73209338,"question_id":73209155,"body_markdown":"Use **try-with-resources** feature\r\n\r\nYou can use `try-with-resources` feature of `java 7` it will handle the auto closing of the resources as `ResultSet`,`Statement` implements `AutoCloseable` interface.\r\n\r\nlike : `try (ResultSet rset = stmt.executeQuery(query))`\r\n\r\nsimilarly for other resources as well.","title":"Close ResultSet after using in catch-block","body":"<p>Use <strong>try-with-resources</strong> feature</p>\n<p>You can use <code>try-with-resources</code> feature of <code>java 7</code> it will handle the auto closing of the resources as <code>ResultSet</code>,<code>Statement</code> implements <code>AutoCloseable</code> interface.</p>\n<p>like : <code>try (ResultSet rset = stmt.executeQuery(query))</code></p>\n<p>similarly for other resources as well.</p>\n"},{"tags":[],"owner":{"account_id":15054416,"reputation":419,"user_id":10865170,"display_name":"Big Zed"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1659451999,"creation_date":1659451999,"answer_id":73209624,"question_id":73209155,"body_markdown":"Try to put the ``return``statement after the ``finally`` clause. i think your function is ignoring everything that comes after the ``return`` statement.\r\n\r\nTry something like :   \r\n```\r\nStatement stmt = null;\r\nResultSet rset = null;\r\n\r\nString parsedResult = null;  // String or the object type you want to return.\r\n\r\ntry {\r\n    stmt = connection.createStatement();\r\n    try {\r\n        String query = foo();\r\n        rset = stmt.executeQuery(query);\r\n    } catch (Exception e) {\r\n        String query = bar();\r\n        rset = stmt.executeQuery(query);\r\n    }\r\n     parsedResult = JsonHandler.resultSetToJson(rset);\r\n} finally {\r\n    if (rset != null)\r\n        rset.close();\r\n    if (stmt != null)\r\n        stmt.close();\r\n}\r\n\r\nreturn parsedResult;\r\n```  ","title":"Close ResultSet after using in catch-block","body":"<p>Try to put the <code>return</code>statement after the <code>finally</code> clause. i think your function is ignoring everything that comes after the <code>return</code> statement.</p>\n<p>Try something like :</p>\n<pre><code>Statement stmt = null;\nResultSet rset = null;\n\nString parsedResult = null;  // String or the object type you want to return.\n\ntry {\n    stmt = connection.createStatement();\n    try {\n        String query = foo();\n        rset = stmt.executeQuery(query);\n    } catch (Exception e) {\n        String query = bar();\n        rset = stmt.executeQuery(query);\n    }\n     parsedResult = JsonHandler.resultSetToJson(rset);\n} finally {\n    if (rset != null)\n        rset.close();\n    if (stmt != null)\n        stmt.close();\n}\n\nreturn parsedResult;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1659540825,"creation_date":1659452878,"answer_id":73209834,"question_id":73209155,"body_markdown":"As [commented][1], your second assignment of `rset` would let the first `ResultSet` object become a candidate for garbage collection without being closed. Thus the warning from the compiler or your IDE. \r\n\r\nTo more reliably and clearly close your resources, use try-with-resources.\r\n\r\n# try-with-resources syntax\r\n\r\nModern Java offers the try-with-resources syntax feature to automatically close any object that implements [`AutoCloseable`][2] with its single method `close`. The resources will be closed in the reverse of the order in which they were instantiated. And they are closed whether your code completes successfully or throws an exception. \r\n\r\nSee [The Java Tutorials][3] provided free of cost by Oracle Corp.\r\n\r\nTry-with-resources is one of my favorite features in Java. Along with [text blocks][4], database work is much easier now, and more fool-proof.\r\n\r\n`Connnection`, `Statement`, and `ResultSet` are all such auto-closeable resources. So wrap them in try-with-resource syntax.\r\n\r\n## Exceptions\r\n\r\nGet specific with your exceptions. Trap for the ones expected within the local context. \r\n\r\n## Code\r\n\r\nHere is some untested code.\r\n\r\nNotice how we name each `ResultSet` object differently.\r\n\r\nNotice how the nesting of try-with-resources calls communicates visually the cascading structure of our logic. \r\n\r\n```java\r\ntry \r\n(\r\n    Connection conn = myDataSource.getConnection() ;\r\n    Statement stmt = conn.createStatement() ;\r\n)\r\n{\r\n    try \r\n    (\r\n        ResultSet rsetFoo = stmt.executeQuery( foo() );\r\n    )\r\n    {\r\n        return JsonHandler.resultSetToJson( rsetFoo );\r\n    }\r\n    catch ( SQLException | SQLTimeoutException e) \r\n    {\r\n        try \r\n        (\r\n            ResultSet rsetBar = stmt.executeQuery( bar() );\r\n        )\r\n        {\r\n            return JsonHandler.resultSetToJson( rsetBar );\r\n        }\r\n    }\r\n}\r\ncatch ( SQLException e ) \r\n{\r\n    … \r\n}\r\ncatch ( SQLTimeoutException e ) \r\n{\r\n    …\r\n}\r\n```\r\n\r\n\r\nIf you had searched before posting, you would have found many existing examples, and much discussion, already posted on Stack Overflow.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/73209155/close-resultset-after-using-in-catch-block/73209834#comment129295510_73209155\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/AutoCloseable.html\r\n  [3]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\r\n  [4]: https://openjdk.org/jeps/378","title":"Close ResultSet after using in catch-block","body":"<p>As <a href=\"https://stackoverflow.com/questions/73209155/close-resultset-after-using-in-catch-block/73209834#comment129295510_73209155\">commented</a>, your second assignment of <code>rset</code> would let the first <code>ResultSet</code> object become a candidate for garbage collection without being closed. Thus the warning from the compiler or your IDE.</p>\n<p>To more reliably and clearly close your resources, use try-with-resources.</p>\n<h1>try-with-resources syntax</h1>\n<p>Modern Java offers the try-with-resources syntax feature to automatically close any object that implements <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/AutoCloseable.html\" rel=\"nofollow noreferrer\"><code>AutoCloseable</code></a> with its single method <code>close</code>. The resources will be closed in the reverse of the order in which they were instantiated. And they are closed whether your code completes successfully or throws an exception.</p>\n<p>See <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">The Java Tutorials</a> provided free of cost by Oracle Corp.</p>\n<p>Try-with-resources is one of my favorite features in Java. Along with <a href=\"https://openjdk.org/jeps/378\" rel=\"nofollow noreferrer\">text blocks</a>, database work is much easier now, and more fool-proof.</p>\n<p><code>Connnection</code>, <code>Statement</code>, and <code>ResultSet</code> are all such auto-closeable resources. So wrap them in try-with-resource syntax.</p>\n<h2>Exceptions</h2>\n<p>Get specific with your exceptions. Trap for the ones expected within the local context.</p>\n<h2>Code</h2>\n<p>Here is some untested code.</p>\n<p>Notice how we name each <code>ResultSet</code> object differently.</p>\n<p>Notice how the nesting of try-with-resources calls communicates visually the cascading structure of our logic.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try \n(\n    Connection conn = myDataSource.getConnection() ;\n    Statement stmt = conn.createStatement() ;\n)\n{\n    try \n    (\n        ResultSet rsetFoo = stmt.executeQuery( foo() );\n    )\n    {\n        return JsonHandler.resultSetToJson( rsetFoo );\n    }\n    catch ( SQLException | SQLTimeoutException e) \n    {\n        try \n        (\n            ResultSet rsetBar = stmt.executeQuery( bar() );\n        )\n        {\n            return JsonHandler.resultSetToJson( rsetBar );\n        }\n    }\n}\ncatch ( SQLException e ) \n{\n    … \n}\ncatch ( SQLTimeoutException e ) \n{\n    …\n}\n</code></pre>\n<p>If you had searched before posting, you would have found many existing examples, and much discussion, already posted on Stack Overflow.</p>\n"}],"owner":{"account_id":7247431,"reputation":27,"user_id":5528906,"accept_rate":75,"display_name":"mavok"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":73209834,"answer_count":3,"score":-2,"last_activity_date":1659616146,"creation_date":1659449880,"question_id":73209155,"body_markdown":"Eclipse IDE always shows following warning:\r\n\r\n&gt; Resource leak: &#39;rset&#39; is not closed at this location\r\n\r\nBut for me the code seems to be correct:\r\n\r\n    Statement stmt = null;\r\n\tResultSet rset = null;\r\n\ttry {\r\n\t    stmt = connection.createStatement();\r\n\t    try {\r\n\t\t    String query = foo();\r\n\t\t    rset = stmt.executeQuery(query);\r\n\t    } catch (Exception e) {\r\n\t\t    String query = bar();\r\n\t\t    rset = stmt.executeQuery(query);\r\n\t    }\r\n\t    return JsonHandler.resultSetToJson(rset);\r\n\t} finally {\r\n\t    if (rset != null)\r\n\t\t    rset.close();\r\n\t    if (stmt != null)\r\n\t\t    stmt.close();\r\n\t}\r\n\r\nHow do I close the ResultSet?","title":"Close ResultSet after using in catch-block","body":"<p>Eclipse IDE always shows following warning:</p>\n<blockquote>\n<p>Resource leak: 'rset' is not closed at this location</p>\n</blockquote>\n<p>But for me the code seems to be correct:</p>\n<pre><code>Statement stmt = null;\nResultSet rset = null;\ntry {\n    stmt = connection.createStatement();\n    try {\n        String query = foo();\n        rset = stmt.executeQuery(query);\n    } catch (Exception e) {\n        String query = bar();\n        rset = stmt.executeQuery(query);\n    }\n    return JsonHandler.resultSetToJson(rset);\n} finally {\n    if (rset != null)\n        rset.close();\n    if (stmt != null)\n        stmt.close();\n}\n</code></pre>\n<p>How do I close the ResultSet?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6921189,"reputation":1490,"user_id":5313817,"display_name":"Rishal"},"score":0,"creation_date":1659612339,"post_id":73235030,"comment_id":129338577,"body_markdown":"is the string is guaranteed to be same, After Errorcode you will get your myName?","body":"is the string is guaranteed to be same, After Errorcode you will get your myName?"},{"owner":{"account_id":6074897,"reputation":2892,"user_id":4742570,"display_name":"jsheeran"},"score":1,"creation_date":1659612377,"post_id":73235030,"comment_id":129338595,"body_markdown":"Does this answer your question? [How can I efficiently parse HTML with Java?](https://stackoverflow.com/questions/2168610/how-can-i-efficiently-parse-html-with-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2168610/how-can-i-efficiently-parse-html-with-java\">How can I efficiently parse HTML with Java?</a>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1659630131,"post_id":73235030,"comment_id":129345735,"body_markdown":"[Do not use regular expressions to parse HTML.](https://stackoverflow.com/questions/701166/can-you-provide-some-examples-of-why-it-is-hard-to-parse-xml-and-html-with-a-reg)  Doing so *will* break eventually.","body":"<a href=\"https://stackoverflow.com/questions/701166/can-you-provide-some-examples-of-why-it-is-hard-to-parse-xml-and-html-with-a-reg\">Do not use regular expressions to parse HTML.</a>  Doing so <i>will</i> break eventually."}],"answers":[{"tags":[],"owner":{"account_id":6921189,"reputation":1490,"user_id":5313817,"display_name":"Rishal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659615455,"creation_date":1659615455,"answer_id":73235812,"question_id":73235030,"body_markdown":"As per your string it looks like `HTML` and if you want to parse it, there are multiple ways to do it. As in comments one of the ways suggested is `JSOUP`.\r\n\r\nIf you are aware of the `tags` and `path` you can use `XPath` to obtain the information you need.\r\n\r\n**For reference example as below:**\r\n\r\n        String s = &quot;&lt;tr&gt;&lt;td&gt;&lt;b&gt;ErrorCode&lt;/b&gt;&lt;/td&gt;&lt;td&gt;myName&lt;/td&gt;&lt;/tr&gt;&quot;;\r\n\r\n        InputSource inputXML = new InputSource(new StringReader(s));\r\n        XPathFactory xpathFactory = XPathFactory.newInstance();\r\n        XPath xpath = xpathFactory.newXPath();\r\n\r\n        String xpathExpression = &quot;/tr/td[2]&quot;; //Xpath to evaluate and find your value as per your String.\r\n\r\n        XPathExpression expr = xpath.compile(xpathExpression);\r\n        \r\n       //It will give you List of Nodes in which you can iterate and find out your value.\r\n        NodeList nodes = (NodeList) expr.evaluate(inputXML, XPathConstants.NODESET);\r\n        System.out.println(nodes.item(0).getTextContent());\r\n\r\nAnother approach is to use Html Parsing Libraries as given in suggestions.\r\n**JSoup**\r\n\r\nFor Jsoup (XML) below is reference code can be used.\r\n\r\n        String s = &quot;&lt;tr&gt;&lt;td&gt;&lt;b&gt;ErrorCode&lt;/b&gt;&lt;/td&gt;&lt;td&gt;myName&lt;/td&gt;&lt;/tr&gt;&quot;;\r\n        Document doc = Jsoup.parse(s,&quot;&quot;, Parser.xmlParser());\r\n        Elements td = doc.select(&quot;td&quot;);\r\n        System.out.println(td.get(1).text());\r\n\r\nFor Jsoup(Html) your tags need to be proper.\r\n\r\n        String s = &quot;&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;b&gt;ErrorCode&lt;/b&gt;&lt;/td&gt;&lt;td&gt;myName&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&quot;;\r\n        Document doc = Jsoup.parse(s);\r\n        Elements td = doc.select(&quot;td&quot;);\r\n        System.out.println(td.get(1).text());","title":"how to extract specific word from given string? I want Only MyName from the given string","body":"<p>As per your string it looks like <code>HTML</code> and if you want to parse it, there are multiple ways to do it. As in comments one of the ways suggested is <code>JSOUP</code>.</p>\n<p>If you are aware of the <code>tags</code> and <code>path</code> you can use <code>XPath</code> to obtain the information you need.</p>\n<p><strong>For reference example as below:</strong></p>\n<pre><code>    String s = &quot;&lt;tr&gt;&lt;td&gt;&lt;b&gt;ErrorCode&lt;/b&gt;&lt;/td&gt;&lt;td&gt;myName&lt;/td&gt;&lt;/tr&gt;&quot;;\n\n    InputSource inputXML = new InputSource(new StringReader(s));\n    XPathFactory xpathFactory = XPathFactory.newInstance();\n    XPath xpath = xpathFactory.newXPath();\n\n    String xpathExpression = &quot;/tr/td[2]&quot;; //Xpath to evaluate and find your value as per your String.\n\n    XPathExpression expr = xpath.compile(xpathExpression);\n    \n   //It will give you List of Nodes in which you can iterate and find out your value.\n    NodeList nodes = (NodeList) expr.evaluate(inputXML, XPathConstants.NODESET);\n    System.out.println(nodes.item(0).getTextContent());\n</code></pre>\n<p>Another approach is to use Html Parsing Libraries as given in suggestions.\n<strong>JSoup</strong></p>\n<p>For Jsoup (XML) below is reference code can be used.</p>\n<pre><code>    String s = &quot;&lt;tr&gt;&lt;td&gt;&lt;b&gt;ErrorCode&lt;/b&gt;&lt;/td&gt;&lt;td&gt;myName&lt;/td&gt;&lt;/tr&gt;&quot;;\n    Document doc = Jsoup.parse(s,&quot;&quot;, Parser.xmlParser());\n    Elements td = doc.select(&quot;td&quot;);\n    System.out.println(td.get(1).text());\n</code></pre>\n<p>For Jsoup(Html) your tags need to be proper.</p>\n<pre><code>    String s = &quot;&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;b&gt;ErrorCode&lt;/b&gt;&lt;/td&gt;&lt;td&gt;myName&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&quot;;\n    Document doc = Jsoup.parse(s);\n    Elements td = doc.select(&quot;td&quot;);\n    System.out.println(td.get(1).text());\n</code></pre>\n"}],"owner":{"account_id":25976481,"reputation":1,"user_id":19690863,"display_name":"Shubhankarr Saha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1659632126,"answer_count":1,"score":-1,"last_activity_date":1659615455,"creation_date":1659611980,"question_id":73235030,"body_markdown":"```java\r\nString s= &quot;&lt;tr&gt;&lt;td&gt;&lt;b&gt;ErrorCode&lt;/b&gt;&lt;/td&gt;&lt;td&gt;myName&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;b&gt;&quot;;      \r\nString p[]= s.split(`enter code here`);\r\n```","title":"how to extract specific word from given string? I want Only MyName from the given string","body":"<pre class=\"lang-java prettyprint-override\"><code>String s= &quot;&lt;tr&gt;&lt;td&gt;&lt;b&gt;ErrorCode&lt;/b&gt;&lt;/td&gt;&lt;td&gt;myName&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;b&gt;&quot;;      \nString p[]= s.split(`enter code here`);\n</code></pre>\n"},{"tags":["java","mongodb","spring-data","spring-data-mongodb"],"comments":[{"owner":{"account_id":9744,"reputation":80826,"user_id":18122,"accept_rate":80,"display_name":"Oliver Drotbohm"},"score":1,"creation_date":1387437599,"post_id":20667057,"comment_id":30959950,"body_markdown":"What do the documents look like you&#39;re trying to read? Can you check, that the values of `impapps`, `repository` and `artifacts` are arrays in MongoDB? If so, the `read(…)` method should run into the `typeToUse.isCollectionLike() &amp;&amp; dbo instanceof BasicDBList` clause and properly create a collection for the property. I am assuming you rather find something *not* an array and thus the entity resolution kicks in.\n\nPS: Would you mind properly formatting the code samples? Makes the post much better to read and will probably attract more people to answer.","body":"What do the documents look like you&#39;re trying to read? Can you check, that the values of <code>impapps</code>, <code>repository</code> and <code>artifacts</code> are arrays in MongoDB? If so, the <code>read(…)</code> method should run into the <code>typeToUse.isCollectionLike() &amp;&amp; dbo instanceof BasicDBList</code> clause and properly create a collection for the property. I am assuming you rather find something <i>not</i> an array and thus the entity resolution kicks in.  PS: Would you mind properly formatting the code samples? Makes the post much better to read and will probably attract more people to answer."},{"owner":{"account_id":1616076,"reputation":673,"user_id":1493723,"accept_rate":52,"display_name":"VBJ"},"score":0,"creation_date":1387468399,"post_id":20667057,"comment_id":30977978,"body_markdown":"@OliverGierke Thanks for your reply. I have formatted my question a bit. And i have the `document` pic attached. `impappa` is created as an array, `artifacts` is created as array and `repository` is currently created as blank array currently.","body":"@OliverGierke Thanks for your reply. I have formatted my question a bit. And i have the <code>document</code> pic attached. <code>impappa</code> is created as an array, <code>artifacts</code> is created as array and <code>repository</code> is currently created as blank array currently."},{"owner":{"account_id":1616076,"reputation":673,"user_id":1493723,"accept_rate":52,"display_name":"VBJ"},"score":0,"creation_date":1387472269,"post_id":20667057,"comment_id":30980612,"body_markdown":"now when i see it close..i see that `impapps` is storing as an document instead of an array of documents..I think there is issues in my code. When i edit the `impapps` looks like it is not storing as an array but as a document.","body":"now when i see it close..i see that <code>impapps</code> is storing as an document instead of an array of documents..I think there is issues in my code. When i edit the <code>impapps</code> looks like it is not storing as an array but as a document."},{"owner":{"account_id":1616076,"reputation":673,"user_id":1493723,"accept_rate":52,"display_name":"VBJ"},"score":0,"creation_date":1387478167,"post_id":20667057,"comment_id":30984068,"body_markdown":"@OliverGierke Since you are here..can you please tell me what is the right way to update an exiting document in an array..I tried this but it is just replacing it as document. `Criteria crit=new Criteria().andOperator(\n\t\t\t\t\t\tCriteria.where(&quot;_id&quot;).is(projectId),\n\t\t\t\t\t\tCriteria.where(&quot;impapps.appid&quot;).is(impapp.getAppId())\n\t\t\t\t\t\t);Query query=new Query(crit);Update upd=new Update();\nupd.set(&quot;impapps&quot;, impapp);mongoTemplate.updateFirst(query, upd, Project.class)`","body":"@OliverGierke Since you are here..can you please tell me what is the right way to update an exiting document in an array..I tried this but it is just replacing it as document. <code>Criteria crit=new Criteria().andOperator( \t\t\t\t\t\tCriteria.where(&quot;_id&quot;).is(projectId), \t\t\t\t\t\tCriteria.where(&quot;impapps.appid&quot;).is(impapp.getAppId()) \t\t\t\t\t\t);Query query=new Query(crit);Update upd=new Update(); upd.set(&quot;impapps&quot;, impapp);mongoTemplate.updateFirst(query, upd, Project.class)</code>"},{"owner":{"account_id":1616076,"reputation":673,"user_id":1493723,"accept_rate":52,"display_name":"VBJ"},"score":0,"creation_date":1387478651,"post_id":20667057,"comment_id":30984328,"body_markdown":"@OliverGierke nevermind sir. I got it by adding a $ sign. Thank you for looking into the post. You have great holidays!!","body":"@OliverGierke nevermind sir. I got it by adding a $ sign. Thank you for looking into the post. You have great holidays!!"},{"owner":{"account_id":9744,"reputation":80826,"user_id":18122,"accept_rate":80,"display_name":"Oliver Drotbohm"},"score":0,"creation_date":1387542988,"post_id":20667057,"comment_id":31009726,"body_markdown":"Please don&#39;t use the comment section to side-track this. This is an FAQ site, not a discussion forum.","body":"Please don&#39;t use the comment section to side-track this. This is an FAQ site, not a discussion forum."}],"answers":[{"tags":[],"owner":{"account_id":9744,"reputation":80826,"user_id":18122,"accept_rate":80,"display_name":"Oliver Drotbohm"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1387543105,"creation_date":1387543105,"answer_id":20703823,"question_id":20667057,"body_markdown":"The `impapps` field in your document is not an array but a nested document. So if you change your `List&lt;ImpactedApplications&gt;` to a simple `ImpactedApplications` this should read fine.","title":"Spring Mongodb- Could not instantiate bean class [java.util.List]: Specified class is an interface","body":"<p>The <code>impapps</code> field in your document is not an array but a nested document. So if you change your <code>List&lt;ImpactedApplications&gt;</code> to a simple <code>ImpactedApplications</code> this should read fine.</p>\n"},{"tags":[],"owner":{"account_id":4722924,"reputation":121,"user_id":3820358,"display_name":"bastien"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1465390772,"creation_date":1465372925,"answer_id":37696621,"question_id":20667057,"body_markdown":"I have got the same exception : \r\n\r\n**Try to declare your field like this :**\r\n\r\n\r\n    @Field(&quot;impapps&quot;)\r\n    ArrayList&lt;ImpactedApplications&gt; impapps = new ArrayList&lt;ImpactedApplications&gt;();\r\n\r\nI don&#39;t like to do that but it works for me. \r\n\r\n**edit:**\r\n\r\nMy issue was due to unwind operation during aggregation.\r\nIt transform array (declared as List&lt;&gt; in my class) into object \r\nand then reflection doesn&#39;t work because spring was expecting a list.\r\n\r\n","title":"Spring Mongodb- Could not instantiate bean class [java.util.List]: Specified class is an interface","body":"<p>I have got the same exception : </p>\n\n<p><strong>Try to declare your field like this :</strong></p>\n\n<pre><code>@Field(\"impapps\")\nArrayList&lt;ImpactedApplications&gt; impapps = new ArrayList&lt;ImpactedApplications&gt;();\n</code></pre>\n\n<p>I don't like to do that but it works for me. </p>\n\n<p><strong>edit:</strong></p>\n\n<p>My issue was due to unwind operation during aggregation.\nIt transform array (declared as List&lt;> in my class) into object \nand then reflection doesn't work because spring was expecting a list.</p>\n"},{"tags":[],"owner":{"account_id":9358395,"reputation":50,"user_id":13416066,"display_name":"Gaurav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659615424,"creation_date":1659615424,"answer_id":73235802,"question_id":20667057,"body_markdown":"use ArrayList&lt;SomeObject&gt; someObjects instead of List&lt;SomeObject&gt; someObjects. \r\n\r\nIt worked for me. ","title":"Spring Mongodb- Could not instantiate bean class [java.util.List]: Specified class is an interface","body":"<p>use ArrayList someObjects instead of List someObjects.</p>\n<p>It worked for me.</p>\n"}],"owner":{"account_id":1616076,"reputation":673,"user_id":1493723,"accept_rate":52,"display_name":"VBJ"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19287,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":20703823,"answer_count":3,"score":4,"last_activity_date":1659615424,"creation_date":1387395973,"question_id":20667057,"body_markdown":"my project is using Spring data mongodb. I was not having below error until i made an edit to one of the document that has a field with Array of Documents in it. It was working fine before but now I keep getting the below error.\r\n\r\nThe field i updated was impapps in the Projects POJO class. I am not sure how to clear this error tried different things but did not work out.\r\n\r\n        SEVERE: Servlet.service() for servlet [appServlet] in context with path [/mongodproject] threw exception [Request processing failed; nested exception is org.springframework.data.mapping.model.MappingInstantiationException: Could not instantiate bean class [java.util.List]: Specified class is an interface] with root cause\r\n    org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [java.util.List]: Specified class is an interface\r\n    \tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:101)\r\n    \tat org.springframework.data.convert.ReflectionEntityInstantiator.createInstance(ReflectionEntityInstantiator.java:60)\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter.read(MappingMongoConverter.java:232)\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter.read(MappingMongoConverter.java:212)\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter.readValue(MappingMongoConverter.java:1008)\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter.access$100(MappingMongoConverter.java:75)\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter$MongoDbPropertyValueProvider.getPropertyValue(MappingMongoConverter.java:957)\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter.getValueInternal(MappingMongoConverter.java:713)\r\n\r\nHere are my POJO and Spring Repository class.\r\n\r\n**Project POJO Class**\r\n\r\n    @Document(collection=&quot;releases&quot;)\r\n     public class Project {\r\n\t@Id\r\n\tprivate String id;\r\n\t ......\r\n\t@Field(&quot;impapps&quot;)\r\n\tprivate List&lt;ImpactedApplications&gt; impapps=new ArrayList&lt;ImpactedApplications&gt;();\r\n        .....getters/setters\r\n    }\t\r\n\r\n**ImpactedApplication POJO Class:**\r\n\t\r\n    public class ImpactedApplications {\r\n\r\n\t@Field(&quot;appid&quot;)\r\n\tprivate String appId;\r\n\t.....\r\n\t@Field(&quot;repository&quot;)\r\n\tprivate List&lt;ScriptsRepo&gt; rep=new ArrayList&lt;ScriptsRepo&gt;();\r\n\t@Field(&quot;artifacts&quot;)\r\n\tprivate List&lt;Artifacts&gt; artifacts=new ArrayList&lt;Artifacts&gt;();\r\n         //getter and setters\r\n   }\r\n\r\n**Artifacts POJO Class**\r\n\r\n    public class Artifacts {\r\n    \r\n    \t@Field(&quot;artifacttype&quot;)\r\n    \tprivate String artifactType;\r\n    \t@Field(&quot;documentlink&quot;)\r\n    \tprivate String documentLink;\r\n    \t@Field(&quot;arttestphase&quot;)\r\n    \tprivate String artTestPhase;\r\n    \t@Field(&quot;artifactname&quot;)\r\n    \tprivate ArtifactsEnums artifactsNames;\r\n    \t@Field(&quot;startdate&quot;)\r\n    \tprivate String startDate;\r\n    \t@Field(&quot;enddate&quot;)\r\n    \tprivate String endDate;\r\n    \t@Field(&quot;peerrev&quot;)\r\n    \tprivate boolean peerReview;\r\n    \t@Field(&quot;busrev&quot;)\r\n    \tprivate boolean busReview;\r\n    \t@Field(&quot;na&quot;)\r\n    \tprivate boolean na;\r\n\r\n**Spring Repository classes**\r\n\r\n    public interface ProjectRepository extends Repository&lt;Project, String&gt; {\r\n\t\r\n\tProject findById(String id);\r\n\tList&lt;Project&gt; findByYearAndReleaseMonthNoOrderByProjectNameDesc(String year,String month, Sort sort);\r\n\tProject findByYearAndReleaseMonthNoAndId(String year, String month,String id);\r\n\r\n\r\n&gt; Whenever i call the above methods i keep getting the exception.\r\n\r\n\r\n**Below is how my document is looking currently.**\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/ohNSH.png","title":"Spring Mongodb- Could not instantiate bean class [java.util.List]: Specified class is an interface","body":"<p>my project is using Spring data mongodb. I was not having below error until i made an edit to one of the document that has a field with Array of Documents in it. It was working fine before but now I keep getting the below error.</p>\n\n<p>The field i updated was impapps in the Projects POJO class. I am not sure how to clear this error tried different things but did not work out.</p>\n\n<pre><code>    SEVERE: Servlet.service() for servlet [appServlet] in context with path [/mongodproject] threw exception [Request processing failed; nested exception is org.springframework.data.mapping.model.MappingInstantiationException: Could not instantiate bean class [java.util.List]: Specified class is an interface] with root cause\norg.springframework.beans.BeanInstantiationException: Could not instantiate bean class [java.util.List]: Specified class is an interface\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:101)\n    at org.springframework.data.convert.ReflectionEntityInstantiator.createInstance(ReflectionEntityInstantiator.java:60)\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter.read(MappingMongoConverter.java:232)\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter.read(MappingMongoConverter.java:212)\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter.readValue(MappingMongoConverter.java:1008)\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter.access$100(MappingMongoConverter.java:75)\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter$MongoDbPropertyValueProvider.getPropertyValue(MappingMongoConverter.java:957)\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter.getValueInternal(MappingMongoConverter.java:713)\n</code></pre>\n\n<p>Here are my POJO and Spring Repository class.</p>\n\n<p><strong>Project POJO Class</strong></p>\n\n<pre><code>@Document(collection=\"releases\")\n public class Project {\n@Id\nprivate String id;\n ......\n@Field(\"impapps\")\nprivate List&lt;ImpactedApplications&gt; impapps=new ArrayList&lt;ImpactedApplications&gt;();\n    .....getters/setters\n}   \n</code></pre>\n\n<p><strong>ImpactedApplication POJO Class:</strong></p>\n\n<pre><code>public class ImpactedApplications {\n\n@Field(\"appid\")\nprivate String appId;\n.....\n@Field(\"repository\")\nprivate List&lt;ScriptsRepo&gt; rep=new ArrayList&lt;ScriptsRepo&gt;();\n@Field(\"artifacts\")\nprivate List&lt;Artifacts&gt; artifacts=new ArrayList&lt;Artifacts&gt;();\n     //getter and setters\n</code></pre>\n\n<p>}</p>\n\n<p><strong>Artifacts POJO Class</strong></p>\n\n<pre><code>public class Artifacts {\n\n    @Field(\"artifacttype\")\n    private String artifactType;\n    @Field(\"documentlink\")\n    private String documentLink;\n    @Field(\"arttestphase\")\n    private String artTestPhase;\n    @Field(\"artifactname\")\n    private ArtifactsEnums artifactsNames;\n    @Field(\"startdate\")\n    private String startDate;\n    @Field(\"enddate\")\n    private String endDate;\n    @Field(\"peerrev\")\n    private boolean peerReview;\n    @Field(\"busrev\")\n    private boolean busReview;\n    @Field(\"na\")\n    private boolean na;\n</code></pre>\n\n<p><strong>Spring Repository classes</strong></p>\n\n<pre><code>public interface ProjectRepository extends Repository&lt;Project, String&gt; {\n\nProject findById(String id);\nList&lt;Project&gt; findByYearAndReleaseMonthNoOrderByProjectNameDesc(String year,String month, Sort sort);\nProject findByYearAndReleaseMonthNoAndId(String year, String month,String id);\n</code></pre>\n\n<blockquote>\n  <p>Whenever i call the above methods i keep getting the exception.</p>\n</blockquote>\n\n<p><strong>Below is how my document is looking currently.</strong></p>\n\n<p><img src=\"https://i.stack.imgur.com/ohNSH.png\" alt=\"enter image description here\"></p>\n"},{"tags":["java","spring","spring-boot","web-services","jax-ws"],"comments":[{"owner":{"account_id":419743,"reputation":2186,"user_id":797078,"accept_rate":52,"display_name":"amique"},"score":0,"creation_date":1407465502,"post_id":25177491,"comment_id":39235488,"body_markdown":"Using CXF as perfollowing https://github.com/vanioinformatika/spring-boot-cxf-integration-example solved the issue.","body":"Using CXF as perfollowing <a href=\"https://github.com/vanioinformatika/spring-boot-cxf-integration-example\" rel=\"nofollow noreferrer\">github.com/vanioinformatika/spring-boot-cxf-integration-exam&zwnj;&#8203;ple</a> solved the issue."}],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1483784929,"creation_date":1407416588,"answer_id":25183285,"question_id":25177491,"body_markdown":"By default Spring doesn&#39;t know anything about your JAX-WS endpoints – they&#39;re managed by the JAX-WS runtime rather than Spring. You can overcome this by using [SpringBeanAutowiringSupport][1] You&#39;d typically do so simply by subclassing it:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public class MySoapService extends SpringBeanAutowiringSupport implements MyServicePortType {\r\n        …\r\n    }\r\n\r\nYou also have the option of calling it directly from a method annotated with `@PostConstruct`:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public class MySoapService implements MyServicePortType {\r\n        \r\n        @PostConstruct\r\n        public void init() {\r\n            SpringBeanAutowiringSupport.processInjectionBasedOnCurrentContext(this);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/context/support/SpringBeanAutowiringSupport.html","title":"Spring Boot register JAX-WS webservice as bean","body":"<p>By default Spring doesn't know anything about your JAX-WS endpoints – they're managed by the JAX-WS runtime rather than Spring. You can overcome this by using <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/context/support/SpringBeanAutowiringSupport.html\" rel=\"nofollow noreferrer\">SpringBeanAutowiringSupport</a> You'd typically do so simply by subclassing it:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class MySoapService extends SpringBeanAutowiringSupport implements MyServicePortType {\n    …\n}\n</code></pre>\n\n<p>You also have the option of calling it directly from a method annotated with <code>@PostConstruct</code>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class MySoapService implements MyServicePortType {\n\n    @PostConstruct\n    public void init() {\n        SpringBeanAutowiringSupport.processInjectionBasedOnCurrentContext(this);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":66337,"reputation":367,"user_id":194672,"display_name":"Parker Wang"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1483973899,"creation_date":1451179264,"answer_id":34476810,"question_id":25177491,"body_markdown":"Extending `SpringBeanAutowiringSupport` is the recommended way to get beans injected for JAX-WS endpoint class, from current spring root web application context. However this does not work with **spring boot** as it&#39;s a bit different on [servlet context initialization][1]. \r\n\r\n### Problem ###\r\n\r\n`SpringBootServletInitializer.startup()` uses a custom `ContextLoaderListener` and does not pass the created application context to `ContextLoader`. Later when the object of JAX-WS endpoint class being initialized, `SpringBeanAutowiringSupport` depends on `ContextLoader` to retrieve the current application context, and always get `null`.\r\n\r\n\r\n\tpublic abstract class SpringBootServletInitializer implements WebApplicationInitializer {\r\n\r\n\t\t@Override\r\n\t\tpublic void onStartup(ServletContext servletContext) throws ServletException {\r\n\t\t\tWebApplicationContext rootAppContext = createRootApplicationContext(\r\n\t\t\t\t\tservletContext);\r\n\t\t\tif (rootAppContext != null) {\r\n\t\t\t\tservletContext.addListener(new ContextLoaderListener(rootAppContext) {\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void contextInitialized(ServletContextEvent event) {\r\n\t\t\t\t\t\t// no-op because the application context is already initialized\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t    ......\r\n\t\t}\r\n    }\r\n\r\n### Workaround ###\r\n\r\nYou could register a bean that implements `org.springframework.boot.context.embedded.ServletContextInitializer` to retrieve the application context during `startup()`.\r\n\r\n    @Configuration\r\n    public class WebApplicationContextLocator implements ServletContextInitializer {\r\n\r\n        private static WebApplicationContext webApplicationContext;\r\n\r\n        public static WebApplicationContext getCurrentWebApplicationContext() {\r\n            return webApplicationContext;\r\n        }\r\n\r\n        @Override\r\n        public void onStartup(ServletContext servletContext) throws ServletException {\r\n            webApplicationContext = WebApplicationContextUtils.getWebApplicationContext(servletContext);\r\n        }\r\n    }\r\n\r\n\r\nThen you could implement self-autowiring in your JAX-WS endpoint class.\r\n\r\n\r\n    @WebService\r\n    public class ServiceImpl implements ServicePortType {\r\n\r\n        @Autowired\r\n        private FooBean bean;\r\n\r\n        public ServiceImpl() {\r\n            AutowiredAnnotationBeanPostProcessor bpp = new AutowiredAnnotationBeanPostProcessor();\r\n            WebApplicationContext currentContext = WebApplicationContextLocator.getCurrentWebApplicationContext();\r\n            bpp.setBeanFactory(currentContext.getAutowireCapableBeanFactory());\r\n            bpp.processInjection(this);\r\n        }\r\n\r\n        // alternative constructor to facilitate unit testing.\r\n        protected ServiceImpl(ApplicationContext context) {\r\n            AutowiredAnnotationBeanPostProcessor bpp = new AutowiredAnnotationBeanPostProcessor();\r\n            bpp.setBeanFactory(new DefaultListableBeanFactory(context));\r\n            bpp.processInjection(this);\r\n        }\r\n    }\r\n\r\n### Unit Testing ###\r\n\r\nIn unit tests you could get current spring application context injected, and call alternative constructor with it.\r\n\r\n    @Autowired \r\n    private ApplicationContext context;\r\n\r\n    private ServicePortType service;\r\n\r\n    @Before\r\n    public void setup() {\r\n        this.service = new ServiceImpl(this.context);\r\n    }\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-embedded-container-context-initializer","title":"Spring Boot register JAX-WS webservice as bean","body":"<p>Extending <code>SpringBeanAutowiringSupport</code> is the recommended way to get beans injected for JAX-WS endpoint class, from current spring root web application context. However this does not work with <strong>spring boot</strong> as it's a bit different on <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-embedded-container-context-initializer\" rel=\"noreferrer\">servlet context initialization</a>. </p>\n\n<h3>Problem</h3>\n\n<p><code>SpringBootServletInitializer.startup()</code> uses a custom <code>ContextLoaderListener</code> and does not pass the created application context to <code>ContextLoader</code>. Later when the object of JAX-WS endpoint class being initialized, <code>SpringBeanAutowiringSupport</code> depends on <code>ContextLoader</code> to retrieve the current application context, and always get <code>null</code>.</p>\n\n<pre><code>public abstract class SpringBootServletInitializer implements WebApplicationInitializer {\n\n    @Override\n    public void onStartup(ServletContext servletContext) throws ServletException {\n        WebApplicationContext rootAppContext = createRootApplicationContext(\n                servletContext);\n        if (rootAppContext != null) {\n            servletContext.addListener(new ContextLoaderListener(rootAppContext) {\n                @Override\n                public void contextInitialized(ServletContextEvent event) {\n                    // no-op because the application context is already initialized\n                }\n            });\n        }\n        ......\n    }\n}\n</code></pre>\n\n<h3>Workaround</h3>\n\n<p>You could register a bean that implements <code>org.springframework.boot.context.embedded.ServletContextInitializer</code> to retrieve the application context during <code>startup()</code>.</p>\n\n<pre><code>@Configuration\npublic class WebApplicationContextLocator implements ServletContextInitializer {\n\n    private static WebApplicationContext webApplicationContext;\n\n    public static WebApplicationContext getCurrentWebApplicationContext() {\n        return webApplicationContext;\n    }\n\n    @Override\n    public void onStartup(ServletContext servletContext) throws ServletException {\n        webApplicationContext = WebApplicationContextUtils.getWebApplicationContext(servletContext);\n    }\n}\n</code></pre>\n\n<p>Then you could implement self-autowiring in your JAX-WS endpoint class.</p>\n\n<pre><code>@WebService\npublic class ServiceImpl implements ServicePortType {\n\n    @Autowired\n    private FooBean bean;\n\n    public ServiceImpl() {\n        AutowiredAnnotationBeanPostProcessor bpp = new AutowiredAnnotationBeanPostProcessor();\n        WebApplicationContext currentContext = WebApplicationContextLocator.getCurrentWebApplicationContext();\n        bpp.setBeanFactory(currentContext.getAutowireCapableBeanFactory());\n        bpp.processInjection(this);\n    }\n\n    // alternative constructor to facilitate unit testing.\n    protected ServiceImpl(ApplicationContext context) {\n        AutowiredAnnotationBeanPostProcessor bpp = new AutowiredAnnotationBeanPostProcessor();\n        bpp.setBeanFactory(new DefaultListableBeanFactory(context));\n        bpp.processInjection(this);\n    }\n}\n</code></pre>\n\n<h3>Unit Testing</h3>\n\n<p>In unit tests you could get current spring application context injected, and call alternative constructor with it.</p>\n\n<pre><code>@Autowired \nprivate ApplicationContext context;\n\nprivate ServicePortType service;\n\n@Before\npublic void setup() {\n    this.service = new ServiceImpl(this.context);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6402290,"reputation":12668,"user_id":4964553,"display_name":"jonashackt"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1458580549,"creation_date":1458580549,"answer_id":36137611,"question_id":25177491,"body_markdown":"You don&#180;t have to extend your Configuration from SpringBootServletInitializer, nor override configure() or onStartup() methods. And in no way you have to build something implementing WebApplicationInitializer. There are only few steps to do (you could also do all the steps in a seperate @Configuration-class, the class with @SpringBootApplication only needs to know, where this one is - e.g. via @ComponentScan).\r\n\r\n 1. Register the CXFServlet in an ServletRegistrationBean\r\n 2. Instantiate a SpringBus\r\n 3. Instantiate your Implementation of the JAX-WS SEI (Service Interface)\r\n 4. Instantiate a EndpointImpl with the SpringBus and SEI implementing Beans\r\n 5. Call publish() method on that EndpointImpl\r\n\r\nDone. \r\n\r\n\r\n\r\n\t@SpringBootApplication\r\n\tpublic class SimpleBootCxfApplication {\r\n\r\n\t    public static void main(String[] args) {\r\n\t        SpringApplication.run(SimpleBootCxfApplication.class, args);\r\n\t    }\r\n\r\n\t    @Bean\r\n\t    public ServletRegistrationBean dispatcherServlet() {\r\n\t        return new ServletRegistrationBean(new CXFServlet(), &quot;/soap-api/*&quot;);\r\n\t    }\r\n\r\n\t    @Bean(name = Bus.DEFAULT_BUS_ID)\r\n\t    public SpringBus springBus() {\r\n\t        return new SpringBus();\r\n\t    }    \r\n\t    \r\n\t    @Bean\r\n\t    public WeatherService weatherService() {\r\n\t    \treturn new WeatherServiceEndpoint();\r\n\t    }\r\n\t    \r\n\t    @Bean\r\n\t    public Endpoint endpoint() {\r\n\t        EndpointImpl endpoint = new EndpointImpl(springBus(), weatherService());\r\n\t        endpoint.publish(&quot;/WeatherSoapService&quot;);\r\n\t        return endpoint;\r\n\t    }\r\n\t}","title":"Spring Boot register JAX-WS webservice as bean","body":"<p>You don´t have to extend your Configuration from SpringBootServletInitializer, nor override configure() or onStartup() methods. And in no way you have to build something implementing WebApplicationInitializer. There are only few steps to do (you could also do all the steps in a seperate @Configuration-class, the class with @SpringBootApplication only needs to know, where this one is - e.g. via @ComponentScan).</p>\n\n<ol>\n<li>Register the CXFServlet in an ServletRegistrationBean</li>\n<li>Instantiate a SpringBus</li>\n<li>Instantiate your Implementation of the JAX-WS SEI (Service Interface)</li>\n<li>Instantiate a EndpointImpl with the SpringBus and SEI implementing Beans</li>\n<li>Call publish() method on that EndpointImpl</li>\n</ol>\n\n<p>Done. </p>\n\n<pre><code>@SpringBootApplication\npublic class SimpleBootCxfApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SimpleBootCxfApplication.class, args);\n    }\n\n    @Bean\n    public ServletRegistrationBean dispatcherServlet() {\n        return new ServletRegistrationBean(new CXFServlet(), \"/soap-api/*\");\n    }\n\n    @Bean(name = Bus.DEFAULT_BUS_ID)\n    public SpringBus springBus() {\n        return new SpringBus();\n    }    \n\n    @Bean\n    public WeatherService weatherService() {\n        return new WeatherServiceEndpoint();\n    }\n\n    @Bean\n    public Endpoint endpoint() {\n        EndpointImpl endpoint = new EndpointImpl(springBus(), weatherService());\n        endpoint.publish(\"/WeatherSoapService\");\n        return endpoint;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7291708,"reputation":3515,"user_id":5557885,"accept_rate":54,"display_name":"rajadilipkolli"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1486579661,"creation_date":1486578968,"answer_id":42121042,"question_id":25177491,"body_markdown":"Taking clue from @Andy Wilkinson using [SpringBeanAutoWiringSupport][1] is achieved by using\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public class MySoapService extends SpringBeanAutowiringSupport implements MyServicePortType {\r\n        …\r\n    }\r\n\r\nYou also have the option of calling it directly from a method annotated with `@PostConstruct`:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Service\r\n    public class MySoapService implements MyServicePortType {\r\n\r\n        @Autowired\r\n        ServletContext servletContext;\r\n\r\n        @PostConstruct\r\n        public void init() {\r\n            SpringBeanAutowiringSupport.processInjectionBasedOnServletContext(this,\r\n                servletContext);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/context/support/SpringBeanAutowiringSupport.html","title":"Spring Boot register JAX-WS webservice as bean","body":"<p>Taking clue from @Andy Wilkinson using <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/context/support/SpringBeanAutowiringSupport.html\" rel=\"nofollow noreferrer\">SpringBeanAutoWiringSupport</a> is achieved by using</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class MySoapService extends SpringBeanAutowiringSupport implements MyServicePortType {\n    …\n}\n</code></pre>\n\n<p>You also have the option of calling it directly from a method annotated with <code>@PostConstruct</code>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class MySoapService implements MyServicePortType {\n\n    @Autowired\n    ServletContext servletContext;\n\n    @PostConstruct\n    public void init() {\n        SpringBeanAutowiringSupport.processInjectionBasedOnServletContext(this,\n            servletContext);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":951457,"reputation":605,"user_id":977528,"accept_rate":0,"display_name":"Andrew Niken"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659615264,"creation_date":1659615264,"answer_id":73235775,"question_id":25177491,"body_markdown":"Try to look this way: @ServletComponentScan\r\n\r\n    @SpringBootApplication\r\n    @EnableTransactionManagement\r\n    @ServletComponentScan\r\n    public class TelecomApplication { .... }","title":"Spring Boot register JAX-WS webservice as bean","body":"<p>Try to look this way: @ServletComponentScan</p>\n<pre><code>@SpringBootApplication\n@EnableTransactionManagement\n@ServletComponentScan\npublic class TelecomApplication { .... }\n</code></pre>\n"}],"owner":{"account_id":419743,"reputation":2186,"user_id":797078,"accept_rate":52,"display_name":"amique"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18819,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":34476810,"answer_count":5,"score":6,"last_activity_date":1659615264,"creation_date":1407399611,"question_id":25177491,"body_markdown":"In my spring boot ws based application I have created a jax-ws webservice following a contract first approach. The Web service is up but I cannot autowire my other beans inside my webservice.\r\n\r\nHow can I define, my webservice in spring as bean? \r\n\r\nFollowing is my webservice impl class:\r\n```java\r\n@WebService(endpointInterface = &quot;com.foo.bar.MyServicePortType&quot;)\r\n@Service\r\npublic class MySoapService implements MyServicePortType {\r\n    @Autowired\r\n    private MyBean obj;\r\n\r\n    public Res method(final Req request) {\r\n        System.out.println(&quot;\\n\\n\\nCALLING.......\\n\\n&quot; + obj.toString()); //obj is null here\r\n        return new Res();\r\n    }\r\n}\r\n```\r\nMyServicePortType is geneated by maven from wsdl file \r\n\r\nWhen I call this service (via SoapUi) it gives `NullPointerException` as the MyBean object is not autowired.\r\n\r\nSince my application is built on Spring boot, there is no xml file. Currently I have `sun-jaxws.xml` file with endpoint configuration. How can I do following configuration in spring boot application\r\n```xml\r\n&lt;wss:binding url=&quot;/hello&quot;&gt;\r\n    &lt;wss:service&gt;\r\n        &lt;ws:service bean=&quot;#helloWs&quot;/&gt;\r\n    &lt;/wss:service&gt;\r\n&lt;/wss:binding&gt;\r\n```\r\n\r\nFollowing is my `SpringBootServletInitializer` class:\r\n```java\r\n@Configuration\r\npublic class WebXml extends SpringBootServletInitializer {\r\n    @Override\r\n    protected SpringApplicationBuilder configure(final SpringApplicationBuilder application) {\r\n        return application.sources(WSApplication.class);\r\n    }\r\n\r\n    @Bean\r\n    public ServletRegistrationBean jaxws() {\r\n        final ServletRegistrationBean jaxws = new ServletRegistrationBean(new WSServlet(), &quot;/jaxws&quot;);\r\n        return jaxws;\r\n    }\r\n\r\n    @Override\r\n    public void onStartup(final ServletContext servletContext) throws ServletException {\r\n        super.onStartup(servletContext);\r\n        servletContext.addListener(new WSServletContextListener());\r\n    }\r\n}\r\n```\r\n","title":"Spring Boot register JAX-WS webservice as bean","body":"<p>In my spring boot ws based application I have created a jax-ws webservice following a contract first approach. The Web service is up but I cannot autowire my other beans inside my webservice.</p>\n<p>How can I define, my webservice in spring as bean?</p>\n<p>Following is my webservice impl class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@WebService(endpointInterface = &quot;com.foo.bar.MyServicePortType&quot;)\n@Service\npublic class MySoapService implements MyServicePortType {\n    @Autowired\n    private MyBean obj;\n\n    public Res method(final Req request) {\n        System.out.println(&quot;\\n\\n\\nCALLING.......\\n\\n&quot; + obj.toString()); //obj is null here\n        return new Res();\n    }\n}\n</code></pre>\n<p>MyServicePortType is geneated by maven from wsdl file</p>\n<p>When I call this service (via SoapUi) it gives <code>NullPointerException</code> as the MyBean object is not autowired.</p>\n<p>Since my application is built on Spring boot, there is no xml file. Currently I have <code>sun-jaxws.xml</code> file with endpoint configuration. How can I do following configuration in spring boot application</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;wss:binding url=&quot;/hello&quot;&gt;\n    &lt;wss:service&gt;\n        &lt;ws:service bean=&quot;#helloWs&quot;/&gt;\n    &lt;/wss:service&gt;\n&lt;/wss:binding&gt;\n</code></pre>\n<p>Following is my <code>SpringBootServletInitializer</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class WebXml extends SpringBootServletInitializer {\n    @Override\n    protected SpringApplicationBuilder configure(final SpringApplicationBuilder application) {\n        return application.sources(WSApplication.class);\n    }\n\n    @Bean\n    public ServletRegistrationBean jaxws() {\n        final ServletRegistrationBean jaxws = new ServletRegistrationBean(new WSServlet(), &quot;/jaxws&quot;);\n        return jaxws;\n    }\n\n    @Override\n    public void onStartup(final ServletContext servletContext) throws ServletException {\n        super.onStartup(servletContext);\n        servletContext.addListener(new WSServletContextListener());\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","maven","websphere-liberty"],"comments":[{"owner":{"account_id":4558101,"reputation":17722,"user_id":3701228,"display_name":"Gas"},"score":0,"creation_date":1647437674,"post_id":71495648,"comment_id":126370681,"body_markdown":"What features you have in `server.xml`? You probably have `jpa-2.0` and if you want to use hibernate provider 2.1, you need to change Liberty feature to `jpaContainer-2.1`","body":"What features you have in <code>server.xml</code>? You probably have <code>jpa-2.0</code> and if you want to use hibernate provider 2.1, you need to change Liberty feature to <code>jpaContainer-2.1</code>"}],"answers":[{"tags":[],"owner":{"account_id":24576068,"reputation":81,"user_id":18481860,"display_name":"Vinay"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1659615019,"creation_date":1659615019,"answer_id":73235729,"question_id":71495648,"body_markdown":"Method JoinColumn.foreignKey() was added in JPA2.2 library onwards, So below JPA2.2 version it&#39;s not available. \r\n\r\nIssue resolved, After removing support of above method and dependencies version updated as mention below as hibernate version 4.2.15 is compatible with JPA 2.1\r\n                \r\n\t         &lt;dependency&gt;\r\n\t            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n\t            &lt;version&gt;4.2.15.Final&lt;/version&gt;\r\n\t         &lt;/dependency&gt;\r\n \t         &lt;dependency&gt;\r\n\t            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t            &lt;version&gt;4.2.15.Final&lt;/version&gt;\r\n\t         &lt;/dependency&gt;\r\n\t         &lt;dependency&gt;\r\n\t            &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\r\n\t            &lt;artifactId&gt;hibernate-jpa-2.1-api&lt;/artifactId&gt;\r\n\t            &lt;version&gt;1.0.0.Final&lt;/version&gt;\r\n\t         &lt;/dependency&gt;\r\n\t         &lt;dependency&gt;\r\n\t            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n\t            &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n\t            &lt;version&gt;1.2.0.RELEASE&lt;/version&gt;\r\n\t          &lt;/dependency&gt;","title":"How to override pom.xml dependency over liberty dependency mentioned in server.xml at deployment time?","body":"<p>Method JoinColumn.foreignKey() was added in JPA2.2 library onwards, So below JPA2.2 version it's not available.</p>\n<p>Issue resolved, After removing support of above method and dependencies version updated as mention below as hibernate version 4.2.15 is compatible with JPA 2.1</p>\n<pre><code>         &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n            &lt;version&gt;4.2.15.Final&lt;/version&gt;\n         &lt;/dependency&gt;\n         &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;4.2.15.Final&lt;/version&gt;\n         &lt;/dependency&gt;\n         &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-jpa-2.1-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0.Final&lt;/version&gt;\n         &lt;/dependency&gt;\n         &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;1.2.0.RELEASE&lt;/version&gt;\n          &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":24576068,"reputation":81,"user_id":18481860,"display_name":"Vinay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73235729,"answer_count":1,"score":0,"last_activity_date":1659615019,"creation_date":1647427370,"question_id":71495648,"body_markdown":"I am facing issue related to old version of dependency jpa2.0 mentioned in liberty server.xml file.\r\n\r\nI want to use project&#39;s pom.xml hibernate-jpa-2.1-api dependency without removing liberty&#39;s jpa 2.0 (com.ibm.websphere.javaee.persistence.2.0_1.0.53.jar) dependency.\r\n\r\nError while deploying in liberty SIT environment:\r\n\r\n```none\r\nCaused by: java.lang.NoSuchMethodError: javax/persistence/JoinColumn.foreignKey()Ljavax/persistence/ForeignKey; (loaded from file:/apps/waslb/sit/shared/websupporta/wlp/lib/../dev/api/spec/com.ibm.websphere.javaee.persistence.2.0_1.0.53.jar by org.eclipse.osgi.internal.loader.EquinoxClassLoader@69b35caa[com.ibm.websphere.javaee.persistence.2.0:1.0.53.cl210620210527-1900(id=117)]) called from class org.hibernate.cfg.AnnotationBinder (loaded from file:/apps/waslb/sit/shared/websupporta/wlp/usr/servers/websupporta11/apps/expanded/web-apps-esignservices-war.war/WEB-INF/lib/hibernate-core-4.3.11.Final.jar by com.ibm.ws.classloading.internal.AppClassLoader@40ad1256).\r\n```\r\n\r\nBelow is the pom.xml file dependencies:\r\n```xml\r\n &lt;dependency&gt;\r\n    &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n    &lt;version&gt;6.2.2.jre8&lt;/version&gt;\r\n &lt;/dependency&gt;\r\n &lt;dependency&gt;\r\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n    &lt;version&gt;4.3.11.Final&lt;/version&gt;\r\n &lt;/dependency&gt;\r\n &lt;dependency&gt;\r\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n    &lt;version&gt;4.3.11.Final&lt;/version&gt;\r\n &lt;/dependency&gt;\r\n &lt;dependency&gt;\r\n    &lt;groupId&gt;org.hibernate.common&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hibernate-commons-annotations&lt;/artifactId&gt;\r\n    &lt;version&gt;4.0.5.Final&lt;/version&gt;\r\n &lt;/dependency&gt;\r\n &lt;dependency&gt;\r\n    &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hibernate-jpa-2.1-api&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0.Final&lt;/version&gt;\r\n &lt;/dependency&gt;\r\n &lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n    &lt;version&gt;1.2.0.RELEASE&lt;/version&gt;\r\n    &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n                &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\r\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n        &lt;/exclusion&gt;\r\n        &lt;exclusion&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-asm&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n \t&lt;/exclusions&gt;\r\n &lt;/dependency&gt;\r\n```","title":"How to override pom.xml dependency over liberty dependency mentioned in server.xml at deployment time?","body":"<p>I am facing issue related to old version of dependency jpa2.0 mentioned in liberty server.xml file.</p>\n<p>I want to use project's pom.xml hibernate-jpa-2.1-api dependency without removing liberty's jpa 2.0 (com.ibm.websphere.javaee.persistence.2.0_1.0.53.jar) dependency.</p>\n<p>Error while deploying in liberty SIT environment:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Caused by: java.lang.NoSuchMethodError: javax/persistence/JoinColumn.foreignKey()Ljavax/persistence/ForeignKey; (loaded from file:/apps/waslb/sit/shared/websupporta/wlp/lib/../dev/api/spec/com.ibm.websphere.javaee.persistence.2.0_1.0.53.jar by org.eclipse.osgi.internal.loader.EquinoxClassLoader@69b35caa[com.ibm.websphere.javaee.persistence.2.0:1.0.53.cl210620210527-1900(id=117)]) called from class org.hibernate.cfg.AnnotationBinder (loaded from file:/apps/waslb/sit/shared/websupporta/wlp/usr/servers/websupporta11/apps/expanded/web-apps-esignservices-war.war/WEB-INF/lib/hibernate-core-4.3.11.Final.jar by com.ibm.ws.classloading.internal.AppClassLoader@40ad1256).\n</code></pre>\n<p>Below is the pom.xml file dependencies:</p>\n<pre class=\"lang-xml prettyprint-override\"><code> &lt;dependency&gt;\n    &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n    &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n    &lt;version&gt;6.2.2.jre8&lt;/version&gt;\n &lt;/dependency&gt;\n &lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n    &lt;version&gt;4.3.11.Final&lt;/version&gt;\n &lt;/dependency&gt;\n &lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n    &lt;version&gt;4.3.11.Final&lt;/version&gt;\n &lt;/dependency&gt;\n &lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate.common&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-commons-annotations&lt;/artifactId&gt;\n    &lt;version&gt;4.0.5.Final&lt;/version&gt;\n &lt;/dependency&gt;\n &lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-jpa-2.1-api&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0.Final&lt;/version&gt;\n &lt;/dependency&gt;\n &lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n    &lt;version&gt;1.2.0.RELEASE&lt;/version&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n                &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-asm&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","algorithm","collections"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1659609071,"post_id":73233774,"comment_id":129337357,"body_markdown":"Can you explain which subsists do you want to preserve (it&#39;s not very clear from your data-sample)? Why list `[A]` should be discarded?","body":"Can you explain which subsists do you want to preserve (it&#39;s not very clear from your data-sample)? Why list <code>[A]</code> should be discarded?"},{"owner":{"account_id":6271524,"reputation":1112,"user_id":4875624,"accept_rate":86,"display_name":"Koustav Ray"},"score":0,"creation_date":1659609660,"post_id":73233774,"comment_id":129337563,"body_markdown":"@AlexanderIvanchenko because A is a subset of all the other sets, i.e. it&#39;s a proper subset (i.e. this list is wholly contained within another list in some other list), same reason why we discard [A,C] as it&#39;s a proper subset of set [A,B,C]","body":"@AlexanderIvanchenko because A is a subset of all the other sets, i.e. it&#39;s a proper subset (i.e. this list is wholly contained within another list in some other list), same reason why we discard [A,C] as it&#39;s a proper subset of set [A,B,C]"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659614391,"creation_date":1659614391,"answer_id":73235594,"question_id":73233774,"body_markdown":"You&#39;re not checking each combination against the whole data set. Your mistake is rooted in the nested loop, where iteration starts from the index `j=i+1`.\r\n\r\nSince performance of the `containsAll()` depends on the collection that is passed as an argument, it makes sense to generate a *List* of *Sets* out of the given list of list.\r\n\r\nHere&#39;s how it can be implemented using Stream API.\r\n\r\n```\r\nList&lt;List&lt;String&gt;&gt; source = List.of(\r\n    List.of(&quot;A&quot;, &quot;B&quot;), List.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;),\r\n    List.of(&quot;A&quot;, &quot;C&quot;), List.of(&quot;A&quot;, &quot;D&quot;), List.of(&quot;A&quot;)\r\n);\r\n        \r\nList&lt;Set&lt;String&gt;&gt; sets = source.stream()\r\n    .map(HashSet::new)\r\n    .collect(Collectors.toList());\r\n    \r\nList&lt;List&lt;String&gt;&gt; result = sets.stream()\r\n    .filter(set -&gt; sets.stream().filter(s -&gt; !s.equals(set)).noneMatch(s -&gt; s.containsAll(set)))\r\n    .map(ArrayList::new)\r\n    .collect(Collectors.toList());\r\n    \r\nSystem.out.println(result);\r\n```\r\n*Output:*\r\n```\r\n[[A, B, C], [A, D]]\r\n```\r\n\r\n***Note*** that we need to exclude the current combination of strings while checking whether it is a subset of any of the other elements or not, see `filter(s -&gt; !s.equals(set))` in the code above.","title":"Find (Reduce) proper subsets of lists from list of lists in java","body":"<p>You're not checking each combination against the whole data set. Your mistake is rooted in the nested loop, where iteration starts from the index <code>j=i+1</code>.</p>\n<p>Since performance of the <code>containsAll()</code> depends on the collection that is passed as an argument, it makes sense to generate a <em>List</em> of <em>Sets</em> out of the given list of list.</p>\n<p>Here's how it can be implemented using Stream API.</p>\n<pre><code>List&lt;List&lt;String&gt;&gt; source = List.of(\n    List.of(&quot;A&quot;, &quot;B&quot;), List.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;),\n    List.of(&quot;A&quot;, &quot;C&quot;), List.of(&quot;A&quot;, &quot;D&quot;), List.of(&quot;A&quot;)\n);\n        \nList&lt;Set&lt;String&gt;&gt; sets = source.stream()\n    .map(HashSet::new)\n    .collect(Collectors.toList());\n    \nList&lt;List&lt;String&gt;&gt; result = sets.stream()\n    .filter(set -&gt; sets.stream().filter(s -&gt; !s.equals(set)).noneMatch(s -&gt; s.containsAll(set)))\n    .map(ArrayList::new)\n    .collect(Collectors.toList());\n    \nSystem.out.println(result);\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>[[A, B, C], [A, D]]\n</code></pre>\n<p><em><strong>Note</strong></em> that we need to exclude the current combination of strings while checking whether it is a subset of any of the other elements or not, see <code>filter(s -&gt; !s.equals(set))</code> in the code above.</p>\n"}],"owner":{"account_id":6271524,"reputation":1112,"user_id":4875624,"accept_rate":86,"display_name":"Koustav Ray"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73235594,"answer_count":1,"score":0,"last_activity_date":1659614391,"creation_date":1659606557,"question_id":73233774,"body_markdown":"I want to get something like this below:\r\n```\r\n//Input:\r\n{\r\n    &quot;paths&quot;: [\r\n        [\r\n            &quot;A&quot;,&quot;B&quot;\r\n        ],\r\n        [\r\n            &quot;A&quot;,&quot;B&quot;,&quot;C&quot;\r\n        ],\r\n        [\r\n            &quot;A&quot;,&quot;C&quot;\r\n        ],\r\n        [\r\n            &quot;A&quot;,&quot;D&quot;\r\n        ],\r\n        [\r\n            &quot;A&quot;\r\n        ]\r\n    ]\r\n}\r\n\r\n//Output:\r\n{\r\n    &quot;paths&quot;: [\r\n        \r\n        [\r\n            &quot;A&quot;,&quot;B&quot;,&quot;C&quot;\r\n        ],\r\n        [\r\n            &quot;A&quot;,&quot;D&quot;\r\n        ]\r\n       \r\n    ]\r\n}\r\n\r\n```\r\n\r\nWhat my code looks like:\r\n```\r\nList&lt;LinkedList&lt;String&gt;&gt; paths = new LinkedList&lt;&gt;();\r\n//...\r\n//some process that adds elements to paths.\r\n\r\npaths.sort(Comparator.comparingInt(LinkedList::size));\r\n\r\nList&lt;LinkedList&lt;String&gt;&gt; uniquePaths = new ArrayList&lt;&gt;();\r\n\r\n                for (int i = 0; i &lt; paths.size(); i++) {\r\n                    boolean unique=true;\r\n                    for (int j = i+1 ; j &lt; paths.size(); j++) {\r\n\r\n                        if (paths.get(j).containsAll(paths.get(i))){\r\n                            unique=false;\r\n                            break;\r\n                        }\r\n                    }\r\n                    if(unique) {\r\n                        uniquePaths.add(paths.get(i));\r\n                    }\r\n                }\r\n\r\n```\r\nBut this logic seems a bit off.(This is resulting in something like: `[[A][A,D][A,B,C]]`) Please help with some better way of solving this. \r\n\r\nSimilar Question but in R:\r\nhttps://stackoverflow.com/questions/64465598/how-to-reduce-subset-list-of-lists","title":"Find (Reduce) proper subsets of lists from list of lists in java","body":"<p>I want to get something like this below:</p>\n<pre><code>//Input:\n{\n    &quot;paths&quot;: [\n        [\n            &quot;A&quot;,&quot;B&quot;\n        ],\n        [\n            &quot;A&quot;,&quot;B&quot;,&quot;C&quot;\n        ],\n        [\n            &quot;A&quot;,&quot;C&quot;\n        ],\n        [\n            &quot;A&quot;,&quot;D&quot;\n        ],\n        [\n            &quot;A&quot;\n        ]\n    ]\n}\n\n//Output:\n{\n    &quot;paths&quot;: [\n        \n        [\n            &quot;A&quot;,&quot;B&quot;,&quot;C&quot;\n        ],\n        [\n            &quot;A&quot;,&quot;D&quot;\n        ]\n       \n    ]\n}\n\n</code></pre>\n<p>What my code looks like:</p>\n<pre><code>List&lt;LinkedList&lt;String&gt;&gt; paths = new LinkedList&lt;&gt;();\n//...\n//some process that adds elements to paths.\n\npaths.sort(Comparator.comparingInt(LinkedList::size));\n\nList&lt;LinkedList&lt;String&gt;&gt; uniquePaths = new ArrayList&lt;&gt;();\n\n                for (int i = 0; i &lt; paths.size(); i++) {\n                    boolean unique=true;\n                    for (int j = i+1 ; j &lt; paths.size(); j++) {\n\n                        if (paths.get(j).containsAll(paths.get(i))){\n                            unique=false;\n                            break;\n                        }\n                    }\n                    if(unique) {\n                        uniquePaths.add(paths.get(i));\n                    }\n                }\n\n</code></pre>\n<p>But this logic seems a bit off.(This is resulting in something like: <code>[[A][A,D][A,B,C]]</code>) Please help with some better way of solving this.</p>\n<p>Similar Question but in R:\n<a href=\"https://stackoverflow.com/questions/64465598/how-to-reduce-subset-list-of-lists\">How to reduce (subset) list of lists?</a></p>\n"},{"tags":["javascript","java","spring-boot","websocket","stomp"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1618792318,"post_id":67153974,"comment_id":118702354,"body_markdown":"_&quot;The message port closed before a response was received&quot;_ - Sounds like the server threw an exception and closed the connection. Look at the server error logs for more information.","body":"<i>&quot;The message port closed before a response was received&quot;</i> - Sounds like the server threw an exception and closed the connection. Look at the server error logs for more information."}],"owner":{"account_id":19988915,"reputation":77,"user_id":14650416,"display_name":"mistertl"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1192,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659613911,"creation_date":1618784700,"question_id":67153974,"body_markdown":"I try to build a chat application with HTML,JS,CSS with the libraries STOMPJS and SOCKJS as the frontend and Spring Boot as backend. \r\n\r\nMy connect code in the frontend looks like this: \r\n\r\n     function connect() {\r\n            var socket = new SockJS(&quot;http://localhost:8080/chat&quot;);\r\n            stompClient = Stomp.over(socket);\r\n    \r\n            stompClient.connect(\r\n              {},\r\n              function (frame) {\r\n                console.log(&quot;2&quot;);\r\n    \r\n                setConnected(true);\r\n                console.log(&quot;Connected: &quot; + frame);\r\n                stompClient.subscribe(&quot;/topic/messages&quot;, function (messageOutput) {\r\n                  showMessageOutput(JSON.parse(messageOutput.body));\r\n                });\r\n              },\r\n              console.log(&quot;error&quot;)\r\n            );\r\n          }\r\n\r\nAs far as I know is the connect function of STOMPJS like this: headers, connectCallback, errorCallback.\r\n\r\nIt never reach the console.log &quot;2&quot; and it gives me the console.log &quot;error&quot; back. \r\n\r\nI activated CORS like this in my backend with setAllowedOriginPatterns(&quot;*&quot;) in my Spring Boot application:\r\n\r\n     @Configuration\r\n    @EnableWebSocketMessageBroker\r\n    public class WebSocketConfig extends AbstractWebSocketMessageBrokerConfigurer {\r\n    \r\n        @Override\r\n        public void configureMessageBroker(MessageBrokerRegistry config) {\r\n            config.enableSimpleBroker(&quot;/topic&quot;);\r\n            config.setApplicationDestinationPrefixes(&quot;/app&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void registerStompEndpoints(StompEndpointRegistry registry) {\r\n             registry.addEndpoint(&quot;/chat&quot;);\r\n             registry.addEndpoint(&quot;/chat&quot;).setAllowedOriginPatterns(&quot;*&quot;).withSockJS();\r\n        }\r\n    }\r\n\r\nAnd the controller looks like this: \r\n\r\n    @Controller\r\n    public class MController {\r\n    \t@MessageMapping(&quot;/chat&quot;)\r\n    \t@SendTo(&quot;/topic/messages&quot;)\r\n    \tpublic OutputMessage send(Message message) throws Exception {\r\n    \t    String time = new SimpleDateFormat(&quot;HH:mm&quot;).format(new Date());\r\n    \t    return new OutputMessage(message.getFrom(), message.getText(), time);\r\n    \t}\r\n    }\r\n\r\nIn the screenshot you can see the console.log when I execute the function &quot;connect&quot;:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pLi2l.png\r\n\r\nI checked all the documentation of SockJS and StompJS but I couldn&#39;t find a solution.\r\n\r\nThank you very much for your answer in advance. :)","title":"Spring Boot Websocket with SockJS and StompJS connect function does not work, always error","body":"<p>I try to build a chat application with HTML,JS,CSS with the libraries STOMPJS and SOCKJS as the frontend and Spring Boot as backend.</p>\n<p>My connect code in the frontend looks like this:</p>\n<pre><code> function connect() {\n        var socket = new SockJS(&quot;http://localhost:8080/chat&quot;);\n        stompClient = Stomp.over(socket);\n\n        stompClient.connect(\n          {},\n          function (frame) {\n            console.log(&quot;2&quot;);\n\n            setConnected(true);\n            console.log(&quot;Connected: &quot; + frame);\n            stompClient.subscribe(&quot;/topic/messages&quot;, function (messageOutput) {\n              showMessageOutput(JSON.parse(messageOutput.body));\n            });\n          },\n          console.log(&quot;error&quot;)\n        );\n      }\n</code></pre>\n<p>As far as I know is the connect function of STOMPJS like this: headers, connectCallback, errorCallback.</p>\n<p>It never reach the console.log &quot;2&quot; and it gives me the console.log &quot;error&quot; back.</p>\n<p>I activated CORS like this in my backend with setAllowedOriginPatterns(&quot;*&quot;) in my Spring Boot application:</p>\n<pre><code> @Configuration\n@EnableWebSocketMessageBroker\npublic class WebSocketConfig extends AbstractWebSocketMessageBrokerConfigurer {\n\n    @Override\n    public void configureMessageBroker(MessageBrokerRegistry config) {\n        config.enableSimpleBroker(&quot;/topic&quot;);\n        config.setApplicationDestinationPrefixes(&quot;/app&quot;);\n    }\n\n    @Override\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\n         registry.addEndpoint(&quot;/chat&quot;);\n         registry.addEndpoint(&quot;/chat&quot;).setAllowedOriginPatterns(&quot;*&quot;).withSockJS();\n    }\n}\n</code></pre>\n<p>And the controller looks like this:</p>\n<pre><code>@Controller\npublic class MController {\n    @MessageMapping(&quot;/chat&quot;)\n    @SendTo(&quot;/topic/messages&quot;)\n    public OutputMessage send(Message message) throws Exception {\n        String time = new SimpleDateFormat(&quot;HH:mm&quot;).format(new Date());\n        return new OutputMessage(message.getFrom(), message.getText(), time);\n    }\n}\n</code></pre>\n<p>In the screenshot you can see the console.log when I execute the function &quot;connect&quot;:</p>\n<p><a href=\"https://i.stack.imgur.com/pLi2l.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pLi2l.png\" alt=\"enter image description here\" /></a></p>\n<p>I checked all the documentation of SockJS and StompJS but I couldn't find a solution.</p>\n<p>Thank you very much for your answer in advance. :)</p>\n"},{"tags":["java","spring","spring-boot","http"],"comments":[{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1659543589,"post_id":73224050,"comment_id":129320891,"body_markdown":"I don&#39;t think the restTemplate has a &quot;delete&quot; which takes a body, that&#39;s why the real request is failing (body is not added). I think you&#39;ll have to call pure HTTP without passing through Spring&#39;s rest template (or use the &quot;exchange&quot; of restTemplate where you build your own RequestHttpEntity with verb DELETE and a body)","body":"I don&#39;t think the restTemplate has a &quot;delete&quot; which takes a body, that&#39;s why the real request is failing (body is not added). I think you&#39;ll have to call pure HTTP without passing through Spring&#39;s rest template (or use the &quot;exchange&quot; of restTemplate where you build your own RequestHttpEntity with verb DELETE and a body)"},{"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1659545452,"post_id":73224050,"comment_id":129321542,"body_markdown":"Is there a reason you want to have a method for a DELETE request which takes a body? It&#39;s not disallowed to have a body in a DELETE request, but what it should mean is not well specified and some specifications seem to say that the body of a DELETE request should be ignored. See [Is an entity body allowed for an HTTP DELETE request?](https://stackoverflow.com/questions/299628/is-an-entity-body-allowed-for-an-http-delete-request). In other words: Don&#39;t design your REST API with a DELETE request that requires a body.","body":"Is there a reason you want to have a method for a DELETE request which takes a body? It&#39;s not disallowed to have a body in a DELETE request, but what it should mean is not well specified and some specifications seem to say that the body of a DELETE request should be ignored. See <a href=\"https://stackoverflow.com/questions/299628/is-an-entity-body-allowed-for-an-http-delete-request\">Is an entity body allowed for an HTTP DELETE request?</a>. In other words: Don&#39;t design your REST API with a DELETE request that requires a body."},{"owner":{"account_id":5873859,"reputation":905,"user_id":4625372,"accept_rate":75,"display_name":"Ptiseb"},"score":0,"creation_date":1659612916,"post_id":73224050,"comment_id":129338794,"body_markdown":"Thanks for your messages. It worked using the exchange method.\n@Jesper, noted :) i didn&#39;t get this point of the spec.","body":"Thanks for your messages. It worked using the exchange method. @Jesper, noted :) i didn&#39;t get this point of the spec."}],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659613793,"creation_date":1659548726,"answer_id":73225671,"question_id":73224050,"body_markdown":"&gt; I use the module spring-boot-starter-web of **spring boot (v2.7.1 on my\r\n&gt; project)**.\r\n\r\nAccording to the most [recent][1] version of rest template, it offers only the following `delete` methods and none of these methods expects an `entity` as parameter to be sent to `request body` of http request.\r\n\r\n&gt; void\tdelete(String url, Map&lt;String,?&gt; uriVariables)\r\n&gt; \r\n&gt; void\tdelete(String url, Object... uriVariables)\r\n&gt; \r\n&gt; void\tdelete(URI url)\r\n\r\nUri variables that the above methods offer are something different. They are passed and then used to modify the URI accordingly. If for example your URI was `./some1/some2/{foo}`, you pass a uriVariable like 2 and it makes the URI `./some1/some2/2`.\r\n\r\nThis is not what you need and you currently have no other choice, than to work around this issue, as it remains at your disposal the general `exchange` method of restTemplate.\r\n\r\n&gt;     &lt;T&gt; ResponseEntity&lt;T&gt; exchange(String url, HttpMethod method, HttpEntity&lt;?&gt; requestEntity, Class&lt;T&gt; &gt;  responseType, Object... uriVariables)\r\n&gt;\r\n&gt; Execute the HTTP method to the given URI template, writing the given request entity &gt; to the request, and returns the response as ResponseEntity.\r\n\r\nThis is how it could be used.\r\n\r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.setContentType(MediaType.TEXT_PLAIN_VALUE);\r\n    \r\n    HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(&quot;SomeText&quot;, headers);\r\n    restTemplate.exchange(&quot;http://localhost:8090/url/route2&quot;, HttpMethod.DELETE, entity, String.class);\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html","title":"Difference between DELETE HTTP request parameters and request body","body":"<blockquote>\n<p>I use the module spring-boot-starter-web of <strong>spring boot (v2.7.1 on my\nproject)</strong>.</p>\n</blockquote>\n<p>According to the most <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html\" rel=\"nofollow noreferrer\">recent</a> version of rest template, it offers only the following <code>delete</code> methods and none of these methods expects an <code>entity</code> as parameter to be sent to <code>request body</code> of http request.</p>\n<blockquote>\n<p>void  delete(String url, Map&lt;String,?&gt; uriVariables)</p>\n<p>void  delete(String url, Object... uriVariables)</p>\n<p>void  delete(URI url)</p>\n</blockquote>\n<p>Uri variables that the above methods offer are something different. They are passed and then used to modify the URI accordingly. If for example your URI was <code>./some1/some2/{foo}</code>, you pass a uriVariable like 2 and it makes the URI <code>./some1/some2/2</code>.</p>\n<p>This is not what you need and you currently have no other choice, than to work around this issue, as it remains at your disposal the general <code>exchange</code> method of restTemplate.</p>\n<blockquote>\n<pre><code>&lt;T&gt; ResponseEntity&lt;T&gt; exchange(String url, HttpMethod method, HttpEntity&lt;?&gt; requestEntity, Class&lt;T&gt; &gt;  responseType, Object... uriVariables)\n</code></pre>\n<p>Execute the HTTP method to the given URI template, writing the given request entity &gt; to the request, and returns the response as ResponseEntity.</p>\n</blockquote>\n<p>This is how it could be used.</p>\n<pre><code>HttpHeaders headers = new HttpHeaders();\nheaders.setContentType(MediaType.TEXT_PLAIN_VALUE);\n\nHttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(&quot;SomeText&quot;, headers);\nrestTemplate.exchange(&quot;http://localhost:8090/url/route2&quot;, HttpMethod.DELETE, entity, String.class);\n</code></pre>\n"}],"owner":{"account_id":5873859,"reputation":905,"user_id":4625372,"accept_rate":75,"display_name":"Ptiseb"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1182,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73225671,"answer_count":1,"score":2,"last_activity_date":1659613884,"creation_date":1659541017,"question_id":73224050,"body_markdown":"I&#39;m trying to understand the behaviour of an HTTP DELETE request.\r\n\r\nOn my java web application, I defined the following\r\n\t\r\n\r\n    @DeleteMapping(&quot;url/route&quot;)\r\n    public ResponseEntity&lt;String&gt; route(@RequestParam int param1, @RequestParam long param2, @RequestParam long param3, @RequestParam String param4) {\r\n    \tSystem.out.println(param1 + &quot;-&quot; + param2 + &quot;-&quot; + param3 + &quot;-&quot; + param4 );\r\n    \treturn new ResponseEntity&lt;String&gt;(HttpStatus.OK);\r\n    }\r\n    \t\r\n    @DeleteMapping(&quot;url/route2&quot;)\r\n    public ResponseEntity&lt;String&gt; route2(@RequestBody String body) {\t\t\r\n    \tSystem.out.println(body);\r\n    \treturn new ResponseEntity&lt;String&gt;(HttpStatus.OK);\r\n    }\r\n\r\nAnd on a java client, I do the following\r\n\r\n    public final void myFunction(final int param1, final long param2, final long param3, final String param4) {\r\n        restTemplate.delete(&quot;http://localhost:8090/url/route?&quot;\r\n                + &quot;param1=&quot; + param1 + &quot;&amp;&quot;\r\n                + &quot;param2=&quot;+ param2 + &quot;&amp;&quot;\r\n                + &quot;param3=&quot; + param3 + &quot;&amp;&quot;\r\n                + &quot;param4=&quot; + param4, String.class);\r\n        \r\n        restTemplate.delete(&quot;http://localhost:8090/url/route2&quot;, &quot;SomeText&quot;, String.class);\r\n    }\r\n\r\nThe first request works fine, the log is well displayed. However, on the second case, i get the following error \r\n\r\n&gt; HttpMessageNotReadableException: Required request body is missing:\r\n&gt; public org.springframework.http.ResponseEntity&lt;java.lang.String&gt;\r\n&gt; com.thales.atm.thmi.microservice.CanvasController.deleteGraphicObject2(java.lang.String)]\r\n\r\nI use the module spring-boot-starter-web of spring boot (v2.7.1 on my project).\r\n\r\nCan someone explain me what&#39;s wrong in my ussage of body parameters for this delete request ?\r\n\r\nThanks!","title":"Difference between DELETE HTTP request parameters and request body","body":"<p>I'm trying to understand the behaviour of an HTTP DELETE request.</p>\n<p>On my java web application, I defined the following</p>\n<pre><code>@DeleteMapping(&quot;url/route&quot;)\npublic ResponseEntity&lt;String&gt; route(@RequestParam int param1, @RequestParam long param2, @RequestParam long param3, @RequestParam String param4) {\n    System.out.println(param1 + &quot;-&quot; + param2 + &quot;-&quot; + param3 + &quot;-&quot; + param4 );\n    return new ResponseEntity&lt;String&gt;(HttpStatus.OK);\n}\n    \n@DeleteMapping(&quot;url/route2&quot;)\npublic ResponseEntity&lt;String&gt; route2(@RequestBody String body) {        \n    System.out.println(body);\n    return new ResponseEntity&lt;String&gt;(HttpStatus.OK);\n}\n</code></pre>\n<p>And on a java client, I do the following</p>\n<pre><code>public final void myFunction(final int param1, final long param2, final long param3, final String param4) {\n    restTemplate.delete(&quot;http://localhost:8090/url/route?&quot;\n            + &quot;param1=&quot; + param1 + &quot;&amp;&quot;\n            + &quot;param2=&quot;+ param2 + &quot;&amp;&quot;\n            + &quot;param3=&quot; + param3 + &quot;&amp;&quot;\n            + &quot;param4=&quot; + param4, String.class);\n    \n    restTemplate.delete(&quot;http://localhost:8090/url/route2&quot;, &quot;SomeText&quot;, String.class);\n}\n</code></pre>\n<p>The first request works fine, the log is well displayed. However, on the second case, i get the following error</p>\n<blockquote>\n<p>HttpMessageNotReadableException: Required request body is missing:\npublic org.springframework.http.ResponseEntity&lt;java.lang.String&gt;\ncom.thales.atm.thmi.microservice.CanvasController.deleteGraphicObject2(java.lang.String)]</p>\n</blockquote>\n<p>I use the module spring-boot-starter-web of spring boot (v2.7.1 on my project).</p>\n<p>Can someone explain me what's wrong in my ussage of body parameters for this delete request ?</p>\n<p>Thanks!</p>\n"},{"tags":["java","string","algorithm","cp"],"answers":[{"tags":[],"owner":{"account_id":6402640,"reputation":17528,"user_id":4964822,"display_name":"nice_dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659611730,"creation_date":1659611730,"answer_id":73234942,"question_id":73224093,"body_markdown":"**Issue:**\r\n\r\n    if(s1.length()&gt;=s2.length()){\r\n       res = s1;\r\n    }else{\r\n       res = s2;\r\n    }\r\n\r\nIssue is with the above snippet. You assign either of the value to `res` regardless of whether it will give you the _longest palindrome candidate_ or not. In other words, you are overwriting `res` each time without having additional checks for it&#39;s length since we need to find the _longest_. \r\n\r\n**Solution:**\r\n\r\nYou can do the below to fix it:\r\n\r\n    public String longestPalindrome(String s) {        \r\n    \tString res = &quot;&quot;;    \r\n    \tfor(int i = 0; i &lt; s.length(); i++){\r\n    \t    String s1 = expandFromCentre(s, i, i); // aba            \r\n    \t    String s2 = expandFromCentre(s, i, i+1);  //abba\r\n    \t    \r\n    \t    if(res.length() &lt; s1.length()){\r\n    \t        res = s1;\r\n    \t    }\r\n    \t    \r\n    \t    if(res.length() &lt; s2.length()){\r\n    \t        res = s2;\r\n    \t    }        \r\n    \t}                \r\n    \treturn res;        \r\n    }","title":"Longest Palindromic Substring using expandfromcenter approach","body":"<p><strong>Issue:</strong></p>\n<pre><code>if(s1.length()&gt;=s2.length()){\n   res = s1;\n}else{\n   res = s2;\n}\n</code></pre>\n<p>Issue is with the above snippet. You assign either of the value to <code>res</code> regardless of whether it will give you the <em>longest palindrome candidate</em> or not. In other words, you are overwriting <code>res</code> each time without having additional checks for it's length since we need to find the <em>longest</em>.</p>\n<p><strong>Solution:</strong></p>\n<p>You can do the below to fix it:</p>\n<pre><code>public String longestPalindrome(String s) {        \n    String res = &quot;&quot;;    \n    for(int i = 0; i &lt; s.length(); i++){\n        String s1 = expandFromCentre(s, i, i); // aba            \n        String s2 = expandFromCentre(s, i, i+1);  //abba\n        \n        if(res.length() &lt; s1.length()){\n            res = s1;\n        }\n        \n        if(res.length() &lt; s2.length()){\n            res = s2;\n        }        \n    }                \n    return res;        \n}\n</code></pre>\n"}],"owner":{"account_id":25736959,"reputation":21,"user_id":19491527,"display_name":"panda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659613691,"creation_date":1659541199,"question_id":73224093,"body_markdown":"I am trying to do Leetcode **Longest Palindromic Substring** with expandfromCentre approach, but instead of returning the length in the function as most of the solutions did, I tried returning the string itself. I think it should work... I don&#39;t know what&#39;s causing the error.\r\n\r\n\r\n    class Solution {\r\n        public String longestPalindrome(String s) {\r\n            int n = s.length();\r\n            int maxLength = 1;\r\n            \r\n            String res = Character.toString(s.charAt(0));\r\n            \r\n            int start=0; int end=0;\r\n            \r\n            for(int i=0; i&lt;n; i++){\r\n                String s1 = expandFromCentre(s, i, i); // aba            \r\n                String s2 = expandFromCentre(s, i, i+1);  //abba\r\n                \r\n                if(s1.length()&gt;=s2.length()){\r\n                    res = s1;\r\n                }\r\n                else{\r\n                    res = s2;\r\n                }\r\n            \r\n            }                \r\n            return res;\r\n            \r\n        }\r\n        \r\n        static String expandFromCentre(String s, int left, int right){\r\n            int n = s.length();\r\n            \r\n            while(left&gt;=0 &amp;&amp; right&lt;n &amp;&amp; s.charAt(left)==s.charAt(right) ){\r\n                left--;\r\n                right++;\r\n            }\r\n       \r\n            return s.substring(left+1, right);\r\n            \r\n        }\r\n    }","title":"Longest Palindromic Substring using expandfromcenter approach","body":"<p>I am trying to do Leetcode <strong>Longest Palindromic Substring</strong> with expandfromCentre approach, but instead of returning the length in the function as most of the solutions did, I tried returning the string itself. I think it should work... I don't know what's causing the error.</p>\n<pre><code>class Solution {\n    public String longestPalindrome(String s) {\n        int n = s.length();\n        int maxLength = 1;\n        \n        String res = Character.toString(s.charAt(0));\n        \n        int start=0; int end=0;\n        \n        for(int i=0; i&lt;n; i++){\n            String s1 = expandFromCentre(s, i, i); // aba            \n            String s2 = expandFromCentre(s, i, i+1);  //abba\n            \n            if(s1.length()&gt;=s2.length()){\n                res = s1;\n            }\n            else{\n                res = s2;\n            }\n        \n        }                \n        return res;\n        \n    }\n    \n    static String expandFromCentre(String s, int left, int right){\n        int n = s.length();\n        \n        while(left&gt;=0 &amp;&amp; right&lt;n &amp;&amp; s.charAt(left)==s.charAt(right) ){\n            left--;\n            right++;\n        }\n   \n        return s.substring(left+1, right);\n        \n    }\n}\n</code></pre>\n"},{"tags":["java","optaplanner"],"answers":[{"tags":[],"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225;š Petrovick&#253;"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659442941,"creation_date":1659376752,"answer_id":73197783,"question_id":73196378,"body_markdown":"You should write a constraint which penalizes empty vehicles, and give it sufficient weight. Such a constraint could look like this, in theory:\r\n\r\n    constraintFactory.forEach(Transport.class)\r\n        .filter(transport -&gt; transport.isEmpty())\r\n        .penalize(&quot;Empty vehicle&quot;, HardSoftScore.ONE_SOFT, \r\n            transport -&gt; Math.pow(transport.countEmptySeats(), 2))\r\n\r\nDo note that:\r\n- The constraint weight is soft. You may want to consider making this a hard constraint, if this is of an utmost importance.\r\n- The match weight is based on the number of empty seats, and it grows quickly. This is important - if a vehicle has more empty seats, it will incur a larger penalty, the assumption being that bigger vehicles are more expensive to run. You may find a different way of factoring that in.\r\n\r\nHowever, I believe that your model above is broken. As far as I know, `PlanningListVariable` can not be used as any other collection. It is specifically designed to model a chain - for example, the list would represent a route of a vehicle, each item one stop on the route. The list defines a precedence relationship, where your model has none. Have you seen this actually work at runtime? (I&#39;d be surprised if it did, but it is possible that I do not yet fully understand this new and as of yet undocumented feature.)\r\n\r\nI can think of two ways of modelling the problem, each with its own pros and cons:\r\n\r\n- Have one planning entity per seat in a transport. Make that entity&#39;s variable (the employee) nullable. And then write a constraint which penalizes vehicles per empty seats.\r\n\r\n- Have employee be the entity, and assign transports to them. If a transport has no employees, it gets a penalty. If a transport has more employees than seats, it gets a (very) hard penalty.\r\n\r\nI&#39;d probably prefer the latter, as I foresee it will lead to less struggle further down the line.","title":"How to choose a car and optimally accommodate passengers in it?","body":"<p>You should write a constraint which penalizes empty vehicles, and give it sufficient weight. Such a constraint could look like this, in theory:</p>\n<pre><code>constraintFactory.forEach(Transport.class)\n    .filter(transport -&gt; transport.isEmpty())\n    .penalize(&quot;Empty vehicle&quot;, HardSoftScore.ONE_SOFT, \n        transport -&gt; Math.pow(transport.countEmptySeats(), 2))\n</code></pre>\n<p>Do note that:</p>\n<ul>\n<li>The constraint weight is soft. You may want to consider making this a hard constraint, if this is of an utmost importance.</li>\n<li>The match weight is based on the number of empty seats, and it grows quickly. This is important - if a vehicle has more empty seats, it will incur a larger penalty, the assumption being that bigger vehicles are more expensive to run. You may find a different way of factoring that in.</li>\n</ul>\n<p>However, I believe that your model above is broken. As far as I know, <code>PlanningListVariable</code> can not be used as any other collection. It is specifically designed to model a chain - for example, the list would represent a route of a vehicle, each item one stop on the route. The list defines a precedence relationship, where your model has none. Have you seen this actually work at runtime? (I'd be surprised if it did, but it is possible that I do not yet fully understand this new and as of yet undocumented feature.)</p>\n<p>I can think of two ways of modelling the problem, each with its own pros and cons:</p>\n<ul>\n<li><p>Have one planning entity per seat in a transport. Make that entity's variable (the employee) nullable. And then write a constraint which penalizes vehicles per empty seats.</p>\n</li>\n<li><p>Have employee be the entity, and assign transports to them. If a transport has no employees, it gets a penalty. If a transport has more employees than seats, it gets a (very) hard penalty.</p>\n</li>\n</ul>\n<p>I'd probably prefer the latter, as I foresee it will lead to less struggle further down the line.</p>\n"}],"owner":{"account_id":25648217,"reputation":65,"user_id":19415969,"display_name":"Scott A. Levinson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1659613184,"creation_date":1659368970,"question_id":73196378,"body_markdown":"Based on my previous question [How to choose a vehicle that can accommodate the specified number of employees with OptaPlanner?][1]\r\n\r\nEmployee:\r\n```java\r\npublic class Employee {\r\n\r\n    @PlanningId\r\n    private Long id;\r\n\r\n    private String name;\r\n\r\n    @PlanningVariable(valueRangeProviderRefs = &quot;transportRange&quot;)\r\n    private Transport transport;\r\n}\r\n```\r\nTransport:\r\n```java\r\n@PlanningEntity\r\npublic class Transport {\r\n\r\n    @PlanningId\r\n    private Long id;\r\n    private Integer capacity;\r\n\r\n    @PlanningListVariable(valueRangeProviderRefs = &quot;employeeRange&quot;)\r\n    private List&lt;Employee&gt; employeeList = new ArrayList&lt;&gt;();\r\n\r\n    public int countEmptySeats() {\r\n        return seatsNumber - inspectors.size();\r\n    }\r\n    \r\n}\r\n\r\n```\r\n\r\n```java\r\n@PlanningEntity\r\nclass Transport {\r\n\r\n\t@PlanningId\r\n    Long id;\r\n\t\r\n\t@InverseRelationShadowVariable(sourceVariableName = &quot;transport&quot;)\r\n    List&lt;Employee&gt; employees = new ArrayList&lt;&gt;();\r\n}\r\n```\r\n\r\n\r\nSolution:\r\n```java\r\n@PlanningSolution\r\npublic class Solution {\r\n\r\n    @PlanningEntityCollectionProperty\r\n    private List&lt;Transport&gt; transports;\r\n\r\n    @ProblemFactCollectionProperty\r\n    @ValueRangeProvider(id = &quot;employeeRange&quot;)\r\n    private List&lt;Employee&gt; employees;\r\n\r\n    @PlanningScore\r\n    private HardMediumSoftLongScore score;\r\n\r\n    public Plan(List&lt;Transport&gt; transports, List&lt;Employee&gt; employees) {\r\n        this.transports = transports;\r\n        this.employees = employees;\r\n    }\r\n}\r\n\r\n```\r\n\r\nConstraints:\r\n```java\r\nprivate Constraint transportMaxCapacity(ConstraintFactory factory) {\r\nreturn factory.forEach(Transport.class)\r\n        .filter(transport -&gt; transport.getEmployees().size() &gt; transport.getCapacity())\r\n        .penalizeLong(&quot;max capacity conflict&quot;,\r\n                HardMediumSoftLongScore.ONE_HARD, transport -&gt; transport.getEmployees().size() - transport.getCapacity());\r\n}\r\n\r\nprivate Constraint transportCapacity(ConstraintFactory factory) {\r\nreturn factory.forEach(Transport.class)\r\n        .filter(transport -&gt; !transport.getEmployees().isEmpty())\r\n        .filter(transport -&gt; transport.getEmployees().size() &lt; transport.getCapacity())\r\n        .penalizeLong(&quot;optimal placement conflict&quot;,\r\n                HardMediumSoftLongScore.ONE_SOFT, transport -&gt; transport.getCapacity() - transport.getInspectorList().size());\r\n}\r\n\r\nprivate Constraint optimalVehicleConflict(ConstraintFactory factory) {\r\n        return factory.forEach(Transport.class)\r\n                .filter(transport -&gt; transport.getEmployees().isEmpty())\r\n                .penalize(&quot;Empty transport&quot;, HardMediumSoftLongScore.ONE_SOFT, vehicle -&gt; (int) Math.pow(transport.countEmptySeats(), 2));\r\n    }\r\n```\r\n**The problem:** When I have vehicle with capacities: 17, 6, 2, 2, 2 and 6 passengers then as a result I get 3 vehicles with 2 passengers instead of 1 vehicle with capacity 6.\r\n\r\n\r\n\r\n```\r\n+---------+-----------+\r\n| vehicle | employees |\r\n+---------+-----------+\r\n|      17 |         - |\r\n|       6 |         - |\r\n|       2 |         2 |\r\n|       2 |         2 |\r\n|       2 |         2 |\r\n+---------+-----------+\r\n```\r\nHow I can solve this problem? Thanks in advance!\r\n\r\n  [1]: https://stackoverflow.com/questions/73105237/how-to-choose-a-vehicle-that-can-accommodate-the-specified-number-of-employees-w","title":"How to choose a car and optimally accommodate passengers in it?","body":"<p>Based on my previous question <a href=\"https://stackoverflow.com/questions/73105237/how-to-choose-a-vehicle-that-can-accommodate-the-specified-number-of-employees-w\">How to choose a vehicle that can accommodate the specified number of employees with OptaPlanner?</a></p>\n<p>Employee:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Employee {\n\n    @PlanningId\n    private Long id;\n\n    private String name;\n\n    @PlanningVariable(valueRangeProviderRefs = &quot;transportRange&quot;)\n    private Transport transport;\n}\n</code></pre>\n<p>Transport:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PlanningEntity\npublic class Transport {\n\n    @PlanningId\n    private Long id;\n    private Integer capacity;\n\n    @PlanningListVariable(valueRangeProviderRefs = &quot;employeeRange&quot;)\n    private List&lt;Employee&gt; employeeList = new ArrayList&lt;&gt;();\n\n    public int countEmptySeats() {\n        return seatsNumber - inspectors.size();\n    }\n    \n}\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@PlanningEntity\nclass Transport {\n\n    @PlanningId\n    Long id;\n    \n    @InverseRelationShadowVariable(sourceVariableName = &quot;transport&quot;)\n    List&lt;Employee&gt; employees = new ArrayList&lt;&gt;();\n}\n</code></pre>\n<p>Solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PlanningSolution\npublic class Solution {\n\n    @PlanningEntityCollectionProperty\n    private List&lt;Transport&gt; transports;\n\n    @ProblemFactCollectionProperty\n    @ValueRangeProvider(id = &quot;employeeRange&quot;)\n    private List&lt;Employee&gt; employees;\n\n    @PlanningScore\n    private HardMediumSoftLongScore score;\n\n    public Plan(List&lt;Transport&gt; transports, List&lt;Employee&gt; employees) {\n        this.transports = transports;\n        this.employees = employees;\n    }\n}\n\n</code></pre>\n<p>Constraints:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Constraint transportMaxCapacity(ConstraintFactory factory) {\nreturn factory.forEach(Transport.class)\n        .filter(transport -&gt; transport.getEmployees().size() &gt; transport.getCapacity())\n        .penalizeLong(&quot;max capacity conflict&quot;,\n                HardMediumSoftLongScore.ONE_HARD, transport -&gt; transport.getEmployees().size() - transport.getCapacity());\n}\n\nprivate Constraint transportCapacity(ConstraintFactory factory) {\nreturn factory.forEach(Transport.class)\n        .filter(transport -&gt; !transport.getEmployees().isEmpty())\n        .filter(transport -&gt; transport.getEmployees().size() &lt; transport.getCapacity())\n        .penalizeLong(&quot;optimal placement conflict&quot;,\n                HardMediumSoftLongScore.ONE_SOFT, transport -&gt; transport.getCapacity() - transport.getInspectorList().size());\n}\n\nprivate Constraint optimalVehicleConflict(ConstraintFactory factory) {\n        return factory.forEach(Transport.class)\n                .filter(transport -&gt; transport.getEmployees().isEmpty())\n                .penalize(&quot;Empty transport&quot;, HardMediumSoftLongScore.ONE_SOFT, vehicle -&gt; (int) Math.pow(transport.countEmptySeats(), 2));\n    }\n</code></pre>\n<p><strong>The problem:</strong> When I have vehicle with capacities: 17, 6, 2, 2, 2 and 6 passengers then as a result I get 3 vehicles with 2 passengers instead of 1 vehicle with capacity 6.</p>\n<pre><code>+---------+-----------+\n| vehicle | employees |\n+---------+-----------+\n|      17 |         - |\n|       6 |         - |\n|       2 |         2 |\n|       2 |         2 |\n|       2 |         2 |\n+---------+-----------+\n</code></pre>\n<p>How I can solve this problem? Thanks in advance!</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8859,"page":1133,"page_size":100}
